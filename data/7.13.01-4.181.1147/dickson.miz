:: Dickson's lemma
::  by Gilbert Lee and Piotr Rudnicki
::
:: Received March 12, 2002
:: Copyright (c) 2002-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FUNCT_1, RELAT_1, FUNCOP_1, NAT_1, TARSKI, ARYTM_3, XBOOLE_0,
      SUBSET_1, NUMBERS, XXREAL_0, FINSET_1, CARD_1, ORDERS_2, REARRAN1,
      RELAT_2, STRUCT_0, WELLORD1, WAYBEL_4, WAYBEL20, EQREL_1, ORDERS_1,
      ZFMISC_1, WELLFND1, SETFAM_1, VALUED_0, ORDINAL2, MCART_1, CAT_1,
      YELLOW_1, PBOOLE, CARD_3, RLVECT_2, YELLOW_6, WAYBEL_3, FUNCT_4,
      YELLOW_3, DICKSON;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, RELAT_1, FUNCT_1,
      PBOOLE, RELSET_1, XXREAL_2, SEQ_4, PARTFUN1, FUNCT_2, CARD_3, ORDINAL1,
      NAT_1, STRUCT_0, RELAT_2, XXREAL_0, FUNCT_4, FUNCOP_1, DOMAIN_1,
      FINSET_1, XTUPLE_0, MCART_1, WELLORD1, ORDERS_2, ORDERS_1, EQREL_1,
      WELLFND1, WAYBEL_0, CARD_1, NUMBERS, WAYBEL_4, VALUED_0, PRALG_1,
      YELLOW_3, WAYBEL_1, YELLOW_1, WAYBEL_3, YELLOW_6;
 constructors WELLORD1, DOMAIN_1, PRALG_1, ORDERS_3, WAYBEL_1, YELLOW_3,
      WAYBEL_3, WAYBEL_4, WELLFND1, SEQ_4, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, PARTFUN1, FUNCT_2,
      FUNCOP_1, FINSET_1, XXREAL_0, NAT_1, MEMBERED, EQREL_1, PRE_CIRC,
      STRUCT_0, ORDERS_2, YELLOW_1, YELLOW_3, WAYBEL18, WAYBEL_3, VALUED_0,
      CARD_1, XXREAL_2, CARD_3, ZFMISC_1, RELSET_1, XTUPLE_0;
 requirements BOOLE, SUBSET, NUMERALS;
 definitions TARSKI, RELAT_2, ORDERS_2, ORDERS_1, FUNCOP_1, XTUPLE_0;
 theorems WELLORD1, ORDERS_1, SUBSET_1, TARSKI, RELAT_1, RELAT_2, RELSET_1,
      ZFMISC_1, EQREL_1, WAYBEL_0, ORDERS_2, NAT_1, FUNCT_1, FUNCT_2, CARD_2,
      CARD_1, NORMSP_1, SEQM_3, FINSET_1, AXIOMS, YELLOW_3, WAYBEL_1, WAYBEL20,
      YELLOW_1, CARD_3, FUNCOP_1, WAYBEL_3, MCART_1, FUNCT_4, WELLFND1,
      WAYBEL_4, PRALG_1, YELLOW_6, AFINSQ_1, XBOOLE_0, XBOOLE_1, PARTFUN1,
      XXREAL_0, ORDINAL1, XXREAL_2, VALUED_0, XTUPLE_0;
 schemes PRE_CIRC, RECDEF_1, NAT_1, FUNCT_2, DOMAIN_1, FRAENKEL, FINSEQ_1,
      FUNCT_1, RELSET_1;

begin
theorem
L1: (for B1 being Function holds (for B2 being set holds (( dom B1 ) = { B2 } implies B1 = ( B2 .--> ( B1 . B2 ) ))))
proof
let C1 being Function;
let C2 being set;
assume that
L2: ( dom C1 ) = { C2 };
L3:
now
let C3 , C4 being set;
L4: ( dom ( C2 .--> ( C1 . C2 ) ) ) = { C2 } by FUNCOP_1:13;
thus L5:now
assume L6: [ C3 , C4 ] in C1;
L7: C3 in { C2 } by L6 , L2 , FUNCT_1:1;
L8: C3 = C2 by L7 , TARSKI:def 1;
L9: C4 = ( C1 . C2 ) by L8 , L6 , FUNCT_1:1;
L10: ( ( C2 .--> ( C1 . C2 ) ) . C3 ) = C4 by L9 , L8 , FUNCOP_1:72;
thus L11: [ C3 , C4 ] in ( C2 .--> ( C1 . C2 ) ) by L10 , L4 , L7 , FUNCT_1:1;
end;
assume L12: [ C3 , C4 ] in ( C2 .--> ( C1 . C2 ) );
L13: C3 in { C2 } by L12 , L4 , FUNCT_1:1;
L14: C3 = C2 by L13 , TARSKI:def 1;
L15: C4 = ( ( C2 .--> ( C1 . C2 ) ) . C3 ) by L12 , FUNCT_1:1
.= ( C1 . C3 ) by L14 , FUNCOP_1:72;
thus L16: [ C3 , C4 ] in C1 by L15 , L2 , L13 , FUNCT_1:1;
end;
thus L17: thesis by L3 , RELAT_1:def 2;
end;
theorem
L18: (for B3 being Nat holds B3 c= ( B3 + 1 ))
proof
let C5 being Nat;
L19: ( C5 + 1 ) = ( C5 \/ { C5 } ) by AFINSQ_1:2;
thus L20: thesis by L19 , XBOOLE_1:7;
end;
scheme FinSegRng2 { F1 , F2() -> (Element of ( NAT )) , F3(set) -> set , P1[set] } : { F3(B4) where B4 is (Element of ( NAT )) : (F1() < B4 & B4 <= F2() & P1[ B4 ]) } is  finite
proof
set D1 = { F3(B5) where B5 is (Element of ( NAT )) : (F1() <= B5 & B5 <= F2() & P1[ B5 ]) };
set D2 = { F3(B6) where B6 is (Element of ( NAT )) : (F1() < B6 & B6 <= F2() & P1[ B6 ]) };
L21: D1 is  finite from FINSEQ_1:sch 6;
L22: D2 c= D1
proof
let C6 being set;
assume L23: C6 in D2;
L24: (ex B7 being (Element of ( NAT )) st (F3(B7) = C6 & F1() < B7 & B7 <= F2() & P1[ B7 ])) by L23;
thus L25: thesis by L24;
end;
thus L26: thesis by L22 , L21;
end;
theorem
L27: (for B8 being  infinite set holds (ex B9 being (Function of ( NAT ) , B8) st B9 is  one-to-one))
proof
let C7 being  infinite set;
L28: ( card ( NAT ) ) c= ( card C7 ) by CARD_1:47 , CARD_3:85;
consider C8 being Function such that L29: C8 is  one-to-one and L30: ( dom C8 ) = ( NAT ) and L31: ( rng C8 ) c= C7 by L28 , CARD_1:10;
L32:
now
let C9 being set;
assume L33: C9 in ( NAT );
L34: ( C8 . C9 ) in ( rng C8 ) by L33 , L30 , FUNCT_1:3;
thus L35: ( C8 . C9 ) in C7 by L34 , L31;
end;
reconsider D3 = C8 as (Function of ( NAT ) , C7) by L32 , L30 , FUNCT_2:3;
take D3;
thus L36: thesis by L29;
end;
definition
let C10 being RelStr;
let C11 being (sequence of C10);
attr C11 is  ascending
means
(for B10 being (Element of ( NAT )) holds (( C11 . ( B10 + 1 ) ) <> ( C11 . B10 ) & [ ( C11 . B10 ) , ( C11 . ( B10 + 1 ) ) ] in (the InternalRel of C10)));
end;
definition
let C12 being RelStr;
let C13 being (sequence of C12);
attr C13 is  weakly-ascending
means
:L38: (for B11 being (Element of ( NAT )) holds [ ( C13 . B11 ) , ( C13 . ( B11 + 1 ) ) ] in (the InternalRel of C12));
end;
theorem
L40: (for B12 being non  empty  transitive RelStr holds (for B13 being (sequence of B12) holds (B13 is  weakly-ascending implies (for B14 , B15 being (Element of ( NAT )) holds (B14 < B15 implies ( B13 . B14 ) <= ( B13 . B15 ))))))
proof
let C14 being non  empty  transitive RelStr;
let C15 being (sequence of C14);
assume that
L41: C15 is  weakly-ascending;
let C16 being (Element of ( NAT ));
defpred S1[ (Element of ( NAT )) ] means (C16 < $1 implies ( C15 . C16 ) <= ( C15 . $1 ));
L42: S1[ ( 0 ) ] by NAT_1:2;
L43: (for B16 being (Element of ( NAT )) holds (S1[ B16 ] implies S1[ ( B16 + 1 ) ]))
proof
let C17 being (Element of ( NAT ));
assume that
L44: S1[ C17 ]
and
L45: C16 < ( C17 + 1 );
reconsider D4 = ( C15 . ( C17 + 1 ) ) as (Element of C14);
L46: [ ( C15 . C17 ) , ( C15 . ( C17 + 1 ) ) ] in (the InternalRel of C14) by L41 , L38;
L47: ( C15 . C17 ) <= D4 by L46 , ORDERS_2:def 5;
L48: C16 <= C17 by L45 , NAT_1:13;
per cases  by L48 , XXREAL_0:1;
suppose L49: C16 < C17;

thus L50: thesis by L49 , L44 , L47 , ORDERS_2:3;
end;
suppose L51: C16 = C17;

thus L52: thesis by L51 , L46 , ORDERS_2:def 5;
end;
end;
thus L54: (for B17 being (Element of ( NAT )) holds S1[ B17 ]) from NAT_1:sch 1(L42 , L43);
end;
theorem
L55: (for B18 being non  empty RelStr holds (B18 is  connected iff (the InternalRel of B18) is_strongly_connected_in (the carrier of B18)))
proof
let C18 being non  empty RelStr;
set D5 = (the InternalRel of C18);
set D6 = (the carrier of C18);
thus L56:now
assume L57: C18 is  connected;
L58:
now
let C19 , C20 being set;
assume that
L59: C19 in D6
and
L60: C20 in D6;
reconsider D7 = C19 , D8 = C20 as (Element of C18) by L59 , L60;
L61: (D7 <= D8 or D8 <= D7) by L57 , WAYBEL_0:def 29;
thus L62: ([ C19 , C20 ] in D5 or [ C20 , C19 ] in D5) by L61 , ORDERS_2:def 5;
end;
thus L63: D5 is_strongly_connected_in D6 by L58 , RELAT_2:def 7;
end;
assume L64: D5 is_strongly_connected_in D6;
L65:
now
let C21 , C22 being (Element of C18);
L66: ([ C21 , C22 ] in D5 or [ C22 , C21 ] in D5) by L64 , RELAT_2:def 7;
thus L67: (C21 <= C22 or C22 <= C21) by L66 , ORDERS_2:def 5;
end;
thus L68: thesis by L65 , WAYBEL_0:def 29;
end;
theorem
L69: (for B19 being RelStr holds (for B20 being set holds (for B21 being set holds ((( (the InternalRel of B19) -Seg B21 ) misses B20 & B21 in B20) iff B21 is_minimal_wrt B20 , (the InternalRel of B19)))))
proof
let C23 being RelStr;
let C24 being set;
let C25 being set;
set D9 = (the InternalRel of C23);
thus L70:now
assume that
L71: ( D9 -Seg C25 ) misses C24
and
L72: C25 in C24;
L73: ( ( D9 -Seg C25 ) /\ C24 ) = ( {} ) by L71 , XBOOLE_0:def 7;
L74:
now
assume L75: (ex B22 being set st (B22 in C24 & B22 <> C25 & [ B22 , C25 ] in D9));
consider C26 being set such that L76: C26 in C24 and L77: C26 <> C25 and L78: [ C26 , C25 ] in D9 by L75;
L79: C26 in ( D9 -Seg C25 ) by L77 , L78 , WELLORD1:1;
thus L80: contradiction by L79 , L73 , L76 , XBOOLE_0:def 4;
end;
thus L81: C25 is_minimal_wrt C24 , D9 by L74 , L72 , WAYBEL_4:def 25;
end;
assume L82: C25 is_minimal_wrt C24 , D9;
L83:
now
assume L84: (not ( D9 -Seg C25 ) misses C24);
L85: ( ( D9 -Seg C25 ) /\ C24 ) <> ( {} ) by L84 , XBOOLE_0:def 7;
consider C27 being set such that L86: C27 in ( ( D9 -Seg C25 ) /\ C24 ) by L85 , XBOOLE_0:def 1;
L87: C27 in ( D9 -Seg C25 ) by L86 , XBOOLE_0:def 4;
L88: C27 in C24 by L86 , XBOOLE_0:def 4;
L89: C27 <> C25 by L87 , WELLORD1:1;
L90: [ C27 , C25 ] in D9 by L87 , WELLORD1:1;
thus L91: contradiction by L90 , L82 , L88 , L89 , WAYBEL_4:def 25;
end;
thus L92: ( D9 -Seg C25 ) misses C24 by L83;
thus L93: thesis by L82 , WAYBEL_4:def 25;
end;
theorem
L94: (for B23 being non  empty  transitive  antisymmetric RelStr holds (for B24 being (Element of B23) holds (for B25 , B26 being set holds (B25 is_minimal_wrt ( ( (the InternalRel of B23) -Seg B24 ) /\ B26 ) , (the InternalRel of B23) implies B25 is_minimal_wrt B26 , (the InternalRel of B23)))))
proof
let C28 being non  empty  transitive  antisymmetric RelStr;
let C29 being (Element of C28);
let C30 , C31 being set;
assume that
L95: C30 is_minimal_wrt ( ( (the InternalRel of C28) -Seg C29 ) /\ C31 ) , (the InternalRel of C28);
set D10 = (the InternalRel of C28);
set D11 = (the carrier of C28);
L96: D10 is_transitive_in D11 by ORDERS_2:def 3;
L97:
now
L98: C30 in ( ( D10 -Seg C29 ) /\ C31 ) by L95 , WAYBEL_4:def 25;
L99: C30 in ( D10 -Seg C29 ) by L98 , XBOOLE_0:def 4;
L100: C30 <> C29 by L99 , WELLORD1:1;
L101: [ C30 , C29 ] in D10 by L99 , WELLORD1:1;
reconsider D12 = C30 as (Element of C28) by L101 , ZFMISC_1:87;
thus L102: C30 in C31 by L98 , XBOOLE_0:def 4;
L103:
now
assume L104: (ex B27 being set st (B27 in C31 & B27 <> C30 & [ B27 , C30 ] in D10));
consider C32 being set such that L105: C32 in C31 and L106: C32 <> C30 and L107: [ C32 , C30 ] in D10 by L104;
L108: C30 in D11 by L107 , ZFMISC_1:87;
L109: C32 in D11 by L107 , ZFMISC_1:87;
L110: [ C32 , C29 ] in D10 by L109 , L96 , L101 , L107 , L108 , RELAT_2:def 8;
per cases ;
suppose L111: C29 = C32;

L112: C29 <= D12 by L111 , L107 , ORDERS_2:def 5;
L113: D12 <= C29 by L101 , ORDERS_2:def 5;
thus L114: contradiction by L113 , L100 , L112 , ORDERS_2:2;
end;
suppose L115: C29 <> C32;

L116: C32 in ( D10 -Seg C29 ) by L115 , L110 , WELLORD1:1;
L117: C32 in ( ( D10 -Seg C29 ) /\ C31 ) by L116 , L105 , XBOOLE_0:def 4;
thus L118: contradiction by L117 , L95 , L106 , L107 , WAYBEL_4:def 25;
end;
end;
thus L120: (not (ex B28 being set st (B28 in C31 & B28 <> C30 & [ B28 , C30 ] in D10))) by L103;
end;
thus L121: thesis by L97 , WAYBEL_4:def 25;
end;
begin
definition
let C33 being RelStr;
attr C33 is  quasi_ordered
means
:L122: C33 is  reflexive  transitive;
end;
definition
let C34 being RelStr;
assume that
L124: C34 is  quasi_ordered;
func EqRel C34 -> (Equivalence_Relation of (the carrier of C34)) equals 
:L125: ( (the InternalRel of C34) /\ ( (the InternalRel of C34) ~ ) );
coherence
proof
set D13 = (the InternalRel of C34);
set D14 = (the carrier of C34);
L126: C34 is  reflexive by L124 , L122;
L127: D13 is_reflexive_in D14 by L126 , ORDERS_2:def 2;
L128: C34 is  transitive by L124 , L122;
L129: D13 is_transitive_in D14 by L128 , ORDERS_2:def 3;
L130: D13 quasi_orders D14 by L129 , L127 , ORDERS_1:def 6;
L131: ( D13 /\ ( D13 ~ ) ) is_reflexive_in D14
proof
let C35 being set;
assume L132: C35 in D14;
L133: [ C35 , C35 ] in D13 by L132 , L127 , RELAT_2:def 1;
L134: [ C35 , C35 ] in ( D13 ~ ) by L133 , RELAT_1:def 7;
thus L135: thesis by L134 , L133 , XBOOLE_0:def 4;
end;
L136: ( dom ( D13 /\ ( D13 ~ ) ) ) = D14 by L131 , ORDERS_1:13;
L137: ( field ( D13 /\ ( D13 ~ ) ) ) = D14 by L131 , ORDERS_1:13;
L138: ( D13 /\ ( D13 ~ ) ) is_symmetric_in D14
proof
let C36 , C37 being set;
assume that
L139: C36 in D14
and
L140: C37 in D14
and
L141: [ C36 , C37 ] in ( D13 /\ ( D13 ~ ) );
L142: [ C36 , C37 ] in D13 by L141 , XBOOLE_0:def 4;
L143: [ C36 , C37 ] in ( D13 ~ ) by L141 , XBOOLE_0:def 4;
L144: [ C37 , C36 ] in ( D13 ~ ) by L142 , RELAT_1:def 7;
L145: [ C37 , C36 ] in D13 by L143 , RELAT_1:def 7;
thus L146: thesis by L145 , L144 , XBOOLE_0:def 4;
end;
L147: ( D13 /\ ( D13 ~ ) ) is_transitive_in D14
proof
let C38 , C39 , C40 being set;
assume that
L148: C38 in D14
and
L149: C39 in D14
and
L150: C40 in D14
and
L151: [ C38 , C39 ] in ( D13 /\ ( D13 ~ ) )
and
L152: [ C39 , C40 ] in ( D13 /\ ( D13 ~ ) );
L153: [ C38 , C39 ] in D13 by L151 , XBOOLE_0:def 4;
L154: [ C38 , C39 ] in ( D13 ~ ) by L151 , XBOOLE_0:def 4;
L155: [ C39 , C40 ] in D13 by L152 , XBOOLE_0:def 4;
L156: [ C39 , C40 ] in ( D13 ~ ) by L152 , XBOOLE_0:def 4;
L157: [ C38 , C40 ] in D13 by L129 , L148 , L149 , L150 , L153 , L155 , RELAT_2:def 8;
L158: ( D13 ~ ) quasi_orders D14 by L130 , ORDERS_1:40;
L159: ( D13 ~ ) is_transitive_in D14 by L158 , ORDERS_1:def 6;
L160: [ C38 , C40 ] in ( D13 ~ ) by L159 , L148 , L149 , L150 , L154 , L156 , RELAT_2:def 8;
thus L161: thesis by L160 , L157 , XBOOLE_0:def 4;
end;
thus L162: thesis by L147 , L136 , L137 , L138 , PARTFUN1:def 2 , RELAT_2:def 11 , RELAT_2:def 16;
end;
end;
theorem
L164: (for B29 being RelStr holds (for B30 , B31 being (Element of B29) holds (B29 is  quasi_ordered implies (B30 in ( Class (( EqRel B29 ) , B31) ) iff (B30 <= B31 & B31 <= B30)))))
proof
let C41 being RelStr;
let C42 , C43 being (Element of C41);
assume that
L165: C41 is  quasi_ordered;
set D15 = (the InternalRel of C41);
thus L166:now
assume L167: C42 in ( Class (( EqRel C41 ) , C43) );
L168: [ C42 , C43 ] in ( EqRel C41 ) by L167 , EQREL_1:19;
L169: [ C42 , C43 ] in ( D15 /\ ( D15 ~ ) ) by L168 , L165 , L125;
L170: [ C42 , C43 ] in D15 by L169 , XBOOLE_0:def 4;
L171: [ C42 , C43 ] in ( D15 ~ ) by L169 , XBOOLE_0:def 4;
thus L172: C42 <= C43 by L170 , ORDERS_2:def 5;
L173: [ C43 , C42 ] in D15 by L171 , RELAT_1:def 7;
thus L174: C43 <= C42 by L173 , ORDERS_2:def 5;
end;
assume that
L175: C42 <= C43
and
L176: C43 <= C42;
L177: [ C43 , C42 ] in D15 by L176 , ORDERS_2:def 5;
L178: [ C42 , C43 ] in D15 by L175 , ORDERS_2:def 5;
L179: [ C42 , C43 ] in ( D15 ~ ) by L177 , RELAT_1:def 7;
L180: [ C42 , C43 ] in ( D15 /\ ( D15 ~ ) ) by L179 , L178 , XBOOLE_0:def 4;
L181: [ C42 , C43 ] in ( EqRel C41 ) by L180 , L165 , L125;
thus L182: thesis by L181 , EQREL_1:19;
end;
definition
let C44 being RelStr;
func <=E C44 -> (Relation of ( Class ( EqRel C44 ) )) means 
:L183: (for B32 , B33 being set holds ([ B32 , B33 ] in it iff (ex B34 , B35 being (Element of C44) st (B32 = ( Class (( EqRel C44 ) , B34) ) & B33 = ( Class (( EqRel C44 ) , B35) ) & B34 <= B35))));
existence
proof
set D16 = (the InternalRel of C44);
set D17 = (the carrier of C44);
per cases ;
suppose L184: D17 = ( {} );

reconsider D18 = ( {} ) as (Relation of ( Class ( EqRel C44 ) )) by RELSET_1:12;
take D18;
let C45 , C46 being set;
thus L185: ([ C45 , C46 ] in D18 implies (ex B36 , B37 being (Element of C44) st (C45 = ( Class (( EqRel C44 ) , B36) ) & C46 = ( Class (( EqRel C44 ) , B37) ) & B36 <= B37)));
given C47 , C48 being (Element of C44) such that
L186: C45 = ( Class (( EqRel C44 ) , C47) )
and
L187: C46 = ( Class (( EqRel C44 ) , C48) )
and
L188: C47 <= C48;

L189: D16 = ( {} ) by L184;
thus L190: thesis by L189 , L188 , ORDERS_2:def 5;
end;
suppose L191: D17 is non  empty;

reconsider D19 = C44 as non  empty RelStr by L191;
set D20 = { [ ( Class (( EqRel C44 ) , B38) ) , ( Class (( EqRel C44 ) , B39) ) ] where B38 , B39 is (Element of D19) : B38 <= B39 };
set D21 = ( Class ( EqRel C44 ) );
L192: D20 c= [: D21 , D21 :]
proof
let C49 being set;
assume L193: C49 in D20;
consider C50 , C51 being (Element of D19) such that L194: C49 = [ ( Class (( EqRel C44 ) , C50) ) , ( Class (( EqRel C44 ) , C51) ) ] and L195: C50 <= C51 by L193;
L196: ( Class (( EqRel C44 ) , C50) ) in D21 by EQREL_1:def 3;
L197: ( Class (( EqRel C44 ) , C51) ) in D21 by EQREL_1:def 3;
thus L198: thesis by L197 , L194 , L196 , ZFMISC_1:def 2;
end;
reconsider D22 = D20 as (Relation of ( Class ( EqRel C44 ) )) by L192;
take D22;
let C52 , C53 being set;
thus L199:now
assume L200: [ C52 , C53 ] in D22;
consider C54 , C55 being (Element of C44) such that L201: [ C52 , C53 ] = [ ( Class (( EqRel C44 ) , C54) ) , ( Class (( EqRel C44 ) , C55) ) ] and L202: C54 <= C55 by L200;
reconsider D23 = C54 , D24 = C55 as (Element of C44);
take D25 = D23;
take D26 = D24;
thus L203: (C52 = ( Class (( EqRel C44 ) , D25) ) & C53 = ( Class (( EqRel C44 ) , D26) ) & D25 <= D26) by L201 , L202 , XTUPLE_0:1;
end;
given C56 , C57 being (Element of C44) such that
L204: C52 = ( Class (( EqRel C44 ) , C56) )
and
L205: C53 = ( Class (( EqRel C44 ) , C57) )
and
L206: C56 <= C57;

thus L207: thesis by L204 , L205 , L206;
end;
end;
uniqueness
proof
let C58 , C59 being (Relation of ( Class ( EqRel C44 ) ));
assume that
L209: (for B40 , B41 being set holds ([ B40 , B41 ] in C58 iff (ex B42 , B43 being (Element of C44) st (B40 = ( Class (( EqRel C44 ) , B42) ) & B41 = ( Class (( EqRel C44 ) , B43) ) & B42 <= B43))))
and
L210: (for B44 , B45 being set holds ([ B44 , B45 ] in C59 iff (ex B46 , B47 being (Element of C44) st (B44 = ( Class (( EqRel C44 ) , B46) ) & B45 = ( Class (( EqRel C44 ) , B47) ) & B46 <= B47))));
L211:
now
let C60 being set;
thus L212:now
assume L213: C60 in C58;
set D27 = ( Class ( EqRel C44 ) );
consider C61 , C62 being set such that L214: C61 in D27 and L215: C62 in D27 and L216: C60 = [ C61 , C62 ] by L213 , ZFMISC_1:def 2;
L217: (ex B48 , B49 being (Element of C44) st (C61 = ( Class (( EqRel C44 ) , B48) ) & C62 = ( Class (( EqRel C44 ) , B49) ) & B48 <= B49)) by L209 , L213 , L216;
thus L218: C60 in C59 by L217 , L210 , L216;
end;
assume L219: C60 in C59;
set D28 = ( Class ( EqRel C44 ) );
consider C63 , C64 being set such that L220: C63 in D28 and L221: C64 in D28 and L222: C60 = [ C63 , C64 ] by L219 , ZFMISC_1:def 2;
L223: (ex B50 , B51 being (Element of C44) st (C63 = ( Class (( EqRel C44 ) , B50) ) & C64 = ( Class (( EqRel C44 ) , B51) ) & B50 <= B51)) by L210 , L219 , L222;
thus L224: C60 in C58 by L223 , L209 , L222;
end;
thus L225: C58 = C59 by L211 , TARSKI:1;
end;
end;
theorem
L227: (for B52 being RelStr holds (B52 is  quasi_ordered implies ( <=E B52 ) partially_orders ( Class ( EqRel B52 ) )))
proof
let C65 being RelStr;
set D29 = (the carrier of C65);
set D30 = (the InternalRel of C65);
assume L228: C65 is  quasi_ordered;
L229: C65 is  transitive by L228 , L122;
L230: D30 is_transitive_in D29 by L229 , ORDERS_2:def 3;
thus L231: ( <=E C65 ) is_reflexive_in ( Class ( EqRel C65 ) )
proof
let C66 being set;
assume L232: C66 in ( Class ( EqRel C65 ) );
consider C67 being set such that L233: C67 in D29 and L234: C66 = ( Class (( EqRel C65 ) , C67) ) by L232 , EQREL_1:def 3;
L235: C65 is  reflexive by L228 , L122;
L236: D30 is_reflexive_in D29 by L235 , ORDERS_2:def 2;
L237: [ C67 , C67 ] in D30 by L236 , L233 , RELAT_2:def 1;
reconsider D31 = C67 as (Element of C65) by L233;
L238: D31 <= D31 by L237 , ORDERS_2:def 5;
thus L239: thesis by L238 , L234 , L183;
end;

thus L240: ( <=E C65 ) is_transitive_in ( Class ( EqRel C65 ) )
proof
let C68 , C69 , C70 being set;
assume that
L241: C68 in ( Class ( EqRel C65 ) )
and
L242: C69 in ( Class ( EqRel C65 ) )
and
L243: C70 in ( Class ( EqRel C65 ) )
and
L244: [ C68 , C69 ] in ( <=E C65 )
and
L245: [ C69 , C70 ] in ( <=E C65 );
consider C71 , C72 being (Element of C65) such that L246: C68 = ( Class (( EqRel C65 ) , C71) ) and L247: C69 = ( Class (( EqRel C65 ) , C72) ) and L248: C71 <= C72 by L244 , L183;
consider C73 , C74 being (Element of C65) such that L249: C69 = ( Class (( EqRel C65 ) , C73) ) and L250: C70 = ( Class (( EqRel C65 ) , C74) ) and L251: C73 <= C74 by L245 , L183;
L252: [ C71 , C72 ] in D30 by L248 , ORDERS_2:def 5;
L253: [ C73 , C74 ] in D30 by L251 , ORDERS_2:def 5;
L254: (ex B53 being set st (B53 in D29 & C68 = ( Class (( EqRel C65 ) , B53) ))) by L241 , EQREL_1:def 3;
L255: C72 in ( Class (( EqRel C65 ) , C73) ) by L254 , L247 , L249 , EQREL_1:23;
L256: [ C72 , C73 ] in ( EqRel C65 ) by L255 , EQREL_1:19;
L257: [ C72 , C73 ] in ( D30 /\ ( D30 ~ ) ) by L256 , L228 , L125;
L258: [ C72 , C73 ] in D30 by L257 , XBOOLE_0:def 4;
L259: [ C71 , C73 ] in D30 by L258 , L230 , L252 , L254 , RELAT_2:def 8;
L260: [ C71 , C74 ] in D30 by L259 , L230 , L253 , L254 , RELAT_2:def 8;
L261: C71 <= C74 by L260 , ORDERS_2:def 5;
thus L262: thesis by L261 , L246 , L250 , L183;
end;

thus L263: ( <=E C65 ) is_antisymmetric_in ( Class ( EqRel C65 ) )
proof
let C75 , C76 being set;
assume that
L264: C75 in ( Class ( EqRel C65 ) )
and
L265: C76 in ( Class ( EqRel C65 ) )
and
L266: [ C75 , C76 ] in ( <=E C65 )
and
L267: [ C76 , C75 ] in ( <=E C65 );
consider C77 , C78 being (Element of C65) such that L268: C75 = ( Class (( EqRel C65 ) , C77) ) and L269: C76 = ( Class (( EqRel C65 ) , C78) ) and L270: C77 <= C78 by L266 , L183;
consider C79 , C80 being (Element of C65) such that L271: C76 = ( Class (( EqRel C65 ) , C79) ) and L272: C75 = ( Class (( EqRel C65 ) , C80) ) and L273: C79 <= C80 by L267 , L183;
L274: [ C77 , C78 ] in D30 by L270 , ORDERS_2:def 5;
L275: [ C79 , C80 ] in D30 by L273 , ORDERS_2:def 5;
L276: (ex B54 being set st (B54 in D29 & C75 = ( Class (( EqRel C65 ) , B54) ))) by L264 , EQREL_1:def 3;
L277: C80 in ( Class (( EqRel C65 ) , C77) ) by L276 , L268 , L272 , EQREL_1:23;
L278: C77 in ( Class (( EqRel C65 ) , C77) ) by L276 , EQREL_1:20;
L279: [ C77 , C80 ] in ( EqRel C65 ) by L278 , L277 , EQREL_1:22;
L280: C79 in ( Class (( EqRel C65 ) , C78) ) by L269 , L271 , L276 , EQREL_1:23;
L281: C78 in ( Class (( EqRel C65 ) , C78) ) by L276 , EQREL_1:20;
L282: [ C78 , C79 ] in ( EqRel C65 ) by L281 , L280 , EQREL_1:22;
L283: [ C77 , C80 ] in ( D30 /\ ( D30 ~ ) ) by L228 , L279 , L125;
L284: [ C77 , C80 ] in ( D30 ~ ) by L283 , XBOOLE_0:def 4;
L285: [ C80 , C77 ] in D30 by L284 , RELAT_1:def 7;
L286: [ C78 , C79 ] in ( D30 /\ ( D30 ~ ) ) by L228 , L282 , L125;
L287: [ C78 , C79 ] in D30 by L286 , XBOOLE_0:def 4;
L288: [ C78 , C80 ] in D30 by L287 , L230 , L275 , L276 , RELAT_2:def 8;
L289: [ C78 , C77 ] in D30 by L288 , L230 , L276 , L285 , RELAT_2:def 8;
L290: [ C78 , C77 ] in ( D30 ~ ) by L274 , RELAT_1:def 7;
L291: [ C78 , C77 ] in ( D30 /\ ( D30 ~ ) ) by L290 , L289 , XBOOLE_0:def 4;
L292: [ C78 , C77 ] in ( EqRel C65 ) by L291 , L228 , L125;
L293: C78 in ( Class (( EqRel C65 ) , C77) ) by L292 , EQREL_1:19;
thus L294: thesis by L293 , L268 , L269 , EQREL_1:23;
end;

end;
theorem
L264: (for B55 being non  empty RelStr holds ((B55 is  quasi_ordered & B55 is  connected) implies ( <=E B55 ) linearly_orders ( Class ( EqRel B55 ) )))
proof
let C81 being non  empty RelStr;
assume that
L265: C81 is  quasi_ordered
and
L266: C81 is  connected;
L267: ( <=E C81 ) partially_orders ( Class ( EqRel C81 ) ) by L265 , L227;
thus L268: ( <=E C81 ) is_reflexive_in ( Class ( EqRel C81 ) ) by L267 , ORDERS_1:def 7;
thus L269: ( <=E C81 ) is_transitive_in ( Class ( EqRel C81 ) ) by L267 , ORDERS_1:def 7;
thus L270: ( <=E C81 ) is_antisymmetric_in ( Class ( EqRel C81 ) ) by L267 , ORDERS_1:def 7;
thus L271: ( <=E C81 ) is_connected_in ( Class ( EqRel C81 ) )
proof
set D32 = (the carrier of C81);
let C82 , C83 being set;
assume that
L272: C82 in ( Class ( EqRel C81 ) )
and
L273: C83 in ( Class ( EqRel C81 ) )
and
L274: C82 <> C83
and
L275: (not [ C82 , C83 ] in ( <=E C81 ));
consider C84 being set such that L276: C84 in D32 and L277: C82 = ( Class (( EqRel C81 ) , C84) ) by L272 , EQREL_1:def 3;
consider C85 being set such that L278: C85 in D32 and L279: C83 = ( Class (( EqRel C81 ) , C85) ) by L273 , EQREL_1:def 3;
reconsider D33 = C84 , D34 = C85 as (Element of C81) by L276 , L278;
L280: (not D33 <= D34) by L275 , L277 , L279 , L183;
L281: D34 <= D33 by L280 , L266 , WAYBEL_0:def 29;
thus L282: thesis by L281 , L277 , L279 , L183;
end;

end;
definition
let C86 being Relation;
func C86 \~ -> Relation equals 
( C86 \ ( C86 ~ ) );
correctness;
end;
registration
let C87 being Relation;
cluster ( C87 \~ ) ->  asymmetric;
coherence
proof
L273:
now
let C88 , C89 being set;
assume that
L274: C88 in ( field ( C87 \~ ) )
and
L275: C89 in ( field ( C87 \~ ) )
and
L276: [ C88 , C89 ] in ( C87 \~ );
L277: (not [ C88 , C89 ] in ( C87 ~ )) by L276 , XBOOLE_0:def 5;
thus L278: (not [ C89 , C88 ] in ( C87 \~ )) by L277 , RELAT_1:def 7;
end;
L279: ( C87 \~ ) is_asymmetric_in ( field ( C87 \~ ) ) by L273 , RELAT_2:def 5;
thus L280: thesis by L279 , RELAT_2:def 13;
end;
end;
definition
let C90 being set;
let C91 being (Relation of C90);
redefine func C91 \~ -> (Relation of C90);

coherence
proof
L282: ( C91 \~ ) = ( C91 \ ( C91 ~ ) );
thus L283: thesis by L282;
end;
end;
definition
let C92 being RelStr;
func C92 \~ ->  strict RelStr equals 
RelStr (# (the carrier of C92) , ( (the InternalRel of C92) \~ ) #);
correctness;
end;
registration
let C93 being non  empty RelStr;
cluster ( C93 \~ ) -> non  empty;
coherence;
end;
registration
let C94 being  transitive RelStr;
cluster ( C94 \~ ) ->  transitive;
coherence
proof
set D35 = (the InternalRel of C94);
set D36 = (the carrier of C94);
set D37 = (the InternalRel of ( C94 \~ ));
set D38 = (the carrier of ( C94 \~ ));
L287: D35 is_transitive_in D36 by ORDERS_2:def 3;
L288:
now
let C95 , C96 , C97 being set;
assume that
L289: C95 in D38
and
L290: C96 in D38
and
L291: C97 in D38
and
L292: [ C95 , C96 ] in D37
and
L293: [ C96 , C97 ] in D37;
L294: (not [ C95 , C96 ] in ( D35 ~ )) by L292 , XBOOLE_0:def 5;
L295: [ C95 , C97 ] in D35 by L287 , L289 , L290 , L291 , L292 , L293 , RELAT_2:def 8;
L296:
now
assume L297: [ C95 , C97 ] in ( D35 ~ );
L298: [ C97 , C95 ] in D35 by L297 , RELAT_1:def 7;
L299: [ C96 , C95 ] in D35 by L298 , L287 , L289 , L290 , L291 , L293 , RELAT_2:def 8;
thus L300: contradiction by L299 , L294 , RELAT_1:def 7;
end;
thus L301: [ C95 , C97 ] in D37 by L296 , L295 , XBOOLE_0:def 5;
end;
L302: D37 is_transitive_in D38 by L288 , RELAT_2:def 8;
thus L303: thesis by L302 , ORDERS_2:def 3;
end;
end;
registration
let C98 being RelStr;
cluster ( C98 \~ ) ->  antisymmetric;
coherence
proof
set D39 = (the InternalRel of C98);
set D40 = (the InternalRel of ( C98 \~ ));
set D41 = (the carrier of ( C98 \~ ));
L305:
now
let C99 , C100 being set;
assume that
L306: C99 in D41
and
L307: C100 in D41
and
L308: [ C99 , C100 ] in D40
and
L309: [ C100 , C99 ] in D40;
L310: (not [ C99 , C100 ] in ( D39 ~ )) by L308 , XBOOLE_0:def 5;
thus L311: C99 = C100 by L310 , L309 , RELAT_1:def 7;
end;
L312: D40 is_antisymmetric_in D41 by L305 , RELAT_2:def 4;
thus L313: thesis by L312 , ORDERS_2:def 4;
end;
end;
theorem
L315: (for B56 being non  empty Poset holds (for B57 being (Element of B56) holds ( Class (( EqRel B56 ) , B57) ) = { B57 }))
proof
let C101 being non  empty Poset;
set D42 = (the InternalRel of C101);
set D43 = (the carrier of C101);
let C102 being (Element of D43);
L316: C101 is  quasi_ordered by L122;
L317: D42 is_antisymmetric_in D43 by ORDERS_2:def 4;
L318:
now
let C103 being set;
thus L319:now
assume L320: C103 in ( Class (( EqRel C101 ) , C102) );
L321: [ C103 , C102 ] in ( EqRel C101 ) by L320 , EQREL_1:19;
L322: [ C103 , C102 ] in ( D42 /\ ( D42 ~ ) ) by L321 , L316 , L125;
L323: [ C103 , C102 ] in D42 by L322 , XBOOLE_0:def 4;
L324: [ C103 , C102 ] in ( D42 ~ ) by L322 , XBOOLE_0:def 4;
L325: [ C102 , C103 ] in D42 by L324 , RELAT_1:def 7;
L326: C103 in ( dom D42 ) by L323 , XTUPLE_0:def 12;
L327: C103 = C102 by L326 , L317 , L323 , L325 , RELAT_2:def 4;
thus L328: C103 in { C102 } by L327 , TARSKI:def 1;
end;
assume L329: C103 in { C102 };
L330: C103 = C102 by L329 , TARSKI:def 1;
thus L331: C103 in ( Class (( EqRel C101 ) , C102) ) by L330 , EQREL_1:20;
end;
thus L332: thesis by L318 , TARSKI:1;
end;
theorem
L333: (for B58 being Relation holds (B58 = ( B58 \~ ) iff B58 is  asymmetric))
proof
let C104 being Relation;
thus L334: (C104 = ( C104 \~ ) implies C104 is  asymmetric);
assume L335: C104 is  asymmetric;
L336: C104 is_asymmetric_in ( field C104 ) by L335 , RELAT_2:def 13;
L337:
now
let C105 , C106 being set;
thus L338:now
assume L339: [ C105 , C106 ] in C104;
L340: C105 in ( field C104 ) by L339 , RELAT_1:15;
L341: C106 in ( field C104 ) by L339 , RELAT_1:15;
L342: (not [ C106 , C105 ] in C104) by L341 , L336 , L339 , L340 , RELAT_2:def 5;
L343: (not [ C105 , C106 ] in ( C104 ~ )) by L342 , RELAT_1:def 7;
thus L344: [ C105 , C106 ] in ( C104 \~ ) by L343 , L339 , XBOOLE_0:def 5;
end;
assume L345: [ C105 , C106 ] in ( C104 \~ );
thus L346: [ C105 , C106 ] in C104 by L345;
end;
thus L347: thesis by L337 , RELAT_1:def 2;
end;
theorem
L348: (for B59 being Relation holds (B59 is  transitive implies ( B59 \~ ) is  transitive))
proof
let C107 being Relation;
assume L349: C107 is  transitive;
L350: C107 is_transitive_in ( field C107 ) by L349 , RELAT_2:def 16;
L351:
now
let C108 , C109 , C110 being set;
assume that
L352: C108 in ( field ( C107 \~ ) )
and
L353: C109 in ( field ( C107 \~ ) )
and
L354: C110 in ( field ( C107 \~ ) )
and
L355: [ C108 , C109 ] in ( C107 \~ )
and
L356: [ C109 , C110 ] in ( C107 \~ );
L357: C108 in ( field C107 ) by L355 , RELAT_1:15;
L358: C109 in ( field C107 ) by L355 , RELAT_1:15;
L359: C110 in ( field C107 ) by L356 , RELAT_1:15;
L360: [ C108 , C110 ] in C107 by L359 , L350 , L355 , L356 , L357 , L358 , RELAT_2:def 8;
L361: (not [ C108 , C109 ] in ( C107 ~ )) by L355 , XBOOLE_0:def 5;
L362: (not [ C109 , C108 ] in C107) by L361 , RELAT_1:def 7;
L363: (not [ C110 , C108 ] in C107) by L362 , L350 , L356 , L357 , L358 , L359 , RELAT_2:def 8;
L364: (not [ C108 , C110 ] in ( C107 ~ )) by L363 , RELAT_1:def 7;
thus L365: [ C108 , C110 ] in ( C107 \~ ) by L364 , L360 , XBOOLE_0:def 5;
end;
L366: ( C107 \~ ) is_transitive_in ( field ( C107 \~ ) ) by L351 , RELAT_2:def 8;
thus L367: thesis by L366 , RELAT_2:def 16;
end;
theorem
L368: (for B60 being Relation holds (for B61 , B62 being set holds (B60 is  antisymmetric implies ([ B61 , B62 ] in ( B60 \~ ) iff ([ B61 , B62 ] in B60 & B61 <> B62)))))
proof
let C111 being Relation;
let C112 , C113 being set;
assume L369: C111 is  antisymmetric;
L370: C111 is_antisymmetric_in ( field C111 ) by L369 , RELAT_2:def 12;
L371: ( C111 \~ ) is_asymmetric_in ( field ( C111 \~ ) ) by RELAT_2:def 13;
thus L372:now
assume L373: [ C112 , C113 ] in ( C111 \~ );
thus L374: [ C112 , C113 ] in C111 by L373;
L375:
now
assume L376: C112 = C113;
L377: C112 in ( field ( C111 \~ ) ) by L373 , RELAT_1:15;
thus L378: contradiction by L377 , L371 , L373 , L376 , RELAT_2:def 5;
end;
thus L379: C112 <> C113 by L375;
end;
assume that
L380: [ C112 , C113 ] in C111
and
L381: C112 <> C113;
L382: C112 in ( field C111 ) by L380 , RELAT_1:15;
L383: C113 in ( field C111 ) by L380 , RELAT_1:15;
L384: (not [ C113 , C112 ] in C111) by L383 , L370 , L380 , L381 , L382 , RELAT_2:def 4;
L385: (not [ C112 , C113 ] in ( C111 ~ )) by L384 , RELAT_1:def 7;
thus L386: thesis by L385 , L380 , XBOOLE_0:def 5;
end;
theorem
L387: (for B63 being RelStr holds (B63 is  well_founded implies ( B63 \~ ) is  well_founded))
proof
let C114 being RelStr;
assume that
L388: C114 is  well_founded;
set D44 = (the InternalRel of C114);
set D45 = (the carrier of C114);
set D46 = (the InternalRel of ( C114 \~ ));
set D47 = (the carrier of ( C114 \~ ));
L389: D44 is_well_founded_in D45 by L388 , WELLFND1:def 2;
L390:
now
let C115 being set;
assume that
L391: C115 c= D47
and
L392: C115 <> ( {} );
consider C116 being set such that L393: C116 in C115 and L394: ( D44 -Seg C116 ) misses C115 by L389 , L391 , L392 , WELLORD1:def 3;
L395: ( ( D44 -Seg C116 ) /\ C115 ) = ( {} ) by L394 , XBOOLE_0:def 7;
take D48 = C116;
thus L396: D48 in C115 by L393;
L397:
now
assume L398: (ex B64 being set st B64 in ( ( D46 -Seg D48 ) /\ C115 ));
consider C117 being set such that L399: C117 in ( ( D46 -Seg D48 ) /\ C115 ) by L398;
L400: C117 in ( D46 -Seg D48 ) by L399 , XBOOLE_0:def 4;
L401: C117 in C115 by L399 , XBOOLE_0:def 4;
L402: C117 <> D48 by L400 , WELLORD1:1;
L403: [ C117 , D48 ] in D46 by L400 , WELLORD1:1;
L404: C117 in ( D44 -Seg D48 ) by L403 , L402 , WELLORD1:1;
thus L405: contradiction by L404 , L395 , L401 , XBOOLE_0:def 4;
end;
L406: ( ( D46 -Seg D48 ) /\ C115 ) = ( {} ) by L397 , XBOOLE_0:def 1;
thus L407: ( D46 -Seg D48 ) misses C115 by L406 , XBOOLE_0:def 7;
end;
L408: D46 is_well_founded_in D47 by L390 , WELLORD1:def 3;
thus L409: thesis by L408 , WELLFND1:def 2;
end;
theorem
L410: (for B65 being RelStr holds ((( B65 \~ ) is  well_founded & B65 is  antisymmetric) implies B65 is  well_founded))
proof
let C118 being RelStr;
assume that
L411: ( C118 \~ ) is  well_founded
and
L412: C118 is  antisymmetric;
set D49 = (the InternalRel of C118);
set D50 = (the carrier of C118);
set D51 = (the InternalRel of ( C118 \~ ));
L413: D49 is_antisymmetric_in D50 by L412 , ORDERS_2:def 4;
L414: D51 is_well_founded_in D50 by L411 , WELLFND1:def 2;
L415:
now
let C119 being set;
assume that
L416: C119 c= D50
and
L417: C119 <> ( {} );
consider C120 being set such that L418: C120 in C119 and L419: ( D51 -Seg C120 ) misses C119 by L414 , L416 , L417 , WELLORD1:def 3;
L420: ( ( D51 -Seg C120 ) /\ C119 ) = ( {} ) by L419 , XBOOLE_0:def 7;
take D52 = C120;
thus L421: D52 in C119 by L418;
L422:
now
assume L423: ( ( D49 -Seg D52 ) /\ C119 ) <> ( {} );
consider C121 being set such that L424: C121 in ( ( D49 -Seg D52 ) /\ C119 ) by L423 , XBOOLE_0:def 1;
L425: C121 in ( D49 -Seg D52 ) by L424 , XBOOLE_0:def 4;
L426: C121 in C119 by L424 , XBOOLE_0:def 4;
L427: C121 <> D52 by L425 , WELLORD1:1;
L428: [ C121 , D52 ] in D49 by L425 , WELLORD1:1;
L429: (not [ D52 , C121 ] in D49) by L428 , L413 , L416 , L418 , L426 , L427 , RELAT_2:def 4;
L430: (not [ C121 , D52 ] in ( D49 ~ )) by L429 , RELAT_1:def 7;
L431: [ C121 , D52 ] in ( D49 \ ( D49 ~ ) ) by L430 , L428 , XBOOLE_0:def 5;
L432: C121 in ( D51 -Seg D52 ) by L431 , L427 , WELLORD1:1;
thus L433: contradiction by L432 , L420 , L426 , XBOOLE_0:def 4;
end;
thus L434: ( D49 -Seg D52 ) misses C119 by L422 , XBOOLE_0:def 7;
end;
L435: D49 is_well_founded_in D50 by L415 , WELLORD1:def 3;
thus L436: thesis by L435 , WELLFND1:def 2;
end;
begin
theorem
L437: (for B66 being RelStr holds (for B67 being set holds (for B68 being (Element of ( B66 \~ )) holds (B68 is_minimal_wrt B67 , (the InternalRel of ( B66 \~ )) iff (B68 in B67 & (for B69 being (Element of B66) holds ((B69 in B67 & [ B69 , B68 ] in (the InternalRel of B66)) implies [ B68 , B69 ] in (the InternalRel of B66))))))))
proof
let C122 being RelStr;
let C123 being set;
let C124 being (Element of ( C122 \~ ));
set D53 = (the InternalRel of C122);
set D54 = (the InternalRel of ( C122 \~ ));
thus L438:now
assume L439: C124 is_minimal_wrt C123 , (the InternalRel of ( C122 \~ ));
thus L440: C124 in C123 by L439 , WAYBEL_4:def 25;
let C125 being (Element of C122);
assume that
L441: C125 in C123;
assume L442: [ C125 , C124 ] in D53;
L443:
now
per cases ;
suppose L444: C124 = C125;

thus L445: [ C124 , C125 ] in D53 by L444 , L442;
end;
suppose L446: C124 <> C125;

L447: (not [ C125 , C124 ] in D54) by L446 , L439 , L441 , WAYBEL_4:def 25;
L448: [ C125 , C124 ] in ( D53 ~ ) by L447 , L442 , XBOOLE_0:def 5;
thus L449: [ C124 , C125 ] in D53 by L448 , RELAT_1:def 7;
end;
end;
thus L451: [ C124 , C125 ] in (the InternalRel of C122) by L443;
end;
assume that
L452: C124 in C123
and
L453: (for B70 being (Element of C122) holds (B70 in C123 implies ([ B70 , C124 ] in (the InternalRel of C122) implies [ C124 , B70 ] in (the InternalRel of C122))));
L454:
now
assume L455: (ex B71 being set st (B71 in C123 & B71 <> C124 & [ B71 , C124 ] in D54));
consider C126 being set such that L456: C126 in C123 and L457: C126 <> C124 and L458: [ C126 , C124 ] in D54 by L455;
reconsider D55 = C126 as (Element of C122) by L458 , ZFMISC_1:87;
L459: (not [ C126 , C124 ] in ( D53 ~ )) by L458 , XBOOLE_0:def 5;
L460: ([ D55 , C124 ] in D53 implies [ C124 , D55 ] in D53) by L453 , L456;
thus L461: contradiction by L460 , L458 , L459 , RELAT_1:def 7;
end;
thus L462: thesis by L454 , L452 , WAYBEL_4:def 25;
end;
theorem
L463: (for B72 , B73 being non  empty RelStr holds (for B74 being (Function of B72 , B73) holds ((B72 is  quasi_ordered & B73 is  antisymmetric & ( B73 \~ ) is  well_founded & (for B75 , B76 being (Element of B72) holds ((B75 <= B76 implies ( B74 . B75 ) <= ( B74 . B76 )) & (( B74 . B75 ) = ( B74 . B76 ) implies [ B75 , B76 ] in ( EqRel B72 ))))) implies ( B72 \~ ) is  well_founded)))
proof
let C127 , C128 being non  empty RelStr;
let C129 being (Function of C127 , C128);
assume that
L464: C127 is  quasi_ordered
and
L465: C128 is  antisymmetric
and
L466: ( C128 \~ ) is  well_founded
and
L467: (for B77 , B78 being (Element of C127) holds ((B77 <= B78 implies ( C129 . B77 ) <= ( C129 . B78 )) & (( C129 . B77 ) = ( C129 . B78 ) implies [ B77 , B78 ] in ( EqRel C127 ))));
set D56 = (the InternalRel of C127);
set D57 = (the InternalRel of C128);
L468: D57 is_antisymmetric_in (the carrier of C128) by L465 , ORDERS_2:def 4;
L469:
now
assume L470: (ex B79 being (sequence of ( C127 \~ )) st B79 is  descending);
consider C130 being (sequence of ( C127 \~ )) such that L471: C130 is  descending by L470;
reconsider D58 = C130 as (sequence of C127);
deffunc H1((Element of ( NAT ))) = ( C129 . ( D58 . $1 ) );
consider C131 being (Function of ( NAT ) , (the carrier of C128)) such that L472: (for B80 being (Element of ( NAT )) holds ( C131 . B80 ) = H1(B80)) from FUNCT_2:sch 4;
reconsider D59 = C131 as (sequence of ( C128 \~ ));
L473:
now
let C132 being Nat;
reconsider D60 = C132 as (Element of ( NAT )) by ORDINAL1:def 12;
L474: [ ( C130 . ( C132 + 1 ) ) , ( C130 . C132 ) ] in (the InternalRel of ( C127 \~ )) by L471 , WELLFND1:def 6;
L475: [ ( C130 . ( C132 + 1 ) ) , ( C130 . C132 ) ] in ( D56 \ ( D56 ~ ) ) by L471 , WELLFND1:def 6;
L476: (not [ ( C130 . ( C132 + 1 ) ) , ( C130 . C132 ) ] in ( D56 ~ )) by L474 , XBOOLE_0:def 5;
L477: ( D59 . D60 ) = ( C129 . ( C130 . D60 ) ) by L472;
L478:
now
assume L479: ( D59 . ( C132 + 1 ) ) = ( D59 . C132 );
L480: ( C129 . ( C130 . ( C132 + 1 ) ) ) = ( C129 . ( C130 . C132 ) ) by L479 , L472 , L477;
L481: [ ( D58 . ( C132 + 1 ) ) , ( D58 . C132 ) ] in ( EqRel C127 ) by L480 , L467;
L482: [ ( C130 . ( C132 + 1 ) ) , ( C130 . C132 ) ] in ( D56 /\ ( D56 ~ ) ) by L481 , L464 , L125;
thus L483: contradiction by L482 , L476 , XBOOLE_0:def 4;
end;
thus L484: ( D59 . ( C132 + 1 ) ) <> ( D59 . C132 ) by L478;
reconsider D61 = ( C130 . ( C132 + 1 ) ) as (Element of C127);
reconsider D62 = ( C130 . C132 ) as (Element of C127);
L485: D61 <= D62 by L475 , ORDERS_2:def 5;
L486: ( C131 . ( C132 + 1 ) ) = ( C129 . D61 ) by L472;
L487: ( C131 . D60 ) = ( C129 . D62 ) by L472;
L488: ( C131 . ( C132 + 1 ) ) <= ( C131 . C132 ) by L487 , L467 , L485 , L486;
L489: [ ( D59 . ( C132 + 1 ) ) , ( D59 . C132 ) ] in D57 by L488 , ORDERS_2:def 5;
L490: (not [ ( D59 . C132 ) , ( D59 . ( C132 + 1 ) ) ] in D57) by L489 , L468 , L478 , RELAT_2:def 4;
L491: (not [ ( D59 . ( C132 + 1 ) ) , ( D59 . C132 ) ] in ( D57 ~ )) by L490 , RELAT_1:def 7;
thus L492: [ ( D59 . ( C132 + 1 ) ) , ( D59 . C132 ) ] in (the InternalRel of ( C128 \~ )) by L491 , L489 , XBOOLE_0:def 5;
end;
L493: D59 is  descending by L473 , WELLFND1:def 6;
thus L494: contradiction by L493 , L466 , WELLFND1:14;
end;
thus L495: thesis by L469 , WELLFND1:14;
end;
definition
let C133 being non  empty RelStr;
let C134 being (Subset of C133);
func min-classes C134 -> (Subset-Family of C133) means 
:L496: (for B81 being set holds (B81 in it iff (ex B82 being (Element of ( C133 \~ )) st (B82 is_minimal_wrt C134 , (the InternalRel of ( C133 \~ )) & B81 = ( ( Class (( EqRel C133 ) , B82) ) /\ C134 )))));
existence
proof
set D63 = (the InternalRel of ( C133 \~ ));
set D64 = { ( B83 /\ C134 ) where B83 is (Element of ( Class ( EqRel C133 ) )) : (ex B84 being (Element of ( C133 \~ )) st (B83 = ( Class (( EqRel C133 ) , B84) ) & B84 is_minimal_wrt C134 , D63)) };
L497:
now
let C135 being set;
assume L498: C135 in D64;
L499: (ex B85 being (Element of ( Class ( EqRel C133 ) )) st (C135 = ( B85 /\ C134 ) & (ex B86 being (Element of ( C133 \~ )) st (B85 = ( Class (( EqRel C133 ) , B86) ) & B86 is_minimal_wrt C134 , D63)))) by L498;
thus L500: C135 in ( bool (the carrier of C133) ) by L499;
end;
reconsider D65 = D64 as (Subset-Family of C133) by L497 , TARSKI:def 3;
take D65;
let C136 being set;
thus L501:now
assume L502: C136 in D65;
L503: (ex B87 being (Element of ( Class ( EqRel C133 ) )) st (C136 = ( B87 /\ C134 ) & (ex B88 being (Element of ( C133 \~ )) st (B87 = ( Class (( EqRel C133 ) , B88) ) & B88 is_minimal_wrt C134 , D63)))) by L502;
thus L504: (ex B89 being (Element of ( C133 \~ )) st (B89 is_minimal_wrt C134 , D63 & C136 = ( ( Class (( EqRel C133 ) , B89) ) /\ C134 ))) by L503;
end;
given C137 being (Element of ( C133 \~ )) such that
L505: C137 is_minimal_wrt C134 , D63
and
L506: C136 = ( ( Class (( EqRel C133 ) , C137) ) /\ C134 );

reconsider D66 = C137 as (Element of C133);
L507: ( EqClass (( EqRel C133 ) , D66) ) in ( Class ( EqRel C133 ) );
thus L508: thesis by L507 , L505 , L506;
end;
uniqueness
proof
set D67 = (the InternalRel of ( C133 \~ ));
let C138 , C139 being (Subset-Family of C133);
assume that
L509: (for B90 being set holds (B90 in C138 iff (ex B91 being (Element of ( C133 \~ )) st (B91 is_minimal_wrt C134 , D67 & B90 = ( ( Class (( EqRel C133 ) , B91) ) /\ C134 )))))
and
L510: (for B92 being set holds (B92 in C139 iff (ex B93 being (Element of ( C133 \~ )) st (B93 is_minimal_wrt C134 , D67 & B92 = ( ( Class (( EqRel C133 ) , B93) ) /\ C134 )))));
L511:
now
let C140 being set;
thus L512:now
assume L513: C140 in C138;
L514: (ex B94 being (Element of ( C133 \~ )) st (B94 is_minimal_wrt C134 , D67 & C140 = ( ( Class (( EqRel C133 ) , B94) ) /\ C134 ))) by L513 , L509;
thus L515: C140 in C139 by L514 , L510;
end;
assume L516: C140 in C139;
L517: (ex B95 being (Element of ( C133 \~ )) st (B95 is_minimal_wrt C134 , D67 & C140 = ( ( Class (( EqRel C133 ) , B95) ) /\ C134 ))) by L516 , L510;
thus L518: C140 in C138 by L517 , L509;
end;
thus L519: thesis by L511 , TARSKI:1;
end;
end;
theorem
L521: (for B96 being non  empty RelStr holds (for B97 being (Subset of B96) holds (for B98 being set holds ((B96 is  quasi_ordered & B98 in ( min-classes B97 )) implies (for B99 being (Element of ( B96 \~ )) holds (B99 in B98 implies B99 is_minimal_wrt B97 , (the InternalRel of ( B96 \~ ))))))))
proof
let C141 being non  empty RelStr;
let C142 being (Subset of C141);
let C143 being set;
assume that
L522: C141 is  quasi_ordered
and
L523: C143 in ( min-classes C142 );
set D68 = (the InternalRel of C141);
set D69 = (the carrier of C141);
set D70 = (the InternalRel of ( C141 \~ ));
let C144 being (Element of ( C141 \~ ));
assume that
L524: C144 in C143;
consider C145 being (Element of ( C141 \~ )) such that L525: C145 is_minimal_wrt C142 , D70 and L526: C143 = ( ( Class (( EqRel C141 ) , C145) ) /\ C142 ) by L523 , L496;
L527: C144 in ( Class (( EqRel C141 ) , C145) ) by L524 , L526 , XBOOLE_0:def 4;
L528: [ C144 , C145 ] in ( EqRel C141 ) by L527 , EQREL_1:19;
L529: [ C144 , C145 ] in ( D68 /\ ( D68 ~ ) ) by L528 , L522 , L125;
L530: [ C144 , C145 ] in D68 by L529 , XBOOLE_0:def 4;
L531:
now
assume L532: (ex B100 being set st (B100 in C142 & B100 <> C144 & [ B100 , C144 ] in D70));
consider C146 being set such that L533: C146 in C142 and L534: C146 <> C144 and L535: [ C146 , C144 ] in D70 by L532;
L536: (not [ C146 , C144 ] in ( D68 ~ )) by L535 , XBOOLE_0:def 5;
L537: C141 is  transitive by L522 , L122;
L538: D68 is_transitive_in D69 by L537 , ORDERS_2:def 3;
L539: [ C146 , C145 ] in D68 by L538 , L530 , L533 , L535 , RELAT_2:def 8;
L540:
now
assume L541: [ C146 , C145 ] in ( D68 ~ );
L542: [ C145 , C146 ] in D68 by L541 , RELAT_1:def 7;
L543: [ C144 , C146 ] in D68 by L542 , L530 , L533 , L538 , RELAT_2:def 8;
thus L544: contradiction by L543 , L536 , RELAT_1:def 7;
end;
L545: [ C146 , C145 ] in D70 by L540 , L539 , XBOOLE_0:def 5;
L546: C145 <> C146 by L530 , L536 , RELAT_1:def 7;
thus L547: contradiction by L546 , L525 , L533 , L545 , WAYBEL_4:def 25;
end;
L548: C144 in C142 by L524 , L526 , XBOOLE_0:def 4;
thus L549: thesis by L548 , L531 , WAYBEL_4:def 25;
end;
theorem
L550: (for B101 being non  empty RelStr holds (( B101 \~ ) is  well_founded iff (for B102 being (Subset of B101) holds (B102 <> ( {} ) implies (ex B103 being set st B103 in ( min-classes B102 ))))))
proof
let C147 being non  empty RelStr;
set D71 = (the carrier of C147);
set D72 = (the InternalRel of ( C147 \~ ));
set D73 = (the carrier of ( C147 \~ ));
thus L551:now
assume L552: ( C147 \~ ) is  well_founded;
L553: D72 is_well_founded_in D73 by L552 , WELLFND1:def 2;
let C148 being (Subset of D71);
assume that
L554: C148 <> ( {} );
reconsider D74 = C148 as (Subset of D73);
consider C149 being set such that L555: C149 in D74 and L556: ( D72 -Seg C149 ) misses D74 by L553 , L554 , WELLORD1:def 3;
L557: ( ( D72 -Seg C149 ) /\ D74 ) = ( {} ) by L556 , XBOOLE_0:def 7;
reconsider D75 = C149 as (Element of ( C147 \~ )) by L555;
set D76 = ( ( Class (( EqRel C147 ) , D75) ) /\ C148 );
L558:
now
assume L559: (ex B104 being set st (B104 in C148 & B104 <> D75 & [ B104 , D75 ] in D72));
consider C150 being set such that L560: C150 in C148 and L561: C150 <> D75 and L562: [ C150 , D75 ] in D72 by L559;
L563: C150 in ( D72 -Seg D75 ) by L561 , L562 , WELLORD1:1;
thus L564: contradiction by L563 , L557 , L560 , XBOOLE_0:def 4;
end;
L565: D75 is_minimal_wrt C148 , D72 by L558 , L555 , WAYBEL_4:def 25;
L566: D76 in ( min-classes C148 ) by L565 , L496;
thus L567: (ex B105 being set st B105 in ( min-classes C148 )) by L566;
end;
assume L568: (for B106 being (Subset of C147) holds (B106 <> ( {} ) implies (ex B107 being set st B107 in ( min-classes B106 ))));
L569:
now
let C151 being set;
assume that
L570: C151 c= D73
and
L571: C151 <> ( {} );
reconsider D77 = C151 as (Subset of C147) by L570;
consider C152 being set such that L572: C152 in ( min-classes D77 ) by L568 , L571;
consider C153 being (Element of ( C147 \~ )) such that L573: C153 is_minimal_wrt D77 , D72 and L574: C152 = ( ( Class (( EqRel C147 ) , C153) ) /\ D77 ) by L572 , L496;
reconsider D78 = C153 as set;
take D79 = D78;
thus L575: D79 in C151 by L573 , WAYBEL_4:def 25;
L576:
now
assume L577: ( ( D72 -Seg D79 ) /\ C151 ) <> ( {} );
consider C154 being set such that L578: C154 in ( ( D72 -Seg D79 ) /\ C151 ) by L577 , XBOOLE_0:def 1;
L579: C154 in ( D72 -Seg D79 ) by L578 , XBOOLE_0:def 4;
L580: C154 in C151 by L578 , XBOOLE_0:def 4;
reconsider D80 = C154 as (Element of ( C147 \~ )) by L580 , L570;
L581: D80 <> D79 by L579 , WELLORD1:1;
L582: [ D80 , C153 ] in D72 by L579 , WELLORD1:1;
thus L583: contradiction by L582 , L573 , L580 , L581 , WAYBEL_4:def 25;
end;
thus L584: ( D72 -Seg D79 ) misses C151 by L576 , XBOOLE_0:def 7;
end;
L585: D72 is_well_founded_in D73 by L569 , WELLORD1:def 3;
thus L586: thesis by L585 , WELLFND1:def 2;
end;
theorem
L587: (for B108 being non  empty RelStr holds (for B109 being (Subset of B108) holds (for B110 being (Element of ( B108 \~ )) holds (B110 is_minimal_wrt B109 , (the InternalRel of ( B108 \~ )) implies ( min-classes B109 ) is non  empty))))
proof
let C155 being non  empty RelStr;
let C156 being (Subset of C155);
let C157 being (Element of ( C155 \~ ));
assume that
L588: C157 is_minimal_wrt C156 , (the InternalRel of ( C155 \~ ));
L589: (ex B111 being set st B111 = ( ( Class (( EqRel C155 ) , C157) ) /\ C156 ));
thus L590: thesis by L589 , L588 , L496;
end;
theorem
L591: (for B112 being non  empty RelStr holds (for B113 being (Subset of B112) holds (for B114 being set holds (B114 in ( min-classes B113 ) implies B114 is non  empty))))
proof
let C158 being non  empty RelStr;
let C159 being (Subset of C158);
let C160 being set;
assume L592: C160 in ( min-classes C159 );
consider C161 being (Element of ( C158 \~ )) such that L593: C161 is_minimal_wrt C159 , (the InternalRel of ( C158 \~ )) and L594: C160 = ( ( Class (( EqRel C158 ) , C161) ) /\ C159 ) by L592 , L496;
L595: C161 in C159 by L593 , WAYBEL_4:def 25;
L596: C161 in ( Class (( EqRel C158 ) , C161) ) by EQREL_1:20;
thus L597: thesis by L596 , L594 , L595 , XBOOLE_0:def 4;
end;
theorem
L598: (for B115 being non  empty RelStr holds (B115 is  quasi_ordered implies ((B115 is  connected & ( B115 \~ ) is  well_founded) iff (for B116 being non  empty (Subset of B115) holds ( card ( min-classes B116 ) ) = 1))))
proof
let C162 being non  empty RelStr;
assume that
L599: C162 is  quasi_ordered;
set D81 = (the InternalRel of C162);
set D82 = (the carrier of C162);
set D83 = (the InternalRel of ( C162 \~ ));
thus L600:now
assume that
L601: C162 is  connected
and
L602: ( C162 \~ ) is  well_founded;
let C163 being non  empty (Subset of D82);
consider C164 being set such that L603: C164 in ( min-classes C163 ) by L602 , L550;
consider C165 being (Element of ( C162 \~ )) such that L604: C165 is_minimal_wrt C163 , (the InternalRel of ( C162 \~ )) and L605: C164 = ( ( Class (( EqRel C162 ) , C165) ) /\ C163 ) by L603 , L496;
L606: C165 in C163 by L604 , WAYBEL_4:def 25;
L607:
now
let C166 being set;
thus L608:now
assume L609: C166 in ( min-classes C163 );
consider C167 being (Element of ( C162 \~ )) such that L610: C167 is_minimal_wrt C163 , D83 and L611: C166 = ( ( Class (( EqRel C162 ) , C167) ) /\ C163 ) by L609 , L496;
L612: C167 in C163 by L610 , WAYBEL_4:def 25;
reconsider D84 = C165 as (Element of C162);
reconsider D85 = C167 as (Element of C162);
L613:
now
per cases  by L601 , WAYBEL_0:def 29;
suppose L614: D84 <= D85;

L615: [ C165 , C167 ] in D81 by L614 , ORDERS_2:def 5;
L616:
now
per cases ;
suppose L617: C165 = C167;

thus L618: [ C167 , C165 ] in D81 by L617 , L614 , ORDERS_2:def 5;
end;
suppose L619: C165 <> C167;

L620:
now
assume L621: (not [ C167 , C165 ] in D81);
L622: (not [ C165 , C167 ] in ( D81 ~ )) by L621 , RELAT_1:def 7;
L623: [ C165 , C167 ] in ( D81 \ ( D81 ~ ) ) by L622 , L615 , XBOOLE_0:def 5;
thus L624: contradiction by L623 , L606 , L610 , L619 , WAYBEL_4:def 25;
end;
thus L625: [ C167 , C165 ] in D81 by L620;
end;
end;
thus L627: ([ C165 , C167 ] in D81 & [ C167 , C165 ] in D81) by L616 , L614 , ORDERS_2:def 5;
end;
suppose L628: D85 <= D84;

L629: [ C167 , C165 ] in D81 by L628 , ORDERS_2:def 5;
L630:
now
per cases ;
suppose L631: C165 = C167;

thus L632: [ C165 , C167 ] in D81 by L631 , L628 , ORDERS_2:def 5;
end;
suppose L633: C165 <> C167;

L634:
now
assume L635: (not [ C165 , C167 ] in D81);
L636: (not [ C167 , C165 ] in ( D81 ~ )) by L635 , RELAT_1:def 7;
L637: [ C167 , C165 ] in ( D81 \ ( D81 ~ ) ) by L636 , L629 , XBOOLE_0:def 5;
thus L638: contradiction by L637 , L604 , L612 , L633 , WAYBEL_4:def 25;
end;
thus L639: [ C165 , C167 ] in D81 by L634;
end;
end;
thus L641: ([ C165 , C167 ] in D81 & [ C167 , C165 ] in D81) by L630 , L628 , ORDERS_2:def 5;
end;
end;
L643: [ C167 , C165 ] in ( D81 ~ ) by L613 , RELAT_1:def 7;
L644: [ C167 , C165 ] in ( D81 /\ ( D81 ~ ) ) by L643 , L613 , XBOOLE_0:def 4;
L645: [ C167 , C165 ] in ( EqRel C162 ) by L644 , L599 , L125;
L646: C167 in ( Class (( EqRel C162 ) , C165) ) by L645 , EQREL_1:19;
L647: ( Class (( EqRel C162 ) , C167) ) = ( Class (( EqRel C162 ) , C165) ) by L646 , EQREL_1:23;
thus L648: C166 in { C164 } by L647 , L605 , L611 , TARSKI:def 1;
end;
assume L649: C166 in { C164 };
L650: C166 = ( ( Class (( EqRel C162 ) , C165) ) /\ C163 ) by L649 , L605 , TARSKI:def 1;
thus L651: C166 in ( min-classes C163 ) by L650 , L604 , L496;
end;
L652: ( min-classes C163 ) = { C164 } by L607 , TARSKI:1;
thus L653: ( card ( min-classes C163 ) ) = 1 by L652 , CARD_1:30;
end;
assume L654: (for B117 being non  empty (Subset of C162) holds ( card ( min-classes B117 ) ) = 1);
L655:
now
let C168 , C169 being (Element of C162);
assume that
L656: (not C168 <= C169)
and
L657: (not C168 >= C169);
L658: (not [ C168 , C169 ] in D81) by L656 , ORDERS_2:def 5;
L659: (not [ C169 , C168 ] in ( D81 ~ )) by L658 , RELAT_1:def 7;
L660: (not [ C169 , C168 ] in D81) by L657 , ORDERS_2:def 5;
L661: (not [ C168 , C169 ] in ( D81 ~ )) by L660 , RELAT_1:def 7;
set D86 = { C168 , C169 };
set D87 = { { C168 } , { C169 } };
L662:
now
let C170 being set;
thus L663:now
assume L664: C170 in ( min-classes D86 );
consider C171 being (Element of ( C162 \~ )) such that L665: C171 is_minimal_wrt D86 , D83 and L666: C170 = ( ( Class (( EqRel C162 ) , C171) ) /\ D86 ) by L664 , L496;
L667: C171 in D86 by L665 , WAYBEL_4:def 25;
per cases  by L667 , TARSKI:def 2;
suppose L668: C171 = C168;

L669:
now
let C172 being set;
thus L670:now
assume L671: C172 in C170;
L672: C172 in ( Class (( EqRel C162 ) , C168) ) by L671 , L666 , L668 , XBOOLE_0:def 4;
L673: C172 in D86 by L666 , L671 , XBOOLE_0:def 4;
L674:
now
per cases  by L673 , TARSKI:def 2;
suppose L675: C172 = C168;

thus L676: C172 in { C168 } by L675 , TARSKI:def 1;
end;
suppose L677: C172 = C169;

L678: [ C169 , C168 ] in ( EqRel C162 ) by L677 , L672 , EQREL_1:19;
L679: [ C169 , C168 ] in ( D81 /\ ( D81 ~ ) ) by L678 , L599 , L125;
thus L680: C172 in { C168 } by L679 , L659 , XBOOLE_0:def 4;
end;
end;
thus L682: C172 in { C168 } by L674;
end;
assume L683: C172 in { C168 };
L684: C172 = C168 by L683 , TARSKI:def 1;
L685: C172 in D86 by L684 , TARSKI:def 2;
L686: C172 in ( Class (( EqRel C162 ) , C168) ) by L684 , EQREL_1:20;
thus L687: C172 in C170 by L686 , L666 , L668 , L685 , XBOOLE_0:def 4;
end;
L688: C170 = { C168 } by L669 , TARSKI:1;
thus L689: C170 in D87 by L688 , TARSKI:def 2;
end;
suppose L690: C171 = C169;

L691:
now
let C173 being set;
thus L692:now
assume L693: C173 in C170;
L694: C173 in ( Class (( EqRel C162 ) , C169) ) by L693 , L666 , L690 , XBOOLE_0:def 4;
L695: C173 in D86 by L666 , L693 , XBOOLE_0:def 4;
L696:
now
per cases  by L695 , TARSKI:def 2;
suppose L697: C173 = C169;

thus L698: C173 in { C169 } by L697 , TARSKI:def 1;
end;
suppose L699: C173 = C168;

L700: [ C168 , C169 ] in ( EqRel C162 ) by L699 , L694 , EQREL_1:19;
L701: [ C168 , C169 ] in ( D81 /\ ( D81 ~ ) ) by L700 , L599 , L125;
thus L702: C173 in { C169 } by L701 , L658 , XBOOLE_0:def 4;
end;
end;
thus L704: C173 in { C169 } by L696;
end;
assume L705: C173 in { C169 };
L706: C173 = C169 by L705 , TARSKI:def 1;
L707: C173 in D86 by L706 , TARSKI:def 2;
L708: C173 in ( Class (( EqRel C162 ) , C169) ) by L706 , EQREL_1:20;
thus L709: C173 in C170 by L708 , L666 , L690 , L707 , XBOOLE_0:def 4;
end;
L710: C170 = { C169 } by L691 , TARSKI:1;
thus L711: C170 in D87 by L710 , TARSKI:def 2;
end;
end;
assume L713: C170 in D87;
per cases  by L713 , TARSKI:def 2;
suppose L714: C170 = { C168 };

L715:
now
reconsider D88 = C168 as (Element of ( C162 \~ ));
take D89 = D88;
L716: D89 in D86 by TARSKI:def 2;
L717:
now
assume L718: (ex B118 being set st (B118 in D86 & B118 <> D89 & [ B118 , D89 ] in D83));
consider C174 being set such that L719: C174 in D86 and L720: C174 <> D89 and L721: [ C174 , D89 ] in D83 by L718;
L722: C174 = C169 by L719 , L720 , TARSKI:def 2;
thus L723: contradiction by L722 , L657 , L721 , ORDERS_2:def 5;
end;
thus L724: D89 is_minimal_wrt D86 , (the InternalRel of ( C162 \~ )) by L717 , L716 , WAYBEL_4:def 25;
L725:
now
let C175 being set;
thus L726:now
assume L727: C175 in C170;
L728: C175 = C168 by L727 , L714 , TARSKI:def 1;
L729: C175 in ( Class (( EqRel C162 ) , C168) ) by L728 , EQREL_1:20;
thus L730: C175 in ( ( Class (( EqRel C162 ) , C168) ) /\ D86 ) by L729 , L716 , L728 , XBOOLE_0:def 4;
end;
assume L731: C175 in ( ( Class (( EqRel C162 ) , C168) ) /\ D86 );
L732: C175 in ( Class (( EqRel C162 ) , C168) ) by L731 , XBOOLE_0:def 4;
L733: C175 in D86 by L731 , XBOOLE_0:def 4;
per cases  by L733 , TARSKI:def 2;
suppose L734: C175 = C168;

thus L735: C175 in C170 by L734 , L714 , TARSKI:def 1;
end;
suppose L736: C175 = C169;

L737: [ C169 , C168 ] in ( EqRel C162 ) by L736 , L732 , EQREL_1:19;
L738: [ C169 , C168 ] in ( D81 /\ ( D81 ~ ) ) by L737 , L599 , L125;
thus L739: C175 in C170 by L738 , L659 , XBOOLE_0:def 4;
end;
end;
thus L741: C170 = ( ( Class (( EqRel C162 ) , D89) ) /\ D86 ) by L725 , TARSKI:1;
end;
thus L742: C170 in ( min-classes D86 ) by L715 , L496;
end;
suppose L743: C170 = { C169 };

L744:
now
reconsider D90 = C169 as (Element of ( C162 \~ ));
take D91 = D90;
L745: D91 in D86 by TARSKI:def 2;
L746:
now
assume L747: (ex B119 being set st (B119 in D86 & B119 <> D91 & [ B119 , D91 ] in D83));
consider C176 being set such that L748: C176 in D86 and L749: C176 <> D91 and L750: [ C176 , D91 ] in D83 by L747;
L751: C176 = C168 by L748 , L749 , TARSKI:def 2;
thus L752: contradiction by L751 , L656 , L750 , ORDERS_2:def 5;
end;
thus L753: D91 is_minimal_wrt D86 , (the InternalRel of ( C162 \~ )) by L746 , L745 , WAYBEL_4:def 25;
L754:
now
let C177 being set;
thus L755:now
assume L756: C177 in C170;
L757: C177 = C169 by L756 , L743 , TARSKI:def 1;
L758: C177 in ( Class (( EqRel C162 ) , C169) ) by L757 , EQREL_1:20;
thus L759: C177 in ( ( Class (( EqRel C162 ) , C169) ) /\ D86 ) by L758 , L745 , L757 , XBOOLE_0:def 4;
end;
assume L760: C177 in ( ( Class (( EqRel C162 ) , C169) ) /\ D86 );
L761: C177 in ( Class (( EqRel C162 ) , C169) ) by L760 , XBOOLE_0:def 4;
L762: C177 in D86 by L760 , XBOOLE_0:def 4;
per cases  by L762 , TARSKI:def 2;
suppose L763: C177 = C169;

thus L764: C177 in C170 by L763 , L743 , TARSKI:def 1;
end;
suppose L765: C177 = C168;

L766: [ C168 , C169 ] in ( EqRel C162 ) by L765 , L761 , EQREL_1:19;
L767: [ C168 , C169 ] in ( D81 /\ ( D81 ~ ) ) by L766 , L599 , L125;
thus L768: C177 in C170 by L767 , L661 , XBOOLE_0:def 4;
end;
end;
thus L770: C170 = ( ( Class (( EqRel C162 ) , D91) ) /\ D86 ) by L754 , TARSKI:1;
end;
thus L771: C170 in ( min-classes D86 ) by L744 , L496;
end;
end;
L773: ( min-classes D86 ) = D87 by L662 , TARSKI:1;
L774: ( card D87 ) = 1 by L773 , L654;
L775:
now
assume L776: { C168 } = { C169 };
L777: C168 = C169 by L776 , ZFMISC_1:3;
L778: C162 is  reflexive by L599 , L122;
L779: D81 is_reflexive_in D82 by L778 , ORDERS_2:def 2;
thus L780: contradiction by L779 , L658 , L777 , RELAT_2:def 1;
end;
thus L781: contradiction by L775 , L774 , CARD_2:57;
end;
thus L782: C162 is  connected by L655 , WAYBEL_0:def 29;
L783:
now
let C178 being (Subset of C162);
assume L784: C178 <> ( {} );
L785: ( card ( min-classes C178 ) ) = 1 by L784 , L654;
L786: ( min-classes C178 ) <> ( {} ) by L785;
thus L787: (ex B120 being set st B120 in ( min-classes C178 )) by L786 , XBOOLE_0:def 1;
end;
thus L788: thesis by L783 , L550;
end;
theorem
L789: (for B121 being non  empty Poset holds ((the InternalRel of B121) well_orders (the carrier of B121) iff (for B122 being non  empty (Subset of B121) holds ( card ( min-classes B122 ) ) = 1)))
proof
let C179 being non  empty Poset;
set D92 = (the InternalRel of C179);
set D93 = (the carrier of C179);
L790: C179 is  quasi_ordered by L122;
thus L791:now
assume L792: D92 well_orders D93;
L793: D92 is_reflexive_in D93 by L792 , WELLORD1:def 5;
L794: D92 is_connected_in D93 by L792 , WELLORD1:def 5;
L795: D92 is_well_founded_in D93 by L792 , WELLORD1:def 5;
L796: D92 is_strongly_connected_in D93 by L793 , L794 , ORDERS_1:7;
L797: C179 is  connected by L796 , L55;
L798: C179 is  well_founded by L795 , WELLFND1:def 2;
L799: ( C179 \~ ) is  well_founded by L798 , L387;
thus L800: (for B123 being non  empty (Subset of C179) holds ( card ( min-classes B123 ) ) = 1) by L799 , L790 , L797 , L598;
end;
assume L801: (for B124 being non  empty (Subset of C179) holds ( card ( min-classes B124 ) ) = 1);
L802: C179 is  connected by L801 , L790 , L598;
L803: ( C179 \~ ) is  well_founded by L790 , L801 , L598;
L804: D92 is_strongly_connected_in D93 by L802 , L55;
L805: C179 is  well_founded by L803 , L410;
L806: D92 is_reflexive_in D93 by ORDERS_2:def 2;
L807: D92 is_transitive_in D93 by ORDERS_2:def 3;
L808: D92 is_antisymmetric_in D93 by ORDERS_2:def 4;
L809: D92 is_connected_in D93 by L804 , ORDERS_1:7;
L810: D92 is_well_founded_in D93 by L805 , WELLFND1:def 2;
thus L811: thesis by L810 , L806 , L807 , L808 , L809 , WELLORD1:def 5;
end;
definition
let C180 being RelStr;
let C181 being (Subset of C180);
let C182 being set;
pred C182 is_Dickson-basis_of C181 , C180
means
:L812: (C182 c= C181 & (for B125 being (Element of C180) holds (B125 in C181 implies (ex B126 being (Element of C180) st (B126 in C182 & B126 <= B125)))))
;end;
theorem
L814: (for B127 being RelStr holds ( {} ) is_Dickson-basis_of ( {} (the carrier of B127) ) , B127)
proof
let C183 being RelStr;
set D94 = ( {} (the carrier of C183) );
thus L815: ( {} ) c= D94;
thus L816: thesis;
end;
theorem
L817: (for B128 being non  empty RelStr holds (for B129 being non  empty (Subset of B128) holds (for B130 being set holds (B130 is_Dickson-basis_of B129 , B128 implies B130 is non  empty))))
proof
let C184 being non  empty RelStr;
let C185 being non  empty (Subset of C184);
let C186 being set;
assume L818: C186 is_Dickson-basis_of C185 , C184;
set D95 = the (Element of C185);
L819: (ex B131 being (Element of C184) st (B131 in C186 & B131 <= D95)) by L818 , L812;
thus L820: thesis by L819;
end;
definition
let C187 being RelStr;
attr C187 is  Dickson
means
:L821: (for B132 being (Subset of C187) holds (ex B133 being set st (B133 is_Dickson-basis_of B132 , C187 & B133 is  finite)));
end;
theorem
L823: (for B134 being non  empty RelStr holds ((( B134 \~ ) is  well_founded & B134 is  connected) implies B134 is  Dickson))
proof
let C188 being non  empty RelStr;
assume that
L824: ( C188 \~ ) is  well_founded
and
L825: C188 is  connected;
set D96 = (the InternalRel of ( C188 \~ ));
set D97 = (the carrier of ( C188 \~ ));
set D98 = (the InternalRel of C188);
set D99 = (the carrier of C188);
let C189 being (Subset of D99);
per cases ;
suppose L826: C189 = ( {} D99 );

take D100 = ( {} );
thus L827: D100 is_Dickson-basis_of C189 , C188 by L826 , L814;
thus L828: thesis;
end;
suppose L829: C189 <> ( {} D99 );

L830: D96 is_well_founded_in D97 by L824 , WELLFND1:def 2;
consider C190 being set such that L831: C190 in C189 and L832: ( D96 -Seg C190 ) misses C189 by L830 , L829 , WELLORD1:def 3;
L833: ( ( D96 -Seg C190 ) /\ C189 ) = ( {} ) by L832 , XBOOLE_0:def 7;
take D101 = { C190 };
reconsider D102 = C190 as (Element of C189) by L831;
thus L834: D101 is_Dickson-basis_of C189 , C188
proof
L835: { D102 } is (Subset of C189) by L829 , SUBSET_1:33;
thus L836: D101 c= C189 by L835;
let C191 being (Element of C188);
assume that
L837: C191 in C189;
reconsider D103 = D102 as (Element of C188) by L831;
take D103;
thus L838: D103 in D101 by TARSKI:def 1;
per cases  by L825 , WAYBEL_0:def 29;
suppose L839: D103 <= C191;

thus L840: thesis by L839;
end;
suppose L841: C191 <= D103;

L842: [ C191 , D103 ] in D98 by L841 , ORDERS_2:def 5;
L843:
now
per cases ;
suppose L844: C191 = D103;

thus L845: thesis by L844 , L841;
end;
suppose L846: (not C191 = D103);

L847:
now
per cases ;
suppose L848: [ C191 , D103 ] in D96;

L849: C191 in ( D96 -Seg D103 ) by L848 , L846 , WELLORD1:1;
thus L850: thesis by L849 , L833 , L837 , XBOOLE_0:def 4;
end;
suppose L851: (not [ C191 , D103 ] in D96);

L852: [ C191 , D103 ] in ( D98 ~ ) by L851 , L842 , XBOOLE_0:def 5;
L853: [ D103 , C191 ] in D98 by L852 , RELAT_1:def 7;
thus L854: thesis by L853 , ORDERS_2:def 5;
end;
end;
thus L856: thesis by L847;
end;
end;
thus L858: thesis by L843;
end;
end;

thus L860: thesis;
end;
end;
theorem
L862: (for B135 , B136 being RelStr holds (((the InternalRel of B135) c= (the InternalRel of B136) & B135 is  Dickson & (the carrier of B135) = (the carrier of B136)) implies B136 is  Dickson))
proof
let C192 , C193 being RelStr;
assume that
L863: (the InternalRel of C192) c= (the InternalRel of C193)
and
L864: C192 is  Dickson
and
L865: (the carrier of C192) = (the carrier of C193);
let C194 being (Subset of C193);
reconsider D104 = C194 as (Subset of C192) by L865;
consider C195 being set such that L866: C195 is_Dickson-basis_of D104 , C192 and L867: C195 is  finite by L864 , L821;
take C195;
thus L868: C195 c= C194 by L866 , L812;
thus L869:now
let C196 being (Element of C193);
assume that
L870: C196 in C194;
reconsider D105 = C196 as (Element of C192) by L865;
consider C197 being (Element of C192) such that L871: C197 in C195 and L872: C197 <= D105 by L866 , L870 , L812;
reconsider D106 = C197 as (Element of C193) by L865;
take D107 = D106;
L873: [ C197 , D105 ] in (the InternalRel of C192) by L872 , ORDERS_2:def 5;
thus L874: (D107 in C195 & D107 <= C196) by L873 , L863 , L871 , ORDERS_2:def 5;
end;
thus L875: thesis by L867;
end;
definition
let C198 being Function;
let C199 being set;
assume that
L876: ( dom C198 ) = ( NAT )
and
L877: C199 in ( rng C198 );
func C198 mindex C199 -> (Element of ( NAT )) means 
:L878: (( C198 . it ) = C199 & (for B137 being (Element of ( NAT )) holds (( C198 . B137 ) = C199 implies it <= B137)));
existence
proof
set D108 = { B138 where B138 is (Element of ( NAT )) : ( C198 . B138 ) = C199 };
consider C200 being set such that L879: C200 in ( NAT ) and L880: ( C198 . C200 ) = C199 by L876 , L877 , FUNCT_1:def 3;
reconsider D109 = C200 as (Element of ( NAT )) by L879;
L881: D109 in D108 by L880;
L882:
now
let C201 being set;
assume L883: C201 in D108;
L884: (ex B139 being (Element of ( NAT )) st (C201 = B139 & ( C198 . B139 ) = C199)) by L883;
thus L885: C201 in ( NAT ) by L884;
end;
reconsider D110 = D108 as non  empty (Subset of ( NAT )) by L882 , L881 , TARSKI:def 3;
take D111 = ( min D110 );
L886: D111 in D110 by XXREAL_2:def 7;
L887: (ex B140 being (Element of ( NAT )) st (B140 = D111 & ( C198 . B140 ) = C199)) by L886;
thus L888: ( C198 . D111 ) = C199 by L887;
let C202 being (Element of ( NAT ));
assume L889: ( C198 . C202 ) = C199;
L890: C202 in D110 by L889;
thus L891: thesis by L890 , XXREAL_2:def 7;
end;
uniqueness
proof
let C203 , C204 being (Element of ( NAT ));
assume that
L892: ( C198 . C203 ) = C199
and
L893: (for B141 being (Element of ( NAT )) holds (( C198 . B141 ) = C199 implies C203 <= B141))
and
L894: ( C198 . C204 ) = C199
and
L895: (for B142 being (Element of ( NAT )) holds (( C198 . B142 ) = C199 implies C204 <= B142));
assume L896: C203 <> C204;
per cases  by L896 , XXREAL_0:1;
suppose L897: C203 < C204;

thus L898: contradiction by L897 , L892 , L895;
end;
suppose L899: C203 > C204;

thus L900: contradiction by L899 , L893 , L894;
end;
end;
end;
definition
let C205 being non  empty 1-sorted;
let C206 being (sequence of C205);
let C207 being set;
let C208 being (Element of ( NAT ));
assume L903: (ex B143 being (Element of ( NAT )) st (C208 < B143 & ( C206 . B143 ) = C207));
func C206 mindex (C207 , C208) -> (Element of ( NAT )) means 
:L904: (( C206 . it ) = C207 & C208 < it & (for B144 being (Element of ( NAT )) holds ((C208 < B144 & ( C206 . B144 ) = C207) implies it <= B144)));
existence
proof
set D112 = { B145 where B145 is (Element of ( NAT )) : (C208 < B145 & ( C206 . B145 ) = C207) };
consider C209 being (Element of ( NAT )) such that L905: C208 < C209 and L906: ( C206 . C209 ) = C207 by L903;
L907: C209 in D112 by L905 , L906;
L908:
now
let C210 being set;
assume L909: C210 in D112;
L910: (ex B146 being (Element of ( NAT )) st (C210 = B146 & C208 < B146 & ( C206 . B146 ) = C207)) by L909;
thus L911: C210 in ( NAT ) by L910;
end;
reconsider D113 = D112 as non  empty (Subset of ( NAT )) by L908 , L907 , TARSKI:def 3;
take D114 = ( min D113 );
L912: D114 in D113 by XXREAL_2:def 7;
L913: (ex B147 being (Element of ( NAT )) st (B147 = D114 & C208 < B147 & ( C206 . B147 ) = C207)) by L912;
thus L914: (( C206 . D114 ) = C207 & C208 < D114) by L913;
let C211 being (Element of ( NAT ));
assume that
L915: C208 < C211
and
L916: ( C206 . C211 ) = C207;
L917: C211 in D113 by L915 , L916;
thus L918: thesis by L917 , XXREAL_2:def 7;
end;
uniqueness
proof
let C212 , C213 being (Element of ( NAT ));
assume that
L919: ( C206 . C212 ) = C207
and
L920: C208 < C212
and
L921: (for B148 being (Element of ( NAT )) holds ((C208 < B148 & ( C206 . B148 ) = C207) implies C212 <= B148))
and
L922: ( C206 . C213 ) = C207
and
L923: C208 < C213
and
L924: (for B149 being (Element of ( NAT )) holds ((C208 < B149 & ( C206 . B149 ) = C207) implies C213 <= B149));
assume L925: C212 <> C213;
per cases  by L925 , XXREAL_0:1;
suppose L926: C212 < C213;

thus L927: contradiction by L926 , L919 , L920 , L924;
end;
suppose L928: C212 > C213;

thus L929: contradiction by L928 , L921 , L922 , L923;
end;
end;
end;
theorem
L932: (for B150 being non  empty RelStr holds (B150 is  Dickson implies (for B151 being (sequence of B150) holds (ex B152 , B153 being (Element of ( NAT )) st (B152 < B153 & ( B151 . B152 ) <= ( B151 . B153 ))))))
proof
let C214 being non  empty RelStr;
assume that
L933: C214 is  Dickson;
let C215 being (sequence of C214);
set D115 = ( rng C215 );
L934: ( dom C215 ) = ( NAT ) by FUNCT_2:def 1;
consider C216 being set such that L935: C216 is_Dickson-basis_of D115 , C214 and L936: C216 is  finite by L933 , L821;
reconsider D116 = C216 as  finite non  empty set by L935 , L936 , L817;
defpred S2[ set ] means (not contradiction);
deffunc H2(set) = ( C215 mindex $1 );
set D117 = { H2(B154) where B154 is (Element of D116) : S2[ B154 ] };
L937: D117 is  finite from PRE_CIRC:sch 1;
set D118 = the (Element of D116);
L938: ( C215 mindex D118 ) in D117;
L939:
now
let C217 being set;
assume L940: C217 in D117;
L941: (ex B155 being (Element of D116) st C217 = ( C215 mindex B155 )) by L940;
thus L942: C217 in ( NAT ) by L941;
end;
reconsider D119 = D117 as  finite non  empty (Subset of ( NAT )) by L939 , L937 , L938 , TARSKI:def 3;
reconsider D120 = ( max D119 ) as (Element of ( NAT )) by ORDINAL1:def 12;
set D121 = ( D120 + 1 );
reconsider D122 = ( C215 . D121 ) as (Element of C214);
L943: D122 in D115 by L934 , FUNCT_1:3;
consider C218 being (Element of C214) such that L944: C218 in D116 and L945: C218 <= D122 by L943 , L935 , L812;
L946: D116 c= D115 by L935 , L812;
take D123 = ( C215 mindex C218 );
take D121;
L947: D123 in D119 by L944;
L948: D123 <= ( max D119 ) by L947 , XXREAL_2:def 8;
thus L949: D123 < D121 by L948 , NAT_1:13;
L950: ( dom C215 ) = ( NAT ) by NORMSP_1:12;
thus L951: thesis by L950 , L944 , L945 , L946 , L878;
end;
theorem
L952: (for B156 being RelStr holds (for B157 being (Subset of B156) holds (for B158 being (Element of ( B156 \~ )) holds ((B156 is  quasi_ordered & B158 in B157 & ( ( (the InternalRel of B156) -Seg B158 ) /\ B157 ) c= ( Class (( EqRel B156 ) , B158) )) implies B158 is_minimal_wrt B157 , (the InternalRel of ( B156 \~ ))))))
proof
let C219 being RelStr;
let C220 being (Subset of C219);
let C221 being (Element of ( C219 \~ ));
assume that
L953: C219 is  quasi_ordered
and
L954: C221 in C220
and
L955: ( ( (the InternalRel of C219) -Seg C221 ) /\ C220 ) c= ( Class (( EqRel C219 ) , C221) );
set D124 = (the InternalRel of C219);
set D125 = (the InternalRel of ( C219 \~ ));
L956:
now
assume L957: (ex B159 being set st (B159 in C220 & B159 <> C221 & [ B159 , C221 ] in D125));
consider C222 being set such that L958: C222 in C220 and L959: C222 <> C221 and L960: [ C222 , C221 ] in D125 by L957;
L961: (not [ C222 , C221 ] in ( D124 ~ )) by L960 , XBOOLE_0:def 5;
L962: C222 in ( D124 -Seg C221 ) by L959 , L960 , WELLORD1:1;
L963: C222 in ( ( D124 -Seg C221 ) /\ C220 ) by L962 , L958 , XBOOLE_0:def 4;
L964: [ C222 , C221 ] in ( EqRel C219 ) by L963 , L955 , EQREL_1:19;
L965: [ C222 , C221 ] in ( D124 /\ ( D124 ~ ) ) by L964 , L953 , L125;
thus L966: contradiction by L965 , L961 , XBOOLE_0:def 4;
end;
thus L967: thesis by L956 , L954 , WAYBEL_4:def 25;
end;
theorem
L968: (for B160 being non  empty RelStr holds ((B160 is  quasi_ordered & (for B161 being (sequence of B160) holds (ex B162 , B163 being (Element of ( NAT )) st (B162 < B163 & ( B161 . B162 ) <= ( B161 . B163 ))))) implies (for B164 being non  empty (Subset of B160) holds (( min-classes B164 ) is  finite & ( min-classes B164 ) is non  empty))))
proof
let C223 being non  empty RelStr;
assume that
L969: C223 is  quasi_ordered
and
L970: (for B165 being (sequence of C223) holds (ex B166 , B167 being (Element of ( NAT )) st (B166 < B167 & ( B165 . B166 ) <= ( B165 . B167 ))));
set D126 = (the InternalRel of C223);
set D127 = (the InternalRel of ( C223 \~ ));
L971: C223 is  transitive by L969 , L122;
let C224 being non  empty (Subset of C223);
assume that
L972: (not (( min-classes C224 ) is  finite & ( min-classes C224 ) is non  empty));
per cases  by L972;
suppose L973: ( min-classes C224 ) is  infinite;

reconsider D128 = ( min-classes C224 ) as  infinite set by L973;
consider C225 being (Function of ( NAT ) , ( min-classes C224 )) such that L974: C225 is  one-to-one by L973 , L27;
deffunc H3(set) = ( choose ( C225 . $1 ) );
L975:
now
let C226 being set;
assume L976: C226 in ( NAT );
reconsider D129 = C226 as (Element of ( NAT )) by L976;
L977: ( C225 . D129 ) is (Element of ( min-classes C224 ));
L978: ( C225 . C226 ) in D128 by L977;
L979: ( C225 . C226 ) is non  empty by L978 , L591;
L980: ( choose ( C225 . D129 ) ) in ( C225 . C226 ) by L979;
thus L981: H3(C226) in (the carrier of C223) by L980 , L978;
end;
consider C227 being (Function of ( NAT ) , (the carrier of C223)) such that L982: (for B168 being set holds (B168 in ( NAT ) implies ( C227 . B168 ) = H3(B168))) from FUNCT_2:sch 2(L975);
reconsider D130 = C227 as (sequence of C223);
consider C228 , C229 being (Element of ( NAT )) such that L983: C228 < C229 and L984: ( D130 . C228 ) <= ( D130 . C229 ) by L970;
reconsider D131 = ( D130 . C228 ) , D132 = ( D130 . C229 ) as (Element of ( C223 \~ ));
L985: [ D131 , D132 ] in D126 by L984 , ORDERS_2:def 5;
L986: ( C225 . C228 ) in D128;
L987: ( C225 . C228 ) is non  empty by L986 , L591;
L988: ( C225 . C229 ) in D128;
L989: ( C225 . C229 ) is non  empty by L988 , L591;
L990: ( D130 . C229 ) = ( choose ( C225 . C229 ) ) by L982;
L991: ( D130 . C228 ) = ( choose ( C225 . C228 ) ) by L982;
L992: D132 is_minimal_wrt C224 , (the InternalRel of ( C223 \~ )) by L969 , L988 , L989 , L990 , L521;
L993: D131 is_minimal_wrt C224 , (the InternalRel of ( C223 \~ )) by L969 , L986 , L987 , L991 , L521;
L994: D131 in C224 by L993 , WAYBEL_4:def 25;
L995:
now
per cases ;
suppose L996: D131 = D132;

thus L997: [ D131 , D132 ] in ( D126 ~ ) by L996 , L985 , RELAT_1:def 7;
end;
suppose L998: D131 <> D132;

L999:
now
assume L1000: (not [ D131 , D132 ] in ( D126 ~ ));
L1001: [ D131 , D132 ] in ( D126 \ ( D126 ~ ) ) by L1000 , L985 , XBOOLE_0:def 5;
thus L1002: contradiction by L1001 , L992 , L994 , L998 , WAYBEL_4:def 25;
end;
thus L1003: [ D131 , D132 ] in ( D126 ~ ) by L999;
end;
end;
L1005: [ D131 , D132 ] in D126 by L984 , ORDERS_2:def 5;
L1006: [ D131 , D132 ] in ( D126 /\ ( D126 ~ ) ) by L1005 , L995 , XBOOLE_0:def 4;
L1007: [ D131 , D132 ] in ( EqRel C223 ) by L1006 , L969 , L125;
L1008: D131 in ( Class (( EqRel C223 ) , D132) ) by L1007 , EQREL_1:19;
L1009: ( Class (( EqRel C223 ) , D132) ) = ( Class (( EqRel C223 ) , D131) ) by L1008 , EQREL_1:23;
consider C230 being (Element of ( C223 \~ )) such that L1010: C230 is_minimal_wrt C224 , D127 and L1011: ( C225 . C229 ) = ( ( Class (( EqRel C223 ) , C230) ) /\ C224 ) by L988 , L496;
consider C231 being (Element of ( C223 \~ )) such that L1012: C231 is_minimal_wrt C224 , D127 and L1013: ( C225 . C228 ) = ( ( Class (( EqRel C223 ) , C231) ) /\ C224 ) by L986 , L496;
L1014: D132 in ( Class (( EqRel C223 ) , C230) ) by L989 , L990 , L1011 , XBOOLE_0:def 4;
L1015: ( Class (( EqRel C223 ) , D132) ) = ( Class (( EqRel C223 ) , C230) ) by L1014 , EQREL_1:23;
L1016: D131 in ( Class (( EqRel C223 ) , C231) ) by L987 , L991 , L1013 , XBOOLE_0:def 4;
L1017: ( C225 . C228 ) = ( C225 . C229 ) by L1016 , L1009 , L1011 , L1013 , L1015 , EQREL_1:23;
thus L1018: contradiction by L1017 , L973 , L974 , L983 , FUNCT_2:19;
end;
suppose L1019: ( min-classes C224 ) is  empty;

deffunc H4(set , set) = ( choose ( ( ( D126 -Seg $2 ) /\ C224 ) \ ( Class (( EqRel C223 ) , $2) ) ) );
consider C232 being Function such that L1020: ( dom C232 ) = ( NAT ) and L1021: ( C232 . ( 0 ) ) = ( choose C224 ) and L1022: (for B169 being Nat holds ( C232 . ( B169 + 1 ) ) = H4(B169 , ( C232 . B169 ))) from NAT_1:sch 11;
defpred S3[ Nat ] means ( C232 . $1 ) in C224;
L1023: S3[ ( 0 ) ] by L1021;
L1024:
now
let C233 being (Element of ( NAT ));
assume that
L1025: S3[ C233 ];
reconsider D133 = ( C232 . C233 ) as (Element of ( C223 \~ )) by L1025;
set D134 = ( ( ( D126 -Seg D133 ) /\ C224 ) \ ( Class (( EqRel C223 ) , D133) ) );
L1026: ( C232 . ( C233 + 1 ) ) = ( choose ( ( ( D126 -Seg ( C232 . C233 ) ) /\ C224 ) \ ( Class (( EqRel C223 ) , ( C232 . C233 )) ) ) ) by L1022;
L1027:
now
assume L1028: D134 is  empty;
L1029: ( ( D126 -Seg D133 ) /\ C224 ) c= ( Class (( EqRel C223 ) , D133) ) by L1028 , XBOOLE_1:37;
thus L1030: contradiction by L1029 , L969 , L1019 , L1025 , L587 , L952;
end;
L1031: ( C232 . ( C233 + 1 ) ) in ( ( D126 -Seg ( C232 . C233 ) ) /\ C224 ) by L1027 , L1026 , XBOOLE_0:def 5;
thus L1032: S3[ ( C233 + 1 ) ] by L1031 , XBOOLE_0:def 4;
end;
L1033: (for B170 being (Element of ( NAT )) holds S3[ B170 ]) from NAT_1:sch 1(L1023 , L1024);
L1034:
now
let C234 being set;
assume L1035: C234 in ( NAT );
L1036: ( C232 . C234 ) in C224 by L1035 , L1033;
thus L1037: ( C232 . C234 ) in (the carrier of C223) by L1036;
end;
reconsider D135 = C232 as (sequence of C223) by L1034 , L1020 , FUNCT_2:3;
L1038:
now
let C235 being (Element of ( NAT ));
defpred S4[ (Element of ( NAT )) ] means (C235 < $1 implies ( D135 . C235 ) >= ( D135 . $1 ));
L1039: S4[ ( 0 ) ] by NAT_1:2;
L1040: (for B171 being (Element of ( NAT )) holds (S4[ B171 ] implies S4[ ( B171 + 1 ) ]))
proof
let C236 being (Element of ( NAT ));
assume that
L1041: (C235 < C236 implies ( D135 . C235 ) >= ( D135 . C236 ))
and
L1042: C235 < ( C236 + 1 );
L1043: C235 <= C236 by L1042 , NAT_1:13;
reconsider D136 = ( D135 . C236 ) , D137 = ( D135 . ( C236 + 1 ) ) as (Element of ( C223 \~ ));
set D138 = ( ( ( D126 -Seg D136 ) /\ C224 ) \ ( Class (( EqRel C223 ) , D136) ) );
L1044: D136 in C224 by L1033;
L1045: D137 = ( choose D138 ) by L1022;
L1046:
now
assume L1047: D138 is  empty;
L1048: ( ( D126 -Seg D136 ) /\ C224 ) c= ( Class (( EqRel C223 ) , D136) ) by L1047 , XBOOLE_1:37;
thus L1049: contradiction by L1048 , L969 , L1019 , L1044 , L587 , L952;
end;
L1050: D137 in ( ( D126 -Seg D136 ) /\ C224 ) by L1046 , L1045 , XBOOLE_0:def 5;
L1051: D137 in ( D126 -Seg D136 ) by L1050 , XBOOLE_0:def 4;
L1052: [ D137 , D136 ] in D126 by L1051 , WELLORD1:1;
L1053: ( D135 . C236 ) >= ( D135 . ( C236 + 1 ) ) by L1052 , ORDERS_2:def 5;
per cases  by L1043 , XXREAL_0:1;
suppose L1054: C235 < C236;

thus L1055: thesis by L1054 , L971 , L1041 , L1053 , ORDERS_2:3;
end;
suppose L1056: C235 = C236;

thus L1057: thesis by L1056 , L1052 , ORDERS_2:def 5;
end;
end;
thus L1059: (for B172 being (Element of ( NAT )) holds S4[ B172 ]) from NAT_1:sch 1(L1039 , L1040);
end;
L1060:
now
let C237 being (Element of ( NAT ));
defpred S5[ (Element of ( NAT )) ] means (C237 < $1 implies (not ( D135 . C237 ) <= ( D135 . $1 )));
L1061: S5[ ( 0 ) ] by NAT_1:2;
L1062: (for B173 being (Element of ( NAT )) holds (S5[ B173 ] implies S5[ ( B173 + 1 ) ]))
proof
let C238 being (Element of ( NAT ));
assume that
L1063: (C237 < C238 implies (not ( D135 . C237 ) <= ( D135 . C238 )))
and
L1064: C237 < ( C238 + 1 );
L1065: C237 <= C238 by L1064 , NAT_1:13;
reconsider D139 = ( D135 . C238 ) , D140 = ( D135 . ( C238 + 1 ) ) as (Element of ( C223 \~ ));
L1066: D139 in C224 by L1033;
per cases  by L1065 , XXREAL_0:1;
suppose L1067: C237 < C238;

assume L1068: ( D135 . C237 ) <= ( D135 . ( C238 + 1 ) );
L1069: C238 < ( C238 + 1 ) by NAT_1:13;
L1070: ( D135 . C238 ) >= ( D135 . ( C238 + 1 ) ) by L1069 , L1038;
L1071: ( D135 . C237 ) >= ( D135 . C238 ) by L1038 , L1067;
L1072: ( D135 . C238 ) <= ( D135 . ( C238 + 1 ) ) by L1071 , L971 , L1068 , ORDERS_2:3;
L1073: D140 in ( Class (( EqRel C223 ) , D139) ) by L1072 , L969 , L1070 , L164;
set D141 = ( ( ( D126 -Seg D139 ) /\ C224 ) \ ( Class (( EqRel C223 ) , D139) ) );
L1074: D140 = ( choose D141 ) by L1022;
L1075:
now
assume L1076: D141 is  empty;
L1077: ( ( D126 -Seg D139 ) /\ C224 ) c= ( Class (( EqRel C223 ) , D139) ) by L1076 , XBOOLE_1:37;
thus L1078: contradiction by L1077 , L969 , L1019 , L1066 , L587 , L952;
end;
thus L1079: contradiction by L1075 , L1073 , L1074 , XBOOLE_0:def 5;
end;
suppose L1080: C237 = C238;

assume L1081: ( D135 . C237 ) <= ( D135 . ( C238 + 1 ) );
L1082: C238 < ( C238 + 1 ) by NAT_1:13;
L1083: ( D135 . ( C238 + 1 ) ) <= ( D135 . C238 ) by L1082 , L1038;
L1084: D140 in ( Class (( EqRel C223 ) , D139) ) by L1083 , L969 , L1080 , L1081 , L164;
set D142 = ( ( ( D126 -Seg D139 ) /\ C224 ) \ ( Class (( EqRel C223 ) , D139) ) );
L1085: D140 = ( choose D142 ) by L1022;
L1086:
now
assume L1087: D142 is  empty;
L1088: ( ( D126 -Seg D139 ) /\ C224 ) c= ( Class (( EqRel C223 ) , D139) ) by L1087 , XBOOLE_1:37;
thus L1089: contradiction by L1088 , L969 , L1019 , L1066 , L587 , L952;
end;
thus L1090: contradiction by L1086 , L1084 , L1085 , XBOOLE_0:def 5;
end;
end;
thus L1092: (for B174 being (Element of ( NAT )) holds S5[ B174 ]) from NAT_1:sch 1(L1061 , L1062);
end;
thus L1093: contradiction by L1060 , L970;
end;
end;
theorem
L1095: (for B175 being non  empty RelStr holds ((B175 is  quasi_ordered & (for B176 being non  empty (Subset of B175) holds (( min-classes B176 ) is  finite & ( min-classes B176 ) is non  empty))) implies B175 is  Dickson))
proof
let C239 being non  empty RelStr;
assume that
L1096: C239 is  quasi_ordered
and
L1097: (for B177 being non  empty (Subset of C239) holds (( min-classes B177 ) is  finite & ( min-classes B177 ) is non  empty));
L1098: C239 is  transitive by L1096 , L122;
L1099: C239 is  reflexive by L1096 , L122;
set D143 = (the InternalRel of C239);
set D144 = (the carrier of C239);
set D145 = (the InternalRel of ( C239 \~ ));
let C240 being (Subset of D144);
per cases ;
suppose L1100: C240 = ( {} D144 );

take D146 = ( {} );
thus L1101: D146 is_Dickson-basis_of C240 , C239 by L1100 , L814;
thus L1102: thesis;
end;
suppose L1103: (not C240 is  empty);

reconsider D147 = C240 as non  empty (Subset of D144) by L1103;
reconsider D148 = ( min-classes D147 ) as  finite non  empty (Subset-Family of D144) by L1097;
take D149 = { ( choose B178 ) where B178 is (Element of D148) : (not contradiction) };
thus L1104: D149 is_Dickson-basis_of C240 , C239
proof
L1105:
now
let C241 being set;
assume L1106: C241 in D149;
consider C242 being (Element of D148) such that L1107: C241 = ( choose C242 ) by L1106;
L1108: (ex B179 being (Element of ( C239 \~ )) st (B179 is_minimal_wrt C240 , D145 & C242 = ( ( Class (( EqRel C239 ) , B179) ) /\ C240 ))) by L496;
L1109: C242 is non  empty by L591;
thus L1110: C241 in C240 by L1109 , L1107 , L1108 , XBOOLE_0:def 4;
end;
thus L1111: D149 c= C240 by L1105 , TARSKI:def 3;
let C243 being (Element of C239);
assume that
L1112: C243 in C240;
defpred S6[ (Element of C239) ] means $1 <= C243;
set D150 = { B180 where B180 is (Element of D147) : S6[ B180 ] };
L1113: D150 is (Subset of D147) from DOMAIN_1:sch 7;
L1114: C243 <= C243 by L1099 , ORDERS_2:1;
L1115: C243 in D150 by L1114 , L1112;
reconsider D151 = D150 as non  empty (Subset of D144) by L1115 , L1113 , XBOOLE_1:1;
set D152 = the (Element of ( min-classes D151 ));
L1116: ( min-classes D151 ) is non  empty by L1097;
reconsider D153 = D152 as non  empty set by L1116 , L591;
set D154 = the (Element of D153);
consider C244 being (Element of ( C239 \~ )) such that L1117: C244 is_minimal_wrt D151 , D145 and L1118: D153 = ( ( Class (( EqRel C239 ) , C244) ) /\ D151 ) by L1116 , L496;
L1119: D154 in ( Class (( EqRel C239 ) , C244) ) by L1118 , XBOOLE_0:def 4;
L1120: D154 in D151 by L1118 , XBOOLE_0:def 4;
reconsider D155 = D154 as (Element of ( C239 \~ )) by L1119;
reconsider D156 = D155 as (Element of C239);
L1121: (ex B181 being (Element of D147) st (D155 = B181 & B181 <= C243)) by L1120;
L1122: D155 is_minimal_wrt D151 , D145 by L1096 , L1116 , L521;
L1123:
now
assume L1124: (not D155 is_minimal_wrt C240 , D145);
consider C245 being set such that L1125: C245 in C240 and L1126: C245 <> D155 and L1127: [ C245 , D155 ] in D145 by L1124 , L1121 , WAYBEL_4:def 25;
reconsider D157 = C245 as (Element of C239) by L1127 , ZFMISC_1:87;
L1128: D157 <= D156 by L1127 , ORDERS_2:def 5;
L1129: D157 <= C243 by L1128 , L1098 , L1121 , ORDERS_2:3;
L1130: D157 in D151 by L1129 , L1125;
thus L1131: contradiction by L1130 , L1122 , L1126 , L1127 , WAYBEL_4:def 25;
end;
L1132: ( ( Class (( EqRel C239 ) , D155) ) /\ C240 ) in ( min-classes C240 ) by L1123 , L496;
L1133: ( ( Class (( EqRel C239 ) , D155) ) /\ C240 ) is non  empty by L1132 , L591;
set D158 = ( choose ( ( Class (( EqRel C239 ) , D155) ) /\ C240 ) );
L1134: D158 in C240 by L1133 , XBOOLE_0:def 4;
reconsider D159 = D158 as (Element of C239) by L1134;
take D159;
thus L1135: D159 in D149 by L1132;
L1136: D159 in ( Class (( EqRel C239 ) , D155) ) by L1133 , XBOOLE_0:def 4;
L1137: [ D159 , D155 ] in ( EqRel C239 ) by L1136 , EQREL_1:19;
L1138: [ D159 , D155 ] in ( D143 /\ ( D143 ~ ) ) by L1137 , L1096 , L125;
L1139: [ D159 , D155 ] in D143 by L1138 , XBOOLE_0:def 4;
L1140: D159 <= D156 by L1139 , ORDERS_2:def 5;
thus L1141: thesis by L1140 , L1098 , L1121 , ORDERS_2:3;
end;

deffunc H5(set) = ( choose $1 );
defpred S7[ set ] means (not contradiction);
L1142: { H5(B182) where B182 is (Element of D148) : S7[ B182 ] } is  finite from PRE_CIRC:sch 1;
thus L1143: thesis by L1142;
end;
end;
theorem
L1145: (for B183 being non  empty RelStr holds ((B183 is  quasi_ordered & B183 is  Dickson) implies ( B183 \~ ) is  well_founded))
proof
let C246 being non  empty RelStr;
assume that
L1146: C246 is  quasi_ordered
and
L1147: C246 is  Dickson;
L1148: (for B184 being (sequence of C246) holds (ex B185 , B186 being (Element of ( NAT )) st (B185 < B186 & ( B184 . B185 ) <= ( B184 . B186 )))) by L1147 , L932;
L1149:
now
let C247 being (Subset of C246);
assume L1150: C247 <> ( {} );
L1151: ( min-classes C247 ) is non  empty by L1150 , L1146 , L1148 , L968;
thus L1152: (ex B187 being set st B187 in ( min-classes C247 )) by L1151 , XBOOLE_0:def 1;
end;
thus L1153: thesis by L1149 , L550;
end;
theorem
L1154: (for B188 being non  empty Poset holds (for B189 being non  empty (Subset of B188) holds (B188 is  Dickson implies (ex B190 being set st (B190 is_Dickson-basis_of B189 , B188 & (for B191 being set holds (B191 is_Dickson-basis_of B189 , B188 implies B190 c= B191)))))))
proof
let C248 being non  empty Poset;
let C249 being non  empty (Subset of C248);
assume that
L1155: C248 is  Dickson;
set D160 = (the InternalRel of C248);
set D161 = (the carrier of C248);
set D162 = (the InternalRel of ( C248 \~ ));
set D163 = { B192 where B192 is (Element of ( C248 \~ )) : B192 is_minimal_wrt C249 , D162 };
L1156: C248 is  quasi_ordered by L122;
L1157: (for B193 being (sequence of C248) holds (ex B194 , B195 being (Element of ( NAT )) st (B194 < B195 & ( B193 . B194 ) <= ( B193 . B195 )))) by L1155 , L932;
L1158: ( min-classes C249 ) is non  empty by L1157 , L1156 , L968;
consider C250 being set such that L1159: C250 in ( min-classes C249 ) by L1158 , XBOOLE_0:def 1;
consider C251 being (Element of ( C248 \~ )) such that L1160: C251 is_minimal_wrt C249 , D162 and L1161: C250 = ( ( Class (( EqRel C248 ) , C251) ) /\ C249 ) by L1159 , L496;
L1162: C251 in D163 by L1160;
reconsider D164 = D163 as non  empty set by L1162;
take D164;
L1163:
now
let C252 being set;
assume L1164: C252 in D164;
L1165: (ex B196 being (Element of ( C248 \~ )) st (C252 = B196 & B196 is_minimal_wrt C249 , D162)) by L1164;
thus L1166: C252 in C249 by L1165 , WAYBEL_4:def 25;
end;
L1167: D164 c= C249 by L1163 , TARSKI:def 3;
thus L1168: D164 is_Dickson-basis_of C249 , C248
proof
thus L1169: D164 c= C249 by L1163 , TARSKI:def 3;
let C253 being (Element of C248);
assume that
L1170: C253 in C249;
reconsider D165 = C253 as (Element of ( C248 \~ ));
L1171:
now
assume L1172: (not (ex B197 being (Element of C248) st (B197 in D164 & B197 <= C253)));
per cases ;
suppose L1173: ( ( D162 -Seg C253 ) /\ C249 ) = ( {} );

L1174: ( D162 -Seg C253 ) misses C249 by L1173 , XBOOLE_0:def 7;
L1175: D165 is_minimal_wrt C249 , D162 by L1174 , L1170 , L69;
L1176: C253 in D164 by L1175;
thus L1177: contradiction by L1176 , L1172;
end;
suppose L1178: ( ( D162 -Seg C253 ) /\ C249 ) <> ( {} );

L1179: ( C248 \~ ) is  well_founded by L1155 , L1156 , L1145;
L1180: D162 is_well_founded_in D161 by L1179 , WELLFND1:def 2;
consider C254 being set such that L1181: C254 in ( ( D162 -Seg C253 ) /\ C249 ) and L1182: ( D162 -Seg C254 ) misses ( ( D162 -Seg C253 ) /\ C249 ) by L1180 , L1178 , WELLORD1:def 3;
L1183: C254 in ( D162 -Seg C253 ) by L1181 , XBOOLE_0:def 4;
L1184: [ C254 , C253 ] in D162 by L1183 , WELLORD1:1;
L1185: C254 in ( dom D162 ) by L1184 , XTUPLE_0:def 12;
reconsider D166 = C254 as (Element of ( C248 \~ )) by L1185;
reconsider D167 = D166 as (Element of C248);
L1186: D166 is_minimal_wrt ( ( D162 -Seg D165 ) /\ C249 ) , D162 by L1181 , L1182 , L69;
L1187: D166 is_minimal_wrt C249 , D162 by L1186 , L94;
L1188: D166 in D164 by L1187;
L1189: [ D166 , C253 ] in ( D160 \ ( D160 ~ ) ) by L1183 , WELLORD1:1;
L1190: D167 <= C253 by L1189 , ORDERS_2:def 5;
thus L1191: contradiction by L1190 , L1172 , L1188;
end;
end;
thus L1193: (ex B198 being (Element of C248) st (B198 in D164 & B198 <= C253)) by L1171;
end;

let C255 being set;
assume that
L1194: C255 is_Dickson-basis_of C249 , C248;
L1195: C255 c= C249 by L1194 , L812;
L1196:
now
let C256 being set;
assume that
L1197: C256 in D164;
L1198: C256 in C249 by L1163 , L1197;
reconsider D168 = C256 as (Element of C248) by L1198;
consider C257 being (Element of C248) such that L1199: C257 in C255 and L1200: C257 <= D168 by L1167 , L1194 , L1197 , L812;
L1201: (ex B199 being (Element of ( C248 \~ )) st (B199 = C256 & B199 is_minimal_wrt C249 , D162)) by L1197;
L1202: [ C257 , C256 ] in D160 by L1200 , ORDERS_2:def 5;
L1203: D160 is_antisymmetric_in D161 by ORDERS_2:def 4;
L1204: [ C256 , C257 ] in D160 by L1195 , L1199 , L1201 , L1202 , L437;
thus L1205: C256 in C255 by L1204 , L1199 , L1200 , L1202 , L1203 , RELAT_2:def 4;
end;
thus L1206: thesis by L1196 , TARSKI:def 3;
end;
definition
let C258 being non  empty RelStr;
let C259 being (Subset of C258);
assume that
L1207: C258 is  Dickson;
func Dickson-bases (C259 , C258) -> non  empty (Subset-Family of C258) means 
:L1208: (for B200 being set holds (B200 in it iff B200 is_Dickson-basis_of C259 , C258));
existence
proof
set D169 = { B201 where B201 is (Subset of C259) : B201 is_Dickson-basis_of C259 , C258 };
set D170 = (the carrier of C258);
consider C260 being set such that L1209: C260 is_Dickson-basis_of C259 , C258 and L1210: C260 is  finite by L1207 , L821;
L1211: C260 c= C259 by L1209 , L812;
L1212: C260 in D169 by L1211 , L1209;
L1213:
now
let C261 being set;
assume L1214: C261 in D169;
consider C262 being (Subset of C259) such that L1215: C261 = C262 and L1216: C262 is_Dickson-basis_of C259 , C258 by L1214;
L1217: C262 c= D170 by XBOOLE_1:1;
thus L1218: C261 in ( bool D170 ) by L1217 , L1215;
end;
reconsider D171 = D169 as non  empty (Subset-Family of D170) by L1213 , L1212 , TARSKI:def 3;
take D171;
let C263 being set;
thus L1219:now
assume L1220: C263 in D171;
L1221: (ex B202 being (Subset of C259) st (B202 = C263 & B202 is_Dickson-basis_of C259 , C258)) by L1220;
thus L1222: C263 is_Dickson-basis_of C259 , C258 by L1221;
end;
assume L1223: C263 is_Dickson-basis_of C259 , C258;
L1224: C263 c= C259 by L1223 , L812;
thus L1225: thesis by L1224 , L1223;
end;
uniqueness
proof
let C264 , C265 being non  empty (Subset-Family of C258);
assume that
L1226: (for B203 being set holds (B203 in C264 iff B203 is_Dickson-basis_of C259 , C258))
and
L1227: (for B204 being set holds (B204 in C265 iff B204 is_Dickson-basis_of C259 , C258));
L1228:
now
let C266 being set;
thus L1229:now
assume L1230: C266 in C264;
L1231: C266 is_Dickson-basis_of C259 , C258 by L1230 , L1226;
thus L1232: C266 in C265 by L1231 , L1227;
end;
assume L1233: C266 in C265;
L1234: C266 is_Dickson-basis_of C259 , C258 by L1233 , L1227;
thus L1235: C266 in C264 by L1234 , L1226;
end;
thus L1236: thesis by L1228 , TARSKI:1;
end;
end;
theorem
L1238: (for B205 being non  empty RelStr holds (for B206 being (sequence of B205) holds (B205 is  Dickson implies (ex B207 being (sequence of B205) st (B207 is (subsequence of B206) & B207 is  weakly-ascending)))))
proof
let C267 being non  empty RelStr;
let C268 being (sequence of C267);
assume that
L1239: C267 is  Dickson;
set D172 = (the carrier of C267);
deffunc H6((Element of ( rng C268 )) , (Element of ( NAT ))) = { B208 where B208 is (Element of ( NAT )) : ($1 <= ( C268 . B208 ) & $2 < B208) };
deffunc H7((Element of ( rng C268 ))) = { B209 where B209 is (Element of ( NAT )) : $1 <= ( C268 . B209 ) };
defpred S8[ set , (Element of ( NAT )) , set ] means (ex B210 being (Subset of D172) st (ex B211 being non  empty (Subset of D172) st (B210 = { ( C268 . B212 ) where B212 is (Element of ( NAT )) : (( C268 . $2 ) <= ( C268 . B212 ) & $2 < B212) } & { B213 where B213 is (Element of ( NAT )) : (( C268 . $2 ) <= ( C268 . B213 ) & $2 < B213) } is  infinite & B211 = ( choose { B214 where B214 is (Element of ( Dickson-bases (B210 , C267) )) : B214 is  finite } ) & $3 = ( C268 mindex (( choose { B215 where B215 is (Element of B211) : (ex B216 being (Element of ( rng C268 )) st (B216 = B215 & H6(B216 , $2) is  infinite)) } ) , $2) ))));
defpred S9[ set , (Element of ( NAT )) , set ] means ({ B217 where B217 is (Element of ( NAT )) : (( C268 . $2 ) <= ( C268 . B217 ) & $2 < B217) } is  infinite implies S8[ $1 , $2 , $3 ]);
L1240: (for B218 being (Element of ( NAT )) holds (for B219 being (Element of ( NAT )) holds (ex B220 being (Element of ( NAT )) st S9[ B218 , B219 , B220 ])))
proof
let C269 being (Element of ( NAT ));
let C270 being (Element of ( NAT ));
set D173 = { ( C268 . B221 ) where B221 is (Element of ( NAT )) : (( C268 . C270 ) <= ( C268 . B221 ) & C270 < B221) };
L1241:
now
let C271 being set;
assume L1242: C271 in D173;
L1243: (ex B222 being (Element of ( NAT )) st (C271 = ( C268 . B222 ) & ( C268 . C270 ) <= ( C268 . B222 ) & C270 < B222)) by L1242;
thus L1244: C271 in D172 by L1243;
end;
reconsider D174 = D173 as (Subset of D172) by L1241 , TARSKI:def 3;
set D175 = { B223 where B223 is (Element of ( NAT )) : (( C268 . C270 ) <= ( C268 . B223 ) & C270 < B223) };
per cases ;
suppose L1245: D174 is  empty;

take 1;
assume L1246: D175 is  infinite;
consider C272 being set such that L1247: C272 in D175 by L1246 , XBOOLE_0:def 1;
consider C273 being (Element of ( NAT )) such that L1248: C273 = C272 and L1249: ( C268 . C270 ) <= ( C268 . C273 ) and L1250: C270 < C273 by L1247;
L1251: ( C268 . C273 ) in D174 by L1249 , L1250;
thus L1252: thesis by L1251 , L1245;
end;
suppose L1253: D174 is non  empty;

set D176 = { B224 where B224 is (Element of ( Dickson-bases (D174 , C267) )) : B224 is  finite };
set D177 = ( choose D176 );
consider C274 being set such that L1254: C274 is_Dickson-basis_of D174 , C267 and L1255: C274 is  finite by L1239 , L821;
L1256: C274 in ( Dickson-bases (D174 , C267) ) by L1239 , L1254 , L1208;
L1257: C274 in D176 by L1256 , L1255;
L1258: D177 in D176 by L1257;
L1259: (ex B225 being (Element of ( Dickson-bases (D174 , C267) )) st (D177 = B225 & B225 is  finite)) by L1258;
L1260: D177 is_Dickson-basis_of D174 , C267 by L1259 , L1239 , L1208;
L1261: D177 c= D174 by L1260 , L812;
reconsider D178 = D177 as non  empty (Subset of D172) by L1261 , L1253 , L1260 , L817 , XBOOLE_1:1;
set D179 = ( C268 mindex (( choose { B226 where B226 is (Element of D178) : (ex B227 being (Element of ( rng C268 )) st (B227 = B226 & H6(B227 , C270) is  infinite)) } ) , C270) );
take D179;
set D180 = { B228 where B228 is (Element of ( NAT )) : (( C268 . C270 ) <= ( C268 . B228 ) & C270 < B228) };
assume L1262: D180 is  infinite;
take D174;
reconsider D181 = D178 as non  empty (Subset of D172);
take D181;
thus L1263: D174 = { ( C268 . B229 ) where B229 is (Element of ( NAT )) : (( C268 . C270 ) <= ( C268 . B229 ) & C270 < B229) };
thus L1264: { B230 where B230 is (Element of ( NAT )) : (( C268 . C270 ) <= ( C268 . B230 ) & C270 < B230) } is  infinite by L1262;
thus L1265: D181 = ( choose { B231 where B231 is (Element of ( Dickson-bases (D174 , C267) )) : B231 is  finite } );
thus L1266: thesis;
end;
end;
consider C275 being set such that L1268: C275 is_Dickson-basis_of ( rng C268 ) , C267 and L1269: C275 is  finite by L1239 , L821;
reconsider D182 = C275 as non  empty set by L1268 , L817;
set D183 = { B232 where B232 is (Element of D182) : (ex B233 being (Element of ( rng C268 )) st (B233 = B232 & H7(B233) is  infinite)) };
set D184 = ( choose D183 );
consider C276 being (Function of ( NAT ) , ( NAT )) such that L1270: ( C276 . ( 0 ) ) = ( C268 mindex D184 ) and L1271: (for B234 being (Element of ( NAT )) holds S9[ B234 , ( C276 . B234 ) , ( C276 . ( B234 + 1 ) ) ]) from RECDEF_1:sch 2(L1240);
L1272: ( dom C276 ) = ( NAT ) by FUNCT_2:def 1;
L1273: ( rng C276 ) c= ( NAT );
L1274:
now
L1275: D182 is  finite by L1269;
assume L1276: (for B235 being (Element of ( rng C268 )) holds (B235 in D182 implies H7(B235) is  finite));
set D185 = { H7(B236) where B236 is (Element of ( rng C268 )) : B236 in D182 };
L1277: D185 is  finite from FRAENKEL:sch 21(L1275);
L1278:
now
let C277 being set;
assume L1279: C277 in D185;
L1280: (ex B237 being (Element of ( rng C268 )) st (C277 = H7(B237) & B237 in D182)) by L1279;
thus L1281: C277 is  finite by L1280 , L1276;
end;
L1282: ( union D185 ) is  finite by L1278 , L1277 , FINSET_1:7;
L1283:
now
let C278 being set;
assume L1284: C278 in ( NAT );
reconsider D186 = C278 as (Element of ( NAT )) by L1284;
L1285: ( dom C268 ) = ( NAT ) by FUNCT_2:def 1;
L1286: D186 in ( dom C268 ) by L1285;
L1287: ( C268 . C278 ) in ( rng C268 ) by L1286 , FUNCT_1:3;
reconsider D187 = ( C268 . C278 ) as (Element of C267) by L1287;
consider C279 being (Element of C267) such that L1288: C279 in D182 and L1289: C279 <= D187 by L1268 , L1287 , L812;
L1290: D182 c= ( rng C268 ) by L1268 , L812;
reconsider D188 = C279 as (Element of ( rng C268 )) by L1290 , L1288;
L1291: D186 in H7(D188) by L1289;
L1292: H7(D188) in D185 by L1288;
thus L1293: C278 in ( union D185 ) by L1292 , L1291 , TARSKI:def 4;
end;
L1294: ( NAT ) c= ( union D185 ) by L1283 , TARSKI:def 3;
thus L1295: contradiction by L1294 , L1282;
end;
consider C280 being (Element of ( rng C268 )) such that L1296: C280 in D182 and L1297: H7(C280) is  infinite by L1274;
L1298: C280 in D183 by L1296 , L1297;
L1299: D184 in D183 by L1298;
L1300: (ex B238 being (Element of D182) st (D184 = B238 & (ex B239 being (Element of ( rng C268 )) st (B239 = B238 & H7(B239) is  infinite)))) by L1299;
L1301: ( dom C268 ) = ( NAT ) by NORMSP_1:12;
L1302: ( C268 . ( C276 . ( 0 ) ) ) = D184 by L1301 , L1270 , L1300 , L878;
L1303: D184 in D183 by L1298;
L1304: (ex B240 being (Element of D182) st (D184 = B240 & (ex B241 being (Element of ( rng C268 )) st (B241 = B240 & H7(B241) is  infinite)))) by L1303;
deffunc H8(set) = $1;
defpred S10[ (Element of ( NAT )) ] means ( C268 . ( C276 . ( 0 ) ) ) <= ( C268 . $1 );
set D189 = { B242 where B242 is (Element of ( NAT )) : ( C268 . ( C276 . ( 0 ) ) ) <= ( C268 . B242 ) };
set D190 = { B243 where B243 is (Element of ( NAT )) : (( C268 . ( C276 . ( 0 ) ) ) <= ( C268 . B243 ) & ( C276 . ( 0 ) ) < B243) };
set D191 = { H8(B244) where B244 is (Element of ( NAT )) : (( 0 ) <= B244 & B244 <= ( C276 . ( 0 ) ) & S10[ B244 ]) };
L1305: D191 is  finite from FINSEQ_1:sch 6;
L1306:
now
let C281 being set;
thus L1307:now
assume L1308: C281 in D189;
consider C282 being (Element of ( NAT )) such that L1309: C281 = C282 and L1310: ( C268 . ( C276 . ( 0 ) ) ) <= ( C268 . C282 ) by L1308;
L1311: ( 0 ) <= C282 by NAT_1:2;
L1312: (C282 <= ( C276 . ( 0 ) ) or C282 > ( C276 . ( 0 ) ));
L1313: (C281 in D190 or C281 in D191) by L1312 , L1309 , L1310 , L1311;
thus L1314: C281 in ( D190 \/ D191 ) by L1313 , XBOOLE_0:def 3;
end;
assume L1315: C281 in ( D190 \/ D191 );
per cases  by L1315 , XBOOLE_0:def 3;
suppose L1316: C281 in D190;

L1317: (ex B245 being (Element of ( NAT )) st (C281 = B245 & ( C268 . ( C276 . ( 0 ) ) ) <= ( C268 . B245 ) & ( C276 . ( 0 ) ) < B245)) by L1316;
thus L1318: C281 in D189 by L1317;
end;
suppose L1319: C281 in D191;

L1320: (ex B246 being (Element of ( NAT )) st (C281 = B246 & ( 0 ) <= B246 & B246 <= ( C276 . ( 0 ) ) & ( C268 . ( C276 . ( 0 ) ) ) <= ( C268 . B246 ))) by L1319;
thus L1321: C281 in D189 by L1320;
end;
end;
L1323: D190 is  infinite by L1306 , L1302 , L1304 , L1305 , TARSKI:1;
defpred S11[ (Element of ( NAT )) ] means S8[ $1 , ( C276 . $1 ) , ( C276 . ( $1 + 1 ) ) ];
L1324: S11[ ( 0 ) ] by L1271 , L1323;
L1325:
now
let C283 being (Element of ( NAT ));
assume L1326: S11[ C283 ];
consider C284 being (Subset of D172), C285 being non  empty (Subset of D172) such that L1327: C284 = { ( C268 . B247 ) where B247 is (Element of ( NAT )) : (( C268 . ( C276 . C283 ) ) <= ( C268 . B247 ) & ( C276 . C283 ) < B247) } and L1328: { B248 where B248 is (Element of ( NAT )) : (( C268 . ( C276 . C283 ) ) <= ( C268 . B248 ) & ( C276 . C283 ) < B248) } is  infinite and L1329: C285 = ( choose { B249 where B249 is (Element of ( Dickson-bases (C284 , C267) )) : B249 is  finite } ) and L1330: ( C276 . ( C283 + 1 ) ) = ( C268 mindex (( choose { B250 where B250 is (Element of C285) : (ex B251 being (Element of ( rng C268 )) st (B251 = B250 & H6(B251 , ( C276 . C283 )) is  infinite)) } ) , ( C276 . C283 )) ) by L1326;
set D192 = { B252 where B252 is (Element of C285) : (ex B253 being (Element of ( rng C268 )) st (B253 = B252 & H6(B253 , ( C276 . C283 )) is  infinite)) };
set D193 = { B254 where B254 is (Element of ( Dickson-bases (C284 , C267) )) : B254 is  finite };
set D194 = { B255 where B255 is (Element of ( NAT )) : (( C268 . ( C276 . C283 ) ) <= ( C268 . B255 ) & ( C276 . C283 ) < B255) };
consider C286 being set such that L1331: C286 is_Dickson-basis_of C284 , C267 and L1332: C286 is  finite by L1239 , L821;
L1333: C286 in ( Dickson-bases (C284 , C267) ) by L1239 , L1331 , L1208;
L1334: C286 in D193 by L1333 , L1332;
L1335: C285 in D193 by L1334 , L1329;
L1336: (ex B256 being (Element of ( Dickson-bases (C284 , C267) )) st (C285 = B256 & B256 is  finite)) by L1335;
L1337: C285 is_Dickson-basis_of C284 , C267 by L1336 , L1239 , L1208;
L1338:
now
deffunc H9((Element of ( rng C268 ))) = H6($1 , ( C276 . C283 ));
L1339: C285 is  finite by L1336;
assume L1340: (for B257 being (Element of ( rng C268 )) holds (B257 in C285 implies H6(B257 , ( C276 . C283 )) is  finite));
set D195 = { H9(B258) where B258 is (Element of ( rng C268 )) : B258 in C285 };
L1341: D195 is  finite from FRAENKEL:sch 21(L1339);
L1342:
now
let C287 being set;
assume L1343: C287 in D195;
L1344: (ex B259 being (Element of ( rng C268 )) st (C287 = H6(B259 , ( C276 . C283 )) & B259 in C285)) by L1343;
thus L1345: C287 is  finite by L1344 , L1340;
end;
L1346: ( union D195 ) is  finite by L1342 , L1341 , FINSET_1:7;
L1347: D194 c= ( union D195 )
proof
let C288 being set;
assume L1348: C288 in D194;
consider C289 being (Element of ( NAT )) such that L1349: C288 = C289 and L1350: ( C268 . ( C276 . C283 ) ) <= ( C268 . C289 ) and L1351: ( C276 . C283 ) < C289 by L1348;
L1352: ( C268 . C289 ) in C284 by L1327 , L1350 , L1351;
reconsider D196 = ( C268 . C289 ) as (Element of C267);
consider C290 being (Element of C267) such that L1353: C290 in C285 and L1354: C290 <= D196 by L1337 , L1352 , L812;
L1355: C285 c= C284 by L1337 , L812;
L1356: C284 c= ( rng C268 )
proof
let C291 being set;
assume L1357: C291 in C284;
L1358: (ex B260 being (Element of ( NAT )) st (C291 = ( C268 . B260 ) & ( C268 . ( C276 . C283 ) ) <= ( C268 . B260 ) & ( C276 . C283 ) < B260)) by L1357 , L1327;
L1359: ( dom C268 ) = ( NAT ) by FUNCT_2:def 1;
thus L1360: thesis by L1359 , L1358 , FUNCT_1:3;
end;
L1361: C285 c= ( rng C268 ) by L1356 , L1355 , XBOOLE_1:1;
reconsider D197 = C290 as (Element of ( rng C268 )) by L1361 , L1353;
L1362: C289 in H6(D197 , ( C276 . C283 )) by L1351 , L1354;
L1363: H6(D197 , ( C276 . C283 )) in D195 by L1353;
thus L1364: thesis by L1363 , L1349 , L1362 , TARSKI:def 4;
end;
thus L1365: contradiction by L1347 , L1328 , L1346;
end;
consider C292 being (Element of ( rng C268 )) such that L1366: C292 in C285 and L1367: H6(C292 , ( C276 . C283 )) is  infinite by L1338;
L1368: C292 in D192 by L1366 , L1367;
L1369: ( choose D192 ) in D192 by L1368;
consider C293 being (Element of C285) such that L1370: C293 = ( choose D192 ) and L1371: (ex B261 being (Element of ( rng C268 )) st (B261 = C293 & H6(B261 , ( C276 . C283 )) is  infinite)) by L1369;
L1372: C293 in C285;
L1373: C285 c= C284 by L1337 , L812;
L1374: C293 in C284 by L1373 , L1372;
L1375: (ex B262 being (Element of ( NAT )) st (C293 = ( C268 . B262 ) & ( C268 . ( C276 . C283 ) ) <= ( C268 . B262 ) & ( C276 . C283 ) < B262)) by L1374 , L1327;
L1376: ( C268 . ( C276 . ( C283 + 1 ) ) ) = ( choose D192 ) by L1375 , L1330 , L1370 , L904;
L1377: ( C276 . C283 ) < ( C276 . ( C283 + 1 ) ) by L1330 , L1370 , L1375 , L904;
deffunc H10(set) = $1;
defpred S12[ (Element of ( NAT )) ] means ( C268 . ( C276 . ( C283 + 1 ) ) ) <= ( C268 . $1 );
set D198 = { B263 where B263 is (Element of ( NAT )) : (( C268 . ( C276 . ( C283 + 1 ) ) ) <= ( C268 . B263 ) & ( C276 . C283 ) < B263) };
set D199 = { B264 where B264 is (Element of ( NAT )) : (( C268 . ( C276 . ( C283 + 1 ) ) ) <= ( C268 . B264 ) & ( C276 . ( C283 + 1 ) ) < B264) };
set D200 = { H10(B265) where B265 is (Element of ( NAT )) : (( C276 . C283 ) < B265 & B265 <= ( C276 . ( C283 + 1 ) ) & S12[ B265 ]) };
L1378: D200 is  finite from FinSegRng2;
L1379:
now
let C294 being set;
thus L1380:now
assume L1381: C294 in D198;
consider C295 being (Element of ( NAT )) such that L1382: C294 = C295 and L1383: ( C268 . ( C276 . ( C283 + 1 ) ) ) <= ( C268 . C295 ) and L1384: ( C276 . C283 ) < C295 by L1381;
L1385: (C295 <= ( C276 . ( C283 + 1 ) ) or C295 > ( C276 . ( C283 + 1 ) ));
L1386: (C294 in D199 or C294 in D200) by L1385 , L1382 , L1383 , L1384;
thus L1387: C294 in ( D199 \/ D200 ) by L1386 , XBOOLE_0:def 3;
end;
assume L1388: C294 in ( D199 \/ D200 );
per cases  by L1388 , XBOOLE_0:def 3;
suppose L1389: C294 in D199;

consider C296 being (Element of ( NAT )) such that L1390: C294 = C296 and L1391: ( C268 . ( C276 . ( C283 + 1 ) ) ) <= ( C268 . C296 ) and L1392: ( C276 . ( C283 + 1 ) ) < C296 by L1389;
L1393: ( C276 . C283 ) < C296 by L1377 , L1392 , XXREAL_0:2;
thus L1394: C294 in D198 by L1393 , L1390 , L1391;
end;
suppose L1395: C294 in D200;

L1396: (ex B266 being (Element of ( NAT )) st (C294 = B266 & ( C276 . C283 ) < B266 & B266 <= ( C276 . ( C283 + 1 ) ) & ( C268 . ( C276 . ( C283 + 1 ) ) ) <= ( C268 . B266 ))) by L1395;
thus L1397: C294 in D198 by L1396;
end;
end;
L1399: D199 is  infinite by L1379 , L1370 , L1371 , L1376 , L1378 , TARSKI:1;
thus L1400: S11[ ( C283 + 1 ) ] by L1399 , L1271;
end;
L1401: (for B267 being (Element of ( NAT )) holds S11[ B267 ]) from NAT_1:sch 1(L1324 , L1325);
set D201 = ( C268 * C276 );
take D201;
reconsider D202 = C276 as (Function of ( NAT ) , ( REAL )) by FUNCT_2:7;
L1402:
now
L1403:
now
let C297 being (Element of ( NAT ));
L1404: ( D202 . C297 ) in ( rng D202 ) by L1272 , FUNCT_1:def 3;
reconsider D203 = ( D202 . C297 ) as (Element of ( NAT )) by L1404 , L1273;
consider C298 being (Subset of D172), C299 being non  empty (Subset of D172) such that L1405: C298 = { ( C268 . B268 ) where B268 is (Element of ( NAT )) : (( C268 . D203 ) <= ( C268 . B268 ) & D203 < B268) } and L1406: { B269 where B269 is (Element of ( NAT )) : (( C268 . D203 ) <= ( C268 . B269 ) & D203 < B269) } is  infinite and L1407: C299 = ( choose { B270 where B270 is (Element of ( Dickson-bases (C298 , C267) )) : B270 is  finite } ) and L1408: ( D202 . ( C297 + 1 ) ) = ( C268 mindex (( choose { B271 where B271 is (Element of C299) : (ex B272 being (Element of ( rng C268 )) st (B272 = B271 & H6(B272 , D203) is  infinite)) } ) , D203) ) by L1401;
set D204 = { B273 where B273 is (Element of ( Dickson-bases (C298 , C267) )) : B273 is  finite };
set D205 = { B274 where B274 is (Element of C299) : (ex B275 being (Element of ( rng C268 )) st (B275 = B274 & H6(B275 , D203) is  infinite)) };
set D206 = ( choose D205 );
consider C300 being set such that L1409: C300 is_Dickson-basis_of C298 , C267 and L1410: C300 is  finite by L1239 , L821;
L1411: C300 in ( Dickson-bases (C298 , C267) ) by L1239 , L1409 , L1208;
L1412: C300 in D204 by L1411 , L1410;
L1413: C299 in D204 by L1412 , L1407;
L1414: (ex B276 being (Element of ( Dickson-bases (C298 , C267) )) st (C299 = B276 & B276 is  finite)) by L1413;
L1415: C299 is_Dickson-basis_of C298 , C267 by L1414 , L1239 , L1208;
L1416: C299 c= C298 by L1415 , L812;
L1417:
now
L1418: C299 is  finite by L1414;
assume L1419: (for B277 being (Element of ( rng C268 )) holds (B277 in C299 implies H6(B277 , D203) is  finite));
deffunc H11((Element of ( rng C268 ))) = H6($1 , D203);
set D207 = { H11(B278) where B278 is (Element of ( rng C268 )) : B278 in C299 };
set D208 = { B279 where B279 is (Element of ( NAT )) : (( C268 . D203 ) <= ( C268 . B279 ) & D203 < B279) };
L1420: D207 is  finite from FRAENKEL:sch 21(L1418);
L1421:
now
let C301 being set;
assume L1422: C301 in D207;
L1423: (ex B280 being (Element of ( rng C268 )) st (C301 = H6(B280 , D203) & B280 in C299)) by L1422;
thus L1424: C301 is  finite by L1423 , L1419;
end;
L1425: ( union D207 ) is  finite by L1421 , L1420 , FINSET_1:7;
L1426: D208 c= ( union D207 )
proof
let C302 being set;
assume L1427: C302 in D208;
consider C303 being (Element of ( NAT )) such that L1428: C302 = C303 and L1429: ( C268 . D203 ) <= ( C268 . C303 ) and L1430: ( D202 . C297 ) < C303 by L1427;
L1431: ( C268 . C303 ) in C298 by L1405 , L1429 , L1430;
reconsider D209 = ( C268 . C303 ) as (Element of C267);
consider C304 being (Element of C267) such that L1432: C304 in C299 and L1433: C304 <= D209 by L1415 , L1431 , L812;
L1434: C299 c= C298 by L1415 , L812;
L1435: C298 c= ( rng C268 )
proof
let C305 being set;
assume L1436: C305 in C298;
L1437: (ex B281 being (Element of ( NAT )) st (C305 = ( C268 . B281 ) & ( C268 . D203 ) <= ( C268 . B281 ) & D203 < B281)) by L1436 , L1405;
L1438: ( dom C268 ) = ( NAT ) by FUNCT_2:def 1;
thus L1439: thesis by L1438 , L1437 , FUNCT_1:3;
end;
L1440: C299 c= ( rng C268 ) by L1435 , L1434 , XBOOLE_1:1;
reconsider D210 = C304 as (Element of ( rng C268 )) by L1440 , L1432;
L1441: C303 in H6(D210 , D203) by L1430 , L1433;
L1442: H6(D210 , D203) in D207 by L1432;
thus L1443: thesis by L1442 , L1428 , L1441 , TARSKI:def 4;
end;
thus L1444: contradiction by L1426 , L1406 , L1425;
end;
consider C306 being (Element of ( rng C268 )) such that L1445: C306 in C299 and L1446: H6(C306 , D203) is  infinite by L1417;
L1447: C306 in D205 by L1445 , L1446;
L1448: D206 in D205 by L1447;
L1449: (ex B282 being (Element of C299) st (D206 = B282 & (ex B283 being (Element of ( rng C268 )) st (B283 = B282 & H6(B283 , D203) is  infinite)))) by L1448;
L1450: D206 in C298 by L1449 , L1416 , TARSKI:def 3;
L1451: (ex B284 being (Element of ( NAT )) st (D206 = ( C268 . B284 ) & ( C268 . D203 ) <= ( C268 . B284 ) & D203 < B284)) by L1450 , L1405;
thus L1452: ( D202 . C297 ) < ( D202 . ( C297 + 1 ) ) by L1451 , L1408 , L904;
end;
thus L1453: D202 is  increasing by L1403 , SEQM_3:def 6;
let C307 being (Element of ( NAT ));
L1454: ( D202 . C307 ) in ( rng D202 ) by L1272 , FUNCT_1:def 3;
thus L1455: ( D202 . C307 ) is (Element of ( NAT )) by L1454 , L1273;
end;
reconsider D211 = D202 as  increasing (sequence of ( NAT )) by L1402;
L1456: D201 = ( C268 * D211 );
thus L1457: D201 is (subsequence of C268) by L1456;
let C308 being (Element of ( NAT ));
L1458: ( D201 . C308 ) = ( C268 . ( D211 . C308 ) ) by L1272 , FUNCT_1:13;
L1459: ( D201 . ( C308 + 1 ) ) = ( C268 . ( D211 . ( C308 + 1 ) ) ) by L1272 , FUNCT_1:13;
consider C309 being (Subset of D172), C310 being non  empty (Subset of D172) such that L1460: C309 = { ( C268 . B285 ) where B285 is (Element of ( NAT )) : (( C268 . ( D211 . C308 ) ) <= ( C268 . B285 ) & ( D211 . C308 ) < B285) } and L1461: { B286 where B286 is (Element of ( NAT )) : (( C268 . ( D211 . C308 ) ) <= ( C268 . B286 ) & ( D211 . C308 ) < B286) } is  infinite and L1462: C310 = ( choose { B287 where B287 is (Element of ( Dickson-bases (C309 , C267) )) : B287 is  finite } ) and L1463: ( D211 . ( C308 + 1 ) ) = ( C268 mindex (( choose { B288 where B288 is (Element of C310) : (ex B289 being (Element of ( rng C268 )) st (B289 = B288 & H6(B289 , ( D211 . C308 )) is  infinite)) } ) , ( D211 . C308 )) ) by L1401;
set D212 = { B290 where B290 is (Element of C310) : (ex B291 being (Element of ( rng C268 )) st (B291 = B290 & H6(B291 , ( D211 . C308 )) is  infinite)) };
set D213 = ( choose D212 );
set D214 = { B292 where B292 is (Element of ( Dickson-bases (C309 , C267) )) : B292 is  finite };
consider C311 being set such that L1464: C311 is_Dickson-basis_of C309 , C267 and L1465: C311 is  finite by L1239 , L821;
L1466: C311 in ( Dickson-bases (C309 , C267) ) by L1239 , L1464 , L1208;
L1467: C311 in D214 by L1466 , L1465;
L1468: C310 in D214 by L1467 , L1462;
L1469: (ex B293 being (Element of ( Dickson-bases (C309 , C267) )) st (B293 = C310 & B293 is  finite)) by L1468;
L1470: C310 is_Dickson-basis_of C309 , C267 by L1469 , L1239 , L1208;
L1471:
now
L1472: C310 is  finite by L1469;
assume L1473: (for B294 being (Element of ( rng C268 )) holds (B294 in C310 implies H6(B294 , ( D211 . C308 )) is  finite));
deffunc H12((Element of ( rng C268 ))) = H6($1 , ( D211 . C308 ));
set D215 = { H12(B295) where B295 is (Element of ( rng C268 )) : B295 in C310 };
set D216 = { B296 where B296 is (Element of ( NAT )) : (( C268 . ( D211 . C308 ) ) <= ( C268 . B296 ) & ( D211 . C308 ) < B296) };
L1474: D215 is  finite from FRAENKEL:sch 21(L1472);
L1475:
now
let C312 being set;
assume L1476: C312 in D215;
L1477: (ex B297 being (Element of ( rng C268 )) st (C312 = H6(B297 , ( D211 . C308 )) & B297 in C310)) by L1476;
thus L1478: C312 is  finite by L1477 , L1473;
end;
L1479: ( union D215 ) is  finite by L1475 , L1474 , FINSET_1:7;
L1480: D216 c= ( union D215 )
proof
let C313 being set;
assume L1481: C313 in D216;
consider C314 being (Element of ( NAT )) such that L1482: C313 = C314 and L1483: ( C268 . ( D211 . C308 ) ) <= ( C268 . C314 ) and L1484: ( D211 . C308 ) < C314 by L1481;
L1485: ( C268 . C314 ) in C309 by L1460 , L1483 , L1484;
reconsider D217 = ( C268 . C314 ) as (Element of C267);
consider C315 being (Element of C267) such that L1486: C315 in C310 and L1487: C315 <= D217 by L1470 , L1485 , L812;
L1488: C310 c= C309 by L1470 , L812;
L1489: C309 c= ( rng C268 )
proof
let C316 being set;
assume L1490: C316 in C309;
L1491: (ex B298 being (Element of ( NAT )) st (C316 = ( C268 . B298 ) & ( C268 . ( D211 . C308 ) ) <= ( C268 . B298 ) & ( D211 . C308 ) < B298)) by L1490 , L1460;
L1492: ( dom C268 ) = ( NAT ) by FUNCT_2:def 1;
thus L1493: thesis by L1492 , L1491 , FUNCT_1:3;
end;
L1494: C310 c= ( rng C268 ) by L1489 , L1488 , XBOOLE_1:1;
reconsider D218 = C315 as (Element of ( rng C268 )) by L1494 , L1486;
L1495: C314 in H6(D218 , ( D211 . C308 )) by L1484 , L1487;
L1496: H6(D218 , ( D211 . C308 )) in D215 by L1486;
thus L1497: thesis by L1496 , L1482 , L1495 , TARSKI:def 4;
end;
thus L1498: contradiction by L1480 , L1461 , L1479;
end;
consider C317 being (Element of ( rng C268 )) such that L1499: C317 in C310 and L1500: H6(C317 , ( D211 . C308 )) is  infinite by L1471;
L1501: C317 in D212 by L1499 , L1500;
L1502: D213 in D212 by L1501;
L1503: (ex B299 being (Element of C310) st (B299 = D213 & (ex B300 being (Element of ( rng C268 )) st (B300 = B299 & H6(B300 , ( D211 . C308 )) is  infinite)))) by L1502;
L1504: D213 in C310 by L1503;
L1505: C310 c= C309 by L1470 , L812;
L1506: D213 in C309 by L1505 , L1504;
L1507: (ex B301 being (Element of ( NAT )) st (D213 = ( C268 . B301 ) & ( C268 . ( D211 . C308 ) ) <= ( C268 . B301 ) & ( D211 . C308 ) < B301)) by L1506 , L1460;
L1508: ( D201 . C308 ) <= ( D201 . ( C308 + 1 ) ) by L1507 , L1458 , L1459 , L1463 , L904;
thus L1509: [ ( D201 . C308 ) , ( D201 . ( C308 + 1 ) ) ] in (the InternalRel of C267) by L1508 , ORDERS_2:def 5;
end;
theorem
L1510: (for B302 being RelStr holds (B302 is  empty implies B302 is  Dickson))
proof
let C318 being RelStr;
assume that
L1511: C318 is  empty;
L1512:
now
let C319 being (Subset of C318);
take D219 = ( {} );
L1513: C319 = ( {} (the carrier of C318) ) by L1511;
thus L1514: D219 is_Dickson-basis_of C319 , C318 by L1513 , L814;
thus L1515: D219 is  finite;
end;
thus L1516: thesis by L1512 , L821;
end;
theorem
L1517: (for B303 , B304 being RelStr holds ((B303 is  Dickson & B304 is  Dickson & B303 is  quasi_ordered & B304 is  quasi_ordered) implies ([: B303 , B304 :] is  quasi_ordered & [: B303 , B304 :] is  Dickson)))
proof
let C320 , C321 being RelStr;
assume that
L1518: C320 is  Dickson
and
L1519: C321 is  Dickson
and
L1520: C320 is  quasi_ordered
and
L1521: C321 is  quasi_ordered;
reconsider D220 = C320 as  reflexive  transitive RelStr by L1520 , L122;
reconsider D221 = C321 as  reflexive  transitive RelStr by L1521 , L122;
L1522: [: D220 , D221 :] is  reflexive;
thus L1523: [: C320 , C321 :] is  quasi_ordered by L1522 , L122;
per cases ;
suppose L1524: (C320 is non  empty & C321 is non  empty);

reconsider D222 = C320 , D223 = C321 as non  empty RelStr by L1524;
set D224 = [: D222 , D223 :];
L1525: (for B305 being (sequence of [: D222 , D223 :]) holds (ex B306 , B307 being (Element of ( NAT )) st (B306 < B307 & ( B305 . B306 ) <= ( B305 . B307 ))))
proof
let C322 being (sequence of [: D222 , D223 :]);
deffunc H13((Element of ( NAT ))) = ( ( C322 . $1 ) `1 );
consider C323 being (Function of ( NAT ) , (the carrier of D222)) such that L1526: (for B308 being (Element of ( NAT )) holds ( C323 . B308 ) = H13(B308)) from FUNCT_2:sch 4;
reconsider D225 = C323 as (sequence of D222);
consider C324 being (sequence of D222) such that L1527: C324 is (subsequence of D225) and L1528: C324 is  weakly-ascending by L1518 , L1238;
consider C325 being  increasing (sequence of ( NAT )) such that L1529: C324 = ( D225 * C325 ) by L1527 , VALUED_0:def 17;
deffunc H14((Element of ( NAT ))) = ( ( C322 . ( C325 . $1 ) ) `2 );
consider C326 being (Function of ( NAT ) , (the carrier of D223)) such that L1530: (for B309 being (Element of ( NAT )) holds ( C326 . B309 ) = H14(B309)) from FUNCT_2:sch 4;
reconsider D226 = C326 as (sequence of D223);
consider C327 , C328 being (Element of ( NAT )) such that L1531: C327 < C328 and L1532: ( D226 . C327 ) <= ( D226 . C328 ) by L1519 , L932;
take ( C325 . C327 );
take ( C325 . C328 );
L1533: ( dom C325 ) = ( NAT ) by FUNCT_2:def 1;
thus L1534: ( C325 . C327 ) < ( C325 . C328 ) by L1533 , L1531 , VALUED_0:def 13;
reconsider D227 = ( C322 . ( C325 . C327 ) ) , D228 = ( C322 . ( C325 . C328 ) ) as (Element of [: D222 , D223 :]);
L1535: ( dom C324 ) = ( NAT ) by FUNCT_2:def 1;
L1536: ( C324 . C327 ) = ( D225 . ( C325 . C327 ) ) by L1535 , L1529 , FUNCT_1:12
.= ( ( C322 . ( C325 . C327 ) ) `1 ) by L1526;
L1537: ( C324 . C328 ) = ( D225 . ( C325 . C328 ) ) by L1529 , L1535 , FUNCT_1:12
.= ( ( C322 . ( C325 . C328 ) ) `1 ) by L1526;
L1538: C320 is  transitive by L1520 , L122;
L1539: ( D227 `1 ) <= ( D228 `1 ) by L1538 , L1528 , L1531 , L1536 , L1537 , L40;
L1540: ( D226 . C327 ) = ( D227 `2 ) by L1530;
L1541: ( D226 . C328 ) = ( D228 `2 ) by L1530;
thus L1542: thesis by L1541 , L1532 , L1539 , L1540 , YELLOW_3:12;
end;
L1543: (for B310 being non  empty (Subset of D224) holds (( min-classes B310 ) is  finite & ( min-classes B310 ) is non  empty)) by L1525 , L1523 , L968;
thus L1544: thesis by L1543 , L1523 , L1095;
end;
suppose L1545: (not (C320 is non  empty & C321 is non  empty));

L1546:
now
per cases  by L1545;
suppose L1547: C320 is  empty;

reconsider D229 = (the carrier of C320) as  empty set by L1547;
L1548: [: D229 , (the carrier of C321) :] is  empty;
thus L1549: [: (the carrier of C320) , (the carrier of C321) :] is  empty by L1548;
end;
suppose L1550: C321 is  empty;

reconsider D230 = (the carrier of C321) as  empty set by L1550;
L1551: [: (the carrier of C320) , D230 :] is  empty;
thus L1552: [: (the carrier of C320) , (the carrier of C321) :] is  empty by L1551;
end;
end;
L1554: [: C320 , C321 :] is  empty by L1546 , YELLOW_3:def 2;
thus L1555: thesis by L1554 , L1510;
end;
end;
theorem
L1557: (for B311 , B312 being RelStr holds ((B311 , B312 are_isomorphic  & B311 is  Dickson & B311 is  quasi_ordered) implies (B312 is  quasi_ordered & B312 is  Dickson)))
proof
let C329 , C330 being RelStr;
assume that
L1558: C329 , C330 are_isomorphic 
and
L1559: C329 is  Dickson
and
L1560: C329 is  quasi_ordered;
set D231 = (the carrier of C330);
set D232 = (the InternalRel of C330);
per cases ;
suppose L1561: ((not C329 is  empty) & (not C330 is  empty));

reconsider D233 = C329 , D234 = C330 as non  empty RelStr by L1561;
consider C331 being (Function of D233 , D234) such that L1562: C331 is  isomorphic by L1558 , WAYBEL_1:def 8;
L1563: C331 is  one-to-one by L1562 , WAYBEL_0:66;
L1564: ( rng C331 ) = (the carrier of D234) by L1562 , WAYBEL_0:66;
L1565: D233 is  reflexive by L1560 , L122;
L1566: D233 is  transitive by L1560 , L122;
L1567: D234 is  reflexive by L1558 , L1565 , WAYBEL20:15;
L1568: D234 is  transitive by L1558 , L1566 , WAYBEL20:16;
thus L1569: C330 is  quasi_ordered by L1568 , L1567 , L122;
L1570:
now
let C332 being (sequence of D234);
reconsider D235 = ( C331 " ) as (Function of (the carrier of D234) , (the carrier of D233)) by L1563 , L1564 , FUNCT_2:25;
deffunc H15((Element of ( NAT ))) = ( D235 . ( C332 . $1 ) );
consider C333 being (Function of ( NAT ) , (the carrier of D233)) such that L1571: (for B313 being (Element of ( NAT )) holds ( C333 . B313 ) = H15(B313)) from FUNCT_2:sch 4;
reconsider D236 = C333 as (sequence of D233);
consider C334 , C335 being (Element of ( NAT )) such that L1572: C334 < C335 and L1573: ( D236 . C334 ) <= ( D236 . C335 ) by L1559 , L932;
take D237 = C334;
take D238 = C335;
thus L1574: D237 < D238 by L1572;
L1575: ( C331 . ( D236 . D237 ) ) = ( C331 . ( ( C331 " ) . ( C332 . D237 ) ) ) by L1571
.= ( C332 . D237 ) by L1563 , L1564 , FUNCT_1:35;
L1576: ( C331 . ( D236 . D238 ) ) = ( C331 . ( ( C331 " ) . ( C332 . D238 ) ) ) by L1571
.= ( C332 . D238 ) by L1563 , L1564 , FUNCT_1:35;
thus L1577: ( C332 . D237 ) <= ( C332 . D238 ) by L1576 , L1562 , L1573 , L1575 , WAYBEL_0:66;
end;
L1578: (for B314 being non  empty (Subset of D234) holds (( min-classes B314 ) is  finite & ( min-classes B314 ) is non  empty)) by L1570 , L1569 , L968;
thus L1579: thesis by L1578 , L1569 , L1095;
end;
suppose L1580: (not ((not C329 is  empty) & (not C330 is  empty)));

L1581:
now
per cases  by L1580;
suppose L1582: C329 is  empty;

L1583: (ex B315 being (Function of C329 , C330) st B315 is  isomorphic) by L1558 , WAYBEL_1:def 8;
thus L1584: C330 is  empty by L1583 , L1582 , WAYBEL_0:def 38;
end;
suppose L1585: C330 is  empty;

thus L1586: C330 is  empty by L1585;
end;
end;
L1588: (for B316 being set holds (B316 in D231 implies [ B316 , B316 ] in D232)) by L1581;
L1589: D232 is_reflexive_in D231 by L1588 , RELAT_2:def 1;
L1590: (for B317 , B318 , B319 being set holds ((B317 in D231 & B318 in D231 & B319 in D231 & [ B317 , B318 ] in D232 & [ B318 , B319 ] in D232) implies [ B317 , B319 ] in D232)) by L1581;
L1591: D232 is_transitive_in D231 by L1590 , RELAT_2:def 8;
L1592: C330 is  reflexive by L1589 , ORDERS_2:def 2;
L1593: C330 is  transitive by L1591 , ORDERS_2:def 3;
thus L1594: C330 is  quasi_ordered by L1593 , L1592 , L122;
thus L1595: thesis by L1581 , L1510;
end;
end;
theorem
L1597: (for B320 being  RelStr-yielding (ManySortedSet of 1) holds (for B321 being (Element of 1) holds ( B320 . B321 ) , ( product B320 ) are_isomorphic ))
proof
let C336 being  RelStr-yielding (ManySortedSet of 1);
let C337 being (Element of 1);
deffunc H16(set) = ( ( 0 ) .--> $1 );
consider C338 being Function such that L1598: ( dom C338 ) = (the carrier of ( C336 . C337 )) and L1599: (for B322 being set holds (B322 in (the carrier of ( C336 . C337 )) implies ( C338 . B322 ) = H16(B322))) from FUNCT_1:sch 3;
L1600: C337 = ( 0 ) by CARD_1:49 , TARSKI:def 1;
L1601: ( 0 ) in 1 by CARD_1:49 , TARSKI:def 1;
L1602:
now
let C339 being set;
assume L1603: C339 in (the carrier of ( C336 . C337 ));
L1604: ( C338 . C339 ) = ( ( 0 ) .--> C339 ) by L1603 , L1599;
set D239 = ( ( 0 ) .--> C339 );
L1605: ( dom D239 ) = { ( 0 ) } by FUNCOP_1:13
.= ( dom ( Carrier C336 ) ) by CARD_1:49 , PARTFUN1:def 2;
L1606:
now
let C340 being set;
assume L1607: C340 in ( dom ( Carrier C336 ) );
L1608: C340 in 1 by L1607;
L1609: C340 = ( 0 ) by L1608 , CARD_1:49 , TARSKI:def 1;
L1610: (ex B323 being 1-sorted st (B323 = ( C336 . C340 ) & ( ( Carrier C336 ) . C340 ) = (the carrier of B323))) by L1608 , PRALG_1:def 13;
thus L1611: ( D239 . C340 ) in ( ( Carrier C336 ) . C340 ) by L1610 , L1600 , L1603 , L1609 , FUNCOP_1:72;
end;
L1612: ( C338 . C339 ) in ( product ( Carrier C336 ) ) by L1606 , L1604 , L1605 , CARD_3:def 5;
thus L1613: ( C338 . C339 ) in (the carrier of ( product C336 )) by L1612 , YELLOW_1:def 4;
end;
reconsider D240 = C338 as (Function of ( C336 . C337 ) , ( product C336 )) by L1602 , L1598 , FUNCT_2:3;
L1614:
now
per cases ;
suppose L1615: ( C336 . C337 ) is  empty;

L1616:
now
assume L1617: (not (the carrier of ( product C336 )) is  empty);
L1618: ( product ( Carrier C336 ) ) is non  empty by L1617 , YELLOW_1:def 4;
set D241 = the (Element of ( product ( Carrier C336 ) ));
L1619: (ex B324 being Function st (D241 = B324 & ( dom B324 ) = ( dom ( Carrier C336 ) ) & (for B325 being set holds (B325 in ( dom ( Carrier C336 ) ) implies ( B324 . B325 ) in ( ( Carrier C336 ) . B325 ))))) by L1618 , CARD_3:def 5;
L1620: ( 0 ) in ( dom ( Carrier C336 ) ) by L1601 , PARTFUN1:def 2;
consider C341 being 1-sorted such that L1621: C341 = ( C336 . ( 0 ) ) and L1622: ( ( Carrier C336 ) . ( 0 ) ) = (the carrier of C341) by L1601 , PRALG_1:def 13;
L1623: C341 is  empty by L1615 , L1621 , CARD_1:49 , TARSKI:def 1;
thus L1624: contradiction by L1623 , L1619 , L1620 , L1622;
end;
L1625: ( product C336 ) is  empty by L1616;
thus L1626: D240 is  isomorphic by L1625 , L1615 , WAYBEL_0:def 38;
end;
suppose L1627: ( C336 . C337 ) is non  empty;

reconsider D242 = ( C336 . C337 ) as non  empty RelStr by L1627;
L1628:
now
let C342 being set;
assume L1629: C342 in ( rng C336 );
consider C343 being set such that L1630: C343 in ( dom C336 ) and L1631: C342 = ( C336 . C343 ) by L1629 , FUNCT_1:def 3;
L1632: C343 in 1 by L1630;
L1633: C342 = ( C336 . ( 0 ) ) by L1632 , L1631 , CARD_1:49 , TARSKI:def 1;
thus L1634: C342 is non  empty non  empty non  empty non  empty 1-sorted by L1633 , L1627 , CARD_1:49 , TARSKI:def 1;
end;
reconsider D243 = C336 as  yielding_non-empty_carriers  RelStr-yielding (ManySortedSet of 1) by L1628 , YELLOW_6:def 2;
L1635: ( product D243 ) is non  empty;
reconsider D244 = ( product C336 ) as non  empty RelStr by L1635;
L1636:
now
let C344 , C345 being set;
assume that
L1637: C344 in ( dom D240 )
and
L1638: C345 in ( dom D240 )
and
L1639: ( D240 . C344 ) = ( D240 . C345 );
L1640: ( D240 . C344 ) = ( ( 0 ) .--> C344 ) by L1599 , L1637
.= [: { ( 0 ) } , { C344 } :];
L1641: ( D240 . C345 ) = ( ( 0 ) .--> C345 ) by L1599 , L1638
.= [: { ( 0 ) } , { C345 } :];
L1642: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
L1643: C344 in { C344 } by TARSKI:def 1;
L1644: [ ( 0 ) , C344 ] in ( D240 . C345 ) by L1643 , L1639 , L1640 , L1642 , ZFMISC_1:def 2;
L1645: (ex B326 , B327 being set st (B326 in { ( 0 ) } & B327 in { C345 } & [ ( 0 ) , C344 ] = [ B326 , B327 ])) by L1644 , L1641 , ZFMISC_1:def 2;
L1646: C344 in { C345 } by L1645 , XTUPLE_0:1;
thus L1647: C344 = C345 by L1646 , TARSKI:def 1;
end;
L1648: D240 is  one-to-one by L1636 , FUNCT_1:def 4;
L1649:
now
let C346 being set;
thus L1650: (C346 in ( rng D240 ) implies C346 in (the carrier of ( product C336 )));
assume L1651: C346 in (the carrier of ( product C336 ));
L1652: C346 in ( product ( Carrier C336 ) ) by L1651 , YELLOW_1:def 4;
consider C347 being Function such that L1653: C346 = C347 and L1654: ( dom C347 ) = ( dom ( Carrier C336 ) ) and L1655: (for B328 being set holds (B328 in ( dom ( Carrier C336 ) ) implies ( C347 . B328 ) in ( ( Carrier C336 ) . B328 ))) by L1652 , CARD_3:def 5;
L1656: ( dom C347 ) = { ( 0 ) } by L1654 , CARD_1:49 , PARTFUN1:def 2;
L1657: ( 0 ) in ( dom ( Carrier C336 ) ) by L1601 , PARTFUN1:def 2;
L1658: (ex B329 being 1-sorted st (B329 = ( C336 . ( 0 ) ) & ( ( Carrier C336 ) . ( 0 ) ) = (the carrier of B329))) by L1601 , PRALG_1:def 13;
L1659: C347 = ( ( 0 ) .--> ( C347 . ( 0 ) ) ) by L1656 , L1;
L1660: ( D240 . ( C347 . ( 0 ) ) ) = ( ( 0 ) .--> ( C347 . ( 0 ) ) ) by L1599 , L1600 , L1655 , L1657 , L1658;
L1661: ( C347 . ( 0 ) ) in ( dom D240 ) by L1598 , L1600 , L1655 , L1657 , L1658;
thus L1662: C346 in ( rng D240 ) by L1661 , L1653 , L1659 , L1660 , FUNCT_1:def 3;
end;
L1663: ( rng D240 ) = (the carrier of ( product C336 )) by L1649 , TARSKI:1;
reconsider D245 = D240 as (Function of D242 , D244);
L1664:
now
let C348 , C349 being (Element of D242);
L1665: ( product D243 ) is non  empty;
L1666: ( product ( Carrier C336 ) ) is non  empty by L1665 , YELLOW_1:def 4;
L1667: ( D245 . C348 ) is (Element of ( product ( Carrier C336 ) )) by YELLOW_1:def 4;
thus L1668:now
assume L1669: C348 <= C349;
L1670: (ex B330 , B331 being Function st (B330 = ( D245 . C348 ) & B331 = ( D245 . C349 ) & (for B332 being set holds (B332 in 1 implies (ex B333 being RelStr st (ex B334 , B335 being (Element of B333) st (B333 = ( C336 . B332 ) & B334 = ( B330 . B332 ) & B335 = ( B331 . B332 ) & B334 <= B335)))))))
proof
set D246 = ( ( 0 ) .--> C348 );
set D247 = ( ( 0 ) .--> C349 );
reconsider D248 = D246 as Function;
reconsider D249 = D247 as Function;
take D248;
take D249;
thus L1671: D248 = ( D245 . C348 ) by L1599;
thus L1672: D249 = ( D245 . C349 ) by L1599;
let C350 being set;
assume that
L1673: C350 in 1;
L1674: C350 = ( 0 ) by L1673 , CARD_1:49 , TARSKI:def 1;
L1675: ( 0 ) in ( dom C336 ) by L1601 , PARTFUN1:def 2;
L1676: ( C336 . ( 0 ) ) in ( rng C336 ) by L1675 , FUNCT_1:def 3;
reconsider D250 = ( C336 . ( 0 ) ) as RelStr by L1676 , YELLOW_1:def 3;
set D251 = D250;
reconsider D252 = C348 as (Element of D251) by CARD_1:49 , TARSKI:def 1;
reconsider D253 = C349 as (Element of D251) by CARD_1:49 , TARSKI:def 1;
take D251;
take D252;
take D253;
thus L1677: D251 = ( C336 . C350 ) by L1673 , CARD_1:49 , TARSKI:def 1;
thus L1678: D252 = ( D248 . C350 ) by L1674 , FUNCOP_1:72;
thus L1679: D253 = ( D249 . C350 ) by L1674 , FUNCOP_1:72;
thus L1680: thesis by L1669 , CARD_1:49 , TARSKI:def 1;
end;
thus L1681: ( D245 . C348 ) <= ( D245 . C349 ) by L1670 , L1666 , L1667 , YELLOW_1:def 4;
end;
assume L1682: ( D245 . C348 ) <= ( D245 . C349 );
consider C351 , C352 being Function such that L1683: C351 = ( D245 . C348 ) and L1684: C352 = ( D245 . C349 ) and L1685: (for B336 being set holds (B336 in 1 implies (ex B337 being RelStr st (ex B338 , B339 being (Element of B337) st (B337 = ( C336 . B336 ) & B338 = ( C351 . B336 ) & B339 = ( C352 . B336 ) & B338 <= B339))))) by L1682 , L1666 , L1667 , YELLOW_1:def 4;
consider C353 being RelStr, C354 , C355 being (Element of C353) such that L1686: C353 = ( C336 . ( 0 ) ) and L1687: C354 = ( C351 . ( 0 ) ) and L1688: C355 = ( C352 . ( 0 ) ) and L1689: C354 <= C355 by L1601 , L1685;
L1690: C351 = ( ( 0 ) .--> C348 ) by L1599 , L1683;
L1691: C354 = C348 by L1690 , L1687 , FUNCOP_1:72;
L1692: C352 = ( ( 0 ) .--> C349 ) by L1599 , L1684;
L1693: C353 = D242 by L1686 , CARD_1:49 , TARSKI:def 1;
thus L1694: C348 <= C349 by L1693 , L1688 , L1689 , L1691 , L1692 , FUNCOP_1:72;
end;
thus L1695: D240 is  isomorphic by L1664 , L1648 , L1663 , WAYBEL_0:66;
end;
end;
thus L1697: thesis by L1614 , WAYBEL_1:def 8;
end;
registration
let C356 being set;
let C357 being  RelStr-yielding (ManySortedSet of C356);
let C358 being (Subset of C356);
cluster ( C357 | C358 ) ->  RelStr-yielding;
coherence
proof
L1698:
now
let C359 being set;
assume L1699: C359 in ( rng ( C357 | C358 ) );
consider C360 being set such that L1700: C360 in ( dom ( C357 | C358 ) ) and L1701: C359 = ( ( C357 | C358 ) . C360 ) by L1699 , FUNCT_1:def 3;
L1702: C360 in C358 by L1700;
L1703: ( ( C357 | C358 ) . C360 ) = ( C357 . C360 ) by L1702 , FUNCT_1:49;
L1704: C360 in C356 by L1702;
L1705: C360 in ( dom C357 ) by L1704 , PARTFUN1:def 2;
L1706: ( C357 . C360 ) in ( rng C357 ) by L1705 , FUNCT_1:3;
thus L1707: C359 is RelStr by L1706 , L1701 , L1703 , YELLOW_1:def 3;
end;
thus L1708: thesis by L1698 , YELLOW_1:def 3;
end;
end;
theorem
L1710: (for B340 being non  empty Nat holds (for B341 being  RelStr-yielding (ManySortedSet of B340) holds (( product B341 ) is non  empty iff B341 is  non-Empty)))
proof
let C361 being non  empty Nat;
let C362 being  RelStr-yielding (ManySortedSet of C361);
thus L1711:now
assume L1712: ( product C362 ) is non  empty;
L1713: ( product ( Carrier C362 ) ) is non  empty by L1712 , YELLOW_1:def 4;
consider C363 being set such that L1714: C363 in ( product ( Carrier C362 ) ) by L1713 , XBOOLE_0:def 1;
L1715: (ex B342 being Function st (C363 = B342 & ( dom B342 ) = ( dom ( Carrier C362 ) ) & (for B343 being set holds (B343 in ( dom ( Carrier C362 ) ) implies ( B342 . B343 ) in ( ( Carrier C362 ) . B343 ))))) by L1714 , CARD_3:def 5;
L1716:
now
let C364 being 1-sorted;
assume L1717: C364 in ( rng C362 );
consider C365 being set such that L1718: C365 in ( dom C362 ) and L1719: C364 = ( C362 . C365 ) by L1717 , FUNCT_1:def 3;
L1720: C365 in C361 by L1718;
L1721: C365 in ( dom ( Carrier C362 ) ) by L1720 , PARTFUN1:def 2;
L1722: (ex B344 being 1-sorted st (B344 = ( C362 . C365 ) & ( ( Carrier C362 ) . C365 ) = (the carrier of B344))) by L1720 , PRALG_1:def 13;
thus L1723: C364 is non  empty by L1722 , L1715 , L1719 , L1721;
end;
thus L1724: C362 is  non-Empty by L1716 , WAYBEL_3:def 7;
end;
assume L1725: C362 is  non-Empty;
L1726: ( dom ( Carrier C362 ) ) = C361 by PARTFUN1:def 2;
deffunc H17(set) = ( choose ( ( Carrier C362 ) . $1 ) );
consider C366 being Function such that L1727: ( dom C366 ) = ( dom ( Carrier C362 ) ) and L1728: (for B345 being set holds (B345 in ( dom ( Carrier C362 ) ) implies ( C366 . B345 ) = H17(B345))) from FUNCT_1:sch 3;
set D254 = C366;
L1729:
now
take D255 = C366;
thus L1730: D254 = D255;
thus L1731: ( dom D255 ) = ( dom ( Carrier C362 ) ) by L1727;
thus L1732: (for B346 being set holds (B346 in ( dom ( Carrier C362 ) ) implies ( D255 . B346 ) in ( ( Carrier C362 ) . B346 )))
proof
let C367 being set;
assume that
L1733: C367 in ( dom ( Carrier C362 ) );
L1734: C367 in ( dom C362 ) by L1726 , L1733 , PARTFUN1:def 2;
L1735: ( C362 . C367 ) in ( rng C362 ) by L1734 , FUNCT_1:def 3;
reconsider D256 = ( C362 . C367 ) as RelStr by L1735 , YELLOW_1:def 3;
L1736: D256 is non  empty by L1725 , L1735 , WAYBEL_3:def 7;
L1737: (the carrier of D256) is non  empty by L1736;
L1738: C367 in C361 by L1733;
L1739: (ex B347 being 1-sorted st (B347 = ( C362 . C367 ) & ( ( Carrier C362 ) . C367 ) = (the carrier of B347))) by L1738 , PRALG_1:def 13;
L1740: ( D255 . C367 ) = ( choose ( ( Carrier C362 ) . C367 ) ) by L1728 , L1733;
thus L1741: thesis by L1740 , L1737 , L1739;
end;

end;
L1733: ( product ( Carrier C362 ) ) is non  empty by L1729 , CARD_3:def 5;
thus L1734: thesis by L1733 , YELLOW_1:def 4;
end;
theorem
L1735: (for B348 being non  empty Nat holds (for B349 being  RelStr-yielding (ManySortedSet of ( B348 + 1 )) holds (for B350 being (Subset of ( B348 + 1 )) holds (for B351 being (Element of ( B348 + 1 )) holds ((B350 = B348 & B351 = B348) implies [: ( product ( B349 | B350 ) ) , ( B349 . B351 ) :] , ( product B349 ) are_isomorphic )))))
proof
let C368 being non  empty Nat;
let C369 being  RelStr-yielding (ManySortedSet of ( C368 + 1 ));
let C370 being (Subset of ( C368 + 1 ));
let C371 being (Element of ( C368 + 1 ));
assume that
L1736: C370 = C368
and
L1737: C371 = C368;
set D257 = [: ( product ( C369 | C370 ) ) , ( C369 . C371 ) :];
set D258 = ( product C369 );
set D259 = [: (the carrier of ( product ( C369 | C370 ) )) , (the carrier of ( C369 . C371 )) :];
set D260 = (the carrier of ( product C369 ));
L1738: ( dom ( Carrier ( C369 | C370 ) ) ) = C368 by L1736 , PARTFUN1:def 2;
per cases ;
suppose L1739: (the carrier of ( product C369 )) is  empty;

L1740: D258 is  empty by L1739;
L1741: (not C369 is  non-Empty) by L1739;
consider C372 being 1-sorted such that L1742: C372 in ( rng C369 ) and L1743: C372 is  empty by L1741 , WAYBEL_3:def 7;
consider C373 being set such that L1744: C373 in ( dom C369 ) and L1745: C372 = ( C369 . C373 ) by L1742 , FUNCT_1:def 3;
L1746: C373 in ( C368 + 1 ) by L1744;
L1747: C373 in ( C368 \/ { C368 } ) by L1746 , AFINSQ_1:2;
L1748: D257 is  empty
proof
per cases  by L1747 , XBOOLE_0:def 3;
suppose L1749: C373 in C368;

L1750: ( ( C369 | C370 ) . C373 ) = ( C369 . C373 ) by L1749 , L1736 , FUNCT_1:49;
L1751: C373 in ( dom ( C369 | C370 ) ) by L1736 , L1749 , PARTFUN1:def 2;
L1752: ( C369 . C373 ) in ( rng ( C369 | C370 ) ) by L1751 , L1750 , FUNCT_1:def 3;
L1753: (not ( C369 | C370 ) is  non-Empty) by L1752 , L1743 , L1745 , WAYBEL_3:def 7;
reconsider D261 = (the carrier of ( product ( C369 | C370 ) )) as  empty set by L1753 , L1736 , L1710;
L1754: [: D261 , (the carrier of ( C369 . C371 )) :] is  empty;
thus L1755: thesis by L1754 , YELLOW_3:def 2;
end;
suppose L1756: C373 in { C368 };

L1757: ( C369 . C371 ) is  empty by L1756 , L1737 , L1743 , L1745 , TARSKI:def 1;
reconsider D262 = (the carrier of ( C369 . C371 )) as  empty set by L1757;
reconsider D263 = (the carrier of ( product ( C369 | C370 ) )) as set;
L1758: [: D263 , D262 :] is  empty;
thus L1759: thesis by L1758 , YELLOW_3:def 2;
end;
end;
L1761: ( dom ( {} ) ) = (the carrier of D257) by L1748;
L1762: (for B352 being set holds (B352 in ( {} ) implies ( ( {} ) . B352 ) in (the carrier of D258)));
reconsider D264 = ( {} ) as (Function of D257 , D258) by L1762 , L1761 , FUNCT_2:3;
L1763: D264 is  isomorphic by L1740 , L1748 , WAYBEL_0:def 38;
thus L1764: thesis by L1763 , WAYBEL_1:def 8;
end;
suppose L1765: (the carrier of ( product C369 )) is non  empty;

reconsider D265 = D260 as non  empty set by L1765;
reconsider D266 = D258 as non  empty RelStr by L1765;
L1766: C369 is  non-Empty by L1765 , L1710;
reconsider D267 = C369 as  RelStr-yielding  non-Empty (ManySortedSet of ( C368 + 1 )) by L1765 , L1710;
L1767: ( D267 . C371 ) is non  empty;
reconsider D268 = (the carrier of ( C369 . C371 )) as non  empty set by L1767;
L1768:
now
let C374 being 1-sorted;
assume L1769: C374 in ( rng ( C369 | C370 ) );
consider C375 being set such that L1770: C375 in ( dom ( C369 | C370 ) ) and L1771: C374 = ( ( C369 | C370 ) . C375 ) by L1769 , FUNCT_1:def 3;
L1772: C375 in C370 by L1770;
L1773: C375 in ( C368 + 1 ) by L1772;
L1774: C375 in ( dom C369 ) by L1773 , PARTFUN1:def 2;
L1775: C374 = ( C369 . C375 ) by L1770 , L1771 , FUNCT_1:47;
L1776: C374 in ( rng C369 ) by L1775 , L1774 , FUNCT_1:def 3;
thus L1777: C374 is non  empty by L1776 , L1766 , WAYBEL_3:def 7;
end;
L1778: ( C369 | C370 ) is  non-Empty by L1768 , WAYBEL_3:def 7;
L1779: ( product ( C369 | C370 ) ) is non  empty by L1778;
reconsider D269 = (the carrier of ( product ( C369 | C370 ) )) as non  empty set by L1778;
L1780: D259 = [: D269 , D268 :];
reconsider D270 = D257 as non  empty RelStr by L1780 , YELLOW_3:def 2;
L1781: D259 = (the carrier of D270) by YELLOW_3:def 2;
reconsider D271 = D259 as non  empty set by L1781;
defpred S13[ set , set ] means (ex B353 being Function st (ex B354 being (Element of D268) st (B353 in D269 & $1 = [ B353 , B354 ] & $2 = ( B353 +* ( C368 .--> B354 ) ))));
L1782: (for B355 being (Element of D271) holds (ex B356 being (Element of D265) st S13[ B355 , B356 ]))
proof
let C376 being (Element of D271);
reconsider D272 = C376 as (Element of [: D269 , D268 :]);
set D273 = ( D272 `1 );
set D274 = ( D272 `2 );
reconsider D275 = D273 as (Element of D269) by MCART_1:10;
reconsider D276 = D274 as (Element of D268) by MCART_1:10;
L1783: ( product ( Carrier ( C369 | C370 ) ) ) is non  empty by L1779 , YELLOW_1:def 4;
L1784: D275 is (Element of ( product ( Carrier ( C369 | C370 ) ) )) by YELLOW_1:def 4;
L1785: (ex B357 being Function st (D275 = B357 & ( dom B357 ) = ( dom ( Carrier ( C369 | C370 ) ) ) & (for B358 being set holds (B358 in ( dom ( Carrier ( C369 | C370 ) ) ) implies ( B357 . B358 ) in ( ( Carrier ( C369 | C370 ) ) . B358 ))))) by L1784 , L1783 , CARD_3:def 5;
reconsider D277 = D275 as Function by L1784;
set D278 = ( D277 +* ( C368 .--> D276 ) );
L1786:
now
set D279 = D278;
reconsider D280 = D279 as Function;
take D281 = D280;
thus L1787: D278 = D281;
L1788: ( dom D277 ) = C370 by L1785 , PARTFUN1:def 2;
thus L1789: ( dom D281 ) = ( ( dom D277 ) \/ ( dom ( C368 .--> D276 ) ) ) by FUNCT_4:def 1
.= ( C368 \/ { C368 } ) by L1736 , L1788 , FUNCOP_1:13
.= ( C368 + 1 ) by AFINSQ_1:2
.= ( dom ( Carrier C369 ) ) by PARTFUN1:def 2;
let C377 being set;
assume L1790: C377 in ( dom ( Carrier C369 ) );
L1791: C377 in ( C368 + 1 ) by L1790;
L1792: C377 in ( C368 \/ { C368 } ) by L1791 , AFINSQ_1:2;
per cases  by L1792 , XBOOLE_0:def 3;
suppose L1793: C377 in C368;

L1794: C377 <> C368 by L1793;
L1795: (not C377 in ( dom ( C368 .--> D276 ) )) by L1794 , TARSKI:def 1;
L1796: ( D281 . C377 ) = ( D277 . C377 ) by L1795 , FUNCT_4:11;
L1797: C377 in ( dom ( Carrier ( C369 | C370 ) ) ) by L1736 , L1793 , PARTFUN1:def 2;
L1798: (ex B359 being 1-sorted st (B359 = ( ( C369 | C370 ) . C377 ) & ( ( Carrier ( C369 | C370 ) ) . C377 ) = (the carrier of B359))) by L1736 , L1793 , PRALG_1:def 13;
L1799: (ex B360 being 1-sorted st (B360 = ( C369 . C377 ) & ( ( Carrier C369 ) . C377 ) = (the carrier of B360))) by L1791 , PRALG_1:def 13;
L1800: ( ( Carrier ( C369 | C370 ) ) . C377 ) = ( ( Carrier C369 ) . C377 ) by L1799 , L1736 , L1793 , L1798 , FUNCT_1:49;
thus L1801: ( D281 . C377 ) in ( ( Carrier C369 ) . C377 ) by L1800 , L1785 , L1796 , L1797;
end;
suppose L1802: C377 in { C368 };

L1803: C377 = C368 by L1802 , TARSKI:def 1;
L1804: C377 in ( dom ( C368 .--> D276 ) ) by L1802 , FUNCOP_1:13;
L1805: ( D281 . C377 ) = ( ( C368 .--> D276 ) . C368 ) by L1804 , L1803 , FUNCT_4:13
.= D276 by FUNCOP_1:72;
L1806: (ex B361 being 1-sorted st (B361 = ( C369 . C371 ) & ( ( Carrier C369 ) . C371 ) = (the carrier of B361))) by PRALG_1:def 13;
thus L1807: ( D281 . C377 ) in ( ( Carrier C369 ) . C377 ) by L1806 , L1737 , L1803 , L1805;
end;
end;
L1809: D278 in ( product ( Carrier C369 ) ) by L1786 , CARD_3:def 5;
reconsider D282 = D278 as (Element of D265) by L1809 , YELLOW_1:def 4;
take D282;
take D277;
take D276;
thus L1810: D277 in D269;
thus L1811: C376 = [ D277 , D276 ] by MCART_1:21;
thus L1812: thesis;
end;
consider C378 being (Function of D271 , D265) such that L1813: (for B362 being (Element of D271) holds S13[ B362 , ( C378 . B362 ) ]) from FUNCT_2:sch 3(L1782);
L1814:
now
L1815: (the carrier of [: ( product ( C369 | C370 ) ) , ( C369 . C371 ) :]) = [: (the carrier of ( product ( C369 | C370 ) )) , (the carrier of ( C369 . C371 )) :] by YELLOW_3:def 2;
reconsider D283 = C378 as (Function of [: ( product ( C369 | C370 ) ) , ( C369 . C371 ) :] , ( product C369 )) by L1815;
reconsider D284 = D283 as (Function of D270 , D266);
take D285 = D283;
L1816:
now
let C379 , C380 being set;
assume that
L1817: C379 in ( dom D285 )
and
L1818: C380 in ( dom D285 )
and
L1819: ( D285 . C379 ) = ( D285 . C380 );
L1820: C379 is (Element of [: (the carrier of ( product ( C369 | C370 ) )) , (the carrier of ( C369 . C371 )) :]) by L1817 , YELLOW_3:def 2;
consider C381 being Function, C382 being (Element of D268) such that L1821: C381 in D269 and L1822: C379 = [ C381 , C382 ] and L1823: ( D285 . C379 ) = ( C381 +* ( C368 .--> C382 ) ) by L1820 , L1813;
L1824: C380 is (Element of [: (the carrier of ( product ( C369 | C370 ) )) , (the carrier of ( C369 . C371 )) :]) by L1818 , YELLOW_3:def 2;
consider C383 being Function, C384 being (Element of D268) such that L1825: C383 in D269 and L1826: C380 = [ C383 , C384 ] and L1827: ( D285 . C380 ) = ( C383 +* ( C368 .--> C384 ) ) by L1824 , L1813;
L1828: C381 in ( product ( Carrier ( C369 | C370 ) ) ) by L1821 , YELLOW_1:def 4;
L1829: (ex B363 being Function st (C381 = B363 & ( dom B363 ) = ( dom ( Carrier ( C369 | C370 ) ) ) & (for B364 being set holds (B364 in ( dom ( Carrier ( C369 | C370 ) ) ) implies ( B363 . B364 ) in ( ( Carrier ( C369 | C370 ) ) . B364 ))))) by L1828 , CARD_3:def 5;
L1830: C383 in ( product ( Carrier ( C369 | C370 ) ) ) by L1825 , YELLOW_1:def 4;
L1831: (ex B365 being Function st (C383 = B365 & ( dom B365 ) = ( dom ( Carrier ( C369 | C370 ) ) ) & (for B366 being set holds (B366 in ( dom ( Carrier ( C369 | C370 ) ) ) implies ( B365 . B366 ) in ( ( Carrier ( C369 | C370 ) ) . B366 ))))) by L1830 , CARD_3:def 5;
L1832: ( dom ( C368 .--> C382 ) ) = { C368 } by FUNCOP_1:13;
L1833: ( dom ( C368 .--> C382 ) ) = ( dom ( C368 .--> C384 ) ) by L1832 , FUNCOP_1:13;
L1834: ( dom C381 ) = C368 by L1736 , L1829 , PARTFUN1:def 2;
L1835:
now
assume L1836: (not C368 misses { C368 });
L1837: ( C368 /\ { C368 } ) <> ( {} ) by L1836 , XBOOLE_0:def 7;
consider C385 being set such that L1838: C385 in ( C368 /\ { C368 } ) by L1837 , XBOOLE_0:def 1;
L1839: C385 in C368 by L1838 , XBOOLE_0:def 4;
L1840: C385 in { C368 } by L1838 , XBOOLE_0:def 4;
L1841: C385 = C368 by L1840 , TARSKI:def 1;
thus L1842: contradiction by L1841 , L1839;
end;
L1843: ( dom C381 ) misses ( dom ( C368 .--> C382 ) ) by L1835 , L1834 , FUNCOP_1:13;
L1844: ( dom C383 ) misses ( dom ( C368 .--> C384 ) ) by L1829 , L1831 , L1834 , L1835 , FUNCOP_1:13;
L1845:
now
let C386 , C387 being set;
thus L1846:now
assume L1847: [ C386 , C387 ] in C381;
L1848: C386 in ( dom C381 ) by L1847 , FUNCT_1:1;
L1849: C387 = ( C381 . C386 ) by L1847 , FUNCT_1:1;
L1850: C386 in ( ( dom C381 ) \/ ( dom ( C368 .--> C382 ) ) ) by L1848 , XBOOLE_0:def 3;
L1851: (not C386 in ( dom ( C368 .--> C382 ) )) by L1850 , L1843 , L1848 , XBOOLE_0:5;
L1852: ( ( C383 +* ( C368 .--> C384 ) ) . C386 ) = ( C381 . C386 ) by L1851 , L1819 , L1823 , L1827 , L1850 , FUNCT_4:def 1;
L1853: C386 in ( ( dom C383 ) \/ ( dom ( C368 .--> C384 ) ) ) by L1829 , L1831 , L1848 , XBOOLE_0:def 3;
L1854: C386 in ( dom C383 ) by L1829 , L1831 , L1847 , FUNCT_1:1;
L1855: (not C386 in ( dom ( C368 .--> C384 ) )) by L1854 , L1844 , L1853 , XBOOLE_0:5;
L1856: C387 = ( C383 . C386 ) by L1855 , L1849 , L1852 , L1853 , FUNCT_4:def 1;
thus L1857: [ C386 , C387 ] in C383 by L1856 , L1854 , FUNCT_1:1;
end;
assume L1858: [ C386 , C387 ] in C383;
L1859: C386 in ( dom C383 ) by L1858 , FUNCT_1:1;
L1860: C387 = ( C383 . C386 ) by L1858 , FUNCT_1:1;
L1861: C386 in ( ( dom C383 ) \/ ( dom ( C368 .--> C384 ) ) ) by L1859 , XBOOLE_0:def 3;
L1862: (not C386 in ( dom ( C368 .--> C384 ) )) by L1861 , L1844 , L1859 , XBOOLE_0:5;
L1863: ( ( C381 +* ( C368 .--> C382 ) ) . C386 ) = ( C383 . C386 ) by L1862 , L1819 , L1823 , L1827 , L1861 , FUNCT_4:def 1;
L1864: C386 in ( ( dom C381 ) \/ ( dom ( C368 .--> C382 ) ) ) by L1829 , L1831 , L1859 , XBOOLE_0:def 3;
L1865: C386 in ( dom C381 ) by L1829 , L1831 , L1858 , FUNCT_1:1;
L1866: (not C386 in ( dom ( C368 .--> C382 ) )) by L1865 , L1843 , L1864 , XBOOLE_0:5;
L1867: C387 = ( C381 . C386 ) by L1866 , L1860 , L1863 , L1864 , FUNCT_4:def 1;
thus L1868: [ C386 , C387 ] in C381 by L1867 , L1865 , FUNCT_1:1;
end;
L1869: C368 in ( dom ( C368 .--> C382 ) ) by L1832 , TARSKI:def 1;
L1870: C368 in ( ( dom C381 ) \/ ( dom ( C368 .--> C382 ) ) ) by L1869 , XBOOLE_0:def 3;
L1871: C368 in ( dom ( C368 .--> C384 ) ) by L1832 , L1833 , TARSKI:def 1;
L1872: C368 in ( ( dom C383 ) \/ ( dom ( C368 .--> C384 ) ) ) by L1871 , XBOOLE_0:def 3;
L1873: ( ( C381 +* ( C368 .--> C382 ) ) . C368 ) = ( ( C368 .--> C384 ) . C368 ) by L1872 , L1819 , L1823 , L1827 , L1871 , FUNCT_4:def 1
.= C384 by FUNCOP_1:72;
L1874: C384 = ( ( C368 .--> C382 ) . C368 ) by L1873 , L1869 , L1870 , FUNCT_4:def 1
.= C382 by FUNCOP_1:72;
thus L1875: C379 = C380 by L1874 , L1822 , L1826 , L1845 , RELAT_1:def 2;
end;
L1876: D285 is  one-to-one by L1816 , FUNCT_1:def 4;
L1877:
now
let C388 being set;
thus L1878: (C388 in ( rng D285 ) implies C388 in (the carrier of ( product C369 )));
assume L1879: C388 in (the carrier of ( product C369 ));
L1880: C388 in ( product ( Carrier C369 ) ) by L1879 , YELLOW_1:def 4;
consider C389 being Function such that L1881: C388 = C389 and L1882: ( dom C389 ) = ( dom ( Carrier C369 ) ) and L1883: (for B367 being set holds (B367 in ( dom ( Carrier C369 ) ) implies ( C389 . B367 ) in ( ( Carrier C369 ) . B367 ))) by L1880 , CARD_3:def 5;
L1884: ( dom ( Carrier C369 ) ) = ( C368 + 1 ) by PARTFUN1:def 2;
L1885: ( C368 + 1 ) = { B368 where B368 is (Element of ( NAT )) : B368 < ( C368 + 1 ) } by AXIOMS:4;
L1886: C368 in ( NAT ) by ORDINAL1:def 12;
L1887: C368 < ( C368 + 1 ) by NAT_1:13;
L1888: C368 in ( C368 + 1 ) by L1887 , L1885 , L1886;
set D286 = ( C389 | C368 );
set D287 = ( C389 . C368 );
set D288 = [ D286 , D287 ];
L1889: ( dom ( Carrier ( C369 | C370 ) ) ) = C370 by PARTFUN1:def 2;
L1890: ( dom D286 ) = ( ( dom C389 ) /\ C368 ) by RELAT_1:61
.= ( ( C368 + 1 ) /\ C368 ) by L1882 , PARTFUN1:def 2;
L1891: ( dom D286 ) = C368 by L1890 , L18 , XBOOLE_1:28;
L1892: ( dom D286 ) = ( dom ( Carrier ( C369 | C370 ) ) ) by L1736 , L1889 , L1890 , XBOOLE_1:28;
L1893:
now
let C390 being set;
assume L1894: C390 in ( dom ( Carrier ( C369 | C370 ) ) );
L1895: C390 in C368 by L1894 , L1736;
L1896: C368 c= ( C368 + 1 ) by L18;
L1897: ( D286 . C390 ) = ( C389 . C390 ) by L1895 , FUNCT_1:49;
L1898: ( C389 . C390 ) in ( ( Carrier C369 ) . C390 ) by L1883 , L1884 , L1895 , L1896;
L1899: (ex B369 being 1-sorted st (B369 = ( C369 . C390 ) & ( ( Carrier C369 ) . C390 ) = (the carrier of B369))) by L1895 , L1896 , PRALG_1:def 13;
L1900: (ex B370 being 1-sorted st (B370 = ( ( C369 | C370 ) . C390 ) & ( ( Carrier ( C369 | C370 ) ) . C390 ) = (the carrier of B370))) by L1736 , L1895 , PRALG_1:def 13;
thus L1901: ( D286 . C390 ) in ( ( Carrier ( C369 | C370 ) ) . C390 ) by L1900 , L1736 , L1895 , L1897 , L1898 , L1899 , FUNCT_1:49;
end;
L1902: D286 in ( product ( Carrier ( C369 | C370 ) ) ) by L1893 , L1892 , CARD_3:9;
L1903: D286 in (the carrier of ( product ( C369 | C370 ) )) by L1902 , YELLOW_1:def 4;
L1904: (ex B371 being 1-sorted st (B371 = ( C369 . C368 ) & ( ( Carrier C369 ) . C368 ) = (the carrier of B371))) by L1888 , PRALG_1:def 13;
L1905: D287 in (the carrier of ( C369 . C371 )) by L1904 , L1737 , L1883 , L1884;
L1906: [ D286 , D287 ] in [: (the carrier of ( product ( C369 | C370 ) )) , (the carrier of ( C369 . C371 )) :] by L1905 , L1903 , ZFMISC_1:87;
L1907: D288 in ( dom D285 ) by L1906 , FUNCT_2:def 1;
L1908: D288 is (Element of D271) by L1903 , L1905 , ZFMISC_1:87;
consider C391 being Function, C392 being (Element of D268) such that L1909: C391 in D269 and L1910: D288 = [ C391 , C392 ] and L1911: ( D285 . D288 ) = ( C391 +* ( C368 .--> C392 ) ) by L1908 , L1813;
L1912: C391 = D286 by L1910 , XTUPLE_0:1;
L1913: C392 = D287 by L1910 , XTUPLE_0:1;
L1914:
now
let C393 , C394 being set;
thus L1915:now
assume L1916: [ C393 , C394 ] in ( D286 +* ( C368 .--> D287 ) );
L1917: C393 in ( dom ( D286 +* ( C368 .--> D287 ) ) ) by L1916 , FUNCT_1:1;
L1918: C393 in ( ( dom D286 ) \/ ( dom ( C368 .--> D287 ) ) ) by L1917 , FUNCT_4:def 1;
L1919: C393 in ( C368 \/ { C368 } ) by L1918 , L1891 , FUNCOP_1:13;
L1920: ( ( D286 +* ( C368 .--> D287 ) ) . C393 ) = C394 by L1916 , FUNCT_1:1;
per cases ;
suppose L1921: C393 in ( dom ( C368 .--> D287 ) );

L1922: C393 in { C368 } by L1921;
L1923: C393 = C368 by L1922 , TARSKI:def 1;
L1924: ( ( D286 +* ( C368 .--> D287 ) ) . C393 ) = ( ( C368 .--> D287 ) . C393 ) by L1918 , L1921 , FUNCT_4:def 1
.= D287 by L1923 , FUNCOP_1:72;
L1925: ( C389 . C393 ) = C394 by L1924 , L1916 , L1923 , FUNCT_1:1;
L1926: C393 in ( dom C389 ) by L1882 , L1884 , L1919 , AFINSQ_1:2;
thus L1927: [ C393 , C394 ] in C389 by L1926 , L1925 , FUNCT_1:1;
end;
suppose L1928: (not C393 in ( dom ( C368 .--> D287 ) ));

L1929: (not C393 in { C368 }) by L1928 , FUNCOP_1:13;
L1930: C393 in C368 by L1929 , L1919 , XBOOLE_0:def 3;
L1931: ( ( D286 +* ( C368 .--> D287 ) ) . C393 ) = ( D286 . C393 ) by L1918 , L1928 , FUNCT_4:def 1;
L1932: ( C389 . C393 ) = C394 by L1931 , L1920 , L1930 , FUNCT_1:49;
L1933: C393 in ( dom C389 ) by L1882 , L1884 , L1919 , AFINSQ_1:2;
thus L1934: [ C393 , C394 ] in C389 by L1933 , L1932 , FUNCT_1:1;
end;
end;
assume L1936: [ C393 , C394 ] in C389;
L1937: C393 in ( C368 + 1 ) by L1936 , L1882 , L1884 , FUNCT_1:1;
L1938: C393 in ( C368 \/ { C368 } ) by L1937 , AFINSQ_1:2;
L1939: ( dom ( D286 +* ( C368 .--> D287 ) ) ) = ( ( dom D286 ) \/ ( dom ( C368 .--> D287 ) ) ) by FUNCT_4:def 1
.= ( C368 \/ { C368 } ) by L1891 , FUNCOP_1:13;
L1940: C393 in ( dom ( D286 +* ( C368 .--> D287 ) ) ) by L1939 , L1937 , AFINSQ_1:2;
L1941: C393 in ( ( dom D286 ) \/ ( dom ( C368 .--> D287 ) ) ) by L1940 , FUNCT_4:def 1;
per cases ;
suppose L1942: C393 in ( dom ( C368 .--> D287 ) );

L1943: C393 in { C368 } by L1942;
L1944: C393 = C368 by L1943 , TARSKI:def 1;
L1945: ( ( D286 +* ( C368 .--> D287 ) ) . C393 ) = ( ( C368 .--> D287 ) . C393 ) by L1941 , L1942 , FUNCT_4:def 1
.= D287 by L1944 , FUNCOP_1:72
.= C394 by L1936 , L1944 , FUNCT_1:1;
thus L1946: [ C393 , C394 ] in ( D286 +* ( C368 .--> D287 ) ) by L1945 , L1940 , FUNCT_1:1;
end;
suppose L1947: (not C393 in ( dom ( C368 .--> D287 ) ));

L1948: (not C393 in { C368 }) by L1947 , FUNCOP_1:13;
L1949: C393 in C368 by L1948 , L1938 , XBOOLE_0:def 3;
L1950: ( ( D286 +* ( C368 .--> D287 ) ) . C393 ) = ( D286 . C393 ) by L1941 , L1947 , FUNCT_4:def 1
.= ( C389 . C393 ) by L1949 , FUNCT_1:49
.= C394 by L1936 , FUNCT_1:1;
thus L1951: [ C393 , C394 ] in ( D286 +* ( C368 .--> D287 ) ) by L1950 , L1940 , FUNCT_1:1;
end;
end;
L1953: ( D285 . D288 ) = C388 by L1914 , L1881 , L1911 , L1912 , L1913 , RELAT_1:def 2;
thus L1954: C388 in ( rng D285 ) by L1953 , L1907 , FUNCT_1:def 3;
end;
L1955: ( rng D285 ) = (the carrier of ( product C369 )) by L1877 , TARSKI:1;
L1956:
now
let C395 , C396 being (Element of D270);
L1957: C395 is (Element of D259) by YELLOW_3:def 2;
consider C397 being Function, C398 being (Element of D268) such that L1958: C397 in D269 and L1959: C395 = [ C397 , C398 ] and L1960: ( D285 . C395 ) = ( C397 +* ( C368 .--> C398 ) ) by L1957 , L1813;
L1961: ( dom D285 ) = D271 by FUNCT_2:def 1;
L1962: ( D285 . C395 ) in (the carrier of ( product C369 )) by L1961 , L1955 , L1957 , FUNCT_1:def 3;
L1963: ( D284 . C395 ) in ( product ( Carrier C369 ) ) by L1962 , YELLOW_1:def 4;
L1964: C396 is (Element of D259) by YELLOW_3:def 2;
consider C399 being Function, C400 being (Element of D268) such that L1965: C399 in D269 and L1966: C396 = [ C399 , C400 ] and L1967: ( D285 . C396 ) = ( C399 +* ( C368 .--> C400 ) ) by L1964 , L1813;
L1968: ( [ C397 , C398 ] `1 ) = C397;
L1969: ( [ C397 , C398 ] `2 ) = C398;
L1970: C397 in ( product ( Carrier ( C369 | C370 ) ) ) by L1958 , YELLOW_1:def 4;
L1971: (ex B372 being Function st (C397 = B372 & ( dom B372 ) = ( dom ( Carrier ( C369 | C370 ) ) ) & (for B373 being set holds (B373 in ( dom ( Carrier ( C369 | C370 ) ) ) implies ( B372 . B373 ) in ( ( Carrier ( C369 | C370 ) ) . B373 ))))) by L1970 , CARD_3:def 5;
L1972: ( dom C397 ) = C368 by L1971 , L1736 , PARTFUN1:def 2;
L1973: ( ( dom C397 ) \/ ( dom ( C368 .--> C398 ) ) ) = ( C368 \/ { C368 } ) by L1972 , FUNCOP_1:13;
L1974: C399 in ( product ( Carrier ( C369 | C370 ) ) ) by L1965 , YELLOW_1:def 4;
L1975: (ex B374 being Function st (C399 = B374 & ( dom B374 ) = ( dom ( Carrier ( C369 | C370 ) ) ) & (for B375 being set holds (B375 in ( dom ( Carrier ( C369 | C370 ) ) ) implies ( B374 . B375 ) in ( ( Carrier ( C369 | C370 ) ) . B375 ))))) by L1974 , CARD_3:def 5;
L1976: ( dom C399 ) = C368 by L1975 , L1736 , PARTFUN1:def 2;
L1977: ( ( dom C399 ) \/ ( dom ( C368 .--> C400 ) ) ) = ( C368 \/ { C368 } ) by L1976 , FUNCOP_1:13;
reconsider D289 = C397 as (Element of ( product ( C369 | C370 ) )) by L1958;
reconsider D290 = C399 as (Element of ( product ( C369 | C370 ) )) by L1965;
thus L1978:now
assume L1979: C395 <= C396;
L1980: [ C395 , C396 ] in (the InternalRel of D270) by L1979 , ORDERS_2:def 5;
L1981: [ C395 , C396 ] in [" (the InternalRel of ( product ( C369 | C370 ) )) , (the InternalRel of ( C369 . C371 )) "] by L1980 , YELLOW_3:def 2;
L1982: [ ( ( [ C395 , C396 ] `1 ) `1 ) , ( ( [ C395 , C396 ] `2 ) `1 ) ] in (the InternalRel of ( product ( C369 | C370 ) )) by L1981 , YELLOW_3:10;
L1983: [ ( ( [ C395 , C396 ] `1 ) `2 ) , ( ( [ C395 , C396 ] `2 ) `2 ) ] in (the InternalRel of ( C369 . C371 )) by L1981 , YELLOW_3:10;
L1984: ( [ C399 , C400 ] `1 ) = C399;
L1985: [ C397 , C399 ] in (the InternalRel of ( product ( C369 | C370 ) )) by L1984 , L1966 , L1968 , L1982 , L1959;
L1986: C397 in ( product ( Carrier ( C369 | C370 ) ) ) by L1958 , YELLOW_1:def 4;
L1987: D289 <= D290 by L1985 , ORDERS_2:def 5;
consider C401 , C402 being Function such that L1988: C401 = C397 and L1989: C402 = C399 and L1990: (for B376 being set holds (B376 in C368 implies (ex B377 being RelStr st (ex B378 , B379 being (Element of B377) st (B377 = ( ( C369 | C370 ) . B376 ) & B378 = ( C401 . B376 ) & B379 = ( C402 . B376 ) & B378 <= B379))))) by L1987 , L1736 , L1986 , YELLOW_1:def 4;
L1991: ( [ C399 , C400 ] `2 ) = C400;
L1992: [ C398 , C400 ] in (the InternalRel of ( C369 . C371 )) by L1991 , L1966 , L1969 , L1983 , L1959;
reconsider D291 = C398 as (Element of ( C369 . C371 ));
reconsider D292 = C400 as (Element of ( C369 . C371 ));
L1993: D291 <= D292 by L1992 , ORDERS_2:def 5;
L1994: (ex B380 , B381 being Function st (B380 = ( D285 . C395 ) & B381 = ( D285 . C396 ) & (for B382 being set holds (B382 in ( C368 + 1 ) implies (ex B383 being RelStr st (ex B384 , B385 being (Element of B383) st (B383 = ( C369 . B382 ) & B384 = ( B380 . B382 ) & B385 = ( B381 . B382 ) & B384 <= B385)))))))
proof
set D293 = ( C397 +* ( C368 .--> C398 ) );
set D294 = ( C399 +* ( C368 .--> C400 ) );
take D293;
take D294;
thus L1995: D293 = ( D285 . C395 ) by L1960;
thus L1996: D294 = ( D285 . C396 ) by L1967;
let C403 being set;
assume that
L1997: C403 in ( C368 + 1 );
L1998: C403 in ( C368 \/ { C368 } ) by L1997 , AFINSQ_1:2;
set D295 = ( C369 . C403 );
set D296 = ( D293 . C403 );
set D297 = ( D294 . C403 );
L1999: C403 in ( dom C369 ) by L1997 , PARTFUN1:def 2;
L2000: ( C369 . C403 ) in ( rng C369 ) by L1999 , FUNCT_1:def 3;
reconsider D298 = D295 as RelStr by L2000 , YELLOW_1:def 3;
L2001: C403 in ( ( dom C397 ) \/ ( dom ( C368 .--> C398 ) ) ) by L1973 , L1997 , AFINSQ_1:2;
L2002:
now
per cases ;
suppose L2003: C403 in ( dom ( C368 .--> C398 ) );

L2004: C403 in { C368 } by L2003;
L2005: C403 = C368 by L2004 , TARSKI:def 1;
L2006: ( D293 . C403 ) = ( ( C368 .--> C398 ) . C403 ) by L2001 , L2003 , FUNCT_4:def 1;
thus L2007: D296 is (Element of D298) by L2006 , L1737 , L2005 , FUNCOP_1:72;
end;
suppose L2008: (not C403 in ( dom ( C368 .--> C398 ) ));

L2009: (not C403 in { C368 }) by L2008 , FUNCOP_1:13;
L2010: C403 in C368 by L2009 , L1998 , XBOOLE_0:def 3;
L2011: C403 in ( dom ( Carrier ( C369 | C370 ) ) ) by L1738 , L1998 , L2009 , XBOOLE_0:def 3;
L2012: ( D293 . C403 ) = ( C397 . C403 ) by L2001 , L2008 , FUNCT_4:def 1;
L2013: D296 in ( ( Carrier ( C369 | C370 ) ) . C403 ) by L2012 , L1971 , L2011;
L2014: (ex B386 being 1-sorted st (B386 = ( ( C369 | C370 ) . C403 ) & ( ( Carrier ( C369 | C370 ) ) . C403 ) = (the carrier of B386))) by L1736 , L2010 , PRALG_1:def 13;
thus L2015: D296 is (Element of D298) by L2014 , L1736 , L2010 , L2013 , FUNCT_1:49;
end;
end;
reconsider D299 = D296 as (Element of D298) by L2002;
L2017: C403 in ( ( dom C399 ) \/ ( dom ( C368 .--> C400 ) ) ) by L1977 , L1997 , AFINSQ_1:2;
L2018:
now
per cases ;
suppose L2019: C403 in ( dom ( C368 .--> C400 ) );

L2020: C403 in { C368 } by L2019;
L2021: C403 = C368 by L2020 , TARSKI:def 1;
L2022: ( D294 . C403 ) = ( ( C368 .--> C400 ) . C403 ) by L2017 , L2019 , FUNCT_4:def 1;
thus L2023: D297 is (Element of D298) by L2022 , L1737 , L2021 , FUNCOP_1:72;
end;
suppose L2024: (not C403 in ( dom ( C368 .--> C400 ) ));

L2025: (not C403 in { C368 }) by L2024 , FUNCOP_1:13;
L2026: C403 in C368 by L2025 , L1998 , XBOOLE_0:def 3;
L2027: C403 in ( dom ( Carrier ( C369 | C370 ) ) ) by L1738 , L1998 , L2025 , XBOOLE_0:def 3;
L2028: ( D294 . C403 ) = ( C399 . C403 ) by L2017 , L2024 , FUNCT_4:def 1;
L2029: D297 in ( ( Carrier ( C369 | C370 ) ) . C403 ) by L2028 , L1975 , L2027;
L2030: (ex B387 being 1-sorted st (B387 = ( ( C369 | C370 ) . C403 ) & ( ( Carrier ( C369 | C370 ) ) . C403 ) = (the carrier of B387))) by L1736 , L2026 , PRALG_1:def 13;
thus L2031: D297 is (Element of D298) by L2030 , L1736 , L2026 , L2029 , FUNCT_1:49;
end;
end;
reconsider D300 = D297 as (Element of D298) by L2018;
take D298;
take D299;
take D300;
thus L2033: D298 = ( C369 . C403 );
thus L2034: D299 = ( D293 . C403 );
thus L2035: D300 = ( D294 . C403 );
per cases  by L1998 , XBOOLE_0:def 3;
suppose L2036: C403 in C368;

L2037: (not C403 in { C368 })
proof
assume L2038: C403 in { C368 };
L2039: C368 in C368 by L2038 , L2036 , TARSKI:def 1;
thus L2040: contradiction by L2039;
end;
L2041: (not C403 in ( dom ( C368 .--> C398 ) )) by L2037;
L2042: (not C403 in ( dom ( C368 .--> C400 ) )) by L2037;
L2043: D300 = ( C399 . C403 ) by L2042 , L2017 , FUNCT_4:def 1;
consider C404 being RelStr, C405 , C406 being (Element of C404) such that L2044: C404 = ( ( C369 | C370 ) . C403 ) and L2045: C405 = ( C401 . C403 ) and L2046: C406 = ( C402 . C403 ) and L2047: C405 <= C406 by L1990 , L2036;
L2048: C404 = D298 by L1736 , L2036 , L2044 , FUNCT_1:49;
thus L2049: thesis by L2048 , L1988 , L1989 , L2001 , L2041 , L2043 , L2045 , L2046 , L2047 , FUNCT_4:def 1;
end;
suppose L2050: C403 in { C368 };

L2051: C403 = C368 by L2050 , TARSKI:def 1;
L2052: C403 in ( dom ( C368 .--> C398 ) ) by L2050 , FUNCOP_1:13;
L2053: C403 in ( dom ( C368 .--> C400 ) ) by L2050 , FUNCOP_1:13;
L2054: D299 = ( ( C368 .--> C398 ) . C403 ) by L2001 , L2052 , FUNCT_4:def 1
.= C398 by L2051 , FUNCOP_1:72;
L2055: D300 = ( ( C368 .--> C400 ) . C403 ) by L2017 , L2053 , FUNCT_4:def 1
.= C400 by L2051 , FUNCOP_1:72;
thus L2056: thesis by L2055 , L1737 , L1993 , L2050 , L2054 , TARSKI:def 1;
end;
end;
thus L2058: ( D284 . C395 ) <= ( D284 . C396 ) by L1994 , L1963 , YELLOW_1:def 4;
end;
assume L2059: ( D284 . C395 ) <= ( D284 . C396 );
consider C407 , C408 being Function such that L2060: C407 = ( D285 . C395 ) and L2061: C408 = ( D285 . C396 ) and L2062: (for B388 being set holds (B388 in ( C368 + 1 ) implies (ex B389 being RelStr st (ex B390 , B391 being (Element of B389) st (B389 = ( C369 . B388 ) & B390 = ( C407 . B388 ) & B391 = ( C408 . B388 ) & B390 <= B391))))) by L2059 , L1963 , YELLOW_1:def 4;
L2063:
now
set D301 = D289;
set D302 = D290;
reconsider D303 = D301 , D304 = D302 as Function;
take D305 = D303;
take D306 = D304;
thus L2064: (D305 = D289 & D306 = D290);
let C409 being set;
assume that
L2065: C409 in C370;
L2066: (not C409 in { C368 })
proof
assume L2067: C409 in { C368 };
L2068: C409 = C368 by L2067 , TARSKI:def 1;
thus L2069: contradiction by L2068 , L1736 , L2065;
end;
L2070: (not C409 in ( dom ( C368 .--> C400 ) )) by L2066;
L2071: (not C409 in ( dom ( C368 .--> C398 ) )) by L2066;
set D307 = ( ( C369 | C370 ) . C409 );
L2072: C409 in ( dom ( C369 | C370 ) ) by L2065 , PARTFUN1:def 2;
L2073: ( ( C369 | C370 ) . C409 ) in ( rng ( C369 | C370 ) ) by L2072 , FUNCT_1:def 3;
reconsider D308 = D307 as RelStr by L2073 , YELLOW_1:def 3;
take D309 = D308;
set D310 = ( C397 . C409 );
set D311 = ( C399 . C409 );
L2074: C409 in ( ( dom C397 ) \/ ( dom ( C368 .--> C398 ) ) ) by L1736 , L1972 , L2065 , XBOOLE_0:def 3;
L2075: C409 in ( dom ( Carrier ( C369 | C370 ) ) ) by L2065 , PARTFUN1:def 2;
L2076: (ex B392 being 1-sorted st (B392 = ( ( C369 | C370 ) . C409 ) & ( ( Carrier ( C369 | C370 ) ) . C409 ) = (the carrier of B392))) by L2065 , PRALG_1:def 13;
reconsider D312 = D310 as (Element of D309) by L2076 , L1971 , L2075;
L2077: C409 in ( ( dom C399 ) \/ ( dom ( C368 .--> C400 ) ) ) by L1736 , L1976 , L2065 , XBOOLE_0:def 3;
L2078: (ex B393 being 1-sorted st (B393 = ( ( C369 | C370 ) . C409 ) & ( ( Carrier ( C369 | C370 ) ) . C409 ) = (the carrier of B393))) by L2065 , PRALG_1:def 13;
reconsider D313 = D311 as (Element of D309) by L2078 , L1975 , L2075;
take D314 = D312;
take D315 = D313;
thus L2079: (D309 = ( ( C369 | C370 ) . C409 ) & D314 = ( D305 . C409 ) & D315 = ( D306 . C409 ));
consider C410 being RelStr, C411 , C412 being (Element of C410) such that L2080: C410 = ( C369 . C409 ) and L2081: C411 = ( C407 . C409 ) and L2082: C412 = ( C408 . C409 ) and L2083: C411 <= C412 by L2062 , L2065;
L2084: C410 = D309 by L2065 , L2080 , FUNCT_1:49;
L2085: ( ( C397 +* ( C368 .--> C398 ) ) . C409 ) = D314 by L2071 , L2074 , FUNCT_4:def 1;
thus L2086: D314 <= D315 by L2085 , L1960 , L1967 , L2060 , L2061 , L2070 , L2077 , L2081 , L2082 , L2083 , L2084 , FUNCT_4:def 1;
end;
L2087: D289 <= D290 by L2063 , L1970 , YELLOW_1:def 4;
L2088: [ C397 , C399 ] in (the InternalRel of ( product ( C369 | C370 ) )) by L2087 , ORDERS_2:def 5;
L2089: ( [ C399 , C400 ] `1 ) = C399;
L2090: [ ( ( [ C395 , C396 ] `1 ) `1 ) , ( ( [ C395 , C396 ] `2 ) `1 ) ] in (the InternalRel of ( product ( C369 | C370 ) )) by L2089 , L1966 , L1968 , L1959 , L2088;
consider C413 being RelStr, C414 , C415 being (Element of C413) such that L2091: C413 = ( C369 . C371 ) and L2092: C414 = ( C407 . C368 ) and L2093: C415 = ( C408 . C368 ) and L2094: C414 <= C415 by L1737 , L2062;
L2095: [ C414 , C415 ] in (the InternalRel of ( C369 . C371 )) by L2091 , L2094 , ORDERS_2:def 5;
L2096: ( dom ( C368 .--> C398 ) ) = { C368 } by FUNCOP_1:13;
L2097: C368 in ( dom ( C368 .--> C398 ) ) by L2096 , TARSKI:def 1;
L2098: C368 in ( ( dom C397 ) \/ ( dom ( C368 .--> C398 ) ) ) by L2097 , XBOOLE_0:def 3;
L2099: ( ( C397 +* ( C368 .--> C398 ) ) . C368 ) = ( ( C368 .--> C398 ) . C368 ) by L2098 , L2097 , FUNCT_4:def 1
.= C398 by FUNCOP_1:72;
L2100: ( dom ( C368 .--> C400 ) ) = { C368 } by FUNCOP_1:13;
L2101: C368 in ( dom ( C368 .--> C400 ) ) by L2100 , TARSKI:def 1;
L2102: C368 in ( ( dom C399 ) \/ ( dom ( C368 .--> C400 ) ) ) by L2101 , XBOOLE_0:def 3;
L2103: ( ( C399 +* ( C368 .--> C400 ) ) . C368 ) = ( ( C368 .--> C400 ) . C368 ) by L2102 , L2101 , FUNCT_4:def 1
.= C400 by FUNCOP_1:72;
L2104: ( [ C399 , C400 ] `2 ) = C400;
L2105: [ ( ( [ C395 , C396 ] `1 ) `2 ) , ( ( [ C395 , C396 ] `2 ) `2 ) ] in (the InternalRel of ( C369 . C371 )) by L2104 , L1960 , L1966 , L1967 , L1969 , L2060 , L2061 , L2092 , L2093 , L2095 , L2099 , L2103 , L1959;
L2106: ( [ C395 , C396 ] `1 ) = [ C397 , C398 ] by L1959;
L2107: ( [ C395 , C396 ] `2 ) = [ C399 , C400 ] by L1966;
L2108: [ C395 , C396 ] in [" (the InternalRel of ( product ( C369 | C370 ) )) , (the InternalRel of ( C369 . C371 )) "] by L2107 , L2090 , L2105 , L2106 , YELLOW_3:10;
L2109: [ C395 , C396 ] in (the InternalRel of D270) by L2108 , YELLOW_3:def 2;
thus L2110: C395 <= C396 by L2109 , ORDERS_2:def 5;
end;
thus L2111: D285 is  isomorphic by L1956 , L1876 , L1955 , WAYBEL_0:66;
end;
thus L2112: thesis by L1814 , WAYBEL_1:def 8;
end;
end;
theorem
L2114: (for B394 being non  empty Nat holds (for B395 being  RelStr-yielding (ManySortedSet of B394) holds ((for B396 being (Element of B394) holds (( B395 . B396 ) is  Dickson & ( B395 . B396 ) is  quasi_ordered)) implies (( product B395 ) is  quasi_ordered & ( product B395 ) is  Dickson))))
proof
defpred S14[ non  empty Nat ] means (for B397 being  RelStr-yielding (ManySortedSet of $1) holds ((for B398 being (Element of $1) holds (( B397 . B398 ) is  Dickson & ( B397 . B398 ) is  quasi_ordered)) implies (( product B397 ) is  quasi_ordered & ( product B397 ) is  Dickson)));
L2115: S14[ 1 ]
proof
let C416 being  RelStr-yielding (ManySortedSet of 1);
assume that
L2116: (for B399 being (Element of 1) holds (( C416 . B399 ) is  Dickson & ( C416 . B399 ) is  quasi_ordered));
reconsider D316 = ( 0 ) as (Element of 1) by CARD_1:49 , TARSKI:def 1;
L2117: ( C416 . D316 ) is  Dickson by L2116;
L2118: ( C416 . D316 ) is  quasi_ordered by L2116;
L2119: ( C416 . D316 ) , ( product C416 ) are_isomorphic  by L1597;
thus L2120: thesis by L2119 , L2117 , L2118 , L1557;
end;
L2121:
now
let C417 being non  empty Nat;
assume L2122: S14[ C417 ];
thus L2123: S14[ ( C417 + 1 ) ]
proof
let C418 being  RelStr-yielding (ManySortedSet of ( C417 + 1 ));
assume L2124: (for B400 being (Element of ( C417 + 1 )) holds (( C418 . B400 ) is  Dickson & ( C418 . B400 ) is  quasi_ordered));
L2125: C417 <= ( C417 + 1 ) by NAT_1:11;
reconsider D317 = C417 as (Subset of ( C417 + 1 )) by L2125 , NAT_1:39;
L2126: ( C417 + 1 ) = { B401 where B401 is (Element of ( NAT )) : B401 < ( C417 + 1 ) } by AXIOMS:4;
L2127: C417 in ( NAT ) by ORDINAL1:def 12;
L2128: C417 < ( C417 + 1 ) by NAT_1:13;
L2129: C417 in ( C417 + 1 ) by L2128 , L2126 , L2127;
reconsider D318 = C417 as (Element of ( C417 + 1 )) by L2129;
reconsider D319 = ( C418 | D317 ) as  RelStr-yielding (ManySortedSet of C417);
L2130: (for B402 being (Element of C417) holds (( D319 . B402 ) is  Dickson & ( D319 . B402 ) is  quasi_ordered))
proof
let C419 being (Element of C417);
L2131: ( D319 . C419 ) = ( C418 . C419 ) by FUNCT_1:49;
L2132: C417 = { B403 where B403 is (Element of ( NAT )) : B403 < C417 } by AXIOMS:4;
L2133: C419 in C417;
consider C420 being (Element of ( NAT )) such that L2134: C420 = C419 and L2135: C420 < C417 by L2133 , L2132;
L2136: C420 < ( C417 + 1 ) by L2135 , NAT_1:13;
L2137: C419 in ( C417 + 1 ) by L2136 , L2126 , L2134;
reconsider D320 = C419 as (Element of ( C417 + 1 )) by L2137;
L2138: D320 = C419;
thus L2139: thesis by L2138 , L2124 , L2131;
end;
L2140: ( product D319 ) is  Dickson by L2130 , L2122;
L2141: ( product D319 ) is  quasi_ordered by L2122 , L2130;
L2142: ( C418 . D318 ) is  Dickson by L2124;
L2143: ( C418 . D318 ) is  quasi_ordered by L2124;
L2144: [: ( product ( C418 | D317 ) ) , ( C418 . D318 ) :] is  Dickson by L2143 , L2140 , L2141 , L2142 , L1517;
L2145: [: ( product ( C418 | D317 ) ) , ( C418 . D318 ) :] is  quasi_ordered by L2140 , L2141 , L2142 , L2143 , L1517;
L2146: [: ( product ( C418 | D317 ) ) , ( C418 . D318 ) :] , ( product C418 ) are_isomorphic  by L1735;
thus L2147: thesis by L2146 , L2144 , L2145 , L1557;
end;

end;
thus L2124: (for B404 being non  empty Nat holds S14[ B404 ]) from NAT_1:sch 10(L2115 , L2121);
end;
L2125: (for B405 being  RelStr-yielding (ManySortedSet of ( {} )) holds (( product B405 ) is non  empty & ( product B405 ) is  quasi_ordered & ( product B405 ) is  Dickson & ( product B405 ) is  antisymmetric))
proof
let C421 being  RelStr-yielding (ManySortedSet of ( {} ));
L2126: ( product C421 ) = RelStr (# { ( {} ) } , ( id { ( {} ) } ) #) by YELLOW_1:26;
set D321 = ( product C421 );
set D322 = (the carrier of D321);
set D323 = (the InternalRel of D321);
L2127: D323 = ( id { ( {} ) } ) by YELLOW_1:26;
thus L2128: D321 is non  empty by YELLOW_1:26;
thus L2129: D321 is  quasi_ordered
proof
thus L2130: D321 is  reflexive by YELLOW_1:26;
let C422 , C423 , C424 being set;
assume that
L2131: C422 in D322
and
L2132: C423 in D322
and
L2133: C424 in D322
and
L2134: [ C422 , C423 ] in D323
and
L2135: [ C423 , C424 ] in D323;
thus L2136: thesis by L2127 , L2134 , L2135 , RELAT_1:def 10;
end;

thus L2137: D321 is  Dickson
proof
let C425 being (Subset of D322);
per cases  by L2126 , ZFMISC_1:33;
suppose L2138: C425 = ( {} );

take D324 = ( {} );
L2139: C425 = ( {} D322 ) by L2138;
thus L2140: D324 is_Dickson-basis_of C425 , D321 by L2139 , L814;
thus L2141: thesis;
end;
suppose L2142: C425 = { ( {} ) };

take D325 = { ( {} ) };
thus L2143: D325 is_Dickson-basis_of C425 , D321
proof
thus L2144: D325 c= C425 by L2142;
let C426 being (Element of D321);
assume L2145: C426 in C425;
take D326 = C426;
thus L2146: D326 in D325 by L2142 , L2145;
L2147: [ D326 , C426 ] in ( id { ( {} ) } ) by L2142 , L2145 , RELAT_1:def 10;
thus L2148: thesis by L2147 , L2127 , ORDERS_2:def 5;
end;

thus L2149: thesis;
end;
end;

thus L2151: thesis by YELLOW_1:26;
end;
registration
let C427 being  RelStr-yielding (ManySortedSet of ( {} ));
cluster ( product C427 ) -> non  empty;
coherence by L2125;
cluster ( product C427 ) ->  antisymmetric;
coherence by L2125;
cluster ( product C427 ) ->  quasi_ordered;
coherence by L2125;
::$N Dickson Lemma
cluster ( product C427 ) ->  Dickson;
coherence by L2125;
end;
definition
func NATOrd -> (Relation of ( NAT )) equals 
{ [ B406 , B407 ] where B406 , B407 is (Element of ( NAT )) : B406 <= B407 };
correctness
proof
set D327 = { [ B408 , B409 ] where B408 , B409 is (Element of ( NAT )) : B408 <= B409 };
L2153:
now
let C428 being set;
assume L2154: C428 in D327;
L2155: (ex B410 , B411 being (Element of ( NAT )) st (C428 = [ B410 , B411 ] & B410 <= B411)) by L2154;
thus L2156: C428 in [: ( NAT ) , ( NAT ) :] by L2155;
end;
thus L2157: thesis by L2153 , TARSKI:def 3;
end;
end;
theorem
L2159: ( NATOrd ) is_reflexive_in ( NAT )
proof
let C429 being set;
assume L2160: C429 in ( NAT );
reconsider D328 = C429 as (Element of ( NAT )) by L2160;
L2161: D328 <= D328;
thus L2162: thesis by L2161;
end;
theorem
L2163: ( NATOrd ) is_antisymmetric_in ( NAT )
proof
let C430 , C431 being set;
assume that
L2164: C430 in ( NAT )
and
L2165: C431 in ( NAT )
and
L2166: [ C430 , C431 ] in ( NATOrd )
and
L2167: [ C431 , C430 ] in ( NATOrd );
consider C432 , C433 being (Element of ( NAT )) such that L2168: [ C430 , C431 ] = [ C432 , C433 ] and L2169: C432 <= C433 by L2166;
L2170: C430 = C432 by L2168 , XTUPLE_0:1;
L2171: C431 = C433 by L2168 , XTUPLE_0:1;
consider C434 , C435 being (Element of ( NAT )) such that L2172: [ C431 , C430 ] = [ C434 , C435 ] and L2173: C434 <= C435 by L2167;
L2174: C434 = C433 by L2171 , L2172 , XTUPLE_0:1;
L2175: C435 = C432 by L2170 , L2172 , XTUPLE_0:1;
thus L2176: thesis by L2175 , L2169 , L2170 , L2171 , L2173 , L2174 , XXREAL_0:1;
end;
theorem
L2177: ( NATOrd ) is_strongly_connected_in ( NAT )
proof
L2178:
now
let C436 , C437 being set;
assume that
L2179: C436 in ( NAT )
and
L2180: C437 in ( NAT );
thus L2181: ([ C436 , C437 ] in ( NATOrd ) or [ C437 , C436 ] in ( NATOrd ))
proof
assume that
L2182: (not [ C436 , C437 ] in ( NATOrd ))
and
L2183: (not [ C437 , C436 ] in ( NATOrd ));
reconsider D329 = C436 , D330 = C437 as (Element of ( NAT )) by L2179 , L2180;
per cases ;
suppose L2184: D329 <= D330;

thus L2185: contradiction by L2184 , L2182;
end;
suppose L2186: D330 <= D329;

thus L2187: contradiction by L2186 , L2183;
end;
end;

end;
thus L2182: thesis by L2178 , RELAT_2:def 7;
end;
theorem
L2183: ( NATOrd ) is_transitive_in ( NAT )
proof
let C438 , C439 , C440 being set;
assume that
L2184: C438 in ( NAT )
and
L2185: C439 in ( NAT )
and
L2186: C440 in ( NAT )
and
L2187: [ C438 , C439 ] in ( NATOrd )
and
L2188: [ C439 , C440 ] in ( NATOrd );
consider C441 , C442 being (Element of ( NAT )) such that L2189: [ C438 , C439 ] = [ C441 , C442 ] and L2190: C441 <= C442 by L2187;
L2191: C438 = C441 by L2189 , XTUPLE_0:1;
L2192: C439 = C442 by L2189 , XTUPLE_0:1;
consider C443 , C444 being (Element of ( NAT )) such that L2193: [ C439 , C440 ] = [ C443 , C444 ] and L2194: C443 <= C444 by L2188;
L2195: C439 = C443 by L2193 , XTUPLE_0:1;
L2196: C440 = C444 by L2193 , XTUPLE_0:1;
L2197: C441 <= C444 by L2190 , L2192 , L2194 , L2195 , XXREAL_0:2;
thus L2198: thesis by L2197 , L2191 , L2196;
end;
definition
func OrderedNAT -> non  empty RelStr equals 
RelStr (# ( NAT ) , ( NATOrd ) #);
correctness;
end;
L2200:
now
L2201:
now
let C445 , C446 being (Element of ( OrderedNAT ));
assume L2202: (not C445 <= C446);
L2203: (not [ C445 , C446 ] in ( NATOrd )) by L2202 , ORDERS_2:def 5;
L2204: [ C446 , C445 ] in ( NATOrd ) by L2203 , L2177 , RELAT_2:def 7;
thus L2205: C446 <= C445 by L2204 , ORDERS_2:def 5;
end;
thus L2206: ( OrderedNAT ) is  connected by L2201 , WAYBEL_0:def 29;
end;
registration
cluster ( OrderedNAT ) ->  connected;
coherence by L2200;
cluster ( OrderedNAT ) ->  Dickson;
coherence
proof
set D331 = (the InternalRel of ( ( OrderedNAT ) \~ ));
set D332 = (the carrier of ( ( OrderedNAT ) \~ ));
L2207:
now
let C447 being set;
assume that
L2208: C447 c= D332
and
L2209: C447 <> ( {} );
L2210: (ex B412 being set st B412 in C447) by L2209 , XBOOLE_0:def 1;
defpred S15[ Nat ] means $1 in C447;
L2211: (ex B413 being Nat st S15[ B413 ]) by L2208 , L2210;
consider C448 being Nat such that L2212: S15[ C448 ] and L2213: (for B414 being Nat holds (S15[ B414 ] implies C448 <= B414)) from NAT_1:sch 5(L2211);
reconsider D333 = C448 as (Element of ( OrderedNAT )) by ORDINAL1:def 12;
thus L2214: (ex B415 being set st (B415 in C447 & ( D331 -Seg B415 ) misses C447))
proof
take D333;
thus L2215: D333 in C447 by L2212;
L2216:
now
assume L2217: ( ( D331 -Seg D333 ) /\ C447 ) <> ( {} );
consider C449 being set such that L2218: C449 in ( ( D331 -Seg D333 ) /\ C447 ) by L2217 , XBOOLE_0:def 1;
L2219: C449 in ( D331 -Seg D333 ) by L2218 , XBOOLE_0:def 4;
L2220: C449 in C447 by L2218 , XBOOLE_0:def 4;
L2221: C449 <> D333 by L2219 , WELLORD1:1;
L2222: [ C449 , D333 ] in D331 by L2219 , WELLORD1:1;
L2223: [ C449 , D333 ] in ( NATOrd ) by L2222;
consider C450 , C451 being (Element of ( NAT )) such that L2224: [ C449 , D333 ] = [ C450 , C451 ] and L2225: C450 <= C451 by L2223;
L2226: C449 = C450 by L2224 , XTUPLE_0:1;
L2227: D333 = C451 by L2224 , XTUPLE_0:1;
L2228: C451 <= C450 by L2227 , L2213 , L2220 , L2226;
L2229: [ C451 , C450 ] in ( NATOrd ) by L2228;
thus L2230: contradiction by L2229 , L2221 , L2222 , L2226 , L2227 , L2163 , RELAT_2:def 4;
end;
thus L2231: thesis by L2216 , XBOOLE_0:def 7;
end;

end;
L2215: D331 is_well_founded_in D332 by L2207 , WELLORD1:def 3;
L2216: ( ( OrderedNAT ) \~ ) is  well_founded by L2215 , WELLFND1:def 2;
thus L2217: thesis by L2216 , L823;
end;
cluster ( OrderedNAT ) ->  quasi_ordered;
coherence
proof
L2218: ( OrderedNAT ) is  reflexive by L2159 , ORDERS_2:def 2;
L2219: ( OrderedNAT ) is  transitive by L2183 , ORDERS_2:def 3;
thus L2220: thesis by L2219 , L2218 , L122;
end;
cluster ( OrderedNAT ) ->  antisymmetric;
coherence by L2163 , ORDERS_2:def 4;
cluster ( OrderedNAT ) ->  transitive;
coherence by L2183 , ORDERS_2:def 3;
cluster ( OrderedNAT ) ->  well_founded;
coherence
proof
set D334 = (the InternalRel of ( OrderedNAT ));
L2221:
now
given C452 being (sequence of ( OrderedNAT )) such that
L2222: C452 is  descending;

L2223: ( dom C452 ) = ( NAT ) by FUNCT_2:def 1;
reconsider D335 = ( rng C452 ) as non  empty (Subset of ( NAT ));
set D336 = ( min D335 );
L2224: D336 in ( rng C452 ) by XXREAL_2:def 7;
consider C453 being set such that L2225: C453 in ( dom C452 ) and L2226: D336 = ( C452 . C453 ) by L2224 , FUNCT_1:def 3;
reconsider D337 = C453 as (Element of ( NAT )) by L2225;
L2227: ( C452 . ( D337 + 1 ) ) <> ( C452 . D337 ) by L2222 , WELLFND1:def 6;
L2228: [ ( C452 . ( D337 + 1 ) ) , ( C452 . D337 ) ] in D334 by L2222 , WELLFND1:def 6;
consider C454 , C455 being (Element of ( NAT )) such that L2229: [ ( C452 . ( D337 + 1 ) ) , ( C452 . D337 ) ] = [ C454 , C455 ] and L2230: C454 <= C455 by L2228;
reconsider D338 = ( C452 . ( D337 + 1 ) ) , D339 = ( C452 . D337 ) as (Element of ( NAT ));
L2231: ( C452 . ( D337 + 1 ) ) = C454 by L2229 , XTUPLE_0:1;
L2232: ( C452 . D337 ) = C455 by L2229 , XTUPLE_0:1;
L2233: D338 < D339 by L2232 , L2227 , L2230 , L2231 , XXREAL_0:1;
L2234: ( C452 . ( D337 + 1 ) ) in D335 by L2223 , FUNCT_1:3;
thus L2235: contradiction by L2234 , L2226 , L2233 , XXREAL_2:def 7;
end;
thus L2236: thesis by L2221 , WELLFND1:14;
end;
end;
L2238:
now
let C456 being (Element of ( NAT ));
set D340 = ( product ( C456 --> ( OrderedNAT ) ) );
per cases ;
suppose L2239: C456 is  empty;

thus L2240: (D340 is non  empty & D340 is  Dickson & D340 is  quasi_ordered & D340 is  antisymmetric) by L2239;
end;
suppose L2241: C456 is non  empty;

reconsider D341 = C456 as non  empty (Element of ( NAT )) by L2241;
set D342 = ( D341 --> ( OrderedNAT ) );
thus L2242: ( product ( C456 --> ( OrderedNAT ) ) ) is non  empty;
L2243: (for B416 being (Element of D341) holds (( D342 . B416 ) is  Dickson & ( D342 . B416 ) is  quasi_ordered)) by FUNCOP_1:7;
thus L2244: (( product ( C456 --> ( OrderedNAT ) ) ) is  Dickson & ( product ( C456 --> ( OrderedNAT ) ) ) is  quasi_ordered) by L2243 , L2114;
L2245: ( product D342 ) is  antisymmetric;
thus L2246: ( product ( C456 --> ( OrderedNAT ) ) ) is  antisymmetric by L2245;
end;
end;
registration
let C457 being (Element of ( NAT ));
cluster ( product ( C457 --> ( OrderedNAT ) ) ) -> non  empty;
coherence;
cluster ( product ( C457 --> ( OrderedNAT ) ) ) ->  Dickson;
coherence by L2238;
cluster ( product ( C457 --> ( OrderedNAT ) ) ) ->  quasi_ordered;
coherence by L2238;
cluster ( product ( C457 --> ( OrderedNAT ) ) ) ->  antisymmetric;
coherence by L2238;
end;
theorem
L2249: (for B417 being RelStr holds ((B417 is  Dickson & B417 is  quasi_ordered) implies ([: B417 , ( OrderedNAT ) :] is  quasi_ordered & [: B417 , ( OrderedNAT ) :] is  Dickson))) by L1517;
theorem
L2250: (for B418 , B419 being non  empty RelStr holds ((B418 is  Dickson & B419 is  quasi_ordered & (the InternalRel of B418) c= (the InternalRel of B419) & (the carrier of B418) = (the carrier of B419)) implies ( B419 \~ ) is  well_founded))
proof
let C458 , C459 being non  empty RelStr;
assume that
L2251: C458 is  Dickson
and
L2252: C459 is  quasi_ordered
and
L2253: (the InternalRel of C458) c= (the InternalRel of C459)
and
L2254: (the carrier of C458) = (the carrier of C459);
L2255: C459 is  Dickson by L2251 , L2253 , L2254 , L862;
thus L2256: thesis by L2255 , L2252 , L1145;
end;
theorem
L2257: (for B420 being non  empty RelStr holds (B420 is  quasi_ordered implies (B420 is  Dickson iff (for B421 being non  empty RelStr holds ((B421 is  quasi_ordered & (the InternalRel of B420) c= (the InternalRel of B421) & (the carrier of B420) = (the carrier of B421)) implies ( B421 \~ ) is  well_founded)))))
proof
let C460 being non  empty RelStr;
assume that
L2258: C460 is  quasi_ordered;
L2259: C460 is  reflexive by L2258 , L122;
L2260: C460 is  transitive by L2258 , L122;
set D343 = (the InternalRel of C460);
set D344 = (the carrier of C460);
thus L2261: (C460 is  Dickson implies (for B422 being non  empty RelStr holds ((B422 is  quasi_ordered & D343 c= (the InternalRel of B422) & D344 = (the carrier of B422)) implies ( B422 \~ ) is  well_founded))) by L2250;
assume L2262: (for B423 being non  empty RelStr holds ((B423 is  quasi_ordered & D343 c= (the InternalRel of B423) & D344 = (the carrier of B423)) implies ( B423 \~ ) is  well_founded));
L2263:
now
assume L2264: (not C460 is  Dickson);
L2265: (not (for B424 being non  empty (Subset of C460) holds (( min-classes B424 ) is  finite & ( min-classes B424 ) is non  empty))) by L2264 , L2258 , L1095;
consider C461 being (sequence of C460) such that L2266: (for B425 , B426 being (Element of ( NAT )) holds (B425 < B426 implies (not ( C461 . B425 ) <= ( C461 . B426 )))) by L2265 , L2258 , L968;
defpred S16[ set , set ] means ([ $1 , $2 ] in D343 or (ex B427 , B428 being (Element of ( NAT )) st (B427 < B428 & [ $1 , ( C461 . B428 ) ] in D343 & [ ( C461 . B427 ) , $2 ] in D343)));
consider C462 being (Relation of D344 , D344) such that L2267: (for B429 , B430 being set holds ([ B429 , B430 ] in C462 iff (B429 in D344 & B430 in D344 & S16[ B429 , B430 ]))) from RELSET_1:sch 1;
set D345 = RelStr (# D344 , C462 #);
L2268:
now
let C463 , C464 being set;
assume that
L2269: [ C463 , C464 ] in D343;
L2270: C463 in ( dom D343 ) by L2269 , XTUPLE_0:def 12;
L2271: C464 in ( rng D343 ) by L2269 , XTUPLE_0:def 13;
thus L2272: [ C463 , C464 ] in C462 by L2271 , L2267 , L2269 , L2270;
end;
L2273: D343 c= (the InternalRel of D345) by L2268 , RELAT_1:def 3;
L2274: D343 is_reflexive_in D344 by L2259 , ORDERS_2:def 2;
L2275:
now
let C465 being set;
assume that
L2276: C465 in D344;
L2277: [ C465 , C465 ] in D343 by L2274 , L2276 , RELAT_2:def 1;
thus L2278: [ C465 , C465 ] in C462 by L2277 , L2267 , L2276;
end;
L2279: C462 is_reflexive_in D344 by L2275 , RELAT_2:def 1;
L2280: D345 is  reflexive by L2279 , ORDERS_2:def 2;
L2281: D343 is_transitive_in D344 by L2260 , ORDERS_2:def 3;
L2282:
now
let C466 , C467 , C468 being set;
assume that
L2283: C466 in D344
and
L2284: C467 in D344
and
L2285: C468 in D344
and
L2286: [ C466 , C467 ] in C462
and
L2287: [ C467 , C468 ] in C462;
L2288:
now
per cases  by L2267 , L2286;
suppose L2289: [ C466 , C467 ] in D343;

L2290:
now
per cases  by L2267 , L2287;
suppose L2291: [ C467 , C468 ] in D343;

L2292: [ C466 , C468 ] in D343 by L2291 , L2281 , L2283 , L2284 , L2285 , L2289 , RELAT_2:def 8;
thus L2293: [ C466 , C468 ] in C462 by L2292 , L2267 , L2283 , L2285;
end;
suppose L2294: (ex B431 , B432 being (Element of ( NAT )) st (B431 < B432 & [ C467 , ( C461 . B432 ) ] in D343 & [ ( C461 . B431 ) , C468 ] in D343));

consider C469 , C470 being (Element of ( NAT )) such that L2295: C469 < C470 and L2296: [ C467 , ( C461 . C470 ) ] in D343 and L2297: [ ( C461 . C469 ) , C468 ] in D343 by L2294;
L2298: [ C466 , ( C461 . C470 ) ] in D343 by L2281 , L2283 , L2284 , L2289 , L2296 , RELAT_2:def 8;
thus L2299: [ C466 , C468 ] in C462 by L2298 , L2267 , L2283 , L2285 , L2295 , L2297;
end;
end;
thus L2301: [ C466 , C468 ] in C462 by L2290;
end;
suppose L2302: (ex B433 , B434 being (Element of ( NAT )) st (B433 < B434 & [ C466 , ( C461 . B434 ) ] in D343 & [ ( C461 . B433 ) , C467 ] in D343));

consider C471 , C472 being (Element of ( NAT )) such that L2303: C471 < C472 and L2304: [ C466 , ( C461 . C472 ) ] in D343 and L2305: [ ( C461 . C471 ) , C467 ] in D343 by L2302;
L2306:
now
per cases  by L2267 , L2287;
suppose L2307: [ C467 , C468 ] in D343;

L2308: [ ( C461 . C471 ) , C468 ] in D343 by L2307 , L2281 , L2284 , L2285 , L2305 , RELAT_2:def 8;
thus L2309: [ C466 , C468 ] in C462 by L2308 , L2267 , L2283 , L2285 , L2303 , L2304;
end;
suppose L2310: (ex B435 , B436 being (Element of ( NAT )) st (B435 < B436 & [ C467 , ( C461 . B436 ) ] in D343 & [ ( C461 . B435 ) , C468 ] in D343));

consider C473 , C474 being (Element of ( NAT )) such that L2311: C473 < C474 and L2312: [ C467 , ( C461 . C474 ) ] in D343 and L2313: [ ( C461 . C473 ) , C468 ] in D343 by L2310;
L2314: [ ( C461 . C471 ) , ( C461 . C474 ) ] in D343 by L2281 , L2284 , L2305 , L2312 , RELAT_2:def 8;
L2315: ( C461 . C471 ) <= ( C461 . C474 ) by L2314 , ORDERS_2:def 5;
L2316: (not C471 < C474) by L2315 , L2266;
L2317: C473 <= C471 by L2316 , L2311 , XXREAL_0:2;
L2318: C473 < C472 by L2317 , L2303 , XXREAL_0:2;
thus L2319: [ C466 , C468 ] in C462 by L2318 , L2267 , L2283 , L2285 , L2304 , L2313;
end;
end;
thus L2321: [ C466 , C468 ] in C462 by L2306;
end;
end;
thus L2323: [ C466 , C468 ] in C462 by L2288;
end;
L2324: C462 is_transitive_in D344 by L2282 , RELAT_2:def 8;
L2325: D345 is  transitive by L2324 , ORDERS_2:def 3;
L2326: D345 is  quasi_ordered by L2325 , L2280 , L122;
L2327: ( D345 \~ ) is  well_founded by L2326 , L2262 , L2273;
reconsider D346 = C461 as (sequence of ( D345 \~ ));
L2328:
now
let C475 being Nat;
reconsider D347 = C475 as (Element of ( NAT )) by ORDINAL1:def 12;
L2329: C475 < ( C475 + 1 ) by NAT_1:13;
L2330: (not ( C461 . D347 ) <= ( C461 . ( D347 + 1 ) )) by L2329 , L2266;
L2331: (not [ ( C461 . C475 ) , ( C461 . ( C475 + 1 ) ) ] in D343) by L2330 , ORDERS_2:def 5;
thus L2332: ( D346 . ( C475 + 1 ) ) <> ( D346 . C475 ) by L2331 , L2274 , RELAT_2:def 1;
L2333: [ ( D346 . ( C475 + 1 ) ) , ( D346 . ( C475 + 1 ) ) ] in D343 by L2274 , RELAT_2:def 1;
L2334: [ ( D346 . C475 ) , ( D346 . C475 ) ] in D343 by L2274 , RELAT_2:def 1;
L2335:
now
assume L2336: [ ( D346 . C475 ) , ( D346 . ( C475 + 1 ) ) ] in C462;
L2337: (ex B437 , B438 being (Element of ( NAT )) st (B437 < B438 & [ ( D346 . C475 ) , ( C461 . B438 ) ] in D343 & [ ( C461 . B437 ) , ( D346 . ( C475 + 1 ) ) ] in D343)) by L2336 , L2267 , L2331;
consider C476 , C477 being (Element of ( NAT )) such that L2338: C477 < C476 and L2339: [ ( D346 . C475 ) , ( C461 . C476 ) ] in D343 and L2340: [ ( C461 . C477 ) , ( D346 . ( C475 + 1 ) ) ] in D343 by L2337;
L2341: ( C461 . C475 ) <= ( C461 . C476 ) by L2339 , ORDERS_2:def 5;
L2342: ( C461 . C477 ) <= ( C461 . ( C475 + 1 ) ) by L2340 , ORDERS_2:def 5;
L2343: C476 <= D347 by L2266 , L2341;
L2344: ( C475 + 1 ) <= C477 by L2266 , L2342;
L2345: C476 < ( C475 + 1 ) by L2343 , NAT_1:13;
thus L2346: contradiction by L2345 , L2338 , L2344 , XXREAL_0:2;
end;
L2347: [ ( D346 . ( D347 + 1 ) ) , ( D346 . D347 ) ] in C462 by L2267 , L2329 , L2333 , L2334;
L2348: (not [ ( D346 . ( C475 + 1 ) ) , ( D346 . C475 ) ] in ( C462 ~ )) by L2335 , RELAT_1:def 7;
thus L2349: [ ( D346 . ( C475 + 1 ) ) , ( D346 . C475 ) ] in (the InternalRel of ( D345 \~ )) by L2348 , L2347 , XBOOLE_0:def 5;
end;
L2350: D346 is  descending by L2328 , WELLFND1:def 6;
thus L2351: contradiction by L2350 , L2327 , WELLFND1:14;
end;
thus L2352: thesis by L2263;
end;
