:: Adjacency Concept for Pairs of Natural Numbers
::  by Yatsuka Nakamura and Andrzej Trybulec
::
:: Received June 10, 1996
:: Copyright (c) 1996-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, ARYTM_3, XXREAL_0, ARYTM_1, CARD_1, FINSEQ_2,
      FINSEQ_1, FUNCT_1, RELAT_1, PARTFUN1, NAT_1, TARSKI, ORDINAL4, MATRIX_1,
      ZFMISC_1, GOBRD10;
 notations TARSKI, ZFMISC_1, SUBSET_1, NUMBERS, XCMPLX_0, ORDINAL1, NAT_1,
      NAT_D, RELAT_1, FUNCT_1, PARTFUN1, FINSEQ_1, FINSEQ_2, MATRIX_1,
      XXREAL_0;
 constructors NAT_1, NAT_D, MATRIX_1, FUNCOP_1, RELSET_1;
 registrations SUBSET_1, ORDINAL1, RELSET_1, XXREAL_0, XREAL_0, NAT_1,
      XBOOLE_0, FINSEQ_1, FINSEQ_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, FINSEQ_2;
 theorems TARSKI, NAT_1, FINSEQ_1, FINSEQ_4, FUNCT_1, FINSEQ_2, FUNCOP_1,
      FINSEQ_3, ZFMISC_1, XREAL_1, XXREAL_0, PARTFUN1, XREAL_0, NAT_D, CARD_1;
 schemes NAT_1, FINSEQ_1, FINSEQ_2;

begin
definition
let R8 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
pred R8 , R9 are_adjacent1 
means
:L1: (R9 = ( R8 + 1 ) or R8 = ( R9 + 1 ))
;symmetry
;
irreflexivity
;
end;
theorem
L3: (for R8 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds (R8 , R9 are_adjacent1  implies ( R8 + 1 ) , ( R9 + 1 ) are_adjacent1 )))
proof
let R8 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
assume L4: R8 , R9 are_adjacent1 ;
L5: (R9 = ( R8 + 1 ) or R8 = ( R9 + 1 )) by L4 , L1;
thus L6: thesis by L5 , L1;
end;
theorem
L7: (for R8 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds ((R8 , R9 are_adjacent1  & 1 <= R8 & 1 <= R9) implies ( R8 -' 1 ) , ( R9 -' 1 ) are_adjacent1 )))
proof
let R8 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
assume that
L8: R8 , R9 are_adjacent1 
and
L9: 1 <= R8
and
L10: 1 <= R9;
L11: ( 0 ) <= ( R8 - 1 ) by L9 , XREAL_1:48;
L12: ( R8 -' 1 ) = ( R8 - 1 ) by L11 , XREAL_0:def 2;
L13: ( 0 ) <= ( R9 - 1 ) by L10 , XREAL_1:48;
L14: ( R9 -' 1 ) = ( R9 - 1 ) by L13 , XREAL_0:def 2;
L15: (R9 = ( R8 + 1 ) or R8 = ( R9 + 1 )) by L8 , L1;
L16: (( R9 - 1 ) = ( ( R8 - 1 ) + 1 ) or ( R8 - 1 ) = ( ( R9 - 1 ) + 1 )) by L15;
thus L17: thesis by L16 , L12 , L14 , L1;
end;
definition
let R8 being (Element of ( NAT ));
let R10 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
pred R8 , R10 , R9 , R11 are_adjacent2 
means
:L18: ((R8 , R9 are_adjacent1  & R10 = R11) or (R8 = R9 & R10 , R11 are_adjacent1 ))
;end;
theorem
L20: (for R8 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds (R8 , R10 , R9 , R11 are_adjacent2  implies ( R8 + 1 ) , ( R10 + 1 ) , ( R9 + 1 ) , ( R11 + 1 ) are_adjacent2 )))))
proof
let R8 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
assume L21: R8 , R10 , R9 , R11 are_adjacent2 ;
L22: ((R8 , R9 are_adjacent1  & R10 = R11) or (R8 = R9 & R10 , R11 are_adjacent1 )) by L21 , L18;
L23: ((( R8 + 1 ) , ( R9 + 1 ) are_adjacent1  & ( R10 + 1 ) = ( R11 + 1 )) or (( R8 + 1 ) = ( R9 + 1 ) & ( R10 + 1 ) , ( R11 + 1 ) are_adjacent1 )) by L22 , L3;
thus L24: thesis by L23 , L18;
end;
theorem
L25: (for R8 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds ((R8 , R10 , R9 , R11 are_adjacent2  & 1 <= R8 & 1 <= R9 & 1 <= R10 & 1 <= R11) implies ( R8 -' 1 ) , ( R10 -' 1 ) , ( R9 -' 1 ) , ( R11 -' 1 ) are_adjacent2 )))))
proof
let R8 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
assume that
L26: R8 , R10 , R9 , R11 are_adjacent2 
and
L27: (1 <= R8 & 1 <= R9 & 1 <= R10 & 1 <= R11);
L28: ((R8 , R9 are_adjacent1  & R10 = R11) or (R8 = R9 & R10 , R11 are_adjacent1 )) by L26 , L18;
L29: ((( R8 -' 1 ) , ( R9 -' 1 ) are_adjacent1  & ( R10 -' 1 ) = ( R11 -' 1 )) or (( R8 -' 1 ) = ( R9 -' 1 ) & ( R10 -' 1 ) , ( R11 -' 1 ) are_adjacent1 )) by L28 , L27 , L7;
thus L30: thesis by L29 , L18;
end;
L31:
now
let R6 being (Element of ( NAT ));
let R1 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume L32: (1 <= R2 & R2 <= R6);
L33: R2 in ( Seg R6 ) by L32 , FINSEQ_1:1;
thus L34: ( ( R6 |-> R1 ) . R2 ) = R1 by L33 , FINSEQ_2:57;
end;
theorem
L35: (for R6 being (Element of ( NAT )) holds (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds ((R1 <= R6 & R2 <= R6) implies (ex B1 being (FinSequence of ( NAT )) st (( B1 . 1 ) = R1 & ( B1 . ( len B1 ) ) = R2 & ( len B1 ) = ( ( ( R1 -' R2 ) + ( R2 -' R1 ) ) + 1 ) & (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len B1 ) & R4 = ( B1 . R3 )) implies R4 <= R6))) & (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len B1 )) implies (( B1 . ( R8 + 1 ) ) = ( ( B1 /. R8 ) + 1 ) or ( B1 . R8 ) = ( ( B1 /. ( R8 + 1 ) ) + 1 ))))))))))
proof
let R6 being (Element of ( NAT ));
let R1 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume that
L36: R1 <= R6
and
L37: R2 <= R6;
L38:
now
per cases  by XXREAL_0:1;
case L39: R1 < R2;
L40: ( R1 - R2 ) < ( R2 - R2 ) by L39 , XREAL_1:9;
L41: ( R1 -' R2 ) = ( 0 ) by L40 , XREAL_0:def 2;
L42: ( R2 - R1 ) > ( 0 ) by L39 , XREAL_1:50;
L43: ( ( R2 - R1 ) + 1 ) > ( ( 0 ) + 1 ) by L42 , XREAL_1:6;
L44: ( ( R2 + 1 ) - R1 ) >= ( 0 ) by L43;
L45: ( ( R2 + 1 ) -' R1 ) = ( ( R2 - R1 ) + 1 ) by L44 , XREAL_0:def 2;
L46: ( ( R1 + ( ( R2 + 1 ) -' R1 ) ) -' 1 ) = ( ( R1 + ( ( R2 + 1 ) -' R1 ) ) - 1 ) by L45 , XREAL_0:def 2;
deffunc H1(Nat) = ( ( R1 + $1 ) -' 1 );
L47: (ex B2 being FinSequence st (( len B2 ) = ( ( R2 + 1 ) -' R1 ) & (for B3 being Nat holds (B3 in ( dom B2 ) implies ( B2 . B3 ) = H1(B3))))) from FINSEQ_1:sch 2;
consider C1 being FinSequence such that L48: ( len C1 ) = ( ( R2 + 1 ) -' R1 ) and L49: (for B4 being Nat holds (B4 in ( dom C1 ) implies ( C1 . B4 ) = ( ( R1 + B4 ) -' 1 ))) by L47;
L50: ( R2 - R1 ) >= ( R1 - R1 ) by L39 , XREAL_1:9;
L51: ( len C1 ) = ( ( ( R1 -' R2 ) + ( R2 -' R1 ) ) + 1 ) by L50 , L48 , L45 , L41 , XREAL_0:def 2;
L52: ( ( R2 + 1 ) -' R1 ) = ( ( R2 + 1 ) - R1 ) by L43 , XREAL_0:def 2;
L53: 1 in ( dom C1 ) by L52 , L43 , L48 , FINSEQ_3:25;
L54: ( C1 . 1 ) = ( ( R1 + 1 ) -' 1 ) by L53 , L49;
L55: ( C1 . 1 ) = R1 by L54 , NAT_D:34;
L56: ( rng C1 ) c= ( NAT )
proof
let R12 being set;
assume L57: R12 in ( rng C1 );
consider C2 being set such that L58: C2 in ( dom C1 ) and L59: ( C1 . C2 ) = R12 by L57 , FUNCT_1:def 3;
L60: C2 in ( Seg ( len C1 ) ) by L58 , FINSEQ_1:def 3;
L61: C2 in { R3 where R3 is (Element of ( NAT )) : (1 <= R3 & R3 <= ( len C1 )) } by L60 , FINSEQ_1:def 1;
consider R3 being (Element of ( NAT )) such that L62: R3 = C2 and L63: 1 <= R3 and L64: R3 <= ( len C1 ) by L61;
L65: ( C1 . R3 ) = ( ( R1 + R3 ) -' 1 ) by L49 , L58 , L62;
thus L66: thesis by L65 , L59 , L62;
end;
reconsider D1 = C1 as (FinSequence of ( NAT )) by L56 , FINSEQ_1:def 4;
L67: (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len D1 )) implies (( D1 . ( R8 + 1 ) ) = ( ( D1 /. R8 ) + 1 ) or ( D1 . R8 ) = ( ( D1 /. ( R8 + 1 ) ) + 1 ))))
proof
let R8 being (Element of ( NAT ));
assume that
L68: 1 <= R8
and
L69: R8 < ( len D1 );
L70: 1 <= ( 1 + R8 ) by NAT_1:11;
L71: ( R8 + 1 ) <= ( len D1 ) by L69 , NAT_1:13;
L72: ( R8 + 1 ) in ( dom C1 ) by L71 , L70 , FINSEQ_3:25;
L73: ( D1 . ( R8 + 1 ) ) = ( ( R1 + ( R8 + 1 ) ) -' 1 ) by L72 , L49;
L74: ( 1 + ( R1 + R8 ) ) >= 1 by NAT_1:11;
L75: ( ( 1 + ( R1 + R8 ) ) - 1 ) >= ( 1 - 1 ) by L74 , XREAL_1:9;
L76: ( ( 1 + ( R1 + R8 ) ) -' 1 ) = ( R1 + R8 ) by L75 , XREAL_0:def 2;
L77: ( R1 + R8 ) >= ( 1 + ( 0 ) ) by L68 , XREAL_1:7;
L78: ( ( R1 + R8 ) - 1 ) >= ( 1 - 1 ) by L77 , XREAL_1:9;
L79: ( 1 + ( ( R1 + R8 ) -' 1 ) ) = ( 1 + ( ( R1 + R8 ) - 1 ) ) by L78 , XREAL_0:def 2
.= ( R1 + R8 );
L80: (R8 in ( dom D1 ) & ( D1 /. R8 ) = ( D1 . R8 )) by L68 , L69 , FINSEQ_3:25 , FINSEQ_4:15;
thus L81: thesis by L80 , L49 , L73 , L79 , L76;
end;
L82: (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len C1 ) & R4 = ( C1 . R3 )) implies R4 <= R6)))
proof
let R3 being (Element of ( NAT ));
let R4 being (Element of ( NAT ));
assume that
L83: 1 <= R3
and
L84: R3 <= ( len C1 )
and
L85: R4 = ( C1 . R3 );
L86: R3 in ( dom C1 ) by L83 , L84 , FINSEQ_3:25;
L87: R4 = ( ( R3 + R1 ) -' 1 ) by L86 , L49 , L85;
L88: ( ( R3 + R1 ) - 1 ) = ( R3 + ( R1 - 1 ) );
L89: ( 1 + ( R1 - 1 ) ) <= ( ( R3 + R1 ) - 1 ) by L88 , L83 , XREAL_1:6;
L90: R4 = ( ( R3 + R1 ) - 1 ) by L89 , L87 , XREAL_0:def 2;
L91: ( R3 + R1 ) <= ( ( ( R2 + 1 ) -' R1 ) + R1 ) by L48 , L84 , XREAL_1:6;
L92: ( R3 + R1 ) <= ( ( ( R2 + 1 ) - R1 ) + R1 ) by L91 , L43 , XREAL_0:def 2;
L93: R4 <= ( ( R2 + 1 ) - 1 ) by L92 , L90 , XREAL_1:9;
thus L94: thesis by L93 , L37 , XXREAL_0:2;
end;
L95: ( len C1 ) in ( dom C1 ) by L43 , L48 , L52 , FINSEQ_3:25;
L96: ( C1 . ( len C1 ) ) = R2 by L95 , L48 , L49 , L52 , L46;
thus L97: thesis by L96 , L82 , L55 , L51 , L67;
end;
case L98: R1 = R2;
L99: ( R1 - R2 ) = ( 0 ) by L98;
L100: ( R1 -' R2 ) = ( 0 ) by L99 , XREAL_0:def 2;
consider C3 being Function such that L101: ( dom C3 ) = ( Seg 1 ) and L102: ( rng C3 ) = { R1 } by FUNCT_1:5;
L103: (( rng C3 ) c= ( NAT ) & C3 is  FinSequence-like) by L101 , L102 , FINSEQ_1:def 2 , ZFMISC_1:31;
reconsider D2 = C3 as (FinSequence of ( NAT )) by L103 , FINSEQ_1:def 4;
L104: (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len D2 )) implies (( D2 . ( R8 + 1 ) ) = ( ( D2 /. R8 ) + 1 ) or ( D2 . R8 ) = ( ( D2 /. ( R8 + 1 ) ) + 1 )))) by L101 , FINSEQ_1:def 3;
L105: 1 in ( dom C3 ) by L101 , FINSEQ_1:1;
L106: ( D2 . 1 ) in ( rng C3 ) by L105 , FUNCT_1:def 3;
L107: ( D2 . 1 ) = R1 by L106 , L102 , TARSKI:def 1;
L108: ( len D2 ) = 1 by L101 , FINSEQ_1:def 3;
L109: (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len D2 ) & R4 = ( D2 . R3 )) implies R4 <= R6))) by L108 , L36 , L107 , XXREAL_0:1;
thus L110: thesis by L109 , L98 , L107 , L108 , L100 , L104;
end;
case L111: R2 < R1;
L112: ( R1 - R2 ) >= ( R2 - R2 ) by L111 , XREAL_1:9;
L113:
now
per cases  by L112;
case L114: ( R1 - R2 ) = ( 0 );
thus L115: ( R2 -' R1 ) = ( 0 ) by L114 , XREAL_0:def 2;
end;
case L116: ( R1 - R2 ) > ( 0 );
L117: ( - ( - ( R1 - R2 ) ) ) > ( 0 ) by L116;
L118: ( R2 - R1 ) < ( 0 ) by L117;
thus L119: ( R2 -' R1 ) = ( 0 ) by L118 , XREAL_0:def 2;
end;
end;
L121: ( R2 - R1 ) < ( R1 - R1 ) by L111 , XREAL_1:9;
L122: ( R2 -' R1 ) = ( 0 ) by L121 , XREAL_0:def 2;
L123: ( ( ( R1 -' R2 ) + ( R2 -' R1 ) ) + 1 ) = ( ( ( R1 - R2 ) + 1 ) + ( R2 -' R1 ) ) by L122 , L112 , XREAL_0:def 2
.= ( ( R1 + 1 ) - R2 ) by L113;
deffunc H2(Nat) = ( ( R1 + 1 ) -' $1 );
L124: ( ( R1 + 1 ) - 1 ) >= ( 0 );
L125: ( R1 - R2 ) > ( 0 ) by L111 , XREAL_1:50;
L126: ( ( R1 - R2 ) + 1 ) > ( ( 0 ) + 1 ) by L125 , XREAL_1:6;
L127: ( ( R1 + 1 ) - ( ( R1 + 1 ) -' R2 ) ) = ( ( R1 + 1 ) - ( ( R1 + 1 ) - R2 ) ) by L126 , XREAL_0:def 2
.= R2;
L128: (ex B5 being FinSequence st (( len B5 ) = ( ( R1 + 1 ) -' R2 ) & (for B6 being Nat holds (B6 in ( dom B5 ) implies ( B5 . B6 ) = H2(B6))))) from FINSEQ_1:sch 2;
consider C4 being FinSequence such that L129: ( len C4 ) = ( ( R1 + 1 ) -' R2 ) and L130: (for B7 being Nat holds (B7 in ( dom C4 ) implies ( C4 . B7 ) = ( ( R1 + 1 ) -' B7 ))) by L128;
L131: ( ( R1 + 1 ) -' R2 ) = ( ( R1 + 1 ) - R2 ) by L126 , XREAL_0:def 2;
L132: 1 in ( dom C4 ) by L131 , L126 , L129 , FINSEQ_3:25;
L133: ( C4 . 1 ) = ( ( R1 + 1 ) -' 1 ) by L132 , L130;
L134: ( C4 . 1 ) = R1 by L133 , L124 , XREAL_0:def 2;
L135: ( rng C4 ) c= ( NAT )
proof
let R12 being set;
assume L136: R12 in ( rng C4 );
consider C5 being set such that L137: C5 in ( dom C4 ) and L138: ( C4 . C5 ) = R12 by L136 , FUNCT_1:def 3;
L139: C5 in ( Seg ( len C4 ) ) by L137 , FINSEQ_1:def 3;
L140: C5 in { R3 where R3 is (Element of ( NAT )) : (1 <= R3 & R3 <= ( len C4 )) } by L139 , FINSEQ_1:def 1;
consider R3 being (Element of ( NAT )) such that L141: R3 = C5 and L142: (1 <= R3 & R3 <= ( len C4 )) by L140;
L143: R3 in ( dom C4 ) by L142 , FINSEQ_3:25;
L144: ( C4 . R3 ) = ( ( R1 + 1 ) -' R3 ) by L143 , L130;
thus L145: thesis by L144 , L138 , L141;
end;
reconsider D3 = C4 as (FinSequence of ( NAT )) by L135 , FINSEQ_1:def 4;
L146: ( ( R1 - R2 ) + 1 ) >= ( ( 0 ) + 1 ) by L112 , XREAL_1:6;
L147: ( ( R1 + 1 ) - R2 ) >= ( 0 ) by L146;
L148: (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len D3 )) implies (( D3 . ( R8 + 1 ) ) = ( ( D3 /. R8 ) + 1 ) or ( D3 . R8 ) = ( ( D3 /. ( R8 + 1 ) ) + 1 ))))
proof
let R8 being (Element of ( NAT ));
assume that
L149: 1 <= R8
and
L150: R8 < ( len D3 );
L151: ( R8 + 1 ) <= ( len D3 ) by L150 , NAT_1:13;
L152: ( R8 + 1 ) <= ( ( R1 - R2 ) + 1 ) by L151 , L129 , L147 , XREAL_0:def 2;
L153: R8 <= ( R1 - R2 ) by L152 , XREAL_1:6;
L154: ( R8 + R2 ) <= R1 by L153 , XREAL_1:19;
L155: R2 <= ( R1 - R8 ) by L154 , XREAL_1:19;
L156: ( 1 + ( ( R1 + 1 ) -' ( R8 + 1 ) ) ) = ( 1 + ( ( R1 + 1 ) - ( R8 + 1 ) ) ) by L155 , XREAL_0:def 2
.= ( ( R1 + 1 ) - R8 );
L157: 1 <= ( R8 + 1 ) by L149 , NAT_1:13;
L158: ( R8 + 1 ) in ( dom D3 ) by L157 , L151 , FINSEQ_3:25;
L159: ( D3 . ( R8 + 1 ) ) = ( ( R1 + 1 ) -' ( R8 + 1 ) ) by L158 , L130;
L160: ( ( D3 /. ( R8 + 1 ) ) + 1 ) = ( 1 + ( ( R1 + 1 ) -' ( R8 + 1 ) ) ) by L159 , L157 , L151 , FINSEQ_4:15;
L161: R8 in ( dom D3 ) by L149 , L150 , FINSEQ_3:25;
L162: ( D3 . R8 ) = ( ( R1 + 1 ) -' R8 ) by L161 , L130;
thus L163: thesis by L162 , L160 , L156 , XREAL_0:def 2;
end;
L164: (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len C4 ) & R4 = ( C4 . R3 )) implies R4 <= R6)))
proof
let R3 being (Element of ( NAT ));
let R4 being (Element of ( NAT ));
assume that
L165: 1 <= R3
and
L166: R3 <= ( len C4 )
and
L167: R4 = ( C4 . R3 );
L168: R3 <= ( ( R1 + 1 ) - R2 ) by L129 , L165 , L166 , XREAL_0:def 2;
L169: ( R3 + R2 ) <= ( ( ( R1 + 1 ) - R2 ) + R2 ) by L168 , XREAL_1:6;
L170: ( ( R3 + R2 ) - R3 ) <= ( ( R1 + 1 ) - R3 ) by L169 , XREAL_1:9;
L171: ( - R3 ) <= ( - 1 ) by L165 , XREAL_1:24;
L172: ( ( - R3 ) + ( R1 + 1 ) ) <= ( ( - 1 ) + ( R1 + 1 ) ) by L171 , XREAL_1:6;
L173: R3 in ( dom C4 ) by L165 , L166 , FINSEQ_3:25;
L174: R4 = ( ( R1 + 1 ) -' R3 ) by L173 , L130 , L167;
L175: R4 = ( ( R1 + 1 ) - R3 ) by L174 , L170 , XREAL_0:def 2;
thus L176: thesis by L175 , L36 , L172 , XXREAL_0:2;
end;
L177: ( len C4 ) in ( dom C4 ) by L126 , L129 , L131 , FINSEQ_3:25;
L178: ( C4 . ( len C4 ) ) = ( ( R1 + 1 ) -' ( ( R1 + 1 ) -' R2 ) ) by L177 , L129 , L130
.= R2 by L127 , XREAL_0:def 2;
thus L179: thesis by L178 , L129 , L164 , L131 , L134 , L123 , L148;
end;
end;
thus L181: thesis by L38;
end;
theorem
L182: (for R6 being (Element of ( NAT )) holds (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds ((R1 <= R6 & R2 <= R6) implies (ex B8 being (FinSequence of ( NAT )) st (( B8 . 1 ) = R1 & ( B8 . ( len B8 ) ) = R2 & ( len B8 ) = ( ( ( R1 -' R2 ) + ( R2 -' R1 ) ) + 1 ) & (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len B8 ) & R4 = ( B8 . R3 )) implies R4 <= R6))) & (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len B8 )) implies ( B8 /. R8 ) , ( B8 /. ( R8 + 1 ) ) are_adjacent1 ))))))))
proof
let R6 being (Element of ( NAT ));
let R1 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume L183: (R1 <= R6 & R2 <= R6);
consider C6 being (FinSequence of ( NAT )) such that L184: (( C6 . 1 ) = R1 & ( C6 . ( len C6 ) ) = R2 & ( len C6 ) = ( ( ( R1 -' R2 ) + ( R2 -' R1 ) ) + 1 ) & (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len C6 ) & R4 = ( C6 . R3 )) implies R4 <= R6)))) and L185: (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len C6 )) implies (( C6 . ( R8 + 1 ) ) = ( ( C6 /. R8 ) + 1 ) or ( C6 . R8 ) = ( ( C6 /. ( R8 + 1 ) ) + 1 )))) by L183 , L35;
L186: (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len C6 )) implies ( C6 /. R8 ) , ( C6 /. ( R8 + 1 ) ) are_adjacent1 ))
proof
let R8 being (Element of ( NAT ));
assume L187: (1 <= R8 & R8 < ( len C6 ));
L188: ( C6 . R8 ) = ( C6 /. R8 ) by L187 , FINSEQ_4:15;
L189: (1 <= ( R8 + 1 ) & ( R8 + 1 ) <= ( len C6 )) by L187 , NAT_1:13;
L190: ( C6 . ( R8 + 1 ) ) = ( C6 /. ( R8 + 1 ) ) by L189 , FINSEQ_4:15;
L191: (( C6 . ( R8 + 1 ) ) = ( ( C6 /. R8 ) + 1 ) or ( C6 . R8 ) = ( ( C6 /. ( R8 + 1 ) ) + 1 )) by L185 , L187;
thus L192: thesis by L191 , L190 , L188 , L1;
end;
thus L193: thesis by L186 , L184;
end;
theorem
L194: (for R6 being (Element of ( NAT )) holds (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R10 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds ((R8 <= R6 & R10 <= R7 & R9 <= R6 & R11 <= R7) implies (ex B9 , B10 being (FinSequence of ( NAT )) st ((for R1 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds (for R5 being (Element of ( NAT )) holds ((R1 in ( dom B9 ) & R4 = ( B9 . R1 ) & R5 = ( B10 . R1 )) implies (R4 <= R6 & R5 <= R7))))) & ( B9 . 1 ) = R8 & ( B9 . ( len B9 ) ) = R9 & ( B10 . 1 ) = R10 & ( B10 . ( len B10 ) ) = R11 & ( len B9 ) = ( len B10 ) & ( len B9 ) = ( ( ( ( ( R8 -' R9 ) + ( R9 -' R8 ) ) + ( R10 -' R11 ) ) + ( R11 -' R10 ) ) + 1 ) & (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < ( len B9 )) implies ( B9 /. R1 ) , ( B10 /. R1 ) , ( B9 /. ( R1 + 1 ) ) , ( B10 /. ( R1 + 1 ) ) are_adjacent2 )))))))))))
proof
let R6 being (Element of ( NAT ));
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R10 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
assume that
L195: R8 <= R6
and
L196: R10 <= R7
and
L197: R9 <= R6
and
L198: R11 <= R7;
consider C7 being (FinSequence of ( NAT )) such that L199: ( C7 . 1 ) = R8 and L200: ( C7 . ( len C7 ) ) = R9 and L201: ( len C7 ) = ( ( ( R8 -' R9 ) + ( R9 -' R8 ) ) + 1 ) and L202: (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len C7 ) & R4 = ( C7 . R3 )) implies R4 <= R6))) and L203: (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len C7 )) implies ( C7 /. R3 ) , ( C7 /. ( R3 + 1 ) ) are_adjacent1 )) by L195 , L197 , L182;
consider C8 being (FinSequence of ( NAT )) such that L204: ( C8 . 1 ) = R10 and L205: ( C8 . ( len C8 ) ) = R11 and L206: ( len C8 ) = ( ( ( R10 -' R11 ) + ( R11 -' R10 ) ) + 1 ) and L207: (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds ((1 <= R3 & R3 <= ( len C8 ) & R4 = ( C8 . R3 )) implies R4 <= R7))) and L208: (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len C8 )) implies ( C8 /. R3 ) , ( C8 /. ( R3 + 1 ) ) are_adjacent1 )) by L196 , L198 , L182;
L209: 1 <= ( len C8 ) by L206 , NAT_1:11;
L210: ( ( len C8 ) - 1 ) >= ( 1 - 1 ) by L209 , XREAL_1:9;
set D4 = ( C7 ^ ( ( ( len C8 ) -' 1 ) |-> R9 ) );
set D5 = ( ( ( ( len C7 ) -' 1 ) |-> R10 ) ^ C8 );
L211: ( len D4 ) = ( ( len C7 ) + ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) by FINSEQ_1:22
.= ( ( len C7 ) + ( ( len C8 ) -' 1 ) ) by CARD_1:def 7
.= ( ( len C7 ) + ( ( len C8 ) - 1 ) ) by L210 , XREAL_0:def 2
.= ( ( ( len C7 ) - 1 ) + ( len C8 ) );
L212: 1 <= ( len C7 ) by L201 , NAT_1:11;
L213: ( ( len C7 ) - 1 ) >= ( 1 - 1 ) by L212 , XREAL_1:9;
L214: ( ( ( len C7 ) - 1 ) + ( len C8 ) ) = ( ( ( len C7 ) -' 1 ) + ( len C8 ) ) by L213 , XREAL_0:def 2
.= ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( len C8 ) ) by CARD_1:def 7
.= ( len D5 ) by FINSEQ_1:22;
L215: (for R1 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds (for R5 being (Element of ( NAT )) holds ((R1 in ( dom D4 ) & R4 = ( D4 . R1 ) & R5 = ( D5 . R1 )) implies (R4 <= R6 & R5 <= R7)))))
proof
L216: ( dom D5 ) = ( Seg ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( len C8 ) ) ) by FINSEQ_1:def 7;
L217: ( len D5 ) = ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( len C8 ) ) by L216 , FINSEQ_1:def 3;
L218: ( len D5 ) = ( ( ( len C7 ) -' 1 ) + ( len C8 ) ) by L217 , CARD_1:def 7;
let R1 being (Element of ( NAT ));
let R4 being (Element of ( NAT ));
let R5 being (Element of ( NAT ));
assume that
L219: R1 in ( dom D4 )
and
L220: R4 = ( D4 . R1 )
and
L221: R5 = ( D5 . R1 );
L222: R1 in ( Seg ( len D4 ) ) by L219 , FINSEQ_1:def 3;
L223: ((1 <= R1 & R1 <= ( ( len C7 ) -' 1 )) or (( ( ( len C7 ) -' 1 ) + 1 ) <= R1 & R1 <= ( len D5 ))) by L222 , L211 , L214 , FINSEQ_1:1 , NAT_1:13;
L224: ((1 <= R1 & R1 <= ( ( len C7 ) -' 1 )) or (( ( ( len C7 ) - 1 ) + 1 ) <= R1 & R1 <= ( len D5 ))) by L223 , L213 , XREAL_0:def 2;
L225: ((1 <= R1 & R1 <= ( ( len C7 ) - 1 )) or (( ( len C7 ) - ( ( len C7 ) - 1 ) ) <= ( R1 - ( ( len C7 ) - 1 ) ) & R1 <= ( len D5 ))) by L224 , XREAL_0:def 2 , XREAL_1:9;
L226: ((1 <= R1 & R1 <= ( ( len C7 ) - 1 )) or (1 <= ( R1 - ( ( len C7 ) - 1 ) ) & ( R1 - ( ( len C7 ) - 1 ) ) <= ( ( len D5 ) - ( ( len C7 ) - 1 ) ))) by L225 , XREAL_1:9;
L227: ((1 <= R1 & R1 <= ( ( len C7 ) - 1 )) or (1 <= ( ( R1 - ( len C7 ) ) + 1 ) & ( ( R1 - ( len C7 ) ) + 1 ) <= ( ( ( len D5 ) - ( len C7 ) ) + 1 ))) by L226;
L228:
now
per cases  by L227 , XREAL_1:6;
case L229: (1 <= ( ( R1 - ( len C7 ) ) + 1 ) & ( R1 - ( len C7 ) ) <= ( ( len D5 ) - ( len C7 ) ));
L230: ( ( R1 + 1 ) - ( len C7 ) ) <= ( ( ( len D5 ) - ( len C7 ) ) + 1 ) by L229 , XREAL_1:6;
L231: ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) = ( ( len C7 ) -' 1 ) by CARD_1:def 7;
L232: ( ( ( len D5 ) + 1 ) - ( len C7 ) ) = ( ( ( ( ( len C7 ) - 1 ) + ( len C8 ) ) + 1 ) - ( len C7 ) ) by L213 , L218 , XREAL_0:def 2
.= ( len C8 );
L233: ( ( R1 + 1 ) - ( len C7 ) ) = ( ( R1 + 1 ) -' ( len C7 ) ) by L229 , XREAL_0:def 2;
L234: ( ( R1 - ( len C7 ) ) + 1 ) <= ( ( ( len D5 ) - ( len C7 ) ) + 1 ) by L229 , XREAL_1:6;
L235: ( ( R1 + 1 ) -' ( len C7 ) ) in ( Seg ( len C8 ) ) by L234 , L229 , L232 , L233 , FINSEQ_1:1;
L236: ( ( R1 + 1 ) -' ( len C7 ) ) in ( dom C8 ) by L235 , FINSEQ_1:def 3;
L237: R1 = ( ( ( len C7 ) - 1 ) + ( ( R1 + 1 ) - ( len C7 ) ) )
.= ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( ( R1 + 1 ) -' ( len C7 ) ) ) by L213 , L233 , L231 , XREAL_0:def 2;
L238: ( D5 . R1 ) = ( C8 . ( ( R1 + 1 ) -' ( len C7 ) ) ) by L237 , L236 , FINSEQ_1:def 7;
thus L239: R5 <= R7 by L238 , L207 , L221 , L229 , L230 , L232 , L233;
end;
case L240: (1 <= R1 & R1 <= ( ( len C7 ) - 1 ));
L241: R1 <= ( ( len C7 ) -' 1 ) by L240 , XREAL_0:def 2;
L242: R1 in ( Seg ( ( len C7 ) -' 1 ) ) by L241 , L240 , FINSEQ_1:1;
L243: R1 in ( Seg ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) ) by L242 , CARD_1:def 7;
L244: R1 in ( dom ( ( ( len C7 ) -' 1 ) |-> R10 ) ) by L243 , FINSEQ_1:def 3;
L245: ( D5 . R1 ) = ( ( ( ( len C7 ) -' 1 ) |-> R10 ) . R1 ) by L244 , FINSEQ_1:def 7
.= R10 by L240 , L241 , L31;
thus L246: R5 <= R7 by L245 , L196 , L221;
end;
end;
L248: ( dom D4 ) = ( Seg ( ( len C7 ) + ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) ) by FINSEQ_1:def 7;
L249: ( len D4 ) = ( ( len C7 ) + ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) by L248 , FINSEQ_1:def 3;
L250: ( ( len D4 ) -' ( len C7 ) ) = ( ( len D4 ) - ( len C7 ) ) by L249 , XREAL_0:def 2;
L251: ( len D4 ) = ( ( len C7 ) + ( ( len C8 ) -' 1 ) ) by L249 , CARD_1:def 7;
L252: ((1 <= R1 & R1 <= ( len C7 )) or (( ( len C7 ) - ( len C7 ) ) < ( R1 - ( len C7 ) ) & R1 <= ( len D4 ))) by L219 , FINSEQ_3:25 , XREAL_1:9;
L253:
now
per cases  by L250 , L252 , XREAL_1:9;
case L254: (1 <= R1 & R1 <= ( len C7 ));
L255: R1 in ( dom C7 ) by L254 , FINSEQ_3:25;
L256: ( D4 . R1 ) = ( C7 . R1 ) by L255 , FINSEQ_1:def 7;
thus L257: R4 <= R6 by L256 , L202 , L220 , L254;
end;
case L258: (( 0 ) < ( R1 - ( len C7 ) ) & ( R1 - ( len C7 ) ) <= ( ( len D4 ) -' ( len C7 ) ));
L259: ( R1 - ( len C7 ) ) = ( R1 -' ( len C7 ) ) by L258 , XREAL_0:def 2;
L260: ( ( 0 ) + 1 ) <= ( R1 -' ( len C7 ) ) by L259 , L258 , NAT_1:13;
L261: ( R1 -' ( len C7 ) ) in ( Seg ( ( len D4 ) -' ( len C7 ) ) ) by L260 , L258 , L259 , FINSEQ_1:1;
L262: ( R1 -' ( len C7 ) ) in ( Seg ( ( len C8 ) -' 1 ) ) by L261 , L251 , NAT_D:34;
L263: ( R1 -' ( len C7 ) ) <= ( ( len C8 ) -' 1 ) by L262 , FINSEQ_1:1;
L264: R1 = ( ( len C7 ) + ( R1 - ( len C7 ) ) );
L265: ( R1 -' ( len C7 ) ) in ( Seg ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) by L262 , CARD_1:def 7;
L266: ( R1 -' ( len C7 ) ) in ( dom ( ( ( len C8 ) -' 1 ) |-> R9 ) ) by L265 , FINSEQ_1:def 3;
L267: ( R1 -' ( len C7 ) ) = ( R1 - ( len C7 ) ) by L258 , XREAL_0:def 2;
L268: ( D4 . R1 ) = ( ( ( ( len C8 ) -' 1 ) |-> R9 ) . ( R1 -' ( len C7 ) ) ) by L267 , L266 , L264 , FINSEQ_1:def 7
.= R9 by L260 , L263 , L31;
thus L269: R4 <= R6 by L268 , L197 , L220;
end;
end;
thus L271: thesis by L253 , L228;
end;
L272: (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < ( len D4 )) implies ( D4 /. R1 ) , ( D5 /. R1 ) , ( D4 /. ( R1 + 1 ) ) , ( D5 /. ( R1 + 1 ) ) are_adjacent2 ))
proof
let R1 being (Element of ( NAT ));
assume that
L273: 1 <= R1
and
L274: R1 < ( len D4 );
L275:
now
per cases ;
case L276: R1 < ( len C7 );
L277: ( R1 + 1 ) <= ( len C7 ) by L276 , NAT_1:13;
L278:
now
per cases ;
case L279: ( R1 + 1 ) <= ( ( len C7 ) -' 1 );
L280: ( R1 + 1 ) <= ( ( len C7 ) - 1 ) by L279 , XREAL_0:def 2;
L281: ( ( R1 + 1 ) + 1 ) <= ( ( ( len C7 ) - 1 ) + 1 ) by L280 , XREAL_1:6;
L282: ( R1 + 1 ) < ( len C7 ) by L281 , NAT_1:13;
L283: R1 < ( len C7 ) by L282 , NAT_1:13;
L284: R1 in ( dom C7 ) by L283 , L273 , FINSEQ_3:25;
L285: 1 < ( R1 + 1 ) by L273 , NAT_1:13;
L286: ( R1 + 1 ) in ( dom C7 ) by L285 , L282 , FINSEQ_3:25;
L287: ( dom C7 ) c= ( dom D4 ) by FINSEQ_1:26;
L288: ( D4 /. ( R1 + 1 ) ) = ( D4 . ( R1 + 1 ) ) by L287 , L286 , PARTFUN1:def 6
.= ( C7 . ( R1 + 1 ) ) by L286 , FINSEQ_1:def 7
.= ( C7 /. ( R1 + 1 ) ) by L286 , PARTFUN1:def 6;
L289: ( D4 /. R1 ) = ( D4 . R1 ) by L287 , L284 , PARTFUN1:def 6
.= ( C7 . R1 ) by L284 , FINSEQ_1:def 7
.= ( C7 /. R1 ) by L284 , PARTFUN1:def 6;
thus L290: ( D4 /. R1 ) , ( D4 /. ( R1 + 1 ) ) are_adjacent1  by L289 , L203 , L273 , L283 , L288;
end;
case L291: ( R1 + 1 ) > ( ( len C7 ) -' 1 );
L292: ( ( 0 ) + 1 ) <= ( R1 + 1 ) by NAT_1:13;
L293: ( R1 + 1 ) in ( dom C7 ) by L292 , L277 , FINSEQ_3:25;
L294: ( dom C7 ) c= ( dom D4 ) by FINSEQ_1:26;
L295: ( D4 /. ( R1 + 1 ) ) = ( D4 . ( R1 + 1 ) ) by L294 , L293 , PARTFUN1:def 6
.= ( C7 . ( R1 + 1 ) ) by L293 , FINSEQ_1:def 7
.= ( C7 /. ( R1 + 1 ) ) by L293 , PARTFUN1:def 6;
L296: R1 in ( dom C7 ) by L273 , L276 , FINSEQ_3:25;
L297: ( D4 /. R1 ) = ( D4 . R1 ) by L296 , L294 , PARTFUN1:def 6
.= ( C7 . R1 ) by L296 , FINSEQ_1:def 7
.= ( C7 /. R1 ) by L296 , PARTFUN1:def 6;
thus L298: ( D4 /. R1 ) , ( D4 /. ( R1 + 1 ) ) are_adjacent1  by L297 , L203 , L273 , L276 , L295;
end;
end;
L300: 1 <= ( R1 + 1 ) by L273 , NAT_1:13;
L301:
now
per cases ;
case L302: ( R1 + 1 ) <= ( ( len C7 ) -' 1 );
L303: ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) = ( ( len C7 ) -' 1 ) by CARD_1:def 7;
L304: ( dom ( ( ( len C7 ) -' 1 ) |-> R10 ) ) c= ( dom D5 ) by FINSEQ_1:26;
L305: ( R1 + 1 ) in ( Seg ( ( len C7 ) -' 1 ) ) by L300 , L302 , FINSEQ_1:1;
L306: ( R1 + 1 ) in ( dom ( ( ( len C7 ) -' 1 ) |-> R10 ) ) by L305 , L303 , FINSEQ_1:def 3;
L307: ( D5 . ( R1 + 1 ) ) = ( ( ( ( len C7 ) -' 1 ) |-> R10 ) . ( R1 + 1 ) ) by L306 , FINSEQ_1:def 7
.= R10 by L300 , L302 , L31;
thus L308: ( D5 /. ( R1 + 1 ) ) = R10 by L307 , L306 , L304 , PARTFUN1:def 6;
end;
case L309: ( R1 + 1 ) > ( ( len C7 ) -' 1 );
L310: ( ( ( len C7 ) -' 1 ) + 1 ) = ( ( ( len C7 ) - 1 ) + 1 ) by L201 , XREAL_0:def 2
.= ( len C7 );
L311: ( ( ( len C7 ) -' 1 ) + 1 ) <= ( R1 + 1 ) by L309 , NAT_1:13;
L312: ( len C7 ) = ( R1 + 1 ) by L311 , L277 , L310 , XXREAL_0:1;
L313: ( dom D5 ) = ( Seg ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( len C8 ) ) ) by FINSEQ_1:def 7;
L314: ( len D5 ) = ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( len C8 ) ) by L313 , FINSEQ_1:def 3
.= ( ( ( len C7 ) -' 1 ) + ( len C8 ) ) by CARD_1:def 7
.= ( ( ( len C7 ) - 1 ) + ( len C8 ) ) by L201 , XREAL_0:def 2
.= ( ( len C7 ) + ( ( len C8 ) - 1 ) )
.= ( ( len C7 ) + ( ( len C8 ) -' 1 ) ) by L206 , XREAL_0:def 2;
L315: ( len C7 ) <= ( len D5 ) by L314 , NAT_1:11;
L316: ( len C7 ) in ( Seg ( len D5 ) ) by L315 , L212 , FINSEQ_1:1;
L317: ( R1 + 1 ) in ( dom D5 ) by L316 , L312 , FINSEQ_1:def 3;
L318: 1 in ( Seg ( len C8 ) ) by L209 , FINSEQ_1:1;
L319: 1 in ( dom C8 ) by L318 , FINSEQ_1:def 3;
L320: ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + 1 ) = ( R1 + 1 ) by L310 , L312 , CARD_1:def 7;
L321: ( D5 . ( R1 + 1 ) ) = R10 by L320 , L204 , L319 , FINSEQ_1:def 7;
thus L322: ( D5 /. ( R1 + 1 ) ) = R10 by L321 , L317 , PARTFUN1:def 6;
end;
end;
L324: ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) = ( ( len C7 ) -' 1 ) by CARD_1:def 7;
L325: ( dom ( ( ( len C7 ) -' 1 ) |-> R10 ) ) c= ( dom D5 ) by FINSEQ_1:26;
L326: ( ( R1 + 1 ) - 1 ) <= ( ( len C7 ) - 1 ) by L277 , XREAL_1:9;
L327: R1 <= ( ( len C7 ) -' 1 ) by L326 , XREAL_0:def 2;
L328: R1 in ( Seg ( ( len C7 ) -' 1 ) ) by L327 , L273 , FINSEQ_1:1;
L329: R1 in ( dom ( ( ( len C7 ) -' 1 ) |-> R10 ) ) by L328 , L324 , FINSEQ_1:def 3;
L330: ( D5 . R1 ) = ( ( ( ( len C7 ) -' 1 ) |-> R10 ) . R1 ) by L329 , FINSEQ_1:def 7
.= R10 by L273 , L327 , L31;
thus L331: ((( D4 /. R1 ) , ( D4 /. ( R1 + 1 ) ) are_adjacent1  & ( D5 /. R1 ) = ( D5 /. ( R1 + 1 ) )) or (( D4 /. R1 ) = ( D4 /. ( R1 + 1 ) ) & ( D5 /. R1 ) , ( D5 /. ( R1 + 1 ) ) are_adjacent1 )) by L330 , L329 , L325 , L301 , L278 , PARTFUN1:def 6;
end;
case L332: R1 >= ( len C7 );
L333: ( 0 ) <= ( ( R1 + 1 ) - ( len C7 ) ) by L332 , NAT_1:12 , XREAL_1:48;
L334: ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) ) = ( ( ( len C7 ) -' 1 ) + ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) ) by CARD_1:def 7
.= ( ( ( len C7 ) - 1 ) + ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) ) by L213 , XREAL_0:def 2
.= ( ( ( len C7 ) - 1 ) + ( ( ( R1 + 1 ) - ( len C7 ) ) + 1 ) ) by L333 , XREAL_0:def 2
.= ( R1 + 1 );
L335: ( R1 + 1 ) = ( ( len C7 ) + ( ( R1 + 1 ) - ( len C7 ) ) )
.= ( ( len C7 ) + ( ( R1 + 1 ) -' ( len C7 ) ) ) by L333 , XREAL_0:def 2;
L336: ( R1 - ( len C7 ) ) >= ( 0 ) by L332 , XREAL_1:48;
L337: ( ( 0 ) + 1 ) <= ( ( R1 - ( len C7 ) ) + 1 ) by L336 , XREAL_1:6;
L338: 1 <= ( ( R1 + 1 ) -' ( len C7 ) ) by L337 , L333 , XREAL_0:def 2;
L339: ( R1 - ( len C7 ) ) = ( R1 -' ( len C7 ) ) by L336 , XREAL_0:def 2;
L340:
now
assume L341: (not 1 <= ( R1 -' ( len C7 ) ));
L342: ( R1 -' ( len C7 ) ) < ( ( 0 ) + 1 ) by L341;
L343: ( R1 -' ( len C7 ) ) = ( 0 ) by L342 , NAT_1:13;
L344: ( len C7 ) in ( Seg ( len C7 ) ) by L201 , FINSEQ_1:3;
L345: R1 in ( dom C7 ) by L344 , L339 , L343 , FINSEQ_1:def 3;
thus L346: ( D4 . R1 ) = R9 by L345 , L200 , L339 , L343 , FINSEQ_1:def 7;
end;
L347: ( ( ( R1 + 1 ) - ( len C7 ) ) + ( len C7 ) ) <= ( ( ( len C8 ) - 1 ) + ( len C7 ) ) by L211 , L274 , NAT_1:13;
L348: ( ( R1 + 1 ) - ( len C7 ) ) <= ( ( len C8 ) - 1 ) by L347 , XREAL_1:6;
L349: ( ( R1 + 1 ) - ( len C7 ) ) <= ( ( len C8 ) -' 1 ) by L348 , XREAL_0:def 2;
L350: ( ( R1 + 1 ) -' ( len C7 ) ) <= ( ( len C8 ) -' 1 ) by L349 , XREAL_0:def 2;
L351: ( ( R1 - ( len C7 ) ) + 1 ) >= ( ( 0 ) + 1 ) by L336 , XREAL_1:6;
L352: 1 <= ( ( R1 + 1 ) -' ( len C7 ) ) by L351 , L347 , XREAL_0:def 2;
L353: ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) = ( ( len C8 ) -' 1 ) by CARD_1:def 7;
L354: ( ( R1 + 1 ) -' ( len C7 ) ) in ( Seg ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) by L353 , L352 , L350 , FINSEQ_1:1;
L355: ( ( R1 + 1 ) -' ( len C7 ) ) in ( dom ( ( ( len C8 ) -' 1 ) |-> R9 ) ) by L354 , FINSEQ_1:def 3;
L356: ( D4 . ( R1 + 1 ) ) = ( ( ( ( len C8 ) -' 1 ) |-> R9 ) . ( ( R1 + 1 ) -' ( len C7 ) ) ) by L355 , L335 , FINSEQ_1:def 7
.= R9 by L352 , L350 , L31;
L357: ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( ( R1 + 1 ) -' ( len C7 ) ) ) = ( ( ( len C7 ) -' 1 ) + ( ( R1 + 1 ) -' ( len C7 ) ) ) by CARD_1:def 7
.= ( ( ( len C7 ) - 1 ) + ( ( R1 + 1 ) -' ( len C7 ) ) ) by L213 , XREAL_0:def 2
.= ( ( ( len C7 ) - 1 ) + ( ( R1 - ( len C7 ) ) + 1 ) ) by L333 , XREAL_0:def 2
.= R1;
L358: ( len D4 ) = ( ( len C7 ) + ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) by FINSEQ_1:22
.= ( ( len C7 ) + ( ( len C8 ) -' 1 ) ) by CARD_1:def 7;
L359: ( R1 - ( len C7 ) ) < ( ( ( len C7 ) + ( ( len C8 ) -' 1 ) ) - ( len C7 ) ) by L358 , L274 , XREAL_1:9;
L360: ( R1 -' ( len C7 ) ) <= ( ( len C8 ) -' 1 ) by L359 , XREAL_0:def 2;
L361: ( R1 - ( ( len C7 ) - 1 ) ) < ( ( ( ( len C7 ) - 1 ) + ( len C8 ) ) - ( ( len C7 ) - 1 ) ) by L211 , L274 , XREAL_1:9;
L362: ( ( R1 + 1 ) -' ( len C7 ) ) < ( len C8 ) by L361 , L333 , XREAL_0:def 2;
L363: (1 <= ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) & ( len C8 ) >= ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 )) by L362 , NAT_1:11 , NAT_1:13;
L364: ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) in ( Seg ( len C8 ) ) by L363 , FINSEQ_1:1;
L365: ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) in ( dom C8 ) by L364 , FINSEQ_1:def 3;
L366: ( ( len C8 ) -' 1 ) <= ( ( ( len C8 ) -' 1 ) + 1 ) by NAT_1:11;
L367: ( ( R1 + 1 ) -' ( len C7 ) ) <= ( ( ( len C8 ) -' 1 ) + 1 ) by L366 , L350 , XXREAL_0:2;
L368: ( ( R1 + 1 ) -' ( len C7 ) ) <= ( ( ( len C8 ) - 1 ) + 1 ) by L367 , L210 , XREAL_0:def 2;
L369: ( ( R1 + 1 ) -' ( len C7 ) ) in ( dom C8 ) by L368 , L352 , FINSEQ_3:25;
L370: ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) = ( ( len C8 ) -' 1 ) by CARD_1:def 7;
L371:
now
L372: R1 = ( ( len C7 ) + ( R1 - ( len C7 ) ) )
.= ( ( len C7 ) + ( R1 -' ( len C7 ) ) ) by L336 , XREAL_0:def 2;
assume L373: 1 <= ( R1 -' ( len C7 ) );
L374: ( R1 -' ( len C7 ) ) in ( Seg ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) by L373 , L360 , L370 , FINSEQ_1:1;
L375: ( R1 -' ( len C7 ) ) in ( dom ( ( ( len C8 ) -' 1 ) |-> R9 ) ) by L374 , FINSEQ_1:def 3;
L376: ( D4 . R1 ) = ( ( ( ( len C8 ) -' 1 ) |-> R9 ) . ( R1 -' ( len C7 ) ) ) by L375 , L372 , FINSEQ_1:def 7
.= R9 by L360 , L373 , L31;
thus L377: ( D4 . R1 ) = R9 by L376;
end;
L378: R1 in ( dom D5 ) by L211 , L214 , L273 , L274 , FINSEQ_3:25;
L379: ( D5 /. R1 ) = ( D5 . ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( ( R1 + 1 ) -' ( len C7 ) ) ) ) by L378 , L357 , PARTFUN1:def 6
.= ( C8 . ( ( R1 + 1 ) -' ( len C7 ) ) ) by L369 , FINSEQ_1:def 7
.= ( C8 /. ( ( R1 + 1 ) -' ( len C7 ) ) ) by L369 , PARTFUN1:def 6;
L380: R1 in ( dom D4 ) by L273 , L274 , FINSEQ_3:25;
L381: ( D4 /. R1 ) = R9 by L380 , L340 , L371 , PARTFUN1:def 6;
L382: (( R1 + 1 ) <= ( len D4 ) & ( ( 0 ) + 1 ) <= ( R1 + 1 )) by L274 , NAT_1:13;
L383: ( R1 + 1 ) in ( Seg ( len D4 ) ) by L382 , FINSEQ_1:1;
L384: ( R1 + 1 ) in ( dom D5 ) by L383 , L211 , L214 , FINSEQ_1:def 3;
L385: ( D5 /. ( R1 + 1 ) ) = ( D5 . ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) ) ) by L384 , L334 , PARTFUN1:def 6
.= ( C8 . ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) ) by L365 , FINSEQ_1:def 7
.= ( C8 /. ( ( ( R1 + 1 ) -' ( len C7 ) ) + 1 ) ) by L365 , PARTFUN1:def 6;
L386: ( R1 + 1 ) in ( dom D4 ) by L383 , FINSEQ_1:def 3;
thus L387: ((( D4 /. R1 ) , ( D4 /. ( R1 + 1 ) ) are_adjacent1  & ( D5 /. R1 ) = ( D5 /. ( R1 + 1 ) )) or (( D4 /. R1 ) = ( D4 /. ( R1 + 1 ) ) & ( D5 /. R1 ) , ( D5 /. ( R1 + 1 ) ) are_adjacent1 )) by L386 , L208 , L381 , L356 , L338 , L362 , L385 , L379 , PARTFUN1:def 6;
end;
end;
thus L389: thesis by L275 , L18;
end;
L390:
now
per cases ;
case L391: ( ( len C7 ) -' 1 ) = ( 0 );
L392: ( ( ( ( len C7 ) -' 1 ) |-> R10 ) ^ C8 ) = ( ( <*> ( NAT ) ) ^ C8 ) by L391
.= C8 by FINSEQ_1:34;
thus L393: (( D5 . 1 ) = R10 & ( D5 . ( len D5 ) ) = R11) by L392 , L204 , L205;
end;
case L394: ( ( len C7 ) -' 1 ) <> ( 0 );
L395: ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) = ( ( len C7 ) -' 1 ) by CARD_1:def 7;
L396: ( ( 0 ) + 1 ) <= ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) by L395 , L394 , NAT_1:13;
L397: 1 in ( dom ( ( ( len C7 ) -' 1 ) |-> R10 ) ) by L396 , FINSEQ_3:25;
L398: ( D5 . 1 ) = ( ( ( ( len C7 ) -' 1 ) |-> R10 ) . 1 ) by L397 , FINSEQ_1:def 7;
L399: 1 <= ( len C8 ) by L206 , NAT_1:11;
L400: ( len C8 ) in ( dom C8 ) by L399 , FINSEQ_3:25;
L401: (( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) = ( ( len C7 ) -' 1 ) & ( len D5 ) = ( ( len ( ( ( len C7 ) -' 1 ) |-> R10 ) ) + ( len C8 ) )) by FINSEQ_1:22 , CARD_1:def 7;
thus L402: (( D5 . 1 ) = R10 & ( D5 . ( len D5 ) ) = R11) by L401 , L205 , L396 , L398 , L400 , L31 , FINSEQ_1:def 7;
end;
end;
L404: 1 in ( dom C7 ) by L212 , FINSEQ_3:25;
L405:
now
per cases ;
case L406: ( ( len C8 ) -' 1 ) = ( 0 );
L407: ( C7 ^ ( ( ( len C8 ) -' 1 ) |-> R9 ) ) = ( C7 ^ ( <*> ( NAT ) ) ) by L406
.= C7 by FINSEQ_1:34;
thus L408: (( D4 . 1 ) = R8 & ( D4 . ( len D4 ) ) = R9) by L407 , L199 , L200;
end;
case L409: ( ( len C8 ) -' 1 ) <> ( 0 );
L410: ( ( 0 ) + 1 ) <= ( ( len C8 ) -' 1 ) by L409 , NAT_1:13;
L411: ( len D4 ) = ( ( len C7 ) + ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) by FINSEQ_1:22;
L412: ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) = ( ( len C8 ) -' 1 ) by CARD_1:def 7;
L413: (( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) in ( dom ( ( ( len C8 ) -' 1 ) |-> R9 ) ) & ( ( ( ( len C8 ) -' 1 ) |-> R9 ) . ( len ( ( ( len C8 ) -' 1 ) |-> R9 ) ) ) = R9) by L412 , L410 , L31 , FINSEQ_3:25;
thus L414: (( D4 . 1 ) = R8 & ( D4 . ( len D4 ) ) = R9) by L413 , L199 , L404 , L411 , FINSEQ_1:def 7;
end;
end;
thus L416: thesis by L405 , L201 , L206 , L211 , L214 , L390 , L215 , L272;
end;
theorem
L417: (for R6 being (Element of ( NAT )) holds (for R7 being (Element of ( NAT )) holds (for R13 being set holds (for B11 being (Subset of R13) holds (for B12 being (Matrix of R6 , R7 , ( bool R13 )) holds (((ex R1 being (Element of ( NAT )) st (ex R2 being (Element of ( NAT )) st (R1 in ( Seg R6 ) & R2 in ( Seg R7 ) & ( B12 * (R1 , R2) ) c= B11))) & (for R8 being (Element of ( NAT )) holds (for R10 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds ((R8 in ( Seg R6 ) & R9 in ( Seg R6 ) & R10 in ( Seg R7 ) & R11 in ( Seg R7 ) & R8 , R10 , R9 , R11 are_adjacent2 ) implies (( B12 * (R8 , R10) ) c= B11 iff ( B12 * (R9 , R11) ) c= B11))))))) implies (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds ((R1 in ( Seg R6 ) & R2 in ( Seg R7 )) implies ( B12 * (R1 , R2) ) c= B11)))))))))
proof
let R6 being (Element of ( NAT ));
let R7 being (Element of ( NAT ));
let R13 being set;
let C9 being (Subset of R13);
let C10 being (Matrix of R6 , R7 , ( bool R13 ));
assume that
L418: (ex R1 being (Element of ( NAT )) st (ex R2 being (Element of ( NAT )) st (R1 in ( Seg R6 ) & R2 in ( Seg R7 ) & ( C10 * (R1 , R2) ) c= C9)))
and
L419: (for R8 being (Element of ( NAT )) holds (for R10 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds ((R8 in ( Seg R6 ) & R9 in ( Seg R6 ) & R10 in ( Seg R7 ) & R11 in ( Seg R7 ) & R8 , R10 , R9 , R11 are_adjacent2 ) implies (( C10 * (R8 , R10) ) c= C9 iff ( C10 * (R9 , R11) ) c= C9))))));
consider R8 being (Element of ( NAT )), R10 being (Element of ( NAT )) such that L420: R8 in ( Seg R6 ) and L421: R10 in ( Seg R7 ) and L422: ( C10 * (R8 , R10) ) c= C9 by L418;
L423: R10 <= R7 by L421 , FINSEQ_1:1;
L424: 1 <= R8 by L420 , FINSEQ_1:1;
L425: ( R8 - 1 ) >= ( 1 - 1 ) by L424 , XREAL_1:9;
L426: ( R8 -' 1 ) = ( R8 - 1 ) by L425 , XREAL_0:def 2;
L427: 1 <= R10 by L421 , FINSEQ_1:1;
L428: ( R10 - 1 ) >= ( 1 - 1 ) by L427 , XREAL_1:9;
L429: ( R10 -' 1 ) = ( R10 - 1 ) by L428 , XREAL_0:def 2;
L430: R8 <= R6 by L420 , FINSEQ_1:1;
thus L431: (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds ((R1 in ( Seg R6 ) & R2 in ( Seg R7 )) implies ( C10 * (R1 , R2) ) c= C9)))
proof
let R9 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
assume that
L432: R9 in ( Seg R6 )
and
L433: R11 in ( Seg R7 );
L434: R11 <= R7 by L433 , FINSEQ_1:1;
L435: 1 <= R9 by L432 , FINSEQ_1:1;
L436: ( R9 - 1 ) >= ( 1 - 1 ) by L435 , XREAL_1:9;
L437: ( R9 -' 1 ) = ( R9 - 1 ) by L436 , XREAL_0:def 2;
L438: 1 <= R11 by L433 , FINSEQ_1:1;
L439: ( R11 - 1 ) >= ( 1 - 1 ) by L438 , XREAL_1:9;
L440: ( R11 -' 1 ) = ( R11 - 1 ) by L439 , XREAL_0:def 2;
L441: R9 <= R6 by L432 , FINSEQ_1:1;
L442:
now
per cases ;
case L443: (R6 = ( 0 ) or R7 = ( 0 ));
thus L444: contradiction by L443 , L420 , L421;
end;
case L445: (R6 <> ( 0 ) & R7 <> ( 0 ));
L446: R7 >= ( ( 0 ) + 1 ) by L445 , NAT_1:13;
L447: ( R7 - 1 ) >= ( 0 ) by L446 , XREAL_1:19;
L448: ( R7 -' 1 ) = ( R7 - 1 ) by L447 , XREAL_0:def 2;
L449: (( R10 -' 1 ) <= ( R7 -' 1 ) & ( R11 -' 1 ) <= ( R7 -' 1 )) by L448 , L423 , L429 , L434 , L440 , XREAL_1:9;
L450: R6 >= ( ( 0 ) + 1 ) by L445 , NAT_1:13;
L451: ( R6 - 1 ) >= ( 0 ) by L450 , XREAL_1:19;
L452: ( R6 -' 1 ) = ( R6 - 1 ) by L451 , XREAL_0:def 2;
L453: (( R8 -' 1 ) <= ( R6 -' 1 ) & ( R9 -' 1 ) <= ( R6 -' 1 )) by L452 , L430 , L426 , L441 , L437 , XREAL_1:9;
consider C11 , C12 being (FinSequence of ( NAT )) such that L454: (for R1 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds (for R5 being (Element of ( NAT )) holds ((R1 in ( dom C11 ) & R4 = ( C11 . R1 ) & R5 = ( C12 . R1 )) implies (R4 <= ( R6 -' 1 ) & R5 <= ( R7 -' 1 )))))) and L455: ( C11 . 1 ) = ( R8 -' 1 ) and L456: ( C11 . ( len C11 ) ) = ( R9 -' 1 ) and L457: ( C12 . 1 ) = ( R10 -' 1 ) and L458: ( C12 . ( len C12 ) ) = ( R11 -' 1 ) and L459: ( len C11 ) = ( len C12 ) and L460: ( len C11 ) = ( ( ( ( ( ( R8 -' 1 ) -' ( R9 -' 1 ) ) + ( ( R9 -' 1 ) -' ( R8 -' 1 ) ) ) + ( ( R10 -' 1 ) -' ( R11 -' 1 ) ) ) + ( ( R11 -' 1 ) -' ( R10 -' 1 ) ) ) + 1 ) and L461: (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < ( len C11 )) implies ( C11 /. R1 ) , ( C12 /. R1 ) , ( C11 /. ( R1 + 1 ) ) , ( C12 /. ( R1 + 1 ) ) are_adjacent2 )) by L453 , L449 , L194;
deffunc H3(Nat) = ( ( C11 /. $1 ) + 1 );
L462: (ex B13 being (FinSequence of ( NAT )) st (( len B13 ) = ( len C11 ) & (for B14 being Nat holds (B14 in ( dom B13 ) implies ( B13 . B14 ) = H3(B14))))) from FINSEQ_2:sch 1;
consider C13 being (FinSequence of ( NAT )) such that L463: ( len C13 ) = ( len C11 ) and L464: (for B15 being Nat holds (B15 in ( dom C13 ) implies ( C13 . B15 ) = ( ( C11 /. B15 ) + 1 ))) by L462;
deffunc H4(Nat) = ( ( C12 /. $1 ) + 1 );
L465: (ex B16 being (FinSequence of ( NAT )) st (( len B16 ) = ( len C12 ) & (for B17 being Nat holds (B17 in ( dom B16 ) implies ( B16 . B17 ) = H4(B17))))) from FINSEQ_2:sch 1;
consider C14 being (FinSequence of ( NAT )) such that L466: ( len C14 ) = ( len C12 ) and L467: (for B18 being Nat holds (B18 in ( dom C14 ) implies ( C14 . B18 ) = ( ( C12 /. B18 ) + 1 ))) by L465;
L468: ( dom C14 ) = ( Seg ( len C12 ) ) by L466 , FINSEQ_1:def 3;
defpred S1[ (Element of ( NAT )) ] means (( $1 + 1 ) <= ( len C13 ) implies ( C10 * (( C13 /. ( $1 + 1 ) ) , ( C14 /. ( $1 + 1 ) )) ) c= C9);
L469: ( dom C13 ) = ( Seg ( len C11 ) ) by L463 , FINSEQ_1:def 3;
L470: (for R3 being (Element of ( NAT )) holds (S1[ R3 ] implies S1[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
L471: 1 <= ( R3 + 1 ) by NAT_1:12;
assume L472: (( R3 + 1 ) <= ( len C13 ) implies ( C10 * (( C13 /. ( R3 + 1 ) ) , ( C14 /. ( R3 + 1 ) )) ) c= C9);
L473:
now
per cases ;
case L474: ( R3 + 1 ) <= ( len C13 );
L475:
now
per cases ;
case L476: ( ( R3 + 1 ) + 1 ) <= ( len C13 );
set D6 = ( C11 /. ( ( R3 + 1 ) + 1 ) );
set D7 = ( C12 /. ( ( R3 + 1 ) + 1 ) );
L477: 1 <= ( ( R3 + 1 ) + 1 ) by NAT_1:12;
L478: ( ( R3 + 1 ) + 1 ) in ( Seg ( len C13 ) ) by L477 , L476 , FINSEQ_1:1;
L479: ( ( R3 + 1 ) + 1 ) in ( dom C12 ) by L478 , L459 , L463 , FINSEQ_1:def 3;
L480: ( C12 /. ( ( R3 + 1 ) + 1 ) ) = ( C12 . ( ( R3 + 1 ) + 1 ) ) by L479 , PARTFUN1:def 6;
L481: ( ( R3 + 1 ) + 1 ) in ( dom C11 ) by L463 , L478 , FINSEQ_1:def 3;
L482: ( C11 /. ( ( R3 + 1 ) + 1 ) ) = ( C11 . ( ( R3 + 1 ) + 1 ) ) by L481 , PARTFUN1:def 6;
L483: D6 <= ( R6 - 1 ) by L482 , L452 , L454 , L481 , L480;
L484: ( D6 + 1 ) <= ( ( R6 - 1 ) + 1 ) by L483 , XREAL_1:6;
L485: ( ( R3 + 1 ) + 1 ) in ( dom C14 ) by L459 , L463 , L466 , L478 , FINSEQ_1:def 3;
L486: ( C14 . ( ( R3 + 1 ) + 1 ) ) = ( C14 /. ( ( R3 + 1 ) + 1 ) ) by L485 , PARTFUN1:def 6;
L487: ( C14 /. ( ( R3 + 1 ) + 1 ) ) = ( D7 + 1 ) by L486 , L459 , L463 , L467 , L468 , L478;
L488: D7 <= ( R7 -' 1 ) by L454 , L481 , L482 , L480;
L489: ( D7 + 1 ) <= ( ( R7 - 1 ) + 1 ) by L488 , L448 , XREAL_1:6;
L490: 1 <= ( 1 + D7 ) by NAT_1:11;
L491: ( C14 /. ( ( R3 + 1 ) + 1 ) ) in ( Seg R7 ) by L490 , L487 , L489 , FINSEQ_1:1;
L492: ( ( R3 + 1 ) + 1 ) in ( dom C13 ) by L478 , FINSEQ_1:def 3;
L493: ( C13 /. ( ( R3 + 1 ) + 1 ) ) = ( C13 . ( ( R3 + 1 ) + 1 ) ) by L492 , PARTFUN1:def 6
.= ( D6 + 1 ) by L463 , L464 , L469 , L478;
set D8 = ( C11 /. ( R3 + 1 ) );
set D9 = ( C12 /. ( R3 + 1 ) );
L494: ( R3 + 1 ) < ( len C13 ) by L476 , NAT_1:13;
L495: ( R3 + 1 ) in ( Seg ( len C13 ) ) by L494 , L471 , FINSEQ_1:1;
L496: ( R3 + 1 ) in ( dom C12 ) by L495 , L459 , L463 , FINSEQ_1:def 3;
L497: D9 = ( C12 . ( R3 + 1 ) ) by L496 , PARTFUN1:def 6;
L498: ( R3 + 1 ) in ( dom C13 ) by L495 , FINSEQ_1:def 3;
L499: ( C13 /. ( R3 + 1 ) ) = ( C13 . ( R3 + 1 ) ) by L498 , PARTFUN1:def 6
.= ( D8 + 1 ) by L463 , L464 , L469 , L495;
L500: ( R3 + 1 ) in ( dom C11 ) by L463 , L495 , FINSEQ_1:def 3;
L501: D8 = ( C11 . ( R3 + 1 ) ) by L500 , PARTFUN1:def 6;
L502: D8 <= ( R6 - 1 ) by L501 , L452 , L454 , L500 , L497;
L503: ( D8 + 1 ) <= ( ( R6 - 1 ) + 1 ) by L502 , XREAL_1:6;
L504: 1 <= ( 1 + D8 ) by NAT_1:11;
L505: ( C13 /. ( R3 + 1 ) ) in ( Seg R6 ) by L504 , L499 , L503 , FINSEQ_1:1;
L506: ( R3 + 1 ) in ( dom C14 ) by L459 , L463 , L466 , L495 , FINSEQ_1:def 3;
L507: ( C14 /. ( R3 + 1 ) ) = ( C14 . ( R3 + 1 ) ) by L506 , PARTFUN1:def 6
.= ( D9 + 1 ) by L459 , L463 , L467 , L468 , L495;
L508: D9 <= ( R7 -' 1 ) by L454 , L500 , L501 , L497;
L509: ( D9 + 1 ) <= ( ( R7 - 1 ) + 1 ) by L508 , L448 , XREAL_1:6;
L510: 1 <= ( 1 + D9 ) by NAT_1:11;
L511: ( C14 /. ( R3 + 1 ) ) in ( Seg R7 ) by L510 , L507 , L509 , FINSEQ_1:1;
L512: 1 <= ( 1 + D6 ) by NAT_1:11;
L513: ( C13 /. ( ( R3 + 1 ) + 1 ) ) in ( Seg R6 ) by L512 , L493 , L484 , FINSEQ_1:1;
L514: ( ( R3 + 1 ) + 1 ) in ( dom C14 ) by L459 , L463 , L466 , L478 , FINSEQ_1:def 3;
L515: ( C14 /. ( ( R3 + 1 ) + 1 ) ) = ( C14 . ( ( R3 + 1 ) + 1 ) ) by L514 , PARTFUN1:def 6
.= ( D7 + 1 ) by L459 , L463 , L467 , L468 , L478;
L516: ( C13 /. ( R3 + 1 ) ) , ( C14 /. ( R3 + 1 ) ) , ( C13 /. ( ( R3 + 1 ) + 1 ) ) , ( C14 /. ( ( R3 + 1 ) + 1 ) ) are_adjacent2  by L515 , L461 , L463 , L471 , L494 , L499 , L507 , L493 , L20;
thus L517: thesis by L516 , L419 , L472 , L474 , L505 , L511 , L513 , L491;
end;
case L518: ( ( R3 + 1 ) + 1 ) > ( len C13 );
thus L519: thesis by L518;
end;
end;
thus L521: thesis by L475;
end;
case L522: ( R3 + 1 ) > ( len C13 );
thus L523: thesis by L522 , NAT_1:13;
end;
end;
thus L525: thesis by L473;
end;
L526: 1 <= ( len C11 ) by L460 , NAT_1:11;
L527: 1 in ( Seg ( len C11 ) ) by L526 , FINSEQ_1:1;
L528: 1 in ( dom C12 ) by L527 , L459 , FINSEQ_1:def 3;
L529: ( C12 /. 1 ) = ( R10 -' 1 ) by L528 , L457 , PARTFUN1:def 6;
L530: 1 in ( dom C14 ) by L459 , L466 , L527 , FINSEQ_1:def 3;
L531: ( C14 /. 1 ) = ( C14 . 1 ) by L530 , PARTFUN1:def 6
.= ( ( R10 -' 1 ) + 1 ) by L459 , L467 , L468 , L527 , L529
.= R10 by L429;
L532: 1 in ( dom C11 ) by L527 , FINSEQ_1:def 3;
L533: ( C11 /. 1 ) = ( R8 -' 1 ) by L532 , L455 , PARTFUN1:def 6;
L534: 1 in ( dom C13 ) by L463 , L527 , FINSEQ_1:def 3;
L535: ( C13 /. 1 ) = ( C13 . 1 ) by L534 , PARTFUN1:def 6
.= ( ( R8 -' 1 ) + 1 ) by L464 , L469 , L527 , L533
.= R8 by L426;
L536: S1[ ( 0 ) ] by L535 , L422 , L531;
L537: (for R1 being (Element of ( NAT )) holds S1[ R1 ]) from NAT_1:sch 1(L536 , L470);
L538: ( 1 - 1 ) <= ( ( len C11 ) - 1 ) by L526 , XREAL_1:9;
L539: ( ( len C11 ) -' 1 ) = ( ( len C11 ) - 1 ) by L538 , XREAL_0:def 2;
L540: ( ( ( len C11 ) -' 1 ) + 1 ) = ( len C11 ) by L539;
L541: ( len C11 ) in ( Seg ( len C11 ) ) by L526 , FINSEQ_1:1;
L542: ( len C11 ) in ( dom C12 ) by L541 , L459 , FINSEQ_1:def 3;
L543: ( C12 /. ( len C11 ) ) = ( R11 -' 1 ) by L542 , L458 , L459 , PARTFUN1:def 6;
L544: ( len C11 ) in ( dom C13 ) by L463 , L541 , FINSEQ_1:def 3;
L545: ( C13 /. ( len C11 ) ) = ( C13 . ( len C11 ) ) by L544 , PARTFUN1:def 6
.= ( ( C11 /. ( len C11 ) ) + 1 ) by L464 , L469 , L541;
L546: ( len C11 ) in ( dom C11 ) by L541 , FINSEQ_1:def 3;
L547: ( C11 /. ( len C11 ) ) = ( R9 -' 1 ) by L546 , L456 , PARTFUN1:def 6;
L548: ( len C11 ) in ( dom C14 ) by L459 , L466 , L541 , FINSEQ_1:def 3;
L549: ( C14 /. ( len C11 ) ) = ( C14 . ( len C11 ) ) by L548 , PARTFUN1:def 6
.= ( ( C12 /. ( len C11 ) ) + 1 ) by L459 , L467 , L468 , L541;
thus L550: thesis by L549 , L437 , L440 , L463 , L537 , L540 , L545 , L547 , L543;
end;
end;
thus L552: thesis by L442;
end;

end;
