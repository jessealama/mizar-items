:: Properties of First and Second Order Cutting of Binary Relations
::  by Krzysztof Retel
::
:: Received April 25, 2005
:: Copyright (c) 2005-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies RELAT_1, EQREL_1, XBOOLE_0, SUBSET_1, TARSKI, SETFAM_1, ZFMISC_1,
      FUNCT_1, RELSET_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, SETFAM_1, RELAT_1, FUNCT_1,
      RELSET_1, FUNCT_2, EQREL_1;
 constructors SETFAM_1, FUNCT_2, EQREL_1, RELSET_1, DOMAIN_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, PARTFUN1, RELSET_1, XTUPLE_0;
 requirements SUBSET, BOOLE;
 definitions XBOOLE_0, TARSKI, EQREL_1, SUBSET_1, RELAT_1, XTUPLE_0;
 theorems RELAT_1, TARSKI, SETFAM_1, ZFMISC_1, XBOOLE_1, SUBSET_1, RELSET_1,
      XBOOLE_0, FUNCT_1, FUNCT_2, MSSUBFAM, EQREL_1, SYSREL, ORDERS_1,
      XTUPLE_0;
 schemes CLASSES1, DOMAIN_1;

begin
notation
let C1 being set;
synonym {_{C1 }_} for SmallestPartition C1;
end;
theorem
L2: (for R2 being set holds (for R3 being set holds (R2 in {_{ R3 }_} iff (ex R1 being set st (R2 = { R1 } & R1 in R3)))))
proof
let R2 being set;
let R3 being set;
thus L3: (R2 in {_{ R3 }_} implies (ex R1 being set st (R2 = { R1 } & R1 in R3)))
proof
assume L4: R2 in {_{ R3 }_};
per cases ;
suppose L5: R3 is  empty;

L6: (ex B1 being set st (B1 in R3 & R2 = ( Class (( id R3 ) , B1) ))) by L4 , EQREL_1:def 3;
thus L7: thesis by L6 , L5;
end;
suppose L8: R3 is non  empty;

reconsider D1 = R3 as non  empty set by L8;
L9: R2 in { { B2 } where B2 is (Element of D1) : (not contradiction) } by L4 , EQREL_1:37;
L10: (ex B3 being (Element of D1) st R2 = { B3 }) by L9;
thus L11: thesis by L10;
end;
end;

given R1 being set such that
L13: R2 = { R1 }
and
L14: R1 in R3;

reconsider D2 = R3 as non  empty set by L14;
L15: R2 in { { B4 } where B4 is (Element of D2) : (not contradiction) } by L13 , L14;
thus L16: thesis by L15 , EQREL_1:37;
end;
theorem
L17: (for R3 being set holds (R3 = ( {} ) iff {_{ R3 }_} = ( {} )))
proof
let R3 being set;
thus L18: (R3 = ( {} ) implies {_{ R3 }_} = ( {} ))
proof
assume L19: R3 = ( {} );
assume L20: (not thesis);
consider C2 being set such that L21: C2 in {_{ R3 }_} by L20 , XBOOLE_0:def 1;
L22: (ex B5 being set st (C2 = { B5 } & B5 in R3)) by L21 , L2;
thus L23: contradiction by L22 , L19;
end;

assume L24: {_{ R3 }_} = ( {} );
assume L25: (not thesis);
consider C3 being set such that L26: C3 in R3 by L25 , XBOOLE_0:def 1;
L27: { C3 } in {_{ R3 }_} by L26 , L2;
thus L28: contradiction by L27 , L24;
end;
theorem
L29: (for R3 being set holds (for R4 being set holds {_{ ( R3 \/ R4 ) }_} = ( {_{ R3 }_} \/ {_{ R4 }_} )))
proof
let R3 being set;
let R4 being set;
thus L30: {_{ ( R3 \/ R4 ) }_} c= ( {_{ R3 }_} \/ {_{ R4 }_} )
proof
let C4 being set;
assume L31: C4 in {_{ ( R3 \/ R4 ) }_};
consider C5 being set such that L32: C4 = { C5 } and L33: C5 in ( R3 \/ R4 ) by L31 , L2;
L34: (C5 in R3 or C5 in R4) by L33 , XBOOLE_0:def 3;
L35: (C4 in {_{ R3 }_} or C4 in {_{ R4 }_}) by L34 , L32 , L2;
thus L36: thesis by L35 , XBOOLE_0:def 3;
end;

let C6 being set;
assume L37: C6 in ( {_{ R3 }_} \/ {_{ R4 }_} );
per cases  by L37 , XBOOLE_0:def 3;
suppose L38: C6 in {_{ R3 }_};

consider C7 being set such that L39: C6 = { C7 } and L40: C7 in R3 by L38 , L2;
L41: C7 in ( R3 \/ R4 ) by L40 , XBOOLE_0:def 3;
thus L42: thesis by L41 , L39 , L2;
end;
suppose L43: C6 in {_{ R4 }_};

consider C8 being set such that L44: C6 = { C8 } and L45: C8 in R4 by L43 , L2;
L46: C8 in ( R3 \/ R4 ) by L45 , XBOOLE_0:def 3;
thus L47: thesis by L46 , L44 , L2;
end;
end;
theorem
L49: (for R3 being set holds (for R4 being set holds {_{ ( R3 /\ R4 ) }_} = ( {_{ R3 }_} /\ {_{ R4 }_} )))
proof
let R3 being set;
let R4 being set;
thus L50: {_{ ( R3 /\ R4 ) }_} c= ( {_{ R3 }_} /\ {_{ R4 }_} )
proof
let C9 being set;
assume L51: C9 in {_{ ( R3 /\ R4 ) }_};
consider C10 being set such that L52: C9 = { C10 } and L53: C10 in ( R3 /\ R4 ) by L51 , L2;
L54: C10 in R3 by L53 , XBOOLE_0:def 4;
L55: C10 in R4 by L53 , XBOOLE_0:def 4;
L56: C9 in {_{ R3 }_} by L52 , L54 , L2;
L57: C9 in {_{ R4 }_} by L52 , L55 , L2;
thus L58: thesis by L57 , L56 , XBOOLE_0:def 4;
end;

let C11 being set;
assume L59: C11 in ( {_{ R3 }_} /\ {_{ R4 }_} );
L60: C11 in {_{ R3 }_} by L59 , XBOOLE_0:def 4;
L61: C11 in {_{ R4 }_} by L59 , XBOOLE_0:def 4;
consider C12 being set such that L62: C11 = { C12 } and L63: C12 in R3 by L60 , L2;
consider C13 being set such that L64: C11 = { C13 } and L65: C13 in R4 by L61 , L2;
L66: C12 = C13 by L62 , L64 , ZFMISC_1:3;
L67: C12 in ( R3 /\ R4 ) by L66 , L63 , L65 , XBOOLE_0:def 4;
thus L68: thesis by L67 , L62 , L2;
end;
theorem
L69: (for R3 being set holds (for R4 being set holds {_{ ( R3 \ R4 ) }_} = ( {_{ R3 }_} \ {_{ R4 }_} )))
proof
let R3 being set;
let R4 being set;
thus L70: {_{ ( R3 \ R4 ) }_} c= ( {_{ R3 }_} \ {_{ R4 }_} )
proof
let C14 being set;
assume L71: C14 in {_{ ( R3 \ R4 ) }_};
consider C15 being set such that L72: C14 = { C15 } and L73: C15 in ( R3 \ R4 ) by L71 , L2;
L74: (not C15 in R4) by L73 , XBOOLE_0:def 5;
L75: C14 in {_{ R3 }_} by L72 , L73 , L2;
L76: (not C14 in {_{ R4 }_})
proof
assume L77: (not thesis);
L78: (ex B6 being set st (C14 = { B6 } & B6 in R4)) by L77 , L2;
thus L79: contradiction by L78 , L72 , L74 , ZFMISC_1:3;
end;
thus L80: thesis by L76 , L75 , XBOOLE_0:def 5;
end;

let C16 being set;
assume L81: C16 in ( {_{ R3 }_} \ {_{ R4 }_} );
L82: C16 in {_{ R3 }_} by L81 , XBOOLE_0:def 5;
L83: (not C16 in {_{ R4 }_}) by L81 , XBOOLE_0:def 5;
consider C17 being set such that L84: C16 = { C17 } and L85: C17 in R3 by L82 , L2;
L86: (not C17 in R4) by L83 , L84 , L2;
L87: C17 in ( R3 \ R4 ) by L86 , L85 , XBOOLE_0:def 5;
thus L88: thesis by L87 , L84 , L2;
end;
theorem
L89: (for R3 being set holds (for R4 being set holds (R3 c= R4 iff {_{ R3 }_} c= {_{ R4 }_})))
proof
let R3 being set;
let R4 being set;
thus L90: (R3 c= R4 implies {_{ R3 }_} c= {_{ R4 }_})
proof
assume L91: R3 c= R4;
let C18 being set;
assume L92: C18 in {_{ R3 }_};
L93: (ex B7 being set st (C18 = { B7 } & B7 in R3)) by L92 , L2;
thus L94: thesis by L93 , L91 , L2;
end;

assume L95: {_{ R3 }_} c= {_{ R4 }_};
let C19 being set;
assume L96: C19 in R3;
L97: { C19 } in {_{ R3 }_} by L96 , L2;
L98: (ex B8 being set st ({ C19 } = { B8 } & B8 in R4)) by L97 , L95 , L2;
thus L99: thesis by L98 , ZFMISC_1:3;
end;
theorem
L100: (for R8 being set holds (for B9 , B10 being (Subset-Family of R8) holds ( ( Intersect B9 ) /\ ( Intersect B10 ) ) c= ( Intersect ( B9 /\ B10 ) )))
proof
let R8 being set;
let C20 , C21 being (Subset-Family of R8);
L101: ( Intersect ( C20 \/ C21 ) ) c= ( Intersect ( C20 /\ C21 ) ) by SETFAM_1:44 , XBOOLE_1:29;
thus L102: thesis by L101 , MSSUBFAM:8;
end;
theorem
L103: (for R9 being Relation holds (for R10 being Relation holds (for R11 being Relation holds ( ( R9 /\ R10 ) * R11 ) c= ( ( R9 * R11 ) /\ ( R10 * R11 ) ))))
proof
let R9 being Relation;
let R10 being Relation;
let R11 being Relation;
let C22 , C23 being set;
assume L104: [ C22 , C23 ] in ( ( R9 /\ R10 ) * R11 );
consider C24 being set such that L105: [ C22 , C24 ] in ( R9 /\ R10 ) and L106: [ C24 , C23 ] in R11 by L104 , RELAT_1:def 8;
L107: [ C22 , C24 ] in R9 by L105 , XBOOLE_0:def 4;
L108: [ C22 , C24 ] in R10 by L105 , XBOOLE_0:def 4;
L109: [ C22 , C23 ] in ( R9 * R11 ) by L106 , L107 , RELAT_1:def 8;
L110: [ C22 , C23 ] in ( R10 * R11 ) by L106 , L108 , RELAT_1:def 8;
thus L111: thesis by L110 , L109 , XBOOLE_0:def 4;
end;
begin
theorem
L112: (for R1 being set holds (for R2 being set holds (for R11 being Relation holds (R2 in ( Im (R11 , R1) ) iff [ R1 , R2 ] in R11))))
proof
let R1 being set;
let R2 being set;
let R11 being Relation;
thus L113: (R2 in ( Im (R11 , R1) ) implies [ R1 , R2 ] in R11)
proof
assume L114: R2 in ( Im (R11 , R1) );
L115: (ex B11 being set st ([ B11 , R2 ] in R11 & B11 in { R1 })) by L114 , RELAT_1:def 13;
thus L116: thesis by L115 , TARSKI:def 1;
end;

assume L117: [ R1 , R2 ] in R11;
L118: R1 in { R1 } by TARSKI:def 1;
thus L119: thesis by L118 , L117 , RELAT_1:def 13;
end;
theorem
L120: (for R1 being set holds (for R12 being Relation holds (for R13 being Relation holds ( Im (( R12 \/ R13 ) , R1) ) = ( ( Im (R12 , R1) ) \/ ( Im (R13 , R1) ) ))))
proof
let R1 being set;
let R12 being Relation;
let R13 being Relation;
thus L121: ( Im (( R12 \/ R13 ) , R1) ) c= ( ( Im (R12 , R1) ) \/ ( Im (R13 , R1) ) )
proof
let C25 being set;
assume L122: C25 in ( Im (( R12 \/ R13 ) , R1) );
L123: [ R1 , C25 ] in ( R12 \/ R13 ) by L122 , L112;
L124: ([ R1 , C25 ] in R12 or [ R1 , C25 ] in R13) by L123 , XBOOLE_0:def 3;
L125: (C25 in ( Im (R12 , R1) ) or C25 in ( Im (R13 , R1) )) by L124 , L112;
thus L126: thesis by L125 , XBOOLE_0:def 3;
end;

let C26 being set;
assume L127: C26 in ( ( Im (R12 , R1) ) \/ ( Im (R13 , R1) ) );
per cases  by L127 , XBOOLE_0:def 3;
suppose L128: C26 in ( Im (R12 , R1) );

L129: [ R1 , C26 ] in R12 by L128 , L112;
L130: [ R1 , C26 ] in ( R12 \/ R13 ) by L129 , XBOOLE_0:def 3;
thus L131: thesis by L130 , L112;
end;
suppose L132: C26 in ( Im (R13 , R1) );

L133: [ R1 , C26 ] in R13 by L132 , L112;
L134: [ R1 , C26 ] in ( R12 \/ R13 ) by L133 , XBOOLE_0:def 3;
thus L135: thesis by L134 , L112;
end;
end;
theorem
L137: (for R1 being set holds (for R12 being Relation holds (for R13 being Relation holds ( Im (( R12 /\ R13 ) , R1) ) = ( ( Im (R12 , R1) ) /\ ( Im (R13 , R1) ) ))))
proof
let R1 being set;
let R12 being Relation;
let R13 being Relation;
thus L138: ( Im (( R12 /\ R13 ) , R1) ) c= ( ( Im (R12 , R1) ) /\ ( Im (R13 , R1) ) )
proof
let C27 being set;
assume L139: C27 in ( Im (( R12 /\ R13 ) , R1) );
L140: [ R1 , C27 ] in ( R12 /\ R13 ) by L139 , L112;
L141: [ R1 , C27 ] in R12 by L140 , XBOOLE_0:def 4;
L142: [ R1 , C27 ] in R13 by L140 , XBOOLE_0:def 4;
L143: C27 in ( Im (R12 , R1) ) by L141 , L112;
L144: C27 in ( Im (R13 , R1) ) by L142 , L112;
thus L145: thesis by L144 , L143 , XBOOLE_0:def 4;
end;

let C28 being set;
assume L146: C28 in ( ( Im (R12 , R1) ) /\ ( Im (R13 , R1) ) );
L147: C28 in ( Im (R12 , R1) ) by L146 , XBOOLE_0:def 4;
L148: C28 in ( Im (R13 , R1) ) by L146 , XBOOLE_0:def 4;
L149: [ R1 , C28 ] in R12 by L147 , L112;
L150: [ R1 , C28 ] in R13 by L148 , L112;
L151: [ R1 , C28 ] in ( R12 /\ R13 ) by L150 , L149 , XBOOLE_0:def 4;
thus L152: thesis by L151 , L112;
end;
theorem
L153: (for R1 being set holds (for R12 being Relation holds (for R13 being Relation holds ( Im (( R12 \ R13 ) , R1) ) = ( ( Im (R12 , R1) ) \ ( Im (R13 , R1) ) ))))
proof
let R1 being set;
let R12 being Relation;
let R13 being Relation;
thus L154: ( Im (( R12 \ R13 ) , R1) ) c= ( ( Im (R12 , R1) ) \ ( Im (R13 , R1) ) )
proof
let R2 being set;
assume L155: R2 in ( Im (( R12 \ R13 ) , R1) );
L156: [ R1 , R2 ] in ( R12 \ R13 ) by L155 , L112;
L157: (not [ R1 , R2 ] in R13) by L156 , XBOOLE_0:def 5;
L158: R2 in ( Im (R12 , R1) ) by L156 , L112;
L159: (not R2 in ( Im (R13 , R1) )) by L157 , L112;
thus L160: thesis by L159 , L158 , XBOOLE_0:def 5;
end;

let R2 being set;
assume L161: R2 in ( ( Im (R12 , R1) ) \ ( Im (R13 , R1) ) );
L162: (not R2 in ( Im (R13 , R1) )) by L161 , XBOOLE_0:def 5;
L163: [ R1 , R2 ] in R12 by L161 , L112;
L164: (not [ R1 , R2 ] in R13) by L162 , L112;
L165: [ R1 , R2 ] in ( R12 \ R13 ) by L164 , L163 , XBOOLE_0:def 5;
thus L166: thesis by L165 , L112;
end;
theorem
L167: (for R3 being set holds (for R12 being Relation holds (for R13 being Relation holds ( ( R12 /\ R13 ) .: {_{ R3 }_} ) c= ( ( R12 .: {_{ R3 }_} ) /\ ( R13 .: {_{ R3 }_} ) ))))
proof
let R3 being set;
let R12 being Relation;
let R13 being Relation;
let R2 being set;
assume L168: R2 in ( ( R12 /\ R13 ) .: {_{ R3 }_} );
consider C29 being set such that L169: [ C29 , R2 ] in ( R12 /\ R13 ) and L170: C29 in {_{ R3 }_} by L168 , RELAT_1:def 13;
L171: [ C29 , R2 ] in R12 by L169 , XBOOLE_0:def 4;
L172: [ C29 , R2 ] in R13 by L169 , XBOOLE_0:def 4;
L173: R2 in ( R12 .: {_{ R3 }_} ) by L170 , L171 , RELAT_1:def 13;
L174: R2 in ( R13 .: {_{ R3 }_} ) by L170 , L172 , RELAT_1:def 13;
thus L175: thesis by L174 , L173 , XBOOLE_0:def 4;
end;
definition
let C30 , C31 being set;
let C32 being (Relation of C30 , C31);
let C33 being set;
redefine func Im (C32 , C33) -> (Subset of C31);

coherence
proof
L176: ( Im (C32 , C33) ) = ( C32 .: { C33 } );
thus L177: thesis by L176;
end;
redefine func Coim (C32 , C33) -> (Subset of C30);

coherence
proof
L178: ( Coim (C32 , C33) ) = ( C32 " { C33 } );
thus L179: thesis by L178;
end;
end;
theorem
L181: (for B12 being set holds (for B13 being (Subset-Family of B12) holds (for B14 being Relation holds ( B14 .: ( union B13 ) ) = ( union { ( B14 .: B15 ) where B15 is (Subset of B12) : B15 in B13 } ))))
proof
let C34 being set;
let C35 being (Subset-Family of C34);
let C36 being Relation;
thus L182: ( C36 .: ( union C35 ) ) c= ( union { ( C36 .: B16 ) where B16 is (Subset of C34) : B16 in C35 } )
proof
let C37 being set;
assume L183: C37 in ( C36 .: ( union C35 ) );
consider C38 being set such that L184: [ C38 , C37 ] in C36 and L185: C38 in ( union C35 ) by L183 , RELAT_1:def 13;
consider C39 being set such that L186: C38 in C39 and L187: C39 in C35 by L185 , TARSKI:def 4;
set D3 = ( C36 .: C39 );
L188: C37 in D3 by L184 , L186 , RELAT_1:def 13;
L189: D3 in { ( C36 .: B17 ) where B17 is (Subset of C34) : B17 in C35 } by L187;
thus L190: thesis by L189 , L188 , TARSKI:def 4;
end;

let C40 being set;
assume L191: C40 in ( union { ( C36 .: B18 ) where B18 is (Subset of C34) : B18 in C35 } );
consider C41 being set such that L192: C40 in C41 and L193: C41 in { ( C36 .: B19 ) where B19 is (Subset of C34) : B19 in C35 } by L191 , TARSKI:def 4;
consider C42 being (Subset of C34) such that L194: C41 = ( C36 .: C42 ) and L195: C42 in C35 by L193;
consider C43 being set such that L196: [ C43 , C40 ] in C36 and L197: C43 in C42 by L192 , L194 , RELAT_1:def 13;
L198: C43 in ( union C35 ) by L195 , L197 , TARSKI:def 4;
thus L199: thesis by L198 , L196 , RELAT_1:def 13;
end;
theorem
L200: (for B20 being non  empty set holds (for B21 being (Subset of B20) holds B21 = ( union { { B22 } where B22 is (Element of B20) : B22 in B21 } )))
proof
let C44 being non  empty set;
let C45 being (Subset of C44);
thus L201: C45 c= ( union { { B23 } where B23 is (Element of C44) : B23 in C45 } )
proof
let C46 being set;
assume L202: C46 in C45;
set D4 = { C46 };
L203: C46 in D4 by TARSKI:def 1;
L204: D4 in { { B24 } where B24 is (Element of C44) : B24 in C45 } by L202;
thus L205: thesis by L204 , L203 , TARSKI:def 4;
end;

let C47 being set;
assume L206: C47 in ( union { { B25 } where B25 is (Element of C44) : B25 in C45 } );
consider C48 being set such that L207: C47 in C48 and L208: C48 in { { B26 } where B26 is (Element of C44) : B26 in C45 } by L206 , TARSKI:def 4;
L209: (ex B27 being (Element of C44) st (C48 = { B27 } & B27 in C45)) by L208;
thus L210: thesis by L209 , L207 , TARSKI:def 1;
end;
theorem
L211: (for B28 being non  empty set holds (for B29 being (Subset of B28) holds { { B30 } where B30 is (Element of B28) : B30 in B29 } is (Subset-Family of B28)))
proof
let C49 being non  empty set;
let C50 being (Subset of C49);
L212: { { B31 } where B31 is (Element of C49) : B31 in C50 } c= ( bool C49 )
proof
let C51 being set;
assume L213: C51 in { { B32 } where B32 is (Element of C49) : B32 in C50 };
L214: (ex B33 being (Element of C49) st (C51 = { B33 } & B33 in C50)) by L213;
L215: C51 c= C49 by L214 , ZFMISC_1:31;
thus L216: thesis by L215;
end;
thus L217: thesis by L212;
end;
theorem
L218: (for B34 being non  empty set holds (for B35 being set holds (for B36 being (Subset of B34) holds (for B37 being (Relation of B34 , B35) holds ( B37 .: B36 ) = ( union { ( Class (B37 , B38) ) where B38 is (Element of B34) : B38 in B36 } )))))
proof
let C52 being non  empty set;
let C53 being set;
let C54 being (Subset of C52);
let C55 being (Relation of C52 , C53);
thus L219: ( C55 .: C54 ) c= ( union { ( Class (C55 , B39) ) where B39 is (Element of C52) : B39 in C54 } )
proof
let C56 being set;
assume L220: C56 in ( C55 .: C54 );
consider C57 being set such that L221: [ C57 , C56 ] in C55 and L222: C57 in C54 by L220 , RELAT_1:def 13;
L223: C57 in ( union { { B40 } where B40 is (Element of C52) : B40 in C54 } ) by L222 , L200;
consider C58 being set such that L224: C57 in C58 and L225: C58 in { { B41 } where B41 is (Element of C52) : B41 in C54 } by L223 , TARSKI:def 4;
consider C59 being (Element of C52) such that L226: C58 = { C59 } and L227: C59 in C54 by L225;
L228: C56 in ( C55 .: { C59 } ) by L221 , L224 , L226 , RELAT_1:def 13;
set D5 = ( C55 .: { C59 } );
L229: D5 = ( Class (C55 , C59) );
L230: D5 in { ( Class (C55 , B42) ) where B42 is (Element of C52) : B42 in C54 } by L229 , L227;
thus L231: thesis by L230 , L228 , TARSKI:def 4;
end;

let C60 being set;
assume L232: C60 in ( union { ( Class (C55 , B43) ) where B43 is (Element of C52) : B43 in C54 } );
consider C61 being set such that L233: C60 in C61 and L234: C61 in { ( Class (C55 , B44) ) where B44 is (Element of C52) : B44 in C54 } by L232 , TARSKI:def 4;
consider C62 being (Element of C52) such that L235: C61 = ( Class (C55 , C62) ) and L236: C62 in C54 by L234;
L237: C61 c= ( C55 .: C54 )
proof
let C63 being set;
assume L238: C63 in C61;
consider C64 being set such that L239: [ C64 , C63 ] in C55 and L240: C64 in { C62 } by L238 , L235 , RELAT_1:def 13;
L241: C64 = C62 by L240 , TARSKI:def 1;
thus L242: thesis by L241 , L236 , L239 , RELAT_1:def 13;
end;
thus L243: thesis by L237 , L233;
end;
theorem
L244: (for B45 being non  empty set holds (for B46 being set holds (for B47 being (Subset of B45) holds (for B48 being (Relation of B45 , B46) holds { ( B48 .: B49 ) where B49 is (Element of B45) : B49 in B47 } is (Subset-Family of B46)))))
proof
let C65 being non  empty set;
let C66 being set;
let C67 being (Subset of C65);
let C68 being (Relation of C65 , C66);
deffunc H1((Element of C65)) = ( C68 .: $1 );
defpred S1[ set ] means $1 in C67;
set D6 = { H1(B50) where B50 is (Element of C65) : S1[ B50 ] };
thus L245: D6 is (Subset-Family of C66) from DOMAIN_1:sch 8;
end;
definition
let C69 being set;
let C70 being Relation;
func .: (C70 , C69) -> Function means 
:L246: (( dom it ) = ( bool C69 ) & (for B51 being set holds (B51 c= C69 implies ( it . B51 ) = ( C70 .: B51 ))));
existence
proof
defpred S2[ set , set ] means (for R3 being set holds ($1 = R3 implies $2 = ( C70 .: R3 )));
L247: (for B52 being set holds (B52 in ( bool C69 ) implies (ex B53 being set st S2[ B52 , B53 ])))
proof
let C71 being set;
assume that
L248: C71 in ( bool C69 );
take ( C70 .: C71 );
thus L249: thesis;
end;
consider C72 being Function such that L250: ( dom C72 ) = ( bool C69 ) and L251: (for B54 being set holds (B54 in ( bool C69 ) implies S2[ B54 , ( C72 . B54 ) ])) from CLASSES1:sch 1(L247);
take C72;
thus L252: thesis by L250 , L251;
end;
uniqueness
proof
let C73 , C74 being Function;
assume that
L253: ( dom C73 ) = ( bool C69 )
and
L254: (for R3 being set holds (R3 c= C69 implies ( C73 . R3 ) = ( C70 .: R3 )))
and
L255: ( dom C74 ) = ( bool C69 )
and
L256: (for R3 being set holds (R3 c= C69 implies ( C74 . R3 ) = ( C70 .: R3 )));
L257: (for B55 being set holds (B55 in ( bool C69 ) implies ( C73 . B55 ) = ( C74 . B55 )))
proof
let C75 being set;
assume L258: C75 in ( bool C69 );
L259: ( C73 . C75 ) = ( C70 .: C75 ) by L258 , L254;
thus L260: thesis by L259 , L256 , L258;
end;
thus L261: thesis by L257 , L253 , L255 , FUNCT_1:2;
end;
end;
notation
let C76 , C77 being set;
let C78 being (Subset of [: C77 , C76 :]);
synonym .: C78 for .: (C78 , C77);
end;
theorem
L264: (for R3 being set holds (for B56 , B57 being set holds (for B58 being (Subset of [: B56 , B57 :]) holds (R3 in ( dom ( .: B58 ) ) implies ( ( .: B58 ) . R3 ) = ( B58 .: R3 )))))
proof
let R3 being set;
let C79 , C80 being set;
let C81 being (Subset of [: C79 , C80 :]);
assume L265: R3 in ( dom ( .: C81 ) );
L266: R3 in ( bool C79 ) by L265 , L246;
thus L267: thesis by L266 , L246;
end;
theorem
L268: (for B59 , B60 being set holds (for B61 being (Subset of [: B59 , B60 :]) holds ( rng ( .: B61 ) ) c= ( bool ( rng B61 ) )))
proof
let C82 , C83 being set;
let C84 being (Subset of [: C82 , C83 :]);
let C85 being set;
assume L269: C85 in ( rng ( .: C84 ) );
consider C86 being set such that L270: C86 in ( dom ( .: C84 ) ) and L271: C85 = ( ( .: C84 ) . C86 ) by L269 , FUNCT_1:def 3;
L272: C85 = ( C84 .: C86 ) by L270 , L271 , L264;
L273: C85 c= ( rng C84 ) by L272 , RELAT_1:111;
thus L274: thesis by L273;
end;
theorem
L275: (for B62 , B63 being set holds (for B64 being (Subset of [: B62 , B63 :]) holds ( .: B64 ) is (Function of ( bool B62 ) , ( bool ( rng B64 ) ))))
proof
let C87 , C88 being set;
let C89 being (Subset of [: C87 , C88 :]);
L276: ( dom ( .: C89 ) ) = ( bool C87 ) by L246;
L277: ( rng ( .: C89 ) ) c= ( bool ( rng C89 ) ) by L268;
thus L278: thesis by L277 , L276 , FUNCT_2:def 1 , RELSET_1:4;
end;
definition
let C90 , C91 being set;
let C92 being (Subset of [: C91 , C90 :]);
redefine func .: C92 -> (Function of ( bool C91 ) , ( bool C90 ));

correctness
proof
L279: ( dom ( .: C92 ) ) = ( bool C91 ) by L246;
L280: ( .: C92 ) is (Function of ( bool C91 ) , ( bool ( rng C92 ) )) by L275;
L281: ( rng ( .: C92 ) ) c= ( bool ( rng C92 ) ) by L280 , RELAT_1:def 19;
L282: ( bool ( rng C92 ) ) c= ( bool C90 ) by ZFMISC_1:67;
L283: ( rng ( .: C92 ) ) c= ( bool C90 ) by L282 , L281 , XBOOLE_1:1;
thus L284: thesis by L283 , L279 , FUNCT_2:def 1 , RELSET_1:4;
end;
end;
theorem
L286: (for B65 , B66 being set holds (for B67 being (Subset of [: B65 , B66 :]) holds ( union ( ( .: B67 ) .: B65 ) ) c= ( B67 .: ( union B65 ) )))
proof
let C93 , C94 being set;
let C95 being (Subset of [: C93 , C94 :]);
let C96 being set;
assume L287: C96 in ( union ( ( .: C95 ) .: C93 ) );
consider C97 being set such that L288: C96 in C97 and L289: C97 in ( ( .: C95 ) .: C93 ) by L287 , TARSKI:def 4;
consider C98 being set such that L290: C98 in ( dom ( .: C95 ) ) and L291: C98 in C93 and L292: C97 = ( ( .: C95 ) . C98 ) by L289 , FUNCT_1:def 6;
L293: C96 in ( C95 .: C98 ) by L288 , L290 , L292 , L264;
consider C99 being set such that L294: [ C99 , C96 ] in C95 and L295: C99 in C98 by L293 , RELAT_1:def 13;
L296: C99 in ( union C93 ) by L291 , L295 , TARSKI:def 4;
thus L297: thesis by L296 , L294 , RELAT_1:def 13;
end;
begin
definition
let C100 , C101 being set;
let C102 being (Subset of C100);
let C103 being (Subset of [: C100 , C101 :]);
func C103 .:^ C102 equals 
( Intersect ( ( .: C103 ) .: {_{ C102 }_} ) );
correctness;
end;
definition
let C104 , C105 being set;
let C106 being (Subset of C104);
let C107 being (Subset of [: C104 , C105 :]);
redefine func C107 .:^ C106 -> (Subset of C105);

coherence;
end;
theorem
L300: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds (( ( .: R18 ) .: {_{ R14 }_} ) = ( {} ) iff R14 = ( {} ))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
thus L301: (( ( .: R18 ) .: {_{ R14 }_} ) = ( {} ) implies R14 = ( {} ))
proof
assume L302: ( ( .: R18 ) .: {_{ R14 }_} ) = ( {} );
L303: ( dom ( .: R18 ) ) misses {_{ R14 }_} by L302 , RELAT_1:118;
L304: ( bool R5 ) misses {_{ R14 }_} by L303 , L246;
L305: {_{ R14 }_} c= ( bool R5 )
proof
let C108 being set;
assume L306: C108 in {_{ R14 }_};
consider C109 being set such that L307: C108 = { C109 } and L308: C109 in R14 by L306 , L2;
L309: C109 in R5 by L308;
L310: C108 c= R5
proof
let C110 being set;
assume L311: C110 in C108;
thus L312: thesis by L311 , L307 , L309 , TARSKI:def 1;
end;
thus L313: thesis by L310;
end;
L314: ( ( bool R5 ) /\ {_{ R14 }_} ) = {_{ R14 }_} by L305 , XBOOLE_1:28;
assume L315: R14 <> ( {} );
L316: {_{ R14 }_} <> ( {} ) by L315 , L17;
thus L317: thesis by L316 , L304 , L314 , XBOOLE_0:def 7;
end;

assume L318: R14 = ( {} );
L319: {_{ R14 }_} = ( {} ) by L318 , L17;
thus L320: thesis by L319;
end;
theorem
L321: (for R2 being set holds (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds (R2 in ( R18 .:^ R14 ) implies (for B68 being set holds (B68 in R14 implies R2 in ( Im (R18 , B68) )))))))))
proof
let R2 being set;
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
assume L322: R2 in ( R18 .:^ R14 );
per cases ;
suppose L323: ( ( .: R18 ) .: {_{ R14 }_} ) = ( {} );

thus L324: thesis by L323 , L300;
end;
suppose L325: ( ( .: R18 ) .: {_{ R14 }_} ) <> ( {} );

L326: R2 in ( meet ( ( .: R18 ) .: {_{ R14 }_} ) ) by L325 , L322 , SETFAM_1:def 9;
L327: (for B69 being set holds (B69 in R14 implies R2 in ( R18 .: { B69 } )))
proof
let C111 being set;
assume L328: C111 in R14;
L329: { C111 } in {_{ R14 }_} by L328 , L2;
L330: { C111 } c= R5
proof
let C112 being set;
assume L331: C112 in { C111 };
L332: C112 = C111 by L331 , TARSKI:def 1;
thus L333: thesis by L332 , L328;
end;
L334: ( ( .: R18 ) . { C111 } ) = ( R18 .: { C111 } ) by L330 , L246;
L335: ( dom ( .: R18 ) ) = ( bool R5 ) by L246;
L336: [ { C111 } , ( R18 .: { C111 } ) ] in ( .: R18 ) by L335 , L330 , L334 , FUNCT_1:1;
L337: ( R18 .: { C111 } ) in ( ( .: R18 ) .: {_{ R14 }_} ) by L336 , L329 , RELAT_1:def 13;
thus L338: thesis by L337 , L326 , SETFAM_1:def 1;
end;
thus L339: thesis by L327;
end;
end;
theorem
L341: (for B70 being non  empty set holds (for B71 being set holds (for B72 being (Subset of B71) holds (for B73 being (Element of B70) holds (for B74 being (Subset of [: B71 , B70 :]) holds (B73 in ( B74 .:^ B72 ) iff (for B75 being set holds (B75 in B72 implies B73 in ( Im (B74 , B75) )))))))))
proof
let C113 being non  empty set;
let C114 being set;
let C115 being (Subset of C114);
let C116 being (Element of C113);
let C117 being (Subset of [: C114 , C113 :]);
thus L342: (C116 in ( C117 .:^ C115 ) implies (for B76 being set holds (B76 in C115 implies C116 in ( Im (C117 , B76) )))) by L321;
assume L343: (for B77 being set holds (B77 in C115 implies C116 in ( Im (C117 , B77) )));
per cases ;
suppose L344: ( ( .: C117 ) .: {_{ C115 }_} ) = ( {} );

L345: ( Intersect ( ( .: C117 ) .: {_{ C115 }_} ) ) = C113 by L344 , SETFAM_1:def 9;
thus L346: thesis by L345;
end;
suppose L347: ( ( .: C117 ) .: {_{ C115 }_} ) <> ( {} );

L348: ( Intersect ( ( .: C117 ) .: {_{ C115 }_} ) ) = ( meet ( ( .: C117 ) .: {_{ C115 }_} ) ) by L347 , SETFAM_1:def 9;
L349: (for B78 being set holds (B78 in ( ( .: C117 ) .: {_{ C115 }_} ) implies C116 in B78))
proof
let C118 being set;
assume L350: C118 in ( ( .: C117 ) .: {_{ C115 }_} );
consider C119 being set such that L351: [ C119 , C118 ] in ( .: C117 ) and L352: C119 in {_{ C115 }_} by L350 , RELAT_1:def 13;
consider C120 being set such that L353: C119 = { C120 } and L354: C120 in C115 by L352 , L2;
L355: C119 in ( dom ( .: C117 ) ) by L351 , FUNCT_1:1;
L356: C118 = ( ( .: C117 ) . C119 ) by L351 , FUNCT_1:1;
L357: C118 = ( Im (C117 , C120) ) by L356 , L353 , L355 , L246;
thus L358: thesis by L357 , L343 , L354;
end;
thus L359: thesis by L349 , L347 , L348 , SETFAM_1:def 1;
end;
end;
theorem
L361: (for R5 being set holds (for R6 being set holds (for R15 being (Subset of R5) holds (for R16 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds (( ( .: R18 ) .: {_{ R15 }_} ) = ( {} ) implies ( R18 .:^ ( R15 \/ R16 ) ) = ( R18 .:^ R16 )))))))
proof
let R5 being set;
let R6 being set;
let R15 being (Subset of R5);
let R16 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
L362: {_{ ( R15 \/ R16 ) }_} = ( {_{ R15 }_} \/ {_{ R16 }_} ) by L29;
assume L363: ( ( .: R18 ) .: {_{ R15 }_} ) = ( {} );
L364: ( R18 .:^ ( R15 \/ R16 ) ) = ( Intersect ( ( ( .: R18 ) .: {_{ R15 }_} ) \/ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) by L362 , RELAT_1:120
.= ( R18 .:^ R16 ) by L363;
thus L365: thesis by L364;
end;
theorem
L366: (for R5 being set holds (for R6 being set holds (for R15 being (Subset of R5) holds (for R16 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds ( R18 .:^ ( R15 \/ R16 ) ) = ( ( R18 .:^ R15 ) /\ ( R18 .:^ R16 ) ))))))
proof
let R5 being set;
let R6 being set;
let R15 being (Subset of R5);
let R16 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
L367: ( R18 .:^ ( R15 \/ R16 ) ) = ( Intersect ( ( .: R18 ) .: ( {_{ R15 }_} \/ {_{ R16 }_} ) ) ) by L29
.= ( Intersect ( ( ( .: R18 ) .: {_{ R15 }_} ) \/ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) by RELAT_1:120
.= ( ( R18 .:^ R15 ) /\ ( R18 .:^ R16 ) ) by MSSUBFAM:8;
thus L368: thesis by L367;
end;
theorem
L369: (for B79 being non  empty set holds (for B80 being set holds (for B81 being (Subset-Family of B79) holds (for B82 being (Relation of B79 , B80) holds { ( B82 .:^ B83 ) where B83 is (Subset of B79) : B83 in B81 } is (Subset-Family of B80)))))
proof
let C121 being non  empty set;
let C122 being set;
let C123 being (Subset-Family of C121);
let C124 being (Relation of C121 , C122);
deffunc H2((Subset of C121)) = ( C124 .:^ $1 );
defpred S3[ set ] means $1 in C123;
set D7 = { H2(B84) where B84 is (Subset of C121) : S3[ B84 ] };
thus L370: D7 is (Subset-Family of C122) from DOMAIN_1:sch 8;
end;
theorem
L371: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds (R14 = ( {} ) implies ( R18 .:^ R14 ) = R6)))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
assume L372: R14 = ( {} );
L373: ( ( .: R18 ) .: {_{ R14 }_} ) = ( {} ) by L372 , L300;
thus L374: thesis by L373 , SETFAM_1:def 9;
end;
theorem
L375: (for B85 being set holds (for B86 being non  empty set holds (for B87 being (Relation of B85 , B86) holds (for B88 being (Subset-Family of B85) holds (for B89 being (Subset-Family of B86) holds (B89 = { ( B87 .:^ B90 ) where B90 is (Subset of B85) : B90 in B88 } implies ( B87 .:^ ( union B88 ) ) = ( Intersect B89 )))))))
proof
let C125 being set;
let C126 being non  empty set;
let C127 being (Relation of C125 , C126);
let C128 being (Subset-Family of C125);
let C129 being (Subset-Family of C126);
assume L376: C129 = { ( C127 .:^ B91 ) where B91 is (Subset of C125) : B91 in C128 };
per cases ;
suppose L377: ( union C128 ) = ( {} );

L378: ( C127 .:^ ( union C128 ) ) = C126 by L377 , L371;
per cases ;
suppose L379: C129 <> ( {} );

L380: C129 c= { C126 }
proof
let C130 being set;
assume L381: C130 in C129;
consider C131 being (Subset of C125) such that L382: C130 = ( C127 .:^ C131 ) and L383: C131 in C128 by L381 , L376;
L384: C131 = ( {} ) by L377 , L383 , ORDERS_1:6;
L385: ( ( .: C127 ) .: {_{ C131 }_} ) = ( {} ) by L384 , L300;
L386: ( Intersect ( ( .: C127 ) .: {_{ C131 }_} ) ) = C126 by L385 , SETFAM_1:def 9;
thus L387: thesis by L386 , L382 , TARSKI:def 1;
end;
L388: ( meet { C126 } ) c= ( meet C129 ) by L380 , L379 , SETFAM_1:6;
L389: C126 c= ( meet C129 ) by L388 , SETFAM_1:10;
L390: ( meet C129 ) = C126 by L389 , XBOOLE_0:def 10;
thus L391: thesis by L390 , L378 , SETFAM_1:def 9;
end;
suppose L392: C129 = ( {} );

thus L393: thesis by L392 , L378 , SETFAM_1:def 9;
end;
end;
suppose L395: ( union C128 ) <> ( {} );

consider C132 being set such that L396: C132 <> ( {} ) and L397: C132 in C128 by L395 , ORDERS_1:6;
reconsider D8 = C132 as (Subset of C125) by L397;
L398: C129 <> ( {} )
proof
assume L399: (not thesis);
L400: (not ( C127 .:^ D8 ) in C129) by L399;
thus L401: contradiction by L400 , L376 , L397;
end;
thus L402: ( C127 .:^ ( union C128 ) ) c= ( Intersect C129 )
proof
let C133 being set;
assume L403: C133 in ( C127 .:^ ( union C128 ) );
L404: (for B92 being set holds (B92 in C129 implies C133 in B92))
proof
let C134 being set;
assume L405: C134 in C129;
consider C135 being (Subset of C125) such that L406: C134 = ( C127 .:^ C135 ) and L407: C135 in C128 by L405 , L376;
reconsider D9 = C133 as (Element of C126) by L403;
L408: (for B93 being set holds (B93 in C135 implies D9 in ( Im (C127 , B93) )))
proof
let C136 being set;
assume L409: C136 in C135;
L410: C136 in ( union C128 ) by L409 , L407 , TARSKI:def 4;
thus L411: thesis by L410 , L403 , L321;
end;
thus L412: thesis by L408 , L406 , L341;
end;
L413: C133 in ( meet C129 ) by L404 , L398 , SETFAM_1:def 1;
thus L414: thesis by L413 , L398 , SETFAM_1:def 9;
end;

let C137 being set;
assume L415: C137 in ( Intersect C129 );
L416: C137 in ( meet C129 ) by L415 , L398 , SETFAM_1:def 9;
reconsider D10 = C137 as (Element of C126) by L415;
L417: (for B94 being set holds (B94 in ( union C128 ) implies D10 in ( Im (C127 , B94) )))
proof
let C138 being set;
assume L418: C138 in ( union C128 );
consider C139 being set such that L419: C138 in C139 and L420: C139 in C128 by L418 , TARSKI:def 4;
reconsider D11 = C139 as (Subset of C125) by L420;
set D12 = ( C127 .:^ D11 );
L421: D12 in C129 by L376 , L420;
L422: D10 in D12 by L421 , L416 , SETFAM_1:def 1;
thus L423: thesis by L422 , L419 , L321;
end;
thus L424: thesis by L417 , L341;
end;
end;
theorem
L426: (for R5 being set holds (for R6 being set holds (for R15 being (Subset of R5) holds (for R16 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds (R15 c= R16 implies ( R18 .:^ R16 ) c= ( R18 .:^ R15 )))))))
proof
let R5 being set;
let R6 being set;
let R15 being (Subset of R5);
let R16 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
assume L427: R15 c= R16;
L428: {_{ R15 }_} c= {_{ R16 }_} by L427 , L89;
let C140 being set;
assume L429: C140 in ( R18 .:^ R16 );
per cases ;
suppose L430: ( ( .: R18 ) .: {_{ R16 }_} ) = ( {} );

per cases ;
suppose L431: ( ( .: R18 ) .: {_{ R15 }_} ) = ( {} );

L432: ( Intersect ( ( .: R18 ) .: {_{ R15 }_} ) ) = R6 by L431 , SETFAM_1:def 9;
thus L433: thesis by L432 , L429;
end;
suppose L434: ( ( .: R18 ) .: {_{ R15 }_} ) <> ( {} );

L435: (for B95 being set holds (B95 in ( ( .: R18 ) .: {_{ R15 }_} ) implies C140 in B95))
proof
let C141 being set;
assume L436: C141 in ( ( .: R18 ) .: {_{ R15 }_} );
L437: (ex B96 being set st ([ B96 , C141 ] in ( .: R18 ) & B96 in {_{ R15 }_})) by L436 , RELAT_1:def 13;
thus L438: thesis by L437 , L428 , L430 , RELAT_1:def 13;
end;
L439: C140 in ( meet ( ( .: R18 ) .: {_{ R15 }_} ) ) by L435 , L434 , SETFAM_1:def 1;
thus L440: thesis by L439 , L434 , SETFAM_1:def 9;
end;
end;
suppose L442: ( ( .: R18 ) .: {_{ R16 }_} ) <> ( {} );

L443: C140 in ( meet ( ( .: R18 ) .: {_{ R16 }_} ) ) by L442 , L429 , SETFAM_1:def 9;
per cases ;
suppose L444: ( ( .: R18 ) .: {_{ R15 }_} ) = ( {} );

L445: ( Intersect ( ( .: R18 ) .: {_{ R15 }_} ) ) = R6 by L444 , SETFAM_1:def 9;
thus L446: thesis by L445 , L429;
end;
suppose L447: ( ( .: R18 ) .: {_{ R15 }_} ) <> ( {} );

L448: ( ( .: R18 ) .: {_{ R15 }_} ) c= ( ( .: R18 ) .: {_{ R16 }_} ) by L428 , RELAT_1:123;
L449: ( meet ( ( .: R18 ) .: {_{ R16 }_} ) ) c= ( meet ( ( .: R18 ) .: {_{ R15 }_} ) ) by L448 , L447 , SETFAM_1:6;
L450: C140 in ( meet ( ( .: R18 ) .: {_{ R15 }_} ) ) by L449 , L443;
thus L451: thesis by L450 , L447 , SETFAM_1:def 9;
end;
end;
end;
theorem
L454: (for R5 being set holds (for R6 being set holds (for R15 being (Subset of R5) holds (for R16 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds ( ( R18 .:^ R15 ) \/ ( R18 .:^ R16 ) ) c= ( R18 .:^ ( R15 /\ R16 ) ))))))
proof
let R5 being set;
let R6 being set;
let R15 being (Subset of R5);
let R16 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
let C142 being set;
assume L455: C142 in ( ( R18 .:^ R15 ) \/ ( R18 .:^ R16 ) );
L456: {_{ ( R15 /\ R16 ) }_} = ( {_{ R15 }_} /\ {_{ R16 }_} ) by L49;
L457: ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) c= ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) by L456 , RELAT_1:121;
per cases  by L455 , XBOOLE_0:def 3;
suppose L458: C142 in ( R18 .:^ R15 );

L459: C142 in ( Intersect ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) )
proof
per cases ;
suppose L460: ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) <> ( {} );

L461: {_{ ( R15 /\ R16 ) }_} = ( {_{ R15 }_} /\ {_{ R16 }_} ) by L49;
L462: ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) c= ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) by L461 , RELAT_1:121;
L463: ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) <> ( {} ) by L460 , L461 , RELAT_1:121 , XBOOLE_1:3;
L464: ( ( .: R18 ) .: {_{ R15 }_} ) <> ( {} ) by L460 , L462;
L465: C142 in ( meet ( ( .: R18 ) .: {_{ R15 }_} ) ) by L464 , L458 , SETFAM_1:def 9;
L466: (for B97 being set holds (B97 in ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) implies C142 in B97))
proof
let C143 being set;
assume L467: C143 in ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) );
L468: C143 in ( ( .: R18 ) .: {_{ R15 }_} ) by L467 , XBOOLE_0:def 4;
thus L469: thesis by L468 , L465 , SETFAM_1:def 1;
end;
L470: C142 in ( meet ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) by L466 , L463 , SETFAM_1:def 1;
L471: C142 in ( Intersect ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) by L470 , L463 , SETFAM_1:def 9;
L472: ( Intersect ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) c= ( Intersect ( ( .: R18 ) .: ( {_{ R15 }_} /\ {_{ R16 }_} ) ) ) by RELAT_1:121 , SETFAM_1:44;
thus L473: thesis by L472 , L456 , L471;
end;
suppose L474: ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) = ( {} );

L475: ( Intersect ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) ) = R6 by L474 , SETFAM_1:def 9;
thus L476: thesis by L475 , L458;
end;
end;
thus L478: thesis by L459;
end;
suppose L479: C142 in ( R18 .:^ R16 );

L480: C142 in ( Intersect ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) )
proof
per cases ;
suppose L481: ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) <> ( {} );

L482: ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) <> ( {} ) by L481 , L456 , RELAT_1:121 , XBOOLE_1:3;
L483: ( ( .: R18 ) .: {_{ R16 }_} ) <> ( {} ) by L457 , L481;
L484: C142 in ( meet ( ( .: R18 ) .: {_{ R16 }_} ) ) by L483 , L479 , SETFAM_1:def 9;
L485: (for B98 being set holds (B98 in ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) implies C142 in B98))
proof
let C144 being set;
assume L486: C144 in ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) );
L487: C144 in ( ( .: R18 ) .: {_{ R16 }_} ) by L486 , XBOOLE_0:def 4;
thus L488: thesis by L487 , L484 , SETFAM_1:def 1;
end;
L489: C142 in ( meet ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) by L485 , L482 , SETFAM_1:def 1;
L490: C142 in ( Intersect ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) by L489 , L482 , SETFAM_1:def 9;
L491: {_{ ( R15 /\ R16 ) }_} = ( {_{ R15 }_} /\ {_{ R16 }_} ) by L49;
L492: ( Intersect ( ( ( .: R18 ) .: {_{ R15 }_} ) /\ ( ( .: R18 ) .: {_{ R16 }_} ) ) ) c= ( Intersect ( ( .: R18 ) .: ( {_{ R15 }_} /\ {_{ R16 }_} ) ) ) by RELAT_1:121 , SETFAM_1:44;
thus L493: thesis by L492 , L490 , L491;
end;
suppose L494: ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) = ( {} );

L495: ( Intersect ( ( .: R18 ) .: {_{ ( R15 /\ R16 ) }_} ) ) = R6 by L494 , SETFAM_1:def 9;
thus L496: thesis by L495 , L479;
end;
end;
thus L498: thesis by L480;
end;
end;
theorem
L500: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R19 being (Subset of [: R5 , R6 :]) holds (for R20 being (Subset of [: R5 , R6 :]) holds ( ( R19 /\ R20 ) .:^ R14 ) = ( ( R19 .:^ R14 ) /\ ( R20 .:^ R14 ) ))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R19 being (Subset of [: R5 , R6 :]);
let R20 being (Subset of [: R5 , R6 :]);
thus L501: ( ( R19 /\ R20 ) .:^ R14 ) c= ( ( R19 .:^ R14 ) /\ ( R20 .:^ R14 ) )
proof
let C145 being set;
assume L502: C145 in ( ( R19 /\ R20 ) .:^ R14 );
reconsider D13 = R6 as non  empty set by L502;
reconsider D14 = C145 as (Element of D13) by L502;
L503: (for B99 being set holds (B99 in R14 implies D14 in ( Im (R19 , B99) )))
proof
let C146 being set;
assume L504: C146 in R14;
L505: D14 in ( Im (( R19 /\ R20 ) , C146) ) by L504 , L502 , L321;
L506: D14 in ( ( Im (R19 , C146) ) /\ ( Im (R20 , C146) ) ) by L505 , L137;
thus L507: thesis by L506 , XBOOLE_0:def 4;
end;
L508: D14 in ( R19 .:^ R14 ) by L503 , L341;
L509: (for B100 being set holds (B100 in R14 implies D14 in ( Im (R20 , B100) )))
proof
let C147 being set;
assume L510: C147 in R14;
L511: D14 in ( Im (( R19 /\ R20 ) , C147) ) by L510 , L502 , L321;
L512: D14 in ( ( Im (R19 , C147) ) /\ ( Im (R20 , C147) ) ) by L511 , L137;
thus L513: thesis by L512 , XBOOLE_0:def 4;
end;
L514: D14 in ( R20 .:^ R14 ) by L509 , L341;
thus L515: thesis by L514 , L508 , XBOOLE_0:def 4;
end;

let C148 being set;
assume L516: C148 in ( ( R19 .:^ R14 ) /\ ( R20 .:^ R14 ) );
L517: C148 in ( R19 .:^ R14 ) by L516 , XBOOLE_0:def 4;
L518: C148 in ( R20 .:^ R14 ) by L516 , XBOOLE_0:def 4;
reconsider D15 = R6 as non  empty set by L516;
reconsider D16 = C148 as (Element of D15) by L516;
L519: (for B101 being set holds (B101 in R14 implies D16 in ( Im (( R19 /\ R20 ) , B101) )))
proof
let C149 being set;
assume L520: C149 in R14;
L521: D16 in ( Im (R19 , C149) ) by L520 , L517 , L341;
L522: D16 in ( Im (R20 , C149) ) by L518 , L520 , L341;
L523: D16 in ( ( Im (R19 , C149) ) /\ ( Im (R20 , C149) ) ) by L522 , L521 , XBOOLE_0:def 4;
thus L524: thesis by L523 , L137;
end;
thus L525: thesis by L519 , L341;
end;
theorem
L526: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R21 being (Subset-Family of [: R5 , R6 :]) holds ( ( union R21 ) .: R14 ) = ( union { ( B102 .: R14 ) where B102 is (Subset of [: R5 , R6 :]) : B102 in R21 } )))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R21 being (Subset-Family of [: R5 , R6 :]);
thus L527: ( ( union R21 ) .: R14 ) c= ( union { ( B103 .: R14 ) where B103 is (Subset of [: R5 , R6 :]) : B103 in R21 } )
proof
let C150 being set;
assume L528: C150 in ( ( union R21 ) .: R14 );
consider C151 being set such that L529: [ C151 , C150 ] in ( union R21 ) and L530: C151 in R14 by L528 , RELAT_1:def 13;
consider C152 being set such that L531: [ C151 , C150 ] in C152 and L532: C152 in R21 by L529 , TARSKI:def 4;
reconsider D17 = C152 as (Subset of [: R5 , R6 :]) by L532;
L533: (ex B104 being set st (C150 in B104 & B104 in { ( B105 .: R14 ) where B105 is (Subset of [: R5 , R6 :]) : B105 in R21 }))
proof
set D18 = ( D17 .: R14 );
L534: C150 in D18 by L530 , L531 , RELAT_1:def 13;
L535: D18 in { ( B106 .: R14 ) where B106 is (Subset of [: R5 , R6 :]) : B106 in R21 } by L532;
thus L536: thesis by L535 , L534;
end;
thus L537: thesis by L533 , TARSKI:def 4;
end;

let C153 being set;
assume L538: C153 in ( union { ( B107 .: R14 ) where B107 is (Subset of [: R5 , R6 :]) : B107 in R21 } );
consider C154 being set such that L539: C153 in C154 and L540: C154 in { ( B108 .: R14 ) where B108 is (Subset of [: R5 , R6 :]) : B108 in R21 } by L538 , TARSKI:def 4;
consider C155 being (Subset of [: R5 , R6 :]) such that L541: C154 = ( C155 .: R14 ) and L542: C155 in R21 by L540;
consider C156 being set such that L543: [ C156 , C153 ] in C155 and L544: C156 in R14 by L539 , L541 , RELAT_1:def 13;
L545: (ex B109 being set st (B109 in R14 & [ B109 , C153 ] in ( union R21 )))
proof
take C156;
thus L546: thesis by L542 , L543 , L544 , TARSKI:def 4;
end;
thus L547: thesis by L545 , RELAT_1:def 13;
end;
theorem
L548: (for R5 being set holds (for R6 being set holds (for B110 being (Subset-Family of [: R5 , R6 :]) holds (for B111 , B112 being set holds (for B113 being (Subset of B111) holds { ( B114 .:^ B113 ) where B114 is (Subset of [: B111 , B112 :]) : B114 in B110 } is (Subset-Family of B112))))))
proof
let R5 being set;
let R6 being set;
let C157 being (Subset-Family of [: R5 , R6 :]);
let C158 , C159 being set;
let C160 being (Subset of C158);
deffunc H3((Subset of [: C158 , C159 :])) = ( $1 .:^ C160 );
defpred S4[ set ] means $1 in C157;
set D19 = { H3(B115) where B115 is (Subset of [: C158 , C159 :]) : S4[ B115 ] };
thus L549: D19 is (Subset-Family of C159) from DOMAIN_1:sch 8;
end;
theorem
L550: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds ((R18 = ( {} ) & R14 <> ( {} )) implies ( R18 .:^ R14 ) = ( {} ))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
assume that
L551: R18 = ( {} )
and
L552: R14 <> ( {} );
L553: ( R18 .:^ R14 ) c= ( {} )
proof
let C161 being set;
assume L554: C161 in ( R18 .:^ R14 );
consider C162 being set such that L555: C162 in R14 by L552 , XBOOLE_0:def 1;
L556: C161 in ( Im (R18 , C162) ) by L554 , L555 , L321;
thus L557: thesis by L556 , L551;
end;
thus L558: thesis by L553;
end;
theorem
L559: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds (R18 = [: R5 , R6 :] implies ( R18 .:^ R14 ) = R6)))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
assume L560: R18 = [: R5 , R6 :];
thus L561: ( R18 .:^ R14 ) c= R6;
thus L562: R6 c= ( R18 .:^ R14 )
proof
let C163 being set;
assume L563: C163 in R6;
reconsider D20 = R6 as non  empty set by L563;
reconsider D21 = C163 as (Element of D20) by L563;
L564: (for B116 being set holds (B116 in R14 implies D21 in ( Im (R18 , B116) )))
proof
let C164 being set;
assume L565: C164 in R14;
L566: [ C164 , D21 ] in R18 by L565 , L560 , ZFMISC_1:87;
thus L567: thesis by L566 , L112;
end;
thus L568: thesis by L564 , L341;
end;

end;
theorem
L563: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R21 being (Subset-Family of [: R5 , R6 :]) holds (for B117 being (Subset-Family of R6) holds (B117 = { ( B118 .:^ R14 ) where B118 is (Subset of [: R5 , R6 :]) : B118 in R21 } implies ( ( Intersect R21 ) .:^ R14 ) = ( Intersect B117 )))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R21 being (Subset-Family of [: R5 , R6 :]);
let C165 being (Subset-Family of R6);
assume L564: C165 = { ( B119 .:^ R14 ) where B119 is (Subset of [: R5 , R6 :]) : B119 in R21 };
L565: (for B120 being set holds (C165 = { B120 } implies ( Intersect C165 ) = B120))
proof
let C166 being set;
assume L566: C165 = { C166 };
L567: ( Intersect C165 ) = ( meet { C166 } ) by L566 , SETFAM_1:def 9;
thus L568: thesis by L567 , SETFAM_1:10;
end;
per cases ;
suppose L569: R14 = ( {} );

L570: ( ( Intersect R21 ) .:^ R14 ) = R6 by L569 , L371;
L571: C165 c= { R6 }
proof
let C167 being set;
assume L572: C167 in C165;
L573: (ex B121 being (Subset of [: R5 , R6 :]) st (C167 = ( B121 .:^ R14 ) & B121 in R21)) by L572 , L564;
L574: C167 = R6 by L573 , L569 , L371;
thus L575: thesis by L574 , TARSKI:def 1;
end;
L576: (C165 = ( {} ) or C165 = { R6 }) by L571 , ZFMISC_1:33;
thus L577: thesis by L576 , L565 , L570 , SETFAM_1:def 9;
end;
suppose L578: R14 <> ( {} );

per cases ;
suppose L579: R21 = ( {} );

L580: ( Intersect R21 ) = [: R5 , R6 :] by L579 , SETFAM_1:def 9;
L581: ( ( Intersect R21 ) .:^ R14 ) = R6 by L580 , L559;
L582: C165 c= { R6 }
proof
let C168 being set;
assume L583: C168 in C165;
L584: (ex B122 being (Subset of [: R5 , R6 :]) st (C168 = ( B122 .:^ R14 ) & B122 in R21)) by L583 , L564;
thus L585: thesis by L584 , L579;
end;
L586: (C165 = ( {} ) or C165 = { R6 }) by L582 , ZFMISC_1:33;
thus L587: thesis by L586 , L565 , L581 , SETFAM_1:def 9;
end;
suppose L588: R21 <> ( {} );

per cases ;
suppose L589: R6 = ( {} );

L590: [: R5 , R6 :] = ( {} ) by L589 , ZFMISC_1:90;
L591: (R21 = ( {} ) or R21 = { ( {} ) }) by L590 , ZFMISC_1:1 , ZFMISC_1:33;
L592: ( Intersect R21 ) = ( meet { ( {} ) } ) by L591 , L588 , SETFAM_1:def 9;
L593: ( ( Intersect R21 ) .:^ R14 ) = ( {} ) by L592 , L578 , L550 , SETFAM_1:10;
thus L594: thesis by L593 , L589;
end;
suppose L595: R6 <> ( {} );

reconsider D22 = R6 as non  empty set by L595;
thus L596: ( ( Intersect R21 ) .:^ R14 ) c= ( Intersect C165 )
proof
let C169 being set;
assume L597: C169 in ( ( Intersect R21 ) .:^ R14 );
L598: C169 in D22 by L597;
reconsider D23 = C169 as (Element of D22) by L597;
L599: (C165 <> ( {} ) implies D23 in ( Intersect C165 ))
proof
assume L600: C165 <> ( {} );
L601: ( Intersect C165 ) = ( meet C165 ) by L600 , SETFAM_1:def 9;
L602: (for B123 being set holds (B123 in C165 implies D23 in B123))
proof
let C170 being set;
assume L603: C170 in C165;
consider C171 being (Subset of [: R5 , D22 :]) such that L604: C170 = ( C171 .:^ R14 ) and L605: C171 in R21 by L603 , L564;
L606: (for B124 being set holds (B124 in R14 implies D23 in ( Im (C171 , B124) )))
proof
let C172 being set;
assume L607: C172 in R14;
L608: D23 in ( Im (( Intersect R21 ) , C172) ) by L607 , L597 , L321;
L609: [ C172 , D23 ] in ( Intersect R21 ) by L608 , L112;
L610: [ C172 , D23 ] in ( meet R21 ) by L609 , L588 , SETFAM_1:def 9;
L611: [ C172 , D23 ] in C171 by L610 , L605 , SETFAM_1:def 1;
thus L612: thesis by L611 , L112;
end;
thus L613: thesis by L606 , L604 , L341;
end;
thus L614: thesis by L602 , L600 , L601 , SETFAM_1:def 1;
end;
thus L615: thesis by L599 , L598 , SETFAM_1:def 9;
end;

let C173 being set;
assume L616: C173 in ( Intersect C165 );
reconsider D24 = C173 as (Element of D22) by L616;
consider C174 being (Subset of [: R5 , D22 :]) such that L617: C174 in R21 by L588 , SUBSET_1:4;
L618: ( C174 .:^ R14 ) in C165 by L564 , L617;
L619: D24 in ( meet C165 ) by L618 , L616 , SETFAM_1:def 9;
L620: (for B125 being set holds (B125 in R14 implies D24 in ( Im (( Intersect R21 ) , B125) )))
proof
let C175 being set;
assume that
L621: C175 in R14;
L622: (for B126 being set holds (B126 in R21 implies [ C175 , D24 ] in B126))
proof
let C176 being set;
assume L623: C176 in R21;
reconsider D25 = C176 as (Subset of [: R5 , D22 :]) by L623;
set D26 = ( D25 .:^ R14 );
L624: D26 in C165 by L564 , L623;
L625: D24 in ( D25 .:^ R14 ) by L624 , L619 , SETFAM_1:def 1;
L626: D24 in ( Im (D25 , C175) ) by L625 , L621 , L321;
thus L627: thesis by L626 , L112;
end;
L628: [ C175 , D24 ] in ( meet R21 ) by L622 , L588 , SETFAM_1:def 1;
L629: [ C175 , D24 ] in ( Intersect R21 ) by L628 , L588 , SETFAM_1:def 9;
thus L630: thesis by L629 , L112;
end;
thus L631: thesis by L620 , L341;
end;
end;
end;
end;
theorem
L635: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R19 being (Subset of [: R5 , R6 :]) holds (for R20 being (Subset of [: R5 , R6 :]) holds (R19 c= R20 implies ( R19 .:^ R14 ) c= ( R20 .:^ R14 )))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R19 being (Subset of [: R5 , R6 :]);
let R20 being (Subset of [: R5 , R6 :]);
assume L636: R19 c= R20;
let C177 being set;
assume L637: C177 in ( R19 .:^ R14 );
reconsider D27 = R6 as non  empty set by L637;
reconsider D28 = C177 as (Element of D27) by L637;
L638: (for B127 being set holds (B127 in R14 implies D28 in ( Im (R20 , B127) )))
proof
let C178 being set;
assume L639: C178 in R14;
L640: D28 in ( Im (R19 , C178) ) by L639 , L637 , L341;
L641: [ C178 , D28 ] in R19 by L640 , L112;
thus L642: thesis by L641 , L636 , L112;
end;
thus L643: thesis by L638 , L341;
end;
theorem
L644: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R19 being (Subset of [: R5 , R6 :]) holds (for R20 being (Subset of [: R5 , R6 :]) holds ( ( R19 .:^ R14 ) \/ ( R20 .:^ R14 ) ) c= ( ( R19 \/ R20 ) .:^ R14 ))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R19 being (Subset of [: R5 , R6 :]);
let R20 being (Subset of [: R5 , R6 :]);
let C179 being set;
assume L645: C179 in ( ( R19 .:^ R14 ) \/ ( R20 .:^ R14 ) );
per cases  by L645 , XBOOLE_0:def 3;
suppose L646: C179 in ( R19 .:^ R14 );

reconsider D29 = R6 as non  empty set by L646;
reconsider D30 = C179 as (Element of D29) by L646;
L647: (for B128 being set holds (B128 in R14 implies D30 in ( Im (( R19 \/ R20 ) , B128) )))
proof
let C180 being set;
assume L648: C180 in R14;
L649: D30 in ( Im (R19 , C180) ) by L648 , L646 , L341;
L650: D30 in ( ( Im (R19 , C180) ) \/ ( Im (R20 , C180) ) ) by L649 , XBOOLE_0:def 3;
thus L651: thesis by L650 , L120;
end;
thus L652: thesis by L647 , L341;
end;
suppose L653: C179 in ( R20 .:^ R14 );

reconsider D31 = R6 as non  empty set by L653;
reconsider D32 = C179 as (Element of D31) by L653;
L654: (for B129 being set holds (B129 in R14 implies D32 in ( Im (( R19 \/ R20 ) , B129) )))
proof
let C181 being set;
assume L655: C181 in R14;
L656: D32 in ( Im (R20 , C181) ) by L655 , L653 , L341;
L657: D32 in ( ( Im (R19 , C181) ) \/ ( Im (R20 , C181) ) ) by L656 , XBOOLE_0:def 3;
thus L658: thesis by L657 , L120;
end;
thus L659: thesis by L654 , L341;
end;
end;
theorem
L661: (for R1 being set holds (for R2 being set holds (for R5 being set holds (for R6 being set holds (for R18 being (Subset of [: R5 , R6 :]) holds (R2 in ( Im (( R18 ` ) , R1) ) iff ((not [ R1 , R2 ] in R18) & R1 in R5 & R2 in R6)))))))
proof
let R1 being set;
let R2 being set;
let R5 being set;
let R6 being set;
let R18 being (Subset of [: R5 , R6 :]);
thus L662: (R2 in ( Im (( R18 ` ) , R1) ) implies ((not [ R1 , R2 ] in R18) & R1 in R5 & R2 in R6))
proof
assume L663: R2 in ( Im (( R18 ` ) , R1) );
L664: (ex B130 being set st ([ B130 , R2 ] in ( R18 ` ) & B130 in { R1 })) by L663 , RELAT_1:def 13;
L665: [ R1 , R2 ] in ( [: R5 , R6 :] \ R18 ) by L664 , TARSKI:def 1;
thus L666: thesis by L665 , XBOOLE_0:def 5 , ZFMISC_1:87;
end;

assume that
L667: (not [ R1 , R2 ] in R18)
and
L668: R1 in R5
and
L669: R2 in R6;
L670: R1 in { R1 } by TARSKI:def 1;
L671: [ R1 , R2 ] in [: R5 , R6 :] by L668 , L669 , ZFMISC_1:87;
L672: [ R1 , R2 ] in ( [: R5 , R6 :] \ R18 ) by L671 , L667 , XBOOLE_0:def 5;
thus L673: thesis by L672 , L670 , RELAT_1:def 13;
end;
theorem
L674: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds (R14 <> ( {} ) implies ( R18 .:^ R14 ) c= ( R18 .: R14 ))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
assume L675: R14 <> ( {} );
let C182 being set;
assume L676: C182 in ( R18 .:^ R14 );
consider C183 being set such that L677: C183 in R14 by L675 , XBOOLE_0:def 1;
L678: C182 in ( Im (R18 , C183) ) by L676 , L677 , L321;
L679: [ C183 , C182 ] in R18 by L678 , L112;
thus L680: thesis by L679 , L677 , RELAT_1:def 13;
end;
theorem
L681: (for R5 being set holds (for R6 being set holds (for R18 being (Subset of [: R5 , R6 :]) holds (for B131 , B132 being set holds (B131 meets ( ( R18 ~ ) .: B132 ) iff (ex B133 , B134 being set st (B133 in B131 & B134 in B132 & B133 in ( Im (( R18 ~ ) , B134) ))))))))
proof
let R5 being set;
let R6 being set;
let R18 being (Subset of [: R5 , R6 :]);
let C184 , C185 being set;
thus L682:now
assume L683: C184 meets ( ( R18 ~ ) .: C185 );
consider C186 being set such that L684: C186 in C184 and L685: C186 in ( ( R18 ~ ) .: C185 ) by L683 , XBOOLE_0:3;
consider C187 being set such that L686: [ C187 , C186 ] in ( R18 ~ ) and L687: C187 in C185 by L685 , RELAT_1:def 13;
L688: C187 in { C187 } by TARSKI:def 1;
take D33 = C186;
take D34 = C187;
thus L689: D33 in C184 by L684;
thus L690: D34 in C185 by L687;
thus L691: D33 in ( Im (( R18 ~ ) , D34) ) by L686 , L688 , RELAT_1:def 13;
end;
given C188 , C189 being set such that
L692: C188 in C184
and
L693: C189 in C185
and
L694: C188 in ( Im (( R18 ~ ) , C189) );

L695: (ex B135 being set st ([ B135 , C188 ] in ( R18 ~ ) & B135 in { C189 })) by L694 , RELAT_1:def 13;
L696: [ C189 , C188 ] in ( R18 ~ ) by L695 , TARSKI:def 1;
L697: C188 in ( ( R18 ~ ) .: C185 ) by L696 , L693 , RELAT_1:def 13;
thus L698: thesis by L697 , L692 , XBOOLE_0:3;
end;
theorem
L699: (for R5 being set holds (for R6 being set holds (for R18 being (Subset of [: R5 , R6 :]) holds (for B136 , B137 being set holds ((ex B138 , B139 being set st (B138 in B136 & B139 in B137 & B138 in ( Im (( R18 ~ ) , B139) ))) iff B137 meets ( R18 .: B136 ))))))
proof
let R5 being set;
let R6 being set;
let R18 being (Subset of [: R5 , R6 :]);
let C190 , C191 being set;
thus L700: ((ex B140 , B141 being set st (B140 in C190 & B141 in C191 & B140 in ( Im (( R18 ~ ) , B141) ))) implies C191 meets ( R18 .: C190 ))
proof
given C192 , C193 being set such that
L701: C192 in C190
and
L702: C193 in C191
and
L703: C192 in ( Im (( R18 ~ ) , C193) );

consider C194 being set such that L704: [ C194 , C192 ] in ( R18 ~ ) and L705: C194 in { C193 } by L703 , RELAT_1:def 13;
L706: C194 = C193 by L705 , TARSKI:def 1;
L707: [ C192 , C193 ] in R18 by L706 , L704 , RELAT_1:def 7;
L708: C193 in ( R18 .: C190 ) by L707 , L701 , RELAT_1:def 13;
thus L709: thesis by L708 , L702 , XBOOLE_0:3;
end;

assume L710: C191 meets ( R18 .: C190 );
consider C195 being set such that L711: C195 in C191 and L712: C195 in ( R18 .: C190 ) by L710 , XBOOLE_0:3;
consider C196 being set such that L713: [ C196 , C195 ] in R18 and L714: C196 in C190 by L712 , RELAT_1:def 13;
L715: [ C195 , C196 ] in ( R18 ~ ) by L713 , RELAT_1:def 7;
L716: C195 in { C195 } by TARSKI:def 1;
take C196;
take C195;
thus L717: C196 in C190 by L714;
thus L718: C195 in C191 by L711;
thus L719: thesis by L715 , L716 , RELAT_1:def 13;
end;
theorem
L720: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R17 being (Subset of R6) holds (for R18 being (Subset of [: R5 , R6 :]) holds (R14 misses ( ( R18 ~ ) .: R17 ) iff R17 misses ( R18 .: R14 )))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R17 being (Subset of R6);
let R18 being (Subset of [: R5 , R6 :]);
L721: (R14 meets ( ( R18 ~ ) .: R17 ) iff (ex B142 , B143 being set st (B142 in R14 & B143 in R17 & B142 in ( Im (( R18 ~ ) , B143) )))) by L681;
thus L722: thesis by L721 , L699;
end;
theorem
L723: (for R5 being set holds (for R6 being set holds (for R18 being (Subset of [: R5 , R6 :]) holds (for B144 being set holds ( R18 .: B144 ) = ( R18 .: ( B144 /\ ( proj1 R18 ) ) )))))
proof
let R5 being set;
let R6 being set;
let R18 being (Subset of [: R5 , R6 :]);
let C197 being set;
thus L724: ( R18 .: C197 ) c= ( R18 .: ( C197 /\ ( proj1 R18 ) ) )
proof
let C198 being set;
assume L725: C198 in ( R18 .: C197 );
consider C199 being set such that L726: [ C199 , C198 ] in R18 and L727: C199 in C197 by L725 , RELAT_1:def 13;
L728: C199 in ( proj1 R18 ) by L726 , XTUPLE_0:def 12;
L729: C199 in ( C197 /\ ( proj1 R18 ) ) by L728 , L727 , XBOOLE_0:def 4;
thus L730: thesis by L729 , L726 , RELAT_1:def 13;
end;

let C200 being set;
assume L731: C200 in ( R18 .: ( C197 /\ ( proj1 R18 ) ) );
consider C201 being set such that L732: [ C201 , C200 ] in R18 and L733: C201 in ( C197 /\ ( proj1 R18 ) ) by L731 , RELAT_1:def 13;
L734: C201 in C197 by L733 , XBOOLE_0:def 4;
thus L735: thesis by L734 , L732 , RELAT_1:def 13;
end;
theorem
L736: (for R5 being set holds (for R6 being set holds (for R18 being (Subset of [: R5 , R6 :]) holds (for B145 being set holds ( ( R18 ~ ) .: B145 ) = ( ( R18 ~ ) .: ( B145 /\ ( proj2 R18 ) ) )))))
proof
let R5 being set;
let R6 being set;
let R18 being (Subset of [: R5 , R6 :]);
let C202 being set;
thus L737: ( ( R18 ~ ) .: C202 ) c= ( ( R18 ~ ) .: ( C202 /\ ( proj2 R18 ) ) )
proof
let C203 being set;
assume L738: C203 in ( ( R18 ~ ) .: C202 );
consider C204 being set such that L739: [ C204 , C203 ] in ( R18 ~ ) and L740: C204 in C202 by L738 , RELAT_1:def 13;
L741: [ C203 , C204 ] in R18 by L739 , RELAT_1:def 7;
L742: C204 in ( proj2 R18 ) by L741 , XTUPLE_0:def 13;
L743: C204 in ( C202 /\ ( proj2 R18 ) ) by L742 , L740 , XBOOLE_0:def 4;
thus L744: thesis by L743 , L739 , RELAT_1:def 13;
end;

let C205 being set;
assume L745: C205 in ( ( R18 ~ ) .: ( C202 /\ ( proj2 R18 ) ) );
consider C206 being set such that L746: [ C206 , C205 ] in ( R18 ~ ) and L747: C206 in ( C202 /\ ( proj2 R18 ) ) by L745 , RELAT_1:def 13;
L748: C206 in C202 by L747 , XBOOLE_0:def 4;
thus L749: thesis by L748 , L746 , RELAT_1:def 13;
end;
theorem
L750: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R18 being (Subset of [: R5 , R6 :]) holds ( ( R18 .:^ R14 ) ` ) = ( ( R18 ` ) .: R14 )))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R18 being (Subset of [: R5 , R6 :]);
thus L751: ( ( R18 .:^ R14 ) ` ) c= ( ( R18 ` ) .: R14 )
proof
let C207 being set;
assume L752: C207 in ( ( R18 .:^ R14 ) ` );
L753: (not C207 in ( R18 .:^ R14 )) by L752 , XBOOLE_0:def 5;
consider C208 being set such that L754: C208 in R14 and L755: (not C207 in ( Im (R18 , C208) )) by L753 , L752 , L341;
L756: (not [ C208 , C207 ] in R18) by L755 , L112;
L757: [ C208 , C207 ] in [: R5 , R6 :] by L752 , L754 , ZFMISC_1:87;
L758: [ C208 , C207 ] in ( [: R5 , R6 :] \ R18 ) by L757 , L756 , XBOOLE_0:def 5;
thus L759: thesis by L758 , L754 , RELAT_1:def 13;
end;

let C209 being set;
assume L760: C209 in ( ( R18 ` ) .: R14 );
consider C210 being set such that L761: [ C210 , C209 ] in ( R18 ` ) and L762: C210 in R14 by L760 , RELAT_1:def 13;
L763: (not [ C210 , C209 ] in R18) by L761 , XBOOLE_0:def 5;
assume L764: (not thesis);
L765: ((not C209 in R6) or C209 in ( R18 .:^ R14 )) by L764 , XBOOLE_0:def 5;
L766: (C209 in ( R18 .:^ R14 ) implies (for B146 being set holds (B146 in R14 implies [ B146 , C209 ] in R18)))
proof
assume L767: C209 in ( R18 .:^ R14 );
let C211 being set;
assume L768: C211 in R14;
L769: C209 in ( Im (R18 , C211) ) by L768 , L767 , L321;
thus L770: thesis by L769 , L112;
end;
thus L771: contradiction by L766 , L761 , L762 , L763 , L765 , ZFMISC_1:87;
end;
definition
let C212 , C213 , C214 being set;
let C215 being (Subset of [: C212 , C213 :]);
let C216 being (Subset of [: C213 , C214 :]);
redefine func C215 * C216 -> (Relation of C212 , C214);

coherence
proof
reconsider D35 = C215 as (Relation of C212 , C213);
reconsider D36 = C216 as (Relation of C213 , C214);
L772: ( D35 * D36 ) is (Relation of C212 , C214);
thus L773: thesis by L772;
end;
end;
theorem
L775: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R22 being (Relation of R5 , R6) holds ( ( R22 .: R14 ) ` ) = ( ( R22 ` ) .:^ R14 )))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R22 being (Relation of R5 , R6);
thus L776: ( ( R22 .: R14 ) ` ) c= ( ( R22 ` ) .:^ R14 )
proof
let C217 being set;
assume L777: C217 in ( ( R22 .: R14 ) ` );
reconsider D37 = R6 as non  empty set by L777;
reconsider D38 = C217 as (Element of D37) by L777;
assume L778: (not thesis);
consider C218 being set such that L779: C218 in R14 and L780: (not D38 in ( Im (( R22 ` ) , C218) )) by L778 , L341;
L781: [ C218 , D38 ] in R22 by L779 , L780 , L661;
L782: D38 in ( R22 .: R14 ) by L781 , L779 , RELAT_1:def 13;
thus L783: contradiction by L782 , L777 , XBOOLE_0:def 5;
end;

let C219 being set;
assume L784: C219 in ( ( R22 ` ) .:^ R14 );
L785: (C219 in ( ( R22 ` ) .:^ R14 ) implies (for B147 being set holds (B147 in R14 implies (not [ B147 , C219 ] in R22))))
proof
assume L786: C219 in ( ( R22 ` ) .:^ R14 );
let C220 being set;
assume L787: C220 in R14;
assume L788: (not thesis);
L789: C219 in ( Im (( R22 ` ) , C220) ) by L784 , L787 , L321;
L790: (ex B148 being set st ([ B148 , C219 ] in ( R22 ` ) & B148 in { C220 })) by L789 , RELAT_1:def 13;
L791: [ C220 , C219 ] in ( R22 ` ) by L790 , TARSKI:def 1;
L792: ( R22 ` ) misses R22 by XBOOLE_1:79;
thus L793: contradiction by L792 , L788 , L791 , XBOOLE_0:3;
end;
assume L794: (not thesis);
per cases  by L794 , XBOOLE_0:def 5;
suppose L795: (not C219 in R6);

thus L796: contradiction by L795 , L784;
end;
suppose L797: C219 in ( R22 .: R14 );

L798: (ex B149 being set st ([ B149 , C219 ] in R22 & B149 in R14)) by L797 , RELAT_1:def 13;
thus L799: contradiction by L798 , L784 , L785;
end;
end;
theorem
L801: (for R5 being set holds (for R6 being set holds (for R22 being (Relation of R5 , R6) holds (( proj1 R22 ) = ( ( R22 ~ ) .: R6 ) & ( proj2 R22 ) = ( R22 .: R5 )))))
proof
let R5 being set;
let R6 being set;
let R22 being (Relation of R5 , R6);
thus L802: ( proj1 R22 ) = ( dom R22 )
.= ( rng ( R22 ~ ) ) by RELAT_1:20
.= ( ( R22 ~ ) .: R6 ) by RELSET_1:22;
thus L803: ( proj2 R22 ) = ( rng R22 )
.= ( R22 .: R5 ) by RELSET_1:22;
end;
theorem
L804: (for R5 being set holds (for R6 being set holds (for R7 being set holds (for R22 being (Relation of R5 , R6) holds (for R23 being (Relation of R6 , R7) holds (( proj1 ( R22 * R23 ) ) = ( ( R22 ~ ) .: ( proj1 R23 ) ) & ( proj1 ( R22 * R23 ) ) c= ( proj1 R22 )))))))
proof
let R5 being set;
let R6 being set;
let R7 being set;
let R22 being (Relation of R5 , R6);
let R23 being (Relation of R6 , R7);
thus L805: ( proj1 ( R22 * R23 ) ) = ( ( ( R22 * R23 ) ~ ) .: R7 ) by L801
.= ( ( ( R23 ~ ) * ( R22 ~ ) ) .: R7 ) by RELAT_1:35
.= ( ( R22 ~ ) .: ( ( R23 ~ ) .: R7 ) ) by RELAT_1:126
.= ( ( R22 ~ ) .: ( proj1 R23 ) ) by L801;
L806: ( proj1 R23 ) = ( dom R23 );
L807: ( proj1 ( R22 * R23 ) ) c= ( ( R22 ~ ) .: R6 ) by L806 , L805 , RELAT_1:123;
thus L808: thesis by L807 , L801;
end;
theorem
L809: (for R5 being set holds (for R6 being set holds (for R7 being set holds (for R22 being (Relation of R5 , R6) holds (for R23 being (Relation of R6 , R7) holds (( proj2 ( R22 * R23 ) ) = ( R23 .: ( proj2 R22 ) ) & ( proj2 ( R22 * R23 ) ) c= ( proj2 R23 )))))))
proof
let R5 being set;
let R6 being set;
let R7 being set;
let R22 being (Relation of R5 , R6);
let R23 being (Relation of R6 , R7);
thus L810: ( proj2 ( R22 * R23 ) ) = ( ( R22 * R23 ) .: R5 ) by L801
.= ( R23 .: ( R22 .: R5 ) ) by RELAT_1:126
.= ( R23 .: ( proj2 R22 ) ) by L801;
L811: ( proj2 R22 ) = ( rng R22 );
L812: ( R23 .: ( proj2 R22 ) ) c= ( R23 .: R6 ) by L811 , RELAT_1:123;
thus L813: thesis by L812 , L810 , L801;
end;
theorem
L814: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R22 being (Relation of R5 , R6) holds (R14 c= ( proj1 R22 ) iff R14 c= ( ( R22 * ( R22 ~ ) ) .: R14 ))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R22 being (Relation of R5 , R6);
thus L815: (R14 c= ( proj1 R22 ) implies R14 c= ( ( R22 * ( R22 ~ ) ) .: R14 ))
proof
assume L816: R14 c= ( proj1 R22 );
let C221 being set;
assume L817: C221 in R14;
reconsider D39 = C221 as (Element of R5) by L817;
consider C222 being set such that L818: [ D39 , C222 ] in R22 by L816 , L817 , XTUPLE_0:def 12;
L819: [ C222 , D39 ] in ( R22 ~ ) by L818 , RELAT_1:def 7;
L820: C222 in { C222 } by TARSKI:def 1;
L821: D39 in ( ( R22 ~ ) .: { C222 } ) by L820 , L819 , RELAT_1:def 13;
L822: ( ( R22 ~ ) .: { C222 } ) c= ( ( R22 * ( R22 ~ ) ) .: R14 )
proof
let C223 being set;
assume L823: C223 in ( ( R22 ~ ) .: { C222 } );
L824: (ex B150 being set st ([ B150 , C223 ] in ( R22 ~ ) & B150 in { C222 })) by L823 , RELAT_1:def 13;
L825: [ C222 , C223 ] in ( R22 ~ ) by L824 , TARSKI:def 1;
L826: [ D39 , C223 ] in ( R22 * ( R22 ~ ) ) by L825 , L818 , RELAT_1:def 8;
thus L827: thesis by L826 , L817 , RELAT_1:def 13;
end;
thus L828: thesis by L822 , L821;
end;

assume L829: R14 c= ( ( R22 * ( R22 ~ ) ) .: R14 );
let C224 being set;
assume L830: C224 in R14;
L831: C224 in ( ( R22 * ( R22 ~ ) ) .: R14 ) by L830 , L829;
L832: ( ( R22 * ( R22 ~ ) ) .: R14 ) = ( ( R22 ~ ) .: ( R22 .: R14 ) ) by RELAT_1:126;
L833: ( ( R22 ~ ) .: ( R22 .: R14 ) ) c= ( ( R22 ~ ) .: R6 ) by RELAT_1:123;
L834: ( ( R22 * ( R22 ~ ) ) .: R14 ) c= ( proj1 R22 ) by L833 , L832 , L801;
thus L835: thesis by L834 , L831;
end;
theorem
L836: (for R5 being set holds (for R6 being set holds (for R17 being (Subset of R6) holds (for R22 being (Relation of R5 , R6) holds (R17 c= ( proj2 R22 ) iff R17 c= ( ( ( R22 ~ ) * R22 ) .: R17 ))))))
proof
let R5 being set;
let R6 being set;
let R17 being (Subset of R6);
let R22 being (Relation of R5 , R6);
thus L837: (R17 c= ( proj2 R22 ) implies R17 c= ( ( ( R22 ~ ) * R22 ) .: R17 ))
proof
assume L838: R17 c= ( proj2 R22 );
let C225 being set;
assume L839: C225 in R17;
consider C226 being set such that L840: [ C226 , C225 ] in R22 by L839 , L838 , XTUPLE_0:def 13;
L841: [ C225 , C226 ] in ( R22 ~ ) by L840 , RELAT_1:def 7;
L842: C225 in ( Im (R22 , C226) ) by L840 , L112;
L843: ( R22 .: { C226 } ) c= ( ( ( R22 ~ ) * R22 ) .: R17 )
proof
let C227 being set;
assume L844: C227 in ( R22 .: { C226 } );
L845: (ex B151 being set st ([ B151 , C227 ] in R22 & B151 in { C226 })) by L844 , RELAT_1:def 13;
L846: [ C226 , C227 ] in R22 by L845 , TARSKI:def 1;
L847: [ C225 , C227 ] in ( ( R22 ~ ) * R22 ) by L846 , L841 , RELAT_1:def 8;
thus L848: thesis by L847 , L839 , RELAT_1:def 13;
end;
thus L849: thesis by L843 , L842;
end;

assume L850: R17 c= ( ( ( R22 ~ ) * R22 ) .: R17 );
let C228 being set;
assume L851: C228 in R17;
L852: C228 in ( ( ( R22 ~ ) * R22 ) .: R17 ) by L851 , L850;
L853: ( ( ( R22 ~ ) * R22 ) .: R17 ) = ( R22 .: ( ( R22 ~ ) .: R17 ) ) by RELAT_1:126;
L854: ( R22 .: ( ( R22 ~ ) .: R17 ) ) c= ( R22 .: R5 ) by RELAT_1:123;
L855: ( ( ( R22 ~ ) * R22 ) .: R17 ) c= ( proj2 R22 ) by L854 , L853 , L801;
thus L856: thesis by L855 , L852;
end;
theorem
L857: (for R5 being set holds (for R6 being set holds (for R22 being (Relation of R5 , R6) holds (( proj1 R22 ) = ( ( R22 ~ ) .: R6 ) & ( ( R22 ~ ) .: ( R22 .: R5 ) ) = ( ( R22 ~ ) .: ( proj2 R22 ) ))))) by L801;
theorem
L858: (for R5 being set holds (for R6 being set holds (for R22 being (Relation of R5 , R6) holds ( ( R22 ~ ) .: R6 ) = ( ( R22 * ( R22 ~ ) ) .: R5 ))))
proof
let R5 being set;
let R6 being set;
let R22 being (Relation of R5 , R6);
L859: ( ( R22 * ( R22 ~ ) ) .: R5 ) = ( ( R22 ~ ) .: ( R22 .: R5 ) ) by RELAT_1:126
.= ( ( R22 ~ ) .: ( proj2 R22 ) ) by L801;
thus L860: ( ( R22 ~ ) .: R6 ) c= ( ( R22 * ( R22 ~ ) ) .: R5 )
proof
let C229 being set;
assume L861: C229 in ( ( R22 ~ ) .: R6 );
L862: ( ( R22 ~ ) .: R6 ) = ( ( R22 ~ ) .: ( R6 /\ ( proj2 R22 ) ) ) by L736;
L863: ( ( R22 ~ ) .: ( R6 /\ ( proj2 R22 ) ) ) c= ( ( ( R22 ~ ) .: R6 ) /\ ( ( R22 ~ ) .: ( proj2 R22 ) ) ) by RELAT_1:121;
thus L864: thesis by L863 , L859 , L861 , L862 , XBOOLE_0:def 4;
end;

let C230 being set;
assume L865: C230 in ( ( R22 * ( R22 ~ ) ) .: R5 );
L866: ( proj2 R22 ) c= ( rng R22 );
L867: ( ( R22 ~ ) .: ( proj2 R22 ) ) c= ( ( R22 ~ ) .: R6 ) by L866 , RELAT_1:123;
thus L868: thesis by L867 , L859 , L865;
end;
theorem
L869: (for R5 being set holds (for R6 being set holds (for R22 being (Relation of R5 , R6) holds ( R22 .: R5 ) = ( ( ( R22 ~ ) * R22 ) .: R6 ))))
proof
let R5 being set;
let R6 being set;
let R22 being (Relation of R5 , R6);
L870: ( ( ( R22 ~ ) * R22 ) .: R6 ) = ( R22 .: ( ( R22 ~ ) .: R6 ) ) by RELAT_1:126
.= ( R22 .: ( proj1 R22 ) ) by L801;
thus L871: ( R22 .: R5 ) c= ( ( ( R22 ~ ) * R22 ) .: R6 )
proof
let C231 being set;
assume L872: C231 in ( R22 .: R5 );
L873: ( R22 .: R5 ) = ( R22 .: ( R5 /\ ( proj1 R22 ) ) ) by L723;
L874: ( R22 .: ( R5 /\ ( proj1 R22 ) ) ) c= ( ( R22 .: R5 ) /\ ( R22 .: ( proj1 R22 ) ) ) by RELAT_1:121;
thus L875: thesis by L874 , L870 , L872 , L873 , XBOOLE_0:def 4;
end;

let C232 being set;
assume L876: C232 in ( ( ( R22 ~ ) * R22 ) .: R6 );
L877: ( proj1 R22 ) c= ( dom R22 );
L878: ( R22 .: ( proj1 R22 ) ) c= ( R22 .: R5 ) by L877 , RELAT_1:123;
thus L879: thesis by L878 , L870 , L876;
end;
theorem
L880: (for R5 being set holds (for R6 being set holds (for R7 being set holds (for R14 being (Subset of R5) holds (for R22 being (Relation of R5 , R6) holds (for R23 being (Relation of R6 , R7) holds ( R23 .:^ ( R22 .: R14 ) ) = ( ( ( R22 * ( R23 ` ) ) ` ) .:^ R14 )))))))
proof
let R5 being set;
let R6 being set;
let R7 being set;
let R14 being (Subset of R5);
let R22 being (Relation of R5 , R6);
let R23 being (Relation of R6 , R7);
L881: ( ( R23 .:^ ( R22 .: R14 ) ) ` ) = ( ( R23 ` ) .: ( R22 .: R14 ) ) by L750
.= ( ( R22 * ( R23 ` ) ) .: R14 ) by RELAT_1:126;
L882: ( R23 .:^ ( R22 .: R14 ) ) = ( ( ( R22 * ( R23 ` ) ) .: R14 ) ` ) by L881
.= ( ( ( R22 * ( R23 ` ) ) ` ) .:^ R14 ) by L775;
thus L883: thesis by L882;
end;
theorem
L884: (for R5 being set holds (for R6 being set holds (for R22 being (Relation of R5 , R6) holds ( ( R22 ` ) ~ ) = ( ( R22 ~ ) ` ))))
proof
let R5 being set;
let R6 being set;
let R22 being (Relation of R5 , R6);
L885: ( ( R22 ` ) ~ ) = ( ( [: R5 , R6 :] ~ ) \ ( R22 ~ ) ) by RELAT_1:24
.= ( ( R22 ~ ) ` ) by SYSREL:5;
thus L886: thesis by L885;
end;
theorem
L887: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R17 being (Subset of R6) holds (for R22 being (Relation of R5 , R6) holds (R14 c= ( ( R22 ~ ) .:^ R17 ) iff R17 c= ( R22 .:^ R14 )))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R17 being (Subset of R6);
let R22 being (Relation of R5 , R6);
L888: (R14 c= ( ( R22 ~ ) .:^ R17 ) iff R14 misses ( ( ( R22 ~ ) .:^ R17 ) ` )) by SUBSET_1:24;
L889: (R14 c= ( ( R22 ~ ) .:^ R17 ) iff R14 misses ( ( ( R22 ~ ) ` ) .: R17 )) by L888 , L750;
L890: (R14 c= ( ( R22 ~ ) .:^ R17 ) iff ( R14 /\ ( ( ( R22 ~ ) ` ) .: R17 ) ) = ( {} )) by L889 , XBOOLE_0:def 7;
reconsider D40 = ( R22 ` ) as (Relation of R5 , R6);
L891: (R14 misses ( ( D40 ~ ) .: R17 ) iff R17 misses ( D40 .: R14 )) by L720;
L892: (( R14 /\ ( ( D40 ~ ) .: R17 ) ) = ( {} ) iff ( R17 /\ ( D40 .: R14 ) ) = ( {} )) by L891 , XBOOLE_0:def 7;
L893: (R14 c= ( ( R22 ~ ) .:^ R17 ) iff ( ( ( R22 .:^ R14 ) ` ) /\ R17 ) = ( {} )) by L892 , L890 , L750 , L884;
L894: (R14 c= ( ( R22 ~ ) .:^ R17 ) iff ( ( R22 .:^ R14 ) ` ) misses R17) by L893 , XBOOLE_0:def 7;
thus L895: thesis by L894 , SUBSET_1:24;
end;
theorem
L896: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R17 being (Subset of R6) holds (for R22 being (Relation of R5 , R6) holds (( R22 .: ( R14 ` ) ) c= ( R17 ` ) iff ( ( R22 ~ ) .: R17 ) c= R14))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R17 being (Subset of R6);
let R22 being (Relation of R5 , R6);
L897: (( R14 ` ) misses ( ( R22 ~ ) .: R17 ) iff R17 misses ( R22 .: ( R14 ` ) )) by L720;
thus L898: thesis by L897 , SUBSET_1:23 , SUBSET_1:24;
end;
theorem
L899: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R17 being (Subset of R6) holds (for R22 being (Relation of R5 , R6) holds (R14 c= ( ( R22 ~ ) .:^ ( R22 .:^ R14 ) ) & R17 c= ( R22 .:^ ( ( R22 ~ ) .:^ R17 ) ))))))) by L887;
theorem
L900: (for R5 being set holds (for R6 being set holds (for R14 being (Subset of R5) holds (for R17 being (Subset of R6) holds (for R22 being (Relation of R5 , R6) holds (( R22 .:^ R14 ) = ( R22 .:^ ( ( R22 ~ ) .:^ ( R22 .:^ R14 ) ) ) & ( ( R22 ~ ) .:^ R17 ) = ( ( R22 ~ ) .:^ ( R22 .:^ ( ( R22 ~ ) .:^ R17 ) ) )))))))
proof
let R5 being set;
let R6 being set;
let R14 being (Subset of R5);
let R17 being (Subset of R6);
let R22 being (Relation of R5 , R6);
L901: ( R22 .:^ R14 ) c= ( R22 .:^ ( ( R22 ~ ) .:^ ( R22 .:^ R14 ) ) ) by L887;
L902: R14 c= ( ( R22 ~ ) .:^ ( R22 .:^ R14 ) ) by L887;
L903: ( R22 .:^ ( ( R22 ~ ) .:^ ( R22 .:^ R14 ) ) ) c= ( R22 .:^ R14 ) by L902 , L426;
thus L904: ( R22 .:^ R14 ) = ( R22 .:^ ( ( R22 ~ ) .:^ ( R22 .:^ R14 ) ) ) by L903 , L901 , XBOOLE_0:def 10;
thus L905: ( ( R22 ~ ) .:^ R17 ) c= ( ( R22 ~ ) .:^ ( R22 .:^ ( ( R22 ~ ) .:^ R17 ) ) ) by L887;
L906: R17 c= ( R22 .:^ ( ( R22 ~ ) .:^ R17 ) ) by L887;
thus L907: thesis by L906 , L426;
end;
theorem
L908: (for R5 being set holds (for R6 being set holds (for R22 being (Relation of R5 , R6) holds ( ( id R5 ) * R22 ) = ( R22 * ( id R6 ) ))))
proof
let R5 being set;
let R6 being set;
let R22 being (Relation of R5 , R6);
L909: ( ( id R5 ) * R22 ) = R22 by FUNCT_2:17
.= ( R22 * ( id R6 ) ) by FUNCT_2:17;
thus L910: thesis by L909;
end;
