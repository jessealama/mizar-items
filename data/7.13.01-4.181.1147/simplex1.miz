:: Sperner's Lemma
::  by Karol P\c{a}k
::
:: Received February 9, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ARYTM_1, ARYTM_3, XBOOLE_0, CARD_1, CARD_2, CLASSES1, COHSP_1,
      COMPLEX1, CONVEX1, CONVEX2, CONVEX3, FINSEQ_1, FINSET_1, FUNCT_1,
      MATROID0, MCART_1, ORDERS_1, PARTFUN1, PRE_TOPC, QC_LANG1, RELAT_1,
      RLVECT_1, RLVECT_2, SEMI_AF1, SETFAM_1, SGRAPH1, SUBSET_1, TARSKI,
      TOPS_1, ZFMISC_1, RLAFFIN1, RLAFFIN2, SIMPLEX0, SIMPLEX1, REAL_1,
      FUNCOP_1, NAT_1, FUNCT_2, STRUCT_0, XXREAL_0, NUMBERS, ORDINAL1, CARD_3,
      GLIB_000, FINSEQ_4;
 notations TARSKI, XBOOLE_0, SUBSET_1, ZFMISC_1, ORDINAL1, NUMBERS, XXREAL_3,
      XXREAL_0, ORDERS_1, CARD_1, REAL_1, FINSET_1, SETFAM_1, DOMAIN_1,
      RELAT_1, FUNCT_1, FUNCT_2, RELSET_1, FINSEQ_1, STRUCT_0, CLASSES1,
      RVSUM_1, RLVECT_1, RLVECT_2, CONVEX1, CONVEX2, CONVEX3, PRE_TOPC,
      RLAFFIN1, FUNCOP_1, PENCIL_1, MATROID0, XTUPLE_0, MCART_1, CARD_2,
      COHSP_1, SIMPLEX0, RLAFFIN2;
 constructors BINOP_2, CONVEX1, CONVEX3, REAL_1, RVSUM_1, SEQ_1, RLAFFIN1,
      SIMPLEX0, TOPS_2, BORSUK_1, COHSP_1, CARD_2, RLAFFIN2, XTUPLE_0;
 registrations CARD_1, FINSET_1, FUNCT_1, NAT_1, RELAT_1, RLVECT_1, STRUCT_0,
      SUBSET_1, VALUED_0, XCMPLX_0, XREAL_0, XXREAL_0, XBOOLE_0, RLAFFIN1,
      SIMPLEX0, FUNCOP_1, INT_1, XXREAL_3, MATROID0, SETFAM_1, COHSP_1,
      RLAFFIN2, RELSET_1, RLVECT_2, ORDINAL1, XTUPLE_0;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions MATROID0, ORDERS_1, ORDINAL1, RLVECT_2, SETFAM_1, STRUCT_0,
      SIMPLEX0, TARSKI, TOPS_2, XBOOLE_0, XXREAL_3, FINSET_1, XTUPLE_0;
 theorems CARD_1, CARD_2, CARD_FIN, CLASSES1, COHSP_1, CONVEX1, CONVEX3,
      FINSEQ_1, FINSEQ_3, FUNCOP_1, FUNCT_1, FUNCT_2, INT_1, MATROID0, MCART_1,
      NAT_1, ORDINAL1, PENCIL_1, PRE_TOPC, RELAT_1, RELSET_2, RLTOPSP1,
      RLVECT_1, RLVECT_2, RVSUM_1, SETFAM_1, STIRL2_1, TARSKI, TOPS_2,
      WELLORD2, XBOOLE_0, XBOOLE_1, XREAL_1, XXREAL_0, XXREAL_3, ZFMISC_1,
      RLAFFIN1, RLAFFIN2, SIMPLEX0, XTUPLE_0;
 schemes CLASSES1, FUNCT_1, FUNCT_2, NAT_1, RELAT_1;

begin
theorem
L1: (for R3 being set holds (for B1 being Relation holds (for B2 being Cardinal holds ((for R1 being set holds (R1 in R3 implies ( card ( Im (B1 , R1) ) ) = B2)) implies ( card B1 ) = ( ( card ( B1 | ( ( dom B1 ) \ R3 ) ) ) +` ( B2 *` ( card R3 ) ) )))))
proof
let R3 being set;
let C1 being Relation;
let C2 being Cardinal;
assume that
L2: (for R1 being set holds (R1 in R3 implies ( card ( Im (C1 , R1) ) ) = C2));
set D1 = ( ( dom C1 ) \ R3 );
per cases ;
suppose L3: R3 c= ( dom C1 );

deffunc H1(set) = ( Im (C1 , $1) );
consider C3 being Function such that L4: (( dom C3 ) = R3 & (for R1 being set holds (R1 in R3 implies ( C3 . R1 ) = H1(R1)))) from FUNCT_1:sch 3;
defpred S1[ set , set ] means (ex B3 being Function st (B3 = $2 & ( dom B3 ) = ( C3 . $1 ) & ( rng B3 ) = C2 & B3 is  one-to-one));
L5: (for R1 being set holds (R1 in R3 implies (ex R2 being set st S1[ R1 , R2 ])))
proof
let R1 being set;
assume L6: R1 in R3;
L7: (( C3 . R1 ) = ( Im (C1 , R1) ) & ( card ( Im (C1 , R1) ) ) = C2) by L6 , L2 , L4;
L8: ( C3 . R1 ) , C2 are_equipotent  by L7 , CARD_1:def 2;
consider C4 being Function such that L9: (C4 is  one-to-one & ( dom C4 ) = ( C3 . R1 ) & ( rng C4 ) = C2) by L8 , WELLORD2:def 4;
take C4;
thus L10: thesis by L9;
end;
consider C5 being Function such that L11: (( dom C5 ) = R3 & (for R1 being set holds (R1 in R3 implies S1[ R1 , ( C5 . R1 ) ]))) from CLASSES1:sch 1(L5);
L12:
now
let R1 being set;
assume L13: R1 in ( dom C5 );
L14: (ex B4 being Function st (B4 = ( C5 . R1 ) & ( dom B4 ) = ( C3 . R1 ) & ( rng B4 ) = C2 & B4 is  one-to-one)) by L13 , L11;
thus L15: ( C5 . R1 ) is Function by L14;
end;
reconsider D2 = C5 as  Function-yielding Function by L12 , FUNCOP_1:def 6;
deffunc H2(set) = [ ( $1 `1 ) , ( ( D2 . ( $1 `1 ) ) . ( $1 `2 ) ) ];
consider C6 being Function such that L16: (( dom C6 ) = ( C1 | R3 ) & (for R1 being set holds (R1 in ( C1 | R3 ) implies ( C6 . R1 ) = H2(R1)))) from FUNCT_1:sch 3;
L17: ( rng C6 ) = [: R3 , C2 :]
proof
thus L18:now
let R2 being set;
assume L19: R2 in ( rng C6 );
consider R1 being set such that L20: R1 in ( dom C6 ) and L21: ( C6 . R1 ) = R2 by L19 , FUNCT_1:def 3;
L22: ( C6 . R1 ) = [ ( R1 `1 ) , ( ( D2 . ( R1 `1 ) ) . ( R1 `2 ) ) ] by L16 , L20;
L23: R1 = [ ( R1 `1 ) , ( R1 `2 ) ] by L16 , L20 , MCART_1:21;
L24: (( R1 `1 ) in { ( R1 `1 ) } & R1 in C1) by L23 , L16 , L20 , RELAT_1:def 11 , TARSKI:def 1;
L25: ( R1 `2 ) in ( C1 .: { ( R1 `1 ) } ) by L24 , L23 , RELAT_1:def 13;
L26: ( R1 `1 ) in R3 by L16 , L20 , L23 , RELAT_1:def 11;
consider C7 being Function such that L27: C7 = ( D2 . ( R1 `1 ) ) and L28: ( dom C7 ) = ( C3 . ( R1 `1 ) ) and L29: ( rng C7 ) = C2 and L30: C7 is  one-to-one by L26 , L11;
L31: ( C3 . ( R1 `1 ) ) = ( Im (C1 , ( R1 `1 )) ) by L4 , L26;
L32: ( R1 `2 ) in ( dom C7 ) by L31 , L25 , L28 , RELAT_1:def 16;
L33: ( C7 . ( R1 `2 ) ) in C2 by L32 , L29 , FUNCT_1:def 3;
thus L34: R2 in [: R3 , C2 :] by L33 , L21 , L22 , L26 , L27 , ZFMISC_1:87;
end;
let R2 being set;
assume L35: R2 in [: R3 , C2 :];
consider C8 , C9 being set such that L36: C8 in R3 and L37: C9 in C2 and L38: R2 = [ C8 , C9 ] by L35 , ZFMISC_1:def 2;
consider C10 being Function such that L39: C10 = ( D2 . C8 ) and L40: ( dom C10 ) = ( C3 . C8 ) and L41: ( rng C10 ) = C2 and L42: C10 is  one-to-one by L11 , L36;
consider C11 being set such that L43: C11 in ( dom C10 ) and L44: ( C10 . C11 ) = C9 by L37 , L41 , FUNCT_1:def 3;
L45: H2([ C8 , C11 ]) = R2 by L38 , L39 , L44;
L46: ( C3 . C8 ) = ( Im (C1 , C8) ) by L4 , L36;
L47: [ C8 , C11 ] in C1 by L46 , L40 , L43 , RELSET_2:9;
L48: [ C8 , C11 ] in ( C1 | R3 ) by L47 , L36 , RELAT_1:def 11;
L49: ( C6 . [ C8 , C11 ] ) = H2([ C8 , C11 ]) by L48 , L16;
thus L50: thesis by L49 , L16 , L45 , L48 , FUNCT_1:def 3;
end;
L51:
now
let C12 , C13 being set;
assume that
L52: C12 in ( dom C6 )
and
L53: C13 in ( dom C6 )
and
L54: ( C6 . C12 ) = ( C6 . C13 );
L55: (( C6 . C12 ) = H2(C12) & ( C6 . C13 ) = H2(C13)) by L16 , L52 , L53;
L56: ( C12 `1 ) = ( C13 `1 ) by L55 , L54 , XTUPLE_0:1;
L57: C12 = [ ( C12 `1 ) , ( C12 `2 ) ] by L16 , L52 , MCART_1:21;
L58: C12 in C1 by L57 , L16 , L52 , RELAT_1:def 11;
L59: ( C12 `2 ) in ( Im (C1 , ( C12 `1 )) ) by L58 , L57 , RELSET_2:9;
L60: C13 = [ ( C13 `1 ) , ( C13 `2 ) ] by L16 , L53 , MCART_1:21;
L61: C13 in C1 by L60 , L16 , L53 , RELAT_1:def 11;
L62: ( C13 `2 ) in ( Im (C1 , ( C13 `1 )) ) by L61 , L60 , RELSET_2:9;
L63: ( C13 `1 ) in R3 by L16 , L53 , L60 , RELAT_1:def 11;
consider C14 being Function such that L64: C14 = ( D2 . ( C13 `1 ) ) and L65: ( dom C14 ) = ( C3 . ( C13 `1 ) ) and L66: ( rng C14 ) = C2 and L67: C14 is  one-to-one by L63 , L11;
L68: ( C12 `1 ) in R3 by L16 , L52 , L57 , RELAT_1:def 11;
consider C15 being Function such that L69: C15 = ( D2 . ( C12 `1 ) ) and L70: ( dom C15 ) = ( C3 . ( C12 `1 ) ) and L71: ( rng C15 ) = C2 and L72: C15 is  one-to-one by L68 , L11;
L73: ( C3 . ( C12 `1 ) ) = ( Im (C1 , ( C12 `1 )) ) by L4 , L68;
L74: ( C15 . ( C12 `2 ) ) = ( C14 . ( C13 `2 ) ) by L54 , L55 , L64 , L69 , XTUPLE_0:1;
thus L75: C12 = C13 by L74 , L56 , L60 , L62 , L57 , L59 , L64 , L69 , L70 , L72 , L73 , FUNCT_1:def 4;
end;
L76: C6 is  one-to-one by L51 , FUNCT_1:def 4;
L77: ( C1 | R3 ) , [: R3 , C2 :] are_equipotent  by L76 , L16 , L17 , WELLORD2:def 4;
L78: ( card ( C1 | R3 ) ) = ( card [: R3 , C2 :] ) by L77 , CARD_1:5
.= ( card [: ( card R3 ) , C2 :] ) by CARD_2:7
.= ( C2 *` ( card R3 ) ) by CARD_2:def 2;
L79: ( C1 | R3 ) misses ( C1 | D1 )
proof
assume L80: ( C1 | R3 ) meets ( C1 | D1 );
consider R1 being set such that L81: R1 in ( C1 | R3 ) and L82: R1 in ( C1 | D1 ) by L80 , XBOOLE_0:3;
consider C16 , C17 being set such that L83: R1 = [ C16 , C17 ] by L81 , RELAT_1:def 1;
L84: (C16 in R3 & C16 in D1) by L81 , L82 , L83 , RELAT_1:def 11;
thus L85: contradiction by L84 , XBOOLE_0:def 5;
end;
L86: ( D1 \/ R3 ) = ( ( dom C1 ) \/ R3 ) by XBOOLE_1:39
.= ( dom C1 ) by L3 , XBOOLE_1:12;
L87: ( ( C1 | R3 ) \/ ( C1 | D1 ) ) = ( C1 | ( dom C1 ) ) by L86 , RELAT_1:78
.= C1;
thus L88: ( card C1 ) = ( ( card ( C1 | D1 ) ) +` ( C2 *` ( card R3 ) ) ) by L87 , L78 , L79 , CARD_2:35;
end;
suppose L89: (not R3 c= ( dom C1 ));

consider R1 being set such that L90: R1 in R3 and L91: (not R1 in ( dom C1 )) by L89 , TARSKI:def 3;
L92: ( Im (C1 , R1) ) = ( {} )
proof
assume L93: ( Im (C1 , R1) ) <> ( {} );
consider R2 being set such that L94: R2 in ( Im (C1 , R1) ) by L93 , XBOOLE_0:def 1;
L95: [ R1 , R2 ] in C1 by L94 , RELSET_2:9;
thus L96: contradiction by L95 , L91 , XTUPLE_0:def 12;
end;
L97: C2 = ( card ( {} ) ) by L92 , L2 , L90;
L98: ( dom C1 ) misses R3
proof
assume L99: ( dom C1 ) meets R3;
consider R1 being set such that L100: R1 in ( dom C1 ) and L101: R1 in R3 by L99 , XBOOLE_0:3;
L102: ( card ( Im (C1 , R1) ) ) = C2 by L2 , L101;
L103: ( Im (C1 , R1) ) is  empty by L102 , L97;
L104: (ex R2 being set st [ R1 , R2 ] in C1) by L100 , XTUPLE_0:def 12;
thus L105: contradiction by L104 , L103 , RELSET_2:9;
end;
L106: D1 = ( dom C1 ) by L98 , XBOOLE_1:83;
L107: ( C2 *` ( card R3 ) ) = ( 0 ) by L97 , CARD_2:20;
L108: ( ( card ( C1 | D1 ) ) +` ( C2 *` ( card R3 ) ) ) = ( card ( C1 | D1 ) ) by L107 , CARD_2:18;
thus L109: thesis by L108 , L106 , RELAT_1:69;
end;
end;
theorem
L111: (for R3 being set holds (for B5 being non  empty  finite set holds (( card R3 ) = ( ( card B5 ) + 1 ) implies (for B6 being (Function of R3 , B5) holds (B6 is  onto implies (ex R2 being set st (R2 in B5 & ( card ( B6 " { R2 } ) ) = 2 & (for R1 being set holds ((R1 in B5 & R1 <> R2) implies ( card ( B6 " { R1 } ) ) = 1)))))))))
proof
let R3 being set;
let C18 being non  empty  finite set;
assume that
L112: ( card R3 ) = ( ( card C18 ) + 1 );
reconsider D3 = R3 as non  empty  finite set by L112;
L113: ( card C18 ) > ( 0 );
reconsider D4 = ( ( card C18 ) - 1 ) as (Element of ( NAT )) by L113 , NAT_1:20;
let C19 being (Function of R3 , C18);
assume that
L114: C19 is  onto;
L115: ( rng C19 ) = C18 by L114 , FUNCT_2:def 3;
reconsider D5 = C19 as (Function of D3 , C18);
L116: ( dom C19 ) = R3 by FUNCT_2:def 1;
L117: (ex R2 being set st (R2 in C18 & ( card ( D5 " { R2 } ) ) > 1))
proof
assume L118: (for R2 being set holds (R2 in C18 implies ( card ( D5 " { R2 } ) ) <= 1));
L119:
now
let R2 being set;
set D6 = ( D5 " { R2 } );
assume L120: R2 in C18;
L121: D6 <> ( {} ) by L120 , L115 , FUNCT_1:72;
L122: ( card D6 ) = 1 by L121 , L118 , L120 , NAT_1:25;
thus L123: (ex R1 being set st D6 = { R1 }) by L122 , CARD_2:42;
end;
L124: C19 is  one-to-one by L119 , L115 , FUNCT_1:74;
L125: R3 , C18 are_equipotent  by L124 , L115 , L116 , WELLORD2:def 4;
L126: ( card R3 ) = ( card C18 ) by L125 , CARD_1:5;
thus L127: contradiction by L126 , L112;
end;
consider R2 being set such that L128: R2 in C18 and L129: ( card ( D5 " { R2 } ) ) > 1 by L117;
set D7 = ( D5 " { R2 } );
set D8 = ( D5 | ( ( dom C19 ) \ D7 ) );
take R2;
L130: ( 1 + 1 ) <= ( card D7 ) by L129 , NAT_1:13;
L131: ( dom D8 ) = ( ( dom C19 ) \ D7 ) by RELAT_1:62 , XBOOLE_1:36;
L132: ( card ( dom D8 ) ) = ( ( card D3 ) - ( card D7 ) ) by L131 , L116 , CARD_2:44;
set D9 = ( C18 \ { R2 } );
L133: ( rng D8 ) = D9 by L115 , STIRL2_1:54;
reconsider D10 = D8 as (Function of ( dom D8 ) , D9) by L133 , FUNCT_2:1;
L134: ( card C18 ) = ( D4 + 1 );
L135: ( card D9 ) = D4 by L134 , L128 , STIRL2_1:55;
L136: D4 c= ( card ( dom D8 ) ) by L135 , L133 , CARD_1:12;
L137: ( ( card C18 ) + ( - 1 ) ) <= ( ( card C18 ) + ( 1 - ( card D7 ) ) ) by L136 , L112 , L132 , NAT_1:39;
L138: ( - 1 ) <= ( 1 - ( card D7 ) ) by L137 , XREAL_1:6;
L139: ( card D7 ) <= ( 1 - ( - 1 ) ) by L138 , XREAL_1:11;
thus L140: (R2 in C18 & ( card ( C19 " { R2 } ) ) = 2) by L139 , L128 , L130 , XXREAL_0:1;
let R1 being set;
assume that
L141: R1 in C18
and
L142: R1 <> R2;
L143: R1 in ( rng D10 ) by L133 , L141 , L142 , ZFMISC_1:56;
L144: D10 is  onto by L133 , FUNCT_2:def 3;
L145: D10 is  one-to-one by L144 , L112 , L132 , L135 , L140 , STIRL2_1:60;
L146: (ex B7 being set st ( D10 " { R1 } ) = { B7 }) by L145 , L143 , FUNCT_1:74;
L147: ( D10 " { R1 } ) = ( C19 " { R1 } ) by L142 , STIRL2_1:54;
thus L148: thesis by L147 , L146 , CARD_1:30;
end;
definition
let C20 being 1-sorted;
mode SimplicialComplexStr of C20
 is (SimplicialComplexStr of (the carrier of C20));
mode SimplicialComplex of C20
 is (SimplicialComplex of (the carrier of C20));
end;
definition
let C21 being 1-sorted;
let C22 being (SimplicialComplexStr of C21);
let C23 being (Subset of C22);
func @ C23 -> (Subset of C21) equals 
C23;
coherence
proof
L150: ( [#] C22 ) c= (the carrier of C21) by SIMPLEX0:def 9;
thus L151: thesis by L150 , XBOOLE_1:1;
end;
end;
definition
let C24 being 1-sorted;
let C25 being (SimplicialComplexStr of C24);
let C26 being (Subset-Family of C25);
func @ C26 -> (Subset-Family of C24) equals 
C26;
coherence
proof
L153: ( [#] C25 ) c= (the carrier of C24) by SIMPLEX0:def 9;
L154: ( bool ( [#] C25 ) ) c= ( bool (the carrier of C24) ) by L153 , ZFMISC_1:67;
thus L155: thesis by L154 , XBOOLE_1:1;
end;
end;
theorem
L157: (for B8 being 1-sorted holds (for B9 being  subset-closed (SimplicialComplexStr of B8) holds (B9 is  total implies (for B10 being  finite (Subset of B9) holds (B10 is  simplex-like implies ( Complex_of { ( @ B10 ) } ) is (SubSimplicialComplex of B9))))))
proof
let C27 being 1-sorted;
let C28 being  subset-closed (SimplicialComplexStr of C27);
assume that
L158: C28 is  total;
let C29 being  finite (Subset of C28);
assume that
L159: C29 is  simplex-like;
L160: C29 in (the topology of C28) by L159 , PRE_TOPC:def 2;
L161: { C29 } c= (the topology of C28) by L160 , ZFMISC_1:31;
set D11 = ( Complex_of { ( @ C29 ) } );
L162: ( [#] D11 ) c= ( [#] C28 ) by L158 , SIMPLEX0:def 10;
L163: ( the_family_of C28 ) is  subset-closed;
L164: (the topology of D11) c= (the topology of C28) by L163 , L161 , SIMPLEX0:def 1;
thus L165: thesis by L164 , L162 , SIMPLEX0:def 13;
end;
begin
definition
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
func |.R8 .| -> (Subset of R7) means 
:L166: (for R1 being set holds (R1 in it iff (ex B11 being (Subset of R8) st (B11 is  simplex-like & R1 in ( conv ( @ B11 ) )))));
existence
proof
set D12 = { ( conv ( @ B12 ) ) where B12 is (Subset of R8) : B12 is  simplex-like };
L167: D12 c= ( bool (the carrier of R7) )
proof
let R1 being set;
assume L168: R1 in D12;
L169: (ex B13 being (Subset of R8) st (R1 = ( conv ( @ B13 ) ) & B13 is  simplex-like)) by L168;
thus L170: thesis by L169;
end;
reconsider D13 = D12 as (Subset-Family of R7) by L167;
take D14 = ( union D13 );
let R1 being set;
thus L171:now
assume L172: R1 in D14;
consider R2 being set such that L173: R1 in R2 and L174: R2 in D13 by L172 , TARSKI:def 4;
consider C30 being (Subset of R8) such that L175: (R2 = ( conv ( @ C30 ) ) & C30 is  simplex-like) by L174;
take D15 = C30;
thus L176: (D15 is  simplex-like & R1 in ( conv ( @ D15 ) )) by L173 , L175;
end;
given C31 being (Subset of R8) such that
L177: C31 is  simplex-like
and
L178: R1 in ( conv ( @ C31 ) );

L179: ( conv ( @ C31 ) ) in D13 by L177;
thus L180: thesis by L179 , L178 , TARSKI:def 4;
end;
uniqueness
proof
let C32 , C33 being (Subset of R7);
assume that
L181: (for R1 being set holds (R1 in C32 iff (ex B14 being (Subset of R8) st (B14 is  simplex-like & R1 in ( conv ( @ B14 ) )))))
and
L182: (for R1 being set holds (R1 in C33 iff (ex B15 being (Subset of R8) st (B15 is  simplex-like & R1 in ( conv ( @ B15 ) )))));
L183:
now
let R1 being set;
L184: (R1 in C32 iff (ex B16 being (Subset of R8) st (B16 is  simplex-like & R1 in ( conv ( @ B16 ) )))) by L181;
thus L185: (R1 in C32 iff R1 in C33) by L184 , L182;
end;
thus L186: thesis by L183 , TARSKI:1;
end;
end;
theorem
L188: (for R7 being non  empty RLSStruct holds (for R9 being (SimplicialComplexStr of R7) holds (for R10 being (SimplicialComplexStr of R7) holds ((the topology of R9) c= (the topology of R10) implies |. R9 .| c= |. R10 .|))))
proof
let R7 being non  empty RLSStruct;
let R9 being (SimplicialComplexStr of R7);
let R10 being (SimplicialComplexStr of R7);
assume L189: (the topology of R9) c= (the topology of R10);
let R1 being set;
assume L190: R1 in |. R9 .|;
consider C34 being (Subset of R9) such that L191: C34 is  simplex-like and L192: R1 in ( conv ( @ C34 ) ) by L190 , L166;
L193: C34 in (the topology of R9) by L191 , PRE_TOPC:def 2;
L194: C34 in (the topology of R10) by L193 , L189;
reconsider D16 = C34 as (Subset of R10) by L194;
L195: (( @ C34 ) = ( @ D16 ) & D16 is  simplex-like) by L189 , L193 , PRE_TOPC:def 2;
thus L196: thesis by L195 , L192 , L166;
end;
theorem
L197: (for R7 being non  empty RLSStruct holds (for R8 being (SimplicialComplexStr of R7) holds (for B17 being (Subset of R8) holds (B17 is  simplex-like implies ( conv ( @ B17 ) ) c= |. R8 .|))))
proof
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
let C35 being (Subset of R8);
assume that
L198: C35 is  simplex-like;
let R1 being set;
thus L199: thesis by L198 , L166;
end;
theorem
L200: (for R1 being set holds (for R11 being RealLinearSpace holds (for B18 being  subset-closed (SimplicialComplexStr of R11) holds (R1 in |. B18 .| iff (ex B19 being (Subset of B18) st (B19 is  simplex-like & R1 in ( Int ( @ B19 ) )))))))
proof
let R1 being set;
let R11 being RealLinearSpace;
let C36 being  subset-closed (SimplicialComplexStr of R11);
thus L201:now
assume L202: R1 in |. C36 .|;
consider C37 being (Subset of C36) such that L203: C37 is  simplex-like and L204: R1 in ( conv ( @ C37 ) ) by L202 , L166;
L205: ( conv ( @ C37 ) ) = ( union { ( Int B20 ) where B20 is (Subset of R11) : B20 c= ( @ C37 ) } ) by RLAFFIN2:8;
consider C38 being set such that L206: R1 in C38 and L207: C38 in { ( Int B21 ) where B21 is (Subset of R11) : B21 c= ( @ C37 ) } by L205 , L204 , TARSKI:def 4;
consider C39 being (Subset of R11) such that L208: C38 = ( Int C39 ) and L209: C39 c= ( @ C37 ) by L207;
reconsider D17 = C39 as (Subset of C36) by L209 , XBOOLE_1:1;
take D18 = D17;
L210: C37 in (the topology of C36) by L203 , PRE_TOPC:def 2;
L211: C36 is non  void by L210 , PENCIL_1:def 4;
thus L212: (D18 is  simplex-like & R1 in ( Int ( @ D18 ) )) by L211 , L203 , L206 , L208 , L209 , MATROID0:1;
end;
given C40 being (Subset of C36) such that
L213: C40 is  simplex-like
and
L214: R1 in ( Int ( @ C40 ) );

L215: R1 in ( conv ( @ C40 ) ) by L214 , RLAFFIN2:def 1;
thus L216: thesis by L215 , L213 , L166;
end;
theorem
L217: (for R7 being non  empty RLSStruct holds (for R8 being (SimplicialComplexStr of R7) holds (|. R8 .| is  empty iff R8 is  empty-membered)))
proof
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
thus L218:now
assume L219: |. R8 .| is  empty;
assume L220: R8 is  with_non-empty_element;
L221: (the topology of R8) is  with_non-empty_element by L220 , SIMPLEX0:def 7;
consider C41 being non  empty set such that L222: C41 in (the topology of R8) by L221 , SETFAM_1:def 10;
reconsider D19 = C41 as (Subset of R8) by L222;
L223: ((ex R2 being set st R2 in ( conv ( @ D19 ) )) & D19 is  simplex-like) by L222 , PRE_TOPC:def 2 , XBOOLE_0:def 1;
thus L224: contradiction by L223 , L219 , L166;
end;
assume L225: R8 is  empty-membered;
assume L226: |. R8 .| is non  empty;
consider R1 being set such that L227: R1 in |. R8 .| by L226 , XBOOLE_0:def 1;
consider C42 being (Subset of R8) such that L228: (C42 is  simplex-like & R1 in ( conv ( @ C42 ) )) by L227 , L166;
L229: (C42 is non  empty & C42 in (the topology of R8)) by L228 , PRE_TOPC:def 2;
L230: (the topology of R8) is  with_non-empty_element by L229 , SETFAM_1:def 10;
thus L231: contradiction by L230 , L225 , SIMPLEX0:def 7;
end;
theorem
L232: (for R7 being non  empty RLSStruct holds (for B22 being (Subset of R7) holds |. ( Complex_of { B22 } ) .| = ( conv B22 )))
proof
let R7 being non  empty RLSStruct;
let C43 being (Subset of R7);
set D20 = ( Complex_of { C43 } );
reconsider D21 = C43 as (Subset of D20);
L233: (the topology of D20) = ( bool C43 ) by SIMPLEX0:4;
thus L234:now
let R1 being set;
assume L235: R1 in |. D20 .|;
consider C44 being (Subset of D20) such that L236: C44 is  simplex-like and L237: R1 in ( conv ( @ C44 ) ) by L235 , L166;
L238: C44 in (the topology of D20) by L236 , PRE_TOPC:def 2;
L239: ( conv ( @ C44 ) ) c= ( conv C43 ) by L238 , L233 , RLAFFIN1:3;
thus L240: R1 in ( conv C43 ) by L239 , L237;
end;
L241: C43 c= C43;
L242: (( @ D21 ) = C43 & D21 is  simplex-like) by L241 , L233 , PRE_TOPC:def 2;
thus L243: thesis by L242 , L197;
end;
theorem
L244: (for R7 being non  empty RLSStruct holds (for B23 , B24 being (Subset-Family of R7) holds |. ( Complex_of ( B23 \/ B24 ) ) .| = ( |. ( Complex_of B23 ) .| \/ |. ( Complex_of B24 ) .| )))
proof
let R7 being non  empty RLSStruct;
let C45 , C46 being (Subset-Family of R7);
set D22 = ( Complex_of C45 );
set D23 = ( Complex_of C46 );
set D24 = ( Complex_of ( C45 \/ C46 ) );
L245: ( (the topology of D22) \/ (the topology of D23) ) = (the topology of D24) by SIMPLEX0:5;
thus L246: |. D24 .| c= ( |. D22 .| \/ |. D23 .| )
proof
let R1 being set;
assume L247: R1 in |. D24 .|;
consider C47 being (Subset of D24) such that L248: C47 is  simplex-like and L249: R1 in ( conv ( @ C47 ) ) by L247 , L166;
L250: C47 in (the topology of D24) by L248 , PRE_TOPC:def 2;
per cases  by L245 , L250 , XBOOLE_0:def 3;
suppose L251: C47 in (the topology of D22);

reconsider D25 = C47 as (Subset of D22);
L252: (( @ C47 ) = ( @ D25 ) & D25 is  simplex-like) by L251 , PRE_TOPC:def 2;
L253: ( conv ( @ C47 ) ) c= |. D22 .| by L252 , L197;
thus L254: thesis by L253 , L249 , XBOOLE_0:def 3;
end;
suppose L255: C47 in (the topology of D23);

reconsider D26 = C47 as (Subset of D23);
L256: (( @ C47 ) = ( @ D26 ) & D26 is  simplex-like) by L255 , PRE_TOPC:def 2;
L257: ( conv ( @ C47 ) ) c= |. D23 .| by L256 , L197;
thus L258: thesis by L257 , L249 , XBOOLE_0:def 3;
end;
end;

L260: (|. D22 .| c= |. D24 .| & |. D23 .| c= |. D24 .|) by L245 , L188 , XBOOLE_1:7;
thus L261: thesis by L260 , XBOOLE_1:8;
end;
begin
definition
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
mode SubdivisionStr of R8
 -> (SimplicialComplexStr of R7)
means :L262: (|. R8 .| c= |. it .| & (for B25 being (Subset of it) holds (B25 is  simplex-like implies (ex B26 being (Subset of R8) st (B26 is  simplex-like & ( conv ( @ B25 ) ) c= ( conv ( @ B26 ) ))))));
existence
proof
take R8;
thus L263: thesis;
end;
end;
theorem
L265: (for R7 being non  empty RLSStruct holds (for R8 being (SimplicialComplexStr of R7) holds (for B27 being (SubdivisionStr of R8) holds |. R8 .| = |. B27 .|)))
proof
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
let C48 being (SubdivisionStr of R8);
thus L266: |. R8 .| c= |. C48 .| by L262;
let R1 being set;
assume L267: R1 in |. C48 .|;
consider C49 being (Subset of C48) such that L268: C49 is  simplex-like and L269: R1 in ( conv ( @ C49 ) ) by L267 , L166;
L270: (ex B28 being (Subset of R8) st (B28 is  simplex-like & ( conv ( @ C49 ) ) c= ( conv ( @ B28 ) ))) by L268 , L262;
thus L271: thesis by L270 , L269 , L166;
end;
registration
let R7 being non  empty RLSStruct;
let C50 being  with_non-empty_element (SimplicialComplexStr of R7);
cluster  ->  with_non-empty_element for (SubdivisionStr of C50);
coherence
proof
let C51 being (SubdivisionStr of C50);
L272: (|. C50 .| is non  empty & |. C50 .| = |. C51 .|) by L217 , L265;
thus L273: thesis by L272 , L217;
end;
end;
theorem
L275: (for R7 being non  empty RLSStruct holds (for R8 being (SimplicialComplexStr of R7) holds R8 is (SubdivisionStr of R8)))
proof
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
thus L276: |. R8 .| c= |. R8 .|;
thus L277: thesis;
end;
theorem
L278: (for R7 being non  empty RLSStruct holds (for R8 being (SimplicialComplexStr of R7) holds ( Complex_of (the topology of R8) ) is (SubdivisionStr of R8)))
proof
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
set D27 = (the topology of R8);
set D28 = ( Complex_of D27 );
L279: (( [#] D28 ) = ( [#] R8 ) & ( [#] R8 ) c= (the carrier of R7)) by SIMPLEX0:def 9;
reconsider D29 = D28 as (SimplicialComplexStr of R7) by L279 , SIMPLEX0:def 9;
L280: |. R8 .| c= |. D29 .|
proof
let R1 being set;
assume L281: R1 in |. R8 .|;
consider C52 being (Subset of R8) such that L282: C52 is  simplex-like and L283: R1 in ( conv ( @ C52 ) ) by L281 , L166;
reconsider D30 = C52 as (Subset of D29);
L284: C52 in D27 by L282 , PRE_TOPC:def 2;
L285: C52 in (the topology of D29) by L284 , SIMPLEX0:2;
L286: D30 is  simplex-like by L285 , PRE_TOPC:def 2;
L287: ( @ C52 ) = ( @ D30 );
thus L288: thesis by L287 , L283 , L286 , L166;
end;
L289: (for B29 being (Subset of D29) holds (B29 is  simplex-like implies (ex B30 being (Subset of R8) st (B30 is  simplex-like & ( conv ( @ B29 ) ) c= ( conv ( @ B30 ) )))))
proof
let C53 being (Subset of D29);
assume L290: C53 is  simplex-like;
L291: C53 in (the topology of D29) by L290 , PRE_TOPC:def 2;
consider C54 being set such that L292: C53 c= C54 and L293: C54 in D27 by L291 , SIMPLEX0:2;
reconsider D31 = C54 as (Subset of R8) by L293;
take D31;
thus L294: thesis by L292 , L293 , PRE_TOPC:def 2 , RLAFFIN1:3;
end;
thus L295: thesis by L289 , L280 , L262;
end;
theorem
L296: (for R11 being RealLinearSpace holds (for B31 being  subset-closed (SimplicialComplexStr of R11) holds (for B32 being (Subset-Family of B31) holds (B32 = ( Sub_of_Fin (the topology of B31) ) implies ( Complex_of B32 ) is (SubdivisionStr of B31)))))
proof
let R11 being RealLinearSpace;
let C55 being  subset-closed (SimplicialComplexStr of R11);
set D32 = (the topology of C55);
let C56 being (Subset-Family of C55);
assume that
L297: C56 = ( Sub_of_Fin D32 );
set D33 = ( Complex_of C56 );
L298: (( [#] D33 ) = ( [#] C55 ) & ( [#] C55 ) c= (the carrier of R11)) by SIMPLEX0:def 9;
reconsider D34 = D33 as (SimplicialComplexStr of R11) by L298 , SIMPLEX0:def 9;
L299: ( the_family_of C55 ) is  subset-closed;
L300: (the topology of D34) = C56 by L299 , L297 , SIMPLEX0:7;
L301: D34 is (SubdivisionStr of C55)
proof
thus L302: |. C55 .| c= |. D34 .|
proof
let R1 being set;
assume L303: R1 in |. C55 .|;
consider C57 being (Subset of C55) such that L304: C57 is  simplex-like and L305: R1 in ( conv ( @ C57 ) ) by L303 , L166;
reconsider D35 = ( @ C57 ) as non  empty (Subset of R11) by L305;
L306: R1 in { ( Sum B33 ) where B33 is (Convex_Combination of D35) : B33 in ( ConvexComb R11 ) } by L305 , CONVEX3:5;
consider C58 being (Convex_Combination of D35) such that L307: (R1 = ( Sum C58 ) & C58 in ( ConvexComb R11 )) by L306;
reconsider D36 = ( Carrier C58 ) as non  empty (Subset of R11) by CONVEX1:21;
L308: D36 c= C57 by RLVECT_2:def 6;
reconsider D37 = D36 as (Subset of D34) by L308 , XBOOLE_1:1;
L309: C57 in D32 by L304 , PRE_TOPC:def 2;
L310: D37 in D32 by L309 , L299 , L308 , CLASSES1:def 1;
L311: D37 in (the topology of D34) by L310 , L297 , L300 , COHSP_1:def 3;
L312: D37 is  simplex-like by L311 , PRE_TOPC:def 2;
reconsider D38 = C58 as (Linear_Combination of D36) by RLVECT_2:def 6;
L313: D38 is  convex;
L314: R1 in { ( Sum B34 ) where B34 is (Convex_Combination of D36) : B34 in ( ConvexComb R11 ) } by L313 , L307;
L315: R1 in ( conv D36 ) by L314 , CONVEX3:5;
L316: D36 = ( @ D37 );
thus L317: thesis by L316 , L312 , L315 , L166;
end;

let C59 being (Subset of D34);
reconsider D39 = C59 as (Subset of C55);
assume L318: C59 is  simplex-like;
L319: C59 in (the topology of D34) by L318 , PRE_TOPC:def 2;
L320: D39 is  simplex-like by L319 , L297 , L300 , PRE_TOPC:def 2;
L321: ( @ C59 ) = ( @ D39 );
thus L322: thesis by L321 , L320;
end;
thus L323: thesis by L301;
end;
theorem
L324: (for R7 being non  empty RLSStruct holds (for R8 being (SimplicialComplexStr of R7) holds (for B35 being (SubdivisionStr of R8) holds (for B36 being (SubdivisionStr of B35) holds B36 is (SubdivisionStr of R8)))))
proof
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
let C60 being (SubdivisionStr of R8);
let C61 being (SubdivisionStr of C60);
L325: |. C61 .| = |. C60 .| by L265
.= |. R8 .| by L265;
thus L326: |. R8 .| c= |. C61 .| by L325;
let C62 being (Subset of C61);
assume L327: C62 is  simplex-like;
consider C63 being (Subset of C60) such that L328: C63 is  simplex-like and L329: ( conv ( @ C62 ) ) c= ( conv ( @ C63 ) ) by L327 , L262;
L330: (ex B37 being (Subset of R8) st (B37 is  simplex-like & ( conv ( @ C63 ) ) c= ( conv ( @ B37 ) ))) by L328 , L262;
thus L331: thesis by L330 , L329 , XBOOLE_1:1;
end;
registration
let R11 being RealLinearSpace;
let C64 being (SimplicialComplexStr of R11);
cluster  finite-membered  subset-closed for (SubdivisionStr of C64);
existence
proof
reconsider D40 = ( Complex_of (the topology of C64) ) as (SubdivisionStr of C64) by L278;
reconsider D41 = ( Sub_of_Fin (the topology of D40) ) as (Subset-Family of D40) by XBOOLE_1:1;
L332: ( Complex_of D41 ) is (SubdivisionStr of D40) by L296;
reconsider D42 = ( Complex_of D41 ) as (SubdivisionStr of C64) by L332 , L324;
take D42;
thus L333: thesis;
end;
end;
definition
let R11 being RealLinearSpace;
let C65 being (SimplicialComplexStr of R11);
mode Subdivision of C65
 is  finite-membered  subset-closed (SubdivisionStr of C65);
end;
theorem
L336: (for R11 being RealLinearSpace holds (for B38 being  with_empty_element (SimplicialComplex of R11) holds (|. B38 .| c= ( [#] B38 ) implies (for B39 being (Function of ( BOOL (the carrier of R11) ) , (the carrier of R11)) holds ((for B40 being (Simplex of B38) holds (B40 is non  empty implies ( B39 . B40 ) in ( conv ( @ B40 ) ))) implies ( subdivision (B39 , B38) ) is (SubdivisionStr of B38))))))
proof
let R11 being RealLinearSpace;
let C66 being  with_empty_element (SimplicialComplex of R11);
assume that
L337: |. C66 .| c= ( [#] C66 );
let C67 being (Function of ( BOOL (the carrier of R11) ) , (the carrier of R11));
assume that
L338: (for B41 being (Simplex of C66) holds (B41 is non  empty implies ( C67 . B41 ) in ( conv ( @ B41 ) )));
set D43 = ( subdivision (C67 , C66) );
defpred S2[ Nat ] means (for R1 being set holds (for B42 being (Simplex of C66) holds ((R1 in ( conv ( @ B42 ) ) & ( card B42 ) = $1) implies (ex B43 being  c=-linear  finite  simplex-like (Subset-Family of C66) st (ex B44 being (Subset of D43) st (B44 = ( C67 .: B43 ) & R1 in ( conv ( @ B44 ) ) & ( union B43 ) c= B42))))));
L339: ( dom C67 ) = ( BOOL (the carrier of R11) ) by FUNCT_2:def 1;
L340: (for B45 being Nat holds (S2[ B45 ] implies S2[ ( B45 + 1 ) ]))
proof
let C68 being Nat;
assume that
L341: S2[ C68 ];
let C69 being set;
let C70 being (Simplex of C66);
assume that
L342: C69 in ( conv ( @ C70 ) )
and
L343: ( card C70 ) = ( C68 + 1 );
reconsider D44 = ( @ C70 ) as non  empty (Subset of R11) by L342;
L344: ( union { C70 } ) = C70 by ZFMISC_1:25;
L345: (for B46 being (Subset of C66) holds (B46 in { C70 } implies B46 is  simplex-like)) by TARSKI:def 1;
L346: { C70 } is  simplex-like by L345 , TOPS_2:def 1;
L347: ( C67 . D44 ) in ( conv ( @ C70 ) ) by L338;
reconsider D45 = ( C67 . C70 ) as (Element of R11) by L347;
L348: D44 = C70;
L349: C70 in ( dom C67 ) by L348 , L339 , ZFMISC_1:56;
L350: ( C67 .: { C70 } ) = ( Im (C67 , C70) ) by RELAT_1:def 16;
L351: ( C67 .: { C70 } ) = { D45 } by L350 , L349 , FUNCT_1:59;
L352: (D45 in ( conv D44 ) & ( conv D44 ) c= |. C66 .|) by L338 , L197;
L353: D45 in |. C66 .| by L352;
L354: (( [#] D43 ) = ( [#] C66 ) & { D45 } is (Subset of C66)) by L353 , L337 , SIMPLEX0:def 20 , ZFMISC_1:31;
reconsider D46 = ( C67 .: { C70 } ) as (Subset of D43) by L354 , L349 , L350 , FUNCT_1:59;
per cases ;
suppose L355: C69 = ( C67 . C70 );

L356:
now
let C71 , C72 being set;
assume that
L357: C71 in { C70 }
and
L358: C72 in { C70 };
L359: C71 = C70 by L357 , TARSKI:def 1;
thus L360: C71 , C72 are_c=-comparable  by L359 , L358 , TARSKI:def 1;
end;
reconsider D47 = { C70 } as  c=-linear  finite  simplex-like (Subset-Family of C66) by L356 , L345 , ORDINAL1:def 8 , TOPS_2:def 1;
take D47;
take D46;
L361: ( conv { D45 } ) = { D45 } by RLAFFIN1:1;
thus L362: thesis by L361 , L351 , L355 , TARSKI:def 1 , ZFMISC_1:25;
end;
suppose L363: C69 <> ( C67 . C70 );

consider C73 , C74 being (Element of R11), R4 being Real such that L364: C73 in C70 and L365: C74 in ( conv ( D44 \ { C73 } ) ) and L366: (( 0 ) <= R4 & R4 < 1 & ( ( R4 * D45 ) + ( ( 1 - R4 ) * C74 ) ) = C69) by L363 , L342 , L347 , RLAFFIN2:26;
L367: (( @ ( C70 \ { C73 } ) ) = ( D44 \ { C73 } ) & ( card ( C70 \ { C73 } ) ) = C68) by L343 , L364 , STIRL2_1:55;
consider C75 being  c=-linear  finite  simplex-like (Subset-Family of C66), C76 being (Subset of D43) such that L368: C76 = ( C67 .: C75 ) and L369: C74 in ( conv ( @ C76 ) ) and L370: ( union C75 ) c= ( C70 \ { C73 } ) by L367 , L341 , L365;
set D48 = ( C75 \/ { C70 } );
L371: ( C70 \ { C73 } ) c= C70 by XBOOLE_1:36;
L372: ( union C75 ) c= C70 by L371 , L370 , XBOOLE_1:1;
L373: (for B47 , B48 being set holds ((B47 in D48 & B48 in D48) implies B47 , B48 are_c=-comparable ))
proof
let C77 , C78 being set;
assume that
L374: (C77 in D48 & C78 in D48);
per cases  by L374 , XBOOLE_0:def 3;
suppose L375: (C77 in C75 & C78 in C75);

thus L376: thesis by L375 , ORDINAL1:def 8;
end;
suppose L377: (C77 in C75 & C78 in { C70 });

L378: (C77 c= ( union C75 ) & C78 = C70) by L377 , TARSKI:def 1 , ZFMISC_1:74;
L379: C77 c= C78 by L378 , L372 , XBOOLE_1:1;
thus L380: thesis by L379 , XBOOLE_0:def 9;
end;
suppose L381: (C78 in C75 & C77 in { C70 });

L382: (C78 c= ( union C75 ) & C77 = C70) by L381 , TARSKI:def 1 , ZFMISC_1:74;
L383: C78 c= C77 by L382 , L372 , XBOOLE_1:1;
thus L384: thesis by L383 , XBOOLE_0:def 9;
end;
suppose L385: (C77 in { C70 } & C78 in { C70 });

L386: C77 = C70 by L385 , TARSKI:def 1;
thus L387: thesis by L386 , L385 , TARSKI:def 1;
end;
end;
reconsider D49 = D48 as  c=-linear  finite  simplex-like (Subset-Family of C66) by L373 , L346 , ORDINAL1:def 8 , TOPS_2:13;
L389: ( C67 .: D49 ) = ( C76 \/ D46 ) by L368 , RELAT_1:120;
reconsider D50 = ( C67 .: D49 ) as (Subset of D43) by L389;
L390: ( conv ( @ C76 ) ) c= ( conv ( @ D50 ) ) by L389 , RLTOPSP1:20 , XBOOLE_1:7;
L391: D45 in D46 by L351 , TARSKI:def 1;
L392: D45 in ( @ D50 ) by L391 , L389 , XBOOLE_0:def 3;
take D49;
take D50;
L393: ( @ D50 ) c= ( conv ( @ D50 ) ) by CONVEX1:41;
L394: ( union D49 ) = ( ( union C75 ) \/ C70 ) by L344 , ZFMISC_1:78
.= C70 by L370 , L371 , XBOOLE_1:1 , XBOOLE_1:12;
thus L395: thesis by L394 , L366 , L369 , L390 , L392 , L393 , RLTOPSP1:def 1;
end;
end;
L397: S2[ (( 0 ) qua Nat) ]
proof
let R1 being set;
let C79 being (Simplex of C66);
assume that
L398: R1 in ( conv ( @ C79 ) )
and
L399: ( card C79 ) = ( 0 );
L400: ( @ C79 ) is non  empty by L398;
thus L401: thesis by L400 , L399;
end;
L402: (for B49 being Nat holds S2[ B49 ]) from NAT_1:sch 2(L397 , L340);
thus L403: |. C66 .| c= |. D43 .|
proof
let R1 being set;
assume L404: R1 in |. C66 .|;
consider C80 being (Subset of C66) such that L405: C80 is  simplex-like and L406: R1 in ( conv ( @ C80 ) ) by L404 , L166;
reconsider D51 = C80 as (Simplex of C66) by L405;
L407: S2[ ( card D51 ) ] by L402;
consider C81 being  c=-linear  finite  simplex-like (Subset-Family of C66), C82 being (Subset of D43) such that L408: C82 = ( C67 .: C81 ) and L409: R1 in ( conv ( @ C82 ) ) and L410: ( union C81 ) c= D51 by L407 , L406;
L411: C82 is  simplex-like by L408 , SIMPLEX0:def 20;
L412: ( conv ( @ C82 ) ) c= |. D43 .| by L411 , L197;
thus L413: thesis by L412 , L409;
end;

L414: (for B50 being (Subset of D43) holds (B50 is  simplex-like implies (ex B51 being (Subset of C66) st (B51 is  simplex-like & ( conv ( @ B50 ) ) c= ( conv ( @ B51 ) )))))
proof
let C83 being (Subset of D43);
assume L415: C83 is  simplex-like;
consider C84 being  c=-linear  finite  simplex-like (Subset-Family of C66) such that L416: C83 = ( C67 .: C84 ) by L415 , SIMPLEX0:def 20;
per cases ;
suppose L417: C84 is  empty;

take ( {} C66 );
thus L418: thesis by L416 , L417;
end;
suppose L419: C84 is non  empty;

take D52 = ( union C84 );
L420: C83 c= ( conv ( @ D52 ) )
proof
let R1 being set;
assume L421: R1 in C83;
consider R2 being set such that L422: R2 in ( dom C67 ) and L423: R2 in C84 and L424: ( C67 . R2 ) = R1 by L421 , L416 , FUNCT_1:def 6;
reconsider D53 = R2 as (Simplex of C66) by L423 , TOPS_2:def 1;
L425: D53 <> ( {} ) by L422 , ZFMISC_1:56;
L426: ( C67 . D53 ) in ( conv ( @ D53 ) ) by L425 , L338;
L427: ( conv ( @ D53 ) ) c= ( conv ( @ D52 ) ) by L423 , RLTOPSP1:20 , ZFMISC_1:74;
thus L428: thesis by L427 , L424 , L426;
end;
L429: D52 in C84 by L419 , SIMPLEX0:9;
thus L430: thesis by L429 , L420 , CONVEX1:30 , TOPS_2:def 1;
end;
end;
thus L432: thesis by L414;
end;
registration
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
cluster non  void for (Subdivision of R12);
existence
proof
reconsider D54 = R12 as (Subdivision of R12) by L275;
take D54;
thus L433: thesis;
end;
end;
begin
definition
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
assume that
L435: |. R12 .| c= ( [#] R12 );
func BCS R12 -> non  void (Subdivision of R12) equals 
:L436: ( subdivision (( center_of_mass R11 ) , R12) );
coherence
proof
set D55 = ( center_of_mass R11 );
L437: (for B52 being (Simplex of R12) holds (B52 is non  empty implies ( D55 . B52 ) in ( conv ( @ B52 ) ))) by RLAFFIN2:16;
thus L438: thesis by L437 , L435 , L336;
end;
end;
definition
let R5 being Nat;
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
assume that
L440: |. R12 .| c= ( [#] R12 );
func BCS (R5 , R12) -> non  void (Subdivision of R12) equals 
:L441: ( subdivision (R5 , ( center_of_mass R11 ) , R12) );
coherence
proof
defpred S3[ Nat ] means ( subdivision ($1 , ( center_of_mass R11 ) , R12) ) is non  void non  void non  void non  void (Subdivision of R12);
L442: (for R6 being Nat holds (S3[ R6 ] implies S3[ ( R6 + 1 ) ]))
proof
let R6 being Nat;
assume L443: S3[ R6 ];
reconsider D56 = ( subdivision (R6 , ( center_of_mass R11 ) , R12) ) as non  void (Subdivision of R12) by L443;
L444: (|. D56 .| = |. R12 .| & ( [#] D56 ) = ( [#] R12 )) by L265 , SIMPLEX0:64;
L445: R6 in ( NAT ) by ORDINAL1:def 12;
L446: ( subdivision (( R6 + 1 ) , ( center_of_mass R11 ) , R12) ) = ( subdivision (1 , ( center_of_mass R11 ) , ( subdivision (R6 , ( center_of_mass R11 ) , R12) )) ) by L445 , SIMPLEX0:63
.= ( subdivision (( center_of_mass R11 ) , D56) ) by SIMPLEX0:62
.= ( BCS D56 ) by L440 , L444 , L436;
thus L447: thesis by L446 , L324;
end;
L448: R12 = ( subdivision (( 0 ) , ( center_of_mass R11 ) , R12) ) by SIMPLEX0:61;
L449: S3[ (( 0 ) qua Nat) ] by L448 , L275;
L450: (for R6 being Nat holds S3[ R6 ]) from NAT_1:sch 2(L449 , L442);
thus L451: thesis by L450;
end;
end;
theorem
L453: (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds (|. R12 .| c= ( [#] R12 ) implies ( BCS (( 0 ) , R12) ) = R12)))
proof
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
assume L454: |. R12 .| c= ( [#] R12 );
thus L455: ( BCS (( 0 ) , R12) ) = ( subdivision (( 0 ) , ( center_of_mass R11 ) , R12) ) by L454 , L441
.= R12 by SIMPLEX0:61;
end;
theorem
L456: (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds (|. R12 .| c= ( [#] R12 ) implies ( BCS (1 , R12) ) = ( BCS R12 ))))
proof
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
assume L457: |. R12 .| c= ( [#] R12 );
thus L458: ( BCS (1 , R12) ) = ( subdivision (1 , ( center_of_mass R11 ) , R12) ) by L457 , L441
.= ( subdivision (( center_of_mass R11 ) , R12) ) by SIMPLEX0:62
.= ( BCS R12 ) by L457 , L436;
end;
theorem
L459: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds (|. R12 .| c= ( [#] R12 ) implies ( [#] ( BCS (R5 , R12) ) ) = ( [#] R12 )))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
assume L460: |. R12 .| c= ( [#] R12 );
L461: ( BCS (R5 , R12) ) = ( subdivision (R5 , ( center_of_mass R11 ) , R12) ) by L460 , L441;
thus L462: thesis by L461 , SIMPLEX0:64;
end;
theorem
L463: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds (|. R12 .| c= ( [#] R12 ) implies |. ( BCS (R5 , R12) ) .| = |. R12 .|)))) by L265;
theorem
L464: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds (|. R12 .| c= ( [#] R12 ) implies ( BCS (( R5 + 1 ) , R12) ) = ( BCS ( BCS (R5 , R12) ) )))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
L465: |. ( BCS (R5 , R12) ) .| = |. R12 .| by L265;
assume L466: |. R12 .| c= ( [#] R12 );
L467: ( [#] ( BCS (R5 , R12) ) ) = ( [#] R12 ) by L466 , L459;
L468: R5 in ( NAT ) by ORDINAL1:def 12;
L469: ( subdivision (( 1 + R5 ) , ( center_of_mass R11 ) , R12) ) = ( subdivision (1 , ( center_of_mass R11 ) , ( subdivision (R5 , ( center_of_mass R11 ) , R12) )) ) by L468 , SIMPLEX0:63
.= ( subdivision (1 , ( center_of_mass R11 ) , ( BCS (R5 , R12) )) ) by L466 , L441
.= ( BCS (1 , ( BCS (R5 , R12) )) ) by L466 , L467 , L465 , L441
.= ( BCS ( BCS (R5 , R12) ) ) by L466 , L467 , L465 , L456;
thus L470: thesis by L469 , L466 , L441;
end;
theorem
L471: (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds ((|. R12 .| c= ( [#] R12 ) & ( degree R12 ) <= ( 0 )) implies ( the TopStruct of R12 ) = ( BCS R12 ))))
proof
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
reconsider D57 = 1 as  ext-real number;
assume that
L472: |. R12 .| c= ( [#] R12 )
and
L473: ( degree R12 ) <= ( 0 );
set D58 = ( center_of_mass R11 );
set D59 = ( BCS R12 );
L474: D59 = ( subdivision (( center_of_mass R11 ) , R12) ) by L472 , L436;
L475: ( [#] D59 ) = ( [#] R12 ) by L474 , SIMPLEX0:def 20;
L476: ( dom D58 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L477: (( ( 0 ) + D57 ) = ( ( 0 ) + 1 ) & ( ( degree R12 ) + D57 ) <= ( ( 0 ) + D57 )) by L473 , XXREAL_3:35 , XXREAL_3:def 2;
L478: (the topology of D59) c= (the topology of R12)
proof
let R1 being set;
assume L479: R1 in (the topology of D59);
reconsider D60 = R1 as (Simplex of D59) by L479 , PRE_TOPC:def 2;
reconsider D61 = D60 as (Subset of R12) by L475;
consider C85 being  c=-linear  finite  simplex-like (Subset-Family of R12) such that L480: D60 = ( D58 .: C85 ) by L474 , SIMPLEX0:def 20;
L481: ( D58 .: C85 ) = ( D58 .: ( C85 /\ ( dom D58 ) ) ) by RELAT_1:112;
per cases ;
suppose L482: D60 is  empty;

L483: D61 is  simplex-like by L482;
thus L484: thesis by L483 , PRE_TOPC:def 2;
end;
suppose L485: D60 is non  empty;

L486: C85 is non  empty by L485 , L480;
L487: ( union C85 ) in C85 by L486 , SIMPLEX0:9;
reconsider D62 = ( union C85 ) as (Simplex of R12) by L487 , TOPS_2:def 1;
L488: D62 is non  empty
proof
assume L489: D62 is  empty;
L490: ( C85 /\ ( dom D58 ) ) is  empty
proof
assume L491: ( C85 /\ ( dom D58 ) ) is non  empty;
consider R2 being set such that L492: R2 in ( C85 /\ ( dom D58 ) ) by L491 , XBOOLE_0:def 1;
L493: R2 in C85 by L492 , XBOOLE_0:def 4;
L494: R2 c= D62 by L493 , ZFMISC_1:74;
L495: R2 <> ( {} ) by L492 , ZFMISC_1:56;
thus L496: contradiction by L495 , L489 , L494;
end;
thus L497: contradiction by L490 , L480 , L481 , L485;
end;
L498: ( @ D62 ) in ( dom D58 ) by L488 , L476 , ZFMISC_1:56;
L499: ( card D62 ) <= ( ( degree R12 ) + 1 ) by SIMPLEX0:24;
L500: ( card D62 ) <= 1 by L499 , L477 , XXREAL_0:2;
L501: ( card D62 ) >= 1 by L488 , NAT_1:14;
L502: ( card D62 ) = 1 by L501 , L500 , XXREAL_0:1;
consider C86 being set such that L503: { C86 } = ( @ D62 ) by L502 , CARD_2:42;
L504: C86 in { C86 } by TARSKI:def 1;
reconsider D63 = C86 as (Element of R11) by L504 , L503;
L505: ( C85 /\ ( dom D58 ) ) c= { D62 }
proof
let R2 being set;
assume L506: R2 in ( C85 /\ ( dom D58 ) );
L507: R2 in C85 by L506 , XBOOLE_0:def 4;
L508: R2 c= D62 by L507 , ZFMISC_1:74;
L509: R2 <> ( {} ) by L506 , ZFMISC_1:56;
L510: R2 = D62 by L509 , L503 , L508 , ZFMISC_1:33;
thus L511: thesis by L510 , TARSKI:def 1;
end;
L512: ( C85 /\ ( dom D58 ) ) is non  empty by L480 , L481 , L485;
L513: ( C85 /\ ( dom D58 ) ) = { D62 } by L512 , L505 , ZFMISC_1:33;
L514: D60 = ( Im (D58 , D62) ) by L513 , L480 , L481 , RELAT_1:def 16
.= { ( D58 . D62 ) } by L498 , FUNCT_1:59
.= { ( ( 1 / 1 ) * ( Sum { D63 } ) ) } by L502 , L503 , RLAFFIN2:def 2
.= { ( Sum { D63 } ) } by RLVECT_1:def 8
.= D62 by L503 , RLVECT_2:9;
thus L515: thesis by L514 , PRE_TOPC:def 2;
end;
end;
L517: (the topology of R12) c= (the topology of D59)
proof
let R1 being set;
assume L518: R1 in (the topology of R12);
reconsider D64 = R1 as (Simplex of R12) by L518 , PRE_TOPC:def 2;
reconsider D65 = D64 as (Subset of D59) by L475;
per cases ;
suppose L519: D64 is  empty;

L520: D65 is  simplex-like by L519;
thus L521: thesis by L520 , PRE_TOPC:def 2;
end;
suppose L522: D64 is non  empty;

L523: (for B53 being (Subset of R12) holds (B53 in { D64 } implies B53 is  simplex-like)) by TARSKI:def 1;
reconsider D66 = { D64 } as  finite  simplex-like (Subset-Family of R12) by L523 , TOPS_2:def 1;
L524:
now
let R1 being set;
let R2 being set;
assume that
L525: R1 in D66
and
L526: R2 in D66;
L527: R1 = D64 by L525 , TARSKI:def 1;
thus L528: R1 , R2 are_c=-comparable  by L527 , L526 , TARSKI:def 1;
end;
L529: D66 is  c=-linear by L524 , ORDINAL1:def 8;
L530: ( card D64 ) <= ( ( degree R12 ) + 1 ) by SIMPLEX0:24;
L531: ( card D64 ) <= 1 by L530 , L477 , XXREAL_0:2;
L532: ( card D64 ) >= 1 by L522 , NAT_1:14;
L533: ( card D64 ) = 1 by L532 , L531 , XXREAL_0:1;
consider C87 being set such that L534: ( @ D64 ) = { C87 } by L533 , CARD_2:42;
L535: ( @ D64 ) in ( dom D58 ) by L476 , L522 , ZFMISC_1:56;
L536: C87 in { C87 } by TARSKI:def 1;
reconsider D67 = C87 as (Element of R11) by L536 , L534;
L537: ( D58 .: D66 ) = ( Im (D58 , D64) ) by RELAT_1:def 16
.= { ( D58 . D64 ) } by L535 , FUNCT_1:59
.= { ( ( 1 / 1 ) * ( Sum { D67 } ) ) } by L533 , L534 , RLAFFIN2:def 2
.= { ( Sum { D67 } ) } by RLVECT_1:def 8
.= D65 by L534 , RLVECT_2:9;
L538: D65 is  simplex-like by L537 , L474 , L529 , SIMPLEX0:def 20;
thus L539: thesis by L538 , PRE_TOPC:def 2;
end;
end;
thus L541: thesis by L517 , L474 , L475 , L478 , XBOOLE_0:def 10;
end;
theorem
L542: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds ((R5 > ( 0 ) & |. R12 .| c= ( [#] R12 ) & ( degree R12 ) <= ( 0 )) implies ( the TopStruct of R12 ) = ( BCS (R5 , R12) )))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
assume that
L543: R5 > ( 0 )
and
L544: |. R12 .| c= ( [#] R12 )
and
L545: ( degree R12 ) <= ( 0 );
defpred S4[ Nat ] means ($1 > ( 0 ) implies (( the TopStruct of R12 ) = ( BCS ($1 , R12) ) & ( degree ( BCS ($1 , R12) ) ) <= ( 0 )));
L546: (for R5 being Nat holds (S4[ R5 ] implies S4[ ( R5 + 1 ) ]))
proof
L547: (not ( {} ) in ( dom ( center_of_mass R11 ) )) by ZFMISC_1:56;
L548: ( dom ( center_of_mass R11 ) ) is  with_non-empty_elements by L547 , SETFAM_1:def 8;
let R5 being Nat;
assume that
L549: S4[ R5 ];
assume L550: ( R5 + 1 ) > ( 0 );
per cases ;
suppose L551: R5 = ( 0 );

L552: ( degree ( subdivision (( center_of_mass R11 ) , R12) ) ) <= ( degree R12 ) by L548 , SIMPLEX0:52;
L553: ( BCS (( R5 + 1 ) , R12) ) = ( BCS R12 ) by L544 , L551 , L456;
thus L554: thesis by L553 , L544 , L545 , L552 , L436 , L471;
end;
suppose L555: R5 > ( 0 );

L556: |. R12 .| = |. ( BCS (R5 , R12) ) .| by L265;
L557: ( [#] R12 ) = ( [#] ( BCS (R5 , R12) ) ) by L549 , L555;
L558: ( BCS (R5 , R12) ) = ( BCS ( BCS (R5 , R12) ) ) by L557 , L544 , L549 , L555 , L556 , L471;
thus L559: thesis by L558 , L544 , L549 , L555 , L464;
end;
end;
L561: S4[ (( 0 ) qua Nat) ];
L562: (for R5 being Nat holds S4[ R5 ]) from NAT_1:sch 2(L561 , L546);
thus L563: thesis by L562 , L543;
end;
theorem
L564: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds (for B54 being non  void (SubSimplicialComplex of R12) holds ((|. R12 .| c= ( [#] R12 ) & |. B54 .| c= ( [#] B54 )) implies ( BCS (R5 , B54) ) is (SubSimplicialComplex of ( BCS (R5 , R12) )))))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
let C88 being non  void (SubSimplicialComplex of R12);
assume L565: (|. R12 .| c= ( [#] R12 ) & |. C88 .| c= ( [#] C88 ));
L566: (( BCS (R5 , C88) ) = ( subdivision (R5 , ( center_of_mass R11 ) , C88) ) & ( BCS (R5 , R12) ) = ( subdivision (R5 , ( center_of_mass R11 ) , R12) )) by L565 , L441;
thus L567: thesis by L566 , SIMPLEX0:65;
end;
L568: (for R5 being Nat holds ( card R5 ) = R5)
proof
let R5 being Nat;
L569: ( card R5 ) = ( card ( card R5 ) );
thus L570: thesis by L569 , CARD_1:40;
end;
theorem
L571: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds (|. R12 .| c= ( [#] R12 ) implies ( Vertices R12 ) c= ( Vertices ( BCS (R5 , R12) ) )))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
set D68 = ( Skeleton_of (R12 , ( 0 )) );
assume L572: |. R12 .| c= ( [#] R12 );
per cases ;
suppose L573: R5 = ( 0 );

thus L574: thesis by L573 , L572 , L453;
end;
suppose L575: R5 > ( 0 );

L576: (the topology of D68) c= (the topology of R12) by SIMPLEX0:def 13;
L577: |. D68 .| c= |. R12 .| by L576 , L188;
L578: |. D68 .| c= ( [#] D68 ) by L577 , L572 , XBOOLE_1:1;
L579: (( degree D68 ) <= ( 0 ) & ( BCS (R5 , D68) ) is (SubSimplicialComplex of ( BCS (R5 , R12) ))) by L578 , L572 , L564 , SIMPLEX0:44;
L580: D68 is (SubSimplicialComplex of ( BCS (R5 , R12) )) by L579 , L575 , L578 , L542;
L581: ( Vertices D68 ) c= ( Vertices ( BCS (R5 , R12) ) ) by L580 , SIMPLEX0:31;
let R1 being set;
assume L582: R1 in ( Vertices R12 );
reconsider D69 = R1 as (Element of R12) by L582;
L583: D69 is  vertex-like by L582 , SIMPLEX0:def 4;
consider C89 being (Subset of R12) such that L584: C89 is  simplex-like and L585: D69 in C89 by L583 , SIMPLEX0:def 3;
reconsider D70 = { D69 } as (Subset of R12) by L585 , ZFMISC_1:31;
L586: { D69 } c= C89 by L585 , ZFMISC_1:31;
L587: D70 is  simplex-like by L586 , L584 , MATROID0:1;
L588: D70 in (the topology of R12) by L587 , PRE_TOPC:def 2;
L589: (( card D70 ) = 1 & ( card 1 ) = 1) by L568 , CARD_1:30;
L590: D70 in ( the_subsets_with_limited_card (1 , (the topology of R12)) ) by L589 , L588 , SIMPLEX0:def 2;
L591: D70 in (the topology of D68) by L590 , SIMPLEX0:2;
reconsider D71 = D70 as (Simplex of D68) by L591 , PRE_TOPC:def 2;
L592: D69 in D71 by TARSKI:def 1;
reconsider D72 = D69 as (Element of D68);
L593: D72 is  vertex-like by L592 , SIMPLEX0:def 3;
L594: D72 in ( Vertices D68 ) by L593 , SIMPLEX0:def 4;
thus L595: thesis by L594 , L581;
end;
end;
registration
let R5 being Nat;
let R11 being RealLinearSpace;
let C90 being non  void  total (SimplicialComplex of R11);
cluster ( BCS (R5 , C90) ) ->  total;
coherence
proof
L597: ( [#] C90 ) = ( [#] R11 ) by SIMPLEX0:def 10;
L598: |. C90 .| c= ( [#] C90 ) by L597;
L599: ( [#] ( BCS (R5 , C90) ) ) = ( [#] R11 ) by L598 , L597 , L459;
thus L600: thesis by L599 , SIMPLEX0:def 10;
end;
end;
registration
let R5 being Nat;
let R11 being RealLinearSpace;
let C91 being non  void  finite-vertices  total (SimplicialComplex of R11);
cluster ( BCS (R5 , C91) ) ->  finite-vertices;
coherence
proof
defpred S5[ Nat ] means ( BCS ($1 , C91) ) is  finite-vertices;
L602: ( [#] C91 ) = ( [#] R11 ) by SIMPLEX0:def 10;
L603: |. C91 .| c= ( [#] C91 ) by L602;
L604: (for R5 being Nat holds (S5[ R5 ] implies S5[ ( R5 + 1 ) ]))
proof
let R5 being Nat;
assume that
L605: S5[ R5 ];
L606: ( [#] ( BCS (R5 , C91) ) ) = ( [#] R11 ) by SIMPLEX0:def 10;
L607: |. ( BCS (R5 , C91) ) .| c= ( [#] ( BCS (R5 , C91) ) ) by L606;
L608: ( BCS (( R5 + 1 ) , C91) ) = ( BCS ( BCS (R5 , C91) ) ) by L603 , L464
.= ( subdivision (( center_of_mass R11 ) , ( BCS (R5 , C91) )) ) by L607 , L436;
thus L609: thesis by L608 , L605;
end;
L610: S5[ (( 0 ) qua Nat) ] by L603 , L453;
L611: (for R5 being Nat holds S5[ R5 ]) from NAT_1:sch 2(L610 , L604);
thus L612: thesis by L611;
end;
end;
begin
definition
let R11 being RealLinearSpace;
let C92 being (SimplicialComplexStr of R11);
attr C92 is  affinely-independent
means
:L614: (for B55 being (Subset of C92) holds (B55 is  simplex-like implies ( @ B55 ) is  affinely-independent));
end;
definition
let R7 being non  empty RLSStruct;
let R8 being (SimplicialComplexStr of R7);
attr R8 is  simplex-join-closed
means
:L616: (for B56 , B57 being (Subset of R8) holds ((B56 is  simplex-like & B57 is  simplex-like) implies ( ( conv ( @ B56 ) ) /\ ( conv ( @ B57 ) ) ) = ( conv ( @ ( B56 /\ B57 ) ) )));
end;
registration
let R11 being RealLinearSpace;
cluster  empty-membered ->  affinely-independent for (SimplicialComplexStr of R11);
coherence
proof
let C93 being (SimplicialComplexStr of R11);
assume L618: C93 is  empty-membered;
L619: (the topology of C93) is  empty-membered by L618 , SIMPLEX0:def 7;
let C94 being (Subset of C93);
assume L620: C94 is  simplex-like;
L621: C94 in (the topology of C93) by L620 , PRE_TOPC:def 2;
L622: C94 is  empty by L621 , L619 , SETFAM_1:def 10;
thus L623: thesis by L622;
end;
let C95 being  affinely-independent (Subset-Family of R11);
cluster ( Complex_of C95 ) ->  affinely-independent;
coherence
proof
let C96 being (Subset of ( Complex_of C95 ));
assume L624: C96 is  simplex-like;
L625: C96 in ( subset-closed_closure_of C95 ) by L624 , PRE_TOPC:def 2;
consider R1 being set such that L626: C96 c= R1 and L627: R1 in C95 by L625 , SIMPLEX0:2;
L628: R1 is  affinely-independent  affinely-independent  affinely-independent  affinely-independent (Subset of R11) by L627 , RLAFFIN1:def 5;
thus L629: thesis by L628 , L626 , RLAFFIN1:43;
end;
end;
registration
let R7 being non  empty RLSStruct;
cluster  empty-membered ->  simplex-join-closed for (SimplicialComplexStr of R7);
coherence
proof
let C97 being (SimplicialComplexStr of R7);
assume L631: C97 is  empty-membered;
L632: (the topology of C97) is  empty-membered by L631 , SIMPLEX0:def 7;
let C98 , C99 being (Subset of C97);
assume that
L633: C98 is  simplex-like
and
L634: C99 is  simplex-like;
L635: C98 in (the topology of C97) by L633 , PRE_TOPC:def 2;
L636: C98 is  empty by L635 , L632 , SETFAM_1:def 10;
L637: C99 in (the topology of C97) by L634 , PRE_TOPC:def 2;
L638: C99 is  empty by L637 , L632 , SETFAM_1:def 10;
thus L639: thesis by L638 , L636;
end;
end;
registration
let R11 being RealLinearSpace;
let C100 being  affinely-independent (Subset of R11);
cluster ( Complex_of { C100 } ) ->  simplex-join-closed;
coherence
proof
set D73 = ( Complex_of { C100 } );
let C101 , C102 being (Subset of D73);
assume that
L641: C101 is  simplex-like
and
L642: C102 is  simplex-like;
L643: (the topology of D73) = ( bool C100 ) by SIMPLEX0:4;
L644: C102 in (the topology of D73) by L642 , PRE_TOPC:def 2;
L645: ( C101 /\ C102 ) c= C101 by XBOOLE_1:17;
L646: ( @ C101 ) is  affinely-independent by L641 , L614;
L647: ( conv ( @ C102 ) ) c= ( Affin ( @ C102 ) ) by RLAFFIN1:65;
L648: ( conv ( @ C101 ) ) c= ( Affin ( @ C101 ) ) by RLAFFIN1:65;
L649: C101 in (the topology of D73) by L641 , PRE_TOPC:def 2;
L650: ( Affin ( @ C101 ) ) c= ( Affin C100 ) by L649 , L643 , RLAFFIN1:52;
L651: ( @ ( C101 /\ C102 ) ) is  affinely-independent by L641 , L614;
thus L652: ( ( conv ( @ C101 ) ) /\ ( conv ( @ C102 ) ) ) c= ( conv ( @ ( C101 /\ C102 ) ) )
proof
let R1 being set;
set D74 = ( C100 \ ( @ ( C101 /\ C102 ) ) );
L653: ( @ ( C101 /\ C102 ) ) = ( C100 /\ ( @ ( C101 /\ C102 ) ) ) by L643 , L645 , L649 , XBOOLE_1:1 , XBOOLE_1:28
.= ( C100 \ D74 ) by XBOOLE_1:48;
assume L654: R1 in ( ( conv ( @ C101 ) ) /\ ( conv ( @ C102 ) ) );
L655: R1 in ( conv ( @ C101 ) ) by L654 , XBOOLE_0:def 4;
L656: ( R1 |-- ( @ C101 ) ) = ( R1 |-- C100 ) by L655 , L643 , L648 , L649 , RLAFFIN1:77;
L657: R1 in ( conv ( @ C102 ) ) by L654 , XBOOLE_0:def 4;
L658: ( R1 |-- ( @ C102 ) ) = ( R1 |-- C100 ) by L657 , L643 , L644 , L647 , RLAFFIN1:77;
L659: (( Carrier ( R1 |-- ( @ C101 ) ) ) c= C101 & ( Carrier ( R1 |-- ( @ C102 ) ) ) c= C102) by RLVECT_2:def 6;
L660: (for R2 being set holds (R2 in D74 implies ( ( R1 |-- C100 ) . R2 ) = ( 0 )))
proof
let R2 being set;
assume L661: R2 in D74;
L662: (not R2 in ( C101 /\ C102 )) by L661 , XBOOLE_0:def 5;
L663: ((not R2 in ( Carrier ( R1 |-- ( @ C101 ) ) )) or (not R2 in ( Carrier ( R1 |-- ( @ C102 ) ) ))) by L662 , L659 , XBOOLE_0:def 4;
thus L664: thesis by L663 , L656 , L658 , L661;
end;
L665: R1 in ( Affin ( @ C101 ) ) by L648 , L655;
L666:
now
let C103 being (Element of R11);
assume L667: C103 in ( @ ( C101 /\ C102 ) );
L668: ( 0 ) <= ( ( R1 |-- ( @ C101 ) ) . C103 ) by L646 , L655 , RLAFFIN1:71;
thus L669: ( 0 ) <= ( ( R1 |-- ( @ ( C101 /\ C102 ) ) ) . C103 ) by L668 , L650 , L653 , L656 , L660 , L665 , RLAFFIN1:75;
end;
L670: R1 in ( Affin ( @ ( C101 /\ C102 ) ) ) by L650 , L653 , L660 , L665 , RLAFFIN1:75;
thus L671: R1 in ( conv ( @ ( C101 /\ C102 ) ) ) by L670 , L651 , L666 , RLAFFIN1:73;
end;

L672: (( conv ( @ ( C101 /\ C102 ) ) ) c= ( conv ( @ C101 ) ) & ( conv ( @ ( C101 /\ C102 ) ) ) c= ( conv ( @ C102 ) )) by RLTOPSP1:20 , XBOOLE_1:17;
thus L673: thesis by L672 , XBOOLE_1:19;
end;
end;
registration
let R11 being RealLinearSpace;
cluster 1 -element  affinely-independent for (Subset of R11);
existence
proof
take { the (Element of R11) };
thus L675: thesis;
end;
end;
registration
let R11 being RealLinearSpace;
cluster  with_non-empty_element  finite-vertices  affinely-independent  simplex-join-closed  total for (SimplicialComplex of R11);
existence
proof
set D75 = the (Element of R11);
take ( Complex_of { { D75 } } );
thus L677: thesis by SIMPLEX0:def 7;
end;
end;
registration
let R11 being RealLinearSpace;
let C104 being  affinely-independent (SimplicialComplexStr of R11);
cluster  ->  affinely-independent for (SubSimplicialComplex of C104);
coherence
proof
let C105 being (SubSimplicialComplex of C104);
let C106 being (Subset of C105);
assume L679: C106 is  simplex-like;
L680: C106 in (the topology of C105) by L679 , PRE_TOPC:def 2;
L681: (the topology of C105) c= (the topology of C104) by SIMPLEX0:def 13;
L682: C106 in (the topology of C104) by L681 , L680;
reconsider D76 = C106 as (Subset of C104) by L682;
L683: D76 is  simplex-like by L680 , L681 , PRE_TOPC:def 2;
L684: ( @ D76 ) is  affinely-independent by L683 , L614;
thus L685: thesis by L684;
end;
end;
registration
let R11 being RealLinearSpace;
let C107 being  simplex-join-closed (SimplicialComplexStr of R11);
cluster  ->  simplex-join-closed for (SubSimplicialComplex of C107);
coherence
proof
let C108 being (SubSimplicialComplex of C107);
L687: (the topology of C108) c= (the topology of C107) by SIMPLEX0:def 13;
let C109 , C110 being (Subset of C108);
assume that
L688: C109 is  simplex-like
and
L689: C110 is  simplex-like;
L690: C109 in (the topology of C108) by L688 , PRE_TOPC:def 2;
L691: C109 in (the topology of C107) by L690 , L687;
L692: C110 in (the topology of C108) by L689 , PRE_TOPC:def 2;
L693: C110 in (the topology of C107) by L692 , L687;
reconsider D77 = C109 , D78 = C110 as (Subset of C107) by L693 , L691;
L694: D77 is  simplex-like by L687 , L690 , PRE_TOPC:def 2;
L695: D78 is  simplex-like by L687 , L692 , PRE_TOPC:def 2;
L696: ( ( conv ( @ D77 ) ) /\ ( conv ( @ D78 ) ) ) = ( conv ( @ ( D77 /\ D78 ) ) ) by L695 , L694 , L616;
thus L697: thesis by L696;
end;
end;
theorem
L699: (for R11 being RealLinearSpace holds (for B58 being  subset-closed (SimplicialComplexStr of R11) holds (B58 is  simplex-join-closed iff (for B59 , B60 being (Subset of B58) holds ((B59 is  simplex-like & B60 is  simplex-like & ( Int ( @ B59 ) ) meets ( Int ( @ B60 ) )) implies B59 = B60)))))
proof
let R11 being RealLinearSpace;
let C111 being  subset-closed (SimplicialComplexStr of R11);
thus L700:now
assume L701: C111 is  simplex-join-closed;
let C112 , C113 being (Subset of C111);
assume that
L702: (C112 is  simplex-like & C113 is  simplex-like)
and
L703: ( Int ( @ C112 ) ) meets ( Int ( @ C113 ) );
L704: ( ( conv ( @ C112 ) ) /\ ( conv ( @ C113 ) ) ) = ( conv ( @ ( C112 /\ C113 ) ) ) by L701 , L702 , L616;
assume L705: C112 <> C113;
L706: (( C112 /\ C113 ) <> C112 or ( C112 /\ C113 ) <> C113) by L705;
L707: (( C112 /\ C113 ) c= C112 & ( C112 /\ C113 ) c= C113) by XBOOLE_1:17;
consider R1 being set such that L708: R1 in ( Int ( @ C112 ) ) and L709: R1 in ( Int ( @ C113 ) ) by L703 , XBOOLE_0:3;
L710: (( Int ( @ C112 ) ) c= ( conv ( @ C112 ) ) & ( Int ( @ C113 ) ) c= ( conv ( @ C113 ) )) by RLAFFIN2:5;
L711: R1 in ( ( conv ( @ C112 ) ) /\ ( conv ( @ C113 ) ) ) by L710 , L708 , L709 , XBOOLE_0:def 4;
per cases  by L706 , L707 , XBOOLE_0:def 8;
suppose L712: ( C112 /\ C113 ) c< C112;

L713: ( conv ( @ ( C112 /\ C113 ) ) ) misses ( Int ( @ C112 ) ) by L712 , RLAFFIN2:7;
thus L714: contradiction by L713 , L704 , L708 , L711 , XBOOLE_0:3;
end;
suppose L715: ( C112 /\ C113 ) c< C113;

L716: ( conv ( @ ( C112 /\ C113 ) ) ) misses ( Int ( @ C113 ) ) by L715 , RLAFFIN2:7;
thus L717: contradiction by L716 , L704 , L709 , L711 , XBOOLE_0:3;
end;
end;
assume L719: (for B61 , B62 being (Subset of C111) holds ((B61 is  simplex-like & B62 is  simplex-like & ( Int ( @ B61 ) ) meets ( Int ( @ B62 ) )) implies B61 = B62));
let C114 , C115 being (Subset of C111);
assume that
L720: C114 is  simplex-like
and
L721: C115 is  simplex-like;
L722: ( ( conv ( @ C114 ) ) /\ ( conv ( @ C115 ) ) ) c= ( conv ( @ ( C114 /\ C115 ) ) )
proof
let R1 being set;
L723: ( the_family_of C111 ) is  subset-closed;
assume L724: R1 in ( ( conv ( @ C114 ) ) /\ ( conv ( @ C115 ) ) );
L725: R1 in ( conv ( @ C114 ) ) by L724 , XBOOLE_0:def 4;
L726: R1 in ( union { ( Int B63 ) where B63 is (Subset of R11) : B63 c= ( @ C114 ) } ) by L725 , RLAFFIN2:8;
consider C116 being set such that L727: R1 in C116 and L728: C116 in { ( Int B64 ) where B64 is (Subset of R11) : B64 c= ( @ C114 ) } by L726 , TARSKI:def 4;
consider C117 being (Subset of R11) such that L729: C116 = ( Int C117 ) and L730: C117 c= ( @ C114 ) by L728;
L731: R1 in ( conv ( @ C115 ) ) by L724 , XBOOLE_0:def 4;
L732: R1 in ( union { ( Int B65 ) where B65 is (Subset of R11) : B65 c= ( @ C115 ) } ) by L731 , RLAFFIN2:8;
consider C118 being set such that L733: R1 in C118 and L734: C118 in { ( Int B66 ) where B66 is (Subset of R11) : B66 c= ( @ C115 ) } by L732 , TARSKI:def 4;
consider C119 being (Subset of R11) such that L735: C118 = ( Int C119 ) and L736: C119 c= ( @ C115 ) by L734;
reconsider D79 = C117 , D80 = C119 as (Subset of C111) by L730 , L736 , XBOOLE_1:1;
L737: C114 in (the topology of C111) by L720 , PRE_TOPC:def 2;
L738: D79 in (the topology of C111) by L737 , L723 , L730 , CLASSES1:def 1;
L739: D79 is  simplex-like by L738 , PRE_TOPC:def 2;
L740: C115 in (the topology of C111) by L721 , PRE_TOPC:def 2;
L741: D80 in (the topology of C111) by L740 , L723 , L736 , CLASSES1:def 1;
L742: D80 is  simplex-like by L741 , PRE_TOPC:def 2;
L743: ( Int ( @ D79 ) ) meets ( Int ( @ D80 ) ) by L727 , L729 , L733 , L735 , XBOOLE_0:3;
L744: D79 = D80 by L743 , L719 , L739 , L742;
L745: C117 c= ( @ ( C114 /\ C115 ) ) by L744 , L730 , L736 , XBOOLE_1:19;
L746: ( conv C117 ) c= ( conv ( @ ( C114 /\ C115 ) ) ) by L745 , RLAFFIN1:3;
L747: R1 in ( conv C117 ) by L727 , L729 , RLAFFIN2:def 1;
thus L748: thesis by L747 , L746;
end;
L749: (( conv ( @ ( C114 /\ C115 ) ) ) c= ( conv ( @ C114 ) ) & ( conv ( @ ( C114 /\ C115 ) ) ) c= ( conv ( @ C115 ) )) by RLAFFIN1:3 , XBOOLE_1:17;
L750: ( conv ( @ ( C114 /\ C115 ) ) ) c= ( ( conv ( @ C114 ) ) /\ ( conv ( @ C115 ) ) ) by L749 , XBOOLE_1:19;
thus L751: thesis by L750 , L722 , XBOOLE_0:def 10;
end;
registration
let R11 being RealLinearSpace;
let R16 being non  void  affinely-independent (SimplicialComplex of R11);
let C120 being (Simplex of R16);
cluster ( @ C120 ) ->  affinely-independent;
coherence by L614;
end;
theorem
L753: (for R11 being RealLinearSpace holds (for R13 being  simplex-join-closed (SimplicialComplex of R11) holds (for R14 being (Subset of R13) holds (for R15 being (Subset of R13) holds ((R14 is  simplex-like & R15 is  simplex-like & ( Int ( @ R14 ) ) meets ( conv ( @ R15 ) )) implies R14 c= R15)))))
proof
let R11 being RealLinearSpace;
let R13 being  simplex-join-closed (SimplicialComplex of R11);
let R14 being (Subset of R13);
let R15 being (Subset of R13);
assume that
L754: R14 is  simplex-like
and
L755: R15 is  simplex-like
and
L756: ( Int ( @ R14 ) ) meets ( conv ( @ R15 ) );
consider R1 being set such that L757: R1 in ( Int ( @ R14 ) ) and L758: R1 in ( conv ( @ R15 ) ) by L756 , XBOOLE_0:3;
L759: R1 in ( union { ( Int B67 ) where B67 is (Subset of R11) : B67 c= ( @ R15 ) } ) by L758 , RLAFFIN2:8;
consider C121 being set such that L760: R1 in C121 and L761: C121 in { ( Int B68 ) where B68 is (Subset of R11) : B68 c= ( @ R15 ) } by L759 , TARSKI:def 4;
consider C122 being (Subset of R11) such that L762: C121 = ( Int C122 ) and L763: C122 c= ( @ R15 ) by L761;
reconsider D81 = C122 as (Subset of R13) by L763 , XBOOLE_1:1;
L764: R14 in (the topology of R13) by L754 , PRE_TOPC:def 2;
L765: R13 is non  void by L764 , PENCIL_1:def 4;
L766: D81 is  simplex-like by L765 , L755 , L763 , MATROID0:1;
L767: ( Int ( @ R14 ) ) meets ( Int ( @ D81 ) ) by L757 , L760 , L762 , XBOOLE_0:3;
thus L768: thesis by L767 , L754 , L763 , L766 , L699;
end;
theorem
L769: (for R11 being RealLinearSpace holds (for R13 being  simplex-join-closed (SimplicialComplex of R11) holds (for R14 being (Subset of R13) holds (for R15 being (Subset of R13) holds ((R14 is  simplex-like & ( @ R14 ) is  affinely-independent & R15 is  simplex-like) implies (( Int ( @ R14 ) ) c= ( conv ( @ R15 ) ) iff R14 c= R15))))))
proof
let R11 being RealLinearSpace;
let R13 being  simplex-join-closed (SimplicialComplex of R11);
let R14 being (Subset of R13);
let R15 being (Subset of R13);
assume that
L770: R14 is  simplex-like
and
L771: ( @ R14 ) is  affinely-independent
and
L772: R15 is  simplex-like;
L773: R14 in (the topology of R13) by L770 , PRE_TOPC:def 2;
L774: R13 is non  void by L773 , PENCIL_1:def 4;
per cases ;
suppose L775: R14 is  empty;

L776: ( Int ( @ R14 ) ) is  empty by L775;
thus L777: thesis by L776 , L775 , XBOOLE_1:2;
end;
suppose L778: R14 is non  empty;

L779: ( Int ( @ R14 ) ) is non  empty by L778 , L770 , L771 , L774 , RLAFFIN2:20;
consider R1 being set such that L780: R1 in ( Int ( @ R14 ) ) by L779 , XBOOLE_0:def 1;
thus L781:now
assume L782: ( Int ( @ R14 ) ) c= ( conv ( @ R15 ) );
L783: R1 in ( conv ( @ R15 ) ) by L782 , L780;
L784: R1 in ( union { ( Int B69 ) where B69 is (Subset of R11) : B69 c= ( @ R15 ) } ) by L783 , RLAFFIN2:8;
consider C123 being set such that L785: R1 in C123 and L786: C123 in { ( Int B70 ) where B70 is (Subset of R11) : B70 c= ( @ R15 ) } by L784 , TARSKI:def 4;
consider C124 being (Subset of R11) such that L787: C123 = ( Int C124 ) and L788: C124 c= ( @ R15 ) by L786;
reconsider D82 = C124 as (Subset of R13) by L788 , XBOOLE_1:1;
L789: D82 is  simplex-like by L772 , L774 , L788 , MATROID0:1;
L790: ( Int ( @ R14 ) ) meets ( Int ( @ D82 ) ) by L780 , L785 , L787 , XBOOLE_0:3;
thus L791: R14 c= R15 by L790 , L770 , L788 , L789 , L699;
end;
assume L792: R14 c= R15;
L793: (( Int ( @ R14 ) ) c= ( conv ( @ R14 ) ) & ( conv ( @ R14 ) ) c= ( conv ( @ R15 ) )) by L792 , RLAFFIN1:3 , RLAFFIN2:5;
thus L794: thesis by L793 , XBOOLE_1:1;
end;
end;
theorem
L796: (for R11 being RealLinearSpace holds (for R16 being non  void  affinely-independent (SimplicialComplex of R11) holds (|. R16 .| c= ( [#] R16 ) implies ( BCS R16 ) is  affinely-independent)))
proof
let R11 being RealLinearSpace;
let R16 being non  void  affinely-independent (SimplicialComplex of R11);
set D83 = ( BCS R16 );
set D84 = ( center_of_mass R11 );
assume L797: |. R16 .| c= ( [#] R16 );
L798: D83 = ( subdivision (D84 , R16) ) by L797 , L436;
let C125 being (Subset of D83);
assume L799: C125 is  simplex-like;
consider C126 being  c=-linear  finite  simplex-like (Subset-Family of R16) such that L800: C125 = ( D84 .: C126 ) by L799 , L798 , SIMPLEX0:def 20;
per cases ;
suppose L801: C126 is  empty;

L802: C125 = ( {} ) by L801 , L800;
thus L803: thesis by L802;
end;
suppose L804: C126 is non  empty;

L805: (C126 c= ( bool ( union C126 ) ) & ( bool ( @ ( union C126 ) ) ) c= ( bool (the carrier of R11) )) by ZFMISC_1:67 , ZFMISC_1:82;
reconsider D85 = C126 as  c=-linear  finite (Subset-Family of R11) by L805 , XBOOLE_1:1;
L806: ( union C126 ) in C126 by L804 , SIMPLEX0:9;
L807: ( union C126 ) is  simplex-like by L806 , TOPS_2:def 1;
L808: ( @ ( union C126 ) ) is  affinely-independent by L807;
L809: ( union D85 ) is  affinely-independent by L808;
thus L810: thesis by L809 , L800 , RLAFFIN2:29;
end;
end;
registration
let R11 being RealLinearSpace;
let C127 being non  void  affinely-independent  total (SimplicialComplex of R11);
cluster ( BCS C127 ) ->  affinely-independent;
coherence
proof
L812: ( [#] C127 ) = (the carrier of R11) by SIMPLEX0:def 10;
L813: |. C127 .| c= ( [#] C127 ) by L812;
thus L814: thesis by L813 , L796;
end;
let R5 being Nat;
cluster ( BCS (R5 , C127) ) ->  affinely-independent;
coherence
proof
defpred S6[ Nat ] means ( BCS ($1 , C127) ) is  affinely-independent;
L815: ( [#] C127 ) = ( [#] R11 ) by SIMPLEX0:def 10;
L816: |. C127 .| c= ( [#] C127 ) by L815;
L817: (for R5 being Nat holds (S6[ R5 ] implies S6[ ( R5 + 1 ) ]))
proof
let R5 being Nat;
assume that
L818: S6[ R5 ];
L819: ( BCS (( R5 + 1 ) , C127) ) = ( BCS ( BCS (R5 , C127) ) ) by L816 , L464;
thus L820: thesis by L819 , L818;
end;
L821: S6[ (( 0 ) qua Nat) ] by L816 , L453;
L822: (for R5 being Nat holds S6[ R5 ]) from NAT_1:sch 2(L821 , L817);
thus L823: thesis by L822;
end;
end;
registration
let R11 being RealLinearSpace;
let R17 being non  void  affinely-independent  simplex-join-closed (SimplicialComplex of R11);
cluster ( ( center_of_mass R11 ) | (the topology of R17) ) ->  one-to-one;
coherence
proof
L825:
now
set D86 = ( center_of_mass R11 );
set D87 = (the topology of R17);
let C128 , C129 being set;
set D88 = ( D86 | D87 );
assume that
L826: C128 in ( dom D88 )
and
L827: C129 in ( dom D88 )
and
L828: ( D88 . C128 ) = ( D88 . C129 );
L829: (( D88 . C128 ) = ( D86 . C128 ) & ( D88 . C129 ) = ( D86 . C129 )) by L826 , L827 , FUNCT_1:47;
L830: ( dom D88 ) = ( ( dom D86 ) /\ D87 ) by RELAT_1:61;
L831: (C128 in D87 & C129 in D87) by L830 , L826 , L827 , XBOOLE_0:def 4;
reconsider D89 = C128 , D90 = C129 as (Simplex of R17) by L831 , PRE_TOPC:def 2;
L832: D89 is non  empty by L826 , ZFMISC_1:56;
L833: ( D86 . D89 ) in ( conv ( @ D89 ) ) by L832 , RLAFFIN2:16;
L834: D90 is non  empty by L827 , ZFMISC_1:56;
L835: ( D86 . D90 ) in ( conv ( @ D90 ) ) by L834 , RLAFFIN2:16;
L836: ( D86 . D89 ) in ( ( conv ( @ D89 ) ) /\ ( conv ( @ D90 ) ) ) by L835 , L828 , L829 , L833 , XBOOLE_0:def 4;
L837: (( ( conv ( @ D89 ) ) /\ ( conv ( @ D90 ) ) ) = ( conv ( @ ( D89 /\ D90 ) ) ) & ( conv ( @ ( D89 /\ D90 ) ) ) c= ( Affin ( @ ( D89 /\ D90 ) ) )) by L616 , RLAFFIN1:65;
L838: ( D89 /\ D90 ) = D89 by L837 , L836 , RLAFFIN2:21 , XBOOLE_1:17;
thus L839: C128 = C129 by L838 , L828 , L829 , L836 , L837 , RLAFFIN2:21 , XBOOLE_1:17;
end;
thus L840: thesis by L825 , FUNCT_1:def 4;
end;
end;
theorem
L842: (for R11 being RealLinearSpace holds (for R17 being non  void  affinely-independent  simplex-join-closed (SimplicialComplex of R11) holds (|. R17 .| c= ( [#] R17 ) implies ( BCS R17 ) is  simplex-join-closed)))
proof
let R11 being RealLinearSpace;
let R17 being non  void  affinely-independent  simplex-join-closed (SimplicialComplex of R11);
set D91 = ( center_of_mass R11 );
set D92 = ( BCS R17 );
defpred S7[ Nat ] means (for B71 , B72 being  c=-linear  finite  simplex-like (Subset-Family of R17) holds (for B73 , B74 being (Simplex of D92) holds ((B73 = ( D91 .: B71 ) & B74 = ( D91 .: B72 ) & ( card ( union B71 ) ) <= $1 & ( card ( union B72 ) ) <= $1 & ( Int ( @ B73 ) ) meets ( Int ( @ B74 ) )) implies B73 = B74)));
assume L843: |. R17 .| c= ( [#] R17 );
L844: D92 = ( subdivision (D91 , R17) ) by L843 , L436;
L845: D92 is  affinely-independent by L843 , L796;
L846: ( dom D91 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L847: (for B75 being Nat holds (S7[ B75 ] implies S7[ ( B75 + 1 ) ]))
proof
let C130 being Nat;
assume that
L848: S7[ C130 ];
let C131 , C132 being  c=-linear  finite  simplex-like (Subset-Family of R17);
let C133 , C134 being (Simplex of D92);
assume that
L849: C133 = ( D91 .: C131 )
and
L850: C134 = ( D91 .: C132 )
and
L851: ( card ( union C131 ) ) <= ( C130 + 1 )
and
L852: ( card ( union C132 ) ) <= ( C130 + 1 )
and
L853: ( Int ( @ C133 ) ) meets ( Int ( @ C134 ) );
L854: (( union C132 ) in C132 or C132 is  empty) by SIMPLEX0:9;
L855: ( union C132 ) is  simplex-like by L854 , TOPS_2:def 1 , ZFMISC_1:2;
set D93 = ( union C131 );
L856: (C132 c= ( bool ( union C132 ) ) & ( bool ( @ ( union C132 ) ) ) c= ( bool (the carrier of R11) )) by ZFMISC_1:67 , ZFMISC_1:82;
L857: C132 is (Subset-Family of R11) by L856 , XBOOLE_1:1;
L858: (( union C131 ) in C131 or C131 is  empty) by SIMPLEX0:9;
L859: ( union C131 ) is  simplex-like by L858 , TOPS_2:def 1 , ZFMISC_1:2;
L860: (C131 c= ( bool ( union C131 ) ) & ( bool ( @ ( union C131 ) ) ) c= ( bool (the carrier of R11) )) by ZFMISC_1:67 , ZFMISC_1:82;
L861: C131 is (Subset-Family of R11) by L860 , XBOOLE_1:1;
L862: ( Int ( D91 .: C131 ) ) c= ( Int ( @ ( union C131 ) ) ) by L861 , L859 , RLAFFIN2:30;
L863: ( Int ( @ ( union C131 ) ) ) meets ( Int ( D91 .: C132 ) ) by L849 , L850 , L853 , L859 , L861 , RLAFFIN2:30 , XBOOLE_1:63;
L864: ( Int ( @ ( union C131 ) ) ) meets ( Int ( @ ( union C132 ) ) ) by L863 , L857 , L855 , RLAFFIN2:30 , XBOOLE_1:63;
L865: ( union C131 ) = ( union C132 ) by L864 , L855 , L859 , L699;
per cases  by L851 , NAT_1:8;
suppose L866: ( card ( union C131 ) ) <= C130;

thus L867: thesis by L866 , L848 , L849 , L850 , L853 , L865;
end;
suppose L868: ( card ( union C131 ) ) = ( C130 + 1 );

L869: ( @ ( union C131 ) ) is non  empty by L868;
L870: ( union C131 ) in ( dom D91 ) by L869 , L846 , ZFMISC_1:56;
L871: ( D91 . ( union C131 ) ) in ( @ C133 ) by L870 , L849 , L858 , L868 , FUNCT_1:def 6 , ZFMISC_1:2;
reconsider D94 = ( D91 . ( union C131 ) ) as (Element of R11) by L871;
L872: { D94 } c= ( @ C133 ) by L871 , ZFMISC_1:31;
L873: ( D91 . ( union C131 ) ) in ( @ C134 ) by L850 , L854 , L865 , L868 , L870 , FUNCT_1:def 6 , ZFMISC_1:2;
L874: { D94 } c= ( @ C134 ) by L873 , ZFMISC_1:31;
L875: D94 in { D94 } by ZFMISC_1:31;
L876: ( conv { D94 } ) = { D94 } by RLAFFIN1:1;
consider R1 being set such that L877: R1 in ( Int ( @ C133 ) ) and L878: R1 in ( Int ( @ C134 ) ) by L853 , XBOOLE_0:3;
reconsider D95 = R1 as (Element of R11) by L877;
per cases ;
suppose L879: (C133 = { D94 } & C134 = { D94 });

thus L880: thesis by L879;
end;
suppose L881: (C133 = { D94 } & C134 <> { D94 });

L882: ({ D94 } c< ( @ C134 ) & ( Int ( @ C133 ) ) = ( @ C133 )) by L881 , L874 , RLAFFIN2:6 , XBOOLE_0:def 8;
thus L883: thesis by L882 , L876 , L877 , L878 , L881 , RLAFFIN2:def 1;
end;
suppose L884: (C133 <> { D94 } & C134 = { D94 });

L885: ({ D94 } c< ( @ C133 ) & ( Int ( @ C134 ) ) = ( @ C134 )) by L884 , L872 , RLAFFIN2:6 , XBOOLE_0:def 8;
thus L886: thesis by L885 , L876 , L877 , L878 , L884 , RLAFFIN2:def 1;
end;
suppose L887: (C133 <> { D94 } & C134 <> { D94 });

L888: { D94 } c< ( @ C133 ) by L887 , L872 , XBOOLE_0:def 8;
L889: D94 <> D95 by L888 , L875 , L876 , L877 , RLAFFIN2:def 1;
L890: (( C131 \ { D93 } ) c= C131 & ( C132 \ { D93 } ) c= C132) by XBOOLE_1:36;
reconsider D96 = ( C131 \ { D93 } ) , D97 = ( C132 \ { D93 } ) as  c=-linear  finite  simplex-like (Subset-Family of R17) by L890 , TOPS_2:11;
L891: C131 c= (the topology of R17)
proof
let R1 being set;
assume L892: R1 in C131;
reconsider D98 = R1 as (Subset of R17) by L892;
L893: D98 is  simplex-like by L892 , TOPS_2:def 1;
thus L894: thesis by L893 , PRE_TOPC:def 2;
end;
L895: ( [#] R17 ) c= (the carrier of R11) by SIMPLEX0:def 9;
L896: ( bool (the carrier of R17) ) c= ( bool (the carrier of R11) ) by L895 , ZFMISC_1:67;
reconsider D99 = D96 , D100 = D97 as (Subset-Family of R11) by L896 , XBOOLE_1:1;
set D101 = ( D95 |-- ( @ C133 ) );
set D102 = ( D95 |-- ( @ C134 ) );
set D103 = ( D91 | (the topology of R17) );
L897: ( C131 \ { D93 } ) c= C131 by XBOOLE_1:36;
L898: { D93 } c= C131 by L858 , L868 , ZFMISC_1:2 , ZFMISC_1:31;
L899: ( union D97 ) c= D93 by L865 , XBOOLE_1:36 , ZFMISC_1:77;
L900: ( union D97 ) <> D93
proof
assume L901: ( union D97 ) = D93;
L902: ( union D97 ) in D97 by L901 , L869 , SIMPLEX0:9 , ZFMISC_1:2;
thus L903: contradiction by L902 , L901 , ZFMISC_1:56;
end;
L904: ( union D97 ) c< D93 by L900 , L899 , XBOOLE_0:def 8;
consider C135 being set such that L905: C135 in ( @ D93 ) and L906: (not C135 in ( union D100 )) by L904 , XBOOLE_0:6;
reconsider D104 = C135 as (Element of R11) by L905;
L907: ( union D100 ) c= ( D93 \ { D104 } ) by L899 , L906 , ZFMISC_1:34;
L908: ( conv ( union D100 ) ) c= ( conv ( @ ( D93 \ { D104 } ) ) ) by L907 , RLAFFIN1:3;
L909: D95 in ( conv ( @ C133 ) ) by L877 , RLAFFIN2:def 1;
L910: ( D101 . D94 ) <= 1 by L909 , L845 , RLAFFIN1:71;
L911: ( D101 . D94 ) < 1
proof
assume L912: ( D101 . D94 ) >= 1;
L913: ( D101 . D94 ) = 1 by L912 , L910 , XXREAL_0:1;
thus L914: contradiction by L913 , L845 , L889 , L909 , RLAFFIN1:72;
end;
L915: ( conv ( @ C133 ) ) c= ( Affin ( @ C133 ) ) by RLAFFIN1:65;
L916: D95 = ( Sum D101 ) by L915 , L845 , L909 , RLAFFIN1:def 7;
L917: D94 in ( Carrier D101 ) by L916 , L845 , L871 , L877 , L909 , RLAFFIN1:71 , RLAFFIN2:11;
L918: ( D101 . D94 ) <> ( 0 ) by L917 , RLVECT_2:19;
L919: D101 is  convex by L845 , L909 , RLAFFIN1:71;
consider C136 being (Element of R11) such that L920: C136 in ( conv ( ( @ C133 ) \ { D94 } ) ) and L921: D95 = ( ( ( D101 . D94 ) * D94 ) + ( ( 1 - ( D101 . D94 ) ) * C136 ) ) and L922: ( ( ( 1 / ( D101 . D94 ) ) * D95 ) + ( ( 1 - ( 1 / ( D101 . D94 ) ) ) * C136 ) ) = D94 by L919 , L889 , L916 , L918 , RLAFFIN2:1;
L923: C136 in ( Int ( ( @ C133 ) \ { D94 } ) ) by L845 , L871 , L877 , L920 , L921 , RLAFFIN2:14;
L924: { D94 } = ( Im (D91 , ( union C131 )) ) by L870 , FUNCT_1:59
.= ( D91 .: { ( union C131 ) } ) by RELAT_1:def 16;
L925: ( C133 \ { D94 } ) = ( ( D103 .: C131 ) \ ( D91 .: { D93 } ) ) by L924 , L891 , L849 , RELAT_1:129
.= ( ( D103 .: C131 ) \ ( D103 .: { D93 } ) ) by L891 , L898 , RELAT_1:129 , XBOOLE_1:1
.= ( D103 .: ( C131 \ { D93 } ) ) by FUNCT_1:64
.= ( D91 .: ( C131 \ { D93 } ) ) by L897 , L891 , RELAT_1:129 , XBOOLE_1:1;
L926: ( conv ( ( @ C133 ) \ { D94 } ) ) c= ( conv ( union D99 ) ) by L925 , CONVEX1:30 , RLAFFIN2:17;
L927: C136 in ( conv ( union D99 ) ) by L926 , L920;
L928: ( card ( union D97 ) ) < ( C130 + 1 ) by L868 , L904 , CARD_2:48;
L929: ( card ( union D97 ) ) <= C130 by L928 , NAT_1:13;
L930: ( union D96 ) c= D93 by XBOOLE_1:36 , ZFMISC_1:77;
L931: D95 in ( conv ( @ C134 ) ) by L878 , RLAFFIN2:def 1;
L932: ( D102 . D94 ) <= 1 by L931 , L845 , RLAFFIN1:71;
L933: ( D102 . D94 ) < 1
proof
assume L934: ( D102 . D94 ) >= 1;
L935: ( D102 . D94 ) = 1 by L934 , L932 , XXREAL_0:1;
thus L936: contradiction by L935 , L845 , L889 , L931 , RLAFFIN1:72;
end;
L937: ( conv ( @ C134 ) ) c= ( Affin ( @ C134 ) ) by RLAFFIN1:65;
L938: D95 = ( Sum D102 ) by L937 , L845 , L931 , RLAFFIN1:def 7;
L939: D94 in ( Carrier D102 ) by L938 , L845 , L873 , L878 , L931 , RLAFFIN1:71 , RLAFFIN2:11;
L940: ( D102 . D94 ) <> ( 0 ) by L939 , RLVECT_2:19;
L941: D102 is  convex by L845 , L931 , RLAFFIN1:71;
consider C137 being (Element of R11) such that L942: C137 in ( conv ( ( @ C134 ) \ { D94 } ) ) and L943: D95 = ( ( ( D102 . D94 ) * D94 ) + ( ( 1 - ( D102 . D94 ) ) * C137 ) ) and L944: ( ( ( 1 / ( D102 . D94 ) ) * D95 ) + ( ( 1 - ( 1 / ( D102 . D94 ) ) ) * C137 ) ) = D94 by L941 , L889 , L938 , L940 , RLAFFIN2:1;
L945: C137 in ( Int ( ( @ C134 ) \ { D94 } ) ) by L845 , L873 , L878 , L942 , L943 , RLAFFIN2:14;
L946: ( @ D93 ) is non  empty  finite non  empty  finite non  empty  finite non  empty  finite (Subset of R11) by L868;
L947: D94 in ( Int ( @ D93 ) ) by L946 , L859 , RLAFFIN2:20;
L948: D94 in ( conv ( @ D93 ) ) by L947 , RLAFFIN2:def 1;
L949: C132 c= (the topology of R17)
proof
let R1 being set;
assume L950: R1 in C132;
reconsider D105 = R1 as (Subset of R17) by L950;
L951: D105 is  simplex-like by L950 , TOPS_2:def 1;
thus L952: thesis by L951 , PRE_TOPC:def 2;
end;
L953: ( union D96 ) <> D93
proof
assume L954: ( union D96 ) = D93;
L955: ( union D96 ) in D96 by L954 , L869 , SIMPLEX0:9 , ZFMISC_1:2;
thus L956: contradiction by L955 , L954 , ZFMISC_1:56;
end;
L957: ( union D96 ) c< D93 by L953 , L930 , XBOOLE_0:def 8;
consider C138 being set such that L958: C138 in ( @ D93 ) and L959: (not C138 in ( union D99 )) by L957 , XBOOLE_0:6;
reconsider D106 = C138 as (Element of R11) by L958;
L960: ( union D99 ) c= ( D93 \ { D106 } ) by L930 , L959 , ZFMISC_1:34;
L961: ( conv ( union D99 ) ) c= ( conv ( @ ( D93 \ { D106 } ) ) ) by L960 , RLAFFIN1:3;
L962: (( D93 \ { D106 } ) c= D93 & ( D93 \ { D106 } ) <> D93) by L958 , XBOOLE_1:36 , ZFMISC_1:56;
L963: ( D93 \ { D106 } ) c< D93 by L962 , XBOOLE_0:def 8;
L964: (not D94 in ( conv ( @ ( D93 \ { D106 } ) ) )) by L963 , L947 , RLAFFIN2:def 1;
L965: ( card ( union D96 ) ) < ( C130 + 1 ) by L868 , L957 , CARD_2:48;
L966: ( card ( union D96 ) ) <= C130 by L965 , NAT_1:13;
L967: (( D93 \ { D104 } ) c= D93 & ( D93 \ { D104 } ) <> D93) by L905 , XBOOLE_1:36 , ZFMISC_1:56;
L968: ( D93 \ { D104 } ) c< D93 by L967 , XBOOLE_0:def 8;
L969: (not D94 in ( conv ( @ ( D93 \ { D104 } ) ) )) by L968 , L947 , RLAFFIN2:def 1;
L970: { D93 } c= C132 by L854 , L865 , L868 , ZFMISC_1:2 , ZFMISC_1:31;
L971: ( C132 \ { D93 } ) c= C132 by XBOOLE_1:36;
L972: ( C134 \ { D94 } ) = ( ( D103 .: C132 ) \ ( D91 .: { D93 } ) ) by L949 , L850 , L924 , RELAT_1:129
.= ( ( D103 .: C132 ) \ ( D103 .: { D93 } ) ) by L970 , L949 , RELAT_1:129 , XBOOLE_1:1
.= ( D103 .: ( C132 \ { D93 } ) ) by FUNCT_1:64
.= ( D91 .: ( C132 \ { D93 } ) ) by L949 , L971 , RELAT_1:129 , XBOOLE_1:1;
L973: ( conv ( ( @ C134 ) \ { D94 } ) ) c= ( conv ( union D100 ) ) by L972 , CONVEX1:30 , RLAFFIN2:17;
L974: C137 in ( conv ( union D100 ) ) by L973 , L942;
L975: D95 in ( conv ( @ D93 ) ) by L849 , L862 , L877 , RLAFFIN2:def 1;
L976: C137 = C136 by L975 , L859 , L911 , L921 , L933 , L943 , L948 , L908 , L927 , L969 , L961 , L964 , L974 , RLAFFIN2:2;
L977: ( Int ( ( @ C133 ) \ { D94 } ) ) meets ( Int ( ( @ C134 ) \ { D94 } ) ) by L976 , L923 , L945 , XBOOLE_0:3;
L978: (( ( @ C133 ) \ { D94 } ) = ( @ ( C133 \ { D94 } ) ) & ( ( @ C134 ) \ { D94 } ) = ( @ ( C134 \ { D94 } ) ));
L979: ( C133 \ { D94 } ) = ( C134 \ { D94 } ) by L978 , L848 , L929 , L925 , L966 , L972 , L977;
thus L980: C133 = ( ( C134 \ { D94 } ) \/ { D94 } ) by L979 , L871 , ZFMISC_1:116
.= C134 by L873 , ZFMISC_1:116;
end;
end;
end;
L983: S7[ (( 0 ) qua Nat) ]
proof
let C139 , C140 being  c=-linear  finite  simplex-like (Subset-Family of R17);
let C141 , C142 being (Simplex of D92);
assume that
L984: C141 = ( D91 .: C139 )
and
L985: C142 = ( D91 .: C140 )
and
L986: ( card ( union C139 ) ) <= ( 0 )
and
L987: ( card ( union C140 ) ) <= ( 0 )
and
L988: ( Int ( @ C141 ) ) meets ( Int ( @ C142 ) );
L989: ( Int ( @ C141 ) ) is non  empty by L988 , XBOOLE_1:65;
L990: C141 is non  empty by L989;
consider R2 being set such that L991: R2 in C141 by L990 , XBOOLE_0:def 1;
consider R1 being set such that L992: R1 in ( dom D91 ) and L993: R1 in C139 and L994: ( D91 . R1 ) = R2 by L984 , L991 , FUNCT_1:def 6;
L995: R1 <> ( {} ) by L992 , ZFMISC_1:56;
L996: ( union C139 ) is  empty by L986;
L997: R1 c= ( {} ) by L996 , L993 , ZFMISC_1:74;
thus L998: thesis by L997 , L995;
end;
L999: (for R5 being Nat holds S7[ R5 ]) from NAT_1:sch 2(L983 , L847);
L1000:
now
let C143 , C144 being (Subset of D92);
assume that
L1001: C143 is  simplex-like
and
L1002: C144 is  simplex-like
and
L1003: ( Int ( @ C143 ) ) meets ( Int ( @ C144 ) );
consider C145 being  c=-linear  finite  simplex-like (Subset-Family of R17) such that L1004: C143 = ( D91 .: C145 ) by L844 , L1001 , SIMPLEX0:def 20;
consider C146 being  c=-linear  finite  simplex-like (Subset-Family of R17) such that L1005: C144 = ( D91 .: C146 ) by L844 , L1002 , SIMPLEX0:def 20;
L1006: (( card ( union C145 ) ) <= ( card ( union C146 ) ) or ( card ( union C146 ) ) <= ( card ( union C145 ) ));
thus L1007: C143 = C144 by L1006 , L999 , L1001 , L1002 , L1003 , L1004 , L1005;
end;
thus L1008: thesis by L1000 , L699;
end;
registration
let R11 being RealLinearSpace;
let R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11);
cluster ( BCS R18 ) ->  simplex-join-closed;
coherence
proof
L1009: ( [#] R18 ) = (the carrier of R11) by SIMPLEX0:def 10;
L1010: |. R18 .| c= ( [#] R18 ) by L1009;
thus L1011: thesis by L1010 , L842;
end;
let R5 being Nat;
cluster ( BCS (R5 , R18) ) ->  simplex-join-closed;
coherence
proof
defpred S8[ Nat ] means ( BCS ($1 , R18) ) is  simplex-join-closed  affinely-independent;
L1012: ( [#] R18 ) = ( [#] R11 ) by SIMPLEX0:def 10;
L1013: |. R18 .| c= ( [#] R18 ) by L1012;
L1014: (for R5 being Nat holds (S8[ R5 ] implies S8[ ( R5 + 1 ) ]))
proof
let R5 being Nat;
assume that
L1015: S8[ R5 ];
L1016: ( BCS (( R5 + 1 ) , R18) ) = ( BCS ( BCS (R5 , R18) ) ) by L1013 , L464;
thus L1017: thesis by L1016 , L1015;
end;
L1018: S8[ (( 0 ) qua Nat) ] by L1013 , L453;
L1019: (for R5 being Nat holds S8[ R5 ]) from NAT_1:sch 2(L1018 , L1014);
thus L1020: thesis by L1019;
end;
end;
theorem
L1022: (for R11 being RealLinearSpace holds (for R12 being non  void (SimplicialComplex of R11) holds ((|. R12 .| c= ( [#] R12 ) & (for R5 being Nat holds (R5 <= ( degree R12 ) implies (ex B76 being (Simplex of R12) st (( card B76 ) = ( R5 + 1 ) & ( @ B76 ) is  affinely-independent))))) implies ( degree R12 ) = ( degree ( BCS R12 ) ))))
proof
let R11 being RealLinearSpace;
let R12 being non  void (SimplicialComplex of R11);
assume that
L1023: |. R12 .| c= ( [#] R12 )
and
L1024: (for R5 being Nat holds (R5 <= ( degree R12 ) implies (ex B77 being (Simplex of R12) st (( card B77 ) = ( R5 + 1 ) & ( @ B77 ) is  affinely-independent))));
L1025: ( dom ( center_of_mass R11 ) ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L1026: (for R5 being Nat holds (R5 <= ( degree R12 ) implies (ex B78 being (Subset of R12) st (B78 is  simplex-like & ( card B78 ) = ( R5 + 1 ) & ( BOOL B78 ) c= ( dom ( center_of_mass R11 ) ) & ( ( center_of_mass R11 ) .: ( BOOL B78 ) ) is (Subset of R12) & ( ( center_of_mass R11 ) | ( BOOL B78 ) ) is  one-to-one))))
proof
let R5 being Nat;
assume L1027: R5 <= ( degree R12 );
consider C147 being (Simplex of R12) such that L1028: ( card C147 ) = ( R5 + 1 ) and L1029: ( @ C147 ) is  affinely-independent by L1027 , L1024;
take C147;
thus L1030: (C147 is  simplex-like & ( card C147 ) = ( R5 + 1 )) by L1028;
L1031: (the topology of ( Complex_of { ( @ C147 ) } )) = ( bool C147 ) by SIMPLEX0:4;
reconsider D107 = { ( @ C147 ) } as  affinely-independent (Subset-Family of R11) by L1029;
L1032: ( ( center_of_mass R11 ) .: ( BOOL C147 ) ) c= ( conv ( @ C147 ) )
proof
let R2 being set;
assume L1033: R2 in ( ( center_of_mass R11 ) .: ( BOOL C147 ) );
consider R1 being set such that L1034: R1 in ( dom ( center_of_mass R11 ) ) and L1035: (R1 in ( BOOL C147 ) & ( ( center_of_mass R11 ) . R1 ) = R2) by L1033 , FUNCT_1:def 6;
reconsider D108 = R1 as non  empty (Subset of R11) by L1034 , ZFMISC_1:56;
L1036: (( conv D108 ) c= ( conv ( @ C147 ) ) & R2 in ( conv D108 )) by L1035 , RLAFFIN2:16 , RLTOPSP1:20;
thus L1037: thesis by L1036;
end;
L1038: ( bool ( @ C147 ) ) c= ( bool (the carrier of R11) ) by ZFMISC_1:67;
thus L1039: ( BOOL C147 ) c= ( dom ( center_of_mass R11 ) ) by L1038 , L1025 , XBOOLE_1:33;
L1040: ( conv ( @ C147 ) ) c= |. R12 .| by L197;
L1041: ( conv ( @ C147 ) ) c= ( [#] R12 ) by L1040 , L1023 , XBOOLE_1:1;
thus L1042: ( ( center_of_mass R11 ) .: ( BOOL C147 ) ) is (Subset of R12) by L1041 , L1032 , XBOOLE_1:1;
L1043: (( ( ( center_of_mass R11 ) | ( bool C147 ) ) | ( BOOL C147 ) ) = ( ( center_of_mass R11 ) | ( BOOL C147 ) ) & ( Complex_of D107 ) is (SimplicialComplex of R11)) by RELAT_1:74;
thus L1044: thesis by L1043 , L1029 , L1031 , FUNCT_1:52;
end;
L1045: (not ( {} ) in ( dom ( center_of_mass R11 ) )) by ZFMISC_1:56;
L1046: ( dom ( center_of_mass R11 ) ) is  with_non-empty_elements by L1045 , SETFAM_1:def 8;
L1047: ( BCS R12 ) = ( subdivision (( center_of_mass R11 ) , R12) ) by L1023 , L436;
thus L1048: thesis by L1047 , L1026 , L1046 , SIMPLEX0:53;
end;
theorem
L1049: (for R11 being RealLinearSpace holds (for R16 being non  void  affinely-independent (SimplicialComplex of R11) holds (|. R16 .| c= ( [#] R16 ) implies ( degree R16 ) = ( degree ( BCS R16 ) ))))
proof
let R11 being RealLinearSpace;
let R16 being non  void  affinely-independent (SimplicialComplex of R11);
L1050: (for R5 being Nat holds (R5 <= ( degree R16 ) implies (ex B79 being (Simplex of R16) st (( card B79 ) = ( R5 + 1 ) & ( @ B79 ) is  affinely-independent))))
proof
let R5 being Nat;
reconsider D109 = R5 as  ext-real number;
set D110 = the (Simplex of R5 , R16);
assume L1051: R5 <= ( degree R16 );
L1052: ( card D110 ) = ( D109 + 1 ) by L1051 , SIMPLEX0:def 18;
L1053: (( D109 + 1 ) = ( R5 + 1 ) & ( @ D110 ) is  affinely-independent) by XXREAL_3:def 2;
thus L1054: thesis by L1053 , L1052;
end;
assume L1055: |. R16 .| c= ( [#] R16 );
thus L1056: thesis by L1055 , L1050 , L1022;
end;
theorem
L1057: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R16 being non  void  affinely-independent (SimplicialComplex of R11) holds (|. R16 .| c= ( [#] R16 ) implies ( degree R16 ) = ( degree ( BCS (R5 , R16) ) )))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R16 being non  void  affinely-independent (SimplicialComplex of R11);
defpred S9[ Nat ] means (( degree R16 ) = ( degree ( BCS ($1 , R16) ) ) & ( BCS ($1 , R16) ) is non  void  affinely-independent);
assume L1058: |. R16 .| c= ( [#] R16 );
L1059: (for R5 being Nat holds (S9[ R5 ] implies S9[ ( R5 + 1 ) ]))
proof
let R5 being Nat;
assume that
L1060: S9[ R5 ];
L1061: ( [#] ( BCS (R5 , R16) ) ) = ( [#] R16 ) by L1058 , L459;
L1062: (( BCS (( R5 + 1 ) , R16) ) = ( BCS ( BCS (R5 , R16) ) ) & |. ( BCS (R5 , R16) ) .| = |. R16 .|) by L1058 , L265 , L464;
thus L1063: thesis by L1062 , L1058 , L1060 , L1061 , L796 , L1049;
end;
L1064: S9[ (( 0 ) qua Nat) ] by L1058 , L453;
L1065: (for R5 being Nat holds S9[ R5 ]) from NAT_1:sch 2(L1064 , L1059);
thus L1066: thesis by L1065;
end;
theorem
L1067: (for R11 being RealLinearSpace holds (for R17 being non  void  affinely-independent  simplex-join-closed (SimplicialComplex of R11) holds (for B80 being  simplex-like (Subset-Family of R17) holds (B80 is  with_non-empty_elements implies ( card B80 ) = ( card ( ( center_of_mass R11 ) .: B80 ) )))))
proof
let R11 being RealLinearSpace;
let R17 being non  void  affinely-independent  simplex-join-closed (SimplicialComplex of R11);
set D111 = ( center_of_mass R11 );
set D112 = (the topology of R17);
let C148 being  simplex-like (Subset-Family of R17);
assume that
L1068: C148 is  with_non-empty_elements;
L1069: (not ( {} ) in C148) by L1068;
L1070: ( [#] R17 ) c= (the carrier of R11) by SIMPLEX0:def 9;
L1071: ( bool (the carrier of R17) ) c= ( bool (the carrier of R11) ) by L1070 , ZFMISC_1:67;
L1072: (( dom D111 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) & C148 c= ( bool (the carrier of R11) )) by L1071 , FUNCT_2:def 1 , XBOOLE_1:1;
L1073: ( dom ( D111 | C148 ) ) = C148 by L1072 , L1069 , RELAT_1:62 , ZFMISC_1:34;
L1074: C148 c= D112
proof
let R1 being set;
assume L1075: R1 in C148;
L1076: R1 is (Simplex of R17) by L1075 , TOPS_2:def 1;
thus L1077: thesis by L1076 , PRE_TOPC:def 2;
end;
L1078: ( ( D111 | D112 ) | C148 ) = ( D111 | C148 ) by L1074 , RELAT_1:74;
L1079: ( D111 | C148 ) is  one-to-one by L1078 , FUNCT_1:52;
L1080: ( D111 .: C148 ) = ( rng ( D111 | C148 ) ) by RELAT_1:115;
L1081: C148 , ( D111 .: C148 ) are_equipotent  by L1080 , L1073 , L1079 , WELLORD2:def 4;
thus L1082: thesis by L1081 , CARD_1:5;
end;
theorem
L1083: (for R11 being RealLinearSpace holds (for R17 being non  void  affinely-independent  simplex-join-closed (SimplicialComplex of R11) holds (for B81 , B82 being  simplex-like (Subset-Family of R17) holds ((|. R17 .| c= ( [#] R17 ) & B81 is  with_non-empty_elements & ( ( center_of_mass R11 ) .: B82 ) is (Simplex of ( BCS R17 )) & ( ( center_of_mass R11 ) .: B81 ) c= ( ( center_of_mass R11 ) .: B82 )) implies (B81 c= B82 & B82 is  c=-linear)))))
proof
let R11 being RealLinearSpace;
let R17 being non  void  affinely-independent  simplex-join-closed (SimplicialComplex of R11);
set D113 = ( center_of_mass R11 );
set D114 = ( BCS R17 );
let C149 , C150 being  simplex-like (Subset-Family of R17);
assume that
L1084: |. R17 .| c= ( [#] R17 )
and
L1085: C149 is  with_non-empty_elements
and
L1086: ( D113 .: C150 ) is (Simplex of ( BCS R17 ))
and
L1087: ( D113 .: C149 ) c= ( D113 .: C150 );
L1088: D114 = ( subdivision (D113 , R17) ) by L1084 , L436;
consider C151 being  c=-linear  finite  simplex-like (Subset-Family of R17) such that L1089: ( D113 .: C150 ) = ( D113 .: C151 ) by L1088 , L1086 , SIMPLEX0:def 20;
reconsider D115 = ( C150 \ { ( {} ) } ) as  simplex-like (Subset-Family of R17) by TOPS_2:11 , XBOOLE_1:36;
set D116 = (the topology of R17);
set D117 = ( D113 | D116 );
L1090: ( dom D117 ) = ( ( dom D113 ) /\ D116 ) by RELAT_1:61;
L1091: D115 c= D116 by SIMPLEX0:14;
L1092: ( dom D113 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L1093: ( ( @ C150 ) \ { ( {} ) } ) c= ( dom D113 ) by L1092 , XBOOLE_1:33;
L1094: D115 c= ( ( dom D113 ) /\ D116 ) by L1093 , L1091 , XBOOLE_1:19;
L1095: D115 c= ( dom D117 ) by L1094 , RELAT_1:61;
L1096: ( C151 /\ ( dom D113 ) ) c= C151 by XBOOLE_1:17;
reconsider D118 = ( C151 /\ ( dom D113 ) ) as  c=-linear  finite  simplex-like (Subset-Family of R17) by L1096 , TOPS_2:11 , XBOOLE_1:1;
L1097: D118 c= D116 by SIMPLEX0:14;
L1098: (( D113 .: C151 ) = ( D113 .: ( C151 /\ ( dom D113 ) ) ) & ( D113 .: D118 ) = ( D117 .: D118 )) by L1097 , RELAT_1:112 , RELAT_1:129;
L1099: ( C151 /\ ( dom D113 ) ) c= ( dom D113 ) by XBOOLE_1:17;
L1100: D118 c= ( dom D117 ) by L1099 , L1090 , L1097 , XBOOLE_1:19;
L1101: C150 c= D116 by SIMPLEX0:14;
L1102: ( D113 .: C150 ) = ( D117 .: C150 ) by L1101 , RELAT_1:129;
L1103: D118 c= C150 by L1102 , L1089 , L1098 , L1100 , FUNCT_1:87;
L1104: C149 c= D116 by SIMPLEX0:14;
L1105: ( C150 /\ ( dom D113 ) ) = ( ( ( @ C150 ) /\ ( bool (the carrier of R11) ) ) \ { ( {} ) } ) by L1092 , XBOOLE_1:49
.= D115 by XBOOLE_1:28;
L1106: ( D113 .: C150 ) = ( D113 .: D115 ) by L1105 , RELAT_1:112;
L1107: ( D117 .: D115 ) = ( D113 .: C150 ) by L1106 , L1091 , RELAT_1:129;
L1108: D115 c= D118 by L1107 , L1089 , L1098 , L1095 , FUNCT_1:87;
L1109: (( @ C149 ) c= ( bool (the carrier of R11) ) & (not ( {} ) in C149)) by L1085;
L1110: C149 c= ( dom D113 ) by L1109 , L1092 , ZFMISC_1:34;
L1111: C149 c= ( dom D117 ) by L1110 , L1090 , L1104 , XBOOLE_1:19;
L1112: ( D113 .: C149 ) = ( D117 .: C149 ) by L1104 , RELAT_1:129;
L1113: C149 c= D118 by L1112 , L1087 , L1089 , L1098 , L1111 , FUNCT_1:87;
thus L1114: C149 c= C150 by L1113 , L1103 , XBOOLE_1:1;
let R1 being set;
let R2 being set;
assume that
L1115: (R1 in C150 & R2 in C150);
L1116: ( D113 .: D115 ) = ( D117 .: D115 ) by L1091 , RELAT_1:129;
L1117: D118 c= D115 by L1116 , L1089 , L1098 , L1100 , L1106 , FUNCT_1:87;
L1118: D115 = D118 by L1117 , L1108 , XBOOLE_0:def 10;
per cases ;
suppose L1119: (R1 is  empty or R2 is  empty);

L1120: (R1 c= R2 or R2 c= R1) by L1119 , XBOOLE_1:2;
thus L1121: thesis by L1120 , XBOOLE_0:def 9;
end;
suppose L1122: (R1 is non  empty & R2 is non  empty);

L1123: (R1 in D118 & R2 in D118) by L1122 , L1115 , L1118 , ZFMISC_1:56;
thus L1124: thesis by L1123 , ORDINAL1:def 8;
end;
end;
theorem
L1126: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R19 being  finite  affinely-independent (Subset of R11) holds (for R21 being  finite (Subset of R11) holds (for R23 being  finite (Subset-Family of R11) holds ((R23 is  with_non-empty_elements & ( union R23 ) c= R19 & ( ( ( card R23 ) + R5 ) + 1 ) <= ( card R19 )) implies ((R21 is (Simplex of ( R5 + ( card R23 ) ) , ( BCS ( Complex_of { R19 } ) )) & ( ( center_of_mass R11 ) .: R23 ) c= R21) iff (ex R24 being  finite (Subset-Family of R11) st (R24 misses R23 & ( R24 \/ R23 ) is  c=-linear  with_non-empty_elements & ( card R24 ) = ( R5 + 1 ) & ( union R24 ) c= R19 & R21 = ( ( ( center_of_mass R11 ) .: R23 ) \/ ( ( center_of_mass R11 ) .: R24 ) ))))))))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R19 being  finite  affinely-independent (Subset of R11);
let R21 being  finite (Subset of R11);
let R23 being  finite (Subset-Family of R11);
set D119 = ( center_of_mass R11 );
set D120 = ( union R23 );
assume that
L1127: R23 is  with_non-empty_elements
and
L1128: D120 c= R19
and
L1129: ( ( ( card R23 ) + R5 ) + 1 ) <= ( card R19 );
set D121 = ( Complex_of { R19 } );
reconsider D122 = ( card R19 ) as  ext-real number;
set D123 = ( D119 | (the topology of D121) );
set D124 = ( BCS D121 );
L1130: (the topology of D121) = ( bool R19 ) by SIMPLEX0:4;
L1131: ( degree D121 ) = ( D122 - 1 ) by SIMPLEX0:26
.= ( ( card R19 ) + ( - 1 ) ) by XXREAL_3:def 2;
reconsider D125 = ( ( card R23 ) + R5 ) as  ext-real number;
L1132: |. D121 .| c= ( [#] D121 );
L1133: D124 = ( subdivision (D119 , D121) ) by L1132 , L436;
L1134: ( ( card R23 ) + R5 ) <= ( ( card R19 ) - 1 ) by L1129 , XREAL_1:19;
L1135: ( ( card R23 ) + R5 ) <= ( degree D124 ) by L1134 , L1131 , L1132 , L1049;
thus L1136:now
L1137: R23 c= (the topology of D121)
proof
let R1 being set;
assume L1138: R1 in R23;
L1139: R1 c= D120 by L1138 , ZFMISC_1:74;
L1140: R1 c= R19 by L1139 , L1128 , XBOOLE_1:1;
thus L1141: thesis by L1140 , L1130;
end;
L1142: ( D119 .: R23 ) = ( D123 .: R23 ) by L1137 , RELAT_1:129;
L1143: (( dom D119 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) & (not ( {} ) in R23)) by L1127 , FUNCT_2:def 1;
L1144: (( dom D123 ) = ( ( dom D119 ) /\ (the topology of D121) ) & R23 c= ( dom D119 )) by L1143 , RELAT_1:61 , ZFMISC_1:34;
L1145: R23 c= ( dom D123 ) by L1144 , L1137 , XBOOLE_1:19;
assume that
L1146: R21 is (Simplex of ( R5 + ( card R23 ) ) , ( BCS ( Complex_of { R19 } ) ))
and
L1147: ( D119 .: R23 ) c= R21;
consider C152 being  c=-linear  finite  simplex-like (Subset-Family of D121) such that L1148: R21 = ( D119 .: C152 ) by L1133 , L1146 , SIMPLEX0:def 20;
L1149: ( C152 /\ ( dom D119 ) ) c= C152 by XBOOLE_1:17;
reconsider D126 = ( C152 /\ ( dom D119 ) ) as  c=-linear  finite  simplex-like (Subset-Family of D121) by L1149 , TOPS_2:11 , XBOOLE_1:1;
L1150: ( D119 .: R23 ) c= ( D119 .: D126 ) by L1147 , L1148 , RELAT_1:112;
reconsider D127 = ( D126 \ R23 ) as (Subset-Family of R11);
L1151: D126 c= (the topology of D121) by SIMPLEX0:14;
L1152: ( D119 .: D126 ) = ( D123 .: D126 ) by L1151 , RELAT_1:129;
L1153: ( R23 \/ D127 ) = ( D126 \/ R23 ) by XBOOLE_1:39
.= D126 by L1142 , L1145 , L1150 , L1152 , FUNCT_1:87 , XBOOLE_1:12;
L1154: D127 c= D126 by XBOOLE_1:36;
L1155: D127 c= ( bool R19 ) by L1154 , L1130 , L1151 , XBOOLE_1:1;
L1156: (not ( {} ) in D126) by ZFMISC_1:56;
L1157: (( D119 .: C152 ) = ( D119 .: ( C152 /\ ( dom D119 ) ) ) & D126 is  with_non-empty_elements) by L1156 , RELAT_1:112 , SETFAM_1:def 8;
L1158: ( card R21 ) = ( card D126 ) by L1157 , L1148 , L1067;
L1159: R21 = ( D119 .: D126 ) by L1148 , RELAT_1:112
.= ( ( D119 .: R23 ) \/ ( D119 .: D127 ) ) by L1153 , RELAT_1:120;
reconsider D128 = D127 as  finite (Subset-Family of R11);
take D129 = D128;
L1160: ( card R21 ) = ( D125 + 1 ) by L1135 , L1146 , SIMPLEX0:def 18
.= ( ( ( card R23 ) + R5 ) + 1 ) by XXREAL_3:def 2;
L1161: (( union ( bool R19 ) ) = R19 & ( ( card R23 ) + ( card ( D126 \ R23 ) ) ) = ( ( ( card R23 ) + R5 ) + 1 )) by L1160 , L1153 , L1158 , CARD_2:40 , XBOOLE_1:79 , ZFMISC_1:81;
thus L1162: (D129 misses R23 & ( D129 \/ R23 ) is  c=-linear  with_non-empty_elements & ( card D129 ) = ( R5 + 1 ) & ( union D129 ) c= R19 & R21 = ( ( D119 .: R23 ) \/ ( D119 .: D129 ) )) by L1161 , L1153 , L1155 , L1156 , L1159 , SETFAM_1:def 8 , XBOOLE_1:79 , ZFMISC_1:77;
end;
given C153 being  finite (Subset-Family of R11) such that
L1163: C153 misses R23
and
L1164: ( C153 \/ R23 ) is  c=-linear  with_non-empty_elements
and
L1165: ( card C153 ) = ( R5 + 1 )
and
L1166: ( union C153 ) c= R19
and
L1167: R21 = ( ( ( center_of_mass R11 ) .: R23 ) \/ ( ( center_of_mass R11 ) .: C153 ) );

reconsider D130 = ( C153 \/ R23 ) as (Subset-Family of D121);
reconsider D131 = C153 as  finite (Subset-Family of R11);
L1168: ( card D130 ) = ( ( card D131 ) + ( card R23 ) ) by L1163 , CARD_2:40
.= ( ( ( card R23 ) + R5 ) + 1 ) by L1165;
L1169: ( union ( C153 \/ R23 ) ) = ( ( union C153 ) \/ ( union R23 ) ) by ZFMISC_1:78;
L1170: ( union ( C153 \/ R23 ) ) c= R19 by L1169 , L1128 , L1166 , XBOOLE_1:8;
L1171: (( C153 \/ R23 ) c= ( bool ( union ( C153 \/ R23 ) ) ) & ( bool ( union ( C153 \/ R23 ) ) ) c= ( bool R19 )) by L1170 , ZFMISC_1:67 , ZFMISC_1:82;
L1172: ( C153 \/ R23 ) c= (the topology of D121) by L1171 , L1130 , XBOOLE_1:1;
L1173: D130 is  simplex-like
proof
let C154 being (Subset of D121);
thus L1174: thesis by L1172 , PRE_TOPC:def 2;
end;
L1175: ( [#] D124 ) = ( [#] D121 ) by L1133 , SIMPLEX0:def 20;
reconsider D132 = ( D119 .: D130 ) as (Simplex of D124) by L1175 , L1133 , L1164 , L1173 , SIMPLEX0:def 20;
L1176: ( card D130 ) = ( card ( D119 .: D130 ) ) by L1164 , L1173 , L1067;
L1177: ( card D132 ) = ( D125 + 1 ) by L1176 , L1168 , XXREAL_3:def 2;
L1178: D132 = R21 by L1167 , RELAT_1:120;
thus L1179: thesis by L1178 , L1135 , L1167 , L1177 , SIMPLEX0:def 18 , XBOOLE_1:7;
end;
theorem
L1180: (for R11 being RealLinearSpace holds (for R19 being  finite  affinely-independent (Subset of R11) holds (for R25 being  c=-linear  finite  finite-membered (Subset-Family of R11) holds ((R25 is  with_non-empty_elements & ( union R25 ) c= R19) implies (( ( center_of_mass R11 ) .: R25 ) is (Simplex of ( ( card ( union R25 ) ) - 1 ) , ( BCS ( Complex_of { R19 } ) )) iff (for R5 being Nat holds ((( 0 ) < R5 & R5 <= ( card ( union R25 ) )) implies (ex R1 being set st (R1 in R25 & ( card R1 ) = R5)))))))))
proof
let R11 being RealLinearSpace;
let R19 being  finite  affinely-independent (Subset of R11);
let R25 being  c=-linear  finite  finite-membered (Subset-Family of R11);
reconsider D133 = ( 0 ) as Nat;
set D134 = ( union R25 );
assume that
L1181: R25 is  with_non-empty_elements
and
L1182: ( union R25 ) c= R19;
set D135 = ( center_of_mass R11 );
set D136 = ( Complex_of { R19 } );
reconsider D137 = R25 as  c=-linear  finite (Subset-Family of D136);
L1183: (the topology of D136) = ( bool R19 ) by SIMPLEX0:4;
L1184: ( card D134 ) c= ( card R19 ) by L1182 , CARD_1:11;
L1185: ( card D134 ) <= ( card R19 ) by L1184 , NAT_1:39;
L1186: (( D133 - 1 ) <= ( ( card D134 ) - 1 ) & ( ( card D134 ) - 1 ) <= ( ( card R19 ) - 1 )) by L1185 , XREAL_1:9;
L1187: (R25 c= ( bool D134 ) & ( bool D134 ) c= ( bool R19 )) by L1182 , ZFMISC_1:67 , ZFMISC_1:82;
L1188: D137 c= (the topology of D136) by L1187 , L1183 , XBOOLE_1:1;
L1189: D137 is  simplex-like
proof
let C155 being (Subset of D136);
assume L1190: C155 in D137;
thus L1191: thesis by L1190 , L1188 , PRE_TOPC:def 2;
end;
L1192: ( card D137 ) = ( card ( D135 .: R25 ) ) by L1189 , L1181 , L1067;
L1193: ( card R25 ) c= ( card D134 ) by L1181 , SIMPLEX0:10;
L1194: ( card R25 ) <= ( card D134 ) by L1193 , NAT_1:39;
set D138 = ( BCS D136 );
reconsider D139 = ( card R19 ) as  ext-real number;
L1195: ( degree D136 ) = ( D139 - 1 ) by SIMPLEX0:26
.= ( ( card R19 ) + ( - 1 ) ) by XXREAL_3:def 2;
L1196: |. D136 .| c= ( [#] D136 );
L1197: D138 = ( subdivision (D135 , D136) ) by L1196 , L436;
L1198: ( [#] D138 ) = ( [#] D136 ) by L1197 , SIMPLEX0:def 20;
reconsider D140 = ( D135 .: R25 ) as (Subset of D138) by L1198;
L1199: ( D133 - 1 ) <= ( ( card R19 ) - 1 ) by XREAL_1:9;
L1200: ( degree D138 ) = ( degree D136 ) by L1196 , L1049;
thus L1201: (( ( center_of_mass R11 ) .: R25 ) is (Simplex of ( ( card D134 ) - 1 ) , ( BCS ( Complex_of { R19 } ) )) implies (for R5 being Nat holds ((( 0 ) < R5 & R5 <= ( card D134 )) implies (ex R1 being set st (R1 in R25 & ( card R1 ) = R5)))))
proof
assume L1202: ( D135 .: R25 ) is (Simplex of ( ( card D134 ) - 1 ) , D138);
reconsider D141 = ( D135 .: R25 ) as (Simplex of ( ( card D134 ) - 1 ) , D138) by L1202;
reconsider D142 = ( ( card D134 ) - 1 ) as  ext-real number;
let R5 being Nat;
reconsider D143 = R25 as (Subset-Family of D134) by ZFMISC_1:82;
defpred S10[ Nat ] means ($1 < ( card R25 ) implies (ex B83 being  finite set st (B83 in R25 & ( card B83 ) = ( ( card R25 ) - $1 ))));
assume that
L1203: ( 0 ) < R5
and
L1204: R5 <= ( card D134 );
L1205: ( ( card R25 ) - ( 0 ) ) > ( ( card R25 ) - R5 ) by L1203 , XREAL_1:6;
L1206: ( card D141 ) = ( D142 + 1 ) by L1186 , L1195 , L1200 , SIMPLEX0:def 18
.= ( ( ( card D134 ) - 1 ) + 1 ) by XXREAL_3:def 2
.= ( card D134 );
L1207: R25 is non  empty by L1206 , L1203 , L1204;
consider C156 being (Subset-Family of D134) such that L1208: D143 c= C156 and L1209: C156 is  with_non-empty_elements  c=-linear and L1210: ( card D134 ) = ( card C156 ) and L1211: (for B84 being set holds ((B84 in C156 & ( card B84 ) <> 1) implies (ex R1 being set st (R1 in B84 & ( B84 \ { R1 } ) in C156)))) by L1207 , L1181 , SIMPLEX0:9 , SIMPLEX0:13;
L1212: ( card D134 ) = ( card R25 ) by L1181 , L1189 , L1206 , L1067;
L1213: D143 = C156 by L1212 , L1208 , L1210 , CARD_FIN:1;
L1214: (for R5 being Nat holds (S10[ R5 ] implies S10[ ( R5 + 1 ) ]))
proof
let R5 being Nat;
assume that
L1215: S10[ R5 ];
assume L1216: ( R5 + 1 ) < ( card R25 );
consider C157 being  finite set such that L1217: C157 in R25 and L1218: ( card C157 ) = ( ( card R25 ) - R5 ) by L1216 , L1215 , NAT_1:13;
L1219: ( ( R5 + 1 ) - R5 ) < ( ( card R25 ) - R5 ) by L1216 , XREAL_1:9;
consider R1 being set such that L1220: (R1 in C157 & ( C157 \ { R1 } ) in R25) by L1219 , L1211 , L1213 , L1217 , L1218;
reconsider D144 = ( ( card C157 ) - 1 ) as (Element of ( NAT )) by L1218 , L1219 , NAT_1:20;
take ( C157 \ { R1 } );
L1221: ( card C157 ) = ( D144 + 1 );
thus L1222: thesis by L1221 , L1218 , L1220 , STIRL2_1:55;
end;
L1223: S10[ (( 0 ) qua Nat) ] by L1192 , L1206 , L1207 , SIMPLEX0:9;
L1224: (for R5 being Nat holds S10[ R5 ]) from NAT_1:sch 2(L1223 , L1214);
L1225: ( ( card R25 ) - R5 ) is Nat by L1192 , L1204 , L1206 , NAT_1:21;
L1226: (ex B85 being  finite set st (B85 in R25 & ( card B85 ) = ( ( card R25 ) - ( ( card R25 ) - R5 ) ))) by L1225 , L1205 , L1224;
thus L1227: thesis by L1226;
end;

assume L1228: (for R5 being Nat holds ((( 0 ) < R5 & R5 <= ( card D134 )) implies (ex R1 being set st (R1 in R25 & ( card R1 ) = R5))));
per cases ;
suppose L1229: D134 is  empty;

reconsider D145 = ( - 1 ) as  ext-real number;
L1230: (D145 <= ( degree D138 ) & ( 0 ) = ( D145 + 1 )) by L1195 , L1196 , L1199 , L1049 , SIMPLEX0:def 12 , XXREAL_3:7;
L1231: R25 is  empty by L1181 , L1229;
L1232: D140 is  empty by L1231;
L1233: ( card D140 ) = ( 0 ) by L1232;
thus L1234: thesis by L1233 , L1229 , L1230 , L1232 , SIMPLEX0:def 18;
end;
suppose L1235: D134 is non  empty;

reconsider D146 = ( ( card D134 ) - 1 ) as  ext-real number;
consider R1 being set such that L1236: R1 in R25 and L1237: ( card R1 ) = ( card D134 ) by L1228 , L1235;
defpred S11[ set , set ] means ( card $2 ) = $1;
L1238: (for R1 being set holds (R1 in ( Seg ( card D134 ) ) implies (ex R2 being set st (R2 in R25 & S11[ R1 , R2 ]))))
proof
let R1 being set;
assume that
L1239: R1 in ( Seg ( card D134 ) );
reconsider D147 = R1 as Nat by L1239;
L1240: (( 0 ) < D147 & D147 <= ( card D134 )) by L1239 , FINSEQ_1:1;
thus L1241: thesis by L1240 , L1228;
end;
consider C158 being (Function of ( Seg ( card D134 ) ) , R25) such that L1242: (for R1 being set holds (R1 in ( Seg ( card D134 ) ) implies S11[ R1 , ( C158 . R1 ) ])) from FUNCT_2:sch 1(L1238);
L1243:
now
let C159 , C160 being set;
assume that
L1244: C159 in ( dom C158 )
and
L1245: (C160 in ( dom C158 ) & ( C158 . C159 ) = ( C158 . C160 ));
thus L1246: C159 = ( card ( C158 . C159 ) ) by L1242 , L1244
.= C160 by L1242 , L1245;
end;
L1247: (( rng C158 ) c= R25 & C158 is  one-to-one) by L1243 , FUNCT_1:def 4;
L1248: ( dom C158 ) = ( Seg ( card D134 ) ) by L1236 , FUNCT_2:def 1;
L1249: (( card ( Seg ( card D134 ) ) ) = ( card D134 ) & ( card ( Seg ( card D134 ) ) ) c= ( card R25 )) by L1248 , L1247 , CARD_1:10 , FINSEQ_1:57;
L1250: ( card D134 ) <= ( card R25 ) by L1249 , NAT_1:39;
L1251: ( card D140 ) = ( card D134 ) by L1250 , L1192 , L1194 , XXREAL_0:1;
L1252: (D140 is (Simplex of D138) & ( D146 + 1 ) = ( ( ( card D134 ) - 1 ) + 1 )) by L1189 , L1197 , SIMPLEX0:def 20 , XXREAL_3:def 2;
thus L1253: thesis by L1252 , L1186 , L1195 , L1200 , L1251 , SIMPLEX0:def 18;
end;
end;
L1255: (for R11 being RealLinearSpace holds (for B86 being  finite  finite-membered (Subset-Family of R11) holds ((B86 is  c=-linear & B86 is  with_non-empty_elements & ( card B86 ) = ( card ( union B86 ) )) implies (for B87 being non  empty  finite (Subset of R11) holds ((B87 misses ( union B86 ) & ( ( union B86 ) \/ B87 ) is  affinely-independent) implies ( ( ( center_of_mass R11 ) .: B86 ) \/ ( ( center_of_mass R11 ) .: { ( ( union B86 ) \/ B87 ) } ) ) is (Simplex of ( card B86 ) , ( BCS ( Complex_of { ( ( union B86 ) \/ B87 ) } ) )))))))
proof
let R11 being RealLinearSpace;
let C161 being  finite  finite-membered (Subset-Family of R11);
assume that
L1256: C161 is  c=-linear
and
L1257: C161 is  with_non-empty_elements
and
L1258: ( card C161 ) = ( card ( union C161 ) );
set D148 = ( union C161 );
set D149 = ( center_of_mass R11 );
let C162 being non  empty  finite (Subset of R11);
assume that
L1259: C162 misses D148
and
L1260: ( D148 \/ C162 ) is  affinely-independent;
reconsider D150 = ( D148 \/ C162 ) as  finite  affinely-independent (Subset of R11) by L1260;
set D151 = ( Complex_of { D150 } );
reconsider D152 = ( C161 \/ { D150 } ) as (Subset-Family of D151);
L1261: D148 c= D150 by XBOOLE_1:7;
L1262: (the topology of D151) = ( bool D150 ) by SIMPLEX0:4;
L1263: D152 c= (the topology of D151)
proof
let R1 being set;
assume L1264: R1 in D152;
L1265: (R1 in C161 or R1 in { D150 }) by L1264 , XBOOLE_0:def 3;
L1266: (R1 c= D148 or R1 = D150) by L1265 , TARSKI:def 1 , ZFMISC_1:74;
L1267: R1 c= D150 by L1266 , L1261 , XBOOLE_1:1;
thus L1268: thesis by L1267 , L1262;
end;
L1269: D152 is  simplex-like
proof
let C163 being (Subset of D151);
assume L1270: C163 in D152;
thus L1271: thesis by L1270 , L1263 , PRE_TOPC:def 2;
end;
set D153 = ( BCS D151 );
L1272: |. D151 .| c= ( [#] D151 );
L1273: D153 = ( subdivision (D149 , D151) ) by L1272 , L436;
L1274: ( [#] D153 ) = ( [#] D151 ) by L1273 , SIMPLEX0:def 20;
reconsider D154 = ( D149 .: D152 ) as (Subset of D153) by L1274;
L1275: D152 is  c=-linear
proof
let C164 , C165 being set;
assume that
L1276: (C164 in D152 & C165 in D152);
per cases  by L1276 , XBOOLE_0:def 3;
suppose L1277: (C164 in C161 & C165 in C161);

thus L1278: thesis by L1277 , L1256 , ORDINAL1:def 8;
end;
suppose L1279: (C164 in C161 & C165 in { D150 });

L1280: (C164 c= D148 & C165 = D150) by L1279 , TARSKI:def 1 , ZFMISC_1:74;
L1281: C164 c= C165 by L1280 , L1261 , XBOOLE_1:1;
thus L1282: thesis by L1281 , XBOOLE_0:def 9;
end;
suppose L1283: (C164 in { D150 } & C165 in C161);

L1284: (C164 = D150 & C165 c= D148) by L1283 , TARSKI:def 1 , ZFMISC_1:74;
L1285: C165 c= C164 by L1284 , L1261 , XBOOLE_1:1;
thus L1286: thesis by L1285 , XBOOLE_0:def 9;
end;
suppose L1287: (C164 in { D150 } & C165 in { D150 });

L1288: C164 = D150 by L1287 , TARSKI:def 1;
thus L1289: thesis by L1288 , L1287 , TARSKI:def 1;
end;
end;
reconsider D155 = D154 as (Simplex of D153) by L1275 , L1269 , L1273 , SIMPLEX0:def 20;
reconsider D156 = ( card D150 ) as  ext-real number;
L1291: ( degree D151 ) = ( D156 - 1 ) by SIMPLEX0:26
.= ( ( card D150 ) + ( - 1 ) ) by XXREAL_3:def 2;
L1292: D150 <> D148
proof
assume L1293: D150 = D148;
L1294: C162 c= D148 by L1293 , XBOOLE_1:7;
thus L1295: contradiction by L1294 , L1259 , XBOOLE_1:67;
end;
L1296: (not D150 in C161)
proof
assume L1297: D150 in C161;
L1298: D150 c= D148 by L1297 , ZFMISC_1:74;
thus L1299: contradiction by L1298 , L1261 , L1292 , XBOOLE_0:def 10;
end;
L1300: ( card D152 ) = ( ( card C161 ) + 1 ) by L1296 , CARD_2:41;
L1301: D148 c< D150 by L1261 , L1292 , XBOOLE_0:def 8;
L1302: ( card D148 ) < ( card D150 ) by L1301 , CARD_2:48;
L1303: ( ( card D148 ) + 1 ) <= ( card D150 ) by L1302 , NAT_1:13;
L1304: ( card D148 ) <= ( ( card D150 ) - 1 ) by L1303 , XREAL_1:19;
reconsider D157 = ( card C161 ) as  ext-real number;
L1305: ( card D155 ) = ( card D152 ) by L1257 , L1269 , L1067;
L1306: ( card D155 ) = ( D157 + 1 ) by L1305 , L1300 , XXREAL_3:def 2;
L1307: ( degree D153 ) = ( degree D151 ) by L1272 , L1049;
L1308: D155 is (Simplex of ( card C161 ) , D153) by L1307 , L1258 , L1291 , L1304 , L1306 , SIMPLEX0:def 18;
thus L1309: thesis by L1308 , RELAT_1:120;
end;
theorem
L1310: (for R11 being RealLinearSpace holds (for R23 being  finite (Subset-Family of R11) holds ((R23 is  c=-linear & R23 is  with_non-empty_elements & ( card R23 ) = ( card ( union R23 ) )) implies (for R20 being  finite (Subset of R11) holds (for R21 being  finite (Subset of R11) holds ((R20 is non  empty & R20 misses ( union R23 ) & ( ( union R23 ) \/ R20 ) is  affinely-independent & ( ( union R23 ) \/ R20 ) c= R21) implies ( ( ( center_of_mass R11 ) .: R23 ) \/ ( ( center_of_mass R11 ) .: { ( ( union R23 ) \/ R20 ) } ) ) is (Simplex of ( card R23 ) , ( BCS ( Complex_of { R21 } ) ))))))))
proof
let R11 being RealLinearSpace;
let C166 being  finite (Subset-Family of R11);
assume that
L1311: (C166 is  c=-linear & C166 is  with_non-empty_elements)
and
L1312: ( card C166 ) = ( card ( union C166 ) );
set D158 = ( union C166 );
set D159 = ( center_of_mass R11 );
let C167 , C168 being  finite (Subset of R11);
assume that
L1313: C167 is non  empty
and
L1314: (C167 misses D158 & ( D158 \/ C167 ) is  affinely-independent)
and
L1315: ( D158 \/ C167 ) c= C168;
reconsider D160 = ( D158 \/ C167 ) as  finite (Subset of R11) by L1315;
L1316: ( dom D159 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L1317: D160 in ( dom D159 ) by L1316 , L1313 , ZFMISC_1:56;
L1318: { ( D159 . D160 ) } = ( Im (D159 , D160) ) by L1317 , FUNCT_1:59
.= ( D159 .: { D160 } ) by RELAT_1:def 16;
set D161 = ( Complex_of { D160 } );
set D162 = ( Complex_of { C168 } );
L1319: { D160 } is_finer_than { C168 }
proof
let R1 being set;
assume L1320: R1 in { D160 };
L1321: R1 = D160 by L1320 , TARSKI:def 1;
L1322: C168 in { C168 } by TARSKI:def 1;
thus L1323: thesis by L1322 , L1315 , L1321;
end;
L1324: D161 is (SubSimplicialComplex of D162) by L1319 , SIMPLEX0:30;
L1325: ( subdivision (D159 , D161) ) is (SubSimplicialComplex of ( subdivision (D159 , D162) )) by L1324 , SIMPLEX0:58;
L1326: |. D161 .| c= ( [#] D161 );
L1327: ( subdivision (D159 , D161) ) = ( BCS D161 ) by L1326 , L436;
L1328: |. D162 .| c= ( [#] D162 );
L1329: ( BCS D161 ) is (SubSimplicialComplex of ( BCS D162 )) by L1328 , L1325 , L1327 , L436;
L1330: C166 is  finite-membered
proof
let R1 being set;
assume L1331: R1 in C166;
L1332: R1 c= ( union C166 ) by L1331 , ZFMISC_1:74;
L1333: ( union C166 ) is  finite by L1312;
thus L1334: thesis by L1333 , L1332;
end;
L1335: ( ( D159 .: C166 ) \/ ( D159 .: { D160 } ) ) is (Simplex of ( card C166 ) , ( BCS D161 )) by L1330 , L1311 , L1312 , L1313 , L1314 , L1255;
thus L1336: thesis by L1335 , L1318 , L1329 , SIMPLEX0:49;
end;
theorem
L1337: (for R11 being RealLinearSpace holds (for R25 being  c=-linear  finite  finite-membered (Subset-Family of R11) holds ((R25 is  with_non-empty_elements & ( card R25 ) = ( card ( union R25 ) )) implies (for B88 being (Element of R11) holds (((not B88 in ( union R25 )) & ( ( union R25 ) \/ { B88 } ) is  affinely-independent) implies { B89 where B89 is (Simplex of ( card R25 ) , ( BCS ( Complex_of { ( ( union R25 ) \/ { B88 } ) } ) )) : ( ( center_of_mass R11 ) .: R25 ) c= B89 } = { ( ( ( center_of_mass R11 ) .: R25 ) \/ ( ( center_of_mass R11 ) .: { ( ( union R25 ) \/ { B88 } ) } ) ) })))))
proof
let R11 being RealLinearSpace;
let C169 being  finite  c=-linear  finite-membered (Subset-Family of R11);
assume that
L1338: C169 is  with_non-empty_elements
and
L1339: ( card C169 ) = ( card ( union C169 ) );
set D163 = ( union C169 );
set D164 = ( center_of_mass R11 );
let C170 being (Element of R11);
assume that
L1340: (not C170 in D163)
and
L1341: ( D163 \/ { C170 } ) is  affinely-independent;
reconsider D165 = ( D163 \/ { C170 } ) as  finite  affinely-independent (Subset of R11) by L1341;
set D166 = ( Complex_of { D165 } );
set D167 = ( BCS D166 );
set D168 = { B90 where B90 is (Simplex of ( card C169 ) , ( BCS ( Complex_of { ( ( union C169 ) \/ { C170 } ) } ) )) : ( D164 .: C169 ) c= B90 };
set D169 = { ( ( D164 .: C169 ) \/ ( D164 .: { ( ( union C169 ) \/ { C170 } ) } ) ) };
L1342: D163 c= D165 by XBOOLE_1:7;
thus L1343:now
let R1 being set;
reconsider D170 = ( 0 ) as Nat;
assume L1344: R1 in D168;
consider C171 being (Simplex of ( card C169 ) , D167) such that L1345: R1 = C171 and L1346: ( D164 .: C169 ) c= C171 by L1344;
L1347: ( ( ( card C169 ) + D170 ) + 1 ) <= ( card D165 ) by L1339 , L1340 , CARD_2:41;
consider C172 being  finite (Subset-Family of R11) such that L1348: C172 misses C169 and L1349: ( C172 \/ C169 ) is  c=-linear  with_non-empty_elements and L1350: ( card C172 ) = ( D170 + 1 ) and L1351: ( union C172 ) c= D165 and L1352: ( @ C171 ) = ( ( ( center_of_mass R11 ) .: C169 ) \/ ( ( center_of_mass R11 ) .: C172 ) ) by L1347 , L1338 , L1342 , L1346 , L1126;
L1353: (ex R1 being set st C172 = { R1 }) by L1350 , CARD_2:42;
L1354: ( union ( C172 \/ C169 ) ) = ( ( union C172 ) \/ ( union C169 ) ) by ZFMISC_1:78;
L1355: ( C172 \/ C169 ) is  finite-membered
proof
let R1 being set;
assume L1356: R1 in ( C172 \/ C169 );
L1357: R1 c= ( union ( C172 \/ C169 ) ) by L1356 , ZFMISC_1:74;
thus L1358: thesis by L1357 , L1351 , L1354;
end;
reconsider D171 = ( C172 \/ C169 ) as  finite  finite-membered (Subset-Family of R11) by L1355;
L1359: ( union ( C172 \/ C169 ) ) c= D165 by L1342 , L1351 , L1354 , XBOOLE_1:8;
L1360: ( card ( union D171 ) ) c= ( card D165 ) by L1359 , CARD_1:11;
L1361: ( card D171 ) = ( ( card C169 ) + 1 ) by L1348 , L1350 , CARD_2:40;
L1362: ( card D171 ) = ( card D165 ) by L1361 , L1339 , L1340 , CARD_2:41;
L1363: ( card D171 ) c= ( card ( union D171 ) ) by L1349 , SIMPLEX0:10;
L1364: ( card ( union D171 ) ) = ( card D171 ) by L1363 , L1360 , L1362 , XBOOLE_0:def 10;
L1365: ( union D171 ) = D165 by L1364 , L1342 , L1351 , L1354 , L1362 , CARD_FIN:1 , XBOOLE_1:8;
L1366: ( union C169 ) c= ( union ( C172 \/ C169 ) ) by L1354 , XBOOLE_1:7;
L1367: (not ( union D171 ) in C169)
proof
assume L1368: ( union D171 ) in C169;
L1369: ( union D171 ) c= D163 by L1368 , ZFMISC_1:74;
L1370: D163 = D165 by L1369 , L1365 , L1366 , XBOOLE_0:def 10;
L1371: C170 in { C170 } by TARSKI:def 1;
thus L1372: thesis by L1371 , L1340 , L1370 , XBOOLE_0:def 3;
end;
L1373: C172 is non  empty by L1350;
L1374: ( union D171 ) in D171 by L1373 , L1349 , SIMPLEX0:9;
L1375: ( union D171 ) in C172 by L1374 , L1367 , XBOOLE_0:def 3;
L1376: C172 = { D165 } by L1375 , L1353 , L1365 , TARSKI:def 1;
thus L1377: R1 in D169 by L1376 , L1345 , L1352 , TARSKI:def 1;
end;
let R1 being set;
assume L1378: R1 in D169;
L1379: R1 = ( ( D164 .: C169 ) \/ ( D164 .: { D165 } ) ) by L1378 , TARSKI:def 1;
L1380: (( D164 .: C169 ) c= ( ( D164 .: C169 ) \/ ( D164 .: { D165 } ) ) & ( ( D164 .: C169 ) \/ ( D164 .: { D165 } ) ) is (Simplex of ( card C169 ) , D167)) by L1338 , L1339 , L1340 , L1310 , XBOOLE_1:7 , ZFMISC_1:50;
thus L1381: thesis by L1380 , L1379;
end;
theorem
L1382: (for R11 being RealLinearSpace holds (for R25 being  c=-linear  finite  finite-membered (Subset-Family of R11) holds ((R25 is  with_non-empty_elements & ( ( card R25 ) + 1 ) = ( card ( union R25 ) ) & ( union R25 ) is  affinely-independent) implies ( card { B91 where B91 is (Simplex of ( card R25 ) , ( BCS ( Complex_of { ( union R25 ) } ) )) : ( ( center_of_mass R11 ) .: R25 ) c= B91 } ) = 2)))
proof
let R11 being RealLinearSpace;
let C173 being  finite  c=-linear  finite-membered (Subset-Family of R11);
assume that
L1383: C173 is  with_non-empty_elements
and
L1384: ( ( card C173 ) + 1 ) = ( card ( union C173 ) )
and
L1385: ( union C173 ) is  affinely-independent;
set D172 = ( center_of_mass R11 );
reconsider D173 = ( union C173 ) as  finite  affinely-independent (Subset of R11) by L1385;
reconsider D174 = C173 as (Subset-Family of D173) by ZFMISC_1:82;
L1386: C173 is non  empty by L1384 , ZFMISC_1:2;
consider C174 being (Subset-Family of D173) such that L1387: D174 c= C174 and L1388: C174 is  with_non-empty_elements  c=-linear and L1389: ( card C174 ) = ( card D173 ) and L1390: (for R3 being set holds ((R3 in C174 & ( card R3 ) <> 1) implies (ex R1 being set st (R1 in R3 & ( R3 \ { R1 } ) in C174)))) by L1386 , L1383 , SIMPLEX0:9 , SIMPLEX0:13;
L1391: ( card ( C174 \ D174 ) ) = ( ( ( card C173 ) + 1 ) - ( card C173 ) ) by L1384 , L1387 , L1389 , CARD_2:44;
consider R1 being set such that L1392: ( C174 \ D174 ) = { R1 } by L1391 , CARD_2:42;
reconsider D175 = ( card D173 ) as  ext-real number;
set D176 = ( Complex_of { D173 } );
set D177 = (the topology of D176);
L1393: D177 = ( bool D173 ) by SIMPLEX0:4;
reconsider D178 = C174 as (Subset-Family of D176) by L1393 , XBOOLE_1:1;
set D179 = ( BCS D176 );
reconsider D180 = ( ( card D173 ) - 1 ) as  ext-real number;
L1394: |. D176 .| c= ( [#] D176 );
L1395: D179 = ( subdivision (D172 , D176) ) by L1394 , L436;
L1396: ( [#] D179 ) = ( [#] D176 ) by L1395 , SIMPLEX0:def 20;
reconsider D181 = ( D172 .: D178 ) as (Subset of D179) by L1396;
L1397: D178 is  simplex-like
proof
let C175 being (Subset of D176);
assume L1398: C175 in D178;
thus L1399: thesis by L1398 , L1393 , PRE_TOPC:def 2;
end;
L1400: ( card D181 ) = ( card D173 ) by L1397 , L1388 , L1389 , L1067;
L1401: ( card D181 ) = ( D180 + 1 ) by L1400 , L1384 , XXREAL_3:def 2;
L1402: R1 in { R1 } by TARSKI:def 1;
L1403: R1 in C174 by L1402 , L1392 , XBOOLE_0:def 5;
L1404: (not R1 in D174) by L1392 , L1402 , XBOOLE_0:def 5;
reconsider D182 = R1 as  finite (Subset of R11) by L1392 , L1402 , XBOOLE_1:1;
L1405: ( degree D176 ) = ( D175 - 1 ) by SIMPLEX0:26
.= ( ( card D173 ) + ( - 1 ) ) by XXREAL_3:def 2;
L1406: D180 = ( degree D179 ) by L1405 , L1394 , L1049;
L1407: D181 is  simplex-like by L1388 , L1395 , L1397 , SIMPLEX0:def 20;
L1408: D181 is (Simplex of ( ( card D173 ) - 1 ) , D179) by L1407 , L1384 , L1401 , L1406 , SIMPLEX0:def 18;
L1409: D182 <> ( {} ) by L1388 , L1403;
reconsider D183 = ( ( card D182 ) - 1 ) as (Element of ( NAT )) by L1409 , NAT_1:20;
L1410: (ex B92 being set st ((B92 in D174 or B92 = ( {} )) & ( card B92 ) = ( ( card D182 ) - 1 ) & (for R2 being set holds ((R2 in D174 & R2 c= D182) implies R2 c= B92))))
proof
per cases ;
suppose L1411: ( card D182 ) = 1;

L1412: (ex B93 being set st D182 = { B93 }) by L1411 , CARD_2:42;
take D184 = ( {} );
thus L1413: ((D184 in D174 or D184 = ( {} )) & ( card D184 ) = ( ( card D182 ) - 1 )) by L1411;
let R2 being set;
assume that
L1414: R2 in D174
and
L1415: R2 c= D182;
L1416: R2 <> D182 by L1392 , L1402 , L1414 , XBOOLE_0:def 5;
thus L1417: thesis by L1416 , L1412 , L1415 , ZFMISC_1:33;
end;
suppose L1418: ( card D182 ) <> 1;

consider C176 being set such that L1419: C176 in D182 and L1420: ( D182 \ { C176 } ) in C174 by L1418 , L1390 , L1403;
take D185 = ( D182 \ { C176 } );
L1421: D182 = ( D185 \/ { C176 } ) by L1419 , ZFMISC_1:116;
L1422: D185 in D174
proof
assume L1423: (not D185 in D174);
L1424: D185 in ( C174 \ D174 ) by L1423 , L1420 , XBOOLE_0:def 5;
L1425: D185 = D182 by L1424 , L1392 , TARSKI:def 1;
thus L1426: thesis by L1425 , L1419 , ZFMISC_1:56;
end;
thus L1427: (D185 in D174 or D185 = ( {} )) by L1422;
L1428: ( card D182 ) = ( D183 + 1 );
thus L1429: ( card D185 ) = ( ( card D182 ) - 1 ) by L1428 , L1419 , STIRL2_1:55;
let R2 being set;
assume that
L1430: R2 in D174
and
L1431: R2 c= D182;
assume L1432: (not R2 c= D185);
L1433: D185 , R2 are_c=-comparable  by L1387 , L1388 , L1420 , L1430 , ORDINAL1:def 8;
L1434: D185 c= R2 by L1433 , L1432 , XBOOLE_0:def 9;
thus L1435: contradiction by L1434 , L1404 , L1421 , L1430 , L1431 , L1432 , ZFMISC_1:138;
end;
end;
consider C177 being set such that L1437: (C177 in D174 or C177 = ( {} )) and L1438: ( card C177 ) = ( ( card D182 ) - 1 ) and L1439: (for R2 being set holds ((R2 in D174 & R2 c= D182) implies R2 c= C177)) by L1410;
L1440: D173 in C173 by L1386 , SIMPLEX0:9;
L1441: (( union C174 ) c= D173 & D173 c= ( union D178 )) by L1440 , L1387 , ZFMISC_1:74;
L1442: ( union D178 ) = D173 by L1441 , XBOOLE_0:def 10;
L1443: D182 c< D173 by L1392 , L1402 , L1404 , L1440 , XBOOLE_0:def 8;
L1444: ( card D182 ) < ( card D173 ) by L1443 , CARD_2:48;
L1445: ( ( card D182 ) + 1 ) <= ( card D173 ) by L1444 , NAT_1:13;
consider C178 being set such that L1446: C178 in D178 and L1447: ( card C178 ) = ( ( card D182 ) + 1 ) by L1445 , L1388 , L1442 , L1408 , L1180;
reconsider D186 = C177 as  finite (Subset of R11) by L1437 , XBOOLE_1:2;
reconsider D187 = C178 as  finite (Subset of R11) by L1446;
L1448: (not D187 c= D186)
proof
assume L1449: D187 c= D186;
L1450: ( ( card D182 ) + 1 ) <= ( ( card D182 ) + ( - 1 ) ) by L1449 , L1438 , L1447 , NAT_1:43;
thus L1451: contradiction by L1450 , XREAL_1:6;
end;
L1452: D187 in D174
proof
assume L1453: (not D187 in D174);
L1454: D187 in ( D178 \ D174 ) by L1453 , L1446 , XBOOLE_0:def 5;
L1455: D187 = D182 by L1454 , L1392 , TARSKI:def 1;
thus L1456: contradiction by L1455 , L1447;
end;
L1457: (D186 , D187 are_c=-comparable  or D186 c= D187) by L1452 , L1437 , ORDINAL1:def 8 , XBOOLE_1:2;
L1458: D186 c= D187 by L1457 , L1448 , XBOOLE_0:def 9;
L1459: ( card ( D187 \ D186 ) ) = ( ( card D187 ) - ( card D186 ) ) by L1458 , CARD_2:44;
consider C179 , C180 being set such that L1460: C179 <> C180 and L1461: ( D187 \ D186 ) = { C179 , C180 } by L1459 , L1438 , L1447 , CARD_2:60;
L1462: C179 in { C179 , C180 } by TARSKI:def 2;
L1463: C180 in { C179 , C180 } by TARSKI:def 2;
reconsider D188 = C179 , D189 = C180 as (Element of R11) by L1463 , L1461 , L1462;
set D190 = ( D186 \/ { D188 } );
set D191 = ( D186 \/ { D189 } );
reconsider D192 = ( C173 \/ { D190 } ) , D193 = ( C173 \/ { D191 } ) as (Subset-Family of D176);
reconsider D194 = ( D172 .: D192 ) , D195 = ( D172 .: D193 ) as (Subset of D179) by L1396;
L1464: D194 = ( ( D172 .: C173 ) \/ ( D172 .: { D190 } ) ) by RELAT_1:120;
L1465: (not D188 in D186) by L1461 , L1462 , XBOOLE_0:def 5;
L1466: ( card D190 ) = ( ( card D186 ) + 1 ) by L1465 , CARD_2:41;
L1467: (not D190 in C173)
proof
assume L1468: D190 in C173;
L1469: D182 , D190 are_c=-comparable  by L1468 , L1387 , L1388 , L1403 , ORDINAL1:def 8;
L1470: (D182 c= D190 or D190 c= D182) by L1469 , XBOOLE_0:def 9;
thus L1471: thesis by L1470 , L1404 , L1438 , L1466 , L1468 , CARD_FIN:1;
end;
L1472: (not D189 in D186) by L1461 , L1463 , XBOOLE_0:def 5;
L1473: ( card D191 ) = ( ( card D186 ) + 1 ) by L1472 , CARD_2:41;
L1474: (not D191 in C173)
proof
assume L1475: D191 in C173;
L1476: D182 , D191 are_c=-comparable  by L1475 , L1387 , L1388 , L1403 , ORDINAL1:def 8;
L1477: (D182 c= D191 or D191 c= D182) by L1476 , XBOOLE_0:def 9;
thus L1478: thesis by L1477 , L1404 , L1438 , L1473 , L1475 , CARD_FIN:1;
end;
L1479: D189 in D187 by L1461 , L1463 , XBOOLE_0:def 5;
L1480: { D189 } c= D187 by L1479 , ZFMISC_1:31;
L1481: D191 c= D187 by L1480 , L1458 , XBOOLE_1:8;
L1482: D193 c= ( bool D173 )
proof
let C181 being set;
assume that
L1483: C181 in D193;
per cases  by L1483 , XBOOLE_0:def 3;
suppose L1484: C181 in C173;

L1485: C181 c= D173 by L1484 , ZFMISC_1:74;
thus L1486: thesis by L1485;
end;
suppose L1487: C181 in { D191 };

L1488: C181 = D191 by L1487 , TARSKI:def 1;
L1489: C181 c= D173 by L1488 , L1446 , L1481 , XBOOLE_1:1;
thus L1490: thesis by L1489;
end;
end;
L1492: D193 is  simplex-like
proof
let C182 being (Subset of D176);
assume L1493: C182 in D193;
thus L1494: thesis by L1493 , L1393 , L1482 , PRE_TOPC:def 2;
end;
L1495: ( card D195 ) = ( card D193 ) by L1492 , L1383 , L1067;
L1496: ( card D195 ) = ( ( card C173 ) + 1 ) by L1495 , L1474 , CARD_2:41;
L1497: D188 in D187 by L1461 , L1462 , XBOOLE_0:def 5;
L1498: { D188 } c= D187 by L1497 , ZFMISC_1:31;
L1499: D190 c= D187 by L1498 , L1458 , XBOOLE_1:8;
L1500: D192 c= ( bool D173 )
proof
let C183 being set;
assume that
L1501: C183 in D192;
per cases  by L1501 , XBOOLE_0:def 3;
suppose L1502: C183 in C173;

L1503: C183 c= D173 by L1502 , ZFMISC_1:74;
thus L1504: thesis by L1503;
end;
suppose L1505: C183 in { D190 };

L1506: C183 = D190 by L1505 , TARSKI:def 1;
L1507: C183 c= D173 by L1506 , L1446 , L1499 , XBOOLE_1:1;
thus L1508: thesis by L1507;
end;
end;
L1510: D194 = ( ( D172 | D177 ) .: D192 ) by L1500 , L1393 , RELAT_1:129;
L1511: D192 is  simplex-like
proof
let C184 being (Subset of D176);
assume L1512: C184 in D192;
thus L1513: thesis by L1512 , L1393 , L1500 , PRE_TOPC:def 2;
end;
L1514: ( card D194 ) = ( card D192 ) by L1511 , L1383 , L1067;
L1515: ( card D194 ) = ( ( card C173 ) + 1 ) by L1514 , L1467 , CARD_2:41;
L1516: (D186 c= D190 & D186 c= D191) by XBOOLE_1:7;
L1517: (for B94 being set holds (B94 in C173 implies (B94 , D190 are_c=-comparable  & B94 , D191 are_c=-comparable )))
proof
let C185 being set;
assume L1518: C185 in C173;
L1519: D187 , C185 are_c=-comparable  by L1518 , L1452 , ORDINAL1:def 8;
per cases  by L1519 , XBOOLE_0:def 9;
suppose L1520: (D187 c= C185 or D187 = C185);

L1521: (D190 c= C185 & D191 c= C185) by L1520 , L1481 , L1499 , XBOOLE_1:1;
thus L1522: thesis by L1521 , XBOOLE_0:def 9;
end;
suppose L1523: (C185 c= D187 & D187 <> C185);

reconsider D196 = C185 as  finite set by L1523;
L1524: D196 c< D187 by L1523 , XBOOLE_0:def 8;
L1525: (not D182 c= D196)
proof
L1526: ( card D196 ) < ( card D187 ) by L1524 , CARD_2:48;
assume L1527: D182 c= D196;
L1528: ( card D182 ) <= ( card D196 ) by L1527 , NAT_1:43;
L1529: ( card D182 ) = ( card D196 ) by L1528 , L1447 , L1526 , NAT_1:9;
thus L1530: contradiction by L1529 , L1404 , L1518 , L1527 , CARD_FIN:1;
end;
L1531: D182 in D178 by L1392 , L1402 , XBOOLE_0:def 5;
L1532: D196 , D182 are_c=-comparable  by L1531 , L1387 , L1388 , L1518 , ORDINAL1:def 8;
L1533: D196 c= D182 by L1532 , L1525 , XBOOLE_0:def 9;
L1534: D196 c= D186 by L1533 , L1439 , L1518;
L1535: (D196 c= D190 & D196 c= D191) by L1534 , L1516 , XBOOLE_1:1;
thus L1536: thesis by L1535 , XBOOLE_0:def 9;
end;
end;
L1538: D192 is  c=-linear
proof
let C186 , C187 being set;
assume that
L1539: C186 in D192
and
L1540: C187 in D192;
L1541: (C186 in C173 or C186 in { D190 }) by L1539 , XBOOLE_0:def 3;
L1542: (C186 in C173 or C186 = D190) by L1541 , TARSKI:def 1;
L1543: (C187 in C173 or C187 in { D190 }) by L1540 , XBOOLE_0:def 3;
L1544: (C187 in C173 or C187 = D190) by L1543 , TARSKI:def 1;
thus L1545: thesis by L1544 , L1517 , L1542 , ORDINAL1:def 8;
end;
L1546: D194 is  simplex-like by L1538 , L1395 , L1511 , SIMPLEX0:def 20;
L1547: D194 is (Simplex of ( ( card D173 ) - 1 ) , D179) by L1546 , L1384 , L1400 , L1401 , L1406 , L1515 , SIMPLEX0:def 18;
set D197 = { B95 where B95 is (Simplex of ( card C173 ) , ( BCS ( Complex_of { ( union C173 ) } ) )) : ( D172 .: C173 ) c= B95 };
L1548: ( D172 .: C173 ) c= ( ( D172 .: C173 ) \/ ( D172 .: { D190 } ) ) by XBOOLE_1:7;
L1549: D194 in D197 by L1548 , L1384 , L1464 , L1547;
L1550: D195 = ( ( D172 .: C173 ) \/ ( D172 .: { D191 } ) ) by RELAT_1:120;
L1551: D197 c= { D194 , D195 }
proof
let C188 being set;
reconsider D198 = ( 0 ) as Nat;
assume L1552: C188 in D197;
consider C189 being (Simplex of ( card C173 ) , D179) such that L1553: C188 = C189 and L1554: ( D172 .: C173 ) c= C189 by L1552;
L1555: ( ( ( card C173 ) + D198 ) + 1 ) <= ( card D173 ) by L1384;
consider C190 being  finite (Subset-Family of R11) such that L1556: C190 misses C173 and L1557: ( C190 \/ C173 ) is  c=-linear  with_non-empty_elements and L1558: ( card C190 ) = ( D198 + 1 ) and L1559: ( union C190 ) c= D173 and L1560: ( @ C189 ) = ( ( D172 .: C173 ) \/ ( D172 .: C190 ) ) by L1555 , L1383 , L1554 , L1126;
consider C191 being set such that L1561: { C191 } = C190 by L1558 , CARD_2:42;
L1562: C191 in C190 by L1561 , TARSKI:def 1;
L1563: (not C191 in C173) by L1562 , L1556 , XBOOLE_0:3;
L1564: C191 c= ( union C190 ) by L1562 , ZFMISC_1:74;
L1565: C191 in ( C190 \/ C173 ) by L1562 , XBOOLE_0:def 3;
reconsider D199 = C191 as  finite (Subset of D173) by L1559 , L1564 , XBOOLE_1:1;
L1566: (not D187 c= D199)
proof
consider C192 being set such that L1567: C192 in D178 and L1568: ( card C192 ) = ( card D199 ) by L1388 , L1442 , L1408 , L1557 , L1565 , L1180 , NAT_1:43;
assume L1569: D187 c= D199;
L1570: ( ( card D182 ) + 1 ) <= ( card D199 ) by L1569 , L1447 , NAT_1:43;
L1571: D182 <> C192 by L1570 , L1568 , NAT_1:13;
L1572: (not C192 in { D182 }) by L1571 , TARSKI:def 1;
L1573: C192 in D174 by L1572 , L1392 , L1567 , XBOOLE_0:def 5;
L1574: C192 in ( C173 \/ C190 ) by L1573 , XBOOLE_0:def 3;
L1575: D199 , C192 are_c=-comparable  by L1574 , L1557 , L1565 , ORDINAL1:def 8;
L1576: (D199 c= C192 or C192 c= D199) by L1575 , XBOOLE_0:def 9;
thus L1577: contradiction by L1576 , L1563 , L1568 , L1573 , CARD_FIN:1;
end;
L1578: (D186 c= D199 & D186 <> D199)
proof
per cases  by L1437;
suppose L1579: D186 = ( {} );

thus L1580: thesis by L1579 , L1557 , L1565 , XBOOLE_1:2;
end;
suppose L1581: D186 in D174;

L1582: (not D199 c= D186)
proof
assume L1583: D199 c= D186;
L1584: ( card D199 ) <= ( card D186 ) by L1583 , NAT_1:43;
consider C193 being set such that L1585: C193 in D178 and L1586: ( card C193 ) = ( card D199 ) by L1388 , L1442 , L1408 , L1557 , L1565 , L1180 , NAT_1:43;
L1587: ( ( card D186 ) + 1 ) = ( card D182 ) by L1438;
L1588: ( card D182 ) <> ( card D199 ) by L1587 , L1584 , NAT_1:13;
L1589: (not C193 in { D182 }) by L1588 , L1586 , TARSKI:def 1;
L1590: C193 in D174 by L1589 , L1392 , L1585 , XBOOLE_0:def 5;
L1591: C193 in ( C173 \/ C190 ) by L1590 , XBOOLE_0:def 3;
L1592: D199 , C193 are_c=-comparable  by L1591 , L1557 , L1565 , ORDINAL1:def 8;
L1593: (D199 c= C193 or C193 c= D199) by L1592 , XBOOLE_0:def 9;
thus L1594: contradiction by L1593 , L1563 , L1586 , L1590 , CARD_FIN:1;
end;
L1595: D186 in ( C190 \/ C173 ) by L1581 , XBOOLE_0:def 3;
L1596: D186 , D199 are_c=-comparable  by L1595 , L1557 , L1565 , ORDINAL1:def 8;
thus L1597: thesis by L1596 , L1582 , XBOOLE_0:def 9;
end;
end;
L1599: D199 = ( D199 \/ D186 ) by L1578 , XBOOLE_1:12;
L1600: D187 in ( C173 \/ C190 ) by L1452 , XBOOLE_0:def 3;
L1601: D187 , D199 are_c=-comparable  by L1600 , L1557 , L1565 , ORDINAL1:def 8;
L1602: D199 c= D187 by L1601 , L1566 , XBOOLE_0:def 9;
L1603: ( D199 \ D186 ) c= ( D187 \ D186 ) by L1602 , XBOOLE_1:33;
L1604: D187 = ( D186 \/ D187 ) by L1458 , XBOOLE_1:12;
L1605: ( D199 \ D186 ) <> ( D187 \ D186 )
proof
assume L1606: ( D199 \ D186 ) = ( D187 \ D186 );
L1607: D199 = ( ( D187 \ D186 ) \/ D186 ) by L1606 , L1599 , XBOOLE_1:39;
thus L1608: contradiction by L1607 , L1566 , L1604 , XBOOLE_1:39;
end;
L1609: ( D199 \ D186 ) <> ( {} )
proof
assume L1610: ( D199 \ D186 ) = ( {} );
L1611: D199 c= D186 by L1610 , XBOOLE_1:37;
thus L1612: contradiction by L1611 , L1578 , XBOOLE_0:def 10;
end;
L1613: ( D199 \/ D186 ) = ( ( D199 \ D186 ) \/ D186 ) by XBOOLE_1:39;
L1614: (D199 = D190 or D199 = D191) by L1613 , L1461 , L1599 , L1603 , L1605 , L1609 , ZFMISC_1:36;
thus L1615: thesis by L1614 , L1550 , L1464 , L1553 , L1560 , L1561 , TARSKI:def 2;
end;
L1616: D195 = ( ( D172 | D177 ) .: D193 ) by L1393 , L1482 , RELAT_1:129;
L1617: D194 <> D195
proof
assume L1618: D194 = D195;
L1619: ( D194 \ D195 ) = ( {} ) by L1618 , XBOOLE_1:37;
L1620: ( ( D172 | D177 ) .: ( D192 \ D193 ) ) = ( {} ) by L1619 , L1616 , L1510 , FUNCT_1:64;
L1621: ( dom ( D172 | D177 ) ) misses ( D192 \ D193 ) by L1620 , RELAT_1:118;
L1622: ( D195 \ D194 ) = ( {} ) by L1618 , XBOOLE_1:37;
L1623: ( ( D172 | D177 ) .: ( D193 \ D192 ) ) = ( {} ) by L1622 , L1616 , L1510 , FUNCT_1:64;
L1624: ( dom ( D172 | D177 ) ) misses ( D193 \ D192 ) by L1623 , RELAT_1:118;
L1625: ( dom ( D172 | D177 ) ) = ( ( dom D172 ) /\ D177 ) by RELAT_1:61;
L1626: D190 in { D190 } by TARSKI:def 1;
L1627: D190 in D192 by L1626 , XBOOLE_0:def 3;
L1628: ( dom D172 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L1629: ( D192 \ D193 ) c= D192 by XBOOLE_1:36;
L1630: (not ( {} ) in ( D192 \ D193 )) by L1629 , L1383;
L1631: ( D192 \ D193 ) c= ( dom D172 ) by L1630 , L1628 , ZFMISC_1:34;
L1632: ( D193 \ D192 ) c= D193 by XBOOLE_1:36;
L1633: (not ( {} ) in ( D193 \ D192 )) by L1632 , L1383;
L1634: ( D193 \ D192 ) c= ( dom D172 ) by L1633 , L1628 , ZFMISC_1:34;
L1635: ( D192 \ D193 ) c= ( bool D173 ) by L1500 , L1629 , XBOOLE_1:1;
L1636: ( D192 \ D193 ) c= ( dom ( D172 | D177 ) ) by L1635 , L1393 , L1625 , L1631 , XBOOLE_1:19;
L1637: ( D192 \ D193 ) = ( {} ) by L1636 , L1621 , XBOOLE_1:67;
L1638: ( D193 \ D192 ) c= ( bool D173 ) by L1482 , L1632 , XBOOLE_1:1;
L1639: ( D193 \ D192 ) c= ( dom ( D172 | D177 ) ) by L1638 , L1393 , L1625 , L1634 , XBOOLE_1:19;
L1640: D192 = D193 by L1639 , L1624 , L1637 , XBOOLE_1:32 , XBOOLE_1:67;
L1641: D190 in { D191 } by L1640 , L1467 , L1627 , XBOOLE_0:def 3;
L1642: D190 = D191 by L1641 , TARSKI:def 1;
L1643: D188 in { D188 } by TARSKI:def 1;
L1644: D188 in D190 by L1643 , XBOOLE_0:def 3;
L1645: D188 in { D189 } by L1644 , L1465 , L1642 , XBOOLE_0:def 3;
thus L1646: contradiction by L1645 , L1460 , TARSKI:def 1;
end;
L1647: D193 is  c=-linear
proof
let C194 , C195 being set;
assume that
L1648: C194 in D193
and
L1649: C195 in D193;
L1650: (C194 in C173 or C194 in { D191 }) by L1648 , XBOOLE_0:def 3;
L1651: (C194 in C173 or C194 = D191) by L1650 , TARSKI:def 1;
L1652: (C195 in C173 or C195 in { D191 }) by L1649 , XBOOLE_0:def 3;
L1653: (C195 in C173 or C195 = D191) by L1652 , TARSKI:def 1;
thus L1654: thesis by L1653 , L1517 , L1651 , ORDINAL1:def 8;
end;
L1655: D195 is  simplex-like by L1647 , L1395 , L1492 , SIMPLEX0:def 20;
L1656: D195 is (Simplex of ( ( card D173 ) - 1 ) , D179) by L1655 , L1384 , L1400 , L1401 , L1406 , L1496 , SIMPLEX0:def 18;
L1657: ( D172 .: C173 ) c= ( ( D172 .: C173 ) \/ ( D172 .: { D191 } ) ) by XBOOLE_1:7;
L1658: D195 in D197 by L1657 , L1384 , L1550 , L1656;
L1659: { D194 , D195 } c= D197 by L1658 , L1549 , ZFMISC_1:32;
L1660: D197 = { D194 , D195 } by L1659 , L1551 , XBOOLE_0:def 10;
thus L1661: thesis by L1660 , L1617 , CARD_2:57;
end;
theorem
L1662: (for R11 being RealLinearSpace holds (for R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11) holds (for R19 being  finite  affinely-independent (Subset of R11) holds (for R22 being (Subset of R11) holds (R19 is (Simplex of R18) implies (R22 is (Simplex of ( BCS ( Complex_of { R19 } ) )) iff (R22 is (Simplex of ( BCS R18 )) & ( conv R22 ) c= ( conv R19 ))))))))
proof
let R11 being RealLinearSpace;
let R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11);
let R19 being  finite  affinely-independent (Subset of R11);
let R22 being (Subset of R11);
set D200 = ( center_of_mass R11 );
set D201 = ( Complex_of { R19 } );
L1663: (the topology of D201) = ( bool R19 ) by SIMPLEX0:4;
assume L1664: R19 is (Simplex of R18);
reconsider D202 = R19 as (Simplex of R18) by L1664;
L1665: ( [#] R18 ) = (the carrier of R11) by SIMPLEX0:def 10;
L1666: |. R18 .| c= ( [#] R18 ) by L1665;
L1667: ( subdivision (D200 , R18) ) = ( BCS R18 ) by L1666 , L436;
L1668: ( @ D202 ) is  affinely-independent;
L1669: ( Complex_of { R19 } ) is (SubSimplicialComplex of R18) by L1668 , L157;
L1670: (the topology of D201) c= (the topology of R18) by L1669 , SIMPLEX0:def 13;
L1671: |. D201 .| c= |. R18 .| by L1670 , L188;
L1672: ( [#] D201 ) = ( [#] R11 );
L1673: ( subdivision (D200 , D201) ) = ( BCS D201 ) by L1672 , L1671 , L436;
L1674: ( BCS D201 ) is (SubSimplicialComplex of ( BCS R18 )) by L1673 , L1667 , L1669 , SIMPLEX0:58;
L1675: (the topology of ( BCS D201 )) c= (the topology of ( BCS R18 )) by L1674 , SIMPLEX0:def 13;
thus L1676:now
assume L1677: R22 is (Simplex of ( BCS D201 ));
reconsider D203 = R22 as (Simplex of ( BCS D201 )) by L1677;
L1678: D203 in (the topology of ( BCS D201 )) by PRE_TOPC:def 2;
L1679: D203 in (the topology of ( BCS R18 )) by L1678 , L1675;
reconsider D204 = D203 as (Simplex of ( BCS R18 )) by L1679 , PRE_TOPC:def 2;
L1680: (|. ( BCS D201 ) .| = |. D201 .| & ( conv ( @ D203 ) ) c= |. ( BCS D201 ) .|) by L197 , L265;
L1681: ( conv ( @ D204 ) ) c= ( conv R19 ) by L1680 , L232;
thus L1682: (R22 is (Simplex of ( BCS R18 )) & ( conv R22 ) c= ( conv R19 )) by L1681;
end;
assume that
L1683: R22 is (Simplex of ( BCS R18 ))
and
L1684: ( conv R22 ) c= ( conv R19 );
reconsider D205 = R22 as (Simplex of ( BCS R18 )) by L1683;
consider C196 being  c=-linear  finite  simplex-like (Subset-Family of R18) such that L1685: R22 = ( D200 .: C196 ) by L1667 , L1683 , SIMPLEX0:def 20;
reconsider D206 = C196 as  c=-linear  finite (Subset-Family of D201) by L1665;
L1686: ( [#] ( subdivision (D200 , D201) ) ) = ( [#] D201 ) by SIMPLEX0:def 20;
reconsider D207 = ( D200 .: D206 ) as (Subset of ( BCS D201 )) by L1686 , L1671 , L436;
L1687: ( dom D200 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L1688: D206 is  simplex-like
proof
let C197 being (Subset of D201);
assume that
L1689: C197 in D206;
reconsider D208 = C197 as (Simplex of R18) by L1689 , TOPS_2:def 1;
per cases ;
suppose L1690: D208 is  empty;

thus L1691: thesis by L1690;
end;
suppose L1692: D208 is non  empty;

L1693: D208 in ( dom D200 ) by L1692 , L1687 , ZFMISC_1:56;
L1694: ( D200 . D208 ) in D205 by L1693 , L1685 , L1689 , FUNCT_1:def 6;
L1695: ( D200 . D208 ) in ( Int ( @ D208 ) ) by L1692 , RLAFFIN2:20;
L1696: D205 c= ( conv ( @ D205 ) ) by RLAFFIN1:2;
L1697: ( D200 . D208 ) in ( conv ( @ D205 ) ) by L1696 , L1694;
L1698: ( Int ( @ D208 ) ) meets ( conv ( @ D202 ) ) by L1697 , L1684 , L1695 , XBOOLE_0:3;
L1699: D208 c= R19 by L1698 , L753;
thus L1700: thesis by L1699 , L1663 , PRE_TOPC:def 2;
end;
end;
L1702: D207 is  simplex-like by L1688 , L1673 , SIMPLEX0:def 20;
thus L1703: thesis by L1702 , L1685;
end;
theorem
L1704: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11) holds (for R20 being  finite (Subset of R11) holds (for R26 being  finite  simplex-like (Subset-Family of R18) holds ((R26 is  with_non-empty_elements & ( ( card R26 ) + R5 ) <= ( degree R18 )) implies ((R20 is (Simplex of ( R5 + ( card R26 ) ) , ( BCS R18 )) & ( ( center_of_mass R11 ) .: R26 ) c= R20) iff (ex R27 being  finite  simplex-like (Subset-Family of R18) st (R27 misses R26 & ( R27 \/ R26 ) is  c=-linear  with_non-empty_elements & ( card R27 ) = ( R5 + 1 ) & R20 = ( ( ( center_of_mass R11 ) .: R26 ) \/ ( ( center_of_mass R11 ) .: R27 ) ))))))))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11);
let R20 being  finite (Subset of R11);
let R26 being  finite  simplex-like (Subset-Family of R18);
set D209 = ( center_of_mass R11 );
set D210 = ( BCS R18 );
assume that
L1705: R26 is  with_non-empty_elements
and
L1706: ( ( card R26 ) + R5 ) <= ( degree R18 );
reconsider D211 = ( R5 + ( card R26 ) ) as  ext-real number;
L1707: ( ( D211 + 1 ) - 1 ) = D211 by XXREAL_3:22;
L1708: ( [#] R18 ) = (the carrier of R11) by SIMPLEX0:def 10;
L1709: |. R18 .| c= ( [#] R18 ) by L1708;
L1710: ( subdivision (D209 , R18) ) = D210 by L1709 , L436;
L1711: D211 <= ( degree D210 ) by L1706 , L1709 , L1049;
thus L1712:now
assume that
L1713: R20 is (Simplex of ( R5 + ( card R26 ) ) , D210)
and
L1714: ( D209 .: R26 ) c= R20;
consider C198 being  c=-linear  finite  simplex-like (Subset-Family of R18) such that L1715: R20 = ( D209 .: C198 ) by L1710 , L1713 , SIMPLEX0:def 20;
L1716: (( union C198 ) is  empty or ( union C198 ) in C198) by SIMPLEX0:9 , ZFMISC_1:2;
L1717: ( union C198 ) is  simplex-like by L1716 , TOPS_2:def 1;
L1718: ( @ ( union C198 ) ) is  affinely-independent by L1717;
reconsider D212 = ( union C198 ) as  finite  affinely-independent (Subset of R11) by L1718;
L1719: D212 = ( union ( @ C198 ) );
L1720: ( conv R20 ) c= ( conv D212 ) by L1719 , L1715 , CONVEX1:30 , RLAFFIN2:17;
reconsider D213 = R20 as (Simplex of ( BCS ( Complex_of { D212 } ) )) by L1720 , L1713 , L1717 , L1662;
L1721: ( card R20 ) = ( D211 + 1 ) by L1711 , L1713 , SIMPLEX0:def 18;
L1722: D213 is (Simplex of ( R5 + ( card R26 ) ) , ( BCS ( Complex_of { D212 } ) )) by L1721 , L1707 , SIMPLEX0:48;
set D214 = ( Complex_of { D212 } );
reconsider D215 = ( card D212 ) as  ext-real number;
L1723: |. D214 .| c= ( [#] D214 );
L1724: ( degree D214 ) = ( degree ( BCS D214 ) ) by L1723 , L1049;
L1725: (( degree D214 ) = ( D215 - 1 ) & ( card D213 ) <= ( ( degree ( BCS D214 ) ) + 1 )) by SIMPLEX0:24 , SIMPLEX0:26;
L1726: ( card D213 ) <= ( card D212 ) by L1725 , L1724 , XXREAL_3:22;
L1727: ( D211 + 1 ) <= ( card D212 ) by L1726 , L1711 , L1713 , SIMPLEX0:def 18;
L1728: ( ( ( card R26 ) + R5 ) + 1 ) <= ( card D212 ) by L1727 , XXREAL_3:def 2;
L1729: (( the_family_of R18 ) is  subset-closed & D212 in (the topology of R18)) by L1717 , PRE_TOPC:def 2;
L1730: ( bool D212 ) c= (the topology of R18) by L1729 , SIMPLEX0:1;
L1731: ( union ( @ R26 ) ) c= ( union C198 ) by L1705 , L1709 , L1713 , L1714 , L1715 , L1083 , ZFMISC_1:77;
consider C199 being  finite (Subset-Family of R11) such that L1732: (C199 misses R26 & ( C199 \/ R26 ) is  c=-linear  with_non-empty_elements & ( card C199 ) = ( R5 + 1 )) and L1733: ( union C199 ) c= D212 and L1734: R20 = ( ( ( center_of_mass R11 ) .: R26 ) \/ ( ( center_of_mass R11 ) .: C199 ) ) by L1731 , L1705 , L1714 , L1722 , L1728 , L1126;
reconsider D216 = C199 as (Subset-Family of R18) by L1708;
L1735: (D216 c= ( bool ( union D216 ) ) & ( bool ( union D216 ) ) c= ( bool D212 )) by L1733 , SIMPLEX0:1 , ZFMISC_1:82;
L1736: D216 c= ( bool D212 ) by L1735 , XBOOLE_1:1;
L1737: D216 c= (the topology of R18) by L1736 , L1730 , XBOOLE_1:1;
reconsider D217 = D216 as  simplex-like  finite (Subset-Family of R18) by L1737 , SIMPLEX0:14;
take D218 = D217;
thus L1738: (D218 misses R26 & ( D218 \/ R26 ) is  c=-linear  with_non-empty_elements & ( card D218 ) = ( R5 + 1 ) & R20 = ( ( D209 .: R26 ) \/ ( D209 .: D218 ) )) by L1732 , L1734;
end;
given C200 being  simplex-like  finite (Subset-Family of R18) such that
L1739: C200 misses R26
and
L1740: ( C200 \/ R26 ) is  c=-linear  with_non-empty_elements
and
L1741: ( card C200 ) = ( R5 + 1 )
and
L1742: R20 = ( ( D209 .: R26 ) \/ ( D209 .: C200 ) );

set D219 = ( R26 \/ C200 );
L1743: ( [#] R18 ) = ( [#] D210 ) by L1710 , SIMPLEX0:def 20;
reconsider D220 = ( D209 .: D219 ) as (Subset of D210) by L1743 , SIMPLEX0:def 10;
L1744: D219 is  simplex-like by TOPS_2:13;
reconsider D221 = D220 as (Simplex of D210) by L1744 , L1710 , L1740 , SIMPLEX0:def 20;
L1745: ( card D219 ) = ( ( card R26 ) + ( card C200 ) ) by L1739 , CARD_2:40;
L1746: ( card D221 ) = ( ( ( card R26 ) + R5 ) + 1 ) by L1745 , L1740 , L1741 , L1744 , L1067;
L1747: (( ( D209 .: R26 ) \/ ( D209 .: C200 ) ) = ( D209 .: D219 ) & ( card D221 ) = ( D211 + 1 )) by L1746 , RELAT_1:120 , XXREAL_3:def 2;
thus L1748: thesis by L1747 , L1707 , L1742 , SIMPLEX0:48 , XBOOLE_1:7;
end;
theorem
L1749: (for R11 being RealLinearSpace holds (for R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11) holds (for R26 being  finite  simplex-like (Subset-Family of R18) holds (for R28 being (Simplex of R18) holds ((R26 is  c=-linear  with_non-empty_elements & ( card R26 ) = ( card ( union R26 ) ) & ( union R26 ) c= R28 & ( card R28 ) = ( ( card R26 ) + 1 )) implies { B96 where B96 is (Simplex of ( card R26 ) , ( BCS R18 )) : (( ( center_of_mass R11 ) .: R26 ) c= B96 & ( conv ( @ B96 ) ) c= ( conv ( @ R28 ) )) } = { ( ( ( center_of_mass R11 ) .: R26 ) \/ ( ( center_of_mass R11 ) .: { R28 } ) ) })))))
proof
let R11 being RealLinearSpace;
let R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11);
let R26 being  finite  simplex-like (Subset-Family of R18);
let R28 being (Simplex of R18);
set D222 = ( center_of_mass R11 );
assume that
L1750: R26 is  c=-linear  with_non-empty_elements
and
L1751: ( card R26 ) = ( card ( union R26 ) )
and
L1752: ( union R26 ) c= R28
and
L1753: ( card R28 ) = ( ( card R26 ) + 1 );
L1754: ( card ( R28 \ ( union R26 ) ) ) = ( ( ( card R26 ) + 1 ) - ( card R26 ) ) by L1751 , L1752 , L1753 , CARD_2:44
.= 1;
consider C201 being set such that L1755: ( R28 \ ( union R26 ) ) = { C201 } by L1754 , CARD_2:42;
reconsider D223 = ( @ R28 ) as  affinely-independent  finite (Subset of R11);
set D224 = ( Complex_of { D223 } );
reconsider D225 = ( card R28 ) as  ext-real number;
L1756: ( degree D224 ) = ( D225 - 1 ) by SIMPLEX0:26
.= ( ( card R28 ) + ( - 1 ) ) by XXREAL_3:def 2
.= ( card R26 ) by L1753;
reconsider D226 = ( @ R26 ) as  c=-linear  finite  finite-membered (Subset-Family of R11) by L1750;
set D227 = { B97 where B97 is (Simplex of ( card R26 ) , ( BCS D224 )) : ( D222 .: R26 ) c= B97 };
set D228 = { B98 where B98 is (Simplex of ( card R26 ) , ( BCS R18 )) : (( D222 .: R26 ) c= B98 & ( conv ( @ B98 ) ) c= ( conv ( @ R28 ) )) };
L1757: ( [#] R18 ) = (the carrier of R11) by SIMPLEX0:def 10;
L1758: |. R18 .| c= ( [#] R18 ) by L1757;
L1759: ( subdivision (D222 , R18) ) = ( BCS R18 ) by L1758 , L436;
L1760: D224 is (SubSimplicialComplex of R18) by L157;
L1761: (the topology of D224) c= (the topology of R18) by L1760 , SIMPLEX0:def 13;
L1762: |. D224 .| c= |. R18 .| by L1761 , L188;
L1763: ( [#] D224 ) = ( [#] R11 );
L1764: ( degree D224 ) = ( degree ( BCS D224 ) ) by L1763 , L1762 , L1049;
L1765: ( subdivision (D222 , D224) ) = ( BCS D224 ) by L1762 , L1763 , L436;
L1766: ( BCS D224 ) is (SubSimplicialComplex of ( BCS R18 )) by L1765 , L1759 , L1760 , SIMPLEX0:58;
L1767: ( degree ( BCS D224 ) ) <= ( degree ( BCS R18 ) ) by L1766 , SIMPLEX0:32;
L1768: D227 c= D228
proof
let R1 being set;
assume L1769: R1 in D227;
consider C202 being (Simplex of ( card R26 ) , ( BCS D224 )) such that L1770: (R1 = C202 & ( D222 .: D226 ) c= C202) by L1769;
L1771: C202 = ( @ C202 );
reconsider D229 = C202 as (Simplex of ( BCS R18 )) by L1771 , L1662;
L1772: ( card C202 ) = ( ( degree ( BCS D224 ) ) + 1 ) by L1756 , L1764 , SIMPLEX0:def 18;
L1773: D229 is (Simplex of ( card R26 ) , ( BCS R18 )) by L1772 , L1756 , L1764 , L1767 , SIMPLEX0:def 18;
L1774: (( conv ( @ C202 ) ) c= ( conv ( @ R28 ) ) & ( @ D229 ) = D229) by L1662;
thus L1775: thesis by L1774 , L1770 , L1773;
end;
L1776: ( [#] ( subdivision (D222 , D224) ) ) = ( [#] D224 ) by SIMPLEX0:def 20;
L1777: D228 c= D227
proof
let R1 being set;
reconsider D230 = ( card R26 ) as  ext-real number;
assume L1778: R1 in D228;
consider C203 being (Simplex of ( card R26 ) , ( BCS R18 )) such that L1779: (C203 = R1 & ( D222 .: R26 ) c= C203) and L1780: ( conv ( @ C203 ) ) c= ( conv ( @ R28 ) ) by L1778;
reconsider D231 = ( @ C203 ) as (Subset of ( BCS D224 )) by L1762 , L1776 , L436;
reconsider D232 = ( card C203 ) as  ext-real number;
L1781: ( card C203 ) = ( D230 + 1 ) by L1756 , L1764 , L1767 , SIMPLEX0:def 18
.= ( ( card R26 ) + 1 ) by XXREAL_3:def 2;
L1782: ( card R26 ) = ( ( card C203 ) + ( - 1 ) ) by L1781;
L1783: ( card R26 ) = ( D232 - 1 ) by L1782 , XXREAL_3:def 2;
L1784: D231 is  simplex-like by L1780 , L1662;
L1785: D231 is (Simplex of ( card R26 ) , ( BCS D224 )) by L1784 , L1783 , SIMPLEX0:48;
thus L1786: thesis by L1785 , L1779;
end;
L1787: C201 in { C201 } by TARSKI:def 1;
L1788: (C201 in D223 & (not C201 in ( union R26 ))) by L1787 , L1755 , XBOOLE_0:def 5;
L1789: R28 = ( R28 \/ ( union R26 ) ) by L1752 , XBOOLE_1:12
.= ( { C201 } \/ ( union D226 ) ) by L1755 , XBOOLE_1:39;
L1790: D227 = { ( ( D222 .: D226 ) \/ ( D222 .: { R28 } ) ) } by L1789 , L1750 , L1751 , L1788 , L1337;
thus L1791: thesis by L1790 , L1768 , L1777 , XBOOLE_0:def 10;
end;
theorem
L1792: (for R11 being RealLinearSpace holds (for R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11) holds (for R26 being  finite  simplex-like (Subset-Family of R18) holds ((R26 is  c=-linear  with_non-empty_elements & ( ( card R26 ) + 1 ) = ( card ( union R26 ) )) implies ( card { B99 where B99 is (Simplex of ( card R26 ) , ( BCS R18 )) : (( ( center_of_mass R11 ) .: R26 ) c= B99 & ( conv ( @ B99 ) ) c= ( conv ( @ ( union R26 ) ) )) } ) = 2))))
proof
let R11 being RealLinearSpace;
let R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11);
let R26 being  finite  simplex-like (Subset-Family of R18);
set D233 = ( center_of_mass R11 );
assume that
L1793: R26 is  c=-linear  with_non-empty_elements
and
L1794: ( ( card R26 ) + 1 ) = ( card ( union R26 ) );
L1795: R26 is non  empty by L1794 , ZFMISC_1:2;
L1796: ( union R26 ) in R26 by L1795 , L1793 , SIMPLEX0:9;
reconsider D234 = ( union R26 ) as (Simplex of R18) by L1796 , TOPS_2:def 1;
reconsider D235 = ( @ R26 ) as  c=-linear  finite  finite-membered (Subset-Family of R11) by L1793;
reconsider D236 = ( card D234 ) as  ext-real number;
L1797: ( @ D234 ) = ( union D235 );
reconsider D237 = ( union D235 ) as  finite  affinely-independent (Subset of R11) by L1797;
set D238 = ( Complex_of { D237 } );
L1798: ( degree D238 ) = ( D236 - 1 ) by SIMPLEX0:26
.= ( ( card D234 ) + ( - 1 ) ) by XXREAL_3:def 2
.= ( card R26 ) by L1794;
set D239 = { B100 where B100 is (Simplex of ( card R26 ) , ( BCS R18 )) : (( D233 .: R26 ) c= B100 & ( conv ( @ B100 ) ) c= ( conv ( @ ( union R26 ) ) )) };
L1799: ( [#] R18 ) = (the carrier of R11) by SIMPLEX0:def 10;
L1800: |. R18 .| c= ( [#] R18 ) by L1799;
L1801: ( subdivision (D233 , R18) ) = ( BCS R18 ) by L1800 , L436;
set D240 = { B101 where B101 is (Simplex of ( card R26 ) , ( BCS D238 )) : ( D233 .: R26 ) c= B101 };
L1802: ( @ D234 ) = D237;
L1803: D238 is (SubSimplicialComplex of R18) by L1802 , L157;
L1804: (the topology of D238) c= (the topology of R18) by L1803 , SIMPLEX0:def 13;
L1805: |. D238 .| c= |. R18 .| by L1804 , L188;
L1806: ( [#] D238 ) = ( [#] R11 );
L1807: ( degree D238 ) = ( degree ( BCS D238 ) ) by L1806 , L1805 , L1049;
L1808: ( subdivision (D233 , D238) ) = ( BCS D238 ) by L1805 , L1806 , L436;
L1809: ( BCS D238 ) is (SubSimplicialComplex of ( BCS R18 )) by L1808 , L1801 , L1803 , SIMPLEX0:58;
L1810: ( degree ( BCS D238 ) ) <= ( degree ( BCS R18 ) ) by L1809 , SIMPLEX0:32;
L1811: D240 c= D239
proof
let R1 being set;
assume L1812: R1 in D240;
consider C204 being (Simplex of ( card R26 ) , ( BCS D238 )) such that L1813: (R1 = C204 & ( D233 .: D235 ) c= C204) by L1812;
L1814: C204 = ( @ C204 );
reconsider D241 = C204 as (Simplex of ( BCS R18 )) by L1814 , L1802 , L1662;
L1815: ( card C204 ) = ( ( degree ( BCS D238 ) ) + 1 ) by L1798 , L1807 , SIMPLEX0:def 18;
L1816: D241 is (Simplex of ( card R26 ) , ( BCS R18 )) by L1815 , L1798 , L1807 , L1810 , SIMPLEX0:def 18;
L1817: (( conv ( @ C204 ) ) c= ( conv ( @ D234 ) ) & ( @ D241 ) = D241) by L1662;
thus L1818: thesis by L1817 , L1813 , L1816;
end;
L1819: ( [#] ( subdivision (D233 , D238) ) ) = ( [#] D238 ) by SIMPLEX0:def 20;
L1820: D239 c= D240
proof
let R1 being set;
reconsider D242 = ( card R26 ) as  ext-real number;
assume L1821: R1 in D239;
consider C205 being (Simplex of ( card R26 ) , ( BCS R18 )) such that L1822: (C205 = R1 & ( D233 .: R26 ) c= C205) and L1823: ( conv ( @ C205 ) ) c= ( conv ( @ D234 ) ) by L1821;
reconsider D243 = ( @ C205 ) as (Subset of ( BCS D238 )) by L1805 , L1819 , L436;
reconsider D244 = ( card C205 ) as  ext-real number;
L1824: ( card C205 ) = ( D242 + 1 ) by L1798 , L1807 , L1810 , SIMPLEX0:def 18
.= ( ( card R26 ) + 1 ) by XXREAL_3:def 2;
L1825: ( card R26 ) = ( ( card C205 ) + ( - 1 ) ) by L1824;
L1826: ( card R26 ) = ( D244 - 1 ) by L1825 , XXREAL_3:def 2;
L1827: D243 is  simplex-like by L1823 , L1662;
L1828: D243 is (Simplex of ( card R26 ) , ( BCS D238 )) by L1827 , L1826 , SIMPLEX0:48;
thus L1829: thesis by L1828 , L1822;
end;
L1830: ( card D240 ) = 2 by L1793 , L1794 , L1382;
thus L1831: thesis by L1830 , L1811 , L1820 , XBOOLE_0:def 10;
end;
theorem
L1832: (for R5 being Nat holds (for R11 being RealLinearSpace holds (for R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11) holds (for R20 being  finite (Subset of R11) holds ((R18 is (Subdivision of ( Complex_of { R20 } )) & ( card R20 ) = ( R5 + 1 ) & ( degree R18 ) = R5 & (for B102 being (Simplex of ( R5 - 1 ) , R18) holds (for R3 being set holds (R3 = { B103 where B103 is (Simplex of R5 , R18) : B102 c= B103 } implies ((( conv ( @ B102 ) ) meets ( Int R20 ) implies ( card R3 ) = 2) & (( conv ( @ B102 ) ) misses ( Int R20 ) implies ( card R3 ) = 1)))))) implies (for B104 being (Simplex of ( R5 - 1 ) , ( BCS R18 )) holds (for R3 being set holds (R3 = { B105 where B105 is (Simplex of R5 , ( BCS R18 )) : B104 c= B105 } implies ((( conv ( @ B104 ) ) meets ( Int R20 ) implies ( card R3 ) = 2) & (( conv ( @ B104 ) ) misses ( Int R20 ) implies ( card R3 ) = 1))))))))))
proof
let R5 being Nat;
let R11 being RealLinearSpace;
let R18 being non  void  affinely-independent  simplex-join-closed  total (SimplicialComplex of R11);
let C206 being  finite (Subset of R11);
assume that
L1833: R18 is (Subdivision of ( Complex_of { C206 } ))
and
L1834: ( card C206 ) = ( R5 + 1 )
and
L1835: ( degree R18 ) = R5
and
L1836: (for B106 being (Simplex of ( R5 - 1 ) , R18) holds (for B107 being set holds (B107 = { B108 where B108 is (Simplex of R5 , R18) : B106 c= B108 } implies ((( conv ( @ B106 ) ) meets ( Int C206 ) implies ( card B107 ) = 2) & (( conv ( @ B106 ) ) misses ( Int C206 ) implies ( card B107 ) = 1)))));
L1837: |. ( Complex_of { C206 } ) .| = ( conv C206 ) by L232;
L1838: |. R18 .| = ( conv C206 ) by L1837 , L1833 , L265;
L1839: R18 is  finite-degree by L1835 , SIMPLEX0:def 12;
L1840: C206 is  affinely-independent
proof
consider C207 being (Subset of R18) such that L1841: C207 is  simplex-like and L1842: ( card C207 ) = ( ( degree R18 ) + 1 ) by L1839 , SIMPLEX0:def 12;
L1843: ( conv ( @ C207 ) ) c= ( conv C206 ) by L1838 , L1841 , L197;
L1844: ( Affin ( @ C207 ) ) c= ( Affin C206 ) by L1843 , RLAFFIN1:68;
L1845: ( card C206 ) = ( card C207 ) by L1834 , L1835 , L1842 , XXREAL_3:def 2;
thus L1846: thesis by L1845 , L1841 , L1844 , RLAFFIN1:80;
end;
set D245 = ( center_of_mass R11 );
reconsider D246 = ( 0 ) as Nat;
set D247 = ( the TopStruct of R18 );
reconsider D248 = ( R5 - 1 ) as  ext-real number;
let C208 being (Simplex of ( R5 - 1 ) , ( BCS R18 ));
let C209 being set;
assume that
L1847: C209 = { B109 where B109 is (Simplex of R5 , ( BCS R18 )) : C208 c= B109 };
L1848: ( [#] R18 ) = (the carrier of R11) by SIMPLEX0:def 10;
L1849: |. R18 .| c= ( [#] R18 ) by L1848;
L1850: ( degree R18 ) = ( degree ( BCS R18 ) ) by L1849 , L1049;
L1851: (( R5 + ( - 1 ) ) >= ( - 1 ) & ( R5 - 1 ) <= ( degree ( BCS R18 ) )) by L1850 , L1835 , XREAL_1:31 , XREAL_1:146;
L1852: ( card C208 ) = ( D248 + 1 ) by L1851 , SIMPLEX0:def 18;
L1853: ( card C208 ) = ( ( R5 - 1 ) + 1 ) by L1852 , XXREAL_3:def 2;
L1854: ( BCS R18 ) = ( subdivision (D245 , R18) ) by L1849 , L436;
per cases ;
suppose L1855: R5 = ( 0 );

L1856: D247 = ( BCS R18 ) by L1855 , L1835 , L1849 , L471;
L1857: C208 in (the topology of R18) by L1856 , PRE_TOPC:def 2;
reconsider D249 = C208 as (Simplex of R18) by L1857 , PRE_TOPC:def 2;
reconsider D250 = D249 as (Simplex of ( R5 - 1 ) , R18) by L1835 , L1852 , L1855 , SIMPLEX0:def 18;
set D251 = { B110 where B110 is (Simplex of R5 , R18) : D250 c= B110 };
L1858: ( @ C208 ) = ( @ D250 );
L1859: (( conv ( @ C208 ) ) meets ( Int C206 ) implies ( card D251 ) = 2) by L1858 , L1836;
L1860: D251 c= C209
proof
let R1 being set;
assume L1861: R1 in D251;
consider C210 being (Simplex of R5 , R18) such that L1862: (R1 = C210 & C208 c= C210) by L1861;
L1863: C210 in (the topology of ( BCS R18 )) by L1856 , PRE_TOPC:def 2;
reconsider D252 = C210 as (Simplex of ( BCS R18 )) by L1863 , PRE_TOPC:def 2;
L1864: ( card C210 ) = ( ( degree R18 ) + 1 ) by L1835 , SIMPLEX0:def 18;
L1865: D252 is (Simplex of R5 , ( BCS R18 )) by L1864 , L1835 , L1850 , SIMPLEX0:def 18;
thus L1866: thesis by L1865 , L1847 , L1862;
end;
L1867: C209 c= D251
proof
let R1 being set;
assume L1868: R1 in C209;
consider C211 being (Simplex of R5 , ( BCS R18 )) such that L1869: (R1 = C211 & C208 c= C211) by L1868 , L1847;
L1870: C211 in (the topology of R18) by L1856 , PRE_TOPC:def 2;
reconsider D253 = C211 as (Simplex of R18) by L1870 , PRE_TOPC:def 2;
L1871: ( card C211 ) = ( ( degree ( BCS R18 ) ) + 1 ) by L1835 , L1850 , SIMPLEX0:def 18;
L1872: D253 is (Simplex of R5 , R18) by L1871 , L1835 , L1850 , SIMPLEX0:def 18;
thus L1873: thesis by L1872 , L1869;
end;
L1874: (( conv ( @ C208 ) ) misses ( Int C206 ) implies ( card D251 ) = 1) by L1836 , L1858;
thus L1875: thesis by L1874 , L1860 , L1867 , L1859 , XBOOLE_0:def 10;
end;
suppose L1876: R5 > ( 0 );

consider C212 being  c=-linear  finite  simplex-like (Subset-Family of R18) such that L1877: C208 = ( D245 .: C212 ) by L1854 , SIMPLEX0:def 20;
L1878: ( C212 \ { ( {} ) } ) c= C212 by XBOOLE_1:36;
reconsider D254 = ( C212 \ { ( {} ) } ) as  c=-linear  finite  simplex-like (Subset-Family of R18) by L1878 , TOPS_2:11;
L1879: (D254 c= ( bool ( @ ( union D254 ) ) ) & ( bool ( @ ( union D254 ) ) ) c= ( bool (the carrier of R11) )) by ZFMISC_1:67 , ZFMISC_1:82;
L1880: (not ( {} ) in D254) by ZFMISC_1:56;
L1881: D254 is  with_non-empty_elements by L1880 , SETFAM_1:def 8;
L1882: ( dom D245 ) = ( ( bool (the carrier of R11) ) \ { ( {} ) } ) by FUNCT_2:def 1;
L1883: ( C212 /\ ( dom D245 ) ) = ( ( C212 /\ ( bool (the carrier of R11) ) ) \ { ( {} ) } ) by L1882 , XBOOLE_1:49
.= ( D254 /\ ( bool (the carrier of R11) ) ) by XBOOLE_1:49
.= D254 by L1879 , XBOOLE_1:1 , XBOOLE_1:28;
L1884: ( D245 .: C212 ) = ( D245 .: D254 ) by L1883 , RELAT_1:112;
L1885: ( card D254 ) = R5 by L1884 , L1853 , L1877 , L1881 , L1067;
L1886: C208 = ( D245 .: D254 ) by L1877 , L1883 , RELAT_1:112;
L1887: ( card D254 ) = ( card C208 ) by L1877 , L1881 , L1884 , L1067;
L1888: D254 is non  empty by L1887 , L1853 , L1876;
L1889: ( union D254 ) in D254 by L1888 , SIMPLEX0:9;
reconsider D255 = ( union D254 ) as (Simplex of R18) by L1889 , TOPS_2:def 1;
L1890: ( card D254 ) c= ( card D255 ) by L1881 , SIMPLEX0:10;
L1891: R5 <= ( card D255 ) by L1890 , L1853 , L1887 , NAT_1:39;
L1892: ( card D255 ) <= ( ( degree R18 ) + 1 ) by SIMPLEX0:24;
L1893: ( card D255 ) <= ( R5 + 1 ) by L1892 , L1835 , XXREAL_3:def 2;
L1894: ( conv ( @ D255 ) ) c= ( conv C206 ) by L1838 , L197;
L1895: D254 c= ( bool (the carrier of R11) ) by L1879 , XBOOLE_1:1;
L1896: ( conv ( @ C208 ) ) c= ( conv ( @ D255 ) ) by L1895 , L1886 , CONVEX1:30 , RLAFFIN2:17;
per cases  by L1891 , L1893 , NAT_1:9;
suppose L1897: ( card D255 ) = R5;

set D256 = { B111 where B111 is (Simplex of R5 , R18) : D255 c= B111 };
L1898: D255 is (Simplex of ( R5 - 1 ) , R18) by L1850 , L1851 , L1852 , L1853 , L1897 , SIMPLEX0:def 18;
thus L1899:now
assume L1900: ( conv ( @ C208 ) ) meets ( Int C206 );
L1901: ( conv ( @ D255 ) ) meets ( Int C206 ) by L1900 , L1896 , XBOOLE_1:63;
L1902: ( card D256 ) = 2 by L1901 , L1836 , L1898;
consider C213 , C214 being set such that L1903: C213 <> C214 and L1904: D256 = { C213 , C214 } by L1902 , CARD_2:60;
L1905: C214 in D256 by L1904 , TARSKI:def 2;
consider C215 being (Simplex of R5 , R18) such that L1906: C214 = C215 and L1907: D255 c= C215 by L1905;
L1908: (D254 is  with_non-empty_elements & C208 = ( D245 .: D254 )) by L1877 , L1880 , L1883 , RELAT_1:112 , SETFAM_1:def 8;
L1909: C213 in D256 by L1904 , TARSKI:def 2;
consider C216 being (Simplex of R5 , R18) such that L1910: C213 = C216 and L1911: D255 c= C216 by L1909;
L1912: ( card C216 ) = ( ( degree R18 ) + 1 ) by L1835 , SIMPLEX0:def 18;
L1913: ( card C216 ) = ( R5 + 1 ) by L1912 , L1835 , XXREAL_3:def 2;
L1914: { B112 where B112 is (Simplex of R5 , ( BCS R18 )) : (C208 c= B112 & ( conv ( @ B112 ) ) c= ( conv ( @ C216 ) )) } = { ( C208 \/ ( D245 .: { C216 } ) ) } by L1913 , L1853 , L1877 , L1881 , L1884 , L1887 , L1897 , L1911 , L1749;
L1915: ( C208 \/ ( D245 .: { C216 } ) ) in { B113 where B113 is (Simplex of R5 , ( BCS R18 )) : (C208 c= B113 & ( conv ( @ B113 ) ) c= ( conv ( @ C216 ) )) } by L1914 , TARSKI:def 1;
L1916: (ex B114 being (Simplex of R5 , ( BCS R18 )) st (B114 = ( C208 \/ ( D245 .: { C216 } ) ) & C208 c= B114 & ( conv ( @ B114 ) ) c= ( conv ( @ C216 ) ))) by L1915;
L1917: ( C208 \/ ( D245 .: { C216 } ) ) <> ( C208 \/ ( D245 .: { C215 } ) )
proof
L1918: (for B115 being (Subset of R18) holds (B115 in { C216 } implies B115 is  simplex-like)) by TARSKI:def 1;
L1919: { C216 } is  simplex-like by L1918 , TOPS_2:def 1;
L1920: ( D254 \/ { C216 } ) is  simplex-like by L1919 , TOPS_2:13;
L1921: (( C208 \/ ( D245 .: { C216 } ) ) = ( D245 .: ( D254 \/ { C216 } ) ) & ( C208 \/ ( D245 .: { C215 } ) ) = ( D245 .: ( D254 \/ { C215 } ) )) by L1886 , RELAT_1:120;
L1922: C216 in { C216 } by TARSKI:def 1;
L1923: C216 in ( D254 \/ { C216 } ) by L1922 , XBOOLE_0:def 3;
L1924: (for B116 being (Subset of R18) holds (B116 in { C215 } implies B116 is  simplex-like)) by TARSKI:def 1;
L1925: { C215 } is  simplex-like by L1924 , TOPS_2:def 1;
L1926: ( D254 \/ { C215 } ) is  simplex-like by L1925 , TOPS_2:13;
assume L1927: ( C208 \/ ( D245 .: { C216 } ) ) = ( C208 \/ ( D245 .: { C215 } ) );
L1928: C216 is non  empty by L1835 , L1912;
L1929: ( D254 \/ { C216 } ) c= ( D254 \/ { C215 } ) by L1928 , L1849 , L1881 , L1916 , L1926 , L1921 , L1920 , L1927 , L1083;
L1930: (C216 in D254 or C216 in { C215 }) by L1929 , L1923 , XBOOLE_0:def 3;
L1931: C216 c= D255 by L1930 , L1903 , L1906 , L1910 , TARSKI:def 1 , ZFMISC_1:74;
L1932: C216 = D255 by L1931 , L1911 , XBOOLE_0:def 10;
thus L1933: contradiction by L1932 , L1897 , L1913;
end;
L1934: ( ( card D254 ) + D246 ) <= ( degree R18 ) by L1835 , L1853 , L1877 , L1881 , L1884 , L1067;
L1935: C209 c= { ( C208 \/ ( D245 .: { C216 } ) ) , ( C208 \/ ( D245 .: { C215 } ) ) }
proof
let R1 being set;
L1936: (( R5 + 1 ) = ( ( degree R18 ) + 1 ) & R5 = ( ( ( degree R18 ) + 1 ) - 1 )) by L1835 , XXREAL_3:22 , XXREAL_3:def 2;
assume L1937: R1 in C209;
consider C217 being (Simplex of R5 , ( BCS R18 )) such that L1938: R1 = C217 and L1939: C208 c= C217 by L1937 , L1847;
consider C218 being  simplex-like  finite (Subset-Family of R18) such that L1940: C218 misses D254 and L1941: ( C218 \/ D254 ) is  c=-linear  with_non-empty_elements and L1942: ( card C218 ) = ( D246 + 1 ) and L1943: ( @ C217 ) = ( ( D245 .: D254 ) \/ ( D245 .: C218 ) ) by L1853 , L1887 , L1908 , L1934 , L1939 , L1704;
consider C219 being set such that L1944: C218 = { C219 } by L1942 , CARD_2:42;
set D257 = ( C218 \/ D254 );
L1945: ( card D257 ) = ( R5 + 1 ) by L1853 , L1887 , L1940 , L1942 , CARD_2:40;
L1946: ( union D257 ) in D257 by L1941 , L1944 , SIMPLEX0:9;
L1947: D257 is  simplex-like by TOPS_2:13;
reconsider D258 = ( union D257 ) as (Simplex of R18) by L1947 , L1946 , TOPS_2:def 1;
L1948: ( card D257 ) c= ( card D258 ) by L1941 , SIMPLEX0:10;
L1949: ( card D257 ) <= ( card D258 ) by L1948 , NAT_1:39;
L1950: D258 in C218
proof
assume L1951: (not D258 in C218);
L1952: D258 in D254 by L1951 , L1946 , XBOOLE_0:def 3;
L1953: ( card D258 ) <= ( card D255 ) by L1952 , NAT_1:43 , ZFMISC_1:74;
thus L1954: contradiction by L1953 , L1897 , L1945 , L1949 , NAT_1:13;
end;
L1955: D258 = C219 by L1950 , L1944 , TARSKI:def 1;
L1956: ( card D258 ) <= ( ( degree R18 ) + 1 ) by SIMPLEX0:24;
L1957: ( card D258 ) <= ( R5 + 1 ) by L1956 , L1835 , XXREAL_3:def 2;
L1958: ( card D258 ) = ( R5 + 1 ) by L1957 , L1945 , L1949 , XXREAL_0:1;
L1959: D258 is (Simplex of R5 , R18) by L1958 , L1936 , SIMPLEX0:48;
L1960: D255 c= D258 by XBOOLE_1:7 , ZFMISC_1:77;
L1961: D258 in D256 by L1960 , L1959;
L1962: (C217 = ( ( D245 .: D254 ) \/ ( D245 .: { C216 } ) ) or C217 = ( ( D245 .: D254 ) \/ ( D245 .: { C215 } ) )) by L1961 , L1904 , L1906 , L1910 , L1943 , L1944 , L1955 , TARSKI:def 2;
thus L1963: thesis by L1962 , L1886 , L1938 , TARSKI:def 2;
end;
L1964: ( card C215 ) = ( ( degree R18 ) + 1 ) by L1835 , SIMPLEX0:def 18;
L1965: ( card C215 ) = ( R5 + 1 ) by L1964 , L1835 , XXREAL_3:def 2;
L1966: { B117 where B117 is (Simplex of R5 , ( BCS R18 )) : (C208 c= B117 & ( conv ( @ B117 ) ) c= ( conv ( @ C215 ) )) } = { ( C208 \/ ( D245 .: { C215 } ) ) } by L1965 , L1853 , L1881 , L1886 , L1887 , L1897 , L1907 , L1749;
L1967: ( C208 \/ ( D245 .: { C215 } ) ) in { B118 where B118 is (Simplex of R5 , ( BCS R18 )) : (C208 c= B118 & ( conv ( @ B118 ) ) c= ( conv ( @ C215 ) )) } by L1966 , TARSKI:def 1;
L1968: (ex B119 being (Simplex of R5 , ( BCS R18 )) st (B119 = ( C208 \/ ( D245 .: { C215 } ) ) & C208 c= B119 & ( conv ( @ B119 ) ) c= ( conv ( @ C215 ) ))) by L1967;
L1969: ( C208 \/ ( D245 .: { C215 } ) ) in C209 by L1968 , L1847;
L1970: ( C208 \/ ( D245 .: { C216 } ) ) in C209 by L1847 , L1916;
L1971: { ( C208 \/ ( D245 .: { C216 } ) ) , ( C208 \/ ( D245 .: { C215 } ) ) } c= C209 by L1970 , L1969 , ZFMISC_1:32;
L1972: C209 = { ( C208 \/ ( D245 .: { C216 } ) ) , ( C208 \/ ( D245 .: { C215 } ) ) } by L1971 , L1935 , XBOOLE_0:def 10;
thus L1973: ( card C209 ) = 2 by L1972 , L1917 , CARD_2:57;
end;
L1974: (( conv ( @ C208 ) ) c= ( conv C206 ) & C206 is non  empty) by L1834 , L1894 , L1896 , XBOOLE_1:1;
assume L1975: ( conv ( @ C208 ) ) misses ( Int C206 );
consider C220 being (Subset of R11) such that L1976: C220 c< C206 and L1977: ( conv ( @ C208 ) ) c= ( conv C220 ) by L1975 , L1840 , L1974 , RLAFFIN2:23;
L1978: C220 c= C206 by L1976 , XBOOLE_0:def 8;
reconsider D259 = C220 as  finite (Subset of R11) by L1978;
L1979: ( card D259 ) < ( R5 + 1 ) by L1834 , L1976 , CARD_2:48;
L1980: ( card D259 ) <= R5 by L1979 , NAT_1:13;
L1981: ( Affin ( @ C208 ) ) c= ( Affin C220 ) by L1977 , RLAFFIN1:68;
L1982: R5 <= ( card D259 ) by L1981 , L1853 , RLAFFIN1:79;
L1983: ( card D259 ) = R5 by L1982 , L1980 , XXREAL_0:1;
L1984: ( card ( C206 \ C220 ) ) = ( ( R5 + 1 ) - R5 ) by L1983 , L1834 , L1978 , CARD_2:44;
consider C221 being set such that L1985: ( C206 \ C220 ) = { C221 } by L1984 , CARD_2:42;
L1986: D255 is non  empty by L1876 , L1897;
L1987: ( @ D255 ) in ( dom D245 ) by L1986 , L1882 , ZFMISC_1:56;
L1988: (C208 c= ( conv ( @ C208 ) ) & ( D245 . D255 ) in ( @ C208 )) by L1987 , L1886 , L1889 , FUNCT_1:def 6 , RLAFFIN1:2;
L1989: ( D245 . D255 ) in ( conv ( @ C208 ) ) by L1988;
L1990: ( D245 . D255 ) in ( conv ( @ D255 ) ) by L1989 , L1896;
set D260 = ( ( D245 . D255 ) |-- ( @ D255 ) );
L1991: ( @ D255 ) c= ( conv ( @ D255 ) ) by RLAFFIN1:2;
L1992: ( @ D255 ) c= ( conv C206 ) by L1991 , L1894 , XBOOLE_1:1;
L1993: C221 in { C221 } by TARSKI:def 1;
reconsider D261 = C221 as (Element of R11) by L1993 , L1985;
L1994: (D254 is  with_non-empty_elements & C208 = ( D245 .: D254 )) by L1877 , L1880 , L1883 , RELAT_1:112 , SETFAM_1:def 8;
L1995: ( conv ( @ D255 ) ) c= ( Affin ( @ D255 ) ) by RLAFFIN1:65;
L1996: ( sum D260 ) = 1 by L1995 , L1990 , RLAFFIN1:def 7;
consider C222 being (FinSequence of ( REAL )), C223 being (FinSequence of (the carrier of R11)) such that L1997: ( ( ( Sum D260 ) |-- C206 ) . D261 ) = ( Sum C222 ) and L1998: ( len C223 ) = ( len C222 ) and L1999: C223 is  one-to-one and L2000: ( rng C223 ) = ( Carrier D260 ) and L2001: (for R5 being Nat holds (R5 in ( dom C222 ) implies ( C222 . R5 ) = ( ( D260 . ( C223 . R5 ) ) * ( ( ( C223 . R5 ) |-- C206 ) . D261 ) ))) by L1996 , L1840 , L1992 , RLAFFIN2:3;
L2002: ( dom C223 ) = ( dom C222 ) by L1998 , FINSEQ_3:29;
L2003: D255 c= ( conv D259 )
proof
L2004: ( Carrier D260 ) c= D255 by RLVECT_2:def 6;
L2005:
now
let C224 being Nat;
assume that
L2006: C224 in ( dom C222 );
L2007: ( C222 . C224 ) = ( ( D260 . ( C223 . C224 ) ) * ( ( ( C223 . C224 ) |-- C206 ) . D261 ) ) by L2001 , L2006;
L2008: ( C223 . C224 ) in ( rng C223 ) by L2002 , L2006 , FUNCT_1:def 3;
L2009: ( C223 . C224 ) in D255 by L2008 , L2000 , L2004;
L2010: ( ( ( C223 . C224 ) |-- C206 ) . D261 ) >= ( 0 ) by L2009 , L1840 , L1992 , RLAFFIN1:71;
L2011: ( D260 . ( C223 . C224 ) ) = ( 1 / ( card D255 ) ) by L2000 , L2004 , L2008 , RLAFFIN2:18;
thus L2012: ( 0 ) <= ( C222 . C224 ) by L2011 , L2007 , L2010;
end;
L2013: ( D245 . D255 ) in ( conv ( @ C208 ) ) by L1988;
L2014: ( D245 . D255 ) in ( conv C220 ) by L2013 , L1977;
assume L2015: (not D255 c= ( conv D259 ));
consider C225 being set such that L2016: C225 in D255 and L2017: (not C225 in ( conv D259 )) by L2015 , TARSKI:def 3;
L2018: ( ( C225 |-- C206 ) . D261 ) > ( 0 )
proof
L2019: ( C206 \ { D261 } ) c= D259
proof
let R1 being set;
assume L2020: R1 in ( C206 \ { D261 } );
L2021: (R1 in C206 & (not R1 in { D261 })) by L2020 , XBOOLE_0:def 5;
thus L2022: thesis by L2021 , L1985 , XBOOLE_0:def 5;
end;
L2023: ( conv ( C206 \ { D261 } ) ) c= ( conv D259 ) by L2019 , RLAFFIN1:3;
assume L2024: ( ( C225 |-- C206 ) . D261 ) <= ( 0 );
L2025: ( ( C225 |-- C206 ) . D261 ) >= ( 0 ) by L1840 , L1992 , L2016 , RLAFFIN1:71;
L2026: (for R1 being set holds (R1 in { D261 } implies ( ( C225 |-- C206 ) . R1 ) = ( 0 ))) by L2025 , L2024 , TARSKI:def 1;
L2027: C225 in ( conv ( C206 \ { D261 } ) ) by L2026 , L1840 , L1992 , L2016 , RLAFFIN1:76;
thus L2028: contradiction by L2027 , L2017 , L2023;
end;
L2029: ( D260 . C225 ) = ( 1 / ( card D255 ) ) by L2016 , RLAFFIN2:18;
L2030: C225 in ( Carrier D260 ) by L2029 , L2016;
consider C226 being set such that L2031: C226 in ( dom C223 ) and L2032: ( C223 . C226 ) = C225 by L2030 , L2000 , FUNCT_1:def 3;
reconsider D262 = C226 as Nat by L2031;
L2033: ( C222 . D262 ) = ( ( D260 . C225 ) * ( ( C225 |-- C206 ) . D261 ) ) by L2001 , L2002 , L2031 , L2032;
L2034: ( 0 ) < ( Sum C222 ) by L2033 , L2002 , L2005 , L2016 , L2018 , L2029 , L2031 , RVSUM_1:85;
L2035: ( ( ( D245 . D255 ) |-- C206 ) . D261 ) > ( 0 ) by L2034 , L1990 , L1995 , L1997 , RLAFFIN1:def 7;
L2036: ( Carrier ( ( D245 . D255 ) |-- C220 ) ) c= C220 by RLVECT_2:def 6;
L2037: (not D261 in ( Carrier ( ( D245 . D255 ) |-- C220 ) )) by L2036 , L1985 , L1993 , XBOOLE_0:def 5;
L2038: ( conv C220 ) c= ( Affin C220 ) by RLAFFIN1:65;
L2039: ( ( D245 . D255 ) |-- C206 ) = ( ( D245 . D255 ) |-- C220 ) by L2038 , L1840 , L1978 , L2014 , RLAFFIN1:77;
thus L2040: contradiction by L2039 , L2037 , L2035;
end;
L2041: ( conv ( @ D255 ) ) c= ( conv D259 ) by L2003 , CONVEX1:30;
L2042: ( conv ( @ D255 ) ) misses ( Int C206 ) by L2041 , L1976 , RLAFFIN2:7 , XBOOLE_1:63;
L2043: ( card D256 ) = 1 by L2042 , L1836 , L1898;
consider C227 being set such that L2044: D256 = { C227 } by L2043 , CARD_2:42;
L2045: C227 in D256 by L2044 , TARSKI:def 1;
consider C228 being (Simplex of R5 , R18) such that L2046: C227 = C228 and L2047: D255 c= C228 by L2045;
L2048: ( ( card D254 ) + D246 ) <= ( degree R18 ) by L1835 , L1853 , L1877 , L1881 , L1884 , L1067;
L2049: C209 c= { ( C208 \/ ( D245 .: { C228 } ) ) }
proof
let R1 being set;
L2050: ( R5 + 1 ) = ( ( degree R18 ) + 1 ) by L1835 , XXREAL_3:def 2;
assume L2051: R1 in C209;
consider C229 being (Simplex of R5 , ( BCS R18 )) such that L2052: R1 = C229 and L2053: C208 c= C229 by L2051 , L1847;
consider C230 being  simplex-like  finite (Subset-Family of R18) such that L2054: C230 misses D254 and L2055: ( C230 \/ D254 ) is  c=-linear  with_non-empty_elements and L2056: ( card C230 ) = ( D246 + 1 ) and L2057: ( @ C229 ) = ( ( D245 .: D254 ) \/ ( D245 .: C230 ) ) by L1853 , L1887 , L1994 , L2048 , L2053 , L1704;
consider C231 being set such that L2058: C230 = { C231 } by L2056 , CARD_2:42;
set D263 = ( C230 \/ D254 );
L2059: ( card D263 ) = ( R5 + 1 ) by L1853 , L1887 , L2054 , L2056 , CARD_2:40;
L2060: ( union D263 ) in D263 by L2055 , L2058 , SIMPLEX0:9;
L2061: D263 is  simplex-like by TOPS_2:13;
reconsider D264 = ( union D263 ) as (Simplex of R18) by L2061 , L2060 , TOPS_2:def 1;
L2062: ( card D263 ) c= ( card D264 ) by L2055 , SIMPLEX0:10;
L2063: ( card D263 ) <= ( card D264 ) by L2062 , NAT_1:39;
L2064: D264 in C230
proof
assume L2065: (not D264 in C230);
L2066: D264 in D254 by L2065 , L2060 , XBOOLE_0:def 3;
L2067: ( card D264 ) <= ( card D255 ) by L2066 , NAT_1:43 , ZFMISC_1:74;
thus L2068: contradiction by L2067 , L1897 , L2059 , L2063 , NAT_1:13;
end;
L2069: D264 = C231 by L2064 , L2058 , TARSKI:def 1;
L2070: ( card D264 ) <= ( ( degree R18 ) + 1 ) by SIMPLEX0:24;
L2071: ( card D264 ) <= ( R5 + 1 ) by L2070 , L1835 , XXREAL_3:def 2;
L2072: (( card D264 ) = ( R5 + 1 ) & D254 c= D263) by L2071 , L2059 , L2063 , XBOOLE_1:7 , XXREAL_0:1;
L2073: (D255 c= D264 & D264 is (Simplex of R5 , R18)) by L2072 , L1835 , L2050 , SIMPLEX0:def 18 , ZFMISC_1:77;
L2074: D264 in D256 by L2073;
L2075: C229 = ( ( D245 .: D254 ) \/ ( D245 .: { C228 } ) ) by L2074 , L2044 , L2046 , L2057 , L2058 , L2069 , TARSKI:def 1;
thus L2076: thesis by L2075 , L1886 , L2052 , TARSKI:def 1;
end;
L2077: ( card C228 ) = ( ( degree R18 ) + 1 ) by L1835 , SIMPLEX0:def 18;
L2078: ( card C228 ) = ( R5 + 1 ) by L2077 , L1835 , XXREAL_3:def 2;
L2079: { B120 where B120 is (Simplex of R5 , ( BCS R18 )) : (C208 c= B120 & ( conv ( @ B120 ) ) c= ( conv ( @ C228 ) )) } = { ( C208 \/ ( D245 .: { C228 } ) ) } by L2078 , L1853 , L1877 , L1881 , L1884 , L1887 , L1897 , L2047 , L1749;
L2080: ( C208 \/ ( D245 .: { C228 } ) ) in { B121 where B121 is (Simplex of R5 , ( BCS R18 )) : (C208 c= B121 & ( conv ( @ B121 ) ) c= ( conv ( @ C228 ) )) } by L2079 , TARSKI:def 1;
L2081: (ex B122 being (Simplex of R5 , ( BCS R18 )) st (B122 = ( C208 \/ ( D245 .: { C228 } ) ) & C208 c= B122 & ( conv ( @ B122 ) ) c= ( conv ( @ C228 ) ))) by L2080;
L2082: ( C208 \/ ( D245 .: { C228 } ) ) in C209 by L2081 , L1847;
L2083: C209 = { ( C208 \/ ( D245 .: { C228 } ) ) } by L2082 , L2049 , ZFMISC_1:33;
thus L2084: ( card C209 ) = 1 by L2083 , CARD_1:30;
end;
suppose L2085: ( card D255 ) = ( R5 + 1 );

L2086: ( conv ( @ C208 ) ) meets ( Int C206 )
proof
L2087: D255 is non  empty by L2085;
L2088: ( @ D255 ) in ( dom D245 ) by L2087 , L1882 , ZFMISC_1:56;
L2089: (C208 c= ( conv ( @ C208 ) ) & ( D245 . D255 ) in ( @ C208 )) by L2088 , L1886 , L1889 , FUNCT_1:def 6 , RLAFFIN1:2;
L2090: ( D245 . D255 ) in ( conv ( @ C208 ) ) by L2089;
L2091: ( D245 . D255 ) in ( conv ( @ D255 ) ) by L2090 , L1896;
set D265 = ( ( D245 . D255 ) |-- ( @ D255 ) );
assume L2092: ( conv ( @ C208 ) ) misses ( Int C206 );
L2093: (( conv ( @ C208 ) ) c= ( conv C206 ) & C206 is non  empty) by L1834 , L1894 , L1896 , XBOOLE_1:1;
consider C232 being (Subset of R11) such that L2094: C232 c< C206 and L2095: ( conv ( @ C208 ) ) c= ( conv C232 ) by L2093 , L1840 , L2092 , RLAFFIN2:23;
L2096: C232 c= C206 by L2094 , XBOOLE_0:def 8;
reconsider D266 = C232 as  finite (Subset of R11) by L2096;
L2097: ( Affin ( @ C208 ) ) c= ( Affin C232 ) by L2095 , RLAFFIN1:68;
L2098: R5 <= ( card D266 ) by L2097 , L1853 , RLAFFIN1:79;
L2099: ( card D266 ) < ( R5 + 1 ) by L1834 , L2094 , CARD_2:48;
L2100: ( card D266 ) <= R5 by L2099 , NAT_1:13;
L2101: ( card D266 ) = R5 by L2100 , L2098 , XXREAL_0:1;
L2102: ( card ( C206 \ C232 ) ) = ( ( R5 + 1 ) - R5 ) by L2101 , L1834 , L2096 , CARD_2:44;
consider C233 being set such that L2103: ( C206 \ C232 ) = { C233 } by L2102 , CARD_2:42;
L2104: ( @ D255 ) c= ( conv ( @ D255 ) ) by RLAFFIN1:2;
L2105: ( @ D255 ) c= ( conv C206 ) by L2104 , L1894 , XBOOLE_1:1;
L2106: C233 in { C233 } by TARSKI:def 1;
reconsider D267 = C233 as (Element of R11) by L2106 , L2103;
L2107: ( conv ( @ D255 ) ) c= ( Affin ( @ D255 ) ) by RLAFFIN1:65;
L2108: ( sum D265 ) = 1 by L2107 , L2091 , RLAFFIN1:def 7;
consider C234 being (FinSequence of ( REAL )), C235 being (FinSequence of (the carrier of R11)) such that L2109: ( ( ( Sum D265 ) |-- C206 ) . D267 ) = ( Sum C234 ) and L2110: ( len C235 ) = ( len C234 ) and L2111: C235 is  one-to-one and L2112: ( rng C235 ) = ( Carrier D265 ) and L2113: (for R5 being Nat holds (R5 in ( dom C234 ) implies ( C234 . R5 ) = ( ( D265 . ( C235 . R5 ) ) * ( ( ( C235 . R5 ) |-- C206 ) . D267 ) ))) by L2108 , L1840 , L2105 , RLAFFIN2:3;
L2114: ( dom C235 ) = ( dom C234 ) by L2110 , FINSEQ_3:29;
L2115: ( C206 \ { D267 } ) = ( C206 /\ C232 ) by L2103 , XBOOLE_1:48
.= C232 by L2096 , XBOOLE_1:28;
L2116: D255 c= ( conv D266 )
proof
L2117: ( Carrier D265 ) c= D255 by RLVECT_2:def 6;
L2118:
now
let C236 being Nat;
assume that
L2119: C236 in ( dom C234 );
L2120: ( C234 . C236 ) = ( ( D265 . ( C235 . C236 ) ) * ( ( ( C235 . C236 ) |-- C206 ) . D267 ) ) by L2113 , L2119;
L2121: ( C235 . C236 ) in ( rng C235 ) by L2114 , L2119 , FUNCT_1:def 3;
L2122: ( C235 . C236 ) in D255 by L2121 , L2112 , L2117;
L2123: ( ( ( C235 . C236 ) |-- C206 ) . D267 ) >= ( 0 ) by L2122 , L1840 , L2105 , RLAFFIN1:71;
L2124: ( D265 . ( C235 . C236 ) ) = ( 1 / ( card D255 ) ) by L2112 , L2117 , L2121 , RLAFFIN2:18;
thus L2125: ( 0 ) <= ( C234 . C236 ) by L2124 , L2120 , L2123;
end;
L2126: ( D245 . D255 ) in ( conv ( @ C208 ) ) by L2089;
L2127: ( D245 . D255 ) in ( conv C232 ) by L2126 , L2095;
assume L2128: (not D255 c= ( conv D266 ));
consider C237 being set such that L2129: C237 in D255 and L2130: (not C237 in ( conv D266 )) by L2128 , TARSKI:def 3;
L2131: D255 c= ( conv ( @ D255 ) ) by RLAFFIN1:2;
L2132: C237 in ( conv ( @ D255 ) ) by L2131 , L2129;
L2133: ( ( C237 |-- C206 ) . D267 ) > ( 0 )
proof
assume L2134: ( ( C237 |-- C206 ) . D267 ) <= ( 0 );
L2135: ( ( C237 |-- C206 ) . D267 ) >= ( 0 ) by L1840 , L1894 , L2132 , RLAFFIN1:71;
L2136: (for R2 being set holds (R2 in ( C206 \ D266 ) implies ( ( C237 |-- C206 ) . R2 ) = ( 0 ))) by L2135 , L2103 , L2134 , TARSKI:def 1;
thus L2137: contradiction by L2136 , L1840 , L1894 , L2103 , L2115 , L2130 , L2132 , RLAFFIN1:76;
end;
L2138: ( D265 . C237 ) = ( 1 / ( card D255 ) ) by L2129 , RLAFFIN2:18;
L2139: C237 in ( Carrier D265 ) by L2138 , L2129;
consider C238 being set such that L2140: C238 in ( dom C235 ) and L2141: ( C235 . C238 ) = C237 by L2139 , L2112 , FUNCT_1:def 3;
reconsider D268 = C238 as Nat by L2140;
L2142: ( C234 . D268 ) = ( ( D265 . C237 ) * ( ( C237 |-- C206 ) . D267 ) ) by L2113 , L2114 , L2140 , L2141;
L2143: ( 0 ) < ( Sum C234 ) by L2142 , L2114 , L2118 , L2129 , L2133 , L2138 , L2140 , RVSUM_1:85;
L2144: ( ( ( D245 . D255 ) |-- C206 ) . D267 ) > ( 0 ) by L2143 , L2091 , L2107 , L2109 , RLAFFIN1:def 7;
L2145: ( Carrier ( ( D245 . D255 ) |-- C232 ) ) c= C232 by RLVECT_2:def 6;
L2146: (not D267 in ( Carrier ( ( D245 . D255 ) |-- C232 ) )) by L2145 , L2103 , L2106 , XBOOLE_0:def 5;
L2147: ( conv C232 ) c= ( Affin C232 ) by RLAFFIN1:65;
L2148: ( ( D245 . D255 ) |-- C206 ) = ( ( D245 . D255 ) |-- C232 ) by L2147 , L1840 , L2096 , L2127 , RLAFFIN1:77;
thus L2149: contradiction by L2148 , L2146 , L2144;
end;
L2150: ( conv ( @ D255 ) ) c= ( conv D266 ) by L2116 , CONVEX1:30;
L2151: ( Affin ( @ D255 ) ) c= ( Affin D266 ) by L2150 , RLAFFIN1:68;
thus L2152: contradiction by L2151 , L2085 , L2099 , RLAFFIN1:79;
end;
set D269 = { B123 where B123 is (Simplex of R5 , ( BCS R18 )) : (C208 c= B123 & ( conv ( @ B123 ) ) c= ( conv ( @ D255 ) )) };
L2153: ( card D269 ) = 2 by L1853 , L1881 , L1886 , L1887 , L2085 , L1792;
consider C239 , C240 being set such that L2154: C239 <> C240 and L2155: D269 = { C239 , C240 } by L2153 , CARD_2:60;
L2156: C240 in D269 by L2155 , TARSKI:def 2;
consider C241 being (Simplex of R5 , ( BCS R18 )) such that L2157: C240 = C241 and L2158: C208 c= C241 and L2159: ( conv ( @ C241 ) ) c= ( conv ( @ D255 ) ) by L2156;
L2160: C239 in D269 by L2155 , TARSKI:def 2;
consider C242 being (Simplex of R5 , ( BCS R18 )) such that L2161: C239 = C242 and L2162: C208 c= C242 and L2163: ( conv ( @ C242 ) ) c= ( conv ( @ D255 ) ) by L2160;
L2164: C242 in C209 by L1847 , L2162;
L2165: C209 c= D269
proof
let C243 being set;
assume L2166: C243 in C209;
consider C244 being (Simplex of R5 , ( BCS R18 )) such that L2167: C243 = C244 and L2168: C208 c= C244 by L2166 , L1847;
L2169: ( ( card D254 ) + D246 ) <= ( degree R18 ) by L1835 , L1853 , L1877 , L1881 , L1884 , L1067;
consider C245 being  simplex-like  finite (Subset-Family of R18) such that L2170: C245 misses D254 and L2171: ( C245 \/ D254 ) is  c=-linear  with_non-empty_elements and L2172: ( card C245 ) = ( D246 + 1 ) and L2173: ( @ C244 ) = ( ( D245 .: D254 ) \/ ( D245 .: C245 ) ) by L2169 , L1877 , L1881 , L1884 , L1885 , L2168 , L1704;
reconsider D270 = ( C245 \/ D254 ) as  finite  simplex-like (Subset-Family of R18) by TOPS_2:13;
L2174: C244 = ( D245 .: ( @ D270 ) ) by L2173 , RELAT_1:120;
L2175: ( union D270 ) in D270 by L1888 , L2171 , SIMPLEX0:9;
reconsider D271 = ( union D270 ) as (Simplex of R18) by L2175 , TOPS_2:def 1;
L2176: ( card D271 ) <= ( ( degree R18 ) + 1 ) by SIMPLEX0:24;
L2177: ( card D271 ) <= ( R5 + 1 ) by L2176 , L1835 , XXREAL_3:def 2;
L2178: D255 c= ( union D270 ) by XBOOLE_1:7 , ZFMISC_1:77;
L2179: ( R5 + 1 ) <= ( card D271 ) by L2178 , L2085 , NAT_1:43;
L2180: D271 = D255 by L2179 , L2085 , L2177 , L2178 , CARD_FIN:1 , XXREAL_0:1;
L2181: ( conv ( @ C244 ) ) c= ( conv ( @ D255 ) ) by L2180 , L2174 , CONVEX1:30 , RLAFFIN2:17;
thus L2182: thesis by L2181 , L2167 , L2168;
end;
L2183: C241 in C209 by L1847 , L2158;
L2184: D269 c= C209 by L2183 , L2155 , L2161 , L2157 , L2164 , ZFMISC_1:32;
thus L2185: thesis by L2184 , L2086 , L2153 , L2165 , XBOOLE_0:def 10;
end;
end;
end;
theorem
L2188: (for R3 being set holds (for R5 being Nat holds (for R6 being Nat holds (for R11 being RealLinearSpace holds (for R19 being  finite  affinely-independent (Subset of R11) holds (for B124 being (Simplex of ( R5 - 1 ) , ( BCS (R6 , ( Complex_of { R19 } )) )) holds ((( card R19 ) = ( R5 + 1 ) & R3 = { B125 where B125 is (Simplex of R5 , ( BCS (R6 , ( Complex_of { R19 } )) )) : B124 c= B125 }) implies ((( conv ( @ B124 ) ) meets ( Int R19 ) implies ( card R3 ) = 2) & (( conv ( @ B124 ) ) misses ( Int R19 ) implies ( card R3 ) = 1)))))))))
proof
let R3 being set;
let R5 being Nat;
let R6 being Nat;
let R11 being RealLinearSpace;
let R19 being  finite  affinely-independent (Subset of R11);
let C246 being (Simplex of ( R5 - 1 ) , ( BCS (R6 , ( Complex_of { R19 } )) ));
assume that
L2189: ( card R19 ) = ( R5 + 1 );
set D272 = ( Complex_of { R19 } );
reconsider D273 = ( card R19 ) as  ext-real number;
L2190: ( D273 - 1 ) = ( ( card R19 ) + ( - 1 ) ) by XXREAL_3:def 2
.= R5 by L2189;
L2191: ( degree D272 ) = R5 by L2190 , SIMPLEX0:26;
defpred S12[ Nat ] means (for B126 being (Simplex of ( R5 - 1 ) , ( BCS ($1 , D272) )) holds (for B127 being set holds (B127 = { B128 where B128 is (Simplex of R5 , ( BCS ($1 , D272) )) : B126 c= B128 } implies ((( conv ( @ B126 ) ) meets ( Int R19 ) implies ( card B127 ) = 2) & (( conv ( @ B126 ) ) misses ( Int R19 ) implies ( card B127 ) = 1)))));
L2192: (( [#] D272 ) = ( [#] R11 ) & |. D272 .| c= ( [#] R11 ));
L2193: S12[ (( 0 ) qua Nat) ]
proof
reconsider D274 = ( R5 - 1 ) as  ext-real number;
L2194: (the topology of D272) = ( bool R19 ) by SIMPLEX0:4;
L2195: R19 in ( bool R19 ) by ZFMISC_1:def 1;
reconsider D275 = R19 as  finite (Simplex of D272) by L2195 , L2194 , PRE_TOPC:def 2;
L2196: ( BCS (( 0 ) , D272) ) = D272 by L2192 , L453;
let C247 being (Simplex of ( R5 - 1 ) , ( BCS (( 0 ) , D272) ));
let C248 being set;
assume that
L2197: C248 = { B129 where B129 is (Simplex of R5 , ( BCS (( 0 ) , D272) )) : C247 c= B129 };
L2198: C248 c= { R19 }
proof
let R1 being set;
reconsider D276 = R5 as  ext-real number;
assume L2199: R1 in C248;
consider C249 being (Simplex of R5 , D272) such that L2200: R1 = C249 and L2201: C247 c= C249 by L2199 , L2196 , L2197;
L2202: C249 in (the topology of D272) by PRE_TOPC:def 2;
L2203: ( card C249 ) = ( D276 + 1 ) by L2191 , SIMPLEX0:def 18
.= ( R5 + 1 ) by XXREAL_3:def 2;
L2204: R19 = C249 by L2203 , L2189 , L2194 , L2202 , CARD_FIN:1;
thus L2205: thesis by L2204 , L2200 , TARSKI:def 1;
end;
L2206: C247 in ( bool R19 ) by L2194 , L2196 , PRE_TOPC:def 2;
L2207: D275 is (Simplex of R5 , D272) by L2190 , SIMPLEX0:48;
L2208: R19 in C248 by L2207 , L2196 , L2197 , L2206;
L2209: C248 = { R19 } by L2208 , L2198 , ZFMISC_1:33;
L2210: (( R5 + ( - 1 ) ) >= ( - 1 ) & ( R5 - 1 ) <= ( degree D272 )) by L2191 , XREAL_1:31 , XREAL_1:146;
L2211: ( card C247 ) = ( D274 + 1 ) by L2210 , L2196 , SIMPLEX0:def 18
.= ( ( R5 - 1 ) + 1 ) by XXREAL_3:def 2;
L2212: C247 <> R19 by L2211 , L2189;
L2213: C247 c< R19 by L2212 , L2206 , XBOOLE_0:def 8;
thus L2214: thesis by L2213 , L2209 , CARD_1:30 , RLAFFIN2:7;
end;
L2215: (for R6 being Nat holds (S12[ R6 ] implies S12[ ( R6 + 1 ) ]))
proof
let R6 being Nat;
assume that
L2216: S12[ R6 ];
L2217: (( degree ( BCS (R6 , D272) ) ) = R5 & ( BCS (( R6 + 1 ) , D272) ) = ( BCS ( BCS (R6 , D272) ) )) by L2191 , L2192 , L464 , L1057;
let C250 being (Simplex of ( R5 - 1 ) , ( BCS (( R6 + 1 ) , D272) ));
let R3 being set;
assume that
L2218: R3 = { B130 where B130 is (Simplex of R5 , ( BCS (( R6 + 1 ) , D272) )) : C250 c= B130 };
thus L2219: thesis by L2189 , L2216 , L2217 , L2218 , L1832;
end;
L2220: (for R6 being Nat holds S12[ R6 ]) from NAT_1:sch 2(L2193 , L2215);
thus L2221: thesis by L2220;
end;
begin
theorem
L2222: (for R6 being Nat holds (for R11 being RealLinearSpace holds (for R19 being  finite  affinely-independent (Subset of R11) holds (for R30 being (Function of ( Vertices ( BCS (R6 , ( Complex_of { R19 } )) ) ) , R19) holds ((for R29 being (Vertex of ( BCS (R6 , ( Complex_of { R19 } )) )) holds (for R22 being (Subset of R11) holds ((R22 c= R19 & R29 in ( conv R22 )) implies ( R30 . R29 ) in R22))) implies (ex R5 being Nat st ( card { B131 where B131 is (Simplex of ( ( card R19 ) - 1 ) , ( BCS (R6 , ( Complex_of { R19 } )) )) : ( R30 .: B131 ) = R19 } ) = ( ( 2 * R5 ) + 1 )))))))
proof
let R6 being Nat;
let R11 being RealLinearSpace;
let R19 being  finite  affinely-independent (Subset of R11);
reconsider D277 = 1 as  ext-real number;
reconsider D278 = ( 0 ) as  ext-real number;
defpred S13[ Nat ] means (for B132 being  finite  affinely-independent (Subset of R11) holds (( card B132 ) = $1 implies (for B133 being (Function of ( Vertices ( BCS (R6 , ( Complex_of { B132 } )) ) ) , B132) holds ((for B134 being (Vertex of ( BCS (R6 , ( Complex_of { B132 } )) )) holds (for B135 being (Subset of R11) holds ((B135 c= B132 & B134 in ( conv B135 )) implies ( B133 . B134 ) in B135))) implies (ex R5 being Nat st ( card { B136 where B136 is (Simplex of ( ( card B132 ) - 1 ) , ( BCS (R6 , ( Complex_of { B132 } )) )) : ( B133 .: B136 ) = B132 } ) = ( ( 2 * R5 ) + 1 ))))));
L2223: (for B137 being Nat holds (S13[ B137 ] implies S13[ ( B137 + 1 ) ]))
proof
let C251 being Nat;
assume that
L2224: S13[ C251 ];
let C252 being  finite  affinely-independent (Subset of R11);
assume that
L2225: ( card C252 ) = ( C251 + 1 );
L2226: C252 is non  empty by L2225;
consider C253 being set such that L2227: C253 in C252 by L2226 , XBOOLE_0:def 1;
reconsider D279 = C253 as (Element of R11) by L2227;
L2228: ( card ( C252 \ { D279 } ) ) = C251 by L2225 , L2227 , STIRL2_1:55;
reconsider D280 = ( C252 \ { D279 } ) as  finite  affinely-independent (Subset of R11) by RLAFFIN1:43 , XBOOLE_1:36;
set D281 = ( Complex_of { D280 } );
L2229: (the topology of D281) = ( bool D280 ) by SIMPLEX0:4;
L2230: ( Vertices D281 ) = ( union ( bool D280 ) ) by L2229 , SIMPLEX0:16
.= D280 by ZFMISC_1:81;
L2231: (( [#] D281 ) = ( [#] R11 ) & |. D281 .| c= ( [#] R11 ));
L2232: ( Vertices D281 ) c= ( Vertices ( BCS (R6 , D281) ) ) by L2231 , L571;
set D282 = ( Complex_of { C252 } );
let C254 being (Function of ( Vertices ( BCS (R6 , D282) ) ) , C252);
assume that
L2233: (for B138 being (Vertex of ( BCS (R6 , D282) )) holds (for B139 being (Subset of R11) holds ((B139 c= C252 & B138 in ( conv B139 )) implies ( C254 . B138 ) in B139)));
set D283 = { B140 where B140 is (Simplex of ( ( card C252 ) - 1 ) , ( BCS (R6 , D282) )) : ( C254 .: B140 ) = C252 };
L2234: D283 c= (the topology of ( BCS (R6 , D282) ))
proof
let R1 being set;
assume L2235: R1 in D283;
L2236: (ex B141 being (Simplex of ( ( card C252 ) - 1 ) , ( BCS (R6 , D282) )) st (B141 = R1 & C252 = ( C254 .: B141 ))) by L2235;
thus L2237: thesis by L2236 , PRE_TOPC:def 2;
end;
reconsider D284 = D283 as (Subset-Family of ( BCS (R6 , D282) )) by L2234 , XBOOLE_1:1;
reconsider D285 = D284 as  simplex-like (Subset-Family of ( BCS (R6 , D282) )) by L2234 , SIMPLEX0:14;
L2238: (( [#] D282 ) = ( [#] R11 ) & |. D282 .| c= ( [#] R11 ));
L2239: ( C252 \ { D279 } ) c= C252 by XBOOLE_1:36;
L2240: (for R1 being set holds (R1 in { D280 } implies (ex R2 being set st (R2 in { C252 } & R1 c= R2))))
proof
let R1 being set;
assume L2241: R1 in { D280 };
take C252;
thus L2242: thesis by L2239 , L2241 , TARSKI:def 1;
end;
L2243: { D280 } is_finer_than { C252 } by L2240 , SETFAM_1:def 2;
L2244: D281 is (SubSimplicialComplex of D282) by L2243 , SIMPLEX0:30;
L2245: ( BCS (R6 , D281) ) is (SubSimplicialComplex of ( BCS (R6 , D282) )) by L2244 , L2238 , L2231 , L564;
L2246: ( Vertices ( BCS (R6 , D281) ) ) c= ( Vertices ( BCS (R6 , D282) ) ) by L2245 , SIMPLEX0:31;
L2247: (the topology of D282) = ( bool C252 ) by SIMPLEX0:4;
L2248: ( Vertices D282 ) = ( union ( bool C252 ) ) by L2247 , SIMPLEX0:16
.= C252 by ZFMISC_1:81;
L2249: ( dom C254 ) = ( Vertices ( BCS (R6 , D282) ) ) by L2227 , FUNCT_2:def 1;
per cases ;
suppose L2250: C251 = ( 0 );

L2251: ( D277 - 1 ) = ( 0 ) by XXREAL_3:7;
L2252: ( degree D282 ) = ( 0 ) by L2251 , L2225 , L2250 , SIMPLEX0:26;
L2253: (R6 = ( 0 ) or R6 > ( 0 ));
L2254: ( BCS (R6 , D282) ) = D282 by L2253 , L2238 , L2252 , L453 , L542;
L2255: ( dom C254 ) = ( Vertices D282 ) by L2254 , L2227 , FUNCT_2:def 1;
take ( 0 );
L2256: C252 in ( bool C252 ) by ZFMISC_1:def 1;
reconsider D286 = C252 as (Simplex of D282) by L2256 , L2247 , PRE_TOPC:def 2;
L2257: D286 is (Simplex of ( 0 ) , D282) by L2225 , L2250 , L2251 , SIMPLEX0:48;
L2258: (ex R1 being set st C252 = { R1 }) by L2225 , L2250 , CARD_2:42;
L2259: C252 = { D279 } by L2258 , L2227 , TARSKI:def 1;
L2260: ( conv C252 ) = C252 by L2259 , RLAFFIN1:1;
L2261: ( C254 . D279 ) in C252 by L2260 , L2227 , L2233 , L2248 , L2254;
L2262: ( C254 . D279 ) = D279 by L2261 , L2259 , TARSKI:def 1;
L2263: D285 c= { C252 }
proof
let R1 being set;
assume L2264: R1 in D285;
consider C255 being (Simplex of ( 0 ) , D282) such that L2265: R1 = C255 and L2266: ( C254 .: C255 ) = C252 by L2264 , L2225 , L2250 , L2254;
L2267: C255 in (the topology of D282) by PRE_TOPC:def 2;
L2268: ( card C255 ) = ( D278 + 1 ) by L2252 , SIMPLEX0:def 18
.= 1 by XXREAL_3:4;
L2269: C255 = C252 by L2268 , L2225 , L2247 , L2250 , L2267 , CARD_FIN:1;
thus L2270: thesis by L2269 , L2265 , TARSKI:def 1;
end;
L2271: ( C254 .: C252 ) = ( Im (C254 , D279) ) by L2259 , RELAT_1:def 16
.= C252 by L2227 , L2248 , L2255 , L2259 , L2262 , FUNCT_1:59;
L2272: C252 in D285 by L2271 , L2225 , L2250 , L2257 , L2254;
L2273: D285 = { C252 } by L2272 , L2263 , ZFMISC_1:33;
thus L2274: thesis by L2273 , CARD_1:30;
end;
suppose L2275: C251 > ( 0 );

defpred S14[ set , set ] means $1 c= $2;
set D287 = { B142 where B142 is (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) : (( C254 .: B142 ) = D280 & ( conv ( @ B142 ) ) misses ( Int C252 )) };
reconsider D288 = ( C251 - 1 ) as  ext-real number;
reconsider D289 = C251 as  ext-real number;
reconsider D290 = ( card C252 ) as  ext-real number;
set D291 = { B143 where B143 is (Simplex of C251 , ( BCS (R6 , D282) )) : D280 = ( C254 .: B143 ) };
L2276: D291 c= (the topology of ( BCS (R6 , D282) ))
proof
let R1 being set;
assume L2277: R1 in D291;
L2278: (ex B144 being (Simplex of C251 , ( BCS (R6 , D282) )) st (B144 = R1 & D280 = ( C254 .: B144 ))) by L2277;
thus L2279: thesis by L2278 , PRE_TOPC:def 2;
end;
reconsider D292 = D291 as (Subset-Family of ( BCS (R6 , D282) )) by L2276 , XBOOLE_1:1;
reconsider D293 = D292 as  simplex-like (Subset-Family of ( BCS (R6 , D282) )) by L2276 , SIMPLEX0:14;
defpred S15[ set , set ] means $2 c= $1;
set D294 = { B145 where B145 is (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) : D280 = ( C254 .: B145 ) };
set D295 = { B146 where B146 is (Simplex of C251 , ( BCS (R6 , D282) )) : (not contradiction) };
consider C256 being Relation such that L2280: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in C256 iff (R1 in D295 & R2 in D294 & S15[ R1 , R2 ])))) from RELAT_1:sch 1;
set D296 = ( ( dom C256 ) \ D293 );
L2281: D296 c= D285
proof
let R1 being set;
assume L2282: R1 in D296;
consider R2 being set such that L2283: [ R1 , R2 ] in C256 by L2282 , XTUPLE_0:def 12;
L2284: R1 in D295 by L2280 , L2283;
consider C257 being (Simplex of C251 , ( BCS (R6 , D282) )) such that L2285: R1 = C257 and L2286: (not contradiction) by L2284;
L2287: (not R1 in D293) by L2282 , XBOOLE_0:def 5;
L2288: ( C254 .: C257 ) <> D280 by L2287 , L2285;
L2289: R2 in D294 by L2280 , L2283;
L2290: (ex B147 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) st (R2 = B147 & D280 = ( C254 .: B147 ))) by L2289;
L2291: R2 c= R1 by L2280 , L2283;
L2292: D280 c= ( C254 .: C257 ) by L2291 , L2285 , L2290 , RELAT_1:123;
L2293: D280 c< ( C254 .: C257 ) by L2292 , L2288 , XBOOLE_0:def 8;
L2294: C251 < ( card ( C254 .: C257 ) ) by L2293 , L2228 , CARD_2:48;
L2295: ( C251 + 1 ) <= ( card ( C254 .: C257 ) ) by L2294 , NAT_1:13;
L2296: ( card ( C254 .: C257 ) ) <= ( C251 + 1 ) by L2225 , NAT_1:43;
L2297: ( C254 .: C257 ) = C252 by L2296 , L2225 , L2295 , CARD_FIN:1 , XXREAL_0:1;
thus L2298: thesis by L2297 , L2225 , L2285;
end;
set D297 = ( C256 | D296 );
L2299: ( D297 | ( ( dom D297 ) \ D296 ) ) = ( {} )
proof
assume L2300: ( D297 | ( ( dom D297 ) \ D296 ) ) <> ( {} );
consider C258 being set such that L2301: C258 in ( D297 | ( ( dom D297 ) \ D296 ) ) by L2300 , XBOOLE_0:def 1;
consider R1 being set, R2 being set such that L2302: C258 = [ R1 , R2 ] by L2301 , RELAT_1:def 1;
L2303: R1 in ( ( dom D297 ) \ D296 ) by L2301 , L2302 , RELAT_1:def 11;
L2304: (( dom D297 ) c= D296 & R1 in ( dom D297 )) by L2303 , RELAT_1:58;
thus L2305: contradiction by L2304 , L2303 , XBOOLE_0:def 5;
end;
L2306: ( 2 *` ( card D293 ) ) = ( ( card 2 ) *` ( card ( card D293 ) ) ) by L568
.= ( card ( 2 * ( card D293 ) ) ) by CARD_2:39;
L2307: ( 2 * ( card D293 ) ) in ( NAT ) by ORDINAL1:def 12;
L2308: ( D290 - 1 ) = ( ( C251 + 1 ) + ( - 1 ) ) by L2225 , XXREAL_3:def 2;
L2309: ( degree D282 ) = C251 by L2308 , SIMPLEX0:26;
consider C259 being Relation such that L2310: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in C259 iff (R1 in D294 & R2 in D295 & S14[ R1 , R2 ])))) from RELAT_1:sch 1;
L2311: ( card C259 ) = ( card C256 )
proof
deffunc H3(set) = [ ( $1 `2 ) , ( $1 `1 ) ];
L2312: (for R1 being set holds (R1 in C259 implies H3(R1) in C256))
proof
let C260 being set;
assume L2313: C260 in C259;
L2314: (ex R1 being set st (ex R2 being set st C260 = [ R1 , R2 ])) by L2313 , RELAT_1:def 1;
L2315: C260 = [ ( C260 `1 ) , ( C260 `2 ) ] by L2314 , MCART_1:8;
L2316: ( C260 `2 ) in D295 by L2315 , L2310 , L2313;
L2317: (S14[ ( C260 `1 ) , ( C260 `2 ) ] & ( C260 `1 ) in D294) by L2310 , L2313 , L2315;
thus L2318: thesis by L2317 , L2280 , L2316;
end;
consider C261 being (Function of C259 , C256) such that L2319: (for R1 being set holds (R1 in C259 implies ( C261 . R1 ) = H3(R1))) from FUNCT_2:sch 2(L2312);
per cases ;
suppose L2320: C256 is  empty;

L2321: C259 is  empty
proof
assume L2322: C259 is non  empty;
L2323: (ex R1 being set st R1 in C259) by L2322 , XBOOLE_0:def 1;
thus L2324: thesis by L2323 , L2312 , L2320;
end;
thus L2325: thesis by L2321 , L2320;
end;
suppose L2326: C256 is non  empty;

L2327: ( dom C261 ) = C259 by L2326 , FUNCT_2:def 1;
L2328: C256 c= ( rng C261 )
proof
let C262 being set;
assume L2329: C262 in C256;
L2330: (ex R1 being set st (ex R2 being set st C262 = [ R1 , R2 ])) by L2329 , RELAT_1:def 1;
L2331: C262 = [ ( C262 `1 ) , ( C262 `2 ) ] by L2330 , MCART_1:8;
L2332: ( C262 `2 ) in D294 by L2331 , L2280 , L2329;
L2333: (S15[ ( C262 `1 ) , ( C262 `2 ) ] & ( C262 `1 ) in D295) by L2280 , L2329 , L2331;
L2334: [ ( C262 `2 ) , ( C262 `1 ) ] in C259 by L2333 , L2310 , L2332;
L2335: H3([ ( C262 `2 ) , ( C262 `1 ) ]) = C262 by L2331;
L2336: C262 = ( C261 . [ ( C262 `2 ) , ( C262 `1 ) ] ) by L2335 , L2319 , L2334;
thus L2337: thesis by L2336 , L2327 , L2334 , FUNCT_1:def 3;
end;
L2338: ( rng C261 ) = C256 by L2328 , XBOOLE_0:def 10;
L2339:
now
let C263 , C264 being set;
assume that
L2340: C263 in C259
and
L2341: C264 in C259
and
L2342: ( C261 . C263 ) = ( C261 . C264 );
L2343: (( C261 . C263 ) = H3(C263) & ( C261 . C264 ) = H3(C264)) by L2319 , L2340 , L2341;
L2344: (( C263 `2 ) = ( C264 `2 ) & ( C263 `1 ) = ( C264 `1 )) by L2343 , L2342 , XTUPLE_0:1;
L2345: (ex R1 being set st (ex R2 being set st C264 = [ R1 , R2 ])) by L2341 , RELAT_1:def 1;
L2346: (ex R1 being set st (ex R2 being set st C263 = [ R1 , R2 ])) by L2340 , RELAT_1:def 1;
thus L2347: C263 = [ ( C264 `1 ) , ( C264 `2 ) ] by L2346 , L2344 , MCART_1:8
.= C264 by L2345 , MCART_1:8;
end;
L2348: C261 is  one-to-one by L2339 , L2327 , FUNCT_1:def 4;
L2349: C259 , C256 are_equipotent  by L2348 , L2327 , L2338 , WELLORD2:def 4;
thus L2350: thesis by L2349 , CARD_1:5;
end;
end;
L2352: (|. ( BCS (R6 , D281) ) .| = |. D281 .| & |. D281 .| = ( conv D280 )) by L232 , L265;
set D298 = ( ( dom C259 ) \ D287 );
L2353: D298 c= (the topology of ( BCS (R6 , D282) ))
proof
let R1 being set;
assume L2354: R1 in D298;
L2355: (ex R2 being set st [ R1 , R2 ] in C259) by L2354 , XTUPLE_0:def 12;
L2356: R1 in D294 by L2355 , L2310;
L2357: (ex B148 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) st (B148 = R1 & D280 = ( C254 .: B148 ))) by L2356;
thus L2358: thesis by L2357 , PRE_TOPC:def 2;
end;
set D299 = ( C259 | D298 );
reconsider D300 = D298 as (Subset-Family of ( BCS (R6 , D282) )) by L2353 , XBOOLE_1:1;
reconsider D301 = D300 as  simplex-like (Subset-Family of ( BCS (R6 , D282) )) by L2353 , SIMPLEX0:14;
L2359: ( D299 | ( ( dom D299 ) \ D301 ) ) = ( {} )
proof
assume L2360: ( D299 | ( ( dom D299 ) \ D301 ) ) <> ( {} );
consider C265 being set such that L2361: C265 in ( D299 | ( ( dom D299 ) \ D301 ) ) by L2360 , XBOOLE_0:def 1;
consider R1 being set, R2 being set such that L2362: C265 = [ R1 , R2 ] by L2361 , RELAT_1:def 1;
L2363: R1 in ( ( dom D299 ) \ D301 ) by L2361 , L2362 , RELAT_1:def 11;
L2364: (( dom D299 ) c= D301 & R1 in ( dom D299 )) by L2363 , RELAT_1:58;
thus L2365: contradiction by L2364 , L2363 , XBOOLE_0:def 5;
end;
L2366: ( D288 + 1 ) = ( ( C251 - 1 ) + 1 ) by XXREAL_3:def 2
.= C251;
set D302 = ( C254 | ( Vertices ( BCS (R6 , D281) ) ) );
L2367: ( dom D302 ) = ( Vertices ( BCS (R6 , D281) ) ) by L2249 , L2245 , RELAT_1:62 , SIMPLEX0:31;
L2368: ( Vertices ( BCS (R6 , D281) ) ) is non  empty by L2228 , L2230 , L2232 , L2275;
L2369: (for B149 being (Vertex of ( BCS (R6 , D281) )) holds (for B150 being (Subset of R11) holds ((B150 c= D280 & B149 in ( conv B150 )) implies ( D302 . B149 ) in B150)))
proof
let C266 being (Vertex of ( BCS (R6 , D281) ));
let C267 being (Subset of R11);
assume L2370: (C267 c= D280 & C266 in ( conv C267 ));
L2371: C266 in ( Vertices ( BCS (R6 , D281) ) ) by L2368;
L2372: ( C254 . C266 ) in C267 by L2371 , L2233 , L2239 , L2246 , L2370 , XBOOLE_1:1;
thus L2373: thesis by L2372 , L2367 , L2368 , FUNCT_1:47;
end;
L2374: ( rng D302 ) c= D280
proof
let R2 being set;
assume L2375: R2 in ( rng D302 );
consider R1 being set such that L2376: R1 in ( dom D302 ) and L2377: ( D302 . R1 ) = R2 by L2375 , FUNCT_1:def 3;
reconsider D303 = R1 as (Element of ( BCS (R6 , D281) )) by L2367 , L2376;
L2378: D303 is  vertex-like by L2367 , L2376 , SIMPLEX0:def 4;
consider C268 being (Subset of ( BCS (R6 , D281) )) such that L2379: C268 is  simplex-like and L2380: D303 in C268 by L2378 , SIMPLEX0:def 3;
L2381: ( conv ( @ C268 ) ) c= |. ( BCS (R6 , D281) ) .| by L2379 , L197;
L2382: C268 c= ( conv ( @ C268 ) ) by RLAFFIN1:2;
L2383: D303 in ( conv ( @ C268 ) ) by L2382 , L2380;
L2384: R1 in ( Vertices ( BCS (R6 , D281) ) ) by L2249 , L2245 , L2376 , RELAT_1:62 , SIMPLEX0:31;
thus L2385: thesis by L2384 , L2352 , L2369 , L2377 , L2381 , L2383;
end;
reconsider D304 = D302 as (Function of ( Vertices ( BCS (R6 , D281) ) ) , D280) by L2374 , L2367 , FUNCT_2:2;
set D305 = { B151 where B151 is (Simplex of ( C251 - 1 ) , ( BCS (R6 , D281) )) : ( D304 .: B151 ) = D280 };
consider R5 being Nat such that L2386: ( card D305 ) = ( ( 2 * R5 ) + 1 ) by L2224 , L2228 , L2369;
L2387: (( C251 - 1 ) <= ( C251 - ( 0 ) ) & ( - 1 ) <= ( C251 + ( - 1 ) )) by XREAL_1:10 , XREAL_1:31;
L2388: (for R1 being set holds (R1 in D287 implies ( card ( Im (C259 , R1) ) ) = 1))
proof
let R1 being set;
assume L2389: R1 in D287;
consider C269 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) such that L2390: R1 = C269 and L2391: ( C254 .: C269 ) = D280 and L2392: ( conv ( @ C269 ) ) misses ( Int C252 ) by L2389;
set D306 = { B152 where B152 is (Simplex of C251 , ( BCS (R6 , D282) )) : C269 c= B152 };
L2393: ( C259 .: { C269 } ) c= D306
proof
let C270 being set;
assume L2394: C270 in ( C259 .: { C269 } );
consider C271 being set such that L2395: [ C271 , C270 ] in C259 and L2396: C271 in { C269 } by L2394 , RELAT_1:def 13;
L2397: C270 in D295 by L2310 , L2395;
L2398: (ex B153 being (Simplex of C251 , ( BCS (R6 , D282) )) st (C270 = B153 & (not contradiction))) by L2397;
L2399: (C271 = C269 & C271 c= C270) by L2310 , L2395 , L2396 , TARSKI:def 1;
thus L2400: thesis by L2399 , L2398;
end;
L2401: D306 c= ( C259 .: { C269 } )
proof
let C272 being set;
assume L2402: C272 in D306;
consider C273 being (Simplex of C251 , ( BCS (R6 , D282) )) such that L2403: C272 = C273 and L2404: C269 c= C273 by L2402;
L2405: (C273 in D295 & C269 in D294) by L2391;
L2406: (C269 in { C269 } & [ C269 , C273 ] in C259) by L2405 , L2310 , L2404 , TARSKI:def 1;
thus L2407: thesis by L2406 , L2403 , RELAT_1:def 13;
end;
L2408: ( C259 .: { C269 } ) = D306 by L2401 , L2393 , XBOOLE_0:def 10;
L2409: ( card D306 ) = 1 by L2225 , L2392 , L2188;
thus L2410: thesis by L2409 , L2390 , L2408 , RELAT_1:def 16;
end;
L2411: ( degree D282 ) = ( degree ( BCS (R6 , D282) ) ) by L2238 , L1057;
L2412: ( D289 + 1 ) = ( C251 + 1 ) by XXREAL_3:def 2;
L2413: (for R1 being set holds (R1 in D293 implies ( card ( Im (C256 , R1) ) ) = 2))
proof
let R1 being set;
assume L2414: R1 in D293;
consider C274 being (Simplex of C251 , ( BCS (R6 , D282) )) such that L2415: R1 = C274 and L2416: D280 = ( C254 .: C274 ) by L2414;
set D307 = ( C254 | C274 );
L2417: ( rng D307 ) = D280 by L2416 , RELAT_1:115;
L2418: D280 is non  empty by L2228 , L2275;
L2419: C274 in { R1 } by L2415 , TARSKI:def 1;
L2420: ( dom D307 ) = C274 by L2249 , RELAT_1:62 , SIMPLEX0:17;
L2421: ( card C274 ) = ( C251 + 1 ) by L2411 , L2309 , L2412 , SIMPLEX0:def 18;
reconsider D308 = D307 as (Function of C274 , D280) by L2417 , L2420 , FUNCT_2:1;
L2422: D308 is  onto by L2417 , FUNCT_2:def 3;
consider C275 being set such that L2423: C275 in D280 and L2424: ( card ( D308 " { C275 } ) ) = 2 and L2425: (for R1 being set holds ((R1 in D280 & R1 <> C275) implies ( card ( D308 " { R1 } ) ) = 1)) by L2422 , L2228 , L2418 , L2421 , L111;
consider C276 , C277 being set such that L2426: C276 <> C277 and L2427: ( D308 " { C275 } ) = { C276 , C277 } by L2424 , CARD_2:60;
reconsider D309 = ( C274 \ { C276 } ) , D310 = ( C274 \ { C277 } ) as (Simplex of ( BCS (R6 , D282) ));
L2428: C276 in { C276 , C277 } by TARSKI:def 2;
L2429: C276 in D310 by L2428 , L2426 , L2427 , ZFMISC_1:56;
L2430: ( card D309 ) = C251 by L2421 , L2427 , L2428 , STIRL2_1:55;
L2431: C277 in { C276 , C277 } by TARSKI:def 2;
L2432: ( card D310 ) = C251 by L2431 , L2421 , L2427 , STIRL2_1:55;
reconsider D311 = D309 , D312 = D310 as (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) by L2432 , L2411 , L2387 , L2366 , L2309 , L2430 , SIMPLEX0:def 18;
L2433: { C276 } c= C274 by L2427 , L2428 , ZFMISC_1:31;
L2434: ( D308 . C277 ) = ( C254 . C277 ) by L2420 , L2427 , L2431 , FUNCT_1:47;
L2435: { C277 } c= C274 by L2427 , L2431 , ZFMISC_1:31;
L2436: ( C256 .: { R1 } ) c= { D311 , D312 }
proof
let C278 being set;
assume L2437: C278 in ( C256 .: { R1 } );
consider C279 being set such that L2438: [ C279 , C278 ] in C256 and L2439: C279 in { R1 } by L2437 , RELAT_1:def 13;
L2440: C278 in D294 by L2280 , L2438;
consider C280 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) such that L2441: C278 = C280 and L2442: D280 = ( C254 .: C280 ) by L2440;
L2443: C279 = R1 by L2439 , TARSKI:def 1;
L2444: C280 c= C274 by L2443 , L2280 , L2415 , L2438 , L2441;
L2445: D280 = ( D308 .: C280 ) by L2444 , L2442 , RELAT_1:129;
consider C281 being set such that L2446: C281 in ( dom D308 ) and L2447: C281 in C280 and L2448: ( D308 . C281 ) = C275 by L2445 , L2423 , FUNCT_1:def 6;
L2449: { C281 } c= C280 by L2447 , ZFMISC_1:31;
L2450: ( C274 \ { C276 , C277 } ) c= C280
proof
let C282 being set;
assume L2451: C282 in ( C274 \ { C276 , C277 } );
L2452: C282 in ( dom D308 ) by L2451 , L2420 , XBOOLE_0:def 5;
L2453: ( D308 . C282 ) in D280 by L2452 , L2417 , FUNCT_1:def 3;
consider C283 being set such that L2454: C283 in ( dom D308 ) and L2455: C283 in C280 and L2456: ( D308 . C283 ) = ( D308 . C282 ) by L2453 , L2445 , FUNCT_1:def 6;
L2457: (not C282 in ( D308 " { C275 } )) by L2427 , L2451 , XBOOLE_0:def 5;
L2458: (not ( D308 . C282 ) in { C275 }) by L2457 , L2452 , FUNCT_1:def 7;
L2459: ( D308 . C282 ) <> C275 by L2458 , TARSKI:def 1;
L2460: ( card ( D308 " { ( D308 . C282 ) } ) ) = 1 by L2459 , L2425 , L2453;
consider C284 being set such that L2461: ( D308 " { ( D308 . C282 ) } ) = { C284 } by L2460 , CARD_2:42;
L2462: ( D308 . C282 ) in { ( D308 . C282 ) } by TARSKI:def 1;
L2463: C282 in ( D308 " { ( D308 . C282 ) } ) by L2462 , L2452 , FUNCT_1:def 7;
L2464: C283 in ( D308 " { ( D308 . C282 ) } ) by L2454 , L2456 , L2462 , FUNCT_1:def 7;
L2465: C283 = C284 by L2464 , L2461 , TARSKI:def 1;
thus L2466: thesis by L2465 , L2455 , L2461 , L2463 , TARSKI:def 1;
end;
L2467: C275 in { C275 } by TARSKI:def 1;
L2468: C281 in ( D308 " { C275 } ) by L2467 , L2446 , L2448 , FUNCT_1:def 7;
L2469: ( card C280 ) = C251 by L2411 , L2387 , L2366 , L2309 , SIMPLEX0:def 18;
L2470: ( C274 /\ { C276 } ) = { C276 } by L2433 , XBOOLE_1:28;
L2471: ( C274 /\ { C277 } ) = { C277 } by L2435 , XBOOLE_1:28;
per cases  by L2427 , L2468 , TARSKI:def 2;
suppose L2472: C281 = C276;

L2473: ( ( C274 \ { C276 , C277 } ) \/ { C281 } ) = ( C274 \ ( { C276 , C277 } \ { C276 } ) ) by L2472 , L2470 , XBOOLE_1:52
.= D312 by L2426 , ZFMISC_1:17;
L2474: D312 = C280 by L2473 , L2432 , L2449 , L2450 , L2469 , CARD_FIN:1 , XBOOLE_1:8;
thus L2475: thesis by L2474 , L2441 , TARSKI:def 2;
end;
suppose L2476: C281 = C277;

L2477: ( ( C274 \ { C276 , C277 } ) \/ { C281 } ) = ( C274 \ ( { C276 , C277 } \ { C277 } ) ) by L2476 , L2471 , XBOOLE_1:52
.= D311 by L2426 , ZFMISC_1:17;
L2478: D311 = C280 by L2477 , L2430 , L2449 , L2450 , L2469 , CARD_FIN:1 , XBOOLE_1:8;
thus L2479: thesis by L2478 , L2441 , TARSKI:def 2;
end;
end;
L2481: C274 c= ( dom C254 ) by L2249 , SIMPLEX0:17;
L2482: ( D308 . C276 ) = ( C254 . C276 ) by L2420 , L2427 , L2428 , FUNCT_1:47;
L2483: ( D308 . C276 ) in { C275 } by L2427 , L2428 , FUNCT_1:def 7;
L2484: ( D308 . C276 ) = C275 by L2483 , TARSKI:def 1;
L2485: ( D308 . C277 ) in { C275 } by L2427 , L2431 , FUNCT_1:def 7;
L2486: ( D308 . C277 ) = C275 by L2485 , TARSKI:def 1;
L2487: (C277 in C274 & C277 in D311) by L2426 , L2427 , L2431 , ZFMISC_1:56;
L2488: D280 c= ( C254 .: D311 )
proof
let C285 being set;
assume L2489: C285 in D280;
per cases ;
suppose L2490: C285 = C275;

L2491: ( D308 . C277 ) in ( C254 .: D311 ) by L2481 , L2434 , L2487 , FUNCT_1:def 6;
thus L2492: thesis by L2491 , L2485 , L2490 , TARSKI:def 1;
end;
suppose L2493: C285 <> C275;

consider C286 being set such that L2494: C286 in ( dom C254 ) and L2495: C286 in C274 and L2496: C285 = ( C254 . C286 ) by L2416 , L2489 , FUNCT_1:def 6;
L2497: C286 in D311 by L2482 , L2484 , L2493 , L2495 , L2496 , ZFMISC_1:56;
thus L2498: thesis by L2497 , L2494 , L2496 , FUNCT_1:def 6;
end;
end;
L2500: C274 in D295;
L2501: (C276 in C274 & C276 in D312) by L2426 , L2427 , L2428 , ZFMISC_1:56;
L2502: D280 c= ( C254 .: D312 )
proof
let C287 being set;
assume L2503: C287 in D280;
per cases ;
suppose L2504: C287 = C275;

L2505: ( D308 . C276 ) in ( C254 .: D312 ) by L2482 , L2481 , L2501 , FUNCT_1:def 6;
thus L2506: thesis by L2505 , L2483 , L2504 , TARSKI:def 1;
end;
suppose L2507: C287 <> C275;

consider C288 being set such that L2508: C288 in ( dom C254 ) and L2509: C288 in C274 and L2510: C287 = ( C254 . C288 ) by L2416 , L2503 , FUNCT_1:def 6;
L2511: C288 in D312 by L2434 , L2486 , L2507 , L2509 , L2510 , ZFMISC_1:56;
thus L2512: thesis by L2511 , L2508 , L2510 , FUNCT_1:def 6;
end;
end;
L2514: ( C254 .: D311 ) c= D280 by L2416 , RELAT_1:123 , XBOOLE_1:36;
L2515: D280 = ( C254 .: D311 ) by L2514 , L2488 , XBOOLE_0:def 10;
L2516: (( C274 \ { C276 } ) c= C274 & D311 in D294) by L2515 , XBOOLE_1:36;
L2517: [ C274 , D311 ] in C256 by L2516 , L2280 , L2500;
L2518: D311 in ( C256 .: { R1 } ) by L2517 , L2419 , RELAT_1:def 13;
L2519: ( C254 .: D312 ) c= D280 by L2416 , RELAT_1:123 , XBOOLE_1:36;
L2520: D280 = ( C254 .: D312 ) by L2519 , L2502 , XBOOLE_0:def 10;
L2521: (( C274 \ { C277 } ) c= C274 & D312 in D294) by L2520 , XBOOLE_1:36;
L2522: [ C274 , D312 ] in C256 by L2521 , L2280 , L2500;
L2523: D312 in ( C256 .: { R1 } ) by L2522 , L2419 , RELAT_1:def 13;
L2524: { D311 , D312 } c= ( C256 .: { R1 } ) by L2523 , L2518 , ZFMISC_1:32;
L2525: ( C256 .: { R1 } ) = { D311 , D312 } by L2524 , L2436 , XBOOLE_0:def 10;
L2526: D311 <> D312 by L2429 , ZFMISC_1:56;
L2527: ( card ( C256 .: { R1 } ) ) = 2 by L2526 , L2525 , CARD_2:57;
thus L2528: thesis by L2527 , RELAT_1:def 16;
end;
L2529: ( D289 - 1 ) = ( C251 + ( - 1 ) ) by XXREAL_3:def 2;
L2530: D285 c= D296
proof
let R1 being set;
assume L2531: R1 in D285;
consider C289 being (Simplex of C251 , ( BCS (R6 , D282) )) such that L2532: R1 = C289 and L2533: ( C254 .: C289 ) = C252 by L2531 , L2225;
set D313 = ( C254 | C289 );
L2534: ( rng D313 ) = C252 by L2533 , RELAT_1:115;
L2535: ( card C252 ) = ( card C289 ) by L2225 , L2411 , L2309 , L2412 , SIMPLEX0:def 18;
L2536: ( dom D313 ) = C289 by L2249 , RELAT_1:62 , SIMPLEX0:17;
reconsider D314 = D313 as (Function of C289 , C252) by L2536 , L2534 , FUNCT_2:1;
consider C290 being set such that L2537: (C290 in ( dom D314 ) & ( D314 . C290 ) = D279) by L2227 , L2534 , FUNCT_1:def 3;
set D315 = ( C289 \ { C290 } );
L2538: D314 is  onto by L2534 , FUNCT_2:def 3;
L2539: D314 is  one-to-one by L2538 , L2535 , STIRL2_1:60;
L2540: ( D314 .: D315 ) = ( ( D314 .: C289 ) \ ( D314 .: { C290 } ) ) by L2539 , FUNCT_1:64
.= ( C252 \ ( D314 .: { C290 } ) ) by L2534 , L2536 , RELAT_1:113
.= ( C252 \ ( Im (D314 , C290) ) ) by RELAT_1:def 16
.= D280 by L2537 , FUNCT_1:59;
L2541: D315 , ( D314 .: D315 ) are_equipotent  by L2536 , L2539 , CARD_1:33 , XBOOLE_1:36;
L2542: ( card D315 ) = C251 by L2541 , L2228 , L2540 , CARD_1:5;
reconsider D316 = D315 as (Simplex of ( BCS (R6 , D282) ));
reconsider D317 = D316 as (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) by L2529 , L2542 , SIMPLEX0:48;
L2543: ( D314 .: D317 ) = ( C254 .: D317 ) by RELAT_1:129 , XBOOLE_1:36;
L2544: D317 in D294 by L2543 , L2540;
L2545: (D317 c= C289 & C289 in D295) by XBOOLE_1:36;
L2546: [ C289 , D317 ] in C256 by L2545 , L2280 , L2544;
L2547: C289 in ( dom C256 ) by L2546 , XTUPLE_0:def 12;
L2548: (for B154 being (Simplex of C251 , ( BCS (R6 , D282) )) holds (C289 = B154 implies D280 <> ( C254 .: B154 ))) by L2227 , L2533 , ZFMISC_1:56;
L2549: (not C289 in D293) by L2548;
thus L2550: thesis by L2549 , L2532 , L2547 , XBOOLE_0:def 5;
end;
L2551: D296 = D285 by L2530 , L2281 , XBOOLE_0:def 10;
L2552: (for R1 being set holds (R1 in D296 implies ( card ( Im (D297 , R1) ) ) = 1))
proof
let R1 being set;
assume L2553: R1 in D296;
consider R2 being set such that L2554: [ R1 , R2 ] in C256 by L2553 , XTUPLE_0:def 12;
L2555: (ex B155 being (Simplex of C251 , ( BCS (R6 , D282) )) st (R1 = B155 & ( C254 .: B155 ) = C252)) by L2225 , L2551 , L2553;
L2556: R1 in D295 by L2280 , L2554;
consider C291 being (Simplex of C251 , ( BCS (R6 , D282) )) such that L2557: R1 = C291 and L2558: (not contradiction) by L2556;
L2559: R2 in D294 by L2280 , L2554;
consider C292 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) such that L2560: R2 = C292 and L2561: D280 = ( C254 .: C292 ) by L2559;
L2562: ( card C291 ) = ( C251 + 1 ) by L2411 , L2309 , L2412 , SIMPLEX0:def 18;
L2563: ( D297 .: { R1 } ) c= { R2 }
proof
let C293 being set;
set D318 = ( C254 | C291 );
assume L2564: C293 in ( D297 .: { R1 } );
consider C294 being set such that L2565: [ C294 , C293 ] in D297 and L2566: C294 in { R1 } by L2564 , RELAT_1:def 13;
L2567: [ C294 , C293 ] in C256 by L2565 , RELAT_1:def 11;
L2568: C293 in D294 by L2567 , L2280;
consider C295 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) such that L2569: C293 = C295 and L2570: D280 = ( C254 .: C295 ) by L2568;
L2571: ( dom D318 ) = C291 by L2249 , RELAT_1:62 , SIMPLEX0:17;
L2572: ( rng D318 ) = C252 by L2555 , L2557 , RELAT_1:115;
reconsider D319 = D318 as (Function of C291 , C252) by L2572 , L2571 , FUNCT_2:1;
L2573: C292 c= C291 by L2280 , L2554 , L2557 , L2560;
L2574: ( D319 .: C292 ) = ( C254 .: C292 ) by L2573 , RELAT_1:129;
L2575: C294 = C291 by L2557 , L2566 , TARSKI:def 1;
L2576: C295 c= C291 by L2575 , L2280 , L2567 , L2569;
L2577: ( D319 .: C295 ) = ( C254 .: C295 ) by L2576 , RELAT_1:129;
L2578: D319 is  onto by L2572 , FUNCT_2:def 3;
L2579: D319 is  one-to-one by L2578 , L2225 , L2562 , STIRL2_1:60;
L2580: C295 c= C292 by L2579 , L2561 , L2570 , L2571 , L2574 , L2576 , L2577 , FUNCT_1:87;
L2581: C292 c= C295 by L2561 , L2570 , L2571 , L2573 , L2574 , L2577 , L2579 , FUNCT_1:87;
L2582: C293 = R2 by L2581 , L2560 , L2569 , L2580 , XBOOLE_0:def 10;
thus L2583: thesis by L2582 , TARSKI:def 1;
end;
L2584: (R1 in { R1 } & [ R1 , R2 ] in D297) by L2553 , L2554 , RELAT_1:def 11 , TARSKI:def 1;
L2585: R2 in ( D297 .: { R1 } ) by L2584 , RELAT_1:def 13;
L2586: ( D297 .: { R1 } ) = { R2 } by L2585 , L2563 , ZFMISC_1:33;
L2587: ( Im (D297 , R1) ) = { R2 } by L2586 , RELAT_1:def 16;
thus L2588: thesis by L2587 , CARD_1:30;
end;
L2589: ( card D297 ) = ( ( card ( {} ) ) +` ( 1 *` ( card D296 ) ) ) by L2552 , L2299 , L1
.= ( 1 *` ( card D296 ) ) by CARD_2:18
.= ( card D296 ) by CARD_2:21;
L2590: ( card C256 ) = ( ( card ( card D285 ) ) +` ( card ( 2 * ( card D293 ) ) ) ) by L2589 , L2306 , L2413 , L2551 , L1
.= ( card ( ( card D285 ) + ( 2 * ( card D293 ) ) ) ) by L2307 , CARD_2:38
.= ( ( card D285 ) + ( 2 * ( card D293 ) ) ) by L568;
L2591: (|. ( BCS (R6 , D282) ) .| = |. D282 .| & |. D282 .| = ( conv C252 )) by L232 , L265;
L2592: D287 c= D305
proof
let R1 being set;
assume L2593: R1 in D287;
consider C296 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) such that L2594: R1 = C296 and L2595: ( C254 .: C296 ) = D280 and L2596: ( conv ( @ C296 ) ) misses ( Int C252 ) by L2593;
L2597: ( conv ( @ C296 ) ) c= ( conv C252 ) by L2591 , L197;
consider C297 being (Subset of R11) such that L2598: C297 c< C252 and L2599: ( conv ( @ C296 ) ) c= ( conv C297 ) by L2597 , L2227 , L2596 , RLAFFIN2:23;
L2600: C297 c= C252 by L2598 , XBOOLE_0:def 8;
reconsider D320 = C297 as  finite (Subset of R11) by L2600;
L2601: ( card D320 ) < ( C251 + 1 ) by L2225 , L2598 , CARD_2:48;
L2602: ( card D320 ) <= C251 by L2601 , NAT_1:13;
L2603: D280 c= D320
proof
let R2 being set;
assume L2604: R2 in D280;
consider C298 being set such that L2605: C298 in ( dom C254 ) and L2606: C298 in C296 and L2607: ( C254 . C298 ) = R2 by L2604 , L2595 , FUNCT_1:def 6;
L2608: C296 c= ( conv ( @ C296 ) ) by RLAFFIN1:2;
L2609: C298 in ( conv ( @ C296 ) ) by L2608 , L2606;
thus L2610: thesis by L2609 , L2233 , L2599 , L2600 , L2605 , L2607;
end;
L2611: ( card D280 ) <= ( card D320 ) by L2603 , NAT_1:43;
L2612: D280 = D320 by L2611 , L2228 , L2602 , L2603 , CARD_FIN:1 , XXREAL_0:1;
L2613: (the topology of ( BCS (R6 , D281) )) c= (the topology of ( BCS (R6 , D282) )) by L2245 , SIMPLEX0:def 13;
L2614: ( card C296 ) = C251 by L2411 , L2387 , L2366 , L2309 , SIMPLEX0:def 18;
L2615: C296 is non  empty by L2614 , L2275;
L2616: ( ( center_of_mass R11 ) . C296 ) in ( Int ( @ C296 ) ) by L2615 , RLAFFIN2:20;
L2617: ( Int ( @ C296 ) ) c= ( conv ( @ C296 ) ) by RLAFFIN2:5;
L2618: ( ( center_of_mass R11 ) . C296 ) in ( conv ( @ C296 ) ) by L2617 , L2616;
consider C299 being (Subset of ( BCS (R6 , D281) )) such that L2619: C299 is  simplex-like and L2620: ( ( center_of_mass R11 ) . C296 ) in ( conv ( @ C299 ) ) by L2618 , L2352 , L2599 , L2612 , L166;
L2621: C299 in (the topology of ( BCS (R6 , D281) )) by L2619 , PRE_TOPC:def 2;
L2622: C299 in (the topology of ( BCS (R6 , D282) )) by L2621 , L2613;
reconsider D321 = C299 as (Simplex of ( BCS (R6 , D282) )) by L2622 , PRE_TOPC:def 2;
L2623: ( Int ( @ C296 ) ) meets ( conv ( @ D321 ) ) by L2616 , L2620 , XBOOLE_0:3;
L2624: C296 c= C299 by L2623 , L753;
reconsider D322 = C296 as (Subset of ( BCS (R6 , D281) )) by L2624 , XBOOLE_1:1;
reconsider D323 = D322 as (Simplex of ( BCS (R6 , D281) )) by L2619 , L2624 , MATROID0:1;
L2625: ( D304 .: D323 ) = D280 by L2595 , RELAT_1:129 , SIMPLEX0:17;
L2626: D323 is (Simplex of ( C251 - 1 ) , ( BCS (R6 , D281) )) by L2529 , L2614 , SIMPLEX0:48;
thus L2627: thesis by L2626 , L2594 , L2625;
end;
L2628: ( degree D281 ) = ( C251 - 1 ) by L2228 , L2529 , SIMPLEX0:26;
L2629: D305 c= D287
proof
L2630: C252 <> D280 by L2225 , L2228;
L2631: D280 c< C252 by L2630 , L2239 , XBOOLE_0:def 8;
let R1 being set;
assume L2632: R1 in D305;
consider C300 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D281) )) such that L2633: R1 = C300 and L2634: ( D304 .: C300 ) = D280 by L2632;
L2635: ( C251 - 1 ) <= ( degree ( BCS (R6 , D281) ) ) by L2231 , L2628 , L1057;
reconsider D324 = R1 as (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) by L2635 , L2245 , L2633 , SIMPLEX0:49;
L2636: ( D304 .: C300 ) = ( C254 .: C300 ) by RELAT_1:129 , SIMPLEX0:17;
L2637: ( conv ( @ C300 ) ) c= ( conv D280 ) by L2352 , L197;
L2638: ( conv ( @ D324 ) ) misses ( Int C252 ) by L2637 , L2631 , L2633 , RLAFFIN2:7 , XBOOLE_1:63;
thus L2639: thesis by L2638 , L2633 , L2634 , L2636;
end;
L2640: D305 = D287 by L2629 , L2592 , XBOOLE_0:def 10;
L2641: (( ( 2 * R5 ) + 1 ) in ( NAT ) & ( 2 * ( card D301 ) ) in ( NAT )) by ORDINAL1:def 12;
L2642: (for R1 being set holds (R1 in D301 implies ( card ( Im (D299 , R1) ) ) = 2))
proof
let R1 being set;
assume L2643: R1 in D301;
L2644: (ex R2 being set st [ R1 , R2 ] in C259) by L2643 , XTUPLE_0:def 12;
L2645: R1 in D294 by L2644 , L2310;
consider C301 being (Simplex of ( C251 - 1 ) , ( BCS (R6 , D282) )) such that L2646: R1 = C301 and L2647: D280 = ( C254 .: C301 ) by L2645;
set D325 = { B156 where B156 is (Simplex of C251 , ( BCS (R6 , D282) )) : C301 c= B156 };
L2648: (not R1 in D287) by L2643 , XBOOLE_0:def 5;
L2649: ( conv ( @ C301 ) ) meets ( Int C252 ) by L2648 , L2646 , L2647;
L2650: ( card D325 ) = 2 by L2649 , L2225 , L2188;
L2651: ( D299 .: { C301 } ) c= D325
proof
let C302 being set;
assume L2652: C302 in ( D299 .: { C301 } );
consider C303 being set such that L2653: [ C303 , C302 ] in D299 and L2654: C303 in { C301 } by L2652 , RELAT_1:def 13;
L2655: [ C303 , C302 ] in C259 by L2653 , RELAT_1:def 11;
L2656: C302 in D295 by L2655 , L2310;
L2657: (ex B157 being (Simplex of C251 , ( BCS (R6 , D282) )) st (C302 = B157 & (not contradiction))) by L2656;
L2658: C303 = C301 by L2654 , TARSKI:def 1;
L2659: C301 c= C302 by L2658 , L2310 , L2655;
thus L2660: thesis by L2659 , L2657;
end;
L2661: D325 c= ( D299 .: { C301 } )
proof
let C304 being set;
assume L2662: C304 in D325;
consider C305 being (Simplex of C251 , ( BCS (R6 , D282) )) such that L2663: C304 = C305 and L2664: C301 c= C305 by L2662;
L2665: C305 in D295;
L2666: [ C301 , C305 ] in C259 by L2665 , L2310 , L2645 , L2646 , L2664;
L2667: [ C301 , C305 ] in D299 by L2666 , L2643 , L2646 , RELAT_1:def 11;
L2668: C301 in { C301 } by TARSKI:def 1;
thus L2669: thesis by L2668 , L2663 , L2667 , RELAT_1:def 13;
end;
L2670: D325 = ( D299 .: { C301 } ) by L2661 , L2651 , XBOOLE_0:def 10;
thus L2671: thesis by L2670 , L2646 , L2650 , RELAT_1:def 16;
end;
L2672: ( card D299 ) = ( ( card ( D299 | ( ( dom D299 ) \ D301 ) ) ) +` ( 2 *` ( card D301 ) ) ) by L2642 , L1
.= ( ( 0 ) +` ( 2 *` ( card D301 ) ) ) by L2359
.= ( 2 *` ( card D301 ) ) by CARD_2:18;
L2673: ( card C259 ) = ( ( 2 *` ( card D301 ) ) +` ( 1 *` ( card D287 ) ) ) by L2672 , L2388 , L1
.= ( ( 2 *` ( card D301 ) ) +` ( ( 2 * R5 ) + 1 ) ) by L2386 , L2640 , CARD_2:21
.= ( ( ( card 2 ) *` ( card ( card D301 ) ) ) +` ( ( 2 * R5 ) + 1 ) ) by L568
.= ( ( card ( 2 * ( card D301 ) ) ) +` ( ( 2 * R5 ) + 1 ) ) by CARD_2:39
.= ( ( card ( 2 * ( card D301 ) ) ) +` ( card ( ( 2 * R5 ) + 1 ) ) ) by L568
.= ( card ( ( 2 * ( card D301 ) ) + ( ( 2 * R5 ) + 1 ) ) ) by L2641 , CARD_2:38
.= ( ( 2 * ( card D301 ) ) + ( ( 2 * R5 ) + 1 ) ) by L568;
L2674: ( card D285 ) = ( ( 2 * ( ( ( card D301 ) + R5 ) - ( card D293 ) ) ) + 1 ) by L2673 , L2311 , L2590;
L2675: ( 2 * ( ( ( card D301 ) + R5 ) - ( card D293 ) ) ) >= ( - 1 ) by L2674 , INT_1:7;
L2676: ( ( ( card D301 ) + R5 ) - ( card D293 ) ) >= ( ( - 1 ) / 2 ) by L2675 , XREAL_1:79;
L2677: ( ( ( card D301 ) + R5 ) - ( card D293 ) ) > ( - 1 ) by L2676 , XXREAL_0:2;
L2678: ( ( ( card D301 ) + R5 ) - ( card D293 ) ) >= ( 0 ) by L2677 , INT_1:8;
reconsider D326 = ( ( ( card D301 ) + R5 ) - ( card D293 ) ) as (Element of ( NAT )) by L2678 , INT_1:3;
take D326;
thus L2679: thesis by L2311 , L2590 , L2673;
end;
end;
L2681: S13[ (( 0 ) qua Nat) ]
proof
let C306 being  finite  affinely-independent (Subset of R11);
assume that
L2682: ( card C306 ) = ( 0 );
L2683: C306 = ( {} ) by L2682;
set D327 = ( Complex_of { C306 } );
L2684: (|. D327 .| c= ( [#] R11 ) & ( [#] D327 ) = ( [#] R11 ));
let C307 being (Function of ( Vertices ( BCS (R6 , D327) ) ) , C306);
assume that
L2685: (for B158 being (Vertex of ( BCS (R6 , D327) )) holds (for B159 being (Subset of R11) holds ((B159 c= C306 & B158 in ( conv B159 )) implies ( C307 . B158 ) in B159)));
set D328 = { B160 where B160 is (Simplex of ( ( card C306 ) - 1 ) , ( BCS (R6 , D327) )) : ( C307 .: B160 ) = C306 };
take ( 0 );
L2686: (R6 = ( 0 ) or R6 > ( 0 ));
L2687: ( D278 - 1 ) = ( - 1 ) by XXREAL_3:4;
L2688: ( degree D327 ) = ( - 1 ) by L2687 , L2682 , SIMPLEX0:26;
L2689: D327 = ( BCS (R6 , D327) ) by L2688 , L2684 , L2686 , L453 , L542;
L2690: (the topology of D327) = ( bool C306 ) by SIMPLEX0:4;
L2691: D328 c= { C306 }
proof
let R1 being set;
assume that
L2692: R1 in D328;
consider C308 being (Simplex of ( ( card C306 ) - 1 ) , ( BCS (R6 , D327) )) such that L2693: C308 = R1 and L2694: ( C307 .: C308 ) = C306 by L2692;
L2695: C308 in (the topology of D327) by L2689 , PRE_TOPC:def 2;
L2696: C308 is  empty by L2695 , L2683 , L2690;
thus L2697: thesis by L2696 , L2683 , L2693 , TARSKI:def 1;
end;
L2698: C306 in ( bool C306 ) by ZFMISC_1:def 1;
reconsider D329 = C306 as (Simplex of D327) by L2698 , L2690 , PRE_TOPC:def 2;
L2699: ( C307 .: D329 ) = C306 by L2683;
L2700: D329 is (Simplex of ( - 1 ) , D327) by L2682 , L2687 , SIMPLEX0:48;
L2701: C306 in D328 by L2700 , L2682 , L2689 , L2699;
L2702: D328 = { C306 } by L2701 , L2691 , ZFMISC_1:33;
thus L2703: thesis by L2702 , CARD_1:30;
end;
L2704: (for R6 being Nat holds S13[ R6 ]) from NAT_1:sch 2(L2681 , L2223);
thus L2705: thesis by L2704;
end;
theorem
L2706: (for R6 being Nat holds (for R11 being RealLinearSpace holds (for R19 being  finite  affinely-independent (Subset of R11) holds (for R30 being (Function of ( Vertices ( BCS (R6 , ( Complex_of { R19 } )) ) ) , R19) holds ((for R29 being (Vertex of ( BCS (R6 , ( Complex_of { R19 } )) )) holds (for R22 being (Subset of R11) holds ((R22 c= R19 & R29 in ( conv R22 )) implies ( R30 . R29 ) in R22))) implies (ex B161 being (Simplex of ( ( card R19 ) - 1 ) , ( BCS (R6 , ( Complex_of { R19 } )) )) st ( R30 .: B161 ) = R19))))))
proof
let R6 being Nat;
let R11 being RealLinearSpace;
let R19 being  finite  affinely-independent (Subset of R11);
let C309 being (Function of ( Vertices ( BCS (R6 , ( Complex_of { R19 } )) ) ) , R19);
set D330 = { B162 where B162 is (Simplex of ( ( card R19 ) - 1 ) , ( BCS (R6 , ( Complex_of { R19 } )) )) : ( C309 .: B162 ) = R19 };
assume L2707: (for B163 being (Vertex of ( BCS (R6 , ( Complex_of { R19 } )) )) holds (for R22 being (Subset of R11) holds ((R22 c= R19 & B163 in ( conv R22 )) implies ( C309 . B163 ) in R22)));
L2708: (ex R5 being Nat st ( card D330 ) = ( ( 2 * R5 ) + 1 )) by L2707 , L2222;
L2709: D330 is non  empty by L2708;
consider R1 being set such that L2710: R1 in D330 by L2709 , XBOOLE_0:def 1;
L2711: (ex B164 being (Simplex of ( ( card R19 ) - 1 ) , ( BCS (R6 , ( Complex_of { R19 } )) )) st (R1 = B164 & ( C309 .: B164 ) = R19)) by L2710;
thus L2712: thesis by L2711;
end;
