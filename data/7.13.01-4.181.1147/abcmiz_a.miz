:: A Model of Mizar Concepts -- Unification
::  by Grzegorz Bancerek
::
:: Received November 20, 2009
:: Copyright (c) 2009-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies TARSKI, QC_LANG3, PBOOLE, MSUALG_1, CATALG_1, FINSEQ_1, XBOOLE_0,
      ZFMISC_1, ARYTM_3, CARD_1, NAT_1, NUMBERS, XXREAL_0, ZF_LANG1, ORDINAL1,
      TREES_A, ABIAN, CARD_3, MEMBER_1, FINSET_1, FUNCOP_1, FUNCT_1, TREES_4,
      TREES_2, MSATERM, RELAT_1, MCART_1, MSAFREE, ZF_MODEL, AOFA_000,
      FINSEQ_2, PARTFUN1, QC_LANG1, FUNCT_2, ORDINAL4, CAT_3, TREES_3,
      ABCMIZ_0, ABCMIZ_1, ABCMIZ_A, STRUCT_0, FACIRC_1, INSTALG1, MSUALG_2,
      COMPUT_1, BINTREE1, TREES_9, ARYTM_1, FUNCT_6, SUBSET_1, MARGREL1;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, DOMAIN_1, RELAT_1, FUNCT_1,
      RELSET_1, PARTFUN1, FACIRC_1, ENUMSET1, FUNCOP_1, XCMPLX_0, XXREAL_0,
      ORDINAL1, NAT_D, MCART_1, FINSET_1, CARD_1, NUMBERS, CARD_3, FINSEQ_1,
      FINSEQ_2, FINSEQ_4, FUNCT_6, TREES_1, TREES_2, TREES_3, TREES_4, TREES_9,
      PBOOLE, STRUCT_0, MSUALG_1, MSUALG_2, MSAFREE, EQUATION, MSATERM,
      INSTALG1, CATALG_1, MSAFREE3, AOFA_000, ABCMIZ_1;
 constructors RELSET_1, DOMAIN_1, WELLORD2, TREES_9, EQUATION, NAT_D, FINSEQ_4,
      CATALG_1, FACIRC_1, ABCMIZ_1, PRE_POLY, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, XREAL_0, ORDINAL1, FUNCT_1, FINSET_1,
      STRUCT_0, PBOOLE, MSUALG_2, FINSEQ_1, NAT_1, CARD_1, TREES_3, TREES_2,
      FUNCOP_1, RELAT_1, INDEX_1, INSTALG1, MSAFREE3, WAYBEL26, FACIRC_1,
      ABCMIZ_1, MSATERM, ZFMISC_1, RELSET_1, XTUPLE_0;
 requirements BOOLE, SUBSET, NUMERALS, ARITHM, REAL;
 definitions TARSKI, XBOOLE_0, RELAT_1, FUNCT_1, SUBSET_1, FINSEQ_1, MSAFREE,
      MSAFREE3, PBOOLE, MSUALG_1, ABCMIZ_1, XTUPLE_0;
 theorems TARSKI, XBOOLE_0, XBOOLE_1, TREES_1, XXREAL_0, XREAL_1, ZFMISC_1,
      FUNCT_1, FUNCT_2, FINSEQ_1, FINSEQ_2, ENUMSET1, FUNCT_6, INSTALG1, NAT_1,
      MCART_1, PBOOLE, RELAT_1, RELSET_1, CARD_1, CARD_5, ORDINAL1, MSUALG_2,
      TREES_3, TREES_4, FINSEQ_3, FUNCOP_1, MSAFREE, MSATERM, MSAFREE3,
      YELLOW11, PARTFUN1, WELLORD2, ABCMIZ_1, TREES_9, XTUPLE_0, XREGULAR;
 schemes FUNCT_1, NAT_1, RECDEF_1, CLASSES1, FINSEQ_1;

begin
theorem
L1: (for B1 being  pair set holds B1 = [ ( B1 `1 ) , ( B1 `2 ) ]);
scheme MinimalElement { F1() ->  finite non  empty set , P1[set , set] } : (ex B2 being set st (B2 in F1() & (for B3 being set holds (B3 in F1() implies (not P1[ B3 , B2 ])))))
provided
L2: (for B4 , B5 being set holds ((B4 in F1() & B5 in F1() & P1[ B4 , B5 ]) implies (not P1[ B5 , B4 ])))
and
L3: (for B6 , B7 , B8 being set holds ((B6 in F1() & B7 in F1() & B8 in F1() & P1[ B6 , B7 ] & P1[ B7 , B8 ]) implies P1[ B6 , B8 ]))
proof
assume L4: (for B9 being set holds (B9 in F1() implies (ex B10 being set st (B10 in F1() & P1[ B10 , B9 ]))));
set D1 = ( card F1() );
set D2 = the (Element of F1());
defpred S1[ Nat , set , set ] means ($2 in F1() implies ($3 in F1() & P1[ $3 , $2 ]));
L5: (for B11 being (Element of ( NAT )) holds ((1 <= B11 & B11 < ( D1 + 1 )) implies (for B12 being set holds (ex B13 being set st S1[ B11 , B12 , B13 ]))))
proof
let C1 being (Element of ( NAT ));
assume L6: (1 <= C1 & C1 < ( D1 + 1 ));
let C2 being set;
per cases ;
suppose L7: C2 nin F1();

set D3 = the set;
take D3;
thus L8: S1[ C1 , C2 , D3 ] by L7;
end;
suppose L9: C2 in F1();

consider C3 being set such that L10: (C3 in F1() & P1[ C3 , C2 ]) by L9 , L4;
take C3;
thus L11: thesis by L10;
end;
end;
consider C4 being FinSequence such that L13: ( len C4 ) = ( D1 + 1 ) and L14: (( C4 . 1 ) = D2 or ( D1 + 1 ) = ( 0 )) and L15: (for B14 being (Element of ( NAT )) holds ((1 <= B14 & B14 < ( D1 + 1 )) implies S1[ B14 , ( C4 . B14 ) , ( C4 . ( B14 + 1 ) ) ])) from RECDEF_1:sch 3(L5);
defpred S2[ Nat ] means ($1 in ( dom C4 ) implies ( C4 . $1 ) in F1());
L16: S2[ ( 0 ) ] by FINSEQ_3:25;
L17:
now
let C5 being Nat;
assume L18: S2[ C5 ];
thus L19: S2[ ( C5 + 1 ) ]
proof
assume L20: ( C5 + 1 ) in ( dom C4 );
L21: ( C5 + 1 ) <= ( D1 + 1 ) by L20 , L13 , FINSEQ_3:25;
L22: C5 < ( D1 + 1 ) by L21 , NAT_1:13;
per cases  by NAT_1:3;
suppose L23: C5 = ( 0 );

thus L24: thesis by L23 , L14;
end;
suppose L25: C5 > ( 0 );

L26: (C5 >= ( ( 0 ) + 1 ) & C5 is (Element of ( NAT ))) by L25 , NAT_1:13 , ORDINAL1:def 12;
thus L27: thesis by L26 , L18 , L13 , L15 , L22 , FINSEQ_3:25;
end;
end;

end;
L20: (for B15 being Nat holds S2[ B15 ]) from NAT_1:sch 2(L16 , L17);
L21: ( rng C4 ) c= F1()
proof
let C6 being set;
assume L22: C6 in ( rng C4 );
L23: (ex B16 being set st (B16 in ( dom C4 ) & C6 = ( C4 . B16 ))) by L22 , FUNCT_1:def 3;
thus L24: thesis by L23 , L20;
end;
L25: (for B17 , B18 being Nat holds ((1 <= B17 & B17 < B18 & B18 <= ( D1 + 1 )) implies P1[ ( C4 . B18 ) , ( C4 . B17 ) ]))
proof
let C7 , C8 being Nat;
assume L26: 1 <= C7;
assume L27: C7 < C8;
L28: ( C7 + 1 ) <= C8 by L27 , NAT_1:13;
consider C9 being Nat such that L29: C8 = ( ( C7 + 1 ) + C9 ) by L28 , NAT_1:10;
assume L30: C8 <= ( D1 + 1 );
L31: C7 <= ( D1 + 1 ) by L30 , L27 , XXREAL_0:2;
L32: C7 in ( dom C4 ) by L31 , L26 , L13 , FINSEQ_3:25;
defpred S3[ Nat ] means (( ( C7 + 1 ) + $1 ) <= ( D1 + 1 ) implies P1[ ( C4 . ( ( C7 + 1 ) + $1 ) ) , ( C4 . C7 ) ]);
L33: S3[ ( 0 ) ]
proof
assume L34: ( ( C7 + 1 ) + ( 0 ) ) <= ( D1 + 1 );
L35: C7 < ( D1 + 1 ) by L34 , NAT_1:13;
L36: (( C4 . C7 ) in F1() & C7 is (Element of ( NAT ))) by L20 , L32;
thus L37: P1[ ( C4 . ( ( C7 + 1 ) + ( 0 ) ) ) , ( C4 . C7 ) ] by L36 , L15 , L26 , L35;
end;
L38:
now
let C10 being Nat;
assume L39: S3[ C10 ];
thus L40: S3[ ( C10 + 1 ) ]
proof
assume L41: ( ( C7 + 1 ) + ( C10 + 1 ) ) <= ( D1 + 1 );
L42: ( ( C7 + 1 ) + ( C10 + 1 ) ) = ( ( ( C7 + 1 ) + C10 ) + 1 );
L43: ( ( C7 + 1 ) + C10 ) < ( D1 + 1 ) by L42 , L41 , NAT_1:13;
L44: ( C4 . C7 ) in F1() by L20 , L32;
L45: ( ( C7 + 1 ) + C10 ) = ( 1 + ( C7 + C10 ) );
L46: 1 <= ( ( C7 + 1 ) + C10 ) by L45 , NAT_1:11;
L47: ( ( C7 + 1 ) + C10 ) in ( dom C4 ) by L46 , L13 , L43 , FINSEQ_3:25;
L48: (( C4 . ( ( C7 + 1 ) + C10 ) ) in F1() & ( ( C7 + 1 ) + C10 ) is (Element of ( NAT ))) by L47 , L20;
L49: (( C4 . ( ( C7 + 1 ) + ( C10 + 1 ) ) ) in F1() & P1[ ( C4 . ( ( C7 + 1 ) + ( C10 + 1 ) ) ) , ( C4 . ( ( C7 + 1 ) + C10 ) ) ]) by L48 , L15 , L43 , L42 , L46;
thus L50: P1[ ( C4 . ( ( C7 + 1 ) + ( C10 + 1 ) ) ) , ( C4 . C7 ) ] by L49 , L3 , L43 , L39 , L48 , L44;
end;

end;
L41: (for B19 being Nat holds S3[ B19 ]) from NAT_1:sch 2(L33 , L38);
thus L42: P1[ ( C4 . C8 ) , ( C4 . C7 ) ] by L41 , L29 , L30;
end;
L43: (( dom C4 ) = ( Seg ( D1 + 1 ) ) & ( card ( Seg ( D1 + 1 ) ) ) = ( D1 + 1 )) by L13 , FINSEQ_1:57 , FINSEQ_1:def 3;
L44: ( card ( rng C4 ) ) c= ( card F1() ) by L21 , CARD_1:11;
L45: (( card ( rng C4 ) ) <= D1 & D1 < ( D1 + 1 )) by L44 , NAT_1:19 , NAT_1:39;
L46: (not ( dom C4 ) , ( rng C4 ) are_equipotent ) by L45 , L43 , CARD_1:5;
L47: (not C4 is  one-to-one) by L46 , WELLORD2:def 4;
consider C11 , C12 being set such that L48: (C11 in ( dom C4 ) & C12 in ( dom C4 ) & ( C4 . C11 ) = ( C4 . C12 ) & C11 <> C12) by L47 , FUNCT_1:def 4;
reconsider D4 = C11 , D5 = C12 as Nat by L48;
L49: (1 <= D4 & 1 <= D5 & D4 <= ( D1 + 1 ) & D5 <= ( D1 + 1 )) by L13 , L48 , FINSEQ_3:25;
L50: ( C4 . D4 ) in ( rng C4 ) by L48 , FUNCT_1:def 3;
L51: ( C4 . D4 ) in F1() by L50 , L21;
L52: (D4 < D5 or D5 < D4) by L48 , XXREAL_0:1;
L53: P1[ ( C4 . D4 ) , ( C4 . D4 ) ] by L52 , L25 , L48 , L49;
thus L54: contradiction by L53 , L2 , L51;
end;
scheme FiniteC { F2() ->  finite set , P2[set] } : P2[ F2() ]
provided
L55: (for B20 being (Subset of F2()) holds ((for B21 being set holds (B21 c< B20 implies P2[ B21 ])) implies P2[ B20 ]))
proof
defpred S4[ Nat ] means (for B22 being (Subset of F2()) holds (( card B22 ) = $1 implies P2[ B22 ]));
L56: (for B23 being Nat holds ((for B24 being Nat holds (B24 < B23 implies S4[ B24 ])) implies S4[ B23 ]))
proof
let C13 being Nat;
assume that
L57: (for B25 being Nat holds (B25 < C13 implies S4[ B25 ]));
let C14 being (Subset of F2());
assume that
L58: ( card C14 ) = C13;
L59:
now
let C15 being set;
assume that
L60: C15 c< C14;
L61: C15 c= C14 by L60 , XBOOLE_0:def 8;
reconsider D6 = C15 as (Subset of F2()) by L61 , XBOOLE_1:1;
L62: ( card D6 ) < C13 by L58 , L60 , TREES_1:6;
thus L63: P2[ C15 ] by L62 , L57;
end;
thus L64: thesis by L59 , L55;
end;
L65: (for B26 being Nat holds S4[ B26 ]) from NAT_1:sch 4(L56);
L66: (S4[ ( card F2() ) ] & ( [#] F2() ) = F2()) by L65;
thus L67: thesis by L66;
end;
scheme Numeration { F3() ->  finite set , P3[set , set] } : (ex B27 being  one-to-one FinSequence st (( rng B27 ) = F3() & (for R1 being Nat holds (for R2 being Nat holds ((R1 in ( dom B27 ) & R2 in ( dom B27 ) & P3[ ( B27 . R1 ) , ( B27 . R2 ) ]) implies R1 < R2)))))
provided
L68: (for B28 , B29 being set holds ((B28 in F3() & B29 in F3() & P3[ B28 , B29 ]) implies (not P3[ B29 , B28 ])))
and
L69: (for B30 , B31 , B32 being set holds ((B30 in F3() & B31 in F3() & B32 in F3() & P3[ B30 , B31 ] & P3[ B31 , B32 ]) implies P3[ B30 , B32 ]))
proof
defpred S5[ set ] means (ex B33 being  one-to-one FinSequence st (( rng B33 ) = $1 & (for R1 being Nat holds (for R2 being Nat holds ((R1 in ( dom B33 ) & R2 in ( dom B33 ) & P3[ ( B33 . R1 ) , ( B33 . R2 ) ]) implies R1 < R2)))));
L70: S5[ ( {} ) ]
proof
reconsider D7 = ( {} ) as  one-to-one FinSequence;
take D7;
thus L71: thesis;
end;
L72: (for B34 being (Subset of F3()) holds ((for B35 being set holds (B35 c< B34 implies S5[ B35 ])) implies S5[ B34 ]))
proof
let C16 being (Subset of F3());
assume that
L73: (for B36 being set holds (B36 c< C16 implies S5[ B36 ]));
per cases ;
suppose L74: C16 is  empty;

thus L75: S5[ C16 ] by L74 , L70;
end;
suppose L76: C16 is non  empty;

reconsider D8 = C16 as non  empty  finite set by L76;
L77: (for B37 , B38 being set holds ((B37 in D8 & B38 in D8 & P3[ B37 , B38 ]) implies (not P3[ B38 , B37 ]))) by L68;
L78: (for B39 , B40 , B41 being set holds ((B39 in D8 & B40 in D8 & B41 in D8 & P3[ B39 , B40 ] & P3[ B40 , B41 ]) implies P3[ B39 , B41 ])) by L69;
consider C17 being set such that L79: (C17 in D8 & (for B42 being set holds (B42 in D8 implies (not P3[ B42 , C17 ])))) from MinimalElement(L77 , L78);
set D9 = ( C16 \ { C17 } );
L80: (C17 nin D9 & D9 c= C16) by XBOOLE_1:36 , ZFMISC_1:56;
L81: D9 c< C16 by L80 , L79 , XBOOLE_0:def 8;
consider C18 being  one-to-one FinSequence such that L82: ( rng C18 ) = D9 and L83: (for R1 being Nat holds (for R2 being Nat holds ((R1 in ( dom C18 ) & R2 in ( dom C18 ) & P3[ ( C18 . R1 ) , ( C18 . R2 ) ]) implies R1 < R2))) by L81 , L73;
L84: (<* C17 *> is  one-to-one & ( rng <* C17 *> ) = { C17 } & { C17 } misses D9) by FINSEQ_1:39 , FINSEQ_3:93 , XBOOLE_1:79;
reconsider D10 = ( <* C17 *> ^ C18 ) as  one-to-one FinSequence by L84 , L82 , FINSEQ_3:91;
L85: { C17 } c= C16 by L79 , ZFMISC_1:31;
L86: ( len <* C17 *> ) = 1 by FINSEQ_1:40;
thus L87: S5[ C16 ]
proof
take D10;
thus L88: ( rng D10 ) = ( ( rng <* C17 *> ) \/ ( rng C18 ) ) by FINSEQ_1:31
.= ( { C17 } \/ D9 ) by L82 , FINSEQ_1:38
.= C16 by L85 , XBOOLE_1:45;
let R1 being Nat;
let R2 being Nat;
assume that
L89: (R1 in ( dom D10 ) & R2 in ( dom D10 ) & P3[ ( D10 . R1 ) , ( D10 . R2 ) ]);
L90: ( dom <* C17 *> ) = ( Seg 1 ) by FINSEQ_1:38;
per cases  by L86 , L89 , FINSEQ_1:25;
suppose L91: (R1 in ( dom <* C17 *> ) & R2 in ( dom <* C17 *> ));

L92: (R1 = 1 & R2 = 1) by L91 , L90 , FINSEQ_1:2 , TARSKI:def 1;
L93: (( D10 . R1 ) = C17 & ( D10 . R2 ) = C17) by L92 , FINSEQ_1:41;
thus L94: R1 < R2 by L93 , L79 , L89;
end;
suppose L95: (R1 in ( dom <* C17 *> ) & (ex B43 being Nat st (B43 in ( dom C18 ) & R2 = ( 1 + B43 ))));

L96: R1 = 1 by L95 , L90 , FINSEQ_1:2 , TARSKI:def 1;
consider C19 being Nat such that L97: (C19 in ( dom C18 ) & R2 = ( 1 + C19 )) by L95;
L98: 1 <= C19 by L97 , FINSEQ_3:25;
thus L99: R1 < R2 by L98 , L96 , L97 , NAT_1:13;
end;
suppose L100: (R2 in ( dom <* C17 *> ) & (ex B44 being Nat st (B44 in ( dom C18 ) & R1 = ( 1 + B44 ))));

L101: R2 = 1 by L100 , L90 , FINSEQ_1:2 , TARSKI:def 1;
L102: ( D10 . R2 ) = C17 by L101 , FINSEQ_1:41;
consider C20 being Nat such that L103: (C20 in ( dom C18 ) & R1 = ( 1 + C20 )) by L100;
L104: ( D10 . R1 ) = ( C18 . C20 ) by L86 , L103 , FINSEQ_1:def 7;
L105: ( D10 . R1 ) in ( rng C18 ) by L104 , L103 , FUNCT_1:def 3;
thus L106: R1 < R2 by L105 , L79 , L89 , L102 , L80 , L82;
end;
suppose L107: ((ex B45 being Nat st (B45 in ( dom C18 ) & R1 = ( 1 + B45 ))) & (ex B46 being Nat st (B46 in ( dom C18 ) & R2 = ( 1 + B46 ))));

consider C21 , C22 being Nat such that L108: (C21 in ( dom C18 ) & R1 = ( 1 + C21 ) & C22 in ( dom C18 ) & R2 = ( 1 + C22 )) by L107;
L109: (( D10 . R1 ) = ( C18 . C21 ) & ( D10 . R2 ) = ( C18 . C22 )) by L86 , L108 , FINSEQ_1:def 7;
L110: C21 < C22 by L109 , L83 , L89 , L108;
thus L111: R1 < R2 by L110 , L108 , XREAL_1:6;
end;
end;

end;
end;
thus L89: S5[ F3() ] from FiniteC(L72);
end;
theorem
L90: (for B47 being variable holds ( varcl ( vars B47 ) ) = ( vars B47 ))
proof
let C23 being variable;
L91: C23 in ( Vars );
consider C24 being (Subset of ( Vars )), C25 being (Element of ( NAT )) such that L92: (C23 = [ ( varcl C24 ) , C25 ] & C24 is  finite) by L91 , ABCMIZ_1:18;
L93: ( vars C23 ) = ( varcl C24 ) by L92 , MCART_1:7;
thus L94: thesis by L93;
end;
theorem
L95: (for B48 being  initialized ConstructorSignature holds (for B49 being (expression of B48) holds (B49 is  compound iff (not (ex B50 being (Element of ( Vars )) st B49 = ( B50 -term B48 ))))))
proof
let C26 being  initialized ConstructorSignature;
let C27 being (expression of C26);
L96: ((ex B51 being variable st C27 = ( B51 -term C26 )) or (ex B52 being  constructor (OperSymbol of C26) st (ex B53 being (FinSequence of ( QuasiTerms C26 )) st (( len B53 ) = ( len ( the_arity_of B52 ) ) & C27 = ( B52 -trm B53 )))) or (ex B54 being (expression of C26 , ( an_Adj C26 )) st C27 = ( ( non_op C26 ) term B54 )) or (ex B55 being (expression of C26 , ( an_Adj C26 )) st (ex B56 being (expression of C26 , ( a_Type C26 )) st C27 = ( ( ast C26 ) term (B55 , B56) )))) by ABCMIZ_1:53;
thus L97: thesis by L96;
end;
begin
registration
cluster  empty for quasi-loci;
existence by ABCMIZ_1:29;
end;
definition
let C28 being ConstructorSignature;
attr C28 is  standardized
means
:L99: (for B57 being (OperSymbol of C28) holds (B57 is  constructor implies (B57 in ( Constructors ) & ( B57 `1 ) = ( the_result_sort_of B57 ) & ( card ( ( B57 `2 ) `1 ) ) = ( len ( the_arity_of B57 ) ))));
end;
theorem
L101: (for B58 being ConstructorSignature holds (B58 is  standardized implies (for B59 being (OperSymbol of B58) holds (B59 is  constructor iff B59 in ( Constructors )))))
proof
let C29 being ConstructorSignature;
assume that
L102: C29 is  standardized;
let C30 being (OperSymbol of C29);
thus L103: (C30 is  constructor implies C30 in ( Constructors )) by L102 , L99;
assume L104: C30 in ( Constructors );
L105: (not C30 in { ( * ) , ( non_op ) }) by L104 , ABCMIZ_1:39 , XBOOLE_0:3;
thus L106: (C30 <> ( * ) & C30 <> ( non_op )) by L105 , TARSKI:def 2;
end;
registration
cluster ( MaxConstrSign ) ->  standardized;
coherence
proof
let C31 being (OperSymbol of ( MaxConstrSign ));
L107: (the carrier' of ( MaxConstrSign )) = ( { ( * ) , ( non_op ) } \/ ( Constructors ) ) by ABCMIZ_1:def 24;
assume L108: C31 is  constructor;
L109: (( (the ResultSort of ( MaxConstrSign )) . C31 ) = ( C31 `1 ) & ( card ( (the Arity of ( MaxConstrSign )) . C31 ) ) = ( card ( ( C31 `2 ) `1 ) )) by L108 , ABCMIZ_1:def 24;
L110: (C31 <> ( * ) & C31 <> ( non_op )) by L108 , ABCMIZ_1:def 11;
L111: (not C31 in { ( * ) , ( non_op ) }) by L110 , TARSKI:def 2;
thus L112: thesis by L111 , L109 , L107 , XBOOLE_0:def 3;
end;
end;
registration
cluster  initialized  standardized  strict for ConstructorSignature;
existence
proof
take ( MaxConstrSign );
thus L114: thesis;
end;
end;
definition
let C32 being  initialized  standardized ConstructorSignature;
let C33 being  constructor (OperSymbol of C32);
func loci_of C33 -> quasi-loci equals 
( ( C33 `2 ) `1 );
coherence
proof
reconsider D11 = C33 as (Element of ( Constructors )) by L101;
L116: ( loci_of D11 ) is quasi-loci;
thus L117: thesis by L116;
end;
end;
registration
let C34 being ConstructorSignature;
cluster  constructor for (Subsignature of C34);
existence
proof
reconsider D12 = C34 as (Subsignature of C34) by INSTALG1:15;
take D12;
thus L119: thesis;
end;
end;
registration
let C35 being  initialized ConstructorSignature;
cluster  initialized for  constructor  constructor  constructor  constructor (Subsignature of C35);
existence
proof
reconsider D13 = C35 as  constructor (Subsignature of C35) by INSTALG1:15;
take D13;
thus L121: thesis;
end;
end;
registration
let C36 being  standardized ConstructorSignature;
cluster  ->  standardized for  constructor  constructor  constructor  constructor (Subsignature of C36);
coherence
proof
let C37 being  constructor (Subsignature of C36);
let C38 being (OperSymbol of C37);
assume that
L123: (C38 <> ( * ) & C38 <> ( non_op ));
L124: (the carrier' of C37) c= (the carrier' of C36) by INSTALG1:10;
L125: C38 in (the carrier' of C37);
reconsider D14 = C38 as (OperSymbol of C36) by L125 , L124;
L126: D14 is  constructor by L123 , ABCMIZ_1:def 11;
L127: ((the Arity of C37) = ( (the Arity of C36) | (the carrier' of C37) ) & (the ResultSort of C37) = ( (the ResultSort of C36) | (the carrier' of C37) )) by INSTALG1:12;
L128: (( the_result_sort_of D14 ) = ( the_result_sort_of C38 ) & ( the_arity_of D14 ) = ( the_arity_of C38 )) by L127 , FUNCT_1:49;
thus L129: thesis by L128 , L126 , L99;
end;
end;
theorem
L131: (for B60 , B61 being  standardized ConstructorSignature holds ((the carrier' of B60) = (the carrier' of B61) implies ( the ManySortedSign of B60 ) = ( the ManySortedSign of B61 )))
proof
let C39 , C40 being  standardized ConstructorSignature;
assume that
L132: (the carrier' of C39) = (the carrier' of C40);
L133: ((the carrier of C39) = 3 & (the carrier of C40) = 3) by ABCMIZ_1:def 9 , YELLOW11:1;
L134:
now
let C41 being (OperSymbol of C39);
reconsider D15 = C41 as (OperSymbol of C40) by L132;
per cases  by ABCMIZ_1:def 11;
suppose L135: (C41 = ( * ) or C41 = ( non_op ));

L136: ((( (the Arity of C39) . C41 ) = <* ( an_Adj ) *> & ( (the Arity of C40) . C41 ) = <* ( an_Adj ) *>) or (( (the Arity of C39) . C41 ) = <* ( an_Adj ) , ( a_Type ) *> & ( (the Arity of C40) . C41 ) = <* ( an_Adj ) , ( a_Type ) *>)) by L135 , ABCMIZ_1:def 9;
thus L137: ( (the Arity of C39) . C41 ) = ( (the Arity of C40) . C41 ) by L136;
end;
suppose L138: (C41 is  constructor & D15 is  constructor);

L139: (( card ( ( C41 `2 ) `1 ) ) = ( len ( the_arity_of C41 ) ) & ( card ( ( C41 `2 ) `1 ) ) = ( len ( the_arity_of D15 ) ) & ( the_arity_of C41 ) = ( ( len ( the_arity_of C41 ) ) |-> ( a_Term ) ) & ( the_arity_of D15 ) = ( ( len ( the_arity_of D15 ) ) |-> ( a_Term ) )) by L138 , L99 , ABCMIZ_1:37;
thus L140: ( (the Arity of C39) . C41 ) = ( the_arity_of D15 ) by L139
.= ( (the Arity of C40) . C41 );
end;
end;
L142: (the Arity of C39) = (the Arity of C40) by L134 , L132 , L133 , FUNCT_2:63;
L143:
now
let C42 being (OperSymbol of C39);
reconsider D16 = C42 as (OperSymbol of C40) by L132;
per cases  by ABCMIZ_1:def 11;
suppose L144: (C42 = ( * ) or C42 = ( non_op ));

L145: ((( (the ResultSort of C39) . C42 ) = ( a_Type ) & ( (the ResultSort of C40) . C42 ) = ( a_Type )) or (( (the ResultSort of C39) . C42 ) = ( an_Adj ) & ( (the ResultSort of C40) . C42 ) = ( an_Adj ))) by L144 , ABCMIZ_1:def 9;
thus L146: ( (the ResultSort of C39) . C42 ) = ( (the ResultSort of C40) . C42 ) by L145;
end;
suppose L147: (C42 is  constructor & D16 is  constructor);

L148: (( the_result_sort_of C42 ) = ( C42 `1 ) & ( the_result_sort_of D16 ) = ( C42 `1 )) by L147 , L99;
thus L149: ( (the ResultSort of C39) . C42 ) = ( the_result_sort_of D16 ) by L148
.= ( (the ResultSort of C40) . C42 );
end;
end;
thus L151: thesis by L143 , L132 , L133 , L142 , FUNCT_2:63;
end;
theorem
L152: (for B62 being ConstructorSignature holds (B62 is  standardized iff B62 is (Subsignature of ( MaxConstrSign ))))
proof
let C43 being ConstructorSignature;
L153: (the carrier' of ( MaxConstrSign )) = ( { ( * ) , ( non_op ) } \/ ( Constructors ) ) by ABCMIZ_1:def 24;
L154: ( dom (the Arity of ( MaxConstrSign )) ) = (the carrier' of ( MaxConstrSign )) by FUNCT_2:def 1;
L155: ( dom (the ResultSort of ( MaxConstrSign )) ) = (the carrier' of ( MaxConstrSign )) by FUNCT_2:def 1;
thus L156: (C43 is  standardized implies C43 is (Subsignature of ( MaxConstrSign )))
proof
assume L157: (for B63 being (OperSymbol of C43) holds (B63 is  constructor implies (B63 in ( Constructors ) & ( B63 `1 ) = ( the_result_sort_of B63 ) & ( card ( ( B63 `2 ) `1 ) ) = ( len ( the_arity_of B63 ) ))));
L158: ((the carrier of C43) = 3 & (the carrier of ( MaxConstrSign )) = 3) by ABCMIZ_1:def 9 , YELLOW11:1;
L159: (the Arity of C43) c= (the Arity of ( MaxConstrSign ))
proof
let C44 , C45 being set;
assume L160: [ C44 , C45 ] in (the Arity of C43);
reconsider D17 = C44 as (OperSymbol of C43) by L160 , ZFMISC_1:87;
L161: (D17 = ( * ) or D17 = ( non_op ) or D17 is  constructor) by ABCMIZ_1:def 11;
L162: (D17 in { ( * ) , ( non_op ) } or D17 in ( Constructors )) by L161 , L157 , TARSKI:def 2;
reconsider D18 = D17 as (OperSymbol of ( MaxConstrSign )) by L162 , L153 , XBOOLE_0:def 3;
L163: C45 = ( (the Arity of C43) . D17 ) by L160 , FUNCT_1:1;
per cases  by ABCMIZ_1:def 11;
suppose L164: (D17 = ( * ) or D17 = ( non_op ));

L165: ((D18 = ( * ) & C45 = <* ( an_Adj ) , ( a_Type ) *>) or (D18 = ( non_op ) & C45 = <* ( an_Adj ) *>)) by L164 , L163 , ABCMIZ_1:def 9;
L166: C45 = ( (the Arity of ( MaxConstrSign )) . D18 ) by L165 , ABCMIZ_1:def 9;
thus L167: thesis by L166 , L154 , FUNCT_1:def 2;
end;
suppose L168: D17 is  constructor;

L169: (D17 <> ( * ) & D17 <> ( non_op )) by L168 , ABCMIZ_1:def 11;
L170: D18 is  constructor by L169 , ABCMIZ_1:def 11;
L171: ( card ( ( D17 `2 ) `1 ) ) = ( len ( the_arity_of D17 ) ) by L157 , L168
.= ( card C45 ) by L160 , FUNCT_1:1;
L172: ( card C45 ) = ( card ( (the Arity of ( MaxConstrSign )) . D18 ) ) by L171 , L170 , ABCMIZ_1:def 24;
L173: (C45 in ( { ( a_Term ) } * ) & ( (the Arity of ( MaxConstrSign )) . D18 ) in ( { ( a_Term ) } * )) by L163 , L169 , ABCMIZ_1:def 9;
L174: C45 = ( (the Arity of ( MaxConstrSign )) . D18 ) by L173 , L172 , ABCMIZ_1:6;
thus L175: thesis by L174 , L154 , FUNCT_1:def 2;
end;
end;
L177: (the ResultSort of C43) c= (the ResultSort of ( MaxConstrSign ))
proof
let C46 , C47 being set;
assume L178: [ C46 , C47 ] in (the ResultSort of C43);
reconsider D19 = C46 as (OperSymbol of C43) by L178 , ZFMISC_1:87;
L179: (D19 is  constructor or D19 = ( * ) or D19 = ( non_op )) by ABCMIZ_1:def 11;
L180: (D19 in { ( * ) , ( non_op ) } or D19 in ( Constructors )) by L179 , L157 , TARSKI:def 2;
reconsider D20 = D19 as (OperSymbol of ( MaxConstrSign )) by L180 , L153 , XBOOLE_0:def 3;
L181: C47 = ( (the ResultSort of C43) . D19 ) by L178 , FUNCT_1:1;
per cases  by ABCMIZ_1:def 11;
suppose L182: (D19 = ( * ) or D19 = ( non_op ));

L183: ((D20 = ( * ) & C47 = ( a_Type )) or (D20 = ( non_op ) & C47 = ( an_Adj ))) by L182 , L181 , ABCMIZ_1:def 9;
L184: C47 = ( (the ResultSort of ( MaxConstrSign )) . D20 ) by L183 , ABCMIZ_1:def 9;
thus L185: thesis by L184 , L155 , FUNCT_1:def 2;
end;
suppose L186: (D19 is  constructor & D20 is  constructor);

L187: ( D19 `1 ) = ( the_result_sort_of D19 ) by L186 , L157
.= C47 by L178 , FUNCT_1:1;
L188: C47 = ( the_result_sort_of D20 ) by L187 , L186 , L99
.= ( (the ResultSort of ( MaxConstrSign )) . D20 );
thus L189: thesis by L188 , L155 , FUNCT_1:def 2;
end;
end;
thus L191: thesis by L177 , L158 , L159 , INSTALG1:13;
end;

assume L192: C43 is (Subsignature of ( MaxConstrSign ));
let C48 being (OperSymbol of C43);
assume that
L193: (C48 <> ( * ) & C48 <> ( non_op ));
L194: ((the carrier' of C43) c= (the carrier' of ( MaxConstrSign )) & C48 in (the carrier' of C43)) by L192 , INSTALG1:10;
reconsider D21 = C48 as (OperSymbol of ( MaxConstrSign )) by L194;
L195: D21 is  constructor by L193 , ABCMIZ_1:def 11;
L196: (not D21 in { ( * ) , ( non_op ) }) by L193 , TARSKI:def 2;
thus L197: C48 in ( Constructors ) by L196 , L153 , XBOOLE_0:def 3;
thus L198: ( C48 `1 ) = ( (the ResultSort of ( MaxConstrSign )) . D21 ) by L195 , ABCMIZ_1:def 24
.= ( ( (the ResultSort of ( MaxConstrSign )) | (the carrier' of C43) ) . C48 ) by FUNCT_1:49
.= ( (the ResultSort of C43) . C48 ) by L192 , INSTALG1:12
.= ( the_result_sort_of C48 );
thus L199: ( card ( ( C48 `2 ) `1 ) ) = ( card ( (the Arity of ( MaxConstrSign )) . D21 ) ) by L195 , ABCMIZ_1:def 24
.= ( card ( ( (the Arity of ( MaxConstrSign )) | (the carrier' of C43) ) . C48 ) ) by FUNCT_1:49
.= ( card ( (the Arity of C43) . C48 ) ) by L192 , INSTALG1:12
.= ( len ( the_arity_of C48 ) );
end;
registration
let C49 being  initialized ConstructorSignature;
cluster non  compound for (quasi-term of C49);
existence
proof
set D22 = the (Element of ( Vars ));
take ( D22 -term C49 );
thus L200: thesis;
end;
end;
registration
cluster  ->  pair for (Element of ( Vars ));
coherence
proof
let C50 being (Element of ( Vars ));
L202: (( Vars ) = { [ ( varcl B64 ) , B65 ] where B64 is (Subset of ( Vars )) , B65 is (Element of ( NAT )) : B64 is  finite } & C50 in ( Vars )) by ABCMIZ_1:18;
L203: (ex B66 being (Subset of ( Vars )) st (ex B67 being (Element of ( NAT )) st (C50 = [ ( varcl B66 ) , B67 ] & B66 is  finite))) by L202;
thus L204: thesis by L203;
end;
end;
theorem
L206: (for B68 being (Element of ( Vars )) holds (( vars B68 ) is  natural implies ( vars B68 ) = ( 0 )))
proof
let C51 being (Element of ( Vars ));
assume L207: ( C51 `1 ) is  natural;
reconsider D23 = ( C51 `1 ) as (Element of ( NAT )) by L207 , ORDINAL1:def 12;
L208: (( Vars ) = { [ ( varcl B69 ) , B70 ] where B69 is (Subset of ( Vars )) , B70 is (Element of ( NAT )) : B69 is  finite } & C51 in ( Vars )) by ABCMIZ_1:18;
consider C52 being (Subset of ( Vars )), C53 being (Element of ( NAT )) such that L209: (C51 = [ ( varcl C52 ) , C53 ] & C52 is  finite) by L208;
set D24 = the (Element of D23);
assume L210: ( C51 `1 ) <> ( 0 );
L211: D24 in D23 by L210;
reconsider D25 = D24 as (Element of ( NAT )) by L210 , ORDINAL1:10;
L212: (D23 = ( varcl C52 ) & ( vars C51 ) c= ( Vars )) by L209 , MCART_1:7;
L213: D25 in ( Vars ) by L212 , L211;
thus L214: thesis by L213;
end;
theorem
L215: ( Vars ) misses ( Constructors )
proof
assume L216: ( Vars ) meets ( Constructors );
consider C54 being set such that L217: (C54 in ( Vars ) & C54 in ( Constructors )) by L216 , XBOOLE_0:3;
reconsider D26 = C54 as (Element of ( Vars )) by L217;
consider C55 being (Subset of ( Vars )), C56 being (Element of ( NAT )) such that L218: (D26 = [ ( varcl C55 ) , C56 ] & C55 is  finite) by L217 , ABCMIZ_1:18;
L219: (D26 in ( ( Modes ) \/ ( Attrs ) ) or D26 in ( Funcs )) by L217 , XBOOLE_0:def 3;
L220: (D26 in ( Modes ) or D26 in ( Attrs ) or D26 in ( Funcs )) by L219 , XBOOLE_0:def 3;
L221: (( D26 `2 ) in [: ( QuasiLoci ) , ( NAT ) :] & ( D26 `2 ) = C56) by L220 , L218 , MCART_1:7 , MCART_1:10;
L222: (ex B71 , B72 being set st (B71 in ( QuasiLoci ) & B72 in ( NAT ) & [ B71 , B72 ] = C56)) by L221 , ZFMISC_1:def 2;
thus L223: thesis by L222;
end;
theorem
L224: (for B73 being (Element of ( Vars )) holds (B73 <> ( * ) & B73 <> ( non_op )));
theorem
L225: (for B74 being  standardized ConstructorSignature holds ( Vars ) misses (the carrier' of B74))
proof
let C57 being  standardized ConstructorSignature;
assume L226: ( Vars ) meets (the carrier' of C57);
consider C58 being set such that L227: (C58 in ( Vars ) & C58 in (the carrier' of C57)) by L226 , XBOOLE_0:3;
reconsider D27 = C58 as (Element of ( Vars )) by L227;
reconsider D28 = D27 as (OperSymbol of C57) by L227;
L228: (D27 = ( * ) or D27 = ( non_op ) or D28 is  constructor) by ABCMIZ_1:def 11;
L229: (D27 = ( * ) or D27 = ( non_op ) or (D27 in ( Constructors ) & ( Vars ) misses ( Constructors ))) by L228 , L215 , L99;
thus L230: thesis by L229 , XBOOLE_0:3;
end;
theorem
L231: (for B75 being  initialized  standardized ConstructorSignature holds (for B76 being (expression of B75) holds ((ex B77 being (Element of ( Vars )) st (B76 = ( B77 -term B75 ) & ( B76 . ( {} ) ) = [ B77 , ( a_Term ) ])) or (ex B78 being (OperSymbol of B75) st (( B76 . ( {} ) ) = [ B78 , (the carrier of B75) ] & (B78 in ( Constructors ) or B78 = ( * ) or B78 = ( non_op )))))))
proof
let C59 being  initialized  standardized ConstructorSignature;
let C60 being (expression of C59);
set D29 = ( MSVars C59 );
set D30 = ( D29 \/ ( (the carrier of C59) --> { ( 0 ) } ) );
reconsider D31 = C60 as (Term of C59 , D30) by MSAFREE3:8;
per cases  by MSATERM:2;
suppose L232: (ex B79 being (SortSymbol of C59) st (ex B80 being (Element of ( D30 . B79 )) st ( D31 . ( {} ) ) = [ B80 , B79 ]));

consider C61 being (SortSymbol of C59), C62 being (Element of ( D30 . C61 )) such that L233: ( D31 . ( {} ) ) = [ C62 , C61 ] by L232;
consider C63 being set such that L234: (C63 in ( dom (the Sorts of ( Free (C59 , D29) )) ) & C60 in ( (the Sorts of ( Free (C59 , D29) )) . C63 )) by CARD_5:2;
reconsider D32 = C63 as (SortSymbol of C59) by L234;
L235: (the carrier of C59) = { ( a_Type ) , ( an_Adj ) , ( a_Term ) } by ABCMIZ_1:def 9;
L236: (D32 = ( a_Type ) or D32 = ( an_Adj ) or D32 = ( a_Term )) by L235 , ENUMSET1:def 1;
L237: D31 = ( root-tree [ C62 , C61 ] ) by L233 , MSATERM:5;
L238: ( the_sort_of D31 ) = C61 by L237 , MSATERM:14;
L239: (the Sorts of ( Free (C59 , D29) )) = ( C59 -Terms (D29 , D30) ) by MSAFREE3:24;
L240: (the Sorts of ( Free (C59 , D29) )) c= (the Sorts of ( FreeMSA D30 )) by L239 , PBOOLE:def 18;
L241: (( (the Sorts of ( Free (C59 , D29) )) . D32 ) c= ( (the Sorts of ( FreeMSA D30 )) . D32 ) & ( FreeMSA D30 ) = MSAlgebra (# ( FreeSort D30 ) , ( FreeOper D30 ) #)) by L240 , PBOOLE:def 2;
L242: (D31 in ( (the Sorts of ( FreeMSA D30 )) . D32 ) & ( (the Sorts of ( FreeMSA D30 )) . D32 ) = ( FreeSort (D30 , D32) )) by L241 , L234 , MSAFREE:def 11;
L243: C61 = D32 by L242 , L238 , MSATERM:def 5;
L244: C62 in ( ( MSVars C59 ) . D32 ) by L243 , L237 , L234 , L239 , MSAFREE3:18;
L245: (C62 in ( Vars ) & D32 = ( a_Term )) by L244 , L236 , ABCMIZ_1:def 25;
reconsider D33 = C62 as (Element of ( Vars )) by L245;
L246: C60 = ( D33 -term C59 ) by L233 , L243 , L245 , MSATERM:5;
thus L247: thesis by L246 , L233 , L243 , L245;
end;
suppose L248: ( D31 . ( {} ) ) in [: (the carrier' of C59) , { (the carrier of C59) } :];

consider C64 , C65 being set such that L249: (C64 in (the carrier' of C59) & C65 in { (the carrier of C59) } & ( D31 . ( {} ) ) = [ C64 , C65 ]) by L248 , ZFMISC_1:def 2;
reconsider D34 = C64 as (OperSymbol of C59) by L249;
L250: (D34 is  constructor iff (D34 <> ( * ) & D34 <> ( non_op ))) by ABCMIZ_1:def 11;
L251: (C65 = (the carrier of C59) & (D34 in ( Constructors ) or D34 = ( * ) or D34 = ( non_op ))) by L250 , L249 , L99 , TARSKI:def 1;
thus L252: thesis by L251 , L249;
end;
end;
registration
let C66 being  initialized  standardized ConstructorSignature;
let C67 being (expression of C66);
cluster ( C67 . ( {} ) ) ->  pair;
coherence
proof
L254: ((ex B81 being (Element of ( Vars )) st (C67 = ( B81 -term C66 ) & ( C67 . ( {} ) ) = [ B81 , ( a_Term ) ])) or (ex B82 being (OperSymbol of C66) st (( C67 . ( {} ) ) = [ B82 , (the carrier of C66) ] & (B82 in ( Constructors ) or B82 = ( * ) or B82 = ( non_op ))))) by L231;
thus L255: thesis by L254;
end;
end;
theorem
L257: (for B83 being  initialized ConstructorSignature holds (for B84 being (expression of B83) holds (for B85 being (OperSymbol of B83) holds (( B84 . ( {} ) ) = [ B85 , (the carrier of B83) ] implies B84 is (expression of B83 , ( the_result_sort_of B85 ))))))
proof
let C68 being  initialized ConstructorSignature;
let C69 being (expression of C68);
let C70 being (OperSymbol of C68);
assume that
L258: ( C69 . ( {} ) ) = [ C70 , (the carrier of C68) ];
set D35 = ( MSVars C68 );
set D36 = ( D35 \/ ( (the carrier of C68) --> { ( 0 ) } ) );
reconsider D37 = C69 as (Term of C68 , D36) by MSAFREE3:8;
L259: ( variables_in D37 ) c= D35 by MSAFREE3:27;
L260: C69 in { B86 where B86 is (Term of C68 , D36) : (( the_sort_of B86 ) = ( the_sort_of D37 ) & ( variables_in B86 ) c= D35) } by L259;
L261: C69 in ( ( C68 -Terms (D35 , D36) ) . ( the_sort_of D37 ) ) by L260 , MSAFREE3:def 5;
L262: C69 in ( (the Sorts of ( Free (C68 , D35) )) . ( the_sort_of D37 ) ) by L261 , MSAFREE3:24;
L263: ( the_sort_of D37 ) = ( the_result_sort_of C70 ) by L258 , MSATERM:17;
thus L264: thesis by L263 , L262 , ABCMIZ_1:def 28;
end;
theorem
L265: (for B87 being  initialized  standardized ConstructorSignature holds (for B88 being (expression of B87) holds ((( ( B88 . ( {} ) ) `1 ) = ( * ) implies B88 is (expression of B87 , ( a_Type B87 ))) & (( ( B88 . ( {} ) ) `1 ) = ( non_op ) implies B88 is (expression of B87 , ( an_Adj B87 ))))))
proof
let C71 being  initialized  standardized ConstructorSignature;
let C72 being (expression of C71);
per cases  by L231;
suppose L266: (ex B89 being (Element of ( Vars )) st (C72 = ( B89 -term C71 ) & ( C72 . ( {} ) ) = [ B89 , ( a_Term ) ]));

consider C73 being (Element of ( Vars )) such that L267: (C72 = ( C73 -term C71 ) & ( C72 . ( {} ) ) = [ C73 , ( a_Term ) ]) by L266;
thus L268: thesis by L267 , MCART_1:7;
end;
suppose L269: (ex B90 being (OperSymbol of C71) st (( C72 . ( {} ) ) = [ B90 , (the carrier of C71) ] & (B90 in ( Constructors ) or B90 = ( * ) or B90 = ( non_op ))));

consider C74 being (OperSymbol of C71) such that L270: ( C72 . ( {} ) ) = [ C74 , (the carrier of C71) ] by L269;
set D38 = ( MSVars C71 );
set D39 = ( D38 \/ ( (the carrier of C71) --> { ( 0 ) } ) );
reconsider D40 = C72 as (Term of C71 , D39) by MSAFREE3:8;
L271: ( variables_in D40 ) c= D38 by MSAFREE3:27;
L272: C72 in { B91 where B91 is (Term of C71 , D39) : (( the_sort_of B91 ) = ( the_sort_of D40 ) & ( variables_in B91 ) c= D38) } by L271;
L273: C72 in ( ( C71 -Terms (D38 , D39) ) . ( the_sort_of D40 ) ) by L272 , MSAFREE3:def 5;
L274: C72 in ( (the Sorts of ( Free (C71 , D38) )) . ( the_sort_of D40 ) ) by L273 , MSAFREE3:24;
L275: (( the_result_sort_of ( non_op C71 ) ) = ( an_Adj C71 ) & ( the_result_sort_of ( ast C71 ) ) = ( a_Type C71 )) by ABCMIZ_1:38;
L276: (( ( C72 . ( {} ) ) `1 ) = C74 & ( non_op C71 ) = ( non_op ) & ( ast C71 ) = ( * )) by L270 , MCART_1:7;
L277: ( the_sort_of D40 ) = ( the_result_sort_of C74 ) by L270 , MSATERM:17;
thus L278: thesis by L277 , L274 , L275 , L276 , ABCMIZ_1:def 28;
end;
end;
theorem
L280: (for B92 being  initialized  standardized ConstructorSignature holds (for B93 being (expression of B92) holds ((( ( B93 . ( {} ) ) `1 ) in ( Vars ) & ( ( B93 . ( {} ) ) `2 ) = ( a_Term ) & B93 is (quasi-term of B92)) or (( ( B93 . ( {} ) ) `2 ) = (the carrier of B92) & ((( ( B93 . ( {} ) ) `1 ) in ( Constructors ) & ( ( B93 . ( {} ) ) `1 ) in (the carrier' of B92)) or ( ( B93 . ( {} ) ) `1 ) = ( * ) or ( ( B93 . ( {} ) ) `1 ) = ( non_op ))))))
proof
let C75 being  initialized  standardized ConstructorSignature;
let C76 being (expression of C75);
per cases  by L231;
suppose L281: (ex B94 being (Element of ( Vars )) st (C76 = ( B94 -term C75 ) & ( C76 . ( {} ) ) = [ B94 , ( a_Term ) ]));

consider C77 being (Element of ( Vars )) such that L282: (C76 = ( C77 -term C75 ) & ( C76 . ( {} ) ) = [ C77 , ( a_Term ) ]) by L281;
L283: (( ( C76 . ( {} ) ) `1 ) = C77 & ( ( C76 . ( {} ) ) `2 ) = ( a_Term )) by L282 , MCART_1:7;
thus L284: thesis by L283 , L282;
end;
suppose L285: (ex B95 being (OperSymbol of C75) st (( C76 . ( {} ) ) = [ B95 , (the carrier of C75) ] & (B95 in ( Constructors ) or B95 = ( * ) or B95 = ( non_op ))));

consider C78 being (OperSymbol of C75) such that L286: (( C76 . ( {} ) ) = [ C78 , (the carrier of C75) ] & (C78 in ( Constructors ) or C78 = ( * ) or C78 = ( non_op ))) by L285;
L287: (( ( C76 . ( {} ) ) `1 ) = C78 & ( ( C76 . ( {} ) ) `2 ) = (the carrier of C75)) by L286 , MCART_1:7;
thus L288: thesis by L287 , L286;
end;
end;
theorem
L290: (for B96 being  initialized  standardized ConstructorSignature holds (for B97 being (expression of B96) holds (( ( B97 . ( {} ) ) `1 ) in ( Constructors ) implies B97 in ( (the Sorts of ( Free (B96 , ( MSVars B96 )) )) . ( ( ( B97 . ( {} ) ) `1 ) `1 ) ))))
proof
let C79 being  initialized  standardized ConstructorSignature;
let C80 being (expression of C79);
assume L291: ( ( C80 . ( {} ) ) `1 ) in ( Constructors );
per cases  by L231;
suppose L292: (ex B98 being (Element of ( Vars )) st (C80 = ( B98 -term C79 ) & ( C80 . ( {} ) ) = [ B98 , ( a_Term ) ]));

consider C81 being (Element of ( Vars )) such that L293: (C80 = ( C81 -term C79 ) & ( C80 . ( {} ) ) = [ C81 , ( a_Term ) ]) by L292;
L294: ( ( C80 . ( {} ) ) `1 ) = C81 by L293 , MCART_1:7;
thus L295: thesis by L294 , L291 , L215 , XBOOLE_0:3;
end;
suppose L296: (ex B99 being (OperSymbol of C79) st (( C80 . ( {} ) ) = [ B99 , (the carrier of C79) ] & (B99 in ( Constructors ) or B99 = ( * ) or B99 = ( non_op ))));

consider C82 being (OperSymbol of C79) such that L297: ( C80 . ( {} ) ) = [ C82 , (the carrier of C79) ] by L296;
L298: ( ( C80 . ( {} ) ) `1 ) = C82 by L297 , MCART_1:7;
L299: (( * ) in { ( * ) , ( non_op ) } & ( non_op ) in { ( * ) , ( non_op ) }) by TARSKI:def 2;
L300: (C82 <> ( * ) & C82 <> ( non_op )) by L299 , L291 , L298 , ABCMIZ_1:39 , XBOOLE_0:3;
L301: C82 is  constructor by L300 , ABCMIZ_1:def 11;
set D41 = ( MSVars C79 );
reconsider D42 = C80 as (Term of C79 , ( D41 \/ ( (the carrier of C79) --> { ( 0 ) } ) )) by MSAFREE3:8;
L302: ( the_sort_of D42 ) = ( the_result_sort_of C82 ) by L297 , MSATERM:17
.= ( C82 `1 ) by L301 , L99;
L303: ( variables_in D42 ) c= D41 by MSAFREE3:27;
L304: C80 in { B100 where B100 is (Term of C79 , ( D41 \/ ( (the carrier of C79) --> { ( 0 ) } ) )) : (( the_sort_of B100 ) = ( the_sort_of D42 ) & ( variables_in B100 ) c= D41) } by L303;
L305: C80 in ( ( C79 -Terms (D41 , ( D41 \/ ( (the carrier of C79) --> { ( 0 ) } ) )) ) . ( the_sort_of D42 ) ) by L304 , MSAFREE3:def 5;
thus L306: C80 in ( (the Sorts of ( Free (C79 , ( MSVars C79 )) )) . ( ( ( C80 . ( {} ) ) `1 ) `1 ) ) by L305 , L298 , L302 , MSAFREE3:23;
end;
end;
theorem
L308: (for B101 being  initialized  standardized ConstructorSignature holds (for B102 being (expression of B101) holds ((not ( ( B102 . ( {} ) ) `1 ) in ( Vars )) iff ( ( B102 . ( {} ) ) `1 ) is (OperSymbol of B101))))
proof
let C83 being  initialized  standardized ConstructorSignature;
let C84 being (expression of C83);
L309: (( ( C84 . ( {} ) ) `1 ) in ( Vars ) or ( ( C84 . ( {} ) ) `1 ) in (the carrier' of C83) or ( ( C84 . ( {} ) ) `1 ) = ( ast C83 ) or ( ( C84 . ( {} ) ) `1 ) = ( non_op C83 )) by L280;
L310: ( Vars ) misses (the carrier' of C83) by L225;
thus L311: ((not ( ( C84 . ( {} ) ) `1 ) in ( Vars )) iff ( ( C84 . ( {} ) ) `1 ) is (OperSymbol of C83)) by L310 , L309 , XBOOLE_0:3;
end;
theorem
L312: (for B103 being  initialized  standardized ConstructorSignature holds (for B104 being (expression of B103) holds (( ( B104 . ( {} ) ) `1 ) in ( Vars ) implies (ex B105 being (Element of ( Vars )) st (B105 = ( ( B104 . ( {} ) ) `1 ) & B104 = ( B105 -term B103 ))))))
proof
let C85 being  initialized  standardized ConstructorSignature;
let C86 being (expression of C85);
assume that
L313: ( ( C86 . ( {} ) ) `1 ) in ( Vars );
set D43 = ( MSVars C85 );
set D44 = ( D43 \/ ( (the carrier of C85) --> { ( 0 ) } ) );
reconsider D45 = C86 as (Term of C85 , D44) by MSAFREE3:8;
per cases  by MSATERM:2;
suppose L314: ( D45 . ( {} ) ) in [: (the carrier' of C85) , { (the carrier of C85) } :];

L315: (( ( D45 . ( {} ) ) `1 ) in (the carrier' of C85) & (the carrier' of C85) misses ( Vars )) by L314 , L225 , MCART_1:10;
thus L316: thesis by L315 , L313 , XBOOLE_0:3;
end;
suppose L317: (ex B106 being (SortSymbol of C85) st (ex B107 being (Element of ( D44 . B106 )) st ( D45 . ( {} ) ) = [ B107 , B106 ]));

consider C87 being (SortSymbol of C85), C88 being (Element of ( D44 . C87 )) such that L318: ( C86 . ( {} ) ) = [ C88 , C87 ] by L317;
L319: D45 = ( root-tree [ C88 , C87 ] ) by L318 , MSATERM:5;
reconsider D46 = C88 as (Element of ( Vars )) by L313 , L318 , MCART_1:7;
take D46;
L320: (the carrier of C85) = { ( a_Type ) , ( an_Adj ) , ( a_Term ) } by ABCMIZ_1:def 9;
L321: (C87 = ( a_Term ) or C87 = ( a_Type ) or C87 = ( an_Adj )) by L320 , ENUMSET1:def 1;
L322: ( ( (the carrier of C85) --> { ( 0 ) } ) . C87 ) = { ( 0 ) } by FUNCOP_1:7;
L323: ( D44 . C87 ) = ( ( D43 . C87 ) \/ { ( 0 ) } ) by L322 , PBOOLE:def 4;
L324: (C87 = ( a_Term ) or ( D44 . C87 ) = ( ( {} ) \/ { ( 0 ) } )) by L323 , L321 , ABCMIZ_1:def 25;
L325: (C88 in ( D44 . C87 ) & D46 <> ( 0 ));
thus L326: thesis by L325 , L318 , L319 , L324 , MCART_1:7;
end;
end;
theorem
L328: (for B108 being  initialized  standardized ConstructorSignature holds (for B109 being (expression of B108) holds (( ( B109 . ( {} ) ) `1 ) = ( * ) implies (ex B110 being (expression of B108 , ( an_Adj B108 )) st (ex B111 being (expression of B108 , ( a_Type B108 )) st B109 = ( [ ( * ) , 3 ] -tree (B110 , B111) ))))))
proof
let C89 being  initialized  standardized ConstructorSignature;
let C90 being (expression of C89);
assume that
L329: ( ( C90 . ( {} ) ) `1 ) = ( * );
L330: (not (ex B112 being (Element of ( Vars )) st (C90 = ( B112 -term C89 ) & ( C90 . ( {} ) ) = [ B112 , ( a_Term ) ]))) by L329 , MCART_1:7;
consider C91 being (OperSymbol of C89) such that L331: ( C90 . ( {} ) ) = [ C91 , (the carrier of C89) ] and L332: (C91 in ( Constructors ) or C91 = ( * ) or C91 = ( non_op )) by L330 , L231;
set D47 = ( ( MSVars C89 ) \/ ( (the carrier of C89) --> { ( 0 ) } ) );
reconsider D48 = C90 as (Term of C89 , ( ( MSVars C89 ) \/ ( (the carrier of C89) --> { ( 0 ) } ) )) by MSAFREE3:8;
consider C92 being (ArgumentSeq of ( Sym (C91 , ( ( MSVars C89 ) \/ ( (the carrier of C89) --> { ( 0 ) } ) )) )) such that L333: D48 = ( [ C91 , (the carrier of C89) ] -tree C92 ) by L331 , MSATERM:10;
L334: ( * ) = ( [ C91 , (the carrier of C89) ] `1 ) by L329 , L333 , TREES_4:def 4
.= C91;
L335: ( the_arity_of ( ast C89 ) ) = <* ( an_Adj C89 ) , ( a_Type C89 ) *> by ABCMIZ_1:38;
L336: ( len C92 ) = ( len ( the_arity_of C91 ) ) by MSATERM:22
.= 2 by L334 , L335 , FINSEQ_1:44;
L337: ( dom C92 ) = ( Seg 2 ) by L336 , FINSEQ_1:def 3;
L338: (1 in ( dom C92 ) & 2 in ( dom C92 )) by L337;
reconsider D49 = ( C92 . 1 ) , D50 = ( C92 . 2 ) as (Term of C89 , ( ( MSVars C89 ) \/ ( (the carrier of C89) --> { ( 0 ) } ) )) by L338 , MSATERM:22;
L339: ( len ( doms C92 ) ) = ( len C92 ) by TREES_3:38;
L340: (( ( doms C92 ) . 1 ) = ( dom D49 ) & ( ( doms C92 ) . 2 ) = ( dom D50 )) by L338 , FUNCT_6:22;
L341: (( 0 ) < 2 & ( ( 0 ) + 1 ) = 1 & 1 < 2 & ( 1 + 1 ) = 2 & ( {} ) in ( ( doms C92 ) . 1 ) & ( {} ) in ( ( doms C92 ) . 2 ) & ( <* ( 0 ) *> ^ ( <*> ( NAT ) ) ) = <* ( 0 ) *> & ( <* 1 *> ^ ( <*> ( NAT ) ) ) = <* 1 *>) by L340 , FINSEQ_1:34 , TREES_1:22;
L342: ( dom D48 ) = ( tree ( doms C92 ) ) by L333 , TREES_4:10;
reconsider D51 = <* ( 0 ) *> , D52 = <* 1 *> as (Element of ( dom D48 )) by L342 , L336 , L339 , L341 , TREES_3:def 15;
L343: (( 0 ) < 2 & 1 = ( ( 0 ) + 1 ) & 1 < 2 & 2 = ( 1 + 1 ) & C92 is  DTree-yielding);
L344: (D49 = ( D48 | D51 ) & D50 = ( D48 | D52 )) by L343 , L333 , L336 , TREES_4:def 4;
L345: (D49 is (expression of C89) & D50 is (expression of C89) & ( variables_in D49 ) c= ( variables_in D48 ) & ( variables_in D50 ) c= ( variables_in D48 )) by L344 , MSAFREE3:32 , MSAFREE3:33;
L346: (( variables_in D49 ) c= ( MSVars C89 ) & ( variables_in D50 ) c= ( MSVars C89 )) by L345 , MSAFREE3:27;
L347: ( the_sort_of D49 ) = ( ( the_arity_of C91 ) . 1 ) by L338 , MSATERM:23
.= ( an_Adj C89 ) by L334 , L335 , FINSEQ_1:44;
L348: D49 in { B113 where B113 is (Term of C89 , D47) : (( the_sort_of B113 ) = ( an_Adj C89 ) & ( variables_in B113 ) c= ( MSVars C89 )) } by L347 , L346;
L349: D49 in ( ( C89 -Terms (( MSVars C89 ) , D47) ) . ( an_Adj C89 ) ) by L348 , MSAFREE3:def 5;
L350: D49 in ( (the Sorts of ( Free (C89 , ( MSVars C89 )) )) . ( an_Adj C89 ) ) by L349 , MSAFREE3:24;
reconsider D53 = D49 as (expression of C89 , ( an_Adj C89 )) by L350 , L345 , ABCMIZ_1:def 28;
L351: ( the_sort_of D50 ) = ( ( the_arity_of C91 ) . 2 ) by L338 , MSATERM:23
.= ( a_Type C89 ) by L334 , L335 , FINSEQ_1:44;
L352: D50 in { B114 where B114 is (Term of C89 , D47) : (( the_sort_of B114 ) = ( a_Type C89 ) & ( variables_in B114 ) c= ( MSVars C89 )) } by L351 , L346;
L353: D50 in ( ( C89 -Terms (( MSVars C89 ) , D47) ) . ( a_Type C89 ) ) by L352 , MSAFREE3:def 5;
L354: D50 in ( (the Sorts of ( Free (C89 , ( MSVars C89 )) )) . ( a_Type C89 ) ) by L353 , MSAFREE3:24;
reconsider D54 = D50 as (expression of C89 , ( a_Type C89 )) by L354 , L345 , ABCMIZ_1:def 28;
take D53;
take D54;
L355: (the carrier of C89) = 3 by ABCMIZ_1:def 9 , YELLOW11:1;
L356: C92 = <* D53 , D54 *> by L336 , FINSEQ_1:44;
thus L357: thesis by L356 , L333 , L334 , L355 , TREES_4:def 6;
end;
theorem
L358: (for B115 being  initialized  standardized ConstructorSignature holds (for B116 being (expression of B115) holds (( ( B116 . ( {} ) ) `1 ) = ( non_op ) implies (ex B117 being (expression of B115 , ( an_Adj B115 )) st B116 = ( [ ( non_op ) , 3 ] -tree B117 )))))
proof
let C93 being  initialized  standardized ConstructorSignature;
let C94 being (expression of C93);
assume that
L359: ( ( C94 . ( {} ) ) `1 ) = ( non_op );
L360: (not (ex B118 being (Element of ( Vars )) st (C94 = ( B118 -term C93 ) & ( C94 . ( {} ) ) = [ B118 , ( a_Term ) ]))) by L359 , MCART_1:7;
consider C95 being (OperSymbol of C93) such that L361: ( C94 . ( {} ) ) = [ C95 , (the carrier of C93) ] and L362: (C95 in ( Constructors ) or C95 = ( * ) or C95 = ( non_op )) by L360 , L231;
set D55 = ( ( MSVars C93 ) \/ ( (the carrier of C93) --> { ( 0 ) } ) );
reconsider D56 = C94 as (Term of C93 , ( ( MSVars C93 ) \/ ( (the carrier of C93) --> { ( 0 ) } ) )) by MSAFREE3:8;
consider C96 being (ArgumentSeq of ( Sym (C95 , ( ( MSVars C93 ) \/ ( (the carrier of C93) --> { ( 0 ) } ) )) )) such that L363: D56 = ( [ C95 , (the carrier of C93) ] -tree C96 ) by L361 , MSATERM:10;
L364: ( non_op ) = ( [ C95 , (the carrier of C93) ] `1 ) by L359 , L363 , TREES_4:def 4
.= C95;
L365: ( the_arity_of ( non_op C93 ) ) = <* ( an_Adj C93 ) *> by ABCMIZ_1:38;
L366: ( len C96 ) = ( len ( the_arity_of C95 ) ) by MSATERM:22
.= 1 by L364 , L365 , FINSEQ_1:40;
L367: ( dom C96 ) = ( Seg 1 ) by L366 , FINSEQ_1:def 3;
L368: 1 in ( dom C96 ) by L367;
reconsider D57 = ( C96 . 1 ) as (Term of C93 , ( ( MSVars C93 ) \/ ( (the carrier of C93) --> { ( 0 ) } ) )) by L368 , MSATERM:22;
L369: ( len ( doms C96 ) ) = ( len C96 ) by TREES_3:38;
L370: ( ( doms C96 ) . 1 ) = ( dom D57 ) by L368 , FUNCT_6:22;
L371: (( 0 ) < 1 & ( ( 0 ) + 1 ) = 1 & ( {} ) in ( ( doms C96 ) . 1 ) & ( <* ( 0 ) *> ^ ( <*> ( NAT ) ) ) = <* ( 0 ) *>) by L370 , FINSEQ_1:34 , TREES_1:22;
L372: ( dom D56 ) = ( tree ( doms C96 ) ) by L363 , TREES_4:10;
reconsider D58 = <* ( 0 ) *> as (Element of ( dom D56 )) by L372 , L366 , L369 , L371 , TREES_3:def 15;
L373: D57 = ( D56 | D58 ) by L363 , L366 , L371 , TREES_4:def 4;
L374: (D57 is (expression of C93) & ( variables_in D57 ) c= ( variables_in D56 )) by L373 , MSAFREE3:32 , MSAFREE3:33;
L375: ( variables_in D57 ) c= ( MSVars C93 ) by L374 , MSAFREE3:27;
L376: ( the_sort_of D57 ) = ( ( the_arity_of C95 ) . 1 ) by L368 , MSATERM:23
.= ( an_Adj C93 ) by L364 , L365 , FINSEQ_1:40;
L377: D57 in { B119 where B119 is (Term of C93 , D55) : (( the_sort_of B119 ) = ( an_Adj C93 ) & ( variables_in B119 ) c= ( MSVars C93 )) } by L376 , L375;
L378: D57 in ( ( C93 -Terms (( MSVars C93 ) , D55) ) . ( an_Adj C93 ) ) by L377 , MSAFREE3:def 5;
L379: D57 in ( (the Sorts of ( Free (C93 , ( MSVars C93 )) )) . ( an_Adj C93 ) ) by L378 , MSAFREE3:24;
reconsider D59 = D57 as (expression of C93 , ( an_Adj C93 )) by L379 , L374 , ABCMIZ_1:def 28;
take D59;
L380: (the carrier of C93) = 3 by ABCMIZ_1:def 9 , YELLOW11:1;
L381: C96 = <* D59 *> by L366 , FINSEQ_1:40;
thus L382: thesis by L381 , L363 , L364 , L380 , TREES_4:def 5;
end;
theorem
L383: (for B120 being  initialized  standardized ConstructorSignature holds (for B121 being (expression of B120) holds (( ( B121 . ( {} ) ) `1 ) in ( Constructors ) implies (ex B122 being (OperSymbol of B120) st (B122 = ( ( B121 . ( {} ) ) `1 ) & ( the_result_sort_of B122 ) = ( B122 `1 ) & B121 is (expression of B120 , ( the_result_sort_of B122 )))))))
proof
let C97 being  initialized  standardized ConstructorSignature;
let C98 being (expression of C97);
assume that
L384: ( ( C98 . ( {} ) ) `1 ) in ( Constructors );
per cases  by L231;
suppose L385: (ex B123 being (Element of ( Vars )) st (C98 = ( B123 -term C97 ) & ( C98 . ( {} ) ) = [ B123 , ( a_Term ) ]));

consider C99 being (Element of ( Vars )) such that L386: (C98 = ( C99 -term C97 ) & ( C98 . ( {} ) ) = [ C99 , ( a_Term ) ]) by L385;
L387: (( ( C98 . ( {} ) ) `1 ) = C99 & C99 in ( Vars )) by L386 , MCART_1:7;
thus L388: thesis by L387 , L384 , L215 , XBOOLE_0:3;
end;
suppose L389: (ex B124 being (OperSymbol of C97) st (( C98 . ( {} ) ) = [ B124 , (the carrier of C97) ] & (B124 in ( Constructors ) or B124 = ( * ) or B124 = ( non_op ))));

consider C100 being (OperSymbol of C97) such that L390: (( C98 . ( {} ) ) = [ C100 , (the carrier of C97) ] & (C100 in ( Constructors ) or C100 = ( * ) or C100 = ( non_op ))) by L389;
take C100;
L391: (( ( C98 . ( {} ) ) `1 ) = C100 & ( ( C98 . ( {} ) ) `2 ) = (the carrier of C97)) by L390 , MCART_1:7;
L392: (( * ) in { ( * ) , ( non_op ) } & ( non_op ) in { ( * ) , ( non_op ) }) by TARSKI:def 2;
L393: (C100 <> ( * ) & C100 <> ( non_op )) by L392 , L384 , L391 , ABCMIZ_1:39 , XBOOLE_0:3;
L394: C100 is  constructor by L393 , ABCMIZ_1:def 11;
thus L395: (C100 = ( ( C98 . ( {} ) ) `1 ) & ( the_result_sort_of C100 ) = ( C100 `1 )) by L394 , L390 , L99 , MCART_1:7;
set D60 = ( MSVars C97 );
set D61 = ( D60 \/ ( (the carrier of C97) --> { ( 0 ) } ) );
reconsider D62 = C98 as (Term of C97 , D61) by MSAFREE3:8;
L396: ( variables_in D62 ) c= D60 by MSAFREE3:27;
L397: ( the_sort_of D62 ) = ( the_result_sort_of C100 ) by L390 , MSATERM:17;
L398: ( (the Sorts of ( Free (C97 , ( MSVars C97 )) )) . ( the_result_sort_of C100 ) ) = ( ( C97 -Terms (D60 , D61) ) . ( the_result_sort_of C100 ) ) by MSAFREE3:24
.= { B125 where B125 is (Term of C97 , D61) : (( the_sort_of B125 ) = ( the_result_sort_of C100 ) & ( variables_in B125 ) c= D60) } by MSAFREE3:def 5;
thus L399: C98 in ( (the Sorts of ( Free (C97 , ( MSVars C97 )) )) . ( the_result_sort_of C100 ) ) by L398 , L396 , L397;
end;
end;
theorem
L401: (for B126 being  initialized  standardized ConstructorSignature holds (for B127 being (quasi-term of B126) holds (B127 is  compound iff (( ( B127 . ( {} ) ) `1 ) in ( Constructors ) & ( ( ( B127 . ( {} ) ) `1 ) `1 ) = ( a_Term )))))
proof
let C101 being  initialized  standardized ConstructorSignature;
set D63 = ( MSVars C101 );
set D64 = ( D63 \/ ( (the carrier of C101) --> { ( 0 ) } ) );
let C102 being (quasi-term of C101);
L402: (( C101 -Terms (D63 , D64) ) c= (the Sorts of ( FreeMSA D64 )) & (the Sorts of ( Free (C101 , D63) )) = ( C101 -Terms (D63 , D64) )) by MSAFREE3:24 , PBOOLE:def 18;
L403: (( FreeMSA D64 ) = MSAlgebra (# ( FreeSort D64 ) , ( FreeOper D64 ) #) & ( ( C101 -Terms (D63 , D64) ) . ( a_Term C101 ) ) c= ( (the Sorts of ( FreeMSA D64 )) . ( a_Term C101 ) ) & C102 in ( ( C101 -Terms (D63 , D64) ) . ( a_Term C101 ) )) by L402 , ABCMIZ_1:def 28 , PBOOLE:def 2;
L404: C102 in ( ( FreeSort D64 ) . ( a_Term C101 ) ) by L403;
L405: C102 in ( FreeSort (D64 , ( a_Term C101 )) ) by L404 , MSAFREE:def 11;
L406: (( ( MSVars C101 ) . ( a_Term ) ) = ( Vars ) & ( a_Term C101 ) = ( a_Term ) & ( a_Term ) = 2) by ABCMIZ_1:def 25;
reconsider D65 = C102 as (Term of C101 , D64) by MSAFREE3:8;
per cases  by MSATERM:2;
suppose L407: (ex B128 being (SortSymbol of C101) st (ex B129 being (Element of ( D64 . B128 )) st ( D65 . ( {} ) ) = [ B129 , B128 ]));

consider C103 being (SortSymbol of C101), C104 being (Element of ( D64 . C103 )) such that L408: ( C102 . ( {} ) ) = [ C104 , C103 ] by L407;
L409: (D65 = ( root-tree [ C104 , C103 ] ) & ( the_sort_of D65 ) = ( a_Term C101 )) by L405 , L408 , MSATERM:5 , MSATERM:def 5;
L410: (( a_Term C101 ) = C103 & ( ( C102 . ( {} ) ) `1 ) = C104) by L409 , L408 , MCART_1:7 , MSATERM:14;
reconsider D66 = C104 as (Element of ( Vars )) by L410 , L406 , L409 , L403 , MSAFREE3:18;
L411: (D65 = ( D66 -term C101 ) & ( vars D66 ) <> 2) by L409 , L410 , L206;
thus L412: thesis by L411 , L410;
end;
suppose L413: ( D65 . ( {} ) ) in [: (the carrier' of C101) , { (the carrier of C101) } :];

consider C105 , C106 being set such that L414: (C105 in (the carrier' of C101) & C106 in { (the carrier of C101) } & ( D65 . ( {} ) ) = [ C105 , C106 ]) by L413 , ZFMISC_1:def 2;
reconsider D67 = C105 as (OperSymbol of C101) by L414;
L415: C106 = (the carrier of C101) by L414 , TARSKI:def 1;
L416: ( the_result_sort_of D67 ) = ( the_sort_of D65 ) by L415 , L414 , MSATERM:17
.= ( a_Term C101 ) by L403 , MSAFREE3:17;
L417: (D67 <> ( ast C101 ) & D67 <> ( non_op C101 )) by L416 , ABCMIZ_1:38;
L418: D67 is  constructor by L417 , ABCMIZ_1:def 11;
L419: ( a_Term C101 ) = ( D67 `1 ) by L418 , L416 , L99
.= ( ( ( D65 . ( {} ) ) `1 ) `1 ) by L414 , MCART_1:7;
L420: ( ( D65 . ( {} ) ) `1 ) = D67 by L414 , MCART_1:7;
L421:
now
given C107 being (Element of ( Vars )) such that
L422: D65 = ( C107 -term C101 );

L423: ( D65 . ( {} ) ) = [ C107 , ( a_Term ) ] by L422 , TREES_4:3;
L424: C106 = ( a_Term ) by L423 , L414 , XTUPLE_0:1;
L425: 2 = (the carrier of C101) by L424 , L414 , TARSKI:def 1;
thus L426: contradiction by L425 , ABCMIZ_1:def 9 , YELLOW11:1;
end;
thus L427: thesis by L421 , L418 , L419 , L420 , L95 , L99;
end;
end;
theorem
L429: (for B130 being  initialized  standardized ConstructorSignature holds (for B131 being (expression of B130) holds (B131 is non  compound non  compound non  compound non  compound (quasi-term of B130) iff ( ( B131 . ( {} ) ) `1 ) in ( Vars ))))
proof
let C108 being  initialized  standardized ConstructorSignature;
let C109 being (expression of C108);
thus L430:now
assume L431: C109 is non  compound non  compound non  compound non  compound (quasi-term of C108);
consider C110 being (Element of ( Vars )) such that L432: C109 = ( C110 -term C108 ) by L431 , L95;
L433: (( C109 . ( {} ) ) = [ C110 , ( a_Term ) ] & C110 in ( Vars )) by L432 , TREES_4:3;
thus L434: ( ( C109 . ( {} ) ) `1 ) in ( Vars ) by L433 , MCART_1:7;
end;
assume L435: ( ( C109 . ( {} ) ) `1 ) in ( Vars );
L436: (ex B132 being (Element of ( Vars )) st (B132 = ( ( C109 . ( {} ) ) `1 ) & C109 = ( B132 -term C108 ))) by L435 , L312;
thus L437: thesis by L436;
end;
theorem
L438: (for B133 being  initialized  standardized ConstructorSignature holds (for B134 being (expression of B133) holds (B134 is (quasi-term of B133) iff ((( ( B134 . ( {} ) ) `1 ) in ( Constructors ) & ( ( ( B134 . ( {} ) ) `1 ) `1 ) = ( a_Term )) or ( ( B134 . ( {} ) ) `1 ) in ( Vars )))))
proof
let C111 being  initialized  standardized ConstructorSignature;
let C112 being (expression of C111);
thus L439:now
assume L440: C112 is (quasi-term of C111);
reconsider D68 = C112 as (quasi-term of C111) by L440;
L441: (D68 is  compound or D68 is non  compound);
thus L442: ((( ( C112 . ( {} ) ) `1 ) in ( Constructors ) & ( ( ( C112 . ( {} ) ) `1 ) `1 ) = ( a_Term )) or ( ( C112 . ( {} ) ) `1 ) in ( Vars )) by L441 , L401 , L429;
end;
assume that
L443: ((( ( C112 . ( {} ) ) `1 ) in ( Constructors ) & ( ( ( C112 . ( {} ) ) `1 ) `1 ) = ( a_Term )) or ( ( C112 . ( {} ) ) `1 ) in ( Vars ))
and
L444: (not C112 is (quasi-term of C111));
L445: (( ( C112 . ( {} ) ) `1 ) in ( Vars ) implies (ex B135 being (Element of ( Vars )) st (B135 = ( ( C112 . ( {} ) ) `1 ) & C112 = ( B135 -term C111 )))) by L312;
L446: (( ( C112 . ( {} ) ) `1 ) in ( Constructors ) & ( ( ( C112 . ( {} ) ) `1 ) `1 ) = ( a_Term )) by L445 , L443 , L444;
L447: (ex B136 being (OperSymbol of C111) st (B136 = ( ( C112 . ( {} ) ) `1 ) & ( the_result_sort_of B136 ) = ( B136 `1 ) & C112 is (expression of C111 , ( the_result_sort_of B136 )))) by L446 , L383;
thus L448: thesis by L447 , L444 , L445 , L443;
end;
theorem
L449: (for B137 being  initialized  standardized ConstructorSignature holds (for B138 being (expression of B137) holds (B138 is  positive  positive  positive  positive (quasi-adjective of B137) iff (( ( B138 . ( {} ) ) `1 ) in ( Constructors ) & ( ( ( B138 . ( {} ) ) `1 ) `1 ) = ( an_Adj )))))
proof
let C113 being  initialized  standardized ConstructorSignature;
set D69 = ( MSVars C113 );
set D70 = ( D69 \/ ( (the carrier of C113) --> { ( 0 ) } ) );
let C114 being (expression of C113);
consider C115 being (MSSubset of ( FreeMSA D70 )) such that L450: (( Free (C113 , D69) ) = ( GenMSAlg C115 ) & C115 = ( ( Reverse D70 ) "" D69 )) by MSAFREE3:def 1;
L451: (the Sorts of ( Free (C113 , D69) )) is (MSSubset of ( FreeMSA D70 )) by L450 , MSUALG_2:def 9;
L452: (the Sorts of ( Free (C113 , D69) )) c= (the Sorts of ( FreeMSA D70 )) by L451 , PBOOLE:def 18;
L453: ( (the Sorts of ( Free (C113 , ( MSVars C113 )) )) . ( an_Adj C113 ) ) c= ( (the Sorts of ( FreeMSA D70 )) . ( an_Adj C113 ) ) by L452 , PBOOLE:def 2;
per cases  by L280;
suppose L454: (( ( C114 . ( {} ) ) `1 ) in ( Vars ) & ( ( C114 . ( {} ) ) `2 ) = ( a_Term ) & C114 is (quasi-term of C113));

thus L455: thesis by L454 , L215 , ABCMIZ_1:77 , XBOOLE_0:3;
end;
suppose that L456: ( ( C114 . ( {} ) ) `2 ) = (the carrier of C113)
and
L457: ( ( C114 . ( {} ) ) `1 ) in ( Constructors )
and
L458: ( ( C114 . ( {} ) ) `1 ) in (the carrier' of C113);
reconsider D71 = ( ( C114 . ( {} ) ) `1 ) as (OperSymbol of C113) by L458;
reconsider D72 = C114 as (Term of C113 , D70) by MSAFREE3:8;
L459: (not D71 in { ( * ) , ( non_op ) }) by L457 , ABCMIZ_1:39 , XBOOLE_0:3;
L460: (D71 <> ( * ) & D71 <> ( non_op )) by L459 , TARSKI:def 2;
L461: D71 is  constructor by L460 , ABCMIZ_1:def 11;
L462: ( D71 `1 ) = ( the_result_sort_of D71 ) by L461 , L99;
L463: ( C114 . ( {} ) ) = [ D71 , ( ( C114 . ( {} ) ) `2 ) ] by L1;
L464: ( the_sort_of D72 ) = ( the_result_sort_of D71 ) by L463 , L456 , MSATERM:17;
thus L465:now
assume L466: C114 is  positive  positive  positive  positive (quasi-adjective of C113);
L467: C114 in ( (the Sorts of ( Free (C113 , ( MSVars C113 )) )) . ( an_Adj C113 ) ) by L466 , ABCMIZ_1:def 28;
thus L468: ( ( C114 . ( {} ) ) `1 ) in ( Constructors ) by L457;
assume L469: ( ( ( C114 . ( {} ) ) `1 ) `1 ) <> ( an_Adj );
thus L470: contradiction by L469 , L453 , L467 , L462 , L464 , MSAFREE3:7;
end;
assume L471: ( ( C114 . ( {} ) ) `1 ) in ( Constructors );
assume L472: ( ( ( C114 . ( {} ) ) `1 ) `1 ) = ( an_Adj );
reconsider D73 = C114 as (expression of C113 , ( an_Adj C113 )) by L472 , L456 , L462 , L463 , L257;
L473: D73 is  positive
proof
given C116 being (expression of C113 , ( an_Adj C113 )) such that
L474: D73 = ( ( non_op C113 ) term C116 );

L475: D73 = ( [ ( non_op ) , (the carrier of C113) ] -tree <* C116 *> ) by L474 , ABCMIZ_1:43;
L476: ( D73 . ( {} ) ) = [ ( non_op ) , (the carrier of C113) ] by L475 , TREES_4:def 4;
L477: ( ( D73 . ( {} ) ) `1 ) = ( non_op ) by L476 , MCART_1:7;
L478: ( ( D73 . ( {} ) ) `1 ) in { ( * ) , ( non_op ) } by L477 , TARSKI:def 2;
thus L479: thesis by L478 , L457 , ABCMIZ_1:39 , XBOOLE_0:3;
end;
thus L480: thesis by L473;
end;
suppose L481: ( ( C114 . ( {} ) ) `1 ) = ( * );

L482: ( ( C114 . ( {} ) ) `1 ) in { ( * ) , ( non_op ) } by L481 , TARSKI:def 2;
L483: (not ( ( C114 . ( {} ) ) `1 ) in ( Constructors )) by L482 , ABCMIZ_1:39 , XBOOLE_0:3;
consider C117 being (expression of C113 , ( an_Adj C113 )), C118 being (expression of C113 , ( a_Type C113 )) such that L484: C114 = ( [ ( * ) , 3 ] -tree (C117 , C118) ) by L481 , L328;
L485: C114 = ( [ ( * ) , 3 ] -tree <* C117 , C118 *> ) by L484 , TREES_4:def 6;
L486: ( C114 . ( {} ) ) = [ ( * ) , 3 ] by L485 , TREES_4:def 4;
L487: ( ( C114 . ( {} ) ) `1 ) = ( * ) by L486 , MCART_1:7;
L488: (C114 is (expression of C113 , ( a_Type C113 )) & ( a_Type C113 ) = ( a_Type ) & ( a_Type ) = ( 0 ) & ( an_Adj C113 ) = ( an_Adj ) & ( an_Adj ) = 1) by L487 , L265;
thus L489: thesis by L488 , L483 , ABCMIZ_1:48;
end;
suppose L490: ( ( C114 . ( {} ) ) `1 ) = ( non_op );

L491: ( ( C114 . ( {} ) ) `1 ) in { ( * ) , ( non_op ) } by L490 , TARSKI:def 2;
L492: (not ( ( C114 . ( {} ) ) `1 ) in ( Constructors )) by L491 , ABCMIZ_1:39 , XBOOLE_0:3;
consider C119 being (expression of C113 , ( an_Adj C113 )) such that L493: C114 = ( [ ( non_op ) , 3 ] -tree C119 ) by L490 , L358;
L494: C114 = ( [ ( non_op ) , 3 ] -tree <* C119 *> ) by L493 , TREES_4:def 5
.= ( [ ( non_op ) , (the carrier of C113) ] -tree <* C119 *> ) by ABCMIZ_1:def 9 , YELLOW11:1
.= ( ( non_op C113 ) term C119 ) by ABCMIZ_1:43;
thus L495: thesis by L494 , L492 , ABCMIZ_1:def 37;
end;
end;
theorem
L497: (for B139 being  initialized  standardized ConstructorSignature holds (for B140 being (quasi-adjective of B139) holds (B140 is  negative iff ( ( B140 . ( {} ) ) `1 ) = ( non_op ))))
proof
let C120 being  initialized  standardized ConstructorSignature;
let C121 being (quasi-adjective of C120);
per cases ;
suppose L498: C121 is  positive  positive  positive  positive (expression of C120 , ( an_Adj C120 ));

L499: (( ( C121 . ( {} ) ) `1 ) in ( Constructors ) & ( non_op ) in { ( * ) , ( non_op ) }) by L498 , L449 , TARSKI:def 2;
thus L500: thesis by L499 , L498 , ABCMIZ_1:39 , XBOOLE_0:3;
end;
suppose L501: C121 is  negative  negative  negative  negative (expression of C120 , ( an_Adj C120 ));

consider C122 being (expression of C120 , ( an_Adj C120 )) such that L502: (C122 is  positive & C121 = ( ( non_op C120 ) term C122 )) by L501 , ABCMIZ_1:def 38;
L503: C121 = ( [ ( non_op ) , (the carrier of C120) ] -tree <* C122 *> ) by L502 , ABCMIZ_1:43;
L504: ( C121 . ( {} ) ) = [ ( non_op ) , (the carrier of C120) ] by L503 , TREES_4:def 4;
thus L505: thesis by L504 , L501 , MCART_1:7;
end;
end;
theorem
L507: (for B141 being  initialized  standardized ConstructorSignature holds (for B142 being (expression of B141) holds (B142 is  pure  pure  pure  pure (expression of B141 , ( a_Type B141 )) iff (( ( B142 . ( {} ) ) `1 ) in ( Constructors ) & ( ( ( B142 . ( {} ) ) `1 ) `1 ) = ( a_Type )))))
proof
let C123 being  initialized  standardized ConstructorSignature;
set D74 = ( MSVars C123 );
set D75 = ( D74 \/ ( (the carrier of C123) --> { ( 0 ) } ) );
let C124 being (expression of C123);
consider C125 being (MSSubset of ( FreeMSA D75 )) such that L508: (( Free (C123 , D74) ) = ( GenMSAlg C125 ) & C125 = ( ( Reverse D75 ) "" D74 )) by MSAFREE3:def 1;
L509: (the Sorts of ( Free (C123 , D74) )) is (MSSubset of ( FreeMSA D75 )) by L508 , MSUALG_2:def 9;
L510: (the Sorts of ( Free (C123 , D74) )) c= (the Sorts of ( FreeMSA D75 )) by L509 , PBOOLE:def 18;
L511: ( (the Sorts of ( Free (C123 , ( MSVars C123 )) )) . ( a_Type C123 ) ) c= ( (the Sorts of ( FreeMSA D75 )) . ( a_Type C123 ) ) by L510 , PBOOLE:def 2;
per cases  by L280;
suppose L512: (( ( C124 . ( {} ) ) `1 ) in ( Vars ) & ( ( C124 . ( {} ) ) `2 ) = ( a_Term ) & C124 is (quasi-term of C123));

thus L513: thesis by L512 , L215 , ABCMIZ_1:48 , XBOOLE_0:3;
end;
suppose that L514: ( ( C124 . ( {} ) ) `2 ) = (the carrier of C123)
and
L515: ( ( C124 . ( {} ) ) `1 ) in ( Constructors )
and
L516: ( ( C124 . ( {} ) ) `1 ) in (the carrier' of C123);
reconsider D76 = ( ( C124 . ( {} ) ) `1 ) as (OperSymbol of C123) by L516;
reconsider D77 = C124 as (Term of C123 , D75) by MSAFREE3:8;
L517: (not D76 in { ( * ) , ( non_op ) }) by L515 , ABCMIZ_1:39 , XBOOLE_0:3;
L518: (D76 <> ( * ) & D76 <> ( non_op )) by L517 , TARSKI:def 2;
L519: D76 is  constructor by L518 , ABCMIZ_1:def 11;
L520: ( D76 `1 ) = ( the_result_sort_of D76 ) by L519 , L99;
L521: ( C124 . ( {} ) ) = [ D76 , ( ( C124 . ( {} ) ) `2 ) ] by L1;
L522: ( the_sort_of D77 ) = ( the_result_sort_of D76 ) by L521 , L514 , MSATERM:17;
thus L523:now
assume L524: C124 is  pure  pure  pure  pure (expression of C123 , ( a_Type C123 ));
L525: C124 in ( (the Sorts of ( Free (C123 , ( MSVars C123 )) )) . ( a_Type C123 ) ) by L524 , ABCMIZ_1:def 28;
thus L526: ( ( C124 . ( {} ) ) `1 ) in ( Constructors ) by L515;
assume L527: ( ( ( C124 . ( {} ) ) `1 ) `1 ) <> ( a_Type );
thus L528: contradiction by L527 , L511 , L525 , L520 , L522 , MSAFREE3:7;
end;
assume L529: ( ( C124 . ( {} ) ) `1 ) in ( Constructors );
assume L530: ( ( ( C124 . ( {} ) ) `1 ) `1 ) = ( a_Type );
reconsider D78 = C124 as (expression of C123 , ( a_Type C123 )) by L530 , L514 , L521 , L257 , L520;
L531: D78 is  pure
proof
given C126 being (expression of C123 , ( an_Adj C123 )) , C127 being (expression of C123 , ( a_Type C123 )) such that
L532: D78 = ( ( ast C123 ) term (C126 , C127) );

L533: D78 = ( [ ( * ) , (the carrier of C123) ] -tree <* C126 , C127 *> ) by L532 , ABCMIZ_1:46;
L534: ( D78 . ( {} ) ) = [ ( * ) , (the carrier of C123) ] by L533 , TREES_4:def 4;
L535: ( ( D78 . ( {} ) ) `1 ) = ( * ) by L534 , MCART_1:7;
L536: ( ( D78 . ( {} ) ) `1 ) in { ( * ) , ( non_op ) } by L535 , TARSKI:def 2;
thus L537: thesis by L536 , L515 , ABCMIZ_1:39 , XBOOLE_0:3;
end;
thus L538: thesis by L531;
end;
suppose L539: ( ( C124 . ( {} ) ) `1 ) = ( * );

L540: ( ( C124 . ( {} ) ) `1 ) in { ( * ) , ( non_op ) } by L539 , TARSKI:def 2;
L541: (not ( ( C124 . ( {} ) ) `1 ) in ( Constructors )) by L540 , ABCMIZ_1:39 , XBOOLE_0:3;
consider C128 being (expression of C123 , ( an_Adj C123 )), C129 being (expression of C123 , ( a_Type C123 )) such that L542: C124 = ( [ ( * ) , 3 ] -tree (C128 , C129) ) by L539 , L328;
L543: C124 = ( [ ( * ) , 3 ] -tree <* C128 , C129 *> ) by L542 , TREES_4:def 6
.= ( [ ( * ) , (the carrier of C123) ] -tree <* C128 , C129 *> ) by ABCMIZ_1:def 9 , YELLOW11:1
.= ( ( ast C123 ) term (C128 , C129) ) by ABCMIZ_1:46;
thus L544: thesis by L543 , L541 , ABCMIZ_1:def 41;
end;
suppose L545: ( ( C124 . ( {} ) ) `1 ) = ( non_op );

L546: ( ( C124 . ( {} ) ) `1 ) in { ( * ) , ( non_op ) } by L545 , TARSKI:def 2;
L547: (not ( ( C124 . ( {} ) ) `1 ) in ( Constructors )) by L546 , ABCMIZ_1:39 , XBOOLE_0:3;
consider C130 being (expression of C123 , ( an_Adj C123 )) such that L548: C124 = ( [ ( non_op ) , 3 ] -tree C130 ) by L545 , L358;
L549: C124 = ( [ ( non_op ) , 3 ] -tree <* C130 *> ) by L548 , TREES_4:def 5;
L550: ( C124 . ( {} ) ) = [ ( non_op ) , 3 ] by L549 , TREES_4:def 4;
L551: ( ( C124 . ( {} ) ) `1 ) = ( non_op ) by L550 , MCART_1:7;
L552: C124 is (expression of C123 , ( an_Adj C123 )) by L551 , L265;
thus L553: thesis by L552 , L547 , ABCMIZ_1:48;
end;
end;
begin
set D79 = ( MaxConstrSign );
definition
mode expression
 is (expression of ( MaxConstrSign ));
mode valuation
 is (valuation of ( MaxConstrSign ));
mode quasi-adjective
 is (quasi-adjective of ( MaxConstrSign ));
func QuasiAdjs -> (Subset of ( Free (( MaxConstrSign ) , ( MSVars ( MaxConstrSign ) )) )) equals 
( QuasiAdjs ( MaxConstrSign ) );
coherence;
mode quasi-term
 is (quasi-term of ( MaxConstrSign ));
func QuasiTerms -> (Subset of ( Free (( MaxConstrSign ) , ( MSVars ( MaxConstrSign ) )) )) equals 
( QuasiTerms ( MaxConstrSign ) );
coherence;
mode quasi-type
 is (quasi-type of ( MaxConstrSign ));
func QuasiTypes equals 
( QuasiTypes ( MaxConstrSign ) );
coherence;
end;
registration
cluster ( QuasiAdjs ) -> non  empty;
coherence;
cluster ( QuasiTerms ) -> non  empty;
coherence;
cluster ( QuasiTypes ) -> non  empty;
coherence;
end;
definition
redefine func Modes -> non  empty (Subset of ( Constructors ));

coherence
proof
L557: (( Modes ) c= ( ( Modes ) \/ ( Attrs ) ) & ( ( Modes ) \/ ( Attrs ) ) c= ( Constructors )) by XBOOLE_1:7;
thus L558: thesis by L557 , XBOOLE_1:1;
end;
redefine func Attrs -> non  empty (Subset of ( Constructors ));

coherence
proof
L559: (( Attrs ) c= ( ( Modes ) \/ ( Attrs ) ) & ( ( Modes ) \/ ( Attrs ) ) c= ( Constructors )) by XBOOLE_1:7;
thus L560: thesis by L559 , XBOOLE_1:1;
end;
redefine func Funcs -> non  empty (Subset of ( Constructors ));

coherence by XBOOLE_1:7;
end;
definition
func set-constr -> (Element of ( Modes )) equals 
[ ( a_Type ) , [ ( {} ) , ( 0 ) ] ];
coherence
proof
L562: (( a_Type ) in { ( a_Type ) } & [ ( {} ) , ( 0 ) ] in [: ( QuasiLoci ) , ( NAT ) :]) by ABCMIZ_1:29 , TARSKI:def 1 , ZFMISC_1:def 2;
thus L563: thesis by L562 , ZFMISC_1:def 2;
end;
end;
theorem
L565: (( kind_of ( set-constr ) ) = ( a_Type ) & ( loci_of ( set-constr ) ) = ( {} ) & ( index_of ( set-constr ) ) = ( 0 ))
proof
L566: ( ( set-constr ) `2 ) = [ ( {} ) , ( 0 ) ] by MCART_1:7;
thus L567: thesis by L566 , MCART_1:7;
end;
theorem
L568: ( Constructors ) = [: { ( a_Type ) , ( an_Adj ) , ( a_Term ) } , [: ( QuasiLoci ) , ( NAT ) :] :]
proof
thus L569: ( Constructors ) = ( ( [: { ( a_Type ) } , [: ( QuasiLoci ) , ( NAT ) :] :] \/ [: { ( an_Adj ) } , [: ( QuasiLoci ) , ( NAT ) :] :] ) \/ ( Funcs ) )
.= ( [: ( { ( a_Type ) } \/ { ( an_Adj ) } ) , [: ( QuasiLoci ) , ( NAT ) :] :] \/ ( Funcs ) ) by ZFMISC_1:97
.= ( [: { ( a_Type ) , ( an_Adj ) } , [: ( QuasiLoci ) , ( NAT ) :] :] \/ ( Funcs ) ) by ENUMSET1:1
.= [: ( { ( a_Type ) , ( an_Adj ) } \/ { ( a_Term ) } ) , [: ( QuasiLoci ) , ( NAT ) :] :] by ZFMISC_1:97
.= [: { ( a_Type ) , ( an_Adj ) , ( a_Term ) } , [: ( QuasiLoci ) , ( NAT ) :] :] by ENUMSET1:3;
end;
theorem
L570: (for R3 being Nat holds (for R6 being quasi-loci holds ([ ( rng R6 ) , R3 ] in ( Vars ) & ( R6 ^ <* [ ( rng R6 ) , R3 ] *> ) is quasi-loci)))
proof
let R3 being Nat;
let R6 being quasi-loci;
L571: ( varcl ( rng R6 ) ) = ( rng R6 ) by ABCMIZ_1:33;
thus L572: [ ( rng R6 ) , R3 ] in ( Vars ) by L571 , ABCMIZ_1:17;
reconsider D80 = [ ( rng R6 ) , R3 ] as variable by L572;
L573: (( rng R6 ) in { ( rng R6 ) , R3 } & { ( rng R6 ) , R3 } in D80) by TARSKI:def 2;
L574: (( vars D80 ) = ( rng R6 ) & D80 nin ( rng R6 )) by L573 , MCART_1:7 , XREGULAR:7;
thus L575: thesis by L574 , ABCMIZ_1:31;
end;
theorem
L576: (for R3 being Nat holds (ex R6 being quasi-loci st ( len R6 ) = R3))
proof
let R3 being Nat;
defpred S6[ Nat ] means (ex R6 being quasi-loci st ( len R6 ) = $1);
L577: (( <*> ( Vars ) ) is quasi-loci & ( len ( <*> ( Vars ) ) ) = ( 0 )) by ABCMIZ_1:29;
L578: S6[ ( 0 ) ] by L577;
L579: (for R4 being Nat holds (S6[ R4 ] implies S6[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
given R6 being quasi-loci such that
L580: ( len R6 ) = R4;

reconsider D81 = ( R6 ^ <* [ ( rng R6 ) , 1 ] *> ) as quasi-loci by L570;
take D81;
thus L581: thesis by L580 , FINSEQ_2:16;
end;
L582: (for R4 being Nat holds S6[ R4 ]) from NAT_1:sch 2(L578 , L579);
thus L583: thesis by L582;
end;
theorem
L584: (for B143 being  finite (Subset of ( Vars )) holds (ex R6 being quasi-loci st ( rng R6 ) = ( varcl B143 )))
proof
let C131 being  finite (Subset of ( Vars ));
reconsider D82 = ( varcl C131 ) as  finite (Subset of ( Vars )) by ABCMIZ_1:24;
defpred S7[ set , set ] means $1 in ( $2 `1 );
L585: (for B144 , B145 being set holds ((B144 in D82 & B145 in D82 & S7[ B144 , B145 ]) implies (not S7[ B145 , B144 ])))
proof
let C132 , C133 being set;
assume that
L586: (C132 in D82 & C133 in D82 & S7[ C132 , C133 ] & S7[ C133 , C132 ]);
L587: C132 in ( Vars ) by L586;
consider C134 being (Subset of ( Vars )), C135 being (Element of ( NAT )) such that L588: (C132 = [ ( varcl C134 ) , C135 ] & C134 is  finite) by L587 , ABCMIZ_1:18;
L589: C133 in ( Vars ) by L586;
consider C136 being (Subset of ( Vars )), C137 being (Element of ( NAT )) such that L590: (C133 = [ ( varcl C136 ) , C137 ] & C136 is  finite) by L589 , ABCMIZ_1:18;
L591: (C133 in ( varcl C134 ) & C132 in ( varcl C136 )) by L586 , L588 , L590 , MCART_1:7;
L592: (( varcl C134 ) in { ( varcl C134 ) } & ( varcl C136 ) in { ( varcl C136 ) }) by TARSKI:def 1;
L593: ({ ( varcl C134 ) } in C132 & { ( varcl C136 ) } in C133) by L590 , L588 , TARSKI:def 2;
thus L594: thesis by L593 , L591 , L592 , XREGULAR:10;
end;
L595: (for B146 , B147 , B148 being set holds ((B146 in D82 & B147 in D82 & B148 in D82 & S7[ B146 , B147 ] & S7[ B147 , B148 ]) implies S7[ B146 , B148 ]))
proof
let C138 , C139 , C140 being set;
assume that
L596: (C138 in D82 & C139 in D82 & C140 in D82 & S7[ C138 , C139 ] & S7[ C139 , C140 ]);
L597: C139 in ( Vars ) by L596;
consider C141 being (Subset of ( Vars )), C142 being (Element of ( NAT )) such that L598: (C139 = [ ( varcl C141 ) , C142 ] & C141 is  finite) by L597 , ABCMIZ_1:18;
L599: C140 in ( Vars ) by L596;
consider C143 being (Subset of ( Vars )), C144 being (Element of ( NAT )) such that L600: (C140 = [ ( varcl C143 ) , C144 ] & C143 is  finite) by L599 , ABCMIZ_1:18;
L601: (( C140 `1 ) = ( varcl C143 ) & ( C139 `1 ) = ( varcl C141 )) by L600 , L598 , MCART_1:7;
L602: ( varcl C141 ) c= ( varcl C143 ) by L601 , L596 , L598 , ABCMIZ_1:def 1;
thus L603: S7[ C138 , C140 ] by L602 , L601 , L596;
end;
consider C145 being  one-to-one FinSequence such that L604: ( rng C145 ) = D82 and L605: (for R3 being Nat holds (for R4 being Nat holds ((R3 in ( dom C145 ) & R4 in ( dom C145 ) & S7[ ( C145 . R3 ) , ( C145 . R4 ) ]) implies R3 < R4))) from Numeration(L585 , L595);
reconsider D83 = C145 as  one-to-one (FinSequence of ( Vars )) by L604 , FINSEQ_1:def 4;
L606:
now
let C146 being Nat;
let C147 being variable;
assume L607: (C146 in ( dom D83 ) & C147 = ( D83 . C146 ));
let C148 being variable;
assume L608: C148 in ( vars C147 );
L609: C147 in ( Vars );
consider C149 being (Subset of ( Vars )), C150 being (Element of ( NAT )) such that L610: (C147 = [ ( varcl C149 ) , C150 ] & C149 is  finite) by L609 , ABCMIZ_1:18;
L611: (C147 in ( rng D83 ) & ( vars C147 ) = ( varcl C149 )) by L607 , L610 , FUNCT_1:def 3 , MCART_1:7;
L612: ( vars C147 ) c= D82 by L611 , L604 , L610 , ABCMIZ_1:def 1;
consider C151 being set such that L613: (C151 in ( dom D83 ) & C148 = ( D83 . C151 )) by L612 , L604 , L608 , FUNCT_1:def 3;
reconsider D84 = C151 as Nat by L613;
take D85 = D84;
thus L614: (D85 in ( dom D83 ) & D85 < C146 & C148 = ( D83 . D85 )) by L605 , L607 , L608 , L613;
end;
reconsider D86 = D83 as quasi-loci by L606 , ABCMIZ_1:30;
take D86;
thus L615: ( rng D86 ) = ( varcl C131 ) by L604;
end;
theorem
L616: (for B149 , B150 being set holds (for B151 being  DTree-yielding FinSequence holds ((ex R7 being  initialized ConstructorSignature st B149 = ( Union (the Sorts of ( Free (R7 , ( MSVars R7 )) )) )) implies (( B150 -tree B151 ) in B149 implies B151 is (FinSequence of B149)))))
proof
let C152 , C153 being set;
let C154 being  DTree-yielding FinSequence;
given R7 being  initialized ConstructorSignature such that
L617: C152 = ( Union (the Sorts of ( Free (R7 , ( MSVars R7 )) )) );

assume L618: ( C153 -tree C154 ) in C152;
reconsider D87 = ( C153 -tree C154 ) as (expression of R7) by L618 , L617;
L619: ( rng C154 ) c= C152
proof
let C155 being set;
assume L620: C155 in ( rng C154 );
consider C156 being set such that L621: (C156 in ( dom C154 ) & C155 = ( C154 . C156 )) by L620 , FUNCT_1:def 3;
reconsider D88 = C156 as Nat by L621;
reconsider D89 = ( C154 . D88 ) as DecoratedTree by L621 , TREES_3:24;
L622: (1 <= D88 & D88 <= ( len C154 )) by L621 , FINSEQ_3:25;
L623: ( ( D88 -' 1 ) + 1 ) = D88 by L622 , XREAL_1:235;
L624: ( D88 -' 1 ) < ( len C154 ) by L623 , L622 , NAT_1:13;
L625: ( len ( doms C154 ) ) = ( len C154 ) by TREES_3:38;
L626: ( ( doms C154 ) . D88 ) = ( dom D89 ) by L621 , FUNCT_6:22;
L627: ( dom D87 ) = ( tree ( doms C154 ) ) by TREES_4:10;
L628: (( <* ( D88 -' 1 ) *> ^ ( <*> ( NAT ) ) ) = <* ( D88 -' 1 ) *> & ( <*> ( NAT ) ) in ( dom D89 )) by FINSEQ_1:34 , TREES_1:22;
reconsider D90 = <* ( D88 -' 1 ) *> as (Element of ( dom D87 )) by L628 , L623 , L624 , L625 , L626 , L627 , TREES_3:def 15;
L629: ( D87 | D90 ) = C155 by L621 , L623 , L624 , TREES_4:def 4;
L630: C155 is (Element of ( Free (R7 , ( MSVars R7 )) )) by L629 , MSAFREE3:33;
thus L631: thesis by L630 , L617;
end;
thus L632: C154 is (FinSequence of C152) by L619 , FINSEQ_1:def 4;
end;
definition
let R7 being  initialized ConstructorSignature;
let C157 being (expression of R7);
mode subexpression of C157
 -> (expression of R7)
means it in ( Subtrees C157 );
existence by TREES_9:11;
func constrs C157 equals 
( ( proj1 ( rng C157 ) ) /\ { B152 where B152 is  constructor (OperSymbol of R7) : (not contradiction) } );
coherence;
func main-constr C157 equals 
:L633: ( ( C157 . ( {} ) ) `1 ) if C157 is  compound otherwise ( {} );
correctness;
func args C157 -> (FinSequence of ( Free (R7 , ( MSVars R7 )) )) means 
C157 = ( ( C157 . ( {} ) ) -tree it );
existence
proof
consider C158 being set, C159 being  DTree-yielding FinSequence such that L634: C157 = ( C158 -tree C159 ) by TREES_9:8;
L635: C158 = ( C157 . ( {} ) ) by L634 , TREES_4:def 4;
L636: C159 is (FinSequence of ( Free (R7 , ( MSVars R7 )) )) by L634 , L616;
thus L637: thesis by L636 , L634 , L635;
end;
uniqueness by TREES_4:15;
end;
theorem
L639: (for R7 being  initialized ConstructorSignature holds (for B153 being (expression of R7) holds B153 is (subexpression of B153)))
proof
let C160 being  initialized ConstructorSignature;
let C161 being (expression of C160);
thus L640: C161 in ( Subtrees C161 ) by TREES_9:11;
end;
theorem
L641: (for R5 being variable holds (for R7 being  initialized ConstructorSignature holds ( main-constr ( R5 -term R7 ) ) = ( {} ))) by L633;
theorem
L642: (for R7 being  initialized ConstructorSignature holds (for B154 being  constructor (OperSymbol of R7) holds (for B155 being (FinSequence of ( QuasiTerms R7 )) holds (( len B155 ) = ( len ( the_arity_of B154 ) ) implies ( main-constr ( B154 -trm B155 ) ) = B154))))
proof
let R7 being  initialized ConstructorSignature;
let C162 being  constructor (OperSymbol of R7);
let C163 being (FinSequence of ( QuasiTerms R7 ));
assume L643: ( len C163 ) = ( len ( the_arity_of C162 ) );
L644: ( C162 -trm C163 ) = ( [ C162 , (the carrier of R7) ] -tree C163 ) by L643 , ABCMIZ_1:def 35;
L645: ( ( C162 -trm C163 ) . ( {} ) ) = [ C162 , (the carrier of R7) ] by L644 , TREES_4:def 4;
thus L646: ( main-constr ( C162 -trm C163 ) ) = ( [ C162 , (the carrier of R7) ] `1 ) by L645 , L633
.= C162;
end;
definition
let R7 being  initialized ConstructorSignature;
let C164 being (expression of R7);
attr C164 is  constructor
means
:L647: (C164 is  compound & ( main-constr C164 ) is  constructor  constructor  constructor  constructor (OperSymbol of R7));
end;
registration
let R7 being  initialized ConstructorSignature;
cluster  constructor ->  compound for (expression of R7);
coherence by L647;
end;
registration
let R7 being  initialized ConstructorSignature;
cluster  constructor for (expression of R7);
existence
proof
consider C165 , C166 being (OperSymbol of R7) such that L650: (( the_result_sort_of C165 ) = ( a_Type ) & ( the_arity_of C165 ) = ( {} ) & ( the_result_sort_of C166 ) = ( an_Adj ) & ( the_arity_of C166 ) = ( {} )) by ABCMIZ_1:def 12;
L651: (( the_arity_of ( ast R7 ) ) = <* ( an_Adj R7 ) , ( a_Type R7 ) *> & ( the_arity_of ( non_op R7 ) ) = <* ( an_Adj R7 ) *>) by ABCMIZ_1:38;
reconsider D91 = C165 as  constructor (OperSymbol of R7) by L651 , L650 , ABCMIZ_1:def 11;
set D92 = ( <*> ( QuasiTerms R7 ) );
take D93 = ( D91 -trm D92 );
thus L652: D93 is  compound;
L653: ( len D92 ) = ( len ( the_arity_of D91 ) ) by L650;
thus L654: thesis by L653 , L642;
end;
end;
registration
let R7 being  initialized ConstructorSignature;
let C167 being  constructor (expression of R7);
cluster  constructor for (subexpression of C167);
existence
proof
L656: C167 is (subexpression of C167) by L639;
thus L657: thesis by L656;
end;
end;
registration
let C168 being non  void Signature;
let C169 being non  empty-yielding (ManySortedSet of C168);
let C170 being (Element of ( Free (C168 , C169) ));
cluster ( rng C170 ) ->  Relation-like;
coherence
proof
set D94 = ( (the carrier of C168) --> { ( 0 ) } );
set D95 = ( C169 \/ D94 );
L659: C170 is (Term of C168 , D95) by MSAFREE3:8;
L660: ( rng C170 ) c= (the carrier of ( DTConMSA D95 )) by L659 , RELAT_1:def 19;
thus L661: thesis by L660;
end;
end;
theorem
L663: (for R7 being  initialized ConstructorSignature holds (for B156 being  constructor (expression of R7) holds ( main-constr B156 ) in ( constrs B156 )))
proof
let R7 being  initialized ConstructorSignature;
let C171 being  constructor (expression of R7);
L664: ( main-constr C171 ) = ( ( C171 . ( {} ) ) `1 ) by L633;
L665: ( {} ) in ( dom C171 ) by TREES_1:22;
L666: ( C171 . ( {} ) ) in ( rng C171 ) by L665 , FUNCT_1:def 3;
L667: ( main-constr C171 ) in ( proj1 ( rng C171 ) ) by L666 , L664 , MCART_1:86;
L668: ( main-constr C171 ) is  constructor  constructor  constructor  constructor (OperSymbol of R7) by L647;
L669: ( main-constr C171 ) in { R8 where R8 is  constructor (OperSymbol of R7) : (not contradiction) } by L668;
thus L670: ( main-constr C171 ) in ( constrs C171 ) by L669 , L667 , XBOOLE_0:def 4;
end;
begin
definition
let C172 being non  void Signature;
attr C172 is  arity-rich
means
:L671: (for B157 being Nat holds (for B158 being (SortSymbol of C172) holds { B159 where B159 is (OperSymbol of C172) : (( the_result_sort_of B159 ) = B158 & ( len ( the_arity_of B159 ) ) = B157) } is  infinite));
let C173 being (OperSymbol of C172);
attr C173 is  nullary
means
:L672: ( the_arity_of C173 ) = ( {} );
attr C173 is  unary
means
:L673: ( len ( the_arity_of C173 ) ) = 1;
attr C173 is  binary
means
:L674: ( len ( the_arity_of C173 ) ) = 2;
end;
theorem
L676: (for B160 being non  void Signature holds (for B161 being (OperSymbol of B160) holds ((B161 is  nullary implies (not B161 is  unary)) & (B161 is  nullary implies (not B161 is  binary)) & (B161 is  unary implies (not B161 is  binary)))))
proof
let C174 being non  void Signature;
let C175 being (OperSymbol of C174);
thus L677: (C175 is  nullary implies (not C175 is  unary))
proof
assume L678: ( the_arity_of C175 ) = ( {} );
thus L679: ( len ( the_arity_of C175 ) ) <> 1 by L678;
end;

thus L680: (C175 is  nullary implies (not C175 is  binary))
proof
assume L681: ( the_arity_of C175 ) = ( {} );
thus L682: ( len ( the_arity_of C175 ) ) <> 2 by L681;
end;

assume L683: ( len ( the_arity_of C175 ) ) = 1;
thus L684: ( len ( the_arity_of C175 ) ) <> 2 by L683;
end;
registration
let C176 being ConstructorSignature;
cluster ( non_op C176 ) ->  unary;
coherence
proof
L685: ( the_arity_of ( non_op C176 ) ) = <* ( an_Adj C176 ) *> by ABCMIZ_1:38;
thus L686: ( len ( the_arity_of ( non_op C176 ) ) ) = 1 by L685 , FINSEQ_1:39;
end;
cluster ( ast C176 ) ->  binary;
coherence
proof
L687: ( the_arity_of ( ast C176 ) ) = <* ( an_Adj C176 ) , ( a_Type C176 ) *> by ABCMIZ_1:38;
thus L688: ( len ( the_arity_of ( ast C176 ) ) ) = 2 by L687 , FINSEQ_1:44;
end;
end;
registration
let C177 being ConstructorSignature;
cluster  nullary ->  constructor for (OperSymbol of C177);
coherence
proof
let C178 being (OperSymbol of C177);
assume that
L690: ( the_arity_of C178 ) = ( {} );
L691: (( the_arity_of ( ast C177 ) ) = <* ( an_Adj C177 ) , ( a_Type C177 ) *> & ( the_arity_of ( non_op C177 ) ) = <* ( an_Adj C177 ) *>) by ABCMIZ_1:38;
thus L692: (C178 <> ( * ) & C178 <> ( non_op )) by L691 , L690;
end;
end;
theorem
L694: (for B162 being ConstructorSignature holds (B162 is  initialized iff (ex B163 being (OperSymbol of ( a_Type B162 )) st (ex B164 being (OperSymbol of ( an_Adj B162 )) st (B163 is  nullary & B164 is  nullary)))))
proof
let C179 being ConstructorSignature;
thus L695:now
assume L696: C179 is  initialized;
consider C180 , C181 being (OperSymbol of C179) such that L697: (( the_result_sort_of C180 ) = ( a_Type ) & ( the_arity_of C180 ) = ( {} ) & ( the_result_sort_of C181 ) = ( an_Adj ) & ( the_arity_of C181 ) = ( {} )) by L696 , ABCMIZ_1:def 12;
reconsider D96 = C180 as (OperSymbol of ( a_Type C179 )) by L697 , ABCMIZ_1:def 32;
reconsider D97 = C181 as (OperSymbol of ( an_Adj C179 )) by L697 , ABCMIZ_1:def 32;
take D98 = D96;
take D99 = D97;
thus L698: D98 is  nullary
proof
thus L699: ( the_arity_of D98 ) = ( {} ) by L697;
end;

thus L700: D99 is  nullary
proof
thus L701: ( the_arity_of D99 ) = ( {} ) by L697;
end;

end;
given C182 being (OperSymbol of ( a_Type C179 )) , C183 being (OperSymbol of ( an_Adj C179 )) such that
L701: (C182 is  nullary & C183 is  nullary);

take C182;
take C183;
L702: (( the_result_sort_of ( non_op C179 ) ) = ( an_Adj C179 ) & ( the_result_sort_of ( ast C179 ) ) = ( a_Type C179 )) by ABCMIZ_1:38;
thus L703: thesis by L702 , L701 , L672 , ABCMIZ_1:def 32;
end;
registration
let C184 being  initialized ConstructorSignature;
cluster  nullary  constructor for (OperSymbol of ( a_Type C184 ));
existence
proof
consider C185 being (OperSymbol of ( a_Type C184 )), C186 being (OperSymbol of ( an_Adj C184 )) such that L704: (C185 is  nullary & C186 is  nullary) by L694;
take C185;
thus L705: thesis by L704;
end;
cluster  nullary  constructor for (OperSymbol of ( an_Adj C184 ));
existence
proof
consider C187 being (OperSymbol of ( a_Type C184 )), C188 being (OperSymbol of ( an_Adj C184 )) such that L706: (C187 is  nullary & C188 is  nullary) by L694;
take C188;
thus L707: thesis by L706;
end;
end;
registration
let C189 being  initialized ConstructorSignature;
cluster  nullary  constructor for (OperSymbol of C189);
existence
proof
set D100 = the  nullary  constructor (OperSymbol of ( a_Type C189 ));
take D100;
thus L709: thesis;
end;
end;
registration
cluster  arity-rich ->  with_an_operation_for_each_sort for non  void non  void non  void non  void Signature;
coherence
proof
let C190 being non  void Signature;
assume that
L711: (for B165 being Nat holds (for B166 being (SortSymbol of C190) holds { B167 where B167 is (OperSymbol of C190) : (( the_result_sort_of B167 ) = B166 & ( len ( the_arity_of B167 ) ) = B165) } is  infinite));
let C191 being set;
assume L712: C191 in (the carrier of C190);
reconsider D101 = C191 as (SortSymbol of C190) by L712;
set D102 = { B168 where B168 is (OperSymbol of C190) : (( the_result_sort_of B168 ) = D101 & ( len ( the_arity_of B168 ) ) = ( 0 )) };
reconsider D103 = D102 as  infinite set by L711;
set D104 = the (Element of D103);
L713: D104 in D103;
consider C192 being (OperSymbol of C190) such that L714: (D104 = C192 & ( the_result_sort_of C192 ) = D101 & ( len ( the_arity_of C192 ) ) = ( 0 )) by L713;
thus L715: thesis by L714 , FUNCT_2:4;
end;
cluster  arity-rich ->  initialized for ConstructorSignature;
coherence
proof
let C193 being ConstructorSignature;
assume that
L716: C193 is  arity-rich;
set D105 = { B169 where B169 is (OperSymbol of C193) : (( the_result_sort_of B169 ) = ( a_Type C193 ) & ( len ( the_arity_of B169 ) ) = ( 0 )) };
set D106 = the (Element of D105);
L717: D105 is  infinite  infinite  infinite  infinite set by L716 , L671;
L718: D106 in D105 by L717;
consider C194 being (OperSymbol of C193) such that L719: (D106 = C194 & ( the_result_sort_of C194 ) = ( a_Type C193 ) & ( len ( the_arity_of C194 ) ) = ( 0 )) by L718;
set D107 = { B170 where B170 is (OperSymbol of C193) : (( the_result_sort_of B170 ) = ( an_Adj C193 ) & ( len ( the_arity_of B170 ) ) = ( 0 )) };
set D108 = the (Element of D107);
L720: D107 is  infinite  infinite  infinite  infinite set by L716 , L671;
L721: D108 in D107 by L720;
consider C195 being (OperSymbol of C193) such that L722: (D108 = C195 & ( the_result_sort_of C195 ) = ( an_Adj C193 ) & ( len ( the_arity_of C195 ) ) = ( 0 )) by L721;
take C194;
take C195;
thus L723: thesis by L719 , L722;
end;
end;
registration
cluster ( MaxConstrSign ) ->  arity-rich;
coherence
proof
set D109 = ( MaxConstrSign );
let C196 being Nat;
let C197 being (SortSymbol of D109);
L725: (the carrier of D109) = { ( 0 ) , 1 , 2 } by ABCMIZ_1:def 9;
set D110 = { B171 where B171 is (OperSymbol of D109) : (( the_result_sort_of B171 ) = C197 & ( len ( the_arity_of B171 ) ) = C196) };
consider C198 being quasi-loci such that L726: ( len C198 ) = C196 by L576;
deffunc H1(set) = [ C197 , [ C198 , $1 ] ];
consider C199 being Function such that L727: (( dom C199 ) = ( NAT ) & (for B172 being set holds (B172 in ( NAT ) implies ( C199 . B172 ) = H1(B172)))) from FUNCT_1:sch 3;
L728: C199 is  one-to-one
proof
let C200 , C201 being set;
assume L729: (C200 in ( dom C199 ) & C201 in ( dom C199 ));
reconsider D111 = C200 , D112 = C201 as (Element of ( NAT )) by L729 , L727;
L730: (( C199 . D111 ) = H1(D111) & ( C199 . D112 ) = H1(D112)) by L727;
L731: (( C199 . D111 ) = ( C199 . D112 ) implies [ C198 , D111 ] = [ C198 , D112 ]) by L730 , XTUPLE_0:1;
thus L732: thesis by L731 , XTUPLE_0:1;
end;
L733: ( rng C199 ) is  infinite by L728 , L727 , CARD_1:59;
L734: ( rng C199 ) c= D110
proof
let C202 being set;
assume L735: C202 in ( rng C199 );
consider C203 being set such that L736: (C203 in ( dom C199 ) & C202 = ( C199 . C203 )) by L735 , FUNCT_1:def 3;
reconsider D113 = C203 as (Element of ( NAT )) by L727 , L736;
L737: ([ C198 , D113 ] in [: ( QuasiLoci ) , ( NAT ) :] & C202 = H1(D113)) by L727 , L736;
L738: C202 in ( Constructors ) by L737 , L725 , L568 , ZFMISC_1:def 2;
L739: C202 in ( { ( * ) , ( non_op ) } \/ ( Constructors ) ) by L738 , XBOOLE_0:def 3;
reconsider D114 = C202 as (OperSymbol of D109) by L739 , ABCMIZ_1:def 24;
L740: D114 is  constructor by L737 , ABCMIZ_1:def 11;
L741: ( the_result_sort_of D114 ) = ( D114 `1 ) by L740 , ABCMIZ_1:def 24
.= C197 by L737 , MCART_1:7;
L742: ( len ( the_arity_of D114 ) ) = ( card ( ( D114 `2 ) `1 ) ) by L740 , ABCMIZ_1:def 24
.= ( card ( [ C198 , D113 ] `1 ) ) by L737 , MCART_1:7
.= ( len C198 );
thus L743: thesis by L742 , L726 , L741;
end;
thus L744: D110 is  infinite by L734 , L733;
end;
end;
registration
cluster  arity-rich  initialized for ConstructorSignature;
existence
proof
take ( MaxConstrSign );
thus L746: thesis;
end;
end;
registration
let C204 being  arity-rich ConstructorSignature;
let C205 being (SortSymbol of C204);
cluster  nullary  constructor for (OperSymbol of C205);
existence
proof
set D115 = { B173 where B173 is (OperSymbol of C204) : (( the_result_sort_of B173 ) = C205 & ( len ( the_arity_of B173 ) ) = ( 0 )) };
L748: D115 is  infinite by L671;
consider C206 , C207 being set such that L749: (C206 in D115 & C207 in D115 & C206 <> C207) by L748 , ZFMISC_1:def 10;
consider C208 being (OperSymbol of C204) such that L750: (C206 = C208 & ( the_result_sort_of C208 ) = C205 & ( len ( the_arity_of C208 ) ) = ( 0 )) by L749;
reconsider D116 = C206 as (OperSymbol of C205) by L750 , ABCMIZ_1:def 32;
L751: ( the_arity_of D116 ) = ( {} ) by L750;
L752: D116 is  nullary by L751 , L672;
thus L753: thesis by L752;
end;
cluster  unary  constructor for (OperSymbol of C205);
existence
proof
set D117 = { B174 where B174 is (OperSymbol of C204) : (( the_result_sort_of B174 ) = C205 & ( len ( the_arity_of B174 ) ) = 1) };
L754: D117 is  infinite by L671;
consider C209 , C210 being set such that L755: (C209 in D117 & C210 in D117 & C209 <> C210) by L754 , ZFMISC_1:def 10;
consider C211 being (OperSymbol of C204) such that L756: (C209 = C211 & ( the_result_sort_of C211 ) = C205 & ( len ( the_arity_of C211 ) ) = 1) by L755;
consider C212 being (OperSymbol of C204) such that L757: (C210 = C212 & ( the_result_sort_of C212 ) = C205 & ( len ( the_arity_of C212 ) ) = 1) by L755;
reconsider D118 = C209 , D119 = C210 as (OperSymbol of C205) by L756 , L757 , ABCMIZ_1:def 32;
L758: (D118 is  unary & D119 is  unary) by L756 , L757 , L673;
L759: (D118 <> ( ast C204 ) & D119 <> ( ast C204 )) by L758 , L676;
L760: (D118 <> ( non_op ) or D119 <> ( non_op )) by L755;
L761: (D118 is  constructor or D119 is  constructor) by L760 , L759 , ABCMIZ_1:def 11;
thus L762: thesis by L761 , L758;
end;
cluster  binary  constructor for (OperSymbol of C205);
existence
proof
set D120 = { B175 where B175 is (OperSymbol of C204) : (( the_result_sort_of B175 ) = C205 & ( len ( the_arity_of B175 ) ) = 2) };
L763: D120 is  infinite by L671;
consider C213 , C214 being set such that L764: (C213 in D120 & C214 in D120 & C213 <> C214) by L763 , ZFMISC_1:def 10;
consider C215 being (OperSymbol of C204) such that L765: (C213 = C215 & ( the_result_sort_of C215 ) = C205 & ( len ( the_arity_of C215 ) ) = 2) by L764;
consider C216 being (OperSymbol of C204) such that L766: (C214 = C216 & ( the_result_sort_of C216 ) = C205 & ( len ( the_arity_of C216 ) ) = 2) by L764;
reconsider D121 = C213 , D122 = C214 as (OperSymbol of C205) by L765 , L766 , ABCMIZ_1:def 32;
L767: (D121 is  binary & D122 is  binary) by L765 , L766 , L674;
L768: (D121 <> ( non_op C204 ) & D122 <> ( non_op C204 )) by L767 , L676;
L769: (D121 <> ( * ) or D122 <> ( * )) by L764;
L770: (D121 is  constructor or D122 is  constructor) by L769 , L768 , ABCMIZ_1:def 11;
thus L771: thesis by L770 , L767;
end;
end;
registration
let C217 being  arity-rich ConstructorSignature;
cluster  unary  constructor for (OperSymbol of C217);
existence
proof
set D123 = the  unary  constructor (OperSymbol of ( a_Type C217 ));
take D123;
thus L773: thesis;
end;
cluster  binary  constructor for (OperSymbol of C217);
existence
proof
set D124 = the  binary  constructor (OperSymbol of ( a_Type C217 ));
take D124;
thus L774: thesis;
end;
end;
theorem
L776: (for R7 being  initialized ConstructorSignature holds (for B176 being  nullary (OperSymbol of R7) holds ( [ B176 , (the carrier of R7) ] -tree ( {} ) ) is (expression of R7 , ( the_result_sort_of B176 ))))
proof
let R7 being  initialized ConstructorSignature;
let C218 being  nullary (OperSymbol of R7);
set D125 = ( MSVars R7 );
set D126 = ( (the carrier of R7) --> { ( 0 ) } );
set D127 = ( D125 \/ D126 );
L777: ( the_arity_of C218 ) = ( {} ) by L672;
L778: (the Sorts of ( Free (R7 , D125) )) = ( R7 -Terms (D125 , D127) ) by MSAFREE3:24;
L779: (for B177 being Nat holds (B177 in ( dom ( {} ) ) implies (ex B178 being (Term of R7 , D127) st (B178 = ( ( {} ) . B177 ) & ( the_sort_of B178 ) = ( ( the_arity_of C218 ) . B177 )))));
reconsider D128 = ( {} ) as (ArgumentSeq of ( Sym (C218 , D127) )) by L779 , L777 , MSATERM:24;
L780: ( variables_in ( ( Sym (C218 , D127) ) -tree D128 ) ) c= D125
proof
let C219 being set;
assume L781: C219 in (the carrier of R7);
reconsider D129 = C219 as (SortSymbol of R7) by L781;
let C220 being set;
assume L782: C220 in ( ( variables_in ( ( Sym (C218 , D127) ) -tree D128 ) ) . C219 );
L783: (ex B179 being DecoratedTree st (B179 in ( rng D128 ) & C220 in ( ( R7 variables_in B179 ) . D129 ))) by L782 , MSAFREE3:11;
thus L784: thesis by L783;
end;
set D130 = ( the_result_sort_of C218 );
L785: ( the_sort_of ( ( Sym (C218 , D127) ) -tree D128 ) ) = ( the_result_sort_of C218 ) by MSATERM:20;
L786: ( (the Sorts of ( Free (R7 , D125) )) . D130 ) = { B180 where B180 is (Term of R7 , D127) : (( the_sort_of B180 ) = D130 & ( variables_in B180 ) c= D125) } by L778 , MSAFREE3:def 5;
L787: ( [ C218 , (the carrier of R7) ] -tree ( {} ) ) in ( (the Sorts of ( Free (R7 , D125) )) . D130 ) by L786 , L780 , L785;
thus L788: thesis by L787 , ABCMIZ_1:41;
end;
definition
let C221 being  initialized ConstructorSignature;
let C222 being  nullary  constructor (OperSymbol of ( a_Type C221 ));
redefine func C222 term ->  pure (expression of C221 , ( a_Type C221 ));

coherence
proof
set D131 = ( C222 term );
L789: ( the_arity_of C222 ) = ( 0 ) by L672;
L790: ( len ( the_arity_of C222 ) ) = ( 0 ) by L789;
L791: D131 = ( [ C222 , (the carrier of C221) ] -tree ( {} ) ) by L790 , ABCMIZ_1:def 29;
L792: (ex B181 , B182 being (OperSymbol of C221) st (( the_result_sort_of B181 ) = ( a_Type ) & ( the_arity_of B181 ) = ( {} ) & ( the_result_sort_of B182 ) = ( an_Adj ) & ( the_arity_of B182 ) = ( {} ))) by ABCMIZ_1:def 12;
L793: ( the_result_sort_of C222 ) = ( a_Type C221 ) by L792 , ABCMIZ_1:def 32;
reconsider D132 = D131 as (expression of C221 , ( a_Type C221 )) by L793 , L791 , L776;
L794: D132 is  pure
proof
given C223 being (expression of C221 , ( an_Adj C221 )) , C224 being (expression of C221 , ( a_Type C221 )) such that
L795: D132 = ( ( ast C221 ) term (C223 , C224) );

L796: D132 = ( [ ( * ) , (the carrier of C221) ] -tree <* C223 , C224 *> ) by L795 , ABCMIZ_1:46;
thus L797: thesis by L796 , L791 , TREES_4:15;
end;
thus L798: thesis by L794;
end;
end;
definition
let C225 being (Element of ( Constructors ));
func @ C225 ->  constructor (OperSymbol of ( MaxConstrSign )) equals 
C225;
coherence
proof
L800: (( * ) in { ( * ) , ( non_op ) } & ( non_op ) in { ( * ) , ( non_op ) } & (the carrier' of D79) = ( { ( * ) , ( non_op ) } \/ ( Constructors ) )) by ABCMIZ_1:def 24 , TARSKI:def 2;
L801: (C225 <> ( * ) & C225 <> ( non_op ) & C225 in (the carrier' of D79)) by L800 , ABCMIZ_1:39 , XBOOLE_0:3 , XBOOLE_0:def 3;
thus L802: thesis by L801 , ABCMIZ_1:def 11;
end;
end;
definition
let C226 being (Element of ( Modes ));
redefine func @ C226 ->  constructor (OperSymbol of ( a_Type ( MaxConstrSign ) ));

coherence
proof
L804: ( C226 `1 ) in { ( a_Type ) } by MCART_1:10;
L805: ( the_result_sort_of ( @ C226 ) ) = ( C226 `1 ) by ABCMIZ_1:def 24
.= ( a_Type ) by L804 , TARSKI:def 1;
thus L806: thesis by L805 , ABCMIZ_1:def 32;
end;
end;
registration
cluster ( @ ( set-constr ) ) ->  nullary;
coherence
proof
L808: ( len ( the_arity_of ( @ ( set-constr ) ) ) ) = ( card ( ( ( set-constr ) `2 ) `1 ) ) by ABCMIZ_1:def 24
.= ( card ( [ ( {} ) , ( 0 ) ] `1 ) ) by MCART_1:7
.= ( card ( 0 ) );
thus L809: ( the_arity_of ( @ ( set-constr ) ) ) = ( {} ) by L808;
end;
end;
theorem
L811: ( the_arity_of ( @ ( set-constr ) ) ) = ( {} ) by L672;
definition
func set-type -> quasi-type equals 
( ( {} ( QuasiAdjs ( MaxConstrSign ) ) ) ast ( ( @ ( set-constr ) ) term ) );
coherence;
end;
theorem
L813: (( adjs ( set-type ) ) = ( {} ) & ( the_base_of ( set-type ) ) = ( ( @ ( set-constr ) ) term )) by MCART_1:7;
definition
let C227 being (FinSequence of ( Vars ));
func args C227 -> (FinSequence of ( QuasiTerms ( MaxConstrSign ) )) means 
:L814: (( len it ) = ( len C227 ) & (for R3 being Nat holds (R3 in ( dom C227 ) implies ( it . R3 ) = ( ( C227 /. R3 ) -term ( MaxConstrSign ) ))));
existence
proof
deffunc H2(Nat) = ( ( C227 /. $1 ) -term ( MaxConstrSign ) );
consider C228 being FinSequence such that L815: ( len C228 ) = ( len C227 ) and L816: (for R3 being Nat holds (R3 in ( dom C228 ) implies ( C228 . R3 ) = H2(R3))) from FINSEQ_1:sch 2;
L817: ( dom C228 ) = ( dom C227 ) by L815 , FINSEQ_3:29;
L818: ( rng C228 ) c= ( QuasiTerms ( MaxConstrSign ) )
proof
let C229 being set;
assume L819: C229 in ( rng C228 );
consider C230 being set such that L820: (C230 in ( dom C228 ) & C229 = ( C228 . C230 )) by L819 , FUNCT_1:def 3;
reconsider D133 = C230 as Nat by L820;
L821: C229 = H2(D133) by L816 , L820;
thus L822: thesis by L821 , ABCMIZ_1:49;
end;
reconsider D134 = C228 as (FinSequence of ( QuasiTerms ( MaxConstrSign ) )) by L818 , FINSEQ_1:def 4;
take D134;
thus L823: thesis by L815 , L816 , L817;
end;
uniqueness
proof
let C231 , C232 being (FinSequence of ( QuasiTerms ( MaxConstrSign ) ));
assume that
L824: ( len C231 ) = ( len C227 )
and
L825: (for R3 being Nat holds (R3 in ( dom C227 ) implies ( C231 . R3 ) = ( ( C227 /. R3 ) -term ( MaxConstrSign ) )))
and
L826: ( len C232 ) = ( len C227 )
and
L827: (for R3 being Nat holds (R3 in ( dom C227 ) implies ( C232 . R3 ) = ( ( C227 /. R3 ) -term ( MaxConstrSign ) )));
L828: (( dom C231 ) = ( dom C227 ) & ( dom C232 ) = ( dom C227 )) by L824 , L826 , FINSEQ_3:29;
L829:
now
let R3 being Nat;
assume L830: R3 in ( dom C231 );
L831: (( C231 . R3 ) = ( ( C227 /. R3 ) -term ( MaxConstrSign ) ) & ( C232 . R3 ) = ( ( C227 /. R3 ) -term ( MaxConstrSign ) )) by L830 , L825 , L827 , L828;
thus L832: ( C231 . R3 ) = ( C232 . R3 ) by L831;
end;
thus L833: thesis by L829 , L828 , FINSEQ_1:13;
end;
end;
definition
let R15 being (Element of ( Constructors ));
func base_exp_of R15 -> expression equals 
( ( @ R15 ) -trm ( args ( loci_of R15 ) ) );
coherence;
end;
theorem
L836: (for B183 being (OperSymbol of ( MaxConstrSign )) holds (B183 is  constructor iff B183 in ( Constructors )))
proof
let C233 being (OperSymbol of ( MaxConstrSign ));
L837: (the carrier' of ( MaxConstrSign )) = ( { ( * ) , ( non_op ) } \/ ( Constructors ) ) by ABCMIZ_1:def 24;
L838: (C233 is  constructor iff (C233 <> ( * ) & C233 <> ( non_op ))) by ABCMIZ_1:def 11;
L839: (C233 is  constructor iff C233 nin { ( * ) , ( non_op ) }) by L838 , TARSKI:def 2;
thus L840: thesis by L839 , L837 , ABCMIZ_1:39 , XBOOLE_0:3 , XBOOLE_0:def 3;
end;
theorem
L841: (for B184 being  nullary (OperSymbol of ( MaxConstrSign )) holds ( main-constr ( B184 term ) ) = B184)
proof
set D135 = ( MaxConstrSign );
let C234 being  nullary (OperSymbol of D135);
L842: ( the_arity_of C234 ) = ( 0 ) by L672;
L843: (( len ( the_arity_of C234 ) ) = ( 0 ) & ( len ( {} ) ) = ( 0 )) by L842;
L844: (( C234 term ) = ( [ C234 , (the carrier of D135) ] -tree ( {} ) ) & ( C234 -trm ( <*> ( QuasiTerms D135 ) ) ) = ( [ C234 , (the carrier of D135) ] -tree ( {} ) )) by L843 , ABCMIZ_1:def 29 , ABCMIZ_1:def 35;
thus L845: ( main-constr ( C234 term ) ) = ( ( ( C234 term ) . ( {} ) ) `1 ) by L844 , L633
.= ( [ C234 , (the carrier of D135) ] `1 ) by L844 , TREES_4:def 4
.= C234;
end;
theorem
L846: (for B185 being  unary  constructor (OperSymbol of ( MaxConstrSign )) holds (for R11 being quasi-term holds ( main-constr ( B185 term R11 ) ) = B185))
proof
set D136 = ( MaxConstrSign );
let C235 being  unary  constructor (OperSymbol of D136);
let R11 being quasi-term;
reconsider D137 = R11 as (Element of ( QuasiTerms D136 )) by ABCMIZ_1:49;
reconsider D138 = <* D137 *> as (FinSequence of ( QuasiTerms D136 ));
L847: ( len ( the_arity_of C235 ) ) = 1 by L673;
L848: ( the_arity_of C235 ) = ( 1 |-> ( a_Term ) ) by L847 , ABCMIZ_1:37
.= <* ( a_Term ) *> by FINSEQ_2:59;
L849: (( len D138 ) = 1 & ( ( the_arity_of C235 ) . 1 ) = ( a_Term D136 )) by L848 , FINSEQ_1:40;
L850: (( C235 term R11 ) = ( [ C235 , (the carrier of D136) ] -tree <* R11 *> ) & ( C235 -trm D138 ) = ( [ C235 , (the carrier of D136) ] -tree <* R11 *> )) by L849 , L847 , ABCMIZ_1:def 30 , ABCMIZ_1:def 35;
thus L851: ( main-constr ( C235 term R11 ) ) = ( ( ( C235 term R11 ) . ( {} ) ) `1 ) by L850 , L633
.= ( [ C235 , (the carrier of D136) ] `1 ) by L850 , TREES_4:def 4
.= C235;
end;
theorem
L852: (for R9 being quasi-adjective holds ( main-constr ( ( non_op ( MaxConstrSign ) ) term R9 ) ) = ( non_op ))
proof
set D139 = ( MaxConstrSign );
set D140 = ( non_op D139 );
let R9 being quasi-adjective;
L853: ( len ( the_arity_of D140 ) ) = 1 by L673;
L854: ( the_arity_of D140 ) = <* ( an_Adj ) *> by ABCMIZ_1:38;
L855: ( ( the_arity_of D140 ) . 1 ) = ( an_Adj D139 ) by L854 , FINSEQ_1:40;
L856: ( D140 term R9 ) = ( [ D140 , (the carrier of D139) ] -tree <* R9 *> ) by L855 , L853 , ABCMIZ_1:def 30;
thus L857: ( main-constr ( D140 term R9 ) ) = ( ( ( D140 term R9 ) . ( {} ) ) `1 ) by L633
.= ( [ D140 , (the carrier of D139) ] `1 ) by L856 , TREES_4:def 4
.= ( non_op );
end;
theorem
L858: (for B186 being  binary  constructor (OperSymbol of ( MaxConstrSign )) holds (for R12 being quasi-term holds (for R13 being quasi-term holds ( main-constr ( B186 term (R12 , R13) ) ) = B186)))
proof
set D141 = ( MaxConstrSign );
let C236 being  binary  constructor (OperSymbol of D141);
let R12 being quasi-term;
let R13 being quasi-term;
reconsider D142 = R12 , D143 = R13 as (Element of ( QuasiTerms D141 )) by ABCMIZ_1:49;
reconsider D144 = <* D142 , D143 *> as (FinSequence of ( QuasiTerms D141 ));
L859: ( len ( the_arity_of C236 ) ) = 2 by L674;
L860: ( the_arity_of C236 ) = ( 2 |-> ( a_Term ) ) by L859 , ABCMIZ_1:37
.= <* ( a_Term ) , ( a_Term ) *> by FINSEQ_2:61;
L861: (( ( the_arity_of C236 ) . 1 ) = ( a_Term D141 ) & ( ( the_arity_of C236 ) . 2 ) = ( a_Term D141 ) & ( len D144 ) = 2) by L860 , FINSEQ_1:44;
L862: (( C236 term (R12 , R13) ) = ( [ C236 , (the carrier of D141) ] -tree <* R12 , R13 *> ) & ( C236 -trm D144 ) = ( [ C236 , (the carrier of D141) ] -tree D144 )) by L861 , L859 , ABCMIZ_1:def 31 , ABCMIZ_1:def 35;
thus L863: ( main-constr ( C236 term (R12 , R13) ) ) = ( ( ( C236 term (R12 , R13) ) . ( {} ) ) `1 ) by L862 , L633
.= ( [ C236 , (the carrier of D141) ] `1 ) by L862 , TREES_4:def 4
.= C236;
end;
theorem
L864: (for B187 being (expression of ( MaxConstrSign ) , ( a_Type ( MaxConstrSign ) )) holds (for R9 being quasi-adjective holds ( main-constr ( ( ast ( MaxConstrSign ) ) term (R9 , B187) ) ) = ( * )))
proof
set D145 = ( MaxConstrSign );
set D146 = ( ast D145 );
let C237 being (expression of ( MaxConstrSign ) , ( a_Type ( MaxConstrSign ) ));
let R9 being quasi-adjective;
L865: ( len ( the_arity_of D146 ) ) = 2 by L674;
L866: ( the_arity_of D146 ) = <* ( an_Adj D145 ) , ( a_Type D145 ) *> by ABCMIZ_1:38;
L867: (( ( the_arity_of D146 ) . 1 ) = ( an_Adj D145 ) & ( ( the_arity_of D146 ) . 2 ) = ( a_Type D145 )) by L866 , FINSEQ_1:44;
L868: ( D146 term (R9 , C237) ) = ( [ D146 , (the carrier of D145) ] -tree <* R9 , C237 *> ) by L867 , L865 , ABCMIZ_1:def 31;
thus L869: ( main-constr ( D146 term (R9 , C237) ) ) = ( ( ( D146 term (R9 , C237) ) . ( {} ) ) `1 ) by L633
.= ( [ D146 , (the carrier of D145) ] `1 ) by L868 , TREES_4:def 4
.= ( * );
end;
definition
let C238 being quasi-type;
func constrs C238 equals 
( ( constrs ( the_base_of C238 ) ) \/ ( union { ( constrs R9 ) where R9 is quasi-adjective : R9 in ( adjs C238 ) } ) );
coherence;
end;
theorem
L871: (for B188 being  pure (expression of ( MaxConstrSign ) , ( a_Type ( MaxConstrSign ) )) holds (for B189 being  finite (Subset of ( QuasiAdjs ( MaxConstrSign ) )) holds ( constrs ( B189 ast B188 ) ) = ( ( constrs B188 ) \/ ( union { ( constrs R9 ) where R9 is quasi-adjective : R9 in B189 } ) )));
theorem
L872: (for R9 being quasi-adjective holds (for R14 being quasi-type holds ( constrs ( R9 ast R14 ) ) = ( ( constrs R9 ) \/ ( constrs R14 ) )))
proof
let R9 being quasi-adjective;
let R14 being quasi-type;
set D147 = { ( constrs R10 ) where R10 is quasi-adjective : R10 in ( { R9 } \/ ( adjs R14 ) ) };
set D148 = { ( constrs R10 ) where R10 is quasi-adjective : R10 in ( adjs R14 ) };
L873: D147 = ( D148 \/ { ( constrs R9 ) } )
proof
thus L874: D147 c= ( D148 \/ { ( constrs R9 ) } )
proof
let C239 being set;
assume L875: C239 in D147;
consider R10 being quasi-adjective such that L876: (C239 = ( constrs R10 ) & R10 in ( { R9 } \/ ( adjs R14 ) )) by L875;
L877: (R10 in { R9 } or R10 in ( adjs R14 )) by L876 , XBOOLE_0:def 3;
L878: (R10 = R9 or R10 in ( adjs R14 )) by L877 , TARSKI:def 1;
L879: (C239 in { ( constrs R9 ) } or C239 in D148) by L878 , L876 , TARSKI:def 1;
thus L880: thesis by L879 , XBOOLE_0:def 3;
end;

let C240 being set;
assume L881: C240 in ( D148 \/ { ( constrs R9 ) } );
L882: R9 in { R9 } by TARSKI:def 1;
per cases  by L881 , XBOOLE_0:def 3;
suppose L883: C240 in D148;

consider R10 being quasi-adjective such that L884: (C240 = ( constrs R10 ) & R10 in ( adjs R14 )) by L883;
L885: R10 in ( { R9 } \/ ( adjs R14 ) ) by L884 , XBOOLE_0:def 3;
thus L886: thesis by L885 , L884;
end;
suppose L887: C240 in { ( constrs R9 ) };

L888: (C240 = ( constrs R9 ) & R9 in ( { R9 } \/ ( adjs R14 ) )) by L887 , L882 , TARSKI:def 1 , XBOOLE_0:def 3;
thus L889: thesis by L888;
end;
end;
L891: ( adjs ( R9 ast R14 ) ) = ( { R9 } \/ ( adjs R14 ) ) by ABCMIZ_1:82;
thus L892: ( constrs ( R9 ast R14 ) ) = ( ( constrs ( the_base_of ( R9 ast R14 ) ) ) \/ ( union D147 ) ) by L891
.= ( ( constrs ( the_base_of R14 ) ) \/ ( union D147 ) ) by ABCMIZ_1:82
.= ( ( constrs ( the_base_of R14 ) ) \/ ( ( union { ( constrs R9 ) } ) \/ ( union D148 ) ) ) by L873 , ZFMISC_1:78
.= ( ( constrs ( the_base_of R14 ) ) \/ ( ( constrs R9 ) \/ ( union D148 ) ) ) by ZFMISC_1:25
.= ( ( ( constrs ( the_base_of R14 ) ) \/ ( constrs R9 ) ) \/ ( union D148 ) ) by XBOOLE_1:4
.= ( ( constrs R9 ) \/ ( ( constrs ( the_base_of R14 ) ) \/ ( union D148 ) ) ) by XBOOLE_1:4
.= ( ( constrs R9 ) \/ ( constrs R14 ) );
end;
begin
definition
let C241 being  initialized ConstructorSignature;
let C242 , C243 being (expression of C241);
pred C242 matches_with C243
means
(ex B190 being (valuation of C241) st C242 = ( C243 at B190 ))
;reflexivity
proof
let C244 being (expression of C241);
take D149 = the  empty (valuation of C241);
thus L893: ( C244 at D149 ) = C244 by ABCMIZ_1:139;
end;
end;
theorem
L895: (for R7 being  initialized ConstructorSignature holds (for B191 , B192 , B193 being (expression of R7) holds ((B191 matches_with B192 & B192 matches_with B193) implies B191 matches_with B193)))
proof
let R7 being  initialized ConstructorSignature;
let C245 , C246 , C247 being (expression of R7);
given C248 being (valuation of R7) such that
L896: C245 = ( C246 at C248 );

given C249 being (valuation of R7) such that
L897: C246 = ( C247 at C249 );

take ( C249 at C248 );
thus L898: thesis by L896 , L897 , ABCMIZ_1:149;
end;
definition
let C250 being  initialized ConstructorSignature;
let C251 , C252 being (Subset of ( QuasiAdjs C250 ));
pred C251 matches_with C252
means
(ex B194 being (valuation of C250) st ( C252 at B194 ) c= C251)
;reflexivity
proof
let C253 being (Subset of ( QuasiAdjs C250 ));
take D150 = the  empty (valuation of C250);
let C254 being set;
assume L899: C254 in ( C253 at D150 );
L900: (ex B195 being (quasi-adjective of C250) st (C254 = ( B195 at D150 ) & B195 in C253)) by L899;
thus L901: C254 in C253 by L900 , ABCMIZ_1:139;
end;
end;
theorem
L903: (for R7 being  initialized ConstructorSignature holds (for B196 , B197 , B198 being (Subset of ( QuasiAdjs R7 )) holds ((B196 matches_with B197 & B197 matches_with B198) implies B196 matches_with B198)))
proof
let R7 being  initialized ConstructorSignature;
let C255 , C256 , C257 being (Subset of ( QuasiAdjs R7 ));
given C258 being (valuation of R7) such that
L904: ( C256 at C258 ) c= C255;

given C259 being (valuation of R7) such that
L905: ( C257 at C259 ) c= C256;

take ( C259 at C258 );
L906: ( ( C257 at C259 ) at C258 ) c= ( C256 at C258 ) by L905 , ABCMIZ_1:146;
L907: ( ( C257 at C259 ) at C258 ) c= C255 by L906 , L904 , XBOOLE_1:1;
thus L908: thesis by L907 , ABCMIZ_1:150;
end;
definition
let C260 being  initialized ConstructorSignature;
let C261 , C262 being (quasi-type of C260);
pred C261 matches_with C262
means
(ex B199 being (valuation of C260) st (( ( adjs C262 ) at B199 ) c= ( adjs C261 ) & ( ( the_base_of C262 ) at B199 ) = ( the_base_of C261 )))
;reflexivity
proof
let C263 being (quasi-type of C260);
take D151 = the  empty (valuation of C260);
thus L909: ( ( adjs C263 ) at D151 ) c= ( adjs C263 )
proof
let C264 being set;
assume L910: C264 in ( ( adjs C263 ) at D151 );
L911: (ex B200 being (quasi-adjective of C260) st (C264 = ( B200 at D151 ) & B200 in ( adjs C263 ))) by L910;
thus L912: C264 in ( adjs C263 ) by L911 , ABCMIZ_1:139;
end;

thus L913: thesis by ABCMIZ_1:139;
end;
end;
theorem
L915: (for R7 being  initialized ConstructorSignature holds (for B201 , B202 , B203 being (quasi-type of R7) holds ((B201 matches_with B202 & B202 matches_with B203) implies B201 matches_with B203)))
proof
let R7 being  initialized ConstructorSignature;
let C265 , C266 , C267 being (quasi-type of R7);
given C268 being (valuation of R7) such that
L916: (( ( adjs C266 ) at C268 ) c= ( adjs C265 ) & ( ( the_base_of C266 ) at C268 ) = ( the_base_of C265 ));

given C269 being (valuation of R7) such that
L917: (( ( adjs C267 ) at C269 ) c= ( adjs C266 ) & ( ( the_base_of C267 ) at C269 ) = ( the_base_of C266 ));

take ( C269 at C268 );
L918: ( ( ( adjs C267 ) at C269 ) at C268 ) c= ( ( adjs C266 ) at C268 ) by L917 , ABCMIZ_1:146;
L919: ( ( ( adjs C267 ) at C269 ) at C268 ) c= ( adjs C265 ) by L918 , L916 , XBOOLE_1:1;
thus L920: thesis by L919 , L916 , L917 , ABCMIZ_1:149 , ABCMIZ_1:150;
end;
definition
let C270 being  initialized ConstructorSignature;
let C271 , C272 being (expression of C270);
let C273 being (valuation of C270);
::$N Unification of Mizar terms
pred C273 unifies C271 , C272
means
:L921: ( C271 at C273 ) = ( C272 at C273 )
;end;
theorem
L923: (for R7 being  initialized ConstructorSignature holds (for B204 , B205 being (expression of R7) holds (for B206 being (valuation of R7) holds (B206 unifies B204 , B205 implies B206 unifies B205 , B204))))
proof
let R7 being  initialized ConstructorSignature;
let C274 , C275 being (expression of R7);
let C276 being (valuation of R7);
assume L924: ( C274 at C276 ) = ( C275 at C276 );
thus L925: ( C275 at C276 ) = ( C274 at C276 ) by L924;
end;
definition
let C277 being  initialized ConstructorSignature;
let C278 , C279 being (expression of C277);
pred C278 , C279 are_unifiable 
means
(ex B207 being (valuation of C277) st B207 unifies C278 , C279)
;reflexivity
proof
let C280 being (expression of C277);
set D152 = the (valuation of C277);
take D152;
thus L926: ( C280 at D152 ) = ( C280 at D152 );
end;
symmetry
proof
let C281 , C282 being (expression of C277);
given C283 being (valuation of C277) such that
L927: C283 unifies C281 , C282;

take C283;
thus L928: ( C282 at C283 ) = ( C281 at C283 ) by L927 , L921;
end;
end;
definition
let C284 being  initialized ConstructorSignature;
let C285 , C286 being (expression of C284);
pred C285 , C286 are_weakly-unifiable 
means
(ex B208 being  irrelevant  one-to-one (valuation of C284) st (( variables_in C286 ) c= ( dom B208 ) & C285 , ( C286 at B208 ) are_unifiable ))
;reflexivity
proof
let C287 being (expression of C284);
take ( C284 idval ( variables_in C287 ) );
thus L930: thesis by ABCMIZ_1:131 , ABCMIZ_1:137;
end;
end;
theorem
L932: (for R7 being  initialized ConstructorSignature holds (for B209 , B210 being (expression of R7) holds (B209 , B210 are_unifiable  implies B209 , B210 are_weakly-unifiable )))
proof
let R7 being  initialized ConstructorSignature;
let C288 , C289 being (expression of R7);
given C290 being (valuation of R7) such that
L933: C290 unifies C288 , C289;

take D153 = ( R7 idval ( variables_in C289 ) );
thus L934: ( variables_in C289 ) c= ( dom D153 ) by ABCMIZ_1:131;
take C290;
thus L935: C290 unifies C288 , ( C289 at D153 ) by L933 , ABCMIZ_1:137;
end;
definition
let C291 being  initialized ConstructorSignature;
let C292 , C293 , C294 being (expression of C291);
pred C292 is_a_unification_of C293 , C294
means
(ex B211 being (valuation of C291) st (B211 unifies C293 , C294 & C292 = ( C293 at B211 )))
;end;
theorem
L937: (for R7 being  initialized ConstructorSignature holds (for B212 , B213 , B214 being (expression of R7) holds (B214 is_a_unification_of B212 , B213 implies B214 is_a_unification_of B213 , B212)))
proof
let R7 being  initialized ConstructorSignature;
let C295 , C296 , C297 being (expression of R7);
given C298 being (valuation of R7) such that
L938: (C298 unifies C295 , C296 & C297 = ( C295 at C298 ));

take C298;
thus L939: (C298 unifies C296 , C295 & C297 = ( C296 at C298 )) by L938 , L921 , L923;
end;
theorem
L940: (for R7 being  initialized ConstructorSignature holds (for B215 , B216 , B217 being (expression of R7) holds (B217 is_a_unification_of B215 , B216 implies (B217 matches_with B215 & B217 matches_with B216))))
proof
let R7 being  initialized ConstructorSignature;
let C299 , C300 , C301 being (expression of R7);
given C302 being (valuation of R7) such that
L941: (C302 unifies C299 , C300 & C301 = ( C299 at C302 ));

thus L942: (ex B218 being (valuation of R7) st C301 = ( C299 at B218 )) by L941;
take C302;
thus L943: C301 = ( C300 at C302 ) by L941 , L921;
end;
definition
let C303 being  initialized ConstructorSignature;
let C304 , C305 , C306 being (expression of C303);
pred C304 is_a_general-unification_of C305 , C306
means
(C304 is_a_unification_of C305 , C306 & (for B219 being (expression of C303) holds (B219 is_a_unification_of C305 , C306 implies B219 matches_with C304)))
;end;
begin
theorem
L945: (for B220 being Nat holds (for B221 being (SortSymbol of ( MaxConstrSign )) holds (ex B222 being  constructor (OperSymbol of B221) st ( len ( the_arity_of B222 ) ) = B220)))
proof
set D154 = ( MaxConstrSign );
let C307 being Nat;
let C308 being (SortSymbol of D154);
deffunc H3(Nat) = [ ( {} ) , $1 ];
consider C309 being FinSequence such that L946: ( len C309 ) = C307 and L947: (for R3 being Nat holds (R3 in ( dom C309 ) implies ( C309 . R3 ) = H3(R3))) from FINSEQ_1:sch 2;
L948: C309 is  one-to-one
proof
let C310 , C311 being set;
assume that
L949: (C310 in ( dom C309 ) & C311 in ( dom C309 ) & ( C309 . C310 ) = ( C309 . C311 ));
reconsider D155 = C310 , D156 = C311 as Nat by L949;
L950: (( C309 . D155 ) = H3(D155) & ( C309 . D155 ) = H3(D156)) by L947 , L949;
L951: D155 = ( H3(D156) `2 ) by L950 , MCART_1:7;
thus L952: thesis by L951;
end;
L953: ( rng C309 ) c= ( Vars )
proof
let C312 being set;
assume L954: C312 in ( rng C309 );
consider C313 being set such that L955: (C313 in ( dom C309 ) & C312 = ( C309 . C313 )) by L954 , FUNCT_1:def 3;
reconsider D157 = C313 as Nat by L955;
L956: C312 = H3(D157) by L947 , L955;
thus L957: thesis by L956 , ABCMIZ_1:25;
end;
reconsider D158 = C309 as  one-to-one (FinSequence of ( Vars )) by L953 , L948 , FINSEQ_1:def 4;
L958: (for B223 being Nat holds (for B224 being variable holds ((B223 in ( dom D158 ) & B224 = ( D158 . B223 )) implies (for B225 being variable holds (B225 in ( vars B224 ) implies (ex B226 being Nat st (B226 in ( dom D158 ) & B226 < B223 & B225 = ( D158 . B226 ))))))))
proof
let R3 being Nat;
let R5 being variable;
assume L959: (R3 in ( dom D158 ) & R5 = ( D158 . R3 ));
L960: R5 = H3(R3) by L959 , L947;
thus L961: thesis by L960 , MCART_1:7;
end;
reconsider D159 = D158 as quasi-loci by L958 , ABCMIZ_1:30;
set D160 = [ C308 , [ D159 , ( 0 ) ] ];
L962: (the carrier of D154) = { ( a_Type ) , ( an_Adj ) , ( a_Term ) } by ABCMIZ_1:def 9;
L963: D160 in ( Constructors ) by L962 , L568;
L964: D160 in ( { ( * ) , ( non_op ) } \/ ( Constructors ) ) by L963 , XBOOLE_0:def 3;
reconsider D161 = D160 as  constructor (OperSymbol of D154) by L964 , L963 , L836 , ABCMIZ_1:def 24;
L965: ( the_result_sort_of D161 ) = ( D161 `1 ) by ABCMIZ_1:def 24
.= C308 by MCART_1:7;
reconsider D162 = D161 as  constructor (OperSymbol of C308) by L965 , ABCMIZ_1:def 32;
take D162;
thus L966: ( len ( the_arity_of D162 ) ) = ( card ( ( D162 `2 ) `1 ) ) by ABCMIZ_1:def 24
.= ( card ( [ D159 , ( 0 ) ] `1 ) ) by MCART_1:7
.= ( card D159 )
.= C307 by L946;
end;
theorem
L967: (for R6 being quasi-loci holds (for B227 being (SortSymbol of ( MaxConstrSign )) holds (for B228 being  constructor (OperSymbol of B227) holds (( len ( the_arity_of B228 ) ) = ( len R6 ) implies ( variables_in ( B228 -trm ( args R6 ) ) ) = ( rng R6 )))))
proof
let R6 being quasi-loci;
set D163 = ( rng R6 );
set D164 = ( len R6 );
set D165 = ( MaxConstrSign );
let C314 being (SortSymbol of D165);
let C315 being  constructor (OperSymbol of C314);
assume that
L968: ( len ( the_arity_of C315 ) ) = D164;
set D166 = ( args R6 );
set D167 = { ( variables_in B229 ) where B229 is (quasi-term of D165) : B229 in ( rng D166 ) };
L969: ( len D166 ) = ( len ( the_arity_of C315 ) ) by L968 , L814;
L970: ( variables_in ( C315 -trm D166 ) ) = ( union D167 ) by L969 , ABCMIZ_1:90;
L971: ( dom D166 ) = ( dom R6 ) by L968 , L969 , FINSEQ_3:29;
thus L972: ( variables_in ( C315 -trm D166 ) ) c= D163
proof
let C316 being set;
assume L973: C316 in ( variables_in ( C315 -trm D166 ) );
consider C317 being set such that L974: (C316 in C317 & C317 in D167) by L973 , L970 , TARSKI:def 4;
consider C318 being (quasi-term of D165) such that L975: (C317 = ( variables_in C318 ) & C318 in ( rng D166 )) by L974;
consider C319 being set such that L976: (C319 in ( dom D166 ) & C318 = ( D166 . C319 )) by L975 , FUNCT_1:def 3;
reconsider D168 = C319 as (Element of ( NAT )) by L976;
L977: ( R6 . D168 ) = ( R6 /. D168 ) by L971 , L976 , PARTFUN1:def 6;
L978: ( R6 /. D168 ) in D163 by L977 , L971 , L976 , FUNCT_1:def 3;
L979: ( D166 . D168 ) = ( ( R6 /. D168 ) -term D165 ) by L971 , L976 , L814;
L980: C317 = { ( R6 /. D168 ) } by L979 , L975 , L976 , ABCMIZ_1:86;
thus L981: thesis by L980 , L974 , L978 , TARSKI:def 1;
end;

let C320 being set;
assume L982: C320 in D163;
consider C321 being set such that L983: (C321 in ( dom R6 ) & C320 = ( R6 . C321 )) by L982 , FUNCT_1:def 3;
reconsider D169 = C321 as (Element of ( NAT )) by L983;
set D170 = ( ( R6 /. D169 ) -term D165 );
L984: (( D166 . D169 ) = D170 & ( R6 . D169 ) = ( R6 /. D169 )) by L983 , L814 , PARTFUN1:def 6;
L985: (( variables_in D170 ) = { C320 } & D170 in ( rng D166 )) by L984 , L971 , L983 , ABCMIZ_1:86 , FUNCT_1:def 3;
L986: (C320 in { C320 } & { C320 } in D167) by L985 , TARSKI:def 1;
thus L987: thesis by L986 , L970 , TARSKI:def 4;
end;
theorem
L988: (for B230 being  finite (Subset of ( Vars )) holds (( varcl B230 ) = B230 implies (for B231 being (SortSymbol of ( MaxConstrSign )) holds (ex B232 being  constructor (OperSymbol of B231) st (ex B233 being (FinSequence of ( QuasiTerms ( MaxConstrSign ) )) st (( len B233 ) = ( len ( the_arity_of B232 ) ) & ( vars ( B232 -trm B233 ) ) = B230))))))
proof
let C322 being  finite (Subset of ( Vars ));
assume L989: ( varcl C322 ) = C322;
consider R6 being quasi-loci such that L990: ( rng R6 ) = C322 by L989 , L584;
set D171 = ( len R6 );
set D172 = ( MaxConstrSign );
let C323 being (SortSymbol of D172);
consider C324 being  constructor (OperSymbol of C323) such that L991: ( len ( the_arity_of C324 ) ) = D171 by L945;
take C324;
set D173 = ( args R6 );
take D173;
thus L992: ( len D173 ) = ( len ( the_arity_of C324 ) ) by L991 , L814;
thus L993: thesis by L989 , L990 , L991 , L967;
end;
definition
let C325 being (PartFunc of ( Vars ) , ( QuasiTypes ));
attr C325 is  even
means
:L994: (for R5 being variable holds (for R14 being quasi-type holds ((R5 in ( dom C325 ) & R14 = ( C325 . R5 )) implies ( vars R14 ) = ( vars R5 ))));
end;
definition
let C326 being quasi-loci;
mode type-distribution of C326
 -> (PartFunc of ( Vars ) , ( QuasiTypes ))
means :L996: (( dom it ) = ( rng C326 ) & it is  even);
existence
proof
defpred S8[ set , set ] means (ex R5 being variable st (ex R14 being quasi-type st ($1 = R5 & $2 = R14 & ( vars R14 ) = ( vars R5 ))));
L997: (for B234 being set holds (B234 in ( rng C326 ) implies (ex B235 being set st S8[ B234 , B235 ])))
proof
set D174 = ( MaxConstrSign );
let C327 being set;
assume L998: C327 in ( rng C326 );
reconsider D175 = C327 as variable by L998;
L999: ( varcl ( vars D175 ) ) = ( vars D175 ) by L90;
consider C328 being  constructor (OperSymbol of ( a_Type D174 )), C329 being (FinSequence of ( QuasiTerms D174 )) such that L1000: (( len C329 ) = ( len ( the_arity_of C328 ) ) & ( vars ( C328 -trm C329 ) ) = ( vars D175 )) by L999 , L988;
L1001: (( a_Type D174 ) in (the carrier of D174) & (the carrier of D174) c= ( rng (the ResultSort of D174) )) by ABCMIZ_1:def 54;
consider C330 being set such that L1002: (C330 in ( dom (the ResultSort of D174) ) & ( a_Type D174 ) = ( (the ResultSort of D174) . C330 )) by L1001 , FUNCT_1:def 3;
reconsider D176 = C330 as (OperSymbol of D174) by L1002;
L1003: ( the_result_sort_of D176 ) = ( a_Type D174 ) by L1002;
L1004: ( the_result_sort_of C328 ) = ( a_Type D174 ) by L1003 , ABCMIZ_1:def 32;
reconsider D177 = ( C328 -trm C329 ) as  pure (expression of D174 , ( a_Type D174 )) by L1004 , L1000 , ABCMIZ_1:75;
set D178 = ( {} ( QuasiAdjs D174 ) );
reconsider D179 = ( D178 ast D177 ) as quasi-type;
take D179;
take D175;
take D179;
thus L1005: thesis by L1000 , ABCMIZ_1:106;
end;
consider C331 being Function such that L1006: ( dom C331 ) = ( rng C326 ) and L1007: (for B236 being set holds (B236 in ( rng C326 ) implies S8[ B236 , ( C331 . B236 ) ])) from CLASSES1:sch 1(L997);
L1008: ( rng C331 ) c= ( QuasiTypes )
proof
let C332 being set;
assume L1009: C332 in ( rng C331 );
consider C333 being set such that L1010: (C333 in ( dom C331 ) & C332 = ( C331 . C333 )) by L1009 , FUNCT_1:def 3;
L1011: S8[ C333 , C332 ] by L1006 , L1007 , L1010;
thus L1012: thesis by L1011 , ABCMIZ_1:def 43;
end;
reconsider D180 = C331 as (PartFunc of ( Vars ) , ( QuasiTypes )) by L1008 , L1006 , RELSET_1:4;
take D180;
thus L1013: ( dom D180 ) = ( rng C326 ) by L1006;
let R5 being variable;
let R14 being quasi-type;
assume L1014: (R5 in ( dom D180 ) & R14 = ( D180 . R5 ));
L1015: S8[ R5 , R14 ] by L1014 , L1006 , L1007;
thus L1016: thesis by L1015;
end;
end;
theorem
L1018: (for B237 being  empty quasi-loci holds ( {} ) is (type-distribution of B237))
proof
let C334 being  empty quasi-loci;
reconsider D181 = ( {} ) as (PartFunc of ( Vars ) , ( QuasiTypes )) by RELSET_1:12;
L1019: (for R5 being variable holds (for R14 being quasi-type holds ((R5 in ( dom D181 ) & R14 = ( D181 . R5 )) implies ( vars R14 ) = ( vars R5 ))));
L1020: (( dom D181 ) = ( rng C334 ) & D181 is  even) by L1019 , L994;
thus L1021: thesis by L1020 , L996;
end;
