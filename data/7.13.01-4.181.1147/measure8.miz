:: The Hopf Extension Theorem of Measure
::  by Noboru Endou , Hiroyuki Okazaki and Yasunari Shidama
::
:: Received April 7, 2009
:: Copyright (c) 2009-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, PROB_1, MEASURE1, SUBSET_1, MESFUNC5, ORDINAL1,
      SUPINF_2, SERIES_1, FUNCT_1, NAT_1, ARYTM_3, CARD_1, CARD_3, VALUED_0,
      SEQ_2, ORDINAL2, XXREAL_0, RELAT_1, PROB_2, XBOOLE_0, TARSKI, FINSEQ_1,
      ZFMISC_1, FUNCOP_1, FUNCT_2, MEASURE7, SUPINF_1, NAGATA_2, MCART_1,
      FUNCT_7, XXREAL_2, XREAL_0, REAL_1, MEASURE4, PROB_3, SETLIM_2, ARYTM_1,
      SETLIM_1, EQREL_1, LATTICE5, MEASURE2, MEASURE8;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, ORDINAL1, XXREAL_0, XXREAL_2,
      XREAL_0, VALUED_0, REAL_1, RELAT_1, FUNCOP_1, FUNCT_1, RELSET_1,
      PARTFUN1, FUNCT_2, NUMBERS, FINSEQ_1, SETFAM_1, RINFSUP2, MEASURE1,
      MEASURE2, MEASURE4, MESFUNC5, SUPINF_2, XXREAL_3, NAT_1, MESFUNC9,
      SUPINF_1, RECDEF_1, PROB_1, PROB_2, PROB_3, SETLIM_1, SETLIM_2, NAGATA_2,
      FUNCT_7;
 constructors KURATO_0, MESFUNC5, RINFSUP2, MESFUNC9, SUPINF_1, PROB_3,
      MEASURE7, RECDEF_1, SETLIM_2, SETLIM_1, NAGATA_2, FUNCT_7;
 registrations MEMBERED, ORDINAL1, MEASURE1, XBOOLE_0, NUMBERS, XXREAL_0,
      VALUED_0, FUNCT_1, FUNCT_2, SUBSET_1, RELSET_1, MEASURE4, NAT_1,
      XXREAL_3, XREAL_0, PROB_3;
 requirements NUMERALS, REAL, BOOLE, SUBSET;
 definitions SUPINF_2, TARSKI, PROB_2, RINFSUP2, MESFUNC9;
 theorems ZFMISC_1, TARSKI, XBOOLE_0, PROB_1, MEASURE1, FUNCT_2, FUNCT_1,
      XBOOLE_1, PROB_3, FINSEQ_1, RELAT_1, MEASURE4, ORDINAL1, NAT_1, FUNCOP_1,
      SUPINF_2, XXREAL_2, PROB_4, MEASURE7, XXREAL_0, MEASURE6, FINSUB_1,
      CARD_3, RINFSUP2, MESFUNC9, VALUED_0, MESFUNC5, MONOID_1, MEASURE2,
      SETLIM_1, SETLIM_2, ABCMIZ_1, PROB_2, NAGATA_2, FUNCTOR1, FUNCT_7,
      XXREAL_3, XREAL_0, PARTFUN1, XTUPLE_0;
 schemes FUNCT_2, NAT_1, BINOP_2, XBOOLE_0, SUBSET_1;

begin
theorem
L1: (for R7 being ExtREAL_sequence holds ( Ser R7 ) = ( Partial_Sums R7 ))
proof
let R7 being ExtREAL_sequence;
L2: (for B1 being set holds (B1 in ( NAT ) implies ( ( Ser R7 ) . B1 ) = ( ( Partial_Sums R7 ) . B1 )))
proof
defpred S1[ Nat ] means ( ( Ser R7 ) . $1 ) = ( ( Partial_Sums R7 ) . $1 );
let C1 being set;
L3: (for B2 being (Element of ( NAT )) holds (S1[ B2 ] implies S1[ ( B2 + 1 ) ]))
proof
let C2 being (Element of ( NAT ));
assume L4: S1[ C2 ];
L5: ( ( Ser R7 ) . ( C2 + 1 ) ) = ( ( ( Partial_Sums R7 ) . C2 ) + ( R7 . ( C2 + 1 ) ) ) by L4 , SUPINF_2:44;
thus L6: S1[ ( C2 + 1 ) ] by L5 , MESFUNC9:def 1;
end;
assume L7: C1 in ( NAT );
reconsider D1 = C1 as (Element of ( NAT )) by L7;
L8: ( ( Ser R7 ) . ( 0 ) ) = ( R7 . ( 0 ) ) by SUPINF_2:44
.= ( ( Partial_Sums R7 ) . ( 0 ) ) by MESFUNC9:def 1;
L9: S1[ ( 0 ) ] by L8;
L10: (for B3 being (Element of ( NAT )) holds S1[ B3 ]) from NAT_1:sch 1(L9 , L3);
L11: ( ( Ser R7 ) . C1 ) = ( ( Partial_Sums R7 ) . D1 ) by L10;
thus L12: ( ( Ser R7 ) . C1 ) = ( ( Partial_Sums R7 ) . C1 ) by L11;
end;
thus L13: ( Ser R7 ) = ( Partial_Sums R7 ) by L2 , FUNCT_2:12;
end;
theorem
L14: (for R7 being ExtREAL_sequence holds (R7 is  nonnegative implies (R7 is  summable & ( SUM R7 ) = ( Sum R7 ))))
proof
let R7 being ExtREAL_sequence;
assume L15: R7 is  nonnegative;
L16: ( Partial_Sums R7 ) is  non-decreasing by L15 , MESFUNC9:16;
L17: ( Partial_Sums R7 ) is  convergent by L16 , RINFSUP2:37;
thus L18: R7 is  summable by L17 , MESFUNC9:def 2;
L19: ( lim ( Partial_Sums R7 ) ) = ( sup ( Partial_Sums R7 ) ) by L16 , RINFSUP2:37;
thus L20: ( Sum R7 ) = ( SUM R7 ) by L19 , L1;
end;
theorem
L21: (for R7 being ExtREAL_sequence holds (for R8 being ExtREAL_sequence holds (for R9 being ExtREAL_sequence holds ((R8 is  nonnegative & R9 is  nonnegative & (for B4 being Nat holds ( R7 . B4 ) = ( ( R8 . B4 ) + ( R9 . B4 ) ))) implies (R7 is  nonnegative & ( SUM R7 ) = ( ( SUM R8 ) + ( SUM R9 ) ) & ( Sum R7 ) = ( ( Sum R8 ) + ( Sum R9 ) ))))))
proof
let R7 being ExtREAL_sequence;
let R8 being ExtREAL_sequence;
let R9 being ExtREAL_sequence;
assume that
L22: R8 is  nonnegative
and
L23: R9 is  nonnegative;
reconsider D2 = ( Ser R9 ) as ExtREAL_sequence;
reconsider D3 = ( Ser R8 ) as ExtREAL_sequence;
reconsider D4 = ( Ser R7 ) as ExtREAL_sequence;
assume L24: (for B5 being Nat holds ( R7 . B5 ) = ( ( R8 . B5 ) + ( R9 . B5 ) ));
L25: (for B6 being (Element of ( NAT )) holds ( R7 . B6 ) = ( ( R8 . B6 ) + ( R9 . B6 ) )) by L24;
L26: (for B7 being Nat holds ( D4 . B7 ) = ( ( D3 . B7 ) + ( D2 . B7 ) ))
proof
let C3 being Nat;
L27: C3 in ( NAT ) by ORDINAL1:def 12;
thus L28: ( D4 . C3 ) = ( ( D3 . C3 ) + ( D2 . C3 ) ) by L27 , L22 , L23 , L25 , MEASURE7:3;
end;
L29: (for B8 , B9 being  ext-real number holds ((B8 in ( dom D4 ) & B9 in ( dom D4 ) & B8 <= B9) implies ( D4 . B8 ) <= ( D4 . B9 )))
proof
let C4 , C5 being  ext-real number;
assume that
L30: C4 in ( dom D4 )
and
L31: C5 in ( dom D4 )
and
L32: C4 <= C5;
L33: (( D3 . C4 ) <= ( D3 . C5 ) & ( D2 . C4 ) <= ( D2 . C5 )) by L22 , L23 , L30 , L31 , L32 , MEASURE7:8;
L34: ( ( D3 . C4 ) + ( D2 . C4 ) ) <= ( ( D3 . C5 ) + ( D2 . C5 ) ) by L33 , XXREAL_3:36;
L35: ( D4 . C4 ) <= ( ( D3 . C5 ) + ( D2 . C5 ) ) by L34 , L22 , L23 , L25 , L30 , MEASURE7:3;
thus L36: thesis by L35 , L22 , L23 , L25 , L31 , MEASURE7:3;
end;
L37: D4 is  non-decreasing by L29 , VALUED_0:def 15;
L38: ( lim D4 ) = ( sup D4 ) by L37 , RINFSUP2:37;
L39: ( Partial_Sums R8 ) is  non-decreasing by L22 , MESFUNC9:16;
L40: D3 is  non-decreasing by L39 , L1;
L41: (D3 is  convergent & ( lim D3 ) = ( sup D3 )) by L40 , RINFSUP2:37;
L42: ( Partial_Sums R9 ) is  nonnegative by L23 , MESFUNC9:16;
L43: D2 is  nonnegative by L42 , L1;
L44:
now
let C6 being set;
assume L45: C6 in ( dom R7 );
reconsider D5 = C6 as (Element of ( NAT )) by L45;
L46: ( R9 . D5 ) >= ( 0 ) by L23 , SUPINF_2:51;
L47: (( R7 . C6 ) = ( ( R8 . D5 ) + ( R9 . D5 ) ) & ( R8 . D5 ) >= ( 0 )) by L22 , L24 , SUPINF_2:51;
thus L48: ( R7 . C6 ) >= ( 0 ) by L47 , L46;
end;
thus L49: R7 is  nonnegative by L44 , SUPINF_2:52;
L50: ( Partial_Sums R9 ) is  non-decreasing by L23 , MESFUNC9:16;
L51: D2 is  non-decreasing by L50 , L1;
L52: (D2 is  convergent & ( lim D2 ) = ( sup D2 )) by L51 , RINFSUP2:37;
L53: ( Partial_Sums R8 ) is  nonnegative by L22 , MESFUNC9:16;
L54: D3 is  nonnegative by L53 , L1;
thus L55: ( SUM R7 ) = ( ( SUM R8 ) + ( SUM R9 ) ) by L54 , L41 , L43 , L52 , L26 , L38 , MESFUNC9:11;
L56: ( Sum R7 ) = ( ( SUM R8 ) + ( SUM R9 ) ) by L55 , L49 , L14;
L57: ( Sum R7 ) = ( ( Sum R8 ) + ( SUM R9 ) ) by L56 , L22 , L14;
thus L58: ( Sum R7 ) = ( ( Sum R8 ) + ( Sum R9 ) ) by L57 , L23 , L14;
end;
registration
let R1 being set;
let R2 being (Field_Subset of R1);
cluster  disjoint_valued for (Function of ( NAT ) , R2);
existence
proof
consider C7 being (Function of ( NAT ) , { ( {} ) }) such that L59: (for B10 being (Element of ( NAT )) holds ( C7 . B10 ) = ( {} )) by MEASURE1:16;
L60: ( {} ) in R2 by PROB_1:4;
L61: { ( {} ) } c= R2 by L60 , ZFMISC_1:31;
reconsider D6 = C7 as (Function of ( NAT ) , R2) by L61 , FUNCT_2:7;
take D6;
L62: (for B11 being set holds ( D6 . B11 ) = ( {} ))
proof
let C8 being set;
L63: (C8 in ( dom D6 ) implies ( D6 . C8 ) = ( {} )) by L59;
thus L64: thesis by L63 , FUNCT_1:def 2;
end;
thus L65: (for B12 , B13 being set holds (B12 <> B13 implies ( D6 . B12 ) misses ( D6 . B13 )))
proof
let C9 , C10 being set;
L66: ( D6 . C9 ) = ( {} ) by L62;
thus L67: thesis by L66 , XBOOLE_1:65;
end;

end;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
mode FinSequence of R2
 -> (FinSequence of ( bool R1 ))
means :L67: (for B14 being Nat holds (B14 in ( dom it ) implies ( it . B14 ) in R2));
existence
proof
consider C11 being (FinSequence of ( bool R1 )) such that L68: (for B15 being Nat holds (B15 in ( dom C11 ) implies ( C11 . B15 ) = R1)) by PROB_3:47;
take C11;
thus L69:now
let C12 being Nat;
assume L70: C12 in ( dom C11 );
L71: ( C11 . C12 ) = R1 by L70 , L68;
thus L72: ( C11 . C12 ) in R2 by L71 , PROB_1:5;
end;
end;
end;
registration
let R1 being set;
let R2 being (Field_Subset of R1);
cluster  disjoint_valued for (FinSequence of R2);
existence
proof
L71: ( {} ) c= R1 by XBOOLE_1:2;
reconsider D7 = <* ( {} ) *> as (FinSequence of ( bool R1 )) by L71 , FINSEQ_1:74;
L72: (for B16 being Nat holds (B16 in ( dom D7 ) implies ( D7 . B16 ) in R2))
proof
let C13 being Nat;
assume L73: C13 in ( dom D7 );
L74: C13 in ( Seg 1 ) by L73 , FINSEQ_1:def 8;
L75: C13 = 1 by L74 , FINSEQ_1:2 , TARSKI:def 1;
L76: ( D7 . C13 ) = ( {} ) by L75 , FINSEQ_1:def 8;
thus L77: ( D7 . C13 ) in R2 by L76 , PROB_1:4;
end;
reconsider D8 = <* ( {} ) *> as (FinSequence of R2) by L72 , L67;
take D8;
L78: (for B17 being set holds ( D8 . B17 ) = ( {} ))
proof
let C14 being set;
L79:
now
assume L80: C14 in ( dom D8 );
L81: C14 in ( Seg 1 ) by L80 , FINSEQ_1:def 8;
L82: C14 = 1 by L81 , FINSEQ_1:2 , TARSKI:def 1;
thus L83: ( D8 . C14 ) = ( {} ) by L82 , FINSEQ_1:def 8;
end;
thus L84: thesis by L79 , FUNCT_1:def 2;
end;
thus L85: (for B18 , B19 being set holds (B18 <> B19 implies ( D8 . B18 ) misses ( D8 . B19 )))
proof
let C15 , C16 being set;
L86: ( D8 . C15 ) = ( {} ) by L78;
thus L87: thesis by L86 , XBOOLE_1:65;
end;

end;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
mode Sep_FinSequence of R2
 is  disjoint_valued (FinSequence of R2);
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
mode Sep_Sequence of R2
 is  disjoint_valued (Function of ( NAT ) , R2);
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
mode Set_Sequence of R2
 -> (SetSequence of R1)
means :L89: (for B20 being Nat holds ( it . B20 ) in R2);
existence
proof
L90: R1 in ( bool R1 ) by ZFMISC_1:def 1;
reconsider D9 = ( ( NAT ) --> R1 ) as (SetSequence of R1) by L90 , FUNCOP_1:45;
take D9;
let C17 being Nat;
L91: C17 is (Element of ( NAT )) by ORDINAL1:def 12;
L92: ( D9 . C17 ) = R1 by L91 , FUNCOP_1:7;
thus L93: thesis by L92 , PROB_1:5;
end;
end;
definition
let R1 being set;
let R4 being (Subset of R1);
let R2 being (Field_Subset of R1);
mode Covering of R4 , R2
 -> (Set_Sequence of R2)
means :L95: R4 c= ( union ( rng it ) );
existence
proof
L96: R1 in ( bool R1 ) by ZFMISC_1:def 1;
reconsider D10 = ( ( NAT ) --> R1 ) as (SetSequence of R1) by L96 , FUNCOP_1:45;
L97: (for B21 being Nat holds ( D10 . B21 ) in R2)
proof
let C18 being Nat;
L98: C18 in ( NAT ) by ORDINAL1:def 12;
L99: ( D10 . C18 ) = R1 by L98 , FUNCOP_1:7;
thus L100: ( D10 . C18 ) in R2 by L99 , PROB_1:5;
end;
reconsider D11 = D10 as (Set_Sequence of R2) by L97 , L89;
take D11;
L101: ( rng D11 ) = { R1 } by FUNCOP_1:8;
L102: R1 c= ( union ( rng D11 ) ) by L101 , ZFMISC_1:25;
thus L103: thesis by L102 , XBOOLE_1:1;
end;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R12 being (Set_Sequence of R2);
let R10 being Nat;
redefine func R12 . R10 -> (Element of R2);

correctness by L89;
end;
L106: (for R1 being set holds (for R2 being (Field_Subset of R1) holds ( ( NAT ) --> R1 ) is (Set_Sequence of R2)))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
L107: R1 in ( bool R1 ) by ZFMISC_1:def 1;
reconsider D12 = ( ( NAT ) --> R1 ) as (SetSequence of R1) by L107 , FUNCOP_1:45;
L108: ( rng ( ( NAT ) --> R1 ) ) = { R1 } by FUNCOP_1:8;
L109: (for B22 being Nat holds ( D12 . B22 ) in R2)
proof
let C19 being Nat;
L110: C19 in ( NAT ) by ORDINAL1:def 12;
L111: ( D12 . C19 ) in { R1 } by L110 , L108 , FUNCT_2:4;
L112: ( D12 . C19 ) = R1 by L111 , TARSKI:def 1;
thus L113: ( D12 . C19 ) in R2 by L112 , PROB_1:5;
end;
thus L114: ( ( NAT ) --> R1 ) is (Set_Sequence of R2) by L109 , L89;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R6 being (SetSequence of R1);
mode Covering of R6 , R2
 -> (Function of ( NAT ) , ( Funcs (( NAT ) , ( bool R1 )) ))
means :L115: (for B23 being Nat holds ( it . B23 ) is (Covering of ( R6 . B23 ) , R2));
existence
proof
reconsider D13 = ( ( NAT ) --> R1 ) as (Set_Sequence of R2) by L106;
reconsider D14 = D13 as (Element of ( Funcs (( NAT ) , ( bool R1 )) )) by FUNCT_2:8;
reconsider D15 = ( ( NAT ) --> D14 ) as (Function of ( NAT ) , ( Funcs (( NAT ) , ( bool R1 )) ));
take D15;
thus L116:now
let C20 being Nat;
L117: ( rng ( ( NAT ) --> R1 ) ) = { R1 } by FUNCOP_1:8;
L118: R1 c= ( union ( rng ( ( NAT ) --> R1 ) ) ) by L117 , ZFMISC_1:25;
L119: ( R6 . C20 ) c= ( union ( rng ( ( NAT ) --> R1 ) ) ) by L118 , XBOOLE_1:1;
L120: C20 in ( NAT ) by ORDINAL1:def 12;
L121: ( D15 . C20 ) = ( ( NAT ) --> R1 ) by L120 , FUNCOP_1:7;
thus L122: ( D15 . C20 ) is (Covering of ( R6 . C20 ) , R2) by L121 , L119 , L95;
end;
end;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R12 being (Set_Sequence of R2);
func vol (R3 , R12) -> ExtREAL_sequence means 
:L118: (for R10 being Nat holds ( it . R10 ) = ( R3 . ( R12 . R10 ) ));
existence
proof
deffunc H1((Element of ( NAT ))) = ( R3 . ( R12 . $1 ) );
consider C21 being (Function of ( NAT ) , ( ExtREAL )) such that L119: (for B24 being (Element of ( NAT )) holds ( C21 . B24 ) = H1(B24)) from FUNCT_2:sch 4;
take C21;
thus L120:now
let C22 being Nat;
L121: C22 in ( NAT ) by ORDINAL1:def 12;
thus L122: ( C21 . C22 ) = ( R3 . ( R12 . C22 ) ) by L121 , L119;
end;
end;
uniqueness
proof
let C23 , C24 being (Function of ( NAT ) , ( ExtREAL ));
assume that
L121: (for B25 being Nat holds ( C23 . B25 ) = ( R3 . ( R12 . B25 ) ))
and
L122: (for B26 being Nat holds ( C24 . B26 ) = ( R3 . ( R12 . B26 ) ));
L123:
now
let C25 being set;
assume L124: C25 in ( NAT );
reconsider D16 = C25 as Nat by L124;
thus L125: ( C23 . C25 ) = ( R3 . ( R12 . D16 ) ) by L121
.= ( C24 . C25 ) by L122;
end;
thus L126: thesis by L123 , FUNCT_2:12;
end;
end;
theorem
L128: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R12 being (Set_Sequence of R2) holds ( vol (R3 , R12) ) is  nonnegative))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R12 being (Set_Sequence of R2);
L129: (for B27 being (Element of ( NAT )) holds ( 0 ) <= ( ( vol (R3 , R12) ) . B27 ))
proof
let C26 being (Element of ( NAT ));
L130: (( ( vol (R3 , R12) ) . C26 ) = ( R3 . ( R12 . C26 ) ) & ( {} ) in R2) by L118 , PROB_1:4;
L131: ( R3 . ( {} ) ) <= ( ( vol (R3 , R12) ) . C26 ) by L130 , MEASURE1:8 , XBOOLE_1:2;
thus L132: ( 0 ) <= ( ( vol (R3 , R12) ) . C26 ) by L131 , VALUED_0:def 19;
end;
thus L133: thesis by L129 , SUPINF_2:39;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R6 being (SetSequence of R1);
let R14 being (Covering of R6 , R2);
let R10 being Nat;
redefine func R14 . R10 -> (Covering of ( R6 . R10 ) , R2);

correctness by L115;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R6 being (SetSequence of R1);
let R3 being (Measure of R2);
let R14 being (Covering of R6 , R2);
func Volume (R3 , R14) -> ExtREAL_sequence means 
:L135: (for B28 being Nat holds ( it . B28 ) = ( SUM ( vol (R3 , ( R14 . B28 )) ) ));
existence
proof
defpred S2[ (Element of ( NAT )) , (Element of ( ExtREAL )) ] means $2 = ( SUM ( vol (R3 , ( R14 . $1 )) ) );
L136: (for B29 being (Element of ( NAT )) holds (ex B30 being (Element of ( ExtREAL )) st S2[ B29 , B30 ]));
consider C27 being (Function of ( NAT ) , ( ExtREAL )) such that L137: (for B31 being (Element of ( NAT )) holds S2[ B31 , ( C27 . B31 ) ]) from FUNCT_2:sch 3(L136);
take C27;
thus L138:now
let C28 being Nat;
L139: C28 in ( NAT ) by ORDINAL1:def 12;
thus L140: ( C27 . C28 ) = ( SUM ( vol (R3 , ( R14 . C28 )) ) ) by L139 , L137;
end;
end;
uniqueness
proof
let C29 , C30 being (Function of ( NAT ) , ( ExtREAL ));
assume that
L139: (for B32 being Nat holds ( C29 . B32 ) = ( SUM ( vol (R3 , ( R14 . B32 )) ) ))
and
L140: (for B33 being Nat holds ( C30 . B33 ) = ( SUM ( vol (R3 , ( R14 . B33 )) ) ));
L141:
now
let C31 being set;
assume L142: C31 in ( NAT );
reconsider D17 = C31 as Nat by L142;
thus L143: ( C29 . C31 ) = ( SUM ( vol (R3 , ( R14 . D17 )) ) ) by L139
.= ( C30 . C31 ) by L140;
end;
thus L144: thesis by L141 , FUNCT_2:12;
end;
end;
theorem
L146: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R6 being (SetSequence of R1) holds (for R10 being Nat holds (for R14 being (Covering of R6 , R2) holds ( 0 ) <= ( ( Volume (R3 , R14) ) . R10 )))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R6 being (SetSequence of R1);
let R10 being Nat;
let R14 being (Covering of R6 , R2);
L147: (for B34 being (Element of ( NAT )) holds ( 0 ) <= ( ( vol (R3 , ( R14 . R10 )) ) . B34 ))
proof
let C32 being (Element of ( NAT ));
L148: ( 0 ) <= ( R3 . ( ( R14 . R10 ) . C32 ) ) by SUPINF_2:51;
thus L149: thesis by L148 , L118;
end;
L150: ( vol (R3 , ( R14 . R10 )) ) is  nonnegative by L147 , SUPINF_2:39;
L151: ( ( Volume (R3 , R14) ) . R10 ) = ( SUM ( vol (R3 , ( R14 . R10 )) ) ) by L135;
thus L152: thesis by L151 , L150 , MEASURE6:2;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R4 being (Subset of R1);
func Svc (R3 , R4) -> (Subset of ( ExtREAL )) means 
:L153: (for B35 being R_eal holds (B35 in it iff (ex B36 being (Covering of R4 , R2) st B35 = ( SUM ( vol (R3 , B36) ) ))));
existence
proof
defpred S3[ set ] means (ex B37 being (Covering of R4 , R2) st $1 = ( SUM ( vol (R3 , B37) ) ));
consider C33 being set such that L154: (for B38 being set holds (B38 in C33 iff (B38 in ( ExtREAL ) & S3[ B38 ]))) from XBOOLE_0:sch 1;
L155: (for B39 being set holds (B39 in C33 implies B39 in ( ExtREAL ))) by L154;
reconsider D18 = C33 as (Subset of ( ExtREAL )) by L155 , TARSKI:def 3;
take D18;
thus L156: thesis by L154;
end;
uniqueness
proof
defpred S4[ set ] means (ex B40 being (Covering of R4 , R2) st $1 = ( SUM ( vol (R3 , B40) ) ));
let C34 , C35 being (Subset of ( ExtREAL ));
assume that
L157: (for B41 being R_eal holds (B41 in C34 iff S4[ B41 ]))
and
L158: (for B42 being R_eal holds (B42 in C35 iff S4[ B42 ]));
thus L159: C34 = C35 from SUBSET_1:sch 2(L157 , L158);
end;
end;
registration
let R1 being set;
let R4 being (Subset of R1);
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
cluster ( Svc (R3 , R4) ) -> non  empty;
coherence
proof
L161: (R1 c= R1 & ( {} ) c= R1) by XBOOLE_1:2;
consider C36 being (Function of ( NAT ) , ( bool R1 )) such that L162: ( rng C36 ) = { R1 , ( {} ) } and L163: ( C36 . ( 0 ) ) = R1 and L164: (for B43 being (Element of ( NAT )) holds (( 0 ) < B43 implies ( C36 . B43 ) = ( {} ))) by L161 , MEASURE1:19;
L165: (for B44 being Nat holds ( C36 . B44 ) in R2)
proof
let C37 being Nat;
L166: C37 in ( NAT ) by ORDINAL1:def 12;
L167: ( C36 . C37 ) in ( rng C36 ) by L166 , FUNCT_2:4;
L168: (R1 in R2 & ( {} ) in R2) by PROB_1:4 , PROB_1:5;
L169: ( rng C36 ) c= R2 by L168 , L162 , ZFMISC_1:32;
thus L170: ( C36 . C37 ) in R2 by L169 , L167;
end;
L171: (( union { R1 , ( {} ) } ) = ( R1 \/ ( {} ) ) & C36 is (Set_Sequence of R2)) by L165 , L89 , ZFMISC_1:75;
reconsider D19 = C36 as (Covering of R4 , R2) by L171 , L162 , L95;
defpred S5[ set ] means (ex B45 being (Covering of R4 , R2) st $1 = ( SUM ( vol (R3 , B45) ) ));
consider C38 being set such that L172: (for B46 being set holds (B46 in C38 iff (B46 in ( ExtREAL ) & S5[ B46 ]))) from XBOOLE_0:sch 1;
L173: ( SUM ( vol (R3 , D19) ) ) in C38 by L172;
thus L174: thesis by L173 , L153;
end;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
func C_Meas R3 -> (Function of ( bool R1 ) , ( ExtREAL )) means 
:L176: (for B47 being (Subset of R1) holds ( it . B47 ) = ( inf ( Svc (R3 , B47) ) ));
existence
proof
deffunc H2((Element of (( bool R1 ) qua set))) = ( inf ( Svc (R3 , $1) ) );
thus L177: (ex B48 being (Function of ( bool R1 ) , ( ExtREAL )) st (for B49 being (Subset of R1) holds ( B48 . B49 ) = H2(B49))) from FUNCT_2:sch 4;
end;
uniqueness
proof
deffunc H3((Subset of R1)) = ( inf ( Svc (R3 , $1) ) );
thus L178: (for B50 , B51 being (Function of ( bool R1 ) , ( ExtREAL )) holds (((for B52 being (Subset of R1) holds ( B50 . B52 ) = H3(B52)) & (for B53 being (Subset of R1) holds ( B51 . B53 ) = H3(B53))) implies B50 = B51)) from BINOP_2:sch 1;
end;
end;
definition
func InvPairFunc -> (Function of ( NAT ) , [: ( NAT ) , ( NAT ) :]) equals 
( ( PairFunc ) " );
correctness by FUNCTOR1:2 , NAGATA_2:2;
end;
definition
let R1 being set;
let R2 being (Field_Subset of R1);
let R6 being (SetSequence of R1);
let R14 being (Covering of R6 , R2);
func On R14 -> (Covering of ( union ( rng R6 ) ) , R2) means 
:L181: (for B54 being Nat holds ( it . B54 ) = ( ( R14 . ( ( pr1 ( InvPairFunc ) ) . B54 ) ) . ( ( pr2 ( InvPairFunc ) ) . B54 ) ));
existence
proof
defpred S6[ (Element of ( NAT )) , (Subset of R1) ] means $2 = ( ( R14 . ( ( pr1 ( InvPairFunc ) ) . $1 ) ) . ( ( pr2 ( InvPairFunc ) ) . $1 ) );
L182: (for B55 being (Element of ( NAT )) holds (ex B56 being (Subset of R1) st S6[ B55 , B56 ]));
consider C39 being (Function of ( NAT ) , ( bool R1 )) such that L183: (for B57 being (Element of ( NAT )) holds S6[ B57 , ( C39 . B57 ) ]) from FUNCT_2:sch 3(L182);
reconsider D20 = C39 as (SetSequence of R1);
L184: (for B58 being Nat holds ( D20 . B58 ) in R2)
proof
let C40 being Nat;
L185: C40 in ( NAT ) by ORDINAL1:def 12;
L186: ( D20 . C40 ) = ( ( R14 . ( ( pr1 ( InvPairFunc ) ) . C40 ) ) . ( ( pr2 ( InvPairFunc ) ) . C40 ) ) by L185 , L183;
thus L187: ( D20 . C40 ) in R2 by L186;
end;
reconsider D21 = D20 as (Set_Sequence of R2) by L184 , L89;
L188: ( union ( rng R6 ) ) c= ( union ( rng D21 ) )
proof
let C41 being set;
assume L189: C41 in ( union ( rng R6 ) );
consider C42 being set such that L190: C41 in C42 and L191: C42 in ( rng R6 ) by L189 , TARSKI:def 4;
consider C43 being (Element of ( NAT )) such that L192: C42 = ( R6 . C43 ) by L191 , FUNCT_2:113;
L193: ( R6 . C43 ) c= ( union ( rng ( R14 . C43 ) ) ) by L95;
consider C44 being set such that L194: C41 in C44 and L195: C44 in ( rng ( R14 . C43 ) ) by L193 , L190 , L192 , TARSKI:def 4;
consider C45 being (Element of ( NAT )) such that L196: C44 = ( ( R14 . C43 ) . C45 ) by L195 , FUNCT_2:113;
L197: ( dom ( PairFunc ) ) = ( rng ( InvPairFunc ) ) by FUNCT_1:33 , NAGATA_2:2;
L198: ( rng ( InvPairFunc ) ) = [: ( NAT ) , ( NAT ) :] by L197 , FUNCT_2:def 1;
L199: [ C43 , C45 ] in ( rng ( InvPairFunc ) ) by L198 , ZFMISC_1:def 2;
consider C46 being (Element of ( NAT )) such that L200: [ C43 , C45 ] = ( ( InvPairFunc ) . C46 ) by L199 , FUNCT_2:113;
L201: [ ( ( pr1 ( InvPairFunc ) ) . C46 ) , ( ( pr2 ( InvPairFunc ) ) . C46 ) ] = [ C43 , C45 ] by L200 , FUNCT_2:119;
L202: (( ( pr1 ( InvPairFunc ) ) . C46 ) = C43 & ( ( pr2 ( InvPairFunc ) ) . C46 ) = C45) by L201 , XTUPLE_0:1;
L203: C41 in ( D21 . C46 ) by L202 , L183 , L194 , L196;
L204: ( D21 . C46 ) in ( rng D21 ) by FUNCT_2:4;
thus L205: thesis by L204 , L203 , TARSKI:def 4;
end;
reconsider D22 = D21 as (Covering of ( union ( rng R6 ) ) , R2) by L188 , L95;
take D22;
thus L206:now
let C47 being Nat;
L207: C47 in ( NAT ) by ORDINAL1:def 12;
thus L208: ( D22 . C47 ) = ( ( R14 . ( ( pr1 ( InvPairFunc ) ) . C47 ) ) . ( ( pr2 ( InvPairFunc ) ) . C47 ) ) by L207 , L183;
end;
end;
uniqueness
proof
let C48 , C49 being (Covering of ( union ( rng R6 ) ) , R2);
assume that
L207: (for B59 being Nat holds ( C48 . B59 ) = ( ( R14 . ( ( pr1 ( InvPairFunc ) ) . B59 ) ) . ( ( pr2 ( InvPairFunc ) ) . B59 ) ))
and
L208: (for B60 being Nat holds ( C49 . B60 ) = ( ( R14 . ( ( pr1 ( InvPairFunc ) ) . B60 ) ) . ( ( pr2 ( InvPairFunc ) ) . B60 ) ));
L209: (for B61 being set holds (B61 in ( NAT ) implies ( C48 . B61 ) = ( C49 . B61 )))
proof
let C50 being set;
assume L210: C50 in ( NAT );
reconsider D23 = C50 as (Element of ( NAT )) by L210;
L211: ( C48 . D23 ) = ( ( R14 . ( ( pr1 ( InvPairFunc ) ) . D23 ) ) . ( ( pr2 ( InvPairFunc ) ) . D23 ) ) by L207;
thus L212: thesis by L211 , L208;
end;
thus L213: thesis by L209 , FUNCT_2:12;
end;
end;
theorem
L215: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for B62 being (Element of ( NAT )) holds (ex B63 being Nat st (for B64 being (SetSequence of R1) holds (for B65 being (Covering of B64 , R2) holds ( ( Partial_Sums ( vol (R3 , ( On B65 )) ) ) . B62 ) <= ( ( Partial_Sums ( Volume (R3 , B65) ) ) . B63 ))))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
defpred S7[ (Element of ( NAT )) ] means (ex B66 being Nat st (for B67 being (SetSequence of R1) holds (for B68 being (Covering of B67 , R2) holds ( ( Partial_Sums ( vol (R3 , ( On B68 )) ) ) . $1 ) <= ( ( Partial_Sums ( Volume (R3 , B68) ) ) . B66 ))));
L216: ( {} ) c= R1 by XBOOLE_1:2;
reconsider D24 = ( ( NAT ) --> ( {} ) ) as (Function of ( NAT ) , ( bool R1 )) by L216 , FUNCOP_1:45;
reconsider D25 = D24 as (Element of ( Funcs (( NAT ) , ( bool R1 )) )) by FUNCT_2:8;
L217: (for B69 being (Element of ( NAT )) holds (S7[ B69 ] implies S7[ ( B69 + 1 ) ]))
proof
let C51 being (Element of ( NAT ));
set D26 = ( ( pr1 ( InvPairFunc ) ) . ( C51 + 1 ) );
set D27 = ( ( pr2 ( InvPairFunc ) ) . ( C51 + 1 ) );
set D28 = { B70 where B70 is (Element of ( NAT )) : D26 = ( ( pr1 ( InvPairFunc ) ) . B70 ) };
L218: D28 c= ( NAT )
proof
let C52 being set;
assume L219: C52 in D28;
L220: (ex B71 being (Element of ( NAT )) st (B71 = C52 & D26 = ( ( pr1 ( InvPairFunc ) ) . B71 ))) by L219;
thus L221: thesis by L220;
end;
L222: ( C51 + 1 ) in D28;
reconsider D29 = D28 as non  empty (Subset of ( NAT )) by L222 , L218;
given C53 being Nat such that
L223: (for B72 being (SetSequence of R1) holds (for B73 being (Covering of B72 , R2) holds ( ( Partial_Sums ( vol (R3 , ( On B73 )) ) ) . C51 ) <= ( ( Partial_Sums ( Volume (R3 , B73) ) ) . C53 )));

take D30 = ( C53 + ( ( pr1 ( InvPairFunc ) ) . ( C51 + 1 ) ) );
let C54 being (SetSequence of R1);
let C55 being (Covering of C54 , R2);
defpred S8[ (Element of ( NAT )) , Function ] means (($1 = D26 implies (for B74 being (Element of ( NAT )) holds ( $2 . B74 ) = ( ( C55 . $1 ) . B74 ))) & ($1 <> D26 implies (for B75 being (Element of ( NAT )) holds ( $2 . B75 ) = ( {} ))));
defpred S9[ (Element of ( NAT )) , Function ] means (($1 <> D26 implies (for B76 being (Element of ( NAT )) holds ( $2 . B76 ) = ( ( C55 . $1 ) . B76 ))) & ($1 = D26 implies (for B77 being (Element of ( NAT )) holds ( $2 . B77 ) = ( {} ))));
L224: (for B78 being (Element of ( NAT )) holds (ex B79 being (Element of ( Funcs (( NAT ) , ( bool R1 )) )) st S8[ B78 , B79 ]))
proof
let C56 being (Element of ( NAT ));
L225:
now
reconsider D31 = ( C55 . C56 ) as (Element of ( Funcs (( NAT ) , ( bool R1 )) )) by FUNCT_2:8;
assume L226: C56 = D26;
take D32 = D31;
thus L227: S8[ C56 , D32 ] by L226;
end;
L228: (C56 <> D26 implies S8[ C56 , D25 ]) by FUNCOP_1:7;
thus L229: thesis by L228 , L225;
end;
consider C57 being (Function of ( NAT ) , ( Funcs (( NAT ) , ( bool R1 )) )) such that L230: (for B80 being (Element of ( NAT )) holds S8[ B80 , ( C57 . B80 ) ]) from FUNCT_2:sch 3(L224);
L231: (for B81 being Nat holds ( C57 . B81 ) is (Covering of ( D24 . B81 ) , R2))
proof
let C58 being Nat;
consider C59 being Function such that L232: ( C57 . C58 ) = C59 and L233: (( dom C59 ) = ( NAT ) & ( rng C59 ) c= ( bool R1 )) by FUNCT_2:def 2;
reconsider D33 = C59 as (SetSequence of R1) by L233 , FUNCT_2:2;
L234: (for B82 being Nat holds ( D33 . B82 ) in R2)
proof
let C60 being Nat;
L235: C60 in ( NAT ) by ORDINAL1:def 12;
L236:
now
assume L237: C58 = D26;
L238: ( D33 . C60 ) = ( ( C55 . C58 ) . C60 ) by L237 , L230 , L232 , L235;
thus L239: ( D33 . C60 ) in R2 by L238;
end;
L240: C58 in ( NAT ) by ORDINAL1:def 12;
L241: (C58 <> D26 implies ( D33 . C60 ) = ( {} )) by L240 , L230 , L232 , L235;
thus L242: thesis by L241 , L236 , PROB_1:4;
end;
L243: D33 is (Set_Sequence of R2) by L234 , L89;
L244: C58 in ( NAT ) by ORDINAL1:def 12;
L245: ( D24 . C58 ) = ( {} ) by L244 , FUNCOP_1:7;
L246: ( D24 . C58 ) c= ( union ( rng D33 ) ) by L245 , XBOOLE_1:2;
thus L247: ( C57 . C58 ) is (Covering of ( D24 . C58 ) , R2) by L246 , L232 , L243 , L95;
end;
L248: (for B83 being (Element of ( NAT )) holds (ex B84 being (Element of ( Funcs (( NAT ) , ( bool R1 )) )) st S9[ B83 , B84 ]))
proof
let C61 being (Element of ( NAT ));
L249:
now
reconsider D34 = ( C55 . C61 ) as (Element of ( Funcs (( NAT ) , ( bool R1 )) )) by FUNCT_2:8;
assume L250: C61 <> D26;
take D35 = D34;
thus L251: S9[ C61 , D35 ] by L250;
end;
L252: (C61 = D26 implies S9[ C61 , D25 ]) by FUNCOP_1:7;
thus L253: thesis by L252 , L249;
end;
consider C62 being (Function of ( NAT ) , ( Funcs (( NAT ) , ( bool R1 )) )) such that L254: (for B85 being (Element of ( NAT )) holds S9[ B85 , ( C62 . B85 ) ]) from FUNCT_2:sch 3(L248);
L255: (for B86 being Nat holds ( C62 . B86 ) is (Covering of ( D24 . B86 ) , R2))
proof
let C63 being Nat;
consider C64 being Function such that L256: ( C62 . C63 ) = C64 and L257: (( dom C64 ) = ( NAT ) & ( rng C64 ) c= ( bool R1 )) by FUNCT_2:def 2;
reconsider D36 = C64 as (Function of ( NAT ) , ( bool R1 )) by L257 , FUNCT_2:2;
L258: (for B87 being Nat holds ( D36 . B87 ) in R2)
proof
let C65 being Nat;
L259: C65 in ( NAT ) by ORDINAL1:def 12;
L260: C63 in ( NAT ) by ORDINAL1:def 12;
L261:
now
assume L262: C63 <> D26;
L263: ( D36 . C65 ) = ( ( C55 . C63 ) . C65 ) by L262 , L254 , L256 , L260 , L259;
thus L264: ( D36 . C65 ) in R2 by L263;
end;
L265: (C63 = D26 implies ( D36 . C65 ) = ( {} )) by L254 , L256 , L259;
thus L266: thesis by L265 , L261 , PROB_1:4;
end;
L267: D36 is (Set_Sequence of R2) by L258 , L89;
L268: C63 in ( NAT ) by ORDINAL1:def 12;
L269: ( D24 . C63 ) = ( {} ) by L268 , FUNCOP_1:7;
L270: ( D24 . C63 ) c= ( union ( rng D36 ) ) by L269 , XBOOLE_1:2;
thus L271: ( C62 . C63 ) is (Covering of ( D24 . C63 ) , R2) by L270 , L256 , L267 , L95;
end;
reconsider D37 = C62 as (Covering of D24 , R2) by L255 , L115;
reconsider D38 = C57 as (Covering of D24 , R2) by L231 , L115;
set D39 = ( Partial_Sums ( vol (R3 , ( On D37 )) ) );
L272: ( ( On D37 ) . ( C51 + 1 ) ) = ( ( D37 . D26 ) . D27 ) by L181
.= ( {} ) by L254;
L273: ( ( vol (R3 , ( On D37 )) ) . ( C51 + 1 ) ) = ( R3 . ( {} ) ) by L272 , L118
.= ( 0 ) by VALUED_0:def 19;
set D40 = ( Partial_Sums ( vol (R3 , ( On D38 )) ) );
set D41 = ( Partial_Sums ( vol (R3 , ( On C55 )) ) );
defpred S10[ (Element of D29) , (Element of ( NAT )) ] means $2 = ( ( pr2 ( InvPairFunc ) ) . $1 );
L274: (for B88 being (Element of D29) holds (ex B89 being (Element of ( NAT )) st S10[ B88 , B89 ]));
consider C66 being (Function of D29 , ( NAT )) such that L275: (for B90 being (Element of D29) holds S10[ B90 , ( C66 . B90 ) ]) from FUNCT_2:sch 3(L274);
L276: (for B91 being (Element of ( NAT )) holds ((B91 in D29 implies ( ( vol (R3 , ( On D38 )) ) . B91 ) = ( ( ( vol (R3 , ( D38 . D26 )) ) * C66 ) . B91 )) & ((not B91 in D29) implies ( ( vol (R3 , ( On D38 )) ) . B91 ) = ( 0 ))))
proof
let C67 being (Element of ( NAT ));
thus L277: (C67 in D29 implies ( ( vol (R3 , ( On D38 )) ) . C67 ) = ( ( ( vol (R3 , ( D38 . D26 )) ) * C66 ) . C67 ))
proof
L278: ( ( vol (R3 , ( On D38 )) ) . C67 ) = ( R3 . ( ( On D38 ) . C67 ) ) by L118;
assume L279: C67 in D29;
L280: ((ex B92 being (Element of ( NAT )) st (B92 = C67 & D26 = ( ( pr1 ( InvPairFunc ) ) . B92 ))) & ( ( pr2 ( InvPairFunc ) ) . C67 ) = ( C66 . C67 )) by L279 , L275;
L281: ( ( vol (R3 , ( On D38 )) ) . C67 ) = ( R3 . ( ( D38 . D26 ) . ( C66 . C67 ) ) ) by L280 , L278 , L181;
L282: ( ( vol (R3 , ( On D38 )) ) . C67 ) = ( ( vol (R3 , ( D38 . D26 )) ) . ( C66 . C67 ) ) by L281 , L118;
thus L283: thesis by L282 , L279 , FUNCT_2:15;
end;

assume L284: (not C67 in D29);
L285: (not D26 = ( ( pr1 ( InvPairFunc ) ) . C67 )) by L284;
L286: ( ( vol (R3 , ( On D38 )) ) . C67 ) = ( R3 . ( ( On D38 ) . C67 ) ) by L118
.= ( R3 . ( ( D38 . ( ( pr1 ( InvPairFunc ) ) . C67 ) ) . ( ( pr2 ( InvPairFunc ) ) . C67 ) ) ) by L181
.= ( R3 . ( {} ) ) by L230 , L285;
thus L287: thesis by L286 , VALUED_0:def 19;
end;
L288:
now
let C68 , C69 being set;
assume that
L289: (C68 in D29 & C69 in D29)
and
L290: ( C66 . C68 ) = ( C66 . C69 );
L291: ((ex B93 being (Element of ( NAT )) st (B93 = C68 & D26 = ( ( pr1 ( InvPairFunc ) ) . B93 ))) & (ex B94 being (Element of ( NAT )) st (B94 = C69 & D26 = ( ( pr1 ( InvPairFunc ) ) . B94 )))) by L289;
L292: (( ( InvPairFunc ) . C68 ) = [ ( ( pr1 ( InvPairFunc ) ) . C68 ) , ( ( pr2 ( InvPairFunc ) ) . C68 ) ] & ( ( InvPairFunc ) . C69 ) = [ ( ( pr1 ( InvPairFunc ) ) . C69 ) , ( ( pr2 ( InvPairFunc ) ) . C69 ) ]) by L289 , FUNCT_2:119;
L293: (( C66 . C68 ) = ( ( pr2 ( InvPairFunc ) ) . C68 ) & ( C66 . C69 ) = ( ( pr2 ( InvPairFunc ) ) . C69 )) by L275 , L289;
thus L294: C68 = C69 by L293 , L290 , L291 , L292 , FUNCT_2:19 , NAGATA_2:2;
end;
L295: C66 is  one-to-one by L288 , FUNCT_2:19;
L296: ( ( Ser ( vol (R3 , ( On D37 )) ) ) . ( C51 + 1 ) ) = ( ( ( Ser ( vol (R3 , ( On D37 )) ) ) . C51 ) + ( ( vol (R3 , ( On D37 )) ) . ( C51 + 1 ) ) ) by SUPINF_2:44
.= ( ( Ser ( vol (R3 , ( On D37 )) ) ) . C51 ) by L273 , XXREAL_3:4;
L297: ( D39 . ( C51 + 1 ) ) = ( ( Ser ( vol (R3 , ( On D37 )) ) ) . C51 ) by L296 , L1;
L298: ( D39 . ( C51 + 1 ) ) = ( D39 . C51 ) by L297 , L1;
L299: (for B95 being (Element of ( NAT )) holds ( 0. ) <= ( ( Volume (R3 , D38) ) . B95 )) by L146;
L300: ( Volume (R3 , D38) ) is  nonnegative by L299 , SUPINF_2:39;
L301: ( ( Volume (R3 , D38) ) . D26 ) <= ( ( Ser ( Volume (R3 , D38) ) ) . D26 ) by L300 , MEASURE7:2;
L302: ( SUM ( vol (R3 , ( D38 . D26 )) ) ) <= ( ( Ser ( Volume (R3 , D38) ) ) . D26 ) by L301 , L135;
L303: C53 is (Element of ( NAT )) by ORDINAL1:def 12;
L304: ( ( Ser ( Volume (R3 , D38) ) ) . D26 ) <= ( ( Ser ( Volume (R3 , D38) ) ) . D30 ) by L303 , L300 , SUPINF_2:41;
L305: ( SUM ( vol (R3 , ( D38 . D26 )) ) ) <= ( ( Ser ( Volume (R3 , D38) ) ) . D30 ) by L304 , L302 , XXREAL_0:2;
L306: ( vol (R3 , ( D38 . D26 )) ) is  nonnegative by L128;
L307: ( SUM ( vol (R3 , ( On D38 )) ) ) <= ( SUM ( vol (R3 , ( D38 . D26 )) ) ) by L306 , L295 , L276 , MEASURE7:11;
L308: ( SUM ( vol (R3 , ( On D38 )) ) ) <= ( ( Ser ( Volume (R3 , D38) ) ) . D30 ) by L307 , L305 , XXREAL_0:2;
L309: ( ( Ser ( vol (R3 , ( On D38 )) ) ) . ( C51 + 1 ) ) <= ( SUM ( vol (R3 , ( On D38 )) ) ) by L128 , MEASURE7:6;
L310: ( ( Ser ( vol (R3 , ( On D38 )) ) ) . ( C51 + 1 ) ) <= ( ( Ser ( Volume (R3 , D38) ) ) . D30 ) by L309 , L308 , XXREAL_0:2;
L311: ( D40 . ( C51 + 1 ) ) <= ( ( Ser ( Volume (R3 , D38) ) ) . D30 ) by L310 , L1;
L312: ( D40 . ( C51 + 1 ) ) <= ( ( Partial_Sums ( Volume (R3 , D38) ) ) . D30 ) by L311 , L1;
L313: (for B96 being (Element of ( NAT )) holds ( 0. ) <= ( ( Volume (R3 , D37) ) . B96 )) by L146;
L314: ( Volume (R3 , D37) ) is  nonnegative by L313 , SUPINF_2:39;
L315: (C53 <= D30 & ( Partial_Sums ( Volume (R3 , D37) ) ) is  non-decreasing) by L314 , MESFUNC9:16 , NAT_1:11;
L316: ( ( Partial_Sums ( Volume (R3 , D37) ) ) . C53 ) <= ( ( Partial_Sums ( Volume (R3 , D37) ) ) . D30 ) by L315 , L303 , RINFSUP2:7;
L317: (for B97 being (Element of ( NAT )) holds ( ( vol (R3 , ( On C55 )) ) . B97 ) = ( ( ( vol (R3 , ( On D38 )) ) . B97 ) + ( ( vol (R3 , ( On D37 )) ) . B97 ) ))
proof
let C70 being (Element of ( NAT ));
set D42 = ( ( pr1 ( InvPairFunc ) ) . C70 );
set D43 = ( ( pr2 ( InvPairFunc ) ) . C70 );
L318: (( ( vol (R3 , ( On D38 )) ) . C70 ) = ( R3 . ( ( On D38 ) . C70 ) ) & ( ( vol (R3 , ( On D37 )) ) . C70 ) = ( R3 . ( ( On D37 ) . C70 ) )) by L118;
L319: ( ( vol (R3 , ( On C55 )) ) . C70 ) = ( R3 . ( ( On C55 ) . C70 ) ) by L118;
L320: ( ( vol (R3 , ( On C55 )) ) . C70 ) = ( R3 . ( ( C55 . D42 ) . D43 ) ) by L319 , L181;
per cases ;
suppose L321: D42 = D26;

L322: ( ( On D37 ) . C70 ) = ( ( D37 . D42 ) . D43 ) by L181
.= ( {} ) by L254 , L321;
L323: ( R3 . ( ( On D37 ) . C70 ) ) = ( 0 ) by L322 , VALUED_0:def 19;
L324: ( ( On D38 ) . C70 ) = ( ( D38 . D42 ) . D43 ) by L181
.= ( ( C55 . D42 ) . D43 ) by L230 , L321;
thus L325: thesis by L324 , L318 , L320 , L323 , XXREAL_3:4;
end;
suppose L326: D42 <> D26;

L327: ( ( On D38 ) . C70 ) = ( ( D38 . D42 ) . D43 ) by L181
.= ( {} ) by L230 , L326;
L328: ( R3 . ( ( On D38 ) . C70 ) ) = ( 0 ) by L327 , VALUED_0:def 19;
L329: ( ( On D37 ) . C70 ) = ( ( D37 . D42 ) . D43 ) by L181
.= ( ( C55 . D42 ) . D43 ) by L254 , L326;
thus L330: thesis by L329 , L318 , L320 , L328 , XXREAL_3:4;
end;
end;
L332: (( vol (R3 , ( On D38 )) ) is  nonnegative & ( vol (R3 , ( On D37 )) ) is  nonnegative) by L128;
L333: ( ( Ser ( vol (R3 , ( On C55 )) ) ) . ( C51 + 1 ) ) = ( ( ( Ser ( vol (R3 , ( On D38 )) ) ) . ( C51 + 1 ) ) + ( ( Ser ( vol (R3 , ( On D37 )) ) ) . ( C51 + 1 ) ) ) by L332 , L317 , MEASURE7:3;
L334: ( D41 . ( C51 + 1 ) ) = ( ( ( Ser ( vol (R3 , ( On D38 )) ) ) . ( C51 + 1 ) ) + ( ( Ser ( vol (R3 , ( On D37 )) ) ) . ( C51 + 1 ) ) ) by L333 , L1;
L335: ( D41 . ( C51 + 1 ) ) = ( ( D40 . ( C51 + 1 ) ) + ( ( Ser ( vol (R3 , ( On D37 )) ) ) . ( C51 + 1 ) ) ) by L334 , L1;
L336: ( D41 . ( C51 + 1 ) ) = ( ( D40 . ( C51 + 1 ) ) + ( D39 . ( C51 + 1 ) ) ) by L335 , L1;
L337: ( D39 . C51 ) <= ( ( Partial_Sums ( Volume (R3 , D37) ) ) . C53 ) by L223;
L338: ( D39 . ( C51 + 1 ) ) <= ( ( Partial_Sums ( Volume (R3 , D37) ) ) . D30 ) by L337 , L298 , L316 , XXREAL_0:2;
L339: (for B98 being (Element of ( NAT )) holds ( ( Volume (R3 , C55) ) . B98 ) = ( ( ( Volume (R3 , D38) ) . B98 ) + ( ( Volume (R3 , D37) ) . B98 ) ))
proof
let C71 being (Element of ( NAT ));
L340:
now
assume L341: C71 <> D26;
L342: (for B99 being (Element of ( NAT )) holds ( ( vol (R3 , ( D38 . C71 )) ) . B99 ) = ( 0. ))
proof
let C72 being (Element of ( NAT ));
L343: ( ( D38 . C71 ) . C72 ) = ( {} ) by L230 , L341;
L344: ( R3 . ( ( D38 . C71 ) . C72 ) ) = ( 0 ) by L343 , VALUED_0:def 19;
thus L345: thesis by L344 , L118;
end;
L346: ( SUM ( vol (R3 , ( D38 . C71 )) ) ) = ( 0. ) by L342 , MEASURE7:1;
L347: (for B100 being (Element of ( NAT )) holds (( ( vol (R3 , ( D37 . C71 )) ) . B100 ) <= ( ( vol (R3 , ( C55 . C71 )) ) . B100 ) & ( ( vol (R3 , ( C55 . C71 )) ) . B100 ) <= ( ( vol (R3 , ( D37 . C71 )) ) . B100 )))
proof
let C73 being (Element of ( NAT ));
L348: (( ( vol (R3 , ( D37 . C71 )) ) . C73 ) = ( R3 . ( ( D37 . C71 ) . C73 ) ) & ( ( vol (R3 , ( C55 . C71 )) ) . C73 ) = ( R3 . ( ( C55 . C71 ) . C73 ) )) by L118;
thus L349: thesis by L348 , L254 , L341;
end;
L350: (( SUM ( vol (R3 , ( D37 . C71 )) ) ) <= ( SUM ( vol (R3 , ( C55 . C71 )) ) ) & ( SUM ( vol (R3 , ( C55 . C71 )) ) ) <= ( SUM ( vol (R3 , ( D37 . C71 )) ) )) by L347 , SUPINF_2:43;
L351: ( SUM ( vol (R3 , ( C55 . C71 )) ) ) = ( SUM ( vol (R3 , ( D37 . C71 )) ) ) by L350 , XXREAL_0:1;
thus L352: ( SUM ( vol (R3 , ( C55 . C71 )) ) ) = ( ( SUM ( vol (R3 , ( D38 . C71 )) ) ) + ( SUM ( vol (R3 , ( D37 . C71 )) ) ) ) by L351 , L346 , XXREAL_3:4;
end;
L353:
now
assume L354: C71 = D26;
L355: (for B101 being (Element of ( NAT )) holds ( ( vol (R3 , ( D37 . C71 )) ) . B101 ) = ( 0 ))
proof
let C74 being (Element of ( NAT ));
L356: ( ( D37 . C71 ) . C74 ) = ( {} ) by L254 , L354;
L357: ( R3 . ( ( D37 . C71 ) . C74 ) ) = ( 0 ) by L356 , VALUED_0:def 19;
thus L358: ( ( vol (R3 , ( D37 . C71 )) ) . C74 ) = ( 0 ) by L357 , L118;
end;
L359: ( SUM ( vol (R3 , ( D37 . C71 )) ) ) = ( 0 ) by L355 , MEASURE7:1;
L360: (for B102 being (Element of ( NAT )) holds (( ( vol (R3 , ( C55 . C71 )) ) . B102 ) <= ( ( vol (R3 , ( D38 . C71 )) ) . B102 ) & ( ( vol (R3 , ( D38 . C71 )) ) . B102 ) <= ( ( vol (R3 , ( C55 . C71 )) ) . B102 )))
proof
let C75 being (Element of ( NAT ));
L361: ( ( vol (R3 , ( D38 . C71 )) ) . C75 ) = ( R3 . ( ( D38 . C71 ) . C75 ) ) by L118
.= ( R3 . ( ( C55 . C71 ) . C75 ) ) by L230 , L354;
thus L362: thesis by L361 , L118;
end;
L363: (( SUM ( vol (R3 , ( C55 . C71 )) ) ) <= ( SUM ( vol (R3 , ( D38 . C71 )) ) ) & ( SUM ( vol (R3 , ( D38 . C71 )) ) ) <= ( SUM ( vol (R3 , ( C55 . C71 )) ) )) by L360 , SUPINF_2:43;
L364: ( SUM ( vol (R3 , ( C55 . C71 )) ) ) = ( SUM ( vol (R3 , ( D38 . C71 )) ) ) by L363 , XXREAL_0:1;
thus L365: ( SUM ( vol (R3 , ( C55 . C71 )) ) ) = ( ( SUM ( vol (R3 , ( D38 . C71 )) ) ) + ( SUM ( vol (R3 , ( D37 . C71 )) ) ) ) by L364 , L359 , XXREAL_3:4;
end;
L366: (( ( Volume (R3 , C55) ) . C71 ) = ( SUM ( vol (R3 , ( C55 . C71 )) ) ) & ( ( Volume (R3 , D38) ) . C71 ) = ( SUM ( vol (R3 , ( D38 . C71 )) ) )) by L135;
thus L367: thesis by L366 , L353 , L340 , L135;
end;
L368: ( ( Ser ( Volume (R3 , C55) ) ) . D30 ) = ( ( ( Ser ( Volume (R3 , D38) ) ) . D30 ) + ( ( Ser ( Volume (R3 , D37) ) ) . D30 ) ) by L339 , L300 , L314 , MEASURE7:3;
L369: ( ( Partial_Sums ( Volume (R3 , C55) ) ) . D30 ) = ( ( ( Ser ( Volume (R3 , D38) ) ) . D30 ) + ( ( Ser ( Volume (R3 , D37) ) ) . D30 ) ) by L368 , L1
.= ( ( ( Partial_Sums ( Volume (R3 , D38) ) ) . D30 ) + ( ( Ser ( Volume (R3 , D37) ) ) . D30 ) ) by L1
.= ( ( ( Partial_Sums ( Volume (R3 , D38) ) ) . D30 ) + ( ( Partial_Sums ( Volume (R3 , D37) ) ) . D30 ) ) by L1;
thus L370: thesis by L369 , L312 , L338 , L336 , XXREAL_3:36;
end;
L371: S7[ ( 0 ) ]
proof
take D44 = ( ( pr1 ( InvPairFunc ) ) . ( 0 ) );
let C76 being (SetSequence of R1);
let C77 being (Covering of C76 , R2);
L372: (for B103 being (Element of ( NAT )) holds ( 0 ) <= ( ( Volume (R3 , C77) ) . B103 )) by L146;
L373: ( Volume (R3 , C77) ) is  nonnegative by L372 , SUPINF_2:39;
L374: ( ( Volume (R3 , C77) ) . D44 ) <= ( ( Ser ( Volume (R3 , C77) ) ) . D44 ) by L373 , MEASURE7:2;
L375: ( ( Volume (R3 , C77) ) . D44 ) <= ( ( Partial_Sums ( Volume (R3 , C77) ) ) . D44 ) by L374 , L1;
L376: (( ( vol (R3 , ( On C77 )) ) . ( 0 ) ) = ( R3 . ( ( On C77 ) . ( 0 ) ) ) & ( ( vol (R3 , ( C77 . ( ( pr1 ( InvPairFunc ) ) . ( 0 ) ) )) ) . ( ( pr2 ( InvPairFunc ) ) . ( 0 ) ) ) = ( R3 . ( ( C77 . ( ( pr1 ( InvPairFunc ) ) . ( 0 ) ) ) . ( ( pr2 ( InvPairFunc ) ) . ( 0 ) ) ) )) by L118;
L377: ( ( vol (R3 , ( On C77 )) ) . ( 0 ) ) <= ( ( vol (R3 , ( C77 . ( ( pr1 ( InvPairFunc ) ) . ( 0 ) ) )) ) . ( ( pr2 ( InvPairFunc ) ) . ( 0 ) ) ) by L376 , L181;
L378: ( ( vol (R3 , ( On C77 )) ) . ( 0 ) ) <= ( SUM ( vol (R3 , ( C77 . ( ( pr1 ( InvPairFunc ) ) . ( 0 ) ) )) ) ) by L377 , L128 , MEASURE6:3;
L379: (( ( Partial_Sums ( vol (R3 , ( On C77 )) ) ) . ( 0 ) ) = ( ( vol (R3 , ( On C77 )) ) . ( 0 ) ) & ( ( vol (R3 , ( On C77 )) ) . ( 0 ) ) <= ( ( Volume (R3 , C77) ) . ( ( pr1 ( InvPairFunc ) ) . ( 0 ) ) )) by L378 , L135 , MESFUNC9:def 1;
thus L380: thesis by L379 , L375 , XXREAL_0:2;
end;
thus L381: (for B104 being (Element of ( NAT )) holds S7[ B104 ]) from NAT_1:sch 1(L371 , L217);
end;
theorem
L382: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R6 being (SetSequence of R1) holds (for R14 being (Covering of R6 , R2) holds ( inf ( Svc (R3 , ( union ( rng R6 ) )) ) ) <= ( SUM ( Volume (R3 , R14) ) ))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R6 being (SetSequence of R1);
let R14 being (Covering of R6 , R2);
set D45 = ( SUM ( vol (R3 , ( On R14 )) ) );
L383: (for B105 being  ext-real number holds (B105 in ( rng ( Ser ( vol (R3 , ( On R14 )) ) ) ) implies (ex B106 being  ext-real number st (B106 in ( rng ( Ser ( Volume (R3 , R14) ) ) ) & B105 <= B106))))
proof
let C78 being  ext-real number;
assume L384: C78 in ( rng ( Ser ( vol (R3 , ( On R14 )) ) ) );
consider C79 being (Element of ( NAT )) such that L385: C78 = ( ( Ser ( vol (R3 , ( On R14 )) ) ) . C79 ) by L384 , FUNCT_2:113;
consider C80 being Nat such that L386: (for B107 being (SetSequence of R1) holds (for B108 being (Covering of B107 , R2) holds ( ( Partial_Sums ( vol (R3 , ( On B108 )) ) ) . C79 ) <= ( ( Partial_Sums ( Volume (R3 , B108) ) ) . C80 ))) by L215;
take ( ( Ser ( Volume (R3 , R14) ) ) . C80 );
L387: (for B109 being (SetSequence of R1) holds (for B110 being (Covering of B109 , R2) holds ( ( Ser ( vol (R3 , ( On B110 )) ) ) . C79 ) <= ( ( Ser ( Volume (R3 , B110) ) ) . C80 )))
proof
let C81 being (SetSequence of R1);
let C82 being (Covering of C81 , R2);
L388: ( ( Partial_Sums ( vol (R3 , ( On C82 )) ) ) . C79 ) <= ( ( Partial_Sums ( Volume (R3 , C82) ) ) . C80 ) by L386;
L389: ( ( Ser ( vol (R3 , ( On C82 )) ) ) . C79 ) <= ( ( Partial_Sums ( Volume (R3 , C82) ) ) . C80 ) by L388 , L1;
thus L390: ( ( Ser ( vol (R3 , ( On C82 )) ) ) . C79 ) <= ( ( Ser ( Volume (R3 , C82) ) ) . C80 ) by L389 , L1;
end;
L391: C80 in ( NAT ) by ORDINAL1:def 12;
thus L392: thesis by L391 , L385 , L387 , FUNCT_2:4;
end;
L393: ( SUM ( vol (R3 , ( On R14 )) ) ) <= ( SUM ( Volume (R3 , R14) ) ) by L383 , XXREAL_2:63;
L394: D45 in ( Svc (R3 , ( union ( rng R6 ) )) ) by L153;
L395: ( inf ( Svc (R3 , ( union ( rng R6 ) )) ) ) <= D45 by L394 , XXREAL_2:3;
thus L396: thesis by L395 , L393 , XXREAL_0:2;
end;
theorem
L397: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R4 being (Subset of R1) holds (R4 in R2 implies ( (R4 , ( {} R1 )) followed_by ( {} R1 ) ) is (Covering of R4 , R2)))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R4 being (Subset of R1);
reconsider D46 = ( (R4 , ( {} R1 )) followed_by ( {} R1 ) ) as (SetSequence of R1);
L398: ( D46 . ( 0 ) ) = R4 by FUNCT_7:122;
L399: ( D46 . 1 ) = ( {} R1 ) by FUNCT_7:123;
assume L400: R4 in R2;
L401: (for B111 being Nat holds ( D46 . B111 ) in R2)
proof
let C83 being Nat;
per cases  by NAT_1:25;
suppose L402: C83 = ( 0 );

thus L403: ( D46 . C83 ) in R2 by L402 , L400 , FUNCT_7:122;
end;
suppose L404: C83 = 1;

thus L405: ( D46 . C83 ) in R2 by L404 , L399 , PROB_1:4;
end;
suppose L406: C83 > 1;

L407: ( D46 . C83 ) = ( {} ) by L406 , FUNCT_7:124;
thus L408: ( D46 . C83 ) in R2 by L407 , PROB_1:4;
end;
end;
reconsider D47 = D46 as (Set_Sequence of R2) by L401 , L89;
L410: R4 c= ( union ( rng D47 ) )
proof
let C84 being set;
L411: ( dom D47 ) = ( NAT ) by FUNCT_2:def 1;
L412: ( D47 . ( 0 ) ) in ( rng D47 ) by L411 , FUNCT_1:3;
assume L413: C84 in R4;
thus L414: C84 in ( union ( rng D47 ) ) by L413 , L398 , L412 , TARSKI:def 4;
end;
thus L415: ( (R4 , ( {} R1 )) followed_by ( {} R1 ) ) is (Covering of R4 , R2) by L410 , L95;
end;
theorem
L416: (for B112 being set holds (for B113 being (Field_Subset of B112) holds (for B114 being (Measure of B113) holds (for B115 being set holds (B115 in B113 implies ( ( C_Meas B114 ) . B115 ) <= ( B114 . B115 ))))))
proof
let C85 being set;
let C86 being (Field_Subset of C85);
let C87 being (Measure of C86);
let C88 being set;
assume L417: C88 in C86;
reconsider D48 = C88 as (Subset of C85) by L417;
reconsider D49 = ( (D48 , ( {} C85 )) followed_by ( {} C85 ) ) as (Set_Sequence of C86) by L417 , L397;
L418: ( D49 . 1 ) = ( {} C85 ) by FUNCT_7:123;
L419: ( D49 . ( 0 ) ) = D48 by FUNCT_7:122;
L420: D48 c= ( union ( rng D49 ) )
proof
let C89 being set;
L421: ( dom D49 ) = ( NAT ) by FUNCT_2:def 1;
L422: ( D49 . ( 0 ) ) in ( rng D49 ) by L421 , FUNCT_1:3;
assume L423: C89 in D48;
thus L424: C89 in ( union ( rng D49 ) ) by L423 , L419 , L422 , TARSKI:def 4;
end;
reconsider D50 = D49 as (Covering of D48 , C86) by L420 , L95;
L425: (for B116 being (Element of ( NAT )) holds (B116 <> ( 0 ) implies ( ( vol (C87 , D50) ) . B116 ) = ( 0 )))
proof
let C90 being (Element of ( NAT ));
assume L426: C90 <> ( 0 );
L427: ( D50 . C90 ) = ( {} ) by L426 , L418 , FUNCT_7:124 , NAT_1:25;
L428: ( ( vol (C87 , D50) ) . C90 ) = ( C87 . ( {} ) ) by L427 , L118;
thus L429: ( ( vol (C87 , D50) ) . C90 ) = ( 0 ) by L428 , VALUED_0:def 19;
end;
L430: (for B117 being (Element of ( NAT )) holds (1 <= B117 implies ( ( vol (C87 , D50) ) . B117 ) = ( 0 ))) by L425;
L431: ( SUM ( vol (C87 , D50) ) ) = ( ( Ser ( vol (C87 , D50) ) ) . 1 ) by L430 , L128 , SUPINF_2:48
.= ( ( vol (C87 , D50) ) . ( 0 ) ) by L425 , MEASURE7:9;
L432: ( SUM ( vol (C87 , D50) ) ) = ( C87 . ( D50 . ( 0 ) ) ) by L431 , L118;
L433: ( C87 . D48 ) in ( Svc (C87 , D48) ) by L432 , L419 , L153;
L434: ( ( C_Meas C87 ) . D48 ) = ( inf ( Svc (C87 , D48) ) ) by L176;
thus L435: ( ( C_Meas C87 ) . C88 ) <= ( C87 . C88 ) by L434 , L433 , XXREAL_2:3;
end;
theorem
L436: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds ( C_Meas R3 ) is  nonnegative)))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
L437: (for B118 being  ext-real number holds (B118 in ( rng ( C_Meas R3 ) ) implies ( 0 ) <= B118))
proof
let C91 being  ext-real number;
assume L438: C91 in ( rng ( C_Meas R3 ) );
consider C92 being set such that L439: C92 in ( bool R1 ) and L440: ( ( C_Meas R3 ) . C92 ) = C91 by L438 , FUNCT_2:11;
reconsider D51 = C92 as (Subset of R1) by L439;
L441:
now
let C93 being  ext-real number;
assume L442: C93 in ( Svc (R3 , D51) );
L443: (ex B119 being (Covering of D51 , R2) st C93 = ( SUM ( vol (R3 , B119) ) )) by L442 , L153;
thus L444: ( 0 ) <= C93 by L443 , L128 , MEASURE6:2;
end;
L445: ( 0 ) is (LowerBound of ( Svc (R3 , D51) )) by L441 , XXREAL_2:def 2;
L446: ( 0 ) <= ( inf ( Svc (R3 , D51) ) ) by L445 , XXREAL_2:def 4;
thus L447: ( 0 ) <= C91 by L446 , L440 , L176;
end;
L448: (for B120 being R_eal holds (B120 in ( rng ( C_Meas R3 ) ) implies ( 0 ) <= B120)) by L437;
L449: ( rng ( C_Meas R3 ) ) is  nonnegative by L448 , SUPINF_2:def 9;
thus L450: ( C_Meas R3 ) is  nonnegative by L449 , SUPINF_2:def 16;
end;
theorem
L451: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds ( ( C_Meas R3 ) . ( {} ) ) = ( 0 ))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
L452: ( ( C_Meas R3 ) . ( {} ) ) <= ( R3 . ( {} ) ) by L416 , PROB_1:4;
L453: ( ( C_Meas R3 ) . ( {} ) ) <= ( 0 ) by L452 , VALUED_0:def 19;
L454: ( {} R1 ) in ( bool R1 );
L455: ( {} ) in ( dom ( C_Meas R3 ) ) by L454 , FUNCT_2:def 1;
L456: ( ( C_Meas R3 ) . ( {} ) ) in ( rng ( C_Meas R3 ) ) by L455 , FUNCT_1:3;
L457: ( C_Meas R3 ) is  nonnegative by L436;
L458: ( rng ( C_Meas R3 ) ) is  nonnegative by L457 , SUPINF_2:def 16;
thus L459: ( ( C_Meas R3 ) . ( {} ) ) = ( 0. ) by L458 , L453 , L456 , SUPINF_2:def 9;
end;
theorem
L460: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R4 being (Subset of R1) holds (for R5 being (Subset of R1) holds (R4 c= R5 implies ( ( C_Meas R3 ) . R4 ) <= ( ( C_Meas R3 ) . R5 )))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R4 being (Subset of R1);
let R5 being (Subset of R1);
assume L461: R4 c= R5;
L462:
now
let C94 being set;
assume L463: C94 in ( Svc (R3 , R5) );
consider C95 being (Covering of R5 , R2) such that L464: ( SUM ( vol (R3 , C95) ) ) = C94 by L463 , L153;
L465: R5 c= ( union ( rng C95 ) ) by L95;
L466: R4 c= ( union ( rng C95 ) ) by L465 , L461 , XBOOLE_1:1;
reconsider D52 = C95 as (Covering of R4 , R2) by L466 , L95;
L467: ( SUM ( vol (R3 , C95) ) ) = ( SUM ( vol (R3 , D52) ) );
thus L468: C94 in ( Svc (R3 , R4) ) by L467 , L464 , L153;
end;
L469: ( Svc (R3 , R5) ) c= ( Svc (R3 , R4) ) by L462 , TARSKI:def 3;
L470: (( ( C_Meas R3 ) . R4 ) = ( inf ( Svc (R3 , R4) ) ) & ( ( C_Meas R3 ) . R5 ) = ( inf ( Svc (R3 , R5) ) )) by L176;
thus L471: ( ( C_Meas R3 ) . R4 ) <= ( ( C_Meas R3 ) . R5 ) by L470 , L469 , XXREAL_2:60;
end;
L472: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R6 being (SetSequence of R1) holds ((ex B121 being Nat st ( ( C_Meas R3 ) . ( R6 . B121 ) ) = ( +infty )) implies ( ( C_Meas R3 ) . ( union ( rng R6 ) ) ) <= ( SUM ( ( C_Meas R3 ) * R6 ) ))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R6 being (SetSequence of R1);
assume L473: (ex B122 being Nat st ( ( C_Meas R3 ) . ( R6 . B122 ) ) = ( +infty ));
consider C96 being Nat such that L474: ( ( C_Meas R3 ) . ( R6 . C96 ) ) = ( +infty ) by L473;
reconsider D53 = C96 as (Element of ( NAT )) by ORDINAL1:def 12;
L475: ( ( C_Meas R3 ) * R6 ) is  nonnegative by L436 , MEASURE1:25;
L476: ( dom R6 ) = ( NAT ) by FUNCT_2:def 1;
L477: ( ( ( C_Meas R3 ) * R6 ) . D53 ) = ( ( C_Meas R3 ) . ( R6 . D53 ) ) by L476 , FUNCT_1:13;
L478: ( SUM ( ( C_Meas R3 ) * R6 ) ) = ( +infty ) by L477 , L474 , L475 , SUPINF_2:45;
thus L479: ( ( C_Meas R3 ) . ( union ( rng R6 ) ) ) <= ( SUM ( ( C_Meas R3 ) * R6 ) ) by L478 , XXREAL_0:3;
end;
theorem
L480: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R6 being (SetSequence of R1) holds ( ( C_Meas R3 ) . ( union ( rng R6 ) ) ) <= ( SUM ( ( C_Meas R3 ) * R6 ) )))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R6 being (SetSequence of R1);
L481:
now
assume L482: (for B123 being (Element of ( NAT )) holds ( Svc (R3 , ( R6 . B123 )) ) <> { ( +infty ) });
L483: ( inf ( Svc (R3 , ( union ( rng R6 ) )) ) ) <= ( sup ( rng ( Ser ( ( C_Meas R3 ) * R6 ) ) ) )
proof
set D54 = ( inf ( Svc (R3 , ( union ( rng R6 ) )) ) );
set D55 = ( sup ( rng ( Ser ( ( C_Meas R3 ) * R6 ) ) ) );
L484: ( ( Ser ( ( C_Meas R3 ) * R6 ) ) . ( 0 ) ) <= D55 by FUNCT_2:4 , XXREAL_2:4;
L485: ( ( C_Meas R3 ) * R6 ) is  nonnegative by L436 , MEASURE1:25;
L486: ( 0 ) <= ( ( ( C_Meas R3 ) * R6 ) . ( 0 ) ) by L485 , SUPINF_2:39;
L487: ( 0 ) <= ( ( Ser ( ( C_Meas R3 ) * R6 ) ) . ( 0 ) ) by L486 , SUPINF_2:44;
assume L488: (not ( inf ( Svc (R3 , ( union ( rng R6 ) )) ) ) <= ( sup ( rng ( Ser ( ( C_Meas R3 ) * R6 ) ) ) ));
consider C97 being  real number such that L489: ( 0 ) < C97 and L490: ( D55 + C97 ) < D54 by L488 , L487 , L484 , XXREAL_3:49;
L491: C97 in ( ExtREAL ) by XXREAL_0:def 1;
consider C98 being (Function of ( NAT ) , ( ExtREAL )) such that L492: (for B124 being (Element of ( NAT )) holds ( 0 ) < ( C98 . B124 )) and L493: ( SUM C98 ) < C97 by L491 , L489 , MEASURE6:4;
L494: (for B125 being (Element of ( NAT )) holds ( 0 ) <= ( C98 . B125 )) by L492;
L495: C98 is  nonnegative by L494 , SUPINF_2:39;
defpred S11[ (Element of ( NAT )) , set ] means (ex B126 being (Covering of ( R6 . $1 ) , R2) st ($2 = B126 & ( SUM ( vol (R3 , B126) ) ) < ( ( inf ( Svc (R3 , ( R6 . $1 )) ) ) + ( C98 . $1 ) )));
L496: (for B127 being (Element of ( NAT )) holds (ex B128 being (Element of ( Funcs (( NAT ) , ( bool R1 )) )) st S11[ B127 , B128 ]))
proof
let C99 being (Element of ( NAT ));
L497: (( C_Meas R3 ) is  nonnegative & ( ( C_Meas R3 ) . ( R6 . C99 ) ) = ( inf ( Svc (R3 , ( R6 . C99 )) ) )) by L176 , L436;
L498: (( 0 ) is Real & ( 0. ) <= ( inf ( Svc (R3 , ( R6 . C99 )) ) )) by L497 , SUPINF_2:51;
L499: ( Svc (R3 , ( R6 . C99 )) ) <> { ( +infty ) } by L482;
L500: (not ( Svc (R3 , ( R6 . C99 )) ) c= { ( +infty ) }) by L499 , ZFMISC_1:33;
L501: ( ( Svc (R3 , ( R6 . C99 )) ) \ { ( +infty ) } ) <> ( {} ) by L500 , XBOOLE_1:37;
consider C100 being set such that L502: C100 in ( ( Svc (R3 , ( R6 . C99 )) ) \ { ( +infty ) } ) by L501 , XBOOLE_0:def 1;
reconsider D56 = C100 as R_eal by L502;
L503: (not D56 in { ( +infty ) }) by L502 , XBOOLE_0:def 5;
L504: D56 <> ( +infty ) by L503 , TARSKI:def 1;
L505: D56 in ( Svc (R3 , ( R6 . C99 )) ) by L502 , XBOOLE_0:def 5;
L506: ( inf ( Svc (R3 , ( R6 . C99 )) ) ) <= D56 by L505 , XXREAL_2:3;
L507: ( inf ( Svc (R3 , ( R6 . C99 )) ) ) < ( +infty ) by L506 , L504 , XXREAL_0:2 , XXREAL_0:4;
L508: ( inf ( Svc (R3 , ( R6 . C99 )) ) ) is Real by L507 , L498 , XXREAL_0:46;
consider C101 being  ext-real number such that L509: C101 in ( Svc (R3 , ( R6 . C99 )) ) and L510: C101 < ( ( inf ( Svc (R3 , ( R6 . C99 )) ) ) + ( C98 . C99 ) ) by L508 , L492 , MEASURE6:5;
consider C102 being (Covering of ( R6 . C99 ) , R2) such that L511: C101 = ( SUM ( vol (R3 , C102) ) ) by L509 , L153;
reconsider D57 = C102 as (Element of ( Funcs (( NAT ) , ( bool R1 )) )) by FUNCT_2:8;
take D57;
thus L512: thesis by L510 , L511;
end;
consider C103 being (Function of ( NAT ) , ( Funcs (( NAT ) , ( bool R1 )) )) such that L513: (for B129 being (Element of ( NAT )) holds S11[ B129 , ( C103 . B129 ) ]) from FUNCT_2:sch 3(L496);
L514: (for B130 being Nat holds ( C103 . B130 ) is (Covering of ( R6 . B130 ) , R2))
proof
let C104 being Nat;
L515: C104 in ( NAT ) by ORDINAL1:def 12;
L516: (ex B131 being (Covering of ( R6 . C104 ) , R2) st (B131 = ( C103 . C104 ) & ( SUM ( vol (R3 , B131) ) ) < ( ( inf ( Svc (R3 , ( R6 . C104 )) ) ) + ( C98 . C104 ) ))) by L515 , L513;
thus L517: thesis by L516;
end;
deffunc H4((Element of ( NAT ))) = ( ( ( ( C_Meas R3 ) * R6 ) . $1 ) + ( C98 . $1 ) );
L518: (for B132 being (Element of ( NAT )) holds H4(B132) is (Element of ( ExtREAL ))) by XXREAL_0:def 1;
consider C105 being (Function of ( NAT ) , ( ExtREAL )) such that L519: (for B133 being (Element of ( NAT )) holds ( C105 . B133 ) = H4(B133)) from FUNCT_2:sch 9(L518);
reconsider D58 = C103 as (Covering of R6 , R2) by L514 , L115;
L520: (for B134 being (Element of ( NAT )) holds ( ( Volume (R3 , D58) ) . B134 ) <= ( C105 . B134 ))
proof
let C106 being (Element of ( NAT ));
L521: ((ex B135 being (Covering of ( R6 . C106 ) , R2) st (B135 = ( D58 . C106 ) & ( SUM ( vol (R3 , B135) ) ) < ( ( inf ( Svc (R3 , ( R6 . C106 )) ) ) + ( C98 . C106 ) ))) & ( ( ( C_Meas R3 ) * R6 ) . C106 ) = ( ( C_Meas R3 ) . ( R6 . C106 ) )) by L513 , FUNCT_2:15;
L522: ( SUM ( vol (R3 , ( D58 . C106 )) ) ) < ( ( ( ( C_Meas R3 ) * R6 ) . C106 ) + ( C98 . C106 ) ) by L521 , L176;
L523: ( ( Volume (R3 , D58) ) . C106 ) < ( ( ( ( C_Meas R3 ) * R6 ) . C106 ) + ( C98 . C106 ) ) by L522 , L135;
thus L524: thesis by L523 , L519;
end;
L525: ( SUM ( Volume (R3 , D58) ) ) <= ( SUM C105 ) by L520 , SUPINF_2:43;
L526:
now
let C107 being Nat;
L527: C107 is (Element of ( NAT )) by ORDINAL1:def 12;
thus L528: ( C105 . C107 ) = ( ( ( ( C_Meas R3 ) * R6 ) . C107 ) + ( C98 . C107 ) ) by L527 , L519;
end;
L529: ( ( SUM ( ( C_Meas R3 ) * R6 ) ) + ( SUM C98 ) ) <= ( ( SUM ( ( C_Meas R3 ) * R6 ) ) + C97 ) by L493 , XXREAL_3:36;
L530: ( SUM C105 ) <= ( ( SUM ( ( C_Meas R3 ) * R6 ) ) + C97 ) by L529 , L485 , L495 , L526 , L21;
L531: ( SUM ( Volume (R3 , D58) ) ) <= ( ( SUM ( ( C_Meas R3 ) * R6 ) ) + C97 ) by L530 , L525 , XXREAL_0:2;
L532: D54 <= ( SUM ( Volume (R3 , D58) ) ) by L382;
thus L533: thesis by L532 , L490 , L531 , XXREAL_0:2;
end;
thus L534: thesis by L483 , L176;
end;
L535:
now
assume L536: (ex B136 being (Element of ( NAT )) st ( Svc (R3 , ( R6 . B136 )) ) = { ( +infty ) });
consider C108 being (Element of ( NAT )) such that L537: ( Svc (R3 , ( R6 . C108 )) ) = { ( +infty ) } by L536;
L538: ( inf { ( +infty ) } ) = ( +infty ) by XXREAL_2:13;
L539: ( ( C_Meas R3 ) . ( R6 . C108 ) ) = ( +infty ) by L538 , L537 , L176;
thus L540: thesis by L539 , L472;
end;
thus L541: thesis by L535 , L481;
end;
theorem
L542: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds ( C_Meas R3 ) is (C_Measure of R1))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
L543: ( ( C_Meas R3 ) . ( {} ) ) = ( 0. ) by L451;
L544: ( C_Meas R3 ) is  zeroed by L543 , VALUED_0:def 19;
L545: (( C_Meas R3 ) is  nonnegative & (for B137 , B138 being (Subset of R1) holds (B137 c= B138 implies (( ( C_Meas R3 ) . B137 ) <= ( ( C_Meas R3 ) . B138 ) & (for B139 being (Function of ( NAT ) , ( bool R1 )) holds ( ( C_Meas R3 ) . ( union ( rng B139 ) ) ) <= ( SUM ( ( C_Meas R3 ) * B139 ) )))))) by L436 , L460 , L480;
thus L546: thesis by L545 , L544 , MEASURE4:def 1;
end;
definition
let C109 being set;
let C110 being (Field_Subset of C109);
let C111 being (Measure of C110);
redefine func C_Meas C111 -> (C_Measure of C109);

correctness by L542;
end;
begin
definition
let C112 being set;
let C113 being (Field_Subset of C112);
let C114 being (Measure of C113);
attr C114 is  completely-additive
means
:L548: (for B140 being (Sep_Sequence of C113) holds (( union ( rng B140 ) ) in C113 implies ( SUM ( C114 * B140 ) ) = ( C114 . ( union ( rng B140 ) ) )));
end;
theorem
L550: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R12 being (Set_Sequence of R2) holds ( Partial_Union R12 ) is (Set_Sequence of R2))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R12 being (Set_Sequence of R2);
defpred S12[ Nat ] means ( ( Partial_Union R12 ) . $1 ) in R2;
L551: (for B141 being Nat holds (S12[ B141 ] implies S12[ ( B141 + 1 ) ]))
proof
let C115 being Nat;
L552: ( ( Partial_Union R12 ) . ( C115 + 1 ) ) = ( ( ( Partial_Union R12 ) . C115 ) \/ ( R12 . ( C115 + 1 ) ) ) by PROB_3:def 2;
assume L553: S12[ C115 ];
thus L554: S12[ ( C115 + 1 ) ] by L553 , L552 , PROB_1:3;
end;
L555: ( ( Partial_Union R12 ) . ( 0 ) ) = ( R12 . ( 0 ) ) by PROB_3:def 2;
L556: S12[ ( 0 ) ] by L555;
L557: (for B142 being Nat holds S12[ B142 ]) from NAT_1:sch 2(L556 , L551);
thus L558: thesis by L557 , L89;
end;
theorem
L559: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R12 being (Set_Sequence of R2) holds ( Partial_Diff_Union R12 ) is (Set_Sequence of R2))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R12 being (Set_Sequence of R2);
defpred S13[ Nat ] means ( ( Partial_Diff_Union R12 ) . $1 ) in R2;
L560: (for B143 being Nat holds (S13[ B143 ] implies S13[ ( B143 + 1 ) ]))
proof
let C116 being Nat;
assume L561: S13[ C116 ];
L562: ( Partial_Union R12 ) is (Set_Sequence of R2) by L550;
L563: ( ( Partial_Union R12 ) . C116 ) in R2 by L562 , L89;
L564: ( ( Partial_Diff_Union R12 ) . ( C116 + 1 ) ) = ( ( R12 . ( C116 + 1 ) ) \ ( ( Partial_Union R12 ) . C116 ) ) by PROB_3:def 3;
thus L565: S13[ ( C116 + 1 ) ] by L564 , L563 , PROB_1:6;
end;
L566: ( ( Partial_Diff_Union R12 ) . ( 0 ) ) = ( R12 . ( 0 ) ) by PROB_3:def 3;
L567: S13[ ( 0 ) ] by L566;
L568: (for B144 being Nat holds S13[ B144 ]) from NAT_1:sch 2(L567 , L560);
thus L569: thesis by L568 , L89;
end;
theorem
L570: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R4 being (Subset of R1) holds (for R13 being (Covering of R4 , R2) holds (R4 in R2 implies (ex B145 being (Sep_Sequence of R2) st (R4 = ( union ( rng B145 ) ) & (for B146 being Nat holds ( B145 . B146 ) c= ( R13 . B146 )))))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R4 being (Subset of R1);
let R13 being (Covering of R4 , R2);
deffunc H5((Element of ( NAT ))) = ( ( ( Partial_Diff_Union R13 ) . $1 ) /\ R4 );
consider C117 being (Function of ( NAT ) , ( bool R1 )) such that L571: (for B147 being (Element of ( NAT )) holds ( C117 . B147 ) = H5(B147)) from FUNCT_2:sch 4;
reconsider D59 = C117 as (SetSequence of R1);
assume L572: R4 in R2;
L573:
now
let C118 being set;
assume L574: C118 in ( rng D59 );
consider C119 being set such that L575: C119 in ( NAT ) and L576: ( D59 . C119 ) = C118 by L574 , FUNCT_2:11;
reconsider D60 = C119 as (Element of ( NAT )) by L575;
L577: ( D59 . D60 ) = ( ( ( Partial_Diff_Union R13 ) . D60 ) /\ R4 ) by L571;
L578: ( Partial_Diff_Union R13 ) is (Set_Sequence of R2) by L559;
L579: ( ( Partial_Diff_Union R13 ) . D60 ) in R2 by L578 , L89;
thus L580: C118 in R2 by L579 , L572 , L576 , L577 , FINSUB_1:def 2;
end;
L581: ( rng D59 ) c= R2 by L573 , TARSKI:def 3;
reconsider D61 = D59 as (Function of ( NAT ) , R2) by L581 , FUNCT_2:6;
L582: (for B148 , B149 being Nat holds (B148 <> B149 implies ( D61 . B148 ) misses ( D61 . B149 )))
proof
let C120 , C121 being Nat;
L583: C121 in ( NAT ) by ORDINAL1:def 12;
L584: ( D61 . C121 ) = ( ( ( Partial_Diff_Union R13 ) . C121 ) /\ R4 ) by L583 , L571;
L585: ( D61 . C121 ) c= ( ( Partial_Diff_Union R13 ) . C121 ) by L584 , XBOOLE_1:17;
L586: C120 in ( NAT ) by ORDINAL1:def 12;
L587: ( D61 . C120 ) = ( ( ( Partial_Diff_Union R13 ) . C120 ) /\ R4 ) by L586 , L571;
L588: ( D61 . C120 ) c= ( ( Partial_Diff_Union R13 ) . C120 ) by L587 , XBOOLE_1:17;
assume L589: C120 <> C121;
L590: ( ( Partial_Diff_Union R13 ) . C120 ) misses ( ( Partial_Diff_Union R13 ) . C121 ) by L589 , PROB_3:def 4;
thus L591: thesis by L590 , L588 , L585 , XBOOLE_1:64;
end;
reconsider D62 = D61 as (Sep_Sequence of R2) by L582 , PROB_3:def 4;
L592:
now
let C122 being set;
assume L593: C122 in R4;
L594: R4 c= ( union ( rng R13 ) ) by L95;
L595: C122 in ( union ( rng R13 ) ) by L594 , L593;
L596: C122 in ( Union R13 ) by L595 , CARD_3:def 4;
L597: C122 in ( Union ( Partial_Diff_Union R13 ) ) by L596 , PROB_3:20;
L598: C122 in ( union ( rng ( Partial_Diff_Union R13 ) ) ) by L597 , CARD_3:def 4;
consider C123 being set such that L599: C122 in C123 and L600: C123 in ( rng ( Partial_Diff_Union R13 ) ) by L598 , TARSKI:def 4;
consider C124 being set such that L601: C124 in ( NAT ) and L602: ( ( Partial_Diff_Union R13 ) . C124 ) = C123 by L600 , FUNCT_2:11;
reconsider D63 = C124 as (Element of ( NAT )) by L601;
L603: C122 in ( ( ( Partial_Diff_Union R13 ) . D63 ) /\ R4 ) by L593 , L599 , L602 , XBOOLE_0:def 4;
L604: C122 in ( D62 . D63 ) by L603 , L571;
L605: ( D62 . D63 ) in ( rng D62 ) by FUNCT_2:4;
thus L606: C122 in ( union ( rng D62 ) ) by L605 , L604 , TARSKI:def 4;
end;
L607: R4 c= ( union ( rng D62 ) ) by L592 , TARSKI:def 3;
take D62;
L608:
now
let C125 being set;
assume L609: C125 in ( union ( rng D62 ) );
consider C126 being set such that L610: C125 in C126 and L611: C126 in ( rng D62 ) by L609 , TARSKI:def 4;
consider C127 being set such that L612: C127 in ( NAT ) and L613: ( D62 . C127 ) = C126 by L611 , FUNCT_2:11;
reconsider D64 = C127 as (Element of ( NAT )) by L612;
L614: C125 in ( ( ( Partial_Diff_Union R13 ) . D64 ) /\ R4 ) by L571 , L610 , L613;
thus L615: C125 in R4 by L614 , XBOOLE_0:def 4;
end;
L616: ( union ( rng D62 ) ) c= R4 by L608 , TARSKI:def 3;
thus L617: R4 = ( union ( rng D62 ) ) by L616 , L607 , XBOOLE_0:def 10;
thus L618:now
let C128 being Nat;
L619: C128 in ( NAT ) by ORDINAL1:def 12;
L620: ( D62 . C128 ) = ( ( ( Partial_Diff_Union R13 ) . C128 ) /\ R4 ) by L619 , L571;
L621: ( D62 . C128 ) c= ( ( Partial_Diff_Union R13 ) . C128 ) by L620 , XBOOLE_1:17;
L622: ( ( Partial_Diff_Union R13 ) . C128 ) c= ( R13 . C128 ) by PROB_3:17;
thus L623: ( D62 . C128 ) c= ( R13 . C128 ) by L622 , L621 , XBOOLE_1:1;
end;
end;
theorem
L619: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (R3 is  completely-additive implies (for B150 being set holds (B150 in R2 implies ( R3 . B150 ) = ( ( C_Meas R3 ) . B150 )))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
assume L620: R3 is  completely-additive;
let C129 being set;
assume L621: C129 in R2;
reconsider D65 = C129 as (Subset of R1) by L621;
L622: (for B151 being  ext-real number holds (B151 in ( Svc (R3 , D65) ) implies ( R3 . C129 ) <= B151))
proof
let C130 being  ext-real number;
assume L623: C130 in ( Svc (R3 , D65) );
consider C131 being (Covering of D65 , R2) such that L624: C130 = ( SUM ( vol (R3 , C131) ) ) by L623 , L153;
consider C132 being (Sep_Sequence of R2) such that L625: C129 = ( union ( rng C132 ) ) and L626: (for B152 being Nat holds ( C132 . B152 ) c= ( C131 . B152 )) by L621 , L570;
L627: (for B153 being (Element of ( NAT )) holds ( ( R3 * C132 ) . B153 ) <= ( ( vol (R3 , C131) ) . B153 ))
proof
let C133 being (Element of ( NAT ));
L628: ( R3 . ( C132 . C133 ) ) <= ( R3 . ( C131 . C133 ) ) by L626 , MEASURE1:8;
L629: ( ( R3 * C132 ) . C133 ) <= ( R3 . ( C131 . C133 ) ) by L628 , FUNCT_2:15;
thus L630: thesis by L629 , L118;
end;
L631: ( SUM ( R3 * C132 ) ) <= ( SUM ( vol (R3 , C131) ) ) by L627 , SUPINF_2:43;
thus L632: ( R3 . C129 ) <= C130 by L631 , L620 , L621 , L624 , L625 , L548;
end;
L633: ( R3 . C129 ) is (LowerBound of ( Svc (R3 , D65) )) by L622 , XXREAL_2:def 2;
L634: ( R3 . C129 ) <= ( inf ( Svc (R3 , D65) ) ) by L633 , XXREAL_2:def 4;
L635: ( R3 . C129 ) <= ( ( C_Meas R3 ) . D65 ) by L634 , L176;
L636: ( ( C_Meas R3 ) . C129 ) <= ( R3 . C129 ) by L621 , L416;
thus L637: ( R3 . C129 ) = ( ( C_Meas R3 ) . C129 ) by L636 , L635 , XXREAL_0:1;
end;
theorem
L638: (for R1 being set holds (for R4 being (Subset of R1) holds (for R15 being (C_Measure of R1) holds ((for B154 being (Subset of R1) holds ( ( R15 . ( B154 /\ R4 ) ) + ( R15 . ( B154 /\ ( R1 \ R4 ) ) ) ) <= ( R15 . B154 )) implies R4 in ( sigma_Field R15 )))))
proof
let R1 being set;
let R4 being (Subset of R1);
let R15 being (C_Measure of R1);
assume L639: (for B155 being (Subset of R1) holds ( ( R15 . ( B155 /\ R4 ) ) + ( R15 . ( B155 /\ ( R1 \ R4 ) ) ) ) <= ( R15 . B155 ));
L640: (for B156 , B157 being (Subset of R1) holds ((B156 c= R4 & B157 c= ( R1 \ R4 )) implies ( ( R15 . B156 ) + ( R15 . B157 ) ) <= ( R15 . ( B156 \/ B157 ) )))
proof
let C134 , C135 being (Subset of R1);
assume that
L641: C134 c= R4
and
L642: C135 c= ( R1 \ R4 );
set D66 = ( C134 \/ C135 );
L643: C135 misses R4 by L642 , XBOOLE_1:106;
L644: ( D66 /\ ( R1 \ R4 ) ) = ( ( D66 /\ R1 ) \ R4 ) by XBOOLE_1:49
.= ( ( ( R1 /\ C134 ) \/ ( R1 /\ C135 ) ) \ R4 ) by XBOOLE_1:23
.= ( ( C134 \/ ( R1 /\ C135 ) ) \ R4 ) by XBOOLE_1:28
.= ( ( C134 \/ C135 ) \ R4 ) by XBOOLE_1:28
.= ( ( C134 \ R4 ) \/ ( C135 \ R4 ) ) by XBOOLE_1:42
.= ( ( {} ) \/ ( C135 \ R4 ) ) by L641 , XBOOLE_1:37
.= ( ( {} ) \/ C135 ) by L643 , XBOOLE_1:83;
L645: ( D66 /\ R4 ) = ( ( R4 /\ C134 ) \/ ( R4 /\ C135 ) ) by XBOOLE_1:23
.= ( C134 \/ ( R4 /\ C135 ) ) by L641 , XBOOLE_1:28
.= ( C134 \/ ( {} ) ) by L643 , XBOOLE_0:def 7;
thus L646: thesis by L645 , L639 , L644;
end;
thus L647: R4 in ( sigma_Field R15 ) by L640 , MEASURE4:def 2;
end;
theorem
L648: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds R2 c= ( sigma_Field ( C_Meas R3 ) ))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
set D67 = ( C_Meas R3 );
L649:
now
let C136 being set;
assume L650: C136 in R2;
reconsider D68 = C136 as (Subset of R1) by L650;
L651: (for B158 being (Subset of R1) holds ( ( D67 . ( B158 /\ D68 ) ) + ( D67 . ( B158 /\ ( R1 \ D68 ) ) ) ) <= ( D67 . B158 ))
proof
let C137 being (Subset of R1);
set D69 = ( ( ( C_Meas R3 ) . ( C137 /\ D68 ) ) + ( ( C_Meas R3 ) . ( C137 /\ ( R1 \ D68 ) ) ) );
L652: (for B159 being (Covering of C137 , R2) holds ( ( ( C_Meas R3 ) . ( C137 /\ D68 ) ) + ( ( C_Meas R3 ) . ( C137 /\ ( R1 \ D68 ) ) ) ) <= ( SUM ( vol (R3 , B159) ) ))
proof
let C138 being (Covering of C137 , R2);
deffunc H6((Element of ( NAT ))) = ( ( C138 . $1 ) /\ C136 );
consider C139 being (Function of ( NAT ) , ( bool R1 )) such that L653: (for B160 being (Element of ( NAT )) holds ( C139 . B160 ) = H6(B160)) from FUNCT_2:sch 4;
reconsider D70 = C139 as (SetSequence of R1);
L654: (for B161 being Nat holds ( D70 . B161 ) in R2)
proof
let C140 being Nat;
L655: C140 in ( NAT ) by ORDINAL1:def 12;
L656: ( D70 . C140 ) = ( ( C138 . C140 ) /\ C136 ) by L655 , L653;
thus L657: ( D70 . C140 ) in R2 by L656 , L650 , FINSUB_1:def 2;
end;
reconsider D71 = D70 as (Set_Sequence of R2) by L654 , L89;
L658: (for B162 being set holds (B162 in C137 implies (ex B163 being (Element of ( NAT )) st B162 in ( C138 . B163 ))))
proof
let C141 being set;
assume L659: C141 in C137;
L660: C137 c= ( union ( rng C138 ) ) by L95;
consider C142 being set such that L661: C141 in C142 and L662: C142 in ( rng C138 ) by L660 , L659 , TARSKI:def 4;
L663: (ex B164 being (Element of ( NAT )) st C142 = ( C138 . B164 )) by L662 , FUNCT_2:113;
thus L664: thesis by L663 , L661;
end;
L665:
now
let C143 being set;
assume L666: C143 in ( C137 /\ D68 );
L667: C143 in C137 by L666 , XBOOLE_0:def 4;
consider C144 being (Element of ( NAT )) such that L668: C143 in ( C138 . C144 ) by L667 , L658;
L669: C143 in D68 by L666 , XBOOLE_0:def 4;
L670: C143 in ( ( C138 . C144 ) /\ C136 ) by L669 , L668 , XBOOLE_0:def 4;
L671: C143 in ( D71 . C144 ) by L670 , L653;
L672: ( D71 . C144 ) in ( rng D71 ) by FUNCT_2:4;
thus L673: C143 in ( union ( rng D71 ) ) by L672 , L671 , TARSKI:def 4;
end;
L674: ( C137 /\ D68 ) c= ( union ( rng D71 ) ) by L665 , TARSKI:def 3;
reconsider D72 = D71 as (Covering of ( C137 /\ D68 ) , R2) by L674 , L95;
deffunc H7((Element of ( NAT ))) = ( ( C138 . $1 ) /\ ( R1 \ C136 ) );
consider C145 being (Function of ( NAT ) , ( bool R1 )) such that L675: (for B165 being (Element of ( NAT )) holds ( C145 . B165 ) = H7(B165)) from FUNCT_2:sch 4;
reconsider D73 = C145 as (SetSequence of R1);
L676: (for B166 being Nat holds ( D73 . B166 ) in R2)
proof
let C146 being Nat;
L677: R1 in R2 by PROB_1:5;
L678: ( R1 \ C136 ) in R2 by L677 , L650 , PROB_1:6;
L679: C146 in ( NAT ) by ORDINAL1:def 12;
L680: ( D73 . C146 ) = ( ( C138 . C146 ) /\ ( R1 \ C136 ) ) by L679 , L675;
thus L681: ( D73 . C146 ) in R2 by L680 , L678 , FINSUB_1:def 2;
end;
reconsider D74 = D73 as (Set_Sequence of R2) by L676 , L89;
L682:
now
let C147 being set;
assume L683: C147 in ( C137 /\ ( R1 \ D68 ) );
L684: C147 in C137 by L683 , XBOOLE_0:def 4;
consider C148 being (Element of ( NAT )) such that L685: C147 in ( C138 . C148 ) by L684 , L658;
L686: C147 in ( R1 \ D68 ) by L683 , XBOOLE_0:def 4;
L687: C147 in ( ( C138 . C148 ) /\ ( R1 \ C136 ) ) by L686 , L685 , XBOOLE_0:def 4;
L688: C147 in ( D74 . C148 ) by L687 , L675;
L689: ( D74 . C148 ) in ( rng D74 ) by FUNCT_2:4;
thus L690: C147 in ( union ( rng D74 ) ) by L689 , L688 , TARSKI:def 4;
end;
L691: ( C137 /\ ( R1 \ D68 ) ) c= ( union ( rng D74 ) ) by L682 , TARSKI:def 3;
reconsider D75 = D74 as (Covering of ( C137 /\ ( R1 \ D68 ) ) , R2) by L691 , L95;
L692: (for B167 being Nat holds ( ( vol (R3 , C138) ) . B167 ) = ( ( ( vol (R3 , D72) ) . B167 ) + ( ( vol (R3 , D75) ) . B167 ) ))
proof
let C149 being Nat;
L693: (( R3 . ( C138 . C149 ) ) = ( ( vol (R3 , C138) ) . C149 ) & ( R3 . ( D72 . C149 ) ) = ( ( vol (R3 , D72) ) . C149 )) by L118;
L694: ( R3 . ( D75 . C149 ) ) = ( ( vol (R3 , D75) ) . C149 ) by L118;
L695: C149 is (Element of ( NAT )) by ORDINAL1:def 12;
L696: (( D72 . C149 ) = ( ( C138 . C149 ) /\ C136 ) & ( D75 . C149 ) = ( ( C138 . C149 ) /\ ( R1 \ C136 ) )) by L695 , L653 , L675;
L697: ( ( D72 . C149 ) \/ ( D75 . C149 ) ) = ( ( C138 . C149 ) /\ ( C136 \/ ( R1 \ C136 ) ) ) by L696 , XBOOLE_1:23;
L698: ( ( D72 . C149 ) \/ ( D75 . C149 ) ) = ( ( C138 . C149 ) /\ ( C136 \/ R1 ) ) by L697 , XBOOLE_1:39;
L699: ( ( D72 . C149 ) \/ ( D75 . C149 ) ) = ( ( C138 . C149 ) /\ R1 ) by L698 , XBOOLE_1:12;
L700: ( ( D72 . C149 ) \/ ( D75 . C149 ) ) = ( C138 . C149 ) by L699 , XBOOLE_1:28;
L701: ( D72 . C149 ) misses ( D75 . C149 ) by L696 , XBOOLE_1:76 , XBOOLE_1:79;
thus L702: ( ( vol (R3 , C138) ) . C149 ) = ( ( ( vol (R3 , D72) ) . C149 ) + ( ( vol (R3 , D75) ) . C149 ) ) by L701 , L700 , L693 , L694 , MEASURE1:def 3;
end;
L703: (( ( C_Meas R3 ) . ( C137 /\ ( R1 \ D68 ) ) ) = ( inf ( Svc (R3 , ( C137 /\ ( R1 \ D68 ) )) ) ) & ( SUM ( vol (R3 , D75) ) ) in ( Svc (R3 , ( C137 /\ ( R1 \ D68 ) )) )) by L153 , L176;
L704: ( ( C_Meas R3 ) . ( C137 /\ ( R1 \ D68 ) ) ) <= ( SUM ( vol (R3 , D75) ) ) by L703 , XXREAL_2:3;
L705: (( ( C_Meas R3 ) . ( C137 /\ D68 ) ) = ( inf ( Svc (R3 , ( C137 /\ D68 )) ) ) & ( SUM ( vol (R3 , D72) ) ) in ( Svc (R3 , ( C137 /\ D68 )) )) by L153 , L176;
L706: ( ( C_Meas R3 ) . ( C137 /\ D68 ) ) <= ( SUM ( vol (R3 , D72) ) ) by L705 , XXREAL_2:3;
L707: (( vol (R3 , D72) ) is  nonnegative & ( vol (R3 , D75) ) is  nonnegative) by L128;
L708: ( SUM ( vol (R3 , C138) ) ) = ( ( SUM ( vol (R3 , D72) ) ) + ( SUM ( vol (R3 , D75) ) ) ) by L707 , L692 , L21;
thus L709: ( ( ( C_Meas R3 ) . ( C137 /\ D68 ) ) + ( ( C_Meas R3 ) . ( C137 /\ ( R1 \ D68 ) ) ) ) <= ( SUM ( vol (R3 , C138) ) ) by L708 , L706 , L704 , XXREAL_3:36;
end;
L710: (for B168 being  ext-real number holds (B168 in ( Svc (R3 , C137) ) implies D69 <= B168))
proof
let C150 being  ext-real number;
assume L711: C150 in ( Svc (R3 , C137) );
L712: (ex B169 being (Covering of C137 , R2) st C150 = ( SUM ( vol (R3 , B169) ) )) by L711 , L153;
thus L713: thesis by L712 , L652;
end;
L714: D69 is (LowerBound of ( Svc (R3 , C137) )) by L710 , XXREAL_2:def 2;
L715: D69 <= ( inf ( Svc (R3 , C137) ) ) by L714 , XXREAL_2:def 4;
thus L716: D69 <= ( ( C_Meas R3 ) . C137 ) by L715 , L176;
end;
thus L717: C136 in ( sigma_Field ( C_Meas R3 ) ) by L651 , L638;
end;
thus L718: thesis by L649 , TARSKI:def 3;
end;
theorem
L719: (for B170 being set holds (for B171 being (Field_Subset of B170) holds (for B172 being (Set_Sequence of B171) holds (for B173 being (Function of B171 , ( ExtREAL )) holds ( B173 * B172 ) is ExtREAL_sequence))))
proof
let C151 being set;
let C152 being (Field_Subset of C151);
let C153 being (Set_Sequence of C152);
let C154 being (Function of C152 , ( ExtREAL ));
L720:
now
let C155 being set;
assume L721: C155 in ( rng C153 );
L722: (ex B174 being set st (B174 in ( NAT ) & ( C153 . B174 ) = C155)) by L721 , FUNCT_2:11;
thus L723: C155 in C152 by L722 , L89;
end;
L724: ( rng C153 ) c= C152 by L720 , TARSKI:def 3;
L725: ( rng C153 ) c= ( dom C154 ) by L724 , FUNCT_2:def 1;
L726: ( dom ( C154 * C153 ) ) = ( dom C153 ) by L725 , RELAT_1:27;
L727: ( dom ( C154 * C153 ) ) = ( NAT ) by L726 , FUNCT_2:def 1;
thus L728: thesis by L727 , FUNCT_2:def 1;
end;
definition
let C156 being set;
let C157 being (Field_Subset of C156);
let C158 being (Set_Sequence of C157);
let C159 being (Function of C157 , ( ExtREAL ));
redefine func C159 * C158 -> ExtREAL_sequence;

correctness by L719;
end;
theorem
L730: (for B175 being set holds (for B176 being (SigmaField of B175) holds (for B177 being (SetSequence of B176) holds (for B178 being (Function of B176 , ( ExtREAL )) holds ( B178 * B177 ) is ExtREAL_sequence))))
proof
let C160 being set;
let C161 being (SigmaField of C160);
let C162 being (SetSequence of C161);
let C163 being (Function of C161 , ( ExtREAL ));
L731: ( rng C162 ) c= C161;
L732: ( rng C162 ) c= ( dom C163 ) by L731 , FUNCT_2:def 1;
L733: ( dom ( C163 * C162 ) ) = ( dom C162 ) by L732 , RELAT_1:27;
L734: ( dom ( C163 * C162 ) ) = ( NAT ) by L733 , FUNCT_2:def 1;
thus L735: thesis by L734 , FUNCT_2:def 1;
end;
definition
let C164 being set;
let C165 being (SigmaField of C164);
let C166 being (SetSequence of C165);
let C167 being (Function of C165 , ( ExtREAL ));
redefine func C167 * C166 -> ExtREAL_sequence;

correctness by L730;
end;
theorem
L737: (for B179 , B180 being (Function of ( NAT ) , ( ExtREAL )) holds (for B181 being Nat holds ((for B182 being Nat holds (B182 <= B181 implies ( B179 . B182 ) <= ( B180 . B182 ))) implies ( ( Ser B179 ) . B181 ) <= ( ( Ser B180 ) . B181 ))))
proof
let C168 , C169 being (Function of ( NAT ) , ( ExtREAL ));
let C170 being Nat;
assume L738: (for B183 being Nat holds (B183 <= C170 implies ( C168 . B183 ) <= ( C169 . B183 )));
defpred S14[ Nat ] means ((for B184 being Nat holds (B184 <= $1 implies ( C168 . B184 ) <= ( C169 . B184 ))) implies ( ( Ser C168 ) . $1 ) <= ( ( Ser C169 ) . $1 ));
L739: (for B185 being Nat holds (S14[ B185 ] implies S14[ ( B185 + 1 ) ]))
proof
let C171 being Nat;
L740: C171 is (Element of ( NAT )) by ORDINAL1:def 12;
assume L741: S14[ C171 ];
L742:
now
assume L743: (for B186 being Nat holds (B186 <= ( C171 + 1 ) implies ( C168 . B186 ) <= ( C169 . B186 )));
L744:
now
let C172 being Nat;
assume L745: C172 <= C171;
L746: C172 < ( C171 + 1 ) by L745 , NAT_1:13;
thus L747: ( C168 . C172 ) <= ( C169 . C172 ) by L746 , L743;
end;
L748: ( C168 . ( C171 + 1 ) ) <= ( C169 . ( C171 + 1 ) ) by L743;
L749: ( ( ( Ser C168 ) . C171 ) + ( C168 . ( C171 + 1 ) ) ) <= ( ( ( Ser C169 ) . C171 ) + ( C169 . ( C171 + 1 ) ) ) by L748 , L741 , L744 , XXREAL_3:36;
L750: ( ( Ser C168 ) . ( C171 + 1 ) ) <= ( ( ( Ser C169 ) . C171 ) + ( C169 . ( C171 + 1 ) ) ) by L749 , L740 , SUPINF_2:44;
thus L751: ( ( Ser C168 ) . ( C171 + 1 ) ) <= ( ( Ser C169 ) . ( C171 + 1 ) ) by L750 , L740 , SUPINF_2:44;
end;
thus L752: S14[ ( C171 + 1 ) ] by L742;
end;
L753:
now
L754: (( ( Ser C168 ) . ( 0 ) ) = ( C168 . ( 0 ) ) & ( ( Ser C169 ) . ( 0 ) ) = ( C169 . ( 0 ) )) by SUPINF_2:44;
assume L755: (for B187 being Nat holds (B187 <= ( 0 ) implies ( C168 . B187 ) <= ( C169 . B187 )));
thus L756: ( ( Ser C168 ) . ( 0 ) ) <= ( ( Ser C169 ) . ( 0 ) ) by L755 , L754;
end;
L757: S14[ ( 0 ) ] by L753;
L758: (for B188 being Nat holds S14[ B188 ]) from NAT_1:sch 2(L757 , L739);
thus L759: thesis by L758 , L738;
end;
theorem
L760: (for R1 being set holds (for R15 being (C_Measure of R1) holds (for B189 being (Sep_Sequence of ( sigma_Field R15 )) holds (( union ( rng B189 ) ) in ( sigma_Field R15 ) & ( R15 . ( union ( rng B189 ) ) ) = ( Sum ( R15 * B189 ) )))))
proof
let R1 being set;
let R15 being (C_Measure of R1);
let C173 being (Sep_Sequence of ( sigma_Field R15 ));
L761: ( rng C173 ) c= ( sigma_Field R15 ) by RELAT_1:def 19;
reconsider D76 = C173 as (Function of ( NAT ) , ( bool R1 )) by L761 , FUNCT_2:6;
L762: (for B190 being (Subset of R1) holds (for B191 being (Element of ( NAT )) holds ( ( ( Ser ( R15 * ( B190 (/\) D76 ) ) ) . B191 ) + ( R15 . ( B190 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . B190 )))
proof
defpred S15[ Nat ] means (for B192 being (Subset of R1) holds ( R15 . B192 ) >= ( ( ( Ser ( R15 * ( B192 (/\) D76 ) ) ) . $1 ) + ( R15 . ( B192 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ));
let C174 being (Subset of R1);
let C175 being (Element of ( NAT ));
L763: (for B193 being (Element of ( NAT )) holds (S15[ B193 ] implies S15[ ( B193 + 1 ) ]))
proof
let C176 being (Element of ( NAT ));
assume L764: S15[ C176 ];
L765:
now
let C177 being (Subset of R1);
L766: ( R15 . ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) ) >= ( ( ( Ser ( R15 * ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) (/\) D76 ) ) ) . C176 ) + ( R15 . ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L764;
L767: (for B194 being Nat holds (B194 <= C176 implies ( ( R15 * ( C177 (/\) D76 ) ) . B194 ) <= ( ( R15 * ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) (/\) D76 ) ) . B194 )))
proof
let C178 being Nat;
reconsider D77 = C178 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L768: C178 <= C176;
L769: C178 < ( C176 + 1 ) by L768 , NAT_1:13;
L770: ( D76 . C178 ) misses ( D76 . ( C176 + 1 ) ) by L769 , PROB_2:def 2;
L771: ( ( D76 . C178 ) /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) = ( D76 . C178 ) by L770 , XBOOLE_1:28 , XBOOLE_1:86;
L772: ( ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) (/\) D76 ) . C178 ) = ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) /\ ( D76 . D77 ) ) by SETLIM_2:def 5
.= ( C177 /\ ( ( D76 . C178 ) /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) ) by XBOOLE_1:16;
L773: ( ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) (/\) D76 ) . C178 ) = ( ( C177 (/\) D76 ) . D77 ) by L772 , L771 , SETLIM_2:def 5;
L774: ( ( R15 * ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) (/\) D76 ) ) . D77 ) = ( R15 . ( ( C177 (/\) D76 ) . D77 ) ) by L773 , FUNCT_2:15;
thus L775: thesis by L774 , FUNCT_2:15;
end;
L776: ( ( Ser ( R15 * ( C177 (/\) D76 ) ) ) . C176 ) <= ( ( Ser ( R15 * ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) (/\) D76 ) ) ) . C176 ) by L767 , L737;
L777: ( D76 . ( C176 + 1 ) ) c= ( union ( rng C173 ) ) by FUNCT_2:4 , ZFMISC_1:74;
L778: ( ( R1 \ ( D76 . ( C176 + 1 ) ) ) /\ ( R1 \ ( union ( rng C173 ) ) ) ) = ( R1 \ ( union ( rng C173 ) ) ) by L777 , XBOOLE_1:28 , XBOOLE_1:34;
L779: ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) /\ ( R1 \ ( union ( rng C173 ) ) ) ) = ( C177 /\ ( R1 \ ( union ( rng C173 ) ) ) ) by L778 , XBOOLE_1:16;
L780: ( ( ( Ser ( R15 * ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) (/\) D76 ) ) ) . C176 ) + ( R15 . ( ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) >= ( ( ( Ser ( R15 * ( C177 (/\) D76 ) ) ) . C176 ) + ( R15 . ( C177 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L779 , L776 , XXREAL_3:36;
thus L781: ( R15 . ( C177 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) ) >= ( ( ( Ser ( R15 * ( C177 (/\) D76 ) ) ) . C176 ) + ( R15 . ( C177 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L780 , L766 , XXREAL_0:2;
end;
let C179 being (Subset of R1);
L782: ( C179 /\ ( R1 \ ( D76 . ( C176 + 1 ) ) ) ) = ( ( C179 /\ R1 ) \ ( D76 . ( C176 + 1 ) ) ) by XBOOLE_1:49
.= ( C179 \ ( D76 . ( C176 + 1 ) ) ) by XBOOLE_1:28;
L783: ( R15 . ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) >= ( ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . C176 ) + ( R15 . ( C179 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L782 , L765;
L784: ( C179 \ ( D76 . ( C176 + 1 ) ) ) c= ( R1 \ ( D76 . ( C176 + 1 ) ) ) by XBOOLE_1:33;
L785: ( C179 \/ ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) = C179 by XBOOLE_1:12 , XBOOLE_1:36;
L786: (( D76 . ( C176 + 1 ) ) in ( rng C173 ) & ( C179 /\ ( D76 . ( C176 + 1 ) ) ) c= ( D76 . ( C176 + 1 ) )) by FUNCT_2:4 , XBOOLE_1:17;
L787: ( ( R15 . ( C179 /\ ( D76 . ( C176 + 1 ) ) ) ) + ( R15 . ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) ) = ( R15 . ( ( C179 /\ ( D76 . ( C176 + 1 ) ) ) \/ ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) ) by L786 , L761 , L784 , MEASURE4:5
.= ( R15 . ( ( C179 \/ ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) /\ ( ( D76 . ( C176 + 1 ) ) \/ ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) ) ) by XBOOLE_1:24
.= ( R15 . ( ( C179 \/ ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) /\ ( ( D76 . ( C176 + 1 ) ) \/ C179 ) ) ) by XBOOLE_1:39;
L788: ( ( R15 . ( C179 /\ ( D76 . ( C176 + 1 ) ) ) ) + ( R15 . ( C179 \ ( D76 . ( C176 + 1 ) ) ) ) ) = ( R15 . C179 ) by L787 , L785 , XBOOLE_1:7 , XBOOLE_1:28;
L789: ( R15 . C179 ) >= ( ( ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . C176 ) + ( R15 . ( C179 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) + ( R15 . ( C179 /\ ( D76 . ( C176 + 1 ) ) ) ) ) by L788 , L783 , XXREAL_3:36;
L790: ( ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . C176 ) + ( R15 . ( C179 /\ ( D76 . ( C176 + 1 ) ) ) ) ) = ( ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . C176 ) + ( R15 . ( ( C179 (/\) D76 ) . ( C176 + 1 ) ) ) ) by SETLIM_2:def 5
.= ( ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . C176 ) + ( ( R15 * ( C179 (/\) D76 ) ) . ( C176 + 1 ) ) ) by FUNCT_2:15
.= ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . ( C176 + 1 ) ) by SUPINF_2:44;
L791: R15 is  nonnegative by MEASURE4:def 1;
L792: ( R15 * ( C179 (/\) D76 ) ) is  nonnegative by L791 , MEASURE1:25;
L793: ( ( R15 * ( C179 (/\) D76 ) ) . C176 ) >= ( 0 ) by L792 , SUPINF_2:51;
L794: ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . C176 ) > ( -infty ) by L793 , L792 , MEASURE7:2;
L795: (( R15 . ( C179 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) > ( -infty ) & ( R15 . ( C179 /\ ( D76 . ( C176 + 1 ) ) ) ) > ( -infty )) by L791 , SUPINF_2:51;
thus L796: ( R15 . C179 ) >= ( ( ( Ser ( R15 * ( C179 (/\) D76 ) ) ) . ( C176 + 1 ) ) + ( R15 . ( C179 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L795 , L794 , L789 , L790 , XXREAL_3:29;
end;
L797: ( C173 . ( 0 ) ) in ( sigma_Field R15 );
L798:
now
let C180 being (Subset of R1);
L799: (( C180 /\ ( D76 . ( 0 ) ) ) c= ( D76 . ( 0 ) ) & ( C180 /\ ( R1 \ ( D76 . ( 0 ) ) ) ) c= ( R1 \ ( D76 . ( 0 ) ) )) by XBOOLE_1:17;
L800: ( ( R15 . ( C180 /\ ( D76 . ( 0 ) ) ) ) + ( R15 . ( C180 /\ ( R1 \ ( D76 . ( 0 ) ) ) ) ) ) = ( R15 . ( ( C180 /\ ( D76 . ( 0 ) ) ) \/ ( C180 /\ ( R1 \ ( D76 . ( 0 ) ) ) ) ) ) by L799 , L797 , MEASURE4:5
.= ( R15 . ( ( C180 /\ ( D76 . ( 0 ) ) ) \/ ( ( C180 /\ R1 ) \ ( D76 . ( 0 ) ) ) ) ) by XBOOLE_1:49
.= ( R15 . ( ( C180 /\ ( D76 . ( 0 ) ) ) \/ ( C180 \ ( D76 . ( 0 ) ) ) ) ) by XBOOLE_1:28
.= ( R15 . C180 ) by XBOOLE_1:51;
L801: ( D76 . ( 0 ) ) c= ( Union D76 ) by ABCMIZ_1:1;
L802: ( C173 . ( 0 ) ) c= ( union ( rng C173 ) ) by L801 , CARD_3:def 4;
L803: ( R1 \ ( union ( rng C173 ) ) ) c= ( R1 \ ( C173 . ( 0 ) ) ) by L802 , XBOOLE_1:34;
L804: ( C180 /\ ( R1 \ ( union ( rng C173 ) ) ) ) c= ( C180 /\ ( R1 \ ( C173 . ( 0 ) ) ) ) by L803 , XBOOLE_1:26;
L805: ( R15 . ( C180 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) <= ( R15 . ( C180 /\ ( R1 \ ( C173 . ( 0 ) ) ) ) ) by L804 , MEASURE4:def 1;
L806: ( ( Ser ( R15 * ( C180 (/\) D76 ) ) ) . ( 0 ) ) = ( ( R15 * ( C180 (/\) D76 ) ) . ( 0 ) ) by SUPINF_2:44
.= ( R15 . ( ( C180 (/\) D76 ) . ( 0 ) ) ) by FUNCT_2:15
.= ( R15 . ( C180 /\ ( D76 . ( 0 ) ) ) ) by SETLIM_2:def 5;
thus L807: ( R15 . C180 ) >= ( ( ( Ser ( R15 * ( C180 (/\) D76 ) ) ) . ( 0 ) ) + ( R15 . ( C180 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L806 , L800 , L805 , XXREAL_3:36;
end;
L808: S15[ ( 0 ) ] by L798;
L809: (for B195 being (Element of ( NAT )) holds S15[ B195 ]) from NAT_1:sch 1(L808 , L763);
thus L810: thesis by L809;
end;
L811: (for B196 being (Subset of R1) holds (( ( SUM ( R15 * ( B196 (/\) D76 ) ) ) + ( R15 . ( B196 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . B196 ) & ( R15 . ( B196 /\ ( Union D76 ) ) ) <= ( SUM ( R15 * ( B196 (/\) D76 ) ) )))
proof
let C181 being (Subset of R1);
L812: R15 is  nonnegative by MEASURE4:def 1;
L813: ( R15 * ( C181 (/\) D76 ) ) is  nonnegative by L812 , MEASURE1:25;
L814: ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) > ( -infty ) by L812 , SUPINF_2:51;
L815: ((not (( R15 . C181 ) = ( +infty ) & ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) = ( +infty ))) implies ( ( SUM ( R15 * ( C181 (/\) D76 ) ) ) + ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . C181 ))
proof
assume L816: (not (( R15 . C181 ) = ( +infty ) & ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) = ( +infty )));
L817: (for B197 being  ext-real number holds (B197 in ( rng ( Ser ( R15 * ( C181 (/\) D76 ) ) ) ) implies B197 <= ( ( R15 . C181 ) - ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) )))
proof
let C182 being  ext-real number;
assume L818: C182 in ( rng ( Ser ( R15 * ( C181 (/\) D76 ) ) ) );
consider C183 being set such that L819: C183 in ( NAT ) and L820: ( ( Ser ( R15 * ( C181 (/\) D76 ) ) ) . C183 ) = C182 by L818 , FUNCT_2:11;
reconsider D78 = C183 as (Element of ( NAT )) by L819;
L821: ( ( R15 * ( C181 (/\) D76 ) ) . D78 ) >= ( 0 ) by L813 , SUPINF_2:51;
L822: C182 > ( -infty ) by L821 , L813 , L820 , MEASURE7:2;
L823: (( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) > ( -infty ) & ( ( ( Ser ( R15 * ( C181 (/\) D76 ) ) ) . D78 ) + ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . C181 )) by L762 , L812 , SUPINF_2:51;
thus L824: C182 <= ( ( R15 . C181 ) - ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L823 , L816 , L820 , L822 , XXREAL_3:56;
end;
L825: ( ( R15 . C181 ) - ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) is (UpperBound of ( rng ( Ser ( R15 * ( C181 (/\) D76 ) ) ) )) by L817 , XXREAL_2:def 1;
L826: ( SUM ( R15 * ( C181 (/\) D76 ) ) ) <= ( ( R15 . C181 ) - ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L825 , XXREAL_2:def 3;
L827: ( SUM ( R15 * ( C181 (/\) D76 ) ) ) >= ( 0 ) by L813 , MEASURE6:2;
thus L828: ( ( SUM ( R15 * ( C181 (/\) D76 ) ) ) + ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . C181 ) by L827 , L814 , L826 , XXREAL_3:55;
end;
thus L829: ( ( SUM ( R15 * ( C181 (/\) D76 ) ) ) + ( R15 . ( C181 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . C181 ) by L815 , XXREAL_0:3;
L830: ( R15 . ( union ( rng ( C181 (/\) D76 ) ) ) ) <= ( SUM ( R15 * ( C181 (/\) D76 ) ) ) by MEASURE4:def 1;
L831: ( R15 . ( Union ( C181 (/\) D76 ) ) ) <= ( SUM ( R15 * ( C181 (/\) D76 ) ) ) by L830 , CARD_3:def 4;
thus L832: ( R15 . ( C181 /\ ( Union D76 ) ) ) <= ( SUM ( R15 * ( C181 (/\) D76 ) ) ) by L831 , SETLIM_2:38;
end;
L833: ( R15 . ( ( union ( rng C173 ) ) /\ ( Union D76 ) ) ) <= ( SUM ( R15 * ( ( union ( rng C173 ) ) (/\) D76 ) ) ) by L811;
L834: (for B198 , B199 being (Subset of R1) holds ((B198 c= ( Union D76 ) & B199 c= ( R1 \ ( Union D76 ) )) implies ( ( R15 . B198 ) + ( R15 . B199 ) ) <= ( R15 . ( B198 \/ B199 ) )))
proof
let C184 , C185 being (Subset of R1);
assume that
L835: C184 c= ( Union D76 )
and
L836: C185 c= ( R1 \ ( Union D76 ) );
set D79 = ( C184 \/ C185 );
L837: ( D79 /\ ( R1 \ ( Union D76 ) ) ) = ( C185 \/ ( C184 /\ ( R1 \ ( Union D76 ) ) ) ) by L836 , XBOOLE_1:30;
L838: ( R1 \ ( Union D76 ) ) misses ( Union D76 ) by XBOOLE_1:79;
L839: ( ( R1 \ ( Union D76 ) ) /\ ( Union D76 ) ) = ( {} ) by L838 , XBOOLE_0:def 7;
L840: ( C184 /\ ( R1 \ ( Union D76 ) ) ) c= ( ( Union D76 ) /\ ( R1 \ ( Union D76 ) ) ) by L835 , XBOOLE_1:26;
L841: ( C184 /\ ( R1 \ ( Union D76 ) ) ) = ( {} ) by L840 , L839;
L842: ( R15 . C185 ) = ( R15 . ( D79 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) by L841 , L837 , CARD_3:def 4;
L843: ( C185 /\ ( Union D76 ) ) c= ( ( R1 \ ( Union D76 ) ) /\ ( Union D76 ) ) by L836 , XBOOLE_1:26;
L844: ( C185 /\ ( Union D76 ) ) = ( {} ) by L843 , L839;
L845: ( D79 /\ ( Union D76 ) ) = ( C184 \/ ( C185 /\ ( Union D76 ) ) ) by L835 , XBOOLE_1:30;
L846: ( R15 . C184 ) <= ( SUM ( R15 * ( D79 (/\) D76 ) ) ) by L845 , L811 , L844;
L847: ( ( R15 . C184 ) + ( R15 . C185 ) ) <= ( ( SUM ( R15 * ( D79 (/\) D76 ) ) ) + ( R15 . ( D79 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) by L846 , L842 , XXREAL_3:36;
L848: ( ( SUM ( R15 * ( D79 (/\) D76 ) ) ) + ( R15 . ( D79 /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . D79 ) by L811;
thus L849: ( ( R15 . C184 ) + ( R15 . C185 ) ) <= ( R15 . ( C184 \/ C185 ) ) by L848 , L847 , XXREAL_0:2;
end;
L850: ( Union D76 ) in ( sigma_Field R15 ) by L834 , MEASURE4:def 2;
thus L851: ( union ( rng C173 ) ) in ( sigma_Field R15 ) by L850 , CARD_3:def 4;
set D80 = ( Ser ( R15 * D76 ) );
L852: ( union ( rng C173 ) ) misses ( R1 \ ( union ( rng C173 ) ) ) by XBOOLE_1:79;
L853: ( ( union ( rng C173 ) ) /\ ( R1 \ ( union ( rng C173 ) ) ) ) = ( {} ) by L852 , XBOOLE_0:def 7;
L854: R15 is  zeroed by MEASURE4:def 1;
L855: ( R15 . ( ( union ( rng C173 ) ) /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) = ( 0 ) by L854 , L853 , VALUED_0:def 19;
L856: (for B200 being set holds (B200 in ( NAT ) implies ( ( ( union ( rng C173 ) ) (/\) D76 ) . B200 ) = ( C173 . B200 )))
proof
let C186 being set;
assume L857: C186 in ( NAT );
reconsider D81 = C186 as (Element of ( NAT )) by L857;
L858: ( D76 . D81 ) c= ( union ( rng C173 ) ) by FUNCT_2:4 , ZFMISC_1:74;
L859: ( ( union ( rng C173 ) ) /\ ( D76 . D81 ) ) = ( C173 . C186 ) by L858 , XBOOLE_1:28;
thus L860: thesis by L859 , SETLIM_2:def 5;
end;
L861: ( SUM ( R15 * ( ( union ( rng C173 ) ) (/\) D76 ) ) ) = ( sup ( Ser ( R15 * D76 ) ) ) by L856 , FUNCT_2:12;
L862: R15 is  nonnegative by MEASURE4:def 1;
L863: ( R15 * D76 ) is  nonnegative by L862 , MEASURE1:25;
L864: (for B201 , B202 being  ext-real number holds ((B201 in ( dom D80 ) & B202 in ( dom D80 ) & B201 <= B202) implies ( D80 . B201 ) <= ( D80 . B202 ))) by L863 , MEASURE7:8;
L865: D80 is  non-decreasing by L864 , VALUED_0:def 15;
L866: ( SUM ( R15 * ( ( union ( rng C173 ) ) (/\) D76 ) ) ) = ( lim ( Ser ( R15 * D76 ) ) ) by L865 , L861 , RINFSUP2:37;
L867: ( SUM ( R15 * ( ( union ( rng C173 ) ) (/\) D76 ) ) ) = ( lim ( Partial_Sums ( R15 * D76 ) ) ) by L866 , L1;
L868: ( ( SUM ( R15 * ( ( union ( rng C173 ) ) (/\) D76 ) ) ) + ( R15 . ( ( union ( rng C173 ) ) /\ ( R1 \ ( union ( rng C173 ) ) ) ) ) ) <= ( R15 . ( union ( rng C173 ) ) ) by L811;
L869: (( union ( rng C173 ) ) = ( Union D76 ) & ( R15 . ( union ( rng C173 ) ) ) >= ( Sum ( R15 * C173 ) )) by L868 , L855 , L867 , CARD_3:def 4 , XXREAL_3:4;
thus L870: ( R15 . ( union ( rng C173 ) ) ) = ( Sum ( R15 * C173 ) ) by L869 , L833 , L867 , XXREAL_0:1;
end;
theorem
L871: (for R1 being set holds (for R15 being (C_Measure of R1) holds (for B203 being (SetSequence of ( sigma_Field R15 )) holds ( Union B203 ) in ( sigma_Field R15 ))))
proof
let R1 being set;
let R15 being (C_Measure of R1);
let C187 being (SetSequence of ( sigma_Field R15 ));
set D82 = ( Partial_Diff_Union C187 );
L872: ( rng D82 ) c= ( sigma_Field R15 ) by RELAT_1:def 19;
reconsider D83 = D82 as (Function of ( NAT ) , ( sigma_Field R15 )) by L872 , FUNCT_2:6;
reconsider D84 = D83 as (Sep_Sequence of ( sigma_Field R15 ));
L873: ( union ( rng D84 ) ) in ( sigma_Field R15 ) by L760;
L874: ( Union D82 ) in ( sigma_Field R15 ) by L873 , CARD_3:def 4;
thus L875: ( Union C187 ) in ( sigma_Field R15 ) by L874 , PROB_3:36;
end;
theorem
L876: (for B204 being non  empty set holds (for B205 being (SigmaField of B204) holds (for B206 being (sigma_Measure of B205) holds (for B207 being (SetSequence of B205) holds (B207 is  non-descending implies ( lim ( B206 * B207 ) ) = ( B206 . ( lim B207 ) ))))))
proof
let C188 being non  empty set;
let C189 being (SigmaField of C188);
let C190 being (sigma_Measure of C189);
let C191 being (SetSequence of C189);
assume L877: C191 is  non-descending;
L878: ( Partial_Union C191 ) = C191 by L877 , PROB_4:19;
L879: ( rng ( Partial_Diff_Union C191 ) ) c= C189;
reconsider D85 = ( Partial_Diff_Union C191 ) as (Sep_Sequence of C189) by L879 , FUNCT_2:6;
L880: (for B208 being set holds (B208 in ( NAT ) implies ( ( Ser ( C190 * D85 ) ) . B208 ) = ( ( C190 * ( Partial_Union C191 ) ) . B208 )))
proof
defpred S16[ Nat ] means ( ( Ser ( C190 * D85 ) ) . $1 ) = ( ( C190 * ( Partial_Union C191 ) ) . $1 );
let C192 being set;
L881: (for B209 being (Element of ( NAT )) holds (S16[ B209 ] implies S16[ ( B209 + 1 ) ]))
proof
let C193 being (Element of ( NAT ));
assume L882: S16[ C193 ];
L883: (( ( Partial_Union ( Partial_Diff_Union C191 ) ) . C193 ) = ( ( Partial_Union C191 ) . C193 ) & ( ( Partial_Diff_Union C191 ) . ( C193 + 1 ) ) = ( ( C191 . ( C193 + 1 ) ) \ ( ( Partial_Union C191 ) . C193 ) )) by PROB_3:35 , PROB_3:def 3;
L884: ( ( Ser ( C190 * D85 ) ) . ( C193 + 1 ) ) = ( ( ( Ser ( C190 * D85 ) ) . C193 ) + ( ( C190 * D85 ) . ( C193 + 1 ) ) ) by SUPINF_2:44
.= ( ( ( C190 * ( Partial_Union C191 ) ) . C193 ) + ( C190 . ( ( Partial_Diff_Union C191 ) . ( C193 + 1 ) ) ) ) by L882 , FUNCT_2:15
.= ( ( C190 . ( ( Partial_Union C191 ) . C193 ) ) + ( C190 . ( ( Partial_Diff_Union C191 ) . ( C193 + 1 ) ) ) ) by FUNCT_2:15
.= ( ( C190 . ( ( Partial_Union ( Partial_Diff_Union C191 ) ) . C193 ) ) + ( C190 . ( ( Partial_Diff_Union C191 ) . ( C193 + 1 ) ) ) ) by PROB_3:35;
L885: ( ( Ser ( C190 * D85 ) ) . ( C193 + 1 ) ) = ( C190 . ( ( ( Partial_Union ( Partial_Diff_Union C191 ) ) . C193 ) \/ ( ( Partial_Diff_Union C191 ) . ( C193 + 1 ) ) ) ) by L884 , L883 , MEASURE1:30 , XBOOLE_1:79
.= ( C190 . ( ( Partial_Union ( Partial_Diff_Union C191 ) ) . ( C193 + 1 ) ) ) by PROB_3:def 2
.= ( C190 . ( ( Partial_Union C191 ) . ( C193 + 1 ) ) ) by PROB_3:35;
thus L886: ( ( Ser ( C190 * D85 ) ) . ( C193 + 1 ) ) = ( ( C190 * ( Partial_Union C191 ) ) . ( C193 + 1 ) ) by L885 , FUNCT_2:15;
end;
assume L887: C192 in ( NAT );
reconsider D86 = C192 as (Element of ( NAT )) by L887;
L888: ( ( Ser ( C190 * D85 ) ) . ( 0 ) ) = ( ( C190 * D85 ) . ( 0 ) ) by SUPINF_2:44
.= ( C190 . ( ( Partial_Diff_Union C191 ) . ( 0 ) ) ) by FUNCT_2:15
.= ( C190 . ( C191 . ( 0 ) ) ) by PROB_3:31
.= ( C190 . ( ( Partial_Union C191 ) . ( 0 ) ) ) by PROB_3:22;
L889: S16[ ( 0 ) ] by L888 , FUNCT_2:15;
L890: (for B210 being (Element of ( NAT )) holds S16[ B210 ]) from NAT_1:sch 1(L889 , L881);
L891: ( ( Ser ( C190 * D85 ) ) . D86 ) = ( ( C190 * ( Partial_Union C191 ) ) . D86 ) by L890;
thus L892: thesis by L891;
end;
L893: ( Ser ( C190 * D85 ) ) = ( C190 * C191 ) by L880 , L878 , FUNCT_2:12;
reconsider D87 = ( Ser ( C190 * D85 ) ) as ExtREAL_sequence;
L894: ( C190 * D85 ) is  nonnegative by MEASURE1:25;
L895: (for B211 , B212 being  ext-real number holds ((B211 in ( dom D87 ) & B212 in ( dom D87 ) & B211 <= B212) implies ( D87 . B211 ) <= ( D87 . B212 ))) by L894 , MEASURE7:8;
L896: D87 is  non-decreasing by L895 , VALUED_0:def 15;
L897: (( SUM ( C190 * D85 ) ) = ( C190 . ( union ( rng D85 ) ) ) & ( lim D87 ) = ( sup D87 )) by L896 , MEASURE1:def 6 , RINFSUP2:37;
L898: ( Partial_Union ( Partial_Diff_Union C191 ) ) = C191 by L878 , PROB_3:35;
L899: ( Union C191 ) = ( Union ( Partial_Diff_Union C191 ) ) by L898 , PROB_3:30;
L900: ( lim D87 ) = ( C190 . ( Union C191 ) ) by L899 , L897 , CARD_3:def 4;
thus L901: thesis by L900 , L877 , L893 , SETLIM_1:63;
end;
theorem
L902: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R12 being (Set_Sequence of R2) holds (R12 is  non-descending implies ( R3 * R12 ) is  non-decreasing)))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R12 being (Set_Sequence of R2);
L903: ( dom ( R3 * R12 ) ) = ( NAT ) by FUNCT_2:def 1;
assume L904: R12 is  non-descending;
L905:
now
let C194 , C195 being (Element of ( NAT ));
assume L906: C194 <= C195;
L907: ( R12 . C194 ) c= ( R12 . C195 ) by L906 , L904 , PROB_1:def 5;
L908: (( ( R3 * R12 ) . C194 ) = ( R3 . ( R12 . C194 ) ) & ( ( R3 * R12 ) . C195 ) = ( R3 . ( R12 . C195 ) )) by L903 , FUNCT_1:12;
thus L909: ( ( R3 * R12 ) . C194 ) <= ( ( R3 * R12 ) . C195 ) by L908 , L907 , MEASURE1:8;
end;
L910: (for B213 , B214 being (Element of ( NAT )) holds (B214 <= B213 implies ( ( R3 * R12 ) . B214 ) <= ( ( R3 * R12 ) . B213 ))) by L905;
thus L911: ( R3 * R12 ) is  non-decreasing by L910 , RINFSUP2:7;
end;
theorem
L912: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R12 being (Set_Sequence of R2) holds (R12 is  non-ascending implies ( R3 * R12 ) is  non-increasing)))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R12 being (Set_Sequence of R2);
L913: ( dom ( R3 * R12 ) ) = ( NAT ) by FUNCT_2:def 1;
assume L914: R12 is  non-ascending;
L915:
now
let C196 , C197 being (Element of ( NAT ));
assume L916: C197 <= C196;
L917: ( R12 . C196 ) c= ( R12 . C197 ) by L916 , L914 , PROB_1:def 4;
L918: (( ( R3 * R12 ) . C196 ) = ( R3 . ( R12 . C196 ) ) & ( ( R3 * R12 ) . C197 ) = ( R3 . ( R12 . C197 ) )) by L913 , FUNCT_1:12;
thus L919: ( ( R3 * R12 ) . C196 ) <= ( ( R3 * R12 ) . C197 ) by L918 , L917 , MEASURE1:8;
end;
thus L920: ( R3 * R12 ) is  non-increasing by L915 , RINFSUP2:7;
end;
theorem
L921: (for B215 being set holds (for B216 being (SigmaField of B215) holds (for B217 being (sigma_Measure of B216) holds (for B218 being (SetSequence of B216) holds (B218 is  non-descending implies ( B217 * B218 ) is  non-decreasing)))))
proof
let C198 being set;
let C199 being (SigmaField of C198);
let C200 being (sigma_Measure of C199);
let C201 being (SetSequence of C199);
L922: ( dom ( C200 * C201 ) ) = ( NAT ) by FUNCT_2:def 1;
assume L923: C201 is  non-descending;
L924:
now
let C202 , C203 being (Element of ( NAT ));
L925: ( ( C200 * C201 ) . C203 ) = ( C200 . ( C201 . C203 ) ) by L922 , FUNCT_1:12;
assume L926: C202 <= C203;
L927: ( C201 . C202 ) c= ( C201 . C203 ) by L926 , L923 , PROB_1:def 5;
L928: (( rng C201 ) c= C199 & ( ( C200 * C201 ) . C202 ) = ( C200 . ( C201 . C202 ) )) by L922 , FUNCT_1:12;
thus L929: ( ( C200 * C201 ) . C202 ) <= ( ( C200 * C201 ) . C203 ) by L928 , L927 , L925 , MEASURE1:31;
end;
L930: (for B219 , B220 being (Element of ( NAT )) holds (B220 <= B219 implies ( ( C200 * C201 ) . B220 ) <= ( ( C200 * C201 ) . B219 ))) by L924;
thus L931: ( C200 * C201 ) is  non-decreasing by L930 , RINFSUP2:7;
end;
theorem
L932: (for B221 being set holds (for B222 being (SigmaField of B221) holds (for B223 being (sigma_Measure of B222) holds (for B224 being (SetSequence of B222) holds (B224 is  non-ascending implies ( B223 * B224 ) is  non-increasing)))))
proof
let C204 being set;
let C205 being (SigmaField of C204);
let C206 being (sigma_Measure of C205);
let C207 being (SetSequence of C205);
L933: ( dom ( C206 * C207 ) ) = ( NAT ) by FUNCT_2:def 1;
assume L934: C207 is  non-ascending;
L935:
now
let C208 , C209 being (Element of ( NAT ));
L936: ( ( C206 * C207 ) . C209 ) = ( C206 . ( C207 . C209 ) ) by L933 , FUNCT_1:12;
assume L937: C209 <= C208;
L938: ( C207 . C208 ) c= ( C207 . C209 ) by L937 , L934 , PROB_1:def 4;
L939: (( rng C207 ) c= C205 & ( ( C206 * C207 ) . C208 ) = ( C206 . ( C207 . C208 ) )) by L933 , FUNCT_1:12;
thus L940: ( ( C206 * C207 ) . C208 ) <= ( ( C206 * C207 ) . C209 ) by L939 , L938 , L936 , MEASURE1:31;
end;
thus L941: ( C206 * C207 ) is  non-increasing by L935 , RINFSUP2:7;
end;
theorem
L942: (for B225 being non  empty set holds (for B226 being (SigmaField of B225) holds (for B227 being (sigma_Measure of B226) holds (for B228 being (SetSequence of B226) holds ((B228 is  non-ascending & ( B227 . ( B228 . ( 0 ) ) ) < ( +infty )) implies ( lim ( B227 * B228 ) ) = ( B227 . ( lim B228 ) ))))))
proof
let C210 being non  empty set;
let C211 being (SigmaField of C210);
let C212 being (sigma_Measure of C211);
let C213 being (SetSequence of C211);
assume that
L943: C213 is  non-ascending
and
L944: ( C212 . ( C213 . ( 0 ) ) ) < ( +infty );
L945: ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) >= ( 0 ) by SUPINF_2:51;
L946:
now
let C214 being set;
assume L947: C214 in ( rng ( ( C213 . ( 0 ) ) (\) C213 ) );
consider C215 being set such that L948: C215 in ( NAT ) and L949: ( ( ( C213 . ( 0 ) ) (\) C213 ) . C215 ) = C214 by L947 , FUNCT_2:11;
reconsider D88 = C215 as (Element of ( NAT )) by L948;
L950: ( ( C213 . ( 0 ) ) \ ( C213 . D88 ) ) in C211;
thus L951: C214 in C211 by L950 , L949 , SETLIM_2:def 7;
end;
L952: ( rng ( ( C213 . ( 0 ) ) (\) C213 ) ) c= C211 by L946 , TARSKI:def 3;
reconsider D89 = ( ( C213 . ( 0 ) ) (\) C213 ) as (SetSequence of C211) by L952 , RELAT_1:def 19;
deffunc H8((Element of ( NAT ))) = ( ( C212 * C213 ) . ( 0 ) );
consider C216 being (Function of ( NAT ) , ( ExtREAL )) such that L953: (for B229 being (Element of ( NAT )) holds ( C216 . B229 ) = H8(B229)) from FUNCT_2:sch 4;
L954:
now
let C217 being Nat;
reconsider D90 = C217 as (Element of ( NAT )) by ORDINAL1:def 12;
L955: (( C213 . D90 ) in C211 & ( D89 . D90 ) in C211);
L956: C217 is (Element of ( NAT )) by ORDINAL1:def 12;
L957: (( ( C213 . C217 ) \/ ( ( C213 . ( 0 ) ) \ ( C213 . C217 ) ) ) = ( ( C213 . ( 0 ) ) \/ ( C213 . C217 ) ) & ( C213 . C217 ) c= ( C213 . ( 0 ) )) by L956 , L943 , PROB_1:def 4 , XBOOLE_1:39;
L958: ( ( C213 . C217 ) \/ ( ( C213 . ( 0 ) ) \ ( C213 . C217 ) ) ) = ( C213 . ( 0 ) ) by L957 , XBOOLE_1:12;
L959: ( ( C213 . C217 ) \/ ( D89 . C217 ) ) = ( C213 . ( 0 ) ) by L958 , L956 , SETLIM_2:def 7;
L960: ( C213 . C217 ) misses ( ( C213 . ( 0 ) ) \ ( C213 . C217 ) ) by XBOOLE_1:79;
L961: ( C213 . C217 ) misses ( D89 . C217 ) by L960 , L956 , SETLIM_2:def 7;
L962: ( C212 . ( C213 . ( 0 ) ) ) = ( ( C212 . ( C213 . C217 ) ) + ( C212 . ( D89 . C217 ) ) ) by L961 , L959 , L955 , MEASURE1:30;
L963: ( ( C212 * C213 ) . ( 0 ) ) = ( ( C212 . ( C213 . C217 ) ) + ( C212 . ( D89 . C217 ) ) ) by L962 , FUNCT_2:15;
L964: ( C216 . C217 ) = ( ( C212 . ( C213 . C217 ) ) + ( C212 . ( D89 . C217 ) ) ) by L963 , L953 , L956;
L965: ( C216 . C217 ) = ( ( ( C212 * C213 ) . C217 ) + ( C212 . ( D89 . C217 ) ) ) by L964 , L956 , FUNCT_2:15;
thus L966: ( C216 . C217 ) = ( ( ( C212 * C213 ) . C217 ) + ( ( C212 * D89 ) . C217 ) ) by L965 , L956 , FUNCT_2:15;
end;
L967: ( C212 * C213 ) is  non-increasing by L943 , L932;
L968: ( C212 * C213 ) is  convergent by L967 , RINFSUP2:36;
L969: ( rng D89 ) c= C211;
L970: D89 is (Function of ( NAT ) , C211) by L969 , FUNCT_2:6;
L971: ( C212 * D89 ) is  nonnegative by L970 , MEASURE2:1;
L972: (for B230 being Nat holds ( C216 . B230 ) = ( ( C212 * C213 ) . ( 0 ) ))
proof
let C218 being Nat;
L973: C218 is (Element of ( NAT )) by ORDINAL1:def 12;
thus L974: ( C216 . C218 ) = ( ( C212 * C213 ) . ( 0 ) ) by L973 , L953;
end;
L975: ( rng C213 ) c= C211;
L976: C213 is (Function of ( NAT ) , C211) by L975 , FUNCT_2:6;
L977: ( C212 * C213 ) is  nonnegative by L976 , MEASURE2:1;
L978: ( -infty ) < ( ( C212 * C213 ) . ( 0 ) ) by L977 , SUPINF_2:51;
L979: ( ( inferior_setsequence C213 ) . ( ( 0 ) + 1 ) ) c= ( C213 . ( 0 ) ) by L943 , SETLIM_1:50;
L980: ( Intersection C213 ) c= ( C213 . ( 0 ) ) by L979 , L943 , SETLIM_1:52;
L981: ( lim C213 ) c= ( C213 . ( 0 ) ) by L980 , L943 , SETLIM_1:61;
L982: ( ( C213 . ( 0 ) ) \/ ( lim C213 ) ) = ( C213 . ( 0 ) ) by L981 , XBOOLE_1:12;
L983: ( Intersection C213 ) in C211 by L975 , PROB_1:def 6;
L984: ( lim C213 ) in C211 by L983 , L943 , SETLIM_1:61;
L985: ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) is (Element of C211) by L984 , PROB_1:6;
L986: ( C212 . ( ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) \/ ( lim C213 ) ) ) = ( ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) + ( C212 . ( lim C213 ) ) ) by L985 , L984 , MEASURE1:30 , XBOOLE_1:79;
L987: ( C212 . ( ( C213 . ( 0 ) ) \/ ( lim C213 ) ) ) = ( ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) + ( C212 . ( lim C213 ) ) ) by L986 , XBOOLE_1:39;
L988: ( ( C212 * C213 ) . ( 0 ) ) < ( +infty ) by L944 , FUNCT_2:15;
L989: ( ( C212 * C213 ) . ( 0 ) ) in ( REAL ) by L988 , L978 , XXREAL_0:14;
L990: (for B231 , B232 being (Element of ( NAT )) holds (B231 <= B232 implies ( D89 . B231 ) c= ( D89 . B232 )))
proof
let C219 , C220 being (Element of ( NAT ));
assume L991: C219 <= C220;
L992: ( C213 . C220 ) c= ( C213 . C219 ) by L991 , L943 , PROB_1:def 4;
L993: ( ( C213 . ( 0 ) ) \ ( C213 . C219 ) ) c= ( ( C213 . ( 0 ) ) \ ( C213 . C220 ) ) by L992 , XBOOLE_1:34;
L994: ( D89 . C219 ) c= ( ( C213 . ( 0 ) ) \ ( C213 . C220 ) ) by L993 , SETLIM_2:def 7;
thus L995: ( D89 . C219 ) c= ( D89 . C220 ) by L994 , SETLIM_2:def 7;
end;
L996: D89 is  non-descending by L990 , PROB_1:def 5;
L997: ( C212 * D89 ) is  non-decreasing by L996 , L921;
L998: ( C212 * D89 ) is  convergent by L997 , RINFSUP2:37;
L999: ( lim C216 ) = ( ( lim ( C212 * D89 ) ) + ( lim ( C212 * C213 ) ) ) by L998 , L968 , L971 , L977 , L954 , MESFUNC9:11;
L1000: ( ( C212 * C213 ) . ( 0 ) ) = ( ( lim ( C212 * D89 ) ) + ( lim ( C212 * C213 ) ) ) by L999 , L989 , L972 , MESFUNC5:52;
L1001: ( lim ( C212 * D89 ) ) = ( C212 . ( lim D89 ) ) by L996 , L876
.= ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) by L943 , SETLIM_1:64 , SETLIM_2:86;
L1002: ( ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) + ( C212 . ( lim C213 ) ) ) = ( ( lim ( C212 * C213 ) ) + ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) ) by L1001 , L987 , L982 , L1000 , FUNCT_2:15;
L1003: ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) <= ( C212 . ( C213 . ( 0 ) ) ) by L985 , MEASURE1:31 , XBOOLE_1:36;
L1004: ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) < ( +infty ) by L1003 , L944 , XXREAL_0:2;
L1005: ( C212 . ( lim C213 ) ) = ( ( ( lim ( C212 * C213 ) ) + ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) ) - ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) ) by L1004 , L945 , L1002 , XXREAL_3:28;
L1006: ( C212 . ( ( C213 . ( 0 ) ) \ ( lim C213 ) ) ) is Real by L944 , L1003 , L945 , XXREAL_0:14;
thus L1007: ( C212 . ( lim C213 ) ) = ( lim ( C212 * C213 ) ) by L1006 , L1005 , XXREAL_3:22;
end;
definition
let C221 being set;
let C222 being (Field_Subset of C221);
let C223 being (SigmaField of C221);
let C224 being (Measure of C222);
let C225 being (sigma_Measure of C223);
pred C225 is_extension_of C224
means
:L1008: (for B233 being set holds (B233 in C222 implies ( C225 . B233 ) = ( C224 . B233 )))
;end;
theorem
L1010: (for B234 being non  empty set holds (for B235 being (Field_Subset of B234) holds (for B236 being (Measure of B235) holds ((ex B237 being (sigma_Measure of ( sigma B235 )) st B237 is_extension_of B236) implies B236 is  completely-additive))))
proof
let C226 being non  empty set;
let C227 being (Field_Subset of C226);
let C228 being (Measure of C227);
given C229 being (sigma_Measure of ( sigma C227 )) such that
L1011: C229 is_extension_of C228;

L1012: C227 c= ( sigma C227 ) by PROB_1:def 9;
L1013: (for B238 being (Sep_Sequence of C227) holds (( union ( rng B238 ) ) in C227 implies ( SUM ( C228 * B238 ) ) = ( C228 . ( union ( rng B238 ) ) )))
proof
let C230 being (Sep_Sequence of C227);
reconsider D91 = C230 as (Function of ( NAT ) , ( sigma C227 )) by L1012 , FUNCT_2:7;
reconsider D92 = D91 as (Sep_Sequence of ( sigma C227 ));
L1014:
now
let C231 being set;
assume L1015: C231 in ( NAT );
reconsider D93 = C231 as (Element of ( NAT )) by L1015;
L1016: ( ( C229 * D92 ) . C231 ) = ( C229 . ( D92 . D93 ) ) by FUNCT_2:15;
L1017: ( ( C229 * D92 ) . C231 ) = ( C228 . ( C230 . D93 ) ) by L1016 , L1011 , L1008;
thus L1018: ( ( C229 * D92 ) . C231 ) = ( ( C228 * C230 ) . C231 ) by L1017 , FUNCT_2:15;
end;
assume L1019: ( union ( rng C230 ) ) in C227;
L1020: ( C228 . ( union ( rng C230 ) ) ) = ( C229 . ( union ( rng C230 ) ) ) by L1019 , L1011 , L1008;
L1021: ( C228 . ( union ( rng C230 ) ) ) = ( SUM ( C229 * D92 ) ) by L1020 , MEASURE1:def 6;
thus L1022: thesis by L1021 , L1014 , FUNCT_2:12;
end;
thus L1023: C228 is  completely-additive by L1013 , L548;
end;
theorem
L1024: (for B239 being non  empty set holds (for B240 being (Field_Subset of B239) holds (for B241 being (Measure of B240) holds (B241 is  completely-additive implies (ex B242 being (sigma_Measure of ( sigma B240 )) st (B242 is_extension_of B241 & B242 = ( ( sigma_Meas ( C_Meas B241 ) ) | ( sigma B240 ) )))))))
proof
let C232 being non  empty set;
let C233 being (Field_Subset of C232);
let C234 being (Measure of C233);
assume L1025: C234 is  completely-additive;
set D94 = ( ( sigma_Meas ( C_Meas C234 ) ) | ( sigma C233 ) );
L1026: C233 c= ( sigma_Field ( C_Meas C234 ) ) by L648;
L1027: ( sigma C233 ) c= ( sigma_Field ( C_Meas C234 ) ) by L1026 , PROB_1:def 9;
reconsider D95 = D94 as (Function of ( sigma C233 ) , ( ExtREAL )) by L1027 , FUNCT_2:32;
L1028: (for B243 being (Sep_Sequence of ( sigma C233 )) holds ( SUM ( D95 * B243 ) ) = ( D95 . ( union ( rng B243 ) ) ))
proof
let C235 being (Sep_Sequence of ( sigma C233 ));
reconsider D96 = C235 as (Sep_Sequence of ( sigma_Field ( C_Meas C234 ) )) by L1027 , FUNCT_2:7;
L1029: ( rng C235 ) c= ( sigma C233 ) by RELAT_1:def 19;
L1030: ( D95 * C235 ) = ( ( sigma_Meas ( C_Meas C234 ) ) * ( ( sigma C233 ) |` C235 ) ) by MONOID_1:1
.= ( ( sigma_Meas ( C_Meas C234 ) ) * D96 ) by L1029 , RELAT_1:94;
L1031: ( SUM ( D95 * C235 ) ) = ( ( sigma_Meas ( C_Meas C234 ) ) . ( union ( rng D96 ) ) ) by L1030 , MEASURE1:def 6;
L1032: ( union ( rng C235 ) ) is (Element of ( sigma C233 )) by MEASURE1:24;
thus L1033: ( SUM ( D95 * C235 ) ) = ( D95 . ( union ( rng C235 ) ) ) by L1032 , L1031 , FUNCT_1:49;
end;
L1034: ( D95 . ( {} ) ) = ( ( sigma_Meas ( C_Meas C234 ) ) . ( {} ) ) by FUNCT_1:49 , PROB_1:4
.= ( 0 ) by VALUED_0:def 19;
reconsider D97 = D95 as (sigma_Measure of ( sigma C233 )) by L1034 , L1028 , MEASURE1:def 6 , MESFUNC5:15 , VALUED_0:def 19;
take D97;
L1035: C233 c= ( sigma C233 ) by PROB_1:def 9;
L1036: (for B244 being set holds (B244 in C233 implies ( D97 . B244 ) = ( C234 . B244 )))
proof
let C236 being set;
assume L1037: C236 in C233;
reconsider D98 = C236 as (Subset of C232) by L1037;
L1038: ( D97 . C236 ) = ( ( sigma_Meas ( C_Meas C234 ) ) . C236 ) by L1035 , L1037 , FUNCT_1:49
.= ( ( C_Meas C234 ) . D98 ) by L1026 , L1037 , MEASURE4:def 3;
thus L1039: ( D97 . C236 ) = ( C234 . C236 ) by L1038 , L1025 , L1037 , L619;
end;
thus L1040: (D97 is_extension_of C234 & D97 = ( ( sigma_Meas ( C_Meas C234 ) ) | ( sigma C233 ) )) by L1036 , L1008;
end;
theorem
L1041: (for R1 being set holds (for R2 being (Field_Subset of R1) holds (for R3 being (Measure of R2) holds (for R11 being Nat holds (for R12 being (Set_Sequence of R2) holds ((for R10 being Nat holds ( R3 . ( R12 . R10 ) ) < ( +infty )) implies ( R3 . ( ( Partial_Union R12 ) . R11 ) ) < ( +infty )))))))
proof
let R1 being set;
let R2 being (Field_Subset of R1);
let R3 being (Measure of R2);
let R11 being Nat;
let R12 being (Set_Sequence of R2);
defpred S17[ Nat ] means ( R3 . ( ( Partial_Union R12 ) . $1 ) ) < ( +infty );
assume L1042: (for R10 being Nat holds ( R3 . ( R12 . R10 ) ) < ( +infty ));
L1043:
now
let C237 being Nat;
L1044: ( 0 ) <= ( R3 . ( ( Partial_Union R12 ) . C237 ) ) by SUPINF_2:51;
L1045: (( R3 . ( R12 . ( C237 + 1 ) ) ) < ( +infty ) & ( 0 ) <= ( R3 . ( R12 . ( C237 + 1 ) ) )) by L1042 , SUPINF_2:51;
L1046: ( R3 . ( R12 . ( C237 + 1 ) ) ) in ( REAL ) by L1045 , XXREAL_0:10;
assume L1047: S17[ C237 ];
L1048: ( R3 . ( ( Partial_Union R12 ) . C237 ) ) in ( REAL ) by L1047 , L1044 , XXREAL_0:10;
L1049: ( ( R3 . ( ( Partial_Union R12 ) . C237 ) ) + ( R3 . ( R12 . ( C237 + 1 ) ) ) ) in ( REAL ) by L1048 , L1046 , XREAL_0:def 1;
L1050: ( Partial_Union R12 ) is (Set_Sequence of R2) by L550;
L1051: ( ( Partial_Union R12 ) . C237 ) in R2 by L1050 , L89;
L1052: ( ( Partial_Union R12 ) . ( C237 + 1 ) ) = ( ( ( Partial_Union R12 ) . C237 ) \/ ( R12 . ( C237 + 1 ) ) ) by PROB_3:def 2;
L1053: ( R3 . ( ( Partial_Union R12 ) . ( C237 + 1 ) ) ) <= ( ( R3 . ( ( Partial_Union R12 ) . C237 ) ) + ( R3 . ( R12 . ( C237 + 1 ) ) ) ) by L1052 , L1051 , MEASURE1:10;
thus L1054: S17[ ( C237 + 1 ) ] by L1053 , L1049 , XXREAL_0:9 , XXREAL_0:13;
end;
L1055: ( ( Partial_Union R12 ) . ( 0 ) ) = ( R12 . ( 0 ) ) by PROB_3:def 2;
L1056: S17[ ( 0 ) ] by L1055 , L1042;
L1057: (for B245 being Nat holds S17[ B245 ]) from NAT_1:sch 2(L1056 , L1043);
thus L1058: thesis by L1057;
end;
theorem
L1059: (for B246 being non  empty set holds (for B247 being (Field_Subset of B246) holds (for B248 being (Measure of B247) holds ((B248 is  completely-additive & (ex B249 being (Set_Sequence of B247) st ((for B250 being Nat holds ( B248 . ( B249 . B250 ) ) < ( +infty )) & B246 = ( union ( rng B249 ) )))) implies (for B251 being (sigma_Measure of ( sigma B247 )) holds (B251 is_extension_of B248 implies B251 = ( ( sigma_Meas ( C_Meas B248 ) ) | ( sigma B247 ) )))))))
proof
let C238 being non  empty set;
let C239 being (Field_Subset of C238);
let C240 being (Measure of C239);
L1060: C239 c= ( sigma C239 ) by PROB_1:def 9;
assume L1061: C240 is  completely-additive;
consider C241 being (sigma_Measure of ( sigma C239 )) such that L1062: C241 is_extension_of C240 and L1063: C241 = ( ( sigma_Meas ( C_Meas C240 ) ) | ( sigma C239 ) ) by L1061 , L1024;
assume L1064: (ex B252 being (Set_Sequence of C239) st ((for B253 being Nat holds ( C240 . ( B252 . B253 ) ) < ( +infty )) & C238 = ( union ( rng B252 ) )));
consider C242 being (Set_Sequence of C239) such that L1065: (for B254 being Nat holds ( C240 . ( C242 . B254 ) ) < ( +infty )) and L1066: C238 = ( union ( rng C242 ) ) by L1064;
let C243 being (sigma_Measure of ( sigma C239 ));
reconsider D99 = ( Partial_Union C242 ) as (Set_Sequence of C239) by L550;
assume L1067: C243 is_extension_of C240;
L1068: C239 c= ( sigma_Field ( C_Meas C240 ) ) by L648;
L1069: ( sigma C239 ) c= ( sigma_Field ( C_Meas C240 ) ) by L1068 , PROB_1:def 9;
L1070: (for B255 being (Subset of C238) holds (B255 in ( sigma C239 ) implies ( C243 . B255 ) <= ( C241 . B255 )))
proof
let C244 being (Subset of C238);
assume L1071: C244 in ( sigma C239 );
L1072: (for B256 being (Covering of C244 , C239) holds ( C243 . C244 ) <= ( SUM ( vol (C240 , B256) ) ))
proof
let C245 being (Covering of C244 , C239);
L1073:
now
let C246 being (Element of ( NAT ));
L1074: ( C245 . C246 ) in C239;
thus L1075: ( C245 . C246 ) in ( sigma C239 ) by L1074 , L1060;
end;
L1076:
now
let C247 being set;
assume L1077: C247 in ( rng C245 );
consider C248 being set such that L1078: C248 in ( NAT ) and L1079: ( C245 . C248 ) = C247 by L1077 , FUNCT_2:11;
thus L1080: C247 in ( sigma C239 ) by L1073 , L1078 , L1079;
end;
L1081: ( rng C245 ) c= ( sigma C239 ) by L1076 , TARSKI:def 3;
reconsider D100 = C245 as (SetSequence of ( sigma C239 )) by L1081 , RELAT_1:def 19;
L1082: ( rng D100 ) c= ( sigma C239 );
reconsider D101 = D100 as (Function of ( NAT ) , ( sigma C239 )) by L1082 , FUNCT_2:6;
L1083: C244 c= ( union ( rng D100 ) ) by L95;
L1084: (( Union D100 ) in ( sigma C239 ) & C244 c= ( Union D100 )) by L1083 , CARD_3:def 4 , PROB_1:17;
L1085: ( C243 . C244 ) <= ( C243 . ( Union D100 ) ) by L1084 , L1071 , MEASURE1:31;
L1086: (for B257 being set holds (B257 in ( NAT ) implies ( ( C243 * D101 ) . B257 ) = ( ( vol (C240 , C245) ) . B257 )))
proof
let C249 being set;
assume L1087: C249 in ( NAT );
reconsider D102 = C249 as (Element of ( NAT )) by L1087;
L1088: D102 in ( dom D101 ) by L1087 , FUNCT_2:def 1;
L1089: ( ( C243 * D101 ) . C249 ) = ( C243 . ( D101 . D102 ) ) by L1088 , FUNCT_1:13
.= ( C240 . ( C245 . D102 ) ) by L1067 , L1008;
thus L1090: ( ( C243 * D101 ) . C249 ) = ( ( vol (C240 , C245) ) . C249 ) by L1089 , L118;
end;
L1091: ( SUM ( C243 * D101 ) ) = ( SUM ( vol (C240 , C245) ) ) by L1086 , FUNCT_2:12;
L1092: ( rng D101 ) is (N_Sub_set_fam of C238) by MEASURE1:23;
L1093: ( rng D101 ) is (N_Measure_fam of ( sigma C239 )) by L1092 , L1082 , MEASURE2:def 1;
L1094: ( C243 . ( union ( rng D101 ) ) ) <= ( SUM ( C243 * D101 ) ) by L1093 , MEASURE2:11;
L1095: ( C243 . ( Union D100 ) ) <= ( SUM ( vol (C240 , C245) ) ) by L1094 , L1091 , CARD_3:def 4;
thus L1096: ( C243 . C244 ) <= ( SUM ( vol (C240 , C245) ) ) by L1095 , L1085 , XXREAL_0:2;
end;
L1097: (for B258 being  ext-real number holds (B258 in ( Svc (C240 , C244) ) implies ( C243 . C244 ) <= B258))
proof
let C250 being  ext-real number;
assume L1098: C250 in ( Svc (C240 , C244) );
L1099: (ex B259 being (Covering of C244 , C239) st C250 = ( SUM ( vol (C240 , B259) ) )) by L1098 , L153;
thus L1100: ( C243 . C244 ) <= C250 by L1099 , L1072;
end;
L1101: ( C243 . C244 ) is (LowerBound of ( Svc (C240 , C244) )) by L1097 , XXREAL_2:def 2;
L1102: ( C243 . C244 ) <= ( inf ( Svc (C240 , C244) ) ) by L1101 , XXREAL_2:def 4;
L1103: ( C243 . C244 ) <= ( ( C_Meas C240 ) . C244 ) by L1102 , L176;
L1104: ( C243 . C244 ) <= ( ( sigma_Meas ( C_Meas C240 ) ) . C244 ) by L1103 , L1069 , L1071 , MEASURE4:def 3;
thus L1105: ( C243 . C244 ) <= ( C241 . C244 ) by L1104 , L1063 , L1071 , FUNCT_1:49;
end;
L1106: (for B260 being set holds (((ex B261 being (Element of ( NAT )) st B260 c= ( D99 . B261 )) & B260 in ( sigma C239 )) implies ( C243 . B260 ) = ( C241 . B260 )))
proof
let C251 being set;
assume L1107: (ex B262 being (Element of ( NAT )) st C251 c= ( D99 . B262 ));
consider C252 being (Element of ( NAT )) such that L1108: C251 c= ( D99 . C252 ) by L1107;
L1109: ( C243 . ( D99 . C252 ) ) = ( C240 . ( D99 . C252 ) ) by L1067 , L1008;
assume L1110: C251 in ( sigma C239 );
reconsider D103 = C251 as (Subset of C238) by L1110;
L1111: (C239 c= ( sigma C239 ) & ( D99 . C252 ) in C239) by PROB_1:def 9;
L1112: ( ( D99 . C252 ) \ C251 ) is (Element of ( sigma C239 )) by L1111 , L1110 , PROB_1:6;
L1113: ( C243 . ( ( D99 . C252 ) \ C251 ) ) <= ( C243 . ( D99 . C252 ) ) by L1112 , L1111 , MEASURE1:31 , XBOOLE_1:36;
L1114: ( C243 . ( ( D99 . C252 ) \ C251 ) ) < ( +infty ) by L1113 , L1065 , L1109 , L1041 , XXREAL_0:2;
L1115: ( ( C243 . C251 ) + ( C243 . ( ( D99 . C252 ) \ C251 ) ) ) = ( C243 . ( C251 \/ ( ( D99 . C252 ) \ C251 ) ) ) by L1110 , L1112 , MEASURE1:30 , XBOOLE_1:79;
L1116: ( ( C243 . C251 ) + ( C243 . ( ( D99 . C252 ) \ C251 ) ) ) = ( C243 . ( ( D99 . C252 ) \/ C251 ) ) by L1115 , XBOOLE_1:39;
L1117: ( ( C243 . C251 ) + ( C243 . ( ( D99 . C252 ) \ C251 ) ) ) = ( C243 . ( D99 . C252 ) ) by L1116 , L1108 , XBOOLE_1:12;
L1118: ( 0 ) <= ( C243 . ( ( D99 . C252 ) \ C251 ) ) by SUPINF_2:51;
L1119: ( C243 . C251 ) = ( ( C243 . ( D99 . C252 ) ) - ( C243 . ( ( D99 . C252 ) \ C251 ) ) ) by L1118 , L1117 , L1114 , XXREAL_3:28;
L1120: ( C241 . ( D99 . C252 ) ) = ( C240 . ( D99 . C252 ) ) by L1062 , L1008;
L1121: ( ( C241 . C251 ) + ( C241 . ( ( D99 . C252 ) \ C251 ) ) ) = ( C241 . ( C251 \/ ( ( D99 . C252 ) \ C251 ) ) ) by L1110 , L1112 , MEASURE1:30 , XBOOLE_1:79;
L1122: ( ( C241 . C251 ) + ( C241 . ( ( D99 . C252 ) \ C251 ) ) ) = ( C241 . ( ( D99 . C252 ) \/ C251 ) ) by L1121 , XBOOLE_1:39;
L1123: ( ( C241 . C251 ) + ( C241 . ( ( D99 . C252 ) \ C251 ) ) ) = ( C241 . ( D99 . C252 ) ) by L1122 , L1108 , XBOOLE_1:12;
L1124: ( C241 . ( ( D99 . C252 ) \ C251 ) ) <= ( C241 . ( D99 . C252 ) ) by L1111 , L1112 , MEASURE1:31 , XBOOLE_1:36;
L1125: ( C241 . ( ( D99 . C252 ) \ C251 ) ) < ( +infty ) by L1124 , L1065 , L1120 , L1041 , XXREAL_0:2;
L1126: ( 0 ) <= ( C241 . ( ( D99 . C252 ) \ C251 ) ) by SUPINF_2:51;
L1127: ( C241 . C251 ) = ( ( C241 . ( D99 . C252 ) ) - ( C241 . ( ( D99 . C252 ) \ C251 ) ) ) by L1126 , L1123 , L1125 , XXREAL_3:28;
L1128: ( C243 . ( ( D99 . C252 ) \ C251 ) ) <= ( C241 . ( ( D99 . C252 ) \ C251 ) ) by L1070 , L1110 , L1111 , PROB_1:6;
L1129: ( ( C241 . ( D99 . C252 ) ) - ( C241 . ( ( D99 . C252 ) \ C251 ) ) ) <= ( ( C243 . ( D99 . C252 ) ) - ( C243 . ( ( D99 . C252 ) \ C251 ) ) ) by L1128 , L1120 , L1109 , XXREAL_3:37;
L1130: ( C243 . D103 ) <= ( C241 . D103 ) by L1070 , L1110;
thus L1131: ( C243 . C251 ) = ( C241 . C251 ) by L1130 , L1119 , L1127 , L1129 , XXREAL_0:1;
end;
L1132: (for B263 being set holds (B263 in ( sigma C239 ) implies ( C243 . B263 ) = ( C241 . B263 )))
proof
let C253 being set;
deffunc H9(set) = ( C253 /\ ( D99 . $1 ) );
assume L1133: C253 in ( sigma C239 );
reconsider D104 = C253 as (Subset of C238) by L1133;
L1134: (for B264 being set holds (B264 in ( NAT ) implies H9(B264) in ( bool C238 )))
proof
let C254 being set;
assume L1135: C254 in ( NAT );
L1136: ( D99 . C254 ) in C239 by L1135 , L89;
L1137: ( ( D99 . C254 ) /\ C253 ) c= ( C238 /\ C238 ) by L1136 , L1133 , XBOOLE_1:27;
thus L1138: H9(C254) in ( bool C238 ) by L1137;
end;
consider C255 being (Function of ( NAT ) , ( bool C238 )) such that L1139: (for B265 being set holds (B265 in ( NAT ) implies ( C255 . B265 ) = H9(B265))) from FUNCT_2:sch 2(L1134);
reconsider D105 = C255 as (SetSequence of C238);
L1140: (for B266 , B267 being (Element of ( NAT )) holds (B266 <= B267 implies ( D105 . B266 ) c= ( D105 . B267 )))
proof
let C256 , C257 being (Element of ( NAT ));
L1141: D99 is  non-descending by PROB_3:11;
assume L1142: C256 <= C257;
L1143: ( D99 . C256 ) c= ( D99 . C257 ) by L1142 , L1141 , PROB_1:def 5;
L1144: ( C253 /\ ( D99 . C256 ) ) c= ( C253 /\ ( D99 . C257 ) ) by L1143 , XBOOLE_1:26;
L1145: ( D105 . C256 ) c= ( C253 /\ ( D99 . C257 ) ) by L1144 , L1139;
thus L1146: ( D105 . C256 ) c= ( D105 . C257 ) by L1145 , L1139;
end;
L1147: D105 is  non-descending by L1140 , PROB_1:def 5;
L1148:
now
let C258 being set;
assume L1149: C258 in ( rng D105 );
consider C259 being set such that L1150: C259 in ( NAT ) and L1151: ( D105 . C259 ) = C258 by L1149 , FUNCT_2:11;
reconsider D106 = C259 as (Element of ( NAT )) by L1150;
L1152: ( D99 . D106 ) in C239;
L1153: ( ( D99 . D106 ) /\ C253 ) in ( sigma C239 ) by L1152 , L1060 , L1133 , MEASURE1:34;
thus L1154: C258 in ( sigma C239 ) by L1153 , L1139 , L1151;
end;
L1155: ( rng D105 ) c= ( sigma C239 ) by L1148 , TARSKI:def 3;
reconsider D107 = D105 as (SetSequence of ( sigma C239 )) by L1155 , RELAT_1:def 19;
L1156: (for B268 being set holds (B268 in ( NAT ) implies ( ( C241 * ( Partial_Union D107 ) ) . B268 ) = ( ( C243 * ( Partial_Union D107 ) ) . B268 )))
proof
let C260 being set;
assume L1157: C260 in ( NAT );
reconsider D108 = C260 as (Element of ( NAT )) by L1157;
L1158:
now
let C261 being set;
assume L1159: C261 in ( ( Partial_Union D107 ) . D108 );
consider C262 being Nat such that L1160: C262 <= D108 and L1161: C261 in ( D107 . C262 ) by L1159 , PROB_3:13;
reconsider D109 = C262 as (Element of ( NAT )) by ORDINAL1:def 12;
take D110 = D109;
L1162: C261 in ( C253 /\ ( D99 . D110 ) ) by L1139 , L1161;
thus L1163: (D110 <= D108 & C261 in ( D99 . D110 )) by L1162 , L1160 , XBOOLE_0:def 4;
end;
L1164: ( ( Partial_Union D107 ) . D108 ) c= ( D99 . D108 )
proof
let C263 being set;
assume L1165: C263 in ( ( Partial_Union D107 ) . D108 );
consider C264 being (Element of ( NAT )) such that L1166: C264 <= D108 and L1167: C263 in ( D99 . C264 ) by L1165 , L1158;
L1168: D99 is  non-descending by PROB_3:11;
L1169: ( D99 . C264 ) c= ( D99 . D108 ) by L1168 , L1166 , PROB_1:def 5;
thus L1170: C263 in ( D99 . D108 ) by L1169 , L1167;
end;
L1171: ( ( C241 * ( Partial_Union D107 ) ) . C260 ) = ( C241 . ( ( Partial_Union D107 ) . D108 ) ) by FUNCT_2:15;
L1172: ( rng ( Partial_Union D107 ) ) c= ( sigma C239 ) by RELAT_1:def 19;
L1173: ( dom ( Partial_Union D107 ) ) = ( NAT ) by PARTFUN1:def 2;
L1174: ( ( Partial_Union D107 ) . D108 ) in ( rng ( Partial_Union D107 ) ) by L1173 , FUNCT_1:3;
L1175: ( ( C241 * ( Partial_Union D107 ) ) . C260 ) = ( C243 . ( ( Partial_Union D107 ) . D108 ) ) by L1174 , L1171 , L1106 , L1164 , L1172;
thus L1176: ( ( C241 * ( Partial_Union D107 ) ) . C260 ) = ( ( C243 * ( Partial_Union D107 ) ) . C260 ) by L1175 , FUNCT_2:15;
end;
L1177: ( C241 * ( Partial_Union D107 ) ) = ( C243 * ( Partial_Union D107 ) ) by L1156 , FUNCT_2:12;
L1178: (for B269 being (Element of ( NAT )) holds ( D107 . B269 ) = ( D104 /\ ( D99 . B269 ) )) by L1139;
L1179: D107 = ( D104 (/\) D99 ) by L1178 , SETLIM_2:def 5;
L1180: ( Union D107 ) = ( D104 /\ ( Union D99 ) ) by L1179 , SETLIM_2:38;
L1181: ( Union D107 ) = ( D104 /\ ( Union C242 ) ) by L1180 , PROB_3:15;
L1182: ( Union D107 ) = ( D104 /\ C238 ) by L1181 , L1066 , CARD_3:def 4;
L1183: D104 = ( Union D107 ) by L1182 , XBOOLE_1:28;
L1184: D104 = ( lim D107 ) by L1183 , L1147 , SETLIM_1:63;
L1185: ( C241 . C253 ) = ( lim ( C241 * D107 ) ) by L1184 , L1147 , L876;
L1186: ( C241 . C253 ) = ( lim ( C243 * ( Partial_Union D107 ) ) ) by L1185 , L1147 , L1177 , PROB_4:19;
L1187: ( C241 . C253 ) = ( lim ( C243 * D107 ) ) by L1186 , L1147 , PROB_4:19;
L1188: ( C241 . C253 ) = ( C243 . ( lim D107 ) ) by L1187 , L1147 , L876;
thus L1189: ( C241 . C253 ) = ( C243 . C253 ) by L1188 , L1147 , L1183 , SETLIM_1:63;
end;
thus L1190: thesis by L1132 , L1063 , FUNCT_2:12;
end;
