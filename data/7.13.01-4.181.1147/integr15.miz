:: Riemann Integral of Functions $\mathbbbR$ into $\mathbbbR^n$
::  by Keiichi Miyajima and Yasunari Shidama
::
:: Received May 5, 2009
:: Copyright (c) 2009-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, INTEGRA1, SUBSET_1, FUNCT_1, FINSEQ_1, NAT_1, RELAT_1,
      MEASURE7, XBOOLE_0, XXREAL_2, XXREAL_0, SEQ_4, CARD_1, REAL_1, ARYTM_3,
      XREAL_0, ORDINAL1, ARYTM_1, CARD_3, FINSEQ_2, INTEGRA2, SEQ_1, SEQ_2,
      ORDINAL2, COMPLEX1, XXREAL_1, FUNCT_3, REAL_NS1, STRUCT_0, PARTFUN1,
      VALUED_1, TARSKI, PRE_TOPC, INTEGRA5, REALSET1, INTEGR15, VALUED_2,
      MEASURE5;
 notations TARSKI, XBOOLE_0, SUBSET_1, ORDINAL1, NUMBERS, XREAL_0, COMPLEX1,
      XXREAL_2, NAT_1, FUNCT_1, FUNCT_2, STRUCT_0, REAL_1, RCOMP_1, VALUED_1,
      RELSET_1, PARTFUN1, SEQ_1, COMSEQ_2, SEQ_2, SEQ_4, FINSEQ_1, FINSEQ_2,
      FINSEQOP, VALUED_2, RVSUM_1, PRE_TOPC, XXREAL_0, EUCLID, PDIFF_1,
      MEASURE5, INTEGRA1, INTEGRA2, INTEGRA3, INTEGRA5, NORMSP_1, REAL_NS1;
 constructors REAL_1, FINSEQOP, MONOID_0, SEQ_4, PSCOMP_1, NAT_D, VFUNCT_1,
      PDIFF_1, BINOP_2, SEQ_1, INTEGRA2, INTEGRA5, RELSET_1, SEQ_2, INTEGRA3,
      VALUED_2, COMSEQ_2;
 registrations NUMBERS, XREAL_0, FINSEQ_2, SEQ_2, INTEGRA1, FUNCT_2, NAT_1,
      MEMBERED, XXREAL_0, ORDINAL1, VALUED_0, VALUED_1, REAL_NS1, RELSET_1,
      EUCLID, VALUED_2, CARD_1, MEASURE5, FINSEQ_1, COMSEQ_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, XBOOLE_0, EUCLID, INTEGRA1, INTEGRA5;
 theorems XBOOLE_0, XBOOLE_1, XREAL_0, INTEGRA1, INTEGRA2, INTEGRA4, XXREAL_2,
      XXREAL_0, RELAT_1, XCMPLX_1, PREPOWER, ORDINAL1, XREAL_1, RCOMP_1, SEQ_4,
      SEQ_2, FINSEQ_1, FINSEQ_2, RVSUM_1, FUNCT_1, FUNCT_2, PARTFUN1, REAL_NS1,
      INTEGRA5, PDIFF_1, INTEGRA6, VALUED_1, VALUED_2, RELSET_1, CARD_1;
 schemes SEQ_1, FUNCT_2, FINSEQ_1;

begin
definition
let C1 being non  empty  closed_interval (Subset of ( REAL ));
let C2 being (Function of C1 , ( REAL ));
let C3 being (Division of C1);
mode middle_volume of C2 , C3
 -> (FinSequence of ( REAL ))
means :L1: (( len it ) = ( len C3 ) & (for B1 being Nat holds (B1 in ( dom C3 ) implies (ex B2 being (Element of ( REAL )) st (B2 in ( rng ( C2 | ( divset (C3 , B1) ) ) ) & ( it . B1 ) = ( B2 * ( vol ( divset (C3 , B1) ) ) ))))));
correctness
proof
defpred S1[ Nat , (Element of ( REAL )) ] means (ex B3 being (Element of ( REAL )) st (B3 in ( rng ( C2 | ( divset (C3 , $1) ) ) ) & $2 = ( B3 * ( vol ( divset (C3 , $1) ) ) )));
L2: ( Seg ( len C3 ) ) = ( dom C3 ) by FINSEQ_1:def 3;
L3: (for B4 being Nat holds (B4 in ( Seg ( len C3 ) ) implies (ex B5 being (Element of ( REAL )) st S1[ B4 , B5 ])))
proof
let C4 being Nat;
assume L4: C4 in ( Seg ( len C3 ) );
L5: C4 in ( dom C3 ) by L4 , FINSEQ_1:def 3;
L6: ( dom C2 ) = C1 by FUNCT_2:def 1;
L7: ( dom ( C2 | ( divset (C3 , C4) ) ) ) = ( divset (C3 , C4) ) by L6 , L5 , INTEGRA1:8 , RELAT_1:62;
L8: ( rng ( C2 | ( divset (C3 , C4) ) ) ) is non  empty by L7 , RELAT_1:42;
consider C5 being set such that L9: C5 in ( rng ( C2 | ( divset (C3 , C4) ) ) ) by L8 , XBOOLE_0:def 1;
reconsider D1 = C5 as (Element of ( REAL )) by L9;
L10: ( D1 * ( vol ( divset (C3 , C4) ) ) ) is (Element of ( REAL ));
thus L11: thesis by L10 , L9;
end;
consider C6 being (FinSequence of ( REAL )) such that L12: (( dom C6 ) = ( Seg ( len C3 ) ) & (for B6 being Nat holds (B6 in ( Seg ( len C3 ) ) implies S1[ B6 , ( C6 . B6 ) ]))) from FINSEQ_1:sch 5(L3);
L13: ( len C6 ) = ( len C3 ) by L12 , FINSEQ_1:def 3;
thus L14: thesis by L13 , L12 , L2;
end;
end;
L16: (for B7 being non  empty  closed_interval (Subset of ( REAL )) holds (for B8 being (Function of B7 , ( REAL )) holds (for B9 being (Division of B7) holds (for B10 being (middle_volume of B8 , B9) holds (for B11 being Nat holds ((( B8 | B7 ) is  bounded_below & B11 in ( dom B9 )) implies ( ( lower_volume (B8 , B9) ) . B11 ) <= ( B10 . B11 )))))))
proof
let C7 being non  empty  closed_interval (Subset of ( REAL ));
let C8 being (Function of C7 , ( REAL ));
let C9 being (Division of C7);
let C10 being (middle_volume of C8 , C9);
let C11 being Nat;
assume that
L17: ( C8 | C7 ) is  bounded_below
and
L18: C11 in ( dom C9 );
L19: ( ( lower_volume (C8 , C9) ) . C11 ) = ( ( lower_bound ( rng ( C8 | ( divset (C9 , C11) ) ) ) ) * ( vol ( divset (C9 , C11) ) ) ) by L18 , INTEGRA1:def 7;
consider C12 being (Element of ( REAL )) such that L20: C12 in ( rng ( C8 | ( divset (C9 , C11) ) ) ) and L21: ( C10 . C11 ) = ( C12 * ( vol ( divset (C9 , C11) ) ) ) by L18 , L1;
L22: ( rng C8 ) is  bounded_below by L17 , INTEGRA1:11;
L23: ( rng ( C8 | ( divset (C9 , C11) ) ) ) is  bounded_below by L22 , RELAT_1:70 , XXREAL_2:44;
L24: (( 0 ) <= ( vol ( divset (C9 , C11) ) ) & ( lower_bound ( rng ( C8 | ( divset (C9 , C11) ) ) ) ) <= C12) by L23 , L20 , INTEGRA1:9 , SEQ_4:def 2;
thus L25: ( ( lower_volume (C8 , C9) ) . C11 ) <= ( C10 . C11 ) by L24 , L21 , L19 , XREAL_1:64;
end;
L26: (for B12 being non  empty  closed_interval (Subset of ( REAL )) holds (for B13 being (Function of B12 , ( REAL )) holds (for B14 being (Division of B12) holds (for B15 being Real holds ((( B13 | B12 ) is  bounded_below & ( 0 ) < B15) implies (ex B16 being (middle_volume of B13 , B14) st (for B17 being Nat holds (B17 in ( dom B14 ) implies (( ( lower_volume (B13 , B14) ) . B17 ) <= ( B16 . B17 ) & ( B16 . B17 ) < ( ( ( lower_volume (B13 , B14) ) . B17 ) + B15 ))))))))))
proof
let C13 being non  empty  closed_interval (Subset of ( REAL ));
let C14 being (Function of C13 , ( REAL ));
let C15 being (Division of C13);
let C16 being Real;
assume that
L27: ( C14 | C13 ) is  bounded_below
and
L28: ( 0 ) < C16;
defpred S2[ Nat , (Element of ( REAL )) ] means (ex B18 being (Element of ( REAL )) st (B18 in ( rng ( C14 | ( divset (C15 , $1) ) ) ) & $2 = ( B18 * ( vol ( divset (C15 , $1) ) ) ) & ( ( lower_volume (C14 , C15) ) . $1 ) <= $2 & $2 < ( ( ( lower_volume (C14 , C15) ) . $1 ) + C16 )));
L29: (for B19 being Nat holds (B19 in ( Seg ( len C15 ) ) implies (ex B20 being (Element of ( REAL )) st S2[ B19 , B20 ])))
proof
let C17 being Nat;
assume L30: C17 in ( Seg ( len C15 ) );
L31: C17 in ( dom C15 ) by L30 , FINSEQ_1:def 3;
L32: ( dom C14 ) = C13 by FUNCT_2:def 1;
L33: ( dom ( C14 | ( divset (C15 , C17) ) ) ) = ( divset (C15 , C17) ) by L32 , L31 , INTEGRA1:8 , RELAT_1:62;
L34: ( rng ( C14 | ( divset (C15 , C17) ) ) ) is non  empty by L33 , RELAT_1:42;
L35: ( rng C14 ) is  bounded_below by L27 , INTEGRA1:11;
L36: ( rng ( C14 | ( divset (C15 , C17) ) ) ) is  bounded_below by L35 , RELAT_1:70 , XXREAL_2:44;
per cases ;
suppose L37: ( vol ( divset (C15 , C17) ) ) = ( 0 );

consider C18 being set such that L38: C18 in ( rng ( C14 | ( divset (C15 , C17) ) ) ) by L34 , XBOOLE_0:def 1;
reconsider D2 = C18 as (Element of ( REAL )) by L38;
reconsider D3 = ( D2 * ( vol ( divset (C15 , C17) ) ) ) as (Element of ( REAL ));
L39: ( ( lower_volume (C14 , C15) ) . C17 ) = ( ( lower_bound ( rng ( C14 | ( divset (C15 , C17) ) ) ) ) * ( vol ( divset (C15 , C17) ) ) ) by L31 , INTEGRA1:def 7
.= ( 0 ) by L37;
L40: D3 < ( ( ( lower_volume (C14 , C15) ) . C17 ) + C16 ) by L39 , L28 , L37;
thus L41: (ex B21 being (Element of ( REAL )) st S2[ C17 , B21 ]) by L40 , L37 , L38 , L39;
end;
suppose L42: ( vol ( divset (C15 , C17) ) ) <> ( 0 );

set D4 = ( lower_bound ( rng ( C14 | ( divset (C15 , C17) ) ) ) );
set D5 = ( C16 / ( vol ( divset (C15 , C17) ) ) );
L43: ( 0 ) < ( vol ( divset (C15 , C17) ) ) by L42 , INTEGRA1:9;
L44: ( 0 ) < D5 by L43 , L28 , XREAL_1:139;
consider C19 being  real number such that L45: C19 in ( rng ( C14 | ( divset (C15 , C17) ) ) ) and L46: C19 < ( D4 + D5 ) by L44 , L36 , L34 , SEQ_4:def 2;
L47: ( ( lower_volume (C14 , C15) ) . C17 ) = ( ( lower_bound ( rng ( C14 | ( divset (C15 , C17) ) ) ) ) * ( vol ( divset (C15 , C17) ) ) ) by L31 , INTEGRA1:def 7;
reconsider D6 = ( C19 * ( vol ( divset (C15 , C17) ) ) ) as (Element of ( REAL ));
L48: D6 < ( ( D4 + D5 ) * ( vol ( divset (C15 , C17) ) ) ) by L43 , L46 , XREAL_1:68;
L49: D6 < ( ( ( lower_volume (C14 , C15) ) . C17 ) + ( D5 * ( vol ( divset (C15 , C17) ) ) ) ) by L48 , L47;
L50: D6 < ( ( ( lower_volume (C14 , C15) ) . C17 ) + C16 ) by L49 , L42 , XCMPLX_1:87;
L51: D4 <= C19 by L36 , L45 , SEQ_4:def 2;
L52: ( ( lower_volume (C14 , C15) ) . C17 ) <= D6 by L51 , L43 , L47 , XREAL_1:64;
thus L53: (ex B22 being (Element of ( REAL )) st S2[ C17 , B22 ]) by L52 , L45 , L50;
end;
end;
consider C20 being (FinSequence of ( REAL )) such that L55: (( dom C20 ) = ( Seg ( len C15 ) ) & (for B23 being Nat holds (B23 in ( Seg ( len C15 ) ) implies S2[ B23 , ( C20 . B23 ) ]))) from FINSEQ_1:sch 5(L29);
L56:
now
let C21 being Nat;
assume L57: C21 in ( dom C15 );
L58: C21 in ( Seg ( len C15 ) ) by L57 , FINSEQ_1:def 3;
consider C22 being (Element of ( REAL )) such that L59: (C22 in ( rng ( C14 | ( divset (C15 , C21) ) ) ) & ( C20 . C21 ) = ( C22 * ( vol ( divset (C15 , C21) ) ) )) and L60: ( ( lower_volume (C14 , C15) ) . C21 ) <= ( C20 . C21 ) and L61: ( C20 . C21 ) < ( ( ( lower_volume (C14 , C15) ) . C21 ) + C16 ) by L58 , L55;
take D7 = C22;
thus L62: (D7 in ( rng ( C14 | ( divset (C15 , C21) ) ) ) & ( C20 . C21 ) = ( D7 * ( vol ( divset (C15 , C21) ) ) )) by L59;
end;
L63: ( len C20 ) = ( len C15 ) by L55 , FINSEQ_1:def 3;
reconsider D8 = C20 as (middle_volume of C14 , C15) by L63 , L56 , L1;
L64:
now
let C23 being Nat;
assume L65: C23 in ( dom C15 );
L66: C23 in ( Seg ( len C15 ) ) by L65 , FINSEQ_1:def 3;
L67: (ex B24 being (Element of ( REAL )) st (B24 in ( rng ( C14 | ( divset (C15 , C23) ) ) ) & ( D8 . C23 ) = ( B24 * ( vol ( divset (C15 , C23) ) ) ) & ( ( lower_volume (C14 , C15) ) . C23 ) <= ( D8 . C23 ) & ( D8 . C23 ) < ( ( ( lower_volume (C14 , C15) ) . C23 ) + C16 ))) by L66 , L55;
thus L68: (( ( lower_volume (C14 , C15) ) . C23 ) <= ( D8 . C23 ) & ( D8 . C23 ) < ( ( ( lower_volume (C14 , C15) ) . C23 ) + C16 )) by L67;
end;
thus L69: thesis by L64;
end;
L70: (for B25 being non  empty  closed_interval (Subset of ( REAL )) holds (for B26 being (Function of B25 , ( REAL )) holds (for B27 being (Division of B25) holds (for B28 being Real holds ((( B26 | B25 ) is  bounded_above & ( 0 ) < B28) implies (ex B29 being (middle_volume of B26 , B27) st (for B30 being Nat holds (B30 in ( dom B27 ) implies (( B29 . B30 ) <= ( ( upper_volume (B26 , B27) ) . B30 ) & ( ( ( upper_volume (B26 , B27) ) . B30 ) - B28 ) < ( B29 . B30 ))))))))))
proof
let C24 being non  empty  closed_interval (Subset of ( REAL ));
let C25 being (Function of C24 , ( REAL ));
let C26 being (Division of C24);
let C27 being Real;
assume that
L71: ( C25 | C24 ) is  bounded_above
and
L72: ( 0 ) < C27;
defpred S3[ Nat , (Element of ( REAL )) ] means (ex B31 being (Element of ( REAL )) st (B31 in ( rng ( C25 | ( divset (C26 , $1) ) ) ) & $2 = ( B31 * ( vol ( divset (C26 , $1) ) ) ) & $2 <= ( ( upper_volume (C25 , C26) ) . $1 ) & ( ( ( upper_volume (C25 , C26) ) . $1 ) - C27 ) < $2));
L73: (for B32 being Nat holds (B32 in ( Seg ( len C26 ) ) implies (ex B33 being (Element of ( REAL )) st S3[ B32 , B33 ])))
proof
let C28 being Nat;
assume L74: C28 in ( Seg ( len C26 ) );
L75: C28 in ( dom C26 ) by L74 , FINSEQ_1:def 3;
L76: ( dom C25 ) = C24 by FUNCT_2:def 1;
L77: ( dom ( C25 | ( divset (C26 , C28) ) ) ) = ( divset (C26 , C28) ) by L76 , L75 , INTEGRA1:8 , RELAT_1:62;
L78: ( rng ( C25 | ( divset (C26 , C28) ) ) ) is non  empty by L77 , RELAT_1:42;
L79: ( rng C25 ) is  bounded_above by L71 , INTEGRA1:13;
L80: ( rng ( C25 | ( divset (C26 , C28) ) ) ) is  bounded_above by L79 , RELAT_1:70 , XXREAL_2:43;
per cases ;
suppose L81: ( vol ( divset (C26 , C28) ) ) = ( 0 );

consider C29 being set such that L82: C29 in ( rng ( C25 | ( divset (C26 , C28) ) ) ) by L78 , XBOOLE_0:def 1;
reconsider D9 = C29 as (Element of ( REAL )) by L82;
reconsider D10 = ( D9 * ( vol ( divset (C26 , C28) ) ) ) as (Element of ( REAL ));
L83: ( ( upper_volume (C25 , C26) ) . C28 ) = ( ( upper_bound ( rng ( C25 | ( divset (C26 , C28) ) ) ) ) * ( vol ( divset (C26 , C28) ) ) ) by L75 , INTEGRA1:def 6
.= ( 0 ) by L81;
L84: ( ( ( upper_volume (C25 , C26) ) . C28 ) - C27 ) < D10 by L83 , L72 , L81;
thus L85: (ex B34 being (Element of ( REAL )) st S3[ C28 , B34 ]) by L84 , L81 , L82 , L83;
end;
suppose L86: ( vol ( divset (C26 , C28) ) ) <> ( 0 );

set D11 = ( upper_bound ( rng ( C25 | ( divset (C26 , C28) ) ) ) );
set D12 = ( C27 / ( vol ( divset (C26 , C28) ) ) );
L87: ( 0 ) < ( vol ( divset (C26 , C28) ) ) by L86 , INTEGRA1:9;
L88: ( 0 ) < D12 by L87 , L72 , XREAL_1:139;
consider C30 being  real number such that L89: C30 in ( rng ( C25 | ( divset (C26 , C28) ) ) ) and L90: ( D11 - D12 ) < C30 by L88 , L80 , L78 , SEQ_4:def 1;
L91: ( ( upper_volume (C25 , C26) ) . C28 ) = ( ( upper_bound ( rng ( C25 | ( divset (C26 , C28) ) ) ) ) * ( vol ( divset (C26 , C28) ) ) ) by L75 , INTEGRA1:def 6;
reconsider D13 = ( C30 * ( vol ( divset (C26 , C28) ) ) ) as (Element of ( REAL ));
L92: ( ( D11 - D12 ) * ( vol ( divset (C26 , C28) ) ) ) < D13 by L87 , L90 , XREAL_1:68;
L93: ( ( ( upper_volume (C25 , C26) ) . C28 ) - ( D12 * ( vol ( divset (C26 , C28) ) ) ) ) < D13 by L92 , L91;
L94: ( ( ( upper_volume (C25 , C26) ) . C28 ) - C27 ) < D13 by L93 , L86 , XCMPLX_1:87;
L95: C30 <= D11 by L80 , L89 , SEQ_4:def 1;
L96: D13 <= ( ( upper_volume (C25 , C26) ) . C28 ) by L95 , L87 , L91 , XREAL_1:64;
thus L97: (ex B35 being (Element of ( REAL )) st S3[ C28 , B35 ]) by L96 , L89 , L94;
end;
end;
consider C31 being (FinSequence of ( REAL )) such that L99: (( dom C31 ) = ( Seg ( len C26 ) ) & (for B36 being Nat holds (B36 in ( Seg ( len C26 ) ) implies S3[ B36 , ( C31 . B36 ) ]))) from FINSEQ_1:sch 5(L73);
L100:
now
let C32 being Nat;
assume L101: C32 in ( dom C26 );
L102: C32 in ( Seg ( len C26 ) ) by L101 , FINSEQ_1:def 3;
consider C33 being (Element of ( REAL )) such that L103: (C33 in ( rng ( C25 | ( divset (C26 , C32) ) ) ) & ( C31 . C32 ) = ( C33 * ( vol ( divset (C26 , C32) ) ) )) and L104: ( C31 . C32 ) <= ( ( upper_volume (C25 , C26) ) . C32 ) and L105: ( ( ( upper_volume (C25 , C26) ) . C32 ) - C27 ) < ( C31 . C32 ) by L102 , L99;
take D14 = C33;
thus L106: (D14 in ( rng ( C25 | ( divset (C26 , C32) ) ) ) & ( C31 . C32 ) = ( D14 * ( vol ( divset (C26 , C32) ) ) )) by L103;
end;
L107: ( len C31 ) = ( len C26 ) by L99 , FINSEQ_1:def 3;
reconsider D15 = C31 as (middle_volume of C25 , C26) by L107 , L100 , L1;
L108:
now
let C34 being Nat;
assume L109: C34 in ( dom C26 );
L110: C34 in ( Seg ( len C26 ) ) by L109 , FINSEQ_1:def 3;
L111: (ex B37 being (Element of ( REAL )) st (B37 in ( rng ( C25 | ( divset (C26 , C34) ) ) ) & ( D15 . C34 ) = ( B37 * ( vol ( divset (C26 , C34) ) ) ) & ( D15 . C34 ) <= ( ( upper_volume (C25 , C26) ) . C34 ) & ( ( ( upper_volume (C25 , C26) ) . C34 ) - C27 ) < ( D15 . C34 ))) by L110 , L99;
thus L112: (( D15 . C34 ) <= ( ( upper_volume (C25 , C26) ) . C34 ) & ( ( ( upper_volume (C25 , C26) ) . C34 ) - C27 ) < ( D15 . C34 )) by L111;
end;
thus L113: thesis by L108;
end;
L114: (for B38 being non  empty  closed_interval (Subset of ( REAL )) holds (for B39 being (Function of B38 , ( REAL )) holds (for B40 being (Division of B38) holds (for B41 being (middle_volume of B39 , B40) holds (for B42 being Nat holds ((( B39 | B38 ) is  bounded_above & B42 in ( dom B40 )) implies ( B41 . B42 ) <= ( ( upper_volume (B39 , B40) ) . B42 )))))))
proof
let C35 being non  empty  closed_interval (Subset of ( REAL ));
let C36 being (Function of C35 , ( REAL ));
let C37 being (Division of C35);
let C38 being (middle_volume of C36 , C37);
let C39 being Nat;
assume that
L115: ( C36 | C35 ) is  bounded_above
and
L116: C39 in ( dom C37 );
L117: ( ( upper_volume (C36 , C37) ) . C39 ) = ( ( upper_bound ( rng ( C36 | ( divset (C37 , C39) ) ) ) ) * ( vol ( divset (C37 , C39) ) ) ) by L116 , INTEGRA1:def 6;
consider C40 being (Element of ( REAL )) such that L118: C40 in ( rng ( C36 | ( divset (C37 , C39) ) ) ) and L119: ( C38 . C39 ) = ( C40 * ( vol ( divset (C37 , C39) ) ) ) by L116 , L1;
L120: ( rng C36 ) is  bounded_above by L115 , INTEGRA1:13;
L121: ( rng ( C36 | ( divset (C37 , C39) ) ) ) is  bounded_above by L120 , RELAT_1:70 , XXREAL_2:43;
L122: (( 0 ) <= ( vol ( divset (C37 , C39) ) ) & C40 <= ( upper_bound ( rng ( C36 | ( divset (C37 , C39) ) ) ) )) by L121 , L118 , INTEGRA1:9 , SEQ_4:def 1;
thus L123: ( C38 . C39 ) <= ( ( upper_volume (C36 , C37) ) . C39 ) by L122 , L119 , L117 , XREAL_1:64;
end;
definition
let C41 being non  empty  closed_interval (Subset of ( REAL ));
let C42 being (Function of C41 , ( REAL ));
let C43 being (Division of C41);
let C44 being (middle_volume of C42 , C43);
func middle_sum (C42 , C44) -> Real equals 
( Sum C44 );
correctness;
end;
theorem
L125: (for B43 being non  empty  closed_interval (Subset of ( REAL )) holds (for B44 being (Function of B43 , ( REAL )) holds (for B45 being (Division of B43) holds (for B46 being (middle_volume of B44 , B45) holds (( B44 | B43 ) is  bounded_below implies ( lower_sum (B44 , B45) ) <= ( middle_sum (B44 , B46) ))))))
proof
let C45 being non  empty  closed_interval (Subset of ( REAL ));
let C46 being (Function of C45 , ( REAL ));
let C47 being (Division of C45);
let C48 being (middle_volume of C46 , C47);
L126: ( len ( lower_volume (C46 , C47) ) ) = ( len C47 ) by INTEGRA1:def 7;
reconsider D16 = ( lower_volume (C46 , C47) ) as (Element of ( ( len C47 ) -tuples_on ( REAL ) )) by L126 , FINSEQ_2:92;
L127: ( len C48 ) = ( len C47 ) by L1;
reconsider D17 = C48 as (Element of ( ( len C47 ) -tuples_on ( REAL ) )) by L127 , FINSEQ_2:92;
assume L128: ( C46 | C45 ) is  bounded_below;
L129:
now
let C49 being Nat;
assume L130: C49 in ( Seg ( len C47 ) );
L131: C49 in ( dom C47 ) by L130 , FINSEQ_1:def 3;
thus L132: ( D16 . C49 ) <= ( D17 . C49 ) by L131 , L128 , L16;
end;
thus L133: thesis by L129 , RVSUM_1:82;
end;
theorem
L134: (for B47 being non  empty  closed_interval (Subset of ( REAL )) holds (for B48 being (Function of B47 , ( REAL )) holds (for B49 being (Division of B47) holds (for B50 being (middle_volume of B48 , B49) holds (( B48 | B47 ) is  bounded_above implies ( middle_sum (B48 , B50) ) <= ( upper_sum (B48 , B49) ))))))
proof
let C50 being non  empty  closed_interval (Subset of ( REAL ));
let C51 being (Function of C50 , ( REAL ));
let C52 being (Division of C50);
let C53 being (middle_volume of C51 , C52);
L135: ( len ( upper_volume (C51 , C52) ) ) = ( len C52 ) by INTEGRA1:def 6;
reconsider D18 = ( upper_volume (C51 , C52) ) as (Element of ( ( len C52 ) -tuples_on ( REAL ) )) by L135 , FINSEQ_2:92;
L136: ( len C53 ) = ( len C52 ) by L1;
reconsider D19 = C53 as (Element of ( ( len C52 ) -tuples_on ( REAL ) )) by L136 , FINSEQ_2:92;
assume L137: ( C51 | C50 ) is  bounded_above;
L138:
now
let C54 being Nat;
assume L139: C54 in ( Seg ( len C52 ) );
L140: C54 in ( dom C52 ) by L139 , FINSEQ_1:def 3;
thus L141: ( D19 . C54 ) <= ( D18 . C54 ) by L140 , L137 , L114;
end;
thus L142: thesis by L138 , RVSUM_1:82;
end;
theorem
L143: (for B51 being non  empty  closed_interval (Subset of ( REAL )) holds (for B52 being (Function of B51 , ( REAL )) holds (for B53 being (Division of B51) holds (for B54 being Real holds ((( B52 | B51 ) is  bounded_below & ( 0 ) < B54) implies (ex B55 being (middle_volume of B52 , B53) st ( middle_sum (B52 , B55) ) <= ( ( lower_sum (B52 , B53) ) + B54 )))))))
proof
let C55 being non  empty  closed_interval (Subset of ( REAL ));
let C56 being (Function of C55 , ( REAL ));
let C57 being (Division of C55);
let C58 being Real;
L144: ( len ( lower_volume (C56 , C57) ) ) = ( len C57 ) by INTEGRA1:def 7;
reconsider D20 = ( lower_volume (C56 , C57) ) as (Element of ( ( len C57 ) -tuples_on ( REAL ) )) by L144 , FINSEQ_2:92;
set D21 = ( C58 / ( len C57 ) );
assume L145: (( C56 | C55 ) is  bounded_below & ( 0 ) < C58);
consider C59 being (middle_volume of C56 , C57) such that L146: (for B56 being Nat holds (B56 in ( dom C57 ) implies (( ( lower_volume (C56 , C57) ) . B56 ) <= ( C59 . B56 ) & ( C59 . B56 ) < ( ( ( lower_volume (C56 , C57) ) . B56 ) + D21 )))) by L145 , L26 , XREAL_1:139;
set D22 = ( ( len C57 ) |-> D21 );
reconsider D23 = ( D20 + D22 ) as (Element of ( ( len C57 ) -tuples_on ( REAL ) ));
take C59;
L147: ( len C59 ) = ( len C57 ) by L1;
reconsider D24 = C59 as (Element of ( ( len C57 ) -tuples_on ( REAL ) )) by L147 , FINSEQ_2:92;
L148:
now
let C60 being Nat;
assume L149: C60 in ( Seg ( len C57 ) );
L150: C60 in ( dom C57 ) by L149 , FINSEQ_1:def 3;
L151: ( D24 . C60 ) <= ( ( D20 . C60 ) + D21 ) by L150 , L146;
L152: ( D24 . C60 ) <= ( ( D20 . C60 ) + ( D22 . C60 ) ) by L151 , L149 , FINSEQ_2:57;
thus L153: ( D24 . C60 ) <= ( D23 . C60 ) by L152 , RVSUM_1:11;
end;
L154: ( Sum D24 ) <= ( Sum D23 ) by L148 , RVSUM_1:82;
L155: ( Sum D24 ) <= ( ( Sum D20 ) + ( Sum D22 ) ) by L154 , RVSUM_1:89;
L156: ( Sum D24 ) <= ( ( Sum D20 ) + ( ( len C57 ) * D21 ) ) by L155 , RVSUM_1:80;
thus L157: thesis by L156 , XCMPLX_1:87;
end;
theorem
L158: (for B57 being non  empty  closed_interval (Subset of ( REAL )) holds (for B58 being (Function of B57 , ( REAL )) holds (for B59 being (Division of B57) holds (for B60 being Real holds ((( B58 | B57 ) is  bounded_above & ( 0 ) < B60) implies (ex B61 being (middle_volume of B58 , B59) st ( ( upper_sum (B58 , B59) ) - B60 ) <= ( middle_sum (B58 , B61) )))))))
proof
let C61 being non  empty  closed_interval (Subset of ( REAL ));
let C62 being (Function of C61 , ( REAL ));
let C63 being (Division of C61);
let C64 being Real;
L159: ( len ( upper_volume (C62 , C63) ) ) = ( len C63 ) by INTEGRA1:def 6;
reconsider D25 = ( upper_volume (C62 , C63) ) as (Element of ( ( len C63 ) -tuples_on ( REAL ) )) by L159 , FINSEQ_2:92;
set D26 = ( C64 / ( len C63 ) );
assume L160: (( C62 | C61 ) is  bounded_above & ( 0 ) < C64);
consider C65 being (middle_volume of C62 , C63) such that L161: (for B62 being Nat holds (B62 in ( dom C63 ) implies (( C65 . B62 ) <= ( ( upper_volume (C62 , C63) ) . B62 ) & ( ( ( upper_volume (C62 , C63) ) . B62 ) - D26 ) < ( C65 . B62 )))) by L160 , L70 , XREAL_1:139;
set D27 = ( ( len C63 ) |-> D26 );
reconsider D28 = ( D25 - D27 ) as (Element of ( ( len C63 ) -tuples_on ( REAL ) ));
take C65;
L162: ( len C65 ) = ( len C63 ) by L1;
reconsider D29 = C65 as (Element of ( ( len C63 ) -tuples_on ( REAL ) )) by L162 , FINSEQ_2:92;
L163:
now
let C66 being Nat;
assume L164: C66 in ( Seg ( len C63 ) );
L165: C66 in ( dom C63 ) by L164 , FINSEQ_1:def 3;
L166: ( ( D25 . C66 ) - D26 ) <= ( D29 . C66 ) by L165 , L161;
L167: ( ( D25 . C66 ) - ( D27 . C66 ) ) <= ( D29 . C66 ) by L166 , L164 , FINSEQ_2:57;
thus L168: ( D28 . C66 ) <= ( D29 . C66 ) by L167 , RVSUM_1:27;
end;
L169: ( Sum D28 ) <= ( Sum D29 ) by L163 , RVSUM_1:82;
L170: ( ( Sum D25 ) - ( Sum D27 ) ) <= ( Sum D29 ) by L169 , RVSUM_1:90;
L171: ( ( Sum D25 ) - ( ( len C63 ) * D26 ) ) <= ( Sum D29 ) by L170 , RVSUM_1:80;
thus L172: thesis by L171 , XCMPLX_1:87;
end;
definition
let C67 being non  empty  closed_interval (Subset of ( REAL ));
let C68 being (Function of C67 , ( REAL ));
let C69 being (DivSequence of C67);
mode middle_volume_Sequence of C68 , C69
 -> (Function of ( NAT ) , ( ( REAL ) * ))
means :L173: (for B63 being (Element of ( NAT )) holds ( it . B63 ) is (middle_volume of C68 , ( C69 . B63 )));
correctness
proof
defpred S4[ (Element of ( NAT )) , set ] means $2 is (middle_volume of C68 , ( C69 . $1 ));
L174: (for B64 being (Element of ( NAT )) holds (ex B65 being (Element of ( ( REAL ) * )) st S4[ B64 , B65 ]))
proof
let C70 being (Element of ( NAT ));
set D30 = the (middle_volume of C68 , ( C69 . C70 ));
reconsider D31 = D30 as (Element of ( ( REAL ) * )) by FINSEQ_1:def 11;
L175: D31 is (middle_volume of C68 , ( C69 . C70 ));
thus L176: thesis by L175;
end;
L177: (ex B66 being (Function of ( NAT ) , ( ( REAL ) * )) st (for B67 being (Element of ( NAT )) holds S4[ B67 , ( B66 . B67 ) ])) from FUNCT_2:sch 3(L174);
thus L178: thesis by L177;
end;
end;
definition
let C71 being non  empty  closed_interval (Subset of ( REAL ));
let C72 being (Function of C71 , ( REAL ));
let C73 being (DivSequence of C71);
let C74 being (middle_volume_Sequence of C72 , C73);
let C75 being (Element of ( NAT ));
redefine func C74 . C75 -> (middle_volume of C72 , ( C73 . C75 ));

coherence by L173;
end;
definition
let C76 being non  empty  closed_interval (Subset of ( REAL ));
let C77 being (Function of C76 , ( REAL ));
let C78 being (DivSequence of C76);
let C79 being (middle_volume_Sequence of C77 , C78);
func middle_sum (C77 , C79) -> Real_Sequence means 
:L181: (for B68 being (Element of ( NAT )) holds ( it . B68 ) = ( middle_sum (C77 , ( C79 . B68 )) ));
existence
proof
deffunc H1((Element of ( NAT ))) = ( middle_sum (C77 , ( C79 . $1 )) );
thus L182: (ex B69 being Real_Sequence st (for B70 being (Element of ( NAT )) holds ( B69 . B70 ) = H1(B70))) from SEQ_1:sch 1;
end;
uniqueness
proof
let C80 , C81 being Real_Sequence;
assume that
L183: (for B71 being (Element of ( NAT )) holds ( C80 . B71 ) = ( middle_sum (C77 , ( C79 . B71 )) ))
and
L184: (for B72 being (Element of ( NAT )) holds ( C81 . B72 ) = ( middle_sum (C77 , ( C79 . B72 )) ));
L185: (for B73 being (Element of ( NAT )) holds ( C80 . B73 ) = ( C81 . B73 ))
proof
let C82 being (Element of ( NAT ));
L186: ( C80 . C82 ) = ( middle_sum (C77 , ( C79 . C82 )) ) by L183
.= ( C81 . C82 ) by L184;
thus L187: ( C80 . C82 ) = ( C81 . C82 ) by L186;
end;
thus L188: C80 = C81 by L185 , FUNCT_2:63;
end;
end;
theorem
L190: (for B74 being non  empty  closed_interval (Subset of ( REAL )) holds (for B75 being (Function of B74 , ( REAL )) holds (for B76 being (DivSequence of B74) holds (for B77 being (middle_volume_Sequence of B75 , B76) holds (for B78 being (Element of ( NAT )) holds (( B75 | B74 ) is  bounded_below implies ( ( lower_sum (B75 , B76) ) . B78 ) <= ( ( middle_sum (B75 , B77) ) . B78 )))))))
proof
let C83 being non  empty  closed_interval (Subset of ( REAL ));
let C84 being (Function of C83 , ( REAL ));
let C85 being (DivSequence of C83);
let C86 being (middle_volume_Sequence of C84 , C85);
let C87 being (Element of ( NAT ));
assume L191: ( C84 | C83 ) is  bounded_below;
L192: (( ( middle_sum (C84 , C86) ) . C87 ) = ( middle_sum (C84 , ( C86 . C87 )) ) & ( ( lower_sum (C84 , C85) ) . C87 ) = ( lower_sum (C84 , ( C85 . C87 )) )) by L181 , INTEGRA2:def 3;
thus L193: thesis by L192 , L191 , L125;
end;
theorem
L194: (for B79 being non  empty  closed_interval (Subset of ( REAL )) holds (for B80 being (Function of B79 , ( REAL )) holds (for B81 being (DivSequence of B79) holds (for B82 being (middle_volume_Sequence of B80 , B81) holds (for B83 being (Element of ( NAT )) holds (( B80 | B79 ) is  bounded_above implies ( ( middle_sum (B80 , B82) ) . B83 ) <= ( ( upper_sum (B80 , B81) ) . B83 )))))))
proof
let C88 being non  empty  closed_interval (Subset of ( REAL ));
let C89 being (Function of C88 , ( REAL ));
let C90 being (DivSequence of C88);
let C91 being (middle_volume_Sequence of C89 , C90);
let C92 being (Element of ( NAT ));
assume L195: ( C89 | C88 ) is  bounded_above;
L196: (( ( middle_sum (C89 , C91) ) . C92 ) = ( middle_sum (C89 , ( C91 . C92 )) ) & ( ( upper_sum (C89 , C90) ) . C92 ) = ( upper_sum (C89 , ( C90 . C92 )) )) by L181 , INTEGRA2:def 2;
thus L197: thesis by L196 , L195 , L134;
end;
theorem
L198: (for B84 being non  empty  closed_interval (Subset of ( REAL )) holds (for B85 being (Function of B84 , ( REAL )) holds (for B86 being (DivSequence of B84) holds (for B87 being (Element of ( REAL )) holds ((( 0 ) < B87 & ( B85 | B84 ) is  bounded_below) implies (ex B88 being (middle_volume_Sequence of B85 , B86) st (for B89 being (Element of ( NAT )) holds ( ( middle_sum (B85 , B88) ) . B89 ) <= ( ( ( lower_sum (B85 , B86) ) . B89 ) + B87 ))))))))
proof
let C93 being non  empty  closed_interval (Subset of ( REAL ));
let C94 being (Function of C93 , ( REAL ));
let C95 being (DivSequence of C93);
let C96 being (Element of ( REAL ));
defpred S5[ (Element of ( NAT )) , set ] means ($2 is (middle_volume of C94 , ( C95 . $1 )) & (ex B90 being (middle_volume of C94 , ( C95 . $1 )) st (B90 = $2 & ( middle_sum (C94 , B90) ) <= ( ( lower_sum (C94 , ( C95 . $1 )) ) + C96 ))));
assume L199: (( 0 ) < C96 & ( C94 | C93 ) is  bounded_below);
L200: (for B91 being (Element of ( NAT )) holds (ex B92 being (Element of ( ( REAL ) * )) st S5[ B91 , B92 ]))
proof
let C97 being (Element of ( NAT ));
consider C98 being (middle_volume of C94 , ( C95 . C97 )) such that L201: ( middle_sum (C94 , C98) ) <= ( ( lower_sum (C94 , ( C95 . C97 )) ) + C96 ) by L199 , L143;
reconsider D32 = C98 as (Element of ( ( REAL ) * )) by FINSEQ_1:def 11;
take D32;
thus L202: thesis by L201;
end;
consider C99 being (Function of ( NAT ) , ( ( REAL ) * )) such that L203: (for B93 being (Element of ( NAT )) holds S5[ B93 , ( C99 . B93 ) ]) from FUNCT_2:sch 3(L200);
reconsider D33 = C99 as (middle_volume_Sequence of C94 , C95) by L203 , L173;
L204:
now
let C100 being (Element of ( NAT ));
L205: (ex B94 being (middle_volume of C94 , ( C95 . C100 )) st (B94 = ( D33 . C100 ) & ( middle_sum (C94 , B94) ) <= ( ( lower_sum (C94 , ( C95 . C100 )) ) + C96 ))) by L203;
L206: ( ( middle_sum (C94 , D33) ) . C100 ) <= ( ( lower_sum (C94 , ( C95 . C100 )) ) + C96 ) by L205 , L181;
thus L207: ( ( middle_sum (C94 , D33) ) . C100 ) <= ( ( ( lower_sum (C94 , C95) ) . C100 ) + C96 ) by L206 , INTEGRA2:def 3;
end;
thus L208: thesis by L204;
end;
theorem
L209: (for B95 being non  empty  closed_interval (Subset of ( REAL )) holds (for B96 being (Function of B95 , ( REAL )) holds (for B97 being (DivSequence of B95) holds (for B98 being (Element of ( REAL )) holds ((( 0 ) < B98 & ( B96 | B95 ) is  bounded_above) implies (ex B99 being (middle_volume_Sequence of B96 , B97) st (for B100 being (Element of ( NAT )) holds ( ( ( upper_sum (B96 , B97) ) . B100 ) - B98 ) <= ( ( middle_sum (B96 , B99) ) . B100 ))))))))
proof
let C101 being non  empty  closed_interval (Subset of ( REAL ));
let C102 being (Function of C101 , ( REAL ));
let C103 being (DivSequence of C101);
let C104 being (Element of ( REAL ));
defpred S6[ (Element of ( NAT )) , set ] means ($2 is (middle_volume of C102 , ( C103 . $1 )) & (ex B101 being (middle_volume of C102 , ( C103 . $1 )) st (B101 = $2 & ( ( upper_sum (C102 , ( C103 . $1 )) ) - C104 ) <= ( middle_sum (C102 , B101) ))));
assume L210: (( 0 ) < C104 & ( C102 | C101 ) is  bounded_above);
L211: (for B102 being (Element of ( NAT )) holds (ex B103 being (Element of ( ( REAL ) * )) st S6[ B102 , B103 ]))
proof
let C105 being (Element of ( NAT ));
consider C106 being (middle_volume of C102 , ( C103 . C105 )) such that L212: ( ( upper_sum (C102 , ( C103 . C105 )) ) - C104 ) <= ( middle_sum (C102 , C106) ) by L210 , L158;
reconsider D34 = C106 as (Element of ( ( REAL ) * )) by FINSEQ_1:def 11;
take D34;
thus L213: thesis by L212;
end;
consider C107 being (Function of ( NAT ) , ( ( REAL ) * )) such that L214: (for B104 being (Element of ( NAT )) holds S6[ B104 , ( C107 . B104 ) ]) from FUNCT_2:sch 3(L211);
reconsider D35 = C107 as (middle_volume_Sequence of C102 , C103) by L214 , L173;
L215:
now
let C108 being (Element of ( NAT ));
L216: (ex B105 being (middle_volume of C102 , ( C103 . C108 )) st (B105 = ( D35 . C108 ) & ( ( upper_sum (C102 , ( C103 . C108 )) ) - C104 ) <= ( middle_sum (C102 , B105) ))) by L214;
L217: ( ( upper_sum (C102 , ( C103 . C108 )) ) - C104 ) <= ( ( middle_sum (C102 , D35) ) . C108 ) by L216 , L181;
thus L218: ( ( ( upper_sum (C102 , C103) ) . C108 ) - C104 ) <= ( ( middle_sum (C102 , D35) ) . C108 ) by L217 , INTEGRA2:def 2;
end;
thus L219: thesis by L215;
end;
L220: (for B106 , B107 , B108 being Real_Sequence holds ((B106 is  convergent & B108 is  convergent & ( lim B106 ) = ( lim B108 ) & (for B109 being (Element of ( NAT )) holds ( B106 . B109 ) <= ( B107 . B109 )) & (for B110 being (Element of ( NAT )) holds ( B107 . B110 ) <= ( B108 . B110 ))) implies (B107 is  convergent & ( lim B106 ) = ( lim B107 ) & ( lim B108 ) = ( lim B107 ))))
proof
let C109 , C110 , C111 being Real_Sequence;
assume that
L221: C109 is  convergent
and
L222: C111 is  convergent
and
L223: ( lim C109 ) = ( lim C111 )
and
L224: (for B111 being (Element of ( NAT )) holds ( C109 . B111 ) <= ( C110 . B111 ))
and
L225: (for B112 being (Element of ( NAT )) holds ( C110 . B112 ) <= ( C111 . B112 ));
L226:
now
let C112 being  real number;
assume L227: ( 0 ) < C112;
consider C113 being (Element of ( NAT )) such that L228: (for B113 being (Element of ( NAT )) holds (C113 <= B113 implies ( abs ( ( C109 . B113 ) - ( lim C109 ) ) ) < C112)) by L227 , L221 , SEQ_2:def 7;
consider C114 being (Element of ( NAT )) such that L229: (for B114 being (Element of ( NAT )) holds (C114 <= B114 implies ( abs ( ( C111 . B114 ) - ( lim C111 ) ) ) < C112)) by L222 , L227 , SEQ_2:def 7;
reconsider D36 = ( max (C113 , C114) ) as (Element of ( NAT )) by ORDINAL1:def 12;
take D37 = D36;
thus L230: (for B115 being (Element of ( NAT )) holds (D37 <= B115 implies ( abs ( ( C110 . B115 ) - ( lim C109 ) ) ) < C112))
proof
let C115 being (Element of ( NAT ));
assume L231: D37 <= C115;
L232: C113 <= D37 by XXREAL_0:25;
L233: C113 <= C115 by L232 , L231 , XXREAL_0:2;
L234: ( abs ( ( C109 . C115 ) - ( lim C109 ) ) ) < C112 by L233 , L228;
L235: ( C109 . C115 ) in ]. ( ( lim C109 ) - C112 ) , ( ( lim C109 ) + C112 ) .[ by L234 , RCOMP_1:1;
L236: ( C109 . C115 ) in { B116 where B116 is Real : (( ( lim C109 ) - C112 ) < B116 & B116 < ( ( lim C109 ) + C112 )) } by L235 , RCOMP_1:def 2;
L237: (ex B117 being Real st (B117 = ( C109 . C115 ) & ( ( lim C109 ) - C112 ) < B117 & B117 < ( ( lim C109 ) + C112 ))) by L236;
L238: ( C109 . C115 ) <= ( C110 . C115 ) by L224;
L239: ( ( lim C109 ) - C112 ) < ( C110 . C115 ) by L238 , L237 , XXREAL_0:2;
L240: C114 <= D37 by XXREAL_0:25;
L241: C114 <= C115 by L240 , L231 , XXREAL_0:2;
L242: ( abs ( ( C111 . C115 ) - ( lim C111 ) ) ) < C112 by L241 , L229;
L243: ( C111 . C115 ) in ]. ( ( lim C111 ) - C112 ) , ( ( lim C111 ) + C112 ) .[ by L242 , RCOMP_1:1;
L244: ( C111 . C115 ) in { B118 where B118 is Real : (( ( lim C111 ) - C112 ) < B118 & B118 < ( ( lim C111 ) + C112 )) } by L243 , RCOMP_1:def 2;
L245: (ex B119 being Real st (B119 = ( C111 . C115 ) & ( ( lim C111 ) - C112 ) < B119 & B119 < ( ( lim C111 ) + C112 ))) by L244;
L246: ( C110 . C115 ) <= ( C111 . C115 ) by L225;
L247: ( C110 . C115 ) < ( ( lim C109 ) + C112 ) by L246 , L223 , L245 , XXREAL_0:2;
L248: ( C110 . C115 ) in { B120 where B120 is Real : (( ( lim C109 ) - C112 ) < B120 & B120 < ( ( lim C109 ) + C112 )) } by L247 , L239;
L249: ( C110 . C115 ) in ]. ( ( lim C109 ) - C112 ) , ( ( lim C109 ) + C112 ) .[ by L248 , RCOMP_1:def 2;
thus L250: ( abs ( ( C110 . C115 ) - ( lim C109 ) ) ) < C112 by L249 , RCOMP_1:1;
end;

end;
thus L231: C110 is  convergent by L226 , SEQ_2:def 6;
thus L232: (( lim C110 ) = ( lim C109 ) & ( lim C110 ) = ( lim C111 )) by L231 , L223 , L226 , SEQ_2:def 7;
end;
theorem
L233: (for B121 being non  empty  closed_interval (Subset of ( REAL )) holds (for B122 being (Function of B121 , ( REAL )) holds (for B123 being (DivSequence of B121) holds (for B124 being (middle_volume_Sequence of B122 , B123) holds ((B122 is  bounded & B122 is  integrable & ( delta B123 ) is  convergent & ( lim ( delta B123 ) ) = ( 0 )) implies (( middle_sum (B122 , B124) ) is  convergent & ( lim ( middle_sum (B122 , B124) ) ) = ( integral B122 )))))))
proof
let C116 being non  empty  closed_interval (Subset of ( REAL ));
let C117 being (Function of C116 , ( REAL ));
let C118 being (DivSequence of C116);
let C119 being (middle_volume_Sequence of C117 , C118);
assume that
L234: C117 is  bounded
and
L235: C117 is  integrable
and
L236: (( delta C118 ) is  convergent & ( lim ( delta C118 ) ) = ( 0 ));
L237: ( dom C117 ) = C116 by FUNCT_2:def 1;
L238: ( C117 | C116 ) is  bounded_below by L237 , L234 , RELAT_1:69;
L239: (for B125 being (Element of ( NAT )) holds ( ( lower_sum (C117 , C118) ) . B125 ) <= ( ( middle_sum (C117 , C119) ) . B125 )) by L238 , L190;
L240: ( C117 | C116 ) = C117 by L237 , RELAT_1:69;
L241: (( lower_sum (C117 , C118) ) is  convergent & ( upper_sum (C117 , C118) ) is  convergent) by L240 , L234 , L236 , INTEGRA4:8 , INTEGRA4:9;
L242: ( C117 | C116 ) is  bounded_above by L234 , L237 , RELAT_1:69;
L243: (for B126 being (Element of ( NAT )) holds ( ( middle_sum (C117 , C119) ) . B126 ) <= ( ( upper_sum (C117 , C118) ) . B126 )) by L242 , L194;
L244: ( ( lim ( upper_sum (C117 , C118) ) ) - ( lim ( lower_sum (C117 , C118) ) ) ) = ( 0 ) by L234 , L235 , L236 , L240 , INTEGRA4:12;
L245: ( lim ( lower_sum (C117 , C118) ) ) = ( integral C117 ) by L244 , L234 , L236 , L240 , INTEGRA4:9;
thus L246: thesis by L245 , L241 , L244 , L239 , L243 , L220;
end;
theorem
L247: (for B127 being non  empty  closed_interval (Subset of ( REAL )) holds (for B128 being (Function of B127 , ( REAL )) holds (B128 is  bounded implies (B128 is  integrable iff (ex B129 being Real st (for B130 being (DivSequence of B127) holds (for B131 being (middle_volume_Sequence of B128 , B130) holds ((( delta B130 ) is  convergent & ( lim ( delta B130 ) ) = ( 0 )) implies (( middle_sum (B128 , B131) ) is  convergent & ( lim ( middle_sum (B128 , B131) ) ) = B129)))))))))
proof
let C120 being non  empty  closed_interval (Subset of ( REAL ));
let C121 being (Function of C120 , ( REAL ));
assume L248: C121 is  bounded;
thus L249:now
assume L250: C121 is  integrable;
take D38 = ( integral C121 );
thus L251: (for B132 being (DivSequence of C120) holds (for B133 being (middle_volume_Sequence of C121 , B132) holds ((( delta B132 ) is  convergent & ( lim ( delta B132 ) ) = ( 0 )) implies (( middle_sum (C121 , B133) ) is  convergent & ( lim ( middle_sum (C121 , B133) ) ) = D38)))) by L248 , L250 , L233;
end;
L252: ( dom C121 ) = C120 by FUNCT_2:def 1;
L253: ( C121 | C120 ) is  bounded by L252 , L248 , RELAT_1:69;
L254:
now
assume L255: (ex B134 being Real st (for B135 being (DivSequence of C120) holds (for B136 being (middle_volume_Sequence of C121 , B135) holds ((( delta B135 ) is  convergent & ( lim ( delta B135 ) ) = ( 0 )) implies (( middle_sum (C121 , B136) ) is  convergent & ( lim ( middle_sum (C121 , B136) ) ) = B134)))));
consider C122 being Real such that L256: (for B137 being (DivSequence of C120) holds (for B138 being (middle_volume_Sequence of C121 , B137) holds ((( delta B137 ) is  convergent & ( lim ( delta B137 ) ) = ( 0 )) implies (( middle_sum (C121 , B138) ) is  convergent & ( lim ( middle_sum (C121 , B138) ) ) = C122)))) by L255;
L257: (for B139 being (DivSequence of C120) holds ((( delta B139 ) is  convergent & ( lim ( delta B139 ) ) = ( 0 )) implies ( lim ( upper_sum (C121 , B139) ) ) = C122))
proof
let C123 being (DivSequence of C120);
set D39 = the (middle_volume_Sequence of C121 , C123);
L258:
now
let C124 being (Element of ( NAT ));
L259: ( ( middle_sum (C121 , D39) ) . C124 ) <= ( ( upper_sum (C121 , C123) ) . C124 ) by L253 , L194;
L260: ( ( ( middle_sum (C121 , D39) ) . C124 ) - ( ( middle_sum (C121 , D39) ) . C124 ) ) <= ( ( ( upper_sum (C121 , C123) ) . C124 ) - ( ( middle_sum (C121 , D39) ) . C124 ) ) by L259 , XREAL_1:9;
thus L261: ( 0 ) <= ( ( ( upper_sum (C121 , C123) ) - ( middle_sum (C121 , D39) ) ) . C124 ) by L260 , VALUED_1:15;
end;
assume L262: (( delta C123 ) is  convergent & ( lim ( delta C123 ) ) = ( 0 ));
L263: ( upper_sum (C121 , C123) ) is  convergent by L262 , L253 , INTEGRA4:9;
L264:
now
let C125 being  real number;
reconsider D40 = C125 as Real by XREAL_0:def 1;
assume L265: ( 0 ) < C125;
consider C126 being (middle_volume_Sequence of C121 , C123) such that L266: (for B140 being (Element of ( NAT )) holds ( ( ( upper_sum (C121 , C123) ) . B140 ) - D40 ) <= ( ( middle_sum (C121 , C126) ) . B140 )) by L265 , L253 , L209;
L267:
now
let C127 being (Element of ( NAT ));
L268: ( ( ( upper_sum (C121 , C123) ) . C127 ) - D40 ) <= ( ( middle_sum (C121 , C126) ) . C127 ) by L266;
L269: ( ( ( ( upper_sum (C121 , C123) ) . C127 ) - D40 ) + D40 ) <= ( ( ( middle_sum (C121 , C126) ) . C127 ) + D40 ) by L268 , XREAL_1:6;
L270: ( ( ( upper_sum (C121 , C123) ) . C127 ) - ( ( middle_sum (C121 , C126) ) . C127 ) ) <= ( ( ( ( middle_sum (C121 , C126) ) . C127 ) + D40 ) - ( ( middle_sum (C121 , C126) ) . C127 ) ) by L269 , XREAL_1:9;
thus L271: ( ( ( upper_sum (C121 , C123) ) - ( middle_sum (C121 , C126) ) ) . C127 ) <= D40 by L270 , VALUED_1:15;
end;
L272: ( middle_sum (C121 , C126) ) is  convergent by L256 , L262;
L273: ( ( upper_sum (C121 , C123) ) - ( middle_sum (C121 , C126) ) ) is  convergent by L272 , L263;
L274: ( lim ( ( upper_sum (C121 , C123) ) - ( middle_sum (C121 , C126) ) ) ) = ( ( lim ( upper_sum (C121 , C123) ) ) - ( lim ( middle_sum (C121 , C126) ) ) ) by L263 , L272 , SEQ_2:12
.= ( ( lim ( upper_sum (C121 , C123) ) ) - C122 ) by L256 , L262;
thus L275: ( ( lim ( upper_sum (C121 , C123) ) ) - C122 ) <= C125 by L274 , L267 , L273 , PREPOWER:2;
end;
L276: ( middle_sum (C121 , D39) ) is  convergent by L256 , L262;
L277: ( ( upper_sum (C121 , C123) ) - ( middle_sum (C121 , D39) ) ) is  convergent by L276 , L263;
L278: ( lim ( ( upper_sum (C121 , C123) ) - ( middle_sum (C121 , D39) ) ) ) = ( ( lim ( upper_sum (C121 , C123) ) ) - ( lim ( middle_sum (C121 , D39) ) ) ) by L263 , L276 , SEQ_2:12
.= ( ( lim ( upper_sum (C121 , C123) ) ) - C122 ) by L256 , L262;
L279: ( 0 ) <= ( ( lim ( upper_sum (C121 , C123) ) ) - C122 ) by L278 , L258 , L277 , SEQ_2:17;
L280: ( ( lim ( upper_sum (C121 , C123) ) ) - C122 ) = ( 0 ) by L279 , L264 , XREAL_1:5;
thus L281: thesis by L280;
end;
L282: (for B141 being (DivSequence of C120) holds ((( delta B141 ) is  convergent & ( lim ( delta B141 ) ) = ( 0 )) implies C122 = ( lim ( lower_sum (C121 , B141) ) )))
proof
let C128 being (DivSequence of C120);
set D41 = the (middle_volume_Sequence of C121 , C128);
L283:
now
let C129 being (Element of ( NAT ));
L284: ( ( lower_sum (C121 , C128) ) . C129 ) <= ( ( middle_sum (C121 , D41) ) . C129 ) by L253 , L190;
L285: ( ( ( lower_sum (C121 , C128) ) . C129 ) - ( ( lower_sum (C121 , C128) ) . C129 ) ) <= ( ( ( middle_sum (C121 , D41) ) . C129 ) - ( ( lower_sum (C121 , C128) ) . C129 ) ) by L284 , XREAL_1:9;
thus L286: ( 0 ) <= ( ( ( middle_sum (C121 , D41) ) - ( lower_sum (C121 , C128) ) ) . C129 ) by L285 , VALUED_1:15;
end;
assume L287: (( delta C128 ) is  convergent & ( lim ( delta C128 ) ) = ( 0 ));
L288: ( lower_sum (C121 , C128) ) is  convergent by L287 , L253 , INTEGRA4:8;
L289:
now
let C130 being  real number;
reconsider D42 = C130 as Real by XREAL_0:def 1;
assume L290: ( 0 ) < C130;
consider C131 being (middle_volume_Sequence of C121 , C128) such that L291: (for B142 being (Element of ( NAT )) holds ( ( middle_sum (C121 , C131) ) . B142 ) <= ( ( ( lower_sum (C121 , C128) ) . B142 ) + D42 )) by L290 , L253 , L198;
L292:
now
let C132 being (Element of ( NAT ));
L293: ( ( middle_sum (C121 , C131) ) . C132 ) <= ( ( ( lower_sum (C121 , C128) ) . C132 ) + D42 ) by L291;
L294: ( ( ( middle_sum (C121 , C131) ) . C132 ) - ( ( lower_sum (C121 , C128) ) . C132 ) ) <= ( ( ( ( lower_sum (C121 , C128) ) . C132 ) + D42 ) - ( ( lower_sum (C121 , C128) ) . C132 ) ) by L293 , XREAL_1:9;
thus L295: ( ( ( middle_sum (C121 , C131) ) - ( lower_sum (C121 , C128) ) ) . C132 ) <= D42 by L294 , VALUED_1:15;
end;
L296: ( middle_sum (C121 , C131) ) is  convergent by L256 , L287;
L297: ( ( middle_sum (C121 , C131) ) - ( lower_sum (C121 , C128) ) ) is  convergent by L296 , L288;
L298: ( lim ( ( middle_sum (C121 , C131) ) - ( lower_sum (C121 , C128) ) ) ) = ( ( lim ( middle_sum (C121 , C131) ) ) - ( lim ( lower_sum (C121 , C128) ) ) ) by L288 , L296 , SEQ_2:12
.= ( C122 - ( lim ( lower_sum (C121 , C128) ) ) ) by L256 , L287;
thus L299: ( C122 - ( lim ( lower_sum (C121 , C128) ) ) ) <= C130 by L298 , L292 , L297 , PREPOWER:2;
end;
L300: ( middle_sum (C121 , D41) ) is  convergent by L256 , L287;
L301: ( ( middle_sum (C121 , D41) ) - ( lower_sum (C121 , C128) ) ) is  convergent by L300 , L288;
L302: ( lim ( ( middle_sum (C121 , D41) ) - ( lower_sum (C121 , C128) ) ) ) = ( ( lim ( middle_sum (C121 , D41) ) ) - ( lim ( lower_sum (C121 , C128) ) ) ) by L288 , L300 , SEQ_2:12
.= ( C122 - ( lim ( lower_sum (C121 , C128) ) ) ) by L256 , L287;
L303: ( 0 ) <= ( C122 - ( lim ( lower_sum (C121 , C128) ) ) ) by L302 , L283 , L301 , SEQ_2:17;
L304: ( C122 - ( lim ( lower_sum (C121 , C128) ) ) ) = ( 0 ) by L303 , L289 , XREAL_1:5;
thus L305: thesis by L304;
end;
L306:
now
let C133 being (DivSequence of C120);
assume L307: (( delta C133 ) is  convergent & ( lim ( delta C133 ) ) = ( 0 ));
thus L308: ( ( lim ( upper_sum (C121 , C133) ) ) - ( lim ( lower_sum (C121 , C133) ) ) ) = ( ( lim ( upper_sum (C121 , C133) ) ) - C122 ) by L307 , L282
.= ( C122 - C122 ) by L257 , L307
.= ( 0 );
end;
thus L309: C121 is  integrable by L306 , L253 , INTEGRA4:12;
end;
thus L310: thesis by L254;
end;
definition
let C134 being (Element of ( NAT ));
let C135 being non  empty  closed_interval (Subset of ( REAL ));
let C136 being (Function of C135 , ( REAL C134 ));
let C137 being (Division of C135);
mode middle_volume of C136 , C137
 -> (FinSequence of ( REAL C134 ))
means :L311: (( len it ) = ( len C137 ) & (for B143 being Nat holds (B143 in ( dom C137 ) implies (ex B144 being (Element of ( REAL C134 )) st (B144 in ( rng ( C136 | ( divset (C137 , B143) ) ) ) & ( it . B143 ) = ( ( vol ( divset (C137 , B143) ) ) * B144 ))))));
correctness
proof
defpred S7[ Nat , set ] means (ex B145 being (Element of ( REAL C134 )) st (B145 in ( rng ( C136 | ( divset (C137 , $1) ) ) ) & $2 = ( ( vol ( divset (C137 , $1) ) ) * B145 )));
L312: ( Seg ( len C137 ) ) = ( dom C137 ) by FINSEQ_1:def 3;
L313: (for B146 being Nat holds (B146 in ( Seg ( len C137 ) ) implies (ex B147 being (Element of ( REAL C134 )) st S7[ B146 , B147 ])))
proof
let C138 being Nat;
assume L314: C138 in ( Seg ( len C137 ) );
L315: C138 in ( dom C137 ) by L314 , FINSEQ_1:def 3;
L316: ( dom C136 ) = C135 by FUNCT_2:def 1;
L317: ( dom ( C136 | ( divset (C137 , C138) ) ) ) = ( divset (C137 , C138) ) by L316 , L315 , INTEGRA1:8 , RELAT_1:62;
L318: ( rng ( C136 | ( divset (C137 , C138) ) ) ) is non  empty by L317 , RELAT_1:42;
consider C139 being set such that L319: C139 in ( rng ( C136 | ( divset (C137 , C138) ) ) ) by L318 , XBOOLE_0:def 1;
reconsider D43 = C139 as (Element of ( REAL C134 )) by L319;
L320: ( ( vol ( divset (C137 , C138) ) ) * D43 ) is (Element of ( REAL C134 ));
thus L321: thesis by L320 , L319;
end;
consider C140 being (FinSequence of ( REAL C134 )) such that L322: (( dom C140 ) = ( Seg ( len C137 ) ) & (for B148 being Nat holds (B148 in ( Seg ( len C137 ) ) implies S7[ B148 , ( C140 . B148 ) ]))) from FINSEQ_1:sch 5(L313);
L323: ( len C140 ) = ( len C137 ) by L322 , FINSEQ_1:def 3;
thus L324: thesis by L323 , L322 , L312;
end;
end;
definition
let C141 being (Element of ( NAT ));
let C142 being non  empty  closed_interval (Subset of ( REAL ));
let C143 being (Function of C142 , ( REAL C141 ));
let C144 being (Division of C142);
let C145 being (middle_volume of C143 , C144);
func middle_sum (C143 , C145) -> (Element of ( REAL C141 )) means 
:L326: (for B149 being (Element of ( NAT )) holds (B149 in ( Seg C141 ) implies (ex B150 being (FinSequence of ( REAL )) st (B150 = ( ( proj (B149 , C141) ) * C145 ) & ( it . B149 ) = ( Sum B150 )))));
existence
proof
defpred S8[ Nat , (Element of ( REAL )) ] means (ex B151 being (Element of ( NAT )) st (ex B152 being (FinSequence of ( REAL )) st ($1 = B151 & B152 = ( ( proj (B151 , C141) ) * C145 ) & $2 = ( Sum B152 ))));
L327: (for B153 being Nat holds (B153 in ( Seg C141 ) implies (ex B154 being (Element of ( REAL )) st S8[ B153 , B154 ])))
proof
let C146 being Nat;
assume L328: C146 in ( Seg C141 );
reconsider D44 = C146 as (Element of ( NAT )) by L328;
reconsider D45 = ( ( proj (D44 , C141) ) * C145 ) as (FinSequence of ( REAL ));
reconsider D46 = ( Sum D45 ) as (Element of ( REAL ));
take D46;
thus L329: (ex B155 being (Element of ( NAT )) st (ex B156 being (FinSequence of ( REAL )) st (C146 = B155 & B156 = ( ( proj (B155 , C141) ) * C145 ) & D46 = ( Sum B156 ))));
end;
consider C147 being (FinSequence of ( REAL )) such that L330: (( dom C147 ) = ( Seg C141 ) & (for B157 being Nat holds (B157 in ( Seg C141 ) implies S8[ B157 , ( C147 . B157 ) ]))) from FINSEQ_1:sch 5(L327);
take C147;
L331: (for B158 being (Element of ( NAT )) holds (B158 in ( Seg C141 ) implies (ex B159 being (FinSequence of ( REAL )) st (B159 = ( ( proj (B158 , C141) ) * C145 ) & ( C147 . B158 ) = ( Sum B159 )))))
proof
let C148 being (Element of ( NAT ));
reconsider D47 = C148 as Nat;
assume L332: C148 in ( Seg C141 );
L333: S8[ D47 , ( C147 . D47 ) ] by L332 , L330;
thus L334: thesis by L333;
end;
L335: ( len C147 ) = C141 by L330 , FINSEQ_1:def 3;
thus L336: thesis by L335 , L331 , FINSEQ_2:92;
end;
uniqueness
proof
let C149 , C150 being (Element of ( REAL C141 ));
assume that
L337: ((for B160 being (Element of ( NAT )) holds (B160 in ( Seg C141 ) implies (ex B161 being (FinSequence of ( REAL )) st (B161 = ( ( proj (B160 , C141) ) * C145 ) & ( C149 . B160 ) = ( Sum B161 ))))) & (for B162 being (Element of ( NAT )) holds (B162 in ( Seg C141 ) implies (ex B163 being (FinSequence of ( REAL )) st (B163 = ( ( proj (B162 , C141) ) * C145 ) & ( C150 . B162 ) = ( Sum B163 ))))));
L338: (for B164 being Nat holds (B164 in ( dom C149 ) implies ( C149 . B164 ) = ( C150 . B164 )))
proof
let C151 being Nat;
assume L339: C151 in ( dom C149 );
reconsider D48 = C151 as (Element of ( NAT )) by L339;
L340: ( len C149 ) = C141 by CARD_1:def 7;
L341: C151 in ( Seg C141 ) by L340 , L339 , FINSEQ_1:def 3;
L342: ((ex B165 being (FinSequence of ( REAL )) st (B165 = ( ( proj (D48 , C141) ) * C145 ) & ( C149 . D48 ) = ( Sum B165 ))) & (ex B166 being (FinSequence of ( REAL )) st (B166 = ( ( proj (D48 , C141) ) * C145 ) & ( C150 . D48 ) = ( Sum B166 )))) by L341 , L337;
thus L343: thesis by L342;
end;
L344: ( len C150 ) = C141 by CARD_1:def 7;
L345: ( len C149 ) = C141 by CARD_1:def 7;
L346: ( dom C149 ) = ( Seg C141 ) by L345 , FINSEQ_1:def 3
.= ( dom C150 ) by L344 , FINSEQ_1:def 3;
thus L347: thesis by L346 , L338 , FINSEQ_1:13;
end;
end;
definition
let C152 being (Element of ( NAT ));
let C153 being non  empty  closed_interval (Subset of ( REAL ));
let C154 being (Function of C153 , ( REAL C152 ));
let C155 being (DivSequence of C153);
mode middle_volume_Sequence of C154 , C155
 -> (Function of ( NAT ) , ( ( REAL C152 ) * ))
means :L349: (for B167 being (Element of ( NAT )) holds ( it . B167 ) is (middle_volume of C154 , ( C155 . B167 )));
correctness
proof
defpred S9[ (Element of ( NAT )) , set ] means $2 is (middle_volume of C154 , ( C155 . $1 ));
L350: (for B168 being (Element of ( NAT )) holds (ex B169 being (Element of ( ( REAL C152 ) * )) st S9[ B168 , B169 ]))
proof
let C156 being (Element of ( NAT ));
set D49 = the (middle_volume of C154 , ( C155 . C156 ));
reconsider D50 = D49 as (Element of ( ( REAL C152 ) * )) by FINSEQ_1:def 11;
L351: D50 is (middle_volume of C154 , ( C155 . C156 ));
thus L352: thesis by L351;
end;
L353: (ex B170 being (Function of ( NAT ) , ( ( REAL C152 ) * )) st (for B171 being (Element of ( NAT )) holds S9[ B171 , ( B170 . B171 ) ])) from FUNCT_2:sch 3(L350);
thus L354: thesis by L353;
end;
end;
definition
let C157 being (Element of ( NAT ));
let C158 being non  empty  closed_interval (Subset of ( REAL ));
let C159 being (Function of C158 , ( REAL C157 ));
let C160 being (DivSequence of C158);
let C161 being (middle_volume_Sequence of C159 , C160);
let C162 being (Element of ( NAT ));
redefine func C161 . C162 -> (middle_volume of C159 , ( C160 . C162 ));

coherence by L349;
end;
definition
let C163 being (Element of ( NAT ));
let C164 being non  empty  closed_interval (Subset of ( REAL ));
let C165 being (Function of C164 , ( REAL C163 ));
let C166 being (DivSequence of C164);
let C167 being (middle_volume_Sequence of C165 , C166);
func middle_sum (C165 , C167) -> (sequence of ( REAL-NS C163 )) means 
:L357: (for B172 being (Element of ( NAT )) holds ( it . B172 ) = ( middle_sum (C165 , ( C167 . B172 )) ));
existence
proof
deffunc H2((Element of ( NAT ))) = ( middle_sum (C165 , ( C167 . $1 )) );
L358: ( REAL C163 ) = (the carrier of ( REAL-NS C163 )) by REAL_NS1:def 4;
L359: (ex B173 being (sequence of ( REAL C163 )) st (for B174 being (Element of ( NAT )) holds ( B173 . B174 ) = H2(B174))) from FUNCT_2:sch 4;
thus L360: thesis by L359 , L358;
end;
uniqueness
proof
let C168 , C169 being (sequence of ( REAL-NS C163 ));
assume that
L361: (for B175 being (Element of ( NAT )) holds ( C168 . B175 ) = ( middle_sum (C165 , ( C167 . B175 )) ))
and
L362: (for B176 being (Element of ( NAT )) holds ( C169 . B176 ) = ( middle_sum (C165 , ( C167 . B176 )) ));
L363: (for B177 being (Element of ( NAT )) holds ( C168 . B177 ) = ( C169 . B177 ))
proof
let C170 being (Element of ( NAT ));
thus L364: ( C168 . C170 ) = ( middle_sum (C165 , ( C167 . C170 )) ) by L361
.= ( C169 . C170 ) by L362;
end;
thus L365: C168 = C169 by L363 , FUNCT_2:63;
end;
end;
definition
let C171 being Nat;
let C172 being set;
let C173 , C174 being (PartFunc of C172 , ( REAL C171 ));
func C173 + C174 -> (PartFunc of C172 , ( REAL C171 )) equals 
( C173 <++> C174 );
coherence
proof
set D51 = ( C173 <++> C174 );
L367: ( rng D51 ) c= ( REAL C171 )
proof
let C175 being set;
assume L368: C175 in ( rng D51 );
consider C176 being set such that L369: C176 in ( dom D51 ) and L370: ( D51 . C176 ) = C175 by L368 , FUNCT_1:def 3;
L371: ( dom D51 ) = ( ( dom C173 ) /\ ( dom C174 ) ) by VALUED_2:def 45;
L372: (C176 in ( dom C173 ) & C176 in ( dom C174 )) by L371 , L369 , XBOOLE_0:def 4;
L373: (( C173 . C176 ) = ( C173 /. C176 ) & ( C174 . C176 ) = ( C174 /. C176 )) by L372 , PARTFUN1:def 6;
L374: ( ( C173 /. C176 ) + ( C174 /. C176 ) ) in ( REAL C171 );
thus L375: thesis by L374 , L370 , L373 , L369 , VALUED_2:def 45;
end;
thus L376: thesis by L367 , RELSET_1:6;
end;
func C173 - C174 -> (PartFunc of C172 , ( REAL C171 )) equals 
( C173 <--> C174 );
coherence
proof
set D52 = ( C173 <--> C174 );
L377: ( rng D52 ) c= ( REAL C171 )
proof
let C177 being set;
assume L378: C177 in ( rng D52 );
consider C178 being set such that L379: C178 in ( dom D52 ) and L380: ( D52 . C178 ) = C177 by L378 , FUNCT_1:def 3;
L381: ( dom D52 ) = ( ( dom C173 ) /\ ( dom C174 ) ) by VALUED_2:def 46;
L382: (C178 in ( dom C173 ) & C178 in ( dom C174 )) by L381 , L379 , XBOOLE_0:def 4;
L383: (( C173 . C178 ) = ( C173 /. C178 ) & ( C174 . C178 ) = ( C174 /. C178 )) by L382 , PARTFUN1:def 6;
L384: ( ( C173 /. C178 ) - ( C174 /. C178 ) ) in ( REAL C171 );
thus L385: thesis by L384 , L380 , L383 , L379 , VALUED_2:def 46;
end;
thus L386: thesis by L377 , RELSET_1:6;
end;
end;
definition
let C179 being Nat;
let C180 being  real number;
let C181 being set;
let C182 being (PartFunc of C181 , ( REAL C179 ));
func C180 (#) C182 -> (PartFunc of C181 , ( REAL C179 )) equals 
( C182 [#] C180 );
coherence
proof
set D53 = ( C182 [#] C180 );
L388: ( rng D53 ) c= ( REAL C179 )
proof
let C183 being set;
assume L389: C183 in ( rng D53 );
consider C184 being set such that L390: C184 in ( dom D53 ) and L391: ( D53 . C184 ) = C183 by L389 , FUNCT_1:def 3;
L392: ( dom D53 ) = ( dom C182 ) by VALUED_2:def 39;
L393: ( C182 . C184 ) = ( C182 /. C184 ) by L392 , L390 , PARTFUN1:def 6;
L394: ( C180 * ( C182 /. C184 ) ) in ( REAL C179 );
thus L395: thesis by L394 , L391 , L393 , L390 , VALUED_2:def 39;
end;
thus L396: thesis by L388 , RELSET_1:6;
end;
end;
begin
definition
let C185 being (Element of ( NAT ));
let C186 being non  empty  closed_interval (Subset of ( REAL ));
let C187 being (Function of C186 , ( REAL C185 ));
attr C187 is  bounded
means
:L398: (for B178 being (Element of ( NAT )) holds (B178 in ( Seg C185 ) implies ( ( proj (B178 , C185) ) * C187 ) is  bounded));
end;
L400: (for B179 , B180 being (Element of ( NAT )) holds (for B181 being (PartFunc of ( REAL ) , ( REAL B179 )) holds (for B182 being (Element of ( NAT )) holds (for B183 being (Subset of ( REAL )) holds ( ( proj (B182 , B179) ) * ( B181 | B183 ) ) = ( ( ( proj (B182 , B179) ) * B181 ) | B183 )))))
proof
let C188 , C189 being (Element of ( NAT ));
let C190 being (PartFunc of ( REAL ) , ( REAL C188 ));
let C191 being (Element of ( NAT ));
let C192 being (Subset of ( REAL ));
L401: ( dom ( proj (C191 , C188) ) ) = ( REAL C188 ) by FUNCT_2:def 1;
L402: ( rng C190 ) c= ( dom ( proj (C191 , C188) ) ) by L401;
L403: ( rng ( C190 | C192 ) ) c= ( dom ( proj (C191 , C188) ) ) by L401;
L404:
now
let C193 being set;
assume L405: C193 in ( dom ( ( ( proj (C191 , C188) ) * C190 ) | C192 ) );
L406: C193 in ( ( dom ( ( proj (C191 , C188) ) * C190 ) ) /\ C192 ) by L405 , RELAT_1:61;
L407: C193 in C192 by L406 , XBOOLE_0:def 4;
L408: C193 in ( dom ( ( proj (C191 , C188) ) * C190 ) ) by L406 , XBOOLE_0:def 4;
L409: C193 in ( dom C190 ) by L408 , L402 , RELAT_1:27;
L410: C193 in ( ( dom C190 ) /\ C192 ) by L409 , L407 , XBOOLE_0:def 4;
L411: C193 in ( dom ( C190 | C192 ) ) by L410 , RELAT_1:61;
L412: C193 in ( dom ( ( proj (C191 , C188) ) * ( C190 | C192 ) ) ) by L411 , L403 , RELAT_1:27;
L413: ( ( ( proj (C191 , C188) ) * ( C190 | C192 ) ) . C193 ) = ( ( proj (C191 , C188) ) . ( ( C190 | C192 ) . C193 ) ) by L412 , FUNCT_1:12
.= ( ( proj (C191 , C188) ) . ( C190 . C193 ) ) by L411 , FUNCT_1:47
.= ( ( ( proj (C191 , C188) ) * C190 ) . C193 ) by L408 , FUNCT_1:12;
thus L414: ( ( ( ( proj (C191 , C188) ) * C190 ) | C192 ) . C193 ) = ( ( ( proj (C191 , C188) ) * ( C190 | C192 ) ) . C193 ) by L413 , L405 , FUNCT_1:47;
end;
L415: ( dom ( ( ( proj (C191 , C188) ) * C190 ) | C192 ) ) = ( ( dom ( ( proj (C191 , C188) ) * C190 ) ) /\ C192 ) by RELAT_1:61
.= ( ( dom C190 ) /\ C192 ) by L402 , RELAT_1:27
.= ( dom ( C190 | C192 ) ) by RELAT_1:61
.= ( dom ( ( proj (C191 , C188) ) * ( C190 | C192 ) ) ) by L403 , RELAT_1:27;
thus L416: thesis by L415 , L404 , FUNCT_1:2;
end;
definition
let C194 being (Element of ( NAT ));
let C195 being non  empty  closed_interval (Subset of ( REAL ));
let C196 being (Function of C195 , ( REAL C194 ));
attr C196 is  integrable
means
:L417: (for B184 being (Element of ( NAT )) holds (B184 in ( Seg C194 ) implies ( ( proj (B184 , C194) ) * C196 ) is  integrable));
end;
definition
let C197 being (Element of ( NAT ));
let C198 being non  empty  closed_interval (Subset of ( REAL ));
let C199 being (Function of C198 , ( REAL C197 ));
func integral C199 -> (Element of ( REAL C197 )) means 
:L419: (( dom it ) = ( Seg C197 ) & (for B185 being (Element of ( NAT )) holds (B185 in ( Seg C197 ) implies ( it . B185 ) = ( integral ( ( proj (B185 , C197) ) * C199 ) ))));
existence
proof
defpred S10[ Nat , (Element of ( REAL )) ] means (ex B186 being (Element of ( NAT )) st ($1 = B186 & $2 = ( integral ( ( proj (B186 , C197) ) * C199 ) )));
L420: (for B187 being Nat holds (B187 in ( Seg C197 ) implies (ex B188 being (Element of ( REAL )) st S10[ B187 , B188 ])))
proof
let C200 being Nat;
assume L421: C200 in ( Seg C197 );
reconsider D54 = C200 as (Element of ( NAT )) by L421;
consider C201 being (Element of ( REAL )) such that L422: C201 = ( integral ( ( proj (D54 , C197) ) * C199 ) );
take C201;
thus L423: thesis by L422;
end;
consider C202 being (FinSequence of ( REAL )) such that L424: (( dom C202 ) = ( Seg C197 ) & (for B189 being Nat holds (B189 in ( Seg C197 ) implies S10[ B189 , ( C202 . B189 ) ]))) from FINSEQ_1:sch 5(L420);
take C202;
L425: (for B190 being (Element of ( NAT )) holds (B190 in ( Seg C197 ) implies ( C202 . B190 ) = ( integral ( ( proj (B190 , C197) ) * C199 ) )))
proof
let C203 being (Element of ( NAT ));
assume L426: C203 in ( Seg C197 );
L427: S10[ C203 , ( C202 . C203 ) ] by L426 , L424;
thus L428: thesis by L427;
end;
L429: ( len C202 ) = C197 by L424 , FINSEQ_1:def 3;
thus L430: thesis by L429 , L424 , L425 , FINSEQ_2:92;
end;
uniqueness
proof
let C204 , C205 being (Element of ( REAL C197 ));
assume that
L431: ( dom C204 ) = ( Seg C197 )
and
L432: (for B191 being (Element of ( NAT )) holds (B191 in ( Seg C197 ) implies ( C204 . B191 ) = ( integral ( ( proj (B191 , C197) ) * C199 ) )))
and
L433: ( dom C205 ) = ( Seg C197 )
and
L434: (for B192 being (Element of ( NAT )) holds (B192 in ( Seg C197 ) implies ( C205 . B192 ) = ( integral ( ( proj (B192 , C197) ) * C199 ) )));
L435:
now
let C206 being Nat;
assume L436: C206 in ( dom C204 );
reconsider D55 = C206 as (Element of ( NAT )) by L436;
L437: ( C204 . D55 ) = ( integral ( ( proj (D55 , C197) ) * C199 ) ) by L431 , L432 , L436
.= ( C205 . D55 ) by L431 , L434 , L436;
thus L438: ( C204 . C206 ) = ( C205 . C206 ) by L437;
end;
thus L439: thesis by L435 , L431 , L433 , FINSEQ_1:13;
end;
end;
theorem
L441: (for B193 being (Element of ( NAT )) holds (for B194 being non  empty  closed_interval (Subset of ( REAL )) holds (for B195 being (Function of B194 , ( REAL B193 )) holds (for B196 being (DivSequence of B194) holds (for B197 being (middle_volume_Sequence of B195 , B196) holds ((B195 is  bounded & B195 is  integrable & ( delta B196 ) is  convergent & ( lim ( delta B196 ) ) = ( 0 )) implies (( middle_sum (B195 , B197) ) is  convergent & ( lim ( middle_sum (B195 , B197) ) ) = ( integral B195 ))))))))
proof
let C207 being (Element of ( NAT ));
let C208 being non  empty  closed_interval (Subset of ( REAL ));
let C209 being (Function of C208 , ( REAL C207 ));
let C210 being (DivSequence of C208);
let C211 being (middle_volume_Sequence of C209 , C210);
assume that
L442: (C209 is  bounded & C209 is  integrable)
and
L443: (( delta C210 ) is  convergent & ( lim ( delta C210 ) ) = ( 0 ));
set D56 = ( middle_sum (C209 , C211) );
set D57 = ( integral C209 );
L444: ( REAL C207 ) = (the carrier of ( REAL-NS C207 )) by REAL_NS1:def 4;
reconsider D58 = D56 as (Function of ( NAT ) , ( REAL C207 )) by L444;
L445: (for B198 being (Element of ( NAT )) holds (B198 in ( Seg C207 ) implies (ex B199 being Real_Sequence st (for B200 being (Element of ( NAT )) holds (( B199 . B200 ) = ( ( D58 . B200 ) . B198 ) & B199 is  convergent & ( D57 . B198 ) = ( lim B199 ))))))
proof
let C212 being (Element of ( NAT ));
reconsider D59 = ( ( proj (C212 , C207) ) * C209 ) as (Function of C208 , ( REAL ));
defpred S11[ (Element of ( NAT )) , set ] means $2 = ( ( proj (C212 , C207) ) * ( C211 . $1 ) );
L446: (for B201 being (Element of ( NAT )) holds (ex B202 being (Element of ( ( REAL ) * )) st S11[ B201 , B202 ]))
proof
let C213 being (Element of ( NAT ));
L447: ( ( proj (C212 , C207) ) * ( C211 . C213 ) ) is (Element of ( ( REAL ) * )) by FINSEQ_1:def 11;
thus L448: thesis by L447;
end;
consider C214 being (Function of ( NAT ) , ( ( REAL ) * )) such that L449: (for B203 being (Element of ( NAT )) holds S11[ B203 , ( C214 . B203 ) ]) from FUNCT_2:sch 3(L446);
L450: (for B204 being (Element of ( NAT )) holds (( ( proj (C212 , C207) ) * ( C211 . B204 ) ) is (FinSequence of ( REAL )) & ( dom ( ( proj (C212 , C207) ) * ( C211 . B204 ) ) ) = ( Seg ( len ( C211 . B204 ) ) ) & ( rng ( ( proj (C212 , C207) ) * ( C211 . B204 ) ) ) c= ( REAL )))
proof
let C215 being (Element of ( NAT ));
L451: ( dom ( proj (C212 , C207) ) ) = ( REAL C207 ) by FUNCT_2:def 1;
L452: ( rng ( C211 . C215 ) ) c= ( dom ( proj (C212 , C207) ) ) by L451;
L453: ( dom ( ( proj (C212 , C207) ) * ( C211 . C215 ) ) ) = ( dom ( C211 . C215 ) ) by L452 , RELAT_1:27
.= ( Seg ( len ( C211 . C215 ) ) ) by FINSEQ_1:def 3;
thus L454: thesis by L453;
end;
L455: (for B205 being (Element of ( NAT )) holds ( C214 . B205 ) is (middle_volume of D59 , ( C210 . B205 )))
proof
let C216 being (Element of ( NAT ));
reconsider D60 = ( C210 . C216 ) as FinSequence;
reconsider D61 = ( C214 . C216 ) as (FinSequence of ( REAL )) by FINSEQ_1:def 11;
L456: ( C214 . C216 ) = ( ( proj (C212 , C207) ) * ( C211 . C216 ) ) by L449;
L457: ( dom D61 ) = ( Seg ( len ( C211 . C216 ) ) ) by L456 , L450
.= ( Seg ( len D60 ) ) by L311;
L458: ( dom D61 ) = ( dom D60 ) by L457 , FINSEQ_1:def 3;
L459:
now
let C217 being Nat;
L460: ( dom ( proj (C212 , C207) ) ) = ( REAL C207 ) by FUNCT_2:def 1;
L461: ( rng C209 ) c= ( dom ( proj (C212 , C207) ) ) by L460;
assume L462: C217 in ( dom D60 );
consider C218 being (Element of ( REAL C207 )) such that L463: C218 in ( rng ( C209 | ( divset (( C210 . C216 ) , C217) ) ) ) and L464: ( ( C211 . C216 ) . C217 ) = ( ( vol ( divset (( C210 . C216 ) , C217) ) ) * C218 ) by L462 , L311;
reconsider D62 = ( ( proj (C212 , C207) ) . C218 ) as (Element of ( REAL ));
take D63 = D62;
consider C219 being set such that L465: C219 in ( dom ( C209 | ( divset (( C210 . C216 ) , C217) ) ) ) and L466: C218 = ( ( C209 | ( divset (( C210 . C216 ) , C217) ) ) . C219 ) by L463 , FUNCT_1:def 3;
L467: C219 in ( ( dom C209 ) /\ ( divset (( C210 . C216 ) , C217) ) ) by L465 , RELAT_1:61;
L468: C219 in ( dom C209 ) by L467 , XBOOLE_0:def 4;
L469: C219 in ( dom ( ( proj (C212 , C207) ) * C209 ) ) by L468 , L461 , RELAT_1:27;
L470: ( dom ( C209 | ( divset (( C210 . C216 ) , C217) ) ) ) = ( ( dom C209 ) /\ ( divset (( C210 . C216 ) , C217) ) ) by RELAT_1:61
.= ( ( dom D59 ) /\ ( divset (( C210 . C216 ) , C217) ) ) by L461 , RELAT_1:27
.= ( dom ( D59 | ( divset (( C210 . C216 ) , C217) ) ) ) by RELAT_1:61;
L471: ( ( proj (C212 , C207) ) . C218 ) = ( ( proj (C212 , C207) ) . ( C209 . C219 ) ) by L465 , L466 , FUNCT_1:47
.= ( ( ( proj (C212 , C207) ) * C209 ) . C219 ) by L469 , FUNCT_1:12
.= ( ( D59 | ( divset (( C210 . C216 ) , C217) ) ) . C219 ) by L465 , L470 , FUNCT_1:47;
thus L472: D63 in ( rng ( D59 | ( divset (( C210 . C216 ) , C217) ) ) ) by L471 , L465 , L470 , FUNCT_1:3;
thus L473: ( D61 . C217 ) = ( ( proj (C212 , C207) ) . ( ( C211 . C216 ) . C217 ) ) by L456 , L458 , L462 , FUNCT_1:12
.= ( ( ( vol ( divset (( C210 . C216 ) , C217) ) ) * C218 ) . C212 ) by L464 , PDIFF_1:def 1
.= ( ( vol ( divset (( C210 . C216 ) , C217) ) ) * ( C218 . C212 ) ) by RVSUM_1:44
.= ( D63 * ( vol ( divset (( C210 . C216 ) , C217) ) ) ) by PDIFF_1:def 1;
end;
L474: ( len D61 ) = ( len D60 ) by L457 , FINSEQ_1:def 3;
thus L475: thesis by L474 , L459 , L1;
end;
reconsider D64 = C214 as (middle_volume_Sequence of D59 , C210) by L455 , L173;
reconsider D65 = ( middle_sum (D59 , D64) ) as Real_Sequence;
assume L476: C212 in ( Seg C207 );
L477: (for B206 being (Element of ( NAT )) holds ( D65 . B206 ) = ( ( D58 . B206 ) . C212 ))
proof
let C220 being (Element of ( NAT ));
L478: (ex B207 being (FinSequence of ( REAL )) st (B207 = ( ( proj (C212 , C207) ) * ( C211 . C220 ) ) & ( ( middle_sum (C209 , ( C211 . C220 )) ) . C212 ) = ( Sum B207 ))) by L476 , L326;
thus L479: ( D65 . C220 ) = ( middle_sum (D59 , ( D64 . C220 )) ) by L181
.= ( ( middle_sum (C209 , ( C211 . C220 )) ) . C212 ) by L449 , L478
.= ( ( D58 . C220 ) . C212 ) by L357;
end;
take D65;
L480: (( ( proj (C212 , C207) ) * C209 ) is  bounded & D59 is  integrable) by L442 , L476 , L398 , L417;
L481: ( lim ( middle_sum (D59 , D64) ) ) = ( integral D59 ) by L480 , L443 , L233;
thus L482: thesis by L481 , L443 , L476 , L480 , L477 , L419 , L233;
end;
reconsider D66 = D57 as (Point of ( REAL-NS C207 )) by REAL_NS1:def 4;
L483: D57 = D66;
thus L484: thesis by L483 , L445 , REAL_NS1:11;
end;
theorem
L485: (for B208 being (Element of ( NAT )) holds (for B209 being non  empty  closed_interval (Subset of ( REAL )) holds (for B210 being (Function of B209 , ( REAL B208 )) holds (B210 is  bounded implies (B210 is  integrable iff (ex B211 being (Element of ( REAL B208 )) st (for B212 being (DivSequence of B209) holds (for B213 being (middle_volume_Sequence of B210 , B212) holds ((( delta B212 ) is  convergent & ( lim ( delta B212 ) ) = ( 0 )) implies (( middle_sum (B210 , B213) ) is  convergent & ( lim ( middle_sum (B210 , B213) ) ) = B211))))))))))
proof
let C221 being (Element of ( NAT ));
let C222 being non  empty  closed_interval (Subset of ( REAL ));
let C223 being (Function of C222 , ( REAL C221 ));
assume L486: C223 is  bounded;
thus L487:now
reconsider D67 = ( integral C223 ) as (Element of ( REAL C221 ));
assume L488: C223 is  integrable;
take D68 = D67;
thus L489: (for B214 being (DivSequence of C222) holds (for B215 being (middle_volume_Sequence of C223 , B214) holds ((( delta B214 ) is  convergent & ( lim ( delta B214 ) ) = ( 0 )) implies (( middle_sum (C223 , B215) ) is  convergent & ( lim ( middle_sum (C223 , B215) ) ) = D68)))) by L486 , L488 , L441;
end;
L490:
now
assume L491: (ex B216 being (Element of ( REAL C221 )) st (for B217 being (DivSequence of C222) holds (for B218 being (middle_volume_Sequence of C223 , B217) holds ((( delta B217 ) is  convergent & ( lim ( delta B217 ) ) = ( 0 )) implies (( middle_sum (C223 , B218) ) is  convergent & ( lim ( middle_sum (C223 , B218) ) ) = B216)))));
consider C224 being (Element of ( REAL C221 )) such that L492: (for B219 being (DivSequence of C222) holds (for B220 being (middle_volume_Sequence of C223 , B219) holds ((( delta B219 ) is  convergent & ( lim ( delta B219 ) ) = ( 0 )) implies (( middle_sum (C223 , B220) ) is  convergent & ( lim ( middle_sum (C223 , B220) ) ) = C224)))) by L491;
L493:
now
let C225 being (Element of ( NAT ));
reconsider D69 = ( C224 . C225 ) as (Element of ( REAL ));
assume L494: C225 in ( Seg C221 );
L495:
now
set D70 = C224;
let C226 being (DivSequence of C222);
let C227 being (middle_volume_Sequence of ( ( proj (C225 , C221) ) * C223 ) , C226);
defpred S12[ (Element of ( NAT )) , set ] means (ex B221 being FinSequence st (ex B222 being FinSequence st (B221 = ( C226 . $1 ) & B222 = $2 & ( len B222 ) = ( len B221 ) & (for B223 being (Element of ( NAT )) holds (B223 in ( dom B221 ) implies (ex B224 being (Element of ( REAL C221 )) st (ex B225 being (Element of ( REAL )) st (B225 in ( dom ( C223 | ( divset (( C226 . $1 ) , B223) ) ) ) & ( ( C227 . $1 ) . B223 ) = ( ( vol ( divset (( C226 . $1 ) , B223) ) ) * ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . $1 ) , B223) ) ) . B225 ) ) & B224 = ( ( C223 | ( divset (( C226 . $1 ) , B223) ) ) . B225 ) & ( B222 . B223 ) = ( ( vol ( divset (( C226 . $1 ) , B223) ) ) * B224 )))))))));
reconsider D71 = D70 as (Element of ( REAL C221 ));
L496: (for B226 being (Element of ( NAT )) holds (ex B227 being (Element of ( ( REAL C221 ) * )) st S12[ B226 , B227 ]))
proof
let C228 being (Element of ( NAT ));
reconsider D72 = ( C226 . C228 ) as FinSequence;
defpred S13[ Nat , set ] means (ex B228 being (Element of ( NAT )) st ($1 = B228 & (ex B229 being (Element of ( REAL C221 )) st (ex B230 being (Element of ( REAL )) st (B230 in ( dom ( C223 | ( divset (( C226 . C228 ) , B228) ) ) ) & ( ( C227 . C228 ) . B228 ) = ( ( vol ( divset (( C226 . C228 ) , B228) ) ) * ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C228 ) , B228) ) ) . B230 ) ) & B229 = ( ( C223 | ( divset (( C226 . C228 ) , B228) ) ) . B230 ) & $2 = ( ( vol ( divset (( C226 . C228 ) , B228) ) ) * B229 ))))));
L497: (for B231 being Nat holds (B231 in ( Seg ( len D72 ) ) implies (ex B232 being (Element of ( REAL C221 )) st S13[ B231 , B232 ])))
proof
L498: ( dom ( proj (C225 , C221) ) ) = ( REAL C221 ) by FUNCT_2:def 1;
L499: ( rng C223 ) c= ( dom ( proj (C225 , C221) ) ) by L498;
let C229 being Nat;
assume L500: C229 in ( Seg ( len D72 ) );
reconsider D73 = C229 as (Element of ( NAT )) by L500;
L501: D73 in ( dom D72 ) by L500 , FINSEQ_1:def 3;
consider C230 being (Element of ( REAL )) such that L502: C230 in ( rng ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C228 ) , D73) ) ) ) and L503: ( ( C227 . C228 ) . D73 ) = ( C230 * ( vol ( divset (( C226 . C228 ) , D73) ) ) ) by L501 , L1;
consider C231 being set such that L504: C231 in ( dom ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C228 ) , D73) ) ) ) and L505: C230 = ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C228 ) , D73) ) ) . C231 ) by L502 , FUNCT_1:def 3;
L506: C231 in ( ( dom ( ( proj (C225 , C221) ) * C223 ) ) /\ ( divset (( C226 . C228 ) , D73) ) ) by L504 , RELAT_1:61;
reconsider D74 = C231 as (Element of ( REAL )) by L506;
L507: ( dom ( C223 | ( divset (( C226 . C228 ) , D73) ) ) ) = ( ( dom C223 ) /\ ( divset (( C226 . C228 ) , D73) ) ) by RELAT_1:61
.= ( ( dom ( ( proj (C225 , C221) ) * C223 ) ) /\ ( divset (( C226 . C228 ) , D73) ) ) by L499 , RELAT_1:27
.= ( dom ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C228 ) , D73) ) ) ) by RELAT_1:61;
L508: ( ( C223 | ( divset (( C226 . C228 ) , D73) ) ) . D74 ) in ( rng ( C223 | ( divset (( C226 . C228 ) , D73) ) ) ) by L507 , L504 , FUNCT_1:3;
reconsider D75 = ( ( C223 | ( divset (( C226 . C228 ) , D73) ) ) . D74 ) as (Element of ( REAL C221 )) by L508;
reconsider D76 = ( ( vol ( divset (( C226 . C228 ) , D73) ) ) * D75 ) as (Element of ( REAL C221 ));
take D76;
thus L509: S13[ C229 , D76 ] by L503 , L504 , L505 , L507;
end;
consider C232 being (FinSequence of ( REAL C221 )) such that L510: (( dom C232 ) = ( Seg ( len D72 ) ) & (for B233 being Nat holds (B233 in ( Seg ( len D72 ) ) implies S13[ B233 , ( C232 . B233 ) ]))) from FINSEQ_1:sch 5(L497);
reconsider D77 = C232 as (Element of ( ( REAL C221 ) * )) by FINSEQ_1:def 11;
take D77;
L511:
now
let C233 being (Element of ( NAT ));
reconsider D78 = C233 as Nat;
L512: ( dom D72 ) = ( Seg ( len D72 ) ) by FINSEQ_1:def 3;
assume L513: C233 in ( dom D72 );
L514: S13[ D78 , ( C232 . D78 ) ] by L513 , L510 , L512;
thus L515: (ex B234 being (Element of ( REAL C221 )) st (ex B235 being (Element of ( REAL )) st (B235 in ( dom ( C223 | ( divset (( C226 . C228 ) , C233) ) ) ) & ( ( C227 . C228 ) . C233 ) = ( ( vol ( divset (( C226 . C228 ) , C233) ) ) * ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C228 ) , C233) ) ) . B235 ) ) & B234 = ( ( C223 | ( divset (( C226 . C228 ) , C233) ) ) . B235 ) & ( C232 . C233 ) = ( ( vol ( divset (( C226 . C228 ) , C233) ) ) * B234 )))) by L514;
end;
L516: ( len C232 ) = ( len D72 ) by L510 , FINSEQ_1:def 3;
thus L517: S12[ C228 , D77 ] by L516 , L511;
end;
consider C234 being (Function of ( NAT ) , ( ( REAL C221 ) * )) such that L518: (for B236 being (Element of ( NAT )) holds S12[ B236 , ( C234 . B236 ) ]) from FUNCT_2:sch 3(L496);
L519: (for B237 being (Element of ( NAT )) holds ( C234 . B237 ) is (middle_volume of C223 , ( C226 . B237 )))
proof
let C235 being (Element of ( NAT ));
consider C236 being FinSequence, C237 being FinSequence such that L520: (C236 = ( C226 . C235 ) & C237 = ( C234 . C235 ) & ( len C236 ) = ( len C237 )) and L521: (for B238 being (Element of ( NAT )) holds (B238 in ( dom C236 ) implies (ex B239 being (Element of ( REAL C221 )) st (ex B240 being (Element of ( REAL )) st (B240 in ( dom ( C223 | ( divset (( C226 . C235 ) , B238) ) ) ) & ( ( C227 . C235 ) . B238 ) = ( ( vol ( divset (( C226 . C235 ) , B238) ) ) * ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C235 ) , B238) ) ) . B240 ) ) & B239 = ( ( C223 | ( divset (( C226 . C235 ) , B238) ) ) . B240 ) & ( C237 . B238 ) = ( ( vol ( divset (( C226 . C235 ) , B238) ) ) * B239 )))))) by L518;
L522:
now
let C238 being Nat;
assume L523: C238 in ( dom C236 );
reconsider D79 = C238 as (Element of ( NAT )) by L523;
consider C239 being (Element of ( REAL C221 )), C240 being (Element of ( REAL )) such that L524: C240 in ( dom ( C223 | ( divset (( C226 . C235 ) , D79) ) ) ) and L525: ( ( C227 . C235 ) . D79 ) = ( ( vol ( divset (( C226 . C235 ) , D79) ) ) * ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C235 ) , D79) ) ) . C240 ) ) and L526: C239 = ( ( C223 | ( divset (( C226 . C235 ) , D79) ) ) . C240 ) and L527: ( C237 . D79 ) = ( ( vol ( divset (( C226 . C235 ) , D79) ) ) * C239 ) by L521 , L523;
take D80 = C239;
thus L528: D80 in ( rng ( C223 | ( divset (( C226 . C235 ) , C238) ) ) ) by L524 , L526 , FUNCT_1:3;
thus L529: ( C237 . C238 ) = ( ( vol ( divset (( C226 . C235 ) , C238) ) ) * D80 ) by L527;
end;
L530: ( C234 . C235 ) is (FinSequence of ( REAL C221 )) by FINSEQ_1:def 11;
thus L531: thesis by L530 , L520 , L522 , L311;
end;
reconsider D81 = C234 as (middle_volume_Sequence of C223 , C226) by L519 , L349;
set D82 = ( middle_sum (C223 , D81) );
L532: ( REAL C221 ) = (the carrier of ( REAL-NS C221 )) by REAL_NS1:def 4;
reconsider D83 = D82 as (Function of ( NAT ) , ( REAL C221 )) by L532;
assume L533: (( delta C226 ) is  convergent & ( lim ( delta C226 ) ) = ( 0 ));
L534: (D82 is  convergent & ( lim D82 ) = D70) by L533 , L492;
consider C241 being Real_Sequence such that L535: (for B241 being (Element of ( NAT )) holds (( C241 . B241 ) = ( ( D83 . B241 ) . C225 ) & C241 is  convergent & ( D71 . C225 ) = ( lim C241 ))) by L534 , L494 , REAL_NS1:11;
L536: (for B242 being (Element of ( NAT )) holds ( C241 . B242 ) = ( ( middle_sum (( ( proj (C225 , C221) ) * C223 ) , C227) ) . B242 ))
proof
let C242 being (Element of ( NAT ));
consider C243 being FinSequence, C244 being FinSequence such that L537: C243 = ( C226 . C242 ) and L538: C244 = ( D81 . C242 ) and L539: ( len C243 ) = ( len C244 ) and L540: (for B243 being (Element of ( NAT )) holds (B243 in ( dom C243 ) implies (ex B244 being (Element of ( REAL C221 )) st (ex B245 being (Element of ( REAL )) st (B245 in ( dom ( C223 | ( divset (( C226 . C242 ) , B243) ) ) ) & ( ( C227 . C242 ) . B243 ) = ( ( vol ( divset (( C226 . C242 ) , B243) ) ) * ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C242 ) , B243) ) ) . B245 ) ) & B244 = ( ( C223 | ( divset (( C226 . C242 ) , B243) ) ) . B245 ) & ( C244 . B243 ) = ( ( vol ( divset (( C226 . C242 ) , B243) ) ) * B244 )))))) by L518;
L541: ( dom ( proj (C225 , C221) ) ) = ( REAL C221 ) by FUNCT_2:def 1;
L542: ( rng ( D81 . C242 ) ) c= ( dom ( proj (C225 , C221) ) ) by L541;
L543: ( dom ( ( proj (C225 , C221) ) * ( D81 . C242 ) ) ) = ( dom ( D81 . C242 ) ) by L542 , RELAT_1:27
.= ( Seg ( len C243 ) ) by L538 , L539 , FINSEQ_1:def 3
.= ( Seg ( len ( C227 . C242 ) ) ) by L537 , L1
.= ( dom ( C227 . C242 ) ) by FINSEQ_1:def 3;
L544: (for B246 being Nat holds (B246 in ( dom ( ( proj (C225 , C221) ) * ( D81 . C242 ) ) ) implies ( ( ( proj (C225 , C221) ) * ( D81 . C242 ) ) . B246 ) = ( ( C227 . C242 ) . B246 )))
proof
let C245 being Nat;
reconsider D84 = C245 as (Element of ( NAT )) by ORDINAL1:def 12;
L545: ( dom ( proj (C225 , C221) ) ) = ( REAL C221 ) by FUNCT_2:def 1;
L546: ( rng C223 ) c= ( dom ( proj (C225 , C221) ) ) by L545;
assume L547: C245 in ( dom ( ( proj (C225 , C221) ) * ( D81 . C242 ) ) );
L548: C245 in ( Seg ( len ( C227 . C242 ) ) ) by L547 , L543 , FINSEQ_1:def 3;
L549: C245 in ( Seg ( len C243 ) ) by L548 , L537 , L1;
L550: D84 in ( dom C243 ) by L549 , FINSEQ_1:def 3;
consider C246 being (Element of ( REAL C221 )), C247 being (Element of ( REAL )) such that L551: C247 in ( dom ( C223 | ( divset (( C226 . C242 ) , D84) ) ) ) and L552: ( ( C227 . C242 ) . D84 ) = ( ( vol ( divset (( C226 . C242 ) , D84) ) ) * ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C242 ) , D84) ) ) . C247 ) ) and L553: C246 = ( ( C223 | ( divset (( C226 . C242 ) , D84) ) ) . C247 ) and L554: ( C244 . D84 ) = ( ( vol ( divset (( C226 . C242 ) , D84) ) ) * C246 ) by L550 , L540;
L555: ( dom ( C223 | ( divset (( C226 . C242 ) , D84) ) ) ) = ( ( dom C223 ) /\ ( divset (( C226 . C242 ) , D84) ) ) by RELAT_1:61
.= ( ( dom ( ( proj (C225 , C221) ) * C223 ) ) /\ ( divset (( C226 . C242 ) , D84) ) ) by L546 , RELAT_1:27
.= ( dom ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C242 ) , D84) ) ) ) by RELAT_1:61;
L556: C247 in ( ( dom ( ( proj (C225 , C221) ) * C223 ) ) /\ ( divset (( C226 . C242 ) , D84) ) ) by L555 , L551 , RELAT_1:61;
L557: C247 in ( dom ( ( proj (C225 , C221) ) * C223 ) ) by L556 , XBOOLE_0:def 4;
L558: ( ( ( ( proj (C225 , C221) ) * C223 ) | ( divset (( C226 . C242 ) , D84) ) ) . C247 ) = ( ( ( proj (C225 , C221) ) * C223 ) . C247 ) by L551 , L555 , FUNCT_1:47
.= ( ( proj (C225 , C221) ) . ( C223 . C247 ) ) by L557 , FUNCT_1:12
.= ( ( proj (C225 , C221) ) . C246 ) by L551 , L553 , FUNCT_1:47;
L559: ( ( ( proj (C225 , C221) ) * ( D81 . C242 ) ) . D84 ) = ( ( proj (C225 , C221) ) . ( ( D81 . C242 ) . D84 ) ) by L547 , FUNCT_1:12
.= ( ( ( vol ( divset (( C226 . C242 ) , D84) ) ) * C246 ) . C225 ) by L538 , L554 , PDIFF_1:def 1
.= ( ( vol ( divset (( C226 . C242 ) , D84) ) ) * ( C246 . C225 ) ) by RVSUM_1:44
.= ( ( C227 . C242 ) . D84 ) by L552 , L558 , PDIFF_1:def 1;
thus L560: thesis by L559;
end;
consider C248 being (FinSequence of ( REAL )) such that L561: C248 = ( ( proj (C225 , C221) ) * ( D81 . C242 ) ) and L562: ( ( middle_sum (C223 , ( D81 . C242 )) ) . C225 ) = ( Sum C248 ) by L494 , L326;
thus L563: ( C241 . C242 ) = ( ( D83 . C242 ) . C225 ) by L535
.= ( Sum C248 ) by L562 , L357
.= ( middle_sum (( ( proj (C225 , C221) ) * C223 ) , ( C227 . C242 )) ) by L543 , L544 , L561 , FINSEQ_1:13
.= ( ( middle_sum (( ( proj (C225 , C221) ) * C223 ) , C227) ) . C242 ) by L181;
end;
thus L564: (( middle_sum (( ( proj (C225 , C221) ) * C223 ) , C227) ) is  convergent & ( lim ( middle_sum (( ( proj (C225 , C221) ) * C223 ) , C227) ) ) = D69) by L536 , L535 , FUNCT_2:63;
end;
L565: ( ( proj (C225 , C221) ) * C223 ) is  bounded by L486 , L494 , L398;
thus L566: ( ( proj (C225 , C221) ) * C223 ) is  integrable by L565 , L495 , L247;
end;
thus L567: C223 is  integrable by L493 , L417;
end;
thus L568: thesis by L490;
end;
definition
let C249 being (Element of ( NAT ));
let C250 being (PartFunc of ( REAL ) , ( REAL C249 ));
attr C250 is  bounded
means
:L569: (for B247 being (Element of ( NAT )) holds (B247 in ( Seg C249 ) implies ( ( proj (B247 , C249) ) * C250 ) is  bounded));
end;
definition
let C251 being (Element of ( NAT ));
let C252 being non  empty  closed_interval (Subset of ( REAL ));
let C253 being (PartFunc of ( REAL ) , ( REAL C251 ));
pred C253 is_integrable_on C252
means
:L571: (for B248 being (Element of ( NAT )) holds (B248 in ( Seg C251 ) implies ( ( proj (B248 , C251) ) * C253 ) is_integrable_on C252))
;end;
definition
let C254 being (Element of ( NAT ));
let C255 being non  empty  closed_interval (Subset of ( REAL ));
let C256 being (PartFunc of ( REAL ) , ( REAL C254 ));
func integral (C256 , C255) -> (Element of ( REAL C254 )) means 
:L573: (( dom it ) = ( Seg C254 ) & (for B249 being (Element of ( NAT )) holds (B249 in ( Seg C254 ) implies ( it . B249 ) = ( integral (( ( proj (B249 , C254) ) * C256 ) , C255) ))));
existence
proof
defpred S14[ Nat , (Element of ( REAL )) ] means (ex B250 being (Element of ( NAT )) st ($1 = B250 & $2 = ( integral (( ( proj (B250 , C254) ) * C256 ) , C255) )));
L574: (for B251 being Nat holds (B251 in ( Seg C254 ) implies (ex B252 being (Element of ( REAL )) st S14[ B251 , B252 ])))
proof
let C257 being Nat;
assume L575: C257 in ( Seg C254 );
reconsider D85 = C257 as (Element of ( NAT )) by L575;
consider C258 being (Element of ( REAL )) such that L576: C258 = ( integral (( ( proj (D85 , C254) ) * C256 ) , C255) );
take C258;
thus L577: thesis by L576;
end;
consider C259 being (FinSequence of ( REAL )) such that L578: (( dom C259 ) = ( Seg C254 ) & (for B253 being Nat holds (B253 in ( Seg C254 ) implies S14[ B253 , ( C259 . B253 ) ]))) from FINSEQ_1:sch 5(L574);
take C259;
L579: (for B254 being (Element of ( NAT )) holds (B254 in ( Seg C254 ) implies ( C259 . B254 ) = ( integral (( ( proj (B254 , C254) ) * C256 ) , C255) )))
proof
let C260 being (Element of ( NAT ));
assume L580: C260 in ( Seg C254 );
L581: S14[ C260 , ( C259 . C260 ) ] by L580 , L578;
thus L582: thesis by L581;
end;
L583: ( len C259 ) = C254 by L578 , FINSEQ_1:def 3;
thus L584: thesis by L583 , L578 , L579 , FINSEQ_2:92;
end;
uniqueness
proof
let C261 , C262 being (Element of ( REAL C254 ));
assume that
L585: ( dom C261 ) = ( Seg C254 )
and
L586: (for B255 being (Element of ( NAT )) holds (B255 in ( Seg C254 ) implies ( C261 . B255 ) = ( integral (( ( proj (B255 , C254) ) * C256 ) , C255) )))
and
L587: ( dom C262 ) = ( Seg C254 )
and
L588: (for B256 being (Element of ( NAT )) holds (B256 in ( Seg C254 ) implies ( C262 . B256 ) = ( integral (( ( proj (B256 , C254) ) * C256 ) , C255) )));
L589: (for B257 being Nat holds (B257 in ( dom C261 ) implies ( C261 . B257 ) = ( C262 . B257 )))
proof
let C263 being Nat;
assume L590: C263 in ( dom C261 );
reconsider D86 = C263 as (Element of ( NAT )) by L590;
L591: ( C262 . D86 ) = ( integral (( ( proj (D86 , C254) ) * C256 ) , C255) ) by L585 , L588 , L590;
thus L592: thesis by L591 , L585 , L586 , L590;
end;
thus L593: thesis by L589 , L585 , L587 , FINSEQ_1:13;
end;
end;
theorem
L595: (for B258 being (Element of ( NAT )) holds (for B259 being non  empty  closed_interval (Subset of ( REAL )) holds (for B260 being (PartFunc of ( REAL ) , ( REAL B258 )) holds (for B261 being (Function of B259 , ( REAL B258 )) holds (( B260 | B259 ) = B261 implies (B260 is_integrable_on B259 iff B261 is  integrable))))))
proof
let C264 being (Element of ( NAT ));
let C265 being non  empty  closed_interval (Subset of ( REAL ));
let C266 being (PartFunc of ( REAL ) , ( REAL C264 ));
let C267 being (Function of C265 , ( REAL C264 ));
assume L596: ( C266 | C265 ) = C267;
thus L597: (C266 is_integrable_on C265 implies C267 is  integrable)
proof
assume L598: C266 is_integrable_on C265;
L599: (for B262 being (Element of ( NAT )) holds (B262 in ( Seg C264 ) implies ( ( proj (B262 , C264) ) * C267 ) is  integrable))
proof
let C268 being (Element of ( NAT ));
L600: ( dom ( proj (C268 , C264) ) ) = ( REAL C264 ) by FUNCT_2:def 1;
L601: ( rng C266 ) c= ( dom ( proj (C268 , C264) ) ) by L600;
L602: ( dom ( ( proj (C268 , C264) ) * C266 ) ) = ( dom C266 ) by L601 , RELAT_1:27;
L603: C265 = ( dom C267 ) by FUNCT_2:def 1
.= ( ( dom C266 ) /\ C265 ) by L596 , RELAT_1:61;
L604: ( ( ( proj (C268 , C264) ) * C266 ) || C265 ) is  total by L603 , L602 , INTEGRA5:6 , XBOOLE_1:17;
reconsider D87 = ( ( ( proj (C268 , C264) ) * C266 ) | C265 ) as (Function of C265 , ( REAL )) by L604;
assume L605: C268 in ( Seg C264 );
L606: ( ( proj (C268 , C264) ) * C266 ) is_integrable_on C265 by L605 , L598 , L571;
L607: D87 is  integrable by L606 , INTEGRA5:def 1;
thus L608: thesis by L607 , L596 , L400;
end;
thus L609: thesis by L599 , L417;
end;

assume L610: C267 is  integrable;
L611: (for B263 being (Element of ( NAT )) holds (B263 in ( Seg C264 ) implies ( ( proj (B263 , C264) ) * C266 ) is_integrable_on C265))
proof
let C269 being (Element of ( NAT ));
assume L612: C269 in ( Seg C264 );
L613: ( ( proj (C269 , C264) ) * C267 ) = ( ( ( proj (C269 , C264) ) * C266 ) | C265 ) by L596 , L400;
L614: ( ( ( proj (C269 , C264) ) * C266 ) || C265 ) is  integrable by L613 , L610 , L612 , L417;
thus L615: thesis by L614 , INTEGRA5:def 1;
end;
thus L616: thesis by L611 , L571;
end;
theorem
L617: (for B264 being (Element of ( NAT )) holds (for B265 being non  empty  closed_interval (Subset of ( REAL )) holds (for B266 being (PartFunc of ( REAL ) , ( REAL B264 )) holds (for B267 being (Function of B265 , ( REAL B264 )) holds (( B266 | B265 ) = B267 implies ( integral (B266 , B265) ) = ( integral B267 ))))))
proof
let C270 being (Element of ( NAT ));
let C271 being non  empty  closed_interval (Subset of ( REAL ));
let C272 being (PartFunc of ( REAL ) , ( REAL C270 ));
let C273 being (Function of C271 , ( REAL C270 ));
assume L618: ( C272 | C271 ) = C273;
L619:
now
let C274 being Nat;
assume L620: C274 in ( dom ( integral (C272 , C271) ) );
reconsider D88 = C274 as (Element of ( NAT )) by L620;
L621: ( dom ( proj (D88 , C270) ) ) = ( REAL C270 ) by FUNCT_2:def 1;
L622: ( rng C272 ) c= ( dom ( proj (D88 , C270) ) ) by L621;
L623: ( dom ( ( proj (D88 , C270) ) * C272 ) ) = ( dom C272 ) by L622 , RELAT_1:27;
L624: C271 = ( dom C273 ) by FUNCT_2:def 1
.= ( ( dom C272 ) /\ C271 ) by L618 , RELAT_1:61;
L625: ( ( ( proj (D88 , C270) ) * C272 ) || C271 ) is  total by L624 , L623 , INTEGRA5:6 , XBOOLE_1:17;
reconsider D89 = ( ( ( proj (D88 , C270) ) * C272 ) | C271 ) as (Function of C271 , ( REAL )) by L625;
L626: D89 = ( ( proj (D88 , C270) ) * C273 ) by L618 , L400;
L627: D88 in ( Seg C270 ) by L620 , L573;
L628: ( ( integral (C272 , C271) ) . D88 ) = ( integral (( ( proj (D88 , C270) ) * C272 ) , C271) ) by L627 , L573
.= ( integral ( ( ( proj (D88 , C270) ) * C272 ) || C271 ) );
thus L629: ( ( integral (C272 , C271) ) . C274 ) = ( ( integral C273 ) . C274 ) by L628 , L627 , L626 , L419;
end;
L630: ( dom ( integral (C272 , C271) ) ) = ( Seg C270 ) by L573
.= ( dom ( integral C273 ) ) by L419;
thus L631: thesis by L630 , L619 , FINSEQ_1:13;
end;
definition
let C275 , C276 being  real number;
let C277 being (Element of ( NAT ));
let C278 being (PartFunc of ( REAL ) , ( REAL C277 ));
func integral (C278 , C275 , C276) -> (Element of ( REAL C277 )) means 
:L632: (( dom it ) = ( Seg C277 ) & (for B268 being (Element of ( NAT )) holds (B268 in ( Seg C277 ) implies ( it . B268 ) = ( integral (( ( proj (B268 , C277) ) * C278 ) , C275 , C276) ))));
existence
proof
defpred S15[ Nat , (Element of ( REAL )) ] means (ex B269 being (Element of ( NAT )) st ($1 = B269 & $2 = ( integral (( ( proj (B269 , C277) ) * C278 ) , C275 , C276) )));
L633: (for B270 being Nat holds (B270 in ( Seg C277 ) implies (ex B271 being (Element of ( REAL )) st S15[ B270 , B271 ])))
proof
let C279 being Nat;
assume L634: C279 in ( Seg C277 );
reconsider D90 = C279 as (Element of ( NAT )) by L634;
consider C280 being (Element of ( REAL )) such that L635: C280 = ( integral (( ( proj (D90 , C277) ) * C278 ) , C275 , C276) );
take C280;
thus L636: thesis by L635;
end;
consider C281 being (FinSequence of ( REAL )) such that L637: (( dom C281 ) = ( Seg C277 ) & (for B272 being Nat holds (B272 in ( Seg C277 ) implies S15[ B272 , ( C281 . B272 ) ]))) from FINSEQ_1:sch 5(L633);
take C281;
L638: (for B273 being (Element of ( NAT )) holds (B273 in ( Seg C277 ) implies ( C281 . B273 ) = ( integral (( ( proj (B273 , C277) ) * C278 ) , C275 , C276) )))
proof
let C282 being (Element of ( NAT ));
assume L639: C282 in ( Seg C277 );
L640: S15[ C282 , ( C281 . C282 ) ] by L639 , L637;
thus L641: thesis by L640;
end;
L642: ( len C281 ) = C277 by L637 , FINSEQ_1:def 3;
thus L643: thesis by L642 , L637 , L638 , FINSEQ_2:92;
end;
uniqueness
proof
let C283 , C284 being (Element of ( REAL C277 ));
assume that
L644: ( dom C283 ) = ( Seg C277 )
and
L645: (for B274 being (Element of ( NAT )) holds (B274 in ( Seg C277 ) implies ( C283 . B274 ) = ( integral (( ( proj (B274 , C277) ) * C278 ) , C275 , C276) )))
and
L646: ( dom C284 ) = ( Seg C277 )
and
L647: (for B275 being (Element of ( NAT )) holds (B275 in ( Seg C277 ) implies ( C284 . B275 ) = ( integral (( ( proj (B275 , C277) ) * C278 ) , C275 , C276) )));
L648: (for B276 being Nat holds (B276 in ( dom C283 ) implies ( C283 . B276 ) = ( C284 . B276 )))
proof
let C285 being Nat;
assume L649: C285 in ( dom C283 );
reconsider D91 = C285 as (Element of ( NAT )) by L649;
L650: ( C284 . D91 ) = ( integral (( ( proj (D91 , C277) ) * C278 ) , C275 , C276) ) by L644 , L647 , L649;
thus L651: thesis by L650 , L644 , L645 , L649;
end;
thus L652: thesis by L648 , L644 , L646 , FINSEQ_1:13;
end;
end;
begin
theorem
L654: (for R1 being set holds (for B277 , B278 being (Element of ( NAT )) holds (for B279 , B280 being (PartFunc of R1 , ( REAL B277 )) holds (( ( proj (B278 , B277) ) * ( B279 + B280 ) ) = ( ( ( proj (B278 , B277) ) * B279 ) + ( ( proj (B278 , B277) ) * B280 ) ) & ( ( proj (B278 , B277) ) * ( B279 - B280 ) ) = ( ( ( proj (B278 , B277) ) * B279 ) - ( ( proj (B278 , B277) ) * B280 ) )))))
proof
let R1 being set;
let C286 , C287 being (Element of ( NAT ));
let C288 , C289 being (PartFunc of R1 , ( REAL C286 ));
L655: ( dom ( proj (C287 , C286) ) ) = ( REAL C286 ) by FUNCT_2:def 1;
L656: ( rng C288 ) c= ( dom ( proj (C287 , C286) ) ) by L655;
L657: ( dom ( ( proj (C287 , C286) ) * C288 ) ) = ( dom C288 ) by L656 , RELAT_1:27;
L658: ( rng ( C288 + C289 ) ) c= ( dom ( proj (C287 , C286) ) ) by L655;
L659: ( dom ( ( proj (C287 , C286) ) * ( C288 + C289 ) ) ) = ( dom ( C288 + C289 ) ) by L658 , RELAT_1:27;
L660: ( rng C289 ) c= ( dom ( proj (C287 , C286) ) ) by L655;
L661: ( dom ( ( proj (C287 , C286) ) * C289 ) ) = ( dom C289 ) by L660 , RELAT_1:27;
L662: ( dom ( C288 + C289 ) ) = ( ( dom C288 ) /\ ( dom C289 ) ) by VALUED_2:def 45;
L663: (for B281 being (Element of R1) holds (B281 in ( dom ( ( proj (C287 , C286) ) * ( C288 + C289 ) ) ) implies ( ( ( proj (C287 , C286) ) * ( C288 + C289 ) ) . B281 ) = ( ( ( ( proj (C287 , C286) ) * C288 ) + ( ( proj (C287 , C286) ) * C289 ) ) . B281 )))
proof
let C290 being (Element of R1);
reconsider D92 = ( C288 /. C290 ) as (Element of ( C286 -tuples_on ( REAL ) ));
reconsider D93 = ( C289 /. C290 ) as (Element of ( C286 -tuples_on ( REAL ) ));
assume L664: C290 in ( dom ( ( proj (C287 , C286) ) * ( C288 + C289 ) ) );
L665: C290 in ( dom ( C288 + C289 ) ) by L664 , L658 , RELAT_1:27;
L666: C290 in ( ( dom C288 ) /\ ( dom C289 ) ) by L665 , VALUED_2:def 45;
L667: C290 in ( dom C288 ) by L666 , XBOOLE_0:def 4;
L668: ( C288 . C290 ) = D92 by L667 , PARTFUN1:def 6;
L669: C290 in ( dom C289 ) by L666 , XBOOLE_0:def 4;
L670: ( C289 . C290 ) = D93 by L669 , PARTFUN1:def 6;
L671: ( ( proj (C287 , C286) ) . ( ( C288 + C289 ) . C290 ) ) = ( ( proj (C287 , C286) ) . ( ( C288 . C290 ) + ( C289 . C290 ) ) ) by L665 , VALUED_2:def 45;
L672: ( ( proj (C287 , C286) ) . ( ( C288 + C289 ) . C290 ) ) = ( ( ( C288 /. C290 ) + ( C289 /. C290 ) ) . C287 ) by L671 , L668 , L670 , PDIFF_1:def 1;
L673: ( ( proj (C287 , C286) ) . ( ( C288 + C289 ) . C290 ) ) = ( ( D92 . C287 ) + ( D93 . C287 ) ) by L672 , RVSUM_1:11;
L674: C290 in ( ( dom ( ( proj (C287 , C286) ) * C288 ) ) /\ ( dom ( ( proj (C287 , C286) ) * C289 ) ) ) by L657 , L661 , L659 , L664 , VALUED_2:def 45;
L675: C290 in ( dom ( ( proj (C287 , C286) ) * C288 ) ) by L674 , XBOOLE_0:def 4;
L676: ( ( ( proj (C287 , C286) ) * C288 ) . C290 ) = ( ( proj (C287 , C286) ) . ( C288 . C290 ) ) by L675 , FUNCT_1:12;
L677: ( ( ( proj (C287 , C286) ) * C288 ) . C290 ) = ( D92 . C287 ) by L676 , L668 , PDIFF_1:def 1;
L678: C290 in ( dom ( ( proj (C287 , C286) ) * C289 ) ) by L674 , XBOOLE_0:def 4;
L679: ( ( ( proj (C287 , C286) ) * C289 ) . C290 ) = ( ( proj (C287 , C286) ) . ( C289 . C290 ) ) by L678 , FUNCT_1:12;
L680: ( ( ( proj (C287 , C286) ) * C289 ) . C290 ) = ( D93 . C287 ) by L679 , L670 , PDIFF_1:def 1;
L681: C290 in ( dom ( ( ( proj (C287 , C286) ) * C288 ) + ( ( proj (C287 , C286) ) * C289 ) ) ) by L662 , L657 , L661 , L659 , L664 , VALUED_1:def 1;
L682: ( ( ( ( proj (C287 , C286) ) * C288 ) + ( ( proj (C287 , C286) ) * C289 ) ) . C290 ) = ( ( D92 . C287 ) + ( D93 . C287 ) ) by L681 , L677 , L680 , VALUED_1:def 1;
thus L683: thesis by L682 , L664 , L673 , FUNCT_1:12;
end;
L684: ( dom ( ( proj (C287 , C286) ) * ( C288 + C289 ) ) ) = ( dom ( ( ( proj (C287 , C286) ) * C288 ) + ( ( proj (C287 , C286) ) * C289 ) ) ) by L662 , L657 , L661 , L659 , VALUED_1:def 1;
thus L685: ( ( proj (C287 , C286) ) * ( C288 + C289 ) ) = ( ( ( proj (C287 , C286) ) * C288 ) + ( ( proj (C287 , C286) ) * C289 ) ) by L684 , L663 , PARTFUN1:5;
L686: ( rng ( C288 - C289 ) ) c= ( dom ( proj (C287 , C286) ) ) by L655;
L687: ( dom ( ( proj (C287 , C286) ) * ( C288 - C289 ) ) ) = ( dom ( C288 - C289 ) ) by L686 , RELAT_1:27;
L688: ( dom ( C288 - C289 ) ) = ( ( dom C288 ) /\ ( dom C289 ) ) by VALUED_2:def 46;
L689: ( dom ( ( proj (C287 , C286) ) * ( C288 - C289 ) ) ) = ( dom ( ( ( proj (C287 , C286) ) * C288 ) - ( ( proj (C287 , C286) ) * C289 ) ) ) by L688 , L657 , L661 , L687 , VALUED_1:12;
L690: (for B282 being (Element of R1) holds (B282 in ( dom ( ( proj (C287 , C286) ) * ( C288 - C289 ) ) ) implies ( ( ( proj (C287 , C286) ) * ( C288 - C289 ) ) . B282 ) = ( ( ( ( proj (C287 , C286) ) * C288 ) - ( ( proj (C287 , C286) ) * C289 ) ) . B282 )))
proof
let C291 being (Element of R1);
reconsider D94 = ( C288 /. C291 ) as (Element of ( C286 -tuples_on ( REAL ) ));
reconsider D95 = ( C289 /. C291 ) as (Element of ( C286 -tuples_on ( REAL ) ));
assume L691: C291 in ( dom ( ( proj (C287 , C286) ) * ( C288 - C289 ) ) );
L692: C291 in ( dom ( C288 - C289 ) ) by L691 , L686 , RELAT_1:27;
L693: C291 in ( ( dom C288 ) /\ ( dom C289 ) ) by L692 , VALUED_2:def 46;
L694: C291 in ( dom C288 ) by L693 , XBOOLE_0:def 4;
L695: ( C288 . C291 ) = D94 by L694 , PARTFUN1:def 6;
L696: C291 in ( dom C289 ) by L693 , XBOOLE_0:def 4;
L697: ( C289 . C291 ) = D95 by L696 , PARTFUN1:def 6;
L698: C291 in ( dom ( ( proj (C287 , C286) ) * C289 ) ) by L661 , L688 , L687 , L691 , XBOOLE_0:def 4;
L699: ( ( ( proj (C287 , C286) ) * C289 ) . C291 ) = ( ( proj (C287 , C286) ) . ( C289 . C291 ) ) by L698 , FUNCT_1:12;
L700: ( ( ( proj (C287 , C286) ) * C289 ) . C291 ) = ( D95 . C287 ) by L699 , L697 , PDIFF_1:def 1;
L701: ( ( proj (C287 , C286) ) . ( ( C288 - C289 ) . C291 ) ) = ( ( proj (C287 , C286) ) . ( ( C288 . C291 ) - ( C289 . C291 ) ) ) by L692 , VALUED_2:def 46;
L702: ( ( proj (C287 , C286) ) . ( ( C288 - C289 ) . C291 ) ) = ( ( ( C288 /. C291 ) - ( C289 /. C291 ) ) . C287 ) by L701 , L695 , L697 , PDIFF_1:def 1;
L703: ( ( proj (C287 , C286) ) . ( ( C288 - C289 ) . C291 ) ) = ( ( D94 . C287 ) - ( D95 . C287 ) ) by L702 , RVSUM_1:27;
L704: C291 in ( dom ( ( proj (C287 , C286) ) * C288 ) ) by L657 , L688 , L687 , L691 , XBOOLE_0:def 4;
L705: ( ( ( proj (C287 , C286) ) * C288 ) . C291 ) = ( ( proj (C287 , C286) ) . ( C288 . C291 ) ) by L704 , FUNCT_1:12;
L706: ( ( ( proj (C287 , C286) ) * C288 ) . C291 ) = ( D94 . C287 ) by L705 , L695 , PDIFF_1:def 1;
L707: ( ( ( ( proj (C287 , C286) ) * C288 ) - ( ( proj (C287 , C286) ) * C289 ) ) . C291 ) = ( ( ( ( proj (C287 , C286) ) * C288 ) . C291 ) - ( ( ( proj (C287 , C286) ) * C289 ) . C291 ) ) by L689 , L691 , VALUED_1:13;
thus L708: thesis by L707 , L691 , L703 , L706 , L700 , FUNCT_1:12;
end;
thus L709: thesis by L690 , L689 , PARTFUN1:5;
end;
theorem
L710: (for R1 being set holds (for B283 , B284 being (Element of ( NAT )) holds (for B285 being Real holds (for B286 being (PartFunc of R1 , ( REAL B283 )) holds ( ( proj (B284 , B283) ) * ( B285 (#) B286 ) ) = ( B285 (#) ( ( proj (B284 , B283) ) * B286 ) )))))
proof
let R1 being set;
let C292 , C293 being (Element of ( NAT ));
let C294 being Real;
let C295 being (PartFunc of R1 , ( REAL C292 ));
L711: ( dom ( C294 (#) C295 ) ) = ( dom C295 ) by VALUED_2:def 39;
L712: ( dom ( proj (C293 , C292) ) ) = ( REAL C292 ) by FUNCT_2:def 1;
L713: ( rng ( C294 (#) C295 ) ) c= ( dom ( proj (C293 , C292) ) ) by L712;
L714: ( rng C295 ) c= ( dom ( proj (C293 , C292) ) ) by L712;
L715: ( dom ( ( proj (C293 , C292) ) * C295 ) ) = ( dom C295 ) by L714 , RELAT_1:27;
L716: ( dom ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) ) = ( dom C295 ) by L715 , VALUED_1:def 5;
L717: ( dom ( ( proj (C293 , C292) ) * ( C294 (#) C295 ) ) ) = ( dom ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) ) by L716 , L711 , L713 , RELAT_1:27;
L718: (for B287 being (Element of R1) holds (B287 in ( dom ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) ) implies ( ( ( proj (C293 , C292) ) * ( C294 (#) C295 ) ) . B287 ) = ( ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) . B287 )))
proof
let C296 being (Element of R1);
reconsider D96 = ( C295 /. C296 ) as (Element of ( C292 -tuples_on ( REAL ) ));
reconsider D97 = ( ( C294 (#) C295 ) /. C296 ) as (Element of ( C292 -tuples_on ( REAL ) ));
assume L719: C296 in ( dom ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) );
L720: C296 in ( dom ( ( proj (C293 , C292) ) * C295 ) ) by L719 , VALUED_1:def 5;
L721: ( C295 . C296 ) = D96 by L720 , L715 , PARTFUN1:def 6;
L722: ( ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) . C296 ) = ( C294 * ( ( ( proj (C293 , C292) ) * C295 ) . C296 ) ) by L719 , VALUED_1:def 5
.= ( C294 * ( ( proj (C293 , C292) ) . D96 ) ) by L720 , L721 , FUNCT_1:12;
L723: ( ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) . C296 ) = ( C294 * ( D96 . C293 ) ) by L722 , PDIFF_1:def 1;
L724: ( ( C294 (#) C295 ) . C296 ) = D97 by L711 , L715 , L720 , PARTFUN1:def 6;
thus L725: ( ( ( proj (C293 , C292) ) * ( C294 (#) C295 ) ) . C296 ) = ( ( proj (C293 , C292) ) . ( ( C294 (#) C295 ) . C296 ) ) by L717 , L719 , FUNCT_1:12
.= ( D97 . C293 ) by L724 , PDIFF_1:def 1
.= ( ( C294 (#) D96 ) . C293 ) by L711 , L715 , L720 , L721 , L724 , VALUED_2:def 39
.= ( ( C294 (#) ( ( proj (C293 , C292) ) * C295 ) ) . C296 ) by L723 , RVSUM_1:44;
end;
thus L726: thesis by L718 , L717 , PARTFUN1:5;
end;
theorem
L727: (for B288 being (Element of ( NAT )) holds (for B289 being non  empty  closed_interval (Subset of ( REAL )) holds (for B290 , B291 being (PartFunc of ( REAL ) , ( REAL B288 )) holds ((B290 is_integrable_on B289 & B291 is_integrable_on B289 & B289 c= ( dom B290 ) & B289 c= ( dom B291 ) & ( B290 | B289 ) is  bounded & ( B291 | B289 ) is  bounded) implies (( B290 + B291 ) is_integrable_on B289 & ( B290 - B291 ) is_integrable_on B289 & ( integral (( B290 + B291 ) , B289) ) = ( ( integral (B290 , B289) ) + ( integral (B291 , B289) ) ) & ( integral (( B290 - B291 ) , B289) ) = ( ( integral (B290 , B289) ) - ( integral (B291 , B289) ) ))))))
proof
let C297 being (Element of ( NAT ));
let C298 being non  empty  closed_interval (Subset of ( REAL ));
let C299 , C300 being (PartFunc of ( REAL ) , ( REAL C297 ));
assume that
L728: (C299 is_integrable_on C298 & C300 is_integrable_on C298)
and
L729: (C298 c= ( dom C299 ) & C298 c= ( dom C300 ))
and
L730: ( C299 | C298 ) is  bounded
and
L731: ( C300 | C298 ) is  bounded;
L732: (for B292 being (Element of ( NAT )) holds (B292 in ( Seg C297 ) implies (C298 c= ( dom ( ( proj (B292 , C297) ) * C299 ) ) & C298 c= ( dom ( ( proj (B292 , C297) ) * C300 ) ))))
proof
let C301 being (Element of ( NAT ));
assume L733: C301 in ( Seg C297 );
L734: ( dom ( proj (C301 , C297) ) ) = ( REAL C297 ) by FUNCT_2:def 1;
L735: (( rng C299 ) c= ( dom ( proj (C301 , C297) ) ) & ( rng C300 ) c= ( dom ( proj (C301 , C297) ) )) by L734;
thus L736: thesis by L735 , L729 , RELAT_1:27;
end;
L737: (for B293 being (Element of ( NAT )) holds (B293 in ( Seg C297 ) implies (( ( ( proj (B293 , C297) ) * C299 ) + ( ( proj (B293 , C297) ) * C300 ) ) is_integrable_on C298 & ( integral (( ( ( proj (B293 , C297) ) * C299 ) + ( ( proj (B293 , C297) ) * C300 ) ) , C298) ) = ( ( integral (( ( proj (B293 , C297) ) * C299 ) , C298) ) + ( integral (( ( proj (B293 , C297) ) * C300 ) , C298) ) ) & ( ( ( proj (B293 , C297) ) * C299 ) - ( ( proj (B293 , C297) ) * C300 ) ) is_integrable_on C298 & ( integral (( ( ( proj (B293 , C297) ) * C299 ) - ( ( proj (B293 , C297) ) * C300 ) ) , C298) ) = ( ( integral (( ( proj (B293 , C297) ) * C299 ) , C298) ) - ( integral (( ( proj (B293 , C297) ) * C300 ) , C298) ) ))))
proof
let C302 being (Element of ( NAT ));
assume L738: C302 in ( Seg C297 );
L739: (C298 c= ( dom ( ( proj (C302 , C297) ) * C299 ) ) & C298 c= ( dom ( ( proj (C302 , C297) ) * C300 ) )) by L738 , L732;
L740: ( ( proj (C302 , C297) ) * ( C300 | C298 ) ) is  bounded by L731 , L738 , L569;
L741: ( ( ( proj (C302 , C297) ) * C300 ) | C298 ) is  bounded by L740 , L400;
L742: ( ( proj (C302 , C297) ) * ( C299 | C298 ) ) is  bounded by L730 , L738 , L569;
L743: ( ( ( proj (C302 , C297) ) * C299 ) | C298 ) is  bounded by L742 , L400;
L744: (( ( proj (C302 , C297) ) * C299 ) is_integrable_on C298 & ( ( proj (C302 , C297) ) * C300 ) is_integrable_on C298) by L728 , L738 , L571;
thus L745: (( ( ( proj (C302 , C297) ) * C299 ) + ( ( proj (C302 , C297) ) * C300 ) ) is_integrable_on C298 & ( integral (( ( ( proj (C302 , C297) ) * C299 ) + ( ( proj (C302 , C297) ) * C300 ) ) , C298) ) = ( ( integral (( ( proj (C302 , C297) ) * C299 ) , C298) ) + ( integral (( ( proj (C302 , C297) ) * C300 ) , C298) ) )) by L744 , L739 , L743 , L741 , INTEGRA6:11;
thus L746: (( ( ( proj (C302 , C297) ) * C299 ) - ( ( proj (C302 , C297) ) * C300 ) ) is_integrable_on C298 & ( integral (( ( ( proj (C302 , C297) ) * C299 ) - ( ( proj (C302 , C297) ) * C300 ) ) , C298) ) = ( ( integral (( ( proj (C302 , C297) ) * C299 ) , C298) ) - ( integral (( ( proj (C302 , C297) ) * C300 ) , C298) ) )) by L739 , L743 , L741 , L744 , INTEGRA6:11;
end;
L747: (for B294 being (Element of ( NAT )) holds (B294 in ( Seg C297 ) implies (( ( proj (B294 , C297) ) * ( C299 + C300 ) ) is_integrable_on C298 & ( ( proj (B294 , C297) ) * ( C299 - C300 ) ) is_integrable_on C298)))
proof
let C303 being (Element of ( NAT ));
assume L748: C303 in ( Seg C297 );
L749: (( ( ( proj (C303 , C297) ) * C299 ) + ( ( proj (C303 , C297) ) * C300 ) ) is_integrable_on C298 & ( ( ( proj (C303 , C297) ) * C299 ) - ( ( proj (C303 , C297) ) * C300 ) ) is_integrable_on C298) by L748 , L737;
thus L750: thesis by L749 , L654;
end;
L751: (for B295 being (Element of ( NAT )) holds (B295 in ( Seg C297 ) implies ( ( proj (B295 , C297) ) * ( C299 + C300 ) ) is_integrable_on C298)) by L747;
thus L752: ( C299 + C300 ) is_integrable_on C298 by L751 , L571;
L753: (for B296 being (Element of ( NAT )) holds (B296 in ( Seg C297 ) implies (( ( ( integral (C299 , C298) ) . B296 ) + ( ( integral (C300 , C298) ) . B296 ) ) = ( ( integral (( ( proj (B296 , C297) ) * C299 ) , C298) ) + ( integral (( ( proj (B296 , C297) ) * C300 ) , C298) ) ) & ( ( ( integral (C299 , C298) ) . B296 ) - ( ( integral (C300 , C298) ) . B296 ) ) = ( ( integral (( ( proj (B296 , C297) ) * C299 ) , C298) ) - ( integral (( ( proj (B296 , C297) ) * C300 ) , C298) ) ))))
proof
let C304 being (Element of ( NAT ));
assume L754: C304 in ( Seg C297 );
L755: ( ( integral (C299 , C298) ) . C304 ) = ( integral (( ( proj (C304 , C297) ) * C299 ) , C298) ) by L754 , L573;
thus L756: thesis by L755 , L754 , L573;
end;
L757: (for B297 being (Element of ( NAT )) holds (B297 in ( Seg C297 ) implies (( ( ( integral (C299 , C298) ) . B297 ) + ( ( integral (C300 , C298) ) . B297 ) ) = ( integral (( ( ( proj (B297 , C297) ) * C299 ) + ( ( proj (B297 , C297) ) * C300 ) ) , C298) ) & ( ( ( integral (C299 , C298) ) . B297 ) - ( ( integral (C300 , C298) ) . B297 ) ) = ( integral (( ( ( proj (B297 , C297) ) * C299 ) - ( ( proj (B297 , C297) ) * C300 ) ) , C298) ))))
proof
let C305 being (Element of ( NAT ));
assume L758: C305 in ( Seg C297 );
L759: (( ( ( integral (C299 , C298) ) . C305 ) + ( ( integral (C300 , C298) ) . C305 ) ) = ( ( integral (( ( proj (C305 , C297) ) * C299 ) , C298) ) + ( integral (( ( proj (C305 , C297) ) * C300 ) , C298) ) ) & ( ( ( integral (C299 , C298) ) . C305 ) - ( ( integral (C300 , C298) ) . C305 ) ) = ( ( integral (( ( proj (C305 , C297) ) * C299 ) , C298) ) - ( integral (( ( proj (C305 , C297) ) * C300 ) , C298) ) )) by L758 , L753;
thus L760: thesis by L759 , L737 , L758;
end;
L761: (for B298 being (Element of ( NAT )) holds (B298 in ( Seg C297 ) implies (( ( ( integral (C299 , C298) ) . B298 ) + ( ( integral (C300 , C298) ) . B298 ) ) = ( integral (( ( proj (B298 , C297) ) * ( C299 + C300 ) ) , C298) ) & ( ( ( integral (C299 , C298) ) . B298 ) - ( ( integral (C300 , C298) ) . B298 ) ) = ( integral (( ( proj (B298 , C297) ) * ( C299 - C300 ) ) , C298) ))))
proof
let C306 being (Element of ( NAT ));
assume L762: C306 in ( Seg C297 );
L763: (( ( ( integral (C299 , C298) ) . C306 ) + ( ( integral (C300 , C298) ) . C306 ) ) = ( integral (( ( ( proj (C306 , C297) ) * C299 ) + ( ( proj (C306 , C297) ) * C300 ) ) , C298) ) & ( ( ( integral (C299 , C298) ) . C306 ) - ( ( integral (C300 , C298) ) . C306 ) ) = ( integral (( ( ( proj (C306 , C297) ) * C299 ) - ( ( proj (C306 , C297) ) * C300 ) ) , C298) )) by L762 , L757;
thus L764: thesis by L763 , L654;
end;
L765: (for B299 being (Element of ( NAT )) holds (B299 in ( Seg C297 ) implies (( ( integral (( C299 + C300 ) , C298) ) . B299 ) = ( ( ( integral (C299 , C298) ) . B299 ) + ( ( integral (C300 , C298) ) . B299 ) ) & ( ( integral (( C299 - C300 ) , C298) ) . B299 ) = ( ( ( integral (C299 , C298) ) . B299 ) - ( ( integral (C300 , C298) ) . B299 ) ))))
proof
let C307 being (Element of ( NAT ));
assume L766: C307 in ( Seg C297 );
L767: (( ( ( integral (C299 , C298) ) . C307 ) + ( ( integral (C300 , C298) ) . C307 ) ) = ( integral (( ( proj (C307 , C297) ) * ( C299 + C300 ) ) , C298) ) & ( ( ( integral (C299 , C298) ) . C307 ) - ( ( integral (C300 , C298) ) . C307 ) ) = ( integral (( ( proj (C307 , C297) ) * ( C299 - C300 ) ) , C298) )) by L766 , L761;
thus L768: thesis by L767 , L766 , L573;
end;
L769: (for B300 being (Element of ( NAT )) holds (B300 in ( Seg C297 ) implies ( ( proj (B300 , C297) ) * ( C299 - C300 ) ) is_integrable_on C298)) by L747;
thus L770: ( C299 - C300 ) is_integrable_on C298 by L769 , L571;
L771: ( dom ( integral (( C299 + C300 ) , C298) ) ) = ( Seg C297 ) by FINSEQ_1:89;
L772: (for B301 being (Element of ( NAT )) holds (B301 in ( dom ( integral (( C299 + C300 ) , C298) ) ) implies ( ( integral (( C299 + C300 ) , C298) ) . B301 ) = ( ( ( integral (C299 , C298) ) + ( integral (C300 , C298) ) ) . B301 )))
proof
let C308 being (Element of ( NAT ));
assume L773: C308 in ( dom ( integral (( C299 + C300 ) , C298) ) );
L774: ( ( integral (( C299 + C300 ) , C298) ) . C308 ) = ( ( ( integral (C299 , C298) ) . C308 ) + ( ( integral (C300 , C298) ) . C308 ) ) by L773 , L765 , L771;
thus L775: thesis by L774 , RVSUM_1:11;
end;
L776: ( dom ( ( integral (C299 , C298) ) + ( integral (C300 , C298) ) ) ) = ( Seg C297 ) by FINSEQ_1:89;
thus L777: ( integral (( C299 + C300 ) , C298) ) = ( ( integral (C299 , C298) ) + ( integral (C300 , C298) ) ) by L776 , L772 , FINSEQ_1:89 , PARTFUN1:5;
L778: ( dom ( integral (( C299 - C300 ) , C298) ) ) = ( Seg C297 ) by FINSEQ_1:89;
L779: (for B302 being (Element of ( NAT )) holds (B302 in ( dom ( integral (( C299 - C300 ) , C298) ) ) implies ( ( integral (( C299 - C300 ) , C298) ) . B302 ) = ( ( ( integral (C299 , C298) ) - ( integral (C300 , C298) ) ) . B302 )))
proof
let C309 being (Element of ( NAT ));
assume L780: C309 in ( dom ( integral (( C299 - C300 ) , C298) ) );
L781: ( ( integral (( C299 - C300 ) , C298) ) . C309 ) = ( ( ( integral (C299 , C298) ) . C309 ) - ( ( integral (C300 , C298) ) . C309 ) ) by L780 , L765 , L778;
thus L782: thesis by L781 , RVSUM_1:27;
end;
L783: ( dom ( ( integral (C299 , C298) ) - ( integral (C300 , C298) ) ) ) = ( Seg C297 ) by FINSEQ_1:89;
thus L784: thesis by L783 , L779 , FINSEQ_1:89 , PARTFUN1:5;
end;
theorem
L785: (for B303 being (Element of ( NAT )) holds (for B304 being Real holds (for B305 being non  empty  closed_interval (Subset of ( REAL )) holds (for B306 being (PartFunc of ( REAL ) , ( REAL B303 )) holds ((B305 c= ( dom B306 ) & B306 is_integrable_on B305 & ( B306 | B305 ) is  bounded) implies (( B304 (#) B306 ) is_integrable_on B305 & ( integral (( B304 (#) B306 ) , B305) ) = ( B304 * ( integral (B306 , B305) ) )))))))
proof
let C310 being (Element of ( NAT ));
let C311 being Real;
let C312 being non  empty  closed_interval (Subset of ( REAL ));
let C313 being (PartFunc of ( REAL ) , ( REAL C310 ));
assume that
L786: C312 c= ( dom C313 )
and
L787: C313 is_integrable_on C312
and
L788: ( C313 | C312 ) is  bounded;
L789:
now
let C314 being (Element of ( NAT ));
L790: ( dom ( proj (C314 , C310) ) ) = ( REAL C310 ) by FUNCT_2:def 1;
L791: ( rng C313 ) c= ( dom ( proj (C314 , C310) ) ) by L790;
thus L792: C312 c= ( dom ( ( proj (C314 , C310) ) * C313 ) ) by L791 , L786 , RELAT_1:27;
end;
L793: (for B307 being (Element of ( NAT )) holds (B307 in ( Seg C310 ) implies ( integral (( C311 (#) ( ( proj (B307 , C310) ) * C313 ) ) , C312) ) = ( C311 * ( integral (( ( proj (B307 , C310) ) * C313 ) , C312) ) )))
proof
let C315 being (Element of ( NAT ));
assume L794: C315 in ( Seg C310 );
L795: ( ( ( proj (C315 , C310) ) * C313 ) | C312 ) = ( ( proj (C315 , C310) ) * ( C313 | C312 ) ) by L400;
L796: ( ( ( proj (C315 , C310) ) * C313 ) | C312 ) is  bounded by L795 , L788 , L794 , L569;
L797: C312 c= ( dom ( ( proj (C315 , C310) ) * C313 ) ) by L789;
L798: ( ( proj (C315 , C310) ) * C313 ) is_integrable_on C312 by L787 , L794 , L571;
thus L799: thesis by L798 , L796 , L797 , INTEGRA6:9;
end;
L800: (for B308 being (Element of ( NAT )) holds (B308 in ( Seg C310 ) implies ( ( C311 * ( integral (C313 , C312) ) ) . B308 ) = ( C311 * ( integral (( ( proj (B308 , C310) ) * C313 ) , C312) ) )))
proof
let C316 being (Element of ( NAT ));
assume L801: C316 in ( Seg C310 );
L802: ( C311 * ( ( integral (C313 , C312) ) . C316 ) ) = ( C311 * ( integral (( ( proj (C316 , C310) ) * C313 ) , C312) ) ) by L801 , L573;
thus L803: thesis by L802 , RVSUM_1:45;
end;
L804: (for B309 being (Element of ( NAT )) holds (B309 in ( Seg C310 ) implies ( ( integral (( C311 (#) C313 ) , C312) ) . B309 ) = ( ( C311 * ( integral (C313 , C312) ) ) . B309 )))
proof
let C317 being (Element of ( NAT ));
L805: ( integral (( C311 (#) ( ( proj (C317 , C310) ) * C313 ) ) , C312) ) = ( integral (( ( proj (C317 , C310) ) * ( C311 (#) C313 ) ) , C312) ) by L710;
assume L806: C317 in ( Seg C310 );
L807: (( ( integral (( C311 (#) C313 ) , C312) ) . C317 ) = ( integral (( ( proj (C317 , C310) ) * ( C311 (#) C313 ) ) , C312) ) & ( ( C311 * ( integral (C313 , C312) ) ) . C317 ) = ( C311 * ( integral (( ( proj (C317 , C310) ) * C313 ) , C312) ) )) by L806 , L800 , L573;
thus L808: thesis by L807 , L793 , L806 , L805;
end;
L809: (for B310 being (Element of ( NAT )) holds (B310 in ( Seg C310 ) implies ( ( proj (B310 , C310) ) * ( C311 (#) C313 ) ) is_integrable_on C312))
proof
let C318 being (Element of ( NAT ));
assume L810: C318 in ( Seg C310 );
L811: ( ( ( proj (C318 , C310) ) * C313 ) | C312 ) = ( ( proj (C318 , C310) ) * ( C313 | C312 ) ) by L400;
L812: ( ( ( proj (C318 , C310) ) * C313 ) | C312 ) is  bounded by L811 , L788 , L810 , L569;
L813: C312 c= ( dom ( ( proj (C318 , C310) ) * C313 ) ) by L789;
L814: ( ( proj (C318 , C310) ) * C313 ) is_integrable_on C312 by L787 , L810 , L571;
L815: ( C311 (#) ( ( proj (C318 , C310) ) * C313 ) ) is_integrable_on C312 by L814 , L812 , L813 , INTEGRA6:9;
thus L816: thesis by L815 , L710;
end;
thus L817: ( C311 (#) C313 ) is_integrable_on C312 by L809 , L571;
L818: ( dom ( integral (( C311 (#) C313 ) , C312) ) ) = ( Seg C310 ) by FINSEQ_1:89;
L819: ( dom ( integral (( C311 (#) C313 ) , C312) ) ) = ( dom ( C311 * ( integral (C313 , C312) ) ) ) by L818 , FINSEQ_1:89;
thus L820: thesis by L819 , L804 , L818 , PARTFUN1:5;
end;
theorem
L821: (for B311 being (Element of ( NAT )) holds (for B312 being (PartFunc of ( REAL ) , ( REAL B311 )) holds (for B313 being non  empty  closed_interval (Subset of ( REAL )) holds (for B314 , B315 being Real holds (B313 = [. B314 , B315 .] implies ( integral (B312 , B313) ) = ( integral (B312 , B314 , B315) ))))))
proof
let C319 being (Element of ( NAT ));
let C320 being (PartFunc of ( REAL ) , ( REAL C319 ));
let C321 being non  empty  closed_interval (Subset of ( REAL ));
let C322 , C323 being Real;
assume L822: C321 = [. C322 , C323 .];
L823:
now
let C324 being Nat;
assume L824: C324 in ( dom ( integral (C320 , C321) ) );
reconsider D98 = C324 as (Element of ( NAT )) by L824;
L825: ( dom ( integral (C320 , C321) ) ) = ( Seg C319 ) by L573;
L826: (( ( integral (C320 , C321) ) . D98 ) = ( integral (( ( proj (D98 , C319) ) * C320 ) , C321) ) & ( ( integral (C320 , C322 , C323) ) . D98 ) = ( integral (( ( proj (D98 , C319) ) * C320 ) , C322 , C323) )) by L825 , L824 , L573 , L632;
thus L827: ( ( integral (C320 , C321) ) . C324 ) = ( ( integral (C320 , C322 , C323) ) . C324 ) by L826 , L822 , INTEGRA5:19;
end;
L828: ( dom ( integral (C320 , C321) ) ) = ( Seg C319 ) by L573
.= ( dom ( integral (C320 , C322 , C323) ) ) by L632;
thus L829: ( integral (C320 , C321) ) = ( integral (C320 , C322 , C323) ) by L828 , L823 , FINSEQ_1:13;
end;
theorem
L830: (for B316 being (Element of ( NAT )) holds (for B317 being (PartFunc of ( REAL ) , ( REAL B316 )) holds (for B318 being non  empty  closed_interval (Subset of ( REAL )) holds (for B319 , B320 being Real holds (B318 = [. B320 , B319 .] implies ( - ( integral (B317 , B318) ) ) = ( integral (B317 , B319 , B320) ))))))
proof
let C325 being (Element of ( NAT ));
let C326 being (PartFunc of ( REAL ) , ( REAL C325 ));
let C327 being non  empty  closed_interval (Subset of ( REAL ));
let C328 , C329 being Real;
assume L831: C327 = [. C329 , C328 .];
L832:
now
let C330 being Nat;
assume L833: C330 in ( dom ( - ( integral (C326 , C327) ) ) );
reconsider D99 = C330 as (Element of ( NAT )) by L833;
L834: ( dom ( integral (C326 , C327) ) ) = ( Seg C325 ) by L573;
L835: D99 in ( dom ( integral (C326 , C327) ) ) by L833 , VALUED_1:8;
L836: ( ( integral (C326 , C328 , C329) ) . D99 ) = ( integral (( ( proj (D99 , C325) ) * C326 ) , C328 , C329) ) by L835 , L834 , L632;
L837: ( ( - ( integral (C326 , C327) ) ) . D99 ) = ( - ( ( integral (C326 , C327) ) . D99 ) ) by VALUED_1:8
.= ( - ( integral (( ( proj (D99 , C325) ) * C326 ) , C327) ) ) by L835 , L834 , L573;
thus L838: ( ( - ( integral (C326 , C327) ) ) . C330 ) = ( ( integral (C326 , C328 , C329) ) . C330 ) by L837 , L831 , L836 , INTEGRA5:20;
end;
L839: ( dom ( - ( integral (C326 , C327) ) ) ) = ( dom ( ( - 1 ) (#) ( integral (C326 , C327) ) ) ) by VALUED_1:def 6
.= ( dom ( integral (C326 , C327) ) ) by VALUED_1:def 5
.= ( Seg C325 ) by L573
.= ( dom ( integral (C326 , C328 , C329) ) ) by L632;
thus L840: thesis by L839 , L832 , FINSEQ_1:13;
end;
theorem
L841: (for B321 being Nat holds (for B322 , B323 being set holds (for B324 , B325 being (PartFunc of B322 , ( REAL B321 )) holds (B323 in ( dom ( B324 + B325 ) ) implies ( ( B324 + B325 ) /. B323 ) = ( ( B324 /. B323 ) + ( B325 /. B323 ) )))))
proof
let C331 being Nat;
let C332 , C333 being set;
let C334 , C335 being (PartFunc of C332 , ( REAL C331 ));
assume L842: C333 in ( dom ( C334 + C335 ) );
L843: ( dom ( C334 + C335 ) ) = ( ( dom C334 ) /\ ( dom C335 ) ) by VALUED_2:def 45;
L844: (C333 in ( dom C334 ) & C333 in ( dom C335 )) by L843 , L842 , XBOOLE_0:def 4;
L845: (( C334 . C333 ) = ( C334 /. C333 ) & ( C335 . C333 ) = ( C335 /. C333 )) by L844 , PARTFUN1:def 6;
thus L846: ( ( C334 + C335 ) /. C333 ) = ( ( C334 + C335 ) . C333 ) by L842 , PARTFUN1:def 6
.= ( ( C334 /. C333 ) + ( C335 /. C333 ) ) by L842 , L845 , VALUED_2:def 45;
end;
theorem
L847: (for B326 being Nat holds (for B327 , B328 being set holds (for B329 , B330 being (PartFunc of B327 , ( REAL B326 )) holds (B328 in ( dom ( B329 - B330 ) ) implies ( ( B329 - B330 ) /. B328 ) = ( ( B329 /. B328 ) - ( B330 /. B328 ) )))))
proof
let C336 being Nat;
let C337 , C338 being set;
let C339 , C340 being (PartFunc of C337 , ( REAL C336 ));
assume L848: C338 in ( dom ( C339 - C340 ) );
L849: ( dom ( C339 - C340 ) ) = ( ( dom C339 ) /\ ( dom C340 ) ) by VALUED_2:def 46;
L850: (C338 in ( dom C339 ) & C338 in ( dom C340 )) by L849 , L848 , XBOOLE_0:def 4;
L851: (( C339 . C338 ) = ( C339 /. C338 ) & ( C340 . C338 ) = ( C340 /. C338 )) by L850 , PARTFUN1:def 6;
thus L852: ( ( C339 - C340 ) /. C338 ) = ( ( C339 - C340 ) . C338 ) by L848 , PARTFUN1:def 6
.= ( ( C339 /. C338 ) - ( C340 /. C338 ) ) by L848 , L851 , VALUED_2:def 46;
end;
theorem
L853: (for B331 being Nat holds (for B332 , B333 being set holds (for B334 being (PartFunc of B332 , ( REAL B331 )) holds (for B335 being  real number holds (B333 in ( dom ( B335 (#) B334 ) ) implies ( ( B335 (#) B334 ) /. B333 ) = ( B335 * ( B334 /. B333 ) ))))))
proof
let C341 being Nat;
let C342 , C343 being set;
let C344 being (PartFunc of C342 , ( REAL C341 ));
let C345 being  real number;
assume L854: C343 in ( dom ( C345 (#) C344 ) );
L855: ( dom ( C345 (#) C344 ) ) = ( dom C344 ) by VALUED_2:def 39;
L856: ( C344 . C343 ) = ( C344 /. C343 ) by L855 , L854 , PARTFUN1:def 6;
thus L857: ( ( C345 (#) C344 ) /. C343 ) = ( ( C345 (#) C344 ) . C343 ) by L854 , PARTFUN1:def 6
.= ( C345 * ( C344 /. C343 ) ) by L854 , L856 , VALUED_2:def 39;
end;
