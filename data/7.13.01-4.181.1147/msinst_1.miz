:: Examples of Category Structures
::  by Adam Grabowski
::
:: Received June 11, 1996
:: Copyright (c) 1996-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, STRUCT_0, MSUALG_1, ALTCAT_1, MSALIMIT, SUBSET_1,
      FUNCT_1, CAT_1, RELAT_1, PBOOLE, ZFMISC_1, MCART_1, PUA2MSS1, RELAT_2,
      BINOP_1, TARSKI, MSUALG_6, FUNCT_2, PARTFUN1, NUMBERS, CARD_3, FUNCOP_1,
      PZFMISC1, MARGREL1, MEMBER_1, FUNCT_6, FINSEQ_4, MSUALG_3, MSINST_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, XTUPLE_0, MCART_1,
      RELAT_1, FUNCT_1, STRUCT_0, FUNCT_2, RELSET_1, PARTFUN1, FINSEQ_2,
      CARD_3, BINOP_1, MULTOP_1, FUNCT_6, FUNCOP_1, PBOOLE, PZFMISC1, PRALG_1,
      MSUALG_1, MSUALG_3, ALTCAT_1, PRALG_2, PUA2MSS1, MSUALG_6, MSALIMIT;
 constructors PZFMISC1, MSUALG_3, ALTCAT_1, PUA2MSS1, CLOSURE1, MSUALG_6,
      MSALIMIT, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, FUNCT_1, RELSET_1, FUNCOP_1, RELAT_1,
      STRUCT_0, MSUALG_1, ALTCAT_1, MSUALG_6, MSALIMIT, MSSUBFAM, PBOOLE,
      FINSEQ_1, XTUPLE_0;
 requirements SUBSET, BOOLE;
 definitions ALTCAT_1, MSUALG_3, PBOOLE, TARSKI, XBOOLE_0, BINOP_1, XTUPLE_0;
 theorems XBOOLE_0, ALTCAT_1, ALTCAT_2, AUTALG_1, CARD_3, CLOSURE1, FUNCOP_1,
      FUNCT_1, FUNCT_2, FUNCT_6, FUNCTOR0, MCART_1, MSSUBFAM, MSUALG_1,
      MSUALG_3, MSUALG_6, MSALIMIT, MULTOP_1, PARTFUN1, PBOOLE, PRALG_2,
      PUA2MSS1, RELAT_1, TARSKI, ZFMISC_1, PRALG_1, XBOOLE_1, PZFMISC1,
      FINSEQ_2, XTUPLE_0;
 schemes ALTCAT_1, MSSUBFAM, TARSKI, XBOOLE_0;

begin
definition
let R1 being non  empty set;
func MSSCat R1 ->  strict non  empty AltCatStr means 
:L1: ((the carrier of it) = ( MSS_set R1 ) & (for B1 , B2 being (Element of ( MSS_set R1 )) holds ( (the Arrows of it) . (B1 , B2) ) = ( MSS_morph (B1 , B2) )) & (for B3 , B4 , B5 being (object of it) holds ((B3 in ( MSS_set R1 ) & B4 in ( MSS_set R1 ) & B5 in ( MSS_set R1 )) implies (for B6 , B7 , B8 , B9 being Function holds (([ B6 , B7 ] in ( (the Arrows of it) . (B3 , B4) ) & [ B8 , B9 ] in ( (the Arrows of it) . (B4 , B5) )) implies ( ( (the Comp of it) . (B3 , B4 , B5) ) . ([ B8 , B9 ] , [ B6 , B7 ]) ) = [ ( B8 * B6 ) , ( B9 * B7 ) ])))));
existence
proof
set D1 = ( MSS_set R1 );
deffunc H1((Element of D1) , (Element of D1)) = ( MSS_morph ($1 , $2) );
consider C1 being (ManySortedSet of [: D1 , D1 :]) such that L2: (for B10 , B11 being (Element of D1) holds ( C1 . (B10 , B11) ) = H1(B10 , B11)) from ALTCAT_1:sch 2;
defpred S1[ set , set , set ] means (ex B12 , B13 , B14 being (Element of ( MSS_set R1 )) st ($3 = [ B12 , B13 , B14 ] & (for B15 , B16 , B17 , B18 being Function holds (([ B15 , B16 ] in ( C1 . (B12 , B13) ) & [ B17 , B18 ] in ( C1 . (B13 , B14) ) & $2 = [ [ B17 , B18 ] , [ B15 , B16 ] ]) implies $1 = [ ( B17 * B15 ) , ( B18 * B16 ) ]))));
L3: (for B19 being set holds (B19 in [: D1 , D1 , D1 :] implies (for B20 being set holds (B20 in ( {| C1 , C1 |} . B19 ) implies (ex B21 being set st (B21 in ( {| C1 |} . B19 ) & S1[ B21 , B20 , B19 ]))))))
proof
let C2 being set;
assume L4: C2 in [: D1 , D1 , D1 :];
consider C3 , C4 , C5 being set such that L5: (C3 in D1 & C4 in D1 & C5 in D1) and L6: C2 = [ C3 , C4 , C5 ] by L4 , MCART_1:68;
reconsider D2 = C3 , D3 = C4 , D4 = C5 as (Element of D1) by L5;
let C6 being set;
L7: (( {| C1 , C1 |} . (D2 , D3 , D4) ) = ( {| C1 , C1 |} . [ D2 , D3 , D4 ] ) & ( {| C1 , C1 |} . (D2 , D3 , D4) ) = [: ( C1 . (D3 , D4) ) , ( C1 . (D2 , D3) ) :]) by ALTCAT_1:def 4 , MULTOP_1:def 1;
L8: ( {| C1 |} . C2 ) = ( {| C1 |} . (D2 , D3 , D4) ) by L6 , MULTOP_1:def 1;
assume L9: C6 in ( {| C1 , C1 |} . C2 );
L10: ( C6 `1 ) in ( C1 . (D3 , D4) ) by L9 , L6 , L7 , MCART_1:10;
L11: ( C6 `1 ) in ( MSS_morph (D3 , D4) ) by L10 , L2;
consider C7 , C8 being Function such that L12: ( C6 `1 ) = [ C7 , C8 ] and L13: C7 , C8 form_morphism_between D3 , D4 by L11 , MSALIMIT:def 10;
L14: ( C6 `2 ) in ( C1 . (D2 , D3) ) by L6 , L9 , L7 , MCART_1:10;
L15: ( C6 `2 ) in ( MSS_morph (D2 , D3) ) by L14 , L2;
consider C9 , C10 being Function such that L16: ( C6 `2 ) = [ C9 , C10 ] and L17: C9 , C10 form_morphism_between D2 , D3 by L15 , MSALIMIT:def 10;
take D5 = [ ( C7 * C9 ) , ( C8 * C10 ) ];
L18: ( C7 * C9 ) , ( C8 * C10 ) form_morphism_between D2 , D4 by L17 , L13 , PUA2MSS1:29;
L19: (( {| C1 |} . (D2 , D3 , D4) ) = ( C1 . (D2 , D4) ) & D5 in ( MSS_morph (D2 , D4) )) by L18 , ALTCAT_1:def 3 , MSALIMIT:def 10;
thus L20: D5 in ( {| C1 |} . C2 ) by L19 , L2 , L8;
take D2;
take D3;
take D4;
thus L21: C2 = [ D2 , D3 , D4 ] by L6;
let C11 , C12 , C13 , C14 being Function;
assume that
L22: [ C11 , C12 ] in ( C1 . (D2 , D3) )
and
L23: [ C13 , C14 ] in ( C1 . (D3 , D4) )
and
L24: C6 = [ [ C13 , C14 ] , [ C11 , C12 ] ];
L25: ( C6 `1 ) = [ C13 , C14 ] by L24 , MCART_1:7;
L26: (C13 = C7 & C14 = C8) by L25 , L12 , XTUPLE_0:1;
L27: ( C6 `2 ) = [ C11 , C12 ] by L24 , MCART_1:7;
L28: C11 = C9 by L27 , L16 , XTUPLE_0:1;
thus L29: thesis by L28 , L16 , L27 , L26 , XTUPLE_0:1;
end;
consider C15 being (ManySortedFunction of {| C1 , C1 |} , {| C1 |}) such that L30: (for B22 being set holds (B22 in [: D1 , D1 , D1 :] implies (ex B23 being (Function of ( {| C1 , C1 |} . B22 ) , ( {| C1 |} . B22 )) st (B23 = ( C15 . B22 ) & (for B24 being set holds (B24 in ( {| C1 , C1 |} . B22 ) implies S1[ ( B23 . B24 ) , B24 , B22 ])))))) from MSSUBFAM:sch 1(L3);
take D6 = AltCatStr (# D1 , C1 , C15 #);
reconsider D7 = D6 as non  empty AltCatStr;
L31: (for B25 , B26 , B27 being (object of D7) holds ((B25 in ( MSS_set R1 ) & B26 in ( MSS_set R1 ) & B27 in ( MSS_set R1 )) implies (for B28 , B29 , B30 , B31 being Function holds (([ B28 , B29 ] in ( (the Arrows of D7) . (B25 , B26) ) & [ B30 , B31 ] in ( (the Arrows of D7) . (B26 , B27) )) implies ( ( (the Comp of D7) . (B25 , B26 , B27) ) . ([ B30 , B31 ] , [ B28 , B29 ]) ) = [ ( B30 * B28 ) , ( B31 * B29 ) ]))))
proof
let C16 , C17 , C18 being (object of D7);
assume that
L32: C16 in ( MSS_set R1 )
and
L33: C17 in ( MSS_set R1 )
and
L34: C18 in ( MSS_set R1 );
let C19 , C20 , C21 , C22 being Function;
assume L35: ([ C19 , C20 ] in ( (the Arrows of D7) . (C16 , C17) ) & [ C21 , C22 ] in ( (the Arrows of D7) . (C17 , C18) ));
set D8 = [ [ C21 , C22 ] , [ C19 , C20 ] ];
set D9 = [ C16 , C17 , C18 ];
L36: D9 in [: D1 , D1 , D1 :] by MCART_1:69;
consider C23 being (Function of ( {| C1 , C1 |} . D9 ) , ( {| C1 |} . D9 )) such that L37: C23 = ( C15 . D9 ) and L38: (for B32 being set holds (B32 in ( {| C1 , C1 |} . D9 ) implies S1[ ( C23 . B32 ) , B32 , D9 ])) by L36 , L30;
L39: C23 = ( (the Comp of D7) . (C16 , C17 , C18) ) by L37 , MULTOP_1:def 1;
L40: (( {| C1 , C1 |} . (C16 , C17 , C18) ) = ( {| C1 , C1 |} . [ C16 , C17 , C18 ] ) & ( {| C1 , C1 |} . (C16 , C17 , C18) ) = [: ( C1 . (C17 , C18) ) , ( C1 . (C16 , C17) ) :]) by ALTCAT_1:def 4 , MULTOP_1:def 1;
L41: D8 in ( {| C1 , C1 |} . D9 ) by L40 , L35 , ZFMISC_1:87;
consider C24 , C25 , C26 being (Element of ( MSS_set R1 )) such that L42: D9 = [ C24 , C25 , C26 ] and L43: (for B33 , B34 , B35 , B36 being Function holds (([ B33 , B34 ] in ( C1 . (C24 , C25) ) & [ B35 , B36 ] in ( C1 . (C25 , C26) ) & D8 = [ [ B35 , B36 ] , [ B33 , B34 ] ]) implies ( C23 . D8 ) = [ ( B35 * B33 ) , ( B36 * B34 ) ])) by L41 , L38;
L44: C26 = C18 by L42 , XTUPLE_0:3;
L45: (C24 = C16 & C25 = C17) by L42 , XTUPLE_0:3;
thus L46: thesis by L45 , L35 , L43 , L44 , L39;
end;
thus L47: thesis by L31 , L2;
end;
uniqueness
proof
set D10 = ( MSS_set R1 );
let C27 , C28 being non  empty  strict AltCatStr;
assume that
L48: (the carrier of C27) = ( MSS_set R1 )
and
L49: (for B37 , B38 being (Element of ( MSS_set R1 )) holds ( (the Arrows of C27) . (B37 , B38) ) = ( MSS_morph (B37 , B38) ))
and
L50: (for B39 , B40 , B41 being (object of C27) holds ((B39 in ( MSS_set R1 ) & B40 in ( MSS_set R1 ) & B41 in ( MSS_set R1 )) implies (for B42 , B43 , B44 , B45 being Function holds (([ B42 , B43 ] in ( (the Arrows of C27) . (B39 , B40) ) & [ B44 , B45 ] in ( (the Arrows of C27) . (B40 , B41) )) implies ( ( (the Comp of C27) . (B39 , B40 , B41) ) . ([ B44 , B45 ] , [ B42 , B43 ]) ) = [ ( B44 * B42 ) , ( B45 * B43 ) ]))))
and
L51: (the carrier of C28) = ( MSS_set R1 )
and
L52: (for B46 , B47 being (Element of ( MSS_set R1 )) holds ( (the Arrows of C28) . (B46 , B47) ) = ( MSS_morph (B46 , B47) ))
and
L53: (for B48 , B49 , B50 being (object of C28) holds ((B48 in ( MSS_set R1 ) & B49 in ( MSS_set R1 ) & B50 in ( MSS_set R1 )) implies (for B51 , B52 , B53 , B54 being Function holds (([ B51 , B52 ] in ( (the Arrows of C28) . (B48 , B49) ) & [ B53 , B54 ] in ( (the Arrows of C28) . (B49 , B50) )) implies ( ( (the Comp of C28) . (B48 , B49 , B50) ) . ([ B53 , B54 ] , [ B51 , B52 ]) ) = [ ( B53 * B51 ) , ( B54 * B52 ) ]))));
reconsider D11 = (the Arrows of C28) as (ManySortedSet of [: D10 , D10 :]) by L51;
reconsider D12 = (the Arrows of C27) as (ManySortedSet of [: D10 , D10 :]) by L48;
reconsider D13 = (the Comp of C27) , D14 = (the Comp of C28) as (ManySortedSet of [: D10 , D10 , D10 :]) by L48 , L51;
L54:
now
let C29 , C30 being (Element of ( MSS_set R1 ));
thus L55: ( D12 . (C29 , C30) ) = ( MSS_morph (C29 , C30) ) by L49
.= ( D11 . (C29 , C30) ) by L52;
end;
L56: D12 = D11 by L54 , ALTCAT_1:7;
L57:
now
let C31 , C32 , C33 being set;
set D15 = [ C31 , C32 , C33 ];
L58: ( D13 . (C31 , C32 , C33) ) = ( D13 . [ C31 , C32 , C33 ] ) by MULTOP_1:def 1;
assume L59: (C31 in ( MSS_set R1 ) & C32 in ( MSS_set R1 ) & C33 in ( MSS_set R1 ));
reconsider D16 = C31 , D17 = C32 , D18 = C33 as (Element of D10) by L59;
reconsider D19 = C31 , D20 = C32 , D21 = C33 as (Element of C28) by L51 , L59;
reconsider D22 = C31 , D23 = C32 , D24 = C33 as (Element of C27) by L48 , L59;
L60: D15 in [: D10 , D10 , D10 :] by L59 , MCART_1:69;
L61: ( D14 . (C31 , C32 , C33) ) = ( D14 . [ C31 , C32 , C33 ] ) by MULTOP_1:def 1;
thus L62: ( D13 . (C31 , C32 , C33) ) = ( D14 . (C31 , C32 , C33) )
proof
reconsider D25 = ( D14 . D15 ) as (Function of ( {| D11 , D11 |} . D15 ) , ( {| D11 |} . D15 )) by L51 , L60 , PBOOLE:def 15;
reconsider D26 = ( D13 . D15 ) as (Function of ( {| D12 , D12 |} . D15 ) , ( {| D12 |} . D15 )) by L48 , L60 , PBOOLE:def 15;
per cases ;
suppose L63: ( {| D12 |} . D15 ) <> ( {} );

L64: (for B55 being set holds (B55 in ( {| D12 , D12 |} . D15 ) implies ( D26 . B55 ) = ( D25 . B55 )))
proof
let C34 being set;
assume L65: C34 in ( {| D12 , D12 |} . D15 );
L66: C34 in ( {| D12 , D12 |} . (C31 , C32 , C33) ) by L65 , MULTOP_1:def 1;
L67: C34 in [: ( D12 . (C32 , C33) ) , ( D12 . (C31 , C32) ) :] by L66 , L59 , ALTCAT_1:def 4;
L68: ( C34 `1 ) in ( D12 . (C32 , C33) ) by L67 , MCART_1:10;
L69: ( C34 `1 ) in ( MSS_morph (D17 , D18) ) by L68 , L49;
consider C35 , C36 being Function such that L70: ( C34 `1 ) = [ C35 , C36 ] and L71: C35 , C36 form_morphism_between D17 , D18 by L69 , MSALIMIT:def 10;
L72: C34 in ( {| D11 , D11 |} . (C31 , C32 , C33) ) by L56 , L65 , MULTOP_1:def 1;
L73: C34 in [: ( D11 . (C32 , C33) ) , ( D11 . (C31 , C32) ) :] by L72 , L59 , ALTCAT_1:def 4;
L74: (( C34 `1 ) in ( D11 . (C32 , C33) ) & ( C34 `2 ) in ( D11 . (C31 , C32) )) by L73 , MCART_1:10;
L75: ( C34 `2 ) in ( D12 . (C31 , C32) ) by L67 , MCART_1:10;
L76: ( C34 `2 ) in ( MSS_morph (D16 , D17) ) by L75 , L49;
consider C37 , C38 being Function such that L77: ( C34 `2 ) = [ C37 , C38 ] and L78: C37 , C38 form_morphism_between D16 , D17 by L76 , MSALIMIT:def 10;
L79: C34 = [ [ C35 , C36 ] , [ C37 , C38 ] ] by L67 , L70 , L77 , MCART_1:21;
L80: ( D26 . C34 ) = ( ( (the Comp of C27) . (D22 , D23 , D24) ) . ([ C35 , C36 ] , [ C37 , C38 ]) ) by L79 , MULTOP_1:def 1
.= [ ( C35 * C37 ) , ( C36 * C38 ) ] by L48 , L50 , L68 , L75 , L70 , L77
.= ( ( (the Comp of C28) . (D19 , D20 , D21) ) . ([ C35 , C36 ] , [ C37 , C38 ]) ) by L51 , L53 , L74 , L70 , L77
.= ( D25 . C34 ) by L79 , MULTOP_1:def 1;
thus L81: thesis by L80;
end;
L82: ( {| D11 |} . D15 ) <> ( {} ) by L54 , L63 , ALTCAT_1:7;
L83: ( dom D25 ) = ( {| D11 , D11 |} . D15 ) by L82 , FUNCT_2:def 1;
L84: ( dom D26 ) = ( {| D12 , D12 |} . D15 ) by L63 , FUNCT_2:def 1;
thus L85: thesis by L84 , L56 , L58 , L61 , L83 , L64 , FUNCT_1:2;
end;
suppose L86: ( {| D12 |} . D15 ) = ( {} );

L87: (D26 = ( {} ) & D25 = ( {} )) by L86 , L56;
thus L88: thesis by L87 , L58 , MULTOP_1:def 1;
end;
end;

end;
thus L63: thesis by L57 , L48 , L51 , L56 , ALTCAT_1:8;
end;
end;
registration
let R1 being non  empty set;
cluster ( MSSCat R1 ) ->  transitive  associative  with_units;
coherence
proof
set D27 = ( MSSCat R1 );
set D28 = ( MSSCat R1 );
thus L65: D28 is  transitive
proof
let C39 , C40 , C41 being (object of D28);
reconsider D29 = C39 , D30 = C40 , D31 = C41 as (Element of ( MSS_set R1 )) by L1;
assume that
L66: <^ C39 , C40 ^> <> ( {} )
and
L67: <^ C40 , C41 ^> <> ( {} );
set D32 = the (Element of ( MSS_morph (D30 , D31) ));
L68: ( MSS_morph (D30 , D31) ) <> ( {} ) by L67 , L1;
consider C42 , C43 being Function such that L69: D32 = [ C42 , C43 ] and L70: C42 , C43 form_morphism_between D30 , D31 by L68 , MSALIMIT:def 10;
set D33 = the (Element of ( MSS_morph (D29 , D30) ));
L71: ( MSS_morph (D29 , D30) ) <> ( {} ) by L66 , L1;
consider C44 , C45 being Function such that L72: D33 = [ C44 , C45 ] and L73: C44 , C45 form_morphism_between D29 , D30 by L71 , MSALIMIT:def 10;
L74: ( C42 * C44 ) , ( C43 * C45 ) form_morphism_between D29 , D31 by L73 , L70 , PUA2MSS1:29;
L75: [ ( C42 * C44 ) , ( C43 * C45 ) ] in ( MSS_morph (D29 , D31) ) by L74 , MSALIMIT:def 10;
thus L76: thesis by L75 , L1;
end;

set D34 = (the Arrows of D27);
set D35 = (the Comp of D27);
thus L77: D35 is  associative
proof
let C46 , C47 , C48 , C49 being (Element of D27);
reconsider D36 = C46 , D37 = C47 , D38 = C48 , D39 = C49 as (object of D27);
let C50 , C51 , C52 being set;
reconsider D40 = C46 , D41 = C47 , D42 = C48 , D43 = C49 as (Element of ( MSS_set R1 )) by L1;
assume that
L78: C50 in ( D34 . (C46 , C47) )
and
L79: C51 in ( D34 . (C47 , C48) )
and
L80: C52 in ( D34 . (C48 , C49) );
L81: C51 in ( MSS_morph (D41 , D42) ) by L79 , L1;
consider C53 , C54 being Function such that L82: C51 = [ C53 , C54 ] and L83: C53 , C54 form_morphism_between D41 , D42 by L81 , MSALIMIT:def 10;
L84: C50 in ( MSS_morph (D40 , D41) ) by L78 , L1;
consider C55 , C56 being Function such that L85: C50 = [ C55 , C56 ] and L86: C55 , C56 form_morphism_between D40 , D41 by L84 , MSALIMIT:def 10;
L87: ( ( D35 . (C46 , C47 , C48) ) . (C51 , C50) ) = [ ( C53 * C55 ) , ( C54 * C56 ) ] by L78 , L79 , L85 , L86 , L82 , L83 , L1;
L88: C52 in ( MSS_morph (D42 , D43) ) by L80 , L1;
consider C57 , C58 being Function such that L89: C52 = [ C57 , C58 ] and L90: C57 , C58 form_morphism_between D42 , D43 by L88 , MSALIMIT:def 10;
L91: ( ( D35 . (C47 , C48 , C49) ) . (C52 , C51) ) = [ ( C57 * C53 ) , ( C58 * C54 ) ] by L79 , L80 , L82 , L83 , L89 , L90 , L1;
L92: ( C57 * C53 ) , ( C58 * C54 ) form_morphism_between D41 , D43 by L83 , L90 , PUA2MSS1:29;
L93: [ ( C57 * C53 ) , ( C58 * C54 ) ] in ( MSS_morph (D41 , D43) ) by L92 , MSALIMIT:def 10;
L94: [ ( C57 * C53 ) , ( C58 * C54 ) ] in ( D34 . (C47 , C49) ) by L93 , L1;
L95: (( ( C57 * C53 ) * C55 ) = ( C57 * ( C53 * C55 ) ) & ( ( C58 * C54 ) * C56 ) = ( C58 * ( C54 * C56 ) )) by RELAT_1:36;
L96: D37 in (the carrier of D27);
L97: D37 in ( MSS_set R1 ) by L96 , L1;
L98: D39 in (the carrier of D27);
L99: D39 in ( MSS_set R1 ) by L98 , L1;
L100: ( C53 * C55 ) , ( C54 * C56 ) form_morphism_between D40 , D42 by L86 , L83 , PUA2MSS1:29;
L101: [ ( C53 * C55 ) , ( C54 * C56 ) ] in ( MSS_morph (D40 , D42) ) by L100 , MSALIMIT:def 10;
L102: [ ( C53 * C55 ) , ( C54 * C56 ) ] in ( D34 . (C46 , C48) ) by L101 , L1;
L103: D36 in (the carrier of D27);
L104: D36 in ( MSS_set R1 ) by L103 , L1;
L105: D38 in (the carrier of D27);
L106: D38 in ( MSS_set R1 ) by L105 , L1;
L107: ( ( D35 . (C46 , C48 , C49) ) . (C52 , [ ( C53 * C55 ) , ( C54 * C56 ) ]) ) = [ ( C57 * ( C53 * C55 ) ) , ( C58 * ( C54 * C56 ) ) ] by L106 , L104 , L99 , L80 , L89 , L102 , L1;
thus L108: thesis by L107 , L104 , L97 , L99 , L78 , L85 , L87 , L91 , L94 , L95 , L1;
end;

thus L109: D35 is  with_left_units
proof
let C59 being (Element of D27);
reconsider D44 = C59 as (Element of ( MSS_set R1 )) by L1;
set D45 = ( id (the carrier of D44) );
set D46 = ( id (the carrier' of D44) );
take D47 = [ D45 , D46 ];
L110: (D45 , D46 form_morphism_between D44 , D44 & ( D34 . (C59 , C59) ) = ( MSS_morph (D44 , D44) )) by L1 , PUA2MSS1:28;
thus L111: D47 in ( D34 . (C59 , C59) ) by L110 , MSALIMIT:def 10;
let C60 being (Element of D27);
reconsider D48 = C60 as (Element of ( MSS_set R1 )) by L1;
let C61 being set;
reconsider D49 = C60 , D50 = C59 as (object of D27);
assume L112: C61 in ( D34 . (C60 , C59) );
L113: C61 in ( MSS_morph (D48 , D44) ) by L112 , L1;
consider C62 , C63 being Function such that L114: C61 = [ C62 , C63 ] and L115: C62 , C63 form_morphism_between D48 , D44 by L113 , MSALIMIT:def 10;
L116: ( rng C63 ) c= (the carrier' of D44) by L115 , PUA2MSS1:def 12;
L117: ( rng C62 ) c= (the carrier of D44) by L115 , PUA2MSS1:def 12;
L118: ( D45 * C62 ) = C62 by L117 , RELAT_1:53;
L119: ( ( D35 . (D49 , D50 , D50) ) . ([ D45 , D46 ] , [ C62 , C63 ]) ) = [ ( D45 * C62 ) , ( D46 * C63 ) ] by L111 , L112 , L114 , L115 , L1;
thus L120: thesis by L119 , L114 , L116 , L118 , RELAT_1:53;
end;

thus L121: D35 is  with_right_units
proof
let C64 being (Element of D27);
reconsider D51 = C64 as (Element of ( MSS_set R1 )) by L1;
set D52 = ( id (the carrier of D51) );
set D53 = ( id (the carrier' of D51) );
take D54 = [ D52 , D53 ];
L122: (D52 , D53 form_morphism_between D51 , D51 & ( D34 . (C64 , C64) ) = ( MSS_morph (D51 , D51) )) by L1 , PUA2MSS1:28;
thus L123: D54 in ( D34 . (C64 , C64) ) by L122 , MSALIMIT:def 10;
let C65 being (Element of D27);
reconsider D55 = C65 as (Element of ( MSS_set R1 )) by L1;
let C66 being set;
reconsider D56 = C64 , D57 = C65 as (object of D27);
assume L124: C66 in ( D34 . (C64 , C65) );
L125: C66 in ( MSS_morph (D51 , D55) ) by L124 , L1;
consider C67 , C68 being Function such that L126: C66 = [ C67 , C68 ] and L127: C67 , C68 form_morphism_between D51 , D55 by L125 , MSALIMIT:def 10;
L128: ( dom C68 ) = (the carrier' of D51) by L127 , PUA2MSS1:def 12;
L129: ( dom C67 ) = (the carrier of D51) by L127 , PUA2MSS1:def 12;
L130: ( C67 * D52 ) = C67 by L129 , RELAT_1:52;
L131: ( ( D35 . (D56 , D56 , D57) ) . ([ C67 , C68 ] , [ D52 , D53 ]) ) = [ ( C67 * D52 ) , ( C68 * D53 ) ] by L123 , L124 , L126 , L127 , L1;
thus L132: thesis by L131 , L126 , L128 , L130 , RELAT_1:52;
end;

end;
end;
theorem
L123: (for R1 being non  empty set holds (for B56 being category holds (B56 = ( MSSCat R1 ) implies (for B57 being (object of B56) holds B57 is non  empty non  void non  empty non  void non  empty non  void non  empty non  void ManySortedSign))))
proof
let R1 being non  empty set;
let C69 being category;
assume L124: C69 = ( MSSCat R1 );
let C70 being (object of C69);
reconsider D58 = C70 as (Element of ( MSS_set R1 )) by L124 , L1;
L125: D58 is non  empty non  void non  empty non  void non  empty non  void non  empty non  void ManySortedSign;
thus L126: thesis by L125;
end;
registration
let R2 being non  void non  empty ManySortedSign;
cluster  strict  feasible for MSAlgebra over R2;
existence
proof
set D59 = the  feasible MSAlgebra over R2;
take D60 = ( the MSAlgebra of D59 );
thus L127: D60 is  strict;
L128:
now
let C71 being (OperSymbol of R2);
L129: ( Args (C71 , D59) ) = ( ( ( (the Sorts of D60) # ) * (the Arity of R2) ) . C71 ) by MSUALG_1:def 4
.= ( Args (C71 , D60) ) by MSUALG_1:def 4;
L130: ( Result (C71 , D59) ) = ( ( (the Sorts of D60) * (the ResultSort of R2) ) . C71 ) by MSUALG_1:def 5
.= ( Result (C71 , D60) ) by MSUALG_1:def 5;
thus L131: (( Args (C71 , D60) ) <> ( {} ) implies ( Result (C71 , D60) ) <> ( {} )) by L130 , L129 , MSUALG_6:def 1;
end;
thus L132: thesis by L128 , MSUALG_6:def 1;
end;
end;
definition
let R2 being non  void non  empty ManySortedSign;
let R1 being non  empty set;
func MSAlg_set (R2 , R1) means 
:L134: (for R3 being set holds (R3 in it iff (ex B58 being  strict  feasible MSAlgebra over R2 st (R3 = B58 & (for B59 being (Component of (the Sorts of B58)) holds B59 c= R1)))));
existence
proof
defpred S2[ set , set ] means (ex B60 being  strict  feasible MSAlgebra over R2 st (B60 = $2 & $1 = [ (the Sorts of B60) , (the Charact of B60) ]));
L135: (for B61 , B62 , B63 being set holds ((S2[ B61 , B62 ] & S2[ B61 , B63 ]) implies B62 = B63))
proof
let C72 , C73 , C74 being set;
given C75 being  strict  feasible MSAlgebra over R2 such that
L136: C75 = C73
and
L137: C72 = [ (the Sorts of C75) , (the Charact of C75) ];

given C76 being  strict  feasible MSAlgebra over R2 such that
L138: C76 = C74
and
L139: C72 = [ (the Sorts of C76) , (the Charact of C76) ];

L140: (the Sorts of C75) = (the Sorts of C76) by L137 , L139 , XTUPLE_0:1;
thus L141: thesis by L140 , L136 , L137 , L138 , L139 , XTUPLE_0:1;
end;
consider C77 being set such that L142: (for R3 being set holds (R3 in C77 iff (ex B64 being set st (B64 in [: ( Funcs ((the carrier of R2) , ( bool R1 )) ) , ( Funcs ((the carrier' of R2) , ( PFuncs (( PFuncs (( NAT ) , R1) ) , R1) )) ) :] & S2[ B64 , R3 ])))) from TARSKI:sch 1(L135);
take C77;
thus L143: (for R3 being set holds (R3 in C77 iff (ex B65 being  strict  feasible MSAlgebra over R2 st (R3 = B65 & (for B66 being (Component of (the Sorts of B65)) holds B66 c= R1)))))
proof
let R3 being set;
thus L144:now
assume L145: R3 in C77;
consider C78 being set such that L146: C78 in [: ( Funcs ((the carrier of R2) , ( bool R1 )) ) , ( Funcs ((the carrier' of R2) , ( PFuncs (( PFuncs (( NAT ) , R1) ) , R1) )) ) :] and L147: S2[ C78 , R3 ] by L145 , L142;
consider C79 being  strict  feasible MSAlgebra over R2 such that L148: C79 = R3 and L149: C78 = [ (the Sorts of C79) , (the Charact of C79) ] by L147;
take D61 = C79;
thus L150: R3 = D61 by L148;
thus L151: (for B67 being (Component of (the Sorts of D61)) holds B67 c= R1)
proof
let C80 being (Component of (the Sorts of D61));
consider C81 being set such that L152: C81 in ( dom (the Sorts of D61) ) and L153: C80 = ( (the Sorts of D61) . C81 ) by FUNCT_1:def 3;
L154: (the Sorts of D61) in ( Funcs ((the carrier of R2) , ( bool R1 )) ) by L146 , L147 , L148 , ZFMISC_1:87;
consider C82 being Function such that L155: (the Sorts of D61) = C82 and L156: ( dom C82 ) = (the carrier of R2) and L157: ( rng C82 ) c= ( bool R1 ) by L154 , FUNCT_2:def 2;
L158: ( C82 . C81 ) in ( rng C82 ) by L153 , L155;
thus L159: thesis by L158 , L153 , L155 , L157;
end;

end;
given C83 being  strict  feasible MSAlgebra over R2 such that
L152: R3 = C83
and
L153: (for B68 being (Component of (the Sorts of C83)) holds B68 c= R1);

L154: ( dom (the Sorts of C83) ) = (the carrier of R2) by PARTFUN1:def 2;
reconsider D62 = (the Sorts of C83) as (Function of (the carrier of R2) , ( rng (the Sorts of C83) )) by L154 , FUNCT_2:1;
L155: ( rng (the Sorts of C83) ) c= ( bool R1 )
proof
let C84 being set;
assume L156: C84 in ( rng (the Sorts of C83) );
reconsider D63 = C84 as (Component of (the Sorts of C83)) by L156;
L157: D63 c= R1 by L153;
thus L158: thesis by L157;
end;
reconsider D64 = D62 as (Function of (the carrier of R2) , ( bool R1 )) by L155 , FUNCT_2:6;
consider C85 being set such that L159: C85 = [ (the Sorts of C83) , (the Charact of C83) ];
L160: ( dom (the Charact of C83) ) = (the carrier' of R2) by PARTFUN1:def 2;
L161: ( rng (the Charact of C83) ) c= ( PFuncs (( PFuncs (( NAT ) , R1) ) , R1) )
proof
reconsider D65 = ( ( (the Sorts of C83) # ) * (the Arity of R2) ) , D66 = ( (the Sorts of C83) * (the ResultSort of R2) ) as (ManySortedSet of (the carrier' of R2));
let C86 being set;
reconsider D67 = (the Charact of C83) as (ManySortedFunction of D65 , D66);
assume L162: C86 in ( rng (the Charact of C83) );
consider C87 being set such that L163: C87 in ( dom (the Charact of C83) ) and L164: C86 = ( (the Charact of C83) . C87 ) by L162 , FUNCT_1:def 3;
reconsider D68 = ( D67 . C87 ) as (Function of ( D65 . C87 ) , ( D66 . C87 )) by L163 , PBOOLE:def 15;
L165: C87 in ( dom D65 ) by L160 , L163 , PARTFUN1:def 2;
L166: ( D65 . C87 ) c= ( PFuncs (( NAT ) , R1) )
proof
reconsider D69 = ( (the Arity of R2) . C87 ) as (Element of ( (the carrier of R2) * )) by L163 , FUNCT_2:5;
let C88 being set;
assume L167: C88 in ( D65 . C87 );
L168: C88 in ( ( (the Sorts of C83) # ) . ( (the Arity of R2) . C87 ) ) by L167 , L165 , FUNCT_1:12;
L169: ( ( (the Sorts of C83) # ) . D69 ) = ( product ( (the Sorts of C83) * D69 ) ) by FINSEQ_2:def 5;
L170: (ex B69 being Function st (C88 = B69 & ( dom B69 ) = ( dom ( (the Sorts of C83) * D69 ) ) & (for B70 being set holds (B70 in ( dom ( (the Sorts of C83) * D69 ) ) implies ( B69 . B70 ) in ( ( (the Sorts of C83) * D69 ) . B70 ))))) by L169 , L168 , CARD_3:def 5;
reconsider D70 = C88 as Function by L170;
L171: ( rng D69 ) c= ( dom (the Sorts of C83) ) by L154;
L172: ( dom D70 ) = ( dom D69 ) by L171 , L170 , RELAT_1:27;
L173: ( rng D70 ) c= R1
proof
L174: ( rng (the Sorts of C83) ) c= ( bool R1 )
proof
let C89 being set;
assume L175: C89 in ( rng (the Sorts of C83) );
reconsider D71 = C89 as (Component of (the Sorts of C83)) by L175;
L176: D71 c= R1 by L153;
thus L177: thesis by L176;
end;
L178: ( union ( rng (the Sorts of C83) ) ) c= ( union ( bool R1 ) ) by L174 , ZFMISC_1:77;
let C90 being set;
assume L179: C90 in ( rng D70 );
consider C91 being set such that L180: C91 in ( dom D70 ) and L181: C90 = ( D70 . C91 ) by L179 , FUNCT_1:def 3;
L182: ( D69 . C91 ) in ( rng D69 ) by L172 , L180 , FUNCT_1:def 3;
L183: ( (the Sorts of C83) . ( D69 . C91 ) ) in ( rng (the Sorts of C83) ) by L182 , L154 , FUNCT_1:def 3;
L184: C90 in ( ( (the Sorts of C83) * D69 ) . C91 ) by L170 , L180 , L181;
L185: C90 in ( (the Sorts of C83) . ( D69 . C91 ) ) by L184 , L172 , L180 , FUNCT_1:13;
L186: C90 in ( union ( rng (the Sorts of C83) ) ) by L185 , L183 , TARSKI:def 4;
L187: C90 in ( union ( bool R1 ) ) by L186 , L178;
thus L188: thesis by L187 , ZFMISC_1:81;
end;
thus L189: thesis by L173 , L170 , PARTFUN1:def 3;
end;
L190: ( dom D68 ) c= ( PFuncs (( NAT ) , R1) ) by L166 , XBOOLE_1:1;
L191: C87 in ( dom D66 ) by L160 , L163 , PARTFUN1:def 2;
L192: ( D66 . C87 ) = ( (the Sorts of C83) . ( (the ResultSort of R2) . C87 ) ) by L191 , FUNCT_1:12;
L193: ( (the ResultSort of R2) . C87 ) in (the carrier of R2) by L163 , FUNCT_2:5;
L194: ( D66 . C87 ) in ( rng (the Sorts of C83) ) by L193 , L154 , L192 , FUNCT_1:def 3;
L195: ( rng D68 ) c= R1 by L194 , L155 , XBOOLE_1:1;
thus L196: thesis by L195 , L164 , L190 , PARTFUN1:def 3;
end;
L197: (D64 in ( Funcs ((the carrier of R2) , ( bool R1 )) ) & (the Charact of C83) in ( Funcs ((the carrier' of R2) , ( PFuncs (( PFuncs (( NAT ) , R1) ) , R1) )) )) by L161 , L160 , FUNCT_2:8 , FUNCT_2:def 2;
L198: C85 in [: ( Funcs ((the carrier of R2) , ( bool R1 )) ) , ( Funcs ((the carrier' of R2) , ( PFuncs (( PFuncs (( NAT ) , R1) ) , R1) )) ) :] by L197 , L159 , ZFMISC_1:87;
thus L199: thesis by L198 , L142 , L152 , L159;
end;

end;
uniqueness
proof
let C92 , C93 being set;
assume L144: (for R3 being set holds (R3 in C92 iff (ex B71 being  strict  feasible MSAlgebra over R2 st (R3 = B71 & (for B72 being (Component of (the Sorts of B71)) holds B72 c= R1)))));
assume L145: (for R3 being set holds (R3 in C93 iff (ex B73 being  strict  feasible MSAlgebra over R2 st (R3 = B73 & (for B74 being (Component of (the Sorts of B73)) holds B74 c= R1)))));
L146: C93 c= C92
proof
let C94 being set;
assume L147: C94 in C93;
L148: (ex B75 being  strict  feasible MSAlgebra over R2 st (C94 = B75 & (for B76 being (Component of (the Sorts of B75)) holds B76 c= R1))) by L147 , L145;
thus L149: thesis by L148 , L144;
end;
L150: C92 c= C93
proof
let C95 being set;
assume L151: C95 in C92;
L152: (ex B77 being  strict  feasible MSAlgebra over R2 st (C95 = B77 & (for B78 being (Component of (the Sorts of B77)) holds B78 c= R1))) by L151 , L144;
thus L153: thesis by L152 , L145;
end;
thus L154: C92 = C93 by L150 , L146 , XBOOLE_0:def 10;
end;
end;
registration
let R2 being non  void non  empty ManySortedSign;
let R1 being non  empty set;
cluster ( MSAlg_set (R2 , R1) ) -> non  empty;
coherence
proof
set D72 = the (Element of R1);
reconsider D73 = ( (the carrier of R2) --> { D72 } ) as (ManySortedSet of (the carrier of R2));
set D74 = the (ManySortedFunction of ( ( D73 # ) * (the Arity of R2) ) , ( D73 * (the ResultSort of R2) ));
set D75 = MSAlgebra (# D73 , D74 #);
reconsider D76 = D75 as  non-empty MSAlgebra over R2 by MSUALG_1:def 3;
reconsider D77 = D76 as  strict  feasible MSAlgebra over R2;
L156: (for B79 being (Component of (the Sorts of D77)) holds B79 c= R1)
proof
let C96 being (Component of (the Sorts of D77));
L157: (ex B80 being set st (B80 in (the carrier of R2) & C96 = ( (the Sorts of D77) . B80 ))) by PBOOLE:138;
L158: C96 = { D72 } by L157 , FUNCOP_1:7;
thus L159: thesis by L158 , ZFMISC_1:31;
end;
thus L160: thesis by L156 , L134;
end;
end;
begin
theorem
L162: (for R1 being non  empty set holds (for R2 being non  void non  empty ManySortedSign holds (for B81 being MSAlgebra over R2 holds (B81 in ( MSAlg_set (R2 , R1) ) implies ((the Sorts of B81) in ( Funcs ((the carrier of R2) , ( bool R1 )) ) & (the Charact of B81) in ( Funcs ((the carrier' of R2) , ( PFuncs (( PFuncs (( NAT ) , R1) ) , R1) )) ))))))
proof
let R1 being non  empty set;
let R2 being non  void non  empty ManySortedSign;
let C97 being MSAlgebra over R2;
assume L163: C97 in ( MSAlg_set (R2 , R1) );
consider C98 being  strict  feasible MSAlgebra over R2 such that L164: C97 = C98 and L165: (for B82 being (Component of (the Sorts of C98)) holds B82 c= R1) by L163 , L134;
L166: ( dom (the Sorts of C98) ) = (the carrier of R2) by PARTFUN1:def 2;
reconsider D78 = (the Sorts of C98) as (Function of (the carrier of R2) , ( rng (the Sorts of C98) )) by L166 , FUNCT_2:1;
L167: ( rng (the Sorts of C98) ) c= ( bool R1 )
proof
let C99 being set;
assume L168: C99 in ( rng (the Sorts of C98) );
reconsider D79 = C99 as (Component of (the Sorts of C98)) by L168;
L169: D79 c= R1 by L165;
thus L170: thesis by L169;
end;
reconsider D80 = D78 as (Function of (the carrier of R2) , ( bool R1 )) by L167 , FUNCT_2:6;
L171: ( dom (the Charact of C98) ) = (the carrier' of R2) by PARTFUN1:def 2;
L172: ( rng (the Charact of C98) ) c= ( PFuncs (( PFuncs (( NAT ) , R1) ) , R1) )
proof
reconsider D81 = ( ( (the Sorts of C98) # ) * (the Arity of R2) ) , D82 = ( (the Sorts of C98) * (the ResultSort of R2) ) as (ManySortedSet of (the carrier' of R2));
let C100 being set;
reconsider D83 = (the Charact of C98) as (ManySortedFunction of D81 , D82);
assume L173: C100 in ( rng (the Charact of C98) );
consider C101 being set such that L174: C101 in ( dom (the Charact of C98) ) and L175: C100 = ( (the Charact of C98) . C101 ) by L173 , FUNCT_1:def 3;
reconsider D84 = ( D83 . C101 ) as (Function of ( D81 . C101 ) , ( D82 . C101 )) by L174 , PBOOLE:def 15;
L176: C101 in ( dom D81 ) by L171 , L174 , PARTFUN1:def 2;
L177: ( D81 . C101 ) c= ( PFuncs (( NAT ) , R1) )
proof
reconsider D85 = ( (the Arity of R2) . C101 ) as (Element of ( (the carrier of R2) * )) by L174 , FUNCT_2:5;
let C102 being set;
assume L178: C102 in ( D81 . C101 );
L179: C102 in ( ( (the Sorts of C98) # ) . ( (the Arity of R2) . C101 ) ) by L178 , L176 , FUNCT_1:12;
L180: ( ( (the Sorts of C98) # ) . D85 ) = ( product ( (the Sorts of C98) * D85 ) ) by FINSEQ_2:def 5;
L181: (ex B83 being Function st (C102 = B83 & ( dom B83 ) = ( dom ( (the Sorts of C98) * D85 ) ) & (for B84 being set holds (B84 in ( dom ( (the Sorts of C98) * D85 ) ) implies ( B83 . B84 ) in ( ( (the Sorts of C98) * D85 ) . B84 ))))) by L180 , L179 , CARD_3:def 5;
reconsider D86 = C102 as Function by L181;
L182: ( rng D85 ) c= ( dom (the Sorts of C98) ) by L166;
L183: ( dom D86 ) = ( dom D85 ) by L182 , L181 , RELAT_1:27;
L184: ( rng D86 ) c= R1
proof
L185: ( rng (the Sorts of C98) ) c= ( bool R1 )
proof
let C103 being set;
assume L186: C103 in ( rng (the Sorts of C98) );
reconsider D87 = C103 as (Component of (the Sorts of C98)) by L186;
L187: D87 c= R1 by L165;
thus L188: thesis by L187;
end;
L189: ( union ( rng (the Sorts of C98) ) ) c= ( union ( bool R1 ) ) by L185 , ZFMISC_1:77;
let C104 being set;
assume L190: C104 in ( rng D86 );
consider C105 being set such that L191: C105 in ( dom D86 ) and L192: C104 = ( D86 . C105 ) by L190 , FUNCT_1:def 3;
L193: ( D85 . C105 ) in ( rng D85 ) by L183 , L191 , FUNCT_1:def 3;
L194: ( (the Sorts of C98) . ( D85 . C105 ) ) in ( rng (the Sorts of C98) ) by L193 , L166 , FUNCT_1:def 3;
L195: C104 in ( ( (the Sorts of C98) * D85 ) . C105 ) by L181 , L191 , L192;
L196: C104 in ( (the Sorts of C98) . ( D85 . C105 ) ) by L195 , L183 , L191 , FUNCT_1:13;
L197: C104 in ( union ( rng (the Sorts of C98) ) ) by L196 , L194 , TARSKI:def 4;
L198: C104 in ( union ( bool R1 ) ) by L197 , L189;
thus L199: thesis by L198 , ZFMISC_1:81;
end;
thus L200: thesis by L184 , L181 , PARTFUN1:def 3;
end;
L201: ( dom D84 ) c= ( PFuncs (( NAT ) , R1) ) by L177 , XBOOLE_1:1;
L202: C101 in ( dom D82 ) by L171 , L174 , PARTFUN1:def 2;
L203: ( D82 . C101 ) = ( (the Sorts of C98) . ( (the ResultSort of R2) . C101 ) ) by L202 , FUNCT_1:12;
L204: ( (the ResultSort of R2) . C101 ) in (the carrier of R2) by L174 , FUNCT_2:5;
L205: ( D82 . C101 ) in ( rng (the Sorts of C98) ) by L204 , L166 , L203 , FUNCT_1:def 3;
L206: ( rng D84 ) c= R1 by L205 , L167 , XBOOLE_1:1;
thus L207: thesis by L206 , L175 , L201 , PARTFUN1:def 3;
end;
L208: D80 in ( Funcs ((the carrier of R2) , ( bool R1 )) ) by FUNCT_2:8;
thus L209: thesis by L208 , L164 , L171 , L172 , FUNCT_2:def 2;
end;
theorem
L210: (for R2 being non  void non  empty ManySortedSign holds (for R4 being (OperSymbol of R2) holds (for B85 , B86 being MSAlgebra over R2 holds (((the Sorts of B85) is_transformable_to (the Sorts of B86) & ( Args (R4 , B85) ) <> ( {} )) implies ( Args (R4 , B86) ) <> ( {} )))))
proof
let R2 being non  void non  empty ManySortedSign;
let R4 being (OperSymbol of R2);
let C106 , C107 being MSAlgebra over R2;
assume that
L211: (the Sorts of C106) is_transformable_to (the Sorts of C107)
and
L212: ( Args (R4 , C106) ) <> ( {} );
L213: ( ( ( (the Sorts of C106) # ) * (the Arity of R2) ) . R4 ) <> ( {} ) by L212 , MSUALG_1:def 4;
L214: ( dom (the Sorts of C106) ) = (the carrier of R2) by PARTFUN1:def 2;
L215: ( rng ( the_arity_of R4 ) ) c= ( dom (the Sorts of C106) ) by L214;
L216: ( dom ( (the Sorts of C106) * ( the_arity_of R4 ) ) ) = ( dom ( the_arity_of R4 ) ) by L215 , RELAT_1:27;
L217: ( dom ( (the Sorts of C107) * ( the_arity_of R4 ) ) ) c= ( dom ( the_arity_of R4 ) ) by RELAT_1:25;
L218: ( dom (the Arity of R2) ) = (the carrier' of R2) by FUNCT_2:def 1;
L219: ( ( ( (the Sorts of C106) # ) * (the Arity of R2) ) . R4 ) = ( ( (the Sorts of C106) # ) . ( (the Arity of R2) . R4 ) ) by L218 , FUNCT_1:13
.= ( ( (the Sorts of C106) # ) . ( the_arity_of R4 ) ) by MSUALG_1:def 1;
L220: ( product ( (the Sorts of C106) * ( the_arity_of R4 ) ) ) <> ( {} ) by L219 , L213 , FINSEQ_2:def 5;
L221: (not ( {} ) in ( rng ( (the Sorts of C106) * ( the_arity_of R4 ) ) )) by L220 , CARD_3:26;
L222:
now
let C108 being set;
assume L223: C108 in ( dom ( (the Sorts of C107) * ( the_arity_of R4 ) ) );
L224: ( ( the_arity_of R4 ) . C108 ) in ( rng ( the_arity_of R4 ) ) by L223 , L217 , FUNCT_1:def 3;
L225: (( (the Sorts of C106) . ( ( the_arity_of R4 ) . C108 ) ) <> ( {} ) implies ( (the Sorts of C107) . ( ( the_arity_of R4 ) . C108 ) ) <> ( {} )) by L224 , L211 , PZFMISC1:def 3;
L226: ( ( (the Sorts of C106) * ( the_arity_of R4 ) ) . C108 ) = ( (the Sorts of C106) . ( ( the_arity_of R4 ) . C108 ) ) by L217 , L223 , FUNCT_1:13;
thus L227: ( ( (the Sorts of C107) * ( the_arity_of R4 ) ) . C108 ) <> ( {} ) by L226 , L221 , L216 , L217 , L223 , L225 , FUNCT_1:13 , FUNCT_1:def 3;
end;
L228: (not ( {} ) in ( rng ( (the Sorts of C107) * ( the_arity_of R4 ) ) )) by L222 , FUNCT_1:def 3;
L229: ( product ( (the Sorts of C107) * ( the_arity_of R4 ) ) ) <> ( {} ) by L228 , CARD_3:26;
L230: ( ( (the Sorts of C107) # ) . ( the_arity_of R4 ) ) <> ( {} ) by L229 , FINSEQ_2:def 5;
L231: ( ( (the Sorts of C107) # ) . ( (the Arity of R2) . R4 ) ) <> ( {} ) by L230 , MSUALG_1:def 1;
L232: ( ( ( (the Sorts of C107) # ) * (the Arity of R2) ) . R4 ) <> ( {} ) by L231 , L218 , FUNCT_1:13;
thus L233: thesis by L232 , MSUALG_1:def 4;
end;
theorem
L234: (for R2 being non  void non  empty ManySortedSign holds (for R4 being (OperSymbol of R2) holds (for B87 , B88 , B89 being  feasible MSAlgebra over R2 holds (for B90 being (ManySortedFunction of B87 , B88) holds (for B91 being (ManySortedFunction of B88 , B89) holds (for B92 being (Element of ( Args (R4 , B87) )) holds ((( Args (R4 , B87) ) <> ( {} ) & (the Sorts of B87) is_transformable_to (the Sorts of B88) & (the Sorts of B88) is_transformable_to (the Sorts of B89)) implies (ex B93 being (ManySortedFunction of B87 , B89) st (B93 = ( B91 ** B90 ) & ( B93 # B92 ) = ( B91 # ( B90 # B92 ) ))))))))))
proof
let R2 being non  void non  empty ManySortedSign;
let R4 being (OperSymbol of R2);
let C109 , C110 , C111 being  feasible MSAlgebra over R2;
let C112 being (ManySortedFunction of C109 , C110);
let C113 being (ManySortedFunction of C110 , C111);
let C114 being (Element of ( Args (R4 , C109) ));
assume that
L235: ( Args (R4 , C109) ) <> ( {} )
and
L236: (the Sorts of C109) is_transformable_to (the Sorts of C110)
and
L237: (the Sorts of C110) is_transformable_to (the Sorts of C111);
L238: C114 in ( Args (R4 , C109) ) by L235;
L239: C114 in ( product ( (the Sorts of C109) * ( the_arity_of R4 ) ) ) by L238 , PRALG_2:3;
L240: (ex B94 being Function st (C114 = B94 & ( dom B94 ) = ( dom ( (the Sorts of C109) * ( the_arity_of R4 ) ) ) & (for R3 being set holds (R3 in ( dom ( (the Sorts of C109) * ( the_arity_of R4 ) ) ) implies ( B94 . R3 ) in ( ( (the Sorts of C109) * ( the_arity_of R4 ) ) . R3 ))))) by L239 , CARD_3:def 5;
reconsider D88 = C114 as Function by L240;
reconsider D89 = ( ( Frege ( C112 * ( the_arity_of R4 ) ) ) . D88 ) as Function;
L241: ( dom C112 ) = (the carrier of R2) by PARTFUN1:def 2;
L242: ( rng ( the_arity_of R4 ) ) c= ( dom C112 ) by L241;
L243: ( dom ( C112 * ( the_arity_of R4 ) ) ) = ( dom ( the_arity_of R4 ) ) by L242 , RELAT_1:27;
L244: ( dom ( doms ( C112 * ( the_arity_of R4 ) ) ) ) = ( dom ( C112 * ( the_arity_of R4 ) ) ) by FUNCT_6:59;
L245: ( dom D88 ) = ( dom ( doms ( C112 * ( the_arity_of R4 ) ) ) ) by L244 , L235 , L243 , MSUALG_3:6;
reconsider D90 = D88 as (ManySortedSet of ( dom ( the_arity_of R4 ) )) by L245 , L243 , L244 , PARTFUN1:def 2 , RELAT_1:def 18;
L246: ( dom C113 ) = (the carrier of R2) by PARTFUN1:def 2;
L247: ( rng ( the_arity_of R4 ) ) c= ( dom C113 ) by L246;
L248: ( dom ( C113 * ( the_arity_of R4 ) ) ) = ( dom ( the_arity_of R4 ) ) by L247 , RELAT_1:27;
reconsider D91 = ( C113 * ( the_arity_of R4 ) ) , D92 = ( C112 * ( the_arity_of R4 ) ) as (ManySortedFunction of ( dom ( the_arity_of R4 ) )) by L248 , L243 , PARTFUN1:def 2 , RELAT_1:def 18;
L249: ( Args (R4 , C110) ) <> ( {} ) by L235 , L236 , L210;
L250: ( dom (the Sorts of C109) ) = (the carrier of R2) by PARTFUN1:def 2;
L251: ( rng ( the_arity_of R4 ) ) c= ( dom (the Sorts of C109) ) by L250;
L252:
now
let C115 being set;
set D93 = ( ( the_arity_of R4 ) . C115 );
assume L253: C115 in ( dom ( doms ( C112 * ( the_arity_of R4 ) ) ) );
L254: C115 in ( dom ( C112 * ( the_arity_of R4 ) ) ) by L253 , FUNCT_6:59;
L255: ( ( doms ( C112 * ( the_arity_of R4 ) ) ) . C115 ) = ( dom ( ( C112 * ( the_arity_of R4 ) ) . C115 ) ) by L254 , FUNCT_6:22;
L256: C115 in ( dom ( the_arity_of R4 ) ) by L242 , L254 , RELAT_1:27;
L257: D93 in ( rng ( the_arity_of R4 ) ) by L256 , FUNCT_1:def 3;
reconsider D94 = ( C112 . D93 ) as (Function of ( (the Sorts of C109) . D93 ) , ( (the Sorts of C110) . D93 )) by L257 , PBOOLE:def 15;
L258: C115 in ( dom ( (the Sorts of C109) * ( the_arity_of R4 ) ) ) by L251 , L256 , RELAT_1:27;
L259: ( D88 . C115 ) in ( ( (the Sorts of C109) * ( the_arity_of R4 ) ) . C115 ) by L258 , L235 , MSUALG_3:6;
L260: ( (the Sorts of C109) . D93 ) = ( dom D94 )
proof
per cases ;
suppose L261: ( (the Sorts of C110) . D93 ) <> ( {} );

thus L262: thesis by L261 , FUNCT_2:def 1;
end;
suppose L263: ( (the Sorts of C110) . D93 ) = ( {} );

L264: ( (the Sorts of C109) . D93 ) = ( {} ) by L263 , L236 , L257 , PZFMISC1:def 3;
thus L265: thesis by L264;
end;
end;
L267: ( ( C112 * ( the_arity_of R4 ) ) . C115 ) = ( C112 . ( ( the_arity_of R4 ) . C115 ) ) by L256 , FUNCT_1:13;
thus L268: ( D88 . C115 ) in ( ( doms ( C112 * ( the_arity_of R4 ) ) ) . C115 ) by L267 , L255 , L256 , L259 , L260 , FUNCT_1:13;
end;
L269: D88 in ( product ( doms ( C112 * ( the_arity_of R4 ) ) ) ) by L252 , L245 , CARD_3:9;
L270: D89 = ( ( C112 * ( the_arity_of R4 ) ) .. D88 ) by L269 , PRALG_2:def 2;
L271:
now
let C116 being set;
set D95 = ( ( the_arity_of R4 ) . C116 );
assume L272: C116 in ( dom ( doms ( C113 * ( the_arity_of R4 ) ) ) );
L273: C116 in ( dom ( C113 * ( the_arity_of R4 ) ) ) by L272 , FUNCT_6:59;
L274: C116 in ( dom ( C112 * ( the_arity_of R4 ) ) ) by L248 , L243 , L272 , FUNCT_6:59;
L275: ( D89 . C116 ) = ( ( ( C112 * ( the_arity_of R4 ) ) . C116 ) . ( D88 . C116 ) ) by L274 , L270 , PRALG_1:def 17;
L276: ( dom ( (the Sorts of C109) * ( the_arity_of R4 ) ) ) = ( dom ( the_arity_of R4 ) ) by L251 , RELAT_1:27;
L277: C116 in ( dom ( the_arity_of R4 ) ) by L248 , L272 , FUNCT_6:59;
L278: D95 in ( rng ( the_arity_of R4 ) ) by L277 , FUNCT_1:def 3;
reconsider D96 = ( C112 . D95 ) as (Function of ( (the Sorts of C109) . D95 ) , ( (the Sorts of C110) . D95 )) by L278 , PBOOLE:def 15;
L279: ( ( C112 * ( the_arity_of R4 ) ) . C116 ) = D96 by L243 , L277 , FUNCT_1:12;
reconsider D97 = ( C113 . D95 ) as (Function of ( (the Sorts of C110) . D95 ) , ( (the Sorts of C111) . D95 )) by L278 , PBOOLE:def 15;
L280: ( dom D97 ) = ( (the Sorts of C110) . D95 )
proof
per cases ;
suppose L281: ( (the Sorts of C111) . D95 ) <> ( {} );

thus L282: thesis by L281 , FUNCT_2:def 1;
end;
suppose L283: ( (the Sorts of C111) . D95 ) = ( {} );

L284: ( (the Sorts of C110) . D95 ) = ( {} ) by L283 , L237 , L278 , PZFMISC1:def 3;
thus L285: thesis by L284;
end;
end;
L287: ( (the Sorts of C109) . D95 ) = ( dom D96 )
proof
per cases ;
suppose L288: ( (the Sorts of C110) . D95 ) <> ( {} );

thus L289: thesis by L288 , FUNCT_2:def 1;
end;
suppose L290: ( (the Sorts of C110) . D95 ) = ( {} );

L291: ( (the Sorts of C109) . D95 ) = ( {} ) by L290 , L236 , L278 , PZFMISC1:def 3;
thus L292: thesis by L291;
end;
end;
L294: ( ( (the Sorts of C109) * ( the_arity_of R4 ) ) . C116 ) = ( (the Sorts of C109) . ( ( the_arity_of R4 ) . C116 ) ) by L277 , FUNCT_1:13;
L295: ( D88 . C116 ) in ( dom D96 ) by L294 , L235 , L277 , L276 , L287 , MSUALG_3:6;
L296: ( ( ( C112 * ( the_arity_of R4 ) ) . C116 ) . ( D88 . C116 ) ) in ( rng D96 ) by L295 , L279 , FUNCT_1:def 3;
L297: ( ( C113 * ( the_arity_of R4 ) ) . C116 ) = ( C113 . ( ( the_arity_of R4 ) . C116 ) ) by L277 , FUNCT_1:13;
L298: ( D89 . C116 ) in ( dom ( ( C113 * ( the_arity_of R4 ) ) . C116 ) ) by L297 , L280 , L296 , L275;
thus L299: ( D89 . C116 ) in ( ( doms ( C113 * ( the_arity_of R4 ) ) ) . C116 ) by L298 , L273 , FUNCT_6:22;
end;
reconsider D98 = ( C113 ** C112 ) as (ManySortedFunction of C109 , C111) by L236 , ALTCAT_2:4;
L300: ( dom D98 ) = (the carrier of R2) by PARTFUN1:def 2;
L301: ( rng ( the_arity_of R4 ) ) c= ( dom D98 ) by L300;
L302: ( dom ( D98 * ( the_arity_of R4 ) ) ) = ( dom ( the_arity_of R4 ) ) by L301 , RELAT_1:27;
L303: D90 in ( doms D92 )
proof
let C117 being set;
set D99 = ( ( the_arity_of R4 ) . C117 );
assume L304: C117 in ( dom ( the_arity_of R4 ) );
L305: D99 in ( rng ( the_arity_of R4 ) ) by L304 , FUNCT_1:def 3;
L306: ( D92 . C117 ) = ( C112 . ( ( the_arity_of R4 ) . C117 ) ) by L304 , FUNCT_1:13;
reconsider D100 = ( D92 . C117 ) as (Function of ( (the Sorts of C109) . D99 ) , ( (the Sorts of C110) . D99 )) by L306 , L305 , PBOOLE:def 15;
L307: ( dom D100 ) = ( (the Sorts of C109) . D99 )
proof
per cases ;
suppose L308: ( (the Sorts of C110) . D99 ) = ( {} );

L309: ( (the Sorts of C109) . D99 ) = ( {} ) by L308 , L236 , L305 , PZFMISC1:def 3;
thus L310: thesis by L309;
end;
suppose L311: ( (the Sorts of C110) . D99 ) <> ( {} );

thus L312: thesis by L311 , FUNCT_2:def 1;
end;
end;
L314: C117 in ( dom ( (the Sorts of C109) * ( the_arity_of R4 ) ) ) by L304 , PRALG_2:3;
L315: ( D90 . C117 ) in ( ( (the Sorts of C109) * ( the_arity_of R4 ) ) . C117 ) by L314 , L240;
L316: ( D90 . C117 ) in ( dom ( D92 . C117 ) ) by L315 , L304 , L307 , FUNCT_1:13;
thus L317: thesis by L316 , L304 , MSSUBFAM:14;
end;
take D98;
thus L318: D98 = ( C113 ** C112 );
L319: ( ( C113 * ( the_arity_of R4 ) ) ** ( C112 * ( the_arity_of R4 ) ) ) = ( D98 * ( the_arity_of R4 ) ) by FUNCTOR0:12;
L320: (the Sorts of C109) is_transformable_to (the Sorts of C111) by L236 , L237 , AUTALG_1:10;
L321:
now
let C118 being set;
set D101 = ( ( the_arity_of R4 ) . C118 );
assume L322: C118 in ( dom ( doms ( D98 * ( the_arity_of R4 ) ) ) );
L323: C118 in ( dom ( the_arity_of R4 ) ) by L322 , L302 , FUNCT_6:59;
L324: D101 in ( rng ( the_arity_of R4 ) ) by L323 , FUNCT_1:def 3;
reconsider D102 = ( D98 . D101 ) as (Function of ( (the Sorts of C109) . D101 ) , ( (the Sorts of C111) . D101 )) by L324 , PBOOLE:def 15;
L325: C118 in ( dom ( D98 * ( the_arity_of R4 ) ) ) by L322 , FUNCT_6:59;
L326: ( ( doms ( D98 * ( the_arity_of R4 ) ) ) . C118 ) = ( dom ( ( D98 * ( the_arity_of R4 ) ) . C118 ) ) by L325 , FUNCT_6:22;
L327: ( (the Sorts of C109) . D101 ) = ( dom D102 )
proof
per cases ;
suppose L328: ( (the Sorts of C111) . D101 ) <> ( {} );

thus L329: thesis by L328 , FUNCT_2:def 1;
end;
suppose L330: ( (the Sorts of C111) . D101 ) = ( {} );

L331: ( (the Sorts of C109) . D101 ) = ( {} ) by L330 , L320 , L324 , PZFMISC1:def 3;
thus L332: thesis by L331;
end;
end;
L334: C118 in ( dom ( (the Sorts of C109) * ( the_arity_of R4 ) ) ) by L251 , L323 , RELAT_1:27;
L335: ( D88 . C118 ) in ( ( (the Sorts of C109) * ( the_arity_of R4 ) ) . C118 ) by L334 , L235 , MSUALG_3:6;
L336: ( D88 . C118 ) in ( dom ( D98 . D101 ) ) by L335 , L323 , L327 , FUNCT_1:13;
thus L337: ( D88 . C118 ) in ( ( doms ( D98 * ( the_arity_of R4 ) ) ) . C118 ) by L336 , L326 , L323 , FUNCT_1:13;
end;
L338: ( dom ( doms ( D98 * ( the_arity_of R4 ) ) ) ) = ( dom ( D98 * ( the_arity_of R4 ) ) ) by FUNCT_6:59;
L339: ( dom D88 ) = ( dom ( doms ( D98 * ( the_arity_of R4 ) ) ) ) by L338 , L235 , L302 , MSUALG_3:6;
L340: D88 in ( product ( doms ( D98 * ( the_arity_of R4 ) ) ) ) by L339 , L321 , CARD_3:9;
L341: ( dom D89 ) = ( dom ( C113 * ( the_arity_of R4 ) ) ) by L248 , L243 , L270 , PRALG_1:def 17;
L342: ( dom D89 ) = ( dom ( doms ( C113 * ( the_arity_of R4 ) ) ) ) by L341 , FUNCT_6:59;
L343: D89 in ( product ( doms ( C113 * ( the_arity_of R4 ) ) ) ) by L342 , L271 , CARD_3:9;
L344: ( ( Frege ( C113 * ( the_arity_of R4 ) ) ) . ( ( Frege ( C112 * ( the_arity_of R4 ) ) ) . C114 ) ) = ( ( C113 * ( the_arity_of R4 ) ) .. ( ( Frege ( C112 * ( the_arity_of R4 ) ) ) . C114 ) ) by L343 , PRALG_2:def 2
.= ( D91 .. ( D92 .. D90 ) ) by L269 , PRALG_2:def 2
.= ( ( D91 ** D92 ) .. D90 ) by L303 , CLOSURE1:4;
L345: ( Args (R4 , C111) ) <> ( {} ) by L235 , L236 , L237 , L210 , AUTALG_1:10;
L346: ( D98 # C114 ) = ( ( Frege ( D98 * ( the_arity_of R4 ) ) ) . C114 ) by L345 , L235 , MSUALG_3:def 5
.= ( ( Frege ( C113 * ( the_arity_of R4 ) ) ) . ( ( Frege ( C112 * ( the_arity_of R4 ) ) ) . C114 ) ) by L340 , L344 , L319 , PRALG_2:def 2
.= ( ( Frege ( C113 * ( the_arity_of R4 ) ) ) . ( C112 # C114 ) ) by L235 , L249 , MSUALG_3:def 5;
thus L347: thesis by L346 , L249 , L345 , MSUALG_3:def 5;
end;
theorem
L348: (for R2 being non  void non  empty ManySortedSign holds (for B95 , B96 , B97 being  feasible MSAlgebra over R2 holds (for B98 being (ManySortedFunction of B95 , B96) holds (for B99 being (ManySortedFunction of B96 , B97) holds (((the Sorts of B95) is_transformable_to (the Sorts of B96) & (the Sorts of B96) is_transformable_to (the Sorts of B97) & B98 is_homomorphism B95 , B96 & B99 is_homomorphism B96 , B97) implies (ex B100 being (ManySortedFunction of B95 , B97) st (B100 = ( B99 ** B98 ) & B100 is_homomorphism B95 , B97)))))))
proof
let R2 being non  void non  empty ManySortedSign;
let C119 , C120 , C121 being  feasible MSAlgebra over R2;
let C122 being (ManySortedFunction of C119 , C120);
let C123 being (ManySortedFunction of C120 , C121);
assume that
L349: (the Sorts of C119) is_transformable_to (the Sorts of C120)
and
L350: (the Sorts of C120) is_transformable_to (the Sorts of C121)
and
L351: C122 is_homomorphism C119 , C120
and
L352: C123 is_homomorphism C120 , C121;
reconsider D103 = ( C123 ** C122 ) as (ManySortedFunction of C119 , C121) by L349 , ALTCAT_2:4;
take D103;
thus L353: D103 = ( C123 ** C122 );
thus L354: D103 is_homomorphism C119 , C121
proof
let C124 being (OperSymbol of R2);
assume that
L355: ( Args (C124 , C119) ) <> ( {} );
let C125 being (Element of ( Args (C124 , C119) ));
L356: (ex B101 being (ManySortedFunction of C119 , C121) st (B101 = ( C123 ** C122 ) & ( B101 # C125 ) = ( C123 # ( C122 # C125 ) ))) by L349 , L350 , L355 , L234;
set D104 = ( the_result_sort_of C124 );
L357: (( ( C122 . D104 ) . ( ( Den (C124 , C119) ) . C125 ) ) = ( ( Den (C124 , C120) ) . ( C122 # C125 ) ) & ( Args (C124 , C120) ) <> ( {} )) by L349 , L351 , L355 , L210 , MSUALG_3:def 7;
L358: ( ( C123 . D104 ) . ( ( C122 . D104 ) . ( ( Den (C124 , C119) ) . C125 ) ) ) = ( ( Den (C124 , C121) ) . ( C123 # ( C122 # C125 ) ) ) by L357 , L352 , MSUALG_3:def 7;
L359: (the Sorts of C119) is_transformable_to (the Sorts of C121) by L349 , L350 , AUTALG_1:10;
L360: ( dom ( D103 . D104 ) ) = ( (the Sorts of C119) . D104 )
proof
per cases ;
suppose L361: ( (the Sorts of C119) . D104 ) <> ( {} );

L362: ( (the Sorts of C121) . D104 ) <> ( {} ) by L361 , L359 , PZFMISC1:def 3;
thus L363: thesis by L362 , FUNCT_2:def 1;
end;
suppose L364: ( (the Sorts of C119) . D104 ) = ( {} );

thus L365: thesis by L364;
end;
end;
L367: C124 in (the carrier' of R2);
L368: C124 in ( dom (the ResultSort of R2) ) by L367 , FUNCT_2:def 1;
L369: ( rng (the ResultSort of R2) ) c= (the carrier of R2);
L370: ( rng (the ResultSort of R2) ) c= ( dom (the Sorts of C119) ) by L369 , PARTFUN1:def 2;
L371: (( Result (C124 , C119) ) = ( ( (the Sorts of C119) * (the ResultSort of R2) ) . C124 ) & ( dom ( (the Sorts of C119) * (the ResultSort of R2) ) ) = ( dom (the ResultSort of R2) )) by L370 , MSUALG_1:def 5 , RELAT_1:27;
L372: ( Result (C124 , C119) ) = ( (the Sorts of C119) . ( (the ResultSort of R2) . C124 ) ) by L371 , L368 , FUNCT_1:12
.= ( (the Sorts of C119) . D104 ) by MSUALG_1:def 2;
L373: (( D103 . D104 ) = ( ( C123 . D104 ) * ( C122 . D104 ) ) & ( (the Sorts of C119) . D104 ) <> ( {} )) by L372 , L355 , MSUALG_3:2 , MSUALG_6:def 1;
thus L374: thesis by L373 , L355 , L358 , L360 , L372 , L356 , FUNCT_1:12 , FUNCT_2:5;
end;

end;
definition
let R2 being non  void non  empty ManySortedSign;
let R1 being non  empty set;
let C126 , C127 being set;
assume that
L355: C126 in ( MSAlg_set (R2 , R1) )
and
L356: C127 in ( MSAlg_set (R2 , R1) );
func MSAlg_morph (R2 , R1 , C126 , C127) means 
:L357: (for R3 being set holds (R3 in it iff (ex B102 , B103 being  strict  feasible MSAlgebra over R2 st (ex B104 being (ManySortedFunction of B102 , B103) st (B102 = C126 & B103 = C127 & B104 = R3 & (the Sorts of B102) is_transformable_to (the Sorts of B103) & B104 is_homomorphism B102 , B103)))));
existence
proof
consider C128 being  strict  feasible MSAlgebra over R2 such that L358: C126 = C128 and L359: (for B105 being (Component of (the Sorts of C128)) holds B105 c= R1) by L355 , L134;
consider C129 being  strict  feasible MSAlgebra over R2 such that L360: C127 = C129 and L361: (for B106 being (Component of (the Sorts of C129)) holds B106 c= R1) by L356 , L134;
defpred S3[ set ] means ((the Sorts of C128) is_transformable_to (the Sorts of C129) & (ex B107 being (ManySortedFunction of C128 , C129) st ($1 = B107 & B107 is_homomorphism C128 , C129)));
consider C130 being set such that L362: (for R3 being set holds (R3 in C130 iff (R3 in ( Funcs ((the carrier of R2) , ( PFuncs (( union ( bool R1 ) ) , ( union ( bool R1 ) )) )) ) & S3[ R3 ]))) from XBOOLE_0:sch 1;
take C130;
let R3 being set;
thus L363:now
assume L364: R3 in C130;
consider C131 being (ManySortedFunction of C128 , C129) such that L365: R3 = C131 and L366: C131 is_homomorphism C128 , C129 by L364 , L362;
take D105 = C128;
take D106 = C129;
reconsider D107 = C131 as (ManySortedFunction of D105 , D106);
take D108 = D107;
thus L367: (D105 = C126 & D106 = C127 & D108 = R3) by L358 , L360 , L365;
thus L368: (the Sorts of D105) is_transformable_to (the Sorts of D106) by L364 , L362;
thus L369: D108 is_homomorphism D105 , D106 by L366;
end;
given C132 , C133 being  strict  feasible MSAlgebra over R2 , C134 being (ManySortedFunction of C132 , C133) such that
L370: (C132 = C126 & C133 = C127 & C134 = R3 & (the Sorts of C132) is_transformable_to (the Sorts of C133) & C134 is_homomorphism C132 , C133);

reconsider D109 = C134 as (ManySortedFunction of C128 , C129) by L370 , L358 , L360;
L371: ( dom D109 ) = (the carrier of R2) by PARTFUN1:def 2;
L372: ( rng D109 ) c= ( PFuncs (( union ( bool R1 ) ) , ( union ( bool R1 ) )) )
proof
L373: ( rng (the Sorts of C128) ) c= ( bool R1 )
proof
let C135 being set;
assume L374: C135 in ( rng (the Sorts of C128) );
reconsider D110 = C135 as (Component of (the Sorts of C128)) by L374;
L375: D110 c= R1 by L359;
thus L376: thesis by L375;
end;
let C136 being set;
assume L377: C136 in ( rng D109 );
consider C137 being set such that L378: C137 in ( dom D109 ) and L379: C136 = ( D109 . C137 ) by L377 , FUNCT_1:def 3;
reconsider D111 = C136 as (Function of ( (the Sorts of C128) . C137 ) , ( (the Sorts of C129) . C137 )) by L378 , L379 , PBOOLE:def 15;
L380: ( dom (the Sorts of C128) ) = (the carrier of R2) by PARTFUN1:def 2;
L381: ( dom D111 ) c= ( union ( bool R1 ) )
proof
let C138 being set;
assume L382: C138 in ( dom D111 );
L383: ( (the Sorts of C128) . C137 ) in ( rng (the Sorts of C128) ) by L378 , L380 , FUNCT_1:def 3;
thus L384: thesis by L383 , L373 , L382 , TARSKI:def 4;
end;
L385: ( rng (the Sorts of C129) ) c= ( bool R1 )
proof
let C139 being set;
assume L386: C139 in ( rng (the Sorts of C129) );
reconsider D112 = C139 as (Component of (the Sorts of C129)) by L386;
L387: D112 c= R1 by L361;
thus L388: thesis by L387;
end;
L389: ( dom (the Sorts of C129) ) = (the carrier of R2) by PARTFUN1:def 2;
L390: ( rng D111 ) c= ( union ( bool R1 ) )
proof
let C140 being set;
assume L391: C140 in ( rng D111 );
L392: ( (the Sorts of C129) . C137 ) in ( rng (the Sorts of C129) ) by L378 , L389 , FUNCT_1:def 3;
thus L393: thesis by L392 , L385 , L391 , TARSKI:def 4;
end;
thus L394: thesis by L390 , L381 , PARTFUN1:def 3;
end;
L395: D109 in ( Funcs ((the carrier of R2) , ( PFuncs (( union ( bool R1 ) ) , ( union ( bool R1 ) )) )) ) by L372 , L371 , FUNCT_2:def 2;
thus L396: R3 in C130 by L395 , L362 , L370 , L358 , L360;
end;
uniqueness
proof
let C141 , C142 being set;
assume L397: (for R3 being set holds (R3 in C141 iff (ex B108 , B109 being  strict  feasible MSAlgebra over R2 st (ex B110 being (ManySortedFunction of B108 , B109) st (B108 = C126 & B109 = C127 & B110 = R3 & (the Sorts of B108) is_transformable_to (the Sorts of B109) & B110 is_homomorphism B108 , B109)))));
assume L398: (for R3 being set holds (R3 in C142 iff (ex B111 , B112 being  strict  feasible MSAlgebra over R2 st (ex B113 being (ManySortedFunction of B111 , B112) st (B111 = C126 & B112 = C127 & B113 = R3 & (the Sorts of B111) is_transformable_to (the Sorts of B112) & B113 is_homomorphism B111 , B112)))));
L399: C142 c= C141
proof
let C143 being set;
assume L400: C143 in C142;
L401: (ex B114 , B115 being  strict  feasible MSAlgebra over R2 st (ex B116 being (ManySortedFunction of B114 , B115) st (B114 = C126 & B115 = C127 & B116 = C143 & (the Sorts of B114) is_transformable_to (the Sorts of B115) & B116 is_homomorphism B114 , B115))) by L400 , L398;
thus L402: thesis by L401 , L397;
end;
L403: C141 c= C142
proof
let C144 being set;
assume L404: C144 in C141;
L405: (ex B117 , B118 being  strict  feasible MSAlgebra over R2 st (ex B119 being (ManySortedFunction of B117 , B118) st (B117 = C126 & B118 = C127 & B119 = C144 & (the Sorts of B117) is_transformable_to (the Sorts of B118) & B119 is_homomorphism B117 , B118))) by L404 , L397;
thus L406: thesis by L405 , L398;
end;
thus L407: C141 = C142 by L403 , L399 , XBOOLE_0:def 10;
end;
end;
definition
let R2 being non  void non  empty ManySortedSign;
let R1 being non  empty set;
func MSAlgCat (R2 , R1) ->  strict non  empty AltCatStr means 
:L409: ((the carrier of it) = ( MSAlg_set (R2 , R1) ) & (for B120 , B121 being (Element of ( MSAlg_set (R2 , R1) )) holds ( (the Arrows of it) . (B120 , B121) ) = ( MSAlg_morph (R2 , R1 , B120 , B121) )) & (for B122 , B123 , B124 being (object of it) holds (for B125 , B126 being  Function-yielding Function holds ((B125 in ( (the Arrows of it) . (B122 , B123) ) & B126 in ( (the Arrows of it) . (B123 , B124) )) implies ( ( (the Comp of it) . (B122 , B123 , B124) ) . (B126 , B125) ) = ( B126 ** B125 )))));
existence
proof
set D113 = ( MSAlg_set (R2 , R1) );
deffunc H2((Element of D113) , (Element of D113)) = ( MSAlg_morph (R2 , R1 , $1 , $2) );
consider C145 being (ManySortedSet of [: D113 , D113 :]) such that L410: (for B127 , B128 being (Element of D113) holds ( C145 . (B127 , B128) ) = H2(B127 , B128)) from ALTCAT_1:sch 2;
defpred S4[ set , set , set ] means (ex B129 , B130 , B131 being (Element of D113) st ($3 = [ B129 , B130 , B131 ] & (for B132 , B133 being  Function-yielding Function holds ((B132 in ( C145 . (B129 , B130) ) & B133 in ( C145 . (B130 , B131) ) & $2 = [ B133 , B132 ]) implies $1 = ( B133 ** B132 )))));
L411: (for B134 being set holds (B134 in [: D113 , D113 , D113 :] implies (for B135 being set holds (B135 in ( {| C145 , C145 |} . B134 ) implies (ex B136 being set st (B136 in ( {| C145 |} . B134 ) & S4[ B136 , B135 , B134 ]))))))
proof
let C146 being set;
assume L412: C146 in [: D113 , D113 , D113 :];
consider C147 , C148 , C149 being set such that L413: (C147 in D113 & C148 in D113 & C149 in D113) and L414: C146 = [ C147 , C148 , C149 ] by L412 , MCART_1:68;
reconsider D114 = C147 , D115 = C148 , D116 = C149 as (Element of D113) by L413;
let C150 being set;
L415: (( {| C145 , C145 |} . (D114 , D115 , D116) ) = ( {| C145 , C145 |} . [ D114 , D115 , D116 ] ) & ( {| C145 , C145 |} . (D114 , D115 , D116) ) = [: ( C145 . (D115 , D116) ) , ( C145 . (D114 , D115) ) :]) by ALTCAT_1:def 4 , MULTOP_1:def 1;
L416: ( {| C145 |} . C146 ) = ( {| C145 |} . (D114 , D115 , D116) ) by L414 , MULTOP_1:def 1;
assume L417: C150 in ( {| C145 , C145 |} . C146 );
L418: ( C150 `1 ) in ( C145 . (D115 , D116) ) by L417 , L414 , L415 , MCART_1:10;
L419: ( C150 `1 ) in ( MSAlg_morph (R2 , R1 , D115 , D116) ) by L418 , L410;
consider C151 , C152 being  strict  feasible MSAlgebra over R2, C153 being (ManySortedFunction of C151 , C152) such that L420: C151 = D115 and L421: C152 = D116 and L422: C153 = ( C150 `1 ) and L423: ((the Sorts of C151) is_transformable_to (the Sorts of C152) & C153 is_homomorphism C151 , C152) by L419 , L357;
L424: ( C150 `2 ) in ( C145 . (D114 , D115) ) by L414 , L417 , L415 , MCART_1:10;
L425: ( C150 `2 ) in ( MSAlg_morph (R2 , R1 , D114 , D115) ) by L424 , L410;
consider C154 , C155 being  strict  feasible MSAlgebra over R2, C156 being (ManySortedFunction of C154 , C155) such that L426: C154 = D114 and L427: C155 = D115 and L428: C156 = ( C150 `2 ) and L429: ((the Sorts of C154) is_transformable_to (the Sorts of C155) & C156 is_homomorphism C154 , C155) by L425 , L357;
take D117 = ( C153 ** C156 );
reconsider D118 = C156 as (ManySortedFunction of C154 , C151) by L420 , L427;
L430: ((the Sorts of C154) is_transformable_to (the Sorts of C152) & (ex B137 being (ManySortedFunction of C154 , C152) st (B137 = ( C153 ** D118 ) & B137 is_homomorphism C154 , C152))) by L420 , L423 , L427 , L429 , L348 , AUTALG_1:10;
L431: (( {| C145 |} . (D114 , D115 , D116) ) = ( C145 . (D114 , D116) ) & D117 in ( MSAlg_morph (R2 , R1 , D114 , D116) )) by L430 , L421 , L426 , L357 , ALTCAT_1:def 3;
thus L432: D117 in ( {| C145 |} . C146 ) by L431 , L410 , L416;
take D114;
take D115;
take D116;
thus L433: C146 = [ D114 , D115 , D116 ] by L414;
let C157 , C158 being  Function-yielding Function;
assume that
L434: C157 in ( C145 . (D114 , D115) )
and
L435: C158 in ( C145 . (D115 , D116) )
and
L436: C150 = [ C158 , C157 ];
L437: ( C150 `1 ) = C158 by L436 , MCART_1:7;
thus L438: thesis by L437 , L422 , L428 , L436 , MCART_1:7;
end;
consider C159 being (ManySortedFunction of {| C145 , C145 |} , {| C145 |}) such that L439: (for B138 being set holds (B138 in [: D113 , D113 , D113 :] implies (ex B139 being (Function of ( {| C145 , C145 |} . B138 ) , ( {| C145 |} . B138 )) st (B139 = ( C159 . B138 ) & (for B140 being set holds (B140 in ( {| C145 , C145 |} . B138 ) implies S4[ ( B139 . B140 ) , B140 , B138 ])))))) from MSSUBFAM:sch 1(L411);
take D119 = AltCatStr (# D113 , C145 , C159 #);
reconsider D120 = D119 as non  empty AltCatStr;
L440: (for B141 , B142 , B143 being (object of D120) holds (for B144 , B145 being  Function-yielding Function holds ((B144 in ( (the Arrows of D120) . (B141 , B142) ) & B145 in ( (the Arrows of D120) . (B142 , B143) )) implies ( ( (the Comp of D120) . (B141 , B142 , B143) ) . (B145 , B144) ) = ( B145 ** B144 ))))
proof
let C160 , C161 , C162 being (object of D120);
let C163 , C164 being  Function-yielding Function;
assume L441: (C163 in ( (the Arrows of D120) . (C160 , C161) ) & C164 in ( (the Arrows of D120) . (C161 , C162) ));
set D121 = [ C164 , C163 ];
set D122 = [ C160 , C161 , C162 ];
L442: D122 in [: D113 , D113 , D113 :] by MCART_1:69;
consider C165 being (Function of ( {| C145 , C145 |} . D122 ) , ( {| C145 |} . D122 )) such that L443: C165 = ( C159 . D122 ) and L444: (for B146 being set holds (B146 in ( {| C145 , C145 |} . D122 ) implies S4[ ( C165 . B146 ) , B146 , D122 ])) by L442 , L439;
L445: C165 = ( (the Comp of D120) . (C160 , C161 , C162) ) by L443 , MULTOP_1:def 1;
L446: (( {| C145 , C145 |} . (C160 , C161 , C162) ) = ( {| C145 , C145 |} . [ C160 , C161 , C162 ] ) & ( {| C145 , C145 |} . (C160 , C161 , C162) ) = [: ( C145 . (C161 , C162) ) , ( C145 . (C160 , C161) ) :]) by ALTCAT_1:def 4 , MULTOP_1:def 1;
L447: D121 in ( {| C145 , C145 |} . D122 ) by L446 , L441 , ZFMISC_1:87;
consider C166 , C167 , C168 being (Element of D113) such that L448: D122 = [ C166 , C167 , C168 ] and L449: (for B147 , B148 being  Function-yielding Function holds ((B147 in ( C145 . (C166 , C167) ) & B148 in ( C145 . (C167 , C168) ) & D121 = [ B148 , B147 ]) implies ( C165 . D121 ) = ( B148 ** B147 ))) by L447 , L444;
L450: C168 = C162 by L448 , XTUPLE_0:3;
L451: (C166 = C160 & C167 = C161) by L448 , XTUPLE_0:3;
thus L452: thesis by L451 , L441 , L449 , L450 , L445;
end;
thus L453: thesis by L440 , L410;
end;
uniqueness
proof
reconsider D123 = ( MSAlg_set (R2 , R1) ) as non  empty set;
let C169 , C170 being non  empty  strict AltCatStr;
assume that
L454: (the carrier of C169) = ( MSAlg_set (R2 , R1) )
and
L455: (for B149 , B150 being (Element of ( MSAlg_set (R2 , R1) )) holds ( (the Arrows of C169) . (B149 , B150) ) = ( MSAlg_morph (R2 , R1 , B149 , B150) ))
and
L456: (for B151 , B152 , B153 being (object of C169) holds (for B154 , B155 being  Function-yielding Function holds ((B154 in ( (the Arrows of C169) . (B151 , B152) ) & B155 in ( (the Arrows of C169) . (B152 , B153) )) implies ( ( (the Comp of C169) . (B151 , B152 , B153) ) . (B155 , B154) ) = ( B155 ** B154 ))))
and
L457: (the carrier of C170) = ( MSAlg_set (R2 , R1) )
and
L458: (for B156 , B157 being (Element of ( MSAlg_set (R2 , R1) )) holds ( (the Arrows of C170) . (B156 , B157) ) = ( MSAlg_morph (R2 , R1 , B156 , B157) ))
and
L459: (for B158 , B159 , B160 being (object of C170) holds (for B161 , B162 being  Function-yielding Function holds ((B161 in ( (the Arrows of C170) . (B158 , B159) ) & B162 in ( (the Arrows of C170) . (B159 , B160) )) implies ( ( (the Comp of C170) . (B158 , B159 , B160) ) . (B162 , B161) ) = ( B162 ** B161 ))));
reconsider D124 = (the Comp of C169) , D125 = (the Comp of C170) as (ManySortedSet of [: D123 , D123 , D123 :]) by L454 , L457;
reconsider D126 = (the Arrows of C169) , D127 = (the Arrows of C170) as (ManySortedSet of [: D123 , D123 :]) by L454 , L457;
L460:
now
let C171 , C172 being (Element of D123);
thus L461: ( D126 . (C171 , C172) ) = ( MSAlg_morph (R2 , R1 , C171 , C172) ) by L455
.= ( D127 . (C171 , C172) ) by L458;
end;
L462: D126 = D127 by L460 , ALTCAT_1:7;
L463:
now
let C173 , C174 , C175 being set;
set D128 = [ C173 , C174 , C175 ];
L464: ( D124 . (C173 , C174 , C175) ) = ( D124 . [ C173 , C174 , C175 ] ) by MULTOP_1:def 1;
assume L465: (C173 in D123 & C174 in D123 & C175 in D123);
reconsider D129 = C173 , D130 = C174 , D131 = C175 as (Element of D123) by L465;
reconsider D132 = C173 , D133 = C174 , D134 = C175 as (object of C170) by L457 , L465;
reconsider D135 = C173 , D136 = C174 , D137 = C175 as (object of C169) by L454 , L465;
L466: D128 in [: D123 , D123 , D123 :] by L465 , MCART_1:69;
L467: ( D125 . (C173 , C174 , C175) ) = ( D125 . [ C173 , C174 , C175 ] ) by MULTOP_1:def 1;
thus L468: ( D124 . (C173 , C174 , C175) ) = ( D125 . (C173 , C174 , C175) )
proof
reconsider D138 = ( D125 . D128 ) as (Function of ( {| D127 , D127 |} . D128 ) , ( {| D127 |} . D128 )) by L457 , L466 , PBOOLE:def 15;
reconsider D139 = ( D124 . D128 ) as (Function of ( {| D126 , D126 |} . D128 ) , ( {| D126 |} . D128 )) by L454 , L466 , PBOOLE:def 15;
per cases ;
suppose L469: ( {| D126 |} . D128 ) <> ( {} );

L470: (for B163 being set holds (B163 in ( {| D126 , D126 |} . D128 ) implies ( D139 . B163 ) = ( D138 . B163 )))
proof
let C176 being set;
assume L471: C176 in ( {| D126 , D126 |} . D128 );
L472: C176 in ( {| D126 , D126 |} . (C173 , C174 , C175) ) by L471 , MULTOP_1:def 1;
L473: C176 in [: ( D126 . (C174 , C175) ) , ( D126 . (C173 , C174) ) :] by L472 , L465 , ALTCAT_1:def 4;
L474: ( C176 `1 ) in ( D126 . (C174 , C175) ) by L473 , MCART_1:10;
L475: ( C176 `1 ) in ( MSAlg_morph (R2 , R1 , D130 , D131) ) by L474 , L455;
consider C177 , C178 being  strict  feasible MSAlgebra over R2, C179 being (ManySortedFunction of C177 , C178) such that L476: C177 = D130 and L477: C178 = D131 and L478: C179 = ( C176 `1 ) and L479: (the Sorts of C177) is_transformable_to (the Sorts of C178) and L480: C179 is_homomorphism C177 , C178 by L475 , L357;
L481: C176 in ( {| D127 , D127 |} . (C173 , C174 , C175) ) by L462 , L471 , MULTOP_1:def 1;
L482: C176 in [: ( D127 . (C174 , C175) ) , ( D127 . (C173 , C174) ) :] by L481 , L465 , ALTCAT_1:def 4;
L483: (( C176 `1 ) in ( D127 . (C174 , C175) ) & ( C176 `2 ) in ( D127 . (C173 , C174) )) by L482 , MCART_1:10;
L484: ( C176 `2 ) in ( D126 . (C173 , C174) ) by L473 , MCART_1:10;
L485: ( C176 `2 ) in ( MSAlg_morph (R2 , R1 , D129 , D130) ) by L484 , L455;
consider C180 , C181 being  strict  feasible MSAlgebra over R2, C182 being (ManySortedFunction of C180 , C181) such that L486: C180 = D129 and L487: C181 = D130 and L488: C182 = ( C176 `2 ) and L489: (the Sorts of C180) is_transformable_to (the Sorts of C181) and L490: C182 is_homomorphism C180 , C181 by L485 , L357;
L491: C176 = [ C179 , C182 ] by L473 , L488 , L478 , MCART_1:21;
L492: ( D139 . C176 ) = ( ( (the Comp of C169) . (D135 , D136 , D137) ) . (C179 , C182) ) by L491 , MULTOP_1:def 1
.= ( C179 ** C182 ) by L456 , L474 , L484 , L488 , L478
.= ( ( (the Comp of C170) . (D132 , D133 , D134) ) . (C179 , C182) ) by L459 , L483 , L488 , L478
.= ( D138 . C176 ) by L491 , MULTOP_1:def 1;
thus L493: thesis by L492;
end;
L494: ( {| D127 |} . D128 ) <> ( {} ) by L460 , L469 , ALTCAT_1:7;
L495: ( dom D138 ) = ( {| D127 , D127 |} . D128 ) by L494 , FUNCT_2:def 1;
L496: ( dom D139 ) = ( {| D126 , D126 |} . D128 ) by L469 , FUNCT_2:def 1;
thus L497: thesis by L496 , L462 , L464 , L467 , L495 , L470 , FUNCT_1:2;
end;
suppose L498: ( {| D126 |} . D128 ) = ( {} );

L499: (D139 = ( {} ) & D138 = ( {} )) by L498 , L462;
thus L500: thesis by L499 , L464 , MULTOP_1:def 1;
end;
end;

end;
thus L469: thesis by L463 , L454 , L457 , L462 , ALTCAT_1:8;
end;
end;
registration
let R2 being non  void non  empty ManySortedSign;
let R1 being non  empty set;
cluster ( MSAlgCat (R2 , R1) ) ->  transitive  associative  with_units;
coherence
proof
set D140 = ( MSAlgCat (R2 , R1) );
set D141 = ( MSAlgCat (R2 , R1) );
set D142 = (the Arrows of D140);
set D143 = (the Comp of D140);
thus L471: D141 is  transitive
proof
let C183 , C184 , C185 being (object of D141);
reconsider D144 = C183 , D145 = C184 , D146 = C185 as (Element of ( MSAlg_set (R2 , R1) )) by L409;
assume that
L472: <^ C183 , C184 ^> <> ( {} )
and
L473: <^ C184 , C185 ^> <> ( {} );
set D147 = the (Element of ( MSAlg_morph (R2 , R1 , D144 , D145) ));
L474: ( MSAlg_morph (R2 , R1 , D144 , D145) ) <> ( {} ) by L472 , L409;
consider C186 , C187 being  strict  feasible MSAlgebra over R2, C188 being (ManySortedFunction of C186 , C187) such that L475: C186 = D144 and L476: C187 = D145 and L477: C188 = D147 and L478: (the Sorts of C186) is_transformable_to (the Sorts of C187) and L479: C188 is_homomorphism C186 , C187 by L474 , L357;
set D148 = the (Element of ( MSAlg_morph (R2 , R1 , D145 , D146) ));
L480: ( MSAlg_morph (R2 , R1 , D145 , D146) ) <> ( {} ) by L473 , L409;
consider C189 , C190 being  strict  feasible MSAlgebra over R2, C191 being (ManySortedFunction of C189 , C190) such that L481: C189 = D145 and L482: C190 = D146 and L483: C191 = D148 and L484: (the Sorts of C189) is_transformable_to (the Sorts of C190) and L485: C191 is_homomorphism C189 , C190 by L480 , L357;
reconsider D149 = C191 as (ManySortedFunction of C187 , C190) by L476 , L481;
consider C192 being (ManySortedFunction of C186 , C190) such that L486: C192 = ( D149 ** C188 ) and L487: C192 is_homomorphism C186 , C190 by L476 , L478 , L479 , L481 , L484 , L485 , L348;
L488: (the Sorts of C186) is_transformable_to (the Sorts of C190) by L476 , L478 , L481 , L484 , AUTALG_1:10;
L489: C192 in ( MSAlg_morph (R2 , R1 , D144 , D146) ) by L488 , L475 , L482 , L487 , L357;
thus L490: thesis by L489 , L409;
end;

thus L491: D143 is  associative
proof
let C193 , C194 , C195 , C196 being (Element of D140);
let C197 , C198 , C199 being set;
reconsider D150 = C193 , D151 = C194 , D152 = C195 , D153 = C196 as (Element of ( MSAlg_set (R2 , R1) )) by L409;
assume that
L492: C197 in ( D142 . (C193 , C194) )
and
L493: C198 in ( D142 . (C194 , C195) )
and
L494: C199 in ( D142 . (C195 , C196) );
L495: C198 in ( MSAlg_morph (R2 , R1 , D151 , D152) ) by L493 , L409;
consider C200 , C201 being  strict  feasible MSAlgebra over R2, C202 being (ManySortedFunction of C200 , C201) such that L496: C200 = D151 and L497: C201 = D152 and L498: C198 = C202 and L499: (the Sorts of C200) is_transformable_to (the Sorts of C201) and L500: C202 is_homomorphism C200 , C201 by L495 , L357;
L501: C199 in ( MSAlg_morph (R2 , R1 , D152 , D153) ) by L494 , L409;
consider C203 , C204 being  strict  feasible MSAlgebra over R2, C205 being (ManySortedFunction of C203 , C204) such that L502: C203 = D152 and L503: C204 = D153 and L504: C199 = C205 and L505: (the Sorts of C203) is_transformable_to (the Sorts of C204) and L506: C205 is_homomorphism C203 , C204 by L501 , L357;
reconsider D154 = C202 as (ManySortedFunction of C200 , C203) by L497 , L502;
consider C206 being (ManySortedFunction of C200 , C204) such that L507: C206 = ( C205 ** D154 ) and L508: C206 is_homomorphism C200 , C204 by L497 , L499 , L500 , L502 , L505 , L506 , L348;
L509: ( ( D143 . (C194 , C195 , C196) ) . (C205 , C202) ) = ( C205 ** D154 ) by L493 , L494 , L498 , L504 , L409;
L510: C197 in ( MSAlg_morph (R2 , R1 , D150 , D151) ) by L492 , L409;
consider C207 , C208 being  strict  feasible MSAlgebra over R2, C209 being (ManySortedFunction of C207 , C208) such that L511: C207 = D150 and L512: C208 = D151 and L513: C197 = C209 and L514: (the Sorts of C207) is_transformable_to (the Sorts of C208) and L515: C209 is_homomorphism C207 , C208 by L510 , L357;
L516: ( ( D143 . (C193 , C194 , C195) ) . (C198 , C197) ) = ( C202 ** C209 ) by L492 , L493 , L513 , L498 , L409;
consider C210 being (ManySortedFunction of C207 , C203) such that L517: C210 = ( D154 ** C209 ) and L518: C210 is_homomorphism C207 , C203 by L512 , L514 , L515 , L496 , L497 , L499 , L500 , L502 , L348;
L519: (the Sorts of C207) is_transformable_to (the Sorts of C203) by L512 , L514 , L496 , L497 , L499 , L502 , AUTALG_1:10;
L520: ( D154 ** C209 ) in ( MSAlg_morph (R2 , R1 , D150 , D152) ) by L519 , L511 , L502 , L517 , L518 , L357;
L521: C210 in ( D142 . (C193 , C195) ) by L520 , L517 , L409;
L522: ( ( D143 . (C193 , C195 , C196) ) . (C205 , C210) ) = ( C205 ** C210 ) by L521 , L494 , L504 , L409;
L523: (the Sorts of C200) is_transformable_to (the Sorts of C204) by L497 , L499 , L502 , L505 , AUTALG_1:10;
L524: C206 in ( MSAlg_morph (R2 , R1 , D151 , D153) ) by L523 , L496 , L503 , L508 , L357;
L525: ( C205 ** D154 ) in ( D142 . (C194 , C196) ) by L524 , L507 , L409;
L526: ( ( C205 ** D154 ) ** C209 ) = ( C205 ** ( D154 ** C209 ) ) by PBOOLE:140;
thus L527: thesis by L526 , L492 , L513 , L498 , L504 , L516 , L517 , L522 , L509 , L525 , L409;
end;

thus L528: D143 is  with_left_units
proof
let C211 being (Element of D140);
reconsider D155 = C211 as (Element of ( MSAlg_set (R2 , R1) )) by L409;
consider C212 being  strict  feasible MSAlgebra over R2 such that L529: C212 = D155 and L530: (for B164 being (Component of (the Sorts of C212)) holds B164 c= R1) by L134;
reconsider D156 = ( id (the Sorts of C212) ) as (ManySortedFunction of C212 , C212);
take D156;
L531: (D156 is_homomorphism C212 , C212 & ( D142 . (C211 , C211) ) = ( MSAlg_morph (R2 , R1 , D155 , D155) )) by L409 , MSUALG_3:9;
thus L532: D156 in ( D142 . (C211 , C211) ) by L531 , L529 , L357;
let C213 being (Element of D140);
reconsider D157 = C213 as (Element of ( MSAlg_set (R2 , R1) )) by L409;
let C214 being set;
reconsider D158 = C213 , D159 = C211 as (object of D140);
assume L533: C214 in ( D142 . (C213 , C211) );
L534: C214 in ( MSAlg_morph (R2 , R1 , D157 , D155) ) by L533 , L409;
consider C215 , C216 being  strict  feasible MSAlgebra over R2, C217 being (ManySortedFunction of C215 , C216) such that L535: C215 = D157 and L536: C216 = D155 and L537: C217 = C214 and L538: (the Sorts of C215) is_transformable_to (the Sorts of C216) and L539: C217 is_homomorphism C215 , C216 by L534 , L357;
reconsider D160 = C217 as (ManySortedFunction of C215 , C212) by L529 , L536;
L540: ( ( D143 . (D158 , D159 , D159) ) . (D156 , C214) ) = ( D156 ** D160 ) by L532 , L533 , L537 , L409;
thus L541: thesis by L540 , L537 , MSUALG_3:4;
end;

thus L542: D143 is  with_right_units
proof
let C218 being (Element of D140);
reconsider D161 = C218 as (Element of ( MSAlg_set (R2 , R1) )) by L409;
consider C219 being  strict  feasible MSAlgebra over R2 such that L543: C219 = D161 and L544: (for B165 being (Component of (the Sorts of C219)) holds B165 c= R1) by L134;
reconsider D162 = ( id (the Sorts of C219) ) as (ManySortedFunction of C219 , C219);
take D162;
L545: (D162 is_homomorphism C219 , C219 & ( D142 . (C218 , C218) ) = ( MSAlg_morph (R2 , R1 , D161 , D161) )) by L409 , MSUALG_3:9;
thus L546: D162 in ( D142 . (C218 , C218) ) by L545 , L543 , L357;
let C220 being (Element of D140);
reconsider D163 = C220 as (Element of ( MSAlg_set (R2 , R1) )) by L409;
let C221 being set;
reconsider D164 = C218 , D165 = C220 as (object of D140);
assume L547: C221 in ( D142 . (C218 , C220) );
L548: C221 in ( MSAlg_morph (R2 , R1 , D161 , D163) ) by L547 , L409;
consider C222 , C223 being  strict  feasible MSAlgebra over R2, C224 being (ManySortedFunction of C222 , C223) such that L549: C222 = D161 and L550: C223 = D163 and L551: C224 = C221 and L552: (the Sorts of C222) is_transformable_to (the Sorts of C223) and L553: C224 is_homomorphism C222 , C223 by L548 , L357;
reconsider D166 = C224 as (ManySortedFunction of C219 , C223) by L543 , L549;
L554: ( ( D143 . (D164 , D164 , D165) ) . (C221 , D162) ) = ( D166 ** D162 ) by L546 , L547 , L551 , L409;
thus L555: thesis by L554 , L551 , MSUALG_3:3;
end;

end;
end;
theorem
L544: (for R1 being non  empty set holds (for R2 being non  void non  empty ManySortedSign holds (for B166 being category holds (B166 = ( MSAlgCat (R2 , R1) ) implies (for B167 being (object of B166) holds B167 is  strict  feasible  strict  feasible  strict  feasible  strict  feasible MSAlgebra over R2)))))
proof
let R1 being non  empty set;
let R2 being non  void non  empty ManySortedSign;
let C225 being category;
assume that
L545: C225 = ( MSAlgCat (R2 , R1) );
let C226 being (object of C225);
L546: C226 in (the carrier of C225);
L547: C226 in ( MSAlg_set (R2 , R1) ) by L546 , L545 , L409;
L548: (ex B168 being  strict  feasible MSAlgebra over R2 st (C226 = B168 & (for B169 being (Component of (the Sorts of B168)) holds B169 c= R1))) by L547 , L134;
thus L549: thesis by L548;
end;
