:: Stirling Numbers of the Second Kind
::  by Karol P\c{a}k
::
:: Received March 15, 2005
:: Copyright (c) 2005-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, XBOOLE_0, XXREAL_0, NAT_1, ORDINAL1, CARD_1,
      TARSKI, ARYTM_3, ARYTM_1, FUNCT_1, RELAT_1, FUNCT_2, INT_1, FINSET_1,
      AFINSQ_1, FINSEQ_1, FINSOP_1, CARD_3, BINOP_2, ZFMISC_1, NEWTON,
      REALSET1, STIRL2_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, CARD_1, NUMBERS, RELAT_1,
      FUNCT_1, RELSET_1, ORDINAL1, SEQ_4, PARTFUN1, FINSET_1, AFINSQ_1,
      AFINSQ_2, XXREAL_0, FUNCT_2, NAT_1, INT_1, BINOP_1, BINOP_2, NEWTON,
      DOMAIN_1;
 constructors WELLORD2, DOMAIN_1, SETWISEO, REAL_1, BINOP_2, SEQ_4, NEWTON,
      AFINSQ_2, RELSET_1, PARTFUN3, BINOP_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FUNCT_2,
      FINSET_1, XXREAL_0, XREAL_0, NAT_1, INT_1, BINOP_2, MEMBERED, AFINSQ_1,
      CARD_1, VALUED_0, XXREAL_2, RELSET_1, AFINSQ_2;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, XBOOLE_0, FUNCT_1;
 theorems AFINSQ_1, TARSKI, FUNCT_1, XBOOLE_0, ZFMISC_1, RELAT_1, XBOOLE_1,
      NAT_1, FUNCT_2, AXIOMS, XCMPLX_1, CARD_2, INT_1, ORDINAL1, WELLORD2,
      FRAENKEL, SUBSET_1, ENUMSET1, CARD_1, BINOP_2, NEWTON, WSIERP_1, XREAL_1,
      XXREAL_0, XXREAL_2, AFINSQ_2;
 schemes FUNCT_2, NAT_1, INT_1;

begin
theorem
L1: (for R8 being non  empty (Subset of ( NAT )) holds ( min R8 ) = ( min* R8 ))
proof
let R8 being non  empty (Subset of ( NAT ));
L2: (for B1 being  ext-real number holds (B1 in R8 implies ( min* R8 ) <= B1)) by NAT_1:def 1;
L3: ( min* R8 ) in R8 by NAT_1:def 1;
thus L4: thesis by L3 , L2 , XXREAL_2:def 7;
end;
theorem
L5: (for R7 being non  empty (Subset of ( NAT )) holds (for R8 being non  empty (Subset of ( NAT )) holds ( min (( min R7 ) , ( min R8 )) ) = ( min ( R7 \/ R8 ) )))
proof
let R7 being non  empty (Subset of ( NAT ));
let R8 being non  empty (Subset of ( NAT ));
set D1 = ( min (( min R8 ) , ( min R7 )) );
L6: (for B2 being  ext-real number holds (B2 in ( R8 \/ R7 ) implies D1 <= B2))
proof
let C1 being  ext-real number;
assume L7: C1 in ( R8 \/ R7 );
L8: (C1 in R8 or C1 in R7) by L7 , XBOOLE_0:def 3;
L9: (( min R8 ) <= C1 or ( min R7 ) <= C1) by L8 , XXREAL_2:def 7;
L10: D1 <= ( min R7 ) by XXREAL_0:17;
L11: D1 <= ( min R8 ) by XXREAL_0:17;
thus L12: thesis by L11 , L9 , L10 , XXREAL_0:2;
end;
L13: (D1 = ( min R8 ) or D1 = ( min R7 )) by XXREAL_0:15;
L14: (D1 in R8 or D1 in R7) by L13 , XXREAL_2:def 7;
L15: D1 in ( R8 \/ R7 ) by L14 , XBOOLE_0:def 3;
thus L16: thesis by L15 , L6 , XXREAL_2:def 7;
end;
theorem
L17: (for R9 being (Subset of ( NAT )) holds (for R10 being (Subset of ( NAT )) holds ( min (( min* R9 ) , ( min* R10 )) ) <= ( min* ( R9 \/ R10 ) )))
proof
let R9 being (Subset of ( NAT ));
let R10 being (Subset of ( NAT ));
L18:
now
per cases ;
suppose L19: (R9 is  empty or R10 is  empty);

L20: ((( min* R9 ) = ( 0 ) & ( min* R10 ) >= ( 0 )) or (( min* R10 ) = ( 0 ) & ( min* R9 ) >= ( 0 ))) by L19 , NAT_1:def 1;
thus L21: thesis by L20 , XXREAL_0:def 9;
end;
suppose L22: (R9 is non  empty & R10 is non  empty);

reconsider D2 = R9 , D3 = R10 as non  empty (Subset of ( NAT )) by L22;
L23: ( min D3 ) = ( min* R10 ) by L1;
L24: ( min ( D2 \/ D3 ) ) = ( min* ( R9 \/ R10 ) ) by L1;
L25: ( min D2 ) = ( min* R9 ) by L1;
thus L26: thesis by L25 , L23 , L24 , L5;
end;
end;
thus L28: thesis by L18;
end;
theorem
L29: (for R9 being (Subset of ( NAT )) holds (for R10 being (Subset of ( NAT )) holds ((not ( min* R10 ) in ( R10 /\ R9 )) implies ( min* R10 ) = ( min* ( R10 \ R9 ) ))))
proof
let R9 being (Subset of ( NAT ));
let R10 being (Subset of ( NAT ));
assume L30: (not ( min* R10 ) in ( R10 /\ R9 ));
L31:
now
per cases ;
suppose L32: R10 is  empty;

thus L33: thesis by L32;
end;
suppose L34: R10 is non  empty;

L35: ( min* R10 ) in R10 by L34 , NAT_1:def 1;
L36: (not ( min* R10 ) in R9) by L35 , L30 , XBOOLE_0:def 4;
L37: ( min* R10 ) in ( R10 \ R9 ) by L36 , L35 , XBOOLE_0:def 5;
L38: ( min* ( R10 \ R9 ) ) <= ( min* R10 ) by L37 , NAT_1:def 1;
L39: ( R10 \ R9 ) c= R10 by XBOOLE_1:36;
L40: ( min* ( R10 \ R9 ) ) in ( R10 \ R9 ) by L37 , NAT_1:def 1;
L41: ( min* R10 ) <= ( min* ( R10 \ R9 ) ) by L40 , L39 , NAT_1:def 1;
thus L42: thesis by L41 , L38 , XXREAL_0:1;
end;
end;
thus L44: thesis by L31;
end;
theorem
L45: (for B3 being (Element of ( NAT )) holds (( min* { B3 } ) = B3 & ( min { B3 } ) = B3))
proof
let C2 being (Element of ( NAT ));
L46: ( min* { C2 } ) in { C2 } by NAT_1:def 1;
L47: ( min* { C2 } ) = ( min { C2 } ) by L1;
thus L48: thesis by L47 , L46 , TARSKI:def 1;
end;
theorem
L49: (for B4 , B5 being (Element of ( NAT )) holds (( min* { B4 , B5 } ) = ( min (B4 , B5) ) & ( min { B4 , B5 } ) = ( min (B4 , B5) )))
proof
let C3 , C4 being (Element of ( NAT ));
L50: ( min { C3 } ) = C3 by L45;
L51: { C3 , C4 } = ( { C3 } \/ { C4 } ) by ENUMSET1:1;
L52: ( min { C3 , C4 } ) = ( min (( min { C3 } ) , ( min { C4 } )) ) by L51 , L5;
L53: ( min { C3 , C4 } ) = ( min* { C3 , C4 } ) by L1;
thus L54: thesis by L53 , L52 , L50 , L45;
end;
theorem
L55: (for B6 , B7 , B8 being (Element of ( NAT )) holds ( min* { B6 , B7 , B8 } ) = ( min (B6 , ( min (B7 , B8) )) ))
proof
let C5 , C6 , C7 being (Element of ( NAT ));
L56: ( min { C5 , C6 , C7 } ) = ( min* { C5 , C6 , C7 } ) by L1;
L57: { C5 , C6 , C7 } = ( { C5 } \/ { C6 , C7 } ) by ENUMSET1:2;
L58: ( min { C5 , C6 , C7 } ) = ( min (( min { C5 } ) , ( min { C6 , C7 } )) ) by L57 , L5;
L59: ( min { C6 , C7 } ) = ( min (C6 , C7) ) by L49;
thus L60: thesis by L59 , L58 , L56 , L45;
end;
theorem
L61: (for R4 being Nat holds R4 is (Subset of ( NAT )))
proof
let R4 being Nat;
L62:
now
let C8 being set;
assume L63: C8 in { B9 where B9 is (Element of ( NAT )) : B9 < R4 };
L64: (ex B10 being (Element of ( NAT )) st (C8 = B10 & B10 < R4)) by L63;
thus L65: C8 in ( NAT ) by L64;
end;
L66: { B11 where B11 is (Element of ( NAT )) : B11 < R4 } c= ( NAT ) by L62 , TARSKI:def 3;
thus L67: thesis by L66 , AXIOMS:4;
end;
registration
let R4 being Nat;
cluster  ->  natural for (Element of R4);
coherence;
end;
theorem
L69: (for R4 being Nat holds (for R8 being non  empty (Subset of ( NAT )) holds (R8 c= R4 implies ( R4 - 1 ) is (Element of ( NAT )))))
proof
let R4 being Nat;
let R8 being non  empty (Subset of ( NAT ));
L70: ( min* R8 ) in R8 by NAT_1:def 1;
assume L71: R8 c= R4;
L72: ( min* R8 ) in R4 by L71 , L70;
L73: ( min* R8 ) in { B12 where B12 is (Element of ( NAT )) : B12 < R4 } by L72 , AXIOMS:4;
L74: (ex B13 being (Element of ( NAT )) st (( min* R8 ) = B13 & B13 < R4)) by L73;
thus L75: thesis by L74 , NAT_1:20;
end;
theorem
L76: (for R1 being Nat holds (for R4 being Nat holds (R1 in R4 implies (R1 <= ( R4 - 1 ) & ( R4 - 1 ) is (Element of ( NAT ))))))
proof
let R1 being Nat;
let R4 being Nat;
assume L77: R1 in R4;
L78: R1 in { B14 where B14 is (Element of ( NAT )) : B14 < R4 } by L77 , AXIOMS:4;
L79: (ex B15 being (Element of ( NAT )) st (R1 = B15 & B15 < R4)) by L78;
L80: ( R4 - 1 ) is (Element of ( NAT )) by L79 , NAT_1:20;
L81: R1 < ( ( R4 - 1 ) + 1 ) by L79;
thus L82: thesis by L81 , L80 , NAT_1:13;
end;
theorem
L83: (for R4 being Nat holds ( min* R4 ) = ( 0 ))
proof
let R4 being Nat;
L84:
now
per cases ;
suppose L85: ( 0 ) = R4;

thus L86: thesis by L85 , NAT_1:def 1;
end;
suppose L87: ( 0 ) < R4;

L88: ( 0 ) in { B16 where B16 is (Element of ( NAT )) : B16 < R4 } by L87;
L89: ( 0 ) in R4 by L88 , AXIOMS:4;
L90: R4 is (Subset of ( NAT )) by L61;
thus L91: thesis by L90 , L89 , NAT_1:def 1;
end;
end;
thus L93: thesis by L84;
end;
theorem
L94: (for R4 being Nat holds (for R8 being non  empty (Subset of ( NAT )) holds (R8 c= R4 implies ( min* R8 ) <= ( R4 - 1 ))))
proof
let R4 being Nat;
let R8 being non  empty (Subset of ( NAT ));
L95: ( min* R8 ) in R8 by NAT_1:def 1;
assume L96: R8 c= R4;
thus L97: thesis by L96 , L95 , L76;
end;
theorem
L98: (for R4 being Nat holds (for R8 being non  empty (Subset of ( NAT )) holds ((R8 c= R4 & R8 <> { ( R4 - 1 ) }) implies ( min* R8 ) < ( R4 - 1 ))))
proof
let R4 being Nat;
let R8 being non  empty (Subset of ( NAT ));
assume that
L99: R8 c= R4
and
L100: R8 <> { ( R4 - 1 ) }
and
L101: ( min* R8 ) >= ( R4 - 1 );
L102:
now
let C9 being set;
assume that
L103: C9 in R8;
reconsider D4 = C9 as (Element of ( NAT )) by L103;
L104: ( min* R8 ) <= D4 by L103 , NAT_1:def 1;
L105: ( R4 - 1 ) <= D4 by L104 , L101 , XXREAL_0:2;
L106: D4 <= ( R4 - 1 ) by L99 , L103 , L76;
L107: ( R4 - 1 ) = C9 by L106 , L105 , XXREAL_0:1;
thus L108: C9 in { ( R4 - 1 ) } by L107 , TARSKI:def 1;
end;
L109: R8 c= { ( R4 - 1 ) } by L102 , TARSKI:def 3;
thus L110: thesis by L109 , L100 , ZFMISC_1:33;
end;
theorem
L111: (for R4 being Nat holds (for R10 being (Subset of ( NAT )) holds ((R10 c= R4 & R4 > ( 0 )) implies ( min* R10 ) <= ( R4 - 1 ))))
proof
let R4 being Nat;
let R10 being (Subset of ( NAT ));
assume that
L112: R10 c= R4
and
L113: R4 > ( 0 );
L114:
now
per cases ;
suppose L115: R10 is non  empty;

thus L116: thesis by L115 , L112 , L94;
end;
suppose L117: R10 is  empty;

L118: ( min* R10 ) = ( 0 ) by L117 , NAT_1:def 1;
thus L119: thesis by L118 , L113 , NAT_1:20;
end;
end;
thus L121: thesis by L114;
end;
definition
let R4 being Nat;
let R12 being set;
let C10 being (Function of R4 , R12);
let C11 being set;
redefine func C10 " C11 -> (Subset of ( NAT ));

coherence
proof
L122:
now
L123: R4 is (Subset of ( NAT )) by L61;
let C12 being set;
assume L124: C12 in ( C10 " C11 );
thus L125: C12 in ( NAT ) by L124 , L123 , TARSKI:def 3;
end;
thus L126: thesis by L122 , TARSKI:def 3;
end;
end;
definition
let R12 being set;
let R1 being Nat;
let C13 being (Function of R12 , R1);
let C14 being set;
redefine func C13 . C14 -> (Element of R1);

coherence
proof
per cases ;
suppose L128: C14 in ( dom C13 );

L129: ( C13 . C14 ) in ( rng C13 ) by L128 , FUNCT_1:3;
thus L130: ( C13 . C14 ) is (Element of R1) by L129;
end;
suppose L131: (not C14 in ( dom C13 ));

L132: (R1 = ( 0 ) or R1 > ( 0 ));
L133: ( C13 . C14 ) = ( 0 ) by L131 , FUNCT_1:def 2;
thus L134: thesis by L133 , L132 , NAT_1:44 , SUBSET_1:def 1;
end;
end;
end;
definition
let C15 , C16 being Nat;
let C17 being (Function of C15 , C16);
attr C17 is  "increasing
means
:L137: ((C15 = ( 0 ) iff C16 = ( 0 )) & (for R2 being Nat holds (for R3 being Nat holds ((R2 in ( rng C17 ) & R3 in ( rng C17 ) & R2 < R3) implies ( min* ( C17 " { R2 } ) ) < ( min* ( C17 " { R3 } ) )))));
end;
theorem
L139: (for R1 being Nat holds (for R4 being Nat holds (for R14 being (Function of R4 , R1) holds ((R4 = ( 0 ) & R1 = ( 0 )) implies R14 is  onto  "increasing))))
proof
let R1 being Nat;
let R4 being Nat;
let R14 being (Function of R4 , R1);
assume that
L140: R4 = ( 0 )
and
L141: R1 = ( 0 );
L142: (for R2 being Nat holds (for R3 being Nat holds ((R2 in R1 & R3 in R1 & R2 < R3) implies ( min* ( R14 " { R2 } ) ) < ( min* ( R14 " { R3 } ) )))) by L141;
L143: ( rng R14 ) = ( {} ) by L140;
thus L144: thesis by L143 , L140 , L141 , L142 , L137 , FUNCT_2:def 3;
end;
theorem
L145: (for R1 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R14 being (Function of R4 , R1) holds (R4 > ( 0 ) implies ( min* ( R14 " { R3 } ) ) <= ( R4 - 1 ))))))
proof
let R1 being Nat;
let R3 being Nat;
let R4 being Nat;
let R14 being (Function of R4 , R1);
L146: ( R14 " { R3 } ) c= R4
proof
let C18 being set;
assume L147: C18 in ( R14 " { R3 } );
L148: C18 in ( dom R14 ) by L147 , FUNCT_1:def 7;
thus L149: thesis by L148;
end;
assume L150: R4 > ( 0 );
thus L151: thesis by L150 , L146 , L111;
end;
theorem
L152: (for R1 being Nat holds (for R4 being Nat holds (for R14 being (Function of R4 , R1) holds (R14 is  onto implies R4 >= R1))))
proof
let R1 being Nat;
let R4 being Nat;
let R14 being (Function of R4 , R1);
assume L153: R14 is  onto;
L154:
now
per cases ;
suppose L155: R1 = ( 0 );

thus L156: thesis by L155;
end;
suppose L157: R1 <> ( 0 );

L158: ( rng R14 ) = R1 by L153 , FUNCT_2:def 3;
L159: ( dom R14 ) = R4 by L157 , FUNCT_2:def 1;
L160: ( card R1 ) c= ( card R4 ) by L159 , L158 , CARD_1:12;
L161: ( card R1 ) <= ( card R4 ) by L160 , NAT_1:39;
L162: ( card R4 ) = R4 by CARD_1:def 2;
thus L163: thesis by L162 , L161 , CARD_1:def 2;
end;
end;
thus L165: thesis by L154;
end;
theorem
L166: (for R1 being Nat holds (for R4 being Nat holds (for R14 being (Function of R4 , R1) holds (R14 is  onto  "increasing implies (for R3 being Nat holds (R3 < R1 implies R3 <= ( min* ( R14 " { R3 } ) )))))))
proof
let R1 being Nat;
let R4 being Nat;
let R14 being (Function of R4 , R1);
defpred S1[ Nat ] means ($1 < R1 implies $1 <= ( min* ( R14 " { $1 } ) ));
assume that
L167: R14 is  onto  "increasing;
L168: (for R3 being Nat holds (S1[ R3 ] implies S1[ ( R3 + 1 ) ]))
proof
L169: R1 = ( rng R14 ) by L167 , FUNCT_2:def 3;
let R3 being Nat;
assume that
L170: S1[ R3 ];
assume L171: ( R3 + 1 ) < R1;
L172: R3 < ( R3 + 1 ) by NAT_1:19;
L173: R3 < R1 by L172 , L171 , XXREAL_0:2;
L174: R3 in ( rng R14 ) by L173 , L169 , NAT_1:44;
L175: R3 < ( R3 + 1 ) by NAT_1:19;
L176: ( R3 + 1 ) in ( rng R14 ) by L171 , L169 , NAT_1:44;
L177: ( min* ( R14 " { R3 } ) ) < ( min* ( R14 " { ( R3 + 1 ) } ) ) by L176 , L167 , L174 , L175 , L137;
L178: R3 < ( min* ( R14 " { ( R3 + 1 ) } ) ) by L177 , L170 , L171 , L175 , XXREAL_0:2;
thus L179: thesis by L178 , NAT_1:13;
end;
L180: S1[ ( 0 ) ];
L181: (for R3 being Nat holds S1[ R3 ]) from NAT_1:sch 2(L180 , L168);
thus L182: thesis by L181;
end;
theorem
L183: (for R1 being Nat holds (for R4 being Nat holds (for R14 being (Function of R4 , R1) holds (R14 is  onto  "increasing implies (for R3 being Nat holds (R3 < R1 implies ( min* ( R14 " { R3 } ) ) <= ( ( R4 - R1 ) + R3 )))))))
proof
let R1 being Nat;
let R4 being Nat;
let R14 being (Function of R4 , R1);
assume that
L184: R14 is  onto  "increasing;
L185:
now
per cases ;
suppose L186: R1 = ( 0 );

thus L187: thesis by L186;
end;
suppose L188: R1 > ( 0 );

reconsider D5 = ( R1 - 1 ) as (Element of ( NAT )) by L188 , NAT_1:20;
defpred S2[ Integer ] means (( 0 ) <= $1 implies ( min* ( R14 " { $1 } ) ) <= ( ( R4 - R1 ) + $1 ));
L189: D5 < ( D5 + 1 ) by NAT_1:13;
L190: (for B17 being Integer holds (B17 <= D5 implies (S2[ B17 ] implies S2[ ( B17 - 1 ) ])))
proof
reconsider D6 = ( R4 - R1 ) as (Element of ( NAT )) by L184 , L152 , NAT_1:21;
L191: R1 = ( rng R14 ) by L184 , FUNCT_2:def 3;
let C19 being Integer;
assume L192: C19 <= D5;
L193: C19 < R1 by L192 , L189 , XXREAL_0:2;
assume L194: S2[ C19 ];
assume L195: ( 0 ) <= ( C19 - 1 );
reconsider D7 = ( C19 - 1 ) as (Element of ( NAT )) by L195 , INT_1:3;
L196: D7 < ( D7 + 1 ) by NAT_1:19;
L197: D7 < R1 by L196 , L193 , XXREAL_0:2;
L198: D7 in R1 by L197 , NAT_1:44;
L199: ( D7 + 1 ) in R1 by L193 , NAT_1:44;
L200: ( min* ( R14 " { D7 } ) ) < ( min* ( R14 " { ( D7 + 1 ) } ) ) by L199 , L184 , L196 , L198 , L191 , L137;
L201: ( min* ( R14 " { D7 } ) ) < ( ( D6 + D7 ) + 1 ) by L200 , L194 , XXREAL_0:2;
thus L202: thesis by L201 , NAT_1:13;
end;
L203: S2[ D5 ]
proof
assume L204: ( 0 ) <= D5;
L205: (R1 = ( 0 ) iff R4 = ( 0 )) by L184 , L137;
L206: ( min* ( R14 " { D5 } ) ) <= ( R4 - 1 ) by L205 , L145;
thus L207: thesis by L206;
end;
L208: (for B18 being Integer holds (B18 <= D5 implies S2[ B18 ])) from INT_1:sch 3(L203 , L190);
L209:
now
let R3 being Nat;
assume L210: R3 < R1;
L211: R3 < ( D5 + 1 ) by L210;
L212: R3 <= D5 by L211 , NAT_1:13;
thus L213: ( min* ( R14 " { R3 } ) ) <= ( ( R4 - R1 ) + R3 ) by L212 , L208;
end;
thus L214: thesis by L209;
end;
end;
thus L216: thesis by L185;
end;
theorem
L217: (for R1 being Nat holds (for R4 being Nat holds (for R14 being (Function of R4 , R1) holds ((R14 is  onto  "increasing & R4 = R1) implies R14 = ( id R4 )))))
proof
let R1 being Nat;
let R4 being Nat;
let R14 being (Function of R4 , R1);
assume that
L218: R14 is  onto  "increasing
and
L219: R4 = R1;
L220:
now
per cases ;
suppose L221: R4 = ( 0 );

L222: (for B19 being set holds (B19 in ( 0 ) implies ( R14 . B19 ) = B19));
L223: ( dom R14 ) = ( 0 ) by L221;
thus L224: thesis by L223 , L221 , L222 , FUNCT_1:17;
end;
suppose L225: R4 > ( 0 );

L226:
now
let C20 being set;
assume that
L227: C20 in R4;
L228: R4 is (Subset of ( NAT )) by L61;
reconsider D8 = C20 as (Element of ( NAT )) by L228 , L227;
L229: D8 in ( rng R14 ) by L218 , L219 , L227 , FUNCT_2:def 3;
L230: (ex B20 being set st (B20 in ( dom R14 ) & ( R14 . B20 ) = D8)) by L229 , FUNCT_1:def 3;
L231: D8 in { D8 } by TARSKI:def 1;
reconsider D9 = ( R14 " { D8 } ) as non  empty (Subset of ( NAT )) by L231 , L230 , FUNCT_1:def 7;
L232: D8 < R1 by L219 , L227 , NAT_1:44;
L233: D8 <= ( min* ( R14 " { D8 } ) ) by L232 , L218 , L166;
L234: ( ( R4 - R1 ) + D8 ) = D8 by L219;
L235: ( min* ( R14 " { D8 } ) ) <= D8 by L234 , L218 , L232 , L183;
L236: ( min* D9 ) = D8 by L235 , L233 , XXREAL_0:1;
L237: ( min* D9 ) in D9 by NAT_1:def 1;
L238: ( R14 . D8 ) in { D8 } by L237 , L236 , FUNCT_1:def 7;
thus L239: ( R14 . C20 ) = C20 by L238 , TARSKI:def 1;
end;
L240: ( dom R14 ) = R4 by L219 , L225 , FUNCT_2:def 1;
thus L241: thesis by L240 , L226 , FUNCT_1:17;
end;
end;
thus L243: thesis by L220;
end;
theorem
L244: (for R1 being Nat holds (for R4 being Nat holds (for R14 being (Function of R4 , R1) holds ((R14 = ( id R4 ) & R4 > ( 0 )) implies R14 is  "increasing))))
proof
let R1 being Nat;
let R4 being Nat;
let R14 being (Function of R4 , R1);
assume that
L245: R14 = ( id R4 )
and
L246: R4 > ( 0 );
L247: (ex B21 being set st B21 in R4) by L246 , XBOOLE_0:def 1;
L248:
now
let R2 being Nat;
let R3 being Nat;
assume that
L249: R2 in ( rng R14 )
and
L250: R3 in ( rng R14 )
and
L251: R2 < R3;
L252: (ex B22 being set st ( R14 " { R2 } ) = { B22 }) by L245 , L249 , FUNCT_1:74;
L253: R2 in { R2 } by TARSKI:def 1;
consider C21 being set such that L254: C21 in ( dom R14 ) and L255: ( R14 . C21 ) = R2 by L249 , FUNCT_1:def 3;
L256: R2 = C21 by L245 , L254 , L255 , FUNCT_1:18;
L257: R2 in ( R14 " { R2 } ) by L256 , L254 , L255 , L253 , FUNCT_1:def 7;
L258: (( R14 " { R2 } ) = { R2 } & R2 in ( NAT )) by L257 , L252 , TARSKI:def 1;
L259: ( min* ( R14 " { R2 } ) ) = R2 by L258 , L45;
L260: R3 in { R3 } by TARSKI:def 1;
L261: (ex B23 being set st ( R14 " { R3 } ) = { B23 }) by L245 , L250 , FUNCT_1:74;
consider C22 being set such that L262: C22 in ( dom R14 ) and L263: ( R14 . C22 ) = R3 by L250 , FUNCT_1:def 3;
L264: R3 = C22 by L245 , L262 , L263 , FUNCT_1:18;
L265: R3 in ( R14 " { R3 } ) by L264 , L262 , L263 , L260 , FUNCT_1:def 7;
L266: (( R14 " { R3 } ) = { R3 } & R3 in ( NAT )) by L265 , L261 , TARSKI:def 1;
thus L267: ( min* ( R14 " { R2 } ) ) < ( min* ( R14 " { R3 } ) ) by L266 , L251 , L259 , L45;
end;
L268: ( rng R14 ) = R4 by L245 , RELAT_1:45;
thus L269: thesis by L268 , L247 , L248 , L137;
end;
theorem
L270: (for R1 being Nat holds (for R4 being Nat holds ((R4 = ( 0 ) iff R1 = ( 0 )) implies (ex B24 being (Function of R4 , R1) st B24 is  "increasing))))
proof
let R1 being Nat;
let R4 being Nat;
assume L271: (R4 = ( 0 ) iff R1 = ( 0 ));
L272:
now
per cases ;
suppose L273: R4 = ( 0 );

set D10 = ( {} );
L274: ( dom D10 ) = R4 by L273;
L275: ( rng D10 ) = R1 by L271 , L273;
reconsider D11 = D10 as (Function of R4 , R1) by L275 , L274 , FUNCT_2:1;
L276: D11 is  "increasing by L271 , L139;
thus L277: thesis by L276;
end;
suppose L278: R4 > ( 0 );

consider C23 being Function such that L279: ( dom C23 ) = R4 and L280: ( rng C23 ) = { ( 0 ) } by L278 , FUNCT_1:5;
reconsider D12 = C23 as (Function of R4 , { ( 0 ) }) by L279 , L280 , FUNCT_2:1;
L281: ( rng D12 ) c= R1
proof
let C24 being set;
assume that
L282: C24 in ( rng D12 );
L283: C24 = ( 0 ) by L282 , TARSKI:def 1;
thus L284: thesis by L283 , L271 , L282 , NAT_1:44;
end;
reconsider D13 = D12 as (Function of R4 , R1) by L281 , FUNCT_2:6;
L285: (for R2 being Nat holds (for R3 being Nat holds ((R2 in ( rng D13 ) & R3 in ( rng D13 ) & R2 < R3) implies ( min* ( D13 " { R2 } ) ) < ( min* ( D13 " { R3 } ) )))) by L280 , TARSKI:def 1;
L286: D13 is  "increasing by L285 , L271 , L137;
thus L287: thesis by L286;
end;
end;
thus L289: thesis by L272;
end;
theorem
L290: (for R1 being Nat holds (for R4 being Nat holds (((R4 = ( 0 ) iff R1 = ( 0 )) & R4 >= R1) implies (ex B25 being (Function of R4 , R1) st B25 is  onto  "increasing))))
proof
let R1 being Nat;
let R4 being Nat;
assume that
L291: (R4 = ( 0 ) iff R1 = ( 0 ))
and
L292: R4 >= R1;
L293:
now
per cases ;
suppose L294: R4 = ( 0 );

set D14 = ( {} );
L295: ( dom D14 ) = R4 by L294;
L296: ( rng D14 ) = R1 by L291 , L294;
reconsider D15 = D14 as (Function of R4 , R1) by L296 , L295 , FUNCT_2:1;
L297: D15 is  onto  "increasing by L291 , L139;
thus L298: thesis by L297;
end;
suppose L299: R4 > ( 0 );

reconsider D16 = ( R1 - 1 ) as (Element of ( NAT )) by L299 , L291 , NAT_1:20;
reconsider D17 = R1 , D18 = R4 as non  empty (Element of ( NAT )) by L291 , L299 , ORDINAL1:def 12;
defpred S3[ (Element of D18) , (Element of D17) ] means $2 = ( min ($1 , D16) );
L300: (for B26 being (Element of D18) holds (ex B27 being (Element of D17) st S3[ B26 , B27 ]))
proof
let C25 being (Element of D18);
L301: D16 < ( D16 + 1 ) by NAT_1:13;
L302: ( min (C25 , D16) ) <= D16 by XXREAL_0:17;
L303: ( min (C25 , D16) ) < D17 by L302 , L301 , XXREAL_0:2;
L304: ( min (C25 , D16) ) in D17 by L303 , NAT_1:44;
thus L305: thesis by L304;
end;
consider C26 being (Function of D18 , D17) such that L306: (for B28 being (Element of D18) holds S3[ B28 , ( C26 . B28 ) ]) from FUNCT_2:sch 3(L300);
L307:
now
let C27 being set;
assume that
L308: C27 in D17;
L309: D17 is (Subset of ( NAT )) by L61;
reconsider D19 = C27 as (Element of ( NAT )) by L309 , L308;
L310: D19 < ( D16 + 1 ) by L308 , NAT_1:44;
L311: D19 < D18 by L310 , L292 , XXREAL_0:2;
L312: D19 in D18 by L311 , NAT_1:44;
L313: D19 in ( dom C26 ) by L312 , FUNCT_2:def 1;
L314: D19 <= D16 by L310 , NAT_1:13;
L315: ( min (D19 , D16) ) = D19 by L314 , XXREAL_0:def 9;
L316: ( C26 . D19 ) = D19 by L315 , L306 , L312;
thus L317: C27 in ( rng C26 ) by L316 , L313 , FUNCT_1:def 3;
end;
L318: D17 c= ( rng C26 ) by L307 , TARSKI:def 3;
L319: D17 = ( rng C26 ) by L318 , XBOOLE_0:def 10;
L320: C26 is  onto by L319 , FUNCT_2:def 3;
L321: (for R3 being Nat holds (R3 in ( rng C26 ) implies ( min* ( C26 " { R3 } ) ) = R3))
proof
let R3 being Nat;
assume L322: R3 in ( rng C26 );
L323: R3 < ( D16 + 1 ) by L322 , NAT_1:44;
L324: R3 <= D16 by L323 , NAT_1:13;
L325: R3 < D18 by L292 , L323 , XXREAL_0:2;
L326: R3 in D18 by L325 , NAT_1:44;
L327: R3 in ( dom C26 ) by L326 , FUNCT_2:def 1;
L328: R3 <= D16 by L323 , NAT_1:13;
L329: ( min (R3 , D16) ) = R3 by L328 , XXREAL_0:def 9;
L330: ( C26 . R3 ) = R3 by L329 , L306 , L326;
L331: ( C26 . R3 ) in { R3 } by L330 , TARSKI:def 1;
L332: R3 in ( C26 " { R3 } ) by L331 , L327 , FUNCT_1:def 7;
L333: ( C26 " { R3 } ) is non  empty by L331 , L327 , FUNCT_1:def 7;
L334:
now
per cases  by L324 , XXREAL_0:1;
suppose L335: R3 < D16;

L336:
now
L337: D18 is (Subset of ( NAT )) by L61;
let C28 being set;
assume that
L338: C28 in ( C26 " { R3 } );
L339: C28 in ( dom C26 ) by L338 , FUNCT_1:def 7;
L340: C28 in D18 by L339;
reconsider D20 = C28 as (Element of ( NAT )) by L340 , L337;
L341: ( C26 . D20 ) in { R3 } by L338 , FUNCT_1:def 7;
L342: ( C26 . D20 ) = R3 by L341 , TARSKI:def 1;
L343: D20 in ( dom C26 ) by L338 , FUNCT_1:def 7;
L344: ( min (D20 , D16) ) = R3 by L343 , L306 , L342;
L345: D20 = R3 by L344 , L335 , XXREAL_0:15;
thus L346: C28 in { R3 } by L345 , TARSKI:def 1;
end;
L347: ( C26 " { R3 } ) c= { R3 } by L336 , TARSKI:def 3;
L348: ( min* ( C26 " { R3 } ) ) in ( C26 " { R3 } ) by L333 , NAT_1:def 1;
thus L349: thesis by L348 , L347 , TARSKI:def 1;
end;
suppose L350: R3 = D16;

L351: (for B29 being Nat holds (B29 in ( C26 " { R3 } ) implies R3 <= B29))
proof
let C29 being Nat;
assume that
L352: C29 in ( C26 " { R3 } );
L353: ( C26 . C29 ) in { R3 } by L352 , FUNCT_1:def 7;
L354: ( C26 . C29 ) = R3 by L353 , TARSKI:def 1;
L355: C29 in ( dom C26 ) by L352 , FUNCT_1:def 7;
L356: ( C26 . C29 ) = ( min (C29 , R3) ) by L355 , L306 , L350;
thus L357: thesis by L356 , L354 , XXREAL_0:def 9;
end;
thus L358: thesis by L351 , L332 , NAT_1:def 1;
end;
end;
thus L360: thesis by L334;
end;
L361:
now
let R2 being Nat;
let R3 being Nat;
assume that
L362: R2 in ( rng C26 )
and
L363: R3 in ( rng C26 )
and
L364: R2 < R3;
L365: ( min* ( C26 " { R2 } ) ) = R2 by L321 , L362;
thus L366: ( min* ( C26 " { R2 } ) ) < ( min* ( C26 " { R3 } ) ) by L365 , L321 , L363 , L364;
end;
L367: C26 is  "increasing by L361 , L137;
thus L368: thesis by L367 , L320;
end;
end;
thus L370: thesis by L293;
end;
scheme Sch1 { F1 , F2() -> Nat , P1[set] } : { B30 where B30 is (Function of F1() , F2()) : P1[ B30 ] } is  finite
proof
set D21 = { B31 where B31 is (Function of F1() , F2()) : P1[ B31 ] };
L371:
now
per cases ;
suppose L372: F2() = ( 0 );

L373: D21 c= { ( {} ) }
proof
let C30 being set;
assume L374: C30 in D21;
consider C31 being (Function of F1() , F2()) such that L375: C30 = C31 and L376: P1[ C31 ] by L374;
L377: C31 = ( {} ) by L372;
thus L378: thesis by L377 , L375 , TARSKI:def 1;
end;
thus L379: thesis by L373;
end;
suppose L380: F2() > ( 0 );

L381: D21 c= ( Funcs (F1() , F2()) )
proof
let C32 being set;
assume L382: C32 in D21;
L383: (ex B32 being (Function of F1() , F2()) st (C32 = B32 & P1[ B32 ])) by L382;
thus L384: thesis by L383 , L380 , FUNCT_2:8;
end;
L385: ( Funcs (F1() , F2()) ) is  finite by FRAENKEL:6;
thus L386: thesis by L385 , L381;
end;
end;
thus L388: thesis by L371;
end;
theorem
L389: (for R4 being Nat holds (for R1 being Nat holds { B33 where B33 is (Function of R4 , R1) : B33 is  onto  "increasing } is  finite))
proof
let R4 being Nat;
let R1 being Nat;
defpred S4[ (Function of R4 , R1) ] means $1 is  onto  "increasing;
L390: { B34 where B34 is (Function of R4 , R1) : S4[ B34 ] } is  finite from Sch1;
thus L391: thesis by L390;
end;
theorem
L392: (for R4 being Nat holds (for R1 being Nat holds ( card { B35 where B35 is (Function of R4 , R1) : B35 is  onto  "increasing } ) is (Element of ( NAT ))))
proof
let R4 being Nat;
let R1 being Nat;
set D22 = { B36 where B36 is (Function of R4 , R1) : B36 is  onto  "increasing };
consider C33 being Nat such that L393: D22 , C33 are_equipotent  by L389 , CARD_1:43;
L394: ( card D22 ) = ( card C33 ) by L393 , CARD_1:5;
thus L395: thesis by L394;
end;
definition
let C34 , C35 being Nat;
func C34 block C35 -> (Element of ( NAT )) equals 
( card { B37 where B37 is (Function of C34 , C35) : B37 is  onto  "increasing } );
coherence by L392;
end;
theorem
L397: (for R4 being Nat holds ( R4 block R4 ) = 1)
proof
let R4 being Nat;
set D23 = { B38 where B38 is (Function of R4 , R4) : B38 is  onto  "increasing };
L398: D23 c= { ( id R4 ) }
proof
let C36 being set;
assume L399: C36 in D23;
consider C37 being (Function of R4 , R4) such that L400: C36 = C37 and L401: C37 is  onto  "increasing by L399;
L402: C37 = ( id R4 ) by L401 , L217;
thus L403: thesis by L402 , L400 , TARSKI:def 1;
end;
L404: (R4 = ( 0 ) iff R4 = ( 0 ));
consider C38 being (Function of R4 , R4) such that L405: C38 is  onto  "increasing by L404 , L290;
L406: C38 in D23 by L405;
L407: D23 = { ( id R4 ) } by L406 , L398 , ZFMISC_1:33;
thus L408: thesis by L407 , CARD_1:30;
end;
theorem
L409: (for R1 being Nat holds (R1 <> ( 0 ) implies ( ( 0 ) block R1 ) = ( 0 )))
proof
let R1 being Nat;
set D24 = { B39 where B39 is (Function of ( 0 ) , R1) : B39 is  onto  "increasing };
assume L410: R1 <> ( 0 );
L411: D24 = ( {} )
proof
assume L412: D24 <> ( {} );
consider C39 being set such that L413: C39 in D24 by L412 , XBOOLE_0:def 1;
L414: (ex B40 being (Function of ( 0 ) , R1) st (C39 = B40 & B40 is  onto  "increasing)) by L413;
thus L415: thesis by L414 , L410 , L137;
end;
thus L416: thesis by L411;
end;
theorem
L417: (for R1 being Nat holds (( ( 0 ) block R1 ) = 1 iff R1 = ( 0 ))) by L397 , L409;
theorem
L418: (for R1 being Nat holds (for R4 being Nat holds (R4 < R1 implies ( R4 block R1 ) = ( 0 ))))
proof
let R1 being Nat;
let R4 being Nat;
set D25 = { B41 where B41 is (Function of R4 , R1) : B41 is  onto  "increasing };
assume L419: R4 < R1;
L420: D25 = ( {} )
proof
assume L421: D25 <> ( {} );
consider C40 being set such that L422: C40 in D25 by L421 , XBOOLE_0:def 1;
L423: (ex B42 being (Function of R4 , R1) st (C40 = B42 & B42 is  onto  "increasing)) by L422;
thus L424: contradiction by L423 , L419 , L152;
end;
thus L425: thesis by L420;
end;
theorem
L426: (for R4 being Nat holds (( R4 block ( 0 ) ) = 1 iff R4 = ( 0 )))
proof
let R4 being Nat;
L427: (( R4 block ( 0 ) ) = 1 implies R4 = ( 0 ))
proof
set D26 = { B43 where B43 is (Function of R4 , ( 0 )) : B43 is  onto  "increasing };
L428: ( card { ( {} ) } ) = 1 by CARD_1:30;
assume L429: ( R4 block ( 0 ) ) = 1;
consider C41 being set such that L430: D26 = { C41 } by L429 , L428 , CARD_1:29;
L431: C41 in D26 by L430 , TARSKI:def 1;
L432: (ex B44 being (Function of R4 , ( 0 )) st (C41 = B44 & B44 is  onto  "increasing)) by L431;
thus L433: thesis by L432 , L137;
end;
thus L434: thesis by L427 , L397;
end;
theorem
L435: (for R4 being Nat holds (R4 <> ( 0 ) implies ( R4 block ( 0 ) ) = ( 0 )))
proof
let R4 being Nat;
set D27 = { B45 where B45 is (Function of R4 , ( 0 )) : B45 is  onto  "increasing };
assume L436: R4 <> ( 0 );
L437: D27 = ( {} )
proof
assume L438: D27 <> ( {} );
consider C42 being set such that L439: C42 in D27 by L438 , XBOOLE_0:def 1;
L440: (ex B46 being (Function of R4 , ( 0 )) st (C42 = B46 & B46 is  onto  "increasing)) by L439;
thus L441: contradiction by L440 , L436 , L137;
end;
thus L442: thesis by L437;
end;
theorem
L443: (for R4 being Nat holds (R4 <> ( 0 ) implies ( R4 block 1 ) = 1))
proof
let R4 being Nat;
set D28 = { B47 where B47 is (Function of R4 , 1) : B47 is  onto  "increasing };
assume L444: R4 <> ( 0 );
L445: R4 >= ( 1 + ( 0 ) ) by L444 , NAT_1:13;
consider C43 being (Function of R4 , 1) such that L446: C43 is  onto  "increasing by L445 , L290;
L447: D28 c= { C43 }
proof
let C44 being set;
assume L448: C44 in D28;
consider C45 being (Function of R4 , 1) such that L449: C44 = C45 and L450: C45 is  onto  "increasing by L448;
L451: C43 = C45 by CARD_1:49 , FUNCT_2:51;
thus L452: thesis by L451 , L449 , TARSKI:def 1;
end;
L453: C43 in D28 by L446;
L454: D28 = { C43 } by L453 , L447 , ZFMISC_1:33;
thus L455: thesis by L454 , CARD_1:30;
end;
theorem
L456: (for R1 being Nat holds (for R4 being Nat holds (((1 <= R1 & R1 <= R4) or R1 = R4) iff ( R4 block R1 ) > ( 0 ))))
proof
let R1 being Nat;
let R4 being Nat;
thus L457: (((1 <= R1 & R1 <= R4) or R1 = R4) implies ( R4 block R1 ) > ( 0 ))
proof
set D29 = { B48 where B48 is (Function of R4 , R1) : B48 is  onto  "increasing };
assume that
L458: ((1 <= R1 & R1 <= R4) or R1 = R4);
L459: (R1 = ( 0 ) iff R4 = ( 0 )) by L458;
consider R14 being (Function of R4 , R1) such that L460: R14 is  onto  "increasing by L459 , L458 , L290;
L461: R14 in D29 by L460;
thus L462: thesis by L461;
end;

thus L463: (( R4 block R1 ) > ( 0 ) implies ((1 <= R1 & R1 <= R4) or R1 = R4))
proof
assume L464: ( R4 block R1 ) > ( 0 );
assume L465: (not ((1 <= R1 & R1 <= R4) or R1 = R4));
L466: (( 1 + ( 0 ) ) > R1 or R1 > R4) by L465;
L467: ((R1 = ( 0 ) & R4 <> R1) or R1 > R4) by L466 , L465 , NAT_1:13;
thus L468: contradiction by L467 , L464 , L418 , L435;
end;

end;
scheme Sch2 { F3 , F4 , F5 , F6() -> set , F7() -> (Function of F3() , F4()) , F8(set) -> set } : (ex B49 being (Function of F5() , F6()) st (( B49 | F3() ) = F7() & (for R15 being set holds (R15 in ( F5() \ F3() ) implies ( B49 . R15 ) = F8(R15)))))
provided
L464: (for R15 being set holds (R15 in ( F5() \ F3() ) implies F8(R15) in F6()))
and
L465: (F3() c= F5() & F4() c= F6())
and
L466: (F4() is  empty implies F3() is  empty)
proof
defpred S5[ set , set ] means (($1 in F3() implies $2 = ( F7() . $1 )) & ($1 in ( F5() \ F3() ) implies $2 = F8($1)));
L467: (for R15 being set holds (R15 in F5() implies (ex R16 being set st (R16 in F6() & S5[ R15 , R16 ]))))
proof
let R15 being set;
assume that
L468: R15 in F5();
L469:
now
per cases ;
suppose L470: R15 in F3();

L471: R15 in ( dom F7() ) by L470 , L466 , FUNCT_2:def 1;
L472: ( F7() . R15 ) in ( rng F7() ) by L471 , FUNCT_1:def 3;
L473: ( F7() . R15 ) in F6() by L472 , L465 , TARSKI:def 3;
L474: (not R15 in ( F5() \ F3() )) by L470 , XBOOLE_0:def 5;
thus L475: thesis by L474 , L473;
end;
suppose L476: (not R15 in F3());

L477: R15 in ( F5() \ F3() ) by L476 , L468 , XBOOLE_0:def 5;
L478: F8(R15) in F6() by L477 , L464;
thus L479: thesis by L478 , L476;
end;
end;
thus L481: thesis by L469;
end;
consider C46 being (Function of F5() , F6()) such that L482: (for R15 being set holds (R15 in F5() implies S5[ R15 , ( C46 . R15 ) ])) from FUNCT_2:sch 1(L467);
L483: ( dom F7() ) = ( ( dom C46 ) /\ F3() )
proof
L484:
now
per cases ;
suppose L485: F4() is  empty;

thus L486: thesis by L485 , L466;
end;
suppose L487: F4() is non  empty;

L488: F6() is non  empty by L487 , L465;
L489: ( dom C46 ) = F5() by L488 , FUNCT_2:def 1;
L490: ( dom F7() ) = F3() by L487 , FUNCT_2:def 1;
thus L491: thesis by L490 , L465 , L489 , XBOOLE_1:28;
end;
end;
thus L493: thesis by L484;
end;
take C46;
L494: (for R15 being set holds (R15 in ( dom F7() ) implies ( C46 . R15 ) = ( F7() . R15 )))
proof
let R15 being set;
assume L495: R15 in ( dom F7() );
L496: R15 in F3() by L495;
thus L497: thesis by L496 , L465 , L482;
end;
thus L498: ( C46 | F3() ) = F7() by L494 , L483 , FUNCT_1:46;
thus L499: thesis by L482;
end;
scheme Sch3 { F9 , F10 , F11 , F12() -> set , F13(set) -> set , P2[set , set , set] } : ( card { B50 where B50 is (Function of F9() , F10()) : P2[ B50 , F9() , F10() ] } ) = ( card { B51 where B51 is (Function of F11() , F12()) : (P2[ B51 , F11() , F12() ] & ( rng ( B51 | F9() ) ) c= F10() & (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( B51 . R15 ) = F13(R15)))) } )
provided
L500: (for R15 being set holds (R15 in ( F11() \ F9() ) implies F13(R15) in F12()))
and
L501: (F9() c= F11() & F10() c= F12())
and
L502: (F10() is  empty implies F9() is  empty)
and
L503: (for B52 being (Function of F11() , F12()) holds ((for R15 being set holds (R15 in ( F11() \ F9() ) implies F13(R15) = ( B52 . R15 ))) implies (P2[ B52 , F11() , F12() ] iff P2[ ( B52 | F9() ) , F9() , F10() ])))
proof
defpred S6[ set , set ] means (for B53 being (Function of F9() , F10()) holds (for B54 being (Function of F11() , F12()) holds ((B53 = $1 & B54 = $2) implies ( B54 | F9() ) = B53)));
set D30 = { B55 where B55 is (Function of F11() , F12()) : (P2[ B55 , F11() , F12() ] & ( rng ( B55 | F9() ) ) c= F10() & (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( B55 . R15 ) = F13(R15)))) };
set D31 = { B56 where B56 is (Function of F9() , F10()) : P2[ B56 , F9() , F10() ] };
L504: (for B57 being set holds (B57 in D31 implies (ex B58 being set st (B58 in D30 & S6[ B57 , B58 ]))))
proof
let C47 being set;
assume L505: C47 in D31;
consider C48 being (Function of F9() , F10()) such that L506: C48 = C47 and L507: P2[ C48 , F9() , F10() ] by L505;
consider C49 being (Function of F11() , F12()) such that L508: (( C49 | F9() ) = C48 & (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( C49 . R15 ) = F13(R15)))) from Sch2(L500 , L501 , L502);
L509: S6[ C47 , C49 ] by L506 , L508;
L510: ( rng C48 ) c= F10();
L511: P2[ C49 , F11() , F12() ] by L503 , L507 , L508;
L512: C49 in D30 by L511 , L508 , L510;
thus L513: thesis by L512 , L509;
end;
consider C50 being (Function of D31 , D30) such that L514: (for B59 being set holds (B59 in D31 implies S6[ B59 , ( C50 . B59 ) ])) from FUNCT_2:sch 1(L504);
L515: (F12() is  empty implies F11() is  empty)
proof
assume L516: F12() is  empty;
assume L517: F11() is non  empty;
L518: (ex R15 being set st R15 in F11()) by L517 , XBOOLE_0:def 1;
thus L519: contradiction by L518 , L500 , L501 , L502 , L516;
end;
L520:
now
per cases ;
suppose L521: F12() is  empty;

set D32 = ( {} );
L522: D30 c= { ( {} ) }
proof
let R15 being set;
assume L523: R15 in D30;
L524: (ex B60 being (Function of F11() , F12()) st (B60 = R15 & P2[ B60 , F11() , F12() ] & ( rng ( B60 | F9() ) ) c= F10() & (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( B60 . R15 ) = F13(R15))))) by L523;
L525: R15 = ( {} ) by L524 , L521;
thus L526: thesis by L525 , TARSKI:def 1;
end;
L527: D31 c= { ( {} ) }
proof
let R15 being set;
assume L528: R15 in D31;
L529: (ex B61 being (Function of F9() , F10()) st (B61 = R15 & P2[ B61 , F9() , F10() ])) by L528;
L530: R15 = ( {} ) by L529 , L501 , L521;
thus L531: thesis by L530 , TARSKI:def 1;
end;
L532:
now
per cases ;
suppose L533: P2[ ( {} ) , ( {} ) , ( {} ) ];

L534: ( rng ( {} ) ) = ( {} );
L535: F10() is  empty by L501 , L521;
L536: ( dom ( {} ) ) = ( {} );
L537: ( {} ) is (Function of F9() , F10()) by L536 , L502 , L535 , L534 , FUNCT_2:1;
L538: ( {} ) in D31 by L537 , L502 , L533 , L535;
L539: D31 = { ( {} ) } by L538 , L527 , ZFMISC_1:33;
L540: ( rng ( {} ) ) = ( {} );
L541: ( dom ( {} ) ) = ( {} );
reconsider D33 = D32 as (Function of F11() , F12()) by L541 , L515 , L521 , L540 , FUNCT_2:1;
L542: (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( D33 . R15 ) = F13(R15))) by L515;
L543: ( rng ( D33 | F9() ) ) c= F10() by L501 , L521;
L544: ( {} ) in D30 by L543 , L515 , L521 , L533 , L542;
thus L545: thesis by L544 , L522 , L539 , ZFMISC_1:33;
end;
suppose L546: (not P2[ ( {} ) , ( {} ) , ( {} ) ]);

L547: (not ( {} ) in D31)
proof
assume L548: ( {} ) in D31;
L549: (ex B62 being (Function of F9() , F10()) st (B62 = ( {} ) & P2[ B62 , F9() , F10() ])) by L548;
thus L550: contradiction by L549 , L501 , L502 , L521 , L546;
end;
L551: (D30 = ( {} ) or D30 = { ( {} ) }) by L522 , ZFMISC_1:33;
L552: (not ( {} ) in D30)
proof
assume L553: ( {} ) in D30;
L554: (ex B63 being (Function of F11() , F12()) st (B63 = ( {} ) & P2[ B63 , F11() , F12() ] & ( rng ( B63 | F9() ) ) c= F10() & (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( B63 . R15 ) = F13(R15))))) by L553;
thus L555: contradiction by L554 , L515 , L521 , L546;
end;
L556: (D31 = ( {} ) or D31 = { ( {} ) }) by L527 , ZFMISC_1:33;
thus L557: thesis by L556 , L547 , L552 , L551 , TARSKI:def 1;
end;
end;
thus L559: thesis by L532;
end;
suppose L560: F12() is non  empty;

L561:
now
per cases ;
suppose L562: D30 is  empty;

L563: D31 is  empty
proof
assume L564: D31 is non  empty;
consider R15 being set such that L565: R15 in D31 by L564 , XBOOLE_0:def 1;
consider C51 being (Function of F9() , F10()) such that L566: C51 = R15 and L567: P2[ C51 , F9() , F10() ] by L565;
L568: ( rng C51 ) c= F10();
consider C52 being (Function of F11() , F12()) such that L569: (( C52 | F9() ) = C51 & (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( C52 . R15 ) = F13(R15)))) from Sch2(L500 , L501 , L502);
L570: P2[ C52 , F11() , F12() ] by L503 , L567 , L569;
L571: C52 in D30 by L570 , L569 , L568;
thus L572: thesis by L571 , L562;
end;
thus L573: thesis by L563 , L562;
end;
suppose L574: D30 is non  empty;

L575: D30 c= ( rng C50 )
proof
let R16 being set;
assume L576: R16 in D30;
consider C53 being (Function of F11() , F12()) such that L577: C53 = R16 and L578: P2[ C53 , F11() , F12() ] and L579: ( rng ( C53 | F9() ) ) c= F10() and L580: (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( C53 . R15 ) = F13(R15))) by L576;
L581: ( dom ( C53 | F9() ) ) = ( ( dom C53 ) /\ F9() ) by RELAT_1:61;
L582: ( dom C53 ) = F11() by L560 , FUNCT_2:def 1;
L583: ( dom ( C53 | F9() ) ) = F9() by L582 , L501 , L581 , XBOOLE_1:28;
reconsider D34 = ( C53 | F9() ) as (Function of F9() , ( rng ( C53 | F9() ) )) by L583 , FUNCT_2:1;
L584: (( rng ( C53 | F9() ) ) is  empty implies F9() is  empty) by L583 , RELAT_1:42;
reconsider D35 = D34 as (Function of F9() , F10()) by L584 , L579 , FUNCT_2:6;
L585: P2[ ( C53 | F9() ) , F9() , F10() ] by L503 , L578 , L580;
L586: D35 in D31 by L585;
L587: ( dom C50 ) = D31 by L574 , FUNCT_2:def 1;
L588: ( C50 . D35 ) in ( rng C50 ) by L587 , L586 , FUNCT_1:def 3;
L589: ( C50 . D35 ) in D30 by L588;
consider C54 being (Function of F11() , F12()) such that L590: C54 = ( C50 . D35 ) and L591: P2[ C54 , F11() , F12() ] and L592: ( rng ( C54 | F9() ) ) c= F10() and L593: (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( C54 . R15 ) = F13(R15))) by L589;
L594:
now
let R15 being set;
assume that
L595: R15 in F11();
L596:
now
per cases ;
suppose L597: R15 in F9();

L598: R15 in ( dom D35 ) by L597 , L502 , FUNCT_2:def 1;
L599: ( C54 | F9() ) = D35 by L514 , L586 , L590;
L600: ( D35 . R15 ) = ( C54 . R15 ) by L599 , L598 , FUNCT_1:47;
thus L601: ( C54 . R15 ) = ( C53 . R15 ) by L600 , L598 , FUNCT_1:47;
end;
suppose L602: (not R15 in F9());

L603: R15 in ( F11() \ F9() ) by L602 , L595 , XBOOLE_0:def 5;
L604: ( C54 . R15 ) = F13(R15) by L603 , L593;
thus L605: ( C54 . R15 ) = ( C53 . R15 ) by L604 , L580 , L603;
end;
end;
thus L607: ( C54 . R15 ) = ( C53 . R15 ) by L596;
end;
L608: C54 = C53 by L594 , FUNCT_2:12;
thus L609: thesis by L608 , L577 , L586 , L587 , L590 , FUNCT_1:def 3;
end;
L610: ( rng C50 ) = D30 by L575 , XBOOLE_0:def 10;
L611: (for B64 , B65 being set holds ((B64 in D31 & B65 in D31 & ( C50 . B64 ) = ( C50 . B65 )) implies B64 = B65))
proof
let C55 , C56 being set;
assume that
L612: C55 in D31
and
L613: C56 in D31
and
L614: ( C50 . C55 ) = ( C50 . C56 );
L615: (ex B66 being (Function of F9() , F10()) st (C56 = B66 & P2[ B66 , F9() , F10() ])) by L613;
L616: ( dom C50 ) = D31 by L574 , FUNCT_2:def 1;
L617: ( C50 . C55 ) in ( rng C50 ) by L616 , L612 , FUNCT_1:def 3;
L618: ( C50 . C55 ) in D30 by L617;
consider C57 being (Function of F11() , F12()) such that L619: ( C50 . C55 ) = C57 and L620: P2[ C57 , F11() , F12() ] and L621: ( rng ( C57 | F9() ) ) c= F10() and L622: (for R15 being set holds (R15 in ( F11() \ F9() ) implies ( C57 . R15 ) = F13(R15))) by L618;
consider C58 being (Function of F9() , F10()) such that L623: C55 = C58 and L624: P2[ C58 , F9() , F10() ] by L612;
L625: ( C57 | F9() ) = C58 by L514 , L612 , L623 , L619;
thus L626: thesis by L625 , L514 , L613 , L614 , L623 , L615 , L619;
end;
L627: C50 is  one-to-one by L611 , L574 , FUNCT_2:19;
L628: ( dom C50 ) = D31 by L574 , FUNCT_2:def 1;
L629: D31 , D30 are_equipotent  by L628 , L610 , L627 , WELLORD2:def 4;
thus L630: thesis by L629 , CARD_1:5;
end;
end;
thus L632: thesis by L561;
end;
end;
thus L634: thesis by L520;
end;
scheme Sch4 { F14 , F15 , F16 , F17() -> set , P3[set , set , set] } : ( card { B67 where B67 is (Function of F14() , F15()) : P3[ B67 , F14() , F15() ] } ) = ( card { B68 where B68 is (Function of ( F14() \/ { F16() } ) , ( F15() \/ { F17() } )) : (P3[ B68 , ( F14() \/ { F16() } ) , ( F15() \/ { F17() } ) ] & ( rng ( B68 | F14() ) ) c= F15() & ( B68 . F16() ) = F17()) } )
provided
L635: (F15() is  empty implies F14() is  empty)
and
L636: (not F16() in F14())
and
L637: (for B69 being (Function of ( F14() \/ { F16() } ) , ( F15() \/ { F17() } )) holds (( B69 . F16() ) = F17() implies (P3[ B69 , ( F14() \/ { F16() } ) , ( F15() \/ { F17() } ) ] iff P3[ ( B69 | F14() ) , F14() , F15() ])))
proof
set D36 = ( F15() \/ { F17() } );
set D37 = ( F14() \/ { F16() } );
deffunc H1(set) = F17();
L638: (for B70 being (Function of D37 , D36) holds ((for R15 being set holds (R15 in ( D37 \ F14() ) implies H1(R15) = ( B70 . R15 ))) iff ( B70 . F16() ) = F17()))
proof
let C59 being (Function of D37 , D36);
L639: ( D37 \ F14() ) = ( { F16() } \ F14() ) by XBOOLE_1:40
.= { F16() } by L636 , ZFMISC_1:59;
thus L640: ((for R15 being set holds (R15 in ( D37 \ F14() ) implies H1(R15) = ( C59 . R15 ))) implies ( C59 . F16() ) = F17())
proof
L641: F16() in { F16() } by TARSKI:def 1;
assume L642: (for R15 being set holds (R15 in ( D37 \ F14() ) implies H1(R15) = ( C59 . R15 )));
thus L643: thesis by L642 , L639 , L641;
end;

thus L644: thesis by L639 , TARSKI:def 1;
end;
L645: (for B71 being (Function of D37 , D36) holds ((for R15 being set holds (R15 in ( D37 \ F14() ) implies H1(R15) = ( B71 . R15 ))) implies (P3[ B71 , D37 , D36 ] iff P3[ ( B71 | F14() ) , F14() , F15() ])))
proof
let C60 being (Function of D37 , D36);
assume L646: (for R15 being set holds (R15 in ( D37 \ F14() ) implies H1(R15) = ( C60 . R15 )));
L647: F17() = ( C60 . F16() ) by L646 , L638;
thus L648: thesis by L647 , L637;
end;
set D38 = { B72 where B72 is (Function of D37 , D36) : (P3[ B72 , D37 , D36 ] & ( rng ( B72 | F14() ) ) c= F15() & ( B72 . F16() ) = F17()) };
set D39 = { B73 where B73 is (Function of D37 , D36) : (P3[ B73 , D37 , D36 ] & ( rng ( B73 | F14() ) ) c= F15() & (for R15 being set holds (R15 in ( D37 \ F14() ) implies ( B73 . R15 ) = H1(R15)))) };
L649: (for R15 being set holds (R15 in ( D37 \ F14() ) implies H1(R15) in D36))
proof
let R15 being set;
assume that
L650: R15 in ( D37 \ F14() );
L651: { F17() } c= D36 by XBOOLE_1:7;
L652: F17() in { F17() } by TARSKI:def 1;
thus L653: thesis by L652 , L651;
end;
L654: D39 c= D38
proof
let R15 being set;
assume L655: R15 in D39;
consider C61 being (Function of D37 , D36) such that L656: R15 = C61 and L657: P3[ C61 , D37 , D36 ] and L658: ( rng ( C61 | F14() ) ) c= F15() and L659: (for R15 being set holds (R15 in ( D37 \ F14() ) implies ( C61 . R15 ) = H1(R15))) by L655;
L660: ( C61 . F16() ) = F17() by L638 , L659;
thus L661: thesis by L660 , L656 , L657 , L658;
end;
L662: D38 c= D39
proof
let R15 being set;
assume L663: R15 in D38;
consider C62 being (Function of D37 , D36) such that L664: R15 = C62 and L665: P3[ C62 , D37 , D36 ] and L666: ( rng ( C62 | F14() ) ) c= F15() and L667: ( C62 . F16() ) = F17() by L663;
L668: (for R15 being set holds (R15 in ( D37 \ F14() ) implies H1(R15) = ( C62 . R15 ))) by L638 , L667;
thus L669: thesis by L668 , L664 , L665 , L666;
end;
L670: (F14() c= D37 & F15() c= D36) by XBOOLE_1:7;
L671: ( card { B74 where B74 is (Function of F14() , F15()) : P3[ B74 , F14() , F15() ] } ) = ( card D39 ) from Sch3(L649 , L670 , L635 , L645);
thus L672: thesis by L671 , L654 , L662 , XBOOLE_0:def 10;
end;
theorem
L673: (for R1 being Nat holds (for R4 being Nat holds (for B75 being (Function of ( R4 + 1 ) , ( R1 + 1 )) holds ((B75 is  onto  "increasing & ( B75 " { ( B75 . R4 ) } ) = { R4 }) implies ( B75 . R4 ) = R1))))
proof
let R1 being Nat;
let R4 being Nat;
let C63 being (Function of ( R4 + 1 ) , ( R1 + 1 ));
assume that
L674: C63 is  onto  "increasing
and
L675: ( C63 " { ( C63 . R4 ) } ) = { R4 };
assume L676: ( C63 . R4 ) <> R1;
L677:
now
per cases  by L676 , XXREAL_0:1;
suppose L678: ( C63 . R4 ) > R1;

L679: ( C63 . R4 ) < ( R1 + 1 ) by NAT_1:44;
thus L680: contradiction by L679 , L678 , NAT_1:13;
end;
suppose L681: ( C63 . R4 ) < R1;

L682: ( min* ( C63 " { R1 } ) ) <= ( ( R4 + 1 ) - 1 ) by L145;
L683: ( rng C63 ) = ( R1 + 1 ) by L674 , FUNCT_2:def 3;
L684: R1 < ( R1 + 1 ) by NAT_1:13;
L685: R1 in ( rng C63 ) by L684 , L683 , NAT_1:44;
L686: (( min* ( C63 " { ( C63 . R4 ) } ) ) < ( min* ( C63 " { R1 } ) ) & R1 in ( NAT ) & R4 in ( NAT )) by L685 , L674 , L681 , L683 , L137 , ORDINAL1:def 12;
thus L687: contradiction by L686 , L675 , L682 , L45;
end;
end;
thus L689: contradiction by L677;
end;
theorem
L690: (for R1 being Nat holds (for R4 being Nat holds (for B76 being (Function of ( R4 + 1 ) , R1) holds ((R1 <> ( 0 ) & ( B76 " { ( B76 . R4 ) } ) <> { R4 }) implies (ex R3 being Nat st (R3 in ( B76 " { ( B76 . R4 ) } ) & R3 <> R4))))))
proof
let R1 being Nat;
let R4 being Nat;
let C64 being (Function of ( R4 + 1 ) , R1);
assume that
L691: R1 <> ( 0 )
and
L692: ( C64 " { ( C64 . R4 ) } ) <> { R4 };
L693: R4 < ( R4 + 1 ) by NAT_1:13;
L694: ( C64 . R4 ) in { ( C64 . R4 ) } by TARSKI:def 1;
L695: ( dom C64 ) = ( R4 + 1 ) by L691 , FUNCT_2:def 1;
L696: R4 in ( dom C64 ) by L695 , L693 , NAT_1:44;
L697: R4 in ( C64 " { ( C64 . R4 ) } ) by L696 , L694 , FUNCT_1:def 7;
L698: (ex B77 being set st (B77 in ( C64 " { ( C64 . R4 ) } ) & B77 <> R4)) by L697 , L692 , ZFMISC_1:35;
thus L699: thesis by L698;
end;
theorem
L700: (for R1 being Nat holds (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for B78 being (Function of R4 , R1) holds (for B79 being (Function of ( R4 + R3 ) , ( R1 + R2 )) holds ((B79 is  "increasing & B78 = ( B79 | R4 )) implies (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng B78 ) & R6 in ( rng B78 ) & R5 < R6) implies ( min* ( B78 " { R5 } ) ) < ( min* ( B78 " { R6 } ) )))))))))))
proof
let R1 being Nat;
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let C65 being (Function of R4 , R1);
let C66 being (Function of ( R4 + R3 ) , ( R1 + R2 ));
assume that
L701: C66 is  "increasing
and
L702: C65 = ( C66 | R4 );
let R5 being Nat;
let R6 being Nat;
assume that
L703: R5 in ( rng C65 )
and
L704: R6 in ( rng C65 )
and
L705: R5 < R6;
L706: (for B80 being (Element of ( NAT )) holds (B80 in ( rng C65 ) implies (B80 in ( rng C66 ) & ( min* ( C65 " { B80 } ) ) = ( min* ( C66 " { B80 } ) ))))
proof
L707: R4 is (Subset of ( NAT )) by L61;
let C67 being (Element of ( NAT ));
assume that
L708: C67 in ( rng C65 );
consider C68 being set such that L709: C68 in ( dom C65 ) and L710: ( C65 . C68 ) = C67 by L708 , FUNCT_1:def 3;
L711: ( dom C65 ) = R4 by L708 , FUNCT_2:def 1;
L712: C68 in R4 by L709;
reconsider D40 = C68 as (Element of ( NAT )) by L712 , L707;
L713: D40 < R4 by L709 , NAT_1:44;
L714: ( C65 . D40 ) = ( C66 . D40 ) by L702 , L709 , FUNCT_1:47;
L715: ( dom C66 ) = ( R4 + R3 ) by L708 , FUNCT_2:def 1;
L716: R4 <= ( R4 + R3 ) by NAT_1:11;
L717: R4 c= ( R4 + R3 ) by L716 , NAT_1:39;
L718:
now
let C69 being Nat;
assume that
L719: C69 in ( C65 " { C67 } );
L720: C69 in R4 by L711 , L719 , FUNCT_1:def 7;
L721: ( C65 . C69 ) in { C67 } by L719 , FUNCT_1:def 7;
L722: ( C66 . C69 ) in { C67 } by L721 , L702 , L711 , L720 , FUNCT_1:47;
L723: C69 in ( C66 " { C67 } ) by L722 , L715 , L717 , L720 , FUNCT_1:def 7;
thus L724: ( min* ( C66 " { C67 } ) ) <= C69 by L723 , NAT_1:def 1;
end;
L725: C67 in { C67 } by TARSKI:def 1;
L726: D40 in ( C66 " { C67 } ) by L725 , L709 , L710 , L711 , L715 , L717 , L714 , FUNCT_1:def 7;
L727: ( min* ( C66 " { C67 } ) ) <= D40 by L726 , NAT_1:def 1;
L728: ( min* ( C66 " { C67 } ) ) < R4 by L727 , L713 , XXREAL_0:2;
L729: ( min* ( C66 " { C67 } ) ) in ( dom C65 ) by L728 , L711 , NAT_1:44;
L730: ( min* ( C66 " { C67 } ) ) in ( C66 " { C67 } ) by L726 , NAT_1:def 1;
L731: ( C66 . ( min* ( C66 " { C67 } ) ) ) in { C67 } by L730 , FUNCT_1:def 7;
L732: ( C65 . ( min* ( C66 " { C67 } ) ) ) in { C67 } by L731 , L702 , L729 , FUNCT_1:47;
L733: ( min* ( C66 " { C67 } ) ) in ( C65 " { C67 } ) by L732 , L729 , FUNCT_1:def 7;
thus L734: thesis by L733 , L709 , L710 , L711 , L715 , L717 , L714 , L718 , FUNCT_1:def 3 , NAT_1:def 1;
end;
L735: (R5 in ( NAT ) & R6 in ( NAT )) by ORDINAL1:def 12;
L736: R6 in ( rng C66 ) by L735 , L704 , L706;
L737: ( min* ( C65 " { R6 } ) ) = ( min* ( C66 " { R6 } ) ) by L704 , L706 , L735;
L738: ( min* ( C65 " { R5 } ) ) = ( min* ( C66 " { R5 } ) ) by L703 , L706 , L735;
L739: R5 in ( rng C66 ) by L703 , L706 , L735;
thus L740: thesis by L739 , L701 , L705 , L736 , L738 , L737 , L137;
end;
theorem
L741: (for R1 being Nat holds (for R4 being Nat holds (for B81 being (Function of ( R4 + 1 ) , ( R1 + 1 )) holds ((B81 is  onto  "increasing & ( B81 " { ( B81 . R4 ) } ) = { R4 }) implies (( rng ( B81 | R4 ) ) c= R1 & (for B82 being (Function of R4 , R1) holds (B82 = ( B81 | R4 ) implies B82 is  onto  "increasing)))))))
proof
let R1 being Nat;
let R4 being Nat;
let C70 being (Function of ( R4 + 1 ) , ( R1 + 1 ));
assume that
L742: C70 is  onto  "increasing
and
L743: ( C70 " { ( C70 . R4 ) } ) = { R4 };
L744:
now
per cases ;
suppose L745: R4 = ( 0 );

L746: ( ( 0 ) + 1 ) >= ( R1 + 1 ) by L745 , L742 , L152;
L747: R1 = ( 0 ) by L746 , XREAL_1:6;
thus L748: thesis by L747 , L745 , L139;
end;
suppose L749: R4 > ( 0 );

thus L750: ( rng ( C70 | R4 ) ) c= R1
proof
let C71 being set;
assume that
L751: C71 in ( rng ( C70 | R4 ) );
L752: ( rng ( C70 | R4 ) ) c= ( rng C70 ) by RELAT_1:70;
L753: C71 in ( rng C70 ) by L752 , L751;
L754: C71 in ( R1 + 1 ) by L753;
L755: ( R1 + 1 ) is (Subset of ( NAT )) by L61;
reconsider D41 = C71 as (Element of ( NAT )) by L755 , L754;
consider C72 being set such that L756: C72 in ( dom ( C70 | R4 ) ) and L757: ( ( C70 | R4 ) . C72 ) = D41 by L751 , FUNCT_1:def 3;
L758: C72 in ( ( dom C70 ) /\ R4 ) by L756 , RELAT_1:61;
L759: C72 in R4 by L758 , XBOOLE_0:def 4;
L760: R4 is (Subset of ( NAT )) by L61;
reconsider D42 = C72 as (Element of ( NAT )) by L760 , L759;
L761: ( C70 . D42 ) < R1
proof
L762: ( C70 . D42 ) < ( R1 + 1 ) by NAT_1:44;
L763: ( C70 . D42 ) <= R1 by L762 , NAT_1:13;
assume L764: ( C70 . D42 ) >= R1;
L765: ( C70 . D42 ) = R1 by L764 , L763 , XXREAL_0:1;
L766: ( C70 . D42 ) in { ( C70 . D42 ) } by TARSKI:def 1;
L767: ( C70 . R4 ) = R1 by L742 , L743 , L673;
L768: D42 in ( ( dom C70 ) /\ R4 ) by L756 , RELAT_1:61;
L769: D42 in ( dom C70 ) by L768 , XBOOLE_0:def 4;
L770: D42 in ( C70 " { ( C70 . R4 ) } ) by L769 , L765 , L766 , L767 , FUNCT_1:def 7;
L771: (D42 >= ( min* ( C70 " { ( C70 . R4 ) } ) ) & D42 in ( NAT ) & R4 in ( NAT )) by L770 , NAT_1:def 1 , ORDINAL1:def 12;
L772: D42 >= R4 by L771 , L743 , L45;
L773: D42 in R4 by L768 , XBOOLE_0:def 4;
thus L774: contradiction by L773 , L772 , NAT_1:44;
end;
L775: ( C70 . D42 ) = ( ( C70 | R4 ) . D42 ) by L756 , FUNCT_1:47;
thus L776: thesis by L775 , L757 , L761 , NAT_1:44;
end;

thus L777: (for B83 being (Function of R4 , R1) holds (B83 = ( C70 | R4 ) implies B83 is  onto  "increasing))
proof
let C73 being (Function of R4 , R1);
assume that
L778: C73 = ( C70 | R4 );
L779: R1 c= ( rng C73 )
proof
L780: R4 < ( R4 + 1 ) by NAT_1:13;
L781: R4 c= ( R4 + 1 ) by L780 , NAT_1:39;
L782: ( dom C70 ) = ( R4 + 1 ) by FUNCT_2:def 1;
L783: R4 = ( ( dom C70 ) /\ R4 ) by L782 , L781 , XBOOLE_1:28;
let C74 being set;
assume that
L784: C74 in R1;
L785: R1 is (Subset of ( NAT )) by L61;
reconsider D43 = C74 as (Element of ( NAT )) by L785 , L784;
L786: D43 < R1 by L784 , NAT_1:44;
L787: D43 < ( R1 + 1 ) by L786 , NAT_1:13;
L788: D43 in ( R1 + 1 ) by L787 , NAT_1:44;
L789: ( dom C70 ) = ( R4 + 1 ) by FUNCT_2:def 1;
L790: ( rng C70 ) = ( R1 + 1 ) by L742 , FUNCT_2:def 3;
consider C75 being set such that L791: C75 in ( dom C70 ) and L792: ( C70 . C75 ) = D43 by L790 , L788 , FUNCT_1:def 3;
L793: ( R4 + 1 ) is (Subset of ( NAT )) by L61;
reconsider D44 = C75 as (Element of ( NAT )) by L793 , L791 , L789;
L794: D44 < ( R4 + 1 ) by L791 , NAT_1:44;
L795: D44 <= R4 by L794 , NAT_1:13;
L796: ( C70 . R4 ) = R1 by L742 , L743 , L673;
L797: D44 <> R4 by L796 , L784 , L792;
L798: D44 < R4 by L797 , L795 , XXREAL_0:1;
L799: ( ( dom C70 ) /\ R4 ) = ( dom ( C70 | R4 ) ) by RELAT_1:61;
L800: D44 in ( dom C73 ) by L799 , L778 , L798 , L783 , NAT_1:44;
L801: ( C73 . D44 ) in ( rng C73 ) by L800 , FUNCT_1:def 3;
thus L802: thesis by L801 , L778 , L792 , L800 , FUNCT_1:47;
end;
L803: R1 = ( rng C73 ) by L779 , XBOOLE_0:def 10;
thus L804: C73 is  onto by L803 , FUNCT_2:def 3;
L805: ( ( dom C70 ) /\ R4 ) = ( dom ( C70 | R4 ) ) by RELAT_1:61;
L806: R4 < ( R4 + 1 ) by NAT_1:13;
L807: R4 c= ( R4 + 1 ) by L806 , NAT_1:39;
L808: ( dom C70 ) = ( R4 + 1 ) by FUNCT_2:def 1;
L809: R4 = ( ( dom C70 ) /\ R4 ) by L808 , L807 , XBOOLE_1:28;
L810: ( 0 ) in R4 by L749 , NAT_1:44;
L811: ( ( C70 | R4 ) . ( 0 ) ) in ( rng ( C70 | R4 ) ) by L810 , L809 , L805 , FUNCT_1:def 3;
L812: (R4 = ( 0 ) iff R1 = ( 0 )) by L811 , L750;
L813: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng C73 ) & R6 in ( rng C73 ) & R5 < R6) implies ( min* ( C73 " { R5 } ) ) < ( min* ( C73 " { R6 } ) )))) by L742 , L778 , L700;
thus L814: C73 is  "increasing by L813 , L812 , L137;
end;

end;
end;
thus L779: thesis by L744;
end;
theorem
L780: (for R1 being Nat holds (for R4 being Nat holds (for B84 being (Function of ( R4 + 1 ) , R1) holds (for B85 being (Function of R4 , R1) holds ((B84 is  onto  "increasing & ( B84 " { ( B84 . R4 ) } ) <> { R4 } & ( B84 | R4 ) = B85) implies B85 is  onto  "increasing)))))
proof
let R1 being Nat;
let R4 being Nat;
let C76 being (Function of ( R4 + 1 ) , R1);
let C77 being (Function of R4 , R1);
assume that
L781: C76 is  onto  "increasing
and
L782: ( C76 " { ( C76 . R4 ) } ) <> { R4 }
and
L783: ( C76 | R4 ) = C77;
L784:
now
per cases ;
suppose L785: R1 = ( 0 );

thus L786: thesis by L785 , L781 , L137;
end;
suppose L787: R1 > ( 0 );

L788: ( rng C76 ) = R1 by L781 , FUNCT_2:def 3;
L789:
now
L790: R1 = ( R1 + ( 0 ) );
L791: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng C77 ) & R6 in ( rng C77 ) & R5 < R6) implies ( min* ( C77 " { R5 } ) ) < ( min* ( C77 " { R6 } ) )))) by L790 , L781 , L783 , L700;
L792: R1 c= ( rng C77 )
proof
L793: ( R4 + 1 ) is (Subset of ( NAT )) by L61;
let C78 being set;
assume that
L794: C78 in R1;
consider C79 being set such that L795: C79 in ( dom C76 ) and L796: ( C76 . C79 ) = C78 by L788 , L794 , FUNCT_1:def 3;
L797: ( dom C76 ) = ( R4 + 1 ) by L794 , FUNCT_2:def 1;
reconsider D45 = C79 as (Element of ( NAT )) by L797 , L795 , L793;
L798: D45 < ( R4 + 1 ) by L795 , NAT_1:44;
L799: D45 <= R4 by L798 , NAT_1:13;
L800:
now
per cases  by L799 , XXREAL_0:1;
suppose L801: D45 < R4;

L802: ( dom C77 ) = R4 by L787 , FUNCT_2:def 1;
L803: D45 in R4 by L801 , NAT_1:44;
L804: ( C77 . D45 ) = ( C76 . D45 ) by L803 , L783 , L802 , FUNCT_1:47;
thus L805: thesis by L804 , L796 , L803 , L802 , FUNCT_1:def 3;
end;
suppose L806: D45 = R4;

consider R3 being Nat such that L807: R3 in ( C76 " { C78 } ) and L808: R3 <> R4 by L806 , L782 , L787 , L796 , L690;
L809: ( C76 . R3 ) in { C78 } by L807 , FUNCT_1:def 7;
L810: ( C76 . R3 ) = C78 by L809 , TARSKI:def 1;
L811: R3 in ( dom C76 ) by L807 , FUNCT_1:def 7;
L812: R3 < ( R4 + 1 ) by L811 , NAT_1:44;
L813: R3 <= R4 by L812 , NAT_1:13;
L814: R3 < R4 by L813 , L808 , XXREAL_0:1;
L815: R3 in R4 by L814 , NAT_1:44;
L816: R4 = ( dom C77 ) by L787 , FUNCT_2:def 1;
L817: ( C77 . R3 ) = ( C76 . R3 ) by L816 , L783 , L815 , FUNCT_1:47;
thus L818: thesis by L817 , L815 , L816 , L810 , FUNCT_1:def 3;
end;
end;
thus L820: thesis by L800;
end;
L821: ( rng C77 ) = R1 by L792 , XBOOLE_0:def 10;
L822: (R4 = ( 0 ) iff R1 = ( 0 )) by L787 , L792;
thus L823: thesis by L822 , L821 , L791 , L137 , FUNCT_2:def 3;
end;
thus L824: thesis by L789;
end;
end;
thus L826: thesis by L784;
end;
theorem
L827: (for R1 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for B86 being (Function of R4 , R1) holds (for B87 being (Function of ( R4 + 1 ) , ( R1 + R3 )) holds ((B86 is  onto  "increasing & B86 = ( B87 | R4 )) implies (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng B87 ) & R6 in ( rng B87 ) & R5 < R6) implies ( min* ( B87 " { R5 } ) ) < ( min* ( B87 " { R6 } ) ))))))))))
proof
let R1 being Nat;
let R3 being Nat;
let R4 being Nat;
let C80 being (Function of R4 , R1);
let C81 being (Function of ( R4 + 1 ) , ( R1 + R3 ));
assume that
L828: C80 is  onto  "increasing
and
L829: C80 = ( C81 | R4 );
L830: (for R5 being Nat holds (R5 < R4 implies ( C80 . R5 ) = ( C81 . R5 )))
proof
L831: (R1 = ( 0 ) iff R4 = ( 0 )) by L828 , L137;
L832: ( dom C80 ) = R4 by L831 , FUNCT_2:def 1;
let R5 being Nat;
assume L833: R5 < R4;
L834: R5 in R4 by L833 , NAT_1:44;
thus L835: thesis by L834 , L829 , L832 , FUNCT_1:47;
end;
L836: (for R2 being Nat holds ((R2 in ( rng C81 ) & (not R2 in ( rng C80 ))) implies R2 = ( C81 . R4 )))
proof
L837: ( R4 + 1 ) is (Subset of ( NAT )) by L61;
let R2 being Nat;
assume that
L838: R2 in ( rng C81 )
and
L839: (not R2 in ( rng C80 ));
consider C82 being set such that L840: C82 in ( dom C81 ) and L841: ( C81 . C82 ) = R2 by L838 , FUNCT_1:def 3;
assume L842: R2 <> ( C81 . R4 );
L843: ( dom C81 ) = ( R4 + 1 ) by L838 , FUNCT_2:def 1;
reconsider D46 = C82 as (Element of ( NAT )) by L843 , L840 , L837;
L844: D46 < ( R4 + 1 ) by L840 , NAT_1:44;
L845: D46 <= R4 by L844 , NAT_1:13;
L846: D46 < R4 by L845 , L842 , L841 , XXREAL_0:1;
L847: D46 in R4 by L846 , NAT_1:44;
L848: R1 <> ( 0 ) by L828 , L846 , L137;
L849: ( dom C80 ) = R4 by L848 , FUNCT_2:def 1;
L850: ( C80 . D46 ) = ( C81 . D46 ) by L830 , L846;
thus L851: contradiction by L850 , L839 , L841 , L849 , L847 , FUNCT_1:def 3;
end;
L852: (for R2 being Nat holds ((R2 in ( rng C81 ) & (not R2 in ( rng C80 ))) implies ( min* ( C81 " { R2 } ) ) = R4))
proof
L853: R4 < ( R4 + 1 ) by NAT_1:13;
let R2 being Nat;
assume that
L854: R2 in ( rng C81 )
and
L855: (not R2 in ( rng C80 ));
L856: R2 in { R2 } by TARSKI:def 1;
L857: ( dom C81 ) = ( R4 + 1 ) by L854 , FUNCT_2:def 1;
L858: R4 in ( dom C81 ) by L857 , L853 , NAT_1:44;
L859: ( C81 . R4 ) = R2 by L836 , L854 , L855;
L860: R4 in ( C81 " { R2 } ) by L859 , L858 , L856 , FUNCT_1:def 7;
L861: ( min* ( C81 " { R2 } ) ) in ( C81 " { R2 } ) by L860 , NAT_1:def 1;
L862: ( C81 . ( min* ( C81 " { R2 } ) ) ) in { R2 } by L861 , FUNCT_1:def 7;
assume L863: ( min* ( C81 " { R2 } ) ) <> R4;
L864: ( min* ( C81 " { R2 } ) ) <= ( ( R4 + 1 ) - 1 ) by L145;
L865: ( min* ( C81 " { R2 } ) ) < R4 by L864 , L863 , XXREAL_0:1;
L866: R1 <> ( 0 ) by L865 , L828 , L137;
L867: ( dom C80 ) = R4 by L866 , FUNCT_2:def 1;
L868: ( min* ( C81 " { R2 } ) ) in R4 by L865 , NAT_1:44;
L869: ( C80 . ( min* ( C81 " { R2 } ) ) ) in ( rng C80 ) by L868 , L867 , FUNCT_1:def 3;
L870: ( C80 . ( min* ( C81 " { R2 } ) ) ) = ( C81 . ( min* ( C81 " { R2 } ) ) ) by L830 , L865;
thus L871: contradiction by L870 , L855 , L862 , L869 , TARSKI:def 1;
end;
L872: (for B88 being (Element of ( NAT )) holds (B88 in ( rng C80 ) implies ( min* ( C81 " { B88 } ) ) = ( min* ( C80 " { B88 } ) )))
proof
L873: R4 <= ( R4 + 1 ) by NAT_1:11;
L874: R4 c= ( R4 + 1 ) by L873 , NAT_1:39;
let C83 being (Element of ( NAT ));
assume that
L875: C83 in ( rng C80 );
consider C84 being set such that L876: C84 in ( dom C80 ) and L877: ( C80 . C84 ) = C83 by L875 , FUNCT_1:def 3;
L878: C84 in R4 by L876;
L879: ( dom C81 ) = ( R4 + 1 ) by L875 , FUNCT_2:def 1;
L880: R4 is (Subset of ( NAT )) by L61;
reconsider D47 = C84 as (Element of ( NAT )) by L880 , L878;
L881: C83 in { C83 } by TARSKI:def 1;
L882: D47 in ( C80 " { C83 } ) by L881 , L876 , L877 , FUNCT_1:def 7;
L883: ( min* ( C80 " { C83 } ) ) <= D47 by L882 , NAT_1:def 1;
L884: D47 < R4 by L876 , NAT_1:44;
L885: ( min* ( C80 " { C83 } ) ) < R4 by L884 , L883 , XXREAL_0:2;
L886: ( dom C80 ) = R4 by L875 , FUNCT_2:def 1;
L887:
now
let C85 being Nat;
assume that
L888: C85 in ( C81 " { C83 } );
L889: C85 in ( R4 + 1 ) by L879 , L888 , FUNCT_1:def 7;
L890: C85 < ( R4 + 1 ) by L889 , NAT_1:44;
L891: C85 <= R4 by L890 , NAT_1:13;
L892:
now
per cases  by L891 , XXREAL_0:1;
suppose L893: C85 < R4;

L894: ( C81 . C85 ) in { C83 } by L888 , FUNCT_1:def 7;
L895: ( C80 . C85 ) in { C83 } by L894 , L830 , L893;
L896: C85 in ( dom C80 ) by L886 , L893 , NAT_1:44;
L897: C85 in ( C80 " { C83 } ) by L896 , L895 , FUNCT_1:def 7;
thus L898: ( min* ( C80 " { C83 } ) ) <= C85 by L897 , NAT_1:def 1;
end;
suppose L899: C85 = R4;

thus L900: ( min* ( C80 " { C83 } ) ) <= C85 by L899 , L883 , L884 , XXREAL_0:2;
end;
end;
thus L902: ( min* ( C80 " { C83 } ) ) <= C85 by L892;
end;
L903: ( min* ( C80 " { C83 } ) ) in ( C80 " { C83 } ) by L882 , NAT_1:def 1;
L904: ( C80 . ( min* ( C80 " { C83 } ) ) ) in { C83 } by L903 , FUNCT_1:def 7;
L905: ( C81 . ( min* ( C80 " { C83 } ) ) ) in { C83 } by L904 , L830 , L885;
L906: ( min* ( C80 " { C83 } ) ) in R4 by L885 , NAT_1:44;
L907: ( min* ( C80 " { C83 } ) ) in ( C81 " { C83 } ) by L906 , L879 , L874 , L905 , FUNCT_1:def 7;
thus L908: thesis by L907 , L887 , NAT_1:def 1;
end;
let R5 being Nat;
let R6 being Nat;
assume that
L909: R5 in ( rng C81 )
and
L910: R6 in ( rng C81 )
and
L911: R5 < R6;
L912: (for R2 being Nat holds ((R2 in ( rng C81 ) & (not R2 in ( rng C80 ))) implies R2 >= R1))
proof
let R2 being Nat;
assume that
L913: R2 in ( rng C81 )
and
L914: (not R2 in ( rng C80 ));
assume L915: R2 < R1;
L916: R2 in R1 by L915 , NAT_1:44;
thus L917: thesis by L916 , L828 , L914 , FUNCT_2:def 3;
end;
L918: (R5 in ( NAT ) & R6 in ( NAT )) by ORDINAL1:def 12;
L919:
now
per cases ;
suppose L920: (R5 in ( rng C80 ) & R6 in ( rng C80 ));

L921: ( min* ( C81 " { R6 } ) ) = ( min* ( C80 " { R6 } ) ) by L920 , L872 , L918;
L922: ( min* ( C81 " { R5 } ) ) = ( min* ( C80 " { R5 } ) ) by L872 , L920 , L918;
thus L923: thesis by L922 , L828 , L911 , L920 , L921 , L137;
end;
suppose L924: (R5 in ( rng C80 ) & (not R6 in ( rng C80 )));

L925: R4 <> ( 0 ) by L924;
L926: ( min* ( C80 " { R5 } ) ) <= ( R4 - 1 ) by L925 , L145;
L927: ( min* ( C81 " { R5 } ) ) <= ( R4 - 1 ) by L926 , L872 , L924 , L918;
L928: ( R4 - 1 ) is (Element of ( NAT )) by L925 , NAT_1:20;
L929: ( R4 - 1 ) < ( ( R4 - 1 ) + 1 ) by L928 , NAT_1:13;
L930: ( min* ( C81 " { R6 } ) ) = R4 by L910 , L852 , L924;
thus L931: thesis by L930 , L927 , L929 , XXREAL_0:2;
end;
suppose L932: ((not R5 in ( rng C80 )) & R6 in ( rng C80 ));

L933: R6 < R1 by L932 , NAT_1:44;
L934: R5 >= R1 by L909 , L912 , L932;
thus L935: thesis by L934 , L911 , L933 , XXREAL_0:2;
end;
suppose L936: ((not R5 in ( rng C80 )) & (not R6 in ( rng C80 )));

L937: R5 = ( C81 . R4 ) by L936 , L909 , L836;
thus L938: thesis by L937 , L910 , L911 , L836 , L936;
end;
end;
thus L940: thesis by L919;
end;
theorem
L941: (for R1 being Nat holds (for R4 being Nat holds (for B89 being (Function of R4 , R1) holds (for B90 being (Function of ( R4 + 1 ) , ( R1 + 1 )) holds ((B89 is  onto  "increasing & B89 = ( B90 | R4 ) & ( B90 . R4 ) = R1) implies (B90 is  onto  "increasing & ( B90 " { ( B90 . R4 ) } ) = { R4 }))))))
proof
let R1 being Nat;
let R4 being Nat;
let C86 being (Function of R4 , R1);
let C87 being (Function of ( R4 + 1 ) , ( R1 + 1 ));
assume that
L942: C86 is  onto  "increasing
and
L943: C86 = ( C87 | R4 )
and
L944: ( C87 . R4 ) = R1;
L945: ( R1 + 1 ) c= ( rng C87 )
proof
let C88 being set;
assume that
L946: C88 in ( R1 + 1 );
L947: ( R1 + 1 ) is (Subset of ( NAT )) by L61;
reconsider D48 = C88 as (Element of ( NAT )) by L947 , L946;
L948: D48 < ( R1 + 1 ) by L946 , NAT_1:44;
L949: D48 <= R1 by L948 , NAT_1:13;
L950:
now
per cases  by L949 , XXREAL_0:1;
suppose L951: D48 < R1;

L952: ( rng C86 ) = R1 by L942 , FUNCT_2:def 3;
L953: D48 in R1 by L951 , NAT_1:44;
consider C89 being set such that L954: C89 in ( dom C86 ) and L955: ( C86 . C89 ) = D48 by L953 , L952 , FUNCT_1:def 3;
L956: ( dom C87 ) = ( R4 + 1 ) by FUNCT_2:def 1;
L957: (R4 = ( 0 ) iff R1 = ( 0 )) by L942 , L137;
L958: ( dom C86 ) = R4 by L957 , FUNCT_2:def 1;
L959: R4 <= ( R4 + 1 ) by NAT_1:11;
L960: R4 c= ( R4 + 1 ) by L959 , NAT_1:39;
L961: ( C86 . C89 ) = ( C87 . C89 ) by L943 , L954 , FUNCT_1:47;
thus L962: thesis by L961 , L954 , L955 , L958 , L960 , L956 , FUNCT_1:def 3;
end;
suppose L963: D48 = R1;

L964: R4 < ( R4 + 1 ) by NAT_1:13;
L965: R4 in ( R4 + 1 ) by L964 , NAT_1:44;
L966: ( dom C87 ) = ( R4 + 1 ) by FUNCT_2:def 1;
thus L967: thesis by L966 , L944 , L963 , L965 , FUNCT_1:def 3;
end;
end;
thus L969: thesis by L950;
end;
L970: ( R1 + 1 ) = ( rng C87 ) by L945 , XBOOLE_0:def 10;
thus L971: C87 is  onto by L970 , FUNCT_2:def 3;
L972: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng C87 ) & R6 in ( rng C87 ) & R5 < R6) implies ( min* ( C87 " { R5 } ) ) < ( min* ( C87 " { R6 } ) )))) by L942 , L943 , L827;
thus L973: C87 is  "increasing by L972 , L137;
thus L974: ( C87 " { ( C87 . R4 ) } ) = { R4 }
proof
assume L975: ( C87 " { ( C87 . R4 ) } ) <> { R4 };
consider R3 being Nat such that L976: R3 in ( C87 " { ( C87 . R4 ) } ) and L977: R3 <> R4 by L975 , L690;
L978: ( C87 . R3 ) in { ( C87 . R4 ) } by L976 , FUNCT_1:def 7;
L979: ( C87 . R3 ) = R1 by L978 , L944 , TARSKI:def 1;
L980: R3 in ( dom C87 ) by L976 , FUNCT_1:def 7;
L981: R3 < ( R4 + 1 ) by L980 , NAT_1:44;
L982: R3 <= R4 by L981 , NAT_1:13;
L983: R3 < R4 by L982 , L977 , XXREAL_0:1;
L984: (R4 = ( 0 ) iff R1 = ( 0 )) by L942 , L137;
L985: ( dom C86 ) = R4 by L984 , FUNCT_2:def 1;
L986: R3 in ( dom C86 ) by L985 , L983 , NAT_1:44;
L987: ( C86 . R3 ) in ( rng C86 ) by L986 , FUNCT_1:def 3;
L988: ( C86 . R3 ) = ( C87 . R3 ) by L943 , L986 , FUNCT_1:47;
thus L989: contradiction by L988 , L987 , L979 , NAT_1:44;
end;

end;
theorem
L975: (for R1 being Nat holds (for R4 being Nat holds (for B91 being (Function of R4 , R1) holds (for B92 being (Function of ( R4 + 1 ) , R1) holds ((B91 is  onto  "increasing & B91 = ( B92 | R4 ) & ( B92 . R4 ) < R1) implies (B92 is  onto  "increasing & ( B92 " { ( B92 . R4 ) } ) <> { R4 }))))))
proof
let R1 being Nat;
let R4 being Nat;
let C90 being (Function of R4 , R1);
let C91 being (Function of ( R4 + 1 ) , R1);
assume that
L976: C90 is  onto  "increasing
and
L977: C90 = ( C91 | R4 )
and
L978: ( C91 . R4 ) < R1;
L979: R1 = ( rng C90 ) by L976 , FUNCT_2:def 3;
consider R15 being set such that L980: R15 in ( dom C90 ) and L981: ( C90 . R15 ) = ( C91 . R4 ) by L979 , L978 , FUNCT_1:def 3;
L982: ( C91 . R4 ) = ( C91 . R15 ) by L977 , L980 , L981 , FUNCT_1:47;
L983: ( C91 . R15 ) in { ( C91 . R4 ) } by L982 , TARSKI:def 1;
L984: R1 c= ( rng C91 )
proof
L985: R4 <= ( R4 + 1 ) by NAT_1:13;
L986: R4 c= ( R4 + 1 ) by L985 , NAT_1:39;
L987: (R4 = ( 0 ) iff R1 = ( 0 )) by L976 , L137;
L988: ( dom C90 ) = R4 by L987 , FUNCT_2:def 1;
let C92 being set;
assume that
L989: C92 in R1;
L990: R1 is (Subset of ( NAT )) by L61;
reconsider D49 = C92 as (Element of ( NAT )) by L990 , L989;
L991: ( rng C90 ) = R1 by L976 , FUNCT_2:def 3;
consider C93 being set such that L992: C93 in ( dom C90 ) and L993: ( C90 . C93 ) = D49 by L991 , L989 , FUNCT_1:def 3;
L994: ( dom C91 ) = ( R4 + 1 ) by L978 , FUNCT_2:def 1;
L995: ( C90 . C93 ) = ( C91 . C93 ) by L977 , L992 , FUNCT_1:47;
thus L996: thesis by L995 , L992 , L993 , L988 , L986 , L994 , FUNCT_1:def 3;
end;
L997: R1 = ( rng C91 ) by L984 , XBOOLE_0:def 10;
thus L998: C91 is  onto by L997 , FUNCT_2:def 3;
L999: R1 = ( R1 + ( 0 ) );
L1000: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng C91 ) & R6 in ( rng C91 ) & R5 < R6) implies ( min* ( C91 " { R5 } ) ) < ( min* ( C91 " { R6 } ) )))) by L999 , L976 , L977 , L827;
thus L1001: C91 is  "increasing by L1000 , L978 , L137;
L1002: R4 <= ( R4 + 1 ) by NAT_1:11;
L1003: R4 c= ( R4 + 1 ) by L1002 , NAT_1:39;
L1004: R15 in R4 by L980;
L1005: R15 <> R4 by L1004;
L1006: ( dom C91 ) = ( R4 + 1 ) by L978 , FUNCT_2:def 1;
L1007: R15 in ( C91 " { ( C91 . R4 ) } ) by L1006 , L1004 , L1003 , L983 , FUNCT_1:def 7;
thus L1008: thesis by L1007 , L1005 , TARSKI:def 1;
end;
L1009: (for R1 being Nat holds (for R4 being Nat holds (R1 < R4 implies ( R4 \/ { R1 } ) = R4)))
proof
let R1 being Nat;
let R4 being Nat;
assume L1010: R1 < R4;
L1011: R1 in R4 by L1010 , NAT_1:44;
L1012: { R1 } c= R4 by L1011 , ZFMISC_1:31;
thus L1013: thesis by L1012 , XBOOLE_1:12;
end;
theorem
L1014: (for R1 being Nat holds (for R4 being Nat holds ( card { B93 where B93 is (Function of ( R4 + 1 ) , ( R1 + 1 )) : (B93 is  onto  "increasing & ( B93 " { ( B93 . R4 ) } ) = { R4 }) } ) = ( card { B94 where B94 is (Function of R4 , R1) : B94 is  onto  "increasing } )))
proof
let R1 being Nat;
let R4 being Nat;
set D50 = { B95 where B95 is (Function of ( R4 + 1 ) , ( R1 + 1 )) : (B95 is  onto  "increasing & ( B95 " { ( B95 . R4 ) } ) = { R4 }) };
set D51 = { B96 where B96 is (Function of R4 , R1) : B96 is  onto  "increasing };
L1015:
now
per cases ;
suppose L1016: (R1 = ( 0 ) & R4 <> ( 0 ));

L1017: D50 is  empty
proof
assume L1018: D50 is non  empty;
consider C94 being set such that L1019: C94 in D50 by L1018 , XBOOLE_0:def 1;
consider C95 being (Function of ( R4 + 1 ) , ( R1 + 1 )) such that L1020: C94 = C95 and L1021: C95 is  onto  "increasing and L1022: ( C95 " { ( C95 . R4 ) } ) = { R4 } by L1019;
L1023: ( 0 ) in ( R4 + 1 ) by NAT_1:44;
L1024: ( 0 ) in ( dom C95 ) by L1023 , FUNCT_2:def 1;
L1025: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
L1026: ( C95 . ( 0 ) ) = ( 0 ) by L1016 , CARD_1:49 , TARSKI:def 1;
L1027: ( C95 . R4 ) = ( 0 ) by L1016 , CARD_1:49 , TARSKI:def 1;
L1028: ( 0 ) in { R4 } by L1027 , L1022 , L1026 , L1024 , L1025 , FUNCT_1:def 7;
thus L1029: thesis by L1028 , L1016 , TARSKI:def 1;
end;
L1030: ( R4 block R1 ) = ( 0 ) by L1016 , L435;
thus L1031: thesis by L1030 , L1017;
end;
suppose L1032: (R1 = ( 0 ) implies R4 = ( 0 ));

defpred S7[ set , set , set ] means (for R5 being Nat holds (for R6 being Nat holds ((R5 = $2 & R6 = $3) implies (ex B97 being (Function of R5 , R6) st (B97 = $1 & B97 is  onto  "increasing & (R4 < R5 implies ( B97 " { ( B97 . R4 ) } ) = { R4 }))))));
L1033: (not R4 in R4);
set D52 = { B98 where B98 is (Function of R4 , R1) : S7[ B98 , R4 , R1 ] };
set D53 = { B99 where B99 is (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R1 } )) : (S7[ B99 , ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ) ] & ( rng ( B99 | R4 ) ) c= R1 & ( B99 . R4 ) = R1) };
L1034: (for B100 being (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R1 } )) holds (( B100 . R4 ) = R1 implies (S7[ B100 , ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ) ] iff S7[ ( B100 | R4 ) , R4 , R1 ])))
proof
let C96 being (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ));
assume that
L1035: ( C96 . R4 ) = R1;
thus L1036: (S7[ C96 , ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ) ] implies S7[ ( C96 | R4 ) , R4 , R1 ])
proof
L1037: R4 <= ( R4 + 1 ) by NAT_1:11;
L1038: R4 c= ( R4 + 1 ) by L1037 , NAT_1:39;
L1039: ( R4 + 1 ) = ( R4 \/ { R4 } ) by AFINSQ_1:2;
L1040: ( R1 + 1 ) = ( R1 \/ { R1 } ) by AFINSQ_1:2;
assume L1041: S7[ C96 , ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ) ];
consider C97 being (Function of ( R4 + 1 ) , ( R1 + 1 )) such that L1042: C97 = C96 and L1043: C97 is  onto  "increasing and L1044: (R4 < ( R4 + 1 ) implies ( C97 " { ( C97 . R4 ) } ) = { R4 }) by L1041 , L1039 , L1040;
L1045: ( rng ( C97 | R4 ) ) c= R1 by L1043 , L1044 , L741 , NAT_1:13;
L1046: ( dom ( C97 | R4 ) ) = ( ( dom C97 ) /\ R4 ) by RELAT_1:61;
L1047: ( dom C97 ) = ( R4 + 1 ) by FUNCT_2:def 1;
L1048: ( dom ( C97 | R4 ) ) = R4 by L1047 , L1038 , L1046 , XBOOLE_1:28;
reconsider D54 = ( C97 | R4 ) as (Function of R4 , R1) by L1048 , L1045 , FUNCT_2:2;
let R5 being Nat;
let R6 being Nat;
assume that
L1049: R5 = R4
and
L1050: R6 = R1;
reconsider D55 = D54 as (Function of R5 , R6) by L1049 , L1050;
L1051: D55 is  onto  "increasing by L1043 , L1044 , L1049 , L1050 , L741 , NAT_1:13;
thus L1052: thesis by L1051 , L1042 , L1049;
end;

thus L1053: (S7[ ( C96 | R4 ) , R4 , R1 ] implies S7[ C96 , ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ) ])
proof
L1054: ( R4 \/ { R4 } ) = ( R4 + 1 ) by AFINSQ_1:2;
reconsider D56 = C96 as (Function of ( R4 + 1 ) , ( R1 + 1 )) by L1054 , AFINSQ_1:2;
assume L1055: S7[ ( C96 | R4 ) , R4 , R1 ];
L1056: (ex B101 being (Function of R4 , R1) st (B101 = ( C96 | R4 ) & B101 is  onto  "increasing & (R4 < R4 implies ( B101 " { ( B101 . R4 ) } ) = { R4 }))) by L1055;
let R5 being Nat;
let R6 being Nat;
assume that
L1057: R5 = ( R4 \/ { R4 } )
and
L1058: R6 = ( R1 \/ { R1 } );
reconsider D57 = D56 as (Function of R5 , R6) by L1057 , L1058;
L1059: (R4 < R5 implies ( D57 " { ( D57 . R4 ) } ) = { R4 }) by L1035 , L1056 , L941;
L1060: ( R1 + 1 ) = R6 by L1058 , AFINSQ_1:2;
L1061: ( R4 + 1 ) = R5 by L1057 , AFINSQ_1:2;
L1062: D57 is  onto  "increasing by L1061 , L1035 , L1056 , L1060 , L941;
thus L1063: thesis by L1062 , L1059;
end;

end;
L1054: (R1 is  empty implies R4 is  empty) by L1032;
L1055: ( card D52 ) = ( card D53 ) from Sch4(L1054 , L1033 , L1034);
L1056: D51 c= D52
proof
let R15 being set;
assume L1057: R15 in D51;
L1058: (ex B102 being (Function of R4 , R1) st (R15 = B102 & B102 is  onto  "increasing)) by L1057;
L1059: S7[ R15 , R4 , R1 ] by L1058;
thus L1060: thesis by L1059 , L1058;
end;
L1061: D50 c= D53
proof
let R15 being set;
assume L1062: R15 in D50;
consider C98 being (Function of ( R4 + 1 ) , ( R1 + 1 )) such that L1063: C98 = R15 and L1064: C98 is  onto  "increasing and L1065: ( C98 " { ( C98 . R4 ) } ) = { R4 } by L1062;
L1066: ( rng ( C98 | R4 ) ) c= R1 by L1064 , L1065 , L741;
L1067: S7[ C98 , ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ) ]
proof
let R5 being Nat;
let R6 being Nat;
assume that
L1068: R5 = ( R4 \/ { R4 } )
and
L1069: R6 = ( R1 \/ { R1 } );
L1070: R6 = ( R1 + 1 ) by L1069 , AFINSQ_1:2;
L1071: R5 = ( R4 + 1 ) by L1068 , AFINSQ_1:2;
thus L1072: thesis by L1071 , L1064 , L1065 , L1070;
end;
L1073: ( R1 + 1 ) = ( R1 \/ { R1 } ) by AFINSQ_1:2;
L1074: ( R4 + 1 ) = ( R4 \/ { R4 } ) by AFINSQ_1:2;
L1075: ( C98 . R4 ) = R1 by L1064 , L1065 , L673;
thus L1076: thesis by L1075 , L1063 , L1067 , L1066 , L1074 , L1073;
end;
L1077: D52 c= D51
proof
let R15 being set;
assume L1078: R15 in D52;
consider C99 being (Function of R4 , R1) such that L1079: R15 = C99 and L1080: S7[ C99 , R4 , R1 ] by L1078;
L1081: (ex B103 being (Function of R4 , R1) st (B103 = C99 & B103 is  onto  "increasing & (R4 < R4 implies ( B103 " { ( B103 . R4 ) } ) = { R4 }))) by L1080;
thus L1082: thesis by L1081 , L1079;
end;
L1083: D53 c= D50
proof
let R15 being set;
assume L1084: R15 in D53;
consider C100 being (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R1 } )) such that L1085: R15 = C100 and L1086: S7[ C100 , ( R4 \/ { R4 } ) , ( R1 \/ { R1 } ) ] and L1087: ( rng ( C100 | R4 ) ) c= R1 and L1088: ( C100 . R4 ) = R1 by L1084;
L1089: ( R1 + 1 ) = ( R1 \/ { R1 } ) by AFINSQ_1:2;
L1090: ( R4 + 1 ) = ( R4 \/ { R4 } ) by AFINSQ_1:2;
L1091: (ex B104 being (Function of ( R4 + 1 ) , ( R1 + 1 )) st (C100 = B104 & B104 is  onto  "increasing & (R4 < ( R4 + 1 ) implies ( B104 " { ( B104 . R4 ) } ) = { R4 }))) by L1090 , L1086 , L1089;
thus L1092: thesis by L1091 , L1085 , NAT_1:13;
end;
L1093: D50 = D53 by L1083 , L1061 , XBOOLE_0:def 10;
thus L1094: thesis by L1093 , L1055 , L1056 , L1077 , XBOOLE_0:def 10;
end;
end;
thus L1096: thesis by L1015;
end;
theorem
L1097: (for R1 being Nat holds (for R4 being Nat holds (for R2 being Nat holds (R2 < R1 implies ( card { B105 where B105 is (Function of ( R4 + 1 ) , R1) : (B105 is  onto  "increasing & ( B105 " { ( B105 . R4 ) } ) <> { R4 } & ( B105 . R4 ) = R2) } ) = ( card { B106 where B106 is (Function of R4 , R1) : B106 is  onto  "increasing } )))))
proof
let R1 being Nat;
let R4 being Nat;
let R2 being Nat;
assume that
L1098: R2 < R1;
set D58 = { B107 where B107 is (Function of R4 , R1) : B107 is  onto  "increasing };
set D59 = { B108 where B108 is (Function of ( R4 + 1 ) , R1) : (B108 is  onto  "increasing & ( B108 " { ( B108 . R4 ) } ) <> { R4 } & ( B108 . R4 ) = R2) };
L1099:
now
per cases ;
suppose L1100: (R1 = ( 0 ) & R4 <> ( 0 ));

thus L1101: thesis by L1100 , L1098;
end;
suppose L1102: (R1 = ( 0 ) implies R4 = ( 0 ));

defpred S8[ set , set , set ] means (for R5 being Nat holds (for R6 being Nat holds ((R5 = $2 & R6 = $3) implies (ex B109 being (Function of R5 , R6) st (B109 = $1 & B109 is  onto  "increasing & (R4 < R5 implies ( B109 " { ( B109 . R4 ) } ) <> { R4 }))))));
L1103: (not R4 in R4);
set D60 = { B110 where B110 is (Function of R4 , R1) : S8[ B110 , R4 , R1 ] };
set D61 = { B111 where B111 is (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R2 } )) : (S8[ B111 , ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ) ] & ( rng ( B111 | R4 ) ) c= R1 & ( B111 . R4 ) = R2) };
L1104: (for B112 being (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R2 } )) holds (( B112 . R4 ) = R2 implies (S8[ B112 , ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ) ] iff S8[ ( B112 | R4 ) , R4 , R1 ])))
proof
let C101 being (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ));
assume that
L1105: ( C101 . R4 ) = R2;
thus L1106: (S8[ C101 , ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ) ] implies S8[ ( C101 | R4 ) , R4 , R1 ])
proof
L1107: R4 <= ( R4 + 1 ) by NAT_1:13;
L1108: R4 c= ( R4 + 1 ) by L1107 , NAT_1:39;
assume L1109: S8[ C101 , ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ) ];
L1110: ( R4 + 1 ) = ( R4 \/ { R4 } ) by AFINSQ_1:2;
L1111: R1 = ( R1 \/ { R2 } ) by L1098 , L1009;
consider C102 being (Function of ( R4 + 1 ) , R1) such that L1112: C102 = C101 and L1113: C102 is  onto  "increasing and L1114: (R4 < ( R4 + 1 ) implies ( C102 " { ( C102 . R4 ) } ) <> { R4 }) by L1111 , L1109 , L1110;
L1115: ( dom ( C102 | R4 ) ) = ( ( dom C102 ) /\ R4 ) by RELAT_1:61;
L1116: ( rng ( C102 | R4 ) ) c= R1;
L1117: ( dom C102 ) = ( R4 + 1 ) by L1098 , FUNCT_2:def 1;
L1118: ( dom ( C102 | R4 ) ) = R4 by L1117 , L1108 , L1115 , XBOOLE_1:28;
reconsider D62 = ( C102 | R4 ) as (Function of R4 , R1) by L1118 , L1116 , FUNCT_2:2;
let R5 being Nat;
let R6 being Nat;
assume that
L1119: R5 = R4
and
L1120: R6 = R1;
reconsider D63 = D62 as (Function of R5 , R6) by L1119 , L1120;
L1121: D63 is  onto  "increasing by L1113 , L1114 , L1119 , L1120 , L780 , NAT_1:13;
thus L1122: thesis by L1121 , L1112 , L1119;
end;

thus L1123: (S8[ ( C101 | R4 ) , R4 , R1 ] implies S8[ C101 , ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ) ])
proof
L1124: ( R4 \/ { R4 } ) = ( R4 + 1 ) by AFINSQ_1:2;
reconsider D64 = C101 as (Function of ( R4 + 1 ) , R1) by L1124 , L1098 , L1009;
assume L1125: S8[ ( C101 | R4 ) , R4 , R1 ];
L1126: (ex B113 being (Function of R4 , R1) st (B113 = ( C101 | R4 ) & B113 is  onto  "increasing & (R4 < R4 implies ( B113 " { ( B113 . R4 ) } ) <> { R4 }))) by L1125;
let R5 being Nat;
let R6 being Nat;
assume that
L1127: R5 = ( R4 \/ { R4 } )
and
L1128: R6 = ( R1 \/ { R2 } );
reconsider D65 = D64 as (Function of R5 , R6) by L1127 , L1128;
L1129: (R4 < R5 implies ( D65 " { ( D65 . R4 ) } ) <> { R4 }) by L1098 , L1105 , L1126 , L975;
L1130: ( R4 + 1 ) = R5 by L1127 , AFINSQ_1:2;
L1131: R1 = R6 by L1098 , L1128 , L1009;
L1132: D65 is  onto  "increasing by L1131 , L1098 , L1105 , L1126 , L1130 , L975;
thus L1133: thesis by L1132 , L1129;
end;

end;
L1124: (R1 is  empty implies R4 is  empty) by L1102;
L1125: ( card D60 ) = ( card D61 ) from Sch4(L1124 , L1103 , L1104);
L1126: D58 c= D60
proof
let R15 being set;
assume L1127: R15 in D58;
L1128: (ex B114 being (Function of R4 , R1) st (R15 = B114 & B114 is  onto  "increasing)) by L1127;
L1129: S8[ R15 , R4 , R1 ] by L1128;
thus L1130: thesis by L1129 , L1128;
end;
L1131: D59 c= D61
proof
let R15 being set;
assume L1132: R15 in D59;
consider C103 being (Function of ( R4 + 1 ) , R1) such that L1133: C103 = R15 and L1134: C103 is  onto  "increasing and L1135: ( C103 " { ( C103 . R4 ) } ) <> { R4 } and L1136: ( C103 . R4 ) = R2 by L1132;
L1137: S8[ C103 , ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ) ]
proof
let R5 being Nat;
let R6 being Nat;
assume that
L1138: R5 = ( R4 \/ { R4 } )
and
L1139: R6 = ( R1 \/ { R2 } );
L1140: R5 = ( R4 + 1 ) by L1138 , AFINSQ_1:2;
L1141: R6 = R1 by L1098 , L1139 , L1009;
thus L1142: thesis by L1141 , L1134 , L1135 , L1140;
end;
L1143: R1 = ( R1 \/ { R2 } ) by L1098 , L1009;
L1144: ( R4 + 1 ) = ( R4 \/ { R4 } ) by AFINSQ_1:2;
L1145: ( rng ( C103 | R4 ) ) c= R1;
thus L1146: thesis by L1145 , L1133 , L1136 , L1137 , L1144 , L1143;
end;
L1147: D60 c= D58
proof
let R15 being set;
assume L1148: R15 in D60;
consider C104 being (Function of R4 , R1) such that L1149: R15 = C104 and L1150: S8[ C104 , R4 , R1 ] by L1148;
L1151: (ex B115 being (Function of R4 , R1) st (B115 = C104 & B115 is  onto  "increasing & (R4 < R4 implies ( B115 " { ( B115 . R4 ) } ) <> { R4 }))) by L1150;
thus L1152: thesis by L1151 , L1149;
end;
L1153: D61 c= D59
proof
L1154: ( R4 + 1 ) = ( R4 \/ { R4 } ) by AFINSQ_1:2;
let R15 being set;
assume L1155: R15 in D61;
consider C105 being (Function of ( R4 \/ { R4 } ) , ( R1 \/ { R2 } )) such that L1156: R15 = C105 and L1157: S8[ C105 , ( R4 \/ { R4 } ) , ( R1 \/ { R2 } ) ] and L1158: ( rng ( C105 | R4 ) ) c= R1 and L1159: ( C105 . R4 ) = R2 by L1155;
L1160: R1 = ( R1 \/ { R2 } ) by L1098 , L1009;
L1161: (ex B116 being (Function of ( R4 + 1 ) , R1) st (C105 = B116 & B116 is  onto  "increasing & (R4 < ( R4 + 1 ) implies ( B116 " { ( B116 . R4 ) } ) <> { R4 }))) by L1160 , L1157 , L1154;
thus L1162: thesis by L1161 , L1156 , L1159 , NAT_1:13;
end;
L1163: D59 = D61 by L1153 , L1131 , XBOOLE_0:def 10;
thus L1164: thesis by L1163 , L1125 , L1126 , L1147 , XBOOLE_0:def 10;
end;
end;
thus L1166: thesis by L1099;
end;
theorem
L1167: (for B117 being Function holds (for R4 being Nat holds ( ( union ( rng ( B117 | R4 ) ) ) \/ ( B117 . R4 ) ) = ( union ( rng ( B117 | ( R4 + 1 ) ) ) )))
proof
let C106 being Function;
let R4 being Nat;
thus L1168: ( ( union ( rng ( C106 | R4 ) ) ) \/ ( C106 . R4 ) ) c= ( union ( rng ( C106 | ( R4 + 1 ) ) ) )
proof
let R15 being set;
assume that
L1169: R15 in ( ( union ( rng ( C106 | R4 ) ) ) \/ ( C106 . R4 ) );
L1170:
now
per cases  by L1169 , XBOOLE_0:def 3;
suppose L1171: R15 in ( union ( rng ( C106 | R4 ) ) );

consider C107 being set such that L1172: R15 in C107 and L1173: C107 in ( rng ( C106 | R4 ) ) by L1171 , TARSKI:def 4;
consider C108 being set such that L1174: C108 in ( dom ( C106 | R4 ) ) and L1175: ( ( C106 | R4 ) . C108 ) = C107 by L1173 , FUNCT_1:def 3;
L1176: ( ( C106 | R4 ) . C108 ) = ( C106 . C108 ) by L1174 , FUNCT_1:47;
L1177: R4 <= ( R4 + 1 ) by NAT_1:11;
L1178: R4 c= ( R4 + 1 ) by L1177 , NAT_1:39;
L1179: ( ( dom C106 ) /\ R4 ) c= ( ( dom C106 ) /\ ( R4 + 1 ) ) by L1178 , XBOOLE_1:26;
L1180: C108 in ( ( dom C106 ) /\ R4 ) by L1174 , RELAT_1:61;
L1181: C108 in ( ( dom C106 ) /\ ( R4 + 1 ) ) by L1180 , L1179;
L1182: C108 in ( dom ( C106 | ( R4 + 1 ) ) ) by L1181 , RELAT_1:61;
L1183: ( ( C106 | ( R4 + 1 ) ) . C108 ) = ( C106 . C108 ) by L1182 , FUNCT_1:47;
L1184: ( ( C106 | ( R4 + 1 ) ) . C108 ) in ( rng ( C106 | ( R4 + 1 ) ) ) by L1182 , FUNCT_1:def 3;
thus L1185: thesis by L1184 , L1172 , L1175 , L1183 , L1176 , TARSKI:def 4;
end;
suppose L1186: R15 in ( C106 . R4 );

L1187: R4 < ( R4 + 1 ) by NAT_1:13;
L1188: R4 in ( R4 + 1 ) by L1187 , NAT_1:44;
L1189: R4 in ( dom C106 ) by L1186 , FUNCT_1:def 2;
L1190: R4 in ( ( dom C106 ) /\ ( R4 + 1 ) ) by L1189 , L1188 , XBOOLE_0:def 4;
L1191: R4 in ( dom ( C106 | ( R4 + 1 ) ) ) by L1190 , RELAT_1:61;
L1192: ( ( C106 | ( R4 + 1 ) ) . R4 ) = ( C106 . R4 ) by L1191 , FUNCT_1:47;
L1193: ( ( C106 | ( R4 + 1 ) ) . R4 ) in ( rng ( C106 | ( R4 + 1 ) ) ) by L1191 , FUNCT_1:def 3;
thus L1194: thesis by L1193 , L1186 , L1192 , TARSKI:def 4;
end;
end;
thus L1196: thesis by L1170;
end;

thus L1197: ( union ( rng ( C106 | ( R4 + 1 ) ) ) ) c= ( ( union ( rng ( C106 | R4 ) ) ) \/ ( C106 . R4 ) )
proof
let R15 being set;
assume L1198: R15 in ( union ( rng ( C106 | ( R4 + 1 ) ) ) );
consider C109 being set such that L1199: R15 in C109 and L1200: C109 in ( rng ( C106 | ( R4 + 1 ) ) ) by L1198 , TARSKI:def 4;
consider C110 being set such that L1201: C110 in ( dom ( C106 | ( R4 + 1 ) ) ) and L1202: ( ( C106 | ( R4 + 1 ) ) . C110 ) = C109 by L1200 , FUNCT_1:def 3;
L1203: C110 in ( ( dom C106 ) /\ ( R4 + 1 ) ) by L1201 , RELAT_1:61;
L1204: C110 in ( R4 + 1 ) by L1203 , XBOOLE_0:def 4;
L1205: C110 in ( dom C106 ) by L1203 , XBOOLE_0:def 4;
L1206: ( R4 + 1 ) is (Subset of ( NAT )) by L61;
reconsider D66 = C110 as (Element of ( NAT )) by L1206 , L1204;
L1207: D66 < ( R4 + 1 ) by L1204 , NAT_1:44;
L1208: D66 <= R4 by L1207 , NAT_1:13;
L1209:
now
per cases  by L1208 , XXREAL_0:1;
suppose L1210: D66 < R4;

L1211: D66 in R4 by L1210 , NAT_1:44;
L1212: D66 in ( ( dom C106 ) /\ R4 ) by L1211 , L1205 , XBOOLE_0:def 4;
L1213: D66 in ( dom ( C106 | R4 ) ) by L1212 , RELAT_1:61;
L1214: ( ( C106 | R4 ) . D66 ) in ( rng ( C106 | R4 ) ) by L1213 , FUNCT_1:def 3;
L1215: ( C106 . D66 ) = ( ( C106 | ( R4 + 1 ) ) . D66 ) by L1201 , FUNCT_1:47;
L1216: ( ( C106 | R4 ) . D66 ) = ( C106 . D66 ) by L1213 , FUNCT_1:47;
L1217: R15 in ( union ( rng ( C106 | R4 ) ) ) by L1216 , L1199 , L1202 , L1215 , L1214 , TARSKI:def 4;
thus L1218: thesis by L1217 , XBOOLE_0:def 3;
end;
suppose L1219: D66 = R4;

L1220: ( C106 . D66 ) = ( ( C106 | ( R4 + 1 ) ) . D66 ) by L1201 , FUNCT_1:47;
thus L1221: thesis by L1220 , L1199 , L1202 , L1219 , XBOOLE_0:def 3;
end;
end;
thus L1223: thesis by L1209;
end;

end;
scheme Sch6 { F18() -> non  empty set , F19() -> Nat , P4[set , set] } : (ex B118 being (XFinSequence of F18()) st (( dom B118 ) = F19() & (for R1 being Nat holds (R1 in F19() implies P4[ R1 , ( B118 . R1 ) ]))))
provided
L1198: (for R1 being Nat holds (R1 in F19() implies (ex B119 being (Element of F18()) st P4[ R1 , B119 ])))
proof
L1199: (for B120 being set holds (B120 in F19() implies (ex B121 being set st (B121 in F18() & P4[ B120 , B121 ]))))
proof
let C111 being set;
assume that
L1200: C111 in F19();
L1201: F19() is (Subset of ( NAT )) by L61;
reconsider D67 = C111 as (Element of ( NAT )) by L1201 , L1200;
L1202: (ex B122 being (Element of F18()) st P4[ D67 , B122 ]) by L1198 , L1200;
thus L1203: thesis by L1202;
end;
consider C112 being (Function of F19() , F18()) such that L1204: (for R15 being set holds (R15 in F19() implies P4[ R15 , ( C112 . R15 ) ])) from FUNCT_2:sch 1(L1199);
L1205: ( dom C112 ) = F19() by FUNCT_2:def 1;
reconsider D68 = C112 as (XFinSequence of F18()) by L1205 , AFINSQ_1:5;
take D68;
thus L1206: thesis by L1204 , FUNCT_2:def 1;
end;
L1207:
now
let C113 being non  empty set;
let C114 being (XFinSequence of C113);
assume that
L1208: (for R5 being Nat holds (R5 in ( dom C114 ) implies ( C114 . R5 ) is  finite))
and
L1209: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( dom C114 ) & R6 in ( dom C114 ) & R5 <> R6) implies ( C114 . R5 ) misses ( C114 . R6 ))));
thus L1210: (ex B123 being (XFinSequence of ( NAT )) st (( dom B123 ) = ( dom C114 ) & (for R5 being Nat holds (R5 in ( dom B123 ) implies ( B123 . R5 ) = ( card ( C114 . R5 ) ))) & ( card ( union ( rng C114 ) ) ) = ( Sum B123 )))
proof
defpred S9[ Nat , set ] means $2 = ( card ( C114 . $1 ) );
L1211: (for R1 being Nat holds (R1 in ( len C114 ) implies (ex B124 being (Element of ( NAT )) st S9[ R1 , B124 ])))
proof
let R1 being Nat;
assume L1212: R1 in ( len C114 );
consider C115 being Nat such that L1213: ( C114 . R1 ) , C115 are_equipotent  by L1212 , L1208 , CARD_1:43;
L1214: ( card ( C114 . R1 ) ) = ( card C115 ) by L1213 , CARD_1:5;
thus L1215: thesis by L1214;
end;
consider C116 being (XFinSequence of ( NAT )) such that L1216: (( dom C116 ) = ( len C114 ) & (for R1 being Nat holds (R1 in ( len C114 ) implies S9[ R1 , ( C116 . R1 ) ]))) from Sch6(L1211);
take C116;
thus L1217: ( dom C116 ) = ( dom C114 ) by L1216;
thus L1218: (for R5 being Nat holds (R5 in ( dom C116 ) implies ( C116 . R5 ) = ( card ( C114 . R5 ) ))) by L1216;
L1219: ( ( addnat ) "**" C116 ) = ( Sum C116 ) by AFINSQ_2:51;
per cases ;
suppose L1220: ( len C116 ) = ( 0 );

L1221: ( union ( rng C114 ) ) is  empty by L1220 , L1216 , RELAT_1:42 , ZFMISC_1:2;
thus L1222: thesis by L1221 , L1220 , L1219 , AFINSQ_2:def 8 , BINOP_2:5;
end;
suppose L1223: ( len C116 ) <> ( 0 );

consider C117 being (Function of ( NAT ) , ( NAT )) such that L1224: ( C117 . ( 0 ) ) = ( C116 . ( 0 ) ) and L1225: (for B125 being Nat holds (( B125 + 1 ) < ( len C116 ) implies ( C117 . ( B125 + 1 ) ) = ( ( addnat ) . (( C117 . B125 ) , ( C116 . ( B125 + 1 ) )) ))) and L1226: ( ( addnat ) "**" C116 ) = ( C117 . ( ( len C116 ) - 1 ) ) by L1223 , AFINSQ_2:def 8;
defpred S10[ Nat ] means ($1 < ( len C116 ) implies (( card ( union ( rng ( C114 | ( $1 + 1 ) ) ) ) ) = ( C117 . $1 ) & ( union ( rng ( C114 | ( $1 + 1 ) ) ) ) is  finite));
L1227: (for R1 being Nat holds (S10[ R1 ] implies S10[ ( R1 + 1 ) ]))
proof
let R1 being Nat;
assume that
L1228: S10[ R1 ];
set D69 = ( R1 + 1 );
set D70 = ( C114 | D69 );
set D71 = ( rng D70 );
assume that
L1229: D69 < ( len C116 );
reconsider D72 = ( union D71 ) as  finite set by L1228 , L1229 , NAT_1:13;
L1230: ( C117 . D69 ) = ( ( addnat ) . (( C117 . R1 ) , ( C116 . D69 )) ) by L1225 , L1229;
L1231: ( union ( rng D70 ) ) misses ( C114 . D69 )
proof
assume L1232: ( union ( rng D70 ) ) meets ( C114 . D69 );
consider R15 being set such that L1233: R15 in ( ( union ( rng D70 ) ) /\ ( C114 . D69 ) ) by L1232 , XBOOLE_0:4;
L1234: R15 in ( C114 . D69 ) by L1233 , XBOOLE_0:def 4;
L1235: D69 in ( dom C114 ) by L1216 , L1229 , NAT_1:44;
L1236: R15 in ( union ( rng D70 ) ) by L1233 , XBOOLE_0:def 4;
consider C118 being set such that L1237: R15 in C118 and L1238: C118 in ( rng D70 ) by L1236 , TARSKI:def 4;
consider C119 being set such that L1239: C119 in ( dom D70 ) and L1240: ( D70 . C119 ) = C118 by L1238 , FUNCT_1:def 3;
reconsider D73 = C119 as (Element of ( NAT )) by L1239;
L1241: ( D70 . D73 ) = ( C114 . D73 ) by L1239 , FUNCT_1:47;
L1242: D73 in ( ( dom C114 ) /\ D69 ) by L1239 , RELAT_1:61;
L1243: D73 in D69 by L1242 , XBOOLE_0:def 4;
L1244: D73 <> D69 by L1243;
L1245: D73 in ( dom C114 ) by L1242 , XBOOLE_0:def 4;
L1246: C118 misses ( C114 . D69 ) by L1245 , L1209 , L1240 , L1235 , L1244 , L1241;
thus L1247: contradiction by L1246 , L1237 , L1234 , XBOOLE_0:3;
end;
L1248: D69 in ( dom C114 ) by L1216 , L1229 , NAT_1:44;
reconsider D74 = ( C114 . D69 ) as  finite set by L1248 , L1208;
L1249: D69 in ( len C114 ) by L1216 , L1229 , NAT_1:44;
L1250: ( card D74 ) = ( C116 . D69 ) by L1249 , L1216;
L1251: ( C117 . D69 ) = ( ( C117 . R1 ) + ( card D74 ) ) by L1250 , L1230 , BINOP_2:def 23;
L1252: ( card ( D72 \/ D74 ) ) = ( ( C117 . R1 ) + ( card D74 ) ) by L1228 , L1229 , L1231 , CARD_2:40 , NAT_1:13;
thus L1253: thesis by L1252 , L1251 , L1167;
end;
reconsider D75 = ( ( len C116 ) - 1 ) as (Element of ( NAT )) by L1223 , NAT_1:20;
L1254: D75 < ( D75 + 1 ) by NAT_1:13;
L1255: ( C114 | ( len C116 ) ) = C114 by L1216 , RELAT_1:68;
L1256: S10[ ( 0 ) ]
proof
assume L1257: ( 0 ) < ( len C116 );
L1258: ( union ( rng ( C114 | ( ( 0 ) + 1 ) ) ) ) = ( ( union ( rng ( C114 | (( 0 ) qua Ordinal) ) ) ) \/ ( C114 . ( 0 ) ) ) by L1167;
L1259: ( 0 ) in ( len C116 ) by L1223 , NAT_1:44;
thus L1260: thesis by L1259 , L1208 , L1216 , L1224 , L1258 , ZFMISC_1:2;
end;
L1261: (for B126 being Nat holds S10[ B126 ]) from NAT_1:sch 2(L1256 , L1227);
thus L1262: thesis by L1261 , L1226 , L1254 , L1255 , L1219;
end;
end;

end;
scheme Sch8 { F20 , F21() ->  finite set , F22() -> set , P5[set] , F23() -> (Function of ( card F21() ) , F21()) } : (ex B127 being (XFinSequence of ( NAT )) st (( dom B127 ) = ( card F21() ) & ( card { B128 where B128 is (Function of F20() , F21()) : P5[ B128 ] } ) = ( Sum B127 ) & (for R5 being Nat holds (R5 in ( dom B127 ) implies ( B127 . R5 ) = ( card { B129 where B129 is (Function of F20() , F21()) : (P5[ B129 ] & ( B129 . F22() ) = ( F23() . R5 )) } )))))
provided
L1211: F23() is  onto  one-to-one
and
L1212: F21() is non  empty
and
L1213: F22() in F20()
proof
defpred S11[ Nat , set ] means $2 = { B130 where B130 is (Function of F20() , F21()) : (P5[ B130 ] & ( B130 . F22() ) = ( F23() . $1 )) };
consider C120 being Nat such that L1214: F21() , C120 are_equipotent  by CARD_1:43;
reconsider D76 = C120 as (Element of ( NAT )) by ORDINAL1:def 12;
L1215: (for R1 being Nat holds (R1 in D76 implies (ex B131 being (Subset of ( Funcs (F20() , F21()) )) st S11[ R1 , B131 ])))
proof
let R1 being Nat;
assume that
L1216: R1 in D76;
set D77 = { B132 where B132 is (Function of F20() , F21()) : (P5[ B132 ] & ( B132 . F22() ) = ( F23() . R1 )) };
L1217: D77 c= ( Funcs (F20() , F21()) )
proof
let C121 being set;
assume L1218: C121 in D77;
L1219: (ex B133 being (Function of F20() , F21()) st (C121 = B133 & P5[ B133 ] & ( B133 . F22() ) = ( F23() . R1 ))) by L1218;
thus L1220: thesis by L1219 , L1212 , FUNCT_2:8;
end;
thus L1221: thesis by L1217;
end;
consider C122 being (XFinSequence of ( bool ( Funcs (F20() , F21()) ) )) such that L1222: (( dom C122 ) = D76 & (for R1 being Nat holds (R1 in D76 implies S11[ R1 , ( C122 . R1 ) ]))) from Sch6(L1215);
L1223: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( dom C122 ) & R6 in ( dom C122 ) & R5 <> R6) implies ( C122 . R5 ) misses ( C122 . R6 ))))
proof
let R5 being Nat;
let R6 being Nat;
assume that
L1224: R5 in ( dom C122 )
and
L1225: R6 in ( dom C122 )
and
L1226: R5 <> R6;
assume L1227: ( C122 . R5 ) meets ( C122 . R6 );
consider R15 being set such that L1228: R15 in ( ( C122 . R5 ) /\ ( C122 . R6 ) ) by L1227 , XBOOLE_0:4;
L1229: R15 in ( C122 . R5 ) by L1228 , XBOOLE_0:def 4;
L1230: R15 in { B134 where B134 is (Function of F20() , F21()) : (P5[ B134 ] & ( B134 . F22() ) = ( F23() . R5 )) } by L1229 , L1222 , L1224;
L1231: (ex B135 being (Function of F20() , F21()) st (R15 = B135 & P5[ B135 ] & ( B135 . F22() ) = ( F23() . R5 ))) by L1230;
L1232: ( card F21() ) = ( card D76 ) by L1214 , CARD_1:5;
L1233: ( card D76 ) = D76 by CARD_1:def 2;
L1234: R15 in ( C122 . R6 ) by L1228 , XBOOLE_0:def 4;
L1235: R15 in { B136 where B136 is (Function of F20() , F21()) : (P5[ B136 ] & ( B136 . F22() ) = ( F23() . R6 )) } by L1234 , L1222 , L1225;
L1236: (ex B137 being (Function of F20() , F21()) st (R15 = B137 & P5[ B137 ] & ( B137 . F22() ) = ( F23() . R6 ))) by L1235;
L1237: ( dom F23() ) = ( card F21() ) by L1212 , FUNCT_2:def 1;
thus L1238: contradiction by L1237 , L1211 , L1222 , L1224 , L1225 , L1226 , L1231 , L1236 , L1232 , L1233 , FUNCT_1:def 4;
end;
L1239: (for R5 being Nat holds (R5 in ( dom C122 ) implies ( C122 . R5 ) is  finite))
proof
let R5 being Nat;
assume L1240: R5 in ( dom C122 );
L1241: ( C122 . R5 ) in ( rng C122 ) by L1240 , FUNCT_1:def 3;
L1242: ( Funcs (F20() , F21()) ) is  finite by FRAENKEL:6;
thus L1243: thesis by L1241 , L1242;
end;
consider C123 being (XFinSequence of ( NAT )) such that L1244: ( dom C123 ) = ( dom C122 ) and L1245: (for R5 being Nat holds (R5 in ( dom C123 ) implies ( C123 . R5 ) = ( card ( C122 . R5 ) ))) and L1246: ( card ( union ( rng C122 ) ) ) = ( Sum C123 ) by L1207 , L1239 , L1223;
take C123;
thus L1247: ( dom C123 ) = ( card F21() ) by L1214 , L1222 , L1244 , CARD_1:def 2;
thus L1248: ( card { B138 where B138 is (Function of F20() , F21()) : P5[ B138 ] } ) = ( Sum C123 )
proof
set D78 = { B139 where B139 is (Function of F20() , F21()) : P5[ B139 ] };
L1249: D78 c= ( union ( rng C122 ) )
proof
let R15 being set;
assume L1250: R15 in D78;
consider C124 being (Function of F20() , F21()) such that L1251: R15 = C124 and L1252: P5[ C124 ] by L1250;
L1253: ( card D76 ) = D76 by CARD_1:def 2;
L1254: ( rng F23() ) = F21() by L1211 , FUNCT_2:def 3;
L1255: ( card F21() ) = ( card D76 ) by L1214 , CARD_1:5;
L1256: ( dom C124 ) = F20() by L1212 , FUNCT_2:def 1;
L1257: ( C124 . F22() ) in ( rng C124 ) by L1256 , L1213 , FUNCT_1:def 3;
consider R16 being set such that L1258: R16 in ( dom F23() ) and L1259: ( F23() . R16 ) = ( C124 . F22() ) by L1257 , L1254 , FUNCT_1:def 3;
L1260: ( C122 . R16 ) = { B140 where B140 is (Function of F20() , F21()) : (P5[ B140 ] & ( B140 . F22() ) = ( F23() . R16 )) } by L1222 , L1255 , L1253 , L1258;
L1261: C124 in ( C122 . R16 ) by L1260 , L1252 , L1259;
L1262: ( C122 . R16 ) in ( rng C122 ) by L1222 , L1258 , L1255 , L1253 , FUNCT_1:def 3;
thus L1263: thesis by L1262 , L1251 , L1261 , TARSKI:def 4;
end;
L1264: ( union ( rng C122 ) ) c= D78
proof
let R15 being set;
assume L1265: R15 in ( union ( rng C122 ) );
consider C125 being set such that L1266: R15 in C125 and L1267: C125 in ( rng C122 ) by L1265 , TARSKI:def 4;
consider C126 being set such that L1268: C126 in ( dom C122 ) and L1269: ( C122 . C126 ) = C125 by L1267 , FUNCT_1:def 3;
L1270: C125 = { B141 where B141 is (Function of F20() , F21()) : (P5[ B141 ] & ( B141 . F22() ) = ( F23() . C126 )) } by L1222 , L1268 , L1269;
L1271: (ex B142 being (Function of F20() , F21()) st (R15 = B142 & P5[ B142 ] & ( B142 . F22() ) = ( F23() . C126 ))) by L1270 , L1266;
thus L1272: thesis by L1271;
end;
thus L1273: thesis by L1264 , L1246 , L1249 , XBOOLE_0:def 10;
end;

L1274: (for R5 being Nat holds (R5 in ( dom C123 ) implies ( C123 . R5 ) = ( card { B143 where B143 is (Function of F20() , F21()) : (P5[ B143 ] & ( B143 . F22() ) = ( F23() . R5 )) } )))
proof
let R5 being Nat;
assume that
L1275: R5 in ( dom C123 );
L1276: ( C122 . R5 ) = { B144 where B144 is (Function of F20() , F21()) : (P5[ B144 ] & ( B144 . F22() ) = ( F23() . R5 )) } by L1222 , L1244 , L1275;
thus L1277: thesis by L1276 , L1245 , L1275;
end;
thus L1278: thesis by L1274;
end;
theorem
L1279: (for R1 being Nat holds (for R4 being Nat holds ( R1 * ( R4 block R1 ) ) = ( card { B145 where B145 is (Function of ( R4 + 1 ) , R1) : (B145 is  onto  "increasing & ( B145 " { ( B145 . R4 ) } ) <> { R4 }) } )))
proof
let R1 being Nat;
let R4 being Nat;
L1280:
now
per cases ;
suppose L1281: R1 = ( 0 );

set D79 = { B146 where B146 is (Function of ( R4 + 1 ) , R1) : B146 is  onto  "increasing };
set D80 = { B147 where B147 is (Function of ( R4 + 1 ) , R1) : (B147 is  onto  "increasing & ( B147 " { ( B147 . R4 ) } ) <> { R4 }) };
L1282: D80 c= D79
proof
let R15 being set;
assume L1283: R15 in D80;
L1284: (ex B148 being (Function of ( R4 + 1 ) , R1) st (R15 = B148 & B148 is  onto  "increasing & ( B148 " { ( B148 . R4 ) } ) <> { R4 })) by L1283;
thus L1285: thesis by L1284;
end;
L1286: ( card D79 ) = ( ( R4 + 1 ) block R1 );
L1287: D79 is  empty by L1286 , L1281 , L435;
thus L1288: thesis by L1287 , L1281 , L1282;
end;
suppose L1289: R1 > ( 0 );

L1290: R1 is non  empty by L1289;
set D81 = { B149 where B149 is (Function of ( R4 + 1 ) , R1) : (B149 is  onto  "increasing & ( B149 " { ( B149 . R4 ) } ) <> { R4 }) };
defpred S12[ set ] means (ex B150 being (Function of ( R4 + 1 ) , R1) st (B150 = $1 & B150 is  onto  "increasing & ( B150 " { ( B150 . R4 ) } ) <> { R4 }));
L1291: R4 < ( R4 + 1 ) by NAT_1:13;
L1292: R4 in ( R4 + 1 ) by L1291 , NAT_1:44;
L1293: ( card R1 ) , R1 are_equipotent  by CARD_1:def 2;
consider C127 being Function such that L1294: C127 is  one-to-one and L1295: ( dom C127 ) = ( card R1 ) and L1296: ( rng C127 ) = R1 by L1293 , WELLORD2:def 4;
reconsider D82 = C127 as (Function of ( card R1 ) , R1) by L1295 , L1296 , FUNCT_2:1;
L1297: D82 is  onto  one-to-one by L1294 , L1296 , FUNCT_2:def 3;
consider C128 being (XFinSequence of ( NAT )) such that L1298: ( dom C128 ) = ( card R1 ) and L1299: ( card { B151 where B151 is (Function of ( R4 + 1 ) , R1) : S12[ B151 ] } ) = ( Sum C128 ) and L1300: (for R5 being Nat holds (R5 in ( dom C128 ) implies ( C128 . R5 ) = ( card { B152 where B152 is (Function of ( R4 + 1 ) , R1) : (S12[ B152 ] & ( B152 . R4 ) = ( D82 . R5 )) } ))) from Sch8(L1297 , L1290 , L1292);
L1301: (for B153 being Nat holds (B153 in ( dom C128 ) implies ( C128 . B153 ) = ( R4 block R1 )))
proof
set D83 = { B154 where B154 is (Function of R4 , R1) : B154 is  onto  "increasing };
let C129 being Nat;
assume that
L1302: C129 in ( dom C128 );
L1303: ( D82 . C129 ) in ( rng D82 ) by L1295 , L1298 , L1302 , FUNCT_1:def 3;
L1304: R1 is (Subset of ( NAT )) by L61;
reconsider D84 = ( D82 . C129 ) as (Element of ( NAT )) by L1304 , L1296 , L1303;
L1305: D84 < R1 by L1303 , NAT_1:44;
set D85 = { B155 where B155 is (Function of ( R4 + 1 ) , R1) : (S12[ B155 ] & ( B155 . R4 ) = D84) };
set D86 = { B156 where B156 is (Function of ( R4 + 1 ) , R1) : (B156 is  onto  "increasing & ( B156 " { ( B156 . R4 ) } ) <> { R4 } & ( B156 . R4 ) = D84) };
L1306: D85 c= D86
proof
let R15 being set;
assume L1307: R15 in D85;
L1308: (ex B157 being (Function of ( R4 + 1 ) , R1) st (R15 = B157 & S12[ B157 ] & ( B157 . R4 ) = D84)) by L1307;
thus L1309: thesis by L1308;
end;
L1310: D86 c= D85
proof
let R15 being set;
assume L1311: R15 in D86;
L1312: (ex B158 being (Function of ( R4 + 1 ) , R1) st (R15 = B158 & B158 is  onto  "increasing & ( B158 " { ( B158 . R4 ) } ) <> { R4 } & ( B158 . R4 ) = D84)) by L1311;
thus L1313: thesis by L1312;
end;
L1314: D86 = D85 by L1310 , L1306 , XBOOLE_0:def 10;
L1315: ( card D85 ) = ( card D83 ) by L1314 , L1305 , L1097;
thus L1316: thesis by L1315 , L1300 , L1302;
end;
L1317: (for B159 being Nat holds (B159 in ( dom C128 ) implies ( C128 . B159 ) <= ( R4 block R1 ))) by L1301;
L1318: ( Sum C128 ) <= ( ( len C128 ) * ( R4 block R1 ) ) by L1317 , AFINSQ_2:59;
set D87 = { B160 where B160 is (Function of ( R4 + 1 ) , R1) : S12[ B160 ] };
L1319: D81 c= D87
proof
let R15 being set;
assume L1320: R15 in D81;
L1321: (ex B161 being (Function of ( R4 + 1 ) , R1) st (R15 = B161 & B161 is  onto  "increasing & ( B161 " { ( B161 . R4 ) } ) <> { R4 })) by L1320;
thus L1322: thesis by L1321;
end;
L1323: D87 c= D81
proof
let R15 being set;
assume L1324: R15 in D87;
L1325: (ex B162 being (Function of ( R4 + 1 ) , R1) st (R15 = B162 & S12[ B162 ])) by L1324;
thus L1326: thesis by L1325;
end;
L1327: (for B163 being Nat holds (B163 in ( dom C128 ) implies ( C128 . B163 ) >= ( R4 block R1 ))) by L1301;
L1328: ( Sum C128 ) >= ( ( len C128 ) * ( R4 block R1 ) ) by L1327 , AFINSQ_2:60;
L1329: ( card R1 ) = R1 by CARD_1:def 2;
L1330: ( Sum C128 ) = ( R1 * ( R4 block R1 ) ) by L1329 , L1298 , L1318 , L1328 , XXREAL_0:1;
thus L1331: thesis by L1330 , L1299 , L1319 , L1323 , XBOOLE_0:def 10;
end;
end;
thus L1333: thesis by L1280;
end;
theorem
L1334: (for R1 being Nat holds (for R4 being Nat holds ( ( R4 + 1 ) block ( R1 + 1 ) ) = ( ( ( R1 + 1 ) * ( R4 block ( R1 + 1 ) ) ) + ( R4 block R1 ) )))
proof
let R1 being Nat;
let R4 being Nat;
set D88 = { B164 where B164 is (Function of ( R4 + 1 ) , ( R1 + 1 )) : B164 is  onto  "increasing };
set D89 = { B165 where B165 is (Function of ( R4 + 1 ) , ( R1 + 1 )) : (B165 is  onto  "increasing & ( B165 " { ( B165 . R4 ) } ) = { R4 }) };
set D90 = { B166 where B166 is (Function of ( R4 + 1 ) , ( R1 + 1 )) : (B166 is  onto  "increasing & ( B166 " { ( B166 . R4 ) } ) <> { R4 }) };
L1335: D88 c= ( D89 \/ D90 )
proof
let R15 being set;
assume L1336: R15 in D88;
consider C130 being (Function of ( R4 + 1 ) , ( R1 + 1 )) such that L1337: C130 = R15 and L1338: C130 is  onto  "increasing by L1336;
L1339: (( C130 " { ( C130 . R4 ) } ) = { R4 } or ( C130 " { ( C130 . R4 ) } ) <> { R4 });
L1340: (C130 in D89 or C130 in D90) by L1339 , L1338;
thus L1341: thesis by L1340 , L1337 , XBOOLE_0:def 3;
end;
L1342: ( D89 \/ D90 ) c= D88
proof
let R15 being set;
assume L1343: R15 in ( D89 \/ D90 );
L1344: (R15 in D89 or R15 in D90) by L1343 , XBOOLE_0:def 3;
L1345: ((ex B167 being (Function of ( R4 + 1 ) , ( R1 + 1 )) st (B167 = R15 & B167 is  onto  "increasing & ( B167 " { ( B167 . R4 ) } ) = { R4 })) or (ex B168 being (Function of ( R4 + 1 ) , ( R1 + 1 )) st (B168 = R15 & B168 is  onto  "increasing & ( B168 " { ( B168 . R4 ) } ) <> { R4 }))) by L1344;
thus L1346: thesis by L1345;
end;
L1347: ( D89 \/ D90 ) = D88 by L1342 , L1335 , XBOOLE_0:def 10;
L1348: D89 misses D90
proof
assume L1349: D89 meets D90;
consider R15 being set such that L1350: R15 in ( D89 /\ D90 ) by L1349 , XBOOLE_0:4;
L1351: R15 in D90 by L1350 , XBOOLE_0:def 4;
L1352: (ex B169 being (Function of ( R4 + 1 ) , ( R1 + 1 )) st (B169 = R15 & B169 is  onto  "increasing & ( B169 " { ( B169 . R4 ) } ) <> { R4 })) by L1351;
L1353: R15 in D89 by L1350 , XBOOLE_0:def 4;
L1354: (ex B170 being (Function of ( R4 + 1 ) , ( R1 + 1 )) st (B170 = R15 & B170 is  onto  "increasing & ( B170 " { ( B170 . R4 ) } ) = { R4 })) by L1353;
thus L1355: contradiction by L1354 , L1352;
end;
L1356: D90 c= ( Funcs (( R4 + 1 ) , ( R1 + 1 )) )
proof
let R15 being set;
assume L1357: R15 in D90;
L1358: (ex B171 being (Function of ( R4 + 1 ) , ( R1 + 1 )) st (B171 = R15 & B171 is  onto  "increasing & ( B171 " { ( B171 . R4 ) } ) <> { R4 })) by L1357;
thus L1359: thesis by L1358 , FUNCT_2:8;
end;
L1360: D89 c= ( Funcs (( R4 + 1 ) , ( R1 + 1 )) )
proof
let R15 being set;
assume L1361: R15 in D89;
L1362: (ex B172 being (Function of ( R4 + 1 ) , ( R1 + 1 )) st (B172 = R15 & B172 is  onto  "increasing & ( B172 " { ( B172 . R4 ) } ) = { R4 })) by L1361;
thus L1363: thesis by L1362 , FUNCT_2:8;
end;
L1364: ( Funcs (( R4 + 1 ) , ( R1 + 1 )) ) is  finite by FRAENKEL:6;
reconsider D91 = D89 , D92 = D90 as  finite set by L1364 , L1360 , L1356;
reconsider D93 = ( R1 + 1 ) as (Element of ( NAT ));
L1365: ( card D92 ) = ( D93 * ( R4 block D93 ) ) by L1279;
L1366: ( card D91 ) = ( R4 block R1 ) by L1014;
thus L1367: thesis by L1366 , L1347 , L1348 , L1365 , CARD_2:40;
end;
theorem
L1368: (for R4 being Nat holds (R4 >= 1 implies ( R4 block 2 ) = ( ( 1 / 2 ) * ( ( 2 |^ R4 ) - 2 ) )))
proof
let R4 being Nat;
defpred S13[ Nat ] means ( $1 block 2 ) = ( ( 1 / 2 ) * ( ( 2 |^ $1 ) - 2 ) );
L1369: (for B173 being Nat holds ((B173 >= 1 & S13[ B173 ]) implies S13[ ( B173 + 1 ) ]))
proof
let C131 being Nat;
assume that
L1370: C131 >= 1
and
L1371: S13[ C131 ];
L1372: ( ( C131 + 1 ) block 2 ) = ( ( 2 * ( C131 block ( 1 + 1 ) ) ) + ( C131 block 1 ) ) by L1334
.= ( ( 2 * ( ( 1 / 2 ) * ( ( 2 |^ C131 ) - 2 ) ) ) + 1 ) by L1370 , L1371 , L443
.= ( ( 1 / 2 ) * ( ( 2 * ( 2 |^ C131 ) ) - 2 ) )
.= ( ( 1 / 2 ) * ( ( 2 |^ ( C131 + 1 ) ) - 2 ) ) by NEWTON:6;
thus L1373: thesis by L1372;
end;
L1374: ( 2 |^ 1 ) = 2 by NEWTON:5;
L1375: S13[ 1 ] by L1374 , L418;
L1376: (for B174 being Nat holds (B174 >= 1 implies S13[ B174 ])) from NAT_1:sch 8(L1375 , L1369);
thus L1377: thesis by L1376;
end;
theorem
L1378: (for R4 being Nat holds (R4 >= 2 implies ( R4 block 3 ) = ( ( 1 / 6 ) * ( ( ( 3 |^ R4 ) - ( 3 * ( 2 |^ R4 ) ) ) + 3 ) )))
proof
let R4 being Nat;
defpred S14[ Nat ] means ( $1 block 3 ) = ( ( 1 / 6 ) * ( ( ( 3 |^ $1 ) - ( 3 * ( 2 |^ $1 ) ) ) + 3 ) );
L1379: (for B175 being Nat holds ((B175 >= 2 & S14[ B175 ]) implies S14[ ( B175 + 1 ) ]))
proof
let C132 being Nat;
assume that
L1380: C132 >= 2
and
L1381: S14[ C132 ];
L1382: ( C132 block 2 ) = ( ( 1 / 2 ) * ( ( 2 |^ C132 ) - 2 ) ) by L1380 , L1368 , XXREAL_0:2;
thus L1383: ( ( C132 + 1 ) block 3 ) = ( ( 3 * ( C132 block ( 2 + 1 ) ) ) + ( ( 1 / 2 ) * ( ( 2 |^ C132 ) - 2 ) ) ) by L1382 , L1334
.= ( ( 1 / 6 ) * ( ( ( 3 * ( 3 |^ C132 ) ) - ( ( 3 * 2 ) * ( 2 |^ C132 ) ) ) + 3 ) ) by L1381
.= ( ( 1 / 6 ) * ( ( ( 3 |^ ( C132 + 1 ) ) - ( 3 * ( 2 * ( 2 |^ C132 ) ) ) ) + 3 ) ) by NEWTON:6
.= ( ( 1 / 6 ) * ( ( ( 3 |^ ( C132 + 1 ) ) - ( 3 * ( 2 |^ ( C132 + 1 ) ) ) ) + 3 ) ) by NEWTON:6;
end;
L1384: ( ( 1 / 6 ) * ( ( ( 3 |^ 2 ) - ( 3 * ( 2 |^ 2 ) ) ) + 3 ) ) = ( ( 1 / 6 ) * ( ( ( 3 * 3 ) - ( 3 * ( 2 |^ 2 ) ) ) + 3 ) ) by WSIERP_1:1
.= ( ( 1 / 6 ) * ( ( ( 3 * 3 ) - ( 3 * ( 2 * 2 ) ) ) + 3 ) ) by WSIERP_1:1
.= ( 2 block 3 ) by L418;
L1385: S14[ 2 ] by L1384;
L1386: (for B176 being Nat holds (B176 >= 2 implies S14[ B176 ])) from NAT_1:sch 8(L1385 , L1379);
thus L1387: thesis by L1386;
end;
L1388: (for R4 being Nat holds ( R4 |^ 3 ) = ( ( R4 * R4 ) * R4 ))
proof
let R4 being Nat;
reconsider D94 = R4 as (Element of ( NAT )) by ORDINAL1:def 12;
L1389: ( D94 |^ ( 2 + 1 ) ) = ( ( D94 |^ 2 ) * D94 ) by NEWTON:6
.= ( ( D94 * D94 ) * D94 ) by WSIERP_1:1;
thus L1390: thesis by L1389;
end;
theorem
L1391: (for R4 being Nat holds (R4 >= 3 implies ( R4 block 4 ) = ( ( 1 / 24 ) * ( ( ( ( 4 |^ R4 ) - ( 4 * ( 3 |^ R4 ) ) ) + ( 6 * ( 2 |^ R4 ) ) ) - 4 ) )))
proof
let R4 being Nat;
defpred S15[ Nat ] means ( $1 block 4 ) = ( ( 1 / 24 ) * ( ( ( ( 4 |^ $1 ) - ( 4 * ( 3 |^ $1 ) ) ) + ( 6 * ( 2 |^ $1 ) ) ) - 4 ) );
L1392: (for B177 being Nat holds ((B177 >= 3 & S15[ B177 ]) implies S15[ ( B177 + 1 ) ]))
proof
let C133 being Nat;
assume that
L1393: C133 >= 3
and
L1394: S15[ C133 ];
L1395: ( C133 block 3 ) = ( ( 1 / 6 ) * ( ( ( 3 |^ C133 ) - ( 3 * ( 2 |^ C133 ) ) ) + 3 ) ) by L1393 , L1378 , XXREAL_0:2;
thus L1396: ( ( C133 + 1 ) block 4 ) = ( ( 4 * ( C133 block ( 3 + 1 ) ) ) + ( ( 1 / 6 ) * ( ( ( 3 |^ C133 ) - ( 3 * ( 2 |^ C133 ) ) ) + 3 ) ) ) by L1395 , L1334
.= ( ( 1 / 24 ) * ( ( ( ( 4 * ( 4 |^ C133 ) ) - ( 4 * ( 3 * ( 3 |^ C133 ) ) ) ) + ( 6 * ( 2 * ( 2 |^ C133 ) ) ) ) - 4 ) ) by L1394
.= ( ( 1 / 24 ) * ( ( ( ( 4 |^ ( C133 + 1 ) ) - ( 4 * ( 3 * ( 3 |^ C133 ) ) ) ) + ( 6 * ( 2 * ( 2 |^ C133 ) ) ) ) - 4 ) ) by NEWTON:6
.= ( ( 1 / 24 ) * ( ( ( ( 4 |^ ( C133 + 1 ) ) - ( 4 * ( 3 |^ ( C133 + 1 ) ) ) ) + ( 6 * ( 2 * ( 2 |^ C133 ) ) ) ) - 4 ) ) by NEWTON:6
.= ( ( 1 / 24 ) * ( ( ( ( 4 |^ ( C133 + 1 ) ) - ( 4 * ( 3 |^ ( C133 + 1 ) ) ) ) + ( 6 * ( 2 |^ ( C133 + 1 ) ) ) ) - 4 ) ) by NEWTON:6;
end;
L1397: ( ( 1 / 24 ) * ( ( ( ( 4 |^ 3 ) - ( 4 * ( 3 |^ 3 ) ) ) + ( 6 * ( 2 |^ 3 ) ) ) - 4 ) ) = ( ( 1 / 24 ) * ( ( ( ( ( 4 * 4 ) * 4 ) - ( 4 * ( 3 |^ 3 ) ) ) + ( 6 * ( 2 |^ 3 ) ) ) - 4 ) ) by L1388
.= ( ( 1 / 24 ) * ( ( ( 64 - ( 4 * ( ( 3 * 3 ) * 3 ) ) ) + ( 6 * ( 2 |^ 3 ) ) ) - 4 ) ) by L1388
.= ( ( 1 / 24 ) * ( ( ( 64 - ( 4 * 27 ) ) + ( 6 * ( ( 2 * 2 ) * 2 ) ) ) - 4 ) ) by L1388
.= ( 3 block 4 ) by L418;
L1398: S15[ 3 ] by L1397;
L1399: (for B178 being Nat holds (B178 >= 3 implies S15[ B178 ])) from NAT_1:sch 8(L1398 , L1392);
thus L1400: thesis by L1399;
end;
theorem
L1401: (( 3 ! ) = 6 & ( 4 ! ) = 24)
proof
thus L1402: ( 3 ! ) = ( ( 2 + 1 ) ! )
.= ( 2 * 3 ) by NEWTON:14 , NEWTON:15
.= 6;
thus L1403: ( 4 ! ) = ( ( 3 + 1 ) ! )
.= ( 6 * 4 ) by L1402 , NEWTON:15
.= 24;
end;
theorem
L1404: (for R4 being Nat holds (( R4 choose 1 ) = R4 & ( R4 choose 2 ) = ( ( R4 * ( R4 - 1 ) ) / 2 ) & ( R4 choose 3 ) = ( ( ( R4 * ( R4 - 1 ) ) * ( R4 - 2 ) ) / 6 ) & ( R4 choose 4 ) = ( ( ( ( R4 * ( R4 - 1 ) ) * ( R4 - 2 ) ) * ( R4 - 3 ) ) / 24 )))
proof
let R4 being Nat;
L1405:
now
per cases  by NAT_1:27;
suppose L1406: R4 = ( 0 );

thus L1407: thesis by L1406 , NEWTON:def 3;
end;
suppose L1408: R4 = 1;

thus L1409: thesis by L1408 , NEWTON:21 , NEWTON:def 3;
end;
suppose L1410: R4 = 2;

thus L1411: thesis by L1410 , NEWTON:21 , NEWTON:23 , NEWTON:def 3;
end;
suppose L1412: R4 = 3;

reconsider D95 = ( R4 - 1 ) , D96 = ( R4 - 2 ) as (Element of ( NAT )) by L1412 , NAT_1:20;
L1413: ( ( D96 + 1 ) ! ) = ( ( D96 ! ) * ( D96 + 1 ) ) by NEWTON:15;
L1414: ( D96 ! ) <> ( 0 ) by NEWTON:17;
L1415: ( ( D96 ! ) / ( D96 ! ) ) = 1 by L1414 , XCMPLX_1:60;
L1416: ( ( D95 + 1 ) ! ) = ( ( D95 ! ) * R4 ) by NEWTON:15;
L1417: ( R4 choose 2 ) = ( ( ( D96 ! ) * ( ( R4 - 1 ) * R4 ) ) / ( ( D96 ! ) * ( 2 ! ) ) ) by L1416 , L1412 , L1413 , NEWTON:def 3
.= ( ( ( ( D96 ! ) / ( D96 ! ) ) * ( ( R4 - 1 ) * R4 ) ) / 2 ) by NEWTON:14 , XCMPLX_1:83
.= ( ( ( R4 - 1 ) * R4 ) / 2 ) by L1415;
thus L1418: thesis by L1417 , L1412 , NEWTON:21 , NEWTON:23 , NEWTON:def 3;
end;
suppose L1419: R4 > 3;

L1420: R4 >= ( 3 + 1 ) by L1419 , NAT_1:13;
reconsider D97 = ( R4 - 1 ) , D98 = ( R4 - 2 ) , D99 = ( R4 - 3 ) , D100 = ( R4 - 4 ) as (Element of ( NAT )) by L1420 , NAT_1:21 , XXREAL_0:2;
L1421: ( ( D97 + 1 ) ! ) = ( ( D97 ! ) * R4 ) by NEWTON:15;
L1422: ( ( D98 + 1 ) ! ) = ( ( D98 ! ) * ( D98 + 1 ) ) by NEWTON:15;
L1423: ( D98 ! ) <> ( 0 ) by NEWTON:17;
L1424: ( ( D98 ! ) / ( D98 ! ) ) = 1 by L1423 , XCMPLX_1:60;
L1425: R4 >= 2 by L1419 , XXREAL_0:2;
L1426: ( R4 choose 2 ) = ( ( ( D98 ! ) * ( D97 * R4 ) ) / ( ( D98 ! ) * ( 2 ! ) ) ) by L1425 , L1421 , L1422 , NEWTON:def 3
.= ( ( ( ( D98 ! ) / ( D98 ! ) ) * ( D97 * R4 ) ) / 2 ) by NEWTON:14 , XCMPLX_1:83
.= ( ( R4 * D97 ) / 2 ) by L1424;
L1427: ( D100 ! ) <> ( 0 ) by NEWTON:17;
L1428: ( ( D100 ! ) / ( D100 ! ) ) = 1 by L1427 , XCMPLX_1:60;
L1429: ( ( D100 + 1 ) ! ) = ( ( D100 ! ) * ( D100 + 1 ) ) by NEWTON:15;
L1430: ( D99 ! ) <> ( 0 ) by NEWTON:17;
L1431: ( ( D99 ! ) / ( D99 ! ) ) = 1 by L1430 , XCMPLX_1:60;
L1432: ( ( D99 + 1 ) ! ) = ( ( D99 ! ) * ( D99 + 1 ) ) by NEWTON:15;
L1433: ( R4 choose 3 ) = ( ( ( D99 ! ) * ( ( D98 * D97 ) * R4 ) ) / ( ( D99 ! ) * ( 3 ! ) ) ) by L1432 , L1419 , L1421 , L1422 , NEWTON:def 3
.= ( ( ( ( D99 ! ) / ( D99 ! ) ) * ( ( D98 * D97 ) * R4 ) ) / 6 ) by L1401 , XCMPLX_1:83
.= ( ( ( R4 * D97 ) * D98 ) / 6 ) by L1431;
L1434: R4 >= ( 3 + 1 ) by L1419 , NAT_1:13;
L1435: ( R4 choose 4 ) = ( ( ( D100 ! ) * ( ( ( D99 * D98 ) * D97 ) * R4 ) ) / ( ( D100 ! ) * ( 4 ! ) ) ) by L1434 , L1421 , L1422 , L1432 , L1429 , NEWTON:def 3
.= ( ( ( ( D100 ! ) / ( D100 ! ) ) * ( ( ( D99 * D98 ) * D97 ) * R4 ) ) / 24 ) by L1401 , XCMPLX_1:83
.= ( ( ( ( R4 * D97 ) * D98 ) * D99 ) / 24 ) by L1428;
thus L1436: thesis by L1435 , L1419 , L1426 , L1433 , NEWTON:23 , XXREAL_0:2;
end;
end;
thus L1438: thesis by L1405;
end;
theorem
L1439: (for R4 being Nat holds ( ( R4 + 1 ) block R4 ) = ( ( R4 + 1 ) choose 2 ))
proof
let R4 being Nat;
defpred S16[ Nat ] means ( ( $1 + 1 ) block $1 ) = ( ( $1 + 1 ) choose 2 );
L1440: (for R1 being Nat holds (S16[ R1 ] implies S16[ ( R1 + 1 ) ]))
proof
let R1 being Nat;
assume that
L1441: S16[ R1 ];
set D101 = ( R1 + 1 );
thus L1442: ( ( D101 + 1 ) block D101 ) = ( ( D101 * ( D101 block D101 ) ) + ( D101 block R1 ) ) by L1334
.= ( ( D101 * 1 ) + ( D101 choose 2 ) ) by L1441 , L397
.= ( D101 + ( ( D101 * ( D101 - 1 ) ) / 2 ) ) by L1404
.= ( ( ( D101 + 1 ) * ( ( D101 + 1 ) - 1 ) ) / 2 )
.= ( ( D101 + 1 ) choose 2 ) by L1404;
end;
L1443: ( 1 block ( 0 ) ) = ( 0 ) by L435;
L1444: S16[ ( 0 ) ] by L1443 , NEWTON:def 3;
L1445: (for R1 being Nat holds S16[ R1 ]) from NAT_1:sch 2(L1444 , L1440);
thus L1446: thesis by L1445;
end;
theorem
L1447: (for R4 being Nat holds ( ( R4 + 2 ) block R4 ) = ( ( 3 * ( ( R4 + 2 ) choose 4 ) ) + ( ( R4 + 2 ) choose 3 ) ))
proof
let R4 being Nat;
defpred S17[ Nat ] means ( ( $1 + 2 ) block $1 ) = ( ( 3 * ( ( $1 + 2 ) choose 4 ) ) + ( ( $1 + 2 ) choose 3 ) );
L1448: ( 2 choose 3 ) = ( 0 ) by NEWTON:def 3;
L1449: (for R1 being Nat holds (S17[ R1 ] implies S17[ ( R1 + 1 ) ]))
proof
let R1 being Nat;
assume that
L1450: S17[ R1 ];
set D102 = ( R1 + 1 );
set D103 = ( R1 + 2 );
set D104 = ( D103 + 1 );
L1451: ( D102 * ( ( D102 + 1 ) block D102 ) ) = ( D102 * ( D103 choose 2 ) ) by L1439
.= ( D102 * ( ( D103 * ( D103 - 1 ) ) / 2 ) ) by L1404
.= ( ( D103 * ( D103 - 1 ) ) * ( ( D102 * 12 ) / 24 ) );
L1452: ( D103 block R1 ) = ( ( 3 * ( ( ( ( D103 * ( D103 - 1 ) ) * ( D103 - 2 ) ) * ( D103 - 3 ) ) / 24 ) ) + ( D103 choose 3 ) ) by L1450 , L1404
.= ( ( 3 * ( ( ( ( D103 * ( D103 - 1 ) ) * ( D103 - 2 ) ) * ( D103 - 3 ) ) / 24 ) ) + ( ( ( D103 * ( D103 - 1 ) ) * ( D103 - 2 ) ) / 6 ) ) by L1404
.= ( ( D103 * ( D103 - 1 ) ) * ( ( ( ( 3 * ( D103 - 2 ) ) * ( D103 - 3 ) ) / 24 ) + ( ( 4 * ( D103 - 2 ) ) / 24 ) ) );
L1453: ( D104 block D102 ) = ( ( ( D103 * D102 ) * ( ( D102 * 12 ) / 24 ) ) + ( ( D103 * D102 ) * ( ( ( ( 3 * R1 ) * ( D103 - 3 ) ) / 24 ) + ( ( 4 * R1 ) / 24 ) ) ) ) by L1452 , L1451 , L1334
.= ( ( 3 * ( ( ( ( D104 * ( D104 - 1 ) ) * ( D104 - 2 ) ) * ( D104 - 3 ) ) / 24 ) ) + ( ( ( D104 * D103 ) * D102 ) / 6 ) )
.= ( ( 3 * ( D104 choose 4 ) ) + ( ( ( D104 * ( D104 - 1 ) ) * ( D104 - 2 ) ) / 6 ) ) by L1404
.= ( ( 3 * ( D104 choose 4 ) ) + ( D104 choose 3 ) ) by L1404;
thus L1454: thesis by L1453;
end;
L1455: ( 2 choose 4 ) = ( 0 ) by NEWTON:def 3;
L1456: S17[ ( 0 ) ] by L1455 , L1448 , L435;
L1457: (for R1 being Nat holds S17[ R1 ]) from NAT_1:sch 2(L1456 , L1449);
thus L1458: thesis by L1457;
end;
theorem
L1459: (for B179 being Function holds (for R16 being set holds (( rng ( B179 | ( ( dom B179 ) \ ( B179 " { R16 } ) ) ) ) = ( ( rng B179 ) \ { R16 } ) & (for R15 being set holds (R15 <> R16 implies ( ( B179 | ( ( dom B179 ) \ ( B179 " { R16 } ) ) ) " { R15 } ) = ( B179 " { R15 } ))))))
proof
let C134 being Function;
let R16 being set;
set D105 = ( ( dom C134 ) \ ( C134 " { R16 } ) );
L1460: ( rng ( C134 | D105 ) ) c= ( ( rng C134 ) \ { R16 } )
proof
let C135 being set;
assume L1461: C135 in ( rng ( C134 | D105 ) );
consider R15 being set such that L1462: R15 in ( dom ( C134 | D105 ) ) and L1463: C135 = ( ( C134 | D105 ) . R15 ) by L1461 , FUNCT_1:def 3;
L1464: R15 in ( ( dom C134 ) /\ D105 ) by L1462 , RELAT_1:61;
L1465: R15 in ( ( ( dom C134 ) /\ ( dom C134 ) ) \ ( C134 " { R16 } ) ) by L1464 , XBOOLE_1:49;
L1466: (not R15 in ( C134 " { R16 } )) by L1465 , XBOOLE_0:def 5;
L1467: (not ( C134 . R15 ) in { R16 }) by L1466 , L1464 , FUNCT_1:def 7;
L1468: (not C135 in { R16 }) by L1467 , L1462 , L1463 , FUNCT_1:47;
L1469: ( C134 . R15 ) in ( rng C134 ) by L1464 , FUNCT_1:def 3;
L1470: C135 in ( rng C134 ) by L1469 , L1462 , L1463 , FUNCT_1:47;
thus L1471: thesis by L1470 , L1468 , XBOOLE_0:def 5;
end;
L1472: ( ( rng C134 ) \ { R16 } ) c= ( rng ( C134 | D105 ) )
proof
let C136 being set;
assume that
L1473: C136 in ( ( rng C134 ) \ { R16 } );
consider R15 being set such that L1474: R15 in ( dom C134 ) and L1475: ( C134 . R15 ) = C136 by L1473 , FUNCT_1:def 3;
L1476: (not C136 in { R16 }) by L1473 , XBOOLE_0:def 5;
L1477: (not R15 in ( C134 " { R16 } )) by L1476 , L1475 , FUNCT_1:def 7;
L1478: R15 in D105 by L1477 , L1474 , XBOOLE_0:def 5;
L1479: R15 in ( ( dom C134 ) /\ D105 ) by L1478 , XBOOLE_0:def 4;
L1480: R15 in ( dom ( C134 | D105 ) ) by L1479 , RELAT_1:61;
L1481: ( ( C134 | D105 ) . R15 ) in ( rng ( C134 | D105 ) ) by L1480 , FUNCT_1:def 3;
thus L1482: thesis by L1481 , L1475 , L1480 , FUNCT_1:47;
end;
thus L1483: ( rng ( C134 | D105 ) ) = ( ( rng C134 ) \ { R16 } ) by L1472 , L1460 , XBOOLE_0:def 10;
let R15 being set;
assume that
L1484: R15 <> R16;
L1485:
now
let C137 being set;
assume that
L1486: C137 in ( C134 " { R15 } );
L1487: ( C134 . C137 ) in { R15 } by L1486 , FUNCT_1:def 7;
L1488: ( C134 . C137 ) <> R16 by L1487 , L1484 , TARSKI:def 1;
L1489: (not ( C134 . C137 ) in { R16 }) by L1488 , TARSKI:def 1;
L1490: (not C137 in ( C134 " { R16 } )) by L1489 , FUNCT_1:def 7;
L1491: C137 in ( dom C134 ) by L1486 , FUNCT_1:def 7;
thus L1492: C137 in ( ( dom C134 ) \ ( C134 " { R16 } ) ) by L1491 , L1490 , XBOOLE_0:def 5;
end;
L1493: ( C134 " { R15 } ) c= D105 by L1485 , TARSKI:def 3;
thus L1494: thesis by L1493 , FUNCT_2:98;
end;
theorem
L1495: (for R1 being Nat holds (for R12 being set holds (for R15 being set holds ((( card R12 ) = ( R1 + 1 ) & R15 in R12) implies ( card ( R12 \ { R15 } ) ) = R1))))
proof
let R1 being Nat;
let R12 being set;
let R15 being set;
assume that
L1496: ( card R12 ) = ( R1 + 1 )
and
L1497: R15 in R12;
reconsider D106 = R12 as  finite set by L1496;
set D107 = ( D106 \ { R15 } );
L1498: { R15 } c= R12 by L1497 , ZFMISC_1:31;
L1499: ( { R15 } /\ R12 ) = { R15 } by L1498 , XBOOLE_1:28;
L1500: ( D107 \/ { R15 } ) = R12 by L1499 , XBOOLE_1:51;
L1501: ( ( card { R15 } ) + ( card D107 ) ) = ( R1 + 1 ) by L1500 , L1496 , CARD_2:40 , XBOOLE_1:79;
L1502: ( card { R15 } ) = 1 by CARD_1:30;
thus L1503: thesis by L1502 , L1501;
end;
scheme Sch9 { P6[set] , P7[set , Function] } : (for B180 being Function holds (( rng B180 ) is  finite implies P6[ B180 ]))
provided
L1504: P6[ ( {} ) ]
and
L1505: (for B181 being Function holds ((for R15 being set holds ((R15 in ( rng B181 ) & P7[ R15 , B181 ]) implies P6[ ( B181 | ( ( dom B181 ) \ ( B181 " { R15 } ) ) ) ])) implies P6[ B181 ]))
proof
defpred S18[ Nat ] means (for B182 being Function holds (( card ( rng B182 ) ) = $1 implies P6[ B182 ]));
L1506: (for R4 being Nat holds (S18[ R4 ] implies S18[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L1507: S18[ R4 ];
let C138 being Function;
assume that
L1508: ( card ( rng C138 ) ) = ( R4 + 1 );
L1509: (for R15 being set holds ((R15 in ( rng C138 ) & P7[ R15 , C138 ]) implies P6[ ( C138 | ( ( dom C138 ) \ ( C138 " { R15 } ) ) ) ]))
proof
let R15 being set;
assume that
L1510: R15 in ( rng C138 )
and
L1511: P7[ R15 , C138 ];
set D108 = ( ( dom C138 ) \ ( C138 " { R15 } ) );
L1512: ( card ( ( rng C138 ) \ { R15 } ) ) = R4 by L1508 , L1510 , L1495;
L1513: ( card ( rng ( C138 | D108 ) ) ) = R4 by L1512 , L1459;
thus L1514: thesis by L1513 , L1507;
end;
thus L1515: thesis by L1509 , L1505;
end;
let C139 being Function;
assume L1516: ( rng C139 ) is  finite;
consider C140 being Nat such that L1517: ( rng C139 ) , C140 are_equipotent  by L1516 , CARD_1:43;
L1518: ( card ( rng C139 ) ) = C140 by L1517 , CARD_1:def 2;
L1519: S18[ ( 0 ) ]
proof
let C141 being Function;
assume L1520: ( card ( rng C141 ) ) = ( 0 );
L1521: ( rng C141 ) = ( {} ) by L1520;
thus L1522: thesis by L1521 , L1504 , RELAT_1:41;
end;
L1523: (for R1 being Nat holds S18[ R1 ]) from NAT_1:sch 2(L1519 , L1506);
thus L1524: thesis by L1523 , L1518;
end;
theorem
L1525: (for B183 being (Subset of ( NAT )) holds (B183 is  finite implies (ex R1 being Nat st (for R4 being Nat holds (R4 in B183 implies R4 <= R1)))))
proof
let C142 being (Subset of ( NAT ));
assume L1526: C142 is  finite;
consider C143 being Nat such that L1527: C142 , C143 are_equipotent  by L1526 , CARD_1:43;
consider C144 being Function such that L1528: C144 is  one-to-one and L1529: ( dom C144 ) = C143 and L1530: ( rng C144 ) = C142 by L1527 , WELLORD2:def 4;
reconsider D109 = C144 as XFinSequence by L1529 , AFINSQ_1:5;
reconsider D110 = D109 as (XFinSequence of ( NAT )) by L1530 , RELAT_1:def 19;
reconsider D111 = ( Sum D110 ) as (Element of ( NAT )) by ORDINAL1:def 12;
take D111;
let R4 being Nat;
assume that
L1531: R4 in C142;
L1532: D110 <> ( 0 ) by L1530 , L1531;
L1533: ( len D110 ) > ( 0 ) by L1532;
L1534: (ex R15 being set st (R15 in ( dom D110 ) & ( D110 . R15 ) = R4)) by L1530 , L1531 , FUNCT_1:def 3;
thus L1535: thesis by L1534 , L1533 , AFINSQ_2:61;
end;
theorem
L1536: (for R12 being set holds (for R13 being set holds (for R15 being set holds (for R16 being set holds (((R13 is  empty implies R12 is  empty) & (not R15 in R12)) implies (for B184 being (Function of R12 , R13) holds (ex B185 being (Function of ( R12 \/ { R15 } ) , ( R13 \/ { R16 } )) st (( B185 | R12 ) = B184 & ( B185 . R15 ) = R16))))))))
proof
let R12 being set;
let R13 being set;
let R15 being set;
let R16 being set;
assume that
L1537: (R13 is  empty implies R12 is  empty)
and
L1538: (not R15 in R12);
set D112 = ( R13 \/ { R16 } );
set D113 = ( R12 \/ { R15 } );
deffunc H2(set) = R16;
let C145 being (Function of R12 , R13);
L1539: R16 in { R16 } by TARSKI:def 1;
L1540: (for B186 being set holds (B186 in ( D113 \ R12 ) implies H2(B186) in D112)) by L1539 , XBOOLE_0:def 3;
L1541: (R12 c= D113 & R13 c= D112) by XBOOLE_1:7;
consider C146 being (Function of D113 , D112) such that L1542: (( C146 | R12 ) = C145 & (for B187 being set holds (B187 in ( D113 \ R12 ) implies ( C146 . B187 ) = H2(B187)))) from Sch2(L1540 , L1541 , L1537);
L1543: R15 in { R15 } by TARSKI:def 1;
L1544: R15 in D113 by L1543 , XBOOLE_0:def 3;
L1545: R15 in ( D113 \ R12 ) by L1544 , L1538 , XBOOLE_0:def 5;
L1546: ( C146 . R15 ) = R16 by L1545 , L1542;
thus L1547: thesis by L1546 , L1542;
end;
theorem
L1548: (for R12 being set holds (for R13 being set holds (for R15 being set holds (for R16 being set holds ((R13 is  empty implies R12 is  empty) implies (for B188 being (Function of R12 , R13) holds (for B189 being (Function of ( R12 \/ { R15 } ) , ( R13 \/ { R16 } )) holds ((( B189 | R12 ) = B188 & ( B189 . R15 ) = R16) implies ((B188 is  onto implies B189 is  onto) & (((not R16 in R13) & B188 is  one-to-one) implies B189 is  one-to-one))))))))))
proof
let R12 being set;
let R13 being set;
let R15 being set;
let R16 being set;
assume that
L1549: (R13 is  empty implies R12 is  empty);
let C147 being (Function of R12 , R13);
let C148 being (Function of ( R12 \/ { R15 } ) , ( R13 \/ { R16 } ));
assume that
L1550: ( C148 | R12 ) = C147
and
L1551: ( C148 . R15 ) = R16;
thus L1552: (C147 is  onto implies C148 is  onto)
proof
assume L1553: C147 is  onto;
L1554: ( R13 \/ { R16 } ) c= ( rng C148 )
proof
let C149 being set;
assume that
L1555: C149 in ( R13 \/ { R16 } );
L1556:
now
per cases  by L1555 , XBOOLE_0:def 3;
suppose L1557: C149 in R13;

L1558: C149 in ( rng C147 ) by L1557 , L1553 , FUNCT_2:def 3;
consider C150 being set such that L1559: C150 in ( dom C147 ) and L1560: ( C147 . C150 ) = C149 by L1558 , FUNCT_1:def 3;
L1561: C150 in R12 by L1559;
L1562: ( dom C148 ) = ( R12 \/ { R15 } ) by FUNCT_2:def 1;
L1563: R12 c= ( R12 \/ { R15 } ) by XBOOLE_1:7;
L1564: ( C148 . C150 ) = ( C147 . C150 ) by L1550 , L1559 , FUNCT_1:47;
thus L1565: thesis by L1564 , L1560 , L1561 , L1563 , L1562 , FUNCT_1:def 3;
end;
suppose L1566: C149 in { R16 };

L1567: ( dom C148 ) = ( R12 \/ { R15 } ) by FUNCT_2:def 1;
L1568: { R15 } c= ( R12 \/ { R15 } ) by XBOOLE_1:7;
L1569: R15 in { R15 } by TARSKI:def 1;
L1570: C149 = R16 by L1566 , TARSKI:def 1;
thus L1571: thesis by L1570 , L1551 , L1567 , L1569 , L1568 , FUNCT_1:def 3;
end;
end;
thus L1573: thesis by L1556;
end;
L1574: ( R13 \/ { R16 } ) = ( rng C148 ) by L1554 , XBOOLE_0:def 10;
thus L1575: thesis by L1574 , FUNCT_2:def 3;
end;

thus L1576: (((not R16 in R13) & C147 is  one-to-one) implies C148 is  one-to-one)
proof
assume that
L1577: (not R16 in R13)
and
L1578: C147 is  one-to-one;
let C151 , C152 being set;
assume that
L1579: C151 in ( dom C148 )
and
L1580: C152 in ( dom C148 )
and
L1581: ( C148 . C151 ) = ( C148 . C152 );
L1582: (for B190 being set holds (B190 in R12 implies (B190 in ( dom C147 ) & ( C147 . B190 ) = ( C148 . B190 ) & ( C148 . B190 ) <> R16)))
proof
let C153 being set;
assume that
L1583: C153 in R12;
L1584: C153 in ( dom C147 ) by L1549 , L1583 , FUNCT_2:def 1;
L1585: ( C147 . C153 ) in ( rng C147 ) by L1584 , FUNCT_1:def 3;
L1586: ( C147 . C153 ) = ( C148 . C153 ) by L1550 , L1584 , FUNCT_1:47;
thus L1587: thesis by L1586 , L1577 , L1583 , L1585 , FUNCT_2:def 1;
end;
L1588:
now
per cases  by L1579 , L1580 , XBOOLE_0:def 3;
suppose L1589: (C151 in R12 & C152 in R12);

L1590: ( C147 . C151 ) = ( C148 . C151 ) by L1589 , L1582;
L1591: C152 in ( dom C147 ) by L1582 , L1589;
L1592: ( C147 . C152 ) = ( C148 . C152 ) by L1582 , L1589;
L1593: C151 in ( dom C147 ) by L1582 , L1589;
thus L1594: thesis by L1593 , L1578 , L1581 , L1591 , L1590 , L1592 , FUNCT_1:def 4;
end;
suppose L1595: (C151 in R12 & C152 in { R15 });

L1596: ( C148 . C152 ) = R16 by L1595 , L1551 , TARSKI:def 1;
thus L1597: thesis by L1596 , L1581 , L1582 , L1595;
end;
suppose L1598: (C151 in { R15 } & C152 in R12);

L1599: ( C148 . C151 ) = R16 by L1598 , L1551 , TARSKI:def 1;
thus L1600: thesis by L1599 , L1581 , L1582 , L1598;
end;
suppose L1601: (C151 in { R15 } & C152 in { R15 });

L1602: R15 = C151 by L1601 , TARSKI:def 1;
thus L1603: thesis by L1602 , L1601 , TARSKI:def 1;
end;
end;
thus L1605: thesis by L1588;
end;

end;
theorem
L1577: (for B191 being  finite (Subset of ( NAT )) holds (ex B192 being (Function of B191 , ( card B191 )) st (B192 is  bijective & (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom B192 ) & R1 in ( dom B192 ) & R4 < R1) implies ( B192 . R4 ) < ( B192 . R1 )))))))
proof
defpred S19[ Nat ] means (for B193 being  finite (Subset of ( NAT )) holds (( card B193 ) = $1 implies (ex B194 being (Function of B193 , ( card B193 )) st (B194 is  bijective & (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom B194 ) & R1 in ( dom B194 ) & R4 < R1) implies ( B194 . R4 ) < ( B194 . R1 ))))))));
L1578: (for R1 being Nat holds (S19[ R1 ] implies S19[ ( R1 + 1 ) ]))
proof
let R1 being Nat;
assume that
L1579: S19[ R1 ];
let C154 being  finite (Subset of ( NAT ));
assume that
L1580: ( card C154 ) = ( R1 + 1 );
defpred S20[ set ] means $1 in C154;
L1581: (ex R15 being set st R15 in C154) by L1580 , CARD_1:27 , XBOOLE_0:def 1;
L1582: (ex B195 being Nat st S20[ B195 ]) by L1581;
consider C155 being Nat such that L1583: (for R4 being Nat holds (R4 in C154 implies R4 <= C155)) by L1525;
L1584: (for B196 being Nat holds (S20[ B196 ] implies B196 <= C155)) by L1583;
consider C156 being Nat such that L1585: (S20[ C156 ] & (for B197 being Nat holds (S20[ B197 ] implies B197 <= C156))) from NAT_1:sch 6(L1584 , L1582);
set D114 = ( C154 \ { C156 } );
consider C157 being (Function of D114 , ( card D114 )) such that L1586: C157 is  bijective and L1587: (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom C157 ) & R1 in ( dom C157 ) & R4 < R1) implies ( C157 . R4 ) < ( C157 . R1 )))) by L1579 , L1580 , L1585 , L1495;
L1588: ( card D114 ) = R1 by L1580 , L1585 , L1495;
L1589: ( ( card D114 ) \/ { R1 } ) = ( card C154 ) by L1588 , L1580 , AFINSQ_1:2;
L1590: (( card D114 ) is  empty implies D114 is  empty);
L1591: C156 in { C156 } by TARSKI:def 1;
L1592: (not C156 in D114) by L1591 , XBOOLE_0:def 5;
consider C158 being (Function of ( D114 \/ { C156 } ) , ( ( card D114 ) \/ { R1 } )) such that L1593: ( C158 | D114 ) = C157 and L1594: ( C158 . C156 ) = R1 by L1592 , L1590 , L1536;
L1595: C154 = ( D114 \/ { C156 } ) by L1585 , ZFMISC_1:116;
reconsider D115 = C158 as (Function of C154 , ( card C154 )) by L1595 , L1580 , L1588 , AFINSQ_1:2;
take D115;
L1596: (not R1 in ( card D114 )) by L1588;
L1597: C158 is  one-to-one  onto by L1596 , L1586 , L1590 , L1593 , L1594 , L1548;
thus L1598: D115 is  bijective by L1597 , L1589;
thus L1599: (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom D115 ) & R1 in ( dom D115 ) & R4 < R1) implies ( D115 . R4 ) < ( D115 . R1 ))))
proof
L1600: (for R5 being Nat holds (R5 in D114 implies (R5 < C156 & ( D115 . R5 ) < R1)))
proof
let R5 being Nat;
assume that
L1601: R5 in D114;
L1602: (not R5 in { C156 }) by L1601 , XBOOLE_0:def 5;
L1603: R5 <> C156 by L1602 , TARSKI:def 1;
L1604: S20[ R5 ] by L1601 , XBOOLE_0:def 5;
L1605: R5 <= C156 by L1604 , L1585;
L1606: R5 in ( dom C157 ) by L1601 , FUNCT_2:def 1;
L1607: ( C157 . R5 ) = ( D115 . R5 ) by L1606 , L1593 , FUNCT_1:47;
L1608: ( card D114 ) = R1 by L1580 , L1585 , L1495;
thus L1609: thesis by L1608 , L1601 , L1607 , L1605 , L1603 , NAT_1:44 , XXREAL_0:1;
end;
let R5 being Nat;
let R6 being Nat;
assume that
L1610: R5 in ( dom D115 )
and
L1611: R6 in ( dom D115 )
and
L1612: R5 < R6;
L1613: ( dom D115 ) = ( D114 \/ { C156 } ) by FUNCT_2:def 1;
L1614:
now
per cases  by L1610 , L1611 , L1613 , XBOOLE_0:def 3;
suppose L1615: (R5 in D114 & R6 in D114);

L1616: R6 in ( dom C157 ) by L1615 , FUNCT_2:def 1;
L1617: ( C157 . R6 ) = ( D115 . R6 ) by L1616 , L1593 , FUNCT_1:47;
L1618: R5 in ( dom C157 ) by L1615 , FUNCT_2:def 1;
L1619: ( C157 . R5 ) = ( D115 . R5 ) by L1618 , L1593 , FUNCT_1:47;
thus L1620: thesis by L1619 , L1587 , L1612 , L1618 , L1616 , L1617;
end;
suppose L1621: (R5 in D114 & R6 in { C156 });

L1622: ( D115 . R5 ) < R1 by L1621 , L1600;
thus L1623: thesis by L1622 , L1594 , L1621 , TARSKI:def 1;
end;
suppose L1624: (R5 in { C156 } & R6 in D114);

L1625: R5 = C156 by L1624 , TARSKI:def 1;
thus L1626: thesis by L1625 , L1612 , L1600 , L1624;
end;
suppose L1627: (R5 in { C156 } & R6 in { C156 });

L1628: R5 = C156 by L1627 , TARSKI:def 1;
thus L1629: thesis by L1628 , L1612 , L1627 , TARSKI:def 1;
end;
end;
thus L1631: thesis by L1614;
end;

end;
L1600: S19[ ( 0 ) ]
proof
set D116 = ( {} );
L1601: ( rng D116 ) = ( {} );
L1602: ( dom D116 ) = ( {} );
let C159 being  finite (Subset of ( NAT ));
assume that
L1603: ( card C159 ) = ( 0 );
L1604: C159 is  empty by L1603;
reconsider D117 = D116 as (Function of C159 , ( card C159 )) by L1604 , L1603 , L1601 , L1602 , FUNCT_2:1;
take D117;
L1605: ( rng D117 ) = ( {} );
L1606: D117 is  one-to-one  onto by L1605 , L1603 , FUNCT_2:def 3;
thus L1607: D117 is  bijective by L1606;
thus L1608: thesis;
end;
L1609: (for R1 being Nat holds S19[ R1 ]) from NAT_1:sch 2(L1600 , L1578);
thus L1610: thesis by L1609;
end;
L1611: (for B198 being  finite set holds (for R15 being set holds (R15 in B198 implies ( card ( B198 \ { R15 } ) ) < ( card B198 ))))
proof
let C160 being  finite set;
let R15 being set;
assume that
L1612: R15 in C160;
L1613: ( card C160 ) > ( 0 ) by L1612;
reconsider D118 = ( ( card C160 ) - 1 ) as (Element of ( NAT )) by L1613 , NAT_1:20;
L1614: D118 < ( D118 + 1 ) by NAT_1:13;
thus L1615: thesis by L1614 , L1612 , L1495;
end;
theorem
L1616: (for B199 , B200 being  finite set holds (for B201 being (Function of B199 , B200) holds (( card B199 ) = ( card B200 ) implies (B201 is  onto iff B201 is  one-to-one))))
proof
let C161 , C162 being  finite set;
let C163 being (Function of C161 , C162);
assume that
L1617: ( card C161 ) = ( card C162 );
thus L1618: (C163 is  onto implies C163 is  one-to-one)
proof
assume L1619: C163 is  onto;
assume L1620: (not C163 is  one-to-one);
consider C164 , C165 being set such that L1621: C164 in ( dom C163 ) and L1622: C165 in ( dom C163 ) and L1623: ( C163 . C164 ) = ( C163 . C165 ) and L1624: C164 <> C165 by L1620 , FUNCT_1:def 4;
reconsider D119 = ( C161 \ { C164 } ) as  finite set;
L1625: C162 c= ( C163 .: D119 )
proof
let C166 being set;
assume L1626: C166 in C162;
L1627: C166 in ( rng C163 ) by L1626 , L1619 , FUNCT_2:def 3;
consider R16 being set such that L1628: R16 in ( dom C163 ) and L1629: ( C163 . R16 ) = C166 by L1627 , FUNCT_1:def 3;
L1630:
now
per cases ;
suppose L1631: R16 = C164;

L1632: C165 in D119 by L1622 , L1624 , ZFMISC_1:56;
thus L1633: thesis by L1632 , L1622 , L1623 , L1629 , L1631 , FUNCT_1:def 6;
end;
suppose L1634: R16 <> C164;

L1635: R16 in D119 by L1634 , L1628 , ZFMISC_1:56;
thus L1636: thesis by L1635 , L1628 , L1629 , FUNCT_1:def 6;
end;
end;
thus L1638: thesis by L1630;
end;
L1639: ( card C162 ) c= ( card D119 ) by L1625 , CARD_1:66;
L1640: ( card D119 ) < ( card C161 ) by L1621 , L1611;
thus L1641: thesis by L1640 , L1617 , L1639 , NAT_1:39;
end;

thus L1642: (C163 is  one-to-one implies C163 is  onto)
proof
assume L1643: C163 is  one-to-one;
L1644: ( dom C163 ) , ( C163 .: ( dom C163 ) ) are_equipotent  by L1643 , CARD_1:33;
L1645: ( card ( dom C163 ) ) = ( card ( C163 .: ( dom C163 ) ) ) by L1644 , CARD_1:5;
assume L1646: (not C163 is  onto);
L1647: (not ( rng C163 ) = C162) by L1646 , FUNCT_2:def 3;
L1648: (not C162 c= ( rng C163 )) by L1647 , XBOOLE_0:def 10;
consider R16 being set such that L1649: R16 in C162 and L1650: (not R16 in ( rng C163 )) by L1648 , TARSKI:def 3;
L1651: ( card ( rng C163 ) ) <= ( card ( C162 \ { R16 } ) ) by L1650 , NAT_1:43 , ZFMISC_1:34;
L1652: ( C163 .: ( dom C163 ) ) = ( rng C163 ) by RELAT_1:113;
L1653: ( card ( C162 \ { R16 } ) ) < ( card C162 ) by L1649 , L1611;
thus L1654: thesis by L1653 , L1617 , L1649 , L1651 , L1645 , L1652 , FUNCT_2:def 1;
end;

end;
L1643: (for B202 being (Element of ( NAT )) holds (for B203 being  finite (Subset of ( NAT )) holds (for B204 being (Function of B203 , ( card B203 )) holds ((B202 in B203 & B204 is  bijective & (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom B204 ) & R1 in ( dom B204 ) & R4 < R1) implies ( B204 . R4 ) < ( B204 . R1 ))))) implies (ex B205 being (Permutation of B203) st (for R1 being Nat holds (R1 in B203 implies ((R1 < B202 implies ( B205 . R1 ) = ( ( B204 " ) . ( ( B204 . R1 ) + 1 ) )) & (R1 = B202 implies ( B205 . R1 ) = ( ( B204 " ) . ( 0 ) )) & (R1 > B202 implies ( B205 . R1 ) = R1)))))))))
proof
let C167 being (Element of ( NAT ));
let C168 being  finite (Subset of ( NAT ));
let C169 being (Function of C168 , ( card C168 ));
assume that
L1644: C167 in C168
and
L1645: C169 is  bijective
and
L1646: (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom C169 ) & R1 in ( dom C169 ) & R4 < R1) implies ( C169 . R4 ) < ( C169 . R1 ))));
L1647: ( rng C169 ) = ( card C168 ) by L1645 , FUNCT_2:def 3;
reconsider D120 = ( C169 " ) as (Function of ( card C168 ) , C168) by L1647 , L1645 , FUNCT_2:25;
defpred S21[ set , set ] means (for R1 being Nat holds (R1 = $1 implies ((R1 < C167 implies $2 = ( ( C169 " ) . ( ( C169 . R1 ) + 1 ) )) & (R1 = C167 implies $2 = ( ( C169 " ) . ( 0 ) )) & (R1 > C167 implies $2 = R1))));
L1648: ( dom C169 ) = C168 by L1644 , FUNCT_2:def 1;
L1649: ( dom D120 ) = ( card C168 ) by L1644 , FUNCT_2:def 1;
L1650: (for R15 being set holds (R15 in C168 implies (ex R16 being set st (R16 in C168 & S21[ R15 , R16 ]))))
proof
let C170 being set;
assume that
L1651: C170 in C168;
reconsider D121 = C170 as (Element of ( NAT )) by L1651;
L1652:
now
per cases  by XXREAL_0:1;
suppose L1653: D121 < C167;

L1654: ( C169 . D121 ) < ( C169 . C167 ) by L1653 , L1644 , L1646 , L1648 , L1651;
L1655: ( ( C169 . D121 ) + 1 ) <= ( C169 . C167 ) by L1654 , NAT_1:13;
L1656: ( C169 . C167 ) < ( card C168 ) by L1644 , NAT_1:44;
L1657: ( ( C169 . D121 ) + 1 ) < ( card C168 ) by L1656 , L1655 , XXREAL_0:2;
L1658: ( ( C169 . D121 ) + 1 ) in ( dom D120 ) by L1657 , L1649 , NAT_1:44;
L1659: ( D120 . ( ( C169 . D121 ) + 1 ) ) in ( rng D120 ) by L1658 , FUNCT_1:def 3;
set D122 = ( ( C169 " ) . ( ( C169 . D121 ) + 1 ) );
L1660: S21[ C170 , D122 ] by L1653;
thus L1661: thesis by L1660 , L1659;
end;
suppose L1662: D121 = C167;

L1663: ( 0 ) in ( dom D120 ) by L1644 , L1649 , NAT_1:44;
L1664: ( D120 . ( 0 ) ) in ( rng D120 ) by L1663 , FUNCT_1:def 3;
L1665: S21[ C170 , ( ( C169 " ) . ( 0 ) ) ] by L1662;
thus L1666: thesis by L1665 , L1664;
end;
suppose L1667: D121 > C167;

L1668: S21[ D121 , D121 ] by L1667;
thus L1669: thesis by L1668 , L1651;
end;
end;
thus L1671: thesis by L1652;
end;
consider C171 being (Function of C168 , C168) such that L1672: (for R15 being set holds (R15 in C168 implies S21[ R15 , ( C171 . R15 ) ])) from FUNCT_2:sch 1(L1650);
L1673: C168 c= ( rng C171 )
proof
let C172 being set;
assume that
L1674: C172 in C168;
reconsider D123 = C172 as (Element of ( NAT )) by L1674;
L1675:
now
per cases ;
suppose L1676: D123 <= C167;

L1677: ( rng D120 ) = C168 by L1645 , L1648 , FUNCT_1:33;
consider R15 being set such that L1678: R15 in ( dom D120 ) and L1679: ( D120 . R15 ) = D123 by L1677 , L1674 , FUNCT_1:def 3;
L1680: ( card C168 ) is (Subset of ( NAT )) by L61;
reconsider D124 = R15 as (Element of ( NAT )) by L1680 , L1649 , L1678;
L1681:
now
per cases ;
suppose L1682: D124 = ( 0 );

L1683: ( dom C171 ) = C168 by L1644 , FUNCT_2:def 1;
L1684: ( C171 . C167 ) = ( ( C169 " ) . ( 0 ) ) by L1644 , L1672;
thus L1685: thesis by L1684 , L1644 , L1679 , L1682 , L1683 , FUNCT_1:def 3;
end;
suppose L1686: D124 > ( 0 );

reconsider D125 = ( D124 - 1 ) as (Element of ( NAT )) by L1686 , NAT_1:20;
L1687: D125 < ( D125 + 1 ) by NAT_1:13;
L1688: D124 < ( card C168 ) by L1678 , NAT_1:44;
L1689: D125 < ( card C168 ) by L1688 , L1687 , XXREAL_0:2;
L1690: D125 in ( card C168 ) by L1689 , NAT_1:44;
L1691: ( card C168 ) = ( rng C169 ) by L1645 , FUNCT_2:def 3;
consider R16 being set such that L1692: R16 in ( dom C169 ) and L1693: ( C169 . R16 ) = D125 by L1691 , L1690 , FUNCT_1:def 3;
reconsider D126 = R16 as (Element of ( NAT )) by L1648 , L1692;
L1694: D126 in ( dom C171 ) by L1648 , L1692 , FUNCT_2:def 1;
L1695: D126 < C167
proof
assume L1696: D126 >= C167;
L1697: (D126 > C167 or D126 = C167) by L1696 , XXREAL_0:1;
L1698: D125 >= ( C169 . C167 ) by L1697 , L1644 , L1646 , L1648 , L1692 , L1693;
L1699: D124 in ( rng C169 ) by L1645 , L1678 , FUNCT_1:33;
L1700: ( C169 . D123 ) = D124 by L1699 , L1645 , L1679 , FUNCT_1:32;
L1701: (D123 < C167 or D123 = C167) by L1676 , XXREAL_0:1;
L1702: ( C169 . D123 ) <= ( C169 . C167 ) by L1701 , L1644 , L1646 , L1648 , L1674;
L1703: ( D125 + 1 ) > D125 by NAT_1:13;
thus L1704: contradiction by L1703 , L1698 , L1700 , L1702 , XXREAL_0:2;
end;
L1705: ( ( C169 " ) . ( ( C169 . D126 ) + 1 ) ) = D123 by L1679 , L1693;
L1706: ( C171 . D126 ) = D123 by L1705 , L1672 , L1692 , L1695;
thus L1707: thesis by L1706 , L1694 , FUNCT_1:def 3;
end;
end;
thus L1709: thesis by L1681;
end;
suppose L1710: D123 > C167;

L1711: D123 in ( dom C171 ) by L1674 , FUNCT_2:def 1;
L1712: D123 = ( C171 . D123 ) by L1672 , L1674 , L1710;
thus L1713: thesis by L1712 , L1711 , FUNCT_1:def 3;
end;
end;
thus L1715: thesis by L1675;
end;
L1716: C168 = ( rng C171 ) by L1673 , XBOOLE_0:def 10;
L1717: C171 is  onto by L1716 , FUNCT_2:def 3;
L1718: ( card C168 ) = ( card C168 );
L1719: C171 is  onto  one-to-one by L1718 , L1717 , L1616;
reconsider D127 = C171 as (Permutation of C168) by L1719;
take D127;
thus L1720: thesis by L1672;
end;
theorem
L1721: (for B206 , B207 being Function holds (for R16 being set holds ((R16 in ( rng ( B207 * B206 ) ) & B207 is  one-to-one) implies (ex R15 being set st (R15 in ( dom B207 ) & R15 in ( rng B206 ) & ( B207 " { R16 } ) = { R15 } & ( B206 " { R15 } ) = ( ( B207 * B206 ) " { R16 } ))))))
proof
let C173 , C174 being Function;
let R16 being set;
assume that
L1722: R16 in ( rng ( C174 * C173 ) )
and
L1723: C174 is  one-to-one;
consider R15 being set such that L1724: R15 in ( dom ( C174 * C173 ) ) and L1725: ( ( C174 * C173 ) . R15 ) = R16 by L1722 , FUNCT_1:def 3;
L1726: ( C173 . R15 ) in ( dom C174 ) by L1724 , FUNCT_1:11;
L1727: ( C174 . ( C173 . R15 ) ) = R16 by L1724 , L1725 , FUNCT_1:12;
L1728: ( C174 . ( C173 . R15 ) ) in { R16 } by L1727 , TARSKI:def 1;
L1729: ( C173 . R15 ) in ( C174 " { R16 } ) by L1728 , L1726 , FUNCT_1:def 7;
L1730: ( C173 " { ( C173 . R15 ) } ) c= ( ( C174 * C173 ) " { R16 } )
proof
let C175 being set;
assume that
L1731: C175 in ( C173 " { ( C173 . R15 ) } );
L1732: C175 in ( dom C173 ) by L1731 , FUNCT_1:def 7;
L1733: ( C173 . C175 ) in { ( C173 . R15 ) } by L1731 , FUNCT_1:def 7;
L1734: ( C173 . C175 ) = ( C173 . R15 ) by L1733 , TARSKI:def 1;
L1735: ( C174 . ( C173 . C175 ) ) in { R16 } by L1734 , L1727 , TARSKI:def 1;
L1736: ( ( C174 * C173 ) . C175 ) in { R16 } by L1735 , L1732 , FUNCT_1:13;
L1737: C175 in ( dom ( C174 * C173 ) ) by L1726 , L1732 , L1734 , FUNCT_1:11;
thus L1738: thesis by L1737 , L1736 , FUNCT_1:def 7;
end;
L1739: R16 in ( rng C174 ) by L1722 , FUNCT_1:14;
consider C176 being set such that L1740: ( C174 " { R16 } ) = { C176 } by L1739 , L1723 , FUNCT_1:74;
L1741: R15 in ( dom C173 ) by L1724 , FUNCT_1:11;
L1742: ( C173 . R15 ) in ( rng C173 ) by L1741 , FUNCT_1:def 3;
L1743: ( C173 . R15 ) in ( dom C174 ) by L1724 , FUNCT_1:11;
L1744: ( ( C174 * C173 ) " { R16 } ) c= ( C173 " { ( C173 . R15 ) } )
proof
let C177 being set;
assume that
L1745: C177 in ( ( C174 * C173 ) " { R16 } );
L1746: C177 in ( dom ( C174 * C173 ) ) by L1745 , FUNCT_1:def 7;
L1747: C177 in ( dom C173 ) by L1746 , FUNCT_1:11;
L1748: ( ( C174 * C173 ) . C177 ) in { R16 } by L1745 , FUNCT_1:def 7;
L1749: ( C174 . ( C173 . C177 ) ) in { R16 } by L1748 , L1746 , FUNCT_1:12;
L1750: ( C173 . C177 ) in ( dom C174 ) by L1746 , FUNCT_1:11;
L1751: ( C173 . R15 ) = C176 by L1740 , L1729 , TARSKI:def 1;
L1752: ( C173 . C177 ) in { ( C173 . R15 ) } by L1751 , L1740 , L1750 , L1749 , FUNCT_1:def 7;
thus L1753: thesis by L1752 , L1747 , FUNCT_1:def 7;
end;
L1754: ( C173 " { ( C173 . R15 ) } ) = ( ( C174 * C173 ) " { R16 } ) by L1744 , L1730 , XBOOLE_0:def 10;
L1755: ( C174 " { R16 } ) = { ( C173 . R15 ) } by L1740 , L1729 , TARSKI:def 1;
thus L1756: thesis by L1755 , L1743 , L1742 , L1754;
end;
definition
let R10 being (Subset of ( NAT ));
let R9 being (Subset of ( NAT ));
let C178 being (Function of R10 , R9);
attr C178 is  "increasing
means
:L1757: (for R2 being Nat holds (for R3 being Nat holds ((R2 in ( rng C178 ) & R3 in ( rng C178 ) & R2 < R3) implies ( min* ( C178 " { R2 } ) ) < ( min* ( C178 " { R3 } ) ))));
end;
theorem
L1759: (for R9 being (Subset of ( NAT )) holds (for R10 being (Subset of ( NAT )) holds (for B208 being (Function of R10 , R9) holds (B208 is  "increasing implies ( min* ( rng B208 ) ) = ( B208 . ( min* ( dom B208 ) ) )))))
proof
let R9 being (Subset of ( NAT ));
let R10 being (Subset of ( NAT ));
let C179 being (Function of R10 , R9);
assume that
L1760: C179 is  "increasing;
L1761:
now
per cases ;
suppose L1762: ( rng C179 ) is  empty;

L1763: ( min* ( rng C179 ) ) = ( 0 ) by L1762 , NAT_1:def 1;
L1764: ( dom C179 ) = ( {} ) by L1762 , RELAT_1:42;
thus L1765: thesis by L1764 , L1763 , FUNCT_1:def 2;
end;
suppose L1766: ( rng C179 ) is non  empty;

reconsider D128 = ( rng C179 ) , D129 = R9 as non  empty (Subset of ( NAT )) by L1766 , XBOOLE_1:1;
L1767: D129 is non  empty;
reconsider D130 = ( dom C179 ) as non  empty (Subset of ( NAT )) by L1767 , L1766 , FUNCT_2:def 1 , RELAT_1:42;
set D131 = ( min* D130 );
set D132 = ( min* D128 );
L1768: D132 = ( C179 . D131 )
proof
L1769: D131 in ( dom C179 ) by NAT_1:def 1;
L1770: ( C179 . D131 ) in D128 by L1769 , FUNCT_1:def 3;
L1771: D132 <= ( C179 . D131 ) by L1770 , NAT_1:def 1;
assume L1772: D132 <> ( C179 . D131 );
L1773: D132 < ( C179 . D131 ) by L1772 , L1771 , XXREAL_0:1;
L1774: D131 in D130 by NAT_1:def 1;
L1775: D131 in ( dom C179 ) by NAT_1:def 1;
L1776: D132 in D128 by NAT_1:def 1;
consider R15 being set such that L1777: R15 in ( dom C179 ) and L1778: ( C179 . R15 ) = D132 by L1776 , FUNCT_1:def 3;
L1779: ( C179 . D131 ) in { ( C179 . D131 ) } by TARSKI:def 1;
L1780: ( C179 . R15 ) in { D132 } by L1778 , TARSKI:def 1;
reconsider D133 = ( C179 " { D132 } ) , D134 = ( C179 " { ( C179 . D131 ) } ) as non  empty (Subset of ( NAT )) by L1780 , L1777 , L1779 , L1775 , FUNCT_1:def 7 , XBOOLE_1:1;
L1781: D132 in D128 by NAT_1:def 1;
L1782: ( min* D133 ) in D133 by NAT_1:def 1;
L1783: ( min* D133 ) in D130 by L1782 , FUNCT_1:def 7;
L1784: ( min* D133 ) >= D131 by L1783 , NAT_1:def 1;
L1785: ( C179 . D131 ) in { ( C179 . D131 ) } by TARSKI:def 1;
L1786: D131 in D134 by L1785 , L1774 , FUNCT_1:def 7;
L1787: D131 >= ( min* D134 ) by L1786 , NAT_1:def 1;
L1788: ( C179 . D131 ) in ( rng C179 ) by L1769 , FUNCT_1:def 3;
L1789: ( min* ( C179 " { D132 } ) ) < ( min* ( C179 " { ( C179 . D131 ) } ) ) by L1788 , L1760 , L1773 , L1781 , L1757;
thus L1790: contradiction by L1789 , L1784 , L1787 , XXREAL_0:2;
end;
thus L1791: thesis by L1768;
end;
end;
thus L1793: thesis by L1761;
end;
theorem
L1794: (for R9 being (Subset of ( NAT )) holds (for R10 being (Subset of ( NAT )) holds (for B209 being (Function of R10 , R9) holds (( rng B209 ) is  finite implies (ex B210 being (Function of R10 , R9) st (ex B211 being (Permutation of ( rng B209 )) st (B209 = ( B211 * B210 ) & ( rng B209 ) = ( rng B210 ) & B210 is  "increasing)))))))
proof
let R9 being (Subset of ( NAT ));
let R10 being (Subset of ( NAT ));
defpred S22[ set , Function ] means $1 = ( $2 . ( min* ( dom $2 ) ) );
defpred S23[ set ] means (for B212 , B213 being (Subset of ( NAT )) holds (for B214 being (Function of B212 , B213) holds ((B214 = $1 & ( rng B214 ) is  finite) implies (ex B215 being (Permutation of ( rng B214 )) st (ex B216 being (Function of B212 , B213) st (B214 = ( B215 * B216 ) & ( rng B214 ) = ( rng B216 ) & (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng B216 ) & R6 in ( rng B216 ) & R5 < R6) implies ( min* ( B216 " { R5 } ) ) < ( min* ( B216 " { R6 } ) ))))))))));
L1795: S23[ ( {} ) ]
proof
let C180 , C181 being (Subset of ( NAT ));
let C182 being (Function of C180 , C181);
assume that
L1796: C182 = ( {} )
and
L1797: ( rng C182 ) is  finite;
reconsider D135 = ( rng C182 ) as  empty set by L1796;
set D136 = ( {} );
L1798: ( rng D136 ) = ( {} );
L1799: ( dom D136 ) = ( {} );
reconsider D137 = D136 as (Function of D135 , D135) by L1799 , L1798 , FUNCT_2:1;
L1800: ( rng D135 ) = ( {} );
L1801: D137 is  one-to-one  onto by L1800 , FUNCT_2:def 3;
reconsider D138 = D137 as (Permutation of ( rng C182 )) by L1801;
take D138;
take C182;
L1802: ( rng C182 ) = D135;
L1803: C182 = ( {} ) by L1802;
thus L1804: thesis by L1803;
end;
L1805: (for B217 being Function holds ((for R15 being set holds ((R15 in ( rng B217 ) & S22[ R15 , B217 ]) implies S23[ ( B217 | ( ( dom B217 ) \ ( B217 " { R15 } ) ) ) ])) implies S23[ B217 ]))
proof
let C183 being Function;
assume that
L1806: (for R15 being set holds ((R15 in ( rng C183 ) & S22[ R15 , C183 ]) implies S23[ ( C183 | ( ( dom C183 ) \ ( C183 " { R15 } ) ) ) ]));
let C184 , C185 being (Subset of ( NAT ));
let C186 being (Function of C184 , C185);
assume that
L1807: C186 = C183
and
L1808: ( rng C186 ) is  finite;
L1809:
now
per cases ;
suppose L1810: ( rng C183 ) is  empty;

L1811: C183 = ( {} ) by L1810;
thus L1812: thesis by L1811 , L1795 , L1807;
end;
suppose L1813: ( rng C183 ) is non  empty;

reconsider D139 = ( dom C186 ) as non  empty (Subset of ( NAT )) by L1813 , L1807 , RELAT_1:42 , XBOOLE_1:1;
reconsider D140 = C185 as non  empty (Subset of ( NAT )) by L1807 , L1813;
set D141 = ( min* D139 );
set D142 = ( ( dom C186 ) \ ( C186 " { ( C186 . D141 ) } ) );
L1814: ( min* D139 ) in D139 by NAT_1:def 1;
L1815: ( C186 . D141 ) in ( rng C186 ) by L1814 , FUNCT_1:def 3;
L1816:
now
per cases ;
suppose L1817: ( rng ( C186 | D142 ) ) is  empty;

L1818: ( ( rng C186 ) \ { ( C186 . D141 ) } ) = ( {} ) by L1817 , L1459;
L1819: ( rng C186 ) = { ( C186 . D141 ) } by L1818 , L1815 , ZFMISC_1:58;
L1820: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng C186 ) & R6 in ( rng C186 ) & R5 < R6) implies ( min* ( C186 " { R5 } ) ) < ( min* ( C186 " { R6 } ) ))))
proof
let R5 being Nat;
let R6 being Nat;
assume that
L1821: R5 in ( rng C186 )
and
L1822: R6 in ( rng C186 )
and
L1823: R5 < R6;
L1824: R5 = ( C186 . D141 ) by L1819 , L1821 , TARSKI:def 1;
thus L1825: thesis by L1824 , L1819 , L1822 , L1823 , TARSKI:def 1;
end;
set D143 = ( id ( rng C186 ) );
L1826: ( rng D143 ) = ( rng C186 );
L1827: D143 is  one-to-one  onto by L1826 , FUNCT_2:def 3;
reconsider D144 = D143 as (Permutation of ( rng C186 )) by L1827;
L1828: C186 is (Function of ( dom C186 ) , ( rng C186 )) by FUNCT_2:1;
L1829: ( D144 * C186 ) = C186 by L1828 , FUNCT_2:17;
thus L1830: thesis by L1829 , L1820;
end;
suppose L1831: ( rng ( C186 | D142 ) ) is non  empty;

L1832: ( rng ( C186 | D142 ) ) c= ( rng C186 ) by RELAT_1:70;
reconsider D145 = ( rng ( C186 | D142 ) ) as non  empty  finite (Subset of ( NAT )) by L1832 , L1808 , L1831 , XBOOLE_1:1;
deffunc H3(set) = ( C186 . D141 );
reconsider D146 = ( dom ( C186 | D142 ) ) as (Subset of ( NAT )) by XBOOLE_1:1;
reconsider D147 = ( C186 | D142 ) as (Function of D146 , D145) by FUNCT_2:1;
L1833: (D145 is  empty implies D146 is  empty);
reconsider D148 = ( rng C186 ) as non  empty  finite (Subset of ( NAT )) by L1808 , L1815 , XBOOLE_1:1;
L1834: (D146 c= C184 & D145 c= D140);
consider C187 being (Permutation of ( rng D147 )), C188 being (Function of D146 , D145) such that L1835: D147 = ( C187 * C188 ) and L1836: ( rng D147 ) = ( rng C188 ) and L1837: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng C188 ) & R6 in ( rng C188 ) & R5 < R6) implies ( min* ( C188 " { R5 } ) ) < ( min* ( C188 " { R6 } ) )))) by L1806 , L1807 , L1815;
L1838: (for R15 being set holds (R15 in ( C184 \ D146 ) implies H3(R15) in D140)) by L1815;
consider C189 being (Function of C184 , D140) such that L1839: (( C189 | D146 ) = C188 & (for R15 being set holds (R15 in ( C184 \ D146 ) implies ( C189 . R15 ) = H3(R15)))) from Sch2(L1838 , L1834 , L1833);
L1840: ( rng C189 ) c= ( rng C186 )
proof
let C190 being set;
assume L1841: C190 in ( rng C189 );
consider R15 being set such that L1842: R15 in ( dom C189 ) and L1843: ( C189 . R15 ) = C190 by L1841 , FUNCT_1:def 3;
L1844: ( dom C189 ) = C184 by FUNCT_2:def 1;
L1845: ( ( ( dom C189 ) /\ D146 ) \/ ( C184 \ D146 ) ) = ( dom C189 ) by L1844 , XBOOLE_1:51;
L1846: ((( dom C188 ) = ( ( dom C189 ) /\ D146 ) & R15 in ( ( dom C189 ) /\ D146 )) or R15 in ( C184 \ D146 )) by L1845 , L1839 , L1842 , RELAT_1:61 , XBOOLE_0:def 3;
L1847: ((( C188 . R15 ) in ( rng D147 ) & ( C188 . R15 ) = ( C189 . R15 ) & ( rng D147 ) = ( ( rng C186 ) \ { ( C186 . D141 ) } )) or (( C189 . R15 ) = ( C186 . D141 ) & D141 in D139)) by L1846 , L1836 , L1839 , L1459 , FUNCT_1:47 , FUNCT_1:def 3 , NAT_1:def 1;
thus L1848: thesis by L1847 , L1843 , FUNCT_1:def 3 , XBOOLE_0:def 5;
end;
L1849: ( rng D147 ) = ( ( rng C186 ) \ { ( C186 . D141 ) } ) by L1459;
L1850: ( dom D147 ) = ( ( dom C186 ) /\ ( ( dom C186 ) \ ( C186 " { ( C186 . D141 ) } ) ) ) by RELAT_1:61;
L1851: D146 = ( ( dom C186 ) \ ( C186 " { ( C186 . D141 ) } ) ) by L1850 , XBOOLE_1:28 , XBOOLE_1:36;
L1852: ( C186 " { ( C186 . D141 ) } ) c= ( C189 " { ( C186 . D141 ) } )
proof
let R15 being set;
assume that
L1853: R15 in ( C186 " { ( C186 . D141 ) } );
L1854: (not R15 in ( ( dom C186 ) \ ( C186 " { ( C186 . D141 ) } ) )) by L1853 , XBOOLE_0:def 5;
L1855: R15 in ( C184 \ D146 ) by L1854 , L1851 , L1853 , XBOOLE_0:def 5;
L1856: ( C189 . R15 ) = ( C186 . D141 ) by L1855 , L1839;
L1857: ( C189 . R15 ) in { ( C186 . D141 ) } by L1856 , TARSKI:def 1;
L1858: R15 in C184 by L1853;
L1859: R15 in ( dom C189 ) by L1858 , FUNCT_2:def 1;
thus L1860: thesis by L1859 , L1857 , FUNCT_1:def 7;
end;
L1861: ( rng C186 ) c= ( rng C189 )
proof
L1862: ( rng D147 ) = ( ( rng C186 ) \ { ( C186 . D141 ) } ) by L1459;
L1863: ( rng C186 ) = ( ( rng D147 ) \/ { ( C186 . D141 ) } ) by L1862 , L1815 , ZFMISC_1:116;
let C191 being set;
assume that
L1864: C191 in ( rng C186 );
L1865:
now
per cases  by L1864 , L1863 , XBOOLE_0:def 3;
suppose L1866: C191 in ( rng D147 );

L1867: ( rng ( C189 | D146 ) ) c= ( rng C189 ) by RELAT_1:70;
thus L1868: thesis by L1867 , L1836 , L1839 , L1866;
end;
suppose L1869: C191 in { ( C186 . D141 ) };

L1870: D141 in ( dom C186 ) by NAT_1:def 1;
L1871: D141 in C184 by L1870;
L1872: D141 in ( dom C189 ) by L1871 , FUNCT_2:def 1;
L1873: ( C189 . D141 ) in ( rng C189 ) by L1872 , FUNCT_1:def 3;
L1874: ( C186 . D141 ) in { ( C186 . D141 ) } by TARSKI:def 1;
L1875: D141 in ( C186 " { ( C186 . D141 ) } ) by L1874 , L1870 , FUNCT_1:def 7;
L1876: (not D141 in ( ( dom C186 ) \ ( C186 " { ( C186 . D141 ) } ) )) by L1875 , XBOOLE_0:def 5;
L1877: D141 in ( C184 \ D146 ) by L1876 , L1851 , L1870 , XBOOLE_0:def 5;
L1878: C191 = ( C186 . D141 ) by L1869 , TARSKI:def 1;
thus L1879: thesis by L1878 , L1839 , L1877 , L1873;
end;
end;
thus L1881: thesis by L1865;
end;
L1882: ( rng C189 ) = ( rng C186 ) by L1861 , L1840 , XBOOLE_0:def 10;
L1883: (not ( C186 . D141 ) in ( ( rng C186 ) \ { ( C186 . D141 ) } )) by ZFMISC_1:56;
L1884: (not ( C186 . D141 ) in ( rng D147 )) by L1883 , L1459;
consider C192 being (Function of ( ( rng D147 ) \/ { ( C186 . D141 ) } ) , ( ( rng D147 ) \/ { ( C186 . D141 ) } )) such that L1885: ( C192 | ( rng D147 ) ) = C187 and L1886: ( C192 . ( C186 . D141 ) ) = ( C186 . D141 ) by L1884 , L1536;
L1887: (not ( C186 . D141 ) in ( ( rng C186 ) \ { ( C186 . D141 ) } )) by ZFMISC_1:56;
L1888: C192 is  one-to-one  onto by L1887 , L1885 , L1886 , L1849 , L1548;
L1889: ( ( rng D147 ) \/ { ( C186 . D141 ) } ) = ( rng C186 ) by L1815 , L1849 , ZFMISC_1:116;
reconsider D149 = C192 as (Permutation of ( rng C186 )) by L1889 , L1888;
consider C193 being (Function of D148 , ( card D148 )) such that L1890: C193 is  bijective and L1891: (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom C193 ) & R1 in ( dom C193 ) & R4 < R1) implies ( C193 . R4 ) < ( C193 . R1 )))) by L1577;
L1892: ( rng C193 ) = ( card D148 ) by L1890 , FUNCT_2:def 3;
reconsider D150 = ( C193 " ) as (Function of ( card D148 ) , D148) by L1892 , L1890 , FUNCT_2:25;
consider C194 being (Permutation of D148) such that L1893: (for R1 being Nat holds (R1 in D148 implies ((R1 < ( C186 . D141 ) implies ( C194 . R1 ) = ( ( C193 " ) . ( ( C193 . R1 ) + 1 ) )) & (R1 = ( C186 . D141 ) implies ( C194 . R1 ) = ( ( C193 " ) . ( 0 ) )) & (R1 > ( C186 . D141 ) implies ( C194 . R1 ) = R1)))) by L1815 , L1890 , L1891 , L1643;
L1894: ( dom C189 ) = C184 by FUNCT_2:def 1;
L1895: C189 is (Function of C184 , D148) by L1894 , L1882 , FUNCT_2:1;
reconsider D151 = ( D149 * ( C194 " ) ) as (Function of D148 , D148);
reconsider D152 = D151 as (Permutation of D148);
L1896: ( dom C194 ) = D148 by FUNCT_2:def 1;
L1897: ( ( C194 " ) * C194 ) = ( id D148 ) by L1896 , FUNCT_1:39;
L1898: ( rng ( C194 * C189 ) ) c= D140 by XBOOLE_1:1;
reconsider D153 = ( C194 * C189 ) as (Function of C184 , D140) by L1898 , L1895 , FUNCT_2:6;
L1899: ( dom C189 ) = C184 by FUNCT_2:def 1;
L1900: C189 is (Function of C184 , D148) by L1899 , L1882 , FUNCT_2:1;
L1901: ( ( id D148 ) * C189 ) = C189 by L1900 , FUNCT_2:17;
L1902: ( ( C194 " ) * ( C194 * C189 ) ) = C189 by L1901 , L1897 , RELAT_1:36;
L1903: ( C189 " { ( C186 . D141 ) } ) c= ( C186 " { ( C186 . D141 ) } )
proof
let R15 being set;
assume that
L1904: R15 in ( C189 " { ( C186 . D141 ) } );
L1905: R15 in ( C184 \ D146 )
proof
assume L1906: (not R15 in ( C184 \ D146 ));
L1907: ((R15 in ( dom C189 ) & ( dom C189 ) = C184 & (not R15 in C184)) or R15 in D146) by L1906 , L1904 , XBOOLE_0:def 5;
L1908: R15 in ( dom C188 ) by L1907 , FUNCT_2:def 1;
L1909: ( C188 . R15 ) in ( rng C188 ) by L1908 , FUNCT_1:def 3;
L1910: ( rng D147 ) = ( ( rng C186 ) \ { ( C186 . D141 ) } ) by L1459;
L1911: ( C188 . R15 ) = ( C189 . R15 ) by L1839 , L1908 , FUNCT_1:47;
L1912: (not ( C189 . R15 ) in { ( C186 . D141 ) }) by L1911 , L1909 , L1910 , XBOOLE_0:def 5;
thus L1913: thesis by L1912 , L1904 , FUNCT_1:def 7;
end;
L1914: (not R15 in ( ( dom C186 ) \ ( C186 " { ( C186 . D141 ) } ) )) by L1905 , L1851 , XBOOLE_0:def 5;
L1915: ( dom C186 ) = C184 by L1815 , FUNCT_2:def 1;
L1916: R15 in ( dom C186 ) by L1915 , L1905 , XBOOLE_0:def 5;
thus L1917: thesis by L1916 , L1914 , XBOOLE_0:def 5;
end;
L1918: ( C189 " { ( C186 . D141 ) } ) = ( C186 " { ( C186 . D141 ) } ) by L1903 , L1852 , XBOOLE_0:def 10;
L1919: (for R4 being Nat holds (R4 in ( rng D147 ) implies ( C188 " { R4 } ) = ( C189 " { R4 } )))
proof
L1920: D140 is non  empty;
L1921: ( dom C186 ) = C184 by L1920 , FUNCT_2:def 1;
L1922: D146 = ( ( dom C189 ) \ ( C189 " { ( C186 . D141 ) } ) ) by L1921 , L1851 , L1918 , FUNCT_2:def 1;
L1923: ( rng D147 ) = ( ( rng C186 ) \ { ( C186 . D141 ) } ) by L1459;
let R4 being Nat;
assume L1924: R4 in ( rng D147 );
L1925: (not R4 in { ( C186 . D141 ) }) by L1924 , L1923 , XBOOLE_0:def 5;
L1926: R4 <> ( C186 . D141 ) by L1925 , TARSKI:def 1;
thus L1927: thesis by L1926 , L1839 , L1922 , L1459;
end;
L1928: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng D153 ) & R6 in ( rng D153 ) & R5 < R6) implies ( min* ( D153 " { R5 } ) ) < ( min* ( D153 " { R6 } ) ))))
proof
L1929: (for R2 being Nat holds ((R2 in D148 & R2 < ( C186 . D141 )) implies (( ( C193 . R2 ) + 1 ) in ( rng C193 ) & ( ( C193 . R2 ) + 1 ) is (Element of ( NAT )) & ( ( C193 . R2 ) + 1 ) <= ( C193 . ( C186 . D141 ) ) & ( C193 . ( C186 . D141 ) ) is (Element of ( NAT )) & ( dom C193 ) = D148)))
proof
L1930: ( C193 . ( C186 . D141 ) ) < ( card D148 ) by NAT_1:44;
let R2 being Nat;
assume that
L1931: R2 in D148
and
L1932: R2 < ( C186 . D141 );
L1933: ( dom C193 ) = D148 by FUNCT_2:def 1;
L1934: ( C193 . R2 ) < ( C193 . ( C186 . D141 ) ) by L1933 , L1815 , L1891 , L1931 , L1932;
L1935: ( ( C193 . R2 ) + 1 ) <= ( C193 . ( C186 . D141 ) ) by L1934 , NAT_1:13;
L1936: ( ( C193 . R2 ) + 1 ) < ( card D148 ) by L1935 , L1930 , XXREAL_0:2;
L1937: ( card D148 ) is (Subset of ( NAT )) by L61;
L1938: ( C193 . ( C186 . D141 ) ) in ( card D148 );
L1939: ( card D148 ) = ( rng C193 ) by L1890 , FUNCT_2:def 3;
thus L1940: thesis by L1939 , L1934 , L1938 , L1937 , L1936 , FUNCT_2:def 1 , NAT_1:13 , NAT_1:44;
end;
L1941: (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( dom C193 ) & R1 in ( dom C193 ) & ( C193 . R4 ) < ( C193 . R1 )) implies R4 < R1)))
proof
let R4 being Nat;
let R1 being Nat;
assume that
L1942: R4 in ( dom C193 )
and
L1943: R1 in ( dom C193 )
and
L1944: ( C193 . R4 ) < ( C193 . R1 );
assume L1945: R4 >= R1;
L1946: R4 > R1 by L1945 , L1944 , XXREAL_0:1;
thus L1947: contradiction by L1946 , L1891 , L1942 , L1943 , L1944;
end;
L1948: (for R4 being Nat holds (for R1 being Nat holds ((R4 in ( rng C193 ) & R1 in ( rng C193 )) implies (R4 < R1 implies ( D150 . R4 ) < ( D150 . R1 )))))
proof
let R4 being Nat;
let R1 being Nat;
assume that
L1949: R4 in ( rng C193 )
and
L1950: R1 in ( rng C193 );
L1951: R4 = ( C193 . ( D150 . R4 ) ) by L1890 , L1949 , FUNCT_1:35;
L1952: ( dom C193 ) = ( rng D150 ) by L1890 , FUNCT_1:33;
L1953: R1 = ( C193 . ( D150 . R1 ) ) by L1890 , L1950 , FUNCT_1:35;
assume L1954: R4 < R1;
L1955: ( rng C193 ) = ( dom D150 ) by L1890 , FUNCT_1:33;
L1956: ( D150 . R4 ) in ( dom C193 ) by L1955 , L1949 , L1952 , FUNCT_1:def 3;
L1957: ( D150 . R1 ) in ( dom C193 ) by L1950 , L1955 , L1952 , FUNCT_1:def 3;
thus L1958: thesis by L1957 , L1941 , L1954 , L1951 , L1953 , L1956;
end;
L1959: ( rng D147 ) = ( ( rng C186 ) \ { ( C186 . D141 ) } ) by L1459;
L1960: ( ( rng D147 ) \/ { ( C186 . D141 ) } ) = ( rng C189 ) by L1959 , L1815 , L1882 , ZFMISC_1:116;
let R5 being Nat;
let R6 being Nat;
assume that
L1961: R5 in ( rng D153 )
and
L1962: R6 in ( rng D153 )
and
L1963: R5 < R6;
consider C195 being set such that L1964: C195 in ( dom C194 ) and L1965: C195 in ( rng C189 ) and L1966: ( C194 " { R5 } ) = { C195 } and L1967: ( C189 " { C195 } ) = ( D153 " { R5 } ) by L1961 , L1721;
consider C196 being set such that L1968: C196 in ( dom C194 ) and L1969: C196 in ( rng C189 ) and L1970: ( C194 " { R6 } ) = { C196 } and L1971: ( C189 " { C196 } ) = ( D153 " { R6 } ) by L1962 , L1721;
L1972: ( dom C194 ) = D148 by FUNCT_2:def 1;
reconsider D154 = C195 , D155 = C196 as (Element of ( NAT )) by L1972 , L1964 , L1968;
L1973: D154 in ( C194 " { R5 } ) by L1966 , TARSKI:def 1;
L1974: ( C194 . D154 ) in { R5 } by L1973 , FUNCT_1:def 7;
L1975: ( C194 . D154 ) = R5 by L1974 , TARSKI:def 1;
L1976: D155 in ( C194 " { R6 } ) by L1970 , TARSKI:def 1;
L1977: ( C194 . D155 ) in { R6 } by L1976 , FUNCT_1:def 7;
L1978: ( C194 . D155 ) = R6 by L1977 , TARSKI:def 1;
L1979: ( dom C193 ) = D148 by FUNCT_2:def 1;
L1980:
now
per cases  by XXREAL_0:1;
suppose L1981: (D154 < ( C186 . D141 ) & D155 < ( C186 . D141 ));

L1982: (D154 in ( rng D147 ) or D154 in { ( C186 . D141 ) }) by L1965 , L1960 , XBOOLE_0:def 3;
L1983: ( C188 " { D154 } ) = ( D153 " { R5 } ) by L1982 , L1919 , L1967 , L1981 , TARSKI:def 1;
L1984: (D155 in ( rng D147 ) or D155 in { ( C186 . D141 ) }) by L1969 , L1960 , XBOOLE_0:def 3;
L1985: D154 < D155
proof
assume L1986: D154 >= D155;
L1987: D154 > D155 by L1986 , L1963 , L1975 , L1978 , XXREAL_0:1;
L1988: ( C193 . D154 ) > ( C193 . D155 ) by L1987 , L1891 , L1973 , L1976 , L1979;
L1989: ( ( C193 . D154 ) + 1 ) > ( ( C193 . D155 ) + 1 ) by L1988 , XREAL_1:8;
L1990: ( ( C193 . D154 ) + 1 ) in ( rng C193 ) by L1964 , L1929 , L1981;
L1991: ( D150 . ( ( C193 . D155 ) + 1 ) ) = R6 by L1893 , L1976 , L1978 , L1981;
L1992: ( ( C193 . D155 ) + 1 ) in ( rng C193 ) by L1968 , L1929 , L1981;
L1993: ( D150 . ( ( C193 . D154 ) + 1 ) ) = R5 by L1893 , L1973 , L1975 , L1981;
thus L1994: contradiction by L1993 , L1963 , L1948 , L1989 , L1990 , L1992 , L1991;
end;
L1995: ( min* ( C188 " { D154 } ) ) < ( min* ( C188 " { D155 } ) ) by L1985 , L1836 , L1837 , L1981 , L1982 , L1984 , TARSKI:def 1;
thus L1996: thesis by L1995 , L1919 , L1971 , L1981 , L1984 , L1983 , TARSKI:def 1;
end;
suppose L1997: (D154 = ( C186 . D141 ) & D155 <> ( C186 . D141 ));

consider R15 being set such that L1998: R15 in ( dom C189 ) and L1999: ( C189 . R15 ) = D155 by L1969 , FUNCT_1:def 3;
L2000: ( C189 . R15 ) in { D155 } by L1999 , TARSKI:def 1;
L2001: ( D153 " { R6 } ) is non  empty non  empty non  empty non  empty (Subset of ( NAT )) by L2000 , L1971 , L1998 , FUNCT_1:def 7 , XBOOLE_1:1;
L2002: ( min* ( D153 " { R6 } ) ) in ( D153 " { R6 } ) by L2001 , NAT_1:def 1;
L2003: (D155 in ( rng D147 ) or D155 in { ( C186 . D141 ) }) by L1969 , L1960 , XBOOLE_0:def 3;
L2004: ( C188 " { D155 } ) = ( D153 " { R6 } ) by L2003 , L1919 , L1971 , L1997 , TARSKI:def 1;
L2005: ( min* ( D153 " { R6 } ) ) in ( dom C186 ) by L2004 , L1851 , L2002 , XBOOLE_0:def 5;
L2006: D141 <= ( min* ( D153 " { R6 } ) ) by L2005 , NAT_1:def 1;
L2007: D141 in D139 by NAT_1:def 1;
L2008: ( C186 . D141 ) in { ( C186 . D141 ) } by TARSKI:def 1;
L2009: D141 in ( C186 " { ( C186 . D141 ) } ) by L2008 , L2007 , FUNCT_1:def 7;
L2010: D141 <> ( min* ( D153 " { R6 } ) ) by L2009 , L1851 , L2004 , L2002 , XBOOLE_0:def 5;
L2011: D141 < ( min* ( D153 " { R6 } ) ) by L2010 , L2006 , XXREAL_0:1;
L2012: ( D153 " { R5 } ) is (Subset of ( NAT )) by XBOOLE_1:1;
L2013: ( min* ( D153 " { R5 } ) ) <= D141 by L2012 , L1852 , L1967 , L1997 , L2009 , NAT_1:def 1;
thus L2014: thesis by L2013 , L2011 , XXREAL_0:2;
end;
suppose L2015: (D154 < ( C186 . D141 ) & D155 = ( C186 . D141 ));

L2016: ( card D148 ) = ( rng C193 ) by L1890 , FUNCT_2:def 3;
L2017: ( 0 ) in ( rng C193 ) by L2016 , NAT_1:44;
L2018: ( ( C193 . D154 ) + 1 ) in ( rng C193 ) by L1964 , L1929 , L2015;
L2019: ( D150 . ( ( C193 . D154 ) + 1 ) ) > ( D150 . ( 0 ) ) by L2018 , L1948 , L2017;
L2020: ( C194 . D155 ) = ( D150 . ( 0 ) ) by L1893 , L1976 , L2015;
L2021: ( D150 . ( ( C193 . D154 ) + 1 ) ) = R5 by L1893 , L1973 , L1975 , L2015;
thus L2022: thesis by L2021 , L1963 , L1977 , L2019 , L2020 , TARSKI:def 1;
end;
suppose L2023: (D154 = ( C186 . D141 ) & D155 = ( C186 . D141 ));

thus L2024: thesis by L2023 , L1963 , L1977 , L1975 , TARSKI:def 1;
end;
suppose L2025: (D154 > ( C186 . D141 ) & D155 > ( C186 . D141 ));

L2026: (D154 in ( rng D147 ) or D154 in { ( C186 . D141 ) }) by L1965 , L1960 , XBOOLE_0:def 3;
L2027: ( C188 " { D154 } ) = ( D153 " { R5 } ) by L2026 , L1919 , L1967 , L2025 , TARSKI:def 1;
L2028: ( C194 . D155 ) = D155 by L1893 , L1968 , L2025;
L2029: (D155 in ( rng D147 ) or D155 in { ( C186 . D141 ) }) by L1969 , L1960 , XBOOLE_0:def 3;
L2030: ( C194 . D154 ) = D154 by L1893 , L1964 , L2025;
L2031: ( min* ( C188 " { D154 } ) ) < ( min* ( C188 " { D155 } ) ) by L2030 , L1836 , L1837 , L1963 , L1975 , L1978 , L2025 , L2028 , L2026 , L2029 , TARSKI:def 1;
thus L2032: thesis by L2031 , L1919 , L1971 , L2025 , L2029 , L2027 , TARSKI:def 1;
end;
suppose L2033: (D154 > ( C186 . D141 ) & D155 = ( C186 . D141 ));

L2034: ( dom C193 ) = D148 by FUNCT_2:def 1;
L2035: ( rng ( C193 " ) ) = ( dom C193 ) by L1890 , FUNCT_1:33;
consider R15 being set such that L2036: R15 in ( dom D150 ) and L2037: ( D150 . R15 ) = D154 by L2035 , L1964 , L2034 , FUNCT_1:def 3;
L2038: R15 in ( card D148 ) by L2036;
L2039: ( card D148 ) is (Subset of ( NAT )) by L61;
reconsider D156 = R15 as (Element of ( NAT )) by L2039 , L2038;
L2040: ( C194 . D154 ) = D154 by L1893 , L1964 , L2033;
L2041: ( D150 . D156 ) < ( D150 . ( 0 ) ) by L2040 , L1893 , L1963 , L1968 , L1975 , L1978 , L2033 , L2037;
L2042: ( card D148 ) = ( rng C193 ) by L1890 , FUNCT_2:def 3;
L2043: ( 0 ) in ( rng C193 ) by L2042 , NAT_1:44;
L2044: D156 <= ( 0 ) by L2043 , L1948 , L2036 , L2042 , L2041;
thus L2045: thesis by L2044 , L2041;
end;
suppose L2046: (D154 < ( C186 . D141 ) & D155 > ( C186 . D141 ));

L2047: (D154 in ( rng D147 ) or D154 in { ( C186 . D141 ) }) by L1965 , L1960 , XBOOLE_0:def 3;
L2048: ( C188 " { D154 } ) = ( D153 " { R5 } ) by L2047 , L1919 , L1967 , L2046 , TARSKI:def 1;
L2049: (D155 in ( rng D147 ) or D155 in { ( C186 . D141 ) }) by L1969 , L1960 , XBOOLE_0:def 3;
L2050: D154 < D155 by L2046 , XXREAL_0:2;
L2051: ( min* ( C188 " { D154 } ) ) < ( min* ( C188 " { D155 } ) ) by L2050 , L1836 , L1837 , L2046 , L2047 , L2049 , TARSKI:def 1;
thus L2052: thesis by L2051 , L1919 , L1971 , L2046 , L2049 , L2048 , TARSKI:def 1;
end;
suppose L2053: (D154 > ( C186 . D141 ) & D155 < ( C186 . D141 ));

L2054: ( dom C193 ) = D148 by L2053 , L1968 , L1929;
L2055: ( C193 . ( C186 . D141 ) ) in ( rng C193 ) by L2054 , L1815 , FUNCT_1:def 3;
L2056: ( ( C193 . D155 ) + 1 ) <= ( C193 . ( C186 . D141 ) ) by L1968 , L1929 , L2053;
L2057: (( ( C193 . D155 ) + 1 ) < ( C193 . ( C186 . D141 ) ) or ( ( C193 . D155 ) + 1 ) = ( C193 . ( C186 . D141 ) )) by L2056 , XXREAL_0:1;
L2058: ( C186 . D141 ) in ( dom C193 ) by L1815 , L1968 , L1929 , L2053;
L2059: ( D150 . ( C193 . ( C186 . D141 ) ) ) = ( C186 . D141 ) by L2058 , L1890 , FUNCT_1:34;
L2060: ( C194 . D154 ) = D154 by L1893 , L1964 , L2053;
L2061: ( D150 . ( ( C193 . D155 ) + 1 ) ) = ( C194 . D155 ) by L1893 , L1968 , L2053;
L2062: ( ( C193 . D155 ) + 1 ) in ( rng C193 ) by L1968 , L1929 , L2053;
L2063: ( C194 . D155 ) <= ( C186 . D141 ) by L2062 , L1948 , L2057 , L2055 , L2059 , L2061;
thus L2064: thesis by L2063 , L1963 , L1975 , L1978 , L2053 , L2060 , XXREAL_0:2;
end;
end;
thus L2066: thesis by L1980;
end;
L2067: D140 is non  empty;
L2068: ( dom C186 ) = C184 by L2067 , FUNCT_2:def 1;
L2069: (for R15 being set holds (R15 in ( dom C186 ) implies ( C186 . R15 ) = ( D149 . ( C189 . R15 ) )))
proof
let R15 being set;
assume that
L2070: R15 in ( dom C186 );
L2071:
now
per cases  by L2070 , XBOOLE_0:def 5;
suppose L2072: R15 in ( C184 \ D146 );

L2073: (not R15 in ( ( dom C186 ) \ ( C186 " { ( C186 . D141 ) } ) )) by L2072 , L1851 , XBOOLE_0:def 5;
L2074: R15 in ( dom C186 ) by L2068 , L2072 , XBOOLE_0:def 5;
L2075: R15 in ( C186 " { ( C186 . D141 ) } ) by L2074 , L2073 , XBOOLE_0:def 5;
L2076: ( C186 . R15 ) in { ( C186 . D141 ) } by L2075 , FUNCT_1:def 7;
L2077: ( D149 . ( C189 . R15 ) ) = ( C186 . D141 ) by L1839 , L1886 , L2072;
thus L2078: thesis by L2077 , L2076 , TARSKI:def 1;
end;
suppose L2079: R15 in D146;

L2080: ( C186 . R15 ) = ( D147 . R15 ) by L2079 , FUNCT_1:47;
L2081: ( D147 . R15 ) = ( C187 . ( C188 . R15 ) ) by L1835 , L2079 , FUNCT_1:12;
L2082: ( dom C187 ) = ( rng D147 ) by FUNCT_2:def 1;
L2083: R15 in ( dom C188 ) by L2079 , FUNCT_2:def 1;
L2084: ( C188 . R15 ) in ( rng D147 ) by L2083 , L1836 , FUNCT_1:def 3;
L2085: ( C188 . R15 ) = ( C189 . R15 ) by L1839 , L2083 , FUNCT_1:47;
thus L2086: thesis by L2085 , L1885 , L2080 , L2081 , L2084 , L2082 , FUNCT_1:47;
end;
end;
thus L2088: thesis by L2071;
end;
L2089: ( dom C189 ) = C184 by FUNCT_2:def 1;
L2090: (for R15 being set holds (R15 in ( dom C186 ) iff (R15 in ( dom C189 ) & ( C189 . R15 ) in ( dom D149 ))))
proof
let R15 being set;
thus L2091: (R15 in ( dom C186 ) implies (R15 in ( dom C189 ) & ( C189 . R15 ) in ( dom D149 )))
proof
assume L2092: R15 in ( dom C186 );
L2093: ( dom D149 ) = ( rng C186 ) by L2092 , L2089 , FUNCT_2:def 1;
thus L2094: thesis by L2093 , L1882 , L2089 , L2092 , FUNCT_1:def 3;
end;

thus L2095: thesis by L2068;
end;
L2096: C186 = ( D149 * C189 ) by L2090 , L2069 , FUNCT_1:10;
L2097: C186 = ( D152 * D153 ) by L2096 , L1902 , RELAT_1:36;
L2098: ( rng C194 ) = D148 by FUNCT_2:def 3;
L2099: ( rng ( C194 * C189 ) ) = D148 by L2098 , L1882 , L1895 , FUNCT_2:14;
thus L2100: thesis by L2099 , L2097 , L1928;
end;
end;
thus L2102: thesis by L1816;
end;
end;
thus L2104: thesis by L1809;
end;
L2105: (for B218 being Function holds (( rng B218 ) is  finite implies S23[ B218 ])) from Sch9(L1795 , L1805);
let C197 being (Function of R10 , R9);
assume L2106: ( rng C197 ) is  finite;
consider C198 being (Permutation of ( rng C197 )), C199 being (Function of R10 , R9) such that L2107: C197 = ( C198 * C199 ) and L2108: ( rng C197 ) = ( rng C199 ) and L2109: (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( rng C199 ) & R6 in ( rng C199 ) & R5 < R6) implies ( min* ( C199 " { R5 } ) ) < ( min* ( C199 " { R6 } ) )))) by L2106 , L2105;
L2110: C199 is  "increasing by L2109 , L1757;
thus L2111: thesis by L2110 , L2107 , L2108;
end;
theorem
L2112: (for R9 being (Subset of ( NAT )) holds (for R10 being (Subset of ( NAT )) holds (for R11 being (Subset of ( NAT )) holds (for B219 being (Function of R10 , R9) holds (( rng B219 ) is  finite implies (for B220 , B221 being (Function of R10 , R11) holds (for B222 , B223 being Function holds ((B222 is  one-to-one & B223 is  one-to-one & ( rng B220 ) = ( rng B221 ) & ( rng B220 ) = ( dom B222 ) & ( dom B222 ) = ( dom B223 ) & B219 = ( B222 * B220 ) & B219 = ( B223 * B221 ) & B220 is  "increasing & B221 is  "increasing) implies (B222 = B223 & B220 = B221)))))))))
proof
let R9 being (Subset of ( NAT ));
let R10 being (Subset of ( NAT ));
let R11 being (Subset of ( NAT ));
defpred S24[ set , Function ] means $1 = ( $2 . ( min* ( dom $2 ) ) );
defpred S25[ set ] means (for B224 , B225 , B226 being (Subset of ( NAT )) holds (for B227 being (Function of B224 , B225) holds (B227 = $1 implies (for B228 , B229 being (Function of B224 , B226) holds (for B230 , B231 being Function holds ((B230 is  one-to-one & B231 is  one-to-one & ( rng B228 ) = ( rng B229 ) & ( rng B228 ) = ( dom B230 ) & ( dom B230 ) = ( dom B231 ) & B227 = ( B230 * B228 ) & B227 = ( B231 * B229 ) & B228 is  "increasing & B229 is  "increasing) implies (B230 = B231 & B228 = B229)))))));
L2113: S25[ ( {} ) ]
proof
let C200 , C201 , C202 being (Subset of ( NAT ));
let C203 being (Function of C200 , C201);
assume that
L2114: C203 = ( {} );
let C204 , C205 being (Function of C200 , C202);
let C206 , C207 being Function;
assume that
L2115: C206 is  one-to-one
and
L2116: C207 is  one-to-one
and
L2117: ( rng C204 ) = ( rng C205 )
and
L2118: ( rng C204 ) = ( dom C206 )
and
L2119: ( dom C206 ) = ( dom C207 )
and
L2120: C203 = ( C206 * C204 )
and
L2121: C203 = ( C207 * C205 )
and
L2122: C204 is  "increasing
and
L2123: C205 is  "increasing;
L2124: ( dom C204 ) = ( {} ) by L2114 , L2118 , L2120 , RELAT_1:27 , RELAT_1:38;
L2125: C204 = ( {} ) by L2124;
L2126: ( rng C206 ) = ( {} ) by L2114 , L2118 , L2120 , RELAT_1:28 , RELAT_1:38;
L2127: C206 = ( {} ) by L2126;
thus L2128: thesis by L2127 , L2117 , L2119 , L2125;
end;
L2129: (for B232 being Function holds ((for R15 being set holds ((R15 in ( rng B232 ) & S24[ R15 , B232 ]) implies S25[ ( B232 | ( ( dom B232 ) \ ( B232 " { R15 } ) ) ) ])) implies S25[ B232 ]))
proof
let C208 being Function;
assume that
L2130: (for R15 being set holds ((R15 in ( rng C208 ) & S24[ R15 , C208 ]) implies S25[ ( C208 | ( ( dom C208 ) \ ( C208 " { R15 } ) ) ) ]));
L2131:
now
per cases ;
suppose L2132: C208 = ( {} );

thus L2133: thesis by L2132 , L2113;
end;
suppose L2134: C208 <> ( {} );

let C209 , C210 , C211 being (Subset of ( NAT ));
let C212 being (Function of C209 , C210);
assume that
L2135: C212 = C208;
L2136: C210 is non  empty by L2134 , L2135;
reconsider D157 = ( dom C212 ) as non  empty (Subset of ( NAT )) by L2136 , L2134 , L2135 , FUNCT_2:def 1;
set D158 = ( min* ( dom C212 ) );
let C213 , C214 being (Function of C209 , C211);
let C215 , C216 being Function;
assume that
L2137: C215 is  one-to-one
and
L2138: C216 is  one-to-one
and
L2139: ( rng C213 ) = ( rng C214 )
and
L2140: ( rng C213 ) = ( dom C215 )
and
L2141: ( dom C215 ) = ( dom C216 )
and
L2142: C212 = ( C215 * C213 )
and
L2143: C212 = ( C216 * C214 )
and
L2144: C213 is  "increasing
and
L2145: C214 is  "increasing;
L2146: ( dom C213 ) = ( dom C212 ) by L2140 , L2142 , RELAT_1:27;
L2147: ( min* ( rng C213 ) ) = ( C213 . D158 ) by L2146 , L2144 , L1759;
reconsider D159 = ( ( rng C213 ) \ { ( C213 . D158 ) } ) as (Subset of ( NAT )) by XBOOLE_1:1;
reconsider D160 = ( ( dom C212 ) \ ( C212 " { ( C212 . D158 ) } ) ) as (Subset of ( NAT )) by XBOOLE_1:1;
L2148: (for B233 being (Function of C209 , C211) holds (for B234 being Function holds ((B234 is  one-to-one & ( rng B233 ) = ( dom B234 ) & C212 = ( B234 * B233 ) & B233 is  "increasing) implies (( dom ( B233 | D160 ) ) = D160 & ( rng ( B233 | D160 ) ) = ( ( rng B233 ) \ { ( B233 . D158 ) } ) & ( dom ( B234 | ( ( rng B233 ) \ { ( B233 . D158 ) } ) ) ) = ( ( rng B233 ) \ { ( B233 . D158 ) } ) & ( C212 | D160 ) = ( ( B234 | ( ( rng B233 ) \ { ( B233 . D158 ) } ) ) * ( B233 | D160 ) ) & ( B234 | ( ( rng B233 ) \ { ( B233 . D158 ) } ) ) is  one-to-one & (for B235 being (Subset of ( NAT )) holds (B235 = ( ( rng B233 ) \ { ( B233 . D158 ) } ) implies (for B236 being (Function of D160 , B235) holds (B236 = ( B233 | D160 ) implies B236 is  "increasing))))))))
proof
L2149: ( C212 . D158 ) in { ( C212 . D158 ) } by TARSKI:def 1;
let C217 being (Function of C209 , C211);
let C218 being Function;
assume that
L2150: C218 is  one-to-one
and
L2151: ( rng C217 ) = ( dom C218 )
and
L2152: C212 = ( C218 * C217 )
and
L2153: C217 is  "increasing;
L2154: ( ( dom C218 ) /\ ( ( rng C217 ) \ { ( C217 . D158 ) } ) ) = ( ( rng C217 ) \ { ( C217 . D158 ) } ) by L2151 , XBOOLE_1:28 , XBOOLE_1:36;
L2155: D158 in D157 by NAT_1:def 1;
L2156: ( C212 . D158 ) in ( rng C212 ) by L2155 , FUNCT_1:def 3;
consider R15 being set such that L2157: R15 in ( dom C218 ) and L2158: R15 in ( rng C217 ) and L2159: ( C218 " { ( C212 . D158 ) } ) = { R15 } and L2160: ( C217 " { R15 } ) = ( C212 " { ( C212 . D158 ) } ) by L2156 , L2150 , L2152 , L1721;
L2161: ( dom ( C218 | ( ( rng C217 ) \ { ( C217 . D158 ) } ) ) ) = ( ( dom C218 ) /\ ( ( rng C217 ) \ { ( C217 . D158 ) } ) ) by RELAT_1:61;
L2162: ( dom C212 ) = ( dom C217 ) by L2151 , L2152 , RELAT_1:27;
L2163: ( ( dom C217 ) /\ D160 ) = D160 by L2162 , XBOOLE_1:28 , XBOOLE_1:36;
L2164: D158 in D157 by NAT_1:def 1;
L2165: D158 in ( C217 " { R15 } ) by L2164 , L2160 , L2149 , FUNCT_1:def 7;
L2166: ( C217 . D158 ) in { R15 } by L2165 , FUNCT_1:def 7;
L2167: ( C217 . D158 ) = R15 by L2166 , TARSKI:def 1;
L2168: (for B237 being (Subset of ( NAT )) holds (B237 = ( ( rng C217 ) \ { ( C217 . D158 ) } ) implies (for B238 being (Function of D160 , B237) holds (B238 = ( C217 | D160 ) implies B238 is  "increasing))))
proof
let C219 being (Subset of ( NAT ));
assume that
L2169: C219 = ( ( rng C217 ) \ { ( C217 . D158 ) } );
let C220 being (Function of D160 , C219);
assume that
L2170: C220 = ( C217 | D160 );
L2171: ( rng C220 ) = ( ( rng C217 ) \ { ( C217 . D158 ) } ) by L2160 , L2167 , L2162 , L2170 , L1459;
let R2 being Nat;
let R4 being Nat;
assume that
L2172: R2 in ( rng C220 )
and
L2173: R4 in ( rng C220 )
and
L2174: R2 < R4;
L2175: R4 in ( rng C217 ) by L2173 , L2171 , ZFMISC_1:56;
L2176: R4 <> ( C217 . D158 ) by L2173 , L2171 , ZFMISC_1:56;
L2177: ( C220 " { R4 } ) = ( C217 " { R4 } ) by L2176 , L2160 , L2167 , L2162 , L2170 , L1459;
L2178: R2 <> ( C217 . D158 ) by L2172 , L2171 , ZFMISC_1:56;
L2179: ( C220 " { R2 } ) = ( C217 " { R2 } ) by L2178 , L2160 , L2167 , L2162 , L2170 , L1459;
L2180: R2 in ( rng C217 ) by L2172 , L2171 , ZFMISC_1:56;
thus L2181: thesis by L2180 , L2153 , L2174 , L2175 , L2179 , L2177 , L1757;
end;
set D161 = ( ( rng C217 ) \ { ( C217 . D158 ) } );
L2182: ( dom ( C217 | D160 ) ) = ( ( dom C217 ) /\ D160 ) by RELAT_1:61;
L2183: ( rng ( C217 | D160 ) ) = ( ( rng C217 ) \ { ( C217 . D158 ) } ) by L2160 , L2167 , L2162 , L1459;
L2184: (for R15 being set holds (R15 in ( dom ( C212 | D160 ) ) implies ( ( C212 | D160 ) . R15 ) = ( ( C218 | D161 ) . ( ( C217 | D160 ) . R15 ) )))
proof
let R15 being set;
assume that
L2185: R15 in ( dom ( C212 | D160 ) );
L2186: R15 in ( ( dom C212 ) /\ D160 ) by L2185 , RELAT_1:61;
L2187: R15 in ( dom C212 ) by L2186 , XBOOLE_0:def 4;
L2188: ( ( C217 | D160 ) . R15 ) in ( dom ( C218 | D161 ) ) by L2162 , L2182 , L2161 , L2154 , L2183 , L2186 , FUNCT_1:def 3;
L2189: ( ( C218 | D161 ) . ( ( C217 | D160 ) . R15 ) ) = ( C218 . ( ( C217 | D160 ) . R15 ) ) by L2188 , FUNCT_1:47;
L2190: ( ( C212 | D160 ) . R15 ) = ( C212 . R15 ) by L2185 , FUNCT_1:47;
L2191: ( C217 . R15 ) = ( ( C217 | D160 ) . R15 ) by L2162 , L2182 , L2186 , FUNCT_1:47;
thus L2192: thesis by L2191 , L2152 , L2187 , L2189 , L2190 , FUNCT_1:12;
end;
L2193: ( ( dom C212 ) /\ D160 ) = D160 by XBOOLE_1:28 , XBOOLE_1:36;
L2194: ( dom ( C212 | D160 ) ) = D160 by L2193 , RELAT_1:61;
L2195: (for R15 being set holds (R15 in ( dom ( C212 | D160 ) ) iff (R15 in ( dom ( C217 | D160 ) ) & ( ( C217 | D160 ) . R15 ) in ( dom ( C218 | D161 ) )))) by L2194 , L2182 , L2163 , L2161 , L2154 , L2183 , FUNCT_1:def 3;
thus L2196: thesis by L2195 , L2150 , L2160 , L2167 , L2162 , L2163 , L2154 , L2184 , L2168 , L1459 , FUNCT_1:10 , FUNCT_1:52 , RELAT_1:61;
end;
L2197: ( C215 | D159 ) is  one-to-one by L2148 , L2137 , L2140 , L2142 , L2144;
L2198: ( dom C214 ) = ( dom C212 ) by L2139 , L2140 , L2141 , L2143 , RELAT_1:27;
L2199: ( min* ( rng C214 ) ) = ( C214 . D158 ) by L2198 , L2145 , L1759;
L2200: ( C216 | D159 ) is  one-to-one by L2199 , L2138 , L2139 , L2140 , L2141 , L2143 , L2145 , L2148 , L2147;
L2201: ( dom ( C214 | D160 ) ) = D160 by L2138 , L2139 , L2140 , L2141 , L2143 , L2145 , L2148;
L2202: ( dom ( C213 | D160 ) ) = D160 by L2137 , L2140 , L2142 , L2144 , L2148;
L2203: ( rng ( C213 | D160 ) ) = D159 by L2137 , L2140 , L2142 , L2144 , L2148;
L2204: ( rng ( C214 | D160 ) ) = D159 by L2138 , L2139 , L2140 , L2141 , L2143 , L2145 , L2148 , L2147 , L2199;
reconsider D162 = ( C213 | D160 ) , D163 = ( C214 | D160 ) as (Function of D160 , D159) by L2204 , L2202 , L2201 , L2203 , FUNCT_2:1;
L2205: D163 is  "increasing by L2138 , L2139 , L2140 , L2141 , L2143 , L2145 , L2148 , L2147 , L2199;
L2206: ( rng D162 ) = D159 by L2137 , L2140 , L2142 , L2144 , L2148;
L2207: ( rng D162 ) = ( dom ( C215 | D159 ) ) by L2206 , L2137 , L2140 , L2142 , L2144 , L2148;
reconsider D164 = ( rng ( C212 | D160 ) ) as (Subset of ( NAT )) by XBOOLE_1:1;
L2208: ( ( dom C212 ) /\ D160 ) = D160 by XBOOLE_1:28 , XBOOLE_1:36;
L2209: ( dom ( C212 | D160 ) ) = D160 by L2208 , RELAT_1:61;
reconsider D165 = ( C212 | D160 ) as (Function of D160 , D164) by L2209 , FUNCT_2:1;
L2210: D165 = ( ( C215 | D159 ) * D162 ) by L2137 , L2140 , L2142 , L2144 , L2148;
L2211: D165 = ( ( C216 | D159 ) * D163 ) by L2138 , L2139 , L2140 , L2141 , L2143 , L2145 , L2148 , L2147 , L2199;
L2212: D158 in D157 by NAT_1:def 1;
L2213: ( C212 . D158 ) in ( rng C212 ) by L2212 , FUNCT_1:def 3;
L2214: ( dom ( C215 | D159 ) ) = D159 by L2137 , L2140 , L2142 , L2144 , L2148;
L2215: ( dom ( C215 | D159 ) ) = ( dom ( C216 | D159 ) ) by L2214 , L2138 , L2139 , L2140 , L2141 , L2143 , L2145 , L2148 , L2147 , L2199;
L2216: D162 is  "increasing by L2137 , L2140 , L2142 , L2144 , L2148;
L2217: ( rng D162 ) = ( rng D163 ) by L2138 , L2139 , L2140 , L2141 , L2143 , L2145 , L2148 , L2147 , L2199 , L2206;
L2218: (for R15 being set holds (R15 in ( dom C215 ) implies ( C215 . R15 ) = ( C216 . R15 )))
proof
L2219: D158 in D157 by NAT_1:def 1;
L2220: ( dom C213 ) = ( dom C212 ) by L2140 , L2142 , RELAT_1:27;
L2221: ( C213 . D158 ) in ( rng C213 ) by L2220 , L2219 , FUNCT_1:def 3;
L2222: ( dom C215 ) = ( D159 \/ { ( C213 . D158 ) } ) by L2221 , L2140 , ZFMISC_1:116;
let R15 being set;
assume that
L2223: R15 in ( dom C215 );
L2224:
now
per cases  by L2223 , L2222 , XBOOLE_0:def 3;
suppose L2225: R15 in D159;

L2226: ( ( dom C215 ) /\ D159 ) = D159 by L2140 , XBOOLE_1:28 , XBOOLE_1:36;
L2227: R15 in ( dom ( C215 | D159 ) ) by L2226 , L2225 , RELAT_1:61;
L2228: ( ( C215 | D159 ) . R15 ) = ( C215 . R15 ) by L2227 , FUNCT_1:47;
L2229: ( ( dom C216 ) /\ D159 ) = D159 by L2140 , L2141 , XBOOLE_1:28 , XBOOLE_1:36;
L2230: R15 in ( dom ( C216 | D159 ) ) by L2229 , L2225 , RELAT_1:61;
L2231: ( ( C216 | D159 ) . R15 ) = ( C216 . R15 ) by L2230 , FUNCT_1:47;
thus L2232: thesis by L2231 , L2130 , L2135 , L2213 , L2197 , L2200 , L2217 , L2207 , L2215 , L2210 , L2211 , L2216 , L2205 , L2228;
end;
suppose L2233: R15 in { ( C213 . D158 ) };

L2234: D158 in D157 by NAT_1:def 1;
L2235: R15 = ( C213 . D158 ) by L2233 , TARSKI:def 1;
L2236: ( C212 . D158 ) = ( C215 . R15 ) by L2235 , L2142 , L2234 , FUNCT_1:12;
thus L2237: thesis by L2236 , L2139 , L2143 , L2147 , L2199 , L2235 , L2234 , FUNCT_1:12;
end;
end;
thus L2239: thesis by L2224;
end;
L2240: C215 = C216 by L2218 , L2141 , FUNCT_1:def 11;
L2241: C214 is (Function of ( dom C214 ) , ( rng C214 )) by FUNCT_2:1;
L2242: C214 = ( ( id ( rng C214 ) ) * C214 ) by L2241 , FUNCT_2:17;
L2243: C213 is (Function of ( dom C213 ) , ( rng C213 )) by FUNCT_2:1;
L2244: C213 = ( ( id ( rng C213 ) ) * C213 ) by L2243 , FUNCT_2:17;
L2245: ( ( C215 " ) * C215 ) = ( id ( dom C215 ) ) by L2137 , FUNCT_1:39;
L2246: C213 = ( ( C215 " ) * ( C215 * C213 ) ) by L2245 , L2140 , L2244 , RELAT_1:36;
L2247: ( ( C216 " ) * C216 ) = ( id ( dom C216 ) ) by L2138 , FUNCT_1:39;
thus L2248: (C215 = C216 & C213 = C214) by L2247 , L2139 , L2140 , L2142 , L2143 , L2240 , L2242 , L2246 , RELAT_1:36;
end;
end;
thus L2250: thesis by L2131;
end;
L2251: (for B239 being Function holds (( rng B239 ) is  finite implies S25[ B239 ])) from Sch9(L2113 , L2129);
thus L2252: thesis by L2251;
end;
theorem
L2253: (for R9 being (Subset of ( NAT )) holds (for R10 being (Subset of ( NAT )) holds (for B240 being (Function of R10 , R9) holds (( rng B240 ) is  finite implies (for B241 , B242 being (Function of R10 , R9) holds (for B243 , B244 being (Permutation of ( rng B240 )) holds ((B240 = ( B243 * B241 ) & B240 = ( B244 * B242 ) & ( rng B240 ) = ( rng B241 ) & ( rng B240 ) = ( rng B242 ) & B241 is  "increasing & B242 is  "increasing) implies (B243 = B244 & B241 = B242))))))))
proof
let R9 being (Subset of ( NAT ));
let R10 being (Subset of ( NAT ));
let C221 being (Function of R10 , R9);
assume that
L2254: ( rng C221 ) is  finite;
let C222 , C223 being (Function of R10 , R9);
let C224 , C225 being (Permutation of ( rng C221 ));
assume that
L2255: C221 = ( C224 * C222 )
and
L2256: C221 = ( C225 * C223 )
and
L2257: ( rng C221 ) = ( rng C222 )
and
L2258: ( rng C221 ) = ( rng C223 )
and
L2259: C222 is  "increasing
and
L2260: C223 is  "increasing;
L2261: (( rng C221 ) = ( {} ) implies ( rng C221 ) = ( {} ));
L2262: ( dom C225 ) = ( rng C221 ) by L2261 , FUNCT_2:def 1;
L2263: ( dom C224 ) = ( rng C221 ) by L2261 , FUNCT_2:def 1;
thus L2264: thesis by L2263 , L2254 , L2255 , L2256 , L2257 , L2258 , L2259 , L2260 , L2262 , L2112;
end;
::$N Stirling numbers of the second kind
theorem
L2265: (for B245 being non  empty set holds (for B246 being (XFinSequence of B245) holds (((for R5 being Nat holds (R5 in ( dom B246 ) implies ( B246 . R5 ) is  finite)) & (for R5 being Nat holds (for R6 being Nat holds ((R5 in ( dom B246 ) & R6 in ( dom B246 ) & R5 <> R6) implies ( B246 . R5 ) misses ( B246 . R6 ))))) implies (ex B247 being (XFinSequence of ( NAT )) st (( dom B247 ) = ( dom B246 ) & (for R5 being Nat holds (R5 in ( dom B247 ) implies ( B247 . R5 ) = ( card ( B246 . R5 ) ))) & ( card ( union ( rng B246 ) ) ) = ( Sum B247 )))))) by L1207;
