:: Linear Transformations of Euclidean Topological Spaces
::  by Karol P\kak
::
:: Received October 26, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ALGSTR_0, ARYTM_1, ARYTM_3, BINOP_2, CARD_1, CARD_3, CLASSES1,
      COMPLEX1, CONNSP_2, EUCLID, FINSEQ_1, FINSEQ_2, FINSEQ_4, FINSET_1,
      FINSOP_1, FUNCT_1, FUNCT_2, FVSUM_1, INCSP_1, LMOD_7, MATRIX_1, MATRIX_3,
      MATRIX_6, MATRIX13, MATRIX15, MATRIXR1, MATRLIN, MATRLIN2, MESFUNC1,
      METRIC_1, NAT_1, NUMBERS, ORDINAL1, ORDINAL2, ORDINAL4, PARTFUN1,
      PARTFUN3, PRE_POLY, PRE_TOPC, PRVECT_1, QC_LANG1, RANKNULL, REAL_1,
      RELAT_1, RLSUB_1, RLVECT_3, RLVECT_5, RVSUM_1, SQUARE_1, STRUCT_0,
      SUBSET_1, SUPINF_2, TARSKI, TOPS_1, TOPS_2, TREES_1, VALUED_0, VALUED_1,
      VECTSP_1, VECTSP10, XBOOLE_0, XREAL_0, XXREAL_0, ZFMISC_1, FUNCOP_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, CARD_1, NUMBERS,
      XXREAL_0, ORDINAL1, FINSET_1, TOPS_1, TOPS_2, FUNCT_1, PARTFUN1,
      VALUED_0, VALUED_1, FUNCT_2, FINSEQ_1, FINSEQ_2, FINSEQ_3, BINOP_1,
      STRUCT_0, VECTSP_1, MATRIX_1, MATRIX_3, VECTSP_4, VECTSP_7, VECTSP_9,
      MATRIX13, XREAL_0, REAL_1, RVSUM_1, ALGSTR_0, FVSUM_1, RANKNULL,
      MATRIX11, COMPLEX1, BINOP_2, FUNCOP_1, SQUARE_1, PRE_TOPC, PARTFUN3,
      MATRIX_6, MATRLIN, MATRLIN2, NAT_D, MATRIX15, CONNSP_2, METRIC_1, EUCLID,
      FINSOP_1, PNPROC_1, RUSUB_4, PRVECT_1;
 constructors BINARITH, CONNSP_2, FINSOP_1, FVSUM_1, LAPLACE, MATRIX_6,
      MATRIX11, MATRIX13, MATRIX15, MATRLIN2, MONOID_0, PARTFUN3, PNPROC_1,
      RANKNULL, RELSET_1, RUSUB_5, SEQ_1, SETWISEO, SQUARE_1, TOPS_1, TOPS_2,
      VECTSP_9, VECTSP10, WELLORD2, EUCLID;
 registrations BINOP_2, CARD_1, EUCLID, EUCLID_9, FINSEQ_1, FINSEQ_2, FINSET_1,
      FUNCT_1, FUNCT_2, GRCAT_1, MATRIX13, MATRLIN2, MEMBERED, MOD_2, MONOID_0,
      NAT_1, NUMBERS, PARTFUN3, PNPROC_1, PRVECT_1, RELAT_1, RELSET_1, RVSUM_1,
      STRUCT_0, VALUED_0, VALUED_1, VECTSP_1, VECTSP_9, XBOOLE_0, XREAL_0,
      XXREAL_0;
 requirements ARITHM, NUMERALS, REAL, BOOLE, SUBSET;
 definitions BORSUK_1, EUCLID, FINSEQ_1, MATRIX13, PARTFUN3, RANKNULL,
      SQUARE_1, STRUCT_0, TARSKI, VECTSP_1, VECTSP_4, XBOOLE_0, FVSUM_1;
 theorems ABSVALUE, BINOP_2, CARD_1, CARD_2, CONNSP_2, EUCLID, EUCLID_2,
      FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4, FINSEQOP, FINSOP_1, FUNCOP_1,
      FUNCT_1, FUNCT_2, FVSUM_1, GOBOARD6, LAPLACE, MATRIX_1, MATRIX_2,
      MATRIX_3, MATRIX_4, MATRIX_6, MATRIX11, MATRIX13, MATRIX14, MATRIX15,
      MATRIXR1, MATRLIN, MATRLIN2, MATRPROB, METRIC_1, NAT_1, ORDINAL1,
      PARTFUN3, PNPROC_1, RANKNULL, RELAT_1, RLVECT_1, RUSUB_4, RVSUM_1,
      SPPOL_1, SQUARE_1, STIRL2_1, STRUCT_0, TARSKI, TOPREAL3, TOPS_2,
      VALUED_0, VALUED_1, VECTSP_4, VECTSP_7, VECTSP_9, XBOOLE_0, XBOOLE_1,
      XCMPLX_1, XREAL_0, XREAL_1, XXREAL_0, ZFMISC_1;
 schemes FINSEQ_1, FUNCT_2, NAT_1;

begin
registration
let R1 being set;
let R2 being set;
let C1 being  positive-yielding (PartFunc of R1 , ( REAL ));
cluster ( C1 | R2 ) ->  positive-yielding;
coherence
proof
let C2 being  real number;
assume L1: C2 in ( rng ( C1 | R2 ) );
L2: ( rng ( C1 | R2 ) ) c= ( rng C1 ) by RELAT_1:70;
thus L3: thesis by L2 , L1 , PARTFUN3:def 1;
end;
end;
registration
let R1 being set;
let R2 being set;
let C3 being  negative-yielding (PartFunc of R1 , ( REAL ));
cluster ( C3 | R2 ) ->  negative-yielding;
coherence
proof
let C4 being  real number;
assume L5: C4 in ( rng ( C3 | R2 ) );
L6: ( rng ( C3 | R2 ) ) c= ( rng C3 ) by RELAT_1:70;
thus L7: thesis by L6 , L5 , PARTFUN3:def 2;
end;
end;
registration
let R1 being set;
let R2 being set;
let C5 being  nonpositive-yielding (PartFunc of R1 , ( REAL ));
cluster ( C5 | R2 ) ->  nonpositive-yielding;
coherence
proof
let C6 being  real number;
assume L9: C6 in ( rng ( C5 | R2 ) );
L10: ( rng ( C5 | R2 ) ) c= ( rng C5 ) by RELAT_1:70;
thus L11: thesis by L10 , L9 , PARTFUN3:def 3;
end;
end;
registration
let R1 being set;
let R2 being set;
let C7 being  nonnegative-yielding (PartFunc of R1 , ( REAL ));
cluster ( C7 | R2 ) ->  nonnegative-yielding;
coherence
proof
let C8 being  real number;
assume L13: C8 in ( rng ( C7 | R2 ) );
L14: ( rng ( C7 | R2 ) ) c= ( rng C7 ) by RELAT_1:70;
thus L15: thesis by L14 , L13 , PARTFUN3:def 4;
end;
end;
registration
let R15 being  real-valued FinSequence;
cluster ( sqrt R15 ) ->  FinSequence-like;
coherence
proof
L17: (( dom R15 ) = ( dom ( sqrt R15 ) ) & (ex R3 being Nat st ( dom R15 ) = ( Seg R3 ))) by FINSEQ_1:def 2 , PARTFUN3:def 5;
thus L18: thesis by L17 , FINSEQ_1:def 2;
end;
end;
definition
let R15 being  real-valued FinSequence;
func @ R15 -> (FinSequence of ( F_Real )) equals 
R15;
coherence
proof
L20: ( rng R15 ) c= ( REAL );
thus L21: thesis by L20 , FINSEQ_1:def 4;
end;
end;
definition
let C9 being (FinSequence of ( F_Real ));
func @ C9 -> (FinSequence of ( REAL )) equals 
C9;
coherence;
end;
theorem
L24: (for R16 being  real-valued FinSequence holds (for R17 being  real-valued FinSequence holds ( ( @ R16 ) + ( @ R17 ) ) = ( R16 + R17 ))) by RVSUM_1:def 4;
theorem
L25: (for R16 being  real-valued FinSequence holds (for R17 being  real-valued FinSequence holds ( sqrt ( R16 ^ R17 ) ) = ( ( sqrt R16 ) ^ ( sqrt R17 ) )))
proof
let R16 being  real-valued FinSequence;
let R17 being  real-valued FinSequence;
set D1 = ( R16 ^ R17 );
set D2 = ( sqrt D1 );
set D3 = ( sqrt R16 );
set D4 = ( sqrt R17 );
L26: ( dom D2 ) = ( dom D1 ) by PARTFUN3:def 5;
L27: ( dom D4 ) = ( dom R17 ) by PARTFUN3:def 5;
L28: ( len D4 ) = ( len R17 ) by L27 , FINSEQ_3:29;
L29: ( dom D3 ) = ( dom R16 ) by PARTFUN3:def 5;
L30: ( len D3 ) = ( len R16 ) by L29 , FINSEQ_3:29;
L31: (for R3 being Nat holds ((1 <= R3 & R3 <= ( len D2 )) implies ( D2 . R3 ) = ( ( D3 ^ D4 ) . R3 )))
proof
let R3 being Nat;
assume L32: (1 <= R3 & R3 <= ( len D2 ));
L33: R3 in ( dom D2 ) by L32 , FINSEQ_3:25;
L34: ( D2 . R3 ) = ( sqrt ( D1 . R3 ) ) by L33 , PARTFUN3:def 5;
per cases  by L26 , L33 , FINSEQ_1:25;
suppose L35: R3 in ( dom R16 );

L36: (( D1 . R3 ) = ( R16 . R3 ) & ( D3 . R3 ) = ( sqrt ( R16 . R3 ) )) by L35 , L29 , FINSEQ_1:def 7 , PARTFUN3:def 5;
thus L37: thesis by L36 , L29 , L34 , L35 , FINSEQ_1:def 7;
end;
suppose L38: (ex R4 being Nat st (R4 in ( dom R17 ) & R3 = ( ( len R16 ) + R4 )));

consider R4 being Nat such that L39: (R4 in ( dom R17 ) & R3 = ( ( len R16 ) + R4 )) by L38;
L40: (( D1 . R3 ) = ( R17 . R4 ) & ( D4 . R4 ) = ( sqrt ( R17 . R4 ) )) by L27 , L39 , FINSEQ_1:def 7 , PARTFUN3:def 5;
thus L41: thesis by L40 , L27 , L30 , L34 , L39 , FINSEQ_1:def 7;
end;
end;
L43: ( len D2 ) = ( len D1 ) by L26 , FINSEQ_3:29;
L44: ( len D2 ) = ( ( len D3 ) + ( len D4 ) ) by L43 , L30 , L28 , FINSEQ_1:22;
L45: ( len D2 ) = ( len ( D3 ^ D4 ) ) by L44 , FINSEQ_1:22;
thus L46: thesis by L45 , L31 , FINSEQ_1:14;
end;
theorem
L47: (for R7 being  real number holds ( sqrt <* R7 *> ) = <* ( sqrt R7 ) *>)
proof
let R7 being  real number;
set D5 = <* R7 *>;
L48: ( D5 . 1 ) = R7 by FINSEQ_1:40;
L49: ( dom D5 ) = ( dom ( sqrt D5 ) ) by PARTFUN3:def 5;
L50: ( len D5 ) = ( len ( sqrt D5 ) ) by L49 , FINSEQ_3:29;
L51: (1 in ( Seg 1 ) & ( dom D5 ) = ( Seg 1 )) by FINSEQ_1:38;
L52: (( len D5 ) = 1 & ( ( sqrt D5 ) . 1 ) = ( sqrt R7 )) by L51 , L49 , L48 , FINSEQ_1:40 , PARTFUN3:def 5;
thus L53: thesis by L52 , L50 , FINSEQ_1:40;
end;
theorem
L54: (for R15 being  real-valued FinSequence holds ( sqrt ( R15 ^2 ) ) = ( abs R15 ))
proof
let R15 being  real-valued FinSequence;
set D6 = ( R15 ^2 );
set D7 = ( sqrt D6 );
L55: ( dom D7 ) = ( dom D6 ) by PARTFUN3:def 5;
L56: (( dom ( abs R15 ) ) = ( dom R15 ) & ( dom D6 ) = ( dom R15 )) by VALUED_1:11 , VALUED_1:def 11;
L57:
now
let C10 being set;
reconsider D8 = ( R15 . C10 ) as Real by XREAL_0:def 1;
L58: (D8 >= ( 0 ) or D8 < ( 0 ));
assume L59: C10 in ( dom ( abs R15 ) );
L60: (( D6 . C10 ) = ( D8 ^2 ) & ( D7 . C10 ) = ( sqrt ( D6 . C10 ) )) by L59 , L56 , L55 , PARTFUN3:def 5 , VALUED_1:11;
L61: ((( D7 . C10 ) = D8 & D8 >= ( 0 )) or (( D7 . C10 ) = ( - D8 ) & D8 < ( 0 ))) by L60 , L58 , SQUARE_1:22 , SQUARE_1:23;
L62: ( ( abs R15 ) . C10 ) = ( abs D8 ) by L59 , VALUED_1:def 11;
thus L63: ( ( abs R15 ) . C10 ) = ( D7 . C10 ) by L62 , L61 , ABSVALUE:def 1;
end;
thus L64: thesis by L57 , L56 , L55 , FUNCT_1:2;
end;
theorem
L65: (for R15 being  real-valued FinSequence holds (R15 is  nonnegative-yielding implies ( sqrt ( Sum R15 ) ) <= ( Sum ( sqrt R15 ) )))
proof
let R15 being  real-valued FinSequence;
defpred S1[ Nat ] means (for B1 being  real-valued FinSequence holds ((( len B1 ) = $1 & B1 is  nonnegative-yielding) implies (( sqrt ( Sum B1 ) ) <= ( Sum ( sqrt B1 ) ) & ( 0 ) <= ( Sum B1 ))));
L66: (for R3 being Nat holds (S1[ R3 ] implies S1[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume L67: S1[ R3 ];
set D9 = ( R3 + 1 );
let C11 being  real-valued FinSequence;
assume that
L68: ( len C11 ) = D9
and
L69: C11 is  nonnegative-yielding;
L70: ( rng C11 ) c= ( REAL );
reconsider D10 = C11 as (FinSequence of ( REAL )) by L70 , FINSEQ_1:def 4;
reconsider D11 = ( D10 | R3 ) as (FinSequence of ( REAL ));
L71: D10 = ( D11 ^ <* ( D10 . D9 ) *> ) by L68 , FINSEQ_3:55;
L72: ( sqrt D10 ) = ( ( sqrt D11 ) ^ ( sqrt <* ( D10 . D9 ) *> ) ) by L71 , L25
.= ( ( sqrt D11 ) ^ <* ( sqrt ( D10 . D9 ) ) *> ) by L47;
L73: ( Sum ( sqrt D10 ) ) = ( ( Sum ( sqrt D11 ) ) + ( sqrt ( D10 . D9 ) ) ) by L72 , RVSUM_1:74;
L74: ( len D11 ) = R3 by L68 , FINSEQ_3:53;
L75: ( sqrt ( Sum D11 ) ) <= ( Sum ( sqrt D11 ) ) by L74 , L67 , L69;
L76: ( ( sqrt ( Sum D11 ) ) + ( sqrt ( C11 . D9 ) ) ) <= ( Sum ( sqrt D10 ) ) by L75 , L73 , XREAL_1:6;
L77: ( Sum C11 ) = ( ( Sum D11 ) + ( C11 . D9 ) ) by L71 , RVSUM_1:74;
L78: D9 >= 1 by NAT_1:11;
L79: D9 in ( dom C11 ) by L78 , L68 , FINSEQ_3:25;
L80: ( C11 . D9 ) in ( rng C11 ) by L79 , FUNCT_1:def 3;
L81: ( C11 . D9 ) >= ( 0 ) by L80 , L69 , PARTFUN3:def 4;
L82: ( Sum D11 ) >= ( 0 ) by L67 , L69 , L74;
L83: ( sqrt ( Sum C11 ) ) <= ( ( sqrt ( Sum D11 ) ) + ( sqrt ( C11 . D9 ) ) ) by L82 , L77 , L81 , SQUARE_1:59;
thus L84: thesis by L83 , L77 , L82 , L81 , L76 , XXREAL_0:2;
end;
L85: S1[ (( 0 ) qua Nat) ]
proof
let C12 being  real-valued FinSequence;
assume that
L86: ( len C12 ) = ( 0 )
and
L87: C12 is  nonnegative-yielding;
L88: ( dom C12 ) = ( dom ( sqrt C12 ) ) by PARTFUN3:def 5;
L89: ( len C12 ) = ( len ( sqrt C12 ) ) by L88 , FINSEQ_3:29;
L90: ( sqrt C12 ) = ( <*> ( REAL ) ) by L89 , L86;
L91: C12 = ( <*> ( REAL ) ) by L86;
thus L92: thesis by L91 , L90 , RVSUM_1:72 , SQUARE_1:17;
end;
L93: (for R3 being Nat holds S1[ R3 ]) from NAT_1:sch 2(L85 , L66);
L94: S1[ ( len R15 ) ] by L93;
thus L95: thesis by L94;
end;
theorem
L96: (for R21 being Function holds (ex R1 being set st (R1 c= ( dom R21 ) & ( rng R21 ) = ( rng ( R21 | R1 ) ) & ( R21 | R1 ) is  one-to-one)))
proof
let R21 being Function;
defpred S2[ set , set ] means ( R21 . $2 ) = $1;
L97: (for B2 being set holds (B2 in ( rng R21 ) implies (ex B3 being set st (B3 in ( dom R21 ) & S2[ B2 , B3 ])))) by FUNCT_1:def 3;
consider C13 being (Function of ( rng R21 ) , ( dom R21 )) such that L98: (for B4 being set holds (B4 in ( rng R21 ) implies S2[ B4 , ( C13 . B4 ) ])) from FUNCT_2:sch 1(L97);
take D12 = ( rng C13 );
set D13 = ( R21 | D12 );
L99: (( dom R21 ) = ( {} ) iff ( rng R21 ) = ( {} )) by RELAT_1:42;
L100: ( dom C13 ) = ( rng R21 ) by L99 , FUNCT_2:def 1;
thus L101: D12 c= ( dom R21 ) by RELAT_1:def 19;
L102: ( rng R21 ) c= ( rng D13 )
proof
let C14 being set;
assume L103: C14 in ( rng R21 );
L104: (( C13 . C14 ) in D12 & ( R21 . ( C13 . C14 ) ) = C14) by L103 , L98 , L100 , FUNCT_1:def 3;
thus L105: thesis by L104 , L101 , FUNCT_1:50;
end;
L106: ( rng D13 ) c= ( rng R21 ) by RELAT_1:70;
thus L107: ( rng R21 ) = ( rng D13 ) by L106 , L102 , XBOOLE_0:def 10;
L108:
now
let C15 , C16 being set;
assume that
L109: C15 in ( dom D13 )
and
L110: C16 in ( dom D13 )
and
L111: ( D13 . C15 ) = ( D13 . C16 );
L112: (( D13 . C15 ) = ( R21 . C15 ) & ( D13 . C16 ) = ( R21 . C16 )) by L109 , L110 , FUNCT_1:47;
L113: ( dom D13 ) c= D12 by RELAT_1:58;
consider C17 being set such that L114: C17 in ( dom C13 ) and L115: ( C13 . C17 ) = C15 by L113 , L109 , FUNCT_1:def 3;
consider C18 being set such that L116: (C18 in ( dom C13 ) & ( C13 . C18 ) = C16) by L110 , L113 , FUNCT_1:def 3;
L117: ( R21 . C15 ) = C17 by L98 , L100 , L114 , L115;
thus L118: C15 = C16 by L117 , L98 , L100 , L111 , L112 , L115 , L116;
end;
thus L119: thesis by L108 , FUNCT_1:def 4;
end;
registration
let R18 being  complex-valued FinSequence;
let R1 being set;
cluster ( R18 - R1 ) ->  complex-valued;
coherence
proof
L120: (( rng R18 ) c= ( COMPLEX ) & ( rng ( R18 - R1 ) ) c= ( rng R18 )) by FINSEQ_3:66 , VALUED_0:def 1;
L121: ( rng ( R18 - R1 ) ) c= ( COMPLEX ) by L120 , XBOOLE_1:1;
thus L122: thesis by L121 , VALUED_0:def 1;
end;
end;
registration
let R15 being  real-valued FinSequence;
let R1 being set;
cluster ( R15 - R1 ) ->  real-valued;
coherence
proof
L124: ( rng ( R15 - R1 ) ) c= ( rng R15 ) by FINSEQ_3:66;
L125: ( rng ( R15 - R1 ) ) c= ( REAL ) by L124 , XBOOLE_1:1;
thus L126: thesis by L125 , VALUED_0:def 3;
end;
end;
registration
let C19 being  complex-valued FinSubsequence;
cluster ( Seq C19 ) ->  complex-valued;
coherence;
end;
registration
let C20 being  real-valued FinSubsequence;
cluster ( Seq C20 ) ->  real-valued;
coherence;
end;
theorem
L130: (for R1 being set holds (for R10 being FinSequence holds (for R11 being FinSequence holds (for B5 being (Permutation of ( dom R10 )) holds (R11 = ( R10 * B5 ) implies (ex B6 being (Permutation of ( dom ( R10 - R1 ) )) st ( R11 - R1 ) = ( ( R10 - R1 ) * B6 )))))))
proof
let R1 being set;
let R10 being FinSequence;
let R11 being FinSequence;
let C21 being (Permutation of ( dom R10 ));
assume that
L131: R11 = ( R10 * C21 );
reconsider D14 = C21 as  one-to-one Function;
L132: ( rng C21 ) = ( dom R10 ) by FUNCT_2:def 3;
L133: ( dom ( D14 " ) ) = ( dom R10 ) by L132 , FUNCT_1:33;
L134: ( C21 .: ( R11 " R1 ) ) = ( C21 .: ( C21 " ( R10 " R1 ) ) ) by L131 , RELAT_1:146
.= ( R10 " R1 ) by L132 , FUNCT_1:77 , RELAT_1:132;
L135: ( dom C21 ) = ( dom R10 ) by FUNCT_2:52;
L136: ( dom R11 ) = ( dom R10 ) by L135 , L131 , L132 , RELAT_1:27;
set D15 = ( ( dom R11 ) \ ( R11 " R1 ) );
set D16 = ( ( dom R10 ) \ ( R10 " R1 ) );
L137: ( card D16 ) = ( ( card ( dom R10 ) ) - ( card ( R10 " R1 ) ) ) by CARD_2:44 , RELAT_1:132;
L138: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L139: ( dom ( Sgm D16 ) ) = ( Seg ( card D16 ) ) by L138 , FINSEQ_3:40 , XBOOLE_1:36;
L140: ( D14 " ( R10 " R1 ) ) = ( ( D14 " ) .: ( R10 " R1 ) ) by FUNCT_1:85;
L141: ( R11 " R1 ) = ( C21 " ( R10 " R1 ) ) by L131 , RELAT_1:146;
L142: ( R10 " R1 ) , ( R11 " R1 ) are_equipotent  by L141 , L133 , L140 , CARD_1:33 , RELAT_1:132;
L143: D15 c= ( dom R11 ) by XBOOLE_1:36;
L144: ( rng ( C21 * ( Sgm D15 ) ) ) = ( C21 .: ( rng ( Sgm D15 ) ) ) by RELAT_1:127
.= ( C21 .: D15 ) by L136 , L138 , L143 , FINSEQ_1:def 13
.= ( ( C21 .: ( dom C21 ) ) \ ( C21 .: ( R11 " R1 ) ) ) by L135 , L136 , FUNCT_1:64
.= D16 by L134 , L132 , RELAT_1:113;
reconsider D17 = ( Sgm D16 ) as  one-to-one Function by L138 , FINSEQ_3:92 , XBOOLE_1:36;
L145: ( dom ( D17 " ) ) = ( rng D17 ) by FUNCT_1:33;
L146: ( card ( dom R10 ) ) = ( len R10 ) by CARD_1:62;
L147: ( dom ( R10 - R1 ) ) = ( dom D17 ) by L146 , L137 , L139 , FINSEQ_3:62;
L148: ( card D15 ) = ( ( card ( dom R11 ) ) - ( card ( R11 " R1 ) ) ) by CARD_2:44 , RELAT_1:132;
L149: ( card D16 ) = ( card D15 ) by L148 , L142 , L136 , L137 , CARD_1:5;
L150: ( dom D17 ) = ( dom ( Sgm D15 ) ) by L149 , L136 , L138 , L139 , FINSEQ_3:40 , XBOOLE_1:36;
L151: D16 c= ( dom R10 ) by XBOOLE_1:36;
L152: ( rng ( Sgm D16 ) ) = D16 by L151 , L138 , FINSEQ_1:def 13;
L153: ( rng ( D17 " ) ) = ( dom D17 ) by FUNCT_1:33;
L154: ( rng ( ( D17 " ) * ( C21 * ( Sgm D15 ) ) ) ) = ( dom D17 ) by L153 , L152 , L145 , L144 , RELAT_1:28;
L155: ( rng ( Sgm D15 ) ) = D15 by L136 , L138 , L143 , FINSEQ_1:def 13;
L156: ( dom ( C21 * ( Sgm D15 ) ) ) = ( dom ( Sgm D15 ) ) by L155 , L135 , L136 , RELAT_1:27 , XBOOLE_1:36;
L157: ( dom ( ( D17 " ) * ( C21 * ( Sgm D15 ) ) ) ) = ( dom ( Sgm D15 ) ) by L156 , L152 , L145 , L144 , RELAT_1:27;
reconsider D18 = ( ( D17 " ) * ( C21 * ( Sgm D15 ) ) ) as (Function of ( dom ( R10 - R1 ) ) , ( dom ( R10 - R1 ) )) by L157 , L154 , L147 , L150 , FUNCT_2:1;
L158: D18 is  onto by L154 , L147 , FUNCT_2:def 3;
L159: ( Sgm D15 ) is  one-to-one by L136 , L138 , FINSEQ_3:92 , XBOOLE_1:36;
reconsider D19 = D18 as (Permutation of ( dom ( R10 - R1 ) )) by L159 , L158;
L160: ( D17 * ( D17 " ) ) = ( id D16 ) by L152 , FUNCT_1:39;
L161: ( D17 * D19 ) = ( ( id D16 ) * ( C21 * ( Sgm D15 ) ) ) by L160 , RELAT_1:36
.= ( C21 * ( Sgm D15 ) ) by L144 , RELAT_1:53;
L162: ( ( R10 - R1 ) * D19 ) = ( ( R10 * D17 ) * D19 ) by FINSEQ_3:def 1
.= ( R10 * ( C21 * ( Sgm D15 ) ) ) by L161 , RELAT_1:36
.= ( R11 * ( Sgm D15 ) ) by L131 , RELAT_1:36
.= ( R11 - R1 ) by FINSEQ_3:def 1;
thus L163: thesis by L162;
end;
theorem
L164: (for R1 being set holds (for R18 being  complex-valued FinSequence holds (for R19 being  complex-valued FinSequence holds (for B7 being (Permutation of ( dom R18 )) holds (R19 = ( R18 * B7 ) implies ( Sum ( R19 - R1 ) ) = ( Sum ( R18 - R1 ) ))))))
proof
let R1 being set;
let R18 being  complex-valued FinSequence;
let R19 being  complex-valued FinSequence;
L165: ( rng ( R19 - R1 ) ) c= ( COMPLEX ) by VALUED_0:def 1;
reconsider D20 = ( R19 - R1 ) as (FinSequence of ( COMPLEX )) by L165 , FINSEQ_1:def 4;
L166: ( rng ( R18 - R1 ) ) c= ( COMPLEX ) by VALUED_0:def 1;
reconsider D21 = ( R18 - R1 ) as (FinSequence of ( COMPLEX )) by L166 , FINSEQ_1:def 4;
let C22 being (Permutation of ( dom R18 ));
assume that
L167: R19 = ( R18 * C22 );
consider C23 being (Permutation of ( dom ( R18 - R1 ) )) such that L168: ( R19 - R1 ) = ( ( R18 - R1 ) * C23 ) by L167 , L130;
thus L169: ( Sum ( R19 - R1 ) ) = ( ( addcomplex ) "**" D20 ) by RVSUM_1:def 11
.= ( ( addcomplex ) "**" D21 ) by L168 , FINSOP_1:7
.= ( Sum ( R18 - R1 ) ) by RVSUM_1:def 11;
end;
theorem
L170: (for R1 being set holds (for B8 , B9 being FinSubsequence holds (for B10 being (Permutation of ( dom B8 )) holds (B9 = ( B8 * B10 ) implies (ex B11 being (Permutation of ( dom ( Seq ( B9 | ( B10 " R1 ) ) ) )) st ( Seq ( B8 | R1 ) ) = ( ( Seq ( B9 | ( B10 " R1 ) ) ) * B11 ))))))
proof
let R1 being set;
let C24 , C25 being FinSubsequence;
consider C26 being Nat such that L171: ( dom C24 ) c= ( Seg C26 ) by FINSEQ_1:def 12;
let C27 being (Permutation of ( dom C24 ));
assume that
L172: C25 = ( C24 * C27 );
set D22 = ( Sgm ( C27 " R1 ) );
L173: ( C27 " R1 ) c= ( dom C27 ) by RELAT_1:132;
L174: ( dom ( C27 | ( C27 " R1 ) ) ) = ( C27 " R1 ) by L173 , RELAT_1:62;
L175: ( dom C27 ) = ( dom C24 ) by FUNCT_2:52;
L176: D22 is  one-to-one by L175 , L171 , L173 , FINSEQ_3:92 , XBOOLE_1:1;
set D23 = ( ( dom C24 ) /\ R1 );
set D24 = ( Sgm D23 );
L177: D23 c= ( dom C24 ) by XBOOLE_1:17;
L178: D23 c= ( Seg C26 ) by L177 , L171 , XBOOLE_1:1;
L179: ( rng D24 ) = D23 by L178 , FINSEQ_1:def 13;
L180: ( rng C27 ) = ( dom C24 ) by FUNCT_2:def 3;
L181: ( C27 " R1 ) = ( C27 " D23 ) by L180 , RELAT_1:133;
L182: ( C27 " R1 ) = ( ( C27 " ) .: D23 ) by L181 , FUNCT_1:85;
set D25 = ( ( C27 | ( C27 " R1 ) ) * D22 );
L183: ( C27 | ( C27 " R1 ) ) is  one-to-one by FUNCT_1:52;
L184: ( C27 " R1 ) c= ( Seg C26 ) by L171 , L175 , L173 , XBOOLE_1:1;
L185: ( rng D22 ) = ( C27 " R1 ) by L184 , FINSEQ_1:def 13;
L186: ( rng ( C27 | ( C27 " R1 ) ) ) = ( C27 .: ( C27 " D23 ) ) by L181 , RELAT_1:115
.= D23 by L180 , FUNCT_1:77 , XBOOLE_1:17;
L187: ( rng D25 ) = D23 by L186 , L174 , L185 , RELAT_1:28;
L188: ( dom ( (D25 qua Function) " ) ) = D23 by L176 , L183 , FUNCT_1:33 , L187;
L189: ( dom ( C27 " ) ) = ( rng C27 ) by FUNCT_1:33;
L190: D23 , ( ( C27 " ) .: D23 ) are_equipotent  by L189 , L180 , CARD_1:33 , XBOOLE_1:17;
L191: ( card D23 ) = ( card ( C27 " R1 ) ) by L190 , L182 , CARD_1:5;
L192: ( dom D22 ) = ( Seg ( card D23 ) ) by L191 , L171 , L175 , L173 , FINSEQ_3:40 , XBOOLE_1:1;
L193: ( dom D25 ) = ( Seg ( card D23 ) ) by L192 , L174 , L185 , RELAT_1:27;
L194: ( rng ( (D25 qua Function) " ) ) = ( Seg ( card D23 ) ) by L193 , L176 , L183 , FUNCT_1:33;
L195: ( rng ( ( (D25 qua Function) " ) * D24 ) ) = ( Seg ( card D23 ) ) by L194 , L188 , L179 , RELAT_1:28;
L196: ( dom C25 ) = ( dom C27 ) by L172 , L180 , RELAT_1:27;
L197: ( dom ( C25 | ( C27 " R1 ) ) ) = ( C27 " R1 ) by L196 , RELAT_1:62 , RELAT_1:132;
L198: ( dom ( Seq ( C25 | ( C27 " R1 ) ) ) ) = ( Seg ( card D23 ) ) by L197 , L192 , L185 , RELAT_1:27;
L199: ( dom D24 ) = ( Seg ( card D23 ) ) by L171 , L177 , FINSEQ_3:40 , XBOOLE_1:1;
L200: ( dom ( ( (D25 qua Function) " ) * D24 ) ) = ( Seg ( card D23 ) ) by L199 , L188 , L179 , RELAT_1:27;
reconsider D26 = ( ( (D25 qua Function) " ) * D24 ) as (Function of ( dom ( Seq ( C25 | ( C27 " R1 ) ) ) ) , ( dom ( Seq ( C25 | ( C27 " R1 ) ) ) )) by L200 , L198 , L195 , FUNCT_2:1;
L201: D26 is  onto by L198 , L195 , FUNCT_2:def 3;
L202: D24 is  one-to-one by L171 , L177 , FINSEQ_3:92 , XBOOLE_1:1;
reconsider D27 = D26 as (Permutation of ( dom ( Seq ( C25 | ( C27 " R1 ) ) ) )) by L202 , L176 , L183 , L201;
L203: ( D25 * D27 ) = ( ( D25 * ( (D25 qua Function) " ) ) * D24 ) by RELAT_1:36
.= ( ( id D23 ) * D24 ) by L176 , L183 , L187 , FUNCT_1:39;
set D28 = ( C24 | R1 );
L204: D28 = ( C24 | D23 ) by RELAT_1:157;
take D27;
L205: ( C25 | ( C27 " R1 ) ) = ( C24 * ( C27 | ( C27 " R1 ) ) ) by L172 , RELAT_1:83;
thus L206: ( ( Seq ( C25 | ( C27 " R1 ) ) ) * D27 ) = ( ( C24 * D25 ) * D27 ) by L205 , L197 , RELAT_1:36
.= ( C24 * ( ( id D23 ) * D24 ) ) by L203 , RELAT_1:36
.= ( ( C24 * ( id D23 ) ) * D24 ) by RELAT_1:36
.= ( D28 * D24 ) by L204 , RELAT_1:65
.= ( Seq D28 ) by RELAT_1:61;
end;
theorem
L207: (for R1 being set holds (for B12 , B13 being  complex-valued FinSubsequence holds (for B14 being (Permutation of ( dom B12 )) holds (B13 = ( B12 * B14 ) implies ( Sum ( Seq ( B12 | R1 ) ) ) = ( Sum ( Seq ( B13 | ( B14 " R1 ) ) ) )))))
proof
let R1 being set;
let C28 , C29 being  complex-valued FinSubsequence;
L208: ( rng ( Seq ( C28 | R1 ) ) ) c= ( COMPLEX ) by VALUED_0:def 1;
reconsider D29 = ( Seq ( C28 | R1 ) ) as (FinSequence of ( COMPLEX )) by L208 , FINSEQ_1:def 4;
let C30 being (Permutation of ( dom C28 ));
assume that
L209: C29 = ( C28 * C30 );
consider C31 being (Permutation of ( dom ( Seq ( C29 | ( C30 " R1 ) ) ) )) such that L210: ( Seq ( C28 | R1 ) ) = ( ( Seq ( C29 | ( C30 " R1 ) ) ) * C31 ) by L209 , L170;
L211: ( rng ( Seq ( C29 | ( C30 " R1 ) ) ) ) c= ( COMPLEX ) by VALUED_0:def 1;
reconsider D30 = ( Seq ( C29 | ( C30 " R1 ) ) ) as (FinSequence of ( COMPLEX )) by L211 , FINSEQ_1:def 4;
thus L212: ( Sum ( Seq ( C29 | ( C30 " R1 ) ) ) ) = ( ( addcomplex ) "**" D30 ) by RVSUM_1:def 11
.= ( ( addcomplex ) "**" D29 ) by L210 , FINSOP_1:7
.= ( Sum ( Seq ( C28 | R1 ) ) ) by RVSUM_1:def 11;
end;
theorem
L213: (for R1 being set holds (for R2 being set holds (for B15 being FinSubsequence holds (for B16 being (Element of ( NAT )) holds ((for R6 being Nat holds (( R6 + B16 ) in R1 iff R6 in R2)) implies ( ( B16 Shift B15 ) | R1 ) = ( B16 Shift ( B15 | R2 ) ))))))
proof
let R1 being set;
let R2 being set;
let C32 being FinSubsequence;
let C33 being (Element of ( NAT ));
assume that
L214: (for R6 being Nat holds (( R6 + C33 ) in R1 iff R6 in R2));
set D31 = ( C32 | R2 );
set D32 = ( C33 Shift C32 );
set D33 = ( D32 | R1 );
set D34 = ( C33 Shift D31 );
L215: ( dom D34 ) = { ( C33 + B17 ) where B17 is (Element of ( NAT )) : B17 in ( dom D31 ) } by PNPROC_1:def 14;
L216:
now
let C34 being set;
assume L217: C34 in ( dom D34 );
consider C35 being (Element of ( NAT )) such that L218: C34 = ( C33 + C35 ) and L219: C35 in ( dom D31 ) by L217 , L215;
L220: C35 in ( dom C32 ) by L219 , RELAT_1:57;
L221: C35 in R2 by L219 , RELAT_1:57;
L222: C34 in R1 by L221 , L214 , L218;
thus L223: ( D33 . C34 ) = ( D32 . C34 ) by L222 , FUNCT_1:49
.= ( C32 . C35 ) by L218 , L220 , PNPROC_1:def 14
.= ( D31 . C35 ) by L221 , FUNCT_1:49
.= ( D34 . C34 ) by L218 , L219 , PNPROC_1:def 14;
end;
L224: ( dom D32 ) = { ( C33 + B18 ) where B18 is (Element of ( NAT )) : B18 in ( dom C32 ) } by PNPROC_1:def 14;
L225: ( dom D34 ) c= ( dom D33 )
proof
let C36 being set;
assume L226: C36 in ( dom D34 );
consider C37 being (Element of ( NAT )) such that L227: C36 = ( C33 + C37 ) and L228: C37 in ( dom D31 ) by L226 , L215;
L229: C37 in R2 by L228 , RELAT_1:57;
L230: C36 in R1 by L229 , L214 , L227;
L231: C37 in ( dom C32 ) by L228 , RELAT_1:57;
L232: C36 in ( dom D32 ) by L231 , L224 , L227;
thus L233: thesis by L232 , L230 , RELAT_1:57;
end;
L234: ( dom D33 ) c= ( dom D34 )
proof
let C38 being set;
assume L235: C38 in ( dom D33 );
L236: C38 in ( dom D32 ) by L235 , RELAT_1:57;
consider C39 being (Element of ( NAT )) such that L237: C38 = ( C33 + C39 ) and L238: C39 in ( dom C32 ) by L236 , L224;
L239: C38 in R1 by L235 , RELAT_1:57;
L240: C39 in R2 by L239 , L214 , L237;
L241: C39 in ( dom D31 ) by L240 , L238 , RELAT_1:57;
thus L242: thesis by L241 , L215 , L237;
end;
L243: ( dom D34 ) = ( dom D33 ) by L234 , L225 , XBOOLE_0:def 10;
thus L244: thesis by L243 , L216 , FUNCT_1:2;
end;
theorem
L245: (for R1 being set holds (for R11 being FinSequence holds (for R12 being FinSequence holds (ex B19 being (Subset of ( NAT )) st (( Seq ( ( R11 ^ R12 ) | R1 ) ) = ( ( Seq ( R11 | R1 ) ) ^ ( Seq ( R12 | B19 ) ) ) & (for R3 being Nat holds (R3 > ( 0 ) implies (R3 in B19 iff ( R3 + ( len R11 ) ) in ( R1 /\ ( dom ( R11 ^ R12 ) ) )))))))))
proof
let R1 being set;
let R11 being FinSequence;
let R12 being FinSequence;
set D35 = ( R11 ^ R12 );
set D36 = ( len R11 );
set D37 = ( len R12 );
set D38 = ( R1 /\ ( dom D35 ) );
set D39 = ( D38 /\ ( Seg D36 ) );
set D40 = ( D38 \ ( Seg D36 ) );
set D41 = { B20 where B20 is (Element of ( NAT )) : ( B20 + D36 ) in D40 };
L246: D41 c= ( NAT )
proof
let C40 being set;
assume L247: C40 in D41;
L248: (ex B21 being (Element of ( NAT )) st (B21 = C40 & ( B21 + D36 ) in D40)) by L247;
thus L249: thesis by L248;
end;
reconsider D42 = D41 as (Subset of ( NAT )) by L246;
set D43 = ( D36 Shift R12 );
L250: D35 = ( R11 \/ D43 ) by PNPROC_1:61;
take D42;
L251: ( D38 /\ ( dom D43 ) ) c= D40
proof
let C41 being set;
assume L252: C41 in ( D38 /\ ( dom D43 ) );
L253: C41 in ( dom D43 ) by L252 , XBOOLE_0:def 4;
L254: C41 in { ( D36 + B22 ) where B22 is (Element of ( NAT )) : B22 in ( dom R12 ) } by L253 , PNPROC_1:def 14;
consider C42 being (Element of ( NAT )) such that L255: C41 = ( D36 + C42 ) and L256: C42 in ( dom R12 ) by L254;
L257: 1 <= C42 by L256 , FINSEQ_3:25;
L258: ( 1 + D36 ) <= ( C42 + D36 ) by L257 , XREAL_1:6;
L259: D36 < ( C42 + D36 ) by L258 , NAT_1:13;
L260: (not C41 in ( Seg D36 )) by L259 , L255 , FINSEQ_1:1;
L261: C41 in D38 by L252 , XBOOLE_0:def 4;
thus L262: thesis by L261 , L260 , XBOOLE_0:def 5;
end;
L263:
now
let R6 being Nat;
thus L264: (( R6 + D36 ) in D40 implies R6 in D42)
proof
assume L265: ( R6 + D36 ) in D40;
L266: R6 in ( NAT ) by ORDINAL1:def 12;
thus L267: thesis by L266 , L265;
end;

assume L268: R6 in D42;
L269: (ex B23 being (Element of ( NAT )) st (R6 = B23 & ( B23 + D36 ) in D40)) by L268;
thus L270: ( R6 + D36 ) in D40 by L269;
end;
L271: (( R11 | D39 ) c= R11 & ( R12 | D42 ) c= R12) by RELAT_1:59;
consider C43 being FinSubsequence such that L272: (C43 = ( ( R11 | D39 ) \/ ( D36 Shift ( R12 | D42 ) ) ) & ( ( Seq ( R11 | D39 ) ) ^ ( Seq ( R12 | D42 ) ) ) = ( Seq C43 )) by L271 , PNPROC_1:79;
L273: ( dom R11 ) = ( Seg D36 ) by FINSEQ_1:def 3;
L274: ( ( dom D35 ) /\ ( Seg D36 ) ) = ( Seg D36 ) by L273 , FINSEQ_1:26 , XBOOLE_1:28;
L275: ( R11 | R1 ) = ( R11 | ( R1 /\ ( ( dom D35 ) /\ ( Seg D36 ) ) ) ) by L274 , L273 , RELAT_1:157
.= ( R11 | D39 ) by XBOOLE_1:16;
L276: D40 c= ( D38 /\ ( dom D43 ) )
proof
let C44 being set;
assume L277: C44 in D40;
L278: (not C44 in ( Seg D36 )) by L277 , XBOOLE_0:def 5;
L279: C44 in D38 by L277 , XBOOLE_0:def 5;
L280: C44 in ( dom D35 ) by L279 , XBOOLE_0:def 4;
consider C45 being Nat such that L281: (C45 in ( dom R12 ) & C44 = ( D36 + C45 )) by L280 , L273 , L278 , FINSEQ_1:25;
L282: C44 in { ( D36 + B24 ) where B24 is (Element of ( NAT )) : B24 in ( dom R12 ) } by L281;
L283: C44 in ( dom D43 ) by L282 , PNPROC_1:def 14;
thus L284: thesis by L283 , L279 , XBOOLE_0:def 4;
end;
L285: D40 = ( D38 /\ ( dom D43 ) ) by L276 , L251 , XBOOLE_0:def 10;
L286: ( D35 | R1 ) = ( D35 | D38 ) by RELAT_1:157;
L287: ( D35 | R1 ) = ( D35 * ( id D38 ) ) by L286 , RELAT_1:65
.= ( ( R11 * ( id D38 ) ) \/ ( D43 * ( id D38 ) ) ) by L250 , RELAT_1:32
.= ( ( R11 | D38 ) \/ ( D43 * ( id D38 ) ) ) by RELAT_1:65
.= ( ( R11 | D38 ) \/ ( D43 | D38 ) ) by RELAT_1:65
.= ( ( R11 | D38 ) \/ ( D43 | D40 ) ) by L285 , RELAT_1:157
.= ( ( R11 | D39 ) \/ ( D43 | D40 ) ) by L273 , RELAT_1:157;
thus L288: ( Seq ( ( R11 ^ R12 ) | R1 ) ) = ( ( Seq ( R11 | R1 ) ) ^ ( Seq ( R12 | D42 ) ) ) by L287 , L263 , L275 , L272 , L213;
let R3 being Nat;
assume L289: R3 > ( 0 );
L290: ( R3 + D36 ) > ( ( 0 ) + D36 ) by L289 , XREAL_1:6;
L291: (not ( R3 + D36 ) in ( Seg D36 )) by L290 , FINSEQ_1:1;
thus L292:now
assume L293: R3 in D42;
L294: ( R3 + D36 ) in D40 by L293 , L263;
thus L295: ( R3 + D36 ) in D38 by L294 , XBOOLE_0:def 5;
end;
assume L296: ( R3 + D36 ) in D38;
L297: ( R3 + D36 ) in D40 by L296 , L291 , XBOOLE_0:def 5;
thus L298: R3 in D42 by L297 , L263;
end;
theorem
L299: (for R1 being set holds (for R11 being FinSequence holds (for R12 being FinSequence holds (for R13 being FinSequence holds (for R14 being FinSequence holds ((( len R13 ) = ( len R11 ) & ( len R14 ) <= ( len R12 )) implies ( Seq ( ( R11 ^ R12 ) | ( ( R13 ^ R14 ) " R1 ) ) ) = ( ( Seq ( R11 | ( R13 " R1 ) ) ) ^ ( Seq ( R12 | ( R14 " R1 ) ) ) )))))))
proof
let R1 being set;
let R11 being FinSequence;
let R12 being FinSequence;
let R13 being FinSequence;
let R14 being FinSequence;
assume that
L300: ( len R11 ) = ( len R13 )
and
L301: ( len R14 ) <= ( len R12 );
set D44 = ( R11 ^ R12 );
set D45 = ( R13 ^ R14 );
L302: (( dom D44 ) = ( Seg ( len D44 ) ) & ( dom D45 ) = ( Seg ( len D45 ) )) by FINSEQ_1:def 3;
set D46 = ( D45 " R1 );
consider C46 being (Subset of ( NAT )) such that L303: ( Seq ( D44 | D46 ) ) = ( ( Seq ( R11 | D46 ) ) ^ ( Seq ( R12 | C46 ) ) ) and L304: (for R3 being Nat holds (R3 > ( 0 ) implies (R3 in C46 iff ( R3 + ( len R11 ) ) in ( D46 /\ ( dom D44 ) )))) by L245;
L305: ( C46 /\ ( dom R12 ) ) c= ( R14 " R1 )
proof
let C47 being set;
assume L306: C47 in ( C46 /\ ( dom R12 ) );
reconsider D47 = C47 as Nat by L306;
L307: C47 in ( dom R12 ) by L306 , XBOOLE_0:def 4;
L308: D47 > ( 0 ) by L307 , FINSEQ_3:25;
L309: ( D47 + ( len R11 ) ) > ( ( len R11 ) + ( 0 ) ) by L308 , XREAL_1:6;
L310: (not ( D47 + ( len R11 ) ) in ( dom R13 )) by L309 , L300 , FINSEQ_3:25;
L311: C47 in C46 by L306 , XBOOLE_0:def 4;
L312: ( D47 + ( len R11 ) ) in ( D46 /\ ( dom D44 ) ) by L311 , L304 , L308;
L313: ( D47 + ( len R11 ) ) in D46 by L312 , XBOOLE_0:def 4;
L314: ( D45 . ( D47 + ( len R11 ) ) ) in R1 by L313 , FUNCT_1:def 7;
L315: ( D47 + ( len R11 ) ) in ( dom D45 ) by L313 , FUNCT_1:def 7;
L316: (ex B25 being Nat st (B25 in ( dom R14 ) & ( D47 + ( len R11 ) ) = ( ( len R13 ) + B25 ))) by L315 , L310 , FINSEQ_1:25;
L317: ( D45 . ( D47 + ( len R11 ) ) ) = ( R14 . D47 ) by L316 , L300 , FINSEQ_1:def 7;
thus L318: thesis by L317 , L300 , L314 , L316 , FUNCT_1:def 7;
end;
L319: ( dom R11 ) = ( dom R13 ) by L300 , FINSEQ_3:29;
L320: ( R13 " R1 ) c= ( D46 /\ ( dom R11 ) )
proof
let C48 being set;
assume L321: C48 in ( R13 " R1 );
L322: C48 in ( dom R13 ) by L321 , FUNCT_1:def 7;
L323: ( R13 . C48 ) in R1 by L321 , FUNCT_1:def 7;
L324: (( dom R13 ) c= ( dom D45 ) & ( D45 . C48 ) = ( R13 . C48 )) by L322 , FINSEQ_1:26 , FINSEQ_1:def 7;
L325: C48 in D46 by L324 , L322 , L323 , FUNCT_1:def 7;
thus L326: thesis by L325 , L319 , L322 , XBOOLE_0:def 4;
end;
L327: (( len D44 ) = ( ( len R11 ) + ( len R12 ) ) & ( len D45 ) = ( ( len R13 ) + ( len R14 ) )) by FINSEQ_1:22;
L328: ( len D45 ) <= ( len D44 ) by L327 , L300 , L301 , XREAL_1:6;
L329: ( dom D45 ) c= ( dom D44 ) by L328 , L302 , FINSEQ_1:5;
L330: ( D46 /\ ( dom R11 ) ) c= ( R13 " R1 )
proof
let C49 being set;
assume L331: C49 in ( D46 /\ ( dom R11 ) );
L332: C49 in D46 by L331 , XBOOLE_0:def 4;
L333: ( D45 . C49 ) in R1 by L332 , FUNCT_1:def 7;
L334: C49 in ( dom R11 ) by L331 , XBOOLE_0:def 4;
L335: ( D45 . C49 ) = ( R13 . C49 ) by L334 , L319 , FINSEQ_1:def 7;
thus L336: thesis by L335 , L319 , L334 , L333 , FUNCT_1:def 7;
end;
L337: ( D46 /\ ( dom R11 ) ) = ( R13 " R1 ) by L330 , L320 , XBOOLE_0:def 10;
L338: ( R11 | ( R13 " R1 ) ) = ( R11 | D46 ) by L337 , RELAT_1:157;
L339: (( dom R12 ) = ( Seg ( len R12 ) ) & ( dom R14 ) = ( Seg ( len R14 ) )) by FINSEQ_1:def 3;
L340: ( dom R14 ) c= ( dom R12 ) by L339 , L301 , FINSEQ_1:5;
L341: ( R14 " R1 ) c= ( C46 /\ ( dom R12 ) )
proof
let C50 being set;
assume L342: C50 in ( R14 " R1 );
L343: C50 in ( dom R14 ) by L342 , FUNCT_1:def 7;
reconsider D48 = C50 as Nat by L343;
L344: ( R14 . C50 ) in R1 by L342 , FUNCT_1:def 7;
L345: ( D48 + ( len R13 ) ) in ( dom D45 ) by L343 , FINSEQ_1:28;
L346: ( D45 . ( D48 + ( len R13 ) ) ) = ( R14 . D48 ) by L343 , FINSEQ_1:def 7;
L347: ( D48 + ( len R13 ) ) in D46 by L346 , L344 , L345 , FUNCT_1:def 7;
L348: ( D48 + ( len R13 ) ) in ( D46 /\ ( dom D44 ) ) by L347 , L329 , L345 , XBOOLE_0:def 4;
L349: D48 > ( 0 ) by L343 , FINSEQ_3:25;
L350: D48 in C46 by L349 , L300 , L304 , L348;
thus L351: thesis by L350 , L340 , L343 , XBOOLE_0:def 4;
end;
L352: ( C46 /\ ( dom R12 ) ) = ( R14 " R1 ) by L341 , L305 , XBOOLE_0:def 10;
thus L353: thesis by L352 , L303 , L338 , RELAT_1:157;
end;
theorem
L354: (for R1 being set holds (for R3 being Nat holds (for R4 being Nat holds (for B26 being non  empty set holds (for B27 being (Matrix of R3 , R4 , B26) holds ( B27 - R1 ) is (Matrix of ( R3 -' ( card ( B27 " R1 ) ) ) , R4 , B26))))))
proof
let R1 being set;
let R3 being Nat;
let R4 being Nat;
let C51 being non  empty set;
let C52 being (Matrix of R3 , R4 , C51);
L355: ( rng ( C52 - R1 ) ) c= ( rng C52 ) by FINSEQ_3:66;
L356: ( rng C52 ) c= ( C51 * ) by FINSEQ_1:def 4;
L357: ( rng ( C52 - R1 ) ) c= ( C51 * ) by L356 , L355 , XBOOLE_1:1;
reconsider D49 = ( C52 - R1 ) as (FinSequence of ( C51 * )) by L357 , FINSEQ_1:def 4;
L358: ( len D49 ) = ( ( len C52 ) - ( card ( C52 " R1 ) ) ) by FINSEQ_3:59;
L359: ( len C52 ) >= ( card ( C52 " R1 ) ) by L358 , XREAL_1:49;
L360: (( len C52 ) = R3 & ( len D49 ) = ( ( len C52 ) -' ( card ( C52 " R1 ) ) )) by L359 , L358 , MATRIX_1:def 2 , XREAL_1:233;
per cases ;
suppose L361: ( len D49 ) = ( 0 );

L362: D49 = ( {} ) by L361;
thus L363: thesis by L362 , L360 , L361 , MATRIX_1:13;
end;
suppose L364: ( len D49 ) > ( 0 );

L365: (for B28 being set holds (B28 in ( rng D49 ) implies (ex B29 being FinSequence st (B29 = B28 & ( len B29 ) = R4))))
proof
let C53 being set;
consider C54 being Nat such that L366: (for B30 being set holds (B30 in ( rng C52 ) implies (ex B31 being (FinSequence of C51) st (B30 = B31 & ( len B31 ) = C54)))) by MATRIX_1:9;
assume L367: C53 in ( rng D49 );
L368: (ex B32 being (FinSequence of C51) st (C53 = B32 & ( len B32 ) = C54)) by L367 , L355 , L366;
reconsider D50 = C53 as (FinSequence of C51) by L368;
L369: ( len D50 ) = R4 by L355 , L367 , MATRIX_1:def 2;
thus L370: thesis by L369;
end;
reconsider D51 = D49 as (Matrix of C51) by L365 , MATRIX_1:def 1;
L371:
now
let C55 being (FinSequence of C51);
assume L372: C55 in ( rng D51 );
L373: (ex B33 being FinSequence st (B33 = C55 & ( len B33 ) = R4)) by L372 , L365;
thus L374: ( len C55 ) = R4 by L373;
end;
thus L375: thesis by L371 , L360 , MATRIX_1:def 2;
end;
end;
theorem
L377: (for R3 being Nat holds (for R4 being Nat holds (for B34 being (Function of ( Seg R3 ) , ( Seg R3 )) holds (for B35 being non  empty set holds (for B36 being (Matrix of R3 , R4 , B35) holds (for R6 being Nat holds (R6 in ( Seg ( width B36 ) ) implies ( Col (( B36 * B34 ) , R6) ) = ( ( Col (B36 , R6) ) * B34 ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let C56 being (Function of ( Seg R3 ) , ( Seg R3 ));
let C57 being non  empty set;
let C58 being (Matrix of R3 , R4 , C57);
let R6 being Nat;
assume L378: R6 in ( Seg ( width C58 ) );
L379: ( len C58 ) = R3 by MATRIX_1:def 2;
L380: ( dom C58 ) = ( Seg R3 ) by L379 , FINSEQ_1:def 3;
L381: ( len ( Col (C58 , R6) ) ) = R3 by L379 , CARD_1:def 7;
L382: ( dom ( Col (C58 , R6) ) ) = ( Seg R3 ) by L381 , FINSEQ_1:def 3;
L383: (( dom C56 ) = ( Seg R3 ) & ( rng C56 ) c= ( Seg R3 )) by FUNCT_2:52 , RELAT_1:def 19;
L384: ( dom ( ( Col (C58 , R6) ) * C56 ) ) = ( Seg R3 ) by L383 , L382 , RELAT_1:27;
L385: ( len ( C58 * C56 ) ) = R3 by MATRIX_1:def 2;
L386: ( dom ( C58 * C56 ) ) = ( Seg R3 ) by L385 , FINSEQ_1:def 3;
L387:
now
let C59 being set;
assume L388: C59 in ( Seg R3 );
reconsider D52 = C59 as (Element of ( NAT )) by L388;
L389: ( Indices C58 ) = [: ( dom C58 ) , ( Seg ( width C58 ) ) :] by MATRIX_1:def 4;
L390: [ D52 , R6 ] in ( Indices C58 ) by L389 , L378 , L380 , L388 , ZFMISC_1:87;
L391: ( C56 . C59 ) in ( Seg R3 ) by L382 , L384 , L388 , FUNCT_1:11;
reconsider D53 = ( C56 . C59 ) as (Element of ( NAT )) by L391;
thus L392: ( ( ( Col (C58 , R6) ) * C56 ) . C59 ) = ( ( Col (C58 , R6) ) . D53 ) by L384 , L388 , FUNCT_1:12
.= ( C58 * (D53 , R6) ) by L380 , L391 , MATRIX_1:def 8
.= ( ( C58 * C56 ) * (D52 , R6) ) by L390 , MATRIX11:def 4
.= ( ( Col (( C58 * C56 ) , R6) ) . C59 ) by L386 , L388 , MATRIX_1:def 8;
end;
L393: ( len ( Col (( C58 * C56 ) , R6) ) ) = R3 by L385 , CARD_1:def 7;
L394: ( dom ( Col (( C58 * C56 ) , R6) ) ) = ( Seg R3 ) by L393 , FINSEQ_1:def 3;
thus L395: thesis by L394 , L384 , L387 , FUNCT_1:2;
end;
L396: (for R3 being Nat holds (for R4 being Nat holds (for R9 being Field holds (for B37 being (Matrix of R3 , R4 , R9) holds (((R3 = ( 0 ) implies R4 = ( 0 )) & ( the_rank_of B37 ) = R3) implies (ex B38 being (Matrix of ( R4 -' R3 ) , R4 , R9) st ( the_rank_of ( B37 ^ B38 ) ) = R4))))))
proof
let R3 being Nat;
let R4 being Nat;
let R9 being Field;
let C60 being (Matrix of R3 , R4 , R9);
set D54 = ( R4 -VectSp_over R9 );
set D55 = ( lines C60 );
assume that
L397: (R3 = ( 0 ) implies R4 = ( 0 ))
and
L398: ( the_rank_of C60 ) = R3;
L399: ( len C60 ) = R3 by L397 , MATRIX13:1;
L400: D55 is  linearly-independent by L398 , MATRIX13:121;
consider C61 being (Subset of D54) such that L401: D55 c= C61 and L402: C61 is  linearly-independent and L403: ( Lin C61 ) = ( the VectSpStr of D54 ) by L400 , VECTSP_7:17;
reconsider D56 = C61 as  finite (Subset of D54) by L402 , VECTSP_9:21;
L404: D56 is (Basis of D54) by L402 , L403 , VECTSP_7:def 3;
L405: ( card D56 ) = ( dim D54 ) by L404 , VECTSP_9:def 1
.= R4 by MATRIX13:112;
L406: ( width C60 ) = R4 by L397 , MATRIX13:1;
L407: ( R4 - R3 ) >= ( 0 ) by L406 , L398 , MATRIX13:74 , XREAL_1:48;
L408: ( R4 - R3 ) = ( R4 -' R3 ) by L407 , XREAL_0:def 2;
L409: C60 is  without_repeated_line by L398 , MATRIX13:121;
L410: ( len C60 ) = ( card D55 ) by L409 , FINSEQ_4:62;
set D57 = ( D56 \ D55 );
consider C62 being FinSequence such that L411: ( rng C62 ) = D57 and L412: C62 is  one-to-one by FINSEQ_4:58;
reconsider D58 = C62 as (FinSequence of D54) by L411 , FINSEQ_1:def 4;
L413: ( len D58 ) = ( card D57 ) by L411 , L412 , FINSEQ_4:62
.= ( ( card D56 ) - ( card D55 ) ) by L401 , CARD_2:44
.= ( R4 -' R3 ) by L399 , L410 , L405 , L407 , XREAL_0:def 2;
reconsider D59 = ( FinS2MX D58 ) as (Matrix of ( R4 -' R3 ) , R4 , R9) by L413;
L414: ( rng C60 ) misses ( rng D59 ) by L411 , XBOOLE_1:79;
L415: ( C60 ^ D59 ) is  without_repeated_line by L414 , L409 , L412 , FINSEQ_3:91;
take D59;
L416: ( lines ( C60 ^ D59 ) ) = ( D55 \/ ( rng D59 ) ) by FINSEQ_1:31
.= ( D55 \/ D56 ) by L411 , XBOOLE_1:39
.= D56 by L401 , XBOOLE_1:12;
thus L417: thesis by L416 , L402 , L408 , L415 , MATRIX13:121;
end;
theorem
L418: (for R3 being Nat holds (for R4 being Nat holds (for R9 being Field holds (for B39 being (Matrix of R3 , R4 , R9) holds (( the_rank_of B39 ) = R3 implies (ex B40 being (Matrix of ( R4 -' R3 ) , R4 , R9) st ( the_rank_of ( B39 ^ B40 ) ) = R4))))))
proof
let R3 being Nat;
let R4 being Nat;
let R9 being Field;
let C63 being (Matrix of R3 , R4 , R9);
assume that
L419: ( the_rank_of C63 ) = R3;
per cases ;
suppose L420: R3 = ( 0 );

L421: ( R4 -' R3 ) = ( R4 - R3 ) by L420 , XREAL_0:def 2;
reconsider D60 = ( 1. (R9 , R4) ) as (Matrix of ( R4 -' R3 ) , R4 , R9) by L421 , L420;
L422: ( 1. (R9 , R4) ) is  invertible by MATRIX_6:8;
L423: ( Det ( 1. (R9 , R4) ) ) <> ( 0. R9 ) by L422 , LAPLACE:34;
L424: ( the_rank_of D60 ) = R4 by L423 , MATRIX13:83;
L425: ( len C63 ) = ( 0 ) by L420 , MATRIX_1:def 2;
L426: C63 is  empty by L425;
L427: ( C63 ^ D60 ) = D60 by L426 , FINSEQ_1:34;
thus L428: thesis by L427 , L424;
end;
suppose L429: R3 > ( 0 );

thus L430: thesis by L429 , L419 , L396;
end;
end;
theorem
L432: (for R3 being Nat holds (for R4 being Nat holds (for R9 being Field holds (for B41 being (Matrix of R3 , R4 , R9) holds (( the_rank_of B41 ) = R4 implies (ex B42 being (Matrix of R3 , ( R3 -' R4 ) , R9) st ( the_rank_of ( B41 ^^ B42 ) ) = R3))))))
proof
let R3 being Nat;
let R4 being Nat;
let R9 being Field;
let C64 being (Matrix of R3 , R4 , R9);
assume that
L433: ( the_rank_of C64 ) = R4;
L434: ( len C64 ) = R3 by MATRIX_1:def 2;
per cases ;
suppose L435: R4 = ( 0 );

L436: ( R3 -' R4 ) = ( R3 - R4 ) by L435 , XREAL_0:def 2;
reconsider D61 = ( 1. (R9 , R3) ) as (Matrix of R3 , ( R3 -' R4 ) , R9) by L436 , L435;
L437: ( len ( 1. (R9 , R3) ) ) = R3 by MATRIX_1:24;
L438: ( 1. (R9 , R3) ) is  invertible by MATRIX_6:8;
L439: ( Det ( 1. (R9 , R3) ) ) <> ( 0. R9 ) by L438 , LAPLACE:34;
L440: ( the_rank_of D61 ) = R3 by L439 , MATRIX13:83;
L441: ( width C64 ) = R4 by L435 , MATRIX13:1;
L442: ( C64 ^^ D61 ) = D61 by L441 , L434 , L435 , L437 , MATRIX15:22;
thus L443: thesis by L442 , L440;
end;
suppose L444: R4 > ( 0 );

L445: ( R3 - R4 ) >= ( 0 ) by L433 , L434 , MATRIX13:74 , XREAL_1:48;
L446: ( R3 -' R4 ) = ( R3 - R4 ) by L445 , XREAL_0:def 2;
L447: R3 > ( 0 ) by L433 , L434 , L444 , MATRIX13:74;
L448: ( width C64 ) = R4 by L447 , MATRIX13:1;
per cases ;
suppose L449: R3 = R4;

take D62 = the (Matrix of R3 , ( R3 -' R4 ) , R9);
L450: (( len D62 ) = R3 & ( width D62 ) = ( 0 )) by L444 , L446 , L449 , MATRIX_1:23;
thus L451: thesis by L450 , L433 , L434 , L449 , MATRIX15:22;
end;
suppose L452: R3 <> R4;

L453: ( width ( C64 @ ) ) = R3 by L434 , L444 , L448 , MATRIX_2:10;
L454: ( len ( C64 @ ) ) = R4 by L444 , L448 , MATRIX_2:10;
reconsider D63 = ( C64 @ ) as (Matrix of R4 , R3 , R9) by L454 , L453 , MATRIX_2:7;
L455: ( the_rank_of D63 ) = R4 by L433 , MATRIX13:84;
consider C65 being (Matrix of ( R3 -' R4 ) , R3 , R9) such that L456: ( the_rank_of ( D63 ^ C65 ) ) = R3 by L455 , L418;
L457: ( R3 -' R4 ) <> ( 0 ) by L446 , L452;
L458: ( width C65 ) = R3 by L457 , MATRIX13:1;
L459: ( len ( C65 @ ) ) = R3 by L458 , L447 , MATRIX_2:10;
L460: ( len C65 ) = ( R3 -' R4 ) by L457 , MATRIX13:1;
L461: ( width ( C65 @ ) ) = ( R3 -' R4 ) by L460 , L447 , L458 , MATRIX_2:10;
reconsider D64 = ( C65 @ ) as (Matrix of R3 , ( R3 -' R4 ) , R9) by L461 , L459 , MATRIX_2:7;
L462: ( D63 @ ) = C64 by L434 , L444 , L447 , L448 , MATRIX_2:13;
L463: ( ( D63 ^ C65 ) @ ) = ( C64 ^^ D64 ) by L462 , L453 , L458 , MATRLIN:28;
L464: ( the_rank_of ( ( D63 ^ C65 ) @ ) ) = R3 by L456 , MATRIX13:84;
thus L465: thesis by L464 , L463;
end;
end;
end;
L468: (for R3 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds R22 is (Point of ( TOP-REAL R3 ))))
proof
let R3 being Nat;
let R22 being R3 -element  real-valued FinSequence;
L469: (( len R22 ) = R3 & ( @ ( @ R22 ) ) = R22) by CARD_1:def 7;
thus L470: thesis by L469 , TOPREAL3:46;
end;
begin
definition
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
func Mx2Tran R28 -> (Function of ( TOP-REAL R3 ) , ( TOP-REAL R4 )) means 
:L471: (for R22 being R3 -element  real-valued FinSequence holds ( it . R22 ) = ( Line (( ( LineVec2Mx ( @ R22 ) ) * R28 ) , 1) )) if R3 <> ( 0 ) otherwise (for R22 being R3 -element  real-valued FinSequence holds ( it . R22 ) = ( 0. ( TOP-REAL R4 ) ));
existence
proof
set D65 = ( TOP-REAL R4 );
set D66 = ( TOP-REAL R3 );
L472:
now
assume L473: R3 <> ( 0 );
defpred S3[ (Element of D66) , (Element of D65) ] means $2 = ( Line (( ( LineVec2Mx ( @ $1 ) ) * R28 ) , 1) );
L474: (for B43 being (Element of D66) holds (ex B44 being (Element of D65) st S3[ B43 , B44 ]))
proof
let C66 being (Element of D66);
set D67 = ( LineVec2Mx ( @ C66 ) );
set D68 = ( Line (( D67 * R28 ) , 1) );
L475: ( len C66 ) = R3 by CARD_1:def 7;
L476: ( width D67 ) = R3 by L475 , MATRIX13:1;
L477: (( len R28 ) = R3 & ( width R28 ) = R4) by L473 , MATRIX13:1;
L478: ( width ( D67 * R28 ) ) = R4 by L477 , L476 , MATRIX_3:def 4;
L479: D68 in ( REAL R4 ) by L478;
reconsider D69 = D68 as (Element of D65) by L479 , EUCLID:22;
L480: S3[ C66 , D69 ];
thus L481: thesis by L480;
end;
consider C67 being (Function of D66 , D65) such that L482: (for B45 being (Element of D66) holds S3[ B45 , ( C67 . B45 ) ]) from FUNCT_2:sch 3(L474);
take D70 = C67;
let R22 being R3 -element  real-valued FinSequence;
L483: (( @ R22 ) is (FinSequence of ( REAL )) & ( len R22 ) = R3) by CARD_1:def 7;
L484: R22 is (Element of ( R3 -tuples_on ( REAL ) )) by L483 , FINSEQ_2:92;
L485: R22 in ( REAL R3 ) by L484;
L486: R22 is (Element of D66) by L485 , EUCLID:22;
thus L487: ( D70 . R22 ) = ( Line (( ( LineVec2Mx ( @ R22 ) ) * R28 ) , 1) ) by L486 , L482;
end;
L488:
now
assume L489: R3 = ( 0 );
defpred S4[ (Element of D66) , (Element of D65) ] means $2 = ( 0. D65 );
L490: (for B46 being (Element of D66) holds (ex B47 being (Element of D65) st S4[ B46 , B47 ]));
consider C68 being (Function of D66 , D65) such that L491: (for B48 being (Element of D66) holds S4[ B48 , ( C68 . B48 ) ]) from FUNCT_2:sch 3(L490);
take D71 = C68;
let R22 being R3 -element  real-valued FinSequence;
L492: (( @ R22 ) is (FinSequence of ( REAL )) & ( len R22 ) = R3) by CARD_1:def 7;
L493: R22 is (Element of ( R3 -tuples_on ( REAL ) )) by L492 , FINSEQ_2:92;
L494: R22 in ( REAL R3 ) by L493;
L495: R22 is (Element of D66) by L494 , EUCLID:22;
thus L496: ( D71 . R22 ) = ( 0. D65 ) by L495 , L491;
end;
thus L497: thesis by L488 , L472;
end;
uniqueness
proof
let C69 , C70 being (Function of ( TOP-REAL R3 ) , ( TOP-REAL R4 ));
L498:
now
assume L499: R3 <> ( 0 );
assume L500: (for R22 being R3 -element  real-valued FinSequence holds ( C69 . R22 ) = ( Line (( ( LineVec2Mx ( @ R22 ) ) * R28 ) , 1) ));
assume L501: (for R22 being R3 -element  real-valued FinSequence holds ( C70 . R22 ) = ( Line (( ( LineVec2Mx ( @ R22 ) ) * R28 ) , 1) ));
L502:
now
let C71 being (Element of ( TOP-REAL R3 ));
thus L503: ( C69 . C71 ) = ( Line (( ( LineVec2Mx ( @ C71 ) ) * R28 ) , 1) ) by L500
.= ( C70 . C71 ) by L501;
end;
thus L504: C69 = C70 by L502 , FUNCT_2:63;
end;
L505:
now
assume L506: R3 = ( 0 );
assume L507: (for R22 being R3 -element  real-valued FinSequence holds ( C69 . R22 ) = ( 0. ( TOP-REAL R4 ) ));
assume L508: (for R22 being R3 -element  real-valued FinSequence holds ( C70 . R22 ) = ( 0. ( TOP-REAL R4 ) ));
L509:
now
let C72 being (Element of ( TOP-REAL R3 ));
thus L510: ( C69 . C72 ) = ( 0. ( TOP-REAL R4 ) ) by L507
.= ( C70 . C72 ) by L508;
end;
thus L511: C69 = C70 by L509 , FUNCT_2:63;
end;
thus L512: thesis by L505 , L498;
end;
correctness;
end;
L514:
now
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
let C73 being set;
set D72 = ( Mx2Tran R28 );
per cases ;
suppose L515: C73 in ( dom D72 );

L516: ( rng D72 ) c= (the carrier of ( TOP-REAL R4 )) by RELAT_1:def 19;
L517: ( D72 . C73 ) in ( rng D72 ) by L515 , FUNCT_1:def 3;
thus L518: ( D72 . C73 ) is  real-valued  real-valued  real-valued  real-valued FinSequence by L517 , L516;
end;
suppose L519: (not C73 in ( dom D72 ));

thus L520: ( D72 . C73 ) is  real-valued  real-valued  real-valued  real-valued FinSequence by L519 , FUNCT_1:def 2;
end;
end;
registration
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
let C74 being set;
cluster ( ( Mx2Tran R28 ) . C74 ) ->  Function-like  Relation-like;
coherence by L514;
cluster ( ( Mx2Tran R28 ) . C74 ) ->  real-valued  FinSequence-like;
coherence by L514;
end;
registration
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
let R22 being R3 -element  real-valued FinSequence;
cluster ( ( Mx2Tran R28 ) . R22 ) -> R4 -element;
coherence
proof
set D73 = ( Mx2Tran R28 );
L523: (( @ R22 ) is (FinSequence of ( REAL )) & ( len R22 ) = R3) by CARD_1:def 7;
L524: R22 is (Element of ( R3 -tuples_on ( REAL ) )) by L523 , FINSEQ_2:92;
L525: R22 in ( REAL R3 ) by L524;
L526: R22 in (the carrier of ( TOP-REAL R3 )) by L525 , EUCLID:22;
L527: R22 in ( dom D73 ) by L526 , FUNCT_2:def 1;
L528: ( D73 . R22 ) in ( rng D73 ) by L527 , FUNCT_1:def 3;
L529: ( rng D73 ) c= (the carrier of ( TOP-REAL R4 )) by RELAT_1:def 19;
thus L530: thesis by L529 , L528;
end;
end;
theorem
L532: (for R3 being Nat holds (for R4 being Nat holds (for R6 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ((1 <= R6 & R6 <= R4 & R3 <> ( 0 )) implies ( ( ( Mx2Tran R28 ) . R22 ) . R6 ) = ( ( @ R22 ) "*" ( Col (R28 , R6) ) )))))))
proof
let R3 being Nat;
let R4 being Nat;
let R6 being Nat;
let R22 being R3 -element  real-valued FinSequence;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
assume that
L533: (1 <= R6 & R6 <= R4)
and
L534: R3 <> ( 0 );
L535: ( len R28 ) = R3 by L534 , MATRIX13:1;
set D74 = ( LineVec2Mx ( @ R22 ) );
set D75 = ( D74 * R28 );
L536: ( len R22 ) = R3 by CARD_1:def 7;
L537: ( width D74 ) = R3 by L536 , MATRIX13:1;
L538: ( width R28 ) = R4 by L534 , MATRIX13:1;
L539: ( width D75 ) = R4 by L538 , L537 , L535 , MATRIX_3:def 4;
L540: ( len D74 ) = 1 by MATRIX13:1;
L541: ( len D75 ) = 1 by L540 , L537 , L535 , MATRIX_3:def 4;
L542: [ 1 , R6 ] in ( Indices D75 ) by L541 , L533 , L539 , MATRIX_1:36;
set D76 = ( Line (D75 , 1) );
L543: (R6 in ( Seg R4 ) & ( ( Mx2Tran R28 ) . R22 ) = D76) by L533 , L534 , L471 , FINSEQ_1:1;
thus L544: ( ( ( Mx2Tran R28 ) . R22 ) . R6 ) = ( D75 * (1 , R6) ) by L543 , L539 , MATRIX_1:def 7
.= ( ( Line (D74 , 1) ) "*" ( Col (R28 , R6) ) ) by L537 , L535 , L542 , MATRIX_3:def 4
.= ( ( @ R22 ) "*" ( Col (R28 , R6) ) ) by MATRIX15:25;
end;
theorem
L545: (for R3 being Nat holds (for R9 being Field holds ( len ( MX2FinS ( 1. (R9 , R3) ) ) ) = R3))
proof
let R3 being Nat;
let R9 being Field;
L546: ( MX2FinS ( 1. (R9 , R3) ) ) is (OrdBasis of ( R3 -VectSp_over R9 )) by MATRLIN2:45;
thus L547: ( len ( MX2FinS ( 1. (R9 , R3) ) ) ) = ( dim ( R3 -VectSp_over R9 ) ) by L546 , MATRLIN2:21
.= R3 by MATRIX13:112;
end;
theorem
L548: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (for B49 being (OrdBasis of ( R3 -VectSp_over ( F_Real ) )) holds (for B50 being (OrdBasis of ( R4 -VectSp_over ( F_Real ) )) holds ((B49 = ( MX2FinS ( 1. (( F_Real ) , R3) ) ) & B50 = ( MX2FinS ( 1. (( F_Real ) , R4) ) )) implies (for B51 being (Matrix of ( len B49 ) , ( len B50 ) , ( F_Real )) holds (B51 = R28 implies ( Mx2Tran R28 ) = ( Mx2Tran (B51 , B49 , B50) )))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
let C75 being (OrdBasis of ( R3 -VectSp_over ( F_Real ) ));
let C76 being (OrdBasis of ( R4 -VectSp_over ( F_Real ) ));
assume that
L549: C75 = ( MX2FinS ( 1. (( F_Real ) , R3) ) )
and
L550: C76 = ( MX2FinS ( 1. (( F_Real ) , R4) ) );
set D77 = ( Mx2Tran R28 );
let C77 being (Matrix of ( len C75 ) , ( len C76 ) , ( F_Real ));
assume that
L551: C77 = R28;
set D78 = ( Mx2Tran (C77 , C75 , C76) );
L552: ( dom D78 ) = (the carrier of ( R3 -VectSp_over ( F_Real ) )) by FUNCT_2:def 1;
L553: ( dom D78 ) = ( REAL R3 ) by L552 , MATRIX13:102
.= (the carrier of ( TOP-REAL R3 )) by EUCLID:22;
L554: (for B52 being set holds (B52 in ( dom D77 ) implies ( D77 . B52 ) = ( D78 . B52 )))
proof
let C78 being set;
assume L555: C78 in ( dom D77 );
reconsider D79 = C78 as (Element of ( TOP-REAL R3 )) by L555 , FUNCT_2:def 1;
reconsider D80 = D79 as (Vector of ( R3 -VectSp_over ( F_Real ) )) by L553 , FUNCT_2:def 1;
set D81 = ( LineVec2Mx ( @ D79 ) );
L556: ( len D79 ) = R3 by CARD_1:def 7;
L557: (( len D81 ) = 1 & ( width D81 ) = R3) by L556 , MATRIX13:1;
L558: ( len C75 ) = R3 by L549 , L545;
L559: ( len C76 ) = R4 by L550 , L545;
per cases ;
suppose L560: R3 = ( 0 );

L561: ( D78 . D80 ) = ( 0. ( R4 -VectSp_over ( F_Real ) ) ) by L560 , L549 , L545 , MATRLIN2:33
.= ( R4 |-> ( 0. ( F_Real ) ) ) by MATRIX13:102
.= ( 0* R4 )
.= ( 0. ( TOP-REAL R4 ) ) by EUCLID:70
.= ( D77 . D79 ) by L560 , L471;
thus L562: thesis by L561;
end;
suppose L563: R3 > ( 0 );

L564: ( ( D78 . D80 ) |-- C76 ) = ( D78 . D80 ) by L550 , L559 , MATRLIN2:46;
L565: (( D80 |-- C75 ) = D80 & ( AutMt (D78 , C75 , C76) ) = R28) by L549 , L551 , L558 , MATRLIN2:36 , MATRLIN2:46;
L566: (1 in ( dom D81 ) & ( len R28 ) = ( width D81 )) by L563 , L557 , FINSEQ_3:25 , MATRIX13:1;
L567: ( LineVec2Mx ( Line (( D81 * R28 ) , 1) ) ) = ( ( LineVec2Mx ( Line (D81 , 1) ) ) * R28 ) by L566 , MATRLIN2:35
.= ( D81 * R28 ) by MATRIX15:25
.= ( LineVec2Mx ( ( D78 . D80 ) |-- C76 ) ) by L558 , L563 , L565 , MATRLIN2:31;
thus L568: ( D78 . C78 ) = ( Line (( LineVec2Mx ( Line (( D81 * R28 ) , 1) ) ) , 1) ) by L567 , L564 , MATRIX15:25
.= ( Line (( D81 * R28 ) , 1) ) by MATRIX15:25
.= ( D77 . C78 ) by L563 , L471;
end;
end;
L570: ( dom D77 ) = (the carrier of ( TOP-REAL R3 )) by FUNCT_2:def 1;
thus L571: thesis by L570 , L553 , L554 , FUNCT_1:2;
end;
theorem
L572: (for R3 being Nat holds (for R4 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (for B53 being (Permutation of ( Seg R3 )) holds (( ( Mx2Tran R28 ) . R22 ) = ( ( Mx2Tran ( R28 * B53 ) ) . ( R22 * B53 ) ) & ( R22 * B53 ) is R3 -element R3 -element R3 -element R3 -element (FinSequence of ( REAL ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R22 being R3 -element  real-valued FinSequence;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
let C79 being (Permutation of ( Seg R3 ));
L573: ( len R22 ) = R3 by CARD_1:def 7;
L574: (( rng C79 ) = ( Seg R3 ) & ( dom R22 ) = ( Seg R3 )) by L573 , FINSEQ_1:def 3 , FUNCT_2:def 3;
L575: ( dom C79 ) = ( Seg R3 ) by FUNCT_2:52;
L576: ( dom ( R22 * C79 ) ) = ( Seg R3 ) by L575 , L574 , RELAT_1:27;
reconsider D82 = ( R22 * C79 ) as FinSequence by L576 , FINSEQ_1:def 2;
L577: ( rng ( R22 * C79 ) ) = ( rng R22 ) by L574 , RELAT_1:28;
reconsider D83 = D82 as (FinSequence of ( REAL )) by L577 , FINSEQ_1:def 4;
L578: ( len D83 ) = R3 by L573 , L576 , FINSEQ_1:def 3;
L579: D83 is R3 -element by L578 , CARD_1:def 7;
L580: ( ( Mx2Tran R28 ) . R22 ) = ( ( Mx2Tran ( R28 * C79 ) ) . ( R22 * C79 ) )
proof
per cases ;
suppose L581: R3 <> ( 0 );

L582: ( width R28 ) = R4 by L581 , MATRIX13:1;
set D84 = ( R28 * C79 );
L583: ( len R28 ) = R3 by L581 , MATRIX13:1;
L584:
now
let C80 being Nat;
assume L585: (1 <= C80 & C80 <= R4);
L586: C80 in ( Seg R4 ) by L585 , FINSEQ_1:1;
L587: ( mlt (( @ D83 ) , ( Col (D84 , C80) )) ) = ( (the multF of ( F_Real )) .: (D83 , ( ( Col (R28 , C80) ) * C79 )) ) by L586 , L582 , L377
.= ( ( mlt (( @ R22 ) , ( Col (R28 , C80) )) ) * C79 ) by FUNCOP_1:25;
L588: ( len ( Col (R28 , C80) ) ) = R3 by L583 , CARD_1:def 7;
L589: ( len ( mlt (( @ R22 ) , ( Col (R28 , C80) )) ) ) = R3 by L588 , L573 , MATRIX_3:6;
L590: ( dom ( mlt (( @ R22 ) , ( Col (R28 , C80) )) ) ) = ( Seg R3 ) by L589 , FINSEQ_1:def 3;
L591: ( ( ( Mx2Tran D84 ) . D83 ) . C80 ) = ( ( @ D83 ) "*" ( Col (D84 , C80) ) ) by L581 , L579 , L585 , L532
.= ( (the addF of ( F_Real )) "**" ( mlt (( @ D83 ) , ( Col (D84 , C80) )) ) );
thus L592: ( ( ( Mx2Tran D84 ) . D83 ) . C80 ) = ( ( @ R22 ) "*" ( Col (R28 , C80) ) ) by L591 , L590 , L587 , FINSOP_1:7
.= ( ( ( Mx2Tran R28 ) . R22 ) . C80 ) by L581 , L585 , L532;
end;
L593: (( len ( ( Mx2Tran R28 ) . R22 ) ) = R4 & ( len ( ( Mx2Tran D84 ) . D83 ) ) = R4) by L579 , CARD_1:def 7;
thus L594: thesis by L593 , L584 , FINSEQ_1:14;
end;
suppose L595: R3 = ( 0 );

thus L596: ( ( Mx2Tran R28 ) . R22 ) = ( 0. ( TOP-REAL R4 ) ) by L595 , L471
.= ( ( Mx2Tran ( R28 * C79 ) ) . ( R22 * C79 ) ) by L595 , L471;
end;
end;
thus L598: thesis by L580 , L578 , CARD_1:def 7;
end;
theorem
L599: (for R3 being Nat holds (for R4 being Nat holds (for R23 being R3 -element  real-valued FinSequence holds (for R24 being R3 -element  real-valued FinSequence holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ( ( Mx2Tran R28 ) . ( R23 + R24 ) ) = ( ( ( Mx2Tran R28 ) . R23 ) + ( ( Mx2Tran R28 ) . R24 ) ))))))
proof
let R3 being Nat;
let R4 being Nat;
let R23 being R3 -element  real-valued FinSequence;
let R24 being R3 -element  real-valued FinSequence;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D85 = ( R23 + R24 );
set D86 = ( Mx2Tran R28 );
per cases ;
suppose L600: R3 <> ( 0 );

per cases ;
suppose L601: R4 = ( 0 );

L602: ( D86 . D85 ) = ( 0.REAL ( 0 ) ) by L601;
thus L603: thesis by L602 , L601;
end;
suppose L604: R4 > ( 0 );

L605: R4 >= 1 by L604 , NAT_1:14;
L606: ( len R28 ) = R3 by L600 , MATRIX13:1;
set D87 = ( LineVec2Mx ( @ R24 ) );
set D88 = ( LineVec2Mx ( @ R23 ) );
L607: ( len D87 ) = 1 by MATRIX13:1;
L608: ( len R24 ) = R3 by CARD_1:def 7;
L609: ( width D87 ) = R3 by L608 , MATRIX13:1;
L610: ( width R28 ) = R4 by L600 , MATRIX13:1;
L611: ( width ( D87 * R28 ) ) = R4 by L610 , L609 , L606 , MATRIX_3:def 4;
L612: ( len R23 ) = R3 by CARD_1:def 7;
L613: ( width D88 ) = R3 by L612 , MATRIX13:1;
L614: ( width ( D88 * R28 ) ) = R4 by L613 , L606 , L610 , MATRIX_3:def 4;
L615: ( len D88 ) = 1 by MATRIX13:1;
L616: ( len ( D88 * R28 ) ) = 1 by L615 , L613 , L606 , MATRIX_3:def 4;
L617: [ 1 , 1 ] in ( Indices ( D88 * R28 ) ) by L616 , L614 , L605 , MATRIX_1:36;
L618: (( @ ( D86 . R23 ) ) = ( Line (( D88 * R28 ) , 1) ) & ( @ ( D86 . R24 ) ) = ( Line (( D87 * R28 ) , 1) )) by L600 , L471;
L619: ( @ D85 ) = ( ( @ R23 ) + ( @ R24 ) ) by RVSUM_1:def 4;
L620: ( ( LineVec2Mx ( @ D85 ) ) * R28 ) = ( ( D88 + D87 ) * R28 ) by L619 , L612 , L608 , MATRIX15:27
.= ( ( D88 * R28 ) + ( D87 * R28 ) ) by L600 , L615 , L607 , L613 , L609 , L606 , MATRIX_4:63;
thus L621: ( D86 . D85 ) = ( Line (( ( D88 * R28 ) + ( D87 * R28 ) ) , 1) ) by L620 , L600 , L471
.= ( ( Line (( D88 * R28 ) , 1) ) + ( Line (( D87 * R28 ) , 1) ) ) by L614 , L611 , L617 , MATRIX_4:59
.= ( ( D86 . R23 ) + ( D86 . R24 ) ) by L618 , RVSUM_1:def 4;
end;
end;
suppose L623: R3 = ( 0 );

L624: ( 0. ( TOP-REAL R4 ) ) = ( 0* R4 ) by EUCLID:70
.= ( R4 |-> ( 0 ) );
L625: ( D86 . R24 ) = ( R4 |-> ( 0 ) ) by L624 , L623 , L471;
thus L626: ( D86 . ( R23 + R24 ) ) = ( R4 |-> ( ( 0 ) + ( 0 ) ) ) by L623 , L624 , L471
.= ( ( R4 |-> ( 0 ) ) + ( R4 |-> ( 0 ) ) ) by RVSUM_1:14
.= ( ( D86 . R23 ) + ( D86 . R24 ) ) by L623 , L625;
end;
end;
theorem
L628: (for R3 being Nat holds (for R4 being Nat holds (for R7 being  real number holds (for R22 being R3 -element  real-valued FinSequence holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ( ( Mx2Tran R28 ) . ( R7 * R22 ) ) = ( R7 * ( ( Mx2Tran R28 ) . R22 ) ))))))
proof
let R3 being Nat;
let R4 being Nat;
let R7 being  real number;
let R22 being R3 -element  real-valued FinSequence;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D89 = ( R7 * R22 );
set D90 = ( Mx2Tran R28 );
per cases ;
suppose L629: R3 <> ( 0 );

per cases ;
suppose L630: R4 = ( 0 );

L631: ( D90 . D89 ) = ( 0.REAL ( 0 ) ) by L630;
thus L632: thesis by L631 , L630;
end;
suppose L633: R4 > ( 0 );

reconsider D91 = R7 as (Element of ( F_Real )) by XREAL_0:def 1;
set D92 = ( LineVec2Mx ( @ D89 ) );
set D93 = ( LineVec2Mx ( @ R22 ) );
L634: ( D91 * ( @ R22 ) ) = ( @ D89 ) by MATRIXR1:17;
L635: ( len R22 ) = R3 by CARD_1:def 7;
L636: ( width D93 ) = R3 by L635 , MATRIX13:1;
L637: ( len R28 ) = R3 by L629 , MATRIX13:1;
L638: ( len D93 ) = 1 by MATRIX13:1;
L639: ( len ( D93 * R28 ) ) = 1 by L638 , L636 , L637 , MATRIX_3:def 4;
L640: ( D90 . ( @ R22 ) ) = ( Line (( D93 * R28 ) , 1) ) by L629 , L471;
thus L641: ( R7 * ( D90 . R22 ) ) = ( D91 * ( Line (( D93 * R28 ) , 1) ) ) by L640 , MATRIXR1:17
.= ( Line (( D91 * ( D93 * R28 ) ) , 1) ) by L639 , MATRIXR1:20
.= ( Line (( ( D91 * D93 ) * R28 ) , 1) ) by L636 , L637 , MATRIX15:1
.= ( Line (( D92 * R28 ) , 1) ) by L634 , MATRIX15:29
.= ( D90 . ( R7 * R22 ) ) by L629 , L471;
end;
end;
suppose L643: R3 = ( 0 );

L644: ( 0. ( TOP-REAL R4 ) ) = ( 0* R4 ) by EUCLID:70
.= ( R4 |-> ( 0 ) );
thus L645: ( D90 . D89 ) = ( R4 |-> ( R7 * ( 0 ) ) ) by L644 , L643 , L471
.= ( R7 * ( R4 |-> ( 0 ) ) ) by RVSUM_1:48
.= ( R7 * ( D90 . R22 ) ) by L643 , L644 , L471;
end;
end;
theorem
L647: (for R3 being Nat holds (for R4 being Nat holds (for R23 being R3 -element  real-valued FinSequence holds (for R24 being R3 -element  real-valued FinSequence holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ( ( Mx2Tran R28 ) . ( R23 - R24 ) ) = ( ( ( Mx2Tran R28 ) . R23 ) - ( ( Mx2Tran R28 ) . R24 ) ))))))
proof
let R3 being Nat;
let R4 being Nat;
let R23 being R3 -element  real-valued FinSequence;
let R24 being R3 -element  real-valued FinSequence;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
L648: ( R23 - R24 ) = ( R23 + ( - R24 ) ) by RVSUM_1:31
.= ( R23 + ( ( - 1 ) * R24 ) ) by RVSUM_1:54;
thus L649: ( ( Mx2Tran R28 ) . ( R23 - R24 ) ) = ( ( ( Mx2Tran R28 ) . R23 ) + ( ( Mx2Tran R28 ) . ( ( - 1 ) * R24 ) ) ) by L648 , L599
.= ( ( ( Mx2Tran R28 ) . R23 ) + ( ( - 1 ) * ( ( Mx2Tran R28 ) . R24 ) ) ) by L628
.= ( ( ( Mx2Tran R28 ) . R23 ) + ( - ( ( Mx2Tran R28 ) . R24 ) ) ) by RVSUM_1:54
.= ( ( ( Mx2Tran R28 ) . R23 ) - ( ( Mx2Tran R28 ) . R24 ) ) by RVSUM_1:31;
end;
theorem
L650: (for R3 being Nat holds (for R4 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds (for R29 being (Matrix of R3 , R4 , ( F_Real )) holds (for R30 being (Matrix of R3 , R4 , ( F_Real )) holds ( ( Mx2Tran ( R29 + R30 ) ) . R22 ) = ( ( ( Mx2Tran R29 ) . R22 ) + ( ( Mx2Tran R30 ) . R22 ) ))))))
proof
let R3 being Nat;
let R4 being Nat;
let R22 being R3 -element  real-valued FinSequence;
let R29 being (Matrix of R3 , R4 , ( F_Real ));
let R30 being (Matrix of R3 , R4 , ( F_Real ));
set D94 = ( Mx2Tran ( R29 + R30 ) );
set D95 = ( Mx2Tran R30 );
set D96 = ( Mx2Tran R29 );
per cases ;
suppose L651: R3 <> ( 0 );

per cases ;
suppose L652: R4 = ( 0 );

L653: ( D94 . R22 ) = ( 0.REAL ( 0 ) ) by L652;
thus L654: thesis by L653 , L652;
end;
suppose L655: R4 > ( 0 );

set D97 = ( LineVec2Mx ( @ R22 ) );
L656: ( len R22 ) = R3 by CARD_1:def 7;
L657: ( width D97 ) = R3 by L656 , MATRIX13:1;
L658: (( len R30 ) = R3 & ( width R30 ) = R4) by L651 , MATRIX13:1;
L659: ( width ( D97 * R30 ) ) = R4 by L658 , L657 , MATRIX_3:def 4;
L660: 1 <= R4 by L655 , NAT_1:14;
L661: ( len R29 ) = R3 by L651 , MATRIX13:1;
L662: ( width R29 ) = R4 by L651 , MATRIX13:1;
L663: ( width ( D97 * R29 ) ) = R4 by L662 , L657 , L661 , MATRIX_3:def 4;
L664: ( len D97 ) = 1 by MATRIX13:1;
L665: ( len ( D97 * R29 ) ) = 1 by L664 , L657 , L661 , MATRIX_3:def 4;
L666: [ 1 , 1 ] in ( Indices ( D97 * R29 ) ) by L665 , L663 , L660 , MATRIX_1:36;
L667: (( @ ( D96 . R22 ) ) = ( Line (( D97 * R29 ) , 1) ) & ( @ ( D95 . R22 ) ) = ( Line (( D97 * R30 ) , 1) )) by L651 , L471;
thus L668: ( ( D96 . R22 ) + ( D95 . R22 ) ) = ( ( Line (( D97 * R29 ) , 1) ) + ( Line (( D97 * R30 ) , 1) ) ) by L667 , RVSUM_1:def 4
.= ( Line (( ( D97 * R29 ) + ( D97 * R30 ) ) , 1) ) by L663 , L659 , L666 , MATRIX_4:59
.= ( Line (( D97 * ( R29 + R30 ) ) , 1) ) by L651 , L664 , L657 , L661 , L662 , L658 , MATRIX_4:62
.= ( D94 . R22 ) by L651 , L471;
end;
end;
suppose L670: R3 = ( 0 );

L671: ( 0. ( TOP-REAL R4 ) ) = ( 0* R4 ) by EUCLID:70
.= ( R4 |-> ( 0 ) );
L672: ( D95 . R22 ) = ( R4 |-> ( 0 ) ) by L671 , L670 , L471;
thus L673: ( D94 . R22 ) = ( R4 |-> ( ( 0 ) + ( 0 ) ) ) by L670 , L671 , L471
.= ( ( R4 |-> ( 0 ) ) + ( R4 |-> ( 0 ) ) ) by RVSUM_1:14
.= ( ( D96 . R22 ) + ( D95 . R22 ) ) by L670 , L671 , L672 , L471;
end;
end;
theorem
L675: (for R3 being Nat holds (for R4 being Nat holds (for R7 being  real number holds (for R8 being (Element of ( F_Real )) holds (for R22 being R3 -element  real-valued FinSequence holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (R7 = R8 implies ( R7 * ( ( Mx2Tran R28 ) . R22 ) ) = ( ( Mx2Tran ( R8 * R28 ) ) . R22 ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R7 being  real number;
let R8 being (Element of ( F_Real ));
let R22 being R3 -element  real-valued FinSequence;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D98 = ( LineVec2Mx ( @ R22 ) );
set D99 = ( R8 * R28 );
set D100 = ( Mx2Tran R28 );
set D101 = ( Mx2Tran D99 );
assume that
L676: R7 = R8;
per cases ;
suppose L677: R3 <> ( 0 );

L678: ( len R28 ) = R3 by L677 , MATRIX13:1;
L679: ( len R22 ) = R3 by CARD_1:def 7;
L680: ( width D98 ) = R3 by L679 , MATRIX13:1;
L681: ( len D98 ) = 1 by MATRIX13:1;
L682: ( len ( D98 * R28 ) ) = 1 by L681 , L680 , L678 , MATRIX_3:def 4;
L683: ( D100 . R22 ) = ( Line (( D98 * R28 ) , 1) ) by L677 , L471;
thus L684: ( R7 * ( D100 . R22 ) ) = ( R8 * ( Line (( D98 * R28 ) , 1) ) ) by L683 , L676 , MATRIXR1:17
.= ( Line (( R8 * ( D98 * R28 ) ) , 1) ) by L682 , MATRIXR1:20
.= ( Line (( D98 * D99 ) , 1) ) by L680 , L678 , MATRIXR1:22
.= ( D101 . R22 ) by L677 , L471;
end;
suppose L685: R3 = ( 0 );

L686: ( 0. ( TOP-REAL R4 ) ) = ( 0* R4 ) by EUCLID:70
.= ( R4 |-> ( 0 ) );
thus L687: ( R7 * ( D100 . R22 ) ) = ( R7 * ( R4 |-> ( 0 ) ) ) by L686 , L685 , L471
.= ( R4 |-> ( R7 * ( 0 ) ) ) by RVSUM_1:48
.= ( D101 . R22 ) by L685 , L686 , L471;
end;
end;
theorem
L689: (for R3 being Nat holds (for R4 being Nat holds (for R26 being (Point of ( TOP-REAL R3 )) holds (for R27 being (Point of ( TOP-REAL R3 )) holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ( ( Mx2Tran R28 ) . ( R26 + R27 ) ) = ( ( ( Mx2Tran R28 ) . R26 ) + ( ( Mx2Tran R28 ) . R27 ) )))))) by L599;
theorem
L690: (for R3 being Nat holds (for R4 being Nat holds (for R26 being (Point of ( TOP-REAL R3 )) holds (for R27 being (Point of ( TOP-REAL R3 )) holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ( ( Mx2Tran R28 ) . ( R26 - R27 ) ) = ( ( ( Mx2Tran R28 ) . R26 ) - ( ( Mx2Tran R28 ) . R27 ) )))))) by L647;
theorem
L691: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ( ( Mx2Tran R28 ) . ( 0. ( TOP-REAL R3 ) ) ) = ( 0. ( TOP-REAL R4 ) ))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D102 = the (Element of ( TOP-REAL R3 ));
set D103 = ( Mx2Tran R28 );
L692: ( 0. ( TOP-REAL R3 ) ) = ( D102 - D102 ) by EUCLID:42;
thus L693: ( D103 . ( 0. ( TOP-REAL R3 ) ) ) = ( ( D103 . D102 ) - ( D103 . D102 ) ) by L692 , L690
.= ( 0. ( TOP-REAL R4 ) ) by EUCLID:42;
end;
theorem
L694: (for R3 being Nat holds (for R4 being Nat holds (for R25 being (Point of ( TOP-REAL R3 )) holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (for B54 being (Subset of ( TOP-REAL R3 )) holds ( ( Mx2Tran R28 ) .: ( R25 + B54 ) ) = ( ( ( Mx2Tran R28 ) . R25 ) + ( ( Mx2Tran R28 ) .: B54 ) ))))))
proof
let R3 being Nat;
let R4 being Nat;
let R25 being (Point of ( TOP-REAL R3 ));
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D104 = ( TOP-REAL R3 );
set D105 = ( TOP-REAL R4 );
set D106 = ( Mx2Tran R28 );
let C81 being (Subset of D104);
L695: ( dom D106 ) = ( [#] D104 ) by FUNCT_2:def 1;
thus L696: ( D106 .: ( R25 + C81 ) ) c= ( ( D106 . R25 ) + ( D106 .: C81 ) )
proof
let C82 being set;
assume L697: C82 in ( D106 .: ( R25 + C81 ) );
consider C83 being set such that L698: C83 in ( dom D106 ) and L699: C83 in ( R25 + C81 ) and L700: ( D106 . C83 ) = C82 by L697 , FUNCT_1:def 6;
L701: C83 in { ( R25 + B55 ) where B55 is (Element of D104) : B55 in C81 } by L699 , RUSUB_4:def 8;
consider C84 being (Element of D104) such that L702: (C83 = ( R25 + C84 ) & C84 in C81) by L701;
L703: (( D106 . C84 ) in ( D106 .: C81 ) & ( D106 . C83 ) = ( ( D106 . R25 ) + ( D106 . C84 ) )) by L695 , L702 , L689 , FUNCT_1:def 6;
L704: ( D106 . C83 ) in { ( ( D106 . R25 ) + B56 ) where B56 is (Element of D105) : B56 in ( D106 .: C81 ) } by L703;
thus L705: thesis by L704 , L700 , RUSUB_4:def 8;
end;

let C85 being set;
assume L706: C85 in ( ( D106 . R25 ) + ( D106 .: C81 ) );
L707: C85 in { ( ( D106 . R25 ) + B57 ) where B57 is (Element of D105) : B57 in ( D106 .: C81 ) } by L706 , RUSUB_4:def 8;
consider C86 being (Element of D105) such that L708: C85 = ( ( D106 . R25 ) + C86 ) and L709: C86 in ( D106 .: C81 ) by L707;
consider C87 being set such that L710: C87 in ( dom D106 ) and L711: C87 in C81 and L712: ( D106 . C87 ) = C86 by L709 , FUNCT_1:def 6;
reconsider D107 = C87 as (Element of D104) by L711;
L713: ( R25 + D107 ) in { ( R25 + B58 ) where B58 is (Element of D104) : B58 in C81 } by L711;
L714: ( R25 + D107 ) in ( R25 + C81 ) by L713 , RUSUB_4:def 8;
L715: C85 = ( D106 . ( R25 + D107 ) ) by L708 , L712 , L689;
thus L716: thesis by L715 , L695 , L714 , FUNCT_1:def 6;
end;
theorem
L717: (for R3 being Nat holds (for R4 being Nat holds (for R25 being (Point of ( TOP-REAL R3 )) holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (for B59 being (Subset of ( TOP-REAL R4 )) holds ( ( Mx2Tran R28 ) " ( ( ( Mx2Tran R28 ) . R25 ) + B59 ) ) = ( R25 + ( ( Mx2Tran R28 ) " B59 ) ))))))
proof
let R3 being Nat;
let R4 being Nat;
let R25 being (Point of ( TOP-REAL R3 ));
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D108 = ( Mx2Tran R28 );
set D109 = ( TOP-REAL R3 );
set D110 = ( TOP-REAL R4 );
let C88 being (Subset of D110);
set D111 = R25;
set D112 = ( D108 . D111 );
L718: ( D111 + ( D108 " C88 ) ) = { ( D111 + B60 ) where B60 is (Element of D109) : B60 in ( D108 " C88 ) } by RUSUB_4:def 8;
L719: ( D112 + C88 ) = { ( D112 + B61 ) where B61 is (Element of D110) : B61 in C88 } by RUSUB_4:def 8;
L720: ( dom D108 ) = ( [#] D109 ) by FUNCT_2:def 1;
thus L721:now
let C89 being set;
assume L722: C89 in ( D108 " ( D112 + C88 ) );
reconsider D113 = C89 as (Element of D109) by L722;
L723: ( D108 . C89 ) in ( D112 + C88 ) by L722 , FUNCT_1:def 7;
consider C90 being (Element of D110) such that L724: ( D108 . C89 ) = ( D112 + C90 ) and L725: C90 in C88 by L723 , L719;
L726: ( ( D108 . D113 ) - D112 ) = ( ( C90 + D112 ) - D112 ) by L724
.= ( C90 + ( D112 - D112 ) ) by RLVECT_1:28
.= ( C90 + ( 0. D110 ) ) by RLVECT_1:15
.= C90 by RLVECT_1:4;
L727: C90 = ( D108 . ( D113 - D111 ) ) by L726 , L690;
L728: ( D113 - D111 ) in ( D108 " C88 ) by L727 , L720 , L725 , FUNCT_1:def 7;
L729: ( D111 + ( D113 - D111 ) ) = ( ( D113 - D111 ) + D111 )
.= ( D113 - ( D111 - D111 ) ) by RLVECT_1:29
.= ( D113 - ( 0. D109 ) ) by RLVECT_1:15
.= D113 by RLVECT_1:13;
thus L730: C89 in ( D111 + ( D108 " C88 ) ) by L729 , L718 , L728;
end;
let C91 being set;
assume L731: C91 in ( D111 + ( D108 " C88 ) );
consider C92 being (Element of D109) such that L732: C91 = ( D111 + C92 ) and L733: C92 in ( D108 " C88 ) by L731 , L718;
L734: ( D108 . C92 ) in C88 by L733 , FUNCT_1:def 7;
L735: ( D108 . ( D111 + C92 ) ) = ( D112 + ( D108 . C92 ) ) by L689;
L736: ( D108 . C91 ) in ( D112 + C88 ) by L735 , L719 , L732 , L734;
thus L737: thesis by L736 , L720 , L732 , FUNCT_1:def 7;
end;
theorem
L738: (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for B62 being (Matrix of R3 , R4 , ( F_Real )) holds (for B63 being (Matrix of ( width B62 ) , R5 , ( F_Real )) holds (((R3 = ( 0 ) implies R4 = ( 0 )) & (R4 = ( 0 ) implies R5 = ( 0 ))) implies ( ( Mx2Tran B63 ) * ( Mx2Tran B62 ) ) = ( Mx2Tran ( B62 * B63 ) )))))))
proof
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let C93 being (Matrix of R3 , R4 , ( F_Real ));
let C94 being (Matrix of ( width C93 ) , R5 , ( F_Real ));
assume that
L739: (R3 = ( 0 ) implies R4 = ( 0 ))
and
L740: (R4 = ( 0 ) implies R5 = ( 0 ));
reconsider D114 = ( MX2FinS ( 1. (( F_Real ) , R5) ) ) as (OrdBasis of ( R5 -VectSp_over ( F_Real ) )) by MATRLIN2:45;
reconsider D115 = ( MX2FinS ( 1. (( F_Real ) , R4) ) ) as (OrdBasis of ( R4 -VectSp_over ( F_Real ) )) by MATRLIN2:45;
reconsider D116 = ( MX2FinS ( 1. (( F_Real ) , R3) ) ) as (OrdBasis of ( R3 -VectSp_over ( F_Real ) )) by MATRLIN2:45;
L741: ( len C93 ) = R3 by L739 , MATRIX13:1;
L742: ( len D116 ) = R3 by L545;
reconsider D117 = C93 as (Matrix of ( len D116 ) , ( len D115 ) , ( F_Real )) by L742 , L545;
L743: ( Mx2Tran C93 ) = ( Mx2Tran (D117 , D116 , D115) ) by L548;
L744: ( width C93 ) = R4 by L739 , MATRIX13:1;
L745: ( width C94 ) = R5 by L744 , L740 , MATRIX13:1;
reconsider D118 = ( C93 * C94 ) as (Matrix of ( len D116 ) , ( len D114 ) , ( F_Real )) by L745 , L741 , L742 , L545;
L746: ( len D115 ) = R4 by L545;
reconsider D119 = C94 as (Matrix of ( len D115 ) , ( len D114 ) , ( F_Real )) by L746 , L744 , L545;
L747: ( len D119 ) = R4 by L740 , L744 , MATRIX13:1;
L748: ( Mx2Tran ( C93 * C94 ) ) = ( Mx2Tran (D118 , D116 , D114) ) by L741 , L745 , L548;
L749: ( Mx2Tran ( C93 * C94 ) ) = ( ( Mx2Tran (D119 , D115 , D114) ) * ( Mx2Tran (D117 , D116 , D115) ) ) by L748 , L744 , L747 , MATRLIN2:40;
thus L750: thesis by L749 , L744 , L743 , L548;
end;
theorem
L751: (for R3 being Nat holds ( Mx2Tran ( 1. (( F_Real ) , R3) ) ) = ( id ( TOP-REAL R3 ) ))
proof
let R3 being Nat;
set D120 = ( R3 -VectSp_over ( F_Real ) );
reconsider D121 = ( MX2FinS ( 1. (( F_Real ) , R3) ) ) as (OrdBasis of D120) by MATRLIN2:45;
L752: ( len D121 ) = R3 by L545;
reconsider D122 = ( 1. (( F_Real ) , R3) ) as (Matrix of ( len D121 ) , ( len D121 ) , ( F_Real )) by L752;
L753: ( Mx2Tran ( 1. (( F_Real ) , R3) ) ) = ( Mx2Tran (D122 , D121 , D121) ) by L548;
L754: ( [#] ( TOP-REAL R3 ) ) = ( dom ( Mx2Tran ( 1. (( F_Real ) , R3) ) ) ) by FUNCT_2:def 1
.= ( [#] D120 ) by L753 , FUNCT_2:def 1;
thus L755: ( Mx2Tran ( 1. (( F_Real ) , R3) ) ) = ( Mx2Tran (( AutMt (( id D120 ) , D121 , D121) ) , D121 , D121) ) by L752 , L548 , MATRLIN2:28
.= ( id ( TOP-REAL R3 ) ) by L754 , MATRLIN2:34;
end;
theorem
L756: (for R3 being Nat holds (for R4 being Nat holds (for R29 being (Matrix of R3 , R4 , ( F_Real )) holds (for R30 being (Matrix of R3 , R4 , ( F_Real )) holds (( Mx2Tran R29 ) = ( Mx2Tran R30 ) implies R29 = R30)))))
proof
let R3 being Nat;
let R4 being Nat;
let R29 being (Matrix of R3 , R4 , ( F_Real ));
let R30 being (Matrix of R3 , R4 , ( F_Real ));
assume that
L757: ( Mx2Tran R29 ) = ( Mx2Tran R30 );
set D123 = ( R3 -VectSp_over ( F_Real ) );
set D124 = ( R4 -VectSp_over ( F_Real ) );
reconsider D125 = ( MX2FinS ( 1. (( F_Real ) , R3) ) ) as (OrdBasis of D123) by MATRLIN2:45;
reconsider D126 = ( MX2FinS ( 1. (( F_Real ) , R4) ) ) as (OrdBasis of D124) by MATRLIN2:45;
L758: ( len D125 ) = R3 by L545;
reconsider D127 = R29 , D128 = R30 as (Matrix of ( len D125 ) , ( len D126 ) , ( F_Real )) by L758 , L545;
L759: ( Mx2Tran (D127 , D125 , D126) ) = ( Mx2Tran R29 ) by L548
.= ( Mx2Tran (D128 , D125 , D126) ) by L757 , L548;
thus L760: R29 = ( AutMt (( Mx2Tran (D127 , D125 , D126) ) , D125 , D126) ) by MATRLIN2:36
.= R30 by L759 , MATRLIN2:36;
end;
theorem
L761: (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds (for B64 being (Matrix of R3 , R4 , ( F_Real )) holds (for B65 being (Matrix of R5 , R4 , ( F_Real )) holds (( ( Mx2Tran ( B64 ^ B65 ) ) . ( R22 ^ ( R5 |-> ( 0 ) ) ) ) = ( ( Mx2Tran B64 ) . R22 ) & ( ( Mx2Tran ( B65 ^ B64 ) ) . ( ( R5 |-> ( 0 ) ) ^ R22 ) ) = ( ( Mx2Tran B64 ) . R22 ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R22 being R3 -element  real-valued FinSequence;
let C95 being (Matrix of R3 , R4 , ( F_Real ));
let C96 being (Matrix of R5 , R4 , ( F_Real ));
reconsider D129 = ( R5 |-> ( 0 ) ) as R5 -element (FinSequence of ( REAL ));
L762: ( len C96 ) = R5 by MATRIX_1:def 2;
set D130 = ( D129 ^ R22 );
per cases ;
suppose L763: R3 <> ( 0 );

L764: ( width C95 ) = R4 by L763 , MATRIX13:1;
L765: (( len R22 ) = R3 & ( len D129 ) = R5) by CARD_1:def 7;
L766: ( len D130 ) = ( R3 + R5 ) by L765 , FINSEQ_1:22;
L767: D130 is ( R3 + R5 ) -element by L766 , CARD_1:def 7;
L768: ( len C95 ) = R3 by L763 , MATRIX13:1;
thus L769: ( ( Mx2Tran ( C95 ^ C96 ) ) . ( R22 ^ ( R5 |-> ( 0 ) ) ) ) = ( ( Mx2Tran C95 ) . R22 )
proof
set D131 = ( R22 ^ D129 );
L770: ( len D131 ) = ( R3 + R5 ) by L765 , FINSEQ_1:22;
L771: D131 is ( R3 + R5 ) -element by L770 , CARD_1:def 7;
per cases ;
suppose L772: R5 = ( 0 );

L773: C96 is  empty by L772 , L762;
L774: ( Mx2Tran ( C95 ^ C96 ) ) = ( Mx2Tran C95 ) by L773 , L772 , FINSEQ_1:34;
L775: D129 is  empty by L772;
thus L776: thesis by L775 , L774 , FINSEQ_1:34;
end;
suppose L777: R5 <> ( 0 );

set D132 = ( Mx2Tran ( C95 ^ C96 ) );
set D133 = ( Mx2Tran C95 );
L778: ( width C96 ) = R4 by L777 , MATRIX_1:23;
L779:
now
let R6 being Nat;
reconsider D134 = ( Sum ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ) , D135 = ( Sum ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) ) as (Element of ( F_Real ));
assume L780: (1 <= R6 & R6 <= R4);
L781: R6 in ( Seg R4 ) by L780 , FINSEQ_1:1;
L782: ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) = ( ( 0. ( F_Real ) ) * ( Col (C96 , R6) ) ) by L762 , FVSUM_1:66
.= ( R5 |-> ( 0. ( F_Real ) ) ) by L762 , FVSUM_1:58;
L783: ( Sum ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ) = ( Sum ( R5 |-> ( 0 ) ) ) by L782 , MATRPROB:36
.= ( 0. (( F_Real ) qua Field) ) by RVSUM_1:81;
L784: (( len ( Col (C95 , R6) ) ) = R3 & ( len ( Col (C96 , R6) ) ) = R5) by L768 , L762 , MATRIX_1:def 8;
L785: ( mlt (( @ D131 ) , ( Col (( C95 ^ C96 ) , R6) )) ) = ( mlt (( ( @ R22 ) ^ ( @ D129 ) ) , ( ( Col (C95 , R6) ) ^ ( Col (C96 , R6) ) )) ) by L764 , L778 , L781 , MATRLIN:26
.= ( ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) ^ ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ) by L765 , L784 , MATRIX14:7;
L786: ( Sum ( mlt (( @ D131 ) , ( Col (( C95 ^ C96 ) , R6) )) ) ) = ( ( addreal ) . (( Sum ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) ) , ( Sum ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) )) ) by L785 , FINSOP_1:5
.= ( ( Sum ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) ) + ( Sum ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ) ) by BINOP_2:def 9
.= ( ( @ R22 ) "*" ( Col (C95 , R6) ) ) by L783;
thus L787: ( ( D133 . R22 ) . R6 ) = ( ( @ D131 ) "*" ( Col (( C95 ^ C96 ) , R6) ) ) by L786 , L763 , L780 , L532
.= ( ( D132 . D131 ) . R6 ) by L763 , L771 , L780 , L532;
end;
L788: (( len ( D132 . D131 ) ) = R4 & ( len ( D133 . R22 ) ) = R4) by L771 , CARD_1:def 7;
thus L789: thesis by L788 , L779 , FINSEQ_1:14;
end;
end;

per cases ;
suppose L791: R5 = ( 0 );

L792: C96 is  empty by L791 , L762;
L793: ( Mx2Tran ( C96 ^ C95 ) ) = ( Mx2Tran C95 ) by L792 , L791 , FINSEQ_1:34;
L794: D129 is  empty by L791;
thus L795: thesis by L794 , L793 , FINSEQ_1:34;
end;
suppose L796: R5 <> ( 0 );

set D136 = ( Mx2Tran ( C96 ^ C95 ) );
set D137 = ( Mx2Tran C95 );
L797: ( width C96 ) = R4 by L796 , MATRIX_1:23;
L798:
now
let R6 being Nat;
reconsider D138 = ( Sum ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ) , D139 = ( Sum ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) ) as (Element of ( F_Real ));
assume L799: (1 <= R6 & R6 <= R4);
L800: R6 in ( Seg R4 ) by L799 , FINSEQ_1:1;
L801: ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) = ( ( 0. ( F_Real ) ) * ( Col (C96 , R6) ) ) by L762 , FVSUM_1:66
.= ( R5 |-> ( 0. ( F_Real ) ) ) by L762 , FVSUM_1:58;
L802: ( Sum ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ) = ( Sum ( R5 |-> ( 0 ) ) ) by L801 , MATRPROB:36
.= ( 0. (( F_Real ) qua Field) ) by RVSUM_1:81;
L803: (( len ( Col (C95 , R6) ) ) = R3 & ( len ( Col (C96 , R6) ) ) = R5) by L768 , L762 , MATRIX_1:def 8;
L804: ( mlt (( @ D130 ) , ( Col (( C96 ^ C95 ) , R6) )) ) = ( mlt (( ( @ D129 ) ^ ( @ R22 ) ) , ( ( Col (C96 , R6) ) ^ ( Col (C95 , R6) ) )) ) by L764 , L797 , L800 , MATRLIN:26
.= ( ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ^ ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) ) by L765 , L803 , MATRIX14:7;
L805: ( Sum ( mlt (( @ D130 ) , ( Col (( C96 ^ C95 ) , R6) )) ) ) = ( ( addreal ) . (( Sum ( mlt (( @ D129 ) , ( Col (C96 , R6) )) ) ) , ( Sum ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) )) ) by L804 , FINSOP_1:5
.= ( ( Sum ( mlt (( @ R22 ) , ( Col (C95 , R6) )) ) ) + ( 0. ( F_Real ) ) ) by L802 , BINOP_2:def 9
.= ( ( @ R22 ) "*" ( Col (C95 , R6) ) );
thus L806: ( ( D137 . R22 ) . R6 ) = ( ( @ D130 ) "*" ( Col (( C96 ^ C95 ) , R6) ) ) by L805 , L763 , L799 , L532
.= ( ( D136 . D130 ) . R6 ) by L763 , L767 , L799 , L532;
end;
L807: (( len ( D136 . D130 ) ) = R4 & ( len ( D137 . R22 ) ) = R4) by L767 , CARD_1:def 7;
thus L808: thesis by L807 , L798 , FINSEQ_1:14;
end;
end;
suppose L810: R3 = ( 0 );

L811: ( 0. ( TOP-REAL R5 ) ) = ( 0* R5 ) by EUCLID:70
.= ( R5 |-> ( 0 ) );
L812: R22 = ( {} ) by L810;
L813: (( R22 ^ ( R5 |-> ( 0 ) ) ) = ( R5 |-> ( 0 ) ) & ( ( R5 |-> ( 0 ) ) ^ R22 ) = ( R5 |-> ( 0 ) )) by L812 , FINSEQ_1:34;
thus L814: ( ( Mx2Tran ( C95 ^ C96 ) ) . ( R22 ^ ( R5 |-> ( 0 ) ) ) ) = ( 0. ( TOP-REAL R4 ) ) by L811 , L813 , L691 , L810
.= ( ( Mx2Tran C95 ) . R22 ) by L810 , L471;
thus L815: ( ( Mx2Tran ( C96 ^ C95 ) ) . ( ( R5 |-> ( 0 ) ) ^ R22 ) ) = ( 0. ( TOP-REAL R4 ) ) by L811 , L813 , L691 , L810
.= ( ( Mx2Tran C95 ) . R22 ) by L810 , L471;
end;
end;
theorem
L817: (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds (for B66 being (Matrix of R3 , R4 , ( F_Real )) holds (for B67 being (Matrix of R5 , R4 , ( F_Real )) holds (for B68 being R5 -element  real-valued FinSequence holds ( ( Mx2Tran ( B66 ^ B67 ) ) . ( R22 ^ B68 ) ) = ( ( ( Mx2Tran B66 ) . R22 ) + ( ( Mx2Tran B67 ) . B68 ) ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R22 being R3 -element  real-valued FinSequence;
L818: ( len R22 ) = R3 by CARD_1:def 7;
L819: ( rng R22 ) c= ( REAL );
L820: R22 is (FinSequence of ( REAL )) by L819 , FINSEQ_1:def 4;
reconsider D140 = R22 , D141 = ( R3 |-> ( 0 ) ) as (Element of ( R3 -tuples_on ( REAL ) )) by L820 , L818 , FINSEQ_2:92;
let C97 being (Matrix of R3 , R4 , ( F_Real ));
let C98 being (Matrix of R5 , R4 , ( F_Real ));
let C99 being R5 -element  real-valued FinSequence;
L821: ( len C99 ) = R5 by CARD_1:def 7;
L822: ( rng C99 ) c= ( REAL );
L823: C99 is (FinSequence of ( REAL )) by L822 , FINSEQ_1:def 4;
reconsider D142 = C99 , D143 = ( R5 |-> ( 0 ) ) as (Element of ( R5 -tuples_on ( REAL ) )) by L823 , L821 , FINSEQ_2:92;
L824: ( len ( R3 |-> ( 0 ) ) ) = R3 by CARD_1:def 7;
L825: ( len ( D141 ^ D142 ) ) = ( R3 + R5 ) by L824 , L821 , FINSEQ_1:22;
L826: ( D141 ^ D142 ) is ( R3 + R5 ) -element by L825 , CARD_1:def 7;
L827: ( len ( R5 |-> ( 0 ) ) ) = R5 by CARD_1:def 7;
L828: ( len ( D140 ^ D143 ) ) = ( R3 + R5 ) by L827 , L818 , FINSEQ_1:22;
L829: ( D140 ^ D143 ) is ( R3 + R5 ) -element by L828 , CARD_1:def 7;
L830: R22 = ( D140 + D141 ) by RVSUM_1:16;
L831: (C99 = ( D142 + D143 ) & R22 = ( ( addreal ) .: (R22 , D141) )) by L830 , RVSUM_1:16 , RVSUM_1:def 4;
L832: ( R22 ^ C99 ) = ( ( ( addreal ) .: (D140 , D141) ) ^ ( ( addreal ) .: (D143 , D142) ) ) by L831 , RVSUM_1:def 4
.= ( ( addreal ) .: (( D140 ^ D143 ) , ( D141 ^ D142 )) ) by FINSEQOP:11
.= ( ( D140 ^ D143 ) + ( D141 ^ D142 ) ) by RVSUM_1:def 4;
thus L833: ( ( Mx2Tran ( C97 ^ C98 ) ) . ( R22 ^ C99 ) ) = ( ( ( Mx2Tran ( C97 ^ C98 ) ) . ( D140 ^ D143 ) ) + ( ( Mx2Tran ( C97 ^ C98 ) ) . ( D141 ^ D142 ) ) ) by L832 , L829 , L826 , L599
.= ( ( ( Mx2Tran C97 ) . R22 ) + ( ( Mx2Tran ( C97 ^ C98 ) ) . ( D141 ^ D142 ) ) ) by L761
.= ( ( ( Mx2Tran C97 ) . R22 ) + ( ( Mx2Tran C98 ) . C99 ) ) by L761;
end;
theorem
L834: (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds (for B69 being (Matrix of R3 , R5 , ( F_Real )) holds (for B70 being (Matrix of R3 , R4 , ( F_Real )) holds ((R3 = ( 0 ) implies ( R5 + R4 ) = ( 0 )) implies ( ( Mx2Tran ( B69 ^^ B70 ) ) . R22 ) = ( ( ( Mx2Tran B69 ) . R22 ) ^ ( ( Mx2Tran B70 ) . R22 ) ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R22 being R3 -element  real-valued FinSequence;
let C100 being (Matrix of R3 , R5 , ( F_Real ));
let C101 being (Matrix of R3 , R4 , ( F_Real ));
set D144 = ( LineVec2Mx ( @ R22 ) );
set D145 = ( ( Mx2Tran ( C100 ^^ C101 ) ) . R22 );
set D146 = ( ( Mx2Tran C100 ) . R22 );
set D147 = ( ( Mx2Tran C101 ) . R22 );
L835: ( len D146 ) = R5 by CARD_1:def 7;
assume L836: (R3 = ( 0 ) implies ( R5 + R4 ) = ( 0 ));
L837: (R3 = ( 0 ) implies R5 = ( 0 )) by L836;
L838: ( width C100 ) = R5 by L837 , MATRIX13:1;
L839: (R3 = ( 0 ) implies R4 = ( 0 )) by L836;
L840: ( width C101 ) = R4 by L839 , MATRIX13:1;
L841: ( len D147 ) = R4 by CARD_1:def 7;
L842: ( len ( D146 ^ D147 ) ) = ( R5 + R4 ) by L841 , L835 , FINSEQ_1:22;
L843: (for R6 being Nat holds ((1 <= R6 & R6 <= ( R5 + R4 )) implies ( ( D146 ^ D147 ) . R6 ) = ( D145 . R6 )))
proof
let R6 being Nat;
assume that
L844: 1 <= R6
and
L845: R6 <= ( R5 + R4 );
L846: R6 in ( dom ( D146 ^ D147 ) ) by L842 , L844 , L845 , FINSEQ_3:25;
L847: ( D145 . R6 ) = ( ( @ R22 ) "*" ( Col (( C100 ^^ C101 ) , R6) ) ) by L836 , L838 , L840 , L844 , L845 , L532;
per cases  by L846 , FINSEQ_1:25;
suppose L848: R6 in ( dom D146 );

L849: R6 <= R5 by L848 , L835 , FINSEQ_3:25;
L850: ( D146 . R6 ) = ( ( @ R22 ) "*" ( Col (C100 , R6) ) ) by L849 , L836 , L844 , L532;
L851: (R6 in ( Seg ( width C100 ) ) & ( ( D146 ^ D147 ) . R6 ) = ( D146 . R6 )) by L838 , L835 , L848 , FINSEQ_1:def 3 , FINSEQ_1:def 7;
thus L852: ( ( D146 ^ D147 ) . R6 ) = ( D145 . R6 ) by L851 , L847 , L850 , MATRIX15:16;
end;
suppose L853: (ex B71 being Nat st (B71 in ( dom D147 ) & R6 = ( ( len D146 ) + B71 )));

consider C102 being Nat such that L854: C102 in ( dom D147 ) and L855: R6 = ( ( len D146 ) + C102 ) by L853;
L856: (1 <= C102 & C102 <= R4) by L841 , L854 , FINSEQ_3:25;
L857: ( D147 . C102 ) = ( ( @ R22 ) "*" ( Col (C101 , C102) ) ) by L856 , L836 , L532;
L858: (C102 in ( Seg ( width C101 ) ) & ( ( D146 ^ D147 ) . R6 ) = ( D147 . C102 )) by L840 , L841 , L854 , L855 , FINSEQ_1:def 3 , FINSEQ_1:def 7;
thus L859: ( ( D146 ^ D147 ) . R6 ) = ( D145 . R6 ) by L858 , L838 , L835 , L847 , L855 , L857 , MATRIX15:17;
end;
end;
L861: ( len D145 ) = ( R5 + R4 ) by L838 , L840 , CARD_1:def 7;
thus L862: thesis by L861 , L842 , L843 , FINSEQ_1:14;
end;
theorem
L863: (for R3 being Nat holds (for R4 being Nat holds (for R22 being R3 -element  real-valued FinSequence holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (R28 = ( ( 1. (( F_Real ) , R4) ) | R3 ) implies ( ( ( Mx2Tran R28 ) . R22 ) | R3 ) = R22)))))
proof
let R3 being Nat;
let R4 being Nat;
let R22 being R3 -element  real-valued FinSequence;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D148 = ( 1. (( F_Real ) , R4) );
assume L864: R28 = ( D148 | R3 );
per cases ;
suppose L865: R3 = ( 0 );

L866: ( ( ( Mx2Tran R28 ) . R22 ) | R3 ) is  empty by L865;
thus L867: thesis by L866 , L865;
end;
suppose L868: R3 > ( 0 );

set D149 = ( TOP-REAL R4 );
set D150 = ( R4 -VectSp_over ( F_Real ) );
L869: ( len D148 ) = R4 by MATRIX_1:24;
L870: ( len R22 ) = R3 by CARD_1:def 7;
consider C103 being FinSequence such that L871: D148 = ( R28 ^ C103 ) by L864 , FINSEQ_1:80;
L872: D148 = ( MX2FinS D148 );
reconsider D151 = C103 as (FinSequence of D150) by L872 , L871 , FINSEQ_1:36;
set D152 = ( len D151 );
L873: ( len R28 ) = R3 by L868 , MATRIX13:1;
L874: ( R3 + D152 ) = R4 by L873 , L869 , L871 , FINSEQ_1:22;
L875: ( R22 ^ ( D152 |-> ( 0 ) ) ) is (Element of D149) by L874 , L468;
set D153 = ( FinS2MX D151 );
L876: ( ( R22 ^ ( D152 |-> ( 0 ) ) ) | R3 ) = ( ( R22 ^ ( D152 |-> ( 0 ) ) ) | ( dom R22 ) ) by L870 , FINSEQ_1:def 3
.= R22 by FINSEQ_1:21;
L877: ( ( Mx2Tran ( R28 ^ D153 ) ) . ( R22 ^ ( D152 |-> ( 0 ) ) ) ) = ( ( Mx2Tran D148 ) . ( R22 ^ ( D152 |-> ( 0 ) ) ) ) by L868 , L869 , L871 , MATRIX13:1
.= ( ( id D149 ) . ( R22 ^ ( D152 |-> ( 0 ) ) ) ) by L751
.= ( R22 ^ ( D152 |-> ( 0 ) ) ) by L875 , FUNCT_1:18;
thus L878: thesis by L877 , L876 , L761;
end;
end;
begin
theorem
L880: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (( Mx2Tran R28 ) is  one-to-one iff ( the_rank_of R28 ) = R3))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D154 = ( Mx2Tran R28 );
per cases ;
suppose L881: (R3 = ( 0 ) iff R4 = ( 0 ));

set D155 = ( R3 -VectSp_over ( F_Real ) );
set D156 = ( R4 -VectSp_over ( F_Real ) );
reconsider D157 = ( MX2FinS ( 1. (( F_Real ) , R3) ) ) as (OrdBasis of D155) by MATRLIN2:45;
reconsider D158 = ( MX2FinS ( 1. (( F_Real ) , R4) ) ) as (OrdBasis of D156) by MATRLIN2:45;
L882: ( len D157 ) = R3 by L545;
reconsider D159 = R28 as (Matrix of ( len D157 ) , ( len D158 ) , ( F_Real )) by L882 , L545;
L883: ( len D159 ) = R3 by L881 , MATRIX13:1;
L884: ( len D158 ) = R4 by L545;
set D160 = ( Mx2Tran (D159 , D157 , D158) );
L885: (D160 is  one-to-one iff ( ker D160 ) = ( (0). D155 )) by MATRLIN2:43;
L886: ( width D159 ) = R4 by L881 , MATRIX13:1;
per cases ;
suppose L887: R4 = ( 0 );

L888: (the carrier of ( TOP-REAL ( 0 ) )) = { ( 0. ( TOP-REAL ( 0 ) ) ) } by EUCLID:22 , EUCLID:77;
L889: ( rng D154 ) c= { ( 0. ( TOP-REAL ( 0 ) ) ) } by L888 , L887 , RELAT_1:def 19;
L890: ( rng D154 ) = { ( 0. ( TOP-REAL ( 0 ) ) ) } by L889 , ZFMISC_1:33;
L891: (( card { ( 0. ( TOP-REAL ( 0 ) ) ) } ) = ( card { ( 0. ( TOP-REAL ( 0 ) ) ) } ) & D154 is  onto) by L890 , L887 , L888 , FUNCT_2:def 3;
thus L892: thesis by L891 , L881 , L883 , L887 , L888 , MATRIX13:74 , STIRL2_1:60;
end;
suppose L893: R4 > ( 0 );

reconsider D161 = ( Space_of_Solutions_of ( D159 @ ) ) as (Subspace of D155) by L893 , L883 , L886 , MATRIX_2:10;
L894: ( width ( D159 @ ) ) = R3 by L883 , L886 , L893 , MATRIX_2:10;
thus L895:now
assume L896: ( Mx2Tran R28 ) is  one-to-one;
L897: ( [#] D161 ) c= { ( 0. D155 ) }
proof
let C104 being set;
assume L898: C104 in ( [#] D161 );
reconsider D162 = C104 as (Vector of D155) by L898 , VECTSP_4:10;
L899: D162 = ( D162 |-- D157 ) by L882 , MATRLIN2:46;
L900: ( D162 |-- D157 ) in D161 by L899 , L898 , STRUCT_0:def 5;
L901: D162 in ( ker D160 ) by L900 , L881 , L882 , L884 , L893 , MATRLIN2:41;
L902: D162 = ( 0. D155 ) by L901 , L885 , L896 , L548 , VECTSP_4:35;
thus L903: thesis by L902 , TARSKI:def 1;
end;
L904: ( [#] D161 ) = { ( 0. D155 ) } by L897 , ZFMISC_1:33;
L905: D161 = ( (0). D155 ) by L904 , VECTSP_4:def 3;
L906: ( dim D161 ) = ( 0 ) by L905 , RANKNULL:16;
L907: ( 0 ) = ( R3 - ( the_rank_of ( D159 @ ) ) ) by L906 , L881 , L893 , L894 , MATRIX15:68;
thus L908: ( the_rank_of R28 ) = R3 by L907 , MATRIX13:84;
end;
L909: ( the_rank_of ( D159 @ ) ) = ( the_rank_of R28 ) by MATRIX13:84;
assume L910: ( the_rank_of R28 ) = R3;
L911: ( dim D161 ) = ( R3 - R3 ) by L910 , L881 , L893 , L894 , L909 , MATRIX15:68;
L912: D161 is  trivial by L911 , MATRLIN2:42;
L913: ( [#] ( ker D160 ) ) c= { ( 0. D155 ) }
proof
let C105 being set;
assume L914: C105 in ( [#] ( ker D160 ) );
reconsider D163 = C105 as (Vector of D155) by L914 , VECTSP_4:10;
L915: D163 in ( ker D160 ) by L914 , STRUCT_0:def 5;
L916: ( D163 |-- D157 ) in D161 by L915 , L881 , L882 , L884 , L893 , MATRLIN2:41;
L917: D163 in D161 by L916 , L882 , MATRLIN2:46;
L918: D163 in (the carrier of D161) by L917 , STRUCT_0:def 5;
L919: D163 = ( 0. D161 ) by L918 , L912 , STRUCT_0:def 18;
L920: D163 = ( 0. D155 ) by L919 , VECTSP_4:11;
thus L921: thesis by L920 , TARSKI:def 1;
end;
L922: ( [#] ( ker D160 ) ) = { ( 0. D155 ) } by L913 , ZFMISC_1:33;
thus L923: thesis by L922 , L885 , L548 , VECTSP_4:def 3;
end;
end;
suppose L925: (R3 = ( 0 ) & R4 <> ( 0 ));

L926:
now
let C106 , C107 being set;
assume that
L927: (C106 in ( dom D154 ) & C107 in ( dom D154 ) & ( D154 . C106 ) = ( D154 . C107 ));
L928: ( dom D154 ) = ( [#] ( TOP-REAL ( 0 ) ) ) by L925 , FUNCT_2:def 1
.= { ( 0. ( TOP-REAL ( 0 ) ) ) } by EUCLID:22 , EUCLID:77;
thus L929: C106 = ( 0. ( TOP-REAL ( 0 ) ) ) by L928 , L927 , TARSKI:def 1
.= C107 by L927 , L928 , TARSKI:def 1;
end;
L930: ( len R28 ) = R3 by MATRIX_1:def 2;
thus L931: thesis by L930 , L926 , L925 , FUNCT_1:def 4 , MATRIX13:74;
end;
suppose L932: (R3 <> ( 0 ) & R4 = ( 0 ));

reconsider D164 = ( R3 |-> 1 ) as (Point of ( TOP-REAL R3 )) by L468;
reconsider D165 = ( R3 |-> 2 ) as (Point of ( TOP-REAL R3 )) by L468;
L933: ( dom D154 ) = ( [#] ( TOP-REAL R3 ) ) by FUNCT_2:def 1;
L934: ( D154 . D164 ) = ( 0. ( TOP-REAL ( 0 ) ) ) by L932
.= ( D154 . D165 ) by L932;
L935: D164 <> D165
proof
assume L936: D164 = D165;
L937: D164 = ( ( Seg R3 ) --> 1 ) by FINSEQ_2:def 2
.= [: ( Seg R3 ) , { 1 } :] by FUNCOP_1:def 2;
L938: D165 = ( ( Seg R3 ) --> 2 ) by FINSEQ_2:def 2
.= [: ( Seg R3 ) , { 2 } :] by FUNCOP_1:def 2;
L939: { 1 } = { 2 } by L938 , L936 , L937 , L932 , ZFMISC_1:110;
L940: 2 in { 1 } by L939 , TARSKI:def 1;
thus L941: contradiction by L940 , TARSKI:def 1;
end;
L942: ( width R28 ) = R4 by L932 , MATRIX13:1;
thus L943: thesis by L942 , L935 , L932 , L934 , L933 , FUNCT_1:def 4 , MATRIX13:74;
end;
end;
theorem
L945: (for R3 being Nat holds (for R31 being (Matrix of R3 , ( F_Real )) holds (( Mx2Tran R31 ) is  one-to-one iff ( Det R31 ) <> ( 0. ( F_Real ) ))))
proof
let R3 being Nat;
let R31 being (Matrix of R3 , ( F_Real ));
L946: (( Mx2Tran R31 ) is  one-to-one iff ( the_rank_of R31 ) = R3) by L880;
thus L947: thesis by L946 , MATRIX13:83;
end;
theorem
L948: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (( Mx2Tran R28 ) is  onto iff ( the_rank_of R28 ) = R4))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D166 = ( Mx2Tran R28 );
set D167 = ( R3 -VectSp_over ( F_Real ) );
set D168 = ( R4 -VectSp_over ( F_Real ) );
reconsider D169 = ( MX2FinS ( 1. (( F_Real ) , R3) ) ) as (OrdBasis of D167) by MATRLIN2:45;
reconsider D170 = ( MX2FinS ( 1. (( F_Real ) , R4) ) ) as (OrdBasis of D168) by MATRLIN2:45;
L949: ( [#] D168 ) = ( REAL R4 ) by MATRIX13:102
.= ( [#] ( TOP-REAL R4 ) ) by EUCLID:22;
L950: ( len D169 ) = R3 by L545;
reconsider D171 = R28 as (Matrix of ( len D169 ) , ( len D170 ) , ( F_Real )) by L950 , L545;
set D172 = ( Mx2Tran (D171 , D169 , D170) );
L951: ( dom D172 ) = ( [#] D167 ) by FUNCT_2:def 1;
L952: ( [#] ( im D172 ) ) = ( D172 .: ( [#] D167 ) ) by RANKNULL:def 2
.= ( rng D172 ) by L951 , RELAT_1:113;
L953: D166 = D172 by L548;
thus L954:now
assume L955: D166 is  onto;
L956: ( [#] ( im D172 ) ) = ( [#] ( (Omega). D168 ) ) by L955 , L953 , L949 , L952 , FUNCT_2:def 3;
L957: ( rank D172 ) = ( dim ( (Omega). D168 ) ) by L956 , VECTSP_4:29
.= R4 by MATRIX13:112;
thus L958: ( the_rank_of R28 ) = R4 by L957 , MATRLIN2:49;
end;
L959: ( dim D168 ) = R4 by MATRIX13:112;
assume L960: ( the_rank_of R28 ) = R4;
L961: R4 = ( rank D172 ) by L960 , MATRLIN2:49
.= ( dim ( im D172 ) );
L962: ( (Omega). ( im D172 ) ) = ( (Omega). D168 ) by L961 , L959 , VECTSP_9:28;
thus L963: thesis by L962 , L953 , L949 , L952 , FUNCT_2:def 3;
end;
theorem
L964: (for R3 being Nat holds (for R31 being (Matrix of R3 , ( F_Real )) holds (( Mx2Tran R31 ) is  onto iff ( Det R31 ) <> ( 0. ( F_Real ) ))))
proof
let R3 being Nat;
let R31 being (Matrix of R3 , ( F_Real ));
L965: (( Mx2Tran R31 ) is  onto iff ( the_rank_of R31 ) = R3) by L948;
thus L966: thesis by L965 , MATRIX13:83;
end;
theorem
L967: (for R3 being Nat holds (for R31 being (Matrix of R3 , ( F_Real )) holds (for R32 being (Matrix of R3 , ( F_Real )) holds (( Det R31 ) <> ( 0. ( F_Real ) ) implies (( ( Mx2Tran R31 ) " ) = ( Mx2Tran R32 ) iff ( R31 ~ ) = R32)))))
proof
let R3 being Nat;
L968: (R3 = ( 0 ) implies R3 = ( 0 ));
let R31 being (Matrix of R3 , ( F_Real ));
let R32 being (Matrix of R3 , ( F_Real ));
assume that
L969: ( Det R31 ) <> ( 0. ( F_Real ) );
L970: R31 is  invertible by L969 , LAPLACE:34;
set D173 = ( Mx2Tran R31 );
set D174 = ( Mx2Tran R32 );
L971: ( width R32 ) = R3 by MATRIX_1:24;
reconsider D175 = D173 , D176 = D174 as Function;
L972: (( width R31 ) = R3 & ( len R31 ) = R3) by MATRIX_1:24;
L973: D173 is  one-to-one by L969 , L945;
thus L974:now
assume L975: ( D173 " ) = D174;
L976: ( D176 * D175 ) = ( id ( dom D175 ) ) by L975 , L973 , FUNCT_1:39
.= ( id ( TOP-REAL R3 ) ) by FUNCT_2:def 1
.= ( Mx2Tran ( 1. (( F_Real ) , R3) ) ) by L751;
L977: ( D174 * D173 ) = ( Mx2Tran ( R31 * R32 ) ) by L972 , L971 , L968 , L738;
L978: R32 is_reverse_of R31 by L977 , L970 , L976 , L756 , MATRIX_6:38;
thus L979: ( R31 ~ ) = R32 by L978 , L970 , MATRIX_6:def 4;
end;
assume L980: ( R31 ~ ) = R32;
L981: D173 is  onto by L969 , L964;
L982: (( dom D174 ) = ( [#] ( TOP-REAL R3 ) ) & ( rng D173 ) = ( [#] ( TOP-REAL R3 ) )) by L981 , FUNCT_2:def 1 , FUNCT_2:def 3;
L983: R3 in ( NAT ) by ORDINAL1:def 12;
L984: ( D174 * D173 ) = ( Mx2Tran ( R31 * R32 ) ) by L972 , L971 , L968 , L738
.= ( Mx2Tran ( 1. (( F_Real ) , R3) ) ) by L970 , L983 , L980 , MATRIX14:18
.= ( id ( TOP-REAL R3 ) ) by L751
.= ( id ( dom D173 ) ) by FUNCT_2:def 1;
thus L985: thesis by L984 , L973 , L982 , FUNCT_1:41;
end;
L986: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (for B72 being R3 -element  real-valued FinSequence holds (ex B73 being R4 -element (FinSequence of ( REAL )) st (|. ( ( Mx2Tran R28 ) . B72 ) .| <= ( ( Sum B73 ) * |. B72 .| ) & (for B74 being Nat holds (B74 in ( dom B73 ) implies ( B73 . B74 ) = |. ( @ ( Col (R28 , B74) ) ) .|))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
let C108 being R3 -element  real-valued FinSequence;
set D177 = ( LineVec2Mx ( @ C108 ) );
set D178 = ( D177 * R28 );
set D179 = ( Line (D178 , 1) );
deffunc H1(Nat) = |. ( @ ( Col (R28 , $1) ) ) .|;
consider C109 being FinSequence such that L987: (( len C109 ) = R4 & (for B75 being Nat holds (B75 in ( dom C109 ) implies ( C109 . B75 ) = H1(B75)))) from FINSEQ_1:sch 2;
L988: ( rng C109 ) c= ( REAL )
proof
let C110 being set;
assume L989: C110 in ( rng C109 );
consider C111 being set such that L990: C111 in ( dom C109 ) and L991: ( C109 . C111 ) = C110 by L989 , FUNCT_1:def 3;
reconsider D180 = C111 as Nat by L990;
L992: ( C109 . D180 ) = H1(D180) by L987 , L990;
thus L993: thesis by L992 , L991;
end;
L994: C109 is (FinSequence of ( REAL )) by L988 , FINSEQ_1:def 4;
reconsider D181 = C109 as (Element of ( R4 -tuples_on ( REAL ) )) by L994 , L987 , FINSEQ_2:92;
take D181;
per cases ;
suppose L995: R3 <> ( 0 );

L996: ( len R28 ) = R3 by L995 , MATRIX13:1;
L997: ( ( Mx2Tran R28 ) . C108 ) = D179 by L995 , L471;
L998: ( len D179 ) = R4 by L997 , CARD_1:def 7;
L999: |. ( ( Mx2Tran R28 ) . C108 ) .| = ( sqrt ( Sum ( sqr ( @ D179 ) ) ) ) by L995 , L471;
reconsider D182 = D179 as (Element of ( R4 -tuples_on ( REAL ) )) by L998 , FINSEQ_2:92;
L1000: ( len ( abs D182 ) ) = R4 by CARD_1:def 7;
reconsider D183 = ( abs D182 ) as (Element of ( R4 -tuples_on ( REAL ) )) by L1000 , FINSEQ_2:92;
L1001: ( len C108 ) = R3 by CARD_1:def 7;
L1002: ( width D177 ) = R3 by L1001 , MATRIX13:1;
L1003: ( width R28 ) = R4 by L995 , MATRIX13:1;
L1004: ( width D178 ) = R4 by L1003 , L996 , L1002 , MATRIX_3:def 4;
L1005: ( len D177 ) = 1 by MATRIX13:1;
L1006: ( len D178 ) = 1 by L1005 , L996 , L1002 , MATRIX_3:def 4;
L1007:
now
let C112 being Nat;
L1008: ( len ( Col (R28 , C112) ) ) = R3 by L996 , MATRIX_1:def 8;
L1009: ( abs |( C108 , ( @ ( Col (R28 , C112) ) ) )| ) <= ( |. C108 .| * H1(C112) ) by L1008 , L1001 , EUCLID_2:15;
assume L1010: C112 in ( Seg R4 );
L1011: (1 <= C112 & C112 <= R4) by L1010 , FINSEQ_1:1;
L1012: [ 1 , C112 ] in ( Indices D178 ) by L1011 , L1006 , L1004 , MATRIX_1:36;
L1013: C112 in ( dom C109 ) by L987 , L1011 , FINSEQ_3:25;
L1014: ( C109 . C112 ) = H1(C112) by L1013 , L987;
L1015: ( D182 . C112 ) = ( D178 * (1 , C112) ) by L1004 , L1010 , MATRIX_1:def 7
.= ( ( Line (D177 , 1) ) "*" ( Col (R28 , C112) ) ) by L996 , L1002 , L1012 , MATRIX_3:def 4
.= ( Sum ( mlt (( @ C108 ) , ( Col (R28 , C112) )) ) ) by MATRIX15:25
.= ( Sum ( mlt (C108 , ( @ ( Col (R28 , C112) ) )) ) ) by L1001 , L1008 , MATRPROB:35 , MATRPROB:36
.= |( C108 , ( @ ( Col (R28 , C112) ) ) )| by RVSUM_1:def 16;
L1016: ( D183 . C112 ) <= ( |. C108 .| * H1(C112) ) by L1015 , L1009 , VALUED_1:18;
thus L1017: ( D183 . C112 ) <= ( ( |. C108 .| * D181 ) . C112 ) by L1016 , L1014 , RVSUM_1:44;
end;
L1018: ( Sum D183 ) <= ( Sum ( |. C108 .| * D181 ) ) by L1007 , RVSUM_1:82;
L1019: ( sqr D182 ) = ( D182 (#) D182 ) by VALUED_1:def 8;
L1020: ( sqrt ( Sum ( sqr D182 ) ) ) <= ( Sum ( sqrt ( sqr D182 ) ) ) by L1019 , L65;
L1021: (( Sum ( |. C108 .| * D181 ) ) = ( |. C108 .| * ( Sum D181 ) ) & ( sqrt ( Sum ( sqr D182 ) ) ) <= ( Sum D183 )) by L1020 , L54 , RVSUM_1:87;
thus L1022: thesis by L1021 , L999 , L987 , L1018 , XXREAL_0:2;
end;
suppose L1023: R3 = ( 0 );

L1024:
now
let C113 being Nat;
assume L1025: C113 in ( dom D181 );
L1026: ( D181 . C113 ) = |. ( @ ( Col (R28 , C113) ) ) .| by L1025 , L987;
thus L1027: ( 0 ) <= ( D181 . C113 ) by L1026;
end;
L1028: ( Sum D181 ) >= ( 0 ) by L1024 , RVSUM_1:84;
L1029: |. ( ( Mx2Tran R28 ) . C108 ) .| = |. ( 0. ( TOP-REAL R4 ) ) .| by L1023 , L471
.= ( 0 ) by EUCLID_2:39;
thus L1030: thesis by L1029 , L987 , L1028;
end;
end;
theorem
L1032: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (ex B76 being R4 -element (FinSequence of ( REAL )) st ((for R6 being Nat holds (R6 in ( dom B76 ) implies ( B76 . R6 ) = |. ( @ ( Col (R28 , R6) ) ) .|)) & (for R22 being R3 -element  real-valued FinSequence holds |. ( ( Mx2Tran R28 ) . R22 ) .| <= ( ( Sum B76 ) * |. R22 .| )))))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D184 = the R3 -element  real-valued FinSequence;
consider C114 being R4 -element (FinSequence of ( REAL )) such that L1033: |. ( ( Mx2Tran R28 ) . D184 ) .| <= ( ( Sum C114 ) * |. D184 .| ) and L1034: (for B77 being Nat holds (B77 in ( dom C114 ) implies ( C114 . B77 ) = |. ( @ ( Col (R28 , B77) ) ) .|)) by L986;
take C114;
thus L1035: (for R6 being Nat holds (R6 in ( dom C114 ) implies ( C114 . R6 ) = |. ( @ ( Col (R28 , R6) ) ) .|)) by L1034;
let C115 being R3 -element  real-valued FinSequence;
consider C116 being R4 -element (FinSequence of ( REAL )) such that L1036: |. ( ( Mx2Tran R28 ) . C115 ) .| <= ( ( Sum C116 ) * |. C115 .| ) and L1037: (for B78 being Nat holds (B78 in ( dom C116 ) implies ( C116 . B78 ) = |. ( @ ( Col (R28 , B78) ) ) .|)) by L986;
L1038: (( len C116 ) = R4 & ( len C114 ) = R4) by CARD_1:def 7;
L1039: ( dom C114 ) = ( dom C116 ) by L1038 , FINSEQ_3:29;
L1040:
now
let C117 being Nat;
assume L1041: C117 in ( dom C114 );
thus L1042: ( C114 . C117 ) = |. ( @ ( Col (R28 , C117) ) ) .| by L1041 , L1034
.= ( C116 . C117 ) by L1037 , L1039 , L1041;
end;
thus L1043: thesis by L1040 , L1036 , L1039 , FINSEQ_1:13;
end;
theorem
L1044: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (ex B79 being Real st (B79 > ( 0 ) & (for R22 being R3 -element  real-valued FinSequence holds |. ( ( Mx2Tran R28 ) . R22 ) .| <= ( B79 * |. R22 .| )))))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
consider C118 being R4 -element (FinSequence of ( REAL )) such that L1045: (for R6 being Nat holds (R6 in ( dom C118 ) implies ( C118 . R6 ) = |. ( @ ( Col (R28 , R6) ) ) .|)) and L1046: (for B80 being R3 -element  real-valued FinSequence holds |. ( ( Mx2Tran R28 ) . B80 ) .| <= ( ( Sum C118 ) * |. B80 .| )) by L1032;
take D185 = ( 1 + ( Sum C118 ) );
L1047:
now
let R6 being Nat;
assume L1048: R6 in ( dom C118 );
L1049: ( C118 . R6 ) = |. ( @ ( Col (R28 , R6) ) ) .| by L1048 , L1045;
thus L1050: ( 0 ) <= ( C118 . R6 ) by L1049;
end;
L1051: ( Sum C118 ) >= ( 0 ) by L1047 , RVSUM_1:84;
thus L1052: D185 > ( 0 ) by L1051;
let R22 being R3 -element  real-valued FinSequence;
L1053: ( Sum C118 ) <= D185 by XREAL_1:29;
L1054: ( ( Sum C118 ) * |. R22 .| ) <= ( D185 * |. R22 .| ) by L1053 , XREAL_1:64;
L1055: |. ( ( Mx2Tran R28 ) . R22 ) .| <= ( ( Sum C118 ) * |. R22 .| ) by L1046;
thus L1056: thesis by L1055 , L1054 , XXREAL_0:2;
end;
theorem
L1057: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds (( the_rank_of R28 ) = R3 implies (ex B81 being Real st (B81 > ( 0 ) & (for R22 being R3 -element  real-valued FinSequence holds |. R22 .| <= ( B81 * |. ( ( Mx2Tran R28 ) . R22 ) .| ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
assume that
L1058: ( the_rank_of R28 ) = R3;
per cases ;
suppose L1059: R3 <> ( 0 );

consider C119 being (Matrix of ( R4 -' R3 ) , R4 , ( F_Real )) such that L1060: ( the_rank_of ( R28 ^ C119 ) ) = R4 by L1058 , L418;
L1061: ( width R28 ) = R4 by L1059 , MATRIX13:1;
L1062: ( R4 - R3 ) >= ( 0 ) by L1061 , L1058 , MATRIX13:74 , XREAL_1:48;
L1063: ( R4 - R3 ) = ( R4 -' R3 ) by L1062 , XREAL_0:def 2;
reconsider D186 = ( R28 ^ C119 ) as (Matrix of R4 , ( F_Real )) by L1063;
L1064: ( dom ( id ( TOP-REAL R4 ) ) ) = ( [#] ( TOP-REAL R4 ) ) by RELAT_1:45;
set D187 = ( ( R4 -' R3 ) |-> ( 0 ) );
L1065: (R4 = ( 0 ) iff R4 = ( 0 ));
L1066: ( sqr D187 ) = ( ( R4 -' R3 ) |-> ( (( 0 ) qua  real number) ^2 ) ) by RVSUM_1:56
.= ( ( R4 -' R3 ) |-> ( 0* ( 0 ) ) );
L1067: ( Sum ( sqr D187 ) ) = ( ( R4 -' R3 ) * ( 0 ) ) by L1066 , RVSUM_1:80;
set D188 = ( D186 ~ );
consider C120 being Real such that L1068: C120 > ( 0 ) and L1069: (for B82 being R4 -element  real-valued FinSequence holds |. ( ( Mx2Tran D188 ) . B82 ) .| <= ( C120 * |. B82 .| )) by L1044;
take C120;
thus L1070: C120 > ( 0 ) by L1068;
let C121 being R3 -element  real-valued FinSequence;
set D189 = ( C121 ^ D187 );
set D190 = ( ( Mx2Tran D186 ) . D189 );
L1071: D190 = ( ( Mx2Tran R28 ) . C121 ) by L1063 , L761;
L1072: ( Det D186 ) <> ( 0. ( F_Real ) ) by L1060 , MATRIX13:83;
L1073: D186 is  invertible by L1072 , LAPLACE:34;
reconsider D191 = D188 as (Matrix of ( width D186 ) , R4 , ( F_Real )) by MATRIX_1:24;
L1074: (( width D188 ) = R4 & ( len D186 ) = R4) by MATRIX_1:24;
L1075: ( ( Mx2Tran D188 ) * ( Mx2Tran D186 ) ) = ( ( Mx2Tran D191 ) * ( Mx2Tran D186 ) ) by MATRIX_1:24
.= ( Mx2Tran ( D186 * D191 ) ) by L1065 , L738
.= ( Mx2Tran ( 1. (( F_Real ) , R4) ) ) by L1073 , L1074 , MATRIX14:18
.= ( id ( TOP-REAL R4 ) ) by L751;
L1076: (C121 = ( @ ( @ C121 ) ) & D187 = ( @ ( @ D187 ) ));
L1077: ( sqr D189 ) = ( ( sqr C121 ) ^ ( sqr D187 ) ) by L1076 , RVSUM_1:144;
L1078: ( Sum ( sqr D189 ) ) = ( ( Sum ( sqr C121 ) ) + ( Sum ( sqr D187 ) ) ) by L1077 , RVSUM_1:75
.= ( Sum ( sqr C121 ) ) by L1067;
L1079: |. D189 .| = |. C121 .| by L1078;
L1080: D189 is (Point of ( TOP-REAL R4 )) by L1063 , L468;
L1081: D189 = ( ( id ( TOP-REAL R4 ) ) . D189 ) by L1080 , FUNCT_1:17
.= ( ( Mx2Tran D188 ) . D190 ) by L1080 , L1075 , L1064 , FUNCT_1:12;
thus L1082: thesis by L1081 , L1069 , L1071 , L1079;
end;
suppose L1083: R3 = ( 0 );

L1084: |. ( 0* R3 ) .| = ( 0 ) by EUCLID:7;
take D192 = 1;
thus L1085: thesis by L1083 , L1084;
end;
end;
theorem
L1087: (for R3 being Nat holds (for R4 being Nat holds (for R28 being (Matrix of R3 , R4 , ( F_Real )) holds ( Mx2Tran R28 ) is  continuous)))
proof
let R3 being Nat;
let R4 being Nat;
let R28 being (Matrix of R3 , R4 , ( F_Real ));
set D193 = ( TOP-REAL R3 );
set D194 = ( TOP-REAL R4 );
set D195 = ( Mx2Tran R28 );
L1088: R3 in ( NAT ) by ORDINAL1:def 12;
consider C122 being Real such that L1089: C122 > ( 0 ) and L1090: (for B83 being R3 -element  real-valued FinSequence holds |. ( D195 . B83 ) .| <= ( C122 * |. B83 .| )) by L1044;
let C123 being (Point of D193);
let C124 being (a_neighborhood of ( D195 . C123 ));
reconsider D196 = ( D195 . C123 ) as (Point of D194);
reconsider D197 = D196 as (Point of ( Euclid R4 )) by EUCLID:67;
reconsider D198 = C123 as (Point of ( Euclid R3 )) by EUCLID:67;
L1091: R4 in ( NAT ) by ORDINAL1:def 12;
L1092: D197 in ( Int C124 ) by CONNSP_2:def 1;
consider C125 being  real number such that L1093: C125 > ( 0 ) and L1094: ( Ball (D197 , C125) ) c= C124 by L1092 , GOBOARD6:5;
reconsider D199 = ( Ball (D198 , ( C125 / C122 )) ) as (Subset of D193) by EUCLID:67;
L1095: ( C125 / C122 ) > ( 0 ) by L1093 , L1089 , XREAL_1:139;
L1096: C123 in ( Int D199 ) by L1095 , GOBOARD6:5;
reconsider D200 = D199 as (a_neighborhood of C123) by L1096 , CONNSP_2:def 1;
take D200;
let C126 being set;
assume L1097: C126 in ( D195 .: D200 );
consider C127 being set such that L1098: C127 in ( dom D195 ) and L1099: C127 in D200 and L1100: ( D195 . C127 ) = C126 by L1097 , FUNCT_1:def 6;
reconsider D201 = C127 as (Point of D193) by L1099;
L1101: ( ( C125 / C122 ) * C122 ) = C125 by L1089 , XCMPLX_1:87;
reconsider D202 = ( D195 . D201 ) as (Point of D194);
reconsider D203 = D202 as (Point of ( Euclid R4 )) by EUCLID:67;
L1102: ( dist (D197 , D203) ) = |. ( ( D195 . C123 ) - ( D195 . D201 ) ) .| by L1091 , SPPOL_1:39
.= |. ( D195 . ( C123 - D201 ) ) .| by L690;
L1103: ( dist (D197 , D203) ) <= ( C122 * |. ( C123 - D201 ) .| ) by L1102 , L1090;
reconsider D204 = D201 as (Point of ( Euclid R3 )) by EUCLID:67;
L1104: ( dist (D198 , D204) ) < ( C125 / C122 ) by L1099 , METRIC_1:11;
L1105: ( ( dist (D198 , D204) ) * C122 ) < ( ( C125 / C122 ) * C122 ) by L1104 , L1089 , XREAL_1:68;
L1106: ( dist (D198 , D204) ) = |. ( C123 - D201 ) .| by L1088 , SPPOL_1:39;
L1107: ( dist (D197 , D203) ) < C125 by L1106 , L1105 , L1101 , L1103 , XXREAL_0:2;
L1108: D203 in ( Ball (D197 , C125) ) by L1107 , METRIC_1:11;
thus L1109: thesis by L1108 , L1094 , L1100;
end;
registration
let R3 being Nat;
let R9 being Field;
cluster  invertible for (Matrix of R3 , R9);
existence
proof
L1110: ( 1. (R9 , R3) ) is  invertible by MATRIX_6:8;
thus L1111: thesis by L1110;
end;
end;
registration
let R3 being Nat;
let C128 being  invertible (Matrix of R3 , ( F_Real ));
cluster ( Mx2Tran C128 ) ->  being_homeomorphism;
coherence
proof
set D205 = ( Mx2Tran C128 );
L1113: (D205 is  continuous & ( Mx2Tran ( C128 ~ ) ) is  continuous) by L1087;
L1114: ( Det C128 ) <> ( 0. ( F_Real ) ) by LAPLACE:34;
L1115: ( D205 " ) = ( Mx2Tran ( C128 ~ ) ) by L1114 , L967;
L1116: D205 is  onto  one-to-one by L1114 , L945 , L964;
L1117: ( rng D205 ) = ( [#] ( TOP-REAL R3 ) ) by L1116 , FUNCT_2:def 3;
L1118: (( dom D205 ) = ( [#] ( TOP-REAL R3 ) ) & ( D205 /" ) = ( D205 " )) by L1116 , FUNCT_2:def 1 , TOPS_2:def 4;
thus L1119: thesis by L1118 , L1116 , L1115 , L1113 , L1117 , TOPS_2:def 5;
end;
end;
