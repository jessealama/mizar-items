:: Linearity of {L}ebesgue Integral of Simple Valued Function
::  by Noboru Endou and Yasunari Shidama
::
:: Received September 14, 2005
:: Copyright (c) 2005-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, FINSEQ_1, NAT_1, RELAT_1, SUPINF_2, XXREAL_0, FUNCT_1,
      ARYTM_3, CARD_3, SUBSET_1, XBOOLE_0, CARD_1, PROB_1, MEASURE1, PARTFUN1,
      MESFUNC2, MESFUNC3, INTEGRA1, VALUED_0, TARSKI, COMPLEX1, MESFUNC1,
      ORDINAL4, ARYTM_1, INT_1, SUPINF_1;
 notations TARSKI, XBOOLE_0, SUBSET_1, ORDINAL1, NUMBERS, XCMPLX_0, XXREAL_0,
      RELAT_1, FUNCT_1, PARTFUN1, FUNCT_2, FINSEQ_1, NAT_1, NAT_D, PROB_1,
      SUPINF_1, SUPINF_2, MEASURE1, EXTREAL1, MESFUNC1, MESFUNC2, MESFUNC3;
 constructors PARTFUN1, REAL_1, NAT_1, NAT_D, FINSEQOP, EXTREAL1, MESFUNC1,
      BINARITH, MESFUNC2, MESFUNC3, SEQ_1, SUPINF_1, RELSET_1;
 registrations ORDINAL1, RELSET_1, NUMBERS, XXREAL_0, XREAL_0, NAT_1, FINSEQ_1,
      MEASURE1, VALUED_0, MEMBERED, CARD_1, XXREAL_3, FUNCT_1;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions MESFUNC3, TARSKI, XBOOLE_0;
 theorems MEASURE1, TARSKI, FUNCT_1, NAT_1, EXTREAL2, MESFUNC1, ZFMISC_1,
      FINSEQ_1, FINSEQ_2, FINSEQ_5, PROB_2, XBOOLE_0, XBOOLE_1, RELAT_1,
      MESFUNC2, EXTREAL1, MESFUNC3, XREAL_1, NAT_2, FINSEQ_3, XXREAL_0, PROB_1,
      FINSUB_1, ORDINAL1, NAT_D, VALUED_0, XXREAL_3;
 schemes FINSEQ_1, FINSEQ_2, NAT_1;

begin
theorem
L1: (for B1 , B2 , B3 being (FinSequence of ( ExtREAL )) holds (((for B4 being Nat holds (B4 in ( dom B1 ) implies ( 0. ) <= ( B1 . B4 ))) & (for B5 being Nat holds (B5 in ( dom B2 ) implies ( 0. ) <= ( B2 . B5 ))) & ( dom B1 ) = ( dom B2 ) & B3 = ( B1 + B2 )) implies ( Sum B3 ) = ( ( Sum B1 ) + ( Sum B2 ) )))
proof
let C1 , C2 , C3 being (FinSequence of ( ExtREAL ));
assume that
L2: (for B6 being Nat holds (B6 in ( dom C1 ) implies ( 0. ) <= ( C1 . B6 )))
and
L3: (for B7 being Nat holds (B7 in ( dom C2 ) implies ( 0. ) <= ( C2 . B7 )))
and
L4: ( dom C1 ) = ( dom C2 )
and
L5: C3 = ( C1 + C2 );
L6: (for B8 being set holds (B8 in ( rng C1 ) implies (not B8 in { ( -infty ) })))
proof
let C4 being set;
assume L7: C4 in ( rng C1 );
consider C5 being set such that L8: C5 in ( dom C1 ) and L9: C4 = ( C1 . C5 ) by L7 , FUNCT_1:def 3;
reconsider D1 = C5 as (Element of ( NAT )) by L8;
L10: ( 0. ) <= ( C1 . D1 ) by L2 , L8;
thus L11: thesis by L10 , L9 , TARSKI:def 1;
end;
L12: ( rng C1 ) misses { ( -infty ) } by L6 , XBOOLE_0:3;
L13: ( C1 " { ( -infty ) } ) = ( {} ) by L12 , RELAT_1:138;
L14: (for B9 being set holds (B9 in ( rng C2 ) implies (not B9 in { ( -infty ) })))
proof
let C6 being set;
assume L15: C6 in ( rng C2 );
consider C7 being set such that L16: C7 in ( dom C2 ) and L17: C6 = ( C2 . C7 ) by L15 , FUNCT_1:def 3;
reconsider D2 = C7 as (Element of ( NAT )) by L16;
L18: ( 0. ) <= ( C2 . D2 ) by L3 , L16;
thus L19: thesis by L18 , L17 , TARSKI:def 1;
end;
L20: ( rng C2 ) misses { ( -infty ) } by L14 , XBOOLE_0:3;
L21: ( C2 " { ( -infty ) } ) = ( {} ) by L20 , RELAT_1:138;
L22: ( dom C3 ) = ( ( ( dom C1 ) /\ ( dom C2 ) ) \ ( ( ( C1 " { ( -infty ) } ) /\ ( C2 " { ( +infty ) } ) ) \/ ( ( C1 " { ( +infty ) } ) /\ ( C2 " { ( -infty ) } ) ) ) ) by L5 , MESFUNC1:def 3
.= ( dom C1 ) by L4 , L13 , L21;
L23: ( len C3 ) = ( len C1 ) by L22 , FINSEQ_3:29;
consider C8 being (Function of ( NAT ) , ( ExtREAL )) such that L24: ( Sum C3 ) = ( C8 . ( len C3 ) ) and L25: ( C8 . ( 0 ) ) = ( 0. ) and L26: (for B10 being (Element of ( NAT )) holds (B10 < ( len C3 ) implies ( C8 . ( B10 + 1 ) ) = ( ( C8 . B10 ) + ( C3 . ( B10 + 1 ) ) ))) by EXTREAL1:def 2;
consider C9 being (Function of ( NAT ) , ( ExtREAL )) such that L27: ( Sum C1 ) = ( C9 . ( len C1 ) ) and L28: ( C9 . ( 0 ) ) = ( 0. ) and L29: (for B11 being (Element of ( NAT )) holds (B11 < ( len C1 ) implies ( C9 . ( B11 + 1 ) ) = ( ( C9 . B11 ) + ( C1 . ( B11 + 1 ) ) ))) by EXTREAL1:def 2;
consider C10 being (Function of ( NAT ) , ( ExtREAL )) such that L30: ( Sum C2 ) = ( C10 . ( len C2 ) ) and L31: ( C10 . ( 0 ) ) = ( 0. ) and L32: (for B12 being (Element of ( NAT )) holds (B12 < ( len C2 ) implies ( C10 . ( B12 + 1 ) ) = ( ( C10 . B12 ) + ( C2 . ( B12 + 1 ) ) ))) by EXTREAL1:def 2;
defpred S1[ Nat ] means ($1 <= ( len C3 ) implies ( C8 . $1 ) = ( ( C9 . $1 ) + ( C10 . $1 ) ));
L33: ( len C3 ) = ( len C2 ) by L4 , L22 , FINSEQ_3:29;
L34: (for B13 being Nat holds (S1[ B13 ] implies S1[ ( B13 + 1 ) ]))
proof
let C11 being Nat;
assume L35: S1[ C11 ];
assume L36: ( C11 + 1 ) <= ( len C3 );
reconsider D3 = C11 as (Element of ( NAT )) by ORDINAL1:def 12;
L37: D3 < ( len C3 ) by L36 , NAT_1:13;
L38: (( C9 . ( D3 + 1 ) ) = ( ( C9 . D3 ) + ( C1 . ( D3 + 1 ) ) ) & ( C10 . ( D3 + 1 ) ) = ( ( C10 . D3 ) + ( C2 . ( D3 + 1 ) ) )) by L37 , L29 , L32 , L23 , L33;
L39: 1 <= ( D3 + 1 ) by NAT_1:11;
L40: ( D3 + 1 ) in ( dom C3 ) by L39 , L36 , FINSEQ_3:25;
L41: (( C9 . D3 ) <> ( -infty ) & ( C10 . D3 ) <> ( -infty ) & ( C1 . ( D3 + 1 ) ) <> ( -infty ) & ( C2 . ( D3 + 1 ) ) <> ( -infty ))
proof
defpred S2[ Nat ] means ($1 <= ( len C3 ) implies ( C10 . $1 ) <> ( -infty ));
defpred S3[ Nat ] means ($1 <= ( len C3 ) implies ( C9 . $1 ) <> ( -infty ));
L42: (for B14 being Nat holds (S3[ B14 ] implies S3[ ( B14 + 1 ) ]))
proof
let C12 being Nat;
assume L43: S3[ C12 ];
assume L44: ( C12 + 1 ) <= ( len C3 );
reconsider D4 = C12 as (Element of ( NAT )) by ORDINAL1:def 12;
L45: 1 <= ( D4 + 1 ) by NAT_1:11;
L46: ( D4 + 1 ) in ( dom C3 ) by L45 , L44 , FINSEQ_3:25;
L47: ( 0. ) <= ( C1 . ( D4 + 1 ) ) by L46 , L2 , L22;
L48: D4 < ( len C3 ) by L44 , NAT_1:13;
L49: ( C9 . ( D4 + 1 ) ) = ( ( C9 . D4 ) + ( C1 . ( D4 + 1 ) ) ) by L48 , L29 , L23;
thus L50: thesis by L49 , L43 , L44 , L47 , NAT_1:13 , XXREAL_3:17;
end;
L51: S3[ ( 0 ) ] by L28;
L52: (for B15 being Nat holds S3[ B15 ]) from NAT_1:sch 2(L51 , L42);
thus L53: ( C9 . D3 ) <> ( -infty ) by L52 , L37;
L54: (for B16 being Nat holds (S2[ B16 ] implies S2[ ( B16 + 1 ) ]))
proof
let C13 being Nat;
assume L55: S2[ C13 ];
assume L56: ( C13 + 1 ) <= ( len C3 );
reconsider D5 = C13 as (Element of ( NAT )) by ORDINAL1:def 12;
L57: 1 <= ( D5 + 1 ) by NAT_1:11;
L58: ( D5 + 1 ) in ( dom C3 ) by L57 , L56 , FINSEQ_3:25;
L59: ( 0. ) <= ( C2 . ( D5 + 1 ) ) by L58 , L3 , L4 , L22;
L60: D5 < ( len C3 ) by L56 , NAT_1:13;
L61: ( C10 . ( D5 + 1 ) ) = ( ( C10 . D5 ) + ( C2 . ( D5 + 1 ) ) ) by L60 , L32 , L33;
thus L62: thesis by L61 , L55 , L56 , L59 , NAT_1:13 , XXREAL_3:17;
end;
L63: S2[ ( 0 ) ] by L31;
L64: (for B17 being Nat holds S2[ B17 ]) from NAT_1:sch 2(L63 , L54);
thus L65: ( C10 . D3 ) <> ( -infty ) by L64 , L37;
thus L66: ( C1 . ( D3 + 1 ) ) <> ( -infty ) by L2 , L22 , L40;
thus L67: thesis by L3 , L4 , L22 , L40;
end;
L68: ( ( C9 . D3 ) + ( C1 . ( D3 + 1 ) ) ) <> ( -infty ) by L41 , XXREAL_3:17;
L69: ( C8 . ( D3 + 1 ) ) = ( ( ( C9 . D3 ) + ( C10 . D3 ) ) + ( C3 . ( D3 + 1 ) ) ) by L26 , L35 , L37
.= ( ( ( C9 . D3 ) + ( C10 . D3 ) ) + ( ( C1 . ( D3 + 1 ) ) + ( C2 . ( D3 + 1 ) ) ) ) by L5 , L40 , MESFUNC1:def 3;
L70: ( ( C9 . D3 ) + ( C10 . D3 ) ) <> ( -infty ) by L41 , XXREAL_3:17;
L71: ( C8 . ( D3 + 1 ) ) = ( ( ( ( C9 . D3 ) + ( C10 . D3 ) ) + ( C1 . ( D3 + 1 ) ) ) + ( C2 . ( D3 + 1 ) ) ) by L70 , L69 , L41 , XXREAL_3:29
.= ( ( ( ( C9 . D3 ) + ( C1 . ( D3 + 1 ) ) ) + ( C10 . D3 ) ) + ( C2 . ( D3 + 1 ) ) ) by L41 , XXREAL_3:29
.= ( ( C9 . ( D3 + 1 ) ) + ( C10 . ( D3 + 1 ) ) ) by L38 , L41 , L68 , XXREAL_3:29;
thus L72: thesis by L71;
end;
L73: S1[ ( 0 ) ] by L28 , L31 , L25;
L74: (for B18 being Nat holds S1[ B18 ]) from NAT_1:sch 2(L73 , L34);
thus L75: thesis by L74 , L27 , L30 , L24 , L23 , L33;
end;
theorem
L76: (for B19 being non  empty set holds (for B20 being (SigmaField of B19) holds (for B21 being (sigma_Measure of B20) holds (for B22 being Nat holds (for B23 being (PartFunc of B19 , ( ExtREAL )) holds (for B24 being (Finite_Sep_Sequence of B20) holds (for B25 , B26 being (FinSequence of ( ExtREAL )) holds ((B23 is_simple_func_in B20 & ( dom B23 ) <> ( {} ) & (for B27 being set holds (B27 in ( dom B23 ) implies ( 0. ) <= ( B23 . B27 ))) & B24 , B25 are_Re-presentation_of B23 & ( dom B26 ) = ( dom B24 ) & (for B28 being Nat holds (B28 in ( dom B26 ) implies ( B26 . B28 ) = ( ( B25 . B28 ) * ( ( B21 * B24 ) . B28 ) ))) & ( len B24 ) = B22) implies ( integral (B19 , B20 , B21 , B23) ) = ( Sum B26 )))))))))
proof
let C14 being non  empty set;
let C15 being (SigmaField of C14);
let C16 being (sigma_Measure of C15);
defpred S4[ Nat ] means (for B29 being (PartFunc of C14 , ( ExtREAL )) holds (for B30 being (Finite_Sep_Sequence of C15) holds (for B31 , B32 being (FinSequence of ( ExtREAL )) holds ((B29 is_simple_func_in C15 & ( dom B29 ) <> ( {} ) & (for B33 being set holds (B33 in ( dom B29 ) implies ( 0. ) <= ( B29 . B33 ))) & B30 , B31 are_Re-presentation_of B29 & ( dom B32 ) = ( dom B30 ) & (for B34 being Nat holds (B34 in ( dom B32 ) implies ( B32 . B34 ) = ( ( B31 . B34 ) * ( ( C16 * B30 ) . B34 ) ))) & ( len B30 ) = $1) implies ( integral (C14 , C15 , C16 , B29) ) = ( Sum B32 )))));
L77: (for B35 being Nat holds (S4[ B35 ] implies S4[ ( B35 + 1 ) ]))
proof
let C17 being Nat;
assume L78: S4[ C17 ];
let C18 being (PartFunc of C14 , ( ExtREAL ));
let C19 being (Finite_Sep_Sequence of C15);
let C20 , C21 being (FinSequence of ( ExtREAL ));
assume that
L79: C18 is_simple_func_in C15
and
L80: ( dom C18 ) <> ( {} )
and
L81: (for B36 being set holds (B36 in ( dom C18 ) implies ( 0. ) <= ( C18 . B36 )))
and
L82: C19 , C20 are_Re-presentation_of C18
and
L83: ( dom C21 ) = ( dom C19 )
and
L84: (for B37 being Nat holds (B37 in ( dom C21 ) implies ( C21 . B37 ) = ( ( C20 . B37 ) * ( ( C16 * C19 ) . B37 ) )))
and
L85: ( len C19 ) = ( C17 + 1 );
L86: C18 is  real-valued by L79 , MESFUNC2:def 4;
reconsider D6 = C17 as (Element of ( NAT )) by ORDINAL1:def 12;
set D7 = ( C19 | ( Seg D6 ) );
set D8 = ( C18 | ( union ( rng D7 ) ) );
reconsider D9 = D7 as (Finite_Sep_Sequence of C15) by MESFUNC2:33;
L87: ( dom D8 ) = ( ( dom C18 ) /\ ( union ( rng D9 ) ) ) by RELAT_1:61
.= ( ( union ( rng C19 ) ) /\ ( union ( rng D9 ) ) ) by L82 , MESFUNC3:def 1;
L88: (for B38 being set holds (B38 in ( dom D8 ) implies ( 0. ) <= ( D8 . B38 )))
proof
let C22 being set;
assume L89: C22 in ( dom D8 );
L90: (( dom D8 ) c= ( dom C18 ) & ( D8 . C22 ) = ( C18 . C22 )) by L89 , FUNCT_1:47 , RELAT_1:60;
thus L91: thesis by L90 , L81 , L89;
end;
set D10 = ( C20 | ( Seg D6 ) );
reconsider D11 = D10 as (FinSequence of ( ExtREAL )) by FINSEQ_1:18;
set D12 = ( C21 | ( Seg D6 ) );
reconsider D13 = D12 as (FinSequence of ( ExtREAL )) by FINSEQ_1:18;
L92: ( dom D13 ) = ( ( dom C19 ) /\ ( Seg D6 ) ) by L83 , RELAT_1:61
.= ( dom D9 ) by RELAT_1:61;
L93: ( union ( rng D9 ) ) c= ( union ( rng C19 ) ) by RELAT_1:70 , ZFMISC_1:77;
L94: ( dom D8 ) = ( union ( rng D9 ) ) by L93 , L87 , XBOOLE_1:28;
L95: (ex B39 being (Finite_Sep_Sequence of C15) st (( dom D8 ) = ( union ( rng B39 ) ) & (for B40 being Nat holds (for B41 , B42 being (Element of C14) holds ((B40 in ( dom B39 ) & B41 in ( B39 . B40 ) & B42 in ( B39 . B40 )) implies ( D8 . B41 ) = ( D8 . B42 ))))))
proof
take D9;
L96: (for B43 being Nat holds (for B44 , B45 being (Element of C14) holds ((B43 in ( dom D9 ) & B44 in ( D9 . B43 ) & B45 in ( D9 . B43 )) implies ( D8 . B44 ) = ( D8 . B45 ))))
proof
let C23 being Nat;
let C24 , C25 being (Element of C14);
assume that
L97: C23 in ( dom D9 )
and
L98: C24 in ( D9 . C23 )
and
L99: C25 in ( D9 . C23 );
L100: ( D9 . C23 ) c= ( dom D8 ) by L94 , L97 , FUNCT_1:3 , ZFMISC_1:74;
L101: (( D8 . C24 ) = ( C18 . C24 ) & ( D8 . C25 ) = ( C18 . C25 )) by L100 , L98 , L99 , FUNCT_1:47;
L102: ( dom D9 ) c= ( dom C19 ) by RELAT_1:60;
L103: ( D9 . C23 ) = ( C19 . C23 ) by L97 , FUNCT_1:47;
L104: ( C18 . C24 ) = ( C20 . C23 ) by L103 , L82 , L97 , L98 , L102 , MESFUNC3:def 1;
thus L105: thesis by L104 , L82 , L97 , L99 , L101 , L103 , L102 , MESFUNC3:def 1;
end;
thus L106: thesis by L96 , L87 , L93 , XBOOLE_1:28;
end;
L107: D8 is_simple_func_in C15 by L95 , L86 , MESFUNC2:def 4;
L108: ( dom D9 ) = ( ( dom C19 ) /\ ( Seg D6 ) ) by RELAT_1:61
.= ( ( dom C20 ) /\ ( Seg D6 ) ) by L82 , MESFUNC3:def 1
.= ( dom D11 ) by RELAT_1:61;
L109: (for B46 being Nat holds (B46 in ( dom D9 ) implies (for B47 being set holds (B47 in ( D9 . B46 ) implies ( D8 . B47 ) = ( D11 . B46 )))))
proof
let C26 being Nat;
assume L110: C26 in ( dom D9 );
L111: (( D9 . C26 ) = ( C19 . C26 ) & ( D11 . C26 ) = ( C20 . C26 )) by L110 , L108 , FUNCT_1:47;
let C27 being set;
assume L112: C27 in ( D9 . C26 );
L113: ( D9 . C26 ) c= ( dom D8 ) by L94 , L110 , FUNCT_1:3 , ZFMISC_1:74;
L114: (( dom D9 ) c= ( dom C19 ) & ( D8 . C27 ) = ( C18 . C27 )) by L113 , L112 , FUNCT_1:47 , RELAT_1:60;
thus L115: thesis by L114 , L82 , L110 , L111 , L112 , MESFUNC3:def 1;
end;
L116: D9 , D11 are_Re-presentation_of D8 by L109 , L94 , L108 , MESFUNC3:def 1;
L117:
now
per cases ;
suppose L118: ( dom D8 ) = ( {} );

L119: 1 <= ( D6 + 1 ) by NAT_1:11;
L120: ( D6 + 1 ) in ( dom C19 ) by L119 , L85 , FINSEQ_3:25;
L121: ( union ( rng C19 ) ) = ( ( union ( rng D9 ) ) \/ ( C19 . ( D6 + 1 ) ) )
proof
thus L122: ( union ( rng C19 ) ) c= ( ( union ( rng D9 ) ) \/ ( C19 . ( D6 + 1 ) ) )
proof
let C28 being set;
assume L123: C28 in ( union ( rng C19 ) );
consider C29 being set such that L124: C28 in C29 and L125: C29 in ( rng C19 ) by L123 , TARSKI:def 4;
consider C30 being set such that L126: C30 in ( dom C19 ) and L127: C29 = ( C19 . C30 ) by L125 , FUNCT_1:def 3;
reconsider D14 = C30 as (Element of ( NAT )) by L126;
L128: D14 in ( Seg ( len C19 ) ) by L126 , FINSEQ_1:def 3;
L129: 1 <= D14 by L128 , FINSEQ_1:1;
L130: D14 <= ( D6 + 1 ) by L85 , L128 , FINSEQ_1:1;
per cases ;
suppose L131: D14 = ( D6 + 1 );

thus L132: thesis by L131 , L124 , L127 , XBOOLE_0:def 3;
end;
suppose L133: D14 <> ( D6 + 1 );

L134: D14 < ( D6 + 1 ) by L133 , L130 , XXREAL_0:1;
L135: D14 <= D6 by L134 , NAT_1:13;
L136: D14 in ( Seg D6 ) by L135 , L129 , FINSEQ_1:1;
L137: D14 in ( ( dom C19 ) /\ ( Seg D6 ) ) by L136 , L126 , XBOOLE_0:def 4;
L138: D14 in ( dom D9 ) by L137 , RELAT_1:61;
L139: (( D9 . D14 ) = C29 & ( D9 . D14 ) in ( rng D9 )) by L138 , L127 , FUNCT_1:3 , FUNCT_1:47;
L140: C28 in ( union ( rng D9 ) ) by L139 , L124 , TARSKI:def 4;
thus L141: thesis by L140 , XBOOLE_0:def 3;
end;
end;

let C31 being set;
assume L143: C31 in ( ( union ( rng D9 ) ) \/ ( C19 . ( D6 + 1 ) ) );
per cases  by L143 , XBOOLE_0:def 3;
suppose L144: C31 in ( union ( rng D9 ) );

consider C32 being set such that L145: C31 in C32 and L146: C32 in ( rng D9 ) by L144 , TARSKI:def 4;
consider C33 being set such that L147: C33 in ( dom D9 ) and L148: C32 = ( D9 . C33 ) by L146 , FUNCT_1:def 3;
L149: C33 in ( ( dom C19 ) /\ ( Seg D6 ) ) by L147 , RELAT_1:61;
L150: C33 in ( dom C19 ) by L149 , XBOOLE_0:def 4;
L151: ( C19 . C33 ) = C32 by L147 , L148 , FUNCT_1:47;
L152: C32 in ( rng C19 ) by L151 , L150 , FUNCT_1:3;
thus L153: thesis by L152 , L145 , TARSKI:def 4;
end;
suppose L154: C31 in ( C19 . ( D6 + 1 ) );

L155: ( C19 . ( D6 + 1 ) ) in ( rng C19 ) by L120 , FUNCT_1:3;
thus L156: thesis by L155 , L154 , TARSKI:def 4;
end;
end;
L158: ( Seg ( len C21 ) ) = ( dom C19 ) by L83 , FINSEQ_1:def 3
.= ( Seg ( D6 + 1 ) ) by L85 , FINSEQ_1:def 3;
L159: ( len C21 ) = ( D6 + 1 ) by L158 , FINSEQ_1:6;
L160: D6 < ( len C21 ) by L159 , NAT_1:13;
consider C34 being (Function of ( NAT ) , ( ExtREAL )) such that L161: ( Sum C21 ) = ( C34 . ( len C21 ) ) and L162: ( C34 . ( 0 ) ) = ( 0. ) and L163: (for B48 being (Element of ( NAT )) holds (B48 < ( len C21 ) implies ( C34 . ( B48 + 1 ) ) = ( ( C34 . B48 ) + ( C21 . ( B48 + 1 ) ) ))) by EXTREAL1:def 2;
defpred S5[ Nat ] means ($1 < ( len C21 ) implies ( C34 . $1 ) = ( 0. ));
L164: (for B49 being Nat holds (B49 in ( dom D9 ) implies ( D9 . B49 ) = ( {} )))
proof
let C35 being Nat;
assume L165: C35 in ( dom D9 );
L166: ( D9 . C35 ) in ( rng D9 ) by L165 , FUNCT_1:3;
thus L167: thesis by L166 , L94 , L118 , XBOOLE_1:3 , ZFMISC_1:74;
end;
L168: (for B50 being Nat holds (B50 in ( dom D9 ) implies ( C21 . B50 ) = ( 0. )))
proof
reconsider D15 = ( {} ) as (Element of C15) by PROB_1:4;
let C36 being Nat;
assume L169: C36 in ( dom D9 );
L170: ( D9 . C36 ) = ( {} ) by L169 , L164;
L171: ( C19 . C36 ) = ( {} ) by L170 , L169 , FUNCT_1:47;
L172: C36 in ( ( dom C19 ) /\ ( Seg D6 ) ) by L169 , RELAT_1:61;
L173: C36 in ( dom C21 ) by L172 , L83 , XBOOLE_0:def 4;
L174: ( C21 . C36 ) = ( ( C20 . C36 ) * ( ( C16 * C19 ) . C36 ) ) by L173 , L84;
L175: ( C16 . D15 ) = ( 0. ) by VALUED_0:def 19;
L176: ( ( C16 * C19 ) . C36 ) = ( 0. ) by L175 , L83 , L173 , L171 , FUNCT_1:13;
thus L177: thesis by L176 , L174;
end;
L178: (for B51 being Nat holds (S5[ B51 ] implies S5[ ( B51 + 1 ) ]))
proof
let C37 being Nat;
assume L179: S5[ C37 ];
L180: 1 <= ( C37 + 1 ) by NAT_1:11;
assume L181: ( C37 + 1 ) < ( len C21 );
L182: ( C37 + 1 ) <= D6 by L181 , L159 , NAT_1:13;
L183: ( C37 + 1 ) in ( Seg D6 ) by L182 , L180 , FINSEQ_1:1;
L184: ( C37 + 1 ) in ( Seg ( len C21 ) ) by L181 , L180 , FINSEQ_1:1;
L185: ( C37 + 1 ) in ( dom C19 ) by L184 , L83 , FINSEQ_1:def 3;
L186: ( C37 + 1 ) in ( ( dom C19 ) /\ ( Seg D6 ) ) by L185 , L183 , XBOOLE_0:def 4;
L187: ( C37 + 1 ) in ( dom D9 ) by L186 , RELAT_1:61;
L188: C37 in ( NAT ) by ORDINAL1:def 12;
L189: C37 <= ( C37 + 1 ) by NAT_1:11;
L190: C37 < ( len C21 ) by L189 , L181 , XXREAL_0:2;
L191: ( C34 . ( C37 + 1 ) ) = ( ( 0. ) + ( C21 . ( C37 + 1 ) ) ) by L190 , L163 , L179 , L188
.= ( C21 . ( C37 + 1 ) ) by XXREAL_3:4;
thus L192: thesis by L191 , L168 , L187;
end;
L193: S5[ ( 0 ) ] by L162;
L194: (for B52 being Nat holds S5[ B52 ]) from NAT_1:sch 2(L193 , L178);
L195: ( Sum C21 ) = ( C34 . ( D6 + 1 ) ) by L161 , L158 , FINSEQ_1:6
.= ( ( C34 . D6 ) + ( C21 . ( D6 + 1 ) ) ) by L163 , L160
.= ( ( 0. ) + ( C21 . ( D6 + 1 ) ) ) by L194 , L160
.= ( C21 . ( D6 + 1 ) ) by XXREAL_3:4;
L196:
now
per cases ;
case L197: ( C20 . ( D6 + 1 ) ) <> ( 0. );
defpred S6[ Nat , set ] means (($1 = 1 implies $2 = ( 0. )) & ($1 = 2 implies $2 = ( C20 . ( D6 + 1 ) )));
defpred S7[ Nat , set ] means (($1 = 1 implies $2 = ( union ( rng D9 ) )) & ($1 = 2 implies $2 = ( C19 . ( D6 + 1 ) )));
L198: (for B53 being Nat holds (B53 in ( Seg 2 ) implies (ex B54 being (Element of ( ExtREAL )) st S6[ B53 , B54 ])))
proof
let C38 being Nat;
assume L199: C38 in ( Seg 2 );
per cases  by L199 , FINSEQ_1:2 , TARSKI:def 2;
suppose L200: C38 = 1;

set D16 = ( 0. );
reconsider D17 = D16 as (Element of ( ExtREAL ));
take D17;
thus L201: thesis by L200;
end;
suppose L202: C38 = 2;

set D18 = ( C20 . ( D6 + 1 ) );
reconsider D19 = D18 as (Element of ( ExtREAL ));
take D19;
thus L203: thesis by L202;
end;
end;
consider C39 being (FinSequence of ( ExtREAL )) such that L205: (( dom C39 ) = ( Seg 2 ) & (for B55 being Nat holds (B55 in ( Seg 2 ) implies S6[ B55 , ( C39 . B55 ) ]))) from FINSEQ_1:sch 5(L198);
L206: (for B56 being Nat holds (B56 in ( Seg 2 ) implies (ex B57 being (Element of C15) st S7[ B56 , B57 ])))
proof
let C40 being Nat;
assume L207: C40 in ( Seg 2 );
per cases  by L207 , FINSEQ_1:2 , TARSKI:def 2;
suppose L208: C40 = 1;

set D20 = ( union ( rng D9 ) );
reconsider D21 = D20 as (Element of C15) by MESFUNC2:31;
take D21;
thus L209: thesis by L208;
end;
suppose L210: C40 = 2;

set D22 = ( C19 . ( D6 + 1 ) );
L211: (( C19 . ( D6 + 1 ) ) in ( rng C19 ) & ( rng C19 ) c= C15) by L120 , FINSEQ_1:def 4 , FUNCT_1:3;
reconsider D23 = D22 as (Element of C15) by L211;
take D23;
thus L212: thesis by L210;
end;
end;
consider C41 being (FinSequence of C15) such that L214: (( dom C41 ) = ( Seg 2 ) & (for B58 being Nat holds (B58 in ( Seg 2 ) implies S7[ B58 , ( C41 . B58 ) ]))) from FINSEQ_1:sch 5(L206);
L215: 1 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L216: ( C39 . 1 ) = ( 0. ) by L215 , L205;
L217: ( C39 . 1 ) = ( 0. ) by L205 , L215;
L218: 2 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L219: ( C39 . 2 ) = ( C20 . ( D6 + 1 ) ) by L218 , L205;
L220: 2 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L221: ( C41 . 2 ) = ( C19 . ( D6 + 1 ) ) by L220 , L214;
L222: 1 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L223: ( C41 . 1 ) = ( union ( rng D9 ) ) by L222 , L214;
L224: (for B59 , B60 being set holds (B59 <> B60 implies ( C41 . B59 ) misses ( C41 . B60 )))
proof
let C42 , C43 being set;
assume L225: C42 <> C43;
per cases ;
suppose L226: (C42 in ( dom C41 ) & C43 in ( dom C41 ));

L227: (C42 = 1 or C42 = 2) by L226 , L214 , FINSEQ_1:2 , TARSKI:def 2;
per cases  by L214 , L225 , L226 , L227 , FINSEQ_1:2 , TARSKI:def 2;
suppose L228: (C42 = 1 & C43 = 2);

assume L229: ( C41 . C42 ) meets ( C41 . C43 );
consider C44 being set such that L230: C44 in ( C41 . C42 ) and L231: C44 in ( C41 . C43 ) by L229 , XBOOLE_0:3;
consider C45 being set such that L232: C44 in C45 and L233: C45 in ( rng D9 ) by L223 , L228 , L230 , TARSKI:def 4;
consider C46 being set such that L234: C46 in ( dom D9 ) and L235: C45 = ( D9 . C46 ) by L233 , FUNCT_1:def 3;
reconsider D24 = C46 as (Element of ( NAT )) by L234;
L236: C44 in ( C19 . D24 ) by L232 , L234 , L235 , FUNCT_1:47;
L237: D24 in ( ( dom C19 ) /\ ( Seg D6 ) ) by L234 , RELAT_1:61;
L238: D24 in ( Seg D6 ) by L237 , XBOOLE_0:def 4;
L239: D24 <= D6 by L238 , FINSEQ_1:1;
L240: D24 < ( D6 + 1 ) by L239 , NAT_1:13;
L241: ( C19 . D24 ) misses ( C19 . ( D6 + 1 ) ) by L240 , PROB_2:def 2;
L242: C44 in ( C19 . ( D6 + 1 ) ) by L214 , L220 , L228 , L231;
thus L243: contradiction by L242 , L241 , L236 , XBOOLE_0:3;
end;
suppose L244: (C42 = 2 & C43 = 1);

assume L245: ( C41 . C42 ) meets ( C41 . C43 );
consider C47 being set such that L246: C47 in ( C41 . C42 ) and L247: C47 in ( C41 . C43 ) by L245 , XBOOLE_0:3;
consider C48 being set such that L248: C47 in C48 and L249: C48 in ( rng D9 ) by L223 , L244 , L247 , TARSKI:def 4;
consider C49 being set such that L250: C49 in ( dom D9 ) and L251: C48 = ( D9 . C49 ) by L249 , FUNCT_1:def 3;
reconsider D25 = C49 as (Element of ( NAT )) by L250;
L252: C47 in ( C19 . D25 ) by L248 , L250 , L251 , FUNCT_1:47;
L253: D25 in ( ( dom C19 ) /\ ( Seg D6 ) ) by L250 , RELAT_1:61;
L254: D25 in ( Seg D6 ) by L253 , XBOOLE_0:def 4;
L255: D25 <= D6 by L254 , FINSEQ_1:1;
L256: D25 < ( D6 + 1 ) by L255 , NAT_1:13;
L257: ( C19 . D25 ) misses ( C19 . ( D6 + 1 ) ) by L256 , PROB_2:def 2;
L258: C47 in ( C19 . ( D6 + 1 ) ) by L214 , L220 , L244 , L246;
thus L259: contradiction by L258 , L257 , L252 , XBOOLE_0:3;
end;
end;
suppose L261: ((not C42 in ( dom C41 )) or (not C43 in ( dom C41 )));

L262: (( C41 . C42 ) = ( {} ) or ( C41 . C43 ) = ( {} )) by L261 , FUNCT_1:def 2;
thus L263: thesis by L262 , XBOOLE_1:65;
end;
end;
L265: ( len C41 ) = 2 by L214 , FINSEQ_1:def 3;
L266: C41 = <* ( union ( rng D9 ) ) , ( C19 . ( D6 + 1 ) ) *> by L265 , L223 , L221 , FINSEQ_1:44;
deffunc H1(Nat) = ( ( C39 . $1 ) * ( ( C16 * C41 ) . $1 ) );
consider C50 being (FinSequence of ( ExtREAL )) such that L267: (( len C50 ) = 2 & (for B61 being Nat holds (B61 in ( dom C50 ) implies ( C50 . B61 ) = H1(B61)))) from FINSEQ_2:sch 1;
L268: ( dom C50 ) = ( Seg 2 ) by L267 , FINSEQ_1:def 3;
L269: 1 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L270: ( C50 . 1 ) = ( ( C39 . 1 ) * ( ( C16 * C41 ) . 1 ) ) by L269 , L267 , L268;
consider C51 being (Function of ( NAT ) , ( ExtREAL )) such that L271: ( Sum C50 ) = ( C51 . ( len C50 ) ) and L272: ( C51 . ( 0 ) ) = ( 0. ) and L273: (for B62 being (Element of ( NAT )) holds (B62 < ( len C50 ) implies ( C51 . ( B62 + 1 ) ) = ( ( C51 . B62 ) + ( C50 . ( B62 + 1 ) ) ))) by EXTREAL1:def 2;
L274: ( C51 . 1 ) = ( ( C51 . ( 0 ) ) + ( C50 . ( ( 0 ) + 1 ) ) ) by L267 , L273
.= ( 0. ) by L216 , L270 , L272;
L275: 2 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L276: ( ( C16 * C41 ) . 2 ) = ( C16 . ( C19 . ( D6 + 1 ) ) ) by L275 , L214 , L221 , FUNCT_1:13
.= ( ( C16 * C19 ) . ( D6 + 1 ) ) by L120 , FUNCT_1:13;
L277: ( C50 . 2 ) = ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) by L276 , L219 , L267 , L268 , L275;
L278: ( C50 . 2 ) = ( C21 . ( D6 + 1 ) ) by L277 , L83 , L84 , L120;
reconsider D26 = C41 as (Finite_Sep_Sequence of C15) by L224 , PROB_2:def 2;
L279: ( dom C50 ) = ( dom D26 ) by L214 , L267 , FINSEQ_1:def 3;
L280: (for B63 being Nat holds (B63 in ( dom D26 ) implies (for B64 being set holds (B64 in ( D26 . B63 ) implies ( C18 . B64 ) = ( C39 . B63 )))))
proof
let C52 being Nat;
assume L281: C52 in ( dom D26 );
let C53 being set;
assume L282: C53 in ( D26 . C52 );
per cases  by L214 , L281 , FINSEQ_1:2 , TARSKI:def 2;
suppose L283: C52 = 1;

thus L284: thesis by L283 , L94 , L118 , L214 , L222 , L282;
end;
suppose L285: C52 = 2;

thus L286: thesis by L285 , L82 , L120 , L221 , L219 , L282 , MESFUNC3:def 1;
end;
end;
L288: (for B65 being Nat holds ((2 <= B65 & B65 in ( dom C39 )) implies (( 0. ) < ( C39 . B65 ) & ( C39 . B65 ) < ( +infty ))))
proof
let C54 being Nat;
assume that
L289: 2 <= C54
and
L290: C54 in ( dom C39 );
L291: (C54 = 1 or C54 = 2) by L205 , L290 , FINSEQ_1:2 , TARSKI:def 2;
L292: ( D26 . C54 ) <> ( {} ) by L291 , L80 , L82 , L87 , L118 , L121 , L221 , L289 , MESFUNC3:def 1;
consider C55 being set such that L293: C55 in ( D26 . C54 ) by L292 , XBOOLE_0:def 1;
L294: C55 in ( dom C18 ) by L82 , L94 , L118 , L121 , L221 , L289 , L291 , L293 , MESFUNC3:def 1;
L295: ( C18 . C55 ) = ( C39 . C54 ) by L214 , L205 , L280 , L290 , L293;
thus L296: ( 0. ) < ( C39 . C54 ) by L295 , L81 , L197 , L219 , L289 , L291 , L294;
L297: ( dom C18 ) c= C14 by RELAT_1:def 18;
reconsider D27 = C55 as (Element of C14) by L297 , L294;
L298: |. ( C18 . D27 ) .| < ( +infty ) by L86 , L294 , MESFUNC2:def 1;
thus L299: thesis by L298 , L295 , EXTREAL2:10;
end;
L300: ( dom C18 ) = ( ( union ( rng D9 ) ) \/ ( C19 . ( D6 + 1 ) ) ) by L82 , L121 , MESFUNC3:def 1
.= ( union { ( union ( rng D9 ) ) , ( C19 . ( D6 + 1 ) ) } ) by ZFMISC_1:75
.= ( union ( rng D26 ) ) by L266 , FINSEQ_2:127;
L301: D26 , C39 are_Re-presentation_of C18 by L300 , L214 , L205 , L280 , MESFUNC3:def 1;
L302: ( Sum C50 ) = ( C51 . ( 1 + 1 ) ) by L267 , L271
.= ( ( 0. ) + ( C21 . ( D6 + 1 ) ) ) by L267 , L278 , L273 , L274
.= ( C21 . ( D6 + 1 ) ) by XXREAL_3:4;
thus L303: thesis by L302 , L79 , L81 , L195 , L267 , L288 , L301 , L217 , L279 , MESFUNC3:def 2;
end;
case L304: ( C20 . ( D6 + 1 ) ) = ( 0. );
defpred S8[ Nat , set ] means (($1 = 1 implies $2 = ( 0. )) & ($1 = 2 implies $2 = ( 1. )));
defpred S9[ Nat , set ] means (($1 = 1 implies $2 = ( union ( rng C19 ) )) & ($1 = 2 implies $2 = ( {} )));
L305: (for B66 being Nat holds (B66 in ( Seg 2 ) implies (ex B67 being (Element of C15) st S9[ B66 , B67 ])))
proof
let C56 being Nat;
assume L306: C56 in ( Seg 2 );
per cases  by L306 , FINSEQ_1:2 , TARSKI:def 2;
suppose L307: C56 = 1;

set D28 = ( union ( rng C19 ) );
reconsider D29 = D28 as (Element of C15) by MESFUNC2:31;
take D29;
thus L308: thesis by L307;
end;
suppose L309: C56 = 2;

reconsider D30 = ( {} ) as (Element of C15) by PROB_1:4;
take D30;
thus L310: thesis by L309;
end;
end;
consider C57 being (FinSequence of C15) such that L312: (( dom C57 ) = ( Seg 2 ) & (for B68 being Nat holds (B68 in ( Seg 2 ) implies S9[ B68 , ( C57 . B68 ) ]))) from FINSEQ_1:sch 5(L305);
L313: (for B69 , B70 being set holds (B69 <> B70 implies ( C57 . B69 ) misses ( C57 . B70 )))
proof
let C58 , C59 being set;
assume L314: C58 <> C59;
per cases ;
suppose L315: (C58 in ( dom C57 ) & C59 in ( dom C57 ));

L316: (C58 = 1 or C58 = 2) by L315 , L312 , FINSEQ_1:2 , TARSKI:def 2;
per cases  by L312 , L314 , L315 , L316 , FINSEQ_1:2 , TARSKI:def 2;
suppose L317: (C58 = 1 & C59 = 2);

L318: ( C57 . C59 ) = ( {} ) by L317 , L312 , L315;
thus L319: thesis by L318 , XBOOLE_1:65;
end;
suppose L320: (C58 = 2 & C59 = 1);

L321: ( C57 . C58 ) = ( {} ) by L320 , L312 , L315;
thus L322: thesis by L321 , XBOOLE_1:65;
end;
end;
suppose L324: ((not C58 in ( dom C57 )) or (not C59 in ( dom C57 )));

L325: (( C57 . C58 ) = ( {} ) or ( C57 . C59 ) = ( {} )) by L324 , FUNCT_1:def 2;
thus L326: thesis by L325 , XBOOLE_1:65;
end;
end;
L328: (for B71 being Nat holds (B71 in ( Seg 2 ) implies (ex B72 being (Element of ( ExtREAL )) st S8[ B71 , B72 ])))
proof
let C60 being Nat;
assume L329: C60 in ( Seg 2 );
per cases  by L329 , FINSEQ_1:2 , TARSKI:def 2;
suppose L330: C60 = 1;

set D31 = ( 0. );
reconsider D32 = D31 as (Element of ( ExtREAL ));
take D32;
thus L331: thesis by L330;
end;
suppose L332: C60 = 2;

set D33 = ( 1. );
reconsider D34 = D33 as (Element of ( ExtREAL ));
take D34;
thus L333: thesis by L332;
end;
end;
consider C61 being (FinSequence of ( ExtREAL )) such that L335: (( dom C61 ) = ( Seg 2 ) & (for B73 being Nat holds (B73 in ( Seg 2 ) implies S8[ B73 , ( C61 . B73 ) ]))) from FINSEQ_1:sch 5(L328);
L336: 2 in ( dom C57 ) by L312 , FINSEQ_1:2 , TARSKI:def 2;
L337: ( C57 . 2 ) = ( {} ) by L336 , L312;
L338: ( C16 . ( C57 . 2 ) ) = ( ( C16 * C57 ) . 2 ) by L336 , FUNCT_1:13;
L339: ( ( C16 * C57 ) . 2 ) = ( 0. ) by L338 , L337 , VALUED_0:def 19;
L340: 1 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L341: ( C57 . 1 ) = ( union ( rng C19 ) ) by L340 , L312;
L342: 1 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L343: ( C61 . 1 ) = ( 0. ) by L342 , L335;
deffunc H2(Nat) = ( ( C61 . $1 ) * ( ( C16 * C57 ) . $1 ) );
consider C62 being (FinSequence of ( ExtREAL )) such that L344: (( len C62 ) = 2 & (for B74 being Nat holds (B74 in ( dom C62 ) implies ( C62 . B74 ) = H2(B74)))) from FINSEQ_2:sch 1;
L345: ( dom C62 ) = ( Seg 2 ) by L344 , FINSEQ_1:def 3;
L346: 2 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L347: ( C62 . 2 ) = ( ( C61 . 2 ) * ( ( C16 * C57 ) . 2 ) ) by L346 , L344 , L345;
L348: 1 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L349: ( C62 . 1 ) = ( ( C61 . 1 ) * ( ( C16 * C57 ) . 1 ) ) by L348 , L344 , L345;
reconsider D35 = C57 as (Finite_Sep_Sequence of C15) by L313 , PROB_2:def 2;
L350: ( dom C62 ) = ( dom D35 ) by L312 , L344 , FINSEQ_1:def 3;
L351: (for B75 being Nat holds (B75 in ( dom D35 ) implies (for B76 being set holds (B76 in ( D35 . B75 ) implies ( C18 . B76 ) = ( C61 . B75 )))))
proof
let C63 being Nat;
assume L352: C63 in ( dom D35 );
let C64 being set;
assume L353: C64 in ( D35 . C63 );
per cases  by L312 , L352 , FINSEQ_1:2 , TARSKI:def 2;
suppose L354: C63 = 1;

L355: ( C18 . C64 ) = ( 0. ) by L354 , L82 , L94 , L118 , L120 , L121 , L304 , L341 , L353 , MESFUNC3:def 1;
thus L356: thesis by L355 , L335 , L342 , L354;
end;
suppose L357: C63 = 2;

thus L358: thesis by L357 , L312 , L336 , L353;
end;
end;
L360: ( len D35 ) = 2 by L312 , FINSEQ_1:def 3;
L361: D35 = <* ( union ( rng C19 ) ) , ( {} ) *> by L360 , L341 , L337 , FINSEQ_1:44;
L362: ( rng D35 ) = { ( union ( rng C19 ) ) , ( {} ) } by L361 , FINSEQ_2:127;
L363: ( union ( rng D35 ) ) = ( ( union ( rng C19 ) ) \/ ( {} ) ) by L362 , ZFMISC_1:75
.= ( dom C18 ) by L82 , MESFUNC3:def 1;
L364: D35 , C61 are_Re-presentation_of C18 by L363 , L312 , L335 , L351 , MESFUNC3:def 1;
consider C65 being (Function of ( NAT ) , ( ExtREAL )) such that L365: ( Sum C62 ) = ( C65 . ( len C62 ) ) and L366: ( C65 . ( 0 ) ) = ( 0. ) and L367: (for B77 being (Element of ( NAT )) holds (B77 < ( len C62 ) implies ( C65 . ( B77 + 1 ) ) = ( ( C65 . B77 ) + ( C62 . ( B77 + 1 ) ) ))) by EXTREAL1:def 2;
L368: ( C65 . 1 ) = ( ( C65 . ( 0 ) ) + ( C62 . ( ( 0 ) + 1 ) ) ) by L344 , L367
.= ( 0. ) by L343 , L349 , L366;
L369: 2 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L370: (for B78 being Nat holds ((2 <= B78 & B78 in ( dom C61 )) implies (( 0. ) < ( C61 . B78 ) & ( C61 . B78 ) < ( +infty ))))
proof
let C66 being Nat;
assume that
L371: 2 <= C66
and
L372: C66 in ( dom C61 );
L373: (C66 = 1 or C66 = 2) by L335 , L372 , FINSEQ_1:2 , TARSKI:def 2;
thus L374: ( 0. ) < ( C61 . C66 ) by L373 , L335 , L369 , L371 , MESFUNC1:def 8;
L375: S8[ C66 , ( C61 . C66 ) ] by L335 , L342 , L369;
thus L376: thesis by L375 , L335 , L372 , FINSEQ_1:2 , MESFUNC1:def 8 , TARSKI:def 2 , XXREAL_0:9;
end;
L377: ( C61 . 1 ) = ( 0. ) by L335 , L342;
L378: (1 <= ( D6 + 1 ) & ( D6 + 1 ) <= ( len C21 )) by L158 , FINSEQ_1:6 , NAT_1:11;
L379: ( D6 + 1 ) in ( dom C21 ) by L378 , FINSEQ_3:25;
L380: ( C21 . ( D6 + 1 ) ) = ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) by L379 , L84
.= ( 0. ) by L304;
L381: ( Sum C62 ) = ( ( C65 . 1 ) + ( C62 . ( 1 + 1 ) ) ) by L344 , L365 , L367
.= ( 0. ) by L339 , L347 , L368;
thus L382: thesis by L381 , L79 , L81 , L195 , L380 , L344 , L370 , L364 , L377 , L350 , MESFUNC3:def 2;
end;
end;
thus L384: thesis by L196;
end;
suppose L385: ( dom D8 ) <> ( {} );

L386: D6 <= ( D6 + 1 ) by NAT_1:11;
L387: ( Seg D6 ) c= ( Seg ( D6 + 1 ) ) by L386 , FINSEQ_1:5;
L388: ( dom C19 ) = ( Seg ( D6 + 1 ) ) by L85 , FINSEQ_1:def 3;
L389: ( dom D9 ) = ( ( Seg ( D6 + 1 ) ) /\ ( Seg D6 ) ) by L388 , RELAT_1:61;
L390: ( dom D9 ) = ( Seg D6 ) by L389 , L387 , XBOOLE_1:28;
L391: ( len D9 ) = D6 by L390 , FINSEQ_1:def 3;
consider C67 being (Finite_Sep_Sequence of C15), C68 , C69 being (FinSequence of ( ExtREAL )) such that L392: C67 , C68 are_Re-presentation_of D8 and L393: ( C68 . 1 ) = ( 0. ) and L394: (for B79 being Nat holds ((2 <= B79 & B79 in ( dom C68 )) implies (( 0. ) < ( C68 . B79 ) & ( C68 . B79 ) < ( +infty )))) and L395: ( dom C69 ) = ( dom C67 ) and L396: (for B80 being Nat holds (B80 in ( dom C69 ) implies ( C69 . B80 ) = ( ( C68 . B80 ) * ( ( C16 * C67 ) . B80 ) ))) and L397: ( integral (C14 , C15 , C16 , D8) ) = ( Sum C69 ) by L107 , L88 , MESFUNC3:def 2;
L398: (for B81 being Nat holds (B81 in ( dom D13 ) implies ( D13 . B81 ) = ( ( D11 . B81 ) * ( ( C16 * D9 ) . B81 ) )))
proof
let C70 being Nat;
assume L399: C70 in ( dom D13 );
L400: ( dom D13 ) c= ( dom C21 ) by RELAT_1:60;
L401: ( C21 . C70 ) = ( ( C20 . C70 ) * ( ( C16 * C19 ) . C70 ) ) by L400 , L84 , L399;
L402: ( D13 . C70 ) = ( ( C20 . C70 ) * ( ( C16 * C19 ) . C70 ) ) by L401 , L399 , FUNCT_1:47
.= ( ( D11 . C70 ) * ( ( C16 * C19 ) . C70 ) ) by L108 , L92 , L399 , FUNCT_1:47;
L403: ( ( C16 * C19 ) . C70 ) = ( C16 . ( C19 . C70 ) ) by L83 , L399 , L400 , FUNCT_1:13
.= ( C16 . ( D9 . C70 ) ) by L92 , L399 , FUNCT_1:47
.= ( ( C16 * D9 ) . C70 ) by L92 , L399 , FUNCT_1:13;
thus L404: thesis by L403 , L402;
end;
L405:
now
per cases ;
case L406: (( C19 . ( D6 + 1 ) ) = ( {} ) or ( C20 . ( D6 + 1 ) ) = ( 0. ));
defpred S10[ Nat , set ] means (($1 = 1 implies $2 = ( ( C67 . 1 ) \/ ( C19 . ( D6 + 1 ) ) )) & (2 <= $1 implies $2 = ( C67 . $1 )));
L407: (for B82 being Nat holds (B82 in ( Seg ( len C67 ) ) implies (ex B83 being (Element of C15) st S10[ B82 , B83 ])))
proof
let C71 being Nat;
L408: ( rng C67 ) c= C15 by FINSEQ_1:def 4;
assume L409: C71 in ( Seg ( len C67 ) );
L410: C71 in ( dom C67 ) by L409 , FINSEQ_1:def 3;
L411: ( C67 . C71 ) in ( rng C67 ) by L410 , FUNCT_1:3;
per cases ;
suppose L412: C71 = 1;

set D36 = ( ( C67 . 1 ) \/ ( C19 . ( D6 + 1 ) ) );
L413: 1 <= ( D6 + 1 ) by NAT_1:11;
L414: ( D6 + 1 ) in ( dom C19 ) by L413 , L85 , FINSEQ_3:25;
L415: ( C19 . ( D6 + 1 ) ) in ( rng C19 ) by L414 , FUNCT_1:3;
L416: ( rng C19 ) c= C15 by FINSEQ_1:def 4;
reconsider D37 = D36 as (Element of C15) by L416 , L411 , L408 , L412 , L415 , FINSUB_1:def 1;
L417: S10[ C71 , D37 ] by L412;
thus L418: thesis by L417;
end;
suppose L419: C71 <> 1;

set D38 = ( C67 . C71 );
reconsider D39 = D38 as (Element of C15) by L411 , L408;
L420: S10[ C71 , D39 ] by L419;
thus L421: thesis by L420;
end;
end;
consider C72 being (FinSequence of C15) such that L423: (( dom C72 ) = ( Seg ( len C67 ) ) & (for B84 being Nat holds (B84 in ( Seg ( len C67 ) ) implies S10[ B84 , ( C72 . B84 ) ]))) from FINSEQ_1:sch 5(L407);
L424: (for B85 , B86 being set holds (B85 <> B86 implies ( C72 . B85 ) misses ( C72 . B86 )))
proof
let C73 , C74 being set;
assume L425: C73 <> C74;
per cases ;
suppose L426: (C73 in ( dom C72 ) & C74 in ( dom C72 ));

reconsider D40 = C73 , D41 = C74 as (Element of ( NAT )) by L426;
per cases ;
suppose L427: C73 = 1;

L428: 1 <= D41 by L423 , L426 , FINSEQ_1:1;
L429: 1 < D41 by L428 , L425 , L427 , XXREAL_0:1;
L430: ( 1 + 1 ) <= D41 by L429 , NAT_1:13;
L431: ( C72 . C74 ) = ( C67 . C74 ) by L430 , L423 , L426;
L432: ( C19 . ( D6 + 1 ) ) misses ( C67 . C74 )
proof
per cases  by L406;
suppose L433: ( C19 . ( D6 + 1 ) ) = ( {} );

thus L434: thesis by L433 , XBOOLE_1:65;
end;
suppose L435: ( C20 . ( D6 + 1 ) ) = ( 0. );

assume L436: ( C19 . ( D6 + 1 ) ) meets ( C67 . C74 );
consider C75 being set such that L437: C75 in ( C19 . ( D6 + 1 ) ) and L438: C75 in ( C67 . C74 ) by L436 , XBOOLE_0:3;
L439: D41 in ( dom C67 ) by L423 , L426 , FINSEQ_1:def 3;
L440: D41 in ( dom C68 ) by L439 , L392 , MESFUNC3:def 1;
L441: ( C67 . D41 ) in ( rng C67 ) by L439 , FUNCT_1:3;
L442: C75 in ( union ( rng C67 ) ) by L441 , L438 , TARSKI:def 4;
L443: C75 in ( dom D8 ) by L442 , L392 , MESFUNC3:def 1;
L444: ( C18 . C75 ) = ( D8 . C75 ) by L443 , FUNCT_1:47
.= ( C68 . D41 ) by L392 , L438 , L439 , MESFUNC3:def 1;
L445: 1 <= ( D6 + 1 ) by NAT_1:11;
L446: ( D6 + 1 ) in ( Seg ( D6 + 1 ) ) by L445 , FINSEQ_1:1;
L447: ( D6 + 1 ) in ( dom C19 ) by L446 , L85 , FINSEQ_1:def 3;
L448: ( C18 . C75 ) = ( 0. ) by L447 , L82 , L435 , L437 , MESFUNC3:def 1;
thus L449: contradiction by L448 , L394 , L430 , L444 , L440;
end;
end;
L451: (( C72 . C73 ) = ( ( C67 . 1 ) \/ ( C19 . ( D6 + 1 ) ) ) & ( C67 . 1 ) misses ( C67 . C74 )) by L423 , L425 , L426 , L427 , PROB_2:def 2;
thus L452: thesis by L451 , L431 , L432 , XBOOLE_1:70;
end;
suppose L453: C73 <> 1;

L454: 1 <= D40 by L423 , L426 , FINSEQ_1:1;
L455: 1 < D40 by L454 , L453 , XXREAL_0:1;
L456: ( 1 + 1 ) <= D40 by L455 , NAT_1:13;
L457: ( C72 . C73 ) = ( C67 . C73 ) by L456 , L423 , L426;
per cases ;
suppose L458: C74 = 1;

L459: ( C19 . ( D6 + 1 ) ) misses ( C67 . C73 )
proof
per cases  by L406;
suppose L460: ( C19 . ( D6 + 1 ) ) = ( {} );

thus L461: thesis by L460 , XBOOLE_1:65;
end;
suppose L462: ( C20 . ( D6 + 1 ) ) = ( 0. );

assume L463: ( C19 . ( D6 + 1 ) ) meets ( C67 . C73 );
consider C76 being set such that L464: C76 in ( C19 . ( D6 + 1 ) ) and L465: C76 in ( C67 . C73 ) by L463 , XBOOLE_0:3;
L466: D40 in ( dom C67 ) by L423 , L426 , FINSEQ_1:def 3;
L467: D40 in ( dom C68 ) by L466 , L392 , MESFUNC3:def 1;
L468: ( C67 . D40 ) in ( rng C67 ) by L466 , FUNCT_1:3;
L469: C76 in ( union ( rng C67 ) ) by L468 , L465 , TARSKI:def 4;
L470: C76 in ( dom D8 ) by L469 , L392 , MESFUNC3:def 1;
L471: ( C18 . C76 ) = ( D8 . C76 ) by L470 , FUNCT_1:47
.= ( C68 . D40 ) by L392 , L465 , L466 , MESFUNC3:def 1;
L472: 1 <= ( D6 + 1 ) by NAT_1:11;
L473: ( D6 + 1 ) in ( Seg ( D6 + 1 ) ) by L472 , FINSEQ_1:1;
L474: ( D6 + 1 ) in ( dom C19 ) by L473 , L85 , FINSEQ_1:def 3;
L475: ( C18 . C76 ) = ( 0. ) by L474 , L82 , L462 , L464 , MESFUNC3:def 1;
thus L476: contradiction by L475 , L394 , L456 , L471 , L467;
end;
end;
L478: (( C72 . C74 ) = ( ( C67 . 1 ) \/ ( C19 . ( D6 + 1 ) ) ) & ( C67 . 1 ) misses ( C67 . C73 )) by L423 , L425 , L426 , L458 , PROB_2:def 2;
thus L479: thesis by L478 , L457 , L459 , XBOOLE_1:70;
end;
suppose L480: C74 <> 1;

L481: 1 <= D41 by L423 , L426 , FINSEQ_1:1;
L482: 1 < D41 by L481 , L480 , XXREAL_0:1;
L483: ( 1 + 1 ) <= D41 by L482 , NAT_1:13;
L484: ( C72 . C74 ) = ( C67 . C74 ) by L483 , L423 , L426;
thus L485: thesis by L484 , L425 , L457 , PROB_2:def 2;
end;
end;
end;
suppose L488: ((not C73 in ( dom C72 )) or (not C74 in ( dom C72 )));

L489: (( C72 . C73 ) = ( {} ) or ( C72 . C74 ) = ( {} )) by L488 , FUNCT_1:def 2;
thus L490: thesis by L489 , XBOOLE_1:65;
end;
end;
deffunc H3(Nat) = ( ( C68 . $1 ) * ( ( C16 * C72 ) . $1 ) );
reconsider D42 = C72 as (Finite_Sep_Sequence of C15) by L424 , PROB_2:def 2;
consider C77 being (FinSequence of ( ExtREAL )) such that L492: (( len C77 ) = ( len C69 ) & (for B87 being Nat holds (B87 in ( dom C77 ) implies ( C77 . B87 ) = H3(B87)))) from FINSEQ_2:sch 1;
L493: C67 <> ( {} ) by L385 , L392 , MESFUNC3:def 1 , RELAT_1:38 , ZFMISC_1:2;
L494: ( ( 0 ) + 1 ) <= ( len C67 ) by L493 , NAT_1:13;
L495: 1 in ( Seg ( len C67 ) ) by L494 , FINSEQ_1:1;
L496: ( dom C18 ) = ( union ( rng D42 ) )
proof
thus L497: ( dom C18 ) c= ( union ( rng D42 ) )
proof
let C78 being set;
assume L498: C78 in ( dom C18 );
L499: C78 in ( union ( rng C19 ) ) by L498 , L82 , MESFUNC3:def 1;
consider C79 being set such that L500: C78 in C79 and L501: C79 in ( rng C19 ) by L499 , TARSKI:def 4;
consider C80 being set such that L502: C80 in ( dom C19 ) and L503: C79 = ( C19 . C80 ) by L501 , FUNCT_1:def 3;
reconsider D43 = C80 as (Element of ( NAT )) by L502;
L504: D43 in ( Seg ( len C19 ) ) by L502 , FINSEQ_1:def 3;
L505: 1 <= D43 by L504 , FINSEQ_1:1;
L506: D43 <= ( D6 + 1 ) by L85 , L504 , FINSEQ_1:1;
per cases ;
suppose L507: D43 = ( D6 + 1 );

L508: ( D42 . 1 ) = ( ( C67 . 1 ) \/ C79 ) by L507 , L423 , L495 , L503;
L509: C78 in ( D42 . 1 ) by L508 , L500 , XBOOLE_0:def 3;
L510: ( D42 . 1 ) in ( rng D42 ) by L423 , L495 , FUNCT_1:3;
thus L511: thesis by L510 , L509 , TARSKI:def 4;
end;
suppose L512: D43 <> ( D6 + 1 );

L513: D43 < ( D6 + 1 ) by L512 , L506 , XXREAL_0:1;
L514: D43 <= D6 by L513 , NAT_1:13;
L515: D43 in ( Seg D6 ) by L514 , L505 , FINSEQ_1:1;
L516: (( D9 . D43 ) in ( rng D9 ) & C79 = ( D9 . D43 )) by L515 , L390 , L503 , FUNCT_1:3 , FUNCT_1:47;
L517: C78 in ( union ( rng D9 ) ) by L516 , L500 , TARSKI:def 4;
L518: C78 in ( union ( rng C67 ) ) by L517 , L94 , L392 , MESFUNC3:def 1;
consider C81 being set such that L519: C78 in C81 and L520: C81 in ( rng C67 ) by L518 , TARSKI:def 4;
consider C82 being set such that L521: C82 in ( dom C67 ) and L522: C81 = ( C67 . C82 ) by L520 , FUNCT_1:def 3;
reconsider D44 = C82 as (Element of ( NAT )) by L521;
L523: D44 in ( Seg ( len C67 ) ) by L521 , FINSEQ_1:def 3;
per cases ;
suppose L524: D44 = 1;

L525: ( D42 . 1 ) = ( ( C67 . 1 ) \/ ( C19 . ( D6 + 1 ) ) ) by L423 , L495;
L526: C78 in ( D42 . 1 ) by L525 , L519 , L522 , L524 , XBOOLE_0:def 3;
L527: ( D42 . 1 ) in ( rng D42 ) by L423 , L495 , FUNCT_1:3;
thus L528: thesis by L527 , L526 , TARSKI:def 4;
end;
suppose L529: D44 <> 1;

L530: 1 <= D44 by L521 , FINSEQ_3:25;
L531: 1 < D44 by L530 , L529 , XXREAL_0:1;
L532: ( 1 + 1 ) <= D44 by L531 , NAT_1:13;
L533: C78 in ( D42 . D44 ) by L532 , L423 , L519 , L522 , L523;
L534: ( D42 . D44 ) in ( rng D42 ) by L423 , L523 , FUNCT_1:3;
thus L535: thesis by L534 , L533 , TARSKI:def 4;
end;
end;
end;

let C83 being set;
assume L538: C83 in ( union ( rng D42 ) );
consider C84 being set such that L539: C83 in C84 and L540: C84 in ( rng D42 ) by L538 , TARSKI:def 4;
consider C85 being set such that L541: C85 in ( dom D42 ) and L542: C84 = ( D42 . C85 ) by L540 , FUNCT_1:def 3;
reconsider D45 = C85 as (Element of ( NAT )) by L541;
per cases ;
suppose L543: D45 = 1;

L544: ( D42 . D45 ) = ( ( C67 . 1 ) \/ ( C19 . ( D6 + 1 ) ) ) by L543 , L423 , L541;
per cases  by L539 , L542 , L544 , XBOOLE_0:def 3;
suppose L545: C83 in ( C67 . 1 );

L546: 1 in ( dom C67 ) by L495 , FINSEQ_1:def 3;
L547: ( C67 . 1 ) in ( rng C67 ) by L546 , FUNCT_1:3;
L548: C83 in ( union ( rng C67 ) ) by L547 , L545 , TARSKI:def 4;
L549: C83 in ( dom D8 ) by L548 , L392 , MESFUNC3:def 1;
L550: C83 in ( ( dom C18 ) /\ ( union ( rng D9 ) ) ) by L549 , RELAT_1:61;
thus L551: thesis by L550 , XBOOLE_0:def 4;
end;
suppose L552: C83 in ( C19 . ( D6 + 1 ) );

L553: 1 <= ( D6 + 1 ) by NAT_1:11;
L554: ( D6 + 1 ) in ( dom C19 ) by L553 , L85 , FINSEQ_3:25;
L555: ( C19 . ( D6 + 1 ) ) in ( rng C19 ) by L554 , FUNCT_1:3;
L556: C83 in ( union ( rng C19 ) ) by L555 , L552 , TARSKI:def 4;
thus L557: thesis by L556 , L82 , MESFUNC3:def 1;
end;
end;
suppose L559: D45 <> 1;

L560: 1 <= D45 by L423 , L541 , FINSEQ_1:1;
L561: 1 < D45 by L560 , L559 , XXREAL_0:1;
L562: ( 1 + 1 ) <= D45 by L561 , NAT_1:13;
L563: C83 in ( C67 . D45 ) by L562 , L423 , L539 , L541 , L542;
L564: D45 in ( dom C67 ) by L423 , L541 , FINSEQ_1:def 3;
L565: ( C67 . D45 ) in ( rng C67 ) by L564 , FUNCT_1:3;
L566: C83 in ( union ( rng C67 ) ) by L565 , L563 , TARSKI:def 4;
L567: C83 in ( dom D8 ) by L566 , L392 , MESFUNC3:def 1;
L568: C83 in ( ( dom C18 ) /\ ( union ( rng D9 ) ) ) by L567 , RELAT_1:61;
thus L569: thesis by L568 , XBOOLE_0:def 4;
end;
end;
L571:
now
assume L572: ( -infty ) in ( rng D13 );
consider C86 being set such that L573: C86 in ( dom D13 ) and L574: ( D13 . C86 ) = ( -infty ) by L572 , FUNCT_1:def 3;
reconsider D46 = C86 as (Element of ( NAT )) by L573;
L575: D46 in ( ( dom C21 ) /\ ( Seg D6 ) ) by L573 , RELAT_1:61;
L576: D46 in ( dom C21 ) by L575 , XBOOLE_0:def 4;
L577: ( C21 . D46 ) = ( -infty ) by L573 , L574 , FUNCT_1:47;
L578: ( ( C20 . D46 ) * ( ( C16 * C19 ) . D46 ) ) = ( -infty ) by L577 , L84 , L576;
per cases ;
suppose L579: ( C19 . D46 ) <> ( {} );

reconsider D47 = ( {} ) as (Element of C15) by MEASURE1:7;
consider C87 being set such that L580: C87 in ( C19 . D46 ) by L579 , XBOOLE_0:def 1;
L581: ( C19 . D46 ) in ( rng C19 ) by L83 , L576 , FUNCT_1:3;
L582: C87 in ( union ( rng C19 ) ) by L581 , L580 , TARSKI:def 4;
L583: C87 in ( dom C18 ) by L582 , L82 , MESFUNC3:def 1;
L584: ( rng C19 ) c= C15 by FINSEQ_1:def 4;
reconsider D48 = ( C19 . D46 ) as (Element of C15) by L584 , L581;
L585: D47 c= ( C19 . D46 ) by XBOOLE_1:2;
L586: ( C16 . ( {} ) ) <= ( C16 . D48 ) by L585 , MEASURE1:31;
L587: ( 0. ) <= ( C16 . D48 ) by L586 , VALUED_0:def 19;
L588: ( 0. ) <= ( ( C16 * C19 ) . D46 ) by L587 , L83 , L576 , FUNCT_1:13;
L589: ( C20 . D46 ) = ( C18 . C87 ) by L82 , L83 , L576 , L580 , MESFUNC3:def 1;
L590: ( 0. ) <= ( C20 . D46 ) by L589 , L81 , L583;
thus L591: contradiction by L590 , L578 , L588;
end;
suppose L592: ( C19 . D46 ) = ( {} );

L593: ( ( C16 * C19 ) . D46 ) = ( C16 . ( C19 . D46 ) ) by L83 , L576 , FUNCT_1:13
.= ( 0. ) by L592 , VALUED_0:def 19;
thus L594: contradiction by L593 , L578;
end;
end;
L596: 1 <= ( D6 + 1 ) by NAT_1:11;
L597: ( D6 + 1 ) in ( dom C19 ) by L596 , L85 , FINSEQ_3:25;
L598: ( C21 . ( D6 + 1 ) ) = ( 0. )
proof
per cases  by L406;
suppose L599: ( C19 . ( D6 + 1 ) ) = ( {} );

L600: ( ( C16 * C19 ) . ( D6 + 1 ) ) = ( C16 . ( C19 . ( D6 + 1 ) ) ) by L597 , FUNCT_1:13;
L601: ( ( C16 * C19 ) . ( D6 + 1 ) ) = ( 0. ) by L600 , L599 , VALUED_0:def 19;
L602: ( C21 . ( D6 + 1 ) ) = ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) by L83 , L84 , L597;
thus L603: thesis by L602 , L601;
end;
suppose L604: ( C20 . ( D6 + 1 ) ) = ( 0. );

L605: ( C21 . ( D6 + 1 ) ) = ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) by L83 , L84 , L597;
thus L606: thesis by L605 , L604;
end;
end;
L608:
now
assume L609: ( -infty ) in ( rng <* ( C21 . ( D6 + 1 ) ) *> );
L610: ( -infty ) in { ( C21 . ( D6 + 1 ) ) } by L609 , FINSEQ_1:39;
thus L611: contradiction by L610 , L598;
end;
L612: (for B88 being Nat holds (B88 in ( dom D42 ) implies (for B89 being set holds (B89 in ( D42 . B88 ) implies ( C18 . B89 ) = ( C68 . B88 )))))
proof
let C88 being Nat;
assume L613: C88 in ( dom D42 );
let C89 being set;
assume L614: C89 in ( D42 . C88 );
per cases ;
suppose L615: C88 = 1;

L616: ( D42 . C88 ) = ( ( C67 . 1 ) \/ ( C19 . ( D6 + 1 ) ) ) by L615 , L423 , L613;
per cases  by L614 , L616 , XBOOLE_0:def 3;
suppose L617: C89 in ( C67 . 1 );

L618: C88 in ( dom C67 ) by L423 , L613 , FINSEQ_1:def 3;
L619: ( C67 . 1 ) in ( rng C67 ) by L618 , L615 , FUNCT_1:3;
L620: C89 in ( union ( rng C67 ) ) by L619 , L617 , TARSKI:def 4;
L621: C89 in ( dom D8 ) by L620 , L392 , MESFUNC3:def 1;
L622: ( D8 . C89 ) = ( C68 . C88 ) by L392 , L615 , L617 , L618 , MESFUNC3:def 1;
thus L623: thesis by L622 , L621 , FUNCT_1:47;
end;
suppose L624: C89 in ( C19 . ( D6 + 1 ) );

L625: 1 <= ( D6 + 1 ) by NAT_1:11;
L626: ( D6 + 1 ) in ( dom C19 ) by L625 , L85 , FINSEQ_3:25;
thus L627: thesis by L626 , L82 , L393 , L406 , L615 , L624 , MESFUNC3:def 1;
end;
end;
suppose L629: C88 <> 1;

L630: 1 <= C88 by L613 , FINSEQ_3:25;
L631: 1 < C88 by L630 , L629 , XXREAL_0:1;
L632: ( 1 + 1 ) <= C88 by L631 , NAT_1:13;
L633: ( D42 . C88 ) = ( C67 . C88 ) by L632 , L423 , L613;
L634: C88 in ( dom C67 ) by L423 , L613 , FINSEQ_1:def 3;
L635: ( C67 . C88 ) in ( rng C67 ) by L634 , FUNCT_1:3;
L636: C89 in ( union ( rng C67 ) ) by L635 , L614 , L633 , TARSKI:def 4;
L637: C89 in ( dom D8 ) by L636 , L392 , MESFUNC3:def 1;
L638: ( D8 . C89 ) = ( C68 . C88 ) by L392 , L614 , L634 , L633 , MESFUNC3:def 1;
thus L639: thesis by L638 , L637 , FUNCT_1:47;
end;
end;
L641: ( dom C77 ) = ( dom C69 ) by L492 , FINSEQ_3:29;
L642: ( dom C77 ) = ( dom D42 ) by L641 , L395 , L423 , FINSEQ_1:def 3;
L643: (for B90 being Nat holds (B90 in ( dom C77 ) implies ( C77 . B90 ) = ( C69 . B90 )))
proof
let C90 being Nat;
assume L644: C90 in ( dom C77 );
L645: ( C77 . C90 ) = ( ( C68 . C90 ) * ( ( C16 * D42 ) . C90 ) ) by L644 , L492;
L646: ( C69 . C90 ) = ( ( C68 . C90 ) * ( ( C16 * C67 ) . C90 ) ) by L396 , L641 , L644;
per cases ;
suppose L647: C90 = 1;

L648: ( C77 . C90 ) = ( 0. ) by L647 , L393 , L645;
thus L649: thesis by L648 , L393 , L646 , L647;
end;
suppose L650: C90 <> 1;

L651: C90 in ( Seg ( len C67 ) ) by L395 , L641 , L644 , FINSEQ_1:def 3;
L652: 1 <= C90 by L651 , FINSEQ_1:1;
L653: 1 < C90 by L652 , L650 , XXREAL_0:1;
L654: ( 1 + 1 ) <= C90 by L653 , NAT_1:13;
L655: ( ( C16 * D42 ) . C90 ) = ( C16 . ( D42 . C90 ) ) by L642 , L644 , FUNCT_1:13
.= ( C16 . ( C67 . C90 ) ) by L423 , L651 , L654
.= ( ( C16 * C67 ) . C90 ) by L395 , L641 , L644 , FUNCT_1:13;
thus L656: thesis by L655 , L396 , L641 , L644 , L645;
end;
end;
L658: ( len C21 ) = ( D6 + 1 ) by L83 , L85 , FINSEQ_3:29;
L659: C21 = ( C21 | ( D6 + 1 ) ) by L658 , FINSEQ_1:58
.= ( C21 | ( Seg ( D6 + 1 ) ) ) by FINSEQ_1:def 15
.= ( D13 ^ <* ( C21 . ( D6 + 1 ) ) *> ) by L83 , L597 , FINSEQ_5:10;
L660: ( Sum C21 ) = ( ( Sum D13 ) + ( Sum <* ( C21 . ( D6 + 1 ) ) *> ) ) by L659 , L571 , L608 , EXTREAL1:10
.= ( ( Sum D13 ) + ( 0. ) ) by L598 , EXTREAL1:8;
L661: ( dom D42 ) = ( dom C67 ) by L423 , FINSEQ_1:def 3
.= ( dom C68 ) by L392 , MESFUNC3:def 1;
L662: D42 , C68 are_Re-presentation_of C18 by L661 , L496 , L612 , MESFUNC3:def 1;
L663: ( integral (C14 , C15 , C16 , C18) ) = ( Sum C77 ) by L662 , L79 , L81 , L393 , L394 , L492 , L642 , MESFUNC3:def 2
.= ( integral (C14 , C15 , C16 , D8) ) by L397 , L641 , L643 , FINSEQ_1:13
.= ( Sum D13 ) by L78 , L107 , L88 , L116 , L92 , L385 , L398 , L391
.= ( Sum C21 ) by L660 , XXREAL_3:4;
thus L664: thesis by L663;
end;
case L665: (( C19 . ( D6 + 1 ) ) <> ( {} ) & ( C20 . ( D6 + 1 ) ) <> ( 0. ));
defpred S11[ Nat , set ] means (($1 <= ( len C68 ) implies $2 = ( C68 . $1 )) & ($1 = ( ( len C68 ) + 1 ) implies $2 = ( C20 . ( D6 + 1 ) )));
L666: C18 is  real-valued by L79 , MESFUNC2:def 4;
consider C91 being set such that L667: C91 in ( C19 . ( D6 + 1 ) ) by L665 , XBOOLE_0:def 1;
L668: (for B91 being Nat holds (B91 in ( Seg ( ( len C68 ) + 1 ) ) implies (ex B92 being (Element of ( ExtREAL )) st S11[ B91 , B92 ])))
proof
let C92 being Nat;
assume L669: C92 in ( Seg ( ( len C68 ) + 1 ) );
per cases ;
suppose L670: C92 <> ( ( len C68 ) + 1 );

reconsider D49 = ( C68 . C92 ) as (Element of ( ExtREAL ));
take D49;
thus L671: thesis by L670;
end;
suppose L672: C92 = ( ( len C68 ) + 1 );

reconsider D50 = ( C20 . ( D6 + 1 ) ) as (Element of ( ExtREAL ));
take D50;
thus L673: thesis by L672 , NAT_1:13;
end;
end;
consider C93 being (FinSequence of ( ExtREAL )) such that L675: (( dom C93 ) = ( Seg ( ( len C68 ) + 1 ) ) & (for B93 being Nat holds (B93 in ( Seg ( ( len C68 ) + 1 ) ) implies S11[ B93 , ( C93 . B93 ) ]))) from FINSEQ_1:sch 5(L668);
L676: 1 <= ( D6 + 1 ) by NAT_1:11;
L677: ( D6 + 1 ) in ( dom C19 ) by L676 , L85 , FINSEQ_3:25;
L678: ( C19 . ( D6 + 1 ) ) in ( rng C19 ) by L677 , FUNCT_1:3;
L679: C91 in ( union ( rng C19 ) ) by L678 , L667 , TARSKI:def 4;
L680: C91 in ( dom C18 ) by L679 , L82 , MESFUNC3:def 1;
L681: ( dom C18 ) c= C14 by RELAT_1:def 18;
reconsider D51 = C91 as (Element of C14) by L681 , L680;
L682: ( C18 . D51 ) = ( C20 . ( D6 + 1 ) ) by L82 , L677 , L667 , MESFUNC3:def 1;
L683: |. ( C20 . ( D6 + 1 ) ) .| < ( +infty ) by L682 , L666 , L680 , MESFUNC2:def 1;
L684: ( C20 . ( D6 + 1 ) ) < ( +infty ) by L683 , EXTREAL2:10;
L685: ( len C93 ) = ( ( len C68 ) + 1 ) by L675 , FINSEQ_1:def 3;
L686: ( 0. ) <= ( C18 . D51 ) by L81 , L680;
L687: ( 0. ) < ( C20 . ( D6 + 1 ) ) by L686 , L82 , L665 , L677 , L667 , MESFUNC3:def 1;
L688: (for B94 being Nat holds ((2 <= B94 & B94 in ( dom C93 )) implies (( 0. ) < ( C93 . B94 ) & ( C93 . B94 ) < ( +infty ))))
proof
let C94 being Nat;
assume that
L689: 2 <= C94
and
L690: C94 in ( dom C93 );
L691: C94 <= ( len C93 ) by L690 , FINSEQ_3:25;
per cases ;
suppose L692: C94 = ( len C93 );

thus L693: thesis by L692 , L687 , L684 , L675 , L685 , L690;
end;
suppose L694: C94 <> ( len C93 );

L695: C94 < ( ( len C68 ) + 1 ) by L694 , L685 , L691 , XXREAL_0:1;
L696: C94 <= ( len C68 ) by L695 , NAT_1:13;
L697: 1 <= C94 by L689 , XXREAL_0:2;
L698: C94 in ( dom C68 ) by L697 , L696 , FINSEQ_3:25;
L699: ( C93 . C94 ) = ( C68 . C94 ) by L675 , L690 , L696;
thus L700: thesis by L699 , L394 , L689 , L698;
end;
end;
L702: ( 0. ) <= ( C20 . ( D6 + 1 ) ) by L82 , L677 , L667 , L686 , MESFUNC3:def 1;
L703:
now
assume L704: (( -infty ) in ( rng C69 ) or ( -infty ) in ( rng <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> ));
per cases  by L704;
suppose L705: ( -infty ) in ( rng C69 );

consider C95 being set such that L706: C95 in ( dom C69 ) and L707: ( -infty ) = ( C69 . C95 ) by L705 , FUNCT_1:def 3;
reconsider D52 = C95 as (Element of ( NAT )) by L706;
L708: ( C69 . D52 ) = ( ( C68 . D52 ) * ( ( C16 * C67 ) . D52 ) ) by L396 , L706;
L709: D52 in ( Seg ( len C69 ) ) by L706 , FINSEQ_1:def 3;
L710: 1 <= D52 by L709 , FINSEQ_1:1;
per cases ;
suppose L711: D52 = 1;

thus L712: contradiction by L711 , L393 , L707 , L708;
end;
suppose L713: D52 <> 1;

L714: 1 < D52 by L713 , L710 , XXREAL_0:1;
L715: ( 1 + 1 ) <= D52 by L714 , NAT_1:13;
L716: D52 in ( dom C68 ) by L392 , L395 , L706 , MESFUNC3:def 1;
L717: ( 0. ) < ( C68 . D52 ) by L716 , L394 , L715;
L718: (( C67 . D52 ) in ( rng C67 ) & ( rng C67 ) c= C15) by L395 , L706 , FINSEQ_1:def 4 , FUNCT_1:3;
reconsider D53 = ( C67 . D52 ) as (Element of C15) by L718;
reconsider D54 = ( {} ) as (Element of C15) by PROB_1:4;
L719: ( C16 . D54 ) <= ( C16 . D53 ) by MEASURE1:31 , XBOOLE_1:2;
L720: ( 0. ) <= ( C16 . D53 ) by L719 , VALUED_0:def 19;
L721: ( ( C16 * C67 ) . D52 ) = ( C16 . ( C67 . D52 ) ) by L395 , L706 , FUNCT_1:13;
thus L722: contradiction by L721 , L707 , L708 , L717 , L720;
end;
end;
suppose L724: ( -infty ) in ( rng <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> );

reconsider D55 = ( {} ) as (Element of C15) by PROB_1:4;
L725: ( rng C19 ) c= C15 by FINSEQ_1:def 4;
L726: 1 <= ( D6 + 1 ) by NAT_1:11;
L727: ( D6 + 1 ) in ( dom C19 ) by L726 , L85 , FINSEQ_3:25;
L728: ( C19 . ( D6 + 1 ) ) in ( rng C19 ) by L727 , FUNCT_1:3;
reconsider D56 = ( C19 . ( D6 + 1 ) ) as (Element of C15) by L728 , L725;
L729: ( ( C16 * C19 ) . ( D6 + 1 ) ) = ( C16 . D56 ) by L727 , FUNCT_1:13;
L730: ( C16 . D55 ) <= ( C16 . D56 ) by MEASURE1:31 , XBOOLE_1:2;
L731: ( 0. ) <= ( C16 . D56 ) by L730 , VALUED_0:def 19;
L732: ( -infty ) in { ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) } by L724 , FINSEQ_1:38;
thus L733: contradiction by L732 , L702 , L731 , L729 , TARSKI:def 1;
end;
end;
L735: (not ( -infty ) in ( rng D13 ))
proof
reconsider D57 = ( {} ) as (Element of C15) by PROB_1:4;
assume L736: ( -infty ) in ( rng D13 );
consider C96 being set such that L737: C96 in ( dom D13 ) and L738: ( -infty ) = ( D13 . C96 ) by L736 , FUNCT_1:def 3;
reconsider D58 = C96 as (Element of ( NAT )) by L737;
L739: D58 in ( ( dom C21 ) /\ ( Seg D6 ) ) by L737 , RELAT_1:61;
L740: D58 in ( dom C21 ) by L739 , XBOOLE_0:def 4;
L741: ( C21 . D58 ) = ( ( C20 . D58 ) * ( ( C16 * C19 ) . D58 ) ) by L740 , L84;
L742: ( C19 . D58 ) in ( rng C19 ) by L83 , L740 , FUNCT_1:3;
L743: ( rng C19 ) c= C15 by FINSEQ_1:def 4;
reconsider D59 = ( C19 . D58 ) as (Element of C15) by L743 , L742;
per cases ;
suppose L744: ( C19 . D58 ) <> ( {} );

consider C97 being set such that L745: C97 in ( C19 . D58 ) by L744 , XBOOLE_0:def 1;
L746: C97 in ( union ( rng C19 ) ) by L742 , L745 , TARSKI:def 4;
L747: C97 in ( dom C18 ) by L746 , L82 , MESFUNC3:def 1;
L748: ( C20 . D58 ) = ( C18 . C97 ) by L82 , L83 , L740 , L745 , MESFUNC3:def 1;
L749: ( 0. ) <= ( C20 . D58 ) by L748 , L81 , L747;
L750: ( C16 . D57 ) <= ( C16 . D59 ) by MEASURE1:31 , XBOOLE_1:2;
L751: ( 0. ) <= ( C16 . D59 ) by L750 , VALUED_0:def 19;
L752: ( C16 . D59 ) = ( ( C16 * C19 ) . D58 ) by L83 , L740 , FUNCT_1:13;
thus L753: contradiction by L752 , L737 , L738 , L741 , L749 , L751 , FUNCT_1:47;
end;
suppose L754: ( C19 . D58 ) = ( {} );

L755: ( 0. ) = ( C16 . ( C19 . D58 ) ) by L754 , VALUED_0:def 19
.= ( ( C16 * C19 ) . D58 ) by L83 , L740 , FUNCT_1:13;
thus L756: contradiction by L755 , L737 , L738 , L741 , FUNCT_1:47;
end;
end;
defpred S12[ Nat , set ] means (($1 <= ( len C67 ) implies $2 = ( C67 . $1 )) & ($1 = ( ( len C67 ) + 1 ) implies $2 = ( C19 . ( D6 + 1 ) )));
L758: ( dom C67 ) = ( dom C68 ) by L392 , MESFUNC3:def 1;
L759: ( Seg ( len C67 ) ) = ( dom C67 ) by FINSEQ_1:def 3
.= ( Seg ( len C68 ) ) by L758 , FINSEQ_1:def 3;
L760: ( len C67 ) = ( len C68 ) by L759 , FINSEQ_1:6;
L761: (for B95 being Nat holds (B95 in ( Seg ( ( len C67 ) + 1 ) ) implies (ex B96 being (Element of C15) st S12[ B95 , B96 ])))
proof
let C98 being Nat;
assume L762: C98 in ( Seg ( ( len C67 ) + 1 ) );
per cases ;
suppose L763: C98 <> ( ( len C67 ) + 1 );

L764: C98 <= ( ( len C67 ) + 1 ) by L762 , FINSEQ_1:1;
L765: C98 < ( ( len C67 ) + 1 ) by L764 , L763 , XXREAL_0:1;
L766: C98 <= ( len C67 ) by L765 , NAT_1:13;
L767: 1 <= C98 by L762 , FINSEQ_1:1;
L768: C98 in ( dom C67 ) by L767 , L766 , FINSEQ_3:25;
L769: ( C67 . C98 ) in ( rng C67 ) by L768 , FUNCT_1:3;
L770: ( rng C67 ) c= C15 by FINSEQ_1:def 4;
reconsider D60 = ( C67 . C98 ) as (Element of C15) by L770 , L769;
take D60;
thus L771: thesis by L763;
end;
suppose L772: C98 = ( ( len C67 ) + 1 );

L773: (( C19 . ( D6 + 1 ) ) in ( rng C19 ) & ( rng C19 ) c= C15) by L677 , FINSEQ_1:def 4 , FUNCT_1:3;
reconsider D61 = ( C19 . ( D6 + 1 ) ) as (Element of C15) by L773;
take D61;
thus L774: thesis by L772 , NAT_1:13;
end;
end;
consider C99 being (FinSequence of C15) such that L776: (( dom C99 ) = ( Seg ( ( len C67 ) + 1 ) ) & (for B97 being Nat holds (B97 in ( Seg ( ( len C67 ) + 1 ) ) implies S12[ B97 , ( C99 . B97 ) ]))) from FINSEQ_1:sch 5(L761);
L777: (for B98 , B99 being set holds (B98 <> B99 implies ( C99 . B98 ) misses ( C99 . B99 )))
proof
let C100 , C101 being set;
assume L778: C100 <> C101;
per cases ;
suppose L779: (C100 in ( dom C99 ) & C101 in ( dom C99 ));

reconsider D62 = C100 , D63 = C101 as (Element of ( NAT )) by L779;
L780: 1 <= D62 by L776 , L779 , FINSEQ_1:1;
L781: D63 <= ( ( len C67 ) + 1 ) by L776 , L779 , FINSEQ_1:1;
L782: (for B100 being Nat holds ((1 <= B100 & B100 <= ( len C67 )) implies ( C99 . B100 ) misses ( C19 . ( D6 + 1 ) )))
proof
L783: ( union ( rng D9 ) ) misses ( C19 . ( D6 + 1 ) )
proof
assume L784: ( union ( rng D9 ) ) meets ( C19 . ( D6 + 1 ) );
consider C102 being set such that L785: C102 in ( union ( rng D9 ) ) and L786: C102 in ( C19 . ( D6 + 1 ) ) by L784 , XBOOLE_0:3;
consider C103 being set such that L787: C102 in C103 and L788: C103 in ( rng D9 ) by L785 , TARSKI:def 4;
consider C104 being set such that L789: C104 in ( dom D9 ) and L790: C103 = ( D9 . C104 ) by L788 , FUNCT_1:def 3;
reconsider D64 = C104 as (Element of ( NAT )) by L789;
L791: D64 in ( Seg ( len D9 ) ) by L789 , FINSEQ_1:def 3;
L792: D64 <= D6 by L791 , L391 , FINSEQ_1:1;
L793: D64 <> ( D6 + 1 ) by L792 , NAT_1:13;
L794: ( D9 . D64 ) = ( C19 . D64 ) by L789 , FUNCT_1:47;
L795: C103 misses ( C19 . ( D6 + 1 ) ) by L794 , L790 , L793 , PROB_2:def 2;
L796: ( C103 /\ ( C19 . ( D6 + 1 ) ) ) = ( {} ) by L795 , XBOOLE_0:def 7;
thus L797: contradiction by L796 , L786 , L787 , XBOOLE_0:def 4;
end;
let C105 being Nat;
assume that
L798: 1 <= C105
and
L799: C105 <= ( len C67 );
L800: C105 in ( dom C67 ) by L798 , L799 , FINSEQ_3:25;
L801: ( C67 . C105 ) c= ( union ( rng C67 ) ) by L800 , FUNCT_1:3 , ZFMISC_1:74;
L802: ( C67 . C105 ) c= ( dom D8 ) by L801 , L392 , MESFUNC3:def 1;
L803: ( C67 . C105 ) c= ( ( dom C18 ) /\ ( union ( rng D9 ) ) ) by L802 , RELAT_1:61;
L804: C105 <= ( ( len C67 ) + 1 ) by L799 , NAT_1:12;
L805: C105 in ( Seg ( ( len C67 ) + 1 ) ) by L804 , L798 , FINSEQ_1:1;
L806: ( C99 . C105 ) = ( C67 . C105 ) by L805 , L776 , L799;
thus L807: thesis by L806 , L803 , L783 , XBOOLE_1:18 , XBOOLE_1:63;
end;
L808: 1 <= D63 by L776 , L779 , FINSEQ_1:1;
L809: D62 <= ( ( len C67 ) + 1 ) by L776 , L779 , FINSEQ_1:1;
L810: S12[ D62 , ( C99 . D62 ) ] by L776 , L779;
L811: S12[ D63 , ( C99 . D63 ) ] by L776 , L779;
per cases ;
suppose L812: D62 = ( ( len C67 ) + 1 );

L813: D63 < ( ( len C67 ) + 1 ) by L812 , L778 , L781 , XXREAL_0:1;
L814: D63 <= ( len C67 ) by L813 , NAT_1:13;
thus L815: thesis by L814 , L808 , L810 , L782 , L812;
end;
suppose L816: D62 <> ( ( len C67 ) + 1 );

L817: D62 < ( ( len C67 ) + 1 ) by L816 , L809 , XXREAL_0:1;
L818: D62 <= ( len C67 ) by L817 , NAT_1:13;
per cases ;
suppose L819: D63 = ( ( len C67 ) + 1 );

thus L820: thesis by L819 , L780 , L811 , L782 , L818;
end;
suppose L821: D63 <> ( ( len C67 ) + 1 );

L822: D63 < ( ( len C67 ) + 1 ) by L821 , L781 , XXREAL_0:1;
thus L823: thesis by L822 , L778 , L810 , L811 , L817 , NAT_1:13 , PROB_2:def 2;
end;
end;
end;
suppose L826: ((not C100 in ( dom C99 )) or (not C101 in ( dom C99 )));

per cases  by L826;
suppose L827: (not C100 in ( dom C99 ));

L828: ( C99 . C100 ) = ( {} ) by L827 , FUNCT_1:def 2;
thus L829: thesis by L828 , XBOOLE_1:65;
end;
suppose L830: (not C101 in ( dom C99 ));

L831: ( C99 . C101 ) = ( {} ) by L830 , FUNCT_1:def 2;
thus L832: thesis by L831 , XBOOLE_1:65;
end;
end;
end;
L835: ( len C99 ) = ( ( len C67 ) + 1 ) by L776 , FINSEQ_1:def 3;
L836: ( Seg ( len C99 ) ) = ( Seg ( ( len C67 ) + 1 ) ) by L776 , FINSEQ_1:def 3;
defpred S13[ Nat , set ] means (($1 <= ( len C69 ) implies $2 = ( ( C68 . $1 ) * ( ( C16 * C99 ) . $1 ) )) & ($1 = ( ( len C69 ) + 1 ) implies $2 = ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) )));
L837: (for B101 being Nat holds (B101 in ( Seg ( ( len C69 ) + 1 ) ) implies (ex B102 being (Element of ( ExtREAL )) st S13[ B101 , B102 ])))
proof
let C106 being Nat;
assume L838: C106 in ( Seg ( ( len C69 ) + 1 ) );
per cases ;
suppose L839: C106 <> ( ( len C69 ) + 1 );

reconsider D65 = ( ( C68 . C106 ) * ( ( C16 * C99 ) . C106 ) ) as (Element of ( ExtREAL ));
take D65;
thus L840: thesis by L839;
end;
suppose L841: C106 = ( ( len C69 ) + 1 );

reconsider D66 = ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) as (Element of ( ExtREAL ));
take D66;
thus L842: thesis by L841 , NAT_1:13;
end;
end;
consider C107 being (FinSequence of ( ExtREAL )) such that L844: (( dom C107 ) = ( Seg ( ( len C69 ) + 1 ) ) & (for B103 being Nat holds (B103 in ( Seg ( ( len C69 ) + 1 ) ) implies S13[ B103 , ( C107 . B103 ) ]))) from FINSEQ_1:sch 5(L837);
L845: ( len C69 ) = ( len C67 ) by L395 , FINSEQ_3:29;
L846: ( len C107 ) = ( ( len C67 ) + 1 ) by L845 , L844 , FINSEQ_1:def 3;
L847: ( len C107 ) in ( dom C99 ) by L846 , L776 , FINSEQ_1:4;
L848: ( len C107 ) in ( Seg ( ( len C67 ) + 1 ) ) by L846 , FINSEQ_1:4;
L849: ( ( C16 * C19 ) . ( D6 + 1 ) ) = ( C16 . ( C19 . ( D6 + 1 ) ) ) by L388 , FINSEQ_1:4 , FUNCT_1:13
.= ( C16 . ( C99 . ( len C107 ) ) ) by L776 , L846 , L848
.= ( ( C16 * C99 ) . ( len C107 ) ) by L847 , FUNCT_1:13;
L850: (for B104 being Nat holds (B104 in ( dom C107 ) implies ( C107 . B104 ) = ( ( C93 . B104 ) * ( ( C16 * C99 ) . B104 ) )))
proof
let C108 being Nat;
assume L851: C108 in ( dom C107 );
L852: S11[ C108 , ( C93 . C108 ) ] by L851 , L675 , L760 , L844 , L845;
per cases ;
suppose L853: C108 = ( ( len C69 ) + 1 );

thus L854: thesis by L853 , L759 , L844 , L845 , L846 , L849 , L851 , L852 , FINSEQ_1:6;
end;
suppose L855: C108 <> ( ( len C69 ) + 1 );

L856: C108 <= ( ( len C69 ) + 1 ) by L844 , L851 , FINSEQ_1:1;
L857: C108 < ( ( len C69 ) + 1 ) by L856 , L855 , XXREAL_0:1;
L858: C108 <= ( len C68 ) by L857 , L760 , L845 , NAT_1:13;
L859: ( C93 . C108 ) = ( C68 . C108 ) by L858 , L675 , L760 , L844 , L845 , L851;
thus L860: thesis by L859 , L760 , L844 , L845 , L851 , L858;
end;
end;
reconsider D67 = C99 as (Finite_Sep_Sequence of C15) by L777 , PROB_2:def 2;
L862: ( len C67 ) = ( len C69 ) by L395 , FINSEQ_3:29;
L863: ( len C107 ) = ( ( len C69 ) + 1 ) by L844 , FINSEQ_1:def 3;
L864: ( len C107 ) in ( Seg ( ( len C69 ) + 1 ) ) by L863 , FINSEQ_1:4;
L865: ( C107 . ( len C107 ) ) = ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) by L864 , L844 , L863;
L866: (for B105 being Nat holds ((1 <= B105 & B105 <= ( len C107 )) implies ( C107 . B105 ) = ( ( C69 ^ <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> ) . B105 )))
proof
let C109 being Nat;
assume that
L867: 1 <= C109
and
L868: C109 <= ( len C107 );
per cases ;
suppose L869: C109 = ( len C107 );

thus L870: thesis by L869 , L863 , L865 , FINSEQ_1:42;
end;
suppose L871: C109 <> ( len C107 );

L872: C109 < ( len C107 ) by L871 , L868 , XXREAL_0:1;
L873: C109 <= ( len C69 ) by L872 , L863 , NAT_1:13;
L874: C109 in ( dom C69 ) by L873 , L867 , FINSEQ_3:25;
L875: ( ( C69 ^ <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> ) . C109 ) = ( C69 . C109 ) by L874 , FINSEQ_1:def 7
.= ( ( C68 . C109 ) * ( ( C16 * C67 ) . C109 ) ) by L396 , L874
.= ( ( C68 . C109 ) * ( C16 . ( C67 . C109 ) ) ) by L395 , L874 , FUNCT_1:13;
L876: C109 in ( Seg ( len C107 ) ) by L867 , L868 , FINSEQ_1:1;
L877: ( C16 . ( D67 . C109 ) ) = ( ( C16 * D67 ) . C109 ) by L876 , L776 , L862 , L863 , FUNCT_1:13;
L878: ( D67 . C109 ) = ( C67 . C109 ) by L776 , L862 , L863 , L873 , L876;
thus L879: thesis by L878 , L844 , L863 , L873 , L875 , L876 , L877;
end;
end;
L881: ( len ( C69 ^ <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> ) ) = ( ( len C69 ) + 1 ) by FINSEQ_2:16
.= ( len C107 ) by L844 , FINSEQ_1:def 3;
L882: C107 = ( C69 ^ <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> ) by L881 , L866 , FINSEQ_1:14;
L883: ( len C21 ) = ( D6 + 1 ) by L83 , L85 , FINSEQ_3:29;
L884: C21 = ( C21 | ( D6 + 1 ) ) by L883 , FINSEQ_1:58
.= ( C21 | ( Seg ( D6 + 1 ) ) ) by FINSEQ_1:def 15
.= ( D13 ^ <* ( C21 . ( D6 + 1 ) ) *> ) by L83 , L677 , FINSEQ_5:10
.= ( D13 ^ <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> ) by L83 , L84 , L677;
L885: ( dom C67 ) <> ( {} )
proof
assume L886: ( dom C67 ) = ( {} );
L887: ( {} ) = ( union ( rng C67 ) ) by L886 , RELAT_1:42 , ZFMISC_1:2
.= ( dom D8 ) by L392 , MESFUNC3:def 1;
thus L888: contradiction by L887 , L385;
end;
L889: C68 <> ( {} ) by L885 , L392 , MESFUNC3:def 1 , RELAT_1:38;
L890: ( len C68 ) in ( Seg ( len C68 ) ) by L889 , FINSEQ_1:3;
L891: 1 <= ( len C68 ) by L890 , FINSEQ_1:1;
L892: (for B106 being Nat holds ((1 <= B106 & B106 <= ( len D67 )) implies ( D67 . B106 ) = ( ( C67 ^ <* ( C19 . ( D6 + 1 ) ) *> ) . B106 )))
proof
let C110 being Nat;
assume that
L893: 1 <= C110
and
L894: C110 <= ( len D67 );
L895: C110 in ( Seg ( ( len C67 ) + 1 ) ) by L836 , L893 , L894 , FINSEQ_1:1;
L896: S12[ C110 , ( D67 . C110 ) ] by L895 , L776;
per cases ;
suppose L897: C110 = ( ( len C67 ) + 1 );

thus L898: thesis by L897 , L896 , FINSEQ_1:42;
end;
suppose L899: C110 <> ( ( len C67 ) + 1 );

L900: C110 < ( ( len C67 ) + 1 ) by L899 , L835 , L894 , XXREAL_0:1;
L901: C110 <= ( len C67 ) by L900 , NAT_1:13;
L902: C110 in ( dom C67 ) by L901 , L893 , FINSEQ_3:25;
thus L903: thesis by L902 , L896 , L900 , FINSEQ_1:def 7 , NAT_1:13;
end;
end;
L905: ( len D67 ) = ( ( len C67 ) + 1 ) by L776 , FINSEQ_1:def 3
.= ( ( len C67 ) + ( len <* ( C19 . ( D6 + 1 ) ) *> ) ) by FINSEQ_1:39
.= ( len ( C67 ^ <* ( C19 . ( D6 + 1 ) ) *> ) ) by FINSEQ_1:22;
L906: D67 = ( C67 ^ <* ( C19 . ( D6 + 1 ) ) *> ) by L905 , L892 , FINSEQ_1:14;
L907: ( rng D67 ) = ( ( rng C67 ) \/ ( rng <* ( C19 . ( D6 + 1 ) ) *> ) ) by L906 , FINSEQ_1:31
.= ( ( rng C67 ) \/ { ( C19 . ( D6 + 1 ) ) } ) by FINSEQ_1:38;
L908: ( C19 | ( Seg ( D6 + 1 ) ) ) = ( D9 ^ <* ( C19 . ( D6 + 1 ) ) *> ) by L388 , FINSEQ_1:4 , FINSEQ_5:10;
L909: ( D9 ^ <* ( C19 . ( D6 + 1 ) ) *> ) = ( C19 | ( D6 + 1 ) ) by L908 , FINSEQ_1:def 15
.= C19 by L85 , FINSEQ_1:58;
L910: ( rng C19 ) = ( ( rng D9 ) \/ ( rng <* ( C19 . ( D6 + 1 ) ) *> ) ) by L909 , FINSEQ_1:31
.= ( ( rng D9 ) \/ { ( C19 . ( D6 + 1 ) ) } ) by FINSEQ_1:38;
L911: ( dom C18 ) = ( union ( ( rng D9 ) \/ { ( C19 . ( D6 + 1 ) ) } ) ) by L910 , L82 , MESFUNC3:def 1
.= ( ( dom D8 ) \/ ( union { ( C19 . ( D6 + 1 ) ) } ) ) by L94 , ZFMISC_1:78
.= ( ( union ( rng C67 ) ) \/ ( union { ( C19 . ( D6 + 1 ) ) } ) ) by L392 , MESFUNC3:def 1
.= ( union ( rng D67 ) ) by L907 , ZFMISC_1:78;
L912: (for B107 being Nat holds (B107 in ( dom D67 ) implies (for B108 being set holds (B108 in ( D67 . B107 ) implies ( C18 . B108 ) = ( C93 . B107 )))))
proof
let C111 being Nat;
assume L913: C111 in ( dom D67 );
L914: S12[ C111 , ( D67 . C111 ) ] by L913 , L776;
L915: C111 <= ( ( len C67 ) + 1 ) by L776 , L913 , FINSEQ_1:1;
let C112 being set;
assume L916: C112 in ( D67 . C111 );
L917: S11[ C111 , ( C93 . C111 ) ] by L776 , L675 , L760 , L913;
L918: 1 <= C111 by L776 , L913 , FINSEQ_1:1;
per cases ;
suppose L919: C111 = ( ( len C67 ) + 1 );

L920: ( D6 + 1 ) in ( dom C19 ) by L388 , FINSEQ_1:4;
thus L921: thesis by L920 , L82 , L759 , L914 , L917 , L916 , L919 , FINSEQ_1:6 , MESFUNC3:def 1;
end;
suppose L922: C111 <> ( ( len C67 ) + 1 );

L923: C111 < ( ( len C67 ) + 1 ) by L922 , L915 , XXREAL_0:1;
L924: C111 <= ( len C67 ) by L923 , NAT_1:13;
L925: C111 in ( Seg ( len C67 ) ) by L924 , L918 , FINSEQ_1:1;
L926: C111 in ( dom C67 ) by L925 , FINSEQ_1:def 3;
L927: ( C67 . C111 ) in ( rng C67 ) by L926 , FUNCT_1:3;
L928: ( D67 . C111 ) in ( rng D67 ) by L913 , FUNCT_1:3;
L929: C112 in ( dom C18 ) by L928 , L911 , L916 , TARSKI:def 4;
L930: ( union ( rng C67 ) ) = ( union ( rng D9 ) ) by L94 , L392 , MESFUNC3:def 1;
L931: C112 in ( union ( rng D9 ) ) by L930 , L914 , L916 , L923 , L927 , NAT_1:13 , TARSKI:def 4;
L932: C112 in ( ( dom C18 ) /\ ( union ( rng D9 ) ) ) by L931 , L929 , XBOOLE_0:def 4;
L933: C112 in ( dom D8 ) by L932 , RELAT_1:61;
L934: C111 in ( Seg ( len C67 ) ) by L918 , L924 , FINSEQ_1:1;
L935: C111 in ( dom C67 ) by L934 , FINSEQ_1:def 3;
L936: ( D8 . C112 ) = ( C93 . C111 ) by L935 , L392 , L760 , L914 , L917 , L916 , L923 , MESFUNC3:def 1 , NAT_1:13;
thus L937: thesis by L936 , L933 , FUNCT_1:47;
end;
end;
L939: D67 , C93 are_Re-presentation_of C18 by L912 , L776 , L675 , L760 , L911 , MESFUNC3:def 1;
L940: 1 <= ( ( len C68 ) + 1 ) by NAT_1:11;
L941: 1 in ( Seg ( ( len C68 ) + 1 ) ) by L940 , FINSEQ_1:1;
L942: ( C93 . 1 ) = ( 0. ) by L941 , L393 , L675 , L891;
L943: ( integral (C14 , C15 , C16 , C18) ) = ( Sum C107 ) by L942 , L79 , L81 , L776 , L688 , L844 , L845 , L850 , L939 , MESFUNC3:def 2
.= ( ( Sum C69 ) + ( Sum <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * D67 ) . ( len C107 ) ) ) *> ) ) by L849 , L703 , L882 , EXTREAL1:10
.= ( ( integral (C14 , C15 , C16 , D8) ) + ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * D67 ) . ( len C107 ) ) ) ) by L397 , EXTREAL1:8
.= ( ( Sum D13 ) + ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) ) by L78 , L107 , L88 , L116 , L92 , L385 , L398 , L391 , L849
.= ( ( Sum D13 ) + ( Sum <* ( ( C20 . ( D6 + 1 ) ) * ( ( C16 * C19 ) . ( D6 + 1 ) ) ) *> ) ) by EXTREAL1:8
.= ( Sum C21 ) by L703 , L735 , L884 , EXTREAL1:10;
thus L944: thesis by L943;
end;
end;
thus L946: thesis by L405;
end;
end;
thus L948: thesis by L117;
end;
L949: S4[ ( 0 ) ]
proof
let C113 being (PartFunc of C14 , ( ExtREAL ));
let C114 being (Finite_Sep_Sequence of C15);
let C115 , C116 being (FinSequence of ( ExtREAL ));
assume that
L950: C113 is_simple_func_in C15
and
L951: ( dom C113 ) <> ( {} )
and
L952: (for B109 being set holds (B109 in ( dom C113 ) implies ( 0. ) <= ( C113 . B109 )))
and
L953: C114 , C115 are_Re-presentation_of C113
and
L954: ( dom C116 ) = ( dom C114 )
and
L955: (for B110 being Nat holds (B110 in ( dom C116 ) implies ( C116 . B110 ) = ( ( C115 . B110 ) * ( ( C16 * C114 ) . B110 ) )))
and
L956: ( len C114 ) = ( 0 );
L957: ( Seg ( len C114 ) ) = ( {} ) by L956;
L958: ( dom C114 ) = ( {} ) by L957 , FINSEQ_1:def 3;
L959: ( union ( rng C114 ) ) = ( {} ) by L958 , RELAT_1:42 , ZFMISC_1:2;
thus L960: thesis by L959 , L951 , L953 , MESFUNC3:def 1;
end;
L961: (for B111 being Nat holds S4[ B111 ]) from NAT_1:sch 2(L949 , L77);
thus L962: thesis by L961;
end;
theorem
L963: (for B112 being non  empty set holds (for B113 being (SigmaField of B112) holds (for B114 being (PartFunc of B112 , ( ExtREAL )) holds (for B115 being (sigma_Measure of B113) holds (for B116 being (Finite_Sep_Sequence of B113) holds (for B117 , B118 being (FinSequence of ( ExtREAL )) holds ((B114 is_simple_func_in B113 & ( dom B114 ) <> ( {} ) & (for B119 being set holds (B119 in ( dom B114 ) implies ( 0. ) <= ( B114 . B119 ))) & B116 , B117 are_Re-presentation_of B114 & ( dom B118 ) = ( dom B116 ) & (for B120 being Nat holds (B120 in ( dom B118 ) implies ( B118 . B120 ) = ( ( B117 . B120 ) * ( ( B115 * B116 ) . B120 ) )))) implies ( integral (B112 , B113 , B115 , B114) ) = ( Sum B118 ))))))))
proof
let C117 being non  empty set;
let C118 being (SigmaField of C117);
let C119 being (PartFunc of C117 , ( ExtREAL ));
let C120 being (sigma_Measure of C118);
let C121 being (Finite_Sep_Sequence of C118);
let C122 , C123 being (FinSequence of ( ExtREAL ));
L964: ( len C121 ) = ( len C121 );
assume L965: (C119 is_simple_func_in C118 & ( dom C119 ) <> ( {} ) & (for B121 being set holds (B121 in ( dom C119 ) implies ( 0. ) <= ( C119 . B121 ))) & C121 , C122 are_Re-presentation_of C119 & ( dom C123 ) = ( dom C121 ) & (for B122 being Nat holds (B122 in ( dom C123 ) implies ( C123 . B122 ) = ( ( C122 . B122 ) * ( ( C120 * C121 ) . B122 ) ))));
thus L966: thesis by L965 , L964 , L76;
end;
theorem
L967: (for B123 being non  empty set holds (for B124 being (SigmaField of B123) holds (for B125 being (PartFunc of B123 , ( ExtREAL )) holds (for B126 being (sigma_Measure of B124) holds ((B125 is_simple_func_in B124 & ( dom B125 ) <> ( {} ) & (for B127 being set holds (B127 in ( dom B125 ) implies ( 0. ) <= ( B125 . B127 )))) implies (ex B128 being (Finite_Sep_Sequence of B124) st (ex B129 , B130 being (FinSequence of ( ExtREAL )) st (B128 , B129 are_Re-presentation_of B125 & ( dom B130 ) = ( dom B128 ) & (for B131 being Nat holds (B131 in ( dom B130 ) implies ( B130 . B131 ) = ( ( B129 . B131 ) * ( ( B126 * B128 ) . B131 ) ))) & ( integral (B123 , B124 , B126 , B125) ) = ( Sum B130 )))))))))
proof
let C124 being non  empty set;
let C125 being (SigmaField of C124);
let C126 being (PartFunc of C124 , ( ExtREAL ));
let C127 being (sigma_Measure of C125);
assume that
L968: C126 is_simple_func_in C125
and
L969: (( dom C126 ) <> ( {} ) & (for B132 being set holds (B132 in ( dom C126 ) implies ( 0. ) <= ( C126 . B132 ))));
consider C128 being (Finite_Sep_Sequence of C125), C129 being (FinSequence of ( ExtREAL )) such that L970: C128 , C129 are_Re-presentation_of C126 by L968 , MESFUNC3:12;
L971: (ex B133 being (FinSequence of ( ExtREAL )) st (( dom B133 ) = ( dom C128 ) & (for B134 being Nat holds (B134 in ( dom B133 ) implies ( B133 . B134 ) = ( ( C129 . B134 ) * ( ( C127 * C128 ) . B134 ) )))))
proof
deffunc H4(Nat) = ( ( C129 . $1 ) * ( ( C127 * C128 ) . $1 ) );
consider C130 being (FinSequence of ( ExtREAL )) such that L972: (( len C130 ) = ( len C128 ) & (for B135 being Nat holds (B135 in ( dom C130 ) implies ( C130 . B135 ) = H4(B135)))) from FINSEQ_2:sch 1;
take C130;
L973: ( dom C130 ) = ( Seg ( len C128 ) ) by L972 , FINSEQ_1:def 3
.= ( dom C128 ) by FINSEQ_1:def 3;
thus L974: thesis by L973 , L972;
end;
consider C131 being (FinSequence of ( ExtREAL )) such that L975: (( dom C131 ) = ( dom C128 ) & (for B136 being Nat holds (B136 in ( dom C131 ) implies ( C131 . B136 ) = ( ( C129 . B136 ) * ( ( C127 * C128 ) . B136 ) )))) by L971;
L976: ( integral (C124 , C125 , C127 , C126) ) = ( Sum C131 ) by L968 , L969 , L970 , L975 , L963;
thus L977: thesis by L976 , L970 , L975;
end;
theorem
L978: (for B137 being non  empty set holds (for B138 being (SigmaField of B137) holds (for B139 being (sigma_Measure of B138) holds (for B140 , B141 being (PartFunc of B137 , ( ExtREAL )) holds ((B140 is_simple_func_in B138 & ( dom B140 ) <> ( {} ) & (for B142 being set holds (B142 in ( dom B140 ) implies ( 0. ) <= ( B140 . B142 ))) & B141 is_simple_func_in B138 & ( dom B141 ) = ( dom B140 ) & (for B143 being set holds (B143 in ( dom B141 ) implies ( 0. ) <= ( B141 . B143 )))) implies (( B140 + B141 ) is_simple_func_in B138 & ( dom ( B140 + B141 ) ) <> ( {} ) & (for B144 being set holds (B144 in ( dom ( B140 + B141 ) ) implies ( 0. ) <= ( ( B140 + B141 ) . B144 ))) & ( integral (B137 , B138 , B139 , ( B140 + B141 )) ) = ( ( integral (B137 , B138 , B139 , B140) ) + ( integral (B137 , B138 , B139 , B141) ) )))))))
proof
let C132 being non  empty set;
let C133 being (SigmaField of C132);
let C134 being (sigma_Measure of C133);
let C135 , C136 being (PartFunc of C132 , ( ExtREAL ));
assume that
L979: C135 is_simple_func_in C133
and
L980: ( dom C135 ) <> ( {} )
and
L981: (for B145 being set holds (B145 in ( dom C135 ) implies ( 0. ) <= ( C135 . B145 )))
and
L982: C136 is_simple_func_in C133
and
L983: ( dom C136 ) = ( dom C135 )
and
L984: (for B146 being set holds (B146 in ( dom C136 ) implies ( 0. ) <= ( C136 . B146 )));
L985: C136 is  real-valued by L982 , MESFUNC2:def 4;
L986: ( dom ( C135 + C136 ) ) = ( ( dom C135 ) /\ ( dom C135 ) ) by L985 , L983 , MESFUNC2:2
.= ( dom C135 );
consider C137 being (Finite_Sep_Sequence of C133), C138 , C139 being (FinSequence of ( ExtREAL )) such that L987: C137 , C138 are_Re-presentation_of C136 and L988: ( dom C139 ) = ( dom C137 ) and L989: (for B147 being Nat holds (B147 in ( dom C139 ) implies ( C139 . B147 ) = ( ( C138 . B147 ) * ( ( C134 * C137 ) . B147 ) ))) and L990: ( integral (C132 , C133 , C134 , C136) ) = ( Sum C139 ) by L980 , L982 , L983 , L984 , L967;
set D68 = ( len C138 );
consider C140 being (Finite_Sep_Sequence of C133), C141 , C142 being (FinSequence of ( ExtREAL )) such that L991: C140 , C141 are_Re-presentation_of C135 and L992: ( dom C142 ) = ( dom C140 ) and L993: (for B148 being Nat holds (B148 in ( dom C142 ) implies ( C142 . B148 ) = ( ( C141 . B148 ) * ( ( C134 * C140 ) . B148 ) ))) and L994: ( integral (C132 , C133 , C134 , C135) ) = ( Sum C142 ) by L979 , L980 , L981 , L967;
deffunc H5(Nat) = ( C138 . ( ( ( $1 -' 1 ) mod D68 ) + 1 ) );
deffunc H6(Nat) = ( C141 . ( ( ( $1 -' 1 ) div D68 ) + 1 ) );
set D69 = ( len C141 );
L995: ( dom C140 ) = ( dom C141 ) by L991 , MESFUNC3:def 1;
deffunc H7(Nat) = ( ( C140 . ( ( ( $1 -' 1 ) div D68 ) + 1 ) ) /\ ( C137 . ( ( ( $1 -' 1 ) mod D68 ) + 1 ) ) );
consider C143 being FinSequence such that L996: ( len C143 ) = ( D69 * D68 ) and L997: (for B149 being Nat holds (B149 in ( dom C143 ) implies ( C143 . B149 ) = H7(B149))) from FINSEQ_1:sch 2;
L998: ( dom C143 ) = ( Seg ( D69 * D68 ) ) by L996 , FINSEQ_1:def 3;
L999: ( dom C137 ) = ( dom C138 ) by L987 , MESFUNC3:def 1;
L1000:
now
reconsider D70 = D69 , D71 = D68 as Nat;
let C144 being Nat;
set D72 = ( ( ( C144 -' 1 ) div D68 ) + 1 );
set D73 = ( ( ( C144 -' 1 ) mod D68 ) + 1 );
assume L1001: C144 in ( dom C143 );
L1002: C144 in ( Seg ( D69 * D68 ) ) by L1001 , L996 , FINSEQ_1:def 3;
L1003: C144 <= ( D69 * D68 ) by L1002 , FINSEQ_1:1;
L1004: ( C144 -' 1 ) <= ( ( D69 * D68 ) -' 1 ) by L1003 , NAT_D:42;
L1005: ( ( C144 -' 1 ) div D68 ) <= ( ( ( D69 * D68 ) -' 1 ) div D68 ) by L1004 , NAT_2:24;
L1006: 1 <= C144 by L1002 , FINSEQ_1:1;
L1007: (D71 divides ( D70 * D71 ) & 1 <= ( D69 * D68 )) by L1006 , L1003 , NAT_D:def 3 , XXREAL_0:2;
L1008: D68 <> ( 0 ) by L1002;
L1009: D68 >= ( ( 0 ) + 1 ) by L1008 , NAT_1:13;
L1010: ( ( ( D70 * D71 ) -' 1 ) div D71 ) = ( ( ( D70 * D71 ) div D71 ) - 1 ) by L1009 , L1007 , NAT_2:15;
L1011: ( ( ( C144 -' 1 ) div D68 ) + 1 ) <= ( ( D69 * D68 ) div D68 ) by L1010 , L1005 , XREAL_1:19;
reconsider D74 = D69 , D75 = D68 as Nat;
L1012: (D72 >= ( ( 0 ) + 1 ) & D72 <= D74) by L1008 , L1011 , NAT_D:18 , XREAL_1:6;
L1013: D72 in ( Seg D74 ) by L1012 , FINSEQ_1:1;
L1014: D72 in ( dom C140 ) by L1013 , L995 , FINSEQ_1:def 3;
L1015: ( C140 . D72 ) in ( rng C140 ) by L1014 , FUNCT_1:3;
L1016: ( ( C144 -' 1 ) mod D75 ) < D75 by L1008 , NAT_D:1;
L1017: (D73 >= ( ( 0 ) + 1 ) & D73 <= D75) by L1016 , NAT_1:13;
L1018: D73 in ( Seg D75 ) by L1017 , FINSEQ_1:1;
L1019: D73 in ( dom C137 ) by L1018 , L999 , FINSEQ_1:def 3;
L1020: ( C137 . D73 ) in ( rng C137 ) by L1019 , FUNCT_1:3;
L1021: (( rng C140 ) c= C133 & ( rng C137 ) c= C133) by FINSEQ_1:def 4;
L1022: ( ( C140 . D72 ) /\ ( C137 . D73 ) ) in C133 by L1021 , L1015 , L1020 , MEASURE1:34;
thus L1023: ( C143 . C144 ) in C133 by L1022 , L997 , L1001;
end;
reconsider D76 = C143 as (FinSequence of C133) by L1000 , FINSEQ_2:12;
L1024: (for B150 , B151 being Nat holds ((B150 in ( dom D76 ) & B151 in ( dom D76 ) & B150 <> B151) implies ( D76 . B150 ) misses ( D76 . B151 )))
proof
reconsider D77 = D69 , D78 = D68 as Nat;
let C145 , C146 being Nat;
assume that
L1025: C145 in ( dom D76 )
and
L1026: C146 in ( dom D76 )
and
L1027: C145 <> C146;
L1028: C146 in ( Seg ( D69 * D68 ) ) by L996 , L1026 , FINSEQ_1:def 3;
set D79 = ( ( ( C146 -' 1 ) mod D68 ) + 1 );
set D80 = ( ( ( C146 -' 1 ) div D68 ) + 1 );
set D81 = ( ( ( C145 -' 1 ) mod D68 ) + 1 );
set D82 = ( ( ( C145 -' 1 ) div D68 ) + 1 );
L1029: ( D76 . C145 ) = ( ( C140 . D82 ) /\ ( C137 . D81 ) ) by L997 , L1025;
L1030: C145 in ( Seg ( D69 * D68 ) ) by L996 , L1025 , FINSEQ_1:def 3;
L1031: C145 <= ( D69 * D68 ) by L1030 , FINSEQ_1:1;
L1032: 1 <= C145 by L1030 , FINSEQ_1:1;
L1033: (D78 divides ( D77 * D78 ) & 1 <= ( D69 * D68 )) by L1032 , L1031 , NAT_D:def 3 , XXREAL_0:2;
L1034: D68 <> ( 0 ) by L1030;
L1035: D68 >= ( ( 0 ) + 1 ) by L1034 , NAT_1:13;
L1036: ( ( ( D77 * D78 ) -' 1 ) div D78 ) = ( ( ( D77 * D78 ) div D78 ) - 1 ) by L1035 , L1033 , NAT_2:15;
L1037: ( C145 -' 1 ) <= ( ( D69 * D68 ) -' 1 ) by L1031 , NAT_D:42;
L1038: ( ( C145 -' 1 ) div D68 ) <= ( ( ( D69 * D68 ) div D68 ) - 1 ) by L1037 , L1036 , NAT_2:24;
L1039: ( ( ( C145 -' 1 ) div D68 ) + 1 ) <= ( ( D69 * D68 ) div D68 ) by L1038 , XREAL_1:19;
reconsider D83 = D69 , D84 = D68 as Nat;
L1040: (D82 >= ( ( 0 ) + 1 ) & D82 <= D83) by L1034 , L1039 , NAT_D:18 , XREAL_1:6;
L1041: D82 in ( Seg D83 ) by L1040 , FINSEQ_1:1;
L1042: D82 in ( dom C140 ) by L1041 , L995 , FINSEQ_1:def 3;
L1043: 1 <= C146 by L1028 , FINSEQ_1:1;
L1044: (D82 <> D80 or D81 <> D79)
proof
L1045: ( ( C146 -' 1 ) + 1 ) = ( ( ( ( D80 - 1 ) * D84 ) + ( D79 - 1 ) ) + 1 ) by L1034 , NAT_D:2;
L1046: ( ( C146 - 1 ) + 1 ) = ( ( ( D80 - 1 ) * D84 ) + D79 ) by L1045 , L1043 , XREAL_1:233;
L1047: ( ( C145 -' 1 ) + 1 ) = ( ( ( ( D82 - 1 ) * D84 ) + ( D81 - 1 ) ) + 1 ) by L1034 , NAT_D:2;
L1048: ( ( C145 - 1 ) + 1 ) = ( ( ( D82 - 1 ) * D84 ) + D81 ) by L1047 , L1032 , XREAL_1:233;
assume L1049: (D82 = D80 & D81 = D79);
thus L1050: contradiction by L1049 , L1027 , L1048 , L1046;
end;
L1051: ( ( C146 -' 1 ) mod D84 ) < D84 by L1034 , NAT_D:1;
L1052: (D79 >= ( ( 0 ) + 1 ) & D79 <= D84) by L1051 , NAT_1:13;
L1053: D79 in ( Seg D84 ) by L1052 , FINSEQ_1:1;
L1054: D79 in ( dom C137 ) by L1053 , L999 , FINSEQ_1:def 3;
L1055: ( ( C145 -' 1 ) mod D84 ) < D84 by L1034 , NAT_D:1;
L1056: (D81 >= ( ( 0 ) + 1 ) & D81 <= D84) by L1055 , NAT_1:13;
L1057: D81 in ( Seg D84 ) by L1056 , FINSEQ_1:1;
L1058: D81 in ( dom C137 ) by L1057 , L999 , FINSEQ_1:def 3;
L1059: C146 <= ( D83 * D84 ) by L1028 , FINSEQ_1:1;
L1060: ( C146 -' 1 ) <= ( ( D83 * D84 ) -' 1 ) by L1059 , NAT_D:42;
L1061: ( ( C146 -' 1 ) div D84 ) <= ( ( ( D83 * D84 ) div D84 ) - 1 ) by L1060 , L1036 , NAT_2:24;
L1062: ( ( ( C146 -' 1 ) div D84 ) + 1 ) <= ( ( D83 * D84 ) div D84 ) by L1061 , XREAL_1:19;
L1063: (D80 >= ( ( 0 ) + 1 ) & D80 <= D83) by L1062 , L1034 , NAT_D:18 , XREAL_1:6;
L1064: D80 in ( Seg D83 ) by L1063 , FINSEQ_1:1;
L1065: D80 in ( dom C140 ) by L1064 , L995 , FINSEQ_1:def 3;
per cases  by L1044;
suppose L1066: D82 <> D80;

L1067: ( C140 . D82 ) misses ( C140 . D80 ) by L1066 , L1042 , L1065 , MESFUNC3:4;
L1068: ( ( D76 . C145 ) /\ ( D76 . C146 ) ) = ( ( ( C140 . D82 ) /\ ( C137 . D81 ) ) /\ ( ( C140 . D80 ) /\ ( C137 . D79 ) ) ) by L997 , L1026 , L1029
.= ( ( C140 . D82 ) /\ ( ( C137 . D81 ) /\ ( ( C140 . D80 ) /\ ( C137 . D79 ) ) ) ) by XBOOLE_1:16
.= ( ( C140 . D82 ) /\ ( ( C140 . D80 ) /\ ( ( C137 . D81 ) /\ ( C137 . D79 ) ) ) ) by XBOOLE_1:16
.= ( ( ( C140 . D82 ) /\ ( C140 . D80 ) ) /\ ( ( C137 . D81 ) /\ ( C137 . D79 ) ) ) by XBOOLE_1:16
.= ( ( {} ) /\ ( ( C137 . D81 ) /\ ( C137 . D79 ) ) ) by L1067 , XBOOLE_0:def 7
.= ( {} );
thus L1069: thesis by L1068 , XBOOLE_0:def 7;
end;
suppose L1070: D81 <> D79;

L1071: ( C137 . D81 ) misses ( C137 . D79 ) by L1070 , L1058 , L1054 , MESFUNC3:4;
L1072: ( ( D76 . C145 ) /\ ( D76 . C146 ) ) = ( ( ( C140 . D82 ) /\ ( C137 . D81 ) ) /\ ( ( C140 . D80 ) /\ ( C137 . D79 ) ) ) by L997 , L1026 , L1029
.= ( ( C140 . D82 ) /\ ( ( C137 . D81 ) /\ ( ( C140 . D80 ) /\ ( C137 . D79 ) ) ) ) by XBOOLE_1:16
.= ( ( C140 . D82 ) /\ ( ( C140 . D80 ) /\ ( ( C137 . D81 ) /\ ( C137 . D79 ) ) ) ) by XBOOLE_1:16
.= ( ( ( C140 . D82 ) /\ ( C140 . D80 ) ) /\ ( ( C137 . D81 ) /\ ( C137 . D79 ) ) ) by XBOOLE_1:16
.= ( ( ( C140 . D82 ) /\ ( C140 . D80 ) ) /\ ( {} ) ) by L1071 , XBOOLE_0:def 7
.= ( {} );
thus L1073: thesis by L1072 , XBOOLE_0:def 7;
end;
end;
reconsider D85 = D76 as (Finite_Sep_Sequence of C133) by L1024 , MESFUNC3:4;
consider C147 being (FinSequence of ( ExtREAL )) such that L1075: ( len C147 ) = ( len D85 ) and L1076: (for B152 being Nat holds (B152 in ( dom C147 ) implies ( C147 . B152 ) = H6(B152))) from FINSEQ_2:sch 1;
consider C148 being (FinSequence of ( ExtREAL )) such that L1077: ( len C148 ) = ( len D85 ) and L1078: (for B153 being Nat holds (B153 in ( dom C148 ) implies ( C148 . B153 ) = H5(B153))) from FINSEQ_2:sch 1;
L1079: ( dom C135 ) = ( union ( rng C140 ) ) by L991 , MESFUNC3:def 1;
L1080: ( dom C147 ) = ( Seg ( len D85 ) ) by L1075 , FINSEQ_1:def 3;
L1081: (for B154 being Nat holds (B154 in ( dom D85 ) implies (for B155 being set holds (B155 in ( D85 . B154 ) implies ( C135 . B155 ) = ( C147 . B154 )))))
proof
reconsider D86 = D69 , D87 = D68 as Nat;
let C149 being Nat;
set D88 = ( ( ( C149 -' 1 ) div D68 ) + 1 );
assume L1082: C149 in ( dom D85 );
L1083: C149 in ( Seg ( len D85 ) ) by L1082 , FINSEQ_1:def 3;
L1084: C149 in ( Seg ( len D85 ) ) by L1082 , FINSEQ_1:def 3;
L1085: C149 <= ( D69 * D68 ) by L1084 , L996 , FINSEQ_1:1;
L1086: D68 <> ( 0 ) by L996 , L1084;
L1087: D68 >= ( ( 0 ) + 1 ) by L1086 , NAT_1:13;
L1088: 1 <= C149 by L1084 , FINSEQ_1:1;
L1089: (D87 divides ( D86 * D87 ) & 1 <= ( D69 * D68 )) by L1088 , L1085 , NAT_D:def 3 , XXREAL_0:2;
L1090: ( ( ( D86 * D87 ) -' 1 ) div D87 ) = ( ( ( D86 * D87 ) div D87 ) - 1 ) by L1089 , L1087 , NAT_2:15;
L1091: ( ( D69 * D68 ) div D68 ) = D69 by L1086 , NAT_D:18;
L1092: ( C149 -' 1 ) <= ( ( D69 * D68 ) -' 1 ) by L1085 , NAT_D:42;
L1093: ( ( C149 -' 1 ) div D68 ) <= ( ( ( D69 * D68 ) -' 1 ) div D68 ) by L1092 , NAT_2:24;
L1094: (D88 >= ( ( 0 ) + 1 ) & D88 <= ( ( D69 * D68 ) div D68 )) by L1093 , L1090 , XREAL_1:6 , XREAL_1:19;
L1095: D88 in ( Seg D69 ) by L1094 , L1091 , FINSEQ_1:1;
L1096: D88 in ( dom C140 ) by L1095 , L995 , FINSEQ_1:def 3;
let C150 being set;
assume L1097: C150 in ( D85 . C149 );
L1098: ( D85 . C149 ) = ( ( C140 . ( ( ( C149 -' 1 ) div D68 ) + 1 ) ) /\ ( C137 . ( ( ( C149 -' 1 ) mod D68 ) + 1 ) ) ) by L997 , L1082;
L1099: C150 in ( C140 . D88 ) by L1098 , L1097 , XBOOLE_0:def 4;
thus L1100: ( C135 . C150 ) = ( C141 . D88 ) by L1099 , L991 , L1096 , MESFUNC3:def 1
.= ( C147 . C149 ) by L1076 , L1080 , L1083;
end;
L1101: ( dom C148 ) = ( Seg ( len D85 ) ) by L1077 , FINSEQ_1:def 3;
L1102: (for B156 being Nat holds (B156 in ( dom D85 ) implies (for B157 being set holds (B157 in ( D85 . B156 ) implies ( C136 . B157 ) = ( C148 . B156 )))))
proof
let C151 being Nat;
set D89 = ( ( ( C151 -' 1 ) mod D68 ) + 1 );
assume L1103: C151 in ( dom D85 );
L1104: C151 in ( Seg ( len D85 ) ) by L1103 , FINSEQ_1:def 3;
L1105: C151 in ( Seg ( len D85 ) ) by L1103 , FINSEQ_1:def 3;
L1106: D68 <> ( 0 ) by L1105 , L996;
L1107: ( ( C151 -' 1 ) mod D68 ) < D68 by L1106 , NAT_D:1;
L1108: (D89 >= ( ( 0 ) + 1 ) & D89 <= D68) by L1107 , NAT_1:13;
L1109: D89 in ( Seg D68 ) by L1108 , FINSEQ_1:1;
L1110: D89 in ( dom C137 ) by L1109 , L999 , FINSEQ_1:def 3;
let C152 being set;
assume L1111: C152 in ( D85 . C151 );
L1112: ( D85 . C151 ) = ( ( C140 . ( ( ( C151 -' 1 ) div D68 ) + 1 ) ) /\ ( C137 . ( ( ( C151 -' 1 ) mod D68 ) + 1 ) ) ) by L997 , L1103;
L1113: C152 in ( C137 . D89 ) by L1112 , L1111 , XBOOLE_0:def 4;
thus L1114: ( C136 . C152 ) = ( C138 . D89 ) by L1113 , L987 , L1110 , MESFUNC3:def 1
.= ( C148 . C151 ) by L1078 , L1101 , L1104;
end;
L1115: ( dom C136 ) = ( union ( rng C137 ) ) by L987 , MESFUNC3:def 1;
L1116: ( dom C135 ) = ( union ( rng D85 ) )
proof
thus L1117: ( dom C135 ) c= ( union ( rng D85 ) )
proof
let C153 being set;
assume L1118: C153 in ( dom C135 );
consider C154 being set such that L1119: C153 in C154 and L1120: C154 in ( rng C140 ) by L1118 , L1079 , TARSKI:def 4;
consider C155 being set such that L1121: C153 in C155 and L1122: C155 in ( rng C137 ) by L983 , L1115 , L1118 , TARSKI:def 4;
consider C156 being set such that L1123: C156 in ( dom C137 ) and L1124: C155 = ( C137 . C156 ) by L1122 , FUNCT_1:def 3;
reconsider D90 = C156 as (Element of ( NAT )) by L1123;
L1125: D90 in ( Seg ( len C138 ) ) by L999 , L1123 , FINSEQ_1:def 3;
L1126: 1 <= D90 by L1125 , FINSEQ_1:1;
consider C157 being Nat such that L1127: D90 = ( 1 + C157 ) by L1126 , NAT_1:10;
consider C158 being set such that L1128: C158 in ( dom C140 ) and L1129: C154 = ( C140 . C158 ) by L1120 , FUNCT_1:def 3;
reconsider D91 = C158 as (Element of ( NAT )) by L1128;
L1130: D91 in ( Seg ( len C141 ) ) by L995 , L1128 , FINSEQ_1:def 3;
L1131: 1 <= D91 by L1130 , FINSEQ_1:1;
consider C159 being Nat such that L1132: D91 = ( 1 + C159 ) by L1131 , NAT_1:10;
L1133: D90 <= D68 by L1125 , FINSEQ_1:1;
L1134: C157 < D68 by L1133 , L1127 , NAT_1:13;
set D92 = ( ( ( D91 - 1 ) * D68 ) + D90 );
reconsider D93 = D92 as Nat by L1132;
L1135: D93 >= ( ( 0 ) + D90 ) by L1132 , XREAL_1:6;
L1136: ( D93 -' 1 ) = ( D93 - 1 ) by L1135 , L1126 , XREAL_1:233 , XXREAL_0:2
.= ( ( C159 * D68 ) + C157 ) by L1132 , L1127;
L1137: D91 = ( ( ( D93 -' 1 ) div D68 ) + 1 ) by L1136 , L1132 , L1134 , NAT_D:def 1;
L1138: D91 <= D69 by L1130 , FINSEQ_1:1;
L1139: ( D91 - 1 ) <= ( D69 - 1 ) by L1138 , XREAL_1:9;
L1140: ( ( D91 - 1 ) * D68 ) <= ( ( D69 - 1 ) * D68 ) by L1139 , XREAL_1:64;
L1141: D93 <= ( ( ( D69 - 1 ) * D68 ) + D90 ) by L1140 , XREAL_1:6;
L1142: ( ( ( D69 - 1 ) * D68 ) + D90 ) <= ( ( ( D69 - 1 ) * D68 ) + D68 ) by L1133 , XREAL_1:6;
L1143: D93 <= ( D69 * D68 ) by L1142 , L1141 , XXREAL_0:2;
L1144: D93 >= 1 by L1126 , L1135 , XXREAL_0:2;
L1145: D93 in ( Seg ( D69 * D68 ) ) by L1144 , L1143 , FINSEQ_1:1;
L1146: D93 in ( dom D85 ) by L1145 , L996 , FINSEQ_1:def 3;
L1147: ( D85 . D93 ) in ( rng D85 ) by L1146 , FUNCT_1:def 3;
L1148: D90 = ( ( ( D93 -' 1 ) mod D68 ) + 1 ) by L1127 , L1136 , L1134 , NAT_D:def 2;
L1149: C153 in ( ( C140 . D91 ) /\ ( C137 . D90 ) ) by L1119 , L1129 , L1121 , L1124 , XBOOLE_0:def 4;
L1150: C153 in ( D85 . D93 ) by L1149 , L997 , L998 , L1137 , L1148 , L1145;
thus L1151: thesis by L1150 , L1147 , TARSKI:def 4;
end;

reconsider D94 = D69 , D95 = D68 as Nat;
let C160 being set;
assume L1152: C160 in ( union ( rng D85 ) );
consider C161 being set such that L1153: C160 in C161 and L1154: C161 in ( rng D85 ) by L1152 , TARSKI:def 4;
consider C162 being set such that L1155: C162 in ( dom D85 ) and L1156: C161 = ( D85 . C162 ) by L1154 , FUNCT_1:def 3;
reconsider D96 = C162 as (Element of ( NAT )) by L1155;
set D97 = ( ( ( D96 -' 1 ) mod D68 ) + 1 );
set D98 = ( ( ( D96 -' 1 ) div D68 ) + 1 );
L1157: ( D85 . D96 ) = ( ( C140 . D98 ) /\ ( C137 . D97 ) ) by L997 , L1155;
L1158: C160 in ( C140 . D98 ) by L1157 , L1153 , L1156 , XBOOLE_0:def 4;
L1159: D96 in ( Seg ( len D85 ) ) by L1155 , FINSEQ_1:def 3;
L1160: D96 <= ( D69 * D68 ) by L1159 , L996 , FINSEQ_1:1;
L1161: D68 <> ( 0 ) by L996 , L1159;
L1162: D68 >= ( ( 0 ) + 1 ) by L1161 , NAT_1:13;
L1163: 1 <= D96 by L1159 , FINSEQ_1:1;
L1164: (D95 divides ( D94 * D95 ) & 1 <= ( D69 * D68 )) by L1163 , L1160 , NAT_D:def 3 , XXREAL_0:2;
L1165: ( ( ( D94 * D95 ) -' 1 ) div D95 ) = ( ( ( D94 * D95 ) div D95 ) - 1 ) by L1164 , L1162 , NAT_2:15;
reconsider D99 = D98 as Nat;
L1166: ( ( D69 * D68 ) div D68 ) = D69 by L1161 , NAT_D:18;
L1167: ( D96 -' 1 ) <= ( ( D69 * D68 ) -' 1 ) by L1160 , NAT_D:42;
L1168: ( ( D96 -' 1 ) div D68 ) <= ( ( ( D69 * D68 ) div D68 ) - 1 ) by L1167 , L1165 , NAT_2:24;
L1169: (D99 >= ( ( 0 ) + 1 ) & D99 <= ( ( D69 * D68 ) div D68 )) by L1168 , XREAL_1:6 , XREAL_1:19;
L1170: D99 in ( Seg D69 ) by L1169 , L1166 , FINSEQ_1:1;
L1171: D99 in ( dom C140 ) by L1170 , L995 , FINSEQ_1:def 3;
L1172: ( C140 . D99 ) in ( rng C140 ) by L1171 , FUNCT_1:def 3;
thus L1173: thesis by L1172 , L1079 , L1158 , TARSKI:def 4;
end;
L1174: (for B158 being Nat holds (for B159 , B160 being (Element of C132) holds ((B158 in ( dom D85 ) & B159 in ( D85 . B158 ) & B160 in ( D85 . B158 )) implies ( ( C135 + C136 ) . B159 ) = ( ( C135 + C136 ) . B160 ))))
proof
reconsider D100 = D69 , D101 = D68 as Nat;
let C163 being Nat;
let C164 , C165 being (Element of C132);
assume that
L1175: C163 in ( dom D85 )
and
L1176: C164 in ( D85 . C163 )
and
L1177: C165 in ( D85 . C163 );
set D102 = ( ( ( C163 -' 1 ) mod D68 ) + 1 );
L1178: ( D85 . C163 ) = ( ( C140 . ( ( ( C163 -' 1 ) div D68 ) + 1 ) ) /\ ( C137 . ( ( ( C163 -' 1 ) mod D68 ) + 1 ) ) ) by L997 , L1175;
L1179: C164 in ( C137 . D102 ) by L1178 , L1176 , XBOOLE_0:def 4;
set D103 = ( ( ( C163 -' 1 ) div D68 ) + 1 );
L1180: C163 in ( Seg ( len D85 ) ) by L1175 , FINSEQ_1:def 3;
L1181: C163 <= ( D69 * D68 ) by L1180 , L996 , FINSEQ_1:1;
L1182: ( C163 -' 1 ) <= ( ( D69 * D68 ) -' 1 ) by L1181 , NAT_D:42;
L1183: 1 <= C163 by L1180 , FINSEQ_1:1;
L1184: (D101 divides ( D100 * D101 ) & 1 <= ( D69 * D68 )) by L1183 , L1181 , NAT_D:def 3 , XXREAL_0:2;
L1185: D68 <> ( 0 ) by L996 , L1180;
L1186: D68 >= ( ( 0 ) + 1 ) by L1185 , NAT_1:13;
L1187: ( ( ( D100 * D101 ) -' 1 ) div D101 ) = ( ( ( D100 * D101 ) div D101 ) - 1 ) by L1186 , L1184 , NAT_2:15;
L1188: ( ( C163 -' 1 ) div D68 ) <= ( ( ( D69 * D68 ) div D68 ) - 1 ) by L1187 , L1182 , NAT_2:24;
L1189: ( ( ( C163 -' 1 ) div D68 ) + 1 ) <= ( ( D69 * D68 ) div D68 ) by L1188 , XREAL_1:19;
L1190: (D103 >= ( ( 0 ) + 1 ) & D103 <= D69) by L1189 , L1185 , NAT_D:18 , XREAL_1:6;
L1191: D103 in ( Seg D69 ) by L1190 , FINSEQ_1:1;
L1192: D103 in ( dom C140 ) by L1191 , L995 , FINSEQ_1:def 3;
L1193: C164 in ( C140 . D103 ) by L1176 , L1178 , XBOOLE_0:def 4;
L1194: ( C135 . C164 ) = ( C141 . D103 ) by L1193 , L991 , L1192 , MESFUNC3:def 1;
L1195: ( ( C163 -' 1 ) mod D68 ) < D68 by L1185 , NAT_D:1;
L1196: (D102 >= ( ( 0 ) + 1 ) & D102 <= D68) by L1195 , NAT_1:13;
L1197: D102 in ( Seg D68 ) by L1196 , FINSEQ_1:1;
L1198: D102 in ( dom C137 ) by L1197 , L999 , FINSEQ_1:def 3;
L1199: C165 in ( C140 . D103 ) by L1177 , L1178 , XBOOLE_0:def 4;
L1200: ( C135 . C165 ) = ( C141 . D103 ) by L1199 , L991 , L1192 , MESFUNC3:def 1;
L1201: C165 in ( C137 . D102 ) by L1177 , L1178 , XBOOLE_0:def 4;
L1202: ( D85 . C163 ) in ( rng D85 ) by L1175 , FUNCT_1:def 3;
L1203: C165 in ( dom ( C135 + C136 ) ) by L1202 , L1116 , L986 , L1177 , TARSKI:def 4;
L1204: C164 in ( dom ( C135 + C136 ) ) by L1116 , L986 , L1176 , L1202 , TARSKI:def 4;
thus L1205: ( ( C135 + C136 ) . C164 ) = ( ( C135 . C164 ) + ( C136 . C164 ) ) by L1204 , MESFUNC1:def 3
.= ( ( C141 . D103 ) + ( C138 . D102 ) ) by L987 , L1198 , L1179 , L1194 , MESFUNC3:def 1
.= ( ( C135 . C165 ) + ( C136 . C165 ) ) by L987 , L1198 , L1201 , L1200 , MESFUNC3:def 1
.= ( ( C135 + C136 ) . C165 ) by L1203 , MESFUNC1:def 3;
end;
L1206: (ex B161 being (FinSequence of ( ExtREAL )) st (( dom B161 ) = ( dom D85 ) & (for B162 being Nat holds (B162 in ( dom B161 ) implies ( B161 . B162 ) = ( ( C148 . B162 ) * ( ( C134 * D85 ) . B162 ) )))))
proof
deffunc H8(Nat) = ( ( C148 . $1 ) * ( ( C134 * D85 ) . $1 ) );
consider C166 being (FinSequence of ( ExtREAL )) such that L1207: (( len C166 ) = ( len D85 ) & (for B163 being Nat holds (B163 in ( dom C166 ) implies ( C166 . B163 ) = H8(B163)))) from FINSEQ_2:sch 1;
take C166;
L1208: ( dom C166 ) = ( Seg ( len D85 ) ) by L1207 , FINSEQ_1:def 3
.= ( dom D85 ) by FINSEQ_1:def 3;
thus L1209: thesis by L1208 , L1207;
end;
consider C167 being (FinSequence of ( ExtREAL )) such that L1210: ( dom C167 ) = ( dom D85 ) and L1211: (for B164 being Nat holds (B164 in ( dom C167 ) implies ( C167 . B164 ) = ( ( C148 . B164 ) * ( ( C134 * D85 ) . B164 ) ))) by L1206;
L1212: (ex B165 being (FinSequence of ( ExtREAL )) st (( dom B165 ) = ( dom D85 ) & (for B166 being Nat holds (B166 in ( dom B165 ) implies ( B165 . B166 ) = ( ( C147 . B166 ) * ( ( C134 * D85 ) . B166 ) )))))
proof
deffunc H9(Nat) = ( ( C147 . $1 ) * ( ( C134 * D85 ) . $1 ) );
consider C168 being (FinSequence of ( ExtREAL )) such that L1213: (( len C168 ) = ( len D85 ) & (for B167 being Nat holds (B167 in ( dom C168 ) implies ( C168 . B167 ) = H9(B167)))) from FINSEQ_2:sch 1;
take C168;
thus L1214: thesis by L1213 , FINSEQ_3:29;
end;
consider C169 being (FinSequence of ( ExtREAL )) such that L1215: ( dom C169 ) = ( dom D85 ) and L1216: (for B168 being Nat holds (B168 in ( dom C169 ) implies ( C169 . B168 ) = ( ( C147 . B168 ) * ( ( C134 * D85 ) . B168 ) ))) by L1212;
L1217: ( dom D85 ) = ( Seg ( len C147 ) ) by L1075 , FINSEQ_1:def 3
.= ( dom C147 ) by FINSEQ_1:def 3;
L1218: D85 , C147 are_Re-presentation_of C135 by L1217 , L1116 , L1081 , MESFUNC3:def 1;
L1219: ( integral (C132 , C133 , C134 , C135) ) = ( Sum C169 ) by L1218 , L979 , L980 , L981 , L1215 , L1216 , L963;
deffunc H10(Nat) = ( ( C147 . $1 ) + ( C148 . $1 ) );
consider C170 being (FinSequence of ( ExtREAL )) such that L1220: ( len C170 ) = ( len D85 ) and L1221: (for B169 being Nat holds (B169 in ( dom C170 ) implies ( C170 . B169 ) = H10(B169))) from FINSEQ_2:sch 1;
L1222: (ex B170 being (FinSequence of ( ExtREAL )) st (( dom B170 ) = ( dom D85 ) & (for B171 being Nat holds (B171 in ( dom B170 ) implies ( B170 . B171 ) = ( ( C170 . B171 ) * ( ( C134 * D85 ) . B171 ) )))))
proof
deffunc H11(Nat) = ( ( C170 . $1 ) * ( ( C134 * D85 ) . $1 ) );
consider C171 being (FinSequence of ( ExtREAL )) such that L1223: (( len C171 ) = ( len D85 ) & (for B172 being Nat holds (B172 in ( dom C171 ) implies ( C171 . B172 ) = H11(B172)))) from FINSEQ_2:sch 1;
take C171;
thus L1224: thesis by L1223 , FINSEQ_3:29;
end;
consider C172 being (FinSequence of ( ExtREAL )) such that L1225: ( dom C172 ) = ( dom D85 ) and L1226: (for B173 being Nat holds (B173 in ( dom C172 ) implies ( C172 . B173 ) = ( ( C170 . B173 ) * ( ( C134 * D85 ) . B173 ) ))) by L1222;
L1227: ( dom C170 ) = ( Seg ( len D85 ) ) by L1220 , FINSEQ_1:def 3;
L1228: (for B174 being Nat holds (B174 in ( dom D85 ) implies (for B175 being set holds (B175 in ( D85 . B174 ) implies ( ( C135 + C136 ) . B175 ) = ( C170 . B174 )))))
proof
let C173 being Nat;
L1229: ( dom ( C135 + C136 ) ) c= C132 by RELAT_1:def 18;
assume L1230: C173 in ( dom D85 );
L1231: C173 in ( Seg ( len D85 ) ) by L1230 , FINSEQ_1:def 3;
let C174 being set;
assume L1232: C174 in ( D85 . C173 );
L1233: ( D85 . C173 ) in ( rng D85 ) by L1230 , FUNCT_1:def 3;
L1234: C174 in ( dom ( C135 + C136 ) ) by L1233 , L1116 , L986 , L1232 , TARSKI:def 4;
thus L1235: ( ( C135 + C136 ) . C174 ) = ( ( C135 . C174 ) + ( C136 . C174 ) ) by L1234 , L1229 , MESFUNC1:def 3
.= ( ( C147 . C173 ) + ( C136 . C174 ) ) by L1081 , L1230 , L1232
.= ( ( C147 . C173 ) + ( C148 . C173 ) ) by L1102 , L1230 , L1232
.= ( C170 . C173 ) by L1221 , L1227 , L1231;
end;
L1236: (for B176 being Nat holds (B176 in ( dom C167 ) implies ( 0. ) <= ( C167 . B176 )))
proof
let C175 being Nat;
set D104 = ( ( ( C175 -' 1 ) mod D68 ) + 1 );
assume L1237: C175 in ( dom C167 );
L1238: ( C167 . C175 ) = ( ( C148 . C175 ) * ( ( C134 * D85 ) . C175 ) ) by L1237 , L1211;
L1239: C175 in ( Seg ( len D85 ) ) by L1210 , L1237 , FINSEQ_1:def 3;
L1240: D68 <> ( 0 ) by L1239 , L996;
L1241: ( ( C175 -' 1 ) mod D68 ) < D68 by L1240 , NAT_D:1;
L1242: (D104 >= ( ( 0 ) + 1 ) & D104 <= D68) by L1241 , NAT_1:13;
L1243: D104 in ( Seg D68 ) by L1242 , FINSEQ_1:1;
L1244: D104 in ( dom C137 ) by L1243 , L999 , FINSEQ_1:def 3;
per cases ;
suppose L1245: ( C137 . D104 ) <> ( {} );

consider C176 being set such that L1246: C176 in ( C137 . D104 ) by L1245 , XBOOLE_0:def 1;
L1247: (( D85 . C175 ) in ( rng D85 ) & ( rng D85 ) c= C133) by L1210 , L1237 , FINSEQ_1:def 4 , FUNCT_1:3;
reconsider D105 = ( D85 . C175 ) as (Element of C133) by L1247;
reconsider D106 = ( {} ) as (Element of C133) by MEASURE1:7;
L1248: D106 c= D105 by XBOOLE_1:2;
L1249: ( C134 . ( {} ) ) <= ( C134 . D105 ) by L1248 , MEASURE1:31;
L1250: ( C137 . D104 ) c= ( dom C136 ) by L1115 , L1244 , FUNCT_1:3 , ZFMISC_1:74;
L1251: ( C136 . C176 ) = ( C138 . D104 ) by L987 , L1244 , L1246 , MESFUNC3:def 1
.= ( C148 . C175 ) by L1078 , L1101 , L1239;
L1252: ( 0. ) <= ( C148 . C175 ) by L1251 , L984 , L1246 , L1250;
L1253: ( C134 . ( {} ) ) = ( 0. ) by VALUED_0:def 19;
L1254: ( 0. ) <= ( ( C134 * D85 ) . C175 ) by L1253 , L1210 , L1237 , L1249 , FUNCT_1:13;
thus L1255: thesis by L1254 , L1238 , L1252;
end;
suppose L1256: ( C137 . D104 ) = ( {} );

L1257: ( D85 . C175 ) = ( ( C140 . ( ( ( C175 -' 1 ) div D68 ) + 1 ) ) /\ ( C137 . D104 ) ) by L997 , L1210 , L1237;
L1258: ( C134 . ( D85 . C175 ) ) = ( 0. ) by L1257 , L1256 , VALUED_0:def 19;
L1259: ( ( C134 * D85 ) . C175 ) = ( 0. ) by L1258 , L1210 , L1237 , FUNCT_1:13;
thus L1260: thesis by L1259 , L1238;
end;
end;
L1262: (not ( -infty ) in ( rng C167 ))
proof
assume L1263: ( -infty ) in ( rng C167 );
L1264: (ex B177 being set st (B177 in ( dom C167 ) & ( C167 . B177 ) = ( -infty ))) by L1263 , FUNCT_1:def 3;
thus L1265: contradiction by L1264 , L1236;
end;
L1266: ( ( C169 " { ( +infty ) } ) /\ ( C167 " { ( -infty ) } ) ) = ( ( C169 " { ( +infty ) } ) /\ ( {} ) ) by L1262 , FUNCT_1:72
.= ( {} );
L1267: (for B178 being Nat holds (B178 in ( dom C169 ) implies ( 0. ) <= ( C169 . B178 )))
proof
reconsider D107 = D69 , D108 = D68 as Nat;
let C177 being Nat;
set D109 = ( ( ( C177 -' 1 ) div D68 ) + 1 );
assume L1268: C177 in ( dom C169 );
L1269: ( C169 . C177 ) = ( ( C147 . C177 ) * ( ( C134 * D85 ) . C177 ) ) by L1268 , L1216;
L1270: C177 in ( Seg ( len D85 ) ) by L1215 , L1268 , FINSEQ_1:def 3;
L1271: C177 <= ( D69 * D68 ) by L1270 , L996 , FINSEQ_1:1;
L1272: D68 <> ( 0 ) by L996 , L1270;
L1273: D68 >= ( ( 0 ) + 1 ) by L1272 , NAT_1:13;
L1274: 1 <= C177 by L1270 , FINSEQ_1:1;
L1275: (D108 divides ( D107 * D108 ) & 1 <= ( D69 * D68 )) by L1274 , L1271 , NAT_D:def 3 , XXREAL_0:2;
L1276: ( ( ( D107 * D108 ) -' 1 ) div D108 ) = ( ( ( D107 * D108 ) div D108 ) - 1 ) by L1275 , L1273 , NAT_2:15;
L1277: ( C177 -' 1 ) <= ( ( D69 * D68 ) -' 1 ) by L1271 , NAT_D:42;
L1278: ( ( C177 -' 1 ) div D68 ) <= ( ( ( D69 * D68 ) div D68 ) - 1 ) by L1277 , L1276 , NAT_2:24;
L1279: (D109 >= ( ( 0 ) + 1 ) & D109 <= ( ( D69 * D68 ) div D68 )) by L1278 , XREAL_1:6 , XREAL_1:19;
L1280: ( ( D69 * D68 ) div D68 ) = D69 by L1272 , NAT_D:18;
L1281: D109 in ( Seg D69 ) by L1280 , L1279 , FINSEQ_1:1;
L1282: D109 in ( dom C140 ) by L1281 , L995 , FINSEQ_1:def 3;
per cases ;
suppose L1283: ( C140 . D109 ) <> ( {} );

consider C178 being set such that L1284: C178 in ( C140 . D109 ) by L1283 , XBOOLE_0:def 1;
L1285: (( D85 . C177 ) in ( rng D85 ) & ( rng D85 ) c= C133) by L1215 , L1268 , FINSEQ_1:def 4 , FUNCT_1:3;
reconsider D110 = ( D85 . C177 ) as (Element of C133) by L1285;
reconsider D111 = ( {} ) as (Element of C133) by MEASURE1:7;
L1286: D111 c= D110 by XBOOLE_1:2;
L1287: ( C134 . ( {} ) ) <= ( C134 . D110 ) by L1286 , MEASURE1:31;
L1288: ( C140 . D109 ) c= ( dom C135 ) by L1079 , L1282 , FUNCT_1:3 , ZFMISC_1:74;
L1289: ( C135 . C178 ) = ( C141 . D109 ) by L991 , L1282 , L1284 , MESFUNC3:def 1
.= ( C147 . C177 ) by L1076 , L1080 , L1270;
L1290: ( 0. ) <= ( C147 . C177 ) by L1289 , L981 , L1284 , L1288;
L1291: ( C134 . ( {} ) ) = ( 0. ) by VALUED_0:def 19;
L1292: ( 0. ) <= ( ( C134 * D85 ) . C177 ) by L1291 , L1215 , L1268 , L1287 , FUNCT_1:13;
thus L1293: thesis by L1292 , L1269 , L1290;
end;
suppose L1294: ( C140 . D109 ) = ( {} );

L1295: ( D85 . C177 ) = ( ( C140 . D109 ) /\ ( C137 . ( ( ( C177 -' 1 ) mod D68 ) + 1 ) ) ) by L997 , L1215 , L1268;
L1296: ( C134 . ( D85 . C177 ) ) = ( 0. ) by L1295 , L1294 , VALUED_0:def 19;
L1297: ( ( C134 * D85 ) . C177 ) = ( 0. ) by L1296 , L1215 , L1268 , FUNCT_1:13;
thus L1298: thesis by L1297 , L1269;
end;
end;
L1300: (not ( -infty ) in ( rng C169 ))
proof
assume L1301: ( -infty ) in ( rng C169 );
L1302: (ex B179 being set st (B179 in ( dom C169 ) & ( C169 . B179 ) = ( -infty ))) by L1301 , FUNCT_1:def 3;
thus L1303: contradiction by L1302 , L1267;
end;
L1304: ( ( C169 " { ( -infty ) } ) /\ ( C167 " { ( +infty ) } ) ) = ( ( {} ) /\ ( C167 " { ( +infty ) } ) ) by L1300 , FUNCT_1:72
.= ( {} );
L1305: ( dom ( C169 + C167 ) ) = ( ( ( dom C169 ) /\ ( dom C167 ) ) \ ( ( {} ) \/ ( {} ) ) ) by L1304 , L1266 , MESFUNC1:def 3
.= ( dom C172 ) by L1215 , L1210 , L1225;
L1306: (for B180 being Nat holds (B180 in ( dom C172 ) implies ( C172 . B180 ) = ( ( C169 + C167 ) . B180 )))
proof
reconsider D112 = D69 , D113 = D68 as Nat;
let C179 being Nat;
set D114 = ( ( ( C179 -' 1 ) div D68 ) + 1 );
set D115 = ( ( ( C179 -' 1 ) mod D68 ) + 1 );
assume L1307: C179 in ( dom C172 );
L1308: C179 in ( Seg ( len D85 ) ) by L1307 , L1225 , FINSEQ_1:def 3;
L1309: C179 <= ( D69 * D68 ) by L1308 , L996 , FINSEQ_1:1;
L1310: ( C179 -' 1 ) <= ( ( D69 * D68 ) -' 1 ) by L1309 , NAT_D:42;
L1311: 1 <= C179 by L1308 , FINSEQ_1:1;
L1312: (D113 divides ( D112 * D113 ) & 1 <= ( D69 * D68 )) by L1311 , L1309 , NAT_D:def 3 , XXREAL_0:2;
L1313: D68 <> ( 0 ) by L996 , L1308;
L1314: D68 >= ( ( 0 ) + 1 ) by L1313 , NAT_1:13;
L1315: ( ( ( D112 * D113 ) -' 1 ) div D113 ) = ( ( ( D112 * D113 ) div D113 ) - 1 ) by L1314 , L1312 , NAT_2:15;
L1316: ( ( C179 -' 1 ) div D68 ) <= ( ( ( D69 * D68 ) div D68 ) - 1 ) by L1315 , L1310 , NAT_2:24;
L1317: D114 <= ( ( D69 * D68 ) div D68 ) by L1316 , XREAL_1:19;
L1318: (D114 >= ( ( 0 ) + 1 ) & D114 <= D69) by L1317 , L1313 , NAT_D:18 , XREAL_1:6;
L1319: D114 in ( Seg D69 ) by L1318 , FINSEQ_1:1;
L1320: D114 in ( dom C140 ) by L1319 , L995 , FINSEQ_1:def 3;
L1321: ( ( C179 -' 1 ) mod D68 ) < D68 by L1313 , NAT_D:1;
L1322: (D115 >= ( ( 0 ) + 1 ) & D115 <= D68) by L1321 , NAT_1:13;
L1323: D115 in ( Seg D68 ) by L1322 , FINSEQ_1:1;
L1324: D115 in ( dom C137 ) by L1323 , L999 , FINSEQ_1:def 3;
L1325: ( ( ( C147 . C179 ) + ( C148 . C179 ) ) * ( ( C134 * D85 ) . C179 ) ) = ( ( ( C147 . C179 ) * ( ( C134 * D85 ) . C179 ) ) + ( ( C148 . C179 ) * ( ( C134 * D85 ) . C179 ) ) )
proof
per cases ;
suppose L1326: ( D85 . C179 ) <> ( {} );

L1327: ( ( C140 . D114 ) /\ ( C137 . D115 ) ) <> ( {} ) by L1326 , L997 , L1225 , L1307;
consider C180 being set such that L1328: C180 in ( ( C140 . D114 ) /\ ( C137 . D115 ) ) by L1327 , XBOOLE_0:def 1;
L1329: C180 in ( C137 . D115 ) by L1328 , XBOOLE_0:def 4;
L1330: ( C137 . D115 ) in ( rng C137 ) by L1324 , FUNCT_1:3;
L1331: C180 in ( dom C136 ) by L1330 , L1115 , L1329 , TARSKI:def 4;
L1332: ( C138 . D115 ) = ( C136 . C180 ) by L987 , L1324 , L1329 , MESFUNC3:def 1;
L1333: ( 0. ) <= ( C138 . D115 ) by L1332 , L984 , L1331;
L1334: (( 0. ) = ( C148 . C179 ) or ( 0. ) < ( C148 . C179 )) by L1333 , L1078 , L1101 , L1308;
L1335: C180 in ( C140 . D114 ) by L1328 , XBOOLE_0:def 4;
L1336: ( C140 . D114 ) in ( rng C140 ) by L1320 , FUNCT_1:3;
L1337: C180 in ( dom C135 ) by L1336 , L1079 , L1335 , TARSKI:def 4;
L1338: ( C141 . D114 ) = ( C135 . C180 ) by L991 , L1320 , L1335 , MESFUNC3:def 1;
L1339: ( 0. ) <= ( C141 . D114 ) by L1338 , L981 , L1337;
L1340: (( 0. ) = ( C147 . C179 ) or ( 0. ) < ( C147 . C179 )) by L1339 , L1076 , L1080 , L1308;
thus L1341: thesis by L1340 , L1334 , XXREAL_3:96;
end;
suppose L1342: ( D85 . C179 ) = ( {} );

L1343: ( C134 . ( D85 . C179 ) ) = ( 0. ) by L1342 , VALUED_0:def 19;
L1344: ( ( C134 * D85 ) . C179 ) = ( 0. ) by L1343 , L1225 , L1307 , FUNCT_1:13;
thus L1345: ( ( ( C147 . C179 ) + ( C148 . C179 ) ) * ( ( C134 * D85 ) . C179 ) ) = ( 0 ) by L1344
.= ( ( ( C147 . C179 ) * ( ( C134 * D85 ) . C179 ) ) + ( ( C148 . C179 ) * ( ( C134 * D85 ) . C179 ) ) ) by L1344;
end;
end;
thus L1347: ( C172 . C179 ) = ( ( C170 . C179 ) * ( ( C134 * D85 ) . C179 ) ) by L1226 , L1307
.= ( ( ( C147 . C179 ) * ( ( C134 * D85 ) . C179 ) ) + ( ( C148 . C179 ) * ( ( C134 * D85 ) . C179 ) ) ) by L1221 , L1227 , L1308 , L1325
.= ( ( C169 . C179 ) + ( ( C148 . C179 ) * ( ( C134 * D85 ) . C179 ) ) ) by L1215 , L1216 , L1225 , L1307
.= ( ( C169 . C179 ) + ( C167 . C179 ) ) by L1210 , L1211 , L1225 , L1307
.= ( ( C169 + C167 ) . C179 ) by L1305 , L1307 , MESFUNC1:def 3;
end;
L1348: ( dom ( C135 + C136 ) ) = ( ( dom C136 ) /\ ( dom C136 ) ) by L983 , L985 , MESFUNC2:2
.= ( dom C136 );
L1349:
now
let C181 being (Element of C132);
assume L1350: C181 in ( dom ( C135 + C136 ) );
L1351: |. ( ( C135 + C136 ) . C181 ) .| = |. ( ( C135 . C181 ) + ( C136 . C181 ) ) .| by L1350 , MESFUNC1:def 3;
L1352: |. ( ( C135 + C136 ) . C181 ) .| <= ( |. ( C135 . C181 ) .| + |. ( C136 . C181 ) .| ) by L1351 , EXTREAL2:13;
L1353: C136 is  real-valued by L982 , MESFUNC2:def 4;
L1354: |. ( C136 . C181 ) .| < ( +infty ) by L1353 , L1348 , L1350 , MESFUNC2:def 1;
L1355: C135 is  real-valued by L979 , MESFUNC2:def 4;
L1356: |. ( C135 . C181 ) .| < ( +infty ) by L1355 , L986 , L1350 , MESFUNC2:def 1;
L1357: ( |. ( C135 . C181 ) .| + |. ( C136 . C181 ) .| ) <> ( +infty ) by L1356 , L1354 , XXREAL_3:16;
thus L1358: |. ( ( C135 + C136 ) . C181 ) .| < ( +infty ) by L1357 , L1352 , XXREAL_0:2 , XXREAL_0:4;
end;
L1359: ( C135 + C136 ) is  real-valued by L1349 , MESFUNC2:def 1;
thus L1360: ( C135 + C136 ) is_simple_func_in C133 by L1359 , L1116 , L986 , L1174 , MESFUNC2:def 4;
thus L1361: ( dom ( C135 + C136 ) ) <> ( {} ) by L980 , L986;
thus L1362: (for B181 being set holds (B181 in ( dom ( C135 + C136 ) ) implies ( 0. ) <= ( ( C135 + C136 ) . B181 )))
proof
let C182 being set;
L1363: ( dom C135 ) c= C132 by RELAT_1:def 18;
assume L1364: C182 in ( dom ( C135 + C136 ) );
L1365: (( 0. ) <= ( C135 . C182 ) & ( 0. ) <= ( C136 . C182 )) by L1364 , L981 , L984 , L986 , L1348;
L1366: ( 0. ) <= ( ( C135 . C182 ) + ( C136 . C182 ) ) by L1365;
thus L1367: thesis by L1366 , L986 , L1364 , L1363 , MESFUNC1:def 3;
end;

L1368: ( dom D85 ) = ( dom C170 ) by L1220 , FINSEQ_3:29;
L1369: D85 , C170 are_Re-presentation_of ( C135 + C136 ) by L1368 , L1116 , L986 , L1228 , MESFUNC3:def 1;
L1370: ( integral (C132 , C133 , C134 , ( C135 + C136 )) ) = ( Sum C172 ) by L1369 , L980 , L1225 , L1226 , L986 , L1360 , L1362 , L963;
L1371: ( dom ( C169 + C167 ) ) = ( Seg ( len C172 ) ) by L1305 , FINSEQ_1:def 3;
L1372: ( C169 + C167 ) is FinSequence by L1371 , FINSEQ_1:def 2;
L1373: C172 = ( C169 + C167 ) by L1372 , L1305 , L1306 , FINSEQ_1:13;
L1374: ( dom D85 ) = ( Seg ( len C148 ) ) by L1077 , FINSEQ_1:def 3
.= ( dom C148 ) by FINSEQ_1:def 3;
L1375: D85 , C148 are_Re-presentation_of C136 by L1374 , L983 , L1116 , L1102 , MESFUNC3:def 1;
L1376: ( integral (C132 , C133 , C134 , C136) ) = ( Sum C167 ) by L1375 , L980 , L982 , L983 , L984 , L1210 , L1211 , L963;
thus L1377: thesis by L1376 , L1215 , L1210 , L1219 , L1370 , L1267 , L1236 , L1373 , L1;
end;
theorem
L1378: (for B182 being non  empty set holds (for B183 being (SigmaField of B182) holds (for B184 being (sigma_Measure of B183) holds (for B185 , B186 being (PartFunc of B182 , ( ExtREAL )) holds (for B187 being R_eal holds ((B185 is_simple_func_in B183 & ( dom B185 ) <> ( {} ) & (for B188 being set holds (B188 in ( dom B185 ) implies ( 0. ) <= ( B185 . B188 ))) & ( 0. ) <= B187 & B187 < ( +infty ) & ( dom B186 ) = ( dom B185 ) & (for B189 being set holds (B189 in ( dom B186 ) implies ( B186 . B189 ) = ( B187 * ( B185 . B189 ) )))) implies ( integral (B182 , B183 , B184 , B186) ) = ( B187 * ( integral (B182 , B183 , B184 , B185) ) )))))))
proof
let C183 being non  empty set;
let C184 being (SigmaField of C183);
let C185 being (sigma_Measure of C184);
let C186 , C187 being (PartFunc of C183 , ( ExtREAL ));
let C188 being R_eal;
assume that
L1379: C186 is_simple_func_in C184
and
L1380: ( dom C186 ) <> ( {} )
and
L1381: (for B190 being set holds (B190 in ( dom C186 ) implies ( 0. ) <= ( C186 . B190 )))
and
L1382: ( 0. ) <= C188
and
L1383: C188 < ( +infty )
and
L1384: ( dom C187 ) = ( dom C186 )
and
L1385: (for B191 being set holds (B191 in ( dom C187 ) implies ( C187 . B191 ) = ( C188 * ( C186 . B191 ) )));
L1386: (for B192 being set holds (B192 in ( dom C187 ) implies ( 0. ) <= ( C187 . B192 )))
proof
let C189 being set;
assume L1387: C189 in ( dom C187 );
L1388: ( 0. ) <= ( C186 . C189 ) by L1387 , L1381 , L1384;
L1389: ( 0. ) <= ( C188 * ( C186 . C189 ) ) by L1388 , L1382;
thus L1390: thesis by L1389 , L1385 , L1387;
end;
L1391: (ex B193 being (Finite_Sep_Sequence of C184) st (( dom C187 ) = ( union ( rng B193 ) ) & (for B194 being Nat holds (for B195 , B196 being (Element of C183) holds ((B194 in ( dom B193 ) & B195 in ( B193 . B194 ) & B196 in ( B193 . B194 )) implies ( C187 . B195 ) = ( C187 . B196 ))))))
proof
consider C190 being (Finite_Sep_Sequence of C184) such that L1392: ( dom C186 ) = ( union ( rng C190 ) ) and L1393: (for B197 being Nat holds (for B198 , B199 being (Element of C183) holds ((B197 in ( dom C190 ) & B198 in ( C190 . B197 ) & B199 in ( C190 . B197 )) implies ( C186 . B198 ) = ( C186 . B199 )))) by L1379 , MESFUNC2:def 4;
take C190;
L1394: (for B200 being Nat holds (for B201 , B202 being (Element of C183) holds ((B200 in ( dom C190 ) & B201 in ( C190 . B200 ) & B202 in ( C190 . B200 )) implies ( C187 . B201 ) = ( C187 . B202 ))))
proof
let C191 being Nat;
let C192 , C193 being (Element of C183);
assume that
L1395: C191 in ( dom C190 )
and
L1396: C192 in ( C190 . C191 )
and
L1397: C193 in ( C190 . C191 );
L1398: ( C190 . C191 ) in ( rng C190 ) by L1395 , FUNCT_1:3;
L1399: C193 in ( dom C187 ) by L1398 , L1384 , L1392 , L1397 , TARSKI:def 4;
L1400: ( C187 . C193 ) = ( C188 * ( C186 . C193 ) ) by L1399 , L1385;
L1401: C192 in ( dom C187 ) by L1384 , L1392 , L1396 , L1398 , TARSKI:def 4;
L1402: ( C187 . C192 ) = ( C188 * ( C186 . C192 ) ) by L1401 , L1385;
thus L1403: thesis by L1402 , L1393 , L1395 , L1396 , L1397 , L1400;
end;
thus L1404: thesis by L1394 , L1384 , L1392;
end;
consider C194 being (Finite_Sep_Sequence of C184), C195 being (FinSequence of ( ExtREAL )), C196 being (FinSequence of ( ExtREAL )) such that L1405: C194 , C195 are_Re-presentation_of C186 and L1406: ( dom C196 ) = ( dom C194 ) and L1407: (for B203 being Nat holds (B203 in ( dom C196 ) implies ( C196 . B203 ) = ( ( C195 . B203 ) * ( ( C185 * C194 ) . B203 ) ))) and L1408: ( integral (C183 , C184 , C185 , C186) ) = ( Sum C196 ) by L1379 , L1380 , L1381 , L967;
L1409: (ex B204 being (FinSequence of ( ExtREAL )) st (( dom B204 ) = ( dom C195 ) & (for B205 being Nat holds (B205 in ( dom B204 ) implies ( B204 . B205 ) = ( C188 * ( C195 . B205 ) )))))
proof
deffunc H12(Nat) = ( C188 * ( C195 . $1 ) );
consider C197 being FinSequence such that L1410: (( len C197 ) = ( len C195 ) & (for B206 being Nat holds (B206 in ( dom C197 ) implies ( C197 . B206 ) = H12(B206)))) from FINSEQ_1:sch 2;
L1411: ( rng C197 ) c= ( ExtREAL )
proof
let C198 being set;
assume L1412: C198 in ( rng C197 );
consider C199 being set such that L1413: C199 in ( dom C197 ) and L1414: C198 = ( C197 . C199 ) by L1412 , FUNCT_1:def 3;
reconsider D116 = C199 as (Element of ( NAT )) by L1413;
L1415: C198 = ( C188 * ( C195 . D116 ) ) by L1410 , L1413 , L1414;
thus L1416: thesis by L1415;
end;
L1417: ( dom C197 ) = ( Seg ( len C197 ) ) by FINSEQ_1:def 3;
reconsider D117 = C197 as (FinSequence of ( ExtREAL )) by L1411 , FINSEQ_1:def 4;
take D117;
thus L1418: thesis by L1410 , L1417 , FINSEQ_1:def 3;
end;
consider C200 being (FinSequence of ( ExtREAL )) such that L1419: ( dom C200 ) = ( dom C195 ) and L1420: (for B207 being Nat holds (B207 in ( dom C200 ) implies ( C200 . B207 ) = ( C188 * ( C195 . B207 ) ))) by L1409;
L1421: C188 in ( REAL ) by L1382 , L1383 , XXREAL_0:14;
L1422: (ex B208 being (FinSequence of ( ExtREAL )) st (( dom B208 ) = ( dom C196 ) & (for B209 being Nat holds (B209 in ( dom B208 ) implies ( B208 . B209 ) = ( C188 * ( C196 . B209 ) )))))
proof
deffunc H13(Nat) = ( C188 * ( C196 . $1 ) );
consider C201 being FinSequence such that L1423: (( len C201 ) = ( len C196 ) & (for B210 being Nat holds (B210 in ( dom C201 ) implies ( C201 . B210 ) = H13(B210)))) from FINSEQ_1:sch 2;
L1424: ( rng C201 ) c= ( ExtREAL )
proof
let C202 being set;
assume L1425: C202 in ( rng C201 );
consider C203 being set such that L1426: C203 in ( dom C201 ) and L1427: C202 = ( C201 . C203 ) by L1425 , FUNCT_1:def 3;
reconsider D118 = C203 as (Element of ( NAT )) by L1426;
L1428: C202 = ( C188 * ( C196 . D118 ) ) by L1423 , L1426 , L1427;
thus L1429: thesis by L1428;
end;
L1430: ( dom C201 ) = ( Seg ( len C201 ) ) by FINSEQ_1:def 3;
reconsider D119 = C201 as (FinSequence of ( ExtREAL )) by L1424 , FINSEQ_1:def 4;
take D119;
thus L1431: thesis by L1423 , L1430 , FINSEQ_1:def 3;
end;
consider C204 being (FinSequence of ( ExtREAL )) such that L1432: ( dom C204 ) = ( dom C196 ) and L1433: (for B211 being Nat holds (B211 in ( dom C204 ) implies ( C204 . B211 ) = ( C188 * ( C196 . B211 ) ))) by L1422;
L1434: (for B212 being Nat holds (B212 in ( dom C204 ) implies ( C204 . B212 ) = ( ( C200 . B212 ) * ( ( C185 * C194 ) . B212 ) )))
proof
let C205 being Nat;
L1435: ( dom C195 ) = ( dom C194 ) by L1405 , MESFUNC3:def 1;
assume L1436: C205 in ( dom C204 );
thus L1437: ( C204 . C205 ) = ( C188 * ( C196 . C205 ) ) by L1436 , L1433
.= ( C188 * ( ( C195 . C205 ) * ( ( C185 * C194 ) . C205 ) ) ) by L1407 , L1432 , L1436
.= ( ( C188 * ( C195 . C205 ) ) * ( ( C185 * C194 ) . C205 ) ) by XXREAL_3:66
.= ( ( C200 . C205 ) * ( ( C185 * C194 ) . C205 ) ) by L1406 , L1419 , L1420 , L1432 , L1436 , L1435;
end;
L1438: ( dom C187 ) = ( union ( rng C194 ) ) by L1384 , L1405 , MESFUNC3:def 1;
L1439:
now
let C206 being Nat;
assume L1440: C206 in ( dom C194 );
L1441: C206 in ( dom C200 ) by L1440 , L1405 , L1419 , MESFUNC3:def 1;
let C207 being set;
assume L1442: C207 in ( C194 . C206 );
L1443: ( C194 . C206 ) in ( rng C194 ) by L1440 , FUNCT_1:3;
L1444: C207 in ( dom C187 ) by L1443 , L1438 , L1442 , TARSKI:def 4;
thus L1445: ( C187 . C207 ) = ( C188 * ( C186 . C207 ) ) by L1444 , L1385
.= ( C188 * ( C195 . C206 ) ) by L1405 , L1440 , L1442 , MESFUNC3:def 1
.= ( C200 . C206 ) by L1420 , L1441;
end;
L1446: ( dom C194 ) = ( dom C200 ) by L1405 , L1419 , MESFUNC3:def 1;
L1447: C194 , C200 are_Re-presentation_of C187 by L1446 , L1438 , L1439 , MESFUNC3:def 1;
L1448: C186 is  real-valued by L1379 , MESFUNC2:def 4;
L1449: (for B213 being (Element of C183) holds (B213 in ( dom C187 ) implies |. ( C187 . B213 ) .| < ( +infty )))
proof
let C208 being (Element of C183);
assume L1450: C208 in ( dom C187 );
L1451: ( C188 * ( C186 . C208 ) ) <> ( -infty ) by L1421 , L1448;
L1452: ( C187 . C208 ) <> ( -infty ) by L1451 , L1385 , L1450;
L1453: ( -infty ) < ( C187 . C208 ) by L1452 , XXREAL_0:6;
L1454: ( - ( +infty ) ) < ( C187 . C208 ) by L1453 , XXREAL_3:def 3;
L1455: ( C188 * ( C186 . C208 ) ) <> ( +infty ) by L1421 , L1448;
L1456: ( C187 . C208 ) <> ( +infty ) by L1455 , L1385 , L1450;
L1457: ( C187 . C208 ) < ( +infty ) by L1456 , XXREAL_0:4;
thus L1458: thesis by L1457 , L1454 , EXTREAL2:11;
end;
L1459: C187 is  real-valued by L1449 , MESFUNC2:def 1;
L1460: C187 is_simple_func_in C184 by L1459 , L1391 , MESFUNC2:def 4;
thus L1461: ( integral (C183 , C184 , C185 , C187) ) = ( Sum C204 ) by L1460 , L1380 , L1384 , L1406 , L1386 , L1432 , L1447 , L1434 , L963
.= ( C188 * ( integral (C183 , C184 , C185 , C186) ) ) by L1421 , L1408 , L1432 , L1433 , MESFUNC3:10;
end;
