:: Ideals
::  by Grzegorz Bancerek
::
:: Received October 24, 1994
:: Copyright (c) 1994-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, SUBSET_1, BINOP_1, REALSET1, RELAT_1, ZFMISC_1,
      FUNCT_1, LATTICE2, LATTICES, STRUCT_0, EQREL_1, PBOOLE, LATTICE4,
      FILTER_0, CARD_FIL, CAT_1, TARSKI, INT_2, YELLOW11, LATTICE5, NAT_LAT,
      XBOOLEAN, XXREAL_2, FILTER_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, STRUCT_0, RELAT_1, FUNCT_1,
      DOMAIN_1, BINOP_1, REALSET1, LATTICES, NAT_LAT, FILTER_0, LATTICE2,
      MCART_1, LATTICE4;
 constructors BINOP_1, REALSET1, FILTER_0, LATTICE2, NAT_LAT, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, REALSET1, STRUCT_0, LATTICES,
      FILTER_0, LATTICE2, NAT_LAT;
 requirements SUBSET, BOOLE;
 definitions BINOP_1, LATTICES, LATTICE2, FILTER_0, TARSKI, XBOOLE_0, REALSET1;
 theorems TARSKI, ZFMISC_1, DOMAIN_1, FUNCT_1, FUNCT_2, BINOP_1, SUBSET_1,
      NAT_LAT, LATTICES, FILTER_0, LATTICE2, RELSET_1, XBOOLE_0, XBOOLE_1,
      RELAT_1;

begin
theorem
L1: (for B1 being non  empty set holds (for B2 being non  empty (Subset of B1) holds (for B3 being (BinOp of B1) holds (for B4 being (BinOp of B2) holds (B4 = ( B3 || B2 ) implies ((B3 is  commutative implies B4 is  commutative) & (B3 is  idempotent implies B4 is  idempotent) & (B3 is  associative implies B4 is  associative)))))))
proof
let C1 being non  empty set;
let C2 being non  empty (Subset of C1);
let C3 being (BinOp of C1);
let C4 being (BinOp of C2);
L2: ( dom C4 ) = [: C2 , C2 :] by FUNCT_2:def 1;
assume L3: C4 = ( C3 || C2 );
thus L4: (C3 is  commutative implies C4 is  commutative)
proof
assume L5: (for B5 , B6 being (Element of C1) holds ( C3 . (B5 , B6) ) = ( C3 . (B6 , B5) ));
let C5 , C6 being (Element of (C2 qua non  empty set));
reconsider D1 = C5 , D2 = C6 as (Element of C2);
reconsider D3 = D1 , D4 = D2 as (Element of C1);
thus L6: ( C4 . (C5 , C6) ) = ( C3 . [ C5 , C6 ] ) by L3 , L2 , FUNCT_1:47
.= ( C3 . (D3 , D4) )
.= ( C3 . (D4 , D3) ) by L5
.= ( C4 . [ C6 , C5 ] ) by L3 , L2 , FUNCT_1:47
.= ( C4 . (C6 , C5) );
end;

thus L7: (C3 is  idempotent implies C4 is  idempotent)
proof
assume L8: (for B7 being (Element of C1) holds ( C3 . (B7 , B7) ) = B7);
let C7 being (Element of C2);
thus L9: ( C4 . (C7 , C7) ) = ( C3 . [ C7 , C7 ] ) by L3 , L2 , FUNCT_1:47
.= ( C3 . (C7 , C7) )
.= C7 by L8;
end;

assume L10: (for B8 , B9 , B10 being (Element of C1) holds ( C3 . (( C3 . (B8 , B9) ) , B10) ) = ( C3 . (B8 , ( C3 . (B9 , B10) )) ));
let C8 , C9 , C10 being (Element of (C2 qua non  empty set));
reconsider D5 = C8 , D6 = C9 , D7 = C10 as (Element of C2);
reconsider D8 = D5 , D9 = D6 , D10 = D7 as (Element of C1);
thus L11: ( C4 . (( C4 . (C8 , C9) ) , C10) ) = ( C3 . [ ( C4 . (C8 , C9) ) , C10 ] ) by L3 , L2 , FUNCT_1:47
.= ( C3 . [ ( C3 . [ C8 , C9 ] ) , C10 ] ) by L3 , L2 , FUNCT_1:47
.= ( C3 . (( C3 . (C8 , C9) ) , C10) )
.= ( C3 . (D8 , ( C3 . (D9 , D10) )) ) by L10
.= ( C3 . (C8 , ( C4 . [ C9 , C10 ] )) ) by L3 , L2 , FUNCT_1:47
.= ( C3 . [ C8 , ( C4 . (C9 , C10) ) ] )
.= ( C4 . (C8 , ( C4 . (C9 , C10) )) ) by L3 , L2 , FUNCT_1:47;
end;
theorem
L12: (for B11 being non  empty set holds (for B12 being non  empty (Subset of B11) holds (for B13 being (BinOp of B11) holds (for B14 being (BinOp of B12) holds (for B15 being (Element of B11) holds (for B16 being (Element of B12) holds ((B14 = ( B13 || B12 ) & B16 = B15) implies ((B15 is_a_left_unity_wrt B13 implies B16 is_a_left_unity_wrt B14) & (B15 is_a_right_unity_wrt B13 implies B16 is_a_right_unity_wrt B14) & (B15 is_a_unity_wrt B13 implies B16 is_a_unity_wrt B14)))))))))
proof
let C11 being non  empty set;
let C12 being non  empty (Subset of C11);
let C13 being (BinOp of C11);
let C14 being (BinOp of C12);
let C15 being (Element of C11);
let C16 being (Element of C12);
assume that
L13: C14 = ( C13 || C12 )
and
L14: C16 = C15;
L15: ( dom C14 ) = [: C12 , C12 :] by FUNCT_2:def 1;
thus L16: (C15 is_a_left_unity_wrt C13 implies C16 is_a_left_unity_wrt C14)
proof
assume L17: (for B17 being (Element of C11) holds ( C13 . (C15 , B17) ) = B17);
let C17 being (Element of C12);
thus L18: ( C14 . (C16 , C17) ) = ( C13 . [ C16 , C17 ] ) by L13 , L15 , FUNCT_1:47
.= ( C13 . (C15 , C17) ) by L14
.= C17 by L17;
end;

thus L19: (C15 is_a_right_unity_wrt C13 implies C16 is_a_right_unity_wrt C14)
proof
assume L20: (for B18 being (Element of C11) holds ( C13 . (B18 , C15) ) = B18);
let C18 being (Element of C12);
thus L21: ( C14 . (C18 , C16) ) = ( C13 . [ C18 , C16 ] ) by L13 , L15 , FUNCT_1:47
.= ( C13 . (C18 , C15) ) by L14
.= C18 by L20;
end;

assume L22: C15 is_a_unity_wrt C13;
L23:
now
let C19 being (Element of C12);
reconsider D11 = C19 as (Element of C11);
L24: ( dom C14 ) = [: C12 , C12 :] by FUNCT_2:def 1;
L25: [ C16 , C19 ] in [: C12 , C12 :];
thus L26: ( C14 . (C16 , C19) ) = ( C13 . (C15 , D11) ) by L25 , L13 , L14 , L24 , FUNCT_1:47
.= C19 by L22 , BINOP_1:3;
L27: [ C19 , C16 ] in [: C12 , C12 :];
thus L28: ( C14 . (C19 , C16) ) = ( C13 . (D11 , C15) ) by L27 , L13 , L14 , L24 , FUNCT_1:47
.= C19 by L22 , BINOP_1:3;
end;
thus L29: thesis by L23 , BINOP_1:3;
end;
theorem
L30: (for B19 being non  empty set holds (for B20 being non  empty (Subset of B19) holds (for B21 , B22 being (BinOp of B19) holds (for B23 , B24 being (BinOp of B20) holds ((B23 = ( B21 || B20 ) & B24 = ( B22 || B20 )) implies ((B21 is_left_distributive_wrt B22 implies B23 is_left_distributive_wrt B24) & (B21 is_right_distributive_wrt B22 implies B23 is_right_distributive_wrt B24)))))))
proof
let C20 being non  empty set;
let C21 being non  empty (Subset of C20);
let C22 , C23 being (BinOp of C20);
let C24 , C25 being (BinOp of C21);
assume that
L31: C24 = ( C22 || C21 )
and
L32: C25 = ( C23 || C21 );
thus L33: (C22 is_left_distributive_wrt C23 implies C24 is_left_distributive_wrt C25)
proof
assume L34: (for B25 , B26 , B27 being (Element of C20) holds ( C22 . (B25 , ( C23 . (B26 , B27) )) ) = ( C23 . (( C22 . (B25 , B26) ) , ( C22 . (B25 , B27) )) ));
let C26 , C27 , C28 being (Element of C21);
set D12 = ( C24 . (C26 , C27) );
set D13 = ( C24 . (C26 , C28) );
set D14 = ( C25 . (C27 , C28) );
reconsider D15 = C26 , D16 = C27 , D17 = C28 as (Element of C20);
L35: (( C23 . [ D16 , D17 ] ) = ( C23 . (D16 , D17) ) & ( C22 . [ D15 , D16 ] ) = ( C22 . (D15 , D16) ));
L36: (( C22 . [ D15 , D17 ] ) = ( C22 . (D15 , D17) ) & ( C22 . [ C26 , D14 ] ) = ( C22 . (C26 , D14) ));
L37: ( dom C25 ) = [: C21 , C21 :] by FUNCT_2:def 1;
L38: (( C25 . [ C27 , C28 ] ) = ( C23 . [ C27 , C28 ] ) & ( C25 . [ D12 , D13 ] ) = ( C23 . [ D12 , D13 ] )) by L37 , L32 , FUNCT_1:47;
L39: ( C23 . [ D12 , D13 ] ) = ( C23 . (D12 , D13) );
L40: ( dom C24 ) = [: C21 , C21 :] by FUNCT_2:def 1;
L41: ( C24 . [ C26 , D14 ] ) = ( C22 . [ C26 , D14 ] ) by L40 , L31 , FUNCT_1:47;
L42: (( C24 . [ C26 , C27 ] ) = ( C22 . [ C26 , C27 ] ) & ( C24 . [ C26 , C28 ] ) = ( C22 . [ C26 , C28 ] )) by L31 , L40 , FUNCT_1:47;
thus L43: ( C24 . (C26 , ( C25 . (C27 , C28) )) ) = ( C25 . (( C24 . (C26 , C27) ) , ( C24 . (C26 , C28) )) ) by L42 , L34 , L35 , L41 , L36 , L38 , L39;
end;

assume L44: (for B28 , B29 , B30 being (Element of C20) holds ( C22 . (( C23 . (B28 , B29) ) , B30) ) = ( C23 . (( C22 . (B28 , B30) ) , ( C22 . (B29 , B30) )) ));
let C29 , C30 , C31 being (Element of C21);
set D18 = ( C25 . (C29 , C30) );
set D19 = ( C24 . (C29 , C31) );
set D20 = ( C24 . (C30 , C31) );
L45: ( C23 . [ D19 , D20 ] ) = ( C23 . (D19 , D20) );
L46: ( dom C24 ) = [: C21 , C21 :] by FUNCT_2:def 1;
L47: ( C24 . [ D18 , C31 ] ) = ( C22 . [ D18 , C31 ] ) by L46 , L31 , FUNCT_1:47;
L48: ( dom C25 ) = [: C21 , C21 :] by FUNCT_2:def 1;
L49: (( C25 . [ C29 , C30 ] ) = ( C23 . [ C29 , C30 ] ) & ( C25 . [ D19 , D20 ] ) = ( C23 . [ D19 , D20 ] )) by L48 , L32 , FUNCT_1:47;
reconsider D21 = C29 , D22 = C30 , D23 = C31 as (Element of C20);
L50: (( C22 . [ D22 , D23 ] ) = ( C22 . (D22 , D23) ) & ( C23 . [ D21 , D22 ] ) = ( C23 . (D21 , D22) ));
L51: (( C22 . [ D21 , D23 ] ) = ( C22 . (D21 , D23) ) & ( C22 . [ D18 , C31 ] ) = ( C22 . (D18 , C31) ));
L52: (( C24 . [ C30 , C31 ] ) = ( C22 . [ C30 , C31 ] ) & ( C24 . [ C29 , C31 ] ) = ( C22 . [ C29 , C31 ] )) by L31 , L46 , FUNCT_1:47;
thus L53: ( C24 . (( C25 . (C29 , C30) ) , C31) ) = ( C25 . (( C24 . (C29 , C31) ) , ( C24 . (C30 , C31) )) ) by L52 , L44 , L50 , L47 , L51 , L49 , L45;
end;
theorem
L54: (for B31 being non  empty set holds (for B32 being non  empty (Subset of B31) holds (for B33 , B34 being (BinOp of B31) holds (for B35 , B36 being (BinOp of B32) holds ((B35 = ( B33 || B32 ) & B36 = ( B34 || B32 )) implies (B33 is_distributive_wrt B34 implies B35 is_distributive_wrt B36))))))
proof
let C32 being non  empty set;
let C33 being non  empty (Subset of C32);
let C34 , C35 being (BinOp of C32);
let C36 , C37 being (BinOp of C33);
assume L55: (C36 = ( C34 || C33 ) & C37 = ( C35 || C33 ) & C34 is_left_distributive_wrt C35 & C34 is_right_distributive_wrt C35);
thus L56: (C36 is_left_distributive_wrt C37 & C36 is_right_distributive_wrt C37) by L55 , L30;
end;
theorem
L57: (for B37 being non  empty set holds (for B38 being non  empty (Subset of B37) holds (for B39 , B40 being (BinOp of B37) holds (for B41 , B42 being (BinOp of B38) holds ((B41 = ( B39 || B38 ) & B42 = ( B40 || B38 )) implies (B39 absorbs B40 implies B41 absorbs B42))))))
proof
let C38 being non  empty set;
let C39 being non  empty (Subset of C38);
let C40 , C41 being (BinOp of C38);
let C42 , C43 being (BinOp of C39);
assume that
L58: C42 = ( C40 || C39 )
and
L59: C43 = ( C41 || C39 );
assume L60: (for B43 , B44 being (Element of C38) holds ( C40 . (B43 , ( C41 . (B43 , B44) )) ) = B43);
let C44 , C45 being (Element of C39);
L61: ( dom C43 ) = [: C39 , C39 :] by FUNCT_2:def 1;
L62: ( dom C42 ) = [: C39 , C39 :] by FUNCT_2:def 1;
thus L63: ( C42 . (C44 , ( C43 . (C44 , C45) )) ) = ( C40 . [ C44 , ( C43 . (C44 , C45) ) ] ) by L62 , L58 , FUNCT_1:47
.= ( C40 . [ C44 , ( C41 . [ C44 , C45 ] ) ] ) by L59 , L61 , FUNCT_1:47
.= ( C40 . (C44 , ( C41 . (C44 , C45) )) )
.= C44 by L60;
end;
begin
definition
let C46 being non  empty set;
let C47 , C48 being (Subset of C46);
redefine pred C47 = C48
means
(for B45 being (Element of C46) holds (B45 in C47 iff B45 in C48))
;compatibility by SUBSET_1:3;
end;
deffunc H1(LattStr) = (the carrier of $1);
deffunc H2(LattStr) = (the L_join of $1);
deffunc H3(LattStr) = (the L_meet of $1);
theorem
L65: (for B46 , B47 being LattStr holds (( the LattStr of B46 ) = ( the LattStr of B47 ) implies ( B46 .: ) = ( B47 .: )));
theorem
L66: (for R1 being Lattice holds ( ( R1 .: ) .: ) = ( the LattStr of R1 ));
theorem
L67: (for B48 , B49 being non  empty LattStr holds (( the LattStr of B48 ) = ( the LattStr of B49 ) implies (for B50 , B51 being (Element of B48) holds (for B52 , B53 being (Element of B49) holds ((B50 = B52 & B51 = B53) implies (( B50 "\/" B51 ) = ( B52 "\/" B53 ) & ( B50 "/\" B51 ) = ( B52 "/\" B53 ) & (B50 [= B51 iff B52 [= B53)))))))
proof
let C49 , C50 being non  empty LattStr;
assume that
L68: ( the LattStr of C49 ) = ( the LattStr of C50 );
let C51 , C52 being (Element of C49);
let C53 , C54 being (Element of C50);
assume that
L69: (C51 = C53 & C52 = C54);
thus L70: ( C51 "\/" C52 ) = ( C53 "\/" C54 ) by L68 , L69;
thus L71: ( C51 "/\" C52 ) = ( C53 "/\" C54 ) by L68 , L69;
L72: (( C53 "\/" C54 ) = C54 iff C53 [= C54) by LATTICES:def 3;
L73: (C51 [= C52 iff ( C51 "\/" C52 ) = C52) by LATTICES:def 3;
thus L74: thesis by L73 , L68 , L69 , L72;
end;
theorem
L75: (for B54 , B55 being 0_Lattice holds (( the LattStr of B54 ) = ( the LattStr of B55 ) implies ( Bottom B54 ) = ( Bottom B55 )))
proof
let C55 , C56 being 0_Lattice;
assume L76: ( the LattStr of C55 ) = ( the LattStr of C56 );
reconsider D24 = ( Bottom C55 ) as (Element of C56) by L76;
L77:
now
let C57 being (Element of C56);
reconsider D25 = C57 as (Element of C55) by L76;
L78: ( ( Bottom C55 ) "/\" D25 ) = ( Bottom C55 );
thus L79: ( D24 "/\" C57 ) = D24 by L78 , L76;
thus L80: ( C57 "/\" D24 ) = D24 by L79;
end;
thus L81: thesis by L77 , LATTICES:def 16;
end;
theorem
L82: (for B56 , B57 being 1_Lattice holds (( the LattStr of B56 ) = ( the LattStr of B57 ) implies ( Top B56 ) = ( Top B57 )))
proof
let C58 , C59 being 1_Lattice;
assume L83: ( the LattStr of C58 ) = ( the LattStr of C59 );
reconsider D26 = ( Top C58 ) as (Element of C59) by L83;
L84:
now
let C60 being (Element of C59);
reconsider D27 = C60 as (Element of C58) by L83;
L85: ( ( Top C58 ) "\/" D27 ) = ( Top C58 );
thus L86: ( D26 "\/" C60 ) = D26 by L85 , L83;
thus L87: ( C60 "\/" D26 ) = D26 by L86;
end;
thus L88: thesis by L84 , LATTICES:def 17;
end;
theorem
L89: (for B58 , B59 being C_Lattice holds (( the LattStr of B58 ) = ( the LattStr of B59 ) implies (for B60 , B61 being (Element of B58) holds (for B62 , B63 being (Element of B59) holds ((B60 = B62 & B61 = B63 & B60 is_a_complement_of B61) implies B62 is_a_complement_of B63)))))
proof
let C61 , C62 being C_Lattice;
assume that
L90: ( the LattStr of C61 ) = ( the LattStr of C62 );
let C63 , C64 being (Element of C61);
let C65 , C66 being (Element of C62);
assume L91: (C63 = C65 & C64 = C66);
L92: (( C65 "\/" C66 ) = ( C63 "\/" C64 ) & ( C65 "/\" C66 ) = ( C63 "/\" C64 )) by L91 , L90;
assume L93: C63 is_a_complement_of C64;
L94: (( C63 "\/" C64 ) = ( Top C61 ) & ( C63 "/\" C64 ) = ( Bottom C61 )) by L93 , LATTICES:def 18;
thus L95: (( C65 "\/" C66 ) = ( Top C62 ) & ( C66 "\/" C65 ) = ( Top C62 ) & ( C65 "/\" C66 ) = ( Bottom C62 ) & ( C66 "/\" C65 ) = ( Bottom C62 )) by L94 , L90 , L92 , L75 , L82;
end;
theorem
L96: (for B64 , B65 being B_Lattice holds (( the LattStr of B64 ) = ( the LattStr of B65 ) implies (for B66 being (Element of B64) holds (for B67 being (Element of B65) holds (B66 = B67 implies ( B66 ` ) = ( B67 ` ))))))
proof
let C67 , C68 being B_Lattice;
assume that
L97: ( the LattStr of C67 ) = ( the LattStr of C68 );
let C69 being (Element of C67);
let C70 being (Element of C68);
assume that
L98: C69 = C70;
reconsider D28 = ( C69 ` ) as (Element of C68) by L97;
L99: ( C69 ` ) is_a_complement_of C69 by LATTICES:def 21;
L100: D28 is_a_complement_of C70 by L99 , L97 , L98 , L89;
thus L101: thesis by L100 , LATTICES:def 21;
end;
theorem
L102: (for R1 being Lattice holds (for B68 being (Subset of R1) holds ((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in B68 & R3 in B68) iff ( R2 "/\" R3 ) in B68))) implies B68 is (ClosedSubset of R1))))
proof
let R1 being Lattice;
let C71 being (Subset of R1);
assume that
L103: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C71 & R3 in C71) iff ( R2 "/\" R3 ) in C71)));
L104: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C71 & R3 in C71) implies ( R2 "\/" R3 ) in C71)))
proof
let R2 being (Element of R1);
let R3 being (Element of R1);
L105: ( R2 "/\" ( R2 "\/" R3 ) ) = R2 by LATTICES:def 9;
thus L106: thesis by L105 , L103;
end;
thus L107: thesis by L104 , L103 , LATTICES:def 24 , LATTICES:def 25;
end;
theorem
L108: (for R1 being Lattice holds (for B69 being (Subset of R1) holds ((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in B69 & R3 in B69) iff ( R2 "\/" R3 ) in B69))) implies B69 is (ClosedSubset of R1))))
proof
let R1 being Lattice;
let C72 being (Subset of R1);
assume that
L109: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C72 & R3 in C72) iff ( R2 "\/" R3 ) in C72)));
L110: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C72 & R3 in C72) implies ( R2 "/\" R3 ) in C72)))
proof
let R2 being (Element of R1);
let R3 being (Element of R1);
L111: ( ( R2 "/\" R3 ) "\/" R3 ) = R3 by LATTICES:def 8;
thus L112: thesis by L111 , L109;
end;
thus L113: thesis by L110 , L109 , LATTICES:def 24 , LATTICES:def 25;
end;
definition
let R1 being Lattice;
mode Ideal of R1
 is non  empty  initial  join-closed (Subset of R1);
end;
L115: (for R1 being Lattice holds (for B70 being non  empty (Subset of R1) holds (B70 is (Ideal of R1) iff (for B71 , B72 being (Element of R1) holds ((B71 in B70 & B72 in B70) iff ( B71 "\/" B72 ) in B70)))))
proof
let R1 being Lattice;
let C73 being non  empty (Subset of R1);
thus L116: (C73 is (Ideal of R1) implies (for B73 , B74 being (Element of R1) holds ((B73 in C73 & B74 in C73) iff ( B73 "\/" B74 ) in C73)))
proof
assume L117: C73 is (Ideal of R1);
let C74 , C75 being (Element of R1);
thus L118: ((C74 in C73 & C75 in C73) implies ( C74 "\/" C75 ) in C73) by L117 , LATTICES:def 25;
assume L119: ( C74 "\/" C75 ) in C73;
L120: (C74 [= ( C74 "\/" C75 ) & C75 [= ( C74 "\/" C75 )) by LATTICES:5;
thus L121: (C74 in C73 & C75 in C73) by L120 , L117 , L119 , LATTICES:def 22;
end;

assume L122: (for B75 , B76 being (Element of R1) holds ((B75 in C73 & B76 in C73) iff ( B75 "\/" B76 ) in C73));
L123: C73 is  initial
proof
let C76 , C77 being (Element of R1);
assume that
L124: C76 [= C77
and
L125: C77 in C73;
L126: ( C76 "\/" C77 ) = C77 by L124 , LATTICES:def 3;
thus L127: C76 in C73 by L126 , L122 , L125;
end;
thus L128: thesis by L123 , L122 , LATTICES:def 25;
end;
theorem
L129: (for B77 , B78 being Lattice holds (( the LattStr of B77 ) = ( the LattStr of B78 ) implies (for R8 being set holds (R8 is (Filter of B77) implies R8 is (Filter of B78)))))
proof
let C78 , C79 being Lattice;
assume that
L130: ( the LattStr of C78 ) = ( the LattStr of C79 );
let R8 being set;
assume L131: R8 is (Filter of C78);
reconsider D29 = R8 as (Filter of C78) by L131;
L132:
now
let C80 , C81 being (Element of C79);
reconsider D30 = C80 , D31 = C81 as (Element of C78) by L130;
L133: ( C80 "/\" C81 ) = ( D30 "/\" D31 ) by L130;
thus L134: ((C80 in D29 & C81 in D29) iff ( C80 "/\" C81 ) in D29) by L133 , FILTER_0:8;
end;
thus L135: thesis by L132 , L130 , FILTER_0:8;
end;
theorem
L136: (for B79 , B80 being Lattice holds (( the LattStr of B79 ) = ( the LattStr of B80 ) implies (for R8 being set holds (R8 is (Ideal of B79) implies R8 is (Ideal of B80)))))
proof
let C82 , C83 being Lattice;
assume that
L137: ( the LattStr of C82 ) = ( the LattStr of C83 );
let R8 being set;
assume L138: R8 is (Ideal of C82);
reconsider D32 = R8 as (Ideal of C82) by L138;
L139:
now
let C84 , C85 being (Element of C83);
reconsider D33 = C84 , D34 = C85 as (Element of C82) by L137;
L140: ( C84 "\/" C85 ) = ( D33 "\/" D34 ) by L137;
thus L141: ((C84 in D32 & C85 in D32) iff ( C84 "\/" C85 ) in D32) by L140 , L115;
end;
thus L142: thesis by L139 , L137 , L115;
end;
definition
let R1 being Lattice;
let R2 being (Element of R1);
func R2 .: -> (Element of ( R1 .: )) equals 
R2;
coherence;
end;
definition
let R1 being Lattice;
let C86 being (Element of ( R1 .: ));
func .: C86 -> (Element of R1) equals 
C86;
coherence;
end;
theorem
L145: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R5 being (Element of ( R1 .: )) holds (( .: ( R2 .: ) ) = R2 & ( ( .: R5 ) .: ) = R5))));
theorem
L146: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R5 being (Element of ( R1 .: )) holds (for R6 being (Element of ( R1 .: )) holds (( R2 "/\" R3 ) = ( ( R2 .: ) "\/" ( R3 .: ) ) & ( R2 "\/" R3 ) = ( ( R2 .: ) "/\" ( R3 .: ) ) & ( R5 "/\" R6 ) = ( ( .: R5 ) "\/" ( .: R6 ) ) & ( R5 "\/" R6 ) = ( ( .: R5 ) "/\" ( .: R6 ) )))))));
theorem
L147: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R5 being (Element of ( R1 .: )) holds (for R6 being (Element of ( R1 .: )) holds ((R2 [= R3 iff ( R3 .: ) [= ( R2 .: )) & (R5 [= R6 iff ( .: R6 ) [= ( .: R5 )))))))) by LATTICE2:38 , LATTICE2:39;
definition
let R1 being Lattice;
let C87 being (Subset of R1);
func C87 .: -> (Subset of ( R1 .: )) equals 
C87;
coherence;
end;
definition
let R1 being Lattice;
let C88 being (Subset of ( R1 .: ));
func .: C88 -> (Subset of R1) equals 
C88;
coherence;
end;
registration
let R1 being Lattice;
let C89 being non  empty (Subset of R1);
cluster ( C89 .: ) -> non  empty;
coherence;
end;
registration
let R1 being Lattice;
let C90 being non  empty (Subset of ( R1 .: ));
cluster ( .: C90 ) -> non  empty;
coherence;
end;
registration
let R1 being Lattice;
let C91 being  meet-closed (Subset of R1);
cluster ( C91 .: ) ->  join-closed for (Subset of ( R1 .: ));
coherence
proof
L152: ( C91 .: ) is  join-closed
proof
let R5 being (Element of ( R1 .: ));
let R6 being (Element of ( R1 .: ));
L153: ( R5 "\/" R6 ) = ( ( .: R5 ) "/\" ( .: R6 ) );
thus L154: thesis by L153 , LATTICES:def 24;
end;
thus L155: thesis by L152;
end;
end;
registration
let R1 being Lattice;
let C92 being  join-closed (Subset of R1);
cluster ( C92 .: ) ->  meet-closed for (Subset of ( R1 .: ));
coherence
proof
L157: ( C92 .: ) is  meet-closed
proof
let R5 being (Element of ( R1 .: ));
let R6 being (Element of ( R1 .: ));
L158: ( R5 "/\" R6 ) = ( ( .: R5 ) "\/" ( .: R6 ) );
thus L159: thesis by L158 , LATTICES:def 25;
end;
thus L160: thesis by L157;
end;
end;
registration
let R1 being Lattice;
let C93 being  meet-closed (Subset of ( R1 .: ));
cluster ( .: C93 ) ->  join-closed for (Subset of R1);
coherence
proof
L162: ( .: C93 ) is  join-closed
proof
let R2 being (Element of R1);
let R3 being (Element of R1);
L163: ( R2 "\/" R3 ) = ( ( R2 .: ) "/\" ( R3 .: ) );
thus L164: thesis by L163 , LATTICES:def 24;
end;
thus L165: thesis by L162;
end;
end;
registration
let R1 being Lattice;
let C94 being  join-closed (Subset of ( R1 .: ));
cluster ( .: C94 ) ->  meet-closed for (Subset of R1);
coherence
proof
L167: ( .: C94 ) is  meet-closed
proof
let R2 being (Element of R1);
let R3 being (Element of R1);
L168: ( R2 "/\" R3 ) = ( ( R2 .: ) "\/" ( R3 .: ) );
thus L169: thesis by L168 , LATTICES:def 25;
end;
thus L170: thesis by L167;
end;
end;
registration
let R1 being Lattice;
let C95 being  final (Subset of R1);
cluster ( C95 .: ) ->  initial for (Subset of ( R1 .: ));
coherence
proof
L172: ( C95 .: ) is  initial
proof
let R5 being (Element of ( R1 .: ));
let R6 being (Element of ( R1 .: ));
assume that
L173: R5 [= R6
and
L174: R6 in ( C95 .: );
reconsider D35 = ( R5 .: ) , D36 = ( R6 .: ) as (Element of R1);
L175: D36 [= D35 by L173 , LATTICE2:39;
thus L176: thesis by L175 , L174 , LATTICES:def 23;
end;
thus L177: thesis by L172;
end;
end;
registration
let R1 being Lattice;
let C96 being  initial (Subset of R1);
cluster ( C96 .: ) ->  final for (Subset of ( R1 .: ));
coherence
proof
L179: ( C96 .: ) is  final
proof
let R5 being (Element of ( R1 .: ));
let R6 being (Element of ( R1 .: ));
assume that
L180: R5 [= R6
and
L181: R5 in ( C96 .: );
reconsider D37 = ( R5 .: ) , D38 = ( R6 .: ) as (Element of R1);
L182: D38 [= D37 by L180 , LATTICE2:39;
thus L183: thesis by L182 , L181 , LATTICES:def 22;
end;
thus L184: thesis by L179;
end;
end;
registration
let R1 being Lattice;
let C97 being  final (Subset of ( R1 .: ));
cluster ( .: C97 ) ->  initial for (Subset of R1);
coherence
proof
L186: ( .: C97 ) is  initial
proof
let R2 being (Element of R1);
let R3 being (Element of R1);
assume that
L187: R2 [= R3
and
L188: R3 in ( .: C97 );
reconsider D39 = ( R2 .: ) , D40 = ( R3 .: ) as (Element of ( R1 .: ));
L189: D40 [= D39 by L187 , LATTICE2:38;
thus L190: thesis by L189 , L188 , LATTICES:def 23;
end;
thus L191: thesis by L186;
end;
end;
registration
let R1 being Lattice;
let C98 being  initial (Subset of ( R1 .: ));
cluster ( C98 .: ) ->  final for (Subset of R1);
coherence
proof
L193: ( .: C98 ) is  final
proof
let R2 being (Element of R1);
let R3 being (Element of R1);
assume that
L194: R2 [= R3
and
L195: R2 in ( .: C98 );
reconsider D41 = ( R2 .: ) , D42 = ( R3 .: ) as (Element of ( R1 .: ));
L196: D42 [= D41 by L194 , LATTICE2:38;
thus L197: thesis by L196 , L195 , LATTICES:def 22;
end;
thus L198: thesis by L193;
end;
end;
theorem
L200: (for R1 being Lattice holds (for R8 being set holds (R8 is (Ideal of R1) iff R8 is (Filter of ( R1 .: )))))
proof
let R1 being Lattice;
let R8 being set;
thus L201: (R8 is (Ideal of R1) implies R8 is (Filter of ( R1 .: )))
proof
assume L202: R8 is (Ideal of R1);
reconsider D43 = R8 as (Ideal of R1) by L202;
reconsider D44 = D43 as non  empty (Subset of ( R1 .: ));
L203: D44 is (Filter of ( R1 .: ))
proof
L204:
now
let R5 being (Element of ( R1 .: ));
let R6 being (Element of ( R1 .: ));
L205: ( R5 "/\" R6 ) = ( ( .: R5 ) "\/" ( .: R6 ) );
thus L206: ((R5 in D44 & R6 in D44) iff ( R5 "/\" R6 ) in D44) by L205 , L115;
end;
thus L207: thesis by L204 , FILTER_0:8;
end;
thus L208: thesis by L203;
end;

assume L209: R8 is (Filter of ( R1 .: ));
reconsider D45 = R8 as (Filter of ( R1 .: )) by L209;
reconsider D46 = D45 as non  empty (Subset of R1);
L210:
now
let R2 being (Element of R1);
let R3 being (Element of R1);
L211: ( ( R2 .: ) "/\" ( R3 .: ) ) = ( R2 "\/" R3 );
thus L212: ((R2 in D46 & R3 in D46) iff ( R2 "\/" R3 ) in D46) by L211 , FILTER_0:8;
end;
thus L213: thesis by L210 , L115;
end;
theorem
L214: (for R1 being Lattice holds (for B81 being non  empty (Subset of R1) holds (B81 is (Ideal of R1) iff ((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in B81 & R3 in B81) implies ( R2 "\/" R3 ) in B81))) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in B81 & R3 [= R2) implies R3 in B81)))))))
proof
let R1 being Lattice;
let C99 being non  empty (Subset of R1);
thus L215: (C99 is (Ideal of R1) implies ((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C99 & R3 in C99) implies ( R2 "\/" R3 ) in C99))) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C99 & R3 [= R2) implies R3 in C99)))))
proof
assume L216: C99 is (Ideal of R1);
thus L217: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C99 & R3 in C99) implies ( R2 "\/" R3 ) in C99))) by L216 , L115;
let R2 being (Element of R1);
let R3 being (Element of R1);
assume L218: (R2 in C99 & R3 [= R2);
L219: ( R3 "\/" R2 ) in C99 by L218 , LATTICES:def 3;
thus L220: thesis by L219 , L216 , L115;
end;

assume L221: ((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C99 & R3 in C99) implies ( R2 "\/" R3 ) in C99))) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R2 in C99 & R3 [= R2) implies R3 in C99))));
L222:
now
let R2 being (Element of R1);
let R3 being (Element of R1);
L223: (R2 [= ( R2 "\/" R3 ) & R3 [= ( R3 "\/" R2 )) by LATTICES:5;
thus L224: ((R2 in C99 & R3 in C99) iff ( R2 "\/" R3 ) in C99) by L223 , L221;
end;
thus L225: thesis by L222 , L115;
end;
theorem
L226: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R10 being (Ideal of R1) holds (R2 in R10 implies (( R2 "/\" R3 ) in R10 & ( R3 "/\" R2 ) in R10))))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R10 being (Ideal of R1);
L227: ( R2 "/\" R3 ) [= R2 by LATTICES:6;
thus L228: thesis by L227 , L214;
end;
theorem
L229: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (ex R2 being (Element of R1) st R2 in R10)))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
set D47 = the (Element of (R10 qua non  empty (Subset of R1)));
L230: D47 is (Element of R1);
thus L231: thesis by L230;
end;
theorem
L232: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (R1 is  lower-bounded implies ( Bottom R1 ) in R10)))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
assume L233: R1 is  lower-bounded;
L234: (( Top ( R1 .: ) ) = ( Bottom R1 ) & ( R1 .: ) is  upper-bounded) by L233 , LATTICE2:48 , LATTICE2:61;
L235: ( Bottom R1 ) in ( R10 .: ) by L234 , FILTER_0:11;
thus L236: thesis by L235;
end;
theorem
L237: (for R1 being Lattice holds (R1 is  lower-bounded implies { ( Bottom R1 ) } is (Ideal of R1)))
proof
let R1 being Lattice;
assume L238: R1 is  lower-bounded;
L239: (( Top ( R1 .: ) ) = ( Bottom R1 ) & ( R1 .: ) is  upper-bounded) by L238 , LATTICE2:48 , LATTICE2:61;
L240: { ( Bottom R1 ) } is (Filter of ( R1 .: )) by L239 , FILTER_0:12;
thus L241: thesis by L240 , L200;
end;
theorem
L242: (for R1 being Lattice holds (for R2 being (Element of R1) holds ({ R2 } is (Ideal of R1) implies R1 is  lower-bounded)))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L243: { R2 } is (Ideal of R1);
L244: { R2 } is (Filter of ( R1 .: )) by L243 , L200;
L245: ( R1 .: ) is  upper-bounded by L244 , FILTER_0:13;
thus L246: thesis by L245 , LATTICE2:48;
end;
begin
theorem
L247: (for R1 being Lattice holds (the carrier of R1) is (Ideal of R1))
proof
let R1 being Lattice;
L248: H1(R1) is (Filter of ( R1 .: )) by FILTER_0:14;
thus L249: thesis by L248 , L200;
end;
definition
let R1 being Lattice;
func (.R1 .> -> (Ideal of R1) equals 
(the carrier of R1);
coherence by L247;
end;
definition
let R1 being Lattice;
let R2 being (Element of R1);
func (.R2 .> -> (Ideal of R1) equals 
{ R3 where R3 is (Element of R1) : R3 [= R2 };
coherence
proof
set D48 = { R3 where R3 is (Element of R1) : R3 [= R2 };
L251: R2 in D48;
reconsider D49 = D48 as non  empty set by L251;
L252: D49 c= H1(R1)
proof
let R8 being set;
assume L253: R8 in D49;
L254: (ex R3 being (Element of R1) st (R8 = R3 & R3 [= R2)) by L253;
thus L255: thesis by L254;
end;
reconsider D50 = D49 as non  empty (Subset of R1) by L252;
L256:
now
let R3 being (Element of R1);
let R4 being (Element of R1);
thus L257: ((R3 in D50 & R4 in D50) implies ( R3 "\/" R4 ) in D50)
proof
assume L258: (R3 in D50 & R4 in D50);
L259: ((ex R4 being (Element of R1) st (R3 = R4 & R4 [= R2)) & (ex R3 being (Element of R1) st (R4 = R3 & R3 [= R2))) by L258;
L260: ( R3 "\/" R4 ) [= R2 by L259 , FILTER_0:6;
thus L261: thesis by L260;
end;

assume L262: ( R3 "\/" R4 ) in D50;
L263: (ex B82 being (Element of R1) st (( R3 "\/" R4 ) = B82 & B82 [= R2)) by L262;
L264: R3 [= ( R3 "\/" R4 ) by LATTICES:5;
L265: R3 [= R2 by L264 , L263 , LATTICES:7;
L266: R4 [= ( R4 "\/" R3 ) by LATTICES:5;
L267: R4 [= R2 by L266 , L263 , LATTICES:7;
thus L268: (R3 in D50 & R4 in D50) by L267 , L265;
end;
thus L269: thesis by L256 , L115;
end;
end;
theorem
L271: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (R3 in (. R2 .> iff R3 [= R2))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
L272: (R3 in (. R2 .> iff (ex R4 being (Element of R1) st (R3 = R4 & R4 [= R2)));
thus L273: thesis by L272;
end;
theorem
L274: (for R1 being Lattice holds (for R2 being (Element of R1) holds ((. R2 .> = <. ( R2 .: ) .) & (. ( R2 .: ) .> = <. R2 .))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
L275: (. R2 .> = ( .: <. ( R2 .: ) .) )
proof
let R3 being (Element of R1);
L276: (( R3 .: ) in <. ( R2 .: ) .) iff ( R2 .: ) [= ( R3 .: )) by FILTER_0:15;
L277: (R3 in (. R2 .> iff R3 [= R2) by L271;
thus L278: thesis by L277 , L276 , LATTICE2:38 , LATTICE2:39;
end;
thus L279: (. R2 .> = <. ( R2 .: ) .) by L275;
L280: ( .: (. ( R2 .: ) .> ) = <. R2 .)
proof
let R3 being (Element of R1);
L281: (R3 in <. R2 .) iff R2 [= R3) by FILTER_0:15;
L282: (( R3 .: ) in (. ( R2 .: ) .> iff ( R3 .: ) [= ( R2 .: )) by L271;
thus L283: thesis by L282 , L281 , LATTICE2:38 , LATTICE2:39;
end;
thus L284: thesis by L280;
end;
theorem
L285: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (R2 in (. R2 .> & ( R2 "/\" R3 ) in (. R2 .> & ( R3 "/\" R2 ) in (. R2 .>))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
L286: ( R2 "/\" R3 ) [= R2 by LATTICES:6;
thus L287: thesis by L286;
end;
theorem
L288: (for R1 being Lattice holds (R1 is  upper-bounded implies (. R1 .> = (. ( Top R1 ) .>))
proof
let R1 being Lattice;
assume L289: R1 is  upper-bounded;
L290: ( R1 .: ) is  lower-bounded by L289 , LATTICE2:49;
L291: <. ( R1 .: ) .) = <. ( Bottom ( R1 .: ) ) .) by L290 , FILTER_0:17;
L292: ( Bottom ( R1 .: ) ) = ( ( Top R1 ) .: ) by L289 , LATTICE2:62;
thus L293: thesis by L292 , L291 , L274;
end;
definition
let R1 being Lattice;
let R10 being (Ideal of R1);
pred R10 is_max-ideal 
means
(R10 <> (the carrier of R1) & (for R11 being (Ideal of R1) holds ((R10 c= R11 & R11 <> (the carrier of R1)) implies R10 = R11)))
;end;
theorem
L295: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (R10 is_max-ideal  iff ( R10 .: ) is  being_ultrafilter)))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
thus L296: (R10 is_max-ideal  implies ( R10 .: ) is  being_ultrafilter)
proof
assume that
L297: R10 <> H1(R1)
and
L298: (for R11 being (Ideal of R1) holds ((R10 c= R11 & R11 <> H1(R1)) implies R10 = R11));
thus L299: ( R10 .: ) <> H1(( R1 .: )) by L297;
let C100 being (Filter of ( R1 .: ));
L300: ( .: C100 ) = C100;
thus L301: thesis by L300 , L298;
end;

assume that
L302: ( R10 .: ) <> H1(( R1 .: ))
and
L303: (for B83 being (Filter of ( R1 .: )) holds ((( R10 .: ) c= B83 & B83 <> H1(( R1 .: ))) implies ( R10 .: ) = B83));
thus L304: R10 <> H1(R1) by L302;
let C101 being (Ideal of R1);
L305: ( C101 .: ) = C101;
thus L306: thesis by L305 , L303;
end;
theorem
L307: (for R1 being Lattice holds (R1 is  upper-bounded implies (for R10 being (Ideal of R1) holds (R10 <> (the carrier of R1) implies (ex R11 being (Ideal of R1) st (R10 c= R11 & R11 is_max-ideal ))))))
proof
let R1 being Lattice;
assume L308: R1 is  upper-bounded;
L309: ( R1 .: ) is  lower-bounded by L308 , LATTICE2:49;
let R10 being (Ideal of R1);
assume L310: R10 <> H1(R1);
consider C102 being (Filter of ( R1 .: )) such that L311: (( R10 .: ) c= C102 & C102 is  being_ultrafilter) by L310 , L309 , FILTER_0:18;
take ( .: C102 );
L312: ( ( .: C102 ) .: ) = ( .: C102 );
thus L313: thesis by L312 , L311 , L295;
end;
theorem
L314: (for R1 being Lattice holds (for R2 being (Element of R1) holds ((ex R4 being (Element of R1) st ( R2 "\/" R4 ) <> R2) implies (. R2 .> <> (the carrier of R1))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
given R4 being (Element of R1) such that
L315: ( R2 "\/" R4 ) <> R2;

L316: ( R2 "\/" R4 ) = ( ( R2 .: ) "/\" ( R4 .: ) );
L317: <. ( R2 .: ) .) <> H1(( R1 .: )) by L316 , L315 , FILTER_0:19;
thus L318: thesis by L317 , L274;
end;
theorem
L319: (for R1 being Lattice holds (for R2 being (Element of R1) holds ((R1 is  upper-bounded & R2 <> ( Top R1 )) implies (ex R10 being (Ideal of R1) st (R2 in R10 & R10 is_max-ideal )))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L320: R1 is  upper-bounded;
L321: (( R1 .: ) is  lower-bounded & ( Bottom ( R1 .: ) ) = ( Top R1 )) by L320 , LATTICE2:49 , LATTICE2:62;
assume L322: R2 <> ( Top R1 );
consider C103 being (Filter of ( R1 .: )) such that L323: (( R2 .: ) in C103 & C103 is  being_ultrafilter) by L322 , L321 , FILTER_0:20;
take ( .: C103 );
L324: ( ( .: C103 ) .: ) = ( .: C103 );
thus L325: thesis by L324 , L323 , L295;
end;
definition
let R1 being Lattice;
let R13 being non  empty (Subset of R1);
func (.R13 .> -> (Ideal of R1) means 
:L326: (R13 c= it & (for R10 being (Ideal of R1) holds (R13 c= R10 implies it c= R10)));
existence
proof
take D51 = ( .: <. ( R13 .: ) .) );
thus L327: R13 c= D51 by FILTER_0:def 4;
let R11 being (Ideal of R1);
L328: ( R11 .: ) = R11;
thus L329: thesis by L328 , FILTER_0:def 4;
end;
uniqueness
proof
let C104 , C105 being (Ideal of R1);
assume L330: (R13 c= C104 & (for R10 being (Ideal of R1) holds (R13 c= R10 implies C104 c= R10)) & R13 c= C105 & (for R10 being (Ideal of R1) holds (R13 c= R10 implies C105 c= R10)));
L331: (C104 c= C105 & C105 c= C104) by L330;
thus L332: thesis by L331 , XBOOLE_0:def 10;
end;
end;
L334: (for B84 , B85 being Lattice holds (for B86 being non  empty (Subset of B84) holds (for B87 being non  empty (Subset of B85) holds ((( the LattStr of B84 ) = ( the LattStr of B85 ) & B86 = B87) implies (<. B86 .) = <. B87 .) & (. B86 .> = (. B87 .>)))))
proof
let C106 , C107 being Lattice;
let C108 being non  empty (Subset of C106);
let C109 being non  empty (Subset of C107);
assume that
L335: ( the LattStr of C106 ) = ( the LattStr of C107 )
and
L336: C108 = C109;
L337: (C108 c= <. C108 .) & C109 c= <. C109 .)) by FILTER_0:def 4;
L338: (<. C108 .) is (Filter of C107) & <. C109 .) is (Filter of C106)) by L335 , L129;
thus L339: (<. C108 .) c= <. C109 .) & <. C109 .) c= <. C108 .)) by L338 , L336 , L337 , FILTER_0:def 4;
L340: (C108 c= (. C108 .> & C109 c= (. C109 .>) by L326;
L341: ((. C108 .> is (Ideal of C107) & (. C109 .> is (Ideal of C106)) by L335 , L136;
thus L342: ((. C108 .> c= (. C109 .> & (. C109 .> c= (. C108 .>) by L341 , L336 , L340 , L326;
end;
theorem
L343: (for R1 being Lattice holds (for R13 being non  empty (Subset of R1) holds (for R14 being non  empty (Subset of ( R1 .: )) holds (<. ( R13 .: ) .) = (. R13 .> & <. R13 .) = (. ( R13 .: ) .> & <. ( .: R14 ) .) = (. R14 .> & <. R14 .) = (. ( .: R14 ) .>))))
proof
let R1 being Lattice;
let R13 being non  empty (Subset of R1);
let R14 being non  empty (Subset of ( R1 .: ));
L344: (for R1 being Lattice holds (for R13 being non  empty (Subset of R1) holds <. ( R13 .: ) .) = (. R13 .>))
proof
let R1 being Lattice;
let R13 being non  empty (Subset of R1);
L345: ( (. R13 .> .: ) = (. R13 .>;
L346: (R13 c= (. R13 .> implies <. ( R13 .: ) .) c= (. R13 .>) by L345 , FILTER_0:def 4;
L347: ( .: <. ( R13 .: ) .) ) = <. ( R13 .: ) .);
L348: (R13 c= <. ( R13 .: ) .) implies (. R13 .> c= <. ( R13 .: ) .)) by L347 , L326;
thus L349: thesis by L348 , L346 , L326 , FILTER_0:def 4 , XBOOLE_0:def 10;
end;
L350: (<. ( ( R13 .: ) .: ) .) = <. R13 .) & <. ( ( ( .: R14 ) .: ) .: ) .) = <. ( .: R14 ) .)) by L334;
thus L351: thesis by L350 , L344;
end;
theorem
L352: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (. R10 .> = R10))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
L353: ((. R10 .> c= R10 & R10 c= (. R10 .>) by L326;
thus L354: thesis by L353 , XBOOLE_0:def 10;
end;
theorem
L355: (for R1 being Lattice holds (for R13 being non  empty (Subset of R1) holds (for R15 being non  empty (Subset of R1) holds (for R16 being non  empty (Subset of R1) holds ((R15 c= R16 implies (. R15 .> c= (. R16 .>) & (. (. R13 .> .> c= (. R13 .>)))))
proof
let R1 being Lattice;
let R13 being non  empty (Subset of R1);
let R15 being non  empty (Subset of R1);
let R16 being non  empty (Subset of R1);
L356: R16 c= (. R16 .> by L326;
L357: (R15 c= R16 implies R15 c= (. R16 .>) by L356 , XBOOLE_1:1;
thus L358: thesis by L357 , L326;
end;
theorem
L359: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R13 being non  empty (Subset of R1) holds (R2 in R13 implies (. R2 .> c= (. R13 .>))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R13 being non  empty (Subset of R1);
L360: (<. ( R2 .: ) .) = (. R2 .> & <. ( R13 .: ) .) = (. R13 .>) by L274 , L343;
thus L361: thesis by L360 , FILTER_0:23;
end;
theorem
L362: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R13 being non  empty (Subset of R1) holds (R13 = { R2 } implies (. R13 .> = (. R2 .>))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R13 being non  empty (Subset of R1);
L363: (<. ( R2 .: ) .) = (. R2 .> & <. ( R13 .: ) .) = (. R13 .>) by L274 , L343;
thus L364: thesis by L363 , FILTER_0:24;
end;
theorem
L365: (for R1 being Lattice holds (for R13 being non  empty (Subset of R1) holds ((R1 is  upper-bounded & ( Top R1 ) in R13) implies ((. R13 .> = (. R1 .> & (. R13 .> = (the carrier of R1)))))
proof
let R1 being Lattice;
let R13 being non  empty (Subset of R1);
assume L366: R1 is  upper-bounded;
L367: (( R1 .: ) is  lower-bounded & ( Bottom ( R1 .: ) ) = ( Top R1 )) by L366 , LATTICE2:49 , LATTICE2:62;
assume L368: ( Top R1 ) in R13;
L369: <. ( R13 .: ) .) = <. ( R1 .: ) .) by L368 , L367 , FILTER_0:25;
thus L370: thesis by L369 , L343;
end;
theorem
L371: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds ((R1 is  upper-bounded & ( Top R1 ) in R10) implies (R10 = (. R1 .> & R10 = (the carrier of R1)))))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
L372: (. R10 .> = R10 by L352;
thus L373: thesis by L372 , L365;
end;
definition
let R1 being Lattice;
let R10 being (Ideal of R1);
attr R10 is  prime
means
(for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (( R2 "/\" R3 ) in R10 iff (R2 in R10 or R3 in R10))));
end;
theorem
L375: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (R10 is  prime iff ( R10 .: ) is  prime)))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
thus L376: (R10 is  prime implies ( R10 .: ) is  prime)
proof
assume L377: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (( R2 "/\" R3 ) in R10 iff (R2 in R10 or R3 in R10))));
let R5 being (Element of ( R1 .: ));
let R6 being (Element of ( R1 .: ));
L378: ( R5 "\/" R6 ) = ( ( .: R5 ) "/\" ( .: R6 ) );
thus L379: thesis by L378 , L377;
end;

assume L380: (for R5 being (Element of ( R1 .: )) holds (for R6 being (Element of ( R1 .: )) holds (( R5 "\/" R6 ) in ( R10 .: ) iff (R5 in ( R10 .: ) or R6 in ( R10 .: )))));
let R2 being (Element of R1);
let R3 being (Element of R1);
L381: ( ( R2 .: ) "\/" ( R3 .: ) ) = ( R2 "/\" R3 );
thus L382: thesis by L381 , L380;
end;
definition
let R1 being Lattice;
let R15 being non  empty (Subset of R1);
let R16 being non  empty (Subset of R1);
func R15 "\/" R16 -> (Subset of R1) equals 
{ ( R2 "\/" R3 ) where R2 is (Element of R1) , R3 is (Element of R1) : (R2 in R15 & R3 in R16) };
coherence
proof
set D52 = { ( R2 "\/" R3 ) where R2 is (Element of R1) , R3 is (Element of R1) : (R2 in R15 & R3 in R16) };
L383: D52 c= H1(R1)
proof
let R8 being set;
assume L384: R8 in D52;
L385: (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R8 = ( R2 "\/" R3 ) & R2 in R15 & R3 in R16))) by L384;
thus L386: thesis by L385;
end;
thus L387: thesis by L383;
end;
end;
registration
let R1 being Lattice;
let R15 being non  empty (Subset of R1);
let R16 being non  empty (Subset of R1);
cluster ( R15 "\/" R16 ) -> non  empty;
coherence
proof
set D53 = { ( R2 "\/" R3 ) where R2 is (Element of R1) , R3 is (Element of R1) : (R2 in R15 & R3 in R16) };
set D54 = the (Element of R15);
set D55 = the (Element of R16);
L389: ( D54 "\/" D55 ) in D53;
reconsider D56 = D53 as non  empty set by L389;
L390: D56 = ( R15 "\/" R16 );
thus L391: thesis by L390;
end;
end;
L393: (for B88 , B89 being Lattice holds (for B90 , B91 being non  empty (Subset of B88) holds (for B92 , B93 being non  empty (Subset of B89) holds ((( the LattStr of B88 ) = ( the LattStr of B89 ) & B90 = B92 & B91 = B93) implies ( B90 "/\" B91 ) = ( B92 "/\" B93 )))))
proof
let C110 , C111 being Lattice;
let C112 , C113 being non  empty (Subset of C110);
let C114 , C115 being non  empty (Subset of C111);
assume that
L394: ( the LattStr of C110 ) = ( the LattStr of C111 )
and
L395: (C112 = C114 & C113 = C115);
thus L396: ( C112 "/\" C113 ) c= ( C114 "/\" C115 )
proof
let R8 being set;
assume L397: R8 in ( C112 "/\" C113 );
consider C116 , C117 being (Element of C110) such that L398: R8 = ( C116 "/\" C117 ) and L399: (C116 in C112 & C117 in C113) by L397;
reconsider D57 = C116 , D58 = C117 as (Element of C111) by L394;
L400: R8 = ( D57 "/\" D58 ) by L394 , L398;
thus L401: thesis by L400 , L395 , L399;
end;

let R8 being set;
assume L402: R8 in ( C114 "/\" C115 );
consider C118 , C119 being (Element of C111) such that L403: R8 = ( C118 "/\" C119 ) and L404: (C118 in C114 & C119 in C115) by L402;
reconsider D59 = C118 , D60 = C119 as (Element of C110) by L394;
L405: R8 = ( D59 "/\" D60 ) by L394 , L403;
thus L406: thesis by L405 , L395 , L404;
end;
theorem
L407: (for R1 being Lattice holds (for R15 being non  empty (Subset of R1) holds (for R16 being non  empty (Subset of R1) holds (for R17 being non  empty (Subset of ( R1 .: )) holds (for R18 being non  empty (Subset of ( R1 .: )) holds (( R15 "\/" R16 ) = ( ( R15 .: ) "/\" ( R16 .: ) ) & ( ( R15 .: ) "\/" ( R16 .: ) ) = ( R15 "/\" R16 ) & ( R17 "\/" R18 ) = ( ( .: R17 ) "/\" ( .: R18 ) ) & ( ( .: R17 ) "\/" ( .: R18 ) ) = ( R17 "/\" R18 )))))))
proof
let R1 being Lattice;
let R15 being non  empty (Subset of R1);
let R16 being non  empty (Subset of R1);
let R17 being non  empty (Subset of ( R1 .: ));
let R18 being non  empty (Subset of ( R1 .: ));
L408: (for R1 being Lattice holds (for R15 being non  empty (Subset of R1) holds (for R16 being non  empty (Subset of R1) holds ( R15 "\/" R16 ) = ( ( R15 .: ) "/\" ( R16 .: ) ))))
proof
let R1 being Lattice;
let R15 being non  empty (Subset of R1);
let R16 being non  empty (Subset of R1);
thus L409: ( R15 "\/" R16 ) c= ( ( R15 .: ) "/\" ( R16 .: ) )
proof
let R8 being set;
assume L410: R8 in ( R15 "\/" R16 );
consider R2 being (Element of R1), R3 being (Element of R1) such that L411: (R8 = ( R2 "\/" R3 ) & R2 in R15 & R3 in R16) by L410;
L412: ( R2 "\/" R3 ) = ( ( R2 .: ) "/\" ( R3 .: ) );
thus L413: thesis by L412 , L411;
end;

thus L414: ( ( R15 .: ) "/\" ( R16 .: ) ) c= ( R15 "\/" R16 )
proof
let R8 being set;
assume L415: R8 in ( ( R15 .: ) "/\" ( R16 .: ) );
consider R5 being (Element of ( R1 .: )), R6 being (Element of ( R1 .: )) such that L416: (R8 = ( R5 "/\" R6 ) & R5 in R15 & R6 in R16) by L415;
L417: ( ( .: R5 ) "\/" ( .: R6 ) ) = ( R5 "/\" R6 );
thus L418: thesis by L417 , L416;
end;

end;
L415: (( ( .: R17 ) .: ) = ( .: R17 ) & ( ( .: R18 ) .: ) = ( .: R18 ));
L416: (( ( ( R15 .: ) .: ) "/\" ( ( R16 .: ) .: ) ) = ( R15 "/\" R16 ) & ( ( R17 .: ) "/\" ( R18 .: ) ) = ( ( .: R17 ) "/\" ( .: R18 ) )) by L393;
thus L417: thesis by L416 , L408 , L415;
end;
theorem
L418: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R15 being non  empty (Subset of R1) holds (for R16 being non  empty (Subset of R1) holds ((R2 in R15 & R3 in R16) implies (( R2 "\/" R3 ) in ( R15 "\/" R16 ) & ( R3 "\/" R2 ) in ( R15 "\/" R16 ))))))));
theorem
L419: (for R1 being Lattice holds (for R8 being set holds (for R15 being non  empty (Subset of R1) holds (for R16 being non  empty (Subset of R1) holds (R8 in ( R15 "\/" R16 ) implies (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R8 = ( R2 "\/" R3 ) & R2 in R15 & R3 in R16))))))));
theorem
L420: (for R1 being Lattice holds (for R15 being non  empty (Subset of R1) holds (for R16 being non  empty (Subset of R1) holds ( R15 "\/" R16 ) = ( R16 "\/" R15 ))))
proof
let R1 being Lattice;
let R15 being non  empty (Subset of R1);
let R16 being non  empty (Subset of R1);
let R4 being (Element of R1);
thus L421: (R4 in ( R15 "\/" R16 ) implies R4 in ( R16 "\/" R15 ))
proof
assume L422: R4 in ( R15 "\/" R16 );
L423: (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R4 = ( R2 "\/" R3 ) & R2 in R15 & R3 in R16))) by L422;
thus L424: thesis by L423;
end;

assume L425: R4 in ( R16 "\/" R15 );
L426: (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R4 = ( R2 "\/" R3 ) & R2 in R16 & R3 in R15))) by L425;
thus L427: thesis by L426;
end;
registration
let C120 being D_Lattice;
let C121 , C122 being (Ideal of C120);
cluster ( C121 "\/" C122 ) ->  initial  join-closed;
coherence
proof
reconsider D61 = ( C120 .: ) as D_Lattice by LATTICE2:50;
reconsider D62 = ( C121 .: ) , D63 = ( C122 .: ) as (Filter of D61);
L428: (( C121 "\/" C122 ) = ( ( C121 .: ) "/\" ( C122 .: ) ) & ( D62 "/\" D63 ) = ( ( D62 "/\" D63 ) .: )) by L407;
thus L429: thesis by L428 , L136;
end;
end;
theorem
L431: (for R1 being Lattice holds (for R15 being non  empty (Subset of R1) holds (for R16 being non  empty (Subset of R1) holds ((. ( R15 \/ R16 ) .> = (. ( (. R15 .> \/ R16 ) .> & (. ( R15 \/ R16 ) .> = (. ( R15 \/ (. R16 .> ) .>))))
proof
let R1 being Lattice;
let R15 being non  empty (Subset of R1);
let R16 being non  empty (Subset of R1);
L432: ((. ( R15 \/ (. R16 .> ) .> = <. ( ( R15 \/ (. R16 .> ) .: ) .) & (. R16 .> = <. ( R16 .: ) .)) by L343;
L433: (. ( R15 \/ R16 ) .> = <. ( ( R15 \/ R16 ) .: ) .) by L343;
L434: ((. ( (. R15 .> \/ R16 ) .> = <. ( ( (. R15 .> \/ R16 ) .: ) .) & (. R15 .> = <. ( R15 .: ) .)) by L343;
thus L435: thesis by L434 , L432 , L433 , FILTER_0:34;
end;
theorem
L436: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (for R11 being (Ideal of R1) holds (. ( R10 \/ R11 ) .> = { R4 where R4 is (Element of R1) : (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R4 [= ( R2 "\/" R3 ) & R2 in R10 & R3 in R11))) })))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
let R11 being (Ideal of R1);
L437: ( R11 .: ) = R11;
L438: ((. ( R10 \/ R11 ) .> = <. ( ( R10 \/ R11 ) .: ) .) & ( R10 .: ) = R10) by L343;
L439: (. ( R10 \/ R11 ) .> = { R7 where R7 is (Element of ( R1 .: )) : (ex R5 being (Element of ( R1 .: )) st (ex R6 being (Element of ( R1 .: )) st (( R5 "/\" R6 ) [= R7 & R5 in R10 & R6 in R11))) } by L438 , L437 , FILTER_0:35;
thus L440: (. ( R10 \/ R11 ) .> c= { R4 where R4 is (Element of R1) : (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R4 [= ( R2 "\/" R3 ) & R2 in R10 & R3 in R11))) }
proof
let R8 being set;
assume L441: R8 in (. ( R10 \/ R11 ) .>;
consider R7 being (Element of ( R1 .: )) such that L442: R8 = R7 and L443: (ex R5 being (Element of ( R1 .: )) st (ex R6 being (Element of ( R1 .: )) st (( R5 "/\" R6 ) [= R7 & R5 in R10 & R6 in R11))) by L441 , L439;
consider R5 being (Element of ( R1 .: )), R6 being (Element of ( R1 .: )) such that L444: ( R5 "/\" R6 ) [= R7 and L445: (R5 in R10 & R6 in R11) by L443;
L446: ( R5 "/\" R6 ) = ( ( .: R5 ) "\/" ( .: R6 ) );
L447: ( .: R7 ) [= ( .: ( R5 "/\" R6 ) ) by L444 , LATTICE2:39;
thus L448: thesis by L447 , L442 , L445 , L446;
end;

let R8 being set;
assume L449: R8 in { R4 where R4 is (Element of R1) : (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R4 [= ( R2 "\/" R3 ) & R2 in R10 & R3 in R11))) };
consider R4 being (Element of R1) such that L450: R8 = R4 and L451: (ex R2 being (Element of R1) st (ex R3 being (Element of R1) st (R4 [= ( R2 "\/" R3 ) & R2 in R10 & R3 in R11))) by L449;
consider R2 being (Element of R1), R3 being (Element of R1) such that L452: R4 [= ( R2 "\/" R3 ) and L453: (R2 in R10 & R3 in R11) by L451;
L454: ( R2 "\/" R3 ) = ( ( R2 .: ) "/\" ( R3 .: ) );
L455: ( ( R2 "\/" R3 ) .: ) [= ( R4 .: ) by L452 , LATTICE2:38;
thus L456: thesis by L455 , L439 , L450 , L453 , L454;
end;
theorem
L457: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (for R11 being (Ideal of R1) holds (R10 c= ( R10 "\/" R11 ) & R11 c= ( R10 "\/" R11 )))))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
let R11 being (Ideal of R1);
L458: ( R10 "\/" R11 ) = ( ( R10 .: ) "/\" ( R11 .: ) ) by L407;
thus L459: thesis by L458 , FILTER_0:36;
end;
theorem
L460: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (for R11 being (Ideal of R1) holds (. ( R10 \/ R11 ) .> = (. ( R10 "\/" R11 ) .>)))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
let R11 being (Ideal of R1);
L461: (. ( R10 "\/" R11 ) .> = <. ( ( R10 "\/" R11 ) .: ) .) by L343;
L462: ((. ( R10 \/ R11 ) .> = <. ( ( R10 \/ R11 ) .: ) .) & ( ( R10 .: ) "/\" ( R11 .: ) ) = ( R10 "\/" R11 )) by L343 , L407;
thus L463: thesis by L462 , L461 , FILTER_0:37;
end;
theorem
L464: (for R1 being Lattice holds (R1 is C_Lattice iff ( R1 .: ) is C_Lattice))
proof
let R1 being Lattice;
L465: (R1 is  upper-bounded iff ( R1 .: ) is  lower-bounded) by LATTICE2:49;
L466: (R1 is  lower-bounded iff ( R1 .: ) is  upper-bounded) by LATTICE2:48;
thus L467: (R1 is C_Lattice implies ( R1 .: ) is C_Lattice)
proof
assume L468: R1 is C_Lattice;
L469:
now
let R5 being (Element of ( R1 .: ));
consider R3 being (Element of R1) such that L470: R3 is_a_complement_of ( .: R5 ) by L468 , LATTICES:def 19;
take D64 = ( R3 .: );
L471: ( R3 "\/" ( .: R5 ) ) = ( Top R1 ) by L470 , LATTICES:def 18;
L472: ( ( R3 .: ) "/\" R5 ) = ( Top R1 ) by L471;
L473: ( R3 "/\" ( .: R5 ) ) = ( Bottom R1 ) by L470 , LATTICES:def 18;
L474: ( ( R3 .: ) "\/" R5 ) = ( Bottom R1 ) by L473;
L475: (( Top ( R1 .: ) ) = ( Bottom R1 ) & ( Bottom ( R1 .: ) ) = ( Top R1 )) by L468 , LATTICE2:61 , LATTICE2:62;
thus L476: D64 is_a_complement_of R5 by L475 , L472 , L474 , LATTICES:def 18;
end;
thus L477: thesis by L469 , L466 , L465 , L468 , LATTICES:def 19;
end;

assume L478: ( R1 .: ) is C_Lattice;
L479:
now
let R2 being (Element of R1);
consider R6 being (Element of ( R1 .: )) such that L480: R6 is_a_complement_of ( R2 .: ) by L478 , LATTICES:def 19;
L481: ( R6 "\/" ( R2 .: ) ) = ( Top ( R1 .: ) ) by L480 , LATTICES:def 18;
L482: ( ( .: R6 ) "/\" R2 ) = ( Top ( R1 .: ) ) by L481;
take D65 = ( .: R6 );
L483: R1 is  upper-bounded by L478 , LATTICE2:49;
L484: ( Bottom ( R1 .: ) ) = ( Top R1 ) by L483 , LATTICE2:62;
L485: ( R6 "/\" ( R2 .: ) ) = ( Bottom ( R1 .: ) ) by L480 , LATTICES:def 18;
L486: ( ( .: R6 ) "\/" R2 ) = ( Bottom ( R1 .: ) ) by L485;
L487: R1 is  lower-bounded by L478 , LATTICE2:48;
L488: ( Top ( R1 .: ) ) = ( Bottom R1 ) by L487 , LATTICE2:61;
thus L489: D65 is_a_complement_of R2 by L488 , L482 , L486 , L484 , LATTICES:def 18;
end;
thus L490: thesis by L479 , L466 , L465 , L478 , LATTICES:def 19;
end;
theorem
L491: (for R1 being Lattice holds (R1 is B_Lattice iff ( R1 .: ) is B_Lattice))
proof
let R1 being Lattice;
L492: (R1 is  distributive iff ( R1 .: ) is  distributive) by LATTICE2:50;
L493: (R1 is C_Lattice iff ( R1 .: ) is C_Lattice) by L464;
thus L494: thesis by L493 , L492;
end;
registration
let C123 being B_Lattice;
cluster ( C123 .: ) ->  Boolean  Lattice-like;
coherence by L491;
end;
L496: (for R19 being B_Lattice holds (for R22 being (Element of R19) holds ( ( R22 .: ) ` ) = ( R22 ` )))
proof
let R19 being B_Lattice;
let R22 being (Element of R19);
L497: ( ( ( R22 .: ) ` ) "/\" ( R22 .: ) ) = ( Bottom ( R19 .: ) ) by LATTICES:20;
L498: ( ( .: ( ( R22 .: ) ` ) ) "\/" ( .: ( R22 .: ) ) ) = ( Top R19 ) by L497 , LATTICE2:62;
L499: ( ( ( R22 .: ) ` ) "\/" ( R22 .: ) ) = ( Top ( R19 .: ) ) by LATTICES:21;
L500: ( ( .: ( ( R22 .: ) ` ) ) "/\" ( .: ( R22 .: ) ) ) = ( Bottom R19 ) by L499 , LATTICE2:61;
L501: ( .: ( ( R22 .: ) ` ) ) is_a_complement_of R22 by L500 , L498 , LATTICES:def 18;
thus L502: thesis by L501 , LATTICES:def 21;
end;
theorem
L503: (for R19 being B_Lattice holds (for R22 being (Element of R19) holds (for R24 being (Element of ( (R19 qua Lattice) .: )) holds (( ( R22 .: ) ` ) = ( R22 ` ) & ( ( .: R24 ) ` ) = ( R24 ` )))))
proof
let R19 being B_Lattice;
let R22 being (Element of R19);
let R24 being (Element of ( (R19 qua Lattice) .: ));
L504: ( ( .: R24 ) .: ) = ( .: R24 );
thus L505: thesis by L504 , L496;
end;
theorem
L506: (for R19 being B_Lattice holds (for R20 being (Ideal of R19) holds (for R21 being (Ideal of R19) holds (. ( R20 \/ R21 ) .> = ( R20 "\/" R21 ))))
proof
let R19 being B_Lattice;
let R20 being (Ideal of R19);
let R21 being (Ideal of R19);
reconsider D66 = ( R20 .: ) , D67 = ( R21 .: ) as (Filter of ( R19 .: ));
thus L507: (. ( R20 \/ R21 ) .> = <. ( ( R20 \/ R21 ) .: ) .) by L343
.= ( D66 "/\" D67 ) by FILTER_0:39
.= ( R20 "\/" R21 ) by L407;
end;
theorem
L508: (for R19 being B_Lattice holds (for R20 being (Ideal of R19) holds (R20 is_max-ideal  iff (R20 <> (the carrier of R19) & (for R22 being (Element of R19) holds (R22 in R20 or ( R22 ` ) in R20))))))
proof
let R19 being B_Lattice;
let R20 being (Ideal of R19);
reconsider D68 = ( R20 .: ) as (Filter of ( R19 .: ));
L509: (D68 is  being_ultrafilter iff (D68 <> H1(( R19 .: )) & (for B94 being (Element of ( R19 .: )) holds (B94 in D68 or ( B94 ` ) in D68)))) by FILTER_0:44;
thus L510: (R20 is_max-ideal  implies (R20 <> H1(R19) & (for R22 being (Element of R19) holds (R22 in R20 or ( R22 ` ) in R20))))
proof
assume L511: R20 is_max-ideal ;
thus L512: R20 <> H1(R19) by L511 , L509 , L295;
let R22 being (Element of R19);
reconsider D69 = R22 as (Element of ( R19 .: ));
L513: (D69 in D68 or (( D69 ` ) in D68 & ( ( R22 .: ) ` ) = ( R22 ` ))) by L509 , L511 , L295 , L503;
thus L514: thesis by L513;
end;

assume that
L515: R20 <> H1(R19)
and
L516: (for R22 being (Element of R19) holds (R22 in R20 or ( R22 ` ) in R20));
L517:
now
let C124 being (Element of ( R19 .: ));
reconsider D70 = C124 as (Element of R19);
L518: (D70 in D68 or (( D70 ` ) in D68 & ( ( .: (C124 qua (Element of ( (R19 qua Lattice) .: ))) ) ` ) = ( C124 ` ))) by L516 , L503;
thus L519: (C124 in D68 or ( C124 ` ) in D68) by L518;
end;
thus L520: thesis by L517 , L509 , L515 , L295;
end;
theorem
L521: (for R19 being B_Lattice holds (for R20 being (Ideal of R19) holds ((R20 <> (. R19 .> & R20 is  prime) iff R20 is_max-ideal )))
proof
let R19 being B_Lattice;
let R20 being (Ideal of R19);
reconsider D71 = ( R20 .: ) as (Filter of ( R19 .: ));
L522: <. ( R19 .: ) .) = (. R19 .>;
L523: ((D71 <> (. R19 .> & D71 is  prime) iff D71 is  being_ultrafilter) by L522 , FILTER_0:45;
thus L524: thesis by L523 , L295 , L375;
end;
theorem
L525: (for R19 being B_Lattice holds (for R20 being (Ideal of R19) holds (R20 is_max-ideal  implies (for R22 being (Element of R19) holds (R22 in R20 iff (not ( R22 ` ) in R20))))))
proof
let R19 being B_Lattice;
let R20 being (Ideal of R19);
reconsider D72 = ( R20 .: ) as (Filter of ( R19 .: ));
assume L526: R20 is_max-ideal ;
L527: D72 is  being_ultrafilter by L526 , L295;
let R22 being (Element of R19);
L528: ( ( R22 .: ) ` ) = ( R22 ` ) by L496;
thus L529: thesis by L528 , L527 , FILTER_0:46;
end;
theorem
L530: (for R19 being B_Lattice holds (for R22 being (Element of R19) holds (for R23 being (Element of R19) holds (R22 <> R23 implies (ex R20 being (Ideal of R19) st (R20 is_max-ideal  & ((R22 in R20 & (not R23 in R20)) or ((not R22 in R20) & R23 in R20))))))))
proof
let R19 being B_Lattice;
let R22 being (Element of R19);
let R23 being (Element of R19);
assume L531: R22 <> R23;
consider C125 being (Filter of ( R19 .: )) such that L532: C125 is  being_ultrafilter and L533: ((( R22 .: ) in C125 & (not ( R23 .: ) in C125)) or ((not ( R22 .: ) in C125) & ( R23 .: ) in C125)) by L531 , FILTER_0:47;
take D73 = ( .: (C125 qua (Filter of ( (R19 qua Lattice) .: ))) );
L534: ( D73 .: ) = C125;
thus L535: D73 is_max-ideal  by L534 , L532 , L295;
thus L536: thesis by L533;
end;
theorem
L537: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds (( (the L_join of R1) || R25 ) is (BinOp of R25) & ( (the L_meet of R1) || R25 ) is (BinOp of R25))))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
L538: ( dom H2(R1) ) = [: H1(R1) , H1(R1) :] by FUNCT_2:def 1;
L539: ( dom ( H2(R1) || R25 ) ) = [: R25 , R25 :] by L538 , RELAT_1:62;
L540: ( rng ( H2(R1) || R25 ) ) c= R25
proof
let R8 being set;
assume L541: R8 in ( rng ( H2(R1) || R25 ) );
consider R9 being set such that L542: R9 in [: R25 , R25 :] and L543: R8 = ( ( H2(R1) || R25 ) . R9 ) by L541 , L539 , FUNCT_1:def 3;
consider C126 , C127 being (Element of R25) such that L544: R9 = [ C126 , C127 ] by L542 , DOMAIN_1:1;
L545: R8 = ( C126 "\/" C127 ) by L539 , L543 , L544 , FUNCT_1:47;
thus L546: thesis by L545 , LATTICES:def 25;
end;
thus L547: ( H2(R1) || R25 ) is (BinOp of R25) by L540 , L539 , FUNCT_2:def 1 , RELSET_1:4;
L548: ( dom H3(R1) ) = [: H1(R1) , H1(R1) :] by FUNCT_2:def 1;
L549: ( dom ( H3(R1) || R25 ) ) = [: R25 , R25 :] by L548 , RELAT_1:62;
L550: ( rng ( H3(R1) || R25 ) ) c= R25
proof
let R8 being set;
assume L551: R8 in ( rng ( H3(R1) || R25 ) );
consider R9 being set such that L552: R9 in [: R25 , R25 :] and L553: R8 = ( ( H3(R1) || R25 ) . R9 ) by L551 , L549 , FUNCT_1:def 3;
consider C128 , C129 being (Element of R25) such that L554: R9 = [ C128 , C129 ] by L552 , DOMAIN_1:1;
L555: R8 = ( C128 "/\" C129 ) by L549 , L553 , L554 , FUNCT_1:47;
thus L556: thesis by L555 , LATTICES:def 24;
end;
thus L557: thesis by L550 , L549 , FUNCT_2:def 1 , RELSET_1:4;
end;
theorem
L558: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds (for R26 being (BinOp of R25) holds (for R27 being (BinOp of R25) holds ((R26 = ( (the L_join of R1) || R25 ) & R27 = ( (the L_meet of R1) || R25 )) implies (R26 is  commutative & R26 is  associative & R27 is  commutative & R27 is  associative & R26 absorbs R27 & R27 absorbs R26))))))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
let R26 being (BinOp of R25);
let R27 being (BinOp of R25);
L559: (H2(R1) absorbs H3(R1) & H3(R1) absorbs H2(R1)) by LATTICE2:26 , LATTICE2:27;
thus L560: thesis by L559 , L1 , L57;
end;
definition
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
assume L561: R2 [= R3;
func [#R2 , R3 #] -> non  empty (ClosedSubset of R1) equals 
:L562: { R4 where R4 is (Element of R1) : (R2 [= R4 & R4 [= R3) };
coherence
proof
set D74 = { R4 where R4 is (Element of R1) : (R2 [= R4 & R4 [= R3) };
L563: R2 in D74 by L561;
reconsider D75 = D74 as non  empty set by L563;
L564: D75 c= H1(R1)
proof
let C130 being set;
assume L565: C130 in D75;
L566: (ex R4 being (Element of R1) st (C130 = R4 & R2 [= R4 & R4 [= R3)) by L565;
thus L567: thesis by L566;
end;
reconsider D76 = D75 as non  empty (Subset of R1) by L564;
L568:
now
let C131 , C132 being (Element of R1);
assume that
L569: C131 in D76
and
L570: C132 in D76;
L571: (ex R4 being (Element of R1) st (C131 = R4 & R2 [= R4 & R4 [= R3)) by L569;
L572: (R2 [= ( C131 "\/" C132 ) & ( C131 "/\" C132 ) [= R3) by L571 , FILTER_0:2 , FILTER_0:3;
L573: (ex R4 being (Element of R1) st (C132 = R4 & R2 [= R4 & R4 [= R3)) by L570;
L574: (R2 [= ( C131 "/\" C132 ) & ( C131 "\/" C132 ) [= R3) by L573 , L571 , FILTER_0:6 , FILTER_0:7;
thus L575: (( C131 "/\" C132 ) in D76 & ( C131 "\/" C132 ) in D76) by L574 , L572;
end;
L576: ((for B95 , B96 being (Element of R1) holds ((B95 in D76 & B96 in D76) implies ( B95 "/\" B96 ) in D76)) & (for B97 , B98 being (Element of R1) holds ((B97 in D76 & B98 in D76) implies ( B97 "\/" B98 ) in D76))) by L568;
thus L577: thesis by L576 , LATTICES:def 24 , LATTICES:def 25;
end;
end;
theorem
L579: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (R2 [= R3 implies (R4 in [# R2 , R3 #] iff (R2 [= R4 & R4 [= R3)))))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R4 being (Element of R1);
assume L580: R2 [= R3;
L581: [# R2 , R3 #] = { B99 where B99 is (Element of R1) : (R2 [= B99 & B99 [= R3) } by L580 , L562;
L582: (R4 in [# R2 , R3 #] iff (ex B100 being (Element of R1) st (R4 = B100 & R2 [= B100 & B100 [= R3))) by L581;
thus L583: thesis by L582;
end;
theorem
L584: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (R2 [= R3 implies (R2 in [# R2 , R3 #] & R3 in [# R2 , R3 #]))))) by L579;
theorem
L585: (for R1 being Lattice holds (for R2 being (Element of R1) holds [# R2 , R2 #] = { R2 }))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
thus L586:now
assume L587: R3 in [# R2 , R2 #];
L588: (R2 [= R3 & R3 [= R2) by L587 , L579;
L589: R3 = R2 by L588 , LATTICES:8;
thus L590: R3 in { R2 } by L589 , TARSKI:def 1;
end;
L591: R2 in [# R2 , R2 #] by L579;
thus L592: thesis by L591 , TARSKI:def 1;
end;
theorem
L593: (for R1 being Lattice holds (for R2 being (Element of R1) holds (R1 is  upper-bounded implies <. R2 .) = [# R2 , ( Top R1 ) #])))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L594: R1 is  upper-bounded;
let R3 being (Element of R1);
L595: (R3 in <. R2 .) iff R2 [= R3) by FILTER_0:15;
L596: (R2 [= ( Top R1 ) & R3 [= ( Top R1 )) by L594 , LATTICES:19;
thus L597: thesis by L596 , L595 , L579;
end;
theorem
L598: (for R1 being Lattice holds (for R2 being (Element of R1) holds (R1 is  lower-bounded implies (. R2 .> = [# ( Bottom R1 ) , R2 #])))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L599: R1 is  lower-bounded;
let R3 being (Element of R1);
L600: (R3 in (. R2 .> iff R3 [= R2) by L271;
L601: (( Bottom R1 ) [= R2 & ( Bottom R1 ) [= R3) by L599 , LATTICES:16;
thus L602: thesis by L601 , L600 , L579;
end;
theorem
L603: (for B101 , B102 being Lattice holds (for B103 being (Filter of B101) holds (for B104 being (Filter of B102) holds ((( the LattStr of B101 ) = ( the LattStr of B102 ) & B103 = B104) implies ( latt B103 ) = ( latt B104 )))))
proof
let C133 , C134 being Lattice;
let C135 being (Filter of C133);
let C136 being (Filter of C134);
L604: (ex B105 , B106 being (BinOp of C135) st (B105 = ( (the L_join of C133) || C135 ) & B106 = ( (the L_meet of C133) || C135 ) & ( latt C135 ) = LattStr (# C135 , B105 , B106 #))) by FILTER_0:def 9;
thus L605: thesis by L604 , FILTER_0:def 9;
end;
begin
notation
let R1 being Lattice;
synonym Sublattice of R1 for SubLattice of R1;
end;
definition
let R1 being Lattice;
redefine mode Sublattice of R1
means :L607: (ex R25 being non  empty (ClosedSubset of R1) st (ex R26 being (BinOp of R25) st (ex R27 being (BinOp of R25) st (R26 = ( (the L_join of R1) || R25 ) & R27 = ( (the L_meet of R1) || R25 ) & ( the LattStr of it ) = LattStr (# R25 , R26 , R27 #)))));
compatibility
proof
let C137 being Lattice;
thus L608: (C137 is (SubLattice of R1) implies (ex R25 being non  empty (ClosedSubset of R1) st (ex R26 being (BinOp of R25) st (ex R27 being (BinOp of R25) st (R26 = ( (the L_join of R1) || R25 ) & R27 = ( (the L_meet of R1) || R25 ) & ( the LattStr of C137 ) = LattStr (# R25 , R26 , R27 #))))))
proof
assume L609: C137 is (SubLattice of R1);
L610: H3(C137) = ( H3(R1) || H1(C137) ) by L609 , NAT_LAT:def 12;
reconsider D77 = H1(C137) as non  empty (Subset of R1) by L609 , NAT_LAT:def 12;
L611: H2(C137) = ( H2(R1) || H1(C137) ) by L609 , NAT_LAT:def 12;
L612:
now
let C138 , C139 being (Element of R1);
assume L613: (C138 in D77 & C139 in D77);
L614: [ C138 , C139 ] in [: D77 , D77 :] by L613 , ZFMISC_1:87;
L615: ( dom H3(C137) ) = [: D77 , D77 :] by FUNCT_2:def 1;
L616: ( H3(R1) . [ C138 , C139 ] ) = ( H3(C137) . [ C138 , C139 ] ) by L615 , L610 , L614 , FUNCT_1:47;
L617: ( dom H2(C137) ) = [: D77 , D77 :] by FUNCT_2:def 1;
L618: ( H2(R1) . [ C138 , C139 ] ) = ( H2(C137) . [ C138 , C139 ] ) by L617 , L611 , L614 , FUNCT_1:47;
thus L619: (( C138 "/\" C139 ) in D77 & ( C138 "\/" C139 ) in D77) by L618 , L614 , L616 , FUNCT_2:5;
end;
L620: ((for B107 , B108 being (Element of R1) holds ((B107 in D77 & B108 in D77) implies ( B107 "/\" B108 ) in D77)) & (for B109 , B110 being (Element of R1) holds ((B109 in D77 & B110 in D77) implies ( B109 "\/" B110 ) in D77))) by L612;
reconsider D78 = D77 as non  empty (ClosedSubset of R1) by L620 , LATTICES:def 24 , LATTICES:def 25;
take D78;
reconsider D79 = H2(C137) , D80 = H3(C137) as (BinOp of D78);
take D79;
take D80;
thus L621: thesis by L609 , NAT_LAT:def 12;
end;

given R25 being non  empty (ClosedSubset of R1) , R26 being (BinOp of R25) , R27 being (BinOp of R25) such that
L622: (R26 = ( (the L_join of R1) || R25 ) & R27 = ( (the L_meet of R1) || R25 ) & ( the LattStr of C137 ) = LattStr (# R25 , R26 , R27 #));

thus L623: thesis by L622 , NAT_LAT:def 12;
end;
end;
theorem
L625: (for R1 being Lattice holds (for B111 being (Sublattice of R1) holds (for B112 being (Element of B111) holds B112 is (Element of R1))))
proof
let R1 being Lattice;
let C140 being (Sublattice of R1);
L626: H1(C140) c= H1(R1) by NAT_LAT:def 12;
thus L627: thesis by L626 , TARSKI:def 3;
end;
definition
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
func latt (R1 , R25) -> (Sublattice of R1) means 
:L628: (ex R26 being (BinOp of R25) st (ex R27 being (BinOp of R25) st (R26 = ( (the L_join of R1) || R25 ) & R27 = ( (the L_meet of R1) || R25 ) & it = LattStr (# R25 , R26 , R27 #))));
existence
proof
reconsider D81 = ( H2(R1) || R25 ) , D82 = ( H3(R1) || R25 ) as (BinOp of R25) by L537;
L629: D81 = ( H2(R1) || R25 );
L630: D82 is  commutative  associative by L629 , L558;
L631: D82 = ( H3(R1) || R25 );
L632: D81 is  commutative  associative by L631 , L558;
L633: (D81 absorbs D82 & D82 absorbs D81) by L558;
reconsider D83 = LattStr (# R25 , D81 , D82 #) as  strict Lattice by L633 , L632 , L630 , LATTICE2:11;
reconsider D84 = D83 as  strict (Sublattice of R1) by NAT_LAT:def 12;
take D84;
take D81;
take D82;
thus L634: thesis;
end;
uniqueness;
end;
registration
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
cluster ( latt (R1 , R25) ) ->  strict;
coherence
proof
L636: (ex R26 being (BinOp of R25) st (ex R27 being (BinOp of R25) st (R26 = ( (the L_join of R1) || R25 ) & R27 = ( (the L_meet of R1) || R25 ) & ( latt (R1 , R25) ) = LattStr (# R25 , R26 , R27 #)))) by L628;
thus L637: thesis by L636;
end;
end;
definition
let R1 being Lattice;
let C141 being (Sublattice of R1);
redefine func C141 .: ->  strict (Sublattice of ( R1 .: ));

coherence
proof
consider R25 being non  empty (ClosedSubset of R1), R26 being (BinOp of R25), R27 being (BinOp of R25) such that L639: (R26 = ( H2(R1) || R25 ) & R27 = ( H3(R1) || R25 ) & ( the LattStr of C141 ) = LattStr (# R25 , R26 , R27 #)) by L607;
L640: ( C141 .: ) is (Sublattice of ( R1 .: ))
proof
take ( R25 .: );
thus L641: thesis by L639;
end;
thus L642: thesis by L640;
end;
end;
theorem
L644: (for R1 being Lattice holds (for R12 being (Filter of R1) holds ( latt R12 ) = ( latt (R1 , R12) )))
proof
let R1 being Lattice;
let R12 being (Filter of R1);
L645: (ex B113 , B114 being (BinOp of R12) st (B113 = ( H2(R1) || R12 ) & B114 = ( H3(R1) || R12 ) & ( latt (R1 , R12) ) = LattStr (# R12 , B113 , B114 #))) by L628;
thus L646: thesis by L645 , FILTER_0:def 9;
end;
theorem
L647: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds ( latt (R1 , R25) ) = ( ( latt (( R1 .: ) , ( R25 .: )) ) .: )))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
L648: ((ex R26 being (BinOp of R25) st (ex R27 being (BinOp of R25) st (R26 = ( H2(R1) || R25 ) & R27 = ( H3(R1) || R25 ) & ( latt (R1 , R25) ) = LattStr (# R25 , R26 , R27 #)))) & (ex B115 , B116 being (BinOp of ( R25 .: )) st (B115 = ( H2(( R1 .: )) || ( R25 .: ) ) & B116 = ( H3(( R1 .: )) || ( R25 .: ) ) & ( latt (( R1 .: ) , ( R25 .: )) ) = LattStr (# ( R25 .: ) , B115 , B116 #)))) by L628;
thus L649: thesis by L648;
end;
theorem
L650: (for R1 being Lattice holds (( latt (R1 , (. R1 .>) ) = ( the LattStr of R1 ) & ( latt (R1 , <. R1 .)) ) = ( the LattStr of R1 )))
proof
let R1 being Lattice;
L651: (( dom H3(R1) ) = [: H1(R1) , H1(R1) :] & ( H2(R1) | (( dom H2(R1) ) qua set) ) = H2(R1)) by FUNCT_2:def 1 , RELAT_1:68;
L652: ((ex B117 , B118 being (BinOp of (. R1 .>) st (B117 = ( (the L_join of R1) || (. R1 .> ) & B118 = ( (the L_meet of R1) || (. R1 .> ) & ( latt (R1 , (. R1 .>) ) = LattStr (# (. R1 .> , B117 , B118 #))) & ( dom H2(R1) ) = [: H1(R1) , H1(R1) :]) by L628 , FUNCT_2:def 1;
thus L653: thesis by L652 , L651 , RELAT_1:68;
end;
theorem
L654: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds ((the carrier of ( latt (R1 , R25) )) = R25 & (the L_join of ( latt (R1 , R25) )) = ( (the L_join of R1) || R25 ) & (the L_meet of ( latt (R1 , R25) )) = ( (the L_meet of R1) || R25 ))))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
L655: (ex R26 being (BinOp of R25) st (ex R27 being (BinOp of R25) st (R26 = ( H2(R1) || R25 ) & R27 = ( H3(R1) || R25 ) & ( latt (R1 , R25) ) = LattStr (# R25 , R26 , R27 #)))) by L628;
thus L656: thesis by L655;
end;
theorem
L657: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for B119 , B120 being (Element of ( latt (R1 , R25) )) holds ((R2 = B119 & R3 = B120) implies (( R2 "\/" R3 ) = ( B119 "\/" B120 ) & ( R2 "/\" R3 ) = ( B119 "/\" B120 ))))))))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
let R2 being (Element of R1);
let R3 being (Element of R1);
let C142 , C143 being (Element of ( latt (R1 , R25) ));
assume L658: (R2 = C142 & R3 = C143);
consider R26 being (BinOp of R25), R27 being (BinOp of R25) such that L659: R26 = ( H2(R1) || R25 ) and L660: R27 = ( H3(R1) || R25 ) and L661: ( latt (R1 , R25) ) = LattStr (# R25 , R26 , R27 #) by L628;
L662: [ C142 , C143 ] in [: R25 , R25 :] by L661;
L663: ( dom R26 ) = [: R25 , R25 :] by FUNCT_2:def 1;
thus L664: ( R2 "\/" R3 ) = ( C142 "\/" C143 ) by L663 , L658 , L659 , L661 , L662 , FUNCT_1:47;
L665: ( dom R27 ) = [: R25 , R25 :] by FUNCT_2:def 1;
thus L666: thesis by L665 , L658 , L660 , L661 , L662 , FUNCT_1:47;
end;
theorem
L667: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for B121 , B122 being (Element of ( latt (R1 , R25) )) holds ((R2 = B121 & R3 = B122) implies (R2 [= R3 iff B121 [= B122)))))))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
let R2 being (Element of R1);
let R3 being (Element of R1);
let C144 , C145 being (Element of ( latt (R1 , R25) ));
assume L668: (R2 = C144 & R3 = C145);
thus L669: (R2 [= R3 implies C144 [= C145)
proof
assume L670: ( R2 "\/" R3 ) = R3;
thus L671: ( C144 "\/" C145 ) = C145 by L670 , L668 , L657;
end;

assume L672: ( C144 "\/" C145 ) = C145;
thus L673: ( R2 "\/" R3 ) = R3 by L672 , L668 , L657;
end;
theorem
L674: (for R1 being Lattice holds (for R10 being (Ideal of R1) holds (R1 is  lower-bounded implies ( latt (R1 , R10) ) is  lower-bounded)))
proof
let R1 being Lattice;
let R10 being (Ideal of R1);
set D85 = the (Element of ( latt (R1 , R10) ));
reconsider D86 = D85 as (Element of R1) by L625;
given C146 being (Element of R1) such that
L675: (for B123 being (Element of R1) holds (( C146 "/\" B123 ) = C146 & ( B123 "/\" C146 ) = C146));

L676: H1(( latt (R1 , R10) )) = R10 by L654;
L677: ( C146 "/\" D86 ) = C146 by L675;
reconsider D87 = C146 as (Element of ( latt (R1 , R10) )) by L677 , L676 , L226;
take D87;
let C147 being (Element of ( latt (R1 , R10) ));
reconsider D88 = C147 as (Element of R1) by L625;
thus L678: ( D87 "/\" C147 ) = ( C146 "/\" D88 ) by L657
.= D87 by L675;
thus L679: ( C147 "/\" D87 ) = D87 by L678;
end;
theorem
L680: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds (R1 is  modular implies ( latt (R1 , R25) ) is  modular)))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
assume L681: (for B124 , B125 , B126 being (Element of R1) holds (B124 [= B126 implies ( B124 "\/" ( B125 "/\" B126 ) ) = ( ( B124 "\/" B125 ) "/\" B126 )));
let C148 , C149 , C150 being (Element of ( latt (R1 , R25) ));
reconsider D89 = C148 , D90 = C149 , D91 = C150 , D92 = ( C149 "/\" C150 ) , D93 = ( C148 "\/" C149 ) as (Element of R1) by L625;
assume L682: C148 [= C150;
L683: D89 [= D91 by L682 , L667;
thus L684: ( C148 "\/" ( C149 "/\" C150 ) ) = ( D89 "\/" D92 ) by L657
.= ( D89 "\/" ( D90 "/\" D91 ) ) by L657
.= ( ( D89 "\/" D90 ) "/\" D91 ) by L681 , L683
.= ( D93 "/\" D91 ) by L657
.= ( ( C148 "\/" C149 ) "/\" C150 ) by L657;
end;
theorem
L685: (for R1 being Lattice holds (for R25 being non  empty (ClosedSubset of R1) holds (R1 is  distributive implies ( latt (R1 , R25) ) is  distributive)))
proof
let R1 being Lattice;
let R25 being non  empty (ClosedSubset of R1);
assume L686: (for B127 , B128 , B129 being (Element of R1) holds ( B127 "/\" ( B128 "\/" B129 ) ) = ( ( B127 "/\" B128 ) "\/" ( B127 "/\" B129 ) ));
let C151 , C152 , C153 being (Element of ( latt (R1 , R25) ));
reconsider D94 = C151 , D95 = C152 , D96 = C153 , D97 = ( C152 "\/" C153 ) , D98 = ( C151 "/\" C152 ) , D99 = ( C151 "/\" C153 ) as (Element of R1) by L625;
thus L687: ( C151 "/\" ( C152 "\/" C153 ) ) = ( D94 "/\" D97 ) by L657
.= ( D94 "/\" ( D95 "\/" D96 ) ) by L657
.= ( ( D94 "/\" D95 ) "\/" ( D94 "/\" D96 ) ) by L686
.= ( D98 "\/" ( D94 "/\" D96 ) ) by L657
.= ( D98 "\/" D99 ) by L657
.= ( ( C151 "/\" C152 ) "\/" ( C151 "/\" C153 ) ) by L657;
end;
theorem
L688: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R1 is  implicative & R2 [= R3) implies ( latt (R1 , [# R2 , R3 #]) ) is  implicative))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
assume L689: R1 is  implicative;
set D100 = [# R2 , R3 #];
set D101 = ( latt (R1 , D100) );
assume L690: R2 [= R3;
let C154 , C155 being (Element of ( latt (R1 , D100) ));
reconsider D102 = C154 , D103 = C155 as (Element of R1) by L625;
set D104 = ( D102 => D103 );
L691: H1(D101) = D100 by L654;
L692: R2 [= D102 by L691 , L690 , L579;
L693: ( R2 "\/" ( D104 "/\" D102 ) ) = ( ( R2 "\/" D104 ) "/\" D102 ) by L692 , L689 , LATTICES:def 12;
L694: ( D102 "/\" D104 ) [= D103 by L689 , FILTER_0:def 7;
L695: R2 [= D103 by L690 , L691 , L579;
L696: ( R2 "\/" ( D102 "/\" D104 ) ) [= D103 by L695 , L694 , FILTER_0:6;
L697: ( ( R2 "\/" ( D102 "/\" D104 ) ) "/\" R3 ) [= D103 by L696 , FILTER_0:2;
set D105 = ( ( D104 "\/" R2 ) "/\" R3 );
L698: R2 [= ( D104 "\/" R2 ) by LATTICES:5;
L699: (D105 [= R3 & R2 [= D105) by L698 , L690 , FILTER_0:7 , LATTICES:6;
reconsider D106 = D105 as (Element of D101) by L699 , L690 , L691 , L579;
take D106;
L700: (( ( ( R2 "\/" D104 ) "/\" D102 ) "/\" R3 ) = ( D102 "/\" D105 ) & ( D102 "/\" D105 ) = ( C154 "/\" D106 )) by L657 , LATTICES:def 7;
thus L701: ( C154 "/\" D106 ) [= C155 by L700 , L693 , L697 , L667;
let C156 being (Element of D101);
reconsider D107 = C156 , D108 = ( C154 "/\" C156 ) as (Element of R1) by L625;
L702: D107 [= R3 by L690 , L691 , L579;
L703: D107 = ( D107 "/\" R3 ) by L702 , LATTICES:4;
assume L704: ( C154 "/\" C156 ) [= C155;
L705: D108 [= D103 by L704 , L667;
L706: ( D102 "/\" D107 ) [= D103 by L705 , L657;
L707: D107 [= D104 by L706 , L689 , FILTER_0:def 7;
L708: R2 [= D107 by L690 , L691 , L579;
L709: D107 = ( D107 "\/" R2 ) by L708 , LATTICES:def 3;
L710: D107 [= ( D104 "\/" R2 ) by L709 , L707 , FILTER_0:1;
L711: D107 [= D105 by L710 , L703 , LATTICES:9;
thus L712: C156 [= D106 by L711 , L667;
end;
registration
let R1 being Lattice;
let R2 being (Element of R1);
cluster ( latt (R1 , (. R2 .>) ) ->  upper-bounded;
coherence
proof
L713: ( latt (R1 , (. R2 .>) ) = ( ( latt (( R1 .: ) , ( (. R2 .> .: )) ) .: ) by L647
.= ( ( latt (( R1 .: ) , <. ( R2 .: ) .)) ) .: ) by L274
.= ( ( latt <. ( R2 .: ) .) ) .: ) by L644;
thus L714: thesis by L713 , LATTICE2:48;
end;
end;
theorem
L716: (for R1 being Lattice holds (for R2 being (Element of R1) holds ( Top ( latt (R1 , (. R2 .>) ) ) = R2))
proof
let R1 being Lattice;
let R2 being (Element of R1);
L717: ( latt (R1 , (. R2 .>) ) = ( ( latt (( R1 .: ) , ( (. R2 .> .: )) ) .: ) by L647
.= ( ( latt (( R1 .: ) , <. ( R2 .: ) .)) ) .: ) by L274
.= ( ( latt <. ( R2 .: ) .) ) .: ) by L644;
thus L718: ( Top ( latt (R1 , (. R2 .>) ) ) = ( Bottom ( latt <. ( R2 .: ) .) ) ) by L717 , LATTICE2:61
.= R2 by FILTER_0:56;
end;
theorem
L719: (for R1 being Lattice holds (for R2 being (Element of R1) holds (R1 is  lower-bounded implies (( latt (R1 , (. R2 .>) ) is  lower-bounded & ( Bottom ( latt (R1 , (. R2 .>) ) ) = ( Bottom R1 )))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L720: R1 is  lower-bounded;
L721: ( R1 .: ) is  upper-bounded by L720 , LATTICE2:48;
L722: ( latt <. ( R2 .: ) .) ) is  upper-bounded by L721 , FILTER_0:52;
L723: ( latt (R1 , (. R2 .>) ) = ( ( latt (( R1 .: ) , ( (. R2 .> .: )) ) .: ) by L647
.= ( ( latt (( R1 .: ) , <. ( R2 .: ) .)) ) .: ) by L274
.= ( ( latt <. ( R2 .: ) .) ) .: ) by L644;
thus L724: ( latt (R1 , (. R2 .>) ) is  lower-bounded by L723 , L722 , LATTICE2:49;
L725: ( Top ( latt <. ( R2 .: ) .) ) ) = ( Top ( R1 .: ) ) by L721 , FILTER_0:57;
thus L726: ( Bottom ( latt (R1 , (. R2 .>) ) ) = ( Top ( R1 .: ) ) by L725 , L723 , L722 , LATTICE2:62
.= ( Bottom R1 ) by L720 , LATTICE2:61;
end;
theorem
L727: (for R1 being Lattice holds (for R2 being (Element of R1) holds (R1 is  lower-bounded implies ( latt (R1 , (. R2 .>) ) is  bounded)))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L728: R1 is  lower-bounded;
L729: ( latt (R1 , (. R2 .>) ) is  lower-bounded  upper-bounded  lower-bounded  upper-bounded  lower-bounded  upper-bounded  lower-bounded  upper-bounded Lattice by L728 , L719;
thus L730: thesis by L729;
end;
theorem
L731: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (R2 [= R3 implies (( latt (R1 , [# R2 , R3 #]) ) is  bounded & ( Top ( latt (R1 , [# R2 , R3 #]) ) ) = R3 & ( Bottom ( latt (R1 , [# R2 , R3 #]) ) ) = R2)))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
assume L732: R2 [= R3;
L733: H1(( latt (R1 , [# R2 , R3 #]) )) = [# R2 , R3 #] by L654;
reconsider D109 = R2 , D110 = R3 as (Element of ( latt (R1 , [# R2 , R3 #]) )) by L733 , L732 , L579;
L734:
now
let C157 being (Element of ( latt (R1 , [# R2 , R3 #]) ));
reconsider D111 = C157 as (Element of R1) by L625;
L735: D111 [= R3 by L732 , L733 , L579;
thus L736: ( D110 "\/" C157 ) = ( R3 "\/" D111 ) by L657
.= D110 by L735 , LATTICES:def 3;
thus L737: ( C157 "\/" D110 ) = D110 by L736;
end;
L738:
now
let C158 being (Element of ( latt (R1 , [# R2 , R3 #]) ));
reconsider D112 = C158 as (Element of R1) by L625;
L739: R2 [= D112 by L732 , L733 , L579;
thus L740: ( D109 "/\" C158 ) = ( R2 "/\" D112 ) by L657
.= D109 by L739 , LATTICES:4;
thus L741: ( C158 "/\" D109 ) = D109 by L740;
end;
L742: ( latt (R1 , [# R2 , R3 #]) ) is  lower-bounded  upper-bounded  lower-bounded  upper-bounded  lower-bounded  upper-bounded  lower-bounded  upper-bounded Lattice by L738 , L734 , LATTICES:def 13 , LATTICES:def 14;
thus L743: ( latt (R1 , [# R2 , R3 #]) ) is  bounded by L742;
thus L744: thesis by L738 , L734 , L742 , LATTICES:def 16 , LATTICES:def 17;
end;
theorem
L745: (for R1 being Lattice holds (for R2 being (Element of R1) holds ((R1 is C_Lattice & R1 is  modular) implies ( latt (R1 , (. R2 .>) ) is C_Lattice)))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume that
L746: R1 is C_Lattice
and
L747: R1 is  modular;
reconsider D113 = ( latt (R1 , (. R2 .>) ) as  bounded Lattice by L746 , L727;
L748: D113 is  complemented
proof
let C159 being (Element of D113);
reconsider D114 = C159 as (Element of R1) by L625;
consider C160 being (Element of R1) such that L749: C160 is_a_complement_of D114 by L746 , LATTICES:def 19;
L750: ( C160 "\/" D114 ) = ( Top R1 ) by L749 , LATTICES:def 18;
L751: H1(D113) = (. R2 .> by L654;
L752: D114 [= R2 by L751 , L271;
L753: ( R2 "/\" C160 ) [= R2 by LATTICES:6;
reconsider D115 = ( R2 "/\" C160 ) as (Element of D113) by L753 , L751 , L271;
take D115;
thus L754: ( D115 "\/" C159 ) = ( ( R2 "/\" C160 ) "\/" D114 ) by L657
.= ( ( D114 "\/" C160 ) "/\" R2 ) by L747 , L752 , LATTICES:def 12
.= R2 by L746 , L750 , LATTICES:17
.= ( Top D113 ) by L716;
thus L755: ( C159 "\/" D115 ) = ( Top D113 ) by L754;
L756: ( C160 "/\" D114 ) = ( Bottom R1 ) by L749 , LATTICES:def 18;
thus L757: ( D115 "/\" C159 ) = ( ( R2 "/\" C160 ) "/\" D114 ) by L657
.= ( R2 "/\" ( Bottom R1 ) ) by L756 , LATTICES:def 7
.= ( Bottom R1 ) by L746
.= ( Bottom D113 ) by L746 , L719;
thus L758: thesis by L757;
end;
thus L759: thesis by L748;
end;
theorem
L760: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R1 is C_Lattice & R1 is  modular & R2 [= R3) implies ( latt (R1 , [# R2 , R3 #]) ) is C_Lattice))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
assume that
L761: R1 is C_Lattice
and
L762: R1 is  modular
and
L763: R2 [= R3;
reconsider D116 = ( latt (R1 , [# R2 , R3 #]) ) as  bounded Lattice by L763 , L731;
L764: D116 is  complemented
proof
let C161 being (Element of D116);
reconsider D117 = C161 as (Element of R1) by L625;
consider C162 being (Element of R1) such that L765: C162 is_a_complement_of D117 by L761 , LATTICES:def 19;
L766: ( C162 "/\" D117 ) = ( Bottom R1 ) by L765 , LATTICES:def 18;
L767: ( C162 "\/" D117 ) = ( Top R1 ) by L765 , LATTICES:def 18;
L768: H1(D116) = [# R2 , R3 #] by L654;
L769: D117 [= R3 by L768 , L763 , L579;
L770: ( C162 "/\" R3 ) [= R3 by LATTICES:6;
L771: (R2 [= ( R2 "\/" ( C162 "/\" R3 ) ) & ( R2 "\/" ( C162 "/\" R3 ) ) [= R3) by L770 , L763 , FILTER_0:6 , LATTICES:5;
reconsider D118 = ( R2 "\/" ( C162 "/\" R3 ) ) as (Element of D116) by L771 , L763 , L768 , L579;
take D118;
L772: R2 [= D117 by L763 , L768 , L579;
thus L773: ( D118 "\/" C161 ) = ( ( R2 "\/" ( C162 "/\" R3 ) ) "\/" D117 ) by L657
.= ( ( D117 "\/" R2 ) "\/" ( C162 "/\" R3 ) ) by LATTICES:def 5
.= ( D117 "\/" ( C162 "/\" R3 ) ) by L772 , LATTICES:def 3
.= ( ( Top R1 ) "/\" R3 ) by L762 , L767 , L769 , LATTICES:def 12
.= R3 by L761
.= ( Top D116 ) by L763 , L731;
thus L774: ( C161 "\/" D118 ) = ( Top D116 ) by L773;
thus L775: ( D118 "/\" C161 ) = ( ( R2 "\/" ( C162 "/\" R3 ) ) "/\" D117 ) by L657
.= ( R2 "\/" ( ( C162 "/\" R3 ) "/\" D117 ) ) by L762 , L772 , LATTICES:def 12
.= ( R2 "\/" ( R3 "/\" ( Bottom R1 ) ) ) by L766 , LATTICES:def 7
.= ( R2 "\/" ( Bottom R1 ) ) by L761
.= R2 by L761
.= ( Bottom D116 ) by L763 , L731;
thus L776: thesis by L775;
end;
thus L777: thesis by L764;
end;
theorem
L778: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ((R1 is B_Lattice & R2 [= R3) implies ( latt (R1 , [# R2 , R3 #]) ) is B_Lattice))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R3 being (Element of R1);
assume L779: (R1 is B_Lattice & R2 [= R3);
L780: ( latt (R1 , [# R2 , R3 #]) ) is  bounded  complemented  distributive  bounded  complemented  distributive  bounded  complemented  distributive  bounded  complemented  distributive Lattice by L779 , L685 , L760;
thus L781: thesis by L780;
end;
theorem
L782: (for R1 being Lattice holds (for B130 being non  empty (Subset of R1) holds (B130 is (Ideal of R1) iff (for B131 , B132 being (Element of R1) holds ((B131 in B130 & B132 in B130) iff ( B131 "\/" B132 ) in B130))))) by L115;
