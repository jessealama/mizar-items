:: Lebesgue Integral of Simple Valued Function
::  by Yasunari Shidama and Noboru Endou
::
:: Received September 25, 2004
:: Copyright (c) 2004-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, FUNCT_1, ZFMISC_1, FINSEQ_1, RELAT_1, CARD_3,
      ARYTM_3, SUBSET_1, XXREAL_0, TARSKI, XBOOLE_0, FINSEQ_2, ARYTM_1,
      PARTFUN1, BINOP_2, ORDINAL4, CARD_1, FUNCOP_1, PROB_1, MESFUNC2, FUNCT_3,
      SUPINF_2, PROB_2, MEASURE1, ORDINAL1, XXREAL_2, ORDINAL2, SUPINF_1,
      XREAL_0, MESFUNC1, VALUED_0, COMPLEX1, SETFAM_1, FINSET_1, FINSOP_1,
      SETWISEO, INTEGRA1, REAL_1, MESFUNC3;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, ORDINAL1, CARD_1, NUMBERS,
      XCMPLX_0, NAT_1, REAL_1, RELAT_1, FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2,
      XREAL_0, SETWOP_2, FINSEQ_1, SETFAM_1, FUNCOP_1, FINSOP_1, FUNCT_3,
      FINSET_1, PROB_1, PROB_2, XXREAL_0, XXREAL_2, SUPINF_1, SUPINF_2,
      MEASURE1, FINSEQOP, FINSEQ_2, BINOP_1, SEQ_1, BINOP_2, RVSUM_1, EXTREAL1,
      MESFUNC1, MESFUNC2;
 constructors PARTFUN1, BINOP_1, SETWISEO, REAL_1, NAT_1, FINSEQOP, PROB_2,
      FINSOP_1, RVSUM_1, MEASURE3, MEASURE6, EXTREAL1, MESFUNC1, BINARITH,
      MESFUNC2, SEQ_1, BINOP_2, SUPINF_1, RELSET_1;
 registrations SUBSET_1, RELAT_1, ORDINAL1, FUNCT_2, NUMBERS, XXREAL_0,
      XREAL_0, NAT_1, BINOP_2, MEMBERED, FINSEQ_1, MEASURE1, FINSET_1,
      VALUED_0, CARD_1, CARD_3, XXREAL_3, RELSET_1;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, XBOOLE_0, BINOP_1, SUPINF_2, MESFUNC1;
 theorems MEASURE1, TARSKI, FUNCT_1, FUNCT_2, NAT_1, SUPINF_2, EXTREAL1,
      EXTREAL2, ZFMISC_1, FINSEQ_1, FINSEQ_2, FINSEQ_3, FUNCOP_1, FINSEQ_4,
      PROB_2, FUNCT_3, XBOOLE_0, XBOOLE_1, RELAT_1, RVSUM_1, MESFUNC2,
      MEASURE2, CARD_2, XREAL_1, XXREAL_0, ORDINAL1, NUMBERS,
      VALUED_1, XXREAL_2, VALUED_0, XXREAL_3;
 schemes FINSEQ_1, FINSEQ_2, NAT_1, PARTFUN1, BINOP_1;

begin
theorem
L1: (for B1 , B2 being Nat holds (for B3 being (Function of [: ( Seg B1 ) , ( Seg B2 ) :] , ( REAL )) holds (for B4 , B5 being (FinSequence of ( REAL )) holds ((( dom B4 ) = ( Seg B1 ) & (for B6 being Nat holds (B6 in ( dom B4 ) implies (ex B7 being (FinSequence of ( REAL )) st (( dom B7 ) = ( Seg B2 ) & ( B4 . B6 ) = ( Sum B7 ) & (for B8 being Nat holds (B8 in ( dom B7 ) implies ( B7 . B8 ) = ( B3 . [ B6 , B8 ] ))))))) & ( dom B5 ) = ( Seg B2 ) & (for B9 being Nat holds (B9 in ( dom B5 ) implies (ex B10 being (FinSequence of ( REAL )) st (( dom B10 ) = ( Seg B1 ) & ( B5 . B9 ) = ( Sum B10 ) & (for B11 being Nat holds (B11 in ( dom B10 ) implies ( B10 . B11 ) = ( B3 . [ B11 , B9 ] )))))))) implies ( Sum B4 ) = ( Sum B5 )))))
proof
defpred S1[ Nat ] means (for B12 being Nat holds (for B13 being (Function of [: ( Seg $1 ) , ( Seg B12 ) :] , ( REAL )) holds (for B14 , B15 being (FinSequence of ( REAL )) holds ((( dom B14 ) = ( Seg $1 ) & (for B16 being Nat holds (B16 in ( dom B14 ) implies (ex B17 being (FinSequence of ( REAL )) st (( dom B17 ) = ( Seg B12 ) & ( B14 . B16 ) = ( Sum B17 ) & (for B18 being Nat holds (B18 in ( dom B17 ) implies ( B17 . B18 ) = ( B13 . [ B16 , B18 ] ))))))) & ( dom B15 ) = ( Seg B12 ) & (for B19 being Nat holds (B19 in ( dom B15 ) implies (ex B20 being (FinSequence of ( REAL )) st (( dom B20 ) = ( Seg $1 ) & ( B15 . B19 ) = ( Sum B20 ) & (for B21 being Nat holds (B21 in ( dom B20 ) implies ( B20 . B21 ) = ( B13 . [ B21 , B19 ] )))))))) implies ( Sum B14 ) = ( Sum B15 )))));
L2: (for B22 being Nat holds (S1[ B22 ] implies S1[ ( B22 + 1 ) ]))
proof
let C1 being Nat;
assume that
L3: S1[ C1 ];
reconsider D1 = C1 as (Element of ( NAT )) by ORDINAL1:def 12;
L4:
now
let C2 being Nat;
let C3 being (Function of [: ( Seg ( D1 + 1 ) ) , ( Seg C2 ) :] , ( REAL ));
let C4 , C5 being (FinSequence of ( REAL ));
assume that
L5: ( dom C4 ) = ( Seg ( D1 + 1 ) )
and
L6: (for B23 being Nat holds (B23 in ( dom C4 ) implies (ex B24 being (FinSequence of ( REAL )) st (( dom B24 ) = ( Seg C2 ) & ( C4 . B23 ) = ( Sum B24 ) & (for B25 being Nat holds (B25 in ( dom B24 ) implies ( B24 . B25 ) = ( C3 . [ B23 , B25 ] )))))))
and
L7: ( dom C5 ) = ( Seg C2 )
and
L8: (for B26 being Nat holds (B26 in ( dom C5 ) implies (ex B27 being (FinSequence of ( REAL )) st (( dom B27 ) = ( Seg ( D1 + 1 ) ) & ( C5 . B26 ) = ( Sum B27 ) & (for B28 being Nat holds (B28 in ( dom B27 ) implies ( B27 . B28 ) = ( C3 . [ B28 , B26 ] )))))));
set D2 = ( C3 | [: ( Seg D1 ) , ( Seg C2 ) :] );
L9: D1 <= ( D1 + 1 ) by NAT_1:11;
L10: ( Seg D1 ) c= ( Seg ( D1 + 1 ) ) by L9 , FINSEQ_1:5;
L11: [: ( Seg D1 ) , ( Seg C2 ) :] c= [: ( Seg ( D1 + 1 ) ) , ( Seg C2 ) :] by L10 , ZFMISC_1:95;
reconsider D3 = D2 as (Function of [: ( Seg D1 ) , ( Seg C2 ) :] , ( REAL )) by L11 , FUNCT_2:32;
deffunc H1(Nat) = ( C3 . [ ( D1 + 1 ) , $1 ] );
reconsider D4 = ( C4 | ( Seg D1 ) ) as (FinSequence of ( REAL )) by FINSEQ_1:18;
L12: ( len C4 ) = ( D1 + 1 ) by L5 , FINSEQ_1:def 3;
L13: D1 <= ( len C4 ) by L12 , NAT_1:11;
L14: ( dom D4 ) = ( Seg D1 ) by L13 , FINSEQ_1:17;
L15: ( dom D4 ) = ( Seg D1 ) by L13 , FINSEQ_1:17;
L16:
now
let C6 being Nat;
assume that
L17: C6 in ( dom D4 );
consider C7 being (FinSequence of ( REAL )) such that L18: ( dom C7 ) = ( Seg C2 ) and L19: ( C4 . C6 ) = ( Sum C7 ) and L20: (for B29 being Nat holds (B29 in ( dom C7 ) implies ( C7 . B29 ) = ( C3 . [ C6 , B29 ] ))) by L5 , L6 , L15 , L17 , FINSEQ_2:8;
take D5 = C7;
thus L21: ( dom D5 ) = ( Seg C2 ) by L18;
thus L22: ( D4 . C6 ) = ( Sum D5 ) by L17 , L19 , FUNCT_1:47;
thus L23: (for B30 being Nat holds (B30 in ( dom D5 ) implies ( D5 . B30 ) = ( D3 . [ C6 , B30 ] )))
proof
L24: D1 <= ( D1 + 1 ) by NAT_1:11;
L25: ( Seg D1 ) c= ( Seg ( D1 + 1 ) ) by L24 , FINSEQ_1:5;
L26: ( dom C3 ) = [: ( Seg ( D1 + 1 ) ) , ( Seg C2 ) :] by FUNCT_2:def 1;
L27: ( dom D3 ) = ( [: ( Seg ( D1 + 1 ) ) , ( Seg C2 ) :] /\ [: ( Seg D1 ) , ( Seg C2 ) :] ) by L26 , RELAT_1:61
.= [: ( Seg D1 ) , ( Seg C2 ) :] by L25 , ZFMISC_1:101;
let C8 being Nat;
assume that
L28: C8 in ( dom D5 );
L29: [ C6 , C8 ] in [: ( Seg D1 ) , ( Seg C2 ) :] by L15 , L17 , L18 , L28 , ZFMISC_1:87;
thus L30: ( D5 . C8 ) = ( C3 . [ C6 , C8 ] ) by L20 , L28
.= ( D3 . [ C6 , C8 ] ) by L29 , L27 , FUNCT_1:47;
end;

end;
reconsider D6 = C2 as (Element of ( NAT )) by ORDINAL1:def 12;
consider C9 being FinSequence such that L24: (( len C9 ) = D6 & (for B31 being Nat holds (B31 in ( dom C9 ) implies ( C9 . B31 ) = H1(B31)))) from FINSEQ_1:sch 2;
L25:
now
let C10 being Nat;
assume L26: C10 in ( dom C9 );
L27: ( C9 . C10 ) = ( C3 . [ ( D1 + 1 ) , C10 ] ) by L26 , L24;
thus L28: ( C9 . C10 ) in ( REAL ) by L27;
end;
L29: ( dom C9 ) = ( Seg D6 ) by L24 , FINSEQ_1:def 3;
reconsider D7 = C9 as (FinSequence of ( REAL )) by L25 , FINSEQ_2:12;
L30: D7 is (Element of ( D6 -tuples_on ( REAL ) )) by L24 , FINSEQ_2:92;
L31: ( dom D7 ) = ( Seg D6 ) by L24 , FINSEQ_1:def 3;
L32: ( Sum D7 ) = ( C4 . ( D1 + 1 ) )
proof
consider C11 being (FinSequence of ( REAL )) such that L33: ( dom C11 ) = ( Seg D6 ) and L34: ( C4 . ( D1 + 1 ) ) = ( Sum C11 ) and L35: (for B32 being Nat holds (B32 in ( dom C11 ) implies ( C11 . B32 ) = ( C3 . [ ( D1 + 1 ) , B32 ] ))) by L5 , L6 , FINSEQ_1:4;
L36:
now
let C12 being Nat;
assume L37: C12 in ( dom C11 );
thus L38: ( C11 . C12 ) = ( C3 . [ ( D1 + 1 ) , C12 ] ) by L37 , L35
.= ( D7 . C12 ) by L24 , L29 , L33 , L37;
end;
thus L39: thesis by L36 , L31 , L33 , L34 , FINSEQ_1:13;
end;
reconsider D8 = ( C5 - D7 ) as (FinSequence of ( REAL ));
L40: ( rng <: C5 , D7 :> ) c= [: ( rng C5 ) , ( rng D7 ) :] by FUNCT_3:51;
L41: ( dom ( diffreal ) ) = [: ( REAL ) , ( REAL ) :] by FUNCT_2:def 1;
L42: [: ( rng C5 ) , ( rng D7 ) :] c= ( dom ( diffreal ) ) by L41 , ZFMISC_1:96;
L43: ( dom ( ( diffreal ) .: (C5 , D7) ) ) = ( dom ( ( diffreal ) * <: C5 , D7 :> ) ) by FUNCOP_1:def 3
.= ( dom <: C5 , D7 :> ) by L42 , L40 , RELAT_1:27 , XBOOLE_1:1
.= ( ( dom C5 ) /\ ( dom D7 ) ) by FUNCT_3:def 7;
L44: ( dom D8 ) = ( ( dom C5 ) /\ ( dom D7 ) ) by L43 , RVSUM_1:def 6
.= ( ( Seg D6 ) /\ ( Seg D6 ) ) by L7 , L24 , FINSEQ_1:def 3
.= ( Seg D6 );
L45: ( len D8 ) = D6 by L44 , FINSEQ_1:def 3;
L46: D8 is (Element of ( D6 -tuples_on ( REAL ) )) by L45 , FINSEQ_2:92;
L47:
now
let C13 being Nat;
assume that
L48: C13 in ( dom D8 );
consider C14 being (FinSequence of ( REAL )) such that L49: ( dom C14 ) = ( Seg ( D1 + 1 ) ) and L50: ( C5 . C13 ) = ( Sum C14 ) and L51: (for B33 being Nat holds (B33 in ( dom C14 ) implies ( C14 . B33 ) = ( C3 . [ B33 , C13 ] ))) by L7 , L8 , L44 , L48;
L52: ( C14 . ( D1 + 1 ) ) = ( C3 . [ ( D1 + 1 ) , C13 ] ) by L49 , L51 , FINSEQ_1:4;
L53: ( C14 . ( D1 + 1 ) ) = ( D7 . C13 ) by L52 , L24 , L29 , L44 , L48;
reconsider D9 = ( C14 | ( Seg D1 ) ) as (FinSequence of ( REAL )) by FINSEQ_1:18;
take D10 = D9;
L54: ( len C14 ) = ( D1 + 1 ) by L49 , FINSEQ_1:def 3;
L55: D1 <= ( len C14 ) by L54 , NAT_1:11;
thus L56: ( dom D10 ) = ( Seg D1 ) by L55 , FINSEQ_1:17;
L57: ( D10 ^ <* ( C14 . ( D1 + 1 ) ) *> ) = C14 by L54 , FINSEQ_3:55;
L58: ( ( C5 . C13 ) - ( D7 . C13 ) ) = ( ( ( Sum D10 ) + ( D7 . C13 ) ) - ( D7 . C13 ) ) by L57 , L50 , L53 , RVSUM_1:74
.= ( Sum D10 );
thus L59: ( D8 . C13 ) = ( Sum D10 ) by L58 , L48 , VALUED_1:13;
thus L60: (for B34 being Nat holds (B34 in ( dom D10 ) implies ( D10 . B34 ) = ( D3 . [ B34 , C13 ] )))
proof
L61: D1 <= ( D1 + 1 ) by NAT_1:11;
L62: ( Seg D1 ) c= ( Seg ( D1 + 1 ) ) by L61 , FINSEQ_1:5;
L63: ( dom C3 ) = [: ( Seg ( D1 + 1 ) ) , ( Seg D6 ) :] by FUNCT_2:def 1;
L64: ( dom D3 ) = ( [: ( Seg ( D1 + 1 ) ) , ( Seg D6 ) :] /\ [: ( Seg D1 ) , ( Seg D6 ) :] ) by L63 , RELAT_1:61
.= [: ( Seg D1 ) , ( Seg D6 ) :] by L62 , ZFMISC_1:101;
let C15 being Nat;
assume that
L65: C15 in ( dom D10 );
L66: [ C15 , C13 ] in [: ( Seg D1 ) , ( Seg D6 ) :] by L44 , L48 , L56 , L65 , ZFMISC_1:87;
thus L67: ( D10 . C15 ) = ( C14 . C15 ) by L65 , FUNCT_1:47
.= ( C3 . [ C15 , C13 ] ) by L49 , L51 , L56 , L65 , L62
.= ( D3 . [ C15 , C13 ] ) by L66 , L64 , FUNCT_1:47;
end;

end;
L61: ( len C5 ) = D6 by L7 , FINSEQ_1:def 3;
L62: C5 is (Element of ( D6 -tuples_on ( REAL ) )) by L61 , FINSEQ_2:92;
L63: ( D8 + D7 ) = C5 by L62 , L30 , RVSUM_1:43;
L64: ( len C4 ) = ( D1 + 1 ) by L5 , FINSEQ_1:def 3;
L65: ( D4 ^ <* ( Sum D7 ) *> ) = C4 by L64 , L32 , FINSEQ_3:55;
thus L66: ( Sum C4 ) = ( ( Sum D4 ) + ( Sum D7 ) ) by L65 , RVSUM_1:74
.= ( ( Sum D8 ) + ( Sum D7 ) ) by L3 , L16 , L14 , L44 , L47
.= ( Sum C5 ) by L46 , L30 , L63 , RVSUM_1:89;
end;
thus L67: thesis by L4;
end;
L68:
now
let C16 being Nat;
let C17 being (Function of [: ( Seg ( 0 ) ) , ( Seg C16 ) :] , ( REAL ));
let C18 , C19 being (FinSequence of ( REAL ));
assume that
L69: ( dom C18 ) = ( Seg ( 0 ) )
and
L70: (for B35 being Nat holds (B35 in ( dom C18 ) implies (ex B36 being (FinSequence of ( REAL )) st (( dom B36 ) = ( Seg C16 ) & ( C18 . B35 ) = ( Sum B36 ) & (for B37 being Nat holds (B37 in ( dom B36 ) implies ( B36 . B37 ) = ( C17 . [ B35 , B37 ] )))))))
and
L71: ( dom C19 ) = ( Seg C16 )
and
L72: (for B38 being Nat holds (B38 in ( dom C19 ) implies (ex B39 being (FinSequence of ( REAL )) st (( dom B39 ) = ( Seg ( 0 ) ) & ( C19 . B38 ) = ( Sum B39 ) & (for B40 being Nat holds (B40 in ( dom B39 ) implies ( B39 . B40 ) = ( C17 . [ B40 , B38 ] )))))));
reconsider D11 = C16 as (Element of ( NAT )) by ORDINAL1:def 12;
L73:
now
let C20 being set;
assume L74: C20 in ( dom C19 );
L75: C20 in { B41 where B41 is (Element of ( NAT )) : (1 <= B41 & B41 <= D11) } by L74 , L71 , FINSEQ_1:def 1;
L76: (ex B42 being (Element of ( NAT )) st (C20 = B42 & 1 <= B42 & B42 <= D11)) by L75;
reconsider D12 = C20 as Nat by L76;
consider C21 being (FinSequence of ( REAL )) such that L77: ( dom C21 ) = ( Seg ( 0 ) ) and L78: ( C19 . D12 ) = ( Sum C21 ) and L79: (for B43 being Nat holds (B43 in ( dom C21 ) implies ( C21 . B43 ) = ( C17 . [ B43 , D12 ] ))) by L72 , L74;
L80: C21 = ( <*> ( REAL ) ) by L77;
thus L81: ( C19 . C20 ) = ( 0 ) by L80 , L78 , RVSUM_1:72;
end;
L82: C19 = ( ( dom C19 ) --> ( 0 ) ) by L73 , FUNCOP_1:11;
L83: C19 = ( D11 |-> ( 0 ) ) by L82 , L71 , FINSEQ_2:def 2;
L84: C18 = ( <*> ( REAL ) ) by L69;
thus L85: ( Sum C18 ) = ( Sum C19 ) by L84 , L83 , RVSUM_1:72 , RVSUM_1:81;
end;
L86: S1[ ( 0 ) ] by L68;
thus L87: (for B44 being Nat holds S1[ B44 ]) from NAT_1:sch 2(L86 , L2);
end;
theorem
L88: (for B45 being (FinSequence of ( ExtREAL )) holds (for B46 being (FinSequence of ( REAL )) holds (B45 = B46 implies ( Sum B45 ) = ( Sum B46 ))))
proof
let C22 being (FinSequence of ( ExtREAL ));
let C23 being (FinSequence of ( REAL ));
defpred S2[ Nat ] means (for B47 being (FinSequence of ( ExtREAL )) holds (for B48 being (FinSequence of ( REAL )) holds ((B47 = ( C22 | ( Seg $1 ) ) & B48 = ( C23 | ( Seg $1 ) ) & $1 <= ( len C22 )) implies ( Sum B47 ) = ( Sum B48 ))));
L89: ( C22 | ( Seg ( len C22 ) ) ) = ( C22 | ( len C22 ) ) by FINSEQ_1:def 15;
L90: ( C22 | ( Seg ( len C22 ) ) ) = C22 by L89 , FINSEQ_1:58;
assume L91: C22 = C23;
L92: (for B49 being Nat holds (S2[ B49 ] implies S2[ ( B49 + 1 ) ]))
proof
let C24 being Nat;
assume L93: S2[ C24 ];
L94: (for B50 being (FinSequence of ( ExtREAL )) holds (for B51 being (FinSequence of ( REAL )) holds ((B50 = ( C22 | ( Seg ( C24 + 1 ) ) ) & B51 = ( C23 | ( Seg ( C24 + 1 ) ) ) & ( C24 + 1 ) <= ( len C22 )) implies ( Sum B50 ) = ( Sum B51 ))))
proof
let C25 being (FinSequence of ( ExtREAL ));
let C26 being (FinSequence of ( REAL ));
assume that
L95: C25 = ( C22 | ( Seg ( C24 + 1 ) ) )
and
L96: C26 = ( C23 | ( Seg ( C24 + 1 ) ) )
and
L97: ( C24 + 1 ) <= ( len C22 );
reconsider D13 = <* ( C26 . ( C24 + 1 ) ) *> as (FinSequence of ( REAL ));
reconsider D14 = ( C25 | ( Seg C24 ) ) as (FinSequence of ( ExtREAL )) by FINSEQ_1:18;
L98:
now
L99: ( rng D13 ) c= ( REAL );
assume L100: (( -infty ) in ( rng D14 ) or ( -infty ) in ( rng <* ( C25 . ( C24 + 1 ) ) *> ));
thus L101: contradiction by L100 , L91 , L95 , L96 , L99;
end;
reconsider D15 = ( C26 | ( Seg C24 ) ) as (FinSequence of ( REAL )) by FINSEQ_1:18;
L102: ( len C26 ) = ( C24 + 1 ) by L91 , L96 , L97 , FINSEQ_1:17;
L103: C26 = ( D15 ^ <* ( C26 . ( C24 + 1 ) ) *> ) by L102 , FINSEQ_3:55;
L104: ( Sum C26 ) = ( ( Sum D15 ) + ( C26 . ( C24 + 1 ) ) ) by L103 , RVSUM_1:74;
L105: C24 <= ( C24 + 1 ) by NAT_1:11;
L106: ( len C25 ) = ( C24 + 1 ) by L95 , L97 , FINSEQ_1:17;
L107: C25 = ( D14 ^ <* ( C25 . ( C24 + 1 ) ) *> ) by L106 , FINSEQ_3:55;
L108: ( Sum C25 ) = ( ( Sum D14 ) + ( Sum <* ( C25 . ( C24 + 1 ) ) *> ) ) by L107 , L98 , EXTREAL1:10
.= ( ( Sum D14 ) + ( C25 . ( C24 + 1 ) ) ) by EXTREAL1:8;
L109: C24 <= ( C24 + 1 ) by NAT_1:11;
L110: ( Seg C24 ) c= ( Seg ( C24 + 1 ) ) by L109 , FINSEQ_1:5;
L111: (D14 = ( C22 | ( Seg C24 ) ) & D15 = ( C23 | ( Seg C24 ) )) by L110 , L95 , L96 , FUNCT_1:51;
L112: ( Sum D14 ) = ( Sum D15 ) by L111 , L93 , L97 , L105 , XXREAL_0:2;
thus L113: thesis by L112 , L91 , L95 , L96 , L108 , L104 , SUPINF_2:1;
end;
thus L114: thesis by L94;
end;
L115: S2[ ( 0 ) ] by EXTREAL1:7 , RVSUM_1:72;
L116: (for B52 being Nat holds S2[ B52 ]) from NAT_1:sch 2(L115 , L92);
thus L117: thesis by L116 , L91 , L90;
end;
theorem
L118: (for B53 being non  empty set holds (for B54 being (SigmaField of B53) holds (for B55 being (PartFunc of B53 , ( ExtREAL )) holds (B55 is_simple_func_in B54 implies (ex B56 being (Finite_Sep_Sequence of B54) st (ex B57 being (FinSequence of ( ExtREAL )) st (( dom B55 ) = ( union ( rng B56 ) ) & ( dom B56 ) = ( dom B57 ) & (for B58 being Nat holds (B58 in ( dom B56 ) implies (for B59 being set holds (B59 in ( B56 . B58 ) implies ( B55 . B59 ) = ( B57 . B58 ))))) & (for B60 being set holds (B60 in ( dom B55 ) implies (ex B61 being (FinSequence of ( ExtREAL )) st (( dom B61 ) = ( dom B57 ) & (for B62 being Nat holds (B62 in ( dom B61 ) implies ( B61 . B62 ) = ( ( B57 . B62 ) * ( ( chi (( B56 . B62 ) , B53) ) . B60 ) ))))))))))))))
proof
let C27 being non  empty set;
let C28 being (SigmaField of C27);
let C29 being (PartFunc of C27 , ( ExtREAL ));
assume L119: C29 is_simple_func_in C28;
consider C30 being (Finite_Sep_Sequence of C28) such that L120: ( dom C29 ) = ( union ( rng C30 ) ) and L121: (for B63 being Nat holds (for B64 , B65 being (Element of C27) holds ((B63 in ( dom C30 ) & B64 in ( C30 . B63 ) & B65 in ( C30 . B63 )) implies ( C29 . B64 ) = ( C29 . B65 )))) by L119 , MESFUNC2:def 4;
defpred S3[ Nat , (Element of ( ExtREAL )) ] means (for B66 being set holds (B66 in ( C30 . $1 ) implies $2 = ( C29 . B66 )));
L122: (for B67 being Nat holds (B67 in ( Seg ( len C30 ) ) implies (ex B68 being (Element of ( ExtREAL )) st S3[ B67 , B68 ])))
proof
let C31 being Nat;
assume L123: C31 in ( Seg ( len C30 ) );
L124: C31 in ( dom C30 ) by L123 , FINSEQ_1:def 3;
L125: ( C30 . C31 ) in ( rng C30 ) by L124 , FUNCT_1:3;
L126:
now
per cases ;
case L127: ( C30 . C31 ) = ( {} );
take D16 = ( 0. );
L128: (for B69 being set holds (B69 in ( C30 . C31 ) implies D16 = ( C29 . B69 ))) by L127;
thus L129: thesis by L128;
end;
case L130: ( C30 . C31 ) <> ( {} );
consider C32 being set such that L131: C32 in ( C30 . C31 ) by L130 , XBOOLE_0:def 1;
take D17 = ( C29 . C32 );
L132: (for B70 being set holds (B70 in ( C30 . C31 ) implies D17 = ( C29 . B70 )))
proof
let C33 being set;
L133: ( rng C30 ) c= ( bool C27 ) by XBOOLE_1:1;
reconsider D18 = C32 as (Element of C27) by L133 , L125 , L131;
assume L134: C33 in ( C30 . C31 );
reconsider D19 = C33 as (Element of C27) by L134 , L125 , L133;
L135: ( C29 . D19 ) = ( C29 . D18 ) by L121 , L124 , L131 , L134;
thus L136: thesis by L135;
end;
thus L137: thesis by L132;
end;
end;
thus L139: thesis by L126;
end;
consider C34 being (FinSequence of ( ExtREAL )) such that L140: (( dom C34 ) = ( Seg ( len C30 ) ) & (for B71 being Nat holds (B71 in ( Seg ( len C30 ) ) implies S3[ B71 , ( C34 . B71 ) ]))) from FINSEQ_1:sch 5(L122);
take C30;
take C34;
L141: (for B72 being set holds (B72 in ( dom C29 ) implies (ex B73 being (FinSequence of ( ExtREAL )) st (( dom B73 ) = ( dom C34 ) & (for B74 being Nat holds (B74 in ( dom B73 ) implies ( B73 . B74 ) = ( ( C34 . B74 ) * ( ( chi (( C30 . B74 ) , C27) ) . B72 ) )))))))
proof
let C35 being set;
assume L142: C35 in ( dom C29 );
deffunc H2(Nat) = ( ( C34 . $1 ) * ( ( chi (( C30 . $1 ) , C27) ) . C35 ) );
consider C36 being (FinSequence of ( ExtREAL )) such that L143: (( len C36 ) = ( len C30 ) & (for B75 being Nat holds (B75 in ( dom C36 ) implies ( C36 . B75 ) = H2(B75)))) from FINSEQ_2:sch 1;
take C36;
thus L144: thesis by L140 , L143 , FINSEQ_1:def 3;
end;
L145: (for B76 being Nat holds (B76 in ( dom C30 ) implies (for B77 being set holds (B77 in ( C30 . B76 ) implies ( C34 . B76 ) = ( C29 . B77 )))))
proof
let C37 being Nat;
assume L146: C37 in ( dom C30 );
L147: C37 in ( Seg ( len C30 ) ) by L146 , FINSEQ_1:def 3;
thus L148: thesis by L147 , L140;
end;
thus L149: thesis by L145 , L120 , L140 , L141 , FINSEQ_1:def 3;
end;
theorem
L150: (for B78 being set holds (for B79 being (FinSequence of B78) holds (B79 is  disjoint_valued iff (for B80 , B81 being Nat holds ((B80 in ( dom B79 ) & B81 in ( dom B79 ) & B80 <> B81) implies ( B79 . B80 ) misses ( B79 . B81 ))))))
proof
let C38 being set;
let C39 being (FinSequence of C38);
L151:
now
assume L152: (for B82 , B83 being Nat holds ((B82 in ( dom C39 ) & B83 in ( dom C39 ) & B82 <> B83) implies ( C39 . B82 ) misses ( C39 . B83 )));
L153: (for B84 , B85 being set holds (B84 <> B85 implies ( C39 . B84 ) misses ( C39 . B85 )))
proof
let C40 , C41 being set;
assume L154: C40 <> C41;
per cases ;
suppose L155: (C40 in ( dom C39 ) & C41 in ( dom C39 ));

thus L156: thesis by L155 , L152 , L154;
end;
suppose L157: (not C40 in ( dom C39 ));

L158: ( C39 . C40 ) = ( {} ) by L157 , FUNCT_1:def 2;
thus L159: thesis by L158 , XBOOLE_1:65;
end;
suppose L160: (not C41 in ( dom C39 ));

L161: ( C39 . C41 ) = ( {} ) by L160 , FUNCT_1:def 2;
thus L162: thesis by L161 , XBOOLE_1:65;
end;
end;
thus L164: C39 is  disjoint_valued by L153 , PROB_2:def 2;
end;
thus L165: thesis by L151 , PROB_2:def 2;
end;
theorem
L166: (for B86 being non  empty set holds (for B87 being set holds (for B88 being (SigmaField of B86) holds (for B89 being (Finite_Sep_Sequence of B88) holds (for B90 being (FinSequence of B88) holds ((( dom B90 ) = ( dom B89 ) & (for B91 being Nat holds (B91 in ( dom B90 ) implies ( B90 . B91 ) = ( B87 /\ ( B89 . B91 ) )))) implies B90 is (Finite_Sep_Sequence of B88)))))))
proof
let C42 being non  empty set;
let C43 being set;
let C44 being (SigmaField of C42);
let C45 being (Finite_Sep_Sequence of C44);
let C46 being (FinSequence of C44);
assume that
L167: ( dom C46 ) = ( dom C45 )
and
L168: (for B92 being Nat holds (B92 in ( dom C46 ) implies ( C46 . B92 ) = ( C43 /\ ( C45 . B92 ) )));
L169:
now
let C47 , C48 being Nat;
assume that
L170: C47 in ( dom C46 )
and
L171: C48 in ( dom C46 )
and
L172: C47 <> C48;
L173: ( C45 . C47 ) misses ( C45 . C48 ) by L167 , L170 , L171 , L172 , L150;
L174: ( ( C43 /\ ( C45 . C47 ) ) /\ ( C43 /\ ( C45 . C48 ) ) ) = ( C43 /\ ( ( C45 . C47 ) /\ ( C43 /\ ( C45 . C48 ) ) ) ) by XBOOLE_1:16
.= ( C43 /\ ( ( ( C45 . C47 ) /\ ( C45 . C48 ) ) /\ C43 ) ) by XBOOLE_1:16
.= ( C43 /\ ( ( {} ) /\ C43 ) ) by L173 , XBOOLE_0:def 7
.= ( {} );
L175: ( C43 /\ ( C45 . C47 ) ) misses ( C43 /\ ( C45 . C48 ) ) by L174 , XBOOLE_0:def 7;
L176: ( C46 . C47 ) misses ( C43 /\ ( C45 . C48 ) ) by L175 , L168 , L170;
thus L177: ( C46 . C47 ) misses ( C46 . C48 ) by L176 , L168 , L171;
end;
thus L178: thesis by L169 , L150;
end;
theorem
L179: (for B93 being non  empty set holds (for B94 being set holds (for B95 , B96 being (FinSequence of B93) holds ((( dom B96 ) = ( dom B95 ) & (for B97 being Nat holds (B97 in ( dom B96 ) implies ( B96 . B97 ) = ( B94 /\ ( B95 . B97 ) )))) implies ( union ( rng B96 ) ) = ( B94 /\ ( union ( rng B95 ) ) )))))
proof
let C49 being non  empty set;
let C50 being set;
let C51 , C52 being (FinSequence of C49);
assume that
L180: ( dom C52 ) = ( dom C51 )
and
L181: (for B98 being Nat holds (B98 in ( dom C52 ) implies ( C52 . B98 ) = ( C50 /\ ( C51 . B98 ) )));
thus L182: ( union ( rng C52 ) ) c= ( C50 /\ ( union ( rng C51 ) ) )
proof
let C53 being set;
assume L183: C53 in ( union ( rng C52 ) );
consider C54 being set such that L184: C53 in C54 and L185: C54 in ( rng C52 ) by L183 , TARSKI:def 4;
consider C55 being set such that L186: C55 in ( dom C52 ) and L187: C54 = ( C52 . C55 ) by L185 , FUNCT_1:def 3;
reconsider D20 = C55 as (Element of ( NAT )) by L186;
L188: C53 in ( C50 /\ ( C51 . D20 ) ) by L181 , L184 , L186 , L187;
L189: C53 in ( C51 . D20 ) by L188 , XBOOLE_0:def 4;
L190: ( C51 . D20 ) in ( rng C51 ) by L180 , L186 , FUNCT_1:3;
L191: C53 in ( union ( rng C51 ) ) by L190 , L189 , TARSKI:def 4;
L192: C53 in C50 by L188 , XBOOLE_0:def 4;
thus L193: thesis by L192 , L191 , XBOOLE_0:def 4;
end;

let C56 being set;
assume L194: C56 in ( C50 /\ ( union ( rng C51 ) ) );
L195: C56 in C50 by L194 , XBOOLE_0:def 4;
L196: C56 in ( union ( rng C51 ) ) by L194 , XBOOLE_0:def 4;
consider C57 being set such that L197: C56 in C57 and L198: C57 in ( rng C51 ) by L196 , TARSKI:def 4;
consider C58 being set such that L199: C58 in ( dom C51 ) and L200: C57 = ( C51 . C58 ) by L198 , FUNCT_1:def 3;
reconsider D21 = C58 as (Element of ( NAT )) by L199;
L201: ( C50 /\ C57 ) = ( C52 . D21 ) by L180 , L181 , L199 , L200;
L202: C56 in ( C52 . D21 ) by L201 , L195 , L197 , XBOOLE_0:def 4;
L203: ( C52 . D21 ) in ( rng C52 ) by L180 , L199 , FUNCT_1:3;
thus L204: thesis by L203 , L202 , TARSKI:def 4;
end;
theorem
L205: (for B99 being set holds (for B100 being (FinSequence of B99) holds (for B101 being Nat holds (B101 in ( dom B100 ) implies (( B100 . B101 ) c= ( union ( rng B100 ) ) & ( ( B100 . B101 ) /\ ( union ( rng B100 ) ) ) = ( B100 . B101 ))))))
proof
let C59 being set;
let C60 being (FinSequence of C59);
let C61 being Nat;
assume L206: C61 in ( dom C60 );
thus L207: ( C60 . C61 ) c= ( union ( rng C60 ) ) by L206 , FUNCT_1:3 , ZFMISC_1:74;
L208: ( C60 . C61 ) in ( rng C60 ) by L206 , FUNCT_1:3;
thus L209: thesis by L208 , XBOOLE_1:28 , ZFMISC_1:74;
end;
theorem
L210: (for B102 being non  empty set holds (for B103 being (SigmaField of B102) holds (for B104 being (sigma_Measure of B103) holds (for B105 being (Finite_Sep_Sequence of B103) holds ( dom B105 ) = ( dom ( B104 * B105 ) )))))
proof
let C62 being non  empty set;
let C63 being (SigmaField of C62);
let C64 being (sigma_Measure of C63);
let C65 being (Finite_Sep_Sequence of C63);
L211: ( dom C64 ) = C63 by FUNCT_2:def 1;
L212: ( rng C65 ) c= ( dom C64 ) by L211;
thus L213: thesis by L212 , RELAT_1:27;
end;
theorem
L214: (for B106 being non  empty set holds (for B107 being (SigmaField of B106) holds (for B108 being (sigma_Measure of B107) holds (for B109 being (Finite_Sep_Sequence of B107) holds ( B108 . ( union ( rng B109 ) ) ) = ( Sum ( B108 * B109 ) )))))
proof
let C66 being non  empty set;
let C67 being (SigmaField of C66);
let C68 being (sigma_Measure of C67);
let C69 being (Finite_Sep_Sequence of C67);
reconsider D22 = ( C68 * C69 ) as (FinSequence of ( ExtREAL ));
consider C70 being (Function of ( NAT ) , ( ExtREAL )) such that L215: ( Sum D22 ) = ( C70 . ( len D22 ) ) and L216: ( C70 . ( 0 ) ) = ( 0. ) and L217: (for B110 being (Element of ( NAT )) holds (B110 < ( len D22 ) implies ( C70 . ( B110 + 1 ) ) = ( ( C70 . B110 ) + ( D22 . ( B110 + 1 ) ) ))) by EXTREAL1:def 2;
consider C71 being (Sep_Sequence of C67) such that L218: ( union ( rng C69 ) ) = ( union ( rng C71 ) ) and L219: (for B111 being Nat holds (B111 in ( dom C69 ) implies ( C69 . B111 ) = ( C71 . B111 ))) and L220: (for B112 being Nat holds ((not B112 in ( dom C69 )) implies ( C71 . B112 ) = ( {} ))) by MESFUNC2:30;
defpred S4[ Nat ] means ($1 <= ( len D22 ) implies ( ( Ser ( C68 * C71 ) ) . $1 ) = ( C70 . $1 ));
reconsider D23 = ( C68 * C71 ) as (Num of (( rng ( C68 * C71 ) ) qua  countable non  empty (Subset of ( ExtREAL )))) by SUPINF_2:def 10;
L221: ( dom C71 ) = ( NAT ) by FUNCT_2:def 1;
L222: ( Ser ( C68 * C71 ) ) = ( Ser (( rng ( C68 * C71 ) ) , D23) ) by SUPINF_2:def 15;
L223: (for B113 being Nat holds (B113 < ( len D22 ) implies ( ( Ser ( C68 * C71 ) ) . ( B113 + 1 ) ) = ( ( ( Ser ( C68 * C71 ) ) . B113 ) + ( D22 . ( B113 + 1 ) ) )))
proof
let C72 being Nat;
assume L224: C72 < ( len D22 );
L225: (1 <= ( C72 + 1 ) & ( C72 + 1 ) <= ( len D22 )) by L224 , NAT_1:11 , NAT_1:13;
L226: ( C72 + 1 ) in ( dom D22 ) by L225 , FINSEQ_3:25;
L227: ( C72 + 1 ) in ( dom C69 ) by L226 , L210;
reconsider D24 = C72 as (Element of ( NAT )) by ORDINAL1:def 12;
L228: ( ( Ser ( C68 * C71 ) ) . ( D24 + 1 ) ) = ( ( ( Ser ( C68 * C71 ) ) . D24 ) + ( D23 . ( D24 + 1 ) ) ) by L222 , SUPINF_2:def 11
.= ( ( ( Ser ( C68 * C71 ) ) . D24 ) + ( C68 . ( C71 . ( D24 + 1 ) ) ) ) by L221 , FUNCT_1:13
.= ( ( ( Ser ( C68 * C71 ) ) . D24 ) + ( C68 . ( C69 . ( D24 + 1 ) ) ) ) by L219 , L227;
thus L229: thesis by L228 , L227 , FUNCT_1:13;
end;
L230: (for B114 being Nat holds (S4[ B114 ] implies S4[ ( B114 + 1 ) ]))
proof
L231: (for B115 being Nat holds (B115 < ( len D22 ) implies ( C70 . ( B115 + 1 ) ) = ( ( C70 . B115 ) + ( D22 . ( B115 + 1 ) ) )))
proof
let C73 being Nat;
L232: C73 in ( NAT ) by ORDINAL1:def 12;
thus L233: thesis by L232 , L217;
end;
let C74 being Nat;
assume L234: S4[ C74 ];
assume L235: ( C74 + 1 ) <= ( len D22 );
L236: C74 < ( len D22 ) by L235 , NAT_1:13;
L237: ( ( Ser ( C68 * C71 ) ) . ( C74 + 1 ) ) = ( ( C70 . C74 ) + ( D22 . ( C74 + 1 ) ) ) by L236 , L223 , L234;
thus L238: thesis by L237 , L231 , L236;
end;
defpred S5[ Nat ] means ($1 >= ( len D22 ) implies ( ( Ser ( C68 * C71 ) ) . $1 ) = ( ( Ser ( C68 * C71 ) ) . ( len D22 ) ));
L239: (for B116 being Nat holds (S5[ B116 ] implies S5[ ( B116 + 1 ) ]))
proof
let C75 being Nat;
assume L240: S5[ C75 ];
assume L241: ( C75 + 1 ) >= ( len D22 );
reconsider D25 = C75 as (Element of ( NAT )) by ORDINAL1:def 12;
L242:
now
per cases ;
case L243: D25 >= ( len D22 );
L244: ( D25 + 1 ) > ( len D22 ) by L243 , NAT_1:13;
L245: (not ( D25 + 1 ) in ( Seg ( len D22 ) )) by L244 , FINSEQ_1:1;
L246: (not ( D25 + 1 ) in ( dom D22 )) by L245 , FINSEQ_1:def 3;
L247: (not ( D25 + 1 ) in ( dom C69 )) by L246 , L210;
L248: ( D23 . ( D25 + 1 ) ) = ( C68 . ( C71 . ( D25 + 1 ) ) ) by L221 , FUNCT_1:13
.= ( C68 . ( {} ) ) by L220 , L247
.= ( 0. ) by VALUED_0:def 19;
L249: ( ( Ser ( C68 * C71 ) ) . ( D25 + 1 ) ) = ( ( ( Ser ( C68 * C71 ) ) . ( len D22 ) ) + ( D23 . ( D25 + 1 ) ) ) by L222 , L240 , L243 , SUPINF_2:def 11;
thus L250: thesis by L249 , L248 , XXREAL_3:4;
end;
case L251: D25 < ( len D22 );
L252: ( D25 + 1 ) <= ( len D22 ) by L251 , NAT_1:13;
thus L253: thesis by L252 , L241 , XXREAL_0:1;
end;
end;
thus L255: thesis by L242;
end;
defpred S6[ Nat ] means ($1 < ( len D22 ) implies ( ( Ser ( C68 * C71 ) ) . ( ( len D22 ) - $1 ) ) <= ( ( Ser ( C68 * C71 ) ) . ( len D22 ) ));
L256: ( C68 * C71 ) is  nonnegative by MEASURE2:1;
L257: (for B117 being Nat holds (S6[ B117 ] implies S6[ ( B117 + 1 ) ]))
proof
let C76 being Nat;
assume L258: S6[ C76 ];
assume L259: ( C76 + 1 ) < ( len D22 );
consider C77 being Nat such that L260: ( len D22 ) = ( ( C76 + 1 ) + C77 ) by L259 , NAT_1:10;
reconsider D26 = C77 as (Element of ( NAT )) by ORDINAL1:def 12;
L261: (C76 <= ( C76 + 1 ) & ( ( Ser ( C68 * C71 ) ) . D26 ) <= ( ( Ser ( C68 * C71 ) ) . ( D26 + 1 ) )) by L256 , NAT_1:11 , SUPINF_2:40;
thus L262: thesis by L261 , L258 , L259 , L260 , XXREAL_0:2;
end;
L263: (not ( 0 ) in ( Seg ( len C69 ) )) by FINSEQ_1:1;
L264: (not ( 0 ) in ( dom C69 )) by L263 , FINSEQ_1:def 3;
L265: ( C71 . ( 0 ) ) = ( {} ) by L264 , L220;
L266: ( ( Ser ( C68 * C71 ) ) . ( 0 ) ) = ( D23 . ( 0 ) ) by L222 , SUPINF_2:def 11;
L267: ( ( Ser ( C68 * C71 ) ) . ( 0 ) ) = ( C68 . ( C71 . ( 0 ) ) ) by L266 , L221 , FUNCT_1:13
.= ( 0. ) by L265 , VALUED_0:def 19;
L268: S4[ ( 0 ) ] by L267 , L216;
L269: (for B118 being Nat holds S4[ B118 ]) from NAT_1:sch 2(L268 , L230);
L270: S6[ ( 0 ) ];
L271: (for B119 being Nat holds S6[ B119 ]) from NAT_1:sch 2(L270 , L257);
L272: (for B120 being Nat holds (B120 < ( len D22 ) implies ( ( Ser ( C68 * C71 ) ) . B120 ) <= ( ( Ser ( C68 * C71 ) ) . ( len D22 ) )))
proof
let C78 being Nat;
L273: ( len D22 ) <= ( ( len D22 ) + C78 ) by NAT_1:11;
assume L274: C78 < ( len D22 );
consider C79 being Nat such that L275: ( len D22 ) = ( C78 + C79 ) by L274 , NAT_1:10;
reconsider D27 = C79 as (Element of ( NAT )) by ORDINAL1:def 12;
L276: D27 = ( ( len D22 ) - C78 ) by L275;
L277: D27 <= ( len D22 ) by L276 , L273 , XREAL_1:20;
L278: ( ( Ser ( C68 * C71 ) ) . ( ( len D22 ) - D27 ) ) <= ( ( Ser ( C68 * C71 ) ) . ( len D22 ) )
proof
L279:
now
per cases  by L277 , XXREAL_0:1;
case L280: D27 = ( len D22 );
thus L281: thesis by L280 , L267 , L256 , SUPINF_2:40;
end;
case L282: D27 < ( len D22 );
thus L283: thesis by L282 , L271;
end;
end;
thus L285: thesis by L279;
end;
thus L286: thesis by L278 , L275;
end;
L287: S5[ ( 0 ) ];
L288: (for B121 being Nat holds S5[ B121 ]) from NAT_1:sch 2(L287 , L239);
L289: (for B122 being  ext-real number holds (B122 in ( rng ( Ser ( C68 * C71 ) ) ) implies B122 <= ( ( Ser ( C68 * C71 ) ) . ( len D22 ) )))
proof
let C80 being  ext-real number;
assume L290: C80 in ( rng ( Ser ( C68 * C71 ) ) );
consider C81 being set such that L291: C81 in ( dom ( Ser ( C68 * C71 ) ) ) and L292: C80 = ( ( Ser ( C68 * C71 ) ) . C81 ) by L290 , FUNCT_1:def 3;
reconsider D28 = C81 as (Element of ( NAT )) by L291;
L293:
now
per cases ;
case L294: D28 < ( len D22 );
thus L295: thesis by L294 , L272 , L292;
end;
case L296: D28 >= ( len D22 );
thus L297: thesis by L296 , L288 , L292;
end;
end;
thus L299: thesis by L293;
end;
L300: ( ( Ser ( C68 * C71 ) ) . ( len D22 ) ) is (UpperBound of ( rng ( Ser ( C68 * C71 ) ) )) by L289 , XXREAL_2:def 1;
L301: ( dom ( Ser ( C68 * C71 ) ) ) = ( NAT ) by FUNCT_2:def 1;
L302: ( ( Ser ( C68 * C71 ) ) . ( len D22 ) ) = ( sup ( rng ( Ser ( C68 * C71 ) ) ) ) by L301 , L300 , FUNCT_1:3 , XXREAL_2:55;
L303: ( C68 . ( union ( rng C69 ) ) ) = ( SUM ( C68 * C71 ) ) by L218 , MEASURE1:def 6
.= ( sup ( rng ( Ser ( C68 * C71 ) ) ) );
thus L304: thesis by L303 , L215 , L269 , L302;
end;
theorem
L305: (for B123 , B124 being (FinSequence of ( ExtREAL )) holds (for B125 being R_eal holds (((B125 is  real or (for B126 being Nat holds (B126 in ( dom B123 ) implies ( B123 . B126 ) < ( 0. ))) or (for B127 being Nat holds (B127 in ( dom B123 ) implies ( 0. ) < ( B123 . B127 )))) & ( dom B123 ) = ( dom B124 ) & (for B128 being Nat holds (B128 in ( dom B124 ) implies ( B124 . B128 ) = ( B125 * ( B123 . B128 ) )))) implies ( Sum B124 ) = ( B125 * ( Sum B123 ) ))))
proof
let C82 , C83 being (FinSequence of ( ExtREAL ));
let C84 being R_eal;
assume that
L306: (C84 is  real or (for B129 being Nat holds (B129 in ( dom C82 ) implies ( C82 . B129 ) < ( 0. ))) or (for B130 being Nat holds (B130 in ( dom C82 ) implies ( 0. ) < ( C82 . B130 ))))
and
L307: ( dom C82 ) = ( dom C83 )
and
L308: (for B131 being Nat holds (B131 in ( dom C83 ) implies ( C83 . B131 ) = ( C84 * ( C82 . B131 ) )));
consider C85 being (Function of ( NAT ) , ( ExtREAL )) such that L309: ( Sum C83 ) = ( C85 . ( len C83 ) ) and L310: ( C85 . ( 0 ) ) = ( 0. ) and L311: (for B132 being (Element of ( NAT )) holds (B132 < ( len C83 ) implies ( C85 . ( B132 + 1 ) ) = ( ( C85 . B132 ) + ( C83 . ( B132 + 1 ) ) ))) by EXTREAL1:def 2;
consider C86 being (Function of ( NAT ) , ( ExtREAL )) such that L312: ( Sum C82 ) = ( C86 . ( len C82 ) ) and L313: ( C86 . ( 0 ) ) = ( 0. ) and L314: (for B133 being (Element of ( NAT )) holds (B133 < ( len C82 ) implies ( C86 . ( B133 + 1 ) ) = ( ( C86 . B133 ) + ( C82 . ( B133 + 1 ) ) ))) by EXTREAL1:def 2;
defpred S7[ Nat ] means ($1 <= ( len C83 ) implies ( C85 . $1 ) = ( C84 * ( C86 . $1 ) ));
L315: (for B134 being Nat holds (S7[ B134 ] implies S7[ ( B134 + 1 ) ]))
proof
let C87 being Nat;
assume L316: S7[ C87 ];
assume L317: ( C87 + 1 ) <= ( len C83 );
reconsider D29 = C87 as (Element of ( NAT )) by ORDINAL1:def 12;
L318: 1 <= ( D29 + 1 ) by NAT_1:11;
L319: ( D29 + 1 ) in ( dom C83 ) by L318 , L317 , FINSEQ_3:25;
L320: ( D29 + 1 ) in ( Seg ( len C82 ) ) by L319 , L307 , FINSEQ_1:def 3;
L321: ( D29 + 1 ) <= ( len C82 ) by L320 , FINSEQ_1:1;
L322: D29 < ( len C82 ) by L321 , NAT_1:13;
L323: D29 < ( len C83 ) by L317 , NAT_1:13;
L324: ( C85 . ( D29 + 1 ) ) = ( ( C85 . D29 ) + ( C83 . ( D29 + 1 ) ) ) by L323 , L311
.= ( ( C84 * ( C86 . D29 ) ) + ( C84 * ( C82 . ( D29 + 1 ) ) ) ) by L308 , L316 , L317 , L319 , NAT_1:13;
L325:
now
per cases  by L306;
case L326: C84 is  real;
L327: ( C85 . ( D29 + 1 ) ) = ( C84 * ( ( C86 . D29 ) + ( C82 . ( D29 + 1 ) ) ) ) by L326 , L324 , XXREAL_3:95;
thus L328: thesis by L327 , L314 , L322;
end;
case L329: (for B135 being Nat holds (B135 in ( dom C82 ) implies ( C82 . B135 ) < ( 0. )));
defpred S8[ Nat ] means ($1 < ( len C82 ) implies ( C86 . $1 ) <= ( 0. ));
L330: (for B136 being Nat holds (S8[ B136 ] implies S8[ ( B136 + 1 ) ]))
proof
let C88 being Nat;
assume L331: S8[ C88 ];
assume L332: ( C88 + 1 ) < ( len C82 );
reconsider D30 = C88 as (Element of ( NAT )) by ORDINAL1:def 12;
L333: 1 <= ( D30 + 1 ) by NAT_1:12;
L334: ( D30 + 1 ) in ( dom C82 ) by L333 , L332 , FINSEQ_3:25;
L335: ( C82 . ( D30 + 1 ) ) < ( 0. ) by L334 , L329;
L336: D30 < ( len C82 ) by L332 , NAT_1:13;
L337: ( C86 . ( D30 + 1 ) ) = ( ( C86 . D30 ) + ( C82 . ( D30 + 1 ) ) ) by L336 , L314;
thus L338: thesis by L337 , L331 , L332 , L335 , NAT_1:13;
end;
L339: S8[ ( 0 ) ] by L313;
L340: (for B137 being Nat holds S8[ B137 ]) from NAT_1:sch 2(L339 , L330);
L341: (( C86 . D29 ) < ( 0. ) or ( C86 . D29 ) = ( 0. )) by L340 , L322;
L342: ( C82 . ( D29 + 1 ) ) < ( 0. ) by L307 , L319 , L329;
L343: ( C85 . ( D29 + 1 ) ) = ( C84 * ( ( C86 . D29 ) + ( C82 . ( D29 + 1 ) ) ) ) by L342 , L324 , L341 , XXREAL_3:97;
thus L344: thesis by L343 , L314 , L322;
end;
case L345: (for B138 being Nat holds (B138 in ( dom C82 ) implies ( 0. ) < ( C82 . B138 )));
defpred S9[ Nat ] means ($1 < ( len C82 ) implies ( 0. ) <= ( C86 . $1 ));
L346: (for B139 being Nat holds (S9[ B139 ] implies S9[ ( B139 + 1 ) ]))
proof
let C89 being Nat;
assume L347: S9[ C89 ];
assume L348: ( C89 + 1 ) < ( len C82 );
reconsider D31 = C89 as (Element of ( NAT )) by ORDINAL1:def 12;
L349: 1 <= ( D31 + 1 ) by NAT_1:12;
L350: ( D31 + 1 ) in ( dom C82 ) by L349 , L348 , FINSEQ_3:25;
L351: ( 0. ) < ( C82 . ( D31 + 1 ) ) by L350 , L345;
L352: D31 < ( len C82 ) by L348 , NAT_1:13;
L353: ( C86 . ( D31 + 1 ) ) = ( ( C86 . D31 ) + ( C82 . ( D31 + 1 ) ) ) by L352 , L314;
thus L354: thesis by L353 , L347 , L348 , L351 , NAT_1:13;
end;
L355: S9[ ( 0 ) ] by L313;
L356: (for B140 being Nat holds S9[ B140 ]) from NAT_1:sch 2(L355 , L346);
L357: (( 0. ) < ( C86 . D29 ) or ( C86 . D29 ) = ( 0. )) by L356 , L322;
L358: ( 0. ) < ( C82 . ( D29 + 1 ) ) by L307 , L319 , L345;
L359: ( C85 . ( D29 + 1 ) ) = ( C84 * ( ( C86 . D29 ) + ( C82 . ( D29 + 1 ) ) ) ) by L358 , L324 , L357 , XXREAL_3:96;
thus L360: thesis by L359 , L314 , L322;
end;
end;
thus L362: thesis by L325;
end;
L363: S7[ ( 0 ) ] by L313 , L310;
L364: (for B141 being Nat holds S7[ B141 ]) from NAT_1:sch 2(L363 , L315);
L365: ( Seg ( len C82 ) ) = ( dom C83 ) by L307 , FINSEQ_1:def 3
.= ( Seg ( len C83 ) ) by FINSEQ_1:def 3;
L366: ( C84 * ( Sum C82 ) ) = ( C84 * ( C86 . ( len C83 ) ) ) by L365 , L312 , FINSEQ_1:6
.= ( C85 . ( len C83 ) ) by L364;
thus L367: thesis by L366 , L309;
end;
theorem
L368: (for B142 being (FinSequence of ( REAL )) holds B142 is (FinSequence of ( ExtREAL )))
proof
let C90 being (FinSequence of ( REAL ));
L369: ( rng C90 ) c= ( ExtREAL ) by NUMBERS:31 , XBOOLE_1:1;
thus L370: thesis by L369 , FINSEQ_1:def 4;
end;
definition
let C91 being non  empty set;
let C92 being (SigmaField of C91);
let C93 being (PartFunc of C91 , ( ExtREAL ));
let C94 being (Finite_Sep_Sequence of C92);
let C95 being (FinSequence of ( ExtREAL ));
pred C94 , C95 are_Re-presentation_of C93
means
:L371: (( dom C93 ) = ( union ( rng C94 ) ) & ( dom C94 ) = ( dom C95 ) & (for B143 being Nat holds (B143 in ( dom C94 ) implies (for B144 being set holds (B144 in ( C94 . B143 ) implies ( C93 . B144 ) = ( C95 . B143 ))))))
;end;
theorem
L373: (for B145 being non  empty set holds (for B146 being (SigmaField of B145) holds (for B147 being (PartFunc of B145 , ( ExtREAL )) holds (B147 is_simple_func_in B146 implies (ex B148 being (Finite_Sep_Sequence of B146) st (ex B149 being (FinSequence of ( ExtREAL )) st B148 , B149 are_Re-presentation_of B147))))))
proof
let C96 being non  empty set;
let C97 being (SigmaField of C96);
let C98 being (PartFunc of C96 , ( ExtREAL ));
assume L374: C98 is_simple_func_in C97;
consider C99 being (Finite_Sep_Sequence of C97), C100 being (FinSequence of ( ExtREAL )) such that L375: (( dom C98 ) = ( union ( rng C99 ) ) & ( dom C99 ) = ( dom C100 ) & (for B150 being Nat holds (B150 in ( dom C99 ) implies (for B151 being set holds (B151 in ( C99 . B150 ) implies ( C98 . B151 ) = ( C100 . B150 )))))) and L376: (for B152 being set holds (B152 in ( dom C98 ) implies (ex B153 being (FinSequence of ( ExtREAL )) st (( dom B153 ) = ( dom C100 ) & (for B154 being Nat holds (B154 in ( dom B153 ) implies ( B153 . B154 ) = ( ( C100 . B154 ) * ( ( chi (( C99 . B154 ) , C96) ) . B152 ) ))))))) by L374 , L118;
take C99;
take C100;
thus L377: thesis by L375 , L371;
end;
theorem
L378: (for B155 being non  empty set holds (for B156 being (SigmaField of B155) holds (for B157 being (Finite_Sep_Sequence of B156) holds (ex B158 being (Finite_Sep_Sequence of B156) st (( union ( rng B157 ) ) = ( union ( rng B158 ) ) & (for B159 being Nat holds (B159 in ( dom B158 ) implies (( B158 . B159 ) <> ( {} ) & (ex B160 being Nat st (B160 in ( dom B157 ) & ( B157 . B160 ) = ( B158 . B159 )))))))))))
proof
let C101 being non  empty set;
let C102 being (SigmaField of C101);
let C103 being (Finite_Sep_Sequence of C102);
defpred S10[ Nat ] means (for B161 being (Finite_Sep_Sequence of C102) holds (( len B161 ) = $1 implies (ex B162 being (Finite_Sep_Sequence of C102) st (( union ( rng B161 ) ) = ( union ( rng B162 ) ) & (for B163 being Nat holds (B163 in ( dom B162 ) implies (( B162 . B163 ) <> ( {} ) & (ex B164 being Nat st (B164 in ( dom B161 ) & ( B161 . B164 ) = ( B162 . B163 ))))))))));
L379: (for B165 being Nat holds (S10[ B165 ] implies S10[ ( B165 + 1 ) ]))
proof
let C104 being Nat;
assume L380: S10[ C104 ];
let C105 being (Finite_Sep_Sequence of C102);
assume L381: ( len C105 ) = ( C104 + 1 );
reconsider D32 = C104 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D33 = ( C105 | ( Seg D32 ) ) as (Finite_Sep_Sequence of C102) by MESFUNC2:33;
L382: D32 <= ( len C105 ) by L381 , NAT_1:11;
L383: ( len D33 ) = D32 by L382 , FINSEQ_1:17;
consider C106 being (Finite_Sep_Sequence of C102) such that L384: ( union ( rng D33 ) ) = ( union ( rng C106 ) ) and L385: (for B166 being Nat holds (B166 in ( dom C106 ) implies (( C106 . B166 ) <> ( {} ) & (ex B167 being Nat st (B167 in ( dom D33 ) & ( D33 . B167 ) = ( C106 . B166 )))))) by L383 , L380;
L386: (( dom C105 ) = ( dom ( D33 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ) & (for B168 being Nat holds (B168 in ( dom C105 ) implies ( C105 . B168 ) = ( ( D33 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . B168 ))))
proof
thus L387: ( dom ( D33 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ) = ( Seg ( ( len D33 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by FINSEQ_1:def 7
.= ( Seg ( D32 + 1 ) ) by L383 , FINSEQ_1:39
.= ( dom C105 ) by L381 , FINSEQ_1:def 3;
let C107 being Nat;
assume L388: C107 in ( dom C105 );
L389:
now
per cases ;
case L390: C107 in ( dom D33 );
L391: C107 in ( Seg D32 ) by L390 , L382 , FINSEQ_1:17;
L392: C107 <= D32 by L391 , FINSEQ_1:1;
L393: ( ( C105 | D32 ) . C107 ) = ( C105 . C107 ) by L392 , FINSEQ_3:112;
L394: ( ( D33 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . C107 ) = ( D33 . C107 ) by L390 , FINSEQ_1:def 7;
thus L395: thesis by L394 , L393 , FINSEQ_1:def 15;
end;
case L396: (not C107 in ( dom D33 ));
L397: C107 in ( Seg ( D32 + 1 ) ) by L381 , L388 , FINSEQ_1:def 3;
L398: (not C107 in ( Seg D32 )) by L382 , L396 , FINSEQ_1:17;
L399: (not (1 <= C107 & C107 <= D32)) by L398 , FINSEQ_1:1;
L400: (not C107 < ( D32 + 1 )) by L399 , L397 , FINSEQ_1:1 , NAT_1:13;
L401: ( dom <* ( C105 . ( D32 + 1 ) ) *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
L402: 1 in ( dom <* ( C105 . ( D32 + 1 ) ) *> ) by L401 , FINSEQ_1:2 , TARSKI:def 1;
L403: C107 <= ( D32 + 1 ) by L397 , FINSEQ_1:1;
L404: ( ( D33 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . C107 ) = ( ( D33 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . ( ( len D33 ) + 1 ) ) by L403 , L383 , L400 , XXREAL_0:1
.= ( <* ( C105 . ( D32 + 1 ) ) *> . 1 ) by L402 , FINSEQ_1:def 7
.= ( C105 . ( D32 + 1 ) ) by FINSEQ_1:def 8;
thus L405: thesis by L404 , L400 , L403 , XXREAL_0:1;
end;
end;
thus L407: thesis by L389;
end;
L408: C105 = ( D33 ^ <* ( C105 . ( D32 + 1 ) ) *> ) by L386 , FINSEQ_1:13;
L409: (ex B169 being (Finite_Sep_Sequence of C102) st (( union ( rng C105 ) ) = ( union ( rng B169 ) ) & (for B170 being Nat holds (B170 in ( dom B169 ) implies (( B169 . B170 ) <> ( {} ) & (ex B171 being Nat st (B171 in ( dom C105 ) & ( C105 . B171 ) = ( B169 . B170 ))))))))
proof
L410:
now
per cases ;
case L411: ( C105 . ( D32 + 1 ) ) = ( {} );
L412: ( rng <* ( C105 . ( D32 + 1 ) ) *> ) = { ( {} ) } by L411 , FINSEQ_1:38;
take D34 = C106;
L413: (for B172 being Nat holds (B172 in ( dom D34 ) implies (( D34 . B172 ) <> ( {} ) & (ex B173 being Nat st (B173 in ( dom C105 ) & ( C105 . B173 ) = ( D34 . B172 ))))))
proof
let C108 being Nat;
L414: ( dom D33 ) c= ( dom C105 ) by L386 , FINSEQ_1:26;
assume L415: C108 in ( dom D34 );
consider C109 being Nat such that L416: C109 in ( dom D33 ) and L417: ( D33 . C109 ) = ( D34 . C108 ) by L415 , L385;
L418: ( D33 . C109 ) = ( C105 . C109 ) by L408 , L416 , FINSEQ_1:def 7;
thus L419: thesis by L418 , L385 , L415 , L416 , L417 , L414;
end;
L420: ( rng C105 ) = ( ( rng D33 ) \/ ( rng <* ( C105 . ( D32 + 1 ) ) *> ) ) by L408 , FINSEQ_1:31;
L421: ( union ( rng C105 ) ) = ( ( union ( rng D33 ) ) \/ ( union ( rng <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L420 , ZFMISC_1:78
.= ( ( union ( rng D33 ) ) \/ ( {} ) ) by L412 , ZFMISC_1:25
.= ( union ( rng D34 ) ) by L384;
thus L422: thesis by L421 , L413;
end;
case L423: ( C105 . ( D32 + 1 ) ) <> ( {} );
L424: (for B174 , B175 being set holds (B174 <> B175 implies ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . B174 ) misses ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . B175 )))
proof
let C110 , C111 being set;
assume L425: C110 <> C111;
L426:
now
per cases ;
case L427: (C110 in ( dom ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ) & C111 in ( dom ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ));
reconsider D35 = C110 , D36 = C111 as (Element of ( NAT )) by L427;
L428:
now
per cases ;
case L429: D35 = ( len ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) );
L430: D35 = ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) by L429 , FINSEQ_1:22;
L431: D35 = ( ( len C106 ) + 1 ) by L430 , FINSEQ_1:39;
L432: 1 <= ( len <* ( C105 . ( D32 + 1 ) ) *> ) by FINSEQ_1:39;
L433: ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . D35 ) = ( <* ( C105 . ( D32 + 1 ) ) *> . 1 ) by L432 , L431 , FINSEQ_1:65
.= ( C105 . ( D32 + 1 ) ) by FINSEQ_1:def 8;
L434: D36 in ( Seg ( len ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L427 , FINSEQ_1:def 3;
L435: D36 in ( Seg ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L434 , FINSEQ_1:22;
L436: D36 in ( Seg ( ( len C106 ) + 1 ) ) by L435 , FINSEQ_1:39;
L437: D36 <= ( ( len C106 ) + 1 ) by L436 , FINSEQ_1:1;
L438: D36 < ( ( len C106 ) + 1 ) by L437 , L425 , L431 , XXREAL_0:1;
L439: D36 <= ( len C106 ) by L438 , NAT_1:13;
L440: 1 <= D36 by L434 , FINSEQ_1:1;
L441: D36 in ( dom C106 ) by L440 , L439 , FINSEQ_3:25;
consider C112 being Nat such that L442: C112 in ( dom D33 ) and L443: ( D33 . C112 ) = ( C106 . D36 ) by L441 , L385;
L444: C112 in ( Seg ( len D33 ) ) by L442 , FINSEQ_1:def 3;
L445: C112 <= D32 by L444 , L383 , FINSEQ_1:1;
L446: C112 <> ( D32 + 1 ) by L445 , NAT_1:13;
L447: ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . D36 ) = ( C106 . D36 ) by L441 , FINSEQ_1:def 7;
L448: ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . D36 ) = ( C105 . C112 ) by L447 , L408 , L442 , L443 , FINSEQ_1:def 7;
thus L449: thesis by L448 , L433 , L446 , PROB_2:def 2;
end;
case L450: D35 <> ( len ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) );
L451: D35 <> ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) by L450 , FINSEQ_1:22;
L452: D35 <> ( ( len C106 ) + 1 ) by L451 , FINSEQ_1:39;
L453: D35 in ( Seg ( len ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L427 , FINSEQ_1:def 3;
L454: D35 in ( Seg ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L453 , FINSEQ_1:22;
L455: D35 in ( Seg ( ( len C106 ) + 1 ) ) by L454 , FINSEQ_1:39;
L456: D35 <= ( ( len C106 ) + 1 ) by L455 , FINSEQ_1:1;
L457: D35 < ( ( len C106 ) + 1 ) by L456 , L452 , XXREAL_0:1;
L458: D35 <= ( len C106 ) by L457 , NAT_1:13;
L459: 1 <= D35 by L453 , FINSEQ_1:1;
L460: D35 in ( dom C106 ) by L459 , L458 , FINSEQ_3:25;
L461: ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . D35 ) = ( C106 . D35 ) by L460 , FINSEQ_1:def 7;
L462:
now
per cases ;
case L463: D36 = ( len ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) );
L464: D36 = ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) by L463 , FINSEQ_1:22;
L465: D36 = ( ( len C106 ) + 1 ) by L464 , FINSEQ_1:39;
L466: 1 <= ( len <* ( C105 . ( D32 + 1 ) ) *> ) by FINSEQ_1:39;
L467: ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . D36 ) = ( <* ( C105 . ( D32 + 1 ) ) *> . 1 ) by L466 , L465 , FINSEQ_1:65
.= ( C105 . ( D32 + 1 ) ) by FINSEQ_1:def 8;
consider C113 being Nat such that L468: C113 in ( dom D33 ) and L469: ( D33 . C113 ) = ( C106 . D35 ) by L385 , L460;
L470: C113 in ( Seg ( len D33 ) ) by L468 , FINSEQ_1:def 3;
L471: C113 <= D32 by L470 , L383 , FINSEQ_1:1;
L472: C113 <> ( D32 + 1 ) by L471 , NAT_1:13;
L473: ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . D35 ) = ( C105 . C113 ) by L408 , L461 , L468 , L469 , FINSEQ_1:def 7;
thus L474: thesis by L473 , L467 , L472 , PROB_2:def 2;
end;
case L475: D36 <> ( len ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) );
L476: D36 <> ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) by L475 , FINSEQ_1:22;
L477: D36 <> ( ( len C106 ) + 1 ) by L476 , FINSEQ_1:39;
L478: D36 in ( Seg ( len ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L427 , FINSEQ_1:def 3;
L479: D36 in ( Seg ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L478 , FINSEQ_1:22;
L480: D36 in ( Seg ( ( len C106 ) + 1 ) ) by L479 , FINSEQ_1:39;
L481: D36 <= ( ( len C106 ) + 1 ) by L480 , FINSEQ_1:1;
L482: D36 < ( ( len C106 ) + 1 ) by L481 , L477 , XXREAL_0:1;
L483: D36 <= ( len C106 ) by L482 , NAT_1:13;
L484: 1 <= D36 by L478 , FINSEQ_1:1;
L485: D36 in ( dom C106 ) by L484 , L483 , FINSEQ_3:25;
L486: ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . D36 ) = ( C106 . D36 ) by L485 , FINSEQ_1:def 7;
thus L487: thesis by L486 , L425 , L461 , PROB_2:def 2;
end;
end;
thus L489: thesis by L462;
end;
end;
thus L491: thesis by L428;
end;
case L492: (not (C110 in ( dom ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) ) & C111 in ( dom ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) )));
L493: (( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . C110 ) = ( {} ) or ( ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) . C111 ) = ( {} )) by L492 , FUNCT_1:def 2;
thus L494: thesis by L493 , XBOOLE_1:65;
end;
end;
thus L496: thesis by L426;
end;
L497: 1 <= ( D32 + 1 ) by NAT_1:11;
L498: ( D32 + 1 ) in ( Seg ( D32 + 1 ) ) by L497 , FINSEQ_1:1;
L499: ( D32 + 1 ) in ( dom C105 ) by L498 , L381 , FINSEQ_1:def 3;
L500: ( C105 . ( D32 + 1 ) ) in ( rng C105 ) by L499 , FUNCT_1:3;
L501: <* ( C105 . ( D32 + 1 ) ) *> is (FinSequence of C102) by L500 , FINSEQ_1:74;
reconsider D37 = ( C106 ^ <* ( C105 . ( D32 + 1 ) ) *> ) as (Finite_Sep_Sequence of C102) by L501 , L424 , FINSEQ_1:75 , PROB_2:def 2;
L502: ( len D37 ) = ( ( len C106 ) + ( len <* ( C105 . ( D32 + 1 ) ) *> ) ) by FINSEQ_1:22
.= ( ( len C106 ) + 1 ) by FINSEQ_1:39;
L503: (for B176 being Nat holds (B176 in ( dom D37 ) implies (( D37 . B176 ) <> ( {} ) & (ex B177 being Nat st (B177 in ( dom C105 ) & ( C105 . B177 ) = ( D37 . B176 ))))))
proof
let C114 being Nat;
assume L504: C114 in ( dom D37 );
reconsider D38 = C114 as (Element of ( NAT )) by ORDINAL1:def 12;
L505:
now
per cases ;
case L506: D38 = ( len D37 );
L507: 1 <= ( D32 + 1 ) by NAT_1:11;
L508: ( D32 + 1 ) in ( Seg ( D32 + 1 ) ) by L507 , FINSEQ_1:1;
L509: ( D32 + 1 ) in ( dom C105 ) by L508 , L381 , FINSEQ_1:def 3;
L510: ( dom <* ( C105 . ( D32 + 1 ) ) *> ) = ( Seg 1 ) by FINSEQ_1:38;
L511: 1 in ( dom <* ( C105 . ( D32 + 1 ) ) *> ) by L510 , FINSEQ_1:2 , TARSKI:def 1;
L512: ( D37 . D38 ) = ( <* ( C105 . ( D32 + 1 ) ) *> . 1 ) by L511 , L502 , L506 , FINSEQ_1:def 7
.= ( C105 . ( D32 + 1 ) ) by FINSEQ_1:def 8;
thus L513: thesis by L512 , L423 , L509;
end;
case L514: D38 <> ( len D37 );
L515: D38 <= ( len D37 ) by L504 , FINSEQ_3:25;
L516: D38 < ( len D37 ) by L515 , L514 , XXREAL_0:1;
L517: D38 <= ( len C106 ) by L516 , L502 , NAT_1:13;
L518: 1 <= D38 by L504 , FINSEQ_3:25;
L519: D38 in ( dom C106 ) by L518 , L517 , FINSEQ_3:25;
L520: ( D37 . D38 ) = ( C106 . D38 ) by L519 , FINSEQ_1:def 7;
L521: (ex B178 being Nat st (B178 in ( dom C105 ) & ( C105 . B178 ) = ( D37 . D38 )))
proof
consider C115 being Nat such that L522: (C115 in ( dom D33 ) & ( D33 . C115 ) = ( C106 . D38 )) by L385 , L519;
take C115;
L523: ( dom D33 ) c= ( dom C105 ) by L386 , FINSEQ_1:26;
thus L524: thesis by L523 , L408 , L520 , L522 , FINSEQ_1:def 7;
end;
thus L525: thesis by L521 , L385 , L519 , L520;
end;
end;
thus L527: thesis by L505;
end;
take D39 = D37;
L528: ( rng C105 ) = ( ( rng D33 ) \/ ( rng <* ( C105 . ( D32 + 1 ) ) *> ) ) by L408 , FINSEQ_1:31;
L529: ( union ( rng C105 ) ) = ( ( union ( rng D33 ) ) \/ ( union ( rng <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L528 , ZFMISC_1:78
.= ( union ( ( rng C106 ) \/ ( rng <* ( C105 . ( D32 + 1 ) ) *> ) ) ) by L384 , ZFMISC_1:78
.= ( union ( rng D39 ) ) by FINSEQ_1:31;
thus L530: thesis by L529 , L503;
end;
end;
thus L532: thesis by L410;
end;
thus L533: thesis by L409;
end;
L534: ( len C103 ) = ( len C103 );
L535: S10[ ( 0 ) ]
proof
let C116 being (Finite_Sep_Sequence of C102);
assume L536: ( len C116 ) = ( 0 );
take D40 = C116;
L537: D40 = ( {} ) by L536;
thus L538: thesis by L537;
end;
L539: (for B179 being Nat holds S10[ B179 ]) from NAT_1:sch 2(L535 , L379);
thus L540: thesis by L539 , L534;
end;
L541: (for B180 being (FinSequence of ( ExtREAL )) holds (for B181 , B182 being (Element of ( ExtREAL )) holds ((B182 = ( len B180 ) & (for B183 being Nat holds (B183 in ( dom B180 ) implies ( B180 . B183 ) = B181))) implies ( Sum B180 ) = ( B182 * B181 ))))
proof
defpred S11[ Nat ] means (for B184 being (FinSequence of ( ExtREAL )) holds (for B185 being (Element of ( ExtREAL )) holds (($1 = ( len B184 ) & (for B186 being Nat holds (B186 in ( dom B184 ) implies ( B184 . B186 ) = B185))) implies (ex B187 being (Element of ( ExtREAL )) st (B187 = $1 & ( Sum B184 ) = ( B187 * B185 ))))));
let C117 being (FinSequence of ( ExtREAL ));
let C118 , C119 being (Element of ( ExtREAL ));
assume that
L542: C119 = ( len C117 )
and
L543: (for B188 being Nat holds (B188 in ( dom C117 ) implies ( C117 . B188 ) = C118));
L544: (for B189 being Nat holds (S11[ B189 ] implies S11[ ( B189 + 1 ) ]))
proof
let C120 being Nat;
assume L545: S11[ C120 ];
reconsider D41 = C120 as (Element of ( NAT )) by ORDINAL1:def 12;
L546: (for B190 being (FinSequence of ( ExtREAL )) holds (for B191 being (Element of ( ExtREAL )) holds ((( D41 + 1 ) = ( len B190 ) & (for B192 being Nat holds (B192 in ( dom B190 ) implies ( B190 . B192 ) = B191))) implies (ex B193 being (Element of ( ExtREAL )) st (B193 = ( D41 + 1 ) & ( Sum B190 ) = ( B193 * B191 ))))))
proof
let C121 being (FinSequence of ( ExtREAL ));
let C122 being (Element of ( ExtREAL ));
assume that
L547: ( D41 + 1 ) = ( len C121 )
and
L548: (for B194 being Nat holds (B194 in ( dom C121 ) implies ( C121 . B194 ) = C122));
L549: C121 <> ( {} ) by L547;
consider C123 being FinSequence, C124 being set such that L550: C121 = ( C123 ^ <* C124 *> ) by L549 , FINSEQ_1:46;
reconsider D42 = C123 as (FinSequence of ( ExtREAL )) by L550 , FINSEQ_1:36;
L551: ( D41 + 1 ) = ( ( len D42 ) + ( len <* C124 *> ) ) by L547 , L550 , FINSEQ_1:22
.= ( ( len D42 ) + 1 ) by FINSEQ_1:39;
L552: ( dom <* C124 *> ) = ( Seg 1 ) by FINSEQ_1:38;
L553: 1 in ( dom <* C124 *> ) by L552 , FINSEQ_1:2 , TARSKI:def 1;
L554: 1 <= ( D41 + 1 ) by NAT_1:11;
L555: ( D41 + 1 ) in ( dom C121 ) by L554 , L547 , FINSEQ_3:25;
L556: C124 = ( <* C124 *> . 1 ) by FINSEQ_1:40
.= ( C121 . ( D41 + 1 ) ) by L550 , L551 , L553 , FINSEQ_1:def 7
.= C122 by L548 , L555;
reconsider D43 = C124 as (Element of ( ExtREAL )) by L556;
consider C125 being (Function of ( NAT ) , ( ExtREAL )) such that L557: ( Sum D42 ) = ( C125 . ( len D42 ) ) and L558: ( C125 . ( 0 ) ) = ( 0. ) and L559: (for B195 being (Element of ( NAT )) holds (B195 < ( len D42 ) implies ( C125 . ( B195 + 1 ) ) = ( ( C125 . B195 ) + ( D42 . ( B195 + 1 ) ) ))) by EXTREAL1:def 2;
L560: (for B196 being Nat holds (B196 in ( dom D42 ) implies ( D42 . B196 ) = C122))
proof
let C126 being Nat;
L561: ( len D42 ) <= ( ( len D42 ) + 1 ) by NAT_1:11;
assume L562: C126 in ( dom D42 );
L563: C126 <= ( len D42 ) by L562 , FINSEQ_3:25;
L564: C126 <= ( ( len D42 ) + 1 ) by L563 , L561 , XXREAL_0:2;
L565: ( len C121 ) = ( ( len D42 ) + ( len <* D43 *> ) ) by L550 , FINSEQ_1:22
.= ( ( len D42 ) + 1 ) by FINSEQ_1:39;
L566: 1 <= C126 by L562 , FINSEQ_3:25;
L567: C126 in ( dom C121 ) by L566 , L564 , L565 , FINSEQ_3:25;
L568: ( C121 . C126 ) = C122 by L567 , L548;
thus L569: thesis by L568 , L550 , L562 , FINSEQ_1:def 7;
end;
consider C127 being (Element of ( ExtREAL )) such that L570: C127 = D41 and L571: ( Sum D42 ) = ( C127 * C122 ) by L560 , L545 , L551;
consider C128 being (Function of ( NAT ) , ( ExtREAL )) such that L572: ( Sum C121 ) = ( C128 . ( len C121 ) ) and L573: ( C128 . ( 0 ) ) = ( 0. ) and L574: (for B197 being (Element of ( NAT )) holds (B197 < ( len C121 ) implies ( C128 . ( B197 + 1 ) ) = ( ( C128 . B197 ) + ( C121 . ( B197 + 1 ) ) ))) by EXTREAL1:def 2;
L575: (for B198 being Nat holds (B198 <= ( len D42 ) implies ( C128 . B198 ) = ( C125 . B198 )))
proof
defpred S12[ Nat ] means ($1 <= ( len D42 ) implies ( C128 . $1 ) = ( C125 . $1 ));
L576: (for B199 being Nat holds (S12[ B199 ] implies S12[ ( B199 + 1 ) ]))
proof
let C129 being Nat;
assume L577: S12[ C129 ];
reconsider D44 = C129 as (Element of ( NAT )) by ORDINAL1:def 12;
L578:
now
assume L579: ( D44 + 1 ) <= ( len D42 );
L580: D44 < ( len D42 ) by L579 , NAT_1:13;
L581: ( len C121 ) = ( ( len D42 ) + ( len <* D43 *> ) ) by L550 , FINSEQ_1:22
.= ( ( len D42 ) + 1 ) by FINSEQ_1:39;
L582: D44 < ( len C121 ) by L581 , L580 , NAT_1:13;
L583: ( C128 . ( D44 + 1 ) ) = ( ( C128 . D44 ) + ( C121 . ( D44 + 1 ) ) ) by L582 , L574;
L584: 1 <= ( D44 + 1 ) by NAT_1:11;
L585: ( D44 + 1 ) in ( dom D42 ) by L584 , L579 , FINSEQ_3:25;
L586: (D44 <= ( D44 + 1 ) & ( C125 . ( D44 + 1 ) ) = ( ( C125 . D44 ) + ( D42 . ( D44 + 1 ) ) )) by L559 , L580 , NAT_1:11;
thus L587: thesis by L586 , L550 , L577 , L583 , L585 , FINSEQ_1:def 7 , XXREAL_0:2;
end;
thus L588: thesis by L578;
end;
L589: S12[ ( 0 ) ] by L573 , L558;
L590: (for B200 being Nat holds S12[ B200 ]) from NAT_1:sch 2(L589 , L576);
thus L591: thesis by L590;
end;
take ( C127 + ( 1. ) );
L592: D41 < ( len C121 ) by L547 , NAT_1:13;
L593: ( Sum C121 ) = ( ( C128 . D41 ) + ( C121 . ( D41 + 1 ) ) ) by L592 , L547 , L572 , L574
.= ( ( C125 . D41 ) + ( C121 . ( D41 + 1 ) ) ) by L551 , L575;
L594: ( Sum C121 ) = ( ( Sum D42 ) + C122 ) by L593 , L548 , L551 , L555 , L557
.= ( ( C127 * C122 ) + ( ( 1. ) * C122 ) ) by L571 , XXREAL_3:81;
thus L595: thesis by L594 , L570 , SUPINF_2:1 , XXREAL_3:96;
end;
thus L596: thesis by L546;
end;
L597: (for B201 being (FinSequence of ( ExtREAL )) holds (for B202 being (Element of ( ExtREAL )) holds ((( 0 ) = ( len B201 ) & (for B203 being Nat holds (B203 in ( dom B201 ) implies ( B201 . B203 ) = B202))) implies (ex B204 being (Element of ( ExtREAL )) st (B204 = ( 0 ) & ( Sum B201 ) = ( B204 * B202 ))))))
proof
let C130 being (FinSequence of ( ExtREAL ));
let C131 being (Element of ( ExtREAL ));
assume that
L598: ( 0 ) = ( len C130 )
and
L599: (for B205 being Nat holds (B205 in ( dom C130 ) implies ( C130 . B205 ) = C131));
take ( 0. );
L600: (ex B206 being (Function of ( NAT ) , ( ExtREAL )) st (( Sum C130 ) = ( B206 . ( len C130 ) ) & ( B206 . ( 0 ) ) = ( 0. ) & (for B207 being (Element of ( NAT )) holds (B207 < ( len C130 ) implies ( B206 . ( B207 + 1 ) ) = ( ( B206 . B207 ) + ( C130 . ( B207 + 1 ) ) ))))) by EXTREAL1:def 2;
thus L601: thesis by L600 , L598;
end;
L602: S11[ ( 0 ) ] by L597;
L603: (for B208 being Nat holds S11[ B208 ]) from NAT_1:sch 2(L602 , L544);
L604: (ex B209 being (Element of ( ExtREAL )) st (B209 = ( len C117 ) & ( Sum C117 ) = ( B209 * C118 ))) by L603 , L543;
thus L605: thesis by L604 , L542;
end;
L606: (for B210 being non  empty set holds (for B211 being (SigmaField of B210) holds (for B212 being (PartFunc of B210 , ( ExtREAL )) holds ((B212 is_simple_func_in B211 & (for B213 being set holds (B213 in ( dom B212 ) implies ( 0. ) <= ( B212 . B213 ))) & (for B214 being set holds (B214 in ( dom B212 ) implies ( 0. ) <> ( B212 . B214 )))) implies (ex B215 being (Finite_Sep_Sequence of B211) st (ex B216 being (FinSequence of ( ExtREAL )) st (B215 , B216 are_Re-presentation_of B212 & ( B216 . 1 ) = ( 0. ) & (for B217 being Nat holds ((2 <= B217 & B217 in ( dom B216 )) implies (( 0. ) < ( B216 . B217 ) & ( B216 . B217 ) < ( +infty )))))))))))
proof
let C132 being non  empty set;
let C133 being (SigmaField of C132);
let C134 being (PartFunc of C132 , ( ExtREAL ));
assume that
L607: C134 is_simple_func_in C133
and
L608: (for B218 being set holds (B218 in ( dom C134 ) implies ( 0. ) <= ( C134 . B218 )))
and
L609: (for B219 being set holds (B219 in ( dom C134 ) implies ( 0. ) <> ( C134 . B219 )));
consider C135 being (Finite_Sep_Sequence of C133) such that L610: ( dom C134 ) = ( union ( rng C135 ) ) and L611: (for B220 being Nat holds (for B221 , B222 being (Element of C132) holds ((B220 in ( dom C135 ) & B221 in ( C135 . B220 ) & B222 in ( C135 . B220 )) implies ( C134 . B221 ) = ( C134 . B222 )))) by L607 , MESFUNC2:def 4;
consider C136 being (Finite_Sep_Sequence of C133) such that L612: ( union ( rng C135 ) ) = ( union ( rng C136 ) ) and L613: (for B223 being Nat holds (B223 in ( dom C136 ) implies (( C136 . B223 ) <> ( {} ) & (ex B224 being Nat st (B224 in ( dom C135 ) & ( C135 . B224 ) = ( C136 . B223 )))))) by L378;
set D45 = ( <* ( {} ) *> ^ C136 );
L614: (( rng <* ( {} ) *> ) = { ( {} ) } & ( {} ) in C133) by FINSEQ_1:38 , MEASURE1:7;
L615: ( rng <* ( {} ) *> ) c= C133 by L614 , ZFMISC_1:31;
L616: ( ( rng <* ( {} ) *> ) \/ ( rng C136 ) ) c= C133 by L615 , XBOOLE_1:8;
L617: ( rng D45 ) c= C133 by L616 , FINSEQ_1:31;
reconsider D46 = D45 as (FinSequence of C133) by L617 , FINSEQ_1:def 4;
L618: (for B225 , B226 being set holds (B225 <> B226 implies ( D46 . B225 ) misses ( D46 . B226 )))
proof
let C137 , C138 being set;
assume L619: C137 <> C138;
L620:
now
per cases ;
case L621: (C137 in ( dom D46 ) & C138 in ( dom D46 ));
reconsider D47 = C137 , D48 = C138 as (Element of ( NAT )) by L621;
L622: D47 in ( Seg ( len ( <* ( {} ) *> ^ C136 ) ) ) by L621 , FINSEQ_1:def 3;
L623: D47 <= ( len ( <* ( {} ) *> ^ C136 ) ) by L622 , FINSEQ_1:1;
L624: D48 in ( Seg ( len ( <* ( {} ) *> ^ C136 ) ) ) by L621 , FINSEQ_1:def 3;
L625: 1 <= D48 by L624 , FINSEQ_1:1;
L626: D48 <= ( len ( <* ( {} ) *> ^ C136 ) ) by L624 , FINSEQ_1:1;
L627: 1 <= D47 by L622 , FINSEQ_1:1;
L628:
now
per cases ;
case L629: (D47 = 1 or D48 = 1);
L630: ( dom <* ( {} ) *> ) = ( Seg 1 ) by FINSEQ_1:38;
L631:
now
per cases  by L629;
case L632: D47 = 1;
L633: D47 in ( dom <* ( {} ) *> ) by L632 , L630 , FINSEQ_1:2 , TARSKI:def 1;
L634: ( D46 . D47 ) = ( <* ( {} ) *> . D47 ) by L633 , FINSEQ_1:def 7;
L635: ( D46 . D47 ) = ( {} ) by L634 , L632 , FINSEQ_1:def 8;
thus L636: thesis by L635 , XBOOLE_1:65;
end;
case L637: D48 = 1;
L638: D48 in ( dom <* ( {} ) *> ) by L637 , L630 , FINSEQ_1:2 , TARSKI:def 1;
L639: ( D46 . D48 ) = ( <* ( {} ) *> . D48 ) by L638 , FINSEQ_1:def 7;
L640: ( D46 . D48 ) = ( {} ) by L639 , L637 , FINSEQ_1:def 8;
thus L641: thesis by L640 , XBOOLE_1:65;
end;
end;
thus L643: thesis by L631;
end;
case L644: (D47 <> 1 & D48 <> 1);
L645: 1 < D48 by L644 , L625 , XXREAL_0:1;
L646: ( len <* ( {} ) *> ) < D48 by L645 , FINSEQ_1:40;
L647: ( D46 . D48 ) = ( C136 . ( D48 - ( len <* ( {} ) *> ) ) ) by L646 , L626 , FINSEQ_1:24;
L648: 1 < D47 by L627 , L644 , XXREAL_0:1;
L649: ( len <* ( {} ) *> ) < D47 by L648 , FINSEQ_1:40;
L650: ( D46 . D47 ) = ( C136 . ( D47 - ( len <* ( {} ) *> ) ) ) by L649 , L623 , FINSEQ_1:24;
L651: ( D47 - ( len <* ( {} ) *> ) ) <> ( D48 - ( len <* ( {} ) *> ) ) by L619;
thus L652: thesis by L651 , L650 , L647 , PROB_2:def 2;
end;
end;
thus L654: thesis by L628;
end;
case L655: ((not C137 in ( dom D46 )) or (not C138 in ( dom D46 )));
L656: (( D46 . C137 ) = ( {} ) or ( D46 . C138 ) = ( {} )) by L655 , FUNCT_1:def 2;
thus L657: thesis by L656 , XBOOLE_1:65;
end;
end;
thus L659: thesis by L620;
end;
reconsider D49 = D46 as (Finite_Sep_Sequence of C133) by L618 , PROB_2:def 2;
L660: ( union ( rng D49 ) ) = ( union ( ( rng <* ( {} ) *> ) \/ ( rng C136 ) ) ) by FINSEQ_1:31
.= ( union ( { ( {} ) } \/ ( rng C136 ) ) ) by FINSEQ_1:38
.= ( ( union { ( {} ) } ) \/ ( union ( rng C136 ) ) ) by ZFMISC_1:78
.= ( ( {} ) \/ ( union ( rng C136 ) ) ) by ZFMISC_1:25
.= ( dom C134 ) by L610 , L612;
defpred S13[ Nat , (Element of ( ExtREAL )) ] means ((for B227 being (Element of C132) holds (($1 in ( dom D49 ) & $1 = 1) implies $2 = ( 0. ))) & (for B228 being (Element of C132) holds (($1 in ( dom D49 ) & $1 >= 2 & B228 in ( D49 . $1 )) implies $2 = ( C134 . B228 ))));
L661: (for B229 being Nat holds (B229 in ( Seg ( len D49 ) ) implies (ex B230 being (Element of ( ExtREAL )) st S13[ B229 , B230 ])))
proof
let C139 being Nat;
assume L662: C139 in ( Seg ( len D49 ) );
L663: (ex B231 being (Element of ( ExtREAL )) st S13[ C139 , B231 ])
proof
L664:
now
per cases ;
case L665: C139 = 1;
take D50 = ( 0. );
L666: ((for B232 being (Element of C132) holds ((C139 in ( dom D49 ) & C139 = 1) implies D50 = ( 0. ))) & (for B233 being (Element of C132) holds ((C139 in ( dom D49 ) & C139 >= 2 & B233 in ( D49 . C139 )) implies D50 = ( C134 . B233 )))) by L665;
thus L667: thesis by L666;
end;
case L668: C139 <> 1;
L669: C139 <= ( len D49 ) by L662 , FINSEQ_1:1;
L670: C139 <= ( ( len <* ( {} ) *> ) + ( len C136 ) ) by L669 , FINSEQ_1:22;
L671: ( C139 - ( len <* ( {} ) *> ) ) <= ( len C136 ) by L670 , XREAL_1:20;
L672: 1 <= C139 by L662 , FINSEQ_1:1;
L673: 1 < C139 by L672 , L668 , XXREAL_0:1;
L674: ( 1 + 1 ) <= C139 by L673 , NAT_1:13;
L675: ( ( len <* ( {} ) *> ) + 1 ) <= C139 by L674 , FINSEQ_1:39;
consider C140 being Nat such that L676: ( ( ( len <* ( {} ) *> ) + 1 ) + C140 ) = C139 by L675 , NAT_1:10;
reconsider D51 = C140 as (Element of ( NAT )) by ORDINAL1:def 12;
L677: ( 1 + D51 ) = ( C139 - ( len <* ( {} ) *> ) ) by L676;
L678: 1 <= ( 1 + D51 ) by L677 , L675 , XREAL_1:19;
L679: ( 1 + D51 ) in ( Seg ( len C136 ) ) by L678 , L676 , L671 , FINSEQ_1:1;
L680: ( 1 + D51 ) in ( dom C136 ) by L679 , FINSEQ_1:def 3;
consider C141 being Nat such that L681: C141 in ( dom C135 ) and L682: ( C135 . C141 ) = ( C136 . ( 1 + D51 ) ) by L680 , L613;
L683: C139 <= ( ( len <* ( {} ) *> ) + ( len C136 ) ) by L669 , FINSEQ_1:22;
L684: ( D49 . C139 ) = ( C136 . ( C139 - ( len <* ( {} ) *> ) ) ) by L683 , L675 , FINSEQ_1:23
.= ( C136 . ( 1 + D51 ) ) by L676;
L685: ( D49 . C139 ) <> ( {} ) by L684 , L613 , L680;
consider C142 being set such that L686: C142 in ( D49 . C139 ) by L685 , XBOOLE_0:def 1;
take D52 = ( C134 . C142 );
L687: ( D49 . C139 ) in ( rng C135 ) by L684 , L681 , L682 , FUNCT_1:3;
L688: ( D49 . C139 ) in C133 by L687;
reconsider D53 = C142 as (Element of C132) by L688 , L686;
L689: (for B234 being (Element of C132) holds ((C139 in ( dom D49 ) & C139 >= 2 & B234 in ( D49 . C139 )) implies D52 = ( C134 . B234 )))
proof
let C143 being (Element of C132);
assume that
L690: C139 in ( dom D49 )
and
L691: C139 >= 2
and
L692: C143 in ( D49 . C139 );
L693: D53 in ( C135 . C141 ) by L684 , L686 , L682;
thus L694: thesis by L693 , L611 , L684 , L681 , L682 , L692;
end;
L695: (for B235 being (Element of C132) holds ((C139 in ( dom D49 ) & C139 = 1) implies D52 = ( 0. ))) by L668;
thus L696: thesis by L695 , L689;
end;
end;
thus L698: thesis by L664;
end;
thus L699: thesis by L663;
end;
consider C144 being (FinSequence of ( ExtREAL )) such that L700: (( dom C144 ) = ( Seg ( len D49 ) ) & (for B236 being Nat holds (B236 in ( Seg ( len D49 ) ) implies S13[ B236 , ( C144 . B236 ) ]))) from FINSEQ_1:sch 5(L661);
L701: ( dom D49 ) = ( dom C144 ) by L700 , FINSEQ_1:def 3;
L702: (for B237 being Nat holds (for B238 being (Element of C132) holds ((B237 in ( dom D49 ) & B237 >= 2 & B238 in ( D49 . B237 )) implies ( C144 . B237 ) = ( C134 . B238 ))))
proof
let C145 being Nat;
let C146 being (Element of C132);
assume that
L703: C145 in ( dom D49 )
and
L704: (C145 >= 2 & C146 in ( D49 . C145 ));
L705: C145 in ( Seg ( len D49 ) ) by L703 , FINSEQ_1:def 3;
thus L706: thesis by L705 , L700 , L703 , L704;
end;
L707: (for B239 being Nat holds ((2 <= B239 & B239 in ( dom C144 )) implies (( 0. ) < ( C144 . B239 ) & ( C144 . B239 ) < ( +infty ))))
proof
let C147 being Nat;
assume that
L708: 2 <= C147
and
L709: C147 in ( dom C144 );
L710: ( 1 + 1 ) <= C147 by L708;
L711: ( ( len <* ( {} ) *> ) + 1 ) <= C147 by L710 , FINSEQ_1:39;
L712: C147 <= ( len D49 ) by L700 , L709 , FINSEQ_1:1;
L713: C147 <= ( ( len <* ( {} ) *> ) + ( len C136 ) ) by L712 , FINSEQ_1:22;
L714: ( D49 . C147 ) = ( C136 . ( C147 - ( len <* ( {} ) *> ) ) ) by L713 , L711 , FINSEQ_1:23
.= ( C136 . ( C147 - 1 ) ) by FINSEQ_1:39;
L715: (( dom <* ( {} ) *> ) = { 1 } & 1 <> C147) by L708 , FINSEQ_1:2 , FINSEQ_1:38;
L716: (not C147 in ( dom <* ( {} ) *> )) by L715 , TARSKI:def 1;
consider C148 being Nat such that L717: C148 in ( dom C136 ) and L718: C147 = ( ( len <* ( {} ) *> ) + C148 ) by L716 , L701 , L709 , FINSEQ_1:25;
L719: C147 = ( 1 + C148 ) by L718 , FINSEQ_1:39;
L720: ( D49 . C147 ) <> ( {} ) by L719 , L613 , L714 , L717;
consider C149 being set such that L721: C149 in ( D49 . C147 ) by L720 , XBOOLE_0:def 1;
L722: ( D49 . C147 ) c= ( union ( rng D49 ) ) by L701 , L709 , FUNCT_1:3 , ZFMISC_1:74;
L723: C149 in ( dom C134 ) by L722 , L660 , L721;
reconsider D54 = C149 as (Element of C132) by L723;
L724: ( 0. ) <> ( C134 . D54 ) by L609 , L660 , L721 , L722;
L725: C134 is  real-valued by L607 , MESFUNC2:def 4;
L726: |. ( C134 . D54 ) .| < ( +infty ) by L725 , L660 , L721 , L722 , MESFUNC2:def 1;
L727: ( C144 . C147 ) = ( C134 . D54 ) by L702 , L701 , L708 , L709 , L721;
thus L728: thesis by L727 , L608 , L660 , L721 , L722 , L726 , L724 , EXTREAL2:10;
end;
take D49;
take C144;
L729: (for B240 being Nat holds (B240 in ( dom D49 ) implies (for B241 being set holds (B241 in ( D49 . B240 ) implies ( C134 . B241 ) = ( C144 . B240 )))))
proof
let C150 being Nat;
assume L730: C150 in ( dom D49 );
L731:
now
per cases ;
case L732: C150 = 1;
thus L733: (for B242 being set holds (B242 in ( D49 . C150 ) implies ( C134 . B242 ) = ( C144 . C150 )))
proof
let C151 being set;
L734: ( dom <* ( {} ) *> ) = { 1 } by FINSEQ_1:2 , FINSEQ_1:38;
L735: 1 in ( dom <* ( {} ) *> ) by L734 , TARSKI:def 1;
L736: ( D49 . 1 ) = ( <* ( {} ) *> . 1 ) by L735 , FINSEQ_1:def 7
.= ( {} ) by FINSEQ_1:40;
assume L737: C151 in ( D49 . C150 );
thus L738: thesis by L737 , L732 , L736;
end;

end;
case L734: C150 <> 1;
L735: C150 in ( Seg ( len D49 ) ) by L730 , FINSEQ_1:def 3;
L736: 1 <= C150 by L735 , FINSEQ_1:1;
L737: 1 < C150 by L736 , L734 , XXREAL_0:1;
L738: ( 1 + 1 ) <= C150 by L737 , NAT_1:13;
thus L739: (for B243 being set holds (B243 in ( D49 . C150 ) implies ( C134 . B243 ) = ( C144 . C150 )))
proof
let C152 being set;
assume L740: C152 in ( D49 . C150 );
L741: ( D49 . C150 ) in ( rng D49 ) by L730 , FUNCT_1:3;
L742: ( D49 . C150 ) in C133 by L741;
reconsider D55 = C152 as (Element of C132) by L742 , L740;
L743: ( C144 . C150 ) = ( C134 . D55 ) by L702 , L730 , L738 , L740;
thus L744: thesis by L743;
end;

end;
end;
thus L741: thesis by L731;
end;
L742: ( len D49 ) = ( ( len <* ( {} ) *> ) + ( len C136 ) ) by FINSEQ_1:22
.= ( 1 + ( len C136 ) ) by FINSEQ_1:39;
L743: 1 <= ( len D49 ) by L742 , NAT_1:11;
L744: 1 in ( Seg ( len D49 ) ) by L743 , FINSEQ_1:1;
thus L745: thesis by L744 , L660 , L700 , L701 , L729 , L707 , L371;
end;
L746: (for B244 being non  empty set holds (for B245 being (SigmaField of B244) holds (for B246 being (PartFunc of B244 , ( ExtREAL )) holds ((B246 is_simple_func_in B245 & (for B247 being set holds (B247 in ( dom B246 ) implies ( 0. ) <= ( B246 . B247 ))) & (ex B248 being set st (B248 in ( dom B246 ) & ( 0. ) = ( B246 . B248 )))) implies (ex B249 being (Finite_Sep_Sequence of B245) st (ex B250 being (FinSequence of ( ExtREAL )) st (B249 , B250 are_Re-presentation_of B246 & ( B250 . 1 ) = ( 0. ) & (for B251 being Nat holds ((2 <= B251 & B251 in ( dom B250 )) implies (( 0. ) < ( B250 . B251 ) & ( B250 . B251 ) < ( +infty )))))))))))
proof
let C153 being non  empty set;
let C154 being (SigmaField of C153);
let C155 being (PartFunc of C153 , ( ExtREAL ));
assume that
L747: C155 is_simple_func_in C154
and
L748: (for B252 being set holds (B252 in ( dom C155 ) implies ( 0. ) <= ( C155 . B252 )))
and
L749: (ex B253 being set st (B253 in ( dom C155 ) & ( 0. ) = ( C155 . B253 )));
consider C156 being set such that L750: C156 in ( dom C155 ) and L751: ( 0. ) = ( C155 . C156 ) by L749;
reconsider D56 = C156 as (Element of C153) by L750;
consider C157 being (Finite_Sep_Sequence of C154) such that L752: ( dom C155 ) = ( union ( rng C157 ) ) and L753: (for B254 being Nat holds (for B255 , B256 being (Element of C153) holds ((B254 in ( dom C157 ) & B255 in ( C157 . B254 ) & B256 in ( C157 . B254 )) implies ( C155 . B255 ) = ( C155 . B256 )))) by L747 , MESFUNC2:def 4;
consider C158 being set such that L754: D56 in C158 and L755: C158 in ( rng C157 ) by L750 , L752 , TARSKI:def 4;
consider C159 being set such that L756: C159 in ( dom C157 ) and L757: C158 = ( C157 . C159 ) by L755 , FUNCT_1:def 3;
set D57 = { B257 where B257 is (Element of C154) : (B257 in ( rng C157 ) & (for B258 being (Element of C153) holds (B258 in B257 implies ( C155 . B258 ) = ( 0. )))) };
set D58 = ( union D57 );
L758: (for B259 being set holds (B259 in D57 implies B259 in ( bool C153 )))
proof
let C160 being set;
assume L759: C160 in D57;
L760: (ex B260 being (Element of C154) st (C160 = B260 & B260 in ( rng C157 ) & (for B261 being (Element of C153) holds (B261 in B260 implies ( C155 . B261 ) = ( 0. ))))) by L759;
thus L761: thesis by L760;
end;
reconsider D59 = D57 as (Subset-Family of C153) by L758 , TARSKI:def 3;
set D60 = { B262 where B262 is (Element of ( NAT )) : (B262 in ( dom C157 ) & (for B263 being (Element of C153) holds (B263 in ( C157 . B262 ) implies ( C155 . B263 ) = ( 0. )))) };
L762: ( len C157 ) <= ( ( len C157 ) + 1 ) by NAT_1:11;
reconsider D61 = C159 as (Element of ( NAT )) by L756;
L763: (( C157 . D61 ) is (Element of C154) & ( C157 . D61 ) in ( rng C157 ) & (for B264 being (Element of C153) holds (B264 in ( C157 . D61 ) implies ( C155 . B264 ) = ( 0. ))))
proof
L764: ( C157 . D61 ) in ( rng C157 ) by L756 , FUNCT_1:3;
thus L765: ( C157 . D61 ) is (Element of C154) by L764;
thus L766: ( C157 . D61 ) in ( rng C157 ) by L756 , FUNCT_1:3;
let C161 being (Element of C153);
assume L767: C161 in ( C157 . D61 );
thus L768: thesis by L767 , L751 , L753 , L754 , L756 , L757;
end;
L769: ( C157 . D61 ) in D59 by L763;
L770: (for B265 being set holds (B265 in D59 implies B265 in ( rng C157 )))
proof
let C162 being set;
assume L771: C162 in D59;
L772: (ex B266 being (Element of C154) st (C162 = B266 & B266 in ( rng C157 ) & (for B267 being (Element of C153) holds (B267 in B266 implies ( C155 . B267 ) = ( 0. ))))) by L771;
thus L773: thesis by L772;
end;
L774: D59 c= ( rng C157 ) by L770 , TARSKI:def 3;
L775: (for B268 being set holds (B268 in D60 implies B268 in ( dom C157 )))
proof
let C163 being set;
assume L776: C163 in D60;
L777: (ex B269 being (Element of ( NAT )) st (C163 = B269 & B269 in ( dom C157 ) & (for B270 being (Element of C153) holds (B270 in ( C157 . B269 ) implies ( C155 . B270 ) = ( 0. ))))) by L776;
thus L778: thesis by L777;
end;
L779: D60 c= ( dom C157 ) by L775 , TARSKI:def 3;
reconsider D62 = D60 as  finite set by L779;
consider C164 being FinSequence such that L780: (( rng C164 ) = D62 & C164 is  one-to-one) by FINSEQ_4:58;
reconsider D63 = D59 as (N_Sub_set_fam of C153) by L774 , L769;
L781: (for B271 being set holds (B271 in D63 implies B271 in C154))
proof
let C165 being set;
assume L782: C165 in D63;
L783: (ex B272 being (Element of C154) st (C165 = B272 & B272 in ( rng C157 ) & (for B273 being (Element of C153) holds (B273 in B272 implies ( C155 . B273 ) = ( 0. ))))) by L782;
thus L784: thesis by L783;
end;
L785: D63 c= C154 by L781 , TARSKI:def 3;
reconsider D64 = D58 as (Element of C154) by L785 , MEASURE1:def 5;
L786: ( len C164 ) = ( card D62 ) by L780 , FINSEQ_4:62;
reconsider D65 = ( Seg ( len C157 ) ) as  finite set;
set D66 = ( ( findom C157 ) \ D62 );
consider C166 being FinSequence such that L787: ( rng C166 ) = D66 and L788: C166 is  one-to-one by FINSEQ_4:58;
L789: D62 c= ( Seg ( len C157 ) ) by L779 , FINSEQ_1:def 3;
L790: ( card D62 ) <= ( card D65 ) by L789 , NAT_1:43;
L791: ( len C164 ) <= ( len C157 ) by L790 , L786 , FINSEQ_1:57;
consider C167 being Nat such that L792: ( ( len C157 ) + 1 ) = ( ( len C164 ) + C167 ) by L791 , L762 , NAT_1:10 , XXREAL_0:2;
reconsider D67 = C167 as (Element of ( NAT )) by ORDINAL1:def 12;
L793: D66 = ( ( Seg ( len C157 ) ) \ D62 ) by FINSEQ_1:def 3;
L794: ( card D66 ) = ( ( card ( Seg ( len C157 ) ) ) - ( card D62 ) ) by L793 , L789 , CARD_2:44;
defpred S14[ Nat , set ] means (($1 = 1 implies $2 = D64) & ($1 >= 2 implies (ex B274 being Nat st (B274 = ( $1 - 1 ) & $2 = ( C157 . ( C166 . B274 ) )))));
L795: ( len C166 ) = ( card D66 ) by L787 , L788 , FINSEQ_4:62;
L796: ( len C166 ) = ( ( ( ( len C157 ) - ( len C164 ) ) + 1 ) - 1 ) by L795 , L786 , L794 , FINSEQ_1:57;
L797: (for B275 being Nat holds (B275 in ( Seg D67 ) implies (ex B276 being (Element of C154) st S14[ B275 , B276 ])))
proof
let C168 being Nat;
assume L798: C168 in ( Seg D67 );
per cases ;
suppose L799: C168 = 1;

take D64;
thus L800: thesis by L799;
end;
suppose L801: C168 <> 1;

L802: C168 >= 1 by L798 , FINSEQ_1:1;
consider C169 being Nat such that L803: C168 = ( 1 + C169 ) by L802 , NAT_1:10;
L804: C168 > 1 by L801 , L802 , XXREAL_0:1;
L805: C168 >= ( 1 + 1 ) by L804 , NAT_1:13;
L806: ( C168 - 1 ) >= 1 by L805 , XREAL_1:19;
L807: C168 <= D67 by L798 , FINSEQ_1:1;
L808: ( C168 - 1 ) <= ( D67 - 1 ) by L807 , XREAL_1:9;
L809: C169 in ( Seg ( len C166 ) ) by L808 , L792 , L796 , L803 , L806 , FINSEQ_1:1;
L810: C169 in ( dom C166 ) by L809 , FINSEQ_1:def 3;
L811: ( C166 . C169 ) in D66 by L810 , L787 , FUNCT_1:3;
L812: ( C157 . ( C166 . C169 ) ) in ( rng C157 ) by L811 , FUNCT_1:3;
reconsider D68 = ( C157 . ( C166 . C169 ) ) as (Element of C154) by L812;
take D68;
thus L813: thesis by L801 , L803;
end;
end;
consider C170 being (FinSequence of C154) such that L815: (( dom C170 ) = ( Seg D67 ) & (for B277 being Nat holds (B277 in ( Seg D67 ) implies S14[ B277 , ( C170 . B277 ) ]))) from FINSEQ_1:sch 5(L797);
defpred S15[ Nat , (Element of ( ExtREAL )) ] means (for B278 being (Element of C153) holds ((B278 in ( C170 . $1 ) implies $2 = ( C155 . B278 )) & (( C170 . $1 ) = ( {} ) implies $2 = ( 1. ))));
L816: (for B279 being Nat holds (B279 in ( Seg ( len C170 ) ) implies (ex B280 being (Element of ( ExtREAL )) st S15[ B279 , B280 ])))
proof
let C171 being Nat;
assume L817: C171 in ( Seg ( len C170 ) );
L818: C171 in ( dom C170 ) by L817 , FINSEQ_1:def 3;
L819:
now
per cases ;
case L820: C171 = 1;
take D69 = ( 0. );
L821: ( C170 . C171 ) = D64 by L815 , L818 , L820;
L822: (for B281 being (Element of C153) holds ((B281 in ( C170 . C171 ) implies ( 0. ) = ( C155 . B281 )) & (( C170 . C171 ) = ( {} ) implies ( 0. ) = ( 1. ))))
proof
let C172 being (Element of C153);
L823: (C172 in ( C170 . C171 ) implies ( 0. ) = ( C155 . C172 ))
proof
assume L824: C172 in ( C170 . C171 );
consider C173 being set such that L825: C172 in C173 and L826: C173 in D63 by L824 , L821 , TARSKI:def 4;
L827: (ex B282 being (Element of C154) st (C173 = B282 & B282 in ( rng C157 ) & (for B283 being (Element of C153) holds (B283 in B282 implies ( C155 . B283 ) = ( 0. ))))) by L826;
thus L828: thesis by L827 , L825;
end;
thus L829: thesis by L823 , L754 , L757 , L769 , L821 , TARSKI:def 4;
end;
thus L830: thesis by L822;
end;
case L831: C171 <> 1;
L832: 1 <= C171 by L817 , FINSEQ_1:1;
L833: 1 < C171 by L832 , L831 , XXREAL_0:1;
L834: ( 1 + 1 ) <= C171 by L833 , NAT_1:13;
consider C174 being Nat such that L835: C174 = ( C171 - 1 ) and L836: ( C170 . C171 ) = ( C157 . ( C166 . C174 ) ) by L834 , L815 , L818;
L837: 1 <= C174 by L834 , L835 , XREAL_1:19;
L838: C171 <= D67 by L815 , L818 , FINSEQ_1:1;
L839: C174 <= ( len C166 ) by L838 , L792 , L796 , L835 , XREAL_1:9;
L840: C174 in ( Seg ( len C166 ) ) by L839 , L837 , FINSEQ_1:1;
L841: C174 in ( dom C166 ) by L840 , FINSEQ_1:def 3;
L842: ( C166 . C174 ) in D66 by L841 , L787 , FUNCT_1:3;
consider C175 being set such that L843: C175 in ( dom C157 ) and L844: ( C170 . C171 ) = ( C157 . C175 ) by L842 , L836;
L845:
now
per cases ;
case L846: ( C170 . C171 ) = ( {} );
take D70 = ( 1. );
L847: (for B284 being (Element of C153) holds ((B284 in ( C170 . C171 ) implies ( 1. ) = ( C155 . B284 )) & (( C170 . C171 ) = ( {} ) implies ( 1. ) = ( 1. )))) by L846;
thus L848: thesis by L847;
end;
case L849: ( C170 . C171 ) <> ( {} );
consider C176 being set such that L850: C176 in ( C170 . C171 ) by L849 , XBOOLE_0:def 1;
L851: ( C170 . C171 ) in ( rng C170 ) by L818 , FUNCT_1:3;
L852: ( C170 . C171 ) in C154 by L851;
reconsider D71 = C176 as (Element of C153) by L852 , L850;
take D72 = ( C155 . D71 );
L853: (for B285 being (Element of C153) holds ((B285 in ( C170 . C171 ) implies D72 = ( C155 . B285 )) & (( C170 . C171 ) = ( {} ) implies D72 = ( 1. )))) by L753 , L843 , L844 , L850;
thus L854: thesis by L853;
end;
end;
thus L856: thesis by L845;
end;
end;
thus L858: thesis by L819;
end;
consider C177 being (FinSequence of ( ExtREAL )) such that L859: (( dom C177 ) = ( Seg ( len C170 ) ) & (for B286 being Nat holds (B286 in ( Seg ( len C170 ) ) implies S15[ B286 , ( C177 . B286 ) ]))) from FINSEQ_1:sch 5(L816);
L860: (for B287 being Nat holds (for B288 being (Element of C153) holds ((B287 in ( dom C170 ) & B288 in ( C170 . B287 )) implies ( C177 . B287 ) = ( C155 . B288 ))))
proof
let C178 being Nat;
let C179 being (Element of C153);
assume that
L861: C178 in ( dom C170 )
and
L862: C179 in ( C170 . C178 );
L863: C178 in ( Seg ( len C170 ) ) by L861 , FINSEQ_1:def 3;
thus L864: thesis by L863 , L859 , L862;
end;
L865: (for B289 being Nat holds (B289 in ( dom C170 ) implies (for B290 being set holds (B290 in ( C170 . B289 ) implies ( C155 . B290 ) = ( C177 . B289 )))))
proof
let C180 being Nat;
assume L866: C180 in ( dom C170 );
let C181 being set;
assume L867: C181 in ( C170 . C180 );
L868: ( C170 . C180 ) in ( rng C170 ) by L866 , FUNCT_1:3;
L869: ( C170 . C180 ) in C154 by L868;
reconsider D73 = C181 as (Element of C153) by L869 , L867;
L870: ( C177 . C180 ) = ( C155 . D73 ) by L860 , L866 , L867;
thus L871: thesis by L870;
end;
L872: (for B291 being (Element of C153) holds (B291 in ( C157 . D61 ) implies ( C155 . B291 ) = ( 0. ))) by L751 , L753 , L754 , L756 , L757;
L873: (( C177 . 1 ) = ( 0. ) & ( dom C170 ) = ( dom C177 ) & (for B292 being Nat holds (for B293 being (Element of C153) holds ((B292 in ( dom C170 ) & B293 in ( C170 . B292 )) implies ( C177 . B292 ) = ( C155 . B293 )))))
proof
reconsider D74 = ( C157 . D61 ) as (Element of C154) by L755 , L757;
L874: ( ( 0 ) + 1 ) <= D67 by L792 , L796 , XREAL_1:19;
L875: 1 in ( Seg D67 ) by L874 , FINSEQ_1:1;
L876: 1 in ( Seg ( len C170 ) ) by L875 , L815 , FINSEQ_1:def 3;
L877: ( C170 . 1 ) = D64 by L815 , L875;
L878: D74 in D63 by L755 , L757 , L872;
L879: D56 in ( C170 . 1 ) by L878 , L754 , L757 , L877 , TARSKI:def 4;
thus L880: ( C177 . 1 ) = ( 0. ) by L879 , L751 , L859 , L876;
thus L881: ( dom C170 ) = ( dom C177 ) by L859 , FINSEQ_1:def 3;
thus L882: thesis by L860;
end;
L883: (for B294 , B295 being Nat holds ((B294 in ( dom C170 ) & B295 in ( dom C170 ) & B294 = 1 & B295 <> 1) implies ( C170 . B294 ) misses ( C170 . B295 )))
proof
let C182 , C183 being Nat;
assume that
L884: C182 in ( dom C170 )
and
L885: C183 in ( dom C170 )
and
L886: C182 = 1
and
L887: C183 <> 1;
L888: ( C170 . C182 ) = D64 by L815 , L884 , L886;
L889: C183 <= D67 by L815 , L885 , FINSEQ_1:1;
L890: ( C183 - 1 ) <= ( D67 - 1 ) by L889 , XREAL_1:9;
L891: 1 <= C183 by L885 , FINSEQ_3:25;
L892: 1 < C183 by L891 , L887 , XXREAL_0:1;
L893: ( 1 + 1 ) <= C183 by L892 , NAT_1:13;
consider C184 being Nat such that L894: C184 = ( C183 - 1 ) and L895: ( C170 . C183 ) = ( C157 . ( C166 . C184 ) ) by L893 , L815 , L885;
L896: ( C183 - 1 ) >= 1 by L893 , XREAL_1:19;
L897: C184 in ( Seg ( len C166 ) ) by L896 , L792 , L796 , L894 , L890 , FINSEQ_1:1;
L898: C184 in ( dom C166 ) by L897 , FINSEQ_1:def 3;
L899: ( C166 . C184 ) in D66 by L898 , L787 , FUNCT_1:3;
L900: (not ( C166 . C184 ) in D62) by L899 , XBOOLE_0:def 5;
L901: ( ( C170 . C182 ) /\ ( C170 . C183 ) ) = ( {} )
proof
assume L902: ( ( C170 . C182 ) /\ ( C170 . C183 ) ) <> ( {} );
consider C185 being set such that L903: C185 in ( ( C170 . C182 ) /\ ( C170 . C183 ) ) by L902 , XBOOLE_0:def 1;
L904: C185 in ( C170 . C183 ) by L903 , XBOOLE_0:def 4;
L905: C185 in ( C170 . C182 ) by L903 , XBOOLE_0:def 4;
consider C186 being set such that L906: C185 in C186 and L907: C186 in D63 by L905 , L888 , TARSKI:def 4;
consider C187 being (Element of C154) such that L908: C186 = C187 and L909: C187 in ( rng C157 ) and L910: (for B296 being (Element of C153) holds (B296 in C187 implies ( C155 . B296 ) = ( 0. ))) by L907;
consider C188 being set such that L911: C188 in ( dom C157 ) and L912: C187 = ( C157 . C188 ) by L909 , FUNCT_1:def 3;
reconsider D75 = C188 as (Element of ( NAT )) by L911;
L913: D75 <> ( C166 . C184 ) by L899 , L900 , L910 , L912;
L914: ( C157 . D75 ) misses ( C157 . ( C166 . C184 ) ) by L913 , PROB_2:def 2;
L915: ( ( C157 . D75 ) /\ ( C157 . ( C166 . C184 ) ) ) = ( {} ) by L914 , XBOOLE_0:def 7;
thus L916: contradiction by L915 , L895 , L904 , L906 , L908 , L912 , XBOOLE_0:def 4;
end;
thus L917: thesis by L901 , XBOOLE_0:def 7;
end;
L918: (for B297 , B298 being Nat holds ((B297 in ( dom C170 ) & B298 in ( dom C170 ) & B297 <> 1 & B298 <> 1 & B297 <> B298) implies ( C170 . B297 ) misses ( C170 . B298 )))
proof
let C189 , C190 being Nat;
assume that
L919: C189 in ( dom C170 )
and
L920: C190 in ( dom C170 )
and
L921: C189 <> 1
and
L922: C190 <> 1
and
L923: C189 <> C190;
L924: C189 <= D67 by L815 , L919 , FINSEQ_1:1;
L925: ( C189 - 1 ) <= ( D67 - 1 ) by L924 , XREAL_1:9;
L926: C190 <= D67 by L815 , L920 , FINSEQ_1:1;
L927: ( C190 - 1 ) <= ( D67 - 1 ) by L926 , XREAL_1:9;
L928: 1 <= C190 by L815 , L920 , FINSEQ_1:1;
L929: 1 < C190 by L928 , L922 , XXREAL_0:1;
L930: ( 1 + 1 ) <= C190 by L929 , NAT_1:13;
consider C191 being Nat such that L931: C191 = ( C190 - 1 ) and L932: ( C170 . C190 ) = ( C157 . ( C166 . C191 ) ) by L930 , L815 , L920;
L933: 1 <= ( C190 - 1 ) by L930 , XREAL_1:19;
L934: C191 in ( Seg ( len C166 ) ) by L933 , L792 , L796 , L931 , L927 , FINSEQ_1:1;
L935: C191 in ( dom C166 ) by L934 , FINSEQ_1:def 3;
L936: 1 <= C189 by L815 , L919 , FINSEQ_1:1;
L937: 1 < C189 by L936 , L921 , XXREAL_0:1;
L938: ( 1 + 1 ) <= C189 by L937 , NAT_1:13;
consider C192 being Nat such that L939: C192 = ( C189 - 1 ) and L940: ( C170 . C189 ) = ( C157 . ( C166 . C192 ) ) by L938 , L815 , L919;
L941: 1 <= ( C189 - 1 ) by L938 , XREAL_1:19;
L942: C192 in ( Seg ( len C166 ) ) by L941 , L792 , L796 , L939 , L925 , FINSEQ_1:1;
L943: C192 in ( dom C166 ) by L942 , FINSEQ_1:def 3;
L944: C192 <> C191 by L923 , L939 , L931;
L945: ( C166 . C192 ) <> ( C166 . C191 ) by L944 , L788 , L943 , L935 , FUNCT_1:def 4;
thus L946: thesis by L945 , L940 , L932 , PROB_2:def 2;
end;
L947: (for B299 , B300 being set holds (B299 <> B300 implies ( C170 . B299 ) misses ( C170 . B300 )))
proof
let C193 , C194 being set;
assume L948: C193 <> C194;
L949:
now
per cases ;
case L950: (C193 in ( dom C170 ) & C194 in ( dom C170 ));
reconsider D76 = C193 , D77 = C194 as (Element of ( NAT )) by L950;
L951:
now
per cases ;
case L952: (D76 = 1 or D77 = 1);
thus L953: thesis by L952 , L883 , L948 , L950;
end;
case L954: (D76 <> 1 & D77 <> 1);
thus L955: thesis by L954 , L918 , L948 , L950;
end;
end;
thus L957: thesis by L951;
end;
case L958: ((not C193 in ( dom C170 )) or (not C194 in ( dom C170 )));
L959:
now
per cases  by L958;
case L960: (not C193 in ( dom C170 ));
L961: ( C170 . C193 ) = ( {} ) by L960 , FUNCT_1:def 2;
thus L962: thesis by L961 , XBOOLE_1:65;
end;
case L963: (not C194 in ( dom C170 ));
L964: ( C170 . C194 ) = ( {} ) by L963 , FUNCT_1:def 2;
thus L965: thesis by L964 , XBOOLE_1:65;
end;
end;
thus L967: thesis by L959;
end;
end;
thus L969: thesis by L949;
end;
L970: (for B301 being set holds (B301 in ( union ( rng C170 ) ) implies B301 in ( union ( rng C157 ) )))
proof
let C195 being set;
assume L971: C195 in ( union ( rng C170 ) );
consider C196 being set such that L972: C195 in C196 and L973: C196 in ( rng C170 ) by L971 , TARSKI:def 4;
consider C197 being set such that L974: C197 in ( dom C170 ) and L975: C196 = ( C170 . C197 ) by L973 , FUNCT_1:def 3;
reconsider D78 = C197 as (Element of ( NAT )) by L974;
L976:
now
per cases ;
case L977: D78 = 1;
L978: C195 in D64 by L977 , L815 , L972 , L974 , L975;
consider C198 being set such that L979: C195 in C198 and L980: C198 in D63 by L978 , TARSKI:def 4;
L981: (ex B302 being (Element of C154) st (C198 = B302 & B302 in ( rng C157 ) & (for B303 being (Element of C153) holds (B303 in B302 implies ( C155 . B303 ) = ( 0. ))))) by L980;
thus L982: thesis by L981 , L979 , TARSKI:def 4;
end;
case L983: D78 <> 1;
L984: 1 <= D78 by L815 , L974 , FINSEQ_1:1;
L985: 1 < D78 by L984 , L983 , XXREAL_0:1;
L986: ( 1 + 1 ) <= D78 by L985 , NAT_1:13;
consider C199 being Nat such that L987: C199 = ( D78 - 1 ) and L988: ( C170 . D78 ) = ( C157 . ( C166 . C199 ) ) by L986 , L815 , L974;
L989: 1 <= C199 by L986 , L987 , XREAL_1:19;
L990: D78 <= D67 by L815 , L974 , FINSEQ_1:1;
L991: C199 <= ( len C166 ) by L990 , L792 , L796 , L987 , XREAL_1:9;
L992: C199 in ( dom C166 ) by L991 , L989 , FINSEQ_3:25;
L993: ( C166 . C199 ) in D66 by L992 , L787 , FUNCT_1:3;
L994: ( C157 . ( C166 . C199 ) ) in ( rng C157 ) by L993 , FUNCT_1:3;
thus L995: thesis by L994 , L972 , L975 , L988 , TARSKI:def 4;
end;
end;
thus L997: thesis by L976;
end;
L998: ( union ( rng C170 ) ) c= ( union ( rng C157 ) ) by L970 , TARSKI:def 3;
L999: (for B304 being set holds (B304 in ( union ( rng C157 ) ) implies B304 in ( union ( rng C170 ) )))
proof
let C200 being set;
assume L1000: C200 in ( union ( rng C157 ) );
consider C201 being set such that L1001: C200 in C201 and L1002: C201 in ( rng C157 ) by L1000 , TARSKI:def 4;
consider C202 being set such that L1003: C202 in ( dom C157 ) and L1004: C201 = ( C157 . C202 ) by L1002 , FUNCT_1:def 3;
reconsider D79 = C202 as (Element of ( NAT )) by L1003;
L1005:
now
per cases ;
case L1006: D79 in D62;
L1007: (ex B305 being (Element of ( NAT )) st (D79 = B305 & B305 in ( dom C157 ) & (for B306 being (Element of C153) holds (B306 in ( C157 . B305 ) implies ( C155 . B306 ) = ( 0. ))))) by L1006;
L1008: C201 in D63 by L1007 , L1002 , L1004;
L1009: C200 in ( union D63 ) by L1008 , L1001 , TARSKI:def 4;
L1010: D67 >= ( 1 + ( 0 ) ) by L792 , L796 , XREAL_1:19;
L1011: 1 in ( Seg D67 ) by L1010 , FINSEQ_1:1;
L1012: ( C170 . 1 ) in ( rng C170 ) by L1011 , L815 , FUNCT_1:3;
L1013: ( union D63 ) in ( rng C170 ) by L1012 , L815 , L1011;
thus L1014: thesis by L1013 , L1009 , TARSKI:def 4;
end;
case L1015: (not D79 in D62);
L1016: D79 in D66 by L1015 , L1003 , XBOOLE_0:def 5;
consider C203 being set such that L1017: C203 in ( dom C166 ) and L1018: D79 = ( C166 . C203 ) by L1016 , L787 , FUNCT_1:def 3;
reconsider D80 = C203 as (Element of ( NAT )) by L1017;
L1019: D80 in ( Seg ( len C166 ) ) by L1017 , FINSEQ_1:def 3;
L1020: D80 <= ( len C166 ) by L1019 , FINSEQ_1:1;
L1021: ( D80 + 1 ) <= D67 by L1020 , L792 , L796 , XREAL_1:6;
reconsider D81 = ( D80 + 1 ) as Nat;
L1022: 1 <= D80 by L1019 , FINSEQ_1:1;
L1023: ( 1 + 1 ) <= ( D80 + 1 ) by L1022 , XREAL_1:6;
L1024: 1 <= D81 by L1023 , XXREAL_0:2;
L1025: D81 in ( Seg D67 ) by L1024 , L1021 , FINSEQ_1:1;
L1026: ( C170 . D81 ) in ( rng C170 ) by L1025 , L815 , FUNCT_1:3;
L1027: (ex B307 being Nat st (B307 = ( D81 - 1 ) & ( C170 . D81 ) = ( C157 . ( C166 . B307 ) ))) by L815 , L1023 , L1025;
thus L1028: thesis by L1027 , L1001 , L1004 , L1018 , L1026 , TARSKI:def 4;
end;
end;
thus L1030: thesis by L1005;
end;
L1031: ( union ( rng C157 ) ) c= ( union ( rng C170 ) ) by L999 , TARSKI:def 3;
L1032: ( union ( rng C170 ) ) = ( dom C155 ) by L1031 , L752 , L998 , XBOOLE_0:def 10;
reconsider D82 = C170 as (Finite_Sep_Sequence of C154) by L947 , PROB_2:def 2;
take D82;
take C177;
L1033: (for B308 being Nat holds ((2 <= B308 & B308 in ( dom C177 )) implies (( 0. ) < ( C177 . B308 ) & ( C177 . B308 ) < ( +infty ))))
proof
L1034: C155 is  real-valued by L747 , MESFUNC2:def 4;
L1035: ( ( 0 ) + 1 ) <= D67 by L792 , L796 , XREAL_1:19;
L1036: 1 in ( dom D82 ) by L1035 , L815 , FINSEQ_1:1;
let C204 being Nat;
assume that
L1037: 2 <= C204
and
L1038: C204 in ( dom C177 );
L1039: ( 1 + 1 ) <= C204 by L1037;
L1040: 1 <= ( C204 - 1 ) by L1039 , XREAL_1:19;
consider C205 being Nat such that L1041: C205 = ( C204 - 1 ) and L1042: ( D82 . C204 ) = ( C157 . ( C166 . C205 ) ) by L815 , L873 , L1037 , L1038;
L1043: C204 <= D67 by L815 , L873 , L1038 , FINSEQ_1:1;
L1044: ( C204 - 1 ) <= ( D67 - 1 ) by L1043 , XREAL_1:9;
L1045: C205 in ( Seg ( len C166 ) ) by L1044 , L792 , L796 , L1041 , L1040 , FINSEQ_1:1;
L1046: C205 in ( dom C166 ) by L1045 , FINSEQ_1:def 3;
L1047: ( C166 . C205 ) in D66 by L1046 , L787 , FUNCT_1:3;
L1048: ( D82 . C204 ) in ( rng C157 ) by L1047 , L1042 , FUNCT_1:3;
L1049: C204 <> 1 by L1037;
L1050: ( D82 . 1 ) misses ( D82 . C204 ) by L1049 , L873 , L883 , L1038 , L1036;
L1051: D64 misses ( D82 . C204 ) by L1050 , L815 , L1036;
L1052: (( C177 . C204 ) <> ( 0. ) & ( 0. ) <= ( C177 . C204 ) & ( C177 . C204 ) < ( +infty ))
proof
per cases ;
suppose L1053: ( D82 . C204 ) <> ( {} );

L1054: ( D82 . C204 ) in ( rng D82 ) by L873 , L1038 , FUNCT_1:3;
reconsider D83 = ( D82 . C204 ) as (Element of C154) by L1054;
consider C206 being set such that L1055: C206 in ( D82 . C204 ) by L1053 , XBOOLE_0:def 1;
L1056: ( D82 . C204 ) in C154 by L1054;
reconsider D84 = C206 as (Element of C153) by L1056 , L1055;
L1057: ( C177 . C204 ) = ( C155 . D84 ) by L859 , L1038 , L1055;
L1058: ( D64 /\ ( D82 . C204 ) ) = ( {} ) by L1051 , XBOOLE_0:def 7;
L1059: (not D84 in D64) by L1058 , L1055 , XBOOLE_0:def 4;
thus L1060: ( C177 . C204 ) <> ( 0. )
proof
assume L1061: ( C177 . C204 ) = ( 0. );
L1062: (for B309 being (Element of C153) holds (B309 in ( D82 . C204 ) implies ( C155 . B309 ) = ( 0. ))) by L1061 , L873 , L1038;
L1063: D83 in D63 by L1062 , L1048;
thus L1064: contradiction by L1063 , L1055 , L1059 , TARSKI:def 4;
end;

L1065: D84 in ( union ( rng D82 ) ) by L1055 , L1054 , TARSKI:def 4;
L1066: |. ( C155 . D84 ) .| < ( +infty ) by L1065 , L752 , L998 , L1034 , MESFUNC2:def 1;
thus L1067: thesis by L1066 , L748 , L752 , L998 , L1057 , L1065 , EXTREAL2:10;
end;
suppose L1068: ( D82 . C204 ) = ( {} );

thus L1069: ( C177 . C204 ) <> ( 0. ) by L1068 , L859 , L1038;
thus L1070: ( 0. ) <= ( C177 . C204 ) by L859 , L1038 , L1068;
L1071: S15[ C204 , ( C177 . C204 ) ] by L859 , L1038;
thus L1072: thesis by L1071 , L1068 , XXREAL_0:9;
end;
end;
thus L1074: thesis by L1052;
end;
thus L1075: thesis by L1033 , L1032 , L873 , L865 , L371;
end;
theorem
L1076: (for B310 being non  empty set holds (for B311 being (SigmaField of B310) holds (for B312 being (PartFunc of B310 , ( ExtREAL )) holds ((B312 is_simple_func_in B311 & (for B313 being set holds (B313 in ( dom B312 ) implies ( 0. ) <= ( B312 . B313 )))) implies (ex B314 being (Finite_Sep_Sequence of B311) st (ex B315 being (FinSequence of ( ExtREAL )) st (B314 , B315 are_Re-presentation_of B312 & ( B315 . 1 ) = ( 0. ) & (for B316 being Nat holds ((2 <= B316 & B316 in ( dom B315 )) implies (( 0. ) < ( B315 . B316 ) & ( B315 . B316 ) < ( +infty )))))))))))
proof
let C207 being non  empty set;
let C208 being (SigmaField of C207);
let C209 being (PartFunc of C207 , ( ExtREAL ));
assume L1077: (C209 is_simple_func_in C208 & (for B317 being set holds (B317 in ( dom C209 ) implies ( 0. ) <= ( C209 . B317 ))));
per cases ;
suppose L1078: (ex B318 being set st (B318 in ( dom C209 ) & ( 0. ) = ( C209 . B318 )));

thus L1079: thesis by L1078 , L1077 , L746;
end;
suppose L1080: (for B319 being set holds (B319 in ( dom C209 ) implies ( 0. ) <> ( C209 . B319 )));

thus L1081: thesis by L1080 , L1077 , L606;
end;
end;
theorem
L1083: (for B320 being non  empty set holds (for B321 being (SigmaField of B320) holds (for B322 being (PartFunc of B320 , ( ExtREAL )) holds (for B323 being (Finite_Sep_Sequence of B321) holds (for B324 being (FinSequence of ( ExtREAL )) holds (for B325 being (Element of B320) holds ((B323 , B324 are_Re-presentation_of B322 & B325 in ( dom B322 )) implies (ex B326 being (FinSequence of ( ExtREAL )) st (( dom B326 ) = ( dom B324 ) & (for B327 being Nat holds (B327 in ( dom B326 ) implies ( B326 . B327 ) = ( ( B324 . B327 ) * ( ( chi (( B323 . B327 ) , B320) ) . B325 ) ))) & ( B322 . B325 ) = ( Sum B326 ))))))))))
proof
let C210 being non  empty set;
let C211 being (SigmaField of C210);
let C212 being (PartFunc of C210 , ( ExtREAL ));
let C213 being (Finite_Sep_Sequence of C211);
let C214 being (FinSequence of ( ExtREAL ));
let C215 being (Element of C210);
assume that
L1084: C213 , C214 are_Re-presentation_of C212
and
L1085: C215 in ( dom C212 );
L1086: ( dom C213 ) = ( dom C214 ) by L1084 , L371;
deffunc H3(Nat) = ( ( C214 . $1 ) * ( ( chi (( C213 . $1 ) , C210) ) . C215 ) );
consider C216 being (FinSequence of ( ExtREAL )) such that L1087: (( len C216 ) = ( len C214 ) & (for B328 being Nat holds (B328 in ( dom C216 ) implies ( C216 . B328 ) = H3(B328)))) from FINSEQ_2:sch 1;
L1088: ( dom C216 ) = ( Seg ( len C214 ) ) by L1087 , FINSEQ_1:def 3;
L1089: ( dom C212 ) = ( union ( rng C213 ) ) by L1084 , L371;
L1090: ( C212 . C215 ) = ( Sum C216 )
proof
consider C217 being set such that L1091: C215 in C217 and L1092: C217 in ( rng C213 ) by L1085 , L1089 , TARSKI:def 4;
consider C218 being set such that L1093: C218 in ( dom C213 ) and L1094: C217 = ( C213 . C218 ) by L1092 , FUNCT_1:def 3;
reconsider D85 = C218 as (Element of ( NAT )) by L1093;
L1095: D85 in ( Seg ( len C214 ) ) by L1086 , L1093 , FINSEQ_1:def 3;
L1096: ( len C216 ) >= D85 by L1095 , L1087 , FINSEQ_1:1;
L1097: (for B329 being Nat holds ((B329 in ( Seg ( len C216 ) ) & B329 <> D85) implies ( C216 . B329 ) = ( 0. )))
proof
let C219 being Nat;
assume that
L1098: C219 in ( Seg ( len C216 ) )
and
L1099: C219 <> D85;
L1100: ( C213 . C219 ) misses ( C213 . D85 ) by L1099 , PROB_2:def 2;
L1101: ( ( C213 . C219 ) /\ ( C213 . D85 ) ) = ( {} ) by L1100 , XBOOLE_0:def 7;
L1102: (not C215 in ( C213 . C219 )) by L1101 , L1091 , L1094 , XBOOLE_0:def 4;
L1103: ( ( chi (( C213 . C219 ) , C210) ) . C215 ) = ( 0. ) by L1102 , FUNCT_3:def 3;
L1104: ( C216 . C219 ) = ( ( C214 . C219 ) * ( ( chi (( C213 . C219 ) , C210) ) . C215 ) ) by L1087 , L1088 , L1098;
thus L1105: thesis by L1104 , L1103;
end;
consider C220 being (Function of ( NAT ) , ( ExtREAL )) such that L1106: ( Sum C216 ) = ( C220 . ( len C216 ) ) and L1107: ( C220 . ( 0 ) ) = ( 0. ) and L1108: (for B330 being (Element of ( NAT )) holds (B330 < ( len C216 ) implies ( C220 . ( B330 + 1 ) ) = ( ( C220 . B330 ) + ( C216 . ( B330 + 1 ) ) ))) by EXTREAL1:def 2;
defpred S16[ Nat ] means ($1 <= ( len C216 ) implies (($1 < D85 implies ( C220 . $1 ) = ( 0. )) & ($1 >= D85 implies ( C220 . $1 ) = ( C212 . C215 ))));
L1109: (for B331 being Nat holds ((B331 in ( Seg ( len C216 ) ) & B331 = D85) implies ( C216 . B331 ) = ( C212 . C215 )))
proof
let C221 being Nat;
assume that
L1110: C221 in ( Seg ( len C216 ) )
and
L1111: C221 = D85;
L1112: ( ( chi (( C213 . C221 ) , C210) ) . C215 ) = ( 1. ) by L1091 , L1094 , L1111 , FUNCT_3:def 3;
L1113: ( C216 . C221 ) = ( ( C214 . C221 ) * ( 1. ) ) by L1112 , L1087 , L1088 , L1110
.= ( C214 . C221 ) by XXREAL_3:81;
thus L1114: thesis by L1113 , L1084 , L1091 , L1093 , L1094 , L1111 , L371;
end;
L1115: (for B332 being Nat holds (S16[ B332 ] implies S16[ ( B332 + 1 ) ]))
proof
let C222 being Nat;
assume L1116: S16[ C222 ];
assume L1117: ( C222 + 1 ) <= ( len C216 );
reconsider D86 = C222 as (Element of ( NAT )) by ORDINAL1:def 12;
L1118:
now
per cases ;
case L1119: ( D86 + 1 ) < D85;
L1120: D85 <= ( len C214 ) by L1095 , FINSEQ_1:1;
L1121: D86 <= ( D86 + 1 ) by NAT_1:11;
L1122: D86 < D85 by L1121 , L1119 , XXREAL_0:2;
L1123: D86 < ( len C216 ) by L1122 , L1087 , L1120 , XXREAL_0:2;
L1124: (1 <= ( D86 + 1 ) & ( D86 + 1 ) <= ( len C216 )) by L1123 , NAT_1:11 , NAT_1:13;
L1125: ( D86 + 1 ) in ( Seg ( len C216 ) ) by L1124 , FINSEQ_1:1;
L1126: ( C220 . ( D86 + 1 ) ) = ( ( 0. ) + ( C216 . ( D86 + 1 ) ) ) by L1108 , L1116 , L1119 , L1121 , L1123 , XXREAL_0:2
.= ( C216 . ( D86 + 1 ) ) by XXREAL_3:4
.= ( 0. ) by L1097 , L1119 , L1125;
thus L1127: thesis by L1126 , L1119;
end;
case L1128: ( D86 + 1 ) >= D85;
L1129:
now
per cases ;
case L1130: D85 = ( D86 + 1 );
L1131: D85 <= ( len C214 ) by L1095 , FINSEQ_1:1;
L1132: D86 < ( len C216 ) by L1131 , L1087 , L1130 , NAT_1:13;
thus L1133: ( C220 . ( D86 + 1 ) ) = ( ( C220 . D86 ) + ( C216 . ( D86 + 1 ) ) ) by L1132 , L1108
.= ( C216 . D85 ) by L1087 , L1116 , L1130 , L1131 , NAT_1:13 , XXREAL_3:4
.= ( C212 . C215 ) by L1087 , L1095 , L1109;
end;
case L1134: D85 <> ( D86 + 1 );
L1135: D85 < ( D86 + 1 ) by L1134 , L1128 , XXREAL_0:1;
L1136: 1 <= ( D86 + 1 ) by NAT_1:11;
L1137: ( D86 + 1 ) in ( Seg ( len C216 ) ) by L1136 , L1117 , FINSEQ_1:1;
L1138: D86 < ( len C216 ) by L1117 , NAT_1:13;
thus L1139: ( C220 . ( D86 + 1 ) ) = ( ( C220 . D86 ) + ( C216 . ( D86 + 1 ) ) ) by L1138 , L1108
.= ( ( C212 . C215 ) + ( 0. ) ) by L1097 , L1116 , L1117 , L1135 , L1137 , NAT_1:13
.= ( C212 . C215 ) by XXREAL_3:4;
end;
end;
thus L1141: thesis by L1129 , L1128;
end;
end;
thus L1143: thesis by L1118;
end;
L1144: S16[ ( 0 ) ] by L1095 , L1107 , FINSEQ_1:1;
L1145: (for B333 being Nat holds S16[ B333 ]) from NAT_1:sch 2(L1144 , L1115);
thus L1146: thesis by L1145 , L1106 , L1096;
end;
take C216;
L1147: ( dom C216 ) = ( Seg ( len C214 ) ) by L1087 , FINSEQ_1:def 3;
thus L1148: thesis by L1147 , L1087 , L1090 , FINSEQ_1:def 3;
end;
theorem
L1149: (for B334 being (FinSequence of ( ExtREAL )) holds (for B335 being (FinSequence of ( REAL )) holds (B334 = B335 implies ( Sum B334 ) = ( Sum B335 )))) by L88;
theorem
L1150: (for B336 being (FinSequence of ( ExtREAL )) holds (((not ( -infty ) in ( rng B336 )) & ( +infty ) in ( rng B336 )) implies ( Sum B336 ) = ( +infty )))
proof
let C223 being (FinSequence of ( ExtREAL ));
assume L1151: (not ( -infty ) in ( rng C223 ));
assume L1152: ( +infty ) in ( rng C223 );
L1153: (ex B337 being set st (B337 in ( dom C223 ) & ( C223 . B337 ) = ( +infty ))) by L1152 , FUNCT_1:def 3;
consider C224 being Nat such that L1154: C224 in ( dom C223 ) and L1155: ( C223 . C224 ) = ( +infty ) by L1153;
L1156: C224 in ( Seg ( len C223 ) ) by L1154 , FINSEQ_1:def 3;
L1157: ( len C223 ) >= C224 by L1156 , FINSEQ_1:1;
consider C225 being (Function of ( NAT ) , ( ExtREAL )) such that L1158: ( Sum C223 ) = ( C225 . ( len C223 ) ) and L1159: ( C225 . ( 0 ) ) = ( 0. ) and L1160: (for B338 being (Element of ( NAT )) holds (B338 < ( len C223 ) implies ( C225 . ( B338 + 1 ) ) = ( ( C225 . B338 ) + ( C223 . ( B338 + 1 ) ) ))) by EXTREAL1:def 2;
L1161: (for B339 being Nat holds (B339 in ( dom C223 ) implies ( -infty ) < ( C223 . B339 )))
proof
let C226 being Nat;
assume L1162: C226 in ( dom C223 );
L1163: ( C223 . C226 ) in ( rng C223 ) by L1162 , FUNCT_1:def 3;
thus L1164: thesis by L1163 , L1151 , XXREAL_0:6;
end;
defpred S17[ Nat ] means ($1 <= ( len C223 ) implies (($1 < C224 implies ( -infty ) < ( C225 . $1 )) & ($1 >= C224 implies ( C225 . $1 ) = ( +infty ))));
L1165: (for B340 being Nat holds (S17[ B340 ] implies S17[ ( B340 + 1 ) ]))
proof
let C227 being Nat;
assume L1166: S17[ C227 ];
assume L1167: ( C227 + 1 ) <= ( len C223 );
reconsider D87 = C227 as (Element of ( NAT )) by ORDINAL1:def 12;
L1168: D87 < ( len C223 ) by L1167 , NAT_1:13;
L1169:
now
per cases ;
case L1170: ( D87 + 1 ) < C224;
L1171: 1 <= ( D87 + 1 ) by NAT_1:11;
L1172: ( D87 + 1 ) in ( Seg ( len C223 ) ) by L1171 , L1167 , FINSEQ_1:1;
L1173: ( D87 + 1 ) in ( dom C223 ) by L1172 , FINSEQ_1:def 3;
L1174: ( -infty ) < ( C223 . ( D87 + 1 ) ) by L1173 , L1161;
L1175: ( ( -infty ) + ( -infty ) ) = ( -infty ) by XXREAL_3:def 2;
L1176: ( ( -infty ) + ( -infty ) ) < ( ( C225 . D87 ) + ( C223 . ( D87 + 1 ) ) ) by L1166 , L1167 , NAT_1:13 , L1174 , XXREAL_3:64;
thus L1177: ( -infty ) < ( C225 . ( D87 + 1 ) ) by L1176 , L1160 , L1168 , L1175;
end;
case L1178: ( D87 + 1 ) >= C224;
L1179:
now
per cases ;
case L1180: ( D87 + 1 ) = C224;
L1181: ( C225 . ( D87 + 1 ) ) = ( ( C225 . D87 ) + ( C223 . ( D87 + 1 ) ) ) by L1160 , L1168;
thus L1182: ( C225 . ( D87 + 1 ) ) = ( +infty ) by L1181 , L1155 , L1166 , L1167 , L1180 , NAT_1:13 , XXREAL_3:def 2;
end;
case L1183: ( D87 + 1 ) <> C224;
L1184: D87 < ( len C223 ) by L1167 , NAT_1:13;
L1185: ( C225 . ( D87 + 1 ) ) = ( ( C225 . D87 ) + ( C223 . ( D87 + 1 ) ) ) by L1184 , L1160;
L1186: 1 <= ( D87 + 1 ) by NAT_1:11;
L1187: ( D87 + 1 ) in ( Seg ( len C223 ) ) by L1186 , L1167 , FINSEQ_1:1;
L1188: ( D87 + 1 ) in ( dom C223 ) by L1187 , FINSEQ_1:def 3;
L1189: ( C223 . ( D87 + 1 ) ) <> ( -infty ) by L1188 , L1161;
L1190: ( D87 + 1 ) > C224 by L1178 , L1183 , XXREAL_0:1;
thus L1191: ( C225 . ( D87 + 1 ) ) = ( +infty ) by L1190 , L1166 , L1167 , L1189 , L1185 , NAT_1:13 , XXREAL_3:def 2;
end;
end;
thus L1193: thesis by L1179;
end;
end;
thus L1195: thesis by L1169;
end;
L1196: S17[ ( 0 ) ] by L1154 , L1159 , FINSEQ_3:25;
L1197: (for B341 being Nat holds S17[ B341 ]) from NAT_1:sch 2(L1196 , L1165);
thus L1198: thesis by L1197 , L1158 , L1157;
end;
definition
let C228 being non  empty set;
let C229 being (SigmaField of C228);
let C230 being (sigma_Measure of C229);
let C231 being (PartFunc of C228 , ( ExtREAL ));
assume L1199: (C231 is_simple_func_in C229 & (for B342 being set holds (B342 in ( dom C231 ) implies ( 0. ) <= ( C231 . B342 ))));
func integral (C228 , C229 , C230 , C231) -> (Element of ( ExtREAL )) means 
(ex B343 being (Finite_Sep_Sequence of C229) st (ex B344 , B345 being (FinSequence of ( ExtREAL )) st (B343 , B344 are_Re-presentation_of C231 & ( B344 . 1 ) = ( 0. ) & (for B346 being Nat holds ((2 <= B346 & B346 in ( dom B344 )) implies (( 0. ) < ( B344 . B346 ) & ( B344 . B346 ) < ( +infty )))) & ( dom B345 ) = ( dom B343 ) & (for B347 being Nat holds (B347 in ( dom B345 ) implies ( B345 . B347 ) = ( ( B344 . B347 ) * ( ( C230 * B343 ) . B347 ) ))) & it = ( Sum B345 ))));
existence
proof
consider C232 being (Finite_Sep_Sequence of C229), C233 being (FinSequence of ( ExtREAL )) such that L1200: (C232 , C233 are_Re-presentation_of C231 & ( C233 . 1 ) = ( 0. ) & (for B348 being Nat holds ((2 <= B348 & B348 in ( dom C233 )) implies (( 0. ) < ( C233 . B348 ) & ( C233 . B348 ) < ( +infty ))))) by L1199 , L1076;
defpred S18[ set ] means $1 in ( dom C232 );
deffunc H4(set) = ( ( C233 . $1 ) * ( ( C230 * C232 ) . $1 ) );
L1201: (for B349 being set holds (S18[ B349 ] implies H4(B349) in ( ExtREAL )));
consider C234 being (PartFunc of ( NAT ) , ( ExtREAL )) such that L1202: ((for B350 being set holds (B350 in ( dom C234 ) iff (B350 in ( NAT ) & S18[ B350 ]))) & (for B351 being set holds (B351 in ( dom C234 ) implies ( C234 . B351 ) = H4(B351)))) from PARTFUN1:sch 3(L1201);
L1203: (for B352 being set holds (B352 in ( dom C232 ) implies B352 in ( dom C234 ))) by L1202;
L1204: ( dom C232 ) c= ( dom C234 ) by L1203 , TARSKI:def 3;
L1205: (for B353 being set holds (B353 in ( dom C234 ) implies B353 in ( dom C232 ))) by L1202;
L1206: ( dom C234 ) c= ( dom C232 ) by L1205 , TARSKI:def 3;
L1207: ( dom C234 ) = ( dom C232 ) by L1206 , L1204 , XBOOLE_0:def 10;
L1208: ( dom C234 ) = ( Seg ( len C232 ) ) by L1207 , FINSEQ_1:def 3;
L1209: C234 is FinSequence by L1208 , FINSEQ_1:def 2;
L1210: ( rng C234 ) c= ( ExtREAL );
reconsider D88 = C234 as (FinSequence of ( ExtREAL )) by L1210 , L1209 , FINSEQ_1:def 4;
take ( Sum D88 );
L1211: (for B354 being Nat holds (B354 in ( dom D88 ) implies ( D88 . B354 ) = ( ( C233 . B354 ) * ( ( C230 * C232 ) . B354 ) ))) by L1202;
thus L1212: thesis by L1211 , L1200 , L1207;
end;
uniqueness
proof
let C235 , C236 being (Element of ( ExtREAL ));
assume that
L1213: (ex B355 being (Finite_Sep_Sequence of C229) st (ex B356 , B357 being (FinSequence of ( ExtREAL )) st (B355 , B356 are_Re-presentation_of C231 & ( B356 . 1 ) = ( 0. ) & (for B358 being Nat holds ((2 <= B358 & B358 in ( dom B356 )) implies (( 0. ) < ( B356 . B358 ) & ( B356 . B358 ) < ( +infty )))) & ( dom B357 ) = ( dom B355 ) & (for B359 being Nat holds (B359 in ( dom B357 ) implies ( B357 . B359 ) = ( ( B356 . B359 ) * ( ( C230 * B355 ) . B359 ) ))) & C235 = ( Sum B357 ))))
and
L1214: (ex B360 being (Finite_Sep_Sequence of C229) st (ex B361 being (FinSequence of ( ExtREAL )) st (ex B362 being (FinSequence of ( ExtREAL )) st (B360 , B361 are_Re-presentation_of C231 & ( B361 . 1 ) = ( 0. ) & (for B363 being Nat holds ((2 <= B363 & B363 in ( dom B361 )) implies (( 0. ) < ( B361 . B363 ) & ( B361 . B363 ) < ( +infty )))) & ( dom B362 ) = ( dom B360 ) & (for B364 being Nat holds (B364 in ( dom B362 ) implies ( B362 . B364 ) = ( ( B361 . B364 ) * ( ( C230 * B360 ) . B364 ) ))) & C236 = ( Sum B362 )))));
thus L1215: C235 = C236
proof
consider C237 being (Finite_Sep_Sequence of C229), C238 being (FinSequence of ( ExtREAL )), C239 being (FinSequence of ( ExtREAL )) such that L1216: C237 , C238 are_Re-presentation_of C231 and L1217: ( C238 . 1 ) = ( 0. ) and L1218: (for B365 being Nat holds ((2 <= B365 & B365 in ( dom C238 )) implies (( 0. ) < ( C238 . B365 ) & ( C238 . B365 ) < ( +infty )))) and L1219: ( dom C239 ) = ( dom C237 ) and L1220: (for B366 being Nat holds (B366 in ( dom C239 ) implies ( C239 . B366 ) = ( ( C238 . B366 ) * ( ( C230 * C237 ) . B366 ) ))) and L1221: C236 = ( Sum C239 ) by L1214;
L1222: ( dom C237 ) = ( dom C238 ) by L1216 , L371;
L1223: (for B367 being Nat holds (B367 in ( dom C238 ) implies ( 0. ) <= ( C238 . B367 )))
proof
let C240 being Nat;
assume L1224: C240 in ( dom C238 );
L1225:
now
per cases ;
case L1226: C240 = 1;
thus L1227: ( C238 . 1 ) = ( 0. ) by L1217;
end;
case L1228: C240 <> 1;
L1229: C240 in ( Seg ( len C238 ) ) by L1224 , FINSEQ_1:def 3;
L1230: 1 <= C240 by L1229 , FINSEQ_1:1;
L1231: 1 < C240 by L1230 , L1228 , XXREAL_0:1;
L1232: ( 1 + 1 ) < ( C240 + 1 ) by L1231 , XREAL_1:8;
L1233: 2 <= C240 by L1232 , NAT_1:13;
thus L1234: thesis by L1233 , L1218 , L1224;
end;
end;
thus L1236: thesis by L1225;
end;
L1237: (for B368 being Nat holds (B368 in ( dom C237 ) implies ( 0. ) <= ( ( C230 * C237 ) . B368 )))
proof
let C241 being Nat;
assume L1238: C241 in ( dom C237 );
L1239: (( ( C230 * C237 ) . C241 ) = ( C230 . ( C237 . C241 ) ) & ( C237 . C241 ) in ( rng C237 )) by L1238 , FUNCT_1:3 , FUNCT_1:13;
thus L1240: thesis by L1239 , SUPINF_2:39;
end;
L1241: (not ( -infty ) in ( rng C239 ))
proof
assume L1242: (not thesis);
consider C242 being set such that L1243: C242 in ( dom C239 ) and L1244: ( C239 . C242 ) = ( -infty ) by L1242 , FUNCT_1:def 3;
L1245: (( 0. ) <= ( C238 . C242 ) & ( 0. ) <= ( ( C230 * C237 ) . C242 )) by L1219 , L1222 , L1237 , L1223 , L1243;
L1246: ( 0. ) <= ( ( C238 . C242 ) * ( ( C230 * C237 ) . C242 ) ) by L1245;
thus L1247: thesis by L1246 , L1220 , L1243 , L1244;
end;
consider C243 being (Finite_Sep_Sequence of C229), C244 being (FinSequence of ( ExtREAL )), C245 being (FinSequence of ( ExtREAL )) such that L1248: C243 , C244 are_Re-presentation_of C231 and L1249: ( C244 . 1 ) = ( 0. ) and L1250: (for B369 being Nat holds ((2 <= B369 & B369 in ( dom C244 )) implies (( 0. ) < ( C244 . B369 ) & ( C244 . B369 ) < ( +infty )))) and L1251: ( dom C245 ) = ( dom C243 ) and L1252: (for B370 being Nat holds (B370 in ( dom C245 ) implies ( C245 . B370 ) = ( ( C244 . B370 ) * ( ( C230 * C243 ) . B370 ) ))) and L1253: C235 = ( Sum C245 ) by L1213;
L1254: ( dom C243 ) = ( dom C244 ) by L1248 , L371;
L1255: (for B371 being Nat holds (B371 in ( dom C244 ) implies ( 0. ) <= ( C244 . B371 )))
proof
let C246 being Nat;
assume L1256: C246 in ( dom C244 );
L1257:
now
per cases ;
case L1258: C246 = 1;
thus L1259: ( C244 . 1 ) = ( 0. ) by L1249;
end;
case L1260: C246 <> 1;
L1261: C246 in ( Seg ( len C244 ) ) by L1256 , FINSEQ_1:def 3;
L1262: 1 <= C246 by L1261 , FINSEQ_1:1;
L1263: 1 < C246 by L1262 , L1260 , XXREAL_0:1;
L1264: ( 1 + 1 ) < ( C246 + 1 ) by L1263 , XREAL_1:8;
L1265: 2 <= C246 by L1264 , NAT_1:13;
thus L1266: thesis by L1265 , L1250 , L1256;
end;
end;
thus L1268: thesis by L1257;
end;
L1269: (for B372 being Nat holds (B372 in ( dom C243 ) implies ( 0. ) <= ( ( C230 * C243 ) . B372 )))
proof
let C247 being Nat;
assume L1270: C247 in ( dom C243 );
L1271: (( ( C230 * C243 ) . C247 ) = ( C230 . ( C243 . C247 ) ) & ( C243 . C247 ) in ( rng C243 )) by L1270 , FUNCT_1:3 , FUNCT_1:13;
thus L1272: thesis by L1271 , SUPINF_2:39;
end;
L1273: (not ( -infty ) in ( rng C245 ))
proof
assume L1274: (not thesis);
consider C248 being set such that L1275: C248 in ( dom C245 ) and L1276: ( C245 . C248 ) = ( -infty ) by L1274 , FUNCT_1:def 3;
L1277: (( 0. ) <= ( C244 . C248 ) & ( 0. ) <= ( ( C230 * C243 ) . C248 )) by L1251 , L1254 , L1269 , L1255 , L1275;
L1278: ( 0. ) <= ( ( C244 . C248 ) * ( ( C230 * C243 ) . C248 ) ) by L1277;
thus L1279: thesis by L1278 , L1252 , L1275 , L1276;
end;
L1280:
now
per cases ;
case L1281: (ex B373 , B374 being Nat st (B373 in ( dom C243 ) & B374 in ( dom C237 ) & 2 <= B373 & 2 <= B374 & ( C230 . ( ( C243 . B373 ) /\ ( C237 . B374 ) ) ) = ( +infty )));
consider C249 , C250 being Nat such that L1282: C249 in ( dom C243 ) and L1283: C250 in ( dom C237 ) and L1284: 2 <= C249 and L1285: 2 <= C250 and L1286: ( C230 . ( ( C243 . C249 ) /\ ( C237 . C250 ) ) ) = ( +infty ) by L1281;
L1287: ( C237 . C250 ) in ( rng C237 ) by L1283 , FUNCT_1:3;
L1288: ( C243 . C249 ) in ( rng C243 ) by L1282 , FUNCT_1:3;
L1289: ( ( C243 . C249 ) /\ ( C237 . C250 ) ) in C229 by L1288 , L1287 , MEASURE1:34;
L1290: ( ( C243 . C249 ) /\ ( C237 . C250 ) ) c= ( C243 . C249 ) by XBOOLE_1:17;
L1291: ( C230 . ( C243 . C249 ) ) = ( +infty ) by L1290 , L1286 , L1288 , L1289 , MEASURE1:31 , XXREAL_0:4;
L1292: ( ( C230 * C243 ) . C249 ) = ( +infty ) by L1291 , L1282 , FUNCT_1:13;
L1293: ( 0. ) < ( C244 . C249 ) by L1250 , L1254 , L1282 , L1284;
L1294: ( +infty ) = ( ( C244 . C249 ) * ( ( C230 * C243 ) . C249 ) ) by L1293 , L1292 , XXREAL_3:def 5;
L1295: ( C245 . C249 ) = ( +infty ) by L1294 , L1251 , L1252 , L1282;
L1296: ( +infty ) in ( rng C245 ) by L1295 , L1251 , L1282 , FUNCT_1:def 3;
L1297: ( Sum C245 ) = ( +infty ) by L1296 , L1273 , L1150;
L1298: ( ( C243 . C249 ) /\ ( C237 . C250 ) ) c= ( C237 . C250 ) by XBOOLE_1:17;
L1299: ( C230 . ( C237 . C250 ) ) = ( +infty ) by L1298 , L1286 , L1287 , L1289 , MEASURE1:31 , XXREAL_0:4;
L1300: ( ( C230 * C237 ) . C250 ) = ( +infty ) by L1299 , L1283 , FUNCT_1:13;
L1301: ( 0. ) < ( C238 . C250 ) by L1218 , L1222 , L1283 , L1285;
L1302: ( +infty ) = ( ( C238 . C250 ) * ( ( C230 * C237 ) . C250 ) ) by L1301 , L1300 , XXREAL_3:def 5;
L1303: ( C239 . C250 ) = ( +infty ) by L1302 , L1219 , L1220 , L1283;
L1304: ( +infty ) in ( rng C239 ) by L1303 , L1219 , L1283 , FUNCT_1:def 3;
thus L1305: thesis by L1304 , L1253 , L1221 , L1241 , L1297 , L1150;
end;
case L1306: (for B375 , B376 being Nat holds ((B375 in ( dom C243 ) & B376 in ( dom C237 ) & 2 <= B375 & 2 <= B376) implies ( C230 . ( ( C243 . B375 ) /\ ( C237 . B376 ) ) ) <> ( +infty )));
set D89 = ( len C239 );
set D90 = ( len C245 );
L1307: (ex B377 being (Function of [: ( Seg D90 ) , ( Seg D89 ) :] , ( REAL )) st (for B378 , B379 being Nat holds ((B378 in ( Seg D90 ) & B379 in ( Seg D89 )) implies ( B377 . (B378 , B379) ) = ( ( C244 . B378 ) * ( C230 . ( ( C243 . B378 ) /\ ( C237 . B379 ) ) ) ))))
proof
deffunc H5(set , set) = ( ( C244 . $1 ) * ( C230 . ( ( C243 . $1 ) /\ ( C237 . $2 ) ) ) );
L1308: (for B380 , B381 being set holds ((B380 in ( Seg D90 ) & B381 in ( Seg D89 )) implies H5(B380 , B381) in ( REAL )))
proof
let C251 , C252 being set;
assume that
L1309: C251 in ( Seg D90 )
and
L1310: C252 in ( Seg D89 );
L1311: C251 in { B382 where B382 is (Element of ( NAT )) : (1 <= B382 & B382 <= D90) } by L1309 , FINSEQ_1:def 1;
consider C253 being (Element of ( NAT )) such that L1312: C251 = C253 and L1313: 1 <= C253 and L1314: C253 <= D90 by L1311;
L1315: C252 in { B383 where B383 is (Element of ( NAT )) : (1 <= B383 & B383 <= D89) } by L1310 , FINSEQ_1:def 1;
consider C254 being (Element of ( NAT )) such that L1316: C252 = C254 and L1317: 1 <= C254 and L1318: C254 <= D89 by L1315;
L1319: C254 in ( dom C237 ) by L1219 , L1310 , L1316 , FINSEQ_1:def 3;
L1320: ( C237 . C254 ) in ( rng C237 ) by L1319 , FUNCT_1:3;
L1321: C253 in ( dom C243 ) by L1251 , L1309 , L1312 , FINSEQ_1:def 3;
L1322: ( C243 . C253 ) in ( rng C243 ) by L1321 , FUNCT_1:3;
L1323: ( ( C243 . C253 ) /\ ( C237 . C254 ) ) in C229 by L1322 , L1320 , MEASURE1:34;
L1324:
now
per cases ;
case L1325: (not (2 <= C253 & 2 <= C254));
L1326:
now
per cases  by L1325;
case L1327: C253 < 2;
L1328: C253 <= ( 1 + 1 ) by L1327;
L1329: C253 <= 1 by L1328 , L1327 , NAT_1:8;
L1330: H5(C253 , C254) = ( ( 0. ) * ( C230 . ( ( C243 . C253 ) /\ ( C237 . C254 ) ) ) ) by L1329 , L1249 , L1313 , XXREAL_0:1
.= ( 0 );
thus L1331: H5(C253 , C254) in ( REAL ) by L1330;
end;
case L1332: C254 < 2;
L1333: C254 <= ( 1 + 1 ) by L1332;
L1334: C254 <= 1 by L1333 , L1332 , NAT_1:8;
L1335:
now
per cases ;
case L1336: ( ( C243 . C253 ) /\ ( C237 . C254 ) ) = ( {} );
thus L1337: H5(C253 , C254) = ( ( C244 . C253 ) * ( 0. ) ) by L1336 , VALUED_0:def 19
.= ( 0 );
end;
case L1338: ( ( C243 . C253 ) /\ ( C237 . C254 ) ) <> ( {} );
consider C255 being set such that L1339: C255 in ( ( C243 . C253 ) /\ ( C237 . C254 ) ) by L1338 , XBOOLE_0:def 1;
L1340: C255 in ( C237 . C254 ) by L1339 , XBOOLE_0:def 4;
L1341: C255 in ( C243 . C253 ) by L1339 , XBOOLE_0:def 4;
L1342: ( C244 . C253 ) = ( C231 . C255 ) by L1341 , L1248 , L1321 , L371
.= ( C238 . C254 ) by L1216 , L1319 , L1340 , L371
.= ( 0. ) by L1217 , L1317 , L1334 , XXREAL_0:1;
thus L1343: H5(C253 , C254) = ( 0 ) by L1342;
end;
end;
thus L1345: H5(C253 , C254) in ( REAL ) by L1335;
end;
end;
thus L1347: H5(C253 , C254) in ( REAL ) by L1326;
end;
case L1348: (2 <= C253 & 2 <= C254);
L1349: ( 0. ) <= ( C244 . C253 ) by L1254 , L1255 , L1321;
L1350: ( C244 . C253 ) <> ( +infty ) by L1250 , L1254 , L1321 , L1348;
reconsider D91 = ( C244 . C253 ) as Real by L1350 , L1349 , XXREAL_0:14;
L1351: ( 0. ) <= ( C230 . ( ( C243 . C253 ) /\ ( C237 . C254 ) ) ) by L1323 , SUPINF_2:39;
reconsider D92 = ( C230 . ( ( C243 . C253 ) /\ ( C237 . C254 ) ) ) as Real by L1351 , L1306 , L1321 , L1319 , L1348 , XXREAL_0:14;
L1352: ( ( C244 . C253 ) * ( C230 . ( ( C243 . C253 ) /\ ( C237 . C254 ) ) ) ) = ( D91 * D92 ) by EXTREAL1:1;
thus L1353: H5(C253 , C254) in ( REAL ) by L1352;
end;
end;
thus L1355: thesis by L1324 , L1312 , L1316;
end;
consider C256 being (Function of [: ( Seg D90 ) , ( Seg D89 ) :] , ( REAL )) such that L1356: (for B384 , B385 being set holds ((B384 in ( Seg D90 ) & B385 in ( Seg D89 )) implies ( C256 . (B384 , B385) ) = H5(B384 , B385))) from BINOP_1:sch 2(L1308);
take C256;
thus L1357: thesis by L1356;
end;
consider C257 being (Function of [: ( Seg D90 ) , ( Seg D89 ) :] , ( REAL )) such that L1358: (for B386 , B387 being Nat holds ((B386 in ( Seg D90 ) & B387 in ( Seg D89 )) implies ( C257 . (B386 , B387) ) = ( ( C244 . B386 ) * ( C230 . ( ( C243 . B386 ) /\ ( C237 . B387 ) ) ) ))) by L1307;
L1359: (ex B388 being (FinSequence of ( REAL )) st (( dom B388 ) = ( Seg D90 ) & (for B389 being Nat holds (B389 in ( dom B388 ) implies (ex B390 being (FinSequence of ( REAL )) st (( dom B390 ) = ( Seg D89 ) & ( B388 . B389 ) = ( Sum B390 ) & (for B391 being Nat holds (B391 in ( dom B390 ) implies ( B390 . B391 ) = ( C257 . [ B389 , B391 ] )))))))))
proof
defpred S19[ Nat , set ] means (ex B392 being (FinSequence of ( REAL )) st (( dom B392 ) = ( Seg D89 ) & $2 = ( Sum B392 ) & (for B393 being Nat holds (B393 in ( dom B392 ) implies ( B392 . B393 ) = ( C257 . [ $1 , B393 ] )))));
L1360: (for B394 being Nat holds (B394 in ( Seg D90 ) implies (ex B395 being set st S19[ B394 , B395 ])))
proof
let C258 being Nat;
assume L1361: C258 in ( Seg D90 );
deffunc H6(set) = ( C257 . [ C258 , $1 ] );
consider C259 being FinSequence such that L1362: ( len C259 ) = D89 and L1363: (for B396 being Nat holds (B396 in ( dom C259 ) implies ( C259 . B396 ) = H6(B396))) from FINSEQ_1:sch 2;
L1364: ( dom C259 ) = ( Seg D89 ) by L1362 , FINSEQ_1:def 3;
L1365: (for B397 being Nat holds (B397 in ( dom C259 ) implies ( C259 . B397 ) in ( REAL )))
proof
let C260 being Nat;
L1366: ( C257 . [ C258 , C260 ] ) in ( REAL );
assume L1367: C260 in ( dom C259 );
thus L1368: thesis by L1367 , L1363 , L1366;
end;
reconsider D93 = C259 as (FinSequence of ( REAL )) by L1365 , FINSEQ_2:12;
take D94 = ( Sum D93 );
thus L1369: thesis by L1363 , L1364;
end;
consider C261 being FinSequence such that L1370: (( dom C261 ) = ( Seg D90 ) & (for B398 being Nat holds (B398 in ( Seg D90 ) implies S19[ B398 , ( C261 . B398 ) ]))) from FINSEQ_1:sch 1(L1360);
L1371: (for B399 being Nat holds (B399 in ( dom C261 ) implies ( C261 . B399 ) in ( REAL )))
proof
let C262 being Nat;
assume L1372: C262 in ( dom C261 );
L1373: (ex B400 being (FinSequence of ( REAL )) st (( dom B400 ) = ( Seg D89 ) & ( C261 . C262 ) = ( Sum B400 ) & (for B401 being Nat holds (B401 in ( dom B400 ) implies ( B400 . B401 ) = ( C257 . [ C262 , B401 ] ))))) by L1372 , L1370;
thus L1374: thesis by L1373;
end;
reconsider D95 = C261 as (FinSequence of ( REAL )) by L1371 , FINSEQ_2:12;
take D95;
thus L1375: thesis by L1370;
end;
consider C263 being (FinSequence of ( REAL )) such that L1376: ( dom C263 ) = ( Seg D90 ) and L1377: (for B402 being Nat holds (B402 in ( dom C263 ) implies (ex B403 being (FinSequence of ( REAL )) st (( dom B403 ) = ( Seg D89 ) & ( C263 . B402 ) = ( Sum B403 ) & (for B404 being Nat holds (B404 in ( dom B403 ) implies ( B403 . B404 ) = ( C257 . [ B402 , B404 ] ))))))) by L1359;
L1378: ( dom C263 ) = ( dom C245 ) by L1376 , FINSEQ_1:def 3;
L1379: (for B405 being Nat holds (B405 in ( dom C263 ) implies ( C263 . B405 ) = ( C245 . B405 )))
proof
let C264 being Nat;
assume L1380: C264 in ( dom C263 );
consider C265 being (FinSequence of ( REAL )) such that L1381: ( dom C265 ) = ( Seg D89 ) and L1382: ( C263 . C264 ) = ( Sum C265 ) and L1383: (for B406 being Nat holds (B406 in ( dom C265 ) implies ( C265 . B406 ) = ( C257 . [ C264 , B406 ] ))) by L1380 , L1377;
L1384: (ex B407 being (Finite_Sep_Sequence of C229) st (( union ( rng B407 ) ) = ( C243 . C264 ) & ( dom B407 ) = ( dom C265 ) & (for B408 being Nat holds (B408 in ( dom C265 ) implies ( B407 . B408 ) = ( ( C243 . C264 ) /\ ( C237 . B408 ) )))))
proof
deffunc H7(set) = ( ( C243 . C264 ) /\ ( C237 . $1 ) );
consider C266 being FinSequence such that L1385: ( len C266 ) = D89 and L1386: (for B409 being Nat holds (B409 in ( dom C266 ) implies ( C266 . B409 ) = H7(B409))) from FINSEQ_1:sch 2;
L1387: ( dom C266 ) = ( Seg D89 ) by L1385 , FINSEQ_1:def 3;
L1388: (for B410 being Nat holds (B410 in ( dom C266 ) implies ( C266 . B410 ) in C229))
proof
let C267 being Nat;
assume L1389: C267 in ( dom C266 );
L1390: C267 in ( Seg D89 ) by L1389 , L1385 , FINSEQ_1:def 3;
L1391: C267 in ( dom C237 ) by L1390 , L1219 , FINSEQ_1:def 3;
L1392: ( C237 . C267 ) in ( rng C237 ) by L1391 , FUNCT_1:3;
L1393: ( C243 . C264 ) in ( rng C243 ) by L1251 , L1378 , L1380 , FUNCT_1:3;
L1394: ( ( C243 . C264 ) /\ ( C237 . C267 ) ) in C229 by L1393 , L1392 , MEASURE1:34;
thus L1395: thesis by L1394 , L1386 , L1389;
end;
L1396: ( dom C266 ) = ( Seg D89 ) by L1385 , FINSEQ_1:def 3;
reconsider D96 = C266 as (FinSequence of C229) by L1388 , FINSEQ_2:12;
L1397: ( dom D96 ) = ( dom C237 ) by L1219 , L1396 , FINSEQ_1:def 3;
reconsider D97 = D96 as (Finite_Sep_Sequence of C229) by L1397 , L1386 , L166;
take D97;
L1398: ( union ( rng D97 ) ) = ( ( C243 . C264 ) /\ ( union ( rng C237 ) ) ) by L1386 , L1397 , L179
.= ( ( C243 . C264 ) /\ ( dom C231 ) ) by L1216 , L371
.= ( ( C243 . C264 ) /\ ( union ( rng C243 ) ) ) by L1248 , L371
.= ( C243 . C264 ) by L1251 , L1378 , L1380 , L205;
thus L1399: thesis by L1398 , L1381 , L1386 , L1387;
end;
consider C268 being (Finite_Sep_Sequence of C229) such that L1400: ( union ( rng C268 ) ) = ( C243 . C264 ) and L1401: ( dom C268 ) = ( dom C265 ) and L1402: (for B411 being Nat holds (B411 in ( dom C265 ) implies ( C268 . B411 ) = ( ( C243 . C264 ) /\ ( C237 . B411 ) ))) by L1384;
L1403: ( Sum ( C230 * C268 ) ) = ( C230 . ( C243 . C264 ) ) by L1400 , L214;
L1404: C264 in ( Seg ( len C244 ) ) by L1251 , L1254 , L1378 , L1380 , FINSEQ_1:def 3;
L1405: 1 <= C264 by L1404 , FINSEQ_1:1;
L1406: (( C244 . C264 ) <> ( -infty ) & ( C244 . C264 ) <> ( +infty ))
proof
per cases ;
suppose L1407: C264 = 1;

thus L1408: thesis by L1407 , L1249;
end;
suppose L1409: C264 <> 1;

L1410: 1 < C264 by L1409 , L1405 , XXREAL_0:1;
L1411: ( 1 + 1 ) <= C264 by L1410 , NAT_1:13;
thus L1412: thesis by L1411 , L1250 , L1251 , L1254 , L1378 , L1380;
end;
end;
L1414: ( C244 . C264 ) is (Element of ( REAL )) by L1406 , XXREAL_0:14;
reconsider D98 = C265 as (FinSequence of ( ExtREAL )) by L368;
L1415: (for B412 being Nat holds (B412 in ( dom C265 ) implies ( C265 . B412 ) = ( ( C244 . C264 ) * ( C230 . ( ( C243 . C264 ) /\ ( C237 . B412 ) ) ) )))
proof
let C269 being Nat;
assume L1416: C269 in ( dom C265 );
thus L1417: ( C265 . C269 ) = ( C257 . (C264 , C269) ) by L1416 , L1383
.= ( ( C244 . C264 ) * ( C230 . ( ( C243 . C264 ) /\ ( C237 . C269 ) ) ) ) by L1358 , L1376 , L1380 , L1381 , L1416;
end;
L1418: (for B413 being Nat holds (B413 in ( dom D98 ) implies ( D98 . B413 ) = ( ( C244 . C264 ) * ( ( C230 * C268 ) . B413 ) )))
proof
let C270 being Nat;
assume L1419: C270 in ( dom D98 );
thus L1420: ( D98 . C270 ) = ( ( C244 . C264 ) * ( C230 . ( ( C243 . C264 ) /\ ( C237 . C270 ) ) ) ) by L1419 , L1415
.= ( ( C244 . C264 ) * ( C230 . ( C268 . C270 ) ) ) by L1402 , L1419
.= ( ( C244 . C264 ) * ( ( C230 * C268 ) . C270 ) ) by L1401 , L1419 , FUNCT_1:13;
end;
L1421: ( dom D98 ) = ( dom ( C230 * C268 ) ) by L1401 , L210;
L1422: ( Sum D98 ) = ( ( C244 . C264 ) * ( Sum ( C230 * C268 ) ) ) by L1421 , L1418 , L1414 , L305;
L1423: ( Sum C265 ) = ( ( C244 . C264 ) * ( C230 . ( C243 . C264 ) ) ) by L1422 , L1403 , L88
.= ( ( C244 . C264 ) * ( ( C230 * C243 ) . C264 ) ) by L1251 , L1378 , L1380 , FUNCT_1:13;
thus L1424: thesis by L1423 , L1252 , L1378 , L1380 , L1382;
end;
L1425: ( Sum C263 ) = ( Sum C245 ) by L1379 , L1378 , L88 , FINSEQ_1:13;
L1426: (ex B414 being (FinSequence of ( REAL )) st (( dom B414 ) = ( Seg D89 ) & (for B415 being Nat holds (B415 in ( dom B414 ) implies (ex B416 being (FinSequence of ( REAL )) st (( dom B416 ) = ( Seg D90 ) & ( B414 . B415 ) = ( Sum B416 ) & (for B417 being Nat holds (B417 in ( dom B416 ) implies ( B416 . B417 ) = ( C257 . [ B417 , B415 ] )))))))))
proof
defpred S20[ Nat , set ] means (ex B418 being (FinSequence of ( REAL )) st (( dom B418 ) = ( Seg D90 ) & $2 = ( Sum B418 ) & (for B419 being Nat holds (B419 in ( dom B418 ) implies ( B418 . B419 ) = ( C257 . [ B419 , $1 ] )))));
L1427: (for B420 being Nat holds (B420 in ( Seg D89 ) implies (ex B421 being set st S20[ B420 , B421 ])))
proof
let C271 being Nat;
assume L1428: C271 in ( Seg D89 );
deffunc H8(set) = ( C257 . [ $1 , C271 ] );
consider C272 being FinSequence such that L1429: ( len C272 ) = D90 and L1430: (for B422 being Nat holds (B422 in ( dom C272 ) implies ( C272 . B422 ) = H8(B422))) from FINSEQ_1:sch 2;
L1431: ( dom C272 ) = ( Seg D90 ) by L1429 , FINSEQ_1:def 3;
L1432: (for B423 being Nat holds (B423 in ( dom C272 ) implies ( C272 . B423 ) in ( REAL )))
proof
let C273 being Nat;
L1433: ( C257 . [ C273 , C271 ] ) in ( REAL );
assume L1434: C273 in ( dom C272 );
thus L1435: thesis by L1434 , L1430 , L1433;
end;
reconsider D99 = C272 as (FinSequence of ( REAL )) by L1432 , FINSEQ_2:12;
take D100 = ( Sum D99 );
thus L1436: thesis by L1430 , L1431;
end;
consider C274 being FinSequence such that L1437: (( dom C274 ) = ( Seg D89 ) & (for B424 being Nat holds (B424 in ( Seg D89 ) implies S20[ B424 , ( C274 . B424 ) ]))) from FINSEQ_1:sch 1(L1427);
L1438: (for B425 being Nat holds (B425 in ( dom C274 ) implies ( C274 . B425 ) in ( REAL )))
proof
let C275 being Nat;
assume L1439: C275 in ( dom C274 );
L1440: (ex B426 being (FinSequence of ( REAL )) st (( dom B426 ) = ( Seg D90 ) & ( C274 . C275 ) = ( Sum B426 ) & (for B427 being Nat holds (B427 in ( dom B426 ) implies ( B426 . B427 ) = ( C257 . [ B427 , C275 ] ))))) by L1439 , L1437;
thus L1441: thesis by L1440;
end;
reconsider D101 = C274 as (FinSequence of ( REAL )) by L1438 , FINSEQ_2:12;
take D101;
thus L1442: thesis by L1437;
end;
consider C276 being (FinSequence of ( REAL )) such that L1443: ( dom C276 ) = ( Seg D89 ) and L1444: (for B428 being Nat holds (B428 in ( dom C276 ) implies (ex B429 being (FinSequence of ( REAL )) st (( dom B429 ) = ( Seg D90 ) & ( C276 . B428 ) = ( Sum B429 ) & (for B430 being Nat holds (B430 in ( dom B429 ) implies ( B429 . B430 ) = ( C257 . [ B430 , B428 ] ))))))) by L1426;
L1445: ( dom C276 ) = ( dom C239 ) by L1443 , FINSEQ_1:def 3;
L1446: (for B431 being Nat holds (B431 in ( dom C276 ) implies ( C276 . B431 ) = ( C239 . B431 )))
proof
let C277 being Nat;
assume L1447: C277 in ( dom C276 );
consider C278 being (FinSequence of ( REAL )) such that L1448: ( dom C278 ) = ( Seg D90 ) and L1449: ( C276 . C277 ) = ( Sum C278 ) and L1450: (for B432 being Nat holds (B432 in ( dom C278 ) implies ( C278 . B432 ) = ( C257 . [ B432 , C277 ] ))) by L1447 , L1444;
reconsider D102 = C278 as (FinSequence of ( ExtREAL )) by L368;
L1451: (ex B433 being (Finite_Sep_Sequence of C229) st (( union ( rng B433 ) ) = ( C237 . C277 ) & ( dom B433 ) = ( dom C278 ) & (for B434 being Nat holds (B434 in ( dom C278 ) implies ( B433 . B434 ) = ( ( C243 . B434 ) /\ ( C237 . C277 ) )))))
proof
deffunc H9(set) = ( ( C237 . C277 ) /\ ( C243 . $1 ) );
consider C279 being FinSequence such that L1452: ( len C279 ) = D90 and L1453: (for B435 being Nat holds (B435 in ( dom C279 ) implies ( C279 . B435 ) = H9(B435))) from FINSEQ_1:sch 2;
L1454: ( dom C279 ) = ( Seg D90 ) by L1452 , FINSEQ_1:def 3;
L1455: (for B436 being Nat holds (B436 in ( dom C279 ) implies ( C279 . B436 ) in C229))
proof
let C280 being Nat;
assume L1456: C280 in ( dom C279 );
L1457: C280 in ( Seg D90 ) by L1456 , L1452 , FINSEQ_1:def 3;
L1458: C280 in ( dom C243 ) by L1457 , L1251 , FINSEQ_1:def 3;
L1459: ( C243 . C280 ) in ( rng C243 ) by L1458 , FUNCT_1:3;
L1460: ( C237 . C277 ) in ( rng C237 ) by L1219 , L1445 , L1447 , FUNCT_1:3;
L1461: ( ( C243 . C280 ) /\ ( C237 . C277 ) ) in C229 by L1460 , L1459 , MEASURE1:34;
thus L1462: thesis by L1461 , L1453 , L1456;
end;
L1463: ( dom C279 ) = ( Seg D90 ) by L1452 , FINSEQ_1:def 3;
reconsider D103 = C279 as (FinSequence of C229) by L1455 , FINSEQ_2:12;
L1464: ( dom D103 ) = ( dom C243 ) by L1251 , L1463 , FINSEQ_1:def 3;
reconsider D104 = D103 as (Finite_Sep_Sequence of C229) by L1464 , L1453 , L166;
take D104;
L1465: ( union ( rng D104 ) ) = ( ( C237 . C277 ) /\ ( union ( rng C243 ) ) ) by L1453 , L1464 , L179
.= ( ( C237 . C277 ) /\ ( dom C231 ) ) by L1248 , L371
.= ( ( C237 . C277 ) /\ ( union ( rng C237 ) ) ) by L1216 , L371
.= ( C237 . C277 ) by L1219 , L1445 , L1447 , L205;
thus L1466: thesis by L1465 , L1448 , L1453 , L1454;
end;
consider C281 being (Finite_Sep_Sequence of C229) such that L1467: ( union ( rng C281 ) ) = ( C237 . C277 ) and L1468: ( dom C281 ) = ( dom C278 ) and L1469: (for B437 being Nat holds (B437 in ( dom C278 ) implies ( C281 . B437 ) = ( ( C243 . B437 ) /\ ( C237 . C277 ) ))) by L1451;
L1470: ( Sum ( C230 * C281 ) ) = ( C230 . ( C237 . C277 ) ) by L1467 , L214;
L1471: (for B438 being Nat holds (B438 in ( dom C278 ) implies ( C278 . B438 ) = ( ( C244 . B438 ) * ( C230 . ( ( C243 . B438 ) /\ ( C237 . C277 ) ) ) )))
proof
let C282 being Nat;
assume L1472: C282 in ( dom C278 );
thus L1473: ( C278 . C282 ) = ( C257 . (C282 , C277) ) by L1472 , L1450
.= ( ( C244 . C282 ) * ( C230 . ( ( C243 . C282 ) /\ ( C237 . C277 ) ) ) ) by L1358 , L1443 , L1447 , L1448 , L1472;
end;
L1474: (for B439 being Nat holds (B439 in ( dom C278 ) implies ( C278 . B439 ) = ( ( C238 . C277 ) * ( C230 . ( ( C243 . B439 ) /\ ( C237 . C277 ) ) ) )))
proof
let C283 being Nat;
assume L1475: C283 in ( dom C278 );
L1476:
now
per cases ;
case L1477: ( ( C243 . C283 ) /\ ( C237 . C277 ) ) = ( {} );
L1478: ( C230 . ( ( C243 . C283 ) /\ ( C237 . C277 ) ) ) = ( 0. ) by L1477 , VALUED_0:def 19;
thus L1479: ( C278 . C283 ) = ( ( C244 . C283 ) * ( 0. ) ) by L1478 , L1471 , L1475
.= ( 0. )
.= ( ( C238 . C277 ) * ( 0. ) )
.= ( ( C238 . C277 ) * ( C230 . ( ( C243 . C283 ) /\ ( C237 . C277 ) ) ) ) by L1477 , VALUED_0:def 19;
end;
case L1480: ( ( C243 . C283 ) /\ ( C237 . C277 ) ) <> ( {} );
consider C284 being set such that L1481: C284 in ( ( C243 . C283 ) /\ ( C237 . C277 ) ) by L1480 , XBOOLE_0:def 1;
L1482: C284 in ( C237 . C277 ) by L1481 , XBOOLE_0:def 4;
L1483: ( dom C263 ) = ( dom C245 ) by L1376 , FINSEQ_1:def 3;
L1484: C284 in ( C243 . C283 ) by L1481 , XBOOLE_0:def 4;
L1485: ( C244 . C283 ) = ( C231 . C284 ) by L1484 , L1248 , L1251 , L1376 , L1448 , L1475 , L1483 , L371
.= ( C238 . C277 ) by L1216 , L1219 , L1445 , L1447 , L1482 , L371;
thus L1486: thesis by L1485 , L1471 , L1475;
end;
end;
thus L1488: thesis by L1476;
end;
L1489: (for B440 being Nat holds (B440 in ( dom D102 ) implies ( D102 . B440 ) = ( ( C238 . C277 ) * ( ( C230 * C281 ) . B440 ) )))
proof
let C285 being Nat;
assume L1490: C285 in ( dom D102 );
thus L1491: ( D102 . C285 ) = ( ( C238 . C277 ) * ( C230 . ( ( C243 . C285 ) /\ ( C237 . C277 ) ) ) ) by L1490 , L1474
.= ( ( C238 . C277 ) * ( C230 . ( C281 . C285 ) ) ) by L1469 , L1490
.= ( ( C238 . C277 ) * ( ( C230 * C281 ) . C285 ) ) by L1468 , L1490 , FUNCT_1:13;
end;
L1492: C277 in ( Seg ( len C238 ) ) by L1219 , L1222 , L1445 , L1447 , FINSEQ_1:def 3;
L1493: 1 <= C277 by L1492 , FINSEQ_1:1;
L1494: (( C238 . C277 ) <> ( -infty ) & ( C238 . C277 ) <> ( +infty ))
proof
per cases ;
suppose L1495: C277 = 1;

thus L1496: thesis by L1495 , L1217;
end;
suppose L1497: C277 <> 1;

L1498: 1 < C277 by L1497 , L1493 , XXREAL_0:1;
L1499: ( 1 + 1 ) <= C277 by L1498 , NAT_1:13;
thus L1500: thesis by L1499 , L1218 , L1219 , L1222 , L1445 , L1447;
end;
end;
L1502: ( C238 . C277 ) is (Element of ( REAL )) by L1494 , XXREAL_0:14;
L1503: ( dom D102 ) = ( dom ( C230 * C281 ) ) by L1468 , L210;
L1504: ( Sum D102 ) = ( ( C238 . C277 ) * ( Sum ( C230 * C281 ) ) ) by L1503 , L1489 , L1502 , L305;
L1505: ( Sum C278 ) = ( ( C238 . C277 ) * ( C230 . ( C237 . C277 ) ) ) by L1504 , L1470 , L88
.= ( ( C238 . C277 ) * ( ( C230 * C237 ) . C277 ) ) by L1219 , L1445 , L1447 , FUNCT_1:13;
thus L1506: thesis by L1505 , L1220 , L1445 , L1447 , L1449;
end;
L1507: ( Sum C263 ) = ( Sum C276 ) by L1376 , L1377 , L1443 , L1444 , L1;
thus L1508: thesis by L1507 , L1253 , L1221 , L1425 , L1445 , L1446 , L88 , FINSEQ_1:13;
end;
end;
thus L1510: thesis by L1280;
end;

end;
end;
begin
theorem
L1217: (for B441 being (FinSequence of ( ExtREAL )) holds (for B442 , B443 being (Element of ( ExtREAL )) holds ((B443 = ( len B441 ) & (for B444 being Nat holds (B444 in ( dom B441 ) implies ( B441 . B444 ) = B442))) implies ( Sum B441 ) = ( B443 * B442 )))) by L541;
