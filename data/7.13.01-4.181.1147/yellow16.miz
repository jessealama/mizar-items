:: Retracts and Inheritance
::  by Grzegorz Bancerek
::
:: Received September 7, 1999
:: Copyright (c) 1999-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies RELAT_1, TARSKI, XBOOLE_0, ORDERS_2, YELLOW_0, FUNCT_1, STRUCT_0,
      XXREAL_0, SUBSET_1, CAT_1, RELAT_2, WAYBEL_0, SEQM_3, FUNCOP_1, ORDINAL2,
      BINOP_1, GROUP_6, EQREL_1, FUNCT_3, BORSUK_1, WAYBEL_1, WELLORD1,
      REWRITE1, YELLOW_1, WAYBEL_3, NEWTON, CARD_3, PBOOLE, LATTICE3, FUNCT_4,
      RLVECT_2, ZFMISC_1, LATTICES, PRE_TOPC, RCOMP_1, WAYBEL18, CARD_1,
      YELLOW_9, T_0TOPSP, TOPS_2, YELLOW16, FUNCT_2;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1, SUBSET_1, RELAT_1, FUNCT_1,
      PBOOLE, RELSET_1, PARTFUN1, FUNCT_2, FUNCT_3, NUMBERS, FUNCT_7, FUNCOP_1,
      STRUCT_0, CARD_3, PRALG_1, FUNCT_4, WELLORD1, ORDERS_2, LATTICE3,
      PRE_TOPC, TOPS_2, T_0TOPSP, BORSUK_1, QUANTAL1, YELLOW_0, WAYBEL_0,
      YELLOW_1, YELLOW_2, WAYBEL_1, YELLOW_9, WAYBEL_3, WAYBEL18;
 constructors TOLER_1, FUNCT_7, TOPS_2, BORSUK_1, T_0TOPSP, MONOID_0, QUANTAL1,
      ORDERS_3, YELLOW_9, WAYBEL18, WAYBEL20;
 registrations XBOOLE_0, FUNCT_1, RELSET_1, FUNCT_2, FUNCOP_1, STRUCT_0,
      PRE_TOPC, TOPS_1, BORSUK_1, LATTICE3, YELLOW_0, MONOID_0, BORSUK_2,
      WAYBEL_0, YELLOW_1, YELLOW_2, WAYBEL_1, WAYBEL_3, WAYBEL10, WAYBEL17,
      WAYBEL18, RELAT_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, RELAT_1, LATTICE3, YELLOW_0, BORSUK_1, WAYBEL_0, YELLOW_1,
      YELLOW_2, WAYBEL_1, WAYBEL_3, T_0TOPSP, WAYBEL25, XBOOLE_0, STRUCT_0;
 theorems YELLOW_0, WAYBEL_0, YELLOW_1, YELLOW_2, WAYBEL_1, PRE_TOPC, BORSUK_1,
      ORDERS_2, YELLOW12, RELAT_1, FUNCT_2, FUNCT_1, ENUMSET1, WAYBEL_3,
      FUNCOP_1, LATTICE3, CARD_3, TARSKI, ZFMISC_1, WELLORD1, QUANTAL1,
      FUNCT_4, YELLOW_9, WAYBEL20, FUNCT_7, TOPS_2, FUNCT_3, WAYBEL10,
      T_0TOPSP, WAYBEL15, YELLOW_6, PRALG_1, WAYBEL18, WAYBEL13, WAYBEL21,
      XBOOLE_0, XBOOLE_1, PARTFUN1;
 schemes PBOOLE;

begin
canceled 1;
theorem
L1: (for B1 being set holds (for B2 being non  empty RelStr holds (for B3 being non  empty (SubRelStr of B2) holds (for B4 , B5 being (Function of B1 , (the carrier of B3)) holds (for B6 , B7 being (Function of B1 , (the carrier of B2)) holds ((B6 = B4 & B7 = B5 & B4 <= B5) implies B6 <= B7))))))
proof
let C1 being set;
let C2 being non  empty RelStr;
let C3 being non  empty (SubRelStr of C2);
let C4 , C5 being (Function of C1 , (the carrier of C3));
let C6 , C7 being (Function of C1 , (the carrier of C2));
assume that
L2: C6 = C4
and
L3: C7 = C5
and
L4: C4 <= C5;
let C8 being set;
assume L5: C8 in C1;
reconsider D1 = ( C4 . C8 ) , D2 = ( C5 . C8 ) as (Element of C3) by L5 , FUNCT_2:5;
reconsider D3 = D1 , D4 = D2 as (Element of C2) by YELLOW_0:58;
take D3;
take D4;
thus L6: (D3 = ( C6 . C8 ) & D4 = ( C7 . C8 )) by L2 , L3;
L7: (ex B8 , B9 being (Element of C3) st (B8 = ( C4 . C8 ) & B9 = ( C5 . C8 ) & B8 <= B9)) by L4 , L5 , YELLOW_2:def 1;
thus L8: thesis by L7 , YELLOW_0:59;
end;
theorem
L9: (for B10 being set holds (for B11 being non  empty RelStr holds (for B12 being  full non  empty (SubRelStr of B11) holds (for B13 , B14 being (Function of B10 , (the carrier of B12)) holds (for B15 , B16 being (Function of B10 , (the carrier of B11)) holds ((B15 = B13 & B16 = B14 & B15 <= B16) implies B13 <= B14))))))
proof
let C9 being set;
let C10 being non  empty RelStr;
let C11 being  full non  empty (SubRelStr of C10);
let C12 , C13 being (Function of C9 , (the carrier of C11));
let C14 , C15 being (Function of C9 , (the carrier of C10));
assume that
L10: C14 = C12
and
L11: C15 = C13
and
L12: C14 <= C15;
let C16 being set;
assume L13: C16 in C9;
reconsider D5 = ( C12 . C16 ) , D6 = ( C13 . C16 ) as (Element of C11) by L13 , FUNCT_2:5;
take D5;
take D6;
thus L14: (D5 = ( C12 . C16 ) & D6 = ( C13 . C16 ));
L15: (ex B17 , B18 being (Element of C10) st (B17 = D5 & B18 = D6 & B17 <= B18)) by L10 , L11 , L12 , L13 , YELLOW_2:def 1;
thus L16: thesis by L15 , YELLOW_0:60;
end;
registration
let C17 being non  empty RelStr;
let C18 being non  empty  reflexive  antisymmetric RelStr;
cluster  directed-sups-preserving  monotone for (Function of C17 , C18);
existence
proof
set D7 = the (Element of C18);
take D8 = ( C17 --> D7 );
thus L17: D8 is  directed-sups-preserving
proof
let C19 being (Subset of C17);
assume L18: C19 is non  empty  directed;
L19: ( D8 .: C19 ) = { D7 }
proof
set D9 = the (Element of C19);
thus L20: ( D8 .: C19 ) c= { D7 } by FUNCOP_1:81;
L21: ( dom D8 ) = (the carrier of C17) by FUNCOP_1:13;
L22: D9 in C19 by L18;
L23: ( D8 . D9 ) = D7 by L22 , FUNCOP_1:7;
L24: D7 in ( D8 .: C19 ) by L23 , L22 , L21 , FUNCT_1:def 6;
thus L25: thesis by L24 , ZFMISC_1:31;
end;
assume L26:  ex_sup_of C19 , C17;
thus L27:  ex_sup_of ( D8 .: C19 ) , C18 by L19 , YELLOW_0:38;
thus L28: ( sup ( D8 .: C19 ) ) = D7 by L19 , YELLOW_0:39
.= ( D8 . ( sup C19 ) ) by FUNCOP_1:7;
end;

let C20 , C21 being (Element of C17);
L29: D7 <= D7;
L30: ( D8 . C20 ) = D7 by FUNCOP_1:7;
thus L31: thesis by L30 , L29 , FUNCOP_1:7;
end;
end;
theorem
L33: (for B19 , B20 being Function holds ((B19 is  idempotent & ( rng B20 ) c= ( rng B19 ) & ( rng B20 ) c= ( dom B19 )) implies ( B19 * B20 ) = B20))
proof
let C22 , C23 being Function;
assume L34: C22 is  idempotent;
L35: ( C22 * C22 ) = C22 by L34 , QUANTAL1:def 9;
assume L36: ( rng C23 ) c= ( rng C22 );
L37:
now
let C24 being set;
assume L38: C24 in ( dom C23 );
L39: ( C23 . C24 ) in ( rng C23 ) by L38 , FUNCT_1:def 3;
L40: (ex B21 being set st (B21 in ( dom C22 ) & ( C23 . C24 ) = ( C22 . B21 ))) by L39 , L36 , FUNCT_1:def 3;
L41: ( ( C22 * C23 ) . C24 ) = ( C22 . ( C23 . C24 ) ) by L38 , FUNCT_1:13;
thus L42: ( ( C22 * C23 ) . C24 ) = ( C23 . C24 ) by L41 , L35 , L40 , FUNCT_1:13;
end;
assume L43: ( rng C23 ) c= ( dom C22 );
L44: ( dom ( C22 * C23 ) ) = ( dom C23 ) by L43 , RELAT_1:27;
thus L45: thesis by L44 , L37 , FUNCT_1:2;
end;
registration
let C25 being 1-sorted;
cluster  idempotent for (Function of C25 , C25);
existence
proof
take D10 = ( id C25 );
L46: ( D10 * D10 ) = D10 by FUNCT_2:17;
thus L47: thesis by L46 , QUANTAL1:def 9;
end;
end;
theorem
L49: (for B22 being  up-complete non  empty Poset holds (for B23 being  directed-sups-inheriting  full non  empty (SubRelStr of B22) holds B23 is  up-complete))
proof
let C26 being  up-complete non  empty Poset;
let C27 being  directed-sups-inheriting  full non  empty (SubRelStr of C26);
L50:
now
let C28 being non  empty  directed (Subset of C27);
reconsider D11 = C28 as non  empty  directed (Subset of C26) by YELLOW_2:7;
L51:  ex_sup_of D11 , C26 by WAYBEL_0:75;
thus L52:  ex_sup_of C28 , C27 by L51 , WAYBEL_0:7;
end;
thus L53: thesis by L50 , WAYBEL_0:75;
end;
theorem
L54: (for B24 being  up-complete non  empty Poset holds (for B25 being (Function of B24 , B24) holds (B25 is  idempotent  directed-sups-preserving implies ( Image B25 ) is  directed-sups-inheriting)))
proof
let C29 being  up-complete non  empty Poset;
let C30 being (Function of C29 , C29);
set D12 = ( subrelstr ( rng C30 ) );
set D13 = the (Element of C29);
reconsider D14 = D12 as non  empty  full (SubRelStr of C29);
assume L55: C30 is  idempotent  directed-sups-preserving;
L56: D12 is  directed-sups-inheriting
proof
let C31 being  directed (Subset of D12);
L57: C31 c= (the carrier of D12);
L58: C31 c= ( rng C30 ) by L57 , YELLOW_0:def 15;
assume L59: C31 <> ( {} );
L60: C31 is non  empty  directed non  empty  directed non  empty  directed non  empty  directed (Subset of D14) by L59;
reconsider D15 = C31 as non  empty  directed (Subset of C29) by L60 , YELLOW_2:7;
assume L61:  ex_sup_of C31 , C29;
L62: C30 preserves_sup_of D15 by L55 , WAYBEL_0:def 37;
L63: ( sup ( C30 .: D15 ) ) = ( C30 . ( sup D15 ) ) by L62 , L61 , WAYBEL_0:def 31;
L64: ( sup D15 ) = ( C30 . ( sup D15 ) ) by L63 , L55 , L58 , YELLOW_2:20;
L65: ( "\/" (C31 , C29) ) in ( rng C30 ) by L64 , FUNCT_2:4;
thus L66: thesis by L65 , YELLOW_0:def 15;
end;
thus L67: thesis by L56;
end;
theorem
L68: (for B26 being non  empty RelStr holds (for B27 being non  empty (SubRelStr of B26) holds (for B28 being (Function of B26 , B27) holds (( B28 * ( incl (B27 , B26) ) ) = ( id B27 ) implies B28 is  idempotent  idempotent  idempotent  idempotent (Function of B26 , B26)))))
proof
let C32 being non  empty RelStr;
let C33 being non  empty (SubRelStr of C32);
let C34 being (Function of C32 , C33);
assume L69: ( C34 * ( incl (C33 , C32) ) ) = ( id C33 );
L70: (the carrier of C33) c= (the carrier of C32) by YELLOW_0:def 13;
L71: ( incl (C33 , C32) ) = ( id (the carrier of C33) ) by L70 , YELLOW_9:def 1;
L72: ( ( incl (C33 , C32) ) * C34 ) = C34 by L71 , FUNCT_2:17;
L73: ( C34 * C34 ) = ( ( id (the carrier of C33) ) * C34 ) by L72 , L69 , RELAT_1:36
.= C34 by FUNCT_2:17;
L74: ( dom C34 ) = (the carrier of C32) by FUNCT_2:def 1;
L75: C34 is  onto by L69 , FUNCT_2:23;
L76: ( rng C34 ) = (the carrier of C33) by L75 , FUNCT_2:def 3;
thus L77: thesis by L76 , L70 , L73 , L74 , FUNCT_2:2 , QUANTAL1:def 9;
end;
definition
let C35 , C36 being non  empty Poset;
let C37 being Function;
pred C37 is_a_retraction_of C36 , C35
means
:L78: (C37 is  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving (Function of C36 , C35) & ( C37 | (the carrier of C35) ) = ( id C35 ) & C35 is  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full (SubRelStr of C36))
;pred C37 is_an_UPS_retraction_of C36 , C35
means
:L79: (C37 is  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving (Function of C36 , C35) & (ex B29 being  directed-sups-preserving (Function of C35 , C36) st ( C37 * B29 ) = ( id C35 )))
;end;
definition
let C38 , C39 being non  empty Poset;
pred C38 is_a_retract_of C39
means
:L81: (ex B30 being (Function of C39 , C38) st B30 is_a_retraction_of C39 , C38)
;pred C38 is_an_UPS_retract_of C39
means
:L82: (ex B31 being (Function of C39 , C38) st B31 is_an_UPS_retraction_of C39 , C38)
;end;
theorem
L84: (for B32 , B33 being non  empty Poset holds (for B34 being Function holds (B34 is_a_retraction_of B33 , B32 implies ( B34 * ( incl (B32 , B33) ) ) = ( id B32 ))))
proof
let C40 , C41 being non  empty Poset;
let C42 being Function;
assume that
L85: C42 is  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving (Function of C41 , C40)
and
L86: ( C42 | (the carrier of C40) ) = ( id C40 )
and
L87: C40 is  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full (SubRelStr of C41);
L88: (the carrier of C40) c= (the carrier of C41) by L87 , YELLOW_0:def 13;
thus L89: ( C42 * ( incl (C40 , C41) ) ) = ( C42 * ( id (the carrier of C40) ) ) by L88 , YELLOW_9:def 1
.= ( id C40 ) by L86 , RELAT_1:65;
end;
theorem
L90: (for B35 being non  empty Poset holds (for B36 being  up-complete non  empty Poset holds (for B37 being Function holds (B37 is_a_retraction_of B36 , B35 implies B37 is_an_UPS_retraction_of B36 , B35))))
proof
let C43 being non  empty Poset;
let C44 being  up-complete non  empty Poset;
let C45 being Function;
assume L91: C45 is_a_retraction_of C44 , C43;
thus L92: C45 is  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving (Function of C44 , C43) by L91 , L78;
L93: C43 is  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full (SubRelStr of C44) by L91 , L78;
reconsider D16 = ( incl (C43 , C44) ) as  directed-sups-preserving (Function of C43 , C44) by L93 , WAYBEL21:10;
take D16;
thus L94: thesis by L91 , L84;
end;
theorem
L95: (for B38 , B39 being non  empty Poset holds (for B40 being Function holds (B40 is_a_retraction_of B39 , B38 implies ( rng B40 ) = (the carrier of B38))))
proof
let C46 , C47 being non  empty Poset;
let C48 being Function;
assume L96: C48 is_a_retraction_of C47 , C46;
reconsider D17 = C48 as (Function of C47 , C46) by L96 , L78;
L97: ( D17 * ( incl (C46 , C47) ) ) = ( id C46 ) by L96 , L84;
L98: D17 is  onto by L97 , FUNCT_2:23;
thus L99: thesis by L98 , FUNCT_2:def 3;
end;
theorem
L100: (for B41 , B42 being non  empty Poset holds (for B43 being Function holds (B43 is_an_UPS_retraction_of B42 , B41 implies ( rng B43 ) = (the carrier of B41))))
proof
let C49 , C50 being non  empty Poset;
let C51 being Function;
assume that
L101: C51 is  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving (Function of C50 , C49)
and
L102: (ex B44 being  directed-sups-preserving (Function of C49 , C50) st ( C51 * B44 ) = ( id C49 ));
reconsider D18 = C51 as (Function of C50 , C49) by L101;
L103: D18 is  onto by L102 , FUNCT_2:23;
thus L104: thesis by L103 , FUNCT_2:def 3;
end;
theorem
L105: (for B45 , B46 being non  empty Poset holds (for B47 being Function holds (B47 is_a_retraction_of B46 , B45 implies B47 is  idempotent  idempotent  idempotent  idempotent (Function of B46 , B46))))
proof
let C52 , C53 being non  empty Poset;
let C54 being Function;
assume L106: C54 is_a_retraction_of C53 , C52;
L107: C54 is (Function of C53 , C52) by L106 , L78;
L108: C52 is (SubRelStr of C53) by L106 , L78;
L109: ( C54 * ( incl (C52 , C53) ) ) = ( id C52 ) by L106 , L84;
thus L110: thesis by L109 , L107 , L108 , L68;
end;
theorem
L111: (for B48 , B49 being non  empty Poset holds (for B50 being (Function of B48 , B48) holds (B50 is_a_retraction_of B48 , B49 implies ( Image B50 ) = ( the RelStr of B49 ))))
proof
let C55 , C56 being non  empty Poset;
let C57 being (Function of C55 , C55);
L112: (the carrier of ( Image C57 )) = ( rng C57 ) by YELLOW_0:def 15;
assume L113: C57 is_a_retraction_of C55 , C56;
L114: C56 is  full  full  full  full (SubRelStr of C55) by L113 , L78;
thus L115: thesis by L114 , L113 , L112 , L95 , YELLOW_0:57;
end;
theorem
L116: (for B51 being  up-complete non  empty Poset holds (for B52 being non  empty Poset holds (for B53 being (Function of B51 , B51) holds (B53 is_a_retraction_of B51 , B52 implies B53 is  directed-sups-preserving  projection))))
proof
let C58 being  up-complete non  empty Poset;
let C59 being non  empty Poset;
let C60 being (Function of C58 , C58);
assume L117: C60 is_a_retraction_of C58 , C59;
reconsider D19 = C60 as  directed-sups-preserving (Function of C58 , C59) by L117 , L78;
L118: C60 is  idempotent by L117 , L105;
L119: C60 = ( C60 * C60 ) by L118 , QUANTAL1:def 9
.= ( ( C60 | ( rng C60 ) ) * C60 ) by FUNCT_4:2
.= ( ( C60 | (the carrier of C59) ) * C60 ) by L117 , L90 , L100
.= ( ( id C59 ) * C60 ) by L117 , L78
.= ( ( id (the carrier of C59) ) * D19 );
L120: C59 is  full  directed-sups-inheriting non  empty  full  directed-sups-inheriting non  empty  full  directed-sups-inheriting non  empty  full  directed-sups-inheriting non  empty (SubRelStr of C58) by L117 , L78;
L121: ( incl (C59 , C58) ) is  directed-sups-preserving by L120 , WAYBEL21:10;
L122: (the carrier of C59) c= (the carrier of C58) by L120 , YELLOW_0:def 13;
L123: ( incl (C59 , C58) ) = ( id (the carrier of C59) ) by L122 , YELLOW_9:def 1;
thus L124: C60 is  directed-sups-preserving by L123 , L119 , L121 , WAYBEL20:28;
L125: C60 is  directed-sups-preserving  idempotent  directed-sups-preserving  idempotent  directed-sups-preserving  idempotent  directed-sups-preserving  idempotent (Function of C58 , C58) by L117 , L119 , L121 , L123 , L105 , WAYBEL20:28;
thus L126: thesis by L125 , WAYBEL_1:def 13;
end;
theorem
L127: (for B54 , B55 being non  empty  reflexive  transitive RelStr holds (for B56 being (Function of B54 , B55) holds (B56 is  isomorphic iff (B56 is  monotone & (ex B57 being  monotone (Function of B55 , B54) st (( B56 * B57 ) = ( id B55 ) & ( B57 * B56 ) = ( id B54 )))))))
proof
let C61 , C62 being non  empty  reflexive  transitive RelStr;
let C63 being (Function of C61 , C62);
thus L128:now
assume L129: C63 is  isomorphic;
thus L130: C63 is  monotone by L129;
consider C64 being (Function of C62 , C61) such that L131: C64 = ( (C63 qua Function) " ) and L132: C64 is  monotone by L129 , WAYBEL_0:def 38;
reconsider D20 = C64 as  monotone (Function of C62 , C61) by L132;
take D21 = D20;
L133: ( rng C63 ) = (the carrier of C62) by L129 , WAYBEL_0:66;
thus L134: (( C63 * D21 ) = ( id C62 ) & ( D21 * C63 ) = ( id C61 )) by L133 , L129 , L131 , FUNCT_2:29;
end;
assume L135: C63 is  monotone;
given C65 being  monotone (Function of C62 , C61) such that
L136: ( C63 * C65 ) = ( id C62 )
and
L137: ( C65 * C63 ) = ( id C61 );

L138: C63 is  one-to-one by L137 , FUNCT_2:23;
L139: C63 is  onto by L136 , FUNCT_2:23;
L140: ( rng C63 ) = (the carrier of C62) by L139 , FUNCT_2:def 3;
L141: C65 = ( (C63 qua Function) " ) by L140 , L137 , L138 , FUNCT_2:30;
thus L142: thesis by L141 , L135 , L138 , WAYBEL_0:def 38;
end;
theorem
L143: (for B58 , B59 being non  empty Poset holds (B58 , B59 are_isomorphic  iff (ex B60 being  monotone (Function of B58 , B59) st (ex B61 being  monotone (Function of B59 , B58) st (( B60 * B61 ) = ( id B59 ) & ( B61 * B60 ) = ( id B58 ))))))
proof
let C66 , C67 being non  empty Poset;
thus L144:now
assume L145: C66 , C67 are_isomorphic ;
consider C68 being (Function of C66 , C67) such that L146: C68 is  isomorphic by L145 , WAYBEL_1:def 8;
reconsider D22 = C68 as  monotone (Function of C66 , C67) by L146;
consider C69 being (Function of C67 , C66) such that L147: C69 = ( (D22 qua Function) " ) and L148: C69 is  monotone by L146 , WAYBEL_0:def 38;
take D23 = D22;
reconsider D24 = C69 as  monotone (Function of C67 , C66) by L148;
take D25 = D24;
L149: ( rng D23 ) = (the carrier of C67) by L146 , WAYBEL_0:66;
thus L150: (( D23 * D25 ) = ( id C67 ) & ( D25 * D23 ) = ( id C66 )) by L149 , L146 , L147 , FUNCT_2:29;
end;
given C70 being  monotone (Function of C66 , C67) , C71 being  monotone (Function of C67 , C66) such that
L151: ( C70 * C71 ) = ( id C67 )
and
L152: ( C71 * C70 ) = ( id C66 );

take C70;
L153: C70 is  one-to-one by L152 , FUNCT_2:23;
L154: C70 is  onto by L151 , FUNCT_2:23;
L155: ( rng C70 ) = (the carrier of C67) by L154 , FUNCT_2:def 3;
L156: C71 = ( (C70 qua Function) " ) by L155 , L152 , L153 , FUNCT_2:30;
thus L157: thesis by L156 , L153 , WAYBEL_0:def 38;
end;
theorem
L158: (for B62 , B63 being  up-complete non  empty Poset holds (B62 , B63 are_isomorphic  implies (B62 is_an_UPS_retract_of B63 & B63 is_an_UPS_retract_of B62)))
proof
let C72 , C73 being  up-complete non  empty Poset;
assume L159: C72 , C73 are_isomorphic ;
consider C74 being  monotone (Function of C72 , C73), C75 being  monotone (Function of C73 , C72) such that L160: ( C74 * C75 ) = ( id C73 ) and L161: ( C75 * C74 ) = ( id C72 ) by L159 , L143;
L162: C75 is  isomorphic by L160 , L161 , L127;
L163: C75 is  sups-preserving by L162 , WAYBEL13:20;
L164: C74 is  isomorphic by L160 , L161 , L127;
L165: C74 is  sups-preserving by L164 , WAYBEL13:20;
L166: C74 is_an_UPS_retraction_of C72 , C73 by L165 , L160 , L163 , L79;
L167: C75 is_an_UPS_retraction_of C73 , C72 by L161 , L165 , L163 , L79;
thus L168: thesis by L167 , L166 , L82;
end;
theorem
L169: (for B64 , B65 being non  empty Poset holds (for B66 being  monotone (Function of B64 , B65) holds (for B67 being  monotone (Function of B65 , B64) holds (( B66 * B67 ) = ( id B65 ) implies (ex B68 being  projection (Function of B64 , B64) st (B68 = ( B67 * B66 ) & ( B68 | (the carrier of ( Image B68 )) ) = ( id ( Image B68 ) ) & B65 , ( Image B68 ) are_isomorphic ))))))
proof
let C76 , C77 being non  empty Poset;
let C78 being  monotone (Function of C76 , C77);
let C79 being  monotone (Function of C77 , C76);
assume that
L170: ( C78 * C79 ) = ( id C77 );
set D26 = ( C79 * C78 );
L171: ( D26 * D26 ) = ( ( D26 * C79 ) * C78 ) by RELAT_1:36
.= ( ( C79 * ( id C77 ) ) * C78 ) by L170 , RELAT_1:36
.= D26 by FUNCT_2:17;
L172: D26 is  idempotent  monotone  idempotent  monotone  idempotent  monotone  idempotent  monotone (Function of C76 , C76) by L171 , QUANTAL1:def 9 , YELLOW_2:12;
reconsider D27 = D26 as  projection (Function of C76 , C76) by L172 , WAYBEL_1:def 13;
L173: ( dom C79 ) = (the carrier of C77) by FUNCT_2:def 1;
L174: C78 is  onto by L170 , FUNCT_2:23;
L175: ( rng C78 ) = (the carrier of C77) by L174 , FUNCT_2:def 3;
reconsider D28 = ( corestr C79 ) as (Function of C77 , ( Image D27 )) by L175 , L173 , RELAT_1:28;
L176: D28 = C79 by WAYBEL_1:30;
L177:
now
let C80 , C81 being (Element of C77);
L178: (C80 <= C81 implies (( C79 . C80 ) <= ( C79 . C81 ) & ( D28 . C80 ) in (the carrier of ( Image D27 )))) by WAYBEL_1:def 2;
thus L179: (C80 <= C81 implies ( D28 . C80 ) <= ( D28 . C81 )) by L178 , L176 , YELLOW_0:60;
L180: ( ( id C77 ) . C80 ) = C80 by FUNCT_1:18;
L181: C80 = ( C78 . ( C79 . C80 ) ) by L180 , L170 , FUNCT_2:15;
L182: ( ( id C77 ) . C81 ) = C81 by FUNCT_1:18;
L183: C81 = ( C78 . ( C79 . C81 ) ) by L182 , L170 , FUNCT_2:15;
assume L184: ( D28 . C80 ) <= ( D28 . C81 );
L185: ( C79 . C80 ) <= ( C79 . C81 ) by L184 , L176 , YELLOW_0:59;
thus L186: C80 <= C81 by L185 , L181 , L183 , WAYBEL_1:def 2;
end;
L187: ( rng D27 ) = ( rng C79 ) by L175 , L173 , RELAT_1:28;
L188: ( rng D28 ) = (the carrier of ( Image D27 )) by L187 , L176 , YELLOW_0:def 15;
take D27;
thus L189: D27 = ( C79 * C78 );
thus L190: ( D27 | (the carrier of ( Image D27 )) ) = ( D27 * ( inclusion D27 ) ) by RELAT_1:65
.= ( ( corestr D27 ) * ( inclusion D27 ) ) by WAYBEL_1:30
.= ( id ( Image D27 ) ) by WAYBEL_1:33;
take D28;
L191: D28 is  one-to-one by L170 , L176 , FUNCT_2:23;
thus L192: thesis by L191 , L188 , L177 , WAYBEL_0:66;
end;
theorem
L193: (for B69 being  up-complete non  empty Poset holds (for B70 being non  empty Poset holds (for B71 being Function holds (B71 is_an_UPS_retraction_of B69 , B70 implies (ex B72 being  directed-sups-preserving  projection (Function of B69 , B69) st (B72 is_a_retraction_of B69 , ( Image B72 ) & B70 , ( Image B72 ) are_isomorphic ))))))
proof
let C82 being  up-complete non  empty Poset;
let C83 being non  empty Poset;
let C84 being Function;
assume that
L194: C84 is  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving (Function of C82 , C83);
given C85 being  directed-sups-preserving (Function of C83 , C82) such that
L195: ( C84 * C85 ) = ( id C83 );

reconsider D29 = C84 as  directed-sups-preserving (Function of C82 , C83) by L194;
consider C86 being  projection (Function of C82 , C82) such that L196: C86 = ( C85 * D29 ) and L197: ( C86 | (the carrier of ( Image C86 )) ) = ( id ( Image C86 ) ) and L198: C83 , ( Image C86 ) are_isomorphic  by L195 , L169;
reconsider D30 = C86 as  directed-sups-preserving  projection (Function of C82 , C82) by L196 , WAYBEL20:28;
take D30;
reconsider D31 = ( Image D30 ) as non  empty Poset;
L199: D30 = ( corestr D30 ) by WAYBEL_1:30;
L200: D30 is  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving  directed-sups-preserving (Function of C82 , D31) by L199 , WAYBEL20:22;
L201: D31 is  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full (SubRelStr of C82) by L54;
thus L202: D30 is_a_retraction_of C82 , ( Image D30 ) by L201 , L197 , L200 , L78;
thus L203: thesis by L198;
end;
theorem
L204: (for B73 being  up-complete non  empty Poset holds (for B74 being non  empty Poset holds (B74 is_a_retract_of B73 implies B74 is  up-complete)))
proof
let C87 being  up-complete non  empty Poset;
let C88 being non  empty Poset;
given C89 being (Function of C87 , C88) such that
L205: C89 is_a_retraction_of C87 , C88;

L206: C88 is  full  directed-sups-inheriting non  empty  full  directed-sups-inheriting non  empty  full  directed-sups-inheriting non  empty  full  directed-sups-inheriting non  empty (SubRelStr of C87) by L205 , L78;
thus L207: thesis by L206 , L49;
end;
theorem
L208: (for B75 being  complete non  empty Poset holds (for B76 being non  empty Poset holds (B76 is_a_retract_of B75 implies B76 is  complete)))
proof
let C90 being  complete non  empty Poset;
let C91 being non  empty Poset;
given C92 being (Function of C90 , C91) such that
L209: C92 is_a_retraction_of C90 , C91;

reconsider D32 = C92 as  directed-sups-preserving  projection (Function of C90 , C90) by L209 , L105 , L116;
L210: ( Image D32 ) is  complete by YELLOW_2:35;
L211: ( the RelStr of C91 ) = ( Image D32 ) by L209 , L111;
thus L212: thesis by L211 , L210 , YELLOW_0:3;
end;
theorem
L213: (for B77 being  continuous  complete LATTICE holds (for B78 being non  empty Poset holds (B78 is_a_retract_of B77 implies B78 is  continuous)))
proof
let C93 being  continuous  complete LATTICE;
let C94 being non  empty Poset;
given C95 being (Function of C93 , C94) such that
L214: C95 is_a_retraction_of C93 , C94;

reconsider D33 = C95 as  directed-sups-preserving  projection (Function of C93 , C93) by L214 , L105 , L116;
L215: ( Image D33 ) is  continuous  continuous  continuous  continuous LATTICE by WAYBEL15:15;
L216: ( Image D33 ) = ( the RelStr of C94 ) by L214 , L111;
thus L217: thesis by L216 , L215 , YELLOW12:15;
end;
theorem
L218: (for B79 being  up-complete non  empty Poset holds (for B80 being non  empty Poset holds (B80 is_an_UPS_retract_of B79 implies B80 is  up-complete)))
proof
let C96 being  up-complete non  empty Poset;
let C97 being non  empty Poset;
given C98 being (Function of C96 , C97) such that
L219: C98 is_an_UPS_retraction_of C96 , C97;

consider C99 being  directed-sups-preserving  projection (Function of C96 , C96) such that L220: C99 is_a_retraction_of C96 , ( Image C99 ) and L221: C97 , ( Image C99 ) are_isomorphic  by L219 , L193;
L222: C99 = ( corestr C99 ) by WAYBEL_1:30;
L223: ( Image C99 ) is_a_retract_of C96 by L222 , L220 , L81;
L224: ( Image C99 ) is  up-complete by L223 , L204;
thus L225: thesis by L224 , L221 , WAYBEL13:30 , WAYBEL_1:6;
end;
theorem
L226: (for B81 being  complete non  empty Poset holds (for B82 being non  empty Poset holds (B82 is_an_UPS_retract_of B81 implies B82 is  complete)))
proof
let C100 being  complete non  empty Poset;
let C101 being non  empty Poset;
given C102 being (Function of C100 , C101) such that
L227: C102 is_an_UPS_retraction_of C100 , C101;

consider C103 being  directed-sups-preserving  projection (Function of C100 , C100) such that L228: C103 is_a_retraction_of C100 , ( Image C103 ) and L229: C101 , ( Image C103 ) are_isomorphic  by L227 , L193;
L230: C103 = ( corestr C103 ) by WAYBEL_1:30;
L231: ( Image C103 ) is_a_retract_of C100 by L230 , L228 , L81;
L232: ( Image C103 ) is  complete by L231 , L208;
thus L233: thesis by L232 , L229 , WAYBEL20:18 , WAYBEL_1:6;
end;
theorem
L234: (for B83 being  continuous  complete LATTICE holds (for B84 being non  empty Poset holds (B84 is_an_UPS_retract_of B83 implies B84 is  continuous)))
proof
let C104 being  continuous  complete LATTICE;
let C105 being non  empty Poset;
given C106 being (Function of C104 , C105) such that
L235: C106 is_an_UPS_retraction_of C104 , C105;

consider C107 being  directed-sups-preserving  projection (Function of C104 , C104) such that L236: C107 is_a_retraction_of C104 , ( Image C107 ) and L237: C105 , ( Image C107 ) are_isomorphic  by L235 , L193;
L238: C107 = ( corestr C107 ) by WAYBEL_1:30;
L239: ( Image C107 ) is_a_retract_of C104 by L238 , L236 , L81;
L240: ( Image C107 ) is  continuous by L239 , L213;
thus L241: thesis by L240 , L237 , WAYBEL15:9 , WAYBEL_1:6;
end;
theorem
L242: (for B85 being RelStr holds (for B86 being  full (SubRelStr of B85) holds (for B87 being (SubRelStr of B86) holds (B87 is  full iff B87 is  full  full  full  full (SubRelStr of B85)))))
proof
let C108 being RelStr;
let C109 being  full (SubRelStr of C108);
let C110 being (SubRelStr of C109);
reconsider D34 = C110 as (SubRelStr of C108) by YELLOW_6:7;
L243: (the carrier of C110) c= (the carrier of C109) by YELLOW_0:def 13;
thus L244:now
assume L245: C110 is  full;
L246: (the InternalRel of C110) = ( (the InternalRel of C109) |_2 (the carrier of C110) ) by L245 , YELLOW_0:def 14
.= ( ( (the InternalRel of C108) |_2 (the carrier of C109) ) |_2 (the carrier of C110) ) by YELLOW_0:def 14
.= ( (the InternalRel of C108) |_2 (the carrier of D34) ) by L243 , WELLORD1:22;
thus L247: C110 is  full  full  full  full (SubRelStr of C108) by L246 , YELLOW_0:def 14;
end;
assume L248: C110 is  full  full  full  full (SubRelStr of C108);
L249: ( ( (the InternalRel of C108) |_2 (the carrier of C109) ) |_2 (the carrier of C110) ) = ( (the InternalRel of C108) |_2 (the carrier of C110) ) by L243 , WELLORD1:22
.= (the InternalRel of C110) by L248 , YELLOW_0:def 14;
thus L250: (the InternalRel of C110) = ( (the InternalRel of C109) |_2 (the carrier of C110) ) by L249 , YELLOW_0:def 14;
end;
theorem
L251: (for B88 being non  empty  transitive RelStr holds (for B89 being  directed-sups-inheriting non  empty  full (SubRelStr of B88) holds (for B90 being  directed-sups-inheriting non  empty (SubRelStr of B89) holds B90 is  directed-sups-inheriting  directed-sups-inheriting  directed-sups-inheriting  directed-sups-inheriting (SubRelStr of B88))))
proof
let C111 being non  empty  transitive RelStr;
let C112 being  directed-sups-inheriting non  empty  full (SubRelStr of C111);
let C113 being  directed-sups-inheriting non  empty (SubRelStr of C112);
reconsider D35 = C113 as (SubRelStr of C111) by YELLOW_6:7;
L252: D35 is  directed-sups-inheriting
proof
let C114 being  directed (Subset of D35);
reconsider D36 = C114 as  directed (Subset of C112) by YELLOW_2:7;
assume L253: C114 <> ( {} );
assume L254:  ex_sup_of C114 , C111;
L255:  ex_sup_of D36 , C112 by L254 , L253 , WAYBEL_0:7;
L256: ( sup D36 ) = ( "\/" (C114 , C111) ) by L253 , L254 , WAYBEL_0:7;
thus L257: thesis by L256 , L253 , L255 , WAYBEL_0:def 4;
end;
thus L258: thesis by L252;
end;
theorem
L259: (for B91 being  up-complete non  empty Poset holds (for B92 , B93 being  directed-sups-inheriting  full non  empty (SubRelStr of B91) holds (B92 is (SubRelStr of B93) implies B92 is  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full  directed-sups-inheriting  full (SubRelStr of B93))))
proof
let C115 being  up-complete non  empty Poset;
let C116 , C117 being  directed-sups-inheriting  full non  empty (SubRelStr of C115);
assume L260: C116 is (SubRelStr of C117);
reconsider D37 = C116 as (SubRelStr of C117) by L260;
L261: D37 is  directed-sups-inheriting
proof
let C118 being  directed (Subset of D37);
assume L262: C118 <> ( {} );
reconsider D38 = C118 as non  empty  directed (Subset of C116) by L262;
reconsider D39 = D38 as non  empty  directed (Subset of C117) by YELLOW_2:7;
reconsider D40 = D38 as non  empty  directed (Subset of C115) by YELLOW_2:7;
L263:  ex_sup_of D40 , C115 by WAYBEL_0:75;
L264: ( sup D40 ) = ( sup D38 ) by L263 , WAYBEL_0:7;
L265: ( sup D39 ) = ( sup D40 ) by L263 , WAYBEL_0:7;
thus L266: thesis by L265 , L264;
end;
thus L267: thesis by L261 , L242;
end;
begin
definition
let C119 being Relation;
attr C119 is  Poset-yielding
means
:L268: (for B94 being set holds (B94 in ( rng C119 ) implies B94 is Poset));
end;
registration
cluster  Poset-yielding ->  RelStr-yielding  reflexive-yielding for Relation;
coherence
proof
let C120 being Relation;
assume L270: (for B95 being set holds (B95 in ( rng C120 ) implies B95 is Poset));
thus L271: (for B96 being set holds (B96 in ( rng C120 ) implies B96 is RelStr)) by L270;
thus L272: (for B97 being RelStr holds (B97 in ( rng C120 ) implies B97 is  reflexive)) by L270;
end;
end;
definition
let C121 being non  empty set;
let C122 being non  empty RelStr;
let C123 being (Element of C121);
let C124 being (Subset of ( C122 |^ C121 ));
redefine func pi (C124 , C123) -> (Subset of C122);

coherence
proof
reconsider D41 = C124 as (Subset of ( product ( C121 --> C122 ) ));
L274: ( pi (D41 , C123) ) is (Subset of ( ( C121 --> C122 ) . C123 ));
thus L275: thesis by L274 , FUNCOP_1:7;
end;
end;
registration
let C125 being set;
let C126 being Poset;
cluster ( C125 --> C126 ) ->  Poset-yielding;
coherence
proof
let C127 being set;
assume L277: C127 in ( rng ( C125 --> C126 ) );
thus L278: thesis by L277 , TARSKI:def 1;
end;
end;
registration
let C128 being set;
cluster  Poset-yielding  non-Empty for (ManySortedSet of C128);
existence
proof
set D42 = the non  empty Poset;
take ( C128 --> D42 );
thus L280: thesis;
end;
end;
registration
let C129 being non  empty set;
let C130 being  Poset-yielding  non-Empty (ManySortedSet of C129);
cluster ( product C130 ) ->  transitive  antisymmetric;
coherence
proof
L282:
now
let C131 being (Element of C129);
L283: ( dom C130 ) = C129 by PARTFUN1:def 2;
L284: ( C130 . C131 ) in ( rng C130 ) by L283 , FUNCT_1:def 3;
thus L285: ( C130 . C131 ) is Poset by L284 , L268;
end;
L286: (for B98 being (Element of C129) holds ( C130 . B98 ) is  transitive) by L282;
thus L287: ( product C130 ) is  transitive by L286 , WAYBEL_3:29;
L288: (for B99 being (Element of C129) holds ( C130 . B99 ) is  antisymmetric) by L282;
thus L289: thesis by L288 , WAYBEL_3:30;
end;
end;
definition
let C132 being non  empty set;
let C133 being  Poset-yielding  non-Empty (ManySortedSet of C132);
let C134 being (Element of C132);
redefine func C133 . C134 -> non  empty Poset;

coherence
proof
L291: ( dom C133 ) = C132 by PARTFUN1:def 2;
L292: ( C133 . C134 ) in ( rng C133 ) by L291 , FUNCT_1:def 3;
thus L293: thesis by L292 , L268;
end;
end;
L295:
now
let C135 being non  empty set;
let C136 being  Poset-yielding  non-Empty (ManySortedSet of C135);
let C137 being (Subset of ( product C136 ));
deffunc H1((Element of C135)) = ( sup ( pi (C137 , $1) ) );
consider C138 being (ManySortedSet of C135) such that L296: (for B100 being (Element of C135) holds ( C138 . B100 ) = H1(B100)) from PBOOLE:sch 5;
L297:
now
let C139 being (Element of C135);
L298: ( C138 . C139 ) = ( sup ( pi (C137 , C139) ) ) by L296;
thus L299: ( C138 . C139 ) is (Element of ( C136 . C139 )) by L298;
end;
L300: ( dom C138 ) = C135 by PARTFUN1:def 2;
reconsider D43 = C138 as (Element of ( product C136 )) by L300 , L297 , WAYBEL_3:27;
assume L301: (for B101 being (Element of C135) holds  ex_sup_of ( pi (C137 , B101) ) , ( C136 . B101 ));
take D44 = D43;
thus L302: (for B102 being (Element of C135) holds ( D44 . B102 ) = ( sup ( pi (C137 , B102) ) )) by L296;
thus L303: D44 is_>=_than C137
proof
let C140 being (Element of ( product C136 ));
assume that
L304: C140 in C137;
L305:
now
let C141 being (Element of C135);
L306: ( D44 . C141 ) = ( sup ( pi (C137 , C141) ) ) by L296;
L307: ( C140 . C141 ) in ( pi (C137 , C141) ) by L304 , CARD_3:def 6;
L308:  ex_sup_of ( pi (C137 , C141) ) , ( C136 . C141 ) by L301;
L309: ( D44 . C141 ) is_>=_than ( pi (C137 , C141) ) by L308 , L306 , YELLOW_0:30;
thus L310: ( C140 . C141 ) <= ( D44 . C141 ) by L309 , L307 , LATTICE3:def 9;
end;
thus L311: thesis by L305 , WAYBEL_3:28;
end;

let C142 being (Element of ( product C136 ));
assume L312: C137 is_<=_than C142;
L313:
now
let C143 being (Element of C135);
L314:  ex_sup_of ( pi (C137 , C143) ) , ( C136 . C143 ) by L301;
L315: ( C142 . C143 ) is_>=_than ( pi (C137 , C143) )
proof
let C144 being (Element of ( C136 . C143 ));
assume L316: C144 in ( pi (C137 , C143) );
consider C145 being Function such that L317: C145 in C137 and L318: C144 = ( C145 . C143 ) by L316 , CARD_3:def 6;
reconsider D45 = C145 as (Element of ( product C136 )) by L317;
L319: D45 <= C142 by L312 , L317 , LATTICE3:def 9;
thus L320: C144 <= ( C142 . C143 ) by L319 , L318 , WAYBEL_3:28;
end;
L321: ( D44 . C143 ) = ( sup ( pi (C137 , C143) ) ) by L296;
thus L322: ( D44 . C143 ) <= ( C142 . C143 ) by L321 , L314 , L315 , YELLOW_0:30;
end;
thus L323: D44 <= C142 by L313 , WAYBEL_3:28;
end;
L324:
now
let C146 being non  empty set;
let C147 being  Poset-yielding  non-Empty (ManySortedSet of C146);
let C148 being (Subset of ( product C147 ));
deffunc H2((Element of C146)) = ( inf ( pi (C148 , $1) ) );
consider C149 being (ManySortedSet of C146) such that L325: (for B103 being (Element of C146) holds ( C149 . B103 ) = H2(B103)) from PBOOLE:sch 5;
L326:
now
let C150 being (Element of C146);
L327: ( C149 . C150 ) = ( inf ( pi (C148 , C150) ) ) by L325;
thus L328: ( C149 . C150 ) is (Element of ( C147 . C150 )) by L327;
end;
L329: ( dom C149 ) = C146 by PARTFUN1:def 2;
reconsider D46 = C149 as (Element of ( product C147 )) by L329 , L326 , WAYBEL_3:27;
assume L330: (for B104 being (Element of C146) holds  ex_inf_of ( pi (C148 , B104) ) , ( C147 . B104 ));
take D47 = D46;
thus L331: (for B105 being (Element of C146) holds ( D47 . B105 ) = ( inf ( pi (C148 , B105) ) )) by L325;
thus L332: D47 is_<=_than C148
proof
let C151 being (Element of ( product C147 ));
assume that
L333: C151 in C148;
L334:
now
let C152 being (Element of C146);
L335: ( D47 . C152 ) = ( inf ( pi (C148 , C152) ) ) by L325;
L336: ( C151 . C152 ) in ( pi (C148 , C152) ) by L333 , CARD_3:def 6;
L337:  ex_inf_of ( pi (C148 , C152) ) , ( C147 . C152 ) by L330;
L338: ( D47 . C152 ) is_<=_than ( pi (C148 , C152) ) by L337 , L335 , YELLOW_0:31;
thus L339: ( C151 . C152 ) >= ( D47 . C152 ) by L338 , L336 , LATTICE3:def 8;
end;
thus L340: thesis by L334 , WAYBEL_3:28;
end;

let C153 being (Element of ( product C147 ));
assume L341: C148 is_>=_than C153;
L342:
now
let C154 being (Element of C146);
L343:  ex_inf_of ( pi (C148 , C154) ) , ( C147 . C154 ) by L330;
L344: ( C153 . C154 ) is_<=_than ( pi (C148 , C154) )
proof
let C155 being (Element of ( C147 . C154 ));
assume L345: C155 in ( pi (C148 , C154) );
consider C156 being Function such that L346: C156 in C148 and L347: C155 = ( C156 . C154 ) by L345 , CARD_3:def 6;
reconsider D48 = C156 as (Element of ( product C147 )) by L346;
L348: D48 >= C153 by L341 , L346 , LATTICE3:def 8;
thus L349: C155 >= ( C153 . C154 ) by L348 , L347 , WAYBEL_3:28;
end;
L350: ( D47 . C154 ) = ( inf ( pi (C148 , C154) ) ) by L325;
thus L351: ( D47 . C154 ) >= ( C153 . C154 ) by L350 , L343 , L344 , YELLOW_0:31;
end;
thus L352: D47 >= C153 by L342 , WAYBEL_3:28;
end;
theorem
L353: (for B106 being non  empty set holds (for B107 being  Poset-yielding  non-Empty (ManySortedSet of B106) holds (for B108 being (Element of ( product B107 )) holds (for B109 being (Subset of ( product B107 )) holds (B108 is_>=_than B109 iff (for B110 being (Element of B106) holds ( B108 . B110 ) is_>=_than ( pi (B109 , B110) )))))))
proof
let C157 being non  empty set;
let C158 being  Poset-yielding  non-Empty (ManySortedSet of C157);
let C159 being (Element of ( product C158 ));
let C160 being (Subset of ( product C158 ));
thus L354:now
assume L355: C159 is_>=_than C160;
let C161 being (Element of C157);
thus L356: ( C159 . C161 ) is_>=_than ( pi (C160 , C161) )
proof
let C162 being (Element of ( C158 . C161 ));
assume L357: C162 in ( pi (C160 , C161) );
consider C163 being Function such that L358: C163 in C160 and L359: C162 = ( C163 . C161 ) by L357 , CARD_3:def 6;
reconsider D49 = C163 as (Element of ( product C158 )) by L358;
L360: D49 <= C159 by L355 , L358 , LATTICE3:def 9;
thus L361: thesis by L360 , L359 , WAYBEL_3:28;
end;

end;
assume L357: (for B111 being (Element of C157) holds ( C159 . B111 ) is_>=_than ( pi (C160 , B111) ));
let C164 being (Element of ( product C158 ));
assume L358: C164 in C160;
L359:
now
let C165 being (Element of C157);
L360: ( C159 . C165 ) is_>=_than ( pi (C160 , C165) ) by L357;
L361: ( C164 . C165 ) in ( pi (C160 , C165) ) by L358 , CARD_3:def 6;
thus L362: ( C164 . C165 ) <= ( C159 . C165 ) by L361 , L360 , LATTICE3:def 9;
end;
thus L363: thesis by L359 , WAYBEL_3:28;
end;
theorem
L364: (for B112 being non  empty set holds (for B113 being  Poset-yielding  non-Empty (ManySortedSet of B112) holds (for B114 being (Element of ( product B113 )) holds (for B115 being (Subset of ( product B113 )) holds (B114 is_<=_than B115 iff (for B116 being (Element of B112) holds ( B114 . B116 ) is_<=_than ( pi (B115 , B116) )))))))
proof
let C166 being non  empty set;
let C167 being  Poset-yielding  non-Empty (ManySortedSet of C166);
let C168 being (Element of ( product C167 ));
let C169 being (Subset of ( product C167 ));
thus L365:now
assume L366: C168 is_<=_than C169;
let C170 being (Element of C166);
thus L367: ( C168 . C170 ) is_<=_than ( pi (C169 , C170) )
proof
let C171 being (Element of ( C167 . C170 ));
assume L368: C171 in ( pi (C169 , C170) );
consider C172 being Function such that L369: C172 in C169 and L370: C171 = ( C172 . C170 ) by L368 , CARD_3:def 6;
reconsider D50 = C172 as (Element of ( product C167 )) by L369;
L371: D50 >= C168 by L366 , L369 , LATTICE3:def 8;
thus L372: thesis by L371 , L370 , WAYBEL_3:28;
end;

end;
assume L368: (for B117 being (Element of C166) holds ( C168 . B117 ) is_<=_than ( pi (C169 , B117) ));
let C173 being (Element of ( product C167 ));
assume L369: C173 in C169;
L370:
now
let C174 being (Element of C166);
L371: ( C168 . C174 ) is_<=_than ( pi (C169 , C174) ) by L368;
L372: ( C173 . C174 ) in ( pi (C169 , C174) ) by L369 , CARD_3:def 6;
thus L373: ( C173 . C174 ) >= ( C168 . C174 ) by L372 , L371 , LATTICE3:def 8;
end;
thus L374: thesis by L370 , WAYBEL_3:28;
end;
theorem
L375: (for B118 being non  empty set holds (for B119 being  Poset-yielding  non-Empty (ManySortedSet of B118) holds (for B120 being (Subset of ( product B119 )) holds ( ex_sup_of B120 , ( product B119 ) iff (for B121 being (Element of B118) holds  ex_sup_of ( pi (B120 , B121) ) , ( B119 . B121 ))))))
proof
let C175 being non  empty set;
let C176 being  Poset-yielding  non-Empty (ManySortedSet of C175);
let C177 being (Subset of ( product C176 ));
thus L376:now
set D51 = ( sup C177 );
assume L377:  ex_sup_of C177 , ( product C176 );
let C178 being (Element of C175);
L378:
now
let C179 being (Element of ( C176 . C178 ));
assume L379: ( pi (C177 , C178) ) is_<=_than C179;
set D52 = ( D51 +* (C178 , C179) );
L380: ( dom D52 ) = ( dom D51 ) by FUNCT_7:30;
L381: ( dom D51 ) = C175 by WAYBEL_3:27;
L382: ( D52 . C178 ) = C179 by L381 , FUNCT_7:31;
L383:
now
let C180 being (Element of C175);
L384: (( D52 . C180 ) = ( D51 . C180 ) or (( D52 . C180 ) = C179 & C180 = C178)) by L382 , FUNCT_7:32;
thus L385: ( D52 . C180 ) is (Element of ( C176 . C180 )) by L384;
end;
reconsider D53 = D52 as (Element of ( product C176 )) by L383 , L380 , WAYBEL_3:27;
L386: C177 is_<=_than D51 by L377 , YELLOW_0:30;
L387: C177 is_<=_than D53
proof
let C181 being (Element of ( product C176 ));
assume L388: C181 in C177;
L389: ( C181 . C178 ) in ( pi (C177 , C178) ) by L388 , CARD_3:def 6;
L390: C181 <= D51 by L386 , L388 , LATTICE3:def 9;
L391:
now
let C182 being (Element of C175);
L392: (( D53 . C182 ) = ( D51 . C182 ) or (( D53 . C182 ) = C179 & C182 = C178)) by L382 , FUNCT_7:32;
thus L393: ( C181 . C182 ) <= ( D53 . C182 ) by L392 , L379 , L390 , L389 , LATTICE3:def 9 , WAYBEL_3:28;
end;
thus L394: C181 <= D53 by L391 , WAYBEL_3:28;
end;
L395: D51 <= D53 by L387 , L377 , YELLOW_0:30;
thus L396: ( D51 . C178 ) <= C179 by L395 , L382 , WAYBEL_3:28;
end;
L397: D51 is_>=_than C177 by L377 , YELLOW_0:30;
L398: ( D51 . C178 ) is_>=_than ( pi (C177 , C178) ) by L397 , L353;
thus L399:  ex_sup_of ( pi (C177 , C178) ) , ( C176 . C178 ) by L398 , L378 , YELLOW_0:30;
end;
assume L400: (for B122 being (Element of C175) holds  ex_sup_of ( pi (C177 , B122) ) , ( C176 . B122 ));
L401: (ex B123 being (Element of ( product C176 )) st ((for B124 being (Element of C175) holds ( B123 . B124 ) = ( sup ( pi (C177 , B124) ) )) & B123 is_>=_than C177 & (for B125 being (Element of ( product C176 )) holds (C177 is_<=_than B125 implies B123 <= B125)))) by L400 , L295;
thus L402: thesis by L401 , YELLOW_0:30;
end;
theorem
L403: (for B126 being non  empty set holds (for B127 being  Poset-yielding  non-Empty (ManySortedSet of B126) holds (for B128 being (Subset of ( product B127 )) holds ( ex_inf_of B128 , ( product B127 ) iff (for B129 being (Element of B126) holds  ex_inf_of ( pi (B128 , B129) ) , ( B127 . B129 ))))))
proof
let C183 being non  empty set;
let C184 being  Poset-yielding  non-Empty (ManySortedSet of C183);
let C185 being (Subset of ( product C184 ));
thus L404:now
set D54 = ( inf C185 );
assume L405:  ex_inf_of C185 , ( product C184 );
let C186 being (Element of C183);
L406: D54 is_<=_than C185 by L405 , YELLOW_0:31;
L407:
now
let C187 being (Element of ( C184 . C186 ));
set D55 = ( D54 +* (C186 , C187) );
L408: ( dom D55 ) = ( dom D54 ) by FUNCT_7:30;
L409: ( dom D54 ) = C183 by WAYBEL_3:27;
L410: ( D55 . C186 ) = C187 by L409 , FUNCT_7:31;
L411:
now
let C188 being (Element of C183);
L412: (( D55 . C188 ) = ( D54 . C188 ) or (( D55 . C188 ) = C187 & C188 = C186)) by L410 , FUNCT_7:32;
thus L413: ( D55 . C188 ) is (Element of ( C184 . C188 )) by L412;
end;
reconsider D56 = D55 as (Element of ( product C184 )) by L411 , L408 , WAYBEL_3:27;
assume L414: ( pi (C185 , C186) ) is_>=_than C187;
L415: C185 is_>=_than D56
proof
let C189 being (Element of ( product C184 ));
assume L416: C189 in C185;
L417: ( C189 . C186 ) in ( pi (C185 , C186) ) by L416 , CARD_3:def 6;
L418: C189 >= D54 by L406 , L416 , LATTICE3:def 8;
L419:
now
let C190 being (Element of C183);
L420: (( D56 . C190 ) = ( D54 . C190 ) or (( D56 . C190 ) = C187 & C190 = C186)) by L410 , FUNCT_7:32;
thus L421: ( C189 . C190 ) >= ( D56 . C190 ) by L420 , L414 , L418 , L417 , LATTICE3:def 8 , WAYBEL_3:28;
end;
thus L422: thesis by L419 , WAYBEL_3:28;
end;
L423: D54 >= D56 by L415 , L405 , YELLOW_0:31;
thus L424: ( D54 . C186 ) >= C187 by L423 , L410 , WAYBEL_3:28;
end;
L425: ( D54 . C186 ) is_<=_than ( pi (C185 , C186) ) by L406 , L364;
thus L426:  ex_inf_of ( pi (C185 , C186) ) , ( C184 . C186 ) by L425 , L407 , YELLOW_0:31;
end;
assume L427: (for B130 being (Element of C183) holds  ex_inf_of ( pi (C185 , B130) ) , ( C184 . B130 ));
L428: (ex B131 being (Element of ( product C184 )) st ((for B132 being (Element of C183) holds ( B131 . B132 ) = ( inf ( pi (C185 , B132) ) )) & B131 is_<=_than C185 & (for B133 being (Element of ( product C184 )) holds (C185 is_>=_than B133 implies B131 >= B133)))) by L427 , L324;
thus L429: thesis by L428 , YELLOW_0:31;
end;
theorem
L430: (for B134 being non  empty set holds (for B135 being  Poset-yielding  non-Empty (ManySortedSet of B134) holds (for B136 being (Subset of ( product B135 )) holds ( ex_sup_of B136 , ( product B135 ) implies (for B137 being (Element of B134) holds ( ( sup B136 ) . B137 ) = ( sup ( pi (B136 , B137) ) ))))))
proof
let C191 being non  empty set;
let C192 being  Poset-yielding  non-Empty (ManySortedSet of C191);
let C193 being (Subset of ( product C192 ));
assume L431:  ex_sup_of C193 , ( product C192 );
L432: (for B138 being (Element of C191) holds  ex_sup_of ( pi (C193 , B138) ) , ( C192 . B138 )) by L431 , L375;
consider C194 being (Element of ( product C192 )) such that L433: (for B139 being (Element of C191) holds ( C194 . B139 ) = ( sup ( pi (C193 , B139) ) )) and L434: C194 is_>=_than C193 and L435: (for B140 being (Element of ( product C192 )) holds (C193 is_<=_than B140 implies C194 <= B140)) by L432 , L295;
L436: ( sup C193 ) = C194 by L434 , L435 , YELLOW_0:30;
thus L437: thesis by L436 , L433;
end;
theorem
L438: (for B141 being non  empty set holds (for B142 being  Poset-yielding  non-Empty (ManySortedSet of B141) holds (for B143 being (Subset of ( product B142 )) holds ( ex_inf_of B143 , ( product B142 ) implies (for B144 being (Element of B141) holds ( ( inf B143 ) . B144 ) = ( inf ( pi (B143 , B144) ) ))))))
proof
let C195 being non  empty set;
let C196 being  Poset-yielding  non-Empty (ManySortedSet of C195);
let C197 being (Subset of ( product C196 ));
assume L439:  ex_inf_of C197 , ( product C196 );
L440: (for B145 being (Element of C195) holds  ex_inf_of ( pi (C197 , B145) ) , ( C196 . B145 )) by L439 , L403;
consider C198 being (Element of ( product C196 )) such that L441: (for B146 being (Element of C195) holds ( C198 . B146 ) = ( inf ( pi (C197 , B146) ) )) and L442: C198 is_<=_than C197 and L443: (for B147 being (Element of ( product C196 )) holds (C197 is_>=_than B147 implies C198 >= B147)) by L440 , L324;
L444: ( inf C197 ) = C198 by L442 , L443 , YELLOW_0:31;
thus L445: thesis by L444 , L441;
end;
theorem
L446: (for B148 being non  empty set holds (for B149 being  RelStr-yielding  non-Empty  reflexive-yielding (ManySortedSet of B148) holds (for B150 being  directed (Subset of ( product B149 )) holds (for B151 being (Element of B148) holds ( pi (B150 , B151) ) is  directed))))
proof
let C199 being non  empty set;
let C200 being  RelStr-yielding  non-Empty  reflexive-yielding (ManySortedSet of C199);
let C201 being  directed (Subset of ( product C200 ));
let C202 being (Element of C199);
let C203 , C204 being (Element of ( C200 . C202 ));
assume L447: C203 in ( pi (C201 , C202) );
consider C205 being Function such that L448: C205 in C201 and L449: C203 = ( C205 . C202 ) by L447 , CARD_3:def 6;
assume L450: C204 in ( pi (C201 , C202) );
consider C206 being Function such that L451: C206 in C201 and L452: C204 = ( C206 . C202 ) by L450 , CARD_3:def 6;
reconsider D57 = C205 , D58 = C206 as (Element of ( product C200 )) by L448 , L451;
consider C207 being (Element of ( product C200 )) such that L453: C207 in C201 and L454: D57 <= C207 and L455: D58 <= C207 by L448 , L451 , WAYBEL_0:def 1;
take ( C207 . C202 );
thus L456: ( C207 . C202 ) in ( pi (C201 , C202) ) by L453 , CARD_3:def 6;
thus L457: thesis by L449 , L452 , L454 , L455 , WAYBEL_3:28;
end;
theorem
L458: (for B152 being non  empty set holds (for B153 , B154 being  RelStr-yielding  non-Empty (ManySortedSet of B152) holds ((for B155 being (Element of B152) holds ( B154 . B155 ) is (SubRelStr of ( B153 . B155 ))) implies ( product B154 ) is (SubRelStr of ( product B153 )))))
proof
let C208 being non  empty set;
let C209 , C210 being  RelStr-yielding  non-Empty (ManySortedSet of C208);
assume that
L459: (for B156 being (Element of C208) holds ( C210 . B156 ) is (SubRelStr of ( C209 . B156 )));
L460:
now
let C211 being set;
assume L461: C211 in C208;
reconsider D59 = C211 as (Element of C208) by L461;
L462: (ex B157 being 1-sorted st (B157 = ( C209 . D59 ) & ( ( Carrier C209 ) . D59 ) = (the carrier of B157))) by PRALG_1:def 13;
L463: (ex B158 being 1-sorted st (B158 = ( C210 . D59 ) & ( ( Carrier C210 ) . D59 ) = (the carrier of B158))) by PRALG_1:def 13;
L464: ( C210 . D59 ) is (SubRelStr of ( C209 . D59 )) by L459;
thus L465: ( ( Carrier C210 ) . C211 ) c= ( ( Carrier C209 ) . C211 ) by L464 , L462 , L463 , YELLOW_0:def 13;
end;
L466: ( dom ( Carrier C210 ) ) = C208 by PARTFUN1:def 2;
L467: ( dom ( Carrier C209 ) ) = C208 by PARTFUN1:def 2;
L468: (the carrier of ( product C209 )) = ( product ( Carrier C209 ) ) by YELLOW_1:def 4;
L469: (the carrier of ( product C210 )) = ( product ( Carrier C210 ) ) by YELLOW_1:def 4;
thus L470: (the carrier of ( product C210 )) c= (the carrier of ( product C209 )) by L469 , L468 , L467 , L466 , L460 , CARD_3:27;
let C212 , C213 being set;
assume L471: [ C212 , C213 ] in (the InternalRel of ( product C210 ));
L472: C212 in (the carrier of ( product C210 )) by L471 , ZFMISC_1:87;
L473: C213 in (the carrier of ( product C210 )) by L471 , ZFMISC_1:87;
reconsider D60 = C212 , D61 = C213 as (Element of ( product C210 )) by L471 , ZFMISC_1:87;
reconsider D62 = D60 , D63 = D61 as (Element of ( product C209 )) by L470 , L472 , L473;
L474: D60 <= D61 by L471 , ORDERS_2:def 5;
L475:
now
let C214 being (Element of C208);
L476: ( D60 . C214 ) <= ( D61 . C214 ) by L474 , WAYBEL_3:28;
L477: ( C210 . C214 ) is (SubRelStr of ( C209 . C214 )) by L459;
thus L478: ( D62 . C214 ) <= ( D63 . C214 ) by L477 , L476 , YELLOW_0:59;
end;
L479: D62 <= D63 by L475 , WAYBEL_3:28;
thus L480: thesis by L479 , ORDERS_2:def 5;
end;
theorem
L481: (for B159 being non  empty set holds (for B160 , B161 being  RelStr-yielding  non-Empty (ManySortedSet of B159) holds ((for B162 being (Element of B159) holds ( B161 . B162 ) is  full  full  full  full (SubRelStr of ( B160 . B162 ))) implies ( product B161 ) is  full  full  full  full (SubRelStr of ( product B160 )))))
proof
let C215 being non  empty set;
let C216 , C217 being  RelStr-yielding  non-Empty (ManySortedSet of C215);
assume L482: (for B163 being (Element of C215) holds ( C217 . B163 ) is  full  full  full  full (SubRelStr of ( C216 . B163 )));
L483: (for B164 being (Element of C215) holds ( C217 . B164 ) is (SubRelStr of ( C216 . B164 ))) by L482;
reconsider D64 = ( product C217 ) as non  empty (SubRelStr of ( product C216 )) by L483 , L458;
L484: ( (the InternalRel of ( product C216 )) |_2 (the carrier of D64) ) = ( (the InternalRel of ( product C216 )) /\ [: (the carrier of D64) , (the carrier of D64) :] ) by WELLORD1:def 6;
L485: D64 is  full
proof
L486: (the InternalRel of D64) c= (the InternalRel of ( product C216 )) by YELLOW_0:def 13;
thus L487: (the InternalRel of D64) c= ( (the InternalRel of ( product C216 )) |_2 (the carrier of D64) ) by L486 , L484 , XBOOLE_1:19;
let C218 , C219 being set;
assume L488: [ C218 , C219 ] in ( (the InternalRel of ( product C216 )) |_2 (the carrier of D64) );
L489: [ C218 , C219 ] in (the InternalRel of ( product C216 )) by L488 , L484 , XBOOLE_0:def 4;
L490: [ C218 , C219 ] in [: (the carrier of D64) , (the carrier of D64) :] by L484 , L488 , XBOOLE_0:def 4;
reconsider D65 = C218 , D66 = C219 as (Element of D64) by L490 , ZFMISC_1:87;
reconsider D67 = D65 , D68 = D66 as (Element of ( product C216 )) by YELLOW_0:58;
reconsider D69 = D65 , D70 = D66 as (Element of ( product C217 ));
L491: D67 <= D68 by L489 , ORDERS_2:def 5;
L492:
now
let C220 being (Element of C215);
L493: ( C217 . C220 ) is  full  full  full  full (SubRelStr of ( C216 . C220 )) by L482;
L494: ( D67 . C220 ) <= ( D68 . C220 ) by L491 , WAYBEL_3:28;
thus L495: ( D69 . C220 ) <= ( D70 . C220 ) by L494 , L493 , YELLOW_0:60;
end;
L496: D69 <= D70 by L492 , WAYBEL_3:28;
thus L497: thesis by L496 , ORDERS_2:def 5;
end;
thus L498: thesis by L485;
end;
theorem
L499: (for B165 being non  empty RelStr holds (for B166 being non  empty (SubRelStr of B165) holds (for B167 being set holds ( B166 |^ B167 ) is (SubRelStr of ( B165 |^ B167 )))))
proof
let C221 being non  empty RelStr;
let C222 being non  empty (SubRelStr of C221);
let C223 being set;
per cases ;
suppose L500: C223 = ( {} );

L501: ( C221 |^ C223 ) = RelStr (# { ( {} ) } , ( id { ( {} ) } ) #) by L500 , YELLOW_1:27;
L502: ( C222 |^ C223 ) = RelStr (# { ( {} ) } , ( id { ( {} ) } ) #) by L500 , YELLOW_1:27;
thus L503: thesis by L502 , L501 , YELLOW_6:6;
end;
suppose L504: C223 <> ( {} );

reconsider D71 = C223 as non  empty set by L504;
L505:
now
let C224 being (Element of D71);
L506: ( ( D71 --> C221 ) . C224 ) = C221 by FUNCOP_1:7;
thus L507: ( ( D71 --> C222 ) . C224 ) is (SubRelStr of ( ( D71 --> C221 ) . C224 )) by L506 , FUNCOP_1:7;
end;
thus L508: thesis by L505 , L458;
end;
end;
theorem
L510: (for B168 being non  empty RelStr holds (for B169 being  full non  empty (SubRelStr of B168) holds (for B170 being set holds ( B169 |^ B170 ) is  full  full  full  full (SubRelStr of ( B168 |^ B170 )))))
proof
let C225 being non  empty RelStr;
let C226 being  full non  empty (SubRelStr of C225);
let C227 being set;
per cases ;
suppose L511: C227 = ( {} );

L512: ( C225 |^ C227 ) = RelStr (# { ( {} ) } , ( id { ( {} ) } ) #) by L511 , YELLOW_1:27;
L513: ( C226 |^ C227 ) = RelStr (# { ( {} ) } , ( id { ( {} ) } ) #) by L511 , YELLOW_1:27;
thus L514: thesis by L513 , L512 , YELLOW_6:6;
end;
suppose L515: C227 <> ( {} );

reconsider D72 = C227 as non  empty set by L515;
L516:
now
let C228 being (Element of D72);
L517: ( ( D72 --> C225 ) . C228 ) = C225 by FUNCOP_1:7;
thus L518: ( ( D72 --> C226 ) . C228 ) is  full  full  full  full (SubRelStr of ( ( D72 --> C225 ) . C228 )) by L517 , FUNCOP_1:7;
end;
thus L519: thesis by L516 , L481;
end;
end;
begin
definition
let C229 , C230 being non  empty RelStr;
let C231 being set;
pred C229 inherits_sup_of C231 , C230
means
:L521: ( ex_sup_of C231 , C230 implies ( "\/" (C231 , C230) ) in (the carrier of C229))
;pred C229 inherits_inf_of C231 , C230
means
:L522: ( ex_inf_of C231 , C230 implies ( "/\" (C231 , C230) ) in (the carrier of C229))
;end;
theorem
L524: (for B171 being non  empty  transitive RelStr holds (for B172 being  full non  empty (SubRelStr of B171) holds (for B173 being (Subset of B172) holds (B172 inherits_sup_of B173 , B171 iff ( ex_sup_of B173 , B171 implies ( ex_sup_of B173 , B172 & ( sup B173 ) = ( "\/" (B173 , B171) )))))))
proof
let C232 being non  empty  transitive RelStr;
let C233 being  full non  empty (SubRelStr of C232);
let C234 being (Subset of C233);
thus L525:now
assume that
L526: C233 inherits_sup_of C234 , C232
and
L527:  ex_sup_of C234 , C232;
L528: ( "\/" (C234 , C232) ) in (the carrier of C233) by L526 , L527 , L521;
thus L529: ( ex_sup_of C234 , C233 & ( sup C234 ) = ( "\/" (C234 , C232) )) by L528 , L527 , YELLOW_0:64;
end;
assume L530: ( ex_sup_of C234 , C232 implies ( ex_sup_of C234 , C233 & ( sup C234 ) = ( "\/" (C234 , C232) )));
assume L531:  ex_sup_of C234 , C232;
thus L532: thesis by L531 , L530;
end;
theorem
L533: (for B174 being non  empty  transitive RelStr holds (for B175 being  full non  empty (SubRelStr of B174) holds (for B176 being (Subset of B175) holds (B175 inherits_inf_of B176 , B174 iff ( ex_inf_of B176 , B174 implies ( ex_inf_of B176 , B175 & ( inf B176 ) = ( "/\" (B176 , B174) )))))))
proof
let C235 being non  empty  transitive RelStr;
let C236 being  full non  empty (SubRelStr of C235);
let C237 being (Subset of C236);
thus L534:now
assume that
L535: C236 inherits_inf_of C237 , C235
and
L536:  ex_inf_of C237 , C235;
L537: ( "/\" (C237 , C235) ) in (the carrier of C236) by L535 , L536 , L522;
thus L538: ( ex_inf_of C237 , C236 & ( inf C237 ) = ( "/\" (C237 , C235) )) by L537 , L536 , YELLOW_0:63;
end;
assume L539: ( ex_inf_of C237 , C235 implies ( ex_inf_of C237 , C236 & ( inf C237 ) = ( "/\" (C237 , C235) )));
assume L540:  ex_inf_of C237 , C235;
thus L541: thesis by L540 , L539;
end;
scheme ProductSupsInheriting { F1() -> non  empty set , F2 , F3() ->  Poset-yielding  non-Empty (ManySortedSet of F1()) , P1[set , set] } : (for B177 being (Subset of ( product F3() )) holds (P1[ B177 , ( product F3() ) ] implies ( product F3() ) inherits_sup_of B177 , ( product F2() )))
provided
L542: (for B178 being (Subset of ( product F3() )) holds (P1[ B178 , ( product F3() ) ] implies (for B179 being (Element of F1()) holds P1[ ( pi (B178 , B179) ) , ( F3() . B179 ) ])))
and
L543: (for B180 being (Element of F1()) holds ( F3() . B180 ) is  full  full  full  full (SubRelStr of ( F2() . B180 )))
and
L544: (for B181 being (Element of F1()) holds (for B182 being (Subset of ( F3() . B181 )) holds (P1[ B182 , ( F3() . B181 ) ] implies ( F3() . B181 ) inherits_sup_of B182 , ( F2() . B181 ))))
proof
let C238 being (Subset of ( product F3() ));
assume that
L545: P1[ C238 , ( product F3() ) ]
and
L546:  ex_sup_of C238 , ( product F2() );
L547: ( product F3() ) is (SubRelStr of ( product F2() )) by L543 , L481;
L548: (the carrier of ( product F3() )) c= (the carrier of ( product F2() )) by L547 , YELLOW_0:def 13;
reconsider D73 = C238 as (Subset of ( product F2() )) by L548 , XBOOLE_1:1;
set D74 = ( "\/" (C238 , ( product F2() )) );
L549:
now
let C239 being (Element of F1());
L550:  ex_sup_of ( pi (D73 , C239) ) , ( F2() . C239 ) by L546 , L375;
L551: ( F3() . C239 ) inherits_sup_of ( pi (C238 , C239) ) , ( F2() . C239 ) by L542 , L544 , L545;
L552: ( sup ( pi (D73 , C239) ) ) in (the carrier of ( F3() . C239 )) by L551 , L550 , L521;
thus L553: ( D74 . C239 ) is (Element of ( F3() . C239 )) by L552 , L546 , L430;
end;
L554: ( dom D74 ) = F1() by WAYBEL_3:27;
L555: ( "\/" (C238 , ( product F2() )) ) is (Element of ( product F3() )) by L554 , L549 , WAYBEL_3:27;
thus L556: thesis by L555;
end;
scheme PowerSupsInheriting { F4() -> non  empty set , F5() -> non  empty Poset , F6() -> non  empty  full (SubRelStr of F5()) , P2[set , set] } : (for B183 being (Subset of ( F6() |^ F4() )) holds (P2[ B183 , ( F6() |^ F4() ) ] implies ( F6() |^ F4() ) inherits_sup_of B183 , ( F5() |^ F4() )))
provided
L557: (for B184 being (Subset of ( F6() |^ F4() )) holds (P2[ B184 , ( F6() |^ F4() ) ] implies (for B185 being (Element of F4()) holds P2[ ( pi (B184 , B185) ) , F6() ])))
and
L558: (for B186 being (Subset of F6()) holds (P2[ B186 , F6() ] implies F6() inherits_sup_of B186 , F5()))
proof
reconsider D75 = ( F4() --> F6() ) , D76 = ( F4() --> F5() ) as  Poset-yielding  non-Empty (ManySortedSet of F4());
L559:
now
let C240 being (Subset of ( product D75 ));
assume that
L560: P2[ C240 , ( product D75 ) ];
let C241 being (Element of F4());
L561: ( D75 . C241 ) = F6() by FUNCOP_1:7;
thus L562: P2[ ( pi (C240 , C241) ) , ( D75 . C241 ) ] by L561 , L557 , L560;
end;
L563:
now
let C242 being (Element of F4());
let C243 being (Subset of ( D75 . C242 ));
assume that
L564: P2[ C243 , ( D75 . C242 ) ];
L565: ( D76 . C242 ) = F5() by FUNCOP_1:7;
L566: ( D75 . C242 ) = F6() by FUNCOP_1:7;
thus L567: ( D75 . C242 ) inherits_sup_of C243 , ( D76 . C242 ) by L566 , L558 , L564 , L565;
end;
L568:
now
let C244 being (Element of F4());
L569: ( D76 . C244 ) = F5() by FUNCOP_1:7;
thus L570: ( D75 . C244 ) is  full  full  full  full (SubRelStr of ( D76 . C244 )) by L569 , FUNCOP_1:7;
end;
L571: (for B187 being (Subset of ( product D75 )) holds (P2[ B187 , ( product D75 ) ] implies ( product D75 ) inherits_sup_of B187 , ( product D76 ))) from ProductSupsInheriting(L559 , L568 , L563);
thus L572: thesis by L571;
end;
scheme ProductInfsInheriting { F7() -> non  empty set , F8 , F9() ->  Poset-yielding  non-Empty (ManySortedSet of F7()) , P3[set , set] } : (for B188 being (Subset of ( product F9() )) holds (P3[ B188 , ( product F9() ) ] implies ( product F9() ) inherits_inf_of B188 , ( product F8() )))
provided
L573: (for B189 being (Subset of ( product F9() )) holds (P3[ B189 , ( product F9() ) ] implies (for B190 being (Element of F7()) holds P3[ ( pi (B189 , B190) ) , ( F9() . B190 ) ])))
and
L574: (for B191 being (Element of F7()) holds ( F9() . B191 ) is  full  full  full  full (SubRelStr of ( F8() . B191 )))
and
L575: (for B192 being (Element of F7()) holds (for B193 being (Subset of ( F9() . B192 )) holds (P3[ B193 , ( F9() . B192 ) ] implies ( F9() . B192 ) inherits_inf_of B193 , ( F8() . B192 ))))
proof
let C245 being (Subset of ( product F9() ));
assume that
L576: P3[ C245 , ( product F9() ) ]
and
L577:  ex_inf_of C245 , ( product F8() );
L578: ( product F9() ) is (SubRelStr of ( product F8() )) by L574 , L481;
L579: (the carrier of ( product F9() )) c= (the carrier of ( product F8() )) by L578 , YELLOW_0:def 13;
reconsider D77 = C245 as (Subset of ( product F8() )) by L579 , XBOOLE_1:1;
set D78 = ( "/\" (C245 , ( product F8() )) );
L580:
now
let C246 being (Element of F7());
L581:  ex_inf_of ( pi (D77 , C246) ) , ( F8() . C246 ) by L577 , L403;
L582: ( F9() . C246 ) inherits_inf_of ( pi (C245 , C246) ) , ( F8() . C246 ) by L573 , L575 , L576;
L583: ( inf ( pi (D77 , C246) ) ) in (the carrier of ( F9() . C246 )) by L582 , L581 , L522;
thus L584: ( D78 . C246 ) is (Element of ( F9() . C246 )) by L583 , L577 , L438;
end;
L585: ( dom D78 ) = F7() by WAYBEL_3:27;
L586: ( "/\" (C245 , ( product F8() )) ) is (Element of ( product F9() )) by L585 , L580 , WAYBEL_3:27;
thus L587: thesis by L586;
end;
scheme PowerInfsInheriting { F10() -> non  empty set , F11() -> non  empty Poset , F12() -> non  empty  full (SubRelStr of F11()) , P4[set , set] } : (for B194 being (Subset of ( F12() |^ F10() )) holds (P4[ B194 , ( F12() |^ F10() ) ] implies ( F12() |^ F10() ) inherits_inf_of B194 , ( F11() |^ F10() )))
provided
L588: (for B195 being (Subset of ( F12() |^ F10() )) holds (P4[ B195 , ( F12() |^ F10() ) ] implies (for B196 being (Element of F10()) holds P4[ ( pi (B195 , B196) ) , F12() ])))
and
L589: (for B197 being (Subset of F12()) holds (P4[ B197 , F12() ] implies F12() inherits_inf_of B197 , F11()))
proof
reconsider D79 = ( F10() --> F12() ) , D80 = ( F10() --> F11() ) as  Poset-yielding  non-Empty (ManySortedSet of F10());
L590:
now
let C247 being (Subset of ( product D79 ));
assume that
L591: P4[ C247 , ( product D79 ) ];
let C248 being (Element of F10());
L592: ( D79 . C248 ) = F12() by FUNCOP_1:7;
thus L593: P4[ ( pi (C247 , C248) ) , ( D79 . C248 ) ] by L592 , L588 , L591;
end;
L594:
now
let C249 being (Element of F10());
let C250 being (Subset of ( D79 . C249 ));
assume that
L595: P4[ C250 , ( D79 . C249 ) ];
L596: ( D80 . C249 ) = F11() by FUNCOP_1:7;
L597: ( D79 . C249 ) = F12() by FUNCOP_1:7;
thus L598: ( D79 . C249 ) inherits_inf_of C250 , ( D80 . C249 ) by L597 , L589 , L595 , L596;
end;
L599:
now
let C251 being (Element of F10());
L600: ( D80 . C251 ) = F11() by FUNCOP_1:7;
thus L601: ( D79 . C251 ) is  full  full  full  full (SubRelStr of ( D80 . C251 )) by L600 , FUNCOP_1:7;
end;
L602: (for B198 being (Subset of ( product D79 )) holds (P4[ B198 , ( product D79 ) ] implies ( product D79 ) inherits_inf_of B198 , ( product D80 ))) from ProductInfsInheriting(L590 , L599 , L594);
thus L603: thesis by L602;
end;
registration
let C252 being set;
let C253 being non  empty RelStr;
let C254 being non  empty (Subset of ( C253 |^ C252 ));
let C255 being set;
cluster ( pi (C254 , C255) ) -> non  empty;
coherence
proof
reconsider D81 = C254 as non  empty (Subset of ( product ( C252 --> C253 ) ));
set D82 = the (Element of D81);
reconsider D83 = D82 as Function;
L604: ( D83 . C255 ) in ( pi (C254 , C255) ) by CARD_3:def 6;
thus L605: thesis by L604;
end;
end;
theorem
L607: (for B199 being non  empty Poset holds (for B200 being  directed-sups-inheriting non  empty  full (SubRelStr of B199) holds (for B201 being non  empty set holds ( B200 |^ B201 ) is  directed-sups-inheriting  directed-sups-inheriting  directed-sups-inheriting  directed-sups-inheriting (SubRelStr of ( B199 |^ B201 )))))
proof
let C256 being non  empty Poset;
let C257 being  directed-sups-inheriting non  empty  full (SubRelStr of C256);
let C258 being non  empty set;
reconsider D84 = ( C257 |^ C258 ) as  full non  empty (SubRelStr of ( C256 |^ C258 )) by L510;
defpred S1[ set , non  empty  reflexive RelStr ] means $1 is  directed non  empty  directed non  empty  directed non  empty  directed non  empty (Subset of $2);
L608:
now
let C259 being (Subset of ( C257 |^ C258 ));
assume L609: S1[ C259 , ( C257 |^ C258 ) ];
reconsider D85 = C259 as  directed non  empty (Subset of ( C257 |^ C258 )) by L609;
let C260 being (Element of C258);
L610: ( ( C258 --> C257 ) . C260 ) = C257 by FUNCOP_1:7;
L611: ( pi (D85 , C260) ) is  directed non  empty  directed non  empty  directed non  empty  directed non  empty (Subset of C257) by L610 , L446;
thus L612: S1[ ( pi (C259 , C260) ) , C257 ] by L611;
end;
L613:
now
let C261 being (Subset of C257);
assume L614: S1[ C261 , C257 ];
L615: ( ex_sup_of C261 , C256 implies ( ex_sup_of C261 , C257 & ( sup C261 ) = ( "\/" (C261 , C256) ))) by L614 , WAYBEL_0:7;
thus L616: C257 inherits_sup_of C261 , C256 by L615 , L524;
end;
L617: D84 is  directed-sups-inheriting
proof
let C262 being  directed (Subset of D84);
L618: (for B202 being (Subset of ( C257 |^ C258 )) holds (S1[ B202 , ( C257 |^ C258 ) ] implies ( C257 |^ C258 ) inherits_sup_of B202 , ( C256 |^ C258 ))) from PowerSupsInheriting(L608 , L613);
L619: (C262 <> ( {} ) implies ( C257 |^ C258 ) inherits_sup_of C262 , ( C256 |^ C258 )) by L618;
thus L620: thesis by L619 , L521;
end;
thus L621: thesis by L617;
end;
registration
let C263 being non  empty set;
let C264 being  RelStr-yielding  non-Empty (ManySortedSet of C263);
let C265 being non  empty (Subset of ( product C264 ));
let C266 being set;
cluster ( pi (C265 , C266) ) -> non  empty;
coherence
proof
set D86 = the (Element of C265);
reconsider D87 = D86 as Function;
L622: ( D87 . C266 ) in ( pi (C265 , C266) ) by CARD_3:def 6;
thus L623: thesis by L622;
end;
end;
theorem
L625: (for B203 being non  empty set holds (for B204 being  up-complete non  empty Poset holds ( B204 |^ B203 ) is  up-complete))
proof
let C267 being non  empty set;
let C268 being  up-complete non  empty Poset;
L626:
now
let C269 being non  empty  directed (Subset of ( C268 |^ C267 ));
reconsider D88 = C269 as non  empty  directed (Subset of ( product ( C267 --> C268 ) ));
L627:
now
let C270 being (Element of C267);
L628: ( ( C267 --> C268 ) . C270 ) = C268 by FUNCOP_1:7;
L629: ( pi (D88 , C270) ) is  directed non  empty by L446;
thus L630:  ex_sup_of ( pi (C269 , C270) ) , ( ( C267 --> C268 ) . C270 ) by L629 , L628 , WAYBEL_0:75;
end;
thus L631:  ex_sup_of C269 , ( C268 |^ C267 ) by L627 , L375;
end;
thus L632: thesis by L626 , WAYBEL_0:75;
end;
registration
let C271 being  up-complete non  empty Poset;
let C272 being non  empty set;
cluster ( C271 |^ C272 ) ->  up-complete;
coherence by L625;
end;
begin
theorem
L634: (for B205 being non  empty TopSpace holds (for B206 being non  empty (SubSpace of B205) holds (for B207 being (Function of B205 , B206) holds (B207 is  being_a_retraction implies ( rng B207 ) = (the carrier of B206)))))
proof
let C273 being non  empty TopSpace;
let C274 being non  empty (SubSpace of C273);
let C275 being (Function of C273 , C274);
assume that
L635: (for B208 being (Point of C273) holds (B208 in (the carrier of C274) implies ( C275 . B208 ) = B208));
thus L636: ( rng C275 ) c= (the carrier of C274);
let C276 being set;
L637: ( [#] C274 ) = (the carrier of C274);
L638: ( [#] C273 ) = (the carrier of C273);
L639: (the carrier of C274) c= (the carrier of C273) by L638 , L637 , PRE_TOPC:def 4;
assume L640: C276 in (the carrier of C274);
L641: C276 in (the carrier of C273) by L640 , L639;
L642: C276 in ( dom C275 ) by L641 , FUNCT_2:def 1;
L643: ( C275 . C276 ) = C276 by L635 , L639 , L640;
thus L644: thesis by L643 , L642 , FUNCT_1:def 3;
end;
theorem
L645: (for B209 being non  empty TopSpace holds (for B210 being non  empty (SubSpace of B209) holds (for B211 being  continuous (Function of B209 , B210) holds (B211 is  being_a_retraction implies B211 is  idempotent))))
proof
let C277 being non  empty TopSpace;
let C278 being non  empty (SubSpace of C277);
L646: ( [#] C278 ) = (the carrier of C278);
let C279 being  continuous (Function of C277 , C278);
assume that
L647: C279 is  being_a_retraction;
L648: ( rng C279 ) = (the carrier of C278) by L647 , L634;
L649: ( dom C279 ) = (the carrier of C277) by FUNCT_2:def 1;
L650: ( [#] C277 ) = (the carrier of C277);
L651: (the carrier of C278) c= (the carrier of C277) by L650 , L646 , PRE_TOPC:def 4;
L652:
now
let C280 being set;
assume L653: C280 in (the carrier of C277);
L654: ( C279 . C280 ) in ( rng C279 ) by L653 , L649 , FUNCT_1:def 3;
L655: ( ( C279 * C279 ) . C280 ) = ( C279 . ( C279 . C280 ) ) by L649 , L653 , FUNCT_1:13;
thus L656: ( ( C279 * C279 ) . C280 ) = ( C279 . C280 ) by L655 , L647 , L651 , L648 , L654 , BORSUK_1:def 16;
end;
L657: ( dom ( C279 * C279 ) ) = (the carrier of C277) by L651 , L649 , L648 , RELAT_1:27;
L658: ( C279 * C279 ) = C279 by L657 , L649 , L652 , FUNCT_1:2;
thus L659: thesis by L658 , QUANTAL1:def 9;
end;
theorem
L660: (for B212 being non  empty TopSpace holds (for B213 being  open (Subset of B212) holds ( chi (B213 , (the carrier of B212)) ) is  continuous  continuous  continuous  continuous (Function of B212 , ( Sierpinski_Space ))))
proof
let C281 being non  empty TopSpace;
let C282 being  open (Subset of C281);
reconsider D89 = ( chi (C282 , (the carrier of C281)) ) as (Function of C281 , ( Sierpinski_Space )) by WAYBEL18:def 9;
L661: ( D89 " { ( 0 ) , 1 } ) = ( [#] C281 ) by FUNCT_2:40;
L662: D89 = ( chi (( D89 " { 1 } ) , (the carrier of C281)) ) by FUNCT_3:40;
L663: C282 = ( D89 " { 1 } ) by L662 , FUNCT_3:38;
L664: ( D89 " ( {} ) ) = ( {} C281 );
L665:
now
let C283 being (Subset of ( Sierpinski_Space ));
assume L666: C283 is  open;
L667: C283 in (the topology of ( Sierpinski_Space )) by L666 , PRE_TOPC:def 2;
L668: C283 in { ( {} ) , { 1 } , { ( 0 ) , 1 } } by L667 , WAYBEL18:def 9;
thus L669: ( D89 " C283 ) is  open by L668 , L663 , L664 , L661 , ENUMSET1:def 1;
end;
L670: ( [#] ( Sierpinski_Space ) ) <> ( {} );
thus L671: thesis by L670 , L665 , TOPS_2:43;
end;
theorem
L672: (for B214 being non  empty TopSpace holds (for B215 , B216 being (Element of B214) holds ((for B217 being  open (Subset of B214) holds (B216 in B217 implies B215 in B217)) implies ( (( 0 ) , 1) --> (B216 , B215) ) is  continuous  continuous  continuous  continuous (Function of ( Sierpinski_Space ) , B214))))
proof
let C284 being non  empty TopSpace;
let C285 , C286 being (Element of C284);
assume that
L673: (for B218 being  open (Subset of C284) holds (C286 in B218 implies C285 in B218));
L674: (the carrier of ( Sierpinski_Space )) = { ( 0 ) , 1 } by WAYBEL18:def 9;
reconsider D90 = ( (( 0 ) , 1) --> (C286 , C285) ) as (Function of ( Sierpinski_Space ) , C284) by L674;
L675: ( D90 . 1 ) = C285 by FUNCT_4:63;
L676: (not 1 in { ( 0 ) }) by TARSKI:def 1;
L677: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
L678: 1 in { ( 0 ) , 1 } by TARSKI:def 2;
L679: ( D90 . ( 0 ) ) = C286 by FUNCT_4:63;
L680:
now
let C287 being (Subset of C284);
assume L681: C287 is  open;
L682: ((C286 in C287 & C285 in C287) or ((not C286 in C287) & C285 in C287) or ((not C286 in C287) & (not C285 in C287))) by L681 , L673;
L683: (( D90 " C287 ) = ( {} ) or ( D90 " C287 ) = { ( 0 ) } or ( D90 " C287 ) = { 1 } or ( D90 " C287 ) = { ( 0 ) , 1 }) by L674 , ZFMISC_1:36;
L684: ( D90 " C287 ) in { ( {} ) , { 1 } , { ( 0 ) , 1 } } by L683 , L679 , L675 , L678 , L677 , L676 , L682 , ENUMSET1:def 1 , FUNCT_2:38;
L685: ( D90 " C287 ) in (the topology of ( Sierpinski_Space )) by L684 , WAYBEL18:def 9;
thus L686: ( D90 " C287 ) is  open by L685 , PRE_TOPC:def 2;
end;
L687: ( [#] C284 ) <> ( {} );
thus L688: thesis by L687 , L680 , TOPS_2:43;
end;
theorem
L689: (for B219 being non  empty TopSpace holds (for B220 , B221 being (Element of B219) holds (for B222 being  open (Subset of B219) holds ((B220 in B222 & (not B221 in B222)) implies ( ( chi (B222 , (the carrier of B219)) ) * ( (( 0 ) , 1) --> (B221 , B220) ) ) = ( id ( Sierpinski_Space ) )))))
proof
let C288 being non  empty TopSpace;
let C289 , C290 being (Element of C288);
let C291 being  open (Subset of C288);
assume that
L690: C289 in C291
and
L691: (not C290 in C291);
reconsider D91 = ( chi (C291 , (the carrier of C288)) ) as (Function of C288 , ( Sierpinski_Space )) by L660;
L692: ( D91 . C289 ) = 1 by L690 , FUNCT_3:def 3;
L693: (the carrier of ( Sierpinski_Space )) = { ( 0 ) , 1 } by WAYBEL18:def 9;
reconsider D92 = ( (( 0 ) , 1) --> (C290 , C289) ) as (Function of ( Sierpinski_Space ) , C288) by L693;
L694: ( D92 . 1 ) = C289 by FUNCT_4:63;
L695: ( D91 . C290 ) = ( 0 ) by L691 , FUNCT_3:def 3;
L696: ( D92 . ( 0 ) ) = C290 by FUNCT_4:63;
L697:
now
thus L698: ( D91 * D92 ) is (Function of ( Sierpinski_Space ) , ( Sierpinski_Space ));
let C292 being (Element of ( Sierpinski_Space ));
L699: (C292 = ( 0 ) or C292 = 1) by L693 , TARSKI:def 2;
thus L700: ( ( D91 * D92 ) . C292 ) = C292 by L699 , L696 , L694 , L692 , L695 , FUNCT_2:15
.= ( ( id ( Sierpinski_Space ) ) . C292 ) by FUNCT_1:18;
end;
thus L701: thesis by L697 , FUNCT_2:63;
end;
theorem
L702: (for B223 being non  empty 1-sorted holds (for B224 , B225 being (Subset of B223) holds (for B226 being (TopAugmentation of ( BoolePoset 1 )) holds (for B227 , B228 being (Function of B223 , B226) holds ((B227 = ( chi (B224 , (the carrier of B223)) ) & B228 = ( chi (B225 , (the carrier of B223)) )) implies (B224 c= B225 iff B227 <= B228))))))
proof
let C293 being non  empty 1-sorted;
let C294 , C295 being (Subset of C293);
let C296 being (TopAugmentation of ( BoolePoset 1 ));
let C297 , C298 being (Function of C293 , C296);
assume that
L703: C297 = ( chi (C294 , (the carrier of C293)) )
and
L704: C298 = ( chi (C295 , (the carrier of C293)) );
L705: ( the RelStr of C296 ) = ( BoolePoset 1 ) by YELLOW_9:def 4;
thus L706:now
assume L707: C294 c= C295;
L708:
now
let C299 being set;
assume L709: C299 in (the carrier of C293);
reconsider D93 = C299 as (Element of C293) by L709;
reconsider D94 = ( C297 . D93 ) , D95 = ( C298 . D93 ) as (Element of ( BoolePoset 1 )) by L705;
L710: ((D93 in C294 & D93 in C295) or (not D93 in C294)) by L707;
L711: ((( C297 . D93 ) = 1 & ( C298 . D93 ) = 1) or ( C297 . D93 ) = ( 0 )) by L710 , L703 , L704 , FUNCT_3:def 3;
L712: ( C297 . D93 ) c= ( C298 . D93 ) by L711 , XBOOLE_1:2;
L713: D94 <= D95 by L712 , YELLOW_1:2;
thus L714: (ex B229 , B230 being (Element of C296) st (B229 = ( C297 . C299 ) & B230 = ( C298 . C299 ) & B229 <= B230)) by L713 , L705 , YELLOW_0:1;
end;
thus L715: C297 <= C298 by L708 , YELLOW_2:def 1;
end;
assume L716: C297 <= C298;
let C300 being set;
assume that
L717: C300 in C294
and
L718: (not C300 in C295);
reconsider D96 = C300 as (Element of C293) by L717;
L719: ( C298 . D96 ) = ( 0 ) by L704 , L718 , FUNCT_3:def 3;
L720: ( 0 ) c= 1 by XBOOLE_1:2;
reconsider D97 = ( C297 . D96 ) , D98 = ( C298 . D96 ) as (Element of ( BoolePoset 1 )) by L705;
L721: (ex B231 , B232 being (Element of C296) st (B231 = ( C297 . D96 ) & B232 = ( C298 . D96 ) & B231 <= B232)) by L716 , YELLOW_2:def 1;
L722: D97 <= D98 by L721 , L705 , YELLOW_0:1;
L723: ( C297 . D96 ) = 1 by L703 , L717 , FUNCT_3:def 3;
L724: 1 c= ( 0 ) by L723 , L719 , L722 , YELLOW_1:2;
thus L725: thesis by L724 , L720 , XBOOLE_0:def 10;
end;
theorem
L726: (for B233 being non  empty RelStr holds (for B234 being non  empty set holds (for B235 being  full non  empty (SubRelStr of ( B233 |^ B234 )) holds ((for B236 being set holds (B236 is (Element of B235) iff (ex B237 being (Element of B233) st B236 = ( B234 --> B237 )))) implies B233 , B235 are_isomorphic ))))
proof
let C301 being non  empty RelStr;
let C302 being non  empty set;
deffunc H3(set) = ( C302 --> $1 );
consider C303 being (ManySortedSet of (the carrier of C301)) such that L727: (for B238 being (Element of C301) holds ( C303 . B238 ) = H3(B238)) from PBOOLE:sch 5;
let C304 being  full non  empty (SubRelStr of ( C301 |^ C302 ));
assume that
L728: (for B239 being set holds (B239 is (Element of C304) iff (ex B240 being (Element of C301) st B239 = ( C302 --> B240 ))));
L729: ( rng C303 ) c= (the carrier of C304)
proof
let C305 being set;
assume L730: C305 in ( rng C303 );
consider C306 being set such that L731: C306 in ( dom C303 ) and L732: C305 = ( C303 . C306 ) by L730 , FUNCT_1:def 3;
reconsider D99 = C306 as (Element of C301) by L731;
L733: C305 = ( C302 --> D99 ) by L727 , L732;
L734: C305 is (Element of C304) by L733 , L728;
thus L735: thesis by L734;
end;
L736: ( dom C303 ) = (the carrier of C301) by PARTFUN1:def 2;
reconsider D100 = C303 as (Function of C301 , C304) by L736 , L729 , FUNCT_2:2;
L737: D100 is  one-to-one
proof
let C307 , C308 being (Element of C301);
L738: ( D100 . C308 ) = ( C302 --> C308 ) by L727;
L739: ( D100 . C308 ) = [: C302 , { C308 } :] by L738 , FUNCOP_1:def 2;
L740: ( D100 . C307 ) = ( C302 --> C307 ) by L727;
L741: ( D100 . C307 ) = [: C302 , { C307 } :] by L740 , FUNCOP_1:def 2;
L742: (( D100 . C307 ) = ( D100 . C308 ) implies { C307 } = { C308 }) by L741 , L739 , ZFMISC_1:110;
thus L743: thesis by L742 , ZFMISC_1:3;
end;
L744:
now
set D101 = the (Element of C302);
let C309 , C310 being (Element of C301);
reconsider D102 = ( D100 . C309 ) , D103 = ( D100 . C310 ) as (Element of ( C301 |^ C302 )) by YELLOW_0:58;
reconsider D104 = ( C302 --> C309 ) , D105 = ( C302 --> C310 ) as (Function of C302 , C301);
reconsider D106 = D102 , D107 = D103 as (Element of ( product ( C302 --> C301 ) ));
L745: ( ( C302 --> C301 ) . D101 ) = C301 by FUNCOP_1:7;
L746: ( D100 . C310 ) = ( C302 --> C310 ) by L727;
L747: ( D100 . C309 ) = ( C302 --> C309 ) by L727;
thus L748:now
assume L749: C309 <= C310;
L750: D104 <= D105
proof
let C311 being set;
assume L751: C311 in C302;
L752: ( ( C302 --> C310 ) . C311 ) = C310 by L751 , FUNCOP_1:7;
L753: ( ( C302 --> C309 ) . C311 ) = C309 by L751 , FUNCOP_1:7;
thus L754: thesis by L753 , L749 , L752;
end;
L755: D102 <= D103 by L750 , L747 , L746 , WAYBEL10:11;
thus L756: ( D100 . C309 ) <= ( D100 . C310 ) by L755 , YELLOW_0:60;
end;
assume L757: ( D100 . C309 ) <= ( D100 . C310 );
L758: D102 <= D103 by L757 , YELLOW_0:59;
L759: ( D106 . D101 ) <= ( D107 . D101 ) by L758 , WAYBEL_3:28;
L760: C309 <= ( D105 . D101 ) by L759 , L747 , L746 , L745 , FUNCOP_1:7;
thus L761: C309 <= C310 by L760 , FUNCOP_1:7;
end;
take D100;
L762: ( rng D100 ) = (the carrier of C304)
proof
thus L763: ( rng D100 ) c= (the carrier of C304);
let C312 being set;
assume L764: C312 in (the carrier of C304);
reconsider D108 = C312 as (Element of C304) by L764;
consider C313 being (Element of C301) such that L765: D108 = ( C302 --> C313 ) by L728;
L766: D108 = ( D100 . C313 ) by L727 , L765;
thus L767: thesis by L766 , L736 , FUNCT_1:def 3;
end;
thus L768: thesis by L762 , L737 , L744 , WAYBEL_0:66;
end;
theorem
L769: (for B241 , B242 being non  empty TopSpace holds (B241 , B242 are_homeomorphic  iff (ex B243 being  continuous (Function of B241 , B242) st (ex B244 being  continuous (Function of B242 , B241) st (( B243 * B244 ) = ( id B242 ) & ( B244 * B243 ) = ( id B241 ))))))
proof
let C314 , C315 being non  empty TopSpace;
thus L770:now
assume L771: C314 , C315 are_homeomorphic ;
consider C316 being (Function of C314 , C315) such that L772: C316 is  being_homeomorphism by L771 , T_0TOPSP:def 1;
reconsider D109 = C316 as  continuous (Function of C314 , C315) by L772 , TOPS_2:def 5;
L773: ( rng D109 ) = ( [#] C315 ) by L772 , TOPS_2:def 5;
reconsider D110 = ( D109 " ) as  continuous (Function of C315 , C314) by L772 , TOPS_2:def 5;
take D111 = D109;
take D112 = D110;
L774: ( dom D111 ) = ( [#] C314 ) by L772 , TOPS_2:def 5;
L775: D111 is  one-to-one by L772 , TOPS_2:def 5;
thus L776: (( D111 * D112 ) = ( id C315 ) & ( D112 * D111 ) = ( id C314 )) by L775 , L773 , L774 , TOPS_2:52;
end;
given C317 being  continuous (Function of C314 , C315) , C318 being  continuous (Function of C315 , C314) such that
L777: ( C317 * C318 ) = ( id C315 )
and
L778: ( C318 * C317 ) = ( id C314 );

L779: C317 is  onto by L777 , FUNCT_2:23;
L780: ( rng C317 ) = ( [#] C315 ) by L779 , FUNCT_2:def 3;
take C317;
L781: ( dom C317 ) = ( [#] C314 ) by FUNCT_2:def 1;
L782: C317 is  one-to-one by L778 , FUNCT_2:23;
L783: C318 = ( (C317 qua Function) " ) by L782 , L778 , L780 , FUNCT_2:30
.= ( C317 " ) by L779 , L782 , TOPS_2:def 4;
thus L784: thesis by L783 , L782 , L780 , L781 , TOPS_2:def 5;
end;
theorem
L785: (for B245 , B246 , B247 being non  empty TopSpace holds (for B248 being (Function of B245 , B246) holds (for B249 being (Function of B246 , B245) holds (for B250 being (Function of B246 , B247) holds ((( B248 * B249 ) = ( id B246 ) & B250 is  being_homeomorphism) implies ( ( B250 * B248 ) * ( B249 * ( B250 " ) ) ) = ( id B247 ))))))
proof
let C319 , C320 , C321 being non  empty TopSpace;
let C322 being (Function of C319 , C320);
let C323 being (Function of C320 , C319);
let C324 being (Function of C320 , C321);
assume that
L786: ( C322 * C323 ) = ( id C320 )
and
L787: C324 is  being_homeomorphism;
L788: C324 is  one-to-one by L787 , TOPS_2:def 5;
L789: ( rng C324 ) = ( [#] C321 ) by L787 , TOPS_2:def 5;
thus L790: ( ( C324 * C322 ) * ( C323 * ( C324 " ) ) ) = ( ( ( C324 * C322 ) * C323 ) * ( C324 " ) ) by RELAT_1:36
.= ( ( C324 * ( id (the carrier of C320) ) ) * ( C324 " ) ) by L786 , RELAT_1:36
.= ( C324 * ( C324 " ) ) by FUNCT_2:17
.= ( id C321 ) by L788 , L789 , TOPS_2:52;
end;
theorem
L791: (for B251 , B252 , B253 being non  empty TopSpace holds ((B252 is_Retract_of B251 & B252 , B253 are_homeomorphic ) implies B253 is_Retract_of B251))
proof
let C325 , C326 , C327 being non  empty TopSpace;
given C328 being  continuous (Function of C326 , C325) , C329 being  continuous (Function of C325 , C326) such that
L792: ( C329 * C328 ) = ( id C326 );

given C330 being (Function of C326 , C327) such that
L793: C330 is  being_homeomorphism;

L794: ( C330 " ) is  continuous by L793 , TOPS_2:def 5;
reconsider D113 = ( C328 * ( C330 " ) ) as  continuous (Function of C327 , C325) by L794;
L795: C330 is  continuous by L793 , TOPS_2:def 5;
reconsider D114 = ( C330 * C329 ) as  continuous (Function of C325 , C327) by L795;
take D113;
take D114;
thus L796: thesis by L792 , L793 , L785;
end;
theorem
L797: (for B254 being non  empty TopSpace holds (for B255 being non  empty (SubSpace of B254) holds ( incl (B255 , B254) ) is  continuous))
proof
let C331 being non  empty TopSpace;
let C332 being non  empty (SubSpace of C331);
L798: ( incl (C332 , C331) ) = ( id C332 ) by BORSUK_1:1 , YELLOW_9:def 1;
thus L799: thesis by L798 , PRE_TOPC:26;
end;
theorem
L800: (for B256 being non  empty TopSpace holds (for B257 being non  empty (SubSpace of B256) holds (for B258 being  continuous (Function of B256 , B257) holds (B258 is  being_a_retraction implies ( B258 * ( incl (B257 , B256) ) ) = ( id B257 )))))
proof
let C333 being non  empty TopSpace;
let C334 being non  empty (SubSpace of C333);
let C335 being  continuous (Function of C333 , C334);
assume that
L801: C335 is  being_a_retraction;
L802: ( [#] C334 ) = (the carrier of C334);
L803: ( [#] C333 ) = (the carrier of C333);
L804: (the carrier of C334) c= (the carrier of C333) by L803 , L802 , PRE_TOPC:def 4;
L805: ( incl (C334 , C333) ) = ( id (the carrier of C334) ) by L804 , YELLOW_9:def 1;
L806:
now
let C336 being (Element of C334);
L807: C336 in (the carrier of C334);
reconsider D115 = C336 as (Point of C333) by L807 , L804;
thus L808: ( ( C335 * ( incl (C334 , C333) ) ) . C336 ) = ( C335 . ( ( incl (C334 , C333) ) . C336 ) ) by FUNCT_2:15
.= ( C335 . C336 ) by L805 , FUNCT_1:18
.= D115 by L801 , BORSUK_1:def 16
.= ( ( id C334 ) . C336 ) by FUNCT_1:18;
end;
thus L809: thesis by L806 , FUNCT_2:63;
end;
theorem
L810: (for B259 being non  empty TopSpace holds (for B260 being non  empty (SubSpace of B259) holds (B260 is_a_retract_of B259 implies B260 is_Retract_of B259)))
proof
let C337 being non  empty TopSpace;
let C338 being non  empty (SubSpace of C337);
reconsider D116 = ( incl (C338 , C337) ) as  continuous (Function of C338 , C337) by L797;
given C339 being  continuous (Function of C337 , C338) such that
L811: C339 is  being_a_retraction;

take D116;
take C339;
thus L812: thesis by L811 , L800;
end;
theorem
L813: (for B261 , B262 being non  empty TopSpace holds (B261 is_Retract_of B262 iff (ex B263 being non  empty (SubSpace of B262) st (B263 is_a_retract_of B262 & B263 , B261 are_homeomorphic ))))
proof
let C340 , C341 being non  empty TopSpace;
thus L814:now
assume L815: C340 is_Retract_of C341;
consider C342 being (Function of C341 , C341) such that L816: C342 is  continuous and L817: ( C342 * C342 ) = C342 and L818: ( Image C342 ) , C340 are_homeomorphic  by L815 , WAYBEL18:def 8;
reconsider D117 = ( Image C342 ) as non  empty (SubSpace of C341);
L819: C342 = ( corestr C342 ) by WAYBEL18:def 7;
reconsider D118 = C342 as  continuous (Function of C341 , D117) by L819 , L816 , WAYBEL18:10;
take D119 = D117;
L820: ( [#] C341 ) = (the carrier of C341);
L821: ( [#] D119 ) = (the carrier of D119);
L822: (the carrier of D119) c= (the carrier of C341) by L821 , L820 , PRE_TOPC:def 4;
reconsider D120 = ( rng D118 ) as (Subset of C341) by L822 , XBOOLE_1:1;
L823:
now
let C343 being (Point of C341);
assume L824: C343 in (the carrier of D119);
L825: C343 in ( [#] ( C341 | D120 ) ) by L824 , WAYBEL18:def 6;
L826: C343 in ( rng D118 ) by L825 , PRE_TOPC:def 5;
L827: (ex B264 being set st (B264 in ( dom D118 ) & C343 = ( D118 . B264 ))) by L826 , FUNCT_1:def 3;
thus L828: ( D118 . C343 ) = C343 by L827 , L817 , FUNCT_1:13;
end;
L829: D118 is  being_a_retraction by L823 , BORSUK_1:def 16;
thus L830: (D119 is_a_retract_of C341 & D119 , C340 are_homeomorphic ) by L829 , L818 , BORSUK_1:def 17;
end;
given C344 being non  empty (SubSpace of C341) such that
L831: C344 is_a_retract_of C341
and
L832: C344 , C340 are_homeomorphic ;

thus L833: thesis by L831 , L832 , L791 , L810;
end;
