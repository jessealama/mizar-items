:: Go-Board Theorem
::  by Jaros{\l}aw Kotowicz and Yatsuka Nakamura
::
:: Received August 24, 1992
:: Copyright (c) 1992-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, PRE_TOPC, EUCLID, SUBSET_1, FINSEQ_1, GOBOARD1,
      XXREAL_0, PARTFUN1, RELAT_1, INCSP_1, MATRIX_1, TREES_1, XBOOLE_0,
      CARD_1, ARYTM_3, NAT_1, TARSKI, FUNCT_1, ARYTM_1, ZFMISC_1, COMPLEX1,
      MATRIX_2, ORDINAL4, TOPREAL1, REAL_1, XXREAL_1, GOBOARD2, MCART_1,
      TOPREAL4, GOBOARD4;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, REAL_1, COMPLEX1,
      ORDINAL1, NAT_1, RELAT_1, FUNCT_1, PARTFUN1, FINSEQ_1, SEQ_1, STRUCT_0,
      PRE_TOPC, MATRIX_1, EUCLID, TOPREAL1, TOPREAL4, GOBOARD1, GOBOARD2,
      XXREAL_0, XXREAL_1;
 constructors XXREAL_1, COMPLEX1, FINSEQ_3, TOPREAL1, TOPREAL4, GOBOARD2,
      SEQ_1, GOBOARD1, RELSET_1, REAL_1;
 registrations XBOOLE_0, ORDINAL1, RELSET_1, NUMBERS, XREAL_0, MEMBERED,
      FINSEQ_1, STRUCT_0, EUCLID, GOBOARD2, VALUED_0, CARD_1;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI;
 theorems TARSKI, NAT_1, ZFMISC_1, FINSEQ_1, ABSVALUE, FINSEQ_2, MATRIX_1,
      TOPREAL1, TOPREAL4, GOBOARD1, GOBOARD2, FINSEQ_3, FINSEQ_4, FUNCT_1,
      PARTFUN2, INT_1, XBOOLE_0, XBOOLE_1, XREAL_1, COMPLEX1, XXREAL_0,
      XXREAL_1, ORDINAL1, PARTFUN1, SEQM_3, SEQ_4;
 schemes NAT_1, FINSEQ_4;

begin
theorem
L1: (for R18 being Go-board holds (for R9 being (FinSequence of ( TOP-REAL 2 )) holds (for R10 being (FinSequence of ( TOP-REAL 2 )) holds ((1 <= ( len R9 ) & 1 <= ( len R10 ) & R9 is_sequence_on R18 & R10 is_sequence_on R18 & ( R9 /. 1 ) in ( rng ( Line (R18 , 1) ) ) & ( R9 /. ( len R9 ) ) in ( rng ( Line (R18 , ( len R18 )) ) ) & ( R10 /. 1 ) in ( rng ( Col (R18 , 1) ) ) & ( R10 /. ( len R10 ) ) in ( rng ( Col (R18 , ( width R18 )) ) )) implies ( rng R9 ) meets ( rng R10 )))))
proof
defpred S1[ (Element of ( NAT )) ] means (for R19 being Go-board holds (for R11 being (FinSequence of ( TOP-REAL 2 )) holds (for R12 being (FinSequence of ( TOP-REAL 2 )) holds (($1 = ( width R19 ) & $1 > ( 0 ) & 1 <= ( len R11 ) & 1 <= ( len R12 ) & R11 is_sequence_on R19 & R12 is_sequence_on R19 & ( R11 /. 1 ) in ( rng ( Line (R19 , 1) ) ) & ( R11 /. ( len R11 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) & ( R12 /. 1 ) in ( rng ( Col (R19 , 1) ) ) & ( R12 /. ( len R12 ) ) in ( rng ( Col (R19 , ( width R19 )) ) )) implies ( ( rng R11 ) /\ ( rng R12 ) ) <> ( {} )))));
let R18 being Go-board;
let R9 being (FinSequence of ( TOP-REAL 2 ));
let R10 being (FinSequence of ( TOP-REAL 2 ));
L2: (for R17 being (Element of ( NAT )) holds (S1[ R17 ] implies S1[ ( R17 + 1 ) ]))
proof
let R17 being (Element of ( NAT ));
assume that
L3: S1[ R17 ];
let R19 being Go-board;
let R11 being (FinSequence of ( TOP-REAL 2 ));
let R12 being (FinSequence of ( TOP-REAL 2 ));
assume that
L4: ( R17 + 1 ) = ( width R19 )
and
L5: ( R17 + 1 ) > ( 0 )
and
L6: 1 <= ( len R11 )
and
L7: 1 <= ( len R12 )
and
L8: R11 is_sequence_on R19
and
L9: R12 is_sequence_on R19
and
L10: ( R11 /. 1 ) in ( rng ( Line (R19 , 1) ) )
and
L11: ( R11 /. ( len R11 ) ) in ( rng ( Line (R19 , ( len R19 )) ) )
and
L12: ( R12 /. 1 ) in ( rng ( Col (R19 , 1) ) )
and
L13: ( R12 /. ( len R12 ) ) in ( rng ( Col (R19 , ( width R19 )) ) );
defpred S2[ Nat ] means ($1 in ( dom R12 ) & ( R12 /. $1 ) in ( rng ( Col (R19 , ( width R19 )) ) ));
L14: (ex B1 being Nat st S2[ B1 ])
proof
take D1 = ( len R12 );
thus L15: D1 in ( dom R12 ) by L7 , FINSEQ_3:25;
thus L16: thesis by L13;
end;
consider C1 being Nat such that L17: (S2[ C1 ] & (for B2 being Nat holds (S2[ B2 ] implies C1 <= B2))) from NAT_1:sch 5(L14);
reconsider D2 = C1 as (Element of ( NAT )) by ORDINAL1:def 12;
set D3 = ( R12 | D2 );
L18: ( D3 /. 1 ) in ( rng ( Col (R19 , 1) ) ) by L12 , L17 , GOBOARD1:6;
L19: D3 is_sequence_on R19 by L9 , GOBOARD1:22;
L20: D2 <= ( len R12 ) by L17 , FINSEQ_3:25;
L21: ( len D3 ) = D2 by L20 , FINSEQ_1:59;
L22: ( rng D3 ) c= ( rng R12 )
proof
let R20 being set;
assume L23: R20 in ( rng D3 );
consider R13 being (Element of ( NAT )) such that L24: R13 in ( dom D3 ) and L25: R20 = ( D3 /. R13 ) by L23 , PARTFUN2:2;
L26: R13 in ( Seg D2 ) by L21 , L24 , FINSEQ_1:def 3;
L27: R13 in ( dom R12 ) by L26 , L17 , FINSEQ_4:71;
L28: R20 = ( R12 /. R13 ) by L17 , L25 , L26 , FINSEQ_4:71;
thus L29: thesis by L28 , L27 , PARTFUN2:2;
end;
reconsider D4 = ( Line (R19 , 1) ) , D5 = ( Line (R19 , ( len R19 )) ) as (FinSequence of ( TOP-REAL 2 ));
L30: ( dom R12 ) = ( Seg ( len R12 ) ) by FINSEQ_1:def 3;
L31: ( dom D3 ) = ( Seg ( len D3 ) ) by FINSEQ_1:def 3;
L32: ( 0 ) <> ( len R19 ) by GOBOARD1:def 3;
L33: ( ( 0 ) + 1 ) <= ( len R19 ) by L32 , NAT_1:14;
L34: 1 in ( dom R19 ) by L33 , FINSEQ_3:25;
L35: ( len R19 ) in ( dom R19 ) by L33 , FINSEQ_3:25;
L36: ( D3 /. ( len D3 ) ) in ( rng ( Col (R19 , ( width R19 )) ) ) by L17 , GOBOARD1:7;
defpred S3[ Nat ] means ($1 in ( dom R19 ) & ( ( rng D3 ) /\ ( rng ( Line (R19 , $1) ) ) ) <> ( {} ));
L37: (for B3 being Nat holds (S3[ B3 ] implies B3 <= ( len R19 ))) by FINSEQ_3:25;
L38: ( 0 ) <> ( width R19 ) by GOBOARD1:def 3;
L39: ( ( 0 ) + 1 ) <= ( width R19 ) by L38 , NAT_1:14;
L40: 1 in ( Seg ( width R19 ) ) by L39 , FINSEQ_1:1;
L41: 1 <= ( len D3 ) by L17 , GOBOARD1:22;
L42: 1 in ( dom D3 ) by L41 , FINSEQ_3:25;
L43: (ex B4 being Nat st S3[ B4 ])
proof
consider C2 being Nat such that L44: C2 in ( dom ( Col (R19 , 1) ) ) and L45: ( D3 /. 1 ) = ( ( Col (R19 , 1) ) . C2 ) by L12 , L17 , FINSEQ_2:10 , GOBOARD1:6;
reconsider D6 = C2 as (Element of ( NAT )) by ORDINAL1:def 12;
take D6;
L46: D6 in ( Seg ( len ( Col (R19 , 1) ) ) ) by L44 , FINSEQ_1:def 3;
L47: D6 in ( Seg ( len R19 ) ) by L46 , MATRIX_1:def 8;
thus L48: D6 in ( dom R19 ) by L47 , FINSEQ_1:def 3;
L49: ( D3 /. 1 ) = ( ( Line (R19 , D6) ) . 1 ) by L48 , L40 , L45 , GOBOARD1:2;
L50: ( D3 /. 1 ) in ( rng D3 ) by L42 , PARTFUN2:2;
L51: ( len ( Line (R19 , D6) ) ) = ( width R19 ) by MATRIX_1:def 7;
L52: ( dom ( Line (R19 , D6) ) ) = ( Seg ( width R19 ) ) by L51 , FINSEQ_1:def 3;
L53: ( D3 /. 1 ) in ( rng ( Line (R19 , D6) ) ) by L52 , L40 , L49 , FUNCT_1:def 3;
thus L54: thesis by L53 , L50 , XBOOLE_0:def 4;
end;
consider C3 being Nat such that L55: (S3[ C3 ] & (for B5 being Nat holds (S3[ B5 ] implies C3 <= B5))) from NAT_1:sch 5(L43);
L56: (ex B6 being Nat st S3[ B6 ]) by L43;
consider C4 being Nat such that L57: (S3[ C4 ] & (for B7 being Nat holds (S3[ B7 ] implies B7 <= C4))) from NAT_1:sch 6(L37 , L56);
reconsider D7 = C3 , D8 = C4 as (Element of ( NAT )) by ORDINAL1:def 12;
L58: 1 <= D7 by L55 , FINSEQ_3:25;
reconsider D9 = ( Line (R19 , D7) ) as (FinSequence of ( TOP-REAL 2 ));
defpred S4[ Nat ] means ($1 in ( dom R11 ) & ( R11 /. $1 ) in ( rng ( Line (R19 , D7) ) ));
L59: (for B8 being Nat holds (S4[ B8 ] implies B8 <= ( len R11 ))) by FINSEQ_3:25;
L60: D7 <= ( len R19 ) by L55 , FINSEQ_3:25;
L61: (ex R13 being (Element of ( NAT )) st S4[ R13 ]) by L60 , L6 , L8 , L10 , L11 , L58 , GOBOARD1:29;
L62: (ex B9 being Nat st S4[ B9 ]) by L61;
consider C5 being Nat such that L63: (S4[ C5 ] & (for B10 being Nat holds (S4[ B10 ] implies B10 <= C5))) from NAT_1:sch 6(L59 , L62);
L64: D8 <= ( len R19 ) by L57 , FINSEQ_3:25;
L65: 1 <= D7 by L55 , FINSEQ_3:25;
reconsider D10 = ( D7 - 1 ) , D11 = ( ( len R19 ) - D8 ) as (Element of ( NAT )) by L65 , L64 , INT_1:5;
L66: D8 <= ( len R19 ) by L57 , FINSEQ_3:25;
L67: (for R13 being (Element of ( NAT )) holds (S4[ R13 ] implies R13 <= C5)) by L63;
reconsider D12 = C5 as (Element of ( NAT )) by ORDINAL1:def 12;
consider C6 being (Element of ( NAT )) such that L68: C6 in ( dom D9 ) and L69: ( R11 /. D12 ) = ( D9 /. C6 ) by L63 , PARTFUN2:2;
L70: ( Seg ( len D9 ) ) = ( dom D9 ) by FINSEQ_1:def 3;
L71: C6 in ( Seg ( width R19 ) ) by L70 , L68 , MATRIX_1:def 7;
L72: ( dom R19 ) = ( Seg ( len R19 ) ) by FINSEQ_1:def 3;
L73: (D7 = D8 implies ( ( rng R11 ) /\ ( rng R12 ) ) <> ( {} ))
proof
consider R13 being (Element of ( NAT )) such that L74: R13 in ( dom R11 ) and L75: ( R11 /. R13 ) in ( rng ( Line (R19 , D7) ) ) by L6 , L8 , L10 , L11 , L58 , L60 , GOBOARD1:29;
consider R15 being (Element of ( NAT )) such that L76: R15 in ( dom ( Line (R19 , D7) ) ) and L77: ( R11 /. R13 ) = ( D9 /. R15 ) by L75 , PARTFUN2:2;
L78: 1 <= R15 by L76 , FINSEQ_3:25;
L79: ( len ( Line (R19 , D7) ) ) = ( width R19 ) by MATRIX_1:def 7;
L80: R15 <= ( width R19 ) by L79 , L76 , FINSEQ_3:25;
consider R14 being (Element of ( NAT )) such that L81: R14 in ( dom D3 ) and L82: ( D3 /. R14 ) in ( rng ( Col (R19 , R15) ) ) by L80 , L41 , L19 , L18 , L36 , L78 , GOBOARD1:33;
L83: ( D3 /. R14 ) in ( rng D3 ) by L81 , PARTFUN2:2;
reconsider D13 = ( Col (R19 , R15) ) as (FinSequence of ( TOP-REAL 2 ));
L84: ( len ( Col (R19 , R15) ) ) = ( len R19 ) by MATRIX_1:def 8;
L85: ( dom ( Col (R19 , R15) ) ) = ( Seg ( len R19 ) ) by L84 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
assume L86: D7 = D8;
L87: ( dom ( Line (R19 , D7) ) ) = ( Seg ( len ( Line (R19 , D7) ) ) ) by FINSEQ_1:def 3;
consider R16 being (Element of ( NAT )) such that L88: R16 in ( dom D13 ) and L89: ( D3 /. R14 ) = ( D13 /. R16 ) by L82 , PARTFUN2:2;
reconsider D14 = ( Line (R19 , R16) ) as (FinSequence of ( TOP-REAL 2 ));
L90: ( len ( Line (R19 , D7) ) ) = ( width R19 ) by MATRIX_1:def 7
.= ( len D14 ) by MATRIX_1:def 7;
L91: ( dom ( Line (R19 , D7) ) ) = ( dom D14 ) by L90 , L87 , FINSEQ_1:def 3;
L92: ( D3 /. R14 ) = ( D13 . R16 ) by L88 , L89 , PARTFUN1:def 6
.= ( D14 . R15 ) by L76 , L87 , L79 , L85 , L88 , GOBOARD1:2
.= ( D14 /. R15 ) by L76 , L91 , PARTFUN1:def 6;
L93: ( len D14 ) = ( width R19 ) by MATRIX_1:def 7;
L94: R15 in ( dom D14 ) by L93 , L76 , L87 , L79 , FINSEQ_1:def 3;
L95: ( D3 /. R14 ) in ( rng D14 ) by L94 , L92 , PARTFUN2:2;
L96: (( dom D13 ) = ( Seg ( len D13 ) ) & ( ( rng D3 ) /\ ( rng ( Line (R19 , R16) ) ) ) <> ( {} )) by L95 , L83 , FINSEQ_1:def 3 , XBOOLE_0:def 4;
L97:
now
assume L98: R16 <> D7;
L99: (R16 < D7 or R16 > D7) by L98 , XXREAL_0:1;
thus L100: contradiction by L99 , L55 , L72 , L57 , L86 , L84 , L88 , L96;
end;
L101: ( R11 /. R13 ) in ( rng R11 ) by L74 , PARTFUN2:2;
thus L102: thesis by L101 , L22 , L77 , L83 , L92 , L97 , XBOOLE_0:def 4;
end;
L103: ( width R19 ) in ( Seg ( width R19 ) ) by L39 , FINSEQ_1:1;
deffunc H1(Nat) = ( R19 * ($1 , C6) );
reconsider D15 = ( Col (R19 , C6) ) as (FinSequence of ( TOP-REAL 2 ));
consider C7 being (FinSequence of ( TOP-REAL 2 )) such that L104: (( len C7 ) = D10 & (for B11 being Nat holds (B11 in ( dom C7 ) implies ( C7 /. B11 ) = H1(B11)))) from FINSEQ_4:sch 2;
L105: ( dom R11 ) = ( Seg ( len R11 ) ) by FINSEQ_1:def 3;
L106:
now
per cases ;
suppose L107: R17 = ( 0 );

reconsider D16 = ( Col (R19 , 1) ) as (FinSequence of ( TOP-REAL 2 ));
consider C8 being (Element of ( NAT )) such that L108: C8 in ( dom D16 ) and L109: ( R12 /. 1 ) = ( D16 /. C8 ) by L12 , PARTFUN2:2;
reconsider D17 = ( Line (R19 , C8) ) as (FinSequence of ( TOP-REAL 2 ));
L110: 1 <= C8 by L108 , FINSEQ_3:25;
L111: ( len D16 ) = ( len R19 ) by MATRIX_1:def 8;
L112: C8 <= ( len R19 ) by L111 , L108 , FINSEQ_3:25;
consider R14 being (Element of ( NAT )) such that L113: R14 in ( dom R11 ) and L114: ( R11 /. R14 ) in ( rng D17 ) by L112 , L6 , L8 , L10 , L11 , L110 , GOBOARD1:29;
L115: ( R11 /. R14 ) in ( rng R11 ) by L113 , PARTFUN2:2;
L116: ( Seg ( len D16 ) ) = ( dom D16 ) by FINSEQ_1:def 3;
L117: C8 in ( dom R19 ) by L116 , L108 , L111 , FINSEQ_1:def 3;
L118: ( D16 /. C8 ) = ( D16 . C8 ) by L108 , PARTFUN1:def 6;
consider C9 being (Element of ( NAT )) such that L119: C9 in ( dom D17 ) and L120: ( D17 /. C9 ) = ( R11 /. R14 ) by L114 , PARTFUN2:2;
L121: (( Seg ( len D17 ) ) = ( dom D17 ) & ( len D17 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L122: C9 = 1 by L121 , L4 , L107 , L119 , FINSEQ_1:2 , TARSKI:def 1;
L123: ( 0 ) <> ( width R19 ) by GOBOARD1:def 3;
L124: ( ( 0 ) + 1 ) <= ( width R19 ) by L123 , NAT_1:14;
L125: 1 in ( Seg ( width R19 ) ) by L124 , FINSEQ_1:1;
L126: 1 in ( dom R12 ) by L7 , FINSEQ_3:25;
L127: ( R12 /. 1 ) in ( rng R12 ) by L126 , PARTFUN2:2;
L128: ( D17 /. C9 ) = ( D17 . C9 ) by L119 , PARTFUN1:def 6;
L129: ( R11 /. R14 ) = ( R12 /. 1 ) by L128 , L109 , L125 , L117 , L120 , L118 , L122 , GOBOARD1:2;
thus L130: thesis by L129 , L115 , L127 , XBOOLE_0:def 4;
end;
suppose L131: R17 <> ( 0 );

L132: ( 0 ) < R17 by L131 , NAT_1:3;
L133:
now
per cases ;
suppose L134: D7 = D8;

thus L135: thesis by L134 , L73;
end;
suppose L136: D7 <> D8;

L137: 1 <= D12 by L63 , FINSEQ_3:25;
reconsider D18 = ( D12 - 1 ) as (Element of ( NAT )) by L137 , INT_1:5;
reconsider D19 = ( Line (R19 , D8) ) as (FinSequence of ( TOP-REAL 2 ));
L138: ( Indices R19 ) = [: ( dom R19 ) , ( Seg ( width R19 ) ) :] by MATRIX_1:def 4;
L139:
now
let R13 being (Element of ( NAT ));
L140: D10 <= D7 by XREAL_1:43;
assume L141: R13 in ( dom C7 );
L142: 1 <= R13 by L141 , FINSEQ_3:25;
L143: R13 <= D10 by L104 , L141 , FINSEQ_3:25;
L144: R13 <= D7 by L143 , L140 , XXREAL_0:2;
L145: D7 <= ( len R19 ) by L55 , FINSEQ_3:25;
L146: R13 <= ( len R19 ) by L145 , L144 , XXREAL_0:2;
thus L147: R13 in ( dom R19 ) by L146 , L142 , FINSEQ_3:25;
end;
L148:
now
let R13 being (Element of ( NAT ));
assume that
L149: R13 in ( dom C7 )
and
L150: ( R13 + 1 ) in ( dom C7 );
L151: ( R13 + 1 ) in ( dom R19 ) by L139 , L150;
L152: [ ( R13 + 1 ) , C6 ] in ( Indices R19 ) by L151 , L71 , L138 , ZFMISC_1:87;
let C10 , C11 , C12 , C13 being (Element of ( NAT ));
assume that
L153: [ C10 , C11 ] in ( Indices R19 )
and
L154: [ C12 , C13 ] in ( Indices R19 )
and
L155: ( C7 /. R13 ) = ( R19 * (C10 , C11) )
and
L156: ( C7 /. ( R13 + 1 ) ) = ( R19 * (C12 , C13) );
L157: ( C7 /. ( R13 + 1 ) ) = ( R19 * (( R13 + 1 ) , C6) ) by L104 , L150;
L158: (C12 = ( R13 + 1 ) & C13 = C6) by L157 , L152 , L154 , L156 , GOBOARD1:5;
L159: R13 in ( dom R19 ) by L139 , L149;
L160: [ R13 , C6 ] in ( Indices R19 ) by L159 , L71 , L138 , ZFMISC_1:87;
L161: ( C7 /. R13 ) = ( R19 * (R13 , C6) ) by L104 , L149;
L162: (C10 = R13 & C11 = C6) by L161 , L160 , L153 , L155 , GOBOARD1:5;
thus L163: ( ( abs ( C10 - C12 ) ) + ( abs ( C11 - C13 ) ) ) = ( ( abs ( ( R13 - R13 ) + ( - 1 ) ) ) + ( 0 ) ) by L162 , L158 , ABSVALUE:2
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L164: ( ( rng C7 ) /\ ( rng D3 ) ) = ( {} )
proof
set D20 = the (Element of ( ( rng C7 ) /\ ( rng D3 ) ));
assume L165: (not thesis);
L166: D20 in ( rng C7 ) by L165 , XBOOLE_0:def 4;
consider C14 being (Element of ( NAT )) such that L167: C14 in ( dom C7 ) and L168: D20 = ( C7 /. C14 ) by L166 , PARTFUN2:2;
L169: C14 <= D10 by L104 , L167 , FINSEQ_3:25;
L170: C14 in ( dom R19 ) by L139 , L167;
L171: [ C14 , C6 ] in ( Indices R19 ) by L170 , L71 , L138 , ZFMISC_1:87;
L172: D20 in ( rng D3 ) by L165 , XBOOLE_0:def 4;
consider C15 being (Element of ( NAT )) such that L173: C15 in ( dom D3 ) and L174: D20 = ( D3 /. C15 ) by L172 , PARTFUN2:2;
L175: ( D3 /. C15 ) in ( rng D3 ) by L173 , PARTFUN2:2;
consider C16 , C17 being (Element of ( NAT )) such that L176: [ C16 , C17 ] in ( Indices R19 ) and L177: ( D3 /. C15 ) = ( R19 * (C16 , C17) ) by L19 , L173 , GOBOARD1:def 9;
reconsider D21 = ( Line (R19 , C16) ) as (FinSequence of ( TOP-REAL 2 ));
L178: C17 in ( Seg ( width R19 ) ) by L138 , L176 , ZFMISC_1:87;
L179: (( Seg ( len D21 ) ) = ( dom D21 ) & ( len D21 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L180: ( D21 /. C17 ) = ( D21 . C17 ) by L179 , L178 , PARTFUN1:def 6;
L181: ( D3 /. C15 ) = ( D21 /. C17 ) by L180 , L177 , L178 , MATRIX_1:def 7;
L182: ( D3 /. C15 ) in ( rng D21 ) by L181 , L178 , L179 , PARTFUN2:2;
L183: ( ( rng D3 ) /\ ( rng D21 ) ) <> ( {} ) by L182 , L175 , XBOOLE_0:def 4;
L184: C16 in ( dom R19 ) by L138 , L176 , ZFMISC_1:87;
L185: D7 <= C16 by L184 , L55 , L183;
L186: D20 = ( R19 * (C14 , C6) ) by L104 , L167 , L168;
L187: C16 = C14 by L186 , L174 , L176 , L177 , L171 , GOBOARD1:5;
L188: D7 <= ( D7 - 1 ) by L187 , L169 , L185 , XXREAL_0:2;
thus L189: contradiction by L188 , XREAL_1:44;
end;
defpred S5[ Nat ] means ($1 in ( dom R11 ) & D12 < $1 & ( R11 /. $1 ) in ( rng ( Line (R19 , D8) ) ));
L190: D7 <= D8 by L55 , L57;
L191: D7 < D8 by L190 , L136 , XXREAL_0:1;
L192: (ex R13 being (Element of ( NAT )) st S5[ R13 ]) by L191 , L8 , L11 , L55 , L66 , L63 , GOBOARD1:37;
L193: (ex B12 being Nat st S5[ B12 ]) by L192;
consider C18 being Nat such that L194: (S5[ C18 ] & (for B13 being Nat holds (S5[ B13 ] implies C18 <= B13))) from NAT_1:sch 5(L193);
consider C19 being (Element of ( NAT )) such that L195: C19 in ( dom D19 ) and L196: ( R11 /. C18 ) = ( D19 /. C19 ) by L194 , PARTFUN2:2;
deffunc H2(Nat) = ( R19 * (( D8 + $1 ) , C19) );
consider C20 being (FinSequence of ( TOP-REAL 2 )) such that L197: (( len C20 ) = D11 & (for B14 being Nat holds (B14 in ( dom C20 ) implies ( C20 /. B14 ) = H2(B14)))) from FINSEQ_4:sch 2;
reconsider D22 = ( Col (R19 , C19) ) as (FinSequence of ( TOP-REAL 2 ));
L198: ( dom D19 ) = ( Seg ( len D19 ) ) by FINSEQ_1:def 3;
L199: C19 in ( Seg ( width R19 ) ) by L198 , L195 , MATRIX_1:def 7;
L200:
now
let R13 being (Element of ( NAT ));
L201: R13 <= ( R13 + D8 ) by NAT_1:11;
assume L202: R13 in ( dom C20 );
L203: R13 <= D11 by L202 , L197 , FINSEQ_3:25;
L204: ( D8 + R13 ) <= ( D8 + D11 ) by L203 , XREAL_1:7;
L205: 1 <= R13 by L202 , FINSEQ_3:25;
L206: 1 <= ( R13 + D8 ) by L205 , L201 , XXREAL_0:2;
thus L207: ( D8 + R13 ) in ( dom R19 ) by L206 , L204 , FINSEQ_3:25;
end;
L208:
now
let R13 being (Element of ( NAT ));
assume L209: R13 in ( dom C20 );
take D23 = ( D8 + R13 );
take D24 = C19;
L210: ( D8 + R13 ) in ( dom R19 ) by L200 , L209;
thus L211: ([ D23 , D24 ] in ( Indices R19 ) & ( C20 /. R13 ) = ( R19 * (D23 , D24) )) by L210 , L199 , L197 , L138 , L209 , ZFMISC_1:87;
end;
L212:
now
let R13 being (Element of ( NAT ));
assume that
L213: R13 in ( dom C20 )
and
L214: ( R13 + 1 ) in ( dom C20 );
L215: ( D8 + ( R13 + 1 ) ) in ( dom R19 ) by L200 , L214;
L216: [ ( ( D8 + R13 ) + 1 ) , C19 ] in ( Indices R19 ) by L215 , L199 , L138 , ZFMISC_1:87;
let C21 , C22 , C23 , C24 being (Element of ( NAT ));
assume that
L217: [ C21 , C22 ] in ( Indices R19 )
and
L218: [ C23 , C24 ] in ( Indices R19 )
and
L219: ( C20 /. R13 ) = ( R19 * (C21 , C22) )
and
L220: ( C20 /. ( R13 + 1 ) ) = ( R19 * (C23 , C24) );
L221: ( C20 /. ( R13 + 1 ) ) = ( R19 * (( D8 + ( R13 + 1 ) ) , C19) ) by L197 , L214;
L222: (C23 = ( ( D8 + R13 ) + 1 ) & C24 = C19) by L221 , L216 , L218 , L220 , GOBOARD1:5;
L223: ( D8 + R13 ) in ( dom R19 ) by L200 , L213;
L224: [ ( D8 + R13 ) , C19 ] in ( Indices R19 ) by L223 , L199 , L138 , ZFMISC_1:87;
L225: ( C20 /. R13 ) = ( R19 * (( D8 + R13 ) , C19) ) by L197 , L213;
L226: (C21 = ( D8 + R13 ) & C22 = C19) by L225 , L224 , L217 , L219 , GOBOARD1:5;
thus L227: ( ( abs ( C21 - C23 ) ) + ( abs ( C22 - C24 ) ) ) = ( ( abs ( ( ( D8 + R13 ) - ( D8 + R13 ) ) + ( - 1 ) ) ) + ( 0 ) ) by L226 , L222 , ABSVALUE:2
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L228: C18 <= ( C18 + 1 ) by NAT_1:11;
L229: ( ( 0 ) + 1 ) < ( width R19 ) by L4 , L132 , XREAL_1:6;
L230: ( len ( DelCol (R19 , ( width R19 )) ) ) = ( len R19 ) by L229 , L103 , GOBOARD1:def 8;
L231: D12 <= C18 by L194;
reconsider D25 = ( ( C18 + 1 ) - D12 ) as (Element of ( NAT )) by L231 , L228 , INT_1:5 , XXREAL_0:2;
set D26 = ( R11 | C18 );
defpred S6[ Nat , (Element of ( TOP-REAL 2 )) ] means $2 = ( D26 /. ( D18 + $1 ) );
L232: (for B15 being Nat holds (B15 in ( Seg D25 ) implies (ex R1 being (Point of ( TOP-REAL 2 )) st S6[ B15 , R1 ])));
consider R8 being (FinSequence of ( TOP-REAL 2 )) such that L233: (( len R8 ) = D25 & (for B16 being Nat holds (B16 in ( Seg D25 ) implies S6[ B16 , ( R8 /. B16 ) ]))) from FINSEQ_4:sch 1(L232);
L234: ( D18 + D25 ) = C18;
L235: ( dom R8 ) = ( Seg D25 ) by L233 , FINSEQ_1:def 3;
set D27 = ( ( C7 ^ R8 ) ^ C20 );
L236: ( D12 + 1 ) <= C18 by L194 , NAT_1:13;
L237: ( D12 + 1 ) <= ( C18 + 1 ) by L236 , NAT_1:13;
L238: 1 <= D25 by L237 , XREAL_1:19;
L239:
now
per cases ;
suppose L240: D7 = 1;

L241: 1 <= D12 by L105 , L63 , FINSEQ_1:1;
L242: D12 in ( Seg C18 ) by L241 , L194 , FINSEQ_1:1;
L243: ( D18 + 1 ) = D12;
L244: 1 in ( Seg D25 ) by L238 , FINSEQ_1:1;
L245: C7 = ( {} ) by L104 , L240;
L246: D27 = ( R8 ^ C20 ) by L245 , FINSEQ_1:34;
L247: ( D27 /. 1 ) = ( R8 /. 1 ) by L246 , L235 , L244 , FINSEQ_4:68
.= ( D26 /. D12 ) by L233 , L244 , L243
.= ( R11 /. D12 ) by L194 , L242 , FINSEQ_4:71;
thus L248: ( D27 /. 1 ) in ( rng ( Line (R19 , 1) ) ) by L247 , L63 , L240;
end;
suppose L249: D7 <> 1;

L250: 1 <= D7 by L55 , FINSEQ_3:25;
L251: 1 < D7 by L250 , L249 , XXREAL_0:1;
L252: ( 1 + 1 ) <= D7 by L251 , NAT_1:13;
L253: 1 <= D10 by L252 , XREAL_1:19;
L254: 1 in ( dom C7 ) by L253 , L104 , FINSEQ_3:25;
L255: ( len ( Line (R19 , 1) ) ) = ( width R19 ) by MATRIX_1:def 7;
L256: C6 in ( dom D4 ) by L255 , L71 , FINSEQ_1:def 3;
L257: ( dom ( Line (R19 , 1) ) ) = ( Seg ( width R19 ) ) by L255 , FINSEQ_1:def 3;
L258: ( D4 /. C6 ) = ( D4 . C6 ) by L257 , L71 , PARTFUN1:def 6;
L259: (( len ( C7 ^ R8 ) ) = ( ( len C7 ) + ( len R8 ) ) & ( 0 ) <= ( len R8 )) by FINSEQ_1:22 , NAT_1:2;
L260: ( ( 0 ) + 1 ) <= ( len ( C7 ^ R8 ) ) by L259 , L104 , L253 , XREAL_1:7;
L261: 1 in ( dom ( C7 ^ R8 ) ) by L260 , FINSEQ_3:25;
L262: ( D27 /. 1 ) = ( ( C7 ^ R8 ) /. 1 ) by L261 , FINSEQ_4:68
.= ( C7 /. 1 ) by L254 , FINSEQ_4:68
.= ( R19 * (1 , C6) ) by L104 , L254
.= ( D4 /. C6 ) by L71 , L258 , MATRIX_1:def 7;
thus L263: ( D27 /. 1 ) in ( rng ( Line (R19 , 1) ) ) by L262 , L256 , PARTFUN2:2;
end;
end;
L265: (for R13 being (Element of ( NAT )) holds (R13 in ( Seg D25 ) implies (( D26 /. ( D18 + R13 ) ) = ( R11 /. ( D18 + R13 ) ) & ( D18 + R13 ) in ( dom R11 ))))
proof
L266: ( ( 0 ) + 1 ) <= D12 by L63 , FINSEQ_3:25;
L267: ( 0 ) <= ( D12 - 1 ) by L266 , XREAL_1:19;
let R13 being (Element of ( NAT ));
assume that
L268: R13 in ( Seg D25 );
L269: R13 <= D25 by L268 , FINSEQ_1:1;
L270: ( R13 + D12 ) <= ( D25 + D12 ) by L269 , XREAL_1:7;
L271: ( ( R13 + D12 ) - 1 ) <= C18 by L270 , XREAL_1:20;
L272: 1 <= R13 by L268 , FINSEQ_1:1;
L273: ( ( 0 ) + 1 ) <= ( ( D12 - 1 ) + R13 ) by L272 , L267 , XREAL_1:7;
L274: ( D18 + R13 ) in ( Seg C18 ) by L273 , L271 , FINSEQ_1:1;
thus L275: thesis by L274 , L194 , FINSEQ_4:71;
end;
L276:
now
let R13 being (Element of ( NAT ));
assume L277: R13 in ( dom R8 );
L278: ( D18 + R13 ) in ( dom R11 ) by L277 , L265 , L235;
consider R15 being (Element of ( NAT )), R16 being (Element of ( NAT )) such that L279: ([ R15 , R16 ] in ( Indices R19 ) & ( R11 /. ( D18 + R13 ) ) = ( R19 * (R15 , R16) )) by L278 , L8 , GOBOARD1:def 9;
take D28 = R15;
take D29 = R16;
L280: ( R8 /. R13 ) = ( D26 /. ( D18 + R13 ) ) by L233 , L235 , L277;
thus L281: ([ D28 , D29 ] in ( Indices R19 ) & ( R8 /. R13 ) = ( R19 * (D28 , D29) )) by L280 , L265 , L235 , L277 , L279;
end;
L282: ( Seg ( len R8 ) ) = ( dom R8 ) by FINSEQ_1:def 3;
L283: ( rng R8 ) c= ( rng R11 )
proof
let R20 being set;
assume L284: R20 in ( rng R8 );
consider R13 being (Element of ( NAT )) such that L285: R13 in ( dom R8 ) and L286: R20 = ( R8 /. R13 ) by L284 , PARTFUN2:2;
L287: ( R8 /. R13 ) = ( D26 /. ( D18 + R13 ) ) by L233 , L282 , L285;
L288: ( R8 /. R13 ) = ( R11 /. ( D18 + R13 ) ) by L287 , L265 , L233 , L282 , L285;
L289: ( D18 + R13 ) in ( dom R11 ) by L265 , L233 , L282 , L285;
thus L290: thesis by L289 , L286 , L288 , PARTFUN2:2;
end;
L291: ( dom C20 ) = ( Seg ( len C20 ) ) by FINSEQ_1:def 3;
L292:
now
per cases ;
suppose L293: D8 = ( len R19 );

L294: 1 <= C18 by L194 , FINSEQ_3:25;
L295: C18 in ( Seg C18 ) by L294 , FINSEQ_1:1;
L296: ( len R8 ) in ( dom R8 ) by L233 , L282 , L238 , FINSEQ_1:1;
L297: C20 = ( {} ) by L197 , L293;
L298: D27 = ( C7 ^ R8 ) by L297 , FINSEQ_1:34;
L299: ( D27 /. ( len D27 ) ) = ( D27 /. ( ( len C7 ) + ( len R8 ) ) ) by L298 , FINSEQ_1:22
.= ( R8 /. D25 ) by L233 , L298 , L296 , FINSEQ_4:69
.= ( D26 /. C18 ) by L233 , L235 , L234 , L296
.= ( R11 /. C18 ) by L194 , L295 , FINSEQ_4:71;
thus L300: ( D27 /. ( len D27 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) by L299 , L194 , L293;
end;
suppose L301: D8 <> ( len R19 );

L302: D8 <= ( len R19 ) by L57 , FINSEQ_3:25;
L303: D8 < ( len R19 ) by L302 , L301 , XXREAL_0:1;
L304: ( D8 + 1 ) <= ( len R19 ) by L303 , NAT_1:13;
L305: 1 <= D11 by L304 , XREAL_1:19;
L306: D11 in ( Seg D11 ) by L305 , FINSEQ_1:1;
L307: ( len C20 ) in ( dom C20 ) by L197 , L305 , FINSEQ_3:25;
L308: ( len ( Line (R19 , ( len R19 )) ) ) = ( width R19 ) by MATRIX_1:def 7;
L309: C19 in ( dom D5 ) by L308 , L199 , FINSEQ_1:def 3;
L310: C19 in ( dom D5 ) by L199 , L308 , FINSEQ_1:def 3;
L311: ( D5 /. C19 ) = ( D5 . C19 ) by L310 , PARTFUN1:def 6;
L312: ( D27 /. ( len D27 ) ) = ( D27 /. ( ( len ( C7 ^ R8 ) ) + ( len C20 ) ) ) by FINSEQ_1:22
.= ( C20 /. D11 ) by L197 , L307 , FINSEQ_4:69
.= ( R19 * (( D8 + D11 ) , C19) ) by L197 , L291 , L306
.= ( D5 /. C19 ) by L199 , L311 , MATRIX_1:def 7;
thus L313: ( D27 /. ( len D27 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) by L312 , L309 , PARTFUN2:2;
end;
end;
L315: ( ( 0 ) + ( 0 ) ) <= ( ( len C7 ) + ( len C20 ) ) by NAT_1:2;
L316: ( ( 0 ) + 1 ) <= ( ( len R8 ) + ( ( len C7 ) + ( len C20 ) ) ) by L315 , L233 , L238 , XREAL_1:7;
L317: ( rng D27 ) = ( ( rng ( C7 ^ R8 ) ) \/ ( rng C20 ) ) by FINSEQ_1:31
.= ( ( ( rng C7 ) \/ ( rng R8 ) ) \/ ( rng C20 ) ) by FINSEQ_1:31;
L318: (for R17 being (Element of ( NAT )) holds ((R17 in ( Seg ( width R19 ) ) & ( ( rng R8 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} )) implies ( ( rng D27 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} )))
proof
L319: ( len ( Col (R19 , C19) ) ) = ( len R19 ) by MATRIX_1:def 8;
L320: ( len ( Col (R19 , C6) ) ) = ( len R19 ) by MATRIX_1:def 8;
L321: ( D18 + 1 ) = D12;
let R17 being (Element of ( NAT ));
assume that
L322: R17 in ( Seg ( width R19 ) )
and
L323: ( ( rng R8 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} );
set D30 = ( Col (R19 , R17) );
assume L324: ( ( rng D27 ) /\ ( rng D30 ) ) <> ( {} );
set D31 = the (Element of ( ( rng D27 ) /\ ( rng D30 ) ));
L325: ( rng D27 ) = ( ( rng R8 ) \/ ( ( rng C7 ) \/ ( rng C20 ) ) ) by L317 , XBOOLE_1:4;
L326: ( ( rng D27 ) /\ ( rng D30 ) ) = ( ( {} ) \/ ( ( ( rng C7 ) \/ ( rng C20 ) ) /\ ( rng D30 ) ) ) by L325 , L323 , XBOOLE_1:23
.= ( ( ( rng C7 ) /\ ( rng D30 ) ) \/ ( ( rng C20 ) /\ ( rng D30 ) ) ) by XBOOLE_1:23;
L327:
now
per cases  by L324 , L326 , XBOOLE_0:def 3;
suppose L328: D31 in ( ( rng C7 ) /\ ( rng D30 ) );

L329: D31 in ( rng C7 ) by L328 , XBOOLE_0:def 4;
consider R15 being (Element of ( NAT )) such that L330: R15 in ( dom C7 ) and L331: D31 = ( C7 /. R15 ) by L329 , PARTFUN2:2;
L332: D31 = ( R19 * (R15 , C6) ) by L104 , L330 , L331;
reconsider D32 = D31 as (Point of ( TOP-REAL 2 )) by L331;
L333: ( D9 /. C6 ) = ( D9 . C6 ) by L68 , PARTFUN1:def 6;
L334: D31 in ( rng D30 ) by L328 , XBOOLE_0:def 4;
L335: ( dom ( Col (R19 , C6) ) ) = ( Seg ( len R19 ) ) by L320 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L336: ( D15 /. D7 ) = ( D15 . D7 ) by L335 , L55 , PARTFUN1:def 6;
L337: R15 in ( dom D15 ) by L139 , L330 , L335;
L338: ( D15 /. R15 ) = ( D15 . R15 ) by L139 , L330 , L335 , PARTFUN1:def 6;
L339: D32 = ( D15 /. R15 ) by L338 , L332 , L335 , L337 , MATRIX_1:def 8;
L340: D32 in ( rng D15 ) by L339 , L337 , PARTFUN2:2;
L341: C6 = R17 by L340 , L71 , L322 , L334 , GOBOARD1:4;
L342: 1 in ( Seg D25 ) by L238 , FINSEQ_1:1;
L343: (( R8 /. 1 ) = ( D26 /. D12 ) & ( D26 /. D12 ) = ( R11 /. ( D18 + 1 ) )) by L342 , L265 , L233 , L321;
L344: ( R8 /. 1 ) = ( D15 /. D7 ) by L343 , L55 , L69 , L71 , L333 , L336 , GOBOARD1:2;
L345: ( R8 /. 1 ) in ( rng ( Col (R19 , R17) ) ) by L344 , L55 , L335 , L341 , PARTFUN2:2;
L346: ( R8 /. 1 ) in ( rng R8 ) by L235 , L342 , PARTFUN2:2;
thus L347: contradiction by L346 , L323 , L345 , XBOOLE_0:def 4;
end;
suppose L348: D31 in ( ( rng C20 ) /\ ( rng D30 ) );

L349: D31 in ( rng C20 ) by L348 , XBOOLE_0:def 4;
consider R15 being (Element of ( NAT )) such that L350: R15 in ( dom C20 ) and L351: D31 = ( C20 /. R15 ) by L349 , PARTFUN2:2;
L352: D31 = ( R19 * (( D8 + R15 ) , C19) ) by L197 , L350 , L351;
reconsider D33 = D31 as (Point of ( TOP-REAL 2 )) by L351;
L353: ( D19 /. C19 ) = ( D19 . C19 ) by L195 , PARTFUN1:def 6;
L354: D31 in ( rng D30 ) by L348 , XBOOLE_0:def 4;
L355: ( dom ( Col (R19 , C19) ) ) = ( Seg ( len R19 ) ) by L319 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L356: ( D22 /. D8 ) = ( D22 . D8 ) by L355 , L57 , PARTFUN1:def 6;
L357: ( D8 + R15 ) in ( dom D22 ) by L200 , L350 , L355;
L358: ( D22 /. ( D8 + R15 ) ) = ( D22 . ( D8 + R15 ) ) by L200 , L350 , L355 , PARTFUN1:def 6;
L359: D33 = ( D22 /. ( D8 + R15 ) ) by L358 , L352 , L355 , L357 , MATRIX_1:def 8;
L360: D33 in ( rng D22 ) by L359 , L357 , PARTFUN2:2;
L361: C19 = R17 by L360 , L199 , L322 , L354 , GOBOARD1:4;
L362: D25 in ( Seg D25 ) by L238 , FINSEQ_1:1;
L363: (( R8 /. D25 ) = ( D26 /. ( D18 + D25 ) ) & ( D26 /. ( D18 + D25 ) ) = ( R11 /. ( D18 + D25 ) )) by L362 , L265 , L233;
L364: ( R8 /. D25 ) = ( D22 /. D8 ) by L363 , L57 , L196 , L199 , L353 , L356 , GOBOARD1:2;
L365: ( R8 /. D25 ) in ( rng ( Col (R19 , R17) ) ) by L364 , L57 , L355 , L361 , PARTFUN2:2;
L366: ( R8 /. D25 ) in ( rng R8 ) by L235 , L362 , PARTFUN2:2;
thus L367: contradiction by L366 , L323 , L365 , XBOOLE_0:def 4;
end;
end;
thus L369: contradiction by L327;
end;
L370: ( ( rng C20 ) /\ ( rng D3 ) ) = ( {} )
proof
set D34 = the (Element of ( ( rng C20 ) /\ ( rng D3 ) ));
assume L371: (not thesis);
L372: D34 in ( rng C20 ) by L371 , XBOOLE_0:def 4;
consider C25 being (Element of ( NAT )) such that L373: C25 in ( dom C20 ) and L374: D34 = ( C20 /. C25 ) by L372 , PARTFUN2:2;
L375: 1 <= C25 by L373 , FINSEQ_3:25;
L376: ( D8 + C25 ) in ( dom R19 ) by L200 , L373;
L377: [ ( D8 + C25 ) , C19 ] in ( Indices R19 ) by L376 , L199 , L138 , ZFMISC_1:87;
L378: D34 in ( rng D3 ) by L371 , XBOOLE_0:def 4;
consider C26 being (Element of ( NAT )) such that L379: C26 in ( dom D3 ) and L380: D34 = ( D3 /. C26 ) by L378 , PARTFUN2:2;
consider C27 , C28 being (Element of ( NAT )) such that L381: [ C27 , C28 ] in ( Indices R19 ) and L382: ( D3 /. C26 ) = ( R19 * (C27 , C28) ) by L19 , L379 , GOBOARD1:def 9;
reconsider D35 = ( Line (R19 , C27) ) as (FinSequence of ( TOP-REAL 2 ));
L383: C28 in ( Seg ( width R19 ) ) by L138 , L381 , ZFMISC_1:87;
L384: (( Seg ( len D35 ) ) = ( dom D35 ) & ( len D35 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L385: ( D35 /. C28 ) = ( D35 . C28 ) by L384 , L383 , PARTFUN1:def 6;
L386: ( D3 /. C26 ) = ( D35 /. C28 ) by L385 , L382 , L383 , MATRIX_1:def 7;
L387: ( D3 /. C26 ) in ( rng D35 ) by L386 , L383 , L384 , PARTFUN2:2;
L388: ( D3 /. C26 ) in ( rng D3 ) by L379 , PARTFUN2:2;
L389: ( ( rng D3 ) /\ ( rng D35 ) ) <> ( {} ) by L388 , L387 , XBOOLE_0:def 4;
L390: C27 in ( dom R19 ) by L138 , L381 , ZFMISC_1:87;
L391: D34 = ( R19 * (( D8 + C25 ) , C19) ) by L197 , L373 , L374;
L392: C27 = ( D8 + C25 ) by L391 , L380 , L381 , L382 , L377 , GOBOARD1:5;
L393: C25 <= ( 0 ) by L392 , L57 , L390 , L389 , XREAL_1:29;
thus L394: contradiction by L393 , L375 , XXREAL_0:2;
end;
L395: ( ( rng D27 ) /\ ( rng D3 ) ) = ( ( ( ( rng C7 ) \/ ( rng R8 ) ) /\ ( rng D3 ) ) \/ ( {} ) ) by L370 , L317 , XBOOLE_1:23
.= ( ( {} ) \/ ( ( rng R8 ) /\ ( rng D3 ) ) ) by L164 , XBOOLE_1:23
.= ( ( rng R8 ) /\ ( rng D3 ) );
L396: ( ( rng D27 ) /\ ( rng D3 ) ) c= ( ( rng R11 ) /\ ( rng R12 ) ) by L395 , L22 , L283 , XBOOLE_1:27;
L397: ( len ( DelCol (R19 , 1) ) ) = ( len R19 ) by L40 , L229 , GOBOARD1:def 8;
L398: ( dom ( DelCol (R19 , 1) ) ) = ( Seg ( len R19 ) ) by L397 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L399:
now
let R13 being (Element of ( NAT ));
assume that
L400: R13 in ( dom R8 )
and
L401: ( R13 + 1 ) in ( dom R8 );
L402: ( R8 /. R13 ) = ( D26 /. ( D18 + R13 ) ) by L233 , L235 , L400;
L403: ( R8 /. R13 ) = ( R11 /. ( D18 + R13 ) ) by L402 , L265 , L235 , L400;
L404: ( R8 /. ( R13 + 1 ) ) = ( D26 /. ( D18 + ( R13 + 1 ) ) ) by L233 , L235 , L401;
L405: (( ( D18 + R13 ) + 1 ) in ( dom R11 ) & ( R8 /. ( R13 + 1 ) ) = ( R11 /. ( ( D18 + R13 ) + 1 ) )) by L404 , L265 , L235 , L401;
let C29 , C30 , C31 , C32 being (Element of ( NAT ));
assume L406: ([ C29 , C30 ] in ( Indices R19 ) & [ C31 , C32 ] in ( Indices R19 ) & ( R8 /. R13 ) = ( R19 * (C29 , C30) ) & ( R8 /. ( R13 + 1 ) ) = ( R19 * (C31 , C32) ));
L407: ( D18 + R13 ) in ( dom R11 ) by L265 , L235 , L400;
thus L408: ( ( abs ( C29 - C31 ) ) + ( abs ( C30 - C32 ) ) ) = 1 by L407 , L8 , L403 , L405 , L406 , GOBOARD1:def 9;
end;
set D36 = ( C7 ^ R8 );
L409: ( len D27 ) = ( ( len ( C7 ^ R8 ) ) + ( len C20 ) ) by FINSEQ_1:22
.= ( ( ( len C7 ) + ( len R8 ) ) + ( len C20 ) ) by FINSEQ_1:22;
L410:
now
let C33 , C34 , C35 , C36 being (Element of ( NAT ));
assume that
L411: [ C33 , C34 ] in ( Indices R19 )
and
L412: [ C35 , C36 ] in ( Indices R19 )
and
L413: ( D36 /. ( len D36 ) ) = ( R19 * (C33 , C34) )
and
L414: ( C20 /. 1 ) = ( R19 * (C35 , C36) )
and
L415: ( len D36 ) in ( dom D36 )
and
L416: 1 in ( dom C20 );
L417: ( D8 + 1 ) in ( dom R19 ) by L200 , L416;
L418: [ ( D8 + 1 ) , C19 ] in ( Indices R19 ) by L417 , L199 , L138 , ZFMISC_1:87;
L419: [ D8 , C19 ] in ( Indices R19 ) by L57 , L199 , L138 , ZFMISC_1:87;
L420: ( D19 /. C19 ) = ( D19 . C19 ) by L195 , PARTFUN1:def 6;
L421: ( len R8 ) in ( dom R8 ) by L233 , L235 , L238 , FINSEQ_1:1;
L422: ( D36 /. ( len D36 ) ) = ( D36 /. ( ( len C7 ) + ( len R8 ) ) ) by FINSEQ_1:22
.= ( R8 /. ( len R8 ) ) by L421 , FINSEQ_4:69
.= ( D26 /. ( D18 + D25 ) ) by L233 , L235 , L421
.= ( R11 /. C18 ) by L265 , L233 , L235 , L421
.= ( R19 * (D8 , C19) ) by L196 , L199 , L420 , MATRIX_1:def 7;
L423: (C33 = D8 & C34 = C19) by L422 , L411 , L413 , L419 , GOBOARD1:5;
L424: ( C20 /. 1 ) = ( R19 * (( D8 + 1 ) , C19) ) by L197 , L416;
L425: (C35 = ( D8 + 1 ) & C36 = C19) by L424 , L412 , L414 , L418 , GOBOARD1:5;
thus L426: ( ( abs ( C33 - C35 ) ) + ( abs ( C34 - C36 ) ) ) = ( ( abs ( D8 - ( D8 + 1 ) ) ) + ( 0 ) ) by L425 , L423 , ABSVALUE:2
.= ( abs ( - ( ( D8 + 1 ) - D8 ) ) )
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L427:
now
L428: [ D7 , C6 ] in ( Indices R19 ) by L55 , L71 , L138 , ZFMISC_1:87;
L429: ( D9 /. C6 ) = ( D9 . C6 ) by L68 , PARTFUN1:def 6;
let C37 , C38 , C39 , C40 being (Element of ( NAT ));
assume that
L430: [ C37 , C38 ] in ( Indices R19 )
and
L431: [ C39 , C40 ] in ( Indices R19 )
and
L432: ( C7 /. ( len C7 ) ) = ( R19 * (C37 , C38) )
and
L433: ( R8 /. 1 ) = ( R19 * (C39 , C40) )
and
L434: ( len C7 ) in ( dom C7 )
and
L435: 1 in ( dom R8 );
L436: D10 in ( dom R19 ) by L104 , L139 , L434;
L437: [ D10 , C6 ] in ( Indices R19 ) by L436 , L71 , L138 , ZFMISC_1:87;
L438: ( D18 + 1 ) = D12;
L439: ( R8 /. 1 ) = ( D26 /. D12 ) by L438 , L233 , L235 , L435;
L440: ( R8 /. 1 ) = ( R11 /. D12 ) by L439 , L265 , L235 , L435 , L438
.= ( R19 * (D7 , C6) ) by L69 , L71 , L429 , MATRIX_1:def 7;
L441: (C39 = D7 & C40 = C6) by L440 , L431 , L433 , L428 , GOBOARD1:5;
L442: ( C7 /. ( len C7 ) ) = ( R19 * (D10 , C6) ) by L104 , L434;
L443: (C37 = D10 & C38 = C6) by L442 , L430 , L432 , L437 , GOBOARD1:5;
thus L444: ( ( abs ( C37 - C39 ) ) + ( abs ( C38 - C40 ) ) ) = ( ( abs ( ( D7 - 1 ) - D7 ) ) + ( 0 ) ) by L443 , L441 , ABSVALUE:2
.= ( abs ( - 1 ) )
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L445: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom ( C7 ^ R8 ) ) & ( R13 + 1 ) in ( dom ( C7 ^ R8 ) )) implies (for B17 , B18 , B19 , B20 being (Element of ( NAT )) holds (([ B17 , B18 ] in ( Indices R19 ) & [ B19 , B20 ] in ( Indices R19 ) & ( ( C7 ^ R8 ) /. R13 ) = ( R19 * (B17 , B18) ) & ( ( C7 ^ R8 ) /. ( R13 + 1 ) ) = ( R19 * (B19 , B20) )) implies ( ( abs ( B17 - B19 ) ) + ( abs ( B18 - B20 ) ) ) = 1)))) by L427 , L148 , L399 , GOBOARD1:24;
L446: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom D27 ) & ( R13 + 1 ) in ( dom D27 )) implies (for R14 being (Element of ( NAT )) holds (for R17 being (Element of ( NAT )) holds (for R15 being (Element of ( NAT )) holds (for R16 being (Element of ( NAT )) holds (([ R14 , R17 ] in ( Indices R19 ) & [ R15 , R16 ] in ( Indices R19 ) & ( D27 /. R13 ) = ( R19 * (R14 , R17) ) & ( D27 /. ( R13 + 1 ) ) = ( R19 * (R15 , R16) )) implies ( ( abs ( R14 - R15 ) ) + ( abs ( R17 - R16 ) ) ) = 1))))))) by L445 , L212 , L410 , GOBOARD1:24;
L447:
now
let R13 being (Element of ( NAT ));
assume L448: R13 in ( dom C7 );
take D37 = R13;
take D38 = C6;
L449: R13 in ( dom R19 ) by L139 , L448;
thus L450: ([ D37 , D38 ] in ( Indices R19 ) & ( C7 /. R13 ) = ( R19 * (D37 , D38) )) by L449 , L104 , L71 , L138 , L448 , ZFMISC_1:87;
end;
L451: (for R13 being (Element of ( NAT )) holds (R13 in ( dom ( C7 ^ R8 ) ) implies (ex R15 being (Element of ( NAT )) st (ex R16 being (Element of ( NAT )) st ([ R15 , R16 ] in ( Indices R19 ) & ( ( C7 ^ R8 ) /. R13 ) = ( R19 * (R15 , R16) )))))) by L447 , L276 , GOBOARD1:23;
L452: (for R13 being (Element of ( NAT )) holds (R13 in ( dom D27 ) implies (ex R15 being (Element of ( NAT )) st (ex R16 being (Element of ( NAT )) st ([ R15 , R16 ] in ( Indices R19 ) & ( D27 /. R13 ) = ( R19 * (R15 , R16) )))))) by L451 , L208 , GOBOARD1:23;
L453: D27 is_sequence_on R19 by L452 , L446 , GOBOARD1:def 9;
L454: ( Seg ( len D27 ) ) = ( dom D27 ) by FINSEQ_1:def 3;
L455: ( len D27 ) in ( dom D27 ) by L454 , L409 , L316 , FINSEQ_1:1;
L456: 1 in ( dom D27 ) by L409 , L316 , L454 , FINSEQ_1:1;
thus L457: thesis
proof
per cases ;
suppose L458: ( ( rng R8 ) /\ ( rng ( Col (R19 , 1) ) ) ) = ( {} );

set D39 = ( DelCol (R19 , 1) );
L459: ( ( rng D27 ) /\ ( rng ( Col (R19 , 1) ) ) ) = ( {} ) by L40 , L318 , L458;
L460: ( rng D27 ) misses ( rng ( Col (R19 , 1) ) ) by L459 , XBOOLE_0:def 7;
L461: (D27 is_sequence_on D39 & ( D27 /. 1 ) in ( rng ( Line (D39 , 1) ) )) by L460 , L40 , L34 , L453 , L239 , L229 , L456 , GOBOARD1:21 , GOBOARD1:25;
L462: ( D27 /. ( len D27 ) ) in ( rng ( Line (D39 , ( len D39 )) ) ) by L40 , L35 , L292 , L229 , L397 , L455 , L460 , GOBOARD1:21;
defpred S7[ Nat ] means ($1 in ( dom D3 ) & ( D3 /. $1 ) in ( rng ( Col (R19 , 1) ) ));
L463: (ex B21 being Nat st S7[ B21 ])
proof
take 1;
thus L464: thesis by L12 , L17 , L41 , FINSEQ_3:25 , GOBOARD1:6;
end;
L465: (for B22 being Nat holds (S7[ B22 ] implies B22 <= ( len D3 ))) by FINSEQ_3:25;
consider C41 being Nat such that L466: (S7[ C41 ] & (for B23 being Nat holds (S7[ B23 ] implies B23 <= C41))) from NAT_1:sch 6(L465 , L463);
L467: (for R17 being (Element of ( NAT )) holds (S7[ R17 ] implies R17 <= C41)) by L466;
reconsider D40 = C41 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D41 = ( D3 /. D40 ) as (Point of ( TOP-REAL 2 ));
L468:
now
assume L469: D40 >= ( len D3 );
L470: D40 <= ( len D3 ) by L466 , FINSEQ_3:25;
L471: D41 in ( rng ( Col (R19 , ( width R19 )) ) ) by L470 , L36 , L469 , XXREAL_0:1;
L472: 1 = ( R17 + 1 ) by L471 , L4 , L40 , L103 , L466 , GOBOARD1:4;
thus L473: contradiction by L472 , L131;
end;
reconsider D42 = ( ( len D3 ) - D40 ) as (Element of ( NAT )) by L468 , INT_1:5;
deffunc H3(Nat) = ( D3 /. ( D40 + $1 ) );
consider C42 being (FinSequence of ( TOP-REAL 2 )) such that L474: (( len C42 ) = D42 & (for B24 being Nat holds (B24 in ( dom C42 ) implies ( C42 /. B24 ) = H3(B24)))) from FINSEQ_4:sch 2;
L475: ( dom C42 ) = ( Seg D42 ) by L474 , FINSEQ_1:def 3;
L476: ( rng C42 ) c= ( rng D3 )
proof
let R21 being set;
assume L477: R21 in ( rng C42 );
consider C43 being (Element of ( NAT )) such that L478: C43 in ( dom C42 ) and L479: ( C42 /. C43 ) = R21 by L477 , PARTFUN2:2;
L480: C43 <= D42 by L475 , L478 , FINSEQ_1:1;
L481: ( D40 + C43 ) <= ( D40 + D42 ) by L480 , XREAL_1:7;
L482: C43 <= ( C43 + D40 ) by NAT_1:11;
L483: 1 <= C43 by L475 , L478 , FINSEQ_1:1;
L484: 1 <= ( C43 + D40 ) by L483 , L482 , XXREAL_0:2;
L485: ( D40 + C43 ) in ( dom D3 ) by L484 , L481 , FINSEQ_3:25;
L486: ( D3 /. ( D40 + C43 ) ) in ( rng D3 ) by L485 , PARTFUN2:2;
thus L487: thesis by L486 , L474 , L478 , L479;
end;
L488: (for R13 being (Element of ( NAT )) holds (R13 in ( dom C42 ) implies ( D40 + R13 ) in ( dom D3 )))
proof
let R13 being (Element of ( NAT ));
L489: R13 <= ( R13 + D40 ) by NAT_1:11;
assume L490: R13 in ( dom C42 );
L491: R13 <= D42 by L490 , L475 , FINSEQ_1:1;
L492: ( D40 + R13 ) <= ( D40 + D42 ) by L491 , XREAL_1:7;
L493: 1 <= R13 by L475 , L490 , FINSEQ_1:1;
L494: 1 <= ( R13 + D40 ) by L493 , L489 , XXREAL_0:2;
thus L495: thesis by L494 , L492 , FINSEQ_3:25;
end;
L496: ( Seg ( len C42 ) ) = ( dom C42 ) by FINSEQ_1:def 3;
reconsider D43 = C42 as (FinSequence of ( TOP-REAL 2 ));
L497: ( width D39 ) = R17 by L4 , L40 , L131 , GOBOARD1:10 , NAT_1:3;
L498: ( Indices D39 ) = [: ( dom D39 ) , ( Seg ( width D39 ) ) :] by MATRIX_1:def 4;
L499:
now
let R13 being (Element of ( NAT ));
assume L500: R13 in ( dom D43 );
L501: ( D40 + R13 ) in ( dom D3 ) by L500 , L488;
consider C44 , C45 being (Element of ( NAT )) such that L502: [ C44 , C45 ] in ( Indices R19 ) and L503: ( D3 /. ( D40 + R13 ) ) = ( R19 * (C44 , C45) ) by L501 , L19 , GOBOARD1:def 9;
L504: C45 in ( Seg ( width R19 ) ) by L138 , L502 , ZFMISC_1:87;
L505: 1 <= C45 by L504 , FINSEQ_1:1;
reconsider D44 = ( C45 - 1 ) as (Element of ( NAT )) by L505 , INT_1:5;
reconsider D45 = ( Col (R19 , C45) ) as (FinSequence of ( TOP-REAL 2 ));
L506: C44 in ( dom R19 ) by L138 , L502 , ZFMISC_1:87;
L507: ( len D45 ) = ( len R19 ) by MATRIX_1:def 8;
L508: ( dom D45 ) = ( Seg ( len R19 ) ) by L507 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L509: ( D45 /. C44 ) = ( D45 . C44 ) by L508 , L506 , PARTFUN1:def 6;
L510: ( D45 /. C44 ) = ( R19 * (C44 , C45) ) by L509 , L506 , MATRIX_1:def 8;
L511: ( D3 /. ( D40 + R13 ) ) in ( rng ( Col (R19 , C45) ) ) by L510 , L503 , L506 , L508 , PARTFUN2:2;
L512:
now
L513: 1 <= R13 by L475 , L500 , FINSEQ_1:1;
L514: ( D40 + 1 ) <= ( D40 + R13 ) by L513 , XREAL_1:7;
assume L515: C45 = 1;
L516: ( D40 + R13 ) <= D40 by L515 , L466 , L488 , L500 , L511;
L517: ( D40 + 1 ) <= D40 by L516 , L514 , XXREAL_0:2;
L518: 1 <= ( D40 - D40 ) by L517 , XREAL_1:19;
L519: 1 <= ( 0 ) by L518;
thus L520: contradiction by L519;
end;
L521: 1 < C45 by L512 , L505 , XXREAL_0:1;
L522: ( 1 + 1 ) <= C45 by L521 , NAT_1:13;
L523: 1 <= D44 by L522 , XREAL_1:19;
take D46 = C44;
take D47 = D44;
L524: ( D43 /. R13 ) = ( D3 /. ( D40 + R13 ) ) by L474 , L500;
L525: C45 <= ( width R19 ) by L504 , FINSEQ_1:1;
L526: D47 <= ( width D39 ) by L525 , L4 , L497 , XREAL_1:20;
L527: D47 in ( Seg ( width D39 ) ) by L526 , L523 , FINSEQ_1:1;
thus L528: [ D46 , D47 ] in ( Indices D39 ) by L527 , L398 , L498 , L506 , ZFMISC_1:87;
L529: ( D47 + 1 ) = C45;
thus L530: ( D43 /. R13 ) = ( D39 * (D46 , D47) ) by L529 , L4 , L40 , L132 , L497 , L503 , L506 , L524 , L523 , L526 , GOBOARD1:16;
end;
L531: ( 0 ) <> ( width D39 ) by GOBOARD1:def 3;
L532: ( 0 ) < ( width D39 ) by L531 , NAT_1:3;
L533: ( ( 0 ) + 1 ) <= ( width D39 ) by L532 , NAT_1:13;
L534: (( Col (D39 , 1) ) = ( Col (R19 , ( 1 + 1 )) ) & ( 1 + 1 ) in ( Seg ( width R19 ) )) by L533 , L4 , L40 , L132 , L497 , GOBOARD1:14;
L535: ( D40 + 1 ) <= ( len D3 ) by L468 , NAT_1:13;
L536: 1 <= ( len D43 ) by L535 , L474 , XREAL_1:19;
L537: 1 in ( Seg D42 ) by L536 , L474 , FINSEQ_1:1;
L538: ( D43 /. 1 ) = ( D3 /. ( D40 + 1 ) ) by L537 , L474 , L496;
L539: ( D43 /. 1 ) in ( rng ( Col (D39 , 1) ) ) by L538 , L41 , L19 , L36 , L40 , L466 , L467 , L534 , GOBOARD1:32;
L540:
now
let R13 being (Element of ( NAT ));
assume that
L541: R13 in ( dom D43 )
and
L542: ( R13 + 1 ) in ( dom D43 );
let C46 , C47 , C48 , C49 being (Element of ( NAT ));
assume that
L543: [ C46 , C47 ] in ( Indices D39 )
and
L544: [ C48 , C49 ] in ( Indices D39 )
and
L545: ( D43 /. R13 ) = ( D39 * (C46 , C47) )
and
L546: ( D43 /. ( R13 + 1 ) ) = ( D39 * (C48 , C49) );
L547: C46 in ( dom D39 ) by L498 , L543 , ZFMISC_1:87;
L548: C47 in ( Seg R17 ) by L497 , L498 , L543 , ZFMISC_1:87;
L549: (1 <= C47 & C47 <= R17) by L548 , FINSEQ_1:1;
L550: ( C47 + 1 ) in ( Seg ( width R19 ) ) by L549 , L4 , L40 , L132 , L398 , L547 , GOBOARD1:16;
L551: [ C46 , ( C47 + 1 ) ] in ( Indices R19 ) by L550 , L138 , L398 , L547 , ZFMISC_1:87;
L552: ( D43 /. R13 ) = ( D3 /. ( D40 + R13 ) ) by L474 , L541;
L553: ( D3 /. ( D40 + R13 ) ) = ( R19 * (C46 , ( C47 + 1 )) ) by L552 , L4 , L40 , L132 , L398 , L545 , L547 , L549 , GOBOARD1:16;
L554: ( D40 + ( R13 + 1 ) ) = ( ( D40 + R13 ) + 1 );
L555: ( ( D40 + R13 ) + 1 ) in ( dom D3 ) by L554 , L488 , L542;
L556: C48 in ( dom D39 ) by L498 , L544 , ZFMISC_1:87;
L557: C49 in ( Seg R17 ) by L497 , L498 , L544 , ZFMISC_1:87;
L558: (1 <= C49 & C49 <= R17) by L557 , FINSEQ_1:1;
L559: ( C49 + 1 ) in ( Seg ( width R19 ) ) by L558 , L4 , L40 , L132 , L398 , L547 , GOBOARD1:16;
L560: [ C48 , ( C49 + 1 ) ] in ( Indices R19 ) by L559 , L138 , L398 , L556 , ZFMISC_1:87;
L561: ( D43 /. ( R13 + 1 ) ) = ( D3 /. ( D40 + ( R13 + 1 ) ) ) by L474 , L542;
L562: ( D3 /. ( ( D40 + R13 ) + 1 ) ) = ( R19 * (C48 , ( C49 + 1 )) ) by L561 , L4 , L40 , L132 , L398 , L546 , L556 , L558 , GOBOARD1:16;
L563: ( D40 + R13 ) in ( dom D3 ) by L488 , L541;
thus L564: 1 = ( ( abs ( C46 - C48 ) ) + ( abs ( ( C47 + 1 ) - ( C49 + 1 ) ) ) ) by L563 , L19 , L553 , L562 , L551 , L560 , L555 , GOBOARD1:def 9
.= ( ( abs ( C46 - C48 ) ) + ( abs ( C47 - C49 ) ) );
end;
L565: D43 is_sequence_on D39 by L540 , L499 , GOBOARD1:def 9;
set D48 = the (Element of ( ( rng D27 ) /\ ( rng D43 ) ));
L566: ( ( rng D27 ) /\ ( rng D43 ) ) c= ( ( rng D27 ) /\ ( rng D3 ) ) by L476 , XBOOLE_1:26;
L567: ( len D43 ) in ( Seg D42 ) by L474 , L536 , FINSEQ_1:1;
L568: ( D43 /. ( len D43 ) ) = ( D3 /. ( D40 + D42 ) ) by L567 , L474 , L496
.= ( D3 /. ( len D3 ) );
L569: ( D43 /. ( len D43 ) ) in ( rng ( Col (D39 , ( width D39 )) ) ) by L568 , L4 , L36 , L40 , L132 , L497 , L533 , GOBOARD1:14;
L570: ( ( rng D27 ) /\ ( rng D43 ) ) <> ( {} ) by L569 , L3 , L132 , L409 , L316 , L497 , L536 , L539 , L565 , L461 , L462;
L571: D48 in ( ( rng D27 ) /\ ( rng D3 ) ) by L570 , L566 , TARSKI:def 3;
thus L572: thesis by L571 , L396;
end;
suppose L573: ( ( rng R8 ) /\ ( rng ( Col (R19 , 1) ) ) ) <> ( {} );

set D49 = ( DelCol (R19 , ( width R19 )) );
L574: ( ( 0 ) + 1 ) < ( R17 + 1 ) by L132 , XREAL_1:6;
L575:
now
per cases ;
suppose L576: ( ( rng R8 ) /\ ( rng ( Col (R19 , ( width R19 )) ) ) ) = ( {} );

L577: ( ( rng D27 ) /\ ( rng ( Col (R19 , ( width R19 )) ) ) ) = ( {} ) by L576 , L103 , L318;
L578: ( rng D27 ) misses ( rng ( Col (R19 , ( width R19 )) ) ) by L577 , XBOOLE_0:def 7;
L579: D27 is_sequence_on D49 by L578 , L103 , L453 , L229 , GOBOARD1:25;
consider C50 being (FinSequence of ( TOP-REAL 2 )) such that L580: (( C50 /. 1 ) in ( rng ( Col (D49 , 1) ) ) & ( C50 /. ( len C50 ) ) in ( rng ( Col (D49 , ( width D49 )) ) ) & 1 <= ( len C50 ) & C50 is_sequence_on D49) and L581: ( rng C50 ) c= ( rng D3 ) by L4 , L41 , L19 , L18 , L36 , L574 , GOBOARD1:35;
set D50 = the (Element of ( ( rng D27 ) /\ ( rng C50 ) ));
L582: ( ( rng D27 ) /\ ( rng C50 ) ) c= ( ( rng D27 ) /\ ( rng D3 ) ) by L581 , XBOOLE_1:26;
L583: ( width D49 ) = R17 by L4 , L103 , L131 , GOBOARD1:10 , NAT_1:3;
L584: (( D27 /. 1 ) in ( rng ( Line (D49 , 1) ) ) & ( D27 /. ( len D27 ) ) in ( rng ( Line (D49 , ( len D49 )) ) )) by L103 , L34 , L35 , L239 , L292 , L229 , L230 , L456 , L455 , L578 , GOBOARD1:21;
L585: ( ( rng D27 ) /\ ( rng C50 ) ) <> ( {} ) by L584 , L3 , L132 , L409 , L316 , L580 , L583 , L579;
L586: D50 in ( ( rng D27 ) /\ ( rng D3 ) ) by L585 , L582 , TARSKI:def 3;
thus L587: thesis by L586 , L396;
end;
suppose L588: ( ( rng R8 ) /\ ( rng ( Col (R19 , ( width R19 )) ) ) ) <> ( {} );

L589: R8 is_sequence_on R19 by L276 , L399 , GOBOARD1:def 9;
consider C51 being (FinSequence of ( TOP-REAL 2 )) such that L590: ( rng C51 ) c= ( rng R8 ) and L591: (( C51 /. 1 ) in ( rng ( Col (R19 , 1) ) ) & ( C51 /. ( len C51 ) ) in ( rng ( Col (R19 , ( width R19 )) ) ) & 1 <= ( len C51 ) & C51 is_sequence_on R19) by L589 , L573 , L588 , GOBOARD1:36;
consider C52 being (FinSequence of ( TOP-REAL 2 )) such that L592: (( C52 /. 1 ) in ( rng ( Col (D49 , 1) ) ) & ( C52 /. ( len C52 ) ) in ( rng ( Col (D49 , ( width D49 )) ) ) & 1 <= ( len C52 ) & C52 is_sequence_on D49) and L593: ( rng C52 ) c= ( rng C51 ) by L4 , L574 , L591 , GOBOARD1:35;
L594: (( Seg ( len D19 ) ) = ( dom D19 ) & ( len D19 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
reconsider D51 = ( ( len D3 ) - 1 ) as (Element of ( NAT )) by L41 , INT_1:5;
defpred S8[ Nat ] means ($1 in ( dom D3 ) & ( D3 /. $1 ) in ( rng ( Line (R19 , D7) ) ));
defpred S9[ Nat ] means ($1 in ( dom D3 ) & ( D3 /. $1 ) in ( rng ( Line (R19 , D8) ) ));
L595: D51 <= ( len D3 ) by XREAL_1:43;
L596:
now
set D52 = the (Element of ( ( rng D3 ) /\ ( rng ( Line (R19 , D7) ) ) ));
L597: D52 in ( rng D3 ) by L55 , XBOOLE_0:def 4;
consider R13 being (Element of ( NAT )) such that L598: (R13 in ( dom D3 ) & D52 = ( D3 /. R13 )) by L597 , PARTFUN2:2;
reconsider D53 = R13 as Nat;
take D54 = D53;
thus L599: S8[ D54 ] by L55 , L598 , XBOOLE_0:def 4;
end;
consider C53 being Nat such that L600: (S8[ C53 ] & (for B25 being Nat holds (S8[ B25 ] implies C53 <= B25))) from NAT_1:sch 5(L596);
defpred S10[ (Element of ( NAT )) ] means ($1 in ( dom R8 ) implies (for R14 being (Element of ( NAT )) holds ((R14 in ( dom R19 ) & ( R8 /. $1 ) in ( rng ( Line (R19 , R14) ) )) implies D7 <= R14)));
reconsider D55 = ( Col (R19 , ( width R19 )) ) , D56 = ( Line (R19 , D7) ) , D57 = ( Line (R19 , D8) ) as (FinSequence of ( TOP-REAL 2 ));
L601: ( D51 + 1 ) = ( len D3 );
L602:
now
set D58 = the (Element of ( ( rng D3 ) /\ ( rng ( Line (R19 , D8) ) ) ));
L603: D58 in ( rng D3 ) by L57 , XBOOLE_0:def 4;
consider R13 being (Element of ( NAT )) such that L604: (R13 in ( dom D3 ) & D58 = ( D3 /. R13 )) by L603 , PARTFUN2:2;
reconsider D59 = R13 as Nat;
take D60 = D59;
thus L605: S9[ D60 ] by L57 , L604 , XBOOLE_0:def 4;
end;
consider C54 being Nat such that L606: (S9[ C54 ] & (for B26 being Nat holds (S9[ B26 ] implies C54 <= B26))) from NAT_1:sch 5(L602);
reconsider D61 = C53 , D62 = C54 as (Element of ( NAT )) by ORDINAL1:def 12;
L607: 1 <= D61 by L600 , FINSEQ_3:25;
consider C55 being (Element of ( NAT )) such that L608: C55 in ( dom D19 ) and L609: ( D3 /. D62 ) = ( D19 /. C55 ) by L606 , PARTFUN2:2;
reconsider D63 = ( Col (R19 , C55) ) as (FinSequence of ( TOP-REAL 2 ));
consider C56 being (Element of ( NAT )) such that L610: C56 in ( dom D56 ) and L611: ( D3 /. D61 ) = ( D56 /. C56 ) by L600 , PARTFUN2:2;
reconsider D64 = ( Col (R19 , C56) ) as (FinSequence of ( TOP-REAL 2 ));
deffunc H4(Nat) = ( R19 * ($1 , C56) );
consider C57 being (FinSequence of ( TOP-REAL 2 )) such that L612: (( len C57 ) = D10 & (for B27 being Nat holds (B27 in ( dom C57 ) implies ( C57 /. B27 ) = H4(B27)))) from FINSEQ_4:sch 2;
L613: (for R17 being (Element of ( NAT )) holds (S10[ R17 ] implies S10[ ( R17 + 1 ) ]))
proof
let R17 being (Element of ( NAT ));
assume that
L614: S10[ R17 ];
assume L615: ( R17 + 1 ) in ( dom R8 );
let R14 being (Element of ( NAT ));
assume that
L616: (R14 in ( dom R19 ) & ( R8 /. ( R17 + 1 ) ) in ( rng ( Line (R19 , R14) ) ));
L617:
now
per cases ;
suppose L618: R17 = ( 0 );

L619: (( D18 + 1 ) = D12 & 1 in ( Seg D25 )) by L238 , FINSEQ_1:1;
L620: (( R8 /. 1 ) = ( D26 /. D12 ) & ( D26 /. D12 ) = ( R11 /. D12 )) by L619 , L265 , L233;
L621: ( R8 /. ( R17 + 1 ) ) in ( rng D56 ) by L620 , L68 , L69 , L618 , PARTFUN2:2;
thus L622: thesis by L621 , L55 , L616 , GOBOARD1:3;
end;
suppose L623: R17 <> ( 0 );

L624: ( 0 ) < R17 by L623 , NAT_1:3;
L625: ( ( 0 ) + 1 ) <= R17 by L624 , NAT_1:13;
L626: ( R17 + 1 ) <= ( len R8 ) by L615 , FINSEQ_3:25;
L627: R17 <= ( len R8 ) by L626 , NAT_1:13;
L628: R17 in ( dom R8 ) by L627 , L625 , FINSEQ_3:25;
consider C58 , C59 being (Element of ( NAT )) such that L629: [ C58 , C59 ] in ( Indices R19 ) and L630: ( R8 /. R17 ) = ( R19 * (C58 , C59) ) by L628 , L276;
L631: C59 in ( Seg ( width R19 ) ) by L138 , L629 , ZFMISC_1:87;
consider C60 , C61 being (Element of ( NAT )) such that L632: [ C60 , C61 ] in ( Indices R19 ) and L633: ( R8 /. ( R17 + 1 ) ) = ( R19 * (C60 , C61) ) by L276 , L615;
reconsider D65 = ( Line (R19 , C60) ) as (FinSequence of ( TOP-REAL 2 ));
L634: C61 in ( Seg ( width R19 ) ) by L138 , L632 , ZFMISC_1:87;
L635: (( Seg ( len D65 ) ) = ( dom D65 ) & ( len D65 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L636: ( D65 /. C61 ) = ( D65 . C61 ) by L635 , L634 , PARTFUN1:def 6;
L637: ( R8 /. ( R17 + 1 ) ) = ( D65 /. C61 ) by L636 , L633 , L634 , MATRIX_1:def 7;
L638: ( R8 /. ( R17 + 1 ) ) in ( rng D65 ) by L637 , L634 , L635 , PARTFUN2:2;
L639: C60 in ( dom R19 ) by L138 , L632 , ZFMISC_1:87;
reconsider D66 = ( Line (R19 , C58) ) as (FinSequence of ( TOP-REAL 2 ));
L640: C58 in ( dom R19 ) by L138 , L629 , ZFMISC_1:87;
L641: (( Seg ( len D66 ) ) = ( dom D66 ) & ( len D66 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L642: ( D66 /. C59 ) = ( D66 . C59 ) by L641 , L631 , PARTFUN1:def 6;
L643: ( R8 /. R17 ) = ( D66 /. C59 ) by L642 , L630 , L631 , MATRIX_1:def 7;
L644: ( R8 /. R17 ) in ( rng D66 ) by L643 , L631 , L641 , PARTFUN2:2;
L645: D7 <= C58 by L644 , L614 , L625 , L627 , L640 , FINSEQ_3:25;
L646:
now
per cases  by L645 , XXREAL_0:1;
suppose L647: D7 = C58;

L648: ( R11 /. ( D18 + R17 ) ) = ( D26 /. ( D18 + R17 ) ) by L265 , L235 , L628
.= ( R8 /. R17 ) by L233 , L235 , L628
.= ( D66 /. C59 ) by L630 , L631 , L642 , MATRIX_1:def 7;
L649: ( R11 /. ( D18 + R17 ) ) in ( rng ( Line (R19 , D7) ) ) by L648 , L631 , L641 , L647 , PARTFUN2:2;
L650: ( D18 + R17 ) <= D12 by L649 , L63 , L265 , L235 , L628;
L651: ( D18 + 1 ) <= ( D18 + R17 ) by L625 , XREAL_1:7;
L652: ( D18 + R17 ) = D12 by L651 , L650 , XXREAL_0:1;
L653: ( D12 + 1 ) = ( D18 + ( R17 + 1 ) ) by L652;
L654: ( D7 + 1 ) <= D8 by L191 , NAT_1:13;
L655: ( D7 + 1 ) <= ( len R19 ) by L654 , L66 , XXREAL_0:2;
L656: 1 <= ( D7 + 1 ) by L58 , NAT_1:13;
L657: ( D7 + 1 ) in ( dom R19 ) by L656 , L655 , FINSEQ_3:25;
L658: (( R8 /. ( R17 + 1 ) ) = ( D26 /. ( D18 + ( R17 + 1 ) ) ) & ( D26 /. ( D18 + ( R17 + 1 ) ) ) = ( R11 /. ( D18 + ( R17 + 1 ) ) )) by L265 , L233 , L235 , L615;
L659: ( R8 /. ( R17 + 1 ) ) in ( rng ( Line (R19 , ( D7 + 1 )) ) ) by L658 , L6 , L8 , L11 , L55 , L63 , L67 , L653 , L657 , GOBOARD1:28;
L660: R14 = ( D7 + 1 ) by L659 , L616 , L657 , GOBOARD1:3;
thus L661: thesis by L660 , NAT_1:11;
end;
suppose L662: D7 < C58;

L663:
now
per cases  by L589 , L615 , L628 , L640 , L644 , GOBOARD1:27;
suppose L664: ( R8 /. ( R17 + 1 ) ) in ( rng ( Line (R19 , C58) ) );

thus L665: thesis by L664 , L616 , L640 , L662 , GOBOARD1:3;
end;
suppose L666: (for B28 being (Element of ( NAT )) holds ((( R8 /. ( R17 + 1 ) ) in ( rng ( Line (R19 , B28) ) ) & B28 in ( dom R19 )) implies ( abs ( C58 - B28 ) ) = 1));

L667: ( abs ( C58 - C60 ) ) = 1 by L666 , L639 , L638;
L668:
now
per cases  by L667 , SEQM_3:41;
suppose L669: (C60 < C58 & C58 = ( C60 + 1 ));

L670: D7 <= ( C58 - 1 ) by L669 , L662 , NAT_1:13;
thus L671: thesis by L670 , L616 , L639 , L638 , L669 , GOBOARD1:3;
end;
suppose L672: (C58 < C60 & C60 = ( C58 + 1 ));

L673: D7 < C60 by L672 , L662 , XXREAL_0:2;
thus L674: thesis by L673 , L616 , L639 , L638 , GOBOARD1:3;
end;
end;
thus L676: thesis by L668;
end;
end;
thus L678: thesis by L663;
end;
end;
thus L680: thesis by L646;
end;
end;
thus L682: thesis by L617;
end;
L683: (( Seg ( len D56 ) ) = ( dom D56 ) & ( len D56 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L684:
now
let R13 being (Element of ( NAT ));
L685: D10 <= D7 by XREAL_1:43;
assume L686: R13 in ( dom C57 );
L687: 1 <= R13 by L686 , FINSEQ_3:25;
L688: R13 <= D10 by L612 , L686 , FINSEQ_3:25;
L689: R13 <= D7 by L688 , L685 , XXREAL_0:2;
L690: D7 <= ( len R19 ) by L55 , FINSEQ_3:25;
L691: R13 <= ( len R19 ) by L690 , L689 , XXREAL_0:2;
thus L692: R13 in ( dom R19 ) by L691 , L687 , FINSEQ_3:25;
end;
L693:
now
let R13 being (Element of ( NAT ));
assume L694: R13 in ( dom C57 );
take D67 = R13;
take D68 = C56;
L695: R13 in ( dom R19 ) by L684 , L694;
thus L696: ([ D67 , D68 ] in ( Indices R19 ) & ( C57 /. R13 ) = ( R19 * (D67 , D68) )) by L695 , L138 , L610 , L683 , L612 , L694 , ZFMISC_1:87;
end;
L697:
now
let R13 being (Element of ( NAT ));
assume that
L698: R13 in ( dom C57 )
and
L699: ( R13 + 1 ) in ( dom C57 );
L700: ( R13 + 1 ) in ( dom R19 ) by L684 , L699;
L701: [ ( R13 + 1 ) , C56 ] in ( Indices R19 ) by L700 , L138 , L610 , L683 , ZFMISC_1:87;
let C62 , C63 , C64 , C65 being (Element of ( NAT ));
assume that
L702: [ C62 , C63 ] in ( Indices R19 )
and
L703: [ C64 , C65 ] in ( Indices R19 )
and
L704: ( C57 /. R13 ) = ( R19 * (C62 , C63) )
and
L705: ( C57 /. ( R13 + 1 ) ) = ( R19 * (C64 , C65) );
L706: ( C57 /. ( R13 + 1 ) ) = ( R19 * (( R13 + 1 ) , C56) ) by L612 , L699;
L707: (C64 = ( R13 + 1 ) & C65 = C56) by L706 , L701 , L703 , L705 , GOBOARD1:5;
L708: R13 in ( dom R19 ) by L684 , L698;
L709: [ R13 , C56 ] in ( Indices R19 ) by L708 , L138 , L610 , L683 , ZFMISC_1:87;
L710: ( C57 /. R13 ) = ( R19 * (R13 , C56) ) by L612 , L698;
L711: (C62 = R13 & C63 = C56) by L710 , L709 , L702 , L704 , GOBOARD1:5;
thus L712: ( ( abs ( C62 - C64 ) ) + ( abs ( C63 - C65 ) ) ) = ( ( abs ( ( R13 - R13 ) + ( - 1 ) ) ) + ( 0 ) ) by L711 , L707 , ABSVALUE:2
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L713: D61 <= ( len D3 ) by L600 , FINSEQ_3:25;
L714: ( D19 /. C55 ) = ( D19 . C55 ) by L608 , PARTFUN1:def 6;
L715: ( D3 /. D62 ) = ( R19 * (D8 , C55) ) by L714 , L608 , L609 , L594 , MATRIX_1:def 7;
deffunc H5(Nat) = ( R19 * (( D8 + $1 ) , C55) );
consider C66 being (FinSequence of ( TOP-REAL 2 )) such that L716: (( len C66 ) = D11 & (for B29 being Nat holds (B29 in ( dom C66 ) implies ( C66 /. B29 ) = H5(B29)))) from FINSEQ_4:sch 2;
L717: S10[ ( 0 ) ] by FINSEQ_3:25;
L718: (for R13 being (Element of ( NAT )) holds S10[ R13 ]) from NAT_1:sch 1(L717 , L613);
L719: ( ( rng C57 ) /\ ( rng C52 ) ) = ( {} )
proof
set D69 = the (Element of ( ( rng C57 ) /\ ( rng C52 ) ));
assume L720: (not thesis);
L721: D69 in ( rng C57 ) by L720 , XBOOLE_0:def 4;
consider C67 being (Element of ( NAT )) such that L722: C67 in ( dom C57 ) and L723: ( C57 /. C67 ) = D69 by L721 , PARTFUN2:2;
L724: ( Seg ( len C57 ) ) = ( dom C57 ) by FINSEQ_1:def 3;
L725: (D10 < D7 & C67 <= D10) by L724 , L612 , L722 , FINSEQ_1:1 , XREAL_1:44;
L726: C67 in ( dom R19 ) by L684 , L722;
L727: [ C67 , C56 ] in ( Indices R19 ) by L726 , L138 , L610 , L683 , ZFMISC_1:87;
L728: D69 in ( rng C52 ) by L720 , XBOOLE_0:def 4;
L729: D69 in ( rng C51 ) by L728 , L593;
consider C68 being (Element of ( NAT )) such that L730: C68 in ( dom R8 ) and L731: ( R8 /. C68 ) = D69 by L729 , L590 , PARTFUN2:2;
consider C69 , C70 being (Element of ( NAT )) such that L732: [ C69 , C70 ] in ( Indices R19 ) and L733: ( R8 /. C68 ) = ( R19 * (C69 , C70) ) by L276 , L730;
reconsider D70 = ( Line (R19 , C69) ) as (FinSequence of ( TOP-REAL 2 ));
L734: C70 in ( Seg ( width R19 ) ) by L138 , L732 , ZFMISC_1:87;
L735: (( Seg ( len D70 ) ) = ( dom D70 ) & ( len D70 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L736: ( D70 /. C70 ) = ( D70 . C70 ) by L735 , L734 , PARTFUN1:def 6;
L737: ( R8 /. C68 ) = ( D70 /. C70 ) by L736 , L733 , L734 , MATRIX_1:def 7;
L738: ( R8 /. C68 ) in ( rng D70 ) by L737 , L734 , L735 , PARTFUN2:2;
L739: C69 in ( dom R19 ) by L138 , L732 , ZFMISC_1:87;
L740: D7 <= C69 by L739 , L718 , L730 , L738;
L741: D69 = ( R19 * (C67 , C56) ) by L612 , L722 , L723;
L742: C67 = C69 by L741 , L731 , L732 , L733 , L727 , GOBOARD1:5;
thus L743: contradiction by L742 , L740 , L725 , XXREAL_0:2;
end;
defpred S11[ (Element of ( NAT )) ] means ($1 in ( dom R8 ) implies (for R14 being (Element of ( NAT )) holds ((R14 in ( dom R19 ) & ( R8 /. $1 ) in ( rng ( Line (R19 , R14) ) )) implies R14 <= D8)));
L744: (for R17 being (Element of ( NAT )) holds (S11[ R17 ] implies S11[ ( R17 + 1 ) ]))
proof
let R17 being (Element of ( NAT ));
assume that
L745: S11[ R17 ];
assume L746: ( R17 + 1 ) in ( dom R8 );
let R14 being (Element of ( NAT ));
assume that
L747: (R14 in ( dom R19 ) & ( R8 /. ( R17 + 1 ) ) in ( rng ( Line (R19 , R14) ) ));
L748:
now
per cases ;
suppose L749: R17 = ( 0 );

L750: 1 in ( Seg D25 ) by L238 , FINSEQ_1:1;
L751: (( R8 /. 1 ) = ( D26 /. ( D18 + 1 ) ) & ( D26 /. ( D18 + 1 ) ) = ( R11 /. ( D18 + 1 ) )) by L750 , L265 , L233;
L752: ( R8 /. ( R17 + 1 ) ) in ( rng D56 ) by L751 , L68 , L69 , L749 , PARTFUN2:2;
thus L753: thesis by L752 , L55 , L190 , L747 , GOBOARD1:3;
end;
suppose L754: R17 <> ( 0 );

L755: ( R17 + 1 ) <= ( len R8 ) by L282 , L746 , FINSEQ_1:1;
L756: R17 <= ( len R8 ) by L755 , NAT_1:13;
consider C71 , C72 being (Element of ( NAT )) such that L757: [ C71 , C72 ] in ( Indices R19 ) and L758: ( R8 /. ( R17 + 1 ) ) = ( R19 * (C71 , C72) ) by L276 , L746;
reconsider D71 = ( Line (R19 , C71) ) as (FinSequence of ( TOP-REAL 2 ));
L759: C72 in ( Seg ( width R19 ) ) by L138 , L757 , ZFMISC_1:87;
L760: (( Seg ( len D71 ) ) = ( dom D71 ) & ( len D71 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L761: ( D71 /. C72 ) = ( D71 . C72 ) by L760 , L759 , PARTFUN1:def 6;
L762: ( R8 /. ( R17 + 1 ) ) = ( D71 /. C72 ) by L761 , L758 , L759 , MATRIX_1:def 7;
L763: ( R8 /. ( R17 + 1 ) ) in ( rng D71 ) by L762 , L759 , L760 , PARTFUN2:2;
L764: C71 in ( dom R19 ) by L138 , L757 , ZFMISC_1:87;
L765: C71 = R14 by L764 , L747 , L763 , GOBOARD1:3;
L766: ( 0 ) < R17 by L754 , NAT_1:3;
L767: ( ( 0 ) + 1 ) <= R17 by L766 , NAT_1:13;
L768: R17 in ( dom R8 ) by L767 , L756 , FINSEQ_3:25;
consider C73 , C74 being (Element of ( NAT )) such that L769: [ C73 , C74 ] in ( Indices R19 ) and L770: ( R8 /. R17 ) = ( R19 * (C73 , C74) ) by L768 , L276;
reconsider D72 = ( Line (R19 , C73) ) as (FinSequence of ( TOP-REAL 2 ));
L771: C74 in ( Seg ( width R19 ) ) by L138 , L769 , ZFMISC_1:87;
L772: (( Seg ( len D72 ) ) = ( dom D72 ) & ( len D72 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L773: ( D72 /. C74 ) = ( D72 . C74 ) by L772 , L771 , PARTFUN1:def 6;
L774: ( R8 /. R17 ) = ( D72 /. C74 ) by L773 , L770 , L771 , MATRIX_1:def 7;
L775: ( R8 /. R17 ) in ( rng D72 ) by L774 , L771 , L772 , PARTFUN2:2;
L776: C73 in ( dom R19 ) by L138 , L769 , ZFMISC_1:87;
L777: C73 <= D8 by L776 , L745 , L767 , L756 , L775 , FINSEQ_3:25;
L778:
now
per cases  by L777 , XXREAL_0:1;
case L779: D8 = C73;
L780: ( D18 + 1 ) <= ( D18 + R17 ) by L767 , XREAL_1:7;
L781: (( R8 /. R17 ) = ( D26 /. ( D18 + R17 ) ) & ( D26 /. ( D18 + R17 ) ) = ( R11 /. ( D18 + R17 ) )) by L265 , L233 , L235 , L768;
L782: D12 <> ( D18 + R17 ) by L781 , L55 , L57 , L63 , L136 , L775 , L779 , GOBOARD1:3;
L783: D12 < ( D18 + R17 ) by L782 , L780 , XXREAL_0:1;
L784: C18 <= ( D18 + R17 ) by L783 , L194 , L265 , L235 , L768 , L775 , L779 , L781;
L785: ( D18 + R17 ) <= C18 by L233 , L234 , L756 , XREAL_1:7;
L786: ( D18 + R17 ) = C18 by L785 , L784 , XXREAL_0:1;
thus L787: contradiction by L786 , L233 , L755 , NAT_1:13;
end;
case L788: C73 < D8;
L789:
now
per cases  by L589 , L746 , L768 , L776 , L775 , GOBOARD1:27;
suppose L790: ( R8 /. ( R17 + 1 ) ) in ( rng ( Line (R19 , C73) ) );

thus L791: thesis by L790 , L747 , L776 , L788 , GOBOARD1:3;
end;
suppose L792: (for B30 being (Element of ( NAT )) holds ((( R8 /. ( R17 + 1 ) ) in ( rng ( Line (R19 , B30) ) ) & B30 in ( dom R19 )) implies ( abs ( C73 - B30 ) ) = 1));

L793: ( abs ( C73 - C71 ) ) = 1 by L792 , L764 , L763;
L794:
now
per cases  by L793 , SEQM_3:41;
suppose L795: (C71 < C73 & C73 = ( C71 + 1 ));

thus L796: thesis by L795 , L765 , L788 , XXREAL_0:2;
end;
suppose L797: (C73 < C71 & C71 = ( C73 + 1 ));

thus L798: thesis by L797 , L765 , L788 , NAT_1:13;
end;
end;
thus L800: thesis by L794;
end;
end;
thus L802: thesis by L789;
end;
end;
thus L804: thesis by L778;
end;
end;
thus L806: thesis by L748;
end;
L807: ( Seg ( len C57 ) ) = ( dom C57 ) by FINSEQ_1:def 3;
L808:
now
let R13 being (Element of ( NAT ));
L809: R13 <= ( R13 + D8 ) by NAT_1:11;
assume L810: R13 in ( dom C66 );
L811: R13 <= D11 by L810 , L716 , FINSEQ_3:25;
L812: ( D8 + R13 ) <= ( D8 + D11 ) by L811 , XREAL_1:7;
L813: 1 <= R13 by L810 , FINSEQ_3:25;
L814: 1 <= ( R13 + D8 ) by L813 , L809 , XXREAL_0:2;
thus L815: ( D8 + R13 ) in ( dom R19 ) by L814 , L812 , FINSEQ_3:25;
end;
L816:
now
let R13 being (Element of ( NAT ));
assume L817: R13 in ( dom C66 );
take D73 = ( D8 + R13 );
take D74 = C55;
L818: ( D8 + R13 ) in ( dom R19 ) by L808 , L817;
thus L819: ([ D73 , D74 ] in ( Indices R19 ) & ( C66 /. R13 ) = ( R19 * (D73 , D74) )) by L818 , L138 , L608 , L594 , L716 , L817 , ZFMISC_1:87;
end;
L820:
now
let R13 being (Element of ( NAT ));
assume that
L821: R13 in ( dom C66 )
and
L822: ( R13 + 1 ) in ( dom C66 );
L823: ( D8 + ( R13 + 1 ) ) in ( dom R19 ) by L808 , L822;
L824: [ ( ( D8 + R13 ) + 1 ) , C55 ] in ( Indices R19 ) by L823 , L138 , L608 , L594 , ZFMISC_1:87;
let C75 , C76 , C77 , C78 being (Element of ( NAT ));
assume that
L825: [ C75 , C76 ] in ( Indices R19 )
and
L826: [ C77 , C78 ] in ( Indices R19 )
and
L827: ( C66 /. R13 ) = ( R19 * (C75 , C76) )
and
L828: ( C66 /. ( R13 + 1 ) ) = ( R19 * (C77 , C78) );
L829: ( C66 /. ( R13 + 1 ) ) = ( R19 * (( D8 + ( R13 + 1 ) ) , C55) ) by L716 , L822;
L830: (C77 = ( ( D8 + R13 ) + 1 ) & C78 = C55) by L829 , L824 , L826 , L828 , GOBOARD1:5;
L831: ( D8 + R13 ) in ( dom R19 ) by L808 , L821;
L832: [ ( D8 + R13 ) , C55 ] in ( Indices R19 ) by L831 , L138 , L608 , L594 , ZFMISC_1:87;
L833: ( C66 /. R13 ) = ( R19 * (( D8 + R13 ) , C55) ) by L716 , L821;
L834: (C75 = ( D8 + R13 ) & C76 = C55) by L833 , L832 , L825 , L827 , GOBOARD1:5;
thus L835: ( ( abs ( C75 - C77 ) ) + ( abs ( C76 - C78 ) ) ) = ( ( abs ( ( ( D8 + R13 ) - ( D8 + R13 ) ) + ( - 1 ) ) ) + ( 0 ) ) by L834 , L830 , ABSVALUE:2
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L836: ( Seg ( len C66 ) ) = ( dom C66 ) by FINSEQ_1:def 3;
L837: D62 <= ( len D3 ) by L606 , FINSEQ_3:25;
L838: 1 <= D62 by L606 , FINSEQ_3:25;
L839: D62 <> D61 by L55 , L57 , L136 , L600 , L606 , GOBOARD1:3;
L840:
now
per cases  by L839 , XXREAL_0:1;
suppose L841: D61 < D62;

L842: D61 < ( len D3 ) by L841 , L837 , XXREAL_0:2;
L843: 1 < ( len D3 ) by L842 , L607 , XXREAL_0:2;
thus L844: ( 1 + 1 ) <= ( len D3 ) by L843 , NAT_1:13;
end;
suppose L845: D61 > D62;

L846: D62 < ( len D3 ) by L845 , L713 , XXREAL_0:2;
L847: 1 < ( len D3 ) by L846 , L838 , XXREAL_0:2;
thus L848: ( 1 + 1 ) <= ( len D3 ) by L847 , NAT_1:13;
end;
end;
L850: 1 <= ( ( len D3 ) - 1 ) by L840 , XREAL_1:19;
L851: D51 in ( dom D3 ) by L850 , L595 , FINSEQ_3:25;
L852: S11[ ( 0 ) ] by FINSEQ_3:25;
L853: (for R13 being (Element of ( NAT )) holds S11[ R13 ]) from NAT_1:sch 1(L852 , L744);
L854: ( ( rng C66 ) /\ ( rng C52 ) ) = ( {} )
proof
set D75 = the (Element of ( ( rng C66 ) /\ ( rng C52 ) ));
assume L855: (not thesis);
L856: D75 in ( rng C66 ) by L855 , XBOOLE_0:def 4;
consider C79 being (Element of ( NAT )) such that L857: C79 in ( dom C66 ) and L858: ( C66 /. C79 ) = D75 by L856 , PARTFUN2:2;
L859: ( ( 0 ) + 1 ) <= C79 by L857 , FINSEQ_3:25;
L860: ( 0 ) < C79 by L859 , NAT_1:13;
L861: ( D8 + C79 ) in ( dom R19 ) by L808 , L857;
L862: [ ( D8 + C79 ) , C55 ] in ( Indices R19 ) by L861 , L138 , L608 , L594 , ZFMISC_1:87;
L863: D75 in ( rng C52 ) by L855 , XBOOLE_0:def 4;
L864: D75 in ( rng C51 ) by L863 , L593;
consider C80 being (Element of ( NAT )) such that L865: C80 in ( dom R8 ) and L866: ( R8 /. C80 ) = D75 by L864 , L590 , PARTFUN2:2;
consider C81 , C82 being (Element of ( NAT )) such that L867: [ C81 , C82 ] in ( Indices R19 ) and L868: ( R8 /. C80 ) = ( R19 * (C81 , C82) ) by L276 , L865;
reconsider D76 = ( Line (R19 , C81) ) as (FinSequence of ( TOP-REAL 2 ));
L869: C82 in ( Seg ( width R19 ) ) by L138 , L867 , ZFMISC_1:87;
L870: (( Seg ( len D76 ) ) = ( dom D76 ) & ( len D76 ) = ( width R19 )) by FINSEQ_1:def 3 , MATRIX_1:def 7;
L871: ( D76 /. C82 ) = ( D76 . C82 ) by L870 , L869 , PARTFUN1:def 6;
L872: ( R8 /. C80 ) = ( D76 /. C82 ) by L871 , L868 , L869 , MATRIX_1:def 7;
L873: ( R8 /. C80 ) in ( rng D76 ) by L872 , L869 , L870 , PARTFUN2:2;
L874: C81 in ( dom R19 ) by L138 , L867 , ZFMISC_1:87;
L875: D75 = ( R19 * (( D8 + C79 ) , C55) ) by L716 , L857 , L858;
L876: ( D8 + C79 ) = C81 by L875 , L866 , L867 , L868 , L862 , GOBOARD1:5;
thus L877: contradiction by L876 , L853 , L865 , L874 , L873 , L860 , XREAL_1:29;
end;
L878: 1 <= ( len D3 ) by L17 , GOBOARD1:22;
L879: ( len D3 ) in ( dom D3 ) by L878 , FINSEQ_3:25;
L880: ( dom D3 ) c= ( dom R12 ) by L30 , L31 , L20 , L21 , FINSEQ_1:5;
L881:
now
consider C83 being (Element of ( NAT )) such that L882: C83 in ( dom D55 ) and L883: ( D55 /. C83 ) = ( D3 /. ( len D3 ) ) by L36 , PARTFUN2:2;
L884: ( dom D55 ) = ( Seg ( len D55 ) ) by FINSEQ_1:def 3
.= ( Seg ( len R19 ) ) by MATRIX_1:def 8
.= ( dom R19 ) by FINSEQ_1:def 3;
L885: [ C83 , ( width R19 ) ] in ( Indices R19 ) by L884 , L103 , L138 , L882 , ZFMISC_1:87;
L886: ( D55 /. C83 ) = ( D55 . C83 ) by L882 , PARTFUN1:def 6;
L887: ( D3 /. ( len D3 ) ) = ( R19 * (C83 , ( width R19 )) ) by L886 , L882 , L883 , L884 , MATRIX_1:def 8;
assume L888: D62 = ( len D3 );
consider C84 , C85 being (Element of ( NAT )) such that L889: [ C84 , C85 ] in ( Indices R19 ) and L890: ( D3 /. D51 ) = ( R19 * (C84 , C85) ) by L19 , L851 , GOBOARD1:def 9;
L891: C84 in ( dom R19 ) by L138 , L889 , ZFMISC_1:87;
L892: C85 in ( Seg ( width R19 ) ) by L138 , L889 , ZFMISC_1:87;
L893: [ D8 , C55 ] in ( Indices R19 ) by L57 , L138 , L608 , L594 , ZFMISC_1:87;
L894: C83 = D8 by L893 , L715 , L888 , L887 , L885 , GOBOARD1:5;
L895: ( ( abs ( C84 - D8 ) ) + ( abs ( C85 - ( width R19 ) ) ) ) = 1 by L894 , L19 , L851 , L879 , L601 , L887 , L885 , L889 , L890 , GOBOARD1:def 9;
L896:
now
per cases  by L895 , SEQM_3:42;
suppose L897: (( abs ( C84 - D8 ) ) = 1 & C85 = ( width R19 ));

L898: ( dom D55 ) = ( Seg ( len D55 ) ) by FINSEQ_1:def 3
.= ( Seg ( len R19 ) ) by MATRIX_1:def 8
.= ( dom R19 ) by FINSEQ_1:def 3;
L899: ( D55 /. C84 ) = ( D55 . C84 ) by L898 , L891 , PARTFUN1:def 6;
L900: ( D3 /. D51 ) = ( D55 /. C84 ) by L899 , L890 , L891 , L897 , MATRIX_1:def 8;
L901: ( D3 /. D51 ) in ( rng D55 ) by L900 , L891 , L898 , PARTFUN2:2;
L902: ( D3 /. D51 ) = ( R12 /. D51 ) by L17 , L31 , L21 , L851 , FINSEQ_4:71;
thus L903: contradiction by L902 , L17 , L21 , L851 , L880 , L901 , XREAL_1:44;
end;
suppose L904: (( abs ( C85 - ( width R19 ) ) ) = 1 & C84 = D8);

L905: ( len D19 ) = ( width R19 ) by MATRIX_1:def 7;
L906: C85 in ( dom D19 ) by L905 , L892 , FINSEQ_1:def 3;
L907: ( D57 /. C85 ) = ( D19 . C85 ) by L906 , PARTFUN1:def 6;
L908: ( D3 /. D51 ) = ( D19 /. C85 ) by L907 , L890 , L892 , L904 , MATRIX_1:def 7;
L909: ( D3 /. D51 ) in ( rng D19 ) by L908 , L906 , PARTFUN2:2;
thus L910: contradiction by L909 , L606 , L851 , L888 , XREAL_1:44;
end;
end;
thus L912: contradiction by L896;
end;
L913: D62 < ( len D3 ) by L881 , L837 , XXREAL_0:1;
L914: ( len D55 ) = ( len R19 ) by MATRIX_1:def 8;
L915: ( dom D55 ) = ( Seg ( len R19 ) ) by L914 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L916: ( D56 /. C56 ) = ( D56 . C56 ) by L610 , PARTFUN1:def 6;
L917: ( D3 /. D61 ) = ( R19 * (D7 , C56) ) by L916 , L610 , L611 , L683 , MATRIX_1:def 7;
L918:
now
consider C86 being (Element of ( NAT )) such that L919: C86 in ( dom D55 ) and L920: ( D55 /. C86 ) = ( D3 /. ( len D3 ) ) by L36 , PARTFUN2:2;
L921: ( D55 /. C86 ) = ( D55 . C86 ) by L919 , PARTFUN1:def 6;
L922: ( D3 /. ( len D3 ) ) = ( R19 * (C86 , ( width R19 )) ) by L921 , L915 , L919 , L920 , MATRIX_1:def 8;
L923: [ C86 , ( width R19 ) ] in ( Indices R19 ) by L103 , L138 , L915 , L919 , ZFMISC_1:87;
assume L924: D61 = ( len D3 );
consider C87 , C88 being (Element of ( NAT )) such that L925: [ C87 , C88 ] in ( Indices R19 ) and L926: ( D3 /. D51 ) = ( R19 * (C87 , C88) ) by L19 , L851 , GOBOARD1:def 9;
L927: C87 in ( dom R19 ) by L138 , L925 , ZFMISC_1:87;
L928: C88 in ( Seg ( width R19 ) ) by L138 , L925 , ZFMISC_1:87;
L929: [ D7 , C56 ] in ( Indices R19 ) by L55 , L138 , L610 , L683 , ZFMISC_1:87;
L930: C86 = D7 by L929 , L917 , L924 , L922 , L923 , GOBOARD1:5;
L931: ( ( abs ( C87 - D7 ) ) + ( abs ( C88 - ( width R19 ) ) ) ) = 1 by L930 , L19 , L851 , L879 , L601 , L922 , L923 , L925 , L926 , GOBOARD1:def 9;
L932:
now
per cases  by L931 , SEQM_3:42;
suppose L933: (( abs ( C87 - D7 ) ) = 1 & C88 = ( width R19 ));

L934: ( dom D55 ) = ( Seg ( len D55 ) ) by FINSEQ_1:def 3
.= ( Seg ( len R19 ) ) by MATRIX_1:def 8
.= ( dom R19 ) by FINSEQ_1:def 3;
L935: ( D55 /. C87 ) = ( D55 . C87 ) by L934 , L927 , PARTFUN1:def 6;
L936: ( D3 /. D51 ) = ( D55 /. C87 ) by L935 , L926 , L927 , L933 , MATRIX_1:def 8;
L937: ( D3 /. D51 ) in ( rng D55 ) by L936 , L927 , L934 , PARTFUN2:2;
L938: ( D3 /. D51 ) = ( R12 /. D51 ) by L17 , L31 , L21 , L851 , FINSEQ_4:71;
thus L939: contradiction by L938 , L17 , L21 , L851 , L880 , L937 , XREAL_1:44;
end;
suppose L940: (( abs ( C88 - ( width R19 ) ) ) = 1 & C87 = D7);

L941: ( len D56 ) = ( width R19 ) by MATRIX_1:def 7;
L942: C88 in ( dom D56 ) by L941 , L928 , FINSEQ_1:def 3;
L943: ( D56 /. C88 ) = ( D56 . C88 ) by L942 , PARTFUN1:def 6;
L944: ( D3 /. D51 ) = ( D56 /. C88 ) by L943 , L926 , L928 , L940 , MATRIX_1:def 7;
L945: ( D3 /. D51 ) in ( rng D56 ) by L944 , L942 , PARTFUN2:2;
thus L946: contradiction by L945 , L600 , L851 , L924 , XREAL_1:44;
end;
end;
thus L948: contradiction by L932;
end;
L949: D61 < ( len D3 ) by L918 , L713 , XXREAL_0:1;
L950:
now
per cases  by L839 , XXREAL_0:1;
suppose L951: D61 < D62;

L952: D62 <= ( D62 + 1 ) by NAT_1:11;
reconsider D77 = ( ( D62 + 1 ) - D61 ) as (Element of ( NAT )) by L952 , L951 , INT_1:5 , XXREAL_0:2;
reconsider D78 = ( D61 - 1 ) as (Element of ( NAT )) by L607 , INT_1:5;
set D79 = ( D3 | D62 );
defpred S12[ Nat , (Element of ( TOP-REAL 2 )) ] means $2 = ( D79 /. ( D78 + $1 ) );
L953: (for B31 being Nat holds (B31 in ( Seg D77 ) implies (ex R1 being (Point of ( TOP-REAL 2 )) st S12[ B31 , R1 ])));
consider C89 being (FinSequence of ( TOP-REAL 2 )) such that L954: (( len C89 ) = D77 & (for B32 being Nat holds (B32 in ( Seg D77 ) implies S12[ B32 , ( C89 /. B32 ) ]))) from FINSEQ_4:sch 1(L953);
set D80 = ( C57 ^ C89 );
set D81 = ( ( C57 ^ C89 ) ^ C66 );
L955: ( Seg ( len C89 ) ) = ( dom C89 ) by FINSEQ_1:def 3;
L956: (for R13 being (Element of ( NAT )) holds (R13 in ( Seg D77 ) implies (( D79 /. ( D78 + R13 ) ) = ( D3 /. ( D78 + R13 ) ) & ( D78 + R13 ) in ( dom D3 ))))
proof
L957: ( ( 0 ) + 1 ) <= D61 by L31 , L600 , FINSEQ_1:1;
L958: ( 0 ) <= D78 by L957 , XREAL_1:19;
let R13 being (Element of ( NAT ));
assume that
L959: R13 in ( Seg D77 );
L960: R13 <= D77 by L959 , FINSEQ_1:1;
L961: ( R13 + D61 ) <= ( D77 + D61 ) by L960 , XREAL_1:7;
L962: ( ( R13 + D61 ) - 1 ) <= D62 by L961 , XREAL_1:20;
L963: 1 <= R13 by L959 , FINSEQ_1:1;
L964: ( ( 0 ) + 1 ) <= ( D78 + R13 ) by L963 , L958 , XREAL_1:7;
L965: ( D78 + R13 ) in ( Seg D62 ) by L964 , L962 , FINSEQ_1:1;
thus L966: thesis by L965 , L606 , FINSEQ_4:71;
end;
L967: ( rng C89 ) c= ( rng R12 )
proof
let R20 being set;
assume L968: R20 in ( rng C89 );
consider R13 being (Element of ( NAT )) such that L969: R13 in ( dom C89 ) and L970: R20 = ( C89 /. R13 ) by L968 , PARTFUN2:2;
L971: ( C89 /. R13 ) = ( D79 /. ( D78 + R13 ) ) by L954 , L955 , L969;
L972: ( C89 /. R13 ) = ( D3 /. ( D78 + R13 ) ) by L971 , L956 , L954 , L955 , L969;
L973: ( D78 + R13 ) in ( dom D3 ) by L956 , L954 , L955 , L969;
L974: R20 in ( rng D3 ) by L973 , L970 , L972 , PARTFUN2:2;
thus L975: thesis by L974 , L22;
end;
L976: ( D61 + 1 ) <= D62 by L951 , NAT_1:13;
L977: ( D61 + 1 ) <= ( D62 + 1 ) by L976 , NAT_1:13;
L978: 1 <= D77 by L977 , XREAL_1:19;
L979:
now
let C90 , C91 , C92 , C93 being (Element of ( NAT ));
assume that
L980: [ C90 , C91 ] in ( Indices R19 )
and
L981: [ C92 , C93 ] in ( Indices R19 )
and
L982: ( D80 /. ( len D80 ) ) = ( R19 * (C90 , C91) )
and
L983: ( C66 /. 1 ) = ( R19 * (C92 , C93) )
and
L984: ( len D80 ) in ( dom D80 )
and
L985: 1 in ( dom C66 );
L986: ( D8 + 1 ) in ( dom R19 ) by L808 , L985;
L987: [ ( D8 + 1 ) , C55 ] in ( Indices R19 ) by L986 , L138 , L608 , L594 , ZFMISC_1:87;
L988: [ D8 , C55 ] in ( Indices R19 ) by L57 , L138 , L608 , L594 , ZFMISC_1:87;
L989: ( len C89 ) in ( dom C89 ) by L954 , L955 , L978 , FINSEQ_1:1;
L990: ( D80 /. ( len D80 ) ) = ( D80 /. ( ( len C57 ) + ( len C89 ) ) ) by FINSEQ_1:22
.= ( C89 /. ( len C89 ) ) by L989 , FINSEQ_4:69
.= ( D79 /. ( D78 + D77 ) ) by L954 , L955 , L989
.= ( R19 * (D8 , C55) ) by L715 , L956 , L954 , L955 , L989;
L991: (C90 = D8 & C91 = C55) by L990 , L980 , L982 , L988 , GOBOARD1:5;
L992: ( C66 /. 1 ) = ( R19 * (( D8 + 1 ) , C55) ) by L716 , L985;
L993: (C92 = ( D8 + 1 ) & C93 = C55) by L992 , L981 , L983 , L987 , GOBOARD1:5;
thus L994: ( ( abs ( C90 - C92 ) ) + ( abs ( C91 - C93 ) ) ) = ( ( abs ( D8 - ( D8 + 1 ) ) ) + ( 0 ) ) by L993 , L991 , ABSVALUE:2
.= ( abs ( - ( ( D8 + 1 ) - D8 ) ) )
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L995: ( rng D81 ) = ( ( rng ( C57 ^ C89 ) ) \/ ( rng C66 ) ) by FINSEQ_1:31
.= ( ( ( rng C57 ) \/ ( rng C89 ) ) \/ ( rng C66 ) ) by FINSEQ_1:31;
L996: (for R17 being (Element of ( NAT )) holds ((R17 in ( Seg ( width R19 ) ) & ( ( rng C89 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} )) implies ( ( rng D81 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} )))
proof
L997: ( len ( Col (R19 , C55) ) ) = ( len R19 ) by MATRIX_1:def 8;
L998: ( len ( Col (R19 , C56) ) ) = ( len R19 ) by MATRIX_1:def 8;
let R17 being (Element of ( NAT ));
assume that
L999: R17 in ( Seg ( width R19 ) )
and
L1000: ( ( rng C89 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} );
set D82 = ( Col (R19 , R17) );
assume L1001: ( ( rng D81 ) /\ ( rng D82 ) ) <> ( {} );
set D83 = the (Element of ( ( rng D81 ) /\ ( rng D82 ) ));
L1002: ( rng D81 ) = ( ( rng C89 ) \/ ( ( rng C57 ) \/ ( rng C66 ) ) ) by L995 , XBOOLE_1:4;
L1003: ( ( rng D81 ) /\ ( rng D82 ) ) = ( ( {} ) \/ ( ( ( rng C57 ) \/ ( rng C66 ) ) /\ ( rng D82 ) ) ) by L1002 , L1000 , XBOOLE_1:23
.= ( ( ( rng C57 ) /\ ( rng D82 ) ) \/ ( ( rng C66 ) /\ ( rng D82 ) ) ) by XBOOLE_1:23;
L1004:
now
per cases  by L1001 , L1003 , XBOOLE_0:def 3;
suppose L1005: D83 in ( ( rng C57 ) /\ ( rng D82 ) );

L1006: D83 in ( rng C57 ) by L1005 , XBOOLE_0:def 4;
consider R15 being (Element of ( NAT )) such that L1007: R15 in ( dom C57 ) and L1008: D83 = ( C57 /. R15 ) by L1006 , PARTFUN2:2;
L1009: D83 = ( R19 * (R15 , C56) ) by L612 , L1007 , L1008;
reconsider D84 = D83 as (Point of ( TOP-REAL 2 )) by L1008;
L1010: ( D9 /. C56 ) = ( D9 . C56 ) by L610 , PARTFUN1:def 6;
L1011: D83 in ( rng D82 ) by L1005 , XBOOLE_0:def 4;
L1012: ( dom D64 ) = ( Seg ( len R19 ) ) by L998 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L1013: ( D64 /. D7 ) = ( D64 . D7 ) by L1012 , L55 , PARTFUN1:def 6;
L1014: R15 in ( dom D64 ) by L684 , L1007 , L1012;
L1015: ( D64 /. R15 ) = ( D64 . R15 ) by L684 , L1007 , L1012 , PARTFUN1:def 6;
L1016: D84 = ( D64 /. R15 ) by L1015 , L1009 , L1012 , L1014 , MATRIX_1:def 8;
L1017: D84 in ( rng D64 ) by L1016 , L1014 , PARTFUN2:2;
L1018: C56 = R17 by L1017 , L610 , L683 , L999 , L1011 , GOBOARD1:4;
L1019: 1 in ( Seg D77 ) by L978 , FINSEQ_1:1;
L1020: (( C89 /. 1 ) = ( D79 /. ( D78 + 1 ) ) & ( D79 /. ( D78 + 1 ) ) = ( D3 /. ( D78 + 1 ) )) by L1019 , L956 , L954;
L1021: ( C89 /. 1 ) = ( D64 /. D7 ) by L1020 , L55 , L610 , L611 , L683 , L1010 , L1013 , GOBOARD1:2;
L1022: ( C89 /. 1 ) in ( rng ( Col (R19 , R17) ) ) by L1021 , L55 , L1012 , L1018 , PARTFUN2:2;
L1023: ( C89 /. 1 ) in ( rng C89 ) by L954 , L955 , L1019 , PARTFUN2:2;
thus L1024: contradiction by L1023 , L1000 , L1022 , XBOOLE_0:def 4;
end;
suppose L1025: D83 in ( ( rng C66 ) /\ ( rng D82 ) );

L1026: D83 in ( rng C66 ) by L1025 , XBOOLE_0:def 4;
consider R15 being (Element of ( NAT )) such that L1027: R15 in ( dom C66 ) and L1028: D83 = ( C66 /. R15 ) by L1026 , PARTFUN2:2;
L1029: D83 = ( R19 * (( D8 + R15 ) , C55) ) by L716 , L1027 , L1028;
reconsider D85 = D83 as (Point of ( TOP-REAL 2 )) by L1028;
L1030: ( D19 /. C55 ) = ( D19 . C55 ) by L608 , PARTFUN1:def 6;
L1031: D83 in ( rng D82 ) by L1025 , XBOOLE_0:def 4;
L1032: ( dom D63 ) = ( Seg ( len R19 ) ) by L997 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L1033: ( D63 /. D8 ) = ( D63 . D8 ) by L1032 , L57 , PARTFUN1:def 6;
L1034: ( D8 + R15 ) in ( dom D63 ) by L808 , L1027 , L1032;
L1035: ( D63 /. ( D8 + R15 ) ) = ( D63 . ( D8 + R15 ) ) by L808 , L1027 , L1032 , PARTFUN1:def 6;
L1036: D85 = ( D63 /. ( D8 + R15 ) ) by L1035 , L1029 , L1032 , L1034 , MATRIX_1:def 8;
L1037: D85 in ( rng D63 ) by L1036 , L1034 , PARTFUN2:2;
L1038: C55 = R17 by L1037 , L608 , L594 , L999 , L1031 , GOBOARD1:4;
L1039: D77 in ( Seg D77 ) by L978 , FINSEQ_1:1;
L1040: (( C89 /. D77 ) = ( D79 /. ( D78 + D77 ) ) & ( D79 /. ( D78 + D77 ) ) = ( D3 /. ( D78 + D77 ) )) by L1039 , L956 , L954;
L1041: ( C89 /. D77 ) = ( D63 /. D8 ) by L1040 , L57 , L608 , L609 , L594 , L1030 , L1033 , GOBOARD1:2;
L1042: ( C89 /. D77 ) in ( rng ( Col (R19 , R17) ) ) by L1041 , L57 , L1032 , L1038 , PARTFUN2:2;
L1043: ( C89 /. D77 ) in ( rng C89 ) by L954 , L955 , L1039 , PARTFUN2:2;
thus L1044: contradiction by L1043 , L1000 , L1042 , XBOOLE_0:def 4;
end;
end;
thus L1046: contradiction by L1004;
end;
L1047: ( ( rng C89 ) /\ ( rng D55 ) ) = ( {} )
proof
reconsider D86 = D78 as (Element of ( NAT ));
set D87 = the (Element of ( ( rng C89 ) /\ ( rng D55 ) ));
assume L1048: (not thesis);
L1049: D87 in ( rng D55 ) by L1048 , XBOOLE_0:def 4;
L1050: D87 in ( rng C89 ) by L1048 , XBOOLE_0:def 4;
consider C94 being (Element of ( NAT )) such that L1051: C94 in ( dom C89 ) and L1052: ( C89 /. C94 ) = D87 by L1050 , PARTFUN2:2;
L1053: ( Seg ( len C89 ) ) = ( dom C89 ) by FINSEQ_1:def 3;
L1054: C94 <= D77 by L1053 , L954 , L1051 , FINSEQ_1:1;
L1055: ( D86 + C94 ) <= ( D86 + D77 ) by L1054 , XREAL_1:7;
L1056: ( D78 + C94 ) in ( dom D3 ) by L956 , L954 , L1051 , L1053;
L1057: ( D86 + C94 ) in ( dom R12 ) by L1056 , L17 , L31 , L21 , FINSEQ_4:71;
L1058: (( C89 /. C94 ) = ( D79 /. ( D78 + C94 ) ) & ( D79 /. ( D78 + C94 ) ) = ( D3 /. ( D78 + C94 ) )) by L956 , L954 , L1051 , L1053;
L1059: ( R12 /. ( D86 + C94 ) ) in ( rng D55 ) by L1058 , L17 , L31 , L21 , L1049 , L1052 , L1056 , FINSEQ_4:71;
L1060: D2 <= ( D86 + C94 ) by L1059 , L17 , L1057;
thus L1061: contradiction by L1060 , L21 , L913 , L1055 , XXREAL_0:2;
end;
L1062: ( ( rng D81 ) /\ ( rng ( Col (R19 , ( width R19 )) ) ) ) = ( {} ) by L1047 , L103 , L996;
L1063: ( rng D81 ) misses ( rng ( Col (R19 , ( width R19 )) ) ) by L1062 , XBOOLE_0:def 7;
L1064:
now
reconsider D88 = D78 as (Element of ( NAT ));
let R13 being (Element of ( NAT ));
assume L1065: R13 in ( dom C89 );
L1066: ( D78 + R13 ) in ( dom D3 ) by L1065 , L956 , L954 , L955;
consider R15 being (Element of ( NAT )), R16 being (Element of ( NAT )) such that L1067: ([ R15 , R16 ] in ( Indices R19 ) & ( D3 /. ( D88 + R13 ) ) = ( R19 * (R15 , R16) )) by L1066 , L19 , GOBOARD1:def 9;
take D89 = R15;
take D90 = R16;
L1068: ( C89 /. R13 ) = ( D79 /. ( D78 + R13 ) ) by L954 , L955 , L1065;
thus L1069: ([ D89 , D90 ] in ( Indices R19 ) & ( C89 /. R13 ) = ( R19 * (D89 , D90) )) by L1068 , L956 , L954 , L955 , L1065 , L1067;
end;
L1070: (for R13 being (Element of ( NAT )) holds (R13 in ( dom ( C57 ^ C89 ) ) implies (ex R15 being (Element of ( NAT )) st (ex R16 being (Element of ( NAT )) st ([ R15 , R16 ] in ( Indices R19 ) & ( ( C57 ^ C89 ) /. R13 ) = ( R19 * (R15 , R16) )))))) by L1064 , L693 , GOBOARD1:23;
L1071: (for R13 being (Element of ( NAT )) holds (R13 in ( dom D81 ) implies (ex R15 being (Element of ( NAT )) st (ex R16 being (Element of ( NAT )) st ([ R15 , R16 ] in ( Indices R19 ) & ( D81 /. R13 ) = ( R19 * (R15 , R16) )))))) by L1070 , L816 , GOBOARD1:23;
L1072:
now
L1073: [ D7 , C56 ] in ( Indices R19 ) by L55 , L138 , L610 , L683 , ZFMISC_1:87;
let C95 , C96 , C97 , C98 being (Element of ( NAT ));
assume that
L1074: [ C95 , C96 ] in ( Indices R19 )
and
L1075: [ C97 , C98 ] in ( Indices R19 )
and
L1076: ( C57 /. ( len C57 ) ) = ( R19 * (C95 , C96) )
and
L1077: ( C89 /. 1 ) = ( R19 * (C97 , C98) )
and
L1078: ( len C57 ) in ( dom C57 )
and
L1079: 1 in ( dom C89 );
L1080: ( C89 /. 1 ) = ( D79 /. ( D78 + 1 ) ) by L954 , L955 , L1079;
L1081: ( C89 /. 1 ) = ( D3 /. ( D78 + 1 ) ) by L1080 , L956 , L954 , L955 , L1079
.= ( R19 * (D7 , C56) ) by L610 , L611 , L683 , L916 , MATRIX_1:def 7;
L1082: (C97 = D7 & C98 = C56) by L1081 , L1075 , L1077 , L1073 , GOBOARD1:5;
L1083: D10 in ( dom R19 ) by L612 , L684 , L1078;
L1084: [ D10 , C56 ] in ( Indices R19 ) by L1083 , L138 , L610 , L683 , ZFMISC_1:87;
L1085: ( C57 /. ( len C57 ) ) = ( R19 * (D10 , C56) ) by L612 , L1078;
L1086: (C95 = D10 & C96 = C56) by L1085 , L1074 , L1076 , L1084 , GOBOARD1:5;
thus L1087: ( ( abs ( C95 - C97 ) ) + ( abs ( C96 - C98 ) ) ) = ( ( abs ( ( D7 - 1 ) - D7 ) ) + ( 0 ) ) by L1086 , L1082 , ABSVALUE:2
.= ( abs ( - 1 ) )
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L1088:
now
let R13 being (Element of ( NAT ));
assume that
L1089: R13 in ( dom C89 )
and
L1090: ( R13 + 1 ) in ( dom C89 );
L1091: ( C89 /. R13 ) = ( D79 /. ( D78 + R13 ) ) by L954 , L955 , L1089;
L1092: ( C89 /. R13 ) = ( D3 /. ( D78 + R13 ) ) by L1091 , L956 , L954 , L955 , L1089;
L1093: ( C89 /. ( R13 + 1 ) ) = ( D79 /. ( D78 + ( R13 + 1 ) ) ) by L954 , L955 , L1090;
L1094: (( ( D78 + R13 ) + 1 ) in ( dom D3 ) & ( C89 /. ( R13 + 1 ) ) = ( D3 /. ( ( D78 + R13 ) + 1 ) )) by L1093 , L956 , L954 , L955 , L1090;
let C99 , C100 , C101 , C102 being (Element of ( NAT ));
assume L1095: ([ C99 , C100 ] in ( Indices R19 ) & [ C101 , C102 ] in ( Indices R19 ) & ( C89 /. R13 ) = ( R19 * (C99 , C100) ) & ( C89 /. ( R13 + 1 ) ) = ( R19 * (C101 , C102) ));
L1096: ( D78 + R13 ) in ( dom D3 ) by L956 , L954 , L955 , L1089;
thus L1097: ( ( abs ( C99 - C101 ) ) + ( abs ( C100 - C102 ) ) ) = 1 by L1096 , L19 , L1092 , L1094 , L1095 , GOBOARD1:def 9;
end;
L1098: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom ( C57 ^ C89 ) ) & ( R13 + 1 ) in ( dom ( C57 ^ C89 ) )) implies (for B33 , B34 , B35 , B36 being (Element of ( NAT )) holds (([ B33 , B34 ] in ( Indices R19 ) & [ B35 , B36 ] in ( Indices R19 ) & ( ( C57 ^ C89 ) /. R13 ) = ( R19 * (B33 , B34) ) & ( ( C57 ^ C89 ) /. ( R13 + 1 ) ) = ( R19 * (B35 , B36) )) implies ( ( abs ( B33 - B35 ) ) + ( abs ( B34 - B36 ) ) ) = 1)))) by L1088 , L697 , L1072 , GOBOARD1:24;
L1099: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom D81 ) & ( R13 + 1 ) in ( dom D81 )) implies (for B37 , B38 , B39 , B40 being (Element of ( NAT )) holds (([ B37 , B38 ] in ( Indices R19 ) & [ B39 , B40 ] in ( Indices R19 ) & ( D81 /. R13 ) = ( R19 * (B37 , B38) ) & ( D81 /. ( R13 + 1 ) ) = ( R19 * (B39 , B40) )) implies ( ( abs ( B37 - B39 ) ) + ( abs ( B38 - B40 ) ) ) = 1)))) by L1098 , L820 , L979 , GOBOARD1:24;
L1100: D81 is_sequence_on R19 by L1099 , L1071 , GOBOARD1:def 9;
L1101: D81 is_sequence_on D49 by L1100 , L103 , L229 , L1063 , GOBOARD1:25;
set D91 = the (Element of ( ( rng D81 ) /\ ( rng C52 ) ));
L1102: ( ( 0 ) + ( 0 ) ) <= ( ( len C57 ) + ( len C66 ) ) by NAT_1:2;
L1103: ( ( 0 ) + 1 ) <= ( ( len C89 ) + ( ( len C57 ) + ( len C66 ) ) ) by L1102 , L954 , L978 , XREAL_1:7;
L1104:
now
per cases ;
suppose L1105: D7 = 1;

L1106: D61 in ( Seg D62 ) by L607 , L951 , FINSEQ_1:1;
L1107: 1 in ( Seg D77 ) by L978 , FINSEQ_1:1;
L1108: C57 = ( {} ) by L612 , L1105;
L1109: D81 = ( C89 ^ C66 ) by L1108 , FINSEQ_1:34;
L1110: ( D81 /. 1 ) = ( C89 /. 1 ) by L1109 , L954 , L955 , L1107 , FINSEQ_4:68
.= ( D79 /. ( D78 + 1 ) ) by L954 , L1107
.= ( D3 /. D61 ) by L606 , L1106 , FINSEQ_4:71;
thus L1111: ( D81 /. 1 ) in ( rng ( Line (R19 , 1) ) ) by L1110 , L600 , L1105;
end;
suppose L1112: D7 <> 1;

L1113: 1 <= D7 by L55 , FINSEQ_3:25;
L1114: 1 < D7 by L1113 , L1112 , XXREAL_0:1;
L1115: ( 1 + 1 ) <= D7 by L1114 , NAT_1:13;
L1116: 1 <= D10 by L1115 , XREAL_1:19;
L1117: 1 in ( Seg D10 ) by L1116 , FINSEQ_1:1;
L1118: ( len ( Line (R19 , 1) ) ) = ( width R19 ) by MATRIX_1:def 7;
L1119: C56 in ( dom D4 ) by L1118 , L610 , L683 , FINSEQ_1:def 3;
L1120: ( D4 /. C56 ) = ( D4 . C56 ) by L1119 , PARTFUN1:def 6;
L1121: (( len ( C57 ^ C89 ) ) = ( ( len C57 ) + ( len C89 ) ) & ( 0 ) <= ( len C89 )) by FINSEQ_1:22 , NAT_1:2;
L1122: ( ( 0 ) + 1 ) <= ( len ( C57 ^ C89 ) ) by L1121 , L612 , L1116 , XREAL_1:7;
L1123: 1 in ( dom ( C57 ^ C89 ) ) by L1122 , FINSEQ_3:25;
L1124: ( D81 /. 1 ) = ( ( C57 ^ C89 ) /. 1 ) by L1123 , FINSEQ_4:68
.= ( C57 /. 1 ) by L612 , L807 , L1117 , FINSEQ_4:68
.= ( R19 * (1 , C56) ) by L612 , L807 , L1117
.= ( D4 /. C56 ) by L610 , L683 , L1120 , MATRIX_1:def 7;
thus L1125: ( D81 /. 1 ) in ( rng ( Line (R19 , 1) ) ) by L1124 , L1119 , PARTFUN2:2;
end;
end;
L1127: ( D78 + D77 ) = D62;
L1128:
now
per cases ;
suppose L1129: D8 = ( len R19 );

L1130: 1 <= D62 by L31 , L606 , FINSEQ_1:1;
L1131: D62 in ( Seg D62 ) by L1130 , FINSEQ_1:1;
L1132: ( len C89 ) in ( dom C89 ) by L954 , L978 , FINSEQ_3:25;
L1133: C66 = ( {} ) by L716 , L1129;
L1134: D81 = ( C57 ^ C89 ) by L1133 , FINSEQ_1:34;
L1135: ( D81 /. ( len D81 ) ) = ( D81 /. ( ( len C57 ) + ( len C89 ) ) ) by L1134 , FINSEQ_1:22
.= ( C89 /. D77 ) by L954 , L1134 , L1132 , FINSEQ_4:69
.= ( D79 /. D62 ) by L954 , L955 , L1127 , L1132
.= ( D3 /. D62 ) by L606 , L1131 , FINSEQ_4:71;
thus L1136: ( D81 /. ( len D81 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) by L1135 , L606 , L1129;
end;
suppose L1137: D8 <> ( len R19 );

L1138: D8 <= ( len R19 ) by L57 , FINSEQ_3:25;
L1139: D8 < ( len R19 ) by L1138 , L1137 , XXREAL_0:1;
L1140: ( D8 + 1 ) <= ( len R19 ) by L1139 , NAT_1:13;
L1141: 1 <= D11 by L1140 , XREAL_1:19;
L1142: D11 in ( Seg D11 ) by L1141 , FINSEQ_1:1;
L1143: ( len ( Line (R19 , ( len R19 )) ) ) = ( width R19 ) by MATRIX_1:def 7;
L1144: C55 in ( dom D5 ) by L1143 , L608 , L594 , FINSEQ_1:def 3;
L1145: ( D5 /. C55 ) = ( D5 . C55 ) by L1144 , PARTFUN1:def 6;
L1146: ( len C66 ) in ( dom C66 ) by L716 , L1141 , FINSEQ_3:25;
L1147: ( D81 /. ( len D81 ) ) = ( D81 /. ( ( len ( C57 ^ C89 ) ) + ( len C66 ) ) ) by FINSEQ_1:22
.= ( C66 /. D11 ) by L716 , L1146 , FINSEQ_4:69
.= ( R19 * (( D8 + D11 ) , C55) ) by L716 , L836 , L1142
.= ( D5 /. C55 ) by L608 , L594 , L1145 , MATRIX_1:def 7;
thus L1148: ( D81 /. ( len D81 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) by L1147 , L1144 , PARTFUN2:2;
end;
end;
L1150: ( rng C52 ) c= ( rng R8 ) by L590 , L593 , XBOOLE_1:1;
L1151: ( rng C52 ) c= ( rng R11 ) by L1150 , L283 , XBOOLE_1:1;
L1152: ( len D81 ) = ( ( len ( C57 ^ C89 ) ) + ( len C66 ) ) by FINSEQ_1:22
.= ( ( ( len C57 ) + ( len C89 ) ) + ( len C66 ) ) by FINSEQ_1:22;
L1153: 1 in ( dom D81 ) by L1152 , L1103 , FINSEQ_3:25;
L1154: ( D81 /. 1 ) in ( rng ( Line (D49 , 1) ) ) by L1153 , L103 , L34 , L229 , L1104 , L1063 , GOBOARD1:21;
L1155: ( len D81 ) in ( dom D81 ) by L1152 , L1103 , FINSEQ_3:25;
L1156: ( D81 /. ( len D81 ) ) in ( rng ( Line (D49 , ( len D49 )) ) ) by L1155 , L103 , L35 , L229 , L230 , L1128 , L1063 , GOBOARD1:21;
L1157: ( width D49 ) = R17 by L4 , L103 , L131 , GOBOARD1:10 , NAT_1:3;
L1158: ( ( rng D81 ) /\ ( rng C52 ) ) <> ( {} ) by L1157 , L3 , L132 , L592 , L1152 , L1103 , L1101 , L1154 , L1156;
L1159: D91 in ( ( rng D81 ) /\ ( rng C52 ) ) by L1158;
L1160: ( ( rng C52 ) /\ ( rng D81 ) ) = ( ( ( ( rng C57 ) \/ ( rng C89 ) ) /\ ( rng C52 ) ) \/ ( {} ) ) by L854 , L995 , XBOOLE_1:23
.= ( ( {} ) \/ ( ( rng C89 ) /\ ( rng C52 ) ) ) by L719 , XBOOLE_1:23
.= ( ( rng C52 ) /\ ( rng C89 ) );
L1161: ( ( rng D81 ) /\ ( rng C52 ) ) c= ( ( rng R11 ) /\ ( rng R12 ) ) by L1160 , L1151 , L967 , XBOOLE_1:27;
thus L1162: thesis by L1161 , L1159;
end;
suppose L1163: D62 < D61;

L1164: D61 <= ( D61 + 1 ) by NAT_1:11;
reconsider D92 = ( ( D61 + 1 ) - D62 ) as (Element of ( NAT )) by L1164 , L1163 , INT_1:5 , XXREAL_0:2;
set D93 = ( D3 | D61 );
defpred S13[ Nat , (Element of ( TOP-REAL 2 )) ] means (for R17 being (Element of ( NAT )) holds (R17 = ( ( D61 + 1 ) - $1 ) implies $2 = ( D93 /. R17 )));
L1165: (for R13 being (Element of ( NAT )) holds (for R17 being (Element of ( NAT )) holds ((R13 in ( Seg D92 ) & R17 = ( ( D61 + 1 ) - R13 )) implies (( D93 /. R17 ) = ( D3 /. R17 ) & R17 in ( dom D3 )))))
proof
let R13 being (Element of ( NAT ));
let R17 being (Element of ( NAT ));
assume that
L1166: R13 in ( Seg D92 )
and
L1167: R17 = ( ( D61 + 1 ) - R13 );
L1168: R13 <= D92 by L1166 , FINSEQ_1:1;
L1169: 1 <= R13 by L1166 , FINSEQ_1:1;
L1170: ( ( D61 + 1 ) - R13 ) <= ( ( D61 + 1 ) - 1 ) by L1169 , XREAL_1:13;
L1171: ( 0 ) <= D62 by NAT_1:2;
L1172: D92 <= ( ( D61 + 1 ) - ( 0 ) ) by L1171 , XREAL_1:13;
reconsider D94 = ( ( D61 + 1 ) - R13 ) as (Element of ( NAT )) by L1172 , L1168 , INT_1:5 , XXREAL_0:2;
L1173: ( ( D61 + 1 ) - D92 ) <= ( ( D61 + 1 ) - R13 ) by L1168 , XREAL_1:13;
L1174: 1 <= ( ( D61 + 1 ) - R13 ) by L1173 , L838 , XXREAL_0:2;
L1175: D94 in ( Seg D61 ) by L1174 , L1170 , FINSEQ_1:1;
thus L1176: thesis by L1175 , L600 , L1167 , FINSEQ_4:71;
end;
L1177: (for R13 being (Element of ( NAT )) holds (R13 in ( Seg D92 ) implies ( ( D61 + 1 ) - R13 ) is (Element of ( NAT ))))
proof
let R13 being (Element of ( NAT ));
L1178: ( 0 ) <= D62 by NAT_1:2;
L1179: D92 <= ( ( D61 + 1 ) - ( 0 ) ) by L1178 , XREAL_1:13;
assume L1180: R13 in ( Seg D92 );
L1181: R13 <= D92 by L1180 , FINSEQ_1:1;
thus L1182: thesis by L1181 , L1179 , INT_1:5 , XXREAL_0:2;
end;
L1183: (for B41 being Nat holds (B41 in ( Seg D92 ) implies (ex R1 being (Point of ( TOP-REAL 2 )) st S13[ B41 , R1 ])))
proof
let C103 being Nat;
assume L1184: C103 in ( Seg D92 );
reconsider D95 = ( ( D61 + 1 ) - C103 ) as (Element of ( NAT )) by L1184 , L1177;
take ( D3 /. D95 );
thus L1185: thesis by L1165 , L1184;
end;
consider C104 being (FinSequence of ( TOP-REAL 2 )) such that L1186: (( len C104 ) = D92 & (for B42 being Nat holds (B42 in ( Seg D92 ) implies S13[ B42 , ( C104 /. B42 ) ]))) from FINSEQ_4:sch 1(L1183);
set D96 = ( C57 ^ C104 );
set D97 = ( ( C57 ^ C104 ) ^ C66 );
L1187: ( Seg ( len C104 ) ) = ( dom C104 ) by FINSEQ_1:def 3;
L1188: ( rng C104 ) c= ( rng R12 )
proof
let R20 being set;
assume L1189: R20 in ( rng C104 );
consider R13 being (Element of ( NAT )) such that L1190: R13 in ( dom C104 ) and L1191: R20 = ( C104 /. R13 ) by L1189 , PARTFUN2:2;
reconsider D98 = ( ( D61 + 1 ) - R13 ) as (Element of ( NAT )) by L1177 , L1186 , L1187 , L1190;
L1192: ( C104 /. R13 ) = ( D93 /. D98 ) by L1186 , L1187 , L1190;
L1193: (( ( D61 + 1 ) - R13 ) in ( dom D3 ) & ( C104 /. R13 ) = ( D3 /. D98 )) by L1192 , L1165 , L1186 , L1187 , L1190;
L1194: R20 in ( rng D3 ) by L1193 , L1191 , PARTFUN2:2;
thus L1195: thesis by L1194 , L22;
end;
L1196: ( D62 + 1 ) <= D61 by L1163 , NAT_1:13;
L1197: ( D62 + 1 ) <= ( D61 + 1 ) by L1196 , NAT_1:13;
L1198: 1 <= D92 by L1197 , XREAL_1:19;
L1199:
now
reconsider D99 = ( ( D61 + 1 ) - D92 ) as (Element of ( NAT ));
let C105 , C106 , C107 , C108 being (Element of ( NAT ));
assume that
L1200: [ C105 , C106 ] in ( Indices R19 )
and
L1201: [ C107 , C108 ] in ( Indices R19 )
and
L1202: ( D96 /. ( len D96 ) ) = ( R19 * (C105 , C106) )
and
L1203: ( C66 /. 1 ) = ( R19 * (C107 , C108) )
and
L1204: ( len D96 ) in ( dom D96 )
and
L1205: 1 in ( dom C66 );
L1206: ( D8 + 1 ) in ( dom R19 ) by L808 , L1205;
L1207: [ ( D8 + 1 ) , C55 ] in ( Indices R19 ) by L1206 , L138 , L608 , L594 , ZFMISC_1:87;
L1208: [ D8 , C55 ] in ( Indices R19 ) by L57 , L138 , L608 , L594 , ZFMISC_1:87;
L1209: ( len C104 ) in ( dom C104 ) by L1186 , L1198 , FINSEQ_3:25;
L1210: ( D96 /. ( len D96 ) ) = ( D96 /. ( ( len C57 ) + ( len C104 ) ) ) by FINSEQ_1:22
.= ( C104 /. ( len C104 ) ) by L1209 , FINSEQ_4:69
.= ( D93 /. D99 ) by L1186 , L1187 , L1209
.= ( D3 /. D99 ) by L1165 , L1186 , L1187 , L1209
.= ( R19 * (D8 , C55) ) by L608 , L609 , L594 , L714 , MATRIX_1:def 7;
L1211: (C105 = D8 & C106 = C55) by L1210 , L1200 , L1202 , L1208 , GOBOARD1:5;
L1212: ( C66 /. 1 ) = ( R19 * (( D8 + 1 ) , C55) ) by L716 , L1205;
L1213: (C107 = ( D8 + 1 ) & C108 = C55) by L1212 , L1201 , L1203 , L1207 , GOBOARD1:5;
thus L1214: ( ( abs ( C105 - C107 ) ) + ( abs ( C106 - C108 ) ) ) = ( ( abs ( D8 - ( D8 + 1 ) ) ) + ( 0 ) ) by L1213 , L1211 , ABSVALUE:2
.= ( abs ( - ( ( D8 + 1 ) - D8 ) ) )
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L1215:
now
let R13 being (Element of ( NAT ));
assume L1216: R13 in ( dom C104 );
reconsider D100 = ( ( D61 + 1 ) - R13 ) as (Element of ( NAT )) by L1216 , L1177 , L1186 , L1187;
L1217: ( C104 /. R13 ) = ( D93 /. D100 ) by L1186 , L1187 , L1216;
L1218: ( ( D61 + 1 ) - R13 ) in ( dom D3 ) by L1217 , L1165 , L1186 , L1187 , L1216;
consider R15 being (Element of ( NAT )), R16 being (Element of ( NAT )) such that L1219: ([ R15 , R16 ] in ( Indices R19 ) & ( D3 /. D100 ) = ( R19 * (R15 , R16) )) by L1218 , L19 , GOBOARD1:def 9;
take D101 = R15;
take D102 = R16;
thus L1220: ([ D101 , D102 ] in ( Indices R19 ) & ( C104 /. R13 ) = ( R19 * (D101 , D102) )) by L1165 , L1186 , L1187 , L1216 , L1217 , L1219;
end;
L1221: (for R13 being (Element of ( NAT )) holds (R13 in ( dom ( C57 ^ C104 ) ) implies (ex R15 being (Element of ( NAT )) st (ex R16 being (Element of ( NAT )) st ([ R15 , R16 ] in ( Indices R19 ) & ( ( C57 ^ C104 ) /. R13 ) = ( R19 * (R15 , R16) )))))) by L1215 , L693 , GOBOARD1:23;
L1222: (for R13 being (Element of ( NAT )) holds (R13 in ( dom D97 ) implies (ex R15 being (Element of ( NAT )) st (ex R16 being (Element of ( NAT )) st ([ R15 , R16 ] in ( Indices R19 ) & ( D97 /. R13 ) = ( R19 * (R15 , R16) )))))) by L1221 , L816 , GOBOARD1:23;
set D103 = the (Element of ( ( rng D97 ) /\ ( rng C52 ) ));
L1223: ( ( 0 ) + ( 0 ) ) <= ( ( len C57 ) + ( len C66 ) ) by NAT_1:2;
L1224: ( ( 0 ) + 1 ) <= ( ( len C104 ) + ( ( len C57 ) + ( len C66 ) ) ) by L1223 , L1186 , L1198 , XREAL_1:7;
L1225: ( rng D97 ) = ( ( rng ( C57 ^ C104 ) ) \/ ( rng C66 ) ) by FINSEQ_1:31
.= ( ( ( rng C57 ) \/ ( rng C104 ) ) \/ ( rng C66 ) ) by FINSEQ_1:31;
L1226: (for R17 being (Element of ( NAT )) holds ((R17 in ( Seg ( width R19 ) ) & ( ( rng C104 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} )) implies ( ( rng D97 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} )))
proof
L1227: ( len ( Col (R19 , C55) ) ) = ( len R19 ) by MATRIX_1:def 8;
L1228: ( len ( Col (R19 , C56) ) ) = ( len R19 ) by MATRIX_1:def 8;
let R17 being (Element of ( NAT ));
assume that
L1229: R17 in ( Seg ( width R19 ) )
and
L1230: ( ( rng C104 ) /\ ( rng ( Col (R19 , R17) ) ) ) = ( {} );
set D104 = ( Col (R19 , R17) );
assume L1231: ( ( rng D97 ) /\ ( rng D104 ) ) <> ( {} );
set D105 = the (Element of ( ( rng D97 ) /\ ( rng D104 ) ));
L1232: ( rng D97 ) = ( ( rng C104 ) \/ ( ( rng C57 ) \/ ( rng C66 ) ) ) by L1225 , XBOOLE_1:4;
L1233: ( ( rng D97 ) /\ ( rng D104 ) ) = ( ( {} ) \/ ( ( ( rng C57 ) \/ ( rng C66 ) ) /\ ( rng D104 ) ) ) by L1232 , L1230 , XBOOLE_1:23
.= ( ( ( rng C57 ) /\ ( rng D104 ) ) \/ ( ( rng C66 ) /\ ( rng D104 ) ) ) by XBOOLE_1:23;
L1234:
now
per cases  by L1231 , L1233 , XBOOLE_0:def 3;
suppose L1235: D105 in ( ( rng C57 ) /\ ( rng D104 ) );

L1236: D105 in ( rng D104 ) by L1235 , XBOOLE_0:def 4;
L1237: 1 in ( Seg D92 ) by L1198 , FINSEQ_1:1;
L1238: ( ( D61 + 1 ) - 1 ) = D61;
L1239: (( C104 /. 1 ) = ( D93 /. D61 ) & ( D93 /. D61 ) = ( D3 /. D61 )) by L1238 , L1165 , L1186 , L1237;
L1240: D105 in ( rng C57 ) by L1235 , XBOOLE_0:def 4;
consider R15 being (Element of ( NAT )) such that L1241: R15 in ( dom C57 ) and L1242: D105 = ( C57 /. R15 ) by L1240 , PARTFUN2:2;
L1243: D105 = ( R19 * (R15 , C56) ) by L612 , L1241 , L1242;
reconsider D106 = D105 as (Point of ( TOP-REAL 2 )) by L1242;
L1244: ( D9 /. C56 ) = ( D9 . C56 ) by L610 , PARTFUN1:def 6;
L1245: ( dom D64 ) = ( Seg ( len R19 ) ) by L1228 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L1246: R15 in ( dom D64 ) by L1245 , L684 , L1241;
L1247: ( D64 /. R15 ) = ( D64 . R15 ) by L684 , L1241 , L1245 , PARTFUN1:def 6;
L1248: D106 = ( D64 /. R15 ) by L1247 , L1243 , L1245 , L1246 , MATRIX_1:def 8;
L1249: D106 in ( rng D64 ) by L1248 , L1246 , PARTFUN2:2;
L1250: C56 = R17 by L1249 , L610 , L683 , L1229 , L1236 , GOBOARD1:4;
L1251: ( D64 /. D7 ) = ( D64 . D7 ) by L55 , L1245 , PARTFUN1:def 6;
L1252: ( C104 /. 1 ) = ( D64 /. D7 ) by L1251 , L55 , L610 , L611 , L683 , L1244 , L1239 , GOBOARD1:2;
L1253: ( C104 /. 1 ) in ( rng ( Col (R19 , R17) ) ) by L1252 , L55 , L1245 , L1250 , PARTFUN2:2;
L1254: ( C104 /. 1 ) in ( rng C104 ) by L1186 , L1187 , L1237 , PARTFUN2:2;
thus L1255: contradiction by L1254 , L1230 , L1253 , XBOOLE_0:def 4;
end;
suppose L1256: D105 in ( ( rng C66 ) /\ ( rng D104 ) );

L1257: D105 in ( rng C66 ) by L1256 , XBOOLE_0:def 4;
consider R15 being (Element of ( NAT )) such that L1258: R15 in ( dom C66 ) and L1259: D105 = ( C66 /. R15 ) by L1257 , PARTFUN2:2;
L1260: D105 = ( R19 * (( D8 + R15 ) , C55) ) by L716 , L1258 , L1259;
reconsider D107 = D105 as (Point of ( TOP-REAL 2 )) by L1259;
L1261: D105 in ( rng D104 ) by L1256 , XBOOLE_0:def 4;
reconsider D108 = ( ( D61 + 1 ) - D92 ) as (Element of ( NAT ));
L1262: ( D19 /. C55 ) = ( D19 . C55 ) by L608 , PARTFUN1:def 6;
L1263: ( dom D63 ) = ( Seg ( len R19 ) ) by L1227 , FINSEQ_1:def 3
.= ( dom R19 ) by FINSEQ_1:def 3;
L1264: ( D63 /. D8 ) = ( D63 . D8 ) by L1263 , L57 , PARTFUN1:def 6;
L1265: ( D8 + R15 ) in ( dom D63 ) by L808 , L1258 , L1263;
L1266: ( D63 /. ( D8 + R15 ) ) = ( D63 . ( D8 + R15 ) ) by L808 , L1258 , L1263 , PARTFUN1:def 6;
L1267: D107 = ( D63 /. ( D8 + R15 ) ) by L1266 , L1260 , L1263 , L1265 , MATRIX_1:def 8;
L1268: D107 in ( rng D63 ) by L1267 , L1265 , PARTFUN2:2;
L1269: C55 = R17 by L1268 , L608 , L594 , L1229 , L1261 , GOBOARD1:4;
L1270: D92 in ( Seg D92 ) by L1198 , FINSEQ_1:1;
L1271: (( C104 /. D92 ) = ( D93 /. D108 ) & ( D93 /. D108 ) = ( D3 /. D108 )) by L1270 , L1165 , L1186;
L1272: ( C104 /. D92 ) = ( D63 /. D8 ) by L1271 , L57 , L608 , L609 , L594 , L1262 , L1264 , GOBOARD1:2;
L1273: ( C104 /. D92 ) in ( rng ( Col (R19 , R17) ) ) by L1272 , L57 , L1263 , L1269 , PARTFUN2:2;
L1274: ( C104 /. D92 ) in ( rng C104 ) by L1186 , L1187 , L1270 , PARTFUN2:2;
thus L1275: contradiction by L1274 , L1230 , L1273 , XBOOLE_0:def 4;
end;
end;
thus L1277: contradiction by L1234;
end;
L1278: ( ( rng C104 ) /\ ( rng D55 ) ) = ( {} )
proof
set D109 = the (Element of ( ( rng C104 ) /\ ( rng D55 ) ));
assume L1279: (not thesis);
L1280: D109 in ( rng D55 ) by L1279 , XBOOLE_0:def 4;
L1281: D109 in ( rng C104 ) by L1279 , XBOOLE_0:def 4;
consider C109 being (Element of ( NAT )) such that L1282: C109 in ( dom C104 ) and L1283: ( C104 /. C109 ) = D109 by L1281 , PARTFUN2:2;
reconsider D110 = ( ( D61 + 1 ) - C109 ) as (Element of ( NAT )) by L1177 , L1186 , L1187 , L1282;
L1284: 1 <= C109 by L1282 , FINSEQ_3:25;
L1285: D110 <= ( ( D61 + 1 ) - 1 ) by L1284 , XREAL_1:13;
L1286: D110 in ( dom D3 ) by L1165 , L1186 , L1187 , L1282;
L1287: D110 in ( dom R12 ) by L1286 , L17 , L31 , L21 , FINSEQ_4:71;
L1288: (( C104 /. C109 ) = ( D93 /. D110 ) & ( D93 /. D110 ) = ( D3 /. D110 )) by L1165 , L1186 , L1187 , L1282;
L1289: ( R12 /. D110 ) in ( rng D55 ) by L1288 , L17 , L31 , L21 , L1280 , L1283 , L1286 , FINSEQ_4:71;
L1290: D2 <= D110 by L1289 , L17 , L1287;
thus L1291: contradiction by L1290 , L21 , L949 , L1285 , XXREAL_0:2;
end;
L1292: ( ( rng D97 ) /\ ( rng ( Col (R19 , ( width R19 )) ) ) ) = ( {} ) by L1278 , L103 , L1226;
L1293: ( rng D97 ) misses ( rng ( Col (R19 , ( width R19 )) ) ) by L1292 , XBOOLE_0:def 7;
L1294:
now
let R13 being (Element of ( NAT ));
assume that
L1295: R13 in ( dom C104 )
and
L1296: ( R13 + 1 ) in ( dom C104 );
reconsider D111 = ( ( D61 + 1 ) - R13 ) , D112 = ( ( D61 + 1 ) - ( R13 + 1 ) ) as (Element of ( NAT )) by L1177 , L1186 , L1187 , L1295 , L1296;
L1297: ( C104 /. R13 ) = ( D93 /. D111 ) by L1186 , L1187 , L1295;
L1298: (( ( D61 + 1 ) - R13 ) in ( dom D3 ) & ( C104 /. R13 ) = ( D3 /. D111 )) by L1297 , L1165 , L1186 , L1187 , L1295;
L1299: ( C104 /. ( R13 + 1 ) ) = ( D93 /. D112 ) by L1186 , L1187 , L1296;
L1300: (( ( D61 + 1 ) - ( R13 + 1 ) ) in ( dom D3 ) & ( C104 /. ( R13 + 1 ) ) = ( D3 /. D112 )) by L1299 , L1165 , L1186 , L1187 , L1296;
let C110 , C111 , C112 , C113 being (Element of ( NAT ));
assume L1301: ([ C110 , C111 ] in ( Indices R19 ) & [ C112 , C113 ] in ( Indices R19 ) & ( C104 /. R13 ) = ( R19 * (C110 , C111) ) & ( C104 /. ( R13 + 1 ) ) = ( R19 * (C112 , C113) ));
L1302: ( D112 + 1 ) = ( ( D61 + 1 ) - R13 );
thus L1303: 1 = ( ( abs ( C112 - C110 ) ) + ( abs ( C113 - C111 ) ) ) by L1302 , L19 , L1298 , L1300 , L1301 , GOBOARD1:def 9
.= ( ( abs ( - ( C110 - C112 ) ) ) + ( abs ( - ( C111 - C113 ) ) ) )
.= ( ( abs ( C110 - C112 ) ) + ( abs ( - ( C111 - C113 ) ) ) ) by COMPLEX1:52
.= ( ( abs ( C110 - C112 ) ) + ( abs ( C111 - C113 ) ) ) by COMPLEX1:52;
end;
L1304: ( ( D61 + 1 ) - 1 ) = D61;
L1305:
now
per cases ;
suppose L1306: D7 = 1;

L1307: D61 in ( Seg D61 ) by L607 , FINSEQ_1:1;
L1308: 1 in ( Seg D92 ) by L1198 , FINSEQ_1:1;
L1309: C57 = ( {} ) by L612 , L1306;
L1310: D97 = ( C104 ^ C66 ) by L1309 , FINSEQ_1:34;
L1311: ( D97 /. 1 ) = ( C104 /. 1 ) by L1310 , L1186 , L1187 , L1308 , FINSEQ_4:68
.= ( D93 /. D61 ) by L1186 , L1304 , L1308
.= ( D3 /. D61 ) by L600 , L1307 , FINSEQ_4:71;
thus L1312: ( D97 /. 1 ) in ( rng ( Line (R19 , 1) ) ) by L1311 , L600 , L1306;
end;
suppose L1313: D7 <> 1;

L1314: 1 <= D7 by L55 , FINSEQ_3:25;
L1315: 1 < D7 by L1314 , L1313 , XXREAL_0:1;
L1316: ( 1 + 1 ) <= D7 by L1315 , NAT_1:13;
L1317: 1 <= D10 by L1316 , XREAL_1:19;
L1318: 1 in ( Seg D10 ) by L1317 , FINSEQ_1:1;
L1319: ( len ( Line (R19 , 1) ) ) = ( width R19 ) by MATRIX_1:def 7;
L1320: C56 in ( dom D4 ) by L1319 , L610 , L683 , FINSEQ_1:def 3;
L1321: ( D4 /. C56 ) = ( D4 . C56 ) by L1320 , PARTFUN1:def 6;
L1322: (( len ( C57 ^ C104 ) ) = ( ( len C57 ) + ( len C104 ) ) & ( 0 ) <= ( len C104 )) by FINSEQ_1:22 , NAT_1:2;
L1323: ( ( 0 ) + 1 ) <= ( len ( C57 ^ C104 ) ) by L1322 , L612 , L1317 , XREAL_1:7;
L1324: 1 in ( dom ( C57 ^ C104 ) ) by L1323 , FINSEQ_3:25;
L1325: ( D97 /. 1 ) = ( ( C57 ^ C104 ) /. 1 ) by L1324 , FINSEQ_4:68
.= ( C57 /. 1 ) by L612 , L807 , L1318 , FINSEQ_4:68
.= ( R19 * (1 , C56) ) by L612 , L807 , L1318
.= ( D4 /. C56 ) by L610 , L683 , L1321 , MATRIX_1:def 7;
thus L1326: ( D97 /. 1 ) in ( rng ( Line (R19 , 1) ) ) by L1325 , L1320 , PARTFUN2:2;
end;
end;
L1328: ( rng C52 ) c= ( rng R8 ) by L590 , L593 , XBOOLE_1:1;
L1329: ( rng C52 ) c= ( rng R11 ) by L1328 , L283 , XBOOLE_1:1;
L1330:
now
L1331: [ D7 , C56 ] in ( Indices R19 ) by L55 , L138 , L610 , L683 , ZFMISC_1:87;
reconsider D113 = ( ( D61 + 1 ) - 1 ) as (Element of ( NAT ));
let C114 , C115 , C116 , C117 being (Element of ( NAT ));
assume that
L1332: [ C114 , C115 ] in ( Indices R19 )
and
L1333: [ C116 , C117 ] in ( Indices R19 )
and
L1334: ( C57 /. ( len C57 ) ) = ( R19 * (C114 , C115) )
and
L1335: ( C104 /. 1 ) = ( R19 * (C116 , C117) )
and
L1336: ( len C57 ) in ( dom C57 )
and
L1337: 1 in ( dom C104 );
L1338: ( C104 /. 1 ) = ( D93 /. D113 ) by L1186 , L1187 , L1337
.= ( D3 /. D113 ) by L1165 , L1186 , L1187 , L1337
.= ( R19 * (D7 , C56) ) by L610 , L611 , L683 , L916 , MATRIX_1:def 7;
L1339: (C116 = D7 & C117 = C56) by L1338 , L1333 , L1335 , L1331 , GOBOARD1:5;
L1340: D10 in ( dom R19 ) by L612 , L684 , L1336;
L1341: [ D10 , C56 ] in ( Indices R19 ) by L1340 , L138 , L610 , L683 , ZFMISC_1:87;
L1342: ( C57 /. ( len C57 ) ) = ( R19 * (D10 , C56) ) by L612 , L1336;
L1343: (C114 = D10 & C115 = C56) by L1342 , L1332 , L1334 , L1341 , GOBOARD1:5;
thus L1344: ( ( abs ( C114 - C116 ) ) + ( abs ( C115 - C117 ) ) ) = ( ( abs ( ( D7 - 1 ) - D7 ) ) + ( 0 ) ) by L1343 , L1339 , ABSVALUE:2
.= ( abs ( - 1 ) )
.= ( abs 1 ) by COMPLEX1:52
.= 1 by ABSVALUE:def 1;
end;
L1345: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom ( C57 ^ C104 ) ) & ( R13 + 1 ) in ( dom ( C57 ^ C104 ) )) implies (for B43 , B44 , B45 , B46 being (Element of ( NAT )) holds (([ B43 , B44 ] in ( Indices R19 ) & [ B45 , B46 ] in ( Indices R19 ) & ( ( C57 ^ C104 ) /. R13 ) = ( R19 * (B43 , B44) ) & ( ( C57 ^ C104 ) /. ( R13 + 1 ) ) = ( R19 * (B45 , B46) )) implies ( ( abs ( B43 - B45 ) ) + ( abs ( B44 - B46 ) ) ) = 1)))) by L1330 , L697 , L1294 , GOBOARD1:24;
L1346: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom D97 ) & ( R13 + 1 ) in ( dom D97 )) implies (for R14 being (Element of ( NAT )) holds (for R17 being (Element of ( NAT )) holds (for R15 being (Element of ( NAT )) holds (for R16 being (Element of ( NAT )) holds (([ R14 , R17 ] in ( Indices R19 ) & [ R15 , R16 ] in ( Indices R19 ) & ( D97 /. R13 ) = ( R19 * (R14 , R17) ) & ( D97 /. ( R13 + 1 ) ) = ( R19 * (R15 , R16) )) implies ( ( abs ( R14 - R15 ) ) + ( abs ( R17 - R16 ) ) ) = 1))))))) by L1345 , L820 , L1199 , GOBOARD1:24;
L1347: D97 is_sequence_on R19 by L1346 , L1222 , GOBOARD1:def 9;
L1348: D97 is_sequence_on D49 by L1347 , L103 , L229 , L1293 , GOBOARD1:25;
L1349: ( len D97 ) = ( ( len ( C57 ^ C104 ) ) + ( len C66 ) ) by FINSEQ_1:22
.= ( ( ( len C57 ) + ( len C104 ) ) + ( len C66 ) ) by FINSEQ_1:22;
L1350: 1 in ( dom D97 ) by L1349 , L1224 , FINSEQ_3:25;
L1351: ( D97 /. 1 ) in ( rng ( Line (D49 , 1) ) ) by L1350 , L103 , L34 , L229 , L1305 , L1293 , GOBOARD1:21;
L1352:
now
per cases ;
suppose L1353: D8 = ( len R19 );

L1354: D62 in ( Seg D61 ) by L838 , L1163 , FINSEQ_1:1;
L1355: ( ( D61 + 1 ) - ( ( D61 + 1 ) - D62 ) ) = D62;
L1356: ( len C104 ) in ( dom C104 ) by L1186 , L1198 , FINSEQ_3:25;
L1357: C66 = ( {} ) by L716 , L1353;
L1358: D97 = ( C57 ^ C104 ) by L1357 , FINSEQ_1:34;
L1359: ( D97 /. ( len D97 ) ) = ( D97 /. ( ( len C57 ) + ( len C104 ) ) ) by L1358 , FINSEQ_1:22
.= ( C104 /. D92 ) by L1186 , L1358 , L1356 , FINSEQ_4:69
.= ( D93 /. D62 ) by L1186 , L1187 , L1355 , L1356
.= ( D3 /. D62 ) by L600 , L1354 , FINSEQ_4:71;
thus L1360: ( D97 /. ( len D97 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) by L1359 , L606 , L1353;
end;
suppose L1361: D8 <> ( len R19 );

L1362: D8 <= ( len R19 ) by L57 , FINSEQ_3:25;
L1363: D8 < ( len R19 ) by L1362 , L1361 , XXREAL_0:1;
L1364: ( D8 + 1 ) <= ( len R19 ) by L1363 , NAT_1:13;
L1365: 1 <= D11 by L1364 , XREAL_1:19;
L1366: D11 in ( Seg D11 ) by L1365 , FINSEQ_1:1;
L1367: ( len ( Line (R19 , ( len R19 )) ) ) = ( width R19 ) by MATRIX_1:def 7;
L1368: C55 in ( dom D5 ) by L1367 , L608 , L594 , FINSEQ_1:def 3;
L1369: ( D5 /. C55 ) = ( D5 . C55 ) by L1368 , PARTFUN1:def 6;
L1370: ( len C66 ) in ( dom C66 ) by L716 , L1365 , FINSEQ_3:25;
L1371: ( D97 /. ( len D97 ) ) = ( D97 /. ( ( len ( C57 ^ C104 ) ) + ( len C66 ) ) ) by FINSEQ_1:22
.= ( C66 /. D11 ) by L716 , L1370 , FINSEQ_4:69
.= ( R19 * (( D8 + D11 ) , C55) ) by L716 , L836 , L1366
.= ( D5 /. C55 ) by L608 , L594 , L1369 , MATRIX_1:def 7;
thus L1372: ( D97 /. ( len D97 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) by L1371 , L1368 , PARTFUN2:2;
end;
end;
L1374: ( len D97 ) in ( dom D97 ) by L1349 , L1224 , FINSEQ_3:25;
L1375: ( D97 /. ( len D97 ) ) in ( rng ( Line (D49 , ( len D49 )) ) ) by L1374 , L103 , L35 , L229 , L230 , L1352 , L1293 , GOBOARD1:21;
L1376: ( width D49 ) = R17 by L4 , L103 , L131 , GOBOARD1:10 , NAT_1:3;
L1377: ( ( rng D97 ) /\ ( rng C52 ) ) <> ( {} ) by L1376 , L3 , L132 , L592 , L1349 , L1224 , L1348 , L1351 , L1375;
L1378: D103 in ( ( rng D97 ) /\ ( rng C52 ) ) by L1377;
L1379: ( ( rng C52 ) /\ ( rng D97 ) ) = ( ( ( ( rng C57 ) \/ ( rng C104 ) ) /\ ( rng C52 ) ) \/ ( {} ) ) by L854 , L1225 , XBOOLE_1:23
.= ( ( {} ) \/ ( ( rng C104 ) /\ ( rng C52 ) ) ) by L719 , XBOOLE_1:23
.= ( ( rng C52 ) /\ ( rng C104 ) );
L1380: ( ( rng D97 ) /\ ( rng C52 ) ) c= ( ( rng R11 ) /\ ( rng R12 ) ) by L1379 , L1329 , L1188 , XBOOLE_1:27;
thus L1381: thesis by L1380 , L1378;
end;
end;
thus L1383: thesis by L950;
end;
end;
thus L1385: thesis by L575;
end;
end;

end;
end;
thus L459: thesis by L133;
end;
end;
thus L461: thesis by L106;
end;
L462: S1[ ( 0 ) ];
L463: (for R17 being (Element of ( NAT )) holds S1[ R17 ]) from NAT_1:sch 1(L462 , L2);
L464:
now
let R17 being (Element of ( NAT ));
let R19 being Go-board;
let R11 being (FinSequence of ( TOP-REAL 2 ));
let R12 being (FinSequence of ( TOP-REAL 2 ));
assume L465: (R17 = ( width R19 ) & R17 > ( 0 ) & 1 <= ( len R11 ) & 1 <= ( len R12 ) & R11 is_sequence_on R19 & R12 is_sequence_on R19 & ( R11 /. 1 ) in ( rng ( Line (R19 , 1) ) ) & ( R11 /. ( len R11 ) ) in ( rng ( Line (R19 , ( len R19 )) ) ) & ( R12 /. 1 ) in ( rng ( Col (R19 , 1) ) ) & ( R12 /. ( len R12 ) ) in ( rng ( Col (R19 , ( width R19 )) ) ));
L466: ( ( rng R11 ) /\ ( rng R12 ) ) <> ( {} ) by L465 , L463;
thus L467: ( rng R11 ) meets ( rng R12 ) by L466 , XBOOLE_0:def 7;
end;
L468: ( width R18 ) <> ( 0 ) by GOBOARD1:def 3;
L469: ( width R18 ) > ( 0 ) by L468 , NAT_1:3;
assume L470: (1 <= ( len R9 ) & 1 <= ( len R10 ) & R9 is_sequence_on R18 & R10 is_sequence_on R18 & ( R9 /. 1 ) in ( rng ( Line (R18 , 1) ) ) & ( R9 /. ( len R9 ) ) in ( rng ( Line (R18 , ( len R18 )) ) ) & ( R10 /. 1 ) in ( rng ( Col (R18 , 1) ) ) & ( R10 /. ( len R10 ) ) in ( rng ( Col (R18 , ( width R18 )) ) ));
thus L471: thesis by L470 , L464 , L469;
end;
theorem
L472: (for R18 being Go-board holds (for R9 being (FinSequence of ( TOP-REAL 2 )) holds (for R10 being (FinSequence of ( TOP-REAL 2 )) holds ((2 <= ( len R9 ) & 2 <= ( len R10 ) & R9 is_sequence_on R18 & R10 is_sequence_on R18 & ( R9 /. 1 ) in ( rng ( Line (R18 , 1) ) ) & ( R9 /. ( len R9 ) ) in ( rng ( Line (R18 , ( len R18 )) ) ) & ( R10 /. 1 ) in ( rng ( Col (R18 , 1) ) ) & ( R10 /. ( len R10 ) ) in ( rng ( Col (R18 , ( width R18 )) ) )) implies ( L~ R9 ) meets ( L~ R10 )))))
proof
let R18 being Go-board;
let R9 being (FinSequence of ( TOP-REAL 2 ));
let R10 being (FinSequence of ( TOP-REAL 2 ));
assume that
L473: 2 <= ( len R9 )
and
L474: 2 <= ( len R10 )
and
L475: (R9 is_sequence_on R18 & R10 is_sequence_on R18 & ( R9 /. 1 ) in ( rng ( Line (R18 , 1) ) ) & ( R9 /. ( len R9 ) ) in ( rng ( Line (R18 , ( len R18 )) ) ) & ( R10 /. 1 ) in ( rng ( Col (R18 , 1) ) ) & ( R10 /. ( len R10 ) ) in ( rng ( Col (R18 , ( width R18 )) ) ));
L476: (1 <= ( len R9 ) & 1 <= ( len R10 )) by L473 , L474 , XXREAL_0:2;
L477: ( rng R9 ) meets ( rng R10 ) by L476 , L475 , L1;
consider C118 being set such that L478: C118 in ( rng R9 ) and L479: C118 in ( rng R10 ) by L477 , XBOOLE_0:3;
L480: (ex R14 being (Element of ( NAT )) st (R14 in ( dom R10 ) & ( R10 /. R14 ) = C118)) by L479 , PARTFUN2:2;
L481: C118 in ( L~ R10 ) by L480 , L474 , GOBOARD1:1;
L482: (ex R13 being (Element of ( NAT )) st (R13 in ( dom R9 ) & ( R9 /. R13 ) = C118)) by L478 , PARTFUN2:2;
L483: C118 in ( L~ R9 ) by L482 , L473 , GOBOARD1:1;
thus L484: thesis by L483 , L481 , XBOOLE_0:3;
end;
theorem
L485: (for R18 being Go-board holds (for R9 being (FinSequence of ( TOP-REAL 2 )) holds (for R10 being (FinSequence of ( TOP-REAL 2 )) holds ((2 <= ( len R9 ) & 2 <= ( len R10 ) & R9 is_sequence_on R18 & R10 is_sequence_on R18 & ( R9 /. 1 ) in ( rng ( Line (R18 , 1) ) ) & ( R9 /. ( len R9 ) ) in ( rng ( Line (R18 , ( len R18 )) ) ) & ( R10 /. 1 ) in ( rng ( Col (R18 , 1) ) ) & ( R10 /. ( len R10 ) ) in ( rng ( Col (R18 , ( width R18 )) ) )) implies ( L~ R9 ) meets ( L~ R10 ))))) by L472;
definition
let C119 being Relation;
let C120 , C121 being Real;
pred C119 lies_between C120 , C121
means
:L486: ( rng C119 ) c= [. C120 , C121 .]
;end;
definition
let C122 being (FinSequence of ( REAL ));
let C123 , C124 being Real;
redefine pred C122 lies_between C123 , C124
means
:L488: (for R13 being (Element of ( NAT )) holds (R13 in ( dom C122 ) implies (C123 <= ( C122 . R13 ) & ( C122 . R13 ) <= C124)))
;compatibility
proof
thus L489:now
assume L490: C122 lies_between C123 , C124;
L491: ( rng C122 ) c= [. C123 , C124 .] by L490 , L486;
let R13 being (Element of ( NAT ));
assume L492: R13 in ( dom C122 );
L493: ( C122 . R13 ) in ( rng C122 ) by L492 , FUNCT_1:3;
thus L494: (C123 <= ( C122 . R13 ) & ( C122 . R13 ) <= C124) by L493 , L491 , XXREAL_1:1;
end;
assume L495: (for R13 being (Element of ( NAT )) holds (R13 in ( dom C122 ) implies (C123 <= ( C122 . R13 ) & ( C122 . R13 ) <= C124)));
let C125 being set;
assume L496: C125 in ( rng C122 );
consider C126 being set such that L497: C126 in ( dom C122 ) and L498: C125 = ( C122 . C126 ) by L496 , FUNCT_1:def 3;
reconsider D114 = C126 as (Element of ( NAT )) by L497;
L499: (C123 <= ( C122 . D114 ) & ( C122 . D114 ) <= C124) by L495 , L497;
thus L500: thesis by L499 , L498 , XXREAL_1:1;
end;
end;
theorem
L502: (for B47 , B48 being (FinSequence of ( TOP-REAL 2 )) holds ((2 <= ( len B47 ) & 2 <= ( len B48 ) & B47 is  special & B48 is  special & (for R13 being (Element of ( NAT )) holds ((R13 in ( dom B47 ) & ( R13 + 1 ) in ( dom B47 )) implies ( B47 /. R13 ) <> ( B47 /. ( R13 + 1 ) ))) & (for R13 being (Element of ( NAT )) holds ((R13 in ( dom B48 ) & ( R13 + 1 ) in ( dom B48 )) implies ( B48 /. R13 ) <> ( B48 /. ( R13 + 1 ) ))) & ( X_axis B47 ) lies_between ( ( X_axis B47 ) . 1 ) , ( ( X_axis B47 ) . ( len B47 ) ) & ( X_axis B48 ) lies_between ( ( X_axis B47 ) . 1 ) , ( ( X_axis B47 ) . ( len B47 ) ) & ( Y_axis B47 ) lies_between ( ( Y_axis B48 ) . 1 ) , ( ( Y_axis B48 ) . ( len B48 ) ) & ( Y_axis B48 ) lies_between ( ( Y_axis B48 ) . 1 ) , ( ( Y_axis B48 ) . ( len B48 ) )) implies ( L~ B47 ) meets ( L~ B48 )))
proof
let C127 , C128 being (FinSequence of ( TOP-REAL 2 ));
assume that
L503: 2 <= ( len C127 )
and
L504: 2 <= ( len C128 )
and
L505: C127 is  special
and
L506: C128 is  special
and
L507: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom C127 ) & ( R13 + 1 ) in ( dom C127 )) implies ( C127 /. R13 ) <> ( C127 /. ( R13 + 1 ) )))
and
L508: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom C128 ) & ( R13 + 1 ) in ( dom C128 )) implies ( C128 /. R13 ) <> ( C128 /. ( R13 + 1 ) )))
and
L509: ( X_axis C127 ) lies_between ( ( X_axis C127 ) . 1 ) , ( ( X_axis C127 ) . ( len C127 ) )
and
L510: ( X_axis C128 ) lies_between ( ( X_axis C127 ) . 1 ) , ( ( X_axis C127 ) . ( len C127 ) )
and
L511: ( Y_axis C127 ) lies_between ( ( Y_axis C128 ) . 1 ) , ( ( Y_axis C128 ) . ( len C128 ) )
and
L512: ( Y_axis C128 ) lies_between ( ( Y_axis C128 ) . 1 ) , ( ( Y_axis C128 ) . ( len C128 ) );
L513: (( len C127 ) <> ( 0 ) & ( len C128 ) <> ( 0 )) by L503 , L504;
reconsider D115 = C127 , D116 = C128 as non  empty (FinSequence of ( TOP-REAL 2 )) by L513;
reconsider D117 = ( D115 ^ D116 ) as non  empty (FinSequence of ( TOP-REAL 2 ));
L514: ( Seg ( len D116 ) ) = ( dom D116 ) by FINSEQ_1:def 3;
reconsider D118 = ( D115 /. 1 ) , D119 = ( D115 /. ( len D115 ) ) , D120 = ( D116 /. 1 ) , D121 = ( D116 /. ( len D116 ) ) as (Point of ( TOP-REAL 2 ));
set D122 = ( X_axis D117 );
set D123 = ( Y_axis D117 );
set D124 = ( X_axis D115 );
set D125 = ( Y_axis D115 );
set D126 = ( X_axis D116 );
set D127 = ( Y_axis D116 );
L515: ( Seg ( len D115 ) ) = ( dom D115 ) by FINSEQ_1:def 3;
L516: 1 <= ( len D115 ) by L503 , XXREAL_0:2;
L517: 1 in ( dom D115 ) by L516 , FINSEQ_3:25;
L518: ( D117 /. 1 ) = ( D115 /. 1 ) by L517 , FINSEQ_4:68;
L519: ( Seg ( len D117 ) ) = ( dom D117 ) by FINSEQ_1:def 3;
set D128 = ( GoB D117 );
L520: (( dom D122 ) = ( Seg ( len D122 ) ) & ( len D122 ) = ( len D117 )) by FINSEQ_1:def 3 , GOBOARD1:def 1;
L521: (( Seg ( len D126 ) ) = ( dom D126 ) & ( len D126 ) = ( len D116 )) by FINSEQ_1:def 3 , GOBOARD1:def 1;
L522: ( len D117 ) = ( ( len D115 ) + ( len D116 ) ) by FINSEQ_1:22;
L523: (( Seg ( len D124 ) ) = ( dom D124 ) & ( len D124 ) = ( len D115 )) by FINSEQ_1:def 3 , GOBOARD1:def 1;
L524: ( D124 . 1 ) = ( D118 `1 ) by L523 , L515 , L517 , GOBOARD1:def 1;
L525:
now
let R14 being (Element of ( NAT ));
set D129 = ( D122 . R14 );
assume L526: R14 in ( dom D117 );
L527: R14 <= ( len D117 ) by L526 , FINSEQ_3:25;
L528: 1 <= R14 by L526 , FINSEQ_3:25;
L529:
now
per cases ;
suppose L530: R14 <= ( len D115 );

reconsider D130 = ( D115 /. R14 ) as (Point of ( TOP-REAL 2 ));
L531: R14 in ( dom D115 ) by L528 , L530 , FINSEQ_3:25;
L532: ( D117 /. R14 ) = D130 by L531 , FINSEQ_4:68;
L533: ( D122 . R14 ) = ( D130 `1 ) by L532 , L519 , L520 , L526 , GOBOARD1:def 1;
L534: ( D124 . R14 ) = ( D130 `1 ) by L515 , L523 , L531 , GOBOARD1:def 1;
thus L535: ( D118 `1 ) <= D129 by L534 , L509 , L515 , L523 , L524 , L531 , L533 , L488;
end;
suppose L536: ( len D115 ) < R14;

reconsider D131 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L536 , INT_1:5;
L537: D131 > ( 0 ) by L536 , XREAL_1:50;
L538: 1 <= D131 by L537 , NAT_1:14;
L539: R14 = ( D131 + ( len D115 ) );
reconsider D132 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L539;
reconsider D133 = ( D116 /. D132 ) as (Point of ( TOP-REAL 2 ));
L540: D131 <= ( len D116 ) by L522 , L527 , L539 , XREAL_1:6;
L541: ( D117 /. R14 ) = ( D116 /. D131 ) by L540 , L539 , L538 , SEQ_4:136;
L542: ( D122 . R14 ) = ( D133 `1 ) by L541 , L519 , L520 , L526 , GOBOARD1:def 1;
L543: D132 in ( dom D116 ) by L538 , L540 , FINSEQ_3:25;
L544: ( D126 . D132 ) = ( D133 `1 ) by L543 , L514 , L521 , GOBOARD1:def 1;
thus L545: ( D118 `1 ) <= D129 by L544 , L510 , L514 , L521 , L524 , L543 , L542 , L488;
end;
end;
thus L547: ( D118 `1 ) <= D129 by L529;
end;
L548: ( len D117 ) = ( ( len D115 ) + ( len D116 ) ) by FINSEQ_1:22;
L549: ( 2 + 2 ) <= ( len D117 ) by L548 , L503 , L504 , XREAL_1:7;
L550: 1 <= ( len D117 ) by L549 , XXREAL_0:2;
L551: 1 in ( dom D117 ) by L550 , FINSEQ_3:25;
L552: ( D122 . 1 ) = ( D118 `1 ) by L551 , L519 , L520 , L518 , GOBOARD1:def 1;
L553: ( D117 /. 1 ) in ( rng ( Line (D128 , 1) ) ) by L552 , L551 , L525 , GOBOARD2:15;
L554: ( len D115 ) in ( dom D115 ) by L516 , FINSEQ_3:25;
L555: ( D117 /. ( len D115 ) ) = ( D115 /. ( len D115 ) ) by L554 , FINSEQ_4:68;
L556: ( D124 . ( len D115 ) ) = ( D119 `1 ) by L515 , L523 , L554 , GOBOARD1:def 1;
L557:
now
let R14 being (Element of ( NAT ));
set D134 = ( D122 . R14 );
assume L558: R14 in ( dom D117 );
L559: R14 <= ( len D117 ) by L558 , FINSEQ_3:25;
L560: 1 <= R14 by L558 , FINSEQ_3:25;
L561:
now
per cases ;
suppose L562: R14 <= ( len D115 );

reconsider D135 = ( D115 /. R14 ) as (Point of ( TOP-REAL 2 ));
L563: R14 in ( dom D115 ) by L560 , L562 , FINSEQ_3:25;
L564: ( D117 /. R14 ) = D135 by L563 , FINSEQ_4:68;
L565: ( D122 . R14 ) = ( D135 `1 ) by L564 , L519 , L520 , L558 , GOBOARD1:def 1;
L566: ( D124 . R14 ) = ( D135 `1 ) by L515 , L523 , L563 , GOBOARD1:def 1;
thus L567: D134 <= ( D119 `1 ) by L566 , L509 , L515 , L523 , L556 , L563 , L565 , L488;
end;
suppose L568: ( len D115 ) < R14;

reconsider D136 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L568 , INT_1:5;
L569: D136 > ( 0 ) by L568 , XREAL_1:50;
L570: 1 <= D136 by L569 , NAT_1:14;
L571: R14 = ( D136 + ( len D115 ) );
reconsider D137 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L571;
reconsider D138 = ( D116 /. D137 ) as (Point of ( TOP-REAL 2 ));
L572: D136 <= ( len D116 ) by L522 , L559 , L571 , XREAL_1:6;
L573: ( D117 /. R14 ) = ( D116 /. D136 ) by L572 , L571 , L570 , SEQ_4:136;
L574: ( D122 . R14 ) = ( D138 `1 ) by L573 , L519 , L520 , L558 , GOBOARD1:def 1;
L575: D137 in ( dom D116 ) by L570 , L572 , FINSEQ_3:25;
L576: ( D126 . D137 ) = ( D138 `1 ) by L575 , L514 , L521 , GOBOARD1:def 1;
thus L577: D134 <= ( D119 `1 ) by L576 , L510 , L514 , L521 , L556 , L575 , L574 , L488;
end;
end;
thus L579: D134 <= ( D119 `1 ) by L561;
end;
L580: ( dom D115 ) c= ( dom D117 ) by FINSEQ_1:26;
L581: ( D122 . ( len D115 ) ) = ( D119 `1 ) by L580 , L519 , L520 , L554 , L555 , GOBOARD1:def 1;
L582: ( D117 /. ( len D115 ) ) in ( rng ( Line (D128 , ( len D128 )) ) ) by L581 , L580 , L554 , L557 , GOBOARD2:16;
L583:
now
let R13 being (Element of ( NAT ));
assume L584: R13 in ( dom D115 );
L585: ( dom D115 ) c= ( dom D117 ) by FINSEQ_1:26;
consider R15 being (Element of ( NAT )), R16 being (Element of ( NAT )) such that L586: ([ R15 , R16 ] in ( Indices D128 ) & ( D117 /. R13 ) = ( D128 * (R15 , R16) )) by L585 , L584 , GOBOARD2:14;
take D139 = R15;
take D140 = R16;
thus L587: ([ D139 , D140 ] in ( Indices D128 ) & ( D115 /. R13 ) = ( D128 * (D139 , D140) )) by L584 , L586 , FINSEQ_4:68;
end;
consider R11 being (FinSequence of ( TOP-REAL 2 )) such that L588: (R11 is_sequence_on D128 & ( L~ R11 ) = ( L~ D115 ) & ( R11 /. 1 ) = ( D115 /. 1 ) & ( R11 /. ( len R11 ) ) = ( D115 /. ( len D115 ) )) and L589: ( len D115 ) <= ( len R11 ) by L583 , L505 , L507 , GOBOARD2:12;
L590:
now
let R13 being (Element of ( NAT ));
assume L591: R13 in ( dom D116 );
L592: ( ( len D115 ) + R13 ) in ( dom D117 ) by L591 , FINSEQ_1:28;
consider R15 being (Element of ( NAT )), R16 being (Element of ( NAT )) such that L593: ([ R15 , R16 ] in ( Indices D128 ) & ( D117 /. ( ( len D115 ) + R13 ) ) = ( D128 * (R15 , R16) )) by L592 , GOBOARD2:14;
take D141 = R15;
take D142 = R16;
thus L594: ([ D141 , D142 ] in ( Indices D128 ) & ( D116 /. R13 ) = ( D128 * (D141 , D142) )) by L591 , L593 , FINSEQ_4:69;
end;
consider R12 being (FinSequence of ( TOP-REAL 2 )) such that L595: (R12 is_sequence_on D128 & ( L~ R12 ) = ( L~ D116 ) & ( R12 /. 1 ) = ( D116 /. 1 ) & ( R12 /. ( len R12 ) ) = ( D116 /. ( len D116 ) )) and L596: ( len D116 ) <= ( len R12 ) by L590 , L506 , L508 , GOBOARD2:12;
L597: 2 <= ( len R12 ) by L504 , L596 , XXREAL_0:2;
L598: 1 <= ( len D116 ) by L504 , XXREAL_0:2;
L599: 1 in ( dom D116 ) by L598 , FINSEQ_3:25;
L600: ( D117 /. ( ( len D115 ) + 1 ) ) = ( D116 /. 1 ) by L599 , FINSEQ_4:69;
L601: (( Seg ( len D123 ) ) = ( dom D123 ) & ( len D123 ) = ( len D117 )) by FINSEQ_1:def 3 , GOBOARD1:def 2;
L602: (( Seg ( len D125 ) ) = ( dom D125 ) & ( len D125 ) = ( len D115 )) by FINSEQ_1:def 3 , GOBOARD1:def 2;
L603: (( Seg ( len D127 ) ) = ( dom D127 ) & ( len D127 ) = ( len D116 )) by FINSEQ_1:def 3 , GOBOARD1:def 2;
L604: ( D127 . 1 ) = ( D120 `2 ) by L603 , L514 , L599 , GOBOARD1:def 2;
L605:
now
let R14 being (Element of ( NAT ));
set D143 = ( D123 . R14 );
assume L606: R14 in ( dom D117 );
L607: R14 <= ( len D117 ) by L606 , FINSEQ_3:25;
L608: 1 <= R14 by L606 , FINSEQ_3:25;
L609:
now
per cases ;
suppose L610: R14 <= ( len D115 );

reconsider D144 = ( D115 /. R14 ) as (Point of ( TOP-REAL 2 ));
L611: R14 in ( dom D115 ) by L608 , L610 , FINSEQ_3:25;
L612: ( D117 /. R14 ) = D144 by L611 , FINSEQ_4:68;
L613: ( D123 . R14 ) = ( D144 `2 ) by L612 , L519 , L601 , L606 , GOBOARD1:def 2;
L614: ( D125 . R14 ) = ( D144 `2 ) by L515 , L602 , L611 , GOBOARD1:def 2;
thus L615: ( D120 `2 ) <= D143 by L614 , L511 , L515 , L602 , L604 , L611 , L613 , L488;
end;
suppose L616: ( len D115 ) < R14;

reconsider D145 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L616 , INT_1:5;
L617: D145 > ( 0 ) by L616 , XREAL_1:50;
L618: 1 <= D145 by L617 , NAT_1:14;
L619: R14 = ( D145 + ( len D115 ) );
reconsider D146 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L619;
reconsider D147 = ( D116 /. D146 ) as (Point of ( TOP-REAL 2 ));
L620: D145 <= ( len D116 ) by L522 , L607 , L619 , XREAL_1:6;
L621: ( D117 /. R14 ) = ( D116 /. D145 ) by L620 , L619 , L618 , SEQ_4:136;
L622: ( D123 . R14 ) = ( D147 `2 ) by L621 , L519 , L601 , L606 , GOBOARD1:def 2;
L623: D146 in ( dom D116 ) by L618 , L620 , FINSEQ_3:25;
L624: ( D127 . D146 ) = ( D147 `2 ) by L623 , L514 , L603 , GOBOARD1:def 2;
thus L625: ( D120 `2 ) <= D143 by L624 , L512 , L514 , L603 , L604 , L623 , L622 , L488;
end;
end;
thus L627: ( D120 `2 ) <= D143 by L609;
end;
L628: ( ( len D115 ) + 1 ) in ( dom D117 ) by L599 , FINSEQ_1:28;
L629: ( D123 . ( ( len D115 ) + 1 ) ) = ( D120 `2 ) by L628 , L519 , L601 , L600 , GOBOARD1:def 2;
L630: ( D117 /. ( ( len D115 ) + 1 ) ) in ( rng ( Col (D128 , 1) ) ) by L629 , L628 , L605 , GOBOARD2:17;
L631: ( len D116 ) in ( dom D116 ) by L598 , FINSEQ_3:25;
L632: ( D117 /. ( ( len D115 ) + ( len D116 ) ) ) = ( D116 /. ( len D116 ) ) by L631 , FINSEQ_4:69;
L633: ( D127 . ( len D116 ) ) = ( D121 `2 ) by L514 , L603 , L631 , GOBOARD1:def 2;
L634:
now
let R14 being (Element of ( NAT ));
set D148 = ( D123 . R14 );
assume L635: R14 in ( dom D117 );
L636: R14 <= ( len D117 ) by L635 , FINSEQ_3:25;
L637: 1 <= R14 by L635 , FINSEQ_3:25;
L638:
now
per cases ;
suppose L639: R14 <= ( len D115 );

reconsider D149 = ( D115 /. R14 ) as (Point of ( TOP-REAL 2 ));
L640: R14 in ( dom D115 ) by L637 , L639 , FINSEQ_3:25;
L641: ( D117 /. R14 ) = D149 by L640 , FINSEQ_4:68;
L642: ( D123 . R14 ) = ( D149 `2 ) by L641 , L519 , L601 , L635 , GOBOARD1:def 2;
L643: ( D125 . R14 ) = ( D149 `2 ) by L515 , L602 , L640 , GOBOARD1:def 2;
thus L644: D148 <= ( D121 `2 ) by L643 , L511 , L515 , L602 , L633 , L640 , L642 , L488;
end;
suppose L645: ( len D115 ) < R14;

reconsider D150 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L645 , INT_1:5;
L646: D150 > ( 0 ) by L645 , XREAL_1:50;
L647: 1 <= D150 by L646 , NAT_1:14;
L648: R14 = ( D150 + ( len D115 ) );
reconsider D151 = ( R14 - ( len D115 ) ) as (Element of ( NAT )) by L648;
reconsider D152 = ( D116 /. D151 ) as (Point of ( TOP-REAL 2 ));
L649: D150 <= ( len D116 ) by L522 , L636 , L648 , XREAL_1:6;
L650: ( D117 /. R14 ) = ( D116 /. D150 ) by L649 , L648 , L647 , SEQ_4:136;
L651: ( D123 . R14 ) = ( D152 `2 ) by L650 , L519 , L601 , L635 , GOBOARD1:def 2;
L652: D151 in ( dom D116 ) by L647 , L649 , FINSEQ_3:25;
L653: ( D127 . D151 ) = ( D152 `2 ) by L652 , L514 , L603 , GOBOARD1:def 2;
thus L654: D148 <= ( D121 `2 ) by L653 , L512 , L514 , L603 , L633 , L652 , L651 , L488;
end;
end;
thus L656: D148 <= ( D121 `2 ) by L638;
end;
L657: ( ( len D115 ) + ( len D116 ) ) in ( dom D117 ) by L631 , FINSEQ_1:28;
L658: ( D123 . ( ( len D115 ) + ( len D116 ) ) ) = ( D121 `2 ) by L657 , L519 , L601 , L632 , GOBOARD1:def 2;
L659: ( D117 /. ( ( len D115 ) + ( len D116 ) ) ) in ( rng ( Col (D128 , ( width D128 )) ) ) by L658 , L657 , L634 , GOBOARD2:18;
L660: 2 <= ( len R11 ) by L503 , L589 , XXREAL_0:2;
thus L661: thesis by L660 , L588 , L595 , L518 , L555 , L600 , L632 , L553 , L582 , L630 , L659 , L597 , L472;
end;
theorem
L662: (for B49 , B50 being (FinSequence of ( TOP-REAL 2 )) holds ((B49 is  one-to-one  special & 2 <= ( len B49 ) & B50 is  one-to-one  special & 2 <= ( len B50 ) & ( X_axis B49 ) lies_between ( ( X_axis B49 ) . 1 ) , ( ( X_axis B49 ) . ( len B49 ) ) & ( X_axis B50 ) lies_between ( ( X_axis B49 ) . 1 ) , ( ( X_axis B49 ) . ( len B49 ) ) & ( Y_axis B49 ) lies_between ( ( Y_axis B50 ) . 1 ) , ( ( Y_axis B50 ) . ( len B50 ) ) & ( Y_axis B50 ) lies_between ( ( Y_axis B50 ) . 1 ) , ( ( Y_axis B50 ) . ( len B50 ) )) implies ( L~ B49 ) meets ( L~ B50 )))
proof
let C129 , C130 being (FinSequence of ( TOP-REAL 2 ));
assume that
L663: C129 is  one-to-one  special
and
L664: 2 <= ( len C129 )
and
L665: C130 is  one-to-one  special
and
L666: (2 <= ( len C130 ) & ( X_axis C129 ) lies_between ( ( X_axis C129 ) . 1 ) , ( ( X_axis C129 ) . ( len C129 ) ) & ( X_axis C130 ) lies_between ( ( X_axis C129 ) . 1 ) , ( ( X_axis C129 ) . ( len C129 ) ) & ( Y_axis C129 ) lies_between ( ( Y_axis C130 ) . 1 ) , ( ( Y_axis C130 ) . ( len C130 ) ) & ( Y_axis C130 ) lies_between ( ( Y_axis C130 ) . 1 ) , ( ( Y_axis C130 ) . ( len C130 ) ));
L667: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom C130 ) & ( R13 + 1 ) in ( dom C130 )) implies ( C130 /. R13 ) <> ( C130 /. ( R13 + 1 ) )))
proof
let R13 being (Element of ( NAT ));
assume L668: (R13 in ( dom C130 ) & ( R13 + 1 ) in ( dom C130 ) & ( C130 /. R13 ) = ( C130 /. ( R13 + 1 ) ));
L669: R13 = ( R13 + 1 ) by L668 , L665 , PARTFUN2:10;
thus L670: contradiction by L669;
end;
L671: (for R13 being (Element of ( NAT )) holds ((R13 in ( dom C129 ) & ( R13 + 1 ) in ( dom C129 )) implies ( C129 /. R13 ) <> ( C129 /. ( R13 + 1 ) )))
proof
let R13 being (Element of ( NAT ));
assume L672: (R13 in ( dom C129 ) & ( R13 + 1 ) in ( dom C129 ) & ( C129 /. R13 ) = ( C129 /. ( R13 + 1 ) ));
L673: R13 = ( R13 + 1 ) by L672 , L663 , PARTFUN2:10;
thus L674: contradiction by L673;
end;
thus L675: thesis by L671 , L663 , L664 , L665 , L666 , L667 , L502;
end;
theorem
L676: (for R6 being (Subset of ( TOP-REAL 2 )) holds (for R7 being (Subset of ( TOP-REAL 2 )) holds (for R2 being (Point of ( TOP-REAL 2 )) holds (for R3 being (Point of ( TOP-REAL 2 )) holds (for R4 being (Point of ( TOP-REAL 2 )) holds (for R5 being (Point of ( TOP-REAL 2 )) holds ((R6 is_S-P_arc_joining R2 , R4 & R7 is_S-P_arc_joining R3 , R5 & (for R1 being (Point of ( TOP-REAL 2 )) holds (R1 in ( R6 \/ R7 ) implies (( R2 `1 ) <= ( R1 `1 ) & ( R1 `1 ) <= ( R4 `1 )))) & (for R1 being (Point of ( TOP-REAL 2 )) holds (R1 in ( R6 \/ R7 ) implies (( R3 `2 ) <= ( R1 `2 ) & ( R1 `2 ) <= ( R5 `2 ))))) implies R6 meets R7)))))))
proof
let R6 being (Subset of ( TOP-REAL 2 ));
let R7 being (Subset of ( TOP-REAL 2 ));
let R2 being (Point of ( TOP-REAL 2 ));
let R3 being (Point of ( TOP-REAL 2 ));
let R4 being (Point of ( TOP-REAL 2 ));
let R5 being (Point of ( TOP-REAL 2 ));
assume that
L677: R6 is_S-P_arc_joining R2 , R4
and
L678: R7 is_S-P_arc_joining R3 , R5
and
L679: (for R1 being (Point of ( TOP-REAL 2 )) holds (R1 in ( R6 \/ R7 ) implies (( R2 `1 ) <= ( R1 `1 ) & ( R1 `1 ) <= ( R4 `1 ))))
and
L680: (for R1 being (Point of ( TOP-REAL 2 )) holds (R1 in ( R6 \/ R7 ) implies (( R3 `2 ) <= ( R1 `2 ) & ( R1 `2 ) <= ( R5 `2 ))));
consider R9 being (FinSequence of ( TOP-REAL 2 )) such that L681: R9 is  being_S-Seq and L682: R6 = ( L~ R9 ) and L683: R2 = ( R9 /. 1 ) and L684: R4 = ( R9 /. ( len R9 ) ) by L677 , TOPREAL4:def 1;
L685: ( len R9 ) <> ( 0 ) by L681 , TOPREAL1:def 8;
reconsider D153 = R9 as non  empty (FinSequence of ( TOP-REAL 2 )) by L685;
L686: ( Seg ( len D153 ) ) = ( dom D153 ) by FINSEQ_1:def 3;
consider R10 being (FinSequence of ( TOP-REAL 2 )) such that L687: R10 is  being_S-Seq and L688: R7 = ( L~ R10 ) and L689: R3 = ( R10 /. 1 ) and L690: R5 = ( R10 /. ( len R10 ) ) by L678 , TOPREAL4:def 1;
L691: ( len R10 ) <> ( 0 ) by L687 , TOPREAL1:def 8;
reconsider D154 = R10 as non  empty (FinSequence of ( TOP-REAL 2 )) by L691;
L692: ( Seg ( len D154 ) ) = ( dom D154 ) by FINSEQ_1:def 3;
set D155 = ( X_axis D153 );
set D156 = ( Y_axis D153 );
set D157 = ( X_axis D154 );
set D158 = ( Y_axis D154 );
L693: (( Seg ( len D155 ) ) = ( dom D155 ) & ( len D155 ) = ( len D153 )) by FINSEQ_1:def 3 , GOBOARD1:def 1;
L694: (( dom D158 ) = ( Seg ( len D158 ) ) & ( len D158 ) = ( len D154 )) by FINSEQ_1:def 3 , GOBOARD1:def 2;
L695: 2 <= ( len D154 ) by L687 , TOPREAL1:def 8;
L696: 1 <= ( len D154 ) by L695 , XXREAL_0:2;
L697: 1 in ( dom D154 ) by L696 , FINSEQ_3:25;
L698: ( D158 . 1 ) = ( R3 `2 ) by L697 , L689 , L692 , L694 , GOBOARD1:def 2;
L699: ( len D154 ) in ( dom D154 ) by L696 , FINSEQ_3:25;
L700: ( D158 . ( len D154 ) ) = ( R5 `2 ) by L699 , L690 , L692 , L694 , GOBOARD1:def 2;
L701: D158 lies_between ( D158 . 1 ) , ( D158 . ( len D154 ) )
proof
let R13 being (Element of ( NAT ));
set D159 = ( D154 /. R13 );
assume L702: R13 in ( dom D158 );
L703: D159 in ( L~ D154 ) by L702 , L695 , L692 , L694 , GOBOARD1:1;
L704: D159 in ( R6 \/ R7 ) by L703 , L688 , XBOOLE_0:def 3;
L705: ( D158 . R13 ) = ( D159 `2 ) by L702 , GOBOARD1:def 2;
thus L706: thesis by L705 , L680 , L698 , L700 , L704;
end;
L707: 2 <= ( len D153 ) by L681 , TOPREAL1:def 8;
L708: 1 <= ( len D153 ) by L707 , XXREAL_0:2;
L709: 1 in ( dom D153 ) by L708 , FINSEQ_3:25;
L710: ( D155 . 1 ) = ( R2 `1 ) by L709 , L683 , L686 , L693 , GOBOARD1:def 1;
L711: ( len D153 ) in ( dom D153 ) by L708 , FINSEQ_3:25;
L712: ( D155 . ( len D153 ) ) = ( R4 `1 ) by L711 , L684 , L686 , L693 , GOBOARD1:def 1;
L713: D155 lies_between ( D155 . 1 ) , ( D155 . ( len D153 ) )
proof
let R13 being (Element of ( NAT ));
set D160 = ( D153 /. R13 );
assume L714: R13 in ( dom D155 );
L715: D160 in ( L~ D153 ) by L714 , L707 , L686 , L693 , GOBOARD1:1;
L716: D160 in ( R6 \/ R7 ) by L715 , L682 , XBOOLE_0:def 3;
L717: ( D155 . R13 ) = ( D160 `1 ) by L714 , GOBOARD1:def 1;
thus L718: thesis by L717 , L679 , L710 , L712 , L716;
end;
L719: (( dom D157 ) = ( Seg ( len D157 ) ) & ( len D157 ) = ( len D154 )) by FINSEQ_1:def 3 , GOBOARD1:def 1;
L720: D157 lies_between ( D155 . 1 ) , ( D155 . ( len D153 ) )
proof
let R13 being (Element of ( NAT ));
set D161 = ( D154 /. R13 );
assume L721: R13 in ( dom D157 );
L722: D161 in ( L~ D154 ) by L721 , L695 , L692 , L719 , GOBOARD1:1;
L723: D161 in ( R6 \/ R7 ) by L722 , L688 , XBOOLE_0:def 3;
L724: ( D157 . R13 ) = ( D161 `1 ) by L721 , GOBOARD1:def 1;
thus L725: thesis by L724 , L679 , L710 , L712 , L723;
end;
L726: (( dom D156 ) = ( Seg ( len D156 ) ) & ( len D156 ) = ( len D153 )) by FINSEQ_1:def 3 , GOBOARD1:def 2;
L727: D156 lies_between ( D158 . 1 ) , ( D158 . ( len D154 ) )
proof
let R13 being (Element of ( NAT ));
set D162 = ( D153 /. R13 );
assume L728: R13 in ( dom D156 );
L729: D162 in ( L~ D153 ) by L728 , L707 , L686 , L726 , GOBOARD1:1;
L730: D162 in ( R6 \/ R7 ) by L729 , L682 , XBOOLE_0:def 3;
L731: ( D156 . R13 ) = ( D162 `2 ) by L728 , GOBOARD1:def 2;
thus L732: thesis by L731 , L680 , L698 , L700 , L730;
end;
L733: D154 is  one-to-one  special by L687 , TOPREAL1:def 8;
L734: D153 is  one-to-one  special by L681 , TOPREAL1:def 8;
thus L735: thesis by L734 , L682 , L688 , L733 , L707 , L695 , L713 , L720 , L727 , L701 , L662;
end;
