:: Recursive Definitions
::  by Krzysztof Hryniewiecki
::
:: Received September 4, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, XBOOLE_0, FINSEQ_1, XXREAL_0, FUNCT_1,
      RELAT_1, TARSKI, VALUED_0, CARD_1, ARYTM_3, ORDINAL1, CLASSES1, ZFMISC_1,
      ORDINAL2, FUNCOP_1, MCART_1, NAT_1, ORDINAL4, ARYTM_1, REAL_1, PARTFUN1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, XTUPLE_0, MCART_1, SUBSET_1, NUMBERS,
      XXREAL_0, REAL_1, ORDINAL1, NAT_1, RELAT_1, FUNCT_1, PARTFUN1, FUNCOP_1,
      ORDINAL2, CLASSES1, FINSEQ_1, FUNCT_2, BINOP_1, DOMAIN_1, VALUED_0;
 constructors BINOP_1, DOMAIN_1, FUNCOP_1, XXREAL_0, REAL_1, NAT_1, FINSEQ_1,
      VALUED_0, CLASSES1, ORDINAL2, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FINSET_1,
      XXREAL_0, XREAL_0, NAT_1, CARD_1, NUMBERS, RELSET_1, INT_1, XCMPLX_0,
      FINSEQ_1, VALUED_0, XTUPLE_0;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, BINOP_1, XTUPLE_0;
 theorems TARSKI, NAT_1, FUNCT_1, FINSEQ_1, FUNCT_2, RELAT_1, XBOOLE_1,
      FUNCOP_1, XREAL_1, XXREAL_0, ORDINAL1, CLASSES1, ORDINAL2, XBOOLE_0,
      ZFMISC_1, MCART_1, PARTFUN1, XTUPLE_0;
 schemes NAT_1, FUNCT_1, FINSEQ_1, BINOP_1, CLASSES1, ORDINAL1, FUNCT_2;

begin
L1: (for R1 being (Element of ( NAT )) holds (for R4 being non  empty set holds (for B1 being (FinSequence of R4) holds ((1 <= R1 & R1 <= ( len B1 )) implies ( B1 . R1 ) is (Element of R4)))))
proof
let R1 being (Element of ( NAT ));
let R4 being non  empty set;
let C1 being (FinSequence of R4);
assume L2: (1 <= R1 & R1 <= ( len C1 ));
L3: R1 in ( Seg ( len C1 ) ) by L2 , FINSEQ_1:1;
L4: R1 in ( dom C1 ) by L3 , FINSEQ_1:def 3;
L5: ( C1 . R1 ) in ( rng C1 ) by L4 , FUNCT_1:def 3;
L6: ( rng C1 ) c= R4 by FINSEQ_1:def 4;
thus L7: thesis by L6 , L5;
end;
definition
let C2 being  natural-valued Function;
let C3 being set;
redefine func C2 . C3 -> (Element of ( NAT ));

coherence by ORDINAL1:def 12;
end;
scheme RecEx { F1() -> set , P1[set , set , set] } : (ex B2 being Function st (( dom B2 ) = ( NAT ) & ( B2 . ( 0 ) ) = F1() & (for B3 being (Element of ( NAT )) holds P1[ B3 , ( B2 . B3 ) , ( B2 . ( B3 + 1 ) ) ])))
provided
L9: (for B4 being (Element of ( NAT )) holds (for B5 being set holds (ex B6 being set st P1[ B4 , B5 , B6 ])))
proof
defpred S1[ set , set , set ] means (ex B7 being Ordinal st (B7 = $3 & (for B8 being set holds (for B9 being (Element of ( NAT )) holds (B8 c= ( Rank ( the_rank_of $2 ) ) implies (ex B10 being set st (B10 c= ( Rank B7 ) & P1[ B9 , B8 , B10 ]))))) & (for B11 being Ordinal holds ((for B12 being set holds (for B13 being (Element of ( NAT )) holds (B12 c= ( Rank ( the_rank_of $2 ) ) implies (ex B14 being set st (B14 c= ( Rank B11 ) & P1[ B13 , B12 , B14 ]))))) implies B7 c= B11))));
L10: (for B15 being (Element of ( NAT )) holds (for B16 being set holds (ex B17 being set st S1[ B15 , B16 , B17 ])))
proof
defpred S2[ set , set ] means (for B18 being (Element of ( NAT )) holds (ex B19 being set st ($2 is Ordinal & B19 c= ( Rank ( the_rank_of $2 ) ) & P1[ B18 , $1 , B19 ])));
let C4 being (Element of ( NAT ));
let C5 being set;
defpred S3[ Ordinal ] means (for B20 being set holds (for B21 being (Element of ( NAT )) holds (B20 c= ( Rank ( the_rank_of C5 ) ) implies (ex B22 being set st (B22 c= ( Rank $1 ) & P1[ B21 , B20 , B22 ])))));
L11: (for B23 being set holds (B23 in ( bool ( Rank ( the_rank_of C5 ) ) ) implies (ex B24 being set st S2[ B23 , B24 ])))
proof
let C6 being set;
assume L12: C6 in ( bool ( Rank ( the_rank_of C5 ) ) );
defpred S4[ set , set ] means (ex B25 being set st ($2 is Ordinal & B25 c= ( Rank ( the_rank_of $2 ) ) & P1[ $1 , C6 , B25 ]));
L13: (for B26 being set holds (B26 in ( NAT ) implies (ex B27 being set st S4[ B26 , B27 ])))
proof
let C7 being set;
assume L14: C7 in ( NAT );
reconsider D1 = C7 as (Element of ( NAT )) by L14;
thus L15: (ex B28 being set st (ex B29 being set st (B28 is Ordinal & B29 c= ( Rank ( the_rank_of B28 ) ) & P1[ C7 , C6 , B29 ])))
proof
consider C8 being set such that L16: P1[ D1 , C6 , C8 ] by L9;
take D2 = ( the_rank_of C8 );
take C8;
thus L17: D2 is Ordinal;
L18: ( the_rank_of ( the_rank_of C8 ) ) = ( the_rank_of C8 ) by CLASSES1:73;
thus L19: C8 c= ( Rank ( the_rank_of D2 ) ) by L18 , CLASSES1:65;
thus L20: thesis by L16;
end;

end;
consider C9 being Function such that L16: ( dom C9 ) = ( NAT ) and L17: (for B30 being set holds (B30 in ( NAT ) implies S4[ B30 , ( C9 . B30 ) ])) from CLASSES1:sch 1(L13);
take D3 = ( sup ( rng C9 ) );
thus L18: (for B31 being (Element of ( NAT )) holds (ex B32 being set st (D3 is Ordinal & B32 c= ( Rank ( the_rank_of D3 ) ) & P1[ B31 , C6 , B32 ])))
proof
let C10 being (Element of ( NAT ));
consider C11 being set such that L19: ( C9 . C10 ) is Ordinal and L20: C11 c= ( Rank ( the_rank_of ( C9 . C10 ) ) ) and L21: P1[ C10 , C6 , C11 ] by L17;
reconsider D4 = ( C9 . C10 ) as Ordinal by L19;
L22: ( C9 . C10 ) in ( rng C9 ) by L16 , FUNCT_1:def 3;
L23: ( C9 . C10 ) in ( sup ( rng C9 ) ) by L22 , L19 , ORDINAL2:19;
L24: ( C9 . C10 ) c= D3 by L23 , ORDINAL1:def 2;
L25: ( Rank D4 ) c= ( Rank D3 ) by L24 , CLASSES1:37;
take C11;
thus L26: D3 is Ordinal;
L27: C11 c= ( Rank D4 ) by L20 , CLASSES1:73;
L28: C11 c= ( Rank D3 ) by L27 , L25 , XBOOLE_1:1;
thus L29: C11 c= ( Rank ( the_rank_of D3 ) ) by L28 , CLASSES1:73;
thus L30: thesis by L21;
end;

end;
consider C12 being Function such that L19: ( dom C12 ) = ( bool ( Rank ( the_rank_of C5 ) ) ) and L20: (for B33 being set holds (B33 in ( bool ( Rank ( the_rank_of C5 ) ) ) implies S2[ B33 , ( C12 . B33 ) ])) from CLASSES1:sch 1(L11);
L21: (ex B34 being Ordinal st S3[ B34 ])
proof
take D5 = ( sup ( rng C12 ) );
thus L22: (for B35 being set holds (for B36 being (Element of ( NAT )) holds (B35 c= ( Rank ( the_rank_of C5 ) ) implies (ex B37 being set st (B37 c= ( Rank D5 ) & P1[ B36 , B35 , B37 ])))))
proof
let C13 being set;
let C14 being (Element of ( NAT ));
assume L23: C13 c= ( Rank ( the_rank_of C5 ) );
consider C15 being set such that L24: ( C12 . C13 ) is Ordinal and L25: C15 c= ( Rank ( the_rank_of ( C12 . C13 ) ) ) and L26: P1[ C14 , C13 , C15 ] by L23 , L20;
reconsider D6 = ( C12 . C13 ) as Ordinal by L24;
L27: ( C12 . C13 ) in ( rng C12 ) by L19 , L23 , FUNCT_1:def 3;
L28: ( C12 . C13 ) in ( sup ( rng C12 ) ) by L27 , L24 , ORDINAL2:19;
L29: ( C12 . C13 ) c= D5 by L28 , ORDINAL1:def 2;
L30: ( Rank D6 ) c= ( Rank D5 ) by L29 , CLASSES1:37;
take C15;
L31: ( the_rank_of D6 ) = D6 by CLASSES1:73;
thus L32: C15 c= ( Rank D5 ) by L31 , L25 , L30 , XBOOLE_1:1;
thus L33: thesis by L26;
end;

end;
consider C16 being Ordinal such that L23: (S3[ C16 ] & (for B38 being Ordinal holds (S3[ B38 ] implies C16 c= B38))) from ORDINAL1:sch 1(L21);
take C16;
thus L24: thesis by L23;
end;
L25: (for B39 being (Element of ( NAT )) holds (for B40 , B41 , B42 being set holds ((S1[ B39 , B40 , B41 ] & S1[ B39 , B40 , B42 ]) implies B41 = B42)))
proof
let C17 being (Element of ( NAT ));
let C18 , C19 , C20 being set;
assume that
L26: S1[ C17 , C18 , C19 ]
and
L27: S1[ C17 , C18 , C20 ];
consider C21 being Ordinal such that L28: C21 = C20 and L29: ((for B43 being set holds (for B44 being (Element of ( NAT )) holds (B43 c= ( Rank ( the_rank_of C18 ) ) implies (ex B45 being set st (B45 c= ( Rank C21 ) & P1[ B44 , B43 , B45 ]))))) & (for B46 being Ordinal holds ((for B47 being set holds (for B48 being (Element of ( NAT )) holds (B47 c= ( Rank ( the_rank_of C18 ) ) implies (ex B49 being set st (B49 c= ( Rank B46 ) & P1[ B48 , B47 , B49 ]))))) implies C21 c= B46))) by L27;
consider C22 being Ordinal such that L30: C22 = C19 and L31: ((for B50 being set holds (for B51 being (Element of ( NAT )) holds (B50 c= ( Rank ( the_rank_of C18 ) ) implies (ex B52 being set st (B52 c= ( Rank C22 ) & P1[ B51 , B50 , B52 ]))))) & (for B53 being Ordinal holds ((for B54 being set holds (for B55 being (Element of ( NAT )) holds (B54 c= ( Rank ( the_rank_of C18 ) ) implies (ex B56 being set st (B56 c= ( Rank B53 ) & P1[ B55 , B54 , B56 ]))))) implies C22 c= B53))) by L26;
L32: (C22 c= C21 & C21 c= C22) by L31 , L29;
thus L33: thesis by L32 , L30 , L28 , XBOOLE_0:def 10;
end;
L34: (ex B57 being Function st (( dom B57 ) = ( NAT ) & ( B57 . ( 0 ) ) = ( the_rank_of F1() ) & (for B58 being (Element of ( NAT )) holds S1[ B58 , ( B57 . B58 ) , ( B57 . ( B58 + 1 ) ) ])))
proof
deffunc H1((Element of ( NAT ))) = { R3 where R3 is (Element of ( NAT )) : R3 <= $1 };
L35: (for B59 , B60 being Function holds (for R3 being (Element of ( NAT )) holds ((( dom B59 ) = H1(R3) & ( dom B60 ) = H1(( R3 + 1 )) & ( B59 . ( 0 ) ) = ( B60 . ( 0 ) ) & (for R1 being (Element of ( NAT )) holds (R1 < R3 implies (S1[ R1 , ( B59 . R1 ) , ( B59 . ( R1 + 1 ) ) ] & S1[ R1 , ( B60 . R1 ) , ( B60 . ( R1 + 1 ) ) ])))) implies ( B59 . R3 ) = ( B60 . R3 ))))
proof
let C23 , C24 being Function;
let R3 being (Element of ( NAT ));
defpred S5[ (Element of ( NAT )) ] means ($1 <= R3 implies ( C23 . $1 ) = ( C24 . $1 ));
assume that
L36: ( dom C23 ) = H1(R3)
and
L37: ( dom C24 ) = H1(( R3 + 1 ))
and
L38: ( C23 . ( 0 ) ) = ( C24 . ( 0 ) )
and
L39: (for R1 being (Element of ( NAT )) holds (R1 < R3 implies (S1[ R1 , ( C23 . R1 ) , ( C23 . ( R1 + 1 ) ) ] & S1[ R1 , ( C24 . R1 ) , ( C24 . ( R1 + 1 ) ) ])));
L40: (for R1 being (Element of ( NAT )) holds (S5[ R1 ] implies S5[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L41: (R1 <= R3 implies ( C23 . R1 ) = ( C24 . R1 ));
assume L42: ( R1 + 1 ) <= R3;
L43: R1 < R3 by L42 , NAT_1:13;
L44: S1[ R1 , ( C23 . R1 ) , ( C23 . ( R1 + 1 ) ) ] by L43 , L39;
L45: S1[ R1 , ( C23 . R1 ) , ( C24 . ( R1 + 1 ) ) ] by L39 , L41 , L43;
thus L46: thesis by L45 , L25 , L44;
end;
L47: S5[ ( 0 ) ] by L38;
L48: (for R1 being (Element of ( NAT )) holds S5[ R1 ]) from NAT_1:sch 1(L47 , L40);
thus L49: thesis by L48;
end;
L50: (for R1 being (Element of ( NAT )) holds (ex B61 being Function st (( dom B61 ) = H1(R1) & ( B61 . ( 0 ) ) = ( the_rank_of F1() ) & (for R3 being (Element of ( NAT )) holds (R3 < R1 implies S1[ R3 , ( B61 . R3 ) , ( B61 . ( R3 + 1 ) ) ])))))
proof
defpred S6[ (Element of ( NAT )) ] means (ex B62 being Function st (( dom B62 ) = H1($1) & ( B62 . ( 0 ) ) = ( the_rank_of F1() ) & (for R3 being (Element of ( NAT )) holds (R3 < $1 implies S1[ R3 , ( B62 . R3 ) , ( B62 . ( R3 + 1 ) ) ]))));
L51: (for R1 being (Element of ( NAT )) holds (S6[ R1 ] implies S6[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
given C25 being Function such that
L52: ( dom C25 ) = H1(R1)
and
L53: ( C25 . ( 0 ) ) = ( the_rank_of F1() )
and
L54: (for R3 being (Element of ( NAT )) holds (R3 < R1 implies S1[ R3 , ( C25 . R3 ) , ( C25 . ( R3 + 1 ) ) ]));

consider R8 being set such that L55: S1[ R1 , ( C25 . R1 ) , R8 ] by L10;
defpred S7[ set , set ] means (for R3 being (Element of ( NAT )) holds (R3 = $1 implies ((R3 <= R1 implies $2 = ( C25 . R3 )) & (R3 = ( R1 + 1 ) implies $2 = R8))));
L56: (for R6 being set holds (R6 in H1(( R1 + 1 )) implies (ex R7 being set st S7[ R6 , R7 ])))
proof
let R6 being set;
assume L57: R6 in H1(( R1 + 1 ));
L58: (ex R2 being (Element of ( NAT )) st (R2 = R6 & R2 <= ( R1 + 1 ))) by L57;
reconsider D7 = R6 as (Element of ( NAT )) by L58;
L59: (D7 <= R1 implies thesis)
proof
assume L60: D7 <= R1;
take ( C25 . R6 );
let R3 being (Element of ( NAT ));
assume L61: R3 = R6;
thus L62: (R3 <= R1 implies ( C25 . R6 ) = ( C25 . R3 )) by L61;
assume L63: R3 = ( R1 + 1 );
L64: ( R1 + 1 ) <= ( R1 + ( 0 ) ) by L63 , L60 , L61;
thus L65: thesis by L64 , XREAL_1:6;
end;
L66: (D7 = ( R1 + 1 ) implies thesis)
proof
assume L67: D7 = ( R1 + 1 );
take R8;
let R3 being (Element of ( NAT ));
assume that
L68: R3 = R6;
thus L69: (R3 <= R1 implies R8 = ( C25 . R3 ))
proof
assume L70: R3 <= R1;
L71: ( R1 + 1 ) <= ( R1 + ( 0 ) ) by L70 , L67 , L68;
thus L72: thesis by L71 , XREAL_1:6;
end;

thus L73: thesis;
end;
thus L74: thesis by L66 , L58 , L59 , NAT_1:8;
end;
consider C26 being Function such that L75: (( dom C26 ) = H1(( R1 + 1 )) & (for R6 being set holds (R6 in H1(( R1 + 1 )) implies S7[ R6 , ( C26 . R6 ) ]))) from CLASSES1:sch 1(L56);
take C26;
thus L76: ( dom C26 ) = H1(( R1 + 1 )) by L75;
L77: ( 0 ) in H1(( R1 + 1 ));
thus L78: ( C26 . ( 0 ) ) = ( the_rank_of F1() ) by L77 , L53 , L75;
let R3 being (Element of ( NAT ));
assume that
L79: R3 < ( R1 + 1 );
L80:
now
L81: ( R3 + 1 ) <= ( R1 + 1 ) by L79 , NAT_1:13;
assume L82: R3 <> R1;
L83: ( R3 + 1 ) <> ( R1 + 1 ) by L82;
L84: ( R3 + 1 ) <= R1 by L83 , L81 , NAT_1:8;
L85: R3 < R1 by L84 , NAT_1:13;
L86: ( R3 + 1 ) in H1(( R1 + 1 )) by L81;
L87: ( C26 . ( R3 + 1 ) ) = ( C25 . ( R3 + 1 ) ) by L86 , L75 , L84;
L88: R3 in H1(( R1 + 1 )) by L79;
L89: ( C25 . R3 ) = ( C26 . R3 ) by L88 , L75 , L85;
thus L90: thesis by L89 , L54 , L87 , L85;
end;
L91:
now
assume L92: R3 = R1;
L93: R3 <= ( R1 + 1 ) by L92 , NAT_1:11;
L94: R3 in H1(( R1 + 1 )) by L93;
L95: ( C26 . R3 ) = ( C25 . R3 ) by L94 , L75 , L92;
L96: ( R3 + 1 ) in H1(( R1 + 1 )) by L92;
L97: ( C26 . ( R3 + 1 ) ) = R8 by L96 , L75 , L92;
thus L98: thesis by L97 , L55 , L92 , L95;
end;
thus L99: thesis by L91 , L80;
end;
L100: S6[ ( 0 ) ]
proof
set D8 = ( H1(( 0 )) --> ( the_rank_of F1() ) );
take D8;
thus L101: ( dom D8 ) = H1(( 0 )) by FUNCOP_1:13;
L102: ( 0 ) in H1(( 0 ));
thus L103: ( D8 . ( 0 ) ) = ( the_rank_of F1() ) by L102 , FUNCOP_1:7;
thus L104: thesis;
end;
thus L105: (for R1 being (Element of ( NAT )) holds S6[ R1 ]) from NAT_1:sch 1(L100 , L51);
end;
L106: (ex B63 being Function st (( dom B63 ) = ( NAT ) & (for R1 being (Element of ( NAT )) holds (ex B64 being Function st (( dom B64 ) = H1(R1) & ( B64 . ( 0 ) ) = ( the_rank_of F1() ) & (for R3 being (Element of ( NAT )) holds (R3 < R1 implies S1[ R3 , ( B64 . R3 ) , ( B64 . ( R3 + 1 ) ) ])) & ( B63 . R1 ) = ( B64 . R1 ))))))
proof
defpred S8[ set , set ] means (for R1 being (Element of ( NAT )) holds (R1 = $1 implies (ex B65 being Function st (( dom B65 ) = H1(R1) & ( B65 . ( 0 ) ) = ( the_rank_of F1() ) & (for R3 being (Element of ( NAT )) holds (R3 < R1 implies S1[ R3 , ( B65 . R3 ) , ( B65 . ( R3 + 1 ) ) ])) & $2 = ( B65 . R1 )))));
L107: (for R6 being set holds (R6 in ( NAT ) implies (ex R7 being set st S8[ R6 , R7 ])))
proof
let R6 being set;
assume L108: R6 in ( NAT );
reconsider D9 = R6 as (Element of ( NAT )) by L108;
consider C27 being Function such that L109: (( dom C27 ) = H1(D9) & ( C27 . ( 0 ) ) = ( the_rank_of F1() ) & (for R3 being (Element of ( NAT )) holds (R3 < D9 implies S1[ R3 , ( C27 . R3 ) , ( C27 . ( R3 + 1 ) ) ]))) by L50;
take ( C27 . D9 );
let R3 being (Element of ( NAT ));
assume that
L110: R3 = R6;
take C27;
thus L111: thesis by L109 , L110;
end;
consider C28 being Function such that L112: (( dom C28 ) = ( NAT ) & (for R6 being set holds (R6 in ( NAT ) implies S8[ R6 , ( C28 . R6 ) ]))) from CLASSES1:sch 1(L107);
take C28;
thus L113: ( dom C28 ) = ( NAT ) by L112;
let R1 being (Element of ( NAT ));
consider C29 being Function such that L114: (( dom C29 ) = H1(R1) & ( C29 . ( 0 ) ) = ( the_rank_of F1() )) and L115: (for R3 being (Element of ( NAT )) holds (R3 < R1 implies S1[ R3 , ( C29 . R3 ) , ( C29 . ( R3 + 1 ) ) ])) and L116: ( C28 . R1 ) = ( C29 . R1 ) by L112;
take C29;
thus L117: (( dom C29 ) = H1(R1) & ( C29 . ( 0 ) ) = ( the_rank_of F1() )) by L114;
thus L118: (for R3 being (Element of ( NAT )) holds (R3 < R1 implies S1[ R3 , ( C29 . R3 ) , ( C29 . ( R3 + 1 ) ) ])) by L115;
thus L119: thesis by L116;
end;
consider C30 being Function such that L120: ( dom C30 ) = ( NAT ) and L121: (for R1 being (Element of ( NAT )) holds (ex B66 being Function st (( dom B66 ) = H1(R1) & ( B66 . ( 0 ) ) = ( the_rank_of F1() ) & (for R3 being (Element of ( NAT )) holds (R3 < R1 implies S1[ R3 , ( B66 . R3 ) , ( B66 . ( R3 + 1 ) ) ])) & ( C30 . R1 ) = ( B66 . R1 )))) by L106;
take C30;
thus L122: ( dom C30 ) = ( NAT ) by L120;
L123: (ex B67 being Function st (( dom B67 ) = H1(( 0 )) & ( B67 . ( 0 ) ) = ( the_rank_of F1() ) & (for R3 being (Element of ( NAT )) holds (R3 < ( 0 ) implies S1[ R3 , ( B67 . R3 ) , ( B67 . ( R3 + 1 ) ) ])) & ( C30 . ( 0 ) ) = ( B67 . ( 0 ) ))) by L121;
thus L124: ( C30 . ( 0 ) ) = ( the_rank_of F1() ) by L123;
let C31 being (Element of ( NAT ));
consider C32 being Function such that L125: ( dom C32 ) = H1(( C31 + 1 )) and L126: ( C32 . ( 0 ) ) = ( the_rank_of F1() ) and L127: (for R3 being (Element of ( NAT )) holds (R3 < ( C31 + 1 ) implies S1[ R3 , ( C32 . R3 ) , ( C32 . ( R3 + 1 ) ) ])) and L128: ( C30 . ( C31 + 1 ) ) = ( C32 . ( C31 + 1 ) ) by L121;
consider C33 being Function such that L129: ( dom C33 ) = H1(C31) and L130: ( C33 . ( 0 ) ) = ( the_rank_of F1() ) and L131: (for R3 being (Element of ( NAT )) holds (R3 < C31 implies S1[ R3 , ( C33 . R3 ) , ( C33 . ( R3 + 1 ) ) ])) and L132: ( C30 . C31 ) = ( C33 . C31 ) by L121;
L133: (( dom C32 ) = H1(( C31 + 1 )) & ( dom C33 ) = H1(C31) & ( C32 . ( 0 ) ) = ( C33 . ( 0 ) ) & (for R3 being (Element of ( NAT )) holds (R3 < C31 implies (S1[ R3 , ( C33 . R3 ) , ( C33 . ( R3 + 1 ) ) ] & S1[ R3 , ( C32 . R3 ) , ( C32 . ( R3 + 1 ) ) ]))))
proof
thus L134: ( dom C32 ) = H1(( C31 + 1 )) by L125;
thus L135: ( dom C33 ) = H1(C31) by L129;
thus L136: ( C32 . ( 0 ) ) = ( C33 . ( 0 ) ) by L126 , L130;
let R3 being (Element of ( NAT ));
assume L137: R3 < C31;
thus L138: S1[ R3 , ( C33 . R3 ) , ( C33 . ( R3 + 1 ) ) ] by L137 , L131;
L139: C31 <= ( C31 + 1 ) by NAT_1:11;
L140: R3 < ( C31 + 1 ) by L139 , L137 , XXREAL_0:2;
thus L141: thesis by L140 , L127;
end;
L142: ( C32 . C31 ) = ( C33 . C31 ) by L133 , L35;
thus L143: thesis by L142 , L127 , L128 , L132 , XREAL_1:29;
end;
consider C34 being Function such that L144: ( dom C34 ) = ( NAT ) and L145: ( C34 . ( 0 ) ) = ( the_rank_of F1() ) and L146: (for B68 being (Element of ( NAT )) holds S1[ B68 , ( C34 . B68 ) , ( C34 . ( B68 + 1 ) ) ]) by L34;
defpred S9[ set , set ] means (ex B69 being (Element of ( NAT )) st (B69 = ( $1 `2 ) & P1[ ( $1 `2 ) , ( $1 `1 ) , ( $2 `1 ) ] & ( $2 `2 ) = ( B69 + 1 ) & (not (ex B70 being set st (P1[ ( $1 `2 ) , ( $1 `1 ) , B70 ] & ( the_rank_of B70 ) in ( the_rank_of ( $2 `1 ) ))))));
L147: (( [ F1() , ( 0 ) ] `1 ) = F1() & ( [ F1() , ( 0 ) ] `2 ) = ( 0 ));
set D10 = ( sup ( rng C34 ) );
L148: (for B71 being set holds (B71 in [: ( Rank D10 ) , ( NAT ) :] implies (ex B72 being set st S9[ B71 , B72 ])))
proof
let C35 being set;
defpred S10[ Ordinal ] means (ex B73 being set st (B73 c= ( Rank $1 ) & P1[ ( C35 `2 ) , ( C35 `1 ) , B73 ]));
assume L149: C35 in [: ( Rank D10 ) , ( NAT ) :];
consider C36 , C37 being set such that L150: C36 in ( Rank D10 ) and L151: C37 in ( NAT ) and L152: C35 = [ C36 , C37 ] by L149 , ZFMISC_1:def 2;
reconsider D11 = C37 as (Element of ( NAT )) by L151;
L153: (( C35 `2 ) = D11 & ( C35 `1 ) = C36) by L152 , MCART_1:7;
L154: ( the_rank_of C36 ) in D10 by L150 , CLASSES1:66;
consider C38 being Ordinal such that L155: C38 in ( rng C34 ) and L156: ( the_rank_of C36 ) c= C38 by L154 , ORDINAL2:21;
consider C39 being set such that L157: C39 in ( dom C34 ) and L158: C38 = ( C34 . C39 ) by L155 , FUNCT_1:def 3;
reconsider D12 = C39 as (Element of ( NAT )) by L144 , L157;
L159: S1[ D12 , C38 , ( C34 . ( D12 + 1 ) ) ] by L146 , L158;
reconsider D13 = ( C34 . ( D12 + 1 ) ) as Ordinal by L159;
L160: C36 c= ( Rank C38 ) by L156 , CLASSES1:65;
L161: C36 c= ( Rank ( the_rank_of C38 ) ) by L160 , CLASSES1:73;
L162: (ex B74 being set st (B74 c= ( Rank D13 ) & P1[ ( C35 `2 ) , ( C35 `1 ) , B74 ])) by L161 , L159 , L153;
L163: (ex B75 being Ordinal st S10[ B75 ]) by L162;
consider C40 being Ordinal such that L164: S10[ C40 ] and L165: (for B76 being Ordinal holds (S10[ B76 ] implies C40 c= B76)) from ORDINAL1:sch 1(L163);
consider C41 being set such that L166: C41 c= ( Rank C40 ) and L167: P1[ D11 , C36 , C41 ] by L153 , L164;
L168: ( the_rank_of C41 ) c= C40 by L166 , CLASSES1:65;
take D14 = [ C41 , ( D11 + 1 ) ];
take D15 = D11;
thus L169: D15 = ( C35 `2 ) by L152 , MCART_1:7;
thus L170: P1[ ( C35 `2 ) , ( C35 `1 ) , ( D14 `1 ) ] by L153 , L167 , MCART_1:7;
thus L171: ( D14 `2 ) = ( D15 + 1 ) by MCART_1:7;
given C42 being set such that
L172: P1[ ( C35 `2 ) , ( C35 `1 ) , C42 ]
and
L173: ( the_rank_of C42 ) in ( the_rank_of ( D14 `1 ) );

L174: C42 c= ( Rank ( the_rank_of C42 ) ) by CLASSES1:def 8;
L175: ( the_rank_of C42 ) in ( the_rank_of C41 ) by L173 , MCART_1:7;
thus L176: contradiction by L175 , L165 , L172 , L168 , L174 , ORDINAL1:5;
end;
consider C43 being Function such that L177: ( dom C43 ) = [: ( Rank D10 ) , ( NAT ) :] and L178: (for B77 being set holds (B77 in [: ( Rank D10 ) , ( NAT ) :] implies S9[ B77 , ( C43 . B77 ) ])) from CLASSES1:sch 1(L148);
deffunc H2(Nat , set) = ( ( C43 . [ $2 , $1 ] ) `1 );
consider C44 being Function such that L179: ( dom C44 ) = ( NAT ) and L180: ( C44 . ( 0 ) ) = F1() and L181: (for B78 being Nat holds ( C44 . ( B78 + 1 ) ) = H2(B78 , ( C44 . B78 ))) from NAT_1:sch 11;
defpred S11[ (Element of ( NAT )) ] means ( the_rank_of ( C44 . $1 ) ) in ( sup ( rng C34 ) );
L182: ( C34 . ( 0 ) ) in ( rng C34 ) by L144 , FUNCT_1:def 3;
L183: S11[ ( 0 ) ] by L182 , L145 , L180 , ORDINAL2:19;
L184: (for B79 being (Element of ( NAT )) holds (S11[ B79 ] implies S11[ ( B79 + 1 ) ]))
proof
let C45 being (Element of ( NAT ));
assume L185: ( the_rank_of ( C44 . C45 ) ) in ( sup ( rng C34 ) );
consider C46 being Ordinal such that L186: C46 in ( rng C34 ) and L187: ( the_rank_of ( C44 . C45 ) ) c= C46 by L185 , ORDINAL2:21;
L188: ( C44 . C45 ) in ( Rank ( sup ( rng C34 ) ) ) by L185 , CLASSES1:66;
L189: [ ( C44 . C45 ) , C45 ] in [: ( Rank D10 ) , ( NAT ) :] by L188 , ZFMISC_1:87;
consider C47 being set such that L190: C47 in ( dom C34 ) and L191: ( C34 . C47 ) = C46 by L186 , FUNCT_1:def 3;
reconsider D16 = C47 as (Element of ( NAT )) by L144 , L190;
consider C48 being Ordinal such that L192: C48 = ( C34 . ( D16 + 1 ) ) and L193: (for B80 being set holds (for B81 being (Element of ( NAT )) holds (B80 c= ( Rank ( the_rank_of ( C34 . D16 ) ) ) implies (ex B82 being set st (B82 c= ( Rank C48 ) & P1[ B81 , B80 , B82 ]))))) and L194: (for B83 being Ordinal holds ((for B84 being set holds (for B85 being (Element of ( NAT )) holds (B84 c= ( Rank ( the_rank_of ( C34 . D16 ) ) ) implies (ex B86 being set st (B86 c= ( Rank B83 ) & P1[ B85 , B84 , B86 ]))))) implies C48 c= B83)) by L146;
L195: ( the_rank_of ( C44 . C45 ) ) c= ( the_rank_of ( C34 . D16 ) ) by L187 , L191 , CLASSES1:73;
L196: ( C44 . C45 ) c= ( Rank ( the_rank_of ( C34 . D16 ) ) ) by L195 , CLASSES1:65;
consider C49 being set such that L197: C49 c= ( Rank C48 ) and L198: P1[ C45 , ( C44 . C45 ) , C49 ] by L196 , L193;
L199: ( the_rank_of C49 ) c= C48 by L197 , CLASSES1:65;
L200: (( [ ( C44 . C45 ) , C45 ] `1 ) = ( C44 . C45 ) & ( [ ( C44 . C45 ) , C45 ] `2 ) = C45);
L201: (ex B87 being (Element of ( NAT )) st (B87 = C45 & P1[ C45 , ( C44 . C45 ) , ( ( C43 . [ ( C44 . C45 ) , C45 ] ) `1 ) ] & ( ( C43 . [ ( C44 . C45 ) , C45 ] ) `2 ) = ( B87 + 1 ) & (not (ex B88 being set st (P1[ C45 , ( C44 . C45 ) , B88 ] & ( the_rank_of B88 ) in ( the_rank_of ( ( C43 . [ ( C44 . C45 ) , C45 ] ) `1 ) )))))) by L200 , L178 , L189;
L202: ( the_rank_of ( ( C43 . [ ( C44 . C45 ) , C45 ] ) `1 ) ) c= ( the_rank_of C49 ) by L201 , L198 , ORDINAL1:16;
L203: ( C34 . ( D16 + 1 ) ) in ( rng C34 ) by L144 , FUNCT_1:def 3;
L204: C48 in ( sup ( rng C34 ) ) by L203 , L192 , ORDINAL2:19;
L205: ( C44 . ( C45 + 1 ) ) = ( ( C43 . [ ( C44 . C45 ) , C45 ] ) `1 ) by L181;
thus L206: thesis by L205 , L202 , L199 , L204 , ORDINAL1:12 , XBOOLE_1:1;
end;
L207: (for B89 being (Element of ( NAT )) holds S11[ B89 ]) from NAT_1:sch 1(L183 , L184);
defpred S12[ (Element of ( NAT )) ] means P1[ $1 , ( C44 . $1 ) , ( C44 . ( $1 + 1 ) ) ];
L208: (for B90 being (Element of ( NAT )) holds (S12[ B90 ] implies S12[ ( B90 + 1 ) ]))
proof
let C50 being (Element of ( NAT ));
assume L209: P1[ C50 , ( C44 . C50 ) , ( C44 . ( C50 + 1 ) ) ];
L210: ( the_rank_of ( C44 . ( C50 + 1 ) ) ) in ( sup ( rng C34 ) ) by L207;
L211: ( C44 . ( C50 + 1 ) ) in ( Rank ( sup ( rng C34 ) ) ) by L210 , CLASSES1:66;
L212: [ ( C44 . ( C50 + 1 ) ) , ( C50 + 1 ) ] in [: ( Rank D10 ) , ( NAT ) :] by L211 , ZFMISC_1:87;
L213: (( [ ( C44 . ( C50 + 1 ) ) , ( C50 + 1 ) ] `1 ) = ( C44 . ( C50 + 1 ) ) & ( [ ( C44 . ( C50 + 1 ) ) , ( C50 + 1 ) ] `2 ) = ( C50 + 1 ));
L214: (ex B91 being (Element of ( NAT )) st (B91 = ( C50 + 1 ) & P1[ ( C50 + 1 ) , ( C44 . ( C50 + 1 ) ) , ( ( C43 . [ ( C44 . ( C50 + 1 ) ) , ( C50 + 1 ) ] ) `1 ) ] & ( ( C43 . [ ( C44 . ( C50 + 1 ) ) , ( C50 + 1 ) ] ) `2 ) = ( B91 + 1 ) & (not (ex B92 being set st (P1[ ( C50 + 1 ) , ( C44 . ( C50 + 1 ) ) , B92 ] & ( the_rank_of B92 ) in ( the_rank_of ( ( C43 . [ ( C44 . ( C50 + 1 ) ) , ( C50 + 1 ) ] ) `1 ) )))))) by L213 , L178 , L212;
thus L215: thesis by L214 , L181;
end;
take C44;
thus L216: ( dom C44 ) = ( NAT ) by L179;
thus L217: ( C44 . ( 0 ) ) = F1() by L180;
L218: F1() in ( Rank ( sup ( rng C34 ) ) ) by L180 , L183 , CLASSES1:66;
L219: [ F1() , ( 0 ) ] in [: ( Rank D10 ) , ( NAT ) :] by L218 , ZFMISC_1:87;
L220: (ex B93 being (Element of ( NAT )) st (B93 = ( [ F1() , ( 0 ) ] `2 ) & P1[ ( 0 ) , F1() , ( ( C43 . [ F1() , ( 0 ) ] ) `1 ) ] & ( ( C43 . [ F1() , ( 0 ) ] ) `2 ) = ( B93 + 1 ) & (not (ex B94 being set st (P1[ ( 0 ) , F1() , B94 ] & ( the_rank_of B94 ) in ( the_rank_of ( ( C43 . [ F1() , ( 0 ) ] ) `1 ) )))))) by L219 , L178 , L147;
L221: S12[ ( 0 ) ] by L220 , L180 , L181;
thus L222: (for B95 being (Element of ( NAT )) holds S12[ B95 ]) from NAT_1:sch 1(L221 , L208);
end;
scheme RecExD { F2() -> non  empty set , F3() -> (Element of F2()) , P2[set , set , set] } : (ex B96 being (Function of ( NAT ) , F2()) st (( B96 . ( 0 ) ) = F3() & (for B97 being (Element of ( NAT )) holds P2[ B97 , ( B96 . B97 ) , ( B96 . ( B97 + 1 ) ) ])))
provided
L223: (for B98 being (Element of ( NAT )) holds (for B99 being (Element of F2()) holds (ex B100 being (Element of F2()) st P2[ B98 , B99 , B100 ])))
proof
defpred S13[ (Element of (( NAT ) qua non  empty set)) , set , set ] means P2[ $1 , $2 , $3 ];
L224: (for B101 being (Element of (( NAT ) qua non  empty set)) holds (for B102 being (Element of F2()) holds (ex B103 being (Element of F2()) st S13[ B101 , B102 , B103 ]))) by L223;
consider C51 being (Function of [: (( NAT ) qua non  empty set) , F2() :] , F2()) such that L225: (for B104 being (Element of (( NAT ) qua non  empty set)) holds (for B105 being (Element of F2()) holds S13[ B104 , B105 , ( C51 . (B104 , B105) ) ])) from BINOP_1:sch 3(L224);
defpred S14[ FinSequence ] means (( $1 . 1 ) = F3() & (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len $1 ) implies ( $1 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( $1 . ( R1 + 1 ) ) ] ))));
consider C52 being set such that L226: (for R6 being set holds (R6 in C52 iff (ex R11 being FinSequence st (R11 in ( F2() * ) & S14[ R11 ] & R6 = R11)))) from FINSEQ_1:sch 4;
set D17 = ( union C52 );
L227: (for R6 being set holds (R6 in C52 implies R6 in ( F2() * )))
proof
let R6 being set;
assume L228: R6 in C52;
L229: (ex R11 being FinSequence st (R11 in ( F2() * ) & ( R11 . 1 ) = F3() & (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len R11 ) implies ( R11 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( R11 . ( R1 + 1 ) ) ] ))) & R6 = R11)) by L228 , L226;
thus L230: thesis by L229;
end;
L231: (for R11 being FinSequence holds (for R12 being FinSequence holds ((R11 in C52 & R12 in C52 & ( len R11 ) <= ( len R12 )) implies R11 c= R12)))
proof
let R11 being FinSequence;
let R12 being FinSequence;
assume that
L232: R11 in C52
and
L233: R12 in C52
and
L234: ( len R11 ) <= ( len R12 );
L235: (ex B106 being FinSequence st (B106 in ( F2() * ) & ( B106 . 1 ) = F3() & (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len B106 ) implies ( B106 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( B106 . ( R1 + 1 ) ) ] ))) & R12 = B106)) by L226 , L233;
L236: (ex B107 being FinSequence st (B107 in ( F2() * ) & ( B107 . 1 ) = F3() & (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len B107 ) implies ( B107 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( B107 . ( R1 + 1 ) ) ] ))) & R11 = B107)) by L226 , L232;
L237: (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 <= ( len R11 )) implies ( R11 . R1 ) = ( R12 . R1 )))
proof
defpred S15[ Nat ] means (1 <= $1 & $1 <= ( len R11 ) & ( R11 . $1 ) <> ( R12 . $1 ));
assume L238: (ex R1 being (Element of ( NAT )) st S15[ R1 ]);
L239: (ex B108 being Nat st S15[ B108 ]) by L238;
consider C53 being Nat such that L240: (S15[ C53 ] & (for B109 being Nat holds (S15[ B109 ] implies C53 <= B109))) from NAT_1:sch 5(L239);
L241: C53 = 1
proof
L242: ( 0 ) <> C53 by L240;
consider C54 being Nat such that L243: C53 = ( C54 + 1 ) by L242 , NAT_1:6;
L244: ( C54 + ( 0 ) ) <= ( C54 + 1 ) by XREAL_1:7;
L245: C54 <= ( len R11 ) by L244 , L240 , L243 , XXREAL_0:2;
L246: ( C54 + ( 0 ) ) < ( C54 + 1 ) by XREAL_1:6;
assume L247: C53 <> 1;
L248: 1 < ( C54 + 1 ) by L247 , L240 , L243 , XXREAL_0:1;
L249: 1 <= C54 by L248 , NAT_1:13;
L250: C54 <> ( 0 ) by L247 , L243;
consider C55 being Nat such that L251: C54 = ( C55 + 1 ) by L250 , NAT_1:6;
reconsider D18 = C55 as (Element of ( NAT )) by ORDINAL1:def 12;
L252: ( D18 + 2 ) <= ( len R12 ) by L234 , L240 , L243 , L251 , XXREAL_0:2;
L253: ( R11 . C53 ) = ( R11 . ( D18 + ( 1 + 1 ) ) ) by L243 , L251
.= ( C51 . [ D18 , ( R11 . C54 ) ] ) by L236 , L240 , L243 , L251
.= ( C51 . [ D18 , ( R12 . ( D18 + 1 ) ) ] ) by L240 , L243 , L249 , L245 , L246 , L251
.= ( R12 . C53 ) by L235 , L243 , L251 , L252;
thus L254: thesis by L253 , L240;
end;
thus L255: contradiction by L241 , L236 , L235 , L240;
end;
L256:
now
let R6 being set;
assume L257: R6 in R11;
consider C56 being Nat such that L258: C56 in ( dom R11 ) and L259: R6 = [ C56 , ( R11 . C56 ) ] by L257 , FINSEQ_1:12;
L260: C56 in ( Seg ( len R11 ) ) by L258 , FINSEQ_1:def 3;
L261: 1 <= C56 by L260 , FINSEQ_1:1;
L262: C56 <= ( len R11 ) by L260 , FINSEQ_1:1;
L263: C56 <= ( len R12 ) by L262 , L234 , XXREAL_0:2;
L264: C56 in ( Seg ( len R12 ) ) by L263 , L261 , FINSEQ_1:1;
L265: C56 in ( dom R12 ) by L264 , FINSEQ_1:def 3;
L266: R6 = [ C56 , ( R12 . C56 ) ] by L237 , L258 , L259 , L261 , L262;
thus L267: R6 in R12 by L266 , L265 , FUNCT_1:1;
end;
thus L268: thesis by L256 , TARSKI:def 3;
end;
L269: (ex B110 being Function st B110 = D17)
proof
defpred S16[ set , set ] means [ $1 , $2 ] in D17;
L270: (for R6 being set holds (for R7 being set holds (for R8 being set holds ((S16[ R6 , R7 ] & S16[ R6 , R8 ]) implies R7 = R8))))
proof
let R6 being set;
let R7 being set;
let R8 being set;
assume that
L271: [ R6 , R7 ] in D17
and
L272: [ R6 , R8 ] in D17;
consider C57 being set such that L273: [ R6 , R8 ] in C57 and L274: C57 in C52 by L272 , TARSKI:def 4;
L275: C57 in ( F2() * ) by L227 , L274;
reconsider D19 = C57 as (FinSequence of F2()) by L275 , FINSEQ_1:def 11;
consider C58 being set such that L276: [ R6 , R7 ] in C58 and L277: C58 in C52 by L271 , TARSKI:def 4;
L278: C58 in ( F2() * ) by L227 , L277;
reconsider D20 = C58 as (FinSequence of F2()) by L278 , FINSEQ_1:def 11;
L279:
now
assume L280: ( len D19 ) <= ( len D20 );
L281: D19 c= C58 by L280 , L231 , L277 , L274;
L282: [ R6 , R7 ] in D20 by L276;
thus L283: thesis by L282 , L273 , L281 , FUNCT_1:def 1;
end;
L284:
now
assume L285: ( len D20 ) <= ( len D19 );
L286: D20 c= C57 by L285 , L231 , L277 , L274;
L287: [ R6 , R7 ] in D19 by L286 , L276;
thus L288: thesis by L287 , L273 , FUNCT_1:def 1;
end;
thus L289: thesis by L284 , L279;
end;
consider C59 being Function such that L290: (for R6 being set holds (for R7 being set holds ([ R6 , R7 ] in C59 iff (R6 in ( NAT ) & S16[ R6 , R7 ])))) from FUNCT_1:sch 1(L270);
take C59;
L291: (for R6 being set holds (for R7 being set holds ([ R6 , R7 ] in C59 iff [ R6 , R7 ] in D17)))
proof
let R6 being set;
let R7 being set;
thus L292: ([ R6 , R7 ] in C59 implies [ R6 , R7 ] in D17) by L290;
thus L293: ([ R6 , R7 ] in D17 implies [ R6 , R7 ] in C59)
proof
assume L294: [ R6 , R7 ] in D17;
consider R5 being set such that L295: [ R6 , R7 ] in R5 and L296: R5 in C52 by L294 , TARSKI:def 4;
L297: R5 in ( F2() * ) by L227 , L296;
reconsider D21 = R5 as (FinSequence of F2()) by L297 , FINSEQ_1:def 11;
L298: R6 in ( dom D21 ) by L295 , XTUPLE_0:def 12;
thus L299: thesis by L298 , L290 , L294;
end;

end;
L294: (for R6 being set holds (R6 in C59 iff R6 in D17))
proof
let R6 being set;
thus L295: (R6 in C59 implies R6 in D17)
proof
assume L296: R6 in C59;
L297: (ex R7 being set st (ex R8 being set st [ R7 , R8 ] = R6)) by L296 , RELAT_1:def 1;
thus L298: thesis by L297 , L291 , L296;
end;

assume L299: R6 in D17;
consider R5 being set such that L300: R6 in R5 and L301: R5 in C52 by L299 , TARSKI:def 4;
L302: R5 in ( F2() * ) by L227 , L301;
reconsider D22 = R5 as (FinSequence of F2()) by L302 , FINSEQ_1:def 11;
L303: R6 in D22 by L300;
L304: (ex R7 being set st (ex R8 being set st [ R7 , R8 ] = R6)) by L303 , RELAT_1:def 1;
thus L305: thesis by L304 , L291 , L299;
end;
thus L306: thesis by L294 , TARSKI:1;
end;
consider C60 being Function such that L307: C60 = D17 by L269;
L308: (for R6 being set holds (R6 in ( rng C60 ) implies R6 in F2()))
proof
let R6 being set;
assume L309: R6 in ( rng C60 );
consider R7 being set such that L310: (R7 in ( dom C60 ) & R6 = ( C60 . R7 )) by L309 , FUNCT_1:def 3;
L311: [ R7 , R6 ] in D17 by L307 , L310 , FUNCT_1:1;
consider R5 being set such that L312: [ R7 , R6 ] in R5 and L313: R5 in C52 by L311 , TARSKI:def 4;
L314: R5 in ( F2() * ) by L227 , L313;
reconsider D23 = R5 as (FinSequence of F2()) by L314 , FINSEQ_1:def 11;
L315: (R7 in ( dom D23 ) & R6 = ( D23 . R7 )) by L312 , FUNCT_1:1;
L316: R6 in ( rng D23 ) by L315 , FUNCT_1:def 3;
L317: ( rng D23 ) c= F2() by FINSEQ_1:def 4;
thus L318: thesis by L317 , L316;
end;
L319: ( rng C60 ) c= F2() by L308 , TARSKI:def 3;
reconsider D24 = C60 as (Function of ( dom C60 ) , F2()) by L319 , FUNCT_2:2;
L320: (for R1 being (Element of ( NAT )) holds ( R1 + 1 ) in ( dom D24 ))
proof
defpred S17[ (Element of ( NAT )) ] means ( $1 + 1 ) in ( dom D24 );
L321: (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len <* F3() *> ) implies ( <* F3() *> . ( R1 + 2 ) ) = ( C51 . [ R1 , ( <* F3() *> . ( R1 + 1 ) ) ] )))
proof
let R1 being (Element of ( NAT ));
assume L322: ( R1 + 2 ) <= ( len <* F3() *> );
L323: ( R1 + 2 ) <= 1 by L322 , FINSEQ_1:39;
L324: ( R1 + ( 1 + 1 ) ) <= ( R1 + 1 ) by L323 , NAT_1:12;
thus L325: thesis by L324 , XREAL_1:6;
end;
L326: (( <* F3() *> . 1 ) = F3() & <* F3() *> in ( F2() * )) by FINSEQ_1:def 8 , FINSEQ_1:def 11;
L327: <* F3() *> in C52 by L326 , L226 , L321;
L328: { [ 1 , F3() ] } in C52 by L327 , FINSEQ_1:37;
L329: (for R3 being (Element of ( NAT )) holds (S17[ R3 ] implies S17[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
assume L330: ( R3 + 1 ) in ( dom D24 );
L331: [ ( R3 + 1 ) , ( D24 . ( R3 + 1 ) ) ] in D17 by L330 , L307 , FUNCT_1:1;
consider R5 being set such that L332: [ ( R3 + 1 ) , ( D24 . ( R3 + 1 ) ) ] in R5 and L333: R5 in C52 by L331 , TARSKI:def 4;
L334: R5 in ( F2() * ) by L227 , L333;
reconsider D25 = R5 as (FinSequence of F2()) by L334 , FINSEQ_1:def 11;
L335: (( R3 + 1 ) = ( len D25 ) implies thesis)
proof
set D26 = ( D25 ^ <* ( C51 . [ R3 , ( D25 . ( R3 + 1 ) ) ] ) *> );
L336: 1 <= ( ( R3 + 1 ) + 1 ) by NAT_1:12;
assume L337: ( R3 + 1 ) = ( len D25 );
L338: 1 <= ( len D25 ) by L337 , NAT_1:12;
L339: 1 in ( Seg ( len D25 ) ) by L338 , FINSEQ_1:1;
L340: 1 in ( dom D25 ) by L339 , FINSEQ_1:def 3;
L341: (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len D26 ) implies ( D26 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( D26 . ( R1 + 1 ) ) ] )))
proof
let R1 being (Element of ( NAT ));
assume L342: ( R1 + 2 ) <= ( len D26 );
L343: ( R1 + 2 ) <= ( ( len D25 ) + ( len <* ( C51 . [ R3 , ( D25 . ( R3 + 1 ) ) ] ) *> ) ) by L342 , FINSEQ_1:22;
L344: ( R1 + 2 ) <= ( ( len D25 ) + 1 ) by L343 , FINSEQ_1:40;
L345: (( R1 + 2 ) <> ( ( len D25 ) + 1 ) implies thesis)
proof
L346: ( ( R1 + 1 ) + 1 ) <= ( ( len D25 ) + 1 ) by L343 , FINSEQ_1:40;
L347: (1 <= ( R1 + 1 ) & ( R1 + 1 ) <= ( len D25 )) by L346 , NAT_1:12 , XREAL_1:6;
L348: ( R1 + 1 ) in ( Seg ( len D25 ) ) by L347 , FINSEQ_1:1;
L349: ( R1 + 1 ) in ( dom D25 ) by L348 , FINSEQ_1:def 3;
L350: 1 <= ( R1 + ( 1 + 1 ) ) by NAT_1:12;
assume L351: ( R1 + 2 ) <> ( ( len D25 ) + 1 );
L352: ( R1 + 2 ) <= ( len D25 ) by L351 , L344 , NAT_1:8;
L353: ( R1 + 2 ) in ( Seg ( len D25 ) ) by L352 , L350 , FINSEQ_1:1;
L354: ( R1 + 2 ) in ( dom D25 ) by L353 , FINSEQ_1:def 3;
L355: (ex R12 being FinSequence st (R12 in ( F2() * ) & ( R12 . 1 ) = F3() & (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len R12 ) implies ( R12 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( R12 . ( R1 + 1 ) ) ] ))) & D25 = R12)) by L226 , L333;
L356: ( D25 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( D25 . ( R1 + 1 ) ) ] ) by L355 , L344 , L351 , NAT_1:8;
L357: ( D26 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( D25 . ( R1 + 1 ) ) ] ) by L356 , L354 , FINSEQ_1:def 7;
thus L358: thesis by L357 , L349 , FINSEQ_1:def 7;
end;
L359: (( R1 + 2 ) = ( ( len D25 ) + 1 ) implies thesis)
proof
L360: ( ( R1 + 1 ) + 1 ) <= ( ( len D25 ) + 1 ) by L343 , FINSEQ_1:40;
L361: (1 <= ( R1 + 1 ) & ( R1 + 1 ) <= ( len D25 )) by L360 , NAT_1:12 , XREAL_1:6;
L362: ( R1 + 1 ) in ( Seg ( len D25 ) ) by L361 , FINSEQ_1:1;
L363: ( R1 + 1 ) in ( dom D25 ) by L362 , FINSEQ_1:def 3;
assume L364: ( R1 + 2 ) = ( ( len D25 ) + 1 );
L365: ( D26 . ( R1 + 2 ) ) = ( <* ( C51 . [ R3 , ( D25 . ( R3 + 1 ) ) ] ) *> . ( ( R1 + 2 ) - ( ( R1 + 2 ) - 1 ) ) ) by L364 , L343 , FINSEQ_1:23
.= ( C51 . [ R1 , ( D25 . ( R1 + 1 ) ) ] ) by L337 , L364 , FINSEQ_1:40;
thus L366: thesis by L365 , L363 , FINSEQ_1:def 7;
end;
thus L367: thesis by L359 , L345;
end;
L368: D26 in ( F2() * )
proof
L369: 1 <= ( R3 + 1 ) by NAT_1:12;
L370: ( R3 + 1 ) in ( Seg ( len D25 ) ) by L369 , L337 , FINSEQ_1:1;
L371: ( R3 + 1 ) in ( dom D25 ) by L370 , FINSEQ_1:def 3;
L372: ( D25 . ( R3 + 1 ) ) in ( rng D25 ) by L371 , FUNCT_1:def 3;
L373: ( rng D25 ) c= F2() by FINSEQ_1:def 4;
reconsider D27 = ( D25 . ( R3 + 1 ) ) as (Element of F2()) by L373 , L372;
reconsider D28 = R3 as (Element of (( NAT ) qua non  empty set));
L374: D26 = ( D25 ^ <* ( C51 . [ D28 , D27 ] ) *> );
thus L375: thesis by L374 , FINSEQ_1:def 11;
end;
L376: ( len D26 ) = ( ( len D25 ) + ( len <* ( C51 . [ R3 , ( D25 . ( R3 + 1 ) ) ] ) *> ) ) by FINSEQ_1:22
.= ( ( R3 + 1 ) + 1 ) by L337 , FINSEQ_1:39;
L377: ( ( R3 + 1 ) + 1 ) in ( Seg ( len D26 ) ) by L376 , L336 , FINSEQ_1:1;
L378: ( ( R3 + 1 ) + 1 ) in ( dom D26 ) by L377 , FINSEQ_1:def 3;
L379: [ ( ( R3 + 1 ) + 1 ) , ( D26 . ( ( R3 + 1 ) + 1 ) ) ] in D26 by L378 , FUNCT_1:1;
L380: (ex B111 being FinSequence st (B111 in ( F2() * ) & ( B111 . 1 ) = F3() & (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len B111 ) implies ( B111 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( B111 . ( R1 + 1 ) ) ] ))) & D25 = B111)) by L226 , L333;
L381: ( D26 . 1 ) = F3() by L380 , L340 , FINSEQ_1:def 7;
L382: D26 in C52 by L381 , L226 , L368 , L341;
L383: [ ( ( R3 + 1 ) + 1 ) , ( D26 . ( ( R3 + 1 ) + 1 ) ) ] in D24 by L382 , L307 , L379 , TARSKI:def 4;
thus L384: thesis by L383 , FUNCT_1:1;
end;
L385: (( R3 + 1 ) <> ( len D25 ) implies thesis)
proof
L386: ( R3 + 1 ) in ( dom D25 ) by L332 , FUNCT_1:1;
L387: ( R3 + 1 ) in ( Seg ( len D25 ) ) by L386 , FINSEQ_1:def 3;
L388: ( R3 + 1 ) <= ( len D25 ) by L387 , FINSEQ_1:1;
assume L389: ( R3 + 1 ) <> ( len D25 );
L390: ( R3 + 1 ) < ( len D25 ) by L389 , L388 , XXREAL_0:1;
L391: ( ( R3 + 1 ) + 1 ) <= ( len D25 ) by L390 , NAT_1:13;
L392: 1 <= ( ( R3 + 1 ) + 1 ) by NAT_1:12;
L393: ( ( R3 + 1 ) + 1 ) in ( Seg ( len D25 ) ) by L392 , L391 , FINSEQ_1:1;
L394: ( ( R3 + 1 ) + 1 ) in ( dom D25 ) by L393 , FINSEQ_1:def 3;
L395: [ ( ( R3 + 1 ) + 1 ) , ( D25 . ( ( R3 + 1 ) + 1 ) ) ] in D25 by L394 , FUNCT_1:1;
L396: [ ( ( R3 + 1 ) + 1 ) , ( D25 . ( ( R3 + 1 ) + 1 ) ) ] in D24 by L395 , L307 , L333 , TARSKI:def 4;
thus L397: thesis by L396 , FUNCT_1:1;
end;
thus L398: thesis by L385 , L335;
end;
L399: [ 1 , F3() ] in { [ 1 , F3() ] } by TARSKI:def 1;
L400: [ 1 , F3() ] in D24 by L399 , L307 , L328 , TARSKI:def 4;
L401: S17[ ( 0 ) ] by L400 , FUNCT_1:1;
thus L402: (for R3 being (Element of ( NAT )) holds S17[ R3 ]) from NAT_1:sch 1(L401 , L329);
end;
L403: (for R1 being (Element of ( NAT )) holds ( D24 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( D24 . ( R1 + 1 ) ) ] ))
proof
let R1 being (Element of ( NAT ));
L404: ( ( R1 + 1 ) + 1 ) in ( dom D24 ) by L320;
L405: [ ( R1 + 2 ) , ( D24 . ( R1 + 2 ) ) ] in D24 by L404 , FUNCT_1:def 2;
consider C61 being set such that L406: [ ( R1 + 2 ) , ( D24 . ( R1 + 2 ) ) ] in C61 and L407: C61 in C52 by L405 , L307 , TARSKI:def 4;
L408: (ex R11 being FinSequence st (R11 in ( F2() * ) & ( R11 . 1 ) = F3() & (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len R11 ) implies ( R11 . ( R1 + 2 ) ) = ( C51 . [ R1 , ( R11 . ( R1 + 1 ) ) ] ))) & C61 = R11)) by L226 , L407;
L409: C61 in ( F2() * ) by L227 , L407;
reconsider D29 = C61 as (FinSequence of F2()) by L409 , FINSEQ_1:def 11;
L410: ( R1 + 2 ) in ( dom D29 ) by L406 , FUNCT_1:1;
L411: ( R1 + 2 ) in ( Seg ( len D29 ) ) by L410 , FINSEQ_1:def 3;
L412: ( R1 + 2 ) <= ( len D29 ) by L411 , FINSEQ_1:1;
L413: ( R1 + 1 ) <= ( R1 + 2 ) by XREAL_1:7;
L414: (1 <= ( R1 + 1 ) & ( R1 + 1 ) <= ( len D29 )) by L413 , L412 , NAT_1:12 , XXREAL_0:2;
L415: ( R1 + 1 ) in ( Seg ( len D29 ) ) by L414 , FINSEQ_1:1;
L416: ( R1 + 1 ) in ( dom D29 ) by L415 , FINSEQ_1:def 3;
L417: [ ( R1 + 1 ) , ( D29 . ( R1 + 1 ) ) ] in D29 by L416 , FUNCT_1:1;
L418: [ ( R1 + 1 ) , ( D29 . ( R1 + 1 ) ) ] in D24 by L417 , L307 , L407 , TARSKI:def 4;
thus L419: ( D24 . ( R1 + 2 ) ) = ( D29 . ( R1 + 2 ) ) by L406 , FUNCT_1:1
.= ( C51 . [ R1 , ( D29 . ( R1 + 1 ) ) ] ) by L408 , L412
.= ( C51 . [ R1 , ( D24 . ( R1 + 1 ) ) ] ) by L418 , FUNCT_1:1;
end;
L420: (ex B112 being (Function of ( NAT ) , F2()) st (for R1 being (Element of ( NAT )) holds ( B112 . R1 ) = ( D24 . ( R1 + 1 ) )))
proof
L421: (ex B113 being Function st (( dom B113 ) = ( NAT ) & (for R1 being (Element of ( NAT )) holds ( B113 . R1 ) = ( D24 . ( R1 + 1 ) ))))
proof
defpred S18[ set , set ] means (ex R1 being (Element of ( NAT )) st (R1 = $1 & $2 = ( D24 . ( R1 + 1 ) )));
L422: (for R6 being set holds (R6 in ( NAT ) implies (ex R7 being set st S18[ R6 , R7 ])))
proof
let R6 being set;
assume L423: R6 in ( NAT );
reconsider D30 = R6 as (Element of ( NAT )) by L423;
take ( D24 . ( D30 + 1 ) );
take D30;
thus L424: thesis;
end;
consider C62 being Function such that L425: (( dom C62 ) = ( NAT ) & (for R6 being set holds (R6 in ( NAT ) implies S18[ R6 , ( C62 . R6 ) ]))) from CLASSES1:sch 1(L422);
take C62;
thus L426: ( dom C62 ) = ( NAT ) by L425;
thus L427: (for R1 being (Element of ( NAT )) holds ( C62 . R1 ) = ( D24 . ( R1 + 1 ) ))
proof
let R1 being (Element of ( NAT ));
L428: (ex R2 being (Element of ( NAT )) st (R2 = R1 & ( C62 . R1 ) = ( D24 . ( R2 + 1 ) ))) by L425;
thus L429: thesis by L428;
end;

end;
consider C63 being Function such that L428: ( dom C63 ) = ( NAT ) and L429: (for R1 being (Element of ( NAT )) holds ( C63 . R1 ) = ( D24 . ( R1 + 1 ) )) by L421;
L430: ( rng C63 ) c= F2()
proof
let R6 being set;
assume L431: R6 in ( rng C63 );
consider R7 being set such that L432: R7 in ( dom C63 ) and L433: R6 = ( C63 . R7 ) by L431 , FUNCT_1:def 3;
reconsider D31 = R7 as (Element of ( NAT )) by L428 , L432;
L434: ( D31 + 1 ) in ( dom D24 ) by L320;
L435: ( D24 . ( D31 + 1 ) ) in ( rng D24 ) by L434 , FUNCT_1:def 3;
L436: R6 = ( D24 . ( D31 + 1 ) ) by L429 , L433;
thus L437: thesis by L436 , L308 , L435;
end;
reconsider D32 = C63 as (Function of ( NAT ) , F2()) by L430 , L428 , FUNCT_2:2;
take D32;
thus L438: thesis by L429;
end;
consider C64 being (Function of ( NAT ) , F2()) such that L439: (for R1 being (Element of ( NAT )) holds ( C64 . R1 ) = ( D24 . ( R1 + 1 ) )) by L420;
L440: (for R1 being (Element of ( NAT )) holds (( R1 + 2 ) <= ( len <* F3() *> ) implies ( <* F3() *> . ( R1 + 2 ) ) = ( C51 . [ R1 , ( <* F3() *> . ( R1 + 1 ) ) ] )))
proof
let R1 being (Element of ( NAT ));
assume L441: ( R1 + 2 ) <= ( len <* F3() *> );
L442: ( ( R1 + 1 ) + 1 ) <= ( ( 0 ) + 1 ) by L441 , FINSEQ_1:39;
L443: ( R1 + 1 ) <= ( 0 ) by L442 , XREAL_1:6;
L444: ( R1 + 1 ) <= ( ( 0 ) + R1 ) by L443;
thus L445: thesis by L444 , XREAL_1:6;
end;
L446: (<* F3() *> in ( F2() * ) & ( <* F3() *> . 1 ) = F3()) by FINSEQ_1:def 8 , FINSEQ_1:def 11;
L447: <* F3() *> in C52 by L446 , L226 , L440;
L448: { [ 1 , F3() ] } in C52 by L447 , FINSEQ_1:37;
take C64;
L449: [ 1 , F3() ] in { [ 1 , F3() ] } by TARSKI:def 1;
L450: [ 1 , F3() ] in D24 by L449 , L307 , L448 , TARSKI:def 4;
L451: F3() = ( D24 . ( ( 0 ) + 1 ) ) by L450 , FUNCT_1:1
.= ( C64 . ( 0 ) ) by L439;
thus L452: ( C64 . ( 0 ) ) = F3() by L451;
let C65 being (Element of ( NAT ));
L453: ( D24 . ( C65 + ( 1 + 1 ) ) ) = ( C51 . (C65 , ( D24 . ( C65 + 1 ) )) ) by L403;
L454: P2[ C65 , ( C64 . C65 ) , ( C51 . (C65 , ( C64 . C65 )) ) ] by L225;
L455: P2[ C65 , ( C64 . C65 ) , ( D24 . ( ( C65 + 1 ) + 1 ) ) ] by L454 , L439 , L453;
thus L456: thesis by L455 , L439;
end;
scheme FinRecEx { F4() -> set , F5() -> Nat , P3[set , set , set] } : (ex B114 being FinSequence st (( len B114 ) = F5() & (( B114 . 1 ) = F4() or F5() = ( 0 )) & (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F5()) implies P3[ R1 , ( B114 . R1 ) , ( B114 . ( R1 + 1 ) ) ]))))
provided
L457: (for B115 being (Element of ( NAT )) holds ((1 <= B115 & B115 < F5()) implies (for B116 being set holds (ex B117 being set st P3[ B115 , B116 , B117 ]))))
proof
defpred S19[ (Element of ( NAT )) , set , set ] means (($1 < ( F5() - 1 ) implies P3[ ( $1 + 1 ) , $2 , $3 ]) & ((not $1 < ( F5() - 1 )) implies $3 = ( 0 )));
L458: (for B118 being (Element of ( NAT )) holds (for B119 being set holds (ex B120 being set st S19[ B118 , B119 , B120 ])))
proof
let C66 being (Element of ( NAT ));
let C67 being set;
L459: (C66 < ( F5() - 1 ) implies thesis)
proof
assume L460: C66 < ( F5() - 1 );
L461: ( C66 + 1 ) < F5() by L460 , XREAL_1:20;
consider R7 being set such that L462: P3[ ( C66 + 1 ) , C67 , R7 ] by L461 , L457 , NAT_1:11;
take R7;
thus L463: (C66 < ( F5() - 1 ) implies P3[ ( C66 + 1 ) , C67 , R7 ]) by L462;
thus L464: thesis by L460;
end;
thus L465: thesis by L459;
end;
consider C68 being Function such that L466: (( dom C68 ) = ( NAT ) & ( C68 . ( 0 ) ) = F4() & (for B121 being (Element of ( NAT )) holds S19[ B121 , ( C68 . B121 ) , ( C68 . ( B121 + 1 ) ) ])) from RecEx(L458);
defpred S20[ set , set ] means (for B122 being Real holds (B122 = $1 implies $2 = ( C68 . ( B122 - 1 ) )));
L467: (for R6 being set holds (R6 in ( REAL ) implies (ex R7 being set st S20[ R6 , R7 ])))
proof
let R6 being set;
assume L468: R6 in ( REAL );
reconsider D33 = R6 as Real by L468;
take ( C68 . ( D33 - 1 ) );
thus L469: thesis;
end;
consider C69 being Function such that L470: (( dom C69 ) = ( REAL ) & (for R6 being set holds (R6 in ( REAL ) implies S20[ R6 , ( C69 . R6 ) ]))) from CLASSES1:sch 1(L467);
L471: ( dom ( C69 | ( Seg F5() ) ) ) = ( Seg F5() ) by L470 , RELAT_1:62 , XBOOLE_1:1;
reconsider D34 = ( C69 | ( Seg F5() ) ) as FinSequence by L471 , FINSEQ_1:def 2;
take D34;
L472: F5() in ( NAT ) by ORDINAL1:def 12;
thus L473: ( len D34 ) = F5() by L472 , L471 , FINSEQ_1:def 3;
L474: (F5() <> ( 0 ) implies (( D34 . 1 ) = F4() or F5() = ( 0 )))
proof
assume L475: F5() <> ( 0 );
consider C70 being Nat such that L476: F5() = ( C70 + 1 ) by L475 , NAT_1:6;
L477: ( ( 0 ) + 1 ) <= ( C70 + 1 ) by XREAL_1:7;
L478: 1 in ( Seg F5() ) by L477 , L476 , FINSEQ_1:1;
L479: ( D34 . 1 ) = ( C69 . 1 ) by L478 , FUNCT_1:49
.= ( C68 . ( 1 - 1 ) ) by L470
.= F4() by L466;
thus L480: thesis by L479;
end;
thus L481: (( D34 . 1 ) = F4() or F5() = ( 0 )) by L474;
let R1 being (Element of ( NAT ));
assume that
L482: 1 <= R1
and
L483: R1 < F5();
L484: ( 0 ) <> R1 by L482;
consider C71 being Nat such that L485: R1 = ( C71 + 1 ) by L484 , NAT_1:6;
L486: (for B123 being (Element of ( NAT )) holds (B123 < F5() implies ( D34 . ( B123 + 1 ) ) = ( C68 . B123 )))
proof
let C72 being (Element of ( NAT ));
assume L487: C72 < F5();
L488: (1 <= ( C72 + 1 ) & ( C72 + 1 ) <= F5()) by L487 , NAT_1:11 , NAT_1:13;
L489: ( C72 + 1 ) in ( Seg F5() ) by L488 , FINSEQ_1:1;
L490: ( C69 . ( C72 + 1 ) ) = ( C68 . ( ( C72 + 1 ) - 1 ) ) by L470
.= ( C68 . C72 );
thus L491: thesis by L490 , L489 , FUNCT_1:49;
end;
reconsider D35 = C71 as (Element of ( NAT )) by ORDINAL1:def 12;
L492: D35 <= ( D35 + 1 ) by NAT_1:11;
L493: D35 < F5() by L492 , L483 , L485 , XXREAL_0:2;
L494: D35 < ( F5() - 1 ) by L483 , L485 , XREAL_1:20;
L495: P3[ ( D35 + 1 ) , ( C68 . D35 ) , ( C68 . ( D35 + 1 ) ) ] by L494 , L466;
L496: P3[ ( D35 + 1 ) , ( C68 . D35 ) , ( D34 . ( ( D35 + 1 ) + 1 ) ) ] by L495 , L486 , L483 , L485;
thus L497: thesis by L496 , L486 , L485 , L493;
end;
scheme FinRecExD { F6() -> non  empty set , F7() -> (Element of F6()) , F8() -> Nat , P4[set , set , set] } : (ex B124 being (FinSequence of F6()) st (( len B124 ) = F8() & (( B124 . 1 ) = F7() or F8() = ( 0 )) & (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F8()) implies P4[ R1 , ( B124 . R1 ) , ( B124 . ( R1 + 1 ) ) ]))))
provided
L498: (for B125 being (Element of ( NAT )) holds ((1 <= B125 & B125 < F8()) implies (for B126 being (Element of F6()) holds (ex B127 being (Element of F6()) st P4[ B125 , B126 , B127 ]))))
proof
set D36 = the (Element of F6());
defpred S21[ (Element of ( NAT )) , set , set ] means (($1 < ( F8() - 1 ) implies P4[ ( $1 + 1 ) , $2 , $3 ]) & ((not $1 < ( F8() - 1 )) implies $3 = D36));
L499: (for B128 being (Element of ( NAT )) holds (for B129 being (Element of F6()) holds (ex B130 being (Element of F6()) st S21[ B128 , B129 , B130 ])))
proof
let C73 being (Element of ( NAT ));
let C74 being (Element of F6());
L500: (C73 < ( F8() - 1 ) implies thesis)
proof
assume L501: C73 < ( F8() - 1 );
L502: ( C73 + 1 ) < F8() by L501 , XREAL_1:20;
consider C75 being (Element of F6()) such that L503: P4[ ( C73 + 1 ) , C74 , C75 ] by L502 , L498 , NAT_1:11;
take C75;
thus L504: (C73 < ( F8() - 1 ) implies P4[ ( C73 + 1 ) , C74 , C75 ]) by L503;
thus L505: thesis by L501;
end;
thus L506: thesis by L500;
end;
consider C76 being (Function of ( NAT ) , F6()) such that L507: (( C76 . ( 0 ) ) = F7() & (for B131 being (Element of ( NAT )) holds S21[ B131 , ( C76 . B131 ) , ( C76 . ( B131 + 1 ) ) ])) from RecExD(L499);
defpred S22[ set , set ] means (for B132 being Real holds (B132 = $1 implies $2 = ( C76 . ( B132 - 1 ) )));
L508: (for R6 being set holds (R6 in ( REAL ) implies (ex R7 being set st S22[ R6 , R7 ])))
proof
let R6 being set;
assume L509: R6 in ( REAL );
reconsider D37 = R6 as Real by L509;
take ( C76 . ( D37 - 1 ) );
thus L510: thesis;
end;
consider C77 being Function such that L511: (( dom C77 ) = ( REAL ) & (for R6 being set holds (R6 in ( REAL ) implies S22[ R6 , ( C77 . R6 ) ]))) from CLASSES1:sch 1(L508);
L512: ( dom ( C77 | ( Seg F8() ) ) ) = ( Seg F8() ) by L511 , RELAT_1:62 , XBOOLE_1:1;
reconsider D38 = ( C77 | ( Seg F8() ) ) as FinSequence by L512 , FINSEQ_1:def 2;
L513: ( rng D38 ) c= F6()
proof
let R6 being set;
assume L514: R6 in ( rng D38 );
consider R7 being set such that L515: R7 in ( dom D38 ) and L516: R6 = ( D38 . R7 ) by L514 , FUNCT_1:def 3;
reconsider D39 = R7 as (Element of ( NAT )) by L515;
L517: ( C76 . ( D39 - 1 ) ) in F6()
proof
L518: D39 <> ( 0 ) by L512 , L515 , FINSEQ_1:1;
consider C78 being Nat such that L519: D39 = ( C78 + 1 ) by L518 , NAT_1:6;
reconsider D40 = C78 as (Element of ( NAT )) by ORDINAL1:def 12;
L520: ( C76 . D40 ) in F6();
thus L521: thesis by L520 , L519;
end;
L522: ( D38 . D39 ) = ( C77 . D39 ) by L515 , FUNCT_1:47;
thus L523: thesis by L522 , L511 , L516 , L517;
end;
reconsider D41 = D38 as (FinSequence of F6()) by L513 , FINSEQ_1:def 4;
take D41;
L524: F8() in ( NAT ) by ORDINAL1:def 12;
thus L525: ( len D41 ) = F8() by L524 , L512 , FINSEQ_1:def 3;
L526: (F8() <> ( 0 ) implies (( D41 . 1 ) = F7() or F8() = ( 0 )))
proof
assume L527: F8() <> ( 0 );
consider C79 being Nat such that L528: F8() = ( C79 + 1 ) by L527 , NAT_1:6;
L529: ( ( 0 ) + 1 ) <= ( C79 + 1 ) by XREAL_1:7;
L530: 1 in ( Seg F8() ) by L529 , L528 , FINSEQ_1:1;
L531: ( D41 . 1 ) = ( C77 . 1 ) by L530 , FUNCT_1:49
.= ( C76 . ( 1 - 1 ) ) by L511
.= F7() by L507;
thus L532: thesis by L531;
end;
thus L533: (( D41 . 1 ) = F7() or F8() = ( 0 )) by L526;
let R1 being (Element of ( NAT ));
assume that
L534: 1 <= R1
and
L535: R1 < F8();
L536: ( 0 ) <> R1 by L534;
consider C80 being Nat such that L537: R1 = ( C80 + 1 ) by L536 , NAT_1:6;
L538: (for B133 being (Element of ( NAT )) holds (B133 < F8() implies ( D41 . ( B133 + 1 ) ) = ( C76 . B133 )))
proof
let C81 being (Element of ( NAT ));
assume L539: C81 < F8();
L540: (1 <= ( C81 + 1 ) & ( C81 + 1 ) <= F8()) by L539 , NAT_1:11 , NAT_1:13;
L541: ( C81 + 1 ) in ( Seg F8() ) by L540 , FINSEQ_1:1;
L542: ( C77 . ( C81 + 1 ) ) = ( C76 . ( ( C81 + 1 ) - 1 ) ) by L511
.= ( C76 . C81 );
thus L543: thesis by L542 , L541 , FUNCT_1:49;
end;
reconsider D42 = C80 as (Element of ( NAT )) by ORDINAL1:def 12;
L544: D42 <= ( D42 + 1 ) by NAT_1:11;
L545: D42 < F8() by L544 , L535 , L537 , XXREAL_0:2;
L546: D42 < ( F8() - 1 ) by L535 , L537 , XREAL_1:20;
L547: P4[ ( D42 + 1 ) , ( C76 . D42 ) , ( C76 . ( D42 + 1 ) ) ] by L546 , L507;
L548: P4[ ( D42 + 1 ) , ( C76 . D42 ) , ( D41 . ( ( D42 + 1 ) + 1 ) ) ] by L547 , L538 , L535 , L537;
thus L549: thesis by L548 , L538 , L537 , L545;
end;
scheme SeqBinOpEx { F9() -> FinSequence , P5[set , set , set] } : (ex R6 being set st (ex B134 being FinSequence st (R6 = ( B134 . ( len B134 ) ) & ( len B134 ) = ( len F9() ) & ( B134 . 1 ) = ( F9() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F9() )) implies P5[ ( F9() . ( R3 + 1 ) ) , ( B134 . R3 ) , ( B134 . ( R3 + 1 ) ) ])))))
provided
L550: (for R3 being (Element of ( NAT )) holds (for R6 being set holds ((1 <= R3 & R3 < ( len F9() )) implies (ex R7 being set st P5[ ( F9() . ( R3 + 1 ) ) , R6 , R7 ]))))
proof
defpred S23[ (Element of ( NAT )) , set , set ] means P5[ ( F9() . ( $1 + 1 ) ) , $2 , $3 ];
L551: (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F9() )) implies (for R6 being set holds (ex R7 being set st S23[ R3 , R6 , R7 ])))) by L550;
consider R11 being FinSequence such that L552: (( len R11 ) = ( len F9() ) & (( R11 . 1 ) = ( F9() . 1 ) or ( len F9() ) = ( 0 )) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F9() )) implies S23[ R3 , ( R11 . R3 ) , ( R11 . ( R3 + 1 ) ) ]))) from FinRecEx(L551);
L553: (( len F9() ) <> ( 0 ) implies thesis)
proof
assume L554: ( len F9() ) <> ( 0 );
take ( R11 . ( len R11 ) );
take R11;
thus L555: (( R11 . ( len R11 ) ) = ( R11 . ( len R11 ) ) & ( len R11 ) = ( len F9() ) & ( R11 . 1 ) = ( F9() . 1 )) by L552 , L554;
let R3 being (Element of ( NAT ));
assume L556: (1 <= R3 & R3 < ( len F9() ));
thus L557: thesis by L556 , L552;
end;
L558: (( len F9() ) = ( 0 ) implies thesis)
proof
assume L559: ( len F9() ) = ( 0 );
take ( F9() . ( 0 ) );
take F9();
thus L560: (( F9() . ( 0 ) ) = ( F9() . ( len F9() ) ) & ( len F9() ) = ( len F9() ) & ( F9() . 1 ) = ( F9() . 1 )) by L559;
thus L561: thesis by L559;
end;
thus L562: thesis by L558 , L553;
end;
scheme LambdaSeqBinOpEx { F10() -> FinSequence , F11(set , set) -> set } : (ex R6 being set st (ex B135 being FinSequence st (R6 = ( B135 . ( len B135 ) ) & ( len B135 ) = ( len F10() ) & ( B135 . 1 ) = ( F10() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F10() )) implies ( B135 . ( R3 + 1 ) ) = F11(( F10() . ( R3 + 1 ) ) , ( B135 . R3 )))))))
proof
defpred S24[ set , set , set ] means $3 = F11($1 , $2);
L563: (for R3 being (Element of ( NAT )) holds (for R6 being set holds ((1 <= R3 & R3 < ( len F10() )) implies (ex R7 being set st S24[ ( F10() . ( R3 + 1 ) ) , R6 , R7 ]))));
consider R6 being set such that L564: (ex R11 being FinSequence st (R6 = ( R11 . ( len R11 ) ) & ( len R11 ) = ( len F10() ) & ( R11 . 1 ) = ( F10() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F10() )) implies S24[ ( F10() . ( R3 + 1 ) ) , ( R11 . R3 ) , ( R11 . ( R3 + 1 ) ) ])))) from SeqBinOpEx(L563);
take R6;
consider R11 being FinSequence such that L565: (R6 = ( R11 . ( len R11 ) ) & ( len R11 ) = ( len F10() ) & ( R11 . 1 ) = ( F10() . 1 )) and L566: (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F10() )) implies ( R11 . ( R3 + 1 ) ) = F11(( F10() . ( R3 + 1 ) ) , ( R11 . R3 )))) by L564;
take R11;
thus L567: (R6 = ( R11 . ( len R11 ) ) & ( len R11 ) = ( len F10() ) & ( R11 . 1 ) = ( F10() . 1 )) by L565;
let R3 being (Element of ( NAT ));
assume L568: (1 <= R3 & R3 < ( len F10() ));
thus L569: thesis by L568 , L566;
end;
scheme FinRecUn { F12() -> set , F13() -> Nat , F14 , F15() -> FinSequence , P6[set , set , set] } : F14() = F15()
provided
L570: (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F13()) implies (for B136 , B137 , B138 being set holds ((P6[ R1 , B136 , B137 ] & P6[ R1 , B136 , B138 ]) implies B137 = B138))))
and
L571: (( len F14() ) = F13() & (( F14() . 1 ) = F12() or F13() = ( 0 )) & (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F13()) implies P6[ R1 , ( F14() . R1 ) , ( F14() . ( R1 + 1 ) ) ])))
and
L572: (( len F15() ) = F13() & (( F15() . 1 ) = F12() or F13() = ( 0 )) & (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F13()) implies P6[ R1 , ( F15() . R1 ) , ( F15() . ( R1 + 1 ) ) ])))
proof
defpred S25[ Nat ] means (1 <= $1 & $1 <= F13() & ( F14() . $1 ) <> ( F15() . $1 ));
assume L573: F14() <> F15();
L574: ( dom F14() ) = ( Seg ( len F15() ) ) by L571 , L572 , FINSEQ_1:def 3
.= ( dom F15() ) by FINSEQ_1:def 3;
consider R6 being set such that L575: R6 in ( dom F14() ) and L576: ( F14() . R6 ) <> ( F15() . R6 ) by L574 , L573 , FUNCT_1:2;
L577: R6 in ( Seg ( len F14() ) ) by L575 , FINSEQ_1:def 3;
reconsider D43 = R6 as (Element of ( NAT )) by L575;
L578: 1 <= D43 by L577 , FINSEQ_1:1;
L579: D43 <= F13() by L571 , L577 , FINSEQ_1:1;
L580: (ex B139 being Nat st S25[ B139 ]) by L579 , L576 , L578;
consider C82 being Nat such that L581: (S25[ C82 ] & (for B140 being Nat holds (S25[ B140 ] implies C82 <= B140))) from NAT_1:sch 5(L580);
L582: ( 0 ) <> C82 by L581;
consider C83 being Nat such that L583: C82 = ( C83 + 1 ) by L582 , NAT_1:6;
reconsider D44 = C83 as (Element of ( NAT )) by ORDINAL1:def 12;
L584: C82 <> 1 by L571 , L572 , L581;
L585: 1 < C82 by L584 , L581 , XXREAL_0:1;
L586: 1 <= D44 by L585 , L583 , NAT_1:13;
L587: D44 < C82 by L583 , XREAL_1:29;
L588: D44 < F13() by L587 , L581 , XXREAL_0:2;
L589: C82 > D44 by L583 , NAT_1:13;
L590: ( F14() . D44 ) = ( F15() . D44 ) by L589 , L581 , L586 , L588;
L591: P6[ D44 , ( F14() . D44 ) , ( F15() . ( D44 + 1 ) ) ] by L590 , L572 , L586 , L588;
L592: P6[ D44 , ( F14() . D44 ) , ( F14() . ( D44 + 1 ) ) ] by L571 , L586 , L588;
thus L593: contradiction by L592 , L570 , L581 , L583 , L586 , L588 , L591;
end;
scheme FinRecUnD { F16() -> non  empty set , F17() -> (Element of F16()) , F18() -> Nat , F19 , F20() -> (FinSequence of F16()) , P7[set , set , set] } : F19() = F20()
provided
L594: (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F18()) implies (for B141 , B142 , B143 being (Element of F16()) holds ((P7[ R1 , B141 , B142 ] & P7[ R1 , B141 , B143 ]) implies B142 = B143))))
and
L595: (( len F19() ) = F18() & (( F19() . 1 ) = F17() or F18() = ( 0 )) & (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F18()) implies P7[ R1 , ( F19() . R1 ) , ( F19() . ( R1 + 1 ) ) ])))
and
L596: (( len F20() ) = F18() & (( F20() . 1 ) = F17() or F18() = ( 0 )) & (for R1 being (Element of ( NAT )) holds ((1 <= R1 & R1 < F18()) implies P7[ R1 , ( F20() . R1 ) , ( F20() . ( R1 + 1 ) ) ])))
proof
defpred S26[ Nat ] means (1 <= $1 & $1 <= F18() & ( F19() . $1 ) <> ( F20() . $1 ));
assume L597: F19() <> F20();
L598: ( dom F19() ) = ( Seg ( len F20() ) ) by L595 , L596 , FINSEQ_1:def 3
.= ( dom F20() ) by FINSEQ_1:def 3;
consider R6 being set such that L599: R6 in ( dom F19() ) and L600: ( F19() . R6 ) <> ( F20() . R6 ) by L598 , L597 , FUNCT_1:2;
L601: R6 in ( Seg ( len F19() ) ) by L599 , FINSEQ_1:def 3;
reconsider D45 = R6 as (Element of ( NAT )) by L599;
L602: 1 <= D45 by L601 , FINSEQ_1:1;
L603: D45 <= F18() by L595 , L601 , FINSEQ_1:1;
L604: (ex B144 being Nat st S26[ B144 ]) by L603 , L600 , L602;
consider C84 being Nat such that L605: (S26[ C84 ] & (for B145 being Nat holds (S26[ B145 ] implies C84 <= B145))) from NAT_1:sch 5(L604);
L606: ( 0 ) <> C84 by L605;
consider C85 being Nat such that L607: C84 = ( C85 + 1 ) by L606 , NAT_1:6;
reconsider D46 = C85 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D47 = ( F20() . ( D46 + 1 ) ) as (Element of F16()) by L596 , L605 , L607 , L1;
L608: C84 <> 1 by L595 , L596 , L605;
L609: 1 < C84 by L608 , L605 , XXREAL_0:1;
L610: 1 <= D46 by L609 , L607 , NAT_1:13;
L611: D46 < C84 by L607 , XREAL_1:29;
L612: D46 < F18() by L611 , L605 , XXREAL_0:2;
reconsider D48 = ( F19() . D46 ) as (Element of F16()) by L612 , L595 , L610 , L1;
L613: C84 > D46 by L607 , NAT_1:13;
L614: ( F19() . D46 ) = ( F20() . D46 ) by L613 , L605 , L610 , L612;
L615: P7[ D46 , D48 , D47 ] by L614 , L596 , L610 , L612;
reconsider D49 = ( F19() . ( D46 + 1 ) ) as (Element of F16()) by L595 , L605 , L607 , L1;
L616: P7[ D46 , D48 , D49 ] by L595 , L610 , L612;
thus L617: contradiction by L616 , L594 , L605 , L607 , L610 , L612 , L615;
end;
scheme SeqBinOpUn { F21() -> FinSequence , P8[set , set , set] , F22 , F23() -> set } : F22() = F23()
provided
L618: (for R3 being (Element of ( NAT )) holds (for R6 being set holds (for R9 being set holds (for R10 being set holds (for R8 being set holds ((1 <= R3 & R3 < ( len F21() ) & R8 = ( F21() . ( R3 + 1 ) ) & P8[ R8 , R6 , R9 ] & P8[ R8 , R6 , R10 ]) implies R9 = R10))))))
and
L619: (ex B146 being FinSequence st (F22() = ( B146 . ( len B146 ) ) & ( len B146 ) = ( len F21() ) & ( B146 . 1 ) = ( F21() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F21() )) implies P8[ ( F21() . ( R3 + 1 ) ) , ( B146 . R3 ) , ( B146 . ( R3 + 1 ) ) ]))))
and
L620: (ex B147 being FinSequence st (F23() = ( B147 . ( len B147 ) ) & ( len B147 ) = ( len F21() ) & ( B147 . 1 ) = ( F21() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F21() )) implies P8[ ( F21() . ( R3 + 1 ) ) , ( B147 . R3 ) , ( B147 . ( R3 + 1 ) ) ]))))
proof
defpred S27[ (Element of ( NAT )) , set , set ] means P8[ ( F21() . ( $1 + 1 ) ) , $2 , $3 ];
L621: (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F21() )) implies (for R6 being set holds (for R9 being set holds (for R10 being set holds ((S27[ R3 , R6 , R9 ] & S27[ R3 , R6 , R10 ]) implies R9 = R10)))))) by L618;
consider R12 being FinSequence such that L622: F23() = ( R12 . ( len R12 ) ) and L623: (( len R12 ) = ( len F21() ) & ( R12 . 1 ) = ( F21() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F21() )) implies S27[ R3 , ( R12 . R3 ) , ( R12 . ( R3 + 1 ) ) ]))) by L620;
L624: (( len R12 ) = ( len F21() ) & (( R12 . 1 ) = ( F21() . 1 ) or ( len F21() ) = ( 0 )) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F21() )) implies S27[ R3 , ( R12 . R3 ) , ( R12 . ( R3 + 1 ) ) ]))) by L623;
consider R11 being FinSequence such that L625: F22() = ( R11 . ( len R11 ) ) and L626: (( len R11 ) = ( len F21() ) & ( R11 . 1 ) = ( F21() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F21() )) implies S27[ R3 , ( R11 . R3 ) , ( R11 . ( R3 + 1 ) ) ]))) by L619;
L627: (( len R11 ) = ( len F21() ) & (( R11 . 1 ) = ( F21() . 1 ) or ( len F21() ) = ( 0 )) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F21() )) implies S27[ R3 , ( R11 . R3 ) , ( R11 . ( R3 + 1 ) ) ]))) by L626;
L628: R11 = R12 from FinRecUn(L621 , L627 , L624);
thus L629: thesis by L628 , L625 , L622;
end;
scheme LambdaSeqBinOpUn { F24() -> FinSequence , F25(set , set) -> set , F26 , F27() -> set } : F26() = F27()
provided
L630: (ex B148 being FinSequence st (F26() = ( B148 . ( len B148 ) ) & ( len B148 ) = ( len F24() ) & ( B148 . 1 ) = ( F24() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F24() )) implies ( B148 . ( R3 + 1 ) ) = F25(( F24() . ( R3 + 1 ) ) , ( B148 . R3 ))))))
and
L631: (ex B149 being FinSequence st (F27() = ( B149 . ( len B149 ) ) & ( len B149 ) = ( len F24() ) & ( B149 . 1 ) = ( F24() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F24() )) implies ( B149 . ( R3 + 1 ) ) = F25(( F24() . ( R3 + 1 ) ) , ( B149 . R3 ))))))
proof
defpred S28[ set , set , set ] means $3 = F25($1 , $2);
L632: (ex R11 being FinSequence st (F27() = ( R11 . ( len R11 ) ) & ( len R11 ) = ( len F24() ) & ( R11 . 1 ) = ( F24() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F24() )) implies S28[ ( F24() . ( R3 + 1 ) ) , ( R11 . R3 ) , ( R11 . ( R3 + 1 ) ) ])))) by L631;
L633: (for R3 being (Element of ( NAT )) holds (for R6 being set holds (for R9 being set holds (for R10 being set holds (for R8 being set holds ((1 <= R3 & R3 < ( len F24() ) & R8 = ( F24() . ( R3 + 1 ) ) & S28[ R8 , R6 , R9 ] & S28[ R8 , R6 , R10 ]) implies R9 = R10))))));
L634: (ex R11 being FinSequence st (F26() = ( R11 . ( len R11 ) ) & ( len R11 ) = ( len F24() ) & ( R11 . 1 ) = ( F24() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F24() )) implies S28[ ( F24() . ( R3 + 1 ) ) , ( R11 . R3 ) , ( R11 . ( R3 + 1 ) ) ])))) by L630;
thus L635: F26() = F27() from SeqBinOpUn(L633 , L634 , L632);
end;
scheme DefRec { F28() -> set , F29() -> Nat , P9[set , set , set] } : ((ex B150 being set st (ex B151 being Function st (B150 = ( B151 . F29() ) & ( dom B151 ) = ( NAT ) & ( B151 . ( 0 ) ) = F28() & (for R1 being (Element of ( NAT )) holds P9[ R1 , ( B151 . R1 ) , ( B151 . ( R1 + 1 ) ) ])))) & (for B152 , B153 being set holds (((ex B154 being Function st (B152 = ( B154 . F29() ) & ( dom B154 ) = ( NAT ) & ( B154 . ( 0 ) ) = F28() & (for R1 being (Element of ( NAT )) holds P9[ R1 , ( B154 . R1 ) , ( B154 . ( R1 + 1 ) ) ]))) & (ex B155 being Function st (B153 = ( B155 . F29() ) & ( dom B155 ) = ( NAT ) & ( B155 . ( 0 ) ) = F28() & (for R1 being (Element of ( NAT )) holds P9[ R1 , ( B155 . R1 ) , ( B155 . ( R1 + 1 ) ) ])))) implies B152 = B153)))
provided
L636: (for R1 being (Element of ( NAT )) holds (for R6 being set holds (ex R7 being set st P9[ R1 , R6 , R7 ])))
and
L637: (for R1 being (Element of ( NAT )) holds (for R6 being set holds (for R9 being set holds (for R10 being set holds ((P9[ R1 , R6 , R9 ] & P9[ R1 , R6 , R10 ]) implies R9 = R10)))))
proof
L638: (for R1 being (Element of ( NAT )) holds (for R6 being set holds (ex R7 being set st P9[ R1 , R6 , R7 ]))) by L636;
consider C86 being Function such that L639: (( dom C86 ) = ( NAT ) & ( C86 . ( 0 ) ) = F28() & (for B156 being (Element of ( NAT )) holds P9[ B156 , ( C86 . B156 ) , ( C86 . ( B156 + 1 ) ) ])) from RecEx(L638);
L640: (for B157 being Nat holds (for R6 being set holds (for R9 being set holds (for R10 being set holds ((P9[ B157 , R6 , R9 ] & P9[ B157 , R6 , R10 ]) implies R9 = R10)))))
proof
let C87 being Nat;
L641: C87 in ( NAT ) by ORDINAL1:def 12;
thus L642: thesis by L641 , L637;
end;
thus L643: (ex B158 being set st (ex B159 being Function st (B158 = ( B159 . F29() ) & ( dom B159 ) = ( NAT ) & ( B159 . ( 0 ) ) = F28() & (for R1 being (Element of ( NAT )) holds P9[ R1 , ( B159 . R1 ) , ( B159 . ( R1 + 1 ) ) ]))))
proof
take ( C86 . F29() );
take C86;
thus L644: thesis by L639;
end;

let C88 , C89 being set;
given C90 being Function such that
L645: C88 = ( C90 . F29() )
and
L646: ( dom C90 ) = ( NAT )
and
L647: ( C90 . ( 0 ) ) = F28()
and
L648: (for R1 being (Element of ( NAT )) holds P9[ R1 , ( C90 . R1 ) , ( C90 . ( R1 + 1 ) ) ]);

L649: (for B160 being Nat holds P9[ B160 , ( C90 . B160 ) , ( C90 . ( B160 + 1 ) ) ])
proof
let C91 being Nat;
L650: C91 in ( NAT ) by ORDINAL1:def 12;
thus L651: thesis by L650 , L648;
end;
given C92 being Function such that
L652: C89 = ( C92 . F29() )
and
L653: ( dom C92 ) = ( NAT )
and
L654: ( C92 . ( 0 ) ) = F28()
and
L655: (for R1 being (Element of ( NAT )) holds P9[ R1 , ( C92 . R1 ) , ( C92 . ( R1 + 1 ) ) ]);

L656: (for B161 being Nat holds P9[ B161 , ( C92 . B161 ) , ( C92 . ( B161 + 1 ) ) ])
proof
let C93 being Nat;
L657: C93 in ( NAT ) by ORDINAL1:def 12;
thus L658: thesis by L657 , L655;
end;
L659: C90 = C92 from NAT_1:sch 13(L646 , L647 , L649 , L653 , L654 , L656 , L640);
thus L660: thesis by L659 , L645 , L652;
end;
scheme LambdaDefRec { F30() -> set , F31() -> Nat , F32(set , set) -> set } : ((ex B162 being set st (ex B163 being Function st (B162 = ( B163 . F31() ) & ( dom B163 ) = ( NAT ) & ( B163 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds ( B163 . ( R1 + 1 ) ) = F32(R1 , ( B163 . R1 )))))) & (for B164 , B165 being set holds (((ex B166 being Function st (B164 = ( B166 . F31() ) & ( dom B166 ) = ( NAT ) & ( B166 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds ( B166 . ( R1 + 1 ) ) = F32(R1 , ( B166 . R1 ))))) & (ex B167 being Function st (B165 = ( B167 . F31() ) & ( dom B167 ) = ( NAT ) & ( B167 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds ( B167 . ( R1 + 1 ) ) = F32(R1 , ( B167 . R1 )))))) implies B164 = B165)))
proof
defpred S29[ set , set , set ] means (for R8 being set holds (R8 = $2 implies $3 = F32($1 , R8)));
L661: (for R1 being (Element of ( NAT )) holds (for R6 being set holds (ex R7 being set st S29[ R1 , R6 , R7 ])))
proof
let R1 being (Element of ( NAT ));
let R6 being set;
take F32(R1 , R6);
let R8 being set;
assume L662: R8 = R6;
thus L663: thesis by L662;
end;
L664: (for R1 being (Element of ( NAT )) holds (for R6 being set holds (for R9 being set holds (for R10 being set holds ((S29[ R1 , R6 , R9 ] & S29[ R1 , R6 , R10 ]) implies R9 = R10)))))
proof
let R1 being (Element of ( NAT ));
let R6 being set;
let R9 being set;
let R10 being set;
assume that
L665: (for R8 being set holds (R8 = R6 implies R9 = F32(R1 , R8)))
and
L666: (for R8 being set holds (R8 = R6 implies R10 = F32(R1 , R8)));
thus L667: R9 = F32(R1 , R6) by L665
.= R10 by L666;
end;
L668: ((ex B168 being set st (ex B169 being Function st (B168 = ( B169 . F31() ) & ( dom B169 ) = ( NAT ) & ( B169 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds S29[ R1 , ( B169 . R1 ) , ( B169 . ( R1 + 1 ) ) ])))) & (for B170 , B171 being set holds (((ex B172 being Function st (B170 = ( B172 . F31() ) & ( dom B172 ) = ( NAT ) & ( B172 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds S29[ R1 , ( B172 . R1 ) , ( B172 . ( R1 + 1 ) ) ]))) & (ex B173 being Function st (B171 = ( B173 . F31() ) & ( dom B173 ) = ( NAT ) & ( B173 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds S29[ R1 , ( B173 . R1 ) , ( B173 . ( R1 + 1 ) ) ])))) implies B170 = B171))) from DefRec(L661 , L664);
consider C94 being set, C95 being Function such that L669: (C94 = ( C95 . F31() ) & ( dom C95 ) = ( NAT ) & ( C95 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds S29[ R1 , ( C95 . R1 ) , ( C95 . ( R1 + 1 ) ) ])) by L668;
thus L670: (ex B174 being set st (ex B175 being Function st (B174 = ( B175 . F31() ) & ( dom B175 ) = ( NAT ) & ( B175 . ( 0 ) ) = F30() & (for R1 being (Element of ( NAT )) holds ( B175 . ( R1 + 1 ) ) = F32(R1 , ( B175 . R1 ))))))
proof
take C94;
take C95;
thus L671: thesis by L669;
end;

let C96 , C97 being set;
given C98 being Function such that
L672: (C96 = ( C98 . F31() ) & ( dom C98 ) = ( NAT ) & ( C98 . ( 0 ) ) = F30())
and
L673: (for R1 being (Element of ( NAT )) holds ( C98 . ( R1 + 1 ) ) = F32(R1 , ( C98 . R1 )));

L674: (for R1 being (Element of ( NAT )) holds S29[ R1 , ( C98 . R1 ) , ( C98 . ( R1 + 1 ) ) ]) by L673;
given C99 being Function such that
L675: (C97 = ( C99 . F31() ) & ( dom C99 ) = ( NAT ) & ( C99 . ( 0 ) ) = F30())
and
L676: (for R1 being (Element of ( NAT )) holds ( C99 . ( R1 + 1 ) ) = F32(R1 , ( C99 . R1 )));

L677: (for R1 being (Element of ( NAT )) holds S29[ R1 , ( C99 . R1 ) , ( C99 . ( R1 + 1 ) ) ]) by L676;
thus L678: thesis by L677 , L668 , L672 , L675 , L674;
end;
scheme DefRecD { F33() -> non  empty set , F34() -> (Element of F33()) , F35() -> Nat , P10[set , set , set] } : ((ex B176 being (Element of F33()) st (ex B177 being (Function of ( NAT ) , F33()) st (B176 = ( B177 . F35() ) & ( B177 . ( 0 ) ) = F34() & (for R1 being (Element of ( NAT )) holds P10[ R1 , ( B177 . R1 ) , ( B177 . ( R1 + 1 ) ) ])))) & (for B178 , B179 being (Element of F33()) holds (((ex B180 being (Function of ( NAT ) , F33()) st (B178 = ( B180 . F35() ) & ( B180 . ( 0 ) ) = F34() & (for R1 being (Element of ( NAT )) holds P10[ R1 , ( B180 . R1 ) , ( B180 . ( R1 + 1 ) ) ]))) & (ex B181 being (Function of ( NAT ) , F33()) st (B179 = ( B181 . F35() ) & ( B181 . ( 0 ) ) = F34() & (for R1 being (Element of ( NAT )) holds P10[ R1 , ( B181 . R1 ) , ( B181 . ( R1 + 1 ) ) ])))) implies B178 = B179)))
provided
L679: (for B182 being (Element of ( NAT )) holds (for B183 being (Element of F33()) holds (ex B184 being (Element of F33()) st P10[ B182 , B183 , B184 ])))
and
L680: (for B185 being (Element of ( NAT )) holds (for B186 , B187 , B188 being (Element of F33()) holds ((P10[ B185 , B186 , B187 ] & P10[ B185 , B186 , B188 ]) implies B187 = B188)))
proof
L681: (for B189 being (Element of ( NAT )) holds (for B190 being (Element of F33()) holds (ex B191 being (Element of F33()) st P10[ B189 , B190 , B191 ]))) by L679;
consider C100 being (Function of ( NAT ) , F33()) such that L682: (( C100 . ( 0 ) ) = F34() & (for B192 being (Element of ( NAT )) holds P10[ B192 , ( C100 . B192 ) , ( C100 . ( B192 + 1 ) ) ])) from RecExD(L681);
L683: (for B193 being Nat holds (for B194 , B195 , B196 being (Element of F33()) holds ((P10[ B193 , B194 , B195 ] & P10[ B193 , B194 , B196 ]) implies B195 = B196)))
proof
let C101 being Nat;
L684: C101 in ( NAT ) by ORDINAL1:def 12;
thus L685: thesis by L684 , L680;
end;
thus L686: (ex B197 being (Element of F33()) st (ex B198 being (Function of ( NAT ) , F33()) st (B197 = ( B198 . F35() ) & ( B198 . ( 0 ) ) = F34() & (for R1 being (Element of ( NAT )) holds P10[ R1 , ( B198 . R1 ) , ( B198 . ( R1 + 1 ) ) ]))))
proof
reconsider D50 = F35() as (Element of ( NAT )) by ORDINAL1:def 12;
take ( C100 . D50 );
take C100;
thus L687: thesis by L682;
end;

let C102 , C103 being (Element of F33());
given C104 being (Function of ( NAT ) , F33()) such that
L688: C102 = ( C104 . F35() )
and
L689: ( C104 . ( 0 ) ) = F34()
and
L690: (for R1 being (Element of ( NAT )) holds P10[ R1 , ( C104 . R1 ) , ( C104 . ( R1 + 1 ) ) ]);

L691: ( C104 . ( 0 ) ) = F34() by L689;
L692: (for B199 being Nat holds P10[ B199 , ( C104 . B199 ) , ( C104 . ( B199 + 1 ) ) ])
proof
let C105 being Nat;
L693: C105 in ( NAT ) by ORDINAL1:def 12;
thus L694: thesis by L693 , L690;
end;
given C106 being (Function of ( NAT ) , F33()) such that
L695: C103 = ( C106 . F35() )
and
L696: ( C106 . ( 0 ) ) = F34()
and
L697: (for R1 being (Element of ( NAT )) holds P10[ R1 , ( C106 . R1 ) , ( C106 . ( R1 + 1 ) ) ]);

L698: (for B200 being Nat holds P10[ B200 , ( C106 . B200 ) , ( C106 . ( B200 + 1 ) ) ])
proof
let C107 being Nat;
L699: C107 in ( NAT ) by ORDINAL1:def 12;
thus L700: thesis by L699 , L697;
end;
L701: ( C106 . ( 0 ) ) = F34() by L696;
L702: C104 = C106 from NAT_1:sch 14(L691 , L692 , L701 , L698 , L683);
thus L703: thesis by L702 , L688 , L695;
end;
scheme LambdaDefRecD { F36() -> non  empty set , F37() -> (Element of F36()) , F38() -> Nat , F39(set , set) -> (Element of F36()) } : ((ex B201 being (Element of F36()) st (ex B202 being (Function of ( NAT ) , F36()) st (B201 = ( B202 . F38() ) & ( B202 . ( 0 ) ) = F37() & (for B203 being Nat holds ( B202 . ( B203 + 1 ) ) = F39(B203 , ( B202 . B203 )))))) & (for B204 , B205 being (Element of F36()) holds (((ex B206 being (Function of ( NAT ) , F36()) st (B204 = ( B206 . F38() ) & ( B206 . ( 0 ) ) = F37() & (for B207 being Nat holds ( B206 . ( B207 + 1 ) ) = F39(B207 , ( B206 . B207 ))))) & (ex B208 being (Function of ( NAT ) , F36()) st (B205 = ( B208 . F38() ) & ( B208 . ( 0 ) ) = F37() & (for B209 being Nat holds ( B208 . ( B209 + 1 ) ) = F39(B209 , ( B208 . B209 )))))) implies B204 = B205)))
proof
defpred S30[ set , set , set ] means (for B210 being (Element of F36()) holds (B210 = $2 implies $3 = F39($1 , B210)));
L704: (for B211 being (Element of ( NAT )) holds (for B212 being (Element of F36()) holds (ex B213 being (Element of F36()) st S30[ B211 , B212 , B213 ])))
proof
let C108 being (Element of ( NAT ));
let C109 being (Element of F36());
take F39(C108 , C109);
let C110 being (Element of F36());
assume L705: C110 = C109;
thus L706: thesis by L705;
end;
L707: (for B214 being (Element of ( NAT )) holds (for B215 , B216 , B217 being (Element of F36()) holds ((S30[ B214 , B215 , B216 ] & S30[ B214 , B215 , B217 ]) implies B216 = B217)))
proof
let C111 being (Element of ( NAT ));
let C112 , C113 , C114 being (Element of F36());
assume that
L708: (for B218 being (Element of F36()) holds (B218 = C112 implies C113 = F39(C111 , B218)))
and
L709: (for B219 being (Element of F36()) holds (B219 = C112 implies C114 = F39(C111 , B219)));
thus L710: C113 = F39(C111 , C112) by L708
.= C114 by L709;
end;
L711: ((ex B220 being (Element of F36()) st (ex B221 being (Function of ( NAT ) , F36()) st (B220 = ( B221 . F38() ) & ( B221 . ( 0 ) ) = F37() & (for B222 being (Element of ( NAT )) holds S30[ B222 , ( B221 . B222 ) , ( B221 . ( B222 + 1 ) ) ])))) & (for B223 , B224 being (Element of F36()) holds (((ex B225 being (Function of ( NAT ) , F36()) st (B223 = ( B225 . F38() ) & ( B225 . ( 0 ) ) = F37() & (for B226 being (Element of ( NAT )) holds S30[ B226 , ( B225 . B226 ) , ( B225 . ( B226 + 1 ) ) ]))) & (ex B227 being (Function of ( NAT ) , F36()) st (B224 = ( B227 . F38() ) & ( B227 . ( 0 ) ) = F37() & (for B228 being (Element of ( NAT )) holds S30[ B228 , ( B227 . B228 ) , ( B227 . ( B228 + 1 ) ) ])))) implies B223 = B224))) from DefRecD(L704 , L707);
consider C115 being (Element of F36()), C116 being (Function of ( NAT ) , F36()) such that L712: (C115 = ( C116 . F38() ) & ( C116 . ( 0 ) ) = F37()) and L713: (for B229 being (Element of ( NAT )) holds S30[ B229 , ( C116 . B229 ) , ( C116 . ( B229 + 1 ) ) ]) by L711;
thus L714: (ex B230 being (Element of F36()) st (ex B231 being (Function of ( NAT ) , F36()) st (B230 = ( B231 . F38() ) & ( B231 . ( 0 ) ) = F37() & (for B232 being Nat holds ( B231 . ( B232 + 1 ) ) = F39(B232 , ( B231 . B232 ))))))
proof
take C115;
take C116;
thus L715: (C115 = ( C116 . F38() ) & ( C116 . ( 0 ) ) = F37()) by L712;
let C117 being Nat;
reconsider D51 = C117 as (Element of ( NAT )) by ORDINAL1:def 12;
L716: S30[ D51 , ( C116 . D51 ) , ( C116 . ( D51 + 1 ) ) ] by L713;
thus L717: thesis by L716;
end;

let C118 , C119 being (Element of F36());
given C120 being (Function of ( NAT ) , F36()) such that
L718: (C118 = ( C120 . F38() ) & ( C120 . ( 0 ) ) = F37())
and
L719: (for B233 being Nat holds ( C120 . ( B233 + 1 ) ) = F39(B233 , ( C120 . B233 )));

L720: (for B234 being (Element of ( NAT )) holds S30[ B234 , ( C120 . B234 ) , ( C120 . ( B234 + 1 ) ) ]) by L719;
given C121 being (Function of ( NAT ) , F36()) such that
L721: (C119 = ( C121 . F38() ) & ( C121 . ( 0 ) ) = F37())
and
L722: (for B235 being Nat holds ( C121 . ( B235 + 1 ) ) = F39(B235 , ( C121 . B235 )));

L723: (for B236 being (Element of ( NAT )) holds S30[ B236 , ( C121 . B236 ) , ( C121 . ( B236 + 1 ) ) ]) by L722;
thus L724: thesis by L723 , L711 , L718 , L721 , L720;
end;
scheme SeqBinOpDef { F40() -> FinSequence , P11[set , set , set] } : ((ex R6 being set st (ex B237 being FinSequence st (R6 = ( B237 . ( len B237 ) ) & ( len B237 ) = ( len F40() ) & ( B237 . 1 ) = ( F40() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F40() )) implies P11[ ( F40() . ( R3 + 1 ) ) , ( B237 . R3 ) , ( B237 . ( R3 + 1 ) ) ]))))) & (for R6 being set holds (for R7 being set holds (((ex B238 being FinSequence st (R6 = ( B238 . ( len B238 ) ) & ( len B238 ) = ( len F40() ) & ( B238 . 1 ) = ( F40() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F40() )) implies P11[ ( F40() . ( R3 + 1 ) ) , ( B238 . R3 ) , ( B238 . ( R3 + 1 ) ) ])))) & (ex B239 being FinSequence st (R7 = ( B239 . ( len B239 ) ) & ( len B239 ) = ( len F40() ) & ( B239 . 1 ) = ( F40() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F40() )) implies P11[ ( F40() . ( R3 + 1 ) ) , ( B239 . R3 ) , ( B239 . ( R3 + 1 ) ) ]))))) implies R6 = R7))))
provided
L725: (for R3 being (Element of ( NAT )) holds (for R7 being set holds ((1 <= R3 & R3 < ( len F40() )) implies (ex R8 being set st P11[ ( F40() . ( R3 + 1 ) ) , R7 , R8 ]))))
and
L726: (for R3 being (Element of ( NAT )) holds (for R6 being set holds (for R9 being set holds (for R10 being set holds (for R8 being set holds ((1 <= R3 & R3 < ( len F40() ) & R8 = ( F40() . ( R3 + 1 ) ) & P11[ R8 , R6 , R9 ] & P11[ R8 , R6 , R10 ]) implies R9 = R10))))))
proof
L727: (for R3 being (Element of ( NAT )) holds (for R6 being set holds (for R9 being set holds (for R10 being set holds (for R8 being set holds ((1 <= R3 & R3 < ( len F40() ) & R8 = ( F40() . ( R3 + 1 ) ) & P11[ R8 , R6 , R9 ] & P11[ R8 , R6 , R10 ]) implies R9 = R10)))))) by L726;
L728: (for R3 being (Element of ( NAT )) holds (for R7 being set holds ((1 <= R3 & R3 < ( len F40() )) implies (ex R8 being set st P11[ ( F40() . ( R3 + 1 ) ) , R7 , R8 ])))) by L725;
thus L729: (ex R6 being set st (ex B240 being FinSequence st (R6 = ( B240 . ( len B240 ) ) & ( len B240 ) = ( len F40() ) & ( B240 . 1 ) = ( F40() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F40() )) implies P11[ ( F40() . ( R3 + 1 ) ) , ( B240 . R3 ) , ( B240 . ( R3 + 1 ) ) ]))))) from SeqBinOpEx(L728);
let R6 being set;
let R7 being set;
assume L730: (ex B241 being FinSequence st (R6 = ( B241 . ( len B241 ) ) & ( len B241 ) = ( len F40() ) & ( B241 . 1 ) = ( F40() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F40() )) implies P11[ ( F40() . ( R3 + 1 ) ) , ( B241 . R3 ) , ( B241 . ( R3 + 1 ) ) ]))));
assume L731: (ex B242 being FinSequence st (R7 = ( B242 . ( len B242 ) ) & ( len B242 ) = ( len F40() ) & ( B242 . 1 ) = ( F40() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F40() )) implies P11[ ( F40() . ( R3 + 1 ) ) , ( B242 . R3 ) , ( B242 . ( R3 + 1 ) ) ]))));
thus L732: R6 = R7 from SeqBinOpUn(L727 , L730 , L731);
end;
scheme LambdaSeqBinOpDef { F41() -> FinSequence , F42(set , set) -> set } : ((ex R6 being set st (ex B243 being FinSequence st (R6 = ( B243 . ( len B243 ) ) & ( len B243 ) = ( len F41() ) & ( B243 . 1 ) = ( F41() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F41() )) implies ( B243 . ( R3 + 1 ) ) = F42(( F41() . ( R3 + 1 ) ) , ( B243 . R3 ))))))) & (for R6 being set holds (for R7 being set holds (((ex B244 being FinSequence st (R6 = ( B244 . ( len B244 ) ) & ( len B244 ) = ( len F41() ) & ( B244 . 1 ) = ( F41() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F41() )) implies ( B244 . ( R3 + 1 ) ) = F42(( F41() . ( R3 + 1 ) ) , ( B244 . R3 )))))) & (ex B245 being FinSequence st (R7 = ( B245 . ( len B245 ) ) & ( len B245 ) = ( len F41() ) & ( B245 . 1 ) = ( F41() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F41() )) implies ( B245 . ( R3 + 1 ) ) = F42(( F41() . ( R3 + 1 ) ) , ( B245 . R3 ))))))) implies R6 = R7))))
proof
thus L733: (ex R6 being set st (ex B246 being FinSequence st (R6 = ( B246 . ( len B246 ) ) & ( len B246 ) = ( len F41() ) & ( B246 . 1 ) = ( F41() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F41() )) implies ( B246 . ( R3 + 1 ) ) = F42(( F41() . ( R3 + 1 ) ) , ( B246 . R3 ))))))) from LambdaSeqBinOpEx;
let R6 being set;
let R7 being set;
assume L734: (ex B247 being FinSequence st (R6 = ( B247 . ( len B247 ) ) & ( len B247 ) = ( len F41() ) & ( B247 . 1 ) = ( F41() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F41() )) implies ( B247 . ( R3 + 1 ) ) = F42(( F41() . ( R3 + 1 ) ) , ( B247 . R3 ))))));
assume L735: (ex B248 being FinSequence st (R7 = ( B248 . ( len B248 ) ) & ( len B248 ) = ( len F41() ) & ( B248 . 1 ) = ( F41() . 1 ) & (for R3 being (Element of ( NAT )) holds ((1 <= R3 & R3 < ( len F41() )) implies ( B248 . ( R3 + 1 ) ) = F42(( F41() . ( R3 + 1 ) ) , ( B248 . R3 ))))));
thus L736: R6 = R7 from LambdaSeqBinOpUn(L734 , L735);
end;
scheme SeqExD { F43() -> non  empty set , F44() -> (Element of ( NAT )) , P12[set , set] } : (ex B249 being (FinSequence of F43()) st (( dom B249 ) = ( Seg F44() ) & (for B250 being (Element of ( NAT )) holds (B250 in ( Seg F44() ) implies P12[ B250 , ( B249 /. B250 ) ]))))
provided
L737: (for B251 being (Element of ( NAT )) holds (B251 in ( Seg F44() ) implies (ex B252 being (Element of F43()) st P12[ B251 , B252 ])))
proof
per cases ;
suppose L738: F44() = ( 0 );

take ( <*> F43() );
thus L739: thesis by L738;
end;
suppose L740: F44() <> ( 0 );

L741:
now
assume L742: ( Seg F44() ) = ( {} );
L743:
now
per cases ;
case L744: F44() = ( 0 );
thus L745: contradiction by L744 , L740;
end;
case L746: F44() <> ( 0 );
thus L747: contradiction by L746 , L742;
end;
end;
thus L749: contradiction by L743;
end;
reconsider D52 = ( Seg F44() ) as non  empty set by L741;
L750: (for B253 being (Element of D52) holds (ex B254 being (Element of F43()) st P12[ B253 , B254 ]))
proof
let C122 being (Element of D52);
L751: C122 in ( Seg F44() );
thus L752: thesis by L751 , L737;
end;
consider C123 being (Function of D52 , F43()) such that L753: (for B255 being (Element of D52) holds P12[ B255 , ( C123 . B255 ) ]) from FUNCT_2:sch 3(L750);
L754: ( dom C123 ) = ( Seg F44() ) by FUNCT_2:def 1;
reconsider D53 = C123 as FinSequence by L754 , FINSEQ_1:def 2;
L755:
now
let C124 being set;
L756: ( rng D53 ) c= F43() by RELAT_1:def 19;
assume L757: C124 in ( rng D53 );
thus L758: C124 in F43() by L757 , L756;
end;
L759: ( rng D53 ) c= F43() by L755 , TARSKI:def 3;
reconsider D54 = D53 as (FinSequence of F43()) by L759 , FINSEQ_1:def 4;
take D54;
L760:
now
let C125 being (Element of ( NAT ));
assume L761: C125 in ( Seg F44() );
L762: C125 in ( dom D54 ) by L761 , FUNCT_2:def 1;
L763: ( D54 . C125 ) = ( D54 /. C125 ) by L762 , PARTFUN1:def 6;
thus L764: P12[ C125 , ( D54 /. C125 ) ] by L763 , L753 , L761;
end;
thus L765: thesis by L760 , FUNCT_2:def 1;
end;
end;
scheme FinRecExD2 { F45() -> non  empty set , F46() -> (Element of F45()) , F47() -> (Element of ( NAT )) , P13[set , set , set] } : (ex B256 being (FinSequence of F45()) st (( len B256 ) = F47() & (( B256 /. 1 ) = F46() or F47() = ( 0 )) & (for B257 being (Element of ( NAT )) holds ((1 <= B257 & B257 <= ( F47() - 1 )) implies P13[ B257 , ( B256 /. B257 ) , ( B256 /. ( B257 + 1 ) ) ]))))
provided
L767: (for B258 being (Element of ( NAT )) holds ((1 <= B258 & B258 <= ( F47() - 1 )) implies (for B259 being (Element of F45()) holds (ex B260 being (Element of F45()) st P13[ B258 , B259 , B260 ]))))
proof
set D55 = the (Element of F45());
defpred S31[ (Element of ( NAT )) , set , set ] means (((( 0 ) <= $1 & $1 <= ( F47() - 2 )) implies P13[ ( $1 + 1 ) , $2 , $3 ]) & ((not (( 0 ) <= $1 & $1 <= ( F47() - 2 ))) implies $3 = D55));
L768: (for B261 being (Element of ( NAT )) holds (for B262 being (Element of F45()) holds (ex B263 being (Element of F45()) st S31[ B261 , B262 , B263 ])))
proof
let C126 being (Element of ( NAT ));
let C127 being (Element of F45());
L769: ((( 0 ) <= C126 & C126 <= ( F47() - 2 )) implies thesis)
proof
L770: ( ( 0 ) + 1 ) <= ( C126 + 1 ) by XREAL_1:6;
assume that
L771: ( 0 ) <= C126
and
L772: C126 <= ( F47() - 2 );
L773: ( C126 + 1 ) <= ( ( F47() - 2 ) + 1 ) by L772 , XREAL_1:6;
consider C128 being (Element of F45()) such that L774: P13[ ( C126 + 1 ) , C127 , C128 ] by L773 , L767 , L770;
take C128;
thus L775: ((( 0 ) <= C126 & C126 <= ( F47() - 2 )) implies P13[ ( C126 + 1 ) , C127 , C128 ]) by L774;
thus L776: thesis by L772;
end;
thus L777: thesis by L769;
end;
consider C129 being (Function of ( NAT ) , F45()) such that L778: (( C129 . ( 0 ) ) = F46() & (for B264 being (Element of ( NAT )) holds S31[ B264 , ( C129 . B264 ) , ( C129 . ( B264 + 1 ) ) ])) from RecExD(L768);
defpred S32[ set , set ] means (for B265 being Real holds (B265 = $1 implies $2 = ( C129 . ( B265 - 1 ) )));
L779: (for B266 being set holds (B266 in ( REAL ) implies (ex B267 being set st S32[ B266 , B267 ])))
proof
let C130 being set;
assume L780: C130 in ( REAL );
reconsider D56 = C130 as Real by L780;
take ( C129 . ( D56 - 1 ) );
thus L781: thesis;
end;
consider C131 being Function such that L782: (( dom C131 ) = ( REAL ) & (for B268 being set holds (B268 in ( REAL ) implies S32[ B268 , ( C131 . B268 ) ]))) from CLASSES1:sch 1(L779);
L783: ( dom ( C131 | ( Seg F47() ) ) ) = ( Seg F47() ) by L782 , RELAT_1:62 , XBOOLE_1:1;
reconsider D57 = ( C131 | ( Seg F47() ) ) as FinSequence by L783 , FINSEQ_1:def 2;
L784:
now
let C132 being set;
assume L785: C132 in ( rng D57 );
consider C133 being set such that L786: C133 in ( dom D57 ) and L787: C132 = ( D57 . C133 ) by L785 , FUNCT_1:def 3;
reconsider D58 = C133 as (Element of ( NAT )) by L786;
L788: ( C129 . ( D58 - 1 ) ) in F45()
proof
L789: D58 <> ( 0 ) by L783 , L786 , FINSEQ_1:1;
consider C134 being Nat such that L790: D58 = ( C134 + 1 ) by L789 , NAT_1:6;
reconsider D59 = C134 as (Element of ( NAT )) by ORDINAL1:def 12;
L791: ( C129 . D59 ) in F45();
thus L792: thesis by L791 , L790;
end;
L793: ( D57 . D58 ) = ( C131 . D58 ) by L786 , FUNCT_1:47;
thus L794: C132 in F45() by L793 , L782 , L787 , L788;
end;
L795: ( rng D57 ) c= F45() by L784 , TARSKI:def 3;
reconsider D60 = D57 as (FinSequence of F45()) by L795 , FINSEQ_1:def 4;
take D60;
thus L796: ( len D60 ) = F47() by L783 , FINSEQ_1:def 3;
L797: (F47() <> ( 0 ) implies ( D60 /. 1 ) = F46())
proof
assume L798: F47() <> ( 0 );
consider C135 being Nat such that L799: F47() = ( C135 + 1 ) by L798 , NAT_1:6;
L800: ( ( 0 ) + 1 ) <= ( C135 + 1 ) by XREAL_1:7;
L801: 1 in ( Seg F47() ) by L800 , L799 , FINSEQ_1:1;
L802: ( D60 /. 1 ) = ( D60 . 1 ) by L801 , L783 , PARTFUN1:def 6
.= ( C131 . 1 ) by L801 , FUNCT_1:49
.= ( C129 . ( 1 - 1 ) ) by L782
.= F46() by L778;
thus L803: thesis by L802;
end;
thus L804: (( D60 /. 1 ) = F46() or F47() = ( 0 )) by L797;
let C136 being (Element of ( NAT ));
assume that
L805: 1 <= C136
and
L806: C136 <= ( F47() - 1 );
consider C137 being Nat such that L807: C136 = ( C137 + 1 ) by L805 , NAT_1:6;
L808: (for B269 being (Element of ( NAT )) holds (B269 <= ( F47() - 1 ) implies ( D60 /. ( B269 + 1 ) ) = ( C129 . B269 )))
proof
let C138 being (Element of ( NAT ));
assume L809: C138 <= ( F47() - 1 );
L810: ( C138 + 1 ) <= ( ( F47() - 1 ) + 1 ) by L809 , XREAL_1:6;
L811: ( C131 . ( C138 + 1 ) ) = ( C129 . ( ( C138 + 1 ) - 1 ) ) by L782
.= ( C129 . C138 );
L812: 1 <= ( C138 + 1 ) by NAT_1:11;
L813: ( C138 + 1 ) in ( Seg F47() ) by L812 , L810 , FINSEQ_1:1;
L814: ( D60 /. ( C138 + 1 ) ) = ( D60 . ( C138 + 1 ) ) by L813 , L783 , PARTFUN1:def 6;
thus L815: thesis by L814 , L813 , L811 , FUNCT_1:49;
end;
L816: C137 <= ( C137 + 1 ) by NAT_1:11;
L817: C137 in ( NAT ) by ORDINAL1:def 12;
L818: C137 <= ( ( F47() - 1 ) - 1 ) by L806 , L807 , XREAL_1:19;
L819: P13[ ( C137 + 1 ) , ( C129 . C137 ) , ( C129 . ( C137 + 1 ) ) ] by L818 , L778 , L817;
L820: P13[ ( C137 + 1 ) , ( C129 . C137 ) , ( D60 /. ( ( C137 + 1 ) + 1 ) ) ] by L819 , L808 , L806 , L807;
thus L821: thesis by L820 , L808 , L806 , L807 , L817 , L816 , XXREAL_0:2;
end;
