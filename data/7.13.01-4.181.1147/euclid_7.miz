:: The Real Vector Spaces of Finite Sequences Are Finite Dimensional
::  by Yatsuka Nakamura , Artur Korni{\l}owicz , Nagato Oya and Yasunari Shidama
::
:: Received September 23, 2008
:: Copyright (c) 2008-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, ORDINAL1, SUBSET_1, FINSEQ_2, EUCLID, VALUED_0,
      FINSEQ_1, FUNCT_1, RELAT_1, XBOOLE_0, TARSKI, FUNCT_2, CARD_1, ARYTM_1,
      ARYTM_3, REAL_1, PARTFUN1, ZFMISC_1, ORDINAL2, XXREAL_0, RLVECT_1,
      RLSUB_1, STRUCT_0, SUPINF_2, ALGSTR_0, REALSET1, MONOID_0, FUNCT_7,
      AFINSQ_1, RFINSEQ2, CLASSES1, RVSUM_1, COMPLEX1, SQUARE_1, REWRITE1,
      SETFAM_1, CARD_3, ORDINAL4, MATRIXR2, BINOP_2, XCMPLX_0, REAL_NS1,
      VALUED_1, RLVECT_2, MATRIX_7, FUNCOP_1, FUNCSDOM, RLVECT_3, FINSET_1,
      RLVECT_5, EUCLID_7;
 notations XBOOLE_0, TARSKI, RELAT_1, FUNCT_1, RVSUM_1, RELSET_1, PARTFUN1,
      CARD_1, FUNCT_2, FUNCT_3, ORDINAL1, CLASSES1, NUMBERS, SUBSET_1,
      COMPLEX1, FINSEQ_1, FINSEQ_2, VALUED_0, VALUED_1, SEQ_1, FINSET_1,
      BINOP_1, STRUCT_0, ALGSTR_0, FUNCSDOM, MONOID_0, BINOP_2, RLVECT_1,
      EUCLID, SQUARE_1, XXREAL_0, SETFAM_1, RLSUB_1, RLVECT_2, RLVECT_3,
      REAL_1, NAT_1, NAT_D, MATRIXR2, ZFMISC_1, RLVECT_5, REALSET1, MATRIX_7,
      RFINSEQ2, FINSEQ_7, RUSUB_3, REAL_NS1, DOMAIN_1, RUSUB_4, FUNCOP_1;
 constructors REAL_1, SQUARE_1, BINOP_2, MONOID_0, SEQ_1, RLVECT_2, RLVECT_3,
      REAL_NS1, FUNCT_3, REALSET1, MATRIXR2, RLVECT_5, FINSOP_1, MATRIX_7,
      RFINSEQ2, SETWISEO, FINSEQ_7, RUSUB_3, RUSUB_4, NAT_D, CLASSES1,
      FUNCSDOM, RELSET_1;
 registrations FUNCT_1, MONOID_0, RELSET_1, NUMBERS, XREAL_0, STRUCT_0,
      FINSET_1, XXREAL_0, CARD_1, NAT_1, MEMBERED, FINSEQ_2, EUCLID, VALUED_0,
      FUNCT_2, SUBSET_1, XBOOLE_0, REAL_NS1, FINSEQ_1, RELAT_1, ZFMISC_1;
 requirements REAL, SUBSET, NUMERALS, ARITHM, BOOLE;
 definitions TARSKI, SQUARE_1, FINSEQ_2, RVSUM_1, VALUED_1, RLVECT_1, RLVECT_3,
      BINOP_1, STRUCT_0, MONOID_0, ALGSTR_0, XBOOLE_0, FUNCSDOM, EUCLID;
 theorems EUCLID, RVSUM_1, FINSEQ_2, FINSEQ_1, RFUNCT_1, FINSEQ_3, SQUARE_1,
      ABSVALUE, JORDAN2C, XREAL_1, XXREAL_0, FUNCOP_1, XCMPLX_1, SUBSET_1,
      XBOOLE_0, XBOOLE_1, EUCLID_2, TARSKI, EUCLID_4, ORDINAL1, CARD_1,
      SETFAM_1, REAL_NS1, RLVECT_2, RLVECT_3, PARTFUN1, FUNCT_1, RLVECT_1,
      NAT_1, RLSUB_1, STRUCT_0, RELAT_1, REALSET1, FUNCT_2, MATRIXR2, BINOP_2,
      FINSOP_1, ZFMISC_1, FUNCT_3, FINSEQ_4, MATRPROB, MATRIX_7, RFINSEQ2,
      INTEGRA2, FINSEQ_7, INT_5, EUCLIDLP, RLVECT_5, RUSUB_1, RUSUB_3, RUSUB_4,
      RLVECT_4, VALUED_0, XREAL_0, VALUED_1, CLASSES1, RELSET_1, FUNCSDOM,
      EULER_1;
 schemes NAT_1, CLASSES1, FUNCT_2, FINSEQ_1;

begin
theorem
L1: (for B1 , B2 being Function holds ( dom ( B1 * B2 ) ) = ( ( dom B2 ) /\ ( B2 " ( dom B1 ) ) ))
proof
let C1 , C2 being Function;
thus L2: ( dom ( C1 * C2 ) ) c= ( ( dom C2 ) /\ ( C2 " ( dom C1 ) ) )
proof
let C3 being set;
assume L3: C3 in ( dom ( C1 * C2 ) );
L4: C3 in ( dom C2 ) by L3 , FUNCT_1:11;
L5: ( C2 . C3 ) in ( dom C1 ) by L3 , FUNCT_1:11;
L6: C3 in ( C2 " ( dom C1 ) ) by L5 , L4 , FUNCT_1:def 7;
thus L7: C3 in ( ( dom C2 ) /\ ( C2 " ( dom C1 ) ) ) by L6 , L4 , XBOOLE_0:def 4;
end;

let C4 being set;
assume L8: C4 in ( ( dom C2 ) /\ ( C2 " ( dom C1 ) ) );
L9: C4 in ( C2 " ( dom C1 ) ) by L8 , XBOOLE_0:def 4;
L10: ( C2 . C4 ) in ( dom C1 ) by L9 , FUNCT_1:def 7;
L11: C4 in ( dom C2 ) by L8 , XBOOLE_0:def 4;
thus L12: C4 in ( dom ( C1 * C2 ) ) by L11 , L10 , FUNCT_1:11;
end;
theorem
L13: (for B3 being Relation holds (for B4 being set holds (( rng B3 ) c= B4 implies ( B3 " B4 ) = ( dom B3 ))))
proof
let C5 being Relation;
let C6 being set;
assume L14: ( rng C5 ) c= C6;
L15: ( ( rng C5 ) /\ C6 ) = ( rng C5 ) by L14 , XBOOLE_1:28;
thus L16: ( C5 " C6 ) = ( C5 " ( rng C5 ) ) by L15 , RELAT_1:133
.= ( dom C5 ) by RELAT_1:134;
end;
L17: (for B5 being set holds (for B6 being non  empty set holds (for B7 being (Function of B5 , B6) holds (B7 is  bijective implies ( card B5 ) = ( card B6 ))))) by EULER_1:11;
theorem
L18: (for R5 being set holds ( <* R5 *> * <* 1 *> ) = <* R5 *>)
proof
let R5 being set;
L19: ( dom <* R5 *> ) = ( Seg 1 ) by FINSEQ_1:38;
L20: ( rng <* 1 *> ) = { 1 } by FINSEQ_1:38;
L21: ( dom ( <* R5 *> * <* 1 *> ) ) = ( dom <* 1 *> ) by L20 , L19 , FINSEQ_1:2 , RELAT_1:27;
L22: ( dom <* 1 *> ) = ( Seg 1 ) by FINSEQ_1:38;
L23: 1 in ( dom <* 1 *> ) by L22 , FINSEQ_1:2 , TARSKI:def 1;
L24: ( ( <* R5 *> * <* 1 *> ) . 1 ) = ( <* R5 *> . ( <* 1 *> . 1 ) ) by L23 , FUNCT_1:13
.= ( <* R5 *> . 1 ) by FINSEQ_1:40
.= R5 by FINSEQ_1:40;
thus L25: thesis by L24 , L22 , L21 , FINSEQ_1:def 8;
end;
theorem
L26: (for B8 being (Element of ( REAL ( 0 ) )) holds B8 = ( <*> ( REAL ) ));
theorem
L27: (for R4 being Nat holds (for B9 , B10 , B11 being (Element of ( REAL R4 )) holds ( ( ( B9 - B10 ) + B11 ) + B10 ) = ( B9 + B11 )))
proof
let R4 being Nat;
let C7 , C8 , C9 being (Element of ( REAL R4 ));
reconsider D1 = C7 , D2 = C8 , D3 = C9 as (Element of ( R4 -tuples_on ( REAL ) ));
L28: ( ( ( D1 - D2 ) + D3 ) + D2 ) = ( ( ( D1 + ( - D2 ) ) + D2 ) + D3 ) by RFUNCT_1:8
.= ( ( D1 + ( D2 + ( - D2 ) ) ) + D3 ) by RFUNCT_1:8
.= ( ( D1 + ( R4 |-> (( 0 ) qua Real) ) ) + D3 ) by RVSUM_1:22
.= ( D1 + D3 ) by RVSUM_1:16;
thus L29: thesis by L28;
end;
registration
let C10 , C11 being FinSequence;
cluster <: C10 , C11 :> ->  FinSequence-like;
coherence
proof
L30: ( dom <: C10 , C11 :> ) = ( ( dom C10 ) /\ ( dom C11 ) ) by FUNCT_3:def 7;
thus L31: thesis by L30 , VALUED_1:19;
end;
end;
definition
let C12 being set;
let C13 , C14 being (FinSequence of C12);
redefine func <:C13 , C14 :> -> (FinSequence of [: C12 , C12 :]);

coherence
proof
L33: [: ( rng C13 ) , ( rng C14 ) :] c= [: C12 , C12 :] by ZFMISC_1:96;
L34: ( rng <: C13 , C14 :> ) c= [: ( rng C13 ) , ( rng C14 ) :] by FUNCT_3:51;
L35: ( rng <: C13 , C14 :> ) c= [: C12 , C12 :] by L34 , L33 , XBOOLE_1:1;
thus L36: thesis by L35 , FINSEQ_1:def 4;
end;
end;
L38: (for R3 being Nat holds (for R4 being Nat holds (R4 < R3 implies (ex B12 being Nat st R3 = ( ( R4 + 1 ) + B12 )))))
proof
let R3 being Nat;
let R4 being Nat;
assume L39: R4 < R3;
consider C15 being Nat such that L40: R3 = ( R4 + C15 ) by L39 , NAT_1:10;
L41: C15 <> ( 0 ) by L39 , L40;
consider C16 being Nat such that L42: C15 = ( C16 + 1 ) by L41 , NAT_1:6;
take C16;
thus L43: R3 = ( ( R4 + 1 ) + C16 ) by L40 , L42;
end;
definition
let C17 being  real-valued FinSequence;
redefine attr C17 is  increasing
means
:L44: (for B13 being Nat holds ((1 <= B13 & B13 < ( len C17 )) implies ( C17 . B13 ) < ( C17 . ( B13 + 1 ) )));
compatibility
proof
thus L45:now
assume L46: C17 is  increasing;
let C18 being Nat;
assume that
L47: 1 <= C18
and
L48: C18 < ( len C17 );
L49: 1 <= ( C18 + 1 ) by NAT_1:12;
L50: ( C18 + 1 ) <= ( len C17 ) by L48 , NAT_1:13;
L51: ( C18 + 1 ) in ( dom C17 ) by L50 , L49 , FINSEQ_3:25;
L52: C18 < ( C18 + 1 ) by NAT_1:16;
L53: C18 in ( dom C17 ) by L47 , L48 , FINSEQ_3:25;
thus L54: ( C17 . C18 ) < ( C17 . ( C18 + 1 ) ) by L53 , L46 , L51 , L52 , VALUED_0:def 13;
end;
assume L55: (for B14 being Nat holds ((1 <= B14 & B14 < ( len C17 )) implies ( C17 . B14 ) < ( C17 . ( B14 + 1 ) )));
L56:
now
let C19 , C20 being  ext-real number;
assume L57: C19 in ( dom C17 );
assume L58: C20 in ( dom C17 );
reconsider D4 = C20 , D5 = C19 as (Element of ( NAT )) by L58 , L57;
defpred S1[ Nat ] means (( D5 + $1 ) < ( len C17 ) implies ( C17 . C19 ) < ( C17 . ( ( D5 + 1 ) + $1 ) ));
L59:
now
let C21 being Nat;
assume that
L60: S1[ C21 ];
thus L61: S1[ ( C21 + 1 ) ]
proof
L62: ( ( D5 + C21 ) + ( 0 ) ) < ( ( D5 + C21 ) + 1 ) by XREAL_1:6;
assume L63: ( D5 + ( C21 + 1 ) ) < ( len C17 );
L64: 1 <= ( 1 + ( D5 + C21 ) ) by NAT_1:11;
L65: ( C17 . ( ( D5 + 1 ) + C21 ) ) < ( C17 . ( ( ( D5 + 1 ) + C21 ) + 1 ) ) by L64 , L55 , L63;
thus L66: thesis by L65 , L60 , L63 , L62 , XXREAL_0:2;
end;

end;
L62: 1 <= C19 by L57 , FINSEQ_3:25;
L63: S1[ ( 0 ) ] by L62 , L55;
L64: (for B15 being Nat holds S1[ B15 ]) from NAT_1:sch 2(L63 , L59);
assume L65: C19 < C20;
consider C22 being Nat such that L66: D4 = ( ( D5 + 1 ) + C22 ) by L65 , L38;
L67: C20 <= ( len C17 ) by L58 , FINSEQ_3:25;
L68: ( D4 - 1 ) < ( ( len C17 ) - ( 0 ) ) by L67 , XREAL_1:15;
L69: ( D5 + C22 ) < ( len C17 ) by L68 , L66;
thus L70: ( C17 . C19 ) < ( C17 . C20 ) by L69 , L66 , L64;
end;
thus L71: thesis by L56 , VALUED_0:def 13;
end;
end;
theorem
L73: (for B16 being  real-valued FinSequence holds (B16 is  increasing implies (for B17 , B18 being Nat holds ((B17 < B18 & 1 <= B17 & B18 <= ( len B16 )) implies ( B16 . B17 ) < ( B16 . B18 )))))
proof
let C23 being  real-valued FinSequence;
assume L74: C23 is  increasing;
let C24 , C25 being Nat;
assume that
L75: C24 < C25
and
L76: 1 <= C24
and
L77: C25 <= ( len C23 );
defpred S2[ Nat ] means (( ( C24 + 1 ) + $1 ) <= ( len C23 ) implies ( C23 . C24 ) < ( C23 . ( ( C24 + 1 ) + $1 ) ));
L78: (for B19 being Nat holds (S2[ B19 ] implies S2[ ( B19 + 1 ) ]))
proof
let C26 being Nat;
assume L79: S2[ C26 ];
L80: (( ( C24 + 1 ) + ( C26 + 1 ) ) <= ( len C23 ) implies ( C23 . C24 ) < ( C23 . ( ( C24 + 1 ) + ( C26 + 1 ) ) ))
proof
L81: ( C24 + 1 ) <= ( ( C24 + 1 ) + C26 ) by NAT_1:11;
L82: C24 < ( C24 + 1 ) by XREAL_1:29;
L83: C24 < ( ( C24 + 1 ) + C26 ) by L82 , L81 , XXREAL_0:2;
L84: 1 < ( ( C24 + 1 ) + C26 ) by L83 , L76 , XXREAL_0:2;
L85: C26 < ( C26 + 1 ) by XREAL_1:29;
L86: ( ( C24 + 1 ) + C26 ) < ( ( C24 + 1 ) + ( C26 + 1 ) ) by L85 , XREAL_1:6;
assume L87: ( ( C24 + 1 ) + ( C26 + 1 ) ) <= ( len C23 );
L88: ( ( C24 + 1 ) + C26 ) < ( len C23 ) by L87 , L86 , XXREAL_0:2;
L89: ( C23 . ( ( C24 + 1 ) + C26 ) ) < ( C23 . ( ( ( C24 + 1 ) + C26 ) + 1 ) ) by L88 , L74 , L84 , L44;
thus L90: ( C23 . C24 ) < ( C23 . ( ( C24 + 1 ) + ( C26 + 1 ) ) ) by L89 , L79 , L87 , L86 , XXREAL_0:2;
end;
thus L91: S2[ ( C26 + 1 ) ] by L80;
end;
L92: C24 < ( len C23 ) by L75 , L77 , XXREAL_0:2;
L93: S2[ ( 0 ) ] by L92 , L74 , L76 , L44;
L94: (for B20 being Nat holds S2[ B20 ]) from NAT_1:sch 2(L93 , L78);
L95: (( ( C24 + 1 ) + ( C25 -' ( C24 + 1 ) ) ) <= ( len C23 ) implies ( C23 . C24 ) < ( C23 . ( ( C24 + 1 ) + ( C25 -' ( C24 + 1 ) ) ) )) by L94;
L96: ( C24 + 1 ) <= C25 by L75 , NAT_1:13;
L97: ( C25 -' ( C24 + 1 ) ) = ( C25 - ( C24 + 1 ) ) by L96 , XREAL_1:233;
thus L98: ( C23 . C24 ) < ( C23 . C25 ) by L97 , L77 , L95;
end;
theorem
L99: (for B21 being  real-valued FinSequence holds (B21 is  increasing implies (for B22 , B23 being Nat holds ((B22 <= B23 & 1 <= B22 & B23 <= ( len B21 )) implies ( B21 . B22 ) <= ( B21 . B23 )))))
proof
let C27 being  real-valued FinSequence;
assume L100: C27 is  increasing;
let C28 , C29 being Nat;
assume that
L101: C28 <= C29
and
L102: 1 <= C28
and
L103: C29 <= ( len C27 );
L104: (C28 < C29 or C28 = C29) by L101 , XXREAL_0:1;
thus L105: thesis by L104 , L100 , L102 , L103 , L73;
end;
theorem
L106: (for B24 being  natural-valued FinSequence holds (B24 is  increasing implies (for B25 being Nat holds ((B25 <= ( len B24 ) & 1 <= ( B24 . 1 )) implies B25 <= ( B24 . B25 )))))
proof
let C30 being  natural-valued FinSequence;
assume L107: C30 is  increasing;
defpred S3[ Nat ] means ($1 <= ( len C30 ) implies $1 <= ( C30 . $1 ));
let C31 being Nat;
assume that
L108: C31 <= ( len C30 )
and
L109: 1 <= ( C30 . 1 );
L110: (for B26 being Nat holds (S3[ B26 ] implies S3[ ( B26 + 1 ) ]))
proof
let C32 being Nat;
assume L111: S3[ C32 ];
L112: (( C32 + 1 ) <= ( len C30 ) implies ( C32 + 1 ) <= ( C30 . ( C32 + 1 ) ))
proof
L113: C32 < ( C32 + 1 ) by XREAL_1:29;
assume L114: ( C32 + 1 ) <= ( len C30 );
L115: C32 < ( len C30 ) by L114 , L113 , XXREAL_0:2;
per cases ;
suppose L116: C32 = ( 0 );

thus L117: ( C32 + 1 ) <= ( C30 . ( C32 + 1 ) ) by L116 , L109;
end;
suppose L118: C32 > ( 0 );

L119: ( ( 0 ) + 1 ) <= C32 by L118 , NAT_1:13;
L120: ( C30 . C32 ) < ( C30 . ( C32 + 1 ) ) by L119 , L107 , L115 , L44;
L121: C32 < ( C30 . ( C32 + 1 ) ) by L120 , L111 , L114 , L113 , XXREAL_0:2;
thus L122: ( C32 + 1 ) <= ( C30 . ( C32 + 1 ) ) by L121 , NAT_1:13;
end;
end;
thus L124: S3[ ( C32 + 1 ) ] by L112;
end;
L125: S3[ ( 0 ) ];
L126: (for B27 being Nat holds S3[ B27 ]) from NAT_1:sch 2(L125 , L110);
thus L127: C31 <= ( C30 . C31 ) by L126 , L108;
end;
theorem
L128: (for B28 being RealLinearSpace holds (for B29 being (Subspace of B28) holds ((B28 is  strict & B29 is  strict & (the carrier of B29) = (the carrier of B28)) implies B29 = B28)))
proof
let C33 being RealLinearSpace;
let C34 being (Subspace of C33);
assume that
L129: C33 is  strict
and
L130: C34 is  strict
and
L131: (the carrier of C34) = (the carrier of C33);
L132: (the Mult of C34) = ( (the Mult of C33) | [: ( REAL ) , (the carrier of C33) :] ) by L131 , RLSUB_1:def 2
.= (the Mult of C33);
L133: ( 0. C34 ) = ( 0. C33 ) by RLSUB_1:def 2;
L134: (the addF of C34) = ( (the addF of C33) || (the carrier of C33) ) by L131 , RLSUB_1:def 2
.= ( (the addF of C33) | [: (the carrier of C33) , (the carrier of C33) :] ) by REALSET1:def 2
.= (the addF of C33);
thus L135: C34 = C33 by L134 , L129 , L130 , L131 , L133 , L132;
end;
definition
let C35 being set;
let C36 being (FinSequence of C35);
let C37 being (Permutation of ( dom C36 ));
func C36 (*) C37 -> (FinSequence of C35) equals 
( C36 * C37 );
coherence
proof
reconsider D6 = C36 as Function;
L136: ( C37 " ( dom D6 ) ) = ( C37 " ( rng C37 ) ) by FUNCT_2:def 3
.= ( dom C37 ) by RELAT_1:134;
L137: ( dom ( D6 * C37 ) ) = ( C37 " ( dom D6 ) ) by RELAT_1:147
.= ( dom C36 ) by L136 , FUNCT_2:52
.= ( Seg ( len C36 ) ) by FINSEQ_1:def 3;
L138: ( C36 * C37 ) is FinSequence by L137 , FINSEQ_1:def 2;
L139: ( rng ( C36 * C37 ) ) c= C35;
thus L140: thesis by L139 , L138 , FINSEQ_1:def 4;
end;
end;
theorem
L142: (for R1 being Nat holds (for R2 being Nat holds (for B30 being non  empty set holds (for B31 being (FinSequence of B30) holds ((1 <= R1 & R1 <= ( len B31 ) & 1 <= R2 & R2 <= ( len B31 )) implies (( ( Swap (B31 , R1 , R2) ) . R1 ) = ( B31 . R2 ) & ( ( Swap (B31 , R1 , R2) ) . R2 ) = ( B31 . R1 )))))))
proof
let R1 being Nat;
let R2 being Nat;
let C38 being non  empty set;
let C39 being (FinSequence of C38);
assume that
L143: 1 <= R1
and
L144: R1 <= ( len C39 )
and
L145: 1 <= R2
and
L146: R2 <= ( len C39 );
L147: ( len ( Replace (C39 , R1 , ( C39 /. R2 )) ) ) = ( len C39 ) by FINSEQ_7:5;
L148: ( len ( Swap (C39 , R1 , R2) ) ) = ( len C39 ) by FINSEQ_7:18;
L149: ( ( Swap (C39 , R1 , R2) ) /. R2 ) = ( ( Swap (C39 , R1 , R2) ) . R2 ) by L148 , L145 , L146 , FINSEQ_4:15;
L150: ( ( Swap (C39 , R1 , R2) ) . R2 ) = ( ( Replace (( Replace (C39 , R1 , ( C39 /. R2 )) ) , R2 , ( C39 /. R1 )) ) /. R2 ) by L149 , L143 , L144 , L145 , L146 , FINSEQ_7:def 2
.= ( C39 /. R1 ) by L145 , L146 , L147 , FINSEQ_7:8
.= ( C39 . R1 ) by L143 , L144 , FINSEQ_4:15;
L151: ( Swap (C39 , R1 , R2) ) = ( Swap (C39 , R2 , R1) ) by FINSEQ_7:21;
L152: ( len ( Replace (C39 , R2 , ( C39 /. R1 )) ) ) = ( len C39 ) by FINSEQ_7:5;
L153: ( ( Swap (C39 , R1 , R2) ) /. R1 ) = ( ( Swap (C39 , R1 , R2) ) . R1 ) by L143 , L144 , L148 , FINSEQ_4:15;
L154: ( ( Swap (C39 , R1 , R2) ) . R1 ) = ( ( Replace (( Replace (C39 , R2 , ( C39 /. R1 )) ) , R1 , ( C39 /. R2 )) ) /. R1 ) by L153 , L143 , L144 , L145 , L146 , L151 , FINSEQ_7:def 2
.= ( C39 /. R2 ) by L143 , L144 , L152 , FINSEQ_7:8
.= ( C39 . R2 ) by L145 , L146 , FINSEQ_4:15;
thus L155: thesis by L154 , L150;
end;
theorem
L156: ( {} ) is (Permutation of ( {} ))
proof
L157: ( rng ( {} ) ) = ( {} );
L158: ( dom ( {} ) ) = ( {} );
reconsider D7 = ( {} ) as (Function of ( {} ) , ( {} )) by L158 , L157 , FUNCT_2:1;
L159: D7 is  one-to-one  onto  one-to-one  onto  one-to-one  onto  one-to-one  onto (Function of ( {} ) , ( {} )) by L157 , FUNCT_2:def 3;
thus L160: thesis by L159;
end;
theorem
L161: <* 1 *> is (Permutation of { 1 })
proof
set D8 = <* 1 *>;
L162: ( rng D8 ) = { 1 } by FINSEQ_1:38;
L163: ( dom D8 ) = { 1 } by FINSEQ_1:2 , FINSEQ_1:38;
reconsider D9 = D8 as (Function of { 1 } , { 1 }) by L163 , L162 , FUNCT_2:1;
L164: D9 is  one-to-one  onto  one-to-one  onto  one-to-one  onto  one-to-one  onto (Function of { 1 } , { 1 }) by L162 , FUNCT_2:def 3;
thus L165: thesis by L164;
end;
theorem
L166: (for B32 being (FinSequence of ( REAL )) holds (B32 is  one-to-one iff ( sort_a B32 ) is  one-to-one))
proof
let C40 being (FinSequence of ( REAL ));
L167: C40 , ( sort_a C40 ) are_fiberwise_equipotent  by RFINSEQ2:def 6;
L168: (ex B33 being Function st (( dom B33 ) = ( dom ( sort_a C40 ) ) & ( rng B33 ) = ( dom C40 ) & B33 is  one-to-one & ( sort_a C40 ) = ( C40 * B33 ))) by L167 , CLASSES1:77;
thus L169: (C40 is  one-to-one implies ( sort_a C40 ) is  one-to-one) by L168;
L170: (ex B34 being Function st (( dom B34 ) = ( dom C40 ) & ( rng B34 ) = ( dom ( sort_a C40 ) ) & B34 is  one-to-one & C40 = ( ( sort_a C40 ) * B34 ))) by L167 , CLASSES1:77;
thus L171: (( sort_a C40 ) is  one-to-one implies C40 is  one-to-one) by L170;
end;
theorem
L172: (for B35 being (FinSequence of ( NAT )) holds (B35 is  one-to-one implies (ex B36 being (Permutation of ( dom B35 )) st (ex B37 being (FinSequence of ( NAT )) st (B37 = ( B35 * B36 ) & B37 is  increasing & ( dom B35 ) = ( dom B37 ) & ( rng B35 ) = ( rng B37 ))))))
proof
let C41 being (FinSequence of ( NAT ));
assume L173: C41 is  one-to-one;
per cases ;
suppose L174: ( dom C41 ) <> ( {} );

L175: ( rng C41 ) c= ( REAL ) by XBOOLE_1:1;
reconsider D10 = C41 as (FinSequence of ( REAL )) by L175 , FINSEQ_1:def 4;
L176: D10 , ( sort_a D10 ) are_fiberwise_equipotent  by RFINSEQ2:def 6;
consider C42 being Function such that L177: ( dom C42 ) = ( dom ( sort_a D10 ) ) and L178: ( rng C42 ) = ( dom D10 ) and L179: C42 is  one-to-one and L180: ( sort_a D10 ) = ( D10 * C42 ) by L176 , CLASSES1:77;
L181: ( rng ( sort_a D10 ) ) = ( rng D10 ) by L176 , CLASSES1:75;
reconsider D11 = ( sort_a D10 ) as (FinSequence of ( NAT )) by L181 , FINSEQ_1:def 4;
L182: ( rng C41 ) = ( rng D11 ) by L178 , L180 , RELAT_1:28;
L183: ( dom D11 ) = ( Seg ( len D11 ) ) by FINSEQ_1:def 3;
L184: (for B38 being Nat holds ((1 <= B38 & B38 < ( len D11 )) implies ( D11 . B38 ) < ( D11 . ( B38 + 1 ) )))
proof
let C43 being Nat;
assume that
L185: 1 <= C43
and
L186: C43 < ( len D11 );
L187: ( C43 + 1 ) <= ( len D11 ) by L186 , NAT_1:13;
L188: C43 in ( dom D11 ) by L183 , L185 , L186 , FINSEQ_1:1;
L189: 1 < ( C43 + 1 ) by L185 , XREAL_1:29;
L190: ( C43 + 1 ) in ( dom D11 ) by L189 , L183 , L187 , FINSEQ_1:1;
L191: D11 is  one-to-one by L173 , L166;
L192:
now
assume L193: ( D11 . C43 ) = ( D11 . ( C43 + 1 ) );
L194: C43 = ( C43 + 1 ) by L193 , L190 , L188 , L191 , FUNCT_1:def 4;
thus L195: contradiction by L194;
end;
L196: ( D11 . C43 ) <= ( D11 . ( C43 + 1 ) ) by L190 , L188 , INTEGRA2:def 1;
thus L197: ( D11 . C43 ) < ( D11 . ( C43 + 1 ) ) by L196 , L192 , XXREAL_0:1;
end;
L198: D11 is  increasing by L184 , L44;
L199: ( dom ( sort_a D10 ) ) = ( dom D10 ) by RFINSEQ2:31;
reconsider D12 = C42 as (Function of ( dom C41 ) , ( dom C41 )) by L199 , L177 , L178 , FUNCT_2:1;
L200: D12 is  onto by L178 , FUNCT_2:def 3;
reconsider D13 = C42 as (Permutation of ( dom C41 )) by L200 , L179;
L201: D11 = ( C41 * D13 ) by L180;
L202: ( dom C41 ) = ( dom D13 ) by L174 , FUNCT_2:def 1
.= ( dom D11 ) by L177;
thus L203: thesis by L202 , L201 , L198 , L182;
end;
suppose L204: ( dom C41 ) = ( {} );

L205: ( rng C41 ) = ( {} ) by L204 , RELAT_1:42;
reconsider D14 = C41 as (Function of ( {} ) , ( {} )) by L205 , L204 , FUNCT_2:1;
reconsider D15 = ( C41 * D14 ) as (FinSequence of ( NAT ));
L206: D15 is  increasing;
thus L207: thesis by L206 , L204 , L156;
end;
end;
begin
definition
let C44 being set;
attr C44 is  R-orthogonal
means
:L209: (for B39 , B40 being  real-valued FinSequence holds ((B39 in C44 & B40 in C44 & B39 <> B40) implies |( B39 , B40 )| = ( 0 )));
end;
registration
cluster  empty ->  R-orthogonal for set;
coherence
proof
let C45 being set;
assume that
L211: C45 is  empty;
let R7 being  real-valued FinSequence;
thus L212: thesis by L211;
end;
end;
theorem
L214: (for R6 being set holds (R6 is  R-orthogonal iff (for B41 , B42 being  real-valued FinSequence holds ((B41 in R6 & B42 in R6 & B41 <> B42) implies B41 , B42 are_orthogonal ))))
proof
let R6 being set;
thus L215: (R6 is  R-orthogonal implies (for B43 , B44 being  real-valued FinSequence holds ((B43 in R6 & B44 in R6 & B43 <> B44) implies B43 , B44 are_orthogonal )))
proof
assume L216: R6 is  R-orthogonal;
let C46 , C47 being  real-valued FinSequence;
assume that
L217: C46 in R6
and
L218: C47 in R6
and
L219: C46 <> C47;
thus L220: |( C46 , C47 )| = ( 0 ) by L216 , L217 , L218 , L219 , L209;
end;

assume L221: (for B45 , B46 being  real-valued FinSequence holds ((B45 in R6 & B46 in R6 & B45 <> B46) implies B45 , B46 are_orthogonal ));
let C48 , C49 being  real-valued FinSequence;
assume that
L222: C48 in R6
and
L223: C49 in R6
and
L224: C48 <> C49;
L225: C48 , C49 are_orthogonal  by L221 , L222 , L223 , L224;
thus L226: |( C48 , C49 )| = ( 0 ) by L225 , RVSUM_1:def 17;
end;
definition
let C50 being set;
attr C50 is  R-normal
means
:L227: (for B47 being  real-valued FinSequence holds (B47 in C50 implies |. B47 .| = 1));
end;
registration
cluster  empty ->  R-normal for set;
coherence
proof
let C51 being set;
assume that
L229: C51 is  empty;
let R7 being  real-valued FinSequence;
thus L230: thesis by L229;
end;
end;
registration
cluster  R-normal for set;
existence
proof
take ( {} );
thus L232: thesis;
end;
end;
registration
let C52 , C53 being  R-normal set;
cluster ( C52 \/ C53 ) ->  R-normal;
coherence
proof
let C54 being  real-valued FinSequence;
assume L234: C54 in ( C52 \/ C53 );
L235: (C54 in C52 or C54 in C53) by L234 , XBOOLE_0:def 3;
thus L236: thesis by L235 , L227;
end;
end;
theorem
L238: (for R7 being  real-valued FinSequence holds (|. R7 .| = 1 implies { R7 } is  R-normal))
proof
let R7 being  real-valued FinSequence;
assume L239: |. R7 .| = 1;
let C55 being  real-valued FinSequence;
assume L240: C55 in { R7 };
thus L241: |. C55 .| = 1 by L240 , L239 , TARSKI:def 1;
end;
theorem
L242: (for R6 being set holds (for R8 being  real-valued FinSequence holds ((R6 is  R-normal & |. R8 .| = 1) implies ( R6 \/ { R8 } ) is  R-normal)))
proof
let R6 being set;
let R8 being  real-valued FinSequence;
assume that
L243: R6 is  R-normal
and
L244: |. R8 .| = 1;
L245: { R8 } is  R-normal by L244 , L238;
thus L246: ( R6 \/ { R8 } ) is  R-normal by L245 , L243;
end;
definition
let C56 being set;
attr C56 is  R-orthonormal
means
:L247: C56 is  R-orthogonal  R-normal;
end;
registration
cluster  R-orthonormal ->  R-orthogonal  R-normal for set;
coherence by L247;
cluster  R-orthogonal  R-normal ->  R-orthonormal for set;
coherence by L247;
end;
registration
cluster { <* 1 *> } ->  R-orthonormal;
coherence
proof
set D16 = { <* 1 *> };
thus L250: (for B48 , B49 being  real-valued FinSequence holds ((B48 in D16 & B49 in D16 & B48 <> B49) implies |( B48 , B49 )| = ( 0 )))
proof
let C57 , C58 being  real-valued FinSequence;
assume that
L251: C57 in D16
and
L252: C58 in D16;
L253: C57 = <* 1 *> by L251 , TARSKI:def 1;
thus L254: thesis by L253 , L252 , TARSKI:def 1;
end;

let C59 being  real-valued FinSequence;
assume L255: C59 in D16;
L256: C59 = <* 1 *> by L255 , TARSKI:def 1;
L257: ( sqr C59 ) = <* ( 1 ^2 ) *> by L256 , RVSUM_1:55;
thus L258: thesis by L257 , RVSUM_1:73 , SQUARE_1:18;
end;
end;
registration
cluster  R-orthonormal non  empty for set;
existence
proof
take { <* 1 *> };
thus L260: thesis;
end;
end;
registration
let R4 being Nat;
cluster  R-orthonormal for (Subset of ( REAL R4 ));
existence
proof
L262: ( {} ( REAL R4 ) ) is  R-orthonormal;
thus L263: thesis by L262;
end;
end;
definition
let C60 being Nat;
let C61 being (Subset of ( REAL C60 ));
attr C61 is  complete
means
:L265: (for B50 being  R-orthonormal (Subset of ( REAL C60 )) holds (C61 c= B50 implies B50 = C61));
end;
definition
let C62 being Nat;
let C63 being (Subset of ( REAL C62 ));
attr C63 is  orthogonal_basis
means
:L267: C63 is  R-orthonormal  complete;
end;
registration
let C64 being Nat;
cluster  orthogonal_basis ->  R-orthonormal  complete for (Subset of ( REAL C64 ));
coherence by L267;
cluster  R-orthonormal  complete ->  orthogonal_basis for (Subset of ( REAL C64 ));
coherence by L267;
end;
theorem
L270: (for B51 being (Subset of ( REAL ( 0 ) )) holds (B51 is  orthogonal_basis implies B51 = ( {} )))
proof
let C65 being (Subset of ( REAL ( 0 ) ));
assume that
L271: C65 is  orthogonal_basis
and
L272: C65 <> ( {} );
set D17 = the (Element of C65);
L273: D17 in C65 by L272;
reconsider D18 = D17 as (Element of ( REAL ( 0 ) )) by L273;
L274: |( ( 0* ( len D18 ) ) , ( 0* ( len D18 ) ) )| = ( 0 ) by EUCLID_2:9;
L275: |. ( 0* ( len D18 ) ) .| = ( 0 ) by L274 , EUCLID_2:8;
thus L276: contradiction by L275 , L271 , L272 , L227;
end;
theorem
L277: (for R4 being Nat holds (for B52 being (Subset of ( REAL R4 )) holds (for B53 being (Element of ( REAL R4 )) holds ((B52 is  orthogonal_basis & (for B54 being (Element of ( REAL R4 )) holds (B54 in B52 implies |( B54 , B53 )| = ( 0 )))) implies B53 = ( 0* R4 )))))
proof
let R4 being Nat;
let C66 being (Subset of ( REAL R4 ));
let C67 being (Element of ( REAL R4 ));
assume that
L278: C66 is  orthogonal_basis
and
L279: (for B55 being (Element of ( REAL R4 )) holds (B55 in C66 implies |( B55 , C67 )| = ( 0 )));
L280:
now
reconsider D19 = ( ( 1 / |. C67 .| ) * C67 ) as (Element of ( REAL R4 ));
reconsider D20 = ( C66 \/ { D19 } ) as (Subset of ( REAL R4 ));
L281: D19 in { D19 } by TARSKI:def 1;
L282: D19 in D20 by L281 , XBOOLE_0:def 3;
L283: ( len C67 ) = R4 by CARD_1:def 7;
L284: (for B56 , B57 being  real-valued FinSequence holds ((B56 in D20 & B57 in D20 & B56 <> B57) implies |( B56 , B57 )| = ( 0 )))
proof
let C68 , C69 being  real-valued FinSequence;
assume that
L285: C68 in D20
and
L286: C69 in D20
and
L287: C68 <> C69;
reconsider D21 = C68 , D22 = C69 as (Element of ( REAL R4 )) by L285 , L286;
L288: ( len D22 ) = R4 by CARD_1:def 7;
per cases  by L285 , XBOOLE_0:def 3;
suppose L289: C68 in C66;

per cases  by L286 , XBOOLE_0:def 3;
suppose L290: C69 in C66;

thus L291: |( C68 , C69 )| = ( 0 ) by L290 , L278 , L287 , L289 , L209;
end;
suppose L292: C69 in { D19 };

L293: ( len D21 ) = R4 by CARD_1:def 7;
L294: |( C68 , C67 )| = ( 0 ) by L279 , L289;
L295: ( ( 1 / |. C67 .| ) * |( C68 , C67 )| ) = ( 0 ) by L294;
L296: C69 = D19 by L292 , TARSKI:def 1;
thus L297: |( C68 , C69 )| = ( 0 ) by L296 , L283 , L293 , L295 , RVSUM_1:121;
end;
end;
suppose L299: C68 in { D19 };

L300: C68 = D19 by L299 , TARSKI:def 1;
L301: (not C69 in { D19 }) by L300 , L287 , TARSKI:def 1;
L302: C69 in C66 by L301 , L286 , XBOOLE_0:def 3;
L303: |( C69 , C67 )| = ( 0 ) by L302 , L279;
L304: ( ( 1 / |. C67 .| ) * |( C69 , C67 )| ) = ( 0 ) by L303;
L305: |( D22 , ( ( 1 / |. C67 .| ) * C67 ) )| = ( 0 ) by L304 , L283 , L288 , RVSUM_1:121;
thus L306: |( C68 , C69 )| = ( 0 ) by L305 , L299 , TARSKI:def 1;
end;
end;
L308: D20 is  R-orthogonal by L284 , L209;
assume L309: C67 <> ( 0* R4 );
L310: |. D19 .| = ( ( abs ( 1 / |. C67 .| ) ) * |. C67 .| ) by EUCLID:11
.= ( ( 1 / |. C67 .| ) * |. C67 .| ) by ABSVALUE:def 1
.= 1 by L309 , EUCLID:8 , XCMPLX_1:106;
L311: (for B58 being  real-valued FinSequence holds (B58 in D20 implies |. B58 .| = 1))
proof
let C70 being  real-valued FinSequence;
assume L312: C70 in D20;
L313: (C70 in C66 or C70 in { D19 }) by L312 , XBOOLE_0:def 3;
thus L314: |. C70 .| = 1 by L313 , L278 , L310 , L227 , TARSKI:def 1;
end;
L315: D20 is  R-normal by L311 , L227;
L316: ( len D19 ) = R4 by CARD_1:def 7;
L317:
now
assume L318: D19 in C66;
L319: |( D19 , C67 )| = ( 0 ) by L318 , L279;
L320: ( ( 1 / |. C67 .| ) * |( D19 , C67 )| ) = ( 0 ) by L319;
L321: |( D19 , ( ( 1 / |. C67 .| ) * C67 ) )| = ( 0 ) by L320 , L283 , L316 , RVSUM_1:121;
thus L322: contradiction by L321 , L310 , EUCLID_2:8;
end;
L323: C66 c= D20 by XBOOLE_1:7;
thus L324: contradiction by L323 , L278 , L317 , L282 , L308 , L315 , L265;
end;
thus L325: C67 = ( 0* R4 ) by L280;
end;
begin
definition
let R4 being Nat;
let C71 being (Subset of ( REAL R4 ));
attr C71 is  linear_manifold
means
:L326: (for B59 , B60 being (Element of ( REAL R4 )) holds (for B61 , B62 being (Element of ( REAL )) holds ((B59 in C71 & B60 in C71) implies ( ( B61 * B59 ) + ( B62 * B60 ) ) in C71)));
end;
registration
let R4 being Nat;
cluster ( [#] ( REAL R4 ) ) ->  linear_manifold;
coherence
proof
let C72 , C73 being (Element of ( REAL R4 ));
let C74 , C75 being (Element of ( REAL ));
assume that
L328: C72 in ( [#] ( REAL R4 ) )
and
L329: C73 in ( [#] ( REAL R4 ) );
L330: ( ( C74 * C72 ) + ( C75 * C73 ) ) in ( REAL R4 );
thus L331: thesis by L330 , SUBSET_1:def 3;
end;
end;
theorem
L333: (for R4 being Nat holds { ( 0* R4 ) } is  linear_manifold)
proof
let R4 being Nat;
let C76 , C77 being (Element of ( REAL R4 ));
let C78 , C79 being (Element of ( REAL ));
assume that
L334: C76 in { ( 0* R4 ) }
and
L335: C77 in { ( 0* R4 ) };
reconsider D23 = R4 as (Element of ( NAT )) by ORDINAL1:def 12;
L336: C77 = ( 0* R4 ) by L335 , TARSKI:def 1;
L337: C76 = ( 0* R4 ) by L334 , TARSKI:def 1;
L338: ( ( C78 * C76 ) + ( C79 * C77 ) ) = ( ( 0* D23 ) + ( C79 * ( 0* D23 ) ) ) by L337 , L336 , EUCLID_4:2
.= ( ( 0* D23 ) + ( 0* D23 ) ) by EUCLID_4:2
.= ( 0* D23 ) by EUCLID_4:1;
thus L339: ( ( C78 * C76 ) + ( C79 * C77 ) ) in { ( 0* R4 ) } by L338 , TARSKI:def 1;
end;
registration
let R4 being Nat;
cluster { ( 0* R4 ) } ->  linear_manifold for (Subset of ( REAL R4 ));
coherence by L333;
end;
definition
let R4 being Nat;
let C80 being (Subset of ( REAL R4 ));
func L_Span C80 -> (Subset of ( REAL R4 )) equals 
( meet { B63 where B63 is (Subset of ( REAL R4 )) : (B63 is  linear_manifold & C80 c= B63) } );
correctness
proof
L341: C80 c= ( REAL R4 );
L342: C80 c= ( [#] ( REAL R4 ) ) by L341 , SUBSET_1:def 3;
L343: ( [#] ( REAL R4 ) ) in { B64 where B64 is (Subset of ( REAL R4 )) : (B64 is  linear_manifold & C80 c= B64) } by L342;
thus L344: thesis by L343 , SETFAM_1:7;
end;
end;
registration
let R4 being Nat;
let C81 being (Subset of ( REAL R4 ));
cluster ( L_Span C81 ) ->  linear_manifold;
coherence
proof
L346: C81 c= ( REAL R4 );
L347: C81 c= ( [#] ( REAL R4 ) ) by L346 , SUBSET_1:def 3;
L348: ( [#] ( REAL R4 ) ) in { B65 where B65 is (Subset of ( REAL R4 )) : (B65 is  linear_manifold & C81 c= B65) } by L347;
reconsider D24 = { B66 where B66 is (Subset of ( REAL R4 )) : (B66 is  linear_manifold & C81 c= B66) } as non  empty set by L348;
let C82 , C83 being (Element of ( REAL R4 ));
let C84 , C85 being (Element of ( REAL ));
assume that
L349: C82 in ( L_Span C81 )
and
L350: C83 in ( L_Span C81 );
L351: (for B67 being set holds (B67 in { B68 where B68 is (Subset of ( REAL R4 )) : (B68 is  linear_manifold & C81 c= B68) } implies ( ( C84 * C82 ) + ( C85 * C83 ) ) in B67))
proof
let C86 being set;
assume L352: C86 in { B69 where B69 is (Subset of ( REAL R4 )) : (B69 is  linear_manifold & C81 c= B69) };
L353: (ex B70 being (Subset of ( REAL R4 )) st (C86 = B70 & B70 is  linear_manifold & C81 c= B70)) by L352;
L354: C83 in C86 by L350 , L352 , SETFAM_1:def 1;
L355: C82 in C86 by L349 , L352 , SETFAM_1:def 1;
thus L356: ( ( C84 * C82 ) + ( C85 * C83 ) ) in C86 by L355 , L354 , L353 , L326;
end;
L357: D24 <> ( {} );
thus L358: ( ( C84 * C82 ) + ( C85 * C83 ) ) in ( L_Span C81 ) by L357 , L351 , SETFAM_1:def 1;
end;
end;
definition
let C87 being Nat;
let C88 being (FinSequence of ( REAL C87 ));
func accum C88 -> (FinSequence of ( REAL C87 )) means 
:L360: (( len C88 ) = ( len it ) & ( C88 . 1 ) = ( it . 1 ) & (for B71 being Nat holds ((1 <= B71 & B71 < ( len C88 )) implies ( it . ( B71 + 1 ) ) = ( ( it /. B71 ) + ( C88 /. ( B71 + 1 ) ) ))));
existence
proof
per cases ;
suppose L361: ( len C88 ) > ( 0 );

reconsider D25 = <* ( C88 /. 1 ) *> as (FinSequence of ( REAL C87 ));
L362: ( ( 0 ) + 1 ) <= ( len C88 ) by L361 , NAT_1:13;
L363: ( C88 /. 1 ) = ( C88 . 1 ) by L362 , FINSEQ_4:15;
L364: ( D25 . 1 ) = ( C88 . 1 ) by L363 , FINSEQ_1:40;
defpred S4[ Nat ] means (( $1 + 1 ) <= ( len C88 ) implies (ex B72 being (FinSequence of ( REAL C87 )) st (( $1 + 1 ) = ( len B72 ) & ( C88 . 1 ) = ( B72 . 1 ) & (for B73 being Nat holds ((1 <= B73 & B73 < ( $1 + 1 )) implies ( B72 . ( B73 + 1 ) ) = ( ( B72 /. B73 ) + ( C88 /. ( B73 + 1 ) ) ))))));
L365: (for B74 being Nat holds ((1 <= B74 & B74 < ( ( 0 ) + 1 )) implies ( D25 . ( B74 + 1 ) ) = ( ( D25 /. B74 ) + ( C88 /. ( B74 + 1 ) ) )));
L366: (for B75 being Nat holds (S4[ B75 ] implies S4[ ( B75 + 1 ) ]))
proof
let C89 being Nat;
assume L367: S4[ C89 ];
L368:
now
per cases ;
case L369: ( ( C89 + 1 ) + 1 ) <= ( len C88 );
L370: ( C89 + 1 ) < ( ( C89 + 1 ) + 1 ) by XREAL_1:29;
consider C90 being (FinSequence of ( REAL C87 )) such that L371: ( C89 + 1 ) = ( len C90 ) and L372: ( C88 . 1 ) = ( C90 . 1 ) and L373: (for B76 being Nat holds ((1 <= B76 & B76 < ( C89 + 1 )) implies ( C90 . ( B76 + 1 ) ) = ( ( C90 /. B76 ) + ( C88 /. ( B76 + 1 ) ) ))) by L370 , L367 , L369 , XXREAL_0:2;
reconsider D26 = ( C90 ^ <* ( ( C90 /. ( C89 + 1 ) ) + ( C88 /. ( ( C89 + 1 ) + 1 ) ) ) *> ) as (FinSequence of ( REAL C87 ));
L374: ( Seg ( len C90 ) ) = ( dom C90 ) by FINSEQ_1:def 3;
L375: ( len D26 ) = ( ( len C90 ) + ( len <* ( ( C90 /. ( C89 + 1 ) ) + ( C88 /. ( ( C89 + 1 ) + 1 ) ) ) *> ) ) by FINSEQ_1:22
.= ( ( C89 + 1 ) + 1 ) by L371 , FINSEQ_1:40;
L376: (for B77 being Nat holds ((1 <= B77 & B77 < ( ( C89 + 1 ) + 1 )) implies ( D26 . ( B77 + 1 ) ) = ( ( D26 /. B77 ) + ( C88 /. ( B77 + 1 ) ) )))
proof
let C91 being Nat;
assume that
L377: 1 <= C91
and
L378: C91 < ( ( C89 + 1 ) + 1 );
L379: C91 <= ( C89 + 1 ) by L378 , NAT_1:13;
per cases  by L379 , XXREAL_0:1;
suppose L380: C91 < ( C89 + 1 );

L381: 1 <= ( C91 + 1 ) by NAT_1:12;
L382: ( C91 + 1 ) <= ( C89 + 1 ) by L380 , NAT_1:13;
L383: ( C91 + 1 ) in ( Seg ( len C90 ) ) by L382 , L371 , L381 , FINSEQ_1:1;
L384: ( D26 . ( C91 + 1 ) ) = ( C90 . ( C91 + 1 ) ) by L383 , L374 , FINSEQ_1:def 7;
L385: C91 in ( Seg ( len C90 ) ) by L371 , L377 , L379 , FINSEQ_1:1;
L386: ( D26 . C91 ) = ( C90 . C91 ) by L385 , L374 , FINSEQ_1:def 7;
L387: ( C90 /. C91 ) = ( C90 . C91 ) by L371 , L377 , L380 , FINSEQ_4:15;
L388: ( D26 /. C91 ) = ( D26 . C91 ) by L375 , L377 , L378 , FINSEQ_4:15;
thus L389: thesis by L388 , L373 , L377 , L380 , L384 , L386 , L387;
end;
suppose L390: C91 = ( C89 + 1 );

L391: ( D26 /. C91 ) = ( D26 . C91 ) by L375 , L377 , L378 , FINSEQ_4:15;
L392: C91 in ( Seg ( len C90 ) ) by L371 , L377 , L379 , FINSEQ_1:1;
L393: ( C90 . C91 ) = ( D26 . C91 ) by L392 , L374 , FINSEQ_1:def 7;
L394: ( C90 /. C91 ) = ( C90 . C91 ) by L371 , L377 , L379 , FINSEQ_4:15;
thus L395: thesis by L394 , L371 , L390 , L393 , L391 , FINSEQ_1:42;
end;
end;
L397: 1 <= ( C89 + 1 ) by NAT_1:11;
L398: 1 in ( Seg ( len C90 ) ) by L397 , L371 , FINSEQ_1:1;
L399: ( D26 . 1 ) = ( C88 . 1 ) by L398 , L372 , L374 , FINSEQ_1:def 7;
thus L400: S4[ ( C89 + 1 ) ] by L399 , L375 , L376;
end;
case L401: ( ( C89 + 1 ) + 1 ) > ( len C88 );
thus L402: S4[ ( C89 + 1 ) ] by L401;
end;
end;
thus L404: S4[ ( C89 + 1 ) ] by L368;
end;
L405: ( ( len C88 ) -' 1 ) = ( ( len C88 ) - 1 ) by L362 , XREAL_1:233;
L406: ( ( ( len C88 ) -' 1 ) + 1 ) = ( len C88 ) by L405;
L407: ( len D25 ) = 1 by FINSEQ_1:40;
L408: S4[ ( 0 ) ] by L407 , L364 , L365;
L409: (for B78 being Nat holds S4[ B78 ]) from NAT_1:sch 2(L408 , L366);
thus L410: thesis by L409 , L406;
end;
suppose L411: ( len C88 ) <= ( 0 );

take C88;
thus L412: (( len C88 ) = ( len C88 ) & ( C88 . 1 ) = ( C88 . 1 ));
let C92 being Nat;
thus L413: thesis by L411;
end;
end;
uniqueness
proof
let C93 , C94 being (FinSequence of ( REAL C87 ));
assume that
L415: ( len C88 ) = ( len C93 )
and
L416: ( C88 . 1 ) = ( C93 . 1 )
and
L417: (for B79 being Nat holds ((1 <= B79 & B79 < ( len C88 )) implies ( C93 . ( B79 + 1 ) ) = ( ( C93 /. B79 ) + ( C88 /. ( B79 + 1 ) ) )));
defpred S5[ Nat ] means ((1 <= $1 & $1 <= ( len C88 )) implies ( C93 . $1 ) = ( C94 . $1 ));
assume that
L418: ( len C88 ) = ( len C94 )
and
L419: ( C88 . 1 ) = ( C94 . 1 )
and
L420: (for B80 being Nat holds ((1 <= B80 & B80 < ( len C88 )) implies ( C94 . ( B80 + 1 ) ) = ( ( C94 /. B80 ) + ( C88 /. ( B80 + 1 ) ) )));
L421: (for B81 being Nat holds (S5[ B81 ] implies S5[ ( B81 + 1 ) ]))
proof
let C95 being Nat;
assume L422: S5[ C95 ];
L423: ((1 <= ( C95 + 1 ) & ( C95 + 1 ) <= ( len C88 )) implies ( C93 . ( C95 + 1 ) ) = ( C94 . ( C95 + 1 ) ))
proof
assume that
L424: 1 <= ( C95 + 1 )
and
L425: ( C95 + 1 ) <= ( len C88 );
L426: C95 < ( C95 + 1 ) by XREAL_1:29;
L427: C95 < ( len C88 ) by L426 , L425 , XXREAL_0:2;
per cases ;
suppose L428: 1 <= C95;

L429: ( C94 . ( C95 + 1 ) ) = ( ( C94 /. C95 ) + ( C88 /. ( C95 + 1 ) ) ) by L428 , L420 , L427;
L430: C95 <= ( len C94 ) by L418 , L425 , L426 , XXREAL_0:2;
L431: ( C93 /. C95 ) = ( C93 . C95 ) by L415 , L427 , L428 , FINSEQ_4:15;
L432: ( C93 . ( C95 + 1 ) ) = ( ( C93 /. C95 ) + ( C88 /. ( C95 + 1 ) ) ) by L417 , L427 , L428;
thus L433: thesis by L432 , L422 , L425 , L426 , L428 , L429 , L431 , L430 , FINSEQ_4:15 , XXREAL_0:2;
end;
suppose L434: 1 > C95;

L435: ( ( 0 ) + 1 ) > C95 by L434;
L436: C95 = ( 0 ) by L435 , NAT_1:13;
thus L437: ( C93 . ( C95 + 1 ) ) = ( C94 . ( C95 + 1 ) ) by L436 , L416 , L419;
end;
end;
thus L439: S5[ ( C95 + 1 ) ] by L423;
end;
L440: S5[ ( 0 ) ];
L441: (for B82 being Nat holds S5[ B82 ]) from NAT_1:sch 2(L440 , L421);
thus L442: C93 = C94 by L441 , L415 , L418 , FINSEQ_1:14;
end;
end;
definition
let C96 being Nat;
let C97 being (FinSequence of ( REAL C96 ));
func Sum C97 -> (Element of ( REAL C96 )) equals 
:L444: ( ( accum C97 ) . ( len C97 ) ) if ( len C97 ) > ( 0 ) otherwise ( 0* C96 );
coherence
proof
L445: ( len C97 ) = ( len ( accum C97 ) ) by L360;
L446:
now
per cases ;
case L447: ( len C97 ) > ( 0 );
L448: ( ( 0 ) + 1 ) <= ( len C97 ) by L447 , NAT_1:13;
L449: ( len C97 ) in ( dom ( accum C97 ) ) by L448 , L445 , FINSEQ_3:25;
L450: ( ( accum C97 ) . ( len C97 ) ) in ( rng ( accum C97 ) ) by L449 , FUNCT_1:def 3;
thus L451: ( ( accum C97 ) . ( len C97 ) ) is (Element of ( REAL C96 )) by L450;
end;
case L452: ( len C97 ) <= ( 0 );
thus L453: thesis by L452;
end;
end;
thus L455: thesis by L446;
end;
consistency;
end;
theorem
L457: (for R4 being Nat holds (for B83 , B84 being (FinSequence of ( REAL R4 )) holds (for B85 being (Permutation of ( dom B83 )) holds (B84 = ( B83 (*) B85 ) implies ( Sum B84 ) = ( Sum B83 )))))
proof
let R4 being Nat;
let C98 , C99 being (FinSequence of ( REAL R4 ));
let C100 being (Permutation of ( dom C98 ));
assume L458: C99 = ( C98 (*) C100 );
per cases ;
suppose L459: ( len C98 ) > ( 0 );

L460: ( ( 0 ) + 1 ) <= ( len C98 ) by L459 , NAT_1:13;
L461: 1 in ( Seg ( len C98 ) ) by L460 , FINSEQ_1:1;
L462: 1 in ( dom C98 ) by L461 , FINSEQ_1:def 3;
L463: ( dom C100 ) = ( dom C98 ) by L462 , FUNCT_2:def 1;
L464: ( rng C100 ) = ( dom C100 ) by L463 , FUNCT_2:def 3;
L465: ( dom C99 ) = ( dom C100 ) by L464 , L458 , RELAT_1:27;
L466: ( Seg ( len C99 ) ) = ( dom C98 ) by L465 , L463 , FINSEQ_1:def 3;
set D27 = ( accum C98 );
L467: ( len C98 ) = ( len D27 ) by L360;
L468: (for B86 being Nat holds ((1 <= B86 & B86 < ( len C98 )) implies ( D27 . ( B86 + 1 ) ) = ( ( D27 /. B86 ) + ( C98 /. ( B86 + 1 ) ) ))) by L360;
defpred S6[ Nat ] means (for B87 being (Permutation of ( dom C98 )) holds (($1 < ( len C98 ) & (for B88 being Nat holds ((( $1 + 1 ) < B88 & B88 <= ( len C98 )) implies ( B87 . B88 ) = B88))) implies ( D27 . ( $1 + 1 ) ) = ( ( accum ( C98 (*) B87 ) ) . ( $1 + 1 ) )));
L469: ( dom C98 ) = ( Seg ( len C98 ) ) by FINSEQ_1:def 3;
L470: 1 in ( Seg ( len C99 ) ) by L462 , L463 , L465 , FINSEQ_1:def 3;
L471: 1 <= ( len C99 ) by L470 , FINSEQ_1:1;
L472: ( ( len C98 ) -' 1 ) = ( ( len C98 ) - 1 ) by L460 , XREAL_1:233;
L473: (for B89 being Nat holds ((( ( ( len C98 ) -' 1 ) + 1 ) < B89 & B89 <= ( len C98 )) implies ( C100 . B89 ) = B89)) by L472;
L474: ( dom C98 ) <> ( {} ) by L461 , FINSEQ_1:def 3;
L475: (for B90 being Nat holds (S6[ B90 ] implies S6[ ( B90 + 1 ) ]))
proof
let C101 being Nat;
assume L476: S6[ C101 ];
L477: (for B91 being (Permutation of ( dom C98 )) holds ((( C101 + 1 ) < ( len C98 ) & (for B92 being Nat holds ((( ( C101 + 1 ) + 1 ) < B92 & B92 <= ( len C98 )) implies ( B91 . B92 ) = B92))) implies ( D27 . ( ( C101 + 1 ) + 1 ) ) = ( ( accum ( C98 (*) B91 ) ) . ( ( C101 + 1 ) + 1 ) )))
proof
L478: 1 <= ( C101 + 1 ) by NAT_1:11;
L479: ( C101 + 1 ) < ( ( C101 + 1 ) + 1 ) by XREAL_1:29;
let C102 being (Permutation of ( dom C98 ));
assume that
L480: ( C101 + 1 ) < ( len C98 )
and
L481: (for B93 being Nat holds ((( ( C101 + 1 ) + 1 ) < B93 & B93 <= ( len C98 )) implies ( C102 . B93 ) = B93));
L482: ( ( C101 + 1 ) + 1 ) <= ( len C98 ) by L480 , NAT_1:13;
L483: C101 < ( C101 + 1 ) by XREAL_1:29;
L484: C101 < ( len C98 ) by L483 , L480 , XXREAL_0:2;
L485: 1 < ( ( C101 + 1 ) + 1 ) by XREAL_1:29;
L486: ( ( C101 + 1 ) + 1 ) in ( Seg ( len C98 ) ) by L485 , L482 , FINSEQ_1:1;
L487: ( ( C101 + 1 ) + 1 ) in ( dom C98 ) by L486 , FINSEQ_1:def 3;
L488: ( dom C102 ) = ( dom C98 ) by L462 , FUNCT_2:def 1;
L489: ( rng C102 ) = ( dom C102 ) by L488 , FUNCT_2:def 3;
L490: ( dom ( C98 (*) C102 ) ) = ( dom C102 ) by L489 , RELAT_1:27
.= ( dom C98 ) by L462 , FUNCT_2:def 1;
L491: ( Seg ( len ( C98 (*) C102 ) ) ) = ( dom C98 ) by L490 , FINSEQ_1:def 3;
L492: ( Seg ( len ( C98 (*) C102 ) ) ) = ( Seg ( len C98 ) ) by L491 , FINSEQ_1:def 3;
L493: ( len ( C98 (*) C102 ) ) = ( len C98 ) by L491 , FINSEQ_1:def 3;
L494: C102 is FinSequence by L469 , L488 , FINSEQ_1:def 2;
reconsider D28 = C102 as (FinSequence of ( NAT )) by L494 , L488 , L489 , FINSEQ_1:def 4;
L495: ( dom C102 ) = ( Seg ( len C98 ) ) by L459 , L469 , FUNCT_2:def 1;
L496: ( len D28 ) = ( len C98 ) by L495 , FINSEQ_1:def 3;
consider C103 being set such that L497: C103 in ( dom C102 ) and L498: ( ( C101 + 1 ) + 1 ) = ( C102 . C103 ) by L469 , L488 , L489 , L486 , FUNCT_1:def 3;
reconsider D29 = C103 as (Element of ( NAT )) by L488 , L497;
L499: D29 <= ( len C98 ) by L469 , L497 , FINSEQ_1:1;
reconsider D30 = ( Swap (D28 , D29 , ( ( C101 + 1 ) + 1 )) ) as (FinSequence of ( NAT ));
L500: ( rng D30 ) = ( rng C102 ) by FINSEQ_7:22
.= ( dom C98 ) by FUNCT_2:def 3;
L501: ( len D30 ) = ( len D28 ) by FINSEQ_7:18;
L502: ( dom D30 ) = ( Seg ( len D28 ) ) by L501 , FINSEQ_1:def 3;
L503: ( dom D30 ) = ( dom C102 ) by L502 , FINSEQ_1:def 3
.= ( dom C98 ) by L474 , FUNCT_2:def 1;
reconsider D31 = D30 as (Function of ( dom C98 ) , ( dom C98 )) by L503 , L500 , FUNCT_2:1;
L504: D31 is  one-to-one by INT_5:39;
L505: D31 is  onto by L500 , FUNCT_2:def 3;
reconsider D32 = D31 as (Permutation of ( dom C98 )) by L505 , L504;
L506: 1 <= D29 by L469 , L497 , FINSEQ_1:1;
L507: ( D32 . D29 ) = ( D28 . ( ( C101 + 1 ) + 1 ) ) by L506 , L482 , L485 , L499 , L496 , L142;
L508: ( dom D32 ) = ( dom C98 ) by L462 , FUNCT_2:def 1;
L509: ( rng D32 ) c= ( dom C98 );
L510: ( dom ( C98 (*) D32 ) ) = ( dom D32 ) by L509 , RELAT_1:27
.= ( dom C98 ) by L462 , FUNCT_2:def 1;
L511: ( Seg ( len ( C98 (*) D32 ) ) ) = ( dom C98 ) by L510 , FINSEQ_1:def 3;
L512: ( len ( C98 (*) D32 ) ) = ( len C98 ) by L511 , FINSEQ_1:def 3;
per cases ;
suppose L513: D29 <= ( C101 + 1 );

L514: ( ( C101 + 1 ) + 1 ) <= ( len D28 ) by L480 , L496 , NAT_1:13;
L515: D29 <= ( len D28 ) by L469 , L497 , L496 , FINSEQ_1:1;
L516: ( C98 . ( ( C101 + 1 ) + 1 ) ) = ( ( C98 (*) C102 ) . D29 ) by L497 , L498 , FUNCT_1:13;
L517: ( len ( accum ( C98 (*) D32 ) ) ) = ( len ( C98 (*) D32 ) ) by L360;
L518: 1 <= D29 by L469 , L497 , FINSEQ_1:1;
L519: 1 <= ( ( C101 + 1 ) + 1 ) by NAT_1:11;
L520: ( D30 . ( ( C101 + 1 ) + 1 ) ) = ( ( C101 + 1 ) + 1 ) by L519 , L498 , L518 , L515 , L514 , L142;
L521: (for B94 being Nat holds ((( C101 + 1 ) < B94 & B94 <= ( len C98 )) implies ( D32 . B94 ) = B94))
proof
let C104 being Nat;
assume that
L522: ( C101 + 1 ) < C104
and
L523: C104 <= ( len C98 );
L524: ( ( C101 + 1 ) + 1 ) <= C104 by L522 , NAT_1:13;
per cases ;
suppose L525: ( ( C101 + 1 ) + 1 ) < C104;

L526: 1 <= ( C101 + 1 ) by NAT_1:11;
L527: 1 < C104 by L526 , L522 , XXREAL_0:2;
L528: ( D32 . C104 ) = ( D30 /. C104 ) by L527 , L496 , L501 , L523 , FINSEQ_4:15
.= ( D28 /. C104 ) by L496 , L513 , L522 , L523 , L525 , L527 , FINSEQ_7:30
.= ( C102 . C104 ) by L496 , L523 , L527 , FINSEQ_4:15
.= C104 by L481 , L523 , L525;
thus L529: ( D32 . C104 ) = C104 by L528;
end;
suppose L530: ( ( C101 + 1 ) + 1 ) >= C104;

L531: C104 = ( ( C101 + 1 ) + 1 ) by L530 , L524 , XXREAL_0:1;
thus L532: ( D32 . C104 ) = C104 by L531 , L498 , L518 , L515 , L519 , L514 , L142;
end;
end;
L534: ( C98 /. ( ( C101 + 1 ) + 1 ) ) = ( C98 . ( ( C101 + 1 ) + 1 ) ) by L482 , L485 , FINSEQ_4:15;
L535: 1 <= ( C101 + 1 ) by NAT_1:11;
L536: ( len ( accum ( C98 (*) C102 ) ) ) = ( len ( C98 (*) C102 ) ) by L360;
L537: D29 < ( ( C101 + 1 ) + 1 ) by L479 , L513 , XXREAL_0:2;
L538: (for B95 being Nat holds ((1 <= B95 & B95 < D29) implies ( ( accum ( C98 (*) C102 ) ) . B95 ) = ( ( accum ( C98 (*) D32 ) ) . B95 )))
proof
defpred S7[ Nat ] means (( 1 + $1 ) < D29 implies ( ( accum ( C98 (*) C102 ) ) . ( 1 + $1 ) ) = ( ( accum ( C98 (*) D32 ) ) . ( 1 + $1 ) ));
let C105 being Nat;
assume that
L539: 1 <= C105
and
L540: C105 < D29;
L541: ( 1 + ( C105 -' 1 ) ) = ( ( C105 - 1 ) + 1 ) by L539 , XREAL_1:233
.= C105;
L542: (for B96 being Nat holds (S7[ B96 ] implies S7[ ( B96 + 1 ) ]))
proof
let C106 being Nat;
L543: 1 <= ( C106 + 1 ) by NAT_1:11;
assume L544: S7[ C106 ];
L545: (( 1 + ( C106 + 1 ) ) < D29 implies ( ( accum ( C98 (*) C102 ) ) . ( 1 + ( C106 + 1 ) ) ) = ( ( accum ( C98 (*) D32 ) ) . ( 1 + ( C106 + 1 ) ) ))
proof
assume L546: ( 1 + ( C106 + 1 ) ) < D29;
L547: ( 1 + ( C106 + 1 ) ) < ( len C98 ) by L546 , L499 , XXREAL_0:2;
L548: ( D28 /. ( ( C106 + 1 ) + 1 ) ) = ( D28 . ( ( C106 + 1 ) + 1 ) ) by L547 , L496 , FINSEQ_4:15 , NAT_1:11;
L549: ( ( C106 + 1 ) + 1 ) < ( ( C101 + 1 ) + 1 ) by L537 , L546 , XXREAL_0:2;
L550: ( D30 /. ( ( C106 + 1 ) + 1 ) ) = ( D30 . ( ( C106 + 1 ) + 1 ) ) by L496 , L501 , L547 , FINSEQ_4:15 , NAT_1:11;
L551: 1 <= ( 1 + ( C106 + 1 ) ) by NAT_1:11;
L552: ( ( C106 + 1 ) + 1 ) in ( Seg ( len C98 ) ) by L551 , L547 , FINSEQ_1:1;
L553: ( ( C106 + 1 ) + 1 ) in ( dom ( C98 (*) C102 ) ) by L552 , L490 , FINSEQ_1:def 3;
L554: ( ( C98 (*) C102 ) . ( ( C106 + 1 ) + 1 ) ) = ( C98 . ( C102 . ( ( C106 + 1 ) + 1 ) ) ) by L553 , FUNCT_1:12
.= ( C98 . ( D32 . ( ( C106 + 1 ) + 1 ) ) ) by L496 , L546 , L547 , L549 , L548 , L550 , FINSEQ_7:30 , NAT_1:11
.= ( ( C98 (*) D32 ) . ( ( C106 + 1 ) + 1 ) ) by L510 , L490 , L553 , FUNCT_1:12;
L555: ( ( C98 (*) D32 ) /. ( ( C106 + 1 ) + 1 ) ) = ( ( C98 (*) D32 ) . ( ( C106 + 1 ) + 1 ) ) by L512 , L547 , FINSEQ_4:15 , NAT_1:11;
L556: ( C106 + 1 ) < ( 1 + ( C106 + 1 ) ) by XREAL_1:29;
L557: ( C106 + 1 ) < D29 by L556 , L546 , XXREAL_0:2;
L558: ( C106 + 1 ) < ( len C98 ) by L557 , L499 , XXREAL_0:2;
L559: ( C106 + 1 ) < ( len ( C98 (*) C102 ) ) by L499 , L493 , L557 , XXREAL_0:2;
L560: ( ( accum ( C98 (*) D32 ) ) /. ( 1 + C106 ) ) = ( ( accum ( C98 (*) D32 ) ) . ( 1 + C106 ) ) by L559 , L512 , L493 , L517 , FINSEQ_4:15 , NAT_1:11;
L561: ( ( accum ( C98 (*) C102 ) ) /. ( 1 + C106 ) ) = ( ( accum ( C98 (*) C102 ) ) . ( 1 + C106 ) ) by L493 , L536 , L558 , FINSEQ_4:15 , NAT_1:11;
L562: ( ( accum ( C98 (*) C102 ) ) . ( 1 + ( C106 + 1 ) ) ) = ( ( ( accum ( C98 (*) D32 ) ) /. ( C106 + 1 ) ) + ( ( C98 (*) C102 ) /. ( ( C106 + 1 ) + 1 ) ) ) by L561 , L493 , L544 , L543 , L546 , L556 , L558 , L560 , L360 , XXREAL_0:2
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( C106 + 1 ) ) + ( ( C98 (*) D32 ) /. ( ( C106 + 1 ) + 1 ) ) ) by L493 , L547 , L554 , L555 , FINSEQ_4:15 , NAT_1:11;
thus L563: ( ( accum ( C98 (*) C102 ) ) . ( 1 + ( C106 + 1 ) ) ) = ( ( accum ( C98 (*) D32 ) ) . ( 1 + ( C106 + 1 ) ) ) by L562 , L512 , L543 , L558 , L360;
end;
thus L564: S7[ ( C106 + 1 ) ] by L545;
end;
L565: ( 0 ) < ( C101 + 1 );
L566: 1 <> ( ( C101 + 1 ) + 1 ) by L565;
L567: ( D30 /. 1 ) = ( D30 . 1 ) by L460 , L496 , L501 , FINSEQ_4:15;
L568: ( D28 /. 1 ) = ( D28 . 1 ) by L460 , L496 , FINSEQ_4:15;
L569: ( ( C98 (*) C102 ) . 1 ) = ( C98 . ( C102 . 1 ) ) by L462 , L490 , FUNCT_1:12
.= ( C98 . ( D32 . 1 ) ) by L460 , L496 , L539 , L540 , L566 , L568 , L567 , FINSEQ_7:30
.= ( ( C98 (*) D32 ) . 1 ) by L462 , L510 , FUNCT_1:12;
L570: ( ( accum ( C98 (*) C102 ) ) . ( 1 + ( 0 ) ) ) = ( ( C98 (*) D32 ) . 1 ) by L569 , L360
.= ( ( accum ( C98 (*) D32 ) ) . ( 1 + ( 0 ) ) ) by L360;
L571: S7[ ( 0 ) ] by L570;
L572: (for B97 being Nat holds S7[ B97 ]) from NAT_1:sch 2(L571 , L542);
thus L573: ( ( accum ( C98 (*) C102 ) ) . C105 ) = ( ( accum ( C98 (*) D32 ) ) . C105 ) by L572 , L540 , L541;
end;
L574: (for B98 being Nat holds ((D29 <= B98 & B98 < ( ( C101 + 1 ) + 1 )) implies ( ( accum ( C98 (*) C102 ) ) . B98 ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. B98 ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) )))
proof
defpred S8[ Nat ] means ((D29 <= ( D29 + $1 ) & ( D29 + $1 ) < ( ( C101 + 1 ) + 1 )) implies ( ( accum ( C98 (*) C102 ) ) . ( D29 + $1 ) ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + $1 ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ));
let C107 being Nat;
assume that
L575: D29 <= C107
and
L576: C107 < ( ( C101 + 1 ) + 1 );
L577: ( len ( accum ( C98 (*) D32 ) ) ) = ( len ( C98 (*) D32 ) ) by L360;
L578: ( len ( accum ( C98 (*) C102 ) ) ) = ( len ( C98 (*) C102 ) ) by L360;
L579: (for B99 being Nat holds (S8[ B99 ] implies S8[ ( B99 + 1 ) ]))
proof
let C108 being Nat;
assume L580: S8[ C108 ];
L581: ((D29 <= ( D29 + ( C108 + 1 ) ) & ( D29 + ( C108 + 1 ) ) < ( ( C101 + 1 ) + 1 )) implies ( ( accum ( C98 (*) C102 ) ) . ( D29 + ( C108 + 1 ) ) ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( C108 + 1 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ))
proof
reconsider D33 = ( ( C98 (*) C102 ) /. ( ( D29 + C108 ) + 1 ) ) as (Element of ( REAL R4 ));
L582: D29 <= ( D29 + C108 ) by NAT_1:11;
reconsider D34 = ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) as (Element of ( REAL R4 ));
L583: ( D29 + C108 ) < ( ( D29 + C108 ) + 1 ) by XREAL_1:29;
reconsider D35 = ( ( C98 (*) C102 ) /. D29 ) as (Element of ( REAL R4 ));
reconsider D36 = ( ( accum ( C98 (*) D32 ) ) /. ( D29 + C108 ) ) as (Element of ( REAL R4 ));
assume that
L584: D29 <= ( D29 + ( C108 + 1 ) )
and
L585: ( D29 + ( C108 + 1 ) ) < ( ( C101 + 1 ) + 1 );
L586: ( D29 + ( C108 + 1 ) ) < ( len ( accum ( C98 (*) D32 ) ) ) by L482 , L512 , L577 , L585 , XXREAL_0:2;
L587: ( D29 + C108 ) < ( ( D29 + C108 ) + 1 ) by XREAL_1:29;
L588: ( D29 + C108 ) < ( ( C101 + 1 ) + 1 ) by L587 , L585 , XXREAL_0:2;
L589: ( D29 + C108 ) < ( len ( C98 (*) C102 ) ) by L588 , L496 , L493 , L514 , XXREAL_0:2;
L590: ( ( D29 + C108 ) + 1 ) <= ( len ( C98 (*) C102 ) ) by L589 , NAT_1:13;
L591: ( D29 + C108 ) >= ( ( 0 ) + 1 ) by L506 , NAT_1:13;
L592: 1 < ( D29 + ( C108 + 1 ) ) by L591 , L587 , XXREAL_0:2;
L593: ( ( C98 (*) D32 ) /. ( ( D29 + C108 ) + 1 ) ) = ( ( C98 (*) D32 ) . ( ( D29 + C108 ) + 1 ) ) by L592 , L512 , L493 , L590 , FINSEQ_4:15;
L594: ( ( D29 + C108 ) + 1 ) in ( Seg ( len ( C98 (*) C102 ) ) ) by L592 , L590 , FINSEQ_1:1;
L595: ( ( D29 + C108 ) + 1 ) in ( dom ( C98 (*) C102 ) ) by L594 , FINSEQ_1:def 3;
L596: ( ( C98 (*) D32 ) . ( ( D29 + C108 ) + 1 ) ) = ( C98 . ( D32 . ( ( D29 + C108 ) + 1 ) ) ) by L595 , L510 , L490 , FUNCT_1:12
.= ( C98 . ( D30 /. ( ( D29 + C108 ) + 1 ) ) ) by L496 , L501 , L493 , L592 , L590 , FINSEQ_4:15
.= ( C98 . ( D28 /. ( ( D29 + C108 ) + 1 ) ) ) by L496 , L493 , L585 , L592 , L590 , L583 , L582 , FINSEQ_7:30
.= ( C98 . ( D28 . ( ( D29 + C108 ) + 1 ) ) ) by L496 , L493 , L592 , L590 , FINSEQ_4:15
.= ( ( C98 (*) C102 ) . ( ( D29 + C108 ) + 1 ) ) by L595 , FUNCT_1:12;
L597: D29 <= ( D29 + C108 ) by NAT_1:11;
L598: 1 <= ( D29 + C108 ) by L597 , L518 , XXREAL_0:2;
L599: ( ( accum ( C98 (*) D32 ) ) . ( D29 + ( C108 + 1 ) ) ) = ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + C108 ) ) + ( ( C98 (*) D32 ) /. ( ( D29 + C108 ) + 1 ) ) ) by L598 , L512 , L493 , L589 , L360
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + C108 ) ) + ( ( C98 (*) C102 ) /. ( ( D29 + C108 ) + 1 ) ) ) by L592 , L590 , L596 , L593 , FINSEQ_4:15;
L600: ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( C108 + 1 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) = ( ( ( D36 + D33 ) - D34 ) + D35 ) by L599 , L592 , L586 , FINSEQ_4:15
.= ( ( ( D36 - D34 ) + D33 ) + D35 ) by RFUNCT_1:8
.= ( ( ( D36 - D34 ) + D35 ) + D33 ) by RFUNCT_1:8;
L601: ( ( accum ( C98 (*) C102 ) ) . ( D29 + ( C108 + 1 ) ) ) = ( ( ( accum ( C98 (*) C102 ) ) /. ( D29 + C108 ) ) + ( ( C98 (*) C102 ) /. ( ( D29 + C108 ) + 1 ) ) ) by L598 , L589 , L360
.= ( ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + C108 ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) + ( ( C98 (*) C102 ) /. ( ( D29 + C108 ) + 1 ) ) ) by L578 , L580 , L585 , L587 , L598 , L589 , FINSEQ_4:15 , NAT_1:11 , XXREAL_0:2;
thus L602: ( ( accum ( C98 (*) C102 ) ) . ( D29 + ( C108 + 1 ) ) ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( C108 + 1 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) by L601 , L600;
end;
thus L603: S8[ ( C108 + 1 ) ] by L581;
end;
L604:
now
per cases  by L506 , XXREAL_0:1;
case L605: 1 = D29;
L606: R4 in ( NAT ) by ORDINAL1:def 12;
L607: ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( 0 ) ) ) = ( ( accum ( C98 (*) D32 ) ) . 1 ) by L460 , L512 , L577 , L605 , FINSEQ_4:15
.= ( ( C98 (*) D32 ) . 1 ) by L360
.= ( C98 . ( C102 . ( ( C101 + 1 ) + 1 ) ) ) by L462 , L508 , L507 , L605 , FUNCT_1:13
.= ( ( C98 (*) C102 ) . ( ( C101 + 1 ) + 1 ) ) by L488 , L487 , FUNCT_1:13
.= ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) by L482 , L485 , L493 , FINSEQ_4:15;
L608: ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( 0 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) = ( ( 0* R4 ) + ( ( C98 (*) C102 ) /. D29 ) ) by L607 , L606 , EUCLIDLP:2
.= ( ( C98 (*) C102 ) /. D29 ) by EUCLID_4:1;
L609: ( ( accum ( C98 (*) C102 ) ) . ( D29 + ( 0 ) ) ) = ( ( C98 (*) C102 ) . 1 ) by L605 , L360
.= ( ( C98 (*) C102 ) /. D29 ) by L499 , L493 , L605 , FINSEQ_4:15;
thus L610: ( ( accum ( C98 (*) C102 ) ) . ( D29 + ( 0 ) ) ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( 0 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) by L609 , L608;
end;
case L611: 1 < D29;
L612: ( ( C98 (*) D32 ) /. D29 ) = ( ( C98 (*) D32 ) . D29 ) by L506 , L499 , L512 , FINSEQ_4:15
.= ( C98 . ( C102 . ( ( C101 + 1 ) + 1 ) ) ) by L497 , L508 , L507 , FUNCT_1:13
.= ( ( C98 (*) C102 ) . ( ( C101 + 1 ) + 1 ) ) by L488 , L487 , FUNCT_1:13
.= ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) by L482 , L485 , L493 , FINSEQ_4:15;
L613: ( D29 -' 1 ) = ( D29 - 1 ) by L611 , XREAL_1:233;
L614: ( D29 -' 1 ) > ( 0 ) by L613 , L611 , XREAL_1:50;
L615: ( D29 -' 1 ) >= ( ( 0 ) + 1 ) by L614 , NAT_1:13;
L616: D29 < ( D29 + 1 ) by XREAL_1:29;
L617: ( D29 - 1 ) < ( ( D29 + 1 ) - 1 ) by L616 , XREAL_1:9;
L618: ( D29 -' 1 ) < ( len ( C98 (*) C102 ) ) by L617 , L496 , L493 , L515 , L613 , XXREAL_0:2;
L619: ( ( accum ( C98 (*) C102 ) ) /. ( D29 -' 1 ) ) = ( ( accum ( C98 (*) C102 ) ) . ( D29 -' 1 ) ) by L618 , L578 , L615 , FINSEQ_4:15;
L620: ( ( accum ( C98 (*) D32 ) ) . ( D29 + ( 0 ) ) ) = ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 -' 1 ) ) + ( ( C98 (*) D32 ) /. ( ( D29 -' 1 ) + 1 ) ) ) by L512 , L493 , L613 , L615 , L618 , L360
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 -' 1 ) ) + ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) by L613 , L612;
L621: ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( 0 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 -' 1 ) ) + ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) by L620 , L496 , L512 , L518 , L515 , L577 , FINSEQ_4:15
.= ( ( accum ( C98 (*) D32 ) ) /. ( D29 -' 1 ) ) by RVSUM_1:42;
L622: ( ( accum ( C98 (*) D32 ) ) /. ( D29 -' 1 ) ) = ( ( accum ( C98 (*) D32 ) ) . ( D29 -' 1 ) ) by L512 , L493 , L577 , L615 , L618 , FINSEQ_4:15;
L623: ( ( accum ( C98 (*) C102 ) ) . ( D29 + ( 0 ) ) ) = ( ( ( accum ( C98 (*) C102 ) ) /. ( D29 -' 1 ) ) + ( ( C98 (*) C102 ) /. ( ( D29 -' 1 ) + 1 ) ) ) by L613 , L615 , L618 , L360
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 -' 1 ) ) + ( ( C98 (*) C102 ) /. D29 ) ) by L538 , L613 , L615 , L617 , L619 , L622;
thus L624: ( ( accum ( C98 (*) C102 ) ) . ( D29 + ( 0 ) ) ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. ( D29 + ( 0 ) ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) by L623 , L621;
end;
end;
L626: S8[ ( 0 ) ] by L604;
L627: (for B100 being Nat holds S8[ B100 ]) from NAT_1:sch 2(L626 , L579);
L628: ( C107 -' D29 ) = ( C107 - D29 ) by L575 , XREAL_1:233;
L629: D29 <= ( D29 + ( C107 -' D29 ) ) by L628 , L575;
thus L630: ( ( accum ( C98 (*) C102 ) ) . C107 ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. C107 ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) by L629 , L576 , L627 , L628;
end;
L631: ( ( C98 (*) C102 ) /. D29 ) = ( ( C98 (*) C102 ) . D29 ) by L506 , L499 , L493 , FINSEQ_4:15;
L632: ( ( C101 + 1 ) + 1 ) in ( dom D32 ) by L486 , L503 , FINSEQ_1:def 3;
L633: ( ( C98 (*) D32 ) /. ( ( C101 + 1 ) + 1 ) ) = ( ( C98 (*) D32 ) . ( ( C101 + 1 ) + 1 ) ) by L482 , L485 , L512 , FINSEQ_4:15;
L634: (for B101 being Nat holds ((( ( C101 + 1 ) + 1 ) <= B101 & B101 <= ( len C98 )) implies ( ( accum ( C98 (*) C102 ) ) . B101 ) = ( ( accum ( C98 (*) D32 ) ) . B101 )))
proof
defpred S9[ Nat ] means (( ( ( C101 + 1 ) + 1 ) + $1 ) <= ( len C98 ) implies ( ( accum ( C98 (*) C102 ) ) . ( ( ( C101 + 1 ) + 1 ) + $1 ) ) = ( ( accum ( C98 (*) D32 ) ) . ( ( ( C101 + 1 ) + 1 ) + $1 ) ));
let C109 being Nat;
assume that
L635: ( ( C101 + 1 ) + 1 ) <= C109
and
L636: C109 <= ( len C98 );
L637: (for B102 being Nat holds (S9[ B102 ] implies S9[ ( B102 + 1 ) ]))
proof
let C110 being Nat;
assume L638: S9[ C110 ];
L639: (( ( ( C101 + 1 ) + 1 ) + ( C110 + 1 ) ) <= ( len C98 ) implies ( ( accum ( C98 (*) C102 ) ) . ( ( ( C101 + 1 ) + 1 ) + ( C110 + 1 ) ) ) = ( ( accum ( C98 (*) D32 ) ) . ( ( ( C101 + 1 ) + 1 ) + ( C110 + 1 ) ) ))
proof
L640: ( ( C101 + 1 ) + 1 ) <= ( ( ( C101 + 1 ) + 1 ) + C110 ) by NAT_1:11;
L641: ( ( ( C101 + 1 ) + 1 ) + C110 ) < ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) by XREAL_1:29;
L642: ( ( C101 + 1 ) + 1 ) < ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) by L641 , L640 , XXREAL_0:2;
assume L643: ( ( ( C101 + 1 ) + 1 ) + ( C110 + 1 ) ) <= ( len C98 );
L644: ( ( C98 (*) D32 ) /. ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) = ( ( C98 (*) D32 ) . ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) by L643 , L512 , FINSEQ_4:15 , NAT_1:11;
L645: 1 <= ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) by NAT_1:11;
L646: ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) in ( Seg ( len ( C98 (*) C102 ) ) ) by L645 , L492 , L643 , FINSEQ_1:1;
L647: ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) in ( dom ( C98 (*) C102 ) ) by L646 , FINSEQ_1:def 3;
L648: ( ( C98 (*) D32 ) . ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) = ( C98 . ( D32 . ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) ) by L647 , L510 , L490 , FUNCT_1:12
.= ( C98 . ( D30 /. ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) ) by L496 , L501 , L643 , FINSEQ_4:15 , NAT_1:11
.= ( C98 . ( D28 /. ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) ) by L496 , L537 , L643 , L642 , FINSEQ_7:30 , NAT_1:11
.= ( C98 . ( D28 . ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) ) by L496 , L643 , FINSEQ_4:15 , NAT_1:11
.= ( ( C98 (*) C102 ) . ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) by L647 , FUNCT_1:12;
L649: 1 <= ( ( C101 + 1 ) + 1 ) by NAT_1:11;
L650: 1 <= ( ( ( C101 + 1 ) + 1 ) + C110 ) by L649 , L640 , XXREAL_0:2;
L651: ( ( ( C101 + 1 ) + 1 ) + C110 ) < ( len C98 ) by L643 , L641 , XXREAL_0:2;
L652: ( ( accum ( C98 (*) D32 ) ) /. ( ( ( C101 + 1 ) + 1 ) + C110 ) ) = ( ( accum ( C98 (*) D32 ) ) . ( ( ( C101 + 1 ) + 1 ) + C110 ) ) by L651 , L512 , L517 , L650 , FINSEQ_4:15;
L653: ( ( accum ( C98 (*) C102 ) ) . ( ( ( C101 + 1 ) + 1 ) + ( C110 + 1 ) ) ) = ( ( ( accum ( C98 (*) C102 ) ) /. ( ( ( C101 + 1 ) + 1 ) + C110 ) ) + ( ( C98 (*) C102 ) /. ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) ) by L493 , L651 , L650 , L360
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( ( ( C101 + 1 ) + 1 ) + C110 ) ) + ( ( C98 (*) C102 ) /. ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) ) by L493 , L536 , L638 , L651 , L650 , L652 , FINSEQ_4:15
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( ( ( C101 + 1 ) + 1 ) + C110 ) ) + ( ( C98 (*) D32 ) /. ( ( ( ( C101 + 1 ) + 1 ) + C110 ) + 1 ) ) ) by L493 , L643 , L648 , L644 , FINSEQ_4:15 , NAT_1:11;
thus L654: ( ( accum ( C98 (*) C102 ) ) . ( ( ( C101 + 1 ) + 1 ) + ( C110 + 1 ) ) ) = ( ( accum ( C98 (*) D32 ) ) . ( ( ( C101 + 1 ) + 1 ) + ( C110 + 1 ) ) ) by L653 , L512 , L651 , L650 , L360;
end;
thus L655: S9[ ( C110 + 1 ) ] by L639;
end;
L656: ( len ( accum ( C98 (*) C102 ) ) ) = ( len ( C98 (*) C102 ) ) by L360;
L657: ( ( accum ( C98 (*) C102 ) ) . ( C101 + 1 ) ) = ( ( ( ( accum ( C98 (*) D32 ) ) /. ( C101 + 1 ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) by L479 , L513 , L574;
L658: 1 <= ( C101 + 1 ) by NAT_1:11;
L659: ( C101 + 1 ) < ( len ( C98 (*) C102 ) ) by L480 , L491 , FINSEQ_1:def 3;
L660: ( ( accum ( C98 (*) C102 ) ) . ( ( C101 + 1 ) + 1 ) ) = ( ( ( accum ( C98 (*) C102 ) ) /. ( C101 + 1 ) ) + ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) by L659 , L658 , L360
.= ( ( ( ( ( accum ( C98 (*) D32 ) ) /. ( C101 + 1 ) ) - ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) + ( ( C98 (*) C102 ) /. D29 ) ) + ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) by L480 , L493 , L656 , L657 , FINSEQ_4:15 , NAT_1:11
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( C101 + 1 ) ) + ( ( C98 (*) C102 ) /. D29 ) ) by L27
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( C101 + 1 ) ) + ( ( C98 (*) D32 ) /. ( ( C101 + 1 ) + 1 ) ) ) by L632 , L520 , L516 , L633 , L631 , FUNCT_1:13;
L661: S9[ ( 0 ) ] by L660 , L480 , L478 , L512 , L360;
L662: (for B103 being Nat holds S9[ B103 ]) from NAT_1:sch 2(L661 , L637);
L663: ( ( ( C101 + 1 ) + 1 ) + ( C109 -' ( ( C101 + 1 ) + 1 ) ) ) = ( ( C109 - ( ( C101 + 1 ) + 1 ) ) + ( ( C101 + 1 ) + 1 ) ) by L635 , XREAL_1:233
.= C109;
thus L664: ( ( accum ( C98 (*) C102 ) ) . C109 ) = ( ( accum ( C98 (*) D32 ) ) . C109 ) by L663 , L636 , L662;
end;
L665: ( D27 /. ( C101 + 1 ) ) = ( D27 . ( C101 + 1 ) ) by L467 , L480 , FINSEQ_4:15 , NAT_1:11;
L666: ( dom D32 ) = ( dom C98 ) by L462 , FUNCT_2:def 1;
L667: ( rng D32 ) c= ( dom C98 );
L668: ( dom ( C98 (*) D32 ) ) = ( dom D32 ) by L667 , RELAT_1:27;
L669: ( Seg ( len ( C98 (*) D32 ) ) ) = ( dom D32 ) by L668 , FINSEQ_1:def 3;
L670: ( C101 + 1 ) < ( len ( C98 (*) D32 ) ) by L669 , L480 , L666 , FINSEQ_1:def 3;
L671: ( Seg ( len ( C98 (*) D32 ) ) ) = ( dom C98 ) by L666 , L668 , FINSEQ_1:def 3;
L672: ( len ( C98 (*) D32 ) ) = ( len C98 ) by L671 , FINSEQ_1:def 3;
L673: ( ( C98 (*) D32 ) /. ( ( C101 + 1 ) + 1 ) ) = ( ( C98 (*) D32 ) . ( ( C101 + 1 ) + 1 ) ) by L672 , L482 , L485 , FINSEQ_4:15;
L674: ( len ( accum ( C98 (*) D32 ) ) ) = ( len ( C98 (*) D32 ) ) by L360;
L675: ( ( accum ( C98 (*) D32 ) ) /. ( C101 + 1 ) ) = ( ( accum ( C98 (*) D32 ) ) . ( C101 + 1 ) ) by L674 , L670 , FINSEQ_4:15 , NAT_1:11;
L676: ( D27 . ( ( C101 + 1 ) + 1 ) ) = ( ( D27 /. ( C101 + 1 ) ) + ( C98 /. ( ( C101 + 1 ) + 1 ) ) ) by L468 , L480 , NAT_1:11
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( C101 + 1 ) ) + ( C98 /. ( ( C101 + 1 ) + 1 ) ) ) by L476 , L484 , L521 , L675 , L665
.= ( ( ( accum ( C98 (*) D32 ) ) /. ( C101 + 1 ) ) + ( ( C98 (*) D32 ) /. ( ( C101 + 1 ) + 1 ) ) ) by L632 , L520 , L673 , L534 , FUNCT_1:13
.= ( ( accum ( C98 (*) D32 ) ) . ( ( C101 + 1 ) + 1 ) ) by L535 , L670 , L360;
thus L677: ( D27 . ( ( C101 + 1 ) + 1 ) ) = ( ( accum ( C98 (*) C102 ) ) . ( ( C101 + 1 ) + 1 ) ) by L676 , L482 , L634;
end;
suppose L678: D29 > ( C101 + 1 );

L679: ( ( C101 + 1 ) + 1 ) <= D29 by L678 , NAT_1:13;
per cases  by L679 , XXREAL_0:1;
suppose L680: ( ( C101 + 1 ) + 1 ) = D29;

L681: (for B104 being Nat holds ((( C101 + 1 ) < B104 & B104 <= ( len C98 )) implies ( C102 . B104 ) = B104))
proof
let C111 being Nat;
assume that
L682: ( C101 + 1 ) < C111
and
L683: C111 <= ( len C98 );
L684: ( ( C101 + 1 ) + 1 ) <= C111 by L682 , NAT_1:13;
per cases  by L684 , XXREAL_0:1;
suppose L685: ( ( C101 + 1 ) + 1 ) < C111;

thus L686: ( C102 . C111 ) = C111 by L685 , L481 , L683;
end;
suppose L687: ( ( C101 + 1 ) + 1 ) = C111;

thus L688: ( C102 . C111 ) = C111 by L687 , L498 , L680;
end;
end;
L690: ( C101 + 1 ) < ( len ( C98 (*) C102 ) ) by L480 , L491 , FINSEQ_1:def 3;
L691: ( len ( accum ( C98 (*) C102 ) ) ) = ( len ( C98 (*) C102 ) ) by L360;
L692: ( ( accum ( C98 (*) C102 ) ) /. ( C101 + 1 ) ) = ( ( accum ( C98 (*) C102 ) ) . ( C101 + 1 ) ) by L691 , L480 , L493 , FINSEQ_4:15 , NAT_1:11;
L693: 1 <= ( C101 + 1 ) by NAT_1:11;
L694: ( C98 . ( ( C101 + 1 ) + 1 ) ) = ( ( C98 (*) C102 ) . D29 ) by L497 , L498 , FUNCT_1:13;
L695: ( D27 /. ( C101 + 1 ) ) = ( D27 . ( C101 + 1 ) ) by L467 , L480 , FINSEQ_4:15 , NAT_1:11;
L696: ( C98 /. ( ( C101 + 1 ) + 1 ) ) = ( C98 . ( ( C101 + 1 ) + 1 ) ) by L482 , L485 , FINSEQ_4:15;
L697: ( D27 . ( ( C101 + 1 ) + 1 ) ) = ( ( D27 /. ( C101 + 1 ) ) + ( C98 /. ( ( C101 + 1 ) + 1 ) ) ) by L468 , L480 , NAT_1:11
.= ( ( ( accum ( C98 (*) C102 ) ) /. ( C101 + 1 ) ) + ( C98 /. ( ( C101 + 1 ) + 1 ) ) ) by L476 , L484 , L681 , L692 , L695
.= ( ( ( accum ( C98 (*) C102 ) ) /. ( C101 + 1 ) ) + ( ( C98 (*) C102 ) /. ( ( C101 + 1 ) + 1 ) ) ) by L482 , L485 , L493 , L680 , L696 , L694 , FINSEQ_4:15
.= ( ( accum ( C98 (*) C102 ) ) . ( ( C101 + 1 ) + 1 ) ) by L693 , L690 , L360;
thus L698: ( D27 . ( ( C101 + 1 ) + 1 ) ) = ( ( accum ( C98 (*) C102 ) ) . ( ( C101 + 1 ) + 1 ) ) by L697;
end;
suppose L699: ( ( C101 + 1 ) + 1 ) < D29;

thus L700: ( D27 . ( ( C101 + 1 ) + 1 ) ) = ( ( accum ( C98 (*) C102 ) ) . ( ( C101 + 1 ) + 1 ) ) by L699 , L481 , L498 , L499;
end;
end;
end;
thus L703: S6[ ( C101 + 1 ) ] by L477;
end;
L704: (for B105 being (Permutation of ( dom C98 )) holds ((for B106 being Nat holds ((( ( 0 ) + 1 ) < B106 & B106 <= ( len C98 )) implies ( B105 . B106 ) = B106)) implies ( D27 . ( ( 0 ) + 1 ) ) = ( ( accum ( C98 (*) B105 ) ) . ( ( 0 ) + 1 ) )))
proof
let C112 being (Permutation of ( dom C98 ));
L705: ( rng C112 ) = ( dom C98 ) by FUNCT_2:def 3;
L706: ( dom C112 ) = ( dom C98 ) by L462 , FUNCT_2:def 1;
assume L707: (for B107 being Nat holds ((( ( 0 ) + 1 ) < B107 & B107 <= ( len C98 )) implies ( C112 . B107 ) = B107));
L708:
now
assume L709: ( C112 . 1 ) <> 1;
consider C113 being set such that L710: C113 in ( dom C112 ) and L711: ( C112 . C113 ) = 1 by L462 , L705 , FUNCT_1:def 3;
reconsider D37 = C113 as (Element of ( NAT )) by L706 , L710;
L712: 1 <= D37 by L469 , L710 , FINSEQ_1:1;
L713: (D37 = 1 or (1 < D37 & D37 <= ( len C98 ))) by L712 , L469 , L710 , FINSEQ_1:1 , XXREAL_0:1;
thus L714: contradiction by L713 , L707 , L709 , L711;
end;
L715: ( ( accum ( C98 (*) C112 ) ) . 1 ) = ( ( C98 (*) C112 ) . 1 ) by L360
.= ( C98 . 1 ) by L462 , L706 , L708 , FUNCT_1:13;
thus L716: ( D27 . ( ( 0 ) + 1 ) ) = ( ( accum ( C98 (*) C112 ) ) . ( ( 0 ) + 1 ) ) by L715 , L360;
end;
L717: S6[ ( 0 ) ] by L704;
L718: (for B108 being Nat holds S6[ B108 ]) from NAT_1:sch 2(L717 , L475);
L719: ( D27 . ( len C98 ) ) = ( ( accum ( C98 (*) C100 ) ) . ( len C98 ) ) by L718 , L472 , L473 , XREAL_1:44
.= ( ( accum C99 ) . ( len C99 ) ) by L458 , L466 , FINSEQ_1:def 3
.= ( Sum C99 ) by L471 , L444;
thus L720: ( Sum C99 ) = ( Sum C98 ) by L719 , L459 , L444;
end;
suppose L721: ( len C98 ) <= ( 0 );

L722: ( rng C100 ) c= ( dom C98 );
L723: ( dom ( C98 (*) C100 ) ) = ( dom C100 ) by L722 , RELAT_1:27;
L724: ( Seg ( len C98 ) ) = ( {} ) by L721;
L725: ( dom C98 ) = ( {} ) by L724 , FINSEQ_1:def 3;
L726: ( Seg ( len C98 ) ) = ( dom C99 ) by L725 , L458 , L723 , FINSEQ_1:def 3;
L727: ( len C98 ) = ( len C99 ) by L726 , FINSEQ_1:def 3;
L728: ( Sum C98 ) = ( 0* R4 ) by L721 , L444;
thus L729: ( Sum C99 ) = ( Sum C98 ) by L728 , L721 , L727 , L444;
end;
end;
theorem
L731: (for R4 being Nat holds (for B109 being (Element of ( NAT )) holds ( Sum ( B109 |-> ( 0* R4 ) ) ) = ( 0* R4 )))
proof
let R4 being Nat;
let C114 being (Element of ( NAT ));
set D38 = ( C114 |-> ( 0* R4 ) );
L732: (for B110 being Nat holds (B110 in ( dom D38 ) implies ( D38 . B110 ) = ( 0* R4 )))
proof
let C115 being Nat;
assume L733: C115 in ( dom D38 );
L734: C115 in ( Seg C114 ) by L733 , FUNCOP_1:13;
thus L735: thesis by L734 , FINSEQ_2:57;
end;
per cases ;
suppose L736: ( len D38 ) > ( 0 );

set D39 = ( accum D38 );
L737: ( len D38 ) = ( len D39 ) by L360;
L738: ( D38 . 1 ) = ( D39 . 1 ) by L360;
defpred S10[ Nat ] means ($1 < ( len D38 ) implies ( D39 . ( $1 + 1 ) ) = ( 0* R4 ));
L739: (for B111 being Nat holds (S10[ B111 ] implies S10[ ( B111 + 1 ) ]))
proof
let C116 being Nat;
assume L740: S10[ C116 ];
L741: C116 < ( C116 + 1 ) by XREAL_1:29;
per cases ;
suppose L742: ( C116 + 1 ) < ( len D38 );

L743: ( ( C116 + 1 ) + 1 ) <= ( len D38 ) by L742 , NAT_1:13;
per cases ;
suppose L744: 1 <= ( C116 + 1 );

L745: 1 <= ( ( C116 + 1 ) + 1 ) by XREAL_1:29;
L746: ( ( C116 + 1 ) + 1 ) in ( Seg ( len D38 ) ) by L745 , L743 , FINSEQ_1:1;
L747: ( ( C116 + 1 ) + 1 ) in ( dom D38 ) by L746 , FINSEQ_1:def 3;
L748: ( D38 . ( ( C116 + 1 ) + 1 ) ) = ( 0* R4 ) by L747 , L732;
L749: ( D39 /. ( C116 + 1 ) ) = ( D39 . ( C116 + 1 ) ) by L737 , L742 , L744 , FINSEQ_4:15;
L750: ( D39 . ( ( C116 + 1 ) + 1 ) ) = ( ( D39 /. ( C116 + 1 ) ) + ( D38 /. ( ( C116 + 1 ) + 1 ) ) ) by L360 , L742 , L744;
L751: ( D39 . ( ( C116 + 1 ) + 1 ) ) = ( ( 0* R4 ) + ( 0* R4 ) ) by L750 , L740 , L741 , L742 , L743 , L749 , L745 , L748 , FINSEQ_4:15 , XXREAL_0:2
.= ( 0* R4 ) by EUCLID_4:1;
thus L752: S10[ ( C116 + 1 ) ] by L751;
end;
suppose L753: 1 > ( C116 + 1 );

thus L754: S10[ ( C116 + 1 ) ] by L753 , NAT_1:14;
end;
end;
suppose L756: ( C116 + 1 ) >= ( len D38 );

thus L757: S10[ ( C116 + 1 ) ] by L756;
end;
end;
L759: ( ( 0 ) + 1 ) <= ( len D38 ) by L736 , NAT_1:13;
L760: 1 in ( Seg ( len D38 ) ) by L759 , FINSEQ_1:1;
L761: 1 in ( dom D38 ) by L760 , FINSEQ_1:def 3;
L762: S10[ ( 0 ) ] by L761 , L732 , L738;
L763: (for B112 being Nat holds S10[ B112 ]) from NAT_1:sch 2(L762 , L739);
L764: S10[ ( ( len D39 ) -' 1 ) ] by L763;
L765: ( ( len D39 ) -' 1 ) = ( ( len D39 ) - 1 ) by L737 , L759 , XREAL_1:233;
thus L766: ( Sum D38 ) = ( 0* R4 ) by L765 , L737 , L444 , L764 , XREAL_1:44;
end;
suppose L767: ( len D38 ) <= ( 0 );

thus L768: ( Sum D38 ) = ( 0* R4 ) by L767 , L444;
end;
end;
theorem
L770: (for R4 being Nat holds (for B113 being (FinSequence of ( REAL R4 )) holds (for B114 being (FinSequence of ( NAT )) holds (for B115 being (FinSequence of ( REAL R4 )) holds ((B114 is  increasing & ( rng B114 ) c= ( dom B113 ) & B115 = ( B113 * B114 ) & (for B116 being (Element of ( NAT )) holds ((B116 in ( dom B113 ) & (not B116 in ( rng B114 ))) implies ( B113 . B116 ) = ( 0* R4 )))) implies ( Sum B113 ) = ( Sum B115 ))))))
proof
let R4 being Nat;
let C117 being (FinSequence of ( REAL R4 ));
let C118 being (FinSequence of ( NAT ));
let C119 being (FinSequence of ( REAL R4 ));
assume that
L771: C118 is  increasing
and
L772: ( rng C118 ) c= ( dom C117 )
and
L773: C119 = ( C117 * C118 )
and
L774: (for B117 being (Element of ( NAT )) holds ((B117 in ( dom C117 ) & (not B117 in ( rng C118 ))) implies ( C117 . B117 ) = ( 0* R4 )));
L775: ( dom ( (C118 qua Relation) * (C117 qua Relation) ) ) = ( dom C118 ) by L772 , RELAT_1:27;
L776: ( dom ( C117 * C118 ) ) = ( dom C118 ) by L772 , RELAT_1:27;
L777: ( dom C119 ) = ( Seg ( len C118 ) ) by L776 , L773 , FINSEQ_1:def 3;
L778: ( len C119 ) = ( len C118 ) by L777 , FINSEQ_1:def 3;
L779: ( dom C118 ) c= ( dom C117 )
proof
let C120 being set;
assume L780: C120 in ( dom C118 );
reconsider D40 = C120 as (Element of ( NAT )) by L780;
L781: ( C118 . C120 ) in ( rng C118 ) by L780 , FUNCT_1:def 3;
reconsider D41 = ( C118 . C120 ) as (Element of ( NAT )) by L781;
L782: D40 in ( Seg ( len C118 ) ) by L780 , FINSEQ_1:def 3;
L783: 1 <= D40 by L782 , FINSEQ_1:1;
L784: D40 <= ( len C118 ) by L782 , FINSEQ_1:1;
L785: 1 <= ( len C118 ) by L784 , L783 , XXREAL_0:2;
L786: 1 in ( Seg ( len C118 ) ) by L785 , FINSEQ_1:1;
L787: 1 in ( dom C118 ) by L786 , FINSEQ_1:def 3;
L788: ( C118 . 1 ) in ( rng C118 ) by L787 , FUNCT_1:def 3;
L789: ( C118 . 1 ) in ( dom C117 ) by L788 , L772;
L790: ( C118 . 1 ) in ( Seg ( len C117 ) ) by L789 , FINSEQ_1:def 3;
L791: 1 <= ( C118 . 1 ) by L790 , FINSEQ_1:1;
L792: D40 <= D41 by L791 , L771 , L784 , L106;
L793: ( C118 . C120 ) in ( dom C117 ) by L772 , L781;
L794: ( C118 . C120 ) in ( Seg ( len C117 ) ) by L793 , FINSEQ_1:def 3;
L795: D41 <= ( len C117 ) by L794 , FINSEQ_1:1;
L796: D40 <= ( len C117 ) by L795 , L792 , XXREAL_0:2;
L797: D40 in ( Seg ( len C117 ) ) by L796 , L783 , FINSEQ_1:1;
thus L798: C120 in ( dom C117 ) by L797 , FINSEQ_1:def 3;
end;
L799: ( dom C118 ) c= ( Seg ( len C117 ) ) by L779 , FINSEQ_1:def 3;
L800: ( Seg ( len C118 ) ) c= ( Seg ( len C117 ) ) by L799 , FINSEQ_1:def 3;
L801: ( len C118 ) <= ( len C117 ) by L800 , FINSEQ_1:5;
per cases ;
suppose L802: ( len C119 ) > ( 0 );

L803: ( ( 0 ) + 1 ) <= ( len C119 ) by L802 , NAT_1:13;
L804: 1 in ( Seg ( len C119 ) ) by L803 , FINSEQ_1:1;
L805: 1 in ( dom C119 ) by L804 , FINSEQ_1:def 3;
L806: 1 in ( Seg ( len C118 ) ) by L805 , L773 , L775 , FINSEQ_1:def 3;
L807: 1 <= ( len C118 ) by L806 , FINSEQ_1:1;
L808: ( len C118 ) in ( Seg ( len C118 ) ) by L807 , FINSEQ_1:1;
L809: ( len C118 ) in ( dom C118 ) by L808 , FINSEQ_1:def 3;
L810: ( C118 . ( len C118 ) ) in ( rng C118 ) by L809 , FUNCT_1:def 3;
L811: ( C118 . ( len C118 ) ) in ( dom C117 ) by L810 , L772;
L812: ( C118 . ( len C118 ) ) in ( Seg ( len C117 ) ) by L811 , FINSEQ_1:def 3;
reconsider D42 = ( C118 . 1 ) as Nat;
L813: ( dom ( (C118 qua Relation) * (C117 qua Relation) ) ) = ( dom C118 ) by L772 , RELAT_1:27;
L814: ( Seg ( len C119 ) ) = ( dom C118 ) by L813 , L773 , FINSEQ_1:def 3;
L815: ( len C119 ) = ( len C118 ) by L814 , FINSEQ_1:def 3;
L816: ( C118 . 1 ) in ( rng C118 ) by L773 , L775 , L805 , FUNCT_1:def 3;
L817: ( C118 . 1 ) in ( dom C117 ) by L816 , L772;
L818: ( C118 . 1 ) in ( Seg ( len C117 ) ) by L817 , FINSEQ_1:def 3;
L819: 1 <= ( C118 . 1 ) by L818 , FINSEQ_1:1;
L820: ( D42 -' 1 ) = ( D42 - 1 ) by L819 , XREAL_1:233;
L821: ( Seg ( len C117 ) ) <> ( {} ) by L772 , L816 , FINSEQ_1:def 3;
L822: ( 0 ) < ( len C117 ) by L821;
L823: ( ( 0 ) + 1 ) <= ( len C117 ) by L822 , NAT_1:13;
L824: ( ( len C117 ) -' 1 ) = ( ( len C117 ) - 1 ) by L823 , XREAL_1:233;
L825: ( C118 . ( len C118 ) ) <= ( ( ( len C117 ) -' 1 ) + 1 ) by L824 , L812 , FINSEQ_1:1;
L826: 1 <= D42 by L818 , FINSEQ_1:1;
set D43 = ( accum C117 );
L827: ( len C117 ) = ( len D43 ) by L360;
L828: ( C117 . 1 ) = ( D43 . 1 ) by L360;
L829: (for B118 being Nat holds ((1 <= B118 & B118 < ( len C117 )) implies ( D43 . ( B118 + 1 ) ) = ( ( D43 /. B118 ) + ( C117 /. ( B118 + 1 ) ) ))) by L360;
L830: ( Sum C117 ) = ( D43 . ( len C117 ) ) by L778 , L801 , L802 , L444;
set D44 = ( accum C119 );
L831: ( len C119 ) = ( len D44 ) by L360;
L832: ( C119 . 1 ) = ( D44 . 1 ) by L360;
L833: (for B119 being Nat holds ((1 <= B119 & B119 < ( len C119 )) implies ( D44 . ( B119 + 1 ) ) = ( ( D44 /. B119 ) + ( C119 /. ( B119 + 1 ) ) ))) by L360;
L834: ( Sum C119 ) = ( D44 . ( len C119 ) ) by L802 , L444;
defpred S11[ Nat ] means ((1 <= ( $1 + 1 ) & ( $1 + 1 ) < D42) implies ( D43 . ( $1 + 1 ) ) = ( 0* R4 ));
L835: (for B120 being Nat holds (S11[ B120 ] implies S11[ ( B120 + 1 ) ]))
proof
let C121 being Nat;
assume L836: S11[ C121 ];
L837: ((1 <= ( ( C121 + 1 ) + 1 ) & ( ( C121 + 1 ) + 1 ) < D42) implies ( D43 . ( ( C121 + 1 ) + 1 ) ) = ( 0* R4 ))
proof
assume that
L838: 1 <= ( ( C121 + 1 ) + 1 )
and
L839: ( ( C121 + 1 ) + 1 ) < D42;
per cases  by L838 , XXREAL_0:1;
suppose L840: 1 < ( ( C121 + 1 ) + 1 );

L841: D42 in ( Seg ( len C117 ) ) by L817 , FINSEQ_1:def 3;
L842: D42 <= ( len C117 ) by L841 , FINSEQ_1:1;
L843: ( ( C121 + 1 ) + 1 ) < ( len C117 ) by L842 , L839 , XXREAL_0:2;
L844: ( C117 /. ( ( C121 + 1 ) + 1 ) ) = ( C117 . ( ( C121 + 1 ) + 1 ) ) by L843 , L840 , FINSEQ_4:15;
L845:
now
assume L846: ( ( C121 + 1 ) + 1 ) in ( rng C118 );
consider C122 being set such that L847: C122 in ( dom C118 ) and L848: ( C118 . C122 ) = ( ( C121 + 1 ) + 1 ) by L846 , FUNCT_1:def 3;
reconsider D45 = C122 as (Element of ( NAT )) by L847;
L849: C122 in ( Seg ( len C118 ) ) by L847 , FINSEQ_1:def 3;
L850: D45 <= ( len C118 ) by L849 , FINSEQ_1:1;
L851: 1 <= D45 by L849 , FINSEQ_1:1;
thus L852: contradiction by L851 , L771 , L839 , L848 , L850 , L99;
end;
L853: ( C121 + 1 ) < ( ( C121 + 1 ) + 1 ) by XREAL_1:29;
L854: ( C121 + 1 ) < D42 by L853 , L839 , XXREAL_0:2;
L855: ( C121 + 1 ) < ( len C117 ) by L854 , L842 , XXREAL_0:2;
L856: ( D43 /. ( C121 + 1 ) ) = ( D43 . ( C121 + 1 ) ) by L855 , L827 , FINSEQ_4:15 , NAT_1:11;
L857: ( ( C121 + 1 ) + 1 ) <= ( len C117 ) by L855 , NAT_1:13;
L858: ( ( C121 + 1 ) + 1 ) in ( Seg ( len C117 ) ) by L857 , L838 , FINSEQ_1:1;
L859: ( ( C121 + 1 ) + 1 ) in ( dom C117 ) by L858 , FINSEQ_1:def 3;
L860: ( C117 . ( ( C121 + 1 ) + 1 ) ) = ( 0* R4 ) by L859 , L774 , L845;
L861: ( D43 . ( ( C121 + 1 ) + 1 ) ) = ( ( D43 /. ( C121 + 1 ) ) + ( C117 /. ( ( C121 + 1 ) + 1 ) ) ) by L829 , L855 , NAT_1:11;
thus L862: ( D43 . ( ( C121 + 1 ) + 1 ) ) = ( 0* R4 ) by L861 , L836 , L839 , L853 , L860 , L856 , L844 , EUCLID_4:1 , NAT_1:11 , XXREAL_0:2;
end;
suppose L863: 1 = ( ( C121 + 1 ) + 1 );

thus L864: ( D43 . ( ( C121 + 1 ) + 1 ) ) = ( 0* R4 ) by L863;
end;
end;
thus L866: S11[ ( C121 + 1 ) ] by L837;
end;
defpred S12[ Nat ] means ((1 <= ( $1 + 1 ) & ( $1 + 1 ) <= ( len D44 )) implies ( D43 . ( C118 . ( $1 + 1 ) ) ) = ( D44 . ( $1 + 1 ) ));
L867: 1 in ( Seg ( len C117 ) ) by L823 , FINSEQ_1:1;
L868: (1 < D42 implies (1 in ( dom C117 ) & (not 1 in ( rng C118 ))))
proof
assume L869: 1 < D42;
thus L870: 1 in ( dom C117 ) by L867 , FINSEQ_1:def 3;
thus L871:now
assume L872: 1 in ( rng C118 );
consider C123 being set such that L873: C123 in ( dom C118 ) and L874: ( C118 . C123 ) = 1 by L872 , FUNCT_1:def 3;
reconsider D46 = C123 as (Element of ( NAT )) by L873;
L875: C123 in ( Seg ( len C118 ) ) by L873 , FINSEQ_1:def 3;
L876: D46 <= ( len C118 ) by L875 , FINSEQ_1:1;
L877: 1 <= D46 by L875 , FINSEQ_1:1;
thus L878: contradiction by L877 , L771 , L869 , L874 , L876 , L99;
end;
end;
L872: S11[ ( 0 ) ] by L868 , L774 , L828;
L873: (for B121 being Nat holds S11[ B121 ]) from NAT_1:sch 2(L872 , L835);
L874:
now
per cases  by L819 , XXREAL_0:1;
case L875: 1 < D42;
L876: ( 1 + 1 ) <= D42 by L875 , NAT_1:13;
L877: ( ( 1 + 1 ) - 1 ) <= ( D42 - 1 ) by L876 , XREAL_1:9;
L878: 1 <= ( D42 -' 1 ) by L877 , L826 , XREAL_1:233;
L879: ( ( ( D42 -' 1 ) -' 1 ) + 1 ) = ( ( ( D42 -' 1 ) - 1 ) + 1 ) by L878 , XREAL_1:233
.= ( D42 -' 1 );
L880: ( C117 . D42 ) = ( D44 . 1 ) by L773 , L775 , L832 , L805 , FUNCT_1:13;
L881: S11[ ( ( D42 -' 1 ) -' 1 ) ] by L873;
L882: D42 in ( Seg ( len C117 ) ) by L817 , FINSEQ_1:def 3;
L883: D42 <= ( len C117 ) by L882 , FINSEQ_1:1;
L884: 1 <= D42 by L882 , FINSEQ_1:1;
L885: ( C117 /. D42 ) = ( C117 . D42 ) by L884 , L883 , FINSEQ_4:15;
L886: ( D44 /. 1 ) = ( D44 . 1 ) by L831 , L803 , FINSEQ_4:15;
L887: ( D42 -' 1 ) < ( ( D42 -' 1 ) + 1 ) by XREAL_1:29;
L888: ( D42 -' 1 ) < ( len C117 ) by L887 , L820 , L883 , XXREAL_0:2;
L889: ( D43 /. ( D42 -' 1 ) ) = ( D43 . ( D42 -' 1 ) ) by L888 , L827 , L820 , L877 , FINSEQ_4:15;
L890: ( D43 . D42 ) = ( ( 0* R4 ) + ( D44 /. 1 ) ) by L889 , L360 , L820 , L877 , L887 , L888 , L881 , L879 , L885 , L886 , L880
.= ( D44 /. 1 ) by EUCLID_4:1;
thus L891: S12[ ( 0 ) ] by L890 , FINSEQ_4:15;
end;
case L892: D42 = 1;
thus L893: S12[ ( 0 ) ] by L892 , L773 , L775 , L832 , L828 , L805 , FUNCT_1:13;
end;
end;
L895: (for B122 being Nat holds (S12[ B122 ] implies S12[ ( B122 + 1 ) ]))
proof
let C124 being Nat;
assume L896: S12[ C124 ];
L897: ((1 <= ( ( C124 + 1 ) + 1 ) & ( ( C124 + 1 ) + 1 ) <= ( len D44 )) implies ( D43 . ( C118 . ( ( C124 + 1 ) + 1 ) ) ) = ( D44 . ( ( C124 + 1 ) + 1 ) ))
proof
defpred S13[ Nat ] means ((( C118 . ( C124 + 1 ) ) <= ( $1 + 1 ) & ( $1 + 1 ) < ( C118 . ( ( C124 + 1 ) + 1 ) )) implies ( D43 . ( $1 + 1 ) ) = ( D44 . ( C124 + 1 ) ));
assume that
L898: 1 <= ( ( C124 + 1 ) + 1 )
and
L899: ( ( C124 + 1 ) + 1 ) <= ( len D44 );
L900: ( ( C124 + 1 ) + 1 ) in ( Seg ( len D44 ) ) by L898 , L899 , FINSEQ_1:1;
L901: ( C118 . ( ( C124 + 1 ) + 1 ) ) in ( rng C118 ) by L900 , L831 , L814 , FUNCT_1:def 3;
L902: ( C118 . ( ( C124 + 1 ) + 1 ) ) in ( dom C117 ) by L901 , L772;
L903: ( C118 . ( ( C124 + 1 ) + 1 ) ) in ( Seg ( len C117 ) ) by L902 , FINSEQ_1:def 3;
L904: 1 <= ( C118 . ( ( C124 + 1 ) + 1 ) ) by L903 , FINSEQ_1:1;
L905: ( C124 + 1 ) < ( ( C124 + 1 ) + 1 ) by XREAL_1:29;
L906: ( C124 + 1 ) < ( len D44 ) by L905 , L899 , XXREAL_0:2;
L907:
now
per cases ;
case L908: 1 <= C124;
L909: C124 < ( C124 + 1 ) by XREAL_1:29;
L910: C124 < ( len C118 ) by L909 , L831 , L815 , L906 , XXREAL_0:2;
L911: C124 <= ( C118 . C124 ) by L910 , L771 , L819 , L106;
L912: 1 <= ( C118 . C124 ) by L911 , L908 , XXREAL_0:2;
L913: ( C118 . C124 ) < ( C118 . ( C124 + 1 ) ) by L771 , L908 , L910 , L44;
thus L914: S13[ ( 0 ) ] by L913 , L912 , XXREAL_0:2;
end;
case L915: C124 < 1;
thus L916: S13[ ( 0 ) ] by L915 , L802 , L831 , L874 , NAT_1:14;
end;
end;
L918: S13[ ( 0 ) ] by L907;
L919: ( C118 . ( ( C124 + 1 ) + 1 ) ) <= ( len C117 ) by L903 , FINSEQ_1:1;
L920: 1 <= ( C124 + 1 ) by NAT_1:11;
L921: ( C118 . ( C124 + 1 ) ) < ( C118 . ( ( C124 + 1 ) + 1 ) ) by L920 , L771 , L831 , L815 , L906 , L44;
L922: (for B123 being Nat holds (S13[ B123 ] implies S13[ ( B123 + 1 ) ]))
proof
let C125 being Nat;
assume L923: S13[ C125 ];
L924: ((( C118 . ( C124 + 1 ) ) <= ( ( C125 + 1 ) + 1 ) & ( ( C125 + 1 ) + 1 ) < ( C118 . ( ( C124 + 1 ) + 1 ) )) implies ( D43 . ( ( C125 + 1 ) + 1 ) ) = ( D44 . ( C124 + 1 ) ))
proof
assume that
L925: ( C118 . ( C124 + 1 ) ) <= ( ( C125 + 1 ) + 1 )
and
L926: ( ( C125 + 1 ) + 1 ) < ( C118 . ( ( C124 + 1 ) + 1 ) );
per cases  by L925 , XXREAL_0:1;
suppose L927: ( C118 . ( C124 + 1 ) ) < ( ( C125 + 1 ) + 1 );

L928:
now
assume L929: ( ( C125 + 1 ) + 1 ) in ( rng C118 );
consider C126 being set such that L930: C126 in ( dom C118 ) and L931: ( C118 . C126 ) = ( ( C125 + 1 ) + 1 ) by L929 , FUNCT_1:def 3;
reconsider D47 = C126 as (Element of ( NAT )) by L930;
L932: C126 in ( Seg ( len C118 ) ) by L930 , FINSEQ_1:def 3;
L933: D47 <= ( len C118 ) by L932 , FINSEQ_1:1;
L934: (D47 >= ( ( C124 + 1 ) + 1 ) implies ( C118 . D47 ) >= ( C118 . ( ( C124 + 1 ) + 1 ) )) by L933 , L771 , L898 , L99;
L935: 1 <= D47 by L932 , FINSEQ_1:1;
L936: (D47 <= ( C124 + 1 ) implies ( C118 . D47 ) <= ( C118 . ( C124 + 1 ) )) by L935 , L771 , L831 , L815 , L906 , L99;
thus L937: contradiction by L936 , L926 , L927 , L931 , L934 , NAT_1:13;
end;
L938: ( C118 . ( ( C124 + 1 ) + 1 ) ) in ( rng C118 ) by L831 , L814 , L900 , FUNCT_1:def 3;
L939: ( C118 . ( ( C124 + 1 ) + 1 ) ) in ( dom C117 ) by L938 , L772;
L940: ( C118 . ( ( C124 + 1 ) + 1 ) ) in ( Seg ( len C117 ) ) by L939 , FINSEQ_1:def 3;
L941: ( C118 . ( ( C124 + 1 ) + 1 ) ) <= ( len C117 ) by L940 , FINSEQ_1:1;
L942: ( ( C125 + 1 ) + 1 ) < ( len C117 ) by L941 , L926 , XXREAL_0:2;
L943: 1 < ( ( C125 + 1 ) + 1 ) by XREAL_1:29;
L944: ( C117 /. ( ( C125 + 1 ) + 1 ) ) = ( C117 . ( ( C125 + 1 ) + 1 ) ) by L943 , L942 , FINSEQ_4:15;
L945: ( C125 + 1 ) < ( ( C125 + 1 ) + 1 ) by XREAL_1:29;
L946: ( C125 + 1 ) < ( len C117 ) by L945 , L942 , XXREAL_0:2;
L947: ( ( C125 + 1 ) + 1 ) in ( Seg ( len C117 ) ) by L942 , L943 , FINSEQ_1:1;
L948: ( ( C125 + 1 ) + 1 ) in ( dom C117 ) by L947 , FINSEQ_1:def 3;
L949: ( C117 . ( ( C125 + 1 ) + 1 ) ) = ( 0* R4 ) by L948 , L774 , L928;
L950: ( C125 + 1 ) < ( len C117 ) by L945 , L942 , XXREAL_0:2;
L951: ( D43 . ( ( C125 + 1 ) + 1 ) ) = ( ( D43 /. ( C125 + 1 ) ) + ( C117 /. ( ( C125 + 1 ) + 1 ) ) ) by L950 , L829 , NAT_1:11
.= ( D43 /. ( C125 + 1 ) ) by L949 , L944 , EUCLID_4:1
.= ( D43 . ( C125 + 1 ) ) by L827 , L946 , FINSEQ_4:15 , NAT_1:11;
thus L952: ( D43 . ( ( C125 + 1 ) + 1 ) ) = ( D44 . ( C124 + 1 ) ) by L951 , L923 , L926 , L927 , NAT_1:13;
end;
suppose L953: ( C118 . ( C124 + 1 ) ) = ( ( C125 + 1 ) + 1 );

thus L954: ( D43 . ( ( C125 + 1 ) + 1 ) ) = ( D44 . ( C124 + 1 ) ) by L953 , L896 , L899 , L905 , NAT_1:11 , XXREAL_0:2;
end;
end;
thus L956: S13[ ( C125 + 1 ) ] by L924;
end;
L957: (for B124 being Nat holds S13[ B124 ]) from NAT_1:sch 2(L918 , L922);
L958: ((( C118 . ( C124 + 1 ) ) <= ( ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) -' 1 ) + 1 ) & ( ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) -' 1 ) + 1 ) < ( C118 . ( ( C124 + 1 ) + 1 ) )) implies ( D43 . ( ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) -' 1 ) + 1 ) ) = ( D44 . ( C124 + 1 ) )) by L957;
L959:
now
per cases ;
case L960: 1 <= C124;
L961: C124 < ( C124 + 1 ) by XREAL_1:29;
L962: C124 < ( len C118 ) by L961 , L831 , L815 , L906 , XXREAL_0:2;
L963: C124 <= ( C118 . C124 ) by L962 , L771 , L819 , L106;
L964: 1 <= ( C118 . C124 ) by L963 , L960 , XXREAL_0:2;
L965: ( 1 + ( C118 . ( C124 + 1 ) ) ) <= ( C118 . ( ( C124 + 1 ) + 1 ) ) by L921 , NAT_1:13;
L966: ( ( ( C118 . ( C124 + 1 ) ) + 1 ) - 1 ) <= ( ( C118 . ( ( C124 + 1 ) + 1 ) ) - 1 ) by L965 , XREAL_1:9;
L967: ( C118 . C124 ) < ( C118 . ( C124 + 1 ) ) by L771 , L960 , L962 , L44;
L968: 1 < ( C118 . ( C124 + 1 ) ) by L967 , L964 , XXREAL_0:2;
L969: ( 1 + 1 ) < ( ( C118 . ( C124 + 1 ) ) + 1 ) by L968 , XREAL_1:6;
L970: ( 1 + 1 ) < ( C118 . ( ( C124 + 1 ) + 1 ) ) by L969 , L965 , XXREAL_0:2;
L971: ( ( 1 + 1 ) - 1 ) < ( ( C118 . ( ( C124 + 1 ) + 1 ) ) - 1 ) by L970 , XREAL_1:9;
L972: ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) = ( ( C118 . ( ( C124 + 1 ) + 1 ) ) - 1 ) by L971 , XREAL_0:def 2;
L973: ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) -' 1 ) = ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) - 1 ) - 1 ) by L972 , L971 , XREAL_1:233;
L974: ( C117 /. ( C118 . ( ( C124 + 1 ) + 1 ) ) ) = ( C117 . ( C118 . ( ( C124 + 1 ) + 1 ) ) ) by L904 , L919 , FINSEQ_4:15;
L975: ( C119 . ( ( C124 + 1 ) + 1 ) ) = ( C117 . ( C118 . ( ( C124 + 1 ) + 1 ) ) ) by L773 , L831 , L814 , L900 , FUNCT_1:13;
L976: ( C124 + 1 ) <= ( len D44 ) by L899 , L905 , XXREAL_0:2;
L977: ( C118 . ( ( C124 + 1 ) + 1 ) ) < ( ( C118 . ( ( C124 + 1 ) + 1 ) ) + 1 ) by XREAL_1:29;
L978: ( ( C118 . ( ( C124 + 1 ) + 1 ) ) - 1 ) < ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) + 1 ) - 1 ) by L977 , XREAL_1:9;
L979: ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) < ( len C117 ) by L978 , L919 , L972 , XXREAL_0:2;
L980: ( D43 /. ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) ) = ( D43 . ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) ) by L979 , L827 , L971 , L972 , FINSEQ_4:15;
L981: ( D44 . ( ( C124 + 1 ) + 1 ) ) = ( ( D44 /. ( C124 + 1 ) ) + ( C119 /. ( ( C124 + 1 ) + 1 ) ) ) by L831 , L833 , L906 , NAT_1:11
.= ( ( D43 /. ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) ) + ( C119 /. ( ( C124 + 1 ) + 1 ) ) ) by L958 , L972 , L973 , L966 , L978 , L980 , L976 , FINSEQ_4:15 , NAT_1:11
.= ( ( D43 /. ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) ) + ( C117 /. ( C118 . ( ( C124 + 1 ) + 1 ) ) ) ) by L831 , L898 , L899 , L975 , L974 , FINSEQ_4:15
.= ( D43 . ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) + 1 ) ) by L360 , L971 , L972 , L979;
thus L982: ( D43 . ( C118 . ( ( C124 + 1 ) + 1 ) ) ) = ( D44 . ( ( C124 + 1 ) + 1 ) ) by L981 , L972;
end;
case L983: C124 < 1;
L984: C124 = ( 0 ) by L983 , NAT_1:14;
L985: 1 < ( len C118 ) by L984 , L831 , L815 , L899 , NAT_1:13;
L986: ( C118 . 1 ) < ( C118 . ( 1 + 1 ) ) by L985 , L771 , L44;
L987: ( ( C118 . ( 1 + 1 ) ) -' 1 ) = ( ( C118 . ( 1 + 1 ) ) - 1 ) by L986 , L826 , XREAL_1:233 , XXREAL_0:2;
L988: ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) + 1 ) = ( C118 . ( ( C124 + 1 ) + 1 ) ) by L987 , L984;
L989: ( C119 /. 1 ) = ( C119 . 1 ) by L807 , L815 , FINSEQ_4:15;
L990: ( C124 + 1 ) < ( len C119 ) by L831 , L899 , NAT_1:13;
L991: ( D44 . ( ( C124 + 1 ) + 1 ) ) = ( ( D44 /. ( C124 + 1 ) ) + ( C119 /. ( ( C124 + 1 ) + 1 ) ) ) by L990 , L833 , NAT_1:11
.= ( ( C119 /. 1 ) + ( C119 /. ( 1 + 1 ) ) ) by L831 , L832 , L807 , L815 , L984 , L989 , FINSEQ_4:15;
L992: ( C119 /. ( 1 + 1 ) ) = ( C119 . ( 1 + 1 ) ) by L831 , L899 , L984 , FINSEQ_4:15;
L993: ( ( C118 . 1 ) + 1 ) <= ( C118 . ( 1 + 1 ) ) by L986 , NAT_1:13;
L994: ( ( ( C118 . 1 ) + 1 ) - 1 ) <= ( ( C118 . ( 1 + 1 ) ) - 1 ) by L993 , XREAL_1:9;
L995: ( C118 . 1 ) <= ( ( C118 . ( 1 + 1 ) ) -' 1 ) by L994 , L819 , L986 , XREAL_1:233 , XXREAL_0:2;
L996: ( C118 . ( 1 + 1 ) ) < ( ( C118 . ( 1 + 1 ) ) + 1 ) by XREAL_1:29;
L997: ( ( C118 . ( 1 + 1 ) ) - 1 ) < ( ( ( C118 . ( 1 + 1 ) ) + 1 ) - 1 ) by L996 , XREAL_1:9;
L998: ( ( C118 . ( 1 + 1 ) ) -' 1 ) < ( C118 . ( 1 + 1 ) ) by L997 , L819 , L986 , XREAL_1:233 , XXREAL_0:2;
L999: 1 < ( C118 . ( 1 + 1 ) ) by L819 , L986 , XXREAL_0:2;
L1000: ( 1 + 1 ) <= ( C118 . ( 1 + 1 ) ) by L999 , NAT_1:13;
L1001: ( ( 1 + 1 ) - 1 ) <= ( ( C118 . ( 1 + 1 ) ) - 1 ) by L1000 , XREAL_1:9;
L1002: ( ( ( C118 . ( 1 + 1 ) ) -' 1 ) -' 1 ) = ( ( ( C118 . ( 1 + 1 ) ) -' 1 ) - 1 ) by L1001 , L987 , XREAL_1:233;
L1003: ( ( ( ( C118 . ( 1 + 1 ) ) -' 1 ) -' 1 ) + 1 ) = ( ( C118 . ( 1 + 1 ) ) -' 1 ) by L1002;
L1004: ( 1 + 1 ) in ( Seg ( len C118 ) ) by L831 , L815 , L899 , L984 , FINSEQ_1:1;
L1005: ( 1 + 1 ) in ( dom C118 ) by L1004 , FINSEQ_1:def 3;
L1006: ( C118 . ( 1 + 1 ) ) in ( rng C118 ) by L1005 , FUNCT_1:def 3;
L1007: ( C118 . ( 1 + 1 ) ) in ( dom C117 ) by L1006 , L772;
L1008: ( C118 . ( 1 + 1 ) ) in ( Seg ( len C117 ) ) by L1007 , FINSEQ_1:def 3;
L1009: ( C118 . ( 1 + 1 ) ) <= ( len C117 ) by L1008 , FINSEQ_1:1;
L1010: ( C117 /. ( C118 . ( ( C124 + 1 ) + 1 ) ) ) = ( C117 . ( C118 . ( 1 + 1 ) ) ) by L1009 , L984 , L999 , FINSEQ_4:15
.= ( C119 . ( 1 + 1 ) ) by L773 , L831 , L814 , L900 , L984 , FUNCT_1:13;
L1011: ( C118 . ( 1 + 1 ) ) <= ( len C117 ) by L1008 , FINSEQ_1:1;
L1012: ( ( C118 . ( 1 + 1 ) ) -' 1 ) < ( len D43 ) by L1011 , L827 , L987 , L997 , XXREAL_0:2;
L1013: ( D43 /. ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) ) = ( D43 . ( ( C118 . ( 1 + 1 ) ) -' 1 ) ) by L1012 , L984 , L987 , L1001 , FINSEQ_4:15
.= ( C119 . 1 ) by L832 , L957 , L984 , L1003 , L998 , L995;
L1014: ( C118 . ( 1 + 1 ) ) <= ( len C117 ) by L1008 , FINSEQ_1:1;
L1015: ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) < ( len C117 ) by L1014 , L984 , L988 , NAT_1:13;
L1016: 1 <= ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) by L984 , L999 , L988 , NAT_1:13;
L1017: ( D43 . ( ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) + 1 ) ) = ( ( D43 /. ( ( C118 . ( ( C124 + 1 ) + 1 ) ) -' 1 ) ) + ( C117 /. ( C118 . ( ( C124 + 1 ) + 1 ) ) ) ) by L1016 , L360 , L984 , L987 , L1015
.= ( ( C119 /. 1 ) + ( C119 /. ( 1 + 1 ) ) ) by L807 , L815 , L992 , L1013 , L1010 , FINSEQ_4:15;
thus L1018: ( D43 . ( C118 . ( ( C124 + 1 ) + 1 ) ) ) = ( D44 . ( ( C124 + 1 ) + 1 ) ) by L1017 , L984 , L987 , L991;
end;
end;
thus L1020: ( D43 . ( C118 . ( ( C124 + 1 ) + 1 ) ) ) = ( D44 . ( ( C124 + 1 ) + 1 ) ) by L959;
end;
thus L1021: S12[ ( C124 + 1 ) ] by L897;
end;
defpred S14[ Nat ] means ((( C118 . ( len C118 ) ) <= ( $1 + 1 ) & ( $1 + 1 ) <= ( len C117 )) implies ( D43 . ( $1 + 1 ) ) = ( D44 . ( len D44 ) ));
L1022: S12[ ( 0 ) ] by L874;
L1023: (for B125 being Nat holds S12[ B125 ]) from NAT_1:sch 2(L1022 , L895);
L1024: (for B126 being Nat holds (S14[ B126 ] implies S14[ ( B126 + 1 ) ]))
proof
let C127 being Nat;
assume L1025: S14[ C127 ];
L1026: ((( C118 . ( len C118 ) ) <= ( ( C127 + 1 ) + 1 ) & ( ( C127 + 1 ) + 1 ) <= ( len C117 )) implies ( D43 . ( ( C127 + 1 ) + 1 ) ) = ( D44 . ( len D44 ) ))
proof
assume that
L1027: ( C118 . ( len C118 ) ) <= ( ( C127 + 1 ) + 1 )
and
L1028: ( ( C127 + 1 ) + 1 ) <= ( len C117 );
per cases  by L1027 , XXREAL_0:1;
suppose L1029: ( C118 . ( len C118 ) ) < ( ( C127 + 1 ) + 1 );

L1030:
now
assume L1031: ( ( C127 + 1 ) + 1 ) in ( rng C118 );
consider C128 being set such that L1032: C128 in ( dom C118 ) and L1033: ( C118 . C128 ) = ( ( C127 + 1 ) + 1 ) by L1031 , FUNCT_1:def 3;
reconsider D48 = C128 as (Element of ( NAT )) by L1032;
L1034: C128 in ( Seg ( len C118 ) ) by L1032 , FINSEQ_1:def 3;
L1035: D48 <= ( len C118 ) by L1034 , FINSEQ_1:1;
L1036: 1 <= D48 by L1034 , FINSEQ_1:1;
thus L1037: contradiction by L1036 , L771 , L1029 , L1033 , L1035 , L99;
end;
L1038: 1 <= ( ( C127 + 1 ) + 1 ) by NAT_1:11;
L1039: ( ( C127 + 1 ) + 1 ) in ( Seg ( len C117 ) ) by L1038 , L1028 , FINSEQ_1:1;
L1040: ( ( C127 + 1 ) + 1 ) in ( dom C117 ) by L1039 , FINSEQ_1:def 3;
L1041: ( C127 + 1 ) < ( ( C127 + 1 ) + 1 ) by XREAL_1:29;
L1042: ( C127 + 1 ) < ( len C117 ) by L1041 , L1028 , XXREAL_0:2;
L1043: ( D43 . ( ( C127 + 1 ) + 1 ) ) = ( ( D43 /. ( C127 + 1 ) ) + ( C117 /. ( ( C127 + 1 ) + 1 ) ) ) by L1042 , L829 , NAT_1:11;
L1044: 1 <= ( C127 + 1 ) by NAT_1:11;
L1045: ( D43 /. ( C127 + 1 ) ) = ( D44 . ( len D44 ) ) by L1044 , L827 , L1025 , L1029 , L1042 , FINSEQ_4:15 , NAT_1:13;
L1046: 1 < ( ( C127 + 1 ) + 1 ) by XREAL_1:29;
L1047: ( C117 /. ( ( C127 + 1 ) + 1 ) ) = ( C117 . ( ( C127 + 1 ) + 1 ) ) by L1046 , L1028 , FINSEQ_4:15
.= ( 0* R4 ) by L774 , L1030 , L1040;
thus L1048: ( D43 . ( ( C127 + 1 ) + 1 ) ) = ( D44 . ( len D44 ) ) by L1047 , L1045 , L1043 , EUCLID_4:1;
end;
suppose L1049: ( C118 . ( len C118 ) ) = ( ( C127 + 1 ) + 1 );

L1050: ( ( len C118 ) -' 1 ) = ( ( len C118 ) - 1 ) by L807 , XREAL_1:233;
L1051: ((1 <= ( ( ( len C118 ) -' 1 ) + 1 ) & ( ( ( len C118 ) -' 1 ) + 1 ) <= ( len D44 )) implies ( D43 . ( C118 . ( ( ( len C118 ) -' 1 ) + 1 ) ) ) = ( D44 . ( ( ( len C118 ) -' 1 ) + 1 ) )) by L1023;
thus L1052: ( D43 . ( ( C127 + 1 ) + 1 ) ) = ( D44 . ( len D44 ) ) by L1051 , L831 , L806 , L814 , L1049 , L1050 , FINSEQ_1:1 , FINSEQ_1:def 3;
end;
end;
thus L1054: S14[ ( C127 + 1 ) ] by L1026;
end;
L1055: 1 <= ( C118 . ( len C118 ) ) by L812 , FINSEQ_1:1;
L1056: ((( C118 . ( len C118 ) ) <= 1 & 1 <= ( len C117 )) implies ( D43 . ( ( 0 ) + 1 ) ) = ( D44 . ( len D44 ) ))
proof
assume that
L1057: ( C118 . ( len C118 ) ) <= 1
and
L1058: 1 <= ( len C117 );
L1059: ( C118 . ( len C118 ) ) = 1 by L1055 , L1057 , XXREAL_0:1;
L1060: ( len C118 ) <= 1 by L1059 , L771 , L819 , L106;
L1061: ( len C118 ) = 1 by L1060 , L807 , XXREAL_0:1;
L1062: ( D44 . 1 ) = ( C117 . ( C118 . 1 ) ) by L773 , L775 , L832 , L805 , FUNCT_1:13
.= ( C117 . 1 ) by L1055 , L1057 , L1061 , XXREAL_0:1;
thus L1063: ( D43 . ( ( 0 ) + 1 ) ) = ( D44 . ( len D44 ) ) by L1062 , L777 , L831 , L828 , L1061 , FINSEQ_1:def 3;
end;
L1064: S14[ ( 0 ) ] by L1056;
L1065: (for B127 being Nat holds S14[ B127 ]) from NAT_1:sch 2(L1064 , L1024);
thus L1066: ( Sum C117 ) = ( Sum C119 ) by L1065 , L831 , L834 , L830 , L824 , L825;
end;
suppose L1067: ( len C119 ) <= ( 0 );

L1068: ( Sum C119 ) = ( 0* R4 ) by L1067 , L444;
L1069: ( dom C117 ) = ( Seg ( len C117 ) ) by FINSEQ_1:def 3;
L1070: ( Seg ( len C119 ) ) = ( {} ) by L1067;
L1071: ( dom C119 ) = ( {} ) by L1070 , FINSEQ_1:def 3;
L1072: ( rng C118 ) = ( {} ) by L1071 , L773 , L775 , RELAT_1:42;
L1073:
now
let R5 being set;
assume L1074: R5 in ( dom C117 );
thus L1075: ( C117 . R5 ) = ( 0* R4 ) by L1074 , L774 , L1072
.= ( ( ( len C117 ) |-> ( 0* R4 ) ) . R5 ) by L1069 , L1074 , FINSEQ_2:57;
end;
L1076: ( Seg ( len C117 ) ) = ( dom ( ( len C117 ) |-> ( 0* R4 ) ) ) by FUNCOP_1:13;
L1077: C117 = ( ( len C117 ) |-> ( 0* R4 ) ) by L1076 , L1069 , L1073 , FUNCT_1:2;
thus L1078: ( Sum C117 ) = ( Sum C119 ) by L1077 , L1068 , L731;
end;
end;
theorem
L1080: (for R4 being Nat holds (for B128 being (FinSequence of ( REAL R4 )) holds (for B129 being (FinSequence of ( NAT )) holds (for B130 being (FinSequence of ( REAL R4 )) holds ((B129 is  one-to-one & ( rng B129 ) c= ( dom B128 ) & B130 = ( B128 * B129 ) & (for B131 being (Element of ( NAT )) holds ((B131 in ( dom B128 ) & (not B131 in ( rng B129 ))) implies ( B128 . B131 ) = ( 0* R4 )))) implies ( Sum B128 ) = ( Sum B130 ))))))
proof
let R4 being Nat;
let C129 being (FinSequence of ( REAL R4 ));
let C130 being (FinSequence of ( NAT ));
let C131 being (FinSequence of ( REAL R4 ));
assume that
L1081: C130 is  one-to-one
and
L1082: ( rng C130 ) c= ( dom C129 )
and
L1083: C131 = ( C129 * C130 )
and
L1084: (for B132 being (Element of ( NAT )) holds ((B132 in ( dom C129 ) & (not B132 in ( rng C130 ))) implies ( C129 . B132 ) = ( 0* R4 )));
consider C132 being (Permutation of ( dom C130 )), C133 being (FinSequence of ( NAT )) such that L1085: C133 = ( C130 * C132 ) and L1086: C133 is  increasing and L1087: ( dom C130 ) = ( dom C133 ) and L1088: ( rng C130 ) = ( rng C133 ) by L1081 , L172;
L1089: ( dom ( C129 * C130 ) ) = ( dom C130 ) by L1082 , RELAT_1:27;
reconsider D49 = C132 as (Permutation of ( dom C131 )) by L1089 , L1083;
reconsider D50 = ( C129 * C133 ) as Function;
L1090: ( dom D50 ) = ( dom C130 ) by L1082 , L1087 , L1088 , RELAT_1:27
.= ( Seg ( len C130 ) ) by FINSEQ_1:def 3;
reconsider D51 = D50 as FinSequence by L1090 , FINSEQ_1:def 2;
L1091: ( rng D50 ) c= ( rng C129 ) by RELAT_1:26;
L1092: ( rng D51 ) c= ( REAL R4 ) by L1091 , XBOOLE_1:1;
reconsider D52 = D51 as (FinSequence of ( REAL R4 )) by L1092 , FINSEQ_1:def 4;
L1093: D52 = ( C131 (*) D49 ) by L1083 , L1085 , RELAT_1:36;
L1094: ( Sum C131 ) = ( Sum D52 ) by L1093 , L457;
thus L1095: ( Sum C129 ) = ( Sum C131 ) by L1094 , L1082 , L1084 , L1086 , L1088 , L770;
end;
begin
definition
let C134 , C135 being Nat;
redefine func Base_FinSeq (C134 , C135) -> (Element of ( REAL C134 ));

coherence
proof
L1096: ( len ( Base_FinSeq (C134 , C135) ) ) = C134 by MATRIXR2:74;
thus L1097: thesis by L1096 , FINSEQ_2:92;
end;
end;
theorem
L1099: (for R4 being Nat holds (for B133 , B134 being Nat holds ((1 <= B133 & B133 <= R4 & ( Base_FinSeq (R4 , B133) ) = ( Base_FinSeq (R4 , B134) )) implies B133 = B134)))
proof
let R4 being Nat;
let C136 , C137 being Nat;
assume that
L1100: 1 <= C136
and
L1101: C136 <= R4
and
L1102: ( Base_FinSeq (R4 , C136) ) = ( Base_FinSeq (R4 , C137) );
L1103: ( ( Base_FinSeq (R4 , C136) ) . C136 ) = 1 by L1100 , L1101 , MATRIXR2:75;
thus L1104: thesis by L1103 , L1100 , L1101 , L1102 , MATRIXR2:76;
end;
theorem
L1105: (for R1 being Nat holds (for R4 being Nat holds ( sqr ( Base_FinSeq (R4 , R1) ) ) = ( Base_FinSeq (R4 , R1) )))
proof
let R1 being Nat;
let R4 being Nat;
L1106: ( dom ( ( sqrreal ) * ( Base_FinSeq (R4 , R1) ) ) ) = ( ( Base_FinSeq (R4 , R1) ) " ( dom ( sqrreal ) ) ) by RELAT_1:147;
L1107: ( rng ( Base_FinSeq (R4 , R1) ) ) c= ( REAL );
L1108: (for B135 being set holds (B135 in ( dom ( Base_FinSeq (R4 , R1) ) ) implies ( ( ( sqrreal ) * (( Base_FinSeq (R4 , R1) ) qua Function) ) . B135 ) = ( ( Base_FinSeq (R4 , R1) ) . B135 )))
proof
let C138 being set;
assume L1109: C138 in ( dom ( Base_FinSeq (R4 , R1) ) );
reconsider D53 = C138 as (Element of ( NAT )) by L1109;
L1110: ( ( ( sqrreal ) * (( Base_FinSeq (R4 , R1) ) qua Function) ) . C138 ) = ( ( sqrreal ) . ( ( Base_FinSeq (R4 , R1) ) . C138 ) ) by L1109 , FUNCT_1:13;
L1111: C138 in ( Seg ( len ( Base_FinSeq (R4 , R1) ) ) ) by L1109 , FINSEQ_1:def 3;
L1112: 1 <= D53 by L1111 , FINSEQ_1:1;
L1113: ( len ( Base_FinSeq (R4 , R1) ) ) = R4 by MATRIXR2:74;
L1114: D53 <= R4 by L1113 , L1111 , FINSEQ_1:1;
per cases ;
suppose L1115: D53 = R1;

thus L1116: ( ( ( sqrreal ) * (( Base_FinSeq (R4 , R1) ) qua Function) ) . C138 ) = ( ( sqrreal ) . 1 ) by L1115 , L1112 , L1114 , L1110 , MATRIXR2:75
.= ( 1 ^2 ) by RVSUM_1:def 2
.= ( ( Base_FinSeq (R4 , R1) ) . C138 ) by L1112 , L1114 , L1115 , MATRIXR2:75;
end;
suppose L1117: D53 <> R1;

thus L1118: ( ( ( sqrreal ) * (( Base_FinSeq (R4 , R1) ) qua Function) ) . C138 ) = ( ( sqrreal ) . ( 0 ) ) by L1117 , L1112 , L1114 , L1110 , MATRIXR2:76
.= ( ( 0 ) ^2 ) by RVSUM_1:def 2
.= ( ( Base_FinSeq (R4 , R1) ) . C138 ) by L1112 , L1114 , L1117 , MATRIXR2:76;
end;
end;
L1120: ( ( Base_FinSeq (R4 , R1) ) " ( dom ( sqrreal ) ) ) = ( ( Base_FinSeq (R4 , R1) ) " ( REAL ) ) by FUNCT_2:def 1
.= ( dom ( Base_FinSeq (R4 , R1) ) ) by L1107 , L13;
thus L1121: thesis by L1120 , L1106 , L1108 , FUNCT_1:2;
end;
theorem
L1122: (for R1 being Nat holds (for R4 being Nat holds ((1 <= R1 & R1 <= R4) implies ( Sum ( Base_FinSeq (R4 , R1) ) ) = 1)))
proof
let R1 being Nat;
let R4 being Nat;
assume that
L1123: 1 <= R1
and
L1124: R1 <= R4;
defpred S15[ set , set ] means (((not $1 in R1) implies $2 = 1) & ($1 in R1 implies $2 = ( 0 )));
set D54 = ( Base_FinSeq (R4 , R1) );
L1125: (for B136 being set holds (B136 in ( NAT ) implies (ex B137 being set st (B137 in ( REAL ) & S15[ B136 , B137 ]))))
proof
let C139 being set;
assume L1126: C139 in ( NAT );
reconsider D55 = C139 as (Element of ( NAT )) by L1126;
per cases ;
suppose L1127: D55 >= R1;

L1128: (not D55 in R1) by L1127 , NAT_1:44;
thus L1129: (ex B138 being set st (B138 in ( REAL ) & S15[ C139 , B138 ])) by L1128;
end;
suppose L1130: D55 < R1;

L1131: D55 in R1 by L1130 , NAT_1:44;
thus L1132: (ex B139 being set st (B139 in ( REAL ) & S15[ C139 , B139 ])) by L1131;
end;
end;
consider C140 being (Function of ( NAT ) , ( REAL )) such that L1134: (for B140 being set holds (B140 in ( NAT ) implies S15[ B140 , ( C140 . B140 ) ])) from FUNCT_2:sch 1(L1125);
L1135: ( len ( Base_FinSeq (R4 , R1) ) ) = R4 by MATRIXR2:74;
L1136: (for B141 being (Element of ( NAT )) holds ((( 0 ) <> B141 & B141 < ( len D54 )) implies ( C140 . ( B141 + 1 ) ) = ( ( addreal ) . (( C140 . B141 ) , ( D54 . ( B141 + 1 ) )) )))
proof
let C141 being (Element of ( NAT ));
assume that
L1137: ( 0 ) <> C141
and
L1138: C141 < ( len D54 );
L1139: ( C141 + 1 ) <= R4 by L1135 , L1138 , NAT_1:13;
per cases ;
suppose L1140: ( C141 + 1 ) < R1;

L1141: C141 < R1 by L1140 , NAT_1:13;
L1142: C141 in R1 by L1141 , NAT_1:44;
L1143: ( C140 . C141 ) = ( 0 ) by L1142 , L1134;
L1144: 1 <= ( C141 + 1 ) by NAT_1:11;
L1145: ( C141 + 1 ) in R1 by L1140 , NAT_1:44;
L1146: ( C141 + 1 ) <= ( len D54 ) by L1138 , NAT_1:13;
L1147: ( ( addreal ) . (( C140 . C141 ) , ( D54 . ( C141 + 1 ) )) ) = ( ( addreal ) . (( 0 ) , ( 0 )) ) by L1146 , L1135 , L1140 , L1143 , L1144 , MATRIXR2:76
.= ( ( 0 ) + ( 0 ) ) by BINOP_2:def 9;
thus L1148: ( C140 . ( C141 + 1 ) ) = ( ( addreal ) . (( C140 . C141 ) , ( D54 . ( C141 + 1 ) )) ) by L1147 , L1134 , L1145;
end;
suppose L1149: R1 <= ( C141 + 1 );

per cases  by L1149 , XXREAL_0:1;
suppose L1150: R1 < ( C141 + 1 );

L1151: R1 <= C141 by L1150 , NAT_1:13;
L1152: (not C141 in R1) by L1151 , NAT_1:44;
L1153: (not ( C141 + 1 ) in R1) by L1150 , NAT_1:44;
L1154: 1 <= ( C141 + 1 ) by L1123 , L1150 , XXREAL_0:2;
L1155: ( D54 . ( C141 + 1 ) ) = ( 0 ) by L1154 , L1139 , L1150 , MATRIXR2:76;
L1156: ( ( addreal ) . (( C140 . C141 ) , ( D54 . ( C141 + 1 ) )) ) = ( ( addreal ) . (1 , ( 0 )) ) by L1155 , L1134 , L1152
.= ( 1 + ( 0 ) ) by BINOP_2:def 9;
thus L1157: ( C140 . ( C141 + 1 ) ) = ( ( addreal ) . (( C140 . C141 ) , ( D54 . ( C141 + 1 ) )) ) by L1156 , L1134 , L1153;
end;
suppose L1158: R1 = ( C141 + 1 );

L1159: C141 < ( C141 + 1 ) by XREAL_1:29;
L1160: C141 in R1 by L1159 , L1158 , NAT_1:44;
L1161: ( C140 . C141 ) = ( 0 ) by L1160 , L1134;
L1162: ( ( addreal ) . (( C140 . C141 ) , ( D54 . ( C141 + 1 ) )) ) = ( ( addreal ) . (( 0 ) , 1) ) by L1161 , L1123 , L1124 , L1158 , MATRIXR2:75
.= ( ( 0 ) + 1 ) by BINOP_2:def 9;
L1163: (not ( C141 + 1 ) in R1) by L1158;
thus L1164: ( C140 . ( C141 + 1 ) ) = ( ( addreal ) . (( C140 . C141 ) , ( D54 . ( C141 + 1 ) )) ) by L1163 , L1134 , L1162;
end;
end;
end;
L1167: ( C140 . 1 ) = ( D54 . 1 )
proof
per cases ;
suppose L1168: 1 < R1;

L1169: 1 in R1 by L1168 , NAT_1:44;
L1170: ( C140 . 1 ) = ( 0 ) by L1169 , L1134;
L1171: 1 <= R4 by L1123 , L1124 , XXREAL_0:2;
thus L1172: ( C140 . 1 ) = ( D54 . 1 ) by L1171 , L1168 , L1170 , MATRIXR2:76;
end;
suppose L1173: 1 >= R1;

L1174: (not 1 in R1) by L1173 , NAT_1:44;
L1175: ( C140 . 1 ) = 1 by L1174 , L1134;
L1176: 1 = R1 by L1123 , L1173 , XXREAL_0:1;
thus L1177: ( C140 . 1 ) = ( D54 . 1 ) by L1176 , L1124 , L1175 , MATRIXR2:75;
end;
end;
L1179: ( C140 . ( len D54 ) ) = 1
proof
per cases ;
suppose L1180: ( len D54 ) < R1;

thus L1181: ( C140 . ( len D54 ) ) = 1 by L1180 , L1124 , MATRIXR2:74;
end;
suppose L1182: ( len D54 ) >= R1;

L1183: (not ( len D54 ) in R1) by L1182 , NAT_1:44;
thus L1184: ( C140 . ( len D54 ) ) = 1 by L1183 , L1134;
end;
end;
L1186: ( len ( Base_FinSeq (R4 , R1) ) ) >= 1 by L1123 , L1124 , L1135 , XXREAL_0:2;
thus L1187: thesis by L1186 , L1167 , L1179 , L1136 , FINSOP_1:def 1;
end;
theorem
L1188: (for R1 being Nat holds (for R4 being Nat holds ((1 <= R1 & R1 <= R4) implies |. ( Base_FinSeq (R4 , R1) ) .| = 1)))
proof
let R1 being Nat;
let R4 being Nat;
assume that
L1189: 1 <= R1
and
L1190: R1 <= R4;
L1191: ( sqrt ( Sum ( Base_FinSeq (R4 , R1) ) ) ) = 1 by L1189 , L1190 , L1122 , SQUARE_1:18;
thus L1192: thesis by L1191 , L1105;
end;
theorem
L1193: (for R1 being Nat holds (for R2 being Nat holds (for R4 being Nat holds ((1 <= R1 & R1 <= R4 & R1 <> R2) implies |( ( Base_FinSeq (R4 , R1) ) , ( Base_FinSeq (R4 , R2) ) )| = ( 0 )))))
proof
let R1 being Nat;
let R2 being Nat;
let R4 being Nat;
assume that
L1194: 1 <= R1
and
L1195: R1 <= R4
and
L1196: R1 <> R2;
set D56 = ( Base_FinSeq (R4 , R1) );
set D57 = ( Base_FinSeq (R4 , R2) );
L1197: ( dom ( 0* R4 ) ) = ( Seg ( len ( R4 |-> (( 0 ) qua Real) ) ) ) by FINSEQ_1:def 3
.= ( Seg R4 ) by CARD_1:def 7;
L1198: ( dom D57 ) = ( Seg ( len D57 ) ) by FINSEQ_1:def 3
.= ( Seg R4 ) by MATRIXR2:74;
L1199: ( dom D56 ) = ( Seg ( len D56 ) ) by FINSEQ_1:def 3
.= ( Seg R4 ) by MATRIXR2:74;
L1200: ( dom <: D56 , D57 :> ) = ( ( dom D56 ) /\ ( dom D57 ) ) by FUNCT_3:def 7;
L1201: ( dom ( multreal ) ) = [: ( REAL ) , ( REAL ) :] by FUNCT_2:def 1;
L1202: ( dom ( ( multreal ) * <: D56 , D57 :> ) ) = ( <: D56 , D57 :> " [: ( REAL ) , ( REAL ) :] ) by L1201 , RELAT_1:147
.= ( Seg R4 ) by L1200 , L1199 , L1198 , RELSET_1:22;
L1203: (for B142 being set holds (B142 in ( dom ( 0* R4 ) ) implies ( ( ( multreal ) * <: D56 , D57 :> ) . B142 ) = ( ( 0* R4 ) . B142 )))
proof
let C142 being set;
assume L1204: C142 in ( dom ( 0* R4 ) );
reconsider D58 = C142 as (Element of ( NAT )) by L1204;
L1205: ( ( ( multreal ) * <: D56 , D57 :> ) . C142 ) = ( ( multreal ) . ( <: D56 , D57 :> . C142 ) ) by L1197 , L1202 , L1204 , FUNCT_1:12
.= ( ( multreal ) . [ ( D56 . D58 ) , ( D57 . D58 ) ] ) by L1197 , L1200 , L1199 , L1198 , L1204 , FUNCT_3:def 7;
L1206: D58 <= R4 by L1197 , L1204 , FINSEQ_1:1;
L1207: 1 <= D58 by L1197 , L1204 , FINSEQ_1:1;
per cases ;
suppose L1208: D58 = R1;

L1209: ( D56 . D58 ) = 1 by L1208 , L1194 , L1195 , MATRIXR2:75;
L1210: ( D57 . D58 ) = ( 0 ) by L1194 , L1195 , L1196 , L1208 , MATRIXR2:76;
L1211: ( ( multreal ) . [ ( D56 . D58 ) , ( D57 . D58 ) ] ) = ( ( multreal ) . (( D56 . D58 ) , ( D57 . D58 )) )
.= ( 1 * ( 0 ) ) by L1210 , L1209 , BINOP_2:def 11
.= ( 0 );
thus L1212: ( ( ( multreal ) * <: D56 , D57 :> ) . C142 ) = ( ( 0* R4 ) . C142 ) by L1211 , L1205;
end;
suppose L1213: D58 <> R1;

reconsider D59 = ( D57 . D58 ) as (Element of ( REAL ));
L1214: ( D56 . D58 ) = ( 0 ) by L1207 , L1206 , L1213 , MATRIXR2:76;
L1215: ( ( multreal ) . [ ( D56 . D58 ) , ( D57 . D58 ) ] ) = ( ( multreal ) . (( D56 . D58 ) , ( D57 . D58 )) )
.= ( ( 0 ) * D59 ) by L1214 , BINOP_2:def 11
.= ( 0 );
thus L1216: ( ( ( multreal ) * <: D56 , D57 :> ) . C142 ) = ( ( 0* R4 ) . C142 ) by L1215 , L1205;
end;
end;
L1218: ( ( multreal ) * <: D56 , D57 :> ) = ( 0* R4 ) by L1203 , L1197 , L1202 , FUNCT_1:2;
L1219: ( ( multreal ) .: (D56 , D57) ) = ( 0* R4 ) by L1218 , FUNCOP_1:def 3;
thus L1220: |( ( Base_FinSeq (R4 , R1) ) , ( Base_FinSeq (R4 , R2) ) )| = ( 0 ) by L1219 , RVSUM_1:81;
end;
theorem
L1221: (for R1 being Nat holds (for R4 being Nat holds (for B143 being (Element of ( REAL R4 )) holds ((1 <= R1 & R1 <= R4) implies |( B143 , ( Base_FinSeq (R4 , R1) ) )| = ( B143 . R1 )))))
proof
let R1 being Nat;
let R4 being Nat;
let C143 being (Element of ( REAL R4 ));
assume that
L1222: 1 <= R1
and
L1223: R1 <= R4;
set D60 = ( Base_FinSeq (R4 , R1) );
L1224: ( len C143 ) = R4 by CARD_1:def 7;
L1225: ( len D60 ) = R4 by MATRIXR2:74;
L1226: ( len ( mlt (C143 , D60) ) ) = R4 by L1225 , L1224 , MATRPROB:30;
L1227: (for B144 being Nat holds ((1 <= B144 & B144 <= R4) implies ( ( mlt (C143 , D60) ) . B144 ) = ( ( ( C143 /. R1 ) * ( Base_FinSeq (R4 , R1) ) ) . B144 )))
proof
let C144 being Nat;
assume that
L1228: 1 <= C144
and
L1229: C144 <= R4;
reconsider D61 = C144 as (Element of ( NAT )) by ORDINAL1:def 12;
L1230:
now
per cases ;
case L1231: R1 = C144;
thus L1232: ( ( ( C143 /. R1 ) * ( Base_FinSeq (R4 , R1) ) ) . C144 ) = ( ( C143 /. C144 ) * ( ( Base_FinSeq (R4 , R1) ) . C144 ) ) by L1231 , RVSUM_1:44;
end;
case L1233: R1 <> C144;
L1234: ( ( Base_FinSeq (R4 , R1) ) . D61 ) = ( 0 ) by L1233 , L1228 , L1229 , MATRIXR2:76;
L1235: ( ( ( C143 /. R1 ) * ( Base_FinSeq (R4 , R1) ) ) . C144 ) = ( ( C143 /. R1 ) * ( ( Base_FinSeq (R4 , R1) ) . C144 ) ) by RVSUM_1:44
.= ( ( C143 /. C144 ) * ( ( Base_FinSeq (R4 , R1) ) . C144 ) ) by L1234;
thus L1236: ( ( ( C143 /. R1 ) * ( Base_FinSeq (R4 , R1) ) ) . C144 ) = ( ( C143 /. C144 ) * ( ( Base_FinSeq (R4 , R1) ) . C144 ) ) by L1235;
end;
end;
L1238: ( ( mlt (C143 , D60) ) . C144 ) = ( ( C143 . C144 ) * ( D60 . C144 ) ) by RVSUM_1:59;
thus L1239: ( ( mlt (C143 , D60) ) . C144 ) = ( ( ( C143 /. R1 ) * ( Base_FinSeq (R4 , R1) ) ) . C144 ) by L1238 , L1224 , L1228 , L1229 , L1230 , FINSEQ_4:15;
end;
L1240: ( len ( ( C143 /. R1 ) * ( Base_FinSeq (R4 , R1) ) ) ) = R4 by L1225 , RVSUM_1:117;
L1241: ( mlt (C143 , D60) ) = ( ( C143 /. R1 ) * ( Base_FinSeq (R4 , R1) ) ) by L1240 , L1226 , L1227 , FINSEQ_1:14;
L1242: ( Sum ( mlt (C143 , D60) ) ) = ( ( C143 /. R1 ) * ( Sum ( Base_FinSeq (R4 , R1) ) ) ) by L1241 , RVSUM_1:87
.= ( ( C143 /. R1 ) * 1 ) by L1222 , L1223 , L1122
.= ( C143 . R1 ) by L1222 , L1223 , L1224 , FINSEQ_4:15;
thus L1243: |( C143 , ( Base_FinSeq (R4 , R1) ) )| = ( C143 . R1 ) by L1242;
end;
definition
let C145 being Nat;
let C146 being (Element of ( REAL C145 ));
func ProjFinSeq C146 -> (FinSequence of ( REAL C145 )) means 
:L1244: (( len it ) = C145 & (for B145 being Nat holds ((1 <= B145 & B145 <= C145) implies ( it . B145 ) = ( |( C146 , ( Base_FinSeq (C145 , B145) ) )| * ( Base_FinSeq (C145 , B145) ) ))));
existence
proof
defpred S16[ set , set ] means (for B146 being Nat holds ((B146 = $1 & 1 <= B146 & B146 <= C145) implies $2 = ( |( C146 , ( Base_FinSeq (C145 , B146) ) )| * ( Base_FinSeq (C145 , B146) ) )));
L1245: (for B147 being Nat holds (B147 in ( Seg C145 ) implies (ex B148 being (Element of ( REAL C145 )) st S16[ B147 , B148 ])))
proof
reconsider D62 = C145 as (Element of ( NAT )) by ORDINAL1:def 12;
let C147 being Nat;
assume L1246: C147 in ( Seg C145 );
reconsider D63 = C147 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D64 = ( |( C146 , ( Base_FinSeq (D62 , D63) ) )| * ( Base_FinSeq (D62 , D63) ) ) as (Element of ( REAL C145 ));
L1247: (for B149 being Nat holds ((B149 = C147 & 1 <= B149 & B149 <= C145) implies D64 = ( |( C146 , ( Base_FinSeq (C145 , B149) ) )| * ( Base_FinSeq (C145 , B149) ) )));
thus L1248: (ex B150 being (Element of ( REAL C145 )) st S16[ C147 , B150 ]) by L1247;
end;
consider C148 being (FinSequence of ( REAL C145 )) such that L1249: (( dom C148 ) = ( Seg C145 ) & (for B151 being Nat holds (B151 in ( Seg C145 ) implies S16[ B151 , ( C148 . B151 ) ]))) from FINSEQ_1:sch 5(L1245);
L1250: (for B152 being Nat holds ((1 <= B152 & B152 <= C145) implies ( C148 . B152 ) = ( |( C146 , ( Base_FinSeq (C145 , B152) ) )| * ( Base_FinSeq (C145 , B152) ) )))
proof
let C149 being Nat;
assume that
L1251: 1 <= C149
and
L1252: C149 <= C145;
L1253: C149 in ( Seg C145 ) by L1251 , L1252 , FINSEQ_1:1;
thus L1254: ( C148 . C149 ) = ( |( C146 , ( Base_FinSeq (C145 , C149) ) )| * ( Base_FinSeq (C145 , C149) ) ) by L1253 , L1249 , L1251 , L1252;
end;
L1255: ( Seg C145 ) = ( Seg ( len C148 ) ) by L1249 , FINSEQ_1:def 3;
thus L1256: thesis by L1255 , L1250 , FINSEQ_1:6;
end;
uniqueness
proof
let C150 , C151 being (FinSequence of ( REAL C145 ));
assume that
L1257: ( len C150 ) = C145
and
L1258: (for B153 being Nat holds ((1 <= B153 & B153 <= C145) implies ( C150 . B153 ) = ( |( C146 , ( Base_FinSeq (C145 , B153) ) )| * ( Base_FinSeq (C145 , B153) ) )))
and
L1259: ( len C151 ) = C145
and
L1260: (for B154 being Nat holds ((1 <= B154 & B154 <= C145) implies ( C151 . B154 ) = ( |( C146 , ( Base_FinSeq (C145 , B154) ) )| * ( Base_FinSeq (C145 , B154) ) )));
L1261: (for B155 being Nat holds ((1 <= B155 & B155 <= C145) implies ( C150 . B155 ) = ( C151 . B155 )))
proof
reconsider D65 = C145 as (Element of ( NAT )) by ORDINAL1:def 12;
let C152 being Nat;
assume that
L1262: 1 <= C152
and
L1263: C152 <= C145;
reconsider D66 = C152 as (Element of ( NAT )) by ORDINAL1:def 12;
L1264: ( C150 . D66 ) = ( |( C146 , ( Base_FinSeq (D65 , D66) ) )| * ( Base_FinSeq (D65 , D66) ) ) by L1258 , L1262 , L1263;
thus L1265: ( C150 . C152 ) = ( C151 . C152 ) by L1264 , L1260 , L1262 , L1263;
end;
thus L1266: C150 = C151 by L1261 , L1257 , L1259 , FINSEQ_1:14;
end;
end;
theorem
L1268: (for R4 being Nat holds (for B156 being (Element of ( REAL R4 )) holds B156 = ( Sum ( ProjFinSeq B156 ) )))
proof
let R4 being Nat;
let C153 being (Element of ( REAL R4 ));
set D67 = ( ProjFinSeq C153 );
reconsider D68 = R4 as (Element of ( NAT )) by ORDINAL1:def 12;
L1269:
now
per cases ;
case L1270: ( len D67 ) > ( 0 );
set D69 = ( accum D67 );
L1271: ( len D67 ) = ( len D69 ) by L360;
L1272: ( D67 . 1 ) = ( D69 . 1 ) by L360;
defpred S17[ Nat ] means (for B157 being Nat holds ((1 <= B157 & B157 <= ( len D67 ) & 1 <= $1 & $1 <= ( len D67 )) implies ((B157 <= $1 implies ( ( D69 /. $1 ) . B157 ) = ( C153 . B157 )) & (B157 > $1 implies ( ( D69 /. $1 ) . B157 ) = ( 0 )))));
L1273: ( len D67 ) = R4 by L1244;
L1274: ( ( 0 ) + 1 ) <= ( len D67 ) by L1270 , NAT_1:13;
L1275: (for B158 being Nat holds (S17[ B158 ] implies S17[ ( B158 + 1 ) ]))
proof
let C154 being Nat;
reconsider D70 = C154 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L1276: S17[ C154 ];
L1277: (for B159 being Nat holds ((1 <= B159 & B159 <= ( len D67 ) & 1 <= ( C154 + 1 ) & ( C154 + 1 ) <= ( len D67 )) implies ((B159 <= ( C154 + 1 ) implies ( ( D69 /. ( C154 + 1 ) ) . B159 ) = ( C153 . B159 )) & (B159 > ( C154 + 1 ) implies ( ( D69 /. ( C154 + 1 ) ) . B159 ) = ( 0 )))))
proof
let C155 being Nat;
assume that
L1278: 1 <= C155
and
L1279: C155 <= ( len D67 )
and
L1280: 1 <= ( C154 + 1 )
and
L1281: ( C154 + 1 ) <= ( len D67 );
L1282: ( D69 /. ( C154 + 1 ) ) is (Element of ( REAL R4 ));
reconsider D71 = ( D69 . ( C154 + 1 ) ) as (Element of ( REAL R4 )) by L1282 , L1271 , L1280 , L1281 , FINSEQ_4:15;
reconsider D72 = C155 as (Element of ( NAT )) by ORDINAL1:def 12;
L1283: ( D69 /. ( C154 + 1 ) ) = ( D69 . ( C154 + 1 ) ) by L1271 , L1280 , L1281 , FINSEQ_4:15;
L1284:
now
per cases ;
case L1285: 1 <= C154;
reconsider D73 = ( D67 /. ( C154 + 1 ) ) as (Element of ( REAL R4 ));
reconsider D74 = ( D69 /. C154 ) as (Element of ( REAL R4 ));
L1286: ( ( ProjFinSeq C153 ) /. ( C154 + 1 ) ) = ( ( ProjFinSeq C153 ) . ( C154 + 1 ) ) by L1280 , L1281 , FINSEQ_4:15
.= ( |( C153 , ( Base_FinSeq (D68 , ( C154 + 1 )) ) )| * ( Base_FinSeq (D68 , ( C154 + 1 )) ) ) by L1273 , L1280 , L1281 , L1244;
L1287: C154 < ( C154 + 1 ) by XREAL_1:29;
L1288: C154 < ( len D67 ) by L1287 , L1281 , XXREAL_0:2;
L1289: D71 = ( ( D69 /. C154 ) + ( D67 /. ( C154 + 1 ) ) ) by L1288 , L360 , L1285;
L1290: ( D71 . C155 ) = ( ( D74 . C155 ) + ( D73 . C155 ) ) by L1289 , RVSUM_1:11;
L1291:
now
assume L1292: C155 <= ( C154 + 1 );
per cases  by L1292 , XXREAL_0:1;
suppose L1293: C155 < ( C154 + 1 );

L1294: C155 <= C154 by L1293 , NAT_1:13;
L1295: ( ( D67 /. ( C154 + 1 ) ) . C155 ) = ( |( C153 , ( Base_FinSeq (D68 , ( C154 + 1 )) ) )| * ( ( Base_FinSeq (D68 , ( D70 + 1 )) ) . D72 ) ) by L1286 , RVSUM_1:44
.= ( |( C153 , ( Base_FinSeq (D68 , ( C154 + 1 )) ) )| * ( 0 ) ) by L1273 , L1278 , L1279 , L1293 , MATRIXR2:76;
thus L1296: ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( C153 . C155 ) by L1295 , L1276 , L1278 , L1279 , L1283 , L1285 , L1288 , L1290 , L1294;
end;
suppose L1297: C155 = ( C154 + 1 );

L1298: ( ( D69 /. C154 ) . C155 ) = ( 0 ) by L1297 , L1276 , L1278 , L1279 , L1285 , L1287 , L1288;
L1299: ( ( D67 /. ( C154 + 1 ) ) . C155 ) = ( |( C153 , ( Base_FinSeq (D68 , ( C154 + 1 )) ) )| * ( ( Base_FinSeq (D68 , ( D70 + 1 )) ) . D72 ) ) by L1286 , RVSUM_1:44
.= ( |( C153 , ( Base_FinSeq (D68 , ( C154 + 1 )) ) )| * 1 ) by L1273 , L1278 , L1279 , L1297 , MATRIXR2:75
.= ( C153 . ( C154 + 1 ) ) by L1273 , L1280 , L1281 , L1221;
thus L1300: ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( C153 . C155 ) by L1299 , L1271 , L1278 , L1279 , L1290 , L1297 , L1298 , FINSEQ_4:15;
end;
end;
L1302:
now
assume L1303: C155 > ( C154 + 1 );
L1304: C155 > C154 by L1303 , L1287 , XXREAL_0:2;
L1305: ( ( D67 /. ( C154 + 1 ) ) . C155 ) = ( |( C153 , ( Base_FinSeq (D68 , ( C154 + 1 )) ) )| * ( ( Base_FinSeq (D68 , ( D70 + 1 )) ) . D72 ) ) by L1286 , RVSUM_1:44
.= ( |( C153 , ( Base_FinSeq (D68 , ( C154 + 1 )) ) )| * ( 0 ) ) by L1273 , L1278 , L1279 , L1303 , MATRIXR2:76
.= ( 0 );
thus L1306: ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( 0 ) by L1305 , L1276 , L1278 , L1279 , L1283 , L1285 , L1288 , L1290 , L1304;
end;
thus L1307: ((C155 <= ( C154 + 1 ) implies ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( C153 . C155 )) & (C155 > ( C154 + 1 ) implies ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( 0 ))) by L1302 , L1291;
end;
case L1308: C154 < 1;
L1309: ( C154 + 1 ) <= ( ( 0 ) + 1 ) by L1308 , NAT_1:13;
L1310: C154 = ( 0 ) by L1309 , XREAL_1:6;
L1311:
now
assume L1312: C155 > ( ( 0 ) + 1 );
L1313: ( D69 /. 1 ) = ( D67 . 1 ) by L1274 , L1271 , L1272 , FINSEQ_4:15;
L1314: ( ( D69 /. 1 ) . C155 ) = ( ( |( C153 , ( Base_FinSeq (D68 , 1) ) )| * ( Base_FinSeq (D68 , 1) ) ) . C155 ) by L1313 , L1274 , L1273 , L1244
.= ( |( C153 , ( Base_FinSeq (D68 , 1) ) )| * ( ( Base_FinSeq (D68 , 1) ) . D72 ) ) by RVSUM_1:44
.= ( |( C153 , ( Base_FinSeq (D68 , 1) ) )| * ( 0 ) ) by L1273 , L1279 , L1312 , MATRIXR2:76
.= ( 0 );
thus L1315: ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( 0 ) by L1314 , L1310;
end;
L1316:
now
assume L1317: C155 <= ( ( 0 ) + 1 );
L1318: C155 = 1 by L1317 , L1278 , XXREAL_0:1;
L1319: ( D69 /. 1 ) = ( D67 . 1 ) by L1274 , L1271 , L1272 , FINSEQ_4:15;
L1320: ( ( D69 /. 1 ) . 1 ) = ( ( |( C153 , ( Base_FinSeq (D68 , 1) ) )| * ( Base_FinSeq (D68 , 1) ) ) . 1 ) by L1319 , L1274 , L1273 , L1244
.= ( |( C153 , ( Base_FinSeq (D68 , 1) ) )| * ( ( Base_FinSeq (D68 , 1) ) . 1 ) ) by RVSUM_1:44
.= ( |( C153 , ( Base_FinSeq (D68 , 1) ) )| * 1 ) by L1274 , L1273 , MATRIXR2:75
.= ( C153 . 1 ) by L1274 , L1273 , L1221;
thus L1321: ( ( D69 /. ( ( 0 ) + 1 ) ) . C155 ) = ( C153 . C155 ) by L1320 , L1318;
end;
L1322: C154 <= ( 0 ) by L1309 , XREAL_1:6;
thus L1323: ((C155 <= ( C154 + 1 ) implies ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( C153 . C155 )) & (C155 > ( C154 + 1 ) implies ( ( D69 /. ( C154 + 1 ) ) . C155 ) = ( 0 ))) by L1322 , L1316 , L1311;
end;
end;
thus L1325: thesis by L1284;
end;
thus L1326: S17[ ( C154 + 1 ) ] by L1277;
end;
reconsider D75 = ( D69 /. ( len D67 ) ) as (Element of ( REAL R4 ));
L1327: ( len C153 ) = R4 by CARD_1:def 7;
L1328: ( len C153 ) = ( len D75 ) by L1327 , CARD_1:def 7;
L1329: S17[ ( 0 ) ];
L1330: (for B160 being Nat holds S17[ B160 ]) from NAT_1:sch 2(L1329 , L1275);
L1331: (for B161 being Nat holds ((1 <= B161 & B161 <= ( len D75 )) implies ( ( D69 /. ( len D67 ) ) . B161 ) = ( C153 . B161 )))
proof
let C156 being Nat;
assume that
L1332: 1 <= C156
and
L1333: C156 <= ( len D75 );
L1334: C156 <= ( len D67 ) by L1273 , L1333 , CARD_1:def 7;
L1335: 1 <= ( len D67 ) by L1273 , L1327 , L1328 , L1332 , L1333 , XXREAL_0:2;
thus L1336: ( ( D69 /. ( len D67 ) ) . C156 ) = ( C153 . C156 ) by L1335 , L1330 , L1332 , L1334;
end;
L1337: C153 = ( D69 /. ( len D67 ) ) by L1331 , L1328 , FINSEQ_1:14;
thus L1338: C153 = ( D69 . ( len D67 ) ) by L1337 , L1274 , L1271 , FINSEQ_4:15;
end;
case L1339: ( len D67 ) <= ( 0 );
L1340: R4 = ( 0 ) by L1339 , L1244;
L1341: C153 = ( <*> ( REAL ) ) by L1340;
thus L1342: C153 = ( 0* R4 ) by L1341 , L1340;
end;
end;
thus L1344: C153 = ( Sum ( ProjFinSeq C153 ) ) by L1269 , L444;
end;
definition
let C157 being Nat;
func RN_Base C157 -> (Subset of ( REAL C157 )) equals 
{ ( Base_FinSeq (C157 , B162) ) where B162 is (Element of ( NAT )) : (1 <= B162 & B162 <= C157) };
coherence
proof
L1345: { ( Base_FinSeq (C157 , B163) ) where B163 is (Element of ( NAT )) : (1 <= B163 & B163 <= C157) } c= ( REAL C157 )
proof
let C158 being set;
assume L1346: C158 in { ( Base_FinSeq (C157 , B164) ) where B164 is (Element of ( NAT )) : (1 <= B164 & B164 <= C157) };
L1347: (ex B165 being (Element of ( NAT )) st (C158 = ( Base_FinSeq (C157 , B165) ) & 1 <= B165 & B165 <= C157)) by L1346;
thus L1348: C158 in ( REAL C157 ) by L1347;
end;
thus L1349: thesis by L1345;
end;
end;
theorem
L1351: (for B166 being non  zero Nat holds ( RN_Base B166 ) <> ( {} ))
proof
let C159 being non  zero Nat;
L1352: ( ( 0 ) + 1 ) <= C159 by NAT_1:13;
L1353: ( Base_FinSeq (C159 , 1) ) in { ( Base_FinSeq (C159 , B167) ) where B167 is (Element of ( NAT )) : (1 <= B167 & B167 <= C159) } by L1352;
thus L1354: thesis by L1353;
end;
registration
cluster ( RN_Base ( 0 ) ) ->  empty;
coherence
proof
assume L1355: (not thesis);
consider C160 being set such that L1356: C160 in ( RN_Base ( 0 ) ) by L1355 , XBOOLE_0:def 1;
L1357: (ex B168 being (Element of ( NAT )) st (C160 = ( Base_FinSeq (( 0 ) , B168) ) & 1 <= B168 & B168 <= ( 0 ))) by L1356;
thus L1358: thesis by L1357;
end;
end;
registration
let C161 being non  zero Nat;
cluster ( RN_Base C161 ) -> non  empty;
coherence by L1351;
end;
registration
let R4 being Nat;
cluster ( RN_Base R4 ) ->  orthogonal_basis;
coherence
proof
set D76 = ( RN_Base R4 );
L1361: { B169 where B169 is (Element of ( REAL R4 )) : (ex B170 being (Element of ( NAT )) st (1 <= B170 & B170 <= R4 & B169 = ( Base_FinSeq (R4 , B170) ))) } c= D76
proof
let C162 being set;
assume L1362: C162 in { B171 where B171 is (Element of ( REAL R4 )) : (ex B172 being (Element of ( NAT )) st (1 <= B172 & B172 <= R4 & B171 = ( Base_FinSeq (R4 , B172) ))) };
L1363: (ex B173 being (Element of ( REAL R4 )) st (C162 = B173 & (ex B174 being (Element of ( NAT )) st (1 <= B174 & B174 <= R4 & B173 = ( Base_FinSeq (R4 , B174) ))))) by L1362;
thus L1364: C162 in D76 by L1363;
end;
L1365: D76 c= { B175 where B175 is (Element of ( REAL R4 )) : (ex B176 being (Element of ( NAT )) st (1 <= B176 & B176 <= R4 & B175 = ( Base_FinSeq (R4 , B176) ))) }
proof
let C163 being set;
assume L1366: C163 in D76;
L1367: (ex B177 being (Element of ( NAT )) st (C163 = ( Base_FinSeq (R4 , B177) ) & 1 <= B177 & B177 <= R4)) by L1366;
thus L1368: C163 in { B178 where B178 is (Element of ( REAL R4 )) : (ex B179 being (Element of ( NAT )) st (1 <= B179 & B179 <= R4 & B178 = ( Base_FinSeq (R4 , B179) ))) } by L1367;
end;
L1369: D76 = { B180 where B180 is (Element of ( REAL R4 )) : (ex B181 being (Element of ( NAT )) st (1 <= B181 & B181 <= R4 & B180 = ( Base_FinSeq (R4 , B181) ))) } by L1365 , L1361 , XBOOLE_0:def 10;
thus L1370: D76 is  R-orthogonal
proof
let C164 , C165 being  real-valued FinSequence;
assume that
L1371: C164 in D76
and
L1372: C165 in D76
and
L1373: C164 <> C165;
L1374: (ex B182 being (Element of ( REAL R4 )) st (C165 = B182 & (ex B183 being (Element of ( NAT )) st (1 <= B183 & B183 <= R4 & B182 = ( Base_FinSeq (R4 , B183) ))))) by L1369 , L1372;
L1375: (ex B184 being (Element of ( REAL R4 )) st (C164 = B184 & (ex B185 being (Element of ( NAT )) st (1 <= B185 & B185 <= R4 & B184 = ( Base_FinSeq (R4 , B185) ))))) by L1369 , L1371;
thus L1376: |( C164 , C165 )| = ( 0 ) by L1375 , L1373 , L1374 , L1193;
end;

thus L1377: D76 is  R-normal
proof
let C166 being  real-valued FinSequence;
assume L1378: C166 in D76;
L1379: (ex B186 being (Element of ( REAL R4 )) st (C166 = B186 & (ex B187 being (Element of ( NAT )) st (1 <= B187 & B187 <= R4 & B186 = ( Base_FinSeq (R4 , B187) ))))) by L1378 , L1369;
thus L1380: |. C166 .| = 1 by L1379 , L1188;
end;

let C167 being  R-orthonormal (Subset of ( REAL R4 ));
assume L1381: D76 c= C167;
L1382:
now
assume L1383: (not C167 c= D76);
consider C168 being set such that L1384: C168 in C167 and L1385: (not C168 in D76) by L1383 , TARSKI:def 3;
reconsider D77 = C168 as (Element of ( REAL R4 )) by L1384;
L1386:
now
L1387: R4 in ( NAT ) by ORDINAL1:def 12;
assume L1388: D77 <> ( 0* R4 );
consider C169 being (Element of ( NAT )) such that L1389: 1 <= C169 and L1390: C169 <= R4 and L1391: ( D77 . C169 ) <> ( 0 ) by L1388 , L1387 , JORDAN2C:46;
L1392: ( Base_FinSeq (R4 , C169) ) in D76 by L1389 , L1390;
L1393: |( D77 , ( Base_FinSeq (R4 , C169) ) )| = ( 0 ) by L1392 , L1381 , L1384 , L1385 , L209;
thus L1394: contradiction by L1393 , L1389 , L1390 , L1391 , L1221;
end;
L1395: |. ( 0* R4 ) .| = ( 0 ) by EUCLID:7;
thus L1396: contradiction by L1395 , L1384 , L1386 , L227;
end;
thus L1397: thesis by L1382 , L1381 , XBOOLE_0:def 10;
end;
end;
registration
let R4 being Nat;
cluster  orthogonal_basis for (Subset of ( REAL R4 ));
existence
proof
take ( RN_Base R4 );
thus L1399: thesis;
end;
end;
definition
let R4 being Nat;
mode Orthogonal_Basis of R4
 is  orthogonal_basis (Subset of ( REAL R4 ));
end;
registration
let C170 being non  zero Nat;
cluster  -> non  empty for (Orthogonal_Basis of C170);
coherence
proof
let C171 being (Orthogonal_Basis of C170);
assume L1402: C171 is  empty;
L1403: C171 c= ( RN_Base C170 ) by L1402 , XBOOLE_1:2;
thus L1404: contradiction by L1403 , L1402 , L265;
end;
end;
begin
registration
let C172 being (Element of ( NAT ));
cluster ( REAL-US C172 ) ->  constituted-FinSeqs;
coherence
proof
let C173 being (Element of ( REAL-US C172 ));
reconsider D78 = C173 as (Element of ( REAL C172 )) by REAL_NS1:def 6;
L1406: D78 is (FinSequence of ( REAL ));
thus L1407: thesis by L1406;
end;
end;
registration
let C174 being (Element of ( NAT ));
cluster  ->  real-valued for (Element of ( REAL-US C174 ));
coherence
proof
let C175 being (Element of ( REAL-US C174 ));
reconsider D79 = C175 as (Element of ( REAL C174 )) by REAL_NS1:def 6;
L1409: D79 is (FinSequence of ( REAL ));
thus L1410: thesis by L1409;
end;
end;
registration
let C176 being (Element of ( NAT ));
let C177 , C178 being (VECTOR of ( REAL-US C176 ));
let C179 , C180 being  real-valued Function;
identify C177 + C178 with C179 + C180 when C177 = C179 , C178 = C180;
compatibility
proof
assume that
L1412: C177 = C179
and
L1413: C178 = C180;
reconsider D80 = C179 , D81 = C180 as (Element of ( REAL C176 )) by L1412 , L1413 , REAL_NS1:def 6;
thus L1414: ( C177 + C178 ) = ( ( Euclid_add C176 ) . (D80 , D81) ) by L1412 , L1413 , REAL_NS1:def 6
.= ( C179 + C180 ) by REAL_NS1:def 1;
end;
end;
registration
let C181 being (Element of ( NAT ));
let C182 being (VECTOR of ( REAL-US C181 ));
let C183 being  real-valued Function;
let C184 , C185 being (Element of ( REAL ));
identify C184 * C182 with C185 (#) C183 when C182 = C183 , C184 = C185;
compatibility
proof
assume that
L1416: C182 = C183
and
L1417: C184 = C185;
reconsider D82 = C183 as (Element of ( REAL C181 )) by L1416 , REAL_NS1:def 6;
thus L1418: ( C184 * C182 ) = ( ( Euclid_mult C181 ) . (C185 , D82) ) by L1416 , L1417 , REAL_NS1:def 6
.= ( C185 (#) C183 ) by REAL_NS1:def 2;
end;
end;
registration
let C186 being (Element of ( NAT ));
let C187 being (VECTOR of ( REAL-US C186 ));
let C188 being  real-valued Function;
identify - C187 with - C188 when C187 = C188;
compatibility
proof
L1420: C187 is (Element of ( REAL C186 )) by REAL_NS1:def 6;
reconsider D83 = C187 as (Element of ( REAL-NS C186 )) by L1420 , REAL_NS1:def 4;
assume L1421: C187 = C188;
reconsider D84 = C188 as (Element of ( REAL C186 )) by L1421 , REAL_NS1:def 6;
thus L1422: ( - C187 ) = ( - D83 ) by REAL_NS1:13
.= ( - D84 ) by L1421 , REAL_NS1:4
.= ( - C188 );
end;
end;
registration
let C189 being (Element of ( NAT ));
let C190 , C191 being (VECTOR of ( REAL-US C189 ));
let C192 , C193 being  real-valued Function;
identify C190 - C191 with C192 - C193 when C190 = C192 , C191 = C193;
compatibility;
end;
theorem
L1425: (for B188 , B189 being (Element of ( NAT )) holds (for B190 being (FinSequence of (the carrier of ( REAL-US B188 ))) holds (for B191 being (Subset of ( REAL-US B188 )) holds (for B192 being (Element of ( REAL-US B188 )) holds (for B193 being (Linear_Combination of B191) holds ((B190 is  one-to-one & B191 is  R-orthogonal & ( rng B190 ) = ( Carrier B193 ) & B192 in B191 & B189 in ( dom ( B193 (#) B190 ) ) & B192 = ( B190 . B189 )) implies ( ( Euclid_scalar B188 ) . (B192 , ( Sum ( B193 (#) B190 ) )) ) = ( ( Euclid_scalar B188 ) . (B192 , ( ( B193 . ( B190 /. B189 ) ) * B192 )) )))))))
proof
let C194 , C195 being (Element of ( NAT ));
let C196 being (FinSequence of (the carrier of ( REAL-US C194 )));
let C197 being (Subset of ( REAL-US C194 ));
let C198 being (Element of ( REAL-US C194 ));
let C199 being (Linear_Combination of C197);
assume that
L1426: C196 is  one-to-one
and
L1427: C197 is  R-orthogonal
and
L1428: ( rng C196 ) = ( Carrier C199 )
and
L1429: C198 in C197
and
L1430: C195 in ( dom ( C199 (#) C196 ) )
and
L1431: C198 = ( C196 . C195 );
L1432: ( len ( C199 (#) C196 ) ) = ( len C196 ) by RLVECT_2:def 7;
L1433: ( dom ( C199 (#) C196 ) ) = ( Seg ( len C196 ) ) by L1432 , FINSEQ_1:def 3
.= ( dom C196 ) by FINSEQ_1:def 3;
reconsider D85 = ( C199 (#) C196 ) as (FinSequence of (the carrier of ( REAL-US C194 )));
reconsider D86 = C198 as (Element of ( REAL C194 )) by REAL_NS1:def 6;
L1434: ( Carrier C199 ) c= C197 by RLVECT_2:def 6;
L1435: ( dom ( C199 (#) C196 ) ) = ( Seg ( len ( C199 (#) C196 ) ) ) by FINSEQ_1:def 3;
L1436: C195 <= ( len C196 ) by L1435 , L1430 , L1432 , FINSEQ_1:1;
consider C200 being (Function of ( NAT ) , (the carrier of ( REAL-US C194 ))) such that L1437: ( Sum D85 ) = ( C200 . ( len D85 ) ) and L1438: ( C200 . ( 0 ) ) = ( 0. ( REAL-US C194 ) ) and L1439: (for B194 being (Element of ( NAT )) holds (for B195 being (Element of ( REAL-US C194 )) holds ((B194 < ( len D85 ) & B195 = ( D85 . ( B194 + 1 ) )) implies ( C200 . ( B194 + 1 ) ) = ( ( C200 . B194 ) + B195 )))) by RLVECT_1:def 12;
defpred S18[ Nat ] means (($1 >= C195 & $1 <= ( len C196 )) implies ( ( Euclid_scalar C194 ) . (C198 , ( C200 . $1 )) ) = ( ( Euclid_scalar C194 ) . (C198 , ( ( C199 . ( C196 /. C195 ) ) * C198 )) ));
defpred S19[ Nat ] means ($1 < C195 implies ( ( Euclid_scalar C194 ) . (C198 , ( C200 . $1 )) ) = ( 0 ));
L1440: ( 0. ( REAL-US C194 ) ) = ( 0* C194 ) by REAL_NS1:def 6;
L1441: ( ( Euclid_scalar C194 ) . (C198 , ( C200 . ( 0 ) )) ) = |( D86 , ( 0* C194 ) )| by L1440 , L1438 , REAL_NS1:def 5
.= ( 0 ) by EUCLID_4:18;
L1442: S19[ ( 0 ) ] by L1441;
L1443: C195 in ( Seg ( len C196 ) ) by L1430 , L1432 , FINSEQ_1:def 3;
L1444: C195 <= ( len D85 ) by L1443 , L1432 , FINSEQ_1:1;
L1445: (for B196 being (Element of ( NAT )) holds (S19[ B196 ] implies S19[ ( B196 + 1 ) ]))
proof
let C201 being (Element of ( NAT ));
assume L1446: S19[ C201 ];
L1447:
now
per cases ;
case L1448: C201 < ( len D85 );
L1449: 1 <= ( C201 + 1 ) by NAT_1:11;
L1450: ( C201 + 1 ) <= ( len D85 ) by L1448 , NAT_1:13;
L1451: ( C201 + 1 ) in ( Seg ( len D85 ) ) by L1450 , L1449 , FINSEQ_1:1;
L1452: ( C201 + 1 ) in ( dom D85 ) by L1451 , FINSEQ_1:def 3;
L1453: ( D85 . ( C201 + 1 ) ) in ( rng D85 ) by L1452 , FUNCT_1:def 3;
reconsider D87 = ( D85 . ( C201 + 1 ) ) as (Element of ( REAL-US C194 )) by L1453;
L1454: ( C200 . ( C201 + 1 ) ) = ( ( C200 . C201 ) + D87 ) by L1439 , L1448;
reconsider D88 = D87 as (Element of ( REAL C194 )) by REAL_NS1:def 6;
reconsider D89 = ( C200 . C201 ) as (Element of ( REAL C194 )) by REAL_NS1:def 6;
per cases ;
suppose L1455: ( C201 + 1 ) < C195;

L1456: 1 <= ( C201 + 1 ) by NAT_1:11;
L1457: ( C201 + 1 ) < ( len C196 ) by L1436 , L1455 , XXREAL_0:2;
L1458: ( C201 + 1 ) in ( Seg ( len C196 ) ) by L1457 , L1456 , FINSEQ_1:1;
L1459: ( C201 + 1 ) in ( dom C196 ) by L1458 , FINSEQ_1:def 3;
L1460: ( C196 /. ( C201 + 1 ) ) = ( C196 . ( C201 + 1 ) ) by L1459 , PARTFUN1:def 6;
L1461: D86 <> ( C196 /. ( C201 + 1 ) ) by L1460 , L1426 , L1430 , L1431 , L1433 , L1455 , L1459 , FUNCT_1:def 4;
reconsider D90 = ( C196 /. ( C201 + 1 ) ) as (Element of ( REAL C194 )) by REAL_NS1:def 6;
L1462: C201 < ( C201 + 1 ) by XREAL_1:29;
L1463: |( D86 , ( D89 + D88 ) )| = ( |( D86 , D89 )| + |( D86 , D88 )| ) by EUCLID_4:28;
L1464: ( C196 /. ( C201 + 1 ) ) in ( rng C196 ) by L1459 , L1460 , FUNCT_1:def 3;
L1465: D87 = ( ( C199 . ( C196 /. ( C201 + 1 ) ) ) * ( C196 /. ( C201 + 1 ) ) ) by L1433 , L1459 , RLVECT_2:def 7;
L1466: |( D86 , D88 )| = ( ( C199 . ( C196 /. ( C201 + 1 ) ) ) * |( D86 , D90 )| ) by L1465 , EUCLID_4:22
.= ( ( C199 . ( C196 /. ( C201 + 1 ) ) ) * ( 0 ) ) by L1427 , L1428 , L1429 , L1434 , L1464 , L1461 , L209
.= ( 0 );
L1467: |( D86 , ( D89 + D88 ) )| = ( 0 ) by L1466 , L1446 , L1455 , L1462 , L1463 , REAL_NS1:def 5 , XXREAL_0:2;
thus L1468: S19[ ( C201 + 1 ) ] by L1467 , L1454 , REAL_NS1:def 5;
end;
suppose L1469: ( C201 + 1 ) >= C195;

thus L1470: S19[ ( C201 + 1 ) ] by L1469;
end;
end;
case L1472: C201 >= ( len D85 );
L1473: ( C201 + 1 ) > C201 by XREAL_1:29;
L1474: ( C201 + 1 ) > ( len D85 ) by L1473 , L1472 , XXREAL_0:2;
thus L1475: S19[ ( C201 + 1 ) ] by L1474 , L1444 , XXREAL_0:2;
end;
end;
thus L1477: S19[ ( C201 + 1 ) ] by L1447;
end;
L1478: (for B197 being (Element of ( NAT )) holds S19[ B197 ]) from NAT_1:sch 1(L1442 , L1445);
L1479: (for B198 being Nat holds (B198 < C195 implies ( ( Euclid_scalar C194 ) . (C198 , ( C200 . B198 )) ) = ( 0 )))
proof
let C202 being Nat;
reconsider D91 = C202 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L1480: C202 < C195;
L1481: ( ( Euclid_scalar C194 ) . (C198 , ( C200 . D91 )) ) = ( 0 ) by L1480 , L1478;
thus L1482: ( ( Euclid_scalar C194 ) . (C198 , ( C200 . C202 )) ) = ( 0 ) by L1481;
end;
L1483: (for B199 being (Element of ( NAT )) holds (S18[ B199 ] implies S18[ ( B199 + 1 ) ]))
proof
let C203 being (Element of ( NAT ));
assume L1484: S18[ C203 ];
per cases ;
suppose L1485: ( C203 + 1 ) < C195;

thus L1486: S18[ ( C203 + 1 ) ] by L1485;
end;
suppose L1487: ( C203 + 1 ) >= C195;

per cases  by L1487 , XXREAL_0:1;
suppose L1488: ( C203 + 1 ) > C195;

per cases ;
suppose L1489: ( C203 + 1 ) <= ( len D85 );

L1490: 1 <= ( C203 + 1 ) by NAT_1:11;
L1491: ( C203 + 1 ) in ( Seg ( len D85 ) ) by L1490 , L1489 , FINSEQ_1:1;
L1492: ( C203 + 1 ) in ( dom C196 ) by L1491 , L1432 , FINSEQ_1:def 3;
L1493: ( C196 /. ( C203 + 1 ) ) = ( C196 . ( C203 + 1 ) ) by L1492 , PARTFUN1:def 6;
L1494: ( C196 /. ( C203 + 1 ) ) in ( rng C196 ) by L1493 , L1492 , FUNCT_1:def 3;
L1495: ( C203 + 1 ) in ( dom D85 ) by L1491 , FINSEQ_1:def 3;
L1496: ( D85 . ( C203 + 1 ) ) in ( rng D85 ) by L1495 , FUNCT_1:def 3;
reconsider D92 = ( D85 . ( C203 + 1 ) ) as (Element of ( REAL-US C194 )) by L1496;
reconsider D93 = ( C196 /. ( C203 + 1 ) ) as (Element of ( REAL C194 )) by REAL_NS1:def 6;
reconsider D94 = ( C200 . C203 ) as (Element of ( REAL C194 )) by REAL_NS1:def 6;
L1497: C203 < ( C203 + 1 ) by XREAL_1:29;
L1498: C203 < ( len D85 ) by L1497 , L1489 , XXREAL_0:2;
L1499: ( C200 . ( C203 + 1 ) ) = ( ( C200 . C203 ) + D92 ) by L1498 , L1439;
L1500: D86 <> ( C196 /. ( C203 + 1 ) ) by L1426 , L1430 , L1431 , L1433 , L1488 , L1492 , L1493 , FUNCT_1:def 4;
reconsider D95 = D92 as (Element of ( REAL C194 )) by REAL_NS1:def 6;
L1501: D92 = ( ( C199 . ( C196 /. ( C203 + 1 ) ) ) * ( C196 /. ( C203 + 1 ) ) ) by L1433 , L1492 , RLVECT_2:def 7;
L1502: |( D86 , D95 )| = ( ( C199 . ( C196 /. ( C203 + 1 ) ) ) * |( D86 , D93 )| ) by L1501 , EUCLID_4:22
.= ( ( C199 . ( C196 /. ( C203 + 1 ) ) ) * ( 0 ) ) by L1427 , L1428 , L1429 , L1434 , L1494 , L1500 , L209
.= ( 0 );
L1503: |( D86 , ( D94 + D95 ) )| = ( |( D86 , D94 )| + |( D86 , D95 )| ) by EUCLID_4:28;
L1504: |( D86 , ( D94 + D95 ) )| = ( ( Euclid_scalar C194 ) . (C198 , ( ( C199 . ( C196 /. C195 ) ) * C198 )) ) by L1503 , L1484 , L1488 , L1498 , L1502 , NAT_1:13 , REAL_NS1:def 5 , RLVECT_2:def 7;
thus L1505: S18[ ( C203 + 1 ) ] by L1504 , L1499 , REAL_NS1:def 5;
end;
suppose L1506: ( C203 + 1 ) > ( len D85 );

thus L1507: S18[ ( C203 + 1 ) ] by L1506 , RLVECT_2:def 7;
end;
end;
suppose L1509: ( C203 + 1 ) = C195;

L1510: ( D85 . ( C203 + 1 ) ) in ( rng D85 ) by L1509 , L1430 , FUNCT_1:def 3;
reconsider D96 = ( D85 . ( C203 + 1 ) ) as (Element of ( REAL-US C194 )) by L1510;
reconsider D97 = D96 as (Element of ( REAL C194 )) by REAL_NS1:def 6;
L1511: D96 = ( ( C199 . ( C196 /. ( C203 + 1 ) ) ) * ( C196 /. ( C203 + 1 ) ) ) by L1430 , L1509 , RLVECT_2:def 7;
L1512: ( C203 + 1 ) in ( dom C196 ) by L1430 , L1435 , L1432 , L1509 , FINSEQ_1:def 3;
L1513: |( D86 , D97 )| = |( D86 , ( ( C199 . ( C196 /. C195 ) ) * D86 ) )| by L1512 , L1431 , L1509 , L1511 , PARTFUN1:def 6
.= ( ( Euclid_scalar C194 ) . (C198 , ( ( C199 . ( C196 /. C195 ) ) * C198 )) ) by REAL_NS1:def 5;
L1514: C203 < ( C203 + 1 ) by XREAL_1:29;
L1515: C203 < ( len D85 ) by L1514 , L1432 , L1436 , L1509 , XXREAL_0:2;
L1516: ( C200 . ( C203 + 1 ) ) = ( ( C200 . C203 ) + D96 ) by L1515 , L1439;
reconsider D98 = ( C200 . C203 ) as (Element of ( REAL C194 )) by REAL_NS1:def 6;
L1517: ( ( Euclid_scalar C194 ) . (C198 , ( C200 . C203 )) ) = ( 0 ) by L1479 , L1509 , XREAL_1:29;
L1518: |( D86 , D98 )| = ( 0 ) by L1517 , REAL_NS1:def 5;
L1519: |( D86 , ( D98 + D97 ) )| = ( |( D86 , D98 )| + |( D86 , D97 )| ) by EUCLID_4:28;
thus L1520: S18[ ( C203 + 1 ) ] by L1519 , L1516 , L1518 , L1513 , REAL_NS1:def 5;
end;
end;
end;
L1523: S18[ ( 0 ) ] by L1443 , FINSEQ_1:1;
L1524: (for B200 being (Element of ( NAT )) holds S18[ B200 ]) from NAT_1:sch 1(L1523 , L1483);
L1525: (for B201 being Nat holds ((B201 >= C195 & B201 <= ( len C196 )) implies ( ( Euclid_scalar C194 ) . (C198 , ( C200 . B201 )) ) = ( ( Euclid_scalar C194 ) . (C198 , ( ( C199 . ( C196 /. C195 ) ) * C198 )) )))
proof
let C204 being Nat;
assume that
L1526: C204 >= C195
and
L1527: C204 <= ( len C196 );
reconsider D99 = C204 as (Element of ( NAT )) by ORDINAL1:def 12;
L1528: ( ( Euclid_scalar C194 ) . (C198 , ( C200 . D99 )) ) = ( ( Euclid_scalar C194 ) . (C198 , ( ( C199 . ( C196 /. C195 ) ) * C198 )) ) by L1524 , L1526 , L1527;
thus L1529: ( ( Euclid_scalar C194 ) . (C198 , ( C200 . C204 )) ) = ( ( Euclid_scalar C194 ) . (C198 , ( ( C199 . ( C196 /. C195 ) ) * C198 )) ) by L1528;
end;
thus L1530: thesis by L1525 , L1437 , L1432 , L1436;
end;
theorem
L1531: (for B202 being (Element of ( NAT )) holds (for B203 being (FinSequence of ( REAL B202 )) holds (for B204 being (FinSequence of (the carrier of ( REAL-US B202 ))) holds (B203 = B204 implies ( Sum B203 ) = ( Sum B204 )))))
proof
let C205 being (Element of ( NAT ));
let C206 being (FinSequence of ( REAL C205 ));
let C207 being (FinSequence of (the carrier of ( REAL-US C205 )));
set D100 = ( REAL-US C205 );
assume L1532: C206 = C207;
L1533:
now
per cases ;
case L1534: ( len C206 ) > ( 0 );
set D101 = ( accum C206 );
L1535: ( len C206 ) = ( len D101 ) by L360;
L1536: ( C206 . 1 ) = ( D101 . 1 ) by L360;
L1537: ( Sum C206 ) = ( D101 . ( len C206 ) ) by L1534 , L444;
deffunc H1(set) = ( IFIN ($1 , ( ( len C206 ) + 1 ) , ( IFEQ ($1 , ( 0 ) , ( 0. D100 ) , ( D101 /. $1 )) ) , ( 0. D100 )) );
L1538: (for B205 being set holds (B205 in ( NAT ) implies H1(B205) in (the carrier of D100)))
proof
let C208 being set;
assume L1539: C208 in ( NAT );
reconsider D102 = C208 as (Element of ( NAT )) by L1539;
per cases ;
suppose L1540: D102 in ( ( len C206 ) + 1 );

L1541: H1(C208) = ( IFEQ (C208 , ( 0 ) , ( 0. D100 ) , ( D101 /. D102 )) ) by L1540 , MATRIX_7:def 1;
per cases ;
suppose L1542: C208 = ( 0 );

L1543: H1(C208) = ( 0. D100 ) by L1542 , L1541 , FUNCOP_1:def 8;
thus L1544: H1(C208) in (the carrier of D100) by L1543;
end;
suppose L1545: C208 <> ( 0 );

L1546: (the carrier of D100) = ( REAL C205 ) by REAL_NS1:def 6;
L1547: H1(C208) = ( D101 /. D102 ) by L1541 , L1545 , FUNCOP_1:def 8;
thus L1548: H1(C208) in (the carrier of D100) by L1547 , L1546;
end;
end;
suppose L1550: (not D102 in ( ( len C206 ) + 1 ));

L1551: H1(C208) = ( 0. D100 ) by L1550 , MATRIX_7:def 1;
thus L1552: H1(C208) in (the carrier of D100) by L1551;
end;
end;
consider C209 being (Function of ( NAT ) , (the carrier of D100)) such that L1554: (for B206 being set holds (B206 in ( NAT ) implies ( C209 . B206 ) = H1(B206))) from FUNCT_2:sch 2(L1538);
L1555: (for B207 being (Element of ( NAT )) holds (for B208 being (Element of D100) holds ((B207 < ( len C207 ) & B208 = ( C207 . ( B207 + 1 ) )) implies ( C209 . ( B207 + 1 ) ) = ( ( C209 . B207 ) + B208 ))))
proof
let C210 being (Element of ( NAT ));
let C211 being (Element of D100);
assume that
L1556: C210 < ( len C207 )
and
L1557: C211 = ( C207 . ( C210 + 1 ) );
L1558: ( C210 + 1 ) <= ( len C206 ) by L1532 , L1556 , NAT_1:13;
per cases ;
suppose L1559: C210 = ( 0 );

L1560: ( C210 + 1 ) < ( ( len C206 ) + 1 ) by L1559 , L1534 , XREAL_1:6;
L1561: ( C210 + 1 ) in ( ( len C206 ) + 1 ) by L1560 , NAT_1:44;
L1562: ( 0 ) in ( ( len C206 ) + 1 ) by NAT_1:44;
L1563: ( C209 . C210 ) = ( IFIN (C210 , ( ( len C206 ) + 1 ) , ( IFEQ (C210 , ( 0 ) , ( 0. D100 ) , ( D101 /. C210 )) ) , ( 0. D100 )) ) by L1554
.= ( IFEQ (C210 , ( 0 ) , ( 0. D100 ) , ( D101 /. C210 )) ) by L1559 , L1562 , MATRIX_7:def 1
.= ( 0. D100 ) by L1559 , FUNCOP_1:def 8;
thus L1564: ( C209 . ( C210 + 1 ) ) = ( IFIN (( C210 + 1 ) , ( ( len C206 ) + 1 ) , ( IFEQ (( C210 + 1 ) , ( 0 ) , ( 0. D100 ) , ( D101 /. ( C210 + 1 ) )) ) , ( 0. D100 )) ) by L1554
.= ( IFEQ (( C210 + 1 ) , ( 0 ) , ( 0. D100 ) , ( D101 /. ( C210 + 1 ) )) ) by L1561 , MATRIX_7:def 1
.= ( D101 /. 1 ) by L1559 , FUNCOP_1:def 8
.= ( C207 . ( C210 + 1 ) ) by L1532 , L1535 , L1536 , L1558 , L1559 , FINSEQ_4:15
.= ( ( C209 . C210 ) + C211 ) by L1557 , L1563 , RLVECT_1:4;
end;
suppose L1565: C210 <> ( 0 );

L1566: ( len C206 ) < ( ( len C206 ) + 1 ) by XREAL_1:29;
L1567: C210 < ( ( len C206 ) + 1 ) by L1566 , L1532 , L1556 , XXREAL_0:2;
L1568: C210 in ( ( len C206 ) + 1 ) by L1567 , NAT_1:44;
L1569: ( C209 . C210 ) = ( IFIN (C210 , ( ( len C206 ) + 1 ) , ( IFEQ (C210 , ( 0 ) , ( 0. D100 ) , ( D101 /. C210 )) ) , ( 0. D100 )) ) by L1554
.= ( IFEQ (C210 , ( 0 ) , ( 0. D100 ) , ( D101 /. C210 )) ) by L1568 , MATRIX_7:def 1
.= ( D101 /. C210 ) by L1565 , FUNCOP_1:def 8;
L1570: ( ( 0 ) + 1 ) <= ( C210 + 1 ) by NAT_1:13;
L1571: ( ( 0 ) + 1 ) <= C210 by L1565 , NAT_1:13;
L1572: ( C210 + 1 ) < ( ( len C206 ) + 1 ) by L1532 , L1556 , XREAL_1:6;
L1573: ( C210 + 1 ) in ( ( len C206 ) + 1 ) by L1572 , NAT_1:44;
thus L1574: ( C209 . ( C210 + 1 ) ) = ( IFIN (( C210 + 1 ) , ( ( len C206 ) + 1 ) , ( IFEQ (( C210 + 1 ) , ( 0 ) , ( 0. D100 ) , ( D101 /. ( C210 + 1 ) )) ) , ( 0. D100 )) ) by L1554
.= ( IFEQ (( C210 + 1 ) , ( 0 ) , ( 0. D100 ) , ( D101 /. ( C210 + 1 ) )) ) by L1573 , MATRIX_7:def 1
.= ( D101 /. ( C210 + 1 ) ) by FUNCOP_1:def 8
.= ( D101 . ( C210 + 1 ) ) by L1535 , L1558 , L1570 , FINSEQ_4:15
.= ( ( D101 /. C210 ) + ( C206 /. ( C210 + 1 ) ) ) by L1532 , L360 , L1556 , L1571
.= ( ( C209 . C210 ) + C211 ) by L1532 , L1557 , L1558 , L1570 , L1569 , FINSEQ_4:15;
end;
end;
L1576: ( len C206 ) < ( ( len C206 ) + 1 ) by XREAL_1:29;
L1577: ( len C206 ) in ( ( len C206 ) + 1 ) by L1576 , NAT_1:44;
L1578: ( ( 0 ) + 1 ) <= ( len C206 ) by L1534 , NAT_1:13;
L1579: ( 0 ) in ( ( len C206 ) + 1 ) by NAT_1:44;
L1580: ( C209 . ( 0 ) ) = ( IFIN (( 0 ) , ( ( len C206 ) + 1 ) , ( IFEQ (( 0 ) , ( 0 ) , ( 0. D100 ) , ( D101 /. ( 0 ) )) ) , ( 0. D100 )) ) by L1554
.= ( IFEQ (( 0 ) , ( 0 ) , ( 0. D100 ) , ( D101 /. ( 0 ) )) ) by L1579 , MATRIX_7:def 1
.= ( 0. D100 ) by FUNCOP_1:def 8;
L1581: ( C209 . ( len C207 ) ) = H1(( len C206 )) by L1532 , L1554
.= ( IFEQ (( len C206 ) , ( 0 ) , ( 0. D100 ) , ( D101 /. ( len C206 ) )) ) by L1577 , MATRIX_7:def 1
.= ( D101 /. ( len C206 ) ) by L1534 , FUNCOP_1:def 8
.= ( Sum C206 ) by L1535 , L1537 , L1578 , FINSEQ_4:15;
thus L1582: (ex B209 being (Function of ( NAT ) , (the carrier of D100)) st (( Sum C206 ) = ( B209 . ( len C207 ) ) & ( B209 . ( 0 ) ) = ( 0. D100 ) & (for B210 being (Element of ( NAT )) holds (for B211 being (Element of D100) holds ((B210 < ( len C207 ) & B211 = ( C207 . ( B210 + 1 ) )) implies ( B209 . ( B210 + 1 ) ) = ( ( B209 . B210 ) + B211 )))))) by L1581 , L1580 , L1555;
end;
case L1583: ( len C206 ) <= ( 0 );
set D103 = ( ( NAT ) --> ( 0. D100 ) );
L1584: (for B212 being (Element of ( NAT )) holds (for B213 being (Element of D100) holds ((B212 < ( len C207 ) & B213 = ( C207 . ( B212 + 1 ) )) implies ( D103 . ( B212 + 1 ) ) = ( ( D103 . B212 ) + B213 )))) by L1532 , L1583;
L1585: ( D103 . ( len C207 ) ) = ( 0. D100 ) by FUNCOP_1:7
.= ( 0* C205 ) by REAL_NS1:def 6;
L1586: ( D103 . ( 0 ) ) = ( 0. D100 ) by FUNCOP_1:7;
L1587: ( Sum C206 ) = ( 0* C205 ) by L1583 , L444;
thus L1588: (ex B214 being (Function of ( NAT ) , (the carrier of D100)) st (( Sum C206 ) = ( B214 . ( len C207 ) ) & ( B214 . ( 0 ) ) = ( 0. D100 ) & (for B215 being (Element of ( NAT )) holds (for B216 being (Element of D100) holds ((B215 < ( len C207 ) & B216 = ( C207 . ( B215 + 1 ) )) implies ( B214 . ( B215 + 1 ) ) = ( ( B214 . B215 ) + B216 )))))) by L1587 , L1585 , L1586 , L1584;
end;
end;
thus L1590: ( Sum C206 ) = ( Sum C207 ) by L1533 , RLVECT_1:def 12;
end;
registration
let C212 being set;
cluster ( RealVectSpace C212 ) ->  constituted-Functions;
coherence
proof
let C213 being (Element of ( RealVectSpace C212 ));
thus L1591: thesis;
end;
end;
registration
let R4 being Nat;
cluster ( RealVectSpace ( Seg R4 ) ) ->  constituted-FinSeqs;
coherence
proof
let C214 being (Element of ( RealVectSpace ( Seg R4 ) ));
L1593: C214 is (Element of ( REAL R4 )) by FINSEQ_2:93;
thus L1594: thesis by L1593;
end;
end;
registration
let C215 being set;
cluster  ->  real-valued for (Element of ( RealVectSpace C215 ));
coherence
proof
let C216 being (Element of ( RealVectSpace C215 ));
L1596: (C216 is (Function of C215 , ( REAL )) or C216 is  empty) by FUNCT_2:66;
thus L1597: thesis by L1596;
end;
end;
registration
let C217 being set;
let C218 , C219 being (VECTOR of ( RealVectSpace C217 ));
let C220 , C221 being  real-valued Function;
identify C218 + C219 with C220 + C221 when C218 = C220 , C219 = C221;
compatibility
proof
L1599: ( dom C219 ) = C217 by FUNCT_2:92;
assume that
L1600: C218 = C220
and
L1601: C219 = C221;
L1602: ( dom ( C218 + C219 ) ) = C217 by FUNCT_2:92;
L1603: (for B217 being set holds (B217 in ( dom ( C218 + C219 ) ) implies ( ( C218 + C219 ) . B217 ) = ( ( C220 . B217 ) + ( C221 . B217 ) ))) by L1602 , L1600 , L1601 , FUNCSDOM:1;
L1604: ( dom C218 ) = C217 by FUNCT_2:92;
L1605: ( dom ( C218 + C219 ) ) = ( ( dom C220 ) /\ ( dom C221 ) ) by L1604 , L1600 , L1601 , L1599 , FUNCT_2:92;
thus L1606: thesis by L1605 , L1603 , VALUED_1:def 1;
end;
end;
registration
let C222 being set;
let C223 being (VECTOR of ( RealVectSpace C222 ));
let C224 being  real-valued Function;
let C225 , C226 being (Element of ( REAL ));
identify C225 * C223 with C226 (#) C224 when C223 = C224 , C225 = C226;
compatibility
proof
L1608: ( dom C223 ) = C222 by FUNCT_2:92;
assume that
L1609: C223 = C224
and
L1610: C225 = C226;
L1611: ( dom ( C225 * C223 ) ) = C222 by FUNCT_2:92;
L1612: (for B218 being set holds (B218 in ( dom ( C225 * C223 ) ) implies ( ( C225 * C223 ) . B218 ) = ( C226 * ( C224 . B218 ) ))) by L1611 , L1609 , L1610 , FUNCSDOM:4;
thus L1613: thesis by L1612 , L1609 , L1611 , L1608 , VALUED_1:def 5;
end;
end;
registration
let C227 being set;
let C228 being (VECTOR of ( RealVectSpace C227 ));
let C229 being  real-valued Function;
identify - C228 with - C229 when C228 = C229;
compatibility
proof
assume L1615: C228 = C229;
L1616:
now
let C230 being set;
assume L1617: C230 in ( dom C229 );
thus L1618: ( ( - C228 ) . C230 ) = ( ( ( - 1 ) * C228 ) . C230 ) by RLVECT_1:16
.= ( ( - 1 ) * ( C229 . C230 ) ) by L1615 , VALUED_1:6
.= ( - ( C229 . C230 ) );
end;
L1619: ( dom ( - C228 ) ) = C227 by FUNCT_2:92;
thus L1620: thesis by L1619 , L1615 , L1616 , FUNCT_2:92 , VALUED_1:9;
end;
end;
registration
let C231 being set;
let C232 , C233 being (VECTOR of ( RealVectSpace C231 ));
let C234 , C235 being  real-valued Function;
identify C232 - C233 with C234 - C235 when C232 = C234 , C233 = C235;
compatibility;
end;
theorem
L1623: (for R4 being Nat holds (for B219 being (Subspace of ( RealVectSpace ( Seg R4 ) )) holds (for B220 being (Element of ( REAL R4 )) holds (for B221 being Real holds (B220 in (the carrier of B219) implies ( B221 * B220 ) in (the carrier of B219))))))
proof
let R4 being Nat;
let C236 being (Subspace of ( RealVectSpace ( Seg R4 ) ));
let C237 being (Element of ( REAL R4 ));
let C238 being Real;
reconsider D104 = C237 as (Element of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
assume L1624: C237 in (the carrier of C236);
L1625: C237 in C236 by L1624 , STRUCT_0:def 5;
L1626: ( C238 * C237 ) = ( C238 * D104 );
L1627: ( C238 * C237 ) in C236 by L1626 , L1625 , RLSUB_1:21;
thus L1628: ( C238 * C237 ) in (the carrier of C236) by L1627 , STRUCT_0:def 5;
end;
theorem
L1629: (for R4 being Nat holds (for B222 being (Subspace of ( RealVectSpace ( Seg R4 ) )) holds (for B223 , B224 being (Element of ( REAL R4 )) holds ((B223 in (the carrier of B222) & B224 in (the carrier of B222)) implies ( B223 + B224 ) in (the carrier of B222)))))
proof
let R4 being Nat;
let C239 being (Subspace of ( RealVectSpace ( Seg R4 ) ));
let C240 , C241 being (Element of ( REAL R4 ));
assume that
L1630: C240 in (the carrier of C239)
and
L1631: C241 in (the carrier of C239);
L1632: C241 in C239 by L1631 , STRUCT_0:def 5;
reconsider D105 = C240 , D106 = C241 as (Element of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
L1633: ( D105 + D106 ) = ( C240 + C241 );
L1634: C240 in C239 by L1630 , STRUCT_0:def 5;
L1635: ( C240 + C241 ) in C239 by L1634 , L1632 , L1633 , RLSUB_1:20;
thus L1636: ( C240 + C241 ) in (the carrier of C239) by L1635 , STRUCT_0:def 5;
end;
theorem
L1637: (for R4 being Nat holds (for B225 being (Subspace of ( RealVectSpace ( Seg R4 ) )) holds (for B226 , B227 being (Element of ( REAL R4 )) holds (for B228 , B229 being Real holds ((B226 in (the carrier of B225) & B227 in (the carrier of B225)) implies ( ( B228 * B226 ) + ( B229 * B227 ) ) in (the carrier of B225))))))
proof
let R4 being Nat;
let C242 being (Subspace of ( RealVectSpace ( Seg R4 ) ));
let C243 , C244 being (Element of ( REAL R4 ));
let C245 , C246 being Real;
assume that
L1638: C243 in (the carrier of C242)
and
L1639: C244 in (the carrier of C242);
L1640: ( C246 * C244 ) in (the carrier of C242) by L1639 , L1623;
L1641: ( C245 * C243 ) in (the carrier of C242) by L1638 , L1623;
thus L1642: ( ( C245 * C243 ) + ( C246 * C244 ) ) in (the carrier of C242) by L1641 , L1640 , L1629;
end;
L1643: (for R4 being Nat holds (for B230 being (Subspace of ( RealVectSpace ( Seg R4 ) )) holds (for B231 , B232 being (Element of ( REAL R4 )) holds (for B233 being Real holds ((B231 in (the carrier of B230) & B232 in (the carrier of B230)) implies ( ( B233 * B231 ) + B232 ) in (the carrier of B230))))))
proof
let R4 being Nat;
let C247 being (Subspace of ( RealVectSpace ( Seg R4 ) ));
let C248 , C249 being (Element of ( REAL R4 ));
let C250 being Real;
assume that
L1644: C248 in (the carrier of C247)
and
L1645: C249 in (the carrier of C247);
L1646: ( C250 * C248 ) in (the carrier of C247) by L1644 , L1623;
thus L1647: ( ( C250 * C248 ) + C249 ) in (the carrier of C247) by L1646 , L1645 , L1629;
end;
theorem
L1648: (for R4 being Nat holds (for B234 , B235 being (Element of ( REAL R4 )) holds ( ( Euclid_scalar R4 ) . (B234 , B235) ) = |( B234 , B235 )|)) by REAL_NS1:def 5;
theorem
L1649: (for R2 being Nat holds (for R4 being Nat holds (for B236 being (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) ))) holds (for B237 being (Subset of ( RealVectSpace ( Seg R4 ) )) holds (for B238 being (Element of ( RealVectSpace ( Seg R4 ) )) holds (for B239 being (Linear_Combination of B237) holds ((B236 is  one-to-one & B237 is  R-orthogonal & ( rng B236 ) = ( Carrier B239 ) & B238 in B237 & R2 in ( dom ( B239 (#) B236 ) ) & B238 = ( B236 . R2 )) implies ( ( Euclid_scalar R4 ) . (B238 , ( Sum ( B239 (#) B236 ) )) ) = ( ( Euclid_scalar R4 ) . (B238 , ( ( B239 . ( B236 /. R2 ) ) * B238 )) ))))))))
proof
let R2 being Nat;
let R4 being Nat;
let C251 being (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) )));
let C252 being (Subset of ( RealVectSpace ( Seg R4 ) ));
let C253 being (Element of ( RealVectSpace ( Seg R4 ) ));
let C254 being (Linear_Combination of C252);
assume that
L1650: C251 is  one-to-one
and
L1651: C252 is  R-orthogonal
and
L1652: ( rng C251 ) = ( Carrier C254 )
and
L1653: C253 in C252
and
L1654: R2 in ( dom ( C254 (#) C251 ) )
and
L1655: C253 = ( C251 . R2 );
L1656: ( len ( C254 (#) C251 ) ) = ( len C251 ) by RLVECT_2:def 7;
L1657: ( dom ( C254 (#) C251 ) ) = ( Seg ( len C251 ) ) by L1656 , FINSEQ_1:def 3
.= ( dom C251 ) by FINSEQ_1:def 3;
reconsider D107 = ( C254 (#) C251 ) as (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) )));
reconsider D108 = C253 as (Element of ( REAL R4 )) by FINSEQ_2:93;
consider C255 being (Function of ( NAT ) , (the carrier of ( RealVectSpace ( Seg R4 ) ))) such that L1658: ( Sum D107 ) = ( C255 . ( len D107 ) ) and L1659: ( C255 . ( 0 ) ) = ( 0. ( RealVectSpace ( Seg R4 ) ) ) and L1660: (for B240 being (Element of ( NAT )) holds (for B241 being (Element of ( RealVectSpace ( Seg R4 ) )) holds ((B240 < ( len D107 ) & B241 = ( D107 . ( B240 + 1 ) )) implies ( C255 . ( B240 + 1 ) ) = ( ( C255 . B240 ) + B241 )))) by RLVECT_1:def 12;
defpred S20[ Nat ] means (($1 >= R2 & $1 <= ( len C251 )) implies ( ( Euclid_scalar R4 ) . (C253 , ( C255 . $1 )) ) = ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) ));
defpred S21[ Nat ] means ($1 < R2 implies ( ( Euclid_scalar R4 ) . (C253 , ( C255 . $1 )) ) = ( 0 ));
L1661: ( ( Euclid_scalar R4 ) . (C253 , ( C255 . ( 0 ) )) ) = |( D108 , ( 0* R4 ) )| by L1659 , REAL_NS1:def 5
.= ( 0 ) by EUCLID_4:18;
L1662: S21[ ( 0 ) ] by L1661;
L1663: ( dom ( C254 (#) C251 ) ) = ( Seg ( len ( C254 (#) C251 ) ) ) by FINSEQ_1:def 3;
L1664: R2 <= ( len C251 ) by L1663 , L1654 , L1656 , FINSEQ_1:1;
L1665: ( Carrier C254 ) c= C252 by RLVECT_2:def 6;
L1666: (for B242 being (Element of ( NAT )) holds (S21[ B242 ] implies S21[ ( B242 + 1 ) ]))
proof
let C256 being (Element of ( NAT ));
assume L1667: S21[ C256 ];
L1668:
now
per cases ;
case L1669: C256 < ( len D107 );
L1670: 1 <= ( C256 + 1 ) by NAT_1:11;
L1671: ( C256 + 1 ) <= ( len D107 ) by L1669 , NAT_1:13;
L1672: ( C256 + 1 ) in ( Seg ( len D107 ) ) by L1671 , L1670 , FINSEQ_1:1;
L1673: ( C256 + 1 ) in ( dom D107 ) by L1672 , FINSEQ_1:def 3;
L1674: ( D107 . ( C256 + 1 ) ) in ( rng D107 ) by L1673 , FUNCT_1:def 3;
reconsider D109 = ( D107 . ( C256 + 1 ) ) as (Element of ( RealVectSpace ( Seg R4 ) )) by L1674;
reconsider D110 = D109 as (Element of ( REAL R4 )) by FINSEQ_2:93;
reconsider D111 = ( C255 . C256 ) as (Element of ( REAL R4 )) by FINSEQ_2:93;
per cases ;
suppose L1675: ( C256 + 1 ) < R2;

L1676: 1 <= ( C256 + 1 ) by NAT_1:11;
L1677: ( C256 + 1 ) < ( len C251 ) by L1664 , L1675 , XXREAL_0:2;
L1678: ( C256 + 1 ) in ( Seg ( len C251 ) ) by L1677 , L1676 , FINSEQ_1:1;
L1679: ( C256 + 1 ) in ( dom C251 ) by L1678 , FINSEQ_1:def 3;
L1680: ( C251 /. ( C256 + 1 ) ) = ( C251 . ( C256 + 1 ) ) by L1679 , PARTFUN1:def 6;
L1681: D108 <> ( C251 /. ( C256 + 1 ) ) by L1680 , L1650 , L1654 , L1655 , L1657 , L1675 , L1679 , FUNCT_1:def 4;
L1682: C256 < ( C256 + 1 ) by XREAL_1:29;
L1683: |( D108 , D111 )| = ( 0 ) by L1682 , L1667 , L1675 , REAL_NS1:def 5 , XXREAL_0:2;
reconsider D112 = ( C251 /. ( C256 + 1 ) ) as (Element of ( REAL R4 )) by FINSEQ_2:93;
L1684: |( D108 , ( D111 + D110 ) )| = ( |( D108 , D111 )| + |( D108 , D110 )| ) by EUCLID_4:28;
L1685: ( C251 /. ( C256 + 1 ) ) in ( rng C251 ) by L1679 , L1680 , FUNCT_1:def 3;
L1686: D109 = ( ( C254 . ( C251 /. ( C256 + 1 ) ) ) * ( C251 /. ( C256 + 1 ) ) ) by L1657 , L1679 , RLVECT_2:def 7;
L1687: |( D108 , D110 )| = ( ( C254 . ( C251 /. ( C256 + 1 ) ) ) * |( D108 , D112 )| ) by L1686 , EUCLID_4:22
.= ( ( C254 . ( C251 /. ( C256 + 1 ) ) ) * ( 0 ) ) by L1651 , L1652 , L1653 , L1665 , L1685 , L1681 , L209
.= ( 0 );
L1688: ( ( Euclid_scalar R4 ) . (C253 , ( ( C255 . C256 ) + D109 )) ) = ( 0 ) by L1687 , L1683 , L1684 , REAL_NS1:def 5;
thus L1689: S21[ ( C256 + 1 ) ] by L1688 , L1660 , L1669;
end;
suppose L1690: ( C256 + 1 ) >= R2;

thus L1691: S21[ ( C256 + 1 ) ] by L1690;
end;
end;
case L1693: C256 >= ( len D107 );
L1694: ( C256 + 1 ) > C256 by XREAL_1:29;
L1695: ( C256 + 1 ) > ( len D107 ) by L1694 , L1693 , XXREAL_0:2;
thus L1696: S21[ ( C256 + 1 ) ] by L1695 , L1656 , L1664 , XXREAL_0:2;
end;
end;
thus L1698: S21[ ( C256 + 1 ) ] by L1668;
end;
L1699: (for B243 being (Element of ( NAT )) holds S21[ B243 ]) from NAT_1:sch 1(L1662 , L1666);
L1700: (for B244 being Nat holds (B244 < R2 implies ( ( Euclid_scalar R4 ) . (C253 , ( C255 . B244 )) ) = ( 0 )))
proof
let C257 being Nat;
reconsider D113 = C257 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L1701: C257 < R2;
L1702: ( ( Euclid_scalar R4 ) . (C253 , ( C255 . D113 )) ) = ( 0 ) by L1701 , L1699;
thus L1703: ( ( Euclid_scalar R4 ) . (C253 , ( C255 . C257 )) ) = ( 0 ) by L1702;
end;
L1704: (for B245 being (Element of ( NAT )) holds (S20[ B245 ] implies S20[ ( B245 + 1 ) ]))
proof
let C258 being (Element of ( NAT ));
assume L1705: S20[ C258 ];
per cases ;
suppose L1706: ( C258 + 1 ) < R2;

thus L1707: S20[ ( C258 + 1 ) ] by L1706;
end;
suppose L1708: ( C258 + 1 ) >= R2;

per cases  by L1708 , XXREAL_0:1;
suppose L1709: ( C258 + 1 ) > R2;

per cases ;
suppose L1710: ( C258 + 1 ) <= ( len D107 );

L1711: 1 <= ( C258 + 1 ) by NAT_1:11;
L1712: ( C258 + 1 ) in ( Seg ( len D107 ) ) by L1711 , L1710 , FINSEQ_1:1;
L1713: ( C258 + 1 ) in ( dom C251 ) by L1712 , L1656 , FINSEQ_1:def 3;
L1714: ( C251 /. ( C258 + 1 ) ) = ( C251 . ( C258 + 1 ) ) by L1713 , PARTFUN1:def 6;
L1715: ( C251 /. ( C258 + 1 ) ) in ( rng C251 ) by L1714 , L1713 , FUNCT_1:def 3;
L1716: ( C258 + 1 ) in ( dom D107 ) by L1712 , FINSEQ_1:def 3;
L1717: ( D107 . ( C258 + 1 ) ) in ( rng D107 ) by L1716 , FUNCT_1:def 3;
reconsider D114 = ( D107 . ( C258 + 1 ) ) as (Element of ( RealVectSpace ( Seg R4 ) )) by L1717;
reconsider D115 = D114 as (Element of ( REAL R4 )) by FINSEQ_2:93;
reconsider D116 = ( C251 /. ( C258 + 1 ) ) as (Element of ( REAL R4 )) by FINSEQ_2:93;
reconsider D117 = ( C255 . C258 ) as (Element of ( REAL R4 )) by FINSEQ_2:93;
L1718: |( D108 , ( D117 + D115 ) )| = ( |( D108 , D117 )| + |( D108 , D115 )| ) by EUCLID_4:28;
L1719: D108 <> ( C251 /. ( C258 + 1 ) ) by L1650 , L1654 , L1655 , L1657 , L1709 , L1713 , L1714 , FUNCT_1:def 4;
L1720: D114 = ( ( C254 . ( C251 /. ( C258 + 1 ) ) ) * ( C251 /. ( C258 + 1 ) ) ) by L1657 , L1713 , RLVECT_2:def 7;
L1721: |( D108 , D115 )| = ( ( C254 . ( C251 /. ( C258 + 1 ) ) ) * |( D108 , D116 )| ) by L1720 , EUCLID_4:22
.= ( ( C254 . ( C251 /. ( C258 + 1 ) ) ) * ( 0 ) ) by L1651 , L1652 , L1653 , L1665 , L1715 , L1719 , L209
.= ( 0 );
L1722: C258 < ( C258 + 1 ) by XREAL_1:29;
L1723: C258 < ( len D107 ) by L1722 , L1710 , XXREAL_0:2;
L1724: |( D108 , D117 )| = ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) ) by L1723 , L1705 , L1709 , NAT_1:13 , REAL_NS1:def 5 , RLVECT_2:def 7;
L1725: ( ( Euclid_scalar R4 ) . (C253 , ( ( C255 . C258 ) + D114 )) ) = ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) ) by L1724 , L1718 , L1721 , REAL_NS1:def 5;
thus L1726: S20[ ( C258 + 1 ) ] by L1725 , L1660 , L1723;
end;
suppose L1727: ( C258 + 1 ) > ( len D107 );

thus L1728: S20[ ( C258 + 1 ) ] by L1727 , RLVECT_2:def 7;
end;
end;
suppose L1730: ( C258 + 1 ) = R2;

L1731: ( D107 . ( C258 + 1 ) ) in ( rng D107 ) by L1730 , L1654 , FUNCT_1:def 3;
reconsider D118 = ( D107 . ( C258 + 1 ) ) as (Element of ( RealVectSpace ( Seg R4 ) )) by L1731;
L1732: D118 = ( ( C254 . ( C251 /. ( C258 + 1 ) ) ) * ( C251 /. ( C258 + 1 ) ) ) by L1654 , L1730 , RLVECT_2:def 7;
reconsider D119 = D118 as (Element of ( REAL R4 )) by FINSEQ_2:93;
L1733: ( C258 + 1 ) in ( dom C251 ) by L1654 , L1663 , L1656 , L1730 , FINSEQ_1:def 3;
L1734: |( D108 , D119 )| = |( D108 , ( ( C254 . ( C251 /. R2 ) ) * D108 ) )| by L1733 , L1655 , L1730 , L1732 , PARTFUN1:def 6
.= ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) ) by REAL_NS1:def 5;
reconsider D120 = ( C255 . C258 ) as (Element of ( REAL R4 )) by FINSEQ_2:93;
L1735: ( ( Euclid_scalar R4 ) . (C253 , ( C255 . C258 )) ) = ( 0 ) by L1700 , L1730 , XREAL_1:29;
L1736: |( D108 , D120 )| = ( 0 ) by L1735 , REAL_NS1:def 5;
L1737: C258 < ( C258 + 1 ) by XREAL_1:29;
L1738: C258 < ( len D107 ) by L1737 , L1656 , L1664 , L1730 , XXREAL_0:2;
L1739: |( D108 , ( D120 + D119 ) )| = ( |( D108 , D120 )| + |( D108 , D119 )| ) by EUCLID_4:28;
L1740: ( ( Euclid_scalar R4 ) . (C253 , ( ( C255 . C258 ) + D118 )) ) = ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) ) by L1739 , L1736 , L1734 , REAL_NS1:def 5;
thus L1741: S20[ ( C258 + 1 ) ] by L1740 , L1660 , L1738;
end;
end;
end;
L1744: S20[ ( 0 ) ] by L1654 , L1663 , FINSEQ_1:1;
L1745: (for B246 being (Element of ( NAT )) holds S20[ B246 ]) from NAT_1:sch 1(L1744 , L1704);
L1746: (for B247 being Nat holds ((B247 >= R2 & B247 <= ( len C251 )) implies ( ( Euclid_scalar R4 ) . (C253 , ( C255 . B247 )) ) = ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) )))
proof
let C259 being Nat;
assume that
L1747: C259 >= R2
and
L1748: C259 <= ( len C251 );
reconsider D121 = C259 as (Element of ( NAT )) by ORDINAL1:def 12;
L1749: ( ( Euclid_scalar R4 ) . (C253 , ( C255 . D121 )) ) = ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) ) by L1745 , L1747 , L1748;
thus L1750: ( ( Euclid_scalar R4 ) . (C253 , ( C255 . C259 )) ) = ( ( Euclid_scalar R4 ) . (C253 , ( ( C254 . ( C251 /. R2 ) ) * C253 )) ) by L1749;
end;
thus L1751: thesis by L1746 , L1658 , L1656 , L1664;
end;
registration
let R4 being Nat;
cluster  R-orthonormal ->  linearly-independent for (Subset of ( RealVectSpace ( Seg R4 ) ));
coherence
proof
let C260 being (Subset of ( RealVectSpace ( Seg R4 ) ));
assume L1752: C260 is  R-orthonormal;
let C261 being (Linear_Combination of C260);
assume L1753: ( Sum C261 ) = ( 0. ( RealVectSpace ( Seg R4 ) ) );
set D122 = the (Element of ( Carrier C261 ));
consider C262 being (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) ))) such that L1754: C262 is  one-to-one and L1755: ( rng C262 ) = ( Carrier C261 ) and L1756: ( Sum C261 ) = ( Sum ( C261 (#) C262 ) ) by RLVECT_2:def 8;
assume L1757: ( Carrier C261 ) <> ( {} );
L1758: D122 in ( Carrier C261 ) by L1757;
L1759: D122 in { B248 where B248 is (Element of ( RealVectSpace ( Seg R4 ) )) : ( C261 . B248 ) <> ( 0 ) } by L1758 , RLVECT_2:def 4;
consider C263 being (Element of ( RealVectSpace ( Seg R4 ) )) such that L1760: D122 = C263 and L1761: ( C261 . C263 ) <> ( 0 ) by L1759;
reconsider D123 = C263 as (Element of ( REAL R4 )) by FINSEQ_2:93;
L1762: ( ( Euclid_scalar R4 ) . (C263 , ( Sum ( C261 (#) C262 ) )) ) = |( D123 , ( 0* R4 ) )| by L1753 , L1756 , REAL_NS1:def 5
.= ( 0 ) by EUCLID_4:18;
consider C264 being set such that L1763: C264 in ( dom C262 ) and L1764: D122 = ( C262 . C264 ) by L1757 , L1755 , FUNCT_1:def 3;
reconsider D124 = C264 as (Element of ( NAT )) by L1763;
L1765: ( C262 . C264 ) = ( C262 /. C264 ) by L1763 , PARTFUN1:def 6;
L1766: ( C262 /. D124 ) in ( rng C262 ) by L1765 , L1763 , FUNCT_1:def 3;
L1767: ( C262 /. D124 ) in { B249 where B249 is (Element of ( RealVectSpace ( Seg R4 ) )) : ( C261 . B249 ) <> ( 0 ) } by L1766 , L1755 , RLVECT_2:def 4;
L1768: (ex B250 being (Element of ( RealVectSpace ( Seg R4 ) )) st (B250 = ( C262 /. D124 ) & ( C261 . B250 ) <> ( 0 ))) by L1767;
L1769: ( dom C262 ) = ( Seg ( len C262 ) ) by FINSEQ_1:def 3;
L1770: ( Carrier C261 ) c= C260 by RLVECT_2:def 6;
L1771: ( len ( C261 (#) C262 ) ) = ( len C262 ) by RLVECT_2:def 7;
L1772: D124 in ( dom ( C261 (#) C262 ) ) by L1771 , L1763 , L1769 , FINSEQ_1:def 3;
L1773: ( ( Euclid_scalar R4 ) . (C263 , ( Sum ( C261 (#) C262 ) )) ) = ( ( Euclid_scalar R4 ) . (C263 , ( ( C261 . ( C262 /. D124 ) ) * C263 )) ) by L1772 , L1752 , L1770 , L1758 , L1760 , L1754 , L1755 , L1764 , L1649
.= |( D123 , ( ( C261 . ( C262 /. D124 ) ) * D123 ) )| by REAL_NS1:def 5
.= ( ( C261 . ( C262 /. D124 ) ) * |( D123 , D123 )| ) by EUCLID_4:22
.= ( ( C261 . ( C262 /. D124 ) ) * ( |. D123 .| ^2 ) ) by EUCLID_2:4
.= ( ( C261 . ( C262 /. D124 ) ) * ( 1 ^2 ) ) by L1752 , L1770 , L1758 , L1760 , L227
.= ( C261 . ( C262 /. D124 ) );
thus L1774: contradiction by L1773 , L1768 , L1762;
end;
end;
registration
let C265 being (Element of ( NAT ));
cluster  R-orthonormal ->  linearly-independent for (Subset of ( REAL-US C265 ));
coherence
proof
let C266 being (Subset of ( REAL-US C265 ));
assume L1776: C266 is  R-orthonormal;
let C267 being (Linear_Combination of C266);
assume L1777: ( Sum C267 ) = ( 0. ( REAL-US C265 ) );
set D125 = the (Element of ( Carrier C267 ));
consider C268 being (FinSequence of (the carrier of ( REAL-US C265 ))) such that L1778: C268 is  one-to-one and L1779: ( rng C268 ) = ( Carrier C267 ) and L1780: ( Sum C267 ) = ( Sum ( C267 (#) C268 ) ) by RLVECT_2:def 8;
assume L1781: ( Carrier C267 ) <> ( {} );
L1782: D125 in ( Carrier C267 ) by L1781;
L1783: D125 in { B251 where B251 is (Element of ( REAL-US C265 )) : ( C267 . B251 ) <> ( 0 ) } by L1782 , RLVECT_2:def 4;
consider C269 being (Element of ( REAL-US C265 )) such that L1784: D125 = C269 and L1785: ( C267 . C269 ) <> ( 0 ) by L1783;
reconsider D126 = C269 as (Element of ( REAL C265 )) by REAL_NS1:def 6;
L1786: ( 0. ( REAL-US C265 ) ) = ( 0* C265 ) by REAL_NS1:def 6;
L1787: ( ( Euclid_scalar C265 ) . (C269 , ( Sum ( C267 (#) C268 ) )) ) = |( D126 , ( 0* C265 ) )| by L1786 , L1777 , L1780 , REAL_NS1:def 5
.= ( 0 ) by EUCLID_4:18;
consider C270 being set such that L1788: C270 in ( dom C268 ) and L1789: D125 = ( C268 . C270 ) by L1781 , L1779 , FUNCT_1:def 3;
reconsider D127 = C270 as (Element of ( NAT )) by L1788;
L1790: ( C268 . C270 ) = ( C268 /. C270 ) by L1788 , PARTFUN1:def 6;
L1791: ( C268 /. D127 ) in ( rng C268 ) by L1790 , L1788 , FUNCT_1:def 3;
L1792: ( C268 /. D127 ) in { B252 where B252 is (Element of ( REAL-US C265 )) : ( C267 . B252 ) <> ( 0 ) } by L1791 , L1779 , RLVECT_2:def 4;
L1793: (ex B253 being (Element of ( REAL-US C265 )) st (B253 = ( C268 /. D127 ) & ( C267 . B253 ) <> ( 0 ))) by L1792;
L1794: ( dom C268 ) = ( Seg ( len C268 ) ) by FINSEQ_1:def 3;
L1795: ( Carrier C267 ) c= C266 by RLVECT_2:def 6;
L1796: ( len ( C267 (#) C268 ) ) = ( len C268 ) by RLVECT_2:def 7;
L1797: D127 in ( dom ( C267 (#) C268 ) ) by L1796 , L1788 , L1794 , FINSEQ_1:def 3;
L1798: ( ( Euclid_scalar C265 ) . (C269 , ( Sum ( C267 (#) C268 ) )) ) = ( ( Euclid_scalar C265 ) . (C269 , ( ( C267 . ( C268 /. D127 ) ) * C269 )) ) by L1797 , L1776 , L1795 , L1782 , L1784 , L1778 , L1779 , L1789 , L1425
.= |( D126 , ( ( C267 . ( C268 /. D127 ) ) * D126 ) )| by REAL_NS1:def 5
.= ( ( C267 . ( C268 /. D127 ) ) * |( D126 , D126 )| ) by EUCLID_4:22
.= ( ( C267 . ( C268 /. D127 ) ) * ( |. D126 .| ^2 ) ) by EUCLID_2:4
.= ( ( C267 . ( C268 /. D127 ) ) * ( 1 ^2 ) ) by L1776 , L1795 , L1782 , L1784 , L227
.= ( C267 . ( C268 /. D127 ) );
thus L1799: contradiction by L1798 , L1793 , L1787;
end;
end;
theorem
L1801: (for R4 being Nat holds (for B254 being (Subset of ( RealVectSpace ( Seg R4 ) )) holds (for B255 , B256 being (Element of ( REAL R4 )) holds (for B257 being Real holds ((B254 is  linearly-independent & B255 in B254 & B256 in B254 & B256 = ( B257 * B255 )) implies B255 = B256)))))
proof
let R4 being Nat;
let C271 being (Subset of ( RealVectSpace ( Seg R4 ) ));
let C272 , C273 being (Element of ( REAL R4 ));
let C274 being Real;
assume that
L1802: C271 is  linearly-independent
and
L1803: C272 in C271
and
L1804: C273 in C271
and
L1805: C273 = ( C274 * C272 );
reconsider D128 = C272 , D129 = C273 as (Element of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
reconsider D130 = { D129 , D128 } as (Subset of ( RealVectSpace ( Seg R4 ) ));
L1806: D130 c= C271
proof
let C275 being set;
assume L1807: C275 in D130;
thus L1808: C275 in C271 by L1807 , L1803 , L1804 , TARSKI:def 2;
end;
L1809: D130 is  linearly-independent by L1806 , L1802 , RLVECT_3:5;
L1810: D129 = ( C274 * D128 ) by L1805;
thus L1811: C272 = C273 by L1810 , L1809 , RLVECT_3:12;
end;
L1812:
now
let R4 being Nat;
thus L1813: (( RN_Base R4 ) is  finite & ( card ( RN_Base R4 ) ) = R4)
proof
per cases ;
suppose L1814: R4 is  empty;

thus L1815: thesis by L1814;
end;
suppose L1816: R4 is non  empty;

reconsider D131 = R4 as non  empty Nat by L1816;
defpred S22[ set , set ] means (for B258 being (Element of ( NAT )) holds (B258 = $1 implies $2 = ( Base_FinSeq (D131 , B258) )));
L1817: (for B259 being set holds (B259 in ( Seg D131 ) implies (ex B260 being set st S22[ B259 , B260 ])))
proof
let C276 being set;
assume L1818: C276 in ( Seg D131 );
reconsider D132 = C276 as (Element of ( NAT )) by L1818;
L1819: (for B261 being (Element of ( NAT )) holds (B261 = D132 implies ( Base_FinSeq (D131 , D132) ) = ( Base_FinSeq (D131 , B261) )));
thus L1820: (ex B262 being set st S22[ C276 , B262 ]) by L1819;
end;
consider C277 being Function such that L1821: (( dom C277 ) = ( Seg D131 ) & (for B263 being set holds (B263 in ( Seg D131 ) implies S22[ B263 , ( C277 . B263 ) ]))) from CLASSES1:sch 1(L1817);
L1822: ( rng C277 ) c= ( RN_Base D131 )
proof
let C278 being set;
assume L1823: C278 in ( rng C277 );
consider C279 being set such that L1824: C279 in ( dom C277 ) and L1825: C278 = ( C277 . C279 ) by L1823 , FUNCT_1:def 3;
reconsider D133 = C279 as (Element of ( NAT )) by L1821 , L1824;
L1826: D133 <= D131 by L1821 , L1824 , FINSEQ_1:1;
L1827: ( C277 . C279 ) = ( Base_FinSeq (D131 , D133) ) by L1821 , L1824;
L1828: 1 <= D133 by L1821 , L1824 , FINSEQ_1:1;
thus L1829: C278 in ( RN_Base D131 ) by L1828 , L1825 , L1826 , L1827;
end;
reconsider D134 = C277 as (Function of ( Seg D131 ) , ( RN_Base D131 )) by L1822 , L1821 , FUNCT_2:2;
L1830: (for B264 , B265 being set holds ((B264 in ( dom C277 ) & B265 in ( dom C277 ) & ( C277 . B264 ) = ( C277 . B265 )) implies B264 = B265))
proof
let C280 , C281 being set;
assume that
L1831: C280 in ( dom C277 )
and
L1832: C281 in ( dom C277 )
and
L1833: ( C277 . C280 ) = ( C277 . C281 );
reconsider D135 = C280 , D136 = C281 as (Element of ( NAT )) by L1821 , L1831 , L1832;
L1834: D135 <= D131 by L1821 , L1831 , FINSEQ_1:1;
L1835: ( C277 . C281 ) = ( Base_FinSeq (D131 , D136) ) by L1821 , L1832;
L1836: ( C277 . C280 ) = ( Base_FinSeq (D131 , D135) ) by L1821 , L1831;
L1837: 1 <= D135 by L1821 , L1831 , FINSEQ_1:1;
thus L1838: C280 = C281 by L1837 , L1833 , L1834 , L1836 , L1835 , L1099;
end;
L1839: D134 is  one-to-one by L1830 , FUNCT_1:def 4;
L1840: ( RN_Base D131 ) c= ( rng C277 )
proof
let C282 being set;
assume L1841: C282 in ( RN_Base D131 );
consider C283 being (Element of ( NAT )) such that L1842: C282 = ( Base_FinSeq (D131 , C283) ) and L1843: 1 <= C283 and L1844: C283 <= D131 by L1841;
L1845: C283 in ( Seg D131 ) by L1843 , L1844 , FINSEQ_1:1;
L1846: ( C277 . C283 ) = ( Base_FinSeq (D131 , C283) ) by L1845 , L1821;
thus L1847: C282 in ( rng C277 ) by L1846 , L1821 , L1842 , L1845 , FUNCT_1:def 3;
end;
L1848: ( rng C277 ) = ( RN_Base D131 ) by L1840 , L1822 , XBOOLE_0:def 10;
L1849: D134 is  onto by L1848 , FUNCT_2:def 3;
L1850: ( card ( Seg D131 ) ) = ( card ( RN_Base D131 ) ) by L1849 , L1839 , L17;
thus L1851: thesis by L1850 , FINSEQ_1:57;
end;
end;

end;
begin
registration
let R4 being Nat;
cluster ( RN_Base R4 ) ->  finite;
coherence by L1812;
end;
theorem
L1815: (for R4 being Nat holds ( card ( RN_Base R4 ) ) = R4) by L1812;
theorem
L1816: (for R4 being Nat holds (for B266 being (FinSequence of ( REAL R4 )) holds (for B267 being (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) ))) holds (B266 = B267 implies ( Sum B266 ) = ( Sum B267 )))))
proof
let R4 being Nat;
let C284 being (FinSequence of ( REAL R4 ));
let C285 being (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) )));
assume L1817: C284 = C285;
set D137 = ( RealVectSpace ( Seg R4 ) );
L1818: ( REAL R4 ) = (the carrier of D137) by FINSEQ_2:93;
L1819:
now
per cases ;
case L1820: ( len C284 ) > ( 0 );
set D138 = ( accum C284 );
L1821: ( len C284 ) = ( len D138 ) by L360;
L1822: ( C284 . 1 ) = ( D138 . 1 ) by L360;
L1823: ( Sum C284 ) = ( D138 . ( len C284 ) ) by L444 , L1820;
deffunc H2(set) = ( IFIN ($1 , ( ( len C284 ) + 1 ) , ( IFEQ ($1 , ( 0 ) , ( 0. D137 ) , ( D138 /. $1 )) ) , ( 0. D137 )) );
L1824: (for B268 being set holds (B268 in ( NAT ) implies H2(B268) in (the carrier of D137)))
proof
let C286 being set;
assume L1825: C286 in ( NAT );
reconsider D139 = C286 as (Element of ( NAT )) by L1825;
per cases ;
suppose L1826: D139 in ( ( len C284 ) + 1 );

L1827: H2(C286) = ( IFEQ (C286 , ( 0 ) , ( 0. D137 ) , ( D138 /. D139 )) ) by L1826 , MATRIX_7:def 1;
per cases ;
suppose L1828: C286 = ( 0 );

L1829: H2(C286) = ( 0. D137 ) by L1828 , L1827 , FUNCOP_1:def 8;
thus L1830: H2(C286) in (the carrier of D137) by L1829;
end;
suppose L1831: C286 <> ( 0 );

L1832: H2(C286) = ( D138 /. D139 ) by L1831 , L1827 , FUNCOP_1:def 8;
thus L1833: H2(C286) in (the carrier of D137) by L1832 , L1818;
end;
end;
suppose L1835: (not D139 in ( ( len C284 ) + 1 ));

L1836: H2(C286) = ( 0. D137 ) by L1835 , MATRIX_7:def 1;
thus L1837: H2(C286) in (the carrier of D137) by L1836;
end;
end;
consider C287 being (Function of ( NAT ) , (the carrier of D137)) such that L1839: (for B269 being set holds (B269 in ( NAT ) implies ( C287 . B269 ) = H2(B269))) from FUNCT_2:sch 2(L1824);
L1840: (for B270 being (Element of ( NAT )) holds (for B271 being (Element of D137) holds ((B270 < ( len C285 ) & B271 = ( C285 . ( B270 + 1 ) )) implies ( C287 . ( B270 + 1 ) ) = ( ( C287 . B270 ) + B271 ))))
proof
let C288 being (Element of ( NAT ));
let C289 being (Element of D137);
assume that
L1841: C288 < ( len C285 )
and
L1842: C289 = ( C285 . ( C288 + 1 ) );
L1843: ( C288 + 1 ) <= ( len C284 ) by L1817 , L1841 , NAT_1:13;
per cases ;
suppose L1844: C288 = ( 0 );

L1845: ( C288 + 1 ) < ( ( len C284 ) + 1 ) by L1844 , L1820 , XREAL_1:6;
L1846: ( C288 + 1 ) in ( ( len C284 ) + 1 ) by L1845 , NAT_1:44;
L1847: ( 0 ) in ( ( len C284 ) + 1 ) by NAT_1:44;
L1848: ( C287 . C288 ) = ( IFIN (C288 , ( ( len C284 ) + 1 ) , ( IFEQ (C288 , ( 0 ) , ( 0. D137 ) , ( D138 /. C288 )) ) , ( 0. D137 )) ) by L1839
.= ( IFEQ (C288 , ( 0 ) , ( 0. D137 ) , ( D138 /. C288 )) ) by L1844 , L1847 , MATRIX_7:def 1
.= ( 0. D137 ) by L1844 , FUNCOP_1:def 8;
thus L1849: ( C287 . ( C288 + 1 ) ) = ( IFIN (( C288 + 1 ) , ( ( len C284 ) + 1 ) , ( IFEQ (( C288 + 1 ) , ( 0 ) , ( 0. D137 ) , ( D138 /. ( C288 + 1 ) )) ) , ( 0. D137 )) ) by L1839
.= ( IFEQ (( C288 + 1 ) , ( 0 ) , ( 0. D137 ) , ( D138 /. ( C288 + 1 ) )) ) by L1846 , MATRIX_7:def 1
.= ( D138 /. 1 ) by L1844 , FUNCOP_1:def 8
.= ( C285 . ( C288 + 1 ) ) by L1817 , L1821 , L1822 , L1843 , L1844 , FINSEQ_4:15
.= ( ( C287 . C288 ) + C289 ) by L1842 , L1848 , RLVECT_1:4;
end;
suppose L1850: C288 <> ( 0 );

L1851: ( len C284 ) < ( ( len C284 ) + 1 ) by XREAL_1:29;
L1852: C288 < ( ( len C284 ) + 1 ) by L1851 , L1817 , L1841 , XXREAL_0:2;
L1853: C288 in ( ( len C284 ) + 1 ) by L1852 , NAT_1:44;
L1854: ( C287 . C288 ) = ( IFIN (C288 , ( ( len C284 ) + 1 ) , ( IFEQ (C288 , ( 0 ) , ( 0. D137 ) , ( D138 /. C288 )) ) , ( 0. D137 )) ) by L1839
.= ( IFEQ (C288 , ( 0 ) , ( 0. D137 ) , ( D138 /. C288 )) ) by L1853 , MATRIX_7:def 1
.= ( D138 /. C288 ) by L1850 , FUNCOP_1:def 8;
L1855: ( ( 0 ) + 1 ) <= ( C288 + 1 ) by NAT_1:13;
L1856: ( ( 0 ) + 1 ) <= C288 by L1850 , NAT_1:13;
L1857: ( C288 + 1 ) < ( ( len C284 ) + 1 ) by L1817 , L1841 , XREAL_1:6;
L1858: ( C288 + 1 ) in ( ( len C284 ) + 1 ) by L1857 , NAT_1:44;
thus L1859: ( C287 . ( C288 + 1 ) ) = ( IFIN (( C288 + 1 ) , ( ( len C284 ) + 1 ) , ( IFEQ (( C288 + 1 ) , ( 0 ) , ( 0. D137 ) , ( D138 /. ( C288 + 1 ) )) ) , ( 0. D137 )) ) by L1839
.= ( IFEQ (( C288 + 1 ) , ( 0 ) , ( 0. D137 ) , ( D138 /. ( C288 + 1 ) )) ) by L1858 , MATRIX_7:def 1
.= ( D138 /. ( C288 + 1 ) ) by FUNCOP_1:def 8
.= ( D138 . ( C288 + 1 ) ) by L1821 , L1843 , L1855 , FINSEQ_4:15
.= ( ( D138 /. C288 ) + ( C284 /. ( C288 + 1 ) ) ) by L1817 , L360 , L1841 , L1856
.= ( ( C287 . C288 ) + C289 ) by L1817 , L1842 , L1843 , L1855 , L1854 , FINSEQ_4:15;
end;
end;
L1861: ( len C284 ) < ( ( len C284 ) + 1 ) by XREAL_1:29;
L1862: ( len C284 ) in ( ( len C284 ) + 1 ) by L1861 , NAT_1:44;
L1863: ( ( 0 ) + 1 ) <= ( len C284 ) by L1820 , NAT_1:13;
L1864: ( 0 ) in ( ( len C284 ) + 1 ) by NAT_1:44;
L1865: ( C287 . ( 0 ) ) = ( IFIN (( 0 ) , ( ( len C284 ) + 1 ) , ( IFEQ (( 0 ) , ( 0 ) , ( 0. D137 ) , ( D138 /. ( 0 ) )) ) , ( 0. D137 )) ) by L1839
.= ( IFEQ (( 0 ) , ( 0 ) , ( 0. D137 ) , ( D138 /. ( 0 ) )) ) by L1864 , MATRIX_7:def 1
.= ( 0. D137 ) by FUNCOP_1:def 8;
L1866: ( C287 . ( len C285 ) ) = H2(( len C284 )) by L1817 , L1839
.= ( IFEQ (( len C284 ) , ( 0 ) , ( 0. D137 ) , ( D138 /. ( len C284 ) )) ) by L1862 , MATRIX_7:def 1
.= ( D138 /. ( len C284 ) ) by L1820 , FUNCOP_1:def 8
.= ( Sum C284 ) by L1821 , L1823 , L1863 , FINSEQ_4:15;
thus L1867: (ex B272 being (Function of ( NAT ) , (the carrier of D137)) st (( Sum C284 ) = ( B272 . ( len C285 ) ) & ( B272 . ( 0 ) ) = ( 0. D137 ) & (for B273 being (Element of ( NAT )) holds (for B274 being (Element of D137) holds ((B273 < ( len C285 ) & B274 = ( C285 . ( B273 + 1 ) )) implies ( B272 . ( B273 + 1 ) ) = ( ( B272 . B273 ) + B274 )))))) by L1866 , L1865 , L1840;
end;
case L1868: ( len C284 ) <= ( 0 );
set D140 = ( ( NAT ) --> ( 0. D137 ) );
L1869: (for B275 being (Element of ( NAT )) holds (for B276 being (Element of D137) holds ((B275 < ( len C285 ) & B276 = ( C285 . ( B275 + 1 ) )) implies ( D140 . ( B275 + 1 ) ) = ( ( D140 . B275 ) + B276 )))) by L1817 , L1868;
L1870: ( D140 . ( len C285 ) ) = ( 0* R4 ) by FUNCOP_1:7;
L1871: ( D140 . ( 0 ) ) = ( 0. D137 ) by FUNCOP_1:7;
L1872: ( Sum C284 ) = ( 0* R4 ) by L1868 , L444;
thus L1873: (ex B277 being (Function of ( NAT ) , (the carrier of D137)) st (( Sum C284 ) = ( B277 . ( len C285 ) ) & ( B277 . ( 0 ) ) = ( 0. D137 ) & (for B278 being (Element of ( NAT )) holds (for B279 being (Element of D137) holds ((B278 < ( len C285 ) & B279 = ( C285 . ( B278 + 1 ) )) implies ( B277 . ( B278 + 1 ) ) = ( ( B277 . B278 ) + B279 )))))) by L1872 , L1870 , L1871 , L1869;
end;
end;
thus L1875: ( Sum C284 ) = ( Sum C285 ) by L1819 , RLVECT_1:def 12;
end;
theorem
L1876: (for R4 being Nat holds (for B280 being (Element of ( RealVectSpace ( Seg R4 ) )) holds (for B281 being (Subset of ( RealVectSpace ( Seg R4 ) )) holds (B281 = ( RN_Base R4 ) implies (ex B282 being (Linear_Combination of B281) st B280 = ( Sum B282 ))))))
proof
let R4 being Nat;
let C290 being (Element of ( RealVectSpace ( Seg R4 ) ));
let C291 being (Subset of ( RealVectSpace ( Seg R4 ) ));
reconsider D141 = C290 as (Element of ( REAL R4 )) by FINSEQ_2:93;
L1877: ( REAL R4 ) = (the carrier of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
assume L1878: C291 = ( RN_Base R4 );
L1879: { B283 where B283 is (Element of ( REAL R4 )) : (ex B284 being (Element of ( NAT )) st (1 <= B284 & B284 <= R4 & B283 = ( Base_FinSeq (R4 , B284) ))) } c= C291
proof
let C292 being set;
assume L1880: C292 in { B285 where B285 is (Element of ( REAL R4 )) : (ex B286 being (Element of ( NAT )) st (1 <= B286 & B286 <= R4 & B285 = ( Base_FinSeq (R4 , B286) ))) };
L1881: (ex B287 being (Element of ( REAL R4 )) st (C292 = B287 & (ex B288 being (Element of ( NAT )) st (1 <= B288 & B288 <= R4 & B287 = ( Base_FinSeq (R4 , B288) ))))) by L1880;
thus L1882: C292 in C291 by L1881 , L1878;
end;
L1883: C291 c= { B289 where B289 is (Element of ( REAL R4 )) : (ex B290 being (Element of ( NAT )) st (1 <= B290 & B290 <= R4 & B289 = ( Base_FinSeq (R4 , B290) ))) }
proof
let C293 being set;
assume L1884: C293 in C291;
L1885: (ex B291 being (Element of ( NAT )) st (C293 = ( Base_FinSeq (R4 , B291) ) & 1 <= B291 & B291 <= R4)) by L1884 , L1878;
thus L1886: C293 in { B292 where B292 is (Element of ( REAL R4 )) : (ex B293 being (Element of ( NAT )) st (1 <= B293 & B293 <= R4 & B292 = ( Base_FinSeq (R4 , B293) ))) } by L1885;
end;
L1887: C291 = { B294 where B294 is (Element of ( REAL R4 )) : (ex B295 being (Element of ( NAT )) st (1 <= B295 & B295 <= R4 & B294 = ( Base_FinSeq (R4 , B295) ))) } by L1883 , L1879 , XBOOLE_0:def 10;
L1888: { B296 where B296 is (Element of ( REAL R4 )) : (ex B297 being (Element of ( NAT )) st (1 <= B297 & B297 <= R4 & B296 = ( Base_FinSeq (R4 , B297) ) & |( D141 , B296 )| <> ( 0 ))) } c= C291
proof
let C294 being set;
assume L1889: C294 in { B298 where B298 is (Element of ( REAL R4 )) : (ex B299 being (Element of ( NAT )) st (1 <= B299 & B299 <= R4 & B298 = ( Base_FinSeq (R4 , B299) ) & |( D141 , B298 )| <> ( 0 ))) };
L1890: (ex B300 being (Element of ( REAL R4 )) st (B300 = C294 & (ex B301 being (Element of ( NAT )) st (1 <= B301 & B301 <= R4 & B300 = ( Base_FinSeq (R4 , B301) ) & |( D141 , B300 )| <> ( 0 ))))) by L1889;
thus L1891: C294 in C291 by L1890 , L1887;
end;
reconsider D142 = { B302 where B302 is (Element of ( REAL R4 )) : (ex B303 being (Element of ( NAT )) st (1 <= B303 & B303 <= R4 & B302 = ( Base_FinSeq (R4 , B303) ) & |( D141 , B302 )| <> ( 0 ))) } as (Subset of ( RealVectSpace ( Seg R4 ) )) by L1888 , XBOOLE_1:1;
L1892: ( dom ( ProjFinSeq D141 ) ) = ( Seg ( len ( ProjFinSeq D141 ) ) ) by FINSEQ_1:def 3
.= ( Seg R4 ) by L1244;
defpred S23[ set , set ] means ($1 in D142 implies (ex B304 being (Element of ( NAT )) st ($2 = B304 & 1 <= B304 & B304 <= R4 & $1 = ( Base_FinSeq (R4 , B304) ))));
L1893: (for B305 being set holds (B305 in D142 implies (ex B306 being set st (B306 in ( Seg R4 ) & S23[ B305 , B306 ]))))
proof
let C295 being set;
assume L1894: C295 in D142;
consider C296 being (Element of ( REAL R4 )) such that L1895: C295 = C296 and L1896: (ex B307 being (Element of ( NAT )) st (1 <= B307 & B307 <= R4 & C296 = ( Base_FinSeq (R4 , B307) ) & |( D141 , C296 )| <> ( 0 ))) by L1894;
consider C297 being (Element of ( NAT )) such that L1897: 1 <= C297 and L1898: C297 <= R4 and L1899: C296 = ( Base_FinSeq (R4 , C297) ) and L1900: |( D141 , C296 )| <> ( 0 ) by L1896;
L1901: C297 in ( Seg R4 ) by L1897 , L1898 , FINSEQ_1:1;
thus L1902: (ex B308 being set st (B308 in ( Seg R4 ) & S23[ C295 , B308 ])) by L1901 , L1895 , L1897 , L1898 , L1899;
end;
consider C298 being (Function of D142 , ( Seg R4 )) such that L1903: (for B309 being set holds (B309 in D142 implies S23[ B309 , ( C298 . B309 ) ])) from FUNCT_2:sch 1(L1893);
defpred S24[ set , set ] means (($1 in D142 implies (for B310 being (Element of ( NAT )) holds ((1 <= B310 & B310 <= R4 & $1 = ( Base_FinSeq (R4 , B310) )) implies $2 = |( D141 , ( Base_FinSeq (R4 , B310) ) )|))) & ((not $1 in D142) implies $2 = ( 0 )));
L1904: (for B311 being set holds (B311 in (the carrier of ( RealVectSpace ( Seg R4 ) )) implies (ex B312 being set st (B312 in ( REAL ) & S24[ B311 , B312 ]))))
proof
let C299 being set;
assume L1905: C299 in (the carrier of ( RealVectSpace ( Seg R4 ) ));
per cases ;
suppose L1906: C299 in D142;

consider C300 being (Element of ( REAL R4 )) such that L1907: C300 = C299 and L1908: (ex B313 being (Element of ( NAT )) st (1 <= B313 & B313 <= R4 & C300 = ( Base_FinSeq (R4 , B313) ) & |( D141 , C300 )| <> ( 0 ))) by L1906;
reconsider D143 = |( D141 , C300 )| as (Element of ( REAL ));
L1909: (for B314 being (Element of ( NAT )) holds ((1 <= B314 & B314 <= R4 & C299 = ( Base_FinSeq (R4 , B314) )) implies D143 = |( D141 , ( Base_FinSeq (R4 , B314) ) )|)) by L1907;
thus L1910: (ex B315 being set st (B315 in ( REAL ) & S24[ C299 , B315 ])) by L1909 , L1906;
end;
suppose L1911: (not C299 in D142);

thus L1912: (ex B316 being set st (B316 in ( REAL ) & S24[ C299 , B316 ])) by L1911;
end;
end;
consider C301 being (Function of (the carrier of ( RealVectSpace ( Seg R4 ) )) , ( REAL )) such that L1914: (for B317 being set holds (B317 in (the carrier of ( RealVectSpace ( Seg R4 ) )) implies S24[ B317 , ( C301 . B317 ) ])) from FUNCT_2:sch 1(L1904);
L1915: C301 is (Element of ( Funcs ((the carrier of ( RealVectSpace ( Seg R4 ) )) , ( REAL )) )) by FUNCT_2:8;
L1916: (for B318 being (Element of ( RealVectSpace ( Seg R4 ) )) holds ((not B318 in D142) implies ( C301 . B318 ) = ( 0 ))) by L1914;
reconsider D144 = C301 as (Linear_Combination of ( RealVectSpace ( Seg R4 ) )) by L1916 , L1878 , L1888 , L1915 , RLVECT_2:def 3;
L1917: ( Carrier D144 ) c= D142
proof
let C302 being set;
assume L1918: C302 in ( Carrier D144 );
L1919: C302 in { B319 where B319 is (Element of ( RealVectSpace ( Seg R4 ) )) : ( D144 . B319 ) <> ( 0 ) } by L1918 , RLVECT_2:def 4;
L1920: (ex B320 being (Element of ( RealVectSpace ( Seg R4 ) )) st (C302 = B320 & ( D144 . B320 ) <> ( 0 ))) by L1919;
thus L1921: C302 in D142 by L1920 , L1914;
end;
reconsider D145 = D144 as (Linear_Combination of D142) by L1917 , RLVECT_2:def 6;
L1922: ( Carrier D145 ) c= D142 by RLVECT_2:def 6;
L1923: ( Carrier D145 ) c= C291 by L1922 , L1888 , XBOOLE_1:1;
reconsider D146 = D145 as (Linear_Combination of C291) by L1923 , RLVECT_2:def 6;
L1924: D142 c= ( Carrier D145 )
proof
let C303 being set;
assume L1925: C303 in D142;
consider C304 being (Element of ( REAL R4 )) such that L1926: C303 = C304 and L1927: (ex B321 being (Element of ( NAT )) st (1 <= B321 & B321 <= R4 & C304 = ( Base_FinSeq (R4 , B321) ) & |( D141 , C304 )| <> ( 0 ))) by L1925;
reconsider D147 = C304 as (Element of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
consider C305 being (Element of ( NAT )) such that L1928: 1 <= C305 and L1929: C305 <= R4 and L1930: C304 = ( Base_FinSeq (R4 , C305) ) and L1931: |( D141 , C304 )| <> ( 0 ) by L1927;
L1932: ( D145 . D147 ) = |( D141 , ( Base_FinSeq (R4 , C305) ) )| by L1914 , L1925 , L1926 , L1927 , L1930;
L1933: C303 in { B322 where B322 is (Element of ( RealVectSpace ( Seg R4 ) )) : ( D145 . B322 ) <> ( 0 ) } by L1932 , L1926 , L1927 , L1930;
thus L1934: C303 in ( Carrier D145 ) by L1933 , RLVECT_2:def 4;
end;
L1935: (for B323 , B324 being set holds ((B323 in ( dom C298 ) & B324 in ( dom C298 ) & ( C298 . B323 ) = ( C298 . B324 )) implies B323 = B324))
proof
let C306 , C307 being set;
assume that
L1936: C306 in ( dom C298 )
and
L1937: C307 in ( dom C298 )
and
L1938: ( C298 . C306 ) = ( C298 . C307 );
L1939: (ex B325 being (Element of ( NAT )) st (( C298 . C307 ) = B325 & 1 <= B325 & B325 <= R4 & C307 = ( Base_FinSeq (R4 , B325) ))) by L1903 , L1937;
L1940: (ex B326 being (Element of ( NAT )) st (( C298 . C306 ) = B326 & 1 <= B326 & B326 <= R4 & C306 = ( Base_FinSeq (R4 , B326) ))) by L1903 , L1936;
thus L1941: C306 = C307 by L1940 , L1938 , L1939;
end;
L1942: C298 is  one-to-one by L1935 , FUNCT_1:def 4;
L1943: (( Seg R4 ) = ( {} ) implies D142 = ( {} ))
proof
assume L1944: ( Seg R4 ) = ( {} );
L1945:
now
set D148 = the (Element of D142);
assume L1946: D142 <> ( {} );
L1947: D148 in D142 by L1946;
L1948: (ex B327 being (Element of ( REAL R4 )) st (B327 = D148 & (ex B328 being (Element of ( NAT )) st (1 <= B328 & B328 <= R4 & B327 = ( Base_FinSeq (R4 , B328) ) & |( D141 , B327 )| <> ( 0 ))))) by L1947;
thus L1949: contradiction by L1948 , L1944;
end;
thus L1950: D142 = ( {} ) by L1945;
end;
L1951: (for B329 being (Element of ( NAT )) holds ((B329 in ( dom ( ProjFinSeq D141 ) ) & (not B329 in ( rng ( Sgm ( rng C298 ) ) ))) implies ( ( ProjFinSeq D141 ) . B329 ) = ( 0* R4 )))
proof
let C308 being (Element of ( NAT ));
assume that
L1952: C308 in ( dom ( ProjFinSeq D141 ) )
and
L1953: (not C308 in ( rng ( Sgm ( rng C298 ) ) ));
L1954: C308 in ( Seg ( len ( ProjFinSeq D141 ) ) ) by L1952 , FINSEQ_1:def 3;
L1955: 1 <= C308 by L1954 , FINSEQ_1:1;
L1956: ( len ( ProjFinSeq D141 ) ) = R4 by L1244;
L1957: C308 <= R4 by L1956 , L1954 , FINSEQ_1:1;
L1958: (not C308 in ( rng C298 )) by L1953 , FINSEQ_1:def 13;
L1959:
now
assume L1960: |( D141 , ( Base_FinSeq (R4 , C308) ) )| <> ( 0 );
L1961: ( Base_FinSeq (R4 , C308) ) in D142 by L1960 , L1955 , L1957;
consider C309 being (Element of ( NAT )) such that L1962: ( C298 . ( Base_FinSeq (R4 , C308) ) ) = C309 and L1963: 1 <= C309 and L1964: C309 <= R4 and L1965: ( Base_FinSeq (R4 , C308) ) = ( Base_FinSeq (R4 , C309) ) by L1961 , L1903;
L1966: ( Base_FinSeq (R4 , C308) ) in ( dom C298 ) by L1943 , L1961 , FUNCT_2:def 1;
L1967: C308 = C309 by L1955 , L1957 , L1965 , L1099;
thus L1968: contradiction by L1967 , L1958 , L1962 , L1966 , FUNCT_1:def 3;
end;
L1969: ( ( ProjFinSeq D141 ) . C308 ) = ( |( D141 , ( Base_FinSeq (R4 , C308) ) )| * ( Base_FinSeq (R4 , C308) ) ) by L1955 , L1957 , L1244;
thus L1970: ( ( ProjFinSeq D141 ) . C308 ) = ( 0* R4 ) by L1969 , L1959 , EUCLID_4:3;
end;
L1971: ( dom (( Sgm ( rng C298 ) ) qua Function) ) = ( Seg ( len ( Sgm ( rng C298 ) ) ) ) by FINSEQ_1:def 3;
L1972: ( rng ( (( ProjFinSeq D141 ) qua Function) * (( Sgm ( rng C298 ) ) qua Function) ) ) c= ( REAL R4 );
L1973: ( rng ( Sgm ( rng C298 ) ) ) = ( rng C298 ) by FINSEQ_1:def 13;
L1974: ( dom ( (( ProjFinSeq D141 ) qua Function) * (( Sgm ( rng C298 ) ) qua Function) ) ) = ( (( Sgm ( rng C298 ) ) qua Function) " ( dom ( ProjFinSeq D141 ) ) ) by RELAT_1:147
.= ( dom ( Sgm ( rng C298 ) ) ) by L1973 , L1892 , L13;
L1975: ( (( ProjFinSeq D141 ) qua Function) * (( Sgm ( rng C298 ) ) qua Function) ) is FinSequence by L1974 , L1971 , FINSEQ_1:def 2;
reconsider D149 = ( (( ProjFinSeq D141 ) qua Function) * (( Sgm ( rng C298 ) ) qua Function) ) as (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) ))) by L1975 , L1877 , L1972 , FINSEQ_1:def 4;
L1976: ( dom D149 ) = ( (( Sgm ( rng C298 ) ) qua Function) " ( Seg R4 ) ) by L1892 , RELAT_1:147
.= ( dom ( Sgm ( rng C298 ) ) ) by L1973 , L13;
L1977: ( dom D149 ) = ( Seg ( len ( Sgm ( rng C298 ) ) ) ) by L1976 , FINSEQ_1:def 3;
L1978: ( Seg ( len D149 ) ) = ( Seg ( len ( Sgm ( rng C298 ) ) ) ) by L1977 , FINSEQ_1:def 3;
reconsider D150 = D149 as (FinSequence of ( REAL R4 )) by FINSEQ_2:93;
L1979: C290 = ( Sum ( ProjFinSeq D141 ) ) by L1268
.= ( Sum D150 ) by L1973 , L1892 , L1951 , L1080 , FINSEQ_3:92
.= ( Sum D149 ) by L1816;
L1980: ( rng ( ( (C298 qua Function) " ) * (( Sgm ( rng C298 ) ) qua Function) ) ) c= ( rng (( (C298 qua Function) " ) qua Function) ) by RELAT_1:26;
L1981: ( dom (( Sgm ( rng C298 ) ) qua Function) ) = ( Seg ( len ( Sgm ( rng C298 ) ) ) ) by FINSEQ_1:def 3;
L1982: ( len D149 ) = ( len ( Sgm ( rng C298 ) ) ) by L1977 , FINSEQ_1:def 3;
L1983: ( dom C298 ) = D142 by L1943 , FUNCT_2:def 1;
L1984: ( rng ( (C298 qua Function) " ) ) = D142 by L1983 , L1942 , FUNCT_1:33;
L1985: ( rng ( ( (C298 qua Function) " ) * (( Sgm ( rng C298 ) ) qua Function) ) ) c= (the carrier of ( RealVectSpace ( Seg R4 ) )) by L1984 , L1980 , XBOOLE_1:1;
L1986: ( dom ( (( (C298 qua Function) " ) qua Function) * (( Sgm ( rng C298 ) ) qua Function) ) ) = ( (( Sgm ( rng C298 ) ) qua Function) " ( dom ( (C298 qua Function) " ) ) ) by RELAT_1:147
.= ( (( Sgm ( rng C298 ) ) qua Function) " ( rng C298 ) ) by L1942 , FUNCT_1:33
.= ( dom ( Sgm ( rng C298 ) ) ) by L1973 , L13;
L1987: ( (( (C298 qua Function) " ) qua Function) * (( Sgm ( rng C298 ) ) qua Function) ) is FinSequence by L1986 , L1981 , FINSEQ_1:def 2;
reconsider D151 = ( ( (C298 qua Function) " ) * (( Sgm ( rng C298 ) ) qua Function) ) as (FinSequence of (the carrier of ( RealVectSpace ( Seg R4 ) ))) by L1987 , L1985 , FINSEQ_1:def 4;
L1988: ( dom D151 ) = ( (( Sgm ( rng C298 ) ) qua Function) " ( dom ( (C298 qua Function) " ) ) ) by RELAT_1:147
.= ( (( Sgm ( rng C298 ) ) qua Function) " ( rng C298 ) ) by L1942 , FUNCT_1:33
.= ( dom (( Sgm ( rng C298 ) ) qua Function) ) by L1973 , L13;
L1989: ( dom D151 ) = ( Seg ( len ( Sgm ( rng C298 ) ) ) ) by L1988 , FINSEQ_1:def 3;
L1990: ( dom ( (C298 qua Function) " ) ) = ( rng C298 ) by L1942 , FUNCT_1:33;
L1991: ( rng D151 ) = ( rng ( (C298 qua Function) " ) ) by L1990 , L1973 , RELAT_1:28
.= ( dom C298 ) by L1942 , FUNCT_1:33;
L1992: ( rng D151 ) = ( Carrier D145 ) by L1991 , L1983 , L1922 , L1924 , XBOOLE_0:def 10;
L1993: (for B330 being (Element of ( NAT )) holds (B330 in ( dom D149 ) implies ( D149 . B330 ) = ( ( D145 . ( D151 /. B330 ) ) * ( D151 /. B330 ) )))
proof
let C310 being (Element of ( NAT ));
L1994: ( Sgm ( rng C298 ) ) is  one-to-one by FINSEQ_3:92;
assume L1995: C310 in ( dom D149 );
L1996: C310 in ( Seg ( len D149 ) ) by L1995 , FINSEQ_1:def 3;
L1997: C310 in ( dom ( Sgm ( rng C298 ) ) ) by L1996 , L1982 , FINSEQ_1:def 3;
L1998: ( ( Sgm ( rng C298 ) ) . C310 ) in ( rng ( Sgm ( rng C298 ) ) ) by L1997 , FUNCT_1:def 3;
reconsider D152 = ( ( Sgm ( rng C298 ) ) . C310 ) as (Element of ( NAT )) by L1998;
reconsider D153 = ( Base_FinSeq (R4 , D152) ) as (Element of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
L1999: D152 in ( rng ( Sgm ( rng C298 ) ) ) by L1997 , FUNCT_1:def 3;
consider C311 being set such that L2000: C311 in ( dom C298 ) and L2001: ( C298 . C311 ) = D152 by L1999 , L1973 , FUNCT_1:def 3;
L2002: ( dom C298 ) = D142 by L1943 , FUNCT_2:def 1;
reconsider D154 = C311 as (Element of ( RealVectSpace ( Seg R4 ) )) by L2002 , L2000;
L2003: (ex B331 being (Element of ( NAT )) st (( C298 . D154 ) = B331 & 1 <= B331 & B331 <= R4 & D154 = ( Base_FinSeq (R4 , B331) ))) by L1903 , L2000;
consider C312 being (Element of ( NAT )) such that L2004: ( C298 . D153 ) = C312 and L2005: 1 <= C312 and L2006: C312 <= R4 and L2007: D153 = ( Base_FinSeq (R4 , C312) ) by L2003 , L2001;
L2008: ( dom C298 ) = D142 by L1943 , FUNCT_2:def 1;
L2009: ( D151 . C310 ) = ( ( (C298 qua Function) " ) . ( (( Sgm ( rng C298 ) ) qua Function) . C310 ) ) by L1997 , FUNCT_1:13
.= ( Base_FinSeq (R4 , D152) ) by L1942 , L2000 , L2001 , L2003 , FUNCT_1:32;
L2010: ( Base_FinSeq (R4 , D152) ) in ( rng D151 ) by L2009 , L1989 , L1978 , L1996 , FUNCT_1:def 3;
L2011: ( Base_FinSeq (R4 , D152) ) in { B332 where B332 is (Element of ( RealVectSpace ( Seg R4 ) )) : ( D145 . B332 ) <> ( 0 ) } by L2010 , L1992 , RLVECT_2:def 4;
L2012: (ex B333 being (Element of ( RealVectSpace ( Seg R4 ) )) st (( Base_FinSeq (R4 , D152) ) = B333 & ( D145 . B333 ) <> ( 0 ))) by L2011;
L2013: ( Base_FinSeq (R4 , D152) ) in D142 by L2012 , L1914;
L2014: ( ( (C298 qua Function) " ) . ( C298 . ( Base_FinSeq (R4 , D152) ) ) ) = ( Base_FinSeq (R4 , D152) ) by L2013 , L1942 , L2008 , FUNCT_1:34;
L2015: ( ( ( (C298 qua Function) " ) * ( Sgm ( rng C298 ) ) ) . C310 ) = ( Base_FinSeq (R4 , D152) ) by L2014 , L1997 , L2001 , L2003 , FUNCT_1:13;
L2016: D152 in ( rng C298 ) by L1973 , L1997 , FUNCT_1:def 3;
L2017: 1 <= D152 by L2016 , FINSEQ_1:1;
L2018: D152 <= R4 by L2016 , FINSEQ_1:1;
L2019: C312 = D152 by L2018 , L2017 , L2007 , L1099;
L2020: ( ( (( Sgm ( rng C298 ) ) qua Function) " ) . ( C298 . ( Base_FinSeq (R4 , D152) ) ) ) = C310 by L2019 , L1997 , L2004 , L1994 , FUNCT_1:32;
L2021: ( C298 . ( Base_FinSeq (R4 , D152) ) ) in ( rng ( Sgm ( rng C298 ) ) ) by L1973 , L2000 , L2001 , L2003 , FUNCT_1:def 3;
L2022: ( ( (C298 qua Function) " ) . ( ( Sgm ( rng C298 ) ) . ( ( (( Sgm ( rng C298 ) ) qua Function) " ) . ( C298 . ( Base_FinSeq (R4 , D152) ) ) ) ) ) = ( Base_FinSeq (R4 , D152) ) by L2021 , L1994 , L2014 , FUNCT_1:35;
L2023: ( dom ( (( Sgm ( rng C298 ) ) qua Function) " ) ) = ( rng ( Sgm ( rng C298 ) ) ) by L1994 , FUNCT_1:33;
L2024: ( ( (( Sgm ( rng C298 ) ) qua Function) " ) . ( C298 . ( Base_FinSeq (R4 , D152) ) ) ) in ( rng ( (( Sgm ( rng C298 ) ) qua Function) " ) ) by L2023 , L2021 , FUNCT_1:def 3;
L2025: ( ( (( Sgm ( rng C298 ) ) qua Function) " ) . ( C298 . ( Base_FinSeq (R4 , D152) ) ) ) in ( dom ( Sgm ( rng C298 ) ) ) by L2024 , L1994 , FUNCT_1:33;
L2026: ( D145 . ( D151 /. C310 ) ) = ( D145 . ( ( ( (C298 qua Function) " ) * ( Sgm ( rng C298 ) ) ) . C310 ) ) by L1989 , L1982 , L1996 , PARTFUN1:def 6
.= ( D145 . ( Base_FinSeq (R4 , D152) ) ) by L2020 , L2025 , L2022 , FUNCT_1:13
.= |( D141 , ( Base_FinSeq (R4 , D152) ) )| by L1914 , L2017 , L2018 , L2012;
L2027: ( ( D145 . ( D151 /. C310 ) ) * ( D151 /. C310 ) ) = ( |( D141 , ( Base_FinSeq (R4 , D152) ) )| * ( Base_FinSeq (R4 , D152) ) ) by L2026 , L1989 , L1982 , L1996 , L2015 , PARTFUN1:def 6
.= ( ( ProjFinSeq D141 ) . ( ( Sgm ( rng C298 ) ) . C310 ) ) by L2017 , L2018 , L1244
.= ( ( (( ProjFinSeq D141 ) qua Function) * (( Sgm ( rng C298 ) ) qua Function) ) . C310 ) by L1997 , FUNCT_1:13;
thus L2028: ( D149 . C310 ) = ( ( D145 . ( D151 /. C310 ) ) * ( D151 /. C310 ) ) by L2027;
end;
L2029: (( Sgm ( rng C298 ) ) qua Function) is  one-to-one by FINSEQ_3:92;
L2030: ( len D149 ) = ( len D151 ) by L1989 , L1978 , FINSEQ_1:def 3;
L2031: D141 = ( Sum ( D145 (#) D151 ) ) by L2030 , L1979 , L1993 , RLVECT_2:def 7;
L2032: D141 = ( Sum D146 ) by L2031 , L1942 , L2029 , L1992 , RLVECT_2:def 8;
thus L2033: (ex B334 being (Linear_Combination of C291) st C290 = ( Sum B334 )) by L2032;
end;
theorem
L2034: (for B335 being (Element of ( NAT )) holds (for B336 being (Element of ( REAL-US B335 )) holds (for B337 being (Subset of ( REAL-US B335 )) holds (B337 = ( RN_Base B335 ) implies (ex B338 being (Linear_Combination of B337) st B336 = ( Sum B338 ))))))
proof
let C313 being (Element of ( NAT ));
let C314 being (Element of ( REAL-US C313 ));
let C315 being (Subset of ( REAL-US C313 ));
reconsider D155 = C314 as (Element of ( REAL C313 )) by REAL_NS1:def 6;
L2035: ( REAL C313 ) = (the carrier of ( REAL-US C313 )) by REAL_NS1:def 6;
assume L2036: C315 = ( RN_Base C313 );
L2037: { B339 where B339 is (Element of ( REAL C313 )) : (ex B340 being (Element of ( NAT )) st (1 <= B340 & B340 <= C313 & B339 = ( Base_FinSeq (C313 , B340) ))) } c= C315
proof
let C316 being set;
assume L2038: C316 in { B341 where B341 is (Element of ( REAL C313 )) : (ex B342 being (Element of ( NAT )) st (1 <= B342 & B342 <= C313 & B341 = ( Base_FinSeq (C313 , B342) ))) };
L2039: (ex B343 being (Element of ( REAL C313 )) st (C316 = B343 & (ex B344 being (Element of ( NAT )) st (1 <= B344 & B344 <= C313 & B343 = ( Base_FinSeq (C313 , B344) ))))) by L2038;
thus L2040: C316 in C315 by L2039 , L2036;
end;
L2041: C315 c= { B345 where B345 is (Element of ( REAL C313 )) : (ex B346 being (Element of ( NAT )) st (1 <= B346 & B346 <= C313 & B345 = ( Base_FinSeq (C313 , B346) ))) }
proof
let C317 being set;
assume L2042: C317 in C315;
L2043: (ex B347 being (Element of ( NAT )) st (C317 = ( Base_FinSeq (C313 , B347) ) & 1 <= B347 & B347 <= C313)) by L2042 , L2036;
thus L2044: C317 in { B348 where B348 is (Element of ( REAL C313 )) : (ex B349 being (Element of ( NAT )) st (1 <= B349 & B349 <= C313 & B348 = ( Base_FinSeq (C313 , B349) ))) } by L2043;
end;
L2045: C315 = { B350 where B350 is (Element of ( REAL C313 )) : (ex B351 being (Element of ( NAT )) st (1 <= B351 & B351 <= C313 & B350 = ( Base_FinSeq (C313 , B351) ))) } by L2041 , L2037 , XBOOLE_0:def 10;
L2046: { B352 where B352 is (Element of ( REAL C313 )) : (ex B353 being (Element of ( NAT )) st (1 <= B353 & B353 <= C313 & B352 = ( Base_FinSeq (C313 , B353) ) & |( D155 , B352 )| <> ( 0 ))) } c= C315
proof
let C318 being set;
assume L2047: C318 in { B354 where B354 is (Element of ( REAL C313 )) : (ex B355 being (Element of ( NAT )) st (1 <= B355 & B355 <= C313 & B354 = ( Base_FinSeq (C313 , B355) ) & |( D155 , B354 )| <> ( 0 ))) };
L2048: (ex B356 being (Element of ( REAL C313 )) st (B356 = C318 & (ex B357 being (Element of ( NAT )) st (1 <= B357 & B357 <= C313 & B356 = ( Base_FinSeq (C313 , B357) ) & |( D155 , B356 )| <> ( 0 ))))) by L2047;
thus L2049: C318 in C315 by L2048 , L2045;
end;
reconsider D156 = { B358 where B358 is (Element of ( REAL C313 )) : (ex B359 being (Element of ( NAT )) st (1 <= B359 & B359 <= C313 & B358 = ( Base_FinSeq (C313 , B359) ) & |( D155 , B358 )| <> ( 0 ))) } as (Subset of ( REAL-US C313 )) by L2046 , XBOOLE_1:1;
defpred S25[ set , set ] means ($1 in D156 implies (ex B360 being (Element of ( NAT )) st ($2 = B360 & 1 <= B360 & B360 <= C313 & $1 = ( Base_FinSeq (C313 , B360) ))));
L2050: (for B361 being set holds (B361 in D156 implies (ex B362 being set st (B362 in ( Seg C313 ) & S25[ B361 , B362 ]))))
proof
let C319 being set;
assume L2051: C319 in D156;
consider C320 being (Element of ( REAL C313 )) such that L2052: C319 = C320 and L2053: (ex B363 being (Element of ( NAT )) st (1 <= B363 & B363 <= C313 & C320 = ( Base_FinSeq (C313 , B363) ) & |( D155 , C320 )| <> ( 0 ))) by L2051;
consider C321 being (Element of ( NAT )) such that L2054: 1 <= C321 and L2055: C321 <= C313 and L2056: C320 = ( Base_FinSeq (C313 , C321) ) and L2057: |( D155 , C320 )| <> ( 0 ) by L2053;
L2058: C321 in ( Seg C313 ) by L2054 , L2055 , FINSEQ_1:1;
thus L2059: (ex B364 being set st (B364 in ( Seg C313 ) & S25[ C319 , B364 ])) by L2058 , L2052 , L2054 , L2055 , L2056;
end;
consider C322 being (Function of D156 , ( Seg C313 )) such that L2060: (for B365 being set holds (B365 in D156 implies S25[ B365 , ( C322 . B365 ) ])) from FUNCT_2:sch 1(L2050);
defpred S26[ set , set ] means (($1 in D156 implies (for B366 being (Element of ( NAT )) holds ((1 <= B366 & B366 <= C313 & $1 = ( Base_FinSeq (C313 , B366) )) implies $2 = |( D155 , ( Base_FinSeq (C313 , B366) ) )|))) & ((not $1 in D156) implies $2 = ( 0 )));
L2061: (for B367 being set holds (B367 in (the carrier of ( REAL-US C313 )) implies (ex B368 being set st (B368 in ( REAL ) & S26[ B367 , B368 ]))))
proof
let C323 being set;
assume L2062: C323 in (the carrier of ( REAL-US C313 ));
per cases ;
suppose L2063: C323 in D156;

consider C324 being (Element of ( REAL C313 )) such that L2064: C324 = C323 and L2065: (ex B369 being (Element of ( NAT )) st (1 <= B369 & B369 <= C313 & C324 = ( Base_FinSeq (C313 , B369) ) & |( D155 , C324 )| <> ( 0 ))) by L2063;
reconsider D157 = |( D155 , C324 )| as (Element of ( REAL ));
L2066: (for B370 being (Element of ( NAT )) holds ((1 <= B370 & B370 <= C313 & C323 = ( Base_FinSeq (C313 , B370) )) implies D157 = |( D155 , ( Base_FinSeq (C313 , B370) ) )|)) by L2064;
thus L2067: (ex B371 being set st (B371 in ( REAL ) & S26[ C323 , B371 ])) by L2066 , L2063;
end;
suppose L2068: (not C323 in D156);

thus L2069: (ex B372 being set st (B372 in ( REAL ) & S26[ C323 , B372 ])) by L2068;
end;
end;
consider C325 being (Function of (the carrier of ( REAL-US C313 )) , ( REAL )) such that L2071: (for B373 being set holds (B373 in (the carrier of ( REAL-US C313 )) implies S26[ B373 , ( C325 . B373 ) ])) from FUNCT_2:sch 1(L2061);
L2072: C325 is (Element of ( Funcs ((the carrier of ( REAL-US C313 )) , ( REAL )) )) by FUNCT_2:8;
L2073: (for B374 being (Element of ( REAL-US C313 )) holds ((not B374 in D156) implies ( C325 . B374 ) = ( 0 ))) by L2071;
reconsider D158 = C325 as (Linear_Combination of ( REAL-US C313 )) by L2073 , L2036 , L2046 , L2072 , RLVECT_2:def 3;
L2074: ( Carrier D158 ) c= D156
proof
let C326 being set;
assume L2075: C326 in ( Carrier D158 );
L2076: C326 in { B375 where B375 is (Element of ( REAL-US C313 )) : ( D158 . B375 ) <> ( 0 ) } by L2075 , RLVECT_2:def 4;
L2077: (ex B376 being (Element of ( REAL-US C313 )) st (C326 = B376 & ( D158 . B376 ) <> ( 0 ))) by L2076;
thus L2078: C326 in D156 by L2077 , L2071;
end;
reconsider D159 = D158 as (Linear_Combination of D156) by L2074 , RLVECT_2:def 6;
L2079: ( Carrier D159 ) c= D156 by RLVECT_2:def 6;
L2080: ( Carrier D159 ) c= C315 by L2079 , L2046 , XBOOLE_1:1;
reconsider D160 = D159 as (Linear_Combination of C315) by L2080 , RLVECT_2:def 6;
L2081: D156 c= ( Carrier D159 )
proof
let C327 being set;
assume L2082: C327 in D156;
consider C328 being (Element of ( REAL C313 )) such that L2083: C327 = C328 and L2084: (ex B377 being (Element of ( NAT )) st (1 <= B377 & B377 <= C313 & C328 = ( Base_FinSeq (C313 , B377) ) & |( D155 , C328 )| <> ( 0 ))) by L2082;
reconsider D161 = C328 as (Element of ( REAL-US C313 )) by REAL_NS1:def 6;
consider C329 being (Element of ( NAT )) such that L2085: 1 <= C329 and L2086: C329 <= C313 and L2087: C328 = ( Base_FinSeq (C313 , C329) ) and L2088: |( D155 , C328 )| <> ( 0 ) by L2084;
L2089: ( D159 . D161 ) = |( D155 , ( Base_FinSeq (C313 , C329) ) )| by L2071 , L2082 , L2083 , L2084 , L2087;
L2090: C327 in { B378 where B378 is (Element of ( REAL-US C313 )) : ( D159 . B378 ) <> ( 0 ) } by L2089 , L2083 , L2084 , L2087;
thus L2091: C327 in ( Carrier D159 ) by L2090 , RLVECT_2:def 4;
end;
L2092: ( dom (( Sgm ( rng C322 ) ) qua Function) ) = ( Seg ( len ( Sgm ( rng C322 ) ) ) ) by FINSEQ_1:def 3;
L2093: ( rng ( ( (C322 qua Function) " ) * (( Sgm ( rng C322 ) ) qua Function) ) ) c= ( rng (( (C322 qua Function) " ) qua Function) ) by RELAT_1:26;
L2094: ( dom (( Sgm ( rng C322 ) ) qua Function) ) = ( Seg ( len ( Sgm ( rng C322 ) ) ) ) by FINSEQ_1:def 3;
L2095: (for B379 , B380 being set holds ((B379 in ( dom C322 ) & B380 in ( dom C322 ) & ( C322 . B379 ) = ( C322 . B380 )) implies B379 = B380))
proof
let C330 , C331 being set;
assume that
L2096: C330 in ( dom C322 )
and
L2097: C331 in ( dom C322 )
and
L2098: ( C322 . C330 ) = ( C322 . C331 );
L2099: (ex B381 being (Element of ( NAT )) st (( C322 . C331 ) = B381 & 1 <= B381 & B381 <= C313 & C331 = ( Base_FinSeq (C313 , B381) ))) by L2060 , L2097;
L2100: (ex B382 being (Element of ( NAT )) st (( C322 . C330 ) = B382 & 1 <= B382 & B382 <= C313 & C330 = ( Base_FinSeq (C313 , B382) ))) by L2060 , L2096;
thus L2101: C330 = C331 by L2100 , L2098 , L2099;
end;
L2102: C322 is  one-to-one by L2095 , FUNCT_1:def 4;
L2103: (( Seg C313 ) = ( {} ) implies D156 = ( {} ))
proof
set D162 = the (Element of D156);
assume L2104: ( Seg C313 ) = ( {} );
assume L2105: D156 <> ( {} );
L2106: D162 in D156 by L2105;
L2107: (ex B383 being (Element of ( REAL C313 )) st (B383 = D162 & (ex B384 being (Element of ( NAT )) st (1 <= B384 & B384 <= C313 & B383 = ( Base_FinSeq (C313 , B384) ) & |( D155 , B383 )| <> ( 0 ))))) by L2106;
thus L2108: contradiction by L2107 , L2104;
end;
L2109: (for B385 being (Element of ( NAT )) holds ((B385 in ( dom ( ProjFinSeq D155 ) ) & (not B385 in ( rng ( Sgm ( rng C322 ) ) ))) implies ( ( ProjFinSeq D155 ) . B385 ) = ( 0* C313 )))
proof
let C332 being (Element of ( NAT ));
assume that
L2110: C332 in ( dom ( ProjFinSeq D155 ) )
and
L2111: (not C332 in ( rng ( Sgm ( rng C322 ) ) ));
L2112: C332 in ( Seg ( len ( ProjFinSeq D155 ) ) ) by L2110 , FINSEQ_1:def 3;
L2113: 1 <= C332 by L2112 , FINSEQ_1:1;
L2114: ( len ( ProjFinSeq D155 ) ) = C313 by L1244;
L2115: C332 <= C313 by L2114 , L2112 , FINSEQ_1:1;
L2116: (not C332 in ( rng C322 )) by L2111 , FINSEQ_1:def 13;
L2117:
now
assume L2118: |( D155 , ( Base_FinSeq (C313 , C332) ) )| <> ( 0 );
L2119: ( Base_FinSeq (C313 , C332) ) in D156 by L2118 , L2113 , L2115;
consider C333 being (Element of ( NAT )) such that L2120: ( C322 . ( Base_FinSeq (C313 , C332) ) ) = C333 and L2121: 1 <= C333 and L2122: C333 <= C313 and L2123: ( Base_FinSeq (C313 , C332) ) = ( Base_FinSeq (C313 , C333) ) by L2119 , L2060;
L2124: ( Base_FinSeq (C313 , C332) ) in ( dom C322 ) by L2103 , L2119 , FUNCT_2:def 1;
L2125: C332 = C333 by L2113 , L2115 , L2123 , L1099;
thus L2126: contradiction by L2125 , L2116 , L2120 , L2124 , FUNCT_1:def 3;
end;
L2127: ( ( ProjFinSeq D155 ) . C332 ) = ( |( D155 , ( Base_FinSeq (C313 , C332) ) )| * ( Base_FinSeq (C313 , C332) ) ) by L2113 , L2115 , L1244;
thus L2128: ( ( ProjFinSeq D155 ) . C332 ) = ( 0* C313 ) by L2127 , L2117 , EUCLID_4:3;
end;
L2129: ( rng ( (( ProjFinSeq D155 ) qua Function) * (( Sgm ( rng C322 ) ) qua Function) ) ) c= ( REAL C313 );
L2130: ( rng ( Sgm ( rng C322 ) ) ) = ( rng C322 ) by FINSEQ_1:def 13;
L2131: ( dom C322 ) = D156 by L2103 , FUNCT_2:def 1;
L2132: ( rng ( (C322 qua Function) " ) ) = D156 by L2131 , L2102 , FUNCT_1:33;
L2133: ( rng ( ( (C322 qua Function) " ) * (( Sgm ( rng C322 ) ) qua Function) ) ) c= (the carrier of ( REAL-US C313 )) by L2132 , L2093 , XBOOLE_1:1;
L2134: ( dom ( (( (C322 qua Function) " ) qua Function) * (( Sgm ( rng C322 ) ) qua Function) ) ) = ( (( Sgm ( rng C322 ) ) qua Function) " ( dom ( (C322 qua Function) " ) ) ) by RELAT_1:147
.= ( (( Sgm ( rng C322 ) ) qua Function) " ( rng C322 ) ) by L2102 , FUNCT_1:33
.= ( dom ( Sgm ( rng C322 ) ) ) by L2130 , L13;
L2135: ( (( (C322 qua Function) " ) qua Function) * (( Sgm ( rng C322 ) ) qua Function) ) is FinSequence by L2134 , L2094 , FINSEQ_1:def 2;
reconsider D163 = ( ( (C322 qua Function) " ) * (( Sgm ( rng C322 ) ) qua Function) ) as (FinSequence of (the carrier of ( REAL-US C313 ))) by L2135 , L2133 , FINSEQ_1:def 4;
L2136: ( dom D163 ) = ( (( Sgm ( rng C322 ) ) qua Function) " ( dom ( (C322 qua Function) " ) ) ) by RELAT_1:147
.= ( (( Sgm ( rng C322 ) ) qua Function) " ( rng C322 ) ) by L2102 , FUNCT_1:33
.= ( dom (( Sgm ( rng C322 ) ) qua Function) ) by L2130 , L13;
L2137: ( dom D163 ) = ( Seg ( len ( Sgm ( rng C322 ) ) ) ) by L2136 , FINSEQ_1:def 3;
L2138: ( dom ( ProjFinSeq D155 ) ) = ( Seg ( len ( ProjFinSeq D155 ) ) ) by FINSEQ_1:def 3
.= ( Seg C313 ) by L1244;
L2139: ( dom ( (( ProjFinSeq D155 ) qua Function) * (( Sgm ( rng C322 ) ) qua Function) ) ) = ( (( Sgm ( rng C322 ) ) qua Function) " ( Seg C313 ) ) by L2138 , RELAT_1:147
.= ( dom ( Sgm ( rng C322 ) ) ) by L2130 , L13;
L2140: ( (( ProjFinSeq D155 ) qua Function) * (( Sgm ( rng C322 ) ) qua Function) ) is FinSequence by L2139 , L2092 , FINSEQ_1:def 2;
reconsider D164 = ( (( ProjFinSeq D155 ) qua Function) * (( Sgm ( rng C322 ) ) qua Function) ) as (FinSequence of (the carrier of ( REAL-US C313 ))) by L2140 , L2035 , L2129 , FINSEQ_1:def 4;
L2141: ( dom D164 ) = ( (( Sgm ( rng C322 ) ) qua Function) " ( Seg C313 ) ) by L2138 , RELAT_1:147
.= ( dom ( Sgm ( rng C322 ) ) ) by L2130 , L13;
L2142: ( dom D164 ) = ( Seg ( len ( Sgm ( rng C322 ) ) ) ) by L2141 , FINSEQ_1:def 3;
L2143: ( Seg ( len D164 ) ) = ( Seg ( len ( Sgm ( rng C322 ) ) ) ) by L2142 , FINSEQ_1:def 3;
L2144: ( len D164 ) = ( len ( Sgm ( rng C322 ) ) ) by L2142 , FINSEQ_1:def 3;
L2145: ( dom ( (C322 qua Function) " ) ) = ( rng C322 ) by L2102 , FUNCT_1:33;
L2146: ( rng D163 ) = ( rng ( (C322 qua Function) " ) ) by L2145 , L2130 , RELAT_1:28
.= ( dom C322 ) by L2102 , FUNCT_1:33;
L2147: ( rng D163 ) = ( Carrier D159 ) by L2146 , L2131 , L2079 , L2081 , XBOOLE_0:def 10;
L2148: (for B386 being (Element of ( NAT )) holds (B386 in ( dom D164 ) implies ( D164 . B386 ) = ( ( D159 . ( D163 /. B386 ) ) * ( D163 /. B386 ) )))
proof
let C334 being (Element of ( NAT ));
L2149: ( Sgm ( rng C322 ) ) is  one-to-one by FINSEQ_3:92;
assume L2150: C334 in ( dom D164 );
L2151: C334 in ( Seg ( len D164 ) ) by L2150 , FINSEQ_1:def 3;
L2152: C334 in ( dom ( Sgm ( rng C322 ) ) ) by L2151 , L2144 , FINSEQ_1:def 3;
L2153: ( ( Sgm ( rng C322 ) ) . C334 ) in ( rng ( Sgm ( rng C322 ) ) ) by L2152 , FUNCT_1:def 3;
reconsider D165 = ( ( Sgm ( rng C322 ) ) . C334 ) as (Element of ( NAT )) by L2153;
reconsider D166 = ( Base_FinSeq (C313 , D165) ) as (Element of ( REAL-US C313 )) by REAL_NS1:def 6;
L2154: D165 in ( rng ( Sgm ( rng C322 ) ) ) by L2152 , FUNCT_1:def 3;
consider C335 being set such that L2155: C335 in ( dom C322 ) and L2156: ( C322 . C335 ) = D165 by L2154 , L2130 , FUNCT_1:def 3;
L2157: ( dom C322 ) = D156 by L2103 , FUNCT_2:def 1;
reconsider D167 = C335 as (Element of ( REAL-US C313 )) by L2157 , L2155;
L2158: (ex B387 being (Element of ( NAT )) st (( C322 . D167 ) = B387 & 1 <= B387 & B387 <= C313 & D167 = ( Base_FinSeq (C313 , B387) ))) by L2060 , L2155;
consider C336 being (Element of ( NAT )) such that L2159: ( C322 . D166 ) = C336 and L2160: 1 <= C336 and L2161: C336 <= C313 and L2162: D166 = ( Base_FinSeq (C313 , C336) ) by L2158 , L2156;
L2163: ( dom C322 ) = D156 by L2103 , FUNCT_2:def 1;
L2164: ( D163 . C334 ) = ( ( (C322 qua Function) " ) . ( (( Sgm ( rng C322 ) ) qua Function) . C334 ) ) by L2152 , FUNCT_1:13
.= ( Base_FinSeq (C313 , D165) ) by L2102 , L2155 , L2156 , L2158 , FUNCT_1:32;
L2165: ( Base_FinSeq (C313 , D165) ) in ( rng D163 ) by L2164 , L2137 , L2143 , L2151 , FUNCT_1:def 3;
L2166: ( Base_FinSeq (C313 , D165) ) in { B388 where B388 is (Element of ( REAL-US C313 )) : ( D159 . B388 ) <> ( 0 ) } by L2165 , L2147 , RLVECT_2:def 4;
L2167: (ex B389 being (Element of ( REAL-US C313 )) st (( Base_FinSeq (C313 , D165) ) = B389 & ( D159 . B389 ) <> ( 0 ))) by L2166;
L2168: ( Base_FinSeq (C313 , D165) ) in D156 by L2167 , L2071;
L2169: ( ( (C322 qua Function) " ) . ( C322 . ( Base_FinSeq (C313 , D165) ) ) ) = ( Base_FinSeq (C313 , D165) ) by L2168 , L2102 , L2163 , FUNCT_1:34;
L2170: ( ( ( (C322 qua Function) " ) * ( Sgm ( rng C322 ) ) ) . C334 ) = ( Base_FinSeq (C313 , D165) ) by L2169 , L2152 , L2156 , L2158 , FUNCT_1:13;
L2171: D165 in ( rng C322 ) by L2130 , L2152 , FUNCT_1:def 3;
L2172: 1 <= D165 by L2171 , FINSEQ_1:1;
L2173: D165 <= C313 by L2171 , FINSEQ_1:1;
L2174: C336 = D165 by L2173 , L2172 , L2162 , L1099;
L2175: ( ( (( Sgm ( rng C322 ) ) qua Function) " ) . ( C322 . ( Base_FinSeq (C313 , D165) ) ) ) = C334 by L2174 , L2152 , L2159 , L2149 , FUNCT_1:32;
L2176: ( C322 . ( Base_FinSeq (C313 , D165) ) ) in ( rng ( Sgm ( rng C322 ) ) ) by L2130 , L2155 , L2156 , L2158 , FUNCT_1:def 3;
L2177: ( ( (C322 qua Function) " ) . ( ( Sgm ( rng C322 ) ) . ( ( (( Sgm ( rng C322 ) ) qua Function) " ) . ( C322 . ( Base_FinSeq (C313 , D165) ) ) ) ) ) = ( Base_FinSeq (C313 , D165) ) by L2176 , L2149 , L2169 , FUNCT_1:35;
L2178: ( dom ( (( Sgm ( rng C322 ) ) qua Function) " ) ) = ( rng ( Sgm ( rng C322 ) ) ) by L2149 , FUNCT_1:33;
L2179: ( ( (( Sgm ( rng C322 ) ) qua Function) " ) . ( C322 . ( Base_FinSeq (C313 , D165) ) ) ) in ( rng ( (( Sgm ( rng C322 ) ) qua Function) " ) ) by L2178 , L2176 , FUNCT_1:def 3;
L2180: ( ( (( Sgm ( rng C322 ) ) qua Function) " ) . ( C322 . ( Base_FinSeq (C313 , D165) ) ) ) in ( dom ( Sgm ( rng C322 ) ) ) by L2179 , L2149 , FUNCT_1:33;
L2181: ( D159 . ( D163 /. C334 ) ) = ( D159 . ( ( ( (C322 qua Function) " ) * ( Sgm ( rng C322 ) ) ) . C334 ) ) by L2137 , L2144 , L2151 , PARTFUN1:def 6
.= ( D159 . ( Base_FinSeq (C313 , D165) ) ) by L2175 , L2180 , L2177 , FUNCT_1:13
.= |( D155 , ( Base_FinSeq (C313 , D165) ) )| by L2071 , L2172 , L2173 , L2167;
L2182: ( ( D159 . ( D163 /. C334 ) ) * ( D163 /. C334 ) ) = ( |( D155 , ( Base_FinSeq (C313 , D165) ) )| * ( Base_FinSeq (C313 , D165) ) ) by L2181 , L2137 , L2144 , L2151 , L2170 , PARTFUN1:def 6
.= ( ( ProjFinSeq D155 ) . ( ( Sgm ( rng C322 ) ) . C334 ) ) by L2172 , L2173 , L1244
.= ( ( (( ProjFinSeq D155 ) qua Function) * (( Sgm ( rng C322 ) ) qua Function) ) . C334 ) by L2152 , FUNCT_1:13;
thus L2183: ( D164 . C334 ) = ( ( D159 . ( D163 /. C334 ) ) * ( D163 /. C334 ) ) by L2182;
end;
L2184: (( Sgm ( rng C322 ) ) qua Function) is  one-to-one by FINSEQ_3:92;
reconsider D168 = D164 as (FinSequence of ( REAL C313 )) by REAL_NS1:def 6;
L2185: C314 = ( Sum ( ProjFinSeq D155 ) ) by L1268
.= ( Sum D168 ) by L2130 , L2138 , L2109 , L1080 , FINSEQ_3:92
.= ( Sum D164 ) by L1531;
L2186: ( len D164 ) = ( len D163 ) by L2137 , L2143 , FINSEQ_1:def 3;
L2187: D155 = ( Sum ( D159 (#) D163 ) ) by L2186 , L2185 , L2148 , RLVECT_2:def 7;
L2188: D155 = ( Sum D160 ) by L2187 , L2102 , L2184 , L2147 , RLVECT_2:def 8;
thus L2189: (ex B390 being (Linear_Combination of C315) st C314 = ( Sum B390 )) by L2188;
end;
theorem
L2190: (for R4 being Nat holds (for B391 being (Subset of ( RealVectSpace ( Seg R4 ) )) holds (B391 = ( RN_Base R4 ) implies B391 is (Basis of ( RealVectSpace ( Seg R4 ) )))))
proof
let R4 being Nat;
let C337 being (Subset of ( RealVectSpace ( Seg R4 ) ));
set D169 = ( RealVectSpace ( Seg R4 ) );
assume L2191: C337 = ( RN_Base R4 );
reconsider D170 = C337 as  R-orthonormal (Subset of D169) by L2191;
L2192: (the carrier of ( Lin C337 )) = { ( Sum B392 ) where B392 is (Linear_Combination of C337) : (not contradiction) } by RLVECT_3:def 2;
L2193:
now
assume L2194: (not (the carrier of D169) c= (the carrier of ( Lin C337 )));
consider C338 being set such that L2195: C338 in (the carrier of D169) and L2196: (not C338 in (the carrier of ( Lin C337 ))) by L2194 , TARSKI:def 3;
reconsider D171 = C338 as (Element of D169) by L2195;
L2197: (ex B393 being (Linear_Combination of C337) st D171 = ( Sum B393 )) by L2191 , L1876;
thus L2198: contradiction by L2197 , L2192 , L2196;
end;
L2199: (the carrier of ( Lin C337 )) c= (the carrier of D169)
proof
let C339 being set;
assume L2200: C339 in (the carrier of ( Lin C337 ));
L2201: (ex B394 being (Linear_Combination of C337) st C339 = ( Sum B394 )) by L2200 , L2192;
thus L2202: C339 in (the carrier of D169) by L2201;
end;
L2203: (the carrier of ( Lin C337 )) = (the carrier of D169) by L2199 , L2193 , XBOOLE_0:def 10;
L2204: ( Lin C337 ) = D169 by L2203 , L128;
L2205: D170 is (Basis of ( RealVectSpace ( Seg R4 ) )) by L2204 , RLVECT_3:def 3;
thus L2206: thesis by L2205;
end;
registration
let R4 being Nat;
cluster ( RealVectSpace ( Seg R4 ) ) ->  finite-dimensional;
coherence
proof
reconsider D172 = ( RN_Base R4 ) as (Subset of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
L2207: D172 is (Basis of ( RealVectSpace ( Seg R4 ) )) by L2190;
thus L2208: thesis by L2207 , RLVECT_5:def 1;
end;
end;
theorem
L2210: (for R4 being Nat holds ( dim ( RealVectSpace ( Seg R4 ) ) ) = R4)
proof
let R4 being Nat;
reconsider D173 = ( RN_Base R4 ) as (Subset of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
L2211: (for B395 being (Basis of ( RealVectSpace ( Seg R4 ) )) holds R4 = ( card B395 ))
proof
let C340 being (Basis of ( RealVectSpace ( Seg R4 ) ));
L2212: D173 is (Basis of ( RealVectSpace ( Seg R4 ) )) by L2190;
L2213: ( card D173 ) = ( card C340 ) by L2212 , RLVECT_5:25;
thus L2214: R4 = ( card C340 ) by L2213 , L1812;
end;
L2215: R4 in ( NAT ) by ORDINAL1:def 12;
thus L2216: thesis by L2215 , L2211 , RLVECT_5:def 2;
end;
theorem
L2217: (for R4 being Nat holds (for B396 being (Subset of ( RealVectSpace ( Seg R4 ) )) holds (B396 is (Basis of ( RealVectSpace ( Seg R4 ) )) implies ( card B396 ) = R4)))
proof
let R4 being Nat;
let C341 being (Subset of ( RealVectSpace ( Seg R4 ) ));
assume L2218: C341 is (Basis of ( RealVectSpace ( Seg R4 ) ));
reconsider D174 = ( RN_Base R4 ) as (Subset of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
L2219: D174 is (Basis of ( RealVectSpace ( Seg R4 ) )) by L2190;
L2220: ( card D174 ) = ( card C341 ) by L2219 , L2218 , RLVECT_5:25;
thus L2221: ( card C341 ) = R4 by L2220 , L1812;
end;
theorem
L2222: ( {} ) is (Basis of ( RealVectSpace ( Seg ( 0 ) ) ))
proof
consider C342 being  finite (Subset of ( RealVectSpace ( Seg ( 0 ) ) )) such that L2223: C342 is (Basis of ( RealVectSpace ( Seg ( 0 ) ) )) by RLVECT_5:def 1;
L2224: ( card C342 ) = ( 0 ) by L2223 , L2217;
L2225: C342 = ( {} ) by L2224;
thus L2226: thesis by L2225 , L2223;
end;
theorem
L2227: (for B397 being (Element of ( NAT )) holds ( RN_Base B397 ) is (Basis of ( REAL-US B397 )))
proof
let C343 being (Element of ( NAT ));
reconsider D175 = ( RN_Base C343 ) as (Subset of ( REAL-US C343 )) by REAL_NS1:def 6;
set D176 = ( REAL-US C343 );
L2228: (the carrier of ( Lin D175 )) = { ( Sum B398 ) where B398 is (Linear_Combination of D175) : (not contradiction) } by RUSUB_3:def 1;
L2229:
now
assume L2230: (not (the carrier of D176) c= (the carrier of ( Lin D175 )));
consider C344 being set such that L2231: C344 in (the carrier of D176) and L2232: (not C344 in (the carrier of ( Lin D175 ))) by L2230 , TARSKI:def 3;
reconsider D177 = C344 as (Element of D176) by L2231;
L2233: (ex B399 being (Linear_Combination of D175) st D177 = ( Sum B399 )) by L2034;
thus L2234: contradiction by L2233 , L2228 , L2232;
end;
L2235: (the carrier of ( Lin D175 )) c= (the carrier of D176)
proof
let C345 being set;
assume L2236: C345 in (the carrier of ( Lin D175 ));
L2237: (ex B400 being (Linear_Combination of D175) st C345 = ( Sum B400 )) by L2236 , L2228;
thus L2238: C345 in (the carrier of D176) by L2237;
end;
L2239: (the carrier of ( Lin D175 )) = (the carrier of D176) by L2235 , L2229 , XBOOLE_0:def 10;
L2240: ( Lin D175 ) = D176 by L2239 , RUSUB_1:26;
thus L2241: thesis by L2240 , RUSUB_3:def 2;
end;
theorem
L2242: (for R4 being Nat holds (for B401 being (Orthogonal_Basis of R4) holds B401 is (Basis of ( RealVectSpace ( Seg R4 ) ))))
proof
let R4 being Nat;
let C346 being (Orthogonal_Basis of R4);
set D178 = ( RealVectSpace ( Seg R4 ) );
reconsider D179 = C346 as  R-orthonormal (Subset of D178) by FINSEQ_2:93;
per cases ;
suppose L2243: R4 = ( 0 );

thus L2244: thesis by L2243 , L270 , L2222;
end;
suppose L2245: R4 <> ( 0 );

reconsider D180 = C346 as  R-orthonormal (Subset of ( REAL R4 ));
consider C347 being (Basis of D178) such that L2246: D179 c= C347 by RLVECT_5:2;
L2247: ( card C347 ) = R4 by L2217;
L2248: C347 is  finite by L2247;
L2249: (for B402 being  R-orthonormal (Subset of ( REAL R4 )) holds (D180 c= B402 implies B402 = D180)) by L265;
L2250:
now
assume that
L2251: D179 <> C347
and
L2252: (not C347 c= (the carrier of ( Lin D179 )));
consider C348 being set such that L2253: C348 in C347 and L2254: (not C348 in (the carrier of ( Lin D179 ))) by L2252 , TARSKI:def 3;
reconsider D181 = C348 as (Element of ( REAL R4 )) by L2253 , FINSEQ_2:93;
L2255: (not C348 in ( Lin D179 )) by L2254 , STRUCT_0:def 5;
L2256: (not C348 in D179) by L2255 , RLVECT_3:15;
consider C349 being FinSequence such that L2257: ( rng C349 ) = D179 and L2258: C349 is  one-to-one by L2246 , L2248 , FINSEQ_4:58;
L2259: 1 <= ( ( len C349 ) + 1 ) by NAT_1:12;
reconsider D182 = C349 as (FinSequence of ( REAL R4 )) by L2257 , FINSEQ_1:def 4;
defpred S27[ Nat ] means ((1 <= $1 & $1 <= ( ( len C349 ) + 1 )) implies (ex B403 being (FinSequence of ( REAL R4 )) st (( len B403 ) = $1 & ($1 <= ( len C349 ) implies (for B404 being Real holds (not ( B403 . $1 ) = ( B404 * ( D182 /. $1 ) )))) & ( B403 . 1 ) = D181 & (for B405 being Nat holds (for B406 , B407 being (Element of ( REAL R4 )) holds ((1 <= B405 & B405 < $1 & B406 = ( B403 /. B405 ) & B407 = ( D182 /. B405 )) implies (( B403 /. ( B405 + 1 ) ) <> ( 0* R4 ) & ( B403 . ( B405 + 1 ) ) = ( ( B403 /. B405 ) - ( |( B406 , B407 )| * ( D182 /. B405 ) ) ))))))));
L2260: C347 is  linearly-independent by RLVECT_3:def 3;
L2261: (for B408 being Nat holds (S27[ B408 ] implies S27[ ( B408 + 1 ) ]))
proof
let C350 being Nat;
assume L2262: S27[ C350 ];
per cases ;
suppose L2263: (1 <= ( C350 + 1 ) & ( C350 + 1 ) <= ( ( len C349 ) + 1 ));

L2264: C350 < ( C350 + 1 ) by XREAL_1:29;
L2265: C350 < ( ( len C349 ) + 1 ) by L2264 , L2263 , XXREAL_0:2;
L2266: C350 <= ( len C349 ) by L2263 , XREAL_1:6;
per cases ;
suppose L2267: 1 <= C350;

consider C351 being (FinSequence of ( REAL R4 )) such that L2268: ( len C351 ) = C350 and L2269: 1 <= C350 and L2270: C350 <= ( ( len C349 ) + 1 ) and L2271: (C350 <= ( len C349 ) implies (for B409 being Real holds (not ( C351 . C350 ) = ( B409 * ( D182 /. C350 ) )))) and L2272: ( C351 . 1 ) = D181 and L2273: (for B410 being Nat holds (for B411 , B412 being (Element of ( REAL R4 )) holds ((1 <= B410 & B410 < C350 & B411 = ( C351 /. B410 ) & B412 = ( D182 /. B410 )) implies (( C351 /. ( B410 + 1 ) ) <> ( 0* R4 ) & ( C351 . ( B410 + 1 ) ) = ( ( C351 /. B410 ) - ( |( B411 , B412 )| * ( D182 /. B410 ) ) ))))) by L2267 , L2262 , L2265;
reconsider D183 = ( C351 /. C350 ) , D184 = ( D182 /. C350 ) as (Element of ( REAL R4 ));
reconsider D185 = <* ( ( C351 /. C350 ) - ( |( D183 , D184 )| * ( D182 /. C350 ) ) ) *> as (FinSequence of ( REAL R4 ));
reconsider D186 = ( C351 ^ D185 ) as (FinSequence of ( REAL R4 ));
L2274: 1 in ( Seg ( len C351 ) ) by L2268 , L2269 , FINSEQ_1:1;
L2275: 1 in ( dom C351 ) by L2274 , FINSEQ_1:def 3;
L2276: ( D186 . 1 ) = D181 by L2275 , L2272 , FINSEQ_1:def 7;
L2277: 1 <= ( C350 + 1 ) by NAT_1:12;
L2278: (( C350 + 1 ) <= ( len C349 ) implies ( D182 /. ( C350 + 1 ) ) in D179)
proof
assume L2279: ( C350 + 1 ) <= ( len C349 );
L2280: ( C350 + 1 ) in ( dom C349 ) by L2279 , L2277 , FINSEQ_3:25;
L2281: ( C349 . ( C350 + 1 ) ) in ( rng C349 ) by L2280 , FUNCT_1:def 3;
thus L2282: ( D182 /. ( C350 + 1 ) ) in D179 by L2281 , L2257 , L2279 , FINSEQ_4:15 , NAT_1:12;
end;
L2283: ( len D186 ) = ( ( len C351 ) + ( len D185 ) ) by FINSEQ_1:22
.= ( C350 + 1 ) by L2268 , FINSEQ_1:40;
L2284: (for B413 being Nat holds (for B414 , B415 being (Element of ( REAL R4 )) holds ((1 <= B413 & B413 < ( C350 + 1 ) & B414 = ( D186 /. B413 ) & B415 = ( D182 /. B413 )) implies (( D186 /. ( B413 + 1 ) ) <> ( 0* R4 ) & ( D186 . ( B413 + 1 ) ) = ( ( D186 /. B413 ) - ( |( B414 , B415 )| * ( D182 /. B413 ) ) )))))
proof
let C352 being Nat;
let C353 , C354 being (Element of ( REAL R4 ));
assume that
L2285: 1 <= C352
and
L2286: C352 < ( C350 + 1 )
and
L2287: C353 = ( D186 /. C352 )
and
L2288: C354 = ( D182 /. C352 );
L2289: C352 <= C350 by L2286 , NAT_1:13;
L2290: ( C352 + 1 ) <= ( C350 + 1 ) by L2286 , NAT_1:13;
L2291: 1 <= ( C352 + 1 ) by NAT_1:12;
per cases  by L2289 , XXREAL_0:1;
suppose L2292: C352 < C350;

L2293: ( C352 + 1 ) <= C350 by L2292 , NAT_1:13;
L2294: ( D186 . ( C352 + 1 ) ) = ( C351 . ( C352 + 1 ) ) by L2293 , L2268 , FINSEQ_1:64 , NAT_1:12;
L2295: ( D186 /. ( C352 + 1 ) ) = ( D186 . ( C352 + 1 ) ) by L2283 , L2291 , L2290 , FINSEQ_4:15;
L2296: ( C351 /. ( C352 + 1 ) ) = ( C351 . ( C352 + 1 ) ) by L2268 , L2293 , FINSEQ_4:15 , NAT_1:12;
L2297: ( D186 /. C352 ) = ( D186 . C352 ) by L2283 , L2285 , L2286 , FINSEQ_4:15
.= ( C351 . C352 ) by L2268 , L2285 , L2289 , FINSEQ_1:64
.= ( C351 /. C352 ) by L2268 , L2285 , L2289 , FINSEQ_4:15;
thus L2298: (( D186 /. ( C352 + 1 ) ) <> ( 0* R4 ) & ( D186 . ( C352 + 1 ) ) = ( ( D186 /. C352 ) - ( |( C353 , C354 )| * ( D182 /. C352 ) ) )) by L2297 , L2273 , L2285 , L2287 , L2288 , L2292 , L2294 , L2295 , L2296;
end;
suppose L2299: C352 = C350;

L2300: ( D186 /. ( C352 + 1 ) ) = ( D186 . ( C350 + 1 ) ) by L2299 , L2283 , L2277 , FINSEQ_4:15
.= ( D185 . ( ( C350 + 1 ) - ( len C351 ) ) ) by L2268 , L2283 , FINSEQ_1:24 , XREAL_1:29
.= ( ( C351 /. C350 ) - ( |( D183 , D184 )| * ( D182 /. C350 ) ) ) by L2268 , FINSEQ_1:40;
L2301:
now
assume L2302: ( D186 /. ( C352 + 1 ) ) = ( 0* R4 );
L2303: ( ( ( C351 /. C350 ) - ( |( D183 , D184 )| * ( D182 /. C350 ) ) ) + ( |( D183 , D184 )| * ( D182 /. C350 ) ) ) = ( |( D183 , D184 )| * ( D182 /. C350 ) ) by L2302 , L2300 , EUCLID_4:1;
L2304: ( C351 /. C350 ) = ( |( D183 , D184 )| * ( D182 /. C350 ) ) by L2303 , RVSUM_1:43;
L2305: ( C351 /. C350 ) = ( C351 . C350 ) by L2268 , L2269 , FINSEQ_4:15;
thus L2306: contradiction by L2305 , L2263 , L2271 , L2304 , XREAL_1:6;
end;
L2307: C350 < ( C350 + 1 ) by XREAL_1:29;
L2308: ( D186 /. C350 ) = ( D186 . C350 ) by L2307 , L2269 , L2283 , FINSEQ_4:15;
L2309: ( C351 /. C350 ) = ( C351 . C350 ) by L2268 , L2269 , FINSEQ_4:15;
L2310: ( D186 . C350 ) = ( C351 . C350 ) by L2268 , L2269 , FINSEQ_1:64;
thus L2311: (( D186 /. ( C352 + 1 ) ) <> ( 0* R4 ) & ( D186 . ( C352 + 1 ) ) = ( ( D186 /. C352 ) - ( |( C353 , C354 )| * ( D182 /. C352 ) ) )) by L2310 , L2283 , L2287 , L2288 , L2291 , L2299 , L2309 , L2308 , L2300 , L2301 , FINSEQ_4:15;
end;
end;
L2313: (for B416 being (Element of ( RealVectSpace ( Seg R4 ) )) holds (for B417 being Real holds (B416 in D179 implies ( B417 * B416 ) in (the carrier of ( Lin D179 )))))
proof
let C355 being (Element of ( RealVectSpace ( Seg R4 ) ));
let C356 being Real;
assume L2314: C355 in D179;
L2315: { C355 } c= D179
proof
let C357 being set;
assume L2316: C357 in { C355 };
thus L2317: C357 in D179 by L2316 , L2314 , TARSKI:def 1;
end;
L2318: ( Lin { C355 } ) is (Subspace of ( Lin D179 )) by L2315 , RLVECT_3:20;
L2319: (the carrier of ( Lin { C355 } )) c= (the carrier of ( Lin D179 )) by L2318 , RLSUB_1:def 2;
L2320: ( C356 * C355 ) in ( Lin { C355 } ) by RLVECT_4:8;
L2321: ( C356 * C355 ) in (the carrier of ( Lin { C355 } )) by L2320 , STRUCT_0:def 5;
thus L2322: ( C356 * C355 ) in (the carrier of ( Lin D179 )) by L2321 , L2319;
end;
L2323: (for B418 being (Element of ( REAL R4 )) holds (for B419 being Real holds (B418 in D179 implies ( B419 * B418 ) in (the carrier of ( Lin D179 )))))
proof
let C358 being (Element of ( REAL R4 ));
let C359 being Real;
reconsider D187 = C358 as (Element of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
L2324: ( C359 * C358 ) = ( C359 * D187 );
assume L2325: C358 in D179;
thus L2326: ( C359 * C358 ) in (the carrier of ( Lin D179 )) by L2325 , L2313 , L2324;
end;
defpred S28[ Nat ] means (( $1 + 1 ) <= ( C350 + 1 ) implies (not ( D186 . ( $1 + 1 ) ) in (the carrier of ( Lin D179 ))));
L2327: (for B420 being Nat holds (S28[ B420 ] implies S28[ ( B420 + 1 ) ]))
proof
let C360 being Nat;
assume L2328: S28[ C360 ];
L2329: (( ( C360 + 1 ) + 1 ) <= ( C350 + 1 ) implies (not ( D186 . ( ( C360 + 1 ) + 1 ) ) in (the carrier of ( Lin D179 ))))
proof
L2330: D179 c= (the carrier of ( Lin D179 ))
proof
let C361 being set;
assume L2331: C361 in D179;
L2332: C361 in ( Lin D179 ) by L2331 , RLVECT_3:15;
thus L2333: C361 in (the carrier of ( Lin D179 )) by L2332 , STRUCT_0:def 5;
end;
assume L2334: ( ( C360 + 1 ) + 1 ) <= ( C350 + 1 );
L2335: ( C360 + 1 ) <= C350 by L2334 , XREAL_1:6;
per cases  by L2335 , XXREAL_0:1;
suppose L2336: ( C360 + 1 ) = C350;

L2337: 1 <= ( C360 + 1 ) by NAT_1:12;
L2338: ( C360 + 1 ) in ( dom D182 ) by L2337 , L2266 , L2336 , FINSEQ_3:25;
L2339: ( D182 . ( C360 + 1 ) ) in ( rng C349 ) by L2338 , FUNCT_1:def 3;
L2340: ( D182 /. ( C360 + 1 ) ) = ( D182 . ( C360 + 1 ) ) by L2266 , L2336 , FINSEQ_4:15 , NAT_1:12;
L2341: 1 <= ( ( C360 + 1 ) + 1 ) by NAT_1:12;
L2342: ( D186 /. ( ( C360 + 1 ) + 1 ) ) = ( D186 . ( ( C360 + 1 ) + 1 ) ) by L2341 , L2283 , L2336 , FINSEQ_4:15;
L2343: ( D186 . ( ( C360 + 1 ) + 1 ) ) = ( ( C351 /. C350 ) - ( |( D183 , D184 )| * ( D182 /. C350 ) ) ) by L2268 , L2336 , FINSEQ_1:42;
L2344:
now
assume L2345: ( D186 . ( ( C360 + 1 ) + 1 ) ) in (the carrier of ( Lin D179 ));
L2346: ( ( D186 /. ( ( C360 + 1 ) + 1 ) ) + ( |( D183 , D184 )| * ( D182 /. ( C360 + 1 ) ) ) ) = ( C351 /. ( C360 + 1 ) ) by L2336 , L2343 , L2342 , RVSUM_1:43;
L2347: ( C351 /. ( C360 + 1 ) ) in (the carrier of ( Lin D179 )) by L2346 , L2257 , L2330 , L2342 , L2339 , L2340 , L2345 , L1643;
L2348: ( C351 /. ( C360 + 1 ) ) in ( Lin D179 ) by L2347 , STRUCT_0:def 5;
L2349: (not ( D186 . ( C360 + 1 ) ) in ( Lin D179 )) by L2328 , L2336 , STRUCT_0:def 5 , XREAL_1:29;
L2350: ( D186 . ( C360 + 1 ) ) = ( C351 . ( C360 + 1 ) ) by L2268 , L2269 , L2336 , FINSEQ_1:64;
thus L2351: contradiction by L2350 , L2268 , L2269 , L2336 , L2348 , L2349 , FINSEQ_4:15;
end;
thus L2352: (not ( D186 . ( ( C360 + 1 ) + 1 ) ) in (the carrier of ( Lin D179 ))) by L2344;
end;
suppose L2353: ( C360 + 1 ) < C350;

reconsider D188 = ( C351 /. ( C360 + 1 ) ) , D189 = ( D182 /. ( C360 + 1 ) ) as (Element of ( REAL R4 ));
L2354: ( ( C360 + 1 ) + 1 ) <= C350 by L2353 , NAT_1:13;
L2355: ( C351 /. ( ( C360 + 1 ) + 1 ) ) = ( C351 . ( ( C360 + 1 ) + 1 ) ) by L2354 , L2268 , FINSEQ_4:15 , NAT_1:12;
L2356: ( C360 + 1 ) <= ( len D182 ) by L2266 , L2353 , XXREAL_0:2;
L2357: ( D182 /. ( C360 + 1 ) ) = ( D182 . ( C360 + 1 ) ) by L2356 , FINSEQ_4:15 , NAT_1:12;
L2358: 1 <= ( C360 + 1 ) by NAT_1:12;
L2359: ( C360 + 1 ) in ( dom D182 ) by L2358 , L2356 , FINSEQ_3:25;
L2360: ( D182 . ( C360 + 1 ) ) in ( rng C349 ) by L2359 , FUNCT_1:def 3;
L2361: ( D186 . ( ( C360 + 1 ) + 1 ) ) = ( C351 . ( ( C360 + 1 ) + 1 ) ) by L2268 , L2354 , FINSEQ_1:64 , NAT_1:12;
L2362: ( C351 . ( ( C360 + 1 ) + 1 ) ) = ( ( C351 /. ( C360 + 1 ) ) - ( |( D188 , D189 )| * ( D182 /. ( C360 + 1 ) ) ) ) by L2273 , L2353 , L2358;
L2363:
now
assume L2364: ( D186 . ( ( C360 + 1 ) + 1 ) ) in (the carrier of ( Lin D179 ));
L2365: ( ( C351 /. ( ( C360 + 1 ) + 1 ) ) + ( |( D188 , D189 )| * ( D182 /. ( C360 + 1 ) ) ) ) = ( C351 /. ( C360 + 1 ) ) by L2362 , L2355 , RVSUM_1:43;
L2366: ( C351 /. ( C360 + 1 ) ) in (the carrier of ( Lin D179 )) by L2365 , L2257 , L2330 , L2355 , L2360 , L2357 , L2361 , L2364 , L1643;
L2367: ( C351 /. ( C360 + 1 ) ) in ( Lin D179 ) by L2366 , STRUCT_0:def 5;
L2368: C350 < ( C350 + 1 ) by XREAL_1:29;
L2369: (not ( D186 . ( C360 + 1 ) ) in ( Lin D179 )) by L2368 , L2328 , L2353 , STRUCT_0:def 5 , XXREAL_0:2;
L2370: ( D186 . ( C360 + 1 ) ) = ( C351 . ( C360 + 1 ) ) by L2268 , L2353 , FINSEQ_1:64 , NAT_1:12;
thus L2371: contradiction by L2370 , L2268 , L2353 , L2367 , L2369 , FINSEQ_4:15 , NAT_1:12;
end;
thus L2372: (not ( D186 . ( ( C360 + 1 ) + 1 ) ) in (the carrier of ( Lin D179 ))) by L2363;
end;
end;
thus L2374: S28[ ( C360 + 1 ) ] by L2329;
end;
L2375: S28[ ( 0 ) ] by L2254 , L2272 , L2275 , FINSEQ_1:def 7;
L2376: (for B421 being Nat holds S28[ B421 ]) from NAT_1:sch 2(L2375 , L2327);
L2377: (( C350 + 1 ) <= ( len C349 ) implies (for B422 being Real holds (not ( D186 . ( C350 + 1 ) ) = ( B422 * ( D182 /. ( C350 + 1 ) ) )))) by L2376 , L2323 , L2278;
thus L2378: S27[ ( C350 + 1 ) ] by L2377 , L2283 , L2276 , L2284;
end;
suppose L2379: 1 > C350;

reconsider D190 = <* D181 *> as (FinSequence of ( REAL R4 ));
L2380: ( len D190 ) = 1 by FINSEQ_1:40;
L2381: ( D190 . 1 ) = D181 by FINSEQ_1:40;
L2382: (1 <= ( len C349 ) implies (for B423 being Real holds (not ( D190 . 1 ) = ( B423 * ( D182 /. 1 ) ))))
proof
assume L2383: 1 <= ( len C349 );
thus L2384: (for B424 being Real holds (not ( D190 . 1 ) = ( B424 * ( D182 /. 1 ) )))
proof
let C362 being Real;
L2385: ( D190 . 1 ) = D181 by FINSEQ_1:40;
L2386: 1 in ( dom D182 ) by L2383 , FINSEQ_3:25;
L2387: ( D182 . 1 ) in D179 by L2386 , L2257 , FUNCT_1:def 3;
L2388: ( D182 /. 1 ) = ( D182 . 1 ) by L2383 , FINSEQ_4:15;
thus L2389: (not ( D190 . 1 ) = ( C362 * ( D182 /. 1 ) )) by L2388 , L2246 , L2253 , L2256 , L2260 , L2385 , L2387 , L1801;
end;

end;
L2385: (for B425 being Nat holds (for B426 , B427 being (Element of ( REAL R4 )) holds ((1 <= B425 & B425 < 1 & B426 = ( D190 /. B425 ) & B427 = ( D182 /. B425 )) implies (( D190 /. ( B425 + 1 ) ) <> ( 0* R4 ) & ( D190 . ( B425 + 1 ) ) = ( ( D190 /. B425 ) - ( |( B426 , B427 )| * ( D182 /. B425 ) ) )))));
L2386: C350 = ( 0 ) by L2379 , NAT_1:14;
thus L2387: S27[ ( C350 + 1 ) ] by L2386 , L2380 , L2381 , L2382 , L2385;
end;
end;
suppose L2389: (not (1 <= ( C350 + 1 ) & ( C350 + 1 ) <= ( ( len C349 ) + 1 )));

thus L2390: S27[ ( C350 + 1 ) ] by L2389;
end;
end;
L2392: S27[ ( 0 ) ];
L2393: (for B428 being Nat holds S27[ B428 ]) from NAT_1:sch 2(L2392 , L2261);
consider C363 being (FinSequence of ( REAL R4 )) such that L2394: ( len C363 ) = ( ( len C349 ) + 1 ) and L2395: (( ( len C349 ) + 1 ) <= ( len C349 ) implies (for B429 being Real holds (not ( C363 . ( ( len C349 ) + 1 ) ) = ( B429 * ( D182 /. ( ( len C349 ) + 1 ) ) )))) and L2396: ( C363 . 1 ) = D181 and L2397: (for B430 being Nat holds (for B431 , B432 being (Element of ( REAL R4 )) holds ((1 <= B430 & B430 < ( ( len C349 ) + 1 ) & B431 = ( C363 /. B430 ) & B432 = ( D182 /. B430 )) implies (( C363 /. ( B430 + 1 ) ) <> ( 0* R4 ) & ( C363 . ( B430 + 1 ) ) = ( ( C363 /. B430 ) - ( |( B431 , B432 )| * ( D182 /. B430 ) ) ))))) by L2393 , L2259;
reconsider D191 = ( C363 /. ( len C363 ) ) as (Element of ( REAL R4 ));
L2398: ( len C349 ) < ( ( len C349 ) + 1 ) by XREAL_1:29;
set D192 = ( ( 1 / |. D191 .| ) * D191 );
reconsider D193 = ( D179 \/ { D192 } ) as (Subset of ( REAL R4 )) by XBOOLE_1:8;
L2399: (for B433 being Nat holds (for B434 being (Element of ( REAL R4 )) holds ((1 <= B433 & B433 <= ( len C349 ) & ( D182 /. B433 ) = B434) implies |( B434 , D191 )| = ( 0 ))))
proof
defpred S29[ Nat ] means (for B435 being (Element of ( REAL R4 )) holds (for B436 being (Element of ( REAL R4 )) holds (for B437 being Nat holds ((B436 = ( C363 /. $1 ) & 1 <= B437 & B437 < $1 & $1 <= ( ( len C349 ) + 1 ) & ( D182 /. B437 ) = B435) implies |( B435 , B436 )| = ( 0 )))));
let C364 being Nat;
let C365 being (Element of ( REAL R4 ));
assume that
L2400: 1 <= C364
and
L2401: C364 <= ( len C349 )
and
L2402: ( D182 /. C364 ) = C365;
L2403: (for B438 being Nat holds (S29[ B438 ] implies S29[ ( B438 + 1 ) ]))
proof
let C366 being Nat;
assume L2404: S29[ C366 ];
L2405: (for B439 being (Element of ( REAL R4 )) holds (for B440 being (Element of ( REAL R4 )) holds (for B441 being Nat holds ((B440 = ( C363 /. ( C366 + 1 ) ) & 1 <= B441 & B441 < ( C366 + 1 ) & ( C366 + 1 ) <= ( ( len C349 ) + 1 ) & ( D182 /. B441 ) = B439) implies |( B439 , B440 )| = ( 0 )))))
proof
L2406: C366 < ( C366 + 1 ) by XREAL_1:29;
let C367 being (Element of ( REAL R4 ));
let C368 being (Element of ( REAL R4 ));
let C369 being Nat;
assume that
L2407: C368 = ( C363 /. ( C366 + 1 ) )
and
L2408: 1 <= C369
and
L2409: C369 < ( C366 + 1 )
and
L2410: ( C366 + 1 ) <= ( ( len C349 ) + 1 )
and
L2411: ( D182 /. C369 ) = C367;
L2412: C369 <= C366 by L2409 , NAT_1:13;
per cases ;
suppose L2413: C366 = ( 0 );

thus L2414: |( C367 , C368 )| = ( 0 ) by L2413 , L2408 , L2409;
end;
suppose L2415: C366 <> ( 0 );

reconsider D194 = ( C363 /. C366 ) , D195 = ( D182 /. C366 ) as (Element of ( REAL R4 ));
L2416: C366 < ( ( len C349 ) + 1 ) by L2410 , L2406 , XXREAL_0:2;
L2417: C366 <= ( len C349 ) by L2416 , NAT_1:13;
L2418: 1 <= ( C366 + 1 ) by L2408 , L2409 , XXREAL_0:2;
L2419: C368 = ( C363 . ( C366 + 1 ) ) by L2418 , L2394 , L2407 , L2410 , FINSEQ_4:15;
L2420: ( ( 0 ) + 1 ) <= C366 by L2415 , NAT_1:13;
L2421: ( C363 . ( C366 + 1 ) ) = ( ( C363 /. C366 ) - ( |( D194 , D195 )| * ( D182 /. C366 ) ) ) by L2420 , L2397 , L2416;
L2422: |( C367 , C368 )| = ( |( C367 , D194 )| - |( C367 , ( |( D194 , D195 )| * D195 ) )| ) by L2421 , L2419 , EUCLID_4:26
.= ( |( C367 , D194 )| - ( |( D194 , D195 )| * |( C367 , D195 )| ) ) by EUCLID_4:21;
per cases  by L2412 , XXREAL_0:1;
suppose L2423: C369 < C366;

L2424: 1 < C366 by L2423 , L2408 , XXREAL_0:2;
L2425: ( D182 /. C366 ) = ( D182 . C366 ) by L2424 , L2417 , FINSEQ_4:15;
L2426: C366 in ( Seg ( len D182 ) ) by L2417 , L2424 , FINSEQ_1:1;
L2427: C366 in ( dom D182 ) by L2426 , FINSEQ_1:def 3;
L2428: D195 in C346 by L2427 , L2257 , L2425 , FUNCT_1:def 3;
L2429: C366 < ( ( len C349 ) + 1 ) by L2410 , L2406 , XXREAL_0:2;
L2430: C369 < ( len C349 ) by L2417 , L2423 , XXREAL_0:2;
L2431: ( D182 /. C369 ) = ( D182 . C369 ) by L2430 , L2408 , FINSEQ_4:15;
L2432: C369 in ( Seg ( len D182 ) ) by L2408 , L2430 , FINSEQ_1:1;
L2433: C369 in ( dom D182 ) by L2432 , FINSEQ_1:def 3;
L2434: C367 in ( rng C349 ) by L2433 , L2411 , L2431 , FUNCT_1:def 3;
L2435: C367 <> D195 by L2258 , L2411 , L2423 , L2431 , L2433 , L2425 , L2427 , FUNCT_1:def 4;
L2436: |( C367 , D195 )| = ( 0 ) by L2435 , L2257 , L2434 , L2428 , L209;
thus L2437: |( C367 , C368 )| = ( 0 ) by L2436 , L2404 , L2408 , L2411 , L2422 , L2423 , L2429;
end;
suppose L2438: C369 = C366;

L2439: C366 in ( Seg ( len D182 ) ) by L2420 , L2417 , FINSEQ_1:1;
L2440: C366 in ( dom D182 ) by L2439 , FINSEQ_1:def 3;
L2441: ( D182 /. C366 ) = ( D182 . C366 ) by L2420 , L2417 , FINSEQ_4:15;
L2442: D195 in ( rng D182 ) by L2441 , L2440 , FUNCT_1:def 3;
L2443: |. D195 .| = 1 by L2442 , L2257 , L227;
L2444: ( |. D195 .| ^2 ) = 1 by L2443;
thus L2445: |( C367 , C368 )| = ( |( D195 , D194 )| - ( |( D194 , D195 )| * 1 ) ) by L2444 , L2411 , L2422 , L2438 , EUCLID_2:4
.= ( 0 );
end;
end;
end;
thus L2448: S29[ ( C366 + 1 ) ] by L2405;
end;
L2449: S29[ ( 0 ) ];
L2450: (for B442 being Nat holds S29[ B442 ]) from NAT_1:sch 2(L2449 , L2403);
L2451: ( len C349 ) < ( ( len C349 ) + 1 ) by XREAL_1:29;
L2452: C364 < ( len C363 ) by L2451 , L2394 , L2401 , XXREAL_0:2;
thus L2453: |( C365 , D191 )| = ( 0 ) by L2452 , L2394 , L2400 , L2402 , L2450;
end;
L2454: (for B443 being Nat holds (for B444 being (Element of ( REAL R4 )) holds ((1 <= B443 & B443 <= ( len C349 ) & ( D182 /. B443 ) = B444) implies |( B444 , D192 )| = ( 0 ))))
proof
let C370 being Nat;
let C371 being (Element of ( REAL R4 ));
assume that
L2455: 1 <= C370
and
L2456: C370 <= ( len C349 )
and
L2457: ( D182 /. C370 ) = C371;
L2458: |( C371 , D192 )| = ( ( 1 / |. D191 .| ) * |( C371 , D191 )| ) by EUCLID_4:22;
L2459: |( C371 , D191 )| = ( 0 ) by L2399 , L2455 , L2456 , L2457;
thus L2460: |( C371 , D192 )| = ( 0 ) by L2459 , L2458;
end;
L2461: (for B445 , B446 being  real-valued FinSequence holds ((B445 in D193 & B446 in D193 & B445 <> B446) implies |( B445 , B446 )| = ( 0 )))
proof
let C372 , C373 being  real-valued FinSequence;
assume that
L2462: C372 in D193
and
L2463: C373 in D193
and
L2464: C372 <> C373;
per cases  by L2462 , L2463 , XBOOLE_0:def 3;
suppose L2465: (C372 in D179 & C373 in D179);

thus L2466: |( C372 , C373 )| = ( 0 ) by L2465 , L2464 , L209;
end;
suppose L2467: (C372 in D179 & C373 in { D192 });

consider C374 being set such that L2468: C374 in ( dom D182 ) and L2469: C372 = ( D182 . C374 ) by L2467 , L2257 , FUNCT_1:def 3;
reconsider D196 = C374 as (Element of ( NAT )) by L2468;
L2470: C374 in ( Seg ( len D182 ) ) by L2468 , FINSEQ_1:def 3;
L2471: D196 <= ( len D182 ) by L2470 , FINSEQ_1:1;
L2472: C373 = D192 by L2467 , TARSKI:def 1;
L2473: 1 <= D196 by L2470 , FINSEQ_1:1;
L2474: ( D182 . C374 ) = ( D182 /. D196 ) by L2473 , L2471 , FINSEQ_4:15;
thus L2475: |( C372 , C373 )| = ( 0 ) by L2474 , L2454 , L2472 , L2469 , L2473 , L2471;
end;
suppose L2476: (C372 in { D192 } & C373 in D179);

consider C375 being set such that L2477: C375 in ( dom D182 ) and L2478: C373 = ( D182 . C375 ) by L2476 , L2257 , FUNCT_1:def 3;
reconsider D197 = C375 as (Element of ( NAT )) by L2477;
L2479: C375 in ( Seg ( len D182 ) ) by L2477 , FINSEQ_1:def 3;
L2480: D197 <= ( len D182 ) by L2479 , FINSEQ_1:1;
L2481: C372 = D192 by L2476 , TARSKI:def 1;
L2482: 1 <= D197 by L2479 , FINSEQ_1:1;
L2483: ( D182 . C375 ) = ( D182 /. D197 ) by L2482 , L2480 , FINSEQ_4:15;
thus L2484: |( C372 , C373 )| = ( 0 ) by L2483 , L2454 , L2481 , L2478 , L2482 , L2480;
end;
suppose L2485: (C372 in { D192 } & C373 in { D192 });

L2486: C373 = D192 by L2485 , TARSKI:def 1;
thus L2487: |( C372 , C373 )| = ( 0 ) by L2486 , L2464 , L2485 , TARSKI:def 1;
end;
end;
L2489: D193 is  R-orthogonal by L2461 , L209;
L2490: 1 in ( dom C349 ) by L2245 , L2257 , FINSEQ_3:32;
L2491: 1 <= ( len C349 ) by L2490 , FINSEQ_3:25;
set D198 = ( C363 /. ( len C349 ) );
set D199 = ( D182 /. ( len C349 ) );
L2492: D199 = ( D182 /. ( len C349 ) );
L2493: D198 = ( C363 /. ( len C349 ) );
L2494: |. D191 .| <> ( 0 ) by L2493 , L2491 , L2394 , L2397 , L2492 , L2398 , EUCLID:8;
L2495: ( abs ( 1 / |. D191 .| ) ) = ( 1 / |. D191 .| ) by ABSVALUE:def 1;
L2496: D192 in { D192 } by TARSKI:def 1;
L2497: |. D192 .| = ( ( abs ( 1 / |. D191 .| ) ) * |. D191 .| ) by EUCLID:11
.= 1 by L2494 , L2495 , XCMPLX_1:106;
L2498: D193 is  R-normal by L2497 , L242;
L2499: D180 = D193 by L2498 , L2249 , L2489 , XBOOLE_1:7;
L2500: D192 in D179 by L2499 , L2496 , XBOOLE_0:def 3;
consider C376 being set such that L2501: C376 in ( dom D182 ) and L2502: D192 = ( D182 . C376 ) by L2500 , L2257 , FUNCT_1:def 3;
reconsider D200 = C376 as (Element of ( NAT )) by L2501;
L2503: C376 in ( Seg ( len D182 ) ) by L2501 , FINSEQ_1:def 3;
L2504: D200 <= ( len D182 ) by L2503 , FINSEQ_1:1;
L2505: 1 <= D200 by L2503 , FINSEQ_1:1;
L2506: ( D182 . C376 ) = ( D182 /. D200 ) by L2505 , L2504 , FINSEQ_4:15;
L2507: |( D192 , D192 )| = ( 0 ) by L2506 , L2454 , L2502 , L2505 , L2504;
thus L2508: D179 is (Basis of ( RealVectSpace ( Seg R4 ) )) by L2507 , L2497 , EUCLID_4:16;
end;
L2509: ( Lin D179 ) is (Subspace of ( Lin C347 )) by L2246 , RLVECT_3:20;
L2510: (the carrier of ( Lin D179 )) c= (the carrier of ( Lin C347 )) by L2509 , RLSUB_1:def 2;
L2511: ( Lin C347 ) = D178 by RLVECT_3:def 3;
L2512:
now
assume L2513: C347 c= (the carrier of ( Lin D179 ));
L2514: ( Lin C347 ) is (Subspace of ( Lin D179 )) by L2513 , RLVECT_5:19;
L2515: (the carrier of ( Lin C347 )) c= (the carrier of ( Lin D179 )) by L2514 , RLSUB_1:def 2;
L2516: (the carrier of ( Lin C347 )) = (the carrier of ( Lin D179 )) by L2515 , L2510 , XBOOLE_0:def 10;
L2517: ( Lin D179 ) = ( Lin C347 ) by L2516 , RLSUB_1:30;
thus L2518: D179 is (Basis of ( RealVectSpace ( Seg R4 ) )) by L2517 , L2511 , RLVECT_3:def 3;
end;
thus L2519: thesis by L2512 , L2250;
end;
end;
registration
let C377 being (Element of ( NAT ));
cluster ( REAL-US C377 ) ->  finite-dimensional;
coherence
proof
reconsider D201 = ( RN_Base C377 ) as (Subset of ( REAL-US C377 )) by REAL_NS1:def 6;
L2521: D201 is (Basis of ( REAL-US C377 )) by L2227;
thus L2522: thesis by L2521 , RUSUB_4:def 1;
end;
end;
theorem
L2524: (for B447 being (Element of ( NAT )) holds ( dim ( REAL-US B447 ) ) = B447)
proof
let C378 being (Element of ( NAT ));
reconsider D202 = ( RN_Base C378 ) as (Subset of ( REAL-US C378 )) by REAL_NS1:def 6;
L2525: (for B448 being (Basis of ( REAL-US C378 )) holds C378 = ( card B448 ))
proof
let C379 being (Basis of ( REAL-US C378 ));
L2526: D202 is (Basis of ( REAL-US C378 )) by L2227;
L2527: ( card D202 ) = ( card C379 ) by L2526 , RUSUB_4:5;
thus L2528: C378 = ( card C379 ) by L2527 , L1812;
end;
thus L2529: thesis by L2525 , RUSUB_4:def 2;
end;
theorem
L2530: (for R4 being Nat holds (for B449 being (Orthogonal_Basis of R4) holds ( card B449 ) = R4))
proof
let R4 being Nat;
let C380 being (Orthogonal_Basis of R4);
reconsider D203 = C380 as (Subset of ( RealVectSpace ( Seg R4 ) )) by FINSEQ_2:93;
L2531: D203 is (Basis of ( RealVectSpace ( Seg R4 ) )) by L2242;
thus L2532: ( card C380 ) = R4 by L2531 , L2217;
end;
