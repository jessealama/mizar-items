:: Darboux's Theorem
::  by Noboru Endou , Katsumi Wasaki and Yasunari Shidama
::
:: Received December 7, 1999
:: Copyright (c) 1999-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FINSEQ_1, ARYTM_1, INTEGRA1, RELAT_1, ORDINAL2, FUNCT_1, CARD_1,
      FUNCT_3, SEQ_2, JORDAN3, RFINSEQ, INTEGRA2, FDIFF_1, ARYTM_3, SEQ_4,
      CLASSES1, VALUED_0, XBOOLE_0, NUMBERS, MEASURE7, XREAL_0, REAL_1,
      SUBSET_1, XXREAL_2, ORDINAL1, XXREAL_0, NAT_1, TARSKI, ORDINAL4,
      COMPLEX1, CARD_3, XXREAL_1, PARTFUN1, SEQ_1, MEASURE5;
 notations TARSKI, XBOOLE_0, SUBSET_1, ORDINAL1, CARD_1, NUMBERS, XXREAL_0,
      XREAL_0, COMPLEX1, REAL_1, NAT_1, NAT_D, RELAT_1, FUNCT_1, FUNCT_2,
      XXREAL_2, SEQ_4, VALUED_0, PARTFUN1, MEASURE6, FINSEQ_1, RFUNCT_1,
      RVSUM_1, INTEGRA1, SEQ_1, COMSEQ_2,
      SEQ_2, FINSEQ_6, RCOMP_1, FDIFF_1, SQUARE_1,
      CLASSES1, RFINSEQ, MEASURE5, INTEGRA2;
 constructors PARTFUN1, REAL_1, SQUARE_1, NAT_1, COMPLEX1, FINSOP_1, RFUNCT_1,
      FDIFF_1, RFINSEQ, BINARITH, MEASURE6, FINSEQ_6, INTEGRA2, SEQ_1, BINOP_2,
      XXREAL_2, NAT_D, RVSUM_1, CLASSES1, SEQ_4, RELSET_1, SEQ_2, COMSEQ_2;
 registrations XBOOLE_0, RELAT_1, ORDINAL1, NUMBERS, XXREAL_0, XREAL_0, NAT_1,
      MEMBERED, FINSEQ_1, SEQM_3, INTEGRA1, INTEGRA2, VALUED_0, FUNCT_2,
      FINSET_1, XXREAL_2, CARD_1, SEQ_2, MEASURE5, COMSEQ_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, RVSUM_1;
 theorems SEQ_4, SUBSET_1, PARTFUN1, INTEGRA1, RFUNCT_1, FUNCT_1, FINSEQ_1,
      RVSUM_1, SEQ_1, SEQ_2, FDIFF_1, ABSVALUE, NAT_1, RFINSEQ, TARSKI,
      FINSEQ_5, FINSEQ_3, FINSEQ_4, FINSEQ_6, INTEGRA2, RELAT_1, XREAL_0,
      FUNCT_2, XBOOLE_0, XBOOLE_1, XREAL_1, COMPLEX1, XXREAL_0, FINSOP_1,
      ORDINAL1, XXREAL_2, SEQM_3, CLASSES1, MEASURE5;
 schemes FINSEQ_2, NAT_1, SEQ_1;

begin
L1: (for R8 being (Element of ( NAT )) holds ( ( R8 -' R8 ) + 1 ) = 1)
proof
let R8 being (Element of ( NAT ));
L2: ( R8 -' R8 ) = ( R8 - R8 ) by XREAL_1:233
.= ( 0 );
thus L3: thesis by L2;
end;
L4: (for R10 being (Element of ( NAT )) holds ((1 <= R10 & R10 <= 2) implies (R10 = 1 or R10 = 2)))
proof
let R10 being (Element of ( NAT ));
assume that
L5: 1 <= R10
and
L6: R10 <= 2;
per cases  by L5 , XXREAL_0:1;
suppose L7: R10 = 1;

thus L8: thesis by L7;
end;
suppose L9: R10 > 1;

L10: R10 >= ( 1 + 1 ) by L9 , NAT_1:13;
thus L11: thesis by L10 , L6 , XXREAL_0:1;
end;
end;
definition
let C1 being non  empty  closed_interval (Subset of ( REAL ));
let C2 being (Division of C1);
func delta C2 -> Real equals 
( max ( rng ( upper_volume (( chi (C1 , C1) ) , C2) ) ) );
correctness by XREAL_0:def 1;
end;
definition
let C3 being non  empty  closed_interval (Subset of ( REAL ));
let C4 being (DivSequence of C3);
func delta C4 -> Real_Sequence means 
:L14: (for R7 being (Element of ( NAT )) holds ( it . R7 ) = ( delta ( C4 . R7 ) ));
existence
proof
deffunc H1((Element of ( NAT ))) = ( delta ( C4 . $1 ) );
thus L15: (ex B1 being Real_Sequence st (for R7 being (Element of ( NAT )) holds ( B1 . R7 ) = H1(R7))) from SEQ_1:sch 1;
end;
uniqueness
proof
let C5 , C6 being Real_Sequence;
assume that
L16: (for R7 being (Element of ( NAT )) holds ( C5 . R7 ) = ( delta ( C4 . R7 ) ))
and
L17: (for R7 being (Element of ( NAT )) holds ( C6 . R7 ) = ( delta ( C4 . R7 ) ));
L18: (for R7 being (Element of ( NAT )) holds ( C5 . R7 ) = ( C6 . R7 ))
proof
let R7 being (Element of ( NAT ));
L19: ( C5 . R7 ) = ( delta ( C4 . R7 ) ) by L16
.= ( C6 . R7 ) by L17;
thus L20: thesis by L19;
end;
thus L21: thesis by L18 , FUNCT_2:63;
end;
end;
theorem
L23: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds (R17 <= R18 implies ( delta R17 ) >= ( delta R18 )))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
L24: ( delta R18 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R18) ) ) by XXREAL_2:def 8;
consider R8 being (Element of ( NAT )) such that L25: R8 in ( dom ( upper_volume (( chi (R15 , R15) ) , R18) ) ) and L26: ( delta R18 ) = ( ( upper_volume (( chi (R15 , R15) ) , R18) ) . R8 ) by L24 , PARTFUN1:3;
L27: ( len ( upper_volume (( chi (R15 , R15) ) , R18) ) ) = ( len R18 ) by INTEGRA1:def 6;
L28: R8 in ( dom R18 ) by L27 , L25 , FINSEQ_3:29;
L29: ( delta R18 ) = ( vol ( divset (R18 , R8) ) ) by L28 , L26 , INTEGRA1:20;
assume L30: R17 <= R18;
consider R7 being (Element of ( NAT )) such that L31: R7 in ( dom R17 ) and L32: ( divset (R18 , R8) ) c= ( divset (R17 , R7) ) by L30 , L28 , INTEGRA2:37;
L33: ( vol ( divset (R17 , R7) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) by L31 , INTEGRA1:20;
L34: ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) = ( len R17 ) by INTEGRA1:def 6;
L35: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L34 , L31 , FINSEQ_3:29;
L36: ( vol ( divset (R17 , R7) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L35 , L33 , FUNCT_1:def 3;
L37: ( delta R18 ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L36 , L29 , L32 , INTEGRA2:38 , XXREAL_2:61;
thus L38: thesis by L37;
end;
theorem
L39: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (( vol R15 ) <> ( 0 ) implies (ex R7 being (Element of ( NAT )) st (R7 in ( dom R16 ) & ( vol ( divset (R16 , R7) ) ) > ( 0 ))))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
assume L40: ( vol R15 ) <> ( 0 );
L41: ( len R16 ) in ( dom R16 ) by FINSEQ_5:6;
assume L42: (for R7 being (Element of ( NAT )) holds (R7 in ( dom R16 ) implies ( vol ( divset (R16 , R7) ) ) <= ( 0 )));
L43: (for R7 being (Element of ( NAT )) holds (R7 in ( dom R16 ) implies ( vol ( divset (R16 , R7) ) ) = ( 0 )))
proof
let R7 being (Element of ( NAT ));
assume L44: R7 in ( dom R16 );
L45: ( vol ( divset (R16 , R7) ) ) <= ( 0 ) by L44 , L42;
thus L46: thesis by L45 , INTEGRA1:9;
end;
L47: (for R7 being (Element of ( NAT )) holds (R7 in ( dom R16 ) implies ( upper_bound ( divset (R16 , R7) ) ) = ( lower_bound ( divset (R16 , R7) ) )))
proof
let R7 being (Element of ( NAT ));
assume L48: R7 in ( dom R16 );
L49: ( vol ( divset (R16 , R7) ) ) = ( 0 ) by L48 , L43;
L50: ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound ( divset (R16 , R7) ) ) ) = ( 0 ) by L49 , INTEGRA1:def 5;
thus L51: thesis by L50;
end;
L52: ( len R16 ) = 1
proof
L53: ( len R16 ) < ( ( len R16 ) + 1 ) by NAT_1:13;
L54: ( ( len R16 ) - 1 ) < ( len R16 ) by L53 , XREAL_1:19;
assume L55: ( len R16 ) <> 1;
L56: ( upper_bound ( divset (R16 , ( len R16 )) ) ) = ( R16 . ( len R16 ) ) by L55 , L41 , INTEGRA1:def 4;
L57: ( ( len R16 ) - 1 ) in ( dom R16 ) by L41 , L55 , INTEGRA1:7;
L58: ( lower_bound ( divset (R16 , ( len R16 )) ) ) = ( R16 . ( ( len R16 ) - 1 ) ) by L41 , L55 , INTEGRA1:def 4;
L59: ( lower_bound ( divset (R16 , ( len R16 )) ) ) < ( upper_bound ( divset (R16 , ( len R16 )) ) ) by L58 , L41 , L56 , L57 , L54 , SEQM_3:def 1;
thus L60: contradiction by L59 , L47 , L41;
end;
L61: ( upper_bound ( divset (R16 , ( len R16 )) ) ) = ( R16 . ( len R16 ) ) by L52 , L41 , INTEGRA1:def 4;
L62: ( upper_bound ( divset (R16 , ( len R16 )) ) ) = ( upper_bound R15 ) by L61 , INTEGRA1:def 2;
L63: ( lower_bound ( divset (R16 , ( len R16 )) ) ) = ( lower_bound R15 ) by L41 , L52 , INTEGRA1:def 4;
L64: ( upper_bound R15 ) = ( ( lower_bound R15 ) + ( 0 ) ) by L63 , L47 , L41 , L62;
L65: ( ( upper_bound R15 ) - ( lower_bound R15 ) ) = ( 0 ) by L64;
thus L66: contradiction by L65 , L40 , INTEGRA1:def 5;
end;
theorem
L67: (for R5 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (R5 in R15 implies (ex R8 being (Element of ( NAT )) st (R8 in ( dom R16 ) & R5 in ( divset (R16 , R8) )))))))
proof
let R5 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
assume L68: R5 in R15;
L69: ( lower_bound R15 ) <= R5 by L68 , INTEGRA2:1;
L70: R5 <= ( upper_bound R15 ) by L68 , INTEGRA2:1;
L71: ( rng R16 ) <> ( {} );
L72: 1 in ( dom R16 ) by L71 , FINSEQ_3:32;
per cases ;
suppose L73: R5 in ( rng R16 );

consider R8 being (Element of ( NAT )) such that L74: R8 in ( dom R16 ) and L75: ( R16 . R8 ) = R5 by L73 , PARTFUN1:3;
L76: R5 in ( divset (R16 , R8) )
proof
per cases ;
suppose L77: R8 = 1;

L78: (ex R1 being Real st (ex R2 being Real st (R1 <= R2 & R1 = ( lower_bound ( divset (R16 , R8) ) ) & R2 = ( upper_bound ( divset (R16 , R8) ) )))) by SEQ_4:11;
L79: ( upper_bound ( divset (R16 , R8) ) ) = ( R16 . R8 ) by L74 , L77 , INTEGRA1:def 4;
thus L80: thesis by L79 , L75 , L78 , INTEGRA2:1;
end;
suppose L81: R8 <> 1;

L82: (ex R1 being Real st (ex R2 being Real st (R1 <= R2 & R1 = ( lower_bound ( divset (R16 , R8) ) ) & R2 = ( upper_bound ( divset (R16 , R8) ) )))) by SEQ_4:11;
L83: ( upper_bound ( divset (R16 , R8) ) ) = ( R16 . R8 ) by L74 , L81 , INTEGRA1:def 4;
thus L84: thesis by L83 , L75 , L82 , INTEGRA2:1;
end;
end;
thus L86: thesis by L76 , L74;
end;
suppose L87: (not R5 in ( rng R16 ));

defpred S1[ Nat ] means (R5 < ( upper_bound ( divset (R16 , $1) ) ) & $1 in ( dom R16 ));
L88: ( len R16 ) in ( dom R16 ) by FINSEQ_5:6;
L89: ( upper_bound ( divset (R16 , ( len R16 )) ) ) = ( R16 . ( len R16 ) )
proof
per cases ;
suppose L90: ( len R16 ) = 1;

thus L91: thesis by L90 , L88 , INTEGRA1:def 4;
end;
suppose L92: ( len R16 ) <> 1;

thus L93: thesis by L92 , L88 , INTEGRA1:def 4;
end;
end;
L95: ( upper_bound ( divset (R16 , ( len R16 )) ) ) = ( upper_bound R15 ) by L89 , INTEGRA1:def 2;
L96: R5 <> ( upper_bound R15 )
proof
assume L97: R5 = ( upper_bound R15 );
L98: R5 = ( R16 . ( len R16 ) ) by L97 , INTEGRA1:def 2;
thus L99: contradiction by L98 , L87 , L88 , FUNCT_1:def 3;
end;
L100: R5 < ( upper_bound ( divset (R16 , ( len R16 )) ) ) by L96 , L70 , L95 , XXREAL_0:1;
L101: (ex B2 being Nat st S1[ B2 ]) by L100 , L88;
consider C7 being Nat such that L102: (S1[ C7 ] & (for B3 being Nat holds (S1[ B3 ] implies C7 <= B3))) from NAT_1:sch 5(L101);
defpred S2[ Nat ] means (R5 >= ( lower_bound ( divset (R16 , $1) ) ) & $1 in ( dom R16 ));
L103: ( lower_bound ( divset (R16 , 1) ) ) = ( lower_bound R15 ) by L72 , INTEGRA1:def 4;
L104: (ex B4 being Nat st S2[ B4 ]) by L103 , L69 , L71 , FINSEQ_3:32;
L105: (for B5 being Nat holds (S2[ B5 ] implies B5 <= ( len R16 ))) by FINSEQ_3:25;
consider C8 being Nat such that L106: (S2[ C8 ] & (for B6 being Nat holds (S2[ B6 ] implies B6 <= C8))) from NAT_1:sch 6(L105 , L104);
L107: C7 = C8
proof
assume L108: C7 <> C8;
per cases  by L108 , XXREAL_0:1;
suppose L109: C7 < C8;

L110: ( upper_bound ( divset (R16 , C7) ) ) = ( R16 . C7 )
proof
per cases ;
suppose L111: C7 = 1;

thus L112: thesis by L111 , L102 , INTEGRA1:def 4;
end;
suppose L113: C7 <> 1;

thus L114: thesis by L113 , L102 , INTEGRA1:def 4;
end;
end;
L116: 1 <= C7 by L102 , FINSEQ_3:25;
L117: ( R16 . ( C8 - 1 ) ) <= R5 by L116 , L106 , L109 , INTEGRA1:def 4;
L118: ( R16 . ( C8 - 1 ) ) < ( R16 . C7 ) by L117 , L102 , L110 , XXREAL_0:2;
L119: ( C8 - 1 ) in ( dom R16 ) by L106 , L109 , L116 , INTEGRA1:7;
L120: ( C8 - 1 ) < C7 by L119 , L102 , L118 , SEQ_4:137;
L121: C8 < ( C7 + 1 ) by L120 , XREAL_1:19;
thus L122: contradiction by L121 , L109 , NAT_1:13;
end;
suppose L123: C7 > C8;

L124: R5 < ( upper_bound ( divset (R16 , C8) ) )
proof
L125: ( upper_bound ( divset (R16 , C8) ) ) = ( R16 . C8 )
proof
per cases ;
suppose L126: C8 = 1;

thus L127: thesis by L126 , L106 , INTEGRA1:def 4;
end;
suppose L128: C8 <> 1;

thus L129: thesis by L128 , L106 , INTEGRA1:def 4;
end;
end;
assume L131: R5 >= ( upper_bound ( divset (R16 , C8) ) );
L132: ( C8 + 1 ) <= C7 by L123 , NAT_1:13;
L133: 1 <= C8 by L106 , FINSEQ_3:25;
L134: 1 <= ( C8 + 1 ) by L133 , NAT_1:13;
L135: C7 <= ( len R16 ) by L102 , FINSEQ_3:25;
L136: ( C8 + 1 ) <= ( len R16 ) by L135 , L132 , XXREAL_0:2;
L137: ( C8 + 1 ) in ( dom R16 ) by L136 , L134 , FINSEQ_3:25;
L138: ( C8 + 1 ) > 1 by L133 , NAT_1:13;
L139: ( lower_bound ( divset (R16 , ( C8 + 1 )) ) ) = ( R16 . ( ( C8 + 1 ) - 1 ) ) by L138 , L137 , INTEGRA1:def 4
.= ( R16 . C8 );
L140: ( C8 + 1 ) <= C8 by L139 , L106 , L131 , L125 , L137;
thus L141: contradiction by L140 , NAT_1:13;
end;
thus L142: contradiction by L124 , L102 , L106 , L123;
end;
end;
L144: R5 in ( divset (R16 , C7) ) by L107 , L102 , L106 , INTEGRA2:1;
thus L145: thesis by L144 , L102;
end;
end;
theorem
L147: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds (ex R16 being (Division of R15) st (R17 <= R16 & R18 <= R16 & ( rng R16 ) = ( ( rng R17 ) \/ ( rng R18 ) ))))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
consider C9 being (FinSequence of ( REAL )) such that L148: ( rng C9 ) = ( rng ( R17 ^ R18 ) ) and L149: ( len C9 ) = ( card ( rng ( R17 ^ R18 ) ) ) and L150: C9 is  increasing by SEQ_4:140;
reconsider D1 = C9 as  increasing (FinSequence of ( REAL )) by L150;
reconsider D2 = D1 as non  empty  increasing (FinSequence of ( REAL )) by L148;
L151: ( rng R18 ) c= R15 by INTEGRA1:def 2;
L152: ( rng ( R17 ^ R18 ) ) = ( ( rng R17 ) \/ ( rng R18 ) ) by FINSEQ_1:31;
L153: ( rng R17 ) c= ( rng ( R17 ^ R18 ) ) by L152 , XBOOLE_1:7;
L154: ( rng R17 ) c= R15 by INTEGRA1:def 2;
L155: ( rng D2 ) c= R15 by L154 , L148 , L152 , L151 , XBOOLE_1:8;
L156: ( D2 . ( len D2 ) ) = ( upper_bound R15 )
proof
L157: ( len R17 ) in ( dom R17 ) by FINSEQ_5:6;
L158: ( R17 . ( len R17 ) ) in ( rng R17 ) by L157 , FUNCT_1:def 3;
consider R9 being (Element of ( NAT )) such that L159: R9 in ( dom D2 ) and L160: ( R17 . ( len R17 ) ) = ( D2 . R9 ) by L158 , L148 , L153 , PARTFUN1:3;
assume L161: ( D2 . ( len D2 ) ) <> ( upper_bound R15 );
L162: ( len D2 ) in ( dom D2 ) by FINSEQ_5:6;
L163: ( D2 . ( len D2 ) ) in ( rng D2 ) by L162 , FUNCT_1:def 3;
L164: ( D2 . ( len D2 ) ) <= ( upper_bound R15 ) by L163 , L155 , INTEGRA2:1;
L165: ( D2 . ( len D2 ) ) < ( upper_bound R15 ) by L164 , L161 , XXREAL_0:1;
L166: ( R17 . ( len R17 ) ) = ( upper_bound R15 ) by INTEGRA1:def 2;
L167: R9 > ( len D2 ) by L166 , L162 , L165 , L159 , L160 , SEQ_4:137;
thus L168: contradiction by L167 , L159 , FINSEQ_3:25;
end;
reconsider D3 = D2 as (Division of R15) by L156 , L155 , INTEGRA1:def 2;
take D3;
L169: ( card ( rng R17 ) ) <= ( len D3 ) by L149 , L152 , NAT_1:43 , XBOOLE_1:7;
L170: ( len R17 ) <= ( len D3 ) by L169 , FINSEQ_4:62;
thus L171: R17 <= D3 by L170 , L148 , L153 , INTEGRA1:def 18;
L172: ( rng R18 ) c= ( rng ( R17 ^ R18 ) ) by L152 , XBOOLE_1:7;
L173: ( card ( rng R18 ) ) <= ( len D3 ) by L149 , L152 , NAT_1:43 , XBOOLE_1:7;
L174: ( len R18 ) <= ( len D3 ) by L173 , FINSEQ_4:62;
thus L175: R18 <= D3 by L174 , L148 , L172 , INTEGRA1:def 18;
thus L176: thesis by L148 , FINSEQ_1:31;
end;
theorem
L177: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (for R17 being (Division of R15) holds (( delta R17 ) < ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) implies (for R5 being Real holds (for R6 being Real holds (for R7 being (Element of ( NAT )) holds ((R7 in ( dom R17 ) & R5 in ( ( rng R16 ) /\ ( divset (R17 , R7) ) ) & R6 in ( ( rng R16 ) /\ ( divset (R17 , R7) ) )) implies R5 = R6))))))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
let R17 being (Division of R15);
assume L178: ( delta R17 ) < ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) );
let R5 being Real;
let R6 being Real;
let R7 being (Element of ( NAT ));
assume L179: R7 in ( dom R17 );
assume L180: R5 in ( ( rng R16 ) /\ ( divset (R17 , R7) ) );
L181: R5 in ( rng R16 ) by L180 , XBOOLE_0:def 4;
consider R10 being (Element of ( NAT )) such that L182: R10 in ( dom R16 ) and L183: R5 = ( R16 . R10 ) by L181 , PARTFUN1:3;
assume L184: R6 in ( ( rng R16 ) /\ ( divset (R17 , R7) ) );
L185: R6 in ( rng R16 ) by L184 , XBOOLE_0:def 4;
consider R11 being (Element of ( NAT )) such that L186: R11 in ( dom R16 ) and L187: R6 = ( R16 . R11 ) by L185 , PARTFUN1:3;
assume L188: R5 <> R6;
L189: ( abs ( ( R16 . R10 ) - ( R16 . R11 ) ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) )
proof
per cases  by L188 , L183 , L187 , XXREAL_0:1;
suppose L190: R10 < R11;

L191: ( R10 + 1 ) <= R11 by L190 , NAT_1:13;
L192: 1 <= ( R10 + 1 ) by NAT_1:12;
L193: R11 in ( Seg ( len R16 ) ) by L186 , FINSEQ_1:def 3;
L194: R11 <= ( len R16 ) by L193 , FINSEQ_1:1;
L195: ( R10 + 1 ) <= ( len R16 ) by L194 , L191 , XXREAL_0:2;
L196: ( R10 + 1 ) in ( Seg ( len R16 ) ) by L195 , L192 , FINSEQ_1:1;
L197: ( R10 + 1 ) in ( dom R16 ) by L196 , FINSEQ_1:def 3;
L198: ( R16 . R11 ) >= ( R16 . ( R10 + 1 ) ) by L197 , L186 , L191 , SEQ_4:137;
L199: ( ( R16 . R10 ) - ( R16 . R11 ) ) <= ( ( R16 . R10 ) - ( R16 . ( R10 + 1 ) ) ) by L198 , XREAL_1:10;
L200: ( - ( ( R16 . R10 ) - ( R16 . R11 ) ) ) >= ( - ( ( R16 . R10 ) - ( R16 . ( R10 + 1 ) ) ) ) by L199 , XREAL_1:24;
L201: ( R10 + 1 ) in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L196 , INTEGRA1:def 6;
L202: ( R10 + 1 ) in ( dom ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L201 , FINSEQ_1:def 3;
L203: ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . ( R10 + 1 ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L202 , FUNCT_1:def 3;
L204: R10 in ( Seg ( len R16 ) ) by L182 , FINSEQ_1:def 3;
L205: 1 <= R10 by L204 , FINSEQ_1:1;
L206: ( R10 + 1 ) <> 1 by L205 , NAT_1:13;
L207: ( upper_bound ( divset (R16 , ( R10 + 1 )) ) ) = ( R16 . ( R10 + 1 ) ) by L206 , L197 , INTEGRA1:def 4;
L208: ( - ( abs ( ( R16 . R10 ) - ( R16 . R11 ) ) ) ) <= ( ( R16 . R10 ) - ( R16 . R11 ) ) by ABSVALUE:4;
L209: ( abs ( ( R16 . R10 ) - ( R16 . R11 ) ) ) >= ( - ( ( R16 . R10 ) - ( R16 . R11 ) ) ) by L208 , XREAL_1:26;
L210: ( lower_bound ( divset (R16 , ( R10 + 1 )) ) ) = ( R16 . ( ( R10 + 1 ) - 1 ) ) by L197 , L206 , INTEGRA1:def 4;
L211: ( vol ( divset (R16 , ( R10 + 1 )) ) ) = ( ( R16 . ( R10 + 1 ) ) - ( R16 . R10 ) ) by L210 , L207 , INTEGRA1:def 5;
L212: ( ( R16 . ( R10 + 1 ) ) - ( R16 . R10 ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . ( R10 + 1 ) ) by L211 , L197 , INTEGRA1:20;
L213: ( ( R16 . ( R10 + 1 ) ) - ( R16 . R10 ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L212 , L203 , XXREAL_2:def 7;
L214: ( - ( ( R16 . R10 ) - ( R16 . R11 ) ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L213 , L200 , XXREAL_0:2;
thus L215: thesis by L214 , L209 , XXREAL_0:2;
end;
suppose L216: R10 > R11;

L217: ( R11 + 1 ) <= R10 by L216 , NAT_1:13;
L218: R10 in ( Seg ( len R16 ) ) by L182 , FINSEQ_1:def 3;
L219: R10 <= ( len R16 ) by L218 , FINSEQ_1:1;
L220: ( R11 + 1 ) <= ( len R16 ) by L219 , L217 , XXREAL_0:2;
L221: 1 <= ( R11 + 1 ) by NAT_1:12;
L222: ( R11 + 1 ) in ( dom R16 ) by L221 , L220 , FINSEQ_3:25;
L223: ( R16 . ( R11 + 1 ) ) <= ( R16 . R10 ) by L222 , L182 , L217 , SEQ_4:137;
L224: ( ( R16 . R10 ) - ( R16 . R11 ) ) >= ( ( R16 . ( R11 + 1 ) ) - ( R16 . R11 ) ) by L223 , XREAL_1:9;
L225: ( R11 + 1 ) in ( Seg ( len R16 ) ) by L221 , L220 , FINSEQ_1:1;
L226: ( R11 + 1 ) in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L225 , INTEGRA1:def 6;
L227: ( R11 + 1 ) in ( dom ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L226 , FINSEQ_1:def 3;
L228: ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . ( R11 + 1 ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L227 , FUNCT_1:def 3;
L229: R11 in ( Seg ( len R16 ) ) by L186 , FINSEQ_1:def 3;
L230: 1 <= R11 by L229 , FINSEQ_1:1;
L231: 1 < ( R11 + 1 ) by L230 , NAT_1:13;
L232: ( upper_bound ( divset (R16 , ( R11 + 1 )) ) ) = ( R16 . ( R11 + 1 ) ) by L231 , L222 , INTEGRA1:def 4;
L233: ( lower_bound ( divset (R16 , ( R11 + 1 )) ) ) = ( R16 . ( ( R11 + 1 ) - 1 ) ) by L222 , L231 , INTEGRA1:def 4;
L234: ( vol ( divset (R16 , ( R11 + 1 )) ) ) = ( ( R16 . ( R11 + 1 ) ) - ( R16 . R11 ) ) by L233 , L232 , INTEGRA1:def 5;
L235: ( ( R16 . ( R11 + 1 ) ) - ( R16 . R11 ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . ( R11 + 1 ) ) by L234 , L222 , INTEGRA1:20;
L236: ( ( R16 . ( R11 + 1 ) ) - ( R16 . R11 ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L235 , L228 , XXREAL_2:def 7;
L237: ( ( R16 . R10 ) - ( R16 . R11 ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L236 , L224 , XXREAL_0:2;
L238: ( abs ( ( R16 . R10 ) - ( R16 . R11 ) ) ) >= ( ( R16 . R10 ) - ( R16 . R11 ) ) by ABSVALUE:4;
thus L239: thesis by L238 , L237 , XXREAL_0:2;
end;
end;
L241: ( abs ( ( R16 . R10 ) - ( R16 . R11 ) ) ) <= ( delta R17 )
proof
per cases  by L188 , L183 , L187 , XXREAL_0:1;
suppose L242: R10 < R11;

L243: R7 in ( Seg ( len R17 ) ) by L179 , FINSEQ_1:def 3;
L244: R7 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L243 , INTEGRA1:def 6;
L245: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L244 , FINSEQ_1:def 3;
L246: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L245 , FUNCT_1:def 3;
L247: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L246 , XXREAL_2:def 8;
L248: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) <= ( delta R17 ) by L247;
L249: ( R16 . R11 ) in ( divset (R17 , R7) ) by L184 , L187 , XBOOLE_0:def 4;
L250: ( R16 . R11 ) <= ( upper_bound ( divset (R17 , R7) ) ) by L249 , INTEGRA2:1;
L251: ( ( R16 . R11 ) - ( lower_bound ( divset (R17 , R7) ) ) ) <= ( ( upper_bound ( divset (R17 , R7) ) ) - ( lower_bound ( divset (R17 , R7) ) ) ) by L250 , XREAL_1:9;
L252: ( R16 . R10 ) in ( divset (R17 , R7) ) by L180 , L183 , XBOOLE_0:def 4;
L253: ( R16 . R10 ) >= ( lower_bound ( divset (R17 , R7) ) ) by L252 , INTEGRA2:1;
L254: ( ( R16 . R11 ) - ( R16 . R10 ) ) <= ( ( R16 . R11 ) - ( lower_bound ( divset (R17 , R7) ) ) ) by L253 , XREAL_1:10;
L255: ( ( R16 . R11 ) - ( R16 . R10 ) ) <= ( ( upper_bound ( divset (R17 , R7) ) ) - ( lower_bound ( divset (R17 , R7) ) ) ) by L254 , L251 , XXREAL_0:2;
L256: ( ( R16 . R11 ) - ( R16 . R10 ) ) <= ( vol ( divset (R17 , R7) ) ) by L255 , INTEGRA1:def 5;
L257: ( ( R16 . R11 ) - ( R16 . R10 ) ) <= ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) by L256 , L179 , INTEGRA1:20;
L258: ( R16 . R10 ) < ( R16 . R11 ) by L182 , L186 , L242 , SEQM_3:def 1;
L259: ( ( R16 . R10 ) - ( R16 . R11 ) ) < ( 0 ) by L258 , XREAL_1:49;
L260: ( abs ( ( R16 . R10 ) - ( R16 . R11 ) ) ) = ( - ( ( R16 . R10 ) - ( R16 . R11 ) ) ) by L259 , ABSVALUE:def 1
.= ( ( R16 . R11 ) - ( R16 . R10 ) );
thus L261: thesis by L260 , L257 , L248 , XXREAL_0:2;
end;
suppose L262: R10 > R11;

L263: R7 in ( Seg ( len R17 ) ) by L179 , FINSEQ_1:def 3;
L264: R7 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L263 , INTEGRA1:def 6;
L265: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L264 , FINSEQ_1:def 3;
L266: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L265 , FUNCT_1:def 3;
L267: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L266 , XXREAL_2:def 8;
L268: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) <= ( delta R17 ) by L267;
L269: ( R16 . R10 ) in ( divset (R17 , R7) ) by L180 , L183 , XBOOLE_0:def 4;
L270: ( R16 . R10 ) <= ( upper_bound ( divset (R17 , R7) ) ) by L269 , INTEGRA2:1;
L271: ( ( R16 . R10 ) - ( lower_bound ( divset (R17 , R7) ) ) ) <= ( ( upper_bound ( divset (R17 , R7) ) ) - ( lower_bound ( divset (R17 , R7) ) ) ) by L270 , XREAL_1:9;
L272: ( R16 . R11 ) in ( divset (R17 , R7) ) by L184 , L187 , XBOOLE_0:def 4;
L273: ( R16 . R11 ) >= ( lower_bound ( divset (R17 , R7) ) ) by L272 , INTEGRA2:1;
L274: ( ( R16 . R10 ) - ( R16 . R11 ) ) <= ( ( R16 . R10 ) - ( lower_bound ( divset (R17 , R7) ) ) ) by L273 , XREAL_1:10;
L275: ( ( R16 . R10 ) - ( R16 . R11 ) ) <= ( ( upper_bound ( divset (R17 , R7) ) ) - ( lower_bound ( divset (R17 , R7) ) ) ) by L274 , L271 , XXREAL_0:2;
L276: ( ( R16 . R10 ) - ( R16 . R11 ) ) <= ( vol ( divset (R17 , R7) ) ) by L275 , INTEGRA1:def 5;
L277: ( ( R16 . R10 ) - ( R16 . R11 ) ) <= ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) by L276 , L179 , INTEGRA1:20;
L278: ( R16 . R10 ) > ( R16 . R11 ) by L182 , L186 , L262 , SEQM_3:def 1;
L279: ( ( R16 . R10 ) - ( R16 . R11 ) ) > ( 0 ) by L278 , XREAL_1:50;
L280: ( abs ( ( R16 . R10 ) - ( R16 . R11 ) ) ) = ( ( R16 . R10 ) - ( R16 . R11 ) ) by L279 , ABSVALUE:def 1;
thus L281: thesis by L280 , L277 , L268 , XXREAL_0:2;
end;
end;
thus L283: contradiction by L241 , L178 , L189 , XXREAL_0:2;
end;
theorem
L284: (for R13 being (FinSequence of ( REAL )) holds (for R14 being (FinSequence of ( REAL )) holds ((( rng R13 ) = ( rng R14 ) & R13 is  increasing & R14 is  increasing) implies R13 = R14)))
proof
let R13 being (FinSequence of ( REAL ));
let R14 being (FinSequence of ( REAL ));
assume L285: ( rng R13 ) = ( rng R14 );
assume that
L286: R13 is  increasing
and
L287: R14 is  increasing;
L288: R14 is  one-to-one by L287;
L289: R13 is  one-to-one by L286;
L290: ( len R13 ) = ( len R14 ) by L289 , L285 , L288 , FINSEQ_1:48;
thus L291: thesis by L290 , L285 , L286 , L287 , SEQ_4:141;
end;
theorem
L292: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (for R17 being (Division of R15) holds ((R16 <= R17 & R7 in ( dom R16 ) & R8 in ( dom R16 ) & R7 <= R8) implies (( indx (R17 , R16 , R7) ) <= ( indx (R17 , R16 , R8) ) & ( indx (R17 , R16 , R7) ) in ( dom R17 ))))))))
proof
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
let R17 being (Division of R15);
assume that
L293: R16 <= R17
and
L294: R7 in ( dom R16 )
and
L295: R8 in ( dom R16 )
and
L296: R7 <= R8;
L297: ( R16 . R7 ) = ( R17 . ( indx (R17 , R16 , R7) ) ) by L293 , L294 , INTEGRA1:def 19;
L298: ( indx (R17 , R16 , R8) ) in ( dom R17 ) by L293 , L295 , INTEGRA1:def 19;
L299: ( R16 . R8 ) = ( R17 . ( indx (R17 , R16 , R8) ) ) by L293 , L295 , INTEGRA1:def 19;
L300: ( indx (R17 , R16 , R7) ) in ( dom R17 ) by L293 , L294 , INTEGRA1:def 19;
L301: ( R16 . R7 ) <= ( R16 . R8 ) by L294 , L295 , L296 , SEQ_4:137;
thus L302: thesis by L301 , L297 , L300 , L299 , L298 , SEQM_3:def 1;
end;
theorem
L303: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (for R17 being (Division of R15) holds ((R16 <= R17 & R7 in ( dom R16 ) & R8 in ( dom R16 ) & R7 < R8) implies ( indx (R17 , R16 , R7) ) < ( indx (R17 , R16 , R8) )))))))
proof
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
let R17 being (Division of R15);
assume that
L304: R16 <= R17
and
L305: R7 in ( dom R16 )
and
L306: R8 in ( dom R16 )
and
L307: R7 < R8;
L308: ( R16 . R7 ) = ( R17 . ( indx (R17 , R16 , R7) ) ) by L304 , L305 , INTEGRA1:def 19;
L309: ( indx (R17 , R16 , R8) ) in ( dom R17 ) by L304 , L306 , INTEGRA1:def 19;
L310: ( R16 . R8 ) = ( R17 . ( indx (R17 , R16 , R8) ) ) by L304 , L306 , INTEGRA1:def 19;
L311: ( indx (R17 , R16 , R7) ) in ( dom R17 ) by L304 , L305 , INTEGRA1:def 19;
L312: ( R16 . R7 ) < ( R16 . R8 ) by L305 , L306 , L307 , SEQM_3:def 1;
thus L313: thesis by L312 , L308 , L311 , L310 , L309 , SEQ_4:137;
end;
theorem
L314: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds ( delta R16 ) >= ( 0 )))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
consider R6 being Real such that L315: R6 in ( rng R16 ) by SUBSET_1:4;
consider R10 being (Element of ( NAT )) such that L316: R10 in ( dom R16 ) and L317: R6 = ( R16 . R10 ) by L315 , PARTFUN1:3;
L318: R10 in ( Seg ( len R16 ) ) by L316 , FINSEQ_1:def 3;
L319: R10 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L318 , INTEGRA1:def 6;
L320: R10 in ( dom ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L319 , FINSEQ_1:def 3;
L321: ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . R10 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L320 , FUNCT_1:def 3;
L322: ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . R10 ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L321 , XXREAL_2:def 8;
L323: ( vol ( divset (R16 , R10) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . R10 ) by L316 , INTEGRA1:20;
L324: ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . R10 ) >= ( 0 ) by L323 , INTEGRA1:9;
thus L325: thesis by L324 , L322;
end;
L326: (for B7 being non  empty  closed_interval (Subset of ( REAL )) holds (for B8 being (Function of B7 , ( REAL )) holds (( B8 | B7 ) is  bounded implies ( upper_bound ( rng B8 ) ) >= ( lower_bound ( rng B8 ) ))))
proof
let C10 being non  empty  closed_interval (Subset of ( REAL ));
let C11 being (Function of C10 , ( REAL ));
assume L327: ( C11 | C10 ) is  bounded;
L328: ( rng C11 ) is  bounded_below by L327 , INTEGRA1:11;
L329: ( rng C11 ) is  bounded_above by L327 , INTEGRA1:13;
thus L330: thesis by L329 , L328 , SEQ_4:11;
end;
L331: (for B9 , B10 being non  empty  closed_interval (Subset of ( REAL )) holds (for B11 being (Function of B9 , ( REAL )) holds ((( B11 | B9 ) is  bounded & B10 c= B9) implies (( lower_bound ( rng ( B11 | B10 ) ) ) >= ( lower_bound ( rng B11 ) ) & ( lower_bound ( rng B11 ) ) <= ( upper_bound ( rng ( B11 | B10 ) ) ) & ( upper_bound ( rng ( B11 | B10 ) ) ) <= ( upper_bound ( rng B11 ) ) & ( lower_bound ( rng ( B11 | B10 ) ) ) <= ( upper_bound ( rng B11 ) )))))
proof
let C12 , C13 being non  empty  closed_interval (Subset of ( REAL ));
let C14 being (Function of C12 , ( REAL ));
assume that
L332: ( C14 | C12 ) is  bounded
and
L333: C13 c= C12;
L334: C13 c= ( dom C14 ) by L333 , FUNCT_2:def 1;
L335: ( dom ( C14 | C13 ) ) = C13 by L334 , RELAT_1:62;
L336: ( rng ( C14 | C13 ) ) <> ( {} ) by L335 , RELAT_1:42;
consider R5 being Real such that L337: R5 in C13 by SUBSET_1:4;
L338: ( ( C14 | C13 ) . R5 ) in ( rng ( C14 | C13 ) ) by L337 , L335 , FUNCT_1:def 3;
L339: ( rng C14 ) is  bounded_below by L332 , INTEGRA1:11;
thus L340: ( lower_bound ( rng ( C14 | C13 ) ) ) >= ( lower_bound ( rng C14 ) ) by L339 , L336 , RELAT_1:70 , SEQ_4:47;
L341: ( rng ( C14 | C13 ) ) is  bounded_below by L339 , RELAT_1:70 , XXREAL_2:44;
L342: ( lower_bound ( rng ( C14 | C13 ) ) ) <= ( ( C14 | C13 ) . R5 ) by L341 , L338 , SEQ_4:def 2;
L343: ( rng C14 ) is  bounded_above by L332 , INTEGRA1:13;
L344: ( rng ( C14 | C13 ) ) is  bounded_above by L343 , RELAT_1:70 , XXREAL_2:43;
L345: ( upper_bound ( rng ( C14 | C13 ) ) ) >= ( ( C14 | C13 ) . R5 ) by L344 , L338 , SEQ_4:def 1;
L346: ( lower_bound ( rng ( C14 | C13 ) ) ) <= ( upper_bound ( rng ( C14 | C13 ) ) ) by L345 , L342 , XXREAL_0:2;
thus L347: ( upper_bound ( rng ( C14 | C13 ) ) ) >= ( lower_bound ( rng C14 ) ) by L346 , L340 , XXREAL_0:2;
thus L348: ( upper_bound ( rng ( C14 | C13 ) ) ) <= ( upper_bound ( rng C14 ) ) by L343 , L336 , RELAT_1:70 , SEQ_4:48;
thus L349: thesis by L348 , L346 , XXREAL_0:2;
end;
L350: (for R8 being (Element of ( NAT )) holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (R8 in ( dom R17 ) implies ( vol ( divset (R17 , R8) ) ) <= ( delta R17 )))))
proof
let R8 being (Element of ( NAT ));
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
assume L351: R8 in ( dom R17 );
L352: R8 in ( Seg ( len R17 ) ) by L351 , FINSEQ_1:def 3;
L353: R8 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L352 , INTEGRA1:def 6;
L354: R8 in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L353 , FINSEQ_1:def 3;
L355: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R8 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L354 , FUNCT_1:def 3;
L356: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R8 ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L355 , XXREAL_2:def 8;
L357: ( vol ( divset (R17 , R8) ) ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L356 , L351 , INTEGRA1:20;
thus L358: thesis by L357;
end;
L359: (for R5 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds (for B12 being (Element of ( NAT )) holds ((B12 = ( ( len R17 ) - 1 ) & R5 in ( divset (R17 , ( len R17 )) ) & ( len R17 ) >= 2 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ { R5 } )) implies ( rng ( R18 | ( indx (R18 , R17 , B12) ) ) ) = ( rng ( R17 | B12 ) )))))))
proof
let R5 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
let C15 being (Element of ( NAT ));
assume that
L360: C15 = ( ( len R17 ) - 1 )
and
L361: R5 in ( divset (R17 , ( len R17 )) )
and
L362: ( len R17 ) >= 2;
L363: ( len R17 ) in ( dom R17 ) by FINSEQ_5:6;
assume that
L364: R17 <= R18
and
L365: ( rng R18 ) = ( ( rng R17 ) \/ { R5 } );
L366: ( len R17 ) <> 1 by L362;
L367: ( ( len R17 ) - 1 ) in ( dom R17 ) by L366 , L363 , INTEGRA1:7;
L368: ( indx (R18 , R17 , C15) ) in ( dom R18 ) by L367 , L360 , L364 , INTEGRA1:def 19;
L369: ( indx (R18 , R17 , C15) ) <= ( len R18 ) by L368 , FINSEQ_3:25;
L370: C15 in ( dom R17 ) by L360 , L363 , L366 , INTEGRA1:7;
L371: 1 <= C15 by L370 , FINSEQ_3:25;
L372: C15 <= ( len R17 ) by L370 , FINSEQ_3:25;
L373: ( lower_bound ( divset (R17 , ( len R17 )) ) ) <= R5 by L361 , INTEGRA2:1;
L374: ( R17 . C15 ) <= R5 by L373 , L360 , L363 , L366 , INTEGRA1:def 4;
L375: (for R12 being set holds (R12 in ( rng ( R18 | ( indx (R18 , R17 , C15) ) ) ) implies R12 in ( rng ( R17 | C15 ) )))
proof
let R12 being set;
assume L376: R12 in ( rng ( R18 | ( indx (R18 , R17 , C15) ) ) );
consider R9 being (Element of ( NAT )) such that L377: R9 in ( dom ( R18 | ( indx (R18 , R17 , C15) ) ) ) and L378: R12 = ( ( R18 | ( indx (R18 , R17 , C15) ) ) . R9 ) by L376 , PARTFUN1:3;
L379: R9 in ( Seg ( len ( R18 | ( indx (R18 , R17 , C15) ) ) ) ) by L377 , FINSEQ_1:def 3;
L380: R9 in ( Seg ( indx (R18 , R17 , C15) ) ) by L379 , L369 , FINSEQ_1:59;
L381: R9 in ( dom R18 ) by L380 , L368 , RFINSEQ:6;
L382: ( len ( R17 | C15 ) ) = C15 by L372 , FINSEQ_1:59;
L383: R9 <= ( indx (R18 , R17 , C15) ) by L380 , FINSEQ_1:1;
L384: ( R18 . R9 ) <= ( R18 . ( indx (R18 , R17 , C15) ) ) by L383 , L368 , L381 , SEQ_4:137;
L385: ( R18 . R9 ) <= ( R17 . C15 ) by L384 , L360 , L364 , L367 , INTEGRA1:def 19;
L386: (( R18 . R9 ) in ( rng R17 ) implies ( R18 . R9 ) in ( rng ( R17 | C15 ) ))
proof
assume L387: ( R18 . R9 ) in ( rng R17 );
consider R11 being (Element of ( NAT )) such that L388: R11 in ( dom R17 ) and L389: ( R18 . R9 ) = ( R17 . R11 ) by L387 , PARTFUN1:3;
L390: R11 in ( Seg ( len R17 ) ) by L388 , FINSEQ_1:def 3;
L391: 1 <= R11 by L390 , FINSEQ_1:1;
L392: R11 <= C15 by L370 , L385 , L388 , L389 , SEQM_3:def 1;
L393: R11 in ( Seg C15 ) by L392 , L391 , FINSEQ_1:1;
L394: ( R18 . R9 ) = ( ( R17 | C15 ) . R11 ) by L393 , L370 , L389 , RFINSEQ:6;
L395: R11 in ( dom ( R17 | C15 ) ) by L382 , L391 , L392 , FINSEQ_3:25;
thus L396: thesis by L395 , L394 , FUNCT_1:def 3;
end;
L397: (( R18 . R9 ) in { R5 } implies ( R18 . R9 ) = ( R17 . C15 ))
proof
assume L398: ( R18 . R9 ) in { R5 };
L399: ( R17 . C15 ) <= ( R18 . R9 ) by L398 , L374 , TARSKI:def 1;
thus L400: thesis by L399 , L385 , XXREAL_0:1;
end;
L401: (( R18 . R9 ) in { R5 } implies ( R18 . R9 ) in ( rng ( R17 | C15 ) ))
proof
L402: C15 in ( dom ( R17 | C15 ) ) by L371 , L382 , FINSEQ_3:25;
L403: ( ( R17 | C15 ) . C15 ) in ( rng ( R17 | C15 ) ) by L402 , FUNCT_1:def 3;
assume L404: ( R18 . R9 ) in { R5 };
L405: C15 in ( Seg C15 ) by L371 , FINSEQ_1:1;
thus L406: thesis by L405 , L370 , L397 , L404 , L403 , RFINSEQ:6;
end;
L407: ( R18 . R9 ) in ( rng R18 ) by L381 , FUNCT_1:def 3;
thus L408: thesis by L407 , L365 , L368 , L378 , L380 , L401 , L386 , RFINSEQ:6 , XBOOLE_0:def 3;
end;
L409: ( rng ( R18 | ( indx (R18 , R17 , C15) ) ) ) c= ( rng ( R17 | C15 ) ) by L375 , TARSKI:def 3;
L410: (for R12 being set holds (R12 in ( rng ( R17 | C15 ) ) implies R12 in ( rng ( R18 | ( indx (R18 , R17 , C15) ) ) )))
proof
let R12 being set;
assume L411: R12 in ( rng ( R17 | C15 ) );
consider R9 being (Element of ( NAT )) such that L412: R9 in ( dom ( R17 | C15 ) ) and L413: R12 = ( ( R17 | C15 ) . R9 ) by L411 , PARTFUN1:3;
L414: R9 in ( Seg ( len ( R17 | C15 ) ) ) by L412 , FINSEQ_1:def 3;
L415: R9 in ( Seg C15 ) by L414 , L372 , FINSEQ_1:59;
L416: R9 in ( dom R17 ) by L415 , L370 , RFINSEQ:6;
L417: R9 <= C15 by L415 , FINSEQ_1:1;
L418: ( R17 . R9 ) <= ( R17 . C15 ) by L417 , L360 , L367 , L416 , SEQ_4:137;
L419: ( R18 . ( indx (R18 , R17 , R9) ) ) <= ( R17 . C15 ) by L418 , L364 , L416 , INTEGRA1:def 19;
L420: ( R18 . ( indx (R18 , R17 , R9) ) ) <= ( R18 . ( indx (R18 , R17 , C15) ) ) by L419 , L360 , L364 , L367 , INTEGRA1:def 19;
L421: ( ( R17 | C15 ) . R9 ) = ( R17 . R9 ) by L370 , L415 , RFINSEQ:6;
L422: ( R17 . R9 ) in ( rng R17 ) by L416 , FUNCT_1:def 3;
L423: R12 in ( rng R18 ) by L422 , L365 , L413 , L421 , XBOOLE_0:def 3;
consider R10 being (Element of ( NAT )) such that L424: R10 in ( dom R18 ) and L425: R12 = ( R18 . R10 ) by L423 , PARTFUN1:3;
L426: ( R18 . ( indx (R18 , R17 , R9) ) ) = ( R18 . R10 ) by L364 , L413 , L421 , L416 , L425 , INTEGRA1:def 19;
L427: R10 <= ( indx (R18 , R17 , C15) ) by L426 , L368 , L424 , L420 , SEQM_3:def 1;
L428: 1 <= R10 by L424 , FINSEQ_3:25;
L429: R10 in ( Seg ( indx (R18 , R17 , C15) ) ) by L428 , L427 , FINSEQ_1:1;
L430: R10 in ( Seg ( len ( R18 | ( indx (R18 , R17 , C15) ) ) ) ) by L429 , L369 , FINSEQ_1:59;
L431: R10 in ( dom ( R18 | ( indx (R18 , R17 , C15) ) ) ) by L430 , FINSEQ_1:def 3;
L432: ( R18 . R10 ) = ( ( R18 | ( indx (R18 , R17 , C15) ) ) . R10 ) by L368 , L429 , RFINSEQ:6;
thus L433: thesis by L432 , L425 , L431 , FUNCT_1:def 3;
end;
L434: ( rng ( R17 | C15 ) ) c= ( rng ( R18 | ( indx (R18 , R17 , C15) ) ) ) by L410 , TARSKI:def 3;
thus L435: thesis by L434 , L409 , XBOOLE_0:def 10;
end;
theorem
L436: (for R5 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds (for R20 being (Function of R15 , ( REAL )) holds ((R5 in ( divset (R17 , ( len R17 )) ) & ( len R17 ) >= 2 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ { R5 } ) & ( R20 | R15 ) is  bounded) implies ( ( Sum ( lower_volume (R20 , R18) ) ) - ( Sum ( lower_volume (R20 , R17) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( delta R17 ) )))))))
proof
let R5 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
let R20 being (Function of R15 , ( REAL ));
assume that
L437: R5 in ( divset (R17 , ( len R17 )) )
and
L438: ( len R17 ) >= 2;
set D4 = ( len R17 );
assume that
L439: R17 <= R18
and
L440: ( rng R18 ) = ( ( rng R17 ) \/ { R5 } );
L441: ( len R17 ) in ( dom R17 ) by FINSEQ_5:6;
L442: ( indx (R18 , R17 , D4) ) in ( dom R18 ) by L441 , L439 , INTEGRA1:def 19;
L443: ( len R17 ) <> 1 by L438;
reconsider D5 = ( ( len R17 ) - 1 ) as (Element of ( NAT )) by L443 , L441 , INTEGRA1:7;
L444: D5 in ( dom R17 ) by L441 , L443 , INTEGRA1:7;
L445: D5 <= ( len R17 ) by L444 , FINSEQ_3:25;
L446: 1 <= D5 by L444 , FINSEQ_3:25;
L447: ( mid (R17 , 1 , D5) ) is  increasing by L446 , L441 , L443 , INTEGRA1:7 , INTEGRA1:35;
L448: ( R17 | D5 ) is  increasing by L447 , L446 , FINSEQ_6:116;
L449: ( ( len R17 ) - 1 ) in ( dom R17 ) by L441 , L443 , INTEGRA1:7;
L450: ( indx (R18 , R17 , D5) ) in ( dom R18 ) by L449 , L439 , INTEGRA1:def 19;
L451: 1 <= ( indx (R18 , R17 , D5) ) by L450 , FINSEQ_3:25;
L452: ( mid (R18 , 1 , ( indx (R18 , R17 , D5) )) ) is  increasing by L451 , L450 , INTEGRA1:35;
L453: ( R18 | ( indx (R18 , R17 , D5) ) ) is  increasing by L452 , L451 , FINSEQ_6:116;
L454: ( indx (R18 , R17 , D5) ) <= ( len R18 ) by L450 , FINSEQ_3:25;
L455: ( len ( R18 | ( indx (R18 , R17 , D5) ) ) ) = ( indx (R18 , R17 , D5) ) by L454 , FINSEQ_1:59;
L456: ( rng ( R18 | ( indx (R18 , R17 , D5) ) ) ) = ( rng ( R17 | D5 ) ) by L437 , L438 , L439 , L440 , L359;
L457: ( R18 | ( indx (R18 , R17 , D5) ) ) = ( R17 | D5 ) by L456 , L453 , L448 , L284;
L458: (for R9 being (Element of ( NAT )) holds ((1 <= R9 & R9 <= D5) implies R9 = ( indx (R18 , R17 , R9) )))
proof
let R9 being (Element of ( NAT ));
assume that
L459: 1 <= R9
and
L460: R9 <= D5;
assume L461: R9 <> ( indx (R18 , R17 , R9) );
per cases  by L461 , XXREAL_0:1;
suppose L462: R9 > ( indx (R18 , R17 , R9) );

L463: R9 <= ( len R17 ) by L445 , L460 , XXREAL_0:2;
L464: R9 in ( dom R17 ) by L463 , L459 , FINSEQ_3:25;
L465: ( indx (R18 , R17 , R9) ) in ( dom R18 ) by L464 , L439 , INTEGRA1:def 19;
L466: ( indx (R18 , R17 , R9) ) in ( Seg ( len R18 ) ) by L465 , FINSEQ_1:def 3;
L467: 1 <= ( indx (R18 , R17 , R9) ) by L466 , FINSEQ_1:1;
L468: ( indx (R18 , R17 , R9) ) < D5 by L460 , L462 , XXREAL_0:2;
L469: ( indx (R18 , R17 , R9) ) in ( Seg D5 ) by L468 , L467 , FINSEQ_1:1;
L470: ( indx (R18 , R17 , R9) ) <= ( indx (R18 , R17 , D5) ) by L439 , L444 , L460 , L464 , L292;
L471: ( indx (R18 , R17 , R9) ) in ( Seg ( indx (R18 , R17 , D5) ) ) by L470 , L467 , FINSEQ_1:1;
L472: ( ( R18 | ( indx (R18 , R17 , D5) ) ) . ( indx (R18 , R17 , R9) ) ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L471 , L450 , RFINSEQ:6;
L473: ( indx (R18 , R17 , R9) ) <= ( len R17 ) by L445 , L468 , XXREAL_0:2;
L474: ( indx (R18 , R17 , R9) ) in ( dom R17 ) by L473 , L467 , FINSEQ_3:25;
L475: ( R17 . R9 ) > ( R17 . ( indx (R18 , R17 , R9) ) ) by L474 , L462 , L464 , SEQM_3:def 1;
L476: ( R17 . R9 ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L439 , L464 , INTEGRA1:def 19;
thus L477: contradiction by L476 , L444 , L457 , L472 , L475 , L469 , RFINSEQ:6;
end;
suppose L478: R9 < ( indx (R18 , R17 , R9) );

L479: R9 <= ( len R17 ) by L445 , L460 , XXREAL_0:2;
L480: R9 in ( dom R17 ) by L479 , L459 , FINSEQ_3:25;
L481: ( indx (R18 , R17 , R9) ) <= ( indx (R18 , R17 , D5) ) by L480 , L439 , L444 , L460 , L292;
L482: R9 <= ( indx (R18 , R17 , D5) ) by L481 , L478 , XXREAL_0:2;
L483: R9 <= ( len R18 ) by L482 , L454 , XXREAL_0:2;
L484: R9 in ( dom R18 ) by L483 , L459 , FINSEQ_3:25;
L485: R9 in ( Seg D5 ) by L459 , L460 , FINSEQ_1:1;
L486: ( R17 . R9 ) = ( ( R17 | D5 ) . R9 ) by L485 , L449 , RFINSEQ:6;
L487: ( indx (R18 , R17 , R9) ) in ( dom R18 ) by L439 , L480 , INTEGRA1:def 19;
L488: ( R18 . R9 ) < ( R18 . ( indx (R18 , R17 , R9) ) ) by L487 , L478 , L484 , SEQM_3:def 1;
L489: R9 in ( Seg ( indx (R18 , R17 , D5) ) ) by L459 , L482 , FINSEQ_1:1;
L490: ( R17 . R9 ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L439 , L480 , INTEGRA1:def 19;
thus L491: contradiction by L490 , L450 , L457 , L486 , L488 , L489 , RFINSEQ:6;
end;
end;
L493: (for B13 being Nat holds ((1 <= B13 & B13 <= ( len ( ( lower_volume (R20 , R17) ) | D5 ) )) implies ( ( ( lower_volume (R20 , R17) ) | D5 ) . B13 ) = ( ( ( lower_volume (R20 , R18) ) | ( indx (R18 , R17 , D5) ) ) . B13 )))
proof
L494: ( indx (R18 , R17 , D5) ) in ( Seg ( len R18 ) ) by L450 , FINSEQ_1:def 3;
L495: ( indx (R18 , R17 , D5) ) in ( Seg ( len ( lower_volume (R20 , R18) ) ) ) by L494 , INTEGRA1:def 7;
L496: ( indx (R18 , R17 , D5) ) in ( dom ( lower_volume (R20 , R18) ) ) by L495 , FINSEQ_1:def 3;
let C16 being Nat;
assume that
L497: 1 <= C16
and
L498: C16 <= ( len ( ( lower_volume (R20 , R17) ) | D5 ) );
reconsider D6 = C16 as (Element of ( NAT )) by ORDINAL1:def 12;
L499: ( len ( lower_volume (R20 , R17) ) ) = ( len R17 ) by INTEGRA1:def 7;
L500: D6 <= D5 by L499 , L445 , L498 , FINSEQ_1:59;
L501: D6 <= ( len R17 ) by L500 , L445 , XXREAL_0:2;
L502: D6 in ( Seg ( len R17 ) ) by L501 , L497 , FINSEQ_1:1;
L503: D6 in ( dom R17 ) by L502 , FINSEQ_1:def 3;
L504: ( indx (R18 , R17 , D6) ) in ( dom R18 ) by L503 , L439 , INTEGRA1:def 19;
L505: D6 in ( Seg D5 ) by L497 , L500 , FINSEQ_1:1;
L506: ( indx (R18 , R17 , D6) ) in ( Seg D5 ) by L505 , L458 , L497 , L500;
L507: ( indx (R18 , R17 , D6) ) in ( Seg ( indx (R18 , R17 , D5) ) ) by L506 , L446 , L458;
L508: ( indx (R18 , R17 , D6) ) <= ( indx (R18 , R17 , D5) ) by L507 , FINSEQ_1:1;
L509: ( indx (R18 , R17 , D6) ) <= ( len R18 ) by L508 , L454 , XXREAL_0:2;
L510: ( R17 . D6 ) = ( R18 . ( indx (R18 , R17 , D6) ) ) by L439 , L503 , INTEGRA1:def 19;
L511: (( lower_bound ( divset (R17 , D6) ) ) = ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ) & ( upper_bound ( divset (R17 , D6) ) ) = ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ))
proof
per cases ;
suppose L512: D6 = 1;

L513: ( upper_bound ( divset (R17 , D6) ) ) = ( R17 . D6 ) by L512 , L503 , INTEGRA1:def 4;
L514: ( lower_bound ( divset (R17 , D6) ) ) = ( lower_bound R15 ) by L503 , L512 , INTEGRA1:def 4;
L515: ( indx (R18 , R17 , D6) ) = 1 by L446 , L458 , L512;
thus L516: thesis by L515 , L504 , L510 , L514 , L513 , INTEGRA1:def 4;
end;
suppose L517: D6 <> 1;

reconsider D7 = ( D6 - 1 ) as (Element of ( NAT )) by L517 , L503 , INTEGRA1:7;
L518: ( D6 - 1 ) in ( dom R17 ) by L503 , L517 , INTEGRA1:7;
L519: 1 <= D7 by L518 , FINSEQ_3:25;
L520: D6 <= ( D6 + 1 ) by NAT_1:11;
L521: D7 <= D6 by L520 , XREAL_1:20;
L522: D7 <= D5 by L521 , L500 , XXREAL_0:2;
L523: ( indx (R18 , R17 , D6) ) <> 1 by L458 , L497 , L500 , L517;
L524: ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ) = ( R18 . ( ( indx (R18 , R17 , D6) ) - 1 ) ) by L523 , L504 , INTEGRA1:def 4;
L525: ( upper_bound ( divset (R17 , D6) ) ) = ( R17 . D6 ) by L503 , L517 , INTEGRA1:def 4;
L526: ( lower_bound ( divset (R17 , D6) ) ) = ( R17 . ( D6 - 1 ) ) by L503 , L517 , INTEGRA1:def 4;
L527: ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ) = ( R18 . ( indx (R18 , R17 , D6) ) ) by L504 , L523 , INTEGRA1:def 4;
L528: ( R18 . ( ( indx (R18 , R17 , D6) ) - 1 ) ) = ( R18 . ( D6 - 1 ) ) by L458 , L497 , L500
.= ( R18 . ( indx (R18 , R17 , D7) ) ) by L458 , L522 , L519;
thus L529: thesis by L528 , L439 , L503 , L526 , L525 , L518 , L524 , L527 , INTEGRA1:def 19;
end;
end;
L531: ( divset (R17 , D6) ) = [. ( lower_bound ( divset (R17 , D6) ) ) , ( upper_bound ( divset (R17 , D6) ) ) .] by INTEGRA1:4;
L532: ( divset (R17 , D6) ) = ( divset (R18 , ( indx (R18 , R17 , D6) )) ) by L531 , L511 , INTEGRA1:4;
L533: D5 in ( Seg ( len ( lower_volume (R20 , R17) ) ) ) by L444 , L499 , FINSEQ_1:def 3;
L534: D5 in ( dom ( lower_volume (R20 , R17) ) ) by L533 , FINSEQ_1:def 3;
L535: ( ( ( lower_volume (R20 , R17) ) | D5 ) . D6 ) = ( ( lower_volume (R20 , R17) ) . D6 ) by L534 , L505 , RFINSEQ:6
.= ( ( lower_bound ( rng ( R20 | ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ) ) ) * ( vol ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ) ) by L503 , L532 , INTEGRA1:def 7;
L536: 1 <= ( indx (R18 , R17 , D6) ) by L458 , L497 , L500;
L537: ( indx (R18 , R17 , D6) ) in ( dom R18 ) by L536 , L509 , FINSEQ_3:25;
L538: ( ( ( lower_volume (R20 , R18) ) | ( indx (R18 , R17 , D5) ) ) . D6 ) = ( ( ( lower_volume (R20 , R18) ) | ( indx (R18 , R17 , D5) ) ) . ( indx (R18 , R17 , D6) ) ) by L458 , L497 , L500
.= ( ( lower_volume (R20 , R18) ) . ( indx (R18 , R17 , D6) ) ) by L507 , L496 , RFINSEQ:6
.= ( ( lower_bound ( rng ( R20 | ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ) ) ) * ( vol ( divset (R18 , ( indx (R18 , R17 , D6) )) ) ) ) by L537 , INTEGRA1:def 7;
thus L539: thesis by L538 , L535;
end;
L540: ( len R18 ) in ( dom R18 ) by FINSEQ_5:6;
deffunc H2((Division of R15)) = ( lower_volume (R20 , $1) );
deffunc H3((Division of R15) , Nat) = ( ( PartSums ( lower_volume (R20 , $1) ) ) . $2 );
L541: D4 >= ( len ( lower_volume (R20 , R17) ) ) by INTEGRA1:def 7;
L542: D4 <= ( len H2(R17) ) by INTEGRA1:def 7;
L543: ( len R17 ) in ( Seg ( len R17 ) ) by FINSEQ_1:3;
L544: 1 <= D4 by L543 , FINSEQ_1:1;
L545: D4 in ( dom H2(R17) ) by L544 , L542 , FINSEQ_3:25;
assume L546: ( R20 | R15 ) is  bounded;
L547: D4 < ( D4 + 1 ) by NAT_1:13;
L548: D5 < D4 by L547 , XREAL_1:19;
L549: D5 < ( len H2(R17) ) by L548 , INTEGRA1:def 7;
L550: D5 in ( dom H2(R17) ) by L549 , L446 , FINSEQ_3:25;
L551: H3(R17 , D5) = ( Sum ( H2(R17) | D5 ) ) by L550 , INTEGRA1:def 20;
L552: ( H3(R17 , D5) + ( Sum ( mid (H2(R17) , D4 , D4) ) ) ) = ( Sum ( ( H2(R17) | D5 ) ^ ( mid (H2(R17) , D4 , D4) ) ) ) by L551 , RVSUM_1:75
.= ( Sum ( ( mid (H2(R17) , 1 , D5) ) ^ ( mid (H2(R17) , ( D5 + 1 ) , D4) ) ) ) by L446 , FINSEQ_6:116
.= ( Sum ( mid (H2(R17) , 1 , D4) ) ) by L446 , L542 , L548 , INTEGRA2:4
.= ( Sum ( H2(R17) | D4 ) ) by L544 , FINSEQ_6:116;
L553: ( H3(R17 , D5) + ( Sum ( mid (( lower_volume (R20 , R17) ) , D4 , D4) ) ) ) = H3(R17 , D4) by L552 , L545 , INTEGRA1:def 20;
L554: ( indx (R18 , R17 , D4) ) in ( dom R18 ) by L439 , L441 , INTEGRA1:def 19;
L555: ( indx (R18 , R17 , D4) ) in ( Seg ( len R18 ) ) by L554 , FINSEQ_1:def 3;
L556: 1 <= ( indx (R18 , R17 , D4) ) by L555 , FINSEQ_1:1;
L557: ( len R17 ) < ( ( len R17 ) + 1 ) by NAT_1:13;
L558: D5 < ( len R17 ) by L557 , XREAL_1:19;
L559: ( indx (R18 , R17 , D5) ) < ( indx (R18 , R17 , ( len R17 )) ) by L558 , L439 , L441 , L444 , L303;
L560: ( ( indx (R18 , R17 , D5) ) + 1 ) <= ( indx (R18 , R17 , ( len R17 )) ) by L559 , NAT_1:13;
L561: D5 in ( dom R17 ) by L441 , L443 , INTEGRA1:7;
L562: ( ( Sum ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , ( len R17 )) )) ) ) - ( Sum ( mid (( lower_volume (R20 , R17) ) , ( len R17 ) , ( len R17 )) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( delta R17 ) )
proof
L563: ( ( indx (R18 , R17 , D4) ) - ( indx (R18 , R17 , D5) ) ) <= 2
proof
set D8 = ( ( indx (R18 , R17 , D5) ) + 1 );
set D9 = ( D8 + 1 );
assume L564: ( ( indx (R18 , R17 , D4) ) - ( indx (R18 , R17 , D5) ) ) > 2;
L565: ( ( indx (R18 , R17 , D5) ) + ( 1 + 1 ) ) < ( indx (R18 , R17 , D4) ) by L564 , XREAL_1:20;
L566: D8 < D9 by NAT_1:13;
L567: ( indx (R18 , R17 , D5) ) <= D9 by L566 , NAT_1:13;
L568: 1 <= D9 by L567 , L451 , XXREAL_0:2;
L569: ( indx (R18 , R17 , D4) ) in ( dom R18 ) by L439 , L441 , INTEGRA1:def 19;
L570: ( indx (R18 , R17 , D4) ) <= ( len R18 ) by L569 , FINSEQ_3:25;
L571: D9 <= ( len R18 ) by L570 , L565 , XXREAL_0:2;
L572: D9 in ( dom R18 ) by L571 , L568 , FINSEQ_3:25;
L573: ( R18 . D9 ) < ( R18 . ( indx (R18 , R17 , D4) ) ) by L572 , L565 , L569 , SEQM_3:def 1;
L574: 1 <= D8 by L451 , NAT_1:13;
L575: ( R17 . D5 ) = ( R18 . ( indx (R18 , R17 , D5) ) ) by L439 , L444 , INTEGRA1:def 19;
L576: D8 <= ( indx (R18 , R17 , D4) ) by L565 , L566 , XXREAL_0:2;
L577: D8 <= ( len R18 ) by L576 , L570 , XXREAL_0:2;
L578: D8 in ( dom R18 ) by L577 , L574 , FINSEQ_3:25;
L579: ( R17 . D4 ) = ( R18 . ( indx (R18 , R17 , D4) ) ) by L439 , L441 , INTEGRA1:def 19;
L580: ( indx (R18 , R17 , D5) ) < D8 by NAT_1:13;
L581: ( R18 . ( indx (R18 , R17 , D5) ) ) < ( R18 . D8 ) by L580 , L450 , L578 , SEQM_3:def 1;
L582: ( R18 . D8 ) < ( R18 . D9 ) by L566 , L578 , L572 , SEQM_3:def 1;
L583: ((not ( R18 . D8 ) in ( rng R17 )) & (not ( R18 . D9 ) in ( rng R17 )))
proof
assume L584: (( R18 . D8 ) in ( rng R17 ) or ( R18 . D9 ) in ( rng R17 ));
per cases  by L584;
suppose L585: ( R18 . D8 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L586: R10 in ( dom R17 ) and L587: ( R17 . R10 ) = ( R18 . D8 ) by L585 , PARTFUN1:3;
L588: D5 < R10 by L561 , L581 , L575 , L586 , L587 , SEQ_4:137;
L589: D4 < ( R10 + 1 ) by L588 , XREAL_1:19;
L590: ( R18 . D8 ) < ( R18 . ( indx (R18 , R17 , D4) ) ) by L582 , L573 , XXREAL_0:2;
L591: R10 < D4 by L590 , L441 , L579 , L586 , L587 , SEQ_4:137;
thus L592: contradiction by L591 , L589 , NAT_1:13;
end;
suppose L593: ( R18 . D9 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L594: R10 in ( dom R17 ) and L595: ( R17 . R10 ) = ( R18 . D9 ) by L593 , PARTFUN1:3;
L596: ( R18 . ( indx (R18 , R17 , D5) ) ) < ( R18 . D9 ) by L581 , L582 , XXREAL_0:2;
L597: D5 < R10 by L596 , L444 , L575 , L594 , L595 , SEQ_4:137;
L598: D4 < ( R10 + 1 ) by L597 , XREAL_1:19;
L599: R10 < D4 by L441 , L573 , L579 , L594 , L595 , SEQ_4:137;
thus L600: contradiction by L599 , L598 , NAT_1:13;
end;
end;
L602: ( R18 . D8 ) in ( rng R18 ) by L578 , FUNCT_1:def 3;
L603: ( R18 . D8 ) in { R5 } by L602 , L440 , L583 , XBOOLE_0:def 3;
L604: ( R18 . D8 ) = R5 by L603 , TARSKI:def 1;
L605: ( R18 . D9 ) in ( rng R18 ) by L572 , FUNCT_1:def 3;
L606: ( R18 . D9 ) in { R5 } by L605 , L440 , L583 , XBOOLE_0:def 3;
L607: ( R18 . D8 ) = ( R18 . D9 ) by L606 , L604 , TARSKI:def 1;
thus L608: contradiction by L607 , L566 , L578 , L572 , SEQ_4:138;
end;
L609: D4 <= ( len ( lower_volume (R20 , R17) ) ) by INTEGRA1:def 7;
L610: 1 <= D4 by L543 , FINSEQ_1:1;
L611: ( ( mid (( lower_volume (R20 , R17) ) , D4 , D4) ) . 1 ) = ( ( lower_volume (R20 , R17) ) . D4 ) by L610 , L609 , FINSEQ_6:118;
L612: ( ( D4 -' D4 ) + 1 ) = 1 by L1;
L613: ( len ( mid (( lower_volume (R20 , R17) ) , D4 , D4) ) ) = 1 by L612 , L610 , L609 , FINSEQ_6:118;
L614: ( mid (( lower_volume (R20 , R17) ) , D4 , D4) ) = <* ( ( lower_volume (R20 , R17) ) . D4 ) *> by L613 , L611 , FINSEQ_1:40;
L615: 1 <= ( ( indx (R18 , R17 , D5) ) + 1 ) by L451 , NAT_1:13;
L616: ( indx (R18 , R17 , D4) ) in ( dom R18 ) by L439 , L441 , INTEGRA1:def 19;
L617: ( indx (R18 , R17 , D4) ) in ( Seg ( len R18 ) ) by L616 , FINSEQ_1:def 3;
L618: 1 <= ( indx (R18 , R17 , D4) ) by L617 , FINSEQ_1:1;
L619: ( indx (R18 , R17 , D4) ) in ( Seg ( len ( lower_volume (R20 , R18) ) ) ) by L617 , INTEGRA1:def 7;
L620: ( indx (R18 , R17 , D4) ) <= ( len ( lower_volume (R20 , R18) ) ) by L619 , FINSEQ_1:1;
L621: ( ( indx (R18 , R17 , D5) ) + 1 ) <= ( len ( lower_volume (R20 , R18) ) ) by L620 , L560 , XXREAL_0:2;
L622: ( ( indx (R18 , R17 , D5) ) + 1 ) in ( Seg ( len ( lower_volume (R20 , R18) ) ) ) by L621 , L615 , FINSEQ_1:1;
L623: ( ( indx (R18 , R17 , D5) ) + 1 ) in ( Seg ( len R18 ) ) by L622 , INTEGRA1:def 7;
L624: ( ( indx (R18 , R17 , D4) ) -' ( ( indx (R18 , R17 , D5) ) + 1 ) ) = ( ( indx (R18 , R17 , D4) ) - ( ( indx (R18 , R17 , D5) ) + 1 ) ) by L560 , XREAL_1:233;
L625: ( ( ( indx (R18 , R17 , D4) ) -' ( ( indx (R18 , R17 , D5) ) + 1 ) ) + 1 ) <= 2 by L624 , L563;
L626: ( len ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) <= 2 by L625 , L560 , L618 , L620 , L615 , L621 , FINSEQ_6:118;
L627: ( len ( lower_volume (R20 , R18) ) ) = ( len R18 ) by INTEGRA1:def 7;
L628: ( ( indx (R18 , R17 , D5) ) + 1 ) in ( dom R18 ) by L627 , L615 , L621 , FINSEQ_3:25;
L629: ( ( ( indx (R18 , R17 , D4) ) -' ( ( indx (R18 , R17 , D5) ) + 1 ) ) + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
L630: 1 <= ( len ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) by L629 , L560 , L618 , L620 , L615 , L621 , FINSEQ_6:118;
L631:
now
per cases  by L630 , L626 , L4;
suppose L632: ( len ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) = 1;

L633: ( upper_bound ( divset (R17 , D4) ) ) = ( R17 . D4 ) by L441 , L443 , INTEGRA1:def 4;
L634: ( upper_bound ( divset (R17 , D4) ) ) = ( R18 . ( indx (R18 , R17 , D4) ) ) by L633 , L439 , L441 , INTEGRA1:def 19;
L635: ( lower_bound ( divset (R17 , D4) ) ) = ( R17 . D5 ) by L441 , L443 , INTEGRA1:def 4;
L636: ( lower_bound ( divset (R17 , D4) ) ) = ( R18 . ( indx (R18 , R17 , D5) ) ) by L635 , L439 , L444 , INTEGRA1:def 19;
L637: ( divset (R17 , D4) ) = [. ( R18 . ( indx (R18 , R17 , D5) ) ) , ( R18 . ( indx (R18 , R17 , D4) ) ) .] by L636 , L634 , INTEGRA1:4;
L638: ( delta R17 ) >= ( 0 ) by L314;
L639: ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) >= ( 0 ) by L546 , L326 , XREAL_1:48;
L640: ( indx (R18 , R17 , D4) ) in ( dom R18 ) by L439 , L441 , INTEGRA1:def 19;
L641: ( len ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) = ( ( ( indx (R18 , R17 , D4) ) -' ( ( indx (R18 , R17 , D5) ) + 1 ) ) + 1 ) by L560 , L618 , L620 , L615 , L621 , FINSEQ_6:118;
L642: ( ( indx (R18 , R17 , D4) ) - ( ( indx (R18 , R17 , D5) ) + 1 ) ) = ( 0 ) by L641 , L560 , L632 , XREAL_1:233;
L643: ( indx (R18 , R17 , D4) ) <> 1 by L642 , L450 , FINSEQ_3:25;
L644: ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D4) )) ) ) = ( R18 . ( indx (R18 , R17 , D4) ) ) by L643 , L640 , INTEGRA1:def 4;
L645: ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D4) )) ) ) = ( R18 . ( ( indx (R18 , R17 , D4) ) - 1 ) ) by L451 , L642 , L640 , INTEGRA1:def 4;
L646: ( divset (R18 , ( indx (R18 , R17 , D4) )) ) = ( divset (R17 , D4) ) by L645 , L642 , L637 , L644 , INTEGRA1:4;
L647: ( ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) . 1 ) = ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 1 ) ) by L618 , L620 , L615 , L621 , FINSEQ_6:118;
L648: ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) = <* ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 1 ) ) *> by L647 , L632 , FINSEQ_1:40;
L649: ( Sum ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) = ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 1 ) ) by L648 , FINSOP_1:11
.= ( ( lower_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) ) by L628 , INTEGRA1:def 7
.= ( ( lower_volume (R20 , R17) ) . D4 ) by L441 , L642 , L646 , INTEGRA1:def 7
.= ( Sum ( mid (( lower_volume (R20 , R17) ) , D4 , D4) ) ) by L614 , FINSOP_1:11;
thus L650: thesis by L649 , L638 , L639;
end;
suppose L651: ( len ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) = 2;

L652: ( ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) . 1 ) = ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 1 ) ) by L618 , L620 , L615 , L621 , FINSEQ_6:118;
L653: ( 2 + ( ( indx (R18 , R17 , D5) ) + 1 ) ) >= ( ( 0 ) + 1 ) by XREAL_1:7;
L654: ( ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) . 2 ) = ( H2(R18) . ( ( 2 + ( ( indx (R18 , R17 , D5) ) + 1 ) ) -' 1 ) ) by L560 , L618 , L620 , L615 , L621 , L651 , FINSEQ_6:118
.= ( H2(R18) . ( ( 2 + ( ( indx (R18 , R17 , D5) ) + 1 ) ) - 1 ) ) by L653 , XREAL_1:233
.= ( H2(R18) . ( ( indx (R18 , R17 , D5) ) + ( 1 + 1 ) ) );
L655: ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) = <* ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 1 ) ) , ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 2 ) ) *> by L654 , L651 , L652 , FINSEQ_1:44;
L656: ( Sum ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) = ( ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 1 ) ) + ( ( lower_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D5) ) + 2 ) ) ) by L655 , RVSUM_1:77;
L657: ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L658: ( upper_bound ( divset (R17 , D4) ) ) = ( R17 . D4 ) by L441 , L443 , INTEGRA1:def 4;
L659: ( upper_bound ( divset (R17 , D4) ) ) = ( R18 . ( indx (R18 , R17 , D4) ) ) by L658 , L439 , L441 , INTEGRA1:def 19;
L660: ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) >= ( 0 ) by INTEGRA1:9;
L661: ( ( ( indx (R18 , R17 , D4) ) -' ( ( indx (R18 , R17 , D5) ) + 1 ) ) + 1 ) = 2 by L560 , L618 , L620 , L615 , L621 , L651 , FINSEQ_6:118;
L662: ( ( ( indx (R18 , R17 , D4) ) - ( ( indx (R18 , R17 , D5) ) + 1 ) ) + 1 ) = 2 by L661 , L560 , XREAL_1:233;
L663: ( ( indx (R18 , R17 , D5) ) + 2 ) in ( dom R18 ) by L662 , L439 , L441 , INTEGRA1:def 19;
L664: ( lower_bound ( divset (R17 , D4) ) ) = ( R17 . D5 ) by L441 , L443 , INTEGRA1:def 4;
L665: ( lower_bound ( divset (R17 , D4) ) ) = ( R18 . ( indx (R18 , R17 , D5) ) ) by L664 , L439 , L444 , INTEGRA1:def 19;
L666: ( vol ( divset (R17 , D4) ) ) = ( ( ( ( R18 . ( ( indx (R18 , R17 , D5) ) + 2 ) ) - ( R18 . ( ( indx (R18 , R17 , D5) ) + 1 ) ) ) + ( R18 . ( ( indx (R18 , R17 , D5) ) + 1 ) ) ) - ( R18 . ( indx (R18 , R17 , D5) ) ) ) by L665 , L659 , L662 , INTEGRA1:def 5;
L667: ( ( indx (R18 , R17 , D5) ) + 1 ) in ( Seg ( len ( lower_volume (R20 , R18) ) ) ) by L615 , L621 , FINSEQ_1:1;
L668: ( ( indx (R18 , R17 , D5) ) + 1 ) in ( Seg ( len R18 ) ) by L667 , INTEGRA1:def 7;
L669: ( ( indx (R18 , R17 , D5) ) + 1 ) in ( dom R18 ) by L668 , FINSEQ_1:def 3;
L670: ( ( indx (R18 , R17 , D5) ) + 1 ) <> 1 by L451 , NAT_1:13;
L671: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D5) ) + 1 ) ) by L670 , L669 , INTEGRA1:def 4;
L672: ( ( ( indx (R18 , R17 , D5) ) + 1 ) - 1 ) = ( ( indx (R18 , R17 , D5) ) + ( 0 ) );
L673: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) = ( R18 . ( indx (R18 , R17 , D5) ) ) by L672 , L669 , L670 , INTEGRA1:def 4;
L674: ( ( ( indx (R18 , R17 , D5) ) + 1 ) + 1 ) > 1 by L615 , NAT_1:13;
L675: ( ( ( indx (R18 , R17 , D5) ) + 2 ) - 1 ) = ( ( indx (R18 , R17 , D5) ) + 1 );
L676: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D5) ) + 1 ) ) by L675 , L663 , L674 , INTEGRA1:def 4;
L677: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D5) ) + 2 ) ) by L663 , L674 , INTEGRA1:def 4;
L678: ( vol ( divset (R17 , D4) ) ) = ( ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) + ( R18 . ( ( indx (R18 , R17 , D5) ) + 1 ) ) ) - ( R18 . ( indx (R18 , R17 , D5) ) ) ) by L677 , L676 , L666 , INTEGRA1:def 5
.= ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) + ( ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) - ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) ) ) by L673 , L671;
L679: ( vol ( divset (R17 , D4) ) ) = ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) ) by L678 , INTEGRA1:def 5;
L680: ( ( lower_volume (R20 , R17) ) . D4 ) = ( ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) * ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) ) ) by L679 , L441 , INTEGRA1:def 7;
L681: ( ( Sum ( mid (H2(R18) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) - ( Sum ( mid (H2(R17) , D4 , D4) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) ) )
proof
set D10 = ( ( indx (R18 , R17 , D5) ) + 1 );
set D11 = ( ( indx (R18 , R17 , D5) ) + 2 );
set D12 = ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) );
L682: ( divset (R17 , D4) ) c= R15 by L441 , INTEGRA1:8;
L683: ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) >= ( lower_bound ( rng R20 ) ) by L682 , L546 , L331;
L684: ( Sum ( mid (H2(R17) , D4 , D4) ) ) = ( ( ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) ) + ( ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) ) ) by L614 , L680 , FINSOP_1:11;
L685: ( ( Sum ( mid (H2(R17) , D4 , D4) ) ) - ( ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) ) >= D12 by L684 , L660 , L683 , XREAL_1:64;
L686: ( Sum ( mid (H2(R17) , D4 , D4) ) ) >= ( ( ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) + D12 ) by L685 , XREAL_1:19;
L687: ( ( Sum ( mid (H2(R17) , D4 , D4) ) ) - ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) ) >= ( ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) by L686 , XREAL_1:19;
L688: ( ( lower_bound ( rng ( R20 | ( divset (R17 , D4) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) >= ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) by L657 , L683 , XREAL_1:64;
L689: ( ( Sum ( mid (H2(R17) , D4 , D4) ) ) - ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) ) >= ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) by L688 , L687 , XXREAL_0:2;
L690: ( Sum ( mid (H2(R17) , D4 , D4) ) ) >= ( D12 + ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) ) by L689 , XREAL_1:19;
L691: ( ( ( indx (R18 , R17 , D4) ) -' ( ( indx (R18 , R17 , D5) ) + 1 ) ) + 1 ) = 2 by L560 , L618 , L620 , L615 , L621 , L651 , FINSEQ_6:118;
L692: ( ( ( indx (R18 , R17 , D4) ) - ( ( indx (R18 , R17 , D5) ) + 1 ) ) + 1 ) = 2 by L691 , L560 , XREAL_1:233;
L693: D10 in ( dom R18 ) by L623 , FINSEQ_1:def 3;
L694: ( divset (R18 , D10) ) c= R15 by L693 , INTEGRA1:8;
L695: ( lower_bound ( rng ( R20 | ( divset (R18 , D10) ) ) ) ) <= ( upper_bound ( rng R20 ) ) by L694 , L546 , L331;
L696: ( ( lower_bound ( rng ( R20 | ( divset (R18 , D10) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) <= ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) by L695 , L657 , XREAL_1:64;
L697: ( indx (R18 , R17 , D4) ) in ( dom R18 ) by L439 , L441 , INTEGRA1:def 19;
L698: ( divset (R18 , D11) ) c= R15 by L697 , L692 , INTEGRA1:8;
L699: ( lower_bound ( rng ( R20 | ( divset (R18 , D11) ) ) ) ) <= ( upper_bound ( rng R20 ) ) by L698 , L546 , L331;
L700: ( Sum ( mid (H2(R18) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) = ( ( ( lower_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) ) + ( H2(R18) . ( ( indx (R18 , R17 , D5) ) + 1 ) ) ) by L656 , L697 , L692 , INTEGRA1:def 7
.= ( ( ( lower_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 2 )) ) ) ) + ( ( lower_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D5) ) + 1 )) ) ) ) ) by L628 , INTEGRA1:def 7;
L701: ( ( Sum ( mid (H2(R18) , D10 , ( indx (R18 , R17 , D4) )) ) ) - ( ( lower_bound ( rng ( R20 | ( divset (R18 , D10) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) ) <= ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) by L700 , L660 , L699 , XREAL_1:64;
L702: ( Sum ( mid (H2(R18) , D10 , ( indx (R18 , R17 , D4) )) ) ) <= ( ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) + ( ( lower_bound ( rng ( R20 | ( divset (R18 , D10) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) ) by L701 , XREAL_1:20;
L703: ( ( Sum ( mid (H2(R18) , D10 , ( indx (R18 , R17 , D4) )) ) ) - ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) ) <= ( ( lower_bound ( rng ( R20 | ( divset (R18 , D10) ) ) ) ) * ( vol ( divset (R18 , D10) ) ) ) by L702 , XREAL_1:20;
L704: ( ( Sum ( mid (H2(R18) , D10 , ( indx (R18 , R17 , D4) )) ) ) - ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) ) <= ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) by L703 , L696 , XXREAL_0:2;
L705: ( Sum ( mid (H2(R18) , D10 , ( indx (R18 , R17 , D4) )) ) ) <= ( ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) + ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) ) by L704 , XREAL_1:20;
L706: ( ( Sum ( mid (H2(R18) , D10 , ( indx (R18 , R17 , D4) )) ) ) - ( Sum ( mid (H2(R17) , D4 , D4) ) ) ) <= ( ( ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D11) ) ) ) + ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) ) - ( D12 + ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D10) ) ) ) ) ) by L705 , L690 , XREAL_1:13;
thus L707: thesis by L706;
end;
L708: ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) >= ( 0 ) by L546 , L326 , XREAL_1:48;
L709: ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( vol ( divset (R17 , D4) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( delta R17 ) ) by L708 , L441 , L350 , XREAL_1:64;
thus L710: thesis by L709 , L679 , L681 , XXREAL_0:2;
end;
end;
thus L712: thesis by L631;
end;
L713: ( indx (R18 , R17 , D5) ) in ( dom R18 ) by L439 , L449 , INTEGRA1:def 19;
L714: ( indx (R18 , R17 , D5) ) <= ( len R18 ) by L713 , FINSEQ_3:25;
L715: ( indx (R18 , R17 , D5) ) <= ( len ( lower_volume (R20 , R18) ) ) by L714 , INTEGRA1:def 7;
L716: D5 <= ( len R17 ) by L449 , FINSEQ_3:25;
L717: D5 <= ( len ( lower_volume (R20 , R17) ) ) by L716 , INTEGRA1:def 7;
L718: ( R18 . ( indx (R18 , R17 , D4) ) ) = ( R17 . ( len R17 ) ) by L439 , L441 , INTEGRA1:def 19;
L719: ( indx (R18 , R17 , D4) ) >= ( len ( lower_volume (R20 , R18) ) )
proof
assume L720: ( indx (R18 , R17 , D4) ) < ( len ( lower_volume (R20 , R18) ) );
L721: ( indx (R18 , R17 , D4) ) < ( len R18 ) by L720 , INTEGRA1:def 7;
L722: ( R17 . ( len R17 ) ) < ( R18 . ( len R18 ) ) by L721 , L540 , L442 , L718 , SEQM_3:def 1;
L723: (not ( R18 . ( len R18 ) ) in ( rng R17 ))
proof
assume L724: ( R18 . ( len R18 ) ) in ( rng R17 );
L725: ( R18 . ( len R18 ) ) <= ( upper_bound R15 ) by INTEGRA1:def 2;
thus L726: contradiction by L725 , L722 , INTEGRA1:def 2;
end;
L727: ( R18 . ( len R18 ) ) in ( rng R18 ) by L540 , FUNCT_1:def 3;
L728: (( R18 . ( len R18 ) ) in ( rng R17 ) or ( R18 . ( len R18 ) ) in { R5 }) by L727 , L440 , XBOOLE_0:def 3;
L729: ( R18 . ( len R18 ) ) = R5 by L728 , L723 , TARSKI:def 1;
L730: ( R18 . ( len R18 ) ) <= ( upper_bound ( divset (R17 , ( len R17 )) ) ) by L729 , L437 , INTEGRA2:1;
thus L731: contradiction by L730 , L441 , L443 , L722 , INTEGRA1:def 4;
end;
L732: ( indx (R18 , R17 , D4) ) in ( Seg ( len R18 ) ) by L442 , FINSEQ_1:def 3;
L733: ( indx (R18 , R17 , D4) ) in ( Seg ( len ( lower_volume (R20 , R18) ) ) ) by L732 , INTEGRA1:def 7;
L734: ( indx (R18 , R17 , D4) ) in ( dom ( lower_volume (R20 , R18) ) ) by L733 , FINSEQ_1:def 3;
L735: H3(R18 , ( indx (R18 , R17 , D4) )) = ( Sum ( ( lower_volume (R20 , R18) ) | ( indx (R18 , R17 , D4) ) ) ) by L734 , INTEGRA1:def 20
.= ( Sum ( lower_volume (R20 , R18) ) ) by L719 , FINSEQ_1:58;
L736: D4 in ( Seg ( len ( lower_volume (R20 , R17) ) ) ) by L543 , INTEGRA1:def 7;
L737: D4 in ( dom ( lower_volume (R20 , R17) ) ) by L736 , FINSEQ_1:def 3;
L738: H3(R17 , D4) = ( Sum ( ( lower_volume (R20 , R17) ) | D4 ) ) by L737 , INTEGRA1:def 20
.= ( Sum ( lower_volume (R20 , R17) ) ) by L541 , FINSEQ_1:58;
L739: ( len R17 ) = ( len ( lower_volume (R20 , R17) ) ) by INTEGRA1:def 7;
L740: D5 in ( dom ( lower_volume (R20 , R17) ) ) by L739 , L444 , FINSEQ_3:29;
L741: ( len ( R18 | ( indx (R18 , R17 , D5) ) ) ) = ( len ( R17 | D5 ) ) by L453 , L448 , L456 , L284;
L742: ( indx (R18 , R17 , D5) ) = D5 by L741 , L445 , L455 , FINSEQ_1:59;
L743: ( len ( ( lower_volume (R20 , R17) ) | D5 ) ) = ( indx (R18 , R17 , D5) ) by L742 , L717 , FINSEQ_1:59;
L744: ( len ( ( lower_volume (R20 , R17) ) | D5 ) ) = ( len ( ( lower_volume (R20 , R18) ) | ( indx (R18 , R17 , D5) ) ) ) by L743 , L715 , FINSEQ_1:59;
L745: ( ( lower_volume (R20 , R18) ) | ( indx (R18 , R17 , D5) ) ) = ( ( lower_volume (R20 , R17) ) | D5 ) by L744 , L493 , FINSEQ_1:14;
L746: ( len R18 ) = ( len ( lower_volume (R20 , R18) ) ) by INTEGRA1:def 7;
L747: ( indx (R18 , R17 , D5) ) in ( dom ( lower_volume (R20 , R18) ) ) by L746 , L450 , FINSEQ_3:29;
L748: H3(R18 , ( indx (R18 , R17 , D5) )) = ( Sum ( ( lower_volume (R20 , R18) ) | ( indx (R18 , R17 , D5) ) ) ) by L747 , INTEGRA1:def 20
.= H3(R17 , D5) by L745 , L740 , INTEGRA1:def 20;
L749: ( indx (R18 , R17 , D4) ) <= ( len R18 ) by L555 , FINSEQ_1:1;
L750: ( indx (R18 , R17 , D4) ) <= ( len H2(R18) ) by L749 , INTEGRA1:def 7;
L751: ( len R18 ) = ( len H2(R18) ) by INTEGRA1:def 7;
L752: ( indx (R18 , R17 , D4) ) in ( dom H2(R18) ) by L751 , L554 , FINSEQ_3:29;
L753: ( indx (R18 , R17 , D5) ) in ( dom H2(R18) ) by L450 , L751 , FINSEQ_3:29;
L754: H3(R18 , ( indx (R18 , R17 , D5) )) = ( Sum ( H2(R18) | ( indx (R18 , R17 , D5) ) ) ) by L753 , INTEGRA1:def 20;
L755: ( H3(R18 , ( indx (R18 , R17 , D5) )) + ( Sum ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) ) = ( Sum ( ( H2(R18) | ( indx (R18 , R17 , D5) ) ) ^ ( mid (H2(R18) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) ) by L754 , RVSUM_1:75
.= ( Sum ( ( mid (H2(R18) , 1 , ( indx (R18 , R17 , D5) )) ) ^ ( mid (H2(R18) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) ) by L451 , FINSEQ_6:116
.= ( Sum ( mid (H2(R18) , 1 , ( indx (R18 , R17 , D4) )) ) ) by L451 , L559 , L750 , INTEGRA2:4
.= ( Sum ( H2(R18) | ( indx (R18 , R17 , D4) ) ) ) by L556 , FINSEQ_6:116;
L756: ( H3(R18 , ( indx (R18 , R17 , D5) )) + ( Sum ( mid (( lower_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D5) ) + 1 ) , ( indx (R18 , R17 , D4) )) ) ) ) = H3(R18 , ( indx (R18 , R17 , D4) )) by L755 , L752 , INTEGRA1:def 20;
thus L757: thesis by L756 , L748 , L562 , L553 , L735 , L738;
end;
theorem
L758: (for R5 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds (for R20 being (Function of R15 , ( REAL )) holds ((R5 in ( divset (R17 , ( len R17 )) ) & ( len R17 ) >= 2 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ { R5 } ) & ( R20 | R15 ) is  bounded) implies ( ( Sum ( upper_volume (R20 , R17) ) ) - ( Sum ( upper_volume (R20 , R18) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( delta R17 ) )))))))
proof
let R5 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
let R20 being (Function of R15 , ( REAL ));
assume that
L759: R5 in ( divset (R17 , ( len R17 )) )
and
L760: ( len R17 ) >= 2;
set D13 = ( len R17 );
assume that
L761: R17 <= R18
and
L762: ( rng R18 ) = ( ( rng R17 ) \/ { R5 } );
L763: ( len R17 ) in ( Seg ( len R17 ) ) by FINSEQ_1:3;
L764: ( len R17 ) in ( dom R17 ) by L763 , FINSEQ_1:def 3;
L765: ( indx (R18 , R17 , D13) ) in ( dom R18 ) by L764 , L761 , INTEGRA1:def 19;
deffunc H4((Division of R15)) = ( upper_volume (R20 , $1) );
deffunc H5((Division of R15) , Nat) = ( ( PartSums ( upper_volume (R20 , $1) ) ) . $2 );
L766: D13 >= ( len ( upper_volume (R20 , R17) ) ) by INTEGRA1:def 6;
L767: ( len R17 ) <> 1 by L760;
L768: ( ( len R17 ) - 1 ) in ( dom R17 ) by L767 , L764 , INTEGRA1:7;
reconsider D14 = ( ( len R17 ) - 1 ) as (Element of ( NAT )) by L764 , L767 , INTEGRA1:7;
L769: ( indx (R18 , R17 , D14) ) in ( dom R18 ) by L761 , L768 , INTEGRA1:def 19;
L770: 1 <= ( indx (R18 , R17 , D14) ) by L769 , FINSEQ_3:25;
L771: ( mid (R18 , 1 , ( indx (R18 , R17 , D14) )) ) is  increasing by L770 , L769 , INTEGRA1:35;
L772: ( R18 | ( indx (R18 , R17 , D14) ) ) is  increasing by L771 , L770 , FINSEQ_6:116;
L773: ( len R17 ) < ( ( len R17 ) + 1 ) by NAT_1:13;
L774: D14 < ( len R17 ) by L773 , XREAL_1:19;
L775: ( indx (R18 , R17 , D14) ) < ( indx (R18 , R17 , ( len R17 )) ) by L774 , L761 , L764 , L768 , L303;
L776: ( ( indx (R18 , R17 , D14) ) + 1 ) <= ( indx (R18 , R17 , ( len R17 )) ) by L775 , NAT_1:13;
L777: ( len R18 ) in ( Seg ( len R18 ) ) by FINSEQ_1:3;
L778: ( len R18 ) in ( dom R18 ) by L777 , FINSEQ_1:def 3;
L779: ( R18 . ( indx (R18 , R17 , D13) ) ) = ( R17 . ( len R17 ) ) by L761 , L764 , INTEGRA1:def 19;
L780: ( indx (R18 , R17 , D13) ) >= ( len ( upper_volume (R20 , R18) ) )
proof
assume L781: ( indx (R18 , R17 , D13) ) < ( len ( upper_volume (R20 , R18) ) );
L782: ( indx (R18 , R17 , D13) ) < ( len R18 ) by L781 , INTEGRA1:def 6;
L783: ( R17 . ( len R17 ) ) < ( R18 . ( len R18 ) ) by L782 , L778 , L765 , L779 , SEQM_3:def 1;
L784: (not ( R18 . ( len R18 ) ) in ( rng R17 ))
proof
assume L785: ( R18 . ( len R18 ) ) in ( rng R17 );
L786: ( R18 . ( len R18 ) ) <= ( upper_bound R15 ) by INTEGRA1:def 2;
thus L787: contradiction by L786 , L783 , INTEGRA1:def 2;
end;
L788: ( R18 . ( len R18 ) ) in ( rng R18 ) by L778 , FUNCT_1:def 3;
L789: (( R18 . ( len R18 ) ) in ( rng R17 ) or ( R18 . ( len R18 ) ) in { R5 }) by L788 , L762 , XBOOLE_0:def 3;
L790: ( R18 . ( len R18 ) ) = R5 by L789 , L784 , TARSKI:def 1;
L791: ( R18 . ( len R18 ) ) <= ( upper_bound ( divset (R17 , ( len R17 )) ) ) by L790 , L759 , INTEGRA2:1;
thus L792: contradiction by L791 , L764 , L767 , L783 , INTEGRA1:def 4;
end;
L793: ( indx (R18 , R17 , D13) ) in ( Seg ( len R18 ) ) by L765 , FINSEQ_1:def 3;
L794: ( indx (R18 , R17 , D13) ) in ( Seg ( len ( upper_volume (R20 , R18) ) ) ) by L793 , INTEGRA1:def 6;
L795: ( indx (R18 , R17 , D13) ) in ( dom ( upper_volume (R20 , R18) ) ) by L794 , FINSEQ_1:def 3;
L796: H5(R18 , ( indx (R18 , R17 , D13) )) = ( Sum ( ( upper_volume (R20 , R18) ) | ( indx (R18 , R17 , D13) ) ) ) by L795 , INTEGRA1:def 20
.= ( Sum ( upper_volume (R20 , R18) ) ) by L780 , FINSEQ_1:58;
L797: ( indx (R18 , R17 , D13) ) in ( dom R18 ) by L761 , L764 , INTEGRA1:def 19;
L798: ( indx (R18 , R17 , D13) ) in ( Seg ( len R18 ) ) by L797 , FINSEQ_1:def 3;
L799: 1 <= ( indx (R18 , R17 , D13) ) by L798 , FINSEQ_1:1;
L800: ( indx (R18 , R17 , D14) ) <= ( len R18 ) by L769 , FINSEQ_3:25;
L801: ( len ( R18 | ( indx (R18 , R17 , D14) ) ) ) = ( indx (R18 , R17 , D14) ) by L800 , FINSEQ_1:59;
L802: D14 <= ( len R17 ) by L768 , FINSEQ_3:25;
assume L803: ( R20 | R15 ) is  bounded;
L804: ( ( Sum ( mid (( upper_volume (R20 , R17) ) , ( len R17 ) , ( len R17 )) ) ) - ( Sum ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , ( len R17 )) )) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( delta R17 ) )
proof
L805: ( ( indx (R18 , R17 , D13) ) - ( indx (R18 , R17 , D14) ) ) <= 2
proof
reconsider D15 = ( ( indx (R18 , R17 , D14) ) + 1 ) as (Element of ( NAT ));
reconsider D16 = ( D15 + 1 ) as (Element of ( NAT ));
assume L806: ( ( indx (R18 , R17 , D13) ) - ( indx (R18 , R17 , D14) ) ) > 2;
L807: ( ( indx (R18 , R17 , D14) ) + ( 1 + 1 ) ) < ( indx (R18 , R17 , D13) ) by L806 , XREAL_1:20;
L808: D15 < D16 by NAT_1:13;
L809: ( indx (R18 , R17 , D14) ) <= D16 by L808 , NAT_1:13;
L810: 1 <= D16 by L809 , L770 , XXREAL_0:2;
L811: ( indx (R18 , R17 , D13) ) in ( dom R18 ) by L761 , L764 , INTEGRA1:def 19;
L812: ( indx (R18 , R17 , D13) ) <= ( len R18 ) by L811 , FINSEQ_3:25;
L813: D16 <= ( len R18 ) by L812 , L807 , XXREAL_0:2;
L814: D16 in ( dom R18 ) by L813 , L810 , FINSEQ_3:25;
L815: ( R18 . D16 ) < ( R18 . ( indx (R18 , R17 , D13) ) ) by L814 , L807 , L811 , SEQM_3:def 1;
L816: 1 <= D15 by L770 , NAT_1:13;
L817: ( R17 . D14 ) = ( R18 . ( indx (R18 , R17 , D14) ) ) by L761 , L768 , INTEGRA1:def 19;
L818: D15 <= ( indx (R18 , R17 , D13) ) by L807 , L808 , XXREAL_0:2;
L819: D15 <= ( len R18 ) by L818 , L812 , XXREAL_0:2;
L820: D15 in ( dom R18 ) by L819 , L816 , FINSEQ_3:25;
L821: ( R17 . D13 ) = ( R18 . ( indx (R18 , R17 , D13) ) ) by L761 , L764 , INTEGRA1:def 19;
L822: ( indx (R18 , R17 , D14) ) < D15 by NAT_1:13;
L823: ( R18 . ( indx (R18 , R17 , D14) ) ) < ( R18 . D15 ) by L822 , L769 , L820 , SEQM_3:def 1;
L824: ( R18 . D15 ) < ( R18 . D16 ) by L808 , L820 , L814 , SEQM_3:def 1;
L825: ((not ( R18 . D15 ) in ( rng R17 )) & (not ( R18 . D16 ) in ( rng R17 )))
proof
assume L826: (( R18 . D15 ) in ( rng R17 ) or ( R18 . D16 ) in ( rng R17 ));
L827:
now
per cases  by L826;
suppose L828: ( R18 . D15 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L829: R10 in ( dom R17 ) and L830: ( R17 . R10 ) = ( R18 . D15 ) by L828 , PARTFUN1:3;
L831: D14 < R10 by L768 , L823 , L817 , L829 , L830 , SEQ_4:137;
L832: D13 < ( R10 + 1 ) by L831 , XREAL_1:19;
L833: ( R18 . D15 ) < ( R18 . ( indx (R18 , R17 , D13) ) ) by L824 , L815 , XXREAL_0:2;
L834: R10 < D13 by L833 , L764 , L821 , L829 , L830 , SEQ_4:137;
thus L835: contradiction by L834 , L832 , NAT_1:13;
end;
suppose L836: ( R18 . D16 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L837: R10 in ( dom R17 ) and L838: ( R17 . R10 ) = ( R18 . D16 ) by L836 , PARTFUN1:3;
L839: ( R18 . ( indx (R18 , R17 , D14) ) ) < ( R18 . D16 ) by L823 , L824 , XXREAL_0:2;
L840: D14 < R10 by L839 , L768 , L817 , L837 , L838 , SEQ_4:137;
L841: D13 < ( R10 + 1 ) by L840 , XREAL_1:19;
L842: R10 < D13 by L764 , L815 , L821 , L837 , L838 , SEQ_4:137;
thus L843: contradiction by L842 , L841 , NAT_1:13;
end;
end;
thus L845: thesis by L827;
end;
L846: ( R18 . D15 ) in ( rng R18 ) by L820 , FUNCT_1:def 3;
L847: ( R18 . D15 ) in { R5 } by L846 , L762 , L825 , XBOOLE_0:def 3;
L848: ( R18 . D15 ) = R5 by L847 , TARSKI:def 1;
L849: ( R18 . D16 ) in ( rng R18 ) by L814 , FUNCT_1:def 3;
L850: ( R18 . D16 ) in { R5 } by L849 , L762 , L825 , XBOOLE_0:def 3;
L851: ( R18 . D15 ) = ( R18 . D16 ) by L850 , L848 , TARSKI:def 1;
thus L852: contradiction by L851 , L808 , L820 , L814 , SEQ_4:138;
end;
L853: D13 <= ( len ( upper_volume (R20 , R17) ) ) by INTEGRA1:def 6;
L854: 1 <= D13 by L763 , FINSEQ_1:1;
L855: ( ( mid (( upper_volume (R20 , R17) ) , D13 , D13) ) . 1 ) = ( ( upper_volume (R20 , R17) ) . D13 ) by L854 , L853 , FINSEQ_6:118;
L856: ( ( D13 -' D13 ) + 1 ) = 1 by L1;
L857: ( len ( mid (( upper_volume (R20 , R17) ) , D13 , D13) ) ) = 1 by L856 , L854 , L853 , FINSEQ_6:118;
L858: ( mid (( upper_volume (R20 , R17) ) , D13 , D13) ) = <* ( ( upper_volume (R20 , R17) ) . D13 ) *> by L857 , L855 , FINSEQ_1:40;
L859: ( Sum ( mid (( upper_volume (R20 , R17) ) , D13 , D13) ) ) = ( ( upper_volume (R20 , R17) ) . D13 ) by L858 , FINSOP_1:11;
L860: 1 <= ( ( indx (R18 , R17 , D14) ) + 1 ) by L770 , NAT_1:13;
L861: ( indx (R18 , R17 , D13) ) in ( dom R18 ) by L761 , L764 , INTEGRA1:def 19;
L862: ( indx (R18 , R17 , D13) ) in ( Seg ( len R18 ) ) by L861 , FINSEQ_1:def 3;
L863: 1 <= ( indx (R18 , R17 , D13) ) by L862 , FINSEQ_1:1;
L864: ( indx (R18 , R17 , D13) ) in ( Seg ( len ( upper_volume (R20 , R18) ) ) ) by L862 , INTEGRA1:def 6;
L865: ( indx (R18 , R17 , D13) ) <= ( len ( upper_volume (R20 , R18) ) ) by L864 , FINSEQ_1:1;
L866: ( ( indx (R18 , R17 , D14) ) + 1 ) <= ( len ( upper_volume (R20 , R18) ) ) by L865 , L776 , XXREAL_0:2;
L867: ( ( indx (R18 , R17 , D14) ) + 1 ) in ( Seg ( len ( upper_volume (R20 , R18) ) ) ) by L866 , L860 , FINSEQ_1:1;
L868: ( ( indx (R18 , R17 , D14) ) + 1 ) in ( Seg ( len R18 ) ) by L867 , INTEGRA1:def 6;
L869: ( ( indx (R18 , R17 , D14) ) + 1 ) in ( dom R18 ) by L868 , FINSEQ_1:def 3;
L870: ( ( indx (R18 , R17 , D13) ) -' ( ( indx (R18 , R17 , D14) ) + 1 ) ) = ( ( indx (R18 , R17 , D13) ) - ( ( indx (R18 , R17 , D14) ) + 1 ) ) by L776 , XREAL_1:233;
L871: ( ( ( indx (R18 , R17 , D13) ) -' ( ( indx (R18 , R17 , D14) ) + 1 ) ) + 1 ) <= 2 by L870 , L805;
L872: ( len ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) <= 2 by L871 , L776 , L863 , L865 , L860 , L866 , FINSEQ_6:118;
L873: ( ( ( indx (R18 , R17 , D13) ) -' ( ( indx (R18 , R17 , D14) ) + 1 ) ) + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
L874: 1 <= ( len ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) by L873 , L776 , L863 , L865 , L860 , L866 , FINSEQ_6:118;
L875:
now
per cases  by L874 , L872 , L4;
suppose L876: ( len ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) = 1;

L877: ( upper_bound ( divset (R17 , D13) ) ) = ( R17 . D13 ) by L764 , L767 , INTEGRA1:def 4;
L878: ( upper_bound ( divset (R17 , D13) ) ) = ( R18 . ( indx (R18 , R17 , D13) ) ) by L877 , L761 , L764 , INTEGRA1:def 19;
L879: ( lower_bound ( divset (R17 , D13) ) ) = ( R17 . D14 ) by L764 , L767 , INTEGRA1:def 4;
L880: ( lower_bound ( divset (R17 , D13) ) ) = ( R18 . ( indx (R18 , R17 , D14) ) ) by L879 , L761 , L768 , INTEGRA1:def 19;
L881: ( divset (R17 , D13) ) = [. ( R18 . ( indx (R18 , R17 , D14) ) ) , ( R18 . ( indx (R18 , R17 , D13) ) ) .] by L880 , L878 , INTEGRA1:4;
L882: ( delta R17 ) >= ( 0 ) by L314;
L883: ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) >= ( 0 ) by L803 , L326 , XREAL_1:48;
L884: ( indx (R18 , R17 , D13) ) in ( dom R18 ) by L761 , L764 , INTEGRA1:def 19;
L885: ( len ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) = ( ( ( indx (R18 , R17 , D13) ) -' ( ( indx (R18 , R17 , D14) ) + 1 ) ) + 1 ) by L776 , L863 , L865 , L860 , L866 , FINSEQ_6:118;
L886: ( ( indx (R18 , R17 , D13) ) - ( ( indx (R18 , R17 , D14) ) + 1 ) ) = ( 0 ) by L885 , L776 , L876 , XREAL_1:233;
L887: ( indx (R18 , R17 , D13) ) <> 1 by L886 , L769 , FINSEQ_3:25;
L888: ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D13) )) ) ) = ( R18 . ( indx (R18 , R17 , D13) ) ) by L887 , L884 , INTEGRA1:def 4;
L889: ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D13) )) ) ) = ( R18 . ( ( indx (R18 , R17 , D13) ) - 1 ) ) by L770 , L886 , L884 , INTEGRA1:def 4;
L890: ( divset (R18 , ( indx (R18 , R17 , D13) )) ) = ( divset (R17 , D13) ) by L889 , L886 , L881 , L888 , INTEGRA1:4;
L891: ( ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) . 1 ) = ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 1 ) ) by L863 , L865 , L860 , L866 , FINSEQ_6:118;
L892: ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) = <* ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 1 ) ) *> by L891 , L876 , FINSEQ_1:40;
L893: ( Sum ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) = ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 1 ) ) by L892 , FINSOP_1:11
.= ( ( upper_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) ) by L869 , INTEGRA1:def 6
.= ( Sum ( mid (( upper_volume (R20 , R17) ) , D13 , D13) ) ) by L764 , L859 , L886 , L890 , INTEGRA1:def 6;
thus L894: thesis by L893 , L882 , L883;
end;
suppose L895: ( len ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) = 2;

L896: ( ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) . 1 ) = ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 1 ) ) by L863 , L865 , L860 , L866 , FINSEQ_6:118;
L897: ( 2 + ( ( indx (R18 , R17 , D14) ) + 1 ) ) >= ( ( 0 ) + 1 ) by XREAL_1:7;
L898: ( ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) . 2 ) = ( H4(R18) . ( ( 2 + ( ( indx (R18 , R17 , D14) ) + 1 ) ) -' 1 ) ) by L776 , L863 , L865 , L860 , L866 , L895 , FINSEQ_6:118
.= ( H4(R18) . ( ( 2 + ( ( indx (R18 , R17 , D14) ) + 1 ) ) - 1 ) ) by L897 , XREAL_1:233
.= ( H4(R18) . ( ( indx (R18 , R17 , D14) ) + ( 1 + 1 ) ) );
L899: ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) = <* ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 1 ) ) , ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 2 ) ) *> by L898 , L895 , L896 , FINSEQ_1:44;
L900: ( Sum ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) = ( ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 1 ) ) + ( ( upper_volume (R20 , R18) ) . ( ( indx (R18 , R17 , D14) ) + 2 ) ) ) by L899 , RVSUM_1:77;
L901: ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L902: ( upper_bound ( divset (R17 , D13) ) ) = ( R17 . D13 ) by L764 , L767 , INTEGRA1:def 4;
L903: ( upper_bound ( divset (R17 , D13) ) ) = ( R18 . ( indx (R18 , R17 , D13) ) ) by L902 , L761 , L764 , INTEGRA1:def 19;
L904: ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) >= ( 0 ) by INTEGRA1:9;
L905: ( ( ( indx (R18 , R17 , D13) ) -' ( ( indx (R18 , R17 , D14) ) + 1 ) ) + 1 ) = 2 by L776 , L863 , L865 , L860 , L866 , L895 , FINSEQ_6:118;
L906: ( ( ( indx (R18 , R17 , D13) ) - ( ( indx (R18 , R17 , D14) ) + 1 ) ) + 1 ) = 2 by L905 , L776 , XREAL_1:233;
L907: ( ( indx (R18 , R17 , D14) ) + 2 ) in ( dom R18 ) by L906 , L761 , L764 , INTEGRA1:def 19;
L908: ( lower_bound ( divset (R17 , D13) ) ) = ( R17 . D14 ) by L764 , L767 , INTEGRA1:def 4;
L909: ( lower_bound ( divset (R17 , D13) ) ) = ( R18 . ( indx (R18 , R17 , D14) ) ) by L908 , L761 , L768 , INTEGRA1:def 19;
L910: ( vol ( divset (R17 , D13) ) ) = ( ( ( ( R18 . ( ( indx (R18 , R17 , D14) ) + 2 ) ) - ( R18 . ( ( indx (R18 , R17 , D14) ) + 1 ) ) ) + ( R18 . ( ( indx (R18 , R17 , D14) ) + 1 ) ) ) - ( R18 . ( indx (R18 , R17 , D14) ) ) ) by L909 , L903 , L906 , INTEGRA1:def 5;
L911: ( ( indx (R18 , R17 , D14) ) + 1 ) in ( Seg ( len ( upper_volume (R20 , R18) ) ) ) by L860 , L866 , FINSEQ_1:1;
L912: ( ( indx (R18 , R17 , D14) ) + 1 ) in ( Seg ( len R18 ) ) by L911 , INTEGRA1:def 6;
L913: ( ( indx (R18 , R17 , D14) ) + 1 ) in ( dom R18 ) by L912 , FINSEQ_1:def 3;
L914: ( ( indx (R18 , R17 , D14) ) + 1 ) <> 1 by L770 , NAT_1:13;
L915: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D14) ) + 1 ) ) by L914 , L913 , INTEGRA1:def 4;
L916: ( ( ( indx (R18 , R17 , D14) ) + 1 ) - 1 ) = ( ( indx (R18 , R17 , D14) ) + ( 0 ) );
L917: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) = ( R18 . ( indx (R18 , R17 , D14) ) ) by L916 , L913 , L914 , INTEGRA1:def 4;
L918: ( ( ( indx (R18 , R17 , D14) ) + 1 ) + 1 ) > 1 by L860 , NAT_1:13;
L919: ( ( ( indx (R18 , R17 , D14) ) + 2 ) - 1 ) = ( ( indx (R18 , R17 , D14) ) + 1 );
L920: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D14) ) + 1 ) ) by L919 , L907 , L918 , INTEGRA1:def 4;
L921: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D14) ) + 2 ) ) by L907 , L918 , INTEGRA1:def 4;
L922: ( vol ( divset (R17 , D13) ) ) = ( ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) + ( R18 . ( ( indx (R18 , R17 , D14) ) + 1 ) ) ) - ( R18 . ( indx (R18 , R17 , D14) ) ) ) by L921 , L920 , L910 , INTEGRA1:def 5
.= ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) + ( ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) - ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) ) ) by L917 , L915;
L923: ( vol ( divset (R17 , D13) ) ) = ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) ) by L922 , INTEGRA1:def 5;
L924: ( ( upper_volume (R20 , R17) ) . D13 ) = ( ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) * ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) ) ) by L923 , L764 , INTEGRA1:def 6;
L925: ( ( Sum ( mid (H4(R17) , D13 , D13) ) ) - ( Sum ( mid (H4(R18) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) ) )
proof
set D17 = ( ( indx (R18 , R17 , D14) ) + 1 );
set D18 = ( ( indx (R18 , R17 , D14) ) + 2 );
L926: ( ( Sum ( mid (H4(R17) , D13 , D13) ) ) - ( ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) ) = ( ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) * ( vol ( divset (R18 , D18) ) ) ) by L859 , L924;
L927: ( divset (R17 , D13) ) c= R15 by L764 , INTEGRA1:8;
L928: ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) <= ( upper_bound ( rng R20 ) ) by L927 , L803 , L331;
L929: ( ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) * ( vol ( divset (R18 , D18) ) ) ) <= ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) by L928 , L904 , XREAL_1:64;
L930: ( Sum ( mid (H4(R17) , D13 , D13) ) ) <= ( ( ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) + ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) ) by L929 , L926 , XREAL_1:20;
L931: ( ( Sum ( mid (H4(R17) , D13 , D13) ) ) - ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) ) <= ( ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) by L930 , XREAL_1:20;
L932: ( ( upper_bound ( rng ( R20 | ( divset (R17 , D13) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) <= ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) by L901 , L928 , XREAL_1:64;
L933: ( ( Sum ( mid (H4(R17) , D13 , D13) ) ) - ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) ) <= ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) by L932 , L931 , XXREAL_0:2;
L934: ( Sum ( mid (H4(R17) , D13 , D13) ) ) <= ( ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) + ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) ) by L933 , XREAL_1:20;
L935: D17 in ( dom R18 ) by L868 , FINSEQ_1:def 3;
L936: ( divset (R18 , D17) ) c= R15 by L935 , INTEGRA1:8;
L937: ( upper_bound ( rng ( R20 | ( divset (R18 , D17) ) ) ) ) >= ( lower_bound ( rng R20 ) ) by L936 , L803 , L331;
L938: ( ( upper_bound ( rng ( R20 | ( divset (R18 , D17) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) >= ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) by L937 , L901 , XREAL_1:64;
L939: ( ( ( indx (R18 , R17 , D13) ) -' ( ( indx (R18 , R17 , D14) ) + 1 ) ) + 1 ) = 2 by L776 , L863 , L865 , L860 , L866 , L895 , FINSEQ_6:118;
L940: ( ( ( indx (R18 , R17 , D13) ) - ( ( indx (R18 , R17 , D14) ) + 1 ) ) + 1 ) = 2 by L939 , L776 , XREAL_1:233;
L941: ( indx (R18 , R17 , D13) ) in ( dom R18 ) by L761 , L764 , INTEGRA1:def 19;
L942: ( divset (R18 , D18) ) c= R15 by L941 , L940 , INTEGRA1:8;
L943: ( upper_bound ( rng ( R20 | ( divset (R18 , D18) ) ) ) ) >= ( lower_bound ( rng R20 ) ) by L942 , L803 , L331;
L944: ( Sum ( mid (H4(R18) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) = ( ( ( upper_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) ) + ( H4(R18) . ( ( indx (R18 , R17 , D14) ) + 1 ) ) ) by L900 , L941 , L940 , INTEGRA1:def 6
.= ( ( ( upper_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 2 )) ) ) ) + ( ( upper_bound ( rng ( R20 | ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D14) ) + 1 )) ) ) ) ) by L869 , INTEGRA1:def 6;
L945: ( ( Sum ( mid (H4(R18) , D17 , ( indx (R18 , R17 , D13) )) ) ) - ( ( upper_bound ( rng ( R20 | ( divset (R18 , D17) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) ) >= ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) by L944 , L904 , L943 , XREAL_1:64;
L946: ( Sum ( mid (H4(R18) , D17 , ( indx (R18 , R17 , D13) )) ) ) >= ( ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) + ( ( upper_bound ( rng ( R20 | ( divset (R18 , D17) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) ) by L945 , XREAL_1:19;
L947: ( ( Sum ( mid (H4(R18) , D17 , ( indx (R18 , R17 , D13) )) ) ) - ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) ) >= ( ( upper_bound ( rng ( R20 | ( divset (R18 , D17) ) ) ) ) * ( vol ( divset (R18 , D17) ) ) ) by L946 , XREAL_1:19;
L948: ( ( Sum ( mid (H4(R18) , D17 , ( indx (R18 , R17 , D13) )) ) ) - ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) ) >= ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) by L947 , L938 , XXREAL_0:2;
L949: ( Sum ( mid (H4(R18) , D17 , ( indx (R18 , R17 , D13) )) ) ) >= ( ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) + ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) ) by L948 , XREAL_1:19;
L950: ( ( Sum ( mid (H4(R17) , D13 , D13) ) ) - ( Sum ( mid (H4(R18) , D17 , ( indx (R18 , R17 , D13) )) ) ) ) <= ( ( ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) + ( ( upper_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) ) - ( ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D18) ) ) ) + ( ( lower_bound ( rng R20 ) ) * ( vol ( divset (R18 , D17) ) ) ) ) ) by L949 , L934 , XREAL_1:13;
thus L951: thesis by L950;
end;
L952: ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) >= ( 0 ) by L803 , L326 , XREAL_1:48;
L953: ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( vol ( divset (R17 , D13) ) ) ) <= ( ( ( upper_bound ( rng R20 ) ) - ( lower_bound ( rng R20 ) ) ) * ( delta R17 ) ) by L952 , L764 , L350 , XREAL_1:64;
thus L954: thesis by L953 , L923 , L925 , XXREAL_0:2;
end;
end;
thus L956: thesis by L875;
end;
L957: D13 in ( Seg ( len ( upper_volume (R20 , R17) ) ) ) by L763 , INTEGRA1:def 6;
L958: D13 in ( dom ( upper_volume (R20 , R17) ) ) by L957 , FINSEQ_1:def 3;
L959: H5(R17 , D13) = ( Sum ( ( upper_volume (R20 , R17) ) | D13 ) ) by L958 , INTEGRA1:def 20
.= ( Sum ( upper_volume (R20 , R17) ) ) by L766 , FINSEQ_1:58;
L960: D13 <= ( len H4(R17) ) by INTEGRA1:def 6;
L961: 1 <= D14 by L768 , FINSEQ_3:25;
L962: ( mid (R17 , 1 , D14) ) is  increasing by L961 , L764 , L767 , INTEGRA1:7 , INTEGRA1:35;
L963: ( R17 | D14 ) is  increasing by L962 , L961 , FINSEQ_6:116;
L964: ( rng ( R18 | ( indx (R18 , R17 , D14) ) ) ) = ( rng ( R17 | D14 ) ) by L759 , L760 , L761 , L762 , L359;
L965: ( R18 | ( indx (R18 , R17 , D14) ) ) = ( R17 | D14 ) by L964 , L772 , L963 , L284;
L966: (for R9 being (Element of ( NAT )) holds ((1 <= R9 & R9 <= D14) implies R9 = ( indx (R18 , R17 , R9) )))
proof
let R9 being (Element of ( NAT ));
assume that
L967: 1 <= R9
and
L968: R9 <= D14;
assume L969: R9 <> ( indx (R18 , R17 , R9) );
L970:
now
per cases  by L969 , XXREAL_0:1;
suppose L971: R9 > ( indx (R18 , R17 , R9) );

L972: R9 <= ( len R17 ) by L802 , L968 , XXREAL_0:2;
L973: R9 in ( dom R17 ) by L972 , L967 , FINSEQ_3:25;
L974: ( indx (R18 , R17 , R9) ) in ( dom R18 ) by L973 , L761 , INTEGRA1:def 19;
L975: ( indx (R18 , R17 , R9) ) in ( Seg ( len R18 ) ) by L974 , FINSEQ_1:def 3;
L976: 1 <= ( indx (R18 , R17 , R9) ) by L975 , FINSEQ_1:1;
L977: ( indx (R18 , R17 , R9) ) < D14 by L968 , L971 , XXREAL_0:2;
L978: ( indx (R18 , R17 , R9) ) in ( Seg D14 ) by L977 , L976 , FINSEQ_1:1;
L979: ( indx (R18 , R17 , R9) ) <= ( indx (R18 , R17 , D14) ) by L761 , L768 , L968 , L973 , L292;
L980: ( indx (R18 , R17 , R9) ) in ( Seg ( indx (R18 , R17 , D14) ) ) by L979 , L976 , FINSEQ_1:1;
L981: ( ( R18 | ( indx (R18 , R17 , D14) ) ) . ( indx (R18 , R17 , R9) ) ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L980 , L769 , RFINSEQ:6;
L982: ( indx (R18 , R17 , R9) ) <= ( len R17 ) by L802 , L977 , XXREAL_0:2;
L983: ( indx (R18 , R17 , R9) ) in ( Seg ( len R17 ) ) by L982 , L976 , FINSEQ_1:1;
L984: ( indx (R18 , R17 , R9) ) in ( dom R17 ) by L983 , FINSEQ_1:def 3;
L985: ( R17 . R9 ) > ( R17 . ( indx (R18 , R17 , R9) ) ) by L984 , L971 , L973 , SEQM_3:def 1;
L986: ( R17 . R9 ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L761 , L973 , INTEGRA1:def 19;
thus L987: contradiction by L986 , L768 , L965 , L981 , L985 , L978 , RFINSEQ:6;
end;
suppose L988: R9 < ( indx (R18 , R17 , R9) );

L989: R9 <= ( len R17 ) by L802 , L968 , XXREAL_0:2;
L990: R9 in ( dom R17 ) by L989 , L967 , FINSEQ_3:25;
L991: ( indx (R18 , R17 , R9) ) <= ( indx (R18 , R17 , D14) ) by L990 , L761 , L768 , L968 , L292;
L992: R9 <= ( indx (R18 , R17 , D14) ) by L991 , L988 , XXREAL_0:2;
L993: R9 <= ( len R18 ) by L992 , L800 , XXREAL_0:2;
L994: R9 in ( dom R18 ) by L993 , L967 , FINSEQ_3:25;
L995: R9 in ( Seg D14 ) by L967 , L968 , FINSEQ_1:1;
L996: ( R17 . R9 ) = ( ( R17 | D14 ) . R9 ) by L995 , L768 , RFINSEQ:6;
L997: ( indx (R18 , R17 , R9) ) in ( dom R18 ) by L761 , L990 , INTEGRA1:def 19;
L998: ( R18 . R9 ) < ( R18 . ( indx (R18 , R17 , R9) ) ) by L997 , L988 , L994 , SEQM_3:def 1;
L999: R9 in ( Seg ( indx (R18 , R17 , D14) ) ) by L967 , L992 , FINSEQ_1:1;
L1000: ( R17 . R9 ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L761 , L990 , INTEGRA1:def 19;
thus L1001: contradiction by L1000 , L769 , L965 , L996 , L998 , L999 , RFINSEQ:6;
end;
end;
thus L1003: contradiction by L970;
end;
L1004: (for B14 being Nat holds ((1 <= B14 & B14 <= ( len ( ( upper_volume (R20 , R17) ) | D14 ) )) implies ( ( ( upper_volume (R20 , R17) ) | D14 ) . B14 ) = ( ( ( upper_volume (R20 , R18) ) | ( indx (R18 , R17 , D14) ) ) . B14 )))
proof
L1005: ( indx (R18 , R17 , D14) ) in ( Seg ( len R18 ) ) by L769 , FINSEQ_1:def 3;
L1006: ( indx (R18 , R17 , D14) ) in ( Seg ( len ( upper_volume (R20 , R18) ) ) ) by L1005 , INTEGRA1:def 6;
L1007: ( indx (R18 , R17 , D14) ) in ( dom ( upper_volume (R20 , R18) ) ) by L1006 , FINSEQ_1:def 3;
let C17 being Nat;
assume that
L1008: 1 <= C17
and
L1009: C17 <= ( len ( ( upper_volume (R20 , R17) ) | D14 ) );
reconsider D19 = C17 as (Element of ( NAT )) by ORDINAL1:def 12;
L1010: ( len ( upper_volume (R20 , R17) ) ) = ( len R17 ) by INTEGRA1:def 6;
L1011: D19 <= D14 by L1010 , L802 , L1009 , FINSEQ_1:59;
L1012: D19 <= ( len R17 ) by L1011 , L802 , XXREAL_0:2;
L1013: D19 in ( Seg ( len R17 ) ) by L1012 , L1008 , FINSEQ_1:1;
L1014: D19 in ( dom R17 ) by L1013 , FINSEQ_1:def 3;
L1015: ( indx (R18 , R17 , D19) ) in ( dom R18 ) by L1014 , L761 , INTEGRA1:def 19;
L1016: D19 in ( Seg D14 ) by L1008 , L1011 , FINSEQ_1:1;
L1017: ( indx (R18 , R17 , D19) ) in ( Seg D14 ) by L1016 , L966 , L1008 , L1011;
L1018: ( indx (R18 , R17 , D19) ) in ( Seg ( indx (R18 , R17 , D14) ) ) by L1017 , L961 , L966;
L1019: ( indx (R18 , R17 , D19) ) <= ( indx (R18 , R17 , D14) ) by L1018 , FINSEQ_1:1;
L1020: ( indx (R18 , R17 , D19) ) <= ( len R18 ) by L1019 , L800 , XXREAL_0:2;
L1021: ( R17 . D19 ) = ( R18 . ( indx (R18 , R17 , D19) ) ) by L761 , L1014 , INTEGRA1:def 19;
L1022: (( lower_bound ( divset (R17 , D19) ) ) = ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ) & ( upper_bound ( divset (R17 , D19) ) ) = ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ))
proof
per cases ;
suppose L1023: D19 = 1;

L1024: ( upper_bound ( divset (R17 , D19) ) ) = ( R17 . D19 ) by L1023 , L1014 , INTEGRA1:def 4;
L1025: ( lower_bound ( divset (R17 , D19) ) ) = ( lower_bound R15 ) by L1014 , L1023 , INTEGRA1:def 4;
L1026: ( indx (R18 , R17 , D19) ) = 1 by L961 , L966 , L1023;
thus L1027: thesis by L1026 , L1015 , L1021 , L1025 , L1024 , INTEGRA1:def 4;
end;
suppose L1028: D19 <> 1;

reconsider D20 = ( D19 - 1 ) as (Element of ( NAT )) by L1028 , L1014 , INTEGRA1:7;
L1029: D19 <= ( D19 + 1 ) by NAT_1:11;
L1030: D20 <= D19 by L1029 , XREAL_1:20;
L1031: D20 <= D14 by L1030 , L1011 , XXREAL_0:2;
L1032: ( D19 - 1 ) in ( dom R17 ) by L1014 , L1028 , INTEGRA1:7;
L1033: 1 <= D20 by L1032 , FINSEQ_3:25;
L1034: D20 = ( indx (R18 , R17 , D20) ) by L1033 , L966 , L1031;
L1035: ( R18 . ( ( indx (R18 , R17 , D19) ) - 1 ) ) = ( R18 . ( indx (R18 , R17 , D20) ) ) by L1034 , L966 , L1008 , L1011;
L1036: ( indx (R18 , R17 , D19) ) <> 1 by L966 , L1008 , L1011 , L1028;
L1037: ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ) = ( R18 . ( ( indx (R18 , R17 , D19) ) - 1 ) ) by L1036 , L1015 , INTEGRA1:def 4;
L1038: ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ) = ( R18 . ( indx (R18 , R17 , D19) ) ) by L1015 , L1036 , INTEGRA1:def 4;
L1039: ( upper_bound ( divset (R17 , D19) ) ) = ( R17 . D19 ) by L1014 , L1028 , INTEGRA1:def 4;
L1040: ( lower_bound ( divset (R17 , D19) ) ) = ( R17 . ( D19 - 1 ) ) by L1014 , L1028 , INTEGRA1:def 4;
thus L1041: thesis by L1040 , L761 , L1014 , L1039 , L1032 , L1037 , L1038 , L1035 , INTEGRA1:def 19;
end;
end;
L1043: ( divset (R17 , D19) ) = [. ( lower_bound ( divset (R17 , D19) ) ) , ( upper_bound ( divset (R17 , D19) ) ) .] by INTEGRA1:4;
L1044: ( divset (R17 , D19) ) = ( divset (R18 , ( indx (R18 , R17 , D19) )) ) by L1043 , L1022 , INTEGRA1:4;
L1045: D19 in ( dom R17 ) by L1008 , L1012 , FINSEQ_3:25;
L1046: D14 in ( Seg ( len ( upper_volume (R20 , R17) ) ) ) by L768 , L1010 , FINSEQ_1:def 3;
L1047: D14 in ( dom ( upper_volume (R20 , R17) ) ) by L1046 , FINSEQ_1:def 3;
L1048: ( ( ( upper_volume (R20 , R17) ) | D14 ) . D19 ) = ( ( upper_volume (R20 , R17) ) . D19 ) by L1047 , L1016 , RFINSEQ:6
.= ( ( upper_bound ( rng ( R20 | ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ) ) ) * ( vol ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ) ) by L1045 , L1044 , INTEGRA1:def 6;
L1049: 1 <= ( indx (R18 , R17 , D19) ) by L966 , L1008 , L1011;
L1050: ( indx (R18 , R17 , D19) ) in ( dom R18 ) by L1049 , L1020 , FINSEQ_3:25;
L1051: ( ( ( upper_volume (R20 , R18) ) | ( indx (R18 , R17 , D14) ) ) . D19 ) = ( ( ( upper_volume (R20 , R18) ) | ( indx (R18 , R17 , D14) ) ) . ( indx (R18 , R17 , D19) ) ) by L966 , L1008 , L1011
.= ( ( upper_volume (R20 , R18) ) . ( indx (R18 , R17 , D19) ) ) by L1018 , L1007 , RFINSEQ:6
.= ( ( upper_bound ( rng ( R20 | ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ) ) ) * ( vol ( divset (R18 , ( indx (R18 , R17 , D19) )) ) ) ) by L1050 , INTEGRA1:def 6;
thus L1052: thesis by L1051 , L1048;
end;
L1053: ( indx (R18 , R17 , D14) ) in ( dom R18 ) by L761 , L768 , INTEGRA1:def 19;
L1054: ( indx (R18 , R17 , D14) ) <= ( len R18 ) by L1053 , FINSEQ_3:25;
L1055: ( indx (R18 , R17 , D14) ) <= ( len ( upper_volume (R20 , R18) ) ) by L1054 , INTEGRA1:def 6;
L1056: D14 in ( Seg ( len R17 ) ) by L768 , FINSEQ_1:def 3;
L1057: D14 <= ( len R17 ) by L1056 , FINSEQ_1:1;
L1058: D14 <= ( len ( upper_volume (R20 , R17) ) ) by L1057 , INTEGRA1:def 6;
L1059: ( len ( R18 | ( indx (R18 , R17 , D14) ) ) ) = ( len ( R17 | D14 ) ) by L772 , L963 , L964 , L284;
L1060: ( indx (R18 , R17 , D14) ) = D14 by L1059 , L802 , L801 , FINSEQ_1:59;
L1061: ( len ( ( upper_volume (R20 , R17) ) | D14 ) ) = ( indx (R18 , R17 , D14) ) by L1060 , L1058 , FINSEQ_1:59;
L1062: ( len ( ( upper_volume (R20 , R17) ) | D14 ) ) = ( len ( ( upper_volume (R20 , R18) ) | ( indx (R18 , R17 , D14) ) ) ) by L1061 , L1055 , FINSEQ_1:59;
L1063: ( ( upper_volume (R20 , R18) ) | ( indx (R18 , R17 , D14) ) ) = ( ( upper_volume (R20 , R17) ) | D14 ) by L1062 , L1004 , FINSEQ_1:14;
L1064: D14 in ( Seg ( len R17 ) ) by L768 , FINSEQ_1:def 3;
L1065: D14 in ( Seg ( len ( upper_volume (R20 , R17) ) ) ) by L1064 , INTEGRA1:def 6;
L1066: D14 in ( dom ( upper_volume (R20 , R17) ) ) by L1065 , FINSEQ_1:def 3;
L1067: D13 < ( D13 + 1 ) by NAT_1:13;
L1068: D14 < D13 by L1067 , XREAL_1:19;
L1069: ( indx (R18 , R17 , D13) ) <= ( len R18 ) by L798 , FINSEQ_1:1;
L1070: ( indx (R18 , R17 , D13) ) <= ( len H4(R18) ) by L1069 , INTEGRA1:def 6;
L1071: ( indx (R18 , R17 , D13) ) in ( dom H4(R18) ) by L1070 , L799 , FINSEQ_3:25;
L1072: ( indx (R18 , R17 , D14) ) in ( Seg ( len R18 ) ) by L769 , FINSEQ_1:def 3;
L1073: ( indx (R18 , R17 , D14) ) in ( Seg ( len H4(R18) ) ) by L1072 , INTEGRA1:def 6;
L1074: ( indx (R18 , R17 , D14) ) in ( dom H4(R18) ) by L1073 , FINSEQ_1:def 3;
L1075: H5(R18 , ( indx (R18 , R17 , D14) )) = ( Sum ( H4(R18) | ( indx (R18 , R17 , D14) ) ) ) by L1074 , INTEGRA1:def 20;
L1076: ( H5(R18 , ( indx (R18 , R17 , D14) )) + ( Sum ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) ) = ( Sum ( ( H4(R18) | ( indx (R18 , R17 , D14) ) ) ^ ( mid (H4(R18) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) ) by L1075 , RVSUM_1:75
.= ( Sum ( ( mid (H4(R18) , 1 , ( indx (R18 , R17 , D14) )) ) ^ ( mid (H4(R18) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) ) by L770 , FINSEQ_6:116
.= ( Sum ( mid (H4(R18) , 1 , ( indx (R18 , R17 , D13) )) ) ) by L770 , L775 , L1070 , INTEGRA2:4
.= ( Sum ( H4(R18) | ( indx (R18 , R17 , D13) ) ) ) by L799 , FINSEQ_6:116;
L1077: ( H5(R18 , ( indx (R18 , R17 , D14) )) + ( Sum ( mid (( upper_volume (R20 , R18) ) , ( ( indx (R18 , R17 , D14) ) + 1 ) , ( indx (R18 , R17 , D13) )) ) ) ) = H5(R18 , ( indx (R18 , R17 , D13) )) by L1076 , L1071 , INTEGRA1:def 20;
L1078: 1 <= D13 by L763 , FINSEQ_1:1;
L1079: D13 in ( dom H4(R17) ) by L1078 , L960 , FINSEQ_3:25;
L1080: D14 in ( Seg ( len R17 ) ) by L768 , FINSEQ_1:def 3;
L1081: D14 in ( Seg ( len H4(R17) ) ) by L1080 , INTEGRA1:def 6;
L1082: D14 in ( dom H4(R17) ) by L1081 , FINSEQ_1:def 3;
L1083: H5(R17 , D14) = ( Sum ( H4(R17) | D14 ) ) by L1082 , INTEGRA1:def 20;
L1084: ( H5(R17 , D14) + ( Sum ( mid (H4(R17) , D13 , D13) ) ) ) = ( Sum ( ( H4(R17) | D14 ) ^ ( mid (H4(R17) , D13 , D13) ) ) ) by L1083 , RVSUM_1:75
.= ( Sum ( ( mid (H4(R17) , 1 , D14) ) ^ ( mid (H4(R17) , ( D14 + 1 ) , D13) ) ) ) by L961 , FINSEQ_6:116
.= ( Sum ( mid (H4(R17) , 1 , D13) ) ) by L961 , L960 , L1068 , INTEGRA2:4
.= ( Sum ( H4(R17) | D13 ) ) by L1078 , FINSEQ_6:116;
L1085: ( H5(R17 , D14) + ( Sum ( mid (( upper_volume (R20 , R17) ) , D13 , D13) ) ) ) = H5(R17 , D13) by L1084 , L1079 , INTEGRA1:def 20;
L1086: ( indx (R18 , R17 , D14) ) in ( Seg ( len R18 ) ) by L769 , FINSEQ_1:def 3;
L1087: ( indx (R18 , R17 , D14) ) in ( Seg ( len ( upper_volume (R20 , R18) ) ) ) by L1086 , INTEGRA1:def 6;
L1088: ( indx (R18 , R17 , D14) ) in ( dom ( upper_volume (R20 , R18) ) ) by L1087 , FINSEQ_1:def 3;
L1089: H5(R18 , ( indx (R18 , R17 , D14) )) = ( Sum ( ( upper_volume (R20 , R18) ) | ( indx (R18 , R17 , D14) ) ) ) by L1088 , INTEGRA1:def 20
.= H5(R17 , D14) by L1063 , L1066 , INTEGRA1:def 20;
thus L1090: thesis by L1089 , L804 , L1077 , L1085 , L796 , L959;
end;
L1091: (for R6 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R19 being (Function of R15 , ( REAL )) holds ((( vol R15 ) <> ( 0 ) & R6 in ( rng ( lower_sum_set R19 ) )) implies (ex B15 being (Division of R15) st (B15 in ( dom ( lower_sum_set R19 ) ) & R6 = ( ( lower_sum_set R19 ) . B15 ) & ( B15 . 1 ) > ( lower_bound R15 )))))))
proof
let R6 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R19 being (Function of R15 , ( REAL ));
assume L1092: ( vol R15 ) <> ( 0 );
assume L1093: R6 in ( rng ( lower_sum_set R19 ) );
consider C18 being (Element of ( divs R15 )) such that L1094: C18 in ( dom ( lower_sum_set R19 ) ) and L1095: R6 = ( ( lower_sum_set R19 ) . C18 ) by L1093 , PARTFUN1:3;
reconsider D21 = C18 as (Division of R15) by INTEGRA1:def 3;
L1096: ( rng D21 ) <> ( {} );
L1097: 1 in ( dom D21 ) by L1096 , FINSEQ_3:32;
L1098: ( len D21 ) in ( Seg ( len D21 ) ) by FINSEQ_1:3;
L1099:
now
per cases ;
suppose L1100: ( D21 . 1 ) <> ( lower_bound R15 );

L1101: ( D21 . 1 ) in R15 by L1097 , INTEGRA1:6;
L1102: ( lower_bound R15 ) <= ( D21 . 1 ) by L1101 , INTEGRA2:1;
L1103: ( D21 . 1 ) > ( lower_bound R15 ) by L1102 , L1100 , XXREAL_0:1;
thus L1104: thesis by L1103 , L1094 , L1095;
end;
suppose L1105: ( D21 . 1 ) = ( lower_bound R15 );

L1106: (ex B16 being (Division of R15) st (B16 in ( dom ( lower_sum_set R19 ) ) & R6 = ( ( lower_sum_set R19 ) . B16 ) & ( B16 . 1 ) > ( lower_bound R15 )))
proof
L1107: ( ( lower_volume (R19 , D21) ) . 1 ) = ( ( lower_bound ( rng ( R19 | ( divset (D21 , 1) ) ) ) ) * ( vol ( divset (D21 , 1) ) ) ) by L1097 , INTEGRA1:def 7;
L1108: ( vol R15 ) >= ( 0 ) by INTEGRA1:9;
L1109: ( ( upper_bound R15 ) - ( lower_bound R15 ) ) > ( 0 ) by L1108 , L1092 , INTEGRA1:def 5;
L1110: R6 = ( lower_sum (R19 , D21) ) by L1095 , INTEGRA1:def 11
.= ( Sum ( lower_volume (R19 , D21) ) ) by INTEGRA1:def 9
.= ( Sum ( ( ( lower_volume (R19 , D21) ) | 1 ) ^ ( ( lower_volume (R19 , D21) ) /^ 1 ) ) ) by RFINSEQ:8;
L1111: ( D21 . ( len D21 ) ) = ( upper_bound R15 ) by INTEGRA1:def 2;
L1112: ( len D21 ) in ( dom D21 ) by L1098 , FINSEQ_1:def 3;
L1113: ( len D21 ) > 1 by L1112 , L1097 , L1105 , L1111 , L1109 , SEQ_4:137 , XREAL_1:47;
reconsider D22 = ( D21 /^ 1 ) as  increasing (FinSequence of ( REAL )) by L1113 , INTEGRA1:34;
L1114: ( len D22 ) = ( ( len D21 ) - 1 ) by L1113 , RFINSEQ:def 1;
L1115: ( upper_bound R15 ) > ( lower_bound R15 ) by L1109 , XREAL_1:47;
L1116: ( len D22 ) <> ( 0 ) by L1115 , L1105 , L1114 , INTEGRA1:def 2;
reconsider D23 = D22 as non  empty  increasing (FinSequence of ( REAL )) by L1116;
L1117: ( len D23 ) in ( dom D23 ) by FINSEQ_5:6;
L1118: ( ( len D23 ) + 1 ) = ( len D21 ) by L1114;
L1119: ( D23 . ( len D23 ) ) = ( upper_bound R15 ) by L1118 , L1111 , L1113 , L1117 , RFINSEQ:def 1;
L1120: ( len D21 ) >= ( 1 + 1 ) by L1113 , NAT_1:13;
L1121: 2 <= ( len ( lower_volume (R19 , D21) ) ) by L1120 , INTEGRA1:def 7;
L1122: ( 1 + 1 ) <= ( len D21 ) by L1113 , NAT_1:13;
L1123: 2 in ( dom D21 ) by L1122 , FINSEQ_3:25;
L1124: ( D21 . 1 ) < ( D21 . 2 ) by L1123 , L1097 , SEQM_3:def 1;
L1125: ( rng D21 ) c= R15 by INTEGRA1:def 2;
L1126: ( rng D23 ) c= ( rng D21 ) by FINSEQ_5:33;
L1127: ( rng D23 ) c= R15 by L1126 , L1125 , XBOOLE_1:1;
reconsider D24 = D23 as (Division of R15) by L1127 , L1119 , INTEGRA1:def 2;
L1128: 1 in ( Seg 1 ) by FINSEQ_1:1;
L1129: 1 <= ( len ( lower_volume (R19 , D21) ) ) by L1113 , INTEGRA1:def 7;
L1130: ( len ( ( lower_volume (R19 , D21) ) | 1 ) ) = 1 by L1129 , FINSEQ_1:59;
L1131: 1 <= ( len ( lower_volume (R19 , D21) ) ) by L1113 , INTEGRA1:def 7;
L1132: ( len ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) ) = ( ( ( len ( lower_volume (R19 , D21) ) ) -' 2 ) + 1 ) by L1131 , L1121 , FINSEQ_6:118
.= ( ( ( len D21 ) -' 2 ) + 1 ) by INTEGRA1:def 7
.= ( ( ( len D21 ) - 2 ) + 1 ) by L1120 , XREAL_1:233
.= ( ( len D21 ) - 1 );
L1133: (for B17 being Nat holds ((1 <= B17 & B17 <= ( len ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) )) implies ( ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) . B17 ) = ( ( lower_volume (R19 , D24) ) . B17 )))
proof
let C19 being Nat;
assume that
L1134: 1 <= C19
and
L1135: C19 <= ( len ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) );
L1136: 1 <= ( C19 + 1 ) by NAT_1:12;
L1137: ( C19 + 1 ) <= ( len D21 ) by L1132 , L1135 , XREAL_1:19;
L1138: ( C19 + 1 ) in ( Seg ( len D21 ) ) by L1137 , L1136 , FINSEQ_1:1;
L1139: ( C19 + 1 ) in ( dom D21 ) by L1138 , FINSEQ_1:def 3;
L1140: ( divset (D21 , ( C19 + 1 )) ) = ( divset (D24 , C19) )
proof
L1141: ( C19 + 1 ) in ( dom D21 ) by L1138 , FINSEQ_1:def 3;
L1142: 1 <> ( C19 + 1 ) by L1134 , NAT_1:13;
L1143: ( upper_bound ( divset (D21 , ( C19 + 1 )) ) ) = ( D21 . ( C19 + 1 ) ) by L1142 , L1141 , INTEGRA1:def 4;
L1144: C19 in ( dom D24 ) by L1114 , L1132 , L1134 , L1135 , FINSEQ_3:25;
L1145: ( D24 . C19 ) = ( D21 . ( C19 + 1 ) ) by L1144 , L1113 , RFINSEQ:def 1;
L1146: ( lower_bound ( divset (D21 , ( C19 + 1 )) ) ) = ( D21 . ( ( C19 + 1 ) - 1 ) ) by L1142 , L1141 , INTEGRA1:def 4;
per cases ;
suppose L1147: C19 = 1;

L1148: ( upper_bound ( divset (D24 , C19) ) ) = ( D24 . C19 ) by L1147 , L1144 , INTEGRA1:def 4;
L1149: ( lower_bound ( divset (D24 , C19) ) ) = ( lower_bound R15 ) by L1144 , L1147 , INTEGRA1:def 4;
L1150: ( divset (D21 , ( C19 + 1 )) ) = [. ( lower_bound R15 ) , ( D24 . C19 ) .] by L1105 , L1143 , L1146 , L1145 , L1147 , INTEGRA1:4;
thus L1151: thesis by L1150 , L1149 , L1148 , INTEGRA1:4;
end;
suppose L1152: C19 <> 1;

L1153: ( C19 - 1 ) in ( dom D24 ) by L1152 , L1144 , INTEGRA1:7;
L1154: ( D24 . ( C19 - 1 ) ) = ( D21 . ( ( C19 - 1 ) + 1 ) ) by L1153 , L1113 , RFINSEQ:def 1
.= ( D21 . C19 );
L1155: ( upper_bound ( divset (D24 , C19) ) ) = ( D24 . C19 ) by L1144 , L1152 , INTEGRA1:def 4;
L1156: ( lower_bound ( divset (D24 , C19) ) ) = ( D24 . ( C19 - 1 ) ) by L1144 , L1152 , INTEGRA1:def 4;
L1157: ( divset (D21 , ( C19 + 1 )) ) = [. ( lower_bound ( divset (D24 , C19) ) ) , ( upper_bound ( divset (D24 , C19) ) ) .] by L1156 , L1143 , L1146 , L1145 , L1155 , L1154 , INTEGRA1:4;
thus L1158: thesis by L1157 , INTEGRA1:4;
end;
end;
L1160: C19 <= ( ( len ( lower_volume (R19 , D21) ) ) - 1 ) by L1132 , L1135 , INTEGRA1:def 7;
L1161: C19 <= ( ( ( len ( lower_volume (R19 , D21) ) ) - 2 ) + 1 ) by L1160;
L1162: C19 in ( NAT ) by ORDINAL1:def 12;
L1163: ( ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) . C19 ) = ( ( lower_volume (R19 , D21) ) . ( ( C19 + 2 ) - 1 ) ) by L1162 , L1121 , L1134 , L1161 , FINSEQ_6:122
.= ( ( lower_volume (R19 , D21) ) . ( C19 + 1 ) );
L1164: ( ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) . C19 ) = ( ( lower_bound ( rng ( R19 | ( divset (D21 , ( C19 + 1 )) ) ) ) ) * ( vol ( divset (D21 , ( C19 + 1 )) ) ) ) by L1163 , L1139 , INTEGRA1:def 7;
L1165: C19 in ( Seg ( len D24 ) ) by L1114 , L1132 , L1134 , L1135 , FINSEQ_1:1;
L1166: C19 in ( dom D24 ) by L1165 , FINSEQ_1:def 3;
thus L1167: thesis by L1166 , L1164 , L1140 , INTEGRA1:def 7;
end;
L1168: 1 in ( dom ( lower_volume (R19 , D21) ) ) by L1129 , FINSEQ_3:25;
L1169: ( ( ( lower_volume (R19 , D21) ) | 1 ) . 1 ) = ( ( lower_volume (R19 , D21) ) . 1 ) by L1168 , L1128 , RFINSEQ:6;
L1170: ( ( lower_volume (R19 , D21) ) | 1 ) = <* ( ( lower_volume (R19 , D21) ) . 1 ) *> by L1169 , L1130 , FINSEQ_1:40;
L1171: ( 2 -' 1 ) = ( 2 - 1 ) by XREAL_1:233
.= 1;
L1172: ( rng D24 ) <> ( {} );
L1173: 1 in ( dom D24 ) by L1172 , FINSEQ_3:32;
L1174: ( D24 . 1 ) = ( D21 . ( 1 + 1 ) ) by L1173 , L1113 , RFINSEQ:def 1
.= ( D21 . 2 );
L1175: D24 in ( divs R15 ) by INTEGRA1:def 3;
L1176: D24 in ( dom ( lower_sum_set R19 ) ) by L1175 , FUNCT_2:def 1;
L1177: ( len ( lower_volume (R19 , D21) ) ) >= 2 by L1120 , INTEGRA1:def 7;
L1178: ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) = ( ( lower_volume (R19 , D21) ) /^ 1 ) by L1177 , L1171 , FINSEQ_6:117;
L1179: ( len ( mid (( lower_volume (R19 , D21) ) , 2 , ( len ( lower_volume (R19 , D21) ) )) ) ) = ( len ( lower_volume (R19 , D24) ) ) by L1114 , L1132 , INTEGRA1:def 7;
L1180: ( ( lower_volume (R19 , D21) ) /^ 1 ) = ( lower_volume (R19 , D24) ) by L1179 , L1178 , L1133 , FINSEQ_1:14;
L1181: ( vol ( divset (D21 , 1) ) ) = ( ( upper_bound ( divset (D21 , 1) ) ) - ( lower_bound ( divset (D21 , 1) ) ) ) by INTEGRA1:def 5
.= ( ( upper_bound ( divset (D21 , 1) ) ) - ( lower_bound R15 ) ) by L1097 , INTEGRA1:def 4
.= ( ( D21 . 1 ) - ( lower_bound R15 ) ) by L1097 , INTEGRA1:def 4
.= ( 0 ) by L1105;
L1182: R6 = ( ( 0 ) + ( Sum ( lower_volume (R19 , D24) ) ) ) by L1181 , L1110 , L1170 , L1107 , L1180 , RVSUM_1:76
.= ( lower_sum (R19 , D24) ) by INTEGRA1:def 9;
L1183: R6 = ( ( lower_sum_set R19 ) . D24 ) by L1182 , INTEGRA1:def 11;
thus L1184: thesis by L1183 , L1105 , L1176 , L1174 , L1124;
end;
thus L1185: thesis by L1106;
end;
end;
thus L1187: thesis by L1099;
end;
theorem
L1188: (for R4 being Real holds (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds ((R7 in ( dom R16 ) & R8 in ( dom R16 ) & R7 <= R8 & R4 < ( ( mid (R16 , R7 , R8) ) . 1 )) implies (ex B18 being non  empty  closed_interval (Subset of ( REAL )) st (R4 = ( lower_bound B18 ) & ( upper_bound B18 ) = ( ( mid (R16 , R7 , R8) ) . ( len ( mid (R16 , R7 , R8) ) ) ) & ( mid (R16 , R7 , R8) ) is (Division of B18)))))))))
proof
let R4 being Real;
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
assume L1189: R7 in ( dom R16 );
assume L1190: R8 in ( dom R16 );
assume L1191: R7 <= R8;
consider C20 being non  empty  closed_interval (Subset of ( REAL )) such that L1192: ( lower_bound C20 ) = ( ( mid (R16 , R7 , R8) ) . 1 ) and L1193: ( upper_bound C20 ) = ( ( mid (R16 , R7 , R8) ) . ( len ( mid (R16 , R7 , R8) ) ) ) and L1194: ( mid (R16 , R7 , R8) ) is (Division of C20) by L1191 , L1189 , L1190 , INTEGRA1:36;
reconsider D25 = ( mid (R16 , R7 , R8) ) as non  empty  increasing (FinSequence of ( REAL )) by L1194;
assume L1195: R4 < ( ( mid (R16 , R7 , R8) ) . 1 );
L1196: (ex R1 being Real st (ex R2 being Real st (R1 <= R2 & R1 = ( lower_bound C20 ) & R2 = ( upper_bound C20 )))) by SEQ_4:11;
L1197: R4 <= ( upper_bound C20 ) by L1196 , L1195 , L1192 , XXREAL_0:2;
reconsider D26 = [. R4 , ( upper_bound C20 ) .] as non  empty  closed_interval (Subset of ( REAL )) by L1197 , MEASURE5:14;
L1198: D26 = [. ( lower_bound D26 ) , ( upper_bound D26 ) .] by INTEGRA1:4;
L1199: ( lower_bound D26 ) = R4 by L1198 , INTEGRA1:5;
L1200: ( upper_bound D26 ) = ( upper_bound C20 ) by L1198 , INTEGRA1:5;
L1201: (for R5 being Real holds (R5 in C20 implies R5 in D26))
proof
let R5 being Real;
assume L1202: R5 in C20;
L1203: ( lower_bound C20 ) <= R5 by L1202 , INTEGRA2:1;
L1204: R4 <= R5 by L1203 , L1195 , L1192 , XXREAL_0:2;
L1205: R5 <= ( upper_bound C20 ) by L1202 , INTEGRA2:1;
thus L1206: thesis by L1205 , L1199 , L1200 , L1204 , INTEGRA2:1;
end;
L1207: C20 c= D26 by L1201 , SUBSET_1:2;
L1208: ( rng ( mid (R16 , R7 , R8) ) ) c= C20 by L1194 , INTEGRA1:def 2;
L1209: ( rng ( mid (R16 , R7 , R8) ) ) c= D26 by L1208 , L1207 , XBOOLE_1:1;
L1210: D25 is (Division of D26) by L1209 , L1193 , L1200 , INTEGRA1:def 2;
thus L1211: thesis by L1210 , L1193 , L1199 , L1200;
end;
L1212: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds ((( vol R15 ) <> ( 0 ) & ( len R17 ) = 1) implies ( <* ( lower_bound R15 ) *> ^ R17 ) is non  empty  increasing non  empty  increasing non  empty  increasing non  empty  increasing (FinSequence of ( REAL )))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
assume L1213: ( vol R15 ) <> ( 0 );
set D27 = ( <* ( lower_bound R15 ) *> ^ R17 );
L1214: ( vol R15 ) >= ( 0 ) by INTEGRA1:9;
assume L1215: ( len R17 ) = 1;
L1216: ( R17 . 1 ) = ( upper_bound R15 ) by L1215 , INTEGRA1:def 2;
L1217: ( ( R17 . 1 ) - ( lower_bound R15 ) ) > ( 0 ) by L1216 , L1213 , L1214 , INTEGRA1:def 5;
L1218: ( lower_bound R15 ) < ( R17 . 1 ) by L1217 , XREAL_1:47;
L1219: (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds ((R10 in ( dom D27 ) & R11 in ( dom D27 ) & R10 < R11) implies ( D27 . R10 ) < ( D27 . R11 ))))
proof
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
assume that
L1220: R10 in ( dom D27 )
and
L1221: R11 in ( dom D27 )
and
L1222: R10 < R11;
L1223: (not R11 in ( dom <* ( lower_bound R15 ) *> ))
proof
assume L1224: R11 in ( dom <* ( lower_bound R15 ) *> );
L1225: R11 in ( Seg ( len <* ( lower_bound R15 ) *> ) ) by L1224 , FINSEQ_1:def 3;
L1226: R11 in { 1 } by L1225 , FINSEQ_1:2 , FINSEQ_1:39;
L1227: R10 < 1 by L1226 , L1222 , TARSKI:def 1;
L1228: R10 in ( Seg ( len D27 ) ) by L1220 , FINSEQ_1:def 3;
thus L1229: contradiction by L1228 , L1227 , FINSEQ_1:1;
end;
L1230: (not ( D27 . R11 ) in ( rng <* ( lower_bound R15 ) *> ))
proof
assume L1231: ( D27 . R11 ) in ( rng <* ( lower_bound R15 ) *> );
L1232: ( D27 . R11 ) in { ( lower_bound R15 ) } by L1231 , FINSEQ_1:38;
L1233: ( D27 . R11 ) = ( lower_bound R15 ) by L1232 , TARSKI:def 1;
L1234: ( rng R17 ) <> ( {} );
L1235: 1 in ( dom R17 ) by L1234 , FINSEQ_3:32;
consider C21 being Nat such that L1236: C21 in ( dom R17 ) and L1237: R11 = ( ( len <* ( lower_bound R15 ) *> ) + C21 ) by L1221 , L1223 , FINSEQ_1:25;
L1238: C21 in ( Seg ( len R17 ) ) by L1236 , FINSEQ_1:def 3;
L1239: 1 <= C21 by L1238 , FINSEQ_1:1;
L1240: ( R17 . C21 ) = ( D27 . R11 ) by L1236 , L1237 , FINSEQ_1:def 7;
thus L1241: contradiction by L1240 , L1217 , L1233 , L1236 , L1239 , L1235 , SEQ_4:137 , XREAL_1:47;
end;
L1242: ( D27 . R11 ) in ( rng D27 ) by L1221 , FUNCT_1:def 3;
L1243: ( D27 . R11 ) in ( ( rng <* ( lower_bound R15 ) *> ) \/ ( rng R17 ) ) by L1242 , FINSEQ_1:31;
L1244: ( D27 . R11 ) in ( rng R17 ) by L1243 , L1230 , XBOOLE_0:def 3;
L1245:
now
per cases  by L1220 , FINSEQ_1:25;
suppose L1246: R10 in ( dom <* ( lower_bound R15 ) *> );

L1247: R10 in ( Seg ( len <* ( lower_bound R15 ) *> ) ) by L1246 , FINSEQ_1:def 3;
L1248: R10 in { 1 } by L1247 , FINSEQ_1:2 , FINSEQ_1:39;
L1249: R10 = 1 by L1248 , TARSKI:def 1;
L1250: ( D27 . R10 ) = ( <* ( lower_bound R15 ) *> . R10 ) by L1246 , FINSEQ_1:def 7
.= ( lower_bound R15 ) by L1249 , FINSEQ_1:def 8;
L1251: ( rng R17 ) <> ( {} );
L1252: 1 in ( dom R17 ) by L1251 , FINSEQ_3:32;
consider R9 being (Element of ( NAT )) such that L1253: R9 in ( dom R17 ) and L1254: ( D27 . R11 ) = ( R17 . R9 ) by L1244 , PARTFUN1:3;
L1255: 1 <= R9 by L1253 , FINSEQ_3:25;
L1256: ( R17 . 1 ) <= ( D27 . R11 ) by L1255 , L1253 , L1254 , L1252 , SEQ_4:137;
thus L1257: thesis by L1256 , L1218 , L1250 , XXREAL_0:2;
end;
suppose L1258: (ex B19 being Nat st (B19 in ( dom R17 ) & R10 = ( ( len <* ( lower_bound R15 ) *> ) + B19 )));

consider R7 being (Element of ( NAT )) such that L1259: R7 in ( dom R17 ) and L1260: R10 = ( ( len <* ( lower_bound R15 ) *> ) + R7 ) by L1258;
L1261: ( R17 . R7 ) = ( D27 . R10 ) by L1259 , L1260 , FINSEQ_1:def 7;
consider C22 being Nat such that L1262: C22 in ( dom R17 ) and L1263: R11 = ( ( len <* ( lower_bound R15 ) *> ) + C22 ) by L1221 , L1223 , FINSEQ_1:25;
L1264: ( R17 . C22 ) = ( D27 . R11 ) by L1262 , L1263 , FINSEQ_1:def 7;
L1265: R7 < C22 by L1222 , L1260 , L1263 , XREAL_1:6;
thus L1266: thesis by L1265 , L1259 , L1262 , L1261 , L1264 , SEQM_3:def 1;
end;
end;
thus L1268: thesis by L1245;
end;
thus L1269: thesis by L1219 , SEQM_3:def 1;
end;
L1270: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R18 being (Division of R15) holds (( lower_bound R15 ) < ( R18 . 1 ) implies ( <* ( lower_bound R15 ) *> ^ R18 ) is non  empty  increasing non  empty  increasing non  empty  increasing non  empty  increasing (FinSequence of ( REAL )))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R18 being (Division of R15);
set D28 = ( <* ( lower_bound R15 ) *> ^ R18 );
assume L1271: ( lower_bound R15 ) < ( R18 . 1 );
L1272: (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds ((R10 in ( dom D28 ) & R11 in ( dom D28 ) & R10 < R11) implies ( D28 . R10 ) < ( D28 . R11 ))))
proof
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
assume that
L1273: R10 in ( dom D28 )
and
L1274: R11 in ( dom D28 )
and
L1275: R10 < R11;
L1276: (not R11 in ( dom <* ( lower_bound R15 ) *> ))
proof
assume L1277: R11 in ( dom <* ( lower_bound R15 ) *> );
L1278: R11 in ( Seg ( len <* ( lower_bound R15 ) *> ) ) by L1277 , FINSEQ_1:def 3;
L1279: R11 in { 1 } by L1278 , FINSEQ_1:2 , FINSEQ_1:39;
L1280: R10 < 1 by L1279 , L1275 , TARSKI:def 1;
L1281: R10 in ( Seg ( len D28 ) ) by L1273 , FINSEQ_1:def 3;
thus L1282: contradiction by L1281 , L1280 , FINSEQ_1:1;
end;
L1283: (not ( D28 . R11 ) in ( rng <* ( lower_bound R15 ) *> ))
proof
assume L1284: ( D28 . R11 ) in ( rng <* ( lower_bound R15 ) *> );
L1285: ( D28 . R11 ) in { ( lower_bound R15 ) } by L1284 , FINSEQ_1:38;
L1286: ( D28 . R11 ) = ( lower_bound R15 ) by L1285 , TARSKI:def 1;
L1287: ( rng R18 ) <> ( {} );
L1288: 1 in ( dom R18 ) by L1287 , FINSEQ_3:32;
consider C23 being Nat such that L1289: C23 in ( dom R18 ) and L1290: R11 = ( ( len <* ( lower_bound R15 ) *> ) + C23 ) by L1274 , L1276 , FINSEQ_1:25;
L1291: C23 in ( Seg ( len R18 ) ) by L1289 , FINSEQ_1:def 3;
L1292: 1 <= C23 by L1291 , FINSEQ_1:1;
L1293: ( R18 . C23 ) = ( D28 . R11 ) by L1289 , L1290 , FINSEQ_1:def 7;
thus L1294: contradiction by L1293 , L1271 , L1286 , L1289 , L1292 , L1288 , SEQ_4:137;
end;
L1295: ( D28 . R11 ) in ( rng D28 ) by L1274 , FUNCT_1:def 3;
L1296: ( D28 . R11 ) in ( ( rng <* ( lower_bound R15 ) *> ) \/ ( rng R18 ) ) by L1295 , FINSEQ_1:31;
L1297: (( D28 . R11 ) in ( rng <* ( lower_bound R15 ) *> ) or ( D28 . R11 ) in ( rng R18 )) by L1296 , XBOOLE_0:def 3;
L1298:
now
per cases  by L1273 , FINSEQ_1:25;
suppose L1299: R10 in ( dom <* ( lower_bound R15 ) *> );

L1300: R10 in ( Seg ( len <* ( lower_bound R15 ) *> ) ) by L1299 , FINSEQ_1:def 3;
L1301: R10 in { 1 } by L1300 , FINSEQ_1:2 , FINSEQ_1:39;
L1302: R10 = 1 by L1301 , TARSKI:def 1;
L1303: ( D28 . R10 ) = ( <* ( lower_bound R15 ) *> . R10 ) by L1299 , FINSEQ_1:def 7
.= ( lower_bound R15 ) by L1302 , FINSEQ_1:def 8;
L1304: ( rng R18 ) <> ( {} );
L1305: 1 in ( dom R18 ) by L1304 , FINSEQ_3:32;
consider R9 being (Element of ( NAT )) such that L1306: R9 in ( dom R18 ) and L1307: ( D28 . R11 ) = ( R18 . R9 ) by L1297 , L1283 , PARTFUN1:3;
L1308: R9 in ( Seg ( len R18 ) ) by L1306 , FINSEQ_1:def 3;
L1309: 1 <= R9 by L1308 , FINSEQ_1:1;
L1310: ( R18 . 1 ) <= ( D28 . R11 ) by L1309 , L1306 , L1307 , L1305 , SEQ_4:137;
thus L1311: thesis by L1310 , L1271 , L1303 , XXREAL_0:2;
end;
suppose L1312: (ex B20 being Nat st (B20 in ( dom R18 ) & R10 = ( ( len <* ( lower_bound R15 ) *> ) + B20 )));

consider R7 being (Element of ( NAT )) such that L1313: R7 in ( dom R18 ) and L1314: R10 = ( ( len <* ( lower_bound R15 ) *> ) + R7 ) by L1312;
L1315: ( R18 . R7 ) = ( D28 . R10 ) by L1313 , L1314 , FINSEQ_1:def 7;
consider C24 being Nat such that L1316: C24 in ( dom R18 ) and L1317: R11 = ( ( len <* ( lower_bound R15 ) *> ) + C24 ) by L1274 , L1276 , FINSEQ_1:25;
L1318: ( R18 . C24 ) = ( D28 . R11 ) by L1316 , L1317 , FINSEQ_1:def 7;
L1319: R7 < C24 by L1275 , L1314 , L1317 , XREAL_1:6;
thus L1320: thesis by L1319 , L1313 , L1316 , L1315 , L1318 , SEQM_3:def 1;
end;
end;
thus L1322: thesis by L1298;
end;
thus L1323: thesis by L1272 , SEQM_3:def 1;
end;
L1324: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R19 being (Function of R15 , ( REAL )) holds (for B21 being (Division of R15) holds (B21 = ( <* ( lower_bound R15 ) *> ^ R17 ) implies ((for R7 being (Element of ( NAT )) holds (R7 in ( Seg ( len R17 ) ) implies ( divset (B21 , ( R7 + 1 )) ) = ( divset (R17 , R7) ))) & ( upper_volume (R19 , R17) ) = ( ( upper_volume (R19 , B21) ) /^ 1 ) & ( lower_volume (R19 , R17) ) = ( ( lower_volume (R19 , B21) ) /^ 1 )))))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R19 being (Function of R15 , ( REAL ));
let C25 being (Division of R15);
assume L1325: C25 = ( <* ( lower_bound R15 ) *> ^ R17 );
thus L1326: (for R7 being (Element of ( NAT )) holds (R7 in ( Seg ( len R17 ) ) implies ( divset (C25 , ( R7 + 1 )) ) = ( divset (R17 , R7) )))
proof
let R7 being (Element of ( NAT ));
assume L1327: R7 in ( Seg ( len R17 ) );
L1328: R7 in ( dom R17 ) by L1327 , FINSEQ_1:def 3;
L1329: R7 <= ( len R17 ) by L1327 , FINSEQ_1:1;
L1330: ( R7 + 1 ) <= ( ( len R17 ) + 1 ) by L1329 , XREAL_1:6;
L1331: ( R7 + 1 ) <= ( ( len R17 ) + ( len <* ( lower_bound R15 ) *> ) ) by L1330 , FINSEQ_1:39;
L1332: ( R7 + 1 ) <= ( len C25 ) by L1331 , L1325 , FINSEQ_1:22;
L1333: 1 <= ( R7 + 1 ) by NAT_1:11;
L1334: ( R7 + 1 ) in ( dom C25 ) by L1333 , L1332 , FINSEQ_3:25;
L1335: 1 <= R7 by L1327 , FINSEQ_1:1;
L1336: (( lower_bound ( divset (R17 , R7) ) ) = ( lower_bound ( divset (C25 , ( R7 + 1 )) ) ) & ( upper_bound ( divset (R17 , R7) ) ) = ( upper_bound ( divset (C25 , ( R7 + 1 )) ) ))
proof
per cases ;
suppose L1337: R7 = 1;

L1338: ( R7 + 1 ) > 1 by L1335 , NAT_1:13;
L1339: ( lower_bound ( divset (C25 , ( R7 + 1 )) ) ) = ( C25 . ( ( R7 + 1 ) - 1 ) ) by L1338 , L1334 , INTEGRA1:def 4;
L1340: ( lower_bound ( divset (C25 , ( R7 + 1 )) ) ) = ( lower_bound R15 ) by L1339 , L1325 , L1337 , FINSEQ_1:41;
L1341: ( C25 . ( R7 + 1 ) ) = ( C25 . ( R7 + ( len <* ( lower_bound R15 ) *> ) ) ) by FINSEQ_1:40
.= ( R17 . R7 ) by L1325 , L1328 , FINSEQ_1:def 7;
L1342: ( upper_bound ( divset (C25 , ( R7 + 1 )) ) ) = ( C25 . ( R7 + 1 ) ) by L1334 , L1338 , INTEGRA1:def 4;
thus L1343: thesis by L1342 , L1328 , L1337 , L1340 , L1341 , INTEGRA1:def 4;
end;
suppose L1344: R7 <> 1;

L1345: ( R7 + 1 ) > 1 by L1335 , NAT_1:13;
L1346: ( C25 . ( R7 + 1 ) ) = ( C25 . ( R7 + ( len <* ( lower_bound R15 ) *> ) ) ) by FINSEQ_1:40
.= ( R17 . R7 ) by L1325 , L1328 , FINSEQ_1:def 7;
L1347: ( upper_bound ( divset (C25 , ( R7 + 1 )) ) ) = ( R17 . R7 ) by L1346 , L1334 , L1345 , INTEGRA1:def 4
.= ( upper_bound ( divset (R17 , R7) ) ) by L1328 , L1344 , INTEGRA1:def 4;
L1348: ( R7 - 1 ) in ( dom R17 ) by L1328 , L1344 , INTEGRA1:7;
L1349: ( R17 . ( R7 - 1 ) ) = ( C25 . ( ( R7 - 1 ) + ( len <* ( lower_bound R15 ) *> ) ) ) by L1348 , L1325 , FINSEQ_1:def 7
.= ( C25 . ( ( R7 - 1 ) + 1 ) ) by FINSEQ_1:39
.= ( C25 . ( ( R7 + 1 ) - 1 ) );
L1350: ( lower_bound ( divset (R17 , R7) ) ) = ( C25 . ( ( R7 + 1 ) - 1 ) ) by L1349 , L1328 , L1344 , INTEGRA1:def 4
.= ( lower_bound ( divset (C25 , ( R7 + 1 )) ) ) by L1334 , L1345 , INTEGRA1:def 4;
thus L1351: thesis by L1350 , L1347;
end;
end;
L1353: ( divset (R17 , R7) ) = [. ( lower_bound ( divset (R17 , R7) ) ) , ( upper_bound ( divset (R17 , R7) ) ) .] by INTEGRA1:4;
thus L1354: thesis by L1353 , L1336 , INTEGRA1:4;
end;

L1355: ( len C25 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by L1325 , FINSEQ_1:22
.= ( 1 + ( len R17 ) ) by FINSEQ_1:39;
thus L1356: ( upper_volume (R19 , R17) ) = ( ( upper_volume (R19 , C25) ) /^ 1 )
proof
set D29 = R17;
set D30 = C25;
L1357: ( rng ( upper_volume (R19 , D30) ) ) <> ( {} );
L1358: 1 in ( dom ( upper_volume (R19 , D30) ) ) by L1357 , FINSEQ_3:32;
L1359: 1 <= ( len ( upper_volume (R19 , D30) ) ) by L1358 , FINSEQ_3:25;
L1360: ( len ( ( upper_volume (R19 , D30) ) /^ 1 ) ) = ( ( len ( upper_volume (R19 , D30) ) ) - 1 ) by L1359 , RFINSEQ:def 1
.= ( ( len D30 ) - 1 ) by INTEGRA1:def 6
.= ( len D29 ) by L1355;
L1361: ( len ( upper_volume (R19 , D29) ) ) = ( len ( ( upper_volume (R19 , D30) ) /^ 1 ) ) by L1360 , INTEGRA1:def 6;
L1362: (for B22 being Nat holds ((1 <= B22 & B22 <= ( len ( upper_volume (R19 , D29) ) )) implies ( ( upper_volume (R19 , D29) ) . B22 ) = ( ( ( upper_volume (R19 , D30) ) /^ 1 ) . B22 )))
proof
let C26 being Nat;
assume that
L1363: 1 <= C26
and
L1364: C26 <= ( len ( upper_volume (R19 , D29) ) );
L1365: ( C26 + 1 ) <= ( ( len ( upper_volume (R19 , D29) ) ) + 1 ) by L1364 , XREAL_1:6;
L1366: ( C26 + 1 ) <= ( ( len D29 ) + 1 ) by L1365 , INTEGRA1:def 6;
L1367: C26 in ( Seg ( len ( upper_volume (R19 , D29) ) ) ) by L1363 , L1364 , FINSEQ_1:1;
L1368: C26 in ( Seg ( len D29 ) ) by L1367 , INTEGRA1:def 6;
L1369: C26 in ( dom D29 ) by L1368 , FINSEQ_1:def 3;
L1370: ( ( upper_volume (R19 , D29) ) . C26 ) = ( ( upper_bound ( rng ( R19 | ( divset (D29 , C26) ) ) ) ) * ( vol ( divset (D29 , C26) ) ) ) by L1369 , INTEGRA1:def 6
.= ( ( upper_bound ( rng ( R19 | ( divset (D30 , ( C26 + 1 )) ) ) ) ) * ( vol ( divset (D29 , C26) ) ) ) by L1326 , L1368
.= ( ( upper_bound ( rng ( R19 | ( divset (D30 , ( C26 + 1 )) ) ) ) ) * ( vol ( divset (D30 , ( C26 + 1 )) ) ) ) by L1326 , L1368;
L1371: ( len ( ( upper_volume (R19 , D30) ) /^ 1 ) ) <= ( len ( upper_volume (R19 , D30) ) ) by FINSEQ_5:25;
L1372: 1 <= ( C26 + 1 ) by NAT_1:11;
L1373: ( C26 + 1 ) in ( Seg ( len D30 ) ) by L1372 , L1355 , L1366 , FINSEQ_1:1;
L1374: ( C26 + 1 ) in ( dom D30 ) by L1373 , FINSEQ_1:def 3;
L1375: 1 <= ( len ( upper_volume (R19 , D29) ) ) by L1363 , L1364 , XXREAL_0:2;
L1376: 1 <= ( len ( upper_volume (R19 , D30) ) ) by L1375 , L1361 , L1371 , XXREAL_0:2;
L1377: C26 in ( dom ( ( upper_volume (R19 , D30) ) /^ 1 ) ) by L1361 , L1363 , L1364 , FINSEQ_3:25;
L1378: ( ( ( upper_volume (R19 , D30) ) /^ 1 ) . C26 ) = ( ( upper_volume (R19 , D30) ) . ( C26 + 1 ) ) by L1377 , L1376 , RFINSEQ:def 1
.= ( ( upper_bound ( rng ( R19 | ( divset (D30 , ( C26 + 1 )) ) ) ) ) * ( vol ( divset (D30 , ( C26 + 1 )) ) ) ) by L1374 , INTEGRA1:def 6;
thus L1379: thesis by L1378 , L1370;
end;
thus L1380: thesis by L1362 , L1361 , FINSEQ_1:14;
end;

L1381: ( rng ( lower_volume (R19 , C25) ) ) <> ( {} );
L1382: 1 in ( dom ( lower_volume (R19 , C25) ) ) by L1381 , FINSEQ_3:32;
L1383: 1 <= ( len ( lower_volume (R19 , C25) ) ) by L1382 , FINSEQ_3:25;
L1384: ( len ( ( lower_volume (R19 , C25) ) /^ 1 ) ) = ( ( len ( lower_volume (R19 , C25) ) ) - 1 ) by L1383 , RFINSEQ:def 1
.= ( ( len C25 ) - 1 ) by INTEGRA1:def 7
.= ( len R17 ) by L1355;
L1385: ( len ( lower_volume (R19 , R17) ) ) = ( len ( ( lower_volume (R19 , C25) ) /^ 1 ) ) by L1384 , INTEGRA1:def 7;
L1386: (for B23 being Nat holds ((1 <= B23 & B23 <= ( len ( lower_volume (R19 , R17) ) )) implies ( ( lower_volume (R19 , R17) ) . B23 ) = ( ( ( lower_volume (R19 , C25) ) /^ 1 ) . B23 )))
proof
let C27 being Nat;
assume that
L1387: 1 <= C27
and
L1388: C27 <= ( len ( lower_volume (R19 , R17) ) );
L1389: 1 <= ( C27 + 1 ) by NAT_1:11;
L1390: C27 in ( Seg ( len ( lower_volume (R19 , R17) ) ) ) by L1387 , L1388 , FINSEQ_1:1;
L1391: C27 in ( Seg ( len R17 ) ) by L1390 , INTEGRA1:def 7;
L1392: C27 in ( dom R17 ) by L1391 , FINSEQ_1:def 3;
L1393: ( ( lower_volume (R19 , R17) ) . C27 ) = ( ( lower_bound ( rng ( R19 | ( divset (R17 , C27) ) ) ) ) * ( vol ( divset (R17 , C27) ) ) ) by L1392 , INTEGRA1:def 7
.= ( ( lower_bound ( rng ( R19 | ( divset (C25 , ( C27 + 1 )) ) ) ) ) * ( vol ( divset (R17 , C27) ) ) ) by L1326 , L1391
.= ( ( lower_bound ( rng ( R19 | ( divset (C25 , ( C27 + 1 )) ) ) ) ) * ( vol ( divset (C25 , ( C27 + 1 )) ) ) ) by L1326 , L1391;
L1394: ( len ( ( lower_volume (R19 , C25) ) /^ 1 ) ) <= ( len ( lower_volume (R19 , C25) ) ) by FINSEQ_5:25;
L1395: ( C27 + 1 ) <= ( ( len ( lower_volume (R19 , R17) ) ) + 1 ) by L1388 , XREAL_1:6;
L1396: ( C27 + 1 ) <= ( ( len R17 ) + 1 ) by L1395 , INTEGRA1:def 7;
L1397: ( len C25 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by L1325 , FINSEQ_1:22
.= ( ( len R17 ) + 1 ) by FINSEQ_1:39;
L1398: ( C27 + 1 ) in ( Seg ( len C25 ) ) by L1397 , L1389 , L1396 , FINSEQ_1:1;
L1399: ( C27 + 1 ) in ( dom C25 ) by L1398 , FINSEQ_1:def 3;
L1400: 1 <= ( len ( ( lower_volume (R19 , C25) ) /^ 1 ) ) by L1385 , L1387 , L1388 , XXREAL_0:2;
L1401: 1 <= ( len ( lower_volume (R19 , C25) ) ) by L1400 , L1394 , XXREAL_0:2;
L1402: C27 in ( dom ( ( lower_volume (R19 , C25) ) /^ 1 ) ) by L1385 , L1387 , L1388 , FINSEQ_3:25;
L1403: ( ( ( lower_volume (R19 , C25) ) /^ 1 ) . C27 ) = ( ( lower_volume (R19 , C25) ) . ( C27 + 1 ) ) by L1402 , L1401 , RFINSEQ:def 1
.= ( ( lower_bound ( rng ( R19 | ( divset (C25 , ( C27 + 1 )) ) ) ) ) * ( vol ( divset (C25 , ( C27 + 1 )) ) ) ) by L1399 , INTEGRA1:def 7;
thus L1404: thesis by L1403 , L1393;
end;
thus L1405: thesis by L1386 , L1385 , FINSEQ_1:14;
end;
L1406: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R18 being (Division of R15) holds (for B24 being (Division of R15) holds (B24 = ( <* ( lower_bound R15 ) *> ^ R18 ) implies ( vol ( divset (B24 , 1) ) ) = ( 0 )))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R18 being (Division of R15);
let C28 being (Division of R15);
assume L1407: C28 = ( <* ( lower_bound R15 ) *> ^ R18 );
L1408: ( rng C28 ) <> ( {} );
L1409: 1 in ( dom C28 ) by L1408 , FINSEQ_3:32;
L1410: ( upper_bound ( divset (C28 , 1) ) ) = ( C28 . 1 ) by L1409 , INTEGRA1:def 4;
L1411: ( lower_bound ( divset (C28 , 1) ) ) = ( lower_bound R15 ) by L1409 , INTEGRA1:def 4;
L1412: ( vol ( divset (C28 , 1) ) ) = ( ( C28 . 1 ) - ( lower_bound R15 ) ) by L1411 , L1410 , INTEGRA1:def 5
.= ( ( lower_bound R15 ) - ( lower_bound R15 ) ) by L1407 , FINSEQ_1:41;
thus L1413: thesis by L1412;
end;
L1414: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for B25 being (Division of R15) holds (B25 = ( <* ( lower_bound R15 ) *> ^ R17 ) implies ( delta B25 ) = ( delta R17 )))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let C29 being (Division of R15);
assume L1415: C29 = ( <* ( lower_bound R15 ) *> ^ R17 );
L1416: ( vol ( divset (C29 , 1) ) ) = ( 0 ) by L1415 , L1406;
L1417: ( delta R17 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by XXREAL_2:def 8;
consider R7 being (Element of ( NAT )) such that L1418: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) and L1419: ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . R7 ) = ( delta R17 ) by L1417 , PARTFUN1:3;
L1420: ( delta C29 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , C29) ) ) by XXREAL_2:def 8;
consider R8 being (Element of ( NAT )) such that L1421: R8 in ( dom ( upper_volume (( chi (R15 , R15) ) , C29) ) ) and L1422: ( ( upper_volume (( chi (R15 , R15) ) , C29) ) . R8 ) = ( delta C29 ) by L1420 , PARTFUN1:3;
L1423: R8 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , C29) ) ) ) by L1421 , FINSEQ_1:def 3;
L1424: R8 in ( Seg ( len C29 ) ) by L1423 , INTEGRA1:def 6;
L1425: R8 in ( dom C29 ) by L1424 , FINSEQ_1:def 3;
L1426: ( delta C29 ) = ( ( upper_bound ( rng ( ( chi (R15 , R15) ) | ( divset (C29 , R8) ) ) ) ) * ( vol ( divset (C29 , R8) ) ) ) by L1425 , L1422 , INTEGRA1:def 6;
L1427: ( delta C29 ) <= ( delta R17 )
proof
per cases ;
suppose L1428: R8 = 1;

thus L1429: thesis by L1428 , L1416 , L1426 , L314;
end;
suppose L1430: R8 <> 1;

L1431: (not R8 in ( Seg 1 )) by L1430 , FINSEQ_1:2 , TARSKI:def 1;
L1432: (not R8 in ( Seg ( len <* ( lower_bound R15 ) *> ) )) by L1431 , FINSEQ_1:39;
L1433: (not R8 in ( dom <* ( lower_bound R15 ) *> )) by L1432 , FINSEQ_1:def 3;
L1434: R8 in ( dom C29 ) by L1424 , FINSEQ_1:def 3;
consider C30 being Nat such that L1435: C30 in ( dom R17 ) and L1436: R8 = ( ( len <* ( lower_bound R15 ) *> ) + C30 ) by L1434 , L1415 , L1433 , FINSEQ_1:25;
L1437: C30 in ( Seg ( len R17 ) ) by L1435 , FINSEQ_1:def 3;
L1438: ( divset (R17 , C30) ) = ( divset (C29 , ( C30 + 1 )) ) by L1437 , L1415 , L1324
.= ( divset (C29 , R8) ) by L1436 , FINSEQ_1:39;
L1439: ( delta C29 ) = ( ( upper_bound ( rng ( ( chi (R15 , R15) ) | ( divset (R17 , C30) ) ) ) ) * ( vol ( divset (R17 , C30) ) ) ) by L1438 , L1422 , L1425 , INTEGRA1:def 6;
L1440: ( delta C29 ) = ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . C30 ) by L1439 , L1435 , INTEGRA1:def 6;
L1441: C30 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L1437 , INTEGRA1:def 6;
L1442: C30 in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L1441 , FINSEQ_1:def 3;
L1443: ( delta C29 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L1442 , L1440 , FUNCT_1:def 3;
thus L1444: thesis by L1443 , XXREAL_2:def 8;
end;
end;
L1446: R7 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L1418 , FINSEQ_1:def 3;
L1447: R7 in ( Seg ( len R17 ) ) by L1446 , INTEGRA1:def 6;
L1448: R7 in ( dom R17 ) by L1447 , FINSEQ_1:def 3;
L1449: ( ( len <* ( lower_bound R15 ) *> ) + R7 ) in ( dom C29 ) by L1448 , L1415 , FINSEQ_1:28;
L1450: ( R7 + 1 ) in ( dom C29 ) by L1449 , FINSEQ_1:39;
L1451: ( R7 + 1 ) in ( Seg ( len C29 ) ) by L1450 , FINSEQ_1:def 3;
L1452: ( R7 + 1 ) in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , C29) ) ) ) by L1451 , INTEGRA1:def 6;
L1453: ( R7 + 1 ) in ( dom ( upper_volume (( chi (R15 , R15) ) , C29) ) ) by L1452 , FINSEQ_1:def 3;
L1454: R7 in ( dom R17 ) by L1447 , FINSEQ_1:def 3;
L1455: ( delta R17 ) = ( ( upper_bound ( rng ( ( chi (R15 , R15) ) | ( divset (R17 , R7) ) ) ) ) * ( vol ( divset (R17 , R7) ) ) ) by L1454 , L1419 , INTEGRA1:def 6
.= ( ( upper_bound ( rng ( ( chi (R15 , R15) ) | ( divset (C29 , ( R7 + 1 )) ) ) ) ) * ( vol ( divset (R17 , R7) ) ) ) by L1415 , L1447 , L1324
.= ( ( upper_bound ( rng ( ( chi (R15 , R15) ) | ( divset (C29 , ( R7 + 1 )) ) ) ) ) * ( vol ( divset (C29 , ( R7 + 1 )) ) ) ) by L1415 , L1447 , L1324;
L1456: ( delta R17 ) = ( ( upper_volume (( chi (R15 , R15) ) , C29) ) . ( R7 + 1 ) ) by L1455 , L1450 , INTEGRA1:def 6;
L1457: ( delta R17 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , C29) ) ) by L1456 , L1453 , FUNCT_1:def 3;
L1458: ( delta R17 ) <= ( delta C29 ) by L1457 , XXREAL_2:def 8;
thus L1459: thesis by L1458 , L1427 , XXREAL_0:1;
end;
theorem
L1460: (for R5 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds (for R19 being (Function of R15 , ( REAL )) holds ((R5 in ( divset (R17 , ( len R17 )) ) & ( vol R15 ) <> ( 0 ) & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ { R5 } ) & ( R19 | R15 ) is  bounded & R5 > ( lower_bound R15 )) implies ( ( Sum ( lower_volume (R19 , R18) ) ) - ( Sum ( lower_volume (R19 , R17) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) )))))))
proof
let R5 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
let R19 being (Function of R15 , ( REAL ));
assume that
L1461: R5 in ( divset (R17 , ( len R17 )) )
and
L1462: ( vol R15 ) <> ( 0 )
and
L1463: R17 <= R18
and
L1464: ( rng R18 ) = ( ( rng R17 ) \/ { R5 } )
and
L1465: ( R19 | R15 ) is  bounded
and
L1466: R5 > ( lower_bound R15 );
L1467: ( len R17 ) in ( Seg ( len R17 ) ) by FINSEQ_1:3;
L1468: 1 <= ( len R17 ) by L1467 , FINSEQ_1:1;
L1469: (( len R17 ) = 1 or ( len R17 ) > 1) by L1468 , XXREAL_0:1;
L1470: (( len R17 ) = 1 or ( len R17 ) >= ( 1 + 1 )) by L1469 , NAT_1:13;
L1471:
now
per cases  by L1470;
suppose L1472: ( len R17 ) = 1;

reconsider D31 = ( <* ( lower_bound R15 ) *> ^ R17 ) as non  empty  increasing (FinSequence of ( REAL )) by L1472 , L1462 , L1212;
L1473: ( len D31 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by FINSEQ_1:22;
L1474: ( ( len <* ( lower_bound R15 ) *> ) + 1 ) <= ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by L1468 , XREAL_1:6;
L1475: ( D31 . ( len D31 ) ) = ( R17 . ( ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) - ( len <* ( lower_bound R15 ) *> ) ) ) by L1474 , L1473 , FINSEQ_1:23
.= ( R17 . ( len R17 ) );
L1476: ( D31 . ( len D31 ) ) = ( upper_bound R15 ) by L1475 , INTEGRA1:def 2;
L1477: (for R6 being Real holds (R6 in ( rng D31 ) implies R6 in R15))
proof
let R6 being Real;
assume L1478: R6 in ( rng D31 );
L1479: R6 in ( ( rng <* ( lower_bound R15 ) *> ) \/ ( rng R17 ) ) by L1478 , FINSEQ_1:31;
per cases  by L1479 , XBOOLE_0:def 3;
suppose L1480: R6 in ( rng <* ( lower_bound R15 ) *> );

L1481: R6 in { ( lower_bound R15 ) } by L1480 , FINSEQ_1:38;
L1482: R6 = ( lower_bound R15 ) by L1481 , TARSKI:def 1;
L1483: (ex R1 being Real st (ex R2 being Real st (R1 <= R2 & R1 = ( lower_bound R15 ) & R2 = ( upper_bound R15 )))) by SEQ_4:11;
thus L1484: thesis by L1483 , L1482 , INTEGRA2:1;
end;
suppose L1485: R6 in ( rng R17 );

L1486: ( rng R17 ) c= R15 by INTEGRA1:def 2;
thus L1487: thesis by L1486 , L1485;
end;
end;
L1489: ( rng D31 ) c= R15 by L1477 , SUBSET_1:2;
reconsider D32 = D31 as (Division of R15) by L1489 , L1476 , INTEGRA1:def 2;
L1490: ( len D32 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by FINSEQ_1:22
.= ( 1 + ( len R17 ) ) by FINSEQ_1:39;
L1491: ( vol R15 ) >= ( 0 ) by INTEGRA1:9;
L1492: ( R17 . 1 ) = ( upper_bound R15 ) by L1472 , INTEGRA1:def 2;
L1493: ( ( R17 . 1 ) - ( lower_bound R15 ) ) > ( 0 ) by L1492 , L1462 , L1491 , INTEGRA1:def 5;
L1494: ( lower_bound R15 ) < ( R17 . 1 ) by L1493 , XREAL_1:47;
L1495: ( lower_volume (R19 , R17) ) = ( ( lower_volume (R19 , D32) ) /^ 1 ) by L1324;
L1496: ( lower_volume (R19 , D32) ) = ( <* ( ( lower_volume (R19 , D32) ) /. 1 ) *> ^ ( lower_volume (R19 , R17) ) ) by L1495 , FINSEQ_5:29;
L1497: ( Sum ( lower_volume (R19 , D32) ) ) = ( ( ( lower_volume (R19 , D32) ) /. 1 ) + ( Sum ( lower_volume (R19 , R17) ) ) ) by L1496 , RVSUM_1:76;
L1498: ( len R17 ) in ( dom R17 ) by FINSEQ_5:6;
L1499: ( 1 + ( len R17 ) ) >= ( 1 + 1 ) by L1468 , XREAL_1:6;
L1500: ( len D32 ) <> 1 by L1499 , L1490;
L1501: ( len D32 ) in ( dom D32 ) by FINSEQ_5:6;
L1502: ( ( len D32 ) - 1 ) = ( len R17 ) by L1490;
L1503: ( lower_bound ( divset (D32 , ( len D32 )) ) ) = ( D32 . ( len R17 ) ) by L1502 , L1501 , L1500 , INTEGRA1:def 4
.= ( lower_bound R15 ) by L1472 , FINSEQ_1:41;
L1504: ( lower_bound ( divset (R17 , ( len R17 )) ) ) = ( lower_bound ( divset (D32 , ( len D32 )) ) ) by L1503 , L1472 , L1498 , INTEGRA1:def 4;
set D33 = ( <* ( lower_bound R15 ) *> ^ R18 );
L1505: ( rng D32 ) <> ( {} );
L1506: 1 in ( dom D32 ) by L1505 , FINSEQ_3:32;
L1507: ( ( lower_volume (R19 , D32) ) . 1 ) = ( ( lower_bound ( rng ( R19 | ( divset (D32 , 1) ) ) ) ) * ( vol ( divset (D32 , 1) ) ) ) by L1506 , INTEGRA1:def 7;
L1508: 1 in ( Seg ( len D32 ) ) by L1506 , FINSEQ_1:def 3;
L1509: 1 in ( Seg ( len ( lower_volume (R19 , D32) ) ) ) by L1508 , INTEGRA1:def 7;
L1510: 1 in ( dom ( lower_volume (R19 , D32) ) ) by L1509 , FINSEQ_1:def 3;
L1511: ( rng R18 ) <> ( {} );
L1512: 1 in ( dom R18 ) by L1511 , FINSEQ_3:32;
L1513: 1 <= ( len R18 ) by L1512 , FINSEQ_3:25;
L1514: ( ( len <* ( lower_bound R15 ) *> ) + 1 ) <= ( ( len <* ( lower_bound R15 ) *> ) + ( len R18 ) ) by L1513 , XREAL_1:6;
L1515: ( R18 . 1 ) in ( rng R18 ) by L1512 , FUNCT_1:def 3;
L1516: ( lower_bound R15 ) < ( R18 . 1 )
proof
per cases  by L1464 , L1515 , XBOOLE_0:def 3;
suppose L1517: ( R18 . 1 ) in ( rng R17 );

L1518: ( rng R17 ) <> ( {} );
L1519: 1 in ( dom R17 ) by L1518 , FINSEQ_3:32;
consider R9 being (Element of ( NAT )) such that L1520: R9 in ( dom R17 ) and L1521: ( R17 . R9 ) = ( R18 . 1 ) by L1517 , PARTFUN1:3;
L1522: 1 <= R9 by L1520 , FINSEQ_3:25;
L1523: ( R17 . 1 ) <= ( R18 . 1 ) by L1522 , L1520 , L1521 , L1519 , SEQ_4:137;
thus L1524: thesis by L1523 , L1494 , XXREAL_0:2;
end;
suppose L1525: ( R18 . 1 ) in { R5 };

thus L1526: thesis by L1525 , L1466 , TARSKI:def 1;
end;
end;
reconsider D34 = D33 as non  empty  increasing (FinSequence of ( REAL )) by L1516 , L1270;
L1528: ( len D34 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R18 ) ) by FINSEQ_1:22;
L1529: ( D34 . ( len D34 ) ) = ( R18 . ( ( ( len <* ( lower_bound R15 ) *> ) + ( len R18 ) ) - ( len <* ( lower_bound R15 ) *> ) ) ) by L1528 , L1514 , FINSEQ_1:23
.= ( R18 . ( len R18 ) );
L1530: ( D34 . ( len D34 ) ) = ( upper_bound R15 ) by L1529 , INTEGRA1:def 2;
L1531: (for R6 being Real holds (R6 in ( rng D34 ) implies R6 in R15))
proof
let R6 being Real;
assume L1532: R6 in ( rng D34 );
L1533: R6 in ( ( rng <* ( lower_bound R15 ) *> ) \/ ( rng R18 ) ) by L1532 , FINSEQ_1:31;
per cases  by L1533 , XBOOLE_0:def 3;
suppose L1534: R6 in ( rng <* ( lower_bound R15 ) *> );

L1535: R6 in { ( lower_bound R15 ) } by L1534 , FINSEQ_1:38;
L1536: R6 = ( lower_bound R15 ) by L1535 , TARSKI:def 1;
L1537: (ex R1 being Real st (ex R2 being Real st (R1 <= R2 & R1 = ( lower_bound R15 ) & R2 = ( upper_bound R15 )))) by SEQ_4:11;
thus L1538: thesis by L1537 , L1536 , INTEGRA2:1;
end;
suppose L1539: R6 in ( rng R18 );

L1540: ( rng R18 ) c= R15 by INTEGRA1:def 2;
thus L1541: thesis by L1540 , L1539;
end;
end;
L1543: ( rng D34 ) c= R15 by L1531 , SUBSET_1:2;
reconsider D35 = D34 as (Division of R15) by L1543 , L1530 , INTEGRA1:def 2;
L1544: R5 <= ( upper_bound ( divset (R17 , ( len R17 )) ) ) by L1461 , INTEGRA2:1;
L1545: ( rng D35 ) = ( ( rng R18 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) by FINSEQ_1:31
.= ( ( ( rng R17 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) \/ { R5 } ) by L1464 , XBOOLE_1:4;
L1546: ( rng D35 ) = ( ( rng D32 ) \/ { R5 } ) by L1545 , FINSEQ_1:31;
L1547: ( D32 . ( len D32 ) ) = ( D32 . ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) ) by FINSEQ_1:22
.= ( R17 . ( len R17 ) ) by L1498 , FINSEQ_1:def 7;
L1548: ( upper_bound ( divset (D32 , ( len D32 )) ) ) = ( R17 . ( len R17 ) ) by L1547 , L1501 , L1500 , INTEGRA1:def 4
.= ( upper_bound ( divset (R17 , ( len R17 )) ) ) by L1472 , L1498 , INTEGRA1:def 4;
L1549: ( rng R17 ) c= ( rng R18 ) by L1463 , INTEGRA1:def 18;
L1550: ( ( rng R17 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) c= ( ( rng R18 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) by L1549 , XBOOLE_1:9;
L1551: ( rng D32 ) c= ( ( rng R18 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) by L1550 , FINSEQ_1:31;
L1552: ( rng D32 ) c= ( rng D35 ) by L1551 , FINSEQ_1:31;
L1553: ( len R17 ) <= ( len R18 ) by L1463 , INTEGRA1:def 18;
L1554: ( ( len R17 ) + ( len <* ( lower_bound R15 ) *> ) ) <= ( ( len R18 ) + ( len <* ( lower_bound R15 ) *> ) ) by L1553 , XREAL_1:6;
L1555: ( len D32 ) <= ( ( len R18 ) + ( len <* ( lower_bound R15 ) *> ) ) by L1554 , FINSEQ_1:22;
L1556: ( len D32 ) <= ( len D35 ) by L1555 , FINSEQ_1:22;
L1557: D32 <= D35 by L1556 , L1552 , INTEGRA1:def 18;
L1558: ( lower_bound ( divset (R17 , ( len R17 )) ) ) <= R5 by L1461 , INTEGRA2:1;
L1559: R5 in ( divset (D32 , ( len D32 )) ) by L1558 , L1544 , L1504 , L1548 , INTEGRA2:1;
L1560: ( ( Sum ( lower_volume (R19 , D35) ) ) - ( Sum ( lower_volume (R19 , D32) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta D32 ) ) by L1559 , L1465 , L1490 , L1499 , L1557 , L1546 , L436;
L1561: ( rng D35 ) <> ( {} );
L1562: 1 in ( dom D35 ) by L1561 , FINSEQ_3:32;
L1563: ( ( lower_volume (R19 , D35) ) . 1 ) = ( ( lower_bound ( rng ( R19 | ( divset (D35 , 1) ) ) ) ) * ( vol ( divset (D35 , 1) ) ) ) by L1562 , INTEGRA1:def 7;
L1564: 1 in ( Seg ( len D35 ) ) by L1562 , FINSEQ_1:def 3;
L1565: 1 in ( Seg ( len ( lower_volume (R19 , D35) ) ) ) by L1564 , INTEGRA1:def 7;
L1566: 1 in ( dom ( lower_volume (R19 , D35) ) ) by L1565 , FINSEQ_1:def 3;
L1567: ( vol ( divset (D35 , 1) ) ) = ( 0 ) by L1406;
L1568: ( ( lower_volume (R19 , D35) ) /. 1 ) = ( 0 ) by L1567 , L1563 , L1566 , PARTFUN1:def 6;
L1569: ( lower_volume (R19 , R18) ) = ( ( lower_volume (R19 , D35) ) /^ 1 ) by L1324;
L1570: ( lower_volume (R19 , D35) ) = ( <* ( ( lower_volume (R19 , D35) ) /. 1 ) *> ^ ( lower_volume (R19 , R18) ) ) by L1569 , FINSEQ_5:29;
L1571: ( Sum ( lower_volume (R19 , D35) ) ) = ( ( ( lower_volume (R19 , D35) ) /. 1 ) + ( Sum ( lower_volume (R19 , R18) ) ) ) by L1570 , RVSUM_1:76;
L1572: ( vol ( divset (D32 , 1) ) ) = ( 0 ) by L1406;
L1573: ( ( lower_volume (R19 , D32) ) /. 1 ) = ( 0 ) by L1572 , L1507 , L1510 , PARTFUN1:def 6;
thus L1574: thesis by L1573 , L1560 , L1497 , L1571 , L1568 , L1414;
end;
suppose L1575: ( len R17 ) >= 2;

thus L1576: thesis by L1575 , L1461 , L1463 , L1464 , L1465 , L436;
end;
end;
thus L1578: thesis by L1471;
end;
theorem
L1579: (for R5 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds (for R19 being (Function of R15 , ( REAL )) holds ((R5 in ( divset (R17 , ( len R17 )) ) & ( vol R15 ) <> ( 0 ) & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ { R5 } ) & ( R19 | R15 ) is  bounded & R5 > ( lower_bound R15 )) implies ( ( Sum ( upper_volume (R19 , R17) ) ) - ( Sum ( upper_volume (R19 , R18) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) )))))))
proof
let R5 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
let R19 being (Function of R15 , ( REAL ));
assume that
L1580: R5 in ( divset (R17 , ( len R17 )) )
and
L1581: ( vol R15 ) <> ( 0 )
and
L1582: R17 <= R18
and
L1583: ( rng R18 ) = ( ( rng R17 ) \/ { R5 } )
and
L1584: ( R19 | R15 ) is  bounded
and
L1585: R5 > ( lower_bound R15 );
L1586: ( len R17 ) in ( Seg ( len R17 ) ) by FINSEQ_1:3;
L1587: 1 <= ( len R17 ) by L1586 , FINSEQ_1:1;
L1588: (( len R17 ) = 1 or ( len R17 ) > 1) by L1587 , XXREAL_0:1;
L1589: (( len R17 ) = 1 or ( len R17 ) >= ( 1 + 1 )) by L1588 , NAT_1:13;
L1590:
now
per cases  by L1589;
suppose L1591: ( len R17 ) = 1;

reconsider D36 = ( <* ( lower_bound R15 ) *> ^ R17 ) as non  empty  increasing (FinSequence of ( REAL )) by L1591 , L1581 , L1212;
L1592: ( len D36 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by FINSEQ_1:22;
L1593: ( ( len <* ( lower_bound R15 ) *> ) + 1 ) <= ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by L1587 , XREAL_1:6;
L1594: ( D36 . ( len D36 ) ) = ( R17 . ( ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) - ( len <* ( lower_bound R15 ) *> ) ) ) by L1593 , L1592 , FINSEQ_1:23
.= ( R17 . ( len R17 ) );
L1595: ( D36 . ( len D36 ) ) = ( upper_bound R15 ) by L1594 , INTEGRA1:def 2;
L1596: (for R6 being Real holds (R6 in ( rng D36 ) implies R6 in R15))
proof
let R6 being Real;
assume L1597: R6 in ( rng D36 );
L1598: R6 in ( ( rng <* ( lower_bound R15 ) *> ) \/ ( rng R17 ) ) by L1597 , FINSEQ_1:31;
per cases  by L1598 , XBOOLE_0:def 3;
suppose L1599: R6 in ( rng <* ( lower_bound R15 ) *> );

L1600: R6 in { ( lower_bound R15 ) } by L1599 , FINSEQ_1:38;
L1601: R6 = ( lower_bound R15 ) by L1600 , TARSKI:def 1;
L1602: (ex R1 being Real st (ex R2 being Real st (R1 <= R2 & R1 = ( lower_bound R15 ) & R2 = ( upper_bound R15 )))) by SEQ_4:11;
thus L1603: thesis by L1602 , L1601 , INTEGRA2:1;
end;
suppose L1604: R6 in ( rng R17 );

L1605: ( rng R17 ) c= R15 by INTEGRA1:def 2;
thus L1606: thesis by L1605 , L1604;
end;
end;
L1608: ( rng D36 ) c= R15 by L1596 , SUBSET_1:2;
reconsider D37 = D36 as (Division of R15) by L1608 , L1595 , INTEGRA1:def 2;
L1609: ( len D37 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) by FINSEQ_1:22
.= ( 1 + ( len R17 ) ) by FINSEQ_1:39;
L1610: ( vol R15 ) >= ( 0 ) by INTEGRA1:9;
L1611: ( R17 . 1 ) = ( upper_bound R15 ) by L1591 , INTEGRA1:def 2;
L1612: ( ( R17 . 1 ) - ( lower_bound R15 ) ) > ( 0 ) by L1611 , L1581 , L1610 , INTEGRA1:def 5;
L1613: ( lower_bound R15 ) < ( R17 . 1 ) by L1612 , XREAL_1:47;
L1614: ( upper_volume (R19 , R17) ) = ( ( upper_volume (R19 , D37) ) /^ 1 ) by L1324;
L1615: ( upper_volume (R19 , D37) ) = ( <* ( ( upper_volume (R19 , D37) ) /. 1 ) *> ^ ( upper_volume (R19 , R17) ) ) by L1614 , FINSEQ_5:29;
L1616: ( Sum ( upper_volume (R19 , D37) ) ) = ( ( ( upper_volume (R19 , D37) ) /. 1 ) + ( Sum ( upper_volume (R19 , R17) ) ) ) by L1615 , RVSUM_1:76;
L1617: ( len R17 ) in ( dom R17 ) by FINSEQ_5:6;
L1618: ( 1 + ( len R17 ) ) >= ( 1 + 1 ) by L1587 , XREAL_1:6;
L1619: ( len D37 ) <> 1 by L1618 , L1609;
L1620: ( len D37 ) in ( dom D37 ) by FINSEQ_5:6;
L1621: ( ( len D37 ) - 1 ) = ( len R17 ) by L1609;
L1622: ( lower_bound ( divset (D37 , ( len D37 )) ) ) = ( D37 . ( len R17 ) ) by L1621 , L1620 , L1619 , INTEGRA1:def 4
.= ( lower_bound R15 ) by L1591 , FINSEQ_1:41;
L1623: ( lower_bound ( divset (R17 , ( len R17 )) ) ) = ( lower_bound ( divset (D37 , ( len D37 )) ) ) by L1622 , L1591 , L1617 , INTEGRA1:def 4;
set D38 = ( <* ( lower_bound R15 ) *> ^ R18 );
L1624: ( rng D37 ) <> ( {} );
L1625: 1 in ( dom D37 ) by L1624 , FINSEQ_3:32;
L1626: ( ( upper_volume (R19 , D37) ) . 1 ) = ( ( upper_bound ( rng ( R19 | ( divset (D37 , 1) ) ) ) ) * ( vol ( divset (D37 , 1) ) ) ) by L1625 , INTEGRA1:def 6;
L1627: 1 in ( Seg ( len D37 ) ) by L1625 , FINSEQ_1:def 3;
L1628: 1 in ( Seg ( len ( upper_volume (R19 , D37) ) ) ) by L1627 , INTEGRA1:def 6;
L1629: 1 in ( dom ( upper_volume (R19 , D37) ) ) by L1628 , FINSEQ_1:def 3;
L1630: ( rng R18 ) <> ( {} );
L1631: 1 in ( dom R18 ) by L1630 , FINSEQ_3:32;
L1632: 1 <= ( len R18 ) by L1631 , FINSEQ_3:25;
L1633: ( ( len <* ( lower_bound R15 ) *> ) + 1 ) <= ( ( len <* ( lower_bound R15 ) *> ) + ( len R18 ) ) by L1632 , XREAL_1:6;
L1634: ( R18 . 1 ) in ( rng R18 ) by L1631 , FUNCT_1:def 3;
L1635: ( lower_bound R15 ) < ( R18 . 1 )
proof
per cases  by L1583 , L1634 , XBOOLE_0:def 3;
suppose L1636: ( R18 . 1 ) in ( rng R17 );

L1637: ( rng R17 ) <> ( {} );
L1638: 1 in ( dom R17 ) by L1637 , FINSEQ_3:32;
consider R9 being (Element of ( NAT )) such that L1639: R9 in ( dom R17 ) and L1640: ( R17 . R9 ) = ( R18 . 1 ) by L1636 , PARTFUN1:3;
L1641: 1 <= R9 by L1639 , FINSEQ_3:25;
L1642: ( R17 . 1 ) <= ( R18 . 1 ) by L1641 , L1639 , L1640 , L1638 , SEQ_4:137;
thus L1643: thesis by L1642 , L1613 , XXREAL_0:2;
end;
suppose L1644: ( R18 . 1 ) in { R5 };

thus L1645: thesis by L1644 , L1585 , TARSKI:def 1;
end;
end;
reconsider D39 = D38 as non  empty  increasing (FinSequence of ( REAL )) by L1635 , L1270;
L1647: ( len D39 ) = ( ( len <* ( lower_bound R15 ) *> ) + ( len R18 ) ) by FINSEQ_1:22;
L1648: ( D39 . ( len D39 ) ) = ( R18 . ( ( ( len <* ( lower_bound R15 ) *> ) + ( len R18 ) ) - ( len <* ( lower_bound R15 ) *> ) ) ) by L1647 , L1633 , FINSEQ_1:23
.= ( R18 . ( len R18 ) );
L1649: ( D39 . ( len D39 ) ) = ( upper_bound R15 ) by L1648 , INTEGRA1:def 2;
L1650: (for R6 being Real holds (R6 in ( rng D39 ) implies R6 in R15))
proof
let R6 being Real;
assume L1651: R6 in ( rng D39 );
L1652: R6 in ( ( rng <* ( lower_bound R15 ) *> ) \/ ( rng R18 ) ) by L1651 , FINSEQ_1:31;
per cases  by L1652 , XBOOLE_0:def 3;
suppose L1653: R6 in ( rng <* ( lower_bound R15 ) *> );

L1654: R6 in { ( lower_bound R15 ) } by L1653 , FINSEQ_1:38;
L1655: R6 = ( lower_bound R15 ) by L1654 , TARSKI:def 1;
L1656: (ex R1 being Real st (ex R2 being Real st (R1 <= R2 & R1 = ( lower_bound R15 ) & R2 = ( upper_bound R15 )))) by SEQ_4:11;
thus L1657: thesis by L1656 , L1655 , INTEGRA2:1;
end;
suppose L1658: R6 in ( rng R18 );

L1659: ( rng R18 ) c= R15 by INTEGRA1:def 2;
thus L1660: thesis by L1659 , L1658;
end;
end;
L1662: ( rng D39 ) c= R15 by L1650 , SUBSET_1:2;
reconsider D40 = D39 as (Division of R15) by L1662 , L1649 , INTEGRA1:def 2;
L1663: R5 <= ( upper_bound ( divset (R17 , ( len R17 )) ) ) by L1580 , INTEGRA2:1;
L1664: ( rng D40 ) = ( ( rng R18 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) by FINSEQ_1:31
.= ( ( ( rng R17 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) \/ { R5 } ) by L1583 , XBOOLE_1:4;
L1665: ( rng D40 ) = ( ( rng D37 ) \/ { R5 } ) by L1664 , FINSEQ_1:31;
L1666: ( D37 . ( len D37 ) ) = ( D37 . ( ( len <* ( lower_bound R15 ) *> ) + ( len R17 ) ) ) by FINSEQ_1:22
.= ( R17 . ( len R17 ) ) by L1617 , FINSEQ_1:def 7;
L1667: ( upper_bound ( divset (D37 , ( len D37 )) ) ) = ( R17 . ( len R17 ) ) by L1666 , L1620 , L1619 , INTEGRA1:def 4
.= ( upper_bound ( divset (R17 , ( len R17 )) ) ) by L1591 , L1617 , INTEGRA1:def 4;
L1668: ( rng R17 ) c= ( rng R18 ) by L1582 , INTEGRA1:def 18;
L1669: ( ( rng R17 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) c= ( ( rng R18 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) by L1668 , XBOOLE_1:9;
L1670: ( rng D37 ) c= ( ( rng R18 ) \/ ( rng <* ( lower_bound R15 ) *> ) ) by L1669 , FINSEQ_1:31;
L1671: ( rng D37 ) c= ( rng D40 ) by L1670 , FINSEQ_1:31;
L1672: ( len R17 ) <= ( len R18 ) by L1582 , INTEGRA1:def 18;
L1673: ( ( len R17 ) + ( len <* ( lower_bound R15 ) *> ) ) <= ( ( len R18 ) + ( len <* ( lower_bound R15 ) *> ) ) by L1672 , XREAL_1:6;
L1674: ( len D37 ) <= ( ( len R18 ) + ( len <* ( lower_bound R15 ) *> ) ) by L1673 , FINSEQ_1:22;
L1675: ( len D37 ) <= ( len D40 ) by L1674 , FINSEQ_1:22;
L1676: D37 <= D40 by L1675 , L1671 , INTEGRA1:def 18;
L1677: ( lower_bound ( divset (R17 , ( len R17 )) ) ) <= R5 by L1580 , INTEGRA2:1;
L1678: R5 in ( divset (D37 , ( len D37 )) ) by L1677 , L1663 , L1623 , L1667 , INTEGRA2:1;
L1679: ( ( Sum ( upper_volume (R19 , D37) ) ) - ( Sum ( upper_volume (R19 , D40) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta D37 ) ) by L1678 , L1584 , L1609 , L1618 , L1676 , L1665 , L758;
L1680: ( rng D40 ) <> ( {} );
L1681: 1 in ( dom D40 ) by L1680 , FINSEQ_3:32;
L1682: ( ( upper_volume (R19 , D40) ) . 1 ) = ( ( upper_bound ( rng ( R19 | ( divset (D40 , 1) ) ) ) ) * ( vol ( divset (D40 , 1) ) ) ) by L1681 , INTEGRA1:def 6;
L1683: 1 in ( Seg ( len D40 ) ) by L1681 , FINSEQ_1:def 3;
L1684: 1 in ( Seg ( len ( upper_volume (R19 , D40) ) ) ) by L1683 , INTEGRA1:def 6;
L1685: 1 in ( dom ( upper_volume (R19 , D40) ) ) by L1684 , FINSEQ_1:def 3;
L1686: ( vol ( divset (D40 , 1) ) ) = ( 0 ) by L1406;
L1687: ( ( upper_volume (R19 , D40) ) /. 1 ) = ( 0 ) by L1686 , L1682 , L1685 , PARTFUN1:def 6;
L1688: ( upper_volume (R19 , R18) ) = ( ( upper_volume (R19 , D40) ) /^ 1 ) by L1324;
L1689: ( upper_volume (R19 , D40) ) = ( <* ( ( upper_volume (R19 , D40) ) /. 1 ) *> ^ ( upper_volume (R19 , R18) ) ) by L1688 , FINSEQ_5:29;
L1690: ( Sum ( upper_volume (R19 , D40) ) ) = ( ( ( upper_volume (R19 , D40) ) /. 1 ) + ( Sum ( upper_volume (R19 , R18) ) ) ) by L1689 , RVSUM_1:76;
L1691: ( vol ( divset (D37 , 1) ) ) = ( 0 ) by L1406;
L1692: ( ( upper_volume (R19 , D37) ) /. 1 ) = ( 0 ) by L1691 , L1626 , L1629 , PARTFUN1:def 6;
thus L1693: thesis by L1692 , L1679 , L1616 , L1690 , L1687 , L1414;
end;
suppose L1694: ( len R17 ) >= 2;

thus L1695: thesis by L1694 , L1580 , L1582 , L1583 , L1584 , L758;
end;
end;
thus L1697: thesis by L1590;
end;
theorem
L1698: (for R4 being Real holds (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R17 being (Division of R15) holds (for R18 being (Division of R15) holds ((R7 in ( dom R17 ) & R8 in ( dom R17 ) & R7 <= R8 & R17 <= R18 & R4 < ( ( mid (R18 , ( indx (R18 , R17 , R7) ) , ( indx (R18 , R17 , R8) )) ) . 1 )) implies (ex B26 being non  empty  closed_interval (Subset of ( REAL )) st (ex B27 , B28 being (Division of B26) st (R4 = ( lower_bound B26 ) & ( upper_bound B26 ) = ( B28 . ( len B28 ) ) & ( upper_bound B26 ) = ( B27 . ( len B27 ) ) & B27 <= B28 & B27 = ( mid (R17 , R7 , R8) ) & B28 = ( mid (R18 , ( indx (R18 , R17 , R7) ) , ( indx (R18 , R17 , R8) )) )))))))))))
proof
let R4 being Real;
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R17 being (Division of R15);
let R18 being (Division of R15);
set D41 = ( mid (R17 , R7 , R8) );
set D42 = ( mid (R18 , ( indx (R18 , R17 , R7) ) , ( indx (R18 , R17 , R8) )) );
assume L1699: R7 in ( dom R17 );
L1700: 1 <= R7 by L1699 , FINSEQ_3:25;
assume L1701: R8 in ( dom R17 );
assume L1702: R7 <= R8;
L1703: ( R8 - R7 ) >= ( 0 ) by L1702 , XREAL_1:48;
L1704: ( ( R8 - R7 ) + 1 ) >= ( ( 0 ) + 1 ) by L1703 , XREAL_1:6;
L1705: R8 <= ( len R17 ) by L1701 , FINSEQ_3:25;
L1706: ( D41 . 1 ) = ( R17 . ( ( 1 + R7 ) - 1 ) ) by L1705 , L1702 , L1704 , L1700 , FINSEQ_6:122
.= ( R17 . R7 );
assume L1707: R17 <= R18;
L1708: ( R18 . ( indx (R18 , R17 , R7) ) ) = ( R17 . R7 ) by L1707 , L1699 , INTEGRA1:def 19;
L1709: ( R18 . ( indx (R18 , R17 , R8) ) ) = ( R17 . R8 ) by L1701 , L1707 , INTEGRA1:def 19;
L1710: ( indx (R18 , R17 , R7) ) in ( dom R18 ) by L1699 , L1707 , INTEGRA1:def 19;
L1711: 1 <= ( indx (R18 , R17 , R7) ) by L1710 , FINSEQ_3:25;
L1712: ( indx (R18 , R17 , R8) ) in ( dom R18 ) by L1701 , L1707 , INTEGRA1:def 19;
L1713: ( indx (R18 , R17 , R8) ) <= ( len R18 ) by L1712 , FINSEQ_3:25;
L1714: ( R17 . R7 ) <= ( R17 . R8 ) by L1699 , L1701 , L1702 , SEQ_4:137;
L1715: ( indx (R18 , R17 , R7) ) <= ( indx (R18 , R17 , R8) ) by L1714 , L1710 , L1708 , L1712 , L1709 , SEQM_3:def 1;
assume L1716: R4 < ( ( mid (R18 , ( indx (R18 , R17 , R7) ) , ( indx (R18 , R17 , R8) )) ) . 1 );
consider C31 being non  empty  closed_interval (Subset of ( REAL )) such that L1717: R4 = ( lower_bound C31 ) and L1718: ( upper_bound C31 ) = ( D42 . ( len D42 ) ) and L1719: D42 is (Division of C31) by L1716 , L1710 , L1712 , L1715 , L1188;
L1720: ( len D42 ) = ( ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , R7) ) ) + 1 ) by L1710 , L1712 , L1715 , INTEGRA1:58;
reconsider D43 = D42 as (Division of C31) by L1719;
L1721: ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , R7) ) ) >= ( 0 ) by L1715 , XREAL_1:48;
L1722: ( ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , R7) ) ) + 1 ) >= ( ( 0 ) + 1 ) by L1721 , XREAL_1:6;
L1723: ( D43 . ( len D43 ) ) = ( R18 . ( ( ( ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , R7) ) ) + 1 ) - 1 ) + ( indx (R18 , R17 , R7) ) ) ) by L1722 , L1715 , L1720 , L1711 , L1713 , FINSEQ_6:122
.= ( R17 . R8 ) by L1701 , L1707 , INTEGRA1:def 19;
L1724: ( D43 . 1 ) = ( R18 . ( ( 1 + ( indx (R18 , R17 , R7) ) ) - 1 ) ) by L1715 , L1722 , L1711 , L1713 , FINSEQ_6:122
.= ( R17 . R7 ) by L1699 , L1707 , INTEGRA1:def 19;
consider C32 being non  empty  closed_interval (Subset of ( REAL )) such that L1725: R4 = ( lower_bound C32 ) and L1726: ( upper_bound C32 ) = ( D41 . ( len D41 ) ) and L1727: D41 is (Division of C32) by L1724 , L1699 , L1701 , L1702 , L1716 , L1706 , L1188;
L1728: ( len D41 ) = ( ( R8 - R7 ) + 1 ) by L1699 , L1701 , L1702 , INTEGRA1:58;
L1729: ( D41 . ( len D41 ) ) = ( R17 . ( ( ( ( R8 - R7 ) + 1 ) - 1 ) + R7 ) ) by L1728 , L1702 , L1704 , L1700 , L1705 , FINSEQ_6:122
.= ( R17 . R8 );
L1730: C31 = [. ( lower_bound C31 ) , ( upper_bound C31 ) .] by INTEGRA1:4
.= C32 by L1717 , L1718 , L1725 , L1726 , L1729 , L1723 , INTEGRA1:4;
reconsider D44 = D41 as (Division of C31) by L1730 , L1727;
L1731: ( rng D44 ) c= ( rng D43 )
proof
let R12 being set;
L1732: ( rng D44 ) c= ( rng R17 ) by FINSEQ_6:119;
assume L1733: R12 in ( rng D44 );
consider C33 being (Element of ( NAT )) such that L1734: C33 in ( dom D44 ) and L1735: ( D44 . C33 ) = R12 by L1733 , PARTFUN1:3;
L1736: ( rng R17 ) c= ( rng R18 ) by L1707 , INTEGRA1:def 18;
L1737: ( rng D44 ) c= ( rng R18 ) by L1736 , L1732 , XBOOLE_1:1;
consider C34 being (Element of ( NAT )) such that L1738: C34 in ( dom R18 ) and L1739: ( R18 . C34 ) = R12 by L1737 , L1733 , PARTFUN1:3;
L1740: C33 <= ( len D44 ) by L1734 , FINSEQ_3:25;
L1741: 1 <= C33 by L1734 , FINSEQ_3:25;
L1742: 1 <= ( len D44 ) by L1741 , L1740 , XXREAL_0:2;
L1743: 1 in ( dom D44 ) by L1742 , FINSEQ_3:25;
L1744: ( D44 . 1 ) <= ( D44 . C33 ) by L1743 , L1734 , L1741 , SEQ_4:137;
L1745: ( indx (R18 , R17 , R7) ) <= C34 by L1744 , L1710 , L1708 , L1706 , L1738 , L1739 , L1735 , SEQM_3:def 1;
consider C35 being Nat such that L1746: ( C34 + 1 ) = ( ( indx (R18 , R17 , R7) ) + C35 ) by L1745 , NAT_1:10 , NAT_1:12;
L1747: ( len D44 ) in ( dom D44 ) by FINSEQ_5:6;
L1748: ( D44 . C33 ) <= ( D44 . ( len D44 ) ) by L1747 , L1734 , L1740 , SEQ_4:137;
L1749: C34 <= ( indx (R18 , R17 , R8) ) by L1748 , L1712 , L1709 , L1729 , L1738 , L1739 , L1735 , SEQM_3:def 1;
L1750: ( C34 + 1 ) <= ( ( indx (R18 , R17 , R8) ) + 1 ) by L1749 , XREAL_1:6;
L1751: ( ( C34 + 1 ) - ( indx (R18 , R17 , R7) ) ) <= ( ( ( indx (R18 , R17 , R8) ) + 1 ) - ( indx (R18 , R17 , R7) ) ) by L1750 , XREAL_1:9;
L1752: ( ( indx (R18 , R17 , R7) ) + 1 ) <= ( C34 + 1 ) by L1745 , XREAL_1:6;
L1753: 1 <= ( ( C34 + 1 ) - ( indx (R18 , R17 , R7) ) ) by L1752 , XREAL_1:19;
L1754: C35 in ( dom D43 ) by L1753 , L1720 , L1751 , L1746 , FINSEQ_3:25;
L1755: C35 in ( NAT ) by ORDINAL1:def 12;
L1756: ( D43 . C35 ) = ( R18 . ( ( C35 + ( indx (R18 , R17 , R7) ) ) - 1 ) ) by L1755 , L1715 , L1711 , L1713 , L1753 , L1751 , L1746 , FINSEQ_6:122;
thus L1757: thesis by L1756 , L1739 , L1746 , L1754 , FUNCT_1:def 3;
end;
L1758: ( card ( rng D43 ) ) = ( len D43 ) by FINSEQ_4:62;
L1759: ( card ( rng D44 ) ) = ( len D44 ) by FINSEQ_4:62;
L1760: ( len D44 ) <= ( len D43 ) by L1759 , L1731 , L1758 , NAT_1:43;
L1761: D44 <= D43 by L1760 , L1731 , INTEGRA1:def 18;
thus L1762: thesis by L1761 , L1717 , L1718 , L1726 , L1730;
end;
theorem
L1763: (for R5 being Real holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (R5 in ( rng R16 ) implies (( R16 . 1 ) <= R5 & R5 <= ( R16 . ( len R16 ) ))))))
proof
let R5 being Real;
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
assume L1764: R5 in ( rng R16 );
consider R7 being (Element of ( NAT )) such that L1765: R7 in ( dom R16 ) and L1766: R5 = ( R16 . R7 ) by L1764 , PARTFUN1:3;
L1767: R7 <= ( len R16 ) by L1765 , FINSEQ_3:25;
L1768: 1 <= R7 by L1765 , FINSEQ_3:25;
L1769: 1 <= ( len R16 ) by L1768 , L1767 , XXREAL_0:2;
L1770: ( len R16 ) in ( dom R16 ) by L1769 , FINSEQ_3:25;
L1771: 1 in ( dom R16 ) by L1769 , FINSEQ_3:25;
thus L1772: thesis by L1771 , L1765 , L1766 , L1768 , L1767 , L1770 , SEQ_4:137;
end;
theorem
L1773: (for B29 being (FinSequence of ( REAL )) holds (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R9 being (Element of ( NAT )) holds ((B29 is  increasing & R7 in ( dom B29 ) & R8 in ( dom B29 ) & R9 in ( dom B29 ) & ( B29 . R7 ) <= ( B29 . R9 ) & ( B29 . R9 ) <= ( B29 . R8 )) implies ( B29 . R9 ) in ( rng ( mid (B29 , R7 , R8) ) ))))))
proof
let C36 being (FinSequence of ( REAL ));
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R9 being (Element of ( NAT ));
assume that
L1774: C36 is  increasing
and
L1775: R7 in ( dom C36 )
and
L1776: R8 in ( dom C36 )
and
L1777: R9 in ( dom C36 )
and
L1778: ( C36 . R7 ) <= ( C36 . R9 )
and
L1779: ( C36 . R9 ) <= ( C36 . R8 );
L1780: 1 <= R7 by L1775 , FINSEQ_3:25;
L1781: 1 <= R8 by L1776 , FINSEQ_3:25;
L1782: R8 <= ( len C36 ) by L1776 , FINSEQ_3:25;
L1783: R7 <= R9 by L1774 , L1775 , L1777 , L1778 , SEQM_3:def 1;
consider C37 being Nat such that L1784: ( R9 + 1 ) = ( R7 + C37 ) by L1783 , NAT_1:10 , NAT_1:12;
L1785: R9 <= R8 by L1774 , L1776 , L1777 , L1779 , SEQM_3:def 1;
L1786: ( R9 - R7 ) <= ( R8 - R7 ) by L1785 , XREAL_1:9;
L1787: ( ( R9 - R7 ) + 1 ) <= ( ( R8 - R7 ) + 1 ) by L1786 , XREAL_1:6;
L1788: ( R9 - R7 ) >= ( 0 ) by L1783 , XREAL_1:48;
L1789: ( ( R9 - R7 ) + 1 ) >= ( ( 0 ) + 1 ) by L1788 , XREAL_1:6;
L1790: R7 <= R8 by L1783 , L1785 , XXREAL_0:2;
L1791: R7 <= ( len C36 ) by L1775 , FINSEQ_3:25;
L1792: ( len ( mid (C36 , R7 , R8) ) ) = ( ( R8 -' R7 ) + 1 ) by L1791 , L1780 , L1781 , L1782 , L1790 , FINSEQ_6:118;
L1793: ( len ( mid (C36 , R7 , R8) ) ) = ( ( R8 - R7 ) + 1 ) by L1792 , L1783 , L1785 , XREAL_1:233 , XXREAL_0:2;
L1794: C37 in ( dom ( mid (C36 , R7 , R8) ) ) by L1793 , L1784 , L1789 , L1787 , FINSEQ_3:25;
L1795: C37 in ( NAT ) by ORDINAL1:def 12;
L1796: ( ( mid (C36 , R7 , R8) ) . C37 ) = ( C36 . ( ( C37 + R7 ) - 1 ) ) by L1795 , L1780 , L1782 , L1790 , L1784 , L1789 , L1787 , FINSEQ_6:122
.= ( C36 . R9 ) by L1784;
thus L1797: thesis by L1796 , L1794 , FUNCT_1:def 3;
end;
theorem
L1798: (for R7 being (Element of ( NAT )) holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (for R19 being (Function of R15 , ( REAL )) holds ((( R19 | R15 ) is  bounded & R7 in ( dom R16 )) implies ( lower_bound ( rng ( R19 | ( divset (R16 , R7) ) ) ) ) <= ( upper_bound ( rng R19 ) ))))))
proof
let R7 being (Element of ( NAT ));
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
let R19 being (Function of R15 , ( REAL ));
assume L1799: ( R19 | R15 ) is  bounded;
assume L1800: R7 in ( dom R16 );
L1801: ( divset (R16 , R7) ) c= R15 by L1800 , INTEGRA1:8;
thus L1802: thesis by L1801 , L1799 , L331;
end;
theorem
L1803: (for R7 being (Element of ( NAT )) holds (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R16 being (Division of R15) holds (for R19 being (Function of R15 , ( REAL )) holds ((( R19 | R15 ) is  bounded & R7 in ( dom R16 )) implies ( upper_bound ( rng ( R19 | ( divset (R16 , R7) ) ) ) ) >= ( lower_bound ( rng R19 ) ))))))
proof
let R7 being (Element of ( NAT ));
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R16 being (Division of R15);
let R19 being (Function of R15 , ( REAL ));
assume L1804: ( R19 | R15 ) is  bounded;
assume L1805: R7 in ( dom R16 );
L1806: ( divset (R16 , R7) ) c= R15 by L1805 , INTEGRA1:8;
thus L1807: thesis by L1806 , L1804 , L331;
end;
begin
::$N Darboux's Theorem
theorem
L1808: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R19 being (Function of R15 , ( REAL )) holds (for R21 being (DivSequence of R15) holds ((( R19 | R15 ) is  bounded & ( delta R21 ) is ( 0 ) -convergent  non-zero & ( vol R15 ) <> ( 0 )) implies (( lower_sum (R19 , R21) ) is  convergent & ( lim ( lower_sum (R19 , R21) ) ) = ( lower_integral R19 ))))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R19 being (Function of R15 , ( REAL ));
let R21 being (DivSequence of R15);
assume that
L1809: ( R19 | R15 ) is  bounded
and
L1810: ( delta R21 ) is ( 0 ) -convergent  non-zero
and
L1811: ( vol R15 ) <> ( 0 );
L1812: ( delta R21 ) is  convergent by L1810 , FDIFF_1:def 1;
L1813: (for R16 being (Division of R15) holds (for R17 being (Division of R15) holds (ex R18 being (Division of R15) st (R16 <= R18 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) & ( 0 ) <= ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R16) ) ) & ( 0 ) <= ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R17) ) )))))
proof
let R16 being (Division of R15);
let R17 being (Division of R15);
consider R18 being (Division of R15) such that L1814: R16 <= R18 and L1815: R17 <= R18 and L1816: ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) by L147;
L1817: ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R17) ) ) >= ( 0 ) by L1809 , L1815 , INTEGRA1:46 , XREAL_1:48;
L1818: ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R16) ) ) >= ( 0 ) by L1809 , L1814 , INTEGRA1:46 , XREAL_1:48;
thus L1819: thesis by L1818 , L1814 , L1815 , L1816 , L1817;
end;
L1820: (for R16 being (Division of R15) holds (for R17 being (Division of R15) holds (( delta R17 ) < ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) implies (ex R18 being (Division of R15) st (R16 <= R18 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) & ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R17) ) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ))))))
proof
let R16 being (Division of R15);
let R17 being (Division of R15);
assume L1821: ( delta R17 ) < ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) );
L1822: (ex R18 being (Division of R15) st (R16 <= R18 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) & ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R17) ) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )))
proof
consider R18 being (Division of R15) such that L1823: R16 <= R18 and L1824: R17 <= R18 and L1825: ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) and L1826: ( 0 ) <= ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R16) ) ) and L1827: ( 0 ) <= ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R17) ) ) by L1813;
L1828: ( ( lower_sum (R19 , R18) ) - ( lower_sum (R19 , R17) ) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )
proof
deffunc H6((Division of R15)) = ( lower_volume (R19 , $1) );
deffunc H7((Division of R15) , Nat) = ( ( PartSums ( lower_volume (R19 , $1) ) ) . $2 );
L1829: ( len R18 ) in ( dom R18 ) by FINSEQ_5:6;
L1830: (for R7 being (Element of ( NAT )) holds (R7 in ( dom R16 ) implies (ex R8 being (Element of ( NAT )) st (R8 in ( dom R17 ) & ( R16 . R7 ) in ( divset (R17 , R8) ) & ( H7(R18 , ( indx (R18 , R17 , R8) )) - H7(R17 , R8) ) <= ( ( R7 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )))))
proof
defpred S3[ non  empty Nat ] means ($1 in ( dom R16 ) implies (ex R8 being (Element of ( NAT )) st (R8 in ( dom R17 ) & ( R16 . $1 ) in ( divset (R17 , R8) ) & ( H7(R18 , ( indx (R18 , R17 , R8) )) - H7(R17 , R8) ) <= ( ( $1 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ))));
let R7 being (Element of ( NAT ));
assume L1831: R7 in ( dom R16 );
L1832: R7 in ( Seg ( len R16 ) ) by L1831 , FINSEQ_1:def 3;
L1833: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds ((R7 in ( dom R16 ) & R8 in ( dom R17 ) & ( R16 . R7 ) in ( divset (R17 , R8) )) implies R8 >= 2)))
proof
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
assume L1834: R7 in ( dom R16 );
assume that
L1835: R8 in ( dom R17 )
and
L1836: ( R16 . R7 ) in ( divset (R17 , R8) );
assume L1837: R8 < 2;
L1838: R8 < ( 1 + 1 ) by L1837;
L1839: R8 <= 1 by L1838 , NAT_1:13;
L1840: R8 in ( Seg ( len R17 ) ) by L1835 , FINSEQ_1:def 3;
L1841: R8 >= 1 by L1840 , FINSEQ_1:1;
L1842: R8 = 1 by L1841 , L1839 , XXREAL_0:1;
L1843: ( lower_bound ( divset (R17 , R8) ) ) = ( lower_bound R15 ) by L1842 , L1835 , INTEGRA1:def 4;
L1844: ( R16 . R7 ) <= ( upper_bound ( divset (R17 , R8) ) ) by L1836 , INTEGRA2:1;
L1845: ( delta R17 ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) )
proof
per cases ;
suppose L1846: R7 = 1;

L1847: ( len R16 ) in ( Seg ( len R16 ) ) by FINSEQ_1:3;
L1848: 1 <= ( len R16 ) by L1847 , FINSEQ_1:1;
L1849: 1 in ( Seg ( len R16 ) ) by L1848 , FINSEQ_1:1;
L1850: 1 in ( dom R16 ) by L1849 , FINSEQ_1:def 3;
L1851: ( lower_bound ( divset (R16 , 1) ) ) = ( lower_bound R15 ) by L1850 , INTEGRA1:def 4;
L1852: 1 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L1849 , INTEGRA1:def 6;
L1853: 1 in ( dom ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L1852 , FINSEQ_1:def 3;
L1854: ( vol ( divset (R16 , 1) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . 1 ) by L1850 , INTEGRA1:20;
L1855: ( vol ( divset (R16 , 1) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L1854 , L1853 , FUNCT_1:def 3;
L1856: ( vol ( divset (R16 , 1) ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L1855 , XXREAL_2:def 7;
L1857: ( upper_bound ( divset (R16 , 1) ) ) = ( R16 . 1 ) by L1850 , INTEGRA1:def 4;
L1858: ( ( upper_bound ( divset (R17 , R8) ) ) - ( lower_bound R15 ) ) >= ( ( R16 . 1 ) - ( lower_bound R15 ) ) by L1844 , L1846 , XREAL_1:9;
L1859: ( vol ( divset (R17 , R8) ) ) >= ( ( upper_bound ( divset (R16 , 1) ) ) - ( lower_bound ( divset (R16 , 1) ) ) ) by L1858 , L1843 , L1851 , L1857 , INTEGRA1:def 5;
L1860: ( vol ( divset (R17 , R8) ) ) >= ( vol ( divset (R16 , 1) ) ) by L1859 , INTEGRA1:def 5;
L1861: ( vol ( divset (R17 , R8) ) ) <= ( delta R17 ) by L1835 , L350;
L1862: ( delta R17 ) >= ( vol ( divset (R16 , 1) ) ) by L1861 , L1860 , XXREAL_0:2;
thus L1863: thesis by L1862 , L1856 , XXREAL_0:2;
end;
suppose L1864: R7 <> 1;

L1865: ( R16 . ( R7 - 1 ) ) in R15 by L1864 , L1834 , INTEGRA1:7;
L1866: ( lower_bound R15 ) <= ( R16 . ( R7 - 1 ) ) by L1865 , INTEGRA2:1;
L1867: ( lower_bound ( divset (R16 , R7) ) ) = ( R16 . ( R7 - 1 ) ) by L1834 , L1864 , INTEGRA1:def 4;
L1868: ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound R15 ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound ( divset (R16 , R7) ) ) ) by L1867 , L1866 , XREAL_1:10;
L1869: ( upper_bound ( divset (R16 , R7) ) ) = ( R16 . R7 ) by L1834 , L1864 , INTEGRA1:def 4;
L1870: ( ( upper_bound ( divset (R17 , R8) ) ) - ( lower_bound ( divset (R17 , R8) ) ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound R15 ) ) by L1869 , L1844 , L1843 , XREAL_1:9;
L1871: ( ( upper_bound ( divset (R17 , R8) ) ) - ( lower_bound ( divset (R17 , R8) ) ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound ( divset (R16 , R7) ) ) ) by L1870 , L1868 , XXREAL_0:2;
L1872: ( vol ( divset (R17 , R8) ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound ( divset (R16 , R7) ) ) ) by L1871 , INTEGRA1:def 5;
L1873: ( vol ( divset (R17 , R8) ) ) >= ( vol ( divset (R16 , R7) ) ) by L1872 , INTEGRA1:def 5;
L1874: R7 in ( Seg ( len R16 ) ) by L1834 , FINSEQ_1:def 3;
L1875: R7 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L1874 , INTEGRA1:def 6;
L1876: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L1875 , FINSEQ_1:def 3;
L1877: ( vol ( divset (R16 , R7) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . R7 ) by L1834 , INTEGRA1:20;
L1878: ( vol ( divset (R16 , R7) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L1877 , L1876 , FUNCT_1:def 3;
L1879: ( vol ( divset (R16 , R7) ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L1878 , XXREAL_2:def 7;
L1880: ( vol ( divset (R17 , R8) ) ) <= ( delta R17 ) by L1835 , L350;
L1881: ( delta R17 ) >= ( vol ( divset (R16 , R7) ) ) by L1880 , L1873 , XXREAL_0:2;
thus L1882: thesis by L1881 , L1879 , XXREAL_0:2;
end;
end;
thus L1884: contradiction by L1845 , L1821;
end;
L1885: S3[ 1 ]
proof
L1886: ( len R16 ) in ( Seg ( len R16 ) ) by FINSEQ_1:3;
L1887: 1 <= ( len R16 ) by L1886 , FINSEQ_1:1;
L1888: 1 in ( dom R16 ) by L1887 , FINSEQ_3:25;
consider R8 being (Element of ( NAT )) such that L1889: R8 in ( dom R17 ) and L1890: ( R16 . 1 ) in ( divset (R17 , R8) ) by L1888 , L67 , INTEGRA1:6;
L1891: ( H7(R18 , ( indx (R18 , R17 , R8) )) - H7(R17 , R8) ) <= ( ( 1 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )
proof
L1892: R8 <> 1 by L1833 , L1888 , L1889 , L1890;
reconsider D45 = ( R8 - 1 ) as (Element of ( NAT )) by L1892 , L1889 , INTEGRA1:7;
L1893: D45 in ( dom R17 ) by L1889 , L1892 , INTEGRA1:7;
L1894: D45 in ( Seg ( len R17 ) ) by L1893 , FINSEQ_1:def 3;
L1895: D45 in ( Seg ( len ( lower_volume (R19 , R17) ) ) ) by L1894 , INTEGRA1:def 7;
L1896: D45 in ( dom ( lower_volume (R19 , R17) ) ) by L1895 , FINSEQ_1:def 3;
L1897: ( R8 - 1 ) in ( dom R17 ) by L1889 , L1892 , INTEGRA1:7;
L1898: ( indx (R18 , R17 , D45) ) in ( dom R18 ) by L1897 , L1824 , INTEGRA1:def 19;
L1899: ( indx (R18 , R17 , D45) ) in ( Seg ( len R18 ) ) by L1898 , FINSEQ_1:def 3;
L1900: 1 <= ( indx (R18 , R17 , D45) ) by L1899 , FINSEQ_1:1;
L1901: ( mid (R18 , 1 , ( indx (R18 , R17 , D45) )) ) is  increasing by L1900 , L1898 , INTEGRA1:35;
L1902: ( R18 | ( indx (R18 , R17 , D45) ) ) is  increasing by L1901 , L1900 , FINSEQ_6:116;
L1903: R8 < ( R8 + 1 ) by NAT_1:13;
L1904: D45 < R8 by L1903 , XREAL_1:19;
L1905: ( indx (R18 , R17 , D45) ) < ( indx (R18 , R17 , R8) ) by L1904 , L1824 , L1889 , L1893 , L303;
L1906: ( ( indx (R18 , R17 , D45) ) + 1 ) <= ( indx (R18 , R17 , R8) ) by L1905 , NAT_1:13;
L1907: ( ( Sum ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) - ( Sum ( mid (( lower_volume (R19 , R17) ) , R8 , R8) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) )
proof
L1908: ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , D45) ) ) <= 2
proof
reconsider D46 = ( ( indx (R18 , R17 , D45) ) + 1 ) as (Element of ( NAT ));
reconsider D47 = ( D46 + 1 ) as (Element of ( NAT ));
assume L1909: ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , D45) ) ) > 2;
L1910: ( ( indx (R18 , R17 , D45) ) + ( 1 + 1 ) ) < ( indx (R18 , R17 , R8) ) by L1909 , XREAL_1:20;
L1911: D46 < D47 by NAT_1:13;
L1912: ( indx (R18 , R17 , D45) ) <= D47 by L1911 , NAT_1:13;
L1913: 1 <= D47 by L1912 , L1900 , XXREAL_0:2;
L1914: ( indx (R18 , R17 , R8) ) in ( dom R18 ) by L1824 , L1889 , INTEGRA1:def 19;
L1915: ( indx (R18 , R17 , R8) ) <= ( len R18 ) by L1914 , FINSEQ_3:25;
L1916: D47 <= ( len R18 ) by L1915 , L1910 , XXREAL_0:2;
L1917: D47 in ( Seg ( len R18 ) ) by L1916 , L1913 , FINSEQ_1:1;
L1918: D47 in ( dom R18 ) by L1917 , FINSEQ_1:def 3;
L1919: ( R18 . D47 ) < ( R18 . ( indx (R18 , R17 , R8) ) ) by L1918 , L1910 , L1914 , SEQM_3:def 1;
L1920: 1 <= D46 by L1900 , NAT_1:13;
L1921: ( R17 . R8 ) = ( R18 . ( indx (R18 , R17 , R8) ) ) by L1824 , L1889 , INTEGRA1:def 19;
L1922: D46 <= ( indx (R18 , R17 , R8) ) by L1910 , L1911 , XXREAL_0:2;
L1923: D46 <= ( len R18 ) by L1922 , L1915 , XXREAL_0:2;
L1924: D46 in ( Seg ( len R18 ) ) by L1923 , L1920 , FINSEQ_1:1;
L1925: D46 in ( dom R18 ) by L1924 , FINSEQ_1:def 3;
L1926: ( R18 . D46 ) < ( R18 . D47 ) by L1925 , L1911 , L1918 , SEQM_3:def 1;
L1927: ( indx (R18 , R17 , D45) ) < D46 by NAT_1:13;
L1928: ( R18 . ( indx (R18 , R17 , D45) ) ) < ( R18 . D46 ) by L1927 , L1898 , L1925 , SEQM_3:def 1;
L1929: ( R17 . D45 ) = ( R18 . ( indx (R18 , R17 , D45) ) ) by L1824 , L1893 , INTEGRA1:def 19;
L1930: ((not ( R18 . D46 ) in ( rng R17 )) & (not ( R18 . D47 ) in ( rng R17 )))
proof
assume L1931: (( R18 . D46 ) in ( rng R17 ) or ( R18 . D47 ) in ( rng R17 ));
per cases  by L1931;
suppose L1932: ( R18 . D46 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L1933: R10 in ( dom R17 ) and L1934: ( R17 . R10 ) = ( R18 . D46 ) by L1932 , PARTFUN1:3;
L1935: D45 < R10 by L1893 , L1928 , L1929 , L1933 , L1934 , SEQ_4:137;
L1936: R8 < ( R10 + 1 ) by L1935 , XREAL_1:19;
L1937: ( R18 . D46 ) < ( R18 . ( indx (R18 , R17 , R8) ) ) by L1926 , L1919 , XXREAL_0:2;
L1938: R10 < R8 by L1937 , L1889 , L1921 , L1933 , L1934 , SEQ_4:137;
thus L1939: contradiction by L1938 , L1936 , NAT_1:13;
end;
suppose L1940: ( R18 . D47 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L1941: R10 in ( dom R17 ) and L1942: ( R17 . R10 ) = ( R18 . D47 ) by L1940 , PARTFUN1:3;
L1943: ( R18 . ( indx (R18 , R17 , D45) ) ) < ( R18 . D47 ) by L1928 , L1926 , XXREAL_0:2;
L1944: D45 < R10 by L1943 , L1893 , L1929 , L1941 , L1942 , SEQ_4:137;
L1945: R8 < ( R10 + 1 ) by L1944 , XREAL_1:19;
L1946: R10 < R8 by L1889 , L1919 , L1921 , L1941 , L1942 , SEQ_4:137;
thus L1947: contradiction by L1946 , L1945 , NAT_1:13;
end;
end;
L1949: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L1889 , L1892 , INTEGRA1:def 4;
L1950: ( upper_bound ( divset (R17 , R8) ) ) = ( R18 . ( indx (R18 , R17 , R8) ) ) by L1949 , L1824 , L1889 , INTEGRA1:def 19;
L1951: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . D45 ) by L1889 , L1892 , INTEGRA1:def 4;
L1952: ( lower_bound ( divset (R17 , R8) ) ) = ( R18 . ( indx (R18 , R17 , D45) ) ) by L1951 , L1824 , L1893 , INTEGRA1:def 19;
L1953: ( R18 . D47 ) in ( ( rng R16 ) \/ ( rng R17 ) ) by L1825 , L1918 , FUNCT_1:def 3;
L1954: ( R18 . D47 ) in ( rng R16 ) by L1953 , L1930 , XBOOLE_0:def 3;
L1955: ( R18 . D46 ) in ( ( rng R16 ) \/ ( rng R17 ) ) by L1825 , L1925 , FUNCT_1:def 3;
L1956: ( R18 . D46 ) in ( rng R16 ) by L1955 , L1930 , XBOOLE_0:def 3;
L1957: ( R18 . ( indx (R18 , R17 , D45) ) ) <= ( R18 . D47 ) by L1928 , L1926 , XXREAL_0:2;
L1958: ( R18 . D47 ) in ( divset (R17 , R8) ) by L1957 , L1919 , L1952 , L1950 , INTEGRA2:1;
L1959: ( R18 . D47 ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L1958 , L1954 , XBOOLE_0:def 4;
L1960: ( R18 . D46 ) <= ( R18 . ( indx (R18 , R17 , R8) ) ) by L1926 , L1919 , XXREAL_0:2;
L1961: ( R18 . D46 ) in ( divset (R17 , R8) ) by L1960 , L1928 , L1952 , L1950 , INTEGRA2:1;
L1962: ( R18 . D46 ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L1961 , L1956 , XBOOLE_0:def 4;
thus L1963: contradiction by L1962 , L1821 , L1889 , L1911 , L1925 , L1918 , L1959 , L177 , SEQ_4:138;
end;
L1964: 1 <= ( ( indx (R18 , R17 , D45) ) + 1 ) by L1900 , NAT_1:13;
L1965: R8 <= ( len R17 ) by L1889 , FINSEQ_3:25;
L1966: R8 <= ( len ( lower_volume (R19 , R17) ) ) by L1965 , INTEGRA1:def 7;
L1967: 1 <= R8 by L1889 , FINSEQ_3:25;
L1968: ( ( mid (( lower_volume (R19 , R17) ) , R8 , R8) ) . 1 ) = ( ( lower_volume (R19 , R17) ) . R8 ) by L1967 , L1966 , FINSEQ_6:118;
L1969: ( ( R8 -' R8 ) + 1 ) = 1 by L1;
L1970: ( len ( mid (( lower_volume (R19 , R17) ) , R8 , R8) ) ) = 1 by L1969 , L1967 , L1966 , FINSEQ_6:118;
L1971: ( mid (( lower_volume (R19 , R17) ) , R8 , R8) ) = <* ( ( lower_volume (R19 , R17) ) . R8 ) *> by L1970 , L1968 , FINSEQ_1:40;
L1972: ( Sum ( mid (( lower_volume (R19 , R17) ) , R8 , R8) ) ) = ( ( lower_volume (R19 , R17) ) . R8 ) by L1971 , FINSOP_1:11;
L1973: ( indx (R18 , R17 , R8) ) in ( dom R18 ) by L1824 , L1889 , INTEGRA1:def 19;
L1974: ( indx (R18 , R17 , R8) ) in ( Seg ( len R18 ) ) by L1973 , FINSEQ_1:def 3;
L1975: 1 <= ( indx (R18 , R17 , R8) ) by L1974 , FINSEQ_1:1;
L1976: ( indx (R18 , R17 , R8) ) in ( Seg ( len ( lower_volume (R19 , R18) ) ) ) by L1974 , INTEGRA1:def 7;
L1977: ( indx (R18 , R17 , R8) ) <= ( len ( lower_volume (R19 , R18) ) ) by L1976 , FINSEQ_1:1;
L1978: ( ( indx (R18 , R17 , D45) ) + 1 ) <= ( len ( lower_volume (R19 , R18) ) ) by L1977 , L1906 , XXREAL_0:2;
L1979: ( ( indx (R18 , R17 , D45) ) + 1 ) in ( Seg ( len ( lower_volume (R19 , R18) ) ) ) by L1978 , L1964 , FINSEQ_1:1;
L1980: ( ( indx (R18 , R17 , D45) ) + 1 ) in ( Seg ( len R18 ) ) by L1979 , INTEGRA1:def 7;
L1981: ( ( indx (R18 , R17 , D45) ) + 1 ) in ( dom R18 ) by L1980 , FINSEQ_1:def 3;
L1982: ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , D45) ) + 1 ) ) = ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , D45) ) + 1 ) ) by L1906 , XREAL_1:233;
L1983: ( ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , D45) ) + 1 ) ) + 1 ) <= 2 by L1982 , L1908;
L1984: ( len ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) <= 2 by L1983 , L1906 , L1975 , L1977 , L1964 , L1978 , FINSEQ_6:118;
L1985: ( ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , D45) ) + 1 ) ) + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
L1986: 1 <= ( len ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) by L1985 , L1906 , L1975 , L1977 , L1964 , L1978 , FINSEQ_6:118;
L1987:
now
per cases  by L1986 , L1984 , L4;
suppose L1988: ( len ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = 1;

L1989: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L1889 , L1892 , INTEGRA1:def 4;
L1990: ( upper_bound ( divset (R17 , R8) ) ) = ( R18 . ( indx (R18 , R17 , R8) ) ) by L1989 , L1824 , L1889 , INTEGRA1:def 19;
L1991: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . D45 ) by L1889 , L1892 , INTEGRA1:def 4;
L1992: ( lower_bound ( divset (R17 , R8) ) ) = ( R18 . ( indx (R18 , R17 , D45) ) ) by L1991 , L1824 , L1893 , INTEGRA1:def 19;
L1993: ( divset (R17 , R8) ) = [. ( R18 . ( indx (R18 , R17 , D45) ) ) , ( R18 . ( indx (R18 , R17 , R8) ) ) .] by L1992 , L1990 , INTEGRA1:4;
L1994: ( delta R17 ) >= ( 0 ) by L314;
L1995: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L1809 , L326 , XREAL_1:48;
L1996: ( indx (R18 , R17 , R8) ) in ( dom R18 ) by L1824 , L1889 , INTEGRA1:def 19;
L1997: ( ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , D45) ) + 1 ) ) + 1 ) = 1 by L1906 , L1975 , L1977 , L1964 , L1978 , L1988 , FINSEQ_6:118;
L1998: ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , D45) ) + 1 ) ) = ( 0 ) by L1997 , L1906 , XREAL_1:233;
L1999: ( indx (R18 , R17 , R8) ) <> 1 by L1998 , L1899 , FINSEQ_1:1;
L2000: ( upper_bound ( divset (R18 , ( indx (R18 , R17 , R8) )) ) ) = ( R18 . ( indx (R18 , R17 , R8) ) ) by L1999 , L1996 , INTEGRA1:def 4;
L2001: ( ( indx (R18 , R17 , R8) ) - 1 ) = ( indx (R18 , R17 , D45) ) by L1998;
L2002: ( lower_bound ( divset (R18 , ( indx (R18 , R17 , R8) )) ) ) = ( R18 . ( indx (R18 , R17 , D45) ) ) by L2001 , L1900 , L1998 , L1996 , INTEGRA1:def 4;
L2003: ( divset (R18 , ( indx (R18 , R17 , R8) )) ) = ( divset (R17 , R8) ) by L2002 , L1993 , L2000 , INTEGRA1:4;
L2004: ( ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . 1 ) = ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 1 ) ) by L1975 , L1977 , L1964 , L1978 , FINSEQ_6:118;
L2005: ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) = <* ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 1 ) ) *> by L2004 , L1988 , FINSEQ_1:40;
L2006: ( Sum ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 1 ) ) by L2005 , FINSOP_1:11
.= ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) ) by L1981 , INTEGRA1:def 7
.= ( Sum ( mid (( lower_volume (R19 , R17) ) , R8 , R8) ) ) by L1889 , L1972 , L1998 , L2003 , INTEGRA1:def 7;
thus L2007: thesis by L2006 , L1994 , L1995;
end;
suppose L2008: ( len ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = 2;

L2009: ( ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . 1 ) = ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 1 ) ) by L1975 , L1977 , L1964 , L1978 , FINSEQ_6:118;
L2010: ( 2 + ( ( indx (R18 , R17 , D45) ) + 1 ) ) >= ( ( 0 ) + 1 ) by XREAL_1:7;
L2011: ( ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . 2 ) = ( H6(R18) . ( ( 2 + ( ( indx (R18 , R17 , D45) ) + 1 ) ) -' 1 ) ) by L1906 , L1975 , L1977 , L1964 , L1978 , L2008 , FINSEQ_6:118
.= ( H6(R18) . ( ( 2 + ( ( indx (R18 , R17 , D45) ) + 1 ) ) - 1 ) ) by L2010 , XREAL_1:233
.= ( H6(R18) . ( ( indx (R18 , R17 , D45) ) + ( 1 + 1 ) ) );
L2012: ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) = <* ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 1 ) ) , ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 2 ) ) *> by L2011 , L2008 , L2009 , FINSEQ_1:44;
L2013: ( Sum ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = ( ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 1 ) ) + ( ( lower_volume (R19 , R18) ) . ( ( indx (R18 , R17 , D45) ) + 2 ) ) ) by L2012 , RVSUM_1:77;
L2014: ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L2015: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L1889 , L1892 , INTEGRA1:def 4;
L2016: ( upper_bound ( divset (R17 , R8) ) ) = ( R18 . ( indx (R18 , R17 , R8) ) ) by L2015 , L1824 , L1889 , INTEGRA1:def 19;
L2017: ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) >= ( 0 ) by INTEGRA1:9;
L2018: ( ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , D45) ) + 1 ) ) + 1 ) = 2 by L1906 , L1975 , L1977 , L1964 , L1978 , L2008 , FINSEQ_6:118;
L2019: ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , D45) ) + 1 ) ) + 1 ) = 2 by L2018 , L1906 , XREAL_1:233;
L2020: ( ( indx (R18 , R17 , D45) ) + 2 ) in ( dom R18 ) by L2019 , L1824 , L1889 , INTEGRA1:def 19;
L2021: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . D45 ) by L1889 , L1892 , INTEGRA1:def 4;
L2022: ( lower_bound ( divset (R17 , R8) ) ) = ( R18 . ( indx (R18 , R17 , D45) ) ) by L2021 , L1824 , L1893 , INTEGRA1:def 19;
L2023: ( vol ( divset (R17 , R8) ) ) = ( ( ( ( R18 . ( ( indx (R18 , R17 , D45) ) + 2 ) ) - ( R18 . ( ( indx (R18 , R17 , D45) ) + 1 ) ) ) + ( R18 . ( ( indx (R18 , R17 , D45) ) + 1 ) ) ) - ( R18 . ( indx (R18 , R17 , D45) ) ) ) by L2022 , L2016 , L2019 , INTEGRA1:def 5;
L2024: ( ( indx (R18 , R17 , D45) ) + 1 ) in ( Seg ( len ( lower_volume (R19 , R18) ) ) ) by L1964 , L1978 , FINSEQ_1:1;
L2025: ( ( indx (R18 , R17 , D45) ) + 1 ) in ( Seg ( len R18 ) ) by L2024 , INTEGRA1:def 7;
L2026: ( ( indx (R18 , R17 , D45) ) + 1 ) in ( dom R18 ) by L2025 , FINSEQ_1:def 3;
L2027: ( ( indx (R18 , R17 , D45) ) + 1 ) <> 1 by L1900 , NAT_1:13;
L2028: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D45) ) + 1 ) ) by L2027 , L2026 , INTEGRA1:def 4;
L2029: ( ( ( indx (R18 , R17 , D45) ) + 1 ) - 1 ) = ( ( indx (R18 , R17 , D45) ) + ( 0 ) );
L2030: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) = ( R18 . ( indx (R18 , R17 , D45) ) ) by L2029 , L2026 , L2027 , INTEGRA1:def 4;
L2031: ( ( ( indx (R18 , R17 , D45) ) + 1 ) + 1 ) > 1 by L1964 , NAT_1:13;
L2032: ( ( ( indx (R18 , R17 , D45) ) + 2 ) - 1 ) = ( ( indx (R18 , R17 , D45) ) + 1 );
L2033: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D45) ) + 1 ) ) by L2032 , L2020 , L2031 , INTEGRA1:def 4;
L2034: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) = ( R18 . ( ( indx (R18 , R17 , D45) ) + 2 ) ) by L2020 , L2031 , INTEGRA1:def 4;
L2035: ( vol ( divset (R17 , R8) ) ) = ( ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) + ( R18 . ( ( indx (R18 , R17 , D45) ) + 1 ) ) ) - ( R18 . ( indx (R18 , R17 , D45) ) ) ) by L2034 , L2033 , L2023 , INTEGRA1:def 5
.= ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) + ( ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) - ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) ) ) by L2030 , L2028;
L2036: ( vol ( divset (R17 , R8) ) ) = ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) ) by L2035 , INTEGRA1:def 5;
L2037: ( ( lower_volume (R19 , R17) ) . R8 ) = ( ( lower_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) ) ) by L2036 , L1889 , INTEGRA1:def 7;
L2038: ( ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) - ( Sum ( mid (H6(R17) , R8 , R8) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) + ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) ) )
proof
set D48 = ( ( indx (R18 , R17 , D45) ) + 2 );
set D49 = ( ( indx (R18 , R17 , D45) ) + 1 );
set D50 = ( vol ( divset (R18 , D49) ) );
set D51 = ( vol ( divset (R18 , D48) ) );
L2039: ( divset (R17 , R8) ) c= R15 by L1889 , INTEGRA1:8;
L2040: ( lower_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) >= ( lower_bound ( rng R19 ) ) by L2039 , L1809 , L331;
L2041: D49 in ( dom R18 ) by L1980 , FINSEQ_1:def 3;
L2042: ( divset (R18 , D49) ) c= R15 by L2041 , INTEGRA1:8;
L2043: ( lower_bound ( rng ( R19 | ( divset (R18 , D49) ) ) ) ) <= ( upper_bound ( rng R19 ) ) by L2042 , L1809 , L331;
L2044: ( ( lower_bound ( rng ( R19 | ( divset (R18 , D49) ) ) ) ) * ( vol ( divset (R18 , D49) ) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) by L2043 , L2014 , XREAL_1:64;
L2045: ( ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , D45) ) + 1 ) ) + 1 ) = 2 by L1906 , L1975 , L1977 , L1964 , L1978 , L2008 , FINSEQ_6:118;
L2046: ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , D45) ) + 1 ) ) + 1 ) = 2 by L2045 , L1906 , XREAL_1:233;
L2047: ( indx (R18 , R17 , R8) ) in ( dom R18 ) by L1824 , L1889 , INTEGRA1:def 19;
L2048: ( divset (R18 , D48) ) c= R15 by L2047 , L2046 , INTEGRA1:8;
L2049: ( lower_bound ( rng ( R19 | ( divset (R18 , D48) ) ) ) ) <= ( upper_bound ( rng R19 ) ) by L2048 , L1809 , L331;
reconsider D52 = ( lower_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) as  real number;
L2050: ( ( ( lower_volume (R19 , R17) ) . R8 ) - ( D52 * D50 ) ) = ( D52 * D51 ) by L2037;
L2051: ( ( lower_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (R18 , D48) ) ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) by L2017 , L2040 , XREAL_1:64;
L2052: ( Sum ( mid (H6(R17) , R8 , R8) ) ) >= ( ( ( lower_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (R18 , D49) ) ) ) + ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) ) by L2051 , L1972 , L2050 , XREAL_1:19;
L2053: ( ( Sum ( mid (H6(R17) , R8 , R8) ) ) - ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) ) >= ( ( lower_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (R18 , D49) ) ) ) by L2052 , XREAL_1:19;
L2054: ( ( lower_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (R18 , D49) ) ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) by L2014 , L2040 , XREAL_1:64;
L2055: ( ( Sum ( mid (H6(R17) , R8 , R8) ) ) - ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) by L2054 , L2053 , XXREAL_0:2;
L2056: ( Sum ( mid (H6(R17) , R8 , R8) ) ) >= ( ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) + ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) ) by L2055 , XREAL_1:19;
L2057: ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = ( ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) ) + ( H6(R18) . ( ( indx (R18 , R17 , D45) ) + 1 ) ) ) by L2013 , L2047 , L2046 , INTEGRA1:def 7
.= ( ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 2 )) ) ) ) + ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , D45) ) + 1 )) ) ) ) ) by L1981 , INTEGRA1:def 7;
L2058: ( ( Sum ( mid (H6(R18) , D49 , ( indx (R18 , R17 , R8) )) ) ) - ( ( lower_bound ( rng ( R19 | ( divset (R18 , D49) ) ) ) ) * ( vol ( divset (R18 , D49) ) ) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) by L2057 , L2017 , L2049 , XREAL_1:64;
L2059: ( Sum ( mid (H6(R18) , D49 , ( indx (R18 , R17 , R8) )) ) ) <= ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) + ( ( lower_bound ( rng ( R19 | ( divset (R18 , D49) ) ) ) ) * ( vol ( divset (R18 , D49) ) ) ) ) by L2058 , XREAL_1:20;
L2060: ( ( Sum ( mid (H6(R18) , D49 , ( indx (R18 , R17 , R8) )) ) ) - ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) ) <= ( ( lower_bound ( rng ( R19 | ( divset (R18 , D49) ) ) ) ) * ( vol ( divset (R18 , D49) ) ) ) by L2059 , XREAL_1:20;
L2061: ( ( Sum ( mid (H6(R18) , D49 , ( indx (R18 , R17 , R8) )) ) ) - ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) by L2060 , L2044 , XXREAL_0:2;
L2062: ( Sum ( mid (H6(R18) , D49 , ( indx (R18 , R17 , R8) )) ) ) <= ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) + ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) ) by L2061 , XREAL_1:20;
L2063: ( ( Sum ( mid (H6(R18) , D49 , ( indx (R18 , R17 , R8) )) ) ) - ( Sum ( mid (H6(R17) , R8 , R8) ) ) ) <= ( ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) + ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) ) - ( ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D48) ) ) ) + ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R18 , D49) ) ) ) ) ) by L2062 , L2056 , XREAL_1:13;
thus L2064: thesis by L2063;
end;
L2065: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L1809 , L326 , XREAL_1:48;
L2066: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( vol ( divset (R17 , R8) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) by L2065 , L1889 , L350 , XREAL_1:64;
thus L2067: thesis by L2066 , L2036 , L2038 , XXREAL_0:2;
end;
end;
thus L2069: thesis by L1987;
end;
L2070: R8 < ( R8 + 1 ) by NAT_1:13;
L2071: D45 < R8 by L2070 , XREAL_1:19;
L2072: ( indx (R18 , R17 , R8) ) in ( dom R18 ) by L1824 , L1889 , INTEGRA1:def 19;
L2073: ( indx (R18 , R17 , R8) ) in ( Seg ( len R18 ) ) by L2072 , FINSEQ_1:def 3;
L2074: 1 <= ( indx (R18 , R17 , R8) ) by L2073 , FINSEQ_1:1;
L2075: ( indx (R18 , R17 , D45) ) <= ( len R18 ) by L1899 , FINSEQ_1:1;
L2076: ( len ( R18 | ( indx (R18 , R17 , D45) ) ) ) = ( indx (R18 , R17 , D45) ) by L2075 , FINSEQ_1:59;
L2077: D45 in ( Seg ( len R17 ) ) by L1897 , FINSEQ_1:def 3;
L2078: D45 <= ( len R17 ) by L2077 , FINSEQ_1:1;
L2079: (for R12 being set holds (R12 in ( rng ( R17 | D45 ) ) implies R12 in ( rng ( R18 | ( indx (R18 , R17 , D45) ) ) )))
proof
let R12 being set;
assume L2080: R12 in ( rng ( R17 | D45 ) );
consider R9 being (Element of ( NAT )) such that L2081: R9 in ( dom ( R17 | D45 ) ) and L2082: R12 = ( ( R17 | D45 ) . R9 ) by L2080 , PARTFUN1:3;
L2083: R9 in ( Seg ( len ( R17 | D45 ) ) ) by L2081 , FINSEQ_1:def 3;
L2084: R9 in ( Seg D45 ) by L2083 , L2078 , FINSEQ_1:59;
L2085: R9 in ( dom R17 ) by L2084 , L1893 , RFINSEQ:6;
L2086: R9 <= D45 by L2084 , FINSEQ_1:1;
L2087: ( R17 . R9 ) <= ( R17 . D45 ) by L2086 , L1897 , L2085 , SEQ_4:137;
L2088: ( R18 . ( indx (R18 , R17 , R9) ) ) <= ( R17 . D45 ) by L2087 , L1824 , L2085 , INTEGRA1:def 19;
L2089: ( R18 . ( indx (R18 , R17 , R9) ) ) <= ( R18 . ( indx (R18 , R17 , D45) ) ) by L2088 , L1824 , L1897 , INTEGRA1:def 19;
L2090: ( ( R17 | D45 ) . R9 ) = ( R17 . R9 ) by L1893 , L2084 , RFINSEQ:6;
L2091: ( R17 . R9 ) in ( rng R17 ) by L2085 , FUNCT_1:def 3;
L2092: R12 in ( rng R18 ) by L2091 , L1825 , L2082 , L2090 , XBOOLE_0:def 3;
consider R10 being (Element of ( NAT )) such that L2093: R10 in ( dom R18 ) and L2094: R12 = ( R18 . R10 ) by L2092 , PARTFUN1:3;
L2095: ( R18 . ( indx (R18 , R17 , R9) ) ) = ( R18 . R10 ) by L1824 , L2082 , L2090 , L2085 , L2094 , INTEGRA1:def 19;
L2096: R10 <= ( indx (R18 , R17 , D45) ) by L2095 , L1898 , L2093 , L2089 , SEQM_3:def 1;
L2097: 1 <= R10 by L2093 , FINSEQ_3:25;
L2098: R10 in ( Seg ( indx (R18 , R17 , D45) ) ) by L2097 , L2096 , FINSEQ_1:1;
L2099: R10 in ( Seg ( len ( R18 | ( indx (R18 , R17 , D45) ) ) ) ) by L2098 , L2075 , FINSEQ_1:59;
L2100: R10 in ( dom ( R18 | ( indx (R18 , R17 , D45) ) ) ) by L2099 , FINSEQ_1:def 3;
L2101: ( R18 . R10 ) = ( ( R18 | ( indx (R18 , R17 , D45) ) ) . R10 ) by L1898 , L2098 , RFINSEQ:6;
thus L2102: thesis by L2101 , L2094 , L2100 , FUNCT_1:def 3;
end;
L2103: ( rng ( R17 | D45 ) ) c= ( rng ( R18 | ( indx (R18 , R17 , D45) ) ) ) by L2079 , TARSKI:def 3;
L2104: 1 <= D45 by L2077 , FINSEQ_1:1;
L2105: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . 1 ) by L1890 , INTEGRA2:1;
L2106: ( R17 . D45 ) <= ( R16 . 1 ) by L2105 , L1889 , L1892 , INTEGRA1:def 4;
L2107: (for R12 being set holds (R12 in ( rng ( R18 | ( indx (R18 , R17 , D45) ) ) ) implies R12 in ( rng ( R17 | D45 ) )))
proof
let R12 being set;
assume L2108: R12 in ( rng ( R18 | ( indx (R18 , R17 , D45) ) ) );
consider R9 being (Element of ( NAT )) such that L2109: R9 in ( dom ( R18 | ( indx (R18 , R17 , D45) ) ) ) and L2110: R12 = ( ( R18 | ( indx (R18 , R17 , D45) ) ) . R9 ) by L2108 , PARTFUN1:3;
L2111: R9 in ( Seg ( len ( R18 | ( indx (R18 , R17 , D45) ) ) ) ) by L2109 , FINSEQ_1:def 3;
L2112: R9 in ( Seg ( indx (R18 , R17 , D45) ) ) by L2111 , L2075 , FINSEQ_1:59;
L2113: R9 in ( dom R18 ) by L2112 , L1898 , RFINSEQ:6;
L2114: ( len ( R17 | D45 ) ) = D45 by L2078 , FINSEQ_1:59;
L2115: R9 <= ( indx (R18 , R17 , D45) ) by L2112 , FINSEQ_1:1;
L2116: ( R18 . R9 ) <= ( R18 . ( indx (R18 , R17 , D45) ) ) by L2115 , L1898 , L2113 , SEQ_4:137;
L2117: ( R18 . R9 ) <= ( R17 . D45 ) by L2116 , L1824 , L1897 , INTEGRA1:def 19;
L2118: (( R18 . R9 ) in ( rng R17 ) implies ( R18 . R9 ) in ( rng ( R17 | D45 ) ))
proof
assume L2119: ( R18 . R9 ) in ( rng R17 );
consider R11 being (Element of ( NAT )) such that L2120: R11 in ( dom R17 ) and L2121: ( R18 . R9 ) = ( R17 . R11 ) by L2119 , PARTFUN1:3;
L2122: R11 in ( Seg ( len R17 ) ) by L2120 , FINSEQ_1:def 3;
L2123: 1 <= R11 by L2122 , FINSEQ_1:1;
L2124: R11 <= D45 by L1893 , L2117 , L2120 , L2121 , SEQM_3:def 1;
L2125: R11 in ( Seg D45 ) by L2124 , L2123 , FINSEQ_1:1;
L2126: ( R18 . R9 ) = ( ( R17 | D45 ) . R11 ) by L2125 , L1893 , L2121 , RFINSEQ:6;
L2127: R11 in ( dom ( R17 | D45 ) ) by L2114 , L2123 , L2124 , FINSEQ_3:25;
thus L2128: thesis by L2127 , L2126 , FUNCT_1:def 3;
end;
L2129: (( R18 . R9 ) in ( rng R16 ) implies ( R18 . R9 ) = ( R17 . D45 ))
proof
assume L2130: ( R18 . R9 ) in ( rng R16 );
consider R10 being (Element of ( NAT )) such that L2131: R10 in ( dom R16 ) and L2132: ( R18 . R9 ) = ( R16 . R10 ) by L2130 , PARTFUN1:3;
L2133: 1 <= R10 by L2131 , FINSEQ_3:25;
L2134: ( R16 . 1 ) <= ( R18 . R9 ) by L2133 , L1888 , L2131 , L2132 , SEQ_4:137;
L2135: ( R17 . D45 ) <= ( R18 . R9 ) by L2134 , L2106 , XXREAL_0:2;
thus L2136: thesis by L2135 , L2117 , XXREAL_0:1;
end;
L2137: (( R18 . R9 ) in ( rng R16 ) implies ( R18 . R9 ) in ( rng ( R17 | D45 ) ))
proof
L2138: D45 in ( Seg ( len ( R17 | D45 ) ) ) by L2104 , L2114 , FINSEQ_1:1;
L2139: D45 in ( dom ( R17 | D45 ) ) by L2138 , FINSEQ_1:def 3;
L2140: ( ( R17 | D45 ) . D45 ) in ( rng ( R17 | D45 ) ) by L2139 , FUNCT_1:def 3;
assume L2141: ( R18 . R9 ) in ( rng R16 );
L2142: D45 in ( Seg D45 ) by L2104 , FINSEQ_1:1;
thus L2143: thesis by L2142 , L1893 , L2129 , L2141 , L2140 , RFINSEQ:6;
end;
L2144: ( R18 . R9 ) in ( rng R18 ) by L2113 , FUNCT_1:def 3;
thus L2145: thesis by L2144 , L1825 , L1898 , L2110 , L2112 , L2137 , L2118 , RFINSEQ:6 , XBOOLE_0:def 3;
end;
L2146: ( rng ( R18 | ( indx (R18 , R17 , D45) ) ) ) c= ( rng ( R17 | D45 ) ) by L2107 , TARSKI:def 3;
L2147: ( rng ( R18 | ( indx (R18 , R17 , D45) ) ) ) = ( rng ( R17 | D45 ) ) by L2146 , L2103 , XBOOLE_0:def 10;
L2148: ( mid (R17 , 1 , D45) ) is  increasing by L1889 , L1892 , L2104 , INTEGRA1:7 , INTEGRA1:35;
L2149: ( R17 | D45 ) is  increasing by L2148 , L2104 , FINSEQ_6:116;
L2150: ( R18 | ( indx (R18 , R17 , D45) ) ) = ( R17 | D45 ) by L2149 , L1902 , L2147 , L284;
L2151: (for R9 being (Element of ( NAT )) holds ((1 <= R9 & R9 <= D45) implies R9 = ( indx (R18 , R17 , R9) )))
proof
let R9 being (Element of ( NAT ));
assume that
L2152: 1 <= R9
and
L2153: R9 <= D45;
assume L2154: R9 <> ( indx (R18 , R17 , R9) );
L2155:
now
per cases  by L2154 , XXREAL_0:1;
suppose L2156: R9 > ( indx (R18 , R17 , R9) );

L2157: R9 <= ( len R17 ) by L2078 , L2153 , XXREAL_0:2;
L2158: R9 in ( dom R17 ) by L2157 , L2152 , FINSEQ_3:25;
L2159: ( indx (R18 , R17 , R9) ) in ( dom R18 ) by L2158 , L1824 , INTEGRA1:def 19;
L2160: ( indx (R18 , R17 , R9) ) in ( Seg ( len R18 ) ) by L2159 , FINSEQ_1:def 3;
L2161: 1 <= ( indx (R18 , R17 , R9) ) by L2160 , FINSEQ_1:1;
L2162: ( indx (R18 , R17 , R9) ) < D45 by L2153 , L2156 , XXREAL_0:2;
L2163: ( indx (R18 , R17 , R9) ) in ( Seg D45 ) by L2162 , L2161 , FINSEQ_1:1;
L2164: ( indx (R18 , R17 , R9) ) <= ( indx (R18 , R17 , D45) ) by L1824 , L1893 , L2153 , L2158 , L292;
L2165: ( indx (R18 , R17 , R9) ) in ( Seg ( indx (R18 , R17 , D45) ) ) by L2164 , L2161 , FINSEQ_1:1;
L2166: ( ( R18 | ( indx (R18 , R17 , D45) ) ) . ( indx (R18 , R17 , R9) ) ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L2165 , L1898 , RFINSEQ:6;
L2167: ( indx (R18 , R17 , R9) ) <= ( len R17 ) by L2078 , L2162 , XXREAL_0:2;
L2168: ( indx (R18 , R17 , R9) ) in ( dom R17 ) by L2167 , L2161 , FINSEQ_3:25;
L2169: ( R17 . R9 ) > ( R17 . ( indx (R18 , R17 , R9) ) ) by L2168 , L2156 , L2158 , SEQM_3:def 1;
L2170: ( R17 . R9 ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L1824 , L2158 , INTEGRA1:def 19;
thus L2171: contradiction by L2170 , L1893 , L2150 , L2166 , L2169 , L2163 , RFINSEQ:6;
end;
suppose L2172: R9 < ( indx (R18 , R17 , R9) );

L2173: R9 <= ( len R17 ) by L2078 , L2153 , XXREAL_0:2;
L2174: R9 in ( dom R17 ) by L2173 , L2152 , FINSEQ_3:25;
L2175: ( indx (R18 , R17 , R9) ) <= ( indx (R18 , R17 , D45) ) by L2174 , L1824 , L1893 , L2153 , L292;
L2176: R9 <= ( indx (R18 , R17 , D45) ) by L2175 , L2172 , XXREAL_0:2;
L2177: R9 <= ( len R18 ) by L2176 , L2075 , XXREAL_0:2;
L2178: R9 in ( dom R18 ) by L2177 , L2152 , FINSEQ_3:25;
L2179: R9 in ( Seg D45 ) by L2152 , L2153 , FINSEQ_1:1;
L2180: ( R17 . R9 ) = ( ( R17 | D45 ) . R9 ) by L2179 , L1897 , RFINSEQ:6;
L2181: ( indx (R18 , R17 , R9) ) in ( dom R18 ) by L1824 , L2174 , INTEGRA1:def 19;
L2182: ( R18 . R9 ) < ( R18 . ( indx (R18 , R17 , R9) ) ) by L2181 , L2172 , L2178 , SEQM_3:def 1;
L2183: R9 in ( Seg ( indx (R18 , R17 , D45) ) ) by L2152 , L2176 , FINSEQ_1:1;
L2184: ( R17 . R9 ) = ( R18 . ( indx (R18 , R17 , R9) ) ) by L1824 , L2174 , INTEGRA1:def 19;
thus L2185: contradiction by L2184 , L1898 , L2150 , L2180 , L2182 , L2183 , RFINSEQ:6;
end;
end;
thus L2187: contradiction by L2155;
end;
L2188: (for B30 being Nat holds ((1 <= B30 & B30 <= ( len ( ( lower_volume (R19 , R17) ) | D45 ) )) implies ( ( ( lower_volume (R19 , R17) ) | D45 ) . B30 ) = ( ( ( lower_volume (R19 , R18) ) | ( indx (R18 , R17 , D45) ) ) . B30 )))
proof
L2189: ( indx (R18 , R17 , D45) ) in ( Seg ( len R18 ) ) by L1898 , FINSEQ_1:def 3;
L2190: ( indx (R18 , R17 , D45) ) in ( Seg ( len ( lower_volume (R19 , R18) ) ) ) by L2189 , INTEGRA1:def 7;
L2191: ( indx (R18 , R17 , D45) ) in ( dom ( lower_volume (R19 , R18) ) ) by L2190 , FINSEQ_1:def 3;
let C38 being Nat;
assume that
L2192: 1 <= C38
and
L2193: C38 <= ( len ( ( lower_volume (R19 , R17) ) | D45 ) );
reconsider D53 = C38 as (Element of ( NAT )) by ORDINAL1:def 12;
L2194: ( len ( lower_volume (R19 , R17) ) ) = ( len R17 ) by INTEGRA1:def 7;
L2195: D53 <= D45 by L2194 , L2078 , L2193 , FINSEQ_1:59;
L2196: D53 <= ( len R17 ) by L2195 , L2078 , XXREAL_0:2;
L2197: D53 in ( Seg ( len R17 ) ) by L2196 , L2192 , FINSEQ_1:1;
L2198: D53 in ( dom R17 ) by L2197 , FINSEQ_1:def 3;
L2199: ( indx (R18 , R17 , D53) ) in ( dom R18 ) by L2198 , L1824 , INTEGRA1:def 19;
L2200: D53 in ( Seg D45 ) by L2192 , L2195 , FINSEQ_1:1;
L2201: ( indx (R18 , R17 , D53) ) in ( Seg D45 ) by L2200 , L2151 , L2192 , L2195;
L2202: ( indx (R18 , R17 , D53) ) in ( Seg ( indx (R18 , R17 , D45) ) ) by L2201 , L2104 , L2151;
L2203: ( indx (R18 , R17 , D53) ) <= ( indx (R18 , R17 , D45) ) by L2202 , FINSEQ_1:1;
L2204: ( indx (R18 , R17 , D53) ) <= ( len R18 ) by L2203 , L2075 , XXREAL_0:2;
L2205: ( R17 . D53 ) = ( R18 . ( indx (R18 , R17 , D53) ) ) by L1824 , L2198 , INTEGRA1:def 19;
L2206: (( lower_bound ( divset (R17 , D53) ) ) = ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) & ( upper_bound ( divset (R17 , D53) ) ) = ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ))
proof
per cases ;
suppose L2207: D53 = 1;

L2208: ( upper_bound ( divset (R17 , D53) ) ) = ( R17 . D53 ) by L2207 , L2198 , INTEGRA1:def 4;
L2209: ( lower_bound ( divset (R17 , D53) ) ) = ( lower_bound R15 ) by L2198 , L2207 , INTEGRA1:def 4;
L2210: ( indx (R18 , R17 , D53) ) = 1 by L2104 , L2151 , L2207;
thus L2211: thesis by L2210 , L2199 , L2205 , L2209 , L2208 , INTEGRA1:def 4;
end;
suppose L2212: D53 <> 1;

reconsider D54 = ( D53 - 1 ) as (Element of ( NAT )) by L2212 , L2198 , INTEGRA1:7;
L2213: D53 <= ( D53 + 1 ) by NAT_1:11;
L2214: D54 <= D53 by L2213 , XREAL_1:20;
L2215: D54 <= D45 by L2214 , L2195 , XXREAL_0:2;
L2216: ( D53 - 1 ) in ( dom R17 ) by L2198 , L2212 , INTEGRA1:7;
L2217: D54 in ( Seg ( len R17 ) ) by L2216 , FINSEQ_1:def 3;
L2218: 1 <= D54 by L2217 , FINSEQ_1:1;
L2219: D54 = ( indx (R18 , R17 , D54) ) by L2218 , L2151 , L2215;
L2220: ( R18 . ( ( indx (R18 , R17 , D53) ) - 1 ) ) = ( R18 . ( indx (R18 , R17 , D54) ) ) by L2219 , L2151 , L2192 , L2195;
L2221: ( indx (R18 , R17 , D53) ) <> 1 by L2151 , L2192 , L2195 , L2212;
L2222: ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) = ( R18 . ( ( indx (R18 , R17 , D53) ) - 1 ) ) by L2221 , L2199 , INTEGRA1:def 4;
L2223: ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) = ( R18 . ( indx (R18 , R17 , D53) ) ) by L2199 , L2221 , INTEGRA1:def 4;
L2224: ( upper_bound ( divset (R17 , D53) ) ) = ( R17 . D53 ) by L2198 , L2212 , INTEGRA1:def 4;
L2225: ( lower_bound ( divset (R17 , D53) ) ) = ( R17 . ( D53 - 1 ) ) by L2198 , L2212 , INTEGRA1:def 4;
thus L2226: thesis by L2225 , L1824 , L2198 , L2224 , L2216 , L2222 , L2223 , L2220 , INTEGRA1:def 19;
end;
end;
L2228: ( divset (R18 , ( indx (R18 , R17 , D53) )) ) = [. ( lower_bound ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) , ( upper_bound ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) .] by INTEGRA1:4;
L2229: ( divset (R17 , D53) ) = ( divset (R18 , ( indx (R18 , R17 , D53) )) ) by L2228 , L2206 , INTEGRA1:4;
L2230: D53 in ( dom R17 ) by L2197 , FINSEQ_1:def 3;
L2231: D45 in ( Seg ( len ( lower_volume (R19 , R17) ) ) ) by L1893 , L2194 , FINSEQ_1:def 3;
L2232: D45 in ( dom ( lower_volume (R19 , R17) ) ) by L2231 , FINSEQ_1:def 3;
L2233: ( ( ( lower_volume (R19 , R17) ) | D45 ) . D53 ) = ( ( lower_volume (R19 , R17) ) . D53 ) by L2232 , L2200 , RFINSEQ:6
.= ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) ) ) * ( vol ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) ) by L2230 , L2229 , INTEGRA1:def 7;
L2234: 1 <= ( indx (R18 , R17 , D53) ) by L2151 , L2192 , L2195;
L2235: ( indx (R18 , R17 , D53) ) in ( Seg ( len R18 ) ) by L2234 , L2204 , FINSEQ_1:1;
L2236: ( indx (R18 , R17 , D53) ) in ( dom R18 ) by L2235 , FINSEQ_1:def 3;
L2237: ( ( ( lower_volume (R19 , R18) ) | ( indx (R18 , R17 , D45) ) ) . D53 ) = ( ( ( lower_volume (R19 , R18) ) | ( indx (R18 , R17 , D45) ) ) . ( indx (R18 , R17 , D53) ) ) by L2151 , L2192 , L2195
.= ( ( lower_volume (R19 , R18) ) . ( indx (R18 , R17 , D53) ) ) by L2202 , L2191 , RFINSEQ:6
.= ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) ) ) * ( vol ( divset (R18 , ( indx (R18 , R17 , D53) )) ) ) ) by L2236 , INTEGRA1:def 7;
thus L2238: thesis by L2237 , L2233;
end;
L2239: ( indx (R18 , R17 , D45) ) in ( dom R18 ) by L1824 , L1897 , INTEGRA1:def 19;
L2240: ( indx (R18 , R17 , D45) ) <= ( len R18 ) by L2239 , FINSEQ_3:25;
L2241: ( indx (R18 , R17 , D45) ) <= ( len ( lower_volume (R19 , R18) ) ) by L2240 , INTEGRA1:def 7;
L2242: D45 <= ( len R17 ) by L1897 , FINSEQ_3:25;
L2243: D45 <= ( len ( lower_volume (R19 , R17) ) ) by L2242 , INTEGRA1:def 7;
L2244: ( len ( R18 | ( indx (R18 , R17 , D45) ) ) ) = ( len ( R17 | D45 ) ) by L1902 , L2149 , L2147 , L284;
L2245: ( indx (R18 , R17 , D45) ) = D45 by L2244 , L2078 , L2076 , FINSEQ_1:59;
L2246: ( len ( ( lower_volume (R19 , R17) ) | D45 ) ) = ( indx (R18 , R17 , D45) ) by L2245 , L2243 , FINSEQ_1:59;
L2247: ( len ( ( lower_volume (R19 , R17) ) | D45 ) ) = ( len ( ( lower_volume (R19 , R18) ) | ( indx (R18 , R17 , D45) ) ) ) by L2246 , L2241 , FINSEQ_1:59;
L2248: ( ( lower_volume (R19 , R18) ) | ( indx (R18 , R17 , D45) ) ) = ( ( lower_volume (R19 , R17) ) | D45 ) by L2247 , L2188 , FINSEQ_1:14;
L2249: R8 in ( Seg ( len R17 ) ) by L1889 , FINSEQ_1:def 3;
L2250: 1 <= R8 by L2249 , FINSEQ_1:1;
L2251: ( indx (R18 , R17 , R8) ) in ( Seg ( len H6(R18) ) ) by L2073 , INTEGRA1:def 7;
L2252: ( indx (R18 , R17 , R8) ) in ( dom H6(R18) ) by L2251 , FINSEQ_1:def 3;
L2253: ( indx (R18 , R17 , R8) ) <= ( len R18 ) by L2073 , FINSEQ_1:1;
L2254: ( indx (R18 , R17 , R8) ) <= ( len H6(R18) ) by L2253 , INTEGRA1:def 7;
L2255: R8 in ( Seg ( len H6(R17) ) ) by L2249 , INTEGRA1:def 7;
L2256: R8 in ( dom H6(R17) ) by L2255 , FINSEQ_1:def 3;
L2257: R8 <= ( len R17 ) by L2249 , FINSEQ_1:1;
L2258: R8 <= ( len H6(R17) ) by L2257 , INTEGRA1:def 7;
L2259: D45 in ( Seg ( len R17 ) ) by L1893 , FINSEQ_1:def 3;
L2260: D45 in ( Seg ( len H6(R17) ) ) by L2259 , INTEGRA1:def 7;
L2261: D45 in ( dom H6(R17) ) by L2260 , FINSEQ_1:def 3;
L2262: H7(R17 , D45) = ( Sum ( H6(R17) | D45 ) ) by L2261 , INTEGRA1:def 20;
L2263: ( H7(R17 , D45) + ( Sum ( mid (H6(R17) , R8 , R8) ) ) ) = ( Sum ( ( H6(R17) | D45 ) ^ ( mid (H6(R17) , R8 , R8) ) ) ) by L2262 , RVSUM_1:75
.= ( Sum ( ( mid (H6(R17) , 1 , D45) ) ^ ( mid (H6(R17) , ( D45 + 1 ) , R8) ) ) ) by L2104 , FINSEQ_6:116
.= ( Sum ( mid (H6(R17) , 1 , R8) ) ) by L2104 , L2258 , L2071 , INTEGRA2:4
.= ( Sum ( H6(R17) | R8 ) ) by L2250 , FINSEQ_6:116;
L2264: ( H7(R17 , D45) + ( Sum ( mid (( lower_volume (R19 , R17) ) , R8 , R8) ) ) ) = H7(R17 , R8) by L2263 , L2256 , INTEGRA1:def 20;
L2265: ( indx (R18 , R17 , D45) ) in ( Seg ( len R18 ) ) by L1898 , FINSEQ_1:def 3;
L2266: ( indx (R18 , R17 , D45) ) in ( Seg ( len H6(R18) ) ) by L2265 , INTEGRA1:def 7;
L2267: ( indx (R18 , R17 , D45) ) in ( dom H6(R18) ) by L2266 , FINSEQ_1:def 3;
L2268: H7(R18 , ( indx (R18 , R17 , D45) )) = ( Sum ( H6(R18) | ( indx (R18 , R17 , D45) ) ) ) by L2267 , INTEGRA1:def 20;
L2269: ( H7(R18 , ( indx (R18 , R17 , D45) )) + ( Sum ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) ) = ( Sum ( ( H6(R18) | ( indx (R18 , R17 , D45) ) ) ^ ( mid (H6(R18) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) ) by L2268 , RVSUM_1:75
.= ( Sum ( ( mid (H6(R18) , 1 , ( indx (R18 , R17 , D45) )) ) ^ ( mid (H6(R18) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) ) by L1900 , FINSEQ_6:116
.= ( Sum ( mid (H6(R18) , 1 , ( indx (R18 , R17 , R8) )) ) ) by L1900 , L1905 , L2254 , INTEGRA2:4
.= ( Sum ( H6(R18) | ( indx (R18 , R17 , R8) ) ) ) by L2074 , FINSEQ_6:116;
L2270: ( H7(R18 , ( indx (R18 , R17 , D45) )) + ( Sum ( mid (( lower_volume (R19 , R18) ) , ( ( indx (R18 , R17 , D45) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) ) = H7(R18 , ( indx (R18 , R17 , R8) )) by L2269 , L2252 , INTEGRA1:def 20;
L2271: ( indx (R18 , R17 , D45) ) in ( Seg ( len R18 ) ) by L1898 , FINSEQ_1:def 3;
L2272: ( indx (R18 , R17 , D45) ) in ( Seg ( len ( lower_volume (R19 , R18) ) ) ) by L2271 , INTEGRA1:def 7;
L2273: ( indx (R18 , R17 , D45) ) in ( dom ( lower_volume (R19 , R18) ) ) by L2272 , FINSEQ_1:def 3;
L2274: H7(R18 , ( indx (R18 , R17 , D45) )) = ( Sum ( ( lower_volume (R19 , R18) ) | ( indx (R18 , R17 , D45) ) ) ) by L2273 , INTEGRA1:def 20
.= H7(R17 , D45) by L2248 , L1896 , INTEGRA1:def 20;
thus L2275: thesis by L2274 , L1907 , L2270 , L2264;
end;
thus L2276: thesis by L1891 , L1889 , L1890;
end;
reconsider D55 = R7 as non  empty (Element of ( NAT )) by L1832 , FINSEQ_1:1;
L2277: (for B31 being non  empty Nat holds (S3[ B31 ] implies S3[ ( B31 + 1 ) ]))
proof
let C39 being non  empty Nat;
L2278: C39 >= 1 by NAT_1:14;
assume L2279: S3[ C39 ];
L2280: S3[ ( C39 + 1 ) ]
proof
L2281: C39 <= ( C39 + 1 ) by NAT_1:11;
assume L2282: ( C39 + 1 ) in ( dom R16 );
consider R8 being (Element of ( NAT )) such that L2283: R8 in ( dom R17 ) and L2284: ( R16 . ( C39 + 1 ) ) in ( divset (R17 , R8) ) by L2282 , L67 , INTEGRA1:6;
L2285: ( R18 . ( indx (R18 , R17 , R8) ) ) = ( R17 . R8 ) by L1824 , L2283 , INTEGRA1:def 19;
L2286: ( C39 + 1 ) <= ( len R16 ) by L2282 , FINSEQ_3:25;
L2287: C39 <= ( len R16 ) by L2286 , L2281 , XXREAL_0:2;
L2288: C39 in ( Seg ( len R16 ) ) by L2287 , L2278 , FINSEQ_1:1;
L2289: C39 in ( dom R16 ) by L2288 , FINSEQ_1:def 3;
consider C40 being (Element of ( NAT )) such that L2290: C40 in ( dom R17 ) and L2291: ( R16 . C39 ) in ( divset (R17 , C40) ) and L2292: ( H7(R18 , ( indx (R18 , R17 , C40) )) - H7(R17 , C40) ) <= ( ( C39 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) by L2279 , L2288 , FINSEQ_1:def 3;
L2293: 1 <= ( C40 + 1 ) by NAT_1:12;
L2294: C40 < R8
proof
assume L2295: C40 >= R8;
L2296:
now
per cases  by L2295 , XXREAL_0:1;
suppose L2297: C40 = R8;

L2298: ( R16 . C39 ) in ( rng R16 ) by L2289 , FUNCT_1:def 3;
L2299: ( R16 . C39 ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L2298 , L2291 , L2297 , XBOOLE_0:def 4;
L2300: ( R16 . ( C39 + 1 ) ) in ( rng R16 ) by L2282 , FUNCT_1:def 3;
L2301: ( R16 . ( C39 + 1 ) ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L2300 , L2284 , XBOOLE_0:def 4;
L2302: ( C39 + 1 ) > C39 by XREAL_1:29;
thus L2303: contradiction by L2302 , L1821 , L2282 , L2283 , L2289 , L2299 , L2301 , L177 , SEQ_4:138;
end;
suppose L2304: C40 > R8;

L2305: C40 >= ( R8 + 1 ) by L2304 , NAT_1:13;
L2306: ( C40 - 1 ) >= R8 by L2305 , XREAL_1:19;
L2307: 1 <= R8 by L2283 , FINSEQ_3:25;
L2308: ( 1 + 1 ) <= ( R8 + 1 ) by L2307 , XREAL_1:6;
L2309: C40 <> 1 by L2308 , L2305 , XXREAL_0:2;
L2310: ( lower_bound ( divset (R17 , C40) ) ) <= ( R16 . C39 ) by L2291 , INTEGRA2:1;
L2311: ( R16 . C39 ) >= ( R17 . ( C40 - 1 ) ) by L2310 , L2290 , L2309 , INTEGRA1:def 4;
L2312: ( C40 - 1 ) in ( dom R17 ) by L2290 , L2309 , INTEGRA1:7;
L2313: ( R17 . R8 ) <= ( R17 . ( C40 - 1 ) ) by L2312 , L2283 , L2306 , SEQ_4:137;
L2314: ( R16 . C39 ) >= ( R17 . R8 ) by L2313 , L2311 , XXREAL_0:2;
L2315: C39 < ( C39 + 1 ) by XREAL_1:29;
L2316: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 )
proof
per cases ;
suppose L2317: R8 = 1;

thus L2318: thesis by L2317 , L2283 , INTEGRA1:def 4;
end;
suppose L2319: R8 <> 1;

thus L2320: thesis by L2319 , L2283 , INTEGRA1:def 4;
end;
end;
L2322: ( R16 . ( C39 + 1 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L2284 , INTEGRA2:1;
L2323: ( R16 . C39 ) >= ( R16 . ( C39 + 1 ) ) by L2322 , L2316 , L2314 , XXREAL_0:2;
thus L2324: contradiction by L2323 , L2282 , L2289 , L2315 , SEQM_3:def 1;
end;
end;
thus L2326: thesis by L2296;
end;
L2327: ( C40 + 1 ) <= R8 by L2294 , NAT_1:13;
L2328: 1 <= C40 by L2290 , FINSEQ_3:25;
L2329: ( indx (R18 , R17 , C40) ) in ( dom R18 ) by L1824 , L2290 , INTEGRA1:def 19;
L2330: 1 <= ( indx (R18 , R17 , C40) ) by L2329 , FINSEQ_3:25;
L2331: ( indx (R18 , R17 , R8) ) in ( dom R18 ) by L1824 , L2283 , INTEGRA1:def 19;
L2332: 1 <= ( indx (R18 , R17 , R8) ) by L2331 , FINSEQ_3:25;
L2333: ( indx (R18 , R17 , R8) ) <= ( len R18 ) by L2331 , FINSEQ_3:25;
L2334: ( indx (R18 , R17 , R8) ) <= ( len H6(R18) ) by L2333 , INTEGRA1:def 7;
L2335: 1 <= R8 by L2283 , FINSEQ_3:25;
L2336: R8 <= ( len R17 ) by L2283 , FINSEQ_3:25;
L2337: ( C40 + 1 ) <= ( len R17 ) by L2336 , L2327 , XXREAL_0:2;
L2338: ( C40 + 1 ) in ( dom R17 ) by L2337 , L2293 , FINSEQ_3:25;
L2339: ( indx (R18 , R17 , ( C40 + 1 )) ) in ( dom R18 ) by L2338 , L1824 , INTEGRA1:def 19;
L2340: 1 <= ( indx (R18 , R17 , ( C40 + 1 )) ) by L2339 , FINSEQ_3:25;
L2341: ( R18 . ( indx (R18 , R17 , ( C40 + 1 )) ) ) = ( R17 . ( C40 + 1 ) ) by L1824 , L2338 , INTEGRA1:def 19;
L2342: ( R18 . ( indx (R18 , R17 , ( C40 + 1 )) ) ) <= ( R18 . ( indx (R18 , R17 , R8) ) ) by L2341 , L2283 , L2327 , L2338 , L2285 , SEQ_4:137;
L2343: ( indx (R18 , R17 , ( C40 + 1 )) ) <= ( indx (R18 , R17 , R8) ) by L2342 , L2339 , L2331 , SEQM_3:def 1;
L2344: ( 1 + ( indx (R18 , R17 , ( C40 + 1 )) ) ) <= ( ( indx (R18 , R17 , R8) ) + 1 ) by L2343 , XREAL_1:6;
L2345: 1 <= ( ( ( indx (R18 , R17 , R8) ) + 1 ) - ( indx (R18 , R17 , ( C40 + 1 )) ) ) by L2344 , XREAL_1:19;
L2346: ( ( mid (R18 , ( indx (R18 , R17 , ( C40 + 1 )) ) , ( indx (R18 , R17 , R8) )) ) . 1 ) = ( R18 . ( ( 1 - 1 ) + ( indx (R18 , R17 , ( C40 + 1 )) ) ) ) by L2345 , L2343 , L2340 , L2333 , FINSEQ_6:122
.= ( R17 . ( C40 + 1 ) ) by L1824 , L2338 , INTEGRA1:def 19;
L2347: ( R18 . ( indx (R18 , R17 , C40) ) ) = ( R17 . C40 ) by L1824 , L2290 , INTEGRA1:def 19;
L2348: R8 <= ( len H6(R17) ) by L2336 , INTEGRA1:def 7;
L2349: R8 in ( Seg ( len H6(R17) ) ) by L2348 , L2335 , FINSEQ_1:1;
L2350: R8 in ( dom H6(R17) ) by L2349 , FINSEQ_1:def 3;
L2351: ( indx (R18 , R17 , ( C40 + 1 )) ) <= ( len R18 ) by L2339 , FINSEQ_3:25;
L2352: C40 in ( Seg ( len R17 ) ) by L2290 , FINSEQ_1:def 3;
L2353: C40 in ( Seg ( len H6(R17) ) ) by L2352 , INTEGRA1:def 7;
L2354: C40 in ( dom H6(R17) ) by L2353 , FINSEQ_1:def 3;
L2355: H7(R17 , C40) = ( Sum ( H6(R17) | C40 ) ) by L2354 , INTEGRA1:def 20
.= ( Sum ( mid (H6(R17) , 1 , C40) ) ) by L2328 , FINSEQ_6:116;
L2356: ( H7(R17 , C40) + ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) ) = ( Sum ( ( mid (H6(R17) , 1 , C40) ) ^ ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) ) by L2355 , RVSUM_1:75
.= ( Sum ( mid (H6(R17) , 1 , R8) ) ) by L2294 , L2328 , L2348 , INTEGRA2:4
.= ( Sum ( H6(R17) | R8 ) ) by L2335 , FINSEQ_6:116;
L2357: H7(R17 , R8) = ( H7(R17 , C40) + ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) ) by L2356 , L2350 , INTEGRA1:def 20;
L2358: ( indx (R18 , R17 , R8) ) in ( Seg ( len R18 ) ) by L2331 , FINSEQ_1:def 3;
L2359: ( indx (R18 , R17 , R8) ) in ( Seg ( len H6(R18) ) ) by L2358 , INTEGRA1:def 7;
L2360: ( indx (R18 , R17 , R8) ) in ( dom H6(R18) ) by L2359 , FINSEQ_1:def 3;
L2361: C40 >= 1 by L2290 , FINSEQ_3:25;
L2362: ( R8 - C40 ) >= 1 by L2327 , XREAL_1:19;
L2363: ( ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) - ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) )
proof
L2364:
now
per cases  by L2327 , XXREAL_0:1;
suppose L2365: ( C40 + 1 ) = R8;

L2366: ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , C40) ) ) <= 2
proof
L2367: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L2283 , L2294 , L2361 , INTEGRA1:def 4;
L2368: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L2283 , L2294 , L2361 , INTEGRA1:def 4;
L2369: 1 <= ( ( indx (R18 , R17 , C40) ) + 1 ) by L2330 , NAT_1:13;
assume L2370: ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , C40) ) ) > 2;
L2371: ( ( indx (R18 , R17 , C40) ) + 2 ) < ( indx (R18 , R17 , R8) ) by L2370 , XREAL_1:20;
L2372: ( ( indx (R18 , R17 , C40) ) + 2 ) <= ( len R18 ) by L2371 , L2333 , XXREAL_0:2;
L2373: ( ( indx (R18 , R17 , C40) ) + 1 ) < ( ( indx (R18 , R17 , C40) ) + 2 ) by XREAL_1:6;
L2374: ( indx (R18 , R17 , C40) ) < ( ( indx (R18 , R17 , C40) ) + 2 ) by L2373 , NAT_1:13;
L2375: 1 <= ( ( indx (R18 , R17 , C40) ) + 2 ) by L2374 , L2330 , XXREAL_0:2;
L2376: ( ( indx (R18 , R17 , C40) ) + 2 ) in ( dom R18 ) by L2375 , L2372 , FINSEQ_3:25;
L2377: ( R18 . ( indx (R18 , R17 , R8) ) ) >= ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) by L2376 , L2331 , L2371 , SEQ_4:137;
L2378: (not ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) in ( rng R17 ))
proof
assume L2379: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) in ( rng R17 );
consider C41 being (Element of ( NAT )) such that L2380: C41 in ( dom R17 ) and L2381: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) = ( R17 . C41 ) by L2379 , PARTFUN1:3;
L2382: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) < ( R18 . ( indx (R18 , R17 , R8) ) ) by L2331 , L2371 , L2376 , SEQM_3:def 1;
L2383: C41 < R8 by L2382 , L2283 , L2285 , L2380 , L2381 , SEQ_4:137;
L2384: ( R18 . ( indx (R18 , R17 , C40) ) ) < ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) by L2329 , L2374 , L2376 , SEQM_3:def 1;
L2385: C40 < C41 by L2384 , L2290 , L2347 , L2380 , L2381 , SEQ_4:137;
thus L2386: contradiction by L2385 , L2365 , L2383 , NAT_1:13;
end;
L2387: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) in ( rng R18 ) by L2376 , FUNCT_1:def 3;
L2388: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) in ( rng R16 ) by L2387 , L1825 , L2378 , XBOOLE_0:def 3;
L2389: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L2283 , L2294 , L2361 , INTEGRA1:def 4;
L2390: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L2283 , L2294 , L2361 , INTEGRA1:def 4;
L2391: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) >= ( R18 . ( indx (R18 , R17 , C40) ) ) by L2329 , L2374 , L2376 , SEQ_4:137;
L2392: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) in ( divset (R17 , R8) ) by L2391 , L2347 , L2285 , L2365 , L2389 , L2367 , L2377 , INTEGRA2:1;
L2393: ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L2392 , L2388 , XBOOLE_0:def 4;
L2394: ( ( indx (R18 , R17 , C40) ) + 1 ) < ( indx (R18 , R17 , R8) ) by L2371 , L2373 , XXREAL_0:2;
L2395: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( len R18 ) by L2394 , L2333 , XXREAL_0:2;
L2396: ( ( indx (R18 , R17 , C40) ) + 1 ) in ( dom R18 ) by L2395 , L2369 , FINSEQ_3:25;
L2397: ( R18 . ( indx (R18 , R17 , R8) ) ) >= ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) by L2396 , L2331 , L2394 , SEQ_4:137;
L2398: ( indx (R18 , R17 , C40) ) < ( ( indx (R18 , R17 , C40) ) + 1 ) by NAT_1:13;
L2399: (not ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( rng R17 ))
proof
assume L2400: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( rng R17 );
consider C42 being (Element of ( NAT )) such that L2401: C42 in ( dom R17 ) and L2402: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) = ( R17 . C42 ) by L2400 , PARTFUN1:3;
L2403: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) < ( R18 . ( indx (R18 , R17 , R8) ) ) by L2331 , L2394 , L2396 , SEQM_3:def 1;
L2404: C42 < R8 by L2403 , L2283 , L2285 , L2401 , L2402 , SEQ_4:137;
L2405: ( R18 . ( indx (R18 , R17 , C40) ) ) < ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) by L2329 , L2398 , L2396 , SEQM_3:def 1;
L2406: C40 < C42 by L2405 , L2290 , L2347 , L2401 , L2402 , SEQ_4:137;
thus L2407: contradiction by L2406 , L2365 , L2404 , NAT_1:13;
end;
L2408: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( rng R18 ) by L2396 , FUNCT_1:def 3;
L2409: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( rng R16 ) by L2408 , L1825 , L2399 , XBOOLE_0:def 3;
L2410: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) >= ( R18 . ( indx (R18 , R17 , C40) ) ) by L2329 , L2398 , L2396 , SEQ_4:137;
L2411: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( divset (R17 , R8) ) by L2410 , L2347 , L2285 , L2365 , L2368 , L2390 , L2397 , INTEGRA2:1;
L2412: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L2411 , L2409 , XBOOLE_0:def 4;
L2413: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) = ( R18 . ( ( indx (R18 , R17 , C40) ) + 2 ) ) by L2412 , L1821 , L2283 , L2393 , L177;
thus L2414: contradiction by L2413 , L2373 , L2396 , L2376 , SEQM_3:def 1;
end;
L2415: (( ( indx (R18 , R17 , C40) ) + 1 ) < ( indx (R18 , R17 , R8) ) implies ( ( indx (R18 , R17 , C40) ) + 2 ) = ( indx (R18 , R17 , R8) ))
proof
assume L2416: ( ( indx (R18 , R17 , C40) ) + 1 ) < ( indx (R18 , R17 , R8) );
L2417: ( ( ( indx (R18 , R17 , C40) ) + 1 ) + 1 ) <= ( indx (R18 , R17 , R8) ) by L2416 , NAT_1:13;
L2418: ( ( indx (R18 , R17 , C40) ) + 2 ) >= ( indx (R18 , R17 , R8) ) by L2366 , XREAL_1:20;
thus L2419: thesis by L2418 , L2417 , XXREAL_0:1;
end;
L2420: 1 <= ( ( indx (R18 , R17 , C40) ) + 1 ) by NAT_1:12;
L2421: ( indx (R18 , R17 , R8) ) <= ( len H6(R18) ) by L2333 , INTEGRA1:def 7;
L2422: ( R17 . C40 ) < ( R17 . R8 ) by L2283 , L2290 , L2294 , SEQM_3:def 1;
L2423: ( indx (R18 , R17 , C40) ) < ( indx (R18 , R17 , R8) ) by L2422 , L2329 , L2347 , L2331 , L2285 , SEQ_4:137;
L2424: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( indx (R18 , R17 , R8) ) by L2423 , NAT_1:13;
L2425: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( len R18 ) by L2424 , L2333 , XXREAL_0:2;
L2426: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( len H6(R18) ) by L2425 , INTEGRA1:def 7;
L2427: ( len ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = ( ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) by L2426 , L2332 , L2424 , L2420 , L2421 , FINSEQ_6:118
.= ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) by L2424 , XREAL_1:233
.= ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , C40) ) );
L2428: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( indx (R18 , R17 , R8) ) by L2423 , NAT_1:13;
L2429: (( ( indx (R18 , R17 , C40) ) + 1 ) = ( indx (R18 , R17 , R8) ) or ( ( indx (R18 , R17 , C40) ) + 1 ) < ( indx (R18 , R17 , R8) )) by L2428 , XXREAL_0:1;
L2430: ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) )
proof
per cases  by L2429 , L2415;
suppose L2431: ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , C40) ) ) = 1;

L2432: ( ( indx (R18 , R17 , C40) ) + 1 ) > 1 by L2330 , NAT_1:13;
L2433: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) = ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) by L2432 , L2331 , L2431 , INTEGRA1:def 4;
L2434: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) = ( R17 . R8 ) by L2433 , L1824 , L2283 , L2431 , INTEGRA1:def 19;
L2435: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) = ( R18 . ( ( ( indx (R18 , R17 , C40) ) + 1 ) - 1 ) ) by L2331 , L2431 , L2432 , INTEGRA1:def 4;
L2436: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) = ( R17 . C40 ) by L2435 , L1824 , L2290 , INTEGRA1:def 19;
L2437: ( lower_bound ( divset (R17 , ( C40 + 1 )) ) ) = ( R17 . ( ( C40 + 1 ) - 1 ) ) by L2294 , L2361 , L2338 , L2365 , INTEGRA1:def 4;
L2438: ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) = ( divset (R17 , ( C40 + 1 )) ) by L2437 , L2294 , L2361 , L2338 , L2365 , L2436 , L2434 , INTEGRA1:def 4;
L2439: ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L2440: 1 = ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) by L2431;
L2441: ( ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . 1 ) = ( H6(R18) . ( ( 1 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) ) by L2440 , L2420 , L2421 , FINSEQ_6:122
.= ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) );
L2442: ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) = <* ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) ) *> by L2441 , L2427 , L2431 , FINSEQ_1:40;
L2443: ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) ) = ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) ) by L2331 , L2431 , INTEGRA1:def 7;
L2444: ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) by L2443 , L1809 , L2331 , L2431 , L2438 , L2439 , L1798 , XREAL_1:64;
thus L2445: thesis by L2444 , L2442 , FINSOP_1:11;
end;
suppose L2446: ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , C40) ) ) = 2;

L2447: ( ( indx (R18 , R17 , C40) ) + 2 ) >= ( 2 + 1 ) by L2330 , XREAL_1:6;
L2448: ( ( indx (R18 , R17 , C40) ) + 2 ) <> 1 by L2447;
L2449: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) = ( R18 . ( indx (R18 , R17 , R8) ) ) by L2448 , L2331 , L2446 , INTEGRA1:def 4;
L2450: ( ( ( indx (R18 , R17 , C40) ) + 2 ) - 1 ) = ( ( indx (R18 , R17 , C40) ) + 1 );
L2451: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) = ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) by L2450 , L2331 , L2446 , L2448 , INTEGRA1:def 4;
L2452: ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) = ( ( R17 . R8 ) - ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) ) by L2451 , L2285 , L2449 , INTEGRA1:def 5;
L2453: ( upper_bound ( divset (R17 , ( C40 + 1 )) ) ) = ( R17 . ( C40 + 1 ) ) by L2294 , L2361 , L2338 , L2365 , INTEGRA1:def 4;
L2454: ( lower_bound ( divset (R17 , ( C40 + 1 )) ) ) = ( R17 . ( ( C40 + 1 ) - 1 ) ) by L2294 , L2361 , L2338 , L2365 , INTEGRA1:def 4;
L2455: ( vol ( divset (R17 , ( C40 + 1 )) ) ) = ( ( R17 . ( C40 + 1 ) ) - ( R17 . C40 ) ) by L2454 , L2453 , INTEGRA1:def 5;
L2456: ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) >= ( 0 ) by INTEGRA1:9;
L2457: ( indx (R18 , R17 , R8) ) <= ( len H6(R18) ) by L2333 , INTEGRA1:def 7;
L2458: ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L2459: 1 <= ( ( indx (R18 , R17 , C40) ) + 1 ) by NAT_1:12;
L2460: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( ( indx (R18 , R17 , C40) ) + 2 ) by XREAL_1:6;
L2461: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( len R18 ) by L2460 , L2333 , L2446 , XXREAL_0:2;
L2462: ( ( indx (R18 , R17 , C40) ) + 1 ) in ( dom R18 ) by L2461 , L2459 , FINSEQ_3:25;
L2463: ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) ) = ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) ) by L2462 , INTEGRA1:def 7;
L2464: ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) ) by L2463 , L1809 , L2462 , L2458 , L1798 , XREAL_1:64;
L2465: ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) = ( 1 + 1 ) by L2446;
L2466: ( ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . 2 ) = ( H6(R18) . ( ( 2 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) ) by L2465 , L2459 , L2460 , L2457 , FINSEQ_6:122
.= ( H6(R18) . ( ( ( indx (R18 , R17 , C40) ) + ( 0 ) ) + 2 ) );
L2467: ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) >= 1 by L2446;
L2468: ( ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . 1 ) = ( H6(R18) . ( ( 1 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) ) by L2467 , L2446 , L2459 , L2460 , L2457 , FINSEQ_6:122
.= ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) );
L2469: ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) = <* ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) ) , ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 2 ) ) *> by L2468 , L2427 , L2446 , L2466 , FINSEQ_1:44;
L2470: ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = ( ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 1 ) ) + ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 2 ) ) ) by L2469 , RVSUM_1:77;
L2471: ( ( indx (R18 , R17 , C40) ) + 1 ) > 1 by L2330 , NAT_1:13;
L2472: ( upper_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) = ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) by L2471 , L2462 , INTEGRA1:def 4;
L2473: ( lower_bound ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) = ( R18 . ( ( ( indx (R18 , R17 , C40) ) + 1 ) - 1 ) ) by L2462 , L2471 , INTEGRA1:def 4;
L2474: ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) = ( ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) - ( R17 . C40 ) ) by L2473 , L2347 , L2472 , INTEGRA1:def 5;
L2475: ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 2 ) ) = ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) ) by L2331 , L2446 , INTEGRA1:def 7;
L2476: ( H6(R18) . ( ( indx (R18 , R17 , C40) ) + 2 ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) ) by L2475 , L1809 , L2331 , L2446 , L2456 , L1798 , XREAL_1:64;
L2477: ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) <= ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 1 )) ) ) ) + ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R18 , ( ( indx (R18 , R17 , C40) ) + 2 )) ) ) ) ) by L2476 , L2470 , L2464 , XREAL_1:7;
thus L2478: thesis by L2477 , L2365 , L2474 , L2452 , L2455;
end;
end;
L2480: ( C40 + 1 ) <= ( len H6(R17) ) by L2337 , INTEGRA1:def 7;
L2481: ( len ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) = ( ( R8 -' ( C40 + 1 ) ) + 1 ) by L2480 , L2293 , L2365 , FINSEQ_6:118
.= ( ( R8 - R8 ) + 1 ) by L2365 , XREAL_1:233
.= 1;
L2482: ( ( C40 + 1 ) + 1 ) <= ( R8 + 1 ) by L2327 , XREAL_1:6;
L2483: 1 <= ( ( R8 + 1 ) - ( C40 + 1 ) ) by L2482 , XREAL_1:19;
L2484: ( ( mid (H6(R17) , ( C40 + 1 ) , R8) ) . 1 ) = ( H6(R17) . ( ( 1 - 1 ) + ( C40 + 1 ) ) ) by L2483 , L2293 , L2365 , L2480 , FINSEQ_6:122
.= ( ( lower_bound ( rng ( R19 | ( divset (R17 , ( C40 + 1 )) ) ) ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) by L2338 , INTEGRA1:def 7;
L2485: ( mid (H6(R17) , ( C40 + 1 ) , R8) ) = <* ( ( lower_bound ( rng ( R19 | ( divset (R17 , ( C40 + 1 )) ) ) ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) *> by L2484 , L2481 , FINSEQ_1:40;
L2486: ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) = ( ( lower_bound ( rng ( R19 | ( divset (R17 , ( C40 + 1 )) ) ) ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) by L2485 , FINSOP_1:11;
L2487: ( divset (R17 , ( C40 + 1 )) ) c= R15 by L2338 , INTEGRA1:8;
L2488: ( lower_bound ( rng ( R19 | ( divset (R17 , ( C40 + 1 )) ) ) ) ) >= ( lower_bound ( rng R19 ) ) by L2487 , L1809 , L331;
L2489: ( C40 + 1 ) in ( Seg ( len R17 ) ) by L2338 , FINSEQ_1:def 3;
L2490: ( C40 + 1 ) in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L2489 , INTEGRA1:def 6;
L2491: ( C40 + 1 ) in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L2490 , FINSEQ_1:def 3;
L2492: ( vol ( divset (R17 , ( C40 + 1 )) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . ( C40 + 1 ) ) by L2338 , INTEGRA1:20;
L2493: ( vol ( divset (R17 , ( C40 + 1 )) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L2492 , L2491 , FUNCT_1:def 3;
L2494: ( vol ( divset (R17 , ( C40 + 1 )) ) ) <= ( delta R17 ) by L2493 , XXREAL_2:def 8;
L2495: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L1809 , L326 , XREAL_1:48;
L2496: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) by L2495 , L2494 , XREAL_1:64;
L2497: ( vol ( divset (R17 , ( C40 + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L2498: ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) by L2497 , L2486 , L2488 , XREAL_1:64;
L2499: ( ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) - ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) - ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C40 + 1 )) ) ) ) ) by L2498 , L2430 , XREAL_1:13;
thus L2500: thesis by L2499 , L2496 , XXREAL_0:2;
end;
suppose L2501: ( C40 + 1 ) < R8;

L2502: C40 < ( C40 + 1 ) by NAT_1:13;
L2503: ( R17 . C40 ) < ( R17 . ( C40 + 1 ) ) by L2502 , L2290 , L2338 , SEQM_3:def 1;
consider C43 being non  empty  closed_interval (Subset of ( REAL )), C44 , C45 being (Division of C43) such that L2504: ( R17 . C40 ) = ( lower_bound C43 ) and L2505: ( upper_bound C43 ) = ( C45 . ( len C45 ) ) and L2506: ( upper_bound C43 ) = ( C44 . ( len C44 ) ) and L2507: C44 <= C45 and L2508: C44 = ( mid (R17 , ( C40 + 1 ) , R8) ) and L2509: C45 = ( mid (R18 , ( indx (R18 , R17 , ( C40 + 1 )) ) , ( indx (R18 , R17 , R8) )) ) by L2503 , L1824 , L2283 , L2327 , L2338 , L2346 , L1698;
L2510: ( delta C44 ) >= ( 0 ) by L314;
L2511: ( len C44 ) = ( ( R8 -' ( C40 + 1 ) ) + 1 ) by L2327 , L2335 , L2336 , L2293 , L2337 , L2508 , FINSEQ_6:118;
L2512: ( ( ( len C44 ) + ( C40 + 1 ) ) - 1 ) = ( ( ( ( R8 - ( C40 + 1 ) ) + 1 ) + ( C40 + 1 ) ) - 1 ) by L2511 , L2327 , XREAL_1:233
.= R8;
L2513: ( R8 -' ( C40 + 1 ) ) = ( R8 - ( C40 + 1 ) ) by L2327 , XREAL_1:233;
L2514: ( ( R8 -' ( C40 + 1 ) ) + 1 ) = ( R8 - C40 ) by L2513;
L2515: ( len C44 ) = ( R8 - C40 ) by L2514 , L2327 , L2335 , L2336 , L2293 , L2337 , L2508 , FINSEQ_6:118;
L2516: C43 c= R15
proof
let R12 being set;
L2517: ( rng R17 ) c= R15 by INTEGRA1:def 2;
L2518: ( R17 . C40 ) in ( rng R17 ) by L2290 , FUNCT_1:def 3;
L2519: ( lower_bound R15 ) <= ( R17 . C40 ) by L2518 , L2517 , INTEGRA2:1;
assume L2520: R12 in C43;
reconsider D56 = R12 as Real by L2520;
L2521: D56 <= ( C44 . ( len C44 ) ) by L2506 , L2520 , INTEGRA2:1;
L2522: ( R17 . R8 ) in ( rng R17 ) by L2283 , FUNCT_1:def 3;
L2523: ( R17 . R8 ) <= ( upper_bound R15 ) by L2522 , L2517 , INTEGRA2:1;
L2524: ( R17 . C40 ) <= D56 by L2504 , L2520 , INTEGRA2:1;
L2525: ( lower_bound R15 ) <= D56 by L2524 , L2519 , XXREAL_0:2;
L2526: ( C44 . ( len C44 ) ) = ( R17 . ( ( ( R8 - C40 ) - 1 ) + ( C40 + 1 ) ) ) by L2327 , L2362 , L2336 , L2293 , L2508 , L2514 , L2515 , FINSEQ_6:122
.= ( R17 . R8 );
L2527: D56 <= ( upper_bound R15 ) by L2526 , L2521 , L2523 , XXREAL_0:2;
thus L2528: thesis by L2527 , L2525 , INTEGRA2:1;
end;
reconsider D57 = ( R19 | C43 ) as (Function of C43 , ( REAL )) by L2516 , FUNCT_2:32;
L2529: ( len ( lower_volume (D57 , C44) ) ) = ( len C44 ) by INTEGRA1:def 7
.= ( ( R8 -' ( C40 + 1 ) ) + 1 ) by L2327 , L2335 , L2336 , L2293 , L2337 , L2508 , FINSEQ_6:118
.= ( ( R8 - ( C40 + 1 ) ) + 1 ) by L2327 , XREAL_1:233;
L2530: ( len C44 ) in ( dom C44 ) by FINSEQ_5:6;
L2531: 1 <= ( len C44 ) by L2530 , FINSEQ_3:25;
L2532: (( lower_bound ( divset (C44 , ( len C44 )) ) ) = ( lower_bound ( divset (R17 , R8) ) ) & ( upper_bound ( divset (C44 , ( len C44 )) ) ) = ( upper_bound ( divset (R17 , R8) ) ))
proof
per cases ;
suppose L2533: ( len C44 ) = 1;

L2534: ( upper_bound ( divset (C44 , ( len C44 )) ) ) = ( C44 . ( len C44 ) ) by L2533 , L2530 , INTEGRA1:def 4;
L2535: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L2283 , L2294 , L2361 , INTEGRA1:def 4;
L2536: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L2283 , L2294 , L2361 , INTEGRA1:def 4;
thus L2537: thesis by L2536 , L2335 , L2336 , L2504 , L2508 , L2512 , L2530 , L2533 , L2534 , L2535 , FINSEQ_6:118 , INTEGRA1:def 4;
end;
suppose L2538: ( len C44 ) <> 1;

L2539: ( ( len C44 ) - 1 ) in ( dom C44 ) by L2538 , L2530 , INTEGRA1:7;
L2540: ( ( len C44 ) - 1 ) >= 1 by L2539 , FINSEQ_3:25;
L2541: ( len C44 ) <= ( ( len C44 ) + 1 ) by NAT_1:11;
L2542: ( ( len C44 ) - 1 ) <= ( len C44 ) by L2541 , XREAL_1:20;
L2543: ( upper_bound ( divset (C44 , ( len C44 )) ) ) = ( C44 . ( len C44 ) ) by L2530 , L2538 , INTEGRA1:def 4;
L2544: ( upper_bound ( divset (C44 , ( len C44 )) ) ) = ( R17 . R8 ) by L2543 , L2327 , L2336 , L2293 , L2508 , L2511 , L2512 , L2531 , FINSEQ_6:122;
L2545: ( ( ( ( len C44 ) - 1 ) + ( C40 + 1 ) ) - 1 ) = ( R8 - 1 ) by L2515;
L2546: ( lower_bound ( divset (C44 , ( len C44 )) ) ) = ( C44 . ( ( len C44 ) - 1 ) ) by L2530 , L2538 , INTEGRA1:def 4;
L2547: ( lower_bound ( divset (C44 , ( len C44 )) ) ) = ( R17 . ( R8 - 1 ) ) by L2546 , L2327 , L2336 , L2293 , L2508 , L2511 , L2545 , L2540 , L2542 , FINSEQ_6:122;
thus L2548: thesis by L2547 , L2283 , L2294 , L2361 , L2544 , INTEGRA1:def 4;
end;
end;
L2550: ( len C44 ) in ( dom C44 ) by FINSEQ_5:6;
L2551: ( upper_bound ( divset (C44 , ( len C44 )) ) ) = ( C44 . ( len C44 ) )
proof
per cases ;
suppose L2552: ( len C44 ) = 1;

thus L2553: thesis by L2552 , L2550 , INTEGRA1:def 4;
end;
suppose L2554: ( len C44 ) <> 1;

thus L2555: thesis by L2554 , L2550 , INTEGRA1:def 4;
end;
end;
L2557: ( R17 . C40 ) < ( R17 . ( C40 + 1 ) ) by L2290 , L2338 , L2502 , SEQM_3:def 1;
L2558: ( indx (R18 , R17 , C40) ) < ( indx (R18 , R17 , ( C40 + 1 )) ) by L2557 , L2329 , L2347 , L2339 , L2341 , SEQ_4:137;
L2559: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( indx (R18 , R17 , ( C40 + 1 )) ) by L2558 , NAT_1:13;
L2560: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( len R18 ) by L2559 , L2351 , XXREAL_0:2;
L2561: ( vol C43 ) = ( ( upper_bound C43 ) - ( R17 . C40 ) ) by L2504 , INTEGRA1:def 5;
L2562: ( vol C43 ) = ( ( R17 . R8 ) - ( R17 . C40 ) ) by L2561 , L2283 , L2294 , L2361 , L2506 , L2532 , L2551 , INTEGRA1:def 4;
L2563: ( vol C43 ) <> ( 0 ) by L2562 , L2283 , L2290 , L2294 , SEQM_3:def 1;
L2564: 1 <= ( ( indx (R18 , R17 , C40) ) + 1 ) by L2330 , NAT_1:13;
L2565: ( indx (R18 , R17 , C40) ) < ( ( indx (R18 , R17 , C40) ) + 1 ) by NAT_1:13;
L2566: ( indx (R18 , R17 , ( C40 + 1 )) ) = ( ( indx (R18 , R17 , C40) ) + 1 )
proof
assume L2567: ( indx (R18 , R17 , ( C40 + 1 )) ) <> ( ( indx (R18 , R17 , C40) ) + 1 );
L2568: ( indx (R18 , R17 , ( C40 + 1 )) ) > ( ( indx (R18 , R17 , C40) ) + 1 ) by L2567 , L2559 , XXREAL_0:1;
L2569: ( ( indx (R18 , R17 , C40) ) + 1 ) in ( dom R18 ) by L2564 , L2560 , FINSEQ_3:25;
L2570: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( rng R18 ) by L2569 , FUNCT_1:def 3;
L2571:
now
per cases  by L1825 , L2570 , XBOOLE_0:def 3;
suppose L2572: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( rng R17 );

consider C46 being (Element of ( NAT )) such that L2573: C46 in ( dom R17 ) and L2574: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) = ( R17 . C46 ) by L2572 , PARTFUN1:3;
L2575: ( R18 . ( indx (R18 , R17 , C40) ) ) < ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) by L2329 , L2565 , L2569 , SEQM_3:def 1;
L2576: C40 < C46 by L2575 , L2290 , L2347 , L2573 , L2574 , SEQ_4:137;
L2577: ( C40 + 1 ) <= C46 by L2576 , NAT_1:13;
L2578: ( R17 . C46 ) < ( R17 . ( C40 + 1 ) ) by L2339 , L2341 , L2568 , L2569 , L2574 , SEQM_3:def 1;
thus L2579: contradiction by L2578 , L2338 , L2573 , L2577 , SEQ_4:137;
end;
suppose L2580: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) in ( rng R16 );

L2581: ( R16 . C39 ) <= ( upper_bound ( divset (R17 , C40) ) ) by L2291 , INTEGRA2:1;
L2582: ( upper_bound ( divset (R17 , C40) ) ) = ( R17 . C40 )
proof
per cases ;
suppose L2583: C40 = 1;

thus L2584: thesis by L2583 , L2290 , INTEGRA1:def 4;
end;
suppose L2585: C40 <> 1;

thus L2586: thesis by L2585 , L2290 , INTEGRA1:def 4;
end;
end;
consider C47 being (Element of ( NAT )) such that L2588: C47 in ( dom R16 ) and L2589: ( R18 . ( ( indx (R18 , R17 , C40) ) + 1 ) ) = ( R16 . C47 ) by L2580 , PARTFUN1:3;
L2590: ( R17 . C40 ) < ( R16 . C47 ) by L2329 , L2347 , L2565 , L2569 , L2589 , SEQM_3:def 1;
L2591: ( R16 . C39 ) < ( R16 . C47 ) by L2590 , L2581 , L2582 , XXREAL_0:2;
L2592: C39 < C47 by L2591 , L2289 , L2588 , SEQ_4:137;
L2593: ( C39 + 1 ) <= C47 by L2592 , NAT_1:13;
L2594: ( ( C40 + 1 ) + 1 ) <= R8 by L2501 , NAT_1:13;
L2595: ( C40 + 1 ) <= ( R8 - 1 ) by L2594 , XREAL_1:19;
L2596: ( R8 - 1 ) in ( dom R17 ) by L2283 , L2294 , L2361 , INTEGRA1:7;
L2597: ( R17 . ( C40 + 1 ) ) <= ( R17 . ( R8 - 1 ) ) by L2596 , L2338 , L2595 , SEQ_4:137;
L2598: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C39 + 1 ) ) by L2284 , INTEGRA2:1;
L2599: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L2283 , L2294 , L2361 , INTEGRA1:def 4;
L2600: ( R17 . ( C40 + 1 ) ) <= ( R16 . ( C39 + 1 ) ) by L2599 , L2597 , L2598 , XXREAL_0:2;
L2601: ( R16 . C47 ) < ( R17 . ( C40 + 1 ) ) by L2339 , L2341 , L2568 , L2569 , L2589 , SEQM_3:def 1;
L2602: ( R16 . C47 ) < ( R16 . ( C39 + 1 ) ) by L2601 , L2600 , XXREAL_0:2;
thus L2603: contradiction by L2602 , L2282 , L2588 , L2593 , SEQ_4:137;
end;
end;
thus L2605: contradiction by L2571;
end;
L2606: R8 <= ( len H6(R17) ) by L2336 , INTEGRA1:def 7;
L2607: (for B32 being Nat holds ((1 <= B32 & B32 <= ( len ( lower_volume (D57 , C44) ) )) implies ( ( lower_volume (D57 , C44) ) . B32 ) = ( ( mid (H6(R17) , ( C40 + 1 ) , R8) ) . B32 )))
proof
let C48 being Nat;
assume that
L2608: 1 <= C48
and
L2609: C48 <= ( len ( lower_volume (D57 , C44) ) );
L2610: C48 in ( Seg ( len ( lower_volume (D57 , C44) ) ) ) by L2608 , L2609 , FINSEQ_1:1;
L2611: C48 in ( Seg ( len C44 ) ) by L2610 , INTEGRA1:def 7;
L2612: C48 in ( dom C44 ) by L2611 , FINSEQ_1:def 3;
L2613: C48 in ( dom C44 ) by L2611 , FINSEQ_1:def 3;
L2614: ( ( lower_volume (D57 , C44) ) . C48 ) = ( ( lower_bound ( rng ( D57 | ( divset (C44 , C48) ) ) ) ) * ( vol ( divset (C44 , C48) ) ) ) by L2613 , INTEGRA1:def 7;
consider C49 being (Element of ( NAT )) such that L2615: ( C40 + 1 ) = ( 1 + C49 );
L2616: 1 <= ( C48 + C49 ) by L2608 , NAT_1:12;
L2617: C48 <= ( R8 - ( ( C40 + 1 ) - 1 ) ) by L2529 , L2609;
L2618: ( C48 + ( ( C40 + 1 ) - 1 ) ) <= R8 by L2617 , XREAL_1:19;
L2619: ( C48 + C49 ) <= ( len R17 ) by L2618 , L2336 , L2615 , XXREAL_0:2;
L2620: ( C48 + C49 ) in ( Seg ( len R17 ) ) by L2619 , L2616 , FINSEQ_1:1;
L2621: ( C48 + C49 ) in ( dom R17 ) by L2620 , FINSEQ_1:def 3;
L2622: ( 1 + 1 ) <= ( C48 + C49 ) by L2328 , L2608 , L2615 , XREAL_1:7;
L2623: 1 < ( C48 + C49 ) by L2622 , NAT_1:13;
L2624: C49 = ( ( C40 + 1 ) - 1 ) by L2615;
L2625: (( lower_bound ( divset (R17 , ( C48 + C49 )) ) ) = ( lower_bound ( divset (C44 , C48) ) ) & ( upper_bound ( divset (R17 , ( C48 + C49 )) ) ) = ( upper_bound ( divset (C44 , C48) ) ))
proof
per cases ;
suppose L2626: C48 = 1;

L2627: ( upper_bound ( divset (C44 , C48) ) ) = ( C44 . C48 ) by L2626 , L2612 , INTEGRA1:def 4;
L2628: ( upper_bound ( divset (C44 , C48) ) ) = ( R17 . ( ( C48 + ( C40 + 1 ) ) - 1 ) ) by L2627 , L2327 , L2336 , L2293 , L2508 , L2529 , L2608 , L2609 , L2610 , FINSEQ_6:122;
L2629: ( lower_bound ( divset (C44 , C48) ) ) = ( R17 . C40 ) by L2504 , L2612 , L2626 , INTEGRA1:def 4;
thus L2630: thesis by L2629 , L2624 , L2623 , L2621 , L2626 , L2628 , INTEGRA1:def 4;
end;
suppose L2631: C48 <> 1;

L2632: ( upper_bound ( divset (C44 , C48) ) ) = ( C44 . C48 ) by L2631 , L2612 , INTEGRA1:def 4;
L2633: ( upper_bound ( divset (C44 , C48) ) ) = ( R17 . ( ( C48 + ( C40 + 1 ) ) - 1 ) ) by L2632 , L2327 , L2336 , L2293 , L2508 , L2529 , L2608 , L2609 , L2610 , FINSEQ_6:122;
L2634: ( C48 - 1 ) <= ( ( R8 - ( C40 + 1 ) ) + 1 ) by L2529 , L2609 , XREAL_1:146 , XXREAL_0:2;
L2635: ( lower_bound ( divset (C44 , C48) ) ) = ( C44 . ( C48 - 1 ) ) by L2612 , L2631 , INTEGRA1:def 4;
L2636: ( C48 - 1 ) in ( dom C44 ) by L2612 , L2631 , INTEGRA1:7;
L2637: 1 <= ( C48 - 1 ) by L2636 , FINSEQ_3:25;
L2638: ( lower_bound ( divset (C44 , C48) ) ) = ( R17 . ( ( ( C48 - 1 ) + ( C40 + 1 ) ) - 1 ) ) by L2637 , L2327 , L2336 , L2293 , L2508 , L2636 , L2634 , L2635 , FINSEQ_6:122;
thus L2639: thesis by L2638 , L2615 , L2623 , L2621 , L2633 , INTEGRA1:def 4;
end;
end;
L2641: ( divset (C44 , C48) ) = [. ( lower_bound ( divset (C44 , C48) ) ) , ( upper_bound ( divset (C44 , C48) ) ) .] by INTEGRA1:4;
L2642: ( divset (R17 , ( C48 + C49 )) ) = ( divset (C44 , C48) ) by L2641 , L2625 , INTEGRA1:4;
L2643: ( C48 + C49 ) in ( dom R17 ) by L2620 , FINSEQ_1:def 3;
L2644: ( ( mid (H6(R17) , ( C40 + 1 ) , R8) ) . C48 ) = ( H6(R17) . ( ( C48 + ( C40 + 1 ) ) - 1 ) ) by L2327 , L2293 , L2529 , L2606 , L2608 , L2609 , L2610 , FINSEQ_6:122
.= ( ( lower_bound ( rng ( R19 | ( divset (R17 , ( C48 + C49 )) ) ) ) ) * ( vol ( divset (R17 , ( C48 + C49 )) ) ) ) by L2615 , L2643 , INTEGRA1:def 7;
L2645: C48 in ( dom C44 ) by L2611 , FINSEQ_1:def 3;
L2646: ( divset (R17 , ( C48 + C49 )) ) c= C43 by L2645 , L2642 , INTEGRA1:8;
thus L2647: thesis by L2646 , L2614 , L2644 , L2642 , FUNCT_1:51;
end;
L2648: ( D57 | C43 ) is  bounded
proof
consider C50 being  real number such that L2649: (for B33 being set holds (B33 in ( R15 /\ ( dom R19 ) ) implies C50 <= ( R19 . B33 ))) by L1809 , RFUNCT_1:71;
L2650: (for B34 being set holds (B34 in ( C43 /\ ( dom D57 ) ) implies C50 <= ( D57 . B34 )))
proof
let C51 being set;
L2651: ( ( dom R19 ) /\ C43 ) c= ( ( dom R19 ) /\ R15 ) by L2516 , XBOOLE_1:26;
assume L2652: C51 in ( C43 /\ ( dom D57 ) );
L2653: C51 in ( dom D57 ) by L2652 , XBOOLE_0:def 4;
L2654: C51 in ( ( dom R19 ) /\ C43 ) by L2653 , RELAT_1:61;
L2655: C50 <= ( R19 . C51 ) by L2654 , L2649 , L2651;
thus L2656: thesis by L2655 , L2653 , FUNCT_1:47;
end;
L2657: ( D57 | C43 ) is  bounded_below by L2650 , RFUNCT_1:71;
consider C52 being  real number such that L2658: (for B35 being set holds (B35 in ( R15 /\ ( dom R19 ) ) implies ( R19 . B35 ) <= C52)) by L1809 , RFUNCT_1:70;
L2659: (for B36 being set holds (B36 in ( C43 /\ ( dom D57 ) ) implies ( D57 . B36 ) <= C52))
proof
let C53 being set;
L2660: ( ( dom R19 ) /\ C43 ) c= ( ( dom R19 ) /\ R15 ) by L2516 , XBOOLE_1:26;
assume L2661: C53 in ( C43 /\ ( dom D57 ) );
L2662: C53 in ( dom D57 ) by L2661 , XBOOLE_0:def 4;
L2663: C53 in ( ( dom R19 ) /\ C43 ) by L2662 , RELAT_1:61;
L2664: C52 >= ( R19 . C53 ) by L2663 , L2658 , L2660;
thus L2665: thesis by L2664 , L2662 , FUNCT_1:47;
end;
L2666: ( D57 | C43 ) is  bounded_above by L2659 , RFUNCT_1:70;
thus L2667: thesis by L2666 , L2657;
end;
L2668: ( rng R19 ) is  bounded_below by L1809 , INTEGRA1:11;
L2669: ( lower_bound ( rng R19 ) ) <= ( lower_bound ( rng D57 ) ) by L2668 , RELAT_1:70 , SEQ_4:47;
L2670: ( rng R19 ) is  bounded_above by L1809 , INTEGRA1:13;
L2671: ( upper_bound ( rng R19 ) ) >= ( upper_bound ( rng D57 ) ) by L2670 , RELAT_1:70 , SEQ_4:48;
L2672: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( ( upper_bound ( rng D57 ) ) - ( lower_bound ( rng D57 ) ) ) by L2671 , L2669 , XREAL_1:13;
L2673: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta C44 ) ) >= ( ( ( upper_bound ( rng D57 ) ) - ( lower_bound ( rng D57 ) ) ) * ( delta C44 ) ) by L2672 , L2510 , XREAL_1:64;
L2674: C40 < ( R8 - 1 ) by L2501 , XREAL_1:20;
L2675: ( indx (R18 , R17 , R8) ) <= ( len H6(R18) ) by L2333 , INTEGRA1:def 7;
L2676: ( len C45 ) = ( ( ( indx (R18 , R17 , R8) ) -' ( indx (R18 , R17 , ( C40 + 1 )) ) ) + 1 ) by L2343 , L2340 , L2351 , L2332 , L2333 , L2509 , FINSEQ_6:118;
L2677: ( len C45 ) = ( ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , ( C40 + 1 )) ) ) + 1 ) by L2676 , L2343 , XREAL_1:233;
L2678: ( len ( lower_volume (D57 , C45) ) ) = ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) by L2677 , L2566 , INTEGRA1:def 7;
L2679: (for R12 being set holds (R12 in ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } ) implies R12 in ( rng C45 )))
proof
let R12 being set;
assume L2680: R12 in ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } );
reconsider D58 = R12 as Real by L2680;
L2681:
now
per cases  by L2680 , XBOOLE_0:def 3;
suppose L2682: D58 in ( rng C44 );

L2683: ( rng C44 ) <> ( {} );
L2684: 1 in ( dom C44 ) by L2683 , FINSEQ_3:32;
L2685: 1 <= ( len C44 ) by L2684 , FINSEQ_3:25;
L2686: ( rng C44 ) c= ( rng R17 ) by L2508 , FINSEQ_6:119;
L2687: D58 in ( rng R17 ) by L2686 , L2682;
L2688: ( rng R17 ) c= ( rng R18 ) by L1824 , INTEGRA1:def 18;
consider R9 being (Element of ( NAT )) such that L2689: R9 in ( dom R18 ) and L2690: ( R18 . R9 ) = D58 by L2688 , L2687 , PARTFUN1:3;
L2691: ( C44 . 1 ) = ( R17 . ( C40 + 1 ) ) by L2335 , L2336 , L2293 , L2337 , L2508 , FINSEQ_6:118;
L2692: ( R18 . ( indx (R18 , R17 , ( C40 + 1 )) ) ) <= D58 by L2691 , L2341 , L2682 , L1763;
L2693: ( indx (R18 , R17 , ( C40 + 1 )) ) <= R9 by L2692 , L2339 , L2689 , L2690 , SEQM_3:def 1;
consider C54 being Nat such that L2694: ( R9 + 1 ) = ( ( indx (R18 , R17 , ( C40 + 1 )) ) + C54 ) by L2693 , NAT_1:10 , NAT_1:12;
L2695: ( len C44 ) = ( ( R8 -' ( C40 + 1 ) ) + 1 ) by L2327 , L2335 , L2336 , L2293 , L2337 , L2508 , FINSEQ_6:118;
L2696: ( ( ( len C44 ) + ( C40 + 1 ) ) - 1 ) = ( ( ( ( R8 - ( C40 + 1 ) ) + 1 ) + ( C40 + 1 ) ) - 1 ) by L2695 , L2327 , XREAL_1:233
.= R8;
L2697: ( C44 . ( len C44 ) ) = ( R17 . R8 ) by L2696 , L2327 , L2336 , L2293 , L2508 , L2685 , L2695 , FINSEQ_6:122;
L2698: D58 <= ( R18 . ( indx (R18 , R17 , R8) ) ) by L2697 , L2285 , L2682 , L1763;
L2699: R9 <= ( indx (R18 , R17 , R8) ) by L2698 , L2331 , L2689 , L2690 , SEQM_3:def 1;
L2700: ( R9 - ( indx (R18 , R17 , ( C40 + 1 )) ) ) <= ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , ( C40 + 1 )) ) ) by L2699 , XREAL_1:9;
L2701: ( ( R9 - ( indx (R18 , R17 , ( C40 + 1 )) ) ) + 1 ) <= ( ( ( indx (R18 , R17 , R8) ) - ( indx (R18 , R17 , ( C40 + 1 )) ) ) + 1 ) by L2700 , XREAL_1:6;
L2702: ( ( indx (R18 , R17 , ( C40 + 1 )) ) + 1 ) <= ( R9 + 1 ) by L2693 , XREAL_1:6;
L2703: 1 <= ( ( R9 + 1 ) - ( indx (R18 , R17 , ( C40 + 1 )) ) ) by L2702 , XREAL_1:19;
L2704: C54 in ( dom C45 ) by L2703 , L2677 , L2701 , L2694 , FINSEQ_3:25;
L2705: C54 in ( NAT ) by ORDINAL1:def 12;
L2706: ( C45 . C54 ) = ( R18 . ( ( C54 + ( indx (R18 , R17 , ( C40 + 1 )) ) ) - 1 ) ) by L2705 , L2343 , L2340 , L2333 , L2509 , L2703 , L2701 , L2694 , FINSEQ_6:122
.= ( R18 . R9 ) by L2694;
thus L2707: D58 in ( rng C45 ) by L2706 , L2690 , L2704 , FUNCT_1:def 3;
end;
suppose L2708: D58 in { ( R16 . ( C39 + 1 ) ) };

L2709: D58 = ( R16 . ( C39 + 1 ) ) by L2708 , TARSKI:def 1;
reconsider D59 = ( R8 - 1 ) as (Element of ( NAT )) by L2283 , L2294 , L2361 , INTEGRA1:7;
L2710: ( rng R16 ) c= ( rng R18 ) by L1823 , INTEGRA1:def 18;
L2711: ( R16 . ( C39 + 1 ) ) in ( rng R16 ) by L2282 , FUNCT_1:def 3;
consider R9 being (Element of ( NAT )) such that L2712: R9 in ( dom R18 ) and L2713: D58 = ( R18 . R9 ) by L2711 , L2709 , L2710 , PARTFUN1:3;
L2714: ( R16 . ( C39 + 1 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L2284 , INTEGRA2:1;
L2715: D58 <= ( R17 . R8 ) by L2714 , L2283 , L2294 , L2361 , L2709 , INTEGRA1:def 4;
L2716: ( R18 . R9 ) <= ( R18 . ( indx (R18 , R17 , R8) ) ) by L2715 , L1824 , L2283 , L2713 , INTEGRA1:def 19;
L2717: C40 < D59 by L2501 , XREAL_1:20;
L2718: ( C40 + 1 ) <= D59 by L2717 , NAT_1:13;
L2719: ( R8 - 1 ) in ( dom R17 ) by L2283 , L2294 , L2361 , INTEGRA1:7;
L2720: ( R17 . ( C40 + 1 ) ) <= ( R17 . ( R8 - 1 ) ) by L2719 , L2338 , L2718 , SEQ_4:137;
L2721: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C39 + 1 ) ) by L2284 , INTEGRA2:1;
L2722: ( R17 . ( R8 - 1 ) ) <= D58 by L2721 , L2283 , L2294 , L2361 , L2709 , INTEGRA1:def 4;
L2723: ( R18 . ( indx (R18 , R17 , ( C40 + 1 )) ) ) <= ( R18 . R9 ) by L2722 , L2341 , L2713 , L2720 , XXREAL_0:2;
thus L2724: D58 in ( rng C45 ) by L2723 , L2339 , L2331 , L2509 , L2712 , L2713 , L2716 , L1773;
end;
end;
thus L2726: thesis by L2681;
end;
L2727: ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } ) c= ( rng C45 ) by L2679 , TARSKI:def 3;
L2728: ( rng C45 ) <> ( {} );
L2729: 1 in ( dom C45 ) by L2728 , FINSEQ_3:32;
L2730: 1 <= ( len C45 ) by L2729 , FINSEQ_3:25;
L2731: ( ( ( len C45 ) - 1 ) + ( indx (R18 , R17 , ( C40 + 1 )) ) ) = ( indx (R18 , R17 , R8) ) by L2677;
L2732: (for R12 being set holds (R12 in ( rng C45 ) implies R12 in ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } )))
proof
let R12 being set;
assume L2733: R12 in ( rng C45 );
reconsider D60 = R12 as Real by L2733;
L2734: ( C45 . 1 ) = ( R18 . ( indx (R18 , R17 , ( C40 + 1 )) ) ) by L2340 , L2351 , L2332 , L2333 , L2509 , FINSEQ_6:118;
L2735: ( R17 . ( C40 + 1 ) ) <= D60 by L2734 , L2341 , L2733 , L1763;
L2736: ( C45 . ( len C45 ) ) = ( R18 . ( indx (R18 , R17 , R8) ) ) by L2343 , L2340 , L2333 , L2509 , L2730 , L2676 , L2731 , FINSEQ_6:122;
L2737: D60 <= ( R17 . R8 ) by L2736 , L2285 , L2733 , L1763;
L2738: ( rng C45 ) c= ( rng R18 ) by L2509 , FINSEQ_6:119;
L2739:
now
per cases  by L1825 , L2733 , L2738 , XBOOLE_0:def 3;
suppose L2740: D60 in ( rng R17 );

consider R9 being (Element of ( NAT )) such that L2741: R9 in ( dom R17 ) and L2742: ( R17 . R9 ) = D60 by L2740 , PARTFUN1:3;
L2743: ( C40 + 1 ) <= R9 by L2338 , L2735 , L2741 , L2742 , SEQM_3:def 1;
L2744: 1 <= ( R9 - C40 ) by L2743 , XREAL_1:19;
L2745: C40 <= ( C40 + 1 ) by NAT_1:11;
consider C55 being Nat such that L2746: R9 = ( C40 + C55 ) by L2745 , L2743 , NAT_1:10 , XXREAL_0:2;
L2747: R9 <= R8 by L2283 , L2737 , L2741 , L2742 , SEQM_3:def 1;
L2748: ( R9 - C40 ) <= ( len C44 ) by L2747 , L2515 , XREAL_1:9;
L2749: C55 in ( dom C44 ) by L2748 , L2744 , L2746 , FINSEQ_3:25;
L2750: ( C44 . C55 ) in ( rng C44 ) by L2749 , FUNCT_1:def 3;
L2751: ( ( R8 - ( C40 + 1 ) ) + 1 ) = ( R8 - C40 );
L2752: ( R9 - C40 ) <= ( ( R8 - ( C40 + 1 ) ) + 1 ) by L2751 , L2747 , XREAL_1:9;
L2753: C55 in ( NAT ) by ORDINAL1:def 12;
L2754: ( C44 . C55 ) = ( R17 . ( ( ( R9 - C40 ) - 1 ) + ( C40 + 1 ) ) ) by L2753 , L2327 , L2336 , L2293 , L2508 , L2744 , L2752 , L2746 , FINSEQ_6:122
.= ( R17 . R9 );
thus L2755: D60 in ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } ) by L2754 , L2742 , L2750 , XBOOLE_0:def 3;
end;
suppose L2756: D60 in ( rng R16 );

consider R10 being (Element of ( NAT )) such that L2757: R10 in ( dom R16 ) and L2758: ( R16 . R10 ) = D60 by L2756 , PARTFUN1:3;
L2759: (not ( C39 + 1 ) < R10)
proof
L2760: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 )
proof
per cases ;
suppose L2761: R8 = 1;

thus L2762: thesis by L2761 , L2283 , INTEGRA1:def 4;
end;
suppose L2763: R8 <> 1;

thus L2764: thesis by L2763 , L2283 , INTEGRA1:def 4;
end;
end;
consider C56 being Real such that L2766: C56 = ( R16 . ( C39 + 1 ) );
L2767: ( R16 . R10 ) in ( rng R16 ) by L2757 , FUNCT_1:def 3;
assume L2768: ( C39 + 1 ) < R10;
L2769: ( R16 . ( C39 + 1 ) ) < ( R16 . R10 ) by L2768 , L2282 , L2757 , SEQM_3:def 1;
L2770: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C39 + 1 ) ) by L2284 , INTEGRA2:1;
L2771: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . R10 ) by L2770 , L2769 , XXREAL_0:2;
L2772: ( R16 . R10 ) in ( divset (R17 , R8) ) by L2771 , L2737 , L2758 , L2760 , INTEGRA2:1;
L2773: D60 in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L2772 , L2758 , L2767 , XBOOLE_0:def 4;
L2774: ( R16 . ( C39 + 1 ) ) in ( rng R16 ) by L2282 , FUNCT_1:def 3;
L2775: C56 in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L2774 , L2284 , L2766 , XBOOLE_0:def 4;
thus L2776: contradiction by L2775 , L1821 , L2283 , L2758 , L2769 , L2773 , L2766 , L177;
end;
L2777: ( upper_bound ( divset (R17 , C40) ) ) = ( R17 . C40 )
proof
per cases ;
suppose L2778: C40 = 1;

thus L2779: thesis by L2778 , L2290 , INTEGRA1:def 4;
end;
suppose L2780: C40 <> 1;

thus L2781: thesis by L2780 , L2290 , INTEGRA1:def 4;
end;
end;
L2783: ( R16 . C39 ) <= ( upper_bound ( divset (R17 , C40) ) ) by L2291 , INTEGRA2:1;
L2784: ( R16 . C39 ) < ( R17 . ( C40 + 1 ) ) by L2783 , L2503 , L2777 , XXREAL_0:2;
L2785: ( R16 . C39 ) < ( R16 . R10 ) by L2784 , L2735 , L2758 , XXREAL_0:2;
L2786: C39 < R10 by L2785 , L2289 , L2757 , SEQ_4:137;
L2787: ( C39 + 1 ) <= R10 by L2786 , NAT_1:13;
L2788: (( C39 + 1 ) = R10 or ( C39 + 1 ) < R10) by L2787 , XXREAL_0:1;
L2789: D60 in { ( R16 . ( C39 + 1 ) ) } by L2788 , L2758 , L2759 , TARSKI:def 1;
thus L2790: D60 in ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } ) by L2789 , XBOOLE_0:def 3;
end;
end;
thus L2792: thesis by L2739;
end;
L2793: ( rng C45 ) c= ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } ) by L2732 , TARSKI:def 3;
L2794: ( rng C45 ) = ( ( rng C44 ) \/ { ( R16 . ( C39 + 1 ) ) } ) by L2793 , L2727 , XBOOLE_0:def 10;
L2795: ( delta C44 ) in ( rng ( upper_volume (( chi (C43 , C43) ) , C44) ) ) by XXREAL_2:def 8;
consider R9 being (Element of ( NAT )) such that L2796: R9 in ( dom ( upper_volume (( chi (C43 , C43) ) , C44) ) ) and L2797: ( ( upper_volume (( chi (C43 , C43) ) , C44) ) . R9 ) = ( delta C44 ) by L2795 , PARTFUN1:3;
L2798: R9 in ( Seg ( len ( upper_volume (( chi (C43 , C43) ) , C44) ) ) ) by L2796 , FINSEQ_1:def 3;
L2799: R9 in ( Seg ( len C44 ) ) by L2798 , INTEGRA1:def 6;
L2800: R9 in ( dom C44 ) by L2799 , FINSEQ_1:def 3;
L2801: R9 <= ( len C44 ) by L2799 , FINSEQ_1:1;
L2802: ( R9 + C40 ) <= R8 by L2801 , L2515 , XREAL_1:19;
L2803: ( R9 + C40 ) <= ( len R17 ) by L2802 , L2336 , XXREAL_0:2;
L2804: 1 <= R9 by L2798 , FINSEQ_1:1;
L2805: ( C40 + 1 ) > 1 by L2361 , NAT_1:13;
L2806: C40 > ( 1 - 1 ) by L2805 , XREAL_1:19;
L2807: R9 < ( R9 + C40 ) by L2806 , XREAL_1:29;
L2808: 1 < ( R9 + C40 ) by L2807 , L2804 , XXREAL_0:2;
L2809: ( R9 + C40 ) in ( dom R17 ) by L2808 , L2803 , FINSEQ_3:25;
L2810: (( lower_bound ( divset (C44 , R9) ) ) = ( lower_bound ( divset (R17 , ( R9 + C40 )) ) ) & ( upper_bound ( divset (C44 , R9) ) ) = ( upper_bound ( divset (R17 , ( R9 + C40 )) ) ))
proof
per cases ;
suppose L2811: R9 = 1;

L2812: ( upper_bound ( divset (C44 , R9) ) ) = ( C44 . R9 ) by L2811 , L2800 , INTEGRA1:def 4;
L2813: ( upper_bound ( divset (C44 , R9) ) ) = ( R17 . ( ( R9 + ( C40 + 1 ) ) - 1 ) ) by L2812 , L2327 , L2336 , L2293 , L2508 , L2511 , L2804 , L2801 , FINSEQ_6:122;
L2814: ( lower_bound ( divset (R17 , ( R9 + C40 )) ) ) = ( R17 . ( ( R9 + C40 ) - 1 ) ) by L2804 , L2807 , L2809 , INTEGRA1:def 4;
thus L2815: thesis by L2814 , L2504 , L2805 , L2800 , L2809 , L2811 , L2813 , INTEGRA1:def 4;
end;
suppose L2816: R9 <> 1;

L2817: ( upper_bound ( divset (C44 , R9) ) ) = ( C44 . R9 ) by L2816 , L2800 , INTEGRA1:def 4;
L2818: ( upper_bound ( divset (C44 , R9) ) ) = ( R17 . ( ( R9 + ( C40 + 1 ) ) - 1 ) ) by L2817 , L2327 , L2336 , L2293 , L2508 , L2511 , L2804 , L2801 , FINSEQ_6:122;
L2819: ( lower_bound ( divset (C44 , R9) ) ) = ( C44 . ( R9 - 1 ) ) by L2800 , L2816 , INTEGRA1:def 4;
L2820: ( R9 - 1 ) in ( dom C44 ) by L2800 , L2816 , INTEGRA1:7;
L2821: ( R9 - 1 ) <= ( len C44 ) by L2820 , FINSEQ_3:25;
L2822: 1 <= ( R9 - 1 ) by L2820 , FINSEQ_3:25;
L2823: ( lower_bound ( divset (C44 , R9) ) ) = ( R17 . ( ( ( R9 - 1 ) + ( C40 + 1 ) ) - 1 ) ) by L2822 , L2327 , L2336 , L2293 , L2508 , L2511 , L2820 , L2821 , L2819 , FINSEQ_6:122;
thus L2824: thesis by L2823 , L2804 , L2807 , L2809 , L2818 , INTEGRA1:def 4;
end;
end;
L2826: ( divset (C44 , R9) ) = [. ( lower_bound ( divset (R17 , ( R9 + C40 )) ) ) , ( upper_bound ( divset (R17 , ( R9 + C40 )) ) ) .] by L2810 , INTEGRA1:4;
L2827: ( divset (C44 , R9) ) = ( divset (R17 , ( R9 + C40 )) ) by L2826 , INTEGRA1:4;
L2828: ( R9 + C40 ) in ( Seg ( len R17 ) ) by L2809 , FINSEQ_1:def 3;
L2829: ( R9 + C40 ) in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L2828 , INTEGRA1:def 6;
L2830: ( R9 + C40 ) in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L2829 , FINSEQ_1:def 3;
L2831: R9 in ( dom C44 ) by L2799 , FINSEQ_1:def 3;
L2832: ( delta C44 ) = ( vol ( divset (C44 , R9) ) ) by L2831 , L2797 , INTEGRA1:20;
L2833: ( delta C44 ) = ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . ( R9 + C40 ) ) by L2832 , L2809 , L2827 , INTEGRA1:20;
L2834: ( delta C44 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L2833 , L2830 , FUNCT_1:def 3;
L2835: ( delta C44 ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L2834 , XXREAL_2:def 8;
L2836: ( delta C44 ) <= ( delta R17 ) by L2835;
L2837: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L1809 , L326 , XREAL_1:48;
L2838: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta C44 ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) by L2837 , L2836 , XREAL_1:64;
L2839: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C39 + 1 ) ) by L2284 , INTEGRA2:1;
L2840: ( R17 . ( R8 - 1 ) ) <= ( R16 . ( C39 + 1 ) ) by L2839 , L2283 , L2294 , L2361 , INTEGRA1:def 4;
L2841: ( R16 . ( C39 + 1 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L2284 , INTEGRA2:1;
L2842: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( indx (R18 , R17 , R8) ) by L2343 , L2559 , XXREAL_0:2;
L2843: (for B37 being Nat holds ((1 <= B37 & B37 <= ( len ( lower_volume (D57 , C45) ) )) implies ( ( lower_volume (D57 , C45) ) . B37 ) = ( ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . B37 )))
proof
let C57 being Nat;
assume that
L2844: 1 <= C57
and
L2845: C57 <= ( len ( lower_volume (D57 , C45) ) );
L2846: C57 in ( Seg ( len ( lower_volume (D57 , C45) ) ) ) by L2844 , L2845 , FINSEQ_1:1;
L2847: ( ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . C57 ) = ( H6(R18) . ( ( C57 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) ) by L2846 , L2564 , L2678 , L2675 , L2842 , L2844 , L2845 , FINSEQ_6:122;
L2848: 1 <= ( ( indx (R18 , R17 , C40) ) + 1 ) by NAT_1:12;
L2849: ( 1 + 1 ) <= ( C57 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) by L2848 , L2844 , XREAL_1:7;
L2850: 1 <= ( ( C57 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) by L2849 , XREAL_1:19;
consider C58 being (Element of ( NAT )) such that L2851: ( ( indx (R18 , R17 , C40) ) + 1 ) = ( 1 + C58 );
L2852: C57 <= ( ( indx (R18 , R17 , R8) ) - ( ( ( indx (R18 , R17 , C40) ) + 1 ) - 1 ) ) by L2677 , L2566 , L2845 , INTEGRA1:def 7;
L2853: ( C57 + ( ( ( indx (R18 , R17 , C40) ) + 1 ) - 1 ) ) <= ( indx (R18 , R17 , R8) ) by L2852 , XREAL_1:19;
L2854: ( ( C57 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) <= ( len H6(R18) ) by L2853 , L2675 , XXREAL_0:2;
L2855: ( C57 + C58 ) in ( Seg ( len H6(R18) ) ) by L2854 , L2850 , L2851 , FINSEQ_1:1;
L2856: ( C57 + C58 ) in ( Seg ( len R18 ) ) by L2855 , INTEGRA1:def 7;
L2857: ( C57 + C58 ) in ( dom R18 ) by L2856 , FINSEQ_1:def 3;
L2858: ( ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) . C57 ) = ( ( lower_bound ( rng ( R19 | ( divset (R18 , ( C57 + C58 )) ) ) ) ) * ( vol ( divset (R18 , ( C57 + C58 )) ) ) ) by L2857 , L2847 , L2851 , INTEGRA1:def 7;
L2859: C57 in ( Seg ( len C45 ) ) by L2846 , INTEGRA1:def 7;
L2860: (( lower_bound ( divset (C45 , C57) ) ) = ( lower_bound ( divset (R18 , ( C57 + C58 )) ) ) & ( upper_bound ( divset (C45 , C57) ) ) = ( upper_bound ( divset (R18 , ( C57 + C58 )) ) ))
proof
L2861: ( C57 + C58 ) >= ( 1 + 1 ) by L2330 , L2844 , L2851 , XREAL_1:7;
L2862: ( C57 + C58 ) > 1 by L2861 , NAT_1:13;
L2863: C57 in ( dom C45 ) by L2859 , FINSEQ_1:def 3;
L2864: ( C57 + C58 ) in ( dom R18 ) by L2856 , FINSEQ_1:def 3;
per cases ;
suppose L2865: C57 = 1;

L2866: ( upper_bound ( divset (C45 , C57) ) ) = ( C45 . C57 ) by L2865 , L2863 , INTEGRA1:def 4;
L2867: ( upper_bound ( divset (C45 , C57) ) ) = ( R18 . ( ( C57 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) ) by L2866 , L2343 , L2333 , L2509 , L2564 , L2566 , L2678 , L2844 , L2845 , L2846 , FINSEQ_6:122;
L2868: ( lower_bound ( divset (R18 , ( C57 + C58 )) ) ) = ( R18 . ( ( C57 + C58 ) - 1 ) ) by L2862 , L2864 , INTEGRA1:def 4;
L2869: ( lower_bound ( divset (C45 , C57) ) ) = ( R17 . C40 ) by L2504 , L2863 , L2865 , INTEGRA1:def 4;
thus L2870: thesis by L2869 , L1824 , L2290 , L2851 , L2862 , L2864 , L2865 , L2867 , L2868 , INTEGRA1:def 4 , INTEGRA1:def 19;
end;
suppose L2871: C57 <> 1;

L2872: ( upper_bound ( divset (C45 , C57) ) ) = ( C45 . C57 ) by L2871 , L2863 , INTEGRA1:def 4;
L2873: ( upper_bound ( divset (C45 , C57) ) ) = ( R18 . ( ( C57 + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) ) by L2872 , L2343 , L2333 , L2509 , L2564 , L2566 , L2678 , L2844 , L2845 , L2846 , FINSEQ_6:122;
L2874: ( C57 - 1 ) <= ( ( ( indx (R18 , R17 , R8) ) - ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) by L2678 , L2845 , XREAL_1:146 , XXREAL_0:2;
L2875: ( lower_bound ( divset (C45 , C57) ) ) = ( C45 . ( C57 - 1 ) ) by L2863 , L2871 , INTEGRA1:def 4;
L2876: ( C57 - 1 ) in ( dom C45 ) by L2863 , L2871 , INTEGRA1:7;
L2877: 1 <= ( C57 - 1 ) by L2876 , FINSEQ_3:25;
L2878: ( lower_bound ( divset (C45 , C57) ) ) = ( R18 . ( ( ( C57 - 1 ) + ( ( indx (R18 , R17 , C40) ) + 1 ) ) - 1 ) ) by L2877 , L2343 , L2333 , L2509 , L2564 , L2566 , L2876 , L2874 , L2875 , FINSEQ_6:122;
thus L2879: thesis by L2878 , L2851 , L2862 , L2864 , L2873 , INTEGRA1:def 4;
end;
end;
L2881: ( divset (C45 , C57) ) = [. ( lower_bound ( divset (C45 , C57) ) ) , ( upper_bound ( divset (C45 , C57) ) ) .] by INTEGRA1:4;
L2882: ( divset (C45 , C57) ) = ( divset (R18 , ( C57 + C58 )) ) by L2881 , L2860 , INTEGRA1:4;
L2883: C57 in ( dom C45 ) by L2859 , FINSEQ_1:def 3;
L2884: ( divset (R18 , ( C57 + C58 )) ) c= C43 by L2883 , L2882 , INTEGRA1:8;
L2885: ( rng ( R19 | ( divset (R18 , ( C57 + C58 )) ) ) ) = ( rng ( D57 | ( divset (R18 , ( C57 + C58 )) ) ) ) by L2884 , FUNCT_1:51;
L2886: C57 in ( dom C45 ) by L2859 , FINSEQ_1:def 3;
thus L2887: thesis by L2886 , L2858 , L2882 , L2885 , INTEGRA1:def 7;
end;
L2888: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C39 + 1 ) ) by L2284 , INTEGRA2:1;
L2889: ( R16 . ( C39 + 1 ) ) in ( divset (C44 , ( len C44 )) ) by L2888 , L2532 , L2841 , INTEGRA2:1;
L2890: ( R8 - 1 ) in ( dom R17 ) by L2283 , L2294 , L2361 , INTEGRA1:7;
L2891: ( R17 . C40 ) < ( R17 . ( R8 - 1 ) ) by L2890 , L2290 , L2674 , SEQM_3:def 1;
L2892: ( R16 . ( C39 + 1 ) ) > ( lower_bound C43 ) by L2891 , L2504 , L2840 , XXREAL_0:2;
L2893: ( ( Sum ( lower_volume (D57 , C45) ) ) - ( Sum ( lower_volume (D57 , C44) ) ) ) <= ( ( ( upper_bound ( rng D57 ) ) - ( lower_bound ( rng D57 ) ) ) * ( delta C44 ) ) by L2892 , L2507 , L2648 , L2794 , L2889 , L2563 , L1460;
L2894: ( ( Sum ( lower_volume (D57 , C45) ) ) - ( Sum ( lower_volume (D57 , C44) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta C44 ) ) by L2893 , L2673 , XXREAL_0:2;
L2895: ( ( indx (R18 , R17 , C40) ) + 1 ) <= ( len H6(R18) ) by L2560 , INTEGRA1:def 7;
L2896: ( len ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) = ( ( ( indx (R18 , R17 , R8) ) -' ( ( indx (R18 , R17 , C40) ) + 1 ) ) + 1 ) by L2895 , L2332 , L2564 , L2675 , L2842 , FINSEQ_6:118;
L2897: ( len ( lower_volume (D57 , C45) ) ) = ( len ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) by L2896 , L2343 , L2559 , L2678 , XREAL_1:233 , XXREAL_0:2;
L2898: ( Sum ( lower_volume (D57 , C45) ) ) = ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) by L2897 , L2843 , FINSEQ_1:14;
L2899: ( C40 + 1 ) <= ( len H6(R17) ) by L2337 , INTEGRA1:def 7;
L2900: ( len ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) = ( ( R8 -' ( C40 + 1 ) ) + 1 ) by L2899 , L2327 , L2335 , L2293 , L2606 , FINSEQ_6:118
.= ( ( R8 - ( C40 + 1 ) ) + 1 ) by L2327 , XREAL_1:233;
L2901: ( Sum ( lower_volume (D57 , C44) ) ) = ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) by L2900 , L2529 , L2607 , FINSEQ_1:14;
thus L2902: thesis by L2901 , L2894 , L2838 , L2898 , XXREAL_0:2;
end;
end;
thus L2904: thesis by L2364;
end;
L2905: ( ( H7(R18 , ( indx (R18 , R17 , C40) )) - H7(R17 , C40) ) + ( ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) - ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) ) ) <= ( ( ( C39 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) + ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) ) by L2363 , L2292 , XREAL_1:7;
L2906: C40 < ( C40 + 1 ) by NAT_1:13;
L2907: ( R17 . C40 ) < ( R17 . ( C40 + 1 ) ) by L2906 , L2290 , L2338 , SEQM_3:def 1;
L2908: ( indx (R18 , R17 , C40) ) < ( indx (R18 , R17 , ( C40 + 1 )) ) by L2907 , L2329 , L2347 , L2339 , L2341 , SEQ_4:137;
L2909: ( indx (R18 , R17 , C40) ) < ( indx (R18 , R17 , R8) ) by L2908 , L2343 , XXREAL_0:2;
L2910: ( indx (R18 , R17 , C40) ) in ( Seg ( len R18 ) ) by L2329 , FINSEQ_1:def 3;
L2911: ( indx (R18 , R17 , C40) ) in ( Seg ( len H6(R18) ) ) by L2910 , INTEGRA1:def 7;
L2912: ( indx (R18 , R17 , C40) ) in ( dom H6(R18) ) by L2911 , FINSEQ_1:def 3;
L2913: H7(R18 , ( indx (R18 , R17 , C40) )) = ( Sum ( H6(R18) | ( indx (R18 , R17 , C40) ) ) ) by L2912 , INTEGRA1:def 20
.= ( Sum ( mid (H6(R18) , 1 , ( indx (R18 , R17 , C40) )) ) ) by L2330 , FINSEQ_6:116;
L2914: ( H7(R18 , ( indx (R18 , R17 , C40) )) + ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) ) = ( Sum ( ( mid (H6(R18) , 1 , ( indx (R18 , R17 , C40) )) ) ^ ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) ) by L2913 , RVSUM_1:75
.= ( Sum ( mid (H6(R18) , 1 , ( indx (R18 , R17 , R8) )) ) ) by L2330 , L2909 , L2334 , INTEGRA2:4
.= ( Sum ( H6(R18) | ( indx (R18 , R17 , R8) ) ) ) by L2332 , FINSEQ_6:116;
L2915: H7(R18 , ( indx (R18 , R17 , R8) )) = ( H7(R18 , ( indx (R18 , R17 , C40) )) + ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) ) by L2914 , L2360 , INTEGRA1:def 20;
L2916: ( ( H7(R18 , ( indx (R18 , R17 , C40) )) - H7(R17 , C40) ) + ( ( Sum ( mid (H6(R18) , ( ( indx (R18 , R17 , C40) ) + 1 ) , ( indx (R18 , R17 , R8) )) ) ) - ( Sum ( mid (H6(R17) , ( C40 + 1 ) , R8) ) ) ) ) = ( H7(R18 , ( indx (R18 , R17 , R8) )) - H7(R17 , R8) ) by L2915 , L2357;
thus L2917: thesis by L2916 , L2283 , L2284 , L2905;
end;
thus L2918: thesis by L2280;
end;
L2919: (for B38 being non  empty Nat holds S3[ B38 ]) from NAT_1:sch 10(L1885 , L2277);
L2920: S3[ D55 ] by L2919;
thus L2921: thesis by L2920 , L1831;
end;
L2922: ( len R17 ) in ( dom R17 ) by FINSEQ_5:6;
L2923: ( R17 . ( len R17 ) ) = ( R18 . ( indx (R18 , R17 , ( len R17 )) ) ) by L2922 , L1824 , INTEGRA1:def 19;
L2924: ( upper_bound R15 ) = ( R18 . ( indx (R18 , R17 , ( len R17 )) ) ) by L2923 , INTEGRA1:def 2;
L2925: ( R18 . ( len R18 ) ) = ( R18 . ( indx (R18 , R17 , ( len R17 )) ) ) by L2924 , INTEGRA1:def 2;
L2926: ( len R16 ) in ( dom R16 ) by FINSEQ_5:6;
consider R8 being (Element of ( NAT )) such that L2927: R8 in ( dom R17 ) and L2928: ( R16 . ( len R16 ) ) in ( divset (R17 , R8) ) and L2929: ( H7(R18 , ( indx (R18 , R17 , R8) )) - H7(R17 , R8) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) by L2926 , L1830;
L2930: R8 = ( len R17 )
proof
assume L2931: R8 <> ( len R17 );
L2932: R8 <= ( len R17 ) by L2927 , FINSEQ_3:25;
L2933: R8 < ( len R17 ) by L2932 , L2931 , XXREAL_0:1;
L2934: ( R17 . R8 ) < ( R17 . ( len R17 ) ) by L2933 , L2927 , L2922 , SEQM_3:def 1;
L2935: ( R17 . R8 ) < ( upper_bound R15 ) by L2934 , INTEGRA1:def 2;
L2936: ( upper_bound ( divset (R17 , R8) ) ) < ( upper_bound R15 )
proof
per cases ;
suppose L2937: R8 = 1;

thus L2938: thesis by L2937 , L2927 , L2935 , INTEGRA1:def 4;
end;
suppose L2939: R8 <> 1;

thus L2940: thesis by L2939 , L2927 , L2935 , INTEGRA1:def 4;
end;
end;
L2942: ( R16 . ( len R16 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L2928 , INTEGRA2:1;
thus L2943: contradiction by L2942 , L2936 , INTEGRA1:def 2;
end;
L2944: ( indx (R18 , R17 , ( len R17 )) ) in ( dom R18 ) by L1824 , L2922 , INTEGRA1:def 19;
L2945: ( indx (R18 , R17 , ( len R17 )) ) = ( len R18 ) by L2944 , L1829 , L2925 , SEQ_4:138;
L2946: ( H7(R18 , ( len R18 )) - ( lower_sum (R19 , R17) ) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) by L2945 , L2929 , L2930 , INTEGRA1:43;
thus L2947: thesis by L2946 , INTEGRA1:43;
end;
thus L2948: thesis by L1828 , L1823 , L1824 , L1825;
end;
thus L2949: thesis by L1822;
end;
L2950: ( lim ( delta R21 ) ) = ( 0 ) by L1810 , FDIFF_1:def 1;
L2951: ( delta R21 ) is  non-zero by L1810;
L2952: (for R3 being Real holds (R3 > ( 0 ) implies (ex R10 being (Element of ( NAT )) st (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies (( 0 ) < ( ( delta R21 ) . R11 ) & ( ( delta R21 ) . R11 ) < R3))))))
proof
let R3 being Real;
assume L2953: R3 > ( 0 );
consider R10 being (Element of ( NAT )) such that L2954: (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) < R3)) by L2953 , L1812 , L2950 , SEQ_2:def 7;
L2955: (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies (( 0 ) < ( ( delta R21 ) . R11 ) & ( ( delta R21 ) . R11 ) < R3)))
proof
let R11 being (Element of ( NAT ));
L2956: ( ( delta R21 ) . R11 ) = ( delta ( R21 . R11 ) ) by L14;
L2957: ( delta ( R21 . R11 ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) ) by XXREAL_2:def 8;
consider R7 being (Element of ( NAT )) such that L2958: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) ) and L2959: ( delta ( R21 . R11 ) ) = ( ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) . R7 ) by L2957 , PARTFUN1:3;
consider C59 being (Division of R15) such that L2960: C59 = ( R21 . R11 );
L2961: R7 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) ) ) by L2958 , FINSEQ_1:def 3;
L2962: R7 in ( Seg ( len C59 ) ) by L2961 , L2960 , INTEGRA1:def 6;
L2963: R7 in ( dom C59 ) by L2962 , FINSEQ_1:def 3;
L2964: ( delta ( R21 . R11 ) ) = ( vol ( divset (( R21 . R11 ) , R7) ) ) by L2963 , L2959 , L2960 , INTEGRA1:20;
assume L2965: R10 <= R11;
L2966: ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) < R3 by L2965 , L2954;
L2967: ( ( ( delta R21 ) . R11 ) + ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) ) < ( R3 + ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) ) by L2966 , ABSVALUE:4 , XREAL_1:8;
L2968: ( ( delta R21 ) . R11 ) <> ( 0 ) by L2951 , SEQ_1:5;
thus L2969: thesis by L2968 , L2967 , L2956 , L2964 , INTEGRA1:9 , XREAL_1:6;
end;
thus L2970: thesis by L2955;
end;
L2971: (for B39 being  real number holds (B39 > ( 0 ) implies (ex R10 being (Element of ( NAT )) st (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies ( abs ( ( ( lower_sum (R19 , R21) ) . R11 ) - ( lower_integral R19 ) ) ) < B39)))))
proof
set D61 = ( lower_bound ( rng R19 ) );
set D62 = ( upper_bound ( rng R19 ) );
let C60 being  real number;
assume L2972: C60 > ( 0 );
L2973: ( C60 / 2 ) > ( 0 ) by L2972 , XREAL_1:139;
reconsider D63 = C60 as Real by XREAL_0:def 1;
L2974: ( D62 - D61 ) >= ( 0 ) by L1809 , L326 , XREAL_1:48;
L2975: ( rng ( lower_sum_set R19 ) ) is  bounded_above by L1809 , INTEGRA2:36;
L2976: ( lower_integral R19 ) = ( upper_bound ( rng ( lower_sum_set R19 ) ) ) by INTEGRA1:def 15;
consider C61 being  real number such that L2977: C61 in ( rng ( lower_sum_set R19 ) ) and L2978: ( ( lower_integral R19 ) - ( D63 / 2 ) ) < C61 by L2976 , L2973 , L2975 , SEQ_4:def 1;
consider C62 being (Division of R15) such that L2979: C62 in ( dom ( lower_sum_set R19 ) ) and L2980: C61 = ( ( lower_sum_set R19 ) . C62 ) and L2981: ( C62 . 1 ) > ( lower_bound R15 ) by L1811 , L2977 , L1091;
deffunc H8(Nat) = ( vol ( divset (C62 , $1) ) );
set D64 = ( len C62 );
consider C63 being (FinSequence of ( REAL )) such that L2982: (( len C63 ) = ( len C62 ) & (for B40 being Nat holds (B40 in ( dom C63 ) implies ( C63 . B40 ) = H8(B40)))) from FINSEQ_2:sch 1;
consider C64 being  non-decreasing (FinSequence of ( REAL )) such that L2983: C63 , C64 are_fiberwise_equipotent  by INTEGRA2:3;
defpred S4[ Nat ] means ($1 in ( dom C64 ) & ( C64 . $1 ) > ( 0 ));
L2984: ( dom C63 ) = ( Seg ( len C62 ) ) by L2982 , FINSEQ_1:def 3;
L2985: (ex B41 being Nat st S4[ B41 ])
proof
consider C65 being Function such that L2986: ( dom C65 ) = ( dom C63 ) and L2987: ( rng C65 ) = ( dom C64 ) and L2988: C65 is  one-to-one and L2989: C63 = ( C64 * C65 ) by L2983 , CLASSES1:77;
consider R9 being (Element of ( NAT )) such that L2990: R9 in ( dom C62 ) and L2991: ( vol ( divset (C62 , R9) ) ) > ( 0 ) by L1811 , L39;
L2992: ( dom C62 ) = ( Seg ( len C63 ) ) by L2982 , FINSEQ_1:def 3;
L2993: ( C65 . R9 ) in ( dom C64 ) by L2992 , L2982 , L2984 , L2989 , L2990 , FUNCT_1:11;
reconsider D65 = ( C65 . R9 ) as Nat by L2993;
L2994: ( C63 . R9 ) > ( 0 ) by L2982 , L2984 , L2990 , L2991 , L2992;
L2995: S4[ D65 ] by L2994 , L2982 , L2984 , L2989 , L2990 , L2992 , FUNCT_1:11 , FUNCT_1:12;
thus L2996: thesis by L2995;
end;
consider C66 being Nat such that L2997: (S4[ C66 ] & (for B42 being Nat holds (S4[ B42 ] implies C66 <= B42))) from NAT_1:sch 5(L2985);
L2998: ( 2 * D64 ) > ( 0 ) by XREAL_1:129;
L2999: ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) > ( 0 ) by L2998 , L2974 , XREAL_1:129;
L3000: ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) > ( 0 )
proof
per cases  by XXREAL_0:15;
suppose L3001: ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) = ( C64 . C66 );

thus L3002: thesis by L3001 , L2997;
end;
suppose L3003: ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) = ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) );

thus L3004: thesis by L3003 , L2972 , L2999 , XREAL_1:139;
end;
end;
consider R10 being (Element of ( NAT )) such that L3006: (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies (( 0 ) < ( ( delta R21 ) . R11 ) & ( ( delta R21 ) . R11 ) < ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) )))) by L3000 , L2952;
take R10;
L3007: C61 = ( lower_sum (R19 , C62) ) by L2980 , INTEGRA1:def 11;
L3008: (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies ( abs ( ( ( lower_sum (R19 , R21) ) . R11 ) - ( lower_integral R19 ) ) ) < D63))
proof
L3009: ( C64 . 1 ) > ( 0 )
proof
L3010: (for B43 being (Element of ( NAT )) holds (B43 in ( dom C62 ) implies ( vol ( divset (C62 , B43) ) ) > ( 0 )))
proof
let C67 being (Element of ( NAT ));
assume L3011: C67 in ( dom C62 );
L3012: 1 <= C67 by L3011 , FINSEQ_3:25;
per cases  by L3012 , XXREAL_0:1;
suppose L3013: C67 = 1;

L3014: ( upper_bound ( divset (C62 , C67) ) ) = ( C62 . C67 ) by L3013 , L3011 , INTEGRA1:def 4;
L3015: ( lower_bound ( divset (C62 , C67) ) ) = ( lower_bound R15 ) by L3011 , L3013 , INTEGRA1:def 4;
L3016: ( vol ( divset (C62 , C67) ) ) = ( ( C62 . C67 ) - ( lower_bound R15 ) ) by L3015 , L3014 , INTEGRA1:def 5;
thus L3017: thesis by L3016 , L2981 , L3013 , XREAL_1:50;
end;
suppose L3018: C67 > 1;

L3019: ( upper_bound ( divset (C62 , C67) ) ) = ( C62 . C67 ) by L3018 , L3011 , INTEGRA1:def 4;
L3020: ( lower_bound ( divset (C62 , C67) ) ) = ( C62 . ( C67 - 1 ) ) by L3011 , L3018 , INTEGRA1:def 4;
L3021: ( vol ( divset (C62 , C67) ) ) = ( ( C62 . C67 ) - ( C62 . ( C67 - 1 ) ) ) by L3020 , L3019 , INTEGRA1:def 5;
L3022: C67 < ( C67 + 1 ) by XREAL_1:29;
L3023: ( C67 - 1 ) < C67 by L3022 , XREAL_1:19;
L3024: ( C67 - 1 ) in ( dom C62 ) by L3011 , L3018 , INTEGRA1:7;
L3025: ( C62 . ( C67 - 1 ) ) < ( C62 . C67 ) by L3024 , L3011 , L3023 , SEQM_3:def 1;
thus L3026: thesis by L3025 , L3021 , XREAL_1:50;
end;
end;
L3028: C66 <= ( len C64 ) by L2997 , FINSEQ_3:25;
L3029: 1 <= C66 by L2997 , FINSEQ_3:25;
L3030: 1 <= ( len C64 ) by L3029 , L3028 , XXREAL_0:2;
L3031: 1 in ( dom C64 ) by L3030 , FINSEQ_3:25;
L3032: ( C64 . 1 ) in ( rng C64 ) by L3031 , FUNCT_1:def 3;
L3033: ( rng C63 ) = ( rng C64 ) by L2983 , CLASSES1:75;
consider C68 being (Element of ( NAT )) such that L3034: C68 in ( dom C63 ) and L3035: ( C64 . 1 ) = ( C63 . C68 ) by L3033 , L3032 , PARTFUN1:3;
L3036: C68 in ( Seg ( len C62 ) ) by L2982 , L3034 , FINSEQ_1:def 3;
L3037: C68 in ( dom C62 ) by L3036 , FINSEQ_1:def 3;
L3038: ( C64 . 1 ) = ( vol ( divset (C62 , C68) ) ) by L2982 , L3034 , L3035;
thus L3039: thesis by L3038 , L3010 , L3037;
end;
L3040: ( C64 . C66 ) = ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) )
proof
L3041: C66 = 1
proof
L3042: ( len C64 ) = ( len C63 ) by L2983 , RFINSEQ:3;
L3043: C66 in ( Seg ( len C63 ) ) by L3042 , L2997 , FINSEQ_1:def 3;
L3044: 1 <= C66 by L3043 , FINSEQ_1:1;
L3045: C66 in ( Seg ( len C64 ) ) by L2997 , FINSEQ_1:def 3;
L3046: C66 <= ( len C64 ) by L3045 , FINSEQ_1:1;
L3047: 1 <= ( len C64 ) by L3046 , L3044 , XXREAL_0:2;
L3048: 1 in ( dom C64 ) by L3047 , FINSEQ_3:25;
assume L3049: C66 <> 1;
L3050: C66 > 1 by L3049 , L3044 , XXREAL_0:1;
thus L3051: contradiction by L3050 , L2997 , L3009 , L3048;
end;
L3052: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) by XXREAL_2:def 7;
consider R11 being (Element of ( NAT )) such that L3053: R11 in ( dom ( upper_volume (( chi (R15 , R15) ) , C62) ) ) and L3054: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , C62) ) . R11 ) by L3052 , PARTFUN1:3;
L3055: R11 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) by L3053 , FINSEQ_1:def 3;
L3056: R11 in ( Seg ( len C62 ) ) by L3055 , INTEGRA1:def 6;
L3057: R11 in ( dom C62 ) by L3056 , FINSEQ_1:def 3;
L3058: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) = ( vol ( divset (C62 , R11) ) ) by L3057 , L3054 , INTEGRA1:20;
L3059: ( C63 . R11 ) = ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) by L3058 , L2982 , L2984 , L3056;
L3060: ( rng C63 ) = ( rng C64 ) by L2983 , CLASSES1:75;
L3061: R11 in ( dom C63 ) by L2982 , L3056 , FINSEQ_1:def 3;
L3062: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) in ( rng C63 ) by L3061 , L3059 , FUNCT_1:def 3;
consider C69 being (Element of ( NAT )) such that L3063: C69 in ( dom C64 ) and L3064: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) = ( C64 . C69 ) by L3062 , L3060 , PARTFUN1:3;
L3065: ( C64 . C66 ) in ( rng C64 ) by L2997 , FUNCT_1:def 3;
consider C70 being (Element of ( NAT )) such that L3066: C70 in ( dom C63 ) and L3067: ( C64 . C66 ) = ( C63 . C70 ) by L3065 , L3060 , PARTFUN1:3;
L3068: C70 in ( Seg ( len C62 ) ) by L2982 , L3066 , FINSEQ_1:def 3;
L3069: C70 in ( dom C62 ) by L3068 , FINSEQ_1:def 3;
L3070: C70 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) by L3068 , INTEGRA1:def 6;
L3071: C70 in ( dom ( upper_volume (( chi (R15 , R15) ) , C62) ) ) by L3070 , FINSEQ_1:def 3;
L3072: ( C64 . C66 ) = ( vol ( divset (C62 , C70) ) ) by L2982 , L3066 , L3067;
L3073: ( C64 . C66 ) = ( ( upper_volume (( chi (R15 , R15) ) , C62) ) . C70 ) by L3072 , L3069 , INTEGRA1:20;
L3074: ( C64 . C66 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) by L3073 , L3071 , FUNCT_1:def 3;
L3075: ( C64 . C66 ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) by L3074 , XXREAL_2:def 7;
L3076: C69 >= 1 by L3063 , FINSEQ_3:25;
L3077: ( C64 . 1 ) <= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C62) ) ) ) by L3076 , L2997 , L3041 , L3063 , L3064 , INTEGRA2:2;
thus L3078: thesis by L3077 , L3041 , L3075 , XXREAL_0:1;
end;
L3079: ( D62 - D61 ) <= ( ( D62 - D61 ) + 1 ) by XREAL_1:29;
L3080: ( D64 * ( D62 - D61 ) ) <= ( D64 * ( ( D62 - D61 ) + 1 ) ) by L3079 , XREAL_1:64;
set D66 = ( lower_sum (R19 , C62) );
set D67 = ( lower_integral R19 );
let R11 being (Element of ( NAT ));
reconsider D68 = ( R21 . R11 ) as (Division of R15);
L3081: ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) <= ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) ) by XXREAL_0:17;
assume L3082: R10 <= R11;
L3083: ( ( delta R21 ) . R11 ) < ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) by L3082 , L3006;
L3084: ( delta D68 ) < ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) by L3083 , L14;
L3085: ( ( delta R21 ) . R11 ) < ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) by L3006 , L3082;
L3086: ( ( delta R21 ) . R11 ) < ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) ) by L3085 , L3081 , XXREAL_0:2;
L3087: ( ( ( delta R21 ) . R11 ) * ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) ) < D63 by L3086 , L2998 , L2974 , XREAL_1:79 , XREAL_1:129;
L3088: ( ( ( ( delta R21 ) . R11 ) * ( D64 * ( ( D62 - D61 ) + 1 ) ) ) * 2 ) < D63 by L3087;
L3089: ( ( D64 * ( ( D62 - D61 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) < ( D63 / 2 ) by L3088 , XREAL_1:81;
L3090: ( R21 . R11 ) in ( divs R15 ) by INTEGRA1:def 3;
L3091: ( R21 . R11 ) in ( dom ( lower_sum_set R19 ) ) by L3090 , FUNCT_2:def 1;
L3092: ( ( lower_sum (R19 , R21) ) . R11 ) = ( lower_sum (R19 , ( R21 . R11 )) ) by INTEGRA2:def 3;
L3093: ( ( lower_sum (R19 , R21) ) . R11 ) = ( ( lower_sum_set R19 ) . ( R21 . R11 ) ) by L3092 , INTEGRA1:def 11;
L3094: ( ( lower_sum (R19 , R21) ) . R11 ) in ( rng ( lower_sum_set R19 ) ) by L3093 , L3091 , FUNCT_1:def 3;
L3095: ( upper_bound ( rng ( lower_sum_set R19 ) ) ) >= ( ( lower_sum (R19 , R21) ) . R11 ) by L3094 , L2975 , SEQ_4:def 1;
L3096: ( lower_integral R19 ) >= ( ( lower_sum (R19 , R21) ) . R11 ) by L3095 , INTEGRA1:def 15;
L3097: ( ( lower_integral R19 ) - ( ( lower_sum (R19 , R21) ) . R11 ) ) >= ( 0 ) by L3096 , XREAL_1:48;
L3098: ( 0 ) < ( ( delta R21 ) . R11 ) by L3006 , L3082;
L3099: ( ( D64 * ( D62 - D61 ) ) * ( ( delta R21 ) . R11 ) ) <= ( ( D64 * ( ( D62 - D61 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) by L3098 , L3080 , XREAL_1:64;
set D69 = ( lower_sum (R19 , ( R21 . R11 )) );
consider C71 being (Division of R15) such that L3100: C62 <= C71 and L3101: D68 <= C71 and L3102: ( rng C71 ) = ( ( rng D68 ) \/ ( rng C62 ) ) and L3103: ( 0 ) <= ( ( lower_sum (R19 , C71) ) - ( lower_sum (R19 , C62) ) ) and L3104: ( 0 ) <= ( ( lower_sum (R19 , C71) ) - ( lower_sum (R19 , D68) ) ) by L1813;
set D70 = ( lower_sum (R19 , C71) );
L3105: ( ( D66 - D69 ) - ( D70 - D69 ) ) = ( D66 - D70 );
L3106: ( min (( C64 . C66 ) , ( D63 / ( ( 2 * D64 ) * ( ( D62 - D61 ) + 1 ) ) )) ) <= ( C64 . C66 ) by XXREAL_0:17;
L3107: ( delta D68 ) < ( C64 . C66 ) by L3106 , L3084 , XXREAL_0:2;
L3108: (ex B44 being (Division of R15) st (C62 <= B44 & D68 <= B44 & ( rng B44 ) = ( ( rng D68 ) \/ ( rng C62 ) ) & ( ( lower_sum (R19 , B44) ) - ( lower_sum (R19 , D68) ) ) <= ( ( ( len C62 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta D68 ) ))) by L3107 , L1820 , L3040;
L3109: ( ( lower_sum (R19 , C71) ) - ( lower_sum (R19 , D68) ) ) <= ( ( ( len C62 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta D68 ) ) by L3108 , L3102 , L284;
L3110: ( ( lower_sum (R19 , C62) ) - ( lower_sum (R19 , C71) ) ) <= ( 0 ) by L1809 , L3100 , INTEGRA1:46 , XREAL_1:47;
L3111: ( D66 - D69 ) <= ( D70 - D69 ) by L3110 , L3105 , XREAL_1:50;
L3112: ( delta D68 ) = ( ( delta R21 ) . R11 ) by L14;
L3113: ( ( lower_sum (R19 , C71) ) - ( lower_sum (R19 , ( R21 . R11 )) ) ) <= ( ( D64 * ( ( D62 - D61 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) by L3112 , L3109 , L3099 , XXREAL_0:2;
L3114: ( D66 - D69 ) <= ( ( D64 * ( ( D62 - D61 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) by L3113 , L3111 , XXREAL_0:2;
L3115: ( D66 - D69 ) < ( D63 / 2 ) by L3114 , L3089 , XXREAL_0:2;
L3116: ( ( D66 - D69 ) + ( D63 / 2 ) ) < ( ( D63 / 2 ) + ( D63 / 2 ) ) by L3115 , XREAL_1:6;
L3117: ( ( D67 - D69 ) + D69 ) < ( D66 + ( D63 / 2 ) ) by L2978 , L3007 , XREAL_1:19;
L3118: ( D67 - D69 ) < ( ( D66 + ( D63 / 2 ) ) - D69 ) by L3117 , XREAL_1:20;
L3119: ( D67 - D69 ) < D63 by L3118 , L3116 , XXREAL_0:2;
L3120: ( ( lower_integral R19 ) - ( ( lower_sum (R19 , R21) ) . R11 ) ) < D63 by L3119 , INTEGRA2:def 3;
L3121: ( abs ( ( lower_integral R19 ) - ( ( lower_sum (R19 , R21) ) . R11 ) ) ) < D63 by L3120 , L3097 , ABSVALUE:def 1;
L3122: ( abs ( - ( ( lower_integral R19 ) - ( ( lower_sum (R19 , R21) ) . R11 ) ) ) ) < D63 by L3121 , COMPLEX1:52;
thus L3123: thesis by L3122;
end;
thus L3124: thesis by L3008;
end;
thus L3125: ( lower_sum (R19 , R21) ) is  convergent by L2971 , SEQ_2:def 6;
thus L3126: thesis by L3125 , L2971 , SEQ_2:def 7;
end;
theorem
L3127: (for R15 being non  empty  closed_interval (Subset of ( REAL )) holds (for R19 being (Function of R15 , ( REAL )) holds (for R21 being (DivSequence of R15) holds ((( R19 | R15 ) is  bounded & ( delta R21 ) is ( 0 ) -convergent  non-zero & ( vol R15 ) <> ( 0 )) implies (( upper_sum (R19 , R21) ) is  convergent & ( lim ( upper_sum (R19 , R21) ) ) = ( upper_integral R19 ))))))
proof
let R15 being non  empty  closed_interval (Subset of ( REAL ));
let R19 being (Function of R15 , ( REAL ));
let R21 being (DivSequence of R15);
assume L3128: ( R19 | R15 ) is  bounded;
L3129: (for R16 being (Division of R15) holds (for R17 being (Division of R15) holds (ex R18 being (Division of R15) st (R16 <= R18 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) & ( 0 ) <= ( ( upper_sum (R19 , R16) ) - ( upper_sum (R19 , R18) ) ) & ( 0 ) <= ( ( upper_sum (R19 , R17) ) - ( upper_sum (R19 , R18) ) )))))
proof
let R16 being (Division of R15);
let R17 being (Division of R15);
consider R18 being (Division of R15) such that L3130: R16 <= R18 and L3131: R17 <= R18 and L3132: ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) by L147;
L3133: ( ( upper_sum (R19 , R17) ) - ( upper_sum (R19 , R18) ) ) >= ( 0 ) by L3128 , L3131 , INTEGRA1:45 , XREAL_1:48;
L3134: ( ( upper_sum (R19 , R16) ) - ( upper_sum (R19 , R18) ) ) >= ( 0 ) by L3128 , L3130 , INTEGRA1:45 , XREAL_1:48;
thus L3135: thesis by L3134 , L3130 , L3131 , L3132 , L3133;
end;
L3136: (for R16 being (Division of R15) holds (for R17 being (Division of R15) holds (( delta R17 ) < ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) implies (ex R18 being (Division of R15) st (R16 <= R18 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) & ( ( upper_sum (R19 , R17) ) - ( upper_sum (R19 , R18) ) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ))))))
proof
let R16 being (Division of R15);
let R17 being (Division of R15);
assume L3137: ( delta R17 ) < ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) );
L3138: (ex R18 being (Division of R15) st (R16 <= R18 & R17 <= R18 & ( rng R18 ) = ( ( rng R17 ) \/ ( rng R16 ) ) & ( ( upper_sum (R19 , R17) ) - ( upper_sum (R19 , R18) ) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )))
proof
consider C72 being (Division of R15) such that L3139: R16 <= C72 and L3140: R17 <= C72 and L3141: ( rng C72 ) = ( ( rng R17 ) \/ ( rng R16 ) ) and L3142: ( 0 ) <= ( ( upper_sum (R19 , R16) ) - ( upper_sum (R19 , C72) ) ) and L3143: ( 0 ) <= ( ( upper_sum (R19 , R17) ) - ( upper_sum (R19 , C72) ) ) by L3129;
L3144: ( ( upper_sum (R19 , R17) ) - ( upper_sum (R19 , C72) ) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )
proof
deffunc H9((Division of R15)) = ( upper_volume (R19 , $1) );
deffunc H10((Division of R15) , Nat) = ( ( PartSums ( upper_volume (R19 , $1) ) ) . $2 );
L3145: ( len C72 ) in ( dom C72 ) by FINSEQ_5:6;
L3146: (for R7 being (Element of ( NAT )) holds (R7 in ( dom R16 ) implies (ex R8 being (Element of ( NAT )) st (R8 in ( dom R17 ) & ( R16 . R7 ) in ( divset (R17 , R8) ) & ( H10(R17 , R8) - H10(C72 , ( indx (C72 , R17 , R8) )) ) <= ( ( R7 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )))))
proof
defpred S5[ non  empty Nat ] means ($1 in ( dom R16 ) implies (ex R8 being (Element of ( NAT )) st (R8 in ( dom R17 ) & ( R16 . $1 ) in ( divset (R17 , R8) ) & ( H10(R17 , R8) - H10(C72 , ( indx (C72 , R17 , R8) )) ) <= ( ( $1 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ))));
let R7 being (Element of ( NAT ));
assume L3147: R7 in ( dom R16 );
L3148: R7 in ( Seg ( len R16 ) ) by L3147 , FINSEQ_1:def 3;
L3149: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds ((R7 in ( dom R16 ) & R8 in ( dom R17 ) & ( R16 . R7 ) in ( divset (R17 , R8) )) implies R8 >= 2)))
proof
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
assume L3150: R7 in ( dom R16 );
assume that
L3151: R8 in ( dom R17 )
and
L3152: ( R16 . R7 ) in ( divset (R17 , R8) );
assume L3153: R8 < 2;
L3154: R8 < ( 1 + 1 ) by L3153;
L3155: R8 <= 1 by L3154 , NAT_1:13;
L3156: R8 in ( Seg ( len R17 ) ) by L3151 , FINSEQ_1:def 3;
L3157: R8 >= 1 by L3156 , FINSEQ_1:1;
L3158: R8 = 1 by L3157 , L3155 , XXREAL_0:1;
L3159: ( lower_bound ( divset (R17 , R8) ) ) = ( lower_bound R15 ) by L3158 , L3151 , INTEGRA1:def 4;
L3160: ( R16 . R7 ) <= ( upper_bound ( divset (R17 , R8) ) ) by L3152 , INTEGRA2:1;
L3161: ( delta R17 ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) )
proof
per cases ;
suppose L3162: R7 = 1;

L3163: ( len R16 ) in ( Seg ( len R16 ) ) by FINSEQ_1:3;
L3164: 1 <= ( len R16 ) by L3163 , FINSEQ_1:1;
L3165: 1 in ( dom R16 ) by L3164 , FINSEQ_3:25;
L3166: ( lower_bound ( divset (R16 , 1) ) ) = ( lower_bound R15 ) by L3165 , INTEGRA1:def 4;
L3167: 1 in ( Seg ( len R16 ) ) by L3165 , FINSEQ_1:def 3;
L3168: 1 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L3167 , INTEGRA1:def 6;
L3169: 1 in ( dom ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L3168 , FINSEQ_1:def 3;
L3170: ( vol ( divset (R16 , 1) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . 1 ) by L3165 , INTEGRA1:20;
L3171: ( vol ( divset (R16 , 1) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L3170 , L3169 , FUNCT_1:def 3;
L3172: ( vol ( divset (R16 , 1) ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L3171 , XXREAL_2:def 7;
L3173: ( upper_bound ( divset (R16 , 1) ) ) = ( R16 . 1 ) by L3165 , INTEGRA1:def 4;
L3174: ( ( upper_bound ( divset (R17 , R8) ) ) - ( lower_bound R15 ) ) >= ( ( R16 . 1 ) - ( lower_bound R15 ) ) by L3160 , L3162 , XREAL_1:9;
L3175: ( vol ( divset (R17 , R8) ) ) >= ( ( upper_bound ( divset (R16 , 1) ) ) - ( lower_bound ( divset (R16 , 1) ) ) ) by L3174 , L3159 , L3166 , L3173 , INTEGRA1:def 5;
L3176: ( vol ( divset (R17 , R8) ) ) >= ( vol ( divset (R16 , 1) ) ) by L3175 , INTEGRA1:def 5;
L3177: ( vol ( divset (R17 , R8) ) ) <= ( delta R17 ) by L3151 , L350;
L3178: ( delta R17 ) >= ( vol ( divset (R16 , 1) ) ) by L3177 , L3176 , XXREAL_0:2;
thus L3179: thesis by L3178 , L3172 , XXREAL_0:2;
end;
suppose L3180: R7 <> 1;

L3181: ( R16 . ( R7 - 1 ) ) in R15 by L3180 , L3150 , INTEGRA1:7;
L3182: ( lower_bound R15 ) <= ( R16 . ( R7 - 1 ) ) by L3181 , INTEGRA2:1;
L3183: ( lower_bound ( divset (R16 , R7) ) ) = ( R16 . ( R7 - 1 ) ) by L3150 , L3180 , INTEGRA1:def 4;
L3184: ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound R15 ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound ( divset (R16 , R7) ) ) ) by L3183 , L3182 , XREAL_1:10;
L3185: ( upper_bound ( divset (R16 , R7) ) ) = ( R16 . R7 ) by L3150 , L3180 , INTEGRA1:def 4;
L3186: ( ( upper_bound ( divset (R17 , R8) ) ) - ( lower_bound ( divset (R17 , R8) ) ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound R15 ) ) by L3185 , L3160 , L3159 , XREAL_1:9;
L3187: ( ( upper_bound ( divset (R17 , R8) ) ) - ( lower_bound ( divset (R17 , R8) ) ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound ( divset (R16 , R7) ) ) ) by L3186 , L3184 , XXREAL_0:2;
L3188: ( vol ( divset (R17 , R8) ) ) >= ( ( upper_bound ( divset (R16 , R7) ) ) - ( lower_bound ( divset (R16 , R7) ) ) ) by L3187 , INTEGRA1:def 5;
L3189: ( vol ( divset (R17 , R8) ) ) >= ( vol ( divset (R16 , R7) ) ) by L3188 , INTEGRA1:def 5;
L3190: R7 in ( Seg ( len R16 ) ) by L3150 , FINSEQ_1:def 3;
L3191: R7 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L3190 , INTEGRA1:def 6;
L3192: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L3191 , FINSEQ_1:def 3;
L3193: ( vol ( divset (R16 , R7) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R16) ) . R7 ) by L3150 , INTEGRA1:20;
L3194: ( vol ( divset (R16 , R7) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) by L3193 , L3192 , FUNCT_1:def 3;
L3195: ( vol ( divset (R16 , R7) ) ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , R16) ) ) ) by L3194 , XXREAL_2:def 7;
L3196: ( vol ( divset (R17 , R8) ) ) <= ( delta R17 ) by L3151 , L350;
L3197: ( delta R17 ) >= ( vol ( divset (R16 , R7) ) ) by L3196 , L3189 , XXREAL_0:2;
thus L3198: thesis by L3197 , L3195 , XXREAL_0:2;
end;
end;
thus L3200: contradiction by L3161 , L3137;
end;
L3201: S5[ 1 ]
proof
L3202: ( len R16 ) in ( Seg ( len R16 ) ) by FINSEQ_1:3;
L3203: 1 <= ( len R16 ) by L3202 , FINSEQ_1:1;
L3204: 1 in ( dom R16 ) by L3203 , FINSEQ_3:25;
consider R8 being (Element of ( NAT )) such that L3205: R8 in ( dom R17 ) and L3206: ( R16 . 1 ) in ( divset (R17 , R8) ) by L3204 , L67 , INTEGRA1:6;
L3207: ( H10(R17 , R8) - H10(C72 , ( indx (C72 , R17 , R8) )) ) <= ( ( 1 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) )
proof
L3208: R8 <> 1 by L3149 , L3204 , L3205 , L3206;
reconsider D71 = ( R8 - 1 ) as (Element of ( NAT )) by L3208 , L3205 , INTEGRA1:7;
L3209: D71 in ( dom R17 ) by L3205 , L3208 , INTEGRA1:7;
L3210: D71 in ( Seg ( len R17 ) ) by L3209 , FINSEQ_1:def 3;
L3211: D71 in ( Seg ( len ( upper_volume (R19 , R17) ) ) ) by L3210 , INTEGRA1:def 6;
L3212: D71 in ( dom ( upper_volume (R19 , R17) ) ) by L3211 , FINSEQ_1:def 3;
L3213: ( R8 - 1 ) in ( dom R17 ) by L3205 , L3208 , INTEGRA1:7;
L3214: ( indx (C72 , R17 , D71) ) in ( dom C72 ) by L3213 , L3140 , INTEGRA1:def 19;
L3215: ( indx (C72 , R17 , D71) ) in ( Seg ( len C72 ) ) by L3214 , FINSEQ_1:def 3;
L3216: 1 <= ( indx (C72 , R17 , D71) ) by L3215 , FINSEQ_1:1;
L3217: ( mid (C72 , 1 , ( indx (C72 , R17 , D71) )) ) is  increasing by L3216 , L3214 , INTEGRA1:35;
L3218: ( C72 | ( indx (C72 , R17 , D71) ) ) is  increasing by L3217 , L3216 , FINSEQ_6:116;
L3219: R8 < ( R8 + 1 ) by NAT_1:13;
L3220: D71 < R8 by L3219 , XREAL_1:19;
L3221: ( indx (C72 , R17 , D71) ) < ( indx (C72 , R17 , R8) ) by L3220 , L3140 , L3205 , L3209 , L303;
L3222: ( ( indx (C72 , R17 , D71) ) + 1 ) <= ( indx (C72 , R17 , R8) ) by L3221 , NAT_1:13;
L3223: ( ( Sum ( mid (( upper_volume (R19 , R17) ) , R8 , R8) ) ) - ( Sum ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) )
proof
L3224: ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , D71) ) ) <= 2
proof
reconsider D72 = ( ( indx (C72 , R17 , D71) ) + 1 ) as (Element of ( NAT ));
reconsider D73 = ( D72 + 1 ) as (Element of ( NAT ));
assume L3225: ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , D71) ) ) > 2;
L3226: ( ( indx (C72 , R17 , D71) ) + ( 1 + 1 ) ) < ( indx (C72 , R17 , R8) ) by L3225 , XREAL_1:20;
L3227: D72 < D73 by NAT_1:13;
L3228: ( indx (C72 , R17 , D71) ) <= D73 by L3227 , NAT_1:13;
L3229: 1 <= D73 by L3228 , L3216 , XXREAL_0:2;
L3230: ( indx (C72 , R17 , R8) ) in ( dom C72 ) by L3140 , L3205 , INTEGRA1:def 19;
L3231: ( indx (C72 , R17 , R8) ) <= ( len C72 ) by L3230 , FINSEQ_3:25;
L3232: D73 <= ( len C72 ) by L3231 , L3226 , XXREAL_0:2;
L3233: D73 in ( dom C72 ) by L3232 , L3229 , FINSEQ_3:25;
L3234: ( C72 . D73 ) < ( C72 . ( indx (C72 , R17 , R8) ) ) by L3233 , L3226 , L3230 , SEQM_3:def 1;
L3235: 1 <= D72 by L3216 , NAT_1:13;
L3236: ( R17 . R8 ) = ( C72 . ( indx (C72 , R17 , R8) ) ) by L3140 , L3205 , INTEGRA1:def 19;
L3237: D72 <= ( indx (C72 , R17 , R8) ) by L3226 , L3227 , XXREAL_0:2;
L3238: D72 <= ( len C72 ) by L3237 , L3231 , XXREAL_0:2;
L3239: D72 in ( dom C72 ) by L3238 , L3235 , FINSEQ_3:25;
L3240: ( C72 . D72 ) < ( C72 . D73 ) by L3239 , L3227 , L3233 , SEQM_3:def 1;
L3241: ( indx (C72 , R17 , D71) ) < D72 by NAT_1:13;
L3242: ( C72 . ( indx (C72 , R17 , D71) ) ) < ( C72 . D72 ) by L3241 , L3214 , L3239 , SEQM_3:def 1;
L3243: ( R17 . D71 ) = ( C72 . ( indx (C72 , R17 , D71) ) ) by L3140 , L3209 , INTEGRA1:def 19;
L3244: ((not ( C72 . D72 ) in ( rng R17 )) & (not ( C72 . D73 ) in ( rng R17 )))
proof
assume L3245: (( C72 . D72 ) in ( rng R17 ) or ( C72 . D73 ) in ( rng R17 ));
per cases  by L3245;
suppose L3246: ( C72 . D72 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L3247: R10 in ( dom R17 ) and L3248: ( R17 . R10 ) = ( C72 . D72 ) by L3246 , PARTFUN1:3;
L3249: D71 < R10 by L3209 , L3242 , L3243 , L3247 , L3248 , SEQ_4:137;
L3250: R8 < ( R10 + 1 ) by L3249 , XREAL_1:19;
L3251: ( C72 . D72 ) < ( C72 . ( indx (C72 , R17 , R8) ) ) by L3240 , L3234 , XXREAL_0:2;
L3252: R10 < R8 by L3251 , L3205 , L3236 , L3247 , L3248 , SEQ_4:137;
thus L3253: contradiction by L3252 , L3250 , NAT_1:13;
end;
suppose L3254: ( C72 . D73 ) in ( rng R17 );

consider R10 being (Element of ( NAT )) such that L3255: R10 in ( dom R17 ) and L3256: ( R17 . R10 ) = ( C72 . D73 ) by L3254 , PARTFUN1:3;
L3257: ( C72 . ( indx (C72 , R17 , D71) ) ) < ( C72 . D73 ) by L3242 , L3240 , XXREAL_0:2;
L3258: D71 < R10 by L3257 , L3209 , L3243 , L3255 , L3256 , SEQ_4:137;
L3259: R8 < ( R10 + 1 ) by L3258 , XREAL_1:19;
L3260: R10 < R8 by L3205 , L3234 , L3236 , L3255 , L3256 , SEQ_4:137;
thus L3261: contradiction by L3260 , L3259 , NAT_1:13;
end;
end;
L3263: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L3205 , L3208 , INTEGRA1:def 4;
L3264: ( upper_bound ( divset (R17 , R8) ) ) = ( C72 . ( indx (C72 , R17 , R8) ) ) by L3263 , L3140 , L3205 , INTEGRA1:def 19;
L3265: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . D71 ) by L3205 , L3208 , INTEGRA1:def 4;
L3266: ( lower_bound ( divset (R17 , R8) ) ) = ( C72 . ( indx (C72 , R17 , D71) ) ) by L3265 , L3140 , L3209 , INTEGRA1:def 19;
L3267: ( C72 . D73 ) in ( rng C72 ) by L3233 , FUNCT_1:def 3;
L3268: ( C72 . D73 ) in ( rng R16 ) by L3267 , L3141 , L3244 , XBOOLE_0:def 3;
L3269: ( C72 . D72 ) in ( rng C72 ) by L3239 , FUNCT_1:def 3;
L3270: ( C72 . D72 ) in ( rng R16 ) by L3269 , L3141 , L3244 , XBOOLE_0:def 3;
L3271: ( C72 . ( indx (C72 , R17 , D71) ) ) <= ( C72 . D73 ) by L3242 , L3240 , XXREAL_0:2;
L3272: ( C72 . D73 ) in ( divset (R17 , R8) ) by L3271 , L3234 , L3266 , L3264 , INTEGRA2:1;
L3273: ( C72 . D73 ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L3272 , L3268 , XBOOLE_0:def 4;
L3274: ( C72 . D72 ) <= ( C72 . ( indx (C72 , R17 , R8) ) ) by L3240 , L3234 , XXREAL_0:2;
L3275: ( C72 . D72 ) in ( divset (R17 , R8) ) by L3274 , L3242 , L3266 , L3264 , INTEGRA2:1;
L3276: ( C72 . D72 ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L3275 , L3270 , XBOOLE_0:def 4;
thus L3277: contradiction by L3276 , L3137 , L3205 , L3227 , L3239 , L3233 , L3273 , L177 , SEQ_4:138;
end;
L3278: 1 <= ( ( indx (C72 , R17 , D71) ) + 1 ) by L3216 , NAT_1:13;
L3279: R8 <= ( len R17 ) by L3205 , FINSEQ_3:25;
L3280: R8 <= ( len ( upper_volume (R19 , R17) ) ) by L3279 , INTEGRA1:def 6;
L3281: 1 <= R8 by L3205 , FINSEQ_3:25;
L3282: ( ( mid (( upper_volume (R19 , R17) ) , R8 , R8) ) . 1 ) = ( ( upper_volume (R19 , R17) ) . R8 ) by L3281 , L3280 , FINSEQ_6:118;
L3283: ( ( R8 -' R8 ) + 1 ) = 1 by L1;
L3284: ( len ( mid (( upper_volume (R19 , R17) ) , R8 , R8) ) ) = 1 by L3283 , L3281 , L3280 , FINSEQ_6:118;
L3285: ( mid (( upper_volume (R19 , R17) ) , R8 , R8) ) = <* ( ( upper_volume (R19 , R17) ) . R8 ) *> by L3284 , L3282 , FINSEQ_1:40;
L3286: ( Sum ( mid (( upper_volume (R19 , R17) ) , R8 , R8) ) ) = ( ( upper_volume (R19 , R17) ) . R8 ) by L3285 , FINSOP_1:11;
L3287: ( indx (C72 , R17 , R8) ) in ( dom C72 ) by L3140 , L3205 , INTEGRA1:def 19;
L3288: ( indx (C72 , R17 , R8) ) in ( Seg ( len C72 ) ) by L3287 , FINSEQ_1:def 3;
L3289: 1 <= ( indx (C72 , R17 , R8) ) by L3288 , FINSEQ_1:1;
L3290: ( indx (C72 , R17 , R8) ) in ( Seg ( len ( upper_volume (R19 , C72) ) ) ) by L3288 , INTEGRA1:def 6;
L3291: ( indx (C72 , R17 , R8) ) <= ( len ( upper_volume (R19 , C72) ) ) by L3290 , FINSEQ_1:1;
L3292: ( ( indx (C72 , R17 , D71) ) + 1 ) <= ( len ( upper_volume (R19 , C72) ) ) by L3291 , L3222 , XXREAL_0:2;
L3293: ( ( indx (C72 , R17 , D71) ) + 1 ) in ( Seg ( len ( upper_volume (R19 , C72) ) ) ) by L3292 , L3278 , FINSEQ_1:1;
L3294: ( ( indx (C72 , R17 , D71) ) + 1 ) in ( Seg ( len C72 ) ) by L3293 , INTEGRA1:def 6;
L3295: ( ( indx (C72 , R17 , D71) ) + 1 ) in ( dom C72 ) by L3294 , FINSEQ_1:def 3;
L3296: ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , D71) ) + 1 ) ) = ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , D71) ) + 1 ) ) by L3222 , XREAL_1:233;
L3297: ( ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , D71) ) + 1 ) ) + 1 ) <= 2 by L3296 , L3224;
L3298: ( len ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) <= 2 by L3297 , L3222 , L3289 , L3291 , L3278 , L3292 , FINSEQ_6:118;
L3299: ( ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , D71) ) + 1 ) ) + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
L3300: 1 <= ( len ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) by L3299 , L3222 , L3289 , L3291 , L3278 , L3292 , FINSEQ_6:118;
L3301:
now
per cases  by L3300 , L3298 , L4;
suppose L3302: ( len ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = 1;

L3303: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L3205 , L3208 , INTEGRA1:def 4;
L3304: ( upper_bound ( divset (R17 , R8) ) ) = ( C72 . ( indx (C72 , R17 , R8) ) ) by L3303 , L3140 , L3205 , INTEGRA1:def 19;
L3305: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . D71 ) by L3205 , L3208 , INTEGRA1:def 4;
L3306: ( lower_bound ( divset (R17 , R8) ) ) = ( C72 . ( indx (C72 , R17 , D71) ) ) by L3305 , L3140 , L3209 , INTEGRA1:def 19;
L3307: ( divset (R17 , R8) ) = [. ( C72 . ( indx (C72 , R17 , D71) ) ) , ( C72 . ( indx (C72 , R17 , R8) ) ) .] by L3306 , L3304 , INTEGRA1:4;
L3308: ( delta R17 ) >= ( 0 ) by L314;
L3309: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L3128 , L326 , XREAL_1:48;
L3310: ( indx (C72 , R17 , R8) ) in ( dom C72 ) by L3140 , L3205 , INTEGRA1:def 19;
L3311: ( len ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = ( ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , D71) ) + 1 ) ) + 1 ) by L3222 , L3289 , L3291 , L3278 , L3292 , FINSEQ_6:118;
L3312: ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , D71) ) + 1 ) ) = ( 0 ) by L3311 , L3222 , L3302 , XREAL_1:233;
L3313: ( indx (C72 , R17 , R8) ) <> 1 by L3312 , L3215 , FINSEQ_1:1;
L3314: ( upper_bound ( divset (C72 , ( indx (C72 , R17 , R8) )) ) ) = ( C72 . ( indx (C72 , R17 , R8) ) ) by L3313 , L3310 , INTEGRA1:def 4;
L3315: ( ( indx (C72 , R17 , R8) ) - 1 ) = ( indx (C72 , R17 , D71) ) by L3312;
L3316: ( lower_bound ( divset (C72 , ( indx (C72 , R17 , R8) )) ) ) = ( C72 . ( indx (C72 , R17 , D71) ) ) by L3315 , L3216 , L3312 , L3310 , INTEGRA1:def 4;
L3317: ( divset (C72 , ( indx (C72 , R17 , R8) )) ) = ( divset (R17 , R8) ) by L3316 , L3307 , L3314 , INTEGRA1:4;
L3318: ( ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . 1 ) = ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 1 ) ) by L3289 , L3291 , L3278 , L3292 , FINSEQ_6:118;
L3319: ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) = <* ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 1 ) ) *> by L3318 , L3302 , FINSEQ_1:40;
L3320: ( Sum ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 1 ) ) by L3319 , FINSOP_1:11
.= ( ( upper_bound ( rng ( R19 | ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) ) by L3295 , INTEGRA1:def 6
.= ( Sum ( mid (( upper_volume (R19 , R17) ) , R8 , R8) ) ) by L3205 , L3286 , L3312 , L3317 , INTEGRA1:def 6;
thus L3321: thesis by L3320 , L3308 , L3309;
end;
suppose L3322: ( len ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = 2;

L3323: ( ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . 1 ) = ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 1 ) ) by L3289 , L3291 , L3278 , L3292 , FINSEQ_6:118;
L3324: ( 2 + ( ( indx (C72 , R17 , D71) ) + 1 ) ) >= ( ( 0 ) + 1 ) by XREAL_1:7;
L3325: ( ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . 2 ) = ( H9(C72) . ( ( 2 + ( ( indx (C72 , R17 , D71) ) + 1 ) ) -' 1 ) ) by L3222 , L3289 , L3291 , L3278 , L3292 , L3322 , FINSEQ_6:118
.= ( H9(C72) . ( ( 2 + ( ( indx (C72 , R17 , D71) ) + 1 ) ) - 1 ) ) by L3324 , XREAL_1:233
.= ( H9(C72) . ( ( indx (C72 , R17 , D71) ) + ( 1 + 1 ) ) );
L3326: ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) = <* ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 1 ) ) , ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 2 ) ) *> by L3325 , L3322 , L3323 , FINSEQ_1:44;
L3327: ( Sum ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = ( ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 1 ) ) + ( ( upper_volume (R19 , C72) ) . ( ( indx (C72 , R17 , D71) ) + 2 ) ) ) by L3326 , RVSUM_1:77;
L3328: ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L3329: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L3205 , L3208 , INTEGRA1:def 4;
L3330: ( upper_bound ( divset (R17 , R8) ) ) = ( C72 . ( indx (C72 , R17 , R8) ) ) by L3329 , L3140 , L3205 , INTEGRA1:def 19;
L3331: ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) >= ( 0 ) by INTEGRA1:9;
L3332: ( ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , D71) ) + 1 ) ) + 1 ) = 2 by L3222 , L3289 , L3291 , L3278 , L3292 , L3322 , FINSEQ_6:118;
L3333: 2 = ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , D71) ) + 1 ) ) + 1 ) by L3332 , L3222 , XREAL_1:233
.= ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , D71) ) );
L3334: ( ( indx (C72 , R17 , D71) ) + 2 ) in ( dom C72 ) by L3333 , L3140 , L3205 , INTEGRA1:def 19;
L3335: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . D71 ) by L3205 , L3208 , INTEGRA1:def 4;
L3336: ( lower_bound ( divset (R17 , R8) ) ) = ( C72 . ( indx (C72 , R17 , D71) ) ) by L3335 , L3140 , L3209 , INTEGRA1:def 19;
L3337: ( vol ( divset (R17 , R8) ) ) = ( ( ( ( C72 . ( ( indx (C72 , R17 , D71) ) + 2 ) ) - ( C72 . ( ( indx (C72 , R17 , D71) ) + 1 ) ) ) + ( C72 . ( ( indx (C72 , R17 , D71) ) + 1 ) ) ) - ( C72 . ( indx (C72 , R17 , D71) ) ) ) by L3336 , L3330 , L3333 , INTEGRA1:def 5;
L3338: ( ( indx (C72 , R17 , D71) ) + 1 ) in ( Seg ( len ( upper_volume (R19 , C72) ) ) ) by L3278 , L3292 , FINSEQ_1:1;
L3339: ( ( indx (C72 , R17 , D71) ) + 1 ) in ( Seg ( len C72 ) ) by L3338 , INTEGRA1:def 6;
L3340: ( ( indx (C72 , R17 , D71) ) + 1 ) in ( dom C72 ) by L3339 , FINSEQ_1:def 3;
L3341: ( ( indx (C72 , R17 , D71) ) + 1 ) <> 1 by L3216 , NAT_1:13;
L3342: ( upper_bound ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) = ( C72 . ( ( indx (C72 , R17 , D71) ) + 1 ) ) by L3341 , L3340 , INTEGRA1:def 4;
L3343: ( ( ( indx (C72 , R17 , D71) ) + 1 ) - 1 ) = ( ( indx (C72 , R17 , D71) ) + ( 0 ) );
L3344: ( lower_bound ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) = ( C72 . ( indx (C72 , R17 , D71) ) ) by L3343 , L3340 , L3341 , INTEGRA1:def 4;
L3345: ( ( ( indx (C72 , R17 , D71) ) + 1 ) + 1 ) > 1 by L3278 , NAT_1:13;
L3346: ( ( ( indx (C72 , R17 , D71) ) + 2 ) - 1 ) = ( ( indx (C72 , R17 , D71) ) + 1 );
L3347: ( lower_bound ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) = ( C72 . ( ( indx (C72 , R17 , D71) ) + 1 ) ) by L3346 , L3334 , L3345 , INTEGRA1:def 4;
L3348: ( upper_bound ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) = ( C72 . ( ( indx (C72 , R17 , D71) ) + 2 ) ) by L3334 , L3345 , INTEGRA1:def 4;
L3349: ( vol ( divset (R17 , R8) ) ) = ( ( ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) + ( C72 . ( ( indx (C72 , R17 , D71) ) + 1 ) ) ) - ( C72 . ( indx (C72 , R17 , D71) ) ) ) by L3348 , L3347 , L3337 , INTEGRA1:def 5
.= ( ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) + ( ( upper_bound ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) - ( lower_bound ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) ) ) by L3344 , L3342;
L3350: ( vol ( divset (R17 , R8) ) ) = ( ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) + ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) ) by L3349 , INTEGRA1:def 5;
L3351: ( ( upper_volume (R19 , R17) ) . R8 ) = ( ( upper_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) + ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) ) ) by L3350 , L3205 , INTEGRA1:def 6;
L3352: ( ( Sum ( mid (H9(R17) , R8 , R8) ) ) - ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 2 )) ) ) + ( vol ( divset (C72 , ( ( indx (C72 , R17 , D71) ) + 1 )) ) ) ) )
proof
set D74 = ( ( indx (C72 , R17 , D71) ) + 2 );
set D75 = ( ( indx (C72 , R17 , D71) ) + 1 );
set D76 = ( upper_bound ( rng ( R19 | ( divset (C72 , D75) ) ) ) );
set D77 = ( vol ( divset (C72 , D75) ) );
set D78 = ( vol ( divset (C72 , D75) ) );
set D79 = ( vol ( divset (C72 , D74) ) );
L3353: ( divset (R17 , R8) ) c= R15 by L3205 , INTEGRA1:8;
L3354: ( upper_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) <= ( upper_bound ( rng R19 ) ) by L3353 , L3128 , L331;
L3355: D75 in ( dom C72 ) by L3294 , FINSEQ_1:def 3;
L3356: ( divset (C72 , D75) ) c= R15 by L3355 , INTEGRA1:8;
L3357: ( upper_bound ( rng ( R19 | ( divset (C72 , D75) ) ) ) ) >= ( lower_bound ( rng R19 ) ) by L3356 , L3128 , L331;
L3358: ( ( upper_bound ( rng ( R19 | ( divset (C72 , D75) ) ) ) ) * ( vol ( divset (C72 , D75) ) ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D75) ) ) ) by L3357 , L3328 , XREAL_1:64;
L3359: ( ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , D71) ) + 1 ) ) + 1 ) = 2 by L3222 , L3289 , L3291 , L3278 , L3292 , L3322 , FINSEQ_6:118;
L3360: 2 = ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , D71) ) + 1 ) ) + 1 ) by L3359 , L3222 , XREAL_1:233
.= ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , D71) ) );
L3361: ( indx (C72 , R17 , R8) ) in ( dom C72 ) by L3140 , L3205 , INTEGRA1:def 19;
L3362: ( divset (C72 , D74) ) c= R15 by L3361 , L3360 , INTEGRA1:8;
L3363: ( upper_bound ( rng ( R19 | ( divset (C72 , D74) ) ) ) ) >= ( lower_bound ( rng R19 ) ) by L3362 , L3128 , L331;
reconsider D80 = ( upper_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) as  real number;
L3364: ( ( ( upper_volume (R19 , R17) ) . R8 ) - ( D80 * D78 ) ) = ( D80 * D79 ) by L3351;
L3365: ( ( upper_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (C72 , D74) ) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) by L3331 , L3354 , XREAL_1:64;
L3366: ( Sum ( mid (H9(R17) , R8 , R8) ) ) <= ( ( ( upper_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (C72 , D75) ) ) ) + ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) ) by L3365 , L3286 , L3364 , XREAL_1:20;
L3367: ( ( Sum ( mid (H9(R17) , R8 , R8) ) ) - ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) ) <= ( ( upper_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (C72 , D75) ) ) ) by L3366 , XREAL_1:20;
L3368: ( ( upper_bound ( rng ( R19 | ( divset (R17 , R8) ) ) ) ) * ( vol ( divset (C72 , D75) ) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D75) ) ) ) by L3328 , L3354 , XREAL_1:64;
L3369: ( ( Sum ( mid (H9(R17) , R8 , R8) ) ) - ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D75) ) ) ) by L3368 , L3367 , XXREAL_0:2;
L3370: ( Sum ( mid (H9(R17) , R8 , R8) ) ) <= ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) + ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D75) ) ) ) ) by L3369 , XREAL_1:20;
L3371: ( Sum ( mid (H9(C72) , D75 , ( indx (C72 , R17 , R8) )) ) ) = ( ( ( upper_bound ( rng ( R19 | ( divset (C72 , D74) ) ) ) ) * ( vol ( divset (C72 , D74) ) ) ) + ( H9(C72) . D75 ) ) by L3327 , L3361 , L3360 , INTEGRA1:def 6
.= ( ( ( upper_bound ( rng ( R19 | ( divset (C72 , D74) ) ) ) ) * ( vol ( divset (C72 , D74) ) ) ) + ( ( upper_bound ( rng ( R19 | ( divset (C72 , D75) ) ) ) ) * ( vol ( divset (C72 , D75) ) ) ) ) by L3295 , INTEGRA1:def 6;
L3372: ( ( Sum ( mid (H9(C72) , D75 , ( indx (C72 , R17 , R8) )) ) ) - ( D76 * D77 ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) by L3371 , L3331 , L3363 , XREAL_1:64;
L3373: ( Sum ( mid (H9(C72) , D75 , ( indx (C72 , R17 , R8) )) ) ) >= ( ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) + ( D76 * D77 ) ) by L3372 , XREAL_1:19;
L3374: ( ( Sum ( mid (H9(C72) , D75 , ( indx (C72 , R17 , R8) )) ) ) - ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) ) >= ( D76 * D77 ) by L3373 , XREAL_1:19;
L3375: ( ( Sum ( mid (H9(C72) , D75 , ( indx (C72 , R17 , R8) )) ) ) - ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) ) >= ( ( lower_bound ( rng R19 ) ) * D77 ) by L3374 , L3358 , XXREAL_0:2;
L3376: ( Sum ( mid (H9(C72) , D75 , ( indx (C72 , R17 , R8) )) ) ) >= ( ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) + ( ( lower_bound ( rng R19 ) ) * D77 ) ) by L3375 , XREAL_1:19;
L3377: ( ( Sum ( mid (H9(R17) , R8 , R8) ) ) - ( Sum ( mid (H9(C72) , D75 , ( indx (C72 , R17 , R8) )) ) ) ) <= ( ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) + ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (C72 , D75) ) ) ) ) - ( ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D74) ) ) ) + ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , D75) ) ) ) ) ) by L3376 , L3370 , XREAL_1:13;
thus L3378: thesis by L3377;
end;
L3379: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L3128 , L326 , XREAL_1:48;
L3380: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( vol ( divset (R17 , R8) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) by L3379 , L3205 , L350 , XREAL_1:64;
thus L3381: thesis by L3380 , L3350 , L3352 , XXREAL_0:2;
end;
end;
thus L3383: thesis by L3301;
end;
L3384: R8 < ( R8 + 1 ) by NAT_1:13;
L3385: D71 < R8 by L3384 , XREAL_1:19;
L3386: ( indx (C72 , R17 , R8) ) in ( dom C72 ) by L3140 , L3205 , INTEGRA1:def 19;
L3387: ( indx (C72 , R17 , R8) ) in ( Seg ( len C72 ) ) by L3386 , FINSEQ_1:def 3;
L3388: 1 <= ( indx (C72 , R17 , R8) ) by L3387 , FINSEQ_1:1;
L3389: ( indx (C72 , R17 , D71) ) <= ( len C72 ) by L3215 , FINSEQ_1:1;
L3390: ( len ( C72 | ( indx (C72 , R17 , D71) ) ) ) = ( indx (C72 , R17 , D71) ) by L3389 , FINSEQ_1:59;
L3391: D71 in ( Seg ( len R17 ) ) by L3213 , FINSEQ_1:def 3;
L3392: D71 <= ( len R17 ) by L3391 , FINSEQ_1:1;
L3393: (for R12 being set holds (R12 in ( rng ( R17 | D71 ) ) implies R12 in ( rng ( C72 | ( indx (C72 , R17 , D71) ) ) )))
proof
let R12 being set;
assume L3394: R12 in ( rng ( R17 | D71 ) );
consider R9 being (Element of ( NAT )) such that L3395: R9 in ( dom ( R17 | D71 ) ) and L3396: R12 = ( ( R17 | D71 ) . R9 ) by L3394 , PARTFUN1:3;
L3397: R9 in ( Seg ( len ( R17 | D71 ) ) ) by L3395 , FINSEQ_1:def 3;
L3398: R9 in ( Seg D71 ) by L3397 , L3392 , FINSEQ_1:59;
L3399: R9 in ( dom R17 ) by L3398 , L3209 , RFINSEQ:6;
L3400: R9 <= D71 by L3398 , FINSEQ_1:1;
L3401: ( R17 . R9 ) <= ( R17 . D71 ) by L3400 , L3213 , L3399 , SEQ_4:137;
L3402: ( C72 . ( indx (C72 , R17 , R9) ) ) <= ( R17 . D71 ) by L3401 , L3140 , L3399 , INTEGRA1:def 19;
L3403: ( C72 . ( indx (C72 , R17 , R9) ) ) <= ( C72 . ( indx (C72 , R17 , D71) ) ) by L3402 , L3140 , L3213 , INTEGRA1:def 19;
L3404: ( ( R17 | D71 ) . R9 ) = ( R17 . R9 ) by L3209 , L3398 , RFINSEQ:6;
L3405: ( R17 . R9 ) in ( rng R17 ) by L3399 , FUNCT_1:def 3;
L3406: R12 in ( rng C72 ) by L3405 , L3141 , L3396 , L3404 , XBOOLE_0:def 3;
consider R10 being (Element of ( NAT )) such that L3407: R10 in ( dom C72 ) and L3408: R12 = ( C72 . R10 ) by L3406 , PARTFUN1:3;
L3409: ( C72 . ( indx (C72 , R17 , R9) ) ) = ( C72 . R10 ) by L3140 , L3396 , L3404 , L3399 , L3408 , INTEGRA1:def 19;
L3410: R10 <= ( indx (C72 , R17 , D71) ) by L3409 , L3214 , L3407 , L3403 , SEQM_3:def 1;
L3411: 1 <= R10 by L3407 , FINSEQ_3:25;
L3412: R10 in ( Seg ( indx (C72 , R17 , D71) ) ) by L3411 , L3410 , FINSEQ_1:1;
L3413: R10 in ( Seg ( len ( C72 | ( indx (C72 , R17 , D71) ) ) ) ) by L3412 , L3389 , FINSEQ_1:59;
L3414: R10 in ( dom ( C72 | ( indx (C72 , R17 , D71) ) ) ) by L3413 , FINSEQ_1:def 3;
L3415: ( C72 . R10 ) = ( ( C72 | ( indx (C72 , R17 , D71) ) ) . R10 ) by L3214 , L3412 , RFINSEQ:6;
thus L3416: thesis by L3415 , L3408 , L3414 , FUNCT_1:def 3;
end;
L3417: ( rng ( R17 | D71 ) ) c= ( rng ( C72 | ( indx (C72 , R17 , D71) ) ) ) by L3393 , TARSKI:def 3;
L3418: 1 <= D71 by L3391 , FINSEQ_1:1;
L3419: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . 1 ) by L3206 , INTEGRA2:1;
L3420: ( R17 . D71 ) <= ( R16 . 1 ) by L3419 , L3205 , L3208 , INTEGRA1:def 4;
L3421: (for R12 being set holds (R12 in ( rng ( C72 | ( indx (C72 , R17 , D71) ) ) ) implies R12 in ( rng ( R17 | D71 ) )))
proof
let R12 being set;
assume L3422: R12 in ( rng ( C72 | ( indx (C72 , R17 , D71) ) ) );
consider R9 being (Element of ( NAT )) such that L3423: R9 in ( dom ( C72 | ( indx (C72 , R17 , D71) ) ) ) and L3424: R12 = ( ( C72 | ( indx (C72 , R17 , D71) ) ) . R9 ) by L3422 , PARTFUN1:3;
L3425: R9 in ( Seg ( len ( C72 | ( indx (C72 , R17 , D71) ) ) ) ) by L3423 , FINSEQ_1:def 3;
L3426: R9 in ( Seg ( indx (C72 , R17 , D71) ) ) by L3425 , L3389 , FINSEQ_1:59;
L3427: R9 in ( dom C72 ) by L3426 , L3214 , RFINSEQ:6;
L3428: ( len ( R17 | D71 ) ) = D71 by L3392 , FINSEQ_1:59;
L3429: R9 <= ( indx (C72 , R17 , D71) ) by L3426 , FINSEQ_1:1;
L3430: ( C72 . R9 ) <= ( C72 . ( indx (C72 , R17 , D71) ) ) by L3429 , L3214 , L3427 , SEQ_4:137;
L3431: ( C72 . R9 ) <= ( R17 . D71 ) by L3430 , L3140 , L3213 , INTEGRA1:def 19;
L3432: (( C72 . R9 ) in ( rng R17 ) implies ( C72 . R9 ) in ( rng ( R17 | D71 ) ))
proof
assume L3433: ( C72 . R9 ) in ( rng R17 );
consider R11 being (Element of ( NAT )) such that L3434: R11 in ( dom R17 ) and L3435: ( C72 . R9 ) = ( R17 . R11 ) by L3433 , PARTFUN1:3;
L3436: R11 in ( Seg ( len R17 ) ) by L3434 , FINSEQ_1:def 3;
L3437: 1 <= R11 by L3436 , FINSEQ_1:1;
L3438: R11 <= D71 by L3209 , L3431 , L3434 , L3435 , SEQM_3:def 1;
L3439: R11 in ( Seg ( len ( R17 | D71 ) ) ) by L3438 , L3428 , L3437 , FINSEQ_1:1;
L3440: R11 in ( dom ( R17 | D71 ) ) by L3439 , FINSEQ_1:def 3;
L3441: R11 in ( Seg D71 ) by L3437 , L3438 , FINSEQ_1:1;
L3442: ( C72 . R9 ) = ( ( R17 | D71 ) . R11 ) by L3441 , L3209 , L3435 , RFINSEQ:6;
thus L3443: thesis by L3442 , L3440 , FUNCT_1:def 3;
end;
L3444: (( C72 . R9 ) in ( rng R16 ) implies ( C72 . R9 ) = ( R17 . D71 ))
proof
assume L3445: ( C72 . R9 ) in ( rng R16 );
consider R10 being (Element of ( NAT )) such that L3446: R10 in ( dom R16 ) and L3447: ( C72 . R9 ) = ( R16 . R10 ) by L3445 , PARTFUN1:3;
L3448: 1 <= R10 by L3446 , FINSEQ_3:25;
L3449: ( R16 . 1 ) <= ( C72 . R9 ) by L3448 , L3204 , L3446 , L3447 , SEQ_4:137;
L3450: ( R17 . D71 ) <= ( C72 . R9 ) by L3449 , L3420 , XXREAL_0:2;
thus L3451: thesis by L3450 , L3431 , XXREAL_0:1;
end;
L3452: (( C72 . R9 ) in ( rng R16 ) implies ( C72 . R9 ) in ( rng ( R17 | D71 ) ))
proof
L3453: D71 in ( Seg ( len ( R17 | D71 ) ) ) by L3418 , L3428 , FINSEQ_1:1;
L3454: D71 in ( dom ( R17 | D71 ) ) by L3453 , FINSEQ_1:def 3;
L3455: ( ( R17 | D71 ) . D71 ) in ( rng ( R17 | D71 ) ) by L3454 , FUNCT_1:def 3;
assume L3456: ( C72 . R9 ) in ( rng R16 );
L3457: D71 in ( Seg D71 ) by L3418 , FINSEQ_1:1;
thus L3458: thesis by L3457 , L3209 , L3444 , L3456 , L3455 , RFINSEQ:6;
end;
L3459: ( C72 . R9 ) in ( rng C72 ) by L3427 , FUNCT_1:def 3;
thus L3460: thesis by L3459 , L3141 , L3214 , L3424 , L3426 , L3452 , L3432 , RFINSEQ:6 , XBOOLE_0:def 3;
end;
L3461: ( rng ( C72 | ( indx (C72 , R17 , D71) ) ) ) c= ( rng ( R17 | D71 ) ) by L3421 , TARSKI:def 3;
L3462: ( rng ( C72 | ( indx (C72 , R17 , D71) ) ) ) = ( rng ( R17 | D71 ) ) by L3461 , L3417 , XBOOLE_0:def 10;
L3463: ( mid (R17 , 1 , D71) ) is  increasing by L3205 , L3208 , L3418 , INTEGRA1:7 , INTEGRA1:35;
L3464: ( R17 | D71 ) is  increasing by L3463 , L3418 , FINSEQ_6:116;
L3465: ( C72 | ( indx (C72 , R17 , D71) ) ) = ( R17 | D71 ) by L3464 , L3218 , L3462 , L284;
L3466: (for R9 being (Element of ( NAT )) holds ((1 <= R9 & R9 <= D71) implies R9 = ( indx (C72 , R17 , R9) )))
proof
let R9 being (Element of ( NAT ));
assume that
L3467: 1 <= R9
and
L3468: R9 <= D71;
assume L3469: R9 <> ( indx (C72 , R17 , R9) );
L3470:
now
per cases  by L3469 , XXREAL_0:1;
suppose L3471: R9 > ( indx (C72 , R17 , R9) );

L3472: R9 <= ( len R17 ) by L3392 , L3468 , XXREAL_0:2;
L3473: R9 in ( dom R17 ) by L3472 , L3467 , FINSEQ_3:25;
L3474: ( indx (C72 , R17 , R9) ) in ( dom C72 ) by L3473 , L3140 , INTEGRA1:def 19;
L3475: ( indx (C72 , R17 , R9) ) in ( Seg ( len C72 ) ) by L3474 , FINSEQ_1:def 3;
L3476: 1 <= ( indx (C72 , R17 , R9) ) by L3475 , FINSEQ_1:1;
L3477: ( indx (C72 , R17 , R9) ) < D71 by L3468 , L3471 , XXREAL_0:2;
L3478: ( indx (C72 , R17 , R9) ) in ( Seg D71 ) by L3477 , L3476 , FINSEQ_1:1;
L3479: ( indx (C72 , R17 , R9) ) <= ( indx (C72 , R17 , D71) ) by L3140 , L3209 , L3468 , L3473 , L292;
L3480: ( indx (C72 , R17 , R9) ) in ( Seg ( indx (C72 , R17 , D71) ) ) by L3479 , L3476 , FINSEQ_1:1;
L3481: ( ( C72 | ( indx (C72 , R17 , D71) ) ) . ( indx (C72 , R17 , R9) ) ) = ( C72 . ( indx (C72 , R17 , R9) ) ) by L3480 , L3214 , RFINSEQ:6;
L3482: ( indx (C72 , R17 , R9) ) <= ( len R17 ) by L3392 , L3477 , XXREAL_0:2;
L3483: ( indx (C72 , R17 , R9) ) in ( dom R17 ) by L3482 , L3476 , FINSEQ_3:25;
L3484: ( R17 . R9 ) > ( R17 . ( indx (C72 , R17 , R9) ) ) by L3483 , L3471 , L3473 , SEQM_3:def 1;
L3485: ( R17 . R9 ) = ( C72 . ( indx (C72 , R17 , R9) ) ) by L3140 , L3473 , INTEGRA1:def 19;
thus L3486: contradiction by L3485 , L3209 , L3465 , L3481 , L3484 , L3478 , RFINSEQ:6;
end;
suppose L3487: R9 < ( indx (C72 , R17 , R9) );

L3488: R9 <= ( len R17 ) by L3392 , L3468 , XXREAL_0:2;
L3489: R9 in ( dom R17 ) by L3488 , L3467 , FINSEQ_3:25;
L3490: ( indx (C72 , R17 , R9) ) <= ( indx (C72 , R17 , D71) ) by L3489 , L3140 , L3209 , L3468 , L292;
L3491: R9 <= ( indx (C72 , R17 , D71) ) by L3490 , L3487 , XXREAL_0:2;
L3492: R9 <= ( len C72 ) by L3491 , L3389 , XXREAL_0:2;
L3493: R9 in ( dom C72 ) by L3492 , L3467 , FINSEQ_3:25;
L3494: R9 in ( Seg D71 ) by L3467 , L3468 , FINSEQ_1:1;
L3495: ( R17 . R9 ) = ( ( R17 | D71 ) . R9 ) by L3494 , L3213 , RFINSEQ:6;
L3496: ( indx (C72 , R17 , R9) ) in ( dom C72 ) by L3140 , L3489 , INTEGRA1:def 19;
L3497: ( C72 . R9 ) < ( C72 . ( indx (C72 , R17 , R9) ) ) by L3496 , L3487 , L3493 , SEQM_3:def 1;
L3498: R9 in ( Seg ( indx (C72 , R17 , D71) ) ) by L3467 , L3491 , FINSEQ_1:1;
L3499: ( R17 . R9 ) = ( C72 . ( indx (C72 , R17 , R9) ) ) by L3140 , L3489 , INTEGRA1:def 19;
thus L3500: contradiction by L3499 , L3214 , L3465 , L3495 , L3497 , L3498 , RFINSEQ:6;
end;
end;
thus L3502: contradiction by L3470;
end;
L3503: (for B45 being Nat holds ((1 <= B45 & B45 <= ( len ( ( upper_volume (R19 , R17) ) | D71 ) )) implies ( ( ( upper_volume (R19 , R17) ) | D71 ) . B45 ) = ( ( ( upper_volume (R19 , C72) ) | ( indx (C72 , R17 , D71) ) ) . B45 )))
proof
L3504: ( indx (C72 , R17 , D71) ) in ( Seg ( len C72 ) ) by L3214 , FINSEQ_1:def 3;
L3505: ( indx (C72 , R17 , D71) ) in ( Seg ( len ( upper_volume (R19 , C72) ) ) ) by L3504 , INTEGRA1:def 6;
L3506: ( indx (C72 , R17 , D71) ) in ( dom ( upper_volume (R19 , C72) ) ) by L3505 , FINSEQ_1:def 3;
let C73 being Nat;
assume that
L3507: 1 <= C73
and
L3508: C73 <= ( len ( ( upper_volume (R19 , R17) ) | D71 ) );
L3509: ( len ( upper_volume (R19 , R17) ) ) = ( len R17 ) by INTEGRA1:def 6;
L3510: C73 <= D71 by L3509 , L3392 , L3508 , FINSEQ_1:59;
L3511: C73 in ( Seg D71 ) by L3510 , L3507 , FINSEQ_1:1;
L3512: ( indx (C72 , R17 , C73) ) in ( Seg D71 ) by L3511 , L3466 , L3507 , L3510;
L3513: ( indx (C72 , R17 , C73) ) in ( Seg ( indx (C72 , R17 , D71) ) ) by L3512 , L3418 , L3466;
L3514: ( indx (C72 , R17 , C73) ) <= ( indx (C72 , R17 , D71) ) by L3513 , FINSEQ_1:1;
L3515: ( indx (C72 , R17 , C73) ) <= ( len C72 ) by L3514 , L3389 , XXREAL_0:2;
L3516: C73 <= ( len R17 ) by L3392 , L3510 , XXREAL_0:2;
L3517: C73 in ( Seg ( len R17 ) ) by L3516 , L3507 , FINSEQ_1:1;
L3518: C73 in ( dom R17 ) by L3517 , FINSEQ_1:def 3;
L3519: ( indx (C72 , R17 , C73) ) in ( dom C72 ) by L3518 , L3140 , INTEGRA1:def 19;
L3520: ( R17 . C73 ) = ( C72 . ( indx (C72 , R17 , C73) ) ) by L3140 , L3518 , INTEGRA1:def 19;
L3521: (( lower_bound ( divset (R17 , C73) ) ) = ( lower_bound ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) & ( upper_bound ( divset (R17 , C73) ) ) = ( upper_bound ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ))
proof
per cases ;
suppose L3522: C73 = 1;

L3523: ( upper_bound ( divset (R17 , C73) ) ) = ( R17 . C73 ) by L3522 , L3518 , INTEGRA1:def 4;
L3524: ( lower_bound ( divset (R17 , C73) ) ) = ( lower_bound R15 ) by L3518 , L3522 , INTEGRA1:def 4;
L3525: ( indx (C72 , R17 , C73) ) = 1 by L3418 , L3466 , L3522;
thus L3526: thesis by L3525 , L3519 , L3520 , L3524 , L3523 , INTEGRA1:def 4;
end;
suppose L3527: C73 <> 1;

reconsider D81 = ( C73 - 1 ) as (Element of ( NAT )) by L3527 , L3518 , INTEGRA1:7;
L3528: C73 <= ( C73 + 1 ) by NAT_1:11;
L3529: D81 <= C73 by L3528 , XREAL_1:20;
L3530: D81 <= D71 by L3529 , L3510 , XXREAL_0:2;
L3531: ( C73 - 1 ) in ( dom R17 ) by L3518 , L3527 , INTEGRA1:7;
L3532: 1 <= D81 by L3531 , FINSEQ_3:25;
L3533: D81 = ( indx (C72 , R17 , D81) ) by L3532 , L3466 , L3530;
L3534: ( C72 . ( ( indx (C72 , R17 , C73) ) - 1 ) ) = ( C72 . ( indx (C72 , R17 , D81) ) ) by L3533 , L3466 , L3507 , L3510 , L3511;
L3535: ( indx (C72 , R17 , C73) ) <> 1 by L3466 , L3507 , L3510 , L3511 , L3527;
L3536: ( lower_bound ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) = ( C72 . ( ( indx (C72 , R17 , C73) ) - 1 ) ) by L3535 , L3519 , INTEGRA1:def 4;
L3537: ( upper_bound ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) = ( C72 . ( indx (C72 , R17 , C73) ) ) by L3519 , L3535 , INTEGRA1:def 4;
L3538: ( upper_bound ( divset (R17 , C73) ) ) = ( R17 . C73 ) by L3518 , L3527 , INTEGRA1:def 4;
L3539: ( lower_bound ( divset (R17 , C73) ) ) = ( R17 . ( C73 - 1 ) ) by L3518 , L3527 , INTEGRA1:def 4;
thus L3540: thesis by L3539 , L3140 , L3518 , L3538 , L3531 , L3536 , L3537 , L3534 , INTEGRA1:def 19;
end;
end;
L3542: ( divset (C72 , ( indx (C72 , R17 , C73) )) ) = [. ( lower_bound ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) , ( upper_bound ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) .] by INTEGRA1:4;
L3543: ( divset (R17 , C73) ) = ( divset (C72 , ( indx (C72 , R17 , C73) )) ) by L3542 , L3521 , INTEGRA1:4;
L3544: C73 in ( dom R17 ) by L3517 , FINSEQ_1:def 3;
L3545: D71 in ( Seg ( len ( upper_volume (R19 , R17) ) ) ) by L3209 , L3509 , FINSEQ_1:def 3;
L3546: D71 in ( dom ( upper_volume (R19 , R17) ) ) by L3545 , FINSEQ_1:def 3;
L3547: ( ( ( upper_volume (R19 , R17) ) | D71 ) . C73 ) = ( ( upper_volume (R19 , R17) ) . C73 ) by L3546 , L3511 , RFINSEQ:6
.= ( ( upper_bound ( rng ( R19 | ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) ) ) * ( vol ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) ) by L3544 , L3543 , INTEGRA1:def 6;
L3548: 1 <= ( indx (C72 , R17 , C73) ) by L3466 , L3507 , L3510 , L3511;
L3549: ( indx (C72 , R17 , C73) ) in ( Seg ( len C72 ) ) by L3548 , L3515 , FINSEQ_1:1;
L3550: ( indx (C72 , R17 , C73) ) in ( dom C72 ) by L3549 , FINSEQ_1:def 3;
L3551: ( ( ( upper_volume (R19 , C72) ) | ( indx (C72 , R17 , D71) ) ) . C73 ) = ( ( ( upper_volume (R19 , C72) ) | ( indx (C72 , R17 , D71) ) ) . ( indx (C72 , R17 , C73) ) ) by L3466 , L3507 , L3510 , L3511
.= ( ( upper_volume (R19 , C72) ) . ( indx (C72 , R17 , C73) ) ) by L3513 , L3506 , RFINSEQ:6
.= ( ( upper_bound ( rng ( R19 | ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) ) ) * ( vol ( divset (C72 , ( indx (C72 , R17 , C73) )) ) ) ) by L3550 , INTEGRA1:def 6;
thus L3552: thesis by L3551 , L3547;
end;
L3553: ( indx (C72 , R17 , D71) ) in ( dom C72 ) by L3140 , L3213 , INTEGRA1:def 19;
L3554: ( indx (C72 , R17 , D71) ) <= ( len C72 ) by L3553 , FINSEQ_3:25;
L3555: ( indx (C72 , R17 , D71) ) <= ( len ( upper_volume (R19 , C72) ) ) by L3554 , INTEGRA1:def 6;
L3556: D71 <= ( len R17 ) by L3213 , FINSEQ_3:25;
L3557: D71 <= ( len ( upper_volume (R19 , R17) ) ) by L3556 , INTEGRA1:def 6;
L3558: ( len ( C72 | ( indx (C72 , R17 , D71) ) ) ) = ( len ( R17 | D71 ) ) by L3218 , L3464 , L3462 , L284;
L3559: ( indx (C72 , R17 , D71) ) = D71 by L3558 , L3392 , L3390 , FINSEQ_1:59;
L3560: ( len ( ( upper_volume (R19 , R17) ) | D71 ) ) = ( indx (C72 , R17 , D71) ) by L3559 , L3557 , FINSEQ_1:59;
L3561: ( len ( ( upper_volume (R19 , R17) ) | D71 ) ) = ( len ( ( upper_volume (R19 , C72) ) | ( indx (C72 , R17 , D71) ) ) ) by L3560 , L3555 , FINSEQ_1:59;
L3562: ( ( upper_volume (R19 , C72) ) | ( indx (C72 , R17 , D71) ) ) = ( ( upper_volume (R19 , R17) ) | D71 ) by L3561 , L3503 , FINSEQ_1:14;
L3563: R8 in ( Seg ( len R17 ) ) by L3205 , FINSEQ_1:def 3;
L3564: 1 <= R8 by L3563 , FINSEQ_1:1;
L3565: ( indx (C72 , R17 , R8) ) in ( Seg ( len H9(C72) ) ) by L3387 , INTEGRA1:def 6;
L3566: ( indx (C72 , R17 , R8) ) in ( dom H9(C72) ) by L3565 , FINSEQ_1:def 3;
L3567: ( indx (C72 , R17 , R8) ) <= ( len C72 ) by L3387 , FINSEQ_1:1;
L3568: ( indx (C72 , R17 , R8) ) <= ( len H9(C72) ) by L3567 , INTEGRA1:def 6;
L3569: R8 in ( Seg ( len H9(R17) ) ) by L3563 , INTEGRA1:def 6;
L3570: R8 in ( dom H9(R17) ) by L3569 , FINSEQ_1:def 3;
L3571: R8 <= ( len R17 ) by L3563 , FINSEQ_1:1;
L3572: R8 <= ( len H9(R17) ) by L3571 , INTEGRA1:def 6;
L3573: D71 in ( Seg ( len R17 ) ) by L3209 , FINSEQ_1:def 3;
L3574: D71 in ( Seg ( len H9(R17) ) ) by L3573 , INTEGRA1:def 6;
L3575: D71 in ( dom H9(R17) ) by L3574 , FINSEQ_1:def 3;
L3576: H10(R17 , D71) = ( Sum ( H9(R17) | D71 ) ) by L3575 , INTEGRA1:def 20;
L3577: ( H10(R17 , D71) + ( Sum ( mid (H9(R17) , R8 , R8) ) ) ) = ( Sum ( ( H9(R17) | D71 ) ^ ( mid (H9(R17) , R8 , R8) ) ) ) by L3576 , RVSUM_1:75
.= ( Sum ( ( mid (H9(R17) , 1 , D71) ) ^ ( mid (H9(R17) , ( D71 + 1 ) , R8) ) ) ) by L3418 , FINSEQ_6:116
.= ( Sum ( mid (H9(R17) , 1 , R8) ) ) by L3418 , L3572 , L3385 , INTEGRA2:4
.= ( Sum ( H9(R17) | R8 ) ) by L3564 , FINSEQ_6:116;
L3578: ( H10(R17 , D71) + ( Sum ( mid (( upper_volume (R19 , R17) ) , R8 , R8) ) ) ) = H10(R17 , R8) by L3577 , L3570 , INTEGRA1:def 20;
L3579: ( indx (C72 , R17 , D71) ) in ( Seg ( len C72 ) ) by L3214 , FINSEQ_1:def 3;
L3580: ( indx (C72 , R17 , D71) ) in ( Seg ( len H9(C72) ) ) by L3579 , INTEGRA1:def 6;
L3581: ( indx (C72 , R17 , D71) ) in ( dom H9(C72) ) by L3580 , FINSEQ_1:def 3;
L3582: H10(C72 , ( indx (C72 , R17 , D71) )) = ( Sum ( H9(C72) | ( indx (C72 , R17 , D71) ) ) ) by L3581 , INTEGRA1:def 20;
L3583: ( H10(C72 , ( indx (C72 , R17 , D71) )) + ( Sum ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) = ( Sum ( ( H9(C72) | ( indx (C72 , R17 , D71) ) ) ^ ( mid (H9(C72) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) by L3582 , RVSUM_1:75
.= ( Sum ( ( mid (H9(C72) , 1 , ( indx (C72 , R17 , D71) )) ) ^ ( mid (H9(C72) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) by L3216 , FINSEQ_6:116
.= ( Sum ( mid (H9(C72) , 1 , ( indx (C72 , R17 , R8) )) ) ) by L3216 , L3221 , L3568 , INTEGRA2:4
.= ( Sum ( H9(C72) | ( indx (C72 , R17 , R8) ) ) ) by L3388 , FINSEQ_6:116;
L3584: ( H10(C72 , ( indx (C72 , R17 , D71) )) + ( Sum ( mid (( upper_volume (R19 , C72) ) , ( ( indx (C72 , R17 , D71) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) = H10(C72 , ( indx (C72 , R17 , R8) )) by L3583 , L3566 , INTEGRA1:def 20;
L3585: ( indx (C72 , R17 , D71) ) in ( Seg ( len C72 ) ) by L3214 , FINSEQ_1:def 3;
L3586: ( indx (C72 , R17 , D71) ) in ( Seg ( len ( upper_volume (R19 , C72) ) ) ) by L3585 , INTEGRA1:def 6;
L3587: ( indx (C72 , R17 , D71) ) in ( dom ( upper_volume (R19 , C72) ) ) by L3586 , FINSEQ_1:def 3;
L3588: H10(C72 , ( indx (C72 , R17 , D71) )) = ( Sum ( ( upper_volume (R19 , C72) ) | ( indx (C72 , R17 , D71) ) ) ) by L3587 , INTEGRA1:def 20
.= H10(R17 , D71) by L3562 , L3212 , INTEGRA1:def 20;
thus L3589: thesis by L3588 , L3223 , L3584 , L3578;
end;
thus L3590: thesis by L3207 , L3205 , L3206;
end;
reconsider D82 = R7 as non  empty (Element of ( NAT )) by L3148 , FINSEQ_1:1;
L3591: (for B46 being non  empty Nat holds (S5[ B46 ] implies S5[ ( B46 + 1 ) ]))
proof
let C74 being non  empty Nat;
L3592: C74 >= 1 by NAT_1:14;
assume L3593: S5[ C74 ];
L3594: S5[ ( C74 + 1 ) ]
proof
L3595: C74 <= ( C74 + 1 ) by NAT_1:11;
assume L3596: ( C74 + 1 ) in ( dom R16 );
consider R8 being (Element of ( NAT )) such that L3597: R8 in ( dom R17 ) and L3598: ( R16 . ( C74 + 1 ) ) in ( divset (R17 , R8) ) by L3596 , L67 , INTEGRA1:6;
L3599: ( C72 . ( indx (C72 , R17 , R8) ) ) = ( R17 . R8 ) by L3140 , L3597 , INTEGRA1:def 19;
L3600: ( C74 + 1 ) in ( Seg ( len R16 ) ) by L3596 , FINSEQ_1:def 3;
L3601: ( C74 + 1 ) <= ( len R16 ) by L3600 , FINSEQ_1:1;
L3602: C74 <= ( len R16 ) by L3601 , L3595 , XXREAL_0:2;
L3603: C74 in ( Seg ( len R16 ) ) by L3602 , L3592 , FINSEQ_1:1;
L3604: C74 in ( dom R16 ) by L3603 , FINSEQ_1:def 3;
L3605: ( indx (C72 , R17 , R8) ) in ( dom C72 ) by L3140 , L3597 , INTEGRA1:def 19;
L3606: 1 <= ( indx (C72 , R17 , R8) ) by L3605 , FINSEQ_3:25;
L3607: ( indx (C72 , R17 , R8) ) <= ( len C72 ) by L3605 , FINSEQ_3:25;
L3608: ( indx (C72 , R17 , R8) ) <= ( len H9(C72) ) by L3607 , INTEGRA1:def 6;
consider C75 being (Element of ( NAT )) such that L3609: C75 in ( dom R17 ) and L3610: ( R16 . C74 ) in ( divset (R17 , C75) ) and L3611: ( H10(R17 , C75) - H10(C72 , ( indx (C72 , R17 , C75) )) ) <= ( ( C74 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) by L3593 , L3603 , FINSEQ_1:def 3;
L3612: 1 <= ( C75 + 1 ) by NAT_1:12;
L3613: C75 < R8
proof
assume L3614: C75 >= R8;
L3615:
now
per cases  by L3614 , XXREAL_0:1;
suppose L3616: C75 = R8;

L3617: ( R16 . C74 ) in ( rng R16 ) by L3604 , FUNCT_1:def 3;
L3618: ( R16 . C74 ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L3617 , L3610 , L3616 , XBOOLE_0:def 4;
L3619: ( R16 . ( C74 + 1 ) ) in ( rng R16 ) by L3596 , FUNCT_1:def 3;
L3620: ( R16 . ( C74 + 1 ) ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L3619 , L3598 , XBOOLE_0:def 4;
L3621: ( C74 + 1 ) > C74 by XREAL_1:29;
thus L3622: contradiction by L3621 , L3137 , L3596 , L3597 , L3604 , L3618 , L3620 , L177 , SEQ_4:138;
end;
suppose L3623: C75 > R8;

L3624: C75 >= ( R8 + 1 ) by L3623 , NAT_1:13;
L3625: ( C75 - 1 ) >= R8 by L3624 , XREAL_1:19;
L3626: 1 <= R8 by L3597 , FINSEQ_3:25;
L3627: ( 1 + 1 ) <= ( R8 + 1 ) by L3626 , XREAL_1:6;
L3628: C75 <> 1 by L3627 , L3624 , XXREAL_0:2;
L3629: ( C75 - 1 ) in ( dom R17 ) by L3628 , L3609 , INTEGRA1:7;
L3630: ( R17 . R8 ) <= ( R17 . ( C75 - 1 ) ) by L3629 , L3597 , L3625 , SEQ_4:137;
L3631: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 )
proof
per cases ;
suppose L3632: R8 = 1;

thus L3633: thesis by L3632 , L3597 , INTEGRA1:def 4;
end;
suppose L3634: R8 <> 1;

thus L3635: thesis by L3634 , L3597 , INTEGRA1:def 4;
end;
end;
L3637: ( lower_bound ( divset (R17 , C75) ) ) <= ( R16 . C74 ) by L3610 , INTEGRA2:1;
L3638: ( lower_bound ( divset (R17 , C75) ) ) = ( R17 . ( C75 - 1 ) ) by L3609 , L3628 , INTEGRA1:def 4;
L3639: ( R16 . C74 ) >= ( R17 . R8 ) by L3638 , L3637 , L3630 , XXREAL_0:2;
L3640: C74 < ( C74 + 1 ) by XREAL_1:29;
L3641: ( R16 . ( C74 + 1 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L3598 , INTEGRA2:1;
L3642: ( R16 . C74 ) >= ( R16 . ( C74 + 1 ) ) by L3641 , L3631 , L3639 , XXREAL_0:2;
thus L3643: contradiction by L3642 , L3596 , L3604 , L3640 , SEQM_3:def 1;
end;
end;
thus L3645: thesis by L3615;
end;
L3646: ( C75 + 1 ) <= R8 by L3613 , NAT_1:13;
L3647: 1 <= C75 by L3609 , FINSEQ_3:25;
L3648: ( C72 . ( indx (C72 , R17 , C75) ) ) = ( R17 . C75 ) by L3140 , L3609 , INTEGRA1:def 19;
L3649: 1 <= R8 by L3597 , FINSEQ_3:25;
L3650: ( indx (C72 , R17 , C75) ) in ( dom C72 ) by L3140 , L3609 , INTEGRA1:def 19;
L3651: 1 <= ( indx (C72 , R17 , C75) ) by L3650 , FINSEQ_3:25;
L3652: R8 <= ( len R17 ) by L3597 , FINSEQ_3:25;
L3653: ( C75 + 1 ) <= ( len R17 ) by L3652 , L3646 , XXREAL_0:2;
L3654: ( C75 + 1 ) in ( dom R17 ) by L3653 , L3612 , FINSEQ_3:25;
L3655: ( C72 . ( indx (C72 , R17 , ( C75 + 1 )) ) ) = ( R17 . ( C75 + 1 ) ) by L3654 , L3140 , INTEGRA1:def 19;
L3656: R8 <= ( len H9(R17) ) by L3652 , INTEGRA1:def 6;
L3657: R8 in ( Seg ( len H9(R17) ) ) by L3656 , L3649 , FINSEQ_1:1;
L3658: R8 in ( dom H9(R17) ) by L3657 , FINSEQ_1:def 3;
L3659: ( indx (C72 , R17 , ( C75 + 1 )) ) in ( dom C72 ) by L3140 , L3654 , INTEGRA1:def 19;
L3660: 1 <= ( indx (C72 , R17 , ( C75 + 1 )) ) by L3659 , FINSEQ_3:25;
L3661: C75 in ( Seg ( len R17 ) ) by L3609 , FINSEQ_1:def 3;
L3662: C75 in ( Seg ( len H9(R17) ) ) by L3661 , INTEGRA1:def 6;
L3663: C75 in ( dom H9(R17) ) by L3662 , FINSEQ_1:def 3;
L3664: H10(R17 , C75) = ( Sum ( H9(R17) | C75 ) ) by L3663 , INTEGRA1:def 20
.= ( Sum ( mid (H9(R17) , 1 , C75) ) ) by L3647 , FINSEQ_6:116;
L3665: ( H10(R17 , C75) + ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) ) = ( Sum ( ( mid (H9(R17) , 1 , C75) ) ^ ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) ) by L3664 , RVSUM_1:75
.= ( Sum ( mid (H9(R17) , 1 , R8) ) ) by L3613 , L3647 , L3656 , INTEGRA2:4
.= ( Sum ( H9(R17) | R8 ) ) by L3649 , FINSEQ_6:116;
L3666: H10(R17 , R8) = ( H10(R17 , C75) + ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) ) by L3665 , L3658 , INTEGRA1:def 20;
L3667: ( indx (C72 , R17 , R8) ) in ( Seg ( len C72 ) ) by L3605 , FINSEQ_1:def 3;
L3668: ( indx (C72 , R17 , R8) ) in ( Seg ( len H9(C72) ) ) by L3667 , INTEGRA1:def 6;
L3669: ( indx (C72 , R17 , R8) ) in ( dom H9(C72) ) by L3668 , FINSEQ_1:def 3;
L3670: ( indx (C72 , R17 , ( C75 + 1 )) ) <= ( len C72 ) by L3659 , FINSEQ_3:25;
L3671: ( R17 . ( C75 + 1 ) ) <= ( R17 . R8 ) by L3597 , L3646 , L3654 , SEQ_4:137;
L3672: ( indx (C72 , R17 , ( C75 + 1 )) ) <= ( indx (C72 , R17 , R8) ) by L3671 , L3659 , L3655 , L3605 , L3599 , SEQM_3:def 1;
L3673: ( 1 + ( indx (C72 , R17 , ( C75 + 1 )) ) ) <= ( ( indx (C72 , R17 , R8) ) + 1 ) by L3672 , XREAL_1:6;
L3674: 1 <= ( ( ( indx (C72 , R17 , R8) ) + 1 ) - ( indx (C72 , R17 , ( C75 + 1 )) ) ) by L3673 , XREAL_1:19;
L3675: ( ( mid (C72 , ( indx (C72 , R17 , ( C75 + 1 )) ) , ( indx (C72 , R17 , R8) )) ) . 1 ) = ( C72 . ( ( 1 - 1 ) + ( indx (C72 , R17 , ( C75 + 1 )) ) ) ) by L3674 , L3672 , L3660 , L3607 , FINSEQ_6:122
.= ( R17 . ( C75 + 1 ) ) by L3140 , L3654 , INTEGRA1:def 19;
L3676: C75 >= 1 by L3609 , FINSEQ_3:25;
L3677: ( R8 - C75 ) >= 1 by L3646 , XREAL_1:19;
L3678: ( ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) - ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) )
proof
per cases  by L3646 , XXREAL_0:1;
suppose L3679: ( C75 + 1 ) = R8;

L3680: ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , C75) ) ) <= 2
proof
L3681: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L3597 , L3613 , L3676 , INTEGRA1:def 4;
L3682: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L3597 , L3613 , L3676 , INTEGRA1:def 4;
L3683: 1 <= ( ( indx (C72 , R17 , C75) ) + 1 ) by L3651 , NAT_1:13;
assume L3684: ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , C75) ) ) > 2;
L3685: ( ( indx (C72 , R17 , C75) ) + 2 ) < ( indx (C72 , R17 , R8) ) by L3684 , XREAL_1:20;
L3686: ( ( indx (C72 , R17 , C75) ) + 2 ) <= ( len C72 ) by L3685 , L3607 , XXREAL_0:2;
L3687: ( ( indx (C72 , R17 , C75) ) + 1 ) < ( ( indx (C72 , R17 , C75) ) + 2 ) by XREAL_1:6;
L3688: ( indx (C72 , R17 , C75) ) < ( ( indx (C72 , R17 , C75) ) + 2 ) by L3687 , NAT_1:13;
L3689: 1 <= ( ( indx (C72 , R17 , C75) ) + 2 ) by L3688 , L3651 , XXREAL_0:2;
L3690: ( ( indx (C72 , R17 , C75) ) + 2 ) in ( dom C72 ) by L3689 , L3686 , FINSEQ_3:25;
L3691: ( C72 . ( indx (C72 , R17 , R8) ) ) >= ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) by L3690 , L3605 , L3685 , SEQ_4:137;
L3692: (not ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) in ( rng R17 ))
proof
assume L3693: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) in ( rng R17 );
consider C76 being (Element of ( NAT )) such that L3694: C76 in ( dom R17 ) and L3695: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) = ( R17 . C76 ) by L3693 , PARTFUN1:3;
L3696: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) < ( C72 . ( indx (C72 , R17 , R8) ) ) by L3605 , L3685 , L3690 , SEQM_3:def 1;
L3697: C76 < R8 by L3696 , L3597 , L3599 , L3694 , L3695 , SEQ_4:137;
L3698: ( C72 . ( indx (C72 , R17 , C75) ) ) < ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) by L3650 , L3688 , L3690 , SEQM_3:def 1;
L3699: C75 < C76 by L3698 , L3609 , L3648 , L3694 , L3695 , SEQ_4:137;
thus L3700: contradiction by L3699 , L3679 , L3697 , NAT_1:13;
end;
L3701: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) in ( rng C72 ) by L3690 , FUNCT_1:def 3;
L3702: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) in ( rng R16 ) by L3701 , L3141 , L3692 , XBOOLE_0:def 3;
L3703: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L3597 , L3613 , L3676 , INTEGRA1:def 4;
L3704: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L3597 , L3613 , L3676 , INTEGRA1:def 4;
L3705: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) >= ( C72 . ( indx (C72 , R17 , C75) ) ) by L3650 , L3688 , L3690 , SEQ_4:137;
L3706: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) in ( divset (R17 , R8) ) by L3705 , L3648 , L3599 , L3679 , L3703 , L3681 , L3691 , INTEGRA2:1;
L3707: ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L3706 , L3702 , XBOOLE_0:def 4;
L3708: ( ( indx (C72 , R17 , C75) ) + 1 ) < ( indx (C72 , R17 , R8) ) by L3685 , L3687 , XXREAL_0:2;
L3709: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( len C72 ) by L3708 , L3607 , XXREAL_0:2;
L3710: ( ( indx (C72 , R17 , C75) ) + 1 ) in ( dom C72 ) by L3709 , L3683 , FINSEQ_3:25;
L3711: ( C72 . ( indx (C72 , R17 , R8) ) ) >= ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) by L3710 , L3605 , L3708 , SEQ_4:137;
L3712: ( indx (C72 , R17 , C75) ) < ( ( indx (C72 , R17 , C75) ) + 1 ) by NAT_1:13;
L3713: (not ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( rng R17 ))
proof
assume L3714: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( rng R17 );
consider C77 being (Element of ( NAT )) such that L3715: C77 in ( dom R17 ) and L3716: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) = ( R17 . C77 ) by L3714 , PARTFUN1:3;
L3717: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) < ( C72 . ( indx (C72 , R17 , R8) ) ) by L3605 , L3708 , L3710 , SEQM_3:def 1;
L3718: C77 < R8 by L3717 , L3597 , L3599 , L3715 , L3716 , SEQ_4:137;
L3719: ( C72 . ( indx (C72 , R17 , C75) ) ) < ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) by L3650 , L3712 , L3710 , SEQM_3:def 1;
L3720: C75 < C77 by L3719 , L3609 , L3648 , L3715 , L3716 , SEQ_4:137;
thus L3721: contradiction by L3720 , L3679 , L3718 , NAT_1:13;
end;
L3722: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( rng C72 ) by L3710 , FUNCT_1:def 3;
L3723: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( rng R16 ) by L3722 , L3141 , L3713 , XBOOLE_0:def 3;
L3724: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) >= ( C72 . ( indx (C72 , R17 , C75) ) ) by L3650 , L3712 , L3710 , SEQ_4:137;
L3725: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( divset (R17 , R8) ) by L3724 , L3648 , L3599 , L3679 , L3682 , L3704 , L3711 , INTEGRA2:1;
L3726: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L3725 , L3723 , XBOOLE_0:def 4;
L3727: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) = ( C72 . ( ( indx (C72 , R17 , C75) ) + 2 ) ) by L3726 , L3137 , L3597 , L3707 , L177;
thus L3728: contradiction by L3727 , L3687 , L3710 , L3690 , SEQM_3:def 1;
end;
L3729: (( ( indx (C72 , R17 , C75) ) + 1 ) < ( indx (C72 , R17 , R8) ) implies ( ( indx (C72 , R17 , C75) ) + 2 ) = ( indx (C72 , R17 , R8) ))
proof
assume L3730: ( ( indx (C72 , R17 , C75) ) + 1 ) < ( indx (C72 , R17 , R8) );
L3731: ( ( ( indx (C72 , R17 , C75) ) + 1 ) + 1 ) <= ( indx (C72 , R17 , R8) ) by L3730 , NAT_1:13;
L3732: ( ( indx (C72 , R17 , C75) ) + 2 ) >= ( indx (C72 , R17 , R8) ) by L3680 , XREAL_1:20;
thus L3733: thesis by L3732 , L3731 , XXREAL_0:1;
end;
L3734: 1 <= ( ( indx (C72 , R17 , C75) ) + 1 ) by NAT_1:12;
L3735: ( indx (C72 , R17 , R8) ) <= ( len H9(C72) ) by L3607 , INTEGRA1:def 6;
L3736: ( R17 . C75 ) < ( R17 . R8 ) by L3597 , L3609 , L3613 , SEQM_3:def 1;
L3737: ( indx (C72 , R17 , C75) ) < ( indx (C72 , R17 , R8) ) by L3736 , L3650 , L3648 , L3605 , L3599 , SEQ_4:137;
L3738: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( indx (C72 , R17 , R8) ) by L3737 , NAT_1:13;
L3739: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( len C72 ) by L3738 , L3607 , XXREAL_0:2;
L3740: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( len H9(C72) ) by L3739 , INTEGRA1:def 6;
L3741: ( len ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = ( ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) by L3740 , L3606 , L3738 , L3734 , L3735 , FINSEQ_6:118
.= ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) by L3738 , XREAL_1:233
.= ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , C75) ) );
L3742: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( indx (C72 , R17 , R8) ) by L3737 , NAT_1:13;
L3743: (( ( indx (C72 , R17 , C75) ) + 1 ) = ( indx (C72 , R17 , R8) ) or ( ( indx (C72 , R17 , C75) ) + 1 ) < ( indx (C72 , R17 , R8) )) by L3742 , XXREAL_0:1;
L3744: ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) )
proof
L3745:
now
per cases  by L3743 , L3729;
suppose L3746: ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , C75) ) ) = 1;

L3747: ( ( indx (C72 , R17 , C75) ) + 1 ) >= ( 1 + 1 ) by L3651 , XREAL_1:6;
L3748: ( ( indx (C72 , R17 , C75) ) + 1 ) <> 1 by L3747;
L3749: ( upper_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) = ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) by L3748 , L3605 , L3746 , INTEGRA1:def 4;
L3750: ( upper_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) = ( R17 . R8 ) by L3749 , L3140 , L3597 , L3746 , INTEGRA1:def 19;
L3751: ( lower_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) = ( C72 . ( ( ( indx (C72 , R17 , C75) ) + 1 ) - 1 ) ) by L3605 , L3746 , L3748 , INTEGRA1:def 4;
L3752: ( lower_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) = ( R17 . C75 ) by L3751 , L3140 , L3609 , INTEGRA1:def 19;
L3753: ( lower_bound ( divset (R17 , ( C75 + 1 )) ) ) = ( R17 . ( ( C75 + 1 ) - 1 ) ) by L3613 , L3676 , L3654 , L3679 , INTEGRA1:def 4;
L3754: ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) = ( divset (R17 , ( C75 + 1 )) ) by L3753 , L3613 , L3676 , L3654 , L3679 , L3752 , L3750 , INTEGRA1:def 4;
L3755: ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L3756: 1 = ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) by L3746;
L3757: ( ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . 1 ) = ( H9(C72) . ( ( 1 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) ) by L3756 , L3734 , L3735 , FINSEQ_6:122
.= ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) );
L3758: ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) = <* ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) ) *> by L3757 , L3741 , L3746 , FINSEQ_1:40;
L3759: ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) ) = ( ( upper_bound ( rng ( R19 | ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) ) by L3605 , L3746 , INTEGRA1:def 6;
L3760: ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) by L3759 , L3128 , L3605 , L3746 , L3754 , L3755 , L1803 , XREAL_1:64;
thus L3761: thesis by L3760 , L3758 , FINSOP_1:11;
end;
suppose L3762: ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , C75) ) ) = 2;

L3763: ( ( indx (C72 , R17 , C75) ) + 2 ) >= ( 2 + 1 ) by L3651 , XREAL_1:6;
L3764: ( ( indx (C72 , R17 , C75) ) + 2 ) <> 1 by L3763;
L3765: ( upper_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) = ( C72 . ( indx (C72 , R17 , R8) ) ) by L3764 , L3605 , L3762 , INTEGRA1:def 4;
L3766: ( ( ( indx (C72 , R17 , C75) ) + 2 ) - 1 ) = ( ( indx (C72 , R17 , C75) ) + 1 );
L3767: ( lower_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) = ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) by L3766 , L3605 , L3762 , L3764 , INTEGRA1:def 4;
L3768: ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) = ( ( R17 . R8 ) - ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) ) by L3767 , L3599 , L3765 , INTEGRA1:def 5;
L3769: ( upper_bound ( divset (R17 , ( C75 + 1 )) ) ) = ( R17 . ( C75 + 1 ) ) by L3613 , L3676 , L3654 , L3679 , INTEGRA1:def 4;
L3770: ( lower_bound ( divset (R17 , ( C75 + 1 )) ) ) = ( R17 . ( ( C75 + 1 ) - 1 ) ) by L3613 , L3676 , L3654 , L3679 , INTEGRA1:def 4;
L3771: ( vol ( divset (R17 , ( C75 + 1 )) ) ) = ( ( R17 . ( C75 + 1 ) ) - ( R17 . C75 ) ) by L3770 , L3769 , INTEGRA1:def 5;
L3772: ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) >= ( 0 ) by INTEGRA1:9;
L3773: ( indx (C72 , R17 , R8) ) <= ( len H9(C72) ) by L3607 , INTEGRA1:def 6;
L3774: ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L3775: 1 <= ( ( indx (C72 , R17 , C75) ) + 1 ) by NAT_1:12;
L3776: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( ( indx (C72 , R17 , C75) ) + 2 ) by XREAL_1:6;
L3777: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( len C72 ) by L3776 , L3607 , L3762 , XXREAL_0:2;
L3778: ( ( indx (C72 , R17 , C75) ) + 1 ) in ( dom C72 ) by L3777 , L3775 , FINSEQ_3:25;
L3779: ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) ) = ( ( upper_bound ( rng ( R19 | ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) ) by L3778 , INTEGRA1:def 6;
L3780: ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) ) by L3779 , L3128 , L3778 , L3774 , L1803 , XREAL_1:64;
L3781: ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) = ( 1 + 1 ) by L3762;
L3782: ( ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . 2 ) = ( H9(C72) . ( ( 2 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) ) by L3781 , L3775 , L3776 , L3773 , FINSEQ_6:122
.= ( H9(C72) . ( ( ( indx (C72 , R17 , C75) ) + ( 0 ) ) + 2 ) );
L3783: ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) >= 1 by L3762;
L3784: ( ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . 1 ) = ( H9(C72) . ( ( 1 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) ) by L3783 , L3762 , L3775 , L3776 , L3773 , FINSEQ_6:122
.= ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) );
L3785: ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) = <* ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) ) , ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 2 ) ) *> by L3784 , L3741 , L3762 , L3782 , FINSEQ_1:44;
L3786: ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = ( ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 1 ) ) + ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 2 ) ) ) by L3785 , RVSUM_1:77;
L3787: ( ( indx (C72 , R17 , C75) ) + 1 ) > 1 by L3651 , NAT_1:13;
L3788: ( upper_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) = ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) by L3787 , L3778 , INTEGRA1:def 4;
L3789: ( lower_bound ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) = ( C72 . ( ( ( indx (C72 , R17 , C75) ) + 1 ) - 1 ) ) by L3778 , L3787 , INTEGRA1:def 4;
L3790: ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) = ( ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) - ( R17 . C75 ) ) by L3789 , L3648 , L3788 , INTEGRA1:def 5;
L3791: ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 2 ) ) = ( ( upper_bound ( rng ( R19 | ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) ) by L3605 , L3762 , INTEGRA1:def 6;
L3792: ( H9(C72) . ( ( indx (C72 , R17 , C75) ) + 2 ) ) >= ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) ) by L3791 , L3128 , L3605 , L3762 , L3772 , L1803 , XREAL_1:64;
L3793: ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) >= ( ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 1 )) ) ) ) + ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (C72 , ( ( indx (C72 , R17 , C75) ) + 2 )) ) ) ) ) by L3792 , L3786 , L3780 , XREAL_1:7;
thus L3794: thesis by L3793 , L3679 , L3790 , L3768 , L3771;
end;
end;
thus L3796: thesis by L3745;
end;
L3797: ( C75 + 1 ) <= ( len H9(R17) ) by L3653 , INTEGRA1:def 6;
L3798: ( ( R8 -' ( C75 + 1 ) ) + 1 ) = ( ( R8 - ( C75 + 1 ) ) + 1 ) by L3679 , XREAL_1:233;
L3799: ( len ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) = 1 by L3798 , L3612 , L3679 , L3797 , FINSEQ_6:118;
L3800: ( ( C75 + 1 ) + 1 ) <= ( R8 + 1 ) by L3646 , XREAL_1:6;
L3801: 1 <= ( ( R8 + 1 ) - ( C75 + 1 ) ) by L3800 , XREAL_1:19;
L3802: ( ( mid (H9(R17) , ( C75 + 1 ) , R8) ) . 1 ) = ( H9(R17) . ( ( 1 + ( C75 + 1 ) ) - 1 ) ) by L3801 , L3612 , L3679 , L3797 , FINSEQ_6:122
.= ( ( upper_bound ( rng ( R19 | ( divset (R17 , ( C75 + 1 )) ) ) ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) by L3654 , INTEGRA1:def 6;
L3803: ( mid (H9(R17) , ( C75 + 1 ) , R8) ) = <* ( ( upper_bound ( rng ( R19 | ( divset (R17 , ( C75 + 1 )) ) ) ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) *> by L3802 , L3799 , FINSEQ_1:40;
L3804: ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) = ( ( upper_bound ( rng ( R19 | ( divset (R17 , ( C75 + 1 )) ) ) ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) by L3803 , FINSOP_1:11;
L3805: ( divset (R17 , ( C75 + 1 )) ) c= R15 by L3654 , INTEGRA1:8;
L3806: ( upper_bound ( rng ( R19 | ( divset (R17 , ( C75 + 1 )) ) ) ) ) <= ( upper_bound ( rng R19 ) ) by L3805 , L3128 , L331;
L3807: ( C75 + 1 ) in ( Seg ( len R17 ) ) by L3654 , FINSEQ_1:def 3;
L3808: ( C75 + 1 ) in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L3807 , INTEGRA1:def 6;
L3809: ( C75 + 1 ) in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L3808 , FINSEQ_1:def 3;
L3810: ( vol ( divset (R17 , ( C75 + 1 )) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . ( C75 + 1 ) ) by L3654 , INTEGRA1:20;
L3811: ( vol ( divset (R17 , ( C75 + 1 )) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L3810 , L3809 , FUNCT_1:def 3;
L3812: ( vol ( divset (R17 , ( C75 + 1 )) ) ) <= ( delta R17 ) by L3811 , XXREAL_2:def 8;
L3813: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L3128 , L326 , XREAL_1:48;
L3814: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) by L3813 , L3812 , XREAL_1:64;
L3815: ( vol ( divset (R17 , ( C75 + 1 )) ) ) >= ( 0 ) by INTEGRA1:9;
L3816: ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) <= ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) by L3815 , L3804 , L3806 , XREAL_1:64;
L3817: ( ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) - ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) - ( ( lower_bound ( rng R19 ) ) * ( vol ( divset (R17 , ( C75 + 1 )) ) ) ) ) by L3816 , L3744 , XREAL_1:13;
thus L3818: thesis by L3817 , L3814 , XXREAL_0:2;
end;
suppose L3819: ( C75 + 1 ) < R8;

L3820: ( R8 -' ( C75 + 1 ) ) = ( R8 - ( C75 + 1 ) ) by L3646 , XREAL_1:233;
L3821: ( ( R8 -' ( C75 + 1 ) ) + 1 ) = ( R8 - C75 ) by L3820;
L3822: C75 < ( C75 + 1 ) by NAT_1:13;
L3823: ( R17 . C75 ) < ( R17 . ( C75 + 1 ) ) by L3822 , L3609 , L3654 , SEQM_3:def 1;
consider C78 being non  empty  closed_interval (Subset of ( REAL )), C79 , C80 being (Division of C78) such that L3824: ( R17 . C75 ) = ( lower_bound C78 ) and L3825: ( upper_bound C78 ) = ( C80 . ( len C80 ) ) and L3826: ( upper_bound C78 ) = ( C79 . ( len C79 ) ) and L3827: C79 <= C80 and L3828: C79 = ( mid (R17 , ( C75 + 1 ) , R8) ) and L3829: C80 = ( mid (C72 , ( indx (C72 , R17 , ( C75 + 1 )) ) , ( indx (C72 , R17 , R8) )) ) by L3823 , L3140 , L3597 , L3646 , L3654 , L3675 , L1698;
L3830: ( len C79 ) = ( ( R8 -' ( C75 + 1 ) ) + 1 ) by L3646 , L3649 , L3652 , L3612 , L3653 , L3828 , FINSEQ_6:118;
L3831: ( len C79 ) = ( ( R8 - ( C75 + 1 ) ) + 1 ) by L3830 , L3646 , XREAL_1:233;
L3832: ( ( ( len C79 ) + ( C75 + 1 ) ) - 1 ) = R8 by L3831;
L3833: ( len C79 ) in ( dom C79 ) by FINSEQ_5:6;
L3834: 1 <= ( len C79 ) by L3833 , FINSEQ_3:25;
L3835: (( lower_bound ( divset (C79 , ( len C79 )) ) ) = ( lower_bound ( divset (R17 , R8) ) ) & ( upper_bound ( divset (C79 , ( len C79 )) ) ) = ( upper_bound ( divset (R17 , R8) ) ))
proof
per cases ;
suppose L3836: ( len C79 ) = 1;

L3837: ( upper_bound ( divset (C79 , ( len C79 )) ) ) = ( C79 . ( len C79 ) ) by L3836 , L3833 , INTEGRA1:def 4;
L3838: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 ) by L3597 , L3613 , L3676 , INTEGRA1:def 4;
L3839: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L3597 , L3613 , L3676 , INTEGRA1:def 4;
thus L3840: thesis by L3839 , L3649 , L3652 , L3824 , L3828 , L3831 , L3833 , L3836 , L3837 , L3838 , FINSEQ_6:118 , INTEGRA1:def 4;
end;
suppose L3841: ( len C79 ) <> 1;

L3842: ( ( len C79 ) - 1 ) in ( dom C79 ) by L3841 , L3833 , INTEGRA1:7;
L3843: ( ( len C79 ) - 1 ) >= 1 by L3842 , FINSEQ_3:25;
L3844: ( len C79 ) <= ( ( len C79 ) + 1 ) by NAT_1:11;
L3845: ( ( len C79 ) - 1 ) <= ( len C79 ) by L3844 , XREAL_1:20;
L3846: ( upper_bound ( divset (C79 , ( len C79 )) ) ) = ( C79 . ( len C79 ) ) by L3833 , L3841 , INTEGRA1:def 4;
L3847: ( upper_bound ( divset (C79 , ( len C79 )) ) ) = ( R17 . R8 ) by L3846 , L3646 , L3652 , L3612 , L3828 , L3830 , L3832 , L3834 , FINSEQ_6:122;
L3848: ( ( ( ( len C79 ) - 1 ) + ( C75 + 1 ) ) - 1 ) = ( R8 - 1 ) by L3830 , L3820;
L3849: ( lower_bound ( divset (C79 , ( len C79 )) ) ) = ( C79 . ( ( len C79 ) - 1 ) ) by L3833 , L3841 , INTEGRA1:def 4;
L3850: ( lower_bound ( divset (C79 , ( len C79 )) ) ) = ( R17 . ( R8 - 1 ) ) by L3849 , L3646 , L3652 , L3612 , L3828 , L3830 , L3848 , L3843 , L3845 , FINSEQ_6:122;
thus L3851: thesis by L3850 , L3597 , L3613 , L3676 , L3847 , INTEGRA1:def 4;
end;
end;
L3853: C78 c= R15
proof
let R12 being set;
L3854: ( rng R17 ) c= R15 by INTEGRA1:def 2;
L3855: ( R17 . C75 ) in ( rng R17 ) by L3609 , FUNCT_1:def 3;
L3856: ( lower_bound R15 ) <= ( R17 . C75 ) by L3855 , L3854 , INTEGRA2:1;
assume L3857: R12 in C78;
reconsider D83 = R12 as Real by L3857;
L3858: D83 <= ( C79 . ( len C79 ) ) by L3826 , L3857 , INTEGRA2:1;
L3859: ( R17 . R8 ) in ( rng R17 ) by L3597 , FUNCT_1:def 3;
L3860: ( R17 . R8 ) <= ( upper_bound R15 ) by L3859 , L3854 , INTEGRA2:1;
L3861: ( R17 . C75 ) <= D83 by L3824 , L3857 , INTEGRA2:1;
L3862: ( lower_bound R15 ) <= D83 by L3861 , L3856 , XXREAL_0:2;
L3863: ( C79 . ( len C79 ) ) = ( R17 . ( ( ( R8 - C75 ) - 1 ) + ( C75 + 1 ) ) ) by L3646 , L3677 , L3652 , L3612 , L3828 , L3830 , L3820 , FINSEQ_6:122
.= ( R17 . R8 );
L3864: D83 <= ( upper_bound R15 ) by L3863 , L3858 , L3860 , XXREAL_0:2;
thus L3865: thesis by L3864 , L3862 , INTEGRA2:1;
end;
reconsider D84 = ( R19 | C78 ) as (Function of C78 , ( REAL )) by L3853 , FUNCT_2:32;
L3866: ( delta C79 ) >= ( 0 ) by L314;
L3867: ( D84 | C78 ) is  bounded
proof
consider C81 being  real number such that L3868: (for B47 being set holds (B47 in ( R15 /\ ( dom R19 ) ) implies C81 <= ( R19 . B47 ))) by L3128 , RFUNCT_1:71;
L3869: (for B48 being set holds (B48 in ( C78 /\ ( dom D84 ) ) implies C81 <= ( D84 . B48 )))
proof
let C82 being set;
L3870: ( ( dom R19 ) /\ C78 ) c= ( ( dom R19 ) /\ R15 ) by L3853 , XBOOLE_1:26;
assume L3871: C82 in ( C78 /\ ( dom D84 ) );
L3872: C82 in ( dom D84 ) by L3871 , XBOOLE_0:def 4;
L3873: C82 in ( ( dom R19 ) /\ C78 ) by L3872 , RELAT_1:61;
L3874: C81 <= ( R19 . C82 ) by L3873 , L3868 , L3870;
thus L3875: thesis by L3874 , L3872 , FUNCT_1:47;
end;
L3876: ( D84 | C78 ) is  bounded_below by L3869 , RFUNCT_1:71;
consider C83 being  real number such that L3877: (for B49 being set holds (B49 in ( R15 /\ ( dom R19 ) ) implies ( R19 . B49 ) <= C83)) by L3128 , RFUNCT_1:70;
L3878: (for B50 being set holds (B50 in ( C78 /\ ( dom D84 ) ) implies ( D84 . B50 ) <= C83))
proof
let C84 being set;
L3879: ( ( dom R19 ) /\ C78 ) c= ( ( dom R19 ) /\ R15 ) by L3853 , XBOOLE_1:26;
assume L3880: C84 in ( C78 /\ ( dom D84 ) );
L3881: C84 in ( dom D84 ) by L3880 , XBOOLE_0:def 4;
L3882: C84 in ( ( dom R19 ) /\ C78 ) by L3881 , RELAT_1:61;
L3883: C83 >= ( R19 . C84 ) by L3882 , L3877 , L3879;
thus L3884: thesis by L3883 , L3881 , FUNCT_1:47;
end;
L3885: ( D84 | C78 ) is  bounded_above by L3878 , RFUNCT_1:70;
thus L3886: thesis by L3885 , L3876;
end;
L3887: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C74 + 1 ) ) by L3598 , INTEGRA2:1;
L3888: ( R17 . ( R8 - 1 ) ) <= ( R16 . ( C74 + 1 ) ) by L3887 , L3597 , L3613 , L3676 , INTEGRA1:def 4;
L3889: ( ( R8 -' ( C75 + 1 ) ) + 1 ) = ( ( R8 - ( C75 + 1 ) ) + 1 ) by L3646 , XREAL_1:233;
L3890: ( len ( upper_volume (D84 , C79) ) ) = ( len C79 ) by INTEGRA1:def 6
.= ( ( R8 - ( C75 + 1 ) ) + 1 ) by L3646 , L3649 , L3652 , L3612 , L3653 , L3828 , L3889 , FINSEQ_6:118;
L3891: R8 <= ( len H9(R17) ) by L3652 , INTEGRA1:def 6;
L3892: (for B51 being Nat holds ((1 <= B51 & B51 <= ( len ( upper_volume (D84 , C79) ) )) implies ( ( upper_volume (D84 , C79) ) . B51 ) = ( ( mid (H9(R17) , ( C75 + 1 ) , R8) ) . B51 )))
proof
let C85 being Nat;
assume that
L3893: 1 <= C85
and
L3894: C85 <= ( len ( upper_volume (D84 , C79) ) );
L3895: C85 in ( Seg ( len ( upper_volume (D84 , C79) ) ) ) by L3893 , L3894 , FINSEQ_1:1;
L3896: C85 in ( Seg ( len C79 ) ) by L3895 , INTEGRA1:def 6;
L3897: C85 in ( dom C79 ) by L3896 , FINSEQ_1:def 3;
L3898: C85 in ( dom C79 ) by L3896 , FINSEQ_1:def 3;
L3899: ( ( upper_volume (D84 , C79) ) . C85 ) = ( ( upper_bound ( rng ( D84 | ( divset (C79 , C85) ) ) ) ) * ( vol ( divset (C79 , C85) ) ) ) by L3898 , INTEGRA1:def 6;
consider C86 being (Element of ( NAT )) such that L3900: ( C75 + 1 ) = ( 1 + C86 );
L3901: 1 <= ( C85 + C86 ) by L3893 , NAT_1:12;
L3902: C85 <= ( R8 - ( ( C75 + 1 ) - 1 ) ) by L3890 , L3894;
L3903: ( C85 + ( ( C75 + 1 ) - 1 ) ) <= R8 by L3902 , XREAL_1:19;
L3904: ( C85 + C86 ) <= ( len R17 ) by L3903 , L3652 , L3900 , XXREAL_0:2;
L3905: ( C85 + C86 ) in ( Seg ( len R17 ) ) by L3904 , L3901 , FINSEQ_1:1;
L3906: ( C85 + C86 ) in ( dom R17 ) by L3905 , FINSEQ_1:def 3;
L3907: ( 1 + 1 ) <= ( C85 + C86 ) by L3647 , L3893 , L3900 , XREAL_1:7;
L3908: 1 < ( C85 + C86 ) by L3907 , NAT_1:13;
L3909: C86 = ( ( C75 + 1 ) - 1 ) by L3900;
L3910: (( lower_bound ( divset (R17 , ( C85 + C86 )) ) ) = ( lower_bound ( divset (C79 , C85) ) ) & ( upper_bound ( divset (R17 , ( C85 + C86 )) ) ) = ( upper_bound ( divset (C79 , C85) ) ))
proof
per cases ;
suppose L3911: C85 = 1;

L3912: ( upper_bound ( divset (C79 , C85) ) ) = ( C79 . C85 ) by L3911 , L3897 , INTEGRA1:def 4;
L3913: ( upper_bound ( divset (C79 , C85) ) ) = ( R17 . ( ( C85 + ( C75 + 1 ) ) - 1 ) ) by L3912 , L3646 , L3652 , L3612 , L3828 , L3890 , L3893 , L3894 , L3895 , FINSEQ_6:122;
L3914: ( lower_bound ( divset (C79 , C85) ) ) = ( R17 . C75 ) by L3824 , L3897 , L3911 , INTEGRA1:def 4;
thus L3915: thesis by L3914 , L3909 , L3908 , L3906 , L3911 , L3913 , INTEGRA1:def 4;
end;
suppose L3916: C85 <> 1;

L3917: ( upper_bound ( divset (C79 , C85) ) ) = ( C79 . C85 ) by L3916 , L3897 , INTEGRA1:def 4;
L3918: ( upper_bound ( divset (C79 , C85) ) ) = ( R17 . ( ( C85 + ( C75 + 1 ) ) - 1 ) ) by L3917 , L3646 , L3652 , L3612 , L3828 , L3890 , L3893 , L3894 , L3895 , FINSEQ_6:122;
L3919: ( C85 - 1 ) <= ( ( R8 - ( C75 + 1 ) ) + 1 ) by L3890 , L3894 , XREAL_1:146 , XXREAL_0:2;
L3920: ( lower_bound ( divset (C79 , C85) ) ) = ( C79 . ( C85 - 1 ) ) by L3897 , L3916 , INTEGRA1:def 4;
L3921: ( C85 - 1 ) in ( dom C79 ) by L3897 , L3916 , INTEGRA1:7;
L3922: 1 <= ( C85 - 1 ) by L3921 , FINSEQ_3:25;
L3923: ( lower_bound ( divset (C79 , C85) ) ) = ( R17 . ( ( ( C85 - 1 ) + ( C75 + 1 ) ) - 1 ) ) by L3922 , L3646 , L3652 , L3612 , L3828 , L3921 , L3919 , L3920 , FINSEQ_6:122;
thus L3924: thesis by L3923 , L3900 , L3908 , L3906 , L3918 , INTEGRA1:def 4;
end;
end;
L3926: ( divset (C79 , C85) ) = [. ( lower_bound ( divset (C79 , C85) ) ) , ( upper_bound ( divset (C79 , C85) ) ) .] by INTEGRA1:4;
L3927: ( divset (R17 , ( C85 + C86 )) ) = ( divset (C79 , C85) ) by L3926 , L3910 , INTEGRA1:4;
L3928: ( C85 + C86 ) in ( dom R17 ) by L3905 , FINSEQ_1:def 3;
L3929: ( ( mid (H9(R17) , ( C75 + 1 ) , R8) ) . C85 ) = ( H9(R17) . ( ( C85 + ( C75 + 1 ) ) - 1 ) ) by L3646 , L3612 , L3890 , L3891 , L3893 , L3894 , L3895 , FINSEQ_6:122
.= ( ( upper_bound ( rng ( R19 | ( divset (R17 , ( C85 + C86 )) ) ) ) ) * ( vol ( divset (R17 , ( C85 + C86 )) ) ) ) by L3900 , L3928 , INTEGRA1:def 6;
L3930: C85 in ( dom C79 ) by L3896 , FINSEQ_1:def 3;
L3931: ( divset (R17 , ( C85 + C86 )) ) c= C78 by L3930 , L3927 , INTEGRA1:8;
thus L3932: thesis by L3931 , L3899 , L3929 , L3927 , FUNCT_1:51;
end;
L3933: ( C75 + 1 ) <= ( len H9(R17) ) by L3653 , INTEGRA1:def 6;
L3934: ( len ( upper_volume (D84 , C79) ) ) = ( len ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) by L3933 , L3646 , L3649 , L3612 , L3889 , L3890 , L3891 , FINSEQ_6:118;
L3935: ( Sum ( upper_volume (D84 , C79) ) ) = ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) by L3934 , L3892 , FINSEQ_1:14;
L3936: C75 < ( R8 - 1 ) by L3819 , XREAL_1:20;
L3937: 1 <= ( ( indx (C72 , R17 , C75) ) + 1 ) by L3651 , NAT_1:13;
L3938: ( len C79 ) in ( dom C79 ) by FINSEQ_5:6;
L3939: ( upper_bound ( divset (C79 , ( len C79 )) ) ) = ( C79 . ( len C79 ) )
proof
per cases ;
suppose L3940: ( len C79 ) = 1;

thus L3941: thesis by L3940 , L3938 , INTEGRA1:def 4;
end;
suppose L3942: ( len C79 ) <> 1;

thus L3943: thesis by L3942 , L3938 , INTEGRA1:def 4;
end;
end;
L3945: ( vol C78 ) = ( ( upper_bound C78 ) - ( R17 . C75 ) ) by L3824 , INTEGRA1:def 5;
L3946: ( vol C78 ) = ( ( R17 . R8 ) - ( R17 . C75 ) ) by L3945 , L3597 , L3613 , L3676 , L3826 , L3835 , L3939 , INTEGRA1:def 4;
L3947: ( vol C78 ) <> ( 0 ) by L3946 , L3597 , L3609 , L3613 , SEQM_3:def 1;
L3948: ( rng R19 ) is  bounded_below by L3128 , INTEGRA1:11;
L3949: ( lower_bound ( rng R19 ) ) <= ( lower_bound ( rng D84 ) ) by L3948 , RELAT_1:70 , SEQ_4:47;
L3950: ( rng R19 ) is  bounded_above by L3128 , INTEGRA1:13;
L3951: ( upper_bound ( rng R19 ) ) >= ( upper_bound ( rng D84 ) ) by L3950 , RELAT_1:70 , SEQ_4:48;
L3952: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( ( upper_bound ( rng D84 ) ) - ( lower_bound ( rng D84 ) ) ) by L3951 , L3949 , XREAL_1:13;
L3953: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta C79 ) ) >= ( ( ( upper_bound ( rng D84 ) ) - ( lower_bound ( rng D84 ) ) ) * ( delta C79 ) ) by L3952 , L3866 , XREAL_1:64;
L3954: ( R17 . C75 ) < ( R17 . ( C75 + 1 ) ) by L3609 , L3654 , L3822 , SEQM_3:def 1;
L3955: ( indx (C72 , R17 , C75) ) < ( indx (C72 , R17 , ( C75 + 1 )) ) by L3954 , L3650 , L3648 , L3659 , L3655 , SEQ_4:137;
L3956: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( indx (C72 , R17 , ( C75 + 1 )) ) by L3955 , NAT_1:13;
L3957: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( len C72 ) by L3956 , L3670 , XXREAL_0:2;
L3958: ( indx (C72 , R17 , C75) ) < ( ( indx (C72 , R17 , C75) ) + 1 ) by NAT_1:13;
L3959: ( indx (C72 , R17 , ( C75 + 1 )) ) = ( ( indx (C72 , R17 , C75) ) + 1 )
proof
assume L3960: ( indx (C72 , R17 , ( C75 + 1 )) ) <> ( ( indx (C72 , R17 , C75) ) + 1 );
L3961: ( indx (C72 , R17 , ( C75 + 1 )) ) > ( ( indx (C72 , R17 , C75) ) + 1 ) by L3960 , L3956 , XXREAL_0:1;
L3962: ( ( indx (C72 , R17 , C75) ) + 1 ) in ( dom C72 ) by L3937 , L3957 , FINSEQ_3:25;
L3963: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( rng C72 ) by L3962 , FUNCT_1:def 3;
L3964:
now
per cases  by L3141 , L3963 , XBOOLE_0:def 3;
suppose L3965: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( rng R17 );

consider C87 being (Element of ( NAT )) such that L3966: C87 in ( dom R17 ) and L3967: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) = ( R17 . C87 ) by L3965 , PARTFUN1:3;
L3968: ( C72 . ( indx (C72 , R17 , C75) ) ) < ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) by L3650 , L3958 , L3962 , SEQM_3:def 1;
L3969: C75 < C87 by L3968 , L3609 , L3648 , L3966 , L3967 , SEQ_4:137;
L3970: ( C75 + 1 ) <= C87 by L3969 , NAT_1:13;
L3971: ( R17 . C87 ) < ( R17 . ( C75 + 1 ) ) by L3659 , L3655 , L3961 , L3962 , L3967 , SEQM_3:def 1;
thus L3972: contradiction by L3971 , L3654 , L3966 , L3970 , SEQ_4:137;
end;
suppose L3973: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) in ( rng R16 );

L3974: ( R16 . C74 ) <= ( upper_bound ( divset (R17 , C75) ) ) by L3610 , INTEGRA2:1;
L3975: ( upper_bound ( divset (R17 , C75) ) ) = ( R17 . C75 )
proof
per cases ;
suppose L3976: C75 = 1;

thus L3977: thesis by L3976 , L3609 , INTEGRA1:def 4;
end;
suppose L3978: C75 <> 1;

thus L3979: thesis by L3978 , L3609 , INTEGRA1:def 4;
end;
end;
consider C88 being (Element of ( NAT )) such that L3981: C88 in ( dom R16 ) and L3982: ( C72 . ( ( indx (C72 , R17 , C75) ) + 1 ) ) = ( R16 . C88 ) by L3973 , PARTFUN1:3;
L3983: ( R17 . C75 ) < ( R16 . C88 ) by L3650 , L3648 , L3958 , L3962 , L3982 , SEQM_3:def 1;
L3984: ( R16 . C74 ) < ( R16 . C88 ) by L3983 , L3974 , L3975 , XXREAL_0:2;
L3985: C74 < C88 by L3984 , L3604 , L3981 , SEQ_4:137;
L3986: ( C74 + 1 ) <= C88 by L3985 , NAT_1:13;
L3987: ( ( C75 + 1 ) + 1 ) <= R8 by L3819 , NAT_1:13;
L3988: ( C75 + 1 ) <= ( R8 - 1 ) by L3987 , XREAL_1:19;
L3989: ( R8 - 1 ) in ( dom R17 ) by L3597 , L3613 , L3676 , INTEGRA1:7;
L3990: ( R17 . ( C75 + 1 ) ) <= ( R17 . ( R8 - 1 ) ) by L3989 , L3654 , L3988 , SEQ_4:137;
L3991: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C74 + 1 ) ) by L3598 , INTEGRA2:1;
L3992: ( lower_bound ( divset (R17 , R8) ) ) = ( R17 . ( R8 - 1 ) ) by L3597 , L3613 , L3676 , INTEGRA1:def 4;
L3993: ( R17 . ( C75 + 1 ) ) <= ( R16 . ( C74 + 1 ) ) by L3992 , L3990 , L3991 , XXREAL_0:2;
L3994: ( R16 . C88 ) < ( R17 . ( C75 + 1 ) ) by L3659 , L3655 , L3961 , L3962 , L3982 , SEQM_3:def 1;
L3995: ( R16 . C88 ) < ( R16 . ( C74 + 1 ) ) by L3994 , L3993 , XXREAL_0:2;
thus L3996: contradiction by L3995 , L3596 , L3981 , L3986 , SEQ_4:137;
end;
end;
thus L3998: contradiction by L3964;
end;
L3999: ( len C80 ) = ( ( ( indx (C72 , R17 , R8) ) -' ( indx (C72 , R17 , ( C75 + 1 )) ) ) + 1 ) by L3672 , L3660 , L3670 , L3606 , L3607 , L3829 , FINSEQ_6:118;
L4000: ( len C80 ) = ( ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , ( C75 + 1 )) ) ) + 1 ) by L3999 , L3672 , XREAL_1:233;
L4001: ( len ( upper_volume (D84 , C80) ) ) = ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) by L4000 , L3959 , INTEGRA1:def 6;
L4002: (for R12 being set holds (R12 in ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } ) implies R12 in ( rng C80 )))
proof
let R12 being set;
assume L4003: R12 in ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } );
reconsider D85 = R12 as Real by L4003;
L4004:
now
per cases  by L4003 , XBOOLE_0:def 3;
suppose L4005: D85 in ( rng C79 );

L4006: ( rng C79 ) <> ( {} );
L4007: 1 in ( dom C79 ) by L4006 , FINSEQ_3:32;
L4008: 1 <= ( len C79 ) by L4007 , FINSEQ_3:25;
L4009: ( len C79 ) = ( ( R8 -' ( C75 + 1 ) ) + 1 ) by L3646 , L3649 , L3652 , L3612 , L3653 , L3828 , FINSEQ_6:118;
L4010: ( ( ( len C79 ) + ( C75 + 1 ) ) - 1 ) = ( ( ( ( R8 - ( C75 + 1 ) ) + 1 ) + ( C75 + 1 ) ) - 1 ) by L4009 , L3646 , XREAL_1:233
.= R8;
L4011: ( C79 . ( len C79 ) ) = ( R17 . R8 ) by L4010 , L3646 , L3652 , L3612 , L3828 , L4008 , L4009 , FINSEQ_6:122;
L4012: ( rng C79 ) c= ( rng R17 ) by L3828 , FINSEQ_6:119;
L4013: D85 in ( rng R17 ) by L4012 , L4005;
L4014: ( rng R17 ) c= ( rng C72 ) by L3140 , INTEGRA1:def 18;
consider R9 being (Element of ( NAT )) such that L4015: R9 in ( dom C72 ) and L4016: ( C72 . R9 ) = D85 by L4014 , L4013 , PARTFUN1:3;
L4017: D85 <= ( C79 . ( len C79 ) ) by L4005 , L1763;
L4018: R9 <= ( indx (C72 , R17 , R8) ) by L4017 , L3605 , L3599 , L4011 , L4015 , L4016 , SEQM_3:def 1;
L4019: ( R9 - ( indx (C72 , R17 , ( C75 + 1 )) ) ) <= ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , ( C75 + 1 )) ) ) by L4018 , XREAL_1:9;
L4020: ( ( R9 - ( indx (C72 , R17 , ( C75 + 1 )) ) ) + 1 ) <= ( ( ( indx (C72 , R17 , R8) ) - ( indx (C72 , R17 , ( C75 + 1 )) ) ) + 1 ) by L4019 , XREAL_1:6;
L4021: ( C79 . 1 ) <= D85 by L4005 , L1763;
L4022: ( C79 . 1 ) = ( R17 . ( C75 + 1 ) ) by L3649 , L3652 , L3612 , L3653 , L3828 , FINSEQ_6:118;
L4023: ( indx (C72 , R17 , ( C75 + 1 )) ) <= R9 by L4022 , L3659 , L3655 , L4021 , L4015 , L4016 , SEQM_3:def 1;
consider C89 being Nat such that L4024: ( R9 + 1 ) = ( ( indx (C72 , R17 , ( C75 + 1 )) ) + C89 ) by L4023 , NAT_1:10 , NAT_1:12;
L4025: ( ( C89 + ( indx (C72 , R17 , ( C75 + 1 )) ) ) - 1 ) = R9 by L4024;
L4026: C89 in ( NAT ) by ORDINAL1:def 12;
L4027: ( ( indx (C72 , R17 , ( C75 + 1 )) ) + 1 ) <= ( R9 + 1 ) by L4023 , XREAL_1:6;
L4028: 1 <= ( ( R9 + 1 ) - ( indx (C72 , R17 , ( C75 + 1 )) ) ) by L4027 , XREAL_1:19;
L4029: C89 in ( dom C80 ) by L4028 , L4000 , L4020 , L4024 , FINSEQ_3:25;
L4030: ( C80 . C89 ) in ( rng C80 ) by L4029 , FUNCT_1:def 3;
thus L4031: D85 in ( rng C80 ) by L4030 , L3672 , L3660 , L3607 , L3829 , L4016 , L4028 , L4020 , L4026 , L4025 , FINSEQ_6:122;
end;
suppose L4032: D85 in { ( R16 . ( C74 + 1 ) ) };

L4033: D85 = ( R16 . ( C74 + 1 ) ) by L4032 , TARSKI:def 1;
reconsider D86 = ( R8 - 1 ) as (Element of ( NAT )) by L3597 , L3613 , L3676 , INTEGRA1:7;
L4034: ( rng R16 ) c= ( rng C72 ) by L3139 , INTEGRA1:def 18;
L4035: ( R16 . ( C74 + 1 ) ) in ( rng R16 ) by L3596 , FUNCT_1:def 3;
consider R9 being (Element of ( NAT )) such that L4036: R9 in ( dom C72 ) and L4037: D85 = ( C72 . R9 ) by L4035 , L4033 , L4034 , PARTFUN1:3;
L4038: ( R16 . ( C74 + 1 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L3598 , INTEGRA2:1;
L4039: D85 <= ( R17 . R8 ) by L4038 , L3597 , L3613 , L3676 , L4033 , INTEGRA1:def 4;
L4040: ( C72 . R9 ) <= ( C72 . ( indx (C72 , R17 , R8) ) ) by L4039 , L3140 , L3597 , L4037 , INTEGRA1:def 19;
L4041: C75 < D86 by L3819 , XREAL_1:20;
L4042: ( C75 + 1 ) <= D86 by L4041 , NAT_1:13;
L4043: ( R8 - 1 ) in ( dom R17 ) by L3597 , L3613 , L3676 , INTEGRA1:7;
L4044: ( R17 . ( C75 + 1 ) ) <= ( R17 . ( R8 - 1 ) ) by L4043 , L3654 , L4042 , SEQ_4:137;
L4045: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C74 + 1 ) ) by L3598 , INTEGRA2:1;
L4046: ( R17 . ( R8 - 1 ) ) <= D85 by L4045 , L3597 , L3613 , L3676 , L4033 , INTEGRA1:def 4;
L4047: ( C72 . ( indx (C72 , R17 , ( C75 + 1 )) ) ) <= ( C72 . R9 ) by L4046 , L3655 , L4037 , L4044 , XXREAL_0:2;
thus L4048: D85 in ( rng C80 ) by L4047 , L3659 , L3605 , L3829 , L4036 , L4037 , L4040 , L1773;
end;
end;
thus L4050: thesis by L4004;
end;
L4051: ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } ) c= ( rng C80 ) by L4002 , TARSKI:def 3;
L4052: ( rng C80 ) <> ( {} );
L4053: 1 in ( dom C80 ) by L4052 , FINSEQ_3:32;
L4054: 1 <= ( len C80 ) by L4053 , FINSEQ_3:25;
L4055: ( ( ( len C80 ) - 1 ) + ( indx (C72 , R17 , ( C75 + 1 )) ) ) = ( indx (C72 , R17 , R8) ) by L4000;
L4056: (for R12 being set holds (R12 in ( rng C80 ) implies R12 in ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } )))
proof
let R12 being set;
assume L4057: R12 in ( rng C80 );
reconsider D87 = R12 as Real by L4057;
L4058: ( C80 . 1 ) <= D87 by L4057 , L1763;
L4059: ( C80 . ( len C80 ) ) = ( C72 . ( indx (C72 , R17 , R8) ) ) by L3672 , L3660 , L3607 , L3829 , L4054 , L3999 , L4055 , FINSEQ_6:122;
L4060: ( rng C80 ) c= ( rng C72 ) by L3829 , FINSEQ_6:119;
L4061: ( C80 . 1 ) = ( C72 . ( indx (C72 , R17 , ( C75 + 1 )) ) ) by L3660 , L3670 , L3606 , L3607 , L3829 , FINSEQ_6:118;
L4062: D87 <= ( C80 . ( len C80 ) ) by L4057 , L1763;
L4063: D87 <= ( R17 . R8 ) by L4062 , L3599 , L3672 , L3660 , L3607 , L3829 , L4054 , L3999 , L4055 , FINSEQ_6:122;
L4064:
now
per cases  by L3141 , L4057 , L4060 , XBOOLE_0:def 3;
suppose L4065: D87 in ( rng R17 );

consider R9 being (Element of ( NAT )) such that L4066: R9 in ( dom R17 ) and L4067: ( R17 . R9 ) = D87 by L4065 , PARTFUN1:3;
L4068: ( C75 + 1 ) <= R9 by L3654 , L3655 , L4058 , L4061 , L4066 , L4067 , SEQM_3:def 1;
L4069: 1 <= ( R9 - C75 ) by L4068 , XREAL_1:19;
L4070: C75 <= ( C75 + 1 ) by NAT_1:11;
consider C90 being Nat such that L4071: R9 = ( C75 + C90 ) by L4070 , L4068 , NAT_1:10 , XXREAL_0:2;
L4072: R9 <= R8 by L3597 , L3599 , L4062 , L4059 , L4066 , L4067 , SEQM_3:def 1;
L4073: ( R9 - C75 ) <= ( R8 - C75 ) by L4072 , XREAL_1:9;
L4074: 1 <= ( R9 - C75 ) by L4068 , XREAL_1:19;
L4075: ( ( R8 - ( C75 + 1 ) ) + 1 ) = ( R8 - C75 );
L4076: ( R9 - C75 ) <= ( len C79 ) by L3830 , L3821 , L4072 , XREAL_1:9;
L4077: C90 in ( dom C79 ) by L4076 , L4074 , L4071 , FINSEQ_3:25;
L4078: ( C79 . C90 ) in ( rng C79 ) by L4077 , FUNCT_1:def 3;
L4079: C90 in ( NAT ) by ORDINAL1:def 12;
L4080: ( C79 . C90 ) = ( R17 . ( ( ( R9 - C75 ) - 1 ) + ( C75 + 1 ) ) ) by L4079 , L3646 , L3652 , L3612 , L3828 , L4069 , L4073 , L4075 , L4071 , FINSEQ_6:122
.= ( R17 . R9 );
thus L4081: D87 in ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } ) by L4080 , L4067 , L4078 , XBOOLE_0:def 3;
end;
suppose L4082: D87 in ( rng R16 );

consider R10 being (Element of ( NAT )) such that L4083: R10 in ( dom R16 ) and L4084: ( R16 . R10 ) = D87 by L4082 , PARTFUN1:3;
L4085: (not ( C74 + 1 ) < R10)
proof
L4086: ( upper_bound ( divset (R17 , R8) ) ) = ( R17 . R8 )
proof
per cases ;
suppose L4087: R8 = 1;

thus L4088: thesis by L4087 , L3597 , INTEGRA1:def 4;
end;
suppose L4089: R8 <> 1;

thus L4090: thesis by L4089 , L3597 , INTEGRA1:def 4;
end;
end;
consider C91 being Real such that L4092: C91 = ( R16 . ( C74 + 1 ) );
L4093: ( R16 . R10 ) in ( rng R16 ) by L4083 , FUNCT_1:def 3;
assume L4094: ( C74 + 1 ) < R10;
L4095: ( R16 . ( C74 + 1 ) ) < ( R16 . R10 ) by L4094 , L3596 , L4083 , SEQM_3:def 1;
L4096: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C74 + 1 ) ) by L3598 , INTEGRA2:1;
L4097: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . R10 ) by L4096 , L4095 , XXREAL_0:2;
L4098: ( R16 . R10 ) in ( divset (R17 , R8) ) by L4097 , L4063 , L4084 , L4086 , INTEGRA2:1;
L4099: D87 in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L4098 , L4084 , L4093 , XBOOLE_0:def 4;
L4100: ( R16 . ( C74 + 1 ) ) in ( rng R16 ) by L3596 , FUNCT_1:def 3;
L4101: C91 in ( ( rng R16 ) /\ ( divset (R17 , R8) ) ) by L4100 , L3598 , L4092 , XBOOLE_0:def 4;
thus L4102: contradiction by L4101 , L3137 , L3597 , L4084 , L4095 , L4099 , L4092 , L177;
end;
L4103: ( upper_bound ( divset (R17 , C75) ) ) = ( R17 . C75 )
proof
per cases ;
suppose L4104: C75 = 1;

thus L4105: thesis by L4104 , L3609 , INTEGRA1:def 4;
end;
suppose L4106: C75 <> 1;

thus L4107: thesis by L4106 , L3609 , INTEGRA1:def 4;
end;
end;
L4109: ( R16 . C74 ) <= ( upper_bound ( divset (R17 , C75) ) ) by L3610 , INTEGRA2:1;
L4110: ( R16 . C74 ) < ( R17 . ( C75 + 1 ) ) by L4109 , L3823 , L4103 , XXREAL_0:2;
L4111: ( R16 . C74 ) < ( R16 . R10 ) by L4110 , L3655 , L4058 , L4061 , L4084 , XXREAL_0:2;
L4112: C74 < R10 by L4111 , L3604 , L4083 , SEQ_4:137;
L4113: ( C74 + 1 ) <= R10 by L4112 , NAT_1:13;
L4114: (( C74 + 1 ) = R10 or ( C74 + 1 ) < R10) by L4113 , XXREAL_0:1;
L4115: D87 in { ( R16 . ( C74 + 1 ) ) } by L4114 , L4084 , L4085 , TARSKI:def 1;
thus L4116: D87 in ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } ) by L4115 , XBOOLE_0:def 3;
end;
end;
thus L4118: thesis by L4064;
end;
L4119: ( rng C80 ) c= ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } ) by L4056 , TARSKI:def 3;
L4120: ( rng C80 ) = ( ( rng C79 ) \/ { ( R16 . ( C74 + 1 ) ) } ) by L4119 , L4051 , XBOOLE_0:def 10;
L4121: ( delta C79 ) in ( rng ( upper_volume (( chi (C78 , C78) ) , C79) ) ) by XXREAL_2:def 8;
consider R9 being (Element of ( NAT )) such that L4122: R9 in ( dom ( upper_volume (( chi (C78 , C78) ) , C79) ) ) and L4123: ( ( upper_volume (( chi (C78 , C78) ) , C79) ) . R9 ) = ( delta C79 ) by L4121 , PARTFUN1:3;
L4124: R9 in ( Seg ( len ( upper_volume (( chi (C78 , C78) ) , C79) ) ) ) by L4122 , FINSEQ_1:def 3;
L4125: R9 in ( Seg ( len C79 ) ) by L4124 , INTEGRA1:def 6;
L4126: R9 in ( dom C79 ) by L4125 , FINSEQ_1:def 3;
L4127: R9 <= ( len C79 ) by L4125 , FINSEQ_1:1;
L4128: ( R9 + C75 ) <= R8 by L4127 , L3830 , L3821 , XREAL_1:19;
L4129: ( R9 + C75 ) <= ( len R17 ) by L4128 , L3652 , XXREAL_0:2;
L4130: 1 <= R9 by L4124 , FINSEQ_1:1;
L4131: ( C75 + 1 ) > 1 by L3676 , NAT_1:13;
L4132: C75 > ( 1 - 1 ) by L4131 , XREAL_1:19;
L4133: R9 < ( R9 + C75 ) by L4132 , XREAL_1:29;
L4134: 1 < ( R9 + C75 ) by L4133 , L4130 , XXREAL_0:2;
L4135: ( R9 + C75 ) in ( dom R17 ) by L4134 , L4129 , FINSEQ_3:25;
L4136: (( lower_bound ( divset (C79 , R9) ) ) = ( lower_bound ( divset (R17 , ( R9 + C75 )) ) ) & ( upper_bound ( divset (C79 , R9) ) ) = ( upper_bound ( divset (R17 , ( R9 + C75 )) ) ))
proof
per cases ;
suppose L4137: R9 = 1;

L4138: ( upper_bound ( divset (C79 , R9) ) ) = ( C79 . R9 ) by L4137 , L4126 , INTEGRA1:def 4;
L4139: ( upper_bound ( divset (C79 , R9) ) ) = ( R17 . ( ( R9 + ( C75 + 1 ) ) - 1 ) ) by L4138 , L3646 , L3652 , L3612 , L3828 , L3830 , L4130 , L4127 , FINSEQ_6:122;
L4140: ( lower_bound ( divset (R17 , ( R9 + C75 )) ) ) = ( R17 . ( ( R9 + C75 ) - 1 ) ) by L4130 , L4133 , L4135 , INTEGRA1:def 4;
thus L4141: thesis by L4140 , L3824 , L4131 , L4126 , L4135 , L4137 , L4139 , INTEGRA1:def 4;
end;
suppose L4142: R9 <> 1;

L4143: ( upper_bound ( divset (C79 , R9) ) ) = ( C79 . R9 ) by L4142 , L4126 , INTEGRA1:def 4;
L4144: ( upper_bound ( divset (C79 , R9) ) ) = ( R17 . ( ( R9 + ( C75 + 1 ) ) - 1 ) ) by L4143 , L3646 , L3652 , L3612 , L3828 , L3830 , L4130 , L4127 , FINSEQ_6:122;
L4145: ( lower_bound ( divset (C79 , R9) ) ) = ( C79 . ( R9 - 1 ) ) by L4126 , L4142 , INTEGRA1:def 4;
L4146: ( R9 - 1 ) in ( dom C79 ) by L4126 , L4142 , INTEGRA1:7;
L4147: ( R9 - 1 ) <= ( len C79 ) by L4146 , FINSEQ_3:25;
L4148: 1 <= ( R9 - 1 ) by L4146 , FINSEQ_3:25;
L4149: ( lower_bound ( divset (C79 , R9) ) ) = ( R17 . ( ( ( R9 - 1 ) + ( C75 + 1 ) ) - 1 ) ) by L4148 , L3646 , L3652 , L3612 , L3828 , L3830 , L4146 , L4147 , L4145 , FINSEQ_6:122;
thus L4150: thesis by L4149 , L4130 , L4133 , L4135 , L4144 , INTEGRA1:def 4;
end;
end;
L4152: ( divset (C79 , R9) ) = [. ( lower_bound ( divset (R17 , ( R9 + C75 )) ) ) , ( upper_bound ( divset (R17 , ( R9 + C75 )) ) ) .] by L4136 , INTEGRA1:4;
L4153: ( divset (C79 , R9) ) = ( divset (R17 , ( R9 + C75 )) ) by L4152 , INTEGRA1:4;
L4154: ( R9 + C75 ) in ( Seg ( len R17 ) ) by L4135 , FINSEQ_1:def 3;
L4155: ( R9 + C75 ) in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L4154 , INTEGRA1:def 6;
L4156: ( R9 + C75 ) in ( dom ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L4155 , FINSEQ_1:def 3;
L4157: R9 in ( dom C79 ) by L4125 , FINSEQ_1:def 3;
L4158: ( delta C79 ) = ( vol ( divset (C79 , R9) ) ) by L4157 , L4123 , INTEGRA1:20;
L4159: ( delta C79 ) = ( ( upper_volume (( chi (R15 , R15) ) , R17) ) . ( R9 + C75 ) ) by L4158 , L4135 , L4153 , INTEGRA1:20;
L4160: ( delta C79 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) by L4159 , L4156 , FUNCT_1:def 3;
L4161: ( delta C79 ) <= ( max ( rng ( upper_volume (( chi (R15 , R15) ) , R17) ) ) ) by L4160 , XXREAL_2:def 8;
L4162: ( delta C79 ) <= ( delta R17 ) by L4161;
L4163: ( R16 . ( C74 + 1 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L3598 , INTEGRA2:1;
L4164: ( lower_bound ( divset (R17 , R8) ) ) <= ( R16 . ( C74 + 1 ) ) by L3598 , INTEGRA2:1;
L4165: ( R16 . ( C74 + 1 ) ) in ( divset (C79 , ( len C79 )) ) by L4164 , L3835 , L4163 , INTEGRA2:1;
L4166: ( R8 - 1 ) in ( dom R17 ) by L3597 , L3613 , L3676 , INTEGRA1:7;
L4167: ( R17 . C75 ) < ( R17 . ( R8 - 1 ) ) by L4166 , L3609 , L3936 , SEQM_3:def 1;
L4168: ( R16 . ( C74 + 1 ) ) > ( lower_bound C78 ) by L4167 , L3824 , L3888 , XXREAL_0:2;
L4169: ( ( Sum ( upper_volume (D84 , C79) ) ) - ( Sum ( upper_volume (D84 , C80) ) ) ) <= ( ( ( upper_bound ( rng D84 ) ) - ( lower_bound ( rng D84 ) ) ) * ( delta C79 ) ) by L4168 , L3827 , L3867 , L4120 , L4165 , L3947 , L1579;
L4170: ( ( Sum ( upper_volume (D84 , C79) ) ) - ( Sum ( upper_volume (D84 , C80) ) ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta C79 ) ) by L4169 , L3953 , XXREAL_0:2;
L4171: ( indx (C72 , R17 , R8) ) <= ( len H9(C72) ) by L3607 , INTEGRA1:def 6;
L4172: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( indx (C72 , R17 , R8) ) by L3672 , L3956 , XXREAL_0:2;
L4173: (for B52 being Nat holds ((1 <= B52 & B52 <= ( len ( upper_volume (D84 , C80) ) )) implies ( ( upper_volume (D84 , C80) ) . B52 ) = ( ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . B52 )))
proof
let C92 being Nat;
assume that
L4174: 1 <= C92
and
L4175: C92 <= ( len ( upper_volume (D84 , C80) ) );
L4176: C92 in ( Seg ( len ( upper_volume (D84 , C80) ) ) ) by L4174 , L4175 , FINSEQ_1:1;
L4177: ( ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . C92 ) = ( H9(C72) . ( ( C92 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) ) by L4176 , L3937 , L4001 , L4171 , L4172 , L4174 , L4175 , FINSEQ_6:122;
L4178: C92 in ( Seg ( len C80 ) ) by L4176 , INTEGRA1:def 6;
L4179: C92 in ( dom C80 ) by L4178 , FINSEQ_1:def 3;
L4180: ( ( upper_volume (D84 , C80) ) . C92 ) = ( ( upper_bound ( rng ( D84 | ( divset (C80 , C92) ) ) ) ) * ( vol ( divset (C80 , C92) ) ) ) by L4179 , INTEGRA1:def 6;
L4181: 1 <= ( ( indx (C72 , R17 , C75) ) + 1 ) by NAT_1:12;
L4182: ( 1 + 1 ) <= ( C92 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) by L4181 , L4174 , XREAL_1:7;
L4183: 1 <= ( ( C92 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) by L4182 , XREAL_1:19;
consider C93 being (Element of ( NAT )) such that L4184: ( ( indx (C72 , R17 , C75) ) + 1 ) = ( 1 + C93 );
L4185: C92 <= ( ( indx (C72 , R17 , R8) ) - ( ( ( indx (C72 , R17 , C75) ) + 1 ) - 1 ) ) by L4000 , L3959 , L4175 , INTEGRA1:def 6;
L4186: ( C92 + ( ( ( indx (C72 , R17 , C75) ) + 1 ) - 1 ) ) <= ( indx (C72 , R17 , R8) ) by L4185 , XREAL_1:19;
L4187: ( ( C92 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) <= ( len H9(C72) ) by L4186 , L4171 , XXREAL_0:2;
L4188: ( C92 + C93 ) in ( Seg ( len H9(C72) ) ) by L4187 , L4183 , L4184 , FINSEQ_1:1;
L4189: ( C92 + C93 ) in ( Seg ( len C72 ) ) by L4188 , INTEGRA1:def 6;
L4190: ( C92 + C93 ) in ( dom C72 ) by L4189 , FINSEQ_1:def 3;
L4191: ( ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) . C92 ) = ( ( upper_bound ( rng ( R19 | ( divset (C72 , ( C92 + C93 )) ) ) ) ) * ( vol ( divset (C72 , ( C92 + C93 )) ) ) ) by L4190 , L4177 , L4184 , INTEGRA1:def 6;
L4192: (( lower_bound ( divset (C80 , C92) ) ) = ( lower_bound ( divset (C72 , ( C92 + C93 )) ) ) & ( upper_bound ( divset (C80 , C92) ) ) = ( upper_bound ( divset (C72 , ( C92 + C93 )) ) ))
proof
L4193: ( C92 + C93 ) >= ( 1 + 1 ) by L3651 , L4174 , L4184 , XREAL_1:7;
L4194: ( C92 + C93 ) > 1 by L4193 , NAT_1:13;
L4195: C92 in ( dom C80 ) by L4178 , FINSEQ_1:def 3;
L4196: ( C92 + C93 ) in ( dom C72 ) by L4189 , FINSEQ_1:def 3;
per cases ;
suppose L4197: C92 = 1;

L4198: ( upper_bound ( divset (C72 , ( C92 + C93 )) ) ) = ( C72 . ( 1 + C93 ) ) by L4197 , L4194 , L4196 , INTEGRA1:def 4;
L4199: ( lower_bound ( divset (C80 , C92) ) ) = ( lower_bound C78 ) by L4195 , L4197 , INTEGRA1:def 4;
L4200: ( upper_bound ( divset (C80 , C92) ) ) = ( C80 . C92 ) by L4195 , L4197 , INTEGRA1:def 4;
L4201: ( upper_bound ( divset (C80 , C92) ) ) = ( C72 . ( ( 1 + ( indx (C72 , R17 , ( C75 + 1 )) ) ) - 1 ) ) by L4200 , L3672 , L3607 , L3829 , L3937 , L3959 , L4001 , L4175 , L4197 , FINSEQ_6:122
.= ( R17 . ( C75 + 1 ) ) by L3140 , L3654 , INTEGRA1:def 19;
L4202: ( lower_bound ( divset (C72 , ( C92 + C93 )) ) ) = ( C72 . ( ( 1 + C93 ) - 1 ) ) by L4194 , L4196 , L4197 , INTEGRA1:def 4;
thus L4203: thesis by L4202 , L3140 , L3609 , L3654 , L3824 , L3959 , L4184 , L4199 , L4201 , L4198 , INTEGRA1:def 19;
end;
suppose L4204: C92 <> 1;

L4205: ( upper_bound ( divset (C80 , C92) ) ) = ( C80 . C92 ) by L4204 , L4195 , INTEGRA1:def 4;
L4206: ( upper_bound ( divset (C80 , C92) ) ) = ( C72 . ( ( C92 + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) ) by L4205 , L3672 , L3607 , L3829 , L3937 , L3959 , L4001 , L4174 , L4175 , L4176 , FINSEQ_6:122;
L4207: ( C92 - 1 ) <= ( ( ( indx (C72 , R17 , R8) ) - ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) by L4001 , L4175 , XREAL_1:146 , XXREAL_0:2;
L4208: ( lower_bound ( divset (C80 , C92) ) ) = ( C80 . ( C92 - 1 ) ) by L4195 , L4204 , INTEGRA1:def 4;
L4209: ( C92 - 1 ) in ( dom C80 ) by L4195 , L4204 , INTEGRA1:7;
L4210: 1 <= ( C92 - 1 ) by L4209 , FINSEQ_3:25;
L4211: ( lower_bound ( divset (C80 , C92) ) ) = ( C72 . ( ( ( C92 - 1 ) + ( ( indx (C72 , R17 , C75) ) + 1 ) ) - 1 ) ) by L4210 , L3672 , L3607 , L3829 , L3937 , L3959 , L4209 , L4207 , L4208 , FINSEQ_6:122;
thus L4212: thesis by L4211 , L4184 , L4194 , L4196 , L4206 , INTEGRA1:def 4;
end;
end;
L4214: ( divset (C80 , C92) ) = [. ( lower_bound ( divset (C80 , C92) ) ) , ( upper_bound ( divset (C80 , C92) ) ) .] by INTEGRA1:4;
L4215: ( divset (C80 , C92) ) = ( divset (C72 , ( C92 + C93 )) ) by L4214 , L4192 , INTEGRA1:4;
L4216: C92 in ( dom C80 ) by L4178 , FINSEQ_1:def 3;
L4217: ( divset (C72 , ( C92 + C93 )) ) c= C78 by L4216 , L4215 , INTEGRA1:8;
thus L4218: thesis by L4217 , L4180 , L4191 , L4215 , FUNCT_1:51;
end;
L4219: ( ( indx (C72 , R17 , C75) ) + 1 ) <= ( len H9(C72) ) by L3957 , INTEGRA1:def 6;
L4220: ( len ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) = ( ( ( indx (C72 , R17 , R8) ) -' ( ( indx (C72 , R17 , C75) ) + 1 ) ) + 1 ) by L4219 , L3606 , L3937 , L4171 , L4172 , FINSEQ_6:118;
L4221: ( len ( upper_volume (D84 , C80) ) ) = ( len ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) by L4220 , L3672 , L3956 , L4001 , XREAL_1:233 , XXREAL_0:2;
L4222: ( Sum ( upper_volume (D84 , C80) ) ) = ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) by L4221 , L4173 , FINSEQ_1:14;
L4223: ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) >= ( 0 ) by L3128 , L326 , XREAL_1:48;
L4224: ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta C79 ) ) <= ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) by L4223 , L4162 , XREAL_1:64;
thus L4225: thesis by L4224 , L4170 , L4222 , L3935 , XXREAL_0:2;
end;
end;
L4227: ( ( H10(R17 , C75) - H10(C72 , ( indx (C72 , R17 , C75) )) ) + ( ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) - ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) ) <= ( ( ( C74 * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) + ( ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) * ( delta R17 ) ) ) by L3678 , L3611 , XREAL_1:7;
L4228: C75 < ( C75 + 1 ) by NAT_1:13;
L4229: ( R17 . C75 ) < ( R17 . ( C75 + 1 ) ) by L4228 , L3609 , L3654 , SEQM_3:def 1;
L4230: ( indx (C72 , R17 , C75) ) < ( indx (C72 , R17 , ( C75 + 1 )) ) by L4229 , L3650 , L3648 , L3659 , L3655 , SEQ_4:137;
L4231: ( indx (C72 , R17 , C75) ) < ( indx (C72 , R17 , R8) ) by L4230 , L3672 , XXREAL_0:2;
L4232: ( indx (C72 , R17 , C75) ) in ( Seg ( len C72 ) ) by L3650 , FINSEQ_1:def 3;
L4233: ( indx (C72 , R17 , C75) ) in ( Seg ( len H9(C72) ) ) by L4232 , INTEGRA1:def 6;
L4234: ( indx (C72 , R17 , C75) ) in ( dom H9(C72) ) by L4233 , FINSEQ_1:def 3;
L4235: H10(C72 , ( indx (C72 , R17 , C75) )) = ( Sum ( H9(C72) | ( indx (C72 , R17 , C75) ) ) ) by L4234 , INTEGRA1:def 20
.= ( Sum ( mid (H9(C72) , 1 , ( indx (C72 , R17 , C75) )) ) ) by L3651 , FINSEQ_6:116;
L4236: ( H10(C72 , ( indx (C72 , R17 , C75) )) + ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) = ( Sum ( ( mid (H9(C72) , 1 , ( indx (C72 , R17 , C75) )) ) ^ ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) by L4235 , RVSUM_1:75
.= ( Sum ( mid (H9(C72) , 1 , ( indx (C72 , R17 , R8) )) ) ) by L3651 , L4231 , L3608 , INTEGRA2:4
.= ( Sum ( H9(C72) | ( indx (C72 , R17 , R8) ) ) ) by L3606 , FINSEQ_6:116;
L4237: H10(C72 , ( indx (C72 , R17 , R8) )) = ( H10(C72 , ( indx (C72 , R17 , C75) )) + ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) by L4236 , L3669 , INTEGRA1:def 20;
L4238: ( ( H10(R17 , C75) - H10(C72 , ( indx (C72 , R17 , C75) )) ) + ( ( Sum ( mid (H9(R17) , ( C75 + 1 ) , R8) ) ) - ( Sum ( mid (H9(C72) , ( ( indx (C72 , R17 , C75) ) + 1 ) , ( indx (C72 , R17 , R8) )) ) ) ) ) = ( H10(R17 , R8) - H10(C72 , ( indx (C72 , R17 , R8) )) ) by L4237 , L3666;
thus L4239: thesis by L4238 , L3597 , L3598 , L4227;
end;
thus L4240: thesis by L3594;
end;
L4241: (for B53 being non  empty Nat holds S5[ B53 ]) from NAT_1:sch 10(L3201 , L3591);
L4242: S5[ D82 ] by L4241;
thus L4243: thesis by L4242 , L3147;
end;
L4244: ( len R17 ) in ( dom R17 ) by FINSEQ_5:6;
L4245: ( R17 . ( len R17 ) ) = ( C72 . ( indx (C72 , R17 , ( len R17 )) ) ) by L4244 , L3140 , INTEGRA1:def 19;
L4246: ( upper_bound R15 ) = ( C72 . ( indx (C72 , R17 , ( len R17 )) ) ) by L4245 , INTEGRA1:def 2;
L4247: ( C72 . ( len C72 ) ) = ( C72 . ( indx (C72 , R17 , ( len R17 )) ) ) by L4246 , INTEGRA1:def 2;
L4248: ( len R16 ) in ( dom R16 ) by FINSEQ_5:6;
consider R8 being (Element of ( NAT )) such that L4249: R8 in ( dom R17 ) and L4250: ( R16 . ( len R16 ) ) in ( divset (R17 , R8) ) and L4251: ( H10(R17 , R8) - H10(C72 , ( indx (C72 , R17 , R8) )) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) by L4248 , L3146;
L4252: R8 = ( len R17 )
proof
L4253: R8 in ( Seg ( len R17 ) ) by L4249 , FINSEQ_1:def 3;
L4254: R8 <= ( len R17 ) by L4253 , FINSEQ_1:1;
assume L4255: R8 <> ( len R17 );
L4256: R8 < ( len R17 ) by L4255 , L4254 , XXREAL_0:1;
L4257: ( R17 . R8 ) < ( R17 . ( len R17 ) ) by L4256 , L4249 , L4244 , SEQM_3:def 1;
L4258: ( R17 . R8 ) < ( upper_bound R15 ) by L4257 , INTEGRA1:def 2;
L4259: ( upper_bound ( divset (R17 , R8) ) ) < ( upper_bound R15 )
proof
per cases ;
suppose L4260: R8 = 1;

thus L4261: thesis by L4260 , L4249 , L4258 , INTEGRA1:def 4;
end;
suppose L4262: R8 <> 1;

thus L4263: thesis by L4262 , L4249 , L4258 , INTEGRA1:def 4;
end;
end;
L4265: ( R16 . ( len R16 ) ) <= ( upper_bound ( divset (R17 , R8) ) ) by L4250 , INTEGRA2:1;
thus L4266: contradiction by L4265 , L4259 , INTEGRA1:def 2;
end;
L4267: ( indx (C72 , R17 , ( len R17 )) ) in ( dom C72 ) by L3140 , L4244 , INTEGRA1:def 19;
L4268: ( indx (C72 , R17 , ( len R17 )) ) = ( len C72 ) by L4267 , L3145 , L4247 , SEQ_4:138;
L4269: ( ( upper_sum (R19 , R17) ) - H10(C72 , ( len C72 )) ) <= ( ( ( len R16 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta R17 ) ) by L4268 , L4251 , L4252 , INTEGRA1:42;
thus L4270: thesis by L4269 , INTEGRA1:42;
end;
thus L4271: thesis by L3144 , L3139 , L3140 , L3141;
end;
thus L4272: thesis by L3138;
end;
assume L4273: ( delta R21 ) is ( 0 ) -convergent  non-zero;
L4274: ( delta R21 ) is  convergent by L4273 , FDIFF_1:def 1;
L4275: ( lim ( delta R21 ) ) = ( 0 ) by L4273 , FDIFF_1:def 1;
assume L4276: ( vol R15 ) <> ( 0 );
L4277: ( delta R21 ) is  non-zero by L4273;
L4278: (for R3 being Real holds (R3 > ( 0 ) implies (ex R10 being (Element of ( NAT )) st (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies (( 0 ) < ( ( delta R21 ) . R11 ) & ( ( delta R21 ) . R11 ) < R3))))))
proof
let R3 being Real;
assume L4279: R3 > ( 0 );
consider R10 being (Element of ( NAT )) such that L4280: (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) < R3)) by L4279 , L4274 , L4275 , SEQ_2:def 7;
take R10;
let R11 being (Element of ( NAT ));
assume L4281: R10 <= R11;
L4282: ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) < R3 by L4281 , L4280;
L4283: ( ( ( delta R21 ) . R11 ) + ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) ) < ( R3 + ( abs ( ( ( delta R21 ) . R11 ) - ( 0 ) ) ) ) by L4282 , ABSVALUE:4 , XREAL_1:8;
reconsider D88 = ( R21 . R11 ) as (Division of R15);
L4284: ( ( delta R21 ) . R11 ) = ( delta ( R21 . R11 ) ) by L14;
L4285: ( delta ( R21 . R11 ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) ) by XXREAL_2:def 8;
consider R7 being (Element of ( NAT )) such that L4286: R7 in ( dom ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) ) and L4287: ( delta ( R21 . R11 ) ) = ( ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) . R7 ) by L4285 , PARTFUN1:3;
L4288: R7 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , ( R21 . R11 )) ) ) ) by L4286 , FINSEQ_1:def 3;
L4289: R7 in ( Seg ( len D88 ) ) by L4288 , INTEGRA1:def 6;
L4290: R7 in ( dom D88 ) by L4289 , FINSEQ_1:def 3;
L4291: ( delta ( R21 . R11 ) ) = ( vol ( divset (( R21 . R11 ) , R7) ) ) by L4290 , L4287 , INTEGRA1:20;
L4292: ( ( delta R21 ) . R11 ) <> ( 0 ) by L4277 , SEQ_1:5;
thus L4293: thesis by L4292 , L4283 , L4284 , L4291 , INTEGRA1:9 , XREAL_1:6;
end;
L4294: (for B54 being  real number holds (B54 > ( 0 ) implies (ex R10 being (Element of ( NAT )) st (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies ( abs ( ( ( upper_sum (R19 , R21) ) . R11 ) - ( upper_integral R19 ) ) ) < B54)))))
proof
let C94 being  real number;
assume L4295: C94 > ( 0 );
L4296: ( C94 / 2 ) > ( 0 ) by L4295 , XREAL_1:139;
reconsider D89 = C94 as Real by XREAL_0:def 1;
L4297: ( rng ( upper_sum_set R19 ) ) is  bounded_below by L3128 , INTEGRA2:35;
L4298: ( upper_integral R19 ) = ( lower_bound ( rng ( upper_sum_set R19 ) ) ) by INTEGRA1:def 14;
consider C95 being  real number such that L4299: C95 in ( rng ( upper_sum_set R19 ) ) and L4300: ( ( upper_integral R19 ) + ( D89 / 2 ) ) > C95 by L4298 , L4296 , L4297 , SEQ_4:def 2;
L4301: (ex B55 being (Division of R15) st (B55 in ( dom ( upper_sum_set R19 ) ) & C95 = ( ( upper_sum_set R19 ) . B55 ) & ( B55 . 1 ) > ( lower_bound R15 )))
proof
consider C96 being (Element of ( divs R15 )) such that L4302: C96 in ( dom ( upper_sum_set R19 ) ) and L4303: C95 = ( ( upper_sum_set R19 ) . C96 ) by L4299 , PARTFUN1:3;
reconsider D90 = C96 as (Division of R15) by INTEGRA1:def 3;
L4304: ( len D90 ) in ( Seg ( len D90 ) ) by FINSEQ_1:3;
L4305: 1 <= ( len D90 ) by L4304 , FINSEQ_1:1;
L4306: 1 in ( Seg ( len D90 ) ) by L4305 , FINSEQ_1:1;
L4307: 1 in ( dom D90 ) by L4306 , FINSEQ_1:def 3;
per cases ;
suppose L4308: ( D90 . 1 ) <> ( lower_bound R15 );

L4309: ( D90 . 1 ) in R15 by L4307 , INTEGRA1:6;
L4310: ( lower_bound R15 ) <= ( D90 . 1 ) by L4309 , INTEGRA2:1;
L4311: ( D90 . 1 ) > ( lower_bound R15 ) by L4310 , L4308 , XXREAL_0:1;
thus L4312: thesis by L4311 , L4302 , L4303;
end;
suppose L4313: ( D90 . 1 ) = ( lower_bound R15 );

L4314: (ex B56 being (Division of R15) st (B56 in ( dom ( upper_sum_set R19 ) ) & C95 = ( ( upper_sum_set R19 ) . B56 ) & ( B56 . 1 ) > ( lower_bound R15 )))
proof
L4315: ( ( upper_volume (R19 , D90) ) . 1 ) = ( ( upper_bound ( rng ( R19 | ( divset (D90 , 1) ) ) ) ) * ( vol ( divset (D90 , 1) ) ) ) by L4307 , INTEGRA1:def 6;
L4316: ( vol R15 ) >= ( 0 ) by INTEGRA1:9;
L4317: ( ( upper_bound R15 ) - ( lower_bound R15 ) ) > ( 0 ) by L4316 , L4276 , INTEGRA1:def 5;
L4318: C95 = ( upper_sum (R19 , D90) ) by L4303 , INTEGRA1:def 10
.= ( Sum ( upper_volume (R19 , D90) ) ) by INTEGRA1:def 8
.= ( Sum ( ( ( upper_volume (R19 , D90) ) | 1 ) ^ ( ( upper_volume (R19 , D90) ) /^ 1 ) ) ) by RFINSEQ:8;
L4319: ( D90 . ( len D90 ) ) = ( upper_bound R15 ) by INTEGRA1:def 2;
L4320: ( len D90 ) in ( dom D90 ) by L4304 , FINSEQ_1:def 3;
L4321: ( len D90 ) > 1 by L4320 , L4307 , L4313 , L4319 , L4317 , SEQ_4:137 , XREAL_1:47;
reconsider D91 = ( D90 /^ 1 ) as  increasing (FinSequence of ( REAL )) by L4321 , INTEGRA1:34;
L4322: ( len D91 ) = ( ( len D90 ) - 1 ) by L4321 , RFINSEQ:def 1;
L4323: ( upper_bound R15 ) > ( lower_bound R15 ) by L4317 , XREAL_1:47;
L4324: ( len D91 ) <> ( 0 ) by L4323 , L4313 , L4322 , INTEGRA1:def 2;
reconsider D92 = D91 as non  empty  increasing (FinSequence of ( REAL )) by L4324;
L4325: ( len D92 ) in ( dom D92 ) by FINSEQ_5:6;
L4326: ( ( len D92 ) + 1 ) = ( len D90 ) by L4322;
L4327: ( D92 . ( len D92 ) ) = ( upper_bound R15 ) by L4326 , L4319 , L4321 , L4325 , RFINSEQ:def 1;
L4328: ( len D92 ) in ( Seg ( len D92 ) ) by FINSEQ_1:3;
L4329: ( 1 + 1 ) <= ( len D90 ) by L4321 , NAT_1:13;
L4330: 2 in ( dom D90 ) by L4329 , FINSEQ_3:25;
L4331: ( D90 . 1 ) < ( D90 . 2 ) by L4330 , L4307 , SEQM_3:def 1;
L4332: ( rng D90 ) c= R15 by INTEGRA1:def 2;
L4333: ( rng D92 ) c= ( rng D90 ) by FINSEQ_5:33;
L4334: ( rng D92 ) c= R15 by L4333 , L4332 , XBOOLE_1:1;
reconsider D93 = D92 as (Division of R15) by L4334 , L4327 , INTEGRA1:def 2;
L4335: 1 in ( Seg 1 ) by FINSEQ_1:1;
L4336: ( len D90 ) >= ( 1 + 1 ) by L4321 , NAT_1:13;
L4337: 2 <= ( len ( upper_volume (R19 , D90) ) ) by L4336 , INTEGRA1:def 6;
L4338: 1 <= ( len ( upper_volume (R19 , D90) ) ) by L4321 , INTEGRA1:def 6;
L4339: ( len ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) ) = ( ( ( len ( upper_volume (R19 , D90) ) ) -' 2 ) + 1 ) by L4338 , L4337 , FINSEQ_6:118
.= ( ( ( len D90 ) -' 2 ) + 1 ) by INTEGRA1:def 6
.= ( ( ( len D90 ) - 2 ) + 1 ) by L4336 , XREAL_1:233
.= ( ( len D90 ) - 1 );
L4340: (for B57 being Nat holds ((1 <= B57 & B57 <= ( len ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) )) implies ( ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) . B57 ) = ( ( upper_volume (R19 , D93) ) . B57 )))
proof
let C97 being Nat;
assume that
L4341: 1 <= C97
and
L4342: C97 <= ( len ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) );
L4343: 1 <= ( C97 + 1 ) by NAT_1:12;
L4344: ( C97 + 1 ) <= ( len D90 ) by L4339 , L4342 , XREAL_1:19;
L4345: ( C97 + 1 ) in ( Seg ( len D90 ) ) by L4344 , L4343 , FINSEQ_1:1;
L4346: ( C97 + 1 ) in ( dom D90 ) by L4345 , FINSEQ_1:def 3;
L4347: ( divset (D90 , ( C97 + 1 )) ) = ( divset (D93 , C97) )
proof
L4348: ( C97 + 1 ) in ( dom D90 ) by L4345 , FINSEQ_1:def 3;
L4349: 1 <> ( C97 + 1 ) by L4341 , NAT_1:13;
L4350: ( upper_bound ( divset (D90 , ( C97 + 1 )) ) ) = ( D90 . ( C97 + 1 ) ) by L4349 , L4348 , INTEGRA1:def 4;
L4351: C97 in ( dom D93 ) by L4322 , L4339 , L4341 , L4342 , FINSEQ_3:25;
L4352: ( D93 . C97 ) = ( D90 . ( C97 + 1 ) ) by L4351 , L4321 , RFINSEQ:def 1;
L4353: ( lower_bound ( divset (D90 , ( C97 + 1 )) ) ) = ( D90 . ( ( C97 + 1 ) - 1 ) ) by L4349 , L4348 , INTEGRA1:def 4;
per cases ;
suppose L4354: C97 = 1;

L4355: ( upper_bound ( divset (D93 , C97) ) ) = ( D93 . C97 ) by L4354 , L4351 , INTEGRA1:def 4;
L4356: ( lower_bound ( divset (D93 , C97) ) ) = ( lower_bound R15 ) by L4351 , L4354 , INTEGRA1:def 4;
L4357: ( divset (D90 , ( C97 + 1 )) ) = [. ( lower_bound R15 ) , ( D93 . C97 ) .] by L4313 , L4350 , L4353 , L4352 , L4354 , INTEGRA1:4;
thus L4358: thesis by L4357 , L4356 , L4355 , INTEGRA1:4;
end;
suppose L4359: C97 <> 1;

L4360: ( C97 - 1 ) in ( dom D93 ) by L4359 , L4351 , INTEGRA1:7;
L4361: ( D93 . ( C97 - 1 ) ) = ( D90 . ( ( C97 - 1 ) + 1 ) ) by L4360 , L4321 , RFINSEQ:def 1
.= ( D90 . C97 );
L4362: ( upper_bound ( divset (D93 , C97) ) ) = ( D93 . C97 ) by L4351 , L4359 , INTEGRA1:def 4;
L4363: ( lower_bound ( divset (D93 , C97) ) ) = ( D93 . ( C97 - 1 ) ) by L4351 , L4359 , INTEGRA1:def 4;
L4364: ( divset (D90 , ( C97 + 1 )) ) = [. ( lower_bound ( divset (D93 , C97) ) ) , ( upper_bound ( divset (D93 , C97) ) ) .] by L4363 , L4350 , L4353 , L4352 , L4362 , L4361 , INTEGRA1:4;
thus L4365: thesis by L4364 , INTEGRA1:4;
end;
end;
L4367: C97 <= ( ( len ( upper_volume (R19 , D90) ) ) - 1 ) by L4339 , L4342 , INTEGRA1:def 6;
L4368: C97 <= ( ( ( len ( upper_volume (R19 , D90) ) ) - 2 ) + 1 ) by L4367;
L4369: C97 in ( NAT ) by ORDINAL1:def 12;
L4370: ( ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) . C97 ) = ( ( upper_volume (R19 , D90) ) . ( ( C97 + 2 ) - 1 ) ) by L4369 , L4337 , L4341 , L4368 , FINSEQ_6:122
.= ( ( upper_volume (R19 , D90) ) . ( C97 + 1 ) );
L4371: ( ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) . C97 ) = ( ( upper_bound ( rng ( R19 | ( divset (D90 , ( C97 + 1 )) ) ) ) ) * ( vol ( divset (D90 , ( C97 + 1 )) ) ) ) by L4370 , L4346 , INTEGRA1:def 6;
L4372: C97 in ( Seg ( len D93 ) ) by L4322 , L4339 , L4341 , L4342 , FINSEQ_1:1;
L4373: C97 in ( dom D93 ) by L4372 , FINSEQ_1:def 3;
thus L4374: thesis by L4373 , L4371 , L4347 , INTEGRA1:def 6;
end;
L4375: 1 <= ( len ( upper_volume (R19 , D90) ) ) by L4321 , INTEGRA1:def 6;
L4376: ( len ( ( upper_volume (R19 , D90) ) | 1 ) ) = 1 by L4375 , FINSEQ_1:59;
L4377: 1 in ( dom ( upper_volume (R19 , D90) ) ) by L4375 , FINSEQ_3:25;
L4378: ( ( ( upper_volume (R19 , D90) ) | 1 ) . 1 ) = ( ( upper_volume (R19 , D90) ) . 1 ) by L4377 , L4335 , RFINSEQ:6;
L4379: ( ( upper_volume (R19 , D90) ) | 1 ) = <* ( ( upper_volume (R19 , D90) ) . 1 ) *> by L4378 , L4376 , FINSEQ_1:40;
L4380: ( 2 -' 1 ) = ( 2 - 1 ) by XREAL_1:233
.= 1;
L4381: 1 <= ( len D93 ) by L4328 , FINSEQ_1:1;
L4382: 1 in ( dom D93 ) by L4381 , FINSEQ_3:25;
L4383: ( D93 . 1 ) = ( D90 . ( 1 + 1 ) ) by L4382 , L4321 , RFINSEQ:def 1
.= ( D90 . 2 );
L4384: D93 in ( divs R15 ) by INTEGRA1:def 3;
L4385: D93 in ( dom ( upper_sum_set R19 ) ) by L4384 , FUNCT_2:def 1;
L4386: ( len ( upper_volume (R19 , D90) ) ) >= 2 by L4336 , INTEGRA1:def 6;
L4387: ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) = ( ( upper_volume (R19 , D90) ) /^ 1 ) by L4386 , L4380 , FINSEQ_6:117;
L4388: ( len ( mid (( upper_volume (R19 , D90) ) , 2 , ( len ( upper_volume (R19 , D90) ) )) ) ) = ( len ( upper_volume (R19 , D93) ) ) by L4322 , L4339 , INTEGRA1:def 6;
L4389: ( ( upper_volume (R19 , D90) ) /^ 1 ) = ( upper_volume (R19 , D93) ) by L4388 , L4387 , L4340 , FINSEQ_1:14;
L4390: ( vol ( divset (D90 , 1) ) ) = ( ( upper_bound ( divset (D90 , 1) ) ) - ( lower_bound ( divset (D90 , 1) ) ) ) by INTEGRA1:def 5
.= ( ( upper_bound ( divset (D90 , 1) ) ) - ( lower_bound R15 ) ) by L4307 , INTEGRA1:def 4
.= ( ( D90 . 1 ) - ( lower_bound R15 ) ) by L4307 , INTEGRA1:def 4
.= ( 0 ) by L4313;
L4391: C95 = ( ( 0 ) + ( Sum ( upper_volume (R19 , D93) ) ) ) by L4390 , L4318 , L4379 , L4315 , L4389 , RVSUM_1:76
.= ( upper_sum (R19 , D93) ) by INTEGRA1:def 8;
L4392: C95 = ( ( upper_sum_set R19 ) . D93 ) by L4391 , INTEGRA1:def 10;
thus L4393: thesis by L4392 , L4313 , L4385 , L4383 , L4331;
end;
thus L4394: thesis by L4314;
end;
end;
consider C98 being (Division of R15) such that L4396: C98 in ( dom ( upper_sum_set R19 ) ) and L4397: C95 = ( ( upper_sum_set R19 ) . C98 ) and L4398: ( C98 . 1 ) > ( lower_bound R15 ) by L4301;
deffunc H11(Nat) = ( vol ( divset (C98 , $1) ) );
set D94 = ( len C98 );
set D95 = ( upper_bound ( rng R19 ) );
set D96 = ( lower_bound ( rng R19 ) );
consider C99 being (FinSequence of ( REAL )) such that L4399: (( len C99 ) = ( len C98 ) & (for B58 being Nat holds (B58 in ( dom C99 ) implies ( C99 . B58 ) = H11(B58)))) from FINSEQ_2:sch 1;
L4400: ( 2 * D94 ) > ( 0 ) by XREAL_1:129;
consider C100 being  non-decreasing (FinSequence of ( REAL )) such that L4401: C99 , C100 are_fiberwise_equipotent  by INTEGRA2:3;
defpred S6[ Nat ] means ($1 in ( dom C100 ) & ( C100 . $1 ) > ( 0 ));
L4402: ( dom C99 ) = ( Seg ( len C98 ) ) by L4399 , FINSEQ_1:def 3;
L4403: (ex B59 being Nat st S6[ B59 ])
proof
consider C101 being Function such that L4404: ( dom C101 ) = ( dom C99 ) and L4405: ( rng C101 ) = ( dom C100 ) and L4406: C101 is  one-to-one and L4407: C99 = ( C100 * C101 ) by L4401 , CLASSES1:77;
consider R9 being (Element of ( NAT )) such that L4408: R9 in ( dom C98 ) and L4409: ( vol ( divset (C98 , R9) ) ) > ( 0 ) by L4276 , L39;
L4410: ( dom C98 ) = ( Seg ( len C98 ) ) by FINSEQ_1:def 3;
L4411: ( C101 . R9 ) in ( dom C100 ) by L4410 , L4402 , L4407 , L4408 , FUNCT_1:11;
reconsider D97 = ( C101 . R9 ) as (Element of ( NAT )) by L4411;
L4412: ( C99 . R9 ) > ( 0 ) by L4399 , L4402 , L4408 , L4409 , L4410;
L4413: S6[ D97 ] by L4412 , L4402 , L4407 , L4408 , L4410 , FUNCT_1:11 , FUNCT_1:12;
thus L4414: thesis by L4413;
end;
consider C102 being Nat such that L4415: (S6[ C102 ] & (for B60 being Nat holds (S6[ B60 ] implies C102 <= B60))) from NAT_1:sch 5(L4403);
L4416: ( D95 - D96 ) >= ( 0 ) by L3128 , L326 , XREAL_1:48;
L4417: ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) > ( 0 ) by L4416 , L4400 , XREAL_1:129;
L4418: ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) ) > ( 0 )
proof
per cases  by XXREAL_0:15;
suppose L4419: ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) ) = ( C100 . C102 );

thus L4420: thesis by L4419 , L4415;
end;
suppose L4421: ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) ) = ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) );

thus L4422: thesis by L4421 , L4295 , L4417 , XREAL_1:139;
end;
end;
consider R10 being (Element of ( NAT )) such that L4424: (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies (( 0 ) < ( ( delta R21 ) . R11 ) & ( ( delta R21 ) . R11 ) < ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) )))) by L4418 , L4278;
take R10;
L4425: C95 = ( upper_sum (R19 , C98) ) by L4397 , INTEGRA1:def 10;
L4426: (for R11 being (Element of ( NAT )) holds (R10 <= R11 implies ( abs ( ( ( upper_sum (R19 , R21) ) . R11 ) - ( upper_integral R19 ) ) ) < D89))
proof
L4427: ( C100 . 1 ) > ( 0 )
proof
L4428: (for B61 being (Element of ( NAT )) holds (B61 in ( dom C98 ) implies ( vol ( divset (C98 , B61) ) ) > ( 0 )))
proof
let C103 being (Element of ( NAT ));
assume L4429: C103 in ( dom C98 );
L4430: 1 <= C103 by L4429 , FINSEQ_3:25;
per cases  by L4430 , XXREAL_0:1;
suppose L4431: C103 = 1;

L4432: ( upper_bound ( divset (C98 , C103) ) ) = ( C98 . C103 ) by L4431 , L4429 , INTEGRA1:def 4;
L4433: ( lower_bound ( divset (C98 , C103) ) ) = ( lower_bound R15 ) by L4429 , L4431 , INTEGRA1:def 4;
L4434: ( vol ( divset (C98 , C103) ) ) = ( ( C98 . C103 ) - ( lower_bound R15 ) ) by L4433 , L4432 , INTEGRA1:def 5;
thus L4435: thesis by L4434 , L4398 , L4431 , XREAL_1:50;
end;
suppose L4436: C103 > 1;

L4437: ( upper_bound ( divset (C98 , C103) ) ) = ( C98 . C103 ) by L4436 , L4429 , INTEGRA1:def 4;
L4438: ( lower_bound ( divset (C98 , C103) ) ) = ( C98 . ( C103 - 1 ) ) by L4429 , L4436 , INTEGRA1:def 4;
L4439: ( vol ( divset (C98 , C103) ) ) = ( ( C98 . C103 ) - ( C98 . ( C103 - 1 ) ) ) by L4438 , L4437 , INTEGRA1:def 5;
L4440: C103 < ( C103 + 1 ) by XREAL_1:29;
L4441: ( C103 - 1 ) < C103 by L4440 , XREAL_1:19;
L4442: ( C103 - 1 ) in ( dom C98 ) by L4429 , L4436 , INTEGRA1:7;
L4443: ( C98 . ( C103 - 1 ) ) < ( C98 . C103 ) by L4442 , L4429 , L4441 , SEQM_3:def 1;
thus L4444: thesis by L4443 , L4439 , XREAL_1:50;
end;
end;
L4446: C102 <= ( len C100 ) by L4415 , FINSEQ_3:25;
L4447: 1 <= C102 by L4415 , FINSEQ_3:25;
L4448: 1 <= ( len C100 ) by L4447 , L4446 , XXREAL_0:2;
L4449: 1 in ( dom C100 ) by L4448 , FINSEQ_3:25;
L4450: ( C100 . 1 ) in ( rng C100 ) by L4449 , FUNCT_1:def 3;
L4451: ( rng C99 ) = ( rng C100 ) by L4401 , CLASSES1:75;
consider C104 being (Element of ( NAT )) such that L4452: C104 in ( dom C99 ) and L4453: ( C100 . 1 ) = ( C99 . C104 ) by L4451 , L4450 , PARTFUN1:3;
L4454: C104 in ( Seg ( len C98 ) ) by L4399 , L4452 , FINSEQ_1:def 3;
L4455: C104 in ( dom C98 ) by L4454 , FINSEQ_1:def 3;
L4456: ( C100 . 1 ) = ( vol ( divset (C98 , C104) ) ) by L4399 , L4452 , L4453;
thus L4457: thesis by L4456 , L4428 , L4455;
end;
L4458: ( C100 . C102 ) = ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) )
proof
L4459: C102 = 1
proof
L4460: ( len C100 ) = ( len C99 ) by L4401 , RFINSEQ:3;
L4461: C102 in ( Seg ( len C99 ) ) by L4460 , L4415 , FINSEQ_1:def 3;
L4462: 1 <= C102 by L4461 , FINSEQ_1:1;
L4463: C102 in ( Seg ( len C100 ) ) by L4415 , FINSEQ_1:def 3;
L4464: C102 <= ( len C100 ) by L4463 , FINSEQ_1:1;
L4465: 1 <= ( len C100 ) by L4464 , L4462 , XXREAL_0:2;
L4466: 1 in ( dom C100 ) by L4465 , FINSEQ_3:25;
assume L4467: C102 <> 1;
L4468: C102 > 1 by L4467 , L4462 , XXREAL_0:1;
thus L4469: contradiction by L4468 , L4415 , L4427 , L4466;
end;
L4470: ( rng C99 ) = ( rng C100 ) by L4401 , CLASSES1:75;
L4471: ( C100 . C102 ) in ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) )
proof
L4472: ( C100 . C102 ) in ( rng C99 ) by L4415 , L4470 , FUNCT_1:def 3;
consider C105 being (Element of ( NAT )) such that L4473: C105 in ( dom C99 ) and L4474: ( C100 . C102 ) = ( C99 . C105 ) by L4472 , PARTFUN1:3;
L4475: C105 in ( Seg ( len C98 ) ) by L4399 , L4473 , FINSEQ_1:def 3;
L4476: C105 in ( dom C98 ) by L4475 , FINSEQ_1:def 3;
L4477: C105 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) by L4475 , INTEGRA1:def 6;
L4478: C105 in ( dom ( upper_volume (( chi (R15 , R15) ) , C98) ) ) by L4477 , FINSEQ_1:def 3;
L4479: ( C100 . C102 ) = ( vol ( divset (C98 , C105) ) ) by L4399 , L4473 , L4474;
L4480: ( C100 . C102 ) = ( ( upper_volume (( chi (R15 , R15) ) , C98) ) . C105 ) by L4479 , L4476 , INTEGRA1:20;
thus L4481: thesis by L4480 , L4478 , FUNCT_1:def 3;
end;
L4482: ( C100 . C102 ) >= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) by L4471 , XXREAL_2:def 7;
L4483: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) in ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) by XXREAL_2:def 7;
consider R11 being (Element of ( NAT )) such that L4484: R11 in ( dom ( upper_volume (( chi (R15 , R15) ) , C98) ) ) and L4485: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) = ( ( upper_volume (( chi (R15 , R15) ) , C98) ) . R11 ) by L4483 , PARTFUN1:3;
L4486: R11 in ( Seg ( len ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) by L4484 , FINSEQ_1:def 3;
L4487: R11 in ( Seg ( len C98 ) ) by L4486 , INTEGRA1:def 6;
L4488: R11 in ( dom C98 ) by L4487 , FINSEQ_1:def 3;
L4489: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) = ( vol ( divset (C98 , R11) ) ) by L4488 , L4485 , INTEGRA1:20;
L4490: ( C99 . R11 ) = ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) by L4489 , L4399 , L4402 , L4487;
L4491: R11 in ( dom C99 ) by L4399 , L4487 , FINSEQ_1:def 3;
L4492: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) in ( rng C99 ) by L4491 , L4490 , FUNCT_1:def 3;
consider C106 being (Element of ( NAT )) such that L4493: C106 in ( dom C100 ) and L4494: ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) = ( C100 . C106 ) by L4492 , L4470 , PARTFUN1:3;
L4495: C106 >= 1 by L4493 , FINSEQ_3:25;
L4496: ( C100 . 1 ) <= ( min ( rng ( upper_volume (( chi (R15 , R15) ) , C98) ) ) ) by L4495 , L4415 , L4459 , L4493 , L4494 , INTEGRA2:2;
thus L4497: thesis by L4496 , L4459 , L4482 , XXREAL_0:1;
end;
L4498: ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) ) <= ( C100 . C102 ) by XXREAL_0:17;
set D98 = ( upper_integral R19 );
set D99 = ( upper_sum (R19 , C98) );
let R11 being (Element of ( NAT ));
reconsider D100 = ( R21 . R11 ) as (Division of R15);
L4499: ( delta D100 ) = ( ( delta R21 ) . R11 ) by L14;
consider C107 being (Division of R15) such that L4500: C98 <= C107 and L4501: D100 <= C107 and L4502: ( rng C107 ) = ( ( rng D100 ) \/ ( rng C98 ) ) and L4503: ( 0 ) <= ( ( upper_sum (R19 , C98) ) - ( upper_sum (R19 , C107) ) ) and L4504: ( 0 ) <= ( ( upper_sum (R19 , D100) ) - ( upper_sum (R19 , C107) ) ) by L3129;
set D101 = ( upper_sum (R19 , ( R21 . R11 )) );
set D102 = ( upper_sum (R19 , C107) );
L4505: ( upper_sum (R19 , C107) ) <= ( upper_sum (R19 , C98) ) by L3128 , L4500 , INTEGRA1:45;
L4506: ( D101 - D99 ) <= ( D101 - D102 ) by L4505 , XREAL_1:10;
L4507: ( ( ( D99 + D101 ) - D101 ) - D98 ) < ( D89 / 2 ) by L4300 , L4425 , XREAL_1:19;
L4508: ( ( ( D101 - D98 ) + D99 ) - D101 ) < ( D89 / 2 ) by L4507;
L4509: ( ( D101 - D98 ) + D99 ) < ( D101 + ( D89 / 2 ) ) by L4508 , XREAL_1:19;
L4510: ( D101 - D98 ) < ( ( D101 + ( D89 / 2 ) ) - D99 ) by L4509 , XREAL_1:20;
L4511: ( R21 . R11 ) in ( divs R15 ) by INTEGRA1:def 3;
L4512: ( R21 . R11 ) in ( dom ( upper_sum_set R19 ) ) by L4511 , FUNCT_2:def 1;
L4513: ( ( upper_sum (R19 , R21) ) . R11 ) = ( upper_sum (R19 , ( R21 . R11 )) ) by INTEGRA2:def 2;
L4514: ( ( upper_sum (R19 , R21) ) . R11 ) = ( ( upper_sum_set R19 ) . ( R21 . R11 ) ) by L4513 , INTEGRA1:def 10;
L4515: ( ( upper_sum (R19 , R21) ) . R11 ) in ( rng ( upper_sum_set R19 ) ) by L4514 , L4512 , FUNCT_1:def 3;
L4516: ( lower_bound ( rng ( upper_sum_set R19 ) ) ) <= ( ( upper_sum (R19 , R21) ) . R11 ) by L4515 , L4297 , SEQ_4:def 2;
L4517: ( upper_integral R19 ) <= ( ( upper_sum (R19 , R21) ) . R11 ) by L4516 , INTEGRA1:def 14;
L4518: ( ( ( upper_sum (R19 , R21) ) . R11 ) - ( upper_integral R19 ) ) >= ( 0 ) by L4517 , XREAL_1:48;
L4519: ( D95 - D96 ) <= ( ( D95 - D96 ) + 1 ) by XREAL_1:29;
L4520: ( D94 * ( D95 - D96 ) ) <= ( D94 * ( ( D95 - D96 ) + 1 ) ) by L4519 , XREAL_1:64;
L4521: ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) ) <= ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) ) by XXREAL_0:17;
assume L4522: R10 <= R11;
L4523: ( ( delta R21 ) . R11 ) < ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) ) by L4522 , L4424;
L4524: ( ( delta R21 ) . R11 ) < ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) ) by L4523 , L4521 , XXREAL_0:2;
L4525: ( ( ( delta R21 ) . R11 ) * ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) ) < D89 by L4524 , L4400 , L4416 , XREAL_1:79 , XREAL_1:129;
L4526: ( ( ( ( delta R21 ) . R11 ) * ( D94 * ( ( D95 - D96 ) + 1 ) ) ) * 2 ) < D89 by L4525;
L4527: ( ( D94 * ( ( D95 - D96 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) < ( D89 / 2 ) by L4526 , XREAL_1:81;
L4528: ( ( delta R21 ) . R11 ) < ( min (( C100 . C102 ) , ( D89 / ( ( 2 * D94 ) * ( ( D95 - D96 ) + 1 ) ) )) ) by L4424 , L4522;
L4529: ( delta D100 ) < ( C100 . C102 ) by L4528 , L4499 , L4498 , XXREAL_0:2;
L4530: (ex B62 being (Division of R15) st (C98 <= B62 & D100 <= B62 & ( rng B62 ) = ( ( rng D100 ) \/ ( rng C98 ) ) & ( ( upper_sum (R19 , D100) ) - ( upper_sum (R19 , B62) ) ) <= ( ( ( len C98 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta D100 ) ))) by L4529 , L3136 , L4458;
L4531: ( ( upper_sum (R19 , D100) ) - ( upper_sum (R19 , C107) ) ) <= ( ( ( len C98 ) * ( ( upper_bound ( rng R19 ) ) - ( lower_bound ( rng R19 ) ) ) ) * ( delta D100 ) ) by L4530 , L4502 , L284;
L4532: ( 0 ) < ( ( delta R21 ) . R11 ) by L4424 , L4522;
L4533: ( ( D94 * ( D95 - D96 ) ) * ( ( delta R21 ) . R11 ) ) <= ( ( D94 * ( ( D95 - D96 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) by L4532 , L4520 , XREAL_1:64;
L4534: ( ( upper_sum (R19 , ( R21 . R11 )) ) - ( upper_sum (R19 , C107) ) ) <= ( ( D94 * ( ( D95 - D96 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) by L4533 , L4499 , L4531 , XXREAL_0:2;
L4535: ( D101 - D99 ) <= ( ( D94 * ( ( D95 - D96 ) + 1 ) ) * ( ( delta R21 ) . R11 ) ) by L4534 , L4506 , XXREAL_0:2;
L4536: ( D101 - D99 ) < ( D89 / 2 ) by L4535 , L4527 , XXREAL_0:2;
L4537: ( ( D101 - D99 ) + ( D89 / 2 ) ) < ( ( D89 / 2 ) + ( D89 / 2 ) ) by L4536 , XREAL_1:6;
L4538: ( D101 - D98 ) < D89 by L4537 , L4510 , XXREAL_0:2;
L4539: ( ( ( upper_sum (R19 , R21) ) . R11 ) - ( upper_integral R19 ) ) < D89 by L4538 , INTEGRA2:def 2;
thus L4540: thesis by L4539 , L4518 , ABSVALUE:def 1;
end;
thus L4541: thesis by L4426;
end;
thus L4542: ( upper_sum (R19 , R21) ) is  convergent by L4294 , SEQ_2:def 6;
thus L4543: thesis by L4542 , L4294 , SEQ_2:def 7;
end;
