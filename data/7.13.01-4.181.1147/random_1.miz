:: Probability on Finite Set and Real Valued Random Variables
::  by Hiroyuki Okazaki and Yasunari Shidama
::
:: Received March 17, 2009
:: Copyright (c) 2009-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, PROB_1, MEASURE1, PARTFUN1, SUBSET_1, REAL_1,
      INTEGRA5, TARSKI, RELAT_1, FUNCT_1, ARYTM_3, XXREAL_0, MEASURE6,
      MESFUNC5, FUNCT_3, VALUED_1, MESFUNC1, ARYTM_1, SUPINF_2, MESFUNC2,
      FINSEQ_1, NAT_1, CARD_3, CARD_1, MESFUNC3, INTEGRA1, ZFMISC_1, XXREAL_2,
      VALUED_0, RPR_1, FINSET_1, UPROOTS, RFUNCT_3, PROB_4, XREAL_0, ORDINAL1,
      COMPLEX1, EQREL_1, SEQ_2, ORDINAL2, POWER, RANDOM_1, BSPACE;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, ORDINAL1, FINSET_1, CARD_1,
      NUMBERS, XREAL_0, XXREAL_0, REAL_1, COMPLEX1, XXREAL_2, FUNCT_1,
      RELSET_1, PARTFUN1, VALUED_1, FINSEQ_1, RFUNCT_3, FUNCT_2, SUPINF_2,
      SEQ_1, SEQ_2, RPR_1, PROB_1, PROB_4, MEASURE1, EXTREAL1, MESFUNC1,
      MESFUNC3, MEASURE6, MESFUNC5, MESFUNC6, MESFUNC2, RVSUM_1, UPROOTS,
      MESFUN6C;
 constructors REAL_1, RPR_1, NAT_3, EXTREAL1, SEQ_1, POWER, RVSUM_1, MESFUNC6,
      MESFUNC3, MESFUNC5, MEASURE6, MESFUNC2, BINOP_2, INTEGRA2, PROB_4,
      SUPINF_1, UPROOTS, MESFUN6C, MESFUNC1, DOMAIN_1, RELSET_1, COMSEQ_2;
 registrations SUBSET_1, NAT_1, XREAL_0, XXREAL_0, MEMBERED, ORDINAL1,
      FINSEQ_1, MEASURE1, FUNCT_2, RELAT_1, SEQ_4, FINSET_1, NUMBERS, XCMPLX_0,
      VALUED_0, VALUED_1, UPROOTS, RELSET_1, JORDAN5A;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, RPR_1, SUBSET_1, FINSEQ_1, MESFUNC1, MEASURE6, MESFUNC5,
      MESFUNC6, XCMPLX_0, PROB_4, VALUED_1, XBOOLE_0, XXREAL_3;
 theorems ABSVALUE, TARSKI, PARTFUN1, FUNCT_1, NUMBERS, SUPINF_2, EXTREAL1,
      RPR_1, MESFUNC1, FINSEQ_1, XBOOLE_0, SEQM_3, RVSUM_1, XBOOLE_1, XCMPLX_1,
      MESFUNC2, MESFUNC3, XREAL_1, COMPLEX1, XXREAL_0, RFUNCT_3, MESFUNC5,
      PROB_1, NAT_1, RELAT_1, FUNCT_3, ZFMISC_1, FUNCT_2, MEASURE1, INTEGRA5,
      MESFUNC4, MESFUNC6, ORDINAL1, SEQ_2, CARD_FIN, MESFUNC7, VALUED_0,
      VALUED_1, UPROOTS, ABCMIZ_1, RCOMP_1, MESFUN6C, FINSEQ_3, XXREAL_3;
 schemes FINSEQ_1, FUNCT_2, FINSEQ_2;

begin
theorem
L1: (for B1 being non  empty set holds (for B2 being (SigmaField of B1) holds (for B3 being (sigma_Measure of B2) holds (for B4 being (PartFunc of B1 , ( ExtREAL )) holds (for B5 being (Element of B2) holds (for B6 being Real holds ((B4 is_integrable_on B3 & B5 c= ( dom B4 ) & ( B3 . B5 ) < ( +infty ) & (for B7 being (Element of B1) holds (B7 in B5 implies B6 <= ( B4 . B7 )))) implies ( ( R_EAL B6 ) * ( B3 . B5 ) ) <= ( Integral (B3 , ( B4 | B5 )) ))))))))
proof
let C1 being non  empty set;
let C2 being (SigmaField of C1);
let C3 being (sigma_Measure of C2);
let C4 being (PartFunc of C1 , ( ExtREAL ));
let C5 being (Element of C2);
let C6 being Real;
assume that
L2: C4 is_integrable_on C3
and
L3: C5 c= ( dom C4 )
and
L4: ( C3 . C5 ) < ( +infty )
and
L5: (for B8 being (Element of C1) holds (B8 in C5 implies C6 <= ( C4 . B8 )));
set D1 = ( chi (C5 , C1) );
L6: ( C4 | C5 ) is_integrable_on C3 by L2 , MESFUNC5:97;
L7: (for B9 being (Element of C1) holds (B9 in ( dom ( C6 (#) ( D1 | C5 ) ) ) implies ( ( C6 (#) ( D1 | C5 ) ) . B9 ) <= ( ( C4 | C5 ) . B9 )))
proof
let C7 being (Element of C1);
assume L8: C7 in ( dom ( C6 (#) ( D1 | C5 ) ) );
L9: C7 in ( dom ( D1 | C5 ) ) by L8 , MESFUNC1:def 6;
L10: C7 in ( ( dom D1 ) /\ C5 ) by L9 , RELAT_1:61;
L11: C7 in C5 by L10 , XBOOLE_0:def 4;
L12: C6 <= ( C4 . C7 ) by L11 , L5;
L13: C6 <= ( ( C4 | C5 ) . C7 ) by L12 , L11 , FUNCT_1:49;
L14: ( ( C6 (#) ( D1 | C5 ) ) . C7 ) = ( ( R_EAL C6 ) * ( ( D1 | C5 ) . C7 ) ) by L8 , MESFUNC1:def 6
.= ( ( R_EAL C6 ) * ( D1 . C7 ) ) by L9 , FUNCT_1:47
.= ( ( R_EAL C6 ) * ( 1. ) ) by L11 , FUNCT_3:def 3;
thus L15: thesis by L14 , L13 , XXREAL_3:81;
end;
L16: ( ( C4 | C5 ) - ( C6 (#) ( D1 | C5 ) ) ) is  nonnegative by L7 , MESFUNC7:1;
L17: ( dom ( C6 (#) ( D1 | C5 ) ) ) = ( dom ( D1 | C5 ) ) by MESFUNC1:def 6;
L18: ( dom ( C6 (#) ( D1 | C5 ) ) ) = ( ( dom D1 ) /\ C5 ) by L17 , RELAT_1:61;
L19: ( dom ( C6 (#) ( D1 | C5 ) ) ) = ( C1 /\ C5 ) by L18 , FUNCT_3:def 3;
L20: ( dom ( C6 (#) ( D1 | C5 ) ) ) = C5 by L19 , XBOOLE_1:28;
L21: C5 = ( C5 /\ C5 );
L22: ( Integral (C3 , ( D1 | C5 )) ) = ( C3 . C5 ) by L21 , L4 , MESFUNC7:25;
L23: ( chi (C5 , C1) ) is_integrable_on C3 by L4 , MESFUNC7:24;
L24: ( D1 | C5 ) is_integrable_on C3 by L23 , MESFUNC5:97;
L25: ( C6 (#) ( D1 | C5 ) ) is_integrable_on C3 by L24 , MESFUNC5:110;
consider C8 being (Element of C2) such that L26: C8 = ( ( dom ( C4 | C5 ) ) /\ ( dom ( C6 (#) ( D1 | C5 ) ) ) ) and L27: ( Integral (C3 , ( ( C6 (#) ( D1 | C5 ) ) | C8 )) ) <= ( Integral (C3 , ( ( C4 | C5 ) | C8 )) ) by L25 , L6 , L16 , MESFUNC7:3;
L28: ( dom ( C4 | C5 ) ) = ( ( dom C4 ) /\ C5 ) by RELAT_1:61;
L29: ( dom ( C4 | C5 ) ) = C5 by L28 , L3 , XBOOLE_1:28;
L30: (( ( C6 (#) ( D1 | C5 ) ) | C8 ) = ( C6 (#) ( D1 | C5 ) ) & ( ( C4 | C5 ) | C8 ) = ( C4 | C5 )) by L29 , L26 , L20 , RELAT_1:69;
thus L31: thesis by L30 , L24 , L27 , L22 , MESFUNC5:110;
end;
theorem
L32: (for B10 being non  empty set holds (for B11 being (SigmaField of B10) holds (for B12 being (sigma_Measure of B11) holds (for B13 being (PartFunc of B10 , ( REAL )) holds (for B14 being (Element of B11) holds (for B15 being Real holds ((B13 is_integrable_on B12 & B14 c= ( dom B13 ) & ( B12 . B14 ) < ( +infty ) & (for B16 being (Element of B10) holds (B16 in B14 implies B15 <= ( B13 . B16 )))) implies ( ( R_EAL B15 ) * ( B12 . B14 ) ) <= ( Integral (B12 , ( B13 | B14 )) ))))))))
proof
let C9 being non  empty set;
let C10 being (SigmaField of C9);
let C11 being (sigma_Measure of C10);
let C12 being (PartFunc of C9 , ( REAL ));
let C13 being (Element of C10);
let C14 being Real;
assume L33: C12 is_integrable_on C11;
L34: ( R_EAL C12 ) is_integrable_on C11 by L33 , MESFUNC6:def 4;
thus L35: thesis by L34 , L1;
end;
theorem
L36: (for B17 being non  empty set holds (for B18 being (SigmaField of B17) holds (for B19 being (sigma_Measure of B18) holds (for B20 being (PartFunc of B17 , ( ExtREAL )) holds (for B21 being (Element of B18) holds (for B22 being Real holds ((B20 is_integrable_on B19 & B21 c= ( dom B20 ) & ( B19 . B21 ) < ( +infty ) & (for B23 being (Element of B17) holds (B23 in B21 implies ( B20 . B23 ) <= B22))) implies ( Integral (B19 , ( B20 | B21 )) ) <= ( ( R_EAL B22 ) * ( B19 . B21 ) ))))))))
proof
let C15 being non  empty set;
let C16 being (SigmaField of C15);
let C17 being (sigma_Measure of C16);
let C18 being (PartFunc of C15 , ( ExtREAL ));
let C19 being (Element of C16);
let C20 being Real;
assume that
L37: C18 is_integrable_on C17
and
L38: C19 c= ( dom C18 )
and
L39: ( C17 . C19 ) < ( +infty )
and
L40: (for B24 being (Element of C15) holds (B24 in C19 implies ( C18 . B24 ) <= C20));
set D2 = ( chi (C19 , C15) );
L41: ( C18 | C19 ) is_integrable_on C17 by L37 , MESFUNC5:97;
L42: ( dom ( C20 (#) ( D2 | C19 ) ) ) = ( dom ( D2 | C19 ) ) by MESFUNC1:def 6;
L43: ( dom ( C20 (#) ( D2 | C19 ) ) ) = ( ( dom D2 ) /\ C19 ) by L42 , RELAT_1:61;
L44: ( dom ( C20 (#) ( D2 | C19 ) ) ) = ( C15 /\ C19 ) by L43 , FUNCT_3:def 3;
L45: ( dom ( C20 (#) ( D2 | C19 ) ) ) = C19 by L44 , XBOOLE_1:28;
L46: ( dom ( C18 | C19 ) ) = ( ( dom C18 ) /\ C19 ) by RELAT_1:61;
L47: ( dom ( C18 | C19 ) ) = C19 by L46 , L38 , XBOOLE_1:28;
L48: (for B25 being (Element of C15) holds (B25 in ( dom ( C18 | C19 ) ) implies ( ( C18 | C19 ) . B25 ) <= ( ( C20 (#) ( D2 | C19 ) ) . B25 )))
proof
let C21 being (Element of C15);
assume L49: C21 in ( dom ( C18 | C19 ) );
L50: C21 in ( dom ( D2 | C19 ) ) by L49 , L47 , L45 , MESFUNC1:def 6;
L51: C21 in ( ( dom D2 ) /\ C19 ) by L50 , RELAT_1:61;
L52: C21 in C19 by L51 , XBOOLE_0:def 4;
L53: ( C18 . C21 ) <= C20 by L52 , L40;
L54: ( ( C18 | C19 ) . C21 ) <= C20 by L53 , L52 , FUNCT_1:49;
L55: ( ( C20 (#) ( D2 | C19 ) ) . C21 ) = ( ( R_EAL C20 ) * ( ( D2 | C19 ) . C21 ) ) by L47 , L45 , L49 , MESFUNC1:def 6
.= ( ( R_EAL C20 ) * ( D2 . C21 ) ) by L50 , FUNCT_1:47
.= ( ( R_EAL C20 ) * ( 1. ) ) by L52 , FUNCT_3:def 3;
thus L56: thesis by L55 , L54 , XXREAL_3:81;
end;
L57: ( ( C20 (#) ( D2 | C19 ) ) - ( C18 | C19 ) ) is  nonnegative by L48 , MESFUNC7:1;
L58: ( dom ( C20 (#) ( D2 | C19 ) ) ) = ( dom ( D2 | C19 ) ) by MESFUNC1:def 6;
L59: ( dom ( C20 (#) ( D2 | C19 ) ) ) = ( ( dom D2 ) /\ C19 ) by L58 , RELAT_1:61;
L60: ( dom ( C20 (#) ( D2 | C19 ) ) ) = ( C15 /\ C19 ) by L59 , FUNCT_3:def 3;
L61: ( dom ( C20 (#) ( D2 | C19 ) ) ) = C19 by L60 , XBOOLE_1:28;
L62: C19 = ( C19 /\ C19 );
L63: ( Integral (C17 , ( D2 | C19 )) ) = ( C17 . C19 ) by L62 , L39 , MESFUNC7:25;
L64: ( chi (C19 , C15) ) is_integrable_on C17 by L39 , MESFUNC7:24;
L65: ( D2 | C19 ) is_integrable_on C17 by L64 , MESFUNC5:97;
L66: ( C20 (#) ( D2 | C19 ) ) is_integrable_on C17 by L65 , MESFUNC5:110;
consider C22 being (Element of C16) such that L67: C22 = ( ( dom ( C18 | C19 ) ) /\ ( dom ( C20 (#) ( D2 | C19 ) ) ) ) and L68: ( Integral (C17 , ( ( C18 | C19 ) | C22 )) ) <= ( Integral (C17 , ( ( C20 (#) ( D2 | C19 ) ) | C22 )) ) by L66 , L41 , L57 , MESFUNC7:3;
L69: ( dom ( C18 | C19 ) ) = ( ( dom C18 ) /\ C19 ) by RELAT_1:61;
L70: ( dom ( C18 | C19 ) ) = C19 by L69 , L38 , XBOOLE_1:28;
L71: (( ( C20 (#) ( D2 | C19 ) ) | C22 ) = ( C20 (#) ( D2 | C19 ) ) & ( ( C18 | C19 ) | C22 ) = ( C18 | C19 )) by L70 , L67 , L61 , RELAT_1:69;
thus L72: thesis by L71 , L65 , L68 , L63 , MESFUNC5:110;
end;
theorem
L73: (for B26 being non  empty set holds (for B27 being (SigmaField of B26) holds (for B28 being (sigma_Measure of B27) holds (for B29 being (PartFunc of B26 , ( REAL )) holds (for B30 being (Element of B27) holds (for B31 being Real holds ((B29 is_integrable_on B28 & B30 c= ( dom B29 ) & ( B28 . B30 ) < ( +infty ) & (for B32 being (Element of B26) holds (B32 in B30 implies ( B29 . B32 ) <= B31))) implies ( Integral (B28 , ( B29 | B30 )) ) <= ( ( R_EAL B31 ) * ( B28 . B30 ) ))))))))
proof
let C23 being non  empty set;
let C24 being (SigmaField of C23);
let C25 being (sigma_Measure of C24);
let C26 being (PartFunc of C23 , ( REAL ));
let C27 being (Element of C24);
let C28 being Real;
assume L74: C26 is_integrable_on C25;
L75: ( R_EAL C26 ) is_integrable_on C25 by L74 , MESFUNC6:def 4;
thus L76: thesis by L75 , L36;
end;
L77: (for B33 being non  empty set holds (for B34 being (SigmaField of B33) holds (for B35 being (PartFunc of B33 , ( REAL )) holds (for B36 being (sigma_Measure of B34) holds (for B37 being (Finite_Sep_Sequence of B34) holds (for B38 being (FinSequence of ( REAL )) holds (for B39 being (FinSequence of ( ExtREAL )) holds ((B35 is_simple_func_in B34 & ( dom B35 ) <> ( {} ) & B35 is  nonnegative & ( dom B35 ) = ( union ( rng B37 ) ) & ( dom B37 ) = ( dom B38 ) & (for B40 being Nat holds (B40 in ( dom B37 ) implies (for B41 being set holds (B41 in ( B37 . B40 ) implies ( B35 . B41 ) = ( B38 . B40 ))))) & ( dom B39 ) = ( dom B37 ) & (for B42 being Nat holds (B42 in ( dom B39 ) implies ( B39 . B42 ) = ( ( R_EAL ( B38 . B42 ) ) * ( ( B36 * B37 ) . B42 ) )))) implies ( Integral (B36 , B35) ) = ( Sum B39 )))))))))
proof
let C29 being non  empty set;
let C30 being (SigmaField of C29);
let C31 being (PartFunc of C29 , ( REAL ));
let C32 being (sigma_Measure of C30);
let C33 being (Finite_Sep_Sequence of C30);
let C34 being (FinSequence of ( REAL ));
let C35 being (FinSequence of ( ExtREAL ));
assume that
L78: C31 is_simple_func_in C30
and
L79: ( dom C31 ) <> ( {} )
and
L80: C31 is  nonnegative
and
L81: (( dom C31 ) = ( union ( rng C33 ) ) & ( dom C33 ) = ( dom C34 ) & (for B43 being Nat holds (B43 in ( dom C33 ) implies (for B44 being set holds (B44 in ( C33 . B43 ) implies ( C31 . B44 ) = ( C34 . B43 ))))))
and
L82: ( dom C35 ) = ( dom C33 )
and
L83: (for B45 being Nat holds (B45 in ( dom C35 ) implies ( C35 . B45 ) = ( ( R_EAL ( C34 . B45 ) ) * ( ( C32 * C33 ) . B45 ) )));
L84: (( R_EAL C31 ) is_simple_func_in C30 & (for B46 being set holds (B46 in ( dom ( R_EAL C31 ) ) implies ( 0 ) <= ( ( R_EAL C31 ) . B46 )))) by L78 , L80 , MESFUNC6:49 , MESFUNC6:51;
reconsider D3 = C34 as (FinSequence of ( ExtREAL )) by MESFUNC3:11;
L85: C33 , D3 are_Re-presentation_of ( R_EAL C31 ) by L81 , MESFUNC3:def 1;
L86: (for B47 being Nat holds (B47 in ( dom C35 ) implies ( C35 . B47 ) = ( ( D3 . B47 ) * ( ( C32 * C33 ) . B47 ) )))
proof
let C36 being Nat;
assume L87: C36 in ( dom C35 );
L88: ( C35 . C36 ) = ( ( R_EAL ( C34 . C36 ) ) * ( ( C32 * C33 ) . C36 ) ) by L87 , L83;
thus L89: thesis by L88;
end;
thus L90: ( Integral (C32 , C31) ) = ( integral' (C32 , ( R_EAL C31 )) ) by L78 , L80 , MESFUNC6:83
.= ( integral (C29 , C30 , C32 , ( R_EAL C31 )) ) by L79 , MESFUNC5:def 14
.= ( Sum C35 ) by L79 , L82 , L84 , L85 , L86 , MESFUNC4:3;
end;
L91: (for B48 being non  empty set holds (for B49 being (SigmaField of B48) holds (for B50 being (PartFunc of B48 , ( REAL )) holds (B50 is_simple_func_in B49 implies (ex B51 being (Finite_Sep_Sequence of B49) st (ex B52 being (FinSequence of ( REAL )) st (( dom B50 ) = ( union ( rng B51 ) ) & ( dom B51 ) = ( dom B52 ) & (for B53 being Nat holds (B53 in ( dom B51 ) implies (for B54 being set holds (B54 in ( B51 . B53 ) implies ( B50 . B54 ) = ( B52 . B53 ))))))))))))
proof
let C37 being non  empty set;
let C38 being (SigmaField of C37);
let C39 being (PartFunc of C37 , ( REAL ));
assume L92: C39 is_simple_func_in C38;
consider C40 being (Finite_Sep_Sequence of C38) such that L93: ( dom C39 ) = ( union ( rng C40 ) ) and L94: (for B55 being Nat holds (for B56 , B57 being (Element of C37) holds ((B55 in ( dom C40 ) & B56 in ( C40 . B55 ) & B57 in ( C40 . B55 )) implies ( C39 . B56 ) = ( C39 . B57 )))) by L92 , MESFUNC6:def 2;
defpred S1[ Nat , (Element of ( REAL )) ] means (for B58 being set holds (B58 in ( C40 . $1 ) implies $2 = ( C39 . B58 )));
L95: (for B59 being Nat holds (B59 in ( Seg ( len C40 ) ) implies (ex B60 being (Element of ( REAL )) st S1[ B59 , B60 ])))
proof
let C41 being Nat;
assume L96: C41 in ( Seg ( len C40 ) );
L97: C41 in ( dom C40 ) by L96 , FINSEQ_1:def 3;
L98: ( C40 . C41 ) in ( rng C40 ) by L97 , FUNCT_1:3;
per cases ;
suppose L99: ( C40 . C41 ) = ( {} );

take ( 0 );
thus L100: thesis by L99;
end;
suppose L101: ( C40 . C41 ) <> ( {} );

consider C42 being set such that L102: C42 in ( C40 . C41 ) by L101 , XBOOLE_0:def 1;
take ( C39 . C42 );
L103: ( rng C40 ) c= ( bool C37 ) by XBOOLE_1:1;
thus L104: thesis by L103 , L94 , L97 , L98 , L102;
end;
end;
consider C43 being (FinSequence of ( REAL )) such that L106: (( dom C43 ) = ( Seg ( len C40 ) ) & (for B61 being Nat holds (B61 in ( Seg ( len C40 ) ) implies S1[ B61 , ( C43 . B61 ) ]))) from FINSEQ_1:sch 5(L95);
take C40;
take C43;
L107: (for B62 being Nat holds (B62 in ( dom C40 ) implies (for B63 being set holds (B63 in ( C40 . B62 ) implies ( C43 . B62 ) = ( C39 . B63 )))))
proof
let C44 being Nat;
assume L108: C44 in ( dom C40 );
L109: C44 in ( Seg ( len C40 ) ) by L108 , FINSEQ_1:def 3;
thus L110: thesis by L109 , L106;
end;
thus L111: thesis by L107 , L93 , L106 , FINSEQ_1:def 3;
end;
L112: (for B64 being non  empty set holds (for B65 being (SigmaField of B64) holds (for B66 being (PartFunc of B64 , ( REAL )) holds (B66 is_simple_func_in B65 implies ( rng B66 ) is  real-bounded))))
proof
let C45 being non  empty set;
let C46 being (SigmaField of C45);
let C47 being (PartFunc of C45 , ( REAL ));
assume L113: C47 is_simple_func_in C46;
consider C48 being (Finite_Sep_Sequence of C46), C49 being (FinSequence of ( REAL )) such that L114: ( dom C47 ) = ( union ( rng C48 ) ) and L115: ( dom C48 ) = ( dom C49 ) and L116: (for B67 being Nat holds (B67 in ( dom C48 ) implies (for B68 being set holds (B68 in ( C48 . B67 ) implies ( C47 . B68 ) = ( C49 . B67 ))))) by L113 , L91;
L117: ( rng C47 ) c= ( rng C49 )
proof
let C50 being set;
assume L118: C50 in ( rng C47 );
consider C51 being set such that L119: C51 in ( dom C47 ) and L120: C50 = ( C47 . C51 ) by L118 , FUNCT_1:def 3;
consider C52 being set such that L121: C51 in C52 and L122: C52 in ( rng C48 ) by L114 , L119 , TARSKI:def 4;
consider C53 being set such that L123: C53 in ( dom C48 ) and L124: C52 = ( C48 . C53 ) by L122 , FUNCT_1:def 3;
L125: ( C47 . C51 ) = ( C49 . C53 ) by L116 , L121 , L123 , L124;
thus L126: C50 in ( rng C49 ) by L125 , L115 , L120 , L123 , FUNCT_1:def 3;
end;
thus L127: thesis by L117 , RCOMP_1:10;
end;
L128: (for B69 being non  empty set holds (for B70 being (SigmaField of B69) holds (for B71 being (sigma_Measure of B70) holds (for B72 being (PartFunc of B69 , ( REAL )) holds ((( dom B72 ) <> ( {} ) & ( rng B72 ) is  real-bounded & ( B71 . ( dom B72 ) ) < ( +infty ) & (ex B73 being (Element of B70) st (B73 = ( dom B72 ) & B72 is_measurable_on B73))) implies B72 is_integrable_on B71)))))
proof
let C54 being non  empty set;
let C55 being (SigmaField of C54);
let C56 being (sigma_Measure of C55);
let C57 being (PartFunc of C54 , ( REAL ));
assume that
L129: ( dom C57 ) <> ( {} )
and
L130: ( rng C57 ) is  real-bounded
and
L131: ( C56 . ( dom C57 ) ) < ( +infty )
and
L132: (ex B74 being (Element of C55) st (B74 = ( dom C57 ) & C57 is_measurable_on B74));
consider C58 being (Element of C55) such that L133: C58 = ( dom C57 ) and L134: C57 is_measurable_on C58 by L132;
L135: ( ( dom ( R_EAL C57 ) ) /\ ( dom ( chi (C58 , C54) ) ) ) = ( C58 /\ C54 ) by L133 , FUNCT_3:def 3;
L136: (( chi (C58 , C54) ) is  real-valued & ( ( dom ( R_EAL C57 ) ) /\ ( dom ( chi (C58 , C54) ) ) ) = C58) by L135 , MESFUNC2:28 , XBOOLE_1:28;
L137: ( dom ( ( R_EAL C57 ) (#) ( chi (C58 , C54) ) ) ) = ( ( dom ( R_EAL C57 ) ) /\ ( dom ( chi (C58 , C54) ) ) ) by MESFUNC1:def 5
.= C58 by L135 , XBOOLE_1:28;
L138:
now
let C59 being set;
assume L139: C59 in ( dom C57 );
L140: ( ( ( R_EAL C57 ) (#) ( chi (C58 , C54) ) ) . C59 ) = ( ( ( R_EAL C57 ) . C59 ) * ( ( chi (C58 , C54) ) . C59 ) ) by L139 , L133 , L137 , MESFUNC1:def 5;
L141: ( ( ( R_EAL C57 ) (#) ( chi (C58 , C54) ) ) . C59 ) = ( ( ( R_EAL C57 ) . C59 ) * ( R_EAL 1 ) ) by L140 , L133 , L139 , FUNCT_3:def 3
.= ( C57 . C59 ) by XXREAL_3:81;
thus L142: ( ( ( ( R_EAL C57 ) (#) ( chi (C58 , C54) ) ) | C58 ) . C59 ) = ( C57 . C59 ) by L141 , L137 , RELAT_1:68;
end;
L143: ( R_EAL C57 ) is_measurable_on C58 by L134 , MESFUNC6:def 1;
L144: ( rng ( R_EAL C57 ) ) is non  empty non  empty non  empty non  empty (Subset of ( ExtREAL )) by L129 , RELAT_1:42;
L145: ( dom ( ( ( R_EAL C57 ) (#) ( chi (C58 , C54) ) ) | C58 ) ) = ( dom C57 ) by L133 , L137 , RELAT_1:62;
L146: ( ( ( R_EAL C57 ) (#) ( chi (C58 , C54) ) ) | C58 ) = C57 by L145 , L138 , FUNCT_1:2;
L147: ( chi (C58 , C54) ) is_integrable_on C56 by L131 , L133 , MESFUNC7:24;
L148: ( ( ( R_EAL C57 ) (#) ( chi (C58 , C54) ) ) | C58 ) is_integrable_on C56 by L147 , L130 , L144 , L143 , L136 , MESFUNC7:17;
thus L149: thesis by L148 , L146 , MESFUNC6:def 4;
end;
L150: (for B75 being non  empty set holds (for B76 being (SigmaField of B75) holds (for B77 being (sigma_Measure of B76) holds (for B78 being (PartFunc of B75 , ( REAL )) holds ((B78 is_simple_func_in B76 & ( dom B78 ) <> ( {} ) & ( dom B78 ) in B76 & ( B77 . ( dom B78 ) ) < ( +infty )) implies B78 is_integrable_on B77)))))
proof
let C60 being non  empty set;
let C61 being (SigmaField of C60);
let C62 being (sigma_Measure of C61);
let C63 being (PartFunc of C60 , ( REAL ));
assume L151: C63 is_simple_func_in C61;
L152: ( rng C63 ) is  real-bounded by L151 , L112;
thus L153: thesis by L152 , L151 , L128 , MESFUNC6:50;
end;
begin
notation
let C64 being non  empty set;
synonym Trivial-SigmaField C64 for bool C64;
end;
definition
let C65 being non  empty set;
redefine func Trivial-SigmaField C65 -> (SigmaField of C65);

correctness by PROB_1:40;
end;
L156: (for B79 being non  empty  finite set holds (for B80 being (PartFunc of B79 , ( REAL )) holds (ex B81 being (Finite_Sep_Sequence of ( Trivial-SigmaField B79 )) st (( dom B80 ) = ( union ( rng B81 ) ) & ( dom B81 ) = ( dom ( canFS ( dom B80 ) ) ) & (for B82 being Nat holds (B82 in ( dom B81 ) implies ( B81 . B82 ) = { ( ( canFS ( dom B80 ) ) . B82 ) })) & (for B83 being Nat holds (for B84 , B85 being (Element of B79) holds ((B83 in ( dom B81 ) & B84 in ( B81 . B83 ) & B85 in ( B81 . B83 )) implies ( B80 . B84 ) = ( B80 . B85 ))))))))
proof
let C66 being non  empty  finite set;
let C67 being (PartFunc of C66 , ( REAL ));
set D4 = ( Trivial-SigmaField C66 );
set D5 = ( dom C67 );
defpred S2[ Nat , set ] means $2 = { ( ( canFS D5 ) . $1 ) };
set D6 = ( len ( canFS D5 ) );
L157: (for B86 being Nat holds (B86 in ( Seg D6 ) implies (ex B87 being (Element of ( bool C66 )) st S2[ B86 , B87 ])))
proof
let C68 being Nat;
assume L158: C68 in ( Seg D6 );
take { ( ( canFS D5 ) . C68 ) };
L159: C68 in ( dom ( canFS D5 ) ) by L158 , FINSEQ_1:def 3;
L160: ( ( canFS D5 ) . C68 ) in ( rng ( canFS D5 ) ) by L159 , FUNCT_1:3;
L161: ( ( canFS D5 ) . C68 ) in D5 by L160;
thus L162: thesis by L161 , ZFMISC_1:31;
end;
consider C69 being (FinSequence of ( bool C66 )) such that L163: (( dom C69 ) = ( Seg D6 ) & (for B88 being Nat holds (B88 in ( Seg D6 ) implies S2[ B88 , ( C69 . B88 ) ]))) from FINSEQ_1:sch 5(L157);
L164:
now
let C70 , C71 being Nat;
assume that
L165: (C70 in ( dom C69 ) & C71 in ( dom C69 ))
and
L166: C70 <> C71;
L167: (C70 in ( dom ( canFS D5 ) ) & C71 in ( dom ( canFS D5 ) )) by L163 , L165 , FINSEQ_1:def 3;
L168: ( ( canFS D5 ) . C70 ) <> ( ( canFS D5 ) . C71 ) by L167 , L166 , FUNCT_1:def 4;
L169: (( C69 . C70 ) = { ( ( canFS D5 ) . C70 ) } & ( C69 . C71 ) = { ( ( canFS D5 ) . C71 ) }) by L163 , L165;
thus L170: ( C69 . C70 ) misses ( C69 . C71 ) by L169 , L168 , ZFMISC_1:11;
end;
reconsider D7 = C69 as (Finite_Sep_Sequence of D4) by L164 , MESFUNC3:4;
L171:
now
let C72 being set;
assume L172: C72 in ( rng ( canFS D5 ) );
consider C73 being set such that L173: C73 in ( dom ( canFS D5 ) ) and L174: C72 = ( ( canFS D5 ) . C73 ) by L172 , FUNCT_1:def 3;
L175: C73 in ( Seg D6 ) by L173 , FINSEQ_1:def 3;
reconsider D8 = C73 as (Element of ( NAT )) by L173;
L176: D8 in ( dom D7 ) by L163 , L173 , FINSEQ_1:def 3;
L177: ( D7 . D8 ) in ( rng D7 ) by L176 , FUNCT_1:def 3;
L178: C72 in { ( ( canFS D5 ) . D8 ) } by L174 , TARSKI:def 1;
L179: C72 in ( D7 . D8 ) by L178 , L163 , L175;
thus L180: C72 in ( union ( rng D7 ) ) by L179 , L177 , TARSKI:def 4;
end;
L181: ( rng ( canFS D5 ) ) c= ( union ( rng D7 ) ) by L171 , TARSKI:def 3;
take D7;
L182: (for B89 being Nat holds (for B90 , B91 being (Element of C66) holds ((B89 in ( dom D7 ) & B90 in ( D7 . B89 ) & B91 in ( D7 . B89 )) implies ( C67 . B90 ) = ( C67 . B91 ))))
proof
let C74 being Nat;
let C75 , C76 being (Element of C66);
assume that
L183: C74 in ( dom D7 )
and
L184: C75 in ( D7 . C74 )
and
L185: C76 in ( D7 . C74 );
L186: ( D7 . C74 ) = { ( ( canFS D5 ) . C74 ) } by L163 , L183;
thus L187: ( C67 . C75 ) = ( C67 . ( ( canFS D5 ) . C74 ) ) by L186 , L184 , TARSKI:def 1
.= ( C67 . C76 ) by L185 , L186 , TARSKI:def 1;
end;
L188:
now
let C77 being set;
assume L189: C77 in ( union ( rng D7 ) );
consider C78 being set such that L190: C77 in C78 and L191: C78 in ( rng D7 ) by L189 , TARSKI:def 4;
consider C79 being set such that L192: C79 in ( dom D7 ) and L193: C78 = ( D7 . C79 ) by L191 , FUNCT_1:def 3;
reconsider D9 = C79 as (Element of ( NAT )) by L192;
L194: ( D7 . D9 ) = { ( ( canFS D5 ) . D9 ) } by L163 , L192;
L195: C77 = ( ( canFS D5 ) . D9 ) by L194 , L190 , L193 , TARSKI:def 1;
L196: D9 in ( dom ( canFS D5 ) ) by L163 , L192 , FINSEQ_1:def 3;
thus L197: C77 in ( rng ( canFS D5 ) ) by L196 , L195 , FUNCT_1:def 3;
end;
L198: ( union ( rng D7 ) ) c= ( rng ( canFS D5 ) ) by L188 , TARSKI:def 3;
L199: ( union ( rng D7 ) ) = ( rng ( canFS D5 ) ) by L198 , L181 , XBOOLE_0:def 10;
thus L200: thesis by L199 , L163 , L182 , FINSEQ_1:def 3 , FUNCT_2:def 3;
end;
theorem
L201: (for B92 being non  empty  finite set holds (for B93 being (PartFunc of B92 , ( REAL )) holds (ex B94 being (Finite_Sep_Sequence of ( Trivial-SigmaField B92 )) st (ex B95 being (FinSequence of ( dom B93 )) st (( dom B93 ) = ( union ( rng B94 ) ) & ( dom B94 ) = ( dom B95 ) & B95 is  one-to-one & ( rng B95 ) = ( dom B93 ) & ( len B95 ) = ( card ( dom B93 ) ) & (for B96 being Nat holds (B96 in ( dom B94 ) implies ( B94 . B96 ) = { ( B95 . B96 ) })) & (for B97 being Nat holds (for B98 , B99 being (Element of B92) holds ((B97 in ( dom B94 ) & B98 in ( B94 . B97 ) & B99 in ( B94 . B97 )) implies ( B93 . B98 ) = ( B93 . B99 )))))))))
proof
let C80 being non  empty  finite set;
let C81 being (PartFunc of C80 , ( REAL ));
set D10 = ( Trivial-SigmaField C80 );
set D11 = ( dom C81 );
set D12 = ( canFS D11 );
L202: ( len D12 ) = ( card ( dom C81 ) ) by UPROOTS:3;
L203: ((ex B100 being (Finite_Sep_Sequence of D10) st (( dom C81 ) = ( union ( rng B100 ) ) & ( dom B100 ) = ( dom ( canFS D11 ) ) & (for B101 being Nat holds (B101 in ( dom B100 ) implies ( B100 . B101 ) = { ( ( canFS D11 ) . B101 ) })) & (for B102 being Nat holds (for B103 , B104 being (Element of C80) holds ((B102 in ( dom B100 ) & B103 in ( B100 . B102 ) & B104 in ( B100 . B102 )) implies ( C81 . B103 ) = ( C81 . B104 )))))) & ( rng D12 ) = ( dom C81 )) by L156 , FUNCT_2:def 3;
thus L204: thesis by L203 , L202;
end;
theorem
L205: (for B105 being non  empty  finite set holds (for B106 being (PartFunc of B105 , ( REAL )) holds (B106 is_simple_func_in ( Trivial-SigmaField B105 ) & ( dom B106 ) is (Element of ( Trivial-SigmaField B105 )))))
proof
let C82 being non  empty  finite set;
let C83 being (PartFunc of C82 , ( REAL ));
set D13 = ( Trivial-SigmaField C82 );
set D14 = ( dom C83 );
L206: (ex B107 being (Finite_Sep_Sequence of D13) st (( dom C83 ) = ( union ( rng B107 ) ) & ( dom B107 ) = ( dom ( canFS D14 ) ) & (for B108 being Nat holds (B108 in ( dom B107 ) implies ( B107 . B108 ) = { ( ( canFS D14 ) . B108 ) })) & (for B109 being Nat holds (for B110 , B111 being (Element of C82) holds ((B109 in ( dom B107 ) & B110 in ( B107 . B109 ) & B111 in ( B107 . B109 )) implies ( C83 . B110 ) = ( C83 . B111 )))))) by L156;
thus L207: thesis by L206 , MESFUNC6:def 2;
end;
theorem
L208: (for B112 being non  empty  finite set holds (for B113 being (sigma_Measure of ( Trivial-SigmaField B112 )) holds (for B114 being (PartFunc of B112 , ( REAL )) holds ((( dom B114 ) <> ( {} ) & ( B113 . ( dom B114 ) ) < ( +infty )) implies B114 is_integrable_on B113)))) by L150 , L205;
L209: (for B115 being non  empty set holds (for B116 being (SigmaField of B115) holds (for B117 being (sigma_Measure of B116) holds (for B118 , B119 being set holds ((B118 in B116 & B119 in B116 & B118 c= B119 & ( B117 . B119 ) < ( +infty )) implies ( B117 . B118 ) in ( REAL ))))))
proof
let C84 being non  empty set;
let C85 being (SigmaField of C84);
let C86 being (sigma_Measure of C85);
let C87 , C88 being set;
assume L210: (C87 in C85 & C88 in C85 & C87 c= C88 & ( C86 . C88 ) < ( +infty ));
L211: (( C86 . C87 ) <> ( -infty ) & ( C86 . C87 ) <> ( +infty )) by L210 , MEASURE1:31 , MEASURE1:def 2;
thus L212: thesis by L211 , XXREAL_0:14;
end;
L213: (for B120 being non  empty  finite set holds (for B121 being (PartFunc of B120 , ( REAL )) holds ( B121 * ( canFS ( dom B121 ) ) ) is (FinSequence of ( REAL ))))
proof
let C89 being non  empty  finite set;
let C90 being (PartFunc of C89 , ( REAL ));
L214: ( rng ( canFS ( dom C90 ) ) ) c= ( dom C90 );
L215: ( C90 * ( canFS ( dom C90 ) ) ) is FinSequence by L214 , FINSEQ_1:16;
L216: ( rng ( C90 * ( canFS ( dom C90 ) ) ) ) c= ( REAL );
thus L217: ( C90 * ( canFS ( dom C90 ) ) ) is (FinSequence of ( REAL )) by L216 , L215 , FINSEQ_1:def 4;
end;
L218: (for B122 being non  empty  finite set holds (for B123 being (PartFunc of B122 , ( REAL )) holds ( dom ( B123 * ( canFS ( dom B123 ) ) ) ) = ( dom ( canFS ( dom B123 ) ) )))
proof
let C91 being non  empty  finite set;
let C92 being (PartFunc of C91 , ( REAL ));
L219: ( rng ( canFS ( dom C92 ) ) ) c= ( dom C92 );
thus L220: ( dom ( C92 * ( canFS ( dom C92 ) ) ) ) = ( dom ( canFS ( dom C92 ) ) ) by L219 , RELAT_1:27;
end;
theorem
L221: (for B124 being non  empty  finite set holds (for B125 being (PartFunc of B124 , ( REAL )) holds (ex B126 being (Element of ( Trivial-SigmaField B124 )) st (( dom B125 ) = B126 & B125 is_measurable_on B126))))
proof
let C93 being non  empty  finite set;
let C94 being (PartFunc of C93 , ( REAL ));
set D15 = ( Trivial-SigmaField C93 );
reconsider D16 = ( dom C94 ) as (Element of D15);
take D16;
thus L222: thesis by L205 , MESFUNC6:50;
end;
L223: (for B127 being non  empty  finite set holds (for B128 being (sigma_Measure of ( Trivial-SigmaField B127 )) holds (for B129 being (Function of B127 , ( REAL )) holds (( B128 . B127 ) < ( +infty ) implies (ex B130 being (FinSequence of ( ExtREAL )) st (( len B130 ) = ( card B127 ) & (for B131 being Nat holds (B131 in ( dom B130 ) implies ( B130 . B131 ) = ( ( R_EAL ( B129 . ( ( canFS B127 ) . B131 ) ) ) * ( B128 . { ( ( canFS B127 ) . B131 ) } ) ))) & ( Integral (B128 , B129) ) = ( Sum B130 )))))))
proof
let C95 being non  empty  finite set;
let C96 being (sigma_Measure of ( Trivial-SigmaField C95 ));
let C97 being (Function of C95 , ( REAL ));
set D17 = ( max- C97 );
set D18 = ( dom D17 );
reconsider D19 = ( D17 * ( canFS D18 ) ) as (FinSequence of ( REAL )) by L213;
set D20 = ( max+ C97 );
set D21 = ( dom D20 );
reconsider D22 = ( D20 * ( canFS D21 ) ) as (FinSequence of ( REAL )) by L213;
set D23 = ( Trivial-SigmaField C95 );
set D24 = ( dom C97 );
consider C98 being (Finite_Sep_Sequence of D23) such that L224: ( dom C97 ) = ( union ( rng C98 ) ) and L225: ( dom C98 ) = ( dom ( canFS D24 ) ) and L226: (for B132 being Nat holds (B132 in ( dom C98 ) implies ( C98 . B132 ) = { ( ( canFS D24 ) . B132 ) })) and L227: (for B133 being Nat holds (for B134 , B135 being (Element of C95) holds ((B133 in ( dom C98 ) & B134 in ( C98 . B133 ) & B135 in ( C98 . B133 )) implies ( C97 . B134 ) = ( C97 . B135 )))) by L156;
set D25 = ( len C98 );
consider C99 being (Finite_Sep_Sequence of D23) such that L228: ( dom D20 ) = ( union ( rng C99 ) ) and L229: ( dom C99 ) = ( dom ( canFS D21 ) ) and L230: (for B136 being Nat holds (B136 in ( dom C99 ) implies ( C99 . B136 ) = { ( ( canFS D21 ) . B136 ) })) and L231: (for B137 being Nat holds (for B138 , B139 being (Element of C95) holds ((B137 in ( dom C99 ) & B138 in ( C99 . B137 ) & B139 in ( C99 . B137 )) implies ( D20 . B138 ) = ( D20 . B139 )))) by L156;
defpred S3[ Nat , set ] means $2 = ( ( R_EAL ( D22 . $1 ) ) * ( ( C96 * C99 ) . $1 ) );
L232: (for B140 being Nat holds (B140 in ( Seg D25 ) implies (ex B141 being (Element of ( ExtREAL )) st S3[ B140 , B141 ])));
consider C100 being (FinSequence of ( ExtREAL )) such that L233: (( dom C100 ) = ( Seg D25 ) & (for B142 being Nat holds (B142 in ( Seg D25 ) implies S3[ B142 , ( C100 . B142 ) ]))) from FINSEQ_1:sch 5(L232);
L234: ( dom C99 ) = ( dom D22 ) by L229 , L218;
L235: (for B143 being Nat holds (B143 in ( dom C99 ) implies (for B144 being set holds (B144 in ( C99 . B143 ) implies ( D20 . B144 ) = ( D22 . B143 )))))
proof
let C101 being Nat;
assume that
L236: C101 in ( dom C99 );
let C102 being set;
assume L237: C102 in ( C99 . C101 );
L238: C102 in { ( ( canFS D21 ) . C101 ) } by L237 , L230 , L236;
L239: C102 = ( ( canFS D21 ) . C101 ) by L238 , TARSKI:def 1;
thus L240: ( D20 . C102 ) = ( D22 . C101 ) by L239 , L234 , L236 , FUNCT_1:12;
end;
reconsider D26 = ( C97 * ( canFS D24 ) ) as (FinSequence of ( REAL )) by L213;
L241: ( ( R_EAL ( - 1 ) ) * ( Integral (C96 , D17) ) ) = ( ( - ( R_EAL 1 ) ) * ( Integral (C96 , D17) ) ) by SUPINF_2:2
.= ( - ( ( R_EAL 1 ) * ( Integral (C96 , D17) ) ) ) by XXREAL_3:92
.= ( - ( Integral (C96 , D17) ) ) by XXREAL_3:81;
defpred S4[ Nat , set ] means $2 = ( ( R_EAL ( D26 . $1 ) ) * ( ( C96 * C98 ) . $1 ) );
L242: (for B145 being Nat holds (B145 in ( Seg D25 ) implies (ex B146 being (Element of ( ExtREAL )) st S4[ B145 , B146 ])));
consider C103 being (FinSequence of ( ExtREAL )) such that L243: (( dom C103 ) = ( Seg D25 ) & (for B147 being Nat holds (B147 in ( Seg D25 ) implies S4[ B147 , ( C103 . B147 ) ]))) from FINSEQ_1:sch 5(L242);
assume L244: ( C96 . C95 ) < ( +infty );
L245: (for B148 being Nat holds (B148 in ( dom ( canFS C95 ) ) implies ( C96 . { ( ( canFS C95 ) . B148 ) } ) in ( REAL )))
proof
let C104 being Nat;
assume L246: C104 in ( dom ( canFS C95 ) );
L247: ( ( canFS C95 ) . C104 ) in ( rng ( canFS C95 ) ) by L246 , FUNCT_1:3;
L248: { ( ( canFS C95 ) . C104 ) } c= C95 by L247 , ZFMISC_1:31;
L249: C95 in D23 by MEASURE1:7;
thus L250: ( C96 . { ( ( canFS C95 ) . C104 ) } ) in ( REAL ) by L249 , L244 , L248 , L209;
end;
L251: ( dom C97 ) = C95 by FUNCT_2:def 1;
L252: ( dom D17 ) = C95 by L251 , RFUNCT_3:def 11;
L253: D17 is_integrable_on C96 by L252 , L244 , L150 , L205;
L254: ( dom C103 ) = ( dom C98 ) by L243 , FINSEQ_1:def 3;
L255: (for B149 being Nat holds (B149 in ( dom C103 ) implies ( C103 . B149 ) = ( ( R_EAL ( C97 . ( ( canFS C95 ) . B149 ) ) ) * ( C96 . { ( ( canFS C95 ) . B149 ) } ) )))
proof
let C105 being Nat;
assume L256: C105 in ( dom C103 );
L257: ( ( C96 * C98 ) . C105 ) = ( C96 . ( C98 . C105 ) ) by L256 , L254 , FUNCT_1:13
.= ( C96 . { ( ( canFS C95 ) . C105 ) } ) by L226 , L251 , L254 , L256;
L258: ( C97 . ( ( canFS D24 ) . C105 ) ) = ( D26 . C105 ) by L225 , L254 , L256 , FUNCT_1:13;
thus L259: ( C103 . C105 ) = ( ( R_EAL ( D26 . C105 ) ) * ( ( C96 * C98 ) . C105 ) ) by L243 , L256
.= ( ( R_EAL ( C97 . ( ( canFS C95 ) . C105 ) ) ) * ( C96 . { ( ( canFS C95 ) . C105 ) } ) ) by L258 , L257 , FUNCT_2:def 1;
end;
L260: C103 is (FinSequence of ( REAL ))
proof
let C106 being set;
assume L261: C106 in ( rng C103 );
consider C107 being (Element of ( NAT )) such that L262: C107 in ( dom C103 ) and L263: C106 = ( C103 . C107 ) by L261 , PARTFUN1:3;
reconsider D27 = ( C96 . { ( ( canFS C95 ) . C107 ) } ) as (Element of ( REAL )) by L225 , L251 , L254 , L245 , L262;
reconsider D28 = ( C97 . ( ( canFS C95 ) . C107 ) ) as (Element of ( REAL ));
L264: ( C103 . C107 ) = ( ( R_EAL ( C97 . ( ( canFS C95 ) . C107 ) ) ) * ( C96 . { ( ( canFS C95 ) . C107 ) } ) ) by L255 , L262
.= ( D28 * D27 ) by EXTREAL1:1;
thus L265: C106 in ( REAL ) by L264 , L263;
end;
reconsider D29 = C103 as (FinSequence of ( REAL )) by L260;
take C103;
L266: (D17 is_simple_func_in D23 & D17 is  nonnegative) by L205 , MESFUNC6:61;
L267: ( dom C99 ) = ( dom C98 ) by L225 , L229 , RFUNCT_3:def 10;
L268: ( dom C100 ) = ( dom C99 ) by L267 , L233 , FINSEQ_1:def 3;
L269: D21 = D24 by RFUNCT_3:def 10;
L270: (for B150 being Nat holds (B150 in ( dom C100 ) implies ( C100 . B150 ) = ( ( R_EAL ( D20 . ( ( canFS C95 ) . B150 ) ) ) * ( C96 . { ( ( canFS C95 ) . B150 ) } ) )))
proof
let C108 being Nat;
assume L271: C108 in ( dom C100 );
L272: ( ( C96 * C99 ) . C108 ) = ( C96 . ( C99 . C108 ) ) by L271 , L268 , FUNCT_1:13
.= ( C96 . { ( ( canFS C95 ) . C108 ) } ) by L251 , L230 , L269 , L268 , L271;
L273: ( D20 . ( ( canFS D24 ) . C108 ) ) = ( D22 . C108 ) by L229 , L269 , L268 , L271 , FUNCT_1:13;
thus L274: ( C100 . C108 ) = ( ( R_EAL ( D22 . C108 ) ) * ( ( C96 * C99 ) . C108 ) ) by L233 , L271
.= ( ( R_EAL ( D20 . ( ( canFS C95 ) . C108 ) ) ) * ( C96 . { ( ( canFS C95 ) . C108 ) } ) ) by L273 , L272 , FUNCT_2:def 1;
end;
L275:
now
let C109 being set;
assume L276: C109 in ( rng C100 );
consider C110 being (Element of ( NAT )) such that L277: C110 in ( dom C100 ) and L278: C109 = ( C100 . C110 ) by L276 , PARTFUN1:3;
reconsider D30 = ( C96 . { ( ( canFS C95 ) . C110 ) } ) as (Element of ( REAL )) by L251 , L229 , L269 , L268 , L245 , L277;
reconsider D31 = ( D20 . ( ( canFS C95 ) . C110 ) ) as (Element of ( REAL ));
L279: ( C100 . C110 ) = ( ( R_EAL ( D20 . ( ( canFS C95 ) . C110 ) ) ) * ( C96 . { ( ( canFS C95 ) . C110 ) } ) ) by L270 , L277
.= ( D31 * D30 ) by EXTREAL1:1;
thus L280: C109 in ( REAL ) by L279 , L278;
end;
L281: ( rng C100 ) c= ( REAL ) by L275 , TARSKI:def 3;
reconsider D32 = C100 as (FinSequence of ( REAL )) by L281 , FINSEQ_1:def 4;
consider C111 being (Finite_Sep_Sequence of D23) such that L282: ( dom D17 ) = ( union ( rng C111 ) ) and L283: ( dom C111 ) = ( dom ( canFS D18 ) ) and L284: (for B151 being Nat holds (B151 in ( dom C111 ) implies ( C111 . B151 ) = { ( ( canFS D18 ) . B151 ) })) and L285: (for B152 being Nat holds (for B153 , B154 being (Element of C95) holds ((B152 in ( dom C111 ) & B153 in ( C111 . B152 ) & B154 in ( C111 . B152 )) implies ( D17 . B153 ) = ( D17 . B154 )))) by L156;
defpred S5[ Nat , set ] means $2 = ( ( R_EAL ( D19 . $1 ) ) * ( ( C96 * C111 ) . $1 ) );
L286: (for B155 being Nat holds (B155 in ( Seg D25 ) implies (ex B156 being (Element of ( ExtREAL )) st S5[ B155 , B156 ])));
consider C112 being (FinSequence of ( ExtREAL )) such that L287: (( dom C112 ) = ( Seg D25 ) & (for B157 being Nat holds (B157 in ( Seg D25 ) implies S5[ B157 , ( C112 . B157 ) ]))) from FINSEQ_1:sch 5(L286);
L288: ( dom C111 ) = ( dom C98 ) by L225 , L283 , RFUNCT_3:def 11;
L289: ( dom C112 ) = ( dom C111 ) by L288 , L287 , FINSEQ_1:def 3;
L290: D18 = D24 by RFUNCT_3:def 11;
L291: (for B158 being Nat holds (B158 in ( dom C112 ) implies ( C112 . B158 ) = ( ( R_EAL ( D17 . ( ( canFS C95 ) . B158 ) ) ) * ( C96 . { ( ( canFS C95 ) . B158 ) } ) )))
proof
let C113 being Nat;
assume L292: C113 in ( dom C112 );
L293: ( ( C96 * C111 ) . C113 ) = ( C96 . ( C111 . C113 ) ) by L292 , L289 , FUNCT_1:13
.= ( C96 . { ( ( canFS C95 ) . C113 ) } ) by L251 , L284 , L290 , L289 , L292;
thus L294: ( C112 . C113 ) = ( ( R_EAL ( D19 . C113 ) ) * ( ( C96 * C111 ) . C113 ) ) by L287 , L292
.= ( ( R_EAL ( D17 . ( ( canFS C95 ) . C113 ) ) ) * ( C96 . { ( ( canFS C95 ) . C113 ) } ) ) by L283 , L289 , L252 , L292 , L293 , FUNCT_1:13;
end;
L295:
now
let C114 being set;
assume L296: C114 in ( rng C112 );
consider C115 being (Element of ( NAT )) such that L297: C115 in ( dom C112 ) and L298: C114 = ( C112 . C115 ) by L296 , PARTFUN1:3;
reconsider D33 = ( C96 . { ( ( canFS C95 ) . C115 ) } ) as (Element of ( REAL )) by L251 , L283 , L290 , L289 , L245 , L297;
reconsider D34 = ( D17 . ( ( canFS C95 ) . C115 ) ) as (Element of ( REAL ));
L299: ( C112 . C115 ) = ( ( R_EAL ( D17 . ( ( canFS C95 ) . C115 ) ) ) * ( C96 . { ( ( canFS C95 ) . C115 ) } ) ) by L291 , L297
.= ( D34 * D33 ) by EXTREAL1:1;
thus L300: C114 in ( REAL ) by L299 , L298;
end;
L301: ( rng C112 ) c= ( REAL ) by L295 , TARSKI:def 3;
reconsider D35 = C112 as (FinSequence of ( REAL )) by L301 , FINSEQ_1:def 4;
L302: (( Sum C100 ) = ( Sum D32 ) & ( Sum C112 ) = ( Sum D35 )) by MESFUNC3:2;
L303: ( dom D20 ) = C95 by L251 , RFUNCT_3:def 10;
L304: D20 is_integrable_on C96 by L303 , L244 , L150 , L205;
L305: ( dom D17 ) = ( dom C97 ) by RFUNCT_3:def 11;
L306: D17 is (Function of C95 , ( REAL )) by L305 , L251 , FUNCT_2:def 1;
L307: ( C96 . ( dom ( ( - 1 ) (#) D17 ) ) ) < ( +infty ) by L306 , L244 , FUNCT_2:def 1;
L308: ( ( - 1 ) (#) D17 ) is_integrable_on C96 by L307 , L306 , L150 , L205;
consider C116 being (Element of D23) such that L309: C116 = ( ( dom D20 ) /\ ( dom ( ( - 1 ) (#) D17 ) ) ) and L310: ( Integral (C96 , ( D20 + ( ( - 1 ) (#) D17 ) )) ) = ( ( Integral (C96 , ( D20 | C116 )) ) + ( Integral (C96 , ( ( ( - 1 ) (#) D17 ) | C116 )) ) ) by L308 , L304 , MESFUNC6:101;
L311: ( dom D20 ) = ( dom C97 ) by RFUNCT_3:def 10;
L312: D20 is (Function of C95 , ( REAL )) by L311 , L251 , FUNCT_2:def 1;
L313: ( dom ( ( - 1 ) (#) D17 ) ) = ( dom D17 ) by VALUED_1:def 5
.= C95 by L305 , FUNCT_2:def 1;
L314: C116 = ( C95 /\ C95 ) by L313 , L311 , L309 , FUNCT_2:def 1
.= C95;
L315: ( ( ( - 1 ) (#) D17 ) | C116 ) = ( ( - 1 ) (#) D17 ) by L314 , L306 , FUNCT_2:33;
L316: ( Integral (C96 , ( D20 + ( ( - 1 ) (#) D17 ) )) ) = ( ( Integral (C96 , D20) ) + ( Integral (C96 , ( ( - 1 ) (#) D17 )) ) ) by L315 , L312 , L310 , L314 , FUNCT_2:33
.= ( ( Integral (C96 , D20) ) + ( - ( Integral (C96 , D17) ) ) ) by L253 , L241 , MESFUNC6:102;
L317: ( dom C111 ) = ( dom D19 ) by L283 , L218;
L318: (for B159 being Nat holds (B159 in ( dom C111 ) implies (for B160 being set holds (B160 in ( C111 . B159 ) implies ( D17 . B160 ) = ( D19 . B159 )))))
proof
let C117 being Nat;
assume that
L319: C117 in ( dom C111 );
let C118 being set;
assume L320: C118 in ( C111 . C117 );
L321: C118 in { ( ( canFS D18 ) . C117 ) } by L320 , L284 , L319;
L322: C118 = ( ( canFS D18 ) . C117 ) by L321 , TARSKI:def 1;
thus L323: ( D17 . C118 ) = ( D19 . C117 ) by L322 , L317 , L319 , FUNCT_1:12;
end;
L324: (D20 is_simple_func_in D23 & D20 is  nonnegative) by L205 , MESFUNC6:61;
L325: ( Integral (C96 , D20) ) = ( Sum C100 ) by L324 , L311 , L228 , L233 , L268 , L234 , L235 , L77;
L326: ( dom ( canFS D24 ) ) = ( Seg ( len C98 ) ) by L225 , FINSEQ_1:def 3;
L327: ( len C98 ) = ( len ( canFS D24 ) ) by L326 , FINSEQ_1:def 3;
L328: ( len C103 ) = D25 by L243 , FINSEQ_1:def 3;
L329: ( dom ( D32 - D35 ) ) = ( ( dom D32 ) /\ ( dom D35 ) ) by VALUED_1:12
.= ( dom D29 ) by L267 , L288 , L243 , L268 , L289 , FINSEQ_1:def 3;
L330: ( len D32 ) = D25 by L233 , FINSEQ_1:def 3
.= ( len D35 ) by L287 , FINSEQ_1:def 3;
L331: (for B161 being Nat holds (B161 in ( dom D29 ) implies ( ( D32 - D35 ) . B161 ) = ( D29 . B161 )))
proof
let C119 being Nat;
L332: C97 = ( D20 - D17 ) by MESFUNC6:42;
assume L333: C119 in ( dom D29 );
reconsider D36 = ( C96 . { ( ( canFS C95 ) . C119 ) } ) as (Element of ( REAL )) by L333 , L225 , L251 , L254 , L245;
L334: ( D35 . C119 ) = ( ( R_EAL ( D17 . ( ( canFS C95 ) . C119 ) ) ) * ( C96 . { ( ( canFS C95 ) . C119 ) } ) ) by L243 , L287 , L291 , L333
.= ( ( D17 . ( ( canFS C95 ) . C119 ) ) * D36 ) by EXTREAL1:1;
L335: C119 in ( dom ( canFS C95 ) ) by L225 , L254 , L333 , FUNCT_2:def 1;
L336: ( ( canFS C95 ) . C119 ) in ( rng ( canFS C95 ) ) by L335 , FUNCT_1:3;
L337: ( ( canFS C95 ) . C119 ) in C95 by L336;
L338: ( ( canFS C95 ) . C119 ) in ( dom C97 ) by L337 , FUNCT_2:def 1;
L339: C119 in ( ( dom D32 ) /\ ( dom D35 ) ) by L243 , L233 , L287 , L333;
L340: C119 in ( dom ( D32 - D35 ) ) by L339 , VALUED_1:12;
L341: ( D32 . C119 ) = ( ( R_EAL ( D20 . ( ( canFS C95 ) . C119 ) ) ) * ( C96 . { ( ( canFS C95 ) . C119 ) } ) ) by L243 , L233 , L270 , L333
.= ( ( D20 . ( ( canFS C95 ) . C119 ) ) * D36 ) by EXTREAL1:1;
thus L342: ( ( D32 - D35 ) . C119 ) = ( ( ( D20 . ( ( canFS C95 ) . C119 ) ) * D36 ) - ( ( D17 . ( ( canFS C95 ) . C119 ) ) * D36 ) ) by L341 , L340 , L334 , VALUED_1:13
.= ( ( ( D20 . ( ( canFS C95 ) . C119 ) ) - ( D17 . ( ( canFS C95 ) . C119 ) ) ) * D36 )
.= ( ( C97 . ( ( canFS C95 ) . C119 ) ) * D36 ) by L338 , L332 , VALUED_1:13
.= ( ( R_EAL ( C97 . ( ( canFS C95 ) . C119 ) ) ) * ( C96 . { ( ( canFS C95 ) . C119 ) } ) ) by EXTREAL1:1
.= ( D29 . C119 ) by L255 , L333;
end;
L343: ( Integral (C96 , C97) ) = ( Integral (C96 , ( D20 - D17 )) ) by MESFUNC6:42
.= ( ( Sum C100 ) - ( Sum C112 ) ) by L305 , L282 , L266 , L287 , L289 , L325 , L316 , L317 , L318 , L77
.= ( ( Sum D32 ) - ( Sum D35 ) ) by L302 , SUPINF_2:3
.= ( Sum ( D32 - D35 ) ) by L330 , INTEGRA5:2
.= ( Sum C103 ) by L329 , L331 , FINSEQ_1:13 , MESFUNC3:2;
thus L344: thesis by L343 , L251 , L255 , L328 , L327 , UPROOTS:3;
end;
theorem
L345: (for B162 being non  empty  finite set holds (for B163 being (sigma_Measure of ( Trivial-SigmaField B162 )) holds (for B164 being (Function of B162 , ( REAL )) holds (for B165 being (FinSequence of ( ExtREAL )) holds (for B166 being (FinSequence of B162) holds ((B166 is  one-to-one & ( rng B166 ) = B162) implies (ex B167 being (Finite_Sep_Sequence of ( Trivial-SigmaField B162 )) st (ex B168 being (FinSequence of ( REAL )) st (( dom B164 ) = ( union ( rng B167 ) ) & ( dom B168 ) = ( dom B166 ) & ( dom B167 ) = ( dom B166 ) & (for B169 being Nat holds (B169 in ( dom B167 ) implies ( B167 . B169 ) = { ( B166 . B169 ) })) & (for B170 being Nat holds (for B171 , B172 being (Element of B162) holds ((B170 in ( dom B167 ) & B171 in ( B167 . B170 ) & B172 in ( B167 . B170 )) implies ( B164 . B171 ) = ( B164 . B172 )))))))))))))
proof
let C120 being non  empty  finite set;
let C121 being (sigma_Measure of ( Trivial-SigmaField C120 ));
let C122 being (Function of C120 , ( REAL ));
let C123 being (FinSequence of ( ExtREAL ));
let C124 being (FinSequence of C120);
assume that
L346: C124 is  one-to-one
and
L347: ( rng C124 ) = C120;
defpred S6[ Nat , set ] means $2 = ( C122 . ( C124 . $1 ) );
set D37 = ( Trivial-SigmaField C120 );
set D38 = ( len C124 );
defpred S7[ Nat , set ] means $2 = { ( C124 . $1 ) };
L348: (for B173 being Nat holds (B173 in ( Seg D38 ) implies (ex B174 being (Element of ( bool C120 )) st S7[ B173 , B174 ])))
proof
let C125 being Nat;
assume L349: C125 in ( Seg D38 );
take { ( C124 . C125 ) };
L350: C125 in ( dom C124 ) by L349 , FINSEQ_1:def 3;
L351: ( C124 . C125 ) in ( rng C124 ) by L350 , FUNCT_1:3;
thus L352: thesis by L351 , ZFMISC_1:31;
end;
consider C126 being (FinSequence of ( bool C120 )) such that L353: (( dom C126 ) = ( Seg D38 ) & (for B175 being Nat holds (B175 in ( Seg D38 ) implies S7[ B175 , ( C126 . B175 ) ]))) from FINSEQ_1:sch 5(L348);
L354:
now
let C127 , C128 being Nat;
assume that
L355: (C127 in ( dom C126 ) & C128 in ( dom C126 ))
and
L356: C127 <> C128;
L357: (C127 in ( dom C124 ) & C128 in ( dom C124 )) by L353 , L355 , FINSEQ_1:def 3;
L358: ( C124 . C127 ) <> ( C124 . C128 ) by L357 , L346 , L356 , FUNCT_1:def 4;
L359: (( C126 . C127 ) = { ( C124 . C127 ) } & ( C126 . C128 ) = { ( C124 . C128 ) }) by L353 , L355;
thus L360: ( C126 . C127 ) misses ( C126 . C128 ) by L359 , L358 , ZFMISC_1:11;
end;
L361: ( dom C126 ) = ( dom C124 ) by L353 , FINSEQ_1:def 3;
reconsider D39 = C126 as (Finite_Sep_Sequence of D37) by L354 , MESFUNC3:4;
L362: ( union ( rng D39 ) ) = ( rng C124 )
proof
L363:
now
let C129 being set;
assume L364: C129 in ( union ( rng D39 ) );
consider C130 being set such that L365: C129 in C130 and L366: C130 in ( rng D39 ) by L364 , TARSKI:def 4;
consider C131 being set such that L367: C131 in ( dom D39 ) and L368: C130 = ( D39 . C131 ) by L366 , FUNCT_1:def 3;
L369: ( D39 . C131 ) = { ( C124 . C131 ) } by L353 , L367;
L370: C129 = ( C124 . C131 ) by L369 , L365 , L368 , TARSKI:def 1;
L371: C131 in ( dom C124 ) by L353 , L367 , FINSEQ_1:def 3;
thus L372: C129 in ( rng C124 ) by L371 , L370 , FUNCT_1:def 3;
end;
thus L373: ( union ( rng D39 ) ) c= ( rng C124 ) by L363 , TARSKI:def 3;
let C132 being set;
assume L374: C132 in ( rng C124 );
consider C133 being set such that L375: C133 in ( dom C124 ) and L376: C132 = ( C124 . C133 ) by L374 , FUNCT_1:def 3;
L377: C133 in ( Seg D38 ) by L375 , FINSEQ_1:def 3;
reconsider D40 = C133 as (Element of ( NAT )) by L375;
L378: D40 in ( dom D39 ) by L353 , L375 , FINSEQ_1:def 3;
L379: ( D39 . D40 ) in ( rng D39 ) by L378 , FUNCT_1:def 3;
L380: C132 in { ( C124 . D40 ) } by L376 , TARSKI:def 1;
L381: C132 in ( D39 . D40 ) by L380 , L353 , L377;
thus L382: C132 in ( union ( rng D39 ) ) by L381 , L379 , TARSKI:def 4;
end;
L383: ( dom C122 ) = ( union ( rng D39 ) ) by L362 , L347 , FUNCT_2:def 1;
take D39;
L384: (for B176 being Nat holds (for B177 , B178 being (Element of C120) holds ((B176 in ( dom D39 ) & B177 in ( D39 . B176 ) & B178 in ( D39 . B176 )) implies ( C122 . B177 ) = ( C122 . B178 ))))
proof
let C134 being Nat;
let C135 , C136 being (Element of C120);
assume that
L385: C134 in ( dom D39 )
and
L386: C135 in ( D39 . C134 )
and
L387: C136 in ( D39 . C134 );
L388: ( D39 . C134 ) = { ( C124 . C134 ) } by L353 , L385;
thus L389: ( C122 . C135 ) = ( C122 . ( C124 . C134 ) ) by L388 , L386 , TARSKI:def 1
.= ( C122 . C136 ) by L387 , L388 , TARSKI:def 1;
end;
L390: (for B179 being Nat holds (B179 in ( Seg D38 ) implies (ex B180 being (Element of ( REAL )) st S6[ B179 , B180 ])));
L391: (ex B181 being (FinSequence of ( REAL )) st (( dom B181 ) = ( Seg D38 ) & (for B182 being Nat holds (B182 in ( Seg D38 ) implies S6[ B182 , ( B181 . B182 ) ])))) from FINSEQ_1:sch 5(L390);
thus L392: thesis by L391 , L353 , L361 , L383 , L384;
end;
theorem
L393: (for B183 being non  empty  finite set holds (for B184 being (sigma_Measure of ( Trivial-SigmaField B183 )) holds (for B185 being (Function of B183 , ( REAL )) holds (for B186 being (FinSequence of ( ExtREAL )) holds (for B187 being (FinSequence of B183) holds ((( B184 . B183 ) < ( +infty ) & ( len B186 ) = ( card B183 ) & B187 is  one-to-one & ( rng B187 ) = B183 & ( len B187 ) = ( card B183 ) & (for B188 being Nat holds (B188 in ( dom B186 ) implies ( B186 . B188 ) = ( ( R_EAL ( B185 . ( B187 . B188 ) ) ) * ( B184 . { ( B187 . B188 ) } ) )))) implies ( Integral (B184 , B185) ) = ( Sum B186 )))))))
proof
let C137 being non  empty  finite set;
let C138 being (sigma_Measure of ( Trivial-SigmaField C137 ));
let C139 being (Function of C137 , ( REAL ));
let C140 being (FinSequence of ( ExtREAL ));
let C141 being (FinSequence of C137);
assume that
L394: ( C138 . C137 ) < ( +infty )
and
L395: ( len C140 ) = ( card C137 )
and
L396: C141 is  one-to-one
and
L397: ( rng C141 ) = C137
and
L398: ( len C141 ) = ( card C137 )
and
L399: (for B189 being Nat holds (B189 in ( dom C140 ) implies ( C140 . B189 ) = ( ( R_EAL ( C139 . ( C141 . B189 ) ) ) * ( C138 . { ( C141 . B189 ) } ) )));
set D41 = ( Trivial-SigmaField C137 );
consider C142 being (Finite_Sep_Sequence of D41), C143 being (FinSequence of ( REAL )) such that L400: ( dom C139 ) = ( union ( rng C142 ) ) and L401: ( dom C143 ) = ( dom C141 ) and L402: ( dom C142 ) = ( dom C141 ) and L403: (for B190 being Nat holds (B190 in ( dom C142 ) implies ( C142 . B190 ) = { ( C141 . B190 ) })) and L404: (for B191 being Nat holds (for B192 , B193 being (Element of C137) holds ((B191 in ( dom C142 ) & B192 in ( C142 . B191 ) & B193 in ( C142 . B191 )) implies ( C139 . B192 ) = ( C139 . B193 )))) by L396 , L397 , L345;
L405: ( dom C140 ) = ( Seg ( len C141 ) ) by L395 , L398 , FINSEQ_1:def 3
.= ( dom C142 ) by L402 , FINSEQ_1:def 3;
set D42 = ( max- C139 );
set D43 = ( max+ C139 );
L406: ( dom C139 ) = C137 by FUNCT_2:def 1;
L407: ( dom D43 ) = C137 by L406 , RFUNCT_3:def 10;
L408: D43 is_integrable_on C138 by L407 , L394 , L150 , L205;
L409: (for B194 being Nat holds (B194 in ( dom C141 ) implies ( C138 . { ( C141 . B194 ) } ) in ( REAL )))
proof
let C144 being Nat;
assume L410: C144 in ( dom C141 );
L411: ( C141 . C144 ) in ( rng C141 ) by L410 , FUNCT_1:3;
L412: { ( C141 . C144 ) } c= C137 by L411 , ZFMISC_1:31;
thus L413: ( C138 . { ( C141 . C144 ) } ) in ( REAL ) by L412 , L394 , L397 , L209;
end;
L414:
now
let C145 being set;
assume L415: C145 in ( rng C140 );
consider C146 being (Element of ( NAT )) such that L416: C146 in ( dom C140 ) and L417: C145 = ( C140 . C146 ) by L415 , PARTFUN1:3;
reconsider D44 = ( C138 . { ( C141 . C146 ) } ) as (Element of ( REAL )) by L402 , L405 , L409 , L416;
reconsider D45 = ( C139 . ( C141 . C146 ) ) as (Element of ( REAL ));
L418: ( C140 . C146 ) = ( ( R_EAL ( C139 . ( C141 . C146 ) ) ) * ( C138 . { ( C141 . C146 ) } ) ) by L399 , L416
.= ( D45 * D44 ) by EXTREAL1:1;
thus L419: C145 in ( REAL ) by L418 , L417;
end;
L420: ( rng C140 ) c= ( REAL ) by L414 , TARSKI:def 3;
reconsider D46 = C140 as (FinSequence of ( REAL )) by L420 , FINSEQ_1:def 4;
L421: (D42 is_simple_func_in D41 & D42 is  nonnegative) by L205 , MESFUNC6:61;
defpred S8[ Nat , set ] means (for B195 being set holds (B195 in ( C142 . $1 ) implies $2 = ( D43 . B195 )));
set D47 = ( len C142 );
L422: ( dom C142 ) = ( Seg D47 ) by FINSEQ_1:def 3;
L423: (for B196 being Nat holds (B196 in ( Seg D47 ) implies (ex B197 being (Element of ( REAL )) st S8[ B196 , B197 ])))
proof
let C147 being Nat;
assume L424: C147 in ( Seg D47 );
take ( D43 . ( C141 . C147 ) );
L425: ( C142 . C147 ) = { ( C141 . C147 ) } by L403 , L422 , L424;
thus L426: thesis by L425 , TARSKI:def 1;
end;
consider C148 being (FinSequence of ( REAL )) such that L427: (( dom C148 ) = ( Seg D47 ) & (for B198 being Nat holds (B198 in ( Seg D47 ) implies S8[ B198 , ( C148 . B198 ) ]))) from FINSEQ_1:sch 5(L423);
defpred S9[ Nat , set ] means (for B199 being set holds (B199 in ( C142 . $1 ) implies $2 = ( D42 . B199 )));
L428: (for B200 being Nat holds (B200 in ( Seg D47 ) implies (ex B201 being (Element of ( REAL )) st S9[ B200 , B201 ])))
proof
let C149 being Nat;
assume L429: C149 in ( Seg D47 );
take ( D42 . ( C141 . C149 ) );
L430: ( C142 . C149 ) = { ( C141 . C149 ) } by L403 , L422 , L429;
thus L431: thesis by L430 , TARSKI:def 1;
end;
consider C150 being (FinSequence of ( REAL )) such that L432: (( dom C150 ) = ( Seg D47 ) & (for B202 being Nat holds (B202 in ( Seg D47 ) implies S9[ B202 , ( C150 . B202 ) ]))) from FINSEQ_1:sch 5(L428);
L433: ( dom D42 ) = ( dom C139 ) by RFUNCT_3:def 11;
L434: D42 is (Function of C137 , ( REAL )) by L433 , L406 , FUNCT_2:def 1;
L435: ( C138 . ( dom ( ( - 1 ) (#) D42 ) ) ) < ( +infty ) by L434 , L394 , FUNCT_2:def 1;
L436: ( ( - 1 ) (#) D42 ) is_integrable_on C138 by L435 , L434 , L150 , L205;
consider C151 being (Element of D41) such that L437: C151 = ( ( dom D43 ) /\ ( dom ( ( - 1 ) (#) D42 ) ) ) and L438: ( Integral (C138 , ( D43 + ( ( - 1 ) (#) D42 ) )) ) = ( ( Integral (C138 , ( D43 | C151 )) ) + ( Integral (C138 , ( ( ( - 1 ) (#) D42 ) | C151 )) ) ) by L436 , L408 , MESFUNC6:101;
L439: ( ( R_EAL ( - 1 ) ) * ( Integral (C138 , D42) ) ) = ( ( - ( R_EAL 1 ) ) * ( Integral (C138 , D42) ) ) by SUPINF_2:2
.= ( - ( ( R_EAL 1 ) * ( Integral (C138 , D42) ) ) ) by XXREAL_3:92
.= ( - ( Integral (C138 , D42) ) ) by XXREAL_3:81;
defpred S10[ Nat , set ] means $2 = ( ( R_EAL ( C148 . $1 ) ) * ( ( C138 * C142 ) . $1 ) );
L440: (for B203 being Nat holds (B203 in ( Seg D47 ) implies (ex B204 being (Element of ( ExtREAL )) st S10[ B203 , B204 ])));
consider C152 being (FinSequence of ( ExtREAL )) such that L441: (( dom C152 ) = ( Seg D47 ) & (for B205 being Nat holds (B205 in ( Seg D47 ) implies S10[ B205 , ( C152 . B205 ) ]))) from FINSEQ_1:sch 5(L440);
L442: ( dom C152 ) = ( dom C142 ) by L441 , FINSEQ_1:def 3;
L443: (for B206 being Nat holds (B206 in ( dom C152 ) implies ( C152 . B206 ) = ( ( R_EAL ( D43 . ( C141 . B206 ) ) ) * ( C138 . { ( C141 . B206 ) } ) )))
proof
let C153 being Nat;
assume L444: C153 in ( dom C152 );
L445: ( ( C138 * C142 ) . C153 ) = ( C138 . ( C142 . C153 ) ) by L444 , L442 , FUNCT_1:13
.= ( C138 . { ( C141 . C153 ) } ) by L403 , L442 , L444;
L446: ( C142 . C153 ) = { ( C141 . C153 ) } by L403 , L442 , L444;
L447: ( C141 . C153 ) in ( C142 . C153 ) by L446 , TARSKI:def 1;
thus L448: ( C152 . C153 ) = ( ( R_EAL ( C148 . C153 ) ) * ( ( C138 * C142 ) . C153 ) ) by L441 , L444
.= ( ( R_EAL ( D43 . ( C141 . C153 ) ) ) * ( C138 . { ( C141 . C153 ) } ) ) by L427 , L441 , L444 , L447 , L445;
end;
L449:
now
let C154 being set;
assume L450: C154 in ( rng C152 );
consider C155 being (Element of ( NAT )) such that L451: C155 in ( dom C152 ) and L452: C154 = ( C152 . C155 ) by L450 , PARTFUN1:3;
reconsider D48 = ( C138 . { ( C141 . C155 ) } ) as (Element of ( REAL )) by L402 , L442 , L409 , L451;
reconsider D49 = ( D43 . ( C141 . C155 ) ) as (Element of ( REAL ));
L453: ( C152 . C155 ) = ( ( R_EAL ( D43 . ( C141 . C155 ) ) ) * ( C138 . { ( C141 . C155 ) } ) ) by L443 , L451
.= ( D49 * D48 ) by EXTREAL1:1;
thus L454: C154 in ( REAL ) by L453 , L452;
end;
L455: ( rng C152 ) c= ( REAL ) by L449 , TARSKI:def 3;
reconsider D50 = C152 as (FinSequence of ( REAL )) by L455 , FINSEQ_1:def 4;
defpred S11[ Nat , set ] means $2 = ( ( R_EAL ( C150 . $1 ) ) * ( ( C138 * C142 ) . $1 ) );
L456: (for B207 being Nat holds (B207 in ( Seg D47 ) implies (ex B208 being (Element of ( ExtREAL )) st S11[ B207 , B208 ])));
consider C156 being (FinSequence of ( ExtREAL )) such that L457: (( dom C156 ) = ( Seg D47 ) & (for B209 being Nat holds (B209 in ( Seg D47 ) implies S11[ B209 , ( C156 . B209 ) ]))) from FINSEQ_1:sch 5(L456);
L458: ( dom C156 ) = ( dom C142 ) by L457 , FINSEQ_1:def 3;
L459: (for B210 being Nat holds (B210 in ( dom C156 ) implies ( C156 . B210 ) = ( ( R_EAL ( D42 . ( C141 . B210 ) ) ) * ( C138 . { ( C141 . B210 ) } ) )))
proof
let C157 being Nat;
assume L460: C157 in ( dom C156 );
L461: ( ( C138 * C142 ) . C157 ) = ( C138 . ( C142 . C157 ) ) by L460 , L458 , FUNCT_1:13
.= ( C138 . { ( C141 . C157 ) } ) by L403 , L458 , L460;
L462: ( C142 . C157 ) = { ( C141 . C157 ) } by L403 , L458 , L460;
L463: ( C141 . C157 ) in ( C142 . C157 ) by L462 , TARSKI:def 1;
thus L464: ( C156 . C157 ) = ( ( R_EAL ( C150 . C157 ) ) * ( ( C138 * C142 ) . C157 ) ) by L457 , L460
.= ( ( R_EAL ( D42 . ( C141 . C157 ) ) ) * ( C138 . { ( C141 . C157 ) } ) ) by L432 , L457 , L460 , L463 , L461;
end;
L465:
now
let C158 being set;
assume L466: C158 in ( rng C156 );
consider C159 being (Element of ( NAT )) such that L467: C159 in ( dom C156 ) and L468: C158 = ( C156 . C159 ) by L466 , PARTFUN1:3;
reconsider D51 = ( C138 . { ( C141 . C159 ) } ) as (Element of ( REAL )) by L402 , L458 , L409 , L467;
reconsider D52 = ( D42 . ( C141 . C159 ) ) as (Element of ( REAL ));
L469: ( C156 . C159 ) = ( ( R_EAL ( D42 . ( C141 . C159 ) ) ) * ( C138 . { ( C141 . C159 ) } ) ) by L459 , L467
.= ( D52 * D51 ) by EXTREAL1:1;
thus L470: C158 in ( REAL ) by L469 , L468;
end;
L471: ( rng C156 ) c= ( REAL ) by L465 , TARSKI:def 3;
reconsider D53 = C156 as (FinSequence of ( REAL )) by L471 , FINSEQ_1:def 4;
L472: (( Sum C152 ) = ( Sum D50 ) & ( Sum C156 ) = ( Sum D53 )) by MESFUNC3:2;
L473: (for B211 being Nat holds (B211 in ( dom D46 ) implies ( ( D50 - D53 ) . B211 ) = ( D46 . B211 )))
proof
let C160 being Nat;
L474: C139 = ( D43 - D42 ) by MESFUNC6:42;
assume L475: C160 in ( dom D46 );
reconsider D54 = ( C138 . { ( C141 . C160 ) } ) as (Element of ( REAL )) by L475 , L402 , L405 , L409;
L476: ( D53 . C160 ) = ( ( R_EAL ( D42 . ( C141 . C160 ) ) ) * ( C138 . { ( C141 . C160 ) } ) ) by L405 , L458 , L459 , L475
.= ( ( D42 . ( C141 . C160 ) ) * D54 ) by EXTREAL1:1;
L477: ( C141 . C160 ) in ( rng C141 ) by L402 , L405 , L475 , FUNCT_1:3;
L478: ( C141 . C160 ) in C137 by L477;
L479: ( C141 . C160 ) in ( dom C139 ) by L478 , FUNCT_2:def 1;
L480: C160 in ( ( dom D50 ) /\ ( dom D53 ) ) by L405 , L442 , L458 , L475;
L481: C160 in ( dom ( D50 - D53 ) ) by L480 , VALUED_1:12;
L482: ( D50 . C160 ) = ( ( R_EAL ( D43 . ( C141 . C160 ) ) ) * ( C138 . { ( C141 . C160 ) } ) ) by L405 , L442 , L443 , L475
.= ( ( D43 . ( C141 . C160 ) ) * D54 ) by EXTREAL1:1;
thus L483: ( ( D50 - D53 ) . C160 ) = ( ( ( D43 . ( C141 . C160 ) ) * D54 ) - ( ( D42 . ( C141 . C160 ) ) * D54 ) ) by L482 , L481 , L476 , VALUED_1:13
.= ( ( ( D43 . ( C141 . C160 ) ) - ( D42 . ( C141 . C160 ) ) ) * D54 )
.= ( ( C139 . ( C141 . C160 ) ) * D54 ) by L479 , L474 , VALUED_1:13
.= ( ( R_EAL ( C139 . ( C141 . C160 ) ) ) * ( C138 . { ( C141 . C160 ) } ) ) by EXTREAL1:1
.= ( D46 . C160 ) by L399 , L475;
end;
L484: ( dom D42 ) = C137 by L406 , RFUNCT_3:def 11;
L485: D42 is_integrable_on C138 by L484 , L394 , L150 , L205;
L486: ( dom D43 ) = ( dom C139 ) by RFUNCT_3:def 10;
L487: D43 is (Function of C137 , ( REAL )) by L486 , L406 , FUNCT_2:def 1;
L488: ( dom ( D50 - D53 ) ) = ( ( dom D50 ) /\ ( dom D53 ) ) by VALUED_1:12
.= ( dom D46 ) by L405 , L442 , L458;
L489: ( len D50 ) = D47 by L441 , FINSEQ_1:def 3
.= ( len D53 ) by L457 , FINSEQ_1:def 3;
L490: ( dom ( ( - 1 ) (#) D42 ) ) = ( dom D42 ) by VALUED_1:def 5
.= C137 by L406 , RFUNCT_3:def 11;
L491: C151 = ( C137 /\ C137 ) by L490 , L406 , L437 , RFUNCT_3:def 10
.= C137;
L492: ( ( ( - 1 ) (#) D42 ) | C151 ) = ( ( - 1 ) (#) D42 ) by L491 , L434 , FUNCT_2:33;
L493: ( Integral (C138 , ( D43 + ( ( - 1 ) (#) D42 ) )) ) = ( ( Integral (C138 , D43) ) + ( Integral (C138 , ( ( - 1 ) (#) D42 )) ) ) by L492 , L487 , L438 , L491 , FUNCT_2:33
.= ( ( Integral (C138 , D43) ) + ( - ( Integral (C138 , D42) ) ) ) by L485 , L439 , MESFUNC6:102;
L494: (D43 is_simple_func_in D41 & D43 is  nonnegative) by L205 , MESFUNC6:61;
L495: ( Integral (C138 , D43) ) = ( Sum C152 ) by L494 , L400 , L486 , L422 , L427 , L441 , L77;
thus L496: ( Integral (C138 , C139) ) = ( Integral (C138 , ( D43 - D42 )) ) by MESFUNC6:42
.= ( ( Sum C152 ) - ( Sum C156 ) ) by L400 , L433 , L422 , L432 , L421 , L457 , L495 , L493 , L77
.= ( ( Sum D50 ) - ( Sum D53 ) ) by L472 , SUPINF_2:3
.= ( Sum ( D50 - D53 ) ) by L489 , INTEGRA5:2
.= ( Sum C140 ) by L488 , L473 , FINSEQ_1:13 , MESFUNC3:2;
end;
theorem
L497: (for B212 being non  empty  finite set holds (for B213 being (sigma_Measure of ( Trivial-SigmaField B212 )) holds (for B214 being (Function of B212 , ( REAL )) holds (( B213 . B212 ) < ( +infty ) implies (ex B215 being (FinSequence of ( ExtREAL )) st (ex B216 being (FinSequence of B212) st (( len B215 ) = ( card B212 ) & B216 is  one-to-one & ( rng B216 ) = B212 & ( len B216 ) = ( card B212 ) & (for B217 being Nat holds (B217 in ( dom B215 ) implies ( B215 . B217 ) = ( ( R_EAL ( B214 . ( B216 . B217 ) ) ) * ( B213 . { ( B216 . B217 ) } ) ))) & ( Integral (B213 , B214) ) = ( Sum B215 ))))))))
proof
let C161 being non  empty  finite set;
let C162 being (sigma_Measure of ( Trivial-SigmaField C161 ));
let C163 being (Function of C161 , ( REAL ));
set D55 = ( canFS C161 );
assume L498: ( C162 . C161 ) < ( +infty );
L499: (ex B218 being (FinSequence of ( ExtREAL )) st (( len B218 ) = ( card C161 ) & (for B219 being Nat holds (B219 in ( dom B218 ) implies ( B218 . B219 ) = ( ( R_EAL ( C163 . ( ( canFS C161 ) . B219 ) ) ) * ( C162 . { ( ( canFS C161 ) . B219 ) } ) ))) & ( Integral (C162 , C163) ) = ( Sum B218 ))) by L498 , L223;
L500: (( rng D55 ) = C161 & ( len D55 ) = ( card C161 )) by FUNCT_2:def 3 , UPROOTS:3;
thus L501: thesis by L500 , L499;
end;
L502: (for B220 being non  empty  finite set holds (for B221 being (Probability of ( Trivial-SigmaField B220 )) holds (for B222 being (Function of B220 , ( REAL )) holds (ex B223 being (FinSequence of ( REAL )) st (( len B223 ) = ( card B220 ) & (for B224 being Nat holds (B224 in ( dom B223 ) implies ( B223 . B224 ) = ( ( B222 . ( ( canFS B220 ) . B224 ) ) * ( B221 . { ( ( canFS B220 ) . B224 ) } ) ))) & ( Integral (( P2M B221 ) , B222) ) = ( Sum B223 ))))))
proof
let C164 being non  empty  finite set;
let C165 being (Probability of ( Trivial-SigmaField C164 ));
let C166 being (Function of C164 , ( REAL ));
set D56 = ( Trivial-SigmaField C164 );
set D57 = ( P2M C165 );
L503: ( C165 . C164 ) in ( REAL );
consider C167 being (FinSequence of ( ExtREAL )) such that L504: ( len C167 ) = ( card C164 ) and L505: (for B225 being Nat holds (B225 in ( dom C167 ) implies ( C167 . B225 ) = ( ( R_EAL ( C166 . ( ( canFS C164 ) . B225 ) ) ) * ( ( P2M C165 ) . { ( ( canFS C164 ) . B225 ) } ) ))) and L506: ( Integral (( P2M C165 ) , C166) ) = ( Sum C167 ) by L503 , L223 , XXREAL_0:9;
L507: ( ( P2M C165 ) . C164 ) < ( +infty ) by L503 , XXREAL_0:9;
L508: (for B226 being Nat holds (B226 in ( dom ( canFS C164 ) ) implies ( D57 . { ( ( canFS C164 ) . B226 ) } ) in ( REAL )))
proof
let C168 being Nat;
assume L509: C168 in ( dom ( canFS C164 ) );
L510: ( ( canFS C164 ) . C168 ) in ( rng ( canFS C164 ) ) by L509 , FUNCT_1:3;
L511: { ( ( canFS C164 ) . C168 ) } c= C164 by L510 , ZFMISC_1:31;
L512: C164 in D56 by MEASURE1:7;
thus L513: ( D57 . { ( ( canFS C164 ) . C168 ) } ) in ( REAL ) by L512 , L507 , L511 , L209;
end;
L514:
now
let C169 being set;
assume L515: C169 in ( rng C167 );
consider C170 being (Element of ( NAT )) such that L516: C170 in ( dom C167 ) and L517: C169 = ( C167 . C170 ) by L515 , PARTFUN1:3;
L518: ( Seg ( len C167 ) ) = ( Seg ( len ( canFS C164 ) ) ) by L504 , UPROOTS:3;
L519: ( dom C167 ) = ( Seg ( len ( canFS C164 ) ) ) by L518 , FINSEQ_1:def 3;
L520: C170 in ( dom ( canFS C164 ) ) by L519 , L516 , FINSEQ_1:def 3;
reconsider D58 = ( D57 . { ( ( canFS C164 ) . C170 ) } ) as (Element of ( REAL )) by L520 , L508;
reconsider D59 = ( C166 . ( ( canFS C164 ) . C170 ) ) as (Element of ( REAL ));
L521: ( C167 . C170 ) = ( ( R_EAL ( C166 . ( ( canFS C164 ) . C170 ) ) ) * ( D57 . { ( ( canFS C164 ) . C170 ) } ) ) by L505 , L516
.= ( D59 * D58 ) by EXTREAL1:1;
thus L522: C169 in ( REAL ) by L521 , L517;
end;
L523: ( rng C167 ) c= ( REAL ) by L514 , TARSKI:def 3;
reconsider D60 = C167 as (FinSequence of ( REAL )) by L523 , FINSEQ_1:def 4;
take D60;
L524:
now
let C171 being Nat;
assume L525: C171 in ( dom D60 );
thus L526: ( D60 . C171 ) = ( ( R_EAL ( C166 . ( ( canFS C164 ) . C171 ) ) ) * ( ( P2M C165 ) . { ( ( canFS C164 ) . C171 ) } ) ) by L525 , L505
.= ( ( C166 . ( ( canFS C164 ) . C171 ) ) * ( C165 . { ( ( canFS C164 ) . C171 ) } ) ) by EXTREAL1:1;
end;
thus L527: thesis by L524 , L504 , L506 , MESFUNC3:2;
end;
theorem
L528: (for B227 being non  empty  finite set holds (for B228 being (Probability of ( Trivial-SigmaField B227 )) holds (for B229 being (Function of B227 , ( REAL )) holds (for B230 being (FinSequence of ( REAL )) holds (for B231 being (FinSequence of B227) holds ((( len B230 ) = ( card B227 ) & B231 is  one-to-one & ( rng B231 ) = B227 & ( len B231 ) = ( card B227 ) & (for B232 being Nat holds (B232 in ( dom B230 ) implies ( B230 . B232 ) = ( ( B229 . ( B231 . B232 ) ) * ( B228 . { ( B231 . B232 ) } ) )))) implies ( Integral (( P2M B228 ) , B229) ) = ( Sum B230 )))))))
proof
let C172 being non  empty  finite set;
let C173 being (Probability of ( Trivial-SigmaField C172 ));
let C174 being (Function of C172 , ( REAL ));
let C175 being (FinSequence of ( REAL ));
let C176 being (FinSequence of C172);
assume that
L529: (( len C175 ) = ( card C172 ) & C176 is  one-to-one & ( rng C176 ) = C172 & ( len C176 ) = ( card C172 ))
and
L530: (for B233 being Nat holds (B233 in ( dom C175 ) implies ( C175 . B233 ) = ( ( C174 . ( C176 . B233 ) ) * ( C173 . { ( C176 . B233 ) } ) )));
set D61 = ( P2M C173 );
L531: ( rng C175 ) c= ( ExtREAL ) by NUMBERS:31 , XBOOLE_1:1;
reconsider D62 = C175 as (FinSequence of ( ExtREAL )) by L531 , FINSEQ_1:def 4;
L532:
now
let C177 being Nat;
assume L533: C177 in ( dom D62 );
thus L534: ( D62 . C177 ) = ( ( C174 . ( C176 . C177 ) ) * ( C173 . { ( C176 . C177 ) } ) ) by L533 , L530
.= ( ( R_EAL ( C174 . ( C176 . C177 ) ) ) * ( ( P2M C173 ) . { ( C176 . C177 ) } ) ) by EXTREAL1:1;
end;
L535: ( C173 . C172 ) in ( REAL );
L536: ( Integral (D61 , C174) ) = ( Sum D62 ) by L535 , L529 , L532 , L393 , XXREAL_0:9
.= ( Sum C175 ) by MESFUNC3:2;
thus L537: thesis by L536;
end;
theorem
L538: (for B234 being non  empty  finite set holds (for B235 being (Probability of ( Trivial-SigmaField B234 )) holds (for B236 being (Function of B234 , ( REAL )) holds (ex B237 being (FinSequence of ( REAL )) st (ex B238 being (FinSequence of B234) st (( len B237 ) = ( card B234 ) & B238 is  one-to-one & ( rng B238 ) = B234 & ( len B238 ) = ( card B234 ) & (for B239 being Nat holds (B239 in ( dom B237 ) implies ( B237 . B239 ) = ( ( B236 . ( B238 . B239 ) ) * ( B235 . { ( B238 . B239 ) } ) ))) & ( Integral (( P2M B235 ) , B236) ) = ( Sum B237 )))))))
proof
let C178 being non  empty  finite set;
let C179 being (Probability of ( Trivial-SigmaField C178 ));
let C180 being (Function of C178 , ( REAL ));
set D63 = ( canFS C178 );
L539: ( len D63 ) = ( card C178 ) by UPROOTS:3;
L540: ((ex B240 being (FinSequence of ( REAL )) st (( len B240 ) = ( card C178 ) & (for B241 being Nat holds (B241 in ( dom B240 ) implies ( B240 . B241 ) = ( ( C180 . ( ( canFS C178 ) . B241 ) ) * ( C179 . { ( ( canFS C178 ) . B241 ) } ) ))) & ( Integral (( P2M C179 ) , C180) ) = ( Sum B240 ))) & ( rng D63 ) = C178) by L502 , FUNCT_2:def 3;
thus L541: thesis by L540 , L539;
end;
theorem
L542: (for B242 being  finite non  empty set holds (for B243 being (SetSequence of B242) holds (B243 is  non-ascending implies (ex B244 being (Element of ( NAT )) st (for B245 being (Element of ( NAT )) holds (B244 <= B245 implies ( B243 . B244 ) = ( B243 . B245 )))))))
proof
let C181 being  finite non  empty set;
let C182 being (SetSequence of C181);
defpred S12[ (Element of ( NAT )) , set ] means $2 = ( card ( C182 . $1 ) );
L543: (for B246 being (Element of ( NAT )) holds (ex B247 being (Element of ( REAL )) st S12[ B246 , B247 ]))
proof
let C183 being (Element of ( NAT ));
L544: ( card ( C182 . C183 ) ) in ( NAT );
thus L545: thesis by L544;
end;
consider C184 being (Function of ( NAT ) , ( REAL )) such that L546: (for B248 being (Element of ( NAT )) holds S12[ B248 , ( C184 . B248 ) ]) from FUNCT_2:sch 3(L543);
L547:
now
let C185 being (Element of ( NAT ));
L548: ( C184 . C185 ) = ( card ( C182 . C185 ) ) by L546;
thus L549: ( - 1 ) < ( C184 . C185 ) by L548;
end;
L550: C184 is  bounded_below by L547 , SEQ_2:def 4;
assume L551: C182 is  non-ascending;
L552:
now
let C186 , C187 being (Element of ( NAT ));
assume L553: C186 <= C187;
L554: ( C182 . C187 ) c= ( C182 . C186 ) by L553 , L551 , PROB_1:def 4;
L555: (( C184 . C187 ) = ( card ( C182 . C187 ) ) & ( C184 . C186 ) = ( card ( C182 . C186 ) )) by L546;
thus L556: ( C184 . C187 ) <= ( C184 . C186 ) by L555 , L554 , NAT_1:43;
end;
L557: C184 is  non-increasing by L552 , SEQM_3:8;
consider C188 being  real number such that L558: (for B249 being  real number holds (( 0 ) < B249 implies (ex B250 being (Element of ( NAT )) st (for B251 being (Element of ( NAT )) holds (B250 <= B251 implies ( abs ( ( C184 . B251 ) - C188 ) ) < B249))))) by L557 , L550 , SEQ_2:def 6;
consider C189 being (Element of ( NAT )) such that L559: (for B252 being (Element of ( NAT )) holds (C189 <= B252 implies ( abs ( ( C184 . B252 ) - C188 ) ) < ( 1 / 2 ))) by L558;
take C189;
L560:
now
L561: ( abs ( ( C184 . C189 ) - C188 ) ) < ( 1 / 2 ) by L559;
L562: ( abs ( C188 - ( C184 . C189 ) ) ) < ( 1 / 2 ) by L561 , COMPLEX1:60;
let C190 being (Element of ( NAT ));
L563: (( C184 . C189 ) = ( card ( C182 . C189 ) ) & ( C184 . C190 ) = ( card ( C182 . C190 ) )) by L546;
assume L564: C189 <= C190;
L565: (( C184 . C190 ) <= ( C184 . C189 ) & ( C182 . C190 ) c= ( C182 . C189 )) by L564 , L551 , L552 , PROB_1:def 4;
L566: ( abs ( ( C184 . C190 ) - C188 ) ) < ( 1 / 2 ) by L559 , L564;
L567: ( ( abs ( ( C184 . C190 ) - C188 ) ) + ( abs ( C188 - ( C184 . C189 ) ) ) ) < ( ( 1 / 2 ) + ( 1 / 2 ) ) by L566 , L562 , XREAL_1:8;
L568: ( abs ( ( C184 . C190 ) - ( C184 . C189 ) ) ) <= ( ( abs ( ( C184 . C190 ) - C188 ) ) + ( abs ( C188 - ( C184 . C189 ) ) ) ) by COMPLEX1:63;
L569: ( abs ( ( C184 . C190 ) - ( C184 . C189 ) ) ) < 1 by L568 , L567 , XXREAL_0:2;
L570: ( abs ( ( C184 . C189 ) - ( C184 . C190 ) ) ) < 1 by L569 , COMPLEX1:60;
L571: ( ( C184 . C189 ) - ( C184 . C190 ) ) < 1 by L570 , ABSVALUE:def 1;
L572: ( ( ( C184 . C189 ) - ( C184 . C190 ) ) + ( C184 . C190 ) ) < ( 1 + ( C184 . C190 ) ) by L571 , XREAL_1:8;
L573: ( C184 . C189 ) <= ( C184 . C190 ) by L572 , L563 , NAT_1:8;
thus L574: ( C182 . C190 ) = ( C182 . C189 ) by L573 , L563 , L565 , CARD_FIN:1 , XXREAL_0:1;
end;
thus L575: thesis by L560;
end;
theorem
L576: (for B253 being  finite non  empty set holds (for B254 being (SetSequence of B253) holds (B254 is  non-ascending implies (ex B255 being (Element of ( NAT )) st (for B256 being (Element of ( NAT )) holds (B255 <= B256 implies ( Intersection B254 ) = ( B254 . B256 )))))))
proof
let C191 being  finite non  empty set;
let C192 being (SetSequence of C191);
assume L577: C192 is  non-ascending;
consider C193 being (Element of ( NAT )) such that L578: (for B257 being (Element of ( NAT )) holds (C193 <= B257 implies ( C192 . C193 ) = ( C192 . B257 ))) by L577 , L542;
take C193;
let C194 being (Element of ( NAT ));
assume L579: C193 <= C194;
L580: ( C192 . C194 ) = ( C192 . C193 ) by L579 , L578;
thus L581: ( Intersection C192 ) = ( C192 . C194 )
proof
L582: (for B258 being set holds (B258 in ( Intersection C192 ) implies B258 in ( C192 . C194 ))) by PROB_1:13;
thus L583: ( Intersection C192 ) c= ( C192 . C194 ) by L582 , TARSKI:def 3;
let C195 being set;
assume L584: C195 in ( C192 . C194 );
L585:
now
let C196 being (Element of ( NAT ));
per cases ;
suppose L586: C196 <= C193;

L587: ( C192 . C193 ) c= ( C192 . C196 ) by L586 , L577 , PROB_1:def 4;
thus L588: C195 in ( C192 . C196 ) by L587 , L580 , L584;
end;
suppose L589: C193 < C196;

thus L590: C195 in ( C192 . C196 ) by L589 , L578 , L580 , L584;
end;
end;
thus L592: C195 in ( Intersection C192 ) by L585 , PROB_1:13;
end;

end;
theorem
L582: (for B259 being  finite non  empty set holds (for B260 being (SetSequence of B259) holds (B260 is  non-descending implies (ex B261 being (Element of ( NAT )) st (for B262 being (Element of ( NAT )) holds (B261 <= B262 implies ( B260 . B261 ) = ( B260 . B262 )))))))
proof
let C197 being  finite non  empty set;
let C198 being (SetSequence of C197);
defpred S13[ (Element of ( NAT )) , set ] means $2 = ( card ( C198 . $1 ) );
L583: (for B263 being (Element of ( NAT )) holds (ex B264 being (Element of ( REAL )) st S13[ B263 , B264 ]))
proof
let C199 being (Element of ( NAT ));
L584: ( card ( C198 . C199 ) ) in ( NAT );
thus L585: thesis by L584;
end;
consider C200 being (Function of ( NAT ) , ( REAL )) such that L586: (for B265 being (Element of ( NAT )) holds S13[ B265 , ( C200 . B265 ) ]) from FUNCT_2:sch 3(L583);
L587:
now
let C201 being (Element of ( NAT ));
L588: ( card ( C198 . C201 ) ) <= ( card C197 ) by NAT_1:43;
L589: ( card ( C198 . C201 ) ) < ( ( card C197 ) + 1 ) by L588 , NAT_1:13;
thus L590: ( C200 . C201 ) < ( ( card C197 ) + 1 ) by L589 , L586;
end;
L591: C200 is  bounded_above by L587 , SEQ_2:def 3;
assume L592: C198 is  non-descending;
L593:
now
let C202 , C203 being (Element of ( NAT ));
assume L594: C202 <= C203;
L595: ( C198 . C202 ) c= ( C198 . C203 ) by L594 , L592 , PROB_1:def 5;
L596: (( C200 . C203 ) = ( card ( C198 . C203 ) ) & ( C200 . C202 ) = ( card ( C198 . C202 ) )) by L586;
thus L597: ( C200 . C202 ) <= ( C200 . C203 ) by L596 , L595 , NAT_1:43;
end;
L598: C200 is  non-decreasing by L593 , SEQM_3:6;
consider C204 being  real number such that L599: (for B266 being  real number holds (( 0 ) < B266 implies (ex B267 being (Element of ( NAT )) st (for B268 being (Element of ( NAT )) holds (B267 <= B268 implies ( abs ( ( C200 . B268 ) - C204 ) ) < B266))))) by L598 , L591 , SEQ_2:def 6;
consider C205 being (Element of ( NAT )) such that L600: (for B269 being (Element of ( NAT )) holds (C205 <= B269 implies ( abs ( ( C200 . B269 ) - C204 ) ) < ( 1 / 2 ))) by L599;
take C205;
L601:
now
L602: ( abs ( ( C200 . C205 ) - C204 ) ) < ( 1 / 2 ) by L600;
L603: ( abs ( C204 - ( C200 . C205 ) ) ) < ( 1 / 2 ) by L602 , COMPLEX1:60;
let C206 being (Element of ( NAT ));
L604: (( C200 . C205 ) = ( card ( C198 . C205 ) ) & ( C200 . C206 ) = ( card ( C198 . C206 ) )) by L586;
assume L605: C205 <= C206;
L606: (( C200 . C205 ) <= ( C200 . C206 ) & ( C198 . C205 ) c= ( C198 . C206 )) by L605 , L592 , L593 , PROB_1:def 5;
L607: ( abs ( ( C200 . C206 ) - C204 ) ) < ( 1 / 2 ) by L600 , L605;
L608: ( ( abs ( ( C200 . C206 ) - C204 ) ) + ( abs ( C204 - ( C200 . C205 ) ) ) ) < ( ( 1 / 2 ) + ( 1 / 2 ) ) by L607 , L603 , XREAL_1:8;
L609: ( abs ( ( C200 . C206 ) - ( C200 . C205 ) ) ) <= ( ( abs ( ( C200 . C206 ) - C204 ) ) + ( abs ( C204 - ( C200 . C205 ) ) ) ) by COMPLEX1:63;
L610: ( abs ( ( C200 . C206 ) - ( C200 . C205 ) ) ) < 1 by L609 , L608 , XXREAL_0:2;
L611: ( ( C200 . C206 ) - ( C200 . C205 ) ) < 1 by L610 , ABSVALUE:def 1;
L612: ( ( ( C200 . C206 ) - ( C200 . C205 ) ) + ( C200 . C205 ) ) < ( 1 + ( C200 . C205 ) ) by L611 , XREAL_1:8;
L613: ( C200 . C206 ) <= ( C200 . C205 ) by L612 , L604 , NAT_1:8;
thus L614: ( C198 . C206 ) = ( C198 . C205 ) by L613 , L604 , L606 , CARD_FIN:1 , XXREAL_0:1;
end;
thus L615: thesis by L601;
end;
theorem
L616: (for B270 being  finite non  empty set holds (for B271 being (SetSequence of B270) holds (B271 is  non-descending implies (ex B272 being Nat st (for B273 being Nat holds (B272 <= B273 implies ( Union B271 ) = ( B271 . B273 )))))))
proof
let C207 being  finite non  empty set;
let C208 being (SetSequence of C207);
assume L617: C208 is  non-descending;
consider C209 being (Element of ( NAT )) such that L618: (for B274 being (Element of ( NAT )) holds (C209 <= B274 implies ( C208 . C209 ) = ( C208 . B274 ))) by L617 , L582;
reconsider D64 = C209 as Nat;
take D64;
let C210 being Nat;
reconsider D65 = C210 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L619: D64 <= C210;
L620:
now
let C211 being set;
assume L621: C211 in ( Union C208 );
consider C212 being (Element of ( NAT )) such that L622: C211 in ( C208 . C212 ) by L621 , PROB_1:12;
per cases ;
suppose L623: C212 < D64;

L624: ( C208 . D64 ) c= ( C208 . D65 ) by L618 , L619;
L625: ( C208 . C212 ) c= ( C208 . D64 ) by L617 , L623 , PROB_1:def 5;
L626: ( C208 . C212 ) c= ( C208 . C210 ) by L625 , L624 , XBOOLE_1:1;
thus L627: C211 in ( C208 . C210 ) by L626 , L622;
end;
suppose L628: D64 <= C212;

L629: ( C208 . D64 ) = ( C208 . C212 ) by L628 , L618;
L630: ( C208 . C212 ) c= ( C208 . D65 ) by L629 , L618 , L619;
thus L631: C211 in ( C208 . C210 ) by L630 , L622;
end;
end;
L633: ( Union C208 ) c= ( C208 . C210 ) by L620 , TARSKI:def 3;
L634: ( C208 . C210 ) c= ( Union C208 ) by ABCMIZ_1:1;
thus L635: ( C208 . C210 ) = ( Union C208 ) by L634 , L633 , XBOOLE_0:def 10;
end;
definition
let R5 being  finite non  empty set;
func Trivial-Probability R5 -> (Probability of ( Trivial-SigmaField R5 )) means 
:L636: (for B275 being (Event of R5) holds ( it . B275 ) = ( prob B275 ));
existence
proof
deffunc H1((Element of ( bool R5 ))) = ( prob $1 );
consider C213 being (Function of ( Trivial-SigmaField R5 ) , ( REAL )) such that L637: (for B276 being (Element of ( Trivial-SigmaField R5 )) holds ( C213 . B276 ) = H1(B276)) from FUNCT_2:sch 4;
L638: (for B277 , B278 being (Event of ( Trivial-SigmaField R5 )) holds (B277 misses B278 implies ( C213 . ( B277 \/ B278 ) ) = ( ( C213 . B277 ) + ( C213 . B278 ) )))
proof
let C214 , C215 being (Event of ( Trivial-SigmaField R5 ));
assume L639: C214 misses C215;
thus L640: ( C213 . ( C214 \/ C215 ) ) = ( prob ( C214 \/ C215 ) ) by L637
.= ( ( ( prob C214 ) + ( prob C215 ) ) - ( prob ( C214 /\ C215 ) ) ) by RPR_1:20
.= ( ( ( prob C214 ) + ( prob C215 ) ) - ( 0 ) ) by L639 , RPR_1:16
.= ( ( C213 . C214 ) + ( prob C215 ) ) by L637
.= ( ( C213 . C214 ) + ( C213 . C215 ) ) by L637;
end;
L641: (for B279 being (Event of ( Trivial-SigmaField R5 )) holds ( 0 ) <= ( C213 . B279 ))
proof
let C216 being (Event of ( Trivial-SigmaField R5 ));
L642: ( C213 . C216 ) = ( prob C216 ) by L637;
thus L643: thesis by L642;
end;
take C213;
L644: (for B280 being (SetSequence of ( Trivial-SigmaField R5 )) holds (B280 is  non-ascending implies (( C213 * B280 ) is  convergent & ( lim ( C213 * B280 ) ) = ( C213 . ( Intersection B280 ) ))))
proof
let C217 being (SetSequence of ( Trivial-SigmaField R5 ));
assume L645: C217 is  non-ascending;
consider C218 being (Element of ( NAT )) such that L646: (for B281 being (Element of ( NAT )) holds (C218 <= B281 implies ( Intersection C217 ) = ( C217 . B281 ))) by L645 , L576;
L647:
now
let C219 being (Element of ( NAT ));
assume L648: C218 <= C219;
L649: C219 in ( NAT );
L650: C219 in ( dom C217 ) by L649 , FUNCT_2:def 1;
thus L651: ( ( C213 * C217 ) . C219 ) = ( C213 . ( C217 . C219 ) ) by L650 , FUNCT_1:13
.= ( C213 . ( Intersection C217 ) ) by L646 , L648;
end;
thus L652: thesis by L647 , PROB_1:1;
end;
L653: ( C213 . R5 ) = ( prob ( [#] R5 ) ) by L637
.= 1 by RPR_1:15;
thus L654: thesis by L653 , L637 , L641 , L638 , L644 , PROB_1:def 8;
end;
uniqueness
proof
let C220 , C221 being (Probability of ( Trivial-SigmaField R5 ));
assume L655: (for B282 being (Event of R5) holds ( C220 . B282 ) = ( prob B282 ));
assume L656: (for B283 being (Event of R5) holds ( C221 . B283 ) = ( prob B283 ));
L657:
now
let C222 being set;
assume L658: C222 in ( Trivial-SigmaField R5 );
reconsider D66 = C222 as (Event of R5) by L658;
thus L659: ( C220 . C222 ) = ( prob D66 ) by L655
.= ( C221 . C222 ) by L656;
end;
thus L660: thesis by L657 , FUNCT_2:12;
end;
end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
mode Real-Valued-Random-Variable of R3
 -> (Function of R1 , ( REAL ))
means :L662: (ex B284 being (Element of R3) st (B284 = R1 & it is_measurable_on B284));
correctness
proof
reconsider D67 = R1 as (Element of R3) by MEASURE1:7;
L663: ( chi (D67 , R1) ) is  real-valued by MESFUNC2:28;
L664: (( dom ( chi (D67 , R1) ) ) = R1 & ( rng ( chi (D67 , R1) ) ) c= ( REAL )) by L663 , FUNCT_3:def 3 , VALUED_0:def 3;
reconsider D68 = ( chi (D67 , R1) ) as (Function of R1 , ( REAL )) by L664 , FUNCT_2:2;
L665: (( R_EAL D68 ) = ( chi (D67 , R1) ) & ( chi (D67 , R1) ) is_measurable_on D67) by MESFUNC2:29;
L666: D68 is_measurable_on D67 by L665 , MESFUNC6:def 1;
thus L667: thesis by L666;
end;
end;
theorem
L669: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for R7 being (Real-Valued-Random-Variable of R3) holds ( R6 + R7 ) is (Real-Valued-Random-Variable of R3)))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
L670: ((ex B285 being (Element of R3) st (B285 = R1 & R6 is_measurable_on B285)) & (ex B286 being (Element of R3) st (B286 = R1 & R7 is_measurable_on B286))) by L662;
thus L671: thesis by L670 , L662 , MESFUNC6:26;
end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
redefine func R6 + R7 -> (Real-Valued-Random-Variable of R3);

correctness by L669;
end;
theorem
L673: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for R7 being (Real-Valued-Random-Variable of R3) holds ( R6 - R7 ) is (Real-Valued-Random-Variable of R3)))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
L674: (ex B287 being (Element of R3) st (B287 = R1 & R6 is_measurable_on B287)) by L662;
consider C223 being (Element of R3) such that L675: C223 = R1 and L676: R7 is_measurable_on C223 by L662;
L677: ( dom R7 ) = C223 by L675 , FUNCT_2:def 1;
thus L678: thesis by L677 , L674 , L675 , L676 , L662 , MESFUNC6:29;
end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
redefine func R6 - R7 -> (Real-Valued-Random-Variable of R3);

correctness by L673;
end;
theorem
L680: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for B288 being Real holds ( B288 (#) R6 ) is (Real-Valued-Random-Variable of R3)))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let C224 being Real;
consider C225 being (Element of R3) such that L681: C225 = R1 and L682: R6 is_measurable_on C225 by L662;
L683: ( dom R6 ) = C225 by L681 , FUNCT_2:def 1;
thus L684: thesis by L683 , L681 , L682 , L662 , MESFUNC6:21;
end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let C226 being Real;
redefine func C226 (#) R6 -> (Real-Valued-Random-Variable of R3);

correctness by L680;
end;
theorem
L686: (for R1 being non  empty set holds (for B289 , B290 being (PartFunc of R1 , ( REAL )) holds ( ( R_EAL B289 ) (#) ( R_EAL B290 ) ) = ( R_EAL ( B289 (#) B290 ) )))
proof
let R1 being non  empty set;
let C227 , C228 being (PartFunc of R1 , ( REAL ));
L687: ( dom ( ( R_EAL C227 ) (#) ( R_EAL C228 ) ) ) = ( ( dom ( R_EAL C227 ) ) /\ ( dom ( R_EAL C228 ) ) ) by MESFUNC1:def 5
.= ( dom ( C227 (#) C228 ) ) by VALUED_1:def 4;
L688:
now
let C229 being set;
assume L689: C229 in ( dom ( ( R_EAL C227 ) (#) ( R_EAL C228 ) ) );
thus L690: ( ( ( R_EAL C227 ) (#) ( R_EAL C228 ) ) . C229 ) = ( ( ( R_EAL C227 ) . C229 ) * ( ( R_EAL C228 ) . C229 ) ) by L689 , MESFUNC1:def 5
.= ( ( C227 . C229 ) * ( C228 . C229 ) ) by EXTREAL1:1
.= ( ( C227 (#) C228 ) . C229 ) by L687 , L689 , VALUED_1:def 4;
end;
thus L691: thesis by L688 , L687 , FUNCT_1:2;
end;
theorem
L692: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for R7 being (Real-Valued-Random-Variable of R3) holds ( R6 (#) R7 ) is (Real-Valued-Random-Variable of R3)))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
consider C230 being (Element of R3) such that L693: C230 = R1 and L694: R6 is_measurable_on C230 by L662;
L695: ( R_EAL R6 ) is_measurable_on C230 by L694 , MESFUNC6:def 1;
L696: (( dom ( R_EAL R6 ) ) = C230 & ( dom ( R_EAL R7 ) ) = C230) by L693 , FUNCT_2:def 1;
L697: ( ( dom ( R_EAL R6 ) ) /\ ( dom ( R_EAL R7 ) ) ) = C230 by L696;
L698: (ex B291 being (Element of R3) st (B291 = R1 & R7 is_measurable_on B291)) by L662;
L699: ( R_EAL R7 ) is_measurable_on C230 by L698 , L693 , MESFUNC6:def 1;
L700: ( ( R_EAL R6 ) (#) ( R_EAL R7 ) ) is_measurable_on C230 by L699 , L695 , L697 , MESFUNC7:15;
L701: ( R_EAL ( R6 (#) R7 ) ) is_measurable_on C230 by L700 , L686;
L702: ( R6 (#) R7 ) is_measurable_on C230 by L701 , MESFUNC6:def 1;
thus L703: thesis by L702 , L693 , L662;
end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
redefine func R6 (#) R7 -> (Real-Valued-Random-Variable of R3);

correctness by L692;
end;
theorem
L705: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for B292 being  real number holds ((( 0 ) <= B292 & R6 is  nonnegative) implies ( R6 to_power B292 ) is (Real-Valued-Random-Variable of R3))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let C231 being  real number;
assume L706: (( 0 ) <= C231 & R6 is  nonnegative);
L707: ( dom R6 ) = R1 by FUNCT_2:def 1;
L708: (( rng ( R6 to_power C231 ) ) c= ( REAL ) & ( dom ( R6 to_power C231 ) ) = ( dom R6 )) by MESFUN6C:def 4;
L709: ( R6 to_power C231 ) is (Function of R1 , ( REAL )) by L708 , L707 , FUNCT_2:2;
consider C232 being (Element of R3) such that L710: C232 = R1 and L711: R6 is_measurable_on C232 by L662;
L712: ( dom R6 ) = C232 by L710 , FUNCT_2:def 1;
thus L713: thesis by L712 , L706 , L710 , L711 , L709 , L662 , MESFUN6C:29;
end;
L714: (for B293 being non  empty set holds (for B294 being (PartFunc of B293 , ( REAL )) holds ( abs B294 ) is  nonnegative))
proof
let C233 being non  empty set;
let C234 being (PartFunc of C233 , ( REAL ));
L715:
now
let C235 being set;
assume L716: C235 in ( dom ( abs C234 ) );
L717: ( ( abs C234 ) . C235 ) = ( abs ( C234 . C235 ) ) by L716 , VALUED_1:def 11;
thus L718: ( 0 ) <= ( ( abs C234 ) . C235 ) by L717 , COMPLEX1:46;
end;
thus L719: ( abs C234 ) is  nonnegative by L715 , MESFUNC6:52;
end;
theorem
L720: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R6 being (Real-Valued-Random-Variable of R3) holds ( abs R6 ) is (Real-Valued-Random-Variable of R3))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
consider C236 being (Element of R3) such that L721: C236 = R1 and L722: R6 is_measurable_on C236 by L662;
L723: (( dom R6 ) = C236 & ( R_EAL R6 ) is_measurable_on C236) by L721 , L722 , FUNCT_2:def 1 , MESFUNC6:def 1;
L724: |. ( R_EAL R6 ) .| is_measurable_on C236 by L723 , MESFUNC2:27;
L725: ( R_EAL ( abs R6 ) ) is_measurable_on C236 by L724 , MESFUNC6:1;
L726: ( abs R6 ) is_measurable_on C236 by L725 , MESFUNC6:def 1;
thus L727: thesis by L726 , L721 , L662;
end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
redefine func abs R6 -> (Real-Valued-Random-Variable of R3);

correctness by L720;
end;
theorem
L729: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for B295 being  real number holds (( 0 ) <= B295 implies ( ( abs R6 ) to_power B295 ) is (Real-Valued-Random-Variable of R3))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let C237 being  real number;
assume L730: ( 0 ) <= C237;
L731: ( abs R6 ) is  nonnegative by L714;
thus L732: thesis by L731 , L730 , L705;
end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R6 being (Real-Valued-Random-Variable of R3);
let R4 being (Probability of R3);
pred R6 is_integrable_on R4
means
:L733: R6 is_integrable_on ( P2M R4 )
;end;
definition
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let C238 being (Real-Valued-Random-Variable of R3);
assume L735: C238 is_integrable_on R4;
func expect (C238 , R4) -> (Element of ( REAL )) equals 
:L736: ( Integral (( P2M R4 ) , C238) );
correctness
proof
L737: C238 is_integrable_on ( P2M R4 ) by L735 , L733;
L738: (( -infty ) < ( Integral (( P2M R4 ) , C238) ) & ( Integral (( P2M R4 ) , C238) ) < ( +infty )) by L737 , MESFUNC6:90;
thus L739: thesis by L738 , XXREAL_0:48;
end;
end;
theorem
L741: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for R7 being (Real-Valued-Random-Variable of R3) holds ((R6 is_integrable_on R4 & R7 is_integrable_on R4) implies ( expect (( R6 + R7 ) , R4) ) = ( ( expect (R6 , R4) ) + ( expect (R7 , R4) ) )))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
set D69 = ( R6 + R7 );
assume L742: (R6 is_integrable_on R4 & R7 is_integrable_on R4);
L743: (( Integral (( P2M R4 ) , R6) ) = ( expect (R6 , R4) ) & ( Integral (( P2M R4 ) , R7) ) = ( expect (R7 , R4) )) by L742 , L736;
L744: (R6 is_integrable_on ( P2M R4 ) & R7 is_integrable_on ( P2M R4 )) by L742 , L733;
consider C239 being (Element of R3) such that L745: C239 = ( ( dom R6 ) /\ ( dom R7 ) ) and L746: ( Integral (( P2M R4 ) , ( R6 + R7 )) ) = ( ( Integral (( P2M R4 ) , ( R6 | C239 )) ) + ( Integral (( P2M R4 ) , ( R7 | C239 )) ) ) by L744 , MESFUNC6:101;
L747: (( dom R6 ) = R1 & ( dom R7 ) = R1) by FUNCT_2:def 1;
L748: ( R6 | C239 ) = R6 by L747 , L745 , FUNCT_2:33;
L749: D69 is_integrable_on ( P2M R4 ) by L744 , MESFUNC6:100;
L750: D69 is_integrable_on R4 by L749 , L733;
thus L751: ( expect (D69 , R4) ) = ( Integral (( P2M R4 ) , ( R6 + R7 )) ) by L750 , L736
.= ( ( Integral (( P2M R4 ) , R6) ) + ( Integral (( P2M R4 ) , R7) ) ) by L745 , L746 , L747 , L748 , FUNCT_2:33
.= ( ( expect (R6 , R4) ) + ( expect (R7 , R4) ) ) by L743 , SUPINF_2:1;
end;
theorem
L752: (for R1 being non  empty set holds (for R2 being Real holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (R6 is_integrable_on R4 implies ( expect (( R2 (#) R6 ) , R4) ) = ( R2 * ( expect (R6 , R4) ) )))))))
proof
let R1 being non  empty set;
let R2 being Real;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R6 being (Real-Valued-Random-Variable of R3);
set D70 = ( R2 (#) R6 );
assume L753: R6 is_integrable_on R4;
L754: ( Integral (( P2M R4 ) , R6) ) = ( expect (R6 , R4) ) by L753 , L736;
L755: R6 is_integrable_on ( P2M R4 ) by L753 , L733;
L756: D70 is_integrable_on ( P2M R4 ) by L755 , MESFUNC6:102;
L757: D70 is_integrable_on R4 by L756 , L733;
thus L758: ( expect (D70 , R4) ) = ( Integral (( P2M R4 ) , ( R2 (#) R6 )) ) by L757 , L736
.= ( ( R_EAL R2 ) * ( Integral (( P2M R4 ) , R6) ) ) by L755 , MESFUNC6:102
.= ( R2 * ( expect (R6 , R4) ) ) by L754 , EXTREAL1:1;
end;
theorem
L759: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R6 being (Real-Valued-Random-Variable of R3) holds (for R7 being (Real-Valued-Random-Variable of R3) holds ((R6 is_integrable_on R4 & R7 is_integrable_on R4) implies ( expect (( R6 - R7 ) , R4) ) = ( ( expect (R6 , R4) ) - ( expect (R7 , R4) ) )))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R6 being (Real-Valued-Random-Variable of R3);
let R7 being (Real-Valued-Random-Variable of R3);
assume that
L760: R6 is_integrable_on R4
and
L761: R7 is_integrable_on R4;
L762: R7 is_integrable_on ( P2M R4 ) by L761 , L733;
L763: ( ( - 1 ) (#) R7 ) is_integrable_on ( P2M R4 ) by L762 , MESFUNC6:102;
L764: ( ( - 1 ) (#) R7 ) is_integrable_on R4 by L763 , L733;
thus L765: ( expect (( R6 - R7 ) , R4) ) = ( ( expect (R6 , R4) ) + ( expect (( ( - 1 ) (#) R7 ) , R4) ) ) by L764 , L760 , L741
.= ( ( expect (R6 , R4) ) + ( ( - 1 ) * ( expect (R7 , R4) ) ) ) by L761 , L752
.= ( ( expect (R6 , R4) ) - ( expect (R7 , R4) ) );
end;
theorem
L766: (for B296 being non  empty  finite set holds (for B297 being (Function of B296 , ( REAL )) holds B297 is (Real-Valued-Random-Variable of ( Trivial-SigmaField B296 ))))
proof
let C240 being non  empty  finite set;
let C241 being (Function of C240 , ( REAL ));
set D71 = ( Trivial-SigmaField C240 );
L767: ((ex B298 being (Element of D71) st (( dom C241 ) = B298 & C241 is_measurable_on B298)) & ( dom C241 ) = C240) by L221 , FUNCT_2:def 1;
thus L768: thesis by L767 , L662;
end;
theorem
L769: (for B299 being non  empty  finite set holds (for B300 being (Probability of ( Trivial-SigmaField B299 )) holds (for B301 being (Real-Valued-Random-Variable of ( Trivial-SigmaField B299 )) holds B301 is_integrable_on B300)))
proof
let C242 being non  empty  finite set;
let C243 being (Probability of ( Trivial-SigmaField C242 ));
let C244 being (Real-Valued-Random-Variable of ( Trivial-SigmaField C242 ));
set D72 = ( P2M C243 );
L770: ( dom C244 ) = C242 by FUNCT_2:def 1;
L771: ( D72 . ( dom C244 ) ) = 1 by L770 , PROB_1:def 8;
L772: ( D72 . ( dom C244 ) ) < ( +infty ) by L771 , XXREAL_0:9;
L773: C244 is_integrable_on D72 by L772 , L150 , L205;
thus L774: thesis by L773 , L733;
end;
theorem
L775: (for B302 being non  empty  finite set holds (for B303 being (Probability of ( Trivial-SigmaField B302 )) holds (for B304 being (Real-Valued-Random-Variable of ( Trivial-SigmaField B302 )) holds (for B305 being (FinSequence of ( REAL )) holds (for B306 being (FinSequence of B302) holds ((( len B305 ) = ( card B302 ) & B306 is  one-to-one & ( rng B306 ) = B302 & ( len B306 ) = ( card B302 ) & (for B307 being Nat holds (B307 in ( dom B305 ) implies ( B305 . B307 ) = ( ( B304 . ( B306 . B307 ) ) * ( B303 . { ( B306 . B307 ) } ) )))) implies ( expect (B304 , B303) ) = ( Sum B305 )))))))
proof
let C245 being non  empty  finite set;
let C246 being (Probability of ( Trivial-SigmaField C245 ));
let C247 being (Real-Valued-Random-Variable of ( Trivial-SigmaField C245 ));
let C248 being (FinSequence of ( REAL ));
let C249 being (FinSequence of C245);
assume L776: (( len C248 ) = ( card C245 ) & C249 is  one-to-one & ( rng C249 ) = C245 & ( len C249 ) = ( card C245 ) & (for B308 being Nat holds (B308 in ( dom C248 ) implies ( C248 . B308 ) = ( ( C247 . ( C249 . B308 ) ) * ( C246 . { ( C249 . B308 ) } ) ))));
L777: ( Integral (( P2M C246 ) , C247) ) = ( Sum C248 ) by L776 , L528;
thus L778: thesis by L777 , L736 , L769;
end;
theorem
L779: (for B309 being non  empty  finite set holds (for B310 being (Probability of ( Trivial-SigmaField B309 )) holds (for B311 being (Real-Valued-Random-Variable of ( Trivial-SigmaField B309 )) holds (ex B312 being (FinSequence of ( REAL )) st (ex B313 being (FinSequence of B309) st (( len B312 ) = ( card B309 ) & B313 is  one-to-one & ( rng B313 ) = B309 & ( len B313 ) = ( card B309 ) & (for B314 being Nat holds (B314 in ( dom B312 ) implies ( B312 . B314 ) = ( ( B311 . ( B313 . B314 ) ) * ( B310 . { ( B313 . B314 ) } ) ))) & ( expect (B311 , B310) ) = ( Sum B312 )))))))
proof
let C250 being non  empty  finite set;
let C251 being (Probability of ( Trivial-SigmaField C250 ));
let C252 being (Real-Valued-Random-Variable of ( Trivial-SigmaField C250 ));
L780: (C252 is_integrable_on C251 & (ex B315 being (FinSequence of ( REAL )) st (ex B316 being (FinSequence of C250) st (( len B315 ) = ( card C250 ) & B316 is  one-to-one & ( rng B316 ) = C250 & ( len B316 ) = ( card C250 ) & (for B317 being Nat holds (B317 in ( dom B315 ) implies ( B315 . B317 ) = ( ( C252 . ( B316 . B317 ) ) * ( C251 . { ( B316 . B317 ) } ) ))) & ( Integral (( P2M C251 ) , C252) ) = ( Sum B315 ))))) by L538 , L769;
thus L781: thesis by L780 , L736;
end;
theorem
L782: (for B318 being non  empty  finite set holds (for B319 being (Probability of ( Trivial-SigmaField B318 )) holds (for B320 being (Real-Valued-Random-Variable of ( Trivial-SigmaField B318 )) holds (ex B321 being (FinSequence of ( REAL )) st (ex B322 being (FinSequence of B318) st (( len B321 ) = ( card B318 ) & B322 is  one-to-one & ( rng B322 ) = B318 & ( len B322 ) = ( card B318 ) & (for B323 being Nat holds (B323 in ( dom B321 ) implies ( B321 . B323 ) = ( ( B320 . ( B322 . B323 ) ) * ( B319 . { ( B322 . B323 ) } ) ))) & ( expect (B320 , B319) ) = ( Sum B321 )))))))
proof
let C253 being non  empty  finite set;
let C254 being (Probability of ( Trivial-SigmaField C253 ));
let C255 being (Real-Valued-Random-Variable of ( Trivial-SigmaField C253 ));
L783: (C255 is_integrable_on C254 & (ex B324 being (FinSequence of ( REAL )) st (ex B325 being (FinSequence of C253) st (( len B324 ) = ( card C253 ) & B325 is  one-to-one & ( rng B325 ) = C253 & ( len B325 ) = ( card C253 ) & (for B326 being Nat holds (B326 in ( dom B324 ) implies ( B324 . B326 ) = ( ( C255 . ( B325 . B326 ) ) * ( C254 . { ( B325 . B326 ) } ) ))) & ( Integral (( P2M C254 ) , C255) ) = ( Sum B324 ))))) by L538 , L769;
thus L784: thesis by L783 , L736;
end;
theorem
L785: (for B327 being non  empty  finite set holds (for B328 being (Real-Valued-Random-Variable of ( Trivial-SigmaField B327 )) holds (for B329 being (FinSequence of ( REAL )) holds (for B330 being (FinSequence of B327) holds ((( len B329 ) = ( card B327 ) & B330 is  one-to-one & ( rng B330 ) = B327 & ( len B330 ) = ( card B327 ) & (for B331 being Nat holds (B331 in ( dom B329 ) implies ( B329 . B331 ) = ( B328 . ( B330 . B331 ) )))) implies ( expect (B328 , ( Trivial-Probability B327 )) ) = ( ( Sum B329 ) / ( card B327 ) ))))))
proof
let C256 being non  empty  finite set;
let C257 being (Real-Valued-Random-Variable of ( Trivial-SigmaField C256 ));
let C258 being (FinSequence of ( REAL ));
let C259 being (FinSequence of C256);
assume that
L786: ( len C258 ) = ( card C256 )
and
L787: (C259 is  one-to-one & ( rng C259 ) = C256)
and
L788: ( len C259 ) = ( card C256 )
and
L789: (for B332 being Nat holds (B332 in ( dom C258 ) implies ( C258 . B332 ) = ( C257 . ( C259 . B332 ) )));
set D73 = ( Trivial-Probability C256 );
deffunc H2(Nat) = ( ( C257 . ( C259 . $1 ) ) * ( D73 . { ( C259 . $1 ) } ) );
consider C260 being (FinSequence of ( REAL )) such that L790: (( len C260 ) = ( len C258 ) & (for B333 being Nat holds (B333 in ( dom C260 ) implies ( C260 . B333 ) = H2(B333)))) from FINSEQ_2:sch 1;
L791: ( dom C260 ) = ( dom C258 ) by L790 , FINSEQ_3:29;
L792:
now
let C261 being Nat;
assume L793: C261 in ( dom C260 );
L794: ( dom C259 ) = ( Seg ( len C259 ) ) by FINSEQ_1:def 3
.= ( dom C260 ) by L786 , L788 , L790 , FINSEQ_1:def 3;
L795: ( C259 . C261 ) in C256 by L794 , L793 , PARTFUN1:4;
reconsider D74 = { ( C259 . C261 ) } as (Singleton of C256) by L795 , RPR_1:4;
L796: ( D73 . { ( C259 . C261 ) } ) = ( prob D74 ) by L636
.= ( 1 / ( card C256 ) ) by RPR_1:14;
thus L797: ( ( ( 1 / ( card C256 ) ) (#) C258 ) . C261 ) = ( ( 1 / ( card C256 ) ) * ( C258 . C261 ) ) by VALUED_1:6
.= ( ( 1 / ( card C256 ) ) * ( C257 . ( C259 . C261 ) ) ) by L789 , L791 , L793
.= ( C260 . C261 ) by L790 , L793 , L796;
end;
L798: ( dom C260 ) = ( dom ( ( 1 / ( card C256 ) ) (#) C258 ) ) by L791 , VALUED_1:def 5;
L799: ( ( 1 / ( card C256 ) ) (#) C258 ) = C260 by L798 , L792 , FINSEQ_1:13;
L800: ( expect (C257 , D73) ) = ( Sum ( ( 1 / ( card C256 ) ) (#) C258 ) ) by L799 , L786 , L787 , L788 , L790 , L775
.= ( ( Sum C258 ) / ( card C256 ) ) by RVSUM_1:87;
thus L801: thesis by L800;
end;
theorem
L802: (for B334 being non  empty  finite set holds (for B335 being (Real-Valued-Random-Variable of ( Trivial-SigmaField B334 )) holds (ex B336 being (FinSequence of ( REAL )) st (ex B337 being (FinSequence of B334) st (( len B336 ) = ( card B334 ) & B337 is  one-to-one & ( rng B337 ) = B334 & ( len B337 ) = ( card B334 ) & (for B338 being Nat holds (B338 in ( dom B336 ) implies ( B336 . B338 ) = ( B335 . ( B337 . B338 ) ))) & ( expect (B335 , ( Trivial-Probability B334 )) ) = ( ( Sum B336 ) / ( card B334 ) ))))))
proof
let C262 being non  empty  finite set;
let C263 being (Real-Valued-Random-Variable of ( Trivial-SigmaField C262 ));
set D75 = ( Trivial-Probability C262 );
consider C264 being (FinSequence of ( REAL )), C265 being (FinSequence of C262) such that L803: ( len C264 ) = ( card C262 ) and L804: (C265 is  one-to-one & ( rng C265 ) = C262) and L805: ( len C265 ) = ( card C262 ) and L806: (for B339 being Nat holds (B339 in ( dom C264 ) implies ( C264 . B339 ) = ( ( C263 . ( C265 . B339 ) ) * ( D75 . { ( C265 . B339 ) } ) ))) and L807: ( expect (C263 , D75) ) = ( Sum C264 ) by L782;
deffunc H3(Nat) = ( C263 . ( C265 . $1 ) );
consider C266 being (FinSequence of ( REAL )) such that L808: (( len C266 ) = ( len C264 ) & (for B340 being Nat holds (B340 in ( dom C266 ) implies ( C266 . B340 ) = H3(B340)))) from FINSEQ_2:sch 1;
L809: ( dom C264 ) = ( dom C266 ) by L808 , FINSEQ_3:29;
L810:
now
let C267 being Nat;
assume L811: C267 in ( dom C264 );
L812: ( dom C265 ) = ( Seg ( len C265 ) ) by FINSEQ_1:def 3
.= ( dom C264 ) by L803 , L805 , FINSEQ_1:def 3;
L813: ( C265 . C267 ) in C262 by L812 , L811 , PARTFUN1:4;
reconsider D76 = { ( C265 . C267 ) } as (Singleton of C262) by L813 , RPR_1:4;
L814: ( D75 . { ( C265 . C267 ) } ) = ( prob D76 ) by L636
.= ( 1 / ( card C262 ) ) by RPR_1:14;
thus L815: ( ( ( 1 / ( card C262 ) ) (#) C266 ) . C267 ) = ( ( 1 / ( card C262 ) ) * ( C266 . C267 ) ) by VALUED_1:6
.= ( ( 1 / ( card C262 ) ) * ( C263 . ( C265 . C267 ) ) ) by L808 , L809 , L811
.= ( C264 . C267 ) by L806 , L811 , L814;
end;
take C266;
L816: ( dom C264 ) = ( dom ( ( 1 / ( card C262 ) ) (#) C266 ) ) by L809 , VALUED_1:def 5;
L817: ( ( 1 / ( card C262 ) ) (#) C266 ) = C264 by L816 , L810 , FINSEQ_1:13;
thus L818: thesis by L817 , L803 , L804 , L805 , L807 , L808 , RVSUM_1:87;
end;
theorem
L819: (for R1 being non  empty set holds (for R2 being Real holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for B341 being (Real-Valued-Random-Variable of R3) holds ((( 0 ) < R2 & B341 is  nonnegative & B341 is_integrable_on R4) implies ( R4 . { B342 where B342 is (Element of R1) : R2 <= ( B341 . B342 ) } ) <= ( ( expect (B341 , R4) ) / R2 )))))))
proof
let R1 being non  empty set;
let R2 being Real;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let C268 being (Real-Valued-Random-Variable of R3);
assume that
L820: ( 0 ) < R2
and
L821: C268 is  nonnegative
and
L822: C268 is_integrable_on R4;
set D77 = ( P2M R4 );
set D78 = { B343 where B343 is (Element of R1) : R2 <= ( C268 . B343 ) };
consider C269 being (Element of R3) such that L823: C269 = R1 and L824: C268 is_measurable_on C269 by L662;
L825:
now
let C270 being set;
assume L826: C270 in ( C269 /\ ( great_eq_dom (C268 , R2) ) );
L827: C270 in ( great_eq_dom (C268 , R2) ) by L826 , XBOOLE_0:def 4;
L828: (C270 in ( dom C268 ) & R2 <= ( C268 . C270 )) by L827 , MESFUNC1:def 14;
thus L829: C270 in D78 by L828;
end;
L830: ( C269 /\ ( great_eq_dom (C268 , R2) ) ) c= D78 by L825 , TARSKI:def 3;
L831: ( dom C268 ) = C269 by L823 , FUNCT_2:def 1;
L832:
now
let C271 being set;
assume L833: C271 in D78;
L834: (ex B344 being (Element of R1) st (C271 = B344 & R2 <= ( C268 . B344 ))) by L833;
L835: C271 in ( great_eq_dom (C268 , R2) ) by L834 , L823 , L831 , MESFUNC1:def 14;
thus L836: C271 in ( C269 /\ ( great_eq_dom (C268 , R2) ) ) by L835 , L823 , L834 , XBOOLE_0:def 4;
end;
L837: D78 c= ( C269 /\ ( great_eq_dom (C268 , R2) ) ) by L832 , TARSKI:def 3;
L838: ( C269 /\ ( great_eq_dom (C268 , R2) ) ) = D78 by L837 , L830 , XBOOLE_0:def 10;
reconsider D79 = D78 as (Element of R3) by L838 , L824 , L831 , MESFUNC6:13;
L839: ( Integral (D77 , ( C268 | D79 )) ) <= ( Integral (D77 , ( C268 | C269 )) ) by L821 , L823 , L824 , L831 , MESFUNC6:87;
L840: ( Integral (D77 , ( C268 | D79 )) ) <= ( Integral (D77 , C268) ) by L839 , L823 , FUNCT_2:33;
L841: ( expect (C268 , R4) ) = ( Integral (D77 , C268) ) by L822 , L736;
reconsider D80 = ( Integral (D77 , C268) ) as (Element of ( REAL )) by L841;
reconsider D81 = ( D77 . D79 ) as (Element of ( REAL )) by XXREAL_0:14;
L842: (for B345 being (Element of R1) holds (B345 in D79 implies R2 <= ( C268 . B345 )))
proof
let C272 being (Element of R1);
assume L843: C272 in D79;
L844: (ex B346 being (Element of R1) st (B346 = C272 & R2 <= ( C268 . B346 ))) by L843;
thus L845: thesis by L844;
end;
L846: ( D77 . D79 ) <= 1 by PROB_1:35;
L847: ( D77 . D79 ) < ( +infty ) by L846 , XXREAL_0:2 , XXREAL_0:9;
L848: C268 is_integrable_on ( P2M R4 ) by L822 , L733;
L849: ( ( R_EAL R2 ) * ( D77 . D79 ) ) <= ( Integral (D77 , ( C268 | D79 )) ) by L848 , L823 , L831 , L847 , L842 , L32;
L850: ( R2 * D81 ) <= ( Integral (D77 , ( C268 | D79 )) ) by L849 , EXTREAL1:1;
L851: ( R2 * D81 ) <= ( Integral (D77 , C268) ) by L850 , L840 , XXREAL_0:2;
L852: ( ( R2 * D81 ) / R2 ) <= ( D80 / R2 ) by L851 , L820 , XREAL_1:72;
L853: D81 <= ( D80 / R2 ) by L852 , L820 , XCMPLX_1:89;
thus L854: thesis by L853 , L822 , L736;
end;
