:: Non-contiguous Substrings and One-to-one Finite Sequences
::  by Wojciech A. Trybulec
::
:: Received April 8, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, FINSEQ_1, XBOOLE_0, ARYTM_3, CARD_1, XXREAL_0, ARYTM_1,
      NAT_1, SUBSET_1, TARSKI, RELAT_1, ORDINAL4, FUNCT_1, FINSET_1, FINSEQ_2,
      FUNCT_2, CARD_3, FUNCOP_1, FINSEQ_3, EQREL_1, ALG_1, FUNCT_6, SETFAM_1,
      FINSEQ_4, ZFMISC_1, FUNCT_5, PARTFUN1;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, SETFAM_1, CARD_1, NUMBERS,
      ORDINAL1, XCMPLX_0, RELAT_1, FUNCT_1, FINSEQ_1, RELSET_1, PARTFUN1,
      FUNCT_2, BINOP_1, FUNCOP_1, FINSEQ_2, FINSET_1, NAT_1, FINSEQOP,
      XXREAL_0, CARD_3, FUNCT_3, FUNCT_5, FUNCT_6, EQREL_1;
 constructors ENUMSET1, PARTFUN1, WELLORD2, XXREAL_0, REAL_1, NAT_1, INT_1,
      FINSEQOP, RELSET_1, CARD_3, DOMAIN_1, CARD_2, EQREL_1, FUNCT_6, BINOP_1,
      FUNCT_3, FUNCT_5, FINSEQ_2;
 registrations XBOOLE_0, RELAT_1, FUNCT_1, ORDINAL1, FINSET_1, XXREAL_0,
      XREAL_0, NAT_1, INT_1, FINSEQ_1, CARD_1, FINSEQ_2, FUNCOP_1, CARD_3,
      SUBSET_1, FUNCT_2, CARD_2, EQREL_1, RELSET_1, FUNCT_4;
 requirements NUMERALS, REAL, SUBSET, BOOLE, ARITHM;
 definitions FUNCT_1, TARSKI, WELLORD2, XBOOLE_0, FINSEQ_2, CARD_3, FUNCOP_1,
      EQREL_1, FUNCT_6;
 theorems CARD_1, CARD_2, ENUMSET1, FINSEQ_1, FINSEQ_2, FINSET_1, FUNCT_1,
      INT_1, NAT_1, TARSKI, WELLORD2, ZFMISC_1, RELAT_1, XREAL_1, XBOOLE_0,
      XBOOLE_1, FUNCT_2, GRFUNC_1, SUBSET_1, XXREAL_0, ORDINAL1, NUMBERS,
      CARD_3, FUNCOP_1, EQREL_1, FUNCT_6, SETFAM_1, FUNCT_5, FUNCT_3, XTUPLE_0;
 schemes FINSEQ_1, FUNCT_1, NAT_1, CLASSES1, RELSET_1;

begin
theorem
L1: ( Seg 3 ) = { 1 , 2 , 3 }
proof
thus L2: ( Seg 3 ) = ( { 1 , 2 } \/ { ( 2 + 1 ) } ) by FINSEQ_1:2 , FINSEQ_1:9
.= { 1 , 2 , 3 } by ENUMSET1:3;
end;
theorem
L3: ( Seg 4 ) = { 1 , 2 , 3 , 4 }
proof
thus L4: ( Seg 4 ) = ( { 1 , 2 , 3 } \/ { ( 3 + 1 ) } ) by L1 , FINSEQ_1:9
.= { 1 , 2 , 3 , 4 } by ENUMSET1:6;
end;
theorem
L5: ( Seg 5 ) = { 1 , 2 , 3 , 4 , 5 }
proof
thus L6: ( Seg 5 ) = ( { 1 , 2 , 3 , 4 } \/ { ( 4 + 1 ) } ) by L3 , FINSEQ_1:9
.= { 1 , 2 , 3 , 4 , 5 } by ENUMSET1:10;
end;
theorem
L7: ( Seg 6 ) = { 1 , 2 , 3 , 4 , 5 , 6 }
proof
thus L8: ( Seg 6 ) = ( { 1 , 2 , 3 , 4 , 5 } \/ { ( 5 + 1 ) } ) by L5 , FINSEQ_1:9
.= { 1 , 2 , 3 , 4 , 5 , 6 } by ENUMSET1:15;
end;
theorem
L9: ( Seg 7 ) = { 1 , 2 , 3 , 4 , 5 , 6 , 7 }
proof
thus L10: ( Seg 7 ) = ( { 1 , 2 , 3 , 4 , 5 , 6 } \/ { ( 6 + 1 ) } ) by L7 , FINSEQ_1:9
.= { 1 , 2 , 3 , 4 , 5 , 6 , 7 } by ENUMSET1:21;
end;
theorem
L11: ( Seg 8 ) = { 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 }
proof
thus L12: ( Seg 8 ) = ( { 1 , 2 , 3 , 4 , 5 , 6 , 7 } \/ { ( 7 + 1 ) } ) by L9 , FINSEQ_1:9
.= { 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 } by ENUMSET1:28;
end;
theorem
L13: (for R17 being Nat holds (( Seg R17 ) = ( {} ) iff (not R17 in ( Seg R17 ))))
proof
let R17 being Nat;
thus L14: (( Seg R17 ) = ( {} ) implies (not R17 in ( Seg R17 )));
assume L15: (not R17 in ( Seg R17 ));
L16: R17 = ( 0 ) by L15 , FINSEQ_1:3;
thus L17: ( Seg R17 ) = ( {} ) by L16;
end;
theorem
L18: (for R17 being Nat holds (not ( R17 + 1 ) in ( Seg R17 )))
proof
let R17 being Nat;
assume L19: ( R17 + 1 ) in ( Seg R17 );
L20: ( R17 + 1 ) <= R17 by L19 , FINSEQ_1:1;
L21: R17 <= ( R17 + 1 ) by NAT_1:12;
L22: ( R17 + ( 0 ) ) = ( R17 + 1 ) by L21 , L20 , XXREAL_0:1;
thus L23: thesis by L22;
end;
theorem
L24: (for R17 being Nat holds (for R20 being Nat holds (R17 <> ( 0 ) implies R17 in ( Seg ( R17 + R20 ) ))))
proof
let R17 being Nat;
let R20 being Nat;
assume L25: R17 <> ( 0 );
L26: ( ( 0 ) + 1 ) <= R17 by L25 , NAT_1:13;
L27: R17 <= ( R17 + R20 ) by NAT_1:12;
thus L28: thesis by L27 , L26 , FINSEQ_1:1;
end;
theorem
L29: (for R17 being Nat holds (for R20 being Nat holds (( R17 + R20 ) in ( Seg R17 ) implies R20 = ( 0 ))))
proof
let R17 being Nat;
let R20 being Nat;
assume L30: ( R17 + R20 ) in ( Seg R17 );
L31: ( R17 + R20 ) <= ( R17 + ( 0 ) ) by L30 , FINSEQ_1:1;
thus L32: thesis by L31 , XREAL_1:6;
end;
theorem
L33: (for R17 being Nat holds (for R20 being Nat holds (R17 < R20 implies ( R17 + 1 ) in ( Seg R20 ))))
proof
let R17 being Nat;
let R20 being Nat;
assume L34: R17 < R20;
L35: ( R17 + 1 ) <= R20 by L34 , NAT_1:13;
L36: 1 <= ( R17 + 1 ) by NAT_1:12;
thus L37: thesis by L36 , L35 , FINSEQ_1:1;
end;
theorem
L38: (for R17 being Nat holds (for R19 being Nat holds (for R20 being Nat holds ((R17 in ( Seg R20 ) & R19 < R17) implies ( R17 - R19 ) in ( Seg R20 )))))
proof
let R17 being Nat;
let R19 being Nat;
let R20 being Nat;
assume that
L39: R17 in ( Seg R20 )
and
L40: R19 < R17;
consider C1 being Nat such that L41: R17 = ( R19 + C1 ) by L40 , NAT_1:10;
reconsider D1 = ( R17 - R19 ) as (Element of ( NAT )) by L41 , ORDINAL1:def 12;
L42:
now
assume L43: (not 1 <= D1);
L44: D1 = ( 0 ) by L43 , NAT_1:14;
thus L45: contradiction by L44 , L40;
end;
L46: R17 <= R20 by L39 , FINSEQ_1:1;
L47: C1 <= R17 by L41 , NAT_1:12;
L48: D1 <= R20 by L47 , L41 , L46 , XXREAL_0:2;
thus L49: thesis by L48 , L42 , FINSEQ_1:1;
end;
theorem
L50: (for R17 being Nat holds (for R20 being Nat holds (( R17 - R20 ) in ( Seg R17 ) iff R20 < R17)))
proof
let R17 being Nat;
let R20 being Nat;
thus L51: (( R17 - R20 ) in ( Seg R17 ) implies R20 < R17)
proof
assume L52: ( R17 - R20 ) in ( Seg R17 );
reconsider D2 = ( R17 - R20 ) as (Element of ( NAT )) by L52;
assume L53: (not R20 < R17);
L54: ( R17 - R20 ) <= ( R20 - R20 ) by L53 , XREAL_1:9;
L55: D2 = ( 0 ) by L54;
thus L56: contradiction by L55 , L52 , FINSEQ_1:1;
end;

thus L57: thesis by L38 , FINSEQ_1:3;
end;
theorem
L58: (for R17 being Nat holds ( Seg R17 ) misses { ( R17 + 1 ) })
proof
let R17 being Nat;
set D3 = the (Element of ( ( Seg R17 ) /\ { ( R17 + 1 ) } ));
assume L59: (not thesis);
L60: ( ( Seg R17 ) /\ { ( R17 + 1 ) } ) <> ( {} ) by L59 , XBOOLE_0:def 7;
L61: D3 in ( Seg R17 ) by L60 , XBOOLE_0:def 4;
reconsider D4 = D3 as (Element of ( NAT )) by L61;
L62: D4 in { ( R17 + 1 ) } by L60 , XBOOLE_0:def 4;
L63: D4 = ( R17 + 1 ) by L62 , TARSKI:def 1;
L64: D4 <= R17 by L61 , FINSEQ_1:1;
thus L65: thesis by L64 , L63 , XREAL_1:29;
end;
theorem
L66: (for R17 being Nat holds ( ( Seg ( R17 + 1 ) ) \ ( Seg R17 ) ) = { ( R17 + 1 ) })
proof
let R17 being Nat;
L67: ( Seg ( R17 + 1 ) ) = ( ( Seg R17 ) \/ { ( R17 + 1 ) } ) by FINSEQ_1:9;
L68: ( Seg R17 ) misses { ( R17 + 1 ) } by L58;
thus L69: thesis by L68 , L67 , XBOOLE_1:88;
end;
theorem
L70: (for R17 being Nat holds ( Seg R17 ) <> ( Seg ( R17 + 1 ) )) by L18 , FINSEQ_1:4;
theorem
L71: (for R17 being Nat holds (for R20 being Nat holds (( Seg R17 ) = ( Seg ( R17 + R20 ) ) implies R20 = ( 0 )))) by L29 , FINSEQ_1:3;
theorem
L72: (for R17 being Nat holds (for R20 being Nat holds ( Seg R17 ) c= ( Seg ( R17 + R20 ) )))
proof
let R17 being Nat;
let R20 being Nat;
L73: R17 <= ( R17 + R20 ) by NAT_1:12;
thus L74: thesis by L73 , FINSEQ_1:5;
end;
theorem
L75: (for R17 being Nat holds (for R20 being Nat holds ( Seg R17 ) , ( Seg R20 ) are_c=-comparable ))
proof
let R17 being Nat;
let R20 being Nat;
L76: (R20 <= R17 or R17 <= R20);
L77: (( Seg R20 ) c= ( Seg R17 ) or ( Seg R17 ) c= ( Seg R20 )) by L76 , FINSEQ_1:5;
thus L78: thesis by L77 , XBOOLE_0:def 9;
end;
theorem
L79: (for R7 being set holds (for R17 being Nat holds (( Seg R17 ) = { R7 } implies (R17 = 1 & R7 = 1))))
proof
let R7 being set;
let R17 being Nat;
assume L80: ( Seg R17 ) = { R7 };
L81:
now
per cases ;
suppose L82: R17 = ( 0 );

thus L83: thesis by L82 , L80;
end;
suppose L84: R17 <> ( 0 );

L85: R17 in ( Seg R17 ) by L84 , FINSEQ_1:3;
L86: 1 <= R17 by L85 , FINSEQ_1:1;
L87: ( Seg 1 ) c= ( Seg R17 ) by L86 , FINSEQ_1:5;
L88: ( Seg 1 ) = { R7 } by L87 , L80 , ZFMISC_1:33;
thus L89: thesis by L88 , L80 , L85 , FINSEQ_1:2 , TARSKI:def 1 , ZFMISC_1:3;
end;
end;
thus L91: thesis by L81;
end;
theorem
L92: (for R6 being set holds (for R7 being set holds (for R17 being Nat holds ((( Seg R17 ) = { R6 , R7 } & R6 <> R7) implies (R17 = 2 & { R6 , R7 } = { 1 , 2 })))))
proof
let R6 being set;
let R7 being set;
let R17 being Nat;
assume that
L93: ( Seg R17 ) = { R6 , R7 }
and
L94: R6 <> R7;
L95:
now
per cases ;
suppose L96: R17 = ( 0 );

thus L97: thesis by L96 , L93;
end;
suppose L98: R17 <> ( 0 );

L99:
now
per cases ;
suppose L100: R17 = 1;

thus L101: thesis by L100 , L93 , L94 , FINSEQ_1:2 , ZFMISC_1:5;
end;
suppose L102: R17 <> 1;

L103: 1 <= R17 by L98 , NAT_1:14;
L104: 1 < R17 by L103 , L102 , XXREAL_0:1;
L105: ( 1 + 1 ) <= R17 by L104 , NAT_1:13;
L106: ( Seg 2 ) c= ( Seg R17 ) by L105 , FINSEQ_1:5;
L107: ((1 = R6 & 2 = R6) or (1 = R6 & 2 = R7) or (2 = R6 & 1 = R7) or (1 = R7 & 2 = R7)) by L106 , L93 , FINSEQ_1:2 , ZFMISC_1:22;
L108:
now
L109: R17 in ( Seg R17 ) by L93 , L13;
L110: (R17 = 1 or R17 = 2) by L109 , L93 , L107 , TARSKI:def 2;
assume L111: (not R17 <= 2);
thus L112: contradiction by L111 , L110;
end;
thus L113: thesis by L108 , L93 , L105 , FINSEQ_1:2 , XXREAL_0:1;
end;
end;
thus L115: thesis by L99;
end;
end;
thus L117: thesis by L95;
end;
theorem
L118: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R6 being set holds (R6 in ( dom R1 ) implies R6 in ( dom ( R1 ^ R2 ) )))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R6 being set;
L119: ( dom R1 ) c= ( dom ( R1 ^ R2 ) ) by FINSEQ_1:26;
thus L120: thesis by L119;
end;
theorem
L121: (for R1 being FinSequence holds (for R6 being set holds (R6 in ( dom R1 ) implies R6 is (Element of ( NAT )))));
theorem
L122: (for R1 being FinSequence holds (for R6 being set holds (R6 in ( dom R1 ) implies R6 <> ( 0 ))))
proof
let R1 being FinSequence;
let R6 being set;
assume L123: R6 in ( dom R1 );
L124: R6 in ( Seg ( len R1 ) ) by L123 , FINSEQ_1:def 3;
thus L125: thesis by L124 , FINSEQ_1:1;
end;
theorem
L126: (for R1 being FinSequence holds (for R20 being Nat holds (R20 in ( dom R1 ) iff (1 <= R20 & R20 <= ( len R1 )))))
proof
let R1 being FinSequence;
let R20 being Nat;
thus L127: (R20 in ( dom R1 ) implies (1 <= R20 & R20 <= ( len R1 )))
proof
assume L128: R20 in ( dom R1 );
L129: R20 in ( Seg ( len R1 ) ) by L128 , FINSEQ_1:def 3;
thus L130: thesis by L129 , FINSEQ_1:1;
end;

assume that
L131: 1 <= R20
and
L132: R20 <= ( len R1 );
L133: R20 in ( Seg ( len R1 ) ) by L131 , L132 , FINSEQ_1:1;
thus L134: thesis by L133 , FINSEQ_1:def 3;
end;
theorem
L135: (for R1 being FinSequence holds (for R20 being Nat holds (R20 in ( dom R1 ) iff (( R20 - 1 ) is (Element of ( NAT )) & ( ( len R1 ) - R20 ) is (Element of ( NAT ))))))
proof
let R1 being FinSequence;
let R20 being Nat;
thus L136: (R20 in ( dom R1 ) implies (( R20 - 1 ) is (Element of ( NAT )) & ( ( len R1 ) - R20 ) is (Element of ( NAT ))))
proof
assume L137: R20 in ( dom R1 );
L138: R20 <= ( len R1 ) by L137 , L126;
L139: 1 <= R20 by L137 , L126;
thus L140: thesis by L139 , L138 , INT_1:5;
end;

assume that
L141: ( R20 - 1 ) is (Element of ( NAT ))
and
L142: ( ( len R1 ) - R20 ) is (Element of ( NAT ));
L143: ( ( 0 ) + R20 ) <= ( len R1 ) by L142 , XREAL_1:19;
L144: ( ( 0 ) + 1 ) <= R20 by L141 , XREAL_1:19;
thus L145: thesis by L144 , L143 , L126;
end;
canceled 2;
theorem
L146: (for R1 being FinSequence holds (for R2 being FinSequence holds (( len R1 ) = ( len R2 ) iff ( dom R1 ) = ( dom R2 ))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
L147: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
thus L148: thesis by L147 , FINSEQ_1:def 3;
end;
theorem
L149: (for R1 being FinSequence holds (for R2 being FinSequence holds (( len R1 ) <= ( len R2 ) iff ( dom R1 ) c= ( dom R2 ))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
L150: ( dom R2 ) = ( Seg ( len R2 ) ) by FINSEQ_1:def 3;
L151: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
thus L152: thesis by L151 , L150 , FINSEQ_1:5;
end;
theorem
L153: (for R1 being FinSequence holds (for R6 being set holds (R6 in ( rng R1 ) implies 1 in ( dom R1 ))))
proof
let R1 being FinSequence;
let R6 being set;
assume L154: R6 in ( rng R1 );
L155: R1 <> ( {} ) by L154;
L156: 1 <= ( len R1 ) by L155 , NAT_1:14;
L157: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
thus L158: thesis by L157 , L156 , FINSEQ_1:1;
end;
theorem
L159: (for R1 being FinSequence holds (( rng R1 ) <> ( {} ) implies 1 in ( dom R1 )))
proof
let R1 being FinSequence;
set D5 = the (Element of ( rng R1 ));
assume L160: ( rng R1 ) <> ( {} );
L161: D5 in ( rng R1 ) by L160;
thus L162: thesis by L161 , L153;
end;
theorem
L163: (for R6 being set holds (for R7 being set holds ( {} ) <> <* R6 , R7 *>));
theorem
L164: (for R6 being set holds (for R7 being set holds (for R10 being set holds ( {} ) <> <* R6 , R7 , R10 *>)));
theorem
L165: (for R6 being set holds (for R7 being set holds (for R10 being set holds <* R6 *> <> <* R7 , R10 *>)))
proof
let R6 being set;
let R7 being set;
let R10 being set;
L166: ( len <* R6 *> ) = 1 by FINSEQ_1:40;
thus L167: thesis by L166 , FINSEQ_1:44;
end;
theorem
L168: (for R4 being set holds (for R6 being set holds (for R7 being set holds (for R10 being set holds <* R4 *> <> <* R6 , R7 , R10 *>))))
proof
let R4 being set;
let R6 being set;
let R7 being set;
let R10 being set;
L169: ( len <* R4 *> ) = 1 by FINSEQ_1:40;
thus L170: thesis by L169 , FINSEQ_1:45;
end;
theorem
L171: (for R4 being set holds (for R5 being set holds (for R6 being set holds (for R7 being set holds (for R10 being set holds <* R4 , R5 *> <> <* R6 , R7 , R10 *>)))))
proof
let R4 being set;
let R5 being set;
let R6 being set;
let R7 being set;
let R10 being set;
L172: ( len <* R4 , R5 *> ) = 2 by FINSEQ_1:44;
thus L173: thesis by L172 , FINSEQ_1:45;
end;
theorem
L174: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R3 being FinSequence holds ((( len R3 ) = ( ( len R1 ) + ( len R2 ) ) & (for B1 being (Element of ( NAT )) holds (B1 in ( dom R1 ) implies ( R3 . B1 ) = ( R1 . B1 ))) & (for B2 being (Element of ( NAT )) holds (B2 in ( dom R2 ) implies ( R3 . ( ( len R1 ) + B2 ) ) = ( R2 . B2 )))) implies R3 = ( R1 ^ R2 )))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R3 being FinSequence;
assume L175: ( len R3 ) = ( ( len R1 ) + ( len R2 ) );
L176: ( dom R3 ) = ( Seg ( ( len R1 ) + ( len R2 ) ) ) by L175 , FINSEQ_1:def 3;
assume that
L177: (for B3 being (Element of ( NAT )) holds (B3 in ( dom R1 ) implies ( R3 . B3 ) = ( R1 . B3 )))
and
L178: (for B4 being (Element of ( NAT )) holds (B4 in ( dom R2 ) implies ( R3 . ( ( len R1 ) + B4 ) ) = ( R2 . B4 )));
L179: (for B5 being Nat holds (B5 in ( dom R2 ) implies ( R3 . ( ( len R1 ) + B5 ) ) = ( R2 . B5 ))) by L178;
L180: (for B6 being Nat holds (B6 in ( dom R1 ) implies ( R3 . B6 ) = ( R1 . B6 ))) by L177;
thus L181: thesis by L180 , L176 , L179 , FINSEQ_1:def 7;
end;
L182: (for R11 being set holds (for R17 being Nat holds (R11 c= ( Seg R17 ) implies ( Sgm R11 ) is  one-to-one)))
proof
let R11 being set;
let R17 being Nat;
assume L183: R11 c= ( Seg R17 );
L184: ( rng ( Sgm R11 ) ) = R11 by L183 , FINSEQ_1:def 13;
let R6 being set;
let R7 being set;
assume that
L185: R6 in ( dom ( Sgm R11 ) )
and
L186: R7 in ( dom ( Sgm R11 ) )
and
L187: ( ( Sgm R11 ) . R6 ) = ( ( Sgm R11 ) . R7 )
and
L188: R6 <> R7;
L189: ( ( Sgm R11 ) . R7 ) in ( rng ( Sgm R11 ) ) by L186 , FUNCT_1:def 3;
L190: ( ( Sgm R11 ) . R7 ) in ( Seg R17 ) by L189 , L183 , L184;
L191: ( ( Sgm R11 ) . R6 ) in ( rng ( Sgm R11 ) ) by L185 , FUNCT_1:def 3;
L192: ( ( Sgm R11 ) . R6 ) in ( Seg R17 ) by L191 , L183 , L184;
reconsider D6 = ( ( Sgm R11 ) . R6 ) , D7 = ( ( Sgm R11 ) . R7 ) as (Element of ( NAT )) by L192 , L190;
reconsider D8 = R6 , D9 = R7 as (Element of ( NAT )) by L185 , L186;
L193: ( dom ( Sgm R11 ) ) = ( Seg ( len ( Sgm R11 ) ) ) by FINSEQ_1:def 3;
L194:
now
per cases  by L188 , XXREAL_0:1;
suppose L195: D8 < D9;

L196: D9 <= ( len ( Sgm R11 ) ) by L186 , L193 , FINSEQ_1:1;
L197: 1 <= D8 by L185 , L193 , FINSEQ_1:1;
L198: D6 < D7 by L197 , L183 , L195 , L196 , FINSEQ_1:def 13;
thus L199: contradiction by L198 , L187;
end;
suppose L200: D9 < D8;

L201: D8 <= ( len ( Sgm R11 ) ) by L185 , L193 , FINSEQ_1:1;
L202: 1 <= D9 by L186 , L193 , FINSEQ_1:1;
L203: D7 < D6 by L202 , L183 , L200 , L201 , FINSEQ_1:def 13;
thus L204: contradiction by L203 , L187;
end;
end;
thus L206: thesis by L194;
end;
theorem
L207: (for R17 being Nat holds (for B7 being  finite set holds (B7 c= ( Seg R17 ) implies ( len ( Sgm B7 ) ) = ( card B7 ))))
proof
let R17 being Nat;
let C2 being  finite set;
L208: ( dom ( Sgm C2 ) ) = ( Seg ( len ( Sgm C2 ) ) ) by FINSEQ_1:def 3;
L209: ( card ( Seg ( len ( Sgm C2 ) ) ) ) = ( len ( Sgm C2 ) ) by FINSEQ_1:57;
assume L210: C2 c= ( Seg R17 );
L211: ( rng ( Sgm C2 ) ) = C2 by L210 , FINSEQ_1:def 13;
L212: ( Sgm C2 ) is  one-to-one by L210 , L182;
L213: ( Seg ( len ( Sgm C2 ) ) ) , C2 are_equipotent  by L212 , L208 , L211 , WELLORD2:def 4;
thus L214: thesis by L213 , L209 , CARD_1:5;
end;
theorem
L215: (for R17 being Nat holds (for B8 being  finite set holds (B8 c= ( Seg R17 ) implies ( dom ( Sgm B8 ) ) = ( Seg ( card B8 ) ))))
proof
let R17 being Nat;
let C3 being  finite set;
assume L216: C3 c= ( Seg R17 );
L217: ( len ( Sgm C3 ) ) = ( card C3 ) by L216 , L207;
thus L218: thesis by L217 , FINSEQ_1:def 3;
end;
theorem
L219: (for R13 being set holds (for R15 being Nat holds (for R17 being Nat holds (for R18 being Nat holds (for R19 being Nat holds (for R20 being Nat holds ((R13 c= ( Seg R15 ) & R17 < R18 & 1 <= R20 & R19 <= ( len ( Sgm R13 ) ) & ( ( Sgm R13 ) . R19 ) = R17 & ( ( Sgm R13 ) . R20 ) = R18) implies R19 < R20)))))))
proof
let R13 being set;
let R15 being Nat;
let R17 being Nat;
let R18 being Nat;
let R19 being Nat;
let R20 being Nat;
assume that
L220: R13 c= ( Seg R15 )
and
L221: R17 < R18
and
L222: 1 <= R20
and
L223: R19 <= ( len ( Sgm R13 ) )
and
L224: ( ( Sgm R13 ) . R19 ) = R17
and
L225: ( ( Sgm R13 ) . R20 ) = R18
and
L226: (not R19 < R20);
L227: R20 < R19 by L221 , L224 , L225 , L226 , XXREAL_0:1;
thus L228: thesis by L227 , L220 , L221 , L222 , L223 , L224 , L225 , FINSEQ_1:def 13;
end;
theorem
L229: (for R13 being set holds (for R14 being set holds (for R15 being Nat holds (for R16 being Nat holds ((R13 c= ( Seg R15 ) & R14 c= ( Seg R16 )) implies ((for B9 , B10 being (Element of ( NAT )) holds ((B9 in R13 & B10 in R14) implies B9 < B10)) iff ( Sgm ( R13 \/ R14 ) ) = ( ( Sgm R13 ) ^ ( Sgm R14 ) )))))))
proof
let R13 being set;
let R14 being set;
let R15 being Nat;
let R16 being Nat;
assume that
L230: R13 c= ( Seg R15 )
and
L231: R14 c= ( Seg R16 );
set D10 = ( Sgm ( R13 \/ R14 ) );
set D11 = ( Sgm R14 );
set D12 = ( Sgm R13 );
L232: ( Seg R15 ) , ( Seg R16 ) are_c=-comparable  by L75;
L233: (( Seg R15 ) c= ( Seg R16 ) or ( Seg R16 ) c= ( Seg R15 )) by L232 , XBOOLE_0:def 9;
L234: (R13 c= ( Seg R16 ) or R14 c= ( Seg R15 )) by L233 , L230 , L231 , XBOOLE_1:1;
L235: (( R13 \/ R14 ) c= ( Seg R15 ) or ( R13 \/ R14 ) c= ( Seg R16 )) by L234 , L230 , L231 , XBOOLE_1:8;
thus L236: ((for B11 , B12 being (Element of ( NAT )) holds ((B11 in R13 & B12 in R14) implies B11 < B12)) implies ( Sgm ( R13 \/ R14 ) ) = ( ( Sgm R13 ) ^ ( Sgm R14 ) ))
proof
reconsider D13 = R13 , D14 = R14 as  finite set by L230 , L231;
defpred S1[ (Element of ( NAT )) ] means ($1 in ( dom D12 ) implies ( D10 . $1 ) = ( D12 . $1 ));
assume L237: (for B13 , B14 being (Element of ( NAT )) holds ((B13 in R13 & B14 in R14) implies B13 < B14));
L238: ( R13 /\ R14 ) = ( {} )
proof
set D15 = the (Element of ( R13 /\ R14 ));
L239: R13 = ( rng D12 ) by L230 , FINSEQ_1:def 13;
L240: R13 c= ( NAT ) by L239;
assume L241: (not thesis);
L242: D15 in R13 by L241 , XBOOLE_0:def 4;
reconsider D16 = D15 as (Element of ( NAT )) by L242 , L240;
L243: D16 in R14 by L241 , XBOOLE_0:def 4;
L244: D16 in R13 by L241 , XBOOLE_0:def 4;
thus L245: thesis by L244 , L237 , L243;
end;
L246: R13 misses R14 by L238 , XBOOLE_0:def 7;
L247: ( len D10 ) = ( card ( D13 \/ D14 ) ) by L230 , L231 , L234 , L207 , XBOOLE_1:8
.= ( ( card D13 ) + ( card D14 ) ) by L246 , CARD_2:40
.= ( ( len D12 ) + ( card D14 ) ) by L230 , L207
.= ( ( len D12 ) + ( len D11 ) ) by L231 , L207;
L248:
now
let C4 being (Element of ( NAT ));
assume L249: S1[ C4 ];
thus L250: S1[ ( C4 + 1 ) ]
proof
assume L251: ( C4 + 1 ) in ( dom D12 );
L252: ( D12 . ( C4 + 1 ) ) in ( rng D12 ) by L251 , FUNCT_1:def 3;
reconsider D17 = ( D12 . ( C4 + 1 ) ) as (Element of ( NAT )) by L252;
L253: D17 in R13 by L230 , L252 , FINSEQ_1:def 13;
L254: ( len D12 ) <= ( len D10 ) by L247 , NAT_1:12;
L255: ( Seg ( len D12 ) ) c= ( Seg ( len D10 ) ) by L254 , FINSEQ_1:5;
L256: ( dom D12 ) c= ( Seg ( len D10 ) ) by L255 , FINSEQ_1:def 3;
L257: ( dom D12 ) c= ( dom D10 ) by L256 , FINSEQ_1:def 3;
L258: ( D10 . ( C4 + 1 ) ) in ( rng D10 ) by L257 , L251 , FUNCT_1:def 3;
reconsider D18 = ( D10 . ( C4 + 1 ) ) as (Element of ( NAT )) by L258;
L259: D18 in ( R13 \/ R14 ) by L235 , L258 , FINSEQ_1:def 13;
assume L260: ( D10 . ( C4 + 1 ) ) <> ( D12 . ( C4 + 1 ) );
L261: ( C4 + 1 ) in ( dom D10 ) by L251 , L257;
L262:
now
per cases ;
suppose L263: C4 in ( dom D12 );

L264: ( D12 . C4 ) in ( rng D12 ) by L263 , FUNCT_1:def 3;
reconsider D19 = ( D12 . C4 ) as (Element of ( NAT )) by L264;
L265: ( D10 . C4 ) in ( rng D10 ) by L257 , L263 , FUNCT_1:def 3;
reconsider D20 = ( D10 . C4 ) as (Element of ( NAT )) by L265;
L266:
now
per cases  by L260 , XXREAL_0:1;
suppose L267: D18 < D17;

L268: 1 <= ( C4 + 1 ) by L251 , L126;
L269: (not D18 in R14) by L237 , L253 , L267;
L270: D18 in R13 by L269 , L259 , XBOOLE_0:def 3;
L271: D18 in ( rng D12 ) by L270 , L230 , FINSEQ_1:def 13;
consider R6 being set such that L272: R6 in ( dom D12 ) and L273: ( D12 . R6 ) = D18 by L271 , FUNCT_1:def 3;
reconsider D21 = R6 as (Element of ( NAT )) by L272;
L274: D21 <= ( len D12 ) by L272 , L126;
L275: D21 < ( C4 + 1 ) by L274 , L230 , L267 , L273 , L268 , L219;
L276: ( C4 + 1 ) in ( Seg ( len D10 ) ) by L261 , FINSEQ_1:def 3;
L277: ( C4 + 1 ) <= ( len D10 ) by L276 , FINSEQ_1:1;
L278: C4 in ( Seg ( len D12 ) ) by L263 , FINSEQ_1:def 3;
L279: 1 <= C4 by L278 , FINSEQ_1:1;
L280: C4 < ( C4 + 1 ) by XREAL_1:29;
L281: D19 < D18 by L280 , L235 , L249 , L263 , L279 , L277 , FINSEQ_1:def 13;
L282: C4 <= ( len D12 ) by L263 , L126;
L283: 1 <= D21 by L272 , L126;
L284: C4 < D21 by L283 , L230 , L273 , L281 , L282 , L219;
thus L285: contradiction by L284 , L275 , NAT_1:13;
end;
suppose L286: D17 < D18;

L287: 1 <= ( C4 + 1 ) by L251 , L126;
L288: D17 in ( R13 \/ R14 ) by L253 , XBOOLE_0:def 3;
L289: D17 in ( rng D10 ) by L288 , L235 , FINSEQ_1:def 13;
consider R6 being set such that L290: R6 in ( dom D10 ) and L291: ( D10 . R6 ) = D17 by L289 , FUNCT_1:def 3;
reconsider D22 = R6 as (Element of ( NAT )) by L290;
L292: D22 <= ( len D10 ) by L290 , L126;
L293: D22 < ( C4 + 1 ) by L292 , L230 , L231 , L234 , L286 , L291 , L287 , L219 , XBOOLE_1:8;
L294: ( C4 + 1 ) <= ( len D12 ) by L251 , L126;
L295: C4 < ( C4 + 1 ) by XREAL_1:29;
L296: 1 <= C4 by L263 , L126;
L297: D20 < D17 by L296 , L230 , L249 , L263 , L295 , L294 , FINSEQ_1:def 13;
L298: C4 <= ( len D10 ) by L257 , L263 , L126;
L299: 1 <= D22 by L290 , L126;
L300: C4 < D22 by L299 , L230 , L231 , L234 , L291 , L297 , L298 , L219 , XBOOLE_1:8;
thus L301: contradiction by L300 , L293 , NAT_1:13;
end;
end;
thus L303: contradiction by L266;
end;
suppose L304: (not C4 in ( dom D12 ));

L305: C4 < ( C4 + 1 ) by XREAL_1:29;
L306: (C4 < 1 or ( len D12 ) < C4) by L304 , L126;
L307: (C4 = ( 0 ) or (( len D12 ) < ( C4 + 1 ) & ( C4 + 1 ) <= ( len D12 ))) by L306 , L251 , L305 , L126 , NAT_1:14 , XXREAL_0:2;
L308:
now
per cases  by L260 , XXREAL_0:1;
suppose L309: D18 < D17;

L310: (not D18 in R14) by L309 , L237 , L253;
L311: D18 in R13 by L310 , L259 , XBOOLE_0:def 3;
L312: D18 in ( rng D12 ) by L311 , L230 , FINSEQ_1:def 13;
consider R6 being set such that L313: R6 in ( dom D12 ) and L314: ( D12 . R6 ) = D18 by L312 , FUNCT_1:def 3;
L315: 1 <= ( C4 + 1 ) by L251 , L126;
reconsider D23 = R6 as (Element of ( NAT )) by L313;
L316: D23 <= ( len D12 ) by L313 , L126;
L317: D23 < ( C4 + 1 ) by L316 , L230 , L309 , L314 , L315 , L219;
thus L318: contradiction by L317 , L307 , L313 , L122 , NAT_1:14;
end;
suppose L319: D17 < D18;

L320: 1 <= ( C4 + 1 ) by L251 , L126;
L321: D17 in ( R13 \/ R14 ) by L253 , XBOOLE_0:def 3;
L322: D17 in ( rng D10 ) by L321 , L235 , FINSEQ_1:def 13;
consider R6 being set such that L323: R6 in ( dom D10 ) and L324: ( D10 . R6 ) = D17 by L322 , FUNCT_1:def 3;
reconsider D24 = R6 as (Element of ( NAT )) by L323;
L325: D24 <= ( len D10 ) by L323 , L126;
L326: D24 < ( C4 + 1 ) by L325 , L230 , L231 , L234 , L319 , L324 , L320 , L219 , XBOOLE_1:8;
thus L327: contradiction by L326 , L307 , L323 , L122 , NAT_1:14;
end;
end;
thus L329: contradiction by L308;
end;
end;
thus L331: contradiction by L262;
end;

end;
L251: S1[ ( 0 ) ] by L122;
L252: (for B15 being (Element of ( NAT )) holds S1[ B15 ]) from NAT_1:sch 1(L251 , L248);
defpred S2[ (Element of ( NAT )) ] means ($1 in ( dom D11 ) implies ( D10 . ( ( len D12 ) + $1 ) ) = ( D11 . $1 ));
L253:
now
let C5 being (Element of ( NAT ));
assume L254: S2[ C5 ];
thus L255: S2[ ( C5 + 1 ) ]
proof
set D25 = ( ( len D12 ) + ( C5 + 1 ) );
assume L256: ( C5 + 1 ) in ( dom D11 );
L257: ( C5 + 1 ) <= ( len D11 ) by L256 , L126;
L258: D25 <= ( len D10 ) by L257 , L247 , XREAL_1:7;
L259: 1 <= ( C5 + 1 ) by NAT_1:12;
L260: 1 <= D25 by L259 , NAT_1:12;
L261: D25 in ( dom D10 ) by L260 , L258 , L126;
L262: ( D10 . D25 ) in ( rng D10 ) by L261 , FUNCT_1:def 3;
reconsider D26 = ( D10 . D25 ) as (Element of ( NAT )) by L262;
L263:
now
assume L264: D26 in R13;
L265: D26 in ( rng D12 ) by L264 , L230 , FINSEQ_1:def 13;
consider R6 being set such that L266: R6 in ( dom D12 ) and L267: ( D12 . R6 ) = D26 by L265 , FUNCT_1:def 3;
reconsider D27 = R6 as (Element of ( NAT )) by L266;
L268: D27 <= ( len D12 ) by L266 , L126;
L269: D27 <= ( len D10 ) by L268 , L247 , NAT_1:12;
L270: D10 is  one-to-one by L230 , L231 , L234 , L182 , XBOOLE_1:8;
L271: 1 <= D27 by L266 , L126;
L272: D27 in ( dom D10 ) by L271 , L269 , L126;
L273: ( D10 . D27 ) = ( D10 . D25 ) by L252 , L266 , L267;
L274: D27 = D25 by L273 , L261 , L270 , L272 , FUNCT_1:def 4;
L275: ( ( len D12 ) + ( C5 + 1 ) ) <= ( ( len D12 ) + ( 0 ) ) by L274 , L266 , L126;
thus L276: contradiction by L275 , XREAL_1:29;
end;
L277: ( D11 . ( C5 + 1 ) ) in ( rng D11 ) by L256 , FUNCT_1:def 3;
reconsider D28 = ( D11 . ( C5 + 1 ) ) as (Element of ( NAT )) by L277;
L278: D28 in R14 by L231 , L277 , FINSEQ_1:def 13;
assume L279: ( D10 . ( ( len D12 ) + ( C5 + 1 ) ) ) <> ( D11 . ( C5 + 1 ) );
L280: D26 in ( R13 \/ R14 ) by L235 , L262 , FINSEQ_1:def 13;
L281:
now
per cases ;
suppose L282: C5 in ( dom D11 );

L283: ( D11 . C5 ) in ( rng D11 ) by L282 , FUNCT_1:def 3;
reconsider D29 = ( D11 . C5 ) as (Element of ( NAT )) by L283;
L284: 1 <= C5 by L282 , L126;
L285: 1 <= ( ( len D12 ) + C5 ) by L284 , NAT_1:12;
L286: C5 <= ( len D11 ) by L282 , L126;
L287: ( ( len D12 ) + C5 ) <= ( len D10 ) by L286 , L247 , XREAL_1:7;
L288: ( ( len D12 ) + C5 ) in ( dom D10 ) by L287 , L285 , L126;
L289: ( D10 . ( ( len D12 ) + C5 ) ) in ( rng D10 ) by L288 , FUNCT_1:def 3;
reconsider D30 = ( D10 . ( ( len D12 ) + C5 ) ) as (Element of ( NAT )) by L289;
L290:
now
per cases  by L279 , XXREAL_0:1;
suppose L291: D26 < D28;

L292: 1 <= ( C5 + 1 ) by L256 , L126;
L293: D26 in R14 by L280 , L263 , XBOOLE_0:def 3;
L294: D26 in ( rng D11 ) by L293 , L231 , FINSEQ_1:def 13;
consider R6 being set such that L295: R6 in ( dom D11 ) and L296: ( D11 . R6 ) = D26 by L294 , FUNCT_1:def 3;
reconsider D31 = R6 as (Element of ( NAT )) by L295;
L297: D31 <= ( len D11 ) by L295 , L126;
L298: D31 < ( C5 + 1 ) by L297 , L231 , L291 , L296 , L292 , L219;
L299: ( ( len D12 ) + C5 ) < ( ( ( len D12 ) + C5 ) + 1 ) by XREAL_1:29;
L300: D29 < D26 by L299 , L235 , L254 , L258 , L282 , L285 , FINSEQ_1:def 13;
L301: C5 <= ( len D11 ) by L282 , L126;
L302: 1 <= D31 by L295 , L126;
L303: C5 < D31 by L302 , L231 , L296 , L300 , L301 , L219;
thus L304: contradiction by L303 , L298 , NAT_1:13;
end;
suppose L305: D28 < D26;

L306: 1 <= D25 by L259 , NAT_1:12;
L307: D28 in ( R13 \/ R14 ) by L278 , XBOOLE_0:def 3;
L308: D28 in ( rng D10 ) by L307 , L235 , FINSEQ_1:def 13;
consider R6 being set such that L309: R6 in ( dom D10 ) and L310: ( D10 . R6 ) = D28 by L308 , FUNCT_1:def 3;
reconsider D32 = R6 as (Element of ( NAT )) by L309;
L311: D32 <= ( len D10 ) by L309 , L126;
L312: D32 < ( ( ( len D12 ) + C5 ) + 1 ) by L311 , L230 , L231 , L234 , L305 , L310 , L306 , L219 , XBOOLE_1:8;
L313: ( C5 + 1 ) <= ( len D11 ) by L256 , L126;
L314: C5 < ( C5 + 1 ) by XREAL_1:29;
L315: 1 <= C5 by L282 , L126;
L316: D30 < D28 by L315 , L231 , L254 , L282 , L314 , L313 , FINSEQ_1:def 13;
L317: ( ( len D12 ) + C5 ) <= ( len D10 ) by L247 , L286 , XREAL_1:7;
L318: 1 <= D32 by L309 , L126;
L319: ( ( len D12 ) + C5 ) < D32 by L318 , L230 , L231 , L234 , L310 , L316 , L317 , L219 , XBOOLE_1:8;
thus L320: contradiction by L319 , L312 , NAT_1:13;
end;
end;
thus L322: contradiction by L290;
end;
suppose L323: (not C5 in ( dom D11 ));

L324: C5 < ( C5 + 1 ) by XREAL_1:29;
L325: (C5 < 1 or ( len D11 ) < C5) by L323 , L126;
L326: (C5 = ( 0 ) or (( len D11 ) < ( C5 + 1 ) & ( C5 + 1 ) <= ( len D11 ))) by L325 , L256 , L324 , L126 , NAT_1:14 , XXREAL_0:2;
L327:
now
per cases  by L279 , XXREAL_0:1;
suppose L328: D26 < D28;

L329: 1 <= ( C5 + 1 ) by L256 , L126;
L330: D26 in R14 by L280 , L263 , XBOOLE_0:def 3;
L331: D26 in ( rng D11 ) by L330 , L231 , FINSEQ_1:def 13;
consider R6 being set such that L332: R6 in ( dom D11 ) and L333: ( D11 . R6 ) = D26 by L331 , FUNCT_1:def 3;
reconsider D33 = R6 as (Element of ( NAT )) by L332;
L334: D33 <= ( len D11 ) by L332 , L126;
L335: D33 < ( C5 + 1 ) by L334 , L231 , L328 , L333 , L329 , L219;
thus L336: contradiction by L335 , L326 , L332 , L122 , NAT_1:14;
end;
suppose L337: D28 < D26;

L338: 1 <= ( ( len D12 ) + 1 ) by NAT_1:12;
L339: D28 in ( R13 \/ R14 ) by L278 , XBOOLE_0:def 3;
L340: D28 in ( rng D10 ) by L339 , L235 , FINSEQ_1:def 13;
consider R6 being set such that L341: R6 in ( dom D10 ) and L342: ( D10 . R6 ) = D28 by L340 , FUNCT_1:def 3;
reconsider D34 = R6 as (Element of ( NAT )) by L341;
L343: D34 <= ( len D10 ) by L341 , L126;
L344: D34 < ( ( len D12 ) + 1 ) by L343 , L230 , L231 , L234 , L326 , L337 , L342 , L338 , L219 , XBOOLE_1:8;
L345: D34 <= ( len D12 ) by L344 , NAT_1:13;
L346: 1 <= D34 by L341 , L126;
L347: D34 in ( dom D12 ) by L346 , L345 , L126;
L348: ( D12 . D34 ) in ( rng D12 ) by L347 , FUNCT_1:def 3;
L349: D28 = ( D12 . D34 ) by L252 , L342 , L347;
L350: D28 in R13 by L349 , L230 , L348 , FINSEQ_1:def 13;
thus L351: contradiction by L350 , L237 , L278;
end;
end;
thus L353: contradiction by L327;
end;
end;
thus L355: contradiction by L281;
end;

end;
L256: S2[ ( 0 ) ] by L122;
L257: (for B16 being (Element of ( NAT )) holds S2[ B16 ]) from NAT_1:sch 1(L256 , L253);
thus L258: thesis by L257 , L247 , L252 , L174;
end;

assume L259: ( Sgm ( R13 \/ R14 ) ) = ( ( Sgm R13 ) ^ ( Sgm R14 ) );
let C6 , C7 being (Element of ( NAT ));
assume that
L260: C6 in R13
and
L261: C7 in R14;
L262: C7 in ( rng D11 ) by L231 , L261 , FINSEQ_1:def 13;
consider R7 being set such that L263: R7 in ( dom D11 ) and L264: ( D11 . R7 ) = C7 by L262 , FUNCT_1:def 3;
reconsider D35 = R7 as (Element of ( NAT )) by L263;
L265: C7 = ( D10 . ( ( len D12 ) + D35 ) ) by L259 , L263 , L264 , FINSEQ_1:def 7;
L266: D35 <= ( len D11 ) by L263 , L126;
L267: ( ( len D12 ) + D35 ) <= ( ( len D12 ) + ( len D11 ) ) by L266 , XREAL_1:7;
L268: ( ( len D12 ) + D35 ) <= ( len D10 ) by L267 , L259 , FINSEQ_1:22;
L269: C6 in ( rng ( Sgm R13 ) ) by L230 , L260 , FINSEQ_1:def 13;
consider R6 being set such that L270: R6 in ( dom D12 ) and L271: ( D12 . R6 ) = C6 by L269 , FUNCT_1:def 3;
reconsider D36 = R6 as (Element of ( NAT )) by L270;
L272: D36 in ( Seg ( len D12 ) ) by L270 , FINSEQ_1:def 3;
L273: 1 <= D36 by L272 , FINSEQ_1:1;
L274: D36 <= ( len D12 ) by L272 , FINSEQ_1:1;
L275: D35 <> ( 0 ) by L263 , L122;
L276: D36 < ( ( len D12 ) + D35 ) by L275 , L274 , NAT_1:16 , XXREAL_0:2;
L277: C6 = ( D10 . D36 ) by L259 , L270 , L271 , FINSEQ_1:def 7;
thus L278: thesis by L277 , L235 , L265 , L273 , L276 , L268 , FINSEQ_1:def 13;
end;
theorem
L279: ( Sgm ( {} ) ) = ( {} )
proof
L280: ( {} ) c= ( Seg ( 0 ) );
thus L281: thesis by L280 , FINSEQ_1:51;
end;
theorem
L282: (for R20 being Nat holds (( 0 ) <> R20 implies ( Sgm { R20 } ) = <* R20 *>))
proof
let R20 being Nat;
assume L283: ( 0 ) <> R20;
L284: R20 in ( Seg R20 ) by L283 , FINSEQ_1:3;
L285: { R20 } c= ( Seg R20 ) by L284 , ZFMISC_1:31;
L286: ( len ( Sgm { R20 } ) ) = ( card { R20 } ) by L285 , L207;
L287: ( len ( Sgm { R20 } ) ) = 1 by L286 , CARD_1:30;
L288: ( rng ( Sgm { R20 } ) ) = { R20 } by L285 , FINSEQ_1:def 13;
thus L289: thesis by L288 , L287 , FINSEQ_1:39;
end;
theorem
L290: (for R19 being Nat holds (for R20 being Nat holds ((( 0 ) < R20 & R20 < R19) implies ( Sgm { R20 , R19 } ) = <* R20 , R19 *>)))
proof
let R19 being Nat;
let R20 being Nat;
assume that
L291: ( 0 ) < R20
and
L292: R20 < R19;
L293: R19 in ( Seg R19 ) by L292 , FINSEQ_1:3;
L294: R20 in ( Seg R20 ) by L291 , FINSEQ_1:3;
L295: ( Seg R20 ) c= ( Seg R19 ) by L292 , FINSEQ_1:5;
L296: { R20 , R19 } c= ( Seg R19 ) by L295 , L293 , L294 , ZFMISC_1:32;
L297: ( Sgm { R20 , R19 } ) is  one-to-one by L296 , L182;
L298: ( len ( Sgm { R20 , R19 } ) ) = ( card { R20 , R19 } ) by L296 , L207
.= 2 by L292 , CARD_2:57;
L299: ( dom ( Sgm { R20 , R19 } ) ) = { 1 , 2 } by L298 , FINSEQ_1:2 , FINSEQ_1:def 3;
L300: 1 in ( dom ( Sgm { R20 , R19 } ) ) by L299 , TARSKI:def 2;
L301: 2 in ( dom ( Sgm { R20 , R19 } ) ) by L299 , TARSKI:def 2;
L302: ( rng ( Sgm { R20 , R19 } ) ) = { R20 , R19 } by L296 , FINSEQ_1:def 13;
L303: ( ( Sgm { R20 , R19 } ) . 2 ) in { R20 , R19 } by L302 , L301 , FUNCT_1:def 3;
L304: ( ( Sgm { R20 , R19 } ) . 1 ) in { R20 , R19 } by L300 , L302 , FUNCT_1:def 3;
L305:
now
per cases  by L304 , L303 , TARSKI:def 2;
suppose L306: (( ( Sgm { R20 , R19 } ) . 1 ) = R20 & ( ( Sgm { R20 , R19 } ) . 2 ) = R20);

thus L307: (( ( Sgm { R20 , R19 } ) . 1 ) = R20 & ( ( Sgm { R20 , R19 } ) . 2 ) = R19) by L306 , L300 , L301 , L297 , FUNCT_1:def 4;
end;
suppose L308: (( ( Sgm { R20 , R19 } ) . 1 ) = R19 & ( ( Sgm { R20 , R19 } ) . 2 ) = R19);

thus L309: (( ( Sgm { R20 , R19 } ) . 1 ) = R20 & ( ( Sgm { R20 , R19 } ) . 2 ) = R19) by L308 , L300 , L301 , L297 , FUNCT_1:def 4;
end;
suppose L310: (( ( Sgm { R20 , R19 } ) . 1 ) = R20 & ( ( Sgm { R20 , R19 } ) . 2 ) = R19);

thus L311: (( ( Sgm { R20 , R19 } ) . 1 ) = R20 & ( ( Sgm { R20 , R19 } ) . 2 ) = R19) by L310;
end;
suppose L312: (( ( Sgm { R20 , R19 } ) . 1 ) = R19 & ( ( Sgm { R20 , R19 } ) . 2 ) = R20);

thus L313: (( ( Sgm { R20 , R19 } ) . 1 ) = R20 & ( ( Sgm { R20 , R19 } ) . 2 ) = R19) by L312 , L292 , L296 , L298 , FINSEQ_1:def 13;
end;
end;
thus L315: thesis by L305 , L298 , FINSEQ_1:44;
end;
theorem
L316: (for R17 being Nat holds ( len ( Sgm ( Seg R17 ) ) ) = R17)
proof
let R17 being Nat;
L317: ( card ( Seg R17 ) ) = R17 by FINSEQ_1:57;
thus L318: thesis by L317 , L207;
end;
L319: (for R17 being Nat holds ( ( Sgm ( Seg ( R17 + ( 0 ) ) ) ) | ( Seg R17 ) ) = ( Sgm ( Seg R17 ) ))
proof
let R17 being Nat;
L320: ( card ( Seg R17 ) ) = R17 by FINSEQ_1:57;
L321: ( len ( Sgm ( Seg R17 ) ) ) = R17 by L320 , L207;
L322: ( dom ( Sgm ( Seg R17 ) ) ) = ( Seg R17 ) by L321 , FINSEQ_1:def 3;
thus L323: thesis by L322 , RELAT_1:68;
end;
L324:
now
let R20 being Nat;
assume L325: (for R17 being Nat holds ( ( Sgm ( Seg ( R17 + R20 ) ) ) | ( Seg R17 ) ) = ( Sgm ( Seg R17 ) ));
let R17 being Nat;
set D37 = ( Sgm ( Seg ( R17 + ( R20 + 1 ) ) ) );
set D38 = ( Sgm ( Seg ( R17 + 1 ) ) );
L326: ( D38 | ( Seg R17 ) ) = ( Sgm ( Seg R17 ) )
proof
reconsider D39 = ( D38 | ( Seg R17 ) ) as (FinSequence of ( NAT )) by FINSEQ_1:18;
L327: ( len D38 ) = ( R17 + 1 ) by L316;
L328: ( dom D38 ) = ( Seg ( R17 + 1 ) ) by L327 , FINSEQ_1:def 3;
L329: R17 <= ( R17 + 1 ) by NAT_1:12;
L330: ( dom D39 ) = ( Seg R17 ) by L329 , L327 , FINSEQ_1:17;
L331: ( rng D38 ) = ( Seg ( R17 + 1 ) ) by FINSEQ_1:def 13;
L332: ( D38 . ( R17 + 1 ) ) = ( R17 + 1 )
proof
L333: ( R17 + 1 ) in ( dom D38 ) by L328 , FINSEQ_1:4;
L334: ( D38 . ( R17 + 1 ) ) in ( Seg ( R17 + 1 ) ) by L333 , L331 , FUNCT_1:def 3;
reconsider D40 = ( D38 . ( R17 + 1 ) ) as (Element of ( NAT )) by L334;
L335: R17 < ( R17 + 1 ) by XREAL_1:29;
L336: ( R17 + 1 ) in ( rng D38 ) by L331 , FINSEQ_1:4;
consider R6 being set such that L337: R6 in ( dom D38 ) and L338: ( D38 . R6 ) = ( R17 + 1 ) by L336 , FUNCT_1:def 3;
reconsider D41 = R6 as (Element of ( NAT )) by L337;
assume L339: (not thesis);
L340: (not ( D38 . ( R17 + 1 ) ) in { ( R17 + 1 ) }) by L339 , TARSKI:def 1;
L341: ( D38 . ( R17 + 1 ) ) in ( ( Seg ( R17 + 1 ) ) \ { ( R17 + 1 ) } ) by L340 , L334 , XBOOLE_0:def 5;
L342: ( D38 . ( R17 + 1 ) ) in ( Seg R17 ) by L341 , FINSEQ_1:10;
L343:
now
assume L344: D41 = ( R17 + 1 );
L345: D40 <= R17 by L342 , FINSEQ_1:1;
thus L346: contradiction by L345 , L338 , L344 , XREAL_1:29;
end;
L347: D41 <= ( R17 + 1 ) by L327 , L337 , L126;
L348: D41 < ( R17 + 1 ) by L347 , L343 , XXREAL_0:1;
L349: 1 <= D41 by L337 , L126;
L350: ( R17 + 1 ) < D40 by L349 , L327 , L338 , L348 , FINSEQ_1:def 13;
L351: D40 <= R17 by L342 , FINSEQ_1:1;
thus L352: contradiction by L351 , L350 , L335 , XXREAL_0:2;
end;
L353: D38 is  one-to-one by L182;
L354: ( rng D39 ) = ( ( rng D38 ) \ { ( D38 . ( R17 + 1 ) ) } )
proof
thus L355: ( rng D39 ) c= ( ( rng D38 ) \ { ( D38 . ( R17 + 1 ) ) } )
proof
let R6 being set;
assume L356: R6 in ( rng D39 );
L357:
now
assume L358: R6 in { ( R17 + 1 ) };
L359: R6 = ( R17 + 1 ) by L358 , TARSKI:def 1;
L360: R17 < ( R17 + 1 ) by XREAL_1:29;
L361: ( R17 + 1 ) in ( dom D38 ) by L328 , FINSEQ_1:4;
L362: ( Seg R17 ) c= ( Seg ( R17 + 1 ) ) by L72;
consider R7 being set such that L363: R7 in ( dom D39 ) and L364: ( D39 . R7 ) = R6 by L356 , FUNCT_1:def 3;
reconsider D42 = R7 as (Element of ( NAT )) by L363;
L365: ( D38 . D42 ) = ( D39 . D42 ) by L363 , FUNCT_1:47;
L366: D42 <= R17 by L330 , L363 , FINSEQ_1:1;
thus L367: contradiction by L366 , L353 , L328 , L330 , L332 , L363 , L364 , L362 , L365 , L359 , L361 , L360 , FUNCT_1:def 4;
end;
L368: ( rng D39 ) c= ( rng D38 ) by RELAT_1:70;
thus L369: thesis by L368 , L332 , L356 , L357 , XBOOLE_0:def 5;
end;

let R6 being set;
assume L370: R6 in ( ( rng D38 ) \ { ( D38 . ( R17 + 1 ) ) } );
L371: R6 in ( rng D38 ) by L370 , XBOOLE_0:def 5;
consider R7 being set such that L372: R7 in ( dom D38 ) and L373: ( D38 . R7 ) = R6 by L371 , FUNCT_1:def 3;
L374:
now
assume L375: R7 in { ( R17 + 1 ) };
L376: R6 = ( R17 + 1 ) by L375 , L332 , L373 , TARSKI:def 1;
L377: (not R6 in { ( R17 + 1 ) }) by L332 , L370 , XBOOLE_0:def 5;
thus L378: contradiction by L377 , L376 , TARSKI:def 1;
end;
L379: R7 in ( ( Seg ( R17 + 1 ) ) \ { ( R17 + 1 ) } ) by L374 , L328 , L372 , XBOOLE_0:def 5;
L380: R7 in ( dom D39 ) by L379 , L330 , FINSEQ_1:10;
L381: ( D39 . R7 ) = ( D38 . R7 ) by L380 , FUNCT_1:47;
thus L382: thesis by L381 , L373 , L380 , FUNCT_1:def 3;
end;
L383: ( rng D39 ) = ( Seg R17 ) by L354 , L331 , L332 , FINSEQ_1:10;
L384:
now
L385: ( len D39 ) = R17 by L327 , L329 , FINSEQ_1:17;
let R15 being Nat;
let R16 being Nat;
let R18 being Nat;
let R19 being Nat;
assume that
L386: 1 <= R15
and
L387: R15 < R16
and
L388: R16 <= ( len D39 )
and
L389: R18 = ( D39 . R15 )
and
L390: R19 = ( D39 . R16 );
L391: R15 <= ( len D39 ) by L387 , L388 , XXREAL_0:2;
L392: R15 in ( dom D39 ) by L391 , L330 , L386 , L385 , FINSEQ_1:1;
L393: ( D39 . R15 ) = ( D38 . R15 ) by L392 , FUNCT_1:47;
L394: 1 <= R16 by L386 , L387 , XXREAL_0:2;
L395: R16 in ( dom D39 ) by L394 , L330 , L388 , L385 , FINSEQ_1:1;
L396: ( D39 . R16 ) = ( D38 . R16 ) by L395 , FUNCT_1:47;
L397: ( len D38 ) = ( R17 + 1 ) by L316;
L398: R16 <= ( len D38 ) by L397 , L388 , L385 , NAT_1:12;
thus L399: R18 < R19 by L398 , L386 , L387 , L389 , L390 , L393 , L396 , FINSEQ_1:def 13;
end;
thus L400: thesis by L384 , L383 , FINSEQ_1:def 13;
end;
L401: D37 = ( Sgm ( Seg ( ( R17 + 1 ) + R20 ) ) );
L402: ( D37 | ( Seg ( R17 + 1 ) ) ) = D38 by L401 , L325;
L403: ( Sgm ( Seg R17 ) ) = ( D37 | ( ( Seg ( R17 + 1 ) ) /\ ( Seg R17 ) ) ) by L402 , L326 , RELAT_1:71;
thus L404: ( ( Sgm ( Seg ( R17 + ( R20 + 1 ) ) ) ) | ( Seg R17 ) ) = ( Sgm ( Seg R17 ) ) by L403 , FINSEQ_1:7 , NAT_1:12;
end;
L405: (for R20 being Nat holds (for R17 being Nat holds ( ( Sgm ( Seg ( R17 + R20 ) ) ) | ( Seg R17 ) ) = ( Sgm ( Seg R17 ) )))
proof
let R20 being Nat;
defpred S3[ Nat ] means (for R17 being Nat holds ( ( Sgm ( Seg ( R17 + $1 ) ) ) | ( Seg R17 ) ) = ( Sgm ( Seg R17 ) ));
L406: (for R17 being Nat holds (S3[ R17 ] implies S3[ ( R17 + 1 ) ])) by L324;
L407: S3[ ( 0 ) ] by L319;
L408: (for R20 being Nat holds S3[ R20 ]) from NAT_1:sch 2(L407 , L406);
thus L409: thesis by L408;
end;
theorem
L410: (for R17 being Nat holds (for R20 being Nat holds ( ( Sgm ( Seg ( R17 + R20 ) ) ) | ( Seg R17 ) ) = ( Sgm ( Seg R17 ) ))) by L405;
L411:
now
let C8 being Nat;
assume L412: ( Sgm ( Seg C8 ) ) = ( idseq C8 );
L413: ( len ( idseq ( C8 + 1 ) ) ) = ( C8 + 1 ) by CARD_1:def 7;
L414: ( len ( Sgm ( Seg ( C8 + 1 ) ) ) ) = ( len ( idseq ( C8 + 1 ) ) ) by L413 , L316;
L415: ( dom ( Sgm ( Seg ( C8 + 1 ) ) ) ) = ( Seg ( C8 + 1 ) ) by L414 , L413 , FINSEQ_1:def 3;
L416:
now
let C9 being Nat;
assume L417: C9 in ( dom ( Sgm ( Seg ( C8 + 1 ) ) ) );
L418: C9 in ( ( Seg C8 ) \/ { ( C8 + 1 ) } ) by L417 , L415 , FINSEQ_1:9;
L419:
now
per cases  by L418 , XBOOLE_0:def 3;
suppose L420: C9 in ( Seg C8 );

L421: ( ( idseq ( C8 + 1 ) ) . C9 ) = C9 by L415 , L417 , FUNCT_1:18;
L422: ( ( Sgm ( Seg ( C8 + 1 ) ) ) | ( Seg C8 ) ) = ( Sgm ( Seg C8 ) ) by L405;
L423: ( ( Sgm ( Seg C8 ) ) . C9 ) = C9 by L412 , L420 , FUNCT_1:18;
thus L424: ( ( Sgm ( Seg ( C8 + 1 ) ) ) . C9 ) = ( ( idseq ( C8 + 1 ) ) . C9 ) by L423 , L420 , L421 , L422 , FUNCT_1:49;
end;
suppose L425: C9 in { ( C8 + 1 ) };

set D43 = ( Sgm ( Seg C8 ) );
set D44 = ( Sgm ( Seg ( C8 + 1 ) ) );
L426: C9 = ( C8 + 1 ) by L425 , TARSKI:def 1;
L427: C9 in ( Seg ( C8 + 1 ) ) by L426 , FINSEQ_1:4;
L428:
now
L429: ( rng D44 ) = ( Seg ( C8 + 1 ) ) by FINSEQ_1:def 13;
L430: ( D44 . C9 ) in ( Seg ( C8 + 1 ) ) by L429 , L417 , FUNCT_1:def 3;
reconsider D45 = ( D44 . C9 ) as (Element of ( NAT )) by L430;
assume L431: ( D44 . C9 ) <> C9;
L432: (not ( D44 . C9 ) in { C9 }) by L431 , TARSKI:def 1;
L433: ( D44 . C9 ) in ( ( Seg ( C8 + 1 ) ) \ { ( C8 + 1 ) } ) by L432 , L426 , L430 , XBOOLE_0:def 5;
L434: ( D44 . C9 ) in ( Seg C8 ) by L433 , FINSEQ_1:10;
L435: D44 is  one-to-one by L182;
L436: ( dom D44 ) = ( Seg ( C8 + 1 ) ) by L413 , L414 , FINSEQ_1:def 3;
L437: C8 < ( C8 + 1 ) by XREAL_1:29;
L438: ( D44 | ( Seg C8 ) ) = D43 by L405;
L439: ( D44 . D45 ) = ( D43 . D45 ) by L438 , L434 , FUNCT_1:49
.= D45 by L412 , L434 , FUNCT_1:18;
L440: D45 <= C8 by L434 , FINSEQ_1:1;
thus L441: contradiction by L440 , L426 , L427 , L436 , L430 , L435 , L439 , L437 , FUNCT_1:def 4;
end;
thus L442: ( ( Sgm ( Seg ( C8 + 1 ) ) ) . C9 ) = ( ( idseq ( C8 + 1 ) ) . C9 ) by L428 , L426 , FINSEQ_1:4 , FUNCT_1:18;
end;
end;
thus L444: ( ( Sgm ( Seg ( C8 + 1 ) ) ) . C9 ) = ( ( idseq ( C8 + 1 ) ) . C9 ) by L419;
end;
thus L445: ( Sgm ( Seg ( C8 + 1 ) ) ) = ( idseq ( C8 + 1 ) ) by L416 , L414 , FINSEQ_2:9;
end;
theorem
L446: (for R17 being Nat holds ( Sgm ( Seg R17 ) ) = ( idseq R17 ))
proof
let R17 being Nat;
defpred S4[ Nat ] means ( Sgm ( Seg $1 ) ) = ( idseq $1 );
L447: (for B17 being Nat holds (S4[ B17 ] implies S4[ ( B17 + 1 ) ])) by L411;
L448: S4[ ( 0 ) ] by L279;
L449: (for B18 being Nat holds S4[ B18 ]) from NAT_1:sch 2(L448 , L447);
thus L450: thesis by L449;
end;
theorem
L451: (for R1 being FinSequence holds (for R20 being Nat holds (( R1 | ( Seg R20 ) ) = R1 iff ( len R1 ) <= R20)))
proof
let R1 being FinSequence;
let R20 being Nat;
thus L452: (( R1 | ( Seg R20 ) ) = R1 implies ( len R1 ) <= R20) by FINSEQ_1:86;
assume L453: ( len R1 ) <= R20;
L454: ( Seg ( len R1 ) ) c= ( Seg R20 ) by L453 , FINSEQ_1:5;
L455: ( dom R1 ) c= ( Seg R20 ) by L454 , FINSEQ_1:def 3;
L456: ( dom R1 ) = ( ( dom R1 ) /\ ( Seg R20 ) ) by L455 , XBOOLE_1:28;
L457: (for R6 being set holds (R6 in ( dom R1 ) implies ( R1 . R6 ) = ( R1 . R6 )));
thus L458: thesis by L457 , L456 , FUNCT_1:46;
end;
theorem
L459: (for R17 being Nat holds (for R20 being Nat holds ( ( idseq ( R20 + R17 ) ) | ( Seg R20 ) ) = ( idseq R20 )))
proof
let R17 being Nat;
let R20 being Nat;
L460: ( Sgm ( Seg R20 ) ) = ( idseq R20 ) by L446;
L461: ( Sgm ( Seg ( R20 + R17 ) ) ) = ( idseq ( R20 + R17 ) ) by L446;
thus L462: thesis by L461 , L460 , L405;
end;
theorem
L463: (for R19 being Nat holds (for R20 being Nat holds (( ( idseq R20 ) | ( Seg R19 ) ) = ( idseq R19 ) iff R19 <= R20)))
proof
let R19 being Nat;
let R20 being Nat;
thus L464: (( ( idseq R20 ) | ( Seg R19 ) ) = ( idseq R19 ) implies R19 <= R20)
proof
assume L465: ( ( idseq R20 ) | ( Seg R19 ) ) = ( idseq R19 );
L466: ( len ( idseq R19 ) ) <= ( len ( idseq R20 ) ) by L465 , FINSEQ_1:79;
L467: R19 <= ( len ( idseq R20 ) ) by L466 , CARD_1:def 7;
thus L468: thesis by L467 , CARD_1:def 7;
end;

assume L469: R19 <= R20;
L470: (ex B19 being Nat st R20 = ( R19 + B19 )) by L469 , NAT_1:10;
thus L471: thesis by L470 , L459;
end;
theorem
L472: (for R19 being Nat holds (for R20 being Nat holds (( ( idseq R20 ) | ( Seg R19 ) ) = ( idseq R20 ) iff R20 <= R19)))
proof
let R19 being Nat;
let R20 being Nat;
L473: ( len ( idseq R20 ) ) = R20 by CARD_1:def 7;
thus L474: thesis by L473 , L451;
end;
theorem
L475: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R17 being Nat holds (for R18 being Nat holds ((( len R1 ) = ( R17 + R18 ) & R2 = ( R1 | ( Seg R17 ) )) implies ( len R2 ) = R17)))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R17 being Nat;
let R18 being Nat;
assume that
L476: ( len R1 ) = ( R17 + R18 )
and
L477: R2 = ( R1 | ( Seg R17 ) );
L478: R17 <= ( len R1 ) by L476 , NAT_1:12;
thus L479: thesis by L478 , L477 , FINSEQ_1:17;
end;
theorem
L480: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R17 being Nat holds (for R18 being Nat holds ((( len R1 ) = ( R17 + R18 ) & R2 = ( R1 | ( Seg R17 ) )) implies ( dom R2 ) = ( Seg R17 ))))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R17 being Nat;
let R18 being Nat;
assume that
L481: ( len R1 ) = ( R17 + R18 )
and
L482: R2 = ( R1 | ( Seg R17 ) );
L483: ( len R2 ) = R17 by L481 , L482 , L475;
thus L484: thesis by L483 , FINSEQ_1:def 3;
end;
theorem
L485: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R17 being Nat holds ((( len R1 ) = ( R17 + 1 ) & R2 = ( R1 | ( Seg R17 ) )) implies R1 = ( R2 ^ <* ( R1 . ( R17 + 1 ) ) *> )))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R17 being Nat;
assume that
L486: ( len R1 ) = ( R17 + 1 )
and
L487: R2 = ( R1 | ( Seg R17 ) );
L488: (for B20 being (Element of ( NAT )) holds (B20 in ( dom R2 ) implies ( R1 . B20 ) = ( R2 . B20 ))) by L487 , FUNCT_1:47;
set D46 = <* ( R1 . ( R17 + 1 ) ) *>;
L489:
now
let C10 being (Element of ( NAT ));
assume L490: C10 in ( dom D46 );
L491: C10 in { 1 } by L490 , FINSEQ_1:2 , FINSEQ_1:38;
L492: C10 = 1 by L491 , TARSKI:def 1;
thus L493: ( R1 . ( ( len R2 ) + C10 ) ) = ( R1 . ( R17 + 1 ) ) by L492 , L486 , L487 , L475
.= ( D46 . C10 ) by L492 , FINSEQ_1:40;
end;
L494: ( len R1 ) = ( ( len R2 ) + 1 ) by L486 , L487 , L475
.= ( ( len R2 ) + ( len <* ( R1 . ( R17 + 1 ) ) *> ) ) by FINSEQ_1:39;
thus L495: thesis by L494 , L488 , L489 , L174;
end;
theorem
L496: (for R1 being FinSequence holds (for R13 being set holds (( R1 | R13 ) is FinSequence iff (ex B21 being (Element of ( NAT )) st ( R13 /\ ( dom R1 ) ) = ( Seg B21 )))))
proof
let R1 being FinSequence;
let R13 being set;
thus L497: (( R1 | R13 ) is FinSequence implies (ex B22 being (Element of ( NAT )) st ( R13 /\ ( dom R1 ) ) = ( Seg B22 )))
proof
assume L498: ( R1 | R13 ) is FinSequence;
consider C11 being Nat such that L499: ( dom ( R1 | R13 ) ) = ( Seg C11 ) by L498 , FINSEQ_1:def 2;
reconsider D47 = C11 as (Element of ( NAT )) by ORDINAL1:def 12;
take D47;
thus L500: thesis by L499 , RELAT_1:61;
end;

given C12 being (Element of ( NAT )) such that
L501: ( R13 /\ ( dom R1 ) ) = ( Seg C12 );

L502: ( dom ( R1 | R13 ) ) = ( Seg C12 ) by L501 , RELAT_1:61;
thus L503: thesis by L502 , FINSEQ_1:def 2;
end;
theorem
L504: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R11 being set holds ( card ( ( R1 ^ R2 ) " R11 ) ) = ( ( card ( R1 " R11 ) ) + ( card ( R2 " R11 ) ) ))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R11 being set;
set D48 = ( ( R1 ^ R2 ) " R11 );
set D49 = { ( ( len R1 ) + B23 ) where B23 is (Element of ( NAT )) : B23 in ( R2 " R11 ) };
defpred S5[ set , set ] means (ex R15 being Nat st ($1 = R15 & $2 = ( ( len R1 ) + R15 )));
L505: D48 = ( ( R1 " R11 ) \/ D49 )
proof
thus L506: D48 c= ( ( R1 " R11 ) \/ D49 )
proof
let R6 being set;
assume L507: R6 in D48;
L508: R6 in ( dom ( R1 ^ R2 ) ) by L507 , FUNCT_1:def 7;
reconsider D50 = R6 as (Element of ( NAT )) by L508;
L509:
now
per cases  by L508 , FINSEQ_1:25;
suppose L510: D50 in ( dom R1 );

L511: ( ( R1 ^ R2 ) . D50 ) = ( R1 . D50 ) by L510 , FINSEQ_1:def 7;
L512: ( R1 . D50 ) in R11 by L511 , L507 , FUNCT_1:def 7;
L513: D50 in ( R1 " R11 ) by L512 , L510 , FUNCT_1:def 7;
thus L514: thesis by L513 , XBOOLE_0:def 3;
end;
suppose L515: (ex B24 being Nat st (B24 in ( dom R2 ) & D50 = ( ( len R1 ) + B24 )));

consider C13 being Nat such that L516: C13 in ( dom R2 ) and L517: D50 = ( ( len R1 ) + C13 ) by L515;
L518: ( R2 . C13 ) = ( ( R1 ^ R2 ) . D50 ) by L516 , L517 , FINSEQ_1:def 7;
L519: ( R2 . C13 ) in R11 by L518 , L507 , FUNCT_1:def 7;
L520: C13 in ( R2 " R11 ) by L519 , L516 , FUNCT_1:def 7;
L521: C13 in ( NAT ) by ORDINAL1:def 12;
L522: D50 in D49 by L521 , L517 , L520;
thus L523: thesis by L522 , XBOOLE_0:def 3;
end;
end;
thus L525: thesis by L509;
end;

let R6 being set;
assume L526: R6 in ( ( R1 " R11 ) \/ D49 );
L527:
now
per cases  by L526 , XBOOLE_0:def 3;
suppose L528: R6 in ( R1 " R11 );

L529: R6 in ( dom R1 ) by L528 , FUNCT_1:def 7;
reconsider D51 = R6 as (Element of ( NAT )) by L529;
L530: ( ( R1 ^ R2 ) . D51 ) = ( R1 . D51 ) by L529 , FINSEQ_1:def 7;
L531: ( ( R1 ^ R2 ) . R6 ) in R11 by L530 , L528 , FUNCT_1:def 7;
L532: R6 in ( dom ( R1 ^ R2 ) ) by L529 , L118;
thus L533: thesis by L532 , L531 , FUNCT_1:def 7;
end;
suppose L534: R6 in D49;

consider C14 being (Element of ( NAT )) such that L535: R6 = ( ( len R1 ) + C14 ) and L536: C14 in ( R2 " R11 ) by L534;
L537: C14 in ( dom R2 ) by L536 , FUNCT_1:def 7;
L538: ( ( R1 ^ R2 ) . ( ( len R1 ) + C14 ) ) = ( R2 . C14 ) by L537 , FINSEQ_1:def 7;
L539: ( ( R1 ^ R2 ) . R6 ) in R11 by L538 , L535 , L536 , FUNCT_1:def 7;
L540: R6 in ( dom ( R1 ^ R2 ) ) by L535 , L537 , FINSEQ_1:28;
thus L541: thesis by L540 , L539 , FUNCT_1:def 7;
end;
end;
thus L543: thesis by L527;
end;
L544: ( ( R1 " R11 ) /\ D49 ) = ( {} )
proof
set D52 = the (Element of ( ( R1 " R11 ) /\ D49 ));
assume L545: (not thesis);
L546: D52 in D49 by L545 , XBOOLE_0:def 4;
consider C15 being (Element of ( NAT )) such that L547: D52 = ( ( len R1 ) + C15 ) and L548: C15 in ( R2 " R11 ) by L546;
L549: ( ( len R1 ) + C15 ) in ( R1 " R11 ) by L545 , L547 , XBOOLE_0:def 4;
L550: ( ( len R1 ) + C15 ) in ( dom R1 ) by L549 , FUNCT_1:def 7;
L551: ( ( len R1 ) + C15 ) <= ( ( len R1 ) + ( 0 ) ) by L550 , L126;
L552: C15 = ( 0 ) by L551 , XREAL_1:6;
L553: C15 in ( dom R2 ) by L548 , FUNCT_1:def 7;
thus L554: thesis by L553 , L552 , L122;
end;
L555: ( R1 " R11 ) misses D49 by L544 , XBOOLE_0:def 7;
reconsider D53 = D49 as  finite set by L505 , FINSET_1:1 , XBOOLE_1:7;
L556: ( card D48 ) = ( ( card ( R1 " R11 ) ) + ( card D53 ) ) by L505 , L555 , CARD_2:40;
L557: (for R6 being set holds (R6 in ( R2 " R11 ) implies (ex R7 being set st S5[ R6 , R7 ])))
proof
let R6 being set;
assume L558: R6 in ( R2 " R11 );
L559: R6 in ( dom R2 ) by L558 , FUNCT_1:def 7;
reconsider D54 = R6 as (Element of ( NAT )) by L559;
reconsider D55 = ( ( len R1 ) + D54 ) as set;
take D55;
take D54;
thus L560: thesis;
end;
consider C16 being Function such that L561: ( dom C16 ) = ( R2 " R11 ) and L562: (for R6 being set holds (R6 in ( R2 " R11 ) implies S5[ R6 , ( C16 . R6 ) ])) from CLASSES1:sch 1(L557);
L563: ( rng C16 ) = D53
proof
thus L564: ( rng C16 ) c= D53
proof
let R6 being set;
assume L565: R6 in ( rng C16 );
consider R7 being set such that L566: R7 in ( dom C16 ) and L567: ( C16 . R7 ) = R6 by L565 , FUNCT_1:def 3;
consider R15 being Nat such that L568: R7 = R15 and L569: ( C16 . R7 ) = ( ( len R1 ) + R15 ) by L561 , L562 , L566;
L570: R15 is (Element of ( NAT )) by ORDINAL1:def 12;
thus L571: thesis by L570 , L561 , L566 , L567 , L568 , L569;
end;

let R6 being set;
assume L572: R6 in D53;
consider C17 being (Element of ( NAT )) such that L573: R6 = ( ( len R1 ) + C17 ) and L574: C17 in ( R2 " R11 ) by L572;
L575: (ex R15 being Nat st (C17 = R15 & ( C16 . C17 ) = ( ( len R1 ) + R15 ))) by L562 , L574;
thus L576: thesis by L575 , L561 , L573 , L574 , FUNCT_1:def 3;
end;
L577: C16 is  one-to-one
proof
let R6 being set;
let R7 being set;
assume that
L578: R6 in ( dom C16 )
and
L579: R7 in ( dom C16 )
and
L580: ( C16 . R6 ) = ( C16 . R7 );
L581: (ex R16 being Nat st (R7 = R16 & ( C16 . R7 ) = ( ( len R1 ) + R16 ))) by L561 , L562 , L579;
L582: (ex R15 being Nat st (R6 = R15 & ( C16 . R6 ) = ( ( len R1 ) + R15 ))) by L561 , L562 , L578;
thus L583: thesis by L582 , L580 , L581;
end;
L584: ( R2 " R11 ) , D53 are_equipotent  by L577 , L561 , L563 , WELLORD2:def 4;
thus L585: thesis by L584 , L556 , CARD_1:5;
end;
theorem
L586: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R11 being set holds ( R1 " R11 ) c= ( ( R1 ^ R2 ) " R11 ))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R11 being set;
let R6 being set;
L587: ( dom R1 ) c= ( dom ( R1 ^ R2 ) ) by FINSEQ_1:26;
assume L588: R6 in ( R1 " R11 );
L589: R6 in ( dom R1 ) by L588 , FUNCT_1:def 7;
reconsider D56 = R6 as (Element of ( NAT )) by L589;
L590: ( R1 . D56 ) in R11 by L588 , FUNCT_1:def 7;
L591: ( R1 . D56 ) = ( ( R1 ^ R2 ) . D56 ) by L589 , FINSEQ_1:def 7;
thus L592: thesis by L591 , L589 , L587 , L590 , FUNCT_1:def 7;
end;
definition
let R1 being FinSequence;
let R11 being set;
func R1 - R11 -> FinSequence equals 
( R1 * ( Sgm ( ( dom R1 ) \ ( R1 " R11 ) ) ) );
coherence
proof
L593:
now
assume L594: R1 <> ( {} );
reconsider D57 = ( Seg ( len R1 ) ) as non  empty (Subset of ( NAT )) by L594;
L595: ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) c= ( Seg ( len R1 ) ) by XBOOLE_1:36;
L596: ( rng ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) ) c= D57 by L595 , FINSEQ_1:def 13;
reconsider D58 = ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) as (FinSequence of D57) by L596 , FINSEQ_1:def 4;
reconsider D59 = ( R1 * D58 ) as FinSequence by FINSEQ_2:30;
take D60 = D59;
thus L597: D60 = ( R1 * ( Sgm ( ( dom R1 ) \ ( R1 " R11 ) ) ) ) by FINSEQ_1:def 3;
end;
thus L598: thesis by L593;
end;
end;
theorem
L600: (for R1 being FinSequence holds (for R11 being set holds ( len ( R1 - R11 ) ) = ( ( len R1 ) - ( card ( R1 " R11 ) ) )))
proof
let R1 being FinSequence;
let R11 being set;
set D61 = ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) );
L601: ( Seg ( len R1 ) ) = ( dom R1 ) by FINSEQ_1:def 3;
L602: ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) c= ( Seg ( len R1 ) ) by XBOOLE_1:36;
L603: ( rng D61 ) c= ( dom R1 ) by L602 , L601 , FINSEQ_1:def 13;
L604: ( dom D61 ) = ( dom ( R1 - R11 ) ) by L603 , L601 , RELAT_1:27;
L605: ( dom D61 ) = ( Seg ( len D61 ) ) by FINSEQ_1:def 3;
L606: ( R1 " R11 ) c= ( Seg ( len R1 ) )
proof
let R6 being set;
L607: ( R1 " R11 ) c= ( dom R1 ) by RELAT_1:132;
L608: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
assume L609: R6 in ( R1 " R11 );
thus L610: thesis by L609 , L607 , L608;
end;
L611: ( len D61 ) = ( card ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) by L207 , XBOOLE_1:36;
L612: ( len ( R1 - R11 ) ) = ( card ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) by L611 , L604 , L605 , FINSEQ_1:def 3;
thus L613: ( len ( R1 - R11 ) ) = ( ( card ( Seg ( len R1 ) ) ) - ( card ( R1 " R11 ) ) ) by L612 , L606 , CARD_2:44
.= ( ( len R1 ) - ( card ( R1 " R11 ) ) ) by FINSEQ_1:57;
end;
theorem
L614: (for R1 being FinSequence holds (for R11 being set holds ( len ( R1 - R11 ) ) <= ( len R1 )))
proof
let R1 being FinSequence;
let R11 being set;
L615: ( len ( R1 - R11 ) ) = ( ( len R1 ) - ( card ( R1 " R11 ) ) ) by L600;
thus L616: thesis by L615 , XREAL_1:43;
end;
theorem
L617: (for R1 being FinSequence holds (for R11 being set holds (( len ( R1 - R11 ) ) = ( len R1 ) implies R11 misses ( rng R1 ))))
proof
let R1 being FinSequence;
let R11 being set;
assume L618: ( len ( R1 - R11 ) ) = ( len R1 );
L619: ( len ( R1 - R11 ) ) = ( ( len R1 ) - ( card ( R1 " R11 ) ) ) by L600;
assume L620: R11 meets ( rng R1 );
L621: ( R1 " R11 ) <> ( {} ) by L620 , RELAT_1:138;
thus L622: thesis by L621 , L618 , L619;
end;
theorem
L623: (for R1 being FinSequence holds (for R11 being set holds (for R20 being Nat holds (R20 = ( ( len R1 ) - ( card ( R1 " R11 ) ) ) implies ( dom ( R1 - R11 ) ) = ( Seg R20 )))))
proof
let R1 being FinSequence;
let R11 being set;
let R20 being Nat;
assume L624: R20 = ( ( len R1 ) - ( card ( R1 " R11 ) ) );
L625: ( len ( R1 - R11 ) ) = R20 by L624 , L600;
thus L626: thesis by L625 , FINSEQ_1:def 3;
end;
theorem
L627: (for R1 being FinSequence holds (for R11 being set holds ( dom ( R1 - R11 ) ) c= ( dom R1 )))
proof
let R1 being FinSequence;
let R11 being set;
L628: ( dom ( R1 - R11 ) ) = ( Seg ( len ( R1 - R11 ) ) ) by FINSEQ_1:def 3;
L629: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
L630: ( len ( R1 - R11 ) ) <= ( len R1 ) by L614;
thus L631: thesis by L630 , L628 , L629 , FINSEQ_1:5;
end;
theorem
L632: (for R1 being FinSequence holds (for R11 being set holds (( dom ( R1 - R11 ) ) = ( dom R1 ) implies R11 misses ( rng R1 ))))
proof
let R1 being FinSequence;
let R11 being set;
L633: ( dom ( R1 - R11 ) ) = ( Seg ( len ( R1 - R11 ) ) ) by FINSEQ_1:def 3;
L634: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
assume L635: ( dom ( R1 - R11 ) ) = ( dom R1 );
thus L636: thesis by L635 , L633 , L634 , L617 , FINSEQ_1:6;
end;
theorem
L637: (for R1 being FinSequence holds (for R11 being set holds ( rng ( R1 - R11 ) ) = ( ( rng R1 ) \ R11 )))
proof
let R1 being FinSequence;
let R11 being set;
set D62 = ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) );
L638: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
L639: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
thus L640: ( rng ( R1 - R11 ) ) c= ( ( rng R1 ) \ R11 )
proof
let R6 being set;
L641: ( rng ( R1 * D62 ) ) c= ( rng R1 ) by RELAT_1:26;
assume L642: R6 in ( rng ( R1 - R11 ) );
L643:
now
L644: ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) c= ( Seg ( len R1 ) ) by XBOOLE_1:36;
assume L645: R6 in R11;
consider R7 being set such that L646: R7 in ( dom ( R1 - R11 ) ) and L647: ( ( R1 - R11 ) . R7 ) = R6 by L642 , FUNCT_1:def 3;
set D63 = ( D62 . R7 );
L648: R7 in ( dom D62 ) by L639 , L646 , FUNCT_1:11;
L649: ( ( R1 - R11 ) . R7 ) = ( R1 . D63 ) by L648 , L639 , FUNCT_1:13;
L650: D63 in ( rng D62 ) by L648 , FUNCT_1:def 3;
L651: D63 in ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) by L650 , L644 , FINSEQ_1:def 13;
L652: (not D63 in ( R1 " R11 )) by L651 , XBOOLE_0:def 5;
L653: D63 in ( dom R1 ) by L639 , L646 , FUNCT_1:11;
thus L654: contradiction by L653 , L645 , L647 , L649 , L652 , FUNCT_1:def 7;
end;
L655: R6 in ( rng ( R1 * D62 ) ) by L642 , FINSEQ_1:def 3;
thus L656: thesis by L655 , L641 , L643 , XBOOLE_0:def 5;
end;

let R6 being set;
assume L657: R6 in ( ( rng R1 ) \ R11 );
consider R7 being set such that L658: R7 in ( dom R1 ) and L659: ( R1 . R7 ) = R6 by L657 , FUNCT_1:def 3;
L660: ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) c= ( Seg ( len R1 ) ) by XBOOLE_1:36;
L661: ( rng D62 ) = ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) by L660 , FINSEQ_1:def 13;
L662: (not ( R1 . R7 ) in R11) by L657 , L659 , XBOOLE_0:def 5;
L663: (not R7 in ( R1 " R11 )) by L662 , FUNCT_1:def 7;
L664: R7 in ( rng D62 ) by L663 , L658 , L638 , L661 , XBOOLE_0:def 5;
consider R10 being set such that L665: R10 in ( dom D62 ) and L666: ( D62 . R10 ) = R7 by L664 , FUNCT_1:def 3;
L667: ( ( R1 - R11 ) . R10 ) = R6 by L639 , L659 , L665 , L666 , FUNCT_1:13;
L668: R10 in ( dom ( R1 - R11 ) ) by L639 , L658 , L665 , L666 , FUNCT_1:11;
thus L669: thesis by L668 , L667 , FUNCT_1:def 3;
end;
theorem
L670: (for R1 being FinSequence holds (for R11 being set holds ( rng ( R1 - R11 ) ) c= ( rng R1 )))
proof
let R1 being FinSequence;
let R11 being set;
L671: ( rng ( R1 - R11 ) ) = ( ( rng R1 ) \ R11 ) by L637;
thus L672: thesis by L671;
end;
theorem
L673: (for R1 being FinSequence holds (for R11 being set holds (( rng ( R1 - R11 ) ) = ( rng R1 ) implies R11 misses ( rng R1 ))))
proof
let R1 being FinSequence;
let R11 being set;
assume L674: ( rng ( R1 - R11 ) ) = ( rng R1 );
L675: ( ( rng R1 ) \ R11 ) = ( rng R1 ) by L674 , L637;
thus L676: thesis by L675 , XBOOLE_1:83;
end;
theorem
L677: (for R1 being FinSequence holds (for R11 being set holds (( R1 - R11 ) = ( {} ) iff ( rng R1 ) c= R11)))
proof
let R1 being FinSequence;
let R11 being set;
thus L678: (( R1 - R11 ) = ( {} ) implies ( rng R1 ) c= R11)
proof
assume that
L679: ( R1 - R11 ) = ( {} )
and
L680: (not ( rng R1 ) c= R11);
L681: ( ( rng R1 ) \ R11 ) <> ( {} ) by L680 , XBOOLE_1:37;
L682: ( rng ( R1 - R11 ) ) <> ( {} ) by L681 , L637;
thus L683: thesis by L682 , L679;
end;

assume L684: ( rng R1 ) c= R11;
L685: ( rng ( R1 - R11 ) ) = ( ( rng R1 ) \ R11 ) by L637;
thus L686: thesis by L685 , L684 , XBOOLE_1:37;
end;
theorem
L687: (for R1 being FinSequence holds (for R11 being set holds (( R1 - R11 ) = R1 iff R11 misses ( rng R1 ))))
proof
let R1 being FinSequence;
let R11 being set;
thus L688: (( R1 - R11 ) = R1 implies R11 misses ( rng R1 ))
proof
assume that
L689: ( R1 - R11 ) = R1
and
L690: (not R11 misses ( rng R1 ));
L691: ( len ( R1 - R11 ) ) <> ( len R1 ) by L690 , L617;
thus L692: contradiction by L691 , L689;
end;

assume L693: R11 misses ( rng R1 );
L694: ( R1 " R11 ) = ( {} ) by L693 , RELAT_1:138;
L695: ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) = ( idseq ( len R1 ) ) by L694 , L446;
L696: ( R1 * ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) ) = R1 by L695 , FINSEQ_2:54;
thus L697: thesis by L696 , FINSEQ_1:def 3;
end;
theorem
L698: (for R1 being FinSequence holds (for R6 being set holds (( R1 - { R6 } ) = R1 iff (not R6 in ( rng R1 )))))
proof
let R1 being FinSequence;
let R6 being set;
thus L699: (( R1 - { R6 } ) = R1 implies (not R6 in ( rng R1 )))
proof
assume L700: ( R1 - { R6 } ) = R1;
L701: { R6 } misses ( rng R1 ) by L700 , L687;
L702: R6 in { R6 } by TARSKI:def 1;
thus L703: thesis by L702 , L701 , XBOOLE_0:3;
end;

assume L704: (not R6 in ( rng R1 ));
L705: { R6 } misses ( rng R1 )
proof
assume L706: { R6 } meets ( rng R1 );
L707: (ex R7 being set st (R7 in { R6 } & R7 in ( rng R1 ))) by L706 , XBOOLE_0:3;
thus L708: thesis by L707 , L704 , TARSKI:def 1;
end;
thus L709: thesis by L705 , L687;
end;
theorem
L710: (for R1 being FinSequence holds ( R1 - ( {} ) ) = R1)
proof
let R1 being FinSequence;
L711: ( {} ) misses ( rng R1 ) by XBOOLE_1:65;
thus L712: thesis by L711 , L687;
end;
theorem
L713: (for R1 being FinSequence holds ( R1 - ( rng R1 ) ) = ( {} )) by L677;
L714: (for R6 being set holds (for R11 being set holds (( <* R6 *> - R11 ) = <* R6 *> iff (not R6 in R11))))
proof
let R6 being set;
let R11 being set;
thus L715: (( <* R6 *> - R11 ) = <* R6 *> implies (not R6 in R11))
proof
assume L716: ( <* R6 *> - R11 ) = <* R6 *>;
L717: ( rng <* R6 *> ) misses R11 by L716 , L687;
L718: ( rng <* R6 *> ) = { R6 } by FINSEQ_1:39;
L719: R6 in { R6 } by TARSKI:def 1;
thus L720: thesis by L719 , L718 , L717 , XBOOLE_0:3;
end;

assume L721: (not R6 in R11);
L722: ( rng <* R6 *> ) misses R11
proof
assume L723: ( rng <* R6 *> ) meets R11;
consider R7 being set such that L724: R7 in ( rng <* R6 *> ) and L725: R7 in R11 by L723 , XBOOLE_0:3;
L726: R7 in { R6 } by L724 , FINSEQ_1:39;
thus L727: thesis by L726 , L721 , L725 , TARSKI:def 1;
end;
thus L728: thesis by L722 , L687;
end;
L729: (for R6 being set holds (for R11 being set holds (( <* R6 *> - R11 ) = ( {} ) iff R6 in R11)))
proof
let R6 being set;
let R11 being set;
L730: ( rng <* R6 *> ) = { R6 } by FINSEQ_1:39;
thus L731: (( <* R6 *> - R11 ) = ( {} ) implies R6 in R11)
proof
assume L732: ( <* R6 *> - R11 ) = ( {} );
L733: ( rng <* R6 *> ) c= R11 by L732 , L677;
L734: { R6 } c= R11 by L733 , FINSEQ_1:39;
thus L735: thesis by L734 , ZFMISC_1:31;
end;

assume L736: R6 in R11;
L737: ( rng <* R6 *> ) c= R11 by L736 , L730 , ZFMISC_1:31;
thus L738: thesis by L737 , L677;
end;
L739: (for R1 being FinSequence holds (for R11 being set holds ( ( R1 ^ ( {} ) ) - R11 ) = ( ( R1 - R11 ) ^ ( ( {} ) - R11 ) )))
proof
let R1 being FinSequence;
let R11 being set;
thus L740: ( ( R1 ^ ( {} ) ) - R11 ) = ( R1 - R11 ) by FINSEQ_1:34
.= ( ( R1 - R11 ) ^ ( ( {} ) - R11 ) ) by FINSEQ_1:34;
end;
L741: (for R1 being FinSequence holds (for R6 being set holds (for R11 being set holds ( ( R1 ^ <* R6 *> ) - R11 ) = ( ( R1 - R11 ) ^ ( <* R6 *> - R11 ) ))))
proof
let R1 being FinSequence;
let R6 being set;
let R11 being set;
set D64 = ( ( R1 ^ <* R6 *> ) - R11 );
set D65 = ( <* R6 *> - R11 );
set D66 = ( R1 ^ <* R6 *> );
L742: ( len D66 ) = ( ( len R1 ) + ( len <* R6 *> ) ) by FINSEQ_1:22
.= ( ( len R1 ) + 1 ) by FINSEQ_1:40;
L743:
now
L744: ( D66 " R11 ) c= ( dom D66 ) by RELAT_1:132;
L745: ( D66 " R11 ) c= ( Seg ( len D66 ) ) by L744 , FINSEQ_1:def 3;
set D67 = ( ( Seg ( len ( R1 ^ <* R6 *> ) ) ) \ ( ( R1 ^ <* R6 *> ) " R11 ) );
set D68 = ( Sgm ( ( Seg ( len ( R1 ^ <* R6 *> ) ) ) \ ( ( R1 ^ <* R6 *> ) " R11 ) ) );
let C18 being (Element of ( NAT ));
L746: D67 c= ( Seg ( len D66 ) ) by XBOOLE_1:36;
assume L747: C18 in ( dom D65 );
L748: (not R6 in R11) by L747 , L729 , RELAT_1:38;
L749: D65 = <* R6 *> by L748 , L714;
L750: ( dom D65 ) = { 1 } by L749 , FINSEQ_1:2 , FINSEQ_1:def 8;
L751: C18 = 1 by L750 , L747 , TARSKI:def 1;
L752: ( R1 " R11 ) = ( ( R1 ^ <* R6 *> ) " R11 )
proof
thus L753: ( R1 " R11 ) c= ( ( R1 ^ <* R6 *> ) " R11 )
proof
let R7 being set;
assume L754: R7 in ( R1 " R11 );
L755: R7 in ( dom R1 ) by L754 , FUNCT_1:def 7;
reconsider D69 = R7 as (Element of ( NAT )) by L755;
L756: ( R1 . R7 ) in R11 by L754 , FUNCT_1:def 7;
L757: ( D66 . D69 ) in R11 by L756 , L755 , FINSEQ_1:def 7;
L758: R7 in ( dom D66 ) by L755 , L118;
thus L759: thesis by L758 , L757 , FUNCT_1:def 7;
end;

let R7 being set;
assume L760: R7 in ( ( R1 ^ <* R6 *> ) " R11 );
L761: R7 in ( dom D66 ) by L760 , FUNCT_1:def 7;
reconsider D70 = R7 as (Element of ( NAT )) by L761;
L762: ( D66 . R7 ) in R11 by L760 , FUNCT_1:def 7;
L763:
now
given R20 being Nat such that
L764: R20 in ( dom D65 )
and
L765: D70 = ( ( len R1 ) + R20 );

L766: R20 = 1 by L750 , L764 , TARSKI:def 1;
thus L767: contradiction by L766 , L748 , L762 , L765 , FINSEQ_1:42;
end;
L768: (D70 in ( dom R1 ) or (ex B25 being Nat st (B25 in ( dom D65 ) & D70 = ( ( len R1 ) + B25 )))) by L749 , L761 , FINSEQ_1:25;
L769: ( D66 . D70 ) = ( R1 . D70 ) by L768 , L763 , FINSEQ_1:def 7;
thus L770: thesis by L769 , L762 , L768 , L763 , FUNCT_1:def 7;
end;
L771:
now
assume L772: ( len D66 ) in ( D66 " R11 );
L773: ( D66 . ( len D66 ) ) = R6 by L742 , FINSEQ_1:42;
thus L774: contradiction by L773 , L748 , L772 , FUNCT_1:def 7;
end;
L775: ( dom D68 ) = ( Seg ( len D68 ) ) by FINSEQ_1:def 3;
L776: ( len D66 ) in ( Seg ( len D66 ) ) by L742 , FINSEQ_1:4;
L777: ( len D66 ) in D67 by L776 , L771 , XBOOLE_0:def 5;
L778: ( len D66 ) in ( rng D68 ) by L777 , L746 , FINSEQ_1:def 13;
consider R7 being set such that L779: R7 in ( dom D68 ) and L780: ( D68 . R7 ) = ( len D66 ) by L778 , FUNCT_1:def 3;
reconsider D71 = R7 as (Element of ( NAT )) by L779;
L781: ( ( len ( R1 - R11 ) ) + C18 ) = ( ( ( len R1 ) - ( card ( R1 " R11 ) ) ) + C18 ) by L600
.= ( ( ( len R1 ) + 1 ) - ( card ( ( R1 ^ <* R6 *> ) " R11 ) ) ) by L751 , L752
.= ( ( ( len R1 ) + ( len <* R6 *> ) ) - ( card ( ( R1 ^ <* R6 *> ) " R11 ) ) ) by FINSEQ_1:39
.= ( ( len ( R1 ^ <* R6 *> ) ) - ( card ( ( R1 ^ <* R6 *> ) " R11 ) ) ) by FINSEQ_1:22
.= ( len D64 ) by L600;
L782: ( len D68 ) = ( card D67 ) by L207 , XBOOLE_1:36
.= ( ( card ( Seg ( len D66 ) ) ) - ( card ( D66 " R11 ) ) ) by L745 , CARD_2:44
.= ( ( len D66 ) - ( card ( R1 " R11 ) ) ) by L752 , FINSEQ_1:57
.= ( ( ( len R1 ) - ( card ( R1 " R11 ) ) ) + C18 ) by L742 , L751
.= ( len D64 ) by L781 , L600;
L783: ( len D68 ) = ( ( len ( R1 - R11 ) ) + 1 ) by L782 , L747 , L750 , L781 , TARSKI:def 1;
L784: ( len D64 ) in ( dom D68 ) by L783 , L782 , L775 , FINSEQ_1:4;
L785:
now
L786: ( D68 . ( len D68 ) ) in ( rng D68 ) by L782 , L784 , FUNCT_1:def 3;
reconsider D72 = ( D68 . ( len D68 ) ) as (Element of ( NAT )) by L786;
L787: D72 in D67 by L746 , L786 , FINSEQ_1:def 13;
L788: D72 in ( Seg ( len D66 ) ) by L787 , XBOOLE_0:def 5;
assume L789: D71 <> ( len D68 );
L790: D71 in ( Seg ( len D68 ) ) by L779 , FINSEQ_1:def 3;
L791: D71 <= ( len D68 ) by L790 , FINSEQ_1:1;
L792: D71 < ( len D68 ) by L791 , L789 , XXREAL_0:1;
L793: 1 <= D71 by L790 , FINSEQ_1:1;
L794: ( len D66 ) < D72 by L793 , L746 , L780 , L792 , FINSEQ_1:def 13;
thus L795: contradiction by L794 , L788 , FINSEQ_1:1;
end;
L796: ( dom D66 ) = ( Seg ( len D66 ) ) by FINSEQ_1:def 3;
thus L797: ( D64 . ( ( len ( R1 - R11 ) ) + C18 ) ) = ( D66 . ( len D66 ) ) by L796 , L781 , L782 , L783 , L775 , L780 , L785 , FINSEQ_1:4 , FUNCT_1:13
.= R6 by L742 , FINSEQ_1:42
.= ( D65 . C18 ) by L749 , L751 , FINSEQ_1:def 8;
end;
L798:
now
L799: (R6 in R11 implies ( D66 " R11 ) = ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } ))
proof
assume L800: R6 in R11;
thus L801: ( D66 " R11 ) c= ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } )
proof
let R7 being set;
assume L802: R7 in ( D66 " R11 );
L803: R7 in ( dom D66 ) by L802 , FUNCT_1:def 7;
L804: R7 in ( Seg ( ( len R1 ) + 1 ) ) by L803 , L742 , FINSEQ_1:def 3;
L805: R7 in ( ( Seg ( len R1 ) ) \/ { ( ( len R1 ) + 1 ) } ) by L804 , FINSEQ_1:9;
L806:
now
per cases  by L805 , XBOOLE_0:def 3;
suppose L807: R7 in ( Seg ( len R1 ) );

reconsider D73 = R7 as (Element of ( NAT )) by L807;
L808: ( D66 . R7 ) in R11 by L802 , FUNCT_1:def 7;
L809: R7 in ( dom R1 ) by L807 , FINSEQ_1:def 3;
L810: ( R1 . D73 ) = ( D66 . D73 ) by L809 , FINSEQ_1:def 7;
L811: R7 in ( R1 " R11 ) by L810 , L809 , L808 , FUNCT_1:def 7;
thus L812: thesis by L811 , XBOOLE_0:def 3;
end;
suppose L813: R7 in { ( ( len R1 ) + 1 ) };

thus L814: thesis by L813 , XBOOLE_0:def 3;
end;
end;
thus L816: thesis by L806;
end;

let R7 being set;
assume L817: R7 in ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } );
L818:
now
per cases  by L817 , XBOOLE_0:def 3;
suppose L819: R7 in ( R1 " R11 );

L820: ( R1 " R11 ) c= ( D66 " R11 ) by L586;
thus L821: thesis by L820 , L819;
end;
suppose L822: R7 in { ( ( len R1 ) + 1 ) };

L823: R7 = ( ( len R1 ) + 1 ) by L822 , TARSKI:def 1;
L824: R7 in ( Seg ( len D66 ) ) by L823 , L742 , FINSEQ_1:4;
L825: R7 in ( dom D66 ) by L824 , FINSEQ_1:def 3;
L826: ( D66 . R7 ) in R11 by L800 , L823 , FINSEQ_1:42;
thus L827: thesis by L826 , L825 , FUNCT_1:def 7;
end;
end;
thus L829: thesis by L818;
end;
L830: ( D66 " R11 ) c= ( dom D66 ) by RELAT_1:132;
L831: ( D66 " R11 ) c= ( Seg ( len D66 ) ) by L830 , FINSEQ_1:def 3;
L832: ((not R6 in R11) implies ( D66 " R11 ) = ( R1 " R11 ))
proof
assume L833: (not R6 in R11);
thus L834: ( D66 " R11 ) c= ( R1 " R11 )
proof
let R7 being set;
assume L835: R7 in ( D66 " R11 );
L836: R7 in ( dom D66 ) by L835 , FUNCT_1:def 7;
reconsider D74 = R7 as (Element of ( NAT )) by L836;
L837:
now
assume L838: D74 = ( ( len R1 ) + 1 );
L839: ( D66 . D74 ) = R6 by L838 , FINSEQ_1:42;
thus L840: contradiction by L839 , L833 , L835 , FUNCT_1:def 7;
end;
L841: R7 in ( Seg ( len D66 ) ) by L836 , FINSEQ_1:def 3;
L842: D74 <= ( ( len R1 ) + 1 ) by L841 , L742 , FINSEQ_1:1;
L843: D74 < ( ( len R1 ) + 1 ) by L842 , L837 , XXREAL_0:1;
L844: D74 <= ( len R1 ) by L843 , NAT_1:13;
L845: 1 <= D74 by L841 , FINSEQ_1:1;
L846: D74 in ( Seg ( len R1 ) ) by L845 , L844 , FINSEQ_1:1;
L847: R7 in ( dom R1 ) by L846 , FINSEQ_1:def 3;
L848: ( D66 . D74 ) in R11 by L835 , FUNCT_1:def 7;
L849: ( R1 . D74 ) in R11 by L848 , L847 , FINSEQ_1:def 7;
thus L850: thesis by L849 , L847 , FUNCT_1:def 7;
end;

thus L851: thesis by L586;
end;
set D75 = ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) );
set D76 = ( Sgm ( ( Seg ( len D66 ) ) \ ( D66 " R11 ) ) );
let C19 being (Element of ( NAT ));
L852: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
L853:
now
L854: ( { ( ( len R1 ) + 1 ) } /\ ( R1 " R11 ) ) = ( {} )
proof
set D77 = the (Element of ( { ( ( len R1 ) + 1 ) } /\ ( R1 " R11 ) ));
L855: ( R1 " R11 ) c= ( dom R1 ) by RELAT_1:132;
assume L856: (not thesis);
L857: D77 in { ( ( len R1 ) + 1 ) } by L856 , XBOOLE_0:def 4;
L858: D77 = ( ( len R1 ) + 1 ) by L857 , TARSKI:def 1;
L859: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
L860: D77 in ( R1 " R11 ) by L856 , XBOOLE_0:def 4;
L861: ( ( len R1 ) + 1 ) <= ( len R1 ) by L860 , L858 , L855 , L859 , FINSEQ_1:1;
thus L862: thesis by L861 , XREAL_1:29;
end;
L863: { ( ( len R1 ) + 1 ) } misses ( R1 " R11 ) by L854 , XBOOLE_0:def 7;
assume L864: ( D66 " R11 ) = ( R1 " R11 );
thus L865: ( ( Seg ( len D66 ) ) \ ( D66 " R11 ) ) = ( ( ( Seg ( len R1 ) ) \/ { ( ( len R1 ) + 1 ) } ) \ ( R1 " R11 ) ) by L864 , L742 , FINSEQ_1:9
.= ( ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) \/ ( { ( ( len R1 ) + 1 ) } \ ( R1 " R11 ) ) ) by XBOOLE_1:42
.= ( ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) \/ { ( ( len R1 ) + 1 ) } ) by L863 , XBOOLE_1:83;
end;
L866: ( ( Seg ( len R1 ) ) /\ { ( ( len R1 ) + 1 ) } ) = ( {} )
proof
set D78 = the (Element of ( ( Seg ( len R1 ) ) /\ { ( ( len R1 ) + 1 ) } ));
assume L867: (not thesis);
L868: D78 in ( Seg ( len R1 ) ) by L867 , XBOOLE_0:def 4;
reconsider D79 = D78 as (Element of ( NAT )) by L868;
L869: D79 in { ( ( len R1 ) + 1 ) } by L867 , XBOOLE_0:def 4;
L870: D79 = ( ( len R1 ) + 1 ) by L869 , TARSKI:def 1;
L871: D79 <= ( len R1 ) by L868 , FINSEQ_1:1;
thus L872: thesis by L871 , L870 , XREAL_1:29;
end;
L873: ( Seg ( len R1 ) ) misses { ( ( len R1 ) + 1 ) } by L866 , XBOOLE_0:def 7;
L874:
now
assume L875: ( D66 " R11 ) = ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } );
thus L876: ( ( Seg ( len D66 ) ) \ ( D66 " R11 ) ) = ( ( ( Seg ( len R1 ) ) \/ { ( ( len R1 ) + 1 ) } ) \ ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } ) ) by L875 , L742 , FINSEQ_1:9
.= ( ( ( Seg ( len R1 ) ) \ ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } ) ) \/ ( { ( ( len R1 ) + 1 ) } \ ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } ) ) ) by XBOOLE_1:42
.= ( ( ( Seg ( len R1 ) ) \ ( ( R1 " R11 ) \/ { ( ( len R1 ) + 1 ) } ) ) \/ ( {} ) ) by XBOOLE_1:46
.= ( ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) /\ ( ( Seg ( len R1 ) ) \ { ( ( len R1 ) + 1 ) } ) ) by XBOOLE_1:53
.= ( ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) /\ ( Seg ( len R1 ) ) ) by L873 , XBOOLE_1:83
.= ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) by XBOOLE_1:28 , XBOOLE_1:36;
end;
L877: ( R1 " R11 ) c= ( dom R1 ) by RELAT_1:132;
L878: ( R1 " R11 ) c= ( Seg ( len R1 ) ) by L877 , FINSEQ_1:def 3;
L879: ( len D75 ) = ( card ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) by L207 , XBOOLE_1:36
.= ( ( card ( Seg ( len R1 ) ) ) - ( card ( R1 " R11 ) ) ) by L878 , CARD_2:44;
L880: ( len D75 ) = ( ( len R1 ) - ( card ( R1 " R11 ) ) ) by L879 , FINSEQ_1:57;
L881: ( ( Seg ( len D66 ) ) \ ( D66 " R11 ) ) c= ( Seg ( len D66 ) ) by XBOOLE_1:36;
L882: ( rng D76 ) c= ( Seg ( len D66 ) ) by L881 , FINSEQ_1:def 13;
L883: ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) c= ( Seg ( len R1 ) ) by XBOOLE_1:36;
L884: ( rng D75 ) c= ( Seg ( len R1 ) ) by L883 , FINSEQ_1:def 13;
assume L885: C19 in ( dom ( R1 - R11 ) );
L886: C19 in ( dom D75 ) by L885 , L852 , FUNCT_1:11;
L887: ( D75 . C19 ) in ( rng D75 ) by L886 , FUNCT_1:def 3;
L888: ( D75 . C19 ) in ( Seg ( len R1 ) ) by L887 , L884;
L889: ( D75 . C19 ) in ( dom R1 ) by L888 , FINSEQ_1:def 3;
L890: ( len D76 ) = ( card ( ( Seg ( len D66 ) ) \ ( D66 " R11 ) ) ) by L207 , XBOOLE_1:36
.= ( ( card ( Seg ( len D66 ) ) ) - ( card ( D66 " R11 ) ) ) by L831 , CARD_2:44;
L891: ( len D76 ) = ( ( len D66 ) - ( card ( D66 " R11 ) ) ) by L890 , FINSEQ_1:57;
L892: ( dom D75 ) c= ( dom D76 )
proof
L893: ( <* R6 *> " R11 ) c= ( dom <* R6 *> ) by RELAT_1:132;
L894: ( <* R6 *> " R11 ) c= { 1 } by L893 , FINSEQ_1:2 , FINSEQ_1:def 8;
L895: (( <* R6 *> " R11 ) = ( {} ) or ( <* R6 *> " R11 ) = { 1 }) by L894 , ZFMISC_1:33;
let R7 being set;
L896: ( card ( R1 " R11 ) ) <= ( ( card ( R1 " R11 ) ) + 1 ) by NAT_1:12;
assume L897: R7 in ( dom D75 );
reconsider D80 = R7 as (Element of ( NAT )) by L897;
L898: R7 in ( Seg ( len D75 ) ) by L897 , FINSEQ_1:def 3;
L899: D80 <= ( ( len R1 ) - ( card ( R1 " R11 ) ) ) by L898 , L880 , FINSEQ_1:1;
L900: ( D80 + ( card ( R1 " R11 ) ) ) <= ( len R1 ) by L899 , XREAL_1:19;
L901: ( ( D80 + ( card ( R1 " R11 ) ) ) + 1 ) <= ( len D66 ) by L900 , L742 , XREAL_1:7;
L902: ( card ( D66 " R11 ) ) = ( ( card ( R1 " R11 ) ) + ( card ( <* R6 *> " R11 ) ) ) by L504;
L903: ( D80 + ( card ( D66 " R11 ) ) ) <= ( D80 + ( ( card ( R1 " R11 ) ) + 1 ) ) by L902 , L895 , L896 , CARD_1:27 , CARD_1:30 , XREAL_1:7;
L904: ( D80 + ( card ( D66 " R11 ) ) ) <= ( len D66 ) by L903 , L901 , XXREAL_0:2;
L905: D80 <= ( len D76 ) by L904 , L891 , XREAL_1:19;
L906: 1 <= D80 by L898 , FINSEQ_1:1;
L907: D80 in ( Seg ( len D76 ) ) by L906 , L905 , FINSEQ_1:1;
thus L908: thesis by L907 , FINSEQ_1:def 3;
end;
L909: ( D76 . C19 ) in ( rng D76 ) by L892 , L886 , FUNCT_1:def 3;
L910: ( D76 . C19 ) in ( Seg ( len D66 ) ) by L909 , L882;
reconsider D81 = ( D76 . C19 ) as (Element of ( NAT )) by L910;
L911: ( dom D66 ) = ( Seg ( len D66 ) ) by FINSEQ_1:def 3;
L912: ( D64 . C19 ) = ( D66 . D81 ) by L911 , L886 , L892 , FUNCT_1:13;
L913: ( ( len R1 ) + 1 ) in ( Seg ( ( len R1 ) + 1 ) ) by FINSEQ_1:4;
L914: { ( ( len R1 ) + 1 ) } c= ( Seg ( ( len R1 ) + 1 ) ) by L913 , ZFMISC_1:31;
L915:
now
per cases  by L799 , L832 , L853 , L874;
suppose L916: ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) = ( ( Seg ( len D66 ) ) \ ( D66 " R11 ) );

thus L917: ( D76 . C19 ) = ( D75 . C19 ) by L916;
end;
suppose L918: ( ( Seg ( len D66 ) ) \ ( D66 " R11 ) ) = ( ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) \/ { ( ( len R1 ) + 1 ) } );

L919:
now
let C20 , C21 being (Element of ( NAT ));
assume that
L920: C20 in ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) )
and
L921: C21 in { ( ( len R1 ) + 1 ) };
L922: C20 in ( Seg ( len R1 ) ) by L920 , XBOOLE_0:def 5;
L923: C20 <= ( len R1 ) by L922 , FINSEQ_1:1;
L924: ( len R1 ) < ( ( len R1 ) + 1 ) by XREAL_1:29;
L925: C21 = ( ( len R1 ) + 1 ) by L921 , TARSKI:def 1;
thus L926: C20 < C21 by L925 , L923 , L924 , XXREAL_0:2;
end;
L927: D76 = ( D75 ^ ( Sgm { ( ( len R1 ) + 1 ) } ) ) by L919 , L883 , L914 , L918 , L229;
thus L928: ( D76 . C19 ) = ( D75 . C19 ) by L927 , L886 , FINSEQ_1:def 7;
end;
end;
L930: ( ( R1 - R11 ) . C19 ) = ( R1 . ( D75 . C19 ) ) by L852 , L886 , FUNCT_1:13;
thus L931: ( D64 . C19 ) = ( ( R1 - R11 ) . C19 ) by L930 , L889 , L915 , L912 , FINSEQ_1:def 7;
end;
L932: ( len D64 ) = ( ( len ( R1 ^ <* R6 *> ) ) - ( card ( D66 " R11 ) ) ) by L600
.= ( ( ( len R1 ) + ( len <* R6 *> ) ) - ( card ( D66 " R11 ) ) ) by FINSEQ_1:22
.= ( ( ( len R1 ) + ( len <* R6 *> ) ) - ( ( card ( R1 " R11 ) ) + ( card ( <* R6 *> " R11 ) ) ) ) by L504
.= ( ( ( ( len R1 ) - ( card ( R1 " R11 ) ) ) + ( len <* R6 *> ) ) + ( - ( card ( <* R6 *> " R11 ) ) ) )
.= ( ( ( len ( R1 - R11 ) ) + ( len <* R6 *> ) ) + ( - ( card ( <* R6 *> " R11 ) ) ) ) by L600
.= ( ( len ( R1 - R11 ) ) + ( ( len <* R6 *> ) - ( card ( <* R6 *> " R11 ) ) ) )
.= ( ( len ( R1 - R11 ) ) + ( len D65 ) ) by L600;
thus L933: thesis by L932 , L798 , L743 , L174;
end;
L934:
now
let R2 being FinSequence;
let R6 being set;
assume L935: (for R1 being FinSequence holds (for R11 being set holds ( ( R1 ^ R2 ) - R11 ) = ( ( R1 - R11 ) ^ ( R2 - R11 ) )));
let R1 being FinSequence;
let R11 being set;
thus L936: ( ( R1 ^ ( R2 ^ <* R6 *> ) ) - R11 ) = ( ( ( R1 ^ R2 ) ^ <* R6 *> ) - R11 ) by FINSEQ_1:32
.= ( ( ( R1 ^ R2 ) - R11 ) ^ ( <* R6 *> - R11 ) ) by L741
.= ( ( ( R1 - R11 ) ^ ( R2 - R11 ) ) ^ ( <* R6 *> - R11 ) ) by L935
.= ( ( R1 - R11 ) ^ ( ( R2 - R11 ) ^ ( <* R6 *> - R11 ) ) ) by FINSEQ_1:32
.= ( ( R1 - R11 ) ^ ( ( R2 ^ <* R6 *> ) - R11 ) ) by L741;
end;
L937: (for R2 being FinSequence holds (for R1 being FinSequence holds (for R11 being set holds ( ( R1 ^ R2 ) - R11 ) = ( ( R1 - R11 ) ^ ( R2 - R11 ) ))))
proof
defpred S6[ FinSequence ] means (for R1 being FinSequence holds (for R11 being set holds ( ( R1 ^ $1 ) - R11 ) = ( ( R1 - R11 ) ^ ( $1 - R11 ) )));
L938: (for R2 being FinSequence holds (for R6 being set holds (S6[ R2 ] implies S6[ ( R2 ^ <* R6 *> ) ]))) by L934;
L939: S6[ ( {} ) ] by L739;
L940: (for R2 being FinSequence holds S6[ R2 ]) from FINSEQ_1:sch 3(L939 , L938);
thus L941: thesis by L940;
end;
theorem
L942: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R11 being set holds ( ( R1 ^ R2 ) - R11 ) = ( ( R1 - R11 ) ^ ( R2 - R11 ) )))) by L937;
theorem
L943: (for R11 being set holds ( ( {} ) - R11 ) = ( {} ));
theorem
L944: (for R6 being set holds (for R11 being set holds (( <* R6 *> - R11 ) = <* R6 *> iff (not R6 in R11)))) by L714;
theorem
L945: (for R6 being set holds (for R11 being set holds (( <* R6 *> - R11 ) = ( {} ) iff R6 in R11))) by L729;
theorem
L946: (for R6 being set holds (for R7 being set holds (for R11 being set holds (( <* R6 , R7 *> - R11 ) = ( {} ) iff (R6 in R11 & R7 in R11)))))
proof
let R6 being set;
let R7 being set;
let R11 being set;
L947: <* R6 , R7 *> = ( <* R6 *> ^ <* R7 *> ) by FINSEQ_1:def 9;
thus L948: (( <* R6 , R7 *> - R11 ) = ( {} ) implies (R6 in R11 & R7 in R11))
proof
assume L949: ( <* R6 , R7 *> - R11 ) = ( {} );
L950: ( rng <* R6 , R7 *> ) c= R11 by L949 , L677;
L951: { R6 , R7 } c= R11 by L950 , FINSEQ_2:127;
thus L952: thesis by L951 , ZFMISC_1:32;
end;

assume that
L953: R6 in R11
and
L954: R7 in R11;
L955: ( <* R7 *> - R11 ) = ( {} ) by L954 , L729;
L956: ( ( card ( {} ) ) + ( card ( {} ) ) ) = ( card ( ( {} ) ^ ( {} ) ) ) by FINSEQ_1:22;
L957: ( card ( ( {} ) ^ ( {} ) ) ) = ( 0 ) by L956;
L958: ( <* R6 *> - R11 ) = ( {} ) by L953 , L729;
thus L959: ( <* R6 , R7 *> - R11 ) = ( ( {} ) ^ ( {} ) ) by L958 , L955 , L947 , L937
.= ( {} ) by L957;
end;
theorem
L960: (for R6 being set holds (for R7 being set holds (for R11 being set holds ((R6 in R11 & (not R7 in R11)) implies ( <* R6 , R7 *> - R11 ) = <* R7 *>))))
proof
let R6 being set;
let R7 being set;
let R11 being set;
assume that
L961: R6 in R11
and
L962: (not R7 in R11);
L963: ( <* R7 *> - R11 ) = <* R7 *> by L962 , L714;
L964: <* R6 , R7 *> = ( <* R6 *> ^ <* R7 *> ) by FINSEQ_1:def 9;
L965: ( <* R6 *> - R11 ) = ( {} ) by L961 , L729;
thus L966: ( <* R6 , R7 *> - R11 ) = ( ( {} ) ^ <* R7 *> ) by L965 , L963 , L964 , L937
.= <* R7 *> by FINSEQ_1:34;
end;
theorem
L967: (for R6 being set holds (for R7 being set holds (for R11 being set holds ((( <* R6 , R7 *> - R11 ) = <* R7 *> & R6 <> R7) implies (R6 in R11 & (not R7 in R11))))))
proof
let R6 being set;
let R7 being set;
let R11 being set;
assume that
L968: ( <* R6 , R7 *> - R11 ) = <* R7 *>
and
L969: R6 <> R7;
assume L970: (not thesis);
L971: (R7 in R11 implies ( <* R7 *> - R11 ) = ( {} )) by L729;
L972: ((not R6 in R11) implies ( <* R6 *> - R11 ) = <* R6 *>) by L714;
L973: ((not R7 in R11) implies ( <* R7 *> - R11 ) = <* R7 *>) by L714;
L974: (R6 in R11 implies ( <* R6 *> - R11 ) = ( {} )) by L729;
L975: ( <* R6 *> . 1 ) = R6 by FINSEQ_1:40;
L976: <* R7 *> = ( ( <* R6 *> ^ <* R7 *> ) - R11 ) by L968 , FINSEQ_1:def 9
.= ( ( <* R6 *> - R11 ) ^ ( <* R7 *> - R11 ) ) by L937;
L977: (<* R7 *> = ( {} ) or <* R6 *> = <* R7 *> or <* R7 *> = <* R6 , R7 *>) by L976 , L974 , L972 , L971 , L973 , L970 , FINSEQ_1:34 , FINSEQ_1:def 9;
thus L978: thesis by L977 , L969 , L975 , L165 , FINSEQ_1:40;
end;
theorem
L979: (for R6 being set holds (for R7 being set holds (for R11 being set holds (((not R6 in R11) & R7 in R11) implies ( <* R6 , R7 *> - R11 ) = <* R6 *>))))
proof
let R6 being set;
let R7 being set;
let R11 being set;
assume that
L980: (not R6 in R11)
and
L981: R7 in R11;
L982: ( <* R7 *> - R11 ) = ( {} ) by L981 , L729;
L983: <* R6 , R7 *> = ( <* R6 *> ^ <* R7 *> ) by FINSEQ_1:def 9;
L984: ( <* R6 *> - R11 ) = <* R6 *> by L980 , L714;
thus L985: ( <* R6 , R7 *> - R11 ) = ( <* R6 *> ^ ( {} ) ) by L984 , L982 , L983 , L937
.= <* R6 *> by FINSEQ_1:34;
end;
theorem
L986: (for R6 being set holds (for R7 being set holds (for R11 being set holds ((( <* R6 , R7 *> - R11 ) = <* R6 *> & R6 <> R7) implies ((not R6 in R11) & R7 in R11)))))
proof
let R6 being set;
let R7 being set;
let R11 being set;
assume that
L987: ( <* R6 , R7 *> - R11 ) = <* R6 *>
and
L988: R6 <> R7;
assume L989: (not thesis);
L990: (R7 in R11 implies ( <* R7 *> - R11 ) = ( {} )) by L729;
L991: ((not R6 in R11) implies ( <* R6 *> - R11 ) = <* R6 *>) by L714;
L992: ((not R7 in R11) implies ( <* R7 *> - R11 ) = <* R7 *>) by L714;
L993: (R6 in R11 implies ( <* R6 *> - R11 ) = ( {} )) by L729;
L994: ( <* R6 *> . 1 ) = R6 by FINSEQ_1:40;
L995: <* R6 *> = ( ( <* R6 *> ^ <* R7 *> ) - R11 ) by L987 , FINSEQ_1:def 9
.= ( ( <* R6 *> - R11 ) ^ ( <* R7 *> - R11 ) ) by L937;
L996: (<* R6 *> = ( {} ) or <* R6 *> = <* R7 *> or <* R6 *> = <* R6 , R7 *>) by L995 , L993 , L991 , L990 , L992 , L989 , FINSEQ_1:34 , FINSEQ_1:def 9;
thus L997: thesis by L996 , L988 , L994 , L165 , FINSEQ_1:40;
end;
theorem
L998: (for R6 being set holds (for R7 being set holds (for R11 being set holds (( <* R6 , R7 *> - R11 ) = <* R6 , R7 *> iff ((not R6 in R11) & (not R7 in R11))))))
proof
let R6 being set;
let R7 being set;
let R11 being set;
L999: <* R6 , R7 *> = ( <* R6 *> ^ <* R7 *> ) by FINSEQ_1:def 9;
thus L1000: (( <* R6 , R7 *> - R11 ) = <* R6 , R7 *> implies ((not R6 in R11) & (not R7 in R11)))
proof
assume L1001: ( <* R6 , R7 *> - R11 ) = <* R6 , R7 *>;
assume L1002: (not thesis);
L1003: ((R6 in R11 & R7 in R11) or ((not R6 in R11) & R7 in R11) or (R6 in R11 & (not R7 in R11))) by L1002;
L1004: (( <* R6 , R7 *> - R11 ) = ( {} ) or ( <* R6 , R7 *> - R11 ) = <* R6 *> or ( <* R6 , R7 *> - R11 ) = <* R7 *>) by L1003 , L946 , L960 , L979;
thus L1005: thesis by L1004 , L1001 , L165;
end;

assume that
L1006: (not R6 in R11)
and
L1007: (not R7 in R11);
L1008: ( <* R7 *> - R11 ) = <* R7 *> by L1007 , L714;
L1009: ( <* R6 *> - R11 ) = <* R6 *> by L1006 , L714;
thus L1010: thesis by L1009 , L1008 , L999 , L937;
end;
theorem
L1011: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R11 being set holds (for R17 being Nat holds ((( len R1 ) = ( R17 + 1 ) & R2 = ( R1 | ( Seg R17 ) )) implies (( R1 . ( R17 + 1 ) ) in R11 iff ( R1 - R11 ) = ( R2 - R11 )))))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R11 being set;
let R17 being Nat;
assume that
L1012: ( len R1 ) = ( R17 + 1 )
and
L1013: R2 = ( R1 | ( Seg R17 ) );
thus L1014: (( R1 . ( R17 + 1 ) ) in R11 implies ( R1 - R11 ) = ( R2 - R11 ))
proof
assume L1015: ( R1 . ( R17 + 1 ) ) in R11;
thus L1016: ( R1 - R11 ) = ( ( R2 ^ <* ( R1 . ( R17 + 1 ) ) *> ) - R11 ) by L1012 , L1013 , L485
.= ( ( R2 - R11 ) ^ ( <* ( R1 . ( R17 + 1 ) ) *> - R11 ) ) by L937
.= ( ( R2 - R11 ) ^ ( {} ) ) by L1015 , L729
.= ( R2 - R11 ) by FINSEQ_1:34;
end;

assume that
L1017: ( R1 - R11 ) = ( R2 - R11 )
and
L1018: (not ( R1 . ( R17 + 1 ) ) in R11);
L1019: ( R2 - R11 ) = ( ( R2 ^ <* ( R1 . ( R17 + 1 ) ) *> ) - R11 ) by L1012 , L1013 , L1017 , L485
.= ( ( R2 - R11 ) ^ ( <* ( R1 . ( R17 + 1 ) ) *> - R11 ) ) by L937
.= ( ( R2 - R11 ) ^ <* ( R1 . ( R17 + 1 ) ) *> ) by L1018 , L714;
thus L1020: thesis by L1019 , FINSEQ_1:87;
end;
theorem
L1021: (for R1 being FinSequence holds (for R2 being FinSequence holds (for R11 being set holds (for R17 being Nat holds ((( len R1 ) = ( R17 + 1 ) & R2 = ( R1 | ( Seg R17 ) )) implies ((not ( R1 . ( R17 + 1 ) ) in R11) iff ( R1 - R11 ) = ( ( R2 - R11 ) ^ <* ( R1 . ( R17 + 1 ) ) *> )))))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
let R11 being set;
let R17 being Nat;
assume that
L1022: ( len R1 ) = ( R17 + 1 )
and
L1023: R2 = ( R1 | ( Seg R17 ) );
thus L1024: ((not ( R1 . ( R17 + 1 ) ) in R11) implies ( R1 - R11 ) = ( ( R2 - R11 ) ^ <* ( R1 . ( R17 + 1 ) ) *> ))
proof
assume L1025: (not ( R1 . ( R17 + 1 ) ) in R11);
thus L1026: ( R1 - R11 ) = ( ( R2 ^ <* ( R1 . ( R17 + 1 ) ) *> ) - R11 ) by L1022 , L1023 , L485
.= ( ( R2 - R11 ) ^ ( <* ( R1 . ( R17 + 1 ) ) *> - R11 ) ) by L937
.= ( ( R2 - R11 ) ^ <* ( R1 . ( R17 + 1 ) ) *> ) by L1025 , L714;
end;

assume L1027: ( R1 - R11 ) = ( ( R2 - R11 ) ^ <* ( R1 . ( R17 + 1 ) ) *> );
assume L1028: ( R1 . ( R17 + 1 ) ) in R11;
L1029: ( R2 - R11 ) = ( ( R2 - R11 ) ^ <* ( R1 . ( R17 + 1 ) ) *> ) by L1028 , L1022 , L1023 , L1027 , L1011;
thus L1030: contradiction by L1029 , FINSEQ_1:87;
end;
L1031: (for R18 being Nat holds ((for R1 being FinSequence holds (for R11 being set holds (( len R1 ) = R18 implies (for R20 being Nat holds (R20 in ( dom R1 ) implies (for B26 being  finite set holds (B26 = { B27 where B27 is (Element of ( NAT )) : (B27 in ( dom R1 ) & B27 <= R20 & ( R1 . B27 ) in R11) } implies (( R1 . R20 ) in R11 or ( ( R1 - R11 ) . ( R20 - ( card B26 ) ) ) = ( R1 . R20 ))))))))) implies (for R1 being FinSequence holds (for R11 being set holds (( len R1 ) = ( R18 + 1 ) implies (for R20 being Nat holds (R20 in ( dom R1 ) implies (for B28 being  finite set holds (B28 = { B29 where B29 is (Element of ( NAT )) : (B29 in ( dom R1 ) & B29 <= R20 & ( R1 . B29 ) in R11) } implies (( R1 . R20 ) in R11 or ( ( R1 - R11 ) . ( R20 - ( card B28 ) ) ) = ( R1 . R20 )))))))))))
proof
let R18 being Nat;
assume L1032: (for R1 being FinSequence holds (for R11 being set holds (( len R1 ) = R18 implies (for R20 being Nat holds (R20 in ( dom R1 ) implies (for B30 being  finite set holds (B30 = { B31 where B31 is (Element of ( NAT )) : (B31 in ( dom R1 ) & B31 <= R20 & ( R1 . B31 ) in R11) } implies (( R1 . R20 ) in R11 or ( ( R1 - R11 ) . ( R20 - ( card B30 ) ) ) = ( R1 . R20 )))))))));
let R1 being FinSequence;
let R11 being set;
reconsider D82 = ( R1 | ( Seg R18 ) ) as FinSequence by FINSEQ_1:15;
assume L1033: ( len R1 ) = ( R18 + 1 );
L1034: ( len D82 ) = R18 by L1033 , L475;
let R20 being Nat;
set D83 = { B32 where B32 is (Element of ( NAT )) : (B32 in ( dom D82 ) & B32 <= R20 & ( D82 . B32 ) in R11) };
L1035: D83 c= ( dom D82 )
proof
let C22 being set;
assume L1036: C22 in D83;
L1037: (ex B33 being (Element of ( NAT )) st (C22 = B33 & B33 in ( dom D82 ) & B33 <= R20 & ( D82 . B33 ) in R11)) by L1036;
thus L1038: thesis by L1037;
end;
reconsider D84 = D83 as  finite set by L1035;
assume L1039: R20 in ( dom R1 );
let C23 being  finite set;
assume that
L1040: C23 = { B34 where B34 is (Element of ( NAT )) : (B34 in ( dom R1 ) & B34 <= R20 & ( R1 . B34 ) in R11) };
assume L1041: (not ( R1 . R20 ) in R11);
L1042:
now
per cases ;
suppose L1043: ( R1 . ( R18 + 1 ) ) in R11;

L1044: R20 in ( Seg ( R18 + 1 ) ) by L1033 , L1039 , FINSEQ_1:def 3;
L1045: (not R20 in { ( R18 + 1 ) }) by L1041 , L1043 , TARSKI:def 1;
L1046: R20 in ( ( Seg ( R18 + 1 ) ) \ { ( R18 + 1 ) } ) by L1045 , L1044 , XBOOLE_0:def 5;
L1047: R20 in ( Seg R18 ) by L1046 , FINSEQ_1:10;
L1048: D84 = C23
proof
thus L1049: D84 c= C23
proof
let R6 being set;
L1050: ( dom D82 ) c= ( dom R1 ) by RELAT_1:60;
assume L1051: R6 in D84;
consider C24 being (Element of ( NAT )) such that L1052: R6 = C24 and L1053: C24 in ( dom D82 ) and L1054: C24 <= R20 and L1055: ( D82 . C24 ) in R11 by L1051;
L1056: ( R1 . C24 ) in R11 by L1053 , L1055 , FUNCT_1:47;
thus L1057: thesis by L1056 , L1040 , L1052 , L1053 , L1054 , L1050;
end;

let R6 being set;
assume L1058: R6 in C23;
consider C25 being (Element of ( NAT )) such that L1059: R6 = C25 and L1060: C25 in ( dom R1 ) and L1061: C25 <= R20 and L1062: ( R1 . C25 ) in R11 by L1058 , L1040;
L1063: C25 in ( Seg ( len R1 ) ) by L1060 , FINSEQ_1:def 3;
L1064: 1 <= C25 by L1063 , FINSEQ_1:1;
L1065: R20 <= R18 by L1047 , FINSEQ_1:1;
L1066: C25 <= R18 by L1065 , L1061 , XXREAL_0:2;
L1067: C25 in ( Seg R18 ) by L1066 , L1064 , FINSEQ_1:1;
L1068: C25 in ( dom D82 ) by L1067 , L1034 , FINSEQ_1:def 3;
L1069: ( D82 . C25 ) in R11 by L1068 , L1062 , FUNCT_1:47;
thus L1070: thesis by L1069 , L1059 , L1061 , L1068;
end;
L1071: ( D82 - R11 ) = ( R1 - R11 ) by L1033 , L1043 , L1011;
L1072: R20 in ( dom D82 ) by L1034 , L1047 , FINSEQ_1:def 3;
L1073: ( R1 . R20 ) = ( D82 . R20 ) by L1072 , FUNCT_1:47;
thus L1074: thesis by L1073 , L1032 , L1041 , L1034 , L1072 , L1071 , L1048;
end;
suppose L1075: (not ( R1 . ( R18 + 1 ) ) in R11);

L1076: ( R1 - R11 ) = ( ( D82 - R11 ) ^ <* ( R1 . ( R18 + 1 ) ) *> ) by L1075 , L1033 , L1021;
L1077:
now
per cases ;
suppose L1078: R20 = ( R18 + 1 );

L1079: ( R1 " R11 ) = C23
proof
thus L1080: ( R1 " R11 ) c= C23
proof
let R6 being set;
assume L1081: R6 in ( R1 " R11 );
L1082: R6 in ( dom R1 ) by L1081 , FUNCT_1:def 7;
reconsider D85 = R6 as (Element of ( NAT )) by L1082;
L1083: ( R1 . R6 ) in R11 by L1081 , FUNCT_1:def 7;
L1084: D85 in ( Seg R20 ) by L1033 , L1078 , L1082 , FINSEQ_1:def 3;
L1085: D85 <= R20 by L1084 , FINSEQ_1:1;
thus L1086: thesis by L1085 , L1040 , L1082 , L1083;
end;

let R6 being set;
assume L1087: R6 in C23;
L1088: (ex B35 being (Element of ( NAT )) st (R6 = B35 & B35 in ( dom R1 ) & B35 <= R20 & ( R1 . B35 ) in R11)) by L1087 , L1040;
thus L1089: thesis by L1088 , FUNCT_1:def 7;
end;
L1090: ( len ( R1 - R11 ) ) = ( R20 - ( card C23 ) ) by L1079 , L1033 , L1078 , L600;
L1091: ( len <* ( R1 . ( R18 + 1 ) ) *> ) = 1 by FINSEQ_1:39;
L1092: ( ( R1 - R11 ) . ( R20 - ( card C23 ) ) ) = ( ( R1 - R11 ) . ( ( len ( D82 - R11 ) ) + 1 ) ) by L1091 , L1076 , L1090 , FINSEQ_1:22
.= ( R1 . ( R18 + 1 ) ) by L1076 , FINSEQ_1:42;
thus L1093: thesis by L1092 , L1078;
end;
suppose L1094: R20 <> ( R18 + 1 );

L1095: (not R20 in { ( R18 + 1 ) }) by L1094 , TARSKI:def 1;
L1096: R20 in ( Seg ( R18 + 1 ) ) by L1033 , L1039 , FINSEQ_1:def 3;
L1097: R20 in ( ( Seg ( R18 + 1 ) ) \ { ( R18 + 1 ) } ) by L1096 , L1095 , XBOOLE_0:def 5;
L1098: R20 in ( Seg R18 ) by L1097 , FINSEQ_1:10;
L1099: 1 <= R20 by L1098 , FINSEQ_1:1;
L1100: R20 in ( Seg R20 ) by L1099 , FINSEQ_1:1;
L1101: { R20 } c= ( Seg R20 ) by L1100 , ZFMISC_1:31;
L1102: ( ( Seg R20 ) \ D84 ) c= ( ( Seg R18 ) \ ( D82 " R11 ) )
proof
let R6 being set;
assume L1103: R6 in ( ( Seg R20 ) \ D84 );
reconsider D86 = R6 as (Element of ( NAT )) by L1103;
L1104: R6 in ( Seg R20 ) by L1103 , XBOOLE_0:def 5;
L1105: 1 <= D86 by L1104 , FINSEQ_1:1;
L1106: D86 <= R20 by L1104 , FINSEQ_1:1;
L1107:
now
assume L1108: D86 in ( D82 " R11 );
L1109: D86 in ( dom D82 ) by L1108 , FUNCT_1:def 7;
L1110: ( D82 . D86 ) in R11 by L1108 , FUNCT_1:def 7;
L1111: D86 in D84 by L1110 , L1106 , L1109;
thus L1112: contradiction by L1111 , L1103 , XBOOLE_0:def 5;
end;
L1113: R20 <= R18 by L1098 , FINSEQ_1:1;
L1114: D86 <= R18 by L1113 , L1106 , XXREAL_0:2;
L1115: D86 in ( Seg R18 ) by L1114 , L1105 , FINSEQ_1:1;
thus L1116: thesis by L1115 , L1107 , XBOOLE_0:def 5;
end;
L1117: D84 = C23
proof
thus L1118: D84 c= C23
proof
let R6 being set;
L1119: ( dom D82 ) c= ( dom R1 ) by RELAT_1:60;
assume L1120: R6 in D84;
consider C26 being (Element of ( NAT )) such that L1121: R6 = C26 and L1122: C26 in ( dom D82 ) and L1123: C26 <= R20 and L1124: ( D82 . C26 ) in R11 by L1120;
L1125: ( R1 . C26 ) in R11 by L1122 , L1124 , FUNCT_1:47;
thus L1126: thesis by L1125 , L1040 , L1121 , L1122 , L1123 , L1119;
end;

let R6 being set;
assume L1127: R6 in C23;
consider C27 being (Element of ( NAT )) such that L1128: R6 = C27 and L1129: C27 in ( dom R1 ) and L1130: C27 <= R20 and L1131: ( R1 . C27 ) in R11 by L1127 , L1040;
L1132: C27 in ( Seg ( len R1 ) ) by L1129 , FINSEQ_1:def 3;
L1133: 1 <= C27 by L1132 , FINSEQ_1:1;
L1134: R20 <= R18 by L1098 , FINSEQ_1:1;
L1135: C27 <= R18 by L1134 , L1130 , XXREAL_0:2;
L1136: C27 in ( Seg R18 ) by L1135 , L1133 , FINSEQ_1:1;
L1137: C27 in ( dom D82 ) by L1136 , L1034 , FINSEQ_1:def 3;
L1138: ( D82 . C27 ) in R11 by L1137 , L1131 , FUNCT_1:47;
thus L1139: thesis by L1138 , L1128 , L1130 , L1137;
end;
L1140: ( D82 " R11 ) c= ( dom D82 ) by RELAT_1:132;
L1141: ( D82 " R11 ) c= ( Seg R18 ) by L1140 , L1034 , FINSEQ_1:def 3;
L1142: ( ( D82 " R11 ) \/ ( ( Seg R18 ) \ ( D82 " R11 ) ) ) = ( ( D82 " R11 ) \/ ( Seg R18 ) ) by XBOOLE_1:39
.= ( Seg R18 ) by L1141 , XBOOLE_1:12;
L1143: ( card ( Seg R18 ) ) = ( ( card ( D82 " R11 ) ) + ( card ( ( Seg R18 ) \ ( D82 " R11 ) ) ) ) by L1142 , CARD_2:40 , XBOOLE_1:79;
L1144: ( len D82 ) = ( ( card ( D82 " R11 ) ) + ( card ( ( Seg ( len D82 ) ) \ ( D82 " R11 ) ) ) ) by L1143 , L1034 , FINSEQ_1:57;
set D87 = ( card D84 );
set D88 = ( R20 - ( card D84 ) );
L1145: ( card ( Seg R20 ) ) = R20 by FINSEQ_1:57;
L1146: R20 in ( dom D82 ) by L1034 , L1098 , FINSEQ_1:def 3;
L1147: (not ( D82 . R20 ) in R11) by L1146 , L1041 , FUNCT_1:47;
L1148: D84 c= ( ( Seg R20 ) \ { R20 } )
proof
let R6 being set;
assume L1149: R6 in D84;
consider C28 being (Element of ( NAT )) such that L1150: R6 = C28 and L1151: C28 in ( dom D82 ) and L1152: C28 <= R20 and L1153: ( D82 . C28 ) in R11 by L1149;
L1154: C28 in ( Seg ( len D82 ) ) by L1151 , FINSEQ_1:def 3;
L1155: 1 <= C28 by L1154 , FINSEQ_1:1;
L1156: C28 in ( Seg R20 ) by L1155 , L1152 , FINSEQ_1:1;
L1157: (not C28 in { R20 }) by L1147 , L1153 , TARSKI:def 1;
thus L1158: thesis by L1157 , L1150 , L1156 , XBOOLE_0:def 5;
end;
L1159: ( card D84 ) <= ( card ( ( Seg R20 ) \ { R20 } ) ) by L1148 , NAT_1:43;
L1160: ( card D84 ) <= ( ( card ( Seg R20 ) ) - ( card { R20 } ) ) by L1159 , L1101 , CARD_2:44;
L1161: D87 <= ( ( card ( Seg R20 ) ) - 1 ) by L1160 , CARD_1:30;
L1162: D87 <= ( R20 - 1 ) by L1161 , FINSEQ_1:57;
L1163: ( D87 + 1 ) <= R20 by L1162 , XREAL_1:19;
L1164: ( ( 0 ) + D87 ) < ( D88 + D87 ) by L1163 , NAT_1:13;
L1165: ( 0 ) <= D88 by L1164 , XREAL_1:6;
reconsider D89 = D88 as (Element of ( NAT )) by L1165 , INT_1:3;
L1166: ( ( Seg R20 ) \ { R20 } ) c= ( Seg R20 ) by XBOOLE_1:36;
L1167: D89 = ( card ( ( Seg R20 ) \ D84 ) ) by L1166 , L1148 , L1145 , CARD_2:44 , XBOOLE_1:1;
L1168: D89 <= ( ( len D82 ) - ( card ( D82 " R11 ) ) ) by L1167 , L1034 , L1144 , L1102 , NAT_1:43;
L1169: D89 <= ( len ( D82 - R11 ) ) by L1168 , L600;
L1170: 1 <= D89 by L1164 , NAT_1:14;
L1171: D89 in ( Seg ( len ( D82 - R11 ) ) ) by L1170 , L1169 , FINSEQ_1:1;
L1172: D89 in ( dom ( D82 - R11 ) ) by L1171 , FINSEQ_1:def 3;
L1173: ( R1 . R20 ) = ( D82 . R20 ) by L1146 , FUNCT_1:47;
L1174: ( ( D82 - R11 ) . ( R20 - ( card D84 ) ) ) = ( R1 . R20 ) by L1173 , L1032 , L1041 , L1034 , L1146;
thus L1175: thesis by L1174 , L1076 , L1117 , L1172 , FINSEQ_1:def 7;
end;
end;
thus L1177: thesis by L1077;
end;
end;
thus L1179: thesis by L1042;
end;
L1180: (for R18 being Nat holds (for R1 being FinSequence holds (for R11 being set holds (( len R1 ) = R18 implies (for R20 being Nat holds (R20 in ( dom R1 ) implies (for B36 being  finite set holds (B36 = { B37 where B37 is (Element of ( NAT )) : (B37 in ( dom R1 ) & B37 <= R20 & ( R1 . B37 ) in R11) } implies (( R1 . R20 ) in R11 or ( ( R1 - R11 ) . ( R20 - ( card B36 ) ) ) = ( R1 . R20 ))))))))))
proof
defpred S7[ (Element of ( NAT )) ] means (for R1 being FinSequence holds (for R11 being set holds (( len R1 ) = $1 implies (for R20 being Nat holds (R20 in ( dom R1 ) implies (for B38 being  finite set holds (B38 = { B39 where B39 is (Element of ( NAT )) : (B39 in ( dom R1 ) & B39 <= R20 & ( R1 . B39 ) in R11) } implies (( R1 . R20 ) in R11 or ( ( R1 - R11 ) . ( R20 - ( card B38 ) ) ) = ( R1 . R20 )))))))));
L1181: S7[ ( 0 ) ]
proof
let R1 being FinSequence;
let R11 being set;
assume L1182: ( len R1 ) = ( 0 );
L1183: R1 = ( {} ) by L1182;
thus L1184: thesis by L1183;
end;
L1185: (for B40 being (Element of ( NAT )) holds (S7[ B40 ] implies S7[ ( B40 + 1 ) ])) by L1031;
L1186: (for B41 being (Element of ( NAT )) holds S7[ B41 ]) from NAT_1:sch 1(L1181 , L1185);
thus L1187: thesis by L1186;
end;
theorem
L1188: (for R1 being FinSequence holds (for R11 being set holds (for R20 being Nat holds (R20 in ( dom R1 ) implies (for B42 being  finite set holds (B42 = { B43 where B43 is (Element of ( NAT )) : (B43 in ( dom R1 ) & B43 <= R20 & ( R1 . B43 ) in R11) } implies (( R1 . R20 ) in R11 or ( ( R1 - R11 ) . ( R20 - ( card B42 ) ) ) = ( R1 . R20 ))))))))
proof
let R1 being FinSequence;
let R11 being set;
let R20 being Nat;
L1189: ( len R1 ) = ( len R1 );
thus L1190: thesis by L1189 , L1180;
end;
theorem
L1191: (for R1 being FinSequence holds (for R11 being set holds (for R12 being set holds (R1 is (FinSequence of R12) implies ( R1 - R11 ) is (FinSequence of R12)))))
proof
let R1 being FinSequence;
let R11 being set;
let R12 being set;
assume L1192: R1 is (FinSequence of R12);
L1193: ( rng R1 ) c= R12 by L1192 , FINSEQ_1:def 4;
L1194: ( rng ( R1 - R11 ) ) = ( ( rng R1 ) \ R11 ) by L637;
L1195: ( rng ( R1 - R11 ) ) c= R12 by L1194 , L1193 , XBOOLE_1:1;
thus L1196: thesis by L1195 , FINSEQ_1:def 4;
end;
theorem
L1197: (for R1 being FinSequence holds (for R11 being set holds (R1 is  one-to-one implies ( R1 - R11 ) is  one-to-one)))
proof
let R1 being FinSequence;
let R11 being set;
assume L1198: R1 is  one-to-one;
L1199: ( R1 - R11 ) = ( R1 * ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) ) by FINSEQ_1:def 3;
L1200: ( Sgm ( ( Seg ( len R1 ) ) \ ( R1 " R11 ) ) ) is  one-to-one by L182 , XBOOLE_1:36;
thus L1201: thesis by L1200 , L1198 , L1199;
end;
theorem
L1202: (for R1 being FinSequence holds (for R11 being set holds (R1 is  one-to-one implies ( len ( R1 - R11 ) ) = ( ( len R1 ) - ( card ( R11 /\ ( rng R1 ) ) ) ))))
proof
let R1 being FinSequence;
let R11 being set;
L1203: ( R1 " R11 ) c= ( dom R1 ) by RELAT_1:132;
assume L1204: R1 is  one-to-one;
L1205: ( R1 " R11 ) , ( R11 /\ ( rng R1 ) ) are_equipotent 
proof
deffunc H1(set) = ( R1 . $1 );
consider C29 being Function such that L1206: ( dom C29 ) = ( R1 " R11 ) and L1207: (for R6 being set holds (R6 in ( R1 " R11 ) implies ( C29 . R6 ) = H1(R6))) from FUNCT_1:sch 3;
take C29;
thus L1208: C29 is  one-to-one
proof
let R6 being set;
let R7 being set;
assume that
L1209: R6 in ( dom C29 )
and
L1210: R7 in ( dom C29 )
and
L1211: ( C29 . R6 ) = ( C29 . R7 );
L1212: ( C29 . R7 ) = ( R1 . R7 ) by L1206 , L1207 , L1210;
L1213: ( R1 . R6 ) = ( C29 . R6 ) by L1206 , L1207 , L1209;
thus L1214: thesis by L1213 , L1204 , L1203 , L1206 , L1209 , L1210 , L1211 , L1212 , FUNCT_1:def 4;
end;

thus L1215: ( dom C29 ) = ( R1 " R11 ) by L1206;
thus L1216: ( rng C29 ) c= ( R11 /\ ( rng R1 ) )
proof
let R6 being set;
assume L1217: R6 in ( rng C29 );
consider R7 being set such that L1218: R7 in ( dom C29 ) and L1219: ( C29 . R7 ) = R6 by L1217 , FUNCT_1:def 3;
L1220: ( R1 . R7 ) in R11 by L1206 , L1218 , FUNCT_1:def 7;
L1221: R7 in ( dom R1 ) by L1206 , L1218 , FUNCT_1:def 7;
L1222: ( R1 . R7 ) in ( rng R1 ) by L1221 , FUNCT_1:def 3;
L1223: ( R1 . R7 ) = ( C29 . R7 ) by L1206 , L1207 , L1218;
thus L1224: thesis by L1223 , L1219 , L1220 , L1222 , XBOOLE_0:def 4;
end;

let R6 being set;
assume L1225: R6 in ( R11 /\ ( rng R1 ) );
L1226: R6 in ( rng R1 ) by L1225 , XBOOLE_0:def 4;
consider R7 being set such that L1227: R7 in ( dom R1 ) and L1228: ( R1 . R7 ) = R6 by L1226 , FUNCT_1:def 3;
L1229: ( R1 . R7 ) in R11 by L1225 , L1228 , XBOOLE_0:def 4;
L1230: R7 in ( R1 " R11 ) by L1229 , L1227 , FUNCT_1:def 7;
L1231: ( C29 . R7 ) = R6 by L1230 , L1207 , L1228;
thus L1232: thesis by L1231 , L1206 , L1230 , FUNCT_1:def 3;
end;
L1233: ( card ( R1 " R11 ) ) = ( card ( R11 /\ ( rng R1 ) ) ) by L1205 , CARD_1:5;
thus L1234: thesis by L1233 , L600;
end;
theorem
L1235: (for R1 being FinSequence holds (for B44 being  finite set holds ((R1 is  one-to-one & B44 c= ( rng R1 )) implies ( len ( R1 - B44 ) ) = ( ( len R1 ) - ( card B44 ) ))))
proof
let R1 being FinSequence;
let C30 being  finite set;
assume that
L1236: R1 is  one-to-one
and
L1237: C30 c= ( rng R1 );
L1238: ( C30 /\ ( rng R1 ) ) = C30 by L1237 , XBOOLE_1:28;
thus L1239: thesis by L1238 , L1236 , L1202;
end;
theorem
L1240: (for R1 being FinSequence holds (for R6 being set holds ((R1 is  one-to-one & R6 in ( rng R1 )) implies ( len ( R1 - { R6 } ) ) = ( ( len R1 ) - 1 ))))
proof
let R1 being FinSequence;
let R6 being set;
assume that
L1241: R1 is  one-to-one
and
L1242: R6 in ( rng R1 );
L1243: { R6 } c= ( rng R1 ) by L1242 , ZFMISC_1:31;
L1244: ( len ( R1 - { R6 } ) ) = ( ( len R1 ) - ( card { R6 } ) ) by L1243 , L1241 , L1235;
thus L1245: thesis by L1244 , CARD_1:30;
end;
theorem
L1246: (for R1 being FinSequence holds (for R2 being FinSequence holds ((( rng R1 ) misses ( rng R2 ) & R1 is  one-to-one & R2 is  one-to-one) iff ( R1 ^ R2 ) is  one-to-one)))
proof
let R1 being FinSequence;
let R2 being FinSequence;
thus L1247: ((( rng R1 ) misses ( rng R2 ) & R1 is  one-to-one & R2 is  one-to-one) implies ( R1 ^ R2 ) is  one-to-one)
proof
assume that
L1248: ( rng R1 ) misses ( rng R2 )
and
L1249: R1 is  one-to-one
and
L1250: R2 is  one-to-one;
let R6 being set;
let R7 being set;
assume that
L1251: R6 in ( dom ( R1 ^ R2 ) )
and
L1252: R7 in ( dom ( R1 ^ R2 ) )
and
L1253: ( ( R1 ^ R2 ) . R6 ) = ( ( R1 ^ R2 ) . R7 );
reconsider D90 = R6 , D91 = R7 as (Element of ( NAT )) by L1251 , L1252;
L1254:
now
per cases  by L1251 , L1252 , FINSEQ_1:25;
suppose L1255: (D90 in ( dom R1 ) & D91 in ( dom R1 ));

L1256: ( ( R1 ^ R2 ) . D91 ) = ( R1 . D91 ) by L1255 , FINSEQ_1:def 7;
L1257: ( ( R1 ^ R2 ) . D90 ) = ( R1 . D90 ) by L1255 , FINSEQ_1:def 7;
thus L1258: thesis by L1257 , L1249 , L1253 , L1255 , L1256 , FUNCT_1:def 4;
end;
suppose L1259: (D90 in ( dom R1 ) & (ex B45 being Nat st (B45 in ( dom R2 ) & D91 = ( ( len R1 ) + B45 ))));

consider C31 being Nat such that L1260: C31 in ( dom R2 ) and L1261: D91 = ( ( len R1 ) + C31 ) by L1259;
L1262: ( R2 . C31 ) in ( rng R2 ) by L1260 , FUNCT_1:def 3;
L1263: ( ( R1 ^ R2 ) . D90 ) = ( R1 . D90 ) by L1259 , FINSEQ_1:def 7;
L1264: ( ( R1 ^ R2 ) . D91 ) = ( R2 . C31 ) by L1259 , L1261 , FINSEQ_1:def 7;
L1265: ( R2 . C31 ) in ( rng R1 ) by L1264 , L1253 , L1259 , L1263 , FUNCT_1:def 3;
thus L1266: thesis by L1265 , L1248 , L1262 , XBOOLE_0:3;
end;
suppose L1267: (D91 in ( dom R1 ) & (ex B46 being Nat st (B46 in ( dom R2 ) & D90 = ( ( len R1 ) + B46 ))));

consider C32 being Nat such that L1268: C32 in ( dom R2 ) and L1269: D90 = ( ( len R1 ) + C32 ) by L1267;
L1270: ( R2 . C32 ) in ( rng R2 ) by L1268 , FUNCT_1:def 3;
L1271: ( ( R1 ^ R2 ) . D91 ) = ( R1 . D91 ) by L1267 , FINSEQ_1:def 7;
L1272: ( ( R1 ^ R2 ) . D90 ) = ( R2 . C32 ) by L1267 , L1269 , FINSEQ_1:def 7;
L1273: ( R2 . C32 ) in ( rng R1 ) by L1272 , L1253 , L1267 , L1271 , FUNCT_1:def 3;
thus L1274: thesis by L1273 , L1248 , L1270 , XBOOLE_0:3;
end;
suppose L1275: ((ex B47 being Nat st (B47 in ( dom R2 ) & D90 = ( ( len R1 ) + B47 ))) & (ex B48 being Nat st (B48 in ( dom R2 ) & D91 = ( ( len R1 ) + B48 ))));

consider C33 being Nat such that L1276: C33 in ( dom R2 ) and L1277: D91 = ( ( len R1 ) + C33 ) by L1275;
L1278: ( ( R1 ^ R2 ) . D91 ) = ( R2 . C33 ) by L1276 , L1277 , FINSEQ_1:def 7;
consider C34 being Nat such that L1279: C34 in ( dom R2 ) and L1280: D90 = ( ( len R1 ) + C34 ) by L1275;
L1281: ( ( R1 ^ R2 ) . D90 ) = ( R2 . C34 ) by L1279 , L1280 , FINSEQ_1:def 7;
thus L1282: thesis by L1281 , L1250 , L1253 , L1279 , L1280 , L1276 , L1277 , L1278 , FUNCT_1:def 4;
end;
end;
thus L1284: thesis by L1254;
end;

assume L1285: ( R1 ^ R2 ) is  one-to-one;
thus L1286: ( rng R1 ) misses ( rng R2 )
proof
assume L1287: (not ( rng R1 ) misses ( rng R2 ));
consider R6 being set such that L1288: R6 in ( rng R1 ) and L1289: R6 in ( rng R2 ) by L1287 , XBOOLE_0:3;
consider R8 being set such that L1290: R8 in ( dom R1 ) and L1291: ( R1 . R8 ) = R6 by L1288 , FUNCT_1:def 3;
L1292: R8 in ( Seg ( len R1 ) ) by L1290 , FINSEQ_1:def 3;
consider R9 being set such that L1293: R9 in ( dom R2 ) and L1294: ( R2 . R9 ) = R6 by L1289 , FUNCT_1:def 3;
L1295: R9 in ( Seg ( len R2 ) ) by L1293 , FINSEQ_1:def 3;
reconsider D92 = R8 , D93 = R9 as (Element of ( NAT )) by L1290 , L1293;
L1296: ( ( len R1 ) + D93 ) in ( dom ( R1 ^ R2 ) ) by L1293 , FINSEQ_1:28;
L1297: ( ( R1 ^ R2 ) . D92 ) = ( R1 . D92 ) by L1290 , FINSEQ_1:def 7;
L1298: ( ( R1 ^ R2 ) . ( ( len R1 ) + D93 ) ) = ( R2 . D93 ) by L1293 , FINSEQ_1:def 7;
L1299: D92 in ( dom ( R1 ^ R2 ) ) by L1290 , L118;
L1300: D92 = ( ( len R1 ) + D93 ) by L1299 , L1285 , L1291 , L1294 , L1296 , L1297 , L1298 , FUNCT_1:def 4;
L1301: D92 = ( D92 + ( 0 ) );
L1302: ( len R1 ) <= ( ( len R1 ) + D93 ) by NAT_1:12;
L1303: D92 <= ( len R1 ) by L1292 , FINSEQ_1:1;
L1304: D92 = ( len R1 ) by L1303 , L1300 , L1302 , XXREAL_0:1;
thus L1305: thesis by L1304 , L1295 , L1300 , L1301 , FINSEQ_1:1;
end;

thus L1306: R1 is  one-to-one
proof
let R6 being set;
let R7 being set;
assume that
L1307: R6 in ( dom R1 )
and
L1308: R7 in ( dom R1 )
and
L1309: ( R1 . R6 ) = ( R1 . R7 );
reconsider D94 = R6 , D95 = R7 as (Element of ( NAT )) by L1307 , L1308;
L1310: ( ( R1 ^ R2 ) . D94 ) = ( R1 . D94 ) by L1307 , FINSEQ_1:def 7;
L1311: ( ( R1 ^ R2 ) . D95 ) = ( R1 . D95 ) by L1308 , FINSEQ_1:def 7;
L1312: D95 in ( dom ( R1 ^ R2 ) ) by L1308 , L118;
L1313: D94 in ( dom ( R1 ^ R2 ) ) by L1307 , L118;
thus L1314: thesis by L1313 , L1285 , L1309 , L1310 , L1311 , L1312 , FUNCT_1:def 4;
end;

let R6 being set;
let R7 being set;
assume that
L1315: R6 in ( dom R2 )
and
L1316: R7 in ( dom R2 )
and
L1317: ( R2 . R6 ) = ( R2 . R7 );
consider C35 being Nat such that L1318: R7 = C35 and L1319: ( ( len R1 ) + C35 ) in ( dom ( R1 ^ R2 ) ) by L1316 , FINSEQ_1:27;
L1320: ( ( R1 ^ R2 ) . ( ( len R1 ) + C35 ) ) = ( R2 . C35 ) by L1316 , L1318 , FINSEQ_1:def 7;
consider C36 being Nat such that L1321: R6 = C36 and L1322: ( ( len R1 ) + C36 ) in ( dom ( R1 ^ R2 ) ) by L1315 , FINSEQ_1:27;
L1323: ( ( R1 ^ R2 ) . ( ( len R1 ) + C36 ) ) = ( R2 . C36 ) by L1315 , L1321 , FINSEQ_1:def 7;
L1324: ( ( len R1 ) + C36 ) = ( ( len R1 ) + C35 ) by L1323 , L1285 , L1317 , L1321 , L1322 , L1318 , L1319 , L1320 , FUNCT_1:def 4;
thus L1325: thesis by L1324 , L1321 , L1318;
end;
theorem
L1326: (for R11 being set holds (for R17 being Nat holds (R11 c= ( Seg R17 ) implies ( Sgm R11 ) is  one-to-one))) by L182;
theorem
L1327: (for R6 being set holds <* R6 *> is  one-to-one)
proof
let R6 being set;
let R8 being set;
let R9 being set;
assume that
L1328: R8 in ( dom <* R6 *> )
and
L1329: R9 in ( dom <* R6 *> )
and
L1330: ( <* R6 *> . R8 ) = ( <* R6 *> . R9 );
L1331: R8 in { 1 } by L1328 , FINSEQ_1:2 , FINSEQ_1:def 8;
L1332: R8 = 1 by L1331 , TARSKI:def 1;
L1333: R9 in { 1 } by L1329 , FINSEQ_1:2 , FINSEQ_1:def 8;
thus L1334: thesis by L1333 , L1332 , TARSKI:def 1;
end;
theorem
L1335: (for R6 being set holds (for R7 being set holds (R6 <> R7 iff <* R6 , R7 *> is  one-to-one)))
proof
let R6 being set;
let R7 being set;
L1336: ( <* R6 , R7 *> . 2 ) = R7 by FINSEQ_1:44;
L1337: 2 in { 1 , 2 } by TARSKI:def 2;
L1338: 2 in ( dom <* R6 , R7 *> ) by L1337 , FINSEQ_1:2 , FINSEQ_1:89;
thus L1339: (R6 <> R7 implies <* R6 , R7 *> is  one-to-one)
proof
assume L1340: R6 <> R7;
let R8 being set;
let R9 being set;
assume that
L1341: R8 in ( dom <* R6 , R7 *> )
and
L1342: R9 in ( dom <* R6 , R7 *> )
and
L1343: ( <* R6 , R7 *> . R8 ) = ( <* R6 , R7 *> . R9 );
L1344: R9 in { 1 , 2 } by L1342 , FINSEQ_1:2 , FINSEQ_1:89;
L1345: R8 in { 1 , 2 } by L1341 , FINSEQ_1:2 , FINSEQ_1:89;
L1346:
now
per cases  by L1345 , L1344 , TARSKI:def 2;
suppose L1347: ((R8 = 1 & R9 = 1) or (R8 = 2 & R9 = 2));

thus L1348: thesis by L1347;
end;
suppose L1349: (R8 = 1 & R9 = 2);

L1350: ( <* R6 , R7 *> . R8 ) = R6 by L1349 , FINSEQ_1:44;
thus L1351: thesis by L1350 , L1340 , L1343 , L1349 , FINSEQ_1:44;
end;
suppose L1352: (R8 = 2 & R9 = 1);

L1353: ( <* R6 , R7 *> . R8 ) = R7 by L1352 , FINSEQ_1:44;
thus L1354: thesis by L1353 , L1340 , L1343 , L1352 , FINSEQ_1:44;
end;
end;
thus L1356: thesis by L1346;
end;

assume that
L1357: <* R6 , R7 *> is  one-to-one
and
L1358: R6 = R7;
L1359: 1 in { 1 , 2 } by TARSKI:def 2;
L1360: 1 in ( dom <* R6 , R7 *> ) by L1359 , FINSEQ_1:2 , FINSEQ_1:89;
L1361: ( <* R6 , R7 *> . 1 ) = R6 by FINSEQ_1:44;
thus L1362: thesis by L1361 , L1357 , L1358 , L1360 , L1338 , L1336 , FUNCT_1:def 4;
end;
theorem
L1363: (for R6 being set holds (for R7 being set holds (for R10 being set holds ((R6 <> R7 & R7 <> R10 & R10 <> R6) iff <* R6 , R7 , R10 *> is  one-to-one))))
proof
let R6 being set;
let R7 being set;
let R10 being set;
set D96 = <* R6 , R7 , R10 *>;
L1364: ( D96 . 1 ) = R6 by FINSEQ_1:45;
L1365: ( D96 . 3 ) = R10 by FINSEQ_1:45;
thus L1366: ((R6 <> R7 & R7 <> R10 & R10 <> R6) implies <* R6 , R7 , R10 *> is  one-to-one)
proof
assume that
L1367: R6 <> R7
and
L1368: R7 <> R10
and
L1369: R10 <> R6;
L1370: ( { R6 , R7 } /\ { R10 } ) = ( {} )
proof
set D97 = the (Element of ( { R6 , R7 } /\ { R10 } ));
assume L1371: (not thesis);
L1372: D97 in { R6 , R7 } by L1371 , XBOOLE_0:def 4;
L1373: (D97 = R6 or D97 = R7) by L1372 , TARSKI:def 2;
L1374: D97 in { R10 } by L1371 , XBOOLE_0:def 4;
thus L1375: thesis by L1374 , L1368 , L1369 , L1373 , TARSKI:def 1;
end;
L1376: ( {} ) = ( ( rng <* R6 , R7 *> ) /\ { R10 } ) by L1370 , FINSEQ_2:127
.= ( ( rng <* R6 , R7 *> ) /\ ( rng <* R10 *> ) ) by FINSEQ_1:38;
L1377: ( rng <* R6 , R7 *> ) misses ( rng <* R10 *> ) by L1376 , XBOOLE_0:def 7;
L1378: <* R10 *> is  one-to-one by L1327;
L1379: <* R6 , R7 *> is  one-to-one by L1367 , L1335;
L1380: ( <* R6 , R7 *> ^ <* R10 *> ) is  one-to-one by L1379 , L1377 , L1378 , L1246;
thus L1381: thesis by L1380 , FINSEQ_1:43;
end;

L1382: ( D96 . 2 ) = R7 by FINSEQ_1:45;
L1383: 1 in { 1 , 2 , 3 } by ENUMSET1:def 1;
L1384: 1 in ( dom D96 ) by L1383 , L1 , FINSEQ_1:89;
L1385: 3 in { 1 , 2 , 3 } by ENUMSET1:def 1;
L1386: 3 in ( dom D96 ) by L1385 , L1 , FINSEQ_1:89;
L1387: 2 in { 1 , 2 , 3 } by ENUMSET1:def 1;
L1388: 2 in ( dom D96 ) by L1387 , L1 , FINSEQ_1:89;
assume L1389: <* R6 , R7 , R10 *> is  one-to-one;
thus L1390: thesis by L1389 , L1384 , L1388 , L1386 , L1364 , L1382 , L1365 , FUNCT_1:def 4;
end;
theorem
L1391: (for R1 being FinSequence holds (for R6 being set holds ((R1 is  one-to-one & ( rng R1 ) = { R6 }) implies ( len R1 ) = 1)))
proof
let R1 being FinSequence;
let R6 being set;
assume that
L1392: R1 is  one-to-one
and
L1393: ( rng R1 ) = { R6 };
L1394:
now
given R8 being set , R9 being set such that
L1395: R8 in ( dom R1 )
and
L1396: R9 in ( dom R1 )
and
L1397: R8 <> R9;

L1398: ( R1 . R9 ) in ( rng R1 ) by L1396 , FUNCT_1:def 3;
L1399: ( R1 . R9 ) = R6 by L1398 , L1393 , TARSKI:def 1;
L1400: ( R1 . R8 ) in ( rng R1 ) by L1395 , FUNCT_1:def 3;
L1401: ( R1 . R8 ) = R6 by L1400 , L1393 , TARSKI:def 1;
thus L1402: contradiction by L1401 , L1392 , L1395 , L1396 , L1397 , L1399 , FUNCT_1:def 4;
end;
set D98 = the (Element of ( dom R1 ));
L1403: ( dom R1 ) <> ( {} ) by L1393 , RELAT_1:42;
L1404: ( dom R1 ) = { D98 }
proof
thus L1405: ( dom R1 ) c= { D98 }
proof
let R6 being set;
assume L1406: R6 in ( dom R1 );
L1407: R6 = D98 by L1406 , L1394;
thus L1408: thesis by L1407 , TARSKI:def 1;
end;

let R6 being set;
L1409: D98 in ( dom R1 ) by L1403;
thus L1410: thesis by L1409 , TARSKI:def 1;
end;
L1411: ( dom R1 ) = ( Seg ( len R1 ) ) by FINSEQ_1:def 3;
thus L1412: thesis by L1411 , L1404 , L79;
end;
theorem
L1413: (for R1 being FinSequence holds (for R6 being set holds ((R1 is  one-to-one & ( rng R1 ) = { R6 }) implies R1 = <* R6 *>)))
proof
let R1 being FinSequence;
let R6 being set;
assume that
L1414: R1 is  one-to-one
and
L1415: ( rng R1 ) = { R6 };
L1416: ( len R1 ) = 1 by L1414 , L1415 , L1391;
thus L1417: thesis by L1416 , L1415 , FINSEQ_1:39;
end;
theorem
L1418: (for R1 being FinSequence holds (for R6 being set holds (for R7 being set holds ((R1 is  one-to-one & ( rng R1 ) = { R6 , R7 } & R6 <> R7) implies ( len R1 ) = 2))))
proof
let R1 being FinSequence;
let R6 being set;
let R7 being set;
assume that
L1419: R1 is  one-to-one
and
L1420: ( rng R1 ) = { R6 , R7 }
and
L1421: R6 <> R7;
set D99 = <* R6 , R7 *>;
L1422: ( rng D99 ) = { R6 , R7 } by FINSEQ_2:127;
L1423: ( len D99 ) = 2 by FINSEQ_1:44;
L1424: D99 is  one-to-one by L1421 , L1335;
thus L1425: thesis by L1424 , L1419 , L1420 , L1422 , L1423 , FINSEQ_1:48;
end;
theorem
L1426: (for R1 being FinSequence holds (for R6 being set holds (for R7 being set holds ((R1 is  one-to-one & ( rng R1 ) = { R6 , R7 } & R6 <> R7) implies (R1 = <* R6 , R7 *> or R1 = <* R7 , R6 *>)))))
proof
let R1 being FinSequence;
let R6 being set;
let R7 being set;
assume that
L1427: R1 is  one-to-one
and
L1428: ( rng R1 ) = { R6 , R7 }
and
L1429: R6 <> R7;
L1430: ( len R1 ) = 2 by L1427 , L1428 , L1429 , L1418;
L1431: ( dom R1 ) = { 1 , 2 } by L1430 , FINSEQ_1:2 , FINSEQ_1:def 3;
L1432: 2 in ( dom R1 ) by L1431 , TARSKI:def 2;
L1433: ( R1 . 2 ) in ( rng R1 ) by L1432 , FUNCT_1:def 3;
L1434: 1 in ( dom R1 ) by L1431 , TARSKI:def 2;
L1435: ( R1 . 1 ) in ( rng R1 ) by L1434 , FUNCT_1:def 3;
L1436: ((( R1 . 1 ) = R6 & ( R1 . 2 ) = R6) or (( R1 . 1 ) = R6 & ( R1 . 2 ) = R7) or (( R1 . 1 ) = R7 & ( R1 . 2 ) = R6) or (( R1 . 1 ) = R7 & ( R1 . 2 ) = R7)) by L1435 , L1428 , L1433 , TARSKI:def 2;
thus L1437: thesis by L1436 , L1427 , L1430 , L1434 , L1432 , FINSEQ_1:44 , FUNCT_1:def 4;
end;
theorem
L1438: (for R1 being FinSequence holds (for R6 being set holds (for R7 being set holds (for R10 being set holds ((R1 is  one-to-one & ( rng R1 ) = { R6 , R7 , R10 } & <* R6 , R7 , R10 *> is  one-to-one) implies ( len R1 ) = 3)))))
proof
let R1 being FinSequence;
let R6 being set;
let R7 being set;
let R10 being set;
L1439: ( len <* R6 , R7 , R10 *> ) = 3 by FINSEQ_1:45;
L1440: ( rng <* R6 , R7 , R10 *> ) = { R6 , R7 , R10 } by FINSEQ_2:128;
thus L1441: thesis by L1440 , L1439 , FINSEQ_1:48;
end;
theorem
L1442: (for R1 being FinSequence holds (for R6 being set holds (for R7 being set holds (for R10 being set holds ((R1 is  one-to-one & ( rng R1 ) = { R6 , R7 , R10 } & R6 <> R7 & R7 <> R10 & R6 <> R10) implies ( len R1 ) = 3)))))
proof
let R1 being FinSequence;
let R6 being set;
let R7 being set;
let R10 being set;
assume that
L1443: R1 is  one-to-one
and
L1444: ( rng R1 ) = { R6 , R7 , R10 }
and
L1445: R6 <> R7
and
L1446: R7 <> R10
and
L1447: R6 <> R10;
L1448: <* R6 , R7 , R10 *> is  one-to-one by L1445 , L1446 , L1447 , L1363;
thus L1449: thesis by L1448 , L1443 , L1444 , L1438;
end;
begin
theorem
L1450: (for B49 being non  empty set holds (for B50 being (FinSequence of B49) holds (B50 is non  empty implies (ex B51 being (Element of B49) st (ex B52 being (FinSequence of B49) st (B51 = ( B50 . 1 ) & B50 = ( <* B51 *> ^ B52 )))))))
proof
let C37 being non  empty set;
let C38 being (FinSequence of C37);
deffunc H2(Nat) = ( C38 . ( $1 + 1 ) );
assume L1451: C38 is non  empty;
reconsider D100 = ( ( len C38 ) - 1 ) as (Element of ( NAT )) by L1451 , INT_1:5 , NAT_1:14;
L1452: 1 <= ( len C38 ) by L1451 , NAT_1:14;
L1453: 1 in ( dom C38 ) by L1452 , L126;
reconsider D101 = ( C38 . 1 ) as (Element of C37) by L1453 , FINSEQ_2:11;
take D101;
consider C39 being FinSequence such that L1454: ( len C39 ) = D100 and L1455: (for B53 being Nat holds (B53 in ( dom C39 ) implies ( C39 . B53 ) = H2(B53))) from FINSEQ_1:sch 2;
L1456:
now
let C40 being Nat;
assume L1457: C40 in ( dom C39 );
L1458: C40 in ( Seg ( len C39 ) ) by L1457 , FINSEQ_1:def 3;
L1459: ( C40 + 1 ) in ( Seg ( ( len C39 ) + 1 ) ) by L1458 , FINSEQ_1:60;
L1460: ( C40 + 1 ) in ( dom C38 ) by L1459 , L1454 , FINSEQ_1:def 3;
L1461: ( C38 . ( C40 + 1 ) ) in C37 by L1460 , FINSEQ_2:11;
thus L1462: ( C39 . C40 ) in C37 by L1461 , L1455 , L1457;
end;
reconsider D102 = C39 as (FinSequence of C37) by L1456 , FINSEQ_2:12;
take D102;
thus L1463: D101 = ( C38 . 1 );
L1464:
now
thus L1465: ( len ( <* D101 *> ^ D102 ) ) = ( ( len <* D101 *> ) + ( len D102 ) ) by FINSEQ_1:22
.= ( 1 + ( ( len C38 ) - 1 ) ) by L1454 , FINSEQ_1:40
.= ( len C38 );
let C41 being Nat;
L1466: ( dom C38 ) = ( Seg ( len C38 ) ) by FINSEQ_1:def 3;
assume L1467: C41 in ( dom C38 );
L1468: 1 <= C41 by L1467 , L1466 , FINSEQ_1:1;
L1469: C41 <= ( len C38 ) by L1466 , L1467 , FINSEQ_1:1;
per cases  by L1468 , XXREAL_0:1;
suppose L1470: C41 = 1;

thus L1471: ( C38 . C41 ) = ( ( <* D101 *> ^ D102 ) . C41 ) by L1470 , FINSEQ_1:41;
end;
suppose L1472: C41 > 1;

consider C42 being (Element of ( NAT )) such that L1473: C42 = ( C41 - 1 ) and L1474: 1 <= C42 by L1472 , INT_1:51;
L1475: ( C41 - 1 ) <= D100 by L1469 , XREAL_1:9;
L1476: C42 in ( dom D102 ) by L1475 , L1454 , L1473 , L1474 , L126;
L1477: ( len <* D101 *> ) = 1 by FINSEQ_1:40;
L1478: ( ( <* D101 *> ^ D102 ) . C41 ) = ( D102 . C42 ) by L1477 , L1465 , L1469 , L1472 , L1473 , FINSEQ_1:24
.= ( C38 . ( C42 + 1 ) ) by L1455 , L1476
.= ( C38 . C41 ) by L1473;
thus L1479: ( C38 . C41 ) = ( ( <* D101 *> ^ D102 ) . C41 ) by L1478;
end;
end;
thus L1481: thesis by L1464 , FINSEQ_2:9;
end;
theorem
L1482: (for R15 being Nat holds (for B54 being FinSequence holds (for B55 being set holds (R15 in ( dom B54 ) implies ( ( <* B55 *> ^ B54 ) . ( R15 + 1 ) ) = ( B54 . R15 )))))
proof
let R15 being Nat;
let C43 being FinSequence;
let C44 being set;
L1483: ( len ( <* C44 *> ^ C43 ) ) = ( ( len <* C44 *> ) + ( len C43 ) ) by FINSEQ_1:22
.= ( 1 + ( len C43 ) ) by FINSEQ_1:40;
assume L1484: R15 in ( dom C43 );
L1485: R15 in ( Seg ( len C43 ) ) by L1484 , FINSEQ_1:def 3;
L1486: ( R15 + 1 ) in ( Seg ( len ( <* C44 *> ^ C43 ) ) ) by L1485 , L1483 , FINSEQ_1:60;
L1487: ( R15 + 1 ) in ( dom ( <* C44 *> ^ C43 ) ) by L1486 , FINSEQ_1:def 3;
L1488: ( R15 + 1 ) <= ( len ( <* C44 *> ^ C43 ) ) by L1487 , L126;
L1489: ( len <* C44 *> ) = 1 by FINSEQ_1:40;
L1490: 1 <= R15 by L1484 , L126;
L1491: 1 < ( R15 + 1 ) by L1490 , NAT_1:13;
thus L1492: ( ( <* C44 *> ^ C43 ) . ( R15 + 1 ) ) = ( C43 . ( ( R15 + 1 ) - ( len <* C44 *> ) ) ) by L1491 , L1489 , L1488 , FINSEQ_1:24
.= ( C43 . R15 ) by L1489;
end;
definition
let R15 being Nat;
let C45 being FinSequence;
func Del (C45 , R15) -> FinSequence equals 
( C45 * ( Sgm ( ( dom C45 ) \ { R15 } ) ) );
coherence
proof
set D103 = ( Sgm ( ( dom C45 ) \ { R15 } ) );
L1493: ( ( Seg ( len C45 ) ) \ { R15 } ) c= ( Seg ( len C45 ) ) by XBOOLE_1:36;
L1494: ( dom C45 ) = ( Seg ( len C45 ) ) by FINSEQ_1:def 3;
L1495: ( rng D103 ) c= ( dom C45 ) by L1494 , L1493 , FINSEQ_1:def 13;
L1496: ( dom ( C45 * D103 ) ) = ( dom D103 ) by L1495 , RELAT_1:27;
L1497: ( dom D103 ) = ( Seg ( len D103 ) ) by FINSEQ_1:def 3;
thus L1498: thesis by L1497 , L1496 , FINSEQ_1:def 2;
end;
end;
theorem
L1500: (for R15 being Nat holds (for B56 being FinSequence holds ((R15 in ( dom B56 ) implies (ex B57 being Nat st (( len B56 ) = ( B57 + 1 ) & ( len ( Del (B56 , R15) ) ) = B57))) & ((not R15 in ( dom B56 )) implies ( Del (B56 , R15) ) = B56))))
proof
let R15 being Nat;
let C46 being FinSequence;
thus L1501:now
L1502: (not R15 in ( ( Seg ( len C46 ) ) \ { R15 } ))
proof
assume L1503: R15 in ( ( Seg ( len C46 ) ) \ { R15 } );
L1504: (not R15 in { R15 }) by L1503 , XBOOLE_0:def 5;
thus L1505: thesis by L1504 , TARSKI:def 1;
end;
L1506: ( card ( ( ( Seg ( len C46 ) ) \ { R15 } ) \/ { R15 } ) ) = ( ( card ( ( Seg ( len C46 ) ) \ { R15 } ) ) + 1 ) by L1502 , CARD_2:41;
assume L1507: R15 in ( dom C46 );
reconsider D104 = ( dom C46 ) as non  empty set by L1507;
reconsider D105 = ( rng C46 ) as non  empty set by L1507 , FUNCT_1:3;
reconsider D106 = C46 as (Function of D104 , D105) by FUNCT_2:1;
L1508: ( dom C46 ) = ( Seg ( len C46 ) ) by FINSEQ_1:def 3;
L1509: (for R6 being set holds (R6 in ( ( Seg ( len C46 ) ) \ { R15 } ) implies R6 in ( Seg ( len C46 ) ))) by XBOOLE_0:def 5;
L1510: ( ( Seg ( len C46 ) ) \ { R15 } ) c= ( Seg ( len C46 ) ) by L1509 , TARSKI:def 3;
L1511: ( rng ( Sgm ( ( Seg ( len C46 ) ) \ { R15 } ) ) ) c= ( Seg ( len C46 ) ) by L1510 , FINSEQ_1:def 13;
reconsider D107 = ( Sgm ( ( dom C46 ) \ { R15 } ) ) as (FinSequence of D104) by L1511 , L1508 , FINSEQ_1:def 4;
L1512: C46 <> ( {} ) by L1507;
consider C47 being Nat such that L1513: ( len C46 ) = ( C47 + 1 ) by L1512 , NAT_1:6;
take D108 = C47;
L1514: ( len ( D106 * D107 ) ) = ( len D107 ) by FINSEQ_2:33;
L1515: R15 in ( Seg ( len C46 ) ) by L1507 , FINSEQ_1:def 3;
L1516: (for R6 being set holds (R6 in { R15 } implies R6 in ( Seg ( len C46 ) ))) by L1515 , TARSKI:def 1;
L1517: { R15 } c= ( Seg ( len C46 ) ) by L1516 , TARSKI:def 3;
L1518: ( card ( Seg ( len C46 ) ) ) = ( ( card ( ( Seg ( len C46 ) ) \ { R15 } ) ) + 1 ) by L1517 , L1506 , XBOOLE_1:45;
L1519: ( ( card ( ( Seg ( len C46 ) ) \ { R15 } ) ) + 1 ) = ( D108 + 1 ) by L1518 , L1513 , FINSEQ_1:57;
L1520: ( len ( Sgm ( ( Seg ( len C46 ) ) \ { R15 } ) ) ) = D108 by L1519 , L1510 , L207;
thus L1521: (( len C46 ) = ( D108 + 1 ) & ( len ( Del (C46 , R15) ) ) = D108) by L1520 , L1513 , L1514 , FINSEQ_1:def 3;
end;
assume L1522: (not R15 in ( dom C46 ));
L1523: (for R6 being set holds (R6 in { R15 } implies (not R6 in ( dom C46 )))) by L1522 , TARSKI:def 1;
L1524: { R15 } misses ( dom C46 ) by L1523 , XBOOLE_0:3;
thus L1525: ( Del (C46 , R15) ) = ( C46 * ( Sgm ( dom C46 ) ) ) by L1524 , XBOOLE_1:83
.= ( C46 * ( Sgm ( Seg ( len C46 ) ) ) ) by FINSEQ_1:def 3
.= ( C46 * ( idseq ( len C46 ) ) ) by L446
.= ( C46 | ( Seg ( len C46 ) ) ) by RELAT_1:65
.= ( C46 | ( dom C46 ) ) by FINSEQ_1:def 3
.= C46;
end;
theorem
L1526: (for R15 being Nat holds (for B58 being non  empty set holds (for B59 being (FinSequence of B58) holds ( Del (B59 , R15) ) is (FinSequence of B58))))
proof
let R15 being Nat;
let C48 being non  empty set;
let C49 being (FinSequence of C48);
per cases ;
suppose L1527: R15 in ( dom C49 );

reconsider D109 = ( Seg ( len C49 ) ) as non  empty set by L1527 , FINSEQ_1:def 3;
L1528: (for R6 being set holds (R6 in ( ( Seg ( len C49 ) ) \ { R15 } ) implies R6 in ( Seg ( len C49 ) ))) by XBOOLE_0:def 5;
L1529: ( ( Seg ( len C49 ) ) \ { R15 } ) c= ( Seg ( len C49 ) ) by L1528 , TARSKI:def 3;
L1530: ( rng ( Sgm ( ( Seg ( len C49 ) ) \ { R15 } ) ) ) c= ( Seg ( len C49 ) ) by L1529 , FINSEQ_1:def 13;
reconsider D110 = ( Sgm ( ( Seg ( len C49 ) ) \ { R15 } ) ) as (FinSequence of D109) by L1530 , FINSEQ_1:def 4;
L1531: ( C49 * D110 ) = ( Del (C49 , R15) ) by FINSEQ_1:def 3;
thus L1532: thesis by L1531 , FINSEQ_2:31;
end;
suppose L1533: (not R15 in ( dom C49 ));

thus L1534: thesis by L1533 , L1500;
end;
end;
theorem
L1536: (for R15 being Nat holds (for B60 being FinSequence holds ( rng ( Del (B60 , R15) ) ) c= ( rng B60 )))
proof
let R15 being Nat;
let C50 being FinSequence;
let R6 being set;
assume L1537: R6 in ( rng ( Del (C50 , R15) ) );
thus L1538: thesis by L1537 , FUNCT_1:14;
end;
theorem
L1539: (for R15 being Nat holds (for R19 being Nat holds (for R20 being Nat holds ((R20 = ( R19 + 1 ) & R15 in ( Seg R20 )) implies ( len ( Sgm ( ( Seg R20 ) \ { R15 } ) ) ) = R19))))
proof
let R15 being Nat;
let R19 being Nat;
let R20 being Nat;
assume that
L1540: R20 = ( R19 + 1 )
and
L1541: R15 in ( Seg R20 );
set D111 = ( ( Seg R20 ) \ { R15 } );
L1542: R15 in { R15 } by TARSKI:def 1;
L1543: (not R15 in D111) by L1542 , XBOOLE_0:def 5;
L1544: ( ( card D111 ) + 1 ) = ( card ( D111 \/ { R15 } ) ) by L1543 , CARD_2:41
.= ( card ( ( Seg R20 ) \/ { R15 } ) ) by XBOOLE_1:39
.= ( card ( Seg R20 ) ) by L1541 , ZFMISC_1:40
.= ( R19 + 1 ) by L1540 , FINSEQ_1:57;
thus L1545: thesis by L1544 , L207 , XBOOLE_1:36;
end;
theorem
L1546: (for B61 , B62 , B63 , B64 being Nat holds ((B64 = ( B63 + 1 ) & B62 in ( Seg B64 ) & B61 in ( Seg B63 )) implies (((1 <= B61 & B61 < B62) implies ( ( Sgm ( ( Seg B64 ) \ { B62 } ) ) . B61 ) = B61) & ((B62 <= B61 & B61 <= B63) implies ( ( Sgm ( ( Seg B64 ) \ { B62 } ) ) . B61 ) = ( B61 + 1 )))))
proof
defpred S8[ Nat ] means (for B65 , B66 , B67 being Nat holds ((B65 = ( $1 + 1 ) & B66 in ( Seg B65 ) & B67 in ( Seg $1 )) implies (((1 <= B67 & B67 < B66) implies ( ( Sgm ( ( Seg B65 ) \ { B66 } ) ) . B67 ) = B67) & ((B66 <= B67 & B67 <= $1) implies ( ( Sgm ( ( Seg B65 ) \ { B66 } ) ) . B67 ) = ( B67 + 1 )))));
let C51 , C52 , C53 , C54 being Nat;
assume that
L1547: C54 = ( C53 + 1 )
and
L1548: C52 in ( Seg C54 )
and
L1549: C51 in ( Seg C53 );
L1550: (for B68 being Nat holds (S8[ B68 ] implies S8[ ( B68 + 1 ) ]))
proof
let C55 being Nat;
assume that
L1551: S8[ C55 ];
let C56 , C57 , C58 being Nat;
assume that
L1552: C56 = ( ( C55 + 1 ) + 1 )
and
L1553: C57 in ( Seg C56 )
and
L1554: C58 in ( Seg ( C55 + 1 ) );
L1555: 1 <= C57 by L1553 , FINSEQ_1:1;
set D112 = ( ( Seg C56 ) \ { C57 } );
L1556: ( len ( Sgm D112 ) ) = ( C55 + 1 ) by L1552 , L1553 , L1539;
L1557: 1 <= C58 by L1554 , FINSEQ_1:1;
L1558: C57 <= C56 by L1553 , FINSEQ_1:1;
L1559: D112 c= ( Seg C56 ) by XBOOLE_1:36;
L1560: ( rng ( Sgm D112 ) ) = D112 by L1559 , FINSEQ_1:def 13;
L1561: C58 <= ( C55 + 1 ) by L1554 , FINSEQ_1:1;
L1562:
now
per cases ;
suppose L1563: C57 = C56;

L1564: ( C55 + 1 ) < C57 by L1563 , L1552 , NAT_1:13;
L1565: D112 = ( Seg ( C55 + 1 ) )
proof
thus L1566: D112 c= ( Seg ( C55 + 1 ) )
proof
let R6 being set;
L1567: ( Seg C56 ) = { R21 where R21 is (Element of ( NAT )) : (1 <= R21 & R21 <= C56) } by FINSEQ_1:def 1;
assume L1568: R6 in D112;
L1569: R6 in ( Seg C56 ) by L1568 , XBOOLE_0:def 5;
consider R21 being (Element of ( NAT )) such that L1570: R6 = R21 and L1571: 1 <= R21 and L1572: R21 <= C56 by L1569 , L1567;
L1573: (not R6 in { C57 }) by L1568 , XBOOLE_0:def 5;
L1574: R6 <> C57 by L1573 , TARSKI:def 1;
L1575: R21 < C56 by L1574 , L1563 , L1570 , L1572 , XXREAL_0:1;
L1576: R21 <= ( C55 + 1 ) by L1575 , L1552 , NAT_1:13;
thus L1577: thesis by L1576 , L1570 , L1571 , FINSEQ_1:1;
end;

let R6 being set;
assume L1578: R6 in ( Seg ( C55 + 1 ) );
L1579: R6 in { R21 where R21 is (Element of ( NAT )) : (1 <= R21 & R21 <= ( C55 + 1 )) } by L1578 , FINSEQ_1:def 1;
consider R21 being (Element of ( NAT )) such that L1580: R6 = R21 and L1581: 1 <= R21 and L1582: R21 <= ( C55 + 1 ) by L1579;
L1583: ( C55 + 1 ) <= C56 by L1552 , NAT_1:11;
L1584: R21 <= C56 by L1583 , L1582 , XXREAL_0:2;
L1585: R21 in ( Seg C56 ) by L1584 , L1581 , FINSEQ_1:1;
L1586: (not R21 in { C57 }) by L1564 , L1582 , TARSKI:def 1;
thus L1587: thesis by L1586 , L1580 , L1585 , XBOOLE_0:def 5;
end;
L1588: ( Sgm D112 ) = ( idseq ( C55 + 1 ) ) by L1565 , L446;
thus L1589: ((1 <= C58 & C58 < C57) implies ( ( Sgm D112 ) . C58 ) = C58) by L1588 , L1554 , FUNCT_1:17;
thus L1590: ((C57 <= C58 & C58 <= ( C55 + 1 )) implies ( ( Sgm ( ( Seg C56 ) \ { C57 } ) ) . C58 ) = ( C58 + 1 )) by L1552 , L1563 , NAT_1:13;
end;
suppose L1591: C57 <> C56;

set D113 = { B69 where B69 is (Element of ( NAT )) : (1 <= B69 & B69 <= C56 & B69 <> C57) };
L1592: D112 = D113
proof
thus L1593: D112 c= D113
proof
let R6 being set;
L1594: ( Seg C56 ) = { R21 where R21 is (Element of ( NAT )) : (1 <= R21 & R21 <= C56) } by FINSEQ_1:def 1;
assume L1595: R6 in D112;
L1596: R6 in ( Seg C56 ) by L1595 , XBOOLE_0:def 5;
consider C59 being (Element of ( NAT )) such that L1597: R6 = C59 and L1598: 1 <= C59 and L1599: C59 <= C56 by L1596 , L1594;
L1600: (not R6 in { C57 }) by L1595 , XBOOLE_0:def 5;
L1601: C59 <> C57 by L1600 , L1597 , TARSKI:def 1;
thus L1602: thesis by L1601 , L1597 , L1598 , L1599;
end;

let R6 being set;
assume L1603: R6 in D113;
consider C60 being (Element of ( NAT )) such that L1604: R6 = C60 and L1605: 1 <= C60 and L1606: C60 <= C56 and L1607: C60 <> C57 by L1603;
L1608: (not C60 in { C57 }) by L1607 , TARSKI:def 1;
L1609: C60 in ( Seg C56 ) by L1605 , L1606 , FINSEQ_1:1;
thus L1610: thesis by L1609 , L1604 , L1608 , XBOOLE_0:def 5;
end;
L1611: 1 <= ( C55 + 1 ) by L1557 , L1561 , XXREAL_0:2;
L1612: ( C55 + 1 ) in ( dom ( Sgm D112 ) ) by L1611 , L1556 , L126;
L1613: ( ( Sgm D112 ) . ( C55 + 1 ) ) in D112 by L1612 , L1560 , FUNCT_1:def 3;
L1614: (ex R21 being (Element of ( NAT )) st (( ( Sgm D112 ) . ( C55 + 1 ) ) = R21 & 1 <= R21 & R21 <= C56 & R21 <> C57)) by L1613 , L1592;
L1615: C56 in ( NAT ) by ORDINAL1:def 12;
L1616: 1 <= C56 by L1555 , L1558 , XXREAL_0:2;
L1617: C56 in ( rng ( Sgm D112 ) ) by L1616 , L1560 , L1591 , L1592 , L1615;
consider C61 being Nat such that L1618: C61 in ( dom ( Sgm D112 ) ) and L1619: ( ( Sgm D112 ) . C61 ) = C56 by L1617 , FINSEQ_2:10;
L1620: 1 <= C61 by L1618 , L126;
L1621: ( C55 + 1 ) <= C61 by L1620 , L1559 , L1556 , L1614 , L1619 , FINSEQ_1:def 13;
L1622: C57 < C56 by L1558 , L1591 , XXREAL_0:1;
L1623: C57 <= ( C55 + 1 ) by L1622 , L1552 , NAT_1:13;
L1624: C61 <= ( C55 + 1 ) by L1556 , L1618 , L126;
L1625:
now
per cases  by L1561 , XXREAL_0:1;
suppose L1626: C58 = ( C55 + 1 );

thus L1627: ((1 <= C58 & C58 < C57) implies ( ( Sgm D112 ) . C58 ) = C58) by L1626 , L1552 , L1622 , NAT_1:13;
thus L1628: ((C57 <= C58 & C58 <= ( C55 + 1 )) implies ( ( Sgm ( ( Seg C56 ) \ { C57 } ) ) . C58 ) = ( C58 + 1 )) by L1552 , L1619 , L1624 , L1621 , L1626 , XXREAL_0:1;
end;
suppose L1629: C58 < ( C55 + 1 );

set D114 = ( ( Seg ( C55 + 1 ) ) \ { C57 } );
L1630:
now
let C62 , C63 being (Element of ( NAT ));
assume that
L1631: C62 in D114
and
L1632: C63 in { C56 };
L1633: C62 in ( Seg ( C55 + 1 ) ) by L1631 , XBOOLE_0:def 5;
L1634: C62 <= ( C55 + 1 ) by L1633 , FINSEQ_1:1;
L1635: C63 = C56 by L1632 , TARSKI:def 1;
thus L1636: C62 < C63 by L1635 , L1552 , L1634 , NAT_1:13;
end;
L1637: D112 = ( D114 \/ { C56 } )
proof
thus L1638: D112 c= ( D114 \/ { C56 } )
proof
let R6 being set;
assume L1639: R6 in D112;
consider R21 being (Element of ( NAT )) such that L1640: R6 = R21 and L1641: 1 <= R21 and L1642: R21 <= C56 and L1643: R21 <> C57 by L1639 , L1592;
L1644:
now
per cases  by L1642 , XXREAL_0:1;
suppose L1645: R21 = C56;

L1646: R6 in { C56 } by L1645 , L1640 , TARSKI:def 1;
thus L1647: thesis by L1646 , XBOOLE_0:def 3;
end;
suppose L1648: R21 < C56;

L1649: R21 <= ( C55 + 1 ) by L1648 , L1552 , NAT_1:13;
L1650: R21 in ( Seg ( C55 + 1 ) ) by L1649 , L1641 , FINSEQ_1:1;
L1651: (not R21 in { C57 }) by L1643 , TARSKI:def 1;
L1652: R6 in D114 by L1651 , L1640 , L1650 , XBOOLE_0:def 5;
thus L1653: thesis by L1652 , XBOOLE_0:def 3;
end;
end;
thus L1655: thesis by L1644;
end;

let R6 being set;
assume that
L1656: R6 in ( D114 \/ { C56 } );
L1657:
now
per cases  by L1656 , XBOOLE_0:def 3;
suppose L1658: R6 in D114;

L1659: ( Seg ( C55 + 1 ) ) = { B70 where B70 is (Element of ( NAT )) : (1 <= B70 & B70 <= ( C55 + 1 )) } by FINSEQ_1:def 1;
L1660: R6 in ( Seg ( C55 + 1 ) ) by L1658 , XBOOLE_0:def 5;
consider C64 being (Element of ( NAT )) such that L1661: R6 = C64 and L1662: 1 <= C64 and L1663: C64 <= ( C55 + 1 ) by L1660 , L1659;
L1664: (not R6 in { C57 }) by L1658 , XBOOLE_0:def 5;
L1665: C64 <> C57 by L1664 , L1661 , TARSKI:def 1;
L1666: ( C55 + 1 ) <= C56 by L1552 , NAT_1:11;
L1667: C64 <= C56 by L1666 , L1663 , XXREAL_0:2;
thus L1668: thesis by L1667 , L1592 , L1661 , L1662 , L1665;
end;
suppose L1669: R6 in { C56 };

L1670: R6 = C56 by L1669 , TARSKI:def 1;
L1671: 1 <= C56 by L1555 , L1558 , XXREAL_0:2;
thus L1672: thesis by L1671 , L1591 , L1592 , L1670 , L1615;
end;
end;
thus L1674: thesis by L1657;
end;
L1675: { C56 } c= D112 by L1637 , XBOOLE_1:7;
L1676: { C56 } c= ( Seg C56 ) by L1675 , L1559 , XBOOLE_1:1;
L1677: D114 c= D112 by L1637 , XBOOLE_1:7;
L1678: D114 c= ( Seg C56 ) by L1677 , L1559 , XBOOLE_1:1;
L1679: ( Sgm D112 ) = ( ( Sgm D114 ) ^ ( Sgm { C56 } ) ) by L1678 , L1637 , L1630 , L1676 , L229;
L1680: C58 <= C55 by L1629 , NAT_1:13;
L1681: C58 in ( Seg C55 ) by L1680 , L1557 , FINSEQ_1:1;
L1682: C57 in ( Seg ( C55 + 1 ) ) by L1555 , L1623 , FINSEQ_1:1;
L1683: ( len ( Sgm D114 ) ) = C55 by L1682 , L1539;
L1684: C58 in ( dom ( Sgm D114 ) ) by L1683 , L1681 , FINSEQ_1:def 3;
L1685: C58 <= C55 by L1629 , NAT_1:13;
L1686: C58 in ( Seg C55 ) by L1685 , L1557 , FINSEQ_1:1;
L1687: ((1 <= C58 & C58 < C57) implies ( ( Sgm ( ( Seg ( C55 + 1 ) ) \ { C57 } ) ) . C58 ) = C58) by L1686 , L1551 , L1682;
L1688:
now
assume that
L1689: 1 <= C58
and
L1690: C58 < C57;
L1691: C58 in ( Seg ( len ( Sgm D114 ) ) ) by L1686 , L1682 , L1539;
L1692: C58 in ( dom ( Sgm D114 ) ) by L1691 , FINSEQ_1:def 3;
thus L1693: ( ( Sgm D112 ) . C58 ) = C58 by L1692 , L1687 , L1679 , L1689 , L1690 , FINSEQ_1:def 7;
end;
thus L1694: ((1 <= C58 & C58 < C57) implies ( ( Sgm D112 ) . C58 ) = C58) by L1688;
assume that
L1695: C57 <= C58
and
L1696: C58 <= ( C55 + 1 );
L1697: ((C57 <= C58 & C58 <= C55) implies ( ( Sgm ( ( Seg ( C55 + 1 ) ) \ { C57 } ) ) . C58 ) = ( C58 + 1 )) by L1551 , L1686 , L1682;
thus L1698: ( ( Sgm D112 ) . C58 ) = ( C58 + 1 ) by L1697 , L1629 , L1679 , L1695 , L1684 , FINSEQ_1:def 7 , NAT_1:13;
end;
end;
thus L1700: thesis by L1625;
end;
end;
thus L1702: thesis by L1562;
end;
L1703: S8[ ( 0 ) ];
L1704: (for B71 being Nat holds S8[ B71 ]) from NAT_1:sch 2(L1703 , L1550);
thus L1705: thesis by L1704 , L1547 , L1548 , L1549;
end;
theorem
L1706: (for R19 being Nat holds (for R20 being Nat holds (for B72 being FinSequence holds ((( len B72 ) = ( R19 + 1 ) & R20 in ( dom B72 )) implies ( len ( Del (B72 , R20) ) ) = R19))))
proof
let R19 being Nat;
let R20 being Nat;
let C65 being FinSequence;
assume that
L1707: ( len C65 ) = ( R19 + 1 )
and
L1708: R20 in ( dom C65 );
L1709: (ex B73 being Nat st (( len C65 ) = ( B73 + 1 ) & ( len ( Del (C65 , R20) ) ) = B73)) by L1708 , L1500;
thus L1710: thesis by L1709 , L1707;
end;
theorem
L1711: (for R17 being Nat holds (for R20 being Nat holds (for B74 being FinSequence holds (R17 < R20 implies ( ( Del (B74 , R20) ) . R17 ) = ( B74 . R17 )))))
proof
let R17 being Nat;
let R20 being Nat;
let C66 being FinSequence;
assume L1712: R17 < R20;
per cases ;
suppose that L1713: R20 in ( dom C66 )
and
L1714: C66 <> ( {} );
consider C67 being Nat such that L1715: ( len C66 ) = ( C67 + 1 ) by L1714 , NAT_1:6;
L1716:
now
per cases ;
suppose L1717: 1 <= R17;

set D115 = ( ( dom C66 ) \ { R20 } );
L1718: ( dom ( Sgm D115 ) ) = ( Seg ( len ( Sgm D115 ) ) ) by FINSEQ_1:def 3;
L1719: ( dom C66 ) = ( Seg ( len C66 ) ) by FINSEQ_1:def 3;
L1720: ( len ( Sgm D115 ) ) = C67 by L1719 , L1715 , L1713 , L1539;
L1721: D115 c= ( Seg ( len C66 ) ) by L1719 , XBOOLE_1:36;
L1722: ( rng ( Sgm D115 ) ) = D115 by L1721 , FINSEQ_1:def 13;
L1723: ( dom ( C66 * ( Sgm D115 ) ) ) = ( dom ( Sgm D115 ) ) by L1722 , RELAT_1:27 , XBOOLE_1:36;
L1724: R20 <= ( C67 + 1 ) by L1715 , L1713 , L126;
L1725: R17 < ( C67 + 1 ) by L1724 , L1712 , XXREAL_0:2;
L1726: R17 <= C67 by L1725 , NAT_1:13;
L1727: R17 in ( Seg C67 ) by L1726 , L1717 , FINSEQ_1:1;
L1728: ((1 <= R17 & R17 < R20) implies ( ( Sgm D115 ) . R17 ) = R17) by L1727 , L1715 , L1713 , L1719 , L1546;
thus L1729: thesis by L1728 , L1712 , L1717 , L1727 , L1718 , L1723 , L1720 , FUNCT_1:12;
end;
suppose L1730: (not 1 <= R17);

L1731: ( Seg ( len ( Del (C66 , R20) ) ) ) = ( Seg C67 ) by L1715 , L1713 , L1706;
L1732: ( dom ( Del (C66 , R20) ) ) = ( Seg C67 ) by L1731 , FINSEQ_1:def 3;
L1733: (not R17 in ( dom ( Del (C66 , R20) ) )) by L1732 , L1730 , FINSEQ_1:1;
L1734: (not R17 in ( dom C66 )) by L1730 , L126;
L1735: ( C66 . R17 ) = ( {} ) by L1734 , FUNCT_1:def 2;
thus L1736: thesis by L1735 , L1733 , FUNCT_1:def 2;
end;
end;
thus L1738: thesis by L1716;
end;
suppose L1739: ((not R20 in ( dom C66 )) or C66 = ( {} ));

thus L1740: thesis by L1739 , L1500;
end;
end;
theorem
L1742: (for R17 being Nat holds (for R19 being Nat holds (for R20 being Nat holds (for B75 being FinSequence holds ((( len B75 ) = ( R19 + 1 ) & R20 in ( dom B75 ) & R20 <= R17 & R17 <= R19) implies ( ( Del (B75 , R20) ) . R17 ) = ( B75 . ( R17 + 1 ) ))))))
proof
let R17 being Nat;
let R19 being Nat;
let R20 being Nat;
let C68 being FinSequence;
assume that
L1743: ( len C68 ) = ( R19 + 1 )
and
L1744: R20 in ( dom C68 )
and
L1745: R20 <= R17
and
L1746: R17 <= R19;
set D116 = ( ( dom C68 ) \ { R20 } );
L1747: ( dom C68 ) = ( Seg ( len C68 ) ) by FINSEQ_1:def 3;
L1748: D116 c= ( Seg ( len C68 ) ) by L1747 , XBOOLE_1:36;
L1749: ( rng ( Sgm D116 ) ) = D116 by L1748 , FINSEQ_1:def 13;
L1750: ( dom ( C68 * ( Sgm D116 ) ) ) = ( dom ( Sgm D116 ) ) by L1749 , RELAT_1:27 , XBOOLE_1:36;
L1751: ( len ( Sgm D116 ) ) = R19 by L1743 , L1744 , L1747 , L1539;
L1752: ( dom ( Sgm D116 ) ) = ( Seg ( len ( Sgm D116 ) ) ) by FINSEQ_1:def 3;
L1753: 1 <= R20 by L1744 , L126;
L1754: 1 <= R17 by L1753 , L1745 , XXREAL_0:2;
L1755: R17 in ( Seg R19 ) by L1754 , L1746 , FINSEQ_1:1;
L1756: ((R20 <= R17 & R17 <= R19) implies ( ( Sgm D116 ) . R17 ) = ( R17 + 1 )) by L1755 , L1743 , L1744 , L1747 , L1546;
thus L1757: thesis by L1756 , L1745 , L1746 , L1755 , L1752 , L1750 , L1751 , FUNCT_1:12;
end;
theorem
L1758: (for R17 being Nat holds (for R20 being Nat holds (for B76 being FinSequence holds (R17 <= R20 implies ( ( B76 | R20 ) . R17 ) = ( B76 . R17 )))))
proof
let R17 being Nat;
let R20 being Nat;
let C69 being FinSequence;
assume L1759: R17 <= R20;
per cases  by NAT_1:14;
suppose L1760: R17 = ( 0 );

L1761: (not R17 in ( dom C69 )) by L1760 , L126;
L1762: (not R17 in ( dom ( C69 | R20 ) )) by L1760 , L126;
thus L1763: ( ( C69 | R20 ) . R17 ) = ( {} ) by L1762 , FUNCT_1:def 2
.= ( C69 . R17 ) by L1761 , FUNCT_1:def 2;
end;
suppose L1764: 1 <= R17;

L1765: R17 in ( Seg R20 ) by L1764 , L1759 , FINSEQ_1:1;
L1766: ( ( C69 | ( Seg R20 ) ) . R17 ) = ( C69 . R17 ) by L1765 , FUNCT_1:49;
thus L1767: thesis by L1766 , FINSEQ_1:def 15;
end;
end;
theorem
L1769: (for B77 , B78 being FinSequence holds (B77 c= B78 implies ( B78 | ( len B77 ) ) = B77))
proof
let C70 , C71 being FinSequence;
assume that
L1770: C70 c= C71;
L1771: (for B79 being Nat holds (B79 in ( dom C70 ) implies ( C70 . B79 ) = ( ( C71 | ( len C70 ) ) . B79 )))
proof
let C72 being Nat;
assume L1772: C72 in ( dom C70 );
L1773: C72 <= ( len C70 ) by L1772 , L126;
thus L1774: ( C70 . C72 ) = ( C71 . C72 ) by L1770 , L1772 , GRFUNC_1:2
.= ( ( C71 | ( len C70 ) ) . C72 ) by L1773 , L1758;
end;
L1775: ( len C70 ) <= ( len C71 ) by L1770 , FINSEQ_1:63;
L1776: ( len ( C71 | ( len C70 ) ) ) = ( len C70 ) by L1775 , FINSEQ_1:59;
L1777: ( dom ( C71 | ( len C70 ) ) ) = ( dom C70 ) by L1776 , L146;
thus L1778: thesis by L1777 , L1771 , FINSEQ_1:13;
end;
theorem
L1779: (for B80 being set holds (for B81 being FinSequence holds ( ( Sgm ( B81 " B80 ) ) ^ ( Sgm ( B81 " ( ( rng B81 ) \ B80 ) ) ) ) is (Permutation of ( dom B81 ))))
proof
let C73 being set;
let C74 being FinSequence;
L1780: ( dom C74 ) = ( Seg ( len C74 ) ) by FINSEQ_1:def 3;
set D117 = ( ( Sgm ( C74 " C73 ) ) ^ ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) );
L1781: C73 misses ( ( rng C74 ) \ C73 ) by XBOOLE_1:79;
L1782: ( C73 /\ ( ( rng C74 ) \ C73 ) ) = ( {} ) by L1781 , XBOOLE_0:def 7;
L1783: ( ( C74 " C73 ) /\ ( C74 " ( ( rng C74 ) \ C73 ) ) ) = ( C74 " ( C73 /\ ( ( rng C74 ) \ C73 ) ) ) by FUNCT_1:68
.= ( {} ) by L1782;
L1784: ( C74 " C73 ) misses ( C74 " ( ( rng C74 ) \ C73 ) ) by L1783 , XBOOLE_0:def 7;
L1785: ( C74 " ( ( rng C74 ) \ C73 ) ) c= ( dom C74 ) by RELAT_1:132;
L1786: ( C74 " ( ( rng C74 ) \ C73 ) ) c= ( Seg ( len C74 ) ) by L1785 , FINSEQ_1:def 3;
L1787: ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) is  one-to-one by L1786 , L182;
L1788: ( C74 " C73 ) c= ( dom C74 ) by RELAT_1:132;
L1789: ( C74 " C73 ) c= ( Seg ( len C74 ) ) by L1788 , FINSEQ_1:def 3;
L1790: ( ( rng ( Sgm ( C74 " C73 ) ) ) /\ ( rng ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) ) = ( ( C74 " C73 ) /\ ( rng ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) ) by L1789 , FINSEQ_1:def 13
.= ( {} ) by L1786 , L1783 , FINSEQ_1:def 13;
L1791: ( rng ( Sgm ( C74 " C73 ) ) ) misses ( rng ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) by L1790 , XBOOLE_0:def 7;
L1792: ( rng D117 ) = ( ( rng ( Sgm ( C74 " C73 ) ) ) \/ ( rng ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) ) by FINSEQ_1:31
.= ( ( C74 " C73 ) \/ ( rng ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) ) by L1789 , FINSEQ_1:def 13
.= ( ( C74 " C73 ) \/ ( C74 " ( ( rng C74 ) \ C73 ) ) ) by L1786 , FINSEQ_1:def 13
.= ( C74 " ( C73 \/ ( ( rng C74 ) \ C73 ) ) ) by RELAT_1:140
.= ( C74 " ( ( rng C74 ) \/ C73 ) ) by XBOOLE_1:39
.= ( ( C74 " ( rng C74 ) ) \/ ( C74 " C73 ) ) by RELAT_1:140
.= ( ( dom C74 ) \/ ( C74 " C73 ) ) by RELAT_1:134
.= ( dom C74 ) by RELAT_1:132 , XBOOLE_1:12;
L1793: ( Sgm ( C74 " C73 ) ) is  one-to-one by L1789 , L182;
L1794: D117 is  one-to-one by L1793 , L1787 , L1791 , L1246;
L1795: ( len D117 ) = ( ( len ( Sgm ( C74 " C73 ) ) ) + ( len ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) ) by FINSEQ_1:22
.= ( ( card ( C74 " C73 ) ) + ( len ( Sgm ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) ) by L1789 , L207
.= ( ( card ( C74 " C73 ) ) + ( card ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) by L1786 , L207
.= ( card ( ( C74 " C73 ) \/ ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) by L1784 , CARD_2:40
.= ( len ( Sgm ( ( C74 " C73 ) \/ ( C74 " ( ( rng C74 ) \ C73 ) ) ) ) ) by L1780 , L1788 , L1785 , L207 , XBOOLE_1:8
.= ( len ( Sgm ( C74 " ( C73 \/ ( ( rng C74 ) \ C73 ) ) ) ) ) by RELAT_1:140
.= ( len ( Sgm ( C74 " ( ( rng C74 ) \/ C73 ) ) ) ) by XBOOLE_1:39
.= ( len ( Sgm ( ( C74 " ( rng C74 ) ) \/ ( C74 " C73 ) ) ) ) by RELAT_1:140
.= ( len ( Sgm ( ( dom C74 ) \/ ( C74 " C73 ) ) ) ) by RELAT_1:134
.= ( len ( Sgm ( dom C74 ) ) ) by RELAT_1:132 , XBOOLE_1:12
.= ( card ( Seg ( len C74 ) ) ) by L1780 , L207
.= ( len C74 ) by FINSEQ_1:57;
L1796: ( dom D117 ) = ( dom C74 ) by L1795 , L146;
L1797: D117 is (Function of ( dom C74 ) , ( dom C74 )) by L1796 , L1792 , FUNCT_2:1;
thus L1798: thesis by L1797 , L1794 , L1792 , FUNCT_2:57;
end;
theorem
L1799: (for B82 being FinSequence holds (for B83 being (Subset of ( rng B82 )) holds (ex B84 being (Permutation of ( dom B82 )) st ( ( B82 - ( B83 ` ) ) ^ ( B82 - B83 ) ) = ( B82 * B84 ))))
proof
let C75 being FinSequence;
let C76 being (Subset of ( rng C75 ));
set D118 = ( C75 - ( C76 ` ) );
set D119 = ( C75 - C76 );
L1800: ( C76 ` ) = ( ( rng C75 ) \ C76 ) by SUBSET_1:def 4;
L1801: ( C75 " ( C76 ` ) ) misses ( C75 " C76 ) by L1800 , FUNCT_1:71 , XBOOLE_1:79;
L1802: ( ( card ( C75 " ( C76 ` ) ) ) + ( card ( C75 " C76 ) ) ) = ( card ( ( C75 " ( C76 ` ) ) \/ ( C75 " C76 ) ) ) by L1801 , CARD_2:40
.= ( card ( C75 " ( ( C76 ` ) \/ C76 ) ) ) by RELAT_1:140
.= ( card ( C75 " ( [#] ( rng C75 ) ) ) ) by SUBSET_1:10
.= ( card ( C75 " ( rng C75 ) ) ) by SUBSET_1:def 3
.= ( card ( dom C75 ) ) by RELAT_1:134
.= ( len C75 ) by CARD_1:62;
L1803: ( len C75 ) = ( ( ( len C75 ) - ( card ( C75 " ( C76 ` ) ) ) ) + ( ( len C75 ) - ( card ( C75 " C76 ) ) ) ) by L1802
.= ( ( len D118 ) + ( ( len C75 ) - ( card ( C75 " C76 ) ) ) ) by L600
.= ( ( len D118 ) + ( len D119 ) ) by L600;
L1804: ( ( rng C75 ) \ ( rng D118 ) ) = ( ( rng C75 ) \ ( ( rng C75 ) \ ( C76 ` ) ) ) by L637
.= ( ( rng C75 ) \ ( ( rng C75 ) \ ( ( rng C75 ) \ C76 ) ) ) by SUBSET_1:def 4
.= ( ( rng C75 ) \ ( ( rng C75 ) /\ C76 ) ) by XBOOLE_1:48
.= ( ( rng C75 ) \ C76 ) by XBOOLE_1:47
.= ( rng D119 ) by L637;
reconsider D120 = ( ( Sgm ( C75 " ( rng D118 ) ) ) ^ ( Sgm ( C75 " ( rng D119 ) ) ) ) as (Permutation of ( dom C75 )) by L1804 , L1779;
reconsider D121 = ( C75 * D120 ) as FinSequence by FINSEQ_2:40;
take D120;
L1805:
now
L1806: ( C75 " ( C76 ` ) ) = ( C75 " ( ( rng C75 ) \ C76 ) ) by SUBSET_1:def 4
.= ( ( C75 " ( rng C75 ) ) \ ( C75 " C76 ) ) by FUNCT_1:69
.= ( ( dom C75 ) \ ( C75 " C76 ) ) by RELAT_1:134;
L1807: ( C75 " ( rng C75 ) ) = ( dom C75 ) by RELAT_1:134;
L1808: ( card ( ( C75 " ( rng C75 ) ) \ ( C75 " ( C76 ` ) ) ) ) = ( ( card ( C75 " ( rng C75 ) ) ) - ( card ( C75 " ( C76 ` ) ) ) ) by L1807 , L1806 , CARD_2:44 , XBOOLE_1:36
.= ( ( card ( Seg ( len C75 ) ) ) - ( card ( C75 " ( C76 ` ) ) ) ) by L1807 , FINSEQ_1:def 3
.= ( ( len C75 ) - ( card ( C75 " ( C76 ` ) ) ) ) by FINSEQ_1:57
.= ( len ( C75 - ( C76 ` ) ) ) by L600;
L1809: ( C75 " ( rng D118 ) ) c= ( dom C75 ) by RELAT_1:132;
L1810: ( C75 " ( rng D118 ) ) c= ( Seg ( len C75 ) ) by L1809 , FINSEQ_1:def 3;
let C77 being (Element of ( NAT ));
assume that
L1811: C77 in ( dom D118 );
L1812: ( dom ( Sgm ( C75 " ( rng D118 ) ) ) ) = ( Seg ( len ( Sgm ( C75 " ( rng D118 ) ) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( card ( C75 " ( rng D118 ) ) ) ) by L1810 , L207
.= ( Seg ( card ( C75 " ( ( rng C75 ) \ ( C76 ` ) ) ) ) ) by L637
.= ( Seg ( len ( C75 - ( C76 ` ) ) ) ) by L1808 , FUNCT_1:69
.= ( dom D118 ) by FINSEQ_1:def 3;
L1813: ( dom ( Sgm ( C75 " ( rng D118 ) ) ) ) c= ( dom D120 ) by FINSEQ_1:26;
thus L1814: ( ( C75 * D120 ) . C77 ) = ( C75 . ( D120 . C77 ) ) by L1813 , L1811 , L1812 , FUNCT_1:13
.= ( C75 . ( ( Sgm ( C75 " ( rng D118 ) ) ) . C77 ) ) by L1811 , L1812 , FINSEQ_1:def 7
.= ( ( C75 * ( Sgm ( C75 " ( rng D118 ) ) ) ) . C77 ) by L1811 , L1812 , FUNCT_1:13
.= ( ( C75 * ( Sgm ( C75 " ( ( rng C75 ) \ ( C76 ` ) ) ) ) ) . C77 ) by L637
.= ( ( C75 * ( Sgm ( C75 " ( ( rng C75 ) \ ( ( rng C75 ) \ C76 ) ) ) ) ) . C77 ) by SUBSET_1:def 4
.= ( ( C75 * ( Sgm ( C75 " ( ( rng C75 ) /\ C76 ) ) ) ) . C77 ) by XBOOLE_1:48
.= ( ( C75 * ( Sgm ( ( C75 " ( rng C75 ) ) /\ ( C75 " C76 ) ) ) ) . C77 ) by FUNCT_1:68
.= ( ( C75 * ( Sgm ( ( dom C75 ) /\ ( C75 " C76 ) ) ) ) . C77 ) by RELAT_1:134
.= ( D118 . C77 ) by L1806 , XBOOLE_1:48;
end;
L1815:
now
L1816: ( C75 " ( rng C75 ) ) = ( dom C75 ) by RELAT_1:134;
L1817: ( C75 " C76 ) c= ( dom C75 ) by RELAT_1:132;
L1818: ( C75 " C76 ) c= ( C75 " ( rng C75 ) ) by L1817 , RELAT_1:134;
L1819: ( card ( ( C75 " ( rng C75 ) ) \ ( C75 " C76 ) ) ) = ( ( card ( C75 " ( rng C75 ) ) ) - ( card ( C75 " C76 ) ) ) by L1818 , CARD_2:44
.= ( ( card ( Seg ( len C75 ) ) ) - ( card ( C75 " C76 ) ) ) by L1816 , FINSEQ_1:def 3
.= ( ( len C75 ) - ( card ( C75 " C76 ) ) ) by FINSEQ_1:57
.= ( len ( C75 - C76 ) ) by L600;
L1820: ( dom C75 ) = ( Seg ( len C75 ) ) by FINSEQ_1:def 3;
L1821: ( len ( Sgm ( C75 " ( rng D119 ) ) ) ) = ( card ( C75 " ( rng D119 ) ) ) by L1820 , L207 , RELAT_1:132
.= ( card ( C75 " ( ( rng C75 ) \ C76 ) ) ) by L637
.= ( len ( C75 - C76 ) ) by L1819 , FUNCT_1:69;
L1822: ( dom ( Sgm ( C75 " ( rng D119 ) ) ) ) = ( dom D119 ) by L1821 , L146;
L1823: ( C75 " ( rng C75 ) ) = ( dom C75 ) by RELAT_1:134;
L1824: ( C75 " ( C76 ` ) ) = ( C75 " ( ( rng C75 ) \ C76 ) ) by SUBSET_1:def 4
.= ( ( C75 " ( rng C75 ) ) \ ( C75 " C76 ) ) by FUNCT_1:69
.= ( ( dom C75 ) \ ( C75 " C76 ) ) by RELAT_1:134;
L1825: ( card ( ( C75 " ( rng C75 ) ) \ ( C75 " ( C76 ` ) ) ) ) = ( ( card ( C75 " ( rng C75 ) ) ) - ( card ( C75 " ( C76 ` ) ) ) ) by L1824 , L1823 , CARD_2:44 , XBOOLE_1:36
.= ( ( card ( Seg ( len C75 ) ) ) - ( card ( C75 " ( C76 ` ) ) ) ) by L1823 , FINSEQ_1:def 3
.= ( ( len C75 ) - ( card ( C75 " ( C76 ` ) ) ) ) by FINSEQ_1:57
.= ( len ( C75 - ( C76 ` ) ) ) by L600;
let C78 being (Element of ( NAT ));
assume that
L1826: C78 in ( dom D119 );
L1827: ( C75 " ( rng D118 ) ) c= ( dom C75 ) by RELAT_1:132;
L1828: ( C75 " ( rng D118 ) ) c= ( Seg ( len C75 ) ) by L1827 , FINSEQ_1:def 3;
L1829: ( len ( Sgm ( C75 " ( rng D118 ) ) ) ) = ( card ( C75 " ( rng D118 ) ) ) by L1828 , L207
.= ( card ( C75 " ( ( rng C75 ) \ ( C76 ` ) ) ) ) by L637
.= ( len ( C75 - ( C76 ` ) ) ) by L1825 , FUNCT_1:69;
L1830: ( ( len D118 ) + C78 ) in ( dom D120 ) by L1829 , L1826 , L1822 , FINSEQ_1:28;
thus L1831: ( ( C75 * D120 ) . ( ( len D118 ) + C78 ) ) = ( C75 . ( D120 . ( ( len D118 ) + C78 ) ) ) by L1830 , FUNCT_1:13
.= ( C75 . ( ( Sgm ( C75 " ( rng D119 ) ) ) . C78 ) ) by L1826 , L1822 , L1829 , FINSEQ_1:def 7
.= ( ( C75 * ( Sgm ( C75 " ( rng D119 ) ) ) ) . C78 ) by L1826 , L1822 , FUNCT_1:13
.= ( ( C75 * ( Sgm ( C75 " ( ( rng C75 ) \ C76 ) ) ) ) . C78 ) by L637
.= ( ( C75 * ( Sgm ( ( C75 " ( rng C75 ) ) \ ( C75 " C76 ) ) ) ) . C78 ) by FUNCT_1:69
.= ( D119 . C78 ) by RELAT_1:134;
end;
L1832: ( len D121 ) = ( ( len D118 ) + ( len D119 ) ) by L1803 , FINSEQ_2:44;
thus L1833: thesis by L1832 , L1805 , L1815 , L174;
end;
theorem
L1834: (for B85 being FinSubsequence holds (B85 is FinSequence implies ( Seq B85 ) = B85))
proof
let C79 being FinSubsequence;
assume L1835: C79 is FinSequence;
reconsider D122 = C79 as FinSequence by L1835;
consider C80 being Nat such that L1836: ( dom D122 ) = ( Seg C80 ) by FINSEQ_1:def 2;
L1837: C80 in ( NAT ) by ORDINAL1:def 12;
L1838: ( len D122 ) <= C80 by L1837 , L1836 , FINSEQ_1:def 3;
L1839: ( Seq C79 ) = ( C79 * ( Sgm ( Seg C80 ) ) ) by L1836 , FINSEQ_1:def 14
.= ( C79 * ( idseq C80 ) ) by L446
.= C79 by L1838 , FINSEQ_2:54;
thus L1840: thesis by L1839;
end;
theorem
L1841: (for B86 being (FinSequence of ( INT )) holds B86 is (FinSequence of ( REAL )))
proof
let C81 being (FinSequence of ( INT ));
L1842:
now
let C82 being Nat;
assume L1843: C82 in ( dom C81 );
L1844: ( C81 . C82 ) in ( rng C81 ) by L1843 , FUNCT_1:def 3;
L1845: ( C81 . C82 ) in ( INT ) by L1844;
thus L1846: ( C81 . C82 ) in ( REAL ) by L1845 , NUMBERS:15;
end;
thus L1847: thesis by L1842 , FINSEQ_2:12;
end;
theorem
L1848: (for R1 being FinSequence holds (for R2 being FinSequence holds (( len R1 ) < ( len R2 ) iff ( dom R1 ) c< ( dom R2 ))))
proof
let R1 being FinSequence;
let R2 being FinSequence;
L1849: (( len R1 ) = ( len R2 ) iff ( dom R1 ) = ( dom R2 )) by L146;
L1850: (( len R1 ) <= ( len R2 ) iff ( dom R1 ) c= ( dom R2 )) by L149;
thus L1851: thesis by L1850 , L1849 , XBOOLE_0:def 8 , XXREAL_0:1;
end;
theorem
L1852: (for B87 being set holds (for B88 being Nat holds ((B88 <> ( 0 ) & B87 = ( {} )) iff ( B88 -tuples_on B87 ) = ( {} ))))
proof
let C83 being set;
let C84 being Nat;
thus L1853:now
assume L1854: C84 <> ( 0 );
L1855: ( ( 0 ) + 1 ) <= C84 by L1854 , NAT_1:13;
assume that
L1856: C83 = ( {} )
and
L1857: ( C84 -tuples_on C83 ) <> ( {} );
reconsider D123 = ( C84 -tuples_on C83 ) as non  empty (FinSequenceSet of C83) by L1857;
set D124 = the (Element of D123);
L1858: (D123 = { B89 where B89 is (Element of ( C83 * )) : ( len B89 ) = C84 } & D124 in D123);
L1859: (ex B90 being (Element of ( C83 * )) st (D124 = B90 & ( len B90 ) = C84)) by L1858;
L1860: 1 in ( dom D124 ) by L1859 , L1855 , L126;
L1861: ( rng D124 ) <> ( {} ) by L1860 , RELAT_1:42;
thus L1862: contradiction by L1856 , L1861;
end;
assume that
L1863: ( C84 -tuples_on C83 ) = ( {} )
and
L1864: (C84 = ( 0 ) or C83 <> ( {} ));
L1865: ( len ( <*> C83 ) ) = ( 0 );
reconsider D125 = C83 as non  empty set by L1865 , L1863 , L1864 , FINSEQ_2:133;
L1866: ( C84 -tuples_on D125 ) is non  empty;
thus L1867: contradiction by L1866 , L1863;
end;
registration
let C85 being Nat;
let C86 being set;
cluster ( C85 -tuples_on C86 ) ->  with_common_domain;
coherence
proof
set D126 = ( C85 -tuples_on C86 );
let C87 , C88 being Function;
assume that
L1868: C87 in D126
and
L1869: C88 in D126;
L1870: (ex B91 being (Element of ( C86 * )) st (C87 = B91 & ( len B91 ) = C85)) by L1868;
L1871: (ex B92 being (Element of ( C86 * )) st (C88 = B92 & ( len B92 ) = C85)) by L1869;
thus L1872: thesis by L1871 , L1870 , L146;
end;
end;
registration
let C89 being Nat;
let C90 being set;
cluster ( C89 -tuples_on C90 ) ->  product-like;
coherence
proof
set D127 = ( C89 -tuples_on C90 );
per cases ;
suppose L1874: (C90 = ( {} ) & C89 = ( 0 ));

L1875: D127 = { ( <*> C90 ) } by L1874 , FINSEQ_2:94
.= { ( {} ) };
thus L1876: thesis by L1875 , CARD_3:10;
end;
suppose L1877: (C90 = ( {} ) & C89 <> ( 0 ));

L1878: D127 = ( {} ) by L1877 , L1852;
take D128 = ( ( 0 ) .--> ( {} ) );
L1879: ( rng D128 ) = { ( {} ) } by FUNCOP_1:8;
L1880: ( {} ) in ( rng D128 ) by L1879 , TARSKI:def 1;
thus L1881: thesis by L1880 , L1878 , CARD_3:26;
end;
suppose L1882: C90 <> ( {} );

reconsider D129 = C90 as non  empty set by L1882;
set D130 = ( C89 -tuples_on D129 );
take ( product" D130 );
L1883: D130 = ( product ( product" D130 ) )
proof
thus L1884: D130 c= ( product ( product" D130 ) ) by CARD_3:77;
let C91 being set;
assume L1885: C91 in ( product ( product" D130 ) );
consider C92 being Function such that L1886: C91 = C92 and L1887: ( dom C92 ) = ( dom ( product" D130 ) ) and L1888: (for B93 being set holds (B93 in ( dom ( product" D130 ) ) implies ( C92 . B93 ) in ( ( product" D130 ) . B93 ))) by L1885 , CARD_3:def 5;
set D131 = the (Element of D130);
L1889: D131 in D130;
consider C93 being (Element of ( D129 * )) such that L1890: D131 = C93 and L1891: ( len C93 ) = C89 by L1889;
L1892: ( dom C92 ) = ( DOM D130 ) by L1887 , CARD_3:def 12
.= ( dom D131 ) by CARD_3:108;
L1893: ( dom D131 ) = ( Seg ( len C93 ) ) by L1890 , FINSEQ_1:def 3;
L1894: C92 is FinSequence by L1893 , L1892 , FINSEQ_1:def 2;
L1895: ( rng C92 ) c= D129
proof
let C94 being set;
assume L1896: C94 in ( rng C92 );
consider C95 being set such that L1897: C95 in ( dom C92 ) and L1898: ( C92 . C95 ) = C94 by L1896 , FUNCT_1:def 3;
L1899: ( C92 . C95 ) in ( ( product" D130 ) . C95 ) by L1887 , L1888 , L1897;
L1900: ( C92 . C95 ) in ( pi (D130 , C95) ) by L1899 , L1887 , L1897 , CARD_3:def 12;
consider C96 being Function such that L1901: C96 in D130 and L1902: ( C92 . C95 ) = ( C96 . C95 ) by L1900 , CARD_3:def 6;
consider C97 being (Element of ( D129 * )) such that L1903: C96 = C97 and L1904: ( len C97 ) = C89 by L1901;
L1905: ( dom C92 ) = ( dom C97 ) by L1892 , L1901 , L1903 , CARD_3:def 10;
L1906: ( C97 . C95 ) in ( rng C97 ) by L1905 , L1897 , FUNCT_1:def 3;
thus L1907: thesis by L1898 , L1902 , L1903 , L1906;
end;
reconsider D132 = C92 as (FinSequence of D129) by L1895 , L1894 , FINSEQ_1:def 4;
L1908: D132 in ( D129 * ) by FINSEQ_1:def 11;
L1909: ( len D132 ) = C89 by L1890 , L1891 , L1892 , L146;
thus L1910: thesis by L1909 , L1886 , L1908;
end;
thus L1911: thesis by L1883;
end;
end;
end;
begin
theorem
L1914: (for B94 , B95 being non  empty set holds (for B96 being (FinSequence of B94) holds (for B97 being (Function of B94 , B95) holds (( dom ( B97 * B96 ) ) = ( dom B96 ) & ( len ( B97 * B96 ) ) = ( len B96 ) & (for B98 being Nat holds (B98 in ( dom ( B97 * B96 ) ) implies ( ( B97 * B96 ) . B98 ) = ( B97 . ( B96 . B98 ) )))))))
proof
let C98 , C99 being non  empty set;
let C100 being (FinSequence of C98);
let C101 being (Function of C98 , C99);
L1915: (( rng C100 ) c= C98 & ( dom C101 ) = C98) by FUNCT_2:def 1;
thus L1916: ( dom ( C101 * C100 ) ) = ( dom C100 ) by L1915 , RELAT_1:27;
L1917: ( dom ( C101 * C100 ) ) = ( dom C100 ) by L1915 , RELAT_1:27;
thus L1918: ( len ( C101 * C100 ) ) = ( len C100 ) by L1917 , L146;
let C102 being Nat;
assume L1919: C102 in ( dom ( C101 * C100 ) );
thus L1920: thesis by L1919 , FUNCT_1:12;
end;
definition
let C103 being non  empty set;
let C104 being (Relation of C103);
func ExtendRel C104 -> (Relation of ( C103 * )) means 
:L1921: (for B99 , B100 being (FinSequence of C103) holds ([ B99 , B100 ] in it iff (( len B99 ) = ( len B100 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom B99 ) implies [ ( B99 . R22 ) , ( B100 . R22 ) ] in C104)))));
existence
proof
defpred S9[ set , set ] means (for B101 , B102 being (FinSequence of C103) holds ((B101 = $1 & B102 = $2) implies (( len B101 ) = ( len B102 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom B101 ) implies [ ( B101 . R22 ) , ( B102 . R22 ) ] in C104)))));
consider C105 being (Relation of ( C103 * ) , ( C103 * )) such that L1922: (for B103 , B104 being set holds ([ B103 , B104 ] in C105 iff (B103 in ( C103 * ) & B104 in ( C103 * ) & S9[ B103 , B104 ]))) from RELSET_1:sch 1;
take C105;
let C106 , C107 being (FinSequence of C103);
thus L1923: ([ C106 , C107 ] in C105 implies (( len C106 ) = ( len C107 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom C106 ) implies [ ( C106 . R22 ) , ( C107 . R22 ) ] in C104)))) by L1922;
assume L1924: (( len C106 ) = ( len C107 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom C106 ) implies [ ( C106 . R22 ) , ( C107 . R22 ) ] in C104)));
L1925: S9[ C106 , C107 ] by L1924;
L1926: (C106 in ( C103 * ) & C107 in ( C103 * )) by FINSEQ_1:def 11;
thus L1927: thesis by L1926 , L1922 , L1925;
end;
uniqueness
proof
let C108 , C109 being (Relation of ( C103 * ));
assume that
L1928: (for B105 , B106 being (FinSequence of C103) holds ([ B105 , B106 ] in C108 iff (( len B105 ) = ( len B106 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom B105 ) implies [ ( B105 . R22 ) , ( B106 . R22 ) ] in C104)))))
and
L1929: (for B107 , B108 being (FinSequence of C103) holds ([ B107 , B108 ] in C109 iff (( len B107 ) = ( len B108 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom B107 ) implies [ ( B107 . R22 ) , ( B108 . R22 ) ] in C104)))));
L1930: (for B109 , B110 being set holds ([ B109 , B110 ] in C108 iff [ B109 , B110 ] in C109))
proof
let C110 , C111 being set;
thus L1931: ([ C110 , C111 ] in C108 implies [ C110 , C111 ] in C109)
proof
assume L1932: [ C110 , C111 ] in C108;
reconsider D133 = C110 , D134 = C111 as (Element of ( C103 * )) by L1932 , ZFMISC_1:87;
L1933: (( len D133 ) = ( len D134 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom D133 ) implies [ ( D133 . R22 ) , ( D134 . R22 ) ] in C104))) by L1928 , L1932;
thus L1934: thesis by L1933 , L1929;
end;

assume L1935: [ C110 , C111 ] in C109;
reconsider D135 = C110 , D136 = C111 as (Element of ( C103 * )) by L1935 , ZFMISC_1:87;
L1936: (( len D135 ) = ( len D136 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom D135 ) implies [ ( D135 . R22 ) , ( D136 . R22 ) ] in C104))) by L1929 , L1935;
thus L1937: thesis by L1936 , L1928;
end;
thus L1938: thesis by L1930 , RELAT_1:def 2;
end;
end;
theorem
L1940: (for B111 being non  empty set holds ( ExtendRel ( id B111 ) ) = ( id ( B111 * ) ))
proof
let C112 being non  empty set;
set D137 = ( ExtendRel ( id C112 ) );
set D138 = ( id ( C112 * ) );
L1941: (for B112 , B113 being set holds ([ B112 , B113 ] in D137 iff [ B112 , B113 ] in D138))
proof
let C113 , C114 being set;
thus L1942: ([ C113 , C114 ] in D137 implies [ C113 , C114 ] in D138)
proof
assume L1943: [ C113 , C114 ] in D137;
reconsider D139 = C113 , D140 = C114 as (Element of ( C112 * )) by L1943 , ZFMISC_1:87;
L1944:
now
let C115 being Nat;
assume L1945: C115 in ( dom D139 );
L1946: [ ( D139 . C115 ) , ( D140 . C115 ) ] in ( id C112 ) by L1945 , L1943 , L1921;
thus L1947: ( D139 . C115 ) = ( D140 . C115 ) by L1946 , RELAT_1:def 10;
end;
L1948: ( len D139 ) = ( len D140 ) by L1943 , L1921;
L1949: D139 = D140 by L1948 , L1944 , FINSEQ_2:9;
thus L1950: thesis by L1949 , RELAT_1:def 10;
end;

assume L1951: [ C113 , C114 ] in D138;
reconsider D141 = C113 , D142 = C114 as (Element of ( C112 * )) by L1951 , ZFMISC_1:87;
L1952: D141 = D142 by L1951 , RELAT_1:def 10;
L1953: (for R22 being (Element of ( NAT )) holds (R22 in ( dom D141 ) implies [ ( D141 . R22 ) , ( D142 . R22 ) ] in ( id C112 )))
proof
let R22 being (Element of ( NAT ));
assume L1954: R22 in ( dom D141 );
L1955: ( D141 . R22 ) in C112 by L1954 , FINSEQ_2:11;
thus L1956: thesis by L1955 , L1952 , RELAT_1:def 10;
end;
L1957: ( len D141 ) = ( len D142 ) by L1951 , RELAT_1:def 10;
thus L1958: thesis by L1957 , L1953 , L1921;
end;
thus L1959: thesis by L1941 , RELAT_1:def 2;
end;
definition
let C116 being non  empty set;
let C117 being (Equivalence_Relation of C116);
let C118 being (FinSequence of ( Class C117 ));
let C119 being (FinSequence of C116);
pred C119 is_representatives_FS C118
means
(( len C119 ) = ( len C118 ) & (for R22 being (Element of ( NAT )) holds (R22 in ( dom C119 ) implies ( Class (C117 , ( C119 . R22 )) ) = ( C118 . R22 ))))
;end;
theorem
L1961: (for B114 being non  empty set holds (for B115 being (Equivalence_Relation of B114) holds (for B116 being (FinSequence of ( Class B115 )) holds (ex B117 being (FinSequence of B114) st B117 is_representatives_FS B116))))
proof
let C120 being non  empty set;
let C121 being (Equivalence_Relation of C120);
let C122 being (FinSequence of ( Class C121 ));
defpred S10[ set , set ] means (for B118 being (Element of C120) holds ($2 = B118 implies ( Class (C121 , B118) ) = ( C122 . $1 )));
L1962: (for B119 being set holds (B119 in ( dom C122 ) implies (ex B120 being set st (B120 in C120 & S10[ B119 , B120 ]))))
proof
let C123 being set;
assume L1963: C123 in ( dom C122 );
L1964: ( C122 . C123 ) in ( rng C122 ) by L1963 , FUNCT_1:def 3;
consider C124 being (Element of C120) such that L1965: ( C122 . C123 ) = ( Class (C121 , C124) ) by L1964 , EQREL_1:36;
reconsider D143 = C124 as set;
take D143;
thus L1966: D143 in C120;
let C125 being (Element of C120);
assume L1967: D143 = C125;
thus L1968: thesis by L1967 , L1965;
end;
consider C126 being Function such that L1969: (( dom C126 ) = ( dom C122 ) & ( rng C126 ) c= C120 & (for B121 being set holds (B121 in ( dom C122 ) implies S10[ B121 , ( C126 . B121 ) ]))) from FUNCT_1:sch 5(L1962);
L1970: ( dom C126 ) = ( Seg ( len C122 ) ) by L1969 , FINSEQ_1:def 3;
reconsider D144 = C126 as FinSequence by L1970 , FINSEQ_1:def 2;
reconsider D145 = D144 as (FinSequence of C120) by L1969 , FINSEQ_1:def 4;
take D145;
thus L1971: ( len D145 ) = ( len C122 ) by L1969 , L146;
let R22 being (Element of ( NAT ));
assume L1972: R22 in ( dom D145 );
L1973: ( D145 . R22 ) in ( rng D145 ) by L1972 , FUNCT_1:def 3;
reconsider D146 = ( D145 . R22 ) as (Element of C120) by L1973;
L1974: ( Class (C121 , D146) ) = ( C122 . R22 ) by L1969 , L1972;
thus L1975: thesis by L1974;
end;
theorem
L1976: (for R23 being set holds (for R30 being set holds (R23 in ( product <* R30 *> ) iff (ex R24 being set st (R24 in R30 & R23 = <* R24 *>)))))
proof
let R23 being set;
let R30 being set;
L1977: ( dom <* R30 *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
L1978: ( <* R30 *> . 1 ) = R30 by FINSEQ_1:def 8;
L1979: 1 in ( Seg 1 ) by FINSEQ_1:2 , TARSKI:def 1;
thus L1980: (R23 in ( product <* R30 *> ) implies (ex R24 being set st (R24 in R30 & R23 = <* R24 *>)))
proof
assume L1981: R23 in ( product <* R30 *> );
consider R35 being Function such that L1982: R23 = R35 and L1983: ( dom R35 ) = ( dom <* R30 *> ) and L1984: (for R23 being set holds (R23 in ( dom <* R30 *> ) implies ( R35 . R23 ) in ( <* R30 *> . R23 ))) by L1981 , CARD_3:def 5;
reconsider D147 = R35 as FinSequence by L1977 , L1983 , FINSEQ_1:def 2;
take ( D147 . 1 );
thus L1985: thesis by L1977 , L1979 , L1978 , L1982 , L1983 , L1984 , FINSEQ_1:def 8;
end;

given R24 being set such that
L1986: R24 in R30
and
L1987: R23 = <* R24 *>;

L1988:
now
let R28 being set;
assume L1989: R28 in ( Seg 1 );
L1990: R28 = 1 by L1989 , FINSEQ_1:2 , TARSKI:def 1;
thus L1991: ( <* R24 *> . R28 ) in ( <* R30 *> . R28 ) by L1990 , L1978 , L1986 , FINSEQ_1:def 8;
end;
L1992: ( dom <* R24 *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
thus L1993: thesis by L1992 , L1977 , L1987 , L1988 , CARD_3:def 5;
end;
theorem
L1994: (for R27 being set holds (for R30 being set holds (for R31 being set holds (R27 in ( product <* R30 , R31 *> ) iff (ex R23 being set st (ex R24 being set st (R23 in R30 & R24 in R31 & R27 = <* R23 , R24 *>)))))))
proof
let R27 being set;
let R30 being set;
let R31 being set;
L1995: (( <* R30 , R31 *> . 1 ) = R30 & ( <* R30 , R31 *> . 2 ) = R31) by FINSEQ_1:44;
L1996: ( len <* R30 , R31 *> ) = 2 by FINSEQ_1:44;
L1997: ( dom <* R30 , R31 *> ) = ( Seg 2 ) by L1996 , FINSEQ_1:def 3;
L1998: (1 in ( Seg 2 ) & 2 in ( Seg 2 )) by FINSEQ_1:2 , TARSKI:def 2;
thus L1999: (R27 in ( product <* R30 , R31 *> ) implies (ex R23 being set st (ex R24 being set st (R23 in R30 & R24 in R31 & R27 = <* R23 , R24 *>))))
proof
assume L2000: R27 in ( product <* R30 , R31 *> );
consider R35 being Function such that L2001: R27 = R35 and L2002: ( dom R35 ) = ( dom <* R30 , R31 *> ) and L2003: (for R23 being set holds (R23 in ( dom <* R30 , R31 *> ) implies ( R35 . R23 ) in ( <* R30 , R31 *> . R23 ))) by L2000 , CARD_3:def 5;
reconsider D148 = R35 as FinSequence by L1997 , L2002 , FINSEQ_1:def 2;
take ( D148 . 1 );
take ( D148 . 2 );
L2004: ( len D148 ) = 2 by L1997 , L2002 , FINSEQ_1:def 3;
thus L2005: thesis by L2004 , L1997 , L1998 , L1995 , L2001 , L2003 , FINSEQ_1:44;
end;

given R23 being set , R24 being set such that
L2006: (R23 in R30 & R24 in R31)
and
L2007: R27 = <* R23 , R24 *>;

L2008:
now
let R28 being set;
assume L2009: R28 in ( Seg 2 );
L2010: (R28 = 1 or R28 = 2) by L2009 , FINSEQ_1:2 , TARSKI:def 2;
thus L2011: ( <* R23 , R24 *> . R28 ) in ( <* R30 , R31 *> . R28 ) by L2010 , L1995 , L2006 , FINSEQ_1:44;
end;
L2012: ( len <* R23 , R24 *> ) = 2 by FINSEQ_1:44;
L2013: ( dom <* R23 , R24 *> ) = ( Seg 2 ) by L2012 , FINSEQ_1:def 3;
thus L2014: thesis by L2013 , L1997 , L2007 , L2008 , CARD_3:def 5;
end;
theorem
L2015: (for R28 being set holds (for R30 being set holds (for R31 being set holds (for R32 being set holds (R28 in ( product <* R30 , R31 , R32 *> ) iff (ex R23 being set st (ex R24 being set st (ex R27 being set st (R23 in R30 & R24 in R31 & R27 in R32 & R28 = <* R23 , R24 , R27 *>)))))))))
proof
let R28 being set;
let R30 being set;
let R31 being set;
let R32 being set;
L2016: 3 in ( Seg 3 ) by L1 , ENUMSET1:def 1;
L2017: (( <* R30 , R31 , R32 *> . 1 ) = R30 & ( <* R30 , R31 , R32 *> . 2 ) = R31) by FINSEQ_1:45;
L2018: ( <* R30 , R31 , R32 *> . 3 ) = R32 by FINSEQ_1:45;
L2019: ( len <* R30 , R31 , R32 *> ) = 3 by FINSEQ_1:45;
L2020: ( dom <* R30 , R31 , R32 *> ) = ( Seg 3 ) by L2019 , FINSEQ_1:def 3;
L2021: (1 in ( Seg 3 ) & 2 in ( Seg 3 )) by L1 , ENUMSET1:def 1;
thus L2022: (R28 in ( product <* R30 , R31 , R32 *> ) implies (ex R23 being set st (ex R24 being set st (ex R27 being set st (R23 in R30 & R24 in R31 & R27 in R32 & R28 = <* R23 , R24 , R27 *>)))))
proof
assume L2023: R28 in ( product <* R30 , R31 , R32 *> );
consider R35 being Function such that L2024: R28 = R35 and L2025: ( dom R35 ) = ( dom <* R30 , R31 , R32 *> ) and L2026: (for R23 being set holds (R23 in ( dom <* R30 , R31 , R32 *> ) implies ( R35 . R23 ) in ( <* R30 , R31 , R32 *> . R23 ))) by L2023 , CARD_3:def 5;
reconsider D149 = R35 as FinSequence by L2020 , L2025 , FINSEQ_1:def 2;
take ( D149 . 1 );
take ( D149 . 2 );
take ( D149 . 3 );
L2027: ( len D149 ) = 3 by L2020 , L2025 , FINSEQ_1:def 3;
thus L2028: thesis by L2027 , L2020 , L2021 , L2016 , L2017 , L2018 , L2024 , L2026 , FINSEQ_1:45;
end;

given R23 being set , R24 being set , R27 being set such that
L2029: (R23 in R30 & R24 in R31 & R27 in R32)
and
L2030: R28 = <* R23 , R24 , R27 *>;

L2031:
now
let R28 being set;
assume L2032: R28 in ( Seg 3 );
L2033: (R28 = 1 or R28 = 2 or R28 = 3) by L2032 , L1 , ENUMSET1:def 1;
thus L2034: ( <* R23 , R24 , R27 *> . R28 ) in ( <* R30 , R31 , R32 *> . R28 ) by L2033 , L2017 , L2018 , L2029 , FINSEQ_1:45;
end;
L2035: ( len <* R23 , R24 , R27 *> ) = 3 by FINSEQ_1:45;
L2036: ( dom <* R23 , R24 , R27 *> ) = ( Seg 3 ) by L2035 , FINSEQ_1:def 3;
thus L2037: thesis by L2036 , L2020 , L2030 , L2031 , CARD_3:def 5;
end;
theorem
L2038: (for R43 being non  empty set holds ( product <* R43 *> ) = ( 1 -tuples_on R43 ))
proof
let R43 being non  empty set;
L2039: <* R43 *> = ( 1 |-> R43 ) by FINSEQ_2:59
.= ( ( Seg 1 ) --> R43 );
L2040: ( product <* R43 *> ) = ( Funcs (( Seg 1 ) , R43) ) by L2039 , CARD_3:11;
thus L2041: thesis by L2040 , FINSEQ_2:93;
end;
theorem
L2042: (for R44 being non  empty set holds (for R45 being non  empty set holds ( product <* R44 , R45 *> ) = { <* R47 , R48 *> where R47 is (Element of R44) , R48 is (Element of R45) : (not contradiction) }))
proof
let R44 being non  empty set;
let R45 being non  empty set;
thus L2043: ( product <* R44 , R45 *> ) c= { <* R47 , R48 *> where R47 is (Element of R44) , R48 is (Element of R45) : (not contradiction) }
proof
let R28 being set;
assume L2044: R28 in ( product <* R44 , R45 *> );
L2045: (ex R23 being set st (ex R24 being set st (R23 in R44 & R24 in R45 & R28 = <* R23 , R24 *>))) by L2044 , L1994;
thus L2046: thesis by L2045;
end;

let R28 being set;
assume L2047: R28 in { <* R47 , R48 *> where R47 is (Element of R44) , R48 is (Element of R45) : (not contradiction) };
L2048: (ex R47 being (Element of R44) st (ex R48 being (Element of R45) st R28 = <* R47 , R48 *>)) by L2047;
thus L2049: thesis by L2048 , L1994;
end;
theorem
L2050: (for R43 being non  empty set holds ( product <* R43 , R43 *> ) = ( 2 -tuples_on R43 ))
proof
let R43 being non  empty set;
thus L2051: ( product <* R43 , R43 *> ) = { <* B122 , B123 *> where B122 is (Element of R43) , B123 is (Element of R43) : (not contradiction) } by L2042
.= ( 2 -tuples_on R43 ) by FINSEQ_2:99;
end;
theorem
L2052: (for R44 being non  empty set holds (for R45 being non  empty set holds (for R46 being non  empty set holds ( product <* R44 , R45 , R46 *> ) = { <* R47 , R48 , R49 *> where R47 is (Element of R44) , R48 is (Element of R45) , R49 is (Element of R46) : (not contradiction) })))
proof
let R44 being non  empty set;
let R45 being non  empty set;
let R46 being non  empty set;
thus L2053: ( product <* R44 , R45 , R46 *> ) c= { <* R47 , R48 , R49 *> where R47 is (Element of R44) , R48 is (Element of R45) , R49 is (Element of R46) : (not contradiction) }
proof
let R28 being set;
assume L2054: R28 in ( product <* R44 , R45 , R46 *> );
L2055: (ex R23 being set st (ex R24 being set st (ex R27 being set st (R23 in R44 & R24 in R45 & R27 in R46 & R28 = <* R23 , R24 , R27 *>)))) by L2054 , L2015;
thus L2056: thesis by L2055;
end;

let R28 being set;
assume L2057: R28 in { <* R47 , R48 , R49 *> where R47 is (Element of R44) , R48 is (Element of R45) , R49 is (Element of R46) : (not contradiction) };
L2058: (ex R47 being (Element of R44) st (ex R48 being (Element of R45) st (ex R49 being (Element of R46) st R28 = <* R47 , R48 , R49 *>))) by L2057;
thus L2059: thesis by L2058 , L2015;
end;
theorem
L2060: (for R43 being non  empty set holds ( product <* R43 , R43 , R43 *> ) = ( 3 -tuples_on R43 ))
proof
let R43 being non  empty set;
thus L2061: ( product <* R43 , R43 , R43 *> ) = { <* B124 , B125 , B126 *> where B124 is (Element of R43) , B125 is (Element of R43) , B126 is (Element of R43) : (not contradiction) } by L2052
.= ( 3 -tuples_on R43 ) by FINSEQ_2:102;
end;
theorem
L2062: (for R41 being Nat holds (for B127 being set holds ( product ( R41 |-> B127 ) ) = ( R41 -tuples_on B127 )))
proof
let R41 being Nat;
let C127 being set;
thus L2063: ( product ( R41 |-> C127 ) ) = ( product ( ( Seg R41 ) --> C127 ) )
.= ( Funcs (( Seg R41 ) , C127) ) by CARD_3:11
.= ( R41 -tuples_on C127 ) by FINSEQ_2:93;
end;
theorem
L2064: (for R35 being Function holds (( doms <* R35 *> ) = <* ( dom R35 ) *> & ( rngs <* R35 *> ) = <* ( rng R35 ) *>))
proof
let R35 being Function;
L2065: (( rng <* R35 *> ) = { R35 } & ( <* R35 *> " ( rng <* R35 *> ) ) = ( dom <* R35 *> )) by FINSEQ_1:38 , RELAT_1:134;
L2066: (( dom ( doms <* R35 *> ) ) = ( <* R35 *> " ( SubFuncs ( rng <* R35 *> ) ) ) & ( dom <* ( dom R35 ) *> ) = ( Seg 1 )) by FINSEQ_1:38 , FUNCT_6:def 2;
L2067: ( <* R35 *> . 1 ) = R35 by FINSEQ_1:40;
L2068: (( dom <* R35 *> ) = ( Seg 1 ) & ( SubFuncs { R35 } ) = { R35 }) by FINSEQ_1:38 , FUNCT_6:20;
L2069: ( <* ( rng R35 ) *> . 1 ) = ( rng R35 ) by FINSEQ_1:40;
L2070:
now
let R23 being set;
assume L2071: R23 in { 1 };
L2072: R23 = 1 by L2071 , TARSKI:def 1;
thus L2073: ( ( rngs <* R35 *> ) . R23 ) = ( <* ( rng R35 ) *> . R23 ) by L2072 , L2065 , L2067 , L2069 , L2068 , L2071 , FINSEQ_1:2 , FUNCT_6:def 3;
end;
L2074: ( <* ( dom R35 ) *> . 1 ) = ( dom R35 ) by FINSEQ_1:40;
L2075:
now
let R23 being set;
assume L2076: R23 in { 1 };
L2077: R23 = 1 by L2076 , TARSKI:def 1;
thus L2078: ( ( doms <* R35 *> ) . R23 ) = ( <* ( dom R35 ) *> . R23 ) by L2077 , L2065 , L2067 , L2074 , L2068 , L2076 , FINSEQ_1:2 , FUNCT_6:def 2;
end;
thus L2079: ( doms <* R35 *> ) = <* ( dom R35 ) *> by L2075 , L2065 , L2066 , L2068 , FINSEQ_1:2 , FUNCT_1:2;
L2080: (( dom ( rngs <* R35 *> ) ) = ( <* R35 *> " ( SubFuncs ( rng <* R35 *> ) ) ) & ( dom <* ( rng R35 ) *> ) = ( Seg 1 )) by FINSEQ_1:38 , FUNCT_6:def 3;
thus L2081: thesis by L2080 , L2065 , L2068 , L2070 , FINSEQ_1:2 , FUNCT_1:2;
end;
theorem
L2082: (for R35 being Function holds (for R36 being Function holds (( doms <* R35 , R36 *> ) = <* ( dom R35 ) , ( dom R36 ) *> & ( rngs <* R35 , R36 *> ) = <* ( rng R35 ) , ( rng R36 ) *>)))
proof
let R35 being Function;
let R36 being Function;
L2083: (( rng <* R35 , R36 *> ) = { R35 , R36 } & ( <* R35 , R36 *> " ( rng <* R35 , R36 *> ) ) = ( dom <* R35 , R36 *> )) by FINSEQ_2:127 , RELAT_1:134;
L2084: (( dom ( doms <* R35 , R36 *> ) ) = ( <* R35 , R36 *> " ( SubFuncs ( rng <* R35 , R36 *> ) ) ) & ( dom <* ( dom R35 ) , ( dom R36 ) *> ) = ( Seg 2 )) by FINSEQ_1:89 , FUNCT_6:def 2;
L2085: (( <* R35 , R36 *> . 1 ) = R35 & ( <* R35 , R36 *> . 2 ) = R36) by FINSEQ_1:44;
L2086: (( dom <* R35 , R36 *> ) = ( Seg 2 ) & ( SubFuncs { R35 , R36 } ) = { R35 , R36 }) by FINSEQ_1:89 , FUNCT_6:20;
L2087: (( <* ( rng R35 ) , ( rng R36 ) *> . 1 ) = ( rng R35 ) & ( <* ( rng R35 ) , ( rng R36 ) *> . 2 ) = ( rng R36 )) by FINSEQ_1:44;
L2088:
now
let R23 being set;
assume L2089: R23 in { 1 , 2 };
L2090: (R23 = 1 or R23 = 2) by L2089 , TARSKI:def 2;
thus L2091: ( ( rngs <* R35 , R36 *> ) . R23 ) = ( <* ( rng R35 ) , ( rng R36 ) *> . R23 ) by L2090 , L2083 , L2085 , L2087 , L2086 , L2089 , FINSEQ_1:2 , FUNCT_6:def 3;
end;
L2092: (( <* ( dom R35 ) , ( dom R36 ) *> . 1 ) = ( dom R35 ) & ( <* ( dom R35 ) , ( dom R36 ) *> . 2 ) = ( dom R36 )) by FINSEQ_1:44;
L2093:
now
let R23 being set;
assume L2094: R23 in { 1 , 2 };
L2095: (R23 = 1 or R23 = 2) by L2094 , TARSKI:def 2;
thus L2096: ( ( doms <* R35 , R36 *> ) . R23 ) = ( <* ( dom R35 ) , ( dom R36 ) *> . R23 ) by L2095 , L2083 , L2085 , L2092 , L2086 , L2094 , FINSEQ_1:2 , FUNCT_6:def 2;
end;
thus L2097: ( doms <* R35 , R36 *> ) = <* ( dom R35 ) , ( dom R36 ) *> by L2093 , L2083 , L2084 , L2086 , FINSEQ_1:2 , FUNCT_1:2;
L2098: (( dom ( rngs <* R35 , R36 *> ) ) = ( <* R35 , R36 *> " ( SubFuncs ( rng <* R35 , R36 *> ) ) ) & ( dom <* ( rng R35 ) , ( rng R36 ) *> ) = ( Seg 2 )) by FINSEQ_1:89 , FUNCT_6:def 3;
thus L2099: thesis by L2098 , L2083 , L2086 , L2088 , FINSEQ_1:2 , FUNCT_1:2;
end;
theorem
L2100: (for R35 being Function holds (for R36 being Function holds (for R37 being Function holds (( doms <* R35 , R36 , R37 *> ) = <* ( dom R35 ) , ( dom R36 ) , ( dom R37 ) *> & ( rngs <* R35 , R36 , R37 *> ) = <* ( rng R35 ) , ( rng R36 ) , ( rng R37 ) *>))))
proof
let R35 being Function;
let R36 being Function;
let R37 being Function;
L2101: (( rng <* R35 , R36 , R37 *> ) = { R35 , R36 , R37 } & ( <* R35 , R36 , R37 *> " ( rng <* R35 , R36 , R37 *> ) ) = ( dom <* R35 , R36 , R37 *> )) by FINSEQ_2:128 , RELAT_1:134;
L2102: ( <* ( rng R35 ) , ( rng R36 ) , ( rng R37 ) *> . 3 ) = ( rng R37 ) by FINSEQ_1:45;
L2103: (( <* R35 , R36 , R37 *> . 1 ) = R35 & ( <* R35 , R36 , R37 *> . 2 ) = R36) by FINSEQ_1:45;
L2104: ( <* R35 , R36 , R37 *> . 3 ) = R37 by FINSEQ_1:45;
L2105: (( dom <* R35 , R36 , R37 *> ) = ( Seg 3 ) & ( SubFuncs { R35 , R36 , R37 } ) = { R35 , R36 , R37 }) by FINSEQ_1:89 , FUNCT_6:20;
L2106: (( <* ( rng R35 ) , ( rng R36 ) , ( rng R37 ) *> . 1 ) = ( rng R35 ) & ( <* ( rng R35 ) , ( rng R36 ) , ( rng R37 ) *> . 2 ) = ( rng R36 )) by FINSEQ_1:45;
L2107:
now
let R23 being set;
assume L2108: R23 in { 1 , 2 , 3 };
L2109: (R23 = 1 or R23 = 2 or R23 = 3) by L2108 , ENUMSET1:def 1;
thus L2110: ( ( rngs <* R35 , R36 , R37 *> ) . R23 ) = ( <* ( rng R35 ) , ( rng R36 ) , ( rng R37 ) *> . R23 ) by L2109 , L2101 , L2103 , L2104 , L2106 , L2102 , L2105 , L2108 , L1 , FUNCT_6:def 3;
end;
L2111: (( dom ( doms <* R35 , R36 , R37 *> ) ) = ( <* R35 , R36 , R37 *> " ( SubFuncs ( rng <* R35 , R36 , R37 *> ) ) ) & ( dom <* ( dom R35 ) , ( dom R36 ) , ( dom R37 ) *> ) = ( Seg 3 )) by FINSEQ_1:89 , FUNCT_6:def 2;
L2112: ( <* ( dom R35 ) , ( dom R36 ) , ( dom R37 ) *> . 3 ) = ( dom R37 ) by FINSEQ_1:45;
L2113: (( <* ( dom R35 ) , ( dom R36 ) , ( dom R37 ) *> . 1 ) = ( dom R35 ) & ( <* ( dom R35 ) , ( dom R36 ) , ( dom R37 ) *> . 2 ) = ( dom R36 )) by FINSEQ_1:45;
L2114:
now
let R23 being set;
assume L2115: R23 in { 1 , 2 , 3 };
L2116: (R23 = 1 or R23 = 2 or R23 = 3) by L2115 , ENUMSET1:def 1;
thus L2117: ( ( doms <* R35 , R36 , R37 *> ) . R23 ) = ( <* ( dom R35 ) , ( dom R36 ) , ( dom R37 ) *> . R23 ) by L2116 , L2101 , L2103 , L2104 , L2113 , L2112 , L2105 , L2115 , L1 , FUNCT_6:def 2;
end;
thus L2118: ( doms <* R35 , R36 , R37 *> ) = <* ( dom R35 ) , ( dom R36 ) , ( dom R37 ) *> by L2114 , L2101 , L2111 , L2105 , L1 , FUNCT_1:2;
L2119: (( dom ( rngs <* R35 , R36 , R37 *> ) ) = ( <* R35 , R36 , R37 *> " ( SubFuncs ( rng <* R35 , R36 , R37 *> ) ) ) & ( dom <* ( rng R35 ) , ( rng R36 ) , ( rng R37 ) *> ) = ( Seg 3 )) by FINSEQ_1:89 , FUNCT_6:def 3;
thus L2120: thesis by L2119 , L2101 , L2105 , L2107 , L1 , FUNCT_1:2;
end;
theorem
L2121: (for R30 being set holds (( Union <* R30 *> ) = R30 & ( meet <* R30 *> ) = R30))
proof
let R30 being set;
thus L2122: ( Union <* R30 *> ) = ( union ( rng <* R30 *> ) )
.= ( union { R30 } ) by FINSEQ_1:38
.= R30 by ZFMISC_1:25;
thus L2123: ( meet <* R30 *> ) = ( meet { R30 } ) by FINSEQ_1:38
.= R30 by SETFAM_1:10;
end;
theorem
L2124: (for R30 being set holds (for R31 being set holds (( Union <* R30 , R31 *> ) = ( R30 \/ R31 ) & ( meet <* R30 , R31 *> ) = ( R30 /\ R31 ))))
proof
let R30 being set;
let R31 being set;
thus L2125: ( Union <* R30 , R31 *> ) = ( union ( rng <* R30 , R31 *> ) )
.= ( union { R30 , R31 } ) by FINSEQ_2:127
.= ( R30 \/ R31 ) by ZFMISC_1:75;
thus L2126: ( meet <* R30 , R31 *> ) = ( meet { R30 , R31 } ) by FINSEQ_2:127
.= ( R30 /\ R31 ) by SETFAM_1:11;
end;
theorem
L2127: (for R30 being set holds (for R31 being set holds (for R32 being set holds (( Union <* R30 , R31 , R32 *> ) = ( ( R30 \/ R31 ) \/ R32 ) & ( meet <* R30 , R31 , R32 *> ) = ( ( R30 /\ R31 ) /\ R32 )))))
proof
let R30 being set;
let R31 being set;
let R32 being set;
L2128: (( union ( { R30 , R31 } \/ { R32 } ) ) = ( ( union { R30 , R31 } ) \/ ( union { R32 } ) ) & ( union { R30 , R31 } ) = ( R30 \/ R31 )) by ZFMISC_1:75 , ZFMISC_1:78;
L2129: ( union { R32 } ) = R32 by ZFMISC_1:25;
L2130: ( { R30 , R31 } \/ { R32 } ) = { R30 , R31 , R32 } by ENUMSET1:3;
thus L2131: ( Union <* R30 , R31 , R32 *> ) = ( union ( rng <* R30 , R31 , R32 *> ) )
.= ( ( R30 \/ R31 ) \/ R32 ) by L2128 , L2129 , L2130 , FINSEQ_2:128;
L2132: ( meet { R32 } ) = R32 by SETFAM_1:10;
L2133: (( meet ( { R30 , R31 } \/ { R32 } ) ) = ( ( meet { R30 , R31 } ) /\ ( meet { R32 } ) ) & ( meet { R30 , R31 } ) = ( R30 /\ R31 )) by SETFAM_1:9 , SETFAM_1:11;
thus L2134: thesis by L2133 , L2132 , L2130 , FINSEQ_2:128;
end;
theorem
L2135: (for R23 being set holds (for R35 being Function holds (for R36 being Function holds (for R37 being Function holds (R23 in ( dom R35 ) implies (( <* R35 *> .. (1 , R23) ) = ( R35 . R23 ) & ( <* R35 , R36 *> .. (1 , R23) ) = ( R35 . R23 ) & ( <* R35 , R36 , R37 *> .. (1 , R23) ) = ( R35 . R23 )))))))
proof
let R23 being set;
let R35 being Function;
let R36 being Function;
let R37 being Function;
L2136: (( <* R35 , R36 , R37 *> . 1 ) = R35 & 1 in ( Seg 1 )) by FINSEQ_1:2 , FINSEQ_1:45 , TARSKI:def 1;
L2137: (( dom <* R35 *> ) = ( Seg 1 ) & ( dom <* R35 , R36 *> ) = ( Seg 2 )) by FINSEQ_1:89;
L2138: (1 in ( Seg 2 ) & 1 in ( Seg 3 )) by L1 , ENUMSET1:def 1 , FINSEQ_1:2 , TARSKI:def 2;
L2139: ( dom <* R35 , R36 , R37 *> ) = ( Seg 3 ) by FINSEQ_1:89;
L2140: (( <* R35 *> . 1 ) = R35 & ( <* R35 , R36 *> . 1 ) = R35) by FINSEQ_1:44 , FINSEQ_1:def 8;
thus L2141: thesis by L2140 , L2136 , L2138 , L2137 , L2139 , FUNCT_5:38;
end;
theorem
L2142: (for R23 being set holds (for R35 being Function holds (for R36 being Function holds (for R37 being Function holds (R23 in ( dom R36 ) implies (( <* R35 , R36 *> .. (2 , R23) ) = ( R36 . R23 ) & ( <* R35 , R36 , R37 *> .. (2 , R23) ) = ( R36 . R23 )))))))
proof
let R23 being set;
let R35 being Function;
let R36 being Function;
let R37 being Function;
L2143: (2 in ( Seg 2 ) & 2 in ( Seg 3 )) by L1 , ENUMSET1:def 1 , FINSEQ_1:2 , TARSKI:def 2;
L2144: (( dom <* R35 , R36 *> ) = ( Seg 2 ) & ( dom <* R35 , R36 , R37 *> ) = ( Seg 3 )) by FINSEQ_1:89;
L2145: (( <* R35 , R36 *> . 2 ) = R36 & ( <* R35 , R36 , R37 *> . 2 ) = R36) by FINSEQ_1:44 , FINSEQ_1:45;
thus L2146: thesis by L2145 , L2143 , L2144 , FUNCT_5:38;
end;
theorem
L2147: (for R23 being set holds (for R35 being Function holds (for R36 being Function holds (for R37 being Function holds (R23 in ( dom R37 ) implies ( <* R35 , R36 , R37 *> .. (3 , R23) ) = ( R37 . R23 ))))))
proof
let R23 being set;
let R35 being Function;
let R36 being Function;
let R37 being Function;
L2148: ( dom <* R35 , R36 , R37 *> ) = ( Seg 3 ) by FINSEQ_1:89;
L2149: (( <* R35 , R36 , R37 *> . 3 ) = R37 & 3 in ( Seg 3 )) by L1 , ENUMSET1:def 1 , FINSEQ_1:45;
thus L2150: thesis by L2149 , L2148 , FUNCT_5:38;
end;
theorem
L2151: (for R37 being Function holds (( dom <: <* R37 *> :> ) = ( dom R37 ) & (for R23 being set holds (R23 in ( dom R37 ) implies ( <: <* R37 *> :> . R23 ) = <* ( R37 . R23 ) *>))))
proof
let R37 being Function;
L2152: 1 in ( Seg 1 ) by FINSEQ_1:2 , TARSKI:def 1;
L2153: (( rng <: <* R37 *> :> ) c= ( product ( rngs <* R37 *> ) ) & ( rngs <* R37 *> ) = <* ( rng R37 ) *>) by L2064 , FUNCT_6:29;
thus L2154: ( dom <: <* R37 *> :> ) = ( meet ( doms <* R37 *> ) ) by FUNCT_6:29
.= ( meet <* ( dom R37 ) *> ) by L2064
.= ( dom R37 ) by L2121;
let R23 being set;
assume L2155: R23 in ( dom R37 );
L2156: ( <: <* R37 *> :> . R23 ) in ( rng <: <* R37 *> :> ) by L2155 , L2154 , FUNCT_1:def 3;
consider R36 being Function such that L2157: ( <: <* R37 *> :> . R23 ) = R36 and L2158: ( dom R36 ) = ( dom <* ( rng R37 ) *> ) and L2159: (for R24 being set holds (R24 in ( dom <* ( rng R37 ) *> ) implies ( R36 . R24 ) in ( <* ( rng R37 ) *> . R24 ))) by L2156 , L2153 , CARD_3:def 5;
L2160: ( dom R36 ) = ( Seg 1 ) by L2158 , FINSEQ_1:38;
L2161: (( dom <* R37 *> ) = ( Seg 1 ) & ( <* R37 *> . 1 ) = R37) by FINSEQ_1:38 , FINSEQ_1:40;
L2162: ( ( uncurry <* R37 *> ) . (1 , R23) ) = ( R37 . R23 ) by L2161 , L2155 , L2152 , FUNCT_5:38;
reconsider D150 = R36 as FinSequence by L2160 , FINSEQ_1:def 2;
L2163: ( len D150 ) = 1 by L2160 , FINSEQ_1:def 3;
L2164: ( D150 . 1 ) = ( ( uncurry <* R37 *> ) . (1 , R23) ) by L2154 , L2155 , L2157 , L2160 , L2152 , FUNCT_6:31;
thus L2165: thesis by L2164 , L2157 , L2162 , L2163 , FINSEQ_1:40;
end;
theorem
L2166: (for R39 being Function holds (for R40 being Function holds (( dom <: <* R39 , R40 *> :> ) = ( ( dom R39 ) /\ ( dom R40 ) ) & (for R23 being set holds (R23 in ( ( dom R39 ) /\ ( dom R40 ) ) implies ( <: <* R39 , R40 *> :> . R23 ) = <* ( R39 . R23 ) , ( R40 . R23 ) *>)))))
proof
let R39 being Function;
let R40 being Function;
L2167: ( dom <* R39 , R40 *> ) = ( Seg 2 ) by FINSEQ_1:89;
L2168: (( rng <: <* R39 , R40 *> :> ) c= ( product ( rngs <* R39 , R40 *> ) ) & ( rngs <* R39 , R40 *> ) = <* ( rng R39 ) , ( rng R40 ) *>) by L2082 , FUNCT_6:29;
thus L2169: ( dom <: <* R39 , R40 *> :> ) = ( meet ( doms <* R39 , R40 *> ) ) by FUNCT_6:29
.= ( meet <* ( dom R39 ) , ( dom R40 ) *> ) by L2082
.= ( ( dom R39 ) /\ ( dom R40 ) ) by L2124;
let R23 being set;
assume L2170: R23 in ( ( dom R39 ) /\ ( dom R40 ) );
L2171: ( <: <* R39 , R40 *> :> . R23 ) in ( rng <: <* R39 , R40 *> :> ) by L2170 , L2169 , FUNCT_1:def 3;
consider R36 being Function such that L2172: ( <: <* R39 , R40 *> :> . R23 ) = R36 and L2173: ( dom R36 ) = ( dom <* ( rng R39 ) , ( rng R40 ) *> ) and L2174: (for R24 being set holds (R24 in ( dom <* ( rng R39 ) , ( rng R40 ) *> ) implies ( R36 . R24 ) in ( <* ( rng R39 ) , ( rng R40 ) *> . R24 ))) by L2171 , L2168 , CARD_3:def 5;
L2175: ( dom R36 ) = ( Seg 2 ) by L2173 , FINSEQ_1:89;
L2176: 1 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
reconsider D151 = R36 as FinSequence by L2175 , FINSEQ_1:def 2;
L2177: 2 in ( Seg 2 ) by FINSEQ_1:2 , TARSKI:def 2;
L2178: ( D151 . 2 ) = ( ( uncurry <* R39 , R40 *> ) . (2 , R23) ) by L2177 , L2169 , L2170 , L2172 , L2175 , FUNCT_6:31;
L2179: (( <* R39 , R40 *> . 2 ) = R40 & R23 in ( dom R40 )) by L2170 , FINSEQ_1:44 , XBOOLE_0:def 4;
L2180: ( ( uncurry <* R39 , R40 *> ) . (2 , R23) ) = ( R40 . R23 ) by L2179 , L2167 , L2177 , FUNCT_5:38;
L2181: ( len D151 ) = 2 by L2175 , FINSEQ_1:def 3;
L2182: (( <* R39 , R40 *> . 1 ) = R39 & R23 in ( dom R39 )) by L2170 , FINSEQ_1:44 , XBOOLE_0:def 4;
L2183: ( ( uncurry <* R39 , R40 *> ) . (1 , R23) ) = ( R39 . R23 ) by L2182 , L2167 , L2176 , FUNCT_5:38;
L2184: ( D151 . 1 ) = ( ( uncurry <* R39 , R40 *> ) . (1 , R23) ) by L2169 , L2170 , L2172 , L2175 , L2176 , FUNCT_6:31;
thus L2185: thesis by L2184 , L2172 , L2183 , L2178 , L2180 , L2181 , FINSEQ_1:44;
end;
theorem
L2186: (for R37 being Function holds (( dom ( Frege <* R37 *> ) ) = ( product <* ( dom R37 ) *> ) & ( rng ( Frege <* R37 *> ) ) = ( product <* ( rng R37 ) *> ) & (for R23 being set holds (R23 in ( dom R37 ) implies ( ( Frege <* R37 *> ) . <* R23 *> ) = <* ( R37 . R23 ) *>))))
proof
let R37 being Function;
L2187: ( <* R37 *> . 1 ) = R37 by FINSEQ_1:def 8;
L2188: ( rngs <* R37 *> ) = <* ( rng R37 ) *> by L2064;
L2189: ( doms <* R37 *> ) = <* ( dom R37 ) *> by L2064;
thus L2190: (( dom ( Frege <* R37 *> ) ) = ( product <* ( dom R37 ) *> ) & ( rng ( Frege <* R37 *> ) ) = ( product <* ( rng R37 ) *> )) by L2189 , L2188 , FUNCT_6:38 , FUNCT_6:def 7;
let R23 being set;
assume L2191: R23 in ( dom R37 );
L2192: <* R23 *> in ( product ( doms <* R37 *> ) ) by L2191 , L2189 , L1976;
consider R35 being Function such that L2193: ( ( Frege <* R37 *> ) . <* R23 *> ) = R35 and L2194: ( dom R35 ) = ( <* R37 *> " ( SubFuncs ( rng <* R37 *> ) ) ) and L2195: (for R24 being set holds (R24 in ( dom R35 ) implies ( R35 . R24 ) = ( ( uncurry <* R37 *> ) . (R24 , ( <* R23 *> . R24 )) ))) by L2192 , FUNCT_6:def 7;
L2196: (( dom <* R37 *> ) = ( Seg 1 ) & 1 in ( Seg 1 )) by FINSEQ_1:2 , FINSEQ_1:def 8 , TARSKI:def 1;
L2197: (( dom <* ( rng R37 ) *> ) = ( Seg 1 ) & R35 in ( product ( rngs <* R37 *> ) )) by L2196 , L2187 , L2192 , L2193 , FINSEQ_1:def 8 , FUNCT_6:37;
L2198: ( dom R35 ) = ( Seg 1 ) by L2197 , L2188 , CARD_3:9;
L2199: ( <* R23 *> . 1 ) = R23 by FINSEQ_1:def 8;
reconsider D152 = R35 as FinSequence by L2198 , FINSEQ_1:def 2;
L2200: ( D152 . 1 ) = ( R37 . ( <* R23 *> . 1 ) ) by L2196 , L2187 , L2192 , L2193 , FUNCT_6:37;
thus L2201: thesis by L2200 , L2193 , L2198 , L2199 , FINSEQ_1:def 8;
end;
theorem
L2202: (for R39 being Function holds (for R40 being Function holds (( dom ( Frege <* R39 , R40 *> ) ) = ( product <* ( dom R39 ) , ( dom R40 ) *> ) & ( rng ( Frege <* R39 , R40 *> ) ) = ( product <* ( rng R39 ) , ( rng R40 ) *> ) & (for R23 being set holds (for R24 being set holds ((R23 in ( dom R39 ) & R24 in ( dom R40 )) implies ( ( Frege <* R39 , R40 *> ) . <* R23 , R24 *> ) = <* ( R39 . R23 ) , ( R40 . R24 ) *>))))))
proof
let R39 being Function;
let R40 being Function;
L2203: ( rngs <* R39 , R40 *> ) = <* ( rng R39 ) , ( rng R40 ) *> by L2082;
L2204: ( len <* ( rng R39 ) , ( rng R40 ) *> ) = 2 by FINSEQ_1:44;
L2205: ( dom <* ( rng R39 ) , ( rng R40 ) *> ) = ( Seg 2 ) by L2204 , FINSEQ_1:def 3;
L2206: ( len <* R39 , R40 *> ) = 2 by FINSEQ_1:44;
L2207: ( dom <* R39 , R40 *> ) = ( Seg 2 ) by L2206 , FINSEQ_1:def 3;
L2208: ( doms <* R39 , R40 *> ) = <* ( dom R39 ) , ( dom R40 ) *> by L2082;
thus L2209: (( dom ( Frege <* R39 , R40 *> ) ) = ( product <* ( dom R39 ) , ( dom R40 ) *> ) & ( rng ( Frege <* R39 , R40 *> ) ) = ( product <* ( rng R39 ) , ( rng R40 ) *> )) by L2208 , L2203 , FUNCT_6:38 , FUNCT_6:def 7;
let R23 being set;
let R24 being set;
assume L2210: (R23 in ( dom R39 ) & R24 in ( dom R40 ));
L2211: <* R23 , R24 *> in ( product ( doms <* R39 , R40 *> ) ) by L2210 , L2208 , L1994;
consider R35 being Function such that L2212: ( ( Frege <* R39 , R40 *> ) . <* R23 , R24 *> ) = R35 and L2213: ( dom R35 ) = ( <* R39 , R40 *> " ( SubFuncs ( rng <* R39 , R40 *> ) ) ) and L2214: (for R27 being set holds (R27 in ( dom R35 ) implies ( R35 . R27 ) = ( ( uncurry <* R39 , R40 *> ) . (R27 , ( <* R23 , R24 *> . R27 )) ))) by L2211 , FUNCT_6:def 7;
L2215: (( <* R23 , R24 *> . 1 ) = R23 & ( <* R23 , R24 *> . 2 ) = R24) by FINSEQ_1:44;
L2216: (1 in ( Seg 2 ) & ( <* R39 , R40 *> . 1 ) = R39) by FINSEQ_1:2 , FINSEQ_1:44 , TARSKI:def 2;
L2217: R35 in ( product ( rngs <* R39 , R40 *> ) ) by L2216 , L2207 , L2211 , L2212 , FUNCT_6:37;
L2218: ( dom R35 ) = ( Seg 2 ) by L2217 , L2203 , L2205 , CARD_3:9;
reconsider D153 = R35 as FinSequence by L2218 , FINSEQ_1:def 2;
L2219: (2 in ( Seg 2 ) & ( <* R39 , R40 *> . 2 ) = R40) by FINSEQ_1:2 , FINSEQ_1:44 , TARSKI:def 2;
L2220: ( D153 . 2 ) = ( R40 . ( <* R23 , R24 *> . 2 ) ) by L2219 , L2207 , L2211 , L2212 , FUNCT_6:37;
L2221: ( len D153 ) = 2 by L2218 , FINSEQ_1:def 3;
L2222: ( D153 . 1 ) = ( R39 . ( <* R23 , R24 *> . 1 ) ) by L2207 , L2216 , L2211 , L2212 , FUNCT_6:37;
thus L2223: thesis by L2222 , L2212 , L2220 , L2221 , L2215 , FINSEQ_1:44;
end;
theorem
L2224: (for R23 being set holds (for R39 being Function holds (for R40 being Function holds ((R23 in ( dom R39 ) & R23 in ( dom R40 )) implies (for R25 being set holds (for R26 being set holds (( <: R39 , R40 :> . R23 ) = [ R25 , R26 ] iff ( <: <* R39 , R40 *> :> . R23 ) = <* R25 , R26 *>)))))))
proof
let R23 being set;
let R39 being Function;
let R40 being Function;
L2225: (( <* ( R39 . R23 ) , ( R40 . R23 ) *> . 1 ) = ( R39 . R23 ) & ( <* ( R39 . R23 ) , ( R40 . R23 ) *> . 2 ) = ( R40 . R23 )) by FINSEQ_1:44;
assume L2226: (R23 in ( dom R39 ) & R23 in ( dom R40 ));
L2227: R23 in ( ( dom R39 ) /\ ( dom R40 ) ) by L2226 , XBOOLE_0:def 4;
let R25 being set;
let R26 being set;
L2228: (( <* R25 , R26 *> . 1 ) = R25 & ( <* R25 , R26 *> . 2 ) = R26) by FINSEQ_1:44;
L2229: ([ ( R39 . R23 ) , ( R40 . R23 ) ] = [ R25 , R26 ] iff (( R39 . R23 ) = R25 & ( R40 . R23 ) = R26)) by XTUPLE_0:1;
thus L2230: thesis by L2229 , L2227 , L2225 , L2228 , L2166 , FUNCT_3:48;
end;
theorem
L2231: (for R23 being set holds (for R24 being set holds (for R39 being Function holds (for R40 being Function holds ((R23 in ( dom R39 ) & R24 in ( dom R40 )) implies (for R25 being set holds (for R26 being set holds (( [: R39 , R40 :] . (R23 , R24) ) = [ R25 , R26 ] iff ( ( Frege <* R39 , R40 *> ) . <* R23 , R24 *> ) = <* R25 , R26 *>))))))))
proof
let R23 being set;
let R24 being set;
let R39 being Function;
let R40 being Function;
assume L2232: (R23 in ( dom R39 ) & R24 in ( dom R40 ));
let R25 being set;
let R26 being set;
L2233: (( <* ( R39 . R23 ) , ( R40 . R24 ) *> . 1 ) = ( R39 . R23 ) & ( <* ( R39 . R23 ) , ( R40 . R24 ) *> . 2 ) = ( R40 . R24 )) by FINSEQ_1:44;
L2234: (( <* R25 , R26 *> . 1 ) = R25 & ( <* R25 , R26 *> . 2 ) = R26) by FINSEQ_1:44;
L2235: ([ ( R39 . R23 ) , ( R40 . R24 ) ] = [ R25 , R26 ] iff (( R39 . R23 ) = R25 & ( R40 . R24 ) = R26)) by XTUPLE_0:1;
thus L2236: thesis by L2235 , L2232 , L2233 , L2234 , L2202 , FUNCT_3:def 8;
end;
theorem
L2237: (for R30 being set holds (for R31 being set holds ( Funcs (<* R30 *> , R31) ) = <* ( Funcs (R30 , R31) ) *>))
proof
let R30 being set;
let R31 being set;
L2238: ( dom <* R30 *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
L2239: ( dom ( Funcs (<* R30 *> , R31) ) ) = ( dom <* R30 *> ) by FUNCT_6:def 8;
reconsider D154 = ( Funcs (<* R30 *> , R31) ) as FinSequence by L2239 , L2238 , FINSEQ_1:def 2;
L2240: (( <* R30 *> . 1 ) = R30 & 1 in ( Seg 1 )) by FINSEQ_1:2 , FINSEQ_1:def 8 , TARSKI:def 1;
L2241: ( D154 . 1 ) = ( Funcs (R30 , R31) ) by L2240 , L2238 , FUNCT_6:def 8;
thus L2242: thesis by L2241 , L2239 , L2238 , FINSEQ_1:def 8;
end;
theorem
L2243: (for R30 being set holds (for R31 being set holds (for R32 being set holds ( Funcs (<* R30 , R31 *> , R32) ) = <* ( Funcs (R30 , R32) ) , ( Funcs (R31 , R32) ) *>)))
proof
let R30 being set;
let R31 being set;
let R32 being set;
L2244: ( Seg ( len <* R30 , R31 *> ) ) = ( dom <* R30 , R31 *> ) by FINSEQ_1:def 3;
L2245: ( dom ( Funcs (<* R30 , R31 *> , R32) ) ) = ( dom <* R30 , R31 *> ) by FUNCT_6:def 8;
reconsider D155 = ( Funcs (<* R30 , R31 *> , R32) ) as FinSequence by L2245 , L2244 , FINSEQ_1:def 2;
L2246: ( len <* R30 , R31 *> ) = 2 by FINSEQ_1:44;
L2247: ( len D155 ) = 2 by L2246 , L2245 , L2244 , FINSEQ_1:def 3;
L2248: (( <* R30 , R31 *> . 2 ) = R31 & 2 in ( Seg 2 )) by FINSEQ_1:2 , FINSEQ_1:44 , TARSKI:def 2;
L2249: ( D155 . 2 ) = ( Funcs (R31 , R32) ) by L2248 , L2246 , L2244 , FUNCT_6:def 8;
L2250: (( <* R30 , R31 *> . 1 ) = R30 & 1 in ( Seg 2 )) by FINSEQ_1:2 , FINSEQ_1:44 , TARSKI:def 2;
L2251: ( D155 . 1 ) = ( Funcs (R30 , R32) ) by L2250 , L2246 , L2244 , FUNCT_6:def 8;
thus L2252: thesis by L2251 , L2247 , L2249 , FINSEQ_1:44;
end;
theorem
L2253: (for R30 being set holds (for R31 being set holds ( Funcs (R30 , <* R31 *>) ) = <* ( Funcs (R30 , R31) ) *>))
proof
let R30 being set;
let R31 being set;
L2254: ( dom <* R31 *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
L2255: ( dom ( Funcs (R30 , <* R31 *>) ) ) = ( dom <* R31 *> ) by FUNCT_6:def 9;
reconsider D156 = ( Funcs (R30 , <* R31 *>) ) as FinSequence by L2255 , L2254 , FINSEQ_1:def 2;
L2256: (( <* R31 *> . 1 ) = R31 & 1 in ( Seg 1 )) by FINSEQ_1:2 , FINSEQ_1:def 8 , TARSKI:def 1;
L2257: ( D156 . 1 ) = ( Funcs (R30 , R31) ) by L2256 , L2254 , FUNCT_6:def 9;
thus L2258: thesis by L2257 , L2255 , L2254 , FINSEQ_1:def 8;
end;
theorem
L2259: (for R30 being set holds (for R31 being set holds (for R32 being set holds ( Funcs (R30 , <* R31 , R32 *>) ) = <* ( Funcs (R30 , R31) ) , ( Funcs (R30 , R32) ) *>)))
proof
let R30 being set;
let R31 being set;
let R32 being set;
L2260: ( Seg ( len <* R31 , R32 *> ) ) = ( dom <* R31 , R32 *> ) by FINSEQ_1:def 3;
L2261: ( dom ( Funcs (R30 , <* R31 , R32 *>) ) ) = ( dom <* R31 , R32 *> ) by FUNCT_6:def 9;
reconsider D157 = ( Funcs (R30 , <* R31 , R32 *>) ) as FinSequence by L2261 , L2260 , FINSEQ_1:def 2;
L2262: ( len <* R31 , R32 *> ) = 2 by FINSEQ_1:44;
L2263: ( len D157 ) = 2 by L2262 , L2261 , L2260 , FINSEQ_1:def 3;
L2264: (( <* R31 , R32 *> . 2 ) = R32 & 2 in ( Seg 2 )) by FINSEQ_1:2 , FINSEQ_1:44 , TARSKI:def 2;
L2265: ( D157 . 2 ) = ( Funcs (R30 , R32) ) by L2264 , L2262 , L2260 , FUNCT_6:def 9;
L2266: (( <* R31 , R32 *> . 1 ) = R31 & 1 in ( Seg 2 )) by FINSEQ_1:2 , FINSEQ_1:44 , TARSKI:def 2;
L2267: ( D157 . 1 ) = ( Funcs (R30 , R31) ) by L2266 , L2262 , L2260 , FUNCT_6:def 9;
thus L2268: thesis by L2267 , L2263 , L2265 , FINSEQ_1:44;
end;
theorem
L2269: (for R23 being set holds (for R24 being set holds (for B128 being FinSequence holds ((( rng B128 ) = { R23 , R24 } & ( len B128 ) = 2) implies ((( B128 . 1 ) = R23 & ( B128 . 2 ) = R24) or (( B128 . 1 ) = R24 & ( B128 . 2 ) = R23))))))
proof
let R23 being set;
let R24 being set;
let C128 being FinSequence;
assume that
L2270: ( rng C128 ) = { R23 , R24 }
and
L2271: ( len C128 ) = 2;
L2272: 2 in ( dom C128 ) by L2271 , L126;
L2273: ( C128 . 2 ) in ( rng C128 ) by L2272 , FUNCT_1:def 3;
L2274:
now
L2275: R23 in ( rng C128 ) by L2270 , TARSKI:def 2;
consider R27 being set such that L2276: R27 in ( dom C128 ) and L2277: R23 = ( C128 . R27 ) by L2275 , FUNCT_1:def 3;
reconsider D158 = R27 as (Element of ( NAT )) by L2276;
L2278: (1 <= D158 & D158 <= ( len C128 )) by L2276 , L126;
assume that
L2279: ( C128 . 1 ) = R24
and
L2280: ( C128 . 2 ) = R24;
per cases  by L2271 , L2278 , NAT_1:9;
suppose L2281: D158 = 1;

thus L2282: (( C128 . 1 ) = R23 & ( C128 . 2 ) = R24) by L2281 , L2280 , L2277;
end;
suppose L2283: D158 = ( 1 + 1 );

thus L2284: (( C128 . 1 ) = R23 & ( C128 . 2 ) = R24) by L2283 , L2279 , L2280 , L2277;
end;
end;
L2286:
now
L2287: R24 in ( rng C128 ) by L2270 , TARSKI:def 2;
consider R27 being set such that L2288: R27 in ( dom C128 ) and L2289: R24 = ( C128 . R27 ) by L2287 , FUNCT_1:def 3;
reconsider D159 = R27 as (Element of ( NAT )) by L2288;
L2290: (1 <= D159 & D159 <= ( len C128 )) by L2288 , L126;
assume that
L2291: ( C128 . 1 ) = R23
and
L2292: ( C128 . 2 ) = R23;
per cases  by L2271 , L2290 , NAT_1:9;
suppose L2293: D159 = 1;

thus L2294: (( C128 . 1 ) = R23 & ( C128 . 2 ) = R24) by L2293 , L2291 , L2292 , L2289;
end;
suppose L2295: D159 = ( 1 + 1 );

thus L2296: (( C128 . 1 ) = R23 & ( C128 . 2 ) = R24) by L2295 , L2291 , L2289;
end;
end;
L2298: 1 in ( dom C128 ) by L2271 , L126;
L2299: ( C128 . 1 ) in ( rng C128 ) by L2298 , FUNCT_1:def 3;
thus L2300: thesis by L2299 , L2270 , L2273 , L2286 , L2274 , TARSKI:def 2;
end;
theorem
L2301: (for B129 being set holds (for B130 being (Element of ( NAT )) holds (B129 c= ( Seg B130 ) implies (for B131 , B132 being (Element of ( NAT )) holds ((B131 in ( dom ( Sgm B129 ) ) & B132 = ( ( Sgm B129 ) . B131 )) implies B131 <= B132)))))
proof
let C129 being set;
let C130 being (Element of ( NAT ));
defpred S11[ Nat ] means (($1 in ( dom ( Sgm C129 ) ) & (ex B133 being (Element of ( NAT )) st (B133 = ( ( Sgm C129 ) . $1 ) & $1 <= B133))) or (not $1 in ( dom ( Sgm C129 ) )));
assume L2302: C129 c= ( Seg C130 );
L2303:
now
let C131 being non  empty Nat;
assume L2304: S11[ C131 ];
L2305:
now
per cases  by L2304;
suppose L2306: (C131 in ( dom ( Sgm C129 ) ) & (ex B134 being (Element of ( NAT )) st (B134 = ( ( Sgm C129 ) . C131 ) & C131 <= B134)));

L2307: ( C131 + ( 0 ) ) < ( C131 + 1 ) by XREAL_1:8;
consider C132 being (Element of ( NAT )) such that L2308: C132 = ( ( Sgm C129 ) . C131 ) and L2309: C131 <= C132 by L2306;
L2310: 1 <= C131 by L2306 , L126;
L2311:
now
set D160 = ( ( Sgm C129 ) . ( C131 + 1 ) );
assume L2312: ( C131 + 1 ) in ( dom ( Sgm C129 ) );
L2313: ( ( Sgm C129 ) . ( C131 + 1 ) ) in ( rng ( Sgm C129 ) ) by L2312 , FUNCT_1:3;
reconsider D161 = D160 as (Element of ( NAT )) by L2313;
take D162 = D161;
thus L2314: D162 = ( ( Sgm C129 ) . ( C131 + 1 ) );
L2315: ( C131 + 1 ) <= ( len ( Sgm C129 ) ) by L2312 , L126;
L2316: C132 < D162 by L2315 , L2302 , L2310 , L2307 , L2308 , FINSEQ_1:def 13;
L2317: C131 < D162 by L2316 , L2309 , XXREAL_0:2;
thus L2318: ( C131 + 1 ) <= D162 by L2317 , NAT_1:13;
end;
thus L2319: S11[ ( C131 + 1 ) ] by L2311;
end;
suppose L2320: (not C131 in ( dom ( Sgm C129 ) ));

L2321: (C131 < ( ( 0 ) + 1 ) or C131 > ( len ( Sgm C129 ) )) by L2320 , L126;
L2322: ( C131 + 1 ) > ( ( len ( Sgm C129 ) ) + ( 0 ) ) by L2321 , NAT_1:13;
thus L2323: S11[ ( C131 + 1 ) ] by L2322 , L126;
end;
end;
thus L2325: S11[ ( C131 + 1 ) ] by L2305;
end;
L2326: (for B135 being non  empty Nat holds (S11[ B135 ] implies S11[ ( B135 + 1 ) ])) by L2303;
let C133 , C134 being (Element of ( NAT ));
assume that
L2327: C133 in ( dom ( Sgm C129 ) )
and
L2328: C134 = ( ( Sgm C129 ) . C133 );
reconsider D163 = C133 as non  empty (Element of ( NAT )) by L2327 , L126;
L2329:
now
set D164 = ( ( Sgm C129 ) . 1 );
L2330: C133 <= ( len ( Sgm C129 ) ) by L2327 , L126;
L2331: 1 <= C133 by L2327 , L126;
L2332: 1 <= ( len ( Sgm C129 ) ) by L2331 , L2330 , XXREAL_0:2;
thus L2333: 1 in ( dom ( Sgm C129 ) ) by L2332 , L126;
L2334: ( ( Sgm C129 ) . 1 ) in ( rng ( Sgm C129 ) ) by L2333 , FUNCT_1:3;
reconsider D165 = D164 as (Element of ( NAT )) by L2334;
take D166 = D165;
thus L2335: D166 = ( ( Sgm C129 ) . 1 );
L2336: ( rng ( Sgm C129 ) ) = C129 by L2302 , FINSEQ_1:def 13;
thus L2337: 1 <= D166 by L2336 , L2302 , L2334 , FINSEQ_1:1;
end;
L2338: S11[ 1 ] by L2329;
L2339: (for B136 being non  empty Nat holds S11[ B136 ]) from NAT_1:sch 10(L2338 , L2326);
L2340: S11[ D163 ] by L2339;
thus L2341: thesis by L2340 , L2327 , L2328;
end;
registration
let C135 being Nat;
let C136 being  finite set;
cluster ( C135 -tuples_on C136 ) ->  finite;
coherence
proof
L2342:
now
let C137 being set;
assume L2343: C137 in ( dom ( C135 |-> C136 ) );
L2344: C137 in ( Seg C135 ) by L2343 , FUNCOP_1:13;
thus L2345: ( ( C135 |-> C136 ) . C137 ) is  finite by L2344 , FUNCOP_1:7;
end;
L2346: ( C135 |-> C136 ) is  finite-yielding by L2342 , FINSET_1:def 4;
L2347: ( product ( C135 |-> C136 ) ) = ( C135 -tuples_on C136 ) by L2062;
thus L2348: thesis by L2347 , L2346;
end;
end;
