:: Kolmogorov's Zero-one Law
::  by Agnes Doll
::
:: Received November 4, 2008
:: Copyright (c) 2008-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, PROB_1, SETFAM_1, SUBSET_1, RPR_1, FUNCT_1,
      TARSKI, RELAT_1, REAL_1, CARD_1, ARYTM_1, CARD_3, PROB_3, NAT_1, ARYTM_3,
      ZFMISC_1, PROB_2, XREAL_0, ORDINAL1, DYNKIN, VALUED_1, XXREAL_0,
      SERIES_1, ORDINAL2, FUNCOP_1, FINSEQ_1, FINSET_1, FINSUB_1, SETWISEO,
      ORDINAL4, EQREL_1, KOLMOG01;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, REAL_1, ORDINAL1, XCMPLX_0,
      XXREAL_0, NAT_1, XREAL_0, NUMBERS, FINSET_1, DYNKIN, FINSUB_1, RELAT_1,
      CARD_3, SEQ_2, SETFAM_1, FUNCT_1, RELSET_1, VALUED_1, FINSEQ_1, RVSUM_1,
      PARTFUN1, FUNCT_2, PROB_3, SERIES_1, FUNCOP_1, SETWISEO, FINSEQOP,
      KURATO_0, PROB_1, PROB_2;
 constructors SEQ_2, DYNKIN, REAL_1, SEQ_1, PROB_3, SERIES_1, KURATO_0,
      RINFSUP1, SETFAM_1, BINOP_2, RVSUM_1, WELLORD2, FINSEQOP, SETWISEO,
      RELSET_1, MEASURE1, COMSEQ_2;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, VALUED_1, RELSET_1, NUMBERS,
      XREAL_0, MEMBERED, PROB_1, RELAT_1, FINSET_1, FINSEQ_1, FINSUB_1,
      FUNCT_1, FUNCT_2, VALUED_0, PROB_3;
 requirements SUBSET, NUMERALS, BOOLE, ARITHM;
 definitions PROB_1, SUBSET_1, TARSKI, XBOOLE_0, PROB_3, CARD_3;
 theorems XCMPLX_1, PROB_1, TARSKI, SUBSET_1, XBOOLE_0, DYNKIN, ZFMISC_1,
      PROB_2, XBOOLE_1, SERIES_1, PROB_3, PROB_4, FUNCT_1, FUNCT_2, SEQ_1,
      SEQ_2, RELAT_1, SETFAM_1, CARD_5, FINSUB_1, FINSEQ_1, FINSEQ_2, FINSEQ_3,
      RVSUM_1, ORDINAL1, WELLORD2, FINSEQOP, NAT_1, VALUED_0, FUNCOP_1,
      RELSET_1;
 schemes NAT_1, XBOOLE_0, SETWISEO, PARTFUN1, FUNCT_2;

begin
theorem
L1: (for B1 being Function holds (for B2 being set holds (B2 c= ( dom B1 ) implies (B2 <> ( {} ) implies ( rng ( B1 | B2 ) ) <> ( {} )))))
proof
let C1 being Function;
let C2 being set;
assume L2: C2 c= ( dom C1 );
set D1 = the (Element of C2);
assume L3: C2 <> ( {} );
L4: D1 in C2 by L3;
thus L5: thesis by L4 , L2 , FUNCT_1:50;
end;
theorem
L6: (for B3 being Real holds (( B3 * B3 ) = B3 implies (B3 = ( 0 ) or B3 = 1)))
proof
let C3 being Real;
assume L7: ( C3 * C3 ) = C3;
L8: ( C3 * ( C3 - 1 ) ) = ( 0 ) by L7;
L9: (C3 = ( 0 ) or ( C3 - 1 ) = ( 0 )) by L8 , XCMPLX_1:6;
thus L10: thesis by L9;
end;
theorem
L11: (for R1 being non  empty set holds (for B4 being (Subset-Family of R1) holds (B4 = ( {} ) implies ( sigma B4 ) = { ( {} ) , R1 })))
proof
let R1 being non  empty set;
let C4 being (Subset-Family of R1);
L12: (for B5 being (SetSequence of R1) holds (( rng B5 ) c= { ( {} ) , R1 } implies ( Union B5 ) in { ( {} ) , R1 }))
proof
let C5 being (SetSequence of R1);
assume L13: ( rng C5 ) c= { ( {} ) , R1 };
L14: (for R16 being (Element of ( NAT )) holds (( ( Partial_Union C5 ) . R16 ) = ( {} ) or ( ( Partial_Union C5 ) . R16 ) = R1))
proof
defpred S1[ Nat ] means (( ( Partial_Union C5 ) . $1 ) = ( {} ) or ( ( Partial_Union C5 ) . $1 ) = R1);
let R16 being (Element of ( NAT ));
L15: (for B6 being Nat holds (S1[ B6 ] implies S1[ ( B6 + 1 ) ]))
proof
let C6 being Nat;
assume L16: (( ( Partial_Union C5 ) . C6 ) = ( {} ) or ( ( Partial_Union C5 ) . C6 ) = R1);
reconsider D2 = C6 as (Element of ( NAT )) by ORDINAL1:def 12;
L17: ( C5 . ( D2 + 1 ) ) in ( rng C5 ) by NAT_1:51;
per cases  by L16 , PROB_3:def 2;
suppose L18: ( ( Partial_Union C5 ) . ( D2 + 1 ) ) = ( ( {} ) \/ ( C5 . ( D2 + 1 ) ) );

thus L19: thesis by L18 , L13 , L17 , TARSKI:def 2;
end;
suppose L20: ( ( Partial_Union C5 ) . ( D2 + 1 ) ) = ( R1 \/ ( C5 . ( D2 + 1 ) ) );

L21: (( C5 . ( D2 + 1 ) ) = ( {} ) or ( C5 . ( D2 + 1 ) ) = R1) by L13 , L17 , TARSKI:def 2;
thus L22: thesis by L21 , L20;
end;
end;
L24: (( ( Partial_Union C5 ) . ( 0 ) ) = ( C5 . ( 0 ) ) & ( C5 . ( 0 ) ) in ( rng C5 )) by NAT_1:51 , PROB_3:def 2;
L25: S1[ ( 0 ) ] by L24 , L13 , TARSKI:def 2;
L26: (for B7 being Nat holds S1[ B7 ]) from NAT_1:sch 2(L25 , L15);
thus L27: thesis by L26;
end;
L28: (( Union ( Partial_Union C5 ) ) = ( {} ) or ( Union ( Partial_Union C5 ) ) = R1)
proof
per cases ;
suppose L29: (for R16 being (Element of ( NAT )) holds ( ( Partial_Union C5 ) . R16 ) = ( {} ));

L30: (for R21 being set holds (not R21 in ( Union ( Partial_Union C5 ) )))
proof
let R21 being set;
assume L31: (not thesis);
L32: (ex R16 being (Element of ( NAT )) st R21 in ( ( Partial_Union C5 ) . R16 )) by L31 , PROB_1:12;
thus L33: contradiction by L32 , L29;
end;
thus L34: thesis by L30 , XBOOLE_0:def 1;
end;
suppose L35: (not (for R16 being (Element of ( NAT )) holds ( ( Partial_Union C5 ) . R16 ) = ( {} )));

consider R16 being (Element of ( NAT )) such that L36: ( ( Partial_Union C5 ) . R16 ) <> ( {} ) by L35;
L37: ( ( Partial_Union C5 ) . R16 ) = R1 by L14 , L36;
L38: (for R21 being set holds (R21 in R1 implies R21 in ( Union ( Partial_Union C5 ) ))) by L37 , PROB_1:12;
L39: R1 c= ( Union ( Partial_Union C5 ) ) by L38 , TARSKI:def 3;
thus L40: thesis by L39 , XBOOLE_0:def 10;
end;
end;
L42: (( Union C5 ) = ( {} ) or ( Union C5 ) = R1) by L28 , PROB_3:15;
thus L43: thesis by L42 , TARSKI:def 2;
end;
L44: (for B8 being (Subset of R1) holds (B8 in { ( {} ) , R1 } implies ( B8 ` ) in { ( {} ) , R1 }))
proof
let C7 being (Subset of R1);
assume L45: C7 in { ( {} ) , R1 };
L46: (C7 = ( {} ) or C7 = R1) by L45 , TARSKI:def 2;
L47: (( C7 ` ) = R1 or ( C7 ` ) = ( {} )) by L46 , XBOOLE_1:37;
thus L48: thesis by L47 , TARSKI:def 2;
end;
L49: (( {} ) in ( sigma C4 ) & R1 in ( sigma C4 )) by PROB_1:4 , PROB_1:5;
L50: (for R21 being set holds (R21 in { ( {} ) , R1 } implies R21 in ( sigma C4 ))) by L49 , TARSKI:def 2;
L51: { ( {} ) , R1 } c= ( sigma C4 ) by L50 , TARSKI:def 3;
assume L52: C4 = ( {} );
L53: C4 c= { ( {} ) , R1 } by L52 , XBOOLE_1:2;
L54: (for R21 being set holds (R21 in { ( {} ) , R1 } implies R21 in ( bool R1 )))
proof
let R21 being set;
assume L55: R21 in { ( {} ) , R1 };
L56: (R21 = ( {} ) or R21 = R1) by L55 , TARSKI:def 2;
L57: R21 c= R1 by L56 , XBOOLE_1:2;
thus L58: thesis by L57;
end;
L59: { ( {} ) , R1 } is (SigmaField of R1) by L54 , L12 , L44 , PROB_4:4 , TARSKI:def 3;
L60: ( sigma C4 ) c= { ( {} ) , R1 } by L59 , L53 , PROB_1:def 9;
thus L61: thesis by L60 , L51 , XBOOLE_0:def 10;
end;
definition
let C8 being non  empty set;
let C9 being (SigmaField of C8);
let C10 being (Subset of C9);
let C11 being (Probability of C9);
func Indep (C10 , C11) -> (Subset of C9) means 
:L62: (for B9 being (Element of C9) holds (B9 in it iff (for B10 being (Element of C10) holds ( C11 . ( B9 /\ B10 ) ) = ( ( C11 . B9 ) * ( C11 . B10 ) ))));
existence
proof
defpred S2[ set ] means (for B11 being (Element of C10) holds ( C11 . ( $1 /\ B11 ) ) = ( ( C11 . $1 ) * ( C11 . B11 ) ));
consider R20 being set such that L63: (for R21 being set holds (R21 in R20 iff (R21 in C9 & S2[ R21 ]))) from XBOOLE_0:sch 1;
L64: (for R21 being set holds (R21 in R20 implies R21 in C9)) by L63;
reconsider D3 = R20 as (Subset of C9) by L64 , TARSKI:def 3;
take D3;
let C12 being (Element of C9);
thus L65: thesis by L63;
end;
uniqueness
proof
let C13 , C14 being (Subset of C9);
assume L66: (for B12 being (Element of C9) holds (B12 in C13 iff (for B13 being (Element of C10) holds ( C11 . ( B12 /\ B13 ) ) = ( ( C11 . B12 ) * ( C11 . B13 ) ))));
assume L67: (for B14 being (Element of C9) holds (B14 in C14 iff (for B15 being (Element of C10) holds ( C11 . ( B14 /\ B15 ) ) = ( ( C11 . B14 ) * ( C11 . B15 ) ))));
L68:
now
let C15 being (Element of C9);
L69: (C15 in C13 iff (for B16 being (Element of C10) holds ( C11 . ( C15 /\ B16 ) ) = ( ( C11 . C15 ) * ( C11 . B16 ) ))) by L66;
thus L70: (C15 in C13 iff C15 in C14) by L69 , L67;
end;
thus L71: thesis by L68 , SUBSET_1:3;
end;
end;
theorem
L73: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R8 being non  empty (Subset of R3) holds (for R10 being (Element of R8) holds (for B17 being (SetSequence of R3) holds (((for R16 being (Element of ( NAT )) holds (for R10 being (Element of R8) holds ( R4 . ( ( B17 . R16 ) /\ R10 ) ) = ( ( R4 . ( B17 . R16 ) ) * ( R4 . R10 ) ))) & B17 is  disjoint_valued) implies ( R4 . ( R10 /\ ( Union B17 ) ) ) = ( ( R4 . R10 ) * ( R4 . ( Union B17 ) ) ))))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R8 being non  empty (Subset of R3);
let R10 being (Element of R8);
let C16 being (SetSequence of R3);
reconsider D4 = R10 as (Element of R3);
reconsider D5 = ( R4 . D4 ) as  real number;
L74: (for R16 being (Element of ( NAT )) holds ( ( seqIntersection (D4 , C16) ) . R16 ) is (Event of R3))
proof
let R16 being (Element of ( NAT ));
L75: ( D4 /\ ( C16 . R16 ) ) is (Event of R3);
thus L76: thesis by L75 , DYNKIN:def 1;
end;
reconsider D6 = ( seqIntersection (D4 , C16) ) as (SetSequence of R3) by L74 , PROB_1:25;
L77: (for R16 being (Element of ( NAT )) holds ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . R16 ) is (Event of R3))
proof
let R16 being (Element of ( NAT ));
L78: ( D4 /\ ( ( Partial_Union C16 ) . R16 ) ) is (Event of R3);
thus L79: thesis by L78 , DYNKIN:def 1;
end;
reconsider D7 = ( seqIntersection (D4 , ( Partial_Union C16 )) ) as (SetSequence of R3) by L77 , PROB_1:25;
L80: ( D4 /\ ( Union C16 ) ) = ( D4 /\ ( Union ( Partial_Union C16 ) ) ) by PROB_3:15
.= ( Union D7 ) by DYNKIN:10;
assume L81: (for R16 being (Element of ( NAT )) holds (for R10 being (Element of R8) holds ( R4 . ( ( C16 . R16 ) /\ R10 ) ) = ( ( R4 . ( C16 . R16 ) ) * ( R4 . R10 ) )));
L82:
now
let C17 being (Element of ( NAT ));
thus L83: ( ( R4 * D6 ) . C17 ) = ( R4 . ( D6 . C17 ) ) by FUNCT_2:15
.= ( R4 . ( ( C16 . C17 ) /\ D4 ) ) by DYNKIN:def 1
.= ( ( R4 . ( C16 . C17 ) ) * ( R4 . D4 ) ) by L81
.= ( ( ( R4 * C16 ) . C17 ) * D5 ) by FUNCT_2:15
.= ( ( D5 (#) ( R4 * C16 ) ) . C17 ) by SEQ_1:9;
end;
L84: ( R4 * D6 ) = ( D5 (#) ( R4 * C16 ) ) by L82 , FUNCT_2:def 7;
L85: (for R21 being set holds (for R16 being (Element of ( NAT )) holds (for R17 being (Element of ( NAT )) holds (R16 <= R17 implies (R21 in ( ( Partial_Union C16 ) . R16 ) implies R21 in ( ( Partial_Union C16 ) . R17 ))))))
proof
let R21 being set;
reconsider D8 = ( Partial_Union C16 ) as (SetSequence of R3);
let R16 being (Element of ( NAT ));
let R17 being (Element of ( NAT ));
assume L86: R16 <= R17;
assume L87: R21 in ( ( Partial_Union C16 ) . R16 );
L88: D8 is  non-descending by PROB_3:11;
L89: ( D8 . R16 ) c= ( D8 . R17 ) by L88 , L86 , PROB_1:def 5;
thus L90: thesis by L89 , L87;
end;
L91: (for R16 being (Element of ( NAT )) holds (for R17 being (Element of ( NAT )) holds (R16 <= R17 implies ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . R16 ) c= ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . R17 ))))
proof
let R16 being (Element of ( NAT ));
let R17 being (Element of ( NAT ));
assume L92: R16 <= R17;
let R21 being set;
assume L93: R21 in ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . R16 );
L94: R21 in ( D4 /\ ( ( Partial_Union C16 ) . R16 ) ) by L93 , DYNKIN:def 1;
L95: R21 in ( ( Partial_Union C16 ) . R16 ) by L94 , XBOOLE_0:def 4;
L96: R21 in ( ( Partial_Union C16 ) . R17 ) by L95 , L85 , L92;
L97: R21 in D4 by L94 , XBOOLE_0:def 4;
L98: R21 in ( D4 /\ ( ( Partial_Union C16 ) . R17 ) ) by L97 , L96 , XBOOLE_0:def 4;
thus L99: thesis by L98 , DYNKIN:def 1;
end;
L100: ( seqIntersection (D4 , ( Partial_Union C16 )) ) is  non-descending by L91 , PROB_1:def 5;
assume L101: C16 is  disjoint_valued;
L102: ( seqIntersection (D4 , C16) ) is  disjoint_valued by L101 , DYNKIN:9;
L103: (for R16 being (Element of ( NAT )) holds ( ( Partial_Union D6 ) . R16 ) = ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . R16 ))
proof
defpred S3[ Nat ] means ( ( Partial_Union D6 ) . $1 ) = ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . $1 );
let R16 being (Element of ( NAT ));
L104: (for B18 being Nat holds (S3[ B18 ] implies S3[ ( B18 + 1 ) ]))
proof
let C18 being Nat;
assume that
L105: ( ( Partial_Union D6 ) . C18 ) = ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . C18 );
reconsider D9 = C18 as (Element of ( NAT )) by ORDINAL1:def 12;
L106: ( ( Partial_Union D6 ) . ( D9 + 1 ) ) = ( ( ( Partial_Union D6 ) . D9 ) \/ ( D6 . ( D9 + 1 ) ) ) by PROB_3:def 2
.= ( ( D4 /\ ( ( Partial_Union C16 ) . D9 ) ) \/ ( D6 . ( D9 + 1 ) ) ) by L105 , DYNKIN:def 1
.= ( ( D4 /\ ( ( Partial_Union C16 ) . D9 ) ) \/ ( D4 /\ ( C16 . ( D9 + 1 ) ) ) ) by DYNKIN:def 1
.= ( D4 /\ ( ( ( Partial_Union C16 ) . D9 ) \/ ( C16 . ( D9 + 1 ) ) ) ) by XBOOLE_1:23
.= ( D4 /\ ( ( Partial_Union C16 ) . ( D9 + 1 ) ) ) by PROB_3:def 2
.= ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . ( D9 + 1 ) ) by DYNKIN:def 1;
thus L107: thesis by L106;
end;
L108: ( ( Partial_Union D6 ) . ( 0 ) ) = ( D6 . ( 0 ) ) by PROB_3:def 2
.= ( D4 /\ ( C16 . ( 0 ) ) ) by DYNKIN:def 1
.= ( D4 /\ ( ( Partial_Union C16 ) . ( 0 ) ) ) by PROB_3:def 2
.= ( ( seqIntersection (D4 , ( Partial_Union C16 )) ) . ( 0 ) ) by DYNKIN:def 1;
L109: S3[ ( 0 ) ] by L108;
L110: (for B19 being Nat holds S3[ B19 ]) from NAT_1:sch 2(L109 , L104);
thus L111: thesis by L110;
end;
L112: ( R4 * ( seqIntersection (D4 , ( Partial_Union C16 )) ) ) = ( R4 * ( Partial_Union D6 ) ) by L103 , FUNCT_2:63
.= ( Partial_Sums ( R4 * D6 ) ) by L102 , PROB_3:44
.= ( D5 (#) ( Partial_Sums ( R4 * C16 ) ) ) by L84 , SERIES_1:9
.= ( D5 (#) ( R4 * ( Partial_Union C16 ) ) ) by L101 , PROB_3:44;
L113: ( D5 * ( lim ( R4 * ( Partial_Union C16 ) ) ) ) = ( lim ( R4 * D7 ) ) by L112 , PROB_3:41 , SEQ_2:8
.= ( R4 . ( D4 /\ ( Union C16 ) ) ) by L100 , L80 , PROB_2:10;
thus L114: thesis by L113 , PROB_3:41;
end;
theorem
L115: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R8 being non  empty (Subset of R3) holds ( Indep (R8 , R4) ) is (Dynkin_System of R1)))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R8 being non  empty (Subset of R3);
L116: (for R10 being (Element of R8) holds ( R4 . ( ( {} ) /\ R10 ) ) = ( ( R4 . ( {} ) ) * ( R4 . R10 ) ))
proof
let R10 being (Element of R8);
reconsider D10 = R10 as (Event of R3);
L117: ( R4 . ( ( {} ) /\ D10 ) ) = ( 0 ) by VALUED_0:def 19;
thus L118: thesis by L117;
end;
reconsider D11 = ( Indep (R8 , R4) ) as (Subset-Family of R1) by XBOOLE_1:1;
L119: ( {} ) is (Element of R3) by PROB_1:22;
L120: ( {} ) in ( Indep (R8 , R4) ) by L119 , L116 , L62;
L121: (for B20 being (SetSequence of R1) holds ((( rng B20 ) c= ( Indep (R8 , R4) ) & B20 is  disjoint_valued) implies ( Union B20 ) in ( Indep (R8 , R4) )))
proof
let C19 being (SetSequence of R1);
assume that
L122: ( rng C19 ) c= ( Indep (R8 , R4) )
and
L123: C19 is  disjoint_valued;
L124:
now
let R16 being (Element of ( NAT ));
L125: ( C19 . R16 ) is (Element of R3)
proof
per cases ;
suppose L126: R16 in ( dom C19 );

L127: ( C19 . R16 ) in ( rng C19 ) by L126 , FUNCT_1:3;
thus L128: thesis by L127 , L122 , TARSKI:def 3;
end;
suppose L129: (not R16 in ( dom C19 ));

L130: ( C19 . R16 ) = ( {} ) by L129 , FUNCT_1:def 2;
thus L131: thesis by L130 , PROB_1:4;
end;
end;
thus L133: ( C19 . R16 ) is (Event of R3) by L125;
end;
reconsider D12 = C19 as (SetSequence of R3) by L124 , PROB_1:25;
reconsider D13 = ( Union D12 ) as (Element of R3) by PROB_1:26;
L134: (for R16 being (Element of ( NAT )) holds (for R10 being (Element of R8) holds ( R4 . ( ( D12 . R16 ) /\ R10 ) ) = ( ( R4 . ( D12 . R16 ) ) * ( R4 . R10 ) )))
proof
let R16 being (Element of ( NAT ));
let R10 being (Element of R8);
L135: ( D12 . R16 ) in ( Indep (R8 , R4) )
proof
per cases ;
suppose L136: R16 in ( dom D12 );

L137: ( D12 . R16 ) in ( rng D12 ) by L136 , FUNCT_1:3;
thus L138: thesis by L137 , L122;
end;
suppose L139: (not R16 in ( dom D12 ));

thus L140: thesis by L139 , L120 , FUNCT_1:def 2;
end;
end;
thus L142: thesis by L135 , L62;
end;
L143: (for R10 being (Element of R8) holds ( R4 . ( D13 /\ R10 ) ) = ( ( R4 . D13 ) * ( R4 . R10 ) )) by L134 , L123 , L73;
thus L144: thesis by L143 , L62;
end;
L145: (for B21 being (Subset of R1) holds (B21 in ( Indep (R8 , R4) ) implies ( B21 ` ) in ( Indep (R8 , R4) )))
proof
let C20 being (Subset of R1);
assume L146: C20 in ( Indep (R8 , R4) );
reconsider D14 = C20 as (Event of R3) by L146;
reconsider D15 = ( D14 ` ) as (Element of R3) by PROB_1:20;
L147: (for B22 being (Element of R8) holds ( R4 . ( ( D14 ` ) /\ B22 ) ) = ( ( R4 . ( D14 ` ) ) * ( R4 . B22 ) ))
proof
let C21 being (Element of R8);
L148: ( R4 . ( C21 /\ D14 ) ) = ( ( R4 . C21 ) * ( R4 . D14 ) ) by L146 , L62;
L149: C21 , D14 are_independent_respect_to R4 by L148 , PROB_2:def 4;
L150: C21 , ( ( [#] R3 ) \ D14 ) are_independent_respect_to R4 by L149 , PROB_2:25;
thus L151: thesis by L150 , PROB_2:def 4;
end;
L152: D15 in ( Indep (R8 , R4) ) by L147 , L62;
thus L153: thesis by L152;
end;
L154: D11 is (Dynkin_System of R1) by L145 , L120 , L121 , DYNKIN:def 5;
thus L155: thesis by L154;
end;
theorem
L156: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R8 being non  empty (Subset of R3) holds (for B23 being (Subset-Family of R1) holds ((B23 is  intersection_stable & B23 c= ( Indep (R8 , R4) )) implies ( sigma B23 ) c= ( Indep (R8 , R4) )))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R8 being non  empty (Subset of R3);
reconsider D16 = ( Indep (R8 , R4) ) as (Dynkin_System of R1) by L115;
let C22 being (Subset-Family of R1);
assume L157: (C22 is  intersection_stable & C22 c= ( Indep (R8 , R4) ));
L158: ( sigma C22 ) c= D16 by L157 , DYNKIN:24;
thus L159: thesis by L158;
end;
theorem
L160: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for B24 , B25 being non  empty (Subset of R3) holds (B24 c= ( Indep (B25 , R4) ) iff (for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in B24 & R13 in B25) implies R12 , R13 are_independent_respect_to R4))))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let C23 , C24 being non  empty (Subset of R3);
L161:
now
assume L162: (for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in C23 & R13 in C24) implies R12 , R13 are_independent_respect_to R4)));
thus L163: C23 c= ( Indep (C24 , R4) )
proof
let R21 being set;
assume L164: R21 in C23;
reconsider D17 = R21 as (Event of R3) by L164;
L165: (for B26 being (Element of C24) holds ( R4 . ( D17 /\ B26 ) ) = ( ( R4 . D17 ) * ( R4 . B26 ) ))
proof
let C25 being (Element of C24);
reconsider D18 = C25 as (Event of R3);
L166: D17 , D18 are_independent_respect_to R4 by L162 , L164;
thus L167: thesis by L166 , PROB_2:def 4;
end;
thus L168: thesis by L165 , L62;
end;

end;
L164:
now
assume L165: C23 c= ( Indep (C24 , R4) );
thus L166: (for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in C23 & R13 in C24) implies R12 , R13 are_independent_respect_to R4)))
proof
let R12 being (Event of R3);
let R13 being (Event of R3);
assume that
L167: R12 in C23
and
L168: R13 in C24;
reconsider D19 = R13 as (Element of C24) by L168;
reconsider D20 = R12 as (Element of R3);
L169: ( R4 . ( D20 /\ D19 ) ) = ( ( R4 . D20 ) * ( R4 . D19 ) ) by L165 , L167 , L62;
thus L170: thesis by L169 , PROB_2:def 4;
end;

end;
thus L167: thesis by L164 , L161;
end;
theorem
L168: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for B27 , B28 being non  empty (Subset of R3) holds (B27 c= ( Indep (B28 , R4) ) implies B28 c= ( Indep (B27 , R4) ))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let C26 , C27 being non  empty (Subset of R3);
assume L169: C26 c= ( Indep (C27 , R4) );
L170: (for R13 being (Event of R3) holds (for R12 being (Event of R3) holds ((R13 in C27 & R12 in C26) implies R13 , R12 are_independent_respect_to R4)))
proof
let R13 being (Event of R3);
let R12 being (Event of R3);
assume L171: R13 in C27;
assume L172: R12 in C26;
L173: R12 , R13 are_independent_respect_to R4 by L172 , L169 , L171 , L160;
thus L174: thesis by L173 , PROB_2:19;
end;
thus L175: thesis by L170 , L160;
end;
theorem
L176: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for B29 being (Subset-Family of R1) holds ((B29 is non  empty non  empty non  empty non  empty (Subset of R3) & B29 is  intersection_stable) implies (for B30 being non  empty (Subset of R3) holds (B30 is  intersection_stable implies (B29 c= ( Indep (B30 , R4) ) implies (for R5 being (Subset-Family of R1) holds (for R9 being non  empty (Subset of R3) holds ((R5 = B30 & ( sigma R5 ) = R9) implies ( sigma B29 ) c= ( Indep (R9 , R4) ))))))))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let C28 being (Subset-Family of R1);
assume L177: C28 is non  empty non  empty non  empty non  empty (Subset of R3);
reconsider D21 = ( sigma C28 ) as non  empty (Subset of R3) by L177 , PROB_1:def 9;
assume L178: C28 is  intersection_stable;
let C29 being non  empty (Subset of R3);
assume L179: C29 is  intersection_stable;
assume L180: C28 c= ( Indep (C29 , R4) );
L181: ( sigma C28 ) c= ( Indep (C29 , R4) ) by L180 , L178 , L156;
let R5 being (Subset-Family of R1);
let R9 being non  empty (Subset of R3);
assume L182: (R5 = C29 & ( sigma R5 ) = R9);
reconsider D22 = C29 as (Subset-Family of R1) by XBOOLE_1:1;
L183: D22 c= ( Indep (D21 , R4) ) by L181 , L168;
L184: ( sigma D22 ) c= ( Indep (D21 , R4) ) by L183 , L179 , L156;
thus L185: thesis by L184 , L182 , L168;
end;
theorem
L186: (for R1 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R6 being (Subset-Family of R1) holds (for R7 being (Subset-Family of R1) holds ((R6 is non  empty non  empty non  empty non  empty (Subset of R3) & R6 is  intersection_stable & R7 is non  empty non  empty non  empty non  empty (Subset of R3) & R7 is  intersection_stable) implies ((for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in R6 & R13 in R7) implies R12 , R13 are_independent_respect_to R4))) implies (for R14 being (Event of R3) holds (for R15 being (Event of R3) holds ((R14 in ( sigma R6 ) & R15 in ( sigma R7 )) implies R14 , R15 are_independent_respect_to R4))))))))))
proof
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R6 being (Subset-Family of R1);
let R7 being (Subset-Family of R1);
assume L187: R6 is non  empty non  empty non  empty non  empty (Subset of R3);
assume L188: R6 is  intersection_stable;
assume L189: R7 is non  empty non  empty non  empty non  empty (Subset of R3);
assume L190: R7 is  intersection_stable;
assume L191: (for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in R6 & R13 in R7) implies R12 , R13 are_independent_respect_to R4)));
reconsider D23 = R7 as non  empty (Subset of R3) by L189;
reconsider D24 = R6 as non  empty (Subset of R3) by L187;
L192: D24 c= ( Indep (D23 , R4) ) by L191 , L160;
reconsider D25 = D24 , D26 = D23 as (Subset-Family of R1);
reconsider D27 = ( sigma D26 ) as non  empty (Subset of R3) by PROB_1:def 9;
L193: ( sigma D25 ) c= ( Indep (D27 , R4) ) by L188 , L190 , L192 , L176;
thus L194: thesis by L193 , L160;
end;
definition
let C30 being set;
let C31 being non  empty set;
let C32 being (SigmaField of C31);
mode ManySortedSigmaField of C30 , C32
 -> (Function of C30 , ( bool C32 ))
means :L195: (for R24 being set holds (R24 in C30 implies ( it . R24 ) is (SigmaField of C31)));
existence
proof
set D28 = ( C30 --> C32 );
L196: ( rng D28 ) c= ( bool C32 )
proof
let R22 being set;
assume L197: R22 in ( rng D28 );
L198: (ex R21 being set st (R21 in ( dom D28 ) & R22 = ( D28 . R21 ))) by L197 , FUNCT_1:def 3;
L199: R22 = C32 by L198 , FUNCOP_1:7;
thus L200: thesis by L199 , ZFMISC_1:def 1;
end;
L201: (for R24 being set holds (R24 in C30 implies ( D28 . R24 ) is (SigmaField of C31))) by FUNCOP_1:7;
L202: ( dom D28 ) = C30 by FUNCOP_1:13;
L203: D28 is (Function of C30 , ( bool C32 )) by L202 , L196 , FUNCT_2:2;
thus L204: thesis by L203 , L201;
end;
end;
definition
let C33 being non  empty set;
let C34 being (SigmaField of C33);
let C35 being (Probability of C34);
let C36 being set;
let C37 being (Function of C36 , C34);
pred C37 is_independent_wrt C35
means
:L206: (for B31 being  one-to-one (FinSequence of C36) holds (B31 <> ( {} ) implies ( Product ( ( C35 * C37 ) * B31 ) ) = ( C35 . ( meet ( rng ( C37 * B31 ) ) ) )))
;end;
definition
let C38 being non  empty set;
let C39 being (SigmaField of C38);
let C40 being set;
let C41 being (Subset of C40);
let C42 being (ManySortedSigmaField of C40 , C39);
mode SigmaSection of C41 , C42
 -> (Function of C41 , C39)
means :L208: (for R24 being set holds (R24 in C41 implies ( it . R24 ) in ( C42 . R24 )));
existence
proof
set D29 = ( C41 --> ( {} ) );
L209: (for R24 being set holds (R24 in C41 implies ( D29 . R24 ) in ( C42 . R24 )))
proof
let R24 being set;
assume L210: R24 in C41;
L211: ( C42 . R24 ) is (SigmaField of C38) by L210 , L195;
L212: ( {} ) in ( C42 . R24 ) by L211 , PROB_1:4;
thus L213: thesis by L212 , L210 , FUNCOP_1:7;
end;
L214: ( dom D29 ) = C41 by FUNCOP_1:13;
L215: ( rng D29 ) c= C39
proof
let R22 being set;
assume L216: R22 in ( rng D29 );
consider R24 being set such that L217: (R24 in C41 & R22 = ( D29 . R24 )) by L216 , L214 , FUNCT_1:def 3;
L218: (R22 in ( C42 . R24 ) & ( C42 . R24 ) in ( bool C39 )) by L209 , L217 , FUNCT_2:5;
thus L219: thesis by L218;
end;
L220: D29 is (Function of C41 , C39) by L215 , L214 , FUNCT_2:2;
thus L221: thesis by L220 , L209;
end;
end;
definition
let C43 being non  empty set;
let C44 being (SigmaField of C43);
let C45 being (Probability of C44);
let C46 being set;
let C47 being (ManySortedSigmaField of C46 , C44);
pred C47 is_independent_wrt C45
means
:L223: (for B32 being  finite (Subset of C46) holds (for B33 being (SigmaSection of B32 , C47) holds B33 is_independent_wrt C45))
;end;
definition
let C48 being set;
let C49 being non  empty set;
let C50 being (SigmaField of C49);
let C51 being (ManySortedSigmaField of C48 , C50);
let C52 being (Subset of C48);
redefine func C51 | C52 -> (Function of C52 , ( bool C50 ));

coherence by FUNCT_2:32;
end;
definition
let C53 being set;
let C54 being (Subset of C53);
let C55 being non  empty set;
let C56 being (SigmaField of C55);
let C57 being (Function of C54 , ( bool C56 ));
redefine func Union C57 -> (Subset-Family of C55);

coherence
proof
L226: (for R22 being set holds (R22 in ( Union C57 ) implies R22 in ( bool C55 )))
proof
let R22 being set;
assume L227: R22 in ( Union C57 );
L228: (ex R24 being set st (R24 in ( dom C57 ) & R22 in ( C57 . R24 ))) by L227 , CARD_5:2;
thus L229: thesis by L228;
end;
thus L230: thesis by L226 , TARSKI:def 3;
end;
end;
definition
let C58 being set;
let C59 being non  empty set;
let C60 being (SigmaField of C59);
let C61 being (ManySortedSigmaField of C58 , C60);
let C62 being (Subset of C58);
func sigUn (C61 , C62) -> (SigmaField of C59) equals 
( sigma ( Union ( C61 | C62 ) ) );
coherence;
end;
definition
let C63 being set;
let C64 being non  empty set;
let C65 being (SigmaField of C64);
let C66 being (ManySortedSigmaField of C63 , C65);
func futSigmaFields (C66 , C63) -> (Subset-Family of ( bool C64 )) means 
:L233: (for B34 being (Subset-Family of C64) holds (B34 in it iff (ex B35 being  finite (Subset of C63) st B34 = ( sigUn (C66 , ( C63 \ B35 )) ))));
existence
proof
defpred S4[ set ] means (ex B36 being  finite (Subset of C63) st $1 = ( sigUn (C66 , ( C63 \ B36 )) ));
consider R20 being set such that L234: (for R21 being set holds (R21 in R20 iff (R21 in ( bool ( bool C64 ) ) & S4[ R21 ]))) from XBOOLE_0:sch 1;
L235: R20 is non  empty
proof
set D30 = ( C63 \ ( {} C63 ) );
L236: ( sigUn (C66 , D30) ) in R20 by L234;
thus L237: thesis by L236;
end;
L238: (for R21 being set holds (R21 in R20 implies R21 in ( bool ( bool C64 ) ))) by L234;
reconsider D31 = R20 as non  empty (Subset-Family of ( bool C64 )) by L238 , L235 , TARSKI:def 3;
take D31;
let C67 being (Subset-Family of C64);
thus L239: thesis by L234;
end;
uniqueness
proof
let C68 , C69 being (Subset-Family of ( bool C64 ));
assume L240: (for B37 being (Subset-Family of C64) holds (B37 in C68 iff (ex B38 being  finite (Subset of C63) st B37 = ( sigUn (C66 , ( C63 \ B38 )) ))));
assume L241: (for B39 being (Subset-Family of C64) holds (B39 in C69 iff (ex B40 being  finite (Subset of C63) st B39 = ( sigUn (C66 , ( C63 \ B40 )) ))));
L242:
now
let C70 being (Subset-Family of C64);
L243: (C70 in C68 iff (ex B41 being  finite (Subset of C63) st C70 = ( sigUn (C66 , ( C63 \ B41 )) ))) by L240;
thus L244: (C70 in C68 iff C70 in C69) by L243 , L241;
end;
thus L245: thesis by L242 , SUBSET_1:3;
end;
end;
registration
let C71 being set;
let C72 being non  empty set;
let C73 being (SigmaField of C72);
let C74 being (ManySortedSigmaField of C71 , C73);
cluster ( futSigmaFields (C74 , C71) ) -> non  empty;
coherence
proof
set D32 = ( C71 \ ( {} C71 ) );
L247: ( sigUn (C74 , D32) ) in ( futSigmaFields (C74 , C71) ) by L233;
thus L248: thesis by L247;
end;
end;
definition
let C75 being set;
let C76 being non  empty set;
let C77 being (SigmaField of C76);
let C78 being (ManySortedSigmaField of C75 , C77);
func tailSigmaField (C78 , C75) -> (Subset-Family of C76) equals 
( meet ( futSigmaFields (C78 , C75) ) );
coherence;
end;
registration
let C79 being set;
let C80 being non  empty set;
let C81 being (SigmaField of C80);
let C82 being (ManySortedSigmaField of C79 , C81);
cluster ( tailSigmaField (C82 , C79) ) -> non  empty;
coherence
proof
L251: (for R20 being set holds (R20 in ( futSigmaFields (C82 , C79) ) implies ( {} ) in R20))
proof
let R20 being set;
assume L252: R20 in ( futSigmaFields (C82 , C79) );
L253: (ex B42 being  finite (Subset of C79) st R20 = ( sigUn (C82 , ( C79 \ B42 )) )) by L252 , L233;
thus L254: thesis by L253 , PROB_1:4;
end;
thus L255: thesis by L251 , SETFAM_1:def 1;
end;
end;
definition
let C83 being non  empty set;
let C84 being (SigmaField of C83);
let C85 being non  empty set;
let C86 being non  empty (Subset of C85);
let C87 being (ManySortedSigmaField of C85 , C84);
func MeetSections (C86 , C87) -> (Subset-Family of C83) means 
:L257: (for B43 being (Subset of C83) holds (B43 in it iff (ex B44 being non  empty  finite (Subset of C85) st (ex B45 being (SigmaSection of B44 , C87) st (B44 c= C86 & B43 = ( meet ( rng B45 ) ))))));
existence
proof
defpred S5[ set ] means (ex B46 being non  empty  finite (Subset of C85) st (ex B47 being (SigmaSection of B46 , C87) st (B46 c= C86 & $1 = ( meet ( rng B47 ) ))));
consider R20 being set such that L258: (for R21 being set holds (R21 in R20 iff (R21 in ( bool C83 ) & S5[ R21 ]))) from XBOOLE_0:sch 1;
L259: (for R21 being set holds (R21 in R20 implies R21 in ( bool C83 ))) by L258;
reconsider D33 = R20 as (Subset-Family of C83) by L259 , TARSKI:def 3;
take D33;
let C88 being (Subset of C83);
thus L260: thesis by L258;
end;
uniqueness
proof
let C89 , C90 being (Subset-Family of C83);
assume L261: (for B48 being (Subset of C83) holds (B48 in C89 iff (ex B49 being non  empty  finite (Subset of C85) st (ex B50 being (SigmaSection of B49 , C87) st (B49 c= C86 & B48 = ( meet ( rng B50 ) ))))));
assume L262: (for B51 being (Subset of C83) holds (B51 in C90 iff (ex B52 being non  empty  finite (Subset of C85) st (ex B53 being (SigmaSection of B52 , C87) st (B52 c= C86 & B51 = ( meet ( rng B53 ) ))))));
L263:
now
let C91 being (Subset of C83);
L264: (C91 in C89 iff (ex B54 being non  empty  finite (Subset of C85) st (ex B55 being (SigmaSection of B54 , C87) st (B54 c= C86 & C91 = ( meet ( rng B55 ) ))))) by L261;
thus L265: (C91 in C89 iff C91 in C90) by L264 , L262;
end;
thus L266: thesis by L263 , SUBSET_1:3;
end;
end;
theorem
L268: (for R1 being non  empty set holds (for R2 being non  empty set holds (for R3 being (SigmaField of R1) holds (for B56 being (ManySortedSigmaField of R2 , R3) holds (for B57 being non  empty (Subset of R2) holds ( sigma ( MeetSections (B57 , B56) ) ) = ( sigUn (B56 , B57) ))))))
proof
let R1 being non  empty set;
let R2 being non  empty set;
let R3 being (SigmaField of R1);
let C92 being (ManySortedSigmaField of R2 , R3);
let C93 being non  empty (Subset of R2);
L269: ( Union ( C92 | C93 ) ) c= ( MeetSections (C93 , C92) )
proof
let R21 being set;
assume L270: R21 in ( Union ( C92 | C93 ) );
consider R22 being set such that L271: R21 in R22 and L272: R22 in ( rng ( C92 | C93 ) ) by L270 , TARSKI:def 4;
consider R24 being set such that L273: R24 in ( dom ( C92 | C93 ) ) and L274: R22 = ( ( C92 | C93 ) . R24 ) by L272 , FUNCT_1:def 3;
reconsider D34 = R21 as (Subset of R1) by L271 , L274;
defpred S6[ set , set ] means ($2 = D34 & $2 in ( C92 . $1 ));
L275: { R24 } c= C93 by L273 , ZFMISC_1:31;
reconsider D35 = { R24 } as  finite (Subset of R2) by L275 , XBOOLE_1:1;
L276: (for R25 being set holds (R25 in D35 implies (ex R22 being set st (R22 in R3 & S6[ R25 , R22 ]))))
proof
let R25 being set;
assume L277: R25 in D35;
L278: R24 in R2 by L273 , TARSKI:def 3;
L279: ( C92 . R24 ) in ( bool R3 ) by L278 , FUNCT_2:5;
take D36 = D34;
L280: D36 in ( C92 . R24 ) by L271 , L273 , L274 , FUNCT_1:49;
thus L281: thesis by L280 , L277 , L279 , TARSKI:def 1;
end;
consider C94 being (Function of D35 , R3) such that L282: (for R25 being set holds (R25 in D35 implies S6[ R25 , ( C94 . R25 ) ])) from FUNCT_2:sch 1(L276);
L283: (for R24 being set holds (R24 in D35 implies ( C94 . R24 ) in ( C92 . R24 ))) by L282;
reconsider D37 = C94 as (SigmaSection of D35 , C92) by L283 , L208;
L284: ( dom D37 ) = D35 by FUNCT_2:def 1;
L285: ( rng D37 ) = { ( D37 . R24 ) } by L284 , FUNCT_1:4;
L286: R24 in D35 by TARSKI:def 1;
L287: D34 = ( D37 . R24 ) by L286 , L282
.= ( meet ( rng D37 ) ) by L285 , SETFAM_1:10;
thus L288: thesis by L287 , L275 , L257;
end;
L289: ( MeetSections (C93 , C92) ) c= ( sigma ( Union ( C92 | C93 ) ) )
proof
let R21 being set;
assume L290: R21 in ( MeetSections (C93 , C92) );
consider C95 being non  empty  finite (Subset of R2), C96 being (SigmaSection of C95 , C92) such that L291: C95 c= C93 and L292: R21 = ( meet ( rng C96 ) ) by L290 , L257;
reconsider D38 = C95 as (Element of ( Fin C95 )) by FINSUB_1:def 5;
L293: (for B58 being (Element of ( Fin C95 )) holds ( meet ( rng ( C96 | B58 ) ) ) in ( sigma ( Union ( C92 | C93 ) ) ))
proof
defpred S7[ set ] means ( meet ( rng ( C96 | $1 ) ) ) in ( sigma ( Union ( C92 | C93 ) ) );
let C97 being (Element of ( Fin C95 ));
L294: (for B59 being (Element of ( Fin C95 )) holds (for B60 being (Element of C95) holds ((S7[ B59 ] & (not B60 in B59)) implies S7[ ( B59 \/ { B60 } ) ])))
proof
let C98 being (Element of ( Fin C95 ));
let C99 being (Element of C95);
assume that
L295: ( meet ( rng ( C96 | C98 ) ) ) in ( sigma ( Union ( C92 | C93 ) ) )
and
L296: (not C99 in C98);
reconsider D39 = ( rng ( C96 | { C99 } ) ) as set;
reconsider D40 = ( rng ( C96 | C98 ) ) as set;
reconsider D41 = ( rng ( C96 | ( C98 \/ { C99 } ) ) ) as set;
L297: ( rng ( C96 | ( C98 \/ { C99 } ) ) ) = ( rng ( ( C96 | C98 ) \/ ( C96 | { C99 } ) ) ) by RELAT_1:78;
L298: ( rng ( C96 | ( C98 \/ { C99 } ) ) ) = ( ( rng ( C96 | C98 ) ) \/ ( rng ( C96 | { C99 } ) ) ) by L297 , RELAT_1:12;
L299: ( dom ( C92 | C93 ) ) = C93 by FUNCT_2:def 1;
L300: C99 in ( dom ( C92 | C93 ) ) by L299 , L291 , TARSKI:def 3;
L301: ( ( C92 | C93 ) . C99 ) in ( rng ( C92 | C93 ) ) by L300 , FUNCT_1:def 3;
L302: ( C92 . C99 ) in ( rng ( C92 | C93 ) ) by L301 , L300 , FUNCT_1:47;
L303: ( C92 . C99 ) c= ( Union ( C92 | C93 ) ) by L302 , ZFMISC_1:74;
L304: ( Union ( C92 | C93 ) ) c= ( sigma ( Union ( C92 | C93 ) ) ) by PROB_1:def 9;
L305: ( C92 . C99 ) c= ( sigma ( Union ( C92 | C93 ) ) ) by L304 , L303 , XBOOLE_1:1;
L306: C99 is (Element of ( dom C96 )) by FUNCT_2:def 1;
L307: { C99 } = ( ( dom C96 ) /\ { C99 } ) by L306 , ZFMISC_1:46
.= ( dom ( C96 | { C99 } ) ) by RELAT_1:61;
L308: C99 in ( dom ( C96 | { C99 } ) ) by L307 , TARSKI:def 1;
L309: ( rng ( C96 | { C99 } ) ) = { ( ( C96 | { C99 } ) . C99 ) } by L307 , FUNCT_1:4
.= { ( C96 . C99 ) } by L308 , FUNCT_1:47;
L310: ( meet ( rng ( C96 | { C99 } ) ) ) = ( C96 . C99 ) by L309 , SETFAM_1:10;
L311: ( meet ( rng ( C96 | { C99 } ) ) ) in ( C92 . C99 ) by L310 , L208;
per cases ;
suppose L312: ( rng ( C96 | C98 ) ) = ( {} );

thus L313: thesis by L312 , L311 , L305 , L298;
end;
suppose L314: (not ( rng ( C96 | C98 ) ) = ( {} ));

L315: (( dom C96 ) = C95 & C99 in { C99 }) by FUNCT_2:def 1 , TARSKI:def 1;
L316: D39 <> ( {} ) by L315 , FUNCT_1:50;
L317: ( meet D41 ) = ( ( meet D40 ) /\ ( meet D39 ) ) by L316 , L298 , L314 , SETFAM_1:9;
L318: ( meet ( rng ( C96 | ( C98 \/ { C99 } ) ) ) ) is (Event of ( sigma ( Union ( C92 | C93 ) ) )) by L317 , L295 , L311 , L305 , PROB_1:19;
thus L319: thesis by L318;
end;
end;
L321: ( meet ( rng ( C96 | ( {} ) ) ) ) = ( {} ) by SETFAM_1:def 1;
L322: S7[ ( {}. C95 ) ] by L321 , PROB_1:4;
L323: (for B61 being (Element of ( Fin C95 )) holds S7[ B61 ]) from SETWISEO:sch 2(L322 , L294);
thus L324: thesis by L323;
end;
L325: ( meet ( rng ( C96 | D38 ) ) ) in ( sigma ( Union ( C92 | C93 ) ) ) by L293;
thus L326: thesis by L325 , L292 , RELSET_1:19;
end;
thus L327: ( sigma ( MeetSections (C93 , C92) ) ) c= ( sigUn (C92 , C93) ) by L289 , PROB_1:def 9;
L328: ( MeetSections (C93 , C92) ) c= ( sigma ( MeetSections (C93 , C92) ) ) by PROB_1:def 9;
L329: ( Union ( C92 | C93 ) ) c= ( sigma ( MeetSections (C93 , C92) ) ) by L328 , L269 , XBOOLE_1:1;
thus L330: thesis by L329 , PROB_1:def 9;
end;
theorem
L331: (for R1 being non  empty set holds (for R2 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for B62 being (ManySortedSigmaField of R2 , R3) holds (for B63 , B64 being non  empty (Subset of R2) holds ((B62 is_independent_wrt R4 & B63 misses B64) implies (for B65 , B66 being (Subset of R1) holds ((B65 in ( MeetSections (B63 , B62) ) & B66 in ( MeetSections (B64 , B62) )) implies ( R4 . ( B65 /\ B66 ) ) = ( ( R4 . B65 ) * ( R4 . B66 ) ))))))))))
proof
let R1 being non  empty set;
let R2 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let C100 being (ManySortedSigmaField of R2 , R3);
let C101 , C102 being non  empty (Subset of R2);
assume L332: C100 is_independent_wrt R4;
reconsider D42 = R3 as set;
assume L333: C101 misses C102;
let C103 , C104 being (Subset of R1);
assume that
L334: C103 in ( MeetSections (C101 , C100) )
and
L335: C104 in ( MeetSections (C102 , C100) );
consider C105 being non  empty  finite (Subset of R2), C106 being (SigmaSection of C105 , C100) such that L336: C105 c= C101 and L337: C103 = ( meet ( rng C106 ) ) by L334 , L257;
L338: C106 is_independent_wrt R4 by L332 , L223;
consider C107 being non  empty  finite (Subset of R2), C108 being (SigmaSection of C107 , C100) such that L339: C107 c= C102 and L340: C104 = ( meet ( rng C108 ) ) by L335 , L257;
L341: C108 is_independent_wrt R4 by L332 , L223;
reconsider D43 = ( rng C106 ) , D44 = ( rng C108 ) as set;
reconsider D45 = C106 as (Function of C105 , D43) by FUNCT_2:6;
reconsider D46 = C108 as (Function of C107 , D44) by FUNCT_2:6;
consider C109 being Nat such that L342: C107 , ( Seg C109 ) are_equipotent  by FINSEQ_1:56;
consider C110 being Function such that L343: C110 is  one-to-one and L344: ( dom C110 ) = ( Seg C109 ) and L345: ( rng C110 ) = C107 by L342 , WELLORD2:def 4;
L346: C110 <> ( {} ) by L345;
reconsider D47 = C110 as (Function of ( Seg C109 ) , C107) by L344 , L345 , FUNCT_2:1;
L347: D47 is FinSequence by L344 , FINSEQ_1:def 2;
L348: ( rng ( D46 * D47 ) ) = ( rng D46 ) by L345 , FUNCT_2:14;
reconsider D48 = D47 as  one-to-one (FinSequence of C107) by L343 , L345 , L347 , FINSEQ_1:def 4;
reconsider D49 = D46 as (Function of C107 , D42);
deffunc H1(set) = ( D49 . $1 );
reconsider D50 = ( D49 * D48 ) as (FinSequence of D42);
L349: ( rng D48 ) = ( dom D49 ) by L345 , FUNCT_2:def 1;
L350: ( len D50 ) = ( len D48 ) by L349 , FINSEQ_2:29;
L351: C107 c= ( C105 \/ C107 ) by XBOOLE_1:7;
L352: ( rng D48 ) c= ( C105 \/ C107 ) by L351 , XBOOLE_1:1;
defpred S8[ set ] means $1 in C105;
consider C111 being Nat such that L353: C105 , ( Seg C111 ) are_equipotent  by FINSEQ_1:56;
consider C112 being Function such that L354: C112 is  one-to-one and L355: ( dom C112 ) = ( Seg C111 ) and L356: ( rng C112 ) = C105 by L353 , WELLORD2:def 4;
L357: C112 <> ( {} ) by L356;
reconsider D51 = C112 as (Function of ( Seg C111 ) , C105) by L355 , L356 , FUNCT_2:1;
L358: D51 is FinSequence by L355 , FINSEQ_1:def 2;
L359: ( rng ( D45 * D51 ) ) = ( rng D45 ) by L356 , FUNCT_2:14;
reconsider D52 = D51 as  one-to-one (FinSequence of C105) by L354 , L356 , L358 , FINSEQ_1:def 4;
reconsider D53 = D45 as (Function of C105 , D42);
deffunc H2(set) = ( D53 . $1 );
reconsider D54 = ( D53 * D52 ) as (FinSequence of D42);
L360: ( rng D52 ) = ( dom D53 ) by L356 , FUNCT_2:def 1;
L361: ( len D54 ) = ( len D52 ) by L360 , FINSEQ_2:29;
consider C113 being Function such that L362: (( dom C113 ) = ( C105 \/ C107 ) & (for R24 being set holds (R24 in ( C105 \/ C107 ) implies ((S8[ R24 ] implies ( C113 . R24 ) = H2(R24)) & ((not S8[ R24 ]) implies ( C113 . R24 ) = H1(R24)))))) from PARTFUN1:sch 1;
L363: (for R21 being set holds (R21 in ( dom ( D52 ^ D48 ) ) implies R21 in ( dom ( C113 * ( D52 ^ D48 ) ) )))
proof
let R21 being set;
assume L364: R21 in ( dom ( D52 ^ D48 ) );
L365: ( rng ( D52 ^ D48 ) ) = ( dom C113 ) by L356 , L345 , L362 , FINSEQ_1:31;
L366: ( ( D52 ^ D48 ) . R21 ) in ( dom C113 ) by L365 , L364 , FUNCT_1:3;
thus L367: thesis by L366 , L364 , FUNCT_1:11;
end;
L368: ( dom ( D52 ^ D48 ) ) c= ( dom ( C113 * ( D52 ^ D48 ) ) ) by L363 , TARSKI:def 3;
L369: (for R21 being set holds (R21 in ( dom ( C113 * ( D52 ^ D48 ) ) ) implies R21 in ( dom ( D52 ^ D48 ) ))) by FUNCT_1:11;
L370: ( dom ( C113 * ( D52 ^ D48 ) ) ) c= ( dom ( D52 ^ D48 ) ) by L369 , TARSKI:def 3;
L371: ( dom ( D54 ^ D50 ) ) = ( Seg ( ( len D54 ) + ( len D50 ) ) ) by FINSEQ_1:def 7
.= ( dom ( D52 ^ D48 ) ) by L361 , L350 , FINSEQ_1:def 7
.= ( dom ( C113 * ( D52 ^ D48 ) ) ) by L370 , L368 , XBOOLE_0:def 10;
L372: (for R21 being set holds (R21 in ( dom ( D54 ^ D50 ) ) implies ( ( D54 ^ D50 ) . R21 ) = ( ( C113 * ( D52 ^ D48 ) ) . R21 )))
proof
let R21 being set;
assume L373: R21 in ( dom ( D54 ^ D50 ) );
reconsider D55 = R21 as (Element of ( NAT )) by L373;
per cases ;
suppose L374: D55 in ( dom D54 );

L375: ( ( D54 ^ D50 ) . D55 ) = ( D54 . D55 ) by L374 , FINSEQ_1:def 7;
L376: C105 c= ( C105 \/ C107 ) by XBOOLE_1:7;
L377: D55 in ( dom D52 ) by L374 , FUNCT_1:11;
L378: ( D52 . D55 ) in C105 by L377 , L356 , FUNCT_1:3;
L379: ( C113 . ( D52 . D55 ) ) = ( D53 . ( D52 . D55 ) ) by L378 , L362 , L376;
L380: ( ( D54 ^ D50 ) . D55 ) = ( C113 . ( D52 . D55 ) ) by L379 , L374 , L375 , FUNCT_1:12;
L381: ( ( D52 ^ D48 ) . D55 ) = ( D52 . D55 ) by L377 , FINSEQ_1:def 7;
thus L382: thesis by L381 , L371 , L373 , L380 , FUNCT_1:12;
end;
suppose L383: (not D55 in ( dom D54 ));

consider C114 being Nat such that L384: C114 in ( dom D50 ) and L385: D55 = ( ( len D54 ) + C114 ) by L383 , L373 , FINSEQ_1:25;
L386: C114 in ( dom D48 ) by L384 , FUNCT_1:11;
L387: ( D48 . C114 ) in C107 by L386 , L345 , FUNCT_1:3;
L388: ( C105 /\ C107 ) c= ( C101 /\ C102 ) by L336 , L339 , XBOOLE_1:27;
L389: ( C105 /\ C107 ) c= ( {} ) by L388 , L333 , XBOOLE_0:def 7;
L390: ( C105 /\ C107 ) = ( {} ) by L389;
L391: C107 = ( ( C107 \ C105 ) \/ ( {} ) ) by L390 , XBOOLE_1:51;
L392: (not ( D48 . C114 ) in C105) by L391 , L387 , XBOOLE_0:def 5;
L393: C107 c= ( C105 \/ C107 ) by XBOOLE_1:7;
L394: ( ( D54 ^ D50 ) . D55 ) = ( D50 . C114 ) by L384 , L385 , FINSEQ_1:def 7
.= ( D49 . ( D48 . C114 ) ) by L384 , FUNCT_1:12
.= ( C113 . ( D48 . C114 ) ) by L362 , L387 , L392 , L393
.= ( C113 . ( ( D52 ^ D48 ) . D55 ) ) by L361 , L385 , L386 , FINSEQ_1:def 7;
thus L395: thesis by L394 , L371 , L373 , FUNCT_1:12;
end;
end;
L397: ( D54 ^ D50 ) = ( C113 * ( D52 ^ D48 ) ) by L372 , L371 , FUNCT_1:def 11;
L398: (for R24 being set holds (R24 in ( C105 \/ C107 ) implies ( C113 . R24 ) in R3))
proof
let R24 being set;
assume L399: R24 in ( C105 \/ C107 );
per cases ;
suppose L400: R24 in C105;

L401: ( C113 . R24 ) = ( D53 . R24 ) by L400 , L362 , L399;
thus L402: thesis by L401 , L400 , FUNCT_2:5;
end;
suppose L403: (not R24 in C105);

L404: (( C113 . R24 ) = ( D49 . R24 ) & R24 in C107) by L403 , L362 , L399 , XBOOLE_0:def 3;
thus L405: thesis by L404 , FUNCT_2:5;
end;
end;
reconsider D56 = C113 as (Function of ( C105 \/ C107 ) , R3) by L398 , L362 , FUNCT_2:3;
L407: (for R24 being set holds (R24 in ( C105 \/ C107 ) implies ( D56 . R24 ) in ( C100 . R24 )))
proof
let R24 being set;
assume L408: R24 in ( C105 \/ C107 );
per cases ;
suppose L409: R24 in C105;

L410: ( D53 . R24 ) in ( C100 . R24 ) by L409 , L208;
thus L411: thesis by L410 , L362 , L408 , L409;
end;
suppose L412: (not R24 in C105);

L413: R24 in C107 by L412 , L408 , XBOOLE_0:def 3;
L414: ( D49 . R24 ) in ( C100 . R24 ) by L413 , L208;
thus L415: thesis by L414 , L362 , L408 , L412;
end;
end;
reconsider D57 = D56 as (SigmaSection of ( C105 \/ C107 ) , C100) by L407 , L208;
L417: D57 is_independent_wrt R4 by L332 , L223;
L418: C105 c= ( C105 \/ C107 ) by XBOOLE_1:7;
L419: ( rng D52 ) c= ( C105 \/ C107 ) by L418 , XBOOLE_1:1;
reconsider D58 = ( ( R4 * D53 ) * D52 ) , D59 = ( ( R4 * D49 ) * D48 ) as (FinSequence of ( REAL )) by FINSEQ_2:32;
reconsider D60 = D48 as (FinSequence of ( C105 \/ C107 )) by L352 , FINSEQ_1:def 4;
reconsider D61 = D52 as (FinSequence of ( C105 \/ C107 )) by L419 , FINSEQ_1:def 4;
L420: ( C105 /\ C107 ) c= ( C101 /\ C102 ) by L336 , L339 , XBOOLE_1:27;
L421: ( C105 /\ C107 ) c= ( {} ) by L420 , L333 , XBOOLE_0:def 7;
L422: ( C105 /\ C107 ) = ( {} ) by L421;
L423: ( rng D61 ) misses ( rng D60 ) by L422 , L356 , L345 , XBOOLE_0:def 7;
reconsider D62 = ( D61 ^ D60 ) as  one-to-one (FinSequence of ( C105 \/ C107 )) by L423 , FINSEQ_3:91;
reconsider D63 = D61 as  one-to-one (FinSequence of C105);
reconsider D64 = D54 as (FinSequence of D42);
reconsider D65 = D60 as (FinSequence of C107);
reconsider D66 = D50 as (FinSequence of D42);
reconsider D67 = D53 as (Function of C105 , R3);
reconsider D68 = D49 as (Function of C107 , R3);
reconsider D69 = R4 as (Function of D42 , ( REAL ));
L424: ( ( D69 * D57 ) * D62 ) = ( D69 * ( D57 * ( D63 ^ D65 ) ) ) by RELAT_1:36
.= ( ( D69 * D64 ) ^ ( D69 * D66 ) ) by L397 , FINSEQOP:9;
L425: (( D69 * D64 ) = D58 & ( D69 * D66 ) = D59) by RELAT_1:36;
reconsider D70 = D69 as (Function of R3 , ( REAL ));
L426: ( Product ( ( D70 * D67 ) * D63 ) ) = ( D70 . ( meet ( rng ( D67 * D63 ) ) ) ) by L357 , L338 , L206;
L427: ( D70 . ( C103 /\ C104 ) ) = ( D70 . ( meet ( ( rng D67 ) \/ ( rng D68 ) ) ) ) by L337 , L340 , SETFAM_1:9
.= ( D70 . ( meet ( rng ( D64 ^ D66 ) ) ) ) by L359 , L348 , FINSEQ_1:31
.= ( Product ( D58 ^ D59 ) ) by L357 , L397 , L417 , L424 , L425 , L206
.= ( ( Product D58 ) * ( Product D59 ) ) by RVSUM_1:97
.= ( ( D70 . C103 ) * ( D70 . C104 ) ) by L337 , L340 , L346 , L341 , L359 , L348 , L426 , L206;
thus L428: thesis by L427;
end;
theorem
L429: (for R1 being non  empty set holds (for R2 being non  empty set holds (for R3 being (SigmaField of R1) holds (for B67 being (ManySortedSigmaField of R2 , R3) holds (for B68 being non  empty (Subset of R2) holds ( MeetSections (B68 , B67) ) is non  empty non  empty non  empty non  empty (Subset of R3))))))
proof
let R1 being non  empty set;
let R2 being non  empty set;
let R3 being (SigmaField of R1);
let C115 being (ManySortedSigmaField of R2 , R3);
let C116 being non  empty (Subset of R2);
L430: ( MeetSections (C116 , C115) ) c= R3
proof
let R20 being set;
assume L431: R20 in ( MeetSections (C116 , C115) );
consider C117 being non  empty  finite (Subset of R2), C118 being (SigmaSection of C117 , C115) such that L432: C117 c= C116 and L433: R20 = ( meet ( rng C118 ) ) by L431 , L257;
reconsider D71 = C117 as (Element of ( Fin C117 )) by FINSUB_1:def 5;
L434: (for B69 being (Element of ( Fin C117 )) holds ( meet ( rng ( C118 | B69 ) ) ) in R3)
proof
defpred S9[ set ] means ( meet ( rng ( C118 | $1 ) ) ) in R3;
let C119 being (Element of ( Fin C117 ));
L435: (for B70 being (Element of ( Fin C117 )) holds (for B71 being (Element of C117) holds ((S9[ B70 ] & (not B71 in B70)) implies S9[ ( B70 \/ { B71 } ) ])))
proof
let C120 being (Element of ( Fin C117 ));
let C121 being (Element of C117);
assume that
L436: ( meet ( rng ( C118 | C120 ) ) ) in R3
and
L437: (not C121 in C120);
L438: ( rng ( C118 | ( C120 \/ { C121 } ) ) ) = ( rng ( ( C118 | C120 ) \/ ( C118 | { C121 } ) ) ) by RELAT_1:78
.= ( ( rng ( C118 | C120 ) ) \/ ( rng ( C118 | { C121 } ) ) ) by RELAT_1:12;
L439: (( dom C118 ) = C117 & C121 in { C121 }) by FUNCT_2:def 1 , TARSKI:def 1;
L440: ( C118 . C121 ) in ( rng ( C118 | { C121 } ) ) by L439 , FUNCT_1:50;
L441: C121 is (Element of ( dom C118 )) by FUNCT_2:def 1;
L442: ( ( dom C118 ) /\ { C121 } ) = { C121 } by L441 , ZFMISC_1:46;
L443: ( dom ( C118 | { C121 } ) ) = { C121 } by L442 , RELAT_1:61;
L444: ( rng ( C118 | { C121 } ) ) = { ( ( C118 | { C121 } ) . C121 ) } by L443 , FUNCT_1:4;
L445: C121 in { C121 } by TARSKI:def 1;
L446: C121 in ( dom ( C118 | { C121 } ) ) by L445 , L441 , RELAT_1:57;
L447: ( rng ( C118 | { C121 } ) ) = { ( C118 . C121 ) } by L446 , L444 , FUNCT_1:47;
L448: ( meet ( rng ( C118 | { C121 } ) ) ) is (Event of R3) by L447 , SETFAM_1:10;
per cases ;
suppose L449: ( rng ( C118 | C120 ) ) = ( {} );

thus L450: thesis by L449 , L448 , L438;
end;
suppose L451: (not ( rng ( C118 | C120 ) ) = ( {} ));

L452: ( meet ( rng ( C118 | ( C120 \/ { C121 } ) ) ) ) = ( ( meet ( rng ( C118 | C120 ) ) ) /\ ( meet ( rng ( C118 | { C121 } ) ) ) ) by L451 , L438 , L440 , SETFAM_1:9;
L453: ( meet ( rng ( C118 | ( C120 \/ { C121 } ) ) ) ) is (Event of R3) by L452 , L436 , L448 , PROB_1:19;
thus L454: thesis by L453;
end;
end;
L456: ( meet ( rng ( C118 | ( {} ) ) ) ) = ( {} ) by SETFAM_1:def 1;
L457: S9[ ( {}. C117 ) ] by L456 , PROB_1:4;
L458: (for B72 being (Element of ( Fin C117 )) holds S9[ B72 ]) from SETWISEO:sch 2(L457 , L435);
thus L459: thesis by L458;
end;
L460: ( meet ( rng ( C118 | D71 ) ) ) in R3 by L434;
thus L461: thesis by L460 , L433 , RELSET_1:19;
end;
L462: ( MeetSections (C116 , C115) ) is non  empty non  empty non  empty non  empty set
proof
set D72 = the non  empty  finite (Subset of C116);
consider C122 being Function such that L463: ( dom C122 ) = D72 and L464: ( rng C122 ) = { ( {} ) } by FUNCT_1:5;
reconsider D73 = D72 as non  empty  finite (Subset of R2) by XBOOLE_1:1;
L465: ( meet ( rng C122 ) ) = ( {} ) by L464 , SETFAM_1:10;
L466: ( rng C122 ) c= R3
proof
let C123 being set;
assume L467: C123 in ( rng C122 );
L468: C123 = ( {} ) by L467 , L464 , TARSKI:def 1;
thus L469: thesis by L468 , PROB_1:4;
end;
reconsider D74 = C122 as (Function of D73 , R3) by L466 , L463 , FUNCT_2:2;
L470: (for R24 being set holds (R24 in D73 implies ( D74 . R24 ) in ( C115 . R24 )))
proof
let R24 being set;
assume L471: R24 in D73;
reconsider D75 = ( C115 . R24 ) as (SigmaField of R1) by L471 , L195;
L472: ( D74 . R24 ) in ( rng D74 ) by L463 , L471 , FUNCT_1:def 3;
L473: ( D74 . R24 ) = ( {} ) by L472 , L464 , TARSKI:def 1;
L474: ( D74 . R24 ) in D75 by L473 , PROB_1:4;
thus L475: thesis by L474;
end;
reconsider D76 = D74 as (SigmaSection of D73 , C115) by L470 , L208;
reconsider D77 = ( meet ( rng D76 ) ) as (Subset of R1) by L465 , XBOOLE_1:2;
L476: D77 in ( MeetSections (C116 , C115) ) by L257;
thus L477: thesis by L476;
end;
thus L478: thesis by L462 , L430;
end;
registration
let R2 being non  empty set;
let R1 being non  empty set;
let R3 being (SigmaField of R1);
let C124 being (ManySortedSigmaField of R2 , R3);
let C125 being non  empty (Subset of R2);
cluster ( MeetSections (C125 , C124) ) ->  intersection_stable;
coherence
proof
L479: (for R21 being set holds (for R20 being set holds ((R21 in ( MeetSections (C125 , C124) ) & R20 in ( MeetSections (C125 , C124) )) implies ( R21 /\ R20 ) in ( MeetSections (C125 , C124) ))))
proof
let R21 being set;
let R20 being set;
assume that
L480: R21 in ( MeetSections (C125 , C124) )
and
L481: R20 in ( MeetSections (C125 , C124) );
consider C126 being non  empty  finite (Subset of R2), C127 being (SigmaSection of C126 , C124) such that L482: C126 c= C125 and L483: R21 = ( meet ( rng C127 ) ) by L480 , L257;
defpred S10[ set ] means $1 in C126;
deffunc H3(set) = ( C127 . $1 );
consider C128 being non  empty  finite (Subset of R2), C129 being (SigmaSection of C128 , C124) such that L484: C128 c= C125 and L485: R20 = ( meet ( rng C129 ) ) by L481 , L257;
deffunc H4(set) = ( C129 . $1 );
defpred S11[ set ] means $1 in ( ( C126 \ C128 ) \/ ( C128 \ C126 ) );
deffunc H5(set) = ( ( C127 . $1 ) /\ ( C129 . $1 ) );
consider C130 being Function such that L486: (( dom C130 ) = ( C126 \/ C128 ) & (for R24 being set holds (R24 in ( C126 \/ C128 ) implies ((S10[ R24 ] implies ( C130 . R24 ) = H3(R24)) & ((not S10[ R24 ]) implies ( C130 . R24 ) = H4(R24)))))) from PARTFUN1:sch 1;
deffunc H6(set) = ( C130 . $1 );
consider C131 being Function such that L487: (( dom C131 ) = ( C126 \/ C128 ) & (for R24 being set holds (R24 in ( C126 \/ C128 ) implies ((S11[ R24 ] implies ( C131 . R24 ) = H6(R24)) & ((not S11[ R24 ]) implies ( C131 . R24 ) = H5(R24)))))) from PARTFUN1:sch 1;
L488: (for R24 being set holds (R24 in ( C126 \/ C128 ) implies ( C131 . R24 ) in ( C124 . R24 )))
proof
let R24 being set;
assume L489: R24 in ( C126 \/ C128 );
per cases ;
suppose L490: R24 in ( ( C126 \ C128 ) \/ ( C128 \ C126 ) );

L491: ( C130 . R24 ) in ( C124 . R24 )
proof
per cases ;
suppose L492: R24 in C126;

L493: ( C130 . R24 ) = ( C127 . R24 ) by L492 , L486 , L489;
thus L494: thesis by L493 , L492 , L208;
end;
suppose L495: (not R24 in C126);

L496: (R24 in C128 & ( C130 . R24 ) = ( C129 . R24 )) by L495 , L486 , L489 , XBOOLE_0:def 3;
thus L497: thesis by L496 , L208;
end;
end;
thus L499: thesis by L491 , L487 , L489 , L490;
end;
suppose L500: (not R24 in ( ( C126 \ C128 ) \/ ( C128 \ C126 ) ));

reconsider D78 = ( C124 . R24 ) as (SigmaField of R1) by L489 , L195;
L501: (not R24 in ( C126 \+\ C128 )) by L500;
L502: (R24 in C126 iff R24 in C128) by L501 , XBOOLE_0:1;
L503: (( C127 . R24 ) in ( C124 . R24 ) & ( C129 . R24 ) in ( C124 . R24 )) by L502 , L489 , L208 , XBOOLE_0:def 3;
L504: ( ( C127 . R24 ) /\ ( C129 . R24 ) ) is (Event of D78) by L503 , PROB_1:19;
L505: ( C131 . R24 ) = ( ( C127 . R24 ) /\ ( C129 . R24 ) ) by L487 , L489 , L500;
thus L506: thesis by L505 , L504;
end;
end;
L508: ( rng C131 ) c= R3
proof
let R22 being set;
assume L509: R22 in ( rng C131 );
consider R24 being set such that L510: (R24 in ( dom C131 ) & R22 = ( C131 . R24 )) by L509 , FUNCT_1:def 3;
L511: (R22 in ( C124 . R24 ) & ( C124 . R24 ) in ( bool R3 )) by L487 , L488 , L510 , FUNCT_2:5;
thus L512: thesis by L511;
end;
L513: C131 is (Function of ( C126 \/ C128 ) , R3) by L508 , L487 , FUNCT_2:2;
reconsider D79 = C131 as (SigmaSection of ( C126 \/ C128 ) , C124) by L513 , L488 , L208;
L514: ( R21 /\ R20 ) = ( meet ( rng D79 ) )
proof
L515: ( meet ( rng ( D79 | ( C126 /\ C128 ) ) ) ) = ( ( meet ( rng ( C127 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( C129 | ( C126 /\ C128 ) ) ) ) )
proof
per cases ;
suppose L516: ( C126 /\ C128 ) = ( {} );

L517: (( meet ( rng ( C127 | ( C126 /\ C128 ) ) ) ) = ( meet ( rng ( {} ) ) ) & ( meet ( rng ( C129 | ( C126 /\ C128 ) ) ) ) = ( meet ( rng ( {} ) ) )) by L516;
L518: ( meet ( rng ( D79 | ( C126 /\ C128 ) ) ) ) = ( meet ( rng ( {} ) ) ) by L516
.= ( {} ) by SETFAM_1:def 1;
thus L519: thesis by L518 , L517 , SETFAM_1:def 1;
end;
suppose L520: (not ( C126 /\ C128 ) = ( {} ));

reconsider D80 = ( C126 /\ C128 ) as non  empty set by L520;
reconsider D81 = D80 as (Element of ( Fin D80 )) by FINSUB_1:def 5;
L521: (for B73 being (Element of ( Fin D80 )) holds ( meet ( rng ( D79 | B73 ) ) ) = ( ( meet ( rng ( C127 | B73 ) ) ) /\ ( meet ( rng ( C129 | B73 ) ) ) ))
proof
defpred S12[ set ] means ( meet ( rng ( D79 | $1 ) ) ) = ( ( meet ( rng ( C127 | $1 ) ) ) /\ ( meet ( rng ( C129 | $1 ) ) ) );
let C132 being (Element of ( Fin D80 ));
L522: (for B74 being (Element of ( Fin D80 )) holds (for B75 being (Element of D80) holds ((S12[ B74 ] & (not B75 in B74)) implies S12[ ( B74 \/ { B75 } ) ])))
proof
let C133 being (Element of ( Fin D80 ));
let C134 being (Element of D80);
assume that
L523: ( meet ( rng ( D79 | C133 ) ) ) = ( ( meet ( rng ( C127 | C133 ) ) ) /\ ( meet ( rng ( C129 | C133 ) ) ) )
and
L524: (not C134 in C133);
L525: ( dom ( C127 | { C134 } ) ) = ( ( dom C127 ) /\ { C134 } ) by RELAT_1:61;
L526: ( dom C127 ) = C126 by FUNCT_2:def 1;
L527: ( C126 /\ C128 ) c= ( dom C127 ) by L526 , XBOOLE_1:17;
L528: C134 in ( dom C127 ) by L527 , TARSKI:def 3;
L529: ( rng ( C127 | { C134 } ) ) = { ( ( C127 | { C134 } ) . C134 ) } by L528 , L525 , FUNCT_1:4 , ZFMISC_1:46;
L530: C134 in ( ( C126 \ ( C126 \/ C128 ) ) \/ ( ( C126 /\ C126 ) /\ C128 ) ) by XBOOLE_0:def 3;
L531: C134 in ( C126 \ ( C126 \+\ C128 ) ) by L530 , XBOOLE_1:102;
L532: (not C134 in ( C126 \+\ C128 )) by L531 , XBOOLE_0:def 5;
L533: C134 in { C134 } by TARSKI:def 1;
L534: C134 in ( dom C127 ) by L527 , TARSKI:def 3;
L535: C134 in ( dom ( C127 | { C134 } ) ) by L534 , L533 , RELAT_1:57;
L536: ( rng ( C127 | { C134 } ) ) = { ( C127 . C134 ) } by L535 , L529 , FUNCT_1:47;
L537: ( meet ( rng ( C127 | { C134 } ) ) ) = ( C127 . C134 ) by L536 , SETFAM_1:10;
L538: ( C126 /\ C128 ) c= C126 by XBOOLE_1:17;
L539: ( dom ( C129 | { C134 } ) ) = ( ( dom C129 ) /\ { C134 } ) by RELAT_1:61;
L540: ( dom C129 ) = C128 by FUNCT_2:def 1;
L541: ( C126 /\ C128 ) c= ( dom C129 ) by L540 , XBOOLE_1:17;
L542: C134 in ( dom C129 ) by L541 , TARSKI:def 3;
L543: ( rng ( C129 | { C134 } ) ) = { ( ( C129 | { C134 } ) . C134 ) } by L542 , L539 , FUNCT_1:4 , ZFMISC_1:46;
L544: C134 in ( dom C129 ) by L541 , TARSKI:def 3;
L545: C134 in ( dom ( C129 | { C134 } ) ) by L544 , L533 , RELAT_1:57;
L546: ( rng ( C129 | { C134 } ) ) = { ( C129 . C134 ) } by L545 , L543 , FUNCT_1:47;
L547: ( meet ( rng ( C129 | { C134 } ) ) ) = ( C129 . C134 ) by L546 , SETFAM_1:10;
L548: (for B76 being Function holds (for B77 , B78 being set holds ( meet ( rng ( B76 | ( B77 \/ { B78 } ) ) ) ) = ( meet ( ( rng ( B76 | B77 ) ) \/ ( rng ( B76 | { B78 } ) ) ) )))
proof
let C135 being Function;
let C136 , C137 being set;
L549: ( rng ( C135 | ( C136 \/ { C137 } ) ) ) = ( rng ( ( C135 | C136 ) \/ ( C135 | { C137 } ) ) ) by RELAT_1:78;
thus L550: thesis by L549 , RELAT_1:12;
end;
L551: C126 c= ( dom D79 ) by L487 , XBOOLE_1:7;
L552: ( C126 /\ C128 ) c= ( dom D79 ) by L551 , L538 , XBOOLE_1:1;
L553: C134 is (Element of ( dom D79 )) by L552 , TARSKI:def 3;
L554: ( ( dom D79 ) /\ { C134 } ) = { C134 } by L553 , ZFMISC_1:46;
L555: ( dom ( D79 | { C134 } ) ) = { C134 } by L554 , RELAT_1:61;
L556: ( rng ( D79 | { C134 } ) ) = { ( ( D79 | { C134 } ) . C134 ) } by L555 , FUNCT_1:4;
L557: (C134 in { C134 } & C134 in ( dom D79 )) by L552 , TARSKI:def 1 , TARSKI:def 3;
L558: C134 in ( dom ( D79 | { C134 } ) ) by L557 , RELAT_1:57;
L559: ( rng ( D79 | { C134 } ) ) = { ( D79 . C134 ) } by L558 , L556 , FUNCT_1:47;
L560: ( meet ( rng ( D79 | { C134 } ) ) ) = ( D79 . C134 ) by L559 , SETFAM_1:10;
L561: C126 c= ( C126 \/ C128 ) by XBOOLE_1:7;
L562: ( C126 /\ C128 ) c= ( C126 \/ C128 ) by L561 , L538 , XBOOLE_1:1;
L563: C134 in ( C126 \/ C128 ) by L562 , TARSKI:def 3;
L564: ( D79 . C134 ) = ( ( C127 . C134 ) /\ ( C129 . C134 ) ) by L563 , L487 , L532;
per cases ;
suppose L565: C133 = ( {} );

thus L566: thesis by L565 , L537 , L547 , L564 , L559 , SETFAM_1:10;
end;
suppose L567: C133 <> ( {} );

set D82 = the (Element of C133);
L568: C133 c= ( C126 /\ C128 ) by FINSUB_1:def 5;
L569: C133 c= ( C126 \/ C128 ) by L568 , L562 , XBOOLE_1:1;
L570: D82 in C133 by L567;
L571: ( dom ( D79 | C133 ) ) <> ( {} ) by L570 , L487 , L569;
L572: ( rng ( D79 | C133 ) ) <> ( {} ) by L571 , RELAT_1:42;
L573: ( meet ( ( rng ( D79 | C133 ) ) \/ ( rng ( D79 | { C134 } ) ) ) ) = ( ( meet ( rng ( D79 | C133 ) ) ) /\ ( meet ( rng ( D79 | { C134 } ) ) ) ) by L572 , L556 , SETFAM_1:9;
L574: ( meet ( rng ( D79 | ( C133 \/ { C134 } ) ) ) ) = ( ( ( meet ( rng ( C127 | C133 ) ) ) /\ ( meet ( rng ( C129 | C133 ) ) ) ) /\ ( D79 . C134 ) ) by L573 , L523 , L548 , L560
.= ( ( meet ( rng ( C127 | C133 ) ) ) /\ ( ( meet ( rng ( C129 | C133 ) ) ) /\ ( ( C127 . C134 ) /\ ( C129 . C134 ) ) ) ) by L564 , XBOOLE_1:16
.= ( ( meet ( rng ( C127 | C133 ) ) ) /\ ( ( C127 . C134 ) /\ ( ( meet ( rng ( C129 | C133 ) ) ) /\ ( C129 . C134 ) ) ) ) by XBOOLE_1:16
.= ( ( ( meet ( rng ( C127 | C133 ) ) ) /\ ( C127 . C134 ) ) /\ ( ( meet ( rng ( C129 | C133 ) ) ) /\ ( C129 . C134 ) ) ) by XBOOLE_1:16;
L575: (C133 c= ( C126 /\ C128 ) & ( C126 /\ C128 ) c= C128) by FINSUB_1:def 5 , XBOOLE_1:17;
L576: C133 c= C128 by L575 , XBOOLE_1:1;
L577: C133 c= ( dom C129 ) by L576 , FUNCT_2:def 1;
L578: (C133 c= ( C126 /\ C128 ) & ( C126 /\ C128 ) c= C126) by FINSUB_1:def 5 , XBOOLE_1:17;
L579: C133 c= C126 by L578 , XBOOLE_1:1;
L580: C133 c= ( dom C127 ) by L579 , FUNCT_2:def 1;
L581: ( meet ( rng ( C127 | ( C133 \/ { C134 } ) ) ) ) = ( meet ( ( rng ( C127 | C133 ) ) \/ ( rng ( C127 | { C134 } ) ) ) ) by L548
.= ( ( meet ( rng ( C127 | C133 ) ) ) /\ ( meet ( rng ( C127 | { C134 } ) ) ) ) by L529 , L567 , L580 , SETFAM_1:9;
L582: ( ( meet ( rng ( C127 | C133 ) ) ) /\ ( C127 . C134 ) ) = ( meet ( rng ( C127 | ( C133 \/ { C134 } ) ) ) ) by L581 , L536 , SETFAM_1:10;
L583: ( meet ( rng ( C129 | ( C133 \/ { C134 } ) ) ) ) = ( meet ( ( rng ( C129 | C133 ) ) \/ ( rng ( C129 | { C134 } ) ) ) ) by L548
.= ( ( meet ( rng ( C129 | C133 ) ) ) /\ ( meet ( rng ( C129 | { C134 } ) ) ) ) by L543 , L567 , L577 , SETFAM_1:9;
thus L584: thesis by L583 , L546 , L574 , L582 , SETFAM_1:10;
end;
end;
L586: S12[ ( {}. D80 ) ];
L587: (for B79 being (Element of ( Fin D80 )) holds S12[ B79 ]) from SETWISEO:sch 2(L586 , L522);
thus L588: thesis by L587;
end;
L589: ( meet ( rng ( D79 | D81 ) ) ) = ( ( meet ( rng ( C127 | D81 ) ) ) /\ ( meet ( rng ( C129 | D81 ) ) ) ) by L521;
thus L590: thesis by L589;
end;
end;
L592: (for B80 , B81 being set holds (for B82 being Function holds (( dom B82 ) = ( B80 \/ B81 ) implies ( rng B82 ) = ( ( ( rng ( B82 | ( B80 /\ B81 ) ) ) \/ ( rng ( B82 | ( B80 \ B81 ) ) ) ) \/ ( rng ( B82 | ( B81 \ B80 ) ) ) ))))
proof
let C138 , C139 being set;
let C140 being Function;
L593: (( rng ( C140 | ( C138 /\ C139 ) ) ) c= ( rng C140 ) & ( rng ( C140 | ( C138 \ C139 ) ) ) c= ( rng C140 )) by RELAT_1:70;
L594: ( ( rng ( C140 | ( C138 /\ C139 ) ) ) \/ ( rng ( C140 | ( C138 \ C139 ) ) ) ) c= ( rng C140 ) by L593 , XBOOLE_1:8;
assume L595: ( dom C140 ) = ( C138 \/ C139 );
thus L596: ( rng C140 ) c= ( ( ( rng ( C140 | ( C138 /\ C139 ) ) ) \/ ( rng ( C140 | ( C138 \ C139 ) ) ) ) \/ ( rng ( C140 | ( C139 \ C138 ) ) ) )
proof
let R22 being set;
assume L597: R22 in ( rng C140 );
consider R24 being set such that L598: R24 in ( dom C140 ) and L599: R22 = ( C140 . R24 ) by L597 , FUNCT_1:def 3;
per cases ;
suppose L600: R24 in ( ( C138 \ C139 ) \/ ( C139 \ C138 ) );

L601: R22 in ( ( ( rng ( C140 | ( C138 /\ C139 ) ) ) \/ ( rng ( C140 | ( C138 \ C139 ) ) ) ) \/ ( rng ( C140 | ( C139 \ C138 ) ) ) )
proof
per cases ;
suppose L602: R24 in C138;

L603: ( C138 /\ C139 ) c= C138 by XBOOLE_1:17;
L604: ( C138 /\ ( ( C138 \ C139 ) \/ ( C139 \ C138 ) ) ) = ( ( C138 /\ ( C138 \ C139 ) ) \/ ( C138 /\ ( C139 \ C138 ) ) ) by XBOOLE_1:23
.= ( ( C138 \ C139 ) \/ ( C138 /\ ( C139 \ C138 ) ) ) by XBOOLE_1:28
.= ( ( C138 \ C139 ) \/ ( ( C138 /\ C139 ) \ C138 ) ) by XBOOLE_1:49
.= ( ( C138 \ C139 ) \/ ( {} ) ) by L603 , XBOOLE_1:37;
L605: R24 in ( C138 \ C139 ) by L604 , L600 , L602 , XBOOLE_0:def 4;
L606: R24 in ( ( dom C140 ) /\ ( C138 \ C139 ) ) by L605 , L598 , XBOOLE_0:def 4;
L607: R24 in ( dom ( C140 | ( C138 \ C139 ) ) ) by L606 , RELAT_1:61;
L608: ( ( C140 | ( C138 \ C139 ) ) . R24 ) = R22 by L607 , L599 , FUNCT_1:47;
L609: R22 in ( rng ( C140 | ( C138 \ C139 ) ) ) by L608 , L607 , FUNCT_1:def 3;
L610: R22 in ( ( rng ( C140 | ( C138 /\ C139 ) ) ) \/ ( rng ( C140 | ( C138 \ C139 ) ) ) ) by L609 , XBOOLE_0:def 3;
thus L611: thesis by L610 , XBOOLE_0:def 3;
end;
suppose L612: (not R24 in C138);

L613: ( ( ( C138 \ C139 ) \/ ( C139 \ C138 ) ) \ C138 ) = ( ( ( C138 \ C139 ) \ C138 ) \/ ( ( C139 \ C138 ) \ C138 ) ) by XBOOLE_1:42
.= ( ( {} ) \/ ( ( C139 \ C138 ) \ C138 ) ) by XBOOLE_1:37
.= ( C139 \ ( C138 \/ C138 ) ) by XBOOLE_1:41;
L614: R24 in ( C139 \ ( C138 \/ C138 ) ) by L613 , L600 , L612 , XBOOLE_0:def 5;
L615: R24 in ( ( dom C140 ) /\ ( C139 \ C138 ) ) by L614 , L598 , XBOOLE_0:def 4;
L616: R24 in ( dom ( C140 | ( C139 \ C138 ) ) ) by L615 , RELAT_1:61;
L617: ( ( C140 | ( C139 \ C138 ) ) . R24 ) = R22 by L616 , L599 , FUNCT_1:47;
L618: R22 in ( rng ( C140 | ( C139 \ C138 ) ) ) by L617 , L616 , FUNCT_1:def 3;
L619: R22 in ( ( rng ( C140 | ( C138 \ C139 ) ) ) \/ ( rng ( C140 | ( C139 \ C138 ) ) ) ) by L618 , XBOOLE_0:def 3;
L620: R22 in ( ( rng ( C140 | ( C138 /\ C139 ) ) ) \/ ( ( rng ( C140 | ( C138 \ C139 ) ) ) \/ ( rng ( C140 | ( C139 \ C138 ) ) ) ) ) by L619 , XBOOLE_0:def 3;
thus L621: thesis by L620 , XBOOLE_1:4;
end;
end;
thus L623: thesis by L601;
end;
suppose L624: (not R24 in ( ( C138 \ C139 ) \/ ( C139 \ C138 ) ));

L625: ( ( C138 \/ C139 ) \ ( C138 \+\ C139 ) ) = ( ( ( C138 \/ C139 ) \ ( C138 \/ C139 ) ) \/ ( ( ( C138 \/ C139 ) /\ C138 ) /\ C139 ) ) by XBOOLE_1:102
.= ( ( {} ) \/ ( ( ( C138 \/ C139 ) /\ C138 ) /\ C139 ) ) by XBOOLE_1:37
.= ( ( C138 \/ C139 ) /\ ( C138 /\ C139 ) ) by XBOOLE_1:16;
L626: R24 in ( ( C138 \/ C139 ) \ ( C138 \+\ C139 ) ) by L595 , L598 , L624 , XBOOLE_0:def 5;
L627: R24 in ( dom ( C140 | ( C138 /\ C139 ) ) ) by L626 , L595 , L625 , RELAT_1:61;
L628: ( ( C140 | ( C138 /\ C139 ) ) . R24 ) = R22 by L627 , L599 , FUNCT_1:47;
L629: R22 in ( rng ( C140 | ( C138 /\ C139 ) ) ) by L628 , L627 , FUNCT_1:def 3;
L630: R22 in ( ( rng ( C140 | ( C138 /\ C139 ) ) ) \/ ( rng ( C140 | ( C138 \ C139 ) ) ) ) by L629 , XBOOLE_0:def 3;
thus L631: thesis by L630 , XBOOLE_0:def 3;
end;
end;

L633: ( rng ( C140 | ( C139 \ C138 ) ) ) c= ( rng C140 ) by RELAT_1:70;
thus L634: thesis by L633 , L594 , XBOOLE_1:8;
end;
L635: ( rng D79 ) = ( ( ( rng ( D79 | ( C126 /\ C128 ) ) ) \/ ( rng ( D79 | ( C126 \ C128 ) ) ) ) \/ ( rng ( D79 | ( C128 \ C126 ) ) ) ) by L592 , L487;
L636: ( dom ( D79 | ( C128 \ C126 ) ) ) = ( ( dom D79 ) /\ ( C128 \ C126 ) ) by RELAT_1:61
.= ( ( C126 \/ C128 ) /\ ( C128 \ C126 ) ) by FUNCT_2:def 1
.= ( ( ( C126 \/ C128 ) /\ C128 ) \ C126 ) by XBOOLE_1:49
.= ( C128 \ C126 ) by XBOOLE_1:21;
L637: (for R24 being set holds (R24 in ( dom ( D79 | ( C128 \ C126 ) ) ) implies ( ( D79 | ( C128 \ C126 ) ) . R24 ) = ( C129 . R24 )))
proof
let R24 being set;
assume L638: R24 in ( dom ( D79 | ( C128 \ C126 ) ) );
L639: R24 in ( ( C126 \ C128 ) \/ ( C128 \ C126 ) ) by L638 , L636 , XBOOLE_0:def 3;
L640: (not R24 in C126) by L636 , L638 , XBOOLE_0:def 5;
L641: ( C129 . R24 ) = ( C130 . R24 ) by L640 , L486 , L638
.= ( D79 . R24 ) by L487 , L638 , L639;
thus L642: thesis by L641 , L638 , FUNCT_1:47;
end;
L643: ( dom ( D79 | ( C128 \ C126 ) ) ) = ( ( C128 /\ C128 ) \ C126 ) by L636
.= ( C128 /\ ( C128 \ C126 ) ) by XBOOLE_1:49
.= ( ( dom C129 ) /\ ( C128 \ C126 ) ) by FUNCT_2:def 1;
L644: ( meet ( rng ( D79 | ( C128 \ C126 ) ) ) ) = ( meet ( rng ( C129 | ( C128 \ C126 ) ) ) ) by L643 , L637 , FUNCT_1:46;
L645: ( dom ( D79 | ( C126 \ C128 ) ) ) = ( ( dom D79 ) /\ ( C126 \ C128 ) ) by RELAT_1:61
.= ( ( C126 \/ C128 ) /\ ( C126 \ C128 ) ) by FUNCT_2:def 1
.= ( ( ( C126 \/ C128 ) /\ C126 ) \ C128 ) by XBOOLE_1:49
.= ( C126 \ C128 ) by XBOOLE_1:21;
L646: (for R24 being set holds (R24 in ( dom ( D79 | ( C126 \ C128 ) ) ) implies ( ( D79 | ( C126 \ C128 ) ) . R24 ) = ( C127 . R24 )))
proof
let R24 being set;
L647: ( C126 \ C128 ) c= C126 by XBOOLE_1:36;
assume L648: R24 in ( dom ( D79 | ( C126 \ C128 ) ) );
L649: R24 in ( ( C126 \ C128 ) \/ ( C128 \ C126 ) ) by L648 , L645 , XBOOLE_0:def 3;
L650: ( D79 . R24 ) = ( C130 . R24 ) by L649 , L487 , L648
.= ( C127 . R24 ) by L486 , L645 , L648 , L647;
thus L651: thesis by L650 , L648 , FUNCT_1:47;
end;
L652: ( dom ( D79 | ( C126 \ C128 ) ) ) = ( ( C126 /\ C126 ) \ C128 ) by L645
.= ( C126 /\ ( C126 \ C128 ) ) by XBOOLE_1:49
.= ( ( dom C127 ) /\ ( C126 \ C128 ) ) by FUNCT_2:def 1;
L653: ( meet ( rng ( D79 | ( C126 \ C128 ) ) ) ) = ( meet ( rng ( C127 | ( C126 \ C128 ) ) ) ) by L652 , L646 , FUNCT_1:46;
per cases ;
suppose L654: ( C126 /\ C128 ) = ( {} );

L655: ( C126 \ C128 ) c= C126 by XBOOLE_1:36;
L656: (C128 c= ( dom D79 ) & C126 c= ( dom D79 )) by L487 , XBOOLE_1:7;
L657: ( C128 \ C126 ) c= C128 by XBOOLE_1:36;
L658: C126 misses C128 by L654 , XBOOLE_0:def 7;
L659: (( C127 | ( C126 \ C128 ) ) = C127 & ( C129 | ( C128 \ C126 ) ) = C129) by L658 , RELSET_1:19 , XBOOLE_1:86;
L660: C126 c= ( C126 \ C128 ) by L658 , XBOOLE_1:86;
L661: C126 = ( C126 \ C128 ) by L660 , L655 , XBOOLE_0:def 10;
L662: C128 c= ( C128 \ C126 ) by L658 , XBOOLE_1:86;
L663: C128 = ( C128 \ C126 ) by L662 , L657 , XBOOLE_0:def 10;
L664: ( rng ( D79 | ( C126 /\ C128 ) ) ) = ( {} ) by L654;
thus L665: thesis by L664 , L483 , L485 , L653 , L644 , L635 , L659 , L663 , L661 , L656 , SETFAM_1:9;
end;
suppose L666: (not ( C126 /\ C128 ) = ( {} ));

L667: ( meet ( rng D79 ) ) = ( ( meet ( rng C127 ) ) /\ ( meet ( rng C129 ) ) )
proof
per cases ;
suppose L668: ( C126 \ C128 ) = ( {} );

L669: ( rng ( D79 | ( C126 \ C128 ) ) ) = ( {} ) by L668;
L670: C126 c= C128 by L668 , XBOOLE_1:37;
L671: ( C126 /\ C128 ) c= ( dom D79 ) by L487 , XBOOLE_1:29;
L672: ( meet ( rng D79 ) ) = ( ( meet ( rng C127 ) ) /\ ( meet ( rng C129 ) ) )
proof
per cases ;
suppose L673: ( C128 \ C126 ) = ( {} );

L674: C128 c= C126 by L673 , XBOOLE_1:37;
L675: C126 = C128 by L674 , L670 , XBOOLE_0:def 10;
L676: ( C127 | C126 ) = C127;
thus L677: thesis by L676 , L515 , L635 , L669 , L675 , RELSET_1:19;
end;
suppose L678: ( C128 \ C126 ) <> ( {} );

L679: (( C128 \ C126 ) c= C128 & C128 c= ( C128 \/ C126 )) by XBOOLE_1:7 , XBOOLE_1:36;
L680: ( C128 \ C126 ) c= ( dom D79 ) by L679 , L487 , XBOOLE_1:1;
L681: ( meet ( rng D79 ) ) = ( ( meet ( rng ( D79 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( D79 | ( C128 \ C126 ) ) ) ) ) by L680 , L635 , L666 , L669 , L671 , L678 , SETFAM_1:9;
L682: ( meet ( rng D79 ) ) = ( ( ( meet ( rng C127 ) ) /\ ( meet ( rng ( C129 | ( C126 /\ C128 ) ) ) ) ) /\ ( meet ( rng ( C129 | ( C128 \ C126 ) ) ) ) ) by L681 , L515 , L644 , L670 , RELSET_1:19 , XBOOLE_1:19;
L683: ( rng ( C129 | ( C126 \ C128 ) ) ) = ( {} ) by L668;
L684: ( C128 \ C126 ) c= C128 by XBOOLE_1:36;
L685: ( C128 \ C126 ) c= ( dom C129 ) by L684 , FUNCT_2:def 1;
L686: ( C126 /\ C128 ) c= C128 by XBOOLE_1:17;
L687: ( C126 /\ C128 ) c= ( dom C129 ) by L686 , FUNCT_2:def 1;
L688: (( C128 \/ C126 ) = C128 & ( dom C129 ) = C128) by L670 , FUNCT_2:def 1 , XBOOLE_1:12;
L689: ( rng C129 ) = ( ( ( rng ( C129 | ( C126 /\ C128 ) ) ) \/ ( rng ( C129 | ( C126 \ C128 ) ) ) ) \/ ( rng ( C129 | ( C128 \ C126 ) ) ) ) by L688 , L592
.= ( ( rng ( C129 | ( C126 /\ C128 ) ) ) \/ ( rng ( C129 | ( C128 \ C126 ) ) ) ) by L683;
L690: ( meet ( rng C129 ) ) = ( ( meet ( rng ( C129 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( C129 | ( C128 \ C126 ) ) ) ) ) by L689 , L666 , L678 , L687 , L685 , SETFAM_1:9;
thus L691: thesis by L690 , L682 , XBOOLE_1:16;
end;
end;
thus L693: thesis by L672;
end;
suppose L694: (not ( C126 \ C128 ) = ( {} ));

L695: ( meet ( rng D79 ) ) = ( ( meet ( rng C127 ) ) /\ ( meet ( rng C129 ) ) )
proof
L696: (( C126 \ C128 ) c= C126 & C126 c= ( dom D79 )) by L487 , XBOOLE_1:7 , XBOOLE_1:36;
L697: ( rng ( D79 | ( C126 \ C128 ) ) ) <> ( {} ) by L696 , L694 , L1 , XBOOLE_1:1;
L698: ( C126 /\ C128 ) c= ( C126 \/ C128 ) by XBOOLE_1:29;
per cases ;
suppose L699: ( C128 \ C126 ) = ( {} );

L700: ( rng ( C127 | ( C128 \ C126 ) ) ) = ( {} ) by L699;
L701: C128 c= C126 by L699 , XBOOLE_1:37;
L702: C126 = ( C126 \/ C128 ) by L701 , XBOOLE_1:12;
L703: ( dom C127 ) = ( C126 \/ C128 ) by L702 , FUNCT_2:def 1;
L704: ( rng C127 ) = ( ( ( rng ( C127 | ( C126 /\ C128 ) ) ) \/ ( rng ( C127 | ( C126 \ C128 ) ) ) ) \/ ( rng ( C127 | ( C128 \ C126 ) ) ) ) by L703 , L592
.= ( ( rng ( C127 | ( C126 /\ C128 ) ) ) \/ ( rng ( C127 | ( C126 \ C128 ) ) ) ) by L700;
L705: ( C126 \ C128 ) c= C126 by XBOOLE_1:36;
L706: ( C126 \ C128 ) c= ( dom C127 ) by L705 , FUNCT_2:def 1;
L707: C128 c= C126 by L699 , XBOOLE_1:37;
L708: ( C129 | ( C126 /\ C128 ) ) = C129 by L707 , RELSET_1:19 , XBOOLE_1:19;
L709: ( dom C127 ) = C126 by FUNCT_2:def 1;
L710: ( rng ( C127 | ( C126 /\ C128 ) ) ) <> ( {} ) by L709 , L666 , L1 , XBOOLE_1:17;
L711: ( rng ( D79 | ( C128 \ C126 ) ) ) = ( {} ) by L699;
L712: ( meet ( rng D79 ) ) = ( ( meet ( rng ( D79 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( D79 | ( C126 \ C128 ) ) ) ) ) by L711 , L487 , L635 , L666 , L698 , L697 , SETFAM_1:9
.= ( ( ( meet ( rng ( C127 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( C127 | ( C126 \ C128 ) ) ) ) ) /\ ( meet ( rng ( C129 | ( C126 /\ C128 ) ) ) ) ) by L515 , L653 , XBOOLE_1:16;
thus L713: thesis by L712 , L694 , L708 , L704 , L710 , L706 , SETFAM_1:9;
end;
suppose L714: (not ( C128 \ C126 ) = ( {} ));

L715: (( C128 \ C126 ) c= C128 & C128 c= ( C126 \/ C128 )) by XBOOLE_1:7 , XBOOLE_1:36;
L716: ( C128 \ C126 ) c= ( dom D79 ) by L715 , L487 , XBOOLE_1:1;
L717: ( meet ( rng D79 ) ) = ( ( meet ( ( rng ( D79 | ( C126 /\ C128 ) ) ) \/ ( rng ( D79 | ( C126 \ C128 ) ) ) ) ) /\ ( meet ( rng ( D79 | ( C128 \ C126 ) ) ) ) ) by L716 , L487 , L635 , L666 , L698 , L714 , SETFAM_1:9
.= ( ( ( meet ( rng ( D79 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( D79 | ( C126 \ C128 ) ) ) ) ) /\ ( meet ( rng ( D79 | ( C128 \ C126 ) ) ) ) ) by L487 , L666 , L698 , L697 , SETFAM_1:9;
L718: ( meet ( rng D79 ) ) = ( ( ( ( meet ( rng ( C127 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( C127 | ( C126 \ C128 ) ) ) ) ) /\ ( meet ( rng ( C129 | ( C126 /\ C128 ) ) ) ) ) /\ ( meet ( rng ( C129 | ( C128 \ C126 ) ) ) ) ) by L717 , L515 , L653 , L644 , XBOOLE_1:16;
L719: ( C126 /\ C128 ) c= C126 by XBOOLE_1:17;
L720: ( C126 /\ C128 ) c= ( dom C127 ) by L719 , FUNCT_2:def 1;
L721: ( C126 \/ ( C126 /\ C128 ) ) = C126 by XBOOLE_1:12 , XBOOLE_1:17;
L722: ( dom C127 ) = ( C126 \/ ( C126 /\ C128 ) ) by L721 , FUNCT_2:def 1;
L723: ( rng C127 ) = ( ( ( rng ( C127 | ( C126 /\ ( C126 /\ C128 ) ) ) ) \/ ( rng ( C127 | ( C126 \ ( C126 /\ C128 ) ) ) ) ) \/ ( rng ( C127 | ( ( C126 /\ C128 ) \ C126 ) ) ) ) by L722 , L592;
L724: ( C126 /\ C128 ) c= C126 by XBOOLE_1:17;
L725: ( ( C126 /\ C128 ) \ C126 ) = ( {} ) by L724 , XBOOLE_1:37;
L726: ( rng ( C127 | ( ( C126 /\ C128 ) \ C126 ) ) ) = ( {} ) by L725;
L727: ( C128 \ C126 ) c= C128 by XBOOLE_1:36;
L728: ( C128 \ C126 ) c= ( dom C129 ) by L727 , FUNCT_2:def 1;
L729: ( C126 /\ C128 ) c= C128 by XBOOLE_1:17;
L730: ( C126 /\ C128 ) c= ( dom C129 ) by L729 , FUNCT_2:def 1;
L731: ( C126 /\ C128 ) c= C128 by XBOOLE_1:17;
L732: (( C128 \ C126 ) = ( C128 \ ( C126 /\ C128 ) ) & ( ( C126 /\ C128 ) \ C128 ) = ( {} )) by L731 , XBOOLE_1:37 , XBOOLE_1:47;
L733: ( C128 \/ ( C126 /\ C128 ) ) = C128 by XBOOLE_1:12 , XBOOLE_1:17;
L734: ( dom C129 ) = ( C128 \/ ( C126 /\ C128 ) ) by L733 , FUNCT_2:def 1;
L735: ( C128 /\ ( C126 /\ C128 ) ) = ( ( C128 /\ C128 ) /\ C126 ) by XBOOLE_1:16
.= ( C126 /\ C128 );
L736: ( rng C129 ) = ( ( ( rng ( C129 | ( C126 /\ C128 ) ) ) \/ ( rng ( C129 | ( C128 \ C126 ) ) ) ) \/ ( rng ( C129 | ( {} ) ) ) ) by L735 , L592 , L734 , L732;
L737: ( meet ( rng C129 ) ) = ( ( meet ( rng ( C129 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( C129 | ( C128 \ C126 ) ) ) ) ) by L736 , L666 , L714 , L730 , L728 , SETFAM_1:9;
L738: ( C126 \ C128 ) c= C126 by XBOOLE_1:36;
L739: ( C126 \ C128 ) c= ( dom C127 ) by L738 , FUNCT_2:def 1;
L740: ( C126 /\ ( C126 /\ C128 ) ) = ( ( C126 /\ C126 ) /\ C128 ) by XBOOLE_1:16
.= ( C126 /\ C128 );
L741: ( rng C127 ) = ( ( rng ( C127 | ( C126 /\ C128 ) ) ) \/ ( rng ( C127 | ( C126 \ C128 ) ) ) ) by L740 , L723 , L726 , XBOOLE_1:47;
L742: ( meet ( rng C127 ) ) = ( ( meet ( rng ( C127 | ( C126 /\ C128 ) ) ) ) /\ ( meet ( rng ( C127 | ( C126 \ C128 ) ) ) ) ) by L741 , L666 , L694 , L720 , L739 , SETFAM_1:9;
thus L743: thesis by L742 , L737 , L718 , XBOOLE_1:16;
end;
end;
thus L745: thesis by L695;
end;
end;
thus L747: thesis by L667 , L483 , L485;
end;
end;
L749: (for R22 being set holds (R22 in ( ( meet ( rng C127 ) ) /\ ( meet ( rng C129 ) ) ) implies R22 in R1))
proof
let R22 being set;
consider R18 being set such that L750: R18 in ( rng C127 ) by XBOOLE_0:def 1;
consider R19 being set such that L751: R19 in ( rng C129 ) by XBOOLE_0:def 1;
assume L752: R22 in ( ( meet ( rng C127 ) ) /\ ( meet ( rng C129 ) ) );
L753: R22 in ( meet ( rng C129 ) ) by L752 , XBOOLE_0:def 4;
L754: R22 in R19 by L753 , L751 , SETFAM_1:def 1;
L755: R22 in ( meet ( rng C127 ) ) by L752 , XBOOLE_0:def 4;
L756: R22 in R18 by L755 , L750 , SETFAM_1:def 1;
L757: R22 in ( R18 /\ R19 ) by L756 , L754 , XBOOLE_0:def 4;
L758: ( R18 /\ R19 ) is (Event of R3) by L750 , L751 , PROB_1:19;
thus L759: thesis by L758 , L757;
end;
reconsider D83 = ( R21 /\ R20 ) as (Subset of R1) by L749 , L483 , L485 , TARSKI:def 3;
L760: ( C126 \/ C128 ) c= C125 by L482 , L484 , XBOOLE_1:8;
L761: D83 in ( MeetSections (C125 , C124) ) by L760 , L514 , L257;
thus L762: thesis by L761;
end;
thus L763: thesis by L479 , FINSUB_1:def 2;
end;
end;
theorem
L765: (for R1 being non  empty set holds (for R2 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for B83 being (ManySortedSigmaField of R2 , R3) holds (for B84 , B85 being non  empty (Subset of R2) holds ((B83 is_independent_wrt R4 & B84 misses B85) implies (for R14 being (Event of R3) holds (for R15 being (Event of R3) holds ((R14 in ( sigUn (B83 , B84) ) & R15 in ( sigUn (B83 , B85) )) implies ( R4 . ( R14 /\ R15 ) ) = ( ( R4 . R14 ) * ( R4 . R15 ) )))))))))))
proof
let R1 being non  empty set;
let R2 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let C141 being (ManySortedSigmaField of R2 , R3);
let C142 , C143 being non  empty (Subset of R2);
L766: (( MeetSections (C142 , C141) ) is non  empty non  empty non  empty non  empty (Subset of R3) & ( MeetSections (C143 , C141) ) is non  empty non  empty non  empty non  empty (Subset of R3)) by L429;
assume L767: (C141 is_independent_wrt R4 & C142 misses C143);
L768: (for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in ( MeetSections (C142 , C141) ) & R13 in ( MeetSections (C143 , C141) )) implies R12 , R13 are_independent_respect_to R4)))
proof
let R12 being (Event of R3);
let R13 being (Event of R3);
assume L769: (R12 in ( MeetSections (C142 , C141) ) & R13 in ( MeetSections (C143 , C141) ));
reconsider D84 = R12 , D85 = R13 as (Subset of R1);
L770: ( R4 . ( D84 /\ D85 ) ) = ( ( R4 . D84 ) * ( R4 . D85 ) ) by L767 , L769 , L331;
thus L771: thesis by L770 , PROB_2:def 4;
end;
let R14 being (Event of R3);
let R15 being (Event of R3);
assume L772: (R14 in ( sigUn (C141 , C142) ) & R15 in ( sigUn (C141 , C143) ));
L773: (R14 in ( sigma ( MeetSections (C142 , C141) ) ) & R15 in ( sigma ( MeetSections (C143 , C141) ) )) by L772 , L268;
L774: R14 , R15 are_independent_respect_to R4 by L773 , L766 , L768 , L186;
thus L775: thesis by L774 , PROB_2:def 4;
end;
definition
let C144 being set;
let C145 being non  empty set;
let C146 being (SigmaField of C145);
let C147 being (ManySortedSigmaField of C144 , C146);
func finSigmaFields (C147 , C144) -> (Subset-Family of C145) means 
:L776: (for B86 being (Subset of C145) holds (B86 in it iff (ex B87 being  finite (Subset of C144) st B86 in ( sigUn (C147 , B87) ))));
existence
proof
defpred S13[ set ] means (ex B88 being  finite (Subset of C144) st $1 in ( sigUn (C147 , B88) ));
consider R20 being set such that L777: (for R21 being set holds (R21 in R20 iff (R21 in ( bool C145 ) & S13[ R21 ]))) from XBOOLE_0:sch 1;
L778: (for R21 being set holds (R21 in R20 implies R21 in ( bool C145 ))) by L777;
reconsider D86 = R20 as (Subset-Family of C145) by L778 , TARSKI:def 3;
take D86;
let C148 being (Subset of C145);
thus L779: thesis by L777;
end;
uniqueness
proof
let C149 , C150 being (Subset-Family of C145);
assume L780: (for B89 being (Subset of C145) holds (B89 in C149 iff (ex B90 being  finite (Subset of C144) st B89 in ( sigUn (C147 , B90) ))));
assume L781: (for B91 being (Subset of C145) holds (B91 in C150 iff (ex B92 being  finite (Subset of C144) st B91 in ( sigUn (C147 , B92) ))));
L782:
now
let C151 being (Subset of C145);
L783: (C151 in C149 iff (ex B93 being  finite (Subset of C144) st C151 in ( sigUn (C147 , B93) ))) by L780;
thus L784: (C151 in C149 iff C151 in C150) by L783 , L781;
end;
thus L785: thesis by L782 , SUBSET_1:3;
end;
end;
theorem
L787: (for R1 being non  empty set holds (for R2 being non  empty set holds (for R3 being (SigmaField of R1) holds (for B94 being (ManySortedSigmaField of R2 , R3) holds ( tailSigmaField (B94 , R2) ) is (SigmaField of R1)))))
proof
let R1 being non  empty set;
let R2 being non  empty set;
let R3 being (SigmaField of R1);
let C152 being (ManySortedSigmaField of R2 , R3);
L788: (for B95 being (SetSequence of R1) holds (( rng B95 ) c= ( tailSigmaField (C152 , R2) ) implies ( Intersection B95 ) in ( tailSigmaField (C152 , R2) )))
proof
let C153 being (SetSequence of R1);
assume L789: ( rng C153 ) c= ( tailSigmaField (C152 , R2) );
L790: (for R16 being (Element of ( NAT )) holds (for R18 being set holds (R18 in ( futSigmaFields (C152 , R2) ) implies ( C153 . R16 ) in R18)))
proof
let R16 being (Element of ( NAT ));
let R18 being set;
L791: ( C153 . R16 ) in ( rng C153 ) by NAT_1:51;
assume L792: R18 in ( futSigmaFields (C152 , R2) );
thus L793: thesis by L792 , L789 , L791 , SETFAM_1:def 1;
end;
L794: (for R18 being set holds (R18 in ( futSigmaFields (C152 , R2) ) implies ( ( Union ( Complement C153 ) ) ` ) in R18))
proof
let R18 being set;
assume L795: R18 in ( futSigmaFields (C152 , R2) );
L796: (ex B96 being  finite (Subset of R2) st R18 = ( sigUn (C152 , ( R2 \ B96 )) )) by L795 , L233;
reconsider D87 = R18 as (SigmaField of R1) by L796;
L797: (for B97 being Nat holds ( ( Complement C153 ) . B97 ) in D87)
proof
let C154 being Nat;
reconsider D88 = C154 as (Element of ( NAT )) by ORDINAL1:def 12;
L798: ( C153 . D88 ) in D87 by L790 , L795;
L799: ( ( C153 . D88 ) ` ) is (Event of D87) by L798 , PROB_1:20;
L800: ( ( C153 . D88 ) ` ) in D87 by L799;
thus L801: thesis by L800 , PROB_1:def 2;
end;
L802: ( rng ( Complement C153 ) ) c= D87 by L797 , NAT_1:52;
reconsider D89 = ( Complement C153 ) as (SetSequence of D87) by L802 , RELAT_1:def 19;
L803: ( Union D89 ) in D87 by PROB_1:17;
L804: ( ( Union ( Complement C153 ) ) ` ) is (Event of D87) by L803 , PROB_1:20;
thus L805: thesis by L804;
end;
thus L806: thesis by L794 , SETFAM_1:def 1;
end;
L807: (for B98 being (Subset of R1) holds (B98 in ( tailSigmaField (C152 , R2) ) implies ( B98 ` ) in ( tailSigmaField (C152 , R2) )))
proof
let C155 being (Subset of R1);
assume L808: C155 in ( tailSigmaField (C152 , R2) );
L809: (for R18 being set holds (R18 in ( futSigmaFields (C152 , R2) ) implies ( C155 ` ) in R18))
proof
let R18 being set;
assume L810: R18 in ( futSigmaFields (C152 , R2) );
consider C156 being  finite (Subset of R2) such that L811: R18 = ( sigUn (C152 , ( R2 \ C156 )) ) by L810 , L233;
L812: C155 in R18 by L808 , L810 , SETFAM_1:def 1;
L813: ( C155 ` ) is (Event of ( sigma ( Union ( C152 | ( R2 \ C156 ) ) ) )) by L812 , L811 , PROB_1:20;
thus L814: thesis by L813 , L811;
end;
thus L815: thesis by L809 , SETFAM_1:def 1;
end;
thus L816: thesis by L807 , L788 , PROB_1:15;
end;
::$N Koenig Lemma
theorem
L817: (for R1 being non  empty set holds (for R2 being non  empty set holds (for R3 being (SigmaField of R1) holds (for R4 being (Probability of R3) holds (for R11 being (Element of R3) holds (for B99 being (ManySortedSigmaField of R2 , R3) holds ((B99 is_independent_wrt R4 & R11 in ( tailSigmaField (B99 , R2) )) implies (( R4 . R11 ) = ( 0 ) or ( R4 . R11 ) = 1))))))))
proof
let R1 being non  empty set;
let R2 being non  empty set;
let R3 being (SigmaField of R1);
let R4 being (Probability of R3);
let R11 being (Element of R3);
let C157 being (ManySortedSigmaField of R2 , R3);
reconsider D90 = ( tailSigmaField (C157 , R2) ) as (SigmaField of R1) by L787;
set D91 = ( R2 \ ( {} R2 ) );
L818: (R11 in ( tailSigmaField (C157 , R2) ) implies R11 in ( sigUn (C157 , D91) ))
proof
assume L819: R11 in ( tailSigmaField (C157 , R2) );
L820: ( sigUn (C157 , D91) ) in ( futSigmaFields (C157 , R2) ) by L233;
thus L821: thesis by L820 , L819 , SETFAM_1:def 1;
end;
assume L822: C157 is_independent_wrt R4;
L823: (for B100 being  finite (Subset of R2) holds (for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in ( sigUn (C157 , B100) ) & R13 in ( tailSigmaField (C157 , R2) )) implies R12 , R13 are_independent_respect_to R4))))
proof
let C158 being  finite (Subset of R2);
let R12 being (Event of R3);
let R13 being (Event of R3);
assume that
L824: R12 in ( sigUn (C157 , C158) )
and
L825: R13 in ( tailSigmaField (C157 , R2) );
L826: (for B101 being  finite (Subset of R2) holds R13 in ( sigUn (C157 , ( R2 \ B101 )) ))
proof
let C159 being  finite (Subset of R2);
L827: ( sigUn (C157 , ( R2 \ C159 )) ) in ( futSigmaFields (C157 , R2) ) by L233;
thus L828: thesis by L827 , L825 , SETFAM_1:def 1;
end;
L829: R13 in ( sigUn (C157 , ( R2 \ C158 )) ) by L826;
per cases ;
suppose L830: (C158 <> ( {} ) & ( R2 \ C158 ) <> ( {} ));

reconsider D92 = C158 as non  empty (Subset of R2) by L830;
reconsider D93 = ( R2 \ D92 ) as non  empty (Subset of R2) by L830;
L831: D92 misses D93 by XBOOLE_1:79;
L832: ( R4 . ( R12 /\ R13 ) ) = ( ( R4 . R12 ) * ( R4 . R13 ) ) by L831 , L822 , L824 , L829 , L765;
thus L833: thesis by L832 , PROB_2:def 4;
end;
suppose L834: (not (C158 <> ( {} ) & ( R2 \ C158 ) <> ( {} )));

reconsider D94 = ( {} ) as (Subset of R2) by XBOOLE_1:2;
L835: (for R14 being (Event of R3) holds (for R15 being (Event of R3) holds (R14 in { ( {} ) , R1 } implies R14 , R15 are_independent_respect_to R4)))
proof
let R14 being (Event of R3);
let R15 being (Event of R3);
assume L836: R14 in { ( {} ) , R1 };
per cases ;
suppose L837: R14 = ( {} );

thus L838: thesis by L837 , PROB_2:19 , PROB_2:23;
end;
suppose L839: R14 <> ( {} );

L840: R14 = ( [#] R3 ) by L839 , L836 , TARSKI:def 2;
thus L841: thesis by L840 , PROB_2:19 , PROB_2:24;
end;
end;
L843: ( Union ( C157 | ( {} ) ) ) = ( {} ) by ZFMISC_1:2;
L844: ( sigUn (C157 , D94) ) = { ( {} ) , R1 } by L843 , L11;
L845: R12 , R13 are_independent_respect_to R4
proof
per cases ;
suppose L846: C158 = ( {} );

thus L847: thesis by L846 , L824 , L844 , L835;
end;
suppose L848: C158 <> ( {} );

thus L849: thesis by L848 , L829 , L834 , L844 , L835 , PROB_2:19;
end;
end;
thus L851: thesis by L845;
end;
end;
L853: (for R12 being (Event of R3) holds (for R13 being (Event of R3) holds ((R12 in ( finSigmaFields (C157 , R2) ) & R13 in ( tailSigmaField (C157 , R2) )) implies R12 , R13 are_independent_respect_to R4)))
proof
let R12 being (Event of R3);
let R13 being (Event of R3);
assume that
L854: R12 in ( finSigmaFields (C157 , R2) )
and
L855: R13 in ( tailSigmaField (C157 , R2) );
L856: (ex B102 being  finite (Subset of R2) st R12 in ( sigUn (C157 , B102) )) by L854 , L776;
thus L857: thesis by L856 , L823 , L855;
end;
L858: ( Union ( C157 | D91 ) ) c= ( sigma ( finSigmaFields (C157 , R2) ) )
proof
let R21 being set;
L859: ( dom C157 ) c= D91;
assume L860: R21 in ( Union ( C157 | D91 ) );
L861: R21 in ( union ( rng C157 ) ) by L860 , L859 , RELAT_1:68;
consider R22 being set such that L862: R21 in R22 and L863: R22 in ( rng C157 ) by L861 , TARSKI:def 4;
consider R24 being set such that L864: R24 in ( dom C157 ) and L865: R22 = ( C157 . R24 ) by L863 , FUNCT_1:def 3;
L866: R21 in ( finSigmaFields (C157 , R2) )
proof
reconsider D95 = ( C157 . R24 ) as (SigmaField of R1) by L864 , L195;
L867: (( sigma D95 ) c= D95 & D95 c= ( sigma D95 )) by PROB_1:def 9;
L868: R24 in R2 by L864;
L869: (for R23 being set holds (R23 in { R24 } implies R23 in R2)) by L868 , TARSKI:def 1;
reconsider D96 = { R24 } as  finite (Subset of R2) by L869 , TARSKI:def 3;
L870: ( dom ( C157 | { R24 } ) ) = ( ( dom C157 ) /\ { R24 } ) by RELAT_1:61
.= { R24 } by L864 , ZFMISC_1:46;
L871: ( rng ( C157 | { R24 } ) ) = { ( ( C157 | { R24 } ) . R24 ) } by L870 , FUNCT_1:4;
L872: ( union ( rng ( C157 | { R24 } ) ) ) = ( ( C157 | { R24 } ) . R24 ) by L871 , ZFMISC_1:25;
L873: R24 in ( dom ( C157 | { R24 } ) ) by L870 , TARSKI:def 1;
L874: ( Union ( C157 | { R24 } ) ) = ( C157 . R24 ) by L873 , L872 , FUNCT_1:47;
L875: ( sigUn (C157 , D96) ) = ( C157 . R24 ) by L874 , L867 , XBOOLE_0:def 10;
thus L876: thesis by L875 , L862 , L865 , L776;
end;
L877: ( finSigmaFields (C157 , R2) ) c= ( sigma ( finSigmaFields (C157 , R2) ) ) by PROB_1:def 9;
thus L878: thesis by L877 , L866;
end;
L879: (D90 c= ( sigma D90 ) & ( sigUn (C157 , D91) ) c= ( sigma ( finSigmaFields (C157 , R2) ) )) by L858 , PROB_1:def 9;
L880: (for R14 being (Event of R3) holds (for R15 being (Event of R3) holds ((R14 in ( sigUn (C157 , D91) ) & R15 in ( tailSigmaField (C157 , R2) )) implies R14 , R15 are_independent_respect_to R4)))
proof
L881: (for R21 being set holds (for R22 being set holds ((R21 in ( finSigmaFields (C157 , R2) ) & R22 in ( finSigmaFields (C157 , R2) )) implies ( R21 /\ R22 ) in ( finSigmaFields (C157 , R2) ))))
proof
let R21 being set;
let R22 being set;
assume that
L882: R21 in ( finSigmaFields (C157 , R2) )
and
L883: R22 in ( finSigmaFields (C157 , R2) );
consider C160 being  finite (Subset of R2) such that L884: R21 in ( sigUn (C157 , C160) ) by L882 , L776;
consider C161 being  finite (Subset of R2) such that L885: R22 in ( sigUn (C157 , C161) ) by L883 , L776;
L886: (for R23 being set holds (for B103 , B104 being  finite (Subset of R2) holds (R23 in ( sigUn (C157 , B103) ) implies R23 in ( sigUn (C157 , ( B103 \/ B104 )) ))))
proof
let R23 being set;
let C162 , C163 being  finite (Subset of R2);
reconsider D97 = ( C162 \/ C163 ) as  finite (Subset of R2);
L887: ( Union ( C157 | C162 ) ) c= ( Union ( C157 | D97 ) )
proof
let R20 being set;
assume L888: R20 in ( Union ( C157 | C162 ) );
consider R18 being set such that L889: R20 in R18 and L890: R18 in ( rng ( C157 | C162 ) ) by L888 , TARSKI:def 4;
L891: ( C157 | D97 ) = ( ( C157 | C162 ) \/ ( C157 | C163 ) ) by RELAT_1:78;
L892: ( rng ( C157 | D97 ) ) = ( ( rng ( C157 | C162 ) ) \/ ( rng ( C157 | C163 ) ) ) by L891 , RELAT_1:12;
L893: R18 in ( rng ( C157 | D97 ) ) by L892 , L890 , XBOOLE_0:def 3;
thus L894: thesis by L893 , L889 , TARSKI:def 4;
end;
L895: ( Union ( C157 | D97 ) ) c= ( sigma ( Union ( C157 | D97 ) ) ) by PROB_1:def 9;
L896: ( Union ( C157 | C162 ) ) c= ( sigma ( Union ( C157 | D97 ) ) ) by L895 , L887 , XBOOLE_1:1;
L897: ( sigma ( Union ( C157 | C162 ) ) ) c= ( sigma ( Union ( C157 | D97 ) ) ) by L896 , PROB_1:def 9;
assume L898: R23 in ( sigUn (C157 , C162) );
thus L899: thesis by L898 , L897;
end;
L900: R22 in ( sigUn (C157 , ( C161 \/ C160 )) ) by L886 , L885;
L901: R21 in ( sigUn (C157 , ( C160 \/ C161 )) ) by L884 , L886;
L902: ( R21 /\ R22 ) in ( sigUn (C157 , ( C160 \/ C161 )) ) by L901 , L900 , FINSUB_1:def 2;
thus L903: thesis by L902 , L776;
end;
L904: ( finSigmaFields (C157 , R2) ) is  intersection_stable by L881 , FINSUB_1:def 2;
let R14 being (Event of R3);
let R15 being (Event of R3);
L905: ( finSigmaFields (C157 , R2) ) is non  empty
proof
set D98 = the  finite (Subset of R2);
L906: ( {} ) in ( sigUn (C157 , D98) ) by PROB_1:4;
thus L907: thesis by L906 , L776;
end;
L908: ( tailSigmaField (C157 , R2) ) c= R3
proof
set D99 = ( R2 \ ( {} R2 ) );
let R21 being set;
assume L909: R21 in ( tailSigmaField (C157 , R2) );
L910: ( Union ( C157 | D99 ) ) c= R3
proof
let R22 being set;
assume L911: R22 in ( Union ( C157 | D99 ) );
L912: (ex R18 being set st (R22 in R18 & R18 in ( rng ( C157 | D99 ) ))) by L911 , TARSKI:def 4;
thus L913: thesis by L912;
end;
L914: ( sigma ( Union ( C157 | D99 ) ) ) c= R3 by L910 , PROB_1:def 9;
L915: ( sigUn (C157 , D99) ) in ( futSigmaFields (C157 , R2) ) by L233;
L916: R21 in ( sigma ( Union ( C157 | D99 ) ) ) by L915 , L909 , SETFAM_1:def 1;
thus L917: thesis by L916 , L914;
end;
L918: ( finSigmaFields (C157 , R2) ) c= R3
proof
let R21 being set;
assume L919: R21 in ( finSigmaFields (C157 , R2) );
consider C164 being  finite (Subset of R2) such that L920: R21 in ( sigUn (C157 , C164) ) by L919 , L776;
L921: ( Union ( C157 | C164 ) ) c= R3
proof
let R22 being set;
assume L922: R22 in ( Union ( C157 | C164 ) );
L923: (ex R18 being set st (R22 in R18 & R18 in ( rng ( C157 | C164 ) ))) by L922 , TARSKI:def 4;
thus L924: thesis by L923;
end;
L925: ( sigma ( Union ( C157 | C164 ) ) ) c= R3 by L921 , PROB_1:def 9;
thus L926: thesis by L925 , L920;
end;
assume L927: (R14 in ( sigUn (C157 , D91) ) & R15 in ( tailSigmaField (C157 , R2) ));
thus L928: thesis by L927 , L853 , L879 , L905 , L918 , L904 , L908 , L186;
end;
assume L929: R11 in ( tailSigmaField (C157 , R2) );
L930: R11 , R11 are_independent_respect_to R4 by L929 , L818 , L880;
L931: ( R4 . ( R11 /\ R11 ) ) = ( ( R4 . R11 ) * ( R4 . R11 ) ) by L930 , PROB_2:def 4;
thus L932: thesis by L931 , L6;
end;
