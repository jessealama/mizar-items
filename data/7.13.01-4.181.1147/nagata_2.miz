:: The {N}agata-Smirnov Theorem. {P}art {II}
::  by Karol P\c{a}k
::
:: Received July 22, 2004
:: Copyright (c) 2004-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, REAL_1, XREAL_0, ORDINAL1, XBOOLE_0, PRE_TOPC,
      ZFMISC_1, STRUCT_0, FUNCT_1, PSCOMP_1, SEQFUNC, SEQ_1, XXREAL_0, CARD_1,
      NEWTON, RELAT_1, ARYTM_3, INT_1, NAT_1, ARYTM_1, FUNCT_7, FUNCT_2,
      TARSKI, METRIC_1, RCOMP_1, MCART_1, SETFAM_1, ORDINAL2, TOPMETR, TMAP_1,
      SEQ_4, NAGATA_1, XXREAL_2, COMPLEX1, RELAT_2, VALUED_0, PCOMPS_1, PBOOLE,
      SERIES_1, CARD_3, VALUED_1, SEQ_2, FINSEQ_1, PREPOWER, BINOP_1, SETWISEO,
      FINSOP_1, ORDINAL4, CARD_5, RLVECT_3, FINSET_1, COH_SP, PARTFUN1,
      WELLORD1, PCOMPS_2, NATTRA_1, NAGATA_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, SETWISEO, BORSUK_1,
      RELAT_1, RELAT_2, ORDINAL1, XCMPLX_0, XXREAL_0, XXREAL_2, XREAL_0,
      FUNCT_1, COMPLEX1, REAL_1, RELSET_1, PARTFUN1, VALUED_0, VALUED_1, SEQ_1,
      FUNCT_2, FUNCT_3, DOMAIN_1, BINOP_1, PRE_TOPC, NAT_1, NAT_D, CARD_1,
      NUMBERS, FINSET_1, STRUCT_0, FINSEQ_1, PCOMPS_1, PCOMPS_2, NEWTON,
      TOPS_2, METRIC_1, PROB_1, SEQFUNC, PREPOWER, TOPMETR, PSCOMP_1, TMAP_1,
      NAGATA_1, SEQ_2, SEQ_4, SERIES_1, FINSOP_1, CANTOR_1, WELLORD1, FUNCT_7;
 constructors WELLORD1, FUNCT_3, SETWISEO, REAL_1, NAT_D, PROB_1, FINSOP_1,
      NEWTON, PREPOWER, SERIES_1, FUNCT_7, TOPS_2, TMAP_1, CANTOR_1, PCOMPS_2,
      NAGATA_1, SEQ_1, BORSUK_4, SEQFUNC, SEQ_4, BINOP_2, SEQ_2, PSCOMP_1,
      PCOMPS_1, COMSEQ_2;
 registrations SUBSET_1, ORDINAL1, RELSET_1, FINSET_1, NUMBERS, XXREAL_0,
      XREAL_0, NAT_1, MEMBERED, FINSEQ_1, STRUCT_0, TOPS_1, METRIC_1, BORSUK_1,
      TOPMETR, TOPREAL6, VALUED_0, VALUED_1, FUNCT_2, CARD_1, PRE_TOPC,
      FUNCT_1, PSCOMP_1;
 requirements BOOLE, SUBSET, NUMERALS, REAL, ARITHM;
 definitions FUNCT_2, TARSKI, TOPS_2, XBOOLE_0, BINOP_1, SUBSET_1, STRUCT_0,
      XXREAL_2;
 theorems NAT_1, NEWTON, FUNCT_2, PCOMPS_1, PCOMPS_2, NAGATA_1, SUBSET_1,
      METRIC_6, FUNCT_3, FUNCT_1, METRIC_1, XCMPLX_1, ABSVALUE, TOPMETR,
      TMAP_1, BORSUK_1, XBOOLE_1, TARSKI, SETFAM_1, XBOOLE_0, TOPS_1, TOPS_2,
      PRE_TOPC, FINSEQ_1, CARD_4, ZFMISC_1, BINOP_1, SEQ_2, SEQ_4, SEQ_1,
      SERIES_1, PREPOWER, SEQFUNC, PARTFUN1, JGRAPH_2, URYSOHN1, FINSEQ_3,
      FINSEQ_4, FINSOP_1, SETWISEO, PROB_1, URYSOHN3, WELLORD1, WELLORD2,
      TBSP_1, RELAT_1, RELAT_2, YELLOW_9, FUNCT_7, RSSPACE2, RSSPACE, BHSP_5,
      XREAL_1, COMPLEX1, XXREAL_0, ORDINAL1, NAT_D, VALUED_1, XXREAL_2,
      JORDAN5A, XTUPLE_0;
 schemes FUNCT_2, NAT_1, SEQFUNC, FRAENKEL, BINOP_1, PCOMPS_2;

begin
theorem
L1: (for R1 being (Element of ( NAT )) holds (R1 > ( 0 ) implies (ex R4 being (Element of ( NAT )) st (ex R3 being (Element of ( NAT )) st R1 = ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) )))))
proof
defpred S1[ (Element of ( NAT )) ] means (for R2 being (Element of ( NAT )) holds ((1 <= R2 & R2 <= $1) implies (ex R4 being (Element of ( NAT )) st (ex R3 being (Element of ( NAT )) st R2 = ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) )))));
L2: (for R1 being (Element of ( NAT )) holds (S1[ R1 ] implies S1[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume that
L3: S1[ R1 ];
let R2 being (Element of ( NAT ));
assume that
L4: 1 <= R2
and
L5: R2 <= ( R1 + 1 );
L6:
now
per cases  by L5 , XXREAL_0:1;
suppose L7: (R2 = ( R1 + 1 ) & R1 = ( 0 ));

set D1 = ( 0 );
L8: 1 = ( 2 |^ ( 0 ) ) by NEWTON:4;
L9: R2 = ( 1 * ( ( D1 * 2 ) + 1 ) ) by L7;
thus L10: thesis by L9 , L8;
end;
suppose L11: (R2 = ( R1 + 1 ) & R1 > ( 0 ));

per cases  by NAT_D:12;
suppose L12: ( R2 mod 2 ) = 1;

consider C1 being Nat such that L13: R2 = ( ( 2 * C1 ) + 1 ) and L14: 1 < 2 by L12 , NAT_D:def 2;
reconsider D2 = C1 as (Element of ( NAT )) by ORDINAL1:def 12;
L15: 1 = ( 2 |^ ( 0 ) ) by NEWTON:4;
L16: R2 = ( ( 2 |^ ( 0 ) ) * ( ( 2 * D2 ) + 1 ) ) by L15 , L13;
thus L17: thesis by L16;
end;
suppose L18: ( R2 mod 2 ) = ( 0 );

consider C2 being Nat such that L19: R2 = ( ( 2 * C2 ) + ( 0 ) ) and L20: ( 0 ) < 2 by L18 , NAT_D:def 2;
reconsider D3 = C2 as (Element of ( NAT )) by ORDINAL1:def 12;
L21: D3 <= R1
proof
assume L22: D3 > R1;
L23: ( D3 + D3 ) > ( R1 + 1 ) by L22 , NAT_1:14 , XREAL_1:8;
thus L24: thesis by L23 , L11 , L19;
end;
L25: D3 <> ( 0 ) by L11 , L19;
L26: D3 >= 1 by L25 , NAT_1:14;
consider R4 being (Element of ( NAT )), R3 being (Element of ( NAT )) such that L27: D3 = ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) ) by L26 , L3 , L21;
L28: R2 = ( ( 2 * ( 2 |^ R4 ) ) * ( ( 2 * R3 ) + 1 ) ) by L19 , L27;
L29: R2 = ( ( 2 |^ ( R4 + 1 ) ) * ( ( 2 * R3 ) + 1 ) ) by L28 , NEWTON:6;
thus L30: thesis by L29;
end;
end;
suppose L32: R2 < ( R1 + 1 );

L33: R2 <= R1 by L32 , NAT_1:13;
thus L34: thesis by L33 , L3 , L4;
end;
end;
thus L36: thesis by L6;
end;
let R1 being (Element of ( NAT ));
assume L37: R1 > ( 0 );
L38: R1 >= 1 by L37 , NAT_1:14;
L39: S1[ ( 0 ) ];
L40: (for R4 being (Element of ( NAT )) holds S1[ R4 ]) from NAT_1:sch 1(L39 , L2);
thus L41: thesis by L40 , L38;
end;
definition
func PairFunc -> (Function of [: ( NAT ) , ( NAT ) :] , ( NAT )) means
:L42: (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ( it . [ R4 , R3 ] ) = ( ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) ) - 1 )));
existence
proof
deffunc H1((Element of ( NAT )) , (Element of ( NAT ))) = ( In (( ( ( 2 |^ $1 ) * ( ( 2 * $2 ) + 1 ) ) - 1 ) , ( NAT )) );
L43: (for B1 , B2 being (Element of ( NAT )) holds ( ( ( 2 |^ B1 ) * ( ( 2 * B2 ) + 1 ) ) - 1 ) in ( NAT ))
proof
let C3 , C4 being (Element of ( NAT ));
L44: ( 0 ) < ( 2 |^ C3 ) by NEWTON:83;
L45: ( ( ( 2 |^ C3 ) * ( ( 2 * C4 ) + 1 ) ) - 1 ) is (Element of ( NAT )) by L44 , NAT_1:20 , XREAL_1:129;
thus L46: thesis by L45;
end;
consider C5 being (Function of [: ( NAT ) , ( NAT ) :] , ( NAT )) such that L47: (for B3 , B4 being (Element of ( NAT )) holds ( C5 . (B3 , B4) ) = H1(B3 , B4)) from BINOP_1:sch 4;
take C5;
let R4 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
L48: ( C5 . (R4 , R3) ) = ( In (( ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) ) - 1 ) , ( NAT )) ) by L47
.= ( ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) ) - 1 ) by L43 , FUNCT_7:def 1;
thus L49: thesis by L48;
end;
uniqueness
proof
let C6 , C7 being (Function of [: ( NAT ) , ( NAT ) :] , ( NAT ));
assume that
L50: (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ( C6 . [ R4 , R3 ] ) = ( ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) ) - 1 )))
and
L51: (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ( C7 . [ R4 , R3 ] ) = ( ( ( 2 |^ R4 ) * ( ( 2 * R3 ) + 1 ) ) - 1 )));
L52:
now
let C8 , C9 being (Element of ( NAT ));
L53: ( C6 . [ C8 , C9 ] ) = ( ( ( 2 |^ C8 ) * ( ( 2 * C9 ) + 1 ) ) - 1 ) by L50;
thus L54: ( C6 . (C8 , C9) ) = ( C7 . (C8 , C9) ) by L53 , L51;
end;
thus L55: thesis by L52 , BINOP_1:2;
end;
end;
theorem
L57: ( PairFunc ) is  bijective
proof
L58:
now
let C10 , C11 being set;
assume that
L59: C10 in [: ( NAT ) , ( NAT ) :]
and
L60: C11 in [: ( NAT ) , ( NAT ) :]
and
L61: ( ( PairFunc ) . C10 ) = ( ( PairFunc ) . C11 );
consider C12 , C13 being set such that L62: (C12 in ( NAT ) & C13 in ( NAT )) and L63: [ C12 , C13 ] = C11 by L60 , ZFMISC_1:def 2;
consider C14 , C15 being set such that L64: (C14 in ( NAT ) & C15 in ( NAT )) and L65: [ C14 , C15 ] = C10 by L59 , ZFMISC_1:def 2;
reconsider D4 = C14 , D5 = C12 , D6 = C15 , D7 = C13 as (Element of ( NAT )) by L64 , L62;
L66: ( ( ( 2 |^ D5 ) * ( ( 2 * D7 ) + 1 ) ) - 1 ) = ( ( PairFunc ) . C11 ) by L63 , L42;
L67: ( ( ( 2 |^ D4 ) * ( ( 2 * D6 ) + 1 ) ) - 1 ) = ( ( PairFunc ) . C10 ) by L65 , L42;
L68: D4 = D5 by L67 , L61 , L66 , CARD_4:4;
thus L69: C10 = C11 by L68 , L61 , L65 , L63 , L67 , L66 , CARD_4:4;
end;
thus L70: ( PairFunc ) is  one-to-one by L58 , FUNCT_2:19;
L71:
now
let C16 being set;
assume L72: C16 in ( NAT );
reconsider D8 = C16 as (Element of ( NAT )) by L72;
consider C17 , C18 being (Element of ( NAT )) such that L73: ( D8 + 1 ) = ( ( 2 |^ C17 ) * ( ( 2 * C18 ) + 1 ) ) by L1;
L74: ( D8 - ( 0 ) ) = ( ( ( 2 |^ C17 ) * ( ( 2 * C18 ) + 1 ) ) - 1 ) by L73;
L75: (( dom ( PairFunc ) ) = [: ( NAT ) , ( NAT ) :] & C16 = ( ( PairFunc ) . [ C17 , C18 ] )) by L74 , L42 , FUNCT_2:def 1;
thus L76: C16 in ( rng ( PairFunc ) ) by L75 , FUNCT_1:def 3;
end;
L77: ( NAT ) c= ( rng ( PairFunc ) ) by L71 , TARSKI:def 3;
L78: ( NAT ) = ( rng ( PairFunc ) ) by L77 , XBOOLE_0:def 10;
thus L79: ( PairFunc ) is  onto by L78 , FUNCT_2:def 3;
end;
definition
let C19 being set;
let C20 being (Function of [: C19 , C19 :] , ( REAL ));
let C21 being (Element of C19);
func dist (C20 , C21) -> (Function of C19 , ( REAL )) means
:L80: (for B5 being (Element of C19) holds ( it . B5 ) = ( C20 . (C21 , B5) ));
existence
proof
deffunc H2(set) = ( C20 . (C21 , $1) );
L81: (for B6 being set holds (B6 in C19 implies H2(B6) in ( REAL )))
proof
let C22 being set;
assume L82: C22 in C19;
L83: ( C20 . [ C21 , C22 ] ) in ( REAL );
thus L84: thesis by L83;
end;
consider C23 being (Function of C19 , ( REAL )) such that L85: (for B7 being set holds (B7 in C19 implies ( C23 . B7 ) = H2(B7))) from FUNCT_2:sch 2(L81);
L86:
now
per cases ;
suppose L87: C19 is  empty;

let C24 being (Element of C19);
L88: (not [ C21 , C24 ] in ( dom C20 )) by L87;
L89: ( C20 . [ C21 , C24 ] ) = ( {} ) by L88 , FUNCT_1:def 2;
L90: (not C24 in ( dom C23 )) by L87;
thus L91: ( C20 . (C21 , C24) ) = ( C23 . C24 ) by L90 , L89 , FUNCT_1:def 2;
end;
suppose L92: C19 is non  empty;

thus L93: (for B8 being (Element of C19) holds ( C23 . B8 ) = ( C20 . (C21 , B8) )) by L92 , L85;
end;
end;
thus L95: thesis by L86;
end;
uniqueness
proof
let C25 , C26 being (Function of C19 , ( REAL ));
assume that
L96: (for B9 being (Element of C19) holds ( C25 . B9 ) = ( C20 . (C21 , B9) ))
and
L97: (for B10 being (Element of C19) holds ( C26 . B10 ) = ( C20 . (C21 , B10) ));
L98:
now
let C27 being (Element of C19);
L99: ( C25 . C27 ) = ( C20 . (C21 , C27) ) by L96;
thus L100: ( C25 . C27 ) = ( C26 . C27 ) by L99 , L97;
end;
thus L101: thesis by L98 , FUNCT_2:63;
end;
end;
theorem
L103: (for R13 being non  empty TopSpace holds (for R14 being non  empty TopSpace holds (for B11 being (Subset of [: R13 , R14 :]) holds (B11 is  open implies (for B12 being (Point of R13) holds (for B13 being (Point of R14) holds (for B14 being (Subset of R13) holds (for B15 being (Subset of R14) holds ((B14 = ( ( pr1 ((the carrier of R13) , (the carrier of R14)) ) .: ( B11 /\ [: (the carrier of R13) , { B13 } :] ) ) implies B14 is  open) & (B15 = ( ( pr2 ((the carrier of R13) , (the carrier of R14)) ) .: ( B11 /\ [: { B12 } , (the carrier of R14) :] ) ) implies B15 is  open))))))))))
proof
let R13 being non  empty TopSpace;
let R14 being non  empty TopSpace;
set D9 = (the carrier of R13);
set D10 = (the carrier of R14);
let C28 being (Subset of [: R13 , R14 :]);
assume L104: C28 is  open;
consider C29 being (Subset-Family of [: R13 , R14 :]) such that L105: C28 = ( union C29 ) and L106: (for B16 being set holds (B16 in C29 implies (ex B17 being (Subset of R13) st (ex B18 being (Subset of R14) st (B16 = [: B17 , B18 :] & B17 is  open & B18 is  open))))) by L104 , BORSUK_1:5;
let C30 being (Point of R13);
let C31 being (Point of R14);
let C32 being (Subset of R13);
let C33 being (Subset of R14);
thus L107: (C32 = ( ( pr1 (D9 , D10) ) .: ( C28 /\ [: D9 , { C31 } :] ) ) implies C32 is  open)
proof
assume L108: C32 = ( ( pr1 (D9 , D10) ) .: ( C28 /\ [: D9 , { C31 } :] ) );
L109: (for B19 being set holds (B19 in C32 iff (ex B20 being (Subset of R13) st (B20 is  open & B20 c= C32 & B19 in B20))))
proof
let C34 being set;
L110: (C34 in C32 implies (ex B21 being (Subset of R13) st (B21 is  open & B21 c= C32 & C34 in B21)))
proof
assume L111: C34 in C32;
consider C35 being set such that L112: C35 in ( dom ( pr1 (D9 , D10) ) ) and L113: C35 in ( C28 /\ [: D9 , { C31 } :] ) and L114: C34 = ( ( pr1 (D9 , D10) ) . C35 ) by L111 , L108 , FUNCT_1:def 6;
L115: C35 in C28 by L113 , XBOOLE_0:def 4;
consider C36 being set such that L116: C35 in C36 and L117: C36 in C29 by L115 , L105 , TARSKI:def 4;
consider C37 being (Subset of R13), C38 being (Subset of R14) such that L118: C36 = [: C37 , C38 :] and L119: C37 is  open and L120: C38 is  open by L106 , L117;
take C37;
thus L121: C37 is  open by L119;
consider C39 , C40 being set such that L122: (C39 in D9 & C40 in D10) and L123: C35 = [ C39 , C40 ] by L112 , ZFMISC_1:def 2;
thus L124: C37 c= C32
proof
L125: C35 in [: D9 , { C31 } :] by L113 , XBOOLE_0:def 4;
L126: C40 = C31 by L125 , L123 , ZFMISC_1:106;
let C41 being set;
assume that
L127: C41 in C37;
L128: [ C41 , C31 ] in [: D9 , D10 :] by L127 , ZFMISC_1:87;
L129: [ C41 , C31 ] in ( dom ( pr1 (D9 , D10) ) ) by L128 , FUNCT_3:def 4;
L130: C40 in C38 by L123 , L116 , L118 , ZFMISC_1:87;
L131: [ C41 , C31 ] in [: C37 , C38 :] by L130 , L127 , L126 , ZFMISC_1:87;
L132: [ C41 , C31 ] in ( union C29 ) by L131 , L117 , L118 , TARSKI:def 4;
L133: [ C41 , C31 ] in [: D9 , { C31 } :] by L127 , ZFMISC_1:106;
L134: [ C41 , C31 ] in ( C28 /\ [: D9 , { C31 } :] ) by L133 , L105 , L132 , XBOOLE_0:def 4;
L135: ( ( pr1 (D9 , D10) ) . (C41 , C31) ) in ( ( pr1 (D9 , D10) ) .: ( C28 /\ [: D9 , { C31 } :] ) ) by L134 , L129 , FUNCT_1:def 6;
thus L136: thesis by L135 , L108 , L127 , FUNCT_3:def 4;
end;

L137: ( ( pr1 (D9 , D10) ) . (C39 , C40) ) = C39 by L122 , FUNCT_3:def 4;
thus L138: thesis by L137 , L114 , L123 , L116 , L118 , ZFMISC_1:87;
end;
thus L139: thesis by L110;
end;
thus L140: thesis by L109 , TOPS_1:25;
end;

thus L141: (C33 = ( ( pr2 (D9 , D10) ) .: ( C28 /\ [: { C30 } , D10 :] ) ) implies C33 is  open)
proof
assume L142: C33 = ( ( pr2 (D9 , D10) ) .: ( C28 /\ [: { C30 } , D10 :] ) );
L143: (for B22 being set holds (B22 in C33 iff (ex B23 being (Subset of R14) st (B23 is  open & B23 c= C33 & B22 in B23))))
proof
let C42 being set;
L144: (C42 in C33 implies (ex B24 being (Subset of R14) st (B24 is  open & B24 c= C33 & C42 in B24)))
proof
assume L145: C42 in C33;
consider C43 being set such that L146: C43 in ( dom ( pr2 (D9 , D10) ) ) and L147: C43 in ( C28 /\ [: { C30 } , D10 :] ) and L148: C42 = ( ( pr2 (D9 , D10) ) . C43 ) by L145 , L142 , FUNCT_1:def 6;
L149: C43 in C28 by L147 , XBOOLE_0:def 4;
consider C44 being set such that L150: C43 in C44 and L151: C44 in C29 by L149 , L105 , TARSKI:def 4;
consider C45 , C46 being set such that L152: (C45 in D9 & C46 in D10) and L153: C43 = [ C45 , C46 ] by L146 , ZFMISC_1:def 2;
L154: ( ( pr2 (D9 , D10) ) . (C45 , C46) ) = C46 by L152 , FUNCT_3:def 5;
consider C47 being (Subset of R13), C48 being (Subset of R14) such that L155: C44 = [: C47 , C48 :] and L156: C47 is  open and L157: C48 is  open by L106 , L151;
L158: C48 c= C33
proof
L159: C43 in [: { C30 } , D10 :] by L147 , XBOOLE_0:def 4;
L160: C45 = C30 by L159 , L153 , ZFMISC_1:105;
let C49 being set;
assume that
L161: C49 in C48;
L162: [ C30 , C49 ] in [: D9 , D10 :] by L161 , ZFMISC_1:87;
L163: [ C30 , C49 ] in ( dom ( pr2 (D9 , D10) ) ) by L162 , FUNCT_3:def 5;
L164: C45 in C47 by L153 , L150 , L155 , ZFMISC_1:87;
L165: [ C30 , C49 ] in [: C47 , C48 :] by L164 , L161 , L160 , ZFMISC_1:87;
L166: [ C30 , C49 ] in ( union C29 ) by L165 , L151 , L155 , TARSKI:def 4;
L167: [ C30 , C49 ] in [: { C30 } , D10 :] by L161 , ZFMISC_1:105;
L168: [ C30 , C49 ] in ( C28 /\ [: { C30 } , D10 :] ) by L167 , L105 , L166 , XBOOLE_0:def 4;
L169: ( ( pr2 (D9 , D10) ) . (C30 , C49) ) in ( ( pr2 (D9 , D10) ) .: ( C28 /\ [: { C30 } , D10 :] ) ) by L168 , L163 , FUNCT_1:def 6;
thus L170: thesis by L169 , L142 , L161 , FUNCT_3:def 5;
end;
L171: C46 in C48 by L153 , L150 , L155 , ZFMISC_1:87;
thus L172: thesis by L171 , L148 , L153 , L157 , L154 , L158;
end;
thus L173: thesis by L144;
end;
thus L174: thesis by L143 , TOPS_1:25;
end;

end;
theorem
L142: (for R12 being non  empty TopSpace holds (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds ((for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous)) implies (for B25 being (Point of R12) holds ( dist (R23 , B25) ) is  continuous))))
proof
let R12 being non  empty TopSpace;
set D11 = (the carrier of R12);
let R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L143: (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous));
L144: [: D11 , D11 :] = (the carrier of [: R12 , R12 :]) by BORSUK_1:def 2;
reconsider D12 = R23 as (RealMap of [: R12 , R12 :]) by L144;
reconsider D13 = D12 as (Function of [: R12 , R12 :] , ( R^1 )) by TOPMETR:17;
let C50 being (Point of R12);
reconsider D14 = ( dist (R23 , C50) ) as (Function of R12 , ( R^1 )) by TOPMETR:17;
L145: D12 is  continuous by L143;
L146: D13 is  continuous by L145 , JORDAN5A:27;
L147:
now
let C51 being (Point of R12);
L148: (for B26 being (Subset of ( R^1 )) holds ((B26 is  open & ( D14 . C51 ) in B26) implies (ex B27 being (Subset of R12) st (B27 is  open & C51 in B27 & ( D14 .: B27 ) c= B26))))
proof
reconsider D15 = [ C50 , C51 ] as (Point of [: R12 , R12 :]) by BORSUK_1:def 2;
L149: ( dom ( pr2 (D11 , D11) ) ) = [: D11 , D11 :] by FUNCT_3:def 5;
L150: (D13 is_continuous_at D15 & ( D14 . C51 ) = ( R23 . (C50 , C51) )) by L146 , L80 , TMAP_1:50;
let C52 being (Subset of ( R^1 ));
assume L151: (C52 is  open & ( D14 . C51 ) in C52);
consider C53 being (Subset of [: R12 , R12 :]) such that L152: C53 is  open and L153: D15 in C53 and L154: ( D13 .: C53 ) c= C52 by L151 , L150 , TMAP_1:43;
set D16 = ( ( pr2 (D11 , D11) ) .: ( C53 /\ [: { C50 } , D11 :] ) );
L155: [ C50 , C51 ] in [: { C50 } , D11 :] by ZFMISC_1:105;
L156: [ C50 , C51 ] in ( C53 /\ [: { C50 } , D11 :] ) by L155 , L153 , XBOOLE_0:def 4;
L157: ( ( pr2 (D11 , D11) ) . (C50 , C51) ) in ( ( pr2 (D11 , D11) ) .: ( C53 /\ [: { C50 } , D11 :] ) ) by L156 , L149 , FUNCT_1:def 6;
L158: C51 in D16 by L157 , FUNCT_3:def 5;
L159: ( D14 .: D16 ) c= C52
proof
let C54 being set;
assume L160: C54 in ( D14 .: D16 );
consider C55 being set such that L161: C55 in ( dom D14 ) and L162: C55 in D16 and L163: ( D14 . C55 ) = C54 by L160 , FUNCT_1:def 6;
reconsider D17 = C55 as (Point of R12) by L161;
consider C56 being set such that L164: C56 in ( dom ( pr2 (D11 , D11) ) ) and L165: C56 in ( C53 /\ [: { C50 } , D11 :] ) and L166: ( ( pr2 (D11 , D11) ) . C56 ) = D17 by L162 , FUNCT_1:def 6;
consider C57 , C58 being set such that L167: (C57 in D11 & C58 in D11) and L168: C56 = [ C57 , C58 ] by L164 , ZFMISC_1:def 2;
reconsider D18 = C57 , D19 = C58 as (Point of R12) by L167;
L169: [ D18 , D19 ] in [: { C50 } , D11 :] by L165 , L168 , XBOOLE_0:def 4;
L170: (( ( pr2 (D11 , D11) ) . (D18 , D19) ) = D19 & D18 = C50) by L169 , FUNCT_3:def 5 , ZFMISC_1:105;
L171: ( R23 . (D18 , D19) ) = C54 by L170 , L163 , L166 , L168 , L80;
L172: ( dom D13 ) = (the carrier of [: R12 , R12 :]) by FUNCT_2:def 1;
L173: [ D18 , D19 ] in C53 by L165 , L168 , XBOOLE_0:def 4;
L174: C54 in ( D13 .: C53 ) by L173 , L171 , L172 , FUNCT_1:def 6;
thus L175: thesis by L174 , L154;
end;
L176: D16 is  open by L152 , L103;
thus L177: thesis by L176 , L158 , L159;
end;
thus L178: D14 is_continuous_at C51 by L148 , TMAP_1:43;
end;
L179: D14 is  continuous by L147 , TMAP_1:50;
thus L180: thesis by L179 , JORDAN5A:27;
end;
definition
let C59 being non  empty set;
let C60 being (Function of [: C59 , C59 :] , ( REAL ));
let C61 being (Subset of C59);
func lower_bound (C60 , C61) -> (Function of C59 , ( REAL )) means
:L181: (for B28 being (Element of C59) holds ( it . B28 ) = ( lower_bound ( ( dist (C60 , B28) ) .: C61 ) ));
existence
proof
deffunc H3((Element of C59)) = ( lower_bound ( ( dist (C60 , $1) ) .: C61 ) );
consider C62 being (Function of C59 , ( REAL )) such that L182: (for B29 being (Element of C59) holds ( C62 . B29 ) = H3(B29)) from FUNCT_2:sch 4;
take C62;
thus L183: thesis by L182;
end;
uniqueness
proof
let C63 , C64 being (Function of C59 , ( REAL ));
assume that
L184: (for B30 being (Element of C59) holds ( C63 . B30 ) = ( lower_bound ( ( dist (C60 , B30) ) .: C61 ) ))
and
L185: (for B31 being (Element of C59) holds ( C64 . B31 ) = ( lower_bound ( ( dist (C60 , B31) ) .: C61 ) ));
L186:
now
let C65 being (Element of C59);
L187: ( C63 . C65 ) = ( lower_bound ( ( dist (C60 , C65) ) .: C61 ) ) by L184;
thus L188: ( C63 . C65 ) = ( C64 . C65 ) by L187 , L185;
end;
thus L189: thesis by L186 , FUNCT_2:63;
end;
end;
L191: (for B32 being non  empty set holds (for B33 being (Function of [: B32 , B32 :] , ( REAL )) holds (B33 is_a_pseudometric_of B32 implies (B33 is  bounded_below & (for B34 being non  empty (Subset of B32) holds (for B35 being (Element of B32) holds ( ( dist (B33 , B35) ) .: B34 ) is non  empty  bounded_below))))))
proof
let C66 being non  empty set;
let C67 being (Function of [: C66 , C66 :] , ( REAL ));
assume that
L192: C67 is_a_pseudometric_of C66;
L193:
now
let C68 being non  empty (Subset of C66);
let C69 being (Element of C66);
L194: ( 0 ) is (LowerBound of ( ( dist (C67 , C69) ) .: C68 ))
proof
let C70 being  ext-real number;
assume L195: C70 in ( ( dist (C67 , C69) ) .: C68 );
consider R9 being set such that L196: R9 in ( dom ( dist (C67 , C69) ) ) and L197: R9 in C68 and L198: C70 = ( ( dist (C67 , C69) ) . R9 ) by L195 , FUNCT_1:def 6;
reconsider D20 = R9 as (Element of C66) by L196;
L199: ( C67 . (C69 , D20) ) >= ( 0 ) by L192 , NAGATA_1:29;
thus L200: C70 >= ( 0 ) by L199 , L198 , L80;
end;
L201: ( dom ( dist (C67 , C69) ) ) = C66 by FUNCT_2:def 1;
thus L202: ( ( dist (C67 , C69) ) .: C68 ) is non  empty  bounded_below by L201 , L194 , XXREAL_2:def 9;
end;
L203:
now
let C71 being set;
assume L204: C71 in ( dom C67 );
consider R8 being set, R9 being set such that L205: (R8 in C66 & R9 in C66) and L206: [ R8 , R9 ] = C71 by L204 , ZFMISC_1:def 2;
reconsider D21 = R8 , D22 = R9 as (Element of C66) by L205;
L207: (( C67 . (D21 , D22) ) >= ( 0 ) & ( 0 ) > ( - 1 )) by L192 , NAGATA_1:29;
thus L208: ( C67 . C71 ) > ( - 1 ) by L207 , L206;
end;
thus L209: thesis by L203 , L193 , SEQ_2:def 2;
end;
theorem
L210: (for B36 being non  empty set holds (for B37 being (Function of [: B36 , B36 :] , ( REAL )) holds (B37 is_a_pseudometric_of B36 implies (for B38 being non  empty (Subset of B36) holds (for B39 being (Element of B36) holds ( ( lower_bound (B37 , B38) ) . B39 ) >= ( 0 ))))))
proof
let C72 being non  empty set;
let C73 being (Function of [: C72 , C72 :] , ( REAL ));
assume that
L211: C73 is_a_pseudometric_of C72;
let C74 being non  empty (Subset of C72);
let C75 being (Element of C72);
L212:
now
let R7 being  real number;
assume L213: R7 in ( ( dist (C73 , C75) ) .: C74 );
consider R9 being set such that L214: R9 in ( dom ( dist (C73 , C75) ) ) and L215: R9 in C74 and L216: R7 = ( ( dist (C73 , C75) ) . R9 ) by L213 , FUNCT_1:def 6;
L217: ( ( dist (C73 , C75) ) . R9 ) = ( C73 . (C75 , R9) ) by L214 , L80;
thus L218: R7 >= ( 0 ) by L217 , L211 , L214 , L216 , NAGATA_1:29;
end;
L219: C72 = ( dom ( dist (C73 , C75) ) ) by FUNCT_2:def 1;
L220: ( lower_bound ( ( dist (C73 , C75) ) .: C74 ) ) >= ( 0 ) by L219 , L212 , SEQ_4:43;
thus L221: thesis by L220 , L181;
end;
theorem
L222: (for B40 being non  empty set holds (for B41 being (Function of [: B40 , B40 :] , ( REAL )) holds (B41 is_a_pseudometric_of B40 implies (for B42 being (Subset of B40) holds (for B43 being (Element of B40) holds (B43 in B42 implies ( ( lower_bound (B41 , B42) ) . B43 ) = ( 0 )))))))
proof
let C76 being non  empty set;
let C77 being (Function of [: C76 , C76 :] , ( REAL ));
assume that
L223: C77 is_a_pseudometric_of C76;
let C78 being (Subset of C76);
let C79 being (Element of C76);
assume L224: C79 in C78;
reconsider D23 = C78 as non  empty (Subset of C76) by L224;
L225: ( ( dist (C77 , C79) ) .: D23 ) is non  empty  bounded_below by L223 , L191;
L226: C77 is  Reflexive by L223 , NAGATA_1:def 10;
L227: ( C77 . (C79 , C79) ) = ( 0 ) by L226 , METRIC_1:def 2;
L228: (C76 = ( dom ( dist (C77 , C79) ) ) & ( ( dist (C77 , C79) ) . C79 ) = ( 0 )) by L227 , L80 , FUNCT_2:def 1;
L229: ( 0 ) in ( ( dist (C77 , C79) ) .: D23 ) by L228 , L224 , FUNCT_1:def 6;
L230: ( lower_bound ( ( dist (C77 , C79) ) .: D23 ) ) <= ( 0 ) by L229 , L225 , SEQ_4:def 2;
L231: ( ( lower_bound (C77 , D23) ) . C79 ) <= ( 0 ) by L230 , L181;
thus L232: thesis by L231 , L223 , L210;
end;
theorem
L233: (for R12 being non  empty TopSpace holds (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (R23 is_a_pseudometric_of (the carrier of R12) implies (for B44 , B45 being (Point of R12) holds (for B46 being non  empty (Subset of R12) holds ( abs ( ( ( lower_bound (R23 , B46) ) . B44 ) - ( ( lower_bound (R23 , B46) ) . B45 ) ) ) <= ( R23 . (B44 , B45) ))))))
proof
let R12 being non  empty TopSpace;
let R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L234: R23 is_a_pseudometric_of (the carrier of R12);
L235: R23 is  symmetric by L234 , NAGATA_1:def 10;
let C80 , C81 being (Point of R12);
let C82 being non  empty (Subset of R12);
L236: (for B47 , B48 being (Point of R12) holds ( ( ( lower_bound (R23 , C82) ) . B48 ) - ( ( lower_bound (R23 , C82) ) . B47 ) ) >= ( - ( R23 . (B47 , B48) ) ))
proof
let C83 , C84 being (Point of R12);
L237: ( ( dist (R23 , C83) ) .: C82 ) is non  empty  bounded_below by L234 , L191;
L238: (for R7 being  real number holds (R7 in ( ( dist (R23 , C84) ) .: C82 ) implies R7 >= ( ( lower_bound ( ( dist (R23 , C83) ) .: C82 ) ) - ( R23 . (C83 , C84) ) )))
proof
let R7 being  real number;
assume L239: R7 in ( ( dist (R23 , C84) ) .: C82 );
consider R10 being set such that L240: R10 in ( dom ( dist (R23 , C84) ) ) and L241: R10 in C82 and L242: ( ( dist (R23 , C84) ) . R10 ) = R7 by L239 , FUNCT_1:def 6;
reconsider D24 = R10 as (Point of R12) by L240;
L243: ( ( dist (R23 , C83) ) . D24 ) = ( R23 . (C83 , D24) ) by L80;
L244: R23 is  triangle by L234 , NAGATA_1:def 10;
L245: ( ( R23 . (C83 , C84) ) + ( R23 . (C84 , D24) ) ) >= ( R23 . (C83 , D24) ) by L244 , METRIC_1:def 5;
L246: ( dom ( dist (R23 , C83) ) ) = (the carrier of R12) by FUNCT_2:def 1;
L247: ( ( dist (R23 , C83) ) . D24 ) in ( ( dist (R23 , C83) ) .: C82 ) by L246 , L241 , FUNCT_1:def 6;
L248: ( R23 . (C83 , D24) ) >= ( lower_bound ( ( dist (R23 , C83) ) .: C82 ) ) by L247 , L237 , L243 , SEQ_4:def 2;
L249: ( ( R23 . (C83 , C84) ) + ( R23 . (C84 , D24) ) ) >= ( ( lower_bound ( ( dist (R23 , C83) ) .: C82 ) ) + ( 0 ) ) by L248 , L245 , XXREAL_0:2;
L250: ( ( R23 . (C84 , D24) ) - ( 0 ) ) >= ( ( lower_bound ( ( dist (R23 , C83) ) .: C82 ) ) - ( R23 . (C83 , C84) ) ) by L249 , XREAL_1:21;
thus L251: thesis by L250 , L242 , L80;
end;
L252: ( ( dist (R23 , C84) ) .: C82 ) is non  empty  bounded_below by L234 , L191;
L253: ( ( lower_bound ( ( dist (R23 , C84) ) .: C82 ) ) - ( 0 ) ) >= ( ( lower_bound ( ( dist (R23 , C83) ) .: C82 ) ) - ( R23 . (C83 , C84) ) ) by L252 , L238 , SEQ_4:43;
L254: ( ( lower_bound ( ( dist (R23 , C84) ) .: C82 ) ) - ( lower_bound ( ( dist (R23 , C83) ) .: C82 ) ) ) >= ( ( 0 ) - ( R23 . (C83 , C84) ) ) by L253 , XREAL_1:17;
L255: ( lower_bound ( ( dist (R23 , C84) ) .: C82 ) ) = ( ( lower_bound (R23 , C82) ) . C84 ) by L181;
thus L256: thesis by L255 , L254 , L181;
end;
L257: ( ( ( lower_bound (R23 , C82) ) . C81 ) - ( ( lower_bound (R23 , C82) ) . C80 ) ) >= ( - ( R23 . (C80 , C81) ) ) by L236;
L258: ( - ( ( ( lower_bound (R23 , C82) ) . C80 ) - ( ( lower_bound (R23 , C82) ) . C81 ) ) ) >= ( - ( R23 . (C80 , C81) ) ) by L257;
L259: ( ( ( lower_bound (R23 , C82) ) . C80 ) - ( ( lower_bound (R23 , C82) ) . C81 ) ) <= ( R23 . (C80 , C81) ) by L258 , XREAL_1:24;
L260: ( ( ( lower_bound (R23 , C82) ) . C80 ) - ( ( lower_bound (R23 , C82) ) . C81 ) ) >= ( - ( R23 . (C81 , C80) ) ) by L236;
L261: ( ( ( lower_bound (R23 , C82) ) . C80 ) - ( ( lower_bound (R23 , C82) ) . C81 ) ) >= ( - ( R23 . (C80 , C81) ) ) by L260 , L235 , METRIC_1:def 4;
thus L262: thesis by L261 , L259 , ABSVALUE:5;
end;
theorem
L263: (for R12 being non  empty TopSpace holds (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds ((R23 is_a_pseudometric_of (the carrier of R12) & (for R15 being (Point of R12) holds ( dist (R23 , R15) ) is  continuous)) implies (for B49 being non  empty (Subset of R12) holds ( lower_bound (R23 , B49) ) is  continuous))))
proof
let R12 being non  empty TopSpace;
let R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L264: R23 is_a_pseudometric_of (the carrier of R12)
and
L265: (for R15 being (Point of R12) holds ( dist (R23 , R15) ) is  continuous);
let C85 being non  empty (Subset of R12);
reconsider D25 = ( lower_bound (R23 , C85) ) as (Function of R12 , ( R^1 )) by TOPMETR:17;
L266:
now
let C86 being (Point of R12);
reconsider D26 = ( dist (R23 , C86) ) as (Function of R12 , ( R^1 )) by TOPMETR:17;
L267: (for B50 being (Subset of ( R^1 )) holds ((B50 is  open & ( D25 . C86 ) in B50) implies (ex B51 being (Subset of R12) st (B51 is  open & C86 in B51 & ( D25 .: B51 ) c= B50))))
proof
reconsider D27 = ( (D25 qua  real-valued Function) . C86 ) , D28 = ( (D26 qua  real-valued Function) . C86 ) as (Point of ( RealSpace )) by METRIC_1:def 13;
let C87 being (Subset of ( R^1 ));
assume L268: (C87 is  open & ( D25 . C86 ) in C87);
consider C88 being  real number such that L269: C88 > ( 0 ) and L270: ( Ball (D27 , C88) ) c= C87 by L268 , TOPMETR:15 , TOPMETR:def 6;
reconsider D29 = ( Ball (D28 , C88) ) as (Subset of ( R^1 )) by METRIC_1:def 13 , TOPMETR:17;
L271: ( abs ( ( D26 . C86 ) - ( D26 . C86 ) ) ) = ( 0 ) by ABSVALUE:2;
L272: ( dist (D28 , D28) ) < C88 by L271 , L269 , TOPMETR:11;
L273: D28 in D29 by L272 , METRIC_1:11;
L274: ( dist (R23 , C86) ) is  continuous by L265;
L275: D26 is  continuous by L274 , JORDAN5A:27;
L276: (D29 is  open & D26 is_continuous_at C86) by L275 , TMAP_1:50 , TOPMETR:14 , TOPMETR:def 6;
consider C89 being (Subset of R12) such that L277: (C89 is  open & C86 in C89) and L278: ( D26 .: C89 ) c= D29 by L276 , L273 , TMAP_1:43;
L279: ( D25 .: C89 ) c= C87
proof
let C90 being set;
assume L280: C90 in ( D25 .: C89 );
consider C91 being set such that L281: C91 in ( dom D25 ) and L282: C91 in C89 and L283: ( D25 . C91 ) = C90 by L280 , FUNCT_1:def 6;
reconsider D30 = C91 as (Point of R12) by L281;
reconsider D31 = ( (D25 qua  real-valued Function) . D30 ) , D32 = ( (D26 qua  real-valued Function) . D30 ) as (Point of ( RealSpace )) by METRIC_1:def 13;
L284: ( R23 . (C86 , D30) ) >= ( 0 ) by L264 , NAGATA_1:29;
L285: ( D26 . D30 ) >= ( 0 ) by L284 , L80;
L286: ( D26 . C86 ) = ( R23 . (C86 , C86) ) by L80;
L287: ( D26 . C86 ) = ( 0 ) by L286 , L264 , NAGATA_1:28;
L288: ( dist (D28 , D32) ) = ( abs ( ( 0 ) - ( D26 . D30 ) ) ) by L287 , TOPMETR:11;
L289: ( dom D26 ) = (the carrier of R12) by FUNCT_2:def 1;
L290: ( D26 . D30 ) in ( D26 .: C89 ) by L289 , L282 , FUNCT_1:def 6;
L291: ( dist (D28 , D32) ) < C88 by L290 , L278 , METRIC_1:11;
L292: ( abs ( - ( ( 0 ) - ( D26 . D30 ) ) ) ) < C88 by L291 , L288 , COMPLEX1:52;
L293: ( D26 . D30 ) < C88 by L292 , L285 , ABSVALUE:def 1;
L294: ( R23 . (C86 , D30) ) < C88 by L293 , L80;
L295: (( abs ( ( ( lower_bound (R23 , C85) ) . C86 ) - ( ( lower_bound (R23 , C85) ) . D30 ) ) ) <= ( R23 . (C86 , D30) ) & ( dist (D27 , D31) ) = ( abs ( ( ( lower_bound (R23 , C85) ) . C86 ) - ( ( lower_bound (R23 , C85) ) . D30 ) ) )) by L264 , L233 , TOPMETR:11;
L296: ( dist (D27 , D31) ) < C88 by L295 , L294 , XXREAL_0:2;
L297: D31 in ( Ball (D27 , C88) ) by L296 , METRIC_1:11;
thus L298: thesis by L297 , L270 , L283;
end;
thus L299: thesis by L279 , L277;
end;
thus L300: D25 is_continuous_at C86 by L267 , TMAP_1:43;
end;
L301: D25 is  continuous by L266 , TMAP_1:50;
thus L302: thesis by L301 , JORDAN5A:27;
end;
theorem
L303: (for R11 being set holds (for B52 being (Function of [: R11 , R11 :] , ( REAL )) holds (B52 is_metric_of R11 implies B52 is_a_pseudometric_of R11)))
proof
let R11 being set;
let C92 being (Function of [: R11 , R11 :] , ( REAL ));
assume L304: C92 is_metric_of R11;
L305: (for B53 , B54 , B55 being (Element of R11) holds (( C92 . (B53 , B53) ) = ( 0 ) & ( C92 . (B53 , B54) ) = ( C92 . (B54 , B53) ) & ( C92 . (B53 , B55) ) <= ( ( C92 . (B53 , B54) ) + ( C92 . (B54 , B55) ) ))) by L304 , PCOMPS_1:def 6;
L306: C92 is  Reflexive  symmetric  triangle by L305 , METRIC_1:def 2 , METRIC_1:def 4 , METRIC_1:def 5;
thus L307: thesis by L306 , NAGATA_1:def 10;
end;
theorem
L308: (for R12 being non  empty TopSpace holds (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds ((R23 is_metric_of (the carrier of R12) & (for B56 being non  empty (Subset of R12) holds ( Cl B56 ) = { B57 where B57 is (Point of R12) : ( ( lower_bound (R23 , B56) ) . B57 ) = ( 0 ) })) implies R12 is  metrizable)))
proof
let R12 being non  empty TopSpace;
let R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L309: R23 is_metric_of (the carrier of R12)
and
L310: (for B58 being non  empty (Subset of R12) holds ( Cl B58 ) = { B59 where B59 is (Point of R12) : ( ( lower_bound (R23 , B58) ) . B59 ) = ( 0 ) });
set D33 = ( SpaceMetr ((the carrier of R12) , R23) );
reconsider D34 = D33 as non  empty MetrSpace by L309 , PCOMPS_1:36;
L311: (for B60 , B61 being (Element of D34) holds ( R23 . (B60 , B61) ) = ( dist (B60 , B61) ))
proof
let C93 , C94 being (Element of D34);
L312: D34 = MetrStruct (# (the carrier of R12) , R23 #) by L309 , PCOMPS_1:def 7;
thus L313: thesis by L312 , METRIC_1:def 1;
end;
L314: ( Family_open_set D34 ) c= (the topology of R12)
proof
let C95 being set;
assume L315: C95 in ( Family_open_set D34 );
reconsider D35 = C95 as (Subset of R12) by L315 , L309 , PCOMPS_2:4;
per cases ;
suppose L316: ( D35 ` ) is  empty;

L317: ( D35 ` ) = ( ( [#] R12 ) ` ) by L316 , XBOOLE_1:37;
L318: D35 = (the carrier of R12) by L317 , TOPS_1:1;
thus L319: thesis by L318 , PRE_TOPC:def 1;
end;
suppose L320: ( D35 ` ) is non  empty;

L321: (for R8 being set holds (R8 in D35 iff (ex B62 being (Subset of R12) st (B62 is  open & B62 c= D35 & R8 in B62))))
proof
let R8 being set;
L322: (R8 in D35 implies (ex B63 being (Subset of R12) st (B63 is  open & B63 c= D35 & R8 in B63)))
proof
assume L323: R8 in D35;
reconsider D36 = R8 as (Element of D34) by L323 , L309 , PCOMPS_2:4;
consider R5 being Real such that L324: R5 > ( 0 ) and L325: ( Ball (D36 , R5) ) c= D35 by L315 , L323 , PCOMPS_1:def 4;
reconsider D37 = R8 as (Element of R12) by L323;
L326: (ex R9 being set st R9 in ( D35 ` )) by L320 , XBOOLE_0:def 1;
reconsider D38 = ( Ball (D36 , R5) ) as (Subset of R12) by L309 , PCOMPS_2:4;
set D39 = { B64 where B64 is (Point of R12) : ( ( lower_bound (R23 , ( D38 ` )) ) . B64 ) = ( 0 ) };
L327: ( D35 ` ) c= ( D38 ` ) by L325 , SUBSET_1:12;
consider C96 being set such that L328: C96 in ( D38 ` ) by L327 , L326;
L329: ( D38 ` ) = D39
proof
thus L330: ( D38 ` ) c= D39
proof
let R9 being set;
assume that
L331: R9 in ( D38 ` );
L332: ( ( lower_bound (R23 , ( D38 ` )) ) . R9 ) = ( 0 ) by L309 , L331 , L222 , L303;
thus L333: thesis by L332 , L331;
end;

let R9 being set;
assume L334: R9 in D39;
consider C97 being (Point of R12) such that L335: R9 = C97 and L336: ( ( lower_bound (R23 , ( D38 ` )) ) . C97 ) = ( 0 ) by L334;
assume L337: (not R9 in ( D38 ` ));
L338: C97 in D38 by L337 , L335 , XBOOLE_0:def 5;
reconsider D40 = C97 as (Point of D34) by L309 , PCOMPS_2:4;
L339: R23 is_a_pseudometric_of (the carrier of R12) by L309 , L303;
L340: ( ( dist (R23 , C97) ) .: ( D38 ` ) ) is non  empty  bounded_below by L339 , L328 , L191;
L341: ( Ball (D36 , R5) ) in ( Family_open_set D34 ) by PCOMPS_1:29;
consider R6 being Real such that L342: R6 > ( 0 ) and L343: ( Ball (D40 , R6) ) c= ( Ball (D36 , R5) ) by L341 , L338 , PCOMPS_1:def 4;
L344: ( lower_bound ( ( dist (R23 , C97) ) .: ( D38 ` ) ) ) = ( 0 ) by L336 , L181;
consider R7 being  real number such that L345: R7 in ( ( dist (R23 , C97) ) .: ( D38 ` ) ) and L346: R7 < ( ( 0 ) + R6 ) by L344 , L342 , L340 , SEQ_4:def 2;
consider R10 being set such that L347: R10 in ( dom ( dist (R23 , C97) ) ) and L348: R10 in ( D38 ` ) and L349: R7 = ( ( dist (R23 , C97) ) . R10 ) by L345 , FUNCT_1:def 6;
reconsider D41 = R10 as (Point of R12) by L347;
reconsider D42 = R10 as (Point of D34) by L309 , L347 , PCOMPS_2:4;
L350: ( R23 . (C97 , D41) ) < R6 by L346 , L349 , L80;
L351: ( dist (D40 , D42) ) < R6 by L350 , L311;
L352: D42 in ( Ball (D40 , R6) ) by L351 , METRIC_1:11;
L353: ( D38 ` ) meets D38 by L352 , L343 , L348 , XBOOLE_0:3;
thus L354: thesis by L353 , XBOOLE_1:79;
end;
L355: ( D38 ` ) = ( Cl ( D38 ` ) ) by L329 , L310 , L328;
L356: D38 is  open by L355 , TOPS_1:4;
L357: ( R23 . (D37 , D37) ) = ( 0 ) by L309 , PCOMPS_1:def 6;
L358: ( dist (D36 , D36) ) < R5 by L357 , L311 , L324;
L359: D36 in D38 by L358 , METRIC_1:11;
thus L360: thesis by L359 , L325 , L356;
end;
thus L361: thesis by L322;
end;
L362: D35 is  open by L321 , TOPS_1:25;
thus L363: thesis by L362 , PRE_TOPC:def 2;
end;
end;
L365: (the topology of R12) c= ( Family_open_set D34 )
proof
let C98 being set;
assume L366: C98 in (the topology of R12);
reconsider D43 = C98 as (Subset of R12) by L366;
reconsider D44 = C98 as (Subset of D34) by L309 , L366 , PCOMPS_2:4;
per cases ;
suppose L367: ( D43 ` ) is  empty;

L368: ( D43 ` ) = ( ( [#] R12 ) ` ) by L367 , XBOOLE_1:37;
L369: D43 = (the carrier of R12) by L368 , TOPS_1:1;
L370: D43 = (the carrier of D34) by L369 , L309 , PCOMPS_2:4;
thus L371: thesis by L370 , PCOMPS_1:30;
end;
suppose L372: ( D43 ` ) is non  empty;

L373: (for B65 being (Element of D34) holds (B65 in D44 implies (ex R5 being Real st (R5 > ( 0 ) & ( Ball (B65 , R5) ) c= D44))))
proof
let C99 being (Element of D34);
assume that
L374: C99 in D44;
reconsider D45 = C99 as (Element of R12) by L309 , PCOMPS_2:4;
take D46 = ( ( lower_bound (R23 , ( D43 ` )) ) . D45 );
L375: ( Ball (C99 , D46) ) c= D44
proof
L376: R23 is_a_pseudometric_of (the carrier of R12) by L309 , L303;
L377: ( ( dist (R23 , D45) ) .: ( D43 ` ) ) is non  empty  bounded_below by L376 , L372 , L191;
let R9 being set;
assume that
L378: R9 in ( Ball (C99 , D46) )
and
L379: (not R9 in D44);
reconsider D47 = R9 as (Point of D34) by L378;
L380: ( dist (C99 , D47) ) < D46 by L378 , METRIC_1:11;
reconsider D48 = D47 as (Point of R12) by L309 , PCOMPS_2:4;
L381: ( dom ( dist (R23 , D45) ) ) = (the carrier of R12) by FUNCT_2:def 1;
L382: D48 in ( D43 ` ) by L379 , XBOOLE_0:def 5;
L383: ( ( dist (R23 , D45) ) . D48 ) in ( ( dist (R23 , D45) ) .: ( D43 ` ) ) by L382 , L381 , FUNCT_1:def 6;
L384: ( lower_bound ( ( dist (R23 , D45) ) .: ( D43 ` ) ) ) <= ( ( dist (R23 , D45) ) . D48 ) by L383 , L377 , SEQ_4:def 2;
L385: (( ( dist (R23 , D45) ) . D48 ) = ( R23 . (D45 , D48) ) & ( lower_bound ( ( dist (R23 , D45) ) .: ( D43 ` ) ) ) = ( ( lower_bound (R23 , ( D43 ` )) ) . D45 )) by L80 , L181;
thus L386: thesis by L385 , L311 , L380 , L384;
end;
L387: D43 is  open by L366 , PRE_TOPC:def 2;
L388: ( D43 ` ) = ( Cl ( D43 ` ) ) by L387 , PRE_TOPC:22;
L389: ( D43 ` ) = { B66 where B66 is (Point of R12) : ( ( lower_bound (R23 , ( D43 ` )) ) . B66 ) = ( 0 ) } by L388 , L310 , L372;
L390: ( ( lower_bound (R23 , ( D43 ` )) ) . D45 ) > ( 0 )
proof
assume L391: ( ( lower_bound (R23 , ( D43 ` )) ) . D45 ) <= ( 0 );
L392: ( ( lower_bound (R23 , ( D43 ` )) ) . D45 ) = ( 0 ) by L391 , L309 , L372 , L210 , L303;
L393: D45 in ( D43 ` ) by L392 , L389;
L394: ( D43 ` ) meets D43 by L393 , L374 , XBOOLE_0:3;
thus L395: thesis by L394 , XBOOLE_1:79;
end;
thus L396: thesis by L390 , L375;
end;
thus L397: thesis by L373 , PCOMPS_1:def 4;
end;
end;
L399: (the topology of R12) = ( Family_open_set D34 ) by L365 , L314 , XBOOLE_0:def 10;
thus L400: thesis by L399 , L309 , PCOMPS_1:def 8;
end;
theorem
L401: (for R12 being non  empty TopSpace holds (for R29 being (Functional_Sequence of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (((for R4 being (Element of ( NAT )) holds (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( R29 . R4 ) = R23 & R23 is_a_pseudometric_of (the carrier of R12)))) & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R29 # R21 ) is  summable)) implies (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds ((for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( R29 # R21 ) )) implies R23 is_a_pseudometric_of (the carrier of R12))))))
proof
let R12 being non  empty TopSpace;
set D49 = (the carrier of R12);
let R29 being (Functional_Sequence of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L402: (for R4 being (Element of ( NAT )) holds (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( R29 . R4 ) = R23 & R23 is_a_pseudometric_of D49)))
and
L403: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R29 # R21 ) is  summable);
let R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L404: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( R29 # R21 ) ));
L405:
now
let C100 , C101 , C102 being (Point of R12);
thus L406: ( R23 . (C100 , C100) ) = ( 0 )
proof
set D50 = [ C100 , C100 ];
set D51 = ( R29 # D50 );
L407:
now
let R4 being (Element of ( NAT ));
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L408: ( R29 . R4 ) = R24 and L409: R24 is_a_pseudometric_of D49 by L402;
L410: ( R24 . (C100 , C100) ) = ( 0 ) by L409 , NAGATA_1:28;
thus L411: ( D51 . R4 ) = ( ( 0 ) * ( D51 . R4 ) ) by L410 , L408 , SEQFUNC:def 10;
end;
L412: D51 = ( ( 0 ) (#) D51 ) by L407 , SEQ_1:9;
L413: D51 is  summable by L403;
L414: ( Sum D51 ) = ( ( 0 ) * ( Sum D51 ) ) by L413 , L412 , SERIES_1:10;
thus L415: thesis by L414 , L404;
end;

thus L416: ( R23 . (C100 , C102) ) <= ( ( R23 . (C100 , C101) ) + ( R23 . (C102 , C101) ) )
proof
set D52 = [ C100 , C101 ];
set D53 = [ C102 , C101 ];
set D54 = [ C100 , C102 ];
set D55 = ( R29 # D54 );
set D56 = ( R29 # D52 );
set D57 = ( R29 # D53 );
L417:
now
let R4 being (Element of ( NAT ));
L418: (( ( R29 . R4 ) . D54 ) = ( D55 . R4 ) & ( ( R29 . R4 ) . D52 ) = ( D56 . R4 )) by SEQFUNC:def 10;
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L419: ( R29 . R4 ) = R24 and L420: R24 is_a_pseudometric_of D49 by L402;
L421: ( 0 ) <= ( R24 . (C100 , C102) ) by L420 , NAGATA_1:29;
L422: ( R24 . (C100 , C102) ) <= ( ( R24 . (C100 , C101) ) + ( R24 . (C102 , C101) ) ) by L420 , NAGATA_1:28;
L423: ( D55 . R4 ) <= ( ( D56 . R4 ) + ( D57 . R4 ) ) by L422 , L419 , L418 , SEQFUNC:def 10;
thus L424: (( 0 ) <= ( D55 . R4 ) & ( D55 . R4 ) <= ( ( D56 + D57 ) . R4 )) by L423 , L419 , L421 , SEQFUNC:def 10 , SEQ_1:7;
end;
L425: (D56 is  summable & D57 is  summable) by L403;
L426: ( D56 + D57 ) is  summable by L425 , SERIES_1:7;
L427: ( Sum D55 ) <= ( Sum ( D56 + D57 ) ) by L426 , L417 , SERIES_1:20;
L428: (( Sum D56 ) = ( R23 . D52 ) & ( Sum D57 ) = ( R23 . D53 )) by L404;
L429: ( Sum ( D56 + D57 ) ) = ( ( Sum D56 ) + ( Sum D57 ) ) by L425 , SERIES_1:7;
thus L430: thesis by L429 , L404 , L427 , L428;
end;

end;
thus L417: thesis by L405 , NAGATA_1:28;
end;
theorem
L418: (for R5 being Real holds (for R4 being (Element of ( NAT )) holds (for R30 being Real_Sequence holds ((for R3 being (Element of ( NAT )) holds (R3 <= R4 implies ( R30 . R3 ) <= R5)) implies (for R3 being (Element of ( NAT )) holds (R3 <= R4 implies ( ( Partial_Sums R30 ) . R3 ) <= ( R5 * ( R3 + 1 ) )))))))
proof
let R5 being Real;
let R4 being (Element of ( NAT ));
let R30 being Real_Sequence;
assume that
L419: (for R3 being (Element of ( NAT )) holds (R3 <= R4 implies ( R30 . R3 ) <= R5));
defpred S2[ (Element of ( NAT )) ] means ($1 <= R4 implies ( ( Partial_Sums R30 ) . $1 ) <= ( R5 * ( $1 + 1 ) ));
L420: (for R3 being (Element of ( NAT )) holds (S2[ R3 ] implies S2[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
assume that
L421: S2[ R3 ];
L422: ( ( Partial_Sums R30 ) . ( R3 + 1 ) ) = ( ( ( Partial_Sums R30 ) . R3 ) + ( R30 . ( R3 + 1 ) ) ) by SERIES_1:def 1;
assume L423: ( R3 + 1 ) <= R4;
L424: ( R30 . ( R3 + 1 ) ) <= R5 by L423 , L419;
L425: ( ( Partial_Sums R30 ) . ( R3 + 1 ) ) <= ( ( R5 * ( R3 + 1 ) ) + R5 ) by L424 , L421 , L423 , L422 , NAT_1:13 , XREAL_1:7;
thus L426: thesis by L425;
end;
L427: ( ( Partial_Sums R30 ) . ( 0 ) ) = ( R30 . ( 0 ) ) by SERIES_1:def 1;
L428: S2[ ( 0 ) ] by L427 , L419;
L429: (for R3 being (Element of ( NAT )) holds S2[ R3 ]) from NAT_1:sch 1(L428 , L420);
thus L430: thesis by L429;
end;
theorem
L431: (for R30 being Real_Sequence holds (for R2 being (Element of ( NAT )) holds ( abs ( ( Partial_Sums R30 ) . R2 ) ) <= ( ( Partial_Sums ( abs R30 ) ) . R2 )))
proof
let R30 being Real_Sequence;
set D58 = ( Partial_Sums R30 );
set D59 = ( Partial_Sums ( abs R30 ) );
defpred S3[ (Element of ( NAT )) ] means ( abs ( D58 . $1 ) ) <= ( D59 . $1 );
L432: (for R2 being (Element of ( NAT )) holds (S3[ R2 ] implies S3[ ( R2 + 1 ) ]))
proof
let R2 being (Element of ( NAT ));
assume L433: S3[ R2 ];
L434: ( ( abs ( D58 . R2 ) ) + ( abs ( R30 . ( R2 + 1 ) ) ) ) <= ( ( D59 . R2 ) + ( abs ( R30 . ( R2 + 1 ) ) ) ) by L433 , XREAL_1:7;
L435: ( D58 . ( R2 + 1 ) ) = ( ( D58 . R2 ) + ( R30 . ( R2 + 1 ) ) ) by SERIES_1:def 1;
L436: ( abs ( D58 . ( R2 + 1 ) ) ) <= ( ( abs ( D58 . R2 ) ) + ( abs ( R30 . ( R2 + 1 ) ) ) ) by L435 , COMPLEX1:56;
L437: ( ( abs R30 ) . ( R2 + 1 ) ) = ( abs ( R30 . ( R2 + 1 ) ) ) by SEQ_1:12;
L438: ( abs ( D58 . ( R2 + 1 ) ) ) <= ( ( D59 . R2 ) + ( ( abs R30 ) . ( R2 + 1 ) ) ) by L437 , L436 , L434 , XXREAL_0:2;
thus L439: thesis by L438 , SERIES_1:def 1;
end;
L440: (( D59 . ( 0 ) ) = ( ( abs R30 ) . ( 0 ) ) & ( ( abs R30 ) . ( 0 ) ) = ( abs ( R30 . ( 0 ) ) )) by SEQ_1:12 , SERIES_1:def 1;
L441: S3[ ( 0 ) ] by L440 , SERIES_1:def 1;
L442: (for R2 being (Element of ( NAT )) holds S3[ R2 ]) from NAT_1:sch 1(L441 , L432);
thus L443: thesis by L442;
end;
theorem
L444: (for R12 being non  empty TopSpace holds (for B67 being (Functional_Sequence of (the carrier of R12) , ( REAL )) holds (((for R4 being (Element of ( NAT )) holds (ex R27 being (RealMap of R12) st (( B67 . R4 ) = R27 & R27 is  continuous & (for R15 being (Point of R12) holds ( R27 . R15 ) >= ( 0 ))))) & (ex R30 being Real_Sequence st (R30 is  summable & (for R4 being (Element of ( NAT )) holds (for R15 being (Point of R12) holds ( ( B67 # R15 ) . R4 ) <= ( R30 . R4 )))))) implies (for R27 being (RealMap of R12) holds ((for R15 being (Point of R12) holds ( R27 . R15 ) = ( Sum ( B67 # R15 ) )) implies R27 is  continuous)))))
proof
let R12 being non  empty TopSpace;
let C103 being (Functional_Sequence of (the carrier of R12) , ( REAL ));
assume that
L445: (for R4 being (Element of ( NAT )) holds (ex R27 being (RealMap of R12) st (( C103 . R4 ) = R27 & R27 is  continuous & (for R15 being (Point of R12) holds ( R27 . R15 ) >= ( 0 )))))
and
L446: (ex R30 being Real_Sequence st (R30 is  summable & (for R4 being (Element of ( NAT )) holds (for R15 being (Point of R12) holds ( ( C103 # R15 ) . R4 ) <= ( R30 . R4 )))));
let R27 being (RealMap of R12);
assume that
L447: (for R15 being (Point of R12) holds ( R27 . R15 ) = ( Sum ( C103 # R15 ) ));
reconsider D60 = R27 as (Function of R12 , ( R^1 )) by TOPMETR:17;
L448:
now
let R15 being (Point of R12);
L449: (for B68 being (Subset of ( R^1 )) holds ((B68 is  open & ( D60 . R15 ) in B68) implies (ex B69 being (Subset of R12) st (B69 is  open & R15 in B69 & ( D60 .: B69 ) c= B68))))
proof
reconsider D61 = ( (D60 qua  real-valued Function) . R15 ) as (Point of ( RealSpace )) by METRIC_1:def 13;
let C104 being (Subset of ( R^1 ));
assume L450: (C104 is  open & ( D60 . R15 ) in C104);
consider R7 being  real number such that L451: R7 > ( 0 ) and L452: ( Ball (D61 , R7) ) c= C104 by L450 , TOPMETR:15 , TOPMETR:def 6;
set D62 = ( R7 / 2 );
set D63 = ( R7 / 4 );
reconsider D64 = D62 , D65 = D63 as Real;
L453: D65 > ( 0 ) by L451 , XREAL_1:224;
consider R30 being Real_Sequence such that L454: R30 is  summable and L455: (for R4 being (Element of ( NAT )) holds (for R16 being (Point of R12) holds ( ( C103 # R16 ) . R4 ) <= ( R30 . R4 ))) by L446;
L456: ( Partial_Sums R30 ) is  convergent by L454 , SERIES_1:def 2;
consider R4 being (Element of ( NAT )) such that L457: (for R3 being (Element of ( NAT )) holds (R4 <= R3 implies ( abs ( ( ( Partial_Sums R30 ) . R3 ) - ( lim ( Partial_Sums R30 ) ) ) ) < D65)) by L456 , L453 , SEQ_2:def 7;
defpred S4[ set , set ] means (ex B70 being (Subset of R12) st (B70 = $2 & B70 is  open & R15 in B70 & (for R28 being (RealMap of R12) holds (( C103 . $1 ) = R28 implies (for B71 being (Point of ( RealSpace )) holds (B71 = ( R28 . R15 ) implies ( R28 .: B70 ) c= ( Ball (B71 , ( D64 / ( R4 + 1 ) )) )))))));
L458: (for B72 being set holds (B72 in ( { ( 0 ) } \/ ( Seg R4 ) ) implies (ex B73 being set st (B73 in ( bool (the carrier of R12) ) & S4[ B72 , B73 ]))))
proof
let C105 being set;
assume L459: C105 in ( { ( 0 ) } \/ ( Seg R4 ) );
L460: (C105 in ( Seg R4 ) or C105 in { ( 0 ) }) by L459 , XBOOLE_0:def 3;
reconsider D66 = C105 as (Element of ( NAT )) by L460 , TARSKI:def 1;
consider R28 being (RealMap of R12) such that L461: ( C103 . D66 ) = R28 and L462: R28 is  continuous and L463: (for R15 being (Point of R12) holds ( R28 . R15 ) >= ( 0 )) by L445;
reconsider D67 = R28 as (Function of R12 , ( R^1 )) by TOPMETR:17;
reconsider D68 = ( (D67 qua  real-valued Function) . R15 ) as (Point of ( RealSpace )) by METRIC_1:def 13;
set D69 = ( Ball (D68 , ( D64 / ( R4 + 1 ) )) );
reconsider D70 = D69 as (Subset of ( R^1 )) by METRIC_1:def 13 , TOPMETR:17;
L464: (( dist (D68 , D68) ) = ( 0 ) & D64 > ( 0 )) by L451 , METRIC_1:1 , XREAL_1:215;
L465: ( dist (D68 , D68) ) < ( D64 / ( R4 + 1 ) ) by L464 , XREAL_1:139;
L466: D68 in D70 by L465 , METRIC_1:11;
L467: D67 is  continuous by L462 , JORDAN5A:27;
L468: (D70 is  open & D67 is_continuous_at R15) by L467 , TMAP_1:50 , TOPMETR:14 , TOPMETR:def 6;
consider C106 being (Subset of R12) such that L469: (C106 is  open & R15 in C106) and L470: ( D67 .: C106 ) c= D70 by L468 , L466 , TMAP_1:43;
L471: (for R28 being (RealMap of R12) holds (( C103 . D66 ) = R28 implies (for B74 being (Point of ( RealSpace )) holds (B74 = ( R28 . R15 ) implies ( R28 .: C106 ) c= ( Ball (B74 , ( D64 / ( R4 + 1 ) )) ))))) by L461 , L470;
thus L472: thesis by L471 , L469;
end;
consider C107 being (Function of ( { ( 0 ) } \/ ( Seg R4 ) ) , ( bool (the carrier of R12) )) such that L473: (for B75 being set holds (B75 in ( { ( 0 ) } \/ ( Seg R4 ) ) implies S4[ B75 , ( C107 . B75 ) ])) from FUNCT_2:sch 1(L458);
L474: (for R2 being (Element of ( NAT )) holds (for R16 being (Point of R12) holds ( ( C103 # R16 ) . R2 ) >= ( 0 )))
proof
let R2 being (Element of ( NAT ));
let R16 being (Point of R12);
L475: ((ex R28 being (RealMap of R12) st (( C103 . R2 ) = R28 & R28 is  continuous & (for R16 being (Point of R12) holds ( R28 . R16 ) >= ( 0 )))) & ( ( C103 . R2 ) . R16 ) = ( ( C103 # R16 ) . R2 )) by L445 , SEQFUNC:def 10;
thus L476: thesis by L475;
end;
L477: (for R2 being (Element of ( NAT )) holds ( ( R30 ^\ ( R4 + 1 ) ) . R2 ) >= ( 0 ))
proof
let R2 being (Element of ( NAT ));
L478: (( 0 ) <= ( ( C103 # R15 ) . ( ( R4 + 1 ) + R2 ) ) & ( R30 . ( ( R4 + 1 ) + R2 ) ) = ( ( R30 ^\ ( R4 + 1 ) ) . R2 )) by L474 , NAT_1:def 3;
thus L479: thesis by L478 , L455;
end;
reconsider D71 = ( rng C107 ) as (Subset-Family of R12);
L480: D71 is  open
proof
let C108 being (Subset of R12);
assume L481: C108 in D71;
consider R8 being set such that L482: R8 in ( dom C107 ) and L483: ( C107 . R8 ) = C108 by L481 , FUNCT_1:def 3;
L484: (ex B76 being (Subset of R12) st (B76 = ( C107 . R8 ) & B76 is  open & R15 in B76 & (for R28 being (RealMap of R12) holds (( C103 . R8 ) = R28 implies (for B77 being (Point of ( RealSpace )) holds (B77 = ( R28 . R15 ) implies ( R28 .: B76 ) c= ( Ball (B77 , ( D64 / ( R4 + 1 ) )) ))))))) by L473 , L482;
thus L485: thesis by L484 , L483;
end;
L486: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
L487: ( 0 ) in ( { ( 0 ) } \/ ( Seg R4 ) ) by L486 , XBOOLE_0:def 3;
reconsider D72 = D71 as non  empty (Subset-Family of R12) by L487 , FUNCT_2:4;
L488: (( lim ( Partial_Sums R30 ) ) = ( Sum R30 ) & ( Sum R30 ) = ( ( ( Partial_Sums R30 ) . R4 ) + ( Sum ( R30 ^\ ( R4 + 1 ) ) ) )) by L454 , SERIES_1:15 , SERIES_1:def 3;
L489: ( abs ( ( ( Partial_Sums R30 ) . R4 ) - ( lim ( Partial_Sums R30 ) ) ) ) < D65 by L457;
L490: ( abs ( - ( Sum ( R30 ^\ ( R4 + 1 ) ) ) ) ) < D65 by L489 , L488;
L491: ( abs ( Sum ( R30 ^\ ( R4 + 1 ) ) ) ) < D65 by L490 , COMPLEX1:52;
L492: ( R30 ^\ ( R4 + 1 ) ) is  summable by L454 , SERIES_1:12;
L493: ( Sum ( R30 ^\ ( R4 + 1 ) ) ) >= ( 0 ) by L492 , L477 , SERIES_1:18;
L494: ( Sum ( R30 ^\ ( R4 + 1 ) ) ) < D65 by L493 , L491 , ABSVALUE:def 1;
L495: (for R16 being (Point of R12) holds (( C103 # R16 ) is  summable & ( 0 ) <= ( Sum ( ( C103 # R16 ) ^\ ( R4 + 1 ) ) ) & ( Sum ( ( C103 # R16 ) ^\ ( R4 + 1 ) ) ) < D65))
proof
let R16 being (Point of R12);
set D73 = ( C103 # R16 );
L496:
now
let R2 being (Element of ( NAT ));
L497: ( R30 . ( ( R4 + 1 ) + R2 ) ) = ( ( R30 ^\ ( R4 + 1 ) ) . R2 ) by NAT_1:def 3;
L498: (( 0 ) <= ( D73 . ( ( R4 + 1 ) + R2 ) ) & ( D73 . ( ( R4 + 1 ) + R2 ) ) <= ( R30 . ( ( R4 + 1 ) + R2 ) )) by L455 , L474;
thus L499: (( 0 ) <= ( ( D73 ^\ ( R4 + 1 ) ) . R2 ) & ( ( D73 ^\ ( R4 + 1 ) ) . R2 ) <= ( ( R30 ^\ ( R4 + 1 ) ) . R2 )) by L498 , L497 , NAT_1:def 3;
end;
L500: (for R2 being (Element of ( NAT )) holds (( 0 ) <= ( D73 . R2 ) & ( D73 . R2 ) <= ( R30 . R2 ))) by L455 , L474;
L501: D73 is  summable by L500 , L454 , SERIES_1:20;
L502: ( D73 ^\ ( R4 + 1 ) ) is  summable by L501 , SERIES_1:12;
L503: ( R30 ^\ ( R4 + 1 ) ) is  summable by L454 , SERIES_1:12;
L504: ( Sum ( D73 ^\ ( R4 + 1 ) ) ) <= ( Sum ( R30 ^\ ( R4 + 1 ) ) ) by L503 , L496 , SERIES_1:20;
thus L505: thesis by L504 , L454 , L494 , L500 , L496 , L502 , SERIES_1:18 , SERIES_1:20 , XXREAL_0:2;
end;
L506: ( D60 .: ( meet D72 ) ) c= C104
proof
let C109 being set;
assume L507: C109 in ( D60 .: ( meet D72 ) );
consider C110 being set such that L508: C110 in ( dom D60 ) and L509: C110 in ( meet D72 ) and L510: C109 = ( D60 . C110 ) by L507 , FUNCT_1:def 6;
reconsider D74 = C110 as (Point of R12) by L508;
set D75 = ( C103 # R15 );
set D76 = ( C103 # D74 );
set D77 = ( D75 ^\ ( R4 + 1 ) );
set D78 = ( D76 ^\ ( R4 + 1 ) );
set D79 = ( Partial_Sums ( abs ( D75 - D76 ) ) );
L511: (for R2 being (Element of ( NAT )) holds (R2 <= R4 implies ( ( abs ( D75 - D76 ) ) . R2 ) <= ( D64 / ( R4 + 1 ) )))
proof
let R2 being (Element of ( NAT ));
assume that
L512: R2 <= R4;
L513: (R2 = ( 0 ) or R2 >= 1) by NAT_1:14;
L514: (R2 in { ( 0 ) } or R2 in ( Seg R4 )) by L513 , L512 , FINSEQ_1:1 , TARSKI:def 1;
L515: R2 in ( { ( 0 ) } \/ ( Seg R4 ) ) by L514 , XBOOLE_0:def 3;
L516: ( C107 . R2 ) in D72 by L515 , FUNCT_2:4;
L517: D74 in ( C107 . R2 ) by L516 , L509 , SETFAM_1:def 1;
L518: ( dom ( D75 - D76 ) ) = ( NAT ) by FUNCT_2:def 1;
L519: ( ( D75 - D76 ) . R2 ) = ( ( D75 . R2 ) - ( D76 . R2 ) ) by L518 , VALUED_1:13;
consider R28 being (RealMap of R12) such that L520: ( C103 . R2 ) = R28 and L521: R28 is  continuous and L522: (for R15 being (Point of R12) holds ( R28 . R15 ) >= ( 0 )) by L445;
reconsider D80 = ( R28 . R15 ) , D81 = ( R28 . D74 ) as (Point of ( RealSpace )) by METRIC_1:def 13;
L523: (ex B78 being (Subset of R12) st (B78 = ( C107 . R2 ) & B78 is  open & R15 in B78 & (for R28 being (RealMap of R12) holds (( C103 . R2 ) = R28 implies (for B79 being (Point of ( RealSpace )) holds (B79 = ( R28 . R15 ) implies ( R28 .: B78 ) c= ( Ball (B79 , ( D64 / ( R4 + 1 ) )) ))))))) by L473 , L515;
L524: ( R28 .: ( C107 . R2 ) ) c= ( Ball (D80 , ( D64 / ( R4 + 1 ) )) ) by L523 , L520;
L525: ( dom R28 ) = (the carrier of R12) by FUNCT_2:def 1;
L526: D81 in ( R28 .: ( C107 . R2 ) ) by L525 , L517 , FUNCT_1:def 6;
L527: ( dist (D80 , D81) ) < ( D64 / ( R4 + 1 ) ) by L526 , L524 , METRIC_1:11;
L528: ( abs ( ( R28 . R15 ) - ( R28 . D74 ) ) ) < ( D64 / ( R4 + 1 ) ) by L527 , TOPMETR:11;
L529: ( R28 . R15 ) = ( D75 . R2 ) by L520 , SEQFUNC:def 10;
L530: ( abs ( ( D75 . R2 ) - ( D76 . R2 ) ) ) < ( D64 / ( R4 + 1 ) ) by L529 , L520 , L528 , SEQFUNC:def 10;
thus L531: thesis by L530 , L519 , SEQ_1:12;
end;
L532: ( D79 . R4 ) <= ( ( D64 / ( R4 + 1 ) ) * ( R4 + 1 ) ) by L511 , L418;
set D82 = ( Partial_Sums D75 );
set D83 = ( Partial_Sums D76 );
set D84 = ( Partial_Sums ( D75 - D76 ) );
L533: (( D82 - D83 ) = D84 & ( dom ( D82 - D83 ) ) = ( NAT )) by SEQ_1:1 , SERIES_1:6;
L534: ( abs ( ( D82 . R4 ) - ( D83 . R4 ) ) ) = ( abs ( D84 . R4 ) ) by L533 , VALUED_1:13;
L535: ( abs ( D84 . R4 ) ) <= ( D79 . R4 ) by L431;
L536: ( abs ( ( D82 . R4 ) - ( D83 . R4 ) ) ) <= ( ( D64 / ( R4 + 1 ) ) * ( R4 + 1 ) ) by L535 , L534 , L532 , XXREAL_0:2;
L537: ( abs ( ( D82 . R4 ) - ( D83 . R4 ) ) ) <= D64 by L536 , XCMPLX_1:87;
L538: ( 0 ) <= ( Sum D77 ) by L495;
L539: ( abs ( Sum D77 ) ) = ( Sum D77 ) by L538 , ABSVALUE:def 1;
L540: ( 0 ) <= ( Sum D78 ) by L495;
L541: ( abs ( Sum D78 ) ) = ( Sum D78 ) by L540 , ABSVALUE:def 1;
reconsider D85 = ( (D60 qua  real-valued Function) . D74 ) as (Point of ( RealSpace )) by METRIC_1:def 13;
L542: ( abs ( ( Sum D77 ) - ( Sum D78 ) ) ) <= ( ( abs ( Sum D77 ) ) + ( abs ( Sum D78 ) ) ) by COMPLEX1:57;
L543: (D61 = ( Sum D75 ) & D85 = ( Sum D76 )) by L447;
L544: (( Sum D75 ) = ( ( D82 . R4 ) + ( Sum D77 ) ) & ( Sum D76 ) = ( ( D83 . R4 ) + ( Sum D78 ) )) by L495 , SERIES_1:15;
L545: ( abs ( ( D60 . R15 ) - ( D60 . D74 ) ) ) = ( abs ( ( ( D82 . R4 ) - ( D83 . R4 ) ) + ( ( Sum D77 ) - ( Sum D78 ) ) ) ) by L544 , L543;
L546: ( abs ( ( D60 . R15 ) - ( D60 . D74 ) ) ) <= ( ( abs ( ( D82 . R4 ) - ( D83 . R4 ) ) ) + ( abs ( ( Sum D77 ) - ( Sum D78 ) ) ) ) by L545 , COMPLEX1:56;
L547: (( Sum D77 ) < D65 & ( Sum D78 ) < D65) by L495;
L548: ( ( abs ( Sum D77 ) ) + ( abs ( Sum D78 ) ) ) < ( D65 + D65 ) by L547 , L539 , L541 , XREAL_1:8;
L549: ( abs ( ( Sum D77 ) - ( Sum D78 ) ) ) < D64 by L548 , L542 , XXREAL_0:2;
L550: ( ( abs ( ( D82 . R4 ) - ( D83 . R4 ) ) ) + ( abs ( ( Sum D77 ) - ( Sum D78 ) ) ) ) < ( D64 + D64 ) by L549 , L537 , XREAL_1:8;
L551: ( abs ( ( D60 . R15 ) - ( D60 . D74 ) ) ) < R7 by L550 , L546 , XXREAL_0:2;
L552: ( dist (D61 , D85) ) < R7 by L551 , TOPMETR:11;
L553: D85 in ( Ball (D61 , R7) ) by L552 , METRIC_1:11;
thus L554: thesis by L553 , L452 , L510;
end;
L555:
now
let C111 being set;
assume L556: C111 in D72;
consider R8 being set such that L557: R8 in ( dom C107 ) and L558: ( C107 . R8 ) = C111 by L556 , FUNCT_1:def 3;
L559: (ex B80 being (Subset of R12) st (B80 = ( C107 . R8 ) & B80 is  open & R15 in B80 & (for R28 being (RealMap of R12) holds (( C103 . R8 ) = R28 implies (for B81 being (Point of ( RealSpace )) holds (B81 = ( R28 . R15 ) implies ( R28 .: B80 ) c= ( Ball (B81 , ( D64 / ( R4 + 1 ) )) ))))))) by L473 , L557;
thus L560: R15 in C111 by L559 , L558;
end;
L561: R15 in ( meet D72 ) by L555 , SETFAM_1:def 1;
thus L562: thesis by L561 , L480 , L506 , TOPS_2:20;
end;
thus L563: D60 is_continuous_at R15 by L449 , TMAP_1:43;
end;
L564: D60 is  continuous by L448 , TMAP_1:50;
thus L565: thesis by L564 , JORDAN5A:27;
end;
theorem
L566: (for R12 being non  empty TopSpace holds (for R6 being Real holds (for R29 being (Functional_Sequence of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds ((for R4 being (Element of ( NAT )) holds (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( R29 . R4 ) = R23 & R23 is_a_pseudometric_of (the carrier of R12) & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) <= R6) & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous))))) implies (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds ((for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( ( ( 1 / 2 ) GeoSeq ) (#) ( R29 # R21 ) ) )) implies (R23 is_a_pseudometric_of (the carrier of R12) & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous)))))))))
proof
let R12 being non  empty TopSpace;
set D86 = ( ( 1 / 2 ) GeoSeq );
set D87 = (the carrier of R12);
set D88 = (the carrier of [: R12 , R12 :]);
let R6 being Real;
let R29 being (Functional_Sequence of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L567: (for R4 being (Element of ( NAT )) holds (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( R29 . R4 ) = R23 & R23 is_a_pseudometric_of D87 & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) <= R6) & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous)))));
set D89 = ( R6 (#) D86 );
deffunc H4(Nat) = ( ( D86 . $1 ) (#) ( R29 . $1 ) );
consider C112 being (Functional_Sequence of [: D87 , D87 :] , ( REAL )) such that L568: (for B82 being Nat holds ( C112 . B82 ) = H4(B82)) from SEQFUNC:sch 1;
L569: D88 = [: D87 , D87 :] by BORSUK_1:def 2;
reconsider D90 = C112 as (Functional_Sequence of D88 , ( REAL )) by L569;
L570: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds (for R2 being (Element of ( NAT )) holds (( 0 ) <= ( ( C112 # R21 ) . R2 ) & ( ( C112 # R21 ) . R2 ) <= ( D89 . R2 ))))
proof
let R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]);
let R2 being (Element of ( NAT ));
consider R8 being set, R9 being set such that L571: (R8 in D87 & R9 in D87) and L572: [ R8 , R9 ] = R21 by ZFMISC_1:def 2;
reconsider D91 = R8 , D92 = R9 as (Point of R12) by L571;
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L573: ( R29 . R2 ) = R24 and L574: R24 is_a_pseudometric_of D87 and L575: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R24 . R21 ) <= R6) and L576: (for R26 being (RealMap of [: R12 , R12 :]) holds (R24 = R26 implies R26 is  continuous)) by L567;
L577: ( 0 ) <= ( R24 . (D91 , D92) ) by L574 , NAGATA_1:29;
L578: ( dom ( ( D86 . R2 ) (#) ( R29 . R2 ) ) ) = [: D87 , D87 :] by L573 , FUNCT_2:def 1;
L579: ( ( D86 . R2 ) * ( ( R29 . R2 ) . R21 ) ) = ( ( ( D86 . R2 ) (#) ( R29 . R2 ) ) . R21 ) by L578 , VALUED_1:def 5
.= ( ( C112 . R2 ) . R21 ) by L568
.= ( ( C112 # R21 ) . R2 ) by SEQFUNC:def 10;
L580: ( ( 1 / 2 ) |^ R2 ) > ( 0 ) by NEWTON:83;
L581: ( D86 . R2 ) > ( 0 ) by L580 , PREPOWER:def 1;
L582: ( ( D86 . R2 ) * ( R24 . R21 ) ) <= ( ( D86 . R2 ) * R6 ) by L581 , L575 , XREAL_1:64;
thus L583: thesis by L582 , L573 , L572 , L579 , L577 , L581 , SEQ_1:9;
end;
L584: (for R4 being (Element of ( NAT )) holds (ex B83 being (RealMap of [: R12 , R12 :]) st (( D90 . R4 ) = B83 & B83 is  continuous & (for R22 being (Point of [: R12 , R12 :]) holds ( B83 . R22 ) >= ( 0 )))))
proof
let R4 being (Element of ( NAT ));
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L585: ( R29 . R4 ) = R24 and L586: R24 is_a_pseudometric_of D87 and L587: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R24 . R21 ) <= R6) and L588: (for R26 being (RealMap of [: R12 , R12 :]) holds (R24 = R26 implies R26 is  continuous)) by L567;
L589: D88 = [: D87 , D87 :] by BORSUK_1:def 2;
reconsider D93 = R24 as (RealMap of [: R12 , R12 :]) by L589;
reconsider D94 = D93 as (Function of [: R12 , R12 :] , ( R^1 )) by TOPMETR:17;
L590: D93 is  continuous by L588;
L591: D94 is  continuous by L590 , JORDAN5A:27;
consider C113 being (Function of [: R12 , R12 :] , ( R^1 )) such that L592: (for B84 being (Point of [: R12 , R12 :]) holds (for R7 being  real number holds (( D94 . B84 ) = R7 implies ( C113 . B84 ) = ( ( D86 . R4 ) * R7 )))) and L593: C113 is  continuous by L591 , JGRAPH_2:23;
reconsider D95 = C113 as (RealMap of [: R12 , R12 :]) by TOPMETR:17;
L594: ( dom D95 ) = D88 by FUNCT_2:def 1;
take D95;
L595: ( dom R24 ) = [: D87 , D87 :] by FUNCT_2:def 1;
L596: ( D90 . R4 ) = ( ( D86 . R4 ) (#) ( R29 . R4 ) ) by L568;
L597: ( dom ( R29 . R4 ) ) = ( dom ( D90 . R4 ) ) by L596 , VALUED_1:def 5;
L598: [: D87 , D87 :] = D88 by BORSUK_1:def 2;
L599:
now
let R22 being (Point of [: R12 , R12 :]);
assume that
L600: R22 in ( dom ( D90 . R4 ) );
L601: ( ( D90 . R4 ) . R22 ) = ( ( D86 . R4 ) * ( R24 . R22 ) ) by L585 , L596 , L597 , L595 , L598 , VALUED_1:def 5;
thus L602: ( ( D90 . R4 ) . R22 ) = ( D95 . R22 ) by L601 , L592;
end;
L603:
now
let R22 being (Point of [: R12 , R12 :]);
reconsider D96 = R22 as (Element of [: D87 , D87 :]) by BORSUK_1:def 2;
L604: (( ( D90 . R4 ) . R22 ) = ( ( C112 # D96 ) . R4 ) & ( ( C112 # D96 ) . R4 ) >= ( 0 )) by L570 , SEQFUNC:def 10;
thus L605: ( D95 . R22 ) >= ( 0 ) by L604 , L585 , L597 , L595 , L599;
end;
thus L606: thesis by L603 , L585 , L593 , L597 , L595 , L594 , L598 , L599 , JORDAN5A:27 , PARTFUN1:5;
end;
let R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L607: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( D86 (#) ( R29 # R21 ) ) ));
L608: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( C112 # R21 ) ))
proof
let R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]);
L609:
now
let R10 being set;
assume L610: R10 in ( NAT );
reconsider D97 = R10 as (Element of ( NAT )) by L610;
L611: (ex R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( R29 . D97 ) = R24 & R24 is_a_pseudometric_of D87 & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R24 . R21 ) <= R6) & (for R26 being (RealMap of [: R12 , R12 :]) holds (R24 = R26 implies R26 is  continuous)))) by L567;
L612: ( dom ( ( D86 . D97 ) (#) ( R29 . D97 ) ) ) = [: D87 , D87 :] by L611 , FUNCT_2:def 1;
L613: ( ( D86 . D97 ) * ( ( R29 . D97 ) . R21 ) ) = ( ( ( D86 . D97 ) (#) ( R29 . D97 ) ) . R21 ) by L612 , VALUED_1:def 5
.= ( ( C112 . D97 ) . R21 ) by L568
.= ( ( C112 # R21 ) . D97 ) by SEQFUNC:def 10;
L614: ( ( C112 # R21 ) . D97 ) = ( ( D86 . D97 ) * ( ( R29 # R21 ) . D97 ) ) by L613 , SEQFUNC:def 10
.= ( ( D86 (#) ( R29 # R21 ) ) . D97 ) by SEQ_1:8;
thus L615: ( ( D86 (#) ( R29 # R21 ) ) . R10 ) = ( ( C112 # R21 ) . R10 ) by L614;
end;
L616: ( D86 (#) ( R29 # R21 ) ) = ( C112 # R21 ) by L609 , FUNCT_2:12;
thus L617: thesis by L616 , L607;
end;
L618: (for R4 being (Element of ( NAT )) holds (ex R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( C112 . R4 ) = R24 & R24 is_a_pseudometric_of D87)))
proof
let R4 being (Element of ( NAT ));
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L619: ( R29 . R4 ) = R24 and L620: R24 is_a_pseudometric_of D87 and L621: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R24 . R21 ) <= R6) and L622: (for R26 being (RealMap of [: R12 , R12 :]) holds (R24 = R26 implies R26 is  continuous)) by L567;
deffunc H5((Element of D87) , (Element of D87)) = ( ( D86 . R4 ) * ( R24 . ($1 , $2) ) );
consider C114 being (Function of [: D87 , D87 :] , ( REAL )) such that L623: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ( C114 . (R15 , R16) ) = H5(R15 , R16))) from BINOP_1:sch 4;
L624:
now
let C115 , C116 , C117 being (Point of R12);
L625: ( ( 1 / 2 ) |^ R4 ) > ( 0 ) by NEWTON:83;
L626: ( ( ( 1 / 2 ) GeoSeq ) . R4 ) > ( 0 ) by L625 , PREPOWER:def 1;
L627: ( R24 . (C115 , C117) ) <= ( ( R24 . (C115 , C116) ) + ( R24 . (C117 , C116) ) ) by L620 , NAGATA_1:28;
L628: ( ( R24 . (C115 , C117) ) * ( ( ( 1 / 2 ) GeoSeq ) . R4 ) ) <= ( ( ( R24 . (C115 , C116) ) + ( R24 . (C117 , C116) ) ) * ( D86 . R4 ) ) by L627 , L626 , XREAL_1:64;
L629: ( C114 . (C115 , C117) ) <= ( ( ( D86 . R4 ) * ( R24 . (C115 , C116) ) ) + ( ( D86 . R4 ) * ( R24 . (C117 , C116) ) ) ) by L628 , L623;
L630: (( C114 . (C115 , C115) ) = ( ( D86 . R4 ) * ( R24 . (C115 , C115) ) ) & ( R24 . (C115 , C115) ) = ( 0 )) by L620 , L623 , NAGATA_1:28;
thus L631: ( C114 . (C115 , C115) ) = ( 0 ) by L630;
L632: ( ( D86 . R4 ) * ( R24 . (C115 , C116) ) ) = ( C114 . (C115 , C116) ) by L623;
thus L633: ( C114 . (C115 , C117) ) <= ( ( C114 . (C115 , C116) ) + ( C114 . (C117 , C116) ) ) by L632 , L623 , L629;
end;
L634: C114 is_a_pseudometric_of D87 by L624 , NAGATA_1:28;
L635: ( C112 . R4 ) = ( ( D86 . R4 ) (#) ( R29 . R4 ) ) by L568;
L636: ( dom ( R29 . R4 ) ) = ( dom ( C112 . R4 ) ) by L635 , VALUED_1:def 5;
L637:
now
let R8 being set;
let R9 being set;
assume L638: [ R8 , R9 ] in ( dom ( C112 . R4 ) );
reconsider D98 = R8 , D99 = R9 as (Point of R12) by L638 , ZFMISC_1:87;
L639: ( C114 . (D98 , D99) ) = ( ( D86 . R4 ) * ( R24 . (D98 , D99) ) ) by L623;
thus L640: ( ( C112 . R4 ) . (R8 , R9) ) = ( C114 . (R8 , R9) ) by L639 , L619 , L635 , L638 , VALUED_1:def 5;
end;
L641: (( dom R24 ) = [: D87 , D87 :] & ( dom C114 ) = [: D87 , D87 :]) by FUNCT_2:def 1;
thus L642: thesis by L641 , L619 , L636 , L637 , L634 , BINOP_1:20;
end;
L643: ( 1 / 2 ) < 1;
L644: ( abs ( 1 / 2 ) ) < 1 by L643 , ABSVALUE:def 1;
L645: D86 is  summable by L644 , SERIES_1:24;
L646: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds (for R22 being (Point of [: R12 , R12 :]) holds (R21 = R22 implies ( C112 # R21 ) = ( D90 # R22 ))))
proof
let R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]);
let R22 being (Point of [: R12 , R12 :]);
assume that
L647: R21 = R22;
L648:
now
let C118 being (Element of ( NAT ));
L649: ( ( C112 # R21 ) . C118 ) = ( ( C112 . C118 ) . R21 ) by SEQFUNC:def 10;
thus L650: ( ( C112 # R21 ) . C118 ) = ( ( D90 # R22 ) . C118 ) by L649 , L647 , SEQFUNC:def 10;
end;
thus L651: thesis by L648 , FUNCT_2:63;
end;
L652: (ex R30 being Real_Sequence st (R30 is  summable & (for R4 being (Element of ( NAT )) holds (for R22 being (Point of [: R12 , R12 :]) holds ( ( D90 # R22 ) . R4 ) <= ( R30 . R4 )))))
proof
take D89;
thus L653: D89 is  summable by L645 , SERIES_1:10;
L654:
now
let R4 being (Element of ( NAT ));
let R22 being (Point of [: R12 , R12 :]);
reconsider D100 = R22 as (Element of [: D87 , D87 :]) by BORSUK_1:def 2;
L655: ( ( D90 # R22 ) . R4 ) = ( ( C112 # D100 ) . R4 ) by L646;
thus L656: ( ( D90 # R22 ) . R4 ) <= ( D89 . R4 ) by L655 , L570;
end;
thus L657: thesis by L654;
end;
L658:
now
let R26 being (RealMap of [: R12 , R12 :]);
assume that
L659: R23 = R26;
L660: (for R22 being (Point of [: R12 , R12 :]) holds ( R26 . R22 ) = ( Sum ( D90 # R22 ) ))
proof
let R22 being (Point of [: R12 , R12 :]);
reconsider D101 = R22 as (Element of [: D87 , D87 :]) by BORSUK_1:def 2;
L661: ( R23 . D101 ) = ( Sum ( C112 # D101 ) ) by L608;
thus L662: thesis by L661 , L646 , L659;
end;
thus L663: R26 is  continuous by L660 , L584 , L652 , L444;
end;
L664: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( C112 # R21 ) is  summable)
proof
let R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]);
L665: (for R2 being (Element of ( NAT )) holds (( 0 ) <= ( ( C112 # R21 ) . R2 ) & ( ( C112 # R21 ) . R2 ) <= ( D89 . R2 ) & D89 is  summable)) by L570 , L645 , SERIES_1:10;
thus L666: thesis by L665 , SERIES_1:20;
end;
thus L667: thesis by L664 , L618 , L608 , L658 , L401;
end;
theorem
L668: (for R12 being non  empty TopSpace holds (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds ((R23 is_a_pseudometric_of (the carrier of R12) & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous))) implies (for B85 being non  empty (Subset of R12) holds (for R15 being (Point of R12) holds (R15 in ( Cl B85 ) implies ( ( lower_bound (R23 , B85) ) . R15 ) = ( 0 )))))))
proof
let R12 being non  empty TopSpace;
set D102 = ( 0 );
let R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L669: R23 is_a_pseudometric_of (the carrier of R12)
and
L670: (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous));
let C119 being non  empty (Subset of R12);
let R15 being (Point of R12);
L671: ( dom ( lower_bound (R23 , C119) ) ) = (the carrier of R12) by FUNCT_2:def 1;
reconsider D103 = { D102 } , D104 = ( ( lower_bound (R23 , C119) ) .: C119 ) as (Subset of ( R^1 )) by TOPMETR:17;
L672: D104 c= D103
proof
let C120 being set;
assume L673: C120 in D104;
L674: (ex B86 being set st (B86 in ( dom ( lower_bound (R23 , C119) ) ) & B86 in C119 & C120 = ( ( lower_bound (R23 , C119) ) . B86 ))) by L673 , FUNCT_1:def 6;
L675: C120 = ( 0 ) by L674 , L669 , L222;
thus L676: thesis by L675 , TARSKI:def 1;
end;
L677: ( Cl D104 ) c= ( Cl D103 ) by L672 , PRE_TOPC:19;
reconsider D105 = ( lower_bound (R23 , C119) ) as (Function of R12 , ( R^1 )) by TOPMETR:17;
L678: (for R15 being (Point of R12) holds ( dist (R23 , R15) ) is  continuous) by L670 , L142;
L679: ( lower_bound (R23 , C119) ) is  continuous by L678 , L669 , L263;
L680: D105 is  continuous by L679 , JORDAN5A:27;
L681: ( D105 .: ( Cl C119 ) ) c= ( Cl ( D105 .: C119 ) ) by L680 , TOPS_2:45;
assume L682: R15 in ( Cl C119 );
L683: ( ( lower_bound (R23 , C119) ) . R15 ) in ( ( lower_bound (R23 , C119) ) .: ( Cl C119 ) ) by L682 , L671 , FUNCT_1:def 6;
L684: D103 is  closed by PCOMPS_1:7 , TOPMETR:17;
L685: D103 = ( Cl D103 ) by L684 , PRE_TOPC:22;
L686: ( D105 .: ( Cl C119 ) ) c= D103 by L685 , L677 , L681 , XBOOLE_1:1;
thus L687: thesis by L686 , L683 , TARSKI:def 1;
end;
theorem
L688: (for R12 being non  empty TopSpace holds (R12 is  T_1 implies (for R6 being Real holds (for R29 being (Functional_Sequence of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (((for R4 being (Element of ( NAT )) holds (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( R29 . R4 ) = R23 & R23 is_a_pseudometric_of (the carrier of R12) & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) <= R6) & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous))))) & (for R15 being (Point of R12) holds (for R20 being non  empty (Subset of R12) holds (((not R15 in R20) & R20 is  closed) implies (ex R4 being (Element of ( NAT )) st (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (( R29 . R4 ) = R23 implies ( ( lower_bound (R23 , R20) ) . R15 ) > ( 0 )))))))) implies ((ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (R23 is_metric_of (the carrier of R12) & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( ( ( 1 / 2 ) GeoSeq ) (#) ( R29 # R21 ) ) )))) & R12 is  metrizable))))))
proof
let R12 being non  empty TopSpace;
assume that
L689: R12 is  T_1;
set D106 = (the carrier of R12);
set D107 = ( ( 1 / 2 ) GeoSeq );
let R6 being Real;
let R29 being (Functional_Sequence of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL ));
assume that
L690: (for R4 being (Element of ( NAT )) holds (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( R29 . R4 ) = R23 & R23 is_a_pseudometric_of (the carrier of R12) & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) <= R6) & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous)))))
and
L691: (for R15 being (Point of R12) holds (for R20 being non  empty (Subset of R12) holds (((not R15 in R20) & R20 is  closed) implies (ex R4 being (Element of ( NAT )) st (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (( R29 . R4 ) = R23 implies ( ( lower_bound (R23 , R20) ) . R15 ) > ( 0 )))))));
deffunc H6((Element of D106) , (Element of D106)) = ( Sum ( D107 (#) ( R29 # [ $1 , $2 ] ) ) );
consider R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L692: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ( R23 . (R15 , R16) ) = H6(R15 , R16))) from BINOP_1:sch 4;
L693: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( D107 (#) ( R29 # R21 ) ) ))
proof
let R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]);
consider C121 , C122 being set such that L694: (C121 in D106 & C122 in D106) and L695: R21 = [ C121 , C122 ] by ZFMISC_1:def 2;
L696: ( R23 . R21 ) = ( R23 . (C121 , C122) ) by L695;
thus L697: thesis by L696 , L692 , L694 , L695;
end;
L698: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds (for R4 being (Element of ( NAT )) holds (( 0 ) <= ( ( D107 (#) ( R29 # R21 ) ) . R4 ) & ( ( D107 (#) ( R29 # R21 ) ) . R4 ) <= ( ( R6 (#) D107 ) . R4 ))))
proof
let R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]);
let R4 being (Element of ( NAT ));
consider R8 being set, R9 being set such that L699: (R8 in D106 & R9 in D106) and L700: [ R8 , R9 ] = R21 by ZFMISC_1:def 2;
reconsider D108 = R8 , D109 = R9 as (Point of R12) by L699;
L701: ( ( D107 . R4 ) * R6 ) = ( ( R6 (#) D107 ) . R4 ) by SEQ_1:9;
L702: ( ( 1 / 2 ) |^ R4 ) > ( 0 ) by NEWTON:83;
L703: ( D107 . R4 ) > ( 0 ) by L702 , PREPOWER:def 1;
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L704: ( R29 . R4 ) = R24 and L705: R24 is_a_pseudometric_of D106 and L706: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R24 . R21 ) <= R6) and L707: (for R26 being (RealMap of [: R12 , R12 :]) holds (R24 = R26 implies R26 is  continuous)) by L690;
L708: ( 0 ) <= ( R24 . (D108 , D109) ) by L705 , NAGATA_1:29;
L709: ( R24 . R21 ) = ( ( R29 # R21 ) . R4 ) by L704 , SEQFUNC:def 10;
L710: ( ( D107 . R4 ) * ( ( R29 # R21 ) . R4 ) ) <= ( ( D107 . R4 ) * R6 ) by L709 , L706 , L703 , XREAL_1:64;
thus L711: thesis by L710 , L700 , L708 , L703 , L709 , L701 , SEQ_1:8;
end;
L712: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds (( R23 . (R15 , R16) ) = ( 0 ) implies R15 = R16)))
proof
let R15 being (Point of R12);
let R16 being (Point of R12);
assume that
L713: ( R23 . (R15 , R16) ) = ( 0 )
and
L714: R15 <> R16;
set D110 = { R16 };
L715: (not R15 in D110) by L714 , TARSKI:def 1;
set D111 = [ R15 , R16 ];
L716: ( Sum ( D107 (#) ( R29 # D111 ) ) ) = ( 0 ) by L693 , L713;
L717: (for R4 being (Element of ( NAT )) holds (( 0 ) <= ( ( D107 (#) ( R29 # D111 ) ) . R4 ) & ( ( D107 (#) ( R29 # D111 ) ) . R4 ) <= ( ( R6 (#) D107 ) . R4 ))) by L698;
L718: D110 is  closed by L689 , URYSOHN1:19;
consider R4 being (Element of ( NAT )) such that L719: (for R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (( R29 . R4 ) = R24 implies ( ( lower_bound (R24 , D110) ) . R15 ) > ( 0 ))) by L718 , L691 , L715;
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L720: ( R29 . R4 ) = R24 and L721: R24 is_a_pseudometric_of D106 and L722: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R24 . R21 ) <= R6) and L723: (for R26 being (RealMap of [: R12 , R12 :]) holds (R24 = R26 implies R26 is  continuous)) by L690;
L724: ( ( lower_bound (R24 , D110) ) . R15 ) > ( 0 ) by L719 , L720;
L725: ( lower_bound ( ( dist (R24 , R15) ) .: D110 ) ) > ( 0 ) by L724 , L181;
L726: ( 1 / 2 ) < 1;
L727: ( abs ( 1 / 2 ) ) < 1 by L726 , ABSVALUE:def 1;
L728: D107 is  summable by L727 , SERIES_1:24;
L729: ( R6 (#) D107 ) is  summable by L728 , SERIES_1:10;
L730: ( D107 (#) ( R29 # D111 ) ) is  summable by L729 , L717 , SERIES_1:20;
L731: ( ( D107 (#) ( R29 # D111 ) ) . R4 ) = ( 0 ) by L730 , L717 , L716 , RSSPACE:17;
L732: ( ( D107 . R4 ) * ( ( R29 # D111 ) . R4 ) ) = ( 0 ) by L731 , SEQ_1:8;
L733: ( ( 1 / 2 ) |^ R4 ) > ( 0 ) by NEWTON:83;
L734: ( D107 . R4 ) <> ( 0 ) by L733 , PREPOWER:def 1;
L735: ( ( R29 # D111 ) . R4 ) = ( 0 ) by L734 , L732 , XCMPLX_1:6;
L736: ( R24 . (R15 , R16) ) = ( ( dist (R24 , R15) ) . R16 ) by L80;
L737: (( dom ( dist (R24 , R15) ) ) = D106 & R16 in D110) by FUNCT_2:def 1 , TARSKI:def 1;
L738: ( ( dist (R24 , R15) ) . R16 ) in ( ( dist (R24 , R15) ) .: D110 ) by L737 , FUNCT_1:def 6;
L739: ( ( dist (R24 , R15) ) .: D110 ) is non  empty  bounded_below by L721 , L191;
L740: ( ( dist (R24 , R15) ) . R16 ) > ( 0 ) by L739 , L738 , L725 , SEQ_4:def 2;
thus L741: thesis by L740 , L720 , L735 , L736 , SEQFUNC:def 10;
end;
L742: R23 is_a_pseudometric_of D106 by L690 , L693 , L566;
L743: R23 is  Reflexive  discerning  symmetric  triangle by L742 , L712 , METRIC_1:def 3 , NAGATA_1:def 10;
L744: R23 is_metric_of D106 by L743 , METRIC_6:3;
thus L745: (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (R23 is_metric_of (the carrier of R12) & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) = ( Sum ( ( ( 1 / 2 ) GeoSeq ) (#) ( R29 # R21 ) ) )))) by L744 , L693;
L746: (for B87 being non  empty (Subset of R12) holds ( Cl B87 ) = { B88 where B88 is (Point of R12) : ( ( lower_bound (R23 , B87) ) . B88 ) = ( 0 ) })
proof
let C123 being non  empty (Subset of R12);
set D112 = { B89 where B89 is (Point of R12) : ( ( lower_bound (R23 , C123) ) . B89 ) = ( 0 ) };
L747: D112 c= ( Cl C123 )
proof
let R8 being set;
assume L748: R8 in D112;
consider C124 being (Point of R12) such that L749: R8 = C124 and L750: ( ( lower_bound (R23 , C123) ) . C124 ) = ( 0 ) by L748;
L751: ( lower_bound ( ( dist (R23 , C124) ) .: C123 ) ) = ( 0 ) by L750 , L181;
L752: R23 is_a_pseudometric_of D106 by L690 , L693 , L566;
L753: ( ( dist (R23 , C124) ) .: C123 ) is non  empty  bounded_below by L752 , L191;
L754: (C123 c= ( Cl C123 ) & (ex R9 being set st R9 in C123)) by PRE_TOPC:18 , XBOOLE_0:def 1;
L755: C123 c= ( Cl C123 ) by PRE_TOPC:18;
assume L756: (not R8 in ( Cl C123 ));
consider R4 being (Element of ( NAT )) such that L757: (for R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (( R29 . R4 ) = R24 implies ( ( lower_bound (R24 , ( Cl C123 )) ) . C124 ) > ( 0 ))) by L756 , L691 , L749 , L754;
L758: ( ( 1 / 2 ) |^ R4 ) > ( 0 ) by NEWTON:83;
L759: ( D107 . R4 ) > ( 0 ) by L758 , PREPOWER:def 1;
L760: ( ( 1 / 2 ) |^ R4 ) > ( 0 ) by NEWTON:83;
L761: ( D107 . R4 ) > ( 0 ) by L760 , PREPOWER:def 1;
consider R24 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L762: ( R29 . R4 ) = R24 and L763: R24 is_a_pseudometric_of D106 and L764: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R24 . R21 ) <= R6) and L765: (for R26 being (RealMap of [: R12 , R12 :]) holds (R24 = R26 implies R26 is  continuous)) by L690;
set D113 = ( ( D107 . R4 ) * ( ( lower_bound (R24 , ( Cl C123 )) ) . C124 ) );
L766: ( lower_bound ( ( dist (R24 , C124) ) .: ( Cl C123 ) ) ) = ( ( lower_bound (R24 , ( Cl C123 )) ) . C124 ) by L181;
L767: ( ( lower_bound (R24 , ( Cl C123 )) ) . C124 ) > ( 0 ) by L757 , L762;
L768: D113 > ( 0 ) by L767 , L759 , XREAL_1:129;
L769: ( D113 / 2 ) > ( 0 ) by L768 , XREAL_1:215;
consider R7 being  real number such that L770: R7 in ( ( dist (R23 , C124) ) .: C123 ) and L771: R7 < ( ( lower_bound ( ( dist (R23 , C124) ) .: C123 ) ) + ( D113 / 2 ) ) by L769 , L753 , SEQ_4:def 2;
consider C125 being set such that L772: C125 in ( dom ( dist (R23 , C124) ) ) and L773: C125 in C123 and L774: R7 = ( ( dist (R23 , C124) ) . C125 ) by L770 , FUNCT_1:def 6;
reconsider D114 = C125 as (Point of R12) by L772;
reconsider D115 = [ C124 , D114 ] as (Element of [: D106 , D106 :]);
L775: ( ( dist (R24 , C124) ) . D114 ) = ( R24 . (C124 , D114) ) by L80;
L776: ( dom ( dist (R24 , C124) ) ) = D106 by FUNCT_2:def 1;
L777: ( ( dist (R24 , C124) ) . D114 ) in ( ( dist (R24 , C124) ) .: ( Cl C123 ) ) by L776 , L773 , L755 , FUNCT_1:def 6;
L778: ( ( dist (R24 , C124) ) .: ( Cl C123 ) ) is non  empty  bounded_below by L763 , L773 , L755 , L191;
L779: ( ( lower_bound (R24 , ( Cl C123 )) ) . C124 ) <= ( ( dist (R24 , C124) ) . D114 ) by L778 , L777 , L766 , SEQ_4:def 2;
L780: ( ( lower_bound (R24 , ( Cl C123 )) ) . C124 ) <= ( ( R29 # D115 ) . R4 ) by L779 , L762 , L775 , SEQFUNC:def 10;
L781: D113 <= ( ( D107 . R4 ) * ( ( R29 # D115 ) . R4 ) ) by L780 , L761 , XREAL_1:64;
L782: D113 <= ( ( D107 (#) ( R29 # D115 ) ) . R4 ) by L781 , SEQ_1:8;
L783: (for R2 being (Element of ( NAT )) holds (( 0 ) <= ( ( D107 (#) ( R29 # D115 ) ) . R2 ) & ( ( D107 (#) ( R29 # D115 ) ) . R2 ) <= ( ( R6 (#) D107 ) . R2 ))) by L698;
L784: ( R23 . D115 ) = ( R23 . (C124 , D114) );
L785: R7 = ( R23 . D115 ) by L784 , L774 , L80;
L786: ( 1 / 2 ) < 1;
L787: ( abs ( 1 / 2 ) ) < 1 by L786 , ABSVALUE:def 1;
L788: D107 is  summable by L787 , SERIES_1:24;
L789: ( R6 (#) D107 ) is  summable by L788 , SERIES_1:10;
L790: ( D107 (#) ( R29 # D115 ) ) is  summable by L789 , L783 , SERIES_1:20;
L791: ( ( D107 (#) ( R29 # D115 ) ) . R4 ) <= ( Sum ( D107 (#) ( R29 # D115 ) ) ) by L790 , L783 , RSSPACE2:3;
L792: R7 >= ( ( D107 (#) ( R29 # D115 ) ) . R4 ) by L791 , L693 , L785;
L793: ( ( D107 (#) ( R29 # D115 ) ) . R4 ) < ( D113 / 2 ) by L792 , L771 , L751 , XXREAL_0:2;
L794: D113 < ( D113 / 2 ) by L793 , L782 , XXREAL_0:2;
thus L795: thesis by L794 , L759 , L767 , XREAL_1:129 , XREAL_1:216;
end;
L796: ( Cl C123 ) c= D112
proof
let R8 being set;
assume L797: R8 in ( Cl C123 );
reconsider D116 = R8 as (Point of R12) by L797;
L798: (R23 is_a_pseudometric_of D106 & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous))) by L690 , L693 , L566;
L799: ( ( lower_bound (R23 , C123) ) . D116 ) = ( 0 ) by L798 , L797 , L668;
thus L800: thesis by L799;
end;
thus L801: thesis by L796 , L747 , XBOOLE_0:def 10;
end;
thus L802: thesis by L746 , L744 , L308;
end;
theorem
L803: (for B90 being non  empty set holds (for B91 , B92 being (FinSequence of B90) holds (for B93 being (BinOp of B90) holds ((B91 is  one-to-one & B92 is  one-to-one & ( rng B92 ) c= ( rng B91 ) & B93 is  commutative  associative & (B93 is  having_a_unity or (( len B92 ) >= 1 & ( len B91 ) > ( len B92 )))) implies (ex B94 being (FinSequence of B90) st (B94 is  one-to-one & ( rng B94 ) = ( ( rng B91 ) \ ( rng B92 ) ) & ( B93 "**" B91 ) = ( B93 . (( B93 "**" B92 ) , ( B93 "**" B94 )) )))))))
proof
let C126 being non  empty set;
let C127 , C128 being (FinSequence of C126);
let C129 being (BinOp of C126);
assume that
L804: C127 is  one-to-one
and
L805: C128 is  one-to-one
and
L806: ( rng C128 ) c= ( rng C127 )
and
L807: C129 is  commutative  associative
and
L808: (C129 is  having_a_unity or (( len C128 ) >= 1 & ( len C127 ) > ( len C128 )));
L809: ( card ( rng C127 ) ) = ( len C127 ) by L804 , FINSEQ_4:62;
consider C130 being FinSequence such that L810: ( rng C130 ) = ( ( rng C127 ) \ ( rng C128 ) ) and L811: C130 is  one-to-one by FINSEQ_4:58;
reconsider D117 = C130 as (FinSequence of C126) by L810 , FINSEQ_1:def 4;
L812: ( rng ( C128 ^ D117 ) ) = ( ( rng C128 ) \/ ( ( rng C127 ) \ ( rng C128 ) ) ) by L810 , FINSEQ_1:31;
L813: ( rng ( C128 ^ D117 ) ) = ( rng C127 ) by L812 , L806 , XBOOLE_1:45;
L814: ( rng D117 ) misses ( rng C128 ) by L810 , XBOOLE_1:79;
L815: ( C128 ^ D117 ) is  one-to-one by L814 , L805 , L811 , FINSEQ_3:91;
L816: ( card ( rng ( C128 ^ D117 ) ) ) = ( len ( C128 ^ D117 ) ) by L815 , FINSEQ_4:62;
L817: (( len C128 ) < ( ( len C128 ) + ( len D117 ) ) or C129 is  having_a_unity) by L816 , L808 , L813 , L809 , FINSEQ_1:22;
L818: ((1 <= ( len D117 ) & 1 <= ( len C128 ) & 1 <= ( len C127 )) or C129 is  having_a_unity) by L817 , L808 , NAT_1:19 , XXREAL_0:2;
L819: (ex B95 being (Permutation of ( dom C127 )) st (( C127 * B95 ) = ( C128 ^ D117 ) & ( dom B95 ) = ( dom C127 ) & ( rng B95 ) = ( dom C127 ))) by L804 , L815 , L813 , BHSP_5:1;
L820: ( C129 "**" C127 ) = ( C129 "**" ( C128 ^ D117 ) ) by L819 , L807 , L818 , FINSOP_1:7;
L821: ( C129 "**" ( C128 ^ D117 ) ) = ( C129 . (( C129 "**" C128 ) , ( C129 "**" D117 )) ) by L807 , L818 , FINSOP_1:5;
thus L822: thesis by L821 , L810 , L811 , L820;
end;
registration
let C131 , C132 being TopSpace;
let C133 being (RealMap of [: C131 , C132 :]);
let C134 being (Point of C131);
let C135 being (Point of C132);
cluster ( C133 . (C134 , C135) ) ->  real;
coherence;
end;
L824: ( ( PairFunc ) " ) = ( (( PairFunc ) qua Function) " ) by L57 , TOPS_2:def 4;
::$N Nagata-Smirnov Theorem
theorem
L825: (for R12 being non  empty TopSpace holds ((R12 is  regular & R12 is  T_1 & (ex B96 being (FamilySequence of R12) st B96 is  Basis_sigma_locally_finite)) iff R12 is  metrizable))
proof
let R12 being non  empty TopSpace;
thus L826: ((R12 is  regular & R12 is  T_1 & (ex B97 being (FamilySequence of R12) st B97 is  Basis_sigma_locally_finite)) implies R12 is  metrizable)
proof
set D118 = (the carrier of [: R12 , R12 :]);
set D119 = ( bool (the carrier of R12) );
set D120 = (the carrier of R12);
assume that
L827: R12 is  regular
and
L828: R12 is  T_1
and
L829: (ex B98 being (FamilySequence of R12) st B98 is  Basis_sigma_locally_finite);
set D121 = ( Funcs (D118 , ( REAL )) );
consider C136 being (FamilySequence of R12) such that L830: C136 is  Basis_sigma_locally_finite by L829;
defpred S5[ set , set , (RealMap of [: R12 , R12 :]) ] means (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st ($3 = R23 & $3 is  continuous & R23 is_a_pseudometric_of D120 & (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds (( R23 . [ R15 , R16 ] ) <= 1 & (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ((ex R17 being (Subset of R12) st (ex R18 being (Subset of R12) st (R17 is  open & R18 is  open & R17 in ( C136 . $2 ) & R18 in ( C136 . $1 ) & R15 in R17 & ( Cl R17 ) c= R18 & (not R16 in R18)))) implies ( R23 . [ R15 , R16 ] ) = 1))))))));
defpred S6[ set , set ] means (ex B99 being (RealMap of [: R12 , R12 :]) st (B99 = $2 & (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (( ( ( PairFunc ) " ) . $1 ) = [ R4 , R3 ] implies S5[ R4 , R3 , B99 ])))));
L831: ( Union C136 ) is (Basis of R12) by L830 , NAGATA_1:def 6;
L832: C136 is  sigma_locally_finite by L830 , NAGATA_1:def 6;
L833: (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (ex R25 being (RealMap of [: R12 , R12 :]) st S5[ R4 , R3 , R25 ])))
proof
defpred S7[ (Element of D121) , (Element of D121) , set ] means ( $1 + $2 ) = $3;
defpred S8[ (RealMap of R12) , Function ] means (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ( $2 . (R15 , R16) ) = ( abs ( ( $1 . R15 ) - ( $1 . R16 ) ) )));
let R4 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
deffunc H7(set) = ( union { B100 where B100 is (Subset of R12) : (B100 in ( C136 . R3 ) & ( Cl B100 ) c= $1) } );
set D122 = ( C136 . R4 );
deffunc H8((Subset of R12)) = { B101 where B101 is (Subset of R12) : (B101 in ( C136 . R4 ) & B101 meets $1) };
defpred S9[ set , (Subset of R12) ] means ($1 in $2 & $2 is  open & H8($2) is  finite);
L834: (for B102 being set holds (B102 in D119 implies H7(B102) in D119))
proof
let C137 being set;
assume that
L835: C137 in D119;
set D123 = { B103 where B103 is (Subset of R12) : (B103 in ( C136 . R3 ) & ( Cl B103 ) c= C137) };
L836:
now
let C138 being set;
assume L837: C138 in H7(C137);
consider C139 being set such that L838: C138 in C139 and L839: C139 in D123 by L837 , TARSKI:def 4;
L840: (ex R18 being (Subset of R12) st (C139 = R18 & R18 in ( C136 . R3 ) & ( Cl R18 ) c= C137)) by L839;
thus L841: C138 in D120 by L840 , L838;
end;
L842: H7(C137) c= D120 by L836 , TARSKI:def 3;
thus L843: thesis by L842;
end;
consider C140 being (Function of D119 , D119) such that L844: (for B104 being set holds (B104 in D119 implies ( C140 . B104 ) = H7(B104))) from FUNCT_2:sch 2(L834);
defpred S10[ set , set ] means (ex B105 being (RealMap of R12) st (ex B106 being (Subset of R12) st (B106 = $1 & B105 = $2 & B105 is  continuous & (for R15 being (Point of R12) holds (( 0 ) <= ( B105 . R15 ) & ( B105 . R15 ) <= 1 & (R15 in ( B106 ` ) implies ( B105 . R15 ) = ( 0 )) & (R15 in ( Cl ( C140 . B106 ) ) implies ( B105 . R15 ) = 1))))));
L845: ( C136 . R3 ) is  locally_finite by L832 , NAGATA_1:def 3;
L846: (for R17 being (Subset of R12) holds ( Cl ( C140 . R17 ) ) c= R17)
proof
let R17 being (Subset of R12);
set D124 = { B107 where B107 is (Subset of R12) : (B107 in ( C136 . R3 ) & ( Cl B107 ) c= R17) };
L847: D124 c= D119
proof
let C141 being set;
assume L848: C141 in D124;
L849: (ex R19 being (Subset of R12) st (C141 = R19 & R19 in ( C136 . R3 ) & ( Cl R19 ) c= R17)) by L848;
thus L850: thesis by L849;
end;
reconsider D125 = D124 as (Subset-Family of R12) by L847;
L851: ( union ( clf D125 ) ) c= R17
proof
let C142 being set;
assume L852: C142 in ( union ( clf D125 ) );
consider C143 being set such that L853: C142 in C143 and L854: C143 in ( clf D125 ) by L852 , TARSKI:def 4;
reconsider D126 = C143 as (Subset of R12) by L854;
consider R18 being (Subset of R12) such that L855: ( Cl R18 ) = D126 and L856: R18 in D125 by L854 , PCOMPS_1:def 2;
L857: (ex R19 being (Subset of R12) st (R18 = R19 & R19 in ( C136 . R3 ) & ( Cl R19 ) c= R17)) by L856;
thus L858: thesis by L857 , L853 , L855;
end;
L859: D125 c= ( C136 . R3 )
proof
let C144 being set;
assume L860: C144 in D125;
L861: (ex R19 being (Subset of R12) st (C144 = R19 & R19 in ( C136 . R3 ) & ( Cl R19 ) c= R17)) by L860;
thus L862: thesis by L861;
end;
L863: ( Cl ( union D125 ) ) = ( union ( clf D125 ) ) by L859 , L845 , PCOMPS_1:9 , PCOMPS_1:20;
thus L864: thesis by L863 , L844 , L851;
end;
L865: (for B108 being set holds (B108 in D122 implies (ex B109 being set st (B109 in ( Funcs (D120 , ( REAL )) ) & S10[ B108 , B109 ]))))
proof
let C145 being set;
assume L866: C145 in D122;
L867: C145 in ( Union C136 ) by L866 , PROB_1:12;
L868: ( Union C136 ) c= (the topology of R12) by L831 , TOPS_2:64;
reconsider D127 = C145 as  open (Subset of R12) by L868 , L867 , PRE_TOPC:def 2;
L869: ( D127 ` ) misses D127 by XBOOLE_1:79;
L870: ( D127 ` ) misses ( Cl ( C140 . D127 ) ) by L869 , L846 , XBOOLE_1:63;
L871: R12 is  normal by L827 , L830 , NAGATA_1:20;
consider C146 being (Function of R12 , ( R^1 )) such that L872: (C146 is  continuous & (for R15 being (Point of R12) holds (( 0 ) <= ( C146 . R15 ) & ( C146 . R15 ) <= 1 & (R15 in ( D127 ` ) implies ( C146 . R15 ) = ( 0 )) & (R15 in ( Cl ( C140 . D127 ) ) implies ( C146 . R15 ) = 1)))) by L871 , L870 , URYSOHN3:20;
reconsider D128 = C146 as (RealMap of R12) by TOPMETR:17;
L873: (ex B110 being (RealMap of R12) st (ex B111 being (Subset of R12) st (B111 = D127 & B110 = D128 & B110 is  continuous & (for R15 being (Point of R12) holds (( 0 ) <= ( B110 . R15 ) & ( B110 . R15 ) <= 1 & (R15 in ( B111 ` ) implies ( B110 . R15 ) = ( 0 )) & (R15 in ( Cl ( C140 . B111 ) ) implies ( B110 . R15 ) = 1))))))
proof
take D128;
take D127;
thus L874: thesis by L872 , JORDAN5A:27;
end;
L875: D128 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
thus L876: thesis by L875 , L873;
end;
consider C147 being (Function of D122 , ( Funcs (D120 , ( REAL )) )) such that L877: (for B112 being set holds (B112 in D122 implies S10[ B112 , ( C147 . B112 ) ])) from FUNCT_2:sch 1(L865);
L878: ( C136 . R4 ) is  locally_finite by L832 , NAGATA_1:def 3;
L879: (for B113 being (Element of D120) holds (ex B114 being (Element of D119) st S9[ B113 , B114 ])) by L878 , PCOMPS_1:def 1;
consider C148 being (Function of D120 , D119) such that L880: (for B115 being (Element of D120) holds S9[ B115 , ( C148 . B115 ) ]) from FUNCT_2:sch 3(L879);
defpred S11[ set , set ] means (for B116 , B117 being (Element of R12) holds ($1 = [ B116 , B117 ] implies $2 = [: ( C148 . B116 ) , ( C148 . B117 ) :]));
L881: (for B118 being set holds (B118 in D118 implies (ex B119 being set st (B119 in ( bool D118 ) & S11[ B118 , B119 ]))))
proof
let C149 being set;
assume L882: C149 in D118;
L883: C149 in [: D120 , D120 :] by L882 , BORSUK_1:def 2;
consider C150 , C151 being set such that L884: (C150 in D120 & C151 in D120) and L885: C149 = [ C150 , C151 ] by L883 , ZFMISC_1:def 2;
reconsider D129 = C150 , D130 = C151 as (Point of R12) by L884;
L886:
now
let C152 , C153 being (Point of R12);
assume L887: C149 = [ C152 , C153 ];
L888: C152 = D129 by L887 , L885 , XTUPLE_0:1;
thus L889: [: ( C148 . D129 ) , ( C148 . D130 ) :] = [: ( C148 . C152 ) , ( C148 . C153 ) :] by L888 , L885 , L887 , XTUPLE_0:1;
end;
thus L890: thesis by L886;
end;
consider C154 being (Function of D118 , ( bool D118 )) such that L891: (for B120 being set holds (B120 in D118 implies S11[ B120 , ( C154 . B120 ) ])) from FUNCT_2:sch 1(L881);
L892: (for R22 being (Point of [: R12 , R12 :]) holds (R22 in ( C154 . R22 ) & ( C154 . R22 ) is  open))
proof
let C155 being (Point of [: R12 , R12 :]);
L893: C155 in D118;
L894: C155 in [: D120 , D120 :] by L893 , BORSUK_1:def 2;
consider C156 , C157 being set such that L895: (C156 in D120 & C157 in D120) and L896: C155 = [ C156 , C157 ] by L894 , ZFMISC_1:def 2;
reconsider D131 = C156 , D132 = C157 as (Point of R12) by L895;
L897: (D131 in ( C148 . D131 ) & D132 in ( C148 . D132 )) by L880;
L898: (( C148 . D131 ) is  open & ( C148 . D132 ) is  open) by L880;
L899: ( C154 . C155 ) = [: ( C148 . D131 ) , ( C148 . D132 ) :] by L891 , L896;
thus L900: thesis by L899 , L896 , L897 , L898 , BORSUK_1:6 , ZFMISC_1:def 2;
end;
L901: (for B121 , B122 being (Element of D121) holds (ex B123 being (Element of D121) st S7[ B121 , B122 , B123 ]))
proof
let C158 , C159 being (Element of D121);
set D133 = C158;
set D134 = C159;
L902: ( D133 + D134 ) in D121 by FUNCT_2:8;
thus L903: thesis by L902;
end;
consider C160 being (BinOp of ( Funcs ((the carrier of [: R12 , R12 :]) , ( REAL )) )) such that L904: (for B124 , B125 being (Element of D121) holds S7[ B124 , B125 , ( C160 . (B124 , B125) ) ]) from BINOP_1:sch 3(L901);
L905: (for B126 being (Element of ( Funcs (D120 , ( REAL )) )) holds (ex B127 being (Element of D121) st S8[ B126 , B127 ]))
proof
let C161 being (Element of ( Funcs (D120 , ( REAL )) ));
defpred S12[ (Element of R12) , (Element of R12) , set ] means $3 = ( abs ( ( C161 . $1 ) - ( C161 . $2 ) ) );
L906: (for B128 , B129 being (Element of D120) holds (ex B130 being (Element of ( REAL )) st S12[ B128 , B129 , B130 ]));
consider C162 being (Function of [: D120 , D120 :] , ( REAL )) such that L907: (for B131 , B132 being (Element of D120) holds S12[ B131 , B132 , ( C162 . (B131 , B132) ) ]) from BINOP_1:sch 3(L906);
L908: [: D120 , D120 :] = D118 by BORSUK_1:def 2;
L909: C162 in D121 by L908 , FUNCT_2:8;
thus L910: thesis by L909 , L907;
end;
consider C163 being (Function of ( Funcs (D120 , ( REAL )) ) , D121) such that L911: (for B133 being (Element of ( Funcs (D120 , ( REAL )) )) holds S8[ B133 , ( C163 . B133 ) ]) from FUNCT_2:sch 3(L905);
deffunc H9((Element of R12)) = { ( C147 . B134 ) where B134 is (Subset of R12) : (B134 in ( C136 . R4 ) & B134 in H8(( C148 . $1 ))) };
deffunc H10(set) = { ( C163 . B135 ) where B135 is (RealMap of R12) : B135 in $1 };
defpred S13[ set , Function ] means ($2 is  one-to-one & (ex R15 being (Point of R12) st (ex R16 being (Point of R12) st ([ R15 , R16 ] = $1 & ( rng $2 ) = H10(( H9(R15) \/ H9(R16) ))))));
L912: (for R15 being (Point of R12) holds H9(R15) is  finite)
proof
deffunc H11((Subset of R12)) = ( C147 . $1 );
let R15 being (Point of R12);
set D135 = { H11(B136) where B136 is (Subset of R12) : B136 in H8(( C148 . R15 )) };
L913: H9(R15) c= D135
proof
let C164 being set;
assume L914: C164 in H9(R15);
L915: (ex R17 being (Subset of R12) st (C164 = ( C147 . R17 ) & R17 in ( C136 . R4 ) & R17 in H8(( C148 . R15 )))) by L914;
thus L916: thesis by L915;
end;
L917: H8(( C148 . R15 )) is  finite by L880;
L918: D135 is  finite from FRAENKEL:sch 21(L917);
thus L919: thesis by L918 , L913;
end;
L920: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds (H10(( H9(R15) \/ H9(R16) )) is  finite & H10(( H9(R15) \/ H9(R16) )) c= D121)))
proof
deffunc H12((RealMap of R12)) = ( C163 . $1 );
let R15 being (Point of R12);
let R16 being (Point of R12);
L921: H10(( H9(R15) \/ H9(R16) )) c= D121
proof
let C165 being set;
assume L922: C165 in H10(( H9(R15) \/ H9(R16) ));
consider C166 being (RealMap of R12) such that L923: C165 = ( C163 . C166 ) and L924: C166 in ( H9(R15) \/ H9(R16) ) by L922;
L925: C166 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
thus L926: thesis by L925 , L923 , FUNCT_2:5;
end;
set D136 = { H12(B137) where B137 is (Element of ( Funcs (D120 , ( REAL )) )) : B137 in ( H9(R15) \/ H9(R16) ) };
L927: H10(( H9(R15) \/ H9(R16) )) c= D136
proof
let C167 being set;
assume L928: C167 in H10(( H9(R15) \/ H9(R16) ));
consider C168 being (RealMap of R12) such that L929: (C167 = ( C163 . C168 ) & C168 in ( H9(R15) \/ H9(R16) )) by L928;
L930: C168 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
thus L931: thesis by L930 , L929;
end;
L932: (H9(R15) is  finite & H9(R16) is  finite) by L912;
L933: ( H9(R15) \/ H9(R16) ) is  finite by L932;
L934: D136 is  finite from FRAENKEL:sch 21(L933);
thus L935: thesis by L934 , L921 , L927;
end;
L936: (for B138 being (Element of D118) holds (ex B139 being (Element of ( D121 * )) st S13[ B138 , B139 ]))
proof
let C169 being (Element of D118);
L937: C169 in (the carrier of [: R12 , R12 :]);
L938: C169 in [: D120 , D120 :] by L937 , BORSUK_1:def 2;
consider C170 , C171 being set such that L939: (C170 in D120 & C171 in D120) and L940: C169 = [ C170 , C171 ] by L938 , ZFMISC_1:def 2;
reconsider D137 = C170 , D138 = C171 as (Point of R12) by L939;
consider C172 being FinSequence such that L941: ( rng C172 ) = H10(( H9(D137) \/ H9(D138) )) and L942: C172 is  one-to-one by L920 , FINSEQ_4:58;
L943: ( rng C172 ) c= D121 by L920 , L941;
reconsider D139 = C172 as (FinSequence of D121) by L943 , FINSEQ_1:def 4;
L944: D139 in ( D121 * ) by FINSEQ_1:def 11;
thus L945: thesis by L944 , L940 , L941 , L942;
end;
consider C173 being (Function of D118 , ( D121 * )) such that L946: (for B140 being (Element of D118) holds S13[ B140 , ( C173 . B140 ) ]) from FUNCT_2:sch 3(L936);
defpred S14[ set , set ] means (for B141 being (FinSequence of D121) holds (B141 = ( C173 . $1 ) implies $2 = ( C160 "**" B141 )));
L947: (for B142 being set holds (B142 in D118 implies (ex B143 being set st (B143 in D121 & S14[ B142 , B143 ]))))
proof
let C174 being set;
assume L948: C174 in D118;
L949: ( C173 . C174 ) in ( D121 * ) by L948 , FUNCT_2:5;
reconsider D140 = ( C173 . C174 ) as (FinSequence of D121) by L949 , FINSEQ_1:def 11;
L950: (for B144 being (FinSequence of ( Funcs (D118 , ( REAL )) )) holds (B144 = ( C173 . C174 ) implies ( C160 "**" B144 ) = ( C160 "**" D140 )));
thus L951: thesis by L950;
end;
consider C175 being (Function of D118 , ( Funcs (D118 , ( REAL )) )) such that L952: (for B145 being set holds (B145 in D118 implies S14[ B145 , ( C175 . B145 ) ])) from FUNCT_2:sch 1(L947);
reconsider D141 = C175 as (Function of D118 , ( Funcs (D118 , (the carrier of ( R^1 ))) )) by TOPMETR:17;
reconsider D142 = ( D141 Toler ) as (RealMap of [: R12 , R12 :]) by TOPMETR:17;
L953: D118 = [: D120 , D120 :] by BORSUK_1:def 2;
reconsider D143 = ( D141 Toler ) as (Function of [: D120 , D120 :] , ( REAL )) by L953 , TOPMETR:17;
L954: (for B146 , B147 being (RealMap of [: R12 , R12 :]) holds ( C160 . (B146 , B147) ) = ( B146 + B147 ))
proof
let C176 , C177 being (RealMap of [: R12 , R12 :]);
reconsider D144 = C176 , D145 = C177 as (Element of D121) by FUNCT_2:8;
L955: ( C160 . (D144 , D145) ) = ( D144 + D145 ) by L904;
thus L956: thesis by L955;
end;
L957: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ((ex R17 being (Subset of R12) st (ex R18 being (Subset of R12) st (R17 is  open & R18 is  open & R17 in ( C136 . R3 ) & R18 in ( C136 . R4 ) & R15 in R17 & ( Cl R17 ) c= R18 & (not R16 in R18)))) implies ( D142 . [ R15 , R16 ] ) >= 1)))
proof
let R15 being (Point of R12);
let R16 being (Point of R12);
assume L958: (ex R17 being (Subset of R12) st (ex R18 being (Subset of R12) st (R17 is  open & R18 is  open & R17 in ( C136 . R3 ) & R18 in ( C136 . R4 ) & R15 in R17 & ( Cl R17 ) c= R18 & (not R16 in R18))));
consider R17 being (Subset of R12), R18 being (Subset of R12) such that L959: R17 is  open and L960: R18 is  open and L961: R17 in ( C136 . R3 ) and L962: R18 in ( C136 . R4 ) and L963: R15 in R17 and L964: ( Cl R17 ) c= R18 and L965: (not R16 in R18) by L958;
L966: S10[ R18 , ( C147 . R18 ) ] by L877 , L962;
L967: R17 in { B148 where B148 is (Subset of R12) : (B148 in ( C136 . R3 ) & ( Cl B148 ) c= R18) } by L961 , L964;
L968: R17 c= H7(R18) by L967 , ZFMISC_1:74;
L969: R17 c= ( C140 . R18 ) by L968 , L844;
L970: ( C140 . R18 ) c= ( Cl ( C140 . R18 ) ) by PRE_TOPC:18;
L971: R15 in ( Cl ( C140 . R18 ) ) by L970 , L963 , L969 , TARSKI:def 3;
L972: (( Cl ( C140 . R18 ) ) c= R18 & R15 in ( C148 . R15 )) by L846 , L880;
L973: ( C148 . R15 ) meets R18 by L972 , L971 , XBOOLE_0:3;
L974: R18 in H8(( C148 . R15 )) by L973 , L962;
reconsider D146 = [ R15 , R16 ] as (Point of [: R12 , R12 :]) by BORSUK_1:def 2;
reconsider D147 = ( C173 . D146 ) as (FinSequence of D121) by FINSEQ_1:def 11;
consider C178 , C179 being (Point of R12) such that L975: [ C178 , C179 ] = D146 and L976: ( rng D147 ) = H10(( H9(C178) \/ H9(C179) )) by L946;
reconsider D148 = ( C160 "**" D147 ) as (RealMap of [: R12 , R12 :]) by FUNCT_2:66;
assume L977: ( D142 . [ R15 , R16 ] ) < 1;
reconsider D149 = ( C147 . R18 ) as (RealMap of R12) by L962 , FUNCT_2:5 , FUNCT_2:66;
L978: D149 in ( Funcs (D120 , ( REAL )) ) by L962 , FUNCT_2:5;
L979: R16 in ( R18 ` ) by L965 , XBOOLE_0:def 5;
L980: ( D149 . R16 ) = ( 0 ) by L979 , L966;
L981: C178 = R15 by L975 , XTUPLE_0:1;
L982: D149 in H9(C178) by L981 , L962 , L974;
L983: D149 in ( H9(C178) \/ H9(C179) ) by L982 , XBOOLE_0:def 3;
L984: ( C163 . D149 ) in ( rng D147 ) by L983 , L976;
reconsider D150 = ( C163 . D149 ) as (RealMap of [: R12 , R12 :]) by L984 , FUNCT_2:66;
L985: D147 <> ( {} ) by L984 , RELAT_1:38;
L986: ( len D147 ) >= 1 by L985 , NAT_1:14;
consider C180 being (Function of ( NAT ) , D121) such that L987: ( C180 . 1 ) = ( D147 . 1 ) and L988: (for R4 being (Element of ( NAT )) holds ((( 0 ) <> R4 & R4 < ( len D147 )) implies ( C180 . ( R4 + 1 ) ) = ( C160 . (( C180 . R4 ) , ( D147 . ( R4 + 1 ) )) ))) and L989: ( C160 "**" D147 ) = ( C180 . ( len D147 ) ) by L986 , FINSOP_1:def 1;
L990: (( D143 . D146 ) = ( ( C175 . D146 ) . D146 ) & ( C175 . D146 ) = D148) by L952 , NAGATA_1:def 8;
defpred S15[ (Element of ( NAT )) ] means (for R2 being (Element of ( NAT )) holds ((R2 <> ( 0 ) & R2 <= $1 & $1 <= ( len D147 )) implies (for B149 , B150 being (RealMap of [: R12 , R12 :]) holds ((B149 = ( D147 . R2 ) & B150 = ( C180 . $1 )) implies ( B149 . D146 ) <= ( B150 . D146 )))));
L991: (for R2 being (Element of ( NAT )) holds ((R2 <> ( 0 ) & R2 <= ( len D147 )) implies (for B151 being (RealMap of [: R12 , R12 :]) holds (B151 = ( D147 . R2 ) implies ( B151 . D146 ) >= ( 0 )))))
proof
let R2 being (Element of ( NAT ));
assume that
L992: R2 <> ( 0 )
and
L993: R2 <= ( len D147 );
L994: R2 >= 1 by L992 , NAT_1:14;
L995: R2 in ( dom D147 ) by L994 , L993 , FINSEQ_3:25;
L996: ( D147 . R2 ) in H10(( H9(C178) \/ H9(C179) )) by L995 , L976 , FUNCT_1:def 3;
consider C181 being (RealMap of R12) such that L997: ( C163 . C181 ) = ( D147 . R2 ) and L998: C181 in ( H9(C178) \/ H9(C179) ) by L996;
let C182 being (RealMap of [: R12 , R12 :]);
assume that
L999: C182 = ( D147 . R2 );
L1000: C181 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
L1001: ( C182 . (R15 , R16) ) = ( abs ( ( C181 . R15 ) - ( C181 . R16 ) ) ) by L1000 , L911 , L999 , L997;
thus L1002: thesis by L1001 , COMPLEX1:46;
end;
L1003: (for R1 being (Element of ( NAT )) holds (S15[ R1 ] implies S15[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L1004: S15[ R1 ];
let R2 being (Element of ( NAT ));
assume that
L1005: R2 <> ( 0 )
and
L1006: R2 <= ( R1 + 1 )
and
L1007: ( R1 + 1 ) <= ( len D147 );
L1008:
now
L1009: 1 <= ( R1 + 1 ) by NAT_1:14;
L1010: ( R1 + 1 ) in ( dom D147 ) by L1009 , L1007 , FINSEQ_3:25;
L1011: ( D147 . ( R1 + 1 ) ) in ( rng D147 ) by L1010 , FUNCT_1:def 3;
reconsider D151 = ( D147 . ( R1 + 1 ) ) as (RealMap of [: R12 , R12 :]) by L1011 , FUNCT_2:66;
reconsider D152 = ( C180 . R1 ) as (RealMap of [: R12 , R12 :]) by FUNCT_2:66;
let C183 , C184 being (RealMap of [: R12 , R12 :]);
assume that
L1012: C183 = ( D147 . R2 )
and
L1013: C184 = ( C180 . ( R1 + 1 ) );
per cases  by L1006 , XXREAL_0:1;
suppose L1014: R2 < ( R1 + 1 );

L1015: R1 < ( len D147 ) by L1007 , NAT_1:13;
L1016: R1 <> ( 0 ) by L1005 , L1014 , NAT_1:13;
L1017: ( C180 . ( R1 + 1 ) ) = ( C160 . (( C180 . R1 ) , ( D147 . ( R1 + 1 ) )) ) by L1016 , L988 , L1015;
L1018: C184 = ( D152 + D151 ) by L1017 , L954 , L1013;
L1019: ( D151 . D146 ) >= ( 0 ) by L991 , L1007;
L1020: ( ( D152 . D146 ) + ( 0 ) ) <= ( ( D152 . D146 ) + ( D151 . D146 ) ) by L1019 , XREAL_1:7;
L1021: ( C184 . D146 ) >= ( D152 . D146 ) by L1020 , L1018 , NAGATA_1:def 7;
L1022: R1 <= ( len D147 ) by L1007 , NAT_1:13;
L1023: R2 <= R1 by L1014 , NAT_1:13;
L1024: ( C183 . D146 ) <= ( D152 . D146 ) by L1023 , L1004 , L1005 , L1012 , L1022;
thus L1025: ( C183 . D146 ) <= ( C184 . D146 ) by L1024 , L1021 , XXREAL_0:2;
end;
suppose L1026: R2 = ( R1 + 1 );

per cases ;
suppose L1027: R1 = ( 0 );

thus L1028: ( C183 . D146 ) <= ( C184 . D146 ) by L1027 , L987 , L1012 , L1013 , L1026;
end;
suppose L1029: R1 <> ( 0 );

L1030: ( R1 + ( 0 ) ) < ( R1 + 1 ) by XREAL_1:8;
L1031: R1 < ( len D147 ) by L1030 , L1007 , XXREAL_0:2;
L1032: 1 <= R1 by L1029 , NAT_1:14;
L1033: R1 in ( dom D147 ) by L1032 , L1031 , FINSEQ_3:25;
L1034: ( D147 . R1 ) in ( rng D147 ) by L1033 , FUNCT_1:def 3;
reconsider D153 = ( D147 . R1 ) as (RealMap of [: R12 , R12 :]) by L1034 , FUNCT_2:66;
L1035: ( 0 ) <= ( D153 . D146 ) by L991 , L1029 , L1031;
L1036: ( 0 ) <= ( D152 . D146 ) by L1035 , L1004 , L1029 , L1031;
L1037: ( ( D152 . D146 ) + ( C183 . D146 ) ) >= ( ( 0 ) + ( C183 . D146 ) ) by L1036 , XREAL_1:7;
L1038: ( C180 . ( R1 + 1 ) ) = ( C160 . (( C180 . R1 ) , ( D147 . ( R1 + 1 ) )) ) by L988 , L1029 , L1031;
L1039: C184 = ( D152 + C183 ) by L1038 , L954 , L1012 , L1013 , L1026;
thus L1040: ( C183 . D146 ) <= ( C184 . D146 ) by L1039 , L1037 , NAGATA_1:def 7;
end;
end;
end;
thus L1043: thesis by L1008;
end;
L1044: S15[ ( 0 ) ];
L1045: (for R1 being (Element of ( NAT )) holds S15[ R1 ]) from NAT_1:sch 1(L1044 , L1003);
consider C185 being set such that L1046: C185 in ( dom D147 ) and L1047: ( D147 . C185 ) = ( C163 . D149 ) by L984 , FUNCT_1:def 3;
L1048: C185 in ( Seg ( len D147 ) ) by L1046 , FINSEQ_1:def 3;
L1049: ( D149 . R15 ) = 1 by L971 , L966;
L1050: ( D150 . (R15 , R16) ) = ( abs ( 1 - ( 0 ) ) ) by L1049 , L911 , L978 , L980;
reconsider D154 = C185 as (Element of ( NAT )) by L1046;
L1051: ( abs 1 ) = 1 by ABSVALUE:def 1;
L1052: (D154 <> ( 0 ) & D154 <= ( len D147 )) by L1048 , FINSEQ_1:1;
thus L1053: thesis by L1052 , L977 , L990 , L989 , L1045 , L1050 , L1051 , L1047;
end;
L1054:
now
let R15 being (Point of R12);
let R16 being (Point of R12);
assume L1055: (ex R17 being (Subset of R12) st (ex R18 being (Subset of R12) st (R17 is  open & R18 is  open & R17 in ( C136 . R3 ) & R18 in ( C136 . R4 ) & R15 in R17 & ( Cl R17 ) c= R18 & (not R16 in R18))));
L1056: ( D142 . [ R15 , R16 ] ) >= 1 by L1055 , L957;
L1057: 1 = ( min (1 , ( D142 . [ R15 , R16 ] )) ) by L1056 , XXREAL_0:def 9;
L1058: [: D120 , D120 :] = D118 by BORSUK_1:def 2;
thus L1059: 1 = ( ( min (1 , D142) ) . [ R15 , R16 ] ) by L1058 , L1057 , NAGATA_1:def 9;
end;
L1060: (for B152 being (Element of D118) holds (for B153 being (Element of D121) holds (B153 is_a_unity_wrt C160 implies ( B153 . B152 ) = ( 0 ))))
proof
let C186 being (Element of D118);
let C187 being (Element of D121);
assume L1061: C187 is_a_unity_wrt C160;
L1062: ( C160 . (C187 , C187) ) = C187 by L1061 , BINOP_1:3;
L1063: ( ( C187 + C187 ) . C186 ) = ( C187 . C186 ) by L1062 , L904;
L1064: ( ( C187 . C186 ) + ( C187 . C186 ) ) = ( C187 . C186 ) by L1063 , NAGATA_1:def 7;
thus L1065: thesis by L1064;
end;
L1066: (for B154 , B155 being (Point of [: R12 , R12 :]) holds ((B154 in ( C154 . B155 ) implies ( ( C175 . B154 ) . B154 ) = ( ( C175 . B155 ) . B154 )) & (for B156 , B157 being (RealMap of [: R12 , R12 :]) holds ((B156 = ( C175 . B154 ) & B157 = ( C175 . B155 )) implies ( B156 . B154 ) >= ( B157 . B154 )))))
proof
deffunc H13((Element of R12) , (Element of R12)) = { ( C147 . B158 ) where B158 is (Subset of R12) : (B158 in ( C136 . R4 ) & (for B159 being (RealMap of R12) holds (( C147 . B158 ) = B159 implies (( B159 . $1 ) > ( 0 ) or ( B159 . $2 ) > ( 0 ))))) };
let C188 , C189 being (Point of [: R12 , R12 :]);
reconsider D155 = ( C173 . C188 ) , D156 = ( C173 . C189 ) as (FinSequence of D121) by FINSEQ_1:def 11;
consider C190 , C191 being (Point of R12) such that L1067: [ C190 , C191 ] = C188 and L1068: ( rng D155 ) = H10(( H9(C190) \/ H9(C191) )) by L946;
L1069: (for B160 , B161 , B162 , B163 being (Point of R12) holds ([ B160 , B161 ] in ( C154 . [ B162 , B163 ] ) implies H13(B160 , B161) c= ( H9(B162) \/ H9(B163) )))
proof
let C192 , C193 , C194 , C195 being (Point of R12);
assume that
L1070: [ C192 , C193 ] in ( C154 . [ C194 , C195 ] );
reconsider D157 = [ C194 , C195 ] as (Element of D118) by BORSUK_1:def 2;
L1071: [: ( C148 . C194 ) , ( C148 . C195 ) :] = ( C154 . D157 ) by L891;
L1072: (C192 in ( C148 . C194 ) & C193 in ( C148 . C195 )) by L1071 , L1070 , ZFMISC_1:87;
let C196 being set;
assume L1073: C196 in H13(C192 , C193);
consider C197 being (Subset of R12) such that L1074: C196 = ( C147 . C197 ) and L1075: C197 in ( C136 . R4 ) and L1076: (for B164 being (RealMap of R12) holds (( C147 . C197 ) = B164 implies (( B164 . C192 ) > ( 0 ) or ( B164 . C193 ) > ( 0 )))) by L1073;
reconsider D158 = ( C147 . C197 ) as (RealMap of R12) by L1075 , FUNCT_2:5 , FUNCT_2:66;
L1077: (( D158 . C192 ) > ( 0 ) or ( D158 . C193 ) > ( 0 )) by L1076;
L1078: S10[ C197 , ( C147 . C197 ) ] by L877 , L1075;
L1079: ((not C192 in ( D120 \ C197 )) or (not C193 in ( D120 \ C197 ))) by L1078 , L1077;
L1080: (C192 in C197 or C193 in C197) by L1079 , XBOOLE_0:def 5;
L1081: (C197 meets ( C148 . C194 ) or C197 meets ( C148 . C195 )) by L1080 , L1072 , XBOOLE_0:3;
L1082: (C197 in H8(( C148 . C194 )) or C197 in H8(( C148 . C195 ))) by L1081 , L1075;
L1083: (D158 in H9(C194) or D158 in H9(C195)) by L1082 , L1075;
thus L1084: thesis by L1083 , L1074 , XBOOLE_0:def 3;
end;
L1085: H10(H13(C190 , C191)) c= H10(( H9(C190) \/ H9(C191) ))
proof
L1086: (C190 in ( C148 . C190 ) & C191 in ( C148 . C191 )) by L880;
L1087: [ C190 , C191 ] in [: ( C148 . C190 ) , ( C148 . C191 ) :] by L1086 , ZFMISC_1:87;
L1088: [ C190 , C191 ] in ( C154 . [ C190 , C191 ] ) by L1087 , L891;
L1089: H13(C190 , C191) c= ( H9(C190) \/ H9(C191) ) by L1088 , L1069;
let C198 being set;
assume L1090: C198 in H10(H13(C190 , C191));
L1091: (ex B165 being (RealMap of R12) st (C198 = ( C163 . B165 ) & B165 in H13(C190 , C191))) by L1090;
thus L1092: thesis by L1091 , L1089;
end;
L1093: (for B166 being (FinSequence of ( Funcs (D118 , ( REAL )) )) holds (for B167 , B168 , B169 , B170 being (Point of R12) holds (( rng B166 ) = ( H10(( H9(B169) \/ H9(B170) )) \ H10(H13(B167 , B168)) ) implies ( ( C160 "**" B166 ) . [ B167 , B168 ] ) = ( 0 ))))
proof
let C199 being (FinSequence of ( Funcs (D118 , ( REAL )) ));
let C200 , C201 , C202 , C203 being (Point of R12);
assume that
L1094: ( rng C199 ) = ( H10(( H9(C202) \/ H9(C203) )) \ H10(H13(C200 , C201)) );
reconsider D159 = [ C200 , C201 ] as (Element of D118) by BORSUK_1:def 2;
L1095:
now
per cases ;
suppose L1096: ( len C199 ) = ( 0 );

L1097: C160 is  having_a_unity by L954 , NAGATA_1:23;
L1098: (ex B171 being (Element of D121) st B171 is_a_unity_wrt C160) by L1097 , SETWISEO:def 2;
L1099: ( C160 "**" C199 ) = ( the_unity_wrt C160 ) by L1096 , L1097 , FINSOP_1:def 1;
L1100: ( C160 "**" C199 ) is_a_unity_wrt C160 by L1099 , L1098 , BINOP_1:def 8;
thus L1101: ( ( C160 "**" C199 ) . D159 ) = ( 0 ) by L1100 , L1060;
end;
suppose L1102: ( len C199 ) <> ( 0 );

L1103: ( len C199 ) >= 1 by L1102 , NAT_1:14;
consider C204 being (Function of ( NAT ) , D121) such that L1104: ( C204 . 1 ) = ( C199 . 1 ) and L1105: (for R4 being (Element of ( NAT )) holds ((( 0 ) <> R4 & R4 < ( len C199 )) implies ( C204 . ( R4 + 1 ) ) = ( C160 . (( C204 . R4 ) , ( C199 . ( R4 + 1 ) )) ))) and L1106: ( C160 "**" C199 ) = ( C204 . ( len C199 ) ) by L1103 , FINSOP_1:def 1;
defpred S16[ (Element of ( NAT )) ] means (($1 <> ( 0 ) & $1 <= ( len C199 )) implies ( ( C204 . $1 ) . D159 ) = ( 0 ));
L1107: (for R2 being (Element of ( NAT )) holds (S16[ R2 ] implies S16[ ( R2 + 1 ) ]))
proof
let R2 being (Element of ( NAT ));
assume L1108: S16[ R2 ];
assume that
L1109: ( R2 + 1 ) <> ( 0 )
and
L1110: ( R2 + 1 ) <= ( len C199 );
L1111: R2 < ( len C199 ) by L1110 , NAT_1:13;
L1112: ( R2 + 1 ) >= 1 by NAT_1:14;
L1113: ( R2 + 1 ) in ( dom C199 ) by L1112 , L1110 , FINSEQ_3:25;
L1114: ( C199 . ( R2 + 1 ) ) in ( H10(( H9(C202) \/ H9(C203) )) \ H10(H13(C200 , C201)) ) by L1113 , L1094 , FUNCT_1:def 3;
L1115: ( C199 . ( R2 + 1 ) ) in H10(( H9(C202) \/ H9(C203) )) by L1114;
consider C205 being (RealMap of R12) such that L1116: ( C163 . C205 ) = ( C199 . ( R2 + 1 ) ) and L1117: C205 in ( H9(C202) \/ H9(C203) ) by L1115;
L1118: C205 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
reconsider D160 = ( C163 . C205 ) , D161 = ( C204 . ( R2 + 1 ) ) , D162 = ( C204 . R2 ) , D163 = ( C199 . ( R2 + 1 ) ) as (RealMap of [: R12 , R12 :]) by L1118 , L1116 , FUNCT_2:5 , FUNCT_2:66;
L1119: C205 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
L1120: ( D160 . (C200 , C201) ) = ( abs ( ( C205 . C200 ) - ( C205 . C201 ) ) ) by L1119 , L911;
L1121: (not ( C199 . ( R2 + 1 ) ) in H10(H13(C200 , C201))) by L1114 , XBOOLE_0:def 5;
L1122: (( C205 . C200 ) = ( 0 ) & ( C205 . C201 ) = ( 0 ))
proof
assume L1123: (( C205 . C200 ) <> ( 0 ) or ( C205 . C201 ) <> ( 0 ));
per cases  by L1117 , XBOOLE_0:def 3;
suppose L1124: C205 in H9(C202);

consider C206 being (Subset of R12) such that L1125: C205 = ( C147 . C206 ) and L1126: C206 in ( C136 . R4 ) and L1127: C206 in H8(( C148 . C202 )) by L1124;
L1128: S10[ C206 , ( C147 . C206 ) ] by L877 , L1126;
L1129: (not C205 in H13(C200 , C201)) by L1121 , L1116;
L1130: (ex B172 being (RealMap of R12) st (( C147 . C206 ) = B172 & (not ( B172 . C200 ) > ( 0 )) & (not ( B172 . C201 ) > ( 0 )))) by L1129 , L1125 , L1126;
thus L1131: contradiction by L1130 , L1123 , L1125 , L1128;
end;
suppose L1132: C205 in H9(C203);

consider C207 being (Subset of R12) such that L1133: C205 = ( C147 . C207 ) and L1134: C207 in ( C136 . R4 ) and L1135: C207 in H8(( C148 . C203 )) by L1132;
L1136: S10[ C207 , ( C147 . C207 ) ] by L877 , L1134;
L1137: (not C205 in H13(C200 , C201)) by L1121 , L1116;
L1138: (ex B173 being (RealMap of R12) st (( C147 . C207 ) = B173 & (not ( B173 . C200 ) > ( 0 )) & (not ( B173 . C201 ) > ( 0 )))) by L1137 , L1133 , L1134;
thus L1139: contradiction by L1138 , L1123 , L1133 , L1136;
end;
end;
per cases ;
suppose L1141: R2 = ( 0 );

thus L1142: thesis by L1141 , L1104 , L1116 , L1122 , L1120 , ABSVALUE:2;
end;
suppose L1143: R2 > ( 0 );

L1144: D161 = ( C160 . (D162 , D163) ) by L1143 , L1105 , L1111;
L1145: D161 = ( D162 + D163 ) by L1144 , L954;
L1146: ( D161 . D159 ) = ( ( 0 ) + ( D163 . D159 ) ) by L1145 , L1108 , L1110 , L1143 , NAGATA_1:def 7 , NAT_1:13;
thus L1147: thesis by L1146 , L1116 , L1122 , L1120 , ABSVALUE:2;
end;
end;
L1149: S16[ ( 0 ) ];
L1150: (for R4 being (Element of ( NAT )) holds S16[ R4 ]) from NAT_1:sch 1(L1149 , L1107);
thus L1151: ( ( C160 "**" C199 ) . D159 ) = ( 0 ) by L1150 , L1102 , L1106;
end;
end;
thus L1153: thesis by L1095;
end;
L1154: H10(( H9(C190) \/ H9(C191) )) is  finite by L920;
consider C208 being FinSequence such that L1155: ( rng C208 ) = H10(H13(C190 , C191)) and L1156: C208 is  one-to-one by L1154 , L1085 , FINSEQ_4:58;
L1157: H10(( H9(C190) \/ H9(C191) )) c= D121 by L920;
L1158: H10(H13(C190 , C191)) c= D121 by L1157 , L1085 , XBOOLE_1:1;
reconsider D164 = C208 as (FinSequence of D121) by L1158 , L1155 , FINSEQ_1:def 4;
consider C209 , C210 being (Point of R12) such that L1159: [ C209 , C210 ] = C189 and L1160: ( rng D156 ) = H10(( H9(C209) \/ H9(C210) )) by L946;
reconsider D165 = ( C173 . C188 ) , D166 = ( C173 . C189 ) as (FinSequence of D121) by FINSEQ_1:def 11;
set D167 = ( H10(H13(C190 , C191)) /\ H10(( H9(C209) \/ H9(C210) )) );
L1161: D166 is  one-to-one by L946;
L1162: (C160 is  having_a_unity & C160 is  commutative  associative) by L954 , NAGATA_1:23;
L1163: D165 is  one-to-one by L946;
consider C211 being (FinSequence of D121) such that L1164: C211 is  one-to-one and L1165: ( rng C211 ) = ( ( rng D165 ) \ ( rng D164 ) ) and L1166: ( C160 "**" D165 ) = ( C160 . (( C160 "**" D164 ) , ( C160 "**" C211 )) ) by L1163 , L1068 , L1085 , L1155 , L1156 , L1162 , L803;
consider C212 being FinSequence such that L1167: ( rng C212 ) = D167 and L1168: C212 is  one-to-one by L1085 , L1154 , FINSEQ_4:58;
L1169: D167 c= H10(H13(C190 , C191)) by XBOOLE_1:17;
L1170: D167 c= D121 by L1169 , L1158 , XBOOLE_1:1;
reconsider D168 = C212 as (FinSequence of D121) by L1170 , L1167 , FINSEQ_1:def 4;
L1171: ( rng D168 ) c= ( rng D164 ) by L1155 , L1167 , XBOOLE_1:17;
consider C213 being (FinSequence of D121) such that L1172: C213 is  one-to-one and L1173: ( rng C213 ) = ( ( rng D164 ) \ ( rng D168 ) ) and L1174: ( C160 "**" D164 ) = ( C160 . (( C160 "**" D168 ) , ( C160 "**" C213 )) ) by L1171 , L1156 , L1162 , L1168 , L803;
L1175: ( rng D168 ) c= ( rng D166 ) by L1160 , L1167 , XBOOLE_1:17;
consider C214 being (FinSequence of D121) such that L1176: C214 is  one-to-one and L1177: ( rng C214 ) = ( ( rng D166 ) \ ( rng D168 ) ) and L1178: ( C160 "**" D166 ) = ( C160 . (( C160 "**" D168 ) , ( C160 "**" C214 )) ) by L1175 , L1162 , L1168 , L1161 , L803;
reconsider D169 = ( C160 "**" C213 ) , D170 = ( C160 "**" D164 ) , D171 = ( C160 "**" C211 ) , D172 = ( C160 "**" C214 ) , D173 = ( C160 "**" D168 ) , D174 = ( C160 "**" D165 ) , D175 = ( C160 "**" D166 ) as (RealMap of [: R12 , R12 :]) by FUNCT_2:66;
L1179: ( rng C214 ) = ( H10(( H9(C209) \/ H9(C210) )) \ H10(H13(C190 , C191)) ) by L1160 , L1167 , L1177 , XBOOLE_1:47;
L1180: ( D172 . C188 ) = ( 0 ) by L1179 , L1093 , L1067;
L1181: D170 = ( D173 + D169 ) by L954 , L1174;
L1182: ( D170 . C188 ) = ( ( D173 . C188 ) + ( D169 . C188 ) ) by L1181 , NAGATA_1:def 7;
L1183: D174 = ( D170 + D171 ) by L954 , L1166;
L1184: ( D174 . C188 ) = ( ( D170 . C188 ) + ( D171 . C188 ) ) by L1183 , NAGATA_1:def 7;
L1185: D175 = ( D173 + D172 ) by L954 , L1178;
L1186: ( D175 . C188 ) = ( ( D173 . C188 ) + ( D172 . C188 ) ) by L1185 , NAGATA_1:def 7;
L1187: ( D171 . C188 ) = ( 0 ) by L1093 , L1067 , L1068 , L1155 , L1165;
thus L1188: (C188 in ( C154 . C189 ) implies ( ( C175 . C188 ) . C188 ) = ( ( C175 . C189 ) . C188 ))
proof
L1189: C160 is  having_a_unity by L954 , NAGATA_1:23;
L1190: (ex B174 being (Element of D121) st B174 is_a_unity_wrt C160) by L1189 , SETWISEO:def 2;
assume L1191: C188 in ( C154 . C189 );
L1192:
now
let C215 being set;
assume L1193: C215 in H10(H13(C190 , C191));
L1194: (ex B175 being (RealMap of R12) st (C215 = ( C163 . B175 ) & B175 in H13(C190 , C191))) by L1193;
L1195: H13(C190 , C191) c= ( H9(C209) \/ H9(C210) ) by L1069 , L1067 , L1159 , L1191;
thus L1196: C215 in H10(( H9(C209) \/ H9(C210) )) by L1195 , L1194;
end;
L1197: H10(H13(C190 , C191)) c= H10(( H9(C209) \/ H9(C210) )) by L1192 , TARSKI:def 3;
L1198: D167 = H10(H13(C190 , C191)) by L1197 , XBOOLE_1:28;
L1199: ( rng C213 ) = ( {} ) by L1198 , L1155 , L1167 , L1173 , XBOOLE_1:37;
L1200: C213 = ( {} ) by L1199 , RELAT_1:41;
L1201: ( len C213 ) = ( 0 ) by L1200;
L1202: ( C160 "**" C213 ) = ( the_unity_wrt C160 ) by L1201 , L1189 , FINSOP_1:def 1;
L1203: ( C160 "**" C213 ) is_a_unity_wrt C160 by L1202 , L1190 , BINOP_1:def 8;
L1204: ( D174 . C188 ) = ( D175 . C188 ) by L1203 , L1060 , L1184 , L1182 , L1186 , L1187 , L1180;
L1205: ( C175 . C188 ) = D174 by L952;
thus L1206: thesis by L1205 , L952 , L1204;
end;

L1207: ( D169 . (C190 , C191) ) >= ( 0 )
proof
set D176 = C213;
per cases ;
suppose L1208: ( len D176 ) = ( 0 );

L1209: C160 is  having_a_unity by L954 , NAGATA_1:23;
L1210: (ex B176 being (Element of D121) st B176 is_a_unity_wrt C160) by L1209 , SETWISEO:def 2;
L1211: ( C160 "**" D176 ) = ( the_unity_wrt C160 ) by L1208 , L1209 , FINSOP_1:def 1;
L1212: ( C160 "**" D176 ) is_a_unity_wrt C160 by L1211 , L1210 , BINOP_1:def 8;
thus L1213: thesis by L1212 , L1060 , L1067;
end;
suppose L1214: ( len D176 ) <> ( 0 );

L1215: ( len D176 ) >= 1 by L1214 , NAT_1:14;
consider C216 being (Function of ( NAT ) , D121) such that L1216: ( C216 . 1 ) = ( D176 . 1 ) and L1217: (for R4 being (Element of ( NAT )) holds ((( 0 ) <> R4 & R4 < ( len D176 )) implies ( C216 . ( R4 + 1 ) ) = ( C160 . (( C216 . R4 ) , ( D176 . ( R4 + 1 ) )) ))) and L1218: ( C160 "**" D176 ) = ( C216 . ( len D176 ) ) by L1215 , FINSOP_1:def 1;
defpred S17[ (Element of ( NAT )) ] means (($1 <> ( 0 ) & $1 <= ( len D176 )) implies (for B177 being (RealMap of [: R12 , R12 :]) holds (B177 = ( C216 . $1 ) implies ( B177 . (C190 , C191) ) >= ( 0 ))));
L1219: (for R2 being (Element of ( NAT )) holds (S17[ R2 ] implies S17[ ( R2 + 1 ) ]))
proof
let R2 being (Element of ( NAT ));
assume L1220: S17[ R2 ];
assume that
L1221: ( R2 + 1 ) <> ( 0 )
and
L1222: ( R2 + 1 ) <= ( len D176 );
L1223: R2 < ( len D176 ) by L1222 , NAT_1:13;
L1224: ( R2 + 1 ) >= 1 by NAT_1:14;
L1225: ( R2 + 1 ) in ( dom D176 ) by L1224 , L1222 , FINSEQ_3:25;
L1226: ( D176 . ( R2 + 1 ) ) in ( ( rng D164 ) \ ( rng D168 ) ) by L1225 , L1173 , FUNCT_1:def 3;
L1227: ( D176 . ( R2 + 1 ) ) in H10(H13(C190 , C191)) by L1226 , L1155 , XBOOLE_0:def 5;
consider C217 being (RealMap of R12) such that L1228: ( C163 . C217 ) = ( D176 . ( R2 + 1 ) ) and L1229: C217 in H13(C190 , C191) by L1227;
L1230: C217 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
reconsider D177 = ( C163 . C217 ) , D178 = ( C216 . ( R2 + 1 ) ) , D179 = ( C216 . R2 ) , D180 = ( D176 . ( R2 + 1 ) ) as (RealMap of [: R12 , R12 :]) by L1230 , L1228 , FUNCT_2:5 , FUNCT_2:66;
L1231: ( abs ( ( C217 . C190 ) - ( C217 . C191 ) ) ) >= ( 0 ) by COMPLEX1:46;
L1232: C217 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
L1233: ( D177 . (C190 , C191) ) = ( abs ( ( C217 . C190 ) - ( C217 . C191 ) ) ) by L1232 , L911;
L1234:
now
per cases ;
suppose L1235: R2 = ( 0 );

thus L1236: ( D178 . (C190 , C191) ) >= ( 0 ) by L1235 , L911 , L1216 , L1228 , L1232 , L1231;
end;
suppose L1237: R2 > ( 0 );

L1238: D178 = ( C160 . (D179 , D180) ) by L1237 , L1217 , L1223;
L1239: D178 = ( D179 + D180 ) by L1238 , L954;
L1240: ( D179 . (C190 , C191) ) >= ( 0 ) by L1220 , L1222 , L1237 , NAT_1:13;
L1241: ( ( 0 ) + ( 0 ) ) <= ( ( D179 . (C190 , C191) ) + ( D180 . (C190 , C191) ) ) by L1240 , L1228 , L1231 , L1233;
thus L1242: ( D178 . (C190 , C191) ) >= ( 0 ) by L1241 , L1067 , L1239 , NAGATA_1:def 7;
end;
end;
let C218 being (RealMap of [: R12 , R12 :]);
assume L1244: C218 = ( C216 . ( R2 + 1 ) );
thus L1245: thesis by L1244 , L1234;
end;
L1246: S17[ ( 0 ) ];
L1247: (for R4 being (Element of ( NAT )) holds S17[ R4 ]) from NAT_1:sch 1(L1246 , L1219);
thus L1248: thesis by L1247 , L1214 , L1218;
end;
end;
L1250:
now
L1251: ( D175 . (C190 , C191) ) <= ( D174 . (C190 , C191) ) by L1067 , L1207 , L1184 , L1182 , L1186 , L1187 , L1180 , XREAL_1:7;
let C219 , C220 being (RealMap of [: R12 , R12 :]);
assume that
L1252: C219 = ( C175 . C188 )
and
L1253: C220 = ( C175 . C189 );
L1254: C220 = D175 by L952 , L1253;
thus L1255: ( C219 . C188 ) >= ( C220 . C188 ) by L1254 , L952 , L1067 , L1252 , L1251;
end;
thus L1256: thesis by L1250;
end;
L1257:
now
let C221 , C222 , C223 being (Point of R12);
thus L1258: ( D143 . (C221 , C221) ) = ( 0 )
proof
reconsider D181 = [ C221 , C221 ] as (Point of [: R12 , R12 :]) by BORSUK_1:def 2;
reconsider D182 = ( C173 . D181 ) as (FinSequence of D121) by FINSEQ_1:def 11;
L1259:
now
per cases ;
suppose L1260: ( len D182 ) = ( 0 );

L1261: C160 is  having_a_unity by L954 , NAGATA_1:23;
L1262: (ex B178 being (Element of D121) st B178 is_a_unity_wrt C160) by L1261 , SETWISEO:def 2;
L1263: ( C160 "**" D182 ) = ( the_unity_wrt C160 ) by L1260 , L1261 , FINSOP_1:def 1;
L1264: ( C160 "**" D182 ) is_a_unity_wrt C160 by L1263 , L1262 , BINOP_1:def 8;
thus L1265: ( ( C160 "**" D182 ) . D181 ) = ( 0 ) by L1264 , L1060;
end;
suppose L1266: ( len D182 ) <> ( 0 );

L1267: ( len D182 ) >= 1 by L1266 , NAT_1:14;
consider C224 being (Function of ( NAT ) , D121) such that L1268: ( C224 . 1 ) = ( D182 . 1 ) and L1269: (for R4 being (Element of ( NAT )) holds ((( 0 ) <> R4 & R4 < ( len D182 )) implies ( C224 . ( R4 + 1 ) ) = ( C160 . (( C224 . R4 ) , ( D182 . ( R4 + 1 ) )) ))) and L1270: ( C160 "**" D182 ) = ( C224 . ( len D182 ) ) by L1267 , FINSOP_1:def 1;
defpred S18[ (Element of ( NAT )) ] means (($1 <> ( 0 ) & $1 <= ( len D182 )) implies ( ( C224 . $1 ) . D181 ) = ( 0 ));
L1271: (for R2 being (Element of ( NAT )) holds (S18[ R2 ] implies S18[ ( R2 + 1 ) ]))
proof
let R2 being (Element of ( NAT ));
assume L1272: S18[ R2 ];
consider C225 , C226 being (Point of R12) such that L1273: [ C225 , C226 ] = D181 and L1274: ( rng D182 ) = H10(( H9(C225) \/ H9(C226) )) by L946;
assume that
L1275: ( R2 + 1 ) <> ( 0 )
and
L1276: ( R2 + 1 ) <= ( len D182 );
L1277: R2 < ( len D182 ) by L1276 , NAT_1:13;
L1278: ( R2 + 1 ) >= 1 by NAT_1:14;
L1279: ( R2 + 1 ) in ( dom D182 ) by L1278 , L1276 , FINSEQ_3:25;
L1280: ( D182 . ( R2 + 1 ) ) in H10(( H9(C225) \/ H9(C226) )) by L1279 , L1274 , FUNCT_1:def 3;
consider C227 being (RealMap of R12) such that L1281: ( C163 . C227 ) = ( D182 . ( R2 + 1 ) ) and L1282: C227 in ( H9(C225) \/ H9(C226) ) by L1280;
L1283: C227 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
reconsider D183 = ( C163 . C227 ) , D184 = ( C224 . ( R2 + 1 ) ) , D185 = ( C224 . R2 ) , D186 = ( D182 . ( R2 + 1 ) ) as (RealMap of [: R12 , R12 :]) by L1283 , L1281 , FUNCT_2:5 , FUNCT_2:66;
L1284: C227 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
L1285: ( D183 . (C221 , C221) ) = ( abs ( ( C227 . C221 ) - ( C227 . C221 ) ) ) by L1284 , L911;
per cases ;
suppose L1286: R2 = ( 0 );

thus L1287: thesis by L1286 , L1268 , L1281 , L1285 , ABSVALUE:2;
end;
suppose L1288: R2 > ( 0 );

L1289: D184 = ( C160 . (D185 , D186) ) by L1288 , L1269 , L1277;
L1290: D184 = ( D185 + D186 ) by L1289 , L954;
L1291: ( D184 . D181 ) = ( ( 0 ) + ( D186 . D181 ) ) by L1290 , L1272 , L1276 , L1288 , NAGATA_1:def 7 , NAT_1:13;
thus L1292: thesis by L1291 , L1281 , L1285 , ABSVALUE:2;
end;
end;
L1294: S18[ ( 0 ) ];
L1295: (for R4 being (Element of ( NAT )) holds S18[ R4 ]) from NAT_1:sch 1(L1294 , L1271);
thus L1296: ( ( C160 "**" D182 ) . D181 ) = ( 0 ) by L1295 , L1266 , L1270;
end;
end;
L1298: ( C175 . D181 ) = ( C160 "**" D182 ) by L952;
thus L1299: thesis by L1298 , L1259 , NAGATA_1:def 8;
end;

thus L1300: ( D143 . (C221 , C223) ) <= ( ( D143 . (C221 , C222) ) + ( D143 . (C223 , C222) ) )
proof
reconsider D187 = [ C221 , C223 ] , D188 = [ C221 , C222 ] , D189 = [ C223 , C222 ] as (Point of [: R12 , R12 :]) by BORSUK_1:def 2;
reconsider D190 = ( C173 . D187 ) as (FinSequence of D121) by FINSEQ_1:def 11;
reconsider D191 = ( C160 "**" D190 ) as (RealMap of [: R12 , R12 :]) by FUNCT_2:66;
reconsider D192 = ( C175 . D187 ) , D193 = ( C175 . D188 ) , D194 = ( C175 . D189 ) as (RealMap of [: R12 , R12 :]) by FUNCT_2:66;
L1301: (( D143 . D187 ) = ( D192 . D187 ) & ( D143 . D188 ) = ( D193 . D188 )) by NAGATA_1:def 8;
L1302: (( D192 . D188 ) <= ( D193 . D188 ) & ( D192 . D189 ) <= ( D194 . D189 )) by L1066;
L1303: ( ( D192 . D188 ) + ( D192 . D189 ) ) <= ( ( D193 . D188 ) + ( D194 . D189 ) ) by L1302 , XREAL_1:7;
L1304:
now
per cases ;
suppose L1305: ( len D190 ) = ( 0 );

L1306: C160 is  having_a_unity by L954 , NAGATA_1:23;
L1307: (ex B179 being (Element of D121) st B179 is_a_unity_wrt C160) by L1306 , SETWISEO:def 2;
L1308: ( C160 "**" D190 ) = ( the_unity_wrt C160 ) by L1305 , L1306 , FINSOP_1:def 1;
L1309: ( C160 "**" D190 ) is_a_unity_wrt C160 by L1308 , L1307 , BINOP_1:def 8;
L1310: (( D191 . D187 ) = ( 0 ) & ( D191 . D188 ) = ( 0 )) by L1309 , L1060;
thus L1311: ( D191 . D187 ) <= ( ( D191 . D188 ) + ( D191 . D189 ) ) by L1310 , L1060 , L1309;
end;
suppose L1312: ( len D190 ) <> ( 0 );

L1313: ( len D190 ) >= 1 by L1312 , NAT_1:14;
consider C228 being (Function of ( NAT ) , D121) such that L1314: ( C228 . 1 ) = ( D190 . 1 ) and L1315: (for R4 being (Element of ( NAT )) holds ((( 0 ) <> R4 & R4 < ( len D190 )) implies ( C228 . ( R4 + 1 ) ) = ( C160 . (( C228 . R4 ) , ( D190 . ( R4 + 1 ) )) ))) and L1316: ( C160 "**" D190 ) = ( C228 . ( len D190 ) ) by L1313 , FINSOP_1:def 1;
defpred S19[ (Element of ( NAT )) ] means (($1 <> ( 0 ) & $1 <= ( len D190 )) implies (for B180 being (RealMap of [: R12 , R12 :]) holds (B180 = ( C228 . $1 ) implies ( B180 . D187 ) <= ( ( B180 . D188 ) + ( B180 . D189 ) ))));
L1317: (for R2 being (Element of ( NAT )) holds (S19[ R2 ] implies S19[ ( R2 + 1 ) ]))
proof
let R2 being (Element of ( NAT ));
assume L1318: S19[ R2 ];
consider C229 , C230 being (Point of R12) such that L1319: [ C229 , C230 ] = D187 and L1320: ( rng D190 ) = H10(( H9(C229) \/ H9(C230) )) by L946;
assume that
L1321: ( R2 + 1 ) <> ( 0 )
and
L1322: ( R2 + 1 ) <= ( len D190 );
L1323: R2 < ( len D190 ) by L1322 , NAT_1:13;
L1324: ( R2 + 1 ) >= 1 by NAT_1:14;
L1325: ( R2 + 1 ) in ( dom D190 ) by L1324 , L1322 , FINSEQ_3:25;
L1326: ( D190 . ( R2 + 1 ) ) in H10(( H9(C229) \/ H9(C230) )) by L1325 , L1320 , FUNCT_1:def 3;
consider C231 being (RealMap of R12) such that L1327: ( C163 . C231 ) = ( D190 . ( R2 + 1 ) ) and L1328: C231 in ( H9(C229) \/ H9(C230) ) by L1326;
L1329: C231 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
reconsider D195 = ( C163 . C231 ) , D196 = ( C228 . ( R2 + 1 ) ) , D197 = ( C228 . R2 ) , D198 = ( D190 . ( R2 + 1 ) ) as (RealMap of [: R12 , R12 :]) by L1329 , L1327 , FUNCT_2:5 , FUNCT_2:66;
L1330: ( ( C231 . C221 ) - ( C231 . C223 ) ) = ( ( ( C231 . C221 ) - ( C231 . C222 ) ) + ( ( C231 . C222 ) - ( C231 . C223 ) ) );
L1331: ( abs ( ( C231 . C221 ) - ( C231 . C223 ) ) ) <= ( ( abs ( ( C231 . C221 ) - ( C231 . C222 ) ) ) + ( abs ( ( C231 . C222 ) - ( C231 . C223 ) ) ) ) by L1330 , COMPLEX1:56;
L1332: C231 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
L1333: (( D195 . (C221 , C223) ) = ( abs ( ( C231 . C221 ) - ( C231 . C223 ) ) ) & ( D195 . (C221 , C222) ) = ( abs ( ( C231 . C221 ) - ( C231 . C222 ) ) )) by L1332 , L911;
L1334: (( abs ( ( C231 . C222 ) - ( C231 . C223 ) ) ) = ( abs ( - ( ( C231 . C222 ) - ( C231 . C223 ) ) ) ) & ( D195 . (C223 , C222) ) = ( abs ( ( C231 . C223 ) - ( C231 . C222 ) ) )) by L911 , L1332 , COMPLEX1:52;
let C232 being (RealMap of [: R12 , R12 :]);
assume that
L1335: C232 = ( C228 . ( R2 + 1 ) );
per cases ;
suppose L1336: R2 = ( 0 );

thus L1337: thesis by L1336 , L1314 , L1327 , L1330 , L1333 , L1334 , L1335 , COMPLEX1:56;
end;
suppose L1338: R2 > ( 0 );

L1339: ( D197 . D187 ) <= ( ( D197 . D188 ) + ( D197 . D189 ) ) by L1338 , L1318 , L1322 , NAT_1:13;
L1340: ( ( D197 . D187 ) + ( D198 . D187 ) ) <= ( ( ( D197 . D188 ) + ( D197 . D189 ) ) + ( ( D198 . D188 ) + ( D198 . D189 ) ) ) by L1339 , L1327 , L1331 , L1333 , L1334 , XREAL_1:7;
L1341: D196 = ( C160 . (D197 , D198) ) by L1315 , L1323 , L1338;
L1342: D196 = ( D197 + D198 ) by L1341 , L954;
L1343: (( D196 . D188 ) = ( ( D197 . D188 ) + ( D198 . D188 ) ) & ( D196 . D189 ) = ( ( D197 . D189 ) + ( D198 . D189 ) )) by L1342 , NAGATA_1:def 7;
thus L1344: thesis by L1343 , L1335 , L1342 , L1340 , NAGATA_1:def 7;
end;
end;
L1346: S19[ ( 0 ) ];
L1347: (for R4 being (Element of ( NAT )) holds S19[ R4 ]) from NAT_1:sch 1(L1346 , L1317);
thus L1348: ( D191 . D187 ) <= ( ( D191 . D188 ) + ( D191 . D189 ) ) by L1347 , L1312 , L1316;
end;
end;
L1350: D192 = ( C160 "**" D190 ) by L952;
L1351: ( D192 . D187 ) <= ( ( D193 . D188 ) + ( D194 . D189 ) ) by L1350 , L1304 , L1303 , XXREAL_0:2;
thus L1352: thesis by L1351 , L1301 , NAGATA_1:def 8;
end;

end;
L1301: D143 is_a_pseudometric_of D120 by L1257 , NAGATA_1:28;
L1302: (for B181 being (Point of R12) holds (for B182 being (Element of ( Funcs (D120 , ( REAL )) )) holds (B182 in H9(B181) implies (S8[ B182 , ( C163 . B182 ) ] & ( C163 . B182 ) is  continuous  continuous  continuous  continuous (RealMap of [: R12 , R12 :])))))
proof
let C233 being (Point of R12);
let C234 being (Element of ( Funcs (D120 , ( REAL )) ));
reconsider D199 = ( C163 . C234 ) as (RealMap of [: R12 , R12 :]) by FUNCT_2:66;
assume L1303: C234 in H9(C233);
consider C235 being (Subset of R12) such that L1304: C234 = ( C147 . C235 ) and L1305: C235 in ( C136 . R4 ) and L1306: C235 in H8(( C148 . C233 )) by L1303;
L1307: S8[ C234 , ( C163 . C234 ) ] by L911;
L1308: S10[ C235 , ( C147 . C235 ) ] by L877 , L1305;
L1309: D199 is  continuous by L1308 , L1304 , L1307 , NAGATA_1:21;
thus L1310: thesis by L1309 , L911;
end;
L1311: (for R22 being (Point of [: R12 , R12 :]) holds ( C175 . R22 ) is  continuous  continuous  continuous  continuous (RealMap of [: R12 , R12 :]))
proof
let R22 being (Point of [: R12 , R12 :]);
reconsider D200 = ( C173 . R22 ) as (FinSequence of D121) by FINSEQ_1:def 11;
consider R15 being (Point of R12), R16 being (Point of R12) such that L1312: [ R15 , R16 ] = R22 and L1313: ( rng D200 ) = H10(( H9(R15) \/ H9(R16) )) by L946;
L1314: (for R4 being (Element of ( NAT )) holds ((( 0 ) <> R4 & R4 <= ( len D200 )) implies ( D200 . R4 ) is  continuous  continuous  continuous  continuous (RealMap of [: R12 , R12 :])))
proof
let R4 being (Element of ( NAT ));
assume that
L1315: ( 0 ) <> R4
and
L1316: R4 <= ( len D200 );
L1317: R4 >= 1 by L1315 , NAT_1:14;
L1318: R4 in ( dom D200 ) by L1317 , L1316 , FINSEQ_3:25;
L1319: ( D200 . R4 ) in H10(( H9(R15) \/ H9(R16) )) by L1318 , L1313 , FUNCT_1:def 3;
consider C236 being (RealMap of R12) such that L1320: ( D200 . R4 ) = ( C163 . C236 ) and L1321: C236 in ( H9(R15) \/ H9(R16) ) by L1319;
L1322: C236 in ( Funcs (D120 , ( REAL )) ) by FUNCT_2:8;
L1323: (C236 in H9(R15) or C236 in H9(R16)) by L1321 , XBOOLE_0:def 3;
thus L1324: thesis by L1323 , L1302 , L1320 , L1322;
end;
L1325: ( C160 "**" D200 ) is  continuous  continuous  continuous  continuous (RealMap of [: R12 , R12 :]) by L1314 , L954 , NAGATA_1:25;
thus L1326: thesis by L1325 , L952;
end;
L1327: (for R22 being (Point of [: R12 , R12 :]) holds ( D141 . R22 ) is  continuous  continuous  continuous  continuous (Function of [: R12 , R12 :] , ( R^1 )))
proof
let R22 being (Point of [: R12 , R12 :]);
reconsider D201 = ( C175 . R22 ) as (Function of [: R12 , R12 :] , ( R^1 )) by L1311 , TOPMETR:17;
L1328: ( C175 . R22 ) is  continuous  continuous  continuous  continuous (RealMap of [: R12 , R12 :]) by L1311;
L1329: D201 is  continuous by L1328 , JORDAN5A:27;
thus L1330: thesis by L1329;
end;
take ( min (1 , D142) );
L1331: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ( ( min (1 , D142) ) . [ R15 , R16 ] ) <= 1))
proof
let R15 being (Point of R12);
let R16 being (Point of R12);
L1332: D118 = [: D120 , D120 :] by BORSUK_1:def 2;
L1333: ( ( min (1 , D142) ) . [ R15 , R16 ] ) = ( min (1 , ( D142 . [ R15 , R16 ] )) ) by L1332 , NAGATA_1:def 9;
thus L1334: thesis by L1333 , XXREAL_0:17;
end;
L1335: (for B183 , B184 being (Point of [: R12 , R12 :]) holds (B183 in ( C154 . B184 ) implies ( ( D141 . B183 ) . B183 ) = ( ( D141 . B184 ) . B183 ))) by L1066;
L1336: ( D141 Toler ) is  continuous by L1335 , L1327 , L892 , NAGATA_1:26;
L1337: D142 is  continuous by L1336 , JORDAN5A:27;
L1338: (( min (1 , D142) ) = ( min (1 , D143) ) & ( min (1 , D142) ) is  continuous) by L1337 , BORSUK_1:def 2 , NAGATA_1:27;
thus L1339: thesis by L1338 , L1301 , L1331 , L1054 , NAGATA_1:30;
end;
L1340: (for B185 being set holds (B185 in ( NAT ) implies (ex B186 being set st (B186 in ( Funcs (D118 , ( REAL )) ) & S6[ B185 , B186 ]))))
proof
L1341: ( NAT ) = ( rng ( PairFunc ) ) by L57 , FUNCT_2:def 3;
let C237 being set;
assume L1342: C237 in ( NAT );
consider C238 being set such that L1343: C238 in ( dom ( PairFunc ) ) and L1344: C237 = ( ( PairFunc ) . C238 ) by L1342 , L1341 , FUNCT_1:def 3;
consider C239 , C240 being set such that L1345: (C239 in ( NAT ) & C240 in ( NAT )) and L1346: C238 = [ C239 , C240 ] by L1343 , ZFMISC_1:def 2;
consider R25 being (RealMap of [: R12 , R12 :]) such that L1347: S5[ C239 , C240 , R25 ] by L833 , L1345;
take R25;
thus L1348: R25 in ( Funcs (D118 , ( REAL )) ) by FUNCT_2:8;
take D202 = R25;
thus L1349: D202 = R25;
let C241 , C242 being (Element of ( NAT ));
assume L1350: ( ( ( PairFunc ) " ) . C237 ) = [ C241 , C242 ];
L1351: [ C241 , C242 ] = [ C239 , C240 ] by L1350 , L1343 , L1344 , L1346 , L824 , L57 , FUNCT_1:32;
L1352: (C241 = C239 & C242 = C240) by L1351 , XTUPLE_0:1;
thus L1353: thesis by L1352 , L1347;
end;
consider C243 being (Function of ( NAT ) , ( Funcs (D118 , ( REAL )) )) such that L1354: (for B187 being set holds (B187 in ( NAT ) implies S6[ B187 , ( C243 . B187 ) ])) from FUNCT_2:sch 1(L1340);
L1355:
now
let R4 being (Element of ( NAT ));
L1356: [: D120 , D120 :] = D118 by BORSUK_1:def 2;
thus L1357: ( C243 . R4 ) is (PartFunc of [: D120 , D120 :] , ( REAL )) by L1356 , FUNCT_2:66;
end;
L1358: ( dom C243 ) = ( NAT ) by FUNCT_2:def 1;
reconsider D203 = C243 as (Functional_Sequence of [: D120 , D120 :] , ( REAL )) by L1358 , L1355 , SEQFUNC:1;
L1359: (for R15 being (Point of R12) holds (for R20 being non  empty (Subset of R12) holds (((not R15 in R20) & R20 is  closed) implies (ex R2 being (Element of ( NAT )) st (for R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) holds (( D203 . R2 ) = R23 implies ( ( lower_bound (R23 , R20) ) . R15 ) > ( 0 )))))))
proof
let R15 being (Point of R12);
let R20 being non  empty (Subset of R12);
assume that
L1360: (not R15 in R20)
and
L1361: R20 is  closed;
set D204 = ( R20 ` );
L1362: R15 in D204 by L1360 , XBOOLE_0:def 5;
consider C244 being (Subset of R12) such that L1363: R15 in C244 and L1364: ( Cl C244 ) c= D204 and L1365: C244 in ( Union C136 ) by L1362 , L827 , L831 , L1361 , NAGATA_1:19;
L1366: ( Union C136 ) c= (the topology of R12) by L831 , TOPS_2:64;
reconsider D205 = C244 as  open (Subset of R12) by L1366 , L1365 , PRE_TOPC:def 2;
consider R4 being (Element of ( NAT )) such that L1367: D205 in ( C136 . R4 ) by L1365 , PROB_1:12;
consider C245 being (Subset of R12) such that L1368: (R15 in C245 & ( Cl C245 ) c= D205) and L1369: C245 in ( Union C136 ) by L827 , L831 , L1363 , NAGATA_1:19;
L1370: ( Union C136 ) c= (the topology of R12) by L831 , TOPS_2:64;
reconsider D206 = C245 as  open (Subset of R12) by L1370 , L1369 , PRE_TOPC:def 2;
consider R3 being (Element of ( NAT )) such that L1371: D206 in ( C136 . R3 ) by L1369 , PROB_1:12;
set D207 = ( ( PairFunc ) . [ R4 , R3 ] );
consider C246 being (RealMap of [: R12 , R12 :]) such that L1372: C246 = ( C243 . D207 ) and L1373: (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (( ( ( PairFunc ) " ) . D207 ) = [ R4 , R3 ] implies S5[ R4 , R3 , C246 ]))) by L1354;
L1374: ( dom ( PairFunc ) ) = [: ( NAT ) , ( NAT ) :] by FUNCT_2:def 1;
L1375: [ R4 , R3 ] = ( ( ( PairFunc ) " ) . D207 ) by L1374 , L824 , L57 , FUNCT_1:32;
consider R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L1376: C246 = R23 and L1377: C246 is  continuous and L1378: R23 is_a_pseudometric_of D120 and L1379: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds (( R23 . [ R15 , R16 ] ) <= 1 & (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ((ex R17 being (Subset of R12) st (ex R18 being (Subset of R12) st (R17 is  open & R18 is  open & R17 in ( C136 . R3 ) & R18 in ( C136 . R4 ) & R15 in R17 & ( Cl R17 ) c= R18 & (not R16 in R18)))) implies ( R23 . [ R15 , R16 ] ) = 1)))))) by L1375 , L1373;
L1380: (for R7 being  real number holds (R7 in ( ( dist (R23 , R15) ) .: R20 ) implies R7 >= 1))
proof
let R7 being  real number;
assume L1381: R7 in ( ( dist (R23 , R15) ) .: R20 );
consider C247 being set such that L1382: C247 in ( dom ( dist (R23 , R15) ) ) and L1383: C247 in R20 and L1384: R7 = ( ( dist (R23 , R15) ) . C247 ) by L1381 , FUNCT_1:def 6;
reconsider D208 = C247 as (Point of R12) by L1382;
L1385: ( R23 . (R15 , D208) ) = ( ( dist (R23 , R15) ) . D208 ) by L80;
L1386: D205 c= ( Cl D205 ) by PRE_TOPC:18;
L1387: D205 c= D204 by L1386 , L1364 , XBOOLE_1:1;
L1388: D205 misses R20 by L1387 , SUBSET_1:23;
L1389: (not D208 in D205) by L1388 , L1383 , XBOOLE_0:3;
thus L1390: thesis by L1389 , L1368 , L1367 , L1371 , L1379 , L1384 , L1385;
end;
take D207;
L1391: D120 = ( dom ( dist (R23 , R15) ) ) by FUNCT_2:def 1;
L1392: ( lower_bound ( ( dist (R23 , R15) ) .: R20 ) ) >= 1 by L1391 , L1380 , SEQ_4:43;
thus L1393: thesis by L1392 , L1372 , L1376 , L181;
end;
L1394: (for R2 being (Element of ( NAT )) holds (ex R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) st (( D203 . R2 ) = R23 & R23 is_a_pseudometric_of D120 & (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) <= 1) & (for R25 being (RealMap of [: R12 , R12 :]) holds (R23 = R25 implies R25 is  continuous)))))
proof
let R2 being (Element of ( NAT ));
consider C248 being (RealMap of [: R12 , R12 :]) such that L1395: C248 = ( C243 . R2 ) and L1396: (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (( ( ( PairFunc ) " ) . R2 ) = [ R4 , R3 ] implies S5[ R4 , R3 , C248 ]))) by L1354;
L1397: ( NAT ) = ( rng ( PairFunc ) ) by L57 , FUNCT_2:def 3;
consider C249 being set such that L1398: C249 in ( dom ( PairFunc ) ) and L1399: R2 = ( ( PairFunc ) . C249 ) by L1397 , FUNCT_1:def 3;
consider C250 , C251 being set such that L1400: (C250 in ( NAT ) & C251 in ( NAT )) and L1401: C249 = [ C250 , C251 ] by L1398 , ZFMISC_1:def 2;
L1402: [ C250 , C251 ] = ( ( ( PairFunc ) " ) . R2 ) by L1398 , L1399 , L1401 , L824 , L57 , FUNCT_1:32;
consider R23 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L1403: C248 = R23 and L1404: C248 is  continuous and L1405: R23 is_a_pseudometric_of D120 and L1406: (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds (( R23 . [ R15 , R16 ] ) <= 1 & (for R15 being (Point of R12) holds (for R16 being (Point of R12) holds ((ex R17 being (Subset of R12) st (ex R18 being (Subset of R12) st (R17 is  open & R18 is  open & R17 in ( C136 . C251 ) & R18 in ( C136 . C250 ) & R15 in R17 & ( Cl R17 ) c= R18 & (not R16 in R18)))) implies ( R23 . [ R15 , R16 ] ) = 1)))))) by L1402 , L1400 , L1396;
take R23;
thus L1407: (( D203 . R2 ) = R23 & R23 is_a_pseudometric_of D120) by L1395 , L1403 , L1405;
thus L1408: (for R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]) holds ( R23 . R21 ) <= 1)
proof
let R21 being (Element of [: (the carrier of R12) , (the carrier of R12) :]);
L1409: (ex B188 , B189 being set st (B188 in D120 & B189 in D120 & R21 = [ B188 , B189 ])) by ZFMISC_1:def 2;
thus L1410: thesis by L1409 , L1406;
end;

thus L1411: thesis by L1403 , L1404;
end;
thus L1412: thesis by L1394 , L828 , L1359 , L688;
end;

thus L1413: thesis by NAGATA_1:15 , NAGATA_1:16;
end;
theorem
L1414: (for R12 being non  empty TopSpace holds (R12 is  metrizable implies (for B190 being (Subset-Family of R12) holds ((B190 is (Cover of R12) & B190 is  open) implies (ex B191 being (FamilySequence of R12) st (( Union B191 ) is  open & ( Union B191 ) is (Cover of R12) & ( Union B191 ) is_finer_than B190 & B191 is  sigma_discrete))))))
proof
let R12 being non  empty TopSpace;
set D209 = (the carrier of R12);
assume L1415: R12 is  metrizable;
consider C252 being (Function of [: D209 , D209 :] , ( REAL )) such that L1416: C252 is_metric_of D209 and L1417: ( Family_open_set ( SpaceMetr (D209 , C252) ) ) = (the topology of R12) by L1415 , PCOMPS_1:def 8;
reconsider D210 = ( SpaceMetr (D209 , C252) ) as non  empty MetrSpace by L1416 , PCOMPS_1:36;
set D211 = (the carrier of D210);
let C253 being (Subset-Family of R12);
assume that
L1418: C253 is (Cover of R12)
and
L1419: C253 is  open;
defpred S20[ set ] means $1 in C253;
deffunc H14((Point of D210) , Nat) = ( Ball ($1 , ( 1 / ( 2 |^ ( $2 + 1 ) ) )) );
consider C254 being Relation such that L1420: C254 well_orders C253 by WELLORD2:17;
consider C255 being Relation such that L1421: C255 = ( C254 |_2 C253 );
set D212 = { ( union { ( Ball (B193 , ( 1 / 2 )) ) where B193 is (Point of D210) : (B193 in ( B192 \ ( PartUnion (B192 , C255) ) ) & ( Ball (B193 , ( 3 / 2 )) ) c= B192) } ) where B192 is (Subset of D210) : B192 in C253 };
L1422: D212 c= ( bool (the carrier of D210) )
proof
let R8 being set;
assume L1423: R8 in D212;
consider C256 being (Subset of D210) such that L1424: R8 = ( union { ( Ball (B194 , ( 1 / 2 )) ) where B194 is (Point of D210) : (B194 in ( C256 \ ( PartUnion (C256 , C255) ) ) & ( Ball (B194 , ( 3 / 2 )) ) c= C256) } ) and L1425: C256 in C253 by L1423;
L1426: R8 c= D211
proof
let R9 being set;
assume L1427: R9 in R8;
consider C257 being set such that L1428: R9 in C257 and L1429: C257 in { ( Ball (B195 , ( 1 / 2 )) ) where B195 is (Point of D210) : (B195 in ( C256 \ ( PartUnion (C256 , C255) ) ) & ( Ball (B195 , ( 3 / 2 )) ) c= C256) } by L1427 , L1424 , TARSKI:def 4;
L1430: (ex B196 being (Point of D210) st (C257 = ( Ball (B196 , ( 1 / 2 )) ) & B196 in ( C256 \ ( PartUnion (C256 , C255) ) ) & ( Ball (B196 , ( 3 / 2 )) ) c= C256)) by L1429;
thus L1431: thesis by L1430 , L1428;
end;
thus L1432: thesis by L1426;
end;
reconsider D213 = D212 as (Subset-Family of D210) by L1422;
defpred S21[ (Point of D210) , (Subset of D210) , Nat ] means ($1 in ( $2 \ ( PartUnion ($2 , C255) ) ) & ( Ball ($1 , ( 3 / ( 2 |^ ( $3 + 1 ) ) )) ) c= $2);
consider C258 being (Function of ( NAT ) , ( bool ( bool D211 ) )) such that L1433: (( C258 . ( 0 ) ) = D213 & (for R4 being (Element of ( NAT )) holds ( C258 . ( R4 + 1 ) ) = { ( union { H14(B198 , R4) where B198 is (Point of D210) : (S21[ B198 , B197 , R4 ] & (not B198 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= R4 } ))) } ) where B197 is (Subset of D210) : S20[ B197 ] })) from PCOMPS_2:sch 3;
reconsider D214 = C258 as (FamilySequence of R12) by L1416 , PCOMPS_2:4;
take D214;
thus L1434: ( Union D214 ) is  open
proof
let R17 being (Subset of R12);
assume L1435: R17 in ( Union D214 );
consider R4 being (Element of ( NAT )) such that L1436: R17 in ( C258 . R4 ) by L1435 , PROB_1:12;
per cases ;
suppose L1437: R4 = ( 0 );

consider C259 being (Subset of D210) such that L1438: R17 = ( union { ( Ball (B199 , ( 1 / 2 )) ) where B199 is (Point of D210) : (B199 in ( C259 \ ( PartUnion (C259 , C255) ) ) & ( Ball (B199 , ( 3 / 2 )) ) c= C259) } ) and L1439: C259 in C253 by L1437 , L1433 , L1436;
set D215 = { ( Ball (B200 , ( 1 / 2 )) ) where B200 is (Point of D210) : (B200 in ( C259 \ ( PartUnion (C259 , C255) ) ) & ( Ball (B200 , ( 3 / 2 )) ) c= C259) };
L1440: D215 c= ( bool (the carrier of D210) )
proof
let R8 being set;
assume L1441: R8 in D215;
L1442: (ex B201 being (Point of D210) st (R8 = ( Ball (B201 , ( 1 / 2 )) ) & B201 in ( C259 \ ( PartUnion (C259 , C255) ) ) & ( Ball (B201 , ( 3 / 2 )) ) c= C259)) by L1441;
thus L1443: thesis by L1442;
end;
reconsider D216 = D215 as (Subset-Family of D210) by L1440;
L1444: D216 c= ( Family_open_set D210 )
proof
let R8 being set;
assume L1445: R8 in D216;
L1446: (ex B202 being (Point of D210) st (R8 = ( Ball (B202 , ( 1 / 2 )) ) & B202 in ( C259 \ ( PartUnion (C259 , C255) ) ) & ( Ball (B202 , ( 3 / 2 )) ) c= C259)) by L1445;
thus L1447: thesis by L1446 , PCOMPS_1:29;
end;
L1448: R17 in (the topology of R12) by L1444 , L1417 , L1438 , PCOMPS_1:32;
thus L1449: thesis by L1448 , PRE_TOPC:def 2;
end;
suppose L1450: R4 > ( 0 );

consider C260 being Nat such that L1451: R4 = ( C260 + 1 ) by L1450 , NAT_1:6;
reconsider D217 = C260 as (Element of ( NAT )) by ORDINAL1:def 12;
L1452: R17 in { ( union { H14(B204 , D217) where B204 is (Point of D210) : (S21[ B204 , B203 , D217 ] & (not B204 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D217 } ))) } ) where B203 is (Subset of D210) : S20[ B203 ] } by L1433 , L1436 , L1451;
consider C261 being (Subset of D210) such that L1453: (R17 = ( union { H14(B205 , D217) where B205 is (Point of D210) : (S21[ B205 , C261 , D217 ] & (not B205 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D217 } ))) } ) & S20[ C261 ]) by L1452;
set D218 = { H14(B206 , D217) where B206 is (Point of D210) : (S21[ B206 , C261 , D217 ] & (not B206 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D217 } ))) };
L1454: D218 c= ( bool (the carrier of D210) )
proof
let R8 being set;
assume L1455: R8 in D218;
L1456: (ex B207 being (Point of D210) st (R8 = H14(B207 , D217) & S21[ B207 , C261 , D217 ] & (not B207 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D217 } )))) by L1455;
thus L1457: thesis by L1456;
end;
reconsider D219 = D218 as (Subset-Family of D210) by L1454;
L1458: D219 c= ( Family_open_set D210 )
proof
let R8 being set;
assume L1459: R8 in D219;
L1460: (ex B208 being (Point of D210) st (R8 = H14(B208 , D217) & S21[ B208 , C261 , D217 ] & (not B208 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D217 } )))) by L1459;
thus L1461: thesis by L1460 , PCOMPS_1:29;
end;
L1462: R17 in (the topology of R12) by L1458 , L1417 , L1453 , PCOMPS_1:32;
thus L1463: thesis by L1462 , PRE_TOPC:def 2;
end;
end;

L1465: C255 well_orders C253 by L1420 , L1421 , PCOMPS_2:1;
L1466: ( [#] R12 ) c= ( union ( Union D214 ) )
proof
let R8 being set;
assume that
L1467: R8 in ( [#] R12 );
reconsider D220 = R8 as (Element of D210) by L1416 , L1467 , PCOMPS_2:4;
defpred S22[ set ] means R8 in $1;
L1468: (ex B209 being (Subset of R12) st (R8 in B209 & B209 in C253)) by L1418 , L1467 , PCOMPS_1:3;
L1469: (ex B210 being set st (B210 in C253 & S22[ B210 ])) by L1468;
consider R11 being set such that L1470: (R11 in C253 & S22[ R11 ] & (for B211 being set holds ((B211 in C253 & S22[ B211 ]) implies [ R11 , B211 ] in C255))) from PCOMPS_2:sch 1(L1465 , L1469);
assume L1471: (not R8 in ( union ( Union D214 ) ));
L1472: (for B212 being set holds (for B213 being (Element of ( NAT )) holds (B212 in ( D214 . B213 ) implies (not R8 in B212))))
proof
let C262 being set;
let C263 being (Element of ( NAT ));
assume L1473: C262 in ( D214 . C263 );
L1474: C262 in ( Union C258 ) by L1473 , PROB_1:12;
thus L1475: thesis by L1474 , L1471 , TARSKI:def 4;
end;
L1476: (for R4 being (Element of ( NAT )) holds (not R8 in ( union ( D214 . R4 ) )))
proof
let R4 being (Element of ( NAT ));
assume L1477: R8 in ( union ( D214 . R4 ) );
L1478: (ex B214 being set st (R8 in B214 & B214 in ( D214 . R4 ))) by L1477 , TARSKI:def 4;
thus L1479: contradiction by L1478 , L1472;
end;
reconsider D221 = R11 as (Subset of R12) by L1470;
L1480: D221 is  open by L1419 , L1470 , TOPS_2:def 1;
L1481: D221 in ( Family_open_set D210 ) by L1480 , L1417 , PRE_TOPC:def 2;
reconsider D222 = D221 as (Subset of D210) by L1416 , PCOMPS_2:4;
consider R5 being Real such that L1482: R5 > ( 0 ) and L1483: ( Ball (D220 , R5) ) c= D222 by L1470 , L1481 , PCOMPS_1:def 4;
defpred S23[ Nat ] means ( 3 / ( 2 |^ $1 ) ) <= R5;
L1484: (ex R2 being (Element of ( NAT )) st S23[ R2 ]) by L1482 , PREPOWER:92;
L1485: (ex B215 being Nat st S23[ B215 ]) by L1484;
consider C264 being Nat such that L1486: (S23[ C264 ] & (for B216 being Nat holds (S23[ B216 ] implies C264 <= B216))) from NAT_1:sch 5(L1485);
set D223 = ( union { H14(B217 , C264) where B217 is (Point of D210) : (S21[ B217 , D222 , C264 ] & (not B217 in ( union { ( union ( C258 . R1 ) ) where R1 is (Element of ( NAT )) : R1 <= C264 } ))) } );
L1487: ( 2 |^ ( C264 + 1 ) ) = ( ( 2 |^ C264 ) * 2 ) by NEWTON:6;
L1488: (( 2 |^ C264 ) > ( 0 ) & ( 2 |^ ( C264 + 1 ) ) >= ( 2 |^ C264 )) by L1487 , PREPOWER:6 , XREAL_1:151;
L1489: ( 3 / ( 2 |^ ( C264 + 1 ) ) ) <= ( 3 / ( 2 |^ C264 ) ) by L1488 , XREAL_1:118;
L1490: ( 3 / ( 2 |^ ( C264 + 1 ) ) ) <= R5 by L1489 , L1486 , XXREAL_0:2;
L1491: R8 in D223
proof
L1492: (not D220 in ( PartUnion (D222 , C255) ))
proof
assume L1493: D220 in ( PartUnion (D222 , C255) );
L1494: D220 in ( union ( C255 -Seg D222 ) ) by L1493 , PCOMPS_2:def 1;
consider C265 being set such that L1495: D220 in C265 and L1496: C265 in ( C255 -Seg D222 ) by L1494 , TARSKI:def 4;
L1497: C265 <> D222 by L1496 , WELLORD1:1;
L1498: C255 is_antisymmetric_in C253 by L1465 , WELLORD1:def 5;
L1499: [ C265 , D222 ] in C255 by L1496 , WELLORD1:1;
L1500: C265 in ( field C255 ) by L1499 , RELAT_1:15;
L1501: C265 in C253 by L1500 , L1420 , L1421 , PCOMPS_2:1;
L1502: [ D222 , C265 ] in C255 by L1501 , L1470 , L1495;
thus L1503: contradiction by L1502 , L1470 , L1497 , L1499 , L1501 , L1498 , RELAT_2:def 4;
end;
L1504: D220 in ( D222 \ ( PartUnion (D222 , C255) ) ) by L1492 , L1470 , XBOOLE_0:def 5;
set D224 = ( Ball (D220 , ( 1 / ( 2 |^ ( C264 + 1 ) ) )) );
L1505: ( 0 ) < ( 2 |^ ( C264 + 1 ) ) by PREPOWER:6;
L1506: D220 in D224 by L1505 , TBSP_1:11 , XREAL_1:139;
L1507: (not D220 in ( union { ( union ( D214 . R1 ) ) where R1 is (Element of ( NAT )) : R1 <= C264 } ))
proof
assume L1508: D220 in ( union { ( union ( D214 . R1 ) ) where R1 is (Element of ( NAT )) : R1 <= C264 } );
consider C266 being set such that L1509: (D220 in C266 & C266 in { ( union ( D214 . R1 ) ) where R1 is (Element of ( NAT )) : R1 <= C264 }) by L1508 , TARSKI:def 4;
L1510: (ex R1 being (Element of ( NAT )) st (C266 = ( union ( D214 . R1 ) ) & R1 <= C264)) by L1509;
thus L1511: contradiction by L1510 , L1476 , L1509;
end;
L1512: ( Ball (D220 , ( 3 / ( 2 |^ ( C264 + 1 ) ) )) ) c= ( Ball (D220 , R5) ) by L1490 , PCOMPS_1:1;
L1513: ( Ball (D220 , ( 3 / ( 2 |^ ( C264 + 1 ) ) )) ) c= D222 by L1512 , L1483 , XBOOLE_1:1;
L1514: D224 in { H14(B218 , C264) where B218 is (Point of D210) : (S21[ B218 , D222 , C264 ] & (not B218 in ( union { ( union ( D214 . R1 ) ) where R1 is (Element of ( NAT )) : R1 <= C264 } ))) } by L1513 , L1504 , L1507;
thus L1515: thesis by L1514 , L1506 , TARSKI:def 4;
end;
L1516: (C264 in ( NAT ) & D223 in { ( union { H14(B220 , C264) where B220 is (Point of D210) : (S21[ B220 , B219 , C264 ] & (not B220 in ( union { ( union ( C258 . B221 ) ) where B221 is (Element of ( NAT )) : B221 <= C264 } ))) } ) where B219 is (Subset of D210) : B219 in C253 }) by L1470 , ORDINAL1:def 12;
L1517: D223 in ( D214 . ( C264 + 1 ) ) by L1516 , L1433;
thus L1518: thesis by L1517 , L1472 , L1491;
end;
L1519: ( [#] R12 ) = ( union ( Union D214 ) ) by L1466 , XBOOLE_0:def 10;
thus L1520: ( Union D214 ) is (Cover of R12) by L1519 , SETFAM_1:45;
L1521: (for B222 being set holds (B222 in ( Union D214 ) implies (ex B223 being set st (B223 in C253 & B222 c= B223))))
proof
let C267 being set;
assume L1522: C267 in ( Union D214 );
consider R4 being (Element of ( NAT )) such that L1523: C267 in ( C258 . R4 ) by L1522 , PROB_1:12;
per cases ;
suppose L1524: R4 = ( 0 );

consider C268 being (Subset of D210) such that L1525: C267 = ( union { ( Ball (B224 , ( 1 / 2 )) ) where B224 is (Point of D210) : (B224 in ( C268 \ ( PartUnion (C268 , C255) ) ) & ( Ball (B224 , ( 3 / 2 )) ) c= C268) } ) and L1526: C268 in C253 by L1524 , L1433 , L1523;
set D225 = { ( Ball (B225 , ( 1 / 2 )) ) where B225 is (Point of D210) : (B225 in ( C268 \ ( PartUnion (C268 , C255) ) ) & ( Ball (B225 , ( 3 / 2 )) ) c= C268) };
L1527: D225 c= ( bool (the carrier of D210) )
proof
let R8 being set;
assume L1528: R8 in D225;
L1529: (ex B226 being (Point of D210) st (R8 = ( Ball (B226 , ( 1 / 2 )) ) & B226 in ( C268 \ ( PartUnion (C268 , C255) ) ) & ( Ball (B226 , ( 3 / 2 )) ) c= C268)) by L1528;
thus L1530: thesis by L1529;
end;
reconsider D226 = D225 as (Subset-Family of D210) by L1527;
L1531: (for B227 being set holds (B227 in D226 implies B227 c= C268))
proof
let C269 being set;
assume L1532: C269 in D226;
consider C270 being (Element of D210) such that L1533: C269 = ( Ball (C270 , ( 1 / 2 )) ) and L1534: C270 in ( C268 \ ( PartUnion (C268 , C255) ) ) and L1535: ( Ball (C270 , ( 3 / 2 )) ) c= C268 by L1532;
L1536: ( Ball (C270 , ( 1 / 2 )) ) c= ( Ball (C270 , ( 3 / 2 )) ) by PCOMPS_1:1;
thus L1537: thesis by L1536 , L1533 , L1535 , XBOOLE_1:1;
end;
L1538: C267 c= C268 by L1531 , L1525 , ZFMISC_1:76;
thus L1539: thesis by L1538 , L1526;
end;
suppose L1540: R4 > ( 0 );

consider C271 being Nat such that L1541: R4 = ( C271 + 1 ) by L1540 , NAT_1:6;
reconsider D227 = C271 as (Element of ( NAT )) by ORDINAL1:def 12;
L1542: C267 in { ( union { H14(B229 , D227) where B229 is (Point of D210) : (S21[ B229 , B228 , D227 ] & (not B229 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D227 } ))) } ) where B228 is (Subset of D210) : S20[ B228 ] } by L1433 , L1523 , L1541;
consider C272 being (Subset of D210) such that L1543: (C267 = ( union { H14(B230 , D227) where B230 is (Point of D210) : (S21[ B230 , C272 , D227 ] & (not B230 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D227 } ))) } ) & S20[ C272 ]) by L1542;
set D228 = { H14(B231 , D227) where B231 is (Point of D210) : (S21[ B231 , C272 , D227 ] & (not B231 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D227 } ))) };
L1544: D228 c= ( bool (the carrier of D210) )
proof
let R8 being set;
assume L1545: R8 in D228;
L1546: (ex B232 being (Point of D210) st (R8 = H14(B232 , D227) & S21[ B232 , C272 , D227 ] & (not B232 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D227 } )))) by L1545;
thus L1547: thesis by L1546;
end;
reconsider D229 = D228 as (Subset-Family of D210) by L1544;
L1548: (for B233 being set holds (B233 in D229 implies B233 c= C272))
proof
let C273 being set;
assume L1549: C273 in D229;
consider C274 being (Element of D210) such that L1550: (C273 = H14(C274 , D227) & S21[ C274 , C272 , D227 ] & (not C274 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D227 } ))) by L1549;
L1551: ( 0 ) < ( 2 |^ ( D227 + 1 ) ) by PREPOWER:6;
L1552: ( 1 / ( 2 |^ ( D227 + 1 ) ) ) < ( 3 / ( 2 |^ ( D227 + 1 ) ) ) by L1551 , XREAL_1:74;
L1553: H14(C274 , D227) c= ( Ball (C274 , ( 3 / ( 2 |^ ( D227 + 1 ) ) )) ) by L1552 , PCOMPS_1:1;
thus L1554: thesis by L1553 , L1550 , XBOOLE_1:1;
end;
L1555: C267 c= C272 by L1548 , L1543 , ZFMISC_1:76;
thus L1556: thesis by L1555 , L1543;
end;
end;
thus L1558: ( Union D214 ) is_finer_than C253 by L1521 , SETFAM_1:def 2;
L1559: (for R4 being (Element of ( NAT )) holds ( D214 . R4 ) is  discrete)
proof
let R4 being (Element of ( NAT ));
L1560: (for R15 being (Point of R12) holds (ex B234 being  open (Subset of R12) st (R15 in B234 & (for R17 being (Subset of R12) holds (for R18 being (Subset of R12) holds ((R17 in ( D214 . R4 ) & R18 in ( D214 . R4 )) implies ((B234 meets R17 & B234 meets R18) implies R17 = R18)))))))
proof
let R15 being (Point of R12);
reconsider D230 = R15 as (Point of D210) by L1416 , PCOMPS_2:4;
set D231 = ( Ball (D230 , ( 1 / ( 2 |^ ( R4 + 2 ) ) )) );
L1561: D231 in ( Family_open_set D210 ) by PCOMPS_1:29;
reconsider D232 = D231 as  open (Subset of R12) by L1561 , L1417 , PRE_TOPC:def 2;
take D232;
L1562:
now
let R17 being (Subset of R12);
let R18 being (Subset of R12);
assume that
L1563: R17 in ( D214 . R4 )
and
L1564: R18 in ( D214 . R4 );
assume that
L1565: D232 meets R17
and
L1566: D232 meets R18;
consider C275 being set such that L1567: C275 in D232 and L1568: C275 in R17 by L1565 , XBOOLE_0:3;
consider C276 being set such that L1569: C276 in D232 and L1570: C276 in R18 by L1566 , XBOOLE_0:3;
reconsider D233 = C275 , D234 = C276 as (Point of D210) by L1567 , L1569;
L1571: ( dist (D230 , D234) ) < ( 1 / ( 2 |^ ( R4 + 2 ) ) ) by L1569 , METRIC_1:11;
L1572: (( dist (D233 , D234) ) <= ( ( dist (D233 , D230) ) + ( dist (D230 , D234) ) ) & ( 2 |^ ( ( R4 + 1 ) + 1 ) ) = ( ( 2 |^ ( R4 + 1 ) ) * 2 )) by METRIC_1:4 , NEWTON:6;
L1573: ( dist (D230 , D233) ) < ( 1 / ( 2 |^ ( R4 + 2 ) ) ) by L1567 , METRIC_1:11;
L1574: ( ( dist (D233 , D230) ) + ( dist (D230 , D234) ) ) < ( ( 1 / ( 2 |^ ( R4 + 2 ) ) ) + ( 1 / ( 2 |^ ( R4 + 2 ) ) ) ) by L1573 , L1571 , XREAL_1:8;
L1575: ( dist (D233 , D234) ) < ( 2 * ( 1 / ( 2 * ( 2 |^ ( R4 + 1 ) ) ) ) ) by L1574 , L1572 , XXREAL_0:2;
L1576: ( dist (D233 , D234) ) < ( ( 2 * 1 ) / ( 2 * ( 2 |^ ( R4 + 1 ) ) ) ) by L1575 , XCMPLX_1:74;
L1577: ( dist (D233 , D234) ) < ( ( ( 2 / 2 ) * 1 ) / ( 2 |^ ( R4 + 1 ) ) ) by L1576 , XCMPLX_1:83;
L1578:
now
per cases ;
suppose L1579: R4 = ( 0 );

L1580: ( dist (D233 , D234) ) < ( 1 / 2 ) by L1579 , L1577 , NEWTON:5;
consider C277 being (Subset of D210) such that L1581: R17 = ( union { ( Ball (B235 , ( 1 / 2 )) ) where B235 is (Point of D210) : (B235 in ( C277 \ ( PartUnion (C277 , C255) ) ) & ( Ball (B235 , ( 3 / 2 )) ) c= C277) } ) and L1582: C277 in C253 by L1433 , L1563 , L1579;
consider C278 being set such that L1583: D233 in C278 and L1584: C278 in { ( Ball (B236 , ( 1 / 2 )) ) where B236 is (Point of D210) : (B236 in ( C277 \ ( PartUnion (C277 , C255) ) ) & ( Ball (B236 , ( 3 / 2 )) ) c= C277) } by L1568 , L1581 , TARSKI:def 4;
consider C279 being (Point of D210) such that L1585: C278 = ( Ball (C279 , ( 1 / 2 )) ) and L1586: C279 in ( C277 \ ( PartUnion (C277 , C255) ) ) and L1587: ( Ball (C279 , ( 3 / 2 )) ) c= C277 by L1584;
L1588: ( dist (C279 , D233) ) < ( 1 / 2 ) by L1583 , L1585 , METRIC_1:11;
L1589: ( ( dist (C279 , D233) ) + ( dist (D233 , D234) ) ) < ( ( 1 / 2 ) + ( 1 / 2 ) ) by L1588 , L1580 , XREAL_1:8;
L1590: ( dist (C279 , D234) ) <= ( ( dist (C279 , D233) ) + ( dist (D233 , D234) ) ) by METRIC_1:4;
L1591: ( dist (C279 , D234) ) < 1 by L1590 , L1589 , XXREAL_0:2;
consider C280 being (Subset of D210) such that L1592: R18 = ( union { ( Ball (B237 , ( 1 / 2 )) ) where B237 is (Point of D210) : (B237 in ( C280 \ ( PartUnion (C280 , C255) ) ) & ( Ball (B237 , ( 3 / 2 )) ) c= C280) } ) and L1593: C280 in C253 by L1433 , L1564 , L1579;
consider C281 being set such that L1594: D234 in C281 and L1595: C281 in { ( Ball (B238 , ( 1 / 2 )) ) where B238 is (Point of D210) : (B238 in ( C280 \ ( PartUnion (C280 , C255) ) ) & ( Ball (B238 , ( 3 / 2 )) ) c= C280) } by L1570 , L1592 , TARSKI:def 4;
consider C282 being (Point of D210) such that L1596: C281 = ( Ball (C282 , ( 1 / 2 )) ) and L1597: C282 in ( C280 \ ( PartUnion (C280 , C255) ) ) and L1598: ( Ball (C282 , ( 3 / 2 )) ) c= C280 by L1595;
L1599: ( dist (C279 , C282) ) <= ( ( dist (C279 , D234) ) + ( dist (D234 , C282) ) ) by METRIC_1:4;
L1600: ( dist (C282 , D234) ) < ( 1 / 2 ) by L1594 , L1596 , METRIC_1:11;
L1601: ( ( dist (C279 , D234) ) + ( dist (D234 , C282) ) ) < ( 1 + ( 1 / 2 ) ) by L1600 , L1591 , XREAL_1:8;
L1602: ( dist (C279 , C282) ) < ( 3 / 2 ) by L1601 , L1599 , XXREAL_0:2;
L1603: (C279 in ( Ball (C282 , ( 3 / 2 )) ) & C282 in ( Ball (C279 , ( 3 / 2 )) )) by L1602 , METRIC_1:11;
L1604: C277 = C280
proof
assume L1605: C277 <> C280;
L1606: C255 is_connected_in C253 by L1465 , WELLORD1:def 5;
L1607: ([ C277 , C280 ] in C255 or [ C280 , C277 ] in C255) by L1606 , L1582 , L1593 , L1605 , RELAT_2:def 6;
L1608: (C277 in ( C255 -Seg C280 ) or C280 in ( C255 -Seg C277 )) by L1607 , L1605 , WELLORD1:1;
L1609: (C282 in ( union ( C255 -Seg C280 ) ) or C279 in ( union ( C255 -Seg C277 ) )) by L1608 , L1587 , L1598 , L1603 , TARSKI:def 4;
L1610: (C282 in ( PartUnion (C280 , C255) ) or C279 in ( PartUnion (C277 , C255) )) by L1609 , PCOMPS_2:def 1;
thus L1611: thesis by L1610 , L1586 , L1597 , XBOOLE_0:def 5;
end;
thus L1612: R17 = R18 by L1604 , L1581 , L1592;
end;
suppose L1613: R4 > ( 0 );

consider C283 being Nat such that L1614: R4 = ( C283 + 1 ) by L1613 , NAT_1:6;
set D235 = ( 1 / ( 2 |^ R4 ) );
L1615: ( 3 * D235 ) = ( ( 3 * 1 ) / ( 2 |^ R4 ) ) by XCMPLX_1:74;
L1616: ( 2 |^ ( R4 + 1 ) ) = ( ( 2 |^ R4 ) * 2 ) by NEWTON:6;
L1617: (( 2 |^ R4 ) > ( 0 ) & ( 2 |^ ( R4 + 1 ) ) >= ( 2 |^ R4 )) by L1616 , PREPOWER:6 , XREAL_1:151;
L1618: ( 1 / ( 2 |^ ( R4 + 1 ) ) ) <= D235 by L1617 , XREAL_1:118;
L1619: ( dist (D233 , D234) ) < D235 by L1618 , L1577 , XXREAL_0:2;
reconsider D236 = C283 as (Element of ( NAT )) by ORDINAL1:def 12;
L1620: R17 in { ( union { H14(B240 , D236) where B240 is (Point of D210) : (S21[ B240 , B239 , D236 ] & (not B240 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) } ) where B239 is (Subset of D210) : S20[ B239 ] } by L1433 , L1563 , L1614;
consider C284 being (Subset of D210) such that L1621: (R17 = ( union { H14(B241 , D236) where B241 is (Point of D210) : (S21[ B241 , C284 , D236 ] & (not B241 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) } ) & S20[ C284 ]) by L1620;
consider C285 being set such that L1622: (D233 in C285 & C285 in { H14(B242 , D236) where B242 is (Point of D210) : (S21[ B242 , C284 , D236 ] & (not B242 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) }) by L1568 , L1621 , TARSKI:def 4;
consider C286 being (Point of D210) such that L1623: (C285 = H14(C286 , D236) & S21[ C286 , C284 , D236 ] & (not C286 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) by L1622;
L1624: ( dist (C286 , D233) ) < D235 by L1614 , L1622 , L1623 , METRIC_1:11;
L1625: ( ( dist (C286 , D233) ) + ( dist (D233 , D234) ) ) < ( D235 + D235 ) by L1624 , L1619 , XREAL_1:8;
L1626: ( dist (C286 , D234) ) <= ( ( dist (C286 , D233) ) + ( dist (D233 , D234) ) ) by METRIC_1:4;
L1627: ( dist (C286 , D234) ) < ( D235 + D235 ) by L1626 , L1625 , XXREAL_0:2;
L1628: R18 in { ( union { H14(B244 , D236) where B244 is (Point of D210) : (S21[ B244 , B243 , D236 ] & (not B244 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) } ) where B243 is (Subset of D210) : S20[ B243 ] } by L1433 , L1564 , L1614;
consider C287 being (Subset of D210) such that L1629: (R18 = ( union { H14(B245 , D236) where B245 is (Point of D210) : (S21[ B245 , C287 , D236 ] & (not B245 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) } ) & S20[ C287 ]) by L1628;
consider C288 being set such that L1630: (D234 in C288 & C288 in { H14(B246 , D236) where B246 is (Point of D210) : (S21[ B246 , C287 , D236 ] & (not B246 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) }) by L1570 , L1629 , TARSKI:def 4;
consider C289 being (Point of D210) such that L1631: (C288 = H14(C289 , D236) & S21[ C289 , C287 , D236 ] & (not C289 in ( union { ( union ( C258 . R2 ) ) where R2 is (Element of ( NAT )) : R2 <= D236 } ))) by L1630;
L1632: ( dist (C286 , C289) ) <= ( ( dist (C286 , D234) ) + ( dist (D234 , C289) ) ) by METRIC_1:4;
L1633: ( dist (C289 , D234) ) < D235 by L1614 , L1630 , L1631 , METRIC_1:11;
L1634: ( ( dist (C286 , D234) ) + ( dist (D234 , C289) ) ) < ( ( D235 + D235 ) + D235 ) by L1633 , L1627 , XREAL_1:8;
L1635: ( dist (C286 , C289) ) < ( 3 * D235 ) by L1634 , L1632 , XXREAL_0:2;
L1636: (C286 in ( Ball (C289 , ( 3 / ( 2 |^ ( D236 + 1 ) ) )) ) & C289 in ( Ball (C286 , ( 3 / ( 2 |^ ( D236 + 1 ) ) )) )) by L1635 , L1614 , L1615 , METRIC_1:11;
L1637: C284 = C287
proof
assume L1638: C284 <> C287;
L1639: C255 is_connected_in C253 by L1465 , WELLORD1:def 5;
L1640: ([ C284 , C287 ] in C255 or [ C287 , C284 ] in C255) by L1639 , L1621 , L1629 , L1638 , RELAT_2:def 6;
L1641: (C284 in ( C255 -Seg C287 ) or C287 in ( C255 -Seg C284 )) by L1640 , L1638 , WELLORD1:1;
L1642: (C289 in ( union ( C255 -Seg C287 ) ) or C286 in ( union ( C255 -Seg C284 ) )) by L1641 , L1623 , L1631 , L1636 , TARSKI:def 4;
L1643: (C289 in ( PartUnion (C287 , C255) ) or C286 in ( PartUnion (C284 , C255) )) by L1642 , PCOMPS_2:def 1;
thus L1644: thesis by L1643 , L1623 , L1631 , XBOOLE_0:def 5;
end;
thus L1645: R17 = R18 by L1637 , L1621 , L1629;
end;
end;
thus L1647: R17 = R18 by L1578;
end;
L1648: ( 0 ) < ( 2 |^ ( R4 + 2 ) ) by PREPOWER:6;
thus L1649: thesis by L1648 , L1562 , TBSP_1:11 , XREAL_1:139;
end;
thus L1650: thesis by L1560 , NAGATA_1:def 1;
end;
thus L1651: D214 is  sigma_discrete by L1559 , NAGATA_1:def 2;
end;
theorem
L1652: (for R12 being non  empty TopSpace holds (R12 is  metrizable implies (ex B247 being (FamilySequence of R12) st B247 is  Basis_sigma_discrete)))
proof
let R12 being non  empty TopSpace;
assume that
L1653: R12 is  metrizable;
consider C290 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , ( REAL )) such that L1654: C290 is_metric_of (the carrier of R12) and L1655: ( Family_open_set ( SpaceMetr ((the carrier of R12) , C290) ) ) = (the topology of R12) by L1653 , PCOMPS_1:def 8;
set D237 = ( bool ( bool (the carrier of R12) ) );
reconsider D238 = ( SpaceMetr ((the carrier of R12) , C290) ) as non  empty MetrSpace by L1654 , PCOMPS_1:36;
deffunc H15(set) = { ( Ball (B248 , ( 1 / ( 2 |^ ( In ($1 , ( NAT )) ) ) )) ) where B248 is (Point of D238) : B248 is (Point of D238) };
L1656: (for B249 being set holds (B249 in ( NAT ) implies H15(B249) in ( bool ( bool (the carrier of R12) ) )))
proof
let C291 being set;
assume L1657: C291 in ( NAT );
reconsider D239 = C291 as (Element of ( NAT )) by L1657;
L1658: H15(D239) c= ( bool (the carrier of R12) )
proof
L1659: ( In (D239 , ( NAT )) ) = D239 by FUNCT_7:def 1;
let C292 being set;
assume L1660: C292 in H15(D239);
L1661: (ex B250 being (Point of D238) st (C292 = ( Ball (B250 , ( 1 / ( 2 |^ D239 ) )) ) & B250 is (Point of D238))) by L1660 , L1659;
L1662: C292 in ( Family_open_set D238 ) by L1661 , PCOMPS_1:29;
thus L1663: thesis by L1662 , L1655;
end;
thus L1664: thesis by L1658;
end;
consider C293 being (FamilySequence of R12) such that L1665: (for B251 being set holds (B251 in ( NAT ) implies ( C293 . B251 ) = H15(B251))) from FUNCT_2:sch 2(L1656);
defpred S24[ set , set ] means (ex B252 being (FamilySequence of R12) st ($2 = B252 & ( Union B252 ) is  open & ( Union B252 ) is (Cover of R12) & ( Union B252 ) is_finer_than ( C293 . $1 ) & B252 is  sigma_discrete));
set D240 = ( TopSpaceMetr D238 );
L1666: D240 = TopStruct (# (the carrier of D238) , ( Family_open_set D238 ) #) by PCOMPS_1:def 5;
L1667: ( [#] R12 ) = ( [#] D240 ) by L1666 , L1654 , PCOMPS_2:4;
L1668: (for B253 being (Element of ( NAT )) holds (ex B254 being (Element of ( Funcs (( NAT ) , D237) )) st S24[ B253 , B254 ]))
proof
let C294 being (Element of ( NAT ));
L1669: C294 = ( In (C294 , ( NAT )) ) by FUNCT_7:def 1;
L1670:
now
let C295 being (Subset of R12);
assume L1671: C295 in ( C293 . C294 );
L1672: C295 in H15(C294) by L1671 , L1665;
L1673: (ex B255 being (Point of D238) st (C295 = ( Ball (B255 , ( 1 / ( 2 |^ C294 ) )) ) & B255 is (Point of D238))) by L1672 , L1669;
L1674: C295 in (the topology of R12) by L1673 , L1655 , PCOMPS_1:29;
thus L1675: C295 is  open by L1674 , PRE_TOPC:def 2;
end;
L1676: ( C293 . C294 ) is  open by L1670 , TOPS_2:def 1;
L1677: ( [#] D240 ) c= ( union ( C293 . C294 ) )
proof
let R8 being set;
assume L1678: R8 in ( [#] D240 );
reconsider D241 = R8 as (Element of D238) by L1678 , L1666;
L1679: ( 2 |^ C294 ) > ( 0 ) by NEWTON:83;
L1680: D241 in ( Ball (D241 , ( 1 / ( 2 |^ C294 ) )) ) by L1679 , TBSP_1:11 , XREAL_1:139;
L1681: ( Ball (D241 , ( 1 / ( 2 |^ C294 ) )) ) in H15(C294) by L1669;
L1682: ( Ball (D241 , ( 1 / ( 2 |^ C294 ) )) ) in ( C293 . C294 ) by L1681 , L1665;
thus L1683: thesis by L1682 , L1680 , TARSKI:def 4;
end;
L1684: ( union ( C293 . C294 ) ) c= ( [#] D240 )
proof
given R8 being set such that
L1685: R8 in ( union ( C293 . C294 ) )
and
L1686: (not R8 in ( [#] D240 ));

consider C296 being set such that L1687: R8 in C296 and L1688: C296 in ( C293 . C294 ) by L1685 , TARSKI:def 4;
L1689: C296 in H15(C294) by L1665 , L1688;
L1690: (ex B256 being (Point of D238) st (C296 = ( Ball (B256 , ( 1 / ( 2 |^ C294 ) )) ) & B256 is (Point of D238))) by L1689 , L1669;
thus L1691: thesis by L1690 , L1666 , L1686 , L1687;
end;
L1692: ( [#] D240 ) = ( union ( C293 . C294 ) ) by L1684 , L1677 , XBOOLE_0:def 10;
L1693: ( C293 . C294 ) is (Cover of R12) by L1692 , L1667 , SETFAM_1:45;
consider C297 being (FamilySequence of R12) such that L1694: (( Union C297 ) is  open & ( Union C297 ) is (Cover of R12) & ( Union C297 ) is_finer_than ( C293 . C294 ) & C297 is  sigma_discrete) by L1693 , L1653 , L1676 , L1414;
L1695: C297 in ( Funcs (( NAT ) , D237) ) by FUNCT_2:8;
thus L1696: thesis by L1695 , L1694;
end;
consider C298 being (Function of ( NAT ) , ( Funcs (( NAT ) , D237) )) such that L1697: (for B257 being (Element of ( NAT )) holds S24[ B257 , ( C298 . B257 ) ]) from FUNCT_2:sch 3(L1668);
defpred S25[ set , set ] means (for R4 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (( ( PairFunc ) . [ R4 , R3 ] ) = $1 implies (for B258 being (FamilySequence of R12) holds (B258 = ( C298 . R4 ) implies $2 = ( B258 . R3 ))))));
L1698: (for B259 being set holds (B259 in ( NAT ) implies (ex B260 being set st (B260 in D237 & S25[ B259 , B260 ]))))
proof
let C299 being set;
assume L1699: C299 in ( NAT );
reconsider D242 = C299 as (Element of ( NAT )) by L1699;
L1700: ( NAT ) = ( rng ( PairFunc ) ) by L57 , FUNCT_2:def 3;
consider C300 being set such that L1701: C300 in ( dom ( PairFunc ) ) and L1702: D242 = ( ( PairFunc ) . C300 ) by L1700 , FUNCT_1:def 3;
consider C301 , C302 being set such that L1703: C301 in ( NAT ) and L1704: C302 in ( NAT ) and L1705: C300 = [ C301 , C302 ] by L1701 , ZFMISC_1:def 2;
reconsider D243 = ( C298 . C301 ) as (FamilySequence of R12) by L1703 , FUNCT_2:5 , FUNCT_2:66;
take D244 = ( D243 . C302 );
L1706: ( dom D243 ) = ( NAT ) by PARTFUN1:def 2;
L1707: C302 in ( dom D243 ) by L1706 , L1704;
L1708: D244 in ( rng D243 ) by L1707 , FUNCT_1:3;
thus L1709: D244 in D237 by L1708;
L1710:
now
let C303 , C304 being (Element of ( NAT ));
assume that
L1711: ( ( PairFunc ) . [ C303 , C304 ] ) = C299;
L1712:
now
let C305 being (FamilySequence of R12);
assume that
L1713: C305 = ( C298 . C303 );
L1714: [ C301 , C302 ] = [ C303 , C304 ] by L1701 , L1702 , L1705 , L1711 , L57 , FUNCT_2:19;
L1715: C303 = C301 by L1714 , XTUPLE_0:1;
thus L1716: D244 = ( C305 . C304 ) by L1715 , L1713 , L1714 , XTUPLE_0:1;
end;
thus L1717: (for B261 being (FamilySequence of R12) holds (B261 = ( C298 . C303 ) implies D244 = ( B261 . C304 ))) by L1712;
end;
thus L1718: thesis by L1710;
end;
consider C306 being (Function of ( NAT ) , D237) such that L1719: (for B262 being set holds (B262 in ( NAT ) implies S25[ B262 , ( C306 . B262 ) ])) from FUNCT_2:sch 1(L1698);
L1720: (for R17 being (Subset of R12) holds (R17 is  open implies (for R15 being (Point of R12) holds (R15 in R17 implies (ex R18 being (Subset of R12) st (R18 in ( Union C306 ) & R15 in R18 & R18 c= R17))))))
proof
let R17 being (Subset of R12);
assume L1721: R17 is  open;
L1722: R17 in ( Family_open_set D238 ) by L1721 , L1655 , PRE_TOPC:def 2;
let R15 being (Point of R12);
assume that
L1723: R15 in R17;
reconsider D245 = R15 as (Element of D238) by L1723 , L1722;
consider R5 being Real such that L1724: R5 > ( 0 ) and L1725: ( Ball (D245 , R5) ) c= R17 by L1723 , L1722 , PCOMPS_1:def 4;
consider R4 being (Element of ( NAT )) such that L1726: ( 1 / ( 2 |^ R4 ) ) <= R5 by L1724 , PREPOWER:92;
consider C307 being (FamilySequence of R12) such that L1727: ( C298 . ( R4 + 1 ) ) = C307 and L1728: ( Union C307 ) is  open and L1729: ( Union C307 ) is (Cover of R12) and L1730: ( Union C307 ) is_finer_than ( C293 . ( R4 + 1 ) ) and L1731: C307 is  sigma_discrete by L1697;
L1732: ( union ( Union C307 ) ) = ( [#] R12 ) by L1729 , SETFAM_1:45;
consider C308 being set such that L1733: D245 in C308 and L1734: C308 in ( Union C307 ) by L1732 , TARSKI:def 4;
reconsider D246 = C308 as (Subset of D238) by L1654 , L1734 , PCOMPS_2:4;
consider C309 being set such that L1735: C309 in ( C293 . ( R4 + 1 ) ) and L1736: D246 c= C309 by L1730 , L1734 , SETFAM_1:def 2;
consider R2 being (Element of ( NAT )) such that L1737: D246 in ( C307 . R2 ) by L1734 , PROB_1:12;
L1738: (( R4 + 1 ) = ( In (( R4 + 1 ) , ( NAT )) ) & C309 in H15(( R4 + 1 ))) by L1665 , L1735 , FUNCT_7:def 1;
consider C310 being (Point of D238) such that L1739: C309 = ( Ball (C310 , ( 1 / ( 2 |^ ( R4 + 1 ) ) )) ) and L1740: C310 is (Element of D238) by L1738;
L1741:
now
let C311 being (Element of D238);
assume L1742: C311 in D246;
L1743: ( dist (C310 , C311) ) < ( 1 / ( 2 |^ ( R4 + 1 ) ) ) by L1742 , L1736 , L1739 , METRIC_1:11;
L1744: ( dist (C310 , D245) ) < ( 1 / ( 2 |^ ( R4 + 1 ) ) ) by L1733 , L1736 , L1739 , METRIC_1:11;
L1745: (( dist (D245 , C311) ) <= ( ( dist (C310 , D245) ) + ( dist (C310 , C311) ) ) & ( ( dist (C310 , D245) ) + ( dist (C310 , C311) ) ) < ( ( 1 / ( 2 |^ ( R4 + 1 ) ) ) + ( 1 / ( 2 |^ ( R4 + 1 ) ) ) )) by L1744 , L1743 , METRIC_1:4 , XREAL_1:8;
L1746: ( dist (D245 , C311) ) < ( 2 * ( 1 / ( 2 |^ ( R4 + 1 ) ) ) ) by L1745 , XXREAL_0:2;
L1747: ( dist (D245 , C311) ) < ( ( 1 / ( ( 2 |^ R4 ) * 2 ) ) * 2 ) by L1746 , NEWTON:6;
L1748: ( dist (D245 , C311) ) < ( 1 / ( 2 |^ R4 ) ) by L1747 , XCMPLX_1:92;
L1749: ( dist (D245 , C311) ) < R5 by L1748 , L1726 , XXREAL_0:2;
thus L1750: C311 in ( Ball (D245 , R5) ) by L1749 , METRIC_1:11;
end;
L1751: D246 c= ( Ball (D245 , R5) ) by L1741 , SUBSET_1:2;
L1752: ( C306 . ( ( PairFunc ) . [ ( R4 + 1 ) , R2 ] ) ) = ( C307 . R2 ) by L1719 , L1727;
L1753: D246 in ( Union C306 ) by L1752 , L1737 , PROB_1:12;
thus L1754: thesis by L1753 , L1725 , L1733 , L1751 , XBOOLE_1:1;
end;
L1755: (for R2 being (Element of ( NAT )) holds ( C306 . R2 ) is  discrete)
proof
let R2 being (Element of ( NAT ));
L1756: ( NAT ) = ( rng ( PairFunc ) ) by L57 , FUNCT_2:def 3;
consider C312 being set such that L1757: C312 in ( dom ( PairFunc ) ) and L1758: R2 = ( ( PairFunc ) . C312 ) by L1756 , FUNCT_1:def 3;
consider C313 , C314 being set such that L1759: C313 in ( NAT ) and L1760: C314 in ( NAT ) and L1761: C312 = [ C313 , C314 ] by L1757 , ZFMISC_1:def 2;
consider C315 being (FamilySequence of R12) such that L1762: ( C298 . C313 ) = C315 and L1763: ( Union C315 ) is  open and L1764: ( Union C315 ) is (Cover of R12) and L1765: ( Union C315 ) is_finer_than ( C293 . C313 ) and L1766: C315 is  sigma_discrete by L1697 , L1759;
L1767: ( dom C315 ) = ( NAT ) by PARTFUN1:def 2;
L1768: C314 in ( dom C315 ) by L1767 , L1760;
L1769: ( C315 . C314 ) in ( rng C315 ) by L1768 , FUNCT_1:3;
L1770: ( C315 . C314 ) in D237 by L1769;
reconsider D247 = ( C315 . C314 ) as (Subset-Family of R12) by L1770;
L1771: D247 is  discrete by L1760 , L1766 , NAGATA_1:def 2;
thus L1772: thesis by L1771 , L1719 , L1758 , L1759 , L1760 , L1761 , L1762;
end;
L1773: C306 is  sigma_discrete by L1755 , NAGATA_1:def 2;
L1774: ( Union C306 ) c= (the topology of R12)
proof
let C316 being set;
assume L1775: C316 in ( Union C306 );
consider R2 being (Element of ( NAT )) such that L1776: C316 in ( C306 . R2 ) by L1775 , PROB_1:12;
reconsider D248 = C316 as (Subset of R12) by L1776;
L1777: ( NAT ) = ( rng ( PairFunc ) ) by L57 , FUNCT_2:def 3;
consider C317 being set such that L1778: C317 in ( dom ( PairFunc ) ) and L1779: R2 = ( ( PairFunc ) . C317 ) by L1777 , FUNCT_1:def 3;
consider C318 , C319 being set such that L1780: C318 in ( NAT ) and L1781: C319 in ( NAT ) and L1782: C317 = [ C318 , C319 ] by L1778 , ZFMISC_1:def 2;
reconsider D249 = ( C298 . C318 ) as (FamilySequence of R12) by L1780 , FUNCT_2:5 , FUNCT_2:66;
L1783: C316 in ( D249 . C319 ) by L1719 , L1776 , L1779 , L1780 , L1781 , L1782;
L1784: C316 in ( Union D249 ) by L1783 , L1781 , PROB_1:12;
L1785: (ex B263 being (FamilySequence of R12) st (( C298 . C318 ) = B263 & ( Union B263 ) is  open & ( Union B263 ) is (Cover of R12) & ( Union B263 ) is_finer_than ( C293 . C318 ) & B263 is  sigma_discrete)) by L1697 , L1780;
L1786: D248 is  open by L1785 , L1784 , TOPS_2:def 1;
thus L1787: thesis by L1786 , PRE_TOPC:def 2;
end;
L1788: ( Union C306 ) is (Basis of R12) by L1774 , L1720 , YELLOW_9:32;
L1789: C306 is  Basis_sigma_discrete by L1788 , L1773 , NAGATA_1:def 5;
thus L1790: thesis by L1789;
end;
::$N Bing Theorem
theorem
L1791: (for R12 being non  empty TopSpace holds ((R12 is  regular & R12 is  T_1 & (ex B264 being (FamilySequence of R12) st B264 is  Basis_sigma_discrete)) iff R12 is  metrizable))
proof
let R12 being non  empty TopSpace;
L1792:
now
assume that
L1793: (R12 is  regular & R12 is  T_1)
and
L1794: (ex B265 being (FamilySequence of R12) st B265 is  Basis_sigma_discrete);
consider C320 being (FamilySequence of R12) such that L1795: C320 is  Basis_sigma_discrete by L1794;
L1796: C320 is  sigma_discrete by L1795 , NAGATA_1:def 5;
L1797: C320 is  sigma_locally_finite by L1796 , NAGATA_1:12;
L1798: ( Union C320 ) is (Basis of R12) by L1795 , NAGATA_1:def 5;
L1799: C320 is  Basis_sigma_locally_finite by L1798 , L1797 , NAGATA_1:def 6;
thus L1800: R12 is  metrizable by L1799 , L1793 , L825;
end;
thus L1801: thesis by L1792 , L1652 , NAGATA_1:15;
end;
