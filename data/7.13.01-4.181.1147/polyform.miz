:: Euler's Polyhedron Formula
::  by Jesse Alama
::
:: Received October 9, 2007
:: Copyright (c) 2007-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, TARSKI, FUNCT_1, CARD_1, RELAT_1, NAT_1, INT_1,
      XXREAL_0, SUBSET_1, ABIAN, ARYTM_3, ARYTM_1, NEWTON, POWER, FINSEQ_1,
      ORDINAL4, CARD_3, XBOOLE_0, BSPACE, FUNCT_2, ZFMISC_1, SUPINF_2,
      MESFUNC1, FUNCOP_1, PRE_POLY, RLVECT_5, FINSET_1, VECTSP_1, QC_LANG1,
      RLVECT_3, STRUCT_0, FINSEQ_2, RANKNULL, RLSUB_1, VECTSP10, ORDINAL2,
      POLYFORM, MSSUBFAM, UNIALG_1;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1, SUBSET_1, FUNCT_1, RELSET_1,
      FUNCT_2, BINOP_1, CARD_1, NUMBERS, FUNCOP_1, FINSET_1, XCMPLX_0,
      XXREAL_0, ORDINAL1, INT_1, CARD_2, FINSEQ_1, FINSEQ_2, POWER, RVSUM_1,
      NEWTON, ABIAN, STRUCT_0, RLVECT_1, GROUP_1, VECTSP_1, VECTSP_4, VECTSP_5,
      VECTSP_7, FVSUM_1, MATRLIN, VECTSP_9, RANKNULL, BSPACE, PRE_POLY,
      MOD_2;
 constructors VECTSP_9, REALSET1, FINSOP_1, FVSUM_1, BSPACE, REAL_1, BINOP_2,
      RANKNULL, VECTSP_7, VECTSP_5, NEWTON, GR_CY_1, ABIAN, POWER, CARD_2,
      RELSET_1, BINOP_1;
 registrations FINSET_1, XBOOLE_0, FUNCT_1, FUNCT_2, RELAT_1, SUBSET_1, NAT_1,
      INT_1, VECTSP_1, STRUCT_0, FINSEQ_1, FINSEQ_2, CARD_1, MATRLIN, BSPACE,
      ORDINAL1, NEWTON, FUNCOP_1, ABIAN, XREAL_0, NUMBERS, JORDAN23, PRE_POLY,
      XCMPLX_0, XXREAL_0, VALUED_0, PARTFUN1, RELSET_1;
 requirements NUMERALS, BOOLE, ARITHM, SUBSET, REAL;
 definitions XBOOLE_0, BINOP_1, STRUCT_0, TARSKI, FVSUM_1, FINSEQ_1, BSPACE,
      RANKNULL, ALGSTR_0;
 theorems XBOOLE_0, FUNCT_1, RELAT_1, XBOOLE_1, TARSKI, ZFMISC_1, FUNCT_2,
      GROUP_1, RLVECT_1, VECTSP_1, FVSUM_1, FINSEQ_2, CARD_1, FINSEQ_1, NAT_1,
      FINSOP_1, VECTSP_4, BSPACE, RANKNULL, VECTSP_9, ORDINAL1, NEWTON,
      RVSUM_1, GR_CY_1, FUNCOP_1, XREAL_1, XXREAL_0, INT_1, POWER, FIB_NUM2,
      NUMBERS, CARD_2, FINSEQ_3, SUBSET_1, MOD_2, MATRIX_3, CALCUL_1, RELSET_1;
 schemes FUNCT_2, FINSEQ_1, FINSEQ_2;

begin
theorem
L1: (for B1 , B2 , B3 being set holds (((ex B4 , B5 being set st (B4 <> B5 & B1 = { B4 , B5 })) & B2 in B1 & B3 in B1 & B2 <> B3) implies B1 = { B2 , B3 }))
proof
let C1 , C2 , C3 being set;
assume that
L2: (ex B6 , B7 being set st (B6 <> B7 & C1 = { B6 , B7 }))
and
L3: C2 in C1
and
L4: C3 in C1
and
L5: C2 <> C3;
consider C4 , C5 being set such that L6: C4 <> C5 and L7: C1 = { C4 , C5 } by L2;
L8: C1 c= { C2 , C3 }
proof
L9: (C3 = C4 or C3 = C5) by L4 , L7 , TARSKI:def 2;
L10: (C2 = C4 or C2 = C5) by L3 , L7 , TARSKI:def 2;
let C6 being set;
assume that
L11: C6 in C1;
per cases  by L7 , L11 , TARSKI:def 2;
suppose L12: C6 = C4;

thus L13: thesis by L12 , L5 , L10 , L9 , TARSKI:def 2;
end;
suppose L14: C6 = C5;

thus L15: thesis by L14 , L5 , L10 , L9 , TARSKI:def 2;
end;
end;
L17: { C2 , C3 } c= C1 by L3 , L4 , ZFMISC_1:32;
thus L18: thesis by L17 , L8 , XBOOLE_0:def 10;
end;
begin
canceled 1;
theorem
L19: (for R2 being Integer holds (1 <= R2 implies R2 is Nat))
proof
let R2 being Integer;
assume L20: 1 <= R2;
reconsider D1 = R2 as (Element of ( NAT )) by L20 , INT_1:3;
L21: D1 is Nat;
thus L22: thesis by L21;
end;
definition
let C7 being Integer;
let C8 being Nat;
redefine func C7 * C8 -> (Element of ( INT ));

coherence by INT_1:def 2;
end;
theorem
L24: 1 is  odd
proof
L25: 1 = ( (( 2 * (( 0 ) qua Nat) ) qua Nat) + 1 );
thus L26: thesis by L25;
end;
theorem
L27: 2 is  even
proof
L28: 2 = ( 2 * 1 );
thus L29: thesis by L28;
end;
theorem
L30: 3 is  odd
proof
L31: 3 = ( ( 2 * 1 ) + 1 );
thus L32: thesis by L31;
end;
theorem
L33: 4 is  even
proof
L34: 4 = ( 2 * 2 );
thus L35: thesis by L34;
end;
theorem
L36: (for R1 being Nat holds (R1 is  even implies ( ( - 1 ) |^ R1 ) = 1))
proof
let R1 being Nat;
assume L37: R1 is  even;
reconsider D2 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
L38: ( ( - 1 ) |^ D2 ) = ( ( - 1 ) to_power D2 ) by POWER:41;
thus L39: thesis by L38 , L37 , FIB_NUM2:3;
end;
theorem
L40: (for R1 being Nat holds (R1 is  odd implies ( ( - 1 ) |^ R1 ) = ( - 1 )))
proof
let R1 being Nat;
assume L41: R1 is  odd;
reconsider D3 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
L42: ( ( - 1 ) |^ D3 ) = ( ( - 1 ) to_power D3 ) by POWER:41;
thus L43: thesis by L42 , L41 , FIB_NUM2:2;
end;
theorem
L44: (for R1 being Nat holds ( ( - 1 ) |^ R1 ) is Integer)
proof
let R1 being Nat;
per cases ;
suppose L45: R1 is  even;

thus L46: thesis by L45 , L36;
end;
suppose L47: R1 is  odd;

thus L48: thesis by L47 , L40;
end;
end;
definition
let C9 being Integer;
let C10 being Nat;
redefine func C9 |^ C10 -> (Element of ( INT ));

coherence
proof
consider C11 being (Element of ( NAT )) such that L50: (C9 = C11 or C9 = ( - C11 )) by INT_1:2;
per cases  by L50;
suppose L51: C9 = C11;

reconsider D4 = C9 as (Element of ( NAT )) by L51;
reconsider D5 = ( D4 |^ C10 ) as (Element of ( NAT )) by ORDINAL1:def 12;
L52: D5 in ( NAT );
thus L53: thesis by L52 , NUMBERS:17;
end;
suppose L54: C9 = ( - C11 );

reconsider D6 = ( C11 |^ C10 ) as (Element of ( NAT )) by ORDINAL1:def 12;
L55: ( ( - 1 ) |^ C10 ) is Integer by L44;
reconsider D7 = ( ( - 1 ) |^ C10 ) as (Element of ( INT )) by L55 , INT_1:def 2;
L56: ( - C11 ) = ( ( - 1 ) * C11 );
L57: ( C9 |^ C10 ) = ( D7 * D6 ) by L56 , L54 , NEWTON:7;
thus L58: thesis by L57;
end;
end;
end;
L61: (for B8 being (Element of ( NAT )) holds (( 0 ) < B8 implies ( (( 0 ) qua Nat) + 1 ) <= B8)) by NAT_1:13;
theorem
L62: (for B9 , B10 , B11 being FinSequence holds ( len ( B9 ^ B10 ) ) <= ( len ( B9 ^ ( B10 ^ B11 ) ) ))
proof
let C12 , C13 , C14 being FinSequence;
L63: ( len ( ( C12 ^ C13 ) ^ C14 ) ) = ( len ( C12 ^ ( C13 ^ C14 ) ) ) by FINSEQ_1:32;
thus L64: thesis by L63 , CALCUL_1:6;
end;
theorem
L65: (for R1 being Nat holds 1 < ( R1 + 2 ))
proof
let R1 being Nat;
L66: (( 0 ) < ( R1 + 1 ) implies 1 < ( R1 + 2 ))
proof
assume L67: ( 0 ) < ( R1 + 1 );
L68: ( (( 0 ) qua Nat) + 1 ) = 1;
thus L69: thesis by L68 , XREAL_1:8;
end;
thus L70: thesis by L66;
end;
theorem
L71: ( ( - 1 ) |^ 2 ) = 1
proof
L72: ( ( - 1 ) |^ 2 ) = ( ( - 1 ) |^ ( 1 + 1 ) )
.= ( ( ( - 1 ) |^ 1 ) * ( ( - 1 ) |^ 1 ) ) by NEWTON:8
.= ( ( ( - 1 ) |^ 1 ) * ( - 1 ) ) by NEWTON:5
.= ( ( - 1 ) * ( - 1 ) ) by NEWTON:5;
thus L73: thesis by L72;
end;
theorem
L74: (for B12 being Nat holds ( ( - 1 ) |^ B12 ) = ( ( - 1 ) |^ ( B12 + 2 ) ))
proof
let C15 being Nat;
L75: ( ( - 1 ) |^ ( C15 + 2 ) ) = ( ( ( - 1 ) |^ C15 ) * ( ( - 1 ) |^ 2 ) ) by NEWTON:8
.= ( ( - 1 ) |^ C15 ) by L71;
thus L76: thesis by L75;
end;
begin
theorem
L77: (for B13 , B14 , B15 being (FinSequence of ( INT )) holds ((( len B15 ) > ( 0 ) & ( len B13 ) = ( len B15 ) & ( len B14 ) = ( len B15 ) & (for B16 being Nat holds ((1 <= B16 & B16 <= ( len B15 )) implies ( B15 . B16 ) = ( ( B13 . B16 ) + ( B14 . B16 ) ))) & (for B17 being Nat holds ((1 <= B17 & B17 < ( len B15 )) implies ( B14 . B17 ) = ( - ( B13 . ( B17 + 1 ) ) )))) implies ( Sum B15 ) = ( ( B13 . 1 ) + ( B14 . ( len B15 ) ) )))
proof
defpred S1[ (FinSequence of ( INT )) ] means (( len $1 ) > ( 0 ) implies (for B18 , B19 being (FinSequence of ( INT )) holds ((( len B18 ) = ( len $1 ) & ( len B19 ) = ( len $1 ) & (for B20 being Nat holds ((1 <= B20 & B20 <= ( len $1 )) implies ( $1 . B20 ) = ( ( B18 . B20 ) + ( B19 . B20 ) ))) & (for B21 being Nat holds ((1 <= B21 & B21 < ( len $1 )) implies ( B19 . B21 ) = ( - ( B18 . ( B21 + 1 ) ) )))) implies ( Sum $1 ) = ( ( B18 . 1 ) + ( B19 . ( len $1 ) ) ))));
L78: (for B22 being (FinSequence of ( INT )) holds (for B23 being (Element of ( INT )) holds (S1[ B22 ] implies S1[ ( B22 ^ <* B23 *> ) ])))
proof
let C16 being (FinSequence of ( INT ));
let C17 being (Element of ( INT ));
assume that
L79: S1[ C16 ];
set D8 = ( C16 ^ <* C17 *> );
assume L80: ( len D8 ) > ( 0 );
let C18 , C19 being (FinSequence of ( INT ));
assume that
L81: ( len C18 ) = ( len D8 )
and
L82: ( len C19 ) = ( len D8 )
and
L83: (for B24 being Nat holds ((1 <= B24 & B24 <= ( len D8 )) implies ( D8 . B24 ) = ( ( C18 . B24 ) + ( C19 . B24 ) )))
and
L84: (for B25 being Nat holds ((1 <= B25 & B25 < ( len D8 )) implies ( C19 . B25 ) = ( - ( C18 . ( B25 + 1 ) ) )));
L85: ( Sum D8 ) = ( ( Sum C16 ) + C17 ) by RVSUM_1:74;
per cases ;
suppose L86: ( len C16 ) = ( 0 );

reconsider D9 = 1 as Nat;
L87: C16 = ( {} ) by L86;
L88: D8 = <* C17 *> by L87 , FINSEQ_1:34;
L89: D9 <= ( len D8 ) by L88 , FINSEQ_1:39;
L90: ( D8 . D9 ) = ( ( C18 . D9 ) + ( C19 . D9 ) ) by L89 , L83;
L91: C16 = ( {} ) by L86;
L92: ( len D8 ) = 1 by L88 , FINSEQ_1:39;
thus L93: thesis by L92 , L85 , L91 , L88 , L90 , FINSEQ_1:40 , GR_CY_1:3;
end;
suppose L94: ( len C16 ) > ( 0 );

set D10 = ( len C16 );
set D11 = ( C18 | D10 );
L95: ( D11 . 1 ) = ( C18 . 1 )
proof
reconsider D12 = 1 as (Element of ( NAT ));
L96: ( (( 0 ) qua Nat) + 1 ) = 1;
L97: D12 <= ( len C16 ) by L96 , L94 , INT_1:7;
thus L98: thesis by L97 , FINSEQ_3:112;
end;
set D13 = ( C19 | D10 );
L99: ( C19 . ( len C16 ) ) = ( D13 . ( len C16 ) ) by FINSEQ_3:112;
L100: (for B26 being Nat holds ((1 <= B26 & B26 < ( len C16 )) implies ( D13 . B26 ) = ( - ( D11 . ( B26 + 1 ) ) )))
proof
let C20 being Nat;
assume that
L101: 1 <= C20
and
L102: C20 < ( len C16 );
reconsider D14 = C20 as (Element of ( NAT )) by ORDINAL1:def 12;
L103: ( D13 . D14 ) = ( C19 . D14 ) by L102 , FINSEQ_3:112;
L104: ( D14 + 1 ) <= ( len C16 ) by L102 , INT_1:7;
L105: ( D11 . ( D14 + 1 ) ) = ( C18 . ( D14 + 1 ) ) by L104 , FINSEQ_3:112;
L106: ( len C16 ) <= ( len D8 ) by CALCUL_1:6;
L107: D14 < ( len D8 ) by L106 , L102 , XXREAL_0:2;
thus L108: thesis by L107 , L84 , L101 , L103 , L105;
end;
L109: (for B27 being Nat holds ((1 <= B27 & B27 <= ( len C16 )) implies ( C16 . B27 ) = ( ( D11 . B27 ) + ( D13 . B27 ) )))
proof
let C21 being Nat;
assume that
L110: 1 <= C21
and
L111: C21 <= ( len C16 );
L112: ( dom C16 ) = ( Seg ( len C16 ) ) by FINSEQ_1:def 3;
L113: C21 in ( dom C16 ) by L112 , L110 , L111 , FINSEQ_1:1;
L114: ( len C16 ) <= ( len D8 ) by CALCUL_1:6;
L115: C21 <= ( len D8 ) by L114 , L111 , XXREAL_0:2;
reconsider D15 = C21 as (Element of ( NAT )) by ORDINAL1:def 12;
L116: ( C16 . D15 ) = ( D8 . D15 ) by L113 , FINSEQ_1:def 7
.= ( ( C18 . D15 ) + ( C19 . D15 ) ) by L83 , L110 , L115
.= ( ( D11 . D15 ) + ( C19 . D15 ) ) by L111 , FINSEQ_3:112
.= ( ( D11 . D15 ) + ( D13 . D15 ) ) by L111 , FINSEQ_3:112;
thus L117: thesis by L116;
end;
L118: 1 <= ( len C16 ) by L94 , L61;
L119: ( len <* C17 *> ) = 1 by FINSEQ_1:39;
L120: ( len D8 ) = ( ( len C16 ) + 1 ) by L119 , FINSEQ_1:22;
L121: ( (( 0 ) qua Nat) + ( len C16 ) ) = ( len C16 );
L122: ( len C16 ) < ( len D8 ) by L121 , L120 , XREAL_1:6;
L123: ( C19 . ( len C16 ) ) = ( - ( C18 . ( ( len C16 ) + 1 ) ) ) by L122 , L84 , L118;
L124: ( (( 0 ) qua Nat) + 1 ) = 1;
L125: 1 <= ( len D8 ) by L124 , L120 , XREAL_1:6;
L126: C17 = ( D8 . ( ( len C16 ) + 1 ) ) by FINSEQ_1:42
.= ( ( - ( D13 . ( len C16 ) ) ) + ( C19 . ( len D8 ) ) ) by L83 , L120 , L125 , L123 , L99;
L127: D10 <= ( len C19 ) by L82 , CALCUL_1:6;
L128: ( len D13 ) = ( len C16 ) by L127 , FINSEQ_1:59;
L129: D10 <= ( len C18 ) by L81 , CALCUL_1:6;
L130: ( len D11 ) = ( len C16 ) by L129 , FINSEQ_1:59;
L131: ( Sum C16 ) = ( ( D11 . 1 ) + ( D13 . ( len C16 ) ) ) by L130 , L79 , L94 , L128 , L109 , L100;
thus L132: thesis by L131 , L85 , L95 , L126;
end;
end;
L134: S1[ ( <*> ( INT ) ) ];
L135: (for B28 being (FinSequence of ( INT )) holds S1[ B28 ]) from FINSEQ_2:sch 2(L134 , L78);
let C22 , C23 , C24 being (FinSequence of ( INT ));
assume L136: (( len C24 ) > ( 0 ) & ( len C22 ) = ( len C24 ) & ( len C23 ) = ( len C24 ) & (for B29 being Nat holds ((1 <= B29 & B29 <= ( len C24 )) implies ( C24 . B29 ) = ( ( C22 . B29 ) + ( C23 . B29 ) ))) & (for B30 being Nat holds ((1 <= B30 & B30 < ( len C24 )) implies ( C23 . B30 ) = ( - ( C22 . ( B30 + 1 ) ) ))));
thus L137: thesis by L136 , L135;
end;
theorem
L138: (for B31 , B32 , B33 being FinSequence holds ( len ( ( B31 ^ B32 ) ^ B33 ) ) = ( ( ( len B31 ) + ( len B32 ) ) + ( len B33 ) ))
proof
let C25 , C26 , C27 being FinSequence;
L139: ( len ( ( C25 ^ C26 ) ^ C27 ) ) = ( ( len ( C25 ^ C26 ) ) + ( len C27 ) ) by FINSEQ_1:22
.= ( ( ( len C25 ) + ( len C26 ) ) + ( len C27 ) ) by FINSEQ_1:22;
thus L140: thesis by L139;
end;
theorem
L141: (for B34 being set holds (for B35 , B36 being FinSequence holds ( ( ( <* B34 *> ^ B35 ) ^ B36 ) . 1 ) = B34))
proof
let C28 being set;
let C29 , C30 being FinSequence;
L142: ( ( <* C28 *> ^ C29 ) ^ C30 ) = ( <* C28 *> ^ ( C29 ^ C30 ) ) by FINSEQ_1:32;
thus L143: thesis by L142 , FINSEQ_1:41;
end;
theorem
L144: (for B37 being set holds (for B38 , B39 being FinSequence holds ( ( ( B38 ^ B39 ) ^ <* B37 *> ) . ( ( ( len B38 ) + ( len B39 ) ) + 1 ) ) = B37))
proof
let C31 being set;
let C32 , C33 being FinSequence;
set D16 = ( C32 ^ C33 );
L145: ( ( D16 ^ <* C31 *> ) . ( ( len D16 ) + 1 ) ) = C31 by FINSEQ_1:42;
thus L146: thesis by L145 , FINSEQ_1:22;
end;
theorem
L147: (for B40 , B41 , B42 being FinSequence holds (for B43 being Nat holds ((( len B40 ) < B43 & B43 <= ( len ( B40 ^ B41 ) )) implies ( ( ( B40 ^ B41 ) ^ B42 ) . B43 ) = ( B41 . ( B43 - ( len B40 ) ) ))))
proof
let C34 , C35 , C36 being FinSequence;
let C37 being Nat;
assume that
L148: ( len C34 ) < C37
and
L149: C37 <= ( len ( C34 ^ C35 ) );
set D17 = ( C37 - ( len C34 ) );
L150: ( ( len C34 ) - ( len C34 ) ) = ( 0 );
L151: ( 0 ) < D17 by L150 , L148 , XREAL_1:9;
L152: ( (( 0 ) qua Nat) + 1 ) = 1;
L153: 1 <= D17 by L152 , L151 , INT_1:7;
reconsider D18 = D17 as Nat by L153 , L19;
L154: ( ( ( len C34 ) + ( len C35 ) ) - ( len C34 ) ) = ( len C35 );
L155: C37 <= ( ( len C34 ) + ( len C35 ) ) by L149 , FINSEQ_1:22;
L156: D18 <= ( len C35 ) by L155 , L154 , XREAL_1:9;
L157: D18 in ( Seg ( len C35 ) ) by L156 , L153 , FINSEQ_1:1;
L158: D18 in ( dom C35 ) by L157 , FINSEQ_1:def 3;
L159: ( len ( C34 ^ C35 ) ) <= ( len ( C34 ^ ( C35 ^ C36 ) ) ) by L62;
L160: C37 <= ( len ( C34 ^ ( C35 ^ C36 ) ) ) by L159 , L149 , XXREAL_0:2;
L161: ( ( C34 ^ ( C35 ^ C36 ) ) . C37 ) = ( ( C35 ^ C36 ) . ( C37 - ( len C34 ) ) ) by L160 , L148 , FINSEQ_1:24;
reconsider D19 = D18 as (Element of ( NAT )) by ORDINAL1:def 12;
L162: ( ( C35 ^ C36 ) . D19 ) = ( C35 . D19 ) by L158 , FINSEQ_1:def 7;
thus L163: thesis by L162 , L161 , FINSEQ_1:32;
end;
definition
let C38 being Integer;
redefine func <*C38 *> -> (FinSequence of ( INT ));

coherence
proof
set D20 = <* C38 *>;
L164: C38 in ( INT ) by INT_1:def 2;
L165: (( rng D20 ) = { C38 } & { C38 } c= ( INT )) by L164 , FINSEQ_1:38 , ZFMISC_1:31;
thus L166: thesis by L165 , FINSEQ_1:def 4;
end;
end;
definition
let C39 , C40 being Integer;
redefine func <*C39 , C40 *> -> (FinSequence of ( INT ));

coherence
proof
set D21 = <* C39 , C40 *>;
L168: (C39 in ( INT ) & C40 in ( INT )) by INT_1:def 2;
L169: (( rng D21 ) = { C39 , C40 } & { C39 , C40 } c= ( INT )) by L168 , FINSEQ_2:127 , ZFMISC_1:32;
thus L170: thesis by L169 , FINSEQ_1:def 4;
end;
end;
definition
let C41 , C42 , C43 being Integer;
redefine func <*C41 , C42 , C43 *> -> (FinSequence of ( INT ));

coherence
proof
set D22 = <* C41 , C42 , C43 *>;
L172: C43 in ( INT ) by INT_1:def 2;
L173: (C41 in ( INT ) & C42 in ( INT )) by INT_1:def 2;
L174: (( rng D22 ) = { C41 , C42 , C43 } & { C41 , C42 , C43 } c= ( INT )) by L173 , L172 , FINSEQ_2:128 , ZFMISC_1:133;
thus L175: thesis by L174 , FINSEQ_1:def 4;
end;
end;
definition
let C44 , C45 being (FinSequence of ( INT ));
redefine func C44 ^ C45 -> (FinSequence of ( INT ));

coherence by FINSEQ_1:75;
end;
theorem
L178: (for B44 being Integer holds (for B45 being (FinSequence of ( INT )) holds ( Sum ( <* B44 *> ^ B45 ) ) = ( B44 + ( Sum B45 ) )))
proof
let C46 being Integer;
let C47 being (FinSequence of ( INT ));
reconsider D23 = C46 as (Element of ( INT )) by INT_1:def 2;
L179: ( Sum ( <* D23 *> ^ C47 ) ) = ( ( Sum C47 ) + ( Sum <* D23 *> ) ) by RVSUM_1:75
.= ( Sum ( C47 ^ <* D23 *> ) ) by RVSUM_1:75
.= ( D23 + ( Sum C47 ) ) by RVSUM_1:74;
thus L180: thesis by L179;
end;
theorem
L181: (for B46 , B47 , B48 being (FinSequence of ( INT )) holds ( Sum ( ( B46 ^ B47 ) ^ B48 ) ) = ( ( ( Sum B46 ) + ( Sum B47 ) ) + ( Sum B48 ) ))
proof
let C48 , C49 , C50 being (FinSequence of ( INT ));
L182: ( Sum ( ( C48 ^ C49 ) ^ C50 ) ) = ( ( Sum ( C48 ^ C49 ) ) + ( Sum C50 ) ) by RVSUM_1:75
.= ( ( ( Sum C48 ) + ( Sum C49 ) ) + ( Sum C50 ) ) by RVSUM_1:75;
thus L183: thesis by L182;
end;
theorem
L184: (for B49 being (Element of ( Z_2 )) holds ( Sum <* B49 *> ) = B49) by FINSOP_1:11;
begin
definition
let C51 , C52 being set;
mode incidence-matrix of C51 , C52
 is (Element of ( Funcs ([: C51 , C52 :] , { ( 0. ( Z_2 ) ) , ( 1. ( Z_2 ) ) }) ));
end;
theorem
L186: (for B50 , B51 being set holds ( [: B50 , B51 :] --> ( 1. ( Z_2 ) ) ) is (incidence-matrix of B50 , B51))
proof
let C53 , C54 being set;
set D24 = ( [: C53 , C54 :] --> ( 1. ( Z_2 ) ) );
L187: (( rng D24 ) c= { ( 1. ( Z_2 ) ) } & { ( 1. ( Z_2 ) ) } c= { ( 0. ( Z_2 ) ) , ( 1. ( Z_2 ) ) }) by FUNCOP_1:13 , ZFMISC_1:7;
L188: (( dom D24 ) = [: C53 , C54 :] & ( rng D24 ) c= { ( 0. ( Z_2 ) ) , ( 1. ( Z_2 ) ) }) by L187 , FUNCOP_1:13 , XBOOLE_1:1;
thus L189: thesis by L188 , FUNCT_2:def 2;
end;
definition
struct PolyhedronStr(# PolytopsF ->  FinSequence-yielding FinSequence , IncidenceF ->  Function-yielding FinSequence #);
end;
definition
let C55 being PolyhedronStr;
attr C55 is  polyhedron_1
means
:L191: ( len (the IncidenceF of C55) ) = ( ( len (the PolytopsF of C55) ) - 1 );
attr C55 is  polyhedron_2
means
:L192: (for B52 being Nat holds ((1 <= B52 & B52 < ( len (the PolytopsF of C55) )) implies ( (the IncidenceF of C55) . B52 ) is (incidence-matrix of ( rng ( (the PolytopsF of C55) . B52 ) ) , ( rng ( (the PolytopsF of C55) . ( B52 + 1 ) ) ))));
attr C55 is  polyhedron_3
means
:L193: (for B53 being Nat holds ((1 <= B53 & B53 <= ( len (the PolytopsF of C55) )) implies (( (the PolytopsF of C55) . B53 ) is non  empty & ( (the PolytopsF of C55) . B53 ) is  one-to-one)));
end;
registration
cluster  polyhedron_1  polyhedron_2  polyhedron_3 for PolyhedronStr;
existence
proof
reconsider D25 = ( <*> ( {} ) ) as  Function-yielding FinSequence;
reconsider D26 = <* <* ( {} ) *> *> as  FinSequence-yielding FinSequence;
take D27 = PolyhedronStr (# D26 , D25 #);
L195: ( len D26 ) = 1 by FINSEQ_1:39;
L196: ( len D25 ) = ( 1 - 1 );
thus L197: D27 is  polyhedron_1 by L196 , L195 , L191;
L198: (for B54 being Nat holds ((1 <= B54 & B54 < 1) implies ( D25 . B54 ) is (incidence-matrix of ( rng ( D26 . B54 ) ) , ( rng ( D26 . ( B54 + 1 ) ) ))));
thus L199: D27 is  polyhedron_2 by L198 , L195 , L192;
let C56 being Nat;
assume L200: (1 <= C56 & C56 <= ( len (the PolytopsF of D27) ));
L201: C56 = 1 by L200 , L195 , XXREAL_0:1;
thus L202: thesis by L201 , FINSEQ_1:def 8;
end;
end;
definition
mode polyhedron
 is  polyhedron_1  polyhedron_2  polyhedron_3 PolyhedronStr;
end;
definition
let C57 being polyhedron;
func dim C57 -> (Element of ( NAT )) equals 
( len (the PolytopsF of C57) );
coherence;
end;
definition
let C58 being polyhedron;
let C59 being Integer;
func C59 -polytopes C58 ->  finite set means 
:L206: ((C59 < ( - 1 ) implies it = ( {} )) & (C59 = ( - 1 ) implies it = { ( {} ) }) & ((( - 1 ) < C59 & C59 < ( dim C58 )) implies it = ( rng ( (the PolytopsF of C58) . ( C59 + 1 ) ) )) & (C59 = ( dim C58 ) implies it = { C58 }) & (C59 > ( dim C58 ) implies it = ( {} )));
existence
proof
set D28 = (the PolytopsF of C58);
per cases  by XXREAL_0:1;
suppose L207: C59 < ( - 1 );

take ( {} );
thus L208: thesis by L207;
end;
suppose L209: C59 = ( - 1 );

take { ( {} ) };
thus L210: thesis by L209;
end;
suppose L211: (( - 1 ) < C59 & C59 < ( dim C58 ));

L212: ( ( - 1 ) + 1 ) = ( 0 );
L213: ( 0 ) <= C59 by L212 , L211 , INT_1:7;
reconsider D29 = C59 as (Element of ( NAT )) by L213 , INT_1:3;
set D30 = ( D29 + 1 );
reconsider D31 = ( D28 . D30 ) as FinSequence;
take ( rng D31 );
thus L214: thesis by L211;
end;
suppose L215: C59 = ( dim C58 );

take { C58 };
thus L216: thesis by L215;
end;
suppose L217: C59 > ( dim C58 );

take ( {} );
thus L218: thesis by L217;
end;
end;
uniqueness
proof
set D32 = (the PolytopsF of C58);
let C60 , C61 being  finite set;
assume that
L220: (C59 < ( - 1 ) implies C60 = ( {} ))
and
L221: (C59 = ( - 1 ) implies C60 = { ( {} ) })
and
L222: ((( - 1 ) < C59 & C59 < ( dim C58 )) implies C60 = ( rng ( D32 . ( C59 + 1 ) ) ))
and
L223: (C59 = ( dim C58 ) implies C60 = { C58 })
and
L224: (C59 > ( dim C58 ) implies C60 = ( {} ))
and
L225: (C59 < ( - 1 ) implies C61 = ( {} ))
and
L226: (C59 = ( - 1 ) implies C61 = { ( {} ) })
and
L227: ((( - 1 ) < C59 & C59 < ( dim C58 )) implies C61 = ( rng ( D32 . ( C59 + 1 ) ) ))
and
L228: (C59 = ( dim C58 ) implies C61 = { C58 })
and
L229: (C59 > ( dim C58 ) implies C61 = ( {} ));
per cases  by XXREAL_0:1;
suppose L230: C59 < ( - 1 );

thus L231: thesis by L230 , L220 , L225;
end;
suppose L232: C59 = ( - 1 );

thus L233: thesis by L232 , L221 , L226;
end;
suppose L234: (( - 1 ) < C59 & C59 < ( dim C58 ));

thus L235: thesis by L234 , L222 , L227;
end;
suppose L236: C59 = ( dim C58 );

thus L237: thesis by L236 , L223 , L228;
end;
suppose L238: C59 > ( dim C58 );

thus L239: thesis by L238 , L224 , L229;
end;
end;
end;
theorem
L242: (for R3 being polyhedron holds (for R4 being Integer holds ((( - 1 ) < R4 & R4 < ( dim R3 )) implies (( R4 + 1 ) is Nat & 1 <= ( R4 + 1 ) & ( R4 + 1 ) <= ( dim R3 )))))
proof
let R3 being polyhedron;
let R4 being Integer;
L243: ( ( - 1 ) + 1 ) = ( 0 );
assume L244: ( - 1 ) < R4;
L245: ( 0 ) < ( R4 + 1 ) by L244 , L243 , XREAL_1:6;
reconsider D33 = ( R4 + 1 ) as (Element of ( NAT )) by L245 , INT_1:3;
L246: (D33 is Nat & ( (( 0 ) qua Nat) + 1 ) = 1);
assume L247: R4 < ( dim R3 );
thus L248: thesis by L247 , L245 , L246 , INT_1:7;
end;
theorem
L249: (for R3 being polyhedron holds (for R4 being Integer holds (( R4 -polytopes R3 ) is non  empty iff (( - 1 ) <= R4 & R4 <= ( dim R3 )))))
proof
let R3 being polyhedron;
let R4 being Integer;
set D34 = ( R4 -polytopes R3 );
thus L250: (D34 is non  empty implies (( - 1 ) <= R4 & R4 <= ( dim R3 ))) by L206;
thus L251: ((( - 1 ) <= R4 & R4 <= ( dim R3 )) implies ( R4 -polytopes R3 ) is non  empty)
proof
assume L252: ( - 1 ) <= R4;
assume L253: R4 <= ( dim R3 );
per cases  by L252 , L253 , XXREAL_0:1;
suppose L254: R4 = ( - 1 );

thus L255: thesis by L254 , L206;
end;
suppose L256: (( - 1 ) < R4 & R4 < ( dim R3 ));

set D35 = (the PolytopsF of R3);
L257: ( R4 -polytopes R3 ) = ( rng ( D35 . ( R4 + 1 ) ) ) by L256 , L206;
set D36 = ( R4 + 1 );
L258: 1 <= D36 by L256 , L242;
L259: D36 <= ( dim R3 ) by L256 , L242;
reconsider D37 = D36 as (Element of ( NAT )) by L258 , INT_1:3;
reconsider D38 = D37 as Nat;
L260: ( D35 . D38 ) is non  empty by L258 , L259 , L193;
thus L261: thesis by L260 , L257;
end;
suppose L262: R4 = ( dim R3 );

L263: ( R4 -polytopes R3 ) = { R3 } by L262 , L206;
thus L264: thesis by L263;
end;
end;

end;
theorem
L252: (for R3 being polyhedron holds (for R4 being Integer holds (R4 < ( dim R3 ) implies ( R4 - 1 ) < ( dim R3 )))) by XREAL_1:146 , XXREAL_0:2;
definition
let C62 being polyhedron;
let C63 being Integer;
func eta (C62 , C63) -> (incidence-matrix of ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 )) means 
:L253: ((C63 < ( 0 ) implies it = ( {} )) & (C63 = ( 0 ) implies it = ( [: { ( {} ) } , ( ( 0 ) -polytopes C62 ) :] --> ( 1. ( Z_2 ) ) )) & ((( 0 ) < C63 & C63 < ( dim C62 )) implies it = ( (the IncidenceF of C62) . C63 )) & (C63 = ( dim C62 ) implies it = ( [: ( ( ( dim C62 ) - 1 ) -polytopes C62 ) , { C62 } :] --> ( 1. ( Z_2 ) ) )) & (C63 > ( dim C62 ) implies it = ( {} )));
existence
proof
per cases  by XXREAL_0:1;
suppose L254: C63 < ( 0 );

set D39 = ( {} );
reconsider D40 = D39 as Function;
L255: ( C63 - 1 ) < ( (( 0 ) qua Nat) - 1 ) by L254 , XREAL_1:9;
L256: ( ( C63 - 1 ) -polytopes C62 ) = ( {} ) by L255 , L206;
L257: [: ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 ) :] = ( {} ) by L256 , ZFMISC_1:90;
reconsider D41 = D40 as (Function of [: ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 ) :] , { ( 0. ( Z_2 ) ) , ( 1. ( Z_2 ) ) }) by L257 , RELSET_1:12;
reconsider D42 = D41 as (Element of ( Funcs ([: ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 ) :] , { ( 0. ( Z_2 ) ) , ( 1. ( Z_2 ) ) }) )) by FUNCT_2:8;
take D42;
thus L258: thesis by L254;
end;
suppose L259: C63 > ( dim C62 );

set D43 = ( {} );
reconsider D44 = D43 as Function;
L260: ( C63 -polytopes C62 ) = ( {} ) by L259 , L249;
L261: [: ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 ) :] = ( {} ) by L260 , ZFMISC_1:90;
reconsider D45 = D44 as (Function of [: ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 ) :] , { ( 0. ( Z_2 ) ) , ( 1. ( Z_2 ) ) }) by L261 , RELSET_1:12;
reconsider D46 = D45 as (Element of ( Funcs ([: ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 ) :] , { ( 0. ( Z_2 ) ) , ( 1. ( Z_2 ) ) }) )) by FUNCT_2:8;
take D46;
thus L262: thesis by L259;
end;
suppose L263: (( 0 ) < C63 & C63 < ( dim C62 ));

set D47 = (the PolytopsF of C62);
set D48 = (the IncidenceF of C62);
L264: ( C63 -polytopes C62 ) = ( rng ( D47 . ( C63 + 1 ) ) ) by L263 , L206;
L265: ( C63 - 1 ) < ( dim C62 ) by L263 , XREAL_1:146 , XXREAL_0:2;
L266: ( (( 0 ) qua Nat) + 1 ) = 1;
L267: 1 <= C63 by L266 , L263 , INT_1:7;
reconsider D49 = C63 as Nat by L267 , L19;
L268: ( 1 - 1 ) = ( 0 );
L269: ( - 1 ) < ( C63 - 1 ) by L268 , L267 , XREAL_1:9;
L270: ( ( C63 - 1 ) -polytopes C62 ) = ( rng ( D47 . ( ( C63 - 1 ) + 1 ) ) ) by L269 , L265 , L206;
reconsider D50 = ( D48 . D49 ) as (incidence-matrix of ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 )) by L270 , L263 , L267 , L264 , L192;
take D50;
thus L271: thesis by L263;
end;
suppose L272: C63 = ( 0 );

per cases ;
suppose L273: C63 = ( dim C62 );

set D51 = ( [: { ( {} ) } , { C62 } :] --> ( 1. ( Z_2 ) ) );
reconsider D52 = D51 as (incidence-matrix of { ( {} ) } , { C62 }) by L186;
L274: ( ( C63 - 1 ) -polytopes C62 ) = { ( {} ) } by L272 , L206;
reconsider D53 = D52 as (incidence-matrix of ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 )) by L274 , L273 , L206;
take D53;
thus L275: thesis by L272 , L273 , L206;
end;
suppose L276: C63 <> ( dim C62 );

set D54 = ( [: { ( {} ) } , ( ( 0 ) -polytopes C62 ) :] --> ( 1. ( Z_2 ) ) );
reconsider D55 = D54 as (incidence-matrix of { ( {} ) } , ( ( 0 ) -polytopes C62 )) by L186;
reconsider D56 = D55 as (incidence-matrix of ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 )) by L272 , L206;
take D56;
thus L277: thesis by L272 , L276;
end;
end;
suppose L279: C63 = ( dim C62 );

per cases ;
suppose L280: C63 = ( 0 );

set D57 = ( [: { ( {} ) } , { C62 } :] --> ( 1. ( Z_2 ) ) );
reconsider D58 = D57 as (incidence-matrix of { ( {} ) } , { C62 }) by L186;
L281: ( ( C63 - 1 ) -polytopes C62 ) = { ( {} ) } by L280 , L206;
reconsider D59 = D58 as (incidence-matrix of ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 )) by L281 , L279 , L206;
take D59;
thus L282: thesis by L279 , L280 , L206;
end;
suppose L283: C63 <> ( 0 );

set D60 = ( [: ( ( ( dim C62 ) - 1 ) -polytopes C62 ) , { C62 } :] --> ( 1. ( Z_2 ) ) );
reconsider D61 = D60 as (incidence-matrix of ( ( ( dim C62 ) - 1 ) -polytopes C62 ) , { C62 }) by L186;
reconsider D62 = D61 as (incidence-matrix of ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 )) by L279 , L206;
take D62;
thus L284: thesis by L279 , L283;
end;
end;
end;
uniqueness
proof
set D63 = (the IncidenceF of C62);
let C64 , C65 being (incidence-matrix of ( ( C63 - 1 ) -polytopes C62 ) , ( C63 -polytopes C62 ));
assume that
L287: (C63 < ( 0 ) implies C64 = ( {} ))
and
L288: (C63 = ( 0 ) implies C64 = ( [: { ( {} ) } , ( ( 0 ) -polytopes C62 ) :] --> ( 1. ( Z_2 ) ) ))
and
L289: ((( 0 ) < C63 & C63 < ( dim C62 )) implies C64 = ( D63 . C63 ))
and
L290: (C63 = ( dim C62 ) implies C64 = ( [: ( ( ( dim C62 ) - 1 ) -polytopes C62 ) , { C62 } :] --> ( 1. ( Z_2 ) ) ))
and
L291: (C63 > ( dim C62 ) implies C64 = ( {} ))
and
L292: (C63 < ( 0 ) implies C65 = ( {} ))
and
L293: (C63 = ( 0 ) implies C65 = ( [: { ( {} ) } , ( ( 0 ) -polytopes C62 ) :] --> ( 1. ( Z_2 ) ) ))
and
L294: ((( 0 ) < C63 & C63 < ( dim C62 )) implies C65 = ( D63 . C63 ))
and
L295: (C63 = ( dim C62 ) implies C65 = ( [: ( ( ( dim C62 ) - 1 ) -polytopes C62 ) , { C62 } :] --> ( 1. ( Z_2 ) ) ))
and
L296: (C63 > ( dim C62 ) implies C65 = ( {} ));
per cases  by XXREAL_0:1;
suppose L297: C63 < ( 0 );

thus L298: thesis by L297 , L287 , L292;
end;
suppose L299: C63 = ( 0 );

thus L300: thesis by L299 , L288 , L293;
end;
suppose L301: (( 0 ) < C63 & C63 < ( dim C62 ));

thus L302: thesis by L301 , L289 , L294;
end;
suppose L303: C63 = ( dim C62 );

thus L304: thesis by L303 , L290 , L295;
end;
suppose L305: C63 > ( dim C62 );

thus L306: thesis by L305 , L291 , L296;
end;
end;
end;
definition
let C66 being polyhedron;
let C67 being Integer;
func C67 -polytope-seq C66 -> FinSequence means 
:L309: ((C67 < ( - 1 ) implies it = ( <*> ( {} ) )) & (C67 = ( - 1 ) implies it = <* ( {} ) *>) & ((( - 1 ) < C67 & C67 < ( dim C66 )) implies it = ( (the PolytopsF of C66) . ( C67 + 1 ) )) & (C67 = ( dim C66 ) implies it = <* C66 *>) & (C67 > ( dim C66 ) implies it = ( <*> ( {} ) )));
existence
proof
per cases  by XXREAL_0:1;
suppose L310: C67 < ( - 1 );

take ( <*> ( {} ) );
thus L311: thesis by L310;
end;
suppose L312: C67 = ( - 1 );

take <* ( {} ) *>;
thus L313: thesis by L312;
end;
suppose L314: (( - 1 ) < C67 & C67 < ( dim C66 ));

set D64 = (the PolytopsF of C66);
take ( D64 . ( C67 + 1 ) );
thus L315: thesis by L314;
end;
suppose L316: C67 = ( dim C66 );

take <* C66 *>;
thus L317: thesis by L316;
end;
suppose L318: C67 > ( dim C66 );

take ( <*> ( {} ) );
thus L319: thesis by L318;
end;
end;
uniqueness
proof
set D65 = (the PolytopsF of C66);
let C68 , C69 being FinSequence;
assume that
L321: (C67 < ( - 1 ) implies C68 = ( <*> ( {} ) ))
and
L322: (C67 = ( - 1 ) implies C68 = <* ( {} ) *>)
and
L323: ((( - 1 ) < C67 & C67 < ( dim C66 )) implies C68 = ( D65 . ( C67 + 1 ) ))
and
L324: (C67 = ( dim C66 ) implies C68 = <* C66 *>)
and
L325: (C67 > ( dim C66 ) implies C68 = ( <*> ( {} ) ))
and
L326: (C67 < ( - 1 ) implies C69 = ( <*> ( {} ) ))
and
L327: (C67 = ( - 1 ) implies C69 = <* ( {} ) *>)
and
L328: ((( - 1 ) < C67 & C67 < ( dim C66 )) implies C69 = ( D65 . ( C67 + 1 ) ))
and
L329: (C67 = ( dim C66 ) implies C69 = <* C66 *>)
and
L330: (C67 > ( dim C66 ) implies C69 = ( <*> ( {} ) ));
per cases  by XXREAL_0:1;
suppose L331: C67 < ( - 1 );

thus L332: thesis by L331 , L321 , L326;
end;
suppose L333: C67 = ( - 1 );

thus L334: thesis by L333 , L322 , L327;
end;
suppose L335: (( - 1 ) < C67 & C67 < ( dim C66 ));

thus L336: thesis by L335 , L323 , L328;
end;
suppose L337: C67 = ( dim C66 );

thus L338: thesis by L337 , L324 , L329;
end;
suppose L339: C67 > ( dim C66 );

thus L340: thesis by L339 , L325 , L330;
end;
end;
end;
definition
let C70 being polyhedron;
let C71 being Integer;
func num-polytopes (C70 , C71) -> (Element of ( NAT )) equals 
( card ( C71 -polytopes C70 ) );
coherence;
end;
definition
let C72 being polyhedron;
func num-vertices C72 -> (Element of ( NAT )) equals 
( num-polytopes (C72 , ( 0 )) );
correctness;
func num-edges C72 -> (Element of ( NAT )) equals 
( num-polytopes (C72 , 1) );
correctness;
func num-faces C72 -> (Element of ( NAT )) equals 
( num-polytopes (C72 , 2) );
correctness;
end;
theorem
L345: (for R3 being polyhedron holds (for R4 being Integer holds ( dom ( R4 -polytope-seq R3 ) ) = ( Seg ( num-polytopes (R3 , R4) ) )))
proof
let R3 being polyhedron;
let R4 being Integer;
set D66 = (the PolytopsF of R3);
per cases ;
suppose L346: R4 < ( - 1 );

L347: (( R4 -polytope-seq R3 ) = ( <*> ( {} ) ) & ( R4 -polytopes R3 ) = ( {} )) by L346 , L206 , L309;
thus L348: thesis by L347 , FINSEQ_1:def 3;
end;
suppose L349: (( - 1 ) <= R4 & R4 <= ( dim R3 ));

per cases  by L349 , XXREAL_0:1;
suppose L350: R4 = ( - 1 );

L351: ( R4 -polytope-seq R3 ) = <* ( {} ) *> by L350 , L309;
L352: ( len ( R4 -polytope-seq R3 ) ) = 1 by L351 , FINSEQ_1:39;
L353: ( R4 -polytopes R3 ) = { ( {} ) } by L350 , L206;
L354: ( num-polytopes (R3 , R4) ) = 1 by L353 , CARD_2:42;
thus L355: thesis by L354 , L352 , FINSEQ_1:def 3;
end;
suppose L356: (( - 1 ) < R4 & R4 < ( dim R3 ));

set D67 = ( R4 + 1 );
reconsider D68 = D67 as Nat by L356 , L242;
reconsider D69 = ( D66 . D68 ) as FinSequence;
L357: (1 <= D68 & D68 <= ( dim R3 )) by L356 , L242;
L358: D69 is  one-to-one by L357 , L193;
L359: ( R4 -polytopes R3 ) = ( rng ( D66 . ( R4 + 1 ) ) ) by L356 , L206;
L360: ( num-polytopes (R3 , R4) ) = ( card ( dom D69 ) ) by L359 , L358 , CARD_1:70;
L361: ( len D69 ) = ( num-polytopes (R3 , R4) ) by L360 , CARD_1:62;
L362: ( R4 -polytope-seq R3 ) = ( D66 . ( R4 + 1 ) ) by L356 , L309;
thus L363: thesis by L362 , L361 , FINSEQ_1:def 3;
end;
suppose L364: R4 = ( dim R3 );

L365: ( R4 -polytope-seq R3 ) = <* R3 *> by L364 , L309;
L366: ( len ( R4 -polytope-seq R3 ) ) = 1 by L365 , FINSEQ_1:39;
L367: ( R4 -polytopes R3 ) = { R3 } by L364 , L206;
L368: ( num-polytopes (R3 , R4) ) = 1 by L367 , CARD_2:42;
thus L369: thesis by L368 , L366 , FINSEQ_1:def 3;
end;
end;
suppose L371: R4 > ( dim R3 );

L372: (( R4 -polytope-seq R3 ) = ( <*> ( {} ) ) & ( R4 -polytopes R3 ) = ( {} )) by L371 , L206 , L309;
thus L373: thesis by L372 , FINSEQ_1:def 3;
end;
end;
theorem
L375: (for R3 being polyhedron holds (for R4 being Integer holds ( len ( R4 -polytope-seq R3 ) ) = ( num-polytopes (R3 , R4) )))
proof
let R3 being polyhedron;
let R4 being Integer;
L376: ( dom ( R4 -polytope-seq R3 ) ) = ( Seg ( num-polytopes (R3 , R4) ) ) by L345;
thus L377: thesis by L376 , FINSEQ_1:def 3;
end;
theorem
L378: (for R3 being polyhedron holds (for R4 being Integer holds ( rng ( R4 -polytope-seq R3 ) ) = ( R4 -polytopes R3 )))
proof
let R3 being polyhedron;
let R4 being Integer;
set D70 = (the PolytopsF of R3);
per cases ;
suppose L379: R4 < ( - 1 );

L380: ( R4 -polytopes R3 ) = ( {} ) by L379 , L206;
thus L381: thesis by L380 , L379 , L309 , RELAT_1:38;
end;
suppose L382: (( - 1 ) <= R4 & R4 <= ( dim R3 ));

per cases  by L382 , XXREAL_0:1;
suppose L383: R4 = ( - 1 );

L384: (( R4 -polytopes R3 ) = { ( {} ) } & ( R4 -polytope-seq R3 ) = <* ( {} ) *>) by L383 , L206 , L309;
thus L385: thesis by L384 , FINSEQ_1:38;
end;
suppose L386: (( - 1 ) < R4 & R4 < ( dim R3 ));

L387: ( R4 -polytopes R3 ) = ( rng ( D70 . ( R4 + 1 ) ) ) by L386 , L206;
thus L388: thesis by L387 , L386 , L309;
end;
suppose L389: R4 = ( dim R3 );

L390: (( R4 -polytopes R3 ) = { R3 } & ( R4 -polytope-seq R3 ) = <* R3 *>) by L389 , L206 , L309;
thus L391: thesis by L390 , FINSEQ_1:38;
end;
end;
suppose L393: R4 > ( dim R3 );

L394: ( R4 -polytopes R3 ) = ( {} ) by L393 , L206;
thus L395: thesis by L394 , L393 , L309 , RELAT_1:38;
end;
end;
theorem
L397: (for R3 being polyhedron holds ( num-polytopes (R3 , ( - 1 )) ) = 1)
proof
let R3 being polyhedron;
reconsider D71 = ( - 1 ) as Integer;
L398: ( D71 -polytopes R3 ) = { ( {} ) } by L206;
thus L399: thesis by L398 , CARD_1:30;
end;
theorem
L400: (for R3 being polyhedron holds ( num-polytopes (R3 , ( dim R3 )) ) = 1)
proof
let R3 being polyhedron;
L401: ( ( dim R3 ) -polytopes R3 ) = { R3 } by L206;
thus L402: thesis by L401 , CARD_1:30;
end;
definition
let C73 being polyhedron;
let C74 being Integer;
let C75 being Nat;
assume L403: (1 <= C75 & C75 <= ( num-polytopes (C73 , C74) ));
func C75 -th-polytope (C73 , C74) -> (Element of ( C74 -polytopes C73 )) equals 
:L404: ( ( C74 -polytope-seq C73 ) . C75 );
coherence
proof
L405: C75 in ( Seg ( num-polytopes (C73 , C74) ) ) by L403 , FINSEQ_1:1;
L406: C75 in ( dom ( C74 -polytope-seq C73 ) ) by L405 , L345;
L407: ( ( C74 -polytope-seq C73 ) . C75 ) in ( rng ( C74 -polytope-seq C73 ) ) by L406 , FUNCT_1:3;
thus L408: thesis by L407 , L378;
end;
end;
theorem
L410: (for R3 being polyhedron holds (for R4 being Integer holds ((( - 1 ) <= R4 & R4 <= ( dim R3 )) implies (for B55 being (Element of ( R4 -polytopes R3 )) holds (ex B56 being Nat st (B55 = ( B56 -th-polytope (R3 , R4) ) & 1 <= B56 & B56 <= ( num-polytopes (R3 , R4) )))))))
proof
let R3 being polyhedron;
let R4 being Integer;
assume L411: (( - 1 ) <= R4 & R4 <= ( dim R3 ));
let C76 being (Element of ( R4 -polytopes R3 ));
per cases  by L411 , XXREAL_0:1;
suppose L412: R4 = ( - 1 );

reconsider D72 = 1 as Nat;
L413: ( R4 -polytope-seq R3 ) = <* ( {} ) *> by L412 , L309;
L414: ( ( R4 -polytope-seq R3 ) . D72 ) = ( {} ) by L413 , FINSEQ_1:def 8;
take D72;
L415: ( R4 -polytopes R3 ) = { ( {} ) } by L412 , L206;
L416: (C76 = ( {} ) & D72 <= ( num-polytopes (R3 , R4) )) by L415 , CARD_1:30 , TARSKI:def 1;
thus L417: thesis by L416 , L414 , L404;
end;
suppose L418: R4 = ( dim R3 );

reconsider D73 = 1 as Nat;
L419: ( R4 -polytope-seq R3 ) = <* R3 *> by L418 , L309;
L420: ( ( R4 -polytope-seq R3 ) . D73 ) = R3 by L419 , FINSEQ_1:def 8;
take D73;
L421: ( R4 -polytopes R3 ) = { R3 } by L418 , L206;
L422: (C76 = R3 & ( num-polytopes (R3 , R4) ) = 1) by L421 , CARD_1:30 , TARSKI:def 1;
thus L423: thesis by L422 , L420 , L404;
end;
suppose L424: (( - 1 ) < R4 & R4 < ( dim R3 ));

set D74 = (the PolytopsF of R3);
L425: ( R4 -polytopes R3 ) = ( rng ( D74 . ( R4 + 1 ) ) ) by L424 , L206;
L426: ( ( - 1 ) + 1 ) < ( R4 + 1 ) by L424 , XREAL_1:6;
L427: ( (( 0 ) qua Nat) + 1 ) <= ( R4 + 1 ) by L426 , INT_1:7;
reconsider D75 = ( R4 + 1 ) as (Element of ( NAT )) by L426 , INT_1:3;
L428: ( R4 + 1 ) <= ( dim R3 ) by L424 , INT_1:7;
L429: ( D74 . D75 ) is non  empty by L428 , L427 , L193;
consider C77 being set such that L430: C77 in ( dom ( D74 . D75 ) ) and L431: ( ( D74 . D75 ) . C77 ) = C76 by L429 , L425 , FUNCT_1:def 3;
reconsider D76 = ( D74 . D75 ) as FinSequence;
reconsider D77 = C77 as (Element of ( NAT )) by L430;
L432: ( dom D76 ) = ( Seg ( len D76 ) ) by FINSEQ_1:def 3;
L433: (1 <= D77 & D77 <= ( len D76 )) by L432 , L430 , FINSEQ_1:1;
take D77;
L434: ( R4 -polytope-seq R3 ) = ( D74 . ( R4 + 1 ) ) by L424 , L309;
L435: ( num-polytopes (R3 , R4) ) = ( len ( D74 . ( R4 + 1 ) ) ) by L434 , L375;
thus L436: thesis by L435 , L434 , L431 , L433 , L404;
end;
end;
theorem
L438: (for R3 being polyhedron holds (for R4 being Integer holds ( R4 -polytope-seq R3 ) is  one-to-one))
proof
let R3 being polyhedron;
let R4 being Integer;
set D78 = ( R4 -polytope-seq R3 );
per cases  by XXREAL_0:1;
suppose L439: R4 < ( - 1 );

thus L440: thesis by L439 , L309;
end;
suppose L441: R4 = ( - 1 );

thus L442: thesis by L441 , L309;
end;
suppose L443: (( - 1 ) < R4 & R4 < ( dim R3 ));

L444: ( ( - 1 ) + 1 ) < ( R4 + 1 ) by L443 , XREAL_1:6;
reconsider D79 = ( R4 + 1 ) as (Element of ( NAT )) by L444 , INT_1:3;
set D80 = (the PolytopsF of R3);
L445: ( (( 0 ) qua Nat) + 1 ) <= D79 by L444 , INT_1:7;
L446: (D78 = ( D80 . ( R4 + 1 ) ) & D79 <= ( dim R3 )) by L443 , L309 , INT_1:7;
thus L447: thesis by L446 , L445 , L193;
end;
suppose L448: R4 = ( dim R3 );

L449: D78 = <* R3 *> by L448 , L309;
thus L450: thesis by L449;
end;
suppose L451: R4 > ( dim R3 );

thus L452: thesis by L451 , L309;
end;
end;
theorem
L454: (for R3 being polyhedron holds (for R4 being Integer holds (for B57 , B58 being Nat holds ((1 <= B58 & B58 <= ( num-polytopes (R3 , R4) ) & 1 <= B57 & B57 <= ( num-polytopes (R3 , R4) ) & ( B58 -th-polytope (R3 , R4) ) = ( B57 -th-polytope (R3 , R4) )) implies B57 = B58))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C78 , C79 being Nat;
assume that
L455: (1 <= C79 & C79 <= ( num-polytopes (R3 , R4) ))
and
L456: (1 <= C78 & C78 <= ( num-polytopes (R3 , R4) ))
and
L457: ( C79 -th-polytope (R3 , R4) ) = ( C78 -th-polytope (R3 , R4) );
set D81 = ( R4 -polytope-seq R3 );
L458: D81 is  one-to-one by L438;
L459: C78 in ( Seg ( num-polytopes (R3 , R4) ) ) by L456 , FINSEQ_1:1;
L460: C78 in ( dom D81 ) by L459 , L345;
L461: C79 in ( Seg ( num-polytopes (R3 , R4) ) ) by L455 , FINSEQ_1:1;
L462: C79 in ( dom D81 ) by L461 , L345;
L463: (( C79 -th-polytope (R3 , R4) ) = ( D81 . C79 ) & ( C78 -th-polytope (R3 , R4) ) = ( D81 . C78 )) by L455 , L456 , L404;
thus L464: thesis by L463 , L457 , L462 , L460 , L458 , FUNCT_1:def 4;
end;
definition
let C80 being polyhedron;
let C81 being Integer;
let C82 being (Element of ( ( C81 - 1 ) -polytopes C80 ));
let C83 being (Element of ( C81 -polytopes C80 ));
assume that
L465: ( 0 ) <= C81
and
L466: C81 <= ( dim C80 );
func incidence-value (C82 , C83) -> (Element of ( Z_2 )) equals 
:L467: ( ( eta (C80 , C81) ) . (C82 , C83) );
coherence
proof
set D82 = ( eta (C80 , C81) );
L468: ( ( C81 - 1 ) -polytopes C80 ) <> ( {} )
proof
set D83 = ( C81 - 1 );
L469: ( (( 0 ) qua Nat) - 1 ) = ( - 1 );
L470: ( - 1 ) <= D83 by L469 , L465 , XREAL_1:9;
L471: D83 <= ( ( dim C80 ) - (( 0 ) qua Nat) ) by L466 , XREAL_1:13;
thus L472: thesis by L471 , L470 , L249;
end;
L473: (( dom D82 ) = [: ( ( C81 - 1 ) -polytopes C80 ) , ( C81 -polytopes C80 ) :] & ( C81 -polytopes C80 ) <> ( {} )) by L465 , L466 , L249 , FUNCT_2:92;
L474: [ C82 , C83 ] in ( dom D82 ) by L473 , L468 , ZFMISC_1:87;
L475: ( D82 . [ C82 , C83 ] ) in ( rng D82 ) by L474 , FUNCT_1:3;
thus L476: thesis by L475 , BSPACE:3 , BSPACE:5 , BSPACE:6;
end;
end;
begin
definition
let C84 being polyhedron;
let C85 being Integer;
func C85 -chain-space C84 ->  finite-dimensional (VectSp of ( Z_2 )) equals 
( bspace ( C85 -polytopes C84 ) );
coherence;
end;
theorem
L479: (for R3 being polyhedron holds (for R4 being Integer holds (for B59 being (Element of ( R4 -polytopes R3 )) holds ( ( 0. ( R4 -chain-space R3 ) ) @ B59 ) = ( 0. ( Z_2 ) )))) by BSPACE:14;
theorem
L480: (for R3 being polyhedron holds (for R4 being Integer holds ( num-polytopes (R3 , R4) ) = ( dim ( R4 -chain-space R3 ) )))
proof
let R3 being polyhedron;
let R4 being Integer;
set D84 = ( dim ( R4 -chain-space R3 ) );
L481: ( singletons ( R4 -polytopes R3 ) ) is (Basis of ( R4 -chain-space R3 )) by BSPACE:40;
L482: D84 = ( card ( singletons ( R4 -polytopes R3 ) ) ) by L481 , VECTSP_9:def 1;
thus L483: thesis by L482 , BSPACE:41;
end;
definition
let C86 being polyhedron;
let C87 being Integer;
func C87 -chains C86 -> non  empty  finite set equals 
( bool ( C87 -polytopes C86 ) );
coherence;
end;
definition
let C88 being polyhedron;
let C89 being Integer;
let C90 being (Element of ( ( C89 - 1 ) -polytopes C88 ));
let C91 being (Element of ( C89 -chain-space C88 ));
func incidence-sequence (C90 , C91) -> (FinSequence of ( Z_2 )) means 
:L485: ((( ( C89 - 1 ) -polytopes C88 ) is  empty implies it = ( <*> ( {} ) )) & (( ( C89 - 1 ) -polytopes C88 ) is non  empty implies (( len it ) = ( num-polytopes (C88 , C89) ) & (for B60 being Nat holds ((1 <= B60 & B60 <= ( num-polytopes (C88 , C89) )) implies ( it . B60 ) = ( ( C91 @ ( B60 -th-polytope (C88 , C89) ) ) * ( incidence-value (C90 , ( B60 -th-polytope (C88 , C89) )) ) ))))));
existence
proof
per cases ;
suppose L486: ( ( C89 - 1 ) -polytopes C88 ) is  empty;

set D85 = ( <*> ( {} ) );
L487: ( rng D85 ) c= (the carrier of ( Z_2 )) by XBOOLE_1:2;
reconsider D86 = D85 as (FinSequence of ( Z_2 )) by L487 , FINSEQ_1:def 4;
take D86;
thus L488: thesis by L486;
end;
suppose L489: ( ( C89 - 1 ) -polytopes C88 ) is non  empty;

deffunc H1(Nat) = ( ( C91 @ ( $1 -th-polytope (C88 , C89) ) ) * ( incidence-value (C90 , ( $1 -th-polytope (C88 , C89) )) ) );
consider C92 being (FinSequence of ( Z_2 )) such that L490: ( len C92 ) = ( num-polytopes (C88 , C89) ) and L491: (for B61 being Nat holds (B61 in ( dom C92 ) implies ( C92 . B61 ) = H1(B61))) from FINSEQ_2:sch 1;
take C92;
L492: ( dom C92 ) = ( Seg ( num-polytopes (C88 , C89) ) ) by L490 , FINSEQ_1:def 3;
L493: (for B62 being Nat holds ((1 <= B62 & B62 <= ( num-polytopes (C88 , C89) )) implies ( C92 . B62 ) = ( ( C91 @ ( B62 -th-polytope (C88 , C89) ) ) * ( incidence-value (C90 , ( B62 -th-polytope (C88 , C89) )) ) )))
proof
let C93 being Nat;
assume L494: (1 <= C93 & C93 <= ( num-polytopes (C88 , C89) ));
L495: C93 in ( Seg ( num-polytopes (C88 , C89) ) ) by L494 , FINSEQ_1:1;
thus L496: thesis by L495 , L491 , L492;
end;
thus L497: thesis by L493 , L489 , L490;
end;
end;
uniqueness
proof
let C94 , C95 being (FinSequence of ( Z_2 ));
assume that
L499: (( ( C89 - 1 ) -polytopes C88 ) is  empty implies C94 = ( <*> ( {} ) ))
and
L500: (( ( C89 - 1 ) -polytopes C88 ) is non  empty implies (( len C94 ) = ( num-polytopes (C88 , C89) ) & (for B63 being Nat holds ((1 <= B63 & B63 <= ( num-polytopes (C88 , C89) )) implies ( C94 . B63 ) = ( ( C91 @ ( B63 -th-polytope (C88 , C89) ) ) * ( incidence-value (C90 , ( B63 -th-polytope (C88 , C89) )) ) )))))
and
L501: (( ( C89 - 1 ) -polytopes C88 ) is  empty implies C95 = ( <*> ( {} ) ))
and
L502: (( ( C89 - 1 ) -polytopes C88 ) is non  empty implies (( len C95 ) = ( num-polytopes (C88 , C89) ) & (for B64 being Nat holds ((1 <= B64 & B64 <= ( num-polytopes (C88 , C89) )) implies ( C95 . B64 ) = ( ( C91 @ ( B64 -th-polytope (C88 , C89) ) ) * ( incidence-value (C90 , ( B64 -th-polytope (C88 , C89) )) ) )))));
per cases ;
suppose L503: ( ( C89 - 1 ) -polytopes C88 ) is  empty;

thus L504: thesis by L503 , L499 , L501;
end;
suppose L505: ( ( C89 - 1 ) -polytopes C88 ) is non  empty;

L506: (for B65 being Nat holds ((1 <= B65 & B65 <= ( len C94 )) implies ( C94 . B65 ) = ( C95 . B65 )))
proof
let C96 being Nat;
assume that
L507: (1 <= C96 & C96 <= ( len C94 ));
reconsider D87 = C96 as Nat;
L508: ( C94 . D87 ) = ( ( C91 @ ( D87 -th-polytope (C88 , C89) ) ) * ( incidence-value (C90 , ( D87 -th-polytope (C88 , C89) )) ) ) by L500 , L505 , L507;
thus L509: thesis by L508 , L500 , L502 , L505 , L507;
end;
thus L510: thesis by L506 , L500 , L502 , L505 , FINSEQ_1:14;
end;
end;
end;
theorem
L513: (for R3 being polyhedron holds (for R4 being Integer holds (for B66 , B67 being (Element of ( R4 -chain-space R3 )) holds (for B68 being (Element of ( R4 -polytopes R3 )) holds ( ( B66 + B67 ) @ B68 ) = ( ( B66 @ B68 ) + ( B67 @ B68 ) )))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C97 , C98 being (Element of ( R4 -chain-space R3 ));
let C99 being (Element of ( R4 -polytopes R3 ));
L514: ( C97 + C98 ) = ( C97 \+\ C98 ) by BSPACE:def 5;
thus L515: thesis by L514 , BSPACE:15;
end;
theorem
L516: (for R3 being polyhedron holds (for R4 being Integer holds (for B69 , B70 being (Element of ( R4 -chain-space R3 )) holds (for B71 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ( incidence-sequence (B71 , ( B69 + B70 )) ) = ( ( incidence-sequence (B71 , B69) ) + ( incidence-sequence (B71 , B70) ) )))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C100 , C101 being (Element of ( R4 -chain-space R3 ));
let C102 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
set D88 = ( num-polytopes (R3 , R4) );
set D89 = ( incidence-sequence (C102 , ( C100 + C101 )) );
set D90 = ( incidence-sequence (C102 , C100) );
set D91 = ( incidence-sequence (C102 , C101) );
set D92 = ( D90 + D91 );
per cases ;
suppose L517: ( ( R4 - 1 ) -polytopes R3 ) is  empty;

L518: D91 is (Tuple of ( 0 ) , (the carrier of ( Z_2 ))) by L517 , L485;
reconsider D93 = D91 as (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) )) by L518 , FINSEQ_2:131;
L519: D90 = ( <*> (the carrier of ( Z_2 )) ) by L517 , L485;
reconsider D94 = D90 as (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) )) by L519 , FINSEQ_2:131;
L520: ( D94 + D93 ) is (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) ));
thus L521: thesis by L520 , L517 , L485;
end;
suppose L522: ( ( R4 - 1 ) -polytopes R3 ) is non  empty;

L523: (( len D89 ) = D88 & ( len D92 ) = D88)
proof
L524: ( len D91 ) = D88 by L522 , L485;
reconsider D95 = D91 as (Element of ( D88 -tuples_on (the carrier of ( Z_2 )) )) by L524 , FINSEQ_2:92;
L525: ( len D90 ) = D88 by L522 , L485;
reconsider D96 = D90 as (Element of ( D88 -tuples_on (the carrier of ( Z_2 )) )) by L525 , FINSEQ_2:92;
reconsider D97 = ( D96 + D95 ) as (Element of ( D88 -tuples_on (the carrier of ( Z_2 )) ));
L526: ( len D97 ) = D88 by CARD_1:def 7;
thus L527: thesis by L526 , L522 , L485;
end;
L528: (for B72 being Nat holds ((1 <= B72 & B72 <= ( len D89 )) implies ( D89 . B72 ) = ( D92 . B72 )))
proof
L529: (( dom D92 ) = ( Seg D88 ) & ( len D89 ) = D88) by L523 , FINSEQ_1:def 3;
let C103 being Nat;
assume that
L530: (1 <= C103 & C103 <= ( len D89 ));
set D98 = ( C103 -th-polytope (R3 , R4) );
set D99 = ( incidence-value (C102 , D98) );
L531: ( len D89 ) = D88 by L522 , L485;
L532: ( D89 . C103 ) = ( ( ( C100 + C101 ) @ D98 ) * D99 ) by L531 , L522 , L530 , L485;
L533: C103 in ( NAT ) by ORDINAL1:def 12;
L534: C103 in ( dom D92 ) by L533 , L529 , L530;
L535: (( D90 . C103 ) = ( ( C100 @ D98 ) * D99 ) & ( D91 . C103 ) = ( ( C101 @ D98 ) * D99 )) by L522 , L530 , L531 , L485;
L536: ( D92 . C103 ) = ( ( ( C100 @ D98 ) * D99 ) + ( ( C101 @ D98 ) * D99 ) ) by L535 , L534 , FVSUM_1:17
.= ( ( ( C100 @ D98 ) + ( C101 @ D98 ) ) * D99 ) by VECTSP_1:def 3
.= ( D89 . C103 ) by L532 , L513;
thus L537: thesis by L536;
end;
thus L538: thesis by L528 , L523 , FINSEQ_1:14;
end;
end;
theorem
L540: (for R3 being polyhedron holds (for R4 being Integer holds (for B73 , B74 being (Element of ( R4 -chain-space R3 )) holds (for B75 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ( Sum ( ( incidence-sequence (B75 , B73) ) + ( incidence-sequence (B75 , B74) ) ) ) = ( ( Sum ( incidence-sequence (B75 , B73) ) ) + ( Sum ( incidence-sequence (B75 , B74) ) ) )))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C104 , C105 being (Element of ( R4 -chain-space R3 ));
let C106 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
set D100 = ( incidence-sequence (C106 , C104) );
set D101 = ( incidence-sequence (C106 , C105) );
per cases ;
suppose L541: ( ( R4 - 1 ) -polytopes R3 ) is  empty;

L542: D101 = ( <*> (the carrier of ( Z_2 )) ) by L541 , L485;
reconsider D102 = D101 as (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) )) by L542 , FINSEQ_2:131;
L543: D100 = ( <*> (the carrier of ( Z_2 )) ) by L541 , L485;
reconsider D103 = D100 as (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) )) by L543 , FINSEQ_2:131;
reconsider D104 = ( D103 + D102 ) as (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) ));
L544: ( Sum D104 ) = ( 0. ( Z_2 ) ) by FVSUM_1:74;
thus L545: thesis by L544 , RLVECT_1:def 4;
end;
suppose L546: ( ( R4 - 1 ) -polytopes R3 ) is non  empty;

reconsider D105 = ( num-polytopes (R3 , R4) ) as (Element of ( NAT ));
L547: ( len D101 ) = D105 by L546 , L485;
reconsider D106 = D101 as (Element of ( D105 -tuples_on (the carrier of ( Z_2 )) )) by L547 , FINSEQ_2:92;
L548: ( len D100 ) = D105 by L546 , L485;
reconsider D107 = D100 as (Element of ( D105 -tuples_on (the carrier of ( Z_2 )) )) by L548 , FINSEQ_2:92;
L549: ( Sum ( D100 + D101 ) ) = ( Sum ( D107 + D106 ) )
.= ( ( Sum D100 ) + ( Sum D101 ) ) by FVSUM_1:76;
thus L550: thesis by L549;
end;
end;
theorem
L552: (for R3 being polyhedron holds (for R4 being Integer holds (for B76 , B77 being (Element of ( R4 -chain-space R3 )) holds (for B78 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ( Sum ( incidence-sequence (B78 , ( B76 + B77 )) ) ) = ( ( Sum ( incidence-sequence (B78 , B76) ) ) + ( Sum ( incidence-sequence (B78 , B77) ) ) )))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C107 , C108 being (Element of ( R4 -chain-space R3 ));
let C109 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
L553: ( Sum ( incidence-sequence (C109 , ( C107 + C108 )) ) ) = ( Sum ( ( incidence-sequence (C109 , C107) ) + ( incidence-sequence (C109 , C108) ) ) ) by L516
.= ( ( Sum ( incidence-sequence (C109 , C107) ) ) + ( Sum ( incidence-sequence (C109 , C108) ) ) ) by L540;
thus L554: thesis by L553;
end;
theorem
L555: (for R3 being polyhedron holds (for R4 being Integer holds (for B79 being (Element of ( R4 -chain-space R3 )) holds (for B80 being (Element of ( Z_2 )) holds (for B81 being (Element of ( R4 -polytopes R3 )) holds ( ( B80 * B79 ) @ B81 ) = ( B80 * ( B79 @ B81 ) ))))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C110 being (Element of ( R4 -chain-space R3 ));
let C111 being (Element of ( Z_2 ));
let C112 being (Element of ( R4 -polytopes R3 ));
per cases  by BSPACE:8;
suppose L556: C111 = ( 0. ( Z_2 ) );

L557: (( C111 * ( C110 @ C112 ) ) = ( 0. ( Z_2 ) ) & ( C111 * C110 ) = ( 0. ( R4 -chain-space R3 ) )) by L556 , VECTSP_1:7 , VECTSP_1:14;
thus L558: thesis by L557 , BSPACE:14;
end;
suppose L559: C111 = ( 1. ( Z_2 ) );

L560: ( C111 * ( C110 @ C112 ) ) = ( C110 @ C112 ) by L559 , VECTSP_1:def 6;
thus L561: thesis by L560 , L559 , VECTSP_1:def 17;
end;
end;
theorem
L563: (for R3 being polyhedron holds (for R4 being Integer holds (for B82 being (Element of ( R4 -chain-space R3 )) holds (for B83 being (Element of ( Z_2 )) holds (for B84 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ( incidence-sequence (B84 , ( B83 * B82 )) ) = ( B83 * ( incidence-sequence (B84 , B82) ) ))))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C113 being (Element of ( R4 -chain-space R3 ));
let C114 being (Element of ( Z_2 ));
let C115 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
set D108 = ( incidence-sequence (C115 , ( C114 * C113 )) );
set D109 = ( incidence-sequence (C115 , C113) );
set D110 = ( C114 * D109 );
per cases ;
suppose L564: ( ( R4 - 1 ) -polytopes R3 ) is  empty;

L565: D109 = ( <*> (the carrier of ( Z_2 )) ) by L564 , L485;
reconsider D111 = D109 as (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) )) by L565 , FINSEQ_2:131;
L566: ( C114 * D111 ) is (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) ));
reconsider D112 = D110 as (Element of ( ( 0 ) -tuples_on (the carrier of ( Z_2 )) )) by L566;
L567: D112 = ( <*> (the carrier of ( Z_2 )) );
thus L568: thesis by L567 , L564 , L485;
end;
suppose L569: ( ( R4 - 1 ) -polytopes R3 ) is non  empty;

set D113 = ( num-polytopes (R3 , R4) );
L570: (( len D108 ) = D113 & ( len D110 ) = D113)
proof
L571: ( len D109 ) = D113 by L569 , L485;
reconsider D114 = D109 as (Element of ( D113 -tuples_on (the carrier of ( Z_2 )) )) by L571 , FINSEQ_2:92;
set D115 = ( C114 * D114 );
reconsider D116 = D115 as (Element of ( D113 -tuples_on (the carrier of ( Z_2 )) ));
L572: ( len D116 ) = D113 by CARD_1:def 7;
thus L573: thesis by L572 , L569 , L485;
end;
L574: (for B85 being Nat holds ((1 <= B85 & B85 <= ( len D108 )) implies ( D108 . B85 ) = ( D110 . B85 )))
proof
L575: ( dom D110 ) = ( Seg D113 ) by L570 , FINSEQ_1:def 3;
let C116 being Nat;
assume that
L576: (1 <= C116 & C116 <= ( len D108 ));
set D117 = ( C116 -th-polytope (R3 , R4) );
set D118 = ( incidence-value (C115 , D117) );
L577: ( len D108 ) = D113 by L569 , L485;
L578: ( D108 . C116 ) = ( ( ( C114 * C113 ) @ D117 ) * D118 ) by L577 , L569 , L576 , L485;
L579: (( len D108 ) = D113 & C116 in ( NAT )) by L569 , L485 , ORDINAL1:def 12;
L580: C116 in ( Seg D113 ) by L579 , L576;
L581: ( D109 . C116 ) = ( ( C113 @ D117 ) * D118 ) by L569 , L576 , L577 , L485;
L582: ( D110 . C116 ) = ( C114 * ( ( C113 @ D117 ) * D118 ) ) by L581 , L575 , L580 , FVSUM_1:50
.= ( ( C114 * ( C113 @ D117 ) ) * D118 ) by GROUP_1:def 3
.= ( D108 . C116 ) by L578 , L555;
thus L583: thesis by L582;
end;
thus L584: thesis by L574 , L570 , FINSEQ_1:14;
end;
end;
theorem
L586: (for R3 being polyhedron holds (for R4 being Integer holds (for B86 , B87 being (Element of ( R4 -chain-space R3 )) holds (B86 = B87 iff (for B88 being (Element of ( R4 -polytopes R3 )) holds ( B86 @ B88 ) = ( B87 @ B88 ))))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C117 , C118 being (Element of ( R4 -chain-space R3 ));
thus L587: (C117 = C118 implies (for B89 being (Element of ( R4 -polytopes R3 )) holds ( C117 @ B89 ) = ( C118 @ B89 )));
thus L588: ((for B90 being (Element of ( R4 -polytopes R3 )) holds ( C117 @ B90 ) = ( C118 @ B90 )) implies C117 = C118)
proof
assume L589: (for B91 being (Element of ( R4 -polytopes R3 )) holds ( C117 @ B91 ) = ( C118 @ B91 ));
thus L590: C117 c= C118
proof
let C119 being set;
assume that
L591: C119 in C117;
reconsider D119 = C119 as (Element of ( R4 -polytopes R3 )) by L591;
reconsider D120 = C117 as (Subset of ( R4 -polytopes R3 ));
L592: ( D120 @ D119 ) = ( 1. ( Z_2 ) ) by L591 , BSPACE:def 3;
L593: ( C118 @ D119 ) = ( 1. ( Z_2 ) ) by L592 , L589;
thus L594: thesis by L593 , BSPACE:9;
end;

thus L595: C118 c= C117
proof
let C120 being set;
assume that
L596: C120 in C118;
reconsider D121 = C120 as (Element of ( R4 -polytopes R3 )) by L596;
reconsider D122 = C118 as (Subset of ( R4 -polytopes R3 ));
L597: ( D122 @ D121 ) = ( 1. ( Z_2 ) ) by L596 , BSPACE:def 3;
L598: ( C117 @ D121 ) = ( 1. ( Z_2 ) ) by L597 , L589;
thus L599: thesis by L598 , BSPACE:9;
end;

end;

end;
theorem
L589: (for R3 being polyhedron holds (for R4 being Integer holds (for B92 , B93 being (Element of ( R4 -chain-space R3 )) holds (B92 = B93 iff (for B94 being (Element of ( R4 -polytopes R3 )) holds (B94 in B92 iff B94 in B93))))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C121 , C122 being (Element of ( R4 -chain-space R3 ));
thus L590: (C121 = C122 implies (for B95 being (Element of ( R4 -polytopes R3 )) holds (B95 in C121 iff B95 in C122)));
thus L591: ((for B96 being (Element of ( R4 -polytopes R3 )) holds (B96 in C121 iff B96 in C122)) implies C121 = C122)
proof
assume L592: (for B97 being (Element of ( R4 -polytopes R3 )) holds (B97 in C121 iff B97 in C122));
assume L593: C121 <> C122;
consider C123 being (Element of ( R4 -polytopes R3 )) such that L594: ( C121 @ C123 ) <> ( C122 @ C123 ) by L593 , L586;
L595: (not (C123 in C121 iff C123 in C122)) by L594 , BSPACE:13;
thus L596: thesis by L595 , L592;
end;

end;
scheme ChainEx { F1() -> polyhedron , F2() -> Integer , P1[(Element of ( F2() -polytopes F1() ))] } : (ex B98 being (Subset of ( F2() -polytopes F1() )) st (for B99 being (Element of ( F2() -polytopes F1() )) holds (B99 in B98 iff (P1[ B99 ] & B99 in ( F2() -polytopes F1() )))))
proof
set D123 = { B100 where B100 is (Element of ( F2() -polytopes F1() )) : (P1[ B100 ] & B100 in ( F2() -polytopes F1() )) };
L592: D123 c= ( F2() -polytopes F1() )
proof
let C124 being set;
assume L593: C124 in D123;
L594: (ex B101 being (Element of ( F2() -polytopes F1() )) st (C124 = B101 & P1[ B101 ] & B101 in ( F2() -polytopes F1() ))) by L593;
thus L595: thesis by L594;
end;
reconsider D124 = D123 as (Subset of ( F2() -polytopes F1() )) by L592;
take D124;
L596: (for B102 being (Element of ( F2() -polytopes F1() )) holds (B102 in D124 iff (P1[ B102 ] & B102 in ( F2() -polytopes F1() ))))
proof
let C125 being (Element of ( F2() -polytopes F1() ));
thus L597: (C125 in D124 implies (P1[ C125 ] & C125 in ( F2() -polytopes F1() )))
proof
assume L598: C125 in D124;
L599: (ex B103 being (Element of ( F2() -polytopes F1() )) st (B103 = C125 & P1[ B103 ] & B103 in ( F2() -polytopes F1() ))) by L598;
thus L600: thesis by L599;
end;

thus L601: thesis;
end;
thus L602: thesis by L596;
end;
definition
let C126 being polyhedron;
let C127 being Integer;
let C128 being (Element of ( C127 -chain-space C126 ));
func Boundary C128 -> (Element of ( ( C127 - 1 ) -chain-space C126 )) means 
:L603: ((( ( C127 - 1 ) -polytopes C126 ) is  empty implies it = ( 0. ( ( C127 - 1 ) -chain-space C126 ) )) & (( ( C127 - 1 ) -polytopes C126 ) is non  empty implies (for B104 being (Element of ( ( C127 - 1 ) -polytopes C126 )) holds (B104 in it iff ( Sum ( incidence-sequence (B104 , C128) ) ) = ( 1. ( Z_2 ) )))));
existence
proof
defpred S2[ (Element of ( ( C127 - 1 ) -polytopes C126 )) ] means ( Sum ( incidence-sequence ($1 , C128) ) ) = ( 1. ( Z_2 ) );
consider C129 being (Subset of ( ( C127 - 1 ) -polytopes C126 )) such that L604: (for B105 being (Element of ( ( C127 - 1 ) -polytopes C126 )) holds (B105 in C129 iff (S2[ B105 ] & B105 in ( ( C127 - 1 ) -polytopes C126 )))) from ChainEx;
reconsider D125 = C129 as (Element of ( ( C127 - 1 ) -chain-space C126 ));
take D125;
thus L605: thesis by L604;
end;
uniqueness
proof
let C130 , C131 being (Element of ( ( C127 - 1 ) -chain-space C126 ));
assume that
L606: (( ( C127 - 1 ) -polytopes C126 ) is  empty implies C130 = ( 0. ( ( C127 - 1 ) -chain-space C126 ) ))
and
L607: (( ( C127 - 1 ) -polytopes C126 ) is non  empty implies (for B106 being (Element of ( ( C127 - 1 ) -polytopes C126 )) holds (B106 in C130 iff ( Sum ( incidence-sequence (B106 , C128) ) ) = ( 1. ( Z_2 ) ))))
and
L608: (( ( C127 - 1 ) -polytopes C126 ) is  empty implies C131 = ( 0. ( ( C127 - 1 ) -chain-space C126 ) ))
and
L609: (( ( C127 - 1 ) -polytopes C126 ) is non  empty implies (for B107 being (Element of ( ( C127 - 1 ) -polytopes C126 )) holds (B107 in C131 iff ( Sum ( incidence-sequence (B107 , C128) ) ) = ( 1. ( Z_2 ) ))));
per cases ;
suppose L610: ( ( C127 - 1 ) -polytopes C126 ) is  empty;

thus L611: thesis by L610 , L606;
end;
suppose L612: ( ( C127 - 1 ) -polytopes C126 ) is non  empty;

L613: (for B108 being (Element of ( ( C127 - 1 ) -polytopes C126 )) holds (B108 in C130 iff B108 in C131))
proof
let C132 being (Element of ( ( C127 - 1 ) -polytopes C126 ));
thus L614: (C132 in C130 implies C132 in C131)
proof
assume L615: C132 in C130;
L616: ( Sum ( incidence-sequence (C132 , C128) ) ) = ( 1. ( Z_2 ) ) by L615 , L607;
thus L617: thesis by L616 , L609 , L612;
end;

thus L618: (C132 in C131 implies C132 in C130)
proof
assume L619: C132 in C131;
L620: ( Sum ( incidence-sequence (C132 , C128) ) ) = ( 1. ( Z_2 ) ) by L619 , L609;
thus L621: thesis by L620 , L607 , L612;
end;

end;
thus L619: thesis by L613 , L589;
end;
end;
end;
theorem
L622: (for R3 being polyhedron holds (for R4 being Integer holds (for B109 being (Element of ( R4 -chain-space R3 )) holds (for B110 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ( ( Boundary B109 ) @ B110 ) = ( Sum ( incidence-sequence (B110 , B109) ) )))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C133 being (Element of ( R4 -chain-space R3 ));
let C134 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
set D126 = ( Boundary C133 );
per cases ;
suppose L623: ( ( R4 - 1 ) -polytopes R3 ) is  empty;

set D127 = ( incidence-sequence (C134 , C133) );
L624: D127 = ( <*> (the carrier of ( Z_2 )) ) by L623 , L485;
L625: ( Sum D127 ) = ( 0. ( Z_2 ) ) by L624 , RLVECT_1:43;
L626: ( Boundary C133 ) = ( 0. ( ( R4 - 1 ) -chain-space R3 ) ) by L623;
thus L627: thesis by L626 , L625 , BSPACE:14;
end;
suppose L628: ( ( R4 - 1 ) -polytopes R3 ) is non  empty;

L629: (C134 in D126 iff ( Sum ( incidence-sequence (C134 , C133) ) ) = ( 1. ( Z_2 ) )) by L628 , L603;
per cases ;
suppose L630: C134 in D126;

thus L631: thesis by L630 , L629 , BSPACE:def 3;
end;
suppose L632: (not C134 in D126);

L633: ( Sum ( incidence-sequence (C134 , C133) ) ) <> ( 1. ( Z_2 ) ) by L632 , L628 , L603;
L634: ( Sum ( incidence-sequence (C134 , C133) ) ) = ( 0. ( Z_2 ) ) by L633 , BSPACE:8;
thus L635: thesis by L634 , L632 , BSPACE:def 3;
end;
end;
end;
definition
let C135 being polyhedron;
let C136 being Integer;
func C136 -boundary C135 -> (Function of ( C136 -chain-space C135 ) , ( ( C136 - 1 ) -chain-space C135 )) means 
:L638: (for B111 being (Element of ( C136 -chain-space C135 )) holds ( it . B111 ) = ( Boundary B111 ));
existence
proof
defpred S3[ set , set ] means (ex B112 being (Element of ( C136 -chain-space C135 )) st ($1 = B112 & $2 = ( Boundary B112 )));
L639: (for B113 being set holds (B113 in ( C136 -chains C135 ) implies (ex B114 being set st (B114 in ( ( C136 - 1 ) -chains C135 ) & S3[ B113 , B114 ]))))
proof
let C137 being set;
assume L640: C137 in ( C136 -chains C135 );
reconsider D128 = C137 as (Element of ( C136 -chain-space C135 )) by L640;
set D129 = ( Boundary D128 );
take D129;
thus L641: thesis;
end;
consider C138 being (Function of ( C136 -chains C135 ) , ( ( C136 - 1 ) -chains C135 )) such that L642: (for B115 being set holds (B115 in ( C136 -chains C135 ) implies S3[ B115 , ( C138 . B115 ) ])) from FUNCT_2:sch 1(L639);
reconsider D130 = C138 as (Function of ( C136 -chain-space C135 ) , ( ( C136 - 1 ) -chain-space C135 ));
take D130;
L643: (for B116 being (Element of ( C136 -chain-space C135 )) holds ( D130 . B116 ) = ( Boundary B116 ))
proof
let C139 being (Element of ( C136 -chain-space C135 ));
L644: S3[ C139 , ( D130 . C139 ) ] by L642;
thus L645: thesis by L644;
end;
thus L646: thesis by L643;
end;
uniqueness
proof
let C140 , C141 being (Function of ( C136 -chain-space C135 ) , ( ( C136 - 1 ) -chain-space C135 ));
assume that
L647: (for B117 being (Element of ( C136 -chain-space C135 )) holds ( C140 . B117 ) = ( Boundary B117 ))
and
L648: (for B118 being (Element of ( C136 -chain-space C135 )) holds ( C141 . B118 ) = ( Boundary B118 ));
L649: (for B119 being set holds (B119 in ( dom C140 ) implies ( C140 . B119 ) = ( C141 . B119 )))
proof
let C142 being set;
assume L650: C142 in ( dom C140 );
reconsider D131 = C142 as (Element of ( C136 -chain-space C135 )) by L650;
L651: ( C140 . D131 ) = ( Boundary D131 ) by L647;
thus L652: thesis by L651 , L648;
end;
L653: ( dom C140 ) = ( [#] ( C136 -chain-space C135 ) ) by FUNCT_2:def 1;
L654: ( dom C140 ) = ( dom C141 ) by L653 , FUNCT_2:def 1;
thus L655: thesis by L654 , L649 , FUNCT_1:2;
end;
end;
theorem
L657: (for R3 being polyhedron holds (for R4 being Integer holds (for B120 , B121 being (Element of ( R4 -chain-space R3 )) holds ( Boundary ( B120 + B121 ) ) = ( ( Boundary B120 ) + ( Boundary B121 ) ))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C143 , C144 being (Element of ( R4 -chain-space R3 ));
set D132 = ( Boundary C143 );
set D133 = ( Boundary C144 );
set D134 = ( C143 + C144 );
set D135 = ( Boundary D134 );
set D136 = ( D132 + D133 );
L658: (for B122 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ( D135 @ B122 ) = ( D136 @ B122 ))
proof
let C145 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
set D137 = ( D132 @ C145 );
set D138 = ( D133 @ C145 );
L659: (D137 = ( Sum ( incidence-sequence (C145 , C143) ) ) & D138 = ( Sum ( incidence-sequence (C145 , C144) ) )) by L622;
L660: (( D135 @ C145 ) = ( Sum ( incidence-sequence (C145 , D134) ) ) & ( D136 @ C145 ) = ( D137 + D138 )) by L513 , L622;
thus L661: thesis by L660 , L659 , L552;
end;
thus L662: thesis by L658 , L586;
end;
theorem
L663: (for R3 being polyhedron holds (for R4 being Integer holds (for B123 being (Element of ( Z_2 )) holds (for B124 being (Element of ( R4 -chain-space R3 )) holds ( Boundary ( B123 * B124 ) ) = ( B123 * ( Boundary B124 ) )))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C146 being (Element of ( Z_2 ));
let C147 being (Element of ( R4 -chain-space R3 ));
set D139 = ( C146 * C147 );
set D140 = ( Boundary D139 );
set D141 = ( Boundary C147 );
set D142 = ( C146 * D141 );
L664: (for B125 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ( D140 @ B125 ) = ( D142 @ B125 ))
proof
let C148 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
set D143 = ( D141 @ C148 );
L665: (( D140 @ C148 ) = ( Sum ( incidence-sequence (C148 , D139) ) ) & ( D141 @ C148 ) = ( Sum ( incidence-sequence (C148 , C147) ) )) by L622;
L666: (( D142 @ C148 ) = ( C146 * D143 ) & ( incidence-sequence (C148 , D139) ) = ( C146 * ( incidence-sequence (C148 , C147) ) )) by L555 , L563;
thus L667: thesis by L666 , L665 , FVSUM_1:73;
end;
thus L668: thesis by L664 , L586;
end;
theorem
L669: (for R3 being polyhedron holds (for R4 being Integer holds ( R4 -boundary R3 ) is (linear-transformation of ( R4 -chain-space R3 ) , ( ( R4 - 1 ) -chain-space R3 ))))
proof
let R3 being polyhedron;
let R4 being Integer;
set D144 = ( R4 -chain-space R3 );
set D145 = ( R4 -boundary R3 );
L670: (for B126 being (Element of ( Z_2 )) holds (for B127 being (Element of D144) holds ( D145 . ( B126 * B127 ) ) = ( B126 * ( D145 . B127 ) )))
proof
let C149 being (Element of ( Z_2 ));
let C150 being (Element of D144);
L671: ( D145 . ( C149 * C150 ) ) = ( Boundary ( C149 * C150 ) ) by L638
.= ( C149 * ( Boundary C150 ) ) by L663
.= ( C149 * ( D145 . C150 ) ) by L638;
thus L672: thesis by L671;
end;
L673: (for B128 , B129 being (Element of D144) holds ( D145 . ( B128 + B129 ) ) = ( ( D145 . B128 ) + ( D145 . B129 ) ))
proof
let C151 , C152 being (Element of D144);
L674: ( D145 . ( C151 + C152 ) ) = ( Boundary ( C151 + C152 ) ) by L638
.= ( ( Boundary C151 ) + ( Boundary C152 ) ) by L657
.= ( ( D145 . C151 ) + ( Boundary C152 ) ) by L638
.= ( ( D145 . C151 ) + ( D145 . C152 ) ) by L638;
thus L675: thesis by L674;
end;
L676: D145 is  additive  homogeneous by L673 , L670 , VECTSP_1:def 20 , MOD_2:def 2;
thus L677: thesis by L676;
end;
registration
let C153 being polyhedron;
let C154 being Integer;
cluster ( C154 -boundary C153 ) ->  homogeneous  additive;
coherence by L669;
end;
definition
let C155 being polyhedron;
let C156 being Integer;
func C156 -circuit-space C155 -> (Subspace of ( C156 -chain-space C155 )) equals 
( ker ( C156 -boundary C155 ) );
coherence;
end;
definition
let C157 being polyhedron;
let C158 being Integer;
func C158 -circuits C157 -> non  empty (Subset of ( C158 -chains C157 )) equals 
( [#] ( C158 -circuit-space C157 ) );
coherence by VECTSP_4:def 2;
end;
definition
let C159 being polyhedron;
let C160 being Integer;
func C160 -bounding-chain-space C159 -> (Subspace of ( C160 -chain-space C159 )) equals 
( im ( ( C160 + 1 ) -boundary C159 ) );
coherence;
end;
definition
let C161 being polyhedron;
let C162 being Integer;
func C162 -bounding-chains C161 -> non  empty (Subset of ( C162 -chains C161 )) equals 
( [#] ( C162 -bounding-chain-space C161 ) );
coherence by VECTSP_4:def 2;
end;
definition
let C163 being polyhedron;
let C164 being Integer;
func C164 -bounding-circuit-space C163 -> (Subspace of ( C164 -chain-space C163 )) equals 
( ( C164 -bounding-chain-space C163 ) /\ ( C164 -circuit-space C163 ) );
coherence;
end;
definition
let C165 being polyhedron;
let C166 being Integer;
func C166 -bounding-circuits C165 -> non  empty (Subset of ( C166 -chains C165 )) equals 
( [#] ( C166 -bounding-circuit-space C165 ) );
coherence by VECTSP_4:def 2;
end;
theorem
L685: (for R3 being polyhedron holds (for R4 being Integer holds ( dim ( R4 -chain-space R3 ) ) = ( ( rank ( R4 -boundary R3 ) ) + ( nullity ( R4 -boundary R3 ) ) ))) by RANKNULL:44;
begin
definition
let C167 being polyhedron;
attr C167 is  simply-connected
means
:L686: (for B130 being Integer holds ( B130 -circuits C167 ) = ( B130 -bounding-chains C167 ));
end;
theorem
L688: (for R3 being polyhedron holds (R3 is  simply-connected iff (for B131 being Integer holds ( B131 -circuit-space R3 ) = ( B131 -bounding-chain-space R3 ))))
proof
let R3 being polyhedron;
defpred S4[ polyhedron ] means (for B132 being Integer holds ( B132 -circuit-space $1 ) = ( B132 -bounding-chain-space $1 ));
thus L689: (R3 is  simply-connected implies S4[ R3 ])
proof
assume L690: R3 is  simply-connected;
let C168 being Integer;
L691: ( C168 -circuits R3 ) = ( C168 -bounding-chains R3 ) by L690 , L686;
thus L692: thesis by L691 , VECTSP_4:29;
end;

thus L693: (S4[ R3 ] implies R3 is  simply-connected)
proof
assume L694: S4[ R3 ];
let C169 being Integer;
thus L695: thesis by L694;
end;

end;
definition
let C170 being polyhedron;
func alternating-f-vector C170 -> (FinSequence of ( INT )) means 
:L694: (( len it ) = ( ( dim C170 ) + 2 ) & (for B133 being Nat holds ((1 <= B133 & B133 <= ( ( dim C170 ) + 2 )) implies ( it . B133 ) = ( ( ( - 1 ) |^ B133 ) * ( num-polytopes (C170 , ( B133 - 2 )) ) ))));
existence
proof
deffunc H2(Nat) = ( ( ( - 1 ) |^ $1 ) * ( num-polytopes (C170 , ( $1 - 2 )) ) );
consider C171 being (FinSequence of ( INT )) such that L695: ( len C171 ) = ( ( dim C170 ) + 2 ) and L696: (for B134 being Nat holds (B134 in ( dom C171 ) implies ( C171 . B134 ) = H2(B134))) from FINSEQ_2:sch 1;
take C171;
L697: ( dom C171 ) = ( Seg ( ( dim C170 ) + 2 ) ) by L695 , FINSEQ_1:def 3;
L698: (for B135 being Nat holds ((1 <= B135 & B135 <= ( ( dim C170 ) + 2 )) implies ( C171 . B135 ) = ( ( ( - 1 ) |^ B135 ) * ( num-polytopes (C170 , ( B135 - 2 )) ) )))
proof
let C172 being Nat;
assume L699: (1 <= C172 & C172 <= ( ( dim C170 ) + 2 ));
L700: C172 in ( Seg ( ( dim C170 ) + 2 ) ) by L699 , FINSEQ_1:1;
thus L701: thesis by L700 , L696 , L697;
end;
thus L702: thesis by L698 , L695;
end;
uniqueness
proof
let C173 , C174 being (FinSequence of ( INT ));
assume that
L703: ( len C173 ) = ( ( dim C170 ) + 2 )
and
L704: (for B136 being Nat holds ((1 <= B136 & B136 <= ( ( dim C170 ) + 2 )) implies ( C173 . B136 ) = ( ( ( - 1 ) |^ B136 ) * ( num-polytopes (C170 , ( B136 - 2 )) ) )))
and
L705: ( len C174 ) = ( ( dim C170 ) + 2 )
and
L706: (for B137 being Nat holds ((1 <= B137 & B137 <= ( ( dim C170 ) + 2 )) implies ( C174 . B137 ) = ( ( ( - 1 ) |^ B137 ) * ( num-polytopes (C170 , ( B137 - 2 )) ) )));
L707: (for B138 being Nat holds ((1 <= B138 & B138 <= ( len C173 )) implies ( C173 . B138 ) = ( C174 . B138 )))
proof
let C175 being Nat;
assume that
L708: (1 <= C175 & C175 <= ( len C173 ));
reconsider D146 = C175 as Nat;
L709: ( C173 . D146 ) = ( ( ( - 1 ) |^ D146 ) * ( num-polytopes (C170 , ( D146 - 2 )) ) ) by L703 , L704 , L708;
thus L710: thesis by L709 , L703 , L706 , L708;
end;
thus L711: thesis by L707 , L703 , L705 , FINSEQ_1:14;
end;
end;
definition
let C176 being polyhedron;
func alternating-proper-f-vector C176 -> (FinSequence of ( INT )) means 
:L713: (( len it ) = ( dim C176 ) & (for B139 being Nat holds ((1 <= B139 & B139 <= ( dim C176 )) implies ( it . B139 ) = ( ( ( - 1 ) |^ ( B139 + 1 ) ) * ( num-polytopes (C176 , ( B139 - 1 )) ) ))));
existence
proof
deffunc H3(Nat) = ( ( ( - 1 ) |^ ( $1 + 1 ) ) * ( num-polytopes (C176 , ( $1 - 1 )) ) );
consider C177 being (FinSequence of ( INT )) such that L714: ( len C177 ) = ( dim C176 ) and L715: (for B140 being Nat holds (B140 in ( dom C177 ) implies ( C177 . B140 ) = H3(B140))) from FINSEQ_2:sch 1;
take C177;
L716: ( dom C177 ) = ( Seg ( dim C176 ) ) by L714 , FINSEQ_1:def 3;
L717: (for B141 being Nat holds ((1 <= B141 & B141 <= ( dim C176 )) implies ( C177 . B141 ) = ( ( ( - 1 ) |^ ( B141 + 1 ) ) * ( num-polytopes (C176 , ( B141 - 1 )) ) )))
proof
let C178 being Nat;
assume L718: (1 <= C178 & C178 <= ( dim C176 ));
L719: C178 in ( Seg ( dim C176 ) ) by L718 , FINSEQ_1:1;
thus L720: thesis by L719 , L715 , L716;
end;
thus L721: thesis by L717 , L714;
end;
uniqueness
proof
let C179 , C180 being (FinSequence of ( INT ));
assume that
L722: ( len C179 ) = ( dim C176 )
and
L723: (for B142 being Nat holds ((1 <= B142 & B142 <= ( dim C176 )) implies ( C179 . B142 ) = ( ( ( - 1 ) |^ ( B142 + 1 ) ) * ( num-polytopes (C176 , ( B142 - 1 )) ) )))
and
L724: ( len C180 ) = ( dim C176 )
and
L725: (for B143 being Nat holds ((1 <= B143 & B143 <= ( dim C176 )) implies ( C180 . B143 ) = ( ( ( - 1 ) |^ ( B143 + 1 ) ) * ( num-polytopes (C176 , ( B143 - 1 )) ) )));
L726: (for B144 being Nat holds ((1 <= B144 & B144 <= ( len C179 )) implies ( C179 . B144 ) = ( C180 . B144 )))
proof
let C181 being Nat;
assume that
L727: (1 <= C181 & C181 <= ( len C179 ));
reconsider D147 = C181 as Nat;
L728: ( C179 . D147 ) = ( ( ( - 1 ) |^ ( D147 + 1 ) ) * ( num-polytopes (C176 , ( D147 - 1 )) ) ) by L722 , L723 , L727;
thus L729: thesis by L728 , L722 , L725 , L727;
end;
thus L730: thesis by L726 , L722 , L724 , FINSEQ_1:14;
end;
end;
definition
let C182 being polyhedron;
func alternating-semi-proper-f-vector C182 -> (FinSequence of ( INT )) means 
:L732: (( len it ) = ( ( dim C182 ) + 1 ) & (for B145 being Nat holds ((1 <= B145 & B145 <= ( ( dim C182 ) + 1 )) implies ( it . B145 ) = ( ( ( - 1 ) |^ ( B145 + 1 ) ) * ( num-polytopes (C182 , ( B145 - 1 )) ) ))));
existence
proof
deffunc H4(Nat) = ( ( ( - 1 ) |^ ( $1 + 1 ) ) * ( num-polytopes (C182 , ( $1 - 1 )) ) );
consider C183 being (FinSequence of ( INT )) such that L733: ( len C183 ) = ( ( dim C182 ) + 1 ) and L734: (for B146 being Nat holds (B146 in ( dom C183 ) implies ( C183 . B146 ) = H4(B146))) from FINSEQ_2:sch 1;
take C183;
L735: ( dom C183 ) = ( Seg ( ( dim C182 ) + 1 ) ) by L733 , FINSEQ_1:def 3;
L736: (for B147 being Nat holds ((1 <= B147 & B147 <= ( ( dim C182 ) + 1 )) implies ( C183 . B147 ) = ( ( ( - 1 ) |^ ( B147 + 1 ) ) * ( num-polytopes (C182 , ( B147 - 1 )) ) )))
proof
let C184 being Nat;
assume L737: (1 <= C184 & C184 <= ( ( dim C182 ) + 1 ));
L738: C184 in ( Seg ( ( dim C182 ) + 1 ) ) by L737 , FINSEQ_1:1;
thus L739: thesis by L738 , L734 , L735;
end;
thus L740: thesis by L736 , L733;
end;
uniqueness
proof
let C185 , C186 being (FinSequence of ( INT ));
assume that
L741: ( len C185 ) = ( ( dim C182 ) + 1 )
and
L742: (for B148 being Nat holds ((1 <= B148 & B148 <= ( ( dim C182 ) + 1 )) implies ( C185 . B148 ) = ( ( ( - 1 ) |^ ( B148 + 1 ) ) * ( num-polytopes (C182 , ( B148 - 1 )) ) )))
and
L743: ( len C186 ) = ( ( dim C182 ) + 1 )
and
L744: (for B149 being Nat holds ((1 <= B149 & B149 <= ( ( dim C182 ) + 1 )) implies ( C186 . B149 ) = ( ( ( - 1 ) |^ ( B149 + 1 ) ) * ( num-polytopes (C182 , ( B149 - 1 )) ) )));
L745: (for B150 being Nat holds ((1 <= B150 & B150 <= ( len C185 )) implies ( C185 . B150 ) = ( C186 . B150 )))
proof
let C187 being Nat;
assume that
L746: (1 <= C187 & C187 <= ( len C185 ));
reconsider D148 = C187 as Nat;
L747: ( C185 . D148 ) = ( ( ( - 1 ) |^ ( D148 + 1 ) ) * ( num-polytopes (C182 , ( D148 - 1 )) ) ) by L741 , L742 , L746;
thus L748: thesis by L747 , L741 , L744 , L746;
end;
thus L749: thesis by L745 , L741 , L743 , FINSEQ_1:14;
end;
end;
theorem
L751: (for R3 being polyhedron holds (for R5 being Nat holds ((1 <= R5 & R5 <= ( len ( alternating-proper-f-vector R3 ) )) implies ( ( alternating-proper-f-vector R3 ) . R5 ) = ( ( ( ( - 1 ) |^ ( R5 + 1 ) ) * ( dim ( ( R5 - 2 ) -bounding-chain-space R3 ) ) ) + ( ( ( - 1 ) |^ ( R5 + 1 ) ) * ( dim ( ( R5 - 1 ) -circuit-space R3 ) ) ) ))))
proof
let R3 being polyhedron;
let R5 being Nat;
set D149 = ( alternating-proper-f-vector R3 );
assume L752: 1 <= R5;
set D150 = ( ( - 1 ) |^ ( R5 + 1 ) );
assume L753: R5 <= ( len D149 );
L754: R5 <= ( dim R3 ) by L753 , L713;
L755: ( D149 . R5 ) = ( D150 * ( num-polytopes (R3 , ( R5 - 1 )) ) ) by L754 , L752 , L713
.= ( D150 * ( dim ( ( R5 - 1 ) -chain-space R3 ) ) ) by L480
.= ( D150 * ( ( rank ( ( R5 - 1 ) -boundary R3 ) ) + ( nullity ( ( R5 - 1 ) -boundary R3 ) ) ) ) by RANKNULL:44
.= ( ( D150 * ( dim ( ( R5 - 2 ) -bounding-chain-space R3 ) ) ) + ( D150 * ( dim ( ( R5 - 1 ) -circuit-space R3 ) ) ) );
thus L756: thesis by L755;
end;
definition
let C188 being polyhedron;
attr C188 is  eulerian
means
:L757: ( Sum ( alternating-proper-f-vector C188 ) ) = ( 1 + ( ( - 1 ) |^ ( ( dim C188 ) + 1 ) ) );
end;
theorem
L759: (for R3 being polyhedron holds ( alternating-semi-proper-f-vector R3 ) = ( ( alternating-proper-f-vector R3 ) ^ <* ( ( - 1 ) |^ ( dim R3 ) ) *> ))
proof
let R3 being polyhedron;
set D151 = ( dim R3 );
set D152 = ( alternating-semi-proper-f-vector R3 );
set D153 = ( alternating-proper-f-vector R3 );
set D154 = ( D153 ^ <* ( ( - 1 ) |^ ( dim R3 ) ) *> );
L760: ( len D152 ) = ( D151 + 1 ) by L732;
L761: (for B151 being Nat holds ((1 <= B151 & B151 <= ( len D152 )) implies ( D152 . B151 ) = ( D154 . B151 )))
proof
let C189 being Nat;
assume that
L762: 1 <= C189
and
L763: C189 <= ( len D152 );
per cases  by L760 , L763 , NAT_1:8;
suppose L764: C189 <= D151;

L765: C189 in ( NAT ) by ORDINAL1:def 12;
L766: (( len D153 ) = D151 & ( dom D153 ) = ( Seg ( len D153 ) )) by L713 , FINSEQ_1:def 3;
L767: C189 in ( dom D153 ) by L766 , L762 , L764 , L765;
L768: ( D154 . C189 ) = ( D153 . C189 ) by L767 , FINSEQ_1:def 7
.= ( ( ( - 1 ) |^ ( C189 + 1 ) ) * ( num-polytopes (R3 , ( C189 - 1 )) ) ) by L762 , L764 , L713;
thus L769: thesis by L768 , L760 , L762 , L763 , L732;
end;
suppose L770: C189 = ( D151 + 1 );

L771: C189 = ( ( len D153 ) + 1 ) by L770 , L713;
L772: ( D154 . C189 ) = ( ( - 1 ) |^ D151 ) by L771 , FINSEQ_1:42
.= ( ( - 1 ) |^ ( D151 + 2 ) ) by L74;
L773: ( D152 . C189 ) = ( ( ( - 1 ) |^ ( C189 + 1 ) ) * ( num-polytopes (R3 , ( C189 - 1 )) ) ) by L762 , L770 , L732
.= ( ( ( - 1 ) |^ ( C189 + 1 ) ) * 1 ) by L770 , L400
.= ( ( - 1 ) |^ ( C189 + 1 ) );
thus L774: thesis by L773 , L770 , L772;
end;
end;
L776: ( len D154 ) = ( ( len D153 ) + ( len <* ( ( - 1 ) |^ ( dim R3 ) ) *> ) ) by FINSEQ_1:22
.= ( D151 + ( len <* ( ( - 1 ) |^ ( dim R3 ) ) *> ) ) by L713
.= ( D151 + 1 ) by FINSEQ_1:40;
L777: ( len D152 ) = ( len D154 ) by L776 , L732;
thus L778: thesis by L777 , L761 , FINSEQ_1:14;
end;
definition
let C190 being polyhedron;
redefine attr C190 is  eulerian
means
:L779: ( Sum ( alternating-semi-proper-f-vector C190 ) ) = 1;
compatibility
proof
set D155 = ( alternating-semi-proper-f-vector C190 );
set D156 = ( alternating-proper-f-vector C190 );
L780: D155 = ( D156 ^ <* ( ( - 1 ) |^ ( dim C190 ) ) *> ) by L759;
L781: ( Sum D155 ) = ( ( Sum D156 ) + ( ( - 1 ) |^ ( dim C190 ) ) ) by L780 , RVSUM_1:74;
L782: (( Sum D155 ) = 1 implies C190 is  eulerian)
proof
assume L783: ( Sum D155 ) = 1;
L784: ( Sum D156 ) = ( 1 + ( ( - 1 ) * ( ( - 1 ) |^ ( dim C190 ) ) ) ) by L783 , L781
.= ( 1 + ( ( - 1 ) |^ ( ( dim C190 ) + 1 ) ) ) by NEWTON:6;
thus L785: thesis by L784 , L757;
end;
L786: (C190 is  eulerian implies ( Sum D155 ) = 1)
proof
assume L787: C190 is  eulerian;
L788: ( Sum D155 ) = ( ( 1 + ( ( - 1 ) |^ ( ( dim C190 ) + 1 ) ) ) + ( ( - 1 ) |^ ( dim C190 ) ) ) by L787 , L781 , L757
.= ( ( 1 + ( ( - 1 ) * ( ( - 1 ) |^ ( dim C190 ) ) ) ) + ( ( - 1 ) |^ ( dim C190 ) ) ) by NEWTON:6
.= 1;
thus L789: thesis by L788;
end;
thus L790: thesis by L786 , L782;
end;
end;
theorem
L792: (for R3 being polyhedron holds ( alternating-f-vector R3 ) = ( <* ( - 1 ) *> ^ ( alternating-semi-proper-f-vector R3 ) ))
proof
let R3 being polyhedron;
set D157 = ( alternating-f-vector R3 );
set D158 = ( alternating-semi-proper-f-vector R3 );
set D159 = ( dim R3 );
set D160 = ( <* ( - 1 ) *> ^ D158 );
L793: ( len D160 ) = ( ( len <* ( - 1 ) *> ) + ( len D158 ) ) by FINSEQ_1:22
.= ( ( len <* ( - 1 ) *> ) + ( D159 + 1 ) ) by L732
.= ( 1 + ( D159 + 1 ) ) by FINSEQ_1:40
.= ( D159 + 2 );
L794: (for B152 being Nat holds ((1 <= B152 & B152 <= ( len D157 )) implies ( D157 . B152 ) = ( D160 . B152 )))
proof
let C191 being Nat;
assume that
L795: 1 <= C191
and
L796: C191 <= ( len D157 );
L797: C191 <= ( D159 + 2 ) by L796 , L694;
per cases  by L795 , XXREAL_0:1;
suppose L798: C191 = 1;

L799: ( D157 . C191 ) = ( ( ( - 1 ) |^ 1 ) * ( num-polytopes (R3 , ( 1 - 2 )) ) ) by L798 , L797 , L694
.= ( ( - 1 ) * ( num-polytopes (R3 , ( - 1 )) ) ) by NEWTON:5
.= ( ( - 1 ) * 1 ) by L397
.= ( - 1 );
thus L800: thesis by L799 , L798 , FINSEQ_1:41;
end;
suppose L801: C191 > 1;

L802: ( 1 - 1 ) < ( C191 - 1 ) by L801 , XREAL_1:9;
reconsider D161 = ( C191 - 1 ) as (Element of ( NAT )) by L802 , INT_1:3;
L803: ( C191 - 1 ) <= ( ( D159 + 2 ) - 1 ) by L797 , XREAL_1:9;
L804: D161 <= ( D159 + 1 ) by L803;
L805: ( len <* ( - 1 ) *> ) = 1 by FINSEQ_1:39;
L806: ( D160 . C191 ) = ( D158 . ( C191 - 1 ) ) by L805 , L793 , L797 , L801 , FINSEQ_1:24;
L807: ( 0 ) < ( (( 0 ) qua Nat) + D161 ) by L802;
L808: 1 <= D161 by L807 , NAT_1:19;
L809: ( D158 . D161 ) = ( ( ( - 1 ) |^ ( D161 + 1 ) ) * ( num-polytopes (R3 , ( D161 - 1 )) ) ) by L808 , L804 , L732
.= ( ( ( - 1 ) |^ C191 ) * ( num-polytopes (R3 , ( C191 - 2 )) ) );
thus L810: thesis by L809 , L795 , L797 , L806 , L694;
end;
end;
L812: ( len D157 ) = ( len D160 ) by L793 , L694;
thus L813: thesis by L812 , L794 , FINSEQ_1:14;
end;
definition
let C192 being polyhedron;
redefine attr C192 is  eulerian
means
:L814: ( Sum ( alternating-f-vector C192 ) ) = ( 0 );
compatibility
proof
set D162 = ( alternating-semi-proper-f-vector C192 );
set D163 = ( alternating-f-vector C192 );
L815: D163 = ( <* ( - 1 ) *> ^ D162 ) by L792;
L816: ( Sum D163 ) = ( ( - 1 ) + ( Sum D162 ) ) by L815 , L178;
L817: (C192 is  eulerian implies ( Sum D163 ) = ( 0 ))
proof
assume L818: C192 is  eulerian;
L819: ( Sum D163 ) = ( ( - 1 ) + 1 ) by L818 , L816 , L779
.= ( 0 );
thus L820: thesis by L819;
end;
thus L821: thesis by L817 , L816 , L779;
end;
end;
begin
theorem
L823: (for R3 being polyhedron holds ( ( 0 ) -polytopes R3 ) is non  empty)
proof
let R3 being polyhedron;
set D164 = ( dim R3 );
per cases ;
suppose L824: D164 = ( 0 );

L825: ( ( 0 ) -polytopes R3 ) = { R3 } by L824 , L206;
thus L826: thesis by L825;
end;
suppose L827: D164 > ( 0 );

thus L828: thesis by L827 , L249;
end;
end;
theorem
L830: (for R3 being polyhedron holds ( card ( [#] ( ( - 1 ) -chain-space R3 ) ) ) = 2)
proof
let R3 being polyhedron;
L831: ( ( - 1 ) -polytopes R3 ) = { ( {} ) } by L206;
L832: ( card ( ( - 1 ) -polytopes R3 ) ) = 1 by L831 , CARD_1:30;
L833: ( card ( [#] ( ( - 1 ) -chain-space R3 ) ) ) = ( exp (2 , 1) ) by L832 , BSPACE:42
.= 2 by CARD_2:27;
thus L834: thesis by L833;
end;
theorem
L835: (for R3 being polyhedron holds ( [#] ( ( - 1 ) -chain-space R3 ) ) = { ( {} ) , { ( {} ) } })
proof
let R3 being polyhedron;
L836: ( ( - 1 ) -polytopes R3 ) = { ( {} ) } by L206;
thus L837: thesis by L836 , ZFMISC_1:24;
end;
theorem
L838: (for R3 being polyhedron holds (for R4 being Integer holds (for B153 being (Element of ( R4 -polytopes R3 )) holds (for B154 being (Element of ( ( R4 - 1 ) -polytopes R3 )) holds ((R4 = ( 0 ) & B154 = ( {} )) implies ( incidence-value (B154 , B153) ) = ( 1. ( Z_2 ) ))))))
proof
let R3 being polyhedron;
let R4 being Integer;
let C193 being (Element of ( R4 -polytopes R3 ));
let C194 being (Element of ( ( R4 - 1 ) -polytopes R3 ));
assume that
L839: R4 = ( 0 )
and
L840: C194 = ( {} );
L841: ( eta (R3 , R4) ) = ( [: { ( {} ) } , ( ( 0 ) -polytopes R3 ) :] --> ( 1. ( Z_2 ) ) ) by L839 , L253;
L842: R4 <= ( dim R3 ) by L839;
L843: (( {} ) in { ( {} ) } & ( ( 0 ) -polytopes R3 ) is non  empty) by L842 , L249 , TARSKI:def 1;
L844: [ ( {} ) , C193 ] in [: { ( {} ) } , ( ( 0 ) -polytopes R3 ) :] by L843 , L839 , ZFMISC_1:87;
L845: ( incidence-value (C194 , C193) ) = ( ( eta (R3 , R4) ) . (C194 , C193) ) by L839 , L842 , L467
.= ( 1. ( Z_2 ) ) by L840 , L841 , L844 , FUNCOP_1:7;
thus L846: thesis by L845;
end;
theorem
L847: (for R3 being polyhedron holds (for B155 being Integer holds (for B156 being (Element of ( B155 -polytopes R3 )) holds (for B157 being (Element of ( B155 -chain-space R3 )) holds (for B158 being (Element of ( ( B155 - 1 ) -polytopes R3 )) holds (for B159 being Nat holds ((B155 = ( 0 ) & B157 = { B156 } & B158 = ( {} ) & B156 = ( B159 -th-polytope (R3 , B155) ) & 1 <= B159 & B159 <= ( num-polytopes (R3 , B155) )) implies ( ( incidence-sequence (B158 , B157) ) . B159 ) = ( 1. ( Z_2 ) ))))))))
proof
let R3 being polyhedron;
let C195 being Integer;
let C196 being (Element of ( C195 -polytopes R3 ));
let C197 being (Element of ( C195 -chain-space R3 ));
let C198 being (Element of ( ( C195 - 1 ) -polytopes R3 ));
let C199 being Nat;
assume that
L848: C195 = ( 0 )
and
L849: C197 = { C196 }
and
L850: C198 = ( {} )
and
L851: (C196 = ( C199 -th-polytope (R3 , C195) ) & 1 <= C199 & C199 <= ( num-polytopes (R3 , C195) ));
set D165 = ( incidence-sequence (C198 , C197) );
L852: C196 in C197 by L849 , TARSKI:def 1;
L853: ( ( C195 - 1 ) -polytopes R3 ) is non  empty by L848 , L206;
L854: ( D165 . C199 ) = ( ( C197 @ C196 ) * ( incidence-value (C198 , C196) ) ) by L853 , L851 , L485
.= ( ( 1. ( Z_2 ) ) * ( incidence-value (C198 , C196) ) ) by L852 , BSPACE:def 3
.= ( ( 1. ( Z_2 ) ) * ( 1. ( Z_2 ) ) ) by L848 , L850 , L838
.= ( 1. ( Z_2 ) ) by VECTSP_1:def 6;
thus L855: thesis by L854;
end;
theorem
L856: (for R3 being polyhedron holds (for B160 being Integer holds (for B161 being (Element of ( B160 -polytopes R3 )) holds (for B162 being (Element of ( ( B160 - 1 ) -polytopes R3 )) holds (for B163 being (Element of ( B160 -chain-space R3 )) holds (for B164 , B165 being Nat holds ((B160 = ( 0 ) & B163 = { B161 } & B161 = ( B165 -th-polytope (R3 , B160) ) & 1 <= B164 & B164 <= ( num-polytopes (R3 , B160) ) & 1 <= B165 & B165 <= ( num-polytopes (R3 , B160) ) & B164 <> B165) implies ( ( incidence-sequence (B162 , B163) ) . B164 ) = ( 0. ( Z_2 ) ))))))))
proof
let R3 being polyhedron;
let C200 being Integer;
let C201 being (Element of ( C200 -polytopes R3 ));
let C202 being (Element of ( ( C200 - 1 ) -polytopes R3 ));
let C203 being (Element of ( C200 -chain-space R3 ));
let C204 , C205 being Nat;
assume that
L857: C200 = ( 0 )
and
L858: C203 = { C201 }
and
L859: C201 = ( C205 -th-polytope (R3 , C200) )
and
L860: (1 <= C204 & C204 <= ( num-polytopes (R3 , C200) ))
and
L861: (1 <= C205 & C205 <= ( num-polytopes (R3 , C200) ) & C204 <> C205);
L862: ( C204 -th-polytope (R3 , C200) ) <> C201 by L859 , L860 , L861 , L454;
L863:
now
assume L864: ( C203 @ ( C204 -th-polytope (R3 , C200) ) ) = ( 1. ( Z_2 ) );
L865: ( C204 -th-polytope (R3 , C200) ) in { C201 } by L864 , L858 , BSPACE:9;
thus L866: contradiction by L865 , L862 , TARSKI:def 1;
end;
L867: ( C203 @ ( C204 -th-polytope (R3 , C200) ) ) = ( 0. ( Z_2 ) ) by L863 , BSPACE:11;
set D166 = ( incidence-sequence (C202 , C203) );
L868: ( ( C200 - 1 ) -polytopes R3 ) is non  empty by L857 , L206;
L869: ( D166 . C204 ) = ( ( 0. ( Z_2 ) ) * ( incidence-value (C202 , ( C204 -th-polytope (R3 , C200) )) ) ) by L868 , L860 , L867 , L485
.= ( 0. ( Z_2 ) ) by VECTSP_1:7;
thus L870: thesis by L869;
end;
theorem
L871: (for R3 being polyhedron holds (for B166 being Integer holds (for B167 being (Element of ( B166 -polytopes R3 )) holds (for B168 being (Element of ( B166 -chain-space R3 )) holds (for B169 being (Element of ( ( B166 - 1 ) -polytopes R3 )) holds ((B166 = ( 0 ) & B168 = { B167 } & B169 = ( {} )) implies ( Sum ( incidence-sequence (B169 , B168) ) ) = ( 1. ( Z_2 ) )))))))
proof
let R3 being polyhedron;
let C206 being Integer;
let C207 being (Element of ( C206 -polytopes R3 ));
let C208 being (Element of ( C206 -chain-space R3 ));
let C209 being (Element of ( ( C206 - 1 ) -polytopes R3 ));
assume that
L872: C206 = ( 0 )
and
L873: C208 = { C207 }
and
L874: C209 = ( {} );
set D167 = ( incidence-sequence (C209 , C208) );
L875: C206 <= ( dim R3 ) by L872;
consider C210 being Nat such that L876: C207 = ( C210 -th-polytope (R3 , C206) ) and L877: (1 <= C210 & C210 <= ( num-polytopes (R3 , C206) )) by L875 , L872 , L410;
L878: ( ( C206 - 1 ) -polytopes R3 ) is non  empty by L872 , L206;
L879: ( len D167 ) = ( num-polytopes (R3 , C206) ) by L878 , L485;
L880: (for B170 being Nat holds ((B170 in ( dom D167 ) & B170 <> C210) implies ( D167 . B170 ) = ( 0. ( Z_2 ) )))
proof
let C211 being Nat;
assume that
L881: C211 in ( dom D167 )
and
L882: C211 <> C210;
L883: C211 in ( Seg ( len D167 ) ) by L881 , FINSEQ_1:def 3;
L884: (1 <= C211 & C211 <= ( len D167 )) by L883 , FINSEQ_1:1;
thus L885: thesis by L884 , L872 , L873 , L876 , L877 , L879 , L882 , L856;
end;
L886: ( dom D167 ) = ( Seg ( len D167 ) ) by FINSEQ_1:def 3;
L887: C210 in ( dom D167 ) by L886 , L877 , L879 , FINSEQ_1:1;
L888: ( D167 . C210 ) = ( 1. ( Z_2 ) ) by L872 , L873 , L874 , L876 , L877 , L847;
thus L889: thesis by L888 , L887 , L880 , MATRIX_3:12;
end;
theorem
L890: (for R3 being polyhedron holds (for B171 being (Element of ( ( 0 ) -polytopes R3 )) holds ( ( ( 0 ) -boundary R3 ) . { B171 } ) = { ( {} ) }))
proof
let R3 being polyhedron;
reconsider D168 = ( (( 0 ) qua Nat) - 1 ) as Integer;
let C212 being (Element of ( ( 0 ) -polytopes R3 ));
set D169 = ( ( 0 ) -boundary R3 );
L891: ( ( 0 ) -polytopes R3 ) is non  empty by L823;
reconsider D170 = { C212 } as (Subset of ( ( 0 ) -polytopes R3 )) by L891 , ZFMISC_1:31;
L892: ( ( (( 0 ) qua Nat) - 1 ) -polytopes R3 ) = { ( {} ) } by L206;
reconsider D171 = ( {} ) as (Element of ( ( (( 0 ) qua Nat) - 1 ) -polytopes R3 )) by L892 , TARSKI:def 1;
reconsider D172 = D170 as (Element of ( ( 0 ) -chain-space R3 ));
reconsider D173 = ( Boundary D172 ) as (Element of ( D168 -chain-space R3 ));
L893: D173 c= { D171 }
proof
L894: ( [#] ( D168 -chain-space R3 ) ) = { ( {} ) , { ( {} ) } } by L835;
let C213 being set;
assume that
L895: C213 in D173;
per cases  by L894 , TARSKI:def 2;
suppose L896: D173 = ( {} );

thus L897: thesis by L896 , L895;
end;
suppose L898: D173 = { ( {} ) };

thus L899: thesis by L898 , L895;
end;
end;
L901: ( D168 -polytopes R3 ) is non  empty by L206;
L902: (D171 in D173 iff ( Sum ( incidence-sequence (D171 , D172) ) ) = ( 1. ( Z_2 ) )) by L901 , L603;
L903: { D171 } c= D173 by L902 , L871 , ZFMISC_1:31;
L904: ( D169 . D172 ) = ( Boundary D172 ) by L638;
thus L905: thesis by L904 , L903 , L893 , XBOOLE_0:def 10;
end;
theorem
L906: (for R3 being polyhedron holds (for R4 being Integer holds (R4 = ( - 1 ) implies ( dim ( R4 -bounding-chain-space R3 ) ) = 1)))
proof
let R3 being polyhedron;
let R4 being Integer;
set D174 = ( ( 0 ) -boundary R3 );
set D175 = ( R4 -bounding-chain-space R3 );
assume L907: R4 = ( - 1 );
L908: ( card ( [#] D175 ) ) = 2
proof
L909: ( [#] D175 ) c= ( [#] ( R4 -chain-space R3 ) ) by VECTSP_4:def 2;
L910: ( card ( [#] D175 ) ) c= ( card ( [#] ( R4 -chain-space R3 ) ) ) by L909 , CARD_1:11;
L911: ( card ( [#] D175 ) ) c= 2 by L910 , L907 , L830;
L912: ( ( 0 ) -polytopes R3 ) <> ( {} ) by L823;
consider C214 being set such that L913: C214 in ( ( 0 ) -polytopes R3 ) by L912 , XBOOLE_0:def 1;
reconsider D176 = C214 as (Element of ( ( 0 ) -polytopes R3 )) by L913;
set D177 = { D176 };
L914: ( D174 . D177 ) = { ( {} ) } by L890;
reconsider D178 = D177 as (Subset of ( ( 0 ) -polytopes R3 )) by L913 , ZFMISC_1:31;
reconsider D179 = D178 as (Element of ( ( 0 ) -chain-space R3 ));
L915: ( dom D174 ) = ( [#] ( ( 0 ) -chain-space R3 ) ) by RANKNULL:7;
L916: D179 in ( dom D174 ) by L915;
L917: { ( {} ) } in ( rng D174 ) by L916 , L914 , FUNCT_1:3;
L918: ( D174 . ( 0. ( ( 0 ) -chain-space R3 ) ) ) = ( 0. ( R4 -chain-space R3 ) ) by L907 , RANKNULL:9
.= ( {} );
L919: ( {} ) in ( rng D174 ) by L918 , L915 , FUNCT_1:3;
L920: { ( {} ) , { ( {} ) } } c= ( rng D174 ) by L919 , L917 , ZFMISC_1:32;
L921: ( card { ( {} ) , { ( {} ) } } ) = 2 by CARD_2:57;
L922: 2 c= ( card ( rng D174 ) ) by L921 , L920 , CARD_1:11;
L923: ( card ( rng D174 ) ) = ( card ( D174 .: ( [#] ( ( 0 ) -chain-space R3 ) ) ) ) by RELSET_1:22
.= ( card ( [#] D175 ) ) by L907 , RANKNULL:def 2;
thus L924: thesis by L923 , L922 , L911 , XBOOLE_0:def 10;
end;
thus L925: thesis by L908 , RANKNULL:6;
end;
theorem
L926: (for R3 being polyhedron holds ( card ( [#] ( ( dim R3 ) -chain-space R3 ) ) ) = 2)
proof
let R3 being polyhedron;
L927: ( ( dim R3 ) -polytopes R3 ) = { R3 } by L206;
L928: ( card ( ( dim R3 ) -polytopes R3 ) ) = 1 by L927 , CARD_1:30;
L929: ( card ( [#] ( ( dim R3 ) -chain-space R3 ) ) ) = ( exp (2 , 1) ) by L928 , BSPACE:42
.= 2 by CARD_2:27;
thus L930: thesis by L929;
end;
theorem
L931: (for R3 being polyhedron holds { R3 } is (Element of ( ( dim R3 ) -chain-space R3 )))
proof
let R3 being polyhedron;
L932: ( ( dim R3 ) -polytopes R3 ) = { R3 } by L206;
thus L933: thesis by L932 , ZFMISC_1:def 1;
end;
theorem
L934: (for R3 being polyhedron holds { R3 } in ( [#] ( ( dim R3 ) -chain-space R3 ) ))
proof
let R3 being polyhedron;
L935: { R3 } is (Element of ( ( dim R3 ) -chain-space R3 )) by L931;
thus L936: thesis by L935;
end;
theorem
L937: (for R3 being polyhedron holds ( ( ( dim R3 ) - 1 ) -polytopes R3 ) is non  empty)
proof
let R3 being polyhedron;
set D180 = ( ( dim R3 ) - 1 );
L938: ( (( 0 ) qua Nat) - 1 ) = ( - 1 );
L939: ( - 1 ) <= D180 by L938 , XREAL_1:9;
L940: D180 <= ( dim R3 ) by XREAL_1:146;
thus L941: thesis by L940 , L939 , L249;
end;
registration
let C215 being polyhedron;
cluster ( ( ( dim C215 ) - 1 ) -polytopes C215 ) -> non  empty;
coherence by L937;
end;
theorem
L943: (for R3 being polyhedron holds ( [#] ( ( dim R3 ) -chain-space R3 ) ) = { ( 0. ( ( dim R3 ) -chain-space R3 ) ) , { R3 } })
proof
let R3 being polyhedron;
set D181 = ( ( dim R3 ) -chain-space R3 );
set D182 = ( [#] D181 );
L944: ( card D182 ) = 2 by L926;
reconsider D183 = D182 as  finite set;
L945: { R3 } in D183 by L934;
L946: (ex B172 , B173 being set st (B172 <> B173 & D183 = { B172 , B173 })) by L944 , CARD_2:60;
thus L947: thesis by L946 , L945 , L1;
end;
theorem
L948: (for R3 being polyhedron holds (for B174 being (Element of ( ( dim R3 ) -chain-space R3 )) holds (B174 = ( 0. ( ( dim R3 ) -chain-space R3 ) ) or B174 = { R3 })))
proof
let R3 being polyhedron;
set D184 = ( ( dim R3 ) -chain-space R3 );
let C216 being (Element of D184);
L949: C216 in ( [#] D184 );
L950: C216 in { ( 0. D184 ) , { R3 } } by L949 , L943;
thus L951: thesis by L950 , TARSKI:def 2;
end;
theorem
L952: (for R3 being polyhedron holds (for B175 , B176 being (Element of ( ( dim R3 ) -chain-space R3 )) holds (B175 <> B176 implies (B175 = ( 0. ( ( dim R3 ) -chain-space R3 ) ) or B176 = ( 0. ( ( dim R3 ) -chain-space R3 ) )))))
proof
let R3 being polyhedron;
set D185 = ( ( dim R3 ) -chain-space R3 );
let C217 , C218 being (Element of D185);
assume that
L953: C217 <> C218;
assume L954: C217 <> ( 0. D185 );
L955: C217 = { R3 } by L954 , L948;
assume L956: C218 <> ( 0. D185 );
thus L957: contradiction by L956 , L953 , L955 , L948;
end;
theorem
L958: (for R3 being polyhedron holds ( ( dim R3 ) -polytope-seq R3 ) = <* R3 *>) by L309;
theorem
L959: (for R3 being polyhedron holds ( 1 -th-polytope (R3 , ( dim R3 )) ) = R3)
proof
let R3 being polyhedron;
reconsider D186 = 1 as Nat;
set D187 = ( ( dim R3 ) -polytope-seq R3 );
L960: D187 = <* R3 *> by L309;
L961: D186 <= ( num-polytopes (R3 , ( dim R3 )) ) by L400;
L962: ( D186 -th-polytope (R3 , ( dim R3 )) ) = ( D187 . D186 ) by L961 , L404
.= R3 by L960 , FINSEQ_1:40;
thus L963: thesis by L962;
end;
theorem
L964: (for R3 being polyhedron holds (for B177 being (Element of ( ( dim R3 ) -chain-space R3 )) holds (for B178 being (Element of ( ( dim R3 ) -polytopes R3 )) holds (B177 = { R3 } implies ( B177 @ B178 ) = ( 1. ( Z_2 ) )))))
proof
let R3 being polyhedron;
L965: ( ( dim R3 ) -polytopes R3 ) = { R3 } by L206;
let C219 being (Element of ( ( dim R3 ) -chain-space R3 ));
let C220 being (Element of ( ( dim R3 ) -polytopes R3 ));
assume L966: C219 = { R3 };
thus L967: thesis by L966 , L965 , BSPACE:def 3;
end;
theorem
L968: (for R3 being polyhedron holds (for B179 being (Element of ( ( ( dim R3 ) - 1 ) -polytopes R3 )) holds (for B180 being (Element of ( ( dim R3 ) -polytopes R3 )) holds (B180 = R3 implies ( incidence-value (B179 , B180) ) = ( 1. ( Z_2 ) )))))
proof
let R3 being polyhedron;
set D188 = ( [: ( ( ( dim R3 ) - 1 ) -polytopes R3 ) , { R3 } :] --> ( 1. ( Z_2 ) ) );
let C221 being (Element of ( ( ( dim R3 ) - 1 ) -polytopes R3 ));
let C222 being (Element of ( ( dim R3 ) -polytopes R3 ));
assume L969: C222 = R3;
L970: (( dom D188 ) = [: ( ( ( dim R3 ) - 1 ) -polytopes R3 ) , { R3 } :] & C222 in { R3 }) by L969 , FUNCOP_1:13 , TARSKI:def 1;
L971: [ C221 , C222 ] in ( dom D188 ) by L970 , ZFMISC_1:87;
L972: ( D188 . (C221 , C222) ) in ( rng D188 ) by L971 , FUNCT_1:3;
L973: ( D188 . (C221 , C222) ) in { ( 1. ( Z_2 ) ) } by L972 , FUNCOP_1:8;
L974: ( D188 . (C221 , C222) ) = ( 1. ( Z_2 ) ) by L973 , TARSKI:def 1;
L975: ( eta (R3 , ( dim R3 )) ) = D188 by L253;
thus L976: thesis by L975 , L974 , L467;
end;
theorem
L977: (for R3 being polyhedron holds (for B181 being (Element of ( ( ( dim R3 ) - 1 ) -polytopes R3 )) holds (for B182 being (Element of ( ( dim R3 ) -chain-space R3 )) holds (B182 = { R3 } implies ( incidence-sequence (B181 , B182) ) = <* ( 1. ( Z_2 ) ) *>))))
proof
let R3 being polyhedron;
let C223 being (Element of ( ( ( dim R3 ) - 1 ) -polytopes R3 ));
let C224 being (Element of ( ( dim R3 ) -chain-space R3 ));
assume that
L978: C224 = { R3 };
set D189 = ( incidence-sequence (C223 , C224) );
L979: ( D189 . 1 ) = ( 1. ( Z_2 ) )
proof
reconsider D190 = 1 as Nat;
set D191 = ( D190 -th-polytope (R3 , ( dim R3 )) );
L980: D190 <= ( num-polytopes (R3 , ( dim R3 )) ) by L400;
L981: ( D189 . D190 ) = ( ( C224 @ D191 ) * ( incidence-value (C223 , D191) ) ) by L980 , L485;
L982: (( C224 @ D191 ) = ( 1. ( Z_2 ) ) & ( incidence-value (C223 , D191) ) = ( 1. ( Z_2 ) )) by L978 , L959 , L964 , L968;
thus L983: thesis by L982 , L981 , VECTSP_1:def 6;
end;
L984: ( num-polytopes (R3 , ( dim R3 )) ) = 1 by L400;
L985: ( len D189 ) = 1 by L984 , L485;
thus L986: thesis by L985 , L979 , FINSEQ_1:40;
end;
theorem
L987: (for R3 being polyhedron holds (for B183 being (Element of ( ( ( dim R3 ) - 1 ) -polytopes R3 )) holds (for B184 being (Element of ( ( dim R3 ) -chain-space R3 )) holds (B184 = { R3 } implies ( Sum ( incidence-sequence (B183 , B184) ) ) = ( 1. ( Z_2 ) )))))
proof
let R3 being polyhedron;
let C225 being (Element of ( ( ( dim R3 ) - 1 ) -polytopes R3 ));
let C226 being (Element of ( ( dim R3 ) -chain-space R3 ));
assume L988: C226 = { R3 };
L989: ( incidence-sequence (C225 , C226) ) = <* ( 1. ( Z_2 ) ) *> by L988 , L977;
thus L990: thesis by L989 , FINSOP_1:11;
end;
theorem
L991: (for R3 being polyhedron holds ( ( ( dim R3 ) -boundary R3 ) . { R3 } ) = ( ( ( dim R3 ) - 1 ) -polytopes R3 ))
proof
let R3 being polyhedron;
reconsider D192 = { R3 } as (Element of ( ( dim R3 ) -chain-space R3 )) by L931;
set D193 = ( ( dim R3 ) -boundary R3 );
set D194 = ( ( ( dim R3 ) - 1 ) -polytopes R3 );
reconsider D195 = D194 as (Element of ( ( ( dim R3 ) - 1 ) -chain-space R3 )) by ZFMISC_1:def 1;
reconsider D196 = ( D193 . D192 ) as (Element of ( ( ( dim R3 ) - 1 ) -chain-space R3 ));
L992: (for B185 being (Element of D194) holds (B185 in D196 iff B185 in D195))
proof
let C227 being (Element of D194);
thus L993: (C227 in D196 implies C227 in D195);
thus L994: (C227 in D195 implies C227 in D196)
proof
assume L995: C227 in D195;
L996: ( Sum ( incidence-sequence (C227 , D192) ) ) = ( 1. ( Z_2 ) ) by L987;
L997: C227 in ( Boundary D192 ) by L996 , L603;
thus L998: thesis by L997 , L638;
end;

end;
thus L995: thesis by L992 , SUBSET_1:3;
end;
theorem
L996: (for R3 being polyhedron holds ( ( dim R3 ) -boundary R3 ) is  one-to-one)
proof
let R3 being polyhedron;
set D197 = ( ( dim R3 ) -boundary R3 );
set D198 = ( ( ( dim R3 ) - 1 ) -chain-space R3 );
set D199 = ( ( dim R3 ) -chain-space R3 );
set D200 = { R3 };
assume L997: (not D197 is  one-to-one);
consider C228 , C229 being set such that L998: C228 in ( dom D197 ) and L999: C229 in ( dom D197 ) and L1000: ( D197 . C228 ) = ( D197 . C229 ) and L1001: C228 <> C229 by L997 , FUNCT_1:def 4;
reconsider D201 = C229 as (Element of D199) by L999;
reconsider D202 = C228 as (Element of D199) by L998;
per cases  by L1001 , L952;
suppose L1002: D202 = ( 0. D199 );

L1003: (D201 = D200 & ( D197 . D202 ) = ( 0. D198 )) by L1002 , L1001 , L948 , RANKNULL:9;
thus L1004: thesis by L1003 , L1000 , L991;
end;
suppose L1005: D201 = ( 0. D199 );

L1006: (D202 = D200 & ( D197 . D201 ) = ( 0. D198 )) by L1005 , L1001 , L948 , RANKNULL:9;
thus L1007: thesis by L1006 , L1000 , L991;
end;
end;
theorem
L1009: (for R3 being polyhedron holds ( dim ( ( ( dim R3 ) - 1 ) -bounding-chain-space R3 ) ) = 1)
proof
let R3 being polyhedron;
set D203 = ( dim R3 );
set D204 = ( D203 -boundary R3 );
set D205 = ( D203 -chain-space R3 );
set D206 = ( ( D203 - 1 ) -bounding-chain-space R3 );
L1010: ( card ( [#] D206 ) ) = ( card ( D204 .: ( [#] D205 ) ) ) by RANKNULL:def 2
.= ( card ( rng D204 ) ) by RELSET_1:22;
L1011: ( card ( dom D204 ) ) = ( card ( [#] D205 ) ) by RANKNULL:7
.= 2 by L926;
L1012: D204 is  one-to-one by L996;
L1013: ( card ( [#] D206 ) ) = 2 by L1012 , L1010 , L1011 , CARD_1:70;
thus L1014: thesis by L1013 , RANKNULL:6;
end;
theorem
L1015: (for R3 being polyhedron holds (R3 is  simply-connected implies ( dim ( ( ( dim R3 ) - 1 ) -circuit-space R3 ) ) = 1))
proof
let R3 being polyhedron;
set D207 = ( dim R3 );
set D208 = ( ( D207 - 1 ) -bounding-chain-space R3 );
set D209 = ( ( D207 - 1 ) -circuit-space R3 );
assume L1016: R3 is  simply-connected;
L1017: D208 = D209 by L1016 , L688;
thus L1018: thesis by L1017 , L1009;
end;
theorem
L1019: (for R3 being polyhedron holds (for R5 being Nat holds ((1 < R5 & R5 < ( ( dim R3 ) + 2 )) implies ( ( alternating-f-vector R3 ) . R5 ) = ( ( alternating-proper-f-vector R3 ) . ( R5 - 1 ) ))))
proof
let R3 being polyhedron;
let R5 being Nat;
assume L1020: 1 < R5;
L1021: ( 1 - 1 ) = ( 0 );
reconsider D210 = ( R5 - 1 ) as (Element of ( NAT )) by L1021 , L1020 , INT_1:3 , XREAL_1:13;
reconsider D211 = D210 as Nat;
set D212 = ( alternating-proper-f-vector R3 );
set D213 = ( alternating-f-vector R3 );
L1022: ( 2 - 1 ) = 1;
L1023: ( 1 + 1 ) = 2;
L1024: 2 <= R5 by L1023 , L1020 , INT_1:7;
L1025: 1 <= D211 by L1024 , L1022 , XREAL_1:13;
assume L1026: R5 < ( ( dim R3 ) + 2 );
L1027: R5 < ( ( ( dim R3 ) + 1 ) + 1 ) by L1026;
L1028: R5 <= ( ( dim R3 ) + 1 ) by L1027 , NAT_1:13;
L1029: ( R5 - 1 ) <= ( ( ( dim R3 ) + 1 ) - 1 ) by L1028 , XREAL_1:9;
L1030: ( D212 . D211 ) = ( ( ( - 1 ) |^ ( D211 + 1 ) ) * ( num-polytopes (R3 , ( D211 - 1 )) ) ) by L1029 , L1025 , L713;
L1031: ( D213 . R5 ) = ( ( ( - 1 ) |^ R5 ) * ( num-polytopes (R3 , ( R5 - 2 )) ) ) by L1020 , L1026 , L694;
thus L1032: thesis by L1031 , L1030;
end;
theorem
L1033: (for R3 being polyhedron holds ( alternating-f-vector R3 ) = ( ( <* ( - 1 ) *> ^ ( alternating-proper-f-vector R3 ) ) ^ <* ( ( - 1 ) |^ ( dim R3 ) ) *> ))
proof
let R3 being polyhedron;
set D214 = ( alternating-f-vector R3 );
set D215 = ( alternating-proper-f-vector R3 );
set D216 = ( ( <* ( - 1 ) *> ^ D215 ) ^ <* ( ( - 1 ) |^ ( dim R3 ) ) *> );
set D217 = ( dim R3 );
L1034: ( len <* ( ( - 1 ) |^ ( dim R3 ) ) *> ) = 1 by FINSEQ_1:39;
L1035: ( len D215 ) = D217 by L713;
L1036: ( len D214 ) = ( D217 + 2 ) by L694;
L1037: (for B186 being Nat holds ((1 <= B186 & B186 <= ( len D214 )) implies ( D214 . B186 ) = ( D216 . B186 )))
proof
let C230 being Nat;
assume that
L1038: (1 <= C230 & C230 <= ( len D214 ));
per cases  by L1036 , L1038 , XXREAL_0:1;
suppose L1039: C230 = 1;

reconsider D218 = 1 as Nat;
L1040: (1 <= ( D217 + 2 ) & ( D218 - 2 ) = ( - 1 )) by L65;
L1041: ( D214 . D218 ) = ( ( ( - 1 ) |^ D218 ) * ( num-polytopes (R3 , ( - 1 )) ) ) by L1040 , L694;
L1042: (( ( - 1 ) |^ 1 ) = ( - 1 ) & ( num-polytopes (R3 , ( - 1 )) ) = 1) by L24 , L40 , L397;
thus L1043: thesis by L1042 , L1039 , L1041 , L141;
end;
suppose L1044: C230 = ( D217 + 2 );

L1045: ( len <* ( - 1 ) *> ) = 1 by FINSEQ_1:39;
L1046: C230 = ( ( ( len <* ( - 1 ) *> ) + ( len D215 ) ) + 1 ) by L1045 , L1035 , L1044;
L1047: ( D216 . C230 ) = ( ( - 1 ) |^ ( dim R3 ) ) by L1046 , L144
.= ( ( - 1 ) |^ C230 ) by L1044 , L74;
L1048: 1 <= C230 by L1044 , L65;
L1049: ( D214 . C230 ) = ( ( ( - 1 ) |^ C230 ) * ( num-polytopes (R3 , ( C230 - 2 )) ) ) by L1048 , L1044 , L694;
L1050: ( num-polytopes (R3 , ( C230 - 2 )) ) = 1 by L1044 , L400;
thus L1051: thesis by L1050 , L1049 , L1047;
end;
suppose L1052: (1 < C230 & C230 < ( D217 + 2 ));

set D219 = ( C230 - 1 );
L1053: (( ( C230 + 1 ) - 1 ) = C230 & ( ( D217 + 2 ) - 1 ) = ( D217 + 1 ));
L1054: ( C230 + 1 ) <= ( D217 + 2 ) by L1052 , INT_1:7;
L1055: ( len ( <* ( - 1 ) *> ^ D215 ) ) = ( ( len <* ( - 1 ) *> ) + ( len D215 ) ) by FINSEQ_1:22
.= ( D217 + 1 ) by L1035 , FINSEQ_1:39;
L1056: (( len <* ( - 1 ) *> ) = 1 & C230 <= ( len ( <* ( - 1 ) *> ^ D215 ) )) by L1055 , L1054 , L1053 , FINSEQ_1:39 , XREAL_1:9;
L1057: ( D216 . C230 ) = ( D215 . D219 ) by L1056 , L1052 , L147;
thus L1058: thesis by L1057 , L1052 , L1019;
end;
end;
L1060: (( len D216 ) = ( ( ( len <* ( - 1 ) *> ) + ( len D215 ) ) + ( len <* ( ( - 1 ) |^ ( dim R3 ) ) *> ) ) & ( len <* ( - 1 ) *> ) = 1) by L138 , FINSEQ_1:39;
thus L1061: thesis by L1060 , L1036 , L1035 , L1034 , L1037 , FINSEQ_1:14;
end;
begin
theorem
L1062: (for R3 being polyhedron holds (( dim R3 ) is  odd implies ( Sum ( alternating-f-vector R3 ) ) = ( ( Sum ( alternating-proper-f-vector R3 ) ) - 2 )))
proof
let R3 being polyhedron;
reconsider D220 = ( - 1 ) as Integer;
set D221 = ( alternating-f-vector R3 );
set D222 = ( alternating-proper-f-vector R3 );
reconsider D223 = ( ( - 1 ) |^ ( dim R3 ) ) as Integer;
assume L1063: ( dim R3 ) is  odd;
L1064: ( ( - 1 ) |^ ( dim R3 ) ) = ( - 1 ) by L1063 , L40;
L1065: D221 = ( ( <* ( - 1 ) *> ^ D222 ) ^ <* ( ( - 1 ) |^ ( dim R3 ) ) *> ) by L1033;
L1066: ( Sum D221 ) = ( ( ( Sum <* D220 *> ) + ( Sum D222 ) ) + ( Sum <* D223 *> ) ) by L1065 , L181
.= ( ( ( Sum <* D220 *> ) + ( Sum D222 ) ) + ( - 1 ) ) by L1064 , RVSUM_1:73
.= ( ( ( - 1 ) + ( Sum D222 ) ) + ( - 1 ) ) by RVSUM_1:73
.= ( ( Sum D222 ) - 2 );
thus L1067: thesis by L1066;
end;
theorem
L1068: (for R3 being polyhedron holds (( dim R3 ) is  even implies ( Sum ( alternating-f-vector R3 ) ) = ( Sum ( alternating-proper-f-vector R3 ) )))
proof
let R3 being polyhedron;
reconsider D224 = ( - 1 ) as Integer;
set D225 = ( alternating-f-vector R3 );
set D226 = ( alternating-proper-f-vector R3 );
reconsider D227 = ( ( - 1 ) |^ ( dim R3 ) ) as Integer;
assume L1069: ( dim R3 ) is  even;
L1070: ( ( - 1 ) |^ ( dim R3 ) ) = 1 by L1069 , L36;
L1071: D225 = ( ( <* ( - 1 ) *> ^ D226 ) ^ <* ( ( - 1 ) |^ ( dim R3 ) ) *> ) by L1033;
L1072: ( Sum D225 ) = ( ( ( Sum <* D224 *> ) + ( Sum D226 ) ) + ( Sum <* D227 *> ) ) by L1071 , L181
.= ( ( ( Sum <* D224 *> ) + ( Sum D226 ) ) + 1 ) by L1070 , RVSUM_1:73
.= ( ( ( - 1 ) + ( Sum D226 ) ) + 1 ) by RVSUM_1:73
.= ( Sum D226 );
thus L1073: thesis by L1072;
end;
theorem
L1074: (for R3 being polyhedron holds (( dim R3 ) = 1 implies ( Sum ( alternating-proper-f-vector R3 ) ) = ( num-polytopes (R3 , ( 0 )) )))
proof
let R3 being polyhedron;
reconsider D228 = 1 as Nat;
set D229 = ( alternating-proper-f-vector R3 );
assume L1075: ( dim R3 ) = 1;
L1076: (( len D229 ) = 1 & ( D229 . D228 ) = ( ( ( - 1 ) |^ ( D228 + 1 ) ) * ( num-polytopes (R3 , ( D228 - 1 )) ) )) by L1075 , L713;
L1077: ( ( - 1 ) |^ ( D228 + 1 ) ) = 1 by L27 , L36;
L1078: D229 = <* ( num-polytopes (R3 , ( 0 )) ) *> by L1077 , L1076 , FINSEQ_1:40;
thus L1079: thesis by L1078 , RVSUM_1:73;
end;
theorem
L1080: (for R3 being polyhedron holds (( dim R3 ) = 2 implies ( Sum ( alternating-proper-f-vector R3 ) ) = ( ( num-polytopes (R3 , ( 0 )) ) - ( num-polytopes (R3 , 1) ) )))
proof
let R3 being polyhedron;
reconsider D230 = 2 as Nat;
reconsider D231 = 1 as Nat;
set D232 = ( alternating-proper-f-vector R3 );
reconsider D233 = ( D232 . D231 ) as Integer;
reconsider D234 = ( D232 . D230 ) as Integer;
assume L1081: ( dim R3 ) = 2;
L1082: (( D232 . D231 ) = ( ( ( - 1 ) |^ ( D231 + 1 ) ) * ( num-polytopes (R3 , ( D231 - 1 )) ) ) & ( D232 . D230 ) = ( ( ( - 1 ) |^ ( D230 + 1 ) ) * ( num-polytopes (R3 , ( D230 - 1 )) ) )) by L1081 , L713;
L1083: (( ( - 1 ) |^ ( D231 + 1 ) ) = 1 & ( ( - 1 ) |^ ( D230 + 1 ) ) = ( - 1 )) by L27 , L36 , L40;
L1084: ( len D232 ) = 2 by L1081 , L713;
L1085: D232 = <* D233 , D234 *> by L1084 , FINSEQ_1:44;
L1086: ( Sum D232 ) = ( D233 + D234 ) by L1085 , RVSUM_1:77
.= ( ( num-polytopes (R3 , ( 0 )) ) - ( num-polytopes (R3 , 1) ) ) by L1082 , L1083;
thus L1087: thesis by L1086;
end;
theorem
L1088: (for R3 being polyhedron holds (( dim R3 ) = 3 implies ( Sum ( alternating-proper-f-vector R3 ) ) = ( ( ( num-polytopes (R3 , ( 0 )) ) - ( num-polytopes (R3 , 1) ) ) + ( num-polytopes (R3 , 2) ) )))
proof
let R3 being polyhedron;
reconsider D235 = ( - 1 ) as Integer;
reconsider D236 = 3 as Nat;
reconsider D237 = 2 as Nat;
reconsider D238 = 1 as Nat;
assume L1089: ( dim R3 ) = 3;
set D239 = ( alternating-proper-f-vector R3 );
L1090: ( ( - 1 ) |^ ( D237 + 1 ) ) = ( - 1 ) by L30 , L40;
L1091: ( D239 . D237 ) = ( D235 * ( num-polytopes (R3 , ( D237 - 1 )) ) ) by L1090 , L1089 , L713;
L1092: ( ( - 1 ) |^ ( D236 + 1 ) ) = 1 by L33 , L36;
L1093: ( D239 . D236 ) = ( D238 * ( num-polytopes (R3 , ( D236 - 1 )) ) ) by L1092 , L1089 , L713;
reconsider D240 = ( D239 . D236 ) as Integer;
reconsider D241 = ( D239 . D237 ) as Integer;
reconsider D242 = ( D239 . D238 ) as Integer;
L1094: ( ( - 1 ) |^ ( D238 + 1 ) ) = 1 by L27 , L36;
L1095: ( D239 . D238 ) = ( D238 * ( num-polytopes (R3 , ( D238 - 1 )) ) ) by L1094 , L1089 , L713;
L1096: ( len D239 ) = 3 by L1089 , L713;
L1097: D239 = <* D242 , D241 , D240 *> by L1096 , FINSEQ_1:45;
L1098: ( Sum D239 ) = ( ( D242 + D241 ) + D240 ) by L1097 , RVSUM_1:78
.= ( ( ( num-polytopes (R3 , ( 0 )) ) - ( num-polytopes (R3 , 1) ) ) + ( num-polytopes (R3 , 2) ) ) by L1095 , L1091 , L1093;
thus L1099: thesis by L1098;
end;
theorem
L1100: (for R3 being polyhedron holds (( dim R3 ) = ( 0 ) implies R3 is  eulerian))
proof
let R3 being polyhedron;
set D243 = ( dim R3 );
set D244 = ( alternating-proper-f-vector R3 );
assume L1101: D243 = ( 0 );
L1102: ( ( - 1 ) |^ ( D243 + 1 ) ) = ( - 1 ) by L1101 , NEWTON:5;
L1103: ( 1 + ( ( - 1 ) |^ ( D243 + 1 ) ) ) = ( 0 ) by L1102;
L1104: ( len D244 ) = ( 0 ) by L1101 , L713;
L1105: D244 = ( <*> ( INT ) ) by L1104;
thus L1106: thesis by L1105 , L1103 , L757 , GR_CY_1:3;
end;
theorem
L1107: (for R3 being polyhedron holds (R3 is  simply-connected implies R3 is  eulerian))
proof
let R3 being polyhedron;
assume L1108: R3 is  simply-connected;
set D245 = ( alternating-proper-f-vector R3 );
per cases ;
suppose L1109: ( dim R3 ) = ( 0 );

thus L1110: thesis by L1109 , L1100;
end;
suppose L1111: ( dim R3 ) > ( 0 );

deffunc H5(Nat) = ( ( ( - 1 ) |^ ( $1 + 1 ) ) * ( dim ( ( $1 - 1 ) -circuit-space R3 ) ) );
deffunc H6(Nat) = ( ( ( - 1 ) |^ ( $1 + 1 ) ) * ( dim ( ( $1 - 2 ) -bounding-chain-space R3 ) ) );
consider C231 being FinSequence such that L1112: ( len C231 ) = ( len D245 ) and L1113: (for B187 being Nat holds (B187 in ( dom C231 ) implies ( C231 . B187 ) = H6(B187))) from FINSEQ_1:sch 2;
L1114: ( rng C231 ) c= ( INT )
proof
let C232 being set;
assume L1115: C232 in ( rng C231 );
consider C233 being set such that L1116: C233 in ( dom C231 ) and L1117: C232 = ( C231 . C233 ) by L1115 , FUNCT_1:def 3;
reconsider D246 = C233 as (Element of ( NAT )) by L1116;
L1118: ( C231 . D246 ) = ( ( ( - 1 ) |^ ( D246 + 1 ) ) * ( dim ( ( D246 - 2 ) -bounding-chain-space R3 ) ) ) by L1113 , L1116;
thus L1119: thesis by L1118 , L1117;
end;
consider C234 being FinSequence such that L1120: ( len C234 ) = ( len D245 ) and L1121: (for B188 being Nat holds (B188 in ( dom C234 ) implies ( C234 . B188 ) = H5(B188))) from FINSEQ_1:sch 2;
L1122: ( rng C234 ) c= ( INT )
proof
let C235 being set;
assume L1123: C235 in ( rng C234 );
consider C236 being set such that L1124: C236 in ( dom C234 ) and L1125: C235 = ( C234 . C236 ) by L1123 , FUNCT_1:def 3;
reconsider D247 = C236 as (Element of ( NAT )) by L1124;
L1126: ( C234 . D247 ) = ( ( ( - 1 ) |^ ( D247 + 1 ) ) * ( dim ( ( D247 - 1 ) -circuit-space R3 ) ) ) by L1121 , L1124;
thus L1127: thesis by L1126 , L1125;
end;
reconsider D248 = C231 , D249 = C234 as (FinSequence of ( INT )) by L1122 , L1114 , FINSEQ_1:def 4;
L1128: ( len D245 ) > ( 0 ) by L1111 , L713;
L1129: ( D248 . 1 ) = 1
proof
reconsider D250 = 1 as (Element of ( NAT ));
L1130: 1 <= ( (( 0 ) qua Nat) + 1 );
L1131: D250 <= ( len D245 ) by L1130 , L1128 , NAT_1:13;
L1132: D250 in ( dom D248 ) by L1131 , L1112 , FINSEQ_3:25;
L1133: ( D248 . D250 ) = ( ( ( - 1 ) |^ ( 1 + 1 ) ) * ( dim ( ( D250 - 2 ) -bounding-chain-space R3 ) ) ) by L1132 , L1113
.= ( 1 * ( dim ( ( D250 - 2 ) -bounding-chain-space R3 ) ) ) by L27 , L36
.= 1 by L906;
thus L1134: thesis by L1133;
end;
L1135: (for B189 being Nat holds ((1 <= B189 & B189 < ( len D245 )) implies ( D249 . B189 ) = ( - ( D248 . ( B189 + 1 ) ) )))
proof
let C237 being Nat;
assume that
L1136: 1 <= C237
and
L1137: C237 < ( len D245 );
L1138: C237 in ( dom D249 ) by L1120 , L1136 , L1137 , FINSEQ_3:25;
reconsider D251 = C237 as (Element of ( NAT )) by ORDINAL1:def 12;
L1139: ( D249 . D251 ) = ( ( ( - 1 ) |^ ( D251 + 1 ) ) * ( dim ( ( D251 - 1 ) -circuit-space R3 ) ) ) by L1121 , L1138;
L1140: 1 <= ( D251 + 1 ) by NAT_1:11;
L1141: ( D251 + 1 ) <= ( len D245 ) by L1137 , INT_1:7;
L1142: ( D251 + 1 ) in ( dom D248 ) by L1141 , L1112 , L1140 , FINSEQ_3:25;
L1143: ( D248 . ( D251 + 1 ) ) = H6(( D251 + 1 )) by L1142 , L1113
.= ( ( ( ( - 1 ) |^ ( D251 + 1 ) ) * ( ( - 1 ) |^ 1 ) ) * ( dim ( ( D251 - 1 ) -bounding-chain-space R3 ) ) ) by NEWTON:8
.= ( ( ( ( - 1 ) |^ ( D251 + 1 ) ) * ( - 1 ) ) * ( dim ( ( D251 - 1 ) -bounding-chain-space R3 ) ) ) by NEWTON:5
.= ( - ( ( ( - 1 ) |^ ( D251 + 1 ) ) * ( dim ( ( D251 - 1 ) -bounding-chain-space R3 ) ) ) )
.= ( - ( D249 . D251 ) ) by L1108 , L1139 , L688;
thus L1144: thesis by L1143;
end;
L1145: ( D249 . ( len D245 ) ) = ( ( - 1 ) |^ ( ( dim R3 ) + 1 ) )
proof
reconsider D252 = ( len D245 ) as (Element of ( NAT ));
L1146: D252 = ( dim R3 ) by L713;
L1147: ( (( 0 ) qua Nat) + 1 ) = 1;
L1148: 1 <= ( len D245 ) by L1147 , L1128 , NAT_1:13;
L1149: D252 in ( dom D249 ) by L1148 , L1120 , FINSEQ_3:25;
L1150: ( D249 . D252 ) = H5(D252) by L1149 , L1121
.= ( ( ( - 1 ) |^ ( D252 + 1 ) ) * 1 ) by L1108 , L1146 , L1015
.= ( ( - 1 ) |^ ( D252 + 1 ) );
thus L1151: thesis by L1150 , L713;
end;
L1152: (for B190 being Nat holds ((1 <= B190 & B190 <= ( len D245 )) implies ( D245 . B190 ) = ( ( D248 . B190 ) + ( D249 . B190 ) )))
proof
let C238 being Nat;
assume that
L1153: (1 <= C238 & C238 <= ( len D245 ));
reconsider D253 = C238 as (Element of ( NAT )) by ORDINAL1:def 12;
L1154: D253 in ( dom D248 ) by L1112 , L1153 , FINSEQ_3:25;
L1155: ( D248 . D253 ) = ( ( ( - 1 ) |^ ( D253 + 1 ) ) * ( dim ( ( D253 - 2 ) -bounding-chain-space R3 ) ) ) by L1154 , L1113;
L1156: (( D245 . C238 ) = ( ( ( ( - 1 ) |^ ( C238 + 1 ) ) * ( dim ( ( C238 - 2 ) -bounding-chain-space R3 ) ) ) + ( ( ( - 1 ) |^ ( C238 + 1 ) ) * ( dim ( ( C238 - 1 ) -circuit-space R3 ) ) ) ) & D253 in ( dom D249 )) by L1120 , L1153 , L751 , FINSEQ_3:25;
thus L1157: thesis by L1156 , L1121 , L1155;
end;
L1158: ( Sum D245 ) = ( ( D248 . 1 ) + ( D249 . ( len D245 ) ) ) by L1152 , L1128 , L1112 , L1120 , L1135 , L77;
thus L1159: thesis by L1158 , L1129 , L1145 , L757;
end;
end;
theorem
L1161: (for R3 being polyhedron holds ((R3 is  simply-connected & ( dim R3 ) = 1) implies ( num-vertices R3 ) = 2))
proof
let R3 being polyhedron;
set D254 = ( alternating-f-vector R3 );
set D255 = ( alternating-proper-f-vector R3 );
assume L1162: R3 is  simply-connected;
L1163: R3 is  eulerian by L1162 , L1107;
assume L1164: ( dim R3 ) = 1;
L1165: ( 0 ) = ( Sum D254 ) by L1163 , L814
.= ( ( Sum D255 ) - 2 ) by L1164 , L24 , L1062
.= ( ( num-polytopes (R3 , ( 0 )) ) - 2 ) by L1164 , L1074;
thus L1166: thesis by L1165;
end;
theorem
L1167: (for R3 being polyhedron holds ((R3 is  simply-connected & ( dim R3 ) = 2) implies ( num-vertices R3 ) = ( num-edges R3 )))
proof
let R3 being polyhedron;
set D256 = ( ( num-polytopes (R3 , ( 0 )) ) - ( num-polytopes (R3 , 1) ) );
set D257 = ( alternating-f-vector R3 );
assume L1168: R3 is  simply-connected;
L1169: R3 is  eulerian by L1168 , L1107;
assume L1170: ( dim R3 ) = 2;
L1171: D256 = ( Sum ( alternating-proper-f-vector R3 ) ) by L1170 , L1080;
L1172: ( 0 ) = ( Sum D257 ) by L1169 , L814
.= D256 by L1170 , L1171 , L27 , L1068;
thus L1173: thesis by L1172;
end;
::$N Euler's Polyhedron Formula
theorem
L1174: (for R3 being polyhedron holds ((R3 is  simply-connected & ( dim R3 ) = 3) implies ( ( ( num-vertices R3 ) - ( num-edges R3 ) ) + ( num-faces R3 ) ) = 2))
proof
let R3 being polyhedron;
set D258 = ( ( ( num-polytopes (R3 , ( 0 )) ) - ( num-polytopes (R3 , 1) ) ) + ( num-polytopes (R3 , 2) ) );
set D259 = ( alternating-f-vector R3 );
assume L1175: R3 is  simply-connected;
L1176: R3 is  eulerian by L1175 , L1107;
assume L1177: ( dim R3 ) = 3;
L1178: D258 = ( Sum ( alternating-proper-f-vector R3 ) ) by L1177 , L1088;
L1179: ( 0 ) = ( Sum D259 ) by L1176 , L814
.= ( D258 - 2 ) by L1177 , L1178 , L30 , L1062;
thus L1180: thesis by L1179;
end;
