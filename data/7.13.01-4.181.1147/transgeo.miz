:: Transformations in Affine Spaces
::  by Henryk Oryszczyszyn and Krzysztof Pra\.zmowski
::
:: Received May 31, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, SUBSET_1, FUNCT_2, RELAT_1, FUNCT_1, TARSKI, ZFMISC_1,
      RELAT_2, ANALOAF, STRUCT_0, DIRAF, PARSP_1, INCSP_1, AFF_1, TRANSGEO;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_2, FUNCT_1, RELSET_1,
      STRUCT_0, ANALOAF, DIRAF, PARTFUN1, FUNCT_2, AFF_1;
 constructors RELAT_2, PARTFUN1, DOMAIN_1, AFF_1, RELSET_1;
 registrations XBOOLE_0, FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, STRUCT_0,
      ANALOAF, DIRAF;
 requirements SUBSET, BOOLE;
 definitions RELAT_2;
 theorems DOMAIN_1, FUNCT_1, FUNCT_2, ANALOAF, DIRAF, AFF_1, PASCH, TARSKI,
      ZFMISC_1, RELAT_1, XBOOLE_0, STRUCT_0;
 schemes FUNCT_2;

begin
definition
let C1 being set;
let C2 , C3 being (Permutation of C1);
redefine func C3 * C2 -> (Permutation of C1);

coherence
proof
thus L1: ( C3 * C2 ) is (Permutation of C1);
end;
end;
theorem
L3: (for R1 being non  empty set holds (for R5 being (Element of R1) holds (for R8 being (Permutation of R1) holds (ex R4 being (Element of R1) st ( R8 . R4 ) = R5))))
proof
let R1 being non  empty set;
let R5 being (Element of R1);
let R8 being (Permutation of R1);
L4: ( rng R8 ) = R1 by FUNCT_2:def 3;
L5: (ex B1 being set st (B1 in ( dom R8 ) & ( R8 . B1 ) = R5)) by L4 , FUNCT_1:def 3;
thus L6: thesis by L5;
end;
theorem
L7: (for R1 being non  empty set holds (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R8 being (Permutation of R1) holds (( R8 . R4 ) = R5 iff ( ( R8 " ) . R5 ) = R4)))))
proof
let R1 being non  empty set;
let R4 being (Element of R1);
let R5 being (Element of R1);
let R8 being (Permutation of R1);
L8:
now
L9: R4 in R1;
L10: R4 in ( dom R8 ) by L9 , FUNCT_2:def 1;
assume L11: ( R8 . R4 ) = R5;
thus L12: R4 = ( ( R8 " ) . R5 ) by L11 , L10 , FUNCT_1:34;
end;
L13: ( rng R8 ) = R1 by FUNCT_2:def 3;
thus L14: thesis by L13 , L8 , FUNCT_1:35;
end;
definition
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
func R8 \ R9 -> (Permutation of R1) equals 
( ( R9 * R8 ) * ( R9 " ) );
coherence;
end;
scheme EXPermutation { F1() -> non  empty set , P1[set , set] } : (ex B2 being (Permutation of F1()) st (for B3 , B4 being (Element of F1()) holds (( B2 . B3 ) = B4 iff P1[ B3 , B4 ])))
provided
L16: (for B5 being (Element of F1()) holds (ex B6 being (Element of F1()) st P1[ B5 , B6 ]))
and
L17: (for B7 being (Element of F1()) holds (ex B8 being (Element of F1()) st P1[ B8 , B7 ]))
and
L18: (for B9 , B10 , B11 being (Element of F1()) holds ((P1[ B9 , B10 ] & P1[ B11 , B10 ]) implies B9 = B11))
and
L19: (for B12 , B13 , B14 being (Element of F1()) holds ((P1[ B12 , B13 ] & P1[ B12 , B14 ]) implies B13 = B14))
proof
L20: (for B15 being (Element of F1()) holds (ex B16 being (Element of F1()) st P1[ B15 , B16 ])) by L16;
consider C4 being (Function of F1() , F1()) such that L21: (for B17 being (Element of F1()) holds P1[ B17 , ( C4 . B17 ) ]) from FUNCT_2:sch 3(L20);
L22:
now
let C5 being set;
assume L23: C5 in F1();
consider C6 being (Element of F1()) such that L24: P1[ C6 , C5 ] by L23 , L17;
L25: P1[ C6 , ( C4 . C6 ) ] by L21;
L26: ( C4 . C6 ) = C5 by L25 , L19 , L23 , L24;
thus L27: C5 in ( rng C4 ) by L26 , FUNCT_2:4;
end;
L28: F1() c= ( rng C4 ) by L22 , TARSKI:def 3;
L29: ( rng C4 ) = F1() by L28 , XBOOLE_0:def 10;
L30:
now
let C7 , C8 being set;
assume that
L31: C7 in F1()
and
L32: C8 in F1();
L33: ( C4 . C7 ) is (Element of F1()) by L31 , FUNCT_2:5;
L34: (P1[ C7 , ( C4 . C7 ) ] & P1[ C8 , ( C4 . C8 ) ]) by L21 , L31 , L32;
thus L35: (( C4 . C7 ) = ( C4 . C8 ) implies C7 = C8) by L34 , L18 , L31 , L32 , L33;
end;
L36: C4 is  one-to-one by L30 , FUNCT_2:19;
reconsider D1 = C4 as (Permutation of F1()) by L36 , L29 , FUNCT_2:57;
take D1;
let C9 , C10 being (Element of F1());
thus L37: (( D1 . C9 ) = C10 implies P1[ C9 , C10 ]) by L21;
assume L38: P1[ C9 , C10 ];
L39: P1[ C9 , ( D1 . C9 ) ] by L21;
thus L40: thesis by L39 , L19 , L38;
end;
theorem
L41: (for R1 being non  empty set holds (for R4 being (Element of R1) holds (for R8 being (Permutation of R1) holds (( R8 . ( ( R8 " ) . R4 ) ) = R4 & ( ( R8 " ) . ( R8 . R4 ) ) = R4)))) by L7;
theorem
L42: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds ( R8 * ( id R1 ) ) = ( ( id R1 ) * R8 )))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
L43: ( R8 * ( id R1 ) ) = R8 by FUNCT_2:17;
thus L44: thesis by L43 , FUNCT_2:17;
end;
L45: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R10 being (Permutation of R1) holds (( R8 * R9 ) = ( R8 * R10 ) implies R9 = R10)))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R10 being (Permutation of R1);
assume L46: ( R8 * R9 ) = ( R8 * R10 );
L47: ( ( ( R8 " ) * R8 ) * R9 ) = ( ( R8 " ) * ( R8 * R10 ) ) by L46 , RELAT_1:36;
L48: ( ( ( R8 " ) * R8 ) * R9 ) = ( ( ( R8 " ) * R8 ) * R10 ) by L47 , RELAT_1:36;
L49: ( ( id R1 ) * R9 ) = ( ( ( R8 " ) * R8 ) * R10 ) by L48 , FUNCT_2:61;
L50: ( ( id R1 ) * R9 ) = ( ( id R1 ) * R10 ) by L49 , FUNCT_2:61;
L51: R9 = ( ( id R1 ) * R10 ) by L50 , FUNCT_2:17;
thus L52: thesis by L51 , FUNCT_2:17;
end;
L53: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R10 being (Permutation of R1) holds (( R9 * R8 ) = ( R10 * R8 ) implies R9 = R10)))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R10 being (Permutation of R1);
assume L54: ( R9 * R8 ) = ( R10 * R8 );
L55: ( R9 * ( R8 * ( R8 " ) ) ) = ( ( R10 * R8 ) * ( R8 " ) ) by L54 , RELAT_1:36;
L56: ( R9 * ( R8 * ( R8 " ) ) ) = ( R10 * ( R8 * ( R8 " ) ) ) by L55 , RELAT_1:36;
L57: ( R9 * ( id R1 ) ) = ( R10 * ( R8 * ( R8 " ) ) ) by L56 , FUNCT_2:61;
L58: ( R9 * ( id R1 ) ) = ( R10 * ( id R1 ) ) by L57 , FUNCT_2:61;
L59: R9 = ( R10 * ( id R1 ) ) by L58 , FUNCT_2:17;
thus L60: thesis by L59 , FUNCT_2:17;
end;
theorem
L61: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R10 being (Permutation of R1) holds ((( R9 * R8 ) = ( R10 * R8 ) or ( R8 * R9 ) = ( R8 * R10 )) implies R9 = R10))))) by L45 , L53;
theorem
L62: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R10 being (Permutation of R1) holds ( ( R8 * R9 ) \ R10 ) = ( ( R8 \ R10 ) * ( R9 \ R10 ) )))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R10 being (Permutation of R1);
thus L63: ( ( R8 * R9 ) \ R10 ) = ( ( R10 * ( R8 * ( ( id R1 ) * R9 ) ) ) * ( R10 " ) ) by FUNCT_2:17
.= ( ( R10 * ( R8 * ( ( ( R10 " ) * R10 ) * R9 ) ) ) * ( R10 " ) ) by FUNCT_2:61
.= ( ( R10 * ( R8 * ( ( R10 " ) * ( R10 * R9 ) ) ) ) * ( R10 " ) ) by RELAT_1:36
.= ( ( R10 * ( ( R8 * ( R10 " ) ) * ( R10 * R9 ) ) ) * ( R10 " ) ) by RELAT_1:36
.= ( ( ( R10 * ( R8 * ( R10 " ) ) ) * ( R10 * R9 ) ) * ( R10 " ) ) by RELAT_1:36
.= ( ( R10 * ( R8 * ( R10 " ) ) ) * ( ( R10 * R9 ) * ( R10 " ) ) ) by RELAT_1:36
.= ( ( R8 \ R10 ) * ( R9 \ R10 ) ) by RELAT_1:36;
end;
theorem
L64: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds ( ( R8 " ) \ R9 ) = ( ( R8 \ R9 ) " ))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
thus L65: ( ( R8 \ R9 ) " ) = ( ( ( R9 " ) " ) * ( ( R9 * R8 ) " ) ) by FUNCT_1:44
.= ( ( ( R9 " ) " ) * ( ( R8 " ) * ( R9 " ) ) ) by FUNCT_1:44
.= ( R9 * ( ( R8 " ) * ( R9 " ) ) ) by FUNCT_1:43
.= ( ( R8 " ) \ R9 ) by RELAT_1:36;
end;
theorem
L66: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R10 being (Permutation of R1) holds ( R8 \ ( R9 * R10 ) ) = ( ( R8 \ R10 ) \ R9 )))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R10 being (Permutation of R1);
thus L67: ( R8 \ ( R9 * R10 ) ) = ( ( ( R9 * R10 ) * R8 ) * ( ( R10 " ) * ( R9 " ) ) ) by FUNCT_1:44
.= ( ( ( ( R9 * R10 ) * R8 ) * ( R10 " ) ) * ( R9 " ) ) by RELAT_1:36
.= ( ( ( R9 * ( R10 * R8 ) ) * ( R10 " ) ) * ( R9 " ) ) by RELAT_1:36
.= ( ( R8 \ R10 ) \ R9 ) by RELAT_1:36;
end;
theorem
L68: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds ( ( id R1 ) \ R8 ) = ( id R1 )))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
thus L69: ( ( id R1 ) \ R8 ) = ( R8 * ( R8 " ) ) by FUNCT_2:17
.= ( id R1 ) by FUNCT_2:61;
end;
theorem
L70: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds ( R8 \ ( id R1 ) ) = R8))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
thus L71: ( R8 \ ( id R1 ) ) = ( R8 * ( ( id R1 ) " ) ) by FUNCT_2:17
.= ( R8 * ( id R1 ) ) by FUNCT_1:45
.= R8 by FUNCT_2:17;
end;
theorem
L72: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (( R8 . R2 ) = R2 implies ( ( R8 \ R9 ) . ( R9 . R2 ) ) = ( R9 . R2 ))))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
assume L73: ( R8 . R2 ) = R2;
L74: ( ( R9 " ) . ( R9 . R2 ) ) = ( ( ( R9 " ) * R9 ) . R2 ) by FUNCT_2:15
.= ( ( id R1 ) . R2 ) by FUNCT_2:61
.= R2 by FUNCT_1:18;
thus L75: ( ( R8 \ R9 ) . ( R9 . R2 ) ) = ( ( R9 * R8 ) . R2 ) by L74 , FUNCT_2:15
.= ( R9 . R2 ) by L73 , FUNCT_2:15;
end;
definition
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
pred R8 is_FormalIz_of R11
means
:L76: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11))
;end;
theorem
L78: (for R1 being non  empty set holds (for R11 being (Relation of [: R1 , R1 :]) holds (R11 is_reflexive_in [: R1 , R1 :] implies ( id R1 ) is_FormalIz_of R11)))
proof
let R1 being non  empty set;
let R11 being (Relation of [: R1 , R1 :]);
assume L79: (for B18 being set holds (B18 in [: R1 , R1 :] implies [ B18 , B18 ] in R11));
let R4 being (Element of R1);
let R5 being (Element of R1);
L80: [ R4 , R5 ] in [: R1 , R1 :] by ZFMISC_1:def 2;
L81: (( ( id R1 ) . R4 ) = R4 & ( ( id R1 ) . R5 ) = R5) by FUNCT_1:18;
thus L82: thesis by L81 , L79 , L80;
end;
theorem
L83: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds ((R11 is_symmetric_in [: R1 , R1 :] & R8 is_FormalIz_of R11) implies ( R8 " ) is_FormalIz_of R11))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume L84: (for B19 , B20 being set holds ((B19 in [: R1 , R1 :] & B20 in [: R1 , R1 :] & [ B19 , B20 ] in R11) implies [ B20 , B19 ] in R11));
assume L85: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11));
let R4 being (Element of R1);
let R5 being (Element of R1);
L86: [ [ ( ( R8 " ) . R4 ) , ( ( R8 " ) . R5 ) ] , [ ( R8 . ( ( R8 " ) . R4 ) ) , ( R8 . ( ( R8 " ) . R5 ) ) ] ] in R11 by L85;
L87: ([ ( ( R8 " ) . R4 ) , ( ( R8 " ) . R5 ) ] in [: R1 , R1 :] & [ ( R8 . ( ( R8 " ) . R4 ) ) , ( R8 . ( ( R8 " ) . R5 ) ) ] in [: R1 , R1 :]) by ZFMISC_1:def 2;
L88: (( R8 . ( ( R8 " ) . R4 ) ) = R4 & ( R8 . ( ( R8 " ) . R5 ) ) = R5) by L7;
thus L89: thesis by L88 , L84 , L86 , L87;
end;
theorem
L90: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds ((R11 is_transitive_in [: R1 , R1 :] & R8 is_FormalIz_of R11 & R9 is_FormalIz_of R11) implies ( R8 * R9 ) is_FormalIz_of R11)))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume that
L91: (for B21 , B22 , B23 being set holds ((B21 in [: R1 , R1 :] & B22 in [: R1 , R1 :] & B23 in [: R1 , R1 :] & [ B21 , B22 ] in R11 & [ B22 , B23 ] in R11) implies [ B21 , B23 ] in R11))
and
L92: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11))
and
L93: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R9 . R4 ) , ( R9 . R5 ) ] ] in R11));
let R4 being (Element of R1);
let R5 being (Element of R1);
L94: (( R8 . ( R9 . R4 ) ) = ( ( R8 * R9 ) . R4 ) & ( R8 . ( R9 . R5 ) ) = ( ( R8 * R9 ) . R5 )) by FUNCT_2:15;
L95: [ [ ( R9 . R4 ) , ( R9 . R5 ) ] , [ ( ( R8 * R9 ) . R4 ) , ( ( R8 * R9 ) . R5 ) ] ] in R11 by L94 , L92;
L96: [ ( ( R8 * R9 ) . R4 ) , ( ( R8 * R9 ) . R5 ) ] in [: R1 , R1 :] by ZFMISC_1:def 2;
L97: ([ R4 , R5 ] in [: R1 , R1 :] & [ ( R9 . R4 ) , ( R9 . R5 ) ] in [: R1 , R1 :]) by ZFMISC_1:def 2;
L98: [ [ R4 , R5 ] , [ ( R9 . R4 ) , ( R9 . R5 ) ] ] in R11 by L93;
thus L99: thesis by L98 , L91 , L95 , L97 , L96;
end;
theorem
L100: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds (((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds (([ [ R4 , R5 ] , [ R2 , R3 ] ] in R11 & [ [ R2 , R3 ] , [ R6 , R7 ] ] in R11 & R2 <> R3) implies [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11))))))) & (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds [ [ R4 , R4 ] , [ R5 , R6 ] ] in R11))) & R8 is_FormalIz_of R11 & R9 is_FormalIz_of R11) implies ( R8 * R9 ) is_FormalIz_of R11)))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume that
L101: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds (([ [ R4 , R5 ] , [ R2 , R3 ] ] in R11 & [ [ R2 , R3 ] , [ R6 , R7 ] ] in R11 & R2 <> R3) implies [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11)))))))
and
L102: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds [ [ R4 , R4 ] , [ R5 , R6 ] ] in R11)))
and
L103: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11))
and
L104: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R9 . R4 ) , ( R9 . R5 ) ] ] in R11));
let R4 being (Element of R1);
let R5 being (Element of R1);
L105: (( R8 . ( R9 . R4 ) ) = ( ( R8 * R9 ) . R4 ) & ( R8 . ( R9 . R5 ) ) = ( ( R8 * R9 ) . R5 )) by FUNCT_2:15;
L106: [ [ ( R9 . R4 ) , ( R9 . R5 ) ] , [ ( ( R8 * R9 ) . R4 ) , ( ( R8 * R9 ) . R5 ) ] ] in R11 by L105 , L103;
L107:
now
assume L108: ( R9 . R4 ) = ( R9 . R5 );
L109: R4 = R5 by L108 , FUNCT_2:58;
thus L110: thesis by L109 , L102;
end;
L111: [ [ R4 , R5 ] , [ ( R9 . R4 ) , ( R9 . R5 ) ] ] in R11 by L104;
thus L112: thesis by L111 , L101 , L106 , L107;
end;
definition
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
pred R8 is_automorphism_of R11
means
:L113: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds ([ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 iff [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11)))))
;end;
theorem
L115: (for R1 being non  empty set holds (for R11 being (Relation of [: R1 , R1 :]) holds ( id R1 ) is_automorphism_of R11))
proof
let R1 being non  empty set;
let R11 being (Relation of [: R1 , R1 :]);
let R4 being (Element of R1);
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
L116: ( ( id R1 ) . R6 ) = R6 by FUNCT_1:18;
L117: (( ( id R1 ) . R4 ) = R4 & ( ( id R1 ) . R5 ) = R5) by FUNCT_1:18;
thus L118: ([ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 implies [ [ ( ( id R1 ) . R4 ) , ( ( id R1 ) . R5 ) ] , [ ( ( id R1 ) . R6 ) , ( ( id R1 ) . R7 ) ] ] in R11) by L117 , L116 , FUNCT_1:18;
assume L119: [ [ ( ( id R1 ) . R4 ) , ( ( id R1 ) . R5 ) ] , [ ( ( id R1 ) . R6 ) , ( ( id R1 ) . R7 ) ] ] in R11;
thus L120: thesis by L119 , L117 , L116 , FUNCT_1:18;
end;
theorem
L121: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds (R8 is_automorphism_of R11 implies ( R8 " ) is_automorphism_of R11))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume L122: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds ([ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 iff [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11)))));
let R4 being (Element of R1);
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
L123: (( R8 . ( ( R8 " ) . R6 ) ) = R6 & ( R8 . ( ( R8 " ) . R7 ) ) = R7) by L7;
L124: (( R8 . ( ( R8 " ) . R4 ) ) = R4 & ( R8 . ( ( R8 " ) . R5 ) ) = R5) by L7;
thus L125: thesis by L124 , L122 , L123;
end;
theorem
L126: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds ((R8 is_automorphism_of R11 & R9 is_automorphism_of R11) implies ( R9 * R8 ) is_automorphism_of R11)))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume that
L127: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds ([ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 iff [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11)))))
and
L128: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds ([ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 iff [ [ ( R9 . R4 ) , ( R9 . R5 ) ] , [ ( R9 . R6 ) , ( R9 . R7 ) ] ] in R11)))));
let R4 being (Element of R1);
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
L129: (( R9 . ( R8 . R4 ) ) = ( ( R9 * R8 ) . R4 ) & ( R9 . ( R8 . R5 ) ) = ( ( R9 * R8 ) . R5 )) by FUNCT_2:15;
L130: (( R9 . ( R8 . R6 ) ) = ( ( R9 * R8 ) . R6 ) & ( R9 . ( R8 . R7 ) ) = ( ( R9 * R8 ) . R7 )) by FUNCT_2:15;
L131: ([ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 iff [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11) by L127;
thus L132: thesis by L131 , L128 , L129 , L130;
end;
theorem
L133: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds ((R11 is_symmetric_in [: R1 , R1 :] & R11 is_transitive_in [: R1 , R1 :] & R8 is_FormalIz_of R11) implies R8 is_automorphism_of R11))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume that
L134: (for B24 , B25 being set holds ((B24 in [: R1 , R1 :] & B25 in [: R1 , R1 :] & [ B24 , B25 ] in R11) implies [ B25 , B24 ] in R11))
and
L135: (for B26 , B27 , B28 being set holds ((B26 in [: R1 , R1 :] & B27 in [: R1 , R1 :] & B28 in [: R1 , R1 :] & [ B26 , B27 ] in R11 & [ B27 , B28 ] in R11) implies [ B26 , B28 ] in R11))
and
L136: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11));
let R4 being (Element of R1);
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
L137: [ R6 , R7 ] in [: R1 , R1 :] by ZFMISC_1:def 2;
L138: [ ( R8 . R6 ) , ( R8 . R7 ) ] in [: R1 , R1 :] by ZFMISC_1:def 2;
L139: [ ( R8 . R4 ) , ( R8 . R5 ) ] in [: R1 , R1 :] by ZFMISC_1:def 2;
L140: [ R4 , R5 ] in [: R1 , R1 :] by ZFMISC_1:def 2;
L141:
now
L142: [ [ R6 , R7 ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L136;
L143: [ [ ( R8 . R6 ) , ( R8 . R7 ) ] , [ R6 , R7 ] ] in R11 by L142 , L134 , L137 , L138;
assume L144: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11;
L145: [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11 by L136;
L146: [ [ R4 , R5 ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L145 , L135 , L140 , L139 , L138 , L144;
thus L147: [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 by L146 , L135 , L140 , L137 , L138 , L143;
end;
L148:
now
L149: [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11 by L136;
L150: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ R4 , R5 ] ] in R11 by L149 , L134 , L140 , L139;
L151: [ [ R6 , R7 ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L136;
assume L152: [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11;
L153: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ R6 , R7 ] ] in R11 by L152 , L135 , L140 , L137 , L139 , L150;
thus L154: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L153 , L135 , L137 , L139 , L138 , L151;
end;
thus L155: thesis by L148 , L141;
end;
theorem
L156: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds (((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds (([ [ R4 , R5 ] , [ R2 , R3 ] ] in R11 & [ [ R2 , R3 ] , [ R6 , R7 ] ] in R11 & R2 <> R3) implies [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11))))))) & (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds [ [ R4 , R4 ] , [ R5 , R6 ] ] in R11))) & R11 is_symmetric_in [: R1 , R1 :] & R8 is_FormalIz_of R11) implies R8 is_automorphism_of R11))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume that
L157: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds (([ [ R4 , R5 ] , [ R2 , R3 ] ] in R11 & [ [ R2 , R3 ] , [ R6 , R7 ] ] in R11 & R2 <> R3) implies [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11)))))))
and
L158: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds [ [ R4 , R4 ] , [ R5 , R6 ] ] in R11)))
and
L159: (for B29 , B30 being set holds ((B29 in [: R1 , R1 :] & B30 in [: R1 , R1 :] & [ B29 , B30 ] in R11) implies [ B30 , B29 ] in R11))
and
L160: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11));
L161: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds [ [ R5 , R6 ] , [ R4 , R4 ] ] in R11)))
proof
let R4 being (Element of R1);
let R5 being (Element of R1);
let R6 being (Element of R1);
L162: ([ R5 , R6 ] in [: R1 , R1 :] & [ R4 , R4 ] in [: R1 , R1 :]) by ZFMISC_1:def 2;
L163: [ [ R4 , R4 ] , [ R5 , R6 ] ] in R11 by L158;
thus L164: thesis by L163 , L159 , L162;
end;
let R4 being (Element of R1);
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
L165: [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11 by L160;
L166: [ [ R6 , R7 ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L160;
L167: ([ R6 , R7 ] in [: R1 , R1 :] & [ ( R8 . R6 ) , ( R8 . R7 ) ] in [: R1 , R1 :]) by ZFMISC_1:def 2;
L168: [ [ ( R8 . R6 ) , ( R8 . R7 ) ] , [ R6 , R7 ] ] in R11 by L167 , L159 , L166;
L169:
now
assume L170: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11;
L171:
now
assume that
L172: ( R8 . R4 ) <> ( R8 . R5 )
and
L173: ( R8 . R6 ) <> ( R8 . R7 );
L174: [ [ R4 , R5 ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L157 , L165 , L170 , L172;
thus L175: [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 by L174 , L157 , L168 , L173;
end;
L176:
now
assume L177: ( R8 . R6 ) = ( R8 . R7 );
L178: R6 = R7 by L177 , FUNCT_2:58;
thus L179: [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 by L178 , L161;
end;
L180:
now
assume L181: ( R8 . R4 ) = ( R8 . R5 );
L182: R4 = R5 by L181 , FUNCT_2:58;
thus L183: [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 by L182 , L158;
end;
thus L184: [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 by L180 , L176 , L171;
end;
L185: ([ R4 , R5 ] in [: R1 , R1 :] & [ ( R8 . R4 ) , ( R8 . R5 ) ] in [: R1 , R1 :]) by ZFMISC_1:def 2;
L186: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ R4 , R5 ] ] in R11 by L185 , L159 , L165;
L187:
now
assume L188: [ [ R4 , R5 ] , [ R6 , R7 ] ] in R11;
L189:
now
assume that
L190: R4 <> R5
and
L191: R6 <> R7;
L192: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ R6 , R7 ] ] in R11 by L157 , L186 , L188 , L190;
thus L193: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L192 , L157 , L166 , L191;
end;
thus L194: [ [ ( R8 . R4 ) , ( R8 . R5 ) ] , [ ( R8 . R6 ) , ( R8 . R7 ) ] ] in R11 by L189 , L158 , L161;
end;
thus L195: thesis by L187 , L169;
end;
theorem
L196: (for R1 being non  empty set holds (for R8 being (Permutation of R1) holds (for R9 being (Permutation of R1) holds (for R11 being (Relation of [: R1 , R1 :]) holds ((R8 is_FormalIz_of R11 & R9 is_automorphism_of R11) implies ( R8 \ R9 ) is_FormalIz_of R11)))))
proof
let R1 being non  empty set;
let R8 being (Permutation of R1);
let R9 being (Permutation of R1);
let R11 being (Relation of [: R1 , R1 :]);
assume that
L197: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds [ [ R4 , R5 ] , [ ( R8 . R4 ) , ( R8 . R5 ) ] ] in R11))
and
L198: (for R4 being (Element of R1) holds (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds (for R7 being (Element of R1) holds ([ [ R4 , R5 ] , [ R6 , R7 ] ] in R11 iff [ [ ( R9 . R4 ) , ( R9 . R5 ) ] , [ ( R9 . R6 ) , ( R9 . R7 ) ] ] in R11)))));
let R4 being (Element of R1);
let R5 being (Element of R1);
L199: [ [ ( ( R9 " ) . R4 ) , ( ( R9 " ) . R5 ) ] , [ ( R8 . ( ( R9 " ) . R4 ) ) , ( R8 . ( ( R9 " ) . R5 ) ) ] ] in R11 by L197;
L200: (( R9 . ( ( R9 " ) . R4 ) ) = R4 & ( R9 . ( ( R9 " ) . R5 ) ) = R5) by L7;
L201: [ [ R4 , R5 ] , [ ( R9 . ( R8 . ( ( R9 " ) . R4 ) ) ) , ( R9 . ( R8 . ( ( R9 " ) . R5 ) ) ) ] ] in R11 by L200 , L198 , L199;
L202: [ [ R4 , R5 ] , [ ( ( R9 * R8 ) . ( ( R9 " ) . R4 ) ) , ( R9 . ( R8 . ( ( R9 " ) . R5 ) ) ) ] ] in R11 by L201 , FUNCT_2:15;
L203: [ [ R4 , R5 ] , [ ( ( R9 * R8 ) . ( ( R9 " ) . R4 ) ) , ( ( R9 * R8 ) . ( ( R9 " ) . R5 ) ) ] ] in R11 by L202 , FUNCT_2:15;
L204: [ [ R4 , R5 ] , [ ( ( ( R9 * R8 ) * ( R9 " ) ) . R4 ) , ( ( R9 * R8 ) . ( ( R9 " ) . R5 ) ) ] ] in R11 by L203 , FUNCT_2:15;
thus L205: thesis by L204 , FUNCT_2:15;
end;
definition
let R12 being non  empty AffinStruct;
let C11 being (Permutation of (the carrier of R12));
pred C11 is_DIL_of R12
means
:L206: C11 is_FormalIz_of (the CONGR of R12)
;end;
theorem
L208: (for R12 being non  empty AffinStruct holds (for B31 being (Permutation of (the carrier of R12)) holds (B31 is_DIL_of R12 iff (for R13 being (Element of R12) holds (for R14 being (Element of R12) holds R13 , R14 // ( B31 . R13 ) , ( B31 . R14 ))))))
proof
let R12 being non  empty AffinStruct;
let C12 being (Permutation of (the carrier of R12));
L209:
now
assume L210: (for R13 being (Element of R12) holds (for R14 being (Element of R12) holds R13 , R14 // ( C12 . R13 ) , ( C12 . R14 )));
L211: (for R15 being (Element of R12) holds (for R16 being (Element of R12) holds [ [ R15 , R16 ] , [ ( C12 . R15 ) , ( C12 . R16 ) ] ] in (the CONGR of R12)))
proof
let R15 being (Element of R12);
let R16 being (Element of R12);
L212: R15 , R16 // ( C12 . R15 ) , ( C12 . R16 ) by L210;
thus L213: thesis by L212 , ANALOAF:def 2;
end;
L214: C12 is_FormalIz_of (the CONGR of R12) by L211 , L76;
thus L215: C12 is_DIL_of R12 by L214 , L206;
end;
L216:
now
assume L217: C12 is_DIL_of R12;
let R13 being (Element of R12);
let R14 being (Element of R12);
L218: C12 is_FormalIz_of (the CONGR of R12) by L217 , L206;
L219: [ [ R13 , R14 ] , [ ( C12 . R13 ) , ( C12 . R14 ) ] ] in (the CONGR of R12) by L218 , L76;
thus L220: R13 , R14 // ( C12 . R13 ) , ( C12 . R14 ) by L219 , ANALOAF:def 2;
end;
thus L221: thesis by L216 , L209;
end;
definition
let C13 being non  empty AffinStruct;
attr C13 is  CongrSpace-like
means
:L222: ((for B32 , B33 , B34 , B35 , B36 , B37 being (Element of C13) holds ((B32 , B33 // B36 , B37 & B36 , B37 // B34 , B35 & B36 <> B37) implies B32 , B33 // B34 , B35)) & (for B38 , B39 , B40 being (Element of C13) holds B38 , B38 // B39 , B40) & (for B41 , B42 , B43 , B44 being (Element of C13) holds (B41 , B42 // B43 , B44 implies B43 , B44 // B41 , B42)) & (for B45 , B46 being (Element of C13) holds B45 , B46 // B45 , B46));
end;
registration
cluster  strict  CongrSpace-like for non  empty non  empty non  empty non  empty AffinStruct;
existence
proof
set D2 = the  strict OAffinSpace;
L224: ((for B47 , B48 , B49 , B50 being (Element of D2) holds (B47 , B48 // B49 , B50 implies B49 , B50 // B47 , B48)) & (for B51 , B52 being (Element of D2) holds B51 , B52 // B51 , B52)) by DIRAF:1 , DIRAF:2;
L225: ((for B53 , B54 , B55 , B56 , B57 , B58 being (Element of D2) holds ((B53 , B54 // B57 , B58 & B57 , B58 // B55 , B56 & B57 <> B58) implies B53 , B54 // B55 , B56)) & (for B59 , B60 , B61 being (Element of D2) holds B59 , B59 // B60 , B61)) by DIRAF:3 , DIRAF:4;
L226: D2 is  CongrSpace-like by L225 , L224 , L222;
thus L227: thesis by L226;
end;
end;
definition
mode CongrSpace
 is  CongrSpace-like non  empty AffinStruct;
end;
L230: (for R17 being CongrSpace holds (the CONGR of R17) is_reflexive_in [: (the carrier of R17) , (the carrier of R17) :])
proof
let R17 being CongrSpace;
let C14 being set;
assume L231: C14 in [: (the carrier of R17) , (the carrier of R17) :];
consider C15 , C16 being (Element of R17) such that L232: C14 = [ C15 , C16 ] by L231 , DOMAIN_1:1;
L233: C15 , C16 // C15 , C16 by L222;
thus L234: thesis by L233 , L232 , ANALOAF:def 2;
end;
L235: (for R17 being CongrSpace holds (the CONGR of R17) is_symmetric_in [: (the carrier of R17) , (the carrier of R17) :])
proof
let R17 being CongrSpace;
let C17 , C18 being set;
assume that
L236: C17 in [: (the carrier of R17) , (the carrier of R17) :]
and
L237: C18 in [: (the carrier of R17) , (the carrier of R17) :]
and
L238: [ C17 , C18 ] in (the CONGR of R17);
consider C19 , C20 being (Element of R17) such that L239: C17 = [ C19 , C20 ] by L236 , DOMAIN_1:1;
consider C21 , C22 being (Element of R17) such that L240: C18 = [ C21 , C22 ] by L237 , DOMAIN_1:1;
L241: C19 , C20 // C21 , C22 by L238 , L239 , L240 , ANALOAF:def 2;
L242: C21 , C22 // C19 , C20 by L241 , L222;
thus L243: thesis by L242 , L239 , L240 , ANALOAF:def 2;
end;
theorem
L244: (for R17 being CongrSpace holds ( id (the carrier of R17) ) is_DIL_of R17)
proof
let R17 being CongrSpace;
L245: ( id (the carrier of R17) ) is_FormalIz_of (the CONGR of R17) by L230 , L78;
thus L246: thesis by L245 , L206;
end;
theorem
L247: (for R17 being CongrSpace holds (for B62 being (Permutation of (the carrier of R17)) holds (B62 is_DIL_of R17 implies ( B62 " ) is_DIL_of R17)))
proof
let R17 being CongrSpace;
let C23 being (Permutation of (the carrier of R17));
assume L248: C23 is_DIL_of R17;
L249: C23 is_FormalIz_of (the CONGR of R17) by L248 , L206;
L250: ( C23 " ) is_FormalIz_of (the CONGR of R17) by L249 , L235 , L83;
thus L251: thesis by L250 , L206;
end;
theorem
L252: (for R17 being CongrSpace holds (for B63 , B64 being (Permutation of (the carrier of R17)) holds ((B63 is_DIL_of R17 & B64 is_DIL_of R17) implies ( B63 * B64 ) is_DIL_of R17)))
proof
let R17 being CongrSpace;
let C24 , C25 being (Permutation of (the carrier of R17));
L253:
now
let C26 , C27 , C28 , C29 , C30 , C31 being (Element of R17);
assume that
L254: ([ [ C28 , C29 ] , [ C26 , C27 ] ] in (the CONGR of R17) & [ [ C26 , C27 ] , [ C30 , C31 ] ] in (the CONGR of R17))
and
L255: C26 <> C27;
L256: (C28 , C29 // C26 , C27 & C26 , C27 // C30 , C31) by L254 , ANALOAF:def 2;
L257: C28 , C29 // C30 , C31 by L256 , L255 , L222;
thus L258: [ [ C28 , C29 ] , [ C30 , C31 ] ] in (the CONGR of R17) by L257 , ANALOAF:def 2;
end;
L259:
now
let C32 , C33 , C34 being (Element of R17);
L260: C32 , C32 // C33 , C34 by L222;
thus L261: [ [ C32 , C32 ] , [ C33 , C34 ] ] in (the CONGR of R17) by L260 , ANALOAF:def 2;
end;
assume L262: (C24 is_DIL_of R17 & C25 is_DIL_of R17);
L263: (C24 is_FormalIz_of (the CONGR of R17) & C25 is_FormalIz_of (the CONGR of R17)) by L262 , L206;
L264: ( C24 * C25 ) is_FormalIz_of (the CONGR of R17) by L263 , L253 , L259 , L100;
thus L265: thesis by L264 , L206;
end;
theorem
L266: (for R18 being OAffinSpace holds R18 is  CongrSpace-like)
proof
let R18 being OAffinSpace;
thus L267: (for B65 , B66 , B67 , B68 , B69 , B70 being (Element of R18) holds ((B65 , B66 // B69 , B70 & B69 , B70 // B67 , B68 & B69 <> B70) implies B65 , B66 // B67 , B68)) by DIRAF:3;
thus L268: (for B71 , B72 , B73 being (Element of R18) holds B71 , B71 // B72 , B73) by DIRAF:4;
thus L269: (for B74 , B75 , B76 , B77 being (Element of R18) holds (B74 , B75 // B76 , B77 implies B76 , B77 // B74 , B75)) by DIRAF:2;
thus L270: thesis by DIRAF:1;
end;
definition
let R18 being OAffinSpace;
let C35 being (Permutation of (the carrier of R18));
attr C35 is  positive_dilatation
means
:L271: C35 is_DIL_of R18;
end;
theorem
L273: (for R18 being OAffinSpace holds (for B78 being (Permutation of (the carrier of R18)) holds (B78 is  positive_dilatation iff (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds R19 , R20 // ( B78 . R19 ) , ( B78 . R20 ))))))
proof
let R18 being OAffinSpace;
let C36 being (Permutation of (the carrier of R18));
L274:
now
assume L275: (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds R19 , R20 // ( C36 . R19 ) , ( C36 . R20 )));
L276: C36 is_DIL_of R18 by L275 , L208;
thus L277: C36 is  positive_dilatation by L276 , L271;
end;
L278:
now
assume L279: C36 is  positive_dilatation;
L280: C36 is_DIL_of R18 by L279 , L271;
thus L281: (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds R19 , R20 // ( C36 . R19 ) , ( C36 . R20 ))) by L280 , L208;
end;
thus L282: thesis by L278 , L274;
end;
definition
let R18 being OAffinSpace;
let C37 being (Permutation of (the carrier of R18));
attr C37 is  negative_dilatation
means
:L283: (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds R19 , R20 // ( C37 . R20 ) , ( C37 . R19 )));
end;
theorem
L285: (for R18 being OAffinSpace holds ( id (the carrier of R18) ) is  positive_dilatation)
proof
let R18 being OAffinSpace;
L286: R18 is CongrSpace by L266;
L287: ( id (the carrier of R18) ) is_DIL_of R18 by L286 , L244;
thus L288: thesis by L287 , L271;
end;
theorem
L289: (for R18 being OAffinSpace holds (for B79 being (Permutation of (the carrier of R18)) holds (B79 is  positive_dilatation implies ( B79 " ) is  positive_dilatation)))
proof
let R18 being OAffinSpace;
let C38 being (Permutation of (the carrier of R18));
assume L290: C38 is  positive_dilatation;
L291: C38 is_DIL_of R18 by L290 , L271;
L292: R18 is CongrSpace by L266;
L293: ( C38 " ) is_DIL_of R18 by L292 , L291 , L247;
thus L294: thesis by L293 , L271;
end;
theorem
L295: (for R18 being OAffinSpace holds (for B80 , B81 being (Permutation of (the carrier of R18)) holds ((B80 is  positive_dilatation & B81 is  positive_dilatation) implies ( B80 * B81 ) is  positive_dilatation)))
proof
let R18 being OAffinSpace;
let C39 , C40 being (Permutation of (the carrier of R18));
assume L296: (C39 is  positive_dilatation & C40 is  positive_dilatation);
L297: (C39 is_DIL_of R18 & C40 is_DIL_of R18) by L296 , L271;
L298: R18 is CongrSpace by L266;
L299: ( C39 * C40 ) is_DIL_of R18 by L298 , L297 , L252;
thus L300: thesis by L299 , L271;
end;
theorem
L301: (for R18 being OAffinSpace holds (not (ex R31 being (Permutation of (the carrier of R18)) st (R31 is  negative_dilatation & R31 is  positive_dilatation))))
proof
let R18 being OAffinSpace;
given R31 being (Permutation of (the carrier of R18)) such that
L302: (R31 is  negative_dilatation & R31 is  positive_dilatation);

consider R19 being (Element of R18), R20 being (Element of R18) such that L303: R19 <> R20 by STRUCT_0:def 10;
L304: (R19 , R20 // ( R31 . R19 ) , ( R31 . R20 ) & R19 , R20 // ( R31 . R20 ) , ( R31 . R19 )) by L302 , L283 , L273;
L305: ( R31 . R19 ) , ( R31 . R20 ) // ( R31 . R20 ) , ( R31 . R19 ) by L304 , L303 , ANALOAF:def 5;
L306: ( R31 . R19 ) = ( R31 . R20 ) by L305 , ANALOAF:def 5;
thus L307: contradiction by L306 , L303 , FUNCT_2:58;
end;
theorem
L308: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  negative_dilatation implies ( R31 " ) is  negative_dilatation)))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L309: R31 is  negative_dilatation;
let R26 being (Element of R18);
let R27 being (Element of R18);
set D3 = ( ( R31 " ) . R26 );
set D4 = ( ( R31 " ) . R27 );
L310: (( R31 . D3 ) = R26 & ( R31 . D4 ) = R27) by L7;
L311: D4 , D3 // R26 , R27 by L310 , L309 , L283;
thus L312: thesis by L311 , DIRAF:2;
end;
theorem
L313: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (for R32 being (Permutation of (the carrier of R18)) holds ((R31 is  positive_dilatation & R32 is  negative_dilatation) implies (( R31 * R32 ) is  negative_dilatation & ( R32 * R31 ) is  negative_dilatation)))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
let R32 being (Permutation of (the carrier of R18));
assume L314: (R31 is  positive_dilatation & R32 is  negative_dilatation);
thus L315: (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , R27 // ( ( R31 * R32 ) . R27 ) , ( ( R31 * R32 ) . R26 )))
proof
let R26 being (Element of R18);
let R27 being (Element of R18);
set D5 = ( R32 . R26 );
set D6 = ( R32 . R27 );
L316: (( ( R31 * R32 ) . R26 ) = ( R31 . D5 ) & ( ( R31 * R32 ) . R27 ) = ( R31 . D6 )) by FUNCT_2:15;
L317:
now
assume L318: D5 = D6;
L319: R26 = R27 by L318 , FUNCT_2:58;
thus L320: thesis by L319 , DIRAF:4;
end;
L321: (R26 , R27 // D6 , D5 & D6 , D5 // ( R31 . D6 ) , ( R31 . D5 )) by L314 , L283 , L273;
thus L322: thesis by L321 , L316 , L317 , DIRAF:3;
end;

thus L323: (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , R27 // ( ( R32 * R31 ) . R27 ) , ( ( R32 * R31 ) . R26 )))
proof
let R26 being (Element of R18);
let R27 being (Element of R18);
set D7 = ( R31 . R26 );
set D8 = ( R31 . R27 );
L324: (( ( R32 * R31 ) . R26 ) = ( R32 . D7 ) & ( ( R32 * R31 ) . R27 ) = ( R32 . D8 )) by FUNCT_2:15;
L325:
now
assume L326: D7 = D8;
L327: R26 = R27 by L326 , FUNCT_2:58;
thus L328: thesis by L327 , DIRAF:4;
end;
L329: (R26 , R27 // D7 , D8 & D7 , D8 // ( R32 . D8 ) , ( R32 . D7 )) by L314 , L283 , L273;
thus L330: thesis by L329 , L324 , L325 , DIRAF:3;
end;

end;
definition
let R18 being OAffinSpace;
let C41 being (Permutation of (the carrier of R18));
attr C41 is  dilatation
means
:L324: C41 is_FormalIz_of ( lambda (the CONGR of R18) );
end;
theorem
L326: (for R18 being OAffinSpace holds (for B82 being (Permutation of (the carrier of R18)) holds (B82 is  dilatation iff (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds R19 , R20 '||' ( B82 . R19 ) , ( B82 . R20 ))))))
proof
let R18 being OAffinSpace;
let C42 being (Permutation of (the carrier of R18));
L327:
now
assume L328: (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds R19 , R20 '||' ( C42 . R19 ) , ( C42 . R20 )));
L329:
now
let R19 being (Element of R18);
let R20 being (Element of R18);
L330: R19 , R20 '||' ( C42 . R19 ) , ( C42 . R20 ) by L328;
thus L331: [ [ R19 , R20 ] , [ ( C42 . R19 ) , ( C42 . R20 ) ] ] in ( lambda (the CONGR of R18) ) by L330 , DIRAF:18;
end;
L332: C42 is_FormalIz_of ( lambda (the CONGR of R18) ) by L329 , L76;
thus L333: C42 is  dilatation by L332 , L324;
end;
L334:
now
assume L335: C42 is  dilatation;
let R19 being (Element of R18);
let R20 being (Element of R18);
L336: C42 is_FormalIz_of ( lambda (the CONGR of R18) ) by L335 , L324;
L337: [ [ R19 , R20 ] , [ ( C42 . R19 ) , ( C42 . R20 ) ] ] in ( lambda (the CONGR of R18) ) by L336 , L76;
thus L338: R19 , R20 '||' ( C42 . R19 ) , ( C42 . R20 ) by L337 , DIRAF:18;
end;
thus L339: thesis by L334 , L327;
end;
theorem
L340: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  positive_dilatation or R31 is  negative_dilatation) implies R31 is  dilatation)))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L341: (R31 is  positive_dilatation or R31 is  negative_dilatation);
L342:
now
let R26 being (Element of R18);
let R27 being (Element of R18);
L343: (R26 , R27 // ( R31 . R26 ) , ( R31 . R27 ) or R26 , R27 // ( R31 . R27 ) , ( R31 . R26 )) by L341 , L283 , L273;
thus L344: R26 , R27 '||' ( R31 . R26 ) , ( R31 . R27 ) by L343 , DIRAF:def 4;
end;
thus L345: thesis by L342 , L326;
end;
theorem
L346: (for R18 being OAffinSpace holds (for B83 being (Permutation of (the carrier of R18)) holds (B83 is  dilatation implies (ex B84 being (Permutation of (the carrier of ( Lambda R18 ))) st (B83 = B84 & B84 is_DIL_of ( Lambda R18 ))))))
proof
let R18 being OAffinSpace;
let C43 being (Permutation of (the carrier of R18));
L347: ( Lambda R18 ) = AffinStruct (# (the carrier of R18) , ( lambda (the CONGR of R18) ) #) by DIRAF:def 2;
reconsider D9 = C43 as (Permutation of (the carrier of ( Lambda R18 ))) by L347;
assume L348: C43 is  dilatation;
L349: C43 is_FormalIz_of ( lambda (the CONGR of R18) ) by L348 , L324;
take D9;
thus L350: thesis by L349 , L347 , L206;
end;
theorem
L351: (for R18 being OAffinSpace holds (for B85 being (Permutation of (the carrier of ( Lambda R18 ))) holds (B85 is_DIL_of ( Lambda R18 ) implies (ex B86 being (Permutation of (the carrier of R18)) st (B85 = B86 & B86 is  dilatation)))))
proof
let R18 being OAffinSpace;
let C44 being (Permutation of (the carrier of ( Lambda R18 )));
L352: ( Lambda R18 ) = AffinStruct (# (the carrier of R18) , ( lambda (the CONGR of R18) ) #) by DIRAF:def 2;
reconsider D10 = C44 as (Permutation of (the carrier of R18)) by L352;
assume L353: C44 is_DIL_of ( Lambda R18 );
L354: C44 is_FormalIz_of (the CONGR of ( Lambda R18 )) by L353 , L206;
take D10;
thus L355: thesis by L354 , L352 , L324;
end;
theorem
L356: (for R18 being OAffinSpace holds ( id (the carrier of R18) ) is  dilatation)
proof
let R18 being OAffinSpace;
L357:
now
let R26 being (Element of R18);
let R27 being (Element of R18);
L358: (( ( id (the carrier of R18) ) . R26 ) = R26 & ( ( id (the carrier of R18) ) . R27 ) = R27) by FUNCT_1:18;
thus L359: R26 , R27 '||' ( ( id (the carrier of R18) ) . R26 ) , ( ( id (the carrier of R18) ) . R27 ) by L358 , DIRAF:19;
end;
thus L360: thesis by L357 , L326;
end;
theorem
L361: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  dilatation implies ( R31 " ) is  dilatation)))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L362: R31 is  dilatation;
L363:
now
let R26 being (Element of R18);
let R27 being (Element of R18);
set D11 = ( ( R31 " ) . R26 );
set D12 = ( ( R31 " ) . R27 );
L364: (( R31 . D11 ) = R26 & ( R31 . D12 ) = R27) by L7;
L365: D11 , D12 '||' R26 , R27 by L364 , L362 , L326;
thus L366: R26 , R27 '||' ( ( R31 " ) . R26 ) , ( ( R31 " ) . R27 ) by L365 , DIRAF:22;
end;
thus L367: thesis by L363 , L326;
end;
theorem
L368: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (for R32 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & R32 is  dilatation) implies ( R31 * R32 ) is  dilatation))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
let R32 being (Permutation of (the carrier of R18));
assume L369: (R31 is  dilatation & R32 is  dilatation);
L370:
now
let R26 being (Element of R18);
let R27 being (Element of R18);
set D13 = ( R32 . R26 );
set D14 = ( R32 . R27 );
L371: (( ( R31 * R32 ) . R26 ) = ( R31 . D13 ) & ( ( R31 * R32 ) . R27 ) = ( R31 . D14 )) by FUNCT_2:15;
L372:
now
assume L373: D13 = D14;
L374: R26 = R27 by L373 , FUNCT_2:58;
thus L375: R26 , R27 '||' ( ( R31 * R32 ) . R26 ) , ( ( R31 * R32 ) . R27 ) by L374 , DIRAF:20;
end;
L376: (R26 , R27 '||' D13 , D14 & D13 , D14 '||' ( R31 . D13 ) , ( R31 . D14 )) by L369 , L326;
thus L377: R26 , R27 '||' ( ( R31 * R32 ) . R26 ) , ( ( R31 * R32 ) . R27 ) by L376 , L371 , L372 , DIRAF:23;
end;
thus L378: thesis by L370 , L326;
end;
theorem
L379: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  dilatation implies (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R21 being (Element of R18) holds (for R22 being (Element of R18) holds (R19 , R20 '||' R21 , R22 iff ( R31 . R19 ) , ( R31 . R20 ) '||' ( R31 . R21 ) , ( R31 . R22 )))))))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L380: R31 is  dilatation;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R21 being (Element of R18);
let R22 being (Element of R18);
L381: R21 , R22 '||' ( R31 . R21 ) , ( R31 . R22 ) by L380 , L326;
L382: R19 , R20 '||' ( R31 . R19 ) , ( R31 . R20 ) by L380 , L326;
L383:
now
L384:
now
L385:
now
assume L386: ( R31 . R21 ) = ( R31 . R22 );
L387: R21 = R22 by L386 , FUNCT_2:58;
thus L388: R19 , R20 '||' R21 , R22 by L387 , DIRAF:20;
end;
assume L389: R19 , R20 '||' ( R31 . R21 ) , ( R31 . R22 );
thus L390: R19 , R20 '||' R21 , R22 by L389 , L381 , L385 , DIRAF:23;
end;
L391:
now
assume L392: ( R31 . R19 ) = ( R31 . R20 );
L393: R19 = R20 by L392 , FUNCT_2:58;
thus L394: R19 , R20 '||' R21 , R22 by L393 , DIRAF:20;
end;
assume L395: ( R31 . R19 ) , ( R31 . R20 ) '||' ( R31 . R21 ) , ( R31 . R22 );
thus L396: R19 , R20 '||' R21 , R22 by L395 , L382 , L391 , L384 , DIRAF:23;
end;
L397:
now
L398:
now
L399: (R21 = R22 implies ( R31 . R19 ) , ( R31 . R20 ) '||' ( R31 . R21 ) , ( R31 . R22 )) by DIRAF:20;
assume L400: ( R31 . R19 ) , ( R31 . R20 ) '||' R21 , R22;
thus L401: ( R31 . R19 ) , ( R31 . R20 ) '||' ( R31 . R21 ) , ( R31 . R22 ) by L400 , L381 , L399 , DIRAF:23;
end;
assume L402: R19 , R20 '||' R21 , R22;
L403: (( R31 . R19 ) , ( R31 . R20 ) '||' R21 , R22 or R19 = R20) by L402 , L382 , DIRAF:23;
thus L404: ( R31 . R19 ) , ( R31 . R20 ) '||' ( R31 . R21 ) , ( R31 . R22 ) by L403 , L398 , DIRAF:20;
end;
thus L405: thesis by L397 , L383;
end;
theorem
L406: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  dilatation implies (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R21 being (Element of R18) holds ( LIN R19 , R20 , R21 iff  LIN ( R31 . R19 ) , ( R31 . R20 ) , ( R31 . R21 ))))))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L407: R31 is  dilatation;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R21 being (Element of R18);
L408: (R19 , R20 '||' R19 , R21 iff ( R31 . R19 ) , ( R31 . R20 ) '||' ( R31 . R19 ) , ( R31 . R21 )) by L407 , L379;
thus L409: thesis by L408 , DIRAF:def 5;
end;
theorem
L410: (for R18 being OAffinSpace holds (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation &  LIN R26 , ( R31 . R26 ) , R27) implies  LIN R26 , ( R31 . R26 ) , ( R31 . R27 ))))))
proof
let R18 being OAffinSpace;
let R26 being (Element of R18);
let R27 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume L411: R31 is  dilatation;
assume L412:  LIN R26 , ( R31 . R26 ) , R27;
L413:
now
assume L414: R26 <> R27;
L415: (R26 , ( R31 . R26 ) '||' R26 , R27 & R26 , R27 '||' ( R31 . R26 ) , ( R31 . R27 )) by L411 , L412 , L326 , DIRAF:def 5;
L416: R26 , ( R31 . R26 ) '||' ( R31 . R26 ) , ( R31 . R27 ) by L415 , L414 , DIRAF:23;
L417: ( R31 . R26 ) , R26 '||' ( R31 . R26 ) , ( R31 . R27 ) by L416 , DIRAF:22;
L418:  LIN ( R31 . R26 ) , R26 , ( R31 . R27 ) by L417 , DIRAF:def 5;
thus L419: thesis by L418 , DIRAF:30;
end;
thus L420: thesis by L413 , DIRAF:31;
end;
theorem
L421: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R21 being (Element of R18) holds (for R22 being (Element of R18) holds (R19 , R20 '||' R21 , R22 implies (R19 , R21 '||' R20 , R22 or (ex R26 being (Element of R18) st ( LIN R19 , R21 , R26 &  LIN R20 , R22 , R26)))))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R21 being (Element of R18);
let R22 being (Element of R18);
assume L422: R19 , R20 '||' R21 , R22;
assume L423: (not R19 , R21 '||' R20 , R22);
L424:
now
consider R28 being (Element of R18) such that L425: R19 , R20 '||' R21 , R28 and L426: R19 , R21 '||' R20 , R28 by DIRAF:26;
assume L427: R19 <> R20;
L428:
now
L429: R21 , R22 '||' R21 , R28 by L422 , L427 , L425 , DIRAF:23;
L430:  LIN R21 , R22 , R28 by L429 , DIRAF:def 5;
L431:  LIN R22 , R21 , R28 by L430 , DIRAF:30;
L432: R22 , R21 '||' R22 , R28 by L431 , DIRAF:def 5;
L433: R28 , R22 '||' R22 , R21 by L432 , DIRAF:22;
consider R29 being (Element of R18) such that L434: R20 , R22 '||' R22 , R29 and L435: R20 , R28 '||' R21 , R29 by L433 , L423 , L426 , DIRAF:27;
assume L436: R20 <> R28;
L437: R19 , R21 '||' R21 , R29 by L436 , L426 , L435 , DIRAF:23;
L438: R21 , R19 '||' R21 , R29 by L437 , DIRAF:22;
L439:  LIN R21 , R19 , R29 by L438 , DIRAF:def 5;
L440:  LIN R19 , R21 , R29 by L439 , DIRAF:30;
L441: R22 , R20 '||' R22 , R29 by L434 , DIRAF:22;
L442:  LIN R22 , R20 , R29 by L441 , DIRAF:def 5;
L443:  LIN R20 , R22 , R29 by L442 , DIRAF:30;
thus L444: thesis by L443 , L440;
end;
L445:
now
assume L446: R20 = R28;
L447: R20 , R19 '||' R20 , R21 by L446 , L425 , DIRAF:22;
L448:  LIN R20 , R19 , R21 by L447 , DIRAF:def 5;
L449:  LIN R19 , R21 , R20 by L448 , DIRAF:30;
L450:  LIN R20 , R22 , R20 by DIRAF:31;
thus L451: thesis by L450 , L449;
end;
thus L452: thesis by L445 , L428;
end;
L453:
now
assume L454: R19 = R20;
L455: ( LIN R19 , R21 , R19 &  LIN R20 , R22 , R19) by L454 , DIRAF:31;
thus L456: thesis by L455;
end;
thus L457: thesis by L453 , L424;
end;
theorem
L458: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  dilatation implies ((R31 = ( id (the carrier of R18) ) or (for R26 being (Element of R18) holds ( R31 . R26 ) <> R26)) iff (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , ( R31 . R26 ) '||' R27 , ( R31 . R27 )))))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L459: R31 is  dilatation;
L460:
now
assume L461: (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , ( R31 . R26 ) '||' R27 , ( R31 . R27 )));
assume L462: R31 <> ( id (the carrier of R18) );
consider R27 being (Element of R18) such that L463: ( R31 . R27 ) <> ( ( id (the carrier of R18) ) . R27 ) by L462 , FUNCT_2:63;
given R26 being (Element of R18) such that
L464: ( R31 . R26 ) = R26;

L465: R26 <> R27 by L464 , L463 , FUNCT_1:18;
consider R28 being (Element of R18) such that L466: (not  LIN R26 , R27 , R28) by L465 , DIRAF:37;
L467: R26 , R28 '||' ( R31 . R26 ) , ( R31 . R28 ) by L459 , L326;
L468:  LIN R26 , R28 , ( R31 . R28 ) by L467 , L464 , DIRAF:def 5;
L469:  LIN R28 , ( R31 . R28 ) , R26 by L468 , DIRAF:30;
L470:  LIN R28 , ( R31 . R28 ) , R28 by DIRAF:31;
L471: R28 , ( R31 . R28 ) '||' R26 , R28 by L470 , L469 , DIRAF:34;
L472: ( R31 . R27 ) <> R27 by L463 , FUNCT_1:18;
L473: R26 , R27 '||' ( R31 . R26 ) , ( R31 . R27 ) by L459 , L326;
L474:  LIN R26 , R27 , ( R31 . R27 ) by L473 , L464 , DIRAF:def 5;
L475:  LIN R27 , R26 , ( R31 . R27 ) by L474 , DIRAF:30;
L476: R27 , R26 '||' R27 , ( R31 . R27 ) by L475 , DIRAF:def 5;
L477:  LIN R27 , ( R31 . R27 ) , R26 by L474 , DIRAF:30;
L478:
now
assume L479: R28 = ( R31 . R28 );
L480: R28 , R27 '||' R28 , ( R31 . R27 ) by L479 , L459 , L326;
L481:  LIN R28 , R27 , ( R31 . R27 ) by L480 , DIRAF:def 5;
L482: ( LIN R27 , ( R31 . R27 ) , R27 &  LIN R27 , ( R31 . R27 ) , R28) by L481 , DIRAF:30 , DIRAF:31;
thus L483: contradiction by L482 , L472 , L477 , L466 , DIRAF:32;
end;
L484: R27 , ( R31 . R27 ) '||' R28 , ( R31 . R28 ) by L461;
L485: R27 , ( R31 . R27 ) '||' R26 , R28 by L484 , L478 , L471 , DIRAF:23;
L486: R27 , R26 '||' R26 , R28 by L485 , L472 , L476 , DIRAF:23;
L487: R26 , R27 '||' R26 , R28 by L486 , DIRAF:22;
thus L488: contradiction by L487 , L466 , DIRAF:def 5;
end;
L489:
now
assume L490: (R31 = ( id (the carrier of R18) ) or (for R28 being (Element of R18) holds ( R31 . R28 ) <> R28));
let R26 being (Element of R18);
let R27 being (Element of R18);
L491: R26 , R27 '||' ( R31 . R26 ) , ( R31 . R27 ) by L459 , L326;
L492:
now
assume L493: (for R28 being (Element of R18) holds ( R31 . R28 ) <> R28);
assume L494: (not R26 , ( R31 . R26 ) '||' R27 , ( R31 . R27 ));
consider R28 being (Element of R18) such that L495:  LIN R26 , ( R31 . R26 ) , R28 and L496:  LIN R27 , ( R31 . R27 ) , R28 by L494 , L491 , L421;
set D15 = ( R31 . R28 );
L497:  LIN R26 , ( R31 . R26 ) , D15 by L459 , L495 , L410;
L498: R26 , ( R31 . R26 ) '||' R28 , D15 by L497 , L495 , DIRAF:34;
L499:  LIN R27 , ( R31 . R27 ) , D15 by L459 , L496 , L410;
L500: R27 , ( R31 . R27 ) '||' R28 , D15 by L499 , L496 , DIRAF:34;
L501: R28 <> D15 by L493;
thus L502: contradiction by L501 , L494 , L498 , L500 , DIRAF:23;
end;
L503:
now
assume L504: R31 = ( id (the carrier of R18) );
L505: ( R31 . R27 ) = R27 by L504 , FUNCT_1:18;
thus L506: R26 , ( R31 . R26 ) '||' R27 , ( R31 . R27 ) by L505 , DIRAF:20;
end;
thus L507: R26 , ( R31 . R26 ) '||' R27 , ( R31 . R27 ) by L503 , L490 , L492;
end;
thus L508: thesis by L489 , L460;
end;
theorem
L509: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R26 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R19 ) = R19 & ( R31 . R20 ) = R20 & (not  LIN R19 , R20 , R26)) implies ( R31 . R26 ) = R26))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R26 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L510: R31 is  dilatation
and
L511: ( R31 . R19 ) = R19
and
L512: ( R31 . R20 ) = R20
and
L513: (not  LIN R19 , R20 , R26);
L514: R19 , R26 '||' R19 , ( R31 . R26 ) by L510 , L511 , L326;
L515:  LIN R19 , R26 , ( R31 . R26 ) by L514 , DIRAF:def 5;
L516:  LIN R26 , ( R31 . R26 ) , R19 by L515 , DIRAF:30;
L517: R20 , R26 '||' R20 , ( R31 . R26 ) by L510 , L512 , L326;
L518:  LIN R20 , R26 , ( R31 . R26 ) by L517 , DIRAF:def 5;
L519: ( LIN R26 , ( R31 . R26 ) , R26 &  LIN R26 , ( R31 . R26 ) , R20) by L518 , DIRAF:30 , DIRAF:31;
assume L520: ( R31 . R26 ) <> R26;
thus L521: contradiction by L520 , L513 , L516 , L519 , DIRAF:32;
end;
theorem
L522: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R19 ) = R19 & ( R31 . R20 ) = R20 & R19 <> R20) implies R31 = ( id (the carrier of R18) ))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L523: R31 is  dilatation
and
L524: ( R31 . R19 ) = R19
and
L525: ( R31 . R20 ) = R20
and
L526: R19 <> R20;
L527:
now
let R26 being (Element of R18);
L528:
now
assume L529:  LIN R19 , R20 , R26;
L530:
now
consider R28 being (Element of R18) such that L531: (not  LIN R19 , R20 , R28) by L526 , DIRAF:37;
assume L532: R26 <> R19;
L533: (not  LIN R19 , R28 , R26)
proof
assume L534:  LIN R19 , R28 , R26;
L535:  LIN R19 , R26 , R28 by L534 , DIRAF:30;
L536: ( LIN R19 , R26 , R19 &  LIN R19 , R26 , R20) by L529 , DIRAF:30 , DIRAF:31;
thus L537: contradiction by L536 , L532 , L531 , L535 , DIRAF:32;
end;
L538: ( R31 . R28 ) = R28 by L523 , L524 , L525 , L531 , L509;
thus L539: ( R31 . R26 ) = R26 by L538 , L523 , L524 , L533 , L509;
end;
thus L540: ( R31 . R26 ) = R26 by L530 , L524;
end;
L541: ((not  LIN R19 , R20 , R26) implies ( R31 . R26 ) = R26) by L523 , L524 , L525 , L509;
thus L542: ( R31 . R26 ) = ( ( id (the carrier of R18) ) . R26 ) by L541 , L528 , FUNCT_1:18;
end;
thus L543: thesis by L527 , FUNCT_2:63;
end;
theorem
L544: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds (for R32 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & R32 is  dilatation & ( R31 . R19 ) = ( R32 . R19 ) & ( R31 . R20 ) = ( R32 . R20 )) implies (R19 = R20 or R31 = R32)))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
let R32 being (Permutation of (the carrier of R18));
assume that
L545: R31 is  dilatation
and
L546: R32 is  dilatation
and
L547: ( R31 . R19 ) = ( R32 . R19 )
and
L548: ( R31 . R20 ) = ( R32 . R20 );
L549: ( ( ( R32 " ) * R31 ) . R20 ) = ( ( R32 " ) . ( R32 . R20 ) ) by L548 , FUNCT_2:15
.= R20 by L7;
L550: ( R32 " ) is  dilatation by L546 , L361;
assume L551: R19 <> R20;
L552: ( ( ( R32 " ) * R31 ) . R19 ) = ( ( R32 " ) . ( R32 . R19 ) ) by L547 , FUNCT_2:15
.= R19 by L7;
L553: ( ( R32 " ) * R31 ) = ( id (the carrier of R18) ) by L552 , L545 , L551 , L549 , L550 , L368 , L522;
L554:
now
let R26 being (Element of R18);
L555: ( ( R32 " ) . ( R31 . R26 ) ) = ( ( ( R32 " ) * R31 ) . R26 ) by FUNCT_2:15;
L556: ( ( R32 " ) . ( R31 . R26 ) ) = R26 by L555 , L553 , FUNCT_1:18;
thus L557: ( R32 . R26 ) = ( R31 . R26 ) by L556 , L7;
end;
thus L558: thesis by L554 , FUNCT_2:63;
end;
definition
let R18 being OAffinSpace;
let C45 being (Permutation of (the carrier of R18));
attr C45 is  translation
means
:L559: (C45 is  dilatation & (C45 = ( id (the carrier of R18) ) or (for R19 being (Element of R18) holds R19 <> ( C45 . R19 ))));
end;
theorem
L561: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  dilatation implies (R31 is  translation iff (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , ( R31 . R26 ) '||' R27 , ( R31 . R27 )))))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L562: R31 is  dilatation;
L563: ((R31 = ( id (the carrier of R18) ) or (for R26 being (Element of R18) holds ( R31 . R26 ) <> R26)) iff (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , ( R31 . R26 ) '||' R27 , ( R31 . R27 )))) by L562 , L458;
thus L564: thesis by L563 , L562 , L559;
end;
theorem
L565: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R26 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds (for R32 being (Permutation of (the carrier of R18)) holds ((R31 is  translation & R32 is  translation & ( R31 . R19 ) = ( R32 . R19 ) & (not  LIN R19 , ( R31 . R19 ) , R26)) implies ( R31 . R26 ) = ( R32 . R26 )))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R26 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
let R32 being (Permutation of (the carrier of R18));
assume that
L566: R31 is  translation
and
L567: R32 is  translation
and
L568: ( R31 . R19 ) = ( R32 . R19 )
and
L569: (not  LIN R19 , ( R31 . R19 ) , R26);
set D16 = ( R31 . R19 );
set D17 = ( R31 . R26 );
set D18 = ( R32 . R26 );
L570: R32 is  dilatation by L567 , L559;
L571: (R19 , R26 '||' D16 , D18 & R19 , D16 '||' R26 , D18) by L570 , L567 , L568 , L326 , L561;
L572: R31 is  dilatation by L566 , L559;
L573: R19 , R26 '||' D16 , D17 by L572 , L326;
L574: R19 , D16 '||' R26 , D17 by L566 , L572 , L561;
thus L575: thesis by L574 , L569 , L573 , L571 , PASCH:5;
end;
theorem
L576: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds (for R32 being (Permutation of (the carrier of R18)) holds ((R31 is  translation & R32 is  translation & ( R31 . R19 ) = ( R32 . R19 )) implies R31 = R32)))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
let R32 being (Permutation of (the carrier of R18));
assume that
L577: R31 is  translation
and
L578: R32 is  translation
and
L579: ( R31 . R19 ) = ( R32 . R19 );
set D19 = ( R31 . R19 );
L580: R31 is  dilatation by L577 , L559;
L581:
now
assume L582: R19 <> D19;
L583: (for R26 being (Element of R18) holds ( R31 . R26 ) = ( R32 . R26 ))
proof
let R26 being (Element of R18);
L584:
now
assume L585:  LIN R19 , D19 , R26;
L586:
now
L587: R31 <> ( id (the carrier of R18) ) by L582 , FUNCT_1:18;
L588: ( R31 . R26 ) <> R26 by L587 , L577 , L559;
assume L589: R26 <> R19;
consider R23 being (Element of R18) such that L590: (not  LIN R19 , D19 , R23) by L582 , DIRAF:37;
L591: ( R31 . R23 ) <> R23 by L577 , L587 , L559;
L592: (not  LIN R23 , ( R31 . R23 ) , R26)
proof
L593:  LIN R19 , D19 , ( R31 . R26 ) by L580 , L585 , L410;
L594:  LIN R19 , D19 , R19 by DIRAF:31;
L595:  LIN R26 , ( R31 . R26 ) , R19 by L594 , L582 , L585 , L593 , DIRAF:32;
L596:  LIN R23 , ( R31 . R23 ) , R23 by DIRAF:31;
L597:  LIN R19 , D19 , D19 by DIRAF:31;
L598:  LIN R26 , ( R31 . R26 ) , D19 by L597 , L582 , L585 , L593 , DIRAF:32;
assume L599:  LIN R23 , ( R31 . R23 ) , R26;
L600:  LIN R23 , ( R31 . R23 ) , ( R31 . R26 ) by L599 , L580 , L410;
L601:  LIN R26 , ( R31 . R26 ) , R23 by L600 , L591 , L599 , L596 , DIRAF:32;
thus L602: contradiction by L601 , L590 , L588 , L595 , L598 , DIRAF:32;
end;
L603: ( R31 . R23 ) = ( R32 . R23 ) by L577 , L578 , L579 , L590 , L565;
thus L604: thesis by L603 , L577 , L578 , L592 , L565;
end;
thus L605: thesis by L586 , L579;
end;
thus L606: thesis by L584 , L577 , L578 , L579 , L565;
end;
thus L607: thesis by L583 , FUNCT_2:63;
end;
L608:
now
assume L609: D19 = R19;
L610: R31 = ( id (the carrier of R18) ) by L609 , L577 , L559;
thus L611: thesis by L610 , L578 , L579 , L609 , L559;
end;
thus L612: thesis by L608 , L581;
end;
theorem
L613: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  translation implies ( R31 " ) is  translation)))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
L614:
now
assume L615: (for R26 being (Element of R18) holds ( R31 . R26 ) <> R26);
given R27 being (Element of R18) such that
L616: ( ( R31 " ) . R27 ) = R27;

L617: ( R31 . R27 ) = R27 by L616 , L7;
thus L618: contradiction by L617 , L615;
end;
assume L619: R31 is  translation;
L620: R31 is  dilatation by L619 , L559;
L621: ( R31 " ) is  dilatation by L620 , L361;
L622: (R31 = ( id (the carrier of R18) ) implies ( R31 " ) = ( id (the carrier of R18) )) by FUNCT_1:45;
thus L623: thesis by L622 , L619 , L621 , L614 , L559;
end;
theorem
L624: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (for R32 being (Permutation of (the carrier of R18)) holds ((R31 is  translation & R32 is  translation) implies ( R31 * R32 ) is  translation))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
let R32 being (Permutation of (the carrier of R18));
assume that
L625: R31 is  translation
and
L626: R32 is  translation;
L627: (R31 is  dilatation & R32 is  dilatation) by L625 , L626 , L559;
L628: ( R31 * R32 ) is  dilatation by L627 , L368;
L629:
now
assume L630: ( R31 * R32 ) <> ( id (the carrier of R18) );
L631: (for R26 being (Element of R18) holds ( ( R31 * R32 ) . R26 ) <> R26)
proof
given R26 being (Element of R18) such that
L632: ( ( R31 * R32 ) . R26 ) = R26;

L633: ( R31 . ( R32 . R26 ) ) = R26 by L632 , FUNCT_2:15;
L634: ( R32 . R26 ) = ( ( R31 " ) . R26 ) by L633 , L7;
L635: ( R31 " ) is  translation by L625 , L613;
L636: ( R31 * R32 ) = ( R31 * ( R31 " ) ) by L635 , L626 , L634 , L576;
thus L637: contradiction by L636 , L630 , FUNCT_2:61;
end;
thus L638: thesis by L631 , L628 , L559;
end;
thus L639: thesis by L629 , L628 , L559;
end;
L640: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  translation & (not  LIN R19 , ( R31 . R19 ) , R20)) implies (R19 , R20 // ( R31 . R19 ) , ( R31 . R20 ) & R19 , ( R31 . R19 ) // R20 , ( R31 . R20 )))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L641: R31 is  translation
and
L642: (not  LIN R19 , ( R31 . R19 ) , R20);
L643: R31 is  dilatation by L641 , L559;
L644: R19 , R20 '||' ( R31 . R19 ) , ( R31 . R20 ) by L643 , L326;
L645: R19 , ( R31 . R19 ) '||' R20 , ( R31 . R20 ) by L641 , L643 , L561;
thus L646: thesis by L645 , L642 , L644 , PASCH:14;
end;
L647: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  translation & R19 <> ( R31 . R19 ) &  LIN R19 , ( R31 . R19 ) , R20) implies R19 , ( R31 . R19 ) // R20 , ( R31 . R20 ))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L648: R31 is  translation
and
L649: R19 <> ( R31 . R19 )
and
L650:  LIN R19 , ( R31 . R19 ) , R20;
consider R23 being (Element of R18) such that L651: (not  LIN R19 , ( R31 . R19 ) , R23) by L649 , DIRAF:37;
L652: R31 is  dilatation by L648 , L559;
L653: R31 <> ( id (the carrier of R18) ) by L649 , FUNCT_1:18;
L654: R23 <> ( R31 . R23 ) by L653 , L648 , L559;
L655: R20 <> ( R31 . R20 ) by L648 , L653 , L559;
L656: (not  LIN R23 , ( R31 . R23 ) , R20)
proof
L657:  LIN R23 , ( R31 . R23 ) , R23 by DIRAF:31;
assume L658:  LIN R23 , ( R31 . R23 ) , R20;
L659:  LIN R23 , ( R31 . R23 ) , ( R31 . R20 ) by L658 , L652 , L410;
L660:  LIN R20 , ( R31 . R20 ) , R23 by L659 , L654 , L658 , L657 , DIRAF:32;
L661: ( LIN R19 , ( R31 . R19 ) , ( R31 . R20 ) &  LIN R19 , ( R31 . R19 ) , R19) by L650 , L652 , L410 , DIRAF:31;
L662:  LIN R20 , ( R31 . R20 ) , R19 by L661 , L649 , L650 , DIRAF:32;
L663:  LIN R20 , ( R31 . R20 ) , ( R31 . R19 ) by L662 , L652 , L410;
thus L664: contradiction by L663 , L651 , L655 , L662 , L660 , DIRAF:32;
end;
L665: R23 , ( R31 . R23 ) // R20 , ( R31 . R20 ) by L656 , L648 , L640;
L666: (not  LIN R23 , ( R31 . R23 ) , R19)
proof
assume L667:  LIN R23 , ( R31 . R23 ) , R19;
L668: ( LIN R23 , ( R31 . R23 ) , R23 &  LIN R23 , ( R31 . R23 ) , ( R31 . R19 )) by L667 , L652 , L410 , DIRAF:31;
thus L669: contradiction by L668 , L651 , L654 , L667 , DIRAF:32;
end;
L670: R23 , ( R31 . R23 ) // R19 , ( R31 . R19 ) by L666 , L648 , L640;
thus L671: thesis by L670 , L654 , L665 , ANALOAF:def 5;
end;
L672: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  translation &  Mid R19 , ( R31 . R19 ) , R20 & R19 <> ( R31 . R19 )) implies R19 , R20 // ( R31 . R19 ) , ( R31 . R20 ))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L673: R31 is  translation
and
L674:  Mid R19 , ( R31 . R19 ) , R20
and
L675: R19 <> ( R31 . R19 );
L676: R19 , ( R31 . R19 ) // R20 , ( R31 . R20 ) by L673 , L674 , L675 , L647 , DIRAF:28;
L677:
now
L678:  Mid R20 , ( R31 . R19 ) , R19 by L674 , DIRAF:9;
L679: R20 , ( R31 . R19 ) // ( R31 . R19 ) , R19 by L678 , DIRAF:def 3;
L680: R20 , ( R31 . R19 ) // R20 , R19 by L679 , ANALOAF:def 5;
L681: R19 , R20 // ( R31 . R19 ) , R20 by L680 , DIRAF:2;
L682: R19 , ( R31 . R19 ) // ( R31 . R19 ) , R20 by L674 , DIRAF:def 3;
L683: ( R31 . R19 ) , R20 // R20 , ( R31 . R20 ) by L682 , L675 , L676 , ANALOAF:def 5;
L684: ( R31 . R19 ) , R20 // ( R31 . R19 ) , ( R31 . R20 ) by L683 , ANALOAF:def 5;
assume L685: R20 <> ( R31 . R19 );
thus L686: thesis by L685 , L681 , L684 , DIRAF:3;
end;
thus L687: thesis by L677 , L673 , L674 , L675 , L647 , DIRAF:28;
end;
L688: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  translation & R19 <> ( R31 . R19 ) & R20 <> ( R31 . R19 ) &  Mid R19 , R20 , ( R31 . R19 )) implies R19 , R20 // ( R31 . R19 ) , ( R31 . R20 ))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L689: R31 is  translation
and
L690: R19 <> ( R31 . R19 )
and
L691: R20 <> ( R31 . R19 )
and
L692:  Mid R19 , R20 , ( R31 . R19 );
L693: R19 , R20 // R20 , ( R31 . R19 ) by L692 , DIRAF:def 3;
L694: R31 is  dilatation by L689 , L559;
L695:  LIN R19 , R20 , ( R31 . R19 ) by L692 , DIRAF:28;
L696:  LIN R19 , ( R31 . R19 ) , R20 by L695 , DIRAF:30;
L697: R31 <> ( id (the carrier of R18) ) by L690 , FUNCT_1:18;
L698:
now
assume L699: R19 <> R20;
L700:
now
L701:  LIN ( R31 . R19 ) , R19 , R20 by L695 , DIRAF:30;
L702: ( R31 . R19 ) , R19 '||' ( R31 . R19 ) , R20 by L701 , DIRAF:def 5;
L703: R19 , ( R31 . R19 ) '||' R20 , ( R31 . R19 ) by L702 , DIRAF:22;
consider R24 being (Element of R18) such that L704: (not  LIN R19 , ( R31 . R19 ) , R24) by L690 , DIRAF:37;
consider R26 being (Element of R18) such that L705: R24 , R20 // R20 , R26 and L706: R24 , R19 // ( R31 . R19 ) , R26 by L693 , L699 , ANALOAF:def 5;
L707: R19 , R24 // R26 , ( R31 . R19 ) by L706 , DIRAF:2;
L708:  Mid R24 , R20 , R26 by L705 , DIRAF:def 3;
L709:  LIN R26 , R20 , R24 by L708 , DIRAF:9 , DIRAF:28;
L710: R26 <> ( R31 . R19 )
proof
assume L711: R26 = ( R31 . R19 );
L712:  Mid R24 , R20 , ( R31 . R19 ) by L711 , L705 , DIRAF:def 3;
L713:  LIN R24 , R20 , ( R31 . R19 ) by L712 , DIRAF:28;
L714:  LIN ( R31 . R19 ) , R20 , R24 by L713 , DIRAF:30;
L715:  LIN R19 , R20 , R19 by DIRAF:31;
L716: ( LIN ( R31 . R19 ) , R20 , R19 &  LIN ( R31 . R19 ) , R20 , R20) by L695 , DIRAF:30 , DIRAF:31;
L717:  LIN R19 , R20 , R24 by L716 , L691 , L714 , DIRAF:32;
thus L718: contradiction by L717 , L695 , L699 , L704 , L715 , DIRAF:32;
end;
L719: (not  LIN R26 , ( R31 . R19 ) , R20)
proof
assume L720:  LIN R26 , ( R31 . R19 ) , R20;
L721:  LIN ( R31 . R19 ) , R26 , R20 by L720 , DIRAF:30;
L722: ( R31 . R19 ) , R26 '||' ( R31 . R19 ) , R20 by L721 , DIRAF:def 5;
L723:  LIN ( R31 . R19 ) , R20 , R19 by L695 , DIRAF:30;
L724: ( R31 . R19 ) , R20 '||' ( R31 . R19 ) , R19 by L723 , DIRAF:def 5;
L725: R24 , R19 '||' ( R31 . R19 ) , R26 by L706 , DIRAF:def 4;
L726: ( R31 . R19 ) , R20 '||' R24 , R19 by L725 , L710 , L722 , DIRAF:23;
L727: ( R31 . R19 ) , R19 '||' R24 , R19 by L726 , L691 , L724 , DIRAF:23;
L728: R19 , ( R31 . R19 ) '||' R19 , R24 by L727 , DIRAF:22;
thus L729: contradiction by L728 , L704 , DIRAF:def 5;
end;
L730: R19 , ( R31 . R19 ) // R24 , ( R31 . R24 ) by L689 , L704 , L640;
L731: R19 , ( R31 . R19 ) '||' R24 , ( R31 . R24 ) by L730 , DIRAF:def 4;
L732: R20 , ( R31 . R19 ) '||' R24 , ( R31 . R24 ) by L731 , L690 , L703 , DIRAF:23;
L733: ( R31 . R19 ) , R20 '||' R24 , ( R31 . R24 ) by L732 , DIRAF:22;
L734:  LIN R19 , ( R31 . R19 ) , ( R31 . R20 ) by L694 , L696 , L410;
L735: (R19 , R24 // ( R31 . R19 ) , ( R31 . R24 ) & R19 <> R24) by L689 , L704 , L640 , DIRAF:31;
L736: ( R31 . R19 ) , ( R31 . R24 ) // R26 , ( R31 . R19 ) by L735 , L707 , ANALOAF:def 5;
L737: ( R31 . R19 ) , ( R31 . R24 ) '||' ( R31 . R19 ) , R26 by L736 , DIRAF:def 4;
L738:  LIN ( R31 . R19 ) , ( R31 . R24 ) , R26 by L737 , DIRAF:def 5;
L739:  LIN R26 , ( R31 . R19 ) , ( R31 . R24 ) by L738 , DIRAF:30;
L740: R20 <> ( R31 . R20 ) by L689 , L697 , L559;
L741:  LIN R19 , ( R31 . R19 ) , ( R31 . R19 ) by DIRAF:31;
L742:  LIN R20 , ( R31 . R20 ) , ( R31 . R19 ) by L741 , L690 , L696 , L734 , DIRAF:32;
L743:  LIN R19 , ( R31 . R19 ) , R19 by DIRAF:31;
L744:  LIN R20 , ( R31 . R20 ) , R19 by L743 , L690 , L696 , L734 , DIRAF:32;
L745: (not  LIN R20 , ( R31 . R20 ) , R24) by L744 , L704 , L742 , L740 , DIRAF:32;
L746: (not  LIN R20 , ( R31 . R20 ) , ( R31 . R24 ))
proof
L747: R20 , ( R31 . R20 ) '||' R24 , ( R31 . R24 ) by L689 , L694 , L561;
L748: R20 , ( R31 . R20 ) '||' ( R31 . R24 ) , R24 by L747 , DIRAF:22;
assume L749:  LIN R20 , ( R31 . R20 ) , ( R31 . R24 );
thus L750: contradiction by L749 , L740 , L745 , L748 , DIRAF:33;
end;
L751: ( R31 . R20 ) <> ( R31 . R24 ) by L746 , DIRAF:31;
L752: (R19 , R20 // R19 , ( R31 . R19 ) & R19 , ( R31 . R19 ) // R20 , ( R31 . R20 )) by L689 , L690 , L696 , L693 , L647 , ANALOAF:def 5;
L753: R19 , R20 // R20 , ( R31 . R20 ) by L752 , L690 , DIRAF:3;
assume L754: R19 , R20 // ( R31 . R20 ) , ( R31 . R19 );
L755: R20 , ( R31 . R20 ) // ( R31 . R20 ) , ( R31 . R19 ) by L754 , L699 , L753 , ANALOAF:def 5;
L756:  Mid R20 , ( R31 . R20 ) , ( R31 . R19 ) by L755 , DIRAF:def 3;
L757:  Mid ( R31 . R19 ) , ( R31 . R20 ) , R20 by L756 , DIRAF:9;
L758:  LIN R26 , R20 , R20 by DIRAF:31;
L759:  Mid R26 , R20 , R24 by L708 , DIRAF:9;
L760:  Mid R26 , ( R31 . R19 ) , ( R31 . R24 ) by L759 , L719 , L739 , L733 , PASCH:8;
consider R27 being (Element of R18) such that L761:  Mid R26 , R27 , R20 and L762:  Mid R27 , ( R31 . R20 ) , ( R31 . R24 ) by L760 , L757 , L719 , PASCH:27;
L763:  LIN R26 , R27 , R20 by L761 , DIRAF:28;
L764:  LIN R26 , R20 , R27 by L763 , DIRAF:30;
L765: R26 <> R20 by L719 , DIRAF:31;
L766:  LIN R20 , R24 , R27 by L765 , L709 , L764 , L758 , DIRAF:32;
L767: R20 , R24 '||' R20 , R27 by L766 , DIRAF:def 5;
L768:  LIN R27 , ( R31 . R20 ) , ( R31 . R24 ) by L762 , DIRAF:28;
L769:  LIN ( R31 . R20 ) , ( R31 . R24 ) , R27 by L768 , DIRAF:30;
L770: ( R31 . R20 ) , ( R31 . R24 ) '||' ( R31 . R20 ) , R27 by L769 , DIRAF:def 5;
L771: R20 , R24 '||' ( R31 . R20 ) , ( R31 . R24 ) by L694 , L326;
L772: R20 , R24 '||' ( R31 . R20 ) , R27 by L771 , L751 , L770 , DIRAF:23;
L773: ( R31 . R20 ) , R27 '||' R20 , R27 by L772 , L751 , L767 , DIRAF:23;
L774: R27 , R20 '||' R27 , ( R31 . R20 ) by L773 , DIRAF:22;
L775:  LIN R27 , R20 , ( R31 . R20 ) by L774 , DIRAF:def 5;
L776:  LIN R27 , R20 , R20 by DIRAF:31;
L777:  LIN R27 , R20 , R24 by L765 , L709 , L764 , L758 , DIRAF:32;
thus L778: contradiction by L777 , L768 , L745 , L746 , L775 , L776 , DIRAF:32;
end;
L779: R19 , R20 '||' ( R31 . R19 ) , ( R31 . R20 ) by L694 , L326;
thus L780: thesis by L779 , L700 , DIRAF:def 4;
end;
thus L781: thesis by L698 , DIRAF:4;
end;
L782: (for R18 being OAffinSpace holds (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  translation & R19 <> ( R31 . R19 ) &  LIN R19 , ( R31 . R19 ) , R20) implies R19 , R20 // ( R31 . R19 ) , ( R31 . R20 ))))))
proof
let R18 being OAffinSpace;
let R19 being (Element of R18);
let R20 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L783: R31 is  translation
and
L784: R19 <> ( R31 . R19 )
and
L785:  LIN R19 , ( R31 . R19 ) , R20;
L786: R31 <> ( id (the carrier of R18) ) by L784 , FUNCT_1:18;
L787: R20 <> ( R31 . R20 ) by L786 , L783 , L559;
L788: R31 is  dilatation by L783 , L559;
L789:
now
assume L790: R19 <> R20;
L791:
now
assume L792:  Mid ( R31 . R19 ) , R19 , R20;
L793:
now
assume L794:  Mid ( R31 . R20 ) , R20 , R19;
L795:  Mid R19 , R20 , ( R31 . R20 ) by L794 , DIRAF:9;
L796: R19 , R20 // R20 , ( R31 . R20 ) by L795 , DIRAF:def 3;
L797: R19 , R20 // R19 , ( R31 . R20 ) by L796 , ANALOAF:def 5;
L798:  Mid R20 , R19 , ( R31 . R19 ) by L792 , DIRAF:9;
L799: R20 , R19 // R19 , ( R31 . R19 ) by L798 , DIRAF:def 3;
L800: R19 , R20 // ( R31 . R19 ) , R19 by L799 , ANALOAF:def 5;
L801: ( R31 . R19 ) , R19 // R19 , ( R31 . R20 ) by L800 , L790 , L797 , ANALOAF:def 5;
L802: ( R31 . R19 ) , R19 // ( R31 . R19 ) , ( R31 . R20 ) by L801 , ANALOAF:def 5;
thus L803: thesis by L802 , L797 , L800 , DIRAF:3;
end;
L804:
now
L805:
now
assume L806: R19 = ( R31 . R20 );
L807: R19 , ( R31 . R19 ) // R20 , ( R31 . R20 ) by L783 , L784 , L785 , L647;
thus L808: thesis by L807 , L806 , DIRAF:2;
end;
assume L809:  Mid R20 , R19 , ( R31 . R20 );
L810: (R20 , R19 // ( R31 . R20 ) , ( R31 . R19 ) or R19 = ( R31 . R20 )) by L809 , L783 , L787 , L688;
thus L811: thesis by L810 , L805 , DIRAF:2;
end;
L812:
now
assume L813:  Mid R20 , ( R31 . R20 ) , R19;
L814: R20 , R19 // ( R31 . R20 ) , ( R31 . R19 ) by L813 , L783 , L787 , L672;
thus L815: thesis by L814 , DIRAF:2;
end;
L816: ( LIN R19 , ( R31 . R19 ) , ( R31 . R20 ) &  LIN R19 , ( R31 . R19 ) , R19) by L785 , L788 , L410 , DIRAF:31;
thus L817: thesis by L816 , L784 , L785 , L812 , L804 , L793 , DIRAF:29 , DIRAF:32;
end;
L818:
now
assume L819:  Mid R19 , R20 , ( R31 . R19 );
L820: (R20 = ( R31 . R19 ) implies thesis) by L783 , L784 , L785 , L647;
thus L821: thesis by L820 , L783 , L784 , L819 , L688;
end;
L822: ( Mid R19 , ( R31 . R19 ) , R20 implies thesis) by L783 , L784 , L672;
thus L823: thesis by L822 , L785 , L791 , L818 , DIRAF:29;
end;
thus L824: thesis by L789 , DIRAF:4;
end;
theorem
L825: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  translation implies R31 is  positive_dilatation)))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L826: R31 is  translation;
L827:
now
assume L828: (for R26 being (Element of R18) holds ( R31 . R26 ) <> R26);
L829: (for R19 being (Element of R18) holds (for R20 being (Element of R18) holds R19 , R20 // ( R31 . R19 ) , ( R31 . R20 )))
proof
let R19 being (Element of R18);
let R20 being (Element of R18);
L830: R19 <> ( R31 . R19 ) by L828;
L831: ((not  LIN R19 , ( R31 . R19 ) , R20) implies R19 , R20 // ( R31 . R19 ) , ( R31 . R20 )) by L826 , L640;
thus L832: thesis by L831 , L826 , L830 , L782;
end;
thus L833: thesis by L829 , L273;
end;
L834: (R31 = ( id (the carrier of R18) ) implies thesis) by L285;
thus L835: thesis by L834 , L826 , L827 , L559;
end;
theorem
L836: (for R18 being OAffinSpace holds (for R23 being (Element of R18) holds (for R24 being (Element of R18) holds (for R26 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R23 ) = R23 &  Mid R24 , R23 , ( R31 . R24 ) & (not  LIN R23 , R24 , R26)) implies  Mid R26 , R23 , ( R31 . R26 )))))))
proof
let R18 being OAffinSpace;
let R23 being (Element of R18);
let R24 being (Element of R18);
let R26 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L837: R31 is  dilatation
and
L838: ( R31 . R23 ) = R23
and
L839: ( Mid R24 , R23 , ( R31 . R24 ) & (not  LIN R23 , R24 , R26));
L840: R24 , R26 '||' ( R31 . R24 ) , ( R31 . R26 ) by L837 , L326;
L841: R24 , R26 '||' ( R31 . R26 ) , ( R31 . R24 ) by L840 , DIRAF:22;
L842: R23 , R26 '||' R23 , ( R31 . R26 ) by L837 , L838 , L326;
L843:  LIN R23 , R26 , ( R31 . R26 ) by L842 , DIRAF:def 5;
thus L844: thesis by L843 , L839 , L841 , PASCH:6;
end;
theorem
L845: (for R18 being OAffinSpace holds (for R23 being (Element of R18) holds (for R24 being (Element of R18) holds (for R26 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R23 ) = R23 &  Mid R24 , R23 , ( R31 . R24 ) & R24 <> R23) implies  Mid R26 , R23 , ( R31 . R26 )))))))
proof
let R18 being OAffinSpace;
let R23 being (Element of R18);
let R24 being (Element of R18);
let R26 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L846: (R31 is  dilatation & ( R31 . R23 ) = R23)
and
L847:  Mid R24 , R23 , ( R31 . R24 )
and
L848: R24 <> R23;
L849:
now
consider R25 being (Element of R18) such that L850: (not  LIN R23 , R24 , R25) by L848 , DIRAF:37;
assume L851:  LIN R23 , R24 , R26;
L852: (R26 = R23 or (not  LIN R23 , R25 , R26))
proof
L853: ( LIN R23 , R26 , R24 &  LIN R23 , R26 , R23) by L851 , DIRAF:30 , DIRAF:31;
assume that
L854: R26 <> R23
and
L855:  LIN R23 , R25 , R26;
L856:  LIN R23 , R26 , R25 by L855 , DIRAF:30;
thus L857: contradiction by L856 , L850 , L854 , L853 , DIRAF:32;
end;
L858:  Mid R25 , R23 , ( R31 . R25 ) by L846 , L847 , L850 , L836;
thus L859: thesis by L858 , L846 , L852 , L836 , DIRAF:10;
end;
thus L860: thesis by L849 , L846 , L847 , L836;
end;
theorem
L861: (for R18 being OAffinSpace holds (for R23 being (Element of R18) holds (for R24 being (Element of R18) holds (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R23 ) = R23 & R24 <> R23 &  Mid R24 , R23 , ( R31 . R24 ) & (not  LIN R23 , R26 , R27)) implies R26 , R27 // ( R31 . R27 ) , ( R31 . R26 ))))))))
proof
let R18 being OAffinSpace;
let R23 being (Element of R18);
let R24 being (Element of R18);
let R26 being (Element of R18);
let R27 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume L862: R31 is  dilatation;
assume L863: (( R31 . R23 ) = R23 & R24 <> R23 &  Mid R24 , R23 , ( R31 . R24 ));
L864:  Mid R26 , R23 , ( R31 . R26 ) by L863 , L862 , L845;
L865: R26 , R23 // R23 , ( R31 . R26 ) by L864 , DIRAF:def 3;
L866:  Mid R27 , R23 , ( R31 . R27 ) by L862 , L863 , L845;
L867: R27 , R23 // R23 , ( R31 . R27 ) by L866 , DIRAF:def 3;
L868: R26 , R27 '||' ( R31 . R26 ) , ( R31 . R27 ) by L862 , L326;
thus L869: thesis by L868 , L865 , L867 , PASCH:12;
end;
theorem
L870: (for R18 being OAffinSpace holds (for R23 being (Element of R18) holds (for R24 being (Element of R18) holds (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R23 ) = R23 & R24 <> R23 &  Mid R24 , R23 , ( R31 . R24 ) &  LIN R23 , R26 , R27) implies R26 , R27 // ( R31 . R27 ) , ( R31 . R26 ))))))))
proof
let R18 being OAffinSpace;
let R23 being (Element of R18);
let R24 being (Element of R18);
let R26 being (Element of R18);
let R27 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L871: R31 is  dilatation
and
L872: ( R31 . R23 ) = R23
and
L873: (R24 <> R23 &  Mid R24 , R23 , ( R31 . R24 ))
and
L874:  LIN R23 , R26 , R27;
L875:  Mid R27 , R23 , ( R31 . R27 ) by L871 , L872 , L873 , L845;
L876:
now
assume L877: R26 = R23;
L878: R27 , R26 // R26 , ( R31 . R27 ) by L877 , L875 , DIRAF:def 3;
thus L879: thesis by L878 , L872 , L877 , DIRAF:2;
end;
L880:
now
assume that
L881: R26 <> R23
and
L882: R27 <> R23
and
L883: R26 <> R27;
consider R30 being (Element of R18) such that L884: (not  LIN R23 , R26 , R30) by L881 , DIRAF:37;
consider R25 being (Element of R18) such that L885: R26 , R27 '||' R30 , R25 and L886: R26 , R30 '||' R27 , R25 by DIRAF:26;
L887: (not  LIN R26 , R27 , R30)
proof
assume L888:  LIN R26 , R27 , R30;
L889: ( LIN R26 , R27 , R23 &  LIN R26 , R27 , R26) by L874 , DIRAF:30 , DIRAF:31;
thus L890: contradiction by L889 , L883 , L884 , L888 , DIRAF:32;
end;
L891: R26 , R27 // R30 , R25 by L887 , L885 , L886 , PASCH:14;
L892: (not  LIN R23 , R30 , R25)
proof
L893:
now
assume L894: R30 = R25;
L895: R30 , R26 '||' R30 , R27 by L894 , L886 , DIRAF:22;
L896:  LIN R30 , R26 , R27 by L895 , DIRAF:def 5;
thus L897: contradiction by L896 , L887 , DIRAF:30;
end;
L898:  LIN R26 , R27 , R23 by L874 , DIRAF:30;
L899: R26 , R27 '||' R26 , R23 by L898 , DIRAF:def 5;
L900: R26 , R27 '||' R23 , R26 by L899 , DIRAF:22;
L901: R30 , R25 '||' R23 , R26 by L900 , L883 , L885 , DIRAF:23;
L902:  LIN R30 , R25 , R30 by DIRAF:31;
assume L903:  LIN R23 , R30 , R25;
L904:  LIN R30 , R25 , R23 by L903 , DIRAF:30;
L905: R23 , R26 '||' R23 , R27 by L874 , DIRAF:def 5;
L906: R30 , R25 '||' R23 , R27 by L905 , L881 , L901 , DIRAF:23;
L907:  LIN R30 , R25 , R27 by L906 , L893 , L904 , DIRAF:33;
L908:  LIN R30 , R25 , R26 by L893 , L904 , L901 , DIRAF:33;
thus L909: contradiction by L908 , L887 , L893 , L907 , L902 , DIRAF:32;
end;
L910: R30 <> R25 by L892 , DIRAF:31;
set D20 = ( R31 . R30 );
set D21 = ( R31 . R25 );
set D22 = ( R31 . R26 );
set D23 = ( R31 . R27 );
L911: (not  LIN D22 , D23 , D20) by L871 , L887 , L406;
L912: (D22 , D23 '||' D20 , D21 & D22 , D20 '||' D23 , D21) by L871 , L885 , L886 , L379;
L913: D22 , D23 // D20 , D21 by L912 , L911 , PASCH:14;
L914: D21 , D20 // D23 , D22 by L913 , DIRAF:2;
L915: R30 , R25 // ( R31 . R25 ) , ( R31 . R30 ) by L871 , L872 , L873 , L892 , L861;
L916: R26 , R27 // D21 , D20 by L915 , L891 , L910 , DIRAF:3;
thus L917: thesis by L916 , L914 , L910 , DIRAF:3 , FUNCT_2:58;
end;
L918:  Mid R26 , R23 , ( R31 . R26 ) by L871 , L872 , L873 , L845;
thus L919: thesis by L918 , L872 , L876 , L880 , DIRAF:4 , DIRAF:def 3;
end;
theorem
L920: (for R18 being OAffinSpace holds (for R23 being (Element of R18) holds (for R24 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R23 ) = R23 & R24 <> R23 &  Mid R24 , R23 , ( R31 . R24 )) implies R31 is  negative_dilatation)))))
proof
let R18 being OAffinSpace;
let R23 being (Element of R18);
let R24 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume L921: (R31 is  dilatation & ( R31 . R23 ) = R23 & R24 <> R23 &  Mid R24 , R23 , ( R31 . R24 ));
L922: (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , R27 // ( R31 . R27 ) , ( R31 . R26 )))
proof
let R26 being (Element of R18);
let R27 being (Element of R18);
L923: ((not  LIN R23 , R26 , R27) implies R26 , R27 // ( R31 . R27 ) , ( R31 . R26 )) by L921 , L861;
thus L924: thesis by L923 , L921 , L870;
end;
thus L925: thesis by L922 , L283;
end;
theorem
L926: (for R18 being OAffinSpace holds (for R23 being (Element of R18) holds (for R31 being (Permutation of (the carrier of R18)) holds ((R31 is  dilatation & ( R31 . R23 ) = R23 & (for R26 being (Element of R18) holds R23 , R26 // R23 , ( R31 . R26 ))) implies (for R27 being (Element of R18) holds (for R28 being (Element of R18) holds R27 , R28 // ( R31 . R27 ) , ( R31 . R28 )))))))
proof
let R18 being OAffinSpace;
let R23 being (Element of R18);
let R31 being (Permutation of (the carrier of R18));
assume that
L927: R31 is  dilatation
and
L928: ( R31 . R23 ) = R23
and
L929: (for R26 being (Element of R18) holds R23 , R26 // R23 , ( R31 . R26 ));
L930: (for R27 being (Element of R18) holds (for R28 being (Element of R18) holds ((not  LIN R23 , R27 , R28) implies R27 , R28 // ( R31 . R27 ) , ( R31 . R28 ))))
proof
let R27 being (Element of R18);
let R28 being (Element of R18);
assume L931: (not  LIN R23 , R27 , R28);
L932: (R23 , R27 // R23 , ( R31 . R27 ) & R23 , R28 // R23 , ( R31 . R28 )) by L929;
L933: R27 , R28 '||' ( R31 . R27 ) , ( R31 . R28 ) by L927 , L326;
thus L934: thesis by L933 , L931 , L932 , PASCH:13;
end;
let R27 being (Element of R18);
let R28 being (Element of R18);
L935: ( LIN R23 , R27 , R28 implies R27 , R28 // ( R31 . R27 ) , ( R31 . R28 ))
proof
assume L936:  LIN R23 , R27 , R28;
L937:
now
assume that
L938: R23 <> R27
and
L939: R27 <> R28
and
L940: R28 <> R23;
consider R24 being (Element of R18) such that L941: (not  LIN R23 , R27 , R24) by L938 , DIRAF:37;
L942: (not  LIN R27 , R28 , R24)
proof
assume L943:  LIN R27 , R28 , R24;
L944: ( LIN R27 , R28 , R23 &  LIN R27 , R28 , R27) by L936 , DIRAF:30 , DIRAF:31;
thus L945: contradiction by L944 , L939 , L941 , L943 , DIRAF:32;
end;
L946: (not  LIN ( R31 . R27 ) , ( R31 . R28 ) , ( R31 . R24 )) by L942 , L927 , L406;
consider R25 being (Element of R18) such that L947: R27 , R28 '||' R24 , R25 and L948: R27 , R24 '||' R28 , R25 by DIRAF:26;
L949: (( R31 . R27 ) , ( R31 . R28 ) '||' ( R31 . R24 ) , ( R31 . R25 ) & ( R31 . R27 ) , ( R31 . R24 ) '||' ( R31 . R28 ) , ( R31 . R25 )) by L927 , L947 , L948 , L379;
L950: ( R31 . R27 ) , ( R31 . R28 ) // ( R31 . R24 ) , ( R31 . R25 ) by L949 , L946 , PASCH:14;
L951: ( R31 . R24 ) , ( R31 . R25 ) // ( R31 . R27 ) , ( R31 . R28 ) by L950 , DIRAF:2;
L952: R24 <> R25
proof
assume L953: R24 = R25;
L954: R24 , R27 '||' R24 , R28 by L953 , L948 , DIRAF:22;
L955:  LIN R24 , R27 , R28 by L954 , DIRAF:def 5;
thus L956: contradiction by L955 , L942 , DIRAF:30;
end;
L957: (not  LIN R23 , R24 , R25)
proof
L958:  LIN R24 , R25 , R24 by DIRAF:31;
assume L959:  LIN R23 , R24 , R25;
L960:  LIN R24 , R25 , R23 by L959 , DIRAF:30;
L961:  LIN R27 , R23 , R28 by L936 , DIRAF:30;
L962: R27 , R23 '||' R27 , R28 by L961 , DIRAF:def 5;
L963: R27 , R28 '||' R23 , R27 by L962 , DIRAF:22;
L964: R24 , R25 '||' R23 , R27 by L963 , L939 , L947 , DIRAF:23;
L965:  LIN R24 , R25 , R27 by L964 , L952 , L960 , DIRAF:33;
thus L966: contradiction by L965 , L941 , L952 , L960 , L958 , DIRAF:32;
end;
L967: R24 , R25 // ( R31 . R24 ) , ( R31 . R25 ) by L957 , L930;
L968: R27 , R28 // R24 , R25 by L947 , L948 , L942 , PASCH:14;
L969: R27 , R28 // ( R31 . R24 ) , ( R31 . R25 ) by L968 , L952 , L967 , DIRAF:3;
thus L970: thesis by L969 , L952 , L951 , DIRAF:3 , FUNCT_2:58;
end;
L971:
now
assume L972: R23 = R28;
L973: R28 , R27 // ( R31 . R28 ) , ( R31 . R27 ) by L972 , L928 , L929;
thus L974: thesis by L973 , DIRAF:2;
end;
thus L975: thesis by L971 , L928 , L929 , L937 , DIRAF:4;
end;
thus L976: thesis by L935 , L930;
end;
theorem
L977: (for R18 being OAffinSpace holds (for R31 being (Permutation of (the carrier of R18)) holds (R31 is  dilatation implies (R31 is  positive_dilatation or R31 is  negative_dilatation))))
proof
let R18 being OAffinSpace;
let R31 being (Permutation of (the carrier of R18));
assume L978: R31 is  dilatation;
L979:
now
given R23 being (Element of R18) such that
L980: ( R31 . R23 ) = R23;

L981:
now
given R24 being (Element of R18) such that
L982: (not R23 , R24 // R23 , ( R31 . R24 ));

L983: R23 , R24 '||' R23 , ( R31 . R24 ) by L978 , L980 , L326;
L984: R23 , R24 // ( R31 . R24 ) , R23 by L983 , L982 , DIRAF:def 4;
L985: R24 , R23 // R23 , ( R31 . R24 ) by L984 , DIRAF:2;
L986:  Mid R24 , R23 , ( R31 . R24 ) by L985 , DIRAF:def 3;
L987: R23 <> R24 by L982 , L984 , DIRAF:2;
thus L988: R31 is  negative_dilatation by L987 , L978 , L980 , L986 , L920;
end;
L989:
now
assume L990: (for R26 being (Element of R18) holds R23 , R26 // R23 , ( R31 . R26 ));
L991: (for R26 being (Element of R18) holds (for R27 being (Element of R18) holds R26 , R27 // ( R31 . R26 ) , ( R31 . R27 ))) by L990 , L978 , L980 , L926;
thus L992: R31 is  positive_dilatation by L991 , L273;
end;
thus L993: thesis by L989 , L981;
end;
L994:
now
assume L995: (for R26 being (Element of R18) holds ( R31 . R26 ) <> R26);
L996: R31 is  translation by L995 , L978 , L559;
thus L997: R31 is  positive_dilatation by L996 , L825;
end;
thus L998: thesis by L994 , L979;
end;
theorem
L999: (for R33 being AffinSpace holds R33 is  CongrSpace-like)
proof
let R33 being AffinSpace;
thus L1000: (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R43 being (Element of R33) holds (for R44 being (Element of R33) holds (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds ((R41 , R42 // R34 , R35 & R34 , R35 // R43 , R44 & R34 <> R35) implies R41 , R42 // R43 , R44))))))) by AFF_1:5;
thus L1001: (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R43 being (Element of R33) holds R41 , R41 // R42 , R43))) by AFF_1:3;
thus L1002: (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R43 being (Element of R33) holds (for R44 being (Element of R33) holds (R41 , R42 // R43 , R44 implies R43 , R44 // R41 , R42))))) by AFF_1:4;
thus L1003: thesis by AFF_1:2;
end;
theorem
L1004: (for R18 being OAffinSpace holds ( Lambda R18 ) is CongrSpace)
proof
let R18 being OAffinSpace;
L1005: ( Lambda R18 ) is AffinSpace by DIRAF:41;
thus L1006: thesis by L1005 , L999;
end;
definition
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
attr R45 is  dilatation
means
:L1007: R45 is_DIL_of R33;
end;
theorem
L1009: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  dilatation iff (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds R34 , R35 // ( R45 . R34 ) , ( R45 . R35 ))))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
thus L1010: (R45 is  dilatation implies (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds R34 , R35 // ( R45 . R34 ) , ( R45 . R35 ))))
proof
assume L1011: R45 is  dilatation;
let R34 being (Element of R33);
let R35 being (Element of R33);
L1012: R45 is_DIL_of R33 by L1011 , L1007;
thus L1013: thesis by L1012 , L208;
end;

assume L1014: (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds R34 , R35 // ( R45 . R34 ) , ( R45 . R35 )));
L1015: R45 is_DIL_of R33 by L1014 , L208;
thus L1016: thesis by L1015 , L1007;
end;
theorem
L1017: (for R33 being AffinSpace holds ( id (the carrier of R33) ) is  dilatation)
proof
let R33 being AffinSpace;
L1018:
now
let R41 being (Element of R33);
let R42 being (Element of R33);
L1019: (( ( id (the carrier of R33) ) . R41 ) = R41 & ( ( id (the carrier of R33) ) . R42 ) = R42) by FUNCT_1:18;
thus L1020: R41 , R42 // ( ( id (the carrier of R33) ) . R41 ) , ( ( id (the carrier of R33) ) . R42 ) by L1019 , AFF_1:2;
end;
thus L1021: thesis by L1018 , L1009;
end;
theorem
L1022: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  dilatation implies ( R45 " ) is  dilatation)))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
assume L1023: R45 is  dilatation;
L1024:
now
let R41 being (Element of R33);
let R42 being (Element of R33);
set D24 = ( ( R45 " ) . R41 );
set D25 = ( ( R45 " ) . R42 );
L1025: (( R45 . D24 ) = R41 & ( R45 . D25 ) = R42) by L7;
L1026: D24 , D25 // R41 , R42 by L1025 , L1023 , L1009;
thus L1027: R41 , R42 // ( ( R45 " ) . R41 ) , ( ( R45 " ) . R42 ) by L1026 , AFF_1:4;
end;
thus L1028: thesis by L1024 , L1009;
end;
theorem
L1029: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (for R46 being (Permutation of (the carrier of R33)) holds ((R45 is  dilatation & R46 is  dilatation) implies ( R45 * R46 ) is  dilatation))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
let R46 being (Permutation of (the carrier of R33));
assume L1030: (R45 is  dilatation & R46 is  dilatation);
L1031:
now
let R41 being (Element of R33);
let R42 being (Element of R33);
set D26 = ( R46 . R41 );
set D27 = ( R46 . R42 );
L1032: (( ( R45 * R46 ) . R41 ) = ( R45 . D26 ) & ( ( R45 * R46 ) . R42 ) = ( R45 . D27 )) by FUNCT_2:15;
L1033:
now
assume L1034: D26 = D27;
L1035: R41 = R42 by L1034 , FUNCT_2:58;
thus L1036: R41 , R42 // ( ( R45 * R46 ) . R41 ) , ( ( R45 * R46 ) . R42 ) by L1035 , AFF_1:3;
end;
L1037: (R41 , R42 // D26 , D27 & D26 , D27 // ( R45 . D26 ) , ( R45 . D27 )) by L1030 , L1009;
thus L1038: R41 , R42 // ( ( R45 * R46 ) . R41 ) , ( ( R45 * R46 ) . R42 ) by L1037 , L1032 , L1033 , AFF_1:5;
end;
thus L1039: thesis by L1031 , L1009;
end;
theorem
L1040: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  dilatation implies (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R36 being (Element of R33) holds (for R37 being (Element of R33) holds (R34 , R35 // R36 , R37 iff ( R45 . R34 ) , ( R45 . R35 ) // ( R45 . R36 ) , ( R45 . R37 )))))))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
assume L1041: R45 is  dilatation;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R36 being (Element of R33);
let R37 being (Element of R33);
L1042: R36 , R37 // ( R45 . R36 ) , ( R45 . R37 ) by L1041 , L1009;
L1043: R34 , R35 // ( R45 . R34 ) , ( R45 . R35 ) by L1041 , L1009;
L1044:
now
L1045:
now
L1046:
now
assume L1047: ( R45 . R36 ) = ( R45 . R37 );
L1048: R36 = R37 by L1047 , FUNCT_2:58;
thus L1049: R34 , R35 // R36 , R37 by L1048 , AFF_1:3;
end;
assume L1050: R34 , R35 // ( R45 . R36 ) , ( R45 . R37 );
thus L1051: R34 , R35 // R36 , R37 by L1050 , L1042 , L1046 , AFF_1:5;
end;
L1052:
now
assume L1053: ( R45 . R34 ) = ( R45 . R35 );
L1054: R34 = R35 by L1053 , FUNCT_2:58;
thus L1055: R34 , R35 // R36 , R37 by L1054 , AFF_1:3;
end;
assume L1056: ( R45 . R34 ) , ( R45 . R35 ) // ( R45 . R36 ) , ( R45 . R37 );
thus L1057: R34 , R35 // R36 , R37 by L1056 , L1043 , L1052 , L1045 , AFF_1:5;
end;
L1058:
now
L1059:
now
L1060: (R36 = R37 implies ( R45 . R34 ) , ( R45 . R35 ) // ( R45 . R36 ) , ( R45 . R37 )) by AFF_1:3;
assume L1061: ( R45 . R34 ) , ( R45 . R35 ) // R36 , R37;
thus L1062: ( R45 . R34 ) , ( R45 . R35 ) // ( R45 . R36 ) , ( R45 . R37 ) by L1061 , L1042 , L1060 , AFF_1:5;
end;
assume L1063: R34 , R35 // R36 , R37;
L1064: (( R45 . R34 ) , ( R45 . R35 ) // R36 , R37 or R34 = R35) by L1063 , L1043 , AFF_1:5;
thus L1065: ( R45 . R34 ) , ( R45 . R35 ) // ( R45 . R36 ) , ( R45 . R37 ) by L1064 , L1059 , AFF_1:3;
end;
thus L1066: thesis by L1058 , L1044;
end;
theorem
L1067: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  dilatation implies (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R36 being (Element of R33) holds ( LIN R34 , R35 , R36 iff  LIN ( R45 . R34 ) , ( R45 . R35 ) , ( R45 . R36 ))))))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
assume L1068: R45 is  dilatation;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R36 being (Element of R33);
L1069: (R34 , R35 // R34 , R36 iff ( R45 . R34 ) , ( R45 . R35 ) // ( R45 . R34 ) , ( R45 . R36 )) by L1068 , L1040;
thus L1070: thesis by L1069 , AFF_1:def 1;
end;
theorem
L1071: (for R33 being AffinSpace holds (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds ((R45 is  dilatation &  LIN R41 , ( R45 . R41 ) , R42) implies  LIN R41 , ( R45 . R41 ) , ( R45 . R42 ))))))
proof
let R33 being AffinSpace;
let R41 being (Element of R33);
let R42 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
assume L1072: R45 is  dilatation;
assume L1073:  LIN R41 , ( R45 . R41 ) , R42;
L1074:
now
assume L1075: R41 <> R42;
L1076: (R41 , ( R45 . R41 ) // R41 , R42 & R41 , R42 // ( R45 . R41 ) , ( R45 . R42 )) by L1072 , L1073 , L1009 , AFF_1:def 1;
L1077: R41 , ( R45 . R41 ) // ( R45 . R41 ) , ( R45 . R42 ) by L1076 , L1075 , AFF_1:5;
L1078: ( R45 . R41 ) , R41 // ( R45 . R41 ) , ( R45 . R42 ) by L1077 , AFF_1:4;
L1079:  LIN ( R45 . R41 ) , R41 , ( R45 . R42 ) by L1078 , AFF_1:def 1;
thus L1080: thesis by L1079 , AFF_1:6;
end;
thus L1081: thesis by L1074 , AFF_1:7;
end;
theorem
L1082: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R36 being (Element of R33) holds (for R37 being (Element of R33) holds (R34 , R35 // R36 , R37 implies (R34 , R36 // R35 , R37 or (ex R41 being (Element of R33) st ( LIN R34 , R36 , R41 &  LIN R35 , R37 , R41)))))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R36 being (Element of R33);
let R37 being (Element of R33);
assume L1083: R34 , R35 // R36 , R37;
assume L1084: (not R34 , R36 // R35 , R37);
L1085:
now
consider R43 being (Element of R33) such that L1086: R34 , R35 // R36 , R43 and L1087: R34 , R36 // R35 , R43 by DIRAF:40;
assume L1088: R34 <> R35;
L1089:
now
L1090: R36 , R37 // R36 , R43 by L1083 , L1088 , L1086 , AFF_1:5;
L1091:  LIN R36 , R37 , R43 by L1090 , AFF_1:def 1;
L1092:  LIN R37 , R36 , R43 by L1091 , AFF_1:6;
L1093: R37 , R36 // R37 , R43 by L1092 , AFF_1:def 1;
L1094: R43 , R37 // R37 , R36 by L1093 , AFF_1:4;
consider R44 being (Element of R33) such that L1095: R35 , R37 // R37 , R44 and L1096: R35 , R43 // R36 , R44 by L1094 , L1084 , L1087 , DIRAF:40;
assume L1097: R35 <> R43;
L1098: R34 , R36 // R36 , R44 by L1097 , L1087 , L1096 , AFF_1:5;
L1099: R36 , R34 // R36 , R44 by L1098 , AFF_1:4;
L1100:  LIN R36 , R34 , R44 by L1099 , AFF_1:def 1;
L1101:  LIN R34 , R36 , R44 by L1100 , AFF_1:6;
L1102: R37 , R35 // R37 , R44 by L1095 , AFF_1:4;
L1103:  LIN R37 , R35 , R44 by L1102 , AFF_1:def 1;
L1104:  LIN R35 , R37 , R44 by L1103 , AFF_1:6;
thus L1105: thesis by L1104 , L1101;
end;
L1106:
now
assume L1107: R35 = R43;
L1108: R35 , R34 // R35 , R36 by L1107 , L1086 , AFF_1:4;
L1109:  LIN R35 , R34 , R36 by L1108 , AFF_1:def 1;
L1110:  LIN R34 , R36 , R35 by L1109 , AFF_1:6;
L1111:  LIN R35 , R37 , R35 by AFF_1:7;
thus L1112: thesis by L1111 , L1110;
end;
thus L1113: thesis by L1106 , L1089;
end;
L1114:
now
assume L1115: R34 = R35;
L1116: ( LIN R34 , R36 , R34 &  LIN R35 , R37 , R34) by L1115 , AFF_1:7;
thus L1117: thesis by L1116;
end;
thus L1118: thesis by L1114 , L1085;
end;
theorem
L1119: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  dilatation implies ((R45 = ( id (the carrier of R33) ) or (for R41 being (Element of R33) holds ( R45 . R41 ) <> R41)) iff (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds R41 , ( R45 . R41 ) // R42 , ( R45 . R42 )))))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
assume L1120: R45 is  dilatation;
L1121:
now
assume L1122: (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds R41 , ( R45 . R41 ) // R42 , ( R45 . R42 )));
assume L1123: R45 <> ( id (the carrier of R33) );
consider R42 being (Element of R33) such that L1124: ( R45 . R42 ) <> ( ( id (the carrier of R33) ) . R42 ) by L1123 , FUNCT_2:63;
given R41 being (Element of R33) such that
L1125: ( R45 . R41 ) = R41;

L1126: R41 <> R42 by L1125 , L1124 , FUNCT_1:18;
consider R43 being (Element of R33) such that L1127: (not  LIN R41 , R42 , R43) by L1126 , AFF_1:13;
L1128: R41 , R43 // ( R45 . R41 ) , ( R45 . R43 ) by L1120 , L1009;
L1129:  LIN R41 , R43 , ( R45 . R43 ) by L1128 , L1125 , AFF_1:def 1;
L1130:  LIN R43 , ( R45 . R43 ) , R41 by L1129 , AFF_1:6;
L1131:  LIN R43 , ( R45 . R43 ) , R43 by AFF_1:7;
L1132: R43 , ( R45 . R43 ) // R41 , R43 by L1131 , L1130 , AFF_1:10;
L1133: ( R45 . R42 ) <> R42 by L1124 , FUNCT_1:18;
L1134: R41 , R42 // ( R45 . R41 ) , ( R45 . R42 ) by L1120 , L1009;
L1135:  LIN R41 , R42 , ( R45 . R42 ) by L1134 , L1125 , AFF_1:def 1;
L1136:  LIN R42 , R41 , ( R45 . R42 ) by L1135 , AFF_1:6;
L1137: R42 , R41 // R42 , ( R45 . R42 ) by L1136 , AFF_1:def 1;
L1138:  LIN R42 , ( R45 . R42 ) , R41 by L1135 , AFF_1:6;
L1139:
now
assume L1140: R43 = ( R45 . R43 );
L1141: R43 , R42 // R43 , ( R45 . R42 ) by L1140 , L1120 , L1009;
L1142:  LIN R43 , R42 , ( R45 . R42 ) by L1141 , AFF_1:def 1;
L1143: ( LIN R42 , ( R45 . R42 ) , R42 &  LIN R42 , ( R45 . R42 ) , R43) by L1142 , AFF_1:6 , AFF_1:7;
thus L1144: contradiction by L1143 , L1133 , L1138 , L1127 , AFF_1:8;
end;
L1145: R42 , ( R45 . R42 ) // R43 , ( R45 . R43 ) by L1122;
L1146: R42 , ( R45 . R42 ) // R41 , R43 by L1145 , L1139 , L1132 , AFF_1:5;
L1147: R42 , R41 // R41 , R43 by L1146 , L1133 , L1137 , AFF_1:5;
L1148: R41 , R42 // R41 , R43 by L1147 , AFF_1:4;
thus L1149: contradiction by L1148 , L1127 , AFF_1:def 1;
end;
L1150:
now
assume L1151: (R45 = ( id (the carrier of R33) ) or (for R43 being (Element of R33) holds ( R45 . R43 ) <> R43));
let R41 being (Element of R33);
let R42 being (Element of R33);
L1152: R41 , R42 // ( R45 . R41 ) , ( R45 . R42 ) by L1120 , L1009;
L1153:
now
assume L1154: (for R43 being (Element of R33) holds ( R45 . R43 ) <> R43);
assume L1155: (not R41 , ( R45 . R41 ) // R42 , ( R45 . R42 ));
consider R43 being (Element of R33) such that L1156:  LIN R41 , ( R45 . R41 ) , R43 and L1157:  LIN R42 , ( R45 . R42 ) , R43 by L1155 , L1152 , L1082;
set D28 = ( R45 . R43 );
L1158:  LIN R41 , ( R45 . R41 ) , D28 by L1120 , L1156 , L1071;
L1159: R41 , ( R45 . R41 ) // R43 , D28 by L1158 , L1156 , AFF_1:10;
L1160:  LIN R42 , ( R45 . R42 ) , D28 by L1120 , L1157 , L1071;
L1161: R42 , ( R45 . R42 ) // R43 , D28 by L1160 , L1157 , AFF_1:10;
L1162: R43 <> D28 by L1154;
thus L1163: contradiction by L1162 , L1155 , L1159 , L1161 , AFF_1:5;
end;
L1164:
now
assume L1165: R45 = ( id (the carrier of R33) );
L1166: ( R45 . R42 ) = R42 by L1165 , FUNCT_1:18;
thus L1167: R41 , ( R45 . R41 ) // R42 , ( R45 . R42 ) by L1166 , AFF_1:3;
end;
thus L1168: R41 , ( R45 . R41 ) // R42 , ( R45 . R42 ) by L1164 , L1151 , L1153;
end;
thus L1169: thesis by L1150 , L1121;
end;
theorem
L1170: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R41 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds ((R45 is  dilatation & ( R45 . R34 ) = R34 & ( R45 . R35 ) = R35 & (not  LIN R34 , R35 , R41)) implies ( R45 . R41 ) = R41))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R41 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
assume that
L1171: R45 is  dilatation
and
L1172: ( R45 . R34 ) = R34
and
L1173: ( R45 . R35 ) = R35
and
L1174: (not  LIN R34 , R35 , R41);
L1175: R34 , R41 // R34 , ( R45 . R41 ) by L1171 , L1172 , L1009;
L1176:  LIN R34 , R41 , ( R45 . R41 ) by L1175 , AFF_1:def 1;
L1177:  LIN R41 , ( R45 . R41 ) , R34 by L1176 , AFF_1:6;
L1178: R35 , R41 // R35 , ( R45 . R41 ) by L1171 , L1173 , L1009;
L1179:  LIN R35 , R41 , ( R45 . R41 ) by L1178 , AFF_1:def 1;
L1180: ( LIN R41 , ( R45 . R41 ) , R41 &  LIN R41 , ( R45 . R41 ) , R35) by L1179 , AFF_1:6 , AFF_1:7;
assume L1181: ( R45 . R41 ) <> R41;
thus L1182: contradiction by L1181 , L1174 , L1177 , L1180 , AFF_1:8;
end;
theorem
L1183: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds ((R45 is  dilatation & ( R45 . R34 ) = R34 & ( R45 . R35 ) = R35 & R34 <> R35) implies R45 = ( id (the carrier of R33) ))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
assume that
L1184: R45 is  dilatation
and
L1185: ( R45 . R34 ) = R34
and
L1186: ( R45 . R35 ) = R35
and
L1187: R34 <> R35;
L1188:
now
let R41 being (Element of R33);
L1189:
now
assume L1190:  LIN R34 , R35 , R41;
L1191:
now
consider R43 being (Element of R33) such that L1192: (not  LIN R34 , R35 , R43) by L1187 , AFF_1:13;
assume L1193: R41 <> R34;
L1194: (not  LIN R34 , R43 , R41)
proof
assume L1195:  LIN R34 , R43 , R41;
L1196:  LIN R34 , R41 , R43 by L1195 , AFF_1:6;
L1197: ( LIN R34 , R41 , R34 &  LIN R34 , R41 , R35) by L1190 , AFF_1:6 , AFF_1:7;
thus L1198: contradiction by L1197 , L1193 , L1192 , L1196 , AFF_1:8;
end;
L1199: ( R45 . R43 ) = R43 by L1184 , L1185 , L1186 , L1192 , L1170;
thus L1200: ( R45 . R41 ) = R41 by L1199 , L1184 , L1185 , L1194 , L1170;
end;
thus L1201: ( R45 . R41 ) = R41 by L1191 , L1185;
end;
L1202: ((not  LIN R34 , R35 , R41) implies ( R45 . R41 ) = R41) by L1184 , L1185 , L1186 , L1170;
thus L1203: ( R45 . R41 ) = ( ( id (the carrier of R33) ) . R41 ) by L1202 , L1189 , FUNCT_1:18;
end;
thus L1204: thesis by L1188 , FUNCT_2:63;
end;
theorem
L1205: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds (for R46 being (Permutation of (the carrier of R33)) holds ((R45 is  dilatation & R46 is  dilatation & ( R45 . R34 ) = ( R46 . R34 ) & ( R45 . R35 ) = ( R46 . R35 )) implies (R34 = R35 or R45 = R46)))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
let R46 being (Permutation of (the carrier of R33));
assume that
L1206: R45 is  dilatation
and
L1207: R46 is  dilatation
and
L1208: ( R45 . R34 ) = ( R46 . R34 )
and
L1209: ( R45 . R35 ) = ( R46 . R35 );
L1210: ( ( ( R46 " ) * R45 ) . R35 ) = ( ( R46 " ) . ( R46 . R35 ) ) by L1209 , FUNCT_2:15
.= R35 by L7;
L1211: ( R46 " ) is  dilatation by L1207 , L1022;
assume L1212: R34 <> R35;
L1213: ( ( ( R46 " ) * R45 ) . R34 ) = ( ( R46 " ) . ( R46 . R34 ) ) by L1208 , FUNCT_2:15
.= R34 by L7;
L1214: ( ( R46 " ) * R45 ) = ( id (the carrier of R33) ) by L1213 , L1206 , L1212 , L1210 , L1211 , L1029 , L1183;
L1215:
now
let R41 being (Element of R33);
L1216: ( ( R46 " ) . ( R45 . R41 ) ) = ( ( ( R46 " ) * R45 ) . R41 ) by FUNCT_2:15;
L1217: ( ( R46 " ) . ( R45 . R41 ) ) = R41 by L1216 , L1214 , FUNCT_1:18;
thus L1218: ( R46 . R41 ) = ( R45 . R41 ) by L1217 , L7;
end;
thus L1219: thesis by L1215 , FUNCT_2:63;
end;
theorem
L1220: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R36 being (Element of R33) holds (for R38 being (Element of R33) holds (for R39 being (Element of R33) holds (((not  LIN R34 , R35 , R36) & R34 , R35 // R36 , R38 & R34 , R35 // R36 , R39 & R34 , R36 // R35 , R38 & R34 , R36 // R35 , R39) implies R38 = R39)))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R36 being (Element of R33);
let R38 being (Element of R33);
let R39 being (Element of R33);
assume that
L1221: (not  LIN R34 , R35 , R36)
and
L1222: R34 , R35 // R36 , R38
and
L1223: R34 , R35 // R36 , R39
and
L1224: R34 , R36 // R35 , R38
and
L1225: R34 , R36 // R35 , R39;
assume L1226: R38 <> R39;
L1227: R34 <> R36 by L1221 , AFF_1:7;
L1228: R35 , R38 // R35 , R39 by L1227 , L1224 , L1225 , AFF_1:5;
L1229:  LIN R35 , R38 , R39 by L1228 , AFF_1:def 1;
L1230:  LIN R38 , R39 , R35 by L1229 , AFF_1:6;
L1231:
now
assume L1232: R36 = R38;
L1233: R36 , R34 // R36 , R35 by L1232 , L1224 , AFF_1:4;
L1234:  LIN R36 , R34 , R35 by L1233 , AFF_1:def 1;
thus L1235: contradiction by L1234 , L1221 , AFF_1:6;
end;
L1236:  LIN R38 , R39 , R38 by AFF_1:7;
L1237: R34 <> R35 by L1221 , AFF_1:7;
L1238: R36 , R38 // R36 , R39 by L1237 , L1222 , L1223 , AFF_1:5;
L1239:  LIN R36 , R38 , R39 by L1238 , AFF_1:def 1;
L1240:  LIN R38 , R39 , R36 by L1239 , AFF_1:6;
L1241:  LIN R38 , R39 , R36 by L1239 , AFF_1:6;
L1242: R38 , R39 // R36 , R38 by L1241 , L1236 , AFF_1:10;
L1243: (R38 , R39 // R34 , R35 or R36 = R38) by L1242 , L1222 , AFF_1:5;
L1244: R38 , R39 // R35 , R34 by L1243 , L1231 , AFF_1:4;
L1245:  LIN R38 , R39 , R34 by L1244 , L1226 , L1230 , AFF_1:9;
thus L1246: contradiction by L1245 , L1221 , L1226 , L1240 , L1230 , AFF_1:8;
end;
definition
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
attr R45 is  translation
means
:L1247: (R45 is  dilatation & (R45 = ( id (the carrier of R33) ) or (for R34 being (Element of R33) holds R34 <> ( R45 . R34 ))));
end;
theorem
L1249: (for R33 being AffinSpace holds ( id (the carrier of R33) ) is  translation)
proof
let R33 being AffinSpace;
L1250: ( id (the carrier of R33) ) is  dilatation by L1017;
thus L1251: thesis by L1250 , L1247;
end;
theorem
L1252: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  dilatation implies (R45 is  translation iff (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds R41 , ( R45 . R41 ) // R42 , ( R45 . R42 )))))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
assume L1253: R45 is  dilatation;
L1254: ((R45 = ( id (the carrier of R33) ) or (for R41 being (Element of R33) holds ( R45 . R41 ) <> R41)) iff (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds R41 , ( R45 . R41 ) // R42 , ( R45 . R42 )))) by L1253 , L1119;
thus L1255: thesis by L1254 , L1253 , L1247;
end;
theorem
L1256: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R41 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds (for R46 being (Permutation of (the carrier of R33)) holds ((R45 is  translation & R46 is  translation & ( R45 . R34 ) = ( R46 . R34 ) & (not  LIN R34 , ( R45 . R34 ) , R41)) implies ( R45 . R41 ) = ( R46 . R41 )))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R41 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
let R46 being (Permutation of (the carrier of R33));
assume that
L1257: R45 is  translation
and
L1258: R46 is  translation
and
L1259: ( R45 . R34 ) = ( R46 . R34 )
and
L1260: (not  LIN R34 , ( R45 . R34 ) , R41);
set D29 = ( R45 . R34 );
set D30 = ( R45 . R41 );
set D31 = ( R46 . R41 );
L1261: R46 is  dilatation by L1258 , L1247;
L1262: (R34 , R41 // D29 , D31 & R34 , D29 // R41 , D31) by L1261 , L1258 , L1259 , L1009 , L1252;
L1263: R45 is  dilatation by L1257 , L1247;
L1264: R34 , R41 // D29 , D30 by L1263 , L1009;
L1265: R34 , D29 // R41 , D30 by L1257 , L1263 , L1252;
thus L1266: thesis by L1265 , L1260 , L1264 , L1262 , L1220;
end;
theorem
L1267: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds (for R46 being (Permutation of (the carrier of R33)) holds ((R45 is  translation & R46 is  translation & ( R45 . R34 ) = ( R46 . R34 )) implies R45 = R46)))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
let R46 being (Permutation of (the carrier of R33));
assume that
L1268: R45 is  translation
and
L1269: R46 is  translation
and
L1270: ( R45 . R34 ) = ( R46 . R34 );
set D32 = ( R45 . R34 );
L1271: R45 is  dilatation by L1268 , L1247;
L1272:
now
assume L1273: R34 <> D32;
L1274: (for R41 being (Element of R33) holds ( R45 . R41 ) = ( R46 . R41 ))
proof
let R41 being (Element of R33);
L1275:
now
assume L1276:  LIN R34 , D32 , R41;
L1277:
now
L1278: R45 <> ( id (the carrier of R33) ) by L1273 , FUNCT_1:18;
L1279: ( R45 . R41 ) <> R41 by L1278 , L1268 , L1247;
assume L1280: R41 <> R34;
consider R40 being (Element of R33) such that L1281: (not  LIN R34 , D32 , R40) by L1273 , AFF_1:13;
L1282: ( R45 . R40 ) <> R40 by L1268 , L1278 , L1247;
L1283: (not  LIN R40 , ( R45 . R40 ) , R41)
proof
L1284:  LIN R34 , D32 , ( R45 . R41 ) by L1271 , L1276 , L1071;
L1285:  LIN R34 , D32 , R34 by AFF_1:7;
L1286:  LIN R41 , ( R45 . R41 ) , R34 by L1285 , L1273 , L1276 , L1284 , AFF_1:8;
L1287:  LIN R40 , ( R45 . R40 ) , R40 by AFF_1:7;
L1288:  LIN R34 , D32 , D32 by AFF_1:7;
L1289:  LIN R41 , ( R45 . R41 ) , D32 by L1288 , L1273 , L1276 , L1284 , AFF_1:8;
assume L1290:  LIN R40 , ( R45 . R40 ) , R41;
L1291:  LIN R40 , ( R45 . R40 ) , ( R45 . R41 ) by L1290 , L1271 , L1071;
L1292:  LIN R41 , ( R45 . R41 ) , R40 by L1291 , L1282 , L1290 , L1287 , AFF_1:8;
thus L1293: contradiction by L1292 , L1281 , L1279 , L1286 , L1289 , AFF_1:8;
end;
L1294: ( R45 . R40 ) = ( R46 . R40 ) by L1268 , L1269 , L1270 , L1281 , L1256;
thus L1295: thesis by L1294 , L1268 , L1269 , L1283 , L1256;
end;
thus L1296: thesis by L1277 , L1270;
end;
thus L1297: thesis by L1275 , L1268 , L1269 , L1270 , L1256;
end;
thus L1298: thesis by L1274 , FUNCT_2:63;
end;
L1299:
now
assume L1300: D32 = R34;
L1301: R45 = ( id (the carrier of R33) ) by L1300 , L1268 , L1247;
thus L1302: thesis by L1301 , L1269 , L1270 , L1300 , L1247;
end;
thus L1303: thesis by L1299 , L1272;
end;
theorem
L1304: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  translation implies ( R45 " ) is  translation)))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
L1305:
now
assume L1306: (for R41 being (Element of R33) holds ( R45 . R41 ) <> R41);
given R42 being (Element of R33) such that
L1307: ( ( R45 " ) . R42 ) = R42;

L1308: ( R45 . R42 ) = R42 by L1307 , L7;
thus L1309: contradiction by L1308 , L1306;
end;
assume L1310: R45 is  translation;
L1311: R45 is  dilatation by L1310 , L1247;
L1312: ( R45 " ) is  dilatation by L1311 , L1022;
L1313: (R45 = ( id (the carrier of R33) ) implies ( R45 " ) = ( id (the carrier of R33) )) by FUNCT_1:45;
thus L1314: thesis by L1313 , L1310 , L1312 , L1305 , L1247;
end;
theorem
L1315: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (for R46 being (Permutation of (the carrier of R33)) holds ((R45 is  translation & R46 is  translation) implies ( R45 * R46 ) is  translation))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
let R46 being (Permutation of (the carrier of R33));
assume that
L1316: R45 is  translation
and
L1317: R46 is  translation;
L1318: (R45 is  dilatation & R46 is  dilatation) by L1316 , L1317 , L1247;
L1319: ( R45 * R46 ) is  dilatation by L1318 , L1029;
L1320:
now
assume L1321: ( R45 * R46 ) <> ( id (the carrier of R33) );
L1322: (for R41 being (Element of R33) holds ( ( R45 * R46 ) . R41 ) <> R41)
proof
given R41 being (Element of R33) such that
L1323: ( ( R45 * R46 ) . R41 ) = R41;

L1324: ( R45 . ( R46 . R41 ) ) = R41 by L1323 , FUNCT_2:15;
L1325: ( R46 . R41 ) = ( ( R45 " ) . R41 ) by L1324 , L7;
L1326: ( R45 " ) is  translation by L1316 , L1304;
L1327: ( R45 * R46 ) = ( R45 * ( R45 " ) ) by L1326 , L1317 , L1325 , L1267;
thus L1328: contradiction by L1327 , L1321 , FUNCT_2:61;
end;
thus L1329: thesis by L1322 , L1319 , L1247;
end;
thus L1330: thesis by L1320 , L1319 , L1247;
end;
definition
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
attr R45 is  collineation
means
R45 is_automorphism_of (the CONGR of R33);
end;
theorem
L1332: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  collineation iff (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R43 being (Element of R33) holds (for R44 being (Element of R33) holds (R41 , R42 // R43 , R44 iff ( R45 . R41 ) , ( R45 . R42 ) // ( R45 . R43 ) , ( R45 . R44 )))))))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
thus L1333: (R45 is  collineation implies (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R43 being (Element of R33) holds (for R44 being (Element of R33) holds (R41 , R42 // R43 , R44 iff ( R45 . R41 ) , ( R45 . R42 ) // ( R45 . R43 ) , ( R45 . R44 )))))))
proof
assume L1334: R45 is_automorphism_of (the CONGR of R33);
let R41 being (Element of R33);
let R42 being (Element of R33);
let R43 being (Element of R33);
let R44 being (Element of R33);
thus L1335: (R41 , R42 // R43 , R44 implies ( R45 . R41 ) , ( R45 . R42 ) // ( R45 . R43 ) , ( R45 . R44 ))
proof
assume L1336: R41 , R42 // R43 , R44;
L1337: [ [ R41 , R42 ] , [ R43 , R44 ] ] in (the CONGR of R33) by L1336 , ANALOAF:def 2;
L1338: [ [ ( R45 . R41 ) , ( R45 . R42 ) ] , [ ( R45 . R43 ) , ( R45 . R44 ) ] ] in (the CONGR of R33) by L1337 , L1334 , L113;
thus L1339: thesis by L1338 , ANALOAF:def 2;
end;

assume L1340: ( R45 . R41 ) , ( R45 . R42 ) // ( R45 . R43 ) , ( R45 . R44 );
L1341: [ [ ( R45 . R41 ) , ( R45 . R42 ) ] , [ ( R45 . R43 ) , ( R45 . R44 ) ] ] in (the CONGR of R33) by L1340 , ANALOAF:def 2;
L1342: [ [ R41 , R42 ] , [ R43 , R44 ] ] in (the CONGR of R33) by L1341 , L1334 , L113;
thus L1343: thesis by L1342 , ANALOAF:def 2;
end;

assume L1344: (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R43 being (Element of R33) holds (for R44 being (Element of R33) holds (R41 , R42 // R43 , R44 iff ( R45 . R41 ) , ( R45 . R42 ) // ( R45 . R43 ) , ( R45 . R44 ))))));
let R41 being (Element of R33);
let R42 being (Element of R33);
let R43 being (Element of R33);
let R44 being (Element of R33);
L1345: (R41 , R42 // R43 , R44 iff ( R45 . R41 ) , ( R45 . R42 ) // ( R45 . R43 ) , ( R45 . R44 )) by L1344;
thus L1346: thesis by L1345 , ANALOAF:def 2;
end;
theorem
L1347: (for R33 being AffinSpace holds (for R41 being (Element of R33) holds (for R42 being (Element of R33) holds (for R43 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  collineation implies ( LIN R41 , R42 , R43 iff  LIN ( R45 . R41 ) , ( R45 . R42 ) , ( R45 . R43 ))))))))
proof
let R33 being AffinSpace;
let R41 being (Element of R33);
let R42 being (Element of R33);
let R43 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
assume L1348: R45 is  collineation;
L1349: (R41 , R42 // R41 , R43 iff ( R45 . R41 ) , ( R45 . R42 ) // ( R45 . R41 ) , ( R45 . R43 )) by L1348 , L1332;
thus L1350: thesis by L1349 , AFF_1:def 1;
end;
theorem
L1351: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (for R46 being (Permutation of (the carrier of R33)) holds ((R45 is  collineation & R46 is  collineation) implies (( R45 " ) is  collineation & ( R45 * R46 ) is  collineation & ( id (the carrier of R33) ) is  collineation)))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
let R46 being (Permutation of (the carrier of R33));
assume L1352: (R45 is_automorphism_of (the CONGR of R33) & R46 is_automorphism_of (the CONGR of R33));
thus L1353: (( R45 " ) is_automorphism_of (the CONGR of R33) & ( R45 * R46 ) is_automorphism_of (the CONGR of R33)) by L1352 , L121 , L126;
thus L1354: ( id (the carrier of R33) ) is_automorphism_of (the CONGR of R33) by L115;
end;
theorem
L1355: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds (for R47 being (Subset of R33) holds (R34 in R47 implies ( R45 . R34 ) in ( R45 .: R47 ))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
let R47 being (Subset of R33);
L1356: ( dom R45 ) = (the carrier of R33) by FUNCT_2:52;
assume L1357: R34 in R47;
thus L1358: thesis by L1357 , L1356 , FUNCT_1:def 6;
end;
theorem
L1359: (for R33 being AffinSpace holds (for R41 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds (for R47 being (Subset of R33) holds (R41 in ( R45 .: R47 ) iff (ex R42 being (Element of R33) st (R42 in R47 & ( R45 . R42 ) = R41)))))))
proof
let R33 being AffinSpace;
let R41 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
let R47 being (Subset of R33);
thus L1360: (R41 in ( R45 .: R47 ) implies (ex R42 being (Element of R33) st (R42 in R47 & ( R45 . R42 ) = R41)))
proof
assume L1361: R41 in ( R45 .: R47 );
L1362: (ex B87 being set st (B87 in ( dom R45 ) & B87 in R47 & R41 = ( R45 . B87 ))) by L1361 , FUNCT_1:def 6;
thus L1363: thesis by L1362;
end;

given R42 being (Element of R33) such that
L1364: (R42 in R47 & ( R45 . R42 ) = R41);

L1365: ( dom R45 ) = (the carrier of R33) by FUNCT_2:52;
thus L1366: thesis by L1365 , L1364 , FUNCT_1:def 6;
end;
theorem
L1367: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (for R47 being (Subset of R33) holds (for R48 being (Subset of R33) holds (( R45 .: R47 ) = ( R45 .: R48 ) implies R47 = R48)))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
let R47 being (Subset of R33);
let R48 being (Subset of R33);
assume L1368: ( R45 .: R47 ) = ( R45 .: R48 );
L1369:
now
let C46 being set;
assume L1370: C46 in R48;
reconsider D33 = C46 as (Element of R33) by L1370;
set D34 = ( R45 . D33 );
L1371: D34 in ( R45 .: R48 ) by L1370 , L1355;
L1372: (ex R34 being (Element of R33) st (R34 in R47 & ( R45 . R34 ) = D34)) by L1371 , L1368 , L1359;
thus L1373: C46 in R47 by L1372 , FUNCT_2:58;
end;
L1374: R48 c= R47 by L1369 , TARSKI:def 3;
L1375:
now
let C47 being set;
assume L1376: C47 in R47;
reconsider D35 = C47 as (Element of R33) by L1376;
set D36 = ( R45 . D35 );
L1377: D36 in ( R45 .: R47 ) by L1376 , L1355;
L1378: (ex R35 being (Element of R33) st (R35 in R48 & ( R45 . R35 ) = D36)) by L1377 , L1368 , L1359;
thus L1379: C47 in R48 by L1378 , FUNCT_2:58;
end;
L1380: R47 c= R48 by L1375 , TARSKI:def 3;
thus L1381: thesis by L1380 , L1374 , XBOOLE_0:def 10;
end;
theorem
L1382: (for R33 being AffinSpace holds (for R34 being (Element of R33) holds (for R35 being (Element of R33) holds (for R45 being (Permutation of (the carrier of R33)) holds (R45 is  collineation implies ( R45 .: ( Line (R34 , R35) ) ) = ( Line (( R45 . R34 ) , ( R45 . R35 )) ))))))
proof
let R33 being AffinSpace;
let R34 being (Element of R33);
let R35 being (Element of R33);
let R45 being (Permutation of (the carrier of R33));
assume L1383: R45 is  collineation;
L1384:
now
let C48 being set;
assume L1385: C48 in ( Line (( R45 . R34 ) , ( R45 . R35 )) );
reconsider D37 = C48 as (Element of R33) by L1385;
consider R42 being (Element of R33) such that L1386: ( R45 . R42 ) = D37 by L3;
L1387:  LIN ( R45 . R34 ) , ( R45 . R35 ) , ( R45 . R42 ) by L1385 , L1386 , AFF_1:def 2;
L1388:  LIN R34 , R35 , R42 by L1387 , L1383 , L1347;
L1389: R42 in ( Line (R34 , R35) ) by L1388 , AFF_1:def 2;
thus L1390: C48 in ( R45 .: ( Line (R34 , R35) ) ) by L1389 , L1386 , L1359;
end;
L1391: ( Line (( R45 . R34 ) , ( R45 . R35 )) ) c= ( R45 .: ( Line (R34 , R35) ) ) by L1384 , TARSKI:def 3;
L1392:
now
let C49 being set;
assume L1393: C49 in ( R45 .: ( Line (R34 , R35) ) );
reconsider D38 = C49 as (Element of R33) by L1393;
consider R42 being (Element of R33) such that L1394: R42 in ( Line (R34 , R35) ) and L1395: ( R45 . R42 ) = D38 by L1393 , L1359;
L1396:  LIN R34 , R35 , R42 by L1394 , AFF_1:def 2;
L1397:  LIN ( R45 . R34 ) , ( R45 . R35 ) , D38 by L1396 , L1383 , L1395 , L1347;
thus L1398: C49 in ( Line (( R45 . R34 ) , ( R45 . R35 )) ) by L1397 , AFF_1:def 2;
end;
L1399: ( R45 .: ( Line (R34 , R35) ) ) c= ( Line (( R45 . R34 ) , ( R45 . R35 )) ) by L1392 , TARSKI:def 3;
thus L1400: thesis by L1399 , L1391 , XBOOLE_0:def 10;
end;
theorem
L1401: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (for R49 being (Subset of R33) holds ((R45 is  collineation & R49 is  being_line) implies ( R45 .: R49 ) is  being_line))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
let R49 being (Subset of R33);
assume that
L1402: R45 is  collineation
and
L1403: R49 is  being_line;
consider R34 being (Element of R33), R35 being (Element of R33) such that L1404: R34 <> R35 and L1405: R49 = ( Line (R34 , R35) ) by L1403 , AFF_1:def 3;
set D39 = ( R45 . R35 );
set D40 = ( R45 . R34 );
L1406: D40 <> D39 by L1404 , FUNCT_2:58;
L1407: ( R45 .: R49 ) = ( Line (D40 , D39) ) by L1402 , L1405 , L1382;
thus L1408: thesis by L1407 , L1406 , AFF_1:def 3;
end;
theorem
L1409: (for R33 being AffinSpace holds (for R45 being (Permutation of (the carrier of R33)) holds (for R47 being (Subset of R33) holds (for R48 being (Subset of R33) holds ((R45 is  collineation & R47 // R48) implies ( R45 .: R47 ) // ( R45 .: R48 ))))))
proof
let R33 being AffinSpace;
let R45 being (Permutation of (the carrier of R33));
let R47 being (Subset of R33);
let R48 being (Subset of R33);
assume that
L1410: R45 is  collineation
and
L1411: R47 // R48;
consider R34 being (Element of R33), R35 being (Element of R33), R36 being (Element of R33), R37 being (Element of R33) such that L1412: (R34 <> R35 & R36 <> R37) and L1413: R34 , R35 // R36 , R37 and L1414: (R47 = ( Line (R34 , R35) ) & R48 = ( Line (R36 , R37) )) by L1411 , AFF_1:37;
L1415: ( R45 . R34 ) , ( R45 . R35 ) // ( R45 . R36 ) , ( R45 . R37 ) by L1410 , L1413 , L1332;
L1416: (( R45 . R34 ) <> ( R45 . R35 ) & ( R45 . R36 ) <> ( R45 . R37 )) by L1412 , FUNCT_2:58;
L1417: (( R45 .: R47 ) = ( Line (( R45 . R34 ) , ( R45 . R35 )) ) & ( R45 .: R48 ) = ( Line (( R45 . R36 ) , ( R45 . R37 )) )) by L1410 , L1414 , L1382;
thus L1418: thesis by L1417 , L1416 , L1415 , AFF_1:37;
end;
theorem
L1419: (for R50 being AffinPlane holds (for R62 being (Permutation of (the carrier of R50)) holds ((for R51 being (Subset of R50) holds (R51 is  being_line implies ( R62 .: R51 ) is  being_line)) implies R62 is  collineation)))
proof
let R50 being AffinPlane;
let R62 being (Permutation of (the carrier of R50));
assume L1420: (for R51 being (Subset of R50) holds (R51 is  being_line implies ( R62 .: R51 ) is  being_line));
L1421: (for R55 being (Element of R50) holds (for R56 being (Element of R50) holds (R55 <> R56 implies ( R62 .: ( Line (R55 , R56) ) ) = ( Line (( R62 . R55 ) , ( R62 . R56 )) ))))
proof
let R55 being (Element of R50);
let R56 being (Element of R50);
set D41 = ( Line (R55 , R56) );
set D42 = ( R62 . R55 );
set D43 = ( R62 . R56 );
set D44 = ( Line (D42 , D43) );
set D45 = ( R62 .: D41 );
assume L1422: R55 <> R56;
L1423: D42 <> D43 by L1422 , FUNCT_2:58;
L1424: D44 is  being_line by L1423 , AFF_1:def 3;
L1425: D41 is  being_line by L1422 , AFF_1:def 3;
L1426: D45 is  being_line by L1425 , L1420;
L1427: R55 in D41 by AFF_1:15;
L1428: D42 in D45 by L1427 , L1355;
L1429: R56 in D41 by AFF_1:15;
L1430: D43 in D45 by L1429 , L1355;
L1431: (D42 in D44 & D43 in D44) by AFF_1:15;
thus L1432: thesis by L1431 , L1422 , L1424 , L1426 , L1428 , L1430 , AFF_1:18 , FUNCT_2:58;
end;
L1433: (for R51 being (Subset of R50) holds (( R62 .: R51 ) is  being_line implies R51 is  being_line))
proof
let R51 being (Subset of R50);
set D46 = ( R62 .: R51 );
assume L1434: ( R62 .: R51 ) is  being_line;
consider R60 being (Element of R50), R61 being (Element of R50) such that L1435: R60 <> R61 and L1436: D46 = ( Line (R60 , R61) ) by L1434 , AFF_1:def 3;
L1437: R61 in D46 by L1436 , AFF_1:15;
consider R56 being (Element of R50) such that L1438: R56 in R51 and L1439: ( R62 . R56 ) = R61 by L1437 , L1359;
L1440: R60 in D46 by L1436 , AFF_1:15;
consider R55 being (Element of R50) such that L1441: R55 in R51 and L1442: ( R62 . R55 ) = R60 by L1440 , L1359;
set D47 = ( Line (R55 , R56) );
L1443: (D47 is  being_line & ( R62 .: D47 ) = D46) by L1421 , L1435 , L1436 , L1442 , L1439 , AFF_1:def 3;
thus L1444: thesis by L1443 , L1367;
end;
L1445: (for R51 being (Subset of R50) holds (for R52 being (Subset of R50) holds (( R62 .: R51 ) // ( R62 .: R52 ) implies R51 // R52)))
proof
let R51 being (Subset of R50);
let R52 being (Subset of R50);
set D48 = ( R62 .: R51 );
set D49 = ( R62 .: R52 );
assume L1446: ( R62 .: R51 ) // ( R62 .: R52 );
L1447: D49 is  being_line by L1446 , AFF_1:36;
L1448: R52 is  being_line by L1447 , L1433;
L1449: D48 is  being_line by L1446 , AFF_1:36;
L1450: R51 is  being_line by L1449 , L1433;
L1451:
now
assume L1452: R51 <> R52;
assume L1453: (not R51 // R52);
consider R59 being (Element of R50) such that L1454: (R59 in R51 & R59 in R52) by L1453 , L1450 , L1448 , AFF_1:58;
set D50 = ( R62 . R59 );
L1455: (D50 in D48 & D50 in D49) by L1454 , L1355;
thus L1456: contradiction by L1455 , L1446 , L1452 , L1367 , AFF_1:45;
end;
thus L1457: thesis by L1451 , L1450 , AFF_1:41;
end;
L1458: (for R55 being (Element of R50) holds (for R56 being (Element of R50) holds (for R57 being (Element of R50) holds (for R58 being (Element of R50) holds (( R62 . R55 ) , ( R62 . R56 ) // ( R62 . R57 ) , ( R62 . R58 ) implies R55 , R56 // R57 , R58)))))
proof
let R55 being (Element of R50);
let R56 being (Element of R50);
let R57 being (Element of R50);
let R58 being (Element of R50);
set D51 = ( R62 . R55 );
set D52 = ( R62 . R56 );
set D53 = ( R62 . R57 );
set D54 = ( R62 . R58 );
assume L1459: ( R62 . R55 ) , ( R62 . R56 ) // ( R62 . R57 ) , ( R62 . R58 );
L1460:
now
set D55 = ( Line (R57 , R58) );
set D56 = ( Line (R55 , R56) );
set D57 = ( R62 .: D56 );
set D58 = ( R62 .: D55 );
L1461: (R57 in D55 & R58 in D55) by AFF_1:15;
assume L1462: (R55 <> R56 & R57 <> R58);
L1463: (D51 <> D52 & D53 <> D54) by L1462 , FUNCT_2:58;
L1464: (D57 = ( Line (D51 , D52) ) & D58 = ( Line (D53 , D54) )) by L1421 , L1462;
L1465: D57 // D58 by L1464 , L1459 , L1463 , AFF_1:37;
L1466: (R55 in D56 & R56 in D56) by AFF_1:15;
thus L1467: thesis by L1466 , L1445 , L1461 , L1465 , AFF_1:39;
end;
thus L1468: thesis by L1460 , AFF_1:3;
end;
L1469: (for R51 being (Subset of R50) holds (for R52 being (Subset of R50) holds (R51 // R52 implies ( R62 .: R51 ) // ( R62 .: R52 ))))
proof
let R51 being (Subset of R50);
let R52 being (Subset of R50);
assume L1470: R51 // R52;
L1471: R52 is  being_line by L1470 , AFF_1:36;
L1472: ( R62 .: R52 ) is  being_line by L1471 , L1420;
L1473: R51 is  being_line by L1470 , AFF_1:36;
L1474: ( R62 .: R51 ) is  being_line by L1473 , L1420;
L1475: ( R62 .: R51 ) // ( R62 .: R51 ) by L1474 , AFF_1:41;
L1476: (R51 <> R52 implies ( R62 .: R51 ) // ( R62 .: R52 ))
proof
assume L1477: R51 <> R52;
assume L1478: (not ( R62 .: R51 ) // ( R62 .: R52 ));
consider R60 being (Element of R50) such that L1479: R60 in ( R62 .: R51 ) and L1480: R60 in ( R62 .: R52 ) by L1478 , L1474 , L1472 , AFF_1:58;
consider R56 being (Element of R50) such that L1481: R56 in R52 and L1482: R60 = ( R62 . R56 ) by L1480 , L1359;
consider R55 being (Element of R50) such that L1483: R55 in R51 and L1484: R60 = ( R62 . R55 ) by L1479 , L1359;
L1485: R55 = R56 by L1484 , L1482 , FUNCT_2:58;
thus L1486: contradiction by L1485 , L1470 , L1477 , L1483 , L1481 , AFF_1:45;
end;
thus L1487: thesis by L1476 , L1475;
end;
L1488: (for R55 being (Element of R50) holds (for R56 being (Element of R50) holds (for R57 being (Element of R50) holds (for R58 being (Element of R50) holds (R55 , R56 // R57 , R58 implies ( R62 . R55 ) , ( R62 . R56 ) // ( R62 . R57 ) , ( R62 . R58 ))))))
proof
let R55 being (Element of R50);
let R56 being (Element of R50);
let R57 being (Element of R50);
let R58 being (Element of R50);
assume L1489: R55 , R56 // R57 , R58;
L1490:
now
set D59 = ( Line (R57 , R58) );
set D60 = ( Line (R55 , R56) );
set D61 = ( R62 .: D60 );
set D62 = ( R62 .: D59 );
L1491: R55 in D60 by AFF_1:15;
L1492: ( R62 . R55 ) in D61 by L1491 , L1355;
L1493: R56 in D60 by AFF_1:15;
L1494: ( R62 . R56 ) in D61 by L1493 , L1355;
L1495: R58 in D59 by AFF_1:15;
L1496: ( R62 . R58 ) in D62 by L1495 , L1355;
L1497: R57 in D59 by AFF_1:15;
L1498: ( R62 . R57 ) in D62 by L1497 , L1355;
assume L1499: (R55 <> R56 & R57 <> R58);
L1500: D60 // D59 by L1499 , L1489 , AFF_1:37;
thus L1501: thesis by L1500 , L1469 , L1492 , L1494 , L1498 , L1496 , AFF_1:39;
end;
thus L1502: thesis by L1490 , AFF_1:3;
end;
thus L1503: thesis by L1488 , L1458 , L1332;
end;
theorem
L1504: (for R50 being AffinPlane holds (for R54 being (Subset of R50) holds (for R59 being (Element of R50) holds (for R62 being (Permutation of (the carrier of R50)) holds ((R62 is  collineation & R54 is  being_line & (for R60 being (Element of R50) holds (R60 in R54 implies ( R62 . R60 ) = R60)) & (not R59 in R54) & ( R62 . R59 ) = R59) implies R62 = ( id (the carrier of R50) ))))))
proof
let R50 being AffinPlane;
let R54 being (Subset of R50);
let R59 being (Element of R50);
let R62 being (Permutation of (the carrier of R50));
assume that
L1505: R62 is  collineation
and
L1506: R54 is  being_line
and
L1507: (for R60 being (Element of R50) holds (R60 in R54 implies ( R62 . R60 ) = R60))
and
L1508: (not R59 in R54)
and
L1509: ( R62 . R59 ) = R59;
L1510: (for R60 being (Element of R50) holds ( R62 . R60 ) = R60)
proof
let R60 being (Element of R50);
L1511:
now
assume L1512: (not R60 in R54);
consider R55 being (Element of R50), R56 being (Element of R50) such that L1513: R55 in R54 and L1514: R56 in R54 and L1515: R55 <> R56 by L1506 , AFF_1:19;
set D63 = ( Line (R59 , R55) );
L1516: R59 in D63 by AFF_1:15;
L1517: ( R62 .: D63 ) = ( Line (( R62 . R59 ) , ( R62 . R55 )) ) by L1505 , L1382;
L1518: ( R62 .: D63 ) = D63 by L1517 , L1507 , L1509 , L1513;
L1519: D63 is  being_line by L1508 , L1513 , AFF_1:def 3;
consider R52 being (Subset of R50) such that L1520: R60 in R52 and L1521: D63 // R52 by L1519 , AFF_1:49;
L1522: R52 is  being_line by L1521 , AFF_1:36;
L1523: ( R62 .: D63 ) // ( R62 .: R52 ) by L1505 , L1521 , L1409;
L1524: ( R62 .: R52 ) // R52 by L1523 , L1521 , L1518 , AFF_1:44;
L1525: R55 in D63 by AFF_1:15;
L1526: (not R52 // R54)
proof
assume L1527: R52 // R54;
L1528: D63 // R54 by L1527 , L1521 , AFF_1:44;
thus L1529: contradiction by L1528 , L1508 , L1513 , L1516 , L1525 , AFF_1:45;
end;
consider R57 being (Element of R50) such that L1530: R57 in R52 and L1531: R57 in R54 by L1526 , L1506 , L1522 , AFF_1:58;
L1532: ( R62 . R57 ) = R57 by L1507 , L1531;
L1533: R57 in ( R62 .: R52 ) by L1532 , L1530 , L1355;
L1534: ( R62 .: R52 ) = R52 by L1533 , L1530 , L1524 , AFF_1:45;
set D64 = ( Line (R59 , R56) );
L1535: R56 in D64 by AFF_1:15;
L1536: ( R62 .: D64 ) = ( Line (( R62 . R59 ) , ( R62 . R56 )) ) by L1505 , L1382;
L1537: ( R62 .: D64 ) = D64 by L1536 , L1507 , L1509 , L1514;
L1538: D64 is  being_line by L1508 , L1514 , AFF_1:def 3;
consider R53 being (Subset of R50) such that L1539: R60 in R53 and L1540: D64 // R53 by L1538 , AFF_1:49;
L1541: R53 is  being_line by L1540 , AFF_1:36;
L1542: ( R62 .: D64 ) // ( R62 .: R53 ) by L1505 , L1540 , L1409;
L1543: ( R62 .: R53 ) // R53 by L1542 , L1540 , L1537 , AFF_1:44;
L1544: R59 in D64 by AFF_1:15;
L1545: (not R53 // R54)
proof
assume L1546: R53 // R54;
L1547: D64 // R54 by L1546 , L1540 , AFF_1:44;
thus L1548: contradiction by L1547 , L1508 , L1514 , L1544 , L1535 , AFF_1:45;
end;
consider R58 being (Element of R50) such that L1549: R58 in R53 and L1550: R58 in R54 by L1545 , L1506 , L1541 , AFF_1:58;
L1551: ( R62 . R58 ) = R58 by L1507 , L1550;
L1552: R58 in ( R62 .: R53 ) by L1551 , L1549 , L1355;
L1553: ( R62 .: R53 ) = R53 by L1552 , L1549 , L1543 , AFF_1:45;
L1554: D63 is  being_line by L1521 , AFF_1:36;
L1555: R60 = ( R62 . R60 )
proof
assume L1556: R60 <> ( R62 . R60 );
L1557: (( R62 . R60 ) in R52 & ( R62 . R60 ) in R53) by L1520 , L1539 , L1534 , L1553 , L1355;
L1558: R52 = R53 by L1557 , L1520 , L1539 , L1522 , L1541 , L1556 , AFF_1:18;
L1559: D63 // D64 by L1558 , L1521 , L1540 , AFF_1:44;
L1560: D63 = D64 by L1559 , L1516 , L1544 , AFF_1:45;
thus L1561: contradiction by L1560 , L1506 , L1508 , L1513 , L1514 , L1515 , L1554 , L1516 , L1525 , L1535 , AFF_1:18;
end;
thus L1562: thesis by L1555;
end;
thus L1563: thesis by L1511 , L1507;
end;
L1564: (for R60 being (Element of R50) holds ( R62 . R60 ) = ( ( id (the carrier of R50) ) . R60 ))
proof
let R60 being (Element of R50);
L1565: ( R62 . R60 ) = R60 by L1510;
thus L1566: thesis by L1565 , FUNCT_1:18;
end;
thus L1567: thesis by L1564 , FUNCT_2:63;
end;
