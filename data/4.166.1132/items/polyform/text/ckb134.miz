environ
vocabularies NUMBERS,TARSKI,FUNCT_1,CARD_1,RELAT_1,NAT_1,INT_1,XXREAL_0,SUBSET_1,ABIAN,ARYTM_3,ARYTM_1,NEWTON,POWER,FINSEQ_1,ORDINAL4,CARD_3,XBOOLE_0,BSPACE,FUNCT_2,ZFMISC_1,SUPINF_2,MESFUNC1,FUNCOP_1,PRE_POLY,RLVECT_5,FINSET_1,VECTSP_1,QC_LANG1,RLVECT_3,STRUCT_0,FINSEQ_2,RANKNULL,RLSUB_1,VECTSP10,ORDINAL2,POLYFORM,MSSUBFAM,UNIALG_1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,BINOP_1,CARD_1,NUMBERS,FUNCOP_1,FINSET_1,XCMPLX_0,XXREAL_0,NAT_1,INT_1,CARD_2,FINSEQ_1,FINSEQ_2,POWER,RVSUM_1,NEWTON,ABIAN,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,VECTSP_4,VECTSP_5,VECTSP_7,FVSUM_1,MATRLIN,VECTSP_9,RANKNULL,BSPACE,PRE_POLY,GRCAT_1,MOD_2,CKB4,CKB12,CKB24,CKB25,CKB26,CKB27,CKB31,CKB33,CKB34,CKB35,CKB36,CKB38,CKB39,CKB40,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB55,CKB59,CKB60,CKB63,CKB64,CKB74,CKB76,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB88,CKB90,CKB91,CKB92,CKB94,CKB96,CKB98;
definitions XBOOLE_0,BINOP_1,STRUCT_0,TARSKI,FVSUM_1,FINSEQ_1,BSPACE,RANKNULL,ALGSTR_0,CKB34,CKB35,CKB36,CKB39,CKB40,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB55,CKB59,CKB60,CKB63,CKB64,CKB74,CKB76,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB88,CKB90,CKB91,CKB92,CKB94,CKB96,CKB98;
theorems XBOOLE_0,FUNCT_1,RELAT_1,XBOOLE_1,TARSKI,ZFMISC_1,FUNCT_2,GROUP_1,RLVECT_1,VECTSP_1,FVSUM_1,FINSEQ_2,CARD_1,FINSEQ_1,NAT_1,FINSOP_1,VECTSP_4,BSPACE,RANKNULL,VECTSP_9,ORDINAL1,NEWTON,RVSUM_1,GR_CY_1,FUNCOP_1,XREAL_1,XXREAL_0,INT_1,POWER,FIB_NUM2,NUMBERS,CARD_2,FINSEQ_3,SUBSET_1,MOD_2,MATRIX_3,CALCUL_1,RELSET_1,GRCAT_1,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB21,CKB22,CKB23,CKB28,CKB29,CKB30,CKB32,CKB34,CKB35,CKB36,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB103,CKB104,CKB105,CKB106,CKB107,CKB108,CKB109,CKB110,CKB111,CKB113,CKB114,CKB115,CKB116,CKB117,CKB118,CKB119,CKB120,CKB121,CKB122,CKB123,CKB124,CKB125,CKB126,CKB127,CKB128,CKB129,CKB130,CKB131,CKB132,CKB133;
schemes FUNCT_2,FINSEQ_1,FINSEQ_2,CKB73;
registrations FINSET_1,XBOOLE_0,FUNCT_1,FUNCT_2,RELAT_1,SUBSET_1,NAT_1,INT_1,VECTSP_1,STRUCT_0,FINSEQ_1,FINSEQ_2,CARD_1,MATRLIN,BSPACE,ORDINAL1,NEWTON,FUNCOP_1,ABIAN,XREAL_0,NUMBERS,JORDAN23,PRE_POLY,XCMPLX_0,XXREAL_0,VALUED_0,PARTFUN1,RELSET_1,CKB18,CKB33,CKB37,CKB80,CKB112;
constructors VECTSP_9,REALSET1,FINSOP_1,XXREAL_0,FVSUM_1,WELLORD2,BSPACE,REAL_1,BINOP_2,RANKNULL,VECTSP_7,VECTSP_5,NEWTON,GR_CY_1,ABIAN,POWER,CARD_2,RELSET_1,CKB4,CKB12,CKB24,CKB25,CKB26,CKB27,CKB33,CKB34,CKB35,CKB36,CKB39,CKB40,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB55,CKB59,CKB60,CKB63,CKB64,CKB74,CKB76,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB88,CKB90,CKB91,CKB92,CKB94;
requirements NUMERALS,BOOLE,ARITHM,SUBSET,REAL;
begin
reserve p for polyhedron;
theorem
Th89: (p is  simply-connected implies p is  eulerian)
proof
assume A1: p is  simply-connected;
set apcs = ( alternating-proper-f-vector p );
per cases ;
suppose ( dim p ) = ( 0 );

hence thesis by CKB133:1;
end;
suppose A2: ( dim p ) > ( 0 );

deffunc B(Nat) = ( ( ( - 1 ) |^ ( $1 + 1 ) ) * ( dim ( ( $1 - 1 ) -circuit-space p ) ) );
deffunc A(Nat) = ( ( ( - 1 ) |^ ( $1 + 1 ) ) * ( dim ( ( $1 - 2 ) -bounding-chain-space p ) ) );
consider a being FinSequence such that A3: ( len a ) = ( len apcs ) and A4: (for n being Nat holds (n in ( dom a ) implies ( a . n ) = A(n))) from FINSEQ_1:sch 2;
A5: ( rng a ) c= ( INT )
proof
let y being set;
assume y in ( rng a );
then consider x being set such that A6: x in ( dom a ) and A7: y = ( a . x ) by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A6;
( a . x ) = ( ( ( - 1 ) |^ ( x + 1 ) ) * ( dim ( ( x - 2 ) -bounding-chain-space p ) ) ) by A4,A6;
hence thesis by A7;
end;
consider b being FinSequence such that A8: ( len b ) = ( len apcs ) and A9: (for n being Nat holds (n in ( dom b ) implies ( b . n ) = B(n))) from FINSEQ_1:sch 2;
( rng b ) c= ( INT )
proof
let y being set;
assume y in ( rng b );
then consider x being set such that A10: x in ( dom b ) and A11: y = ( b . x ) by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A10;
( b . x ) = ( ( ( - 1 ) |^ ( x + 1 ) ) * ( dim ( ( x - 1 ) -circuit-space p ) ) ) by A9,A10;
hence thesis by A11;
end;
then reconsider a,b as (FinSequence of ( INT )) by A5,FINSEQ_1:def 4;
A12: ( len apcs ) > ( 0 ) by A2,CKB91:def 1;
A13: ( a . 1 ) = 1
proof
reconsider egy = 1 as (Element of ( NAT ));
1 <= ( (( 0 ) qua Nat) + 1 );
then egy <= ( len apcs ) by A12,NAT_1:13;
then egy in ( dom a ) by A3,FINSEQ_3:25;
then ( a . egy ) = ( ( ( - 1 ) |^ ( 1 + 1 ) ) * ( dim ( ( egy - 2 ) -bounding-chain-space p ) ) ) by A4
.= ( 1 * ( dim ( ( egy - 2 ) -bounding-chain-space p ) ) ) by CKB6:1,CKB9:1
.= 1 by CKB107:1;
hence thesis;
end;
A14: (for n being Nat holds ((1 <= n & n < ( len apcs )) implies ( b . n ) = ( - ( a . ( n + 1 ) ) )))
proof
let n being Nat;
assume that
A15: 1 <= n
and
A16: n < ( len apcs );
A17: n in ( dom b ) by A8,A15,A16,FINSEQ_3:25;
reconsider n as (Element of ( NAT )) by ORDINAL1:def 12;
A18: ( b . n ) = ( ( ( - 1 ) |^ ( n + 1 ) ) * ( dim ( ( n - 1 ) -circuit-space p ) ) ) by A9,A17;
A19: 1 <= ( n + 1 ) by NAT_1:11;
( n + 1 ) <= ( len apcs ) by A16,INT_1:7;
then ( n + 1 ) in ( dom a ) by A3,A19,FINSEQ_3:25;
then ( a . ( n + 1 ) ) = A(( n + 1 )) by A4
.= ( ( ( ( - 1 ) |^ ( n + 1 ) ) * ( ( - 1 ) |^ 1 ) ) * ( dim ( ( n - 1 ) -bounding-chain-space p ) ) ) by NEWTON:8
.= ( ( ( ( - 1 ) |^ ( n + 1 ) ) * ( - 1 ) ) * ( dim ( ( n - 1 ) -bounding-chain-space p ) ) ) by NEWTON:5
.= ( - ( ( ( - 1 ) |^ ( n + 1 ) ) * ( dim ( ( n - 1 ) -bounding-chain-space p ) ) ) )
.= ( - ( b . n ) ) by A1,A18,CKB89:1;
hence thesis;
end;
A20: ( b . ( len apcs ) ) = ( ( - 1 ) |^ ( ( dim p ) + 1 ) )
proof
reconsider n = ( len apcs ) as (Element of ( NAT ));
A21: n = ( dim p ) by CKB91:def 1;
( (( 0 ) qua Nat) + 1 ) = 1;
then 1 <= ( len apcs ) by A12,NAT_1:13;
then n in ( dom b ) by A8,FINSEQ_3:25;
then ( b . n ) = B(n) by A9
.= ( ( ( - 1 ) |^ ( n + 1 ) ) * 1 ) by A1,A21,CKB125:1
.= ( ( - 1 ) |^ ( n + 1 ) );
hence thesis by CKB91:def 1;
end;
(for n being Nat holds ((1 <= n & n <= ( len apcs )) implies ( apcs . n ) = ( ( a . n ) + ( b . n ) )))
proof
let n being Nat;
assume that
A22: (1 <= n & n <= ( len apcs ));
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
n9 in ( dom a ) by A3,A22,FINSEQ_3:25;
then A23: ( a . n9 ) = ( ( ( - 1 ) |^ ( n9 + 1 ) ) * ( dim ( ( n9 - 2 ) -bounding-chain-space p ) ) ) by A4;
(( apcs . n ) = ( ( ( ( - 1 ) |^ ( n + 1 ) ) * ( dim ( ( n - 2 ) -bounding-chain-space p ) ) ) + ( ( ( - 1 ) |^ ( n + 1 ) ) * ( dim ( ( n - 1 ) -circuit-space p ) ) ) ) & n9 in ( dom b )) by A8,A22,CKB93:1,FINSEQ_3:25;
hence thesis by A9,A23;
end;
then ( Sum apcs ) = ( ( a . 1 ) + ( b . ( len apcs ) ) ) by A12,A3,A8,A14,CKB19:1;
hence thesis by A13,A20,CKB94:def 1;
end;
end;
