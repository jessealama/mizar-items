environ
vocabularies NUMBERS,RLVECT_1,ALGSTR_0,XBOOLE_0,FINSEQ_1,NAT_1,RELAT_1,ARYTM_3,TARSKI,ORDINAL4,PARTFUN1,XXREAL_0,FUNCT_1,SUBSET_1,STRUCT_0,BINOP_1,VECTSP_1,LATTICES,SUPINF_2,ARYTM_1,GROUP_1,CARD_1,MESFUNC1,COMPLFLD,COMPLEX1,CARD_3,POLYNOM1,POLYNOM3,SGRAPH1,INT_1,ALGSEQ_1,VECTSP_2,POLYNOM5,AFINSQ_1,POLYNOM2,FUNCT_4,FUNCOP_1,XCMPLX_0,SQUARE_1,HURWITZ;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,NUMBERS,XCMPLX_0,ALGSTR_0,VECTSP_2,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,NAT_1,NAT_D,XXREAL_0,FINSEQ_1,INT_1,FUNCOP_1,STRUCT_0,RLVECT_1,VFUNCT_1,GROUP_1,POLYNOM1,COMPLEX1,COMPLFLD,BINOP_1,NORMSP_1,BHSP_1,ALGSEQ_1,FUNCT_4,POLYNOM3,POLYNOM4,POLYNOM5,VECTSP_1,SQUARE_1,CKB18,CKB27,CKB28,CKB40,CKB47;
definitions FINSEQ_1,POLYNOM3,COMPLEX1,SQUARE_1,FUNCOP_1,CKB18,CKB27,CKB40,CKB47;
theorems GROUP_1,VECTSP_1,ALGSEQ_1,NAT_1,FUNCT_1,FUNCT_2,XREAL_1,SQUARE_1,VECTSP_2,INT_1,FINSEQ_1,RLVECT_1,POLYNOM4,TARSKI,FUNCT_4,POLYNOM3,XBOOLE_1,POLYNOM2,FUNCOP_1,XCMPLX_1,XCMPLX_0,COMPLFLD,POLYNOM5,XXREAL_0,ALGSTR_1,COMPLEX1,FINSEQ_2,POLYNOM1,FINSEQ_3,BHSP_1,NORMSP_1,ORDINAL1,PARTFUN1,XREAL_0,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50;
schemes NAT_1,FUNCT_2,FINSEQ_1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,XCMPLX_0,XXREAL_0,XREAL_0,SQUARE_1,NAT_1,INT_1,MEMBERED,FINSEQ_1,STRUCT_0,VECTSP_1,COMPLFLD,ALGSTR_1,GCD_1,POLYNOM3,POLYNOM4,POLYNOM5,FUNCOP_1,CARD_1,VFUNCT_1,FUNCT_2;
constructors BINOP_1,REAL_1,SQUARE_1,FINSOP_1,BINARITH,VECTSP_2,ALGSTR_1,BHSP_1,POLYNOM1,POLYNOM4,POLYNOM5,SEQ_1,BINOP_2,NAT_D,RELSET_1,FVSUM_1,VFUNCT_1,CKB18,CKB27,CKB40,CKB47;
requirements NUMERALS,SUBSET,REAL,BOOLE,ARITHM;
begin
definition
let L being  Abelian  add-associative  right_zeroed  right_complementable  well-unital  associative  commutative  distributive  almost_left_invertible non  empty doubleLoopStr;
let p being (Polynomial of L);
let s being (Polynomial of L);
assume that
A1: s <> ( 0_. L );
func p div s -> (Polynomial of L) means 
:Def5: (ex t being (Polynomial of L) st (p = ( ( it *' s ) + t ) & ( deg t ) < ( deg s )));
existence
proof
set M = { ( p - ( u *' s ) ) where u is (Polynomial of L): 1 = 1 };
defpred P[ Nat ]
 means
(ex t being (Polynomial of L) st (t in M & ( len t ) = $1));
A2: ( len s ) <> ( 0 ) by A1,POLYNOM4:5;
then ( ( len s ) + 1 ) > ( ( 0 ) + 1 ) by XREAL_1:6;
then ( len s ) >= 1 by NAT_1:13;
then A3: ( ( len s ) - 1 ) >= ( 1 - 1 ) by XREAL_1:9;
( s . ( ( len s ) - 1 ) ) <> ( 0. L ) by A2,CKB29:1;
then A4: ( s . ( ( len s ) -' 1 ) ) <> ( 0. L ) by A3,XREAL_0:def 2;
p = ( p + ( 0_. L ) ) by POLYNOM3:28
.= ( p + ( - ( 0_. L ) ) ) by CKB13:1
.= ( p - ( ( 0_. L ) *' s ) ) by POLYNOM4:2;
then p in M;
then (ex t being (Polynomial of L) st (t in M & ( len t ) = ( len p )));
then A5: (ex k being Nat st P[ k ]);
consider k being Nat such that A6: (P[ k ] & (for n being Nat holds (P[ n ] implies k <= n))) from NAT_1:sch 5(A5);
consider f being (Polynomial of L) such that A7: f in M and A8: ( len f ) = k by A6;
consider g being (Polynomial of L) such that A9: f = ( p - ( g *' s ) ) and 1 = 1 by A7;
take g;
A10: ( ( g *' s ) + ( p - ( g *' s ) ) ) = ( ( ( g *' s ) + ( - ( g *' s ) ) ) + p ) by POLYNOM3:26
.= ( ( ( g *' s ) - ( g *' s ) ) + p )
.= ( ( 0_. L ) + p ) by POLYNOM3:29
.= p by POLYNOM3:28;
per cases ;
suppose A11: f = ( 0_. L );

reconsider s9 = ( deg s ) as Nat by A1,CKB32:1;
A12: s9 >= ( 0 );
( deg f ) = ( - 1 ) by A11,CKB30:1;
hence thesis by A9,A10,A12;
end;
suppose f <> ( 0_. L );

then ( len f ) <> ( 0 ) by POLYNOM4:5;
then ( ( len f ) + 1 ) > ( ( 0 ) + 1 ) by XREAL_1:6;
then ( len f ) >= 1 by NAT_1:13;
then A13: ( ( len f ) - 1 ) >= ( 1 - 1 ) by XREAL_1:9;
then reconsider k9 = ( ( len f ) - 1 ) as (Element of ( NAT )) by INT_1:3;
A14: k = ( k9 + 1 ) by A8;
( dom f ) = ( NAT ) by FUNCT_2:def 1;
then A15: k9 in ( dom f );
now
assume ( deg f ) >= ( deg s );
then reconsider degn = ( ( deg f ) - ( deg s ) ) as (Element of ( NAT )) by INT_1:5;
set al = ( ( f . ( ( len f ) -' 1 ) ) * ( ( s . ( ( len s ) -' 1 ) ) " ) );
set g1 = ( ( 0_. L ) +* ( { degn } --> al ) );
A16: ( dom ( 0_. L ) ) = ( NAT ) by FUNCT_2:def 1;
now
let u being set;
assume u in { degn };
then u = degn by TARSKI:def 1;
hence u in ( NAT );
end;
then A17: { degn } c= ( NAT ) by TARSKI:def 3;
A18: degn in { degn } by TARSKI:def 1;
A19:now
let x9 being set;
assume x9 in ( NAT );
then reconsider x = x9 as (Element of ( NAT ));
per cases ;
suppose A20: x in ( dom ( { degn } --> al ) );

then x = degn by TARSKI:def 1;
then ( g1 . x ) = ( ( { degn } --> al ) . degn ) by A20,FUNCT_4:13
.= al by A18,FUNCOP_1:7;
hence ( g1 . x9 ) in (the carrier of L);
end;
suppose (not x in ( dom ( { degn } --> al ) ));

then ( g1 . x ) = ( ( 0_. L ) . x ) by FUNCT_4:11
.= ( 0. L ) by FUNCOP_1:7;
hence ( g1 . x9 ) in (the carrier of L);
end;
end;
( dom ( { degn } --> al ) ) = { degn } by FUNCOP_1:13;
then ( ( dom ( 0_. L ) ) \/ ( dom ( { degn } --> al ) ) ) = ( NAT ) by A16,A17,XBOOLE_1:12;
then ( dom g1 ) = ( NAT ) by FUNCT_4:def 1;
then reconsider g1 as (sequence of L) by A19,FUNCT_2:3;
A21: (for j being Nat holds (j <> degn implies ( g1 . j ) = ( 0. L )))
proof
let j being Nat;
A22: j in ( NAT ) by ORDINAL1:def 12;
assume j <> degn;
then (not j in ( dom ( { degn } --> al ) )) by TARSKI:def 1;
hence ( g1 . j ) = ( ( 0_. L ) . j ) by FUNCT_4:11
.= ( 0. L ) by A22,FUNCOP_1:7;
end;
A23: (ex l being Nat st (for i being Nat holds (i >= l implies ( g1 . i ) = ( 0. L ))))
proof
take l = ( degn + 1 );
now
let i being Nat;
assume i >= l;
then i <> degn by NAT_1:13;
hence ( g1 . i ) = ( 0. L ) by A21;
end;
hence thesis;
end;
A24: degn in { degn } by TARSKI:def 1;
then degn in ( dom ( { degn } --> al ) ) by FUNCOP_1:13;
then A25: ( g1 . degn ) = ( ( { degn } --> al ) . degn ) by FUNCT_4:13
.= al by A24,FUNCOP_1:7;
reconsider g1 as (Polynomial of L) by A23,ALGSEQ_1:def 1;
set s1 = ( p - ( ( g + g1 ) *' s ) );
now
A26: 1 <= ( degn + 1 ) by NAT_1:11;
let i being Nat;
A27: ( dom f ) = ( NAT ) by FUNCT_2:def 1;
assume A28: i >= k9;
then A29: ( i + 1 ) >= k by A14,XREAL_1:6;
( degn + 1 ) = ( k - ( deg s ) ) by A8;
then A30: ( degn + 1 ) <= k by A3,XREAL_1:43;
then A31: ( ( i + 1 ) - ( degn + 1 ) ) is (Element of ( NAT )) by A29,INT_1:5,XXREAL_0:2;
A32: i in ( NAT ) by ORDINAL1:def 12;
then consider sf being (FinSequence of L) such that A33: ( len sf ) = ( i + 1 ) and A34: ( ( g1 *' s ) . i ) = ( Sum sf ) and A35: (for m being (Element of ( NAT )) holds (m in ( dom sf ) implies ( sf . m ) = ( ( g1 . ( m -' 1 ) ) * ( s . ( ( i + 1 ) -' m ) ) ))) by POLYNOM3:def 9;
A36: ( dom sf ) = ( Seg ( len sf ) ) by FINSEQ_1:def 3;
( i + 1 ) >= ( degn + 1 ) by A30,A29,XXREAL_0:2;
then A37: ( degn + 1 ) in ( dom sf ) by A33,A36,A26;
A38:now
let m being Nat;
assume that
A39: m in ( dom sf )
and
A40: m <> ( degn + 1 );
1 <= m by A36,A39,FINSEQ_1:1;
then ( m - 1 ) >= ( 1 - 1 ) by XREAL_1:9;
then ( m -' 1 ) = ( m - 1 ) by XREAL_0:def 2;
then ( m -' 1 ) <> degn by A40;
hence ( g1 . ( m -' 1 ) ) = ( 0. L ) by A21;
end;
now
let i9 being (Element of ( NAT ));
assume that
A41: i9 in ( dom sf )
and
A42: i9 <> ( degn + 1 );
( sf . i9 ) = ( ( g1 . ( i9 -' 1 ) ) * ( s . ( ( i + 1 ) -' i9 ) ) ) by A35,A41
.= ( ( 0. L ) * ( s . ( ( i + 1 ) -' i9 ) ) ) by A38,A41,A42
.= ( 0. L ) by VECTSP_1:7;
hence ( sf /. i9 ) = ( 0. L ) by A41,PARTFUN1:def 6;
end;
then A43: ( Sum sf ) = ( sf /. ( degn + 1 ) ) by A37,POLYNOM2:3
.= ( sf . ( degn + 1 ) ) by A37,PARTFUN1:def 6
.= ( ( g1 . ( ( degn + 1 ) -' 1 ) ) * ( s . ( ( i + 1 ) -' ( degn + 1 ) ) ) ) by A35,A37
.= ( al * ( s . ( ( i + 1 ) -' ( degn + 1 ) ) ) ) by A25,NAT_D:34;
A44: ( s1 - f ) = ( ( p + ( - ( ( g + g1 ) *' s ) ) ) + ( ( - p ) + ( - ( - ( g *' s ) ) ) ) ) by A9,CKB16:1
.= ( ( ( p + ( - ( ( g + g1 ) *' s ) ) ) + ( - p ) ) + ( - ( - ( g *' s ) ) ) ) by POLYNOM3:26
.= ( ( ( p - p ) + ( - ( ( g + g1 ) *' s ) ) ) + ( - ( - ( g *' s ) ) ) ) by POLYNOM3:26
.= ( ( ( 0_. L ) + ( - ( ( g + g1 ) *' s ) ) ) + ( - ( - ( g *' s ) ) ) ) by POLYNOM3:29
.= ( ( - ( ( g + g1 ) *' s ) ) + ( - ( - ( g *' s ) ) ) ) by POLYNOM3:28
.= ( ( ( - ( g + g1 ) ) *' s ) + ( - ( - ( g *' s ) ) ) ) by CKB17:1
.= ( ( ( ( - g ) + ( - g1 ) ) *' s ) + ( - ( - ( g *' s ) ) ) ) by CKB16:1
.= ( ( ( ( - g ) + ( - g1 ) ) *' s ) + ( g *' s ) ) by CKB12:1
.= ( ( ( ( - g ) *' s ) + ( ( - g1 ) *' s ) ) + ( g *' s ) ) by POLYNOM3:32
.= ( ( ( - g1 ) *' s ) + ( ( ( - g ) *' s ) + ( g *' s ) ) ) by POLYNOM3:26
.= ( ( ( - g1 ) *' s ) + ( ( g *' s ) - ( g *' s ) ) ) by CKB17:1
.= ( ( ( - g1 ) *' s ) + ( 0_. L ) ) by POLYNOM3:29
.= ( ( - g1 ) *' s ) by POLYNOM3:28
.= ( - ( g1 *' s ) ) by CKB17:1;
A45: ( dom ( g1 *' s ) ) = ( NAT ) by FUNCT_2:def 1;
s1 = ( s1 + ( 0_. L ) ) by POLYNOM3:28
.= ( s1 + ( f - f ) ) by POLYNOM3:29
.= ( ( s1 + ( - f ) ) + f ) by POLYNOM3:26
.= ( f - ( g1 *' s ) ) by A44;
then A46: ( s1 . i ) = ( ( f . i ) + ( ( - ( g1 *' s ) ) . i ) ) by A32,NORMSP_1:def 2
.= ( ( f . i ) + ( - ( ( g1 *' s ) . i ) ) ) by A32,BHSP_1:44
.= ( ( f /. i ) + ( - ( ( g1 *' s ) . i ) ) ) by A32,A27,PARTFUN1:def 6
.= ( ( f /. i ) + ( - ( ( g1 *' s ) /. i ) ) ) by A32,A45,PARTFUN1:def 6;
A47: i in ( NAT ) by ORDINAL1:def 12;
per cases  by A28,XXREAL_0:1;
suppose A48: i > k9;

then reconsider e = ( i - k9 ) as (Element of ( NAT )) by INT_1:5;
( i - k9 ) > ( k9 - k9 ) by A48,XREAL_1:9;
then ( e + 1 ) > ( ( 0 ) + 1 ) by XREAL_1:6;
then e >= 1 by NAT_1:13;
then ( ( i - k9 ) - 1 ) >= ( 1 - 1 ) by XREAL_1:9;
then A49: ( ( ( i - k9 ) - 1 ) + ( len s ) ) >= ( ( 0 ) + ( len s ) ) by XREAL_1:6;
( i + 1 ) > ( k9 + 1 ) by A48,XREAL_1:6;
then i >= ( len f ) by NAT_1:13;
then ( f . i ) = ( 0. L ) by ALGSEQ_1:8;
then A50: ( f /. i ) = ( 0. L ) by A27,A47,PARTFUN1:def 6;
( ( i + 1 ) -' ( degn + 1 ) ) = ( ( i - k9 ) + ( ( len s ) - 1 ) ) by A31,XREAL_0:def 2;
then ( s . ( ( i + 1 ) -' ( degn + 1 ) ) ) = ( 0. L ) by A49,ALGSEQ_1:8;
then ( Sum sf ) = ( 0. L ) by A43,VECTSP_1:6;
hence ( s1 . i ) = ( ( 0. L ) + ( - ( 0. L ) ) ) by A45,A46,A34,A47,A50,PARTFUN1:def 6
.= ( ( 0. L ) + ( 0. L ) ) by RLVECT_1:12
.= ( 0. L ) by RLVECT_1:def 4;
end;
suppose A51: i = k9;

( ( i + 1 ) -' ( degn + 1 ) ) = ( ( i + 1 ) - ( degn + 1 ) ) by A31,XREAL_0:def 2
.= ( ( len s ) -' 1 ) by A3,A51,XREAL_0:def 2;
then ( Sum sf ) = ( ( f . ( ( len f ) -' 1 ) ) * ( ( ( s . ( ( len s ) -' 1 ) ) " ) * ( s . ( ( len s ) -' 1 ) ) ) ) by A43,GROUP_1:def 3
.= ( ( f . ( ( len f ) -' 1 ) ) * ( 1_ L ) ) by A4,VECTSP_1:def 10
.= ( f . ( ( len f ) -' 1 ) ) by VECTSP_1:def 4
.= ( f . ( ( len f ) - 1 ) ) by A13,XREAL_0:def 2
.= ( f /. ( ( len f ) - 1 ) ) by A15,PARTFUN1:def 6;
hence ( s1 . i ) = ( ( f /. ( ( len f ) - 1 ) ) + ( - ( f /. ( ( len f ) - 1 ) ) ) ) by A45,A46,A34,A51,PARTFUN1:def 6
.= ( 0. L ) by RLVECT_1:5;
end;
end;
then k9 is_at_least_length_of s1 by ALGSEQ_1:def 2;
then ( len s1 ) <= k9 by ALGSEQ_1:def 3;
then A52: ( len s1 ) < k by A14,NAT_1:13;
s1 in M;
hence contradiction by A6,A52;
end;
hence thesis by A9,A10;
end;
end;
uniqueness
proof
let f1 being (Polynomial of L);
let f2 being (Polynomial of L);
given t1 being (Polynomial of L) such that
A53: p = ( ( f1 *' s ) + t1 )
and
A54: ( deg t1 ) < ( deg s );

given t2 being (Polynomial of L) such that
A55: p = ( ( f2 *' s ) + t2 )
and
A56: ( deg t2 ) < ( deg s );

A57: ( ( f2 - f1 ) *' s ) = ( ( f2 *' s ) + ( ( - f1 ) *' s ) ) by POLYNOM3:32
.= ( ( f2 *' s ) - ( f1 *' s ) ) by CKB17:1;
( f2 *' s ) = ( ( f2 *' s ) + ( 0_. L ) ) by POLYNOM3:28
.= ( ( f2 *' s ) + ( t2 - t2 ) ) by POLYNOM3:29
.= ( ( ( f1 *' s ) + t1 ) + ( - t2 ) ) by A53,A55,POLYNOM3:26;
then A58: ( ( f2 *' s ) - ( f1 *' s ) ) = ( ( ( f1 *' s ) + ( t1 + ( - t2 ) ) ) + ( - ( f1 *' s ) ) ) by POLYNOM3:26
.= ( ( t1 + ( - t2 ) ) + ( ( f1 *' s ) - ( f1 *' s ) ) ) by POLYNOM3:26
.= ( ( t1 + ( - t2 ) ) + ( 0_. L ) ) by POLYNOM3:29
.= ( t1 - t2 ) by POLYNOM3:28;
now
assume A59: f1 <> f2;
A60:now
assume ( f2 - f1 ) = ( 0_. L );
then f1 = ( ( f2 + ( - f1 ) ) + f1 ) by POLYNOM3:28
.= ( f2 + ( f1 - f1 ) ) by POLYNOM3:26
.= ( f2 + ( 0_. L ) ) by POLYNOM3:29;
hence contradiction by A59,POLYNOM3:28;
end;
then reconsider d = ( deg ( f2 - f1 ) ),degs = ( deg s ) as Nat by A1,CKB32:1;
( deg ( t1 - t2 ) ) <= ( max (( deg t1 ),( deg ( - t2 ) )) ) by CKB35:1;
then A61: ( deg ( t1 - t2 ) ) <= ( max (( deg t1 ),( deg t2 )) ) by POLYNOM4:8;
A62: ( deg ( t1 - t2 ) ) < degs
proof
per cases  by XXREAL_0:16;
suppose ( max (( deg t1 ),( deg t2 )) ) = ( deg t1 );

hence thesis by A54,A61,XXREAL_0:2;
end;
suppose ( max (( deg t1 ),( deg t2 )) ) = ( deg t2 );

hence thesis by A56,A61,XXREAL_0:2;
end;
end;
( deg ( t1 - t2 ) ) = ( d + degs ) by A1,A58,A57,A60,CKB36:1;
hence contradiction by A62,NAT_1:11;
end;
hence thesis;
end;
end;
