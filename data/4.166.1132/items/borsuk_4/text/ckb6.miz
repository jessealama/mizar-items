environ
vocabularies NUMBERS,ZFMISC_1,TOPREAL2,PRE_TOPC,EUCLID,XBOOLE_0,SUBSET_1,TARSKI,STRUCT_0,FUNCT_1,RELAT_1,FUNCT_4,PARTFUN1,TOPREAL1,XREAL_0,ORDINAL1,XXREAL_0,ARYTM_3,CARD_1,ARYTM_1,BORSUK_1,XXREAL_1,TOPMETR,CONNSP_1,INTEGRA1,REAL_1,RELAT_2,RCOMP_1,XXREAL_2,ORDINAL2,SEQ_4,T_0TOPSP,TOPS_2,RLTOPSP1,TREAL_1,VALUED_1,JORDAN2C,BORSUK_4,FUNCT_2,MEASURE5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_2,XREAL_0,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,MEMBERED,DOMAIN_1,RCOMP_1,FUNCT_4,XXREAL_0,STRUCT_0,PRE_TOPC,COMPTS_1,RLTOPSP1,EUCLID,TOPREAL1,TOPREAL2,SEQ_4,TREAL_1,CONNSP_1,BORSUK_1,BORSUK_3,TSEP_1,TOPMETR,MEASURE5,MEASURE6,INTEGRA1,TOPS_2,JORDAN2C;
definitions XBOOLE_0,TARSKI,CONNSP_1,PARTFUN1,JORDAN1,SUBSET_1,STRUCT_0,RELAT_1;
theorems TOPS_2,T_0TOPSP,BORSUK_1,PRE_TOPC,COMPTS_1,TARSKI,TOPMETR,TOPREAL1,RCOMP_1,CONNSP_1,ZFMISC_1,JORDAN5A,XREAL_0,STRUCT_0,TOPREAL6,MEASURE6,TREAL_1,XBOOLE_0,XBOOLE_1,JORDAN6,SEQ_4,INTEGRA1,INTEGRA2,TSEP_1,TOPREAL2,JORDAN5B,FUNCT_2,FUNCT_1,GOBOARD9,RELAT_1,PARTFUN1,RFUNCT_2,BORSUK_3,FUNCT_4,JGRAPH_2,TOPMETR2,TEX_2,REALSET1,XREAL_1,FRECHET,ENUMSET1,JORDAN2C,XXREAL_0,XXREAL_1,XXREAL_2,SUBSET_1,MEASURE5,CKB2,CKB3,CKB4,CKB5;
registrations XBOOLE_0,RELSET_1,FUNCT_2,XXREAL_0,XREAL_0,MEMBERED,RCOMP_1,REALSET1,STRUCT_0,PRE_TOPC,TOPS_1,COMPTS_1,BORSUK_1,TEX_2,EUCLID,TOPREAL1,TOPREAL2,BORSUK_2,REVROT_1,TOPREAL6,INTEGRA1,XXREAL_2,TOPMETR,ZFMISC_1,SUBSET_1,MEASURE5,CKB1;
constructors FUNCT_4,CONNSP_1,TOPS_2,COMPTS_1,REALSET2,TSEP_1,TOPREAL1,TOPREAL2,TREAL_1,JORDAN1,MEASURE6,JORDAN2C,BORSUK_3,INTEGRA1,XXREAL_2,SEQ_4,CONVEX1,BINOP_2,RVSUM_1;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Th6: (for f,g being Function holds (for a being set holds (((((f is  one-to-one & g is  one-to-one) & ( ( dom f ) /\ ( dom g ) ) = { a }) & ( ( rng f ) /\ ( rng g ) ) = { ( f . a ) }) & ( f . a ) = ( g . a )) implies ( ( f +* g ) " ) = ( ( f " ) +* ( g " ) ))))
proof
let f being Function,g being Function;
let a being set;
assume that
A1: f is  one-to-one
and
A2: g is  one-to-one
and
A3: ( ( dom f ) /\ ( dom g ) ) = { a }
and
A4: ( ( rng f ) /\ ( rng g ) ) = { ( f . a ) }
and
A5: ( f . a ) = ( g . a );
A6: ( dom ( g " ) ) = ( rng g ) by A2,FUNCT_1:33;
A7: ( dom ( f " ) ) = ( rng f ) by A1,FUNCT_1:33;
(for x being set holds (x in ( ( dom ( f " ) ) /\ ( dom ( g " ) ) ) implies ( ( f " ) . x ) = ( ( g " ) . x )))
proof
let x being set;
{ a } c= ( dom f ) by A3,XBOOLE_1:17;
then A8: a in ( dom f ) by ZFMISC_1:31;
assume A9: x in ( ( dom ( f " ) ) /\ ( dom ( g " ) ) );
then x = ( f . a ) by A4,A7,A6,TARSKI:def 1;
then A10: a = ( ( f " ) . x ) by A1,A8,FUNCT_1:32;
{ a } c= ( dom g ) by A3,XBOOLE_1:17;
then A11: a in ( dom g ) by ZFMISC_1:31;
x = ( g . a ) by A4,A5,A7,A6,A9,TARSKI:def 1;
hence thesis by A2,A11,A10,FUNCT_1:32;
end;
then A12: ( f " ) tolerates ( g " ) by PARTFUN1:def 4;
set gf = ( ( f " ) +* ( g " ) );
set F = ( f +* g );
(for x being set holds (x in ( ( dom f ) /\ ( dom g ) ) implies ( f . x ) = ( g . x )))
proof
let x being set;
assume x in ( ( dom f ) /\ ( dom g ) );
then x = a by A3,TARSKI:def 1;
hence thesis by A5;
end;
then A13: f tolerates g by PARTFUN1:def 4;
( dom gf ) = ( ( dom ( f " ) ) \/ ( dom ( g " ) ) ) by FUNCT_4:def 1
.= ( ( rng f ) \/ ( dom ( g " ) ) ) by A1,FUNCT_1:33
.= ( ( rng f ) \/ ( rng g ) ) by A2,FUNCT_1:33;
then A14: ( dom gf ) = ( rng F ) by A13,FRECHET:35;
A15: ( dom F ) = ( ( dom f ) \/ ( dom g ) ) by FUNCT_4:def 1;
then A16: ( dom f ) c= ( dom F ) by XBOOLE_1:7;
A17: ( dom g ) c= ( dom F ) by A15,XBOOLE_1:7;
A18: ( rng F ) = ( ( rng f ) \/ ( rng g ) ) by A13,FRECHET:35;
A19: (for y,x being set holds ((y in ( rng F ) & x = ( gf . y )) iff (x in ( dom F ) & y = ( F . x ))))
proof
let y being set,x being set;
hereby
assume that
A20: y in ( rng F )
and
A21: x = ( gf . y );
per cases  by A14,A20,FUNCT_4:12;
suppose A22: y in ( dom ( f " ) );

then A23: y in ( rng f ) by A1,FUNCT_1:33;
A24: x = ( ( f " ) . y ) by A12,A21,A22,FUNCT_4:15;
then A25: y = ( f . x ) by A1,A23,FUNCT_1:32;
x in ( dom f ) by A1,A23,A24,FUNCT_1:32;
hence (x in ( dom F ) & y = ( F . x )) by A13,A16,A25,FUNCT_4:15;
end;
suppose A26: y in ( dom ( g " ) );

then A27: x = ( ( g " ) . y ) by A21,FUNCT_4:13;
A28: y in ( rng g ) by A2,A26,FUNCT_1:33;
then A29: y = ( g . x ) by A2,A27,FUNCT_1:32;
x in ( dom g ) by A2,A28,A27,FUNCT_1:32;
hence (x in ( dom F ) & y = ( F . x )) by A17,A29,FUNCT_4:13;
end;
end;
assume that
A30: x in ( dom F )
and
A31: y = ( F . x );
per cases  by A30,FUNCT_4:12;
suppose A32: x in ( dom f );

then A33: y = ( f . x ) by A13,A31,FUNCT_4:15;
then A34: x = ( ( f " ) . y ) by A1,A32,FUNCT_1:32;
( rng F ) = ( ( rng f ) \/ ( rng g ) ) by A13,FRECHET:35;
then A35: ( rng f ) c= ( rng F ) by XBOOLE_1:7;
A36: y in ( rng f ) by A32,A33,FUNCT_1:3;
then y in ( dom ( f " ) ) by A1,FUNCT_1:33;
hence thesis by A12,A34,A36,A35,FUNCT_4:15;
end;
suppose A37: x in ( dom g );

then A38: y = ( g . x ) by A31,FUNCT_4:13;
then A39: x = ( ( g " ) . y ) by A2,A37,FUNCT_1:32;
A40: ( rng g ) c= ( rng F ) by A18,XBOOLE_1:7;
A41: y in ( rng g ) by A37,A38,FUNCT_1:3;
then y in ( dom ( g " ) ) by A2,FUNCT_1:33;
hence thesis by A39,A41,A40,FUNCT_4:13;
end;
end;
F is  one-to-one by A1,A2,A3,A4,CKB5:1;
hence thesis by A14,A19,FUNCT_1:32;
end;
