environ
vocabularies NUMBERS,SUBSET_1,XXREAL_0,XREAL_0,ORDINAL1,FUNCT_1,PARTFUN1,FUNCT_4,RELAT_1,XBOOLE_0,TARSKI,FUNCT_6,FUNCOP_1,FUNCT_2,FUNCT_5,ZFMISC_1,MCART_1,CARD_3,FINSEQ_1,CARD_1,CARD_2,COMPLEX1,EUCLID,SQUARE_1,ARYTM_3,PRE_TOPC,RCOMP_1,ORDINAL2,STRUCT_0,METRIC_1,ARYTM_1,SUPINF_2,REAL_1,TOPGEN_3,TOPGEN_2,CANTOR_1,PBOOLE,SETFAM_1,RAT_1,TOPS_1,TOPGEN_1,XXREAL_1,RLVECT_3,BORSUK_1,CARD_5,TOPMETR,TOPS_2,VALUED_1,FINSET_1,LIMFUNC1,TOPGEN_5;
notations TARSKI,XBOOLE_0,ZFMISC_1,RELAT_1,FINSET_1,SUBSET_1,MCART_1,SETFAM_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,FINSEQ_1,FUNCT_4,FUNCOP_1,PBOOLE,ORDINAL1,CARD_1,CARD_2,CARD_3,FUNCT_5,FUNCT_6,NUMBERS,XCMPLX_0,SQUARE_1,COMPLEX1,REAL_1,XREAL_0,XXREAL_2,RAT_1,RCOMP_1,LIMFUNC1,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_1,TOPS_2,RLVECT_1,EUCLID,CANTOR_1,TOPMETR,TOPREAL9,TOPGEN_1,TOPGEN_2,TOPGEN_3,XXREAL_0,CKB16,CKB17;
definitions RELAT_1,TARSKI,XBOOLE_0,FUNCT_1,PARTFUN1,FUNCOP_1,WELLORD2,PBOOLE,PRE_TOPC,TOPS_3,URYSOHN1,TOPGEN_1,FUNCT_6,BINOP_1,SQUARE_1,SUBSET_1,STRUCT_0,LIMFUNC1,PROB_1,COMPTS_1,CKB16,CKB17;
theorems TOPS_3,TARSKI,XBOOLE_0,XBOOLE_1,ZFMISC_1,FUNCT_1,EUCLID,PBOOLE,EUCLID_2,TOPREAL9,TOPGEN_3,SETWISEO,XREAL_1,XREAL_0,XCMPLX_1,TOPRNS_1,TOPREAL6,ABSVALUE,SPPOL_2,FINSEQ_1,COMPLEX1,JGRAPH_1,YELLOW_9,NUMBERS,CARD_5,TOPGEN_2,SUBSET_1,YELLOW_8,TOPS_1,PRE_TOPC,TOPGEN_1,SQUARE_1,RAT_1,CARD_1,CARD_2,CARD_3,CARD_4,FINSEQ_3,MCART_1,FUNCT_6,BORSUK_1,TOPALG_1,TOPS_2,FUNCT_2,TIETZE,JGRAPH_5,URYSOHN1,TOPMETR,BOOLMARK,FUNCOP_1,FUNCT_4,RELAT_1,RELSET_1,CANTOR_1,PARTFUN1,SETFAM_1,JORDAN6,YELLOW12,FUNCT_7,DICKSON,FUNCT_5,FRECHET,TSP_1,JORDAN,XXREAL_0,TSEP_1,XXREAL_1,XXREAL_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30;
schemes SUBSET_1,FUNCT_1,FRAENKEL,PRE_CIRC,FUNCT_5,CLASSES1,FINSET_1,FUNCT_2,CKB9,CKB10;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,FINSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,SQUARE_1,RAT_1,CARD_1,MEMBERED,FINSEQ_1,ASYMPT_0,STRUCT_0,PRE_TOPC,TOPS_1,BORSUK_1,MONOID_0,EUCLID,TOPMETR,TOPGRP_1,BORSUK_4,BORSUK_6,TOPGEN_1,VALUED_0,XXREAL_2,RELSET_1,CKB23,CKB24;
constructors SETFAM_1,WELLORD2,FUNCT_4,REAL_1,SQUARE_1,COMPLEX1,CARD_2,PROB_1,RCOMP_1,LIMFUNC1,FUNCT_6,TOPS_1,TSP_1,MONOID_0,BORSUK_4,TOPGEN_2,TOPREAL9,TOPGEN_1,TOPGEN_3,XXREAL_2,BINOP_2,CKB16,CKB17;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
reserve x for (Element of ( REAL ));
reserve y for (Element of ( REAL ));
reserve w for set;
reserve r for  positive  real number;
definition
func Niemytzki-plane ->  strict non  empty TopSpace means 
:Def3: ((the carrier of it) = ( y>=0-plane ) & (ex B being (Neighborhood_System of it) st ((for x holds ( B . |[ x,( 0 ) ]| ) = { ( ( Ball (|[ x,r ]|,r) ) \/ { |[ x,( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) }) & (for x holds (for y holds (y > ( 0 ) implies ( B . |[ x,y ]| ) = { ( ( Ball (|[ x,y ]|,r) ) /\ ( y>=0-plane ) ) where r is (Element of ( REAL )): r > ( 0 ) }))))));
existence
proof
defpred P[ set ]
 means
$1 in ( y=0-line );
deffunc F1((Element of ( TOP-REAL 2 ))) = { ( ( Ball (|[ ( $1 `1 ),r ]|,r) ) \/ { $1 } ) where r is (Element of ( REAL )): r > ( 0 ) };
set X = ( y>=0-plane );
deffunc F2((Element of ( TOP-REAL 2 ))) = { ( ( Ball ($1,r) ) /\ X ) where r is (Element of ( REAL )): r > ( 0 ) };
consider B being (ManySortedSet of X) such that A1: (for a being (Element of X) holds (a in X implies ((P[ a ] implies ( B . a ) = F1(a)) & ((not P[ a ]) implies ( B . a ) = F2(a))))) from PRE_CIRC:sch 2;
B is  non-empty
proof
let z being set;
assume z in X;
then reconsider s = z as (Element of X);
per cases ;
suppose A2: P[ z ];

set r = the  positive (Element of ( REAL ));
set a = |[ ( s `1 ),r ]|;
( B . s ) = F1(s) by A2,A1;
then ( ( Ball (a,r) ) \/ { s } ) in ( B . s );
hence thesis;
end;
suppose A3: (not P[ z ]);

set r = the  positive (Element of ( REAL ));
( B . s ) = F2(s) by A3,A1;
then ( ( Ball (s,r) ) /\ X ) in ( B . s );
hence thesis;
end;
end;
then reconsider B as  non-empty (ManySortedSet of X);
A4: ( rng B ) c= ( bool ( bool X ) )
proof
let w being set;
assume w in ( rng B );
then consider a being set such that A5: a in ( dom B ) and A6: w = ( B . a ) by FUNCT_1:def 3;
reconsider a as (Element of X) by A5,PARTFUN1:def 2;
w c= ( bool X )
proof
let z being set;
assume A7: z in w;
per cases  by A1,A6;
suppose w = F1(a);

then consider r being (Element of ( REAL )) such that A8: z = ( ( Ball (|[ ( a `1 ),r ]|,r) ) \/ { a } ) and A9: r > ( 0 ) by A7;
( Ball (|[ ( a `1 ),r ]|,r) ) c= X by A9,CKB26:1;
then z c= X by A8,XBOOLE_1:8;
hence thesis;
end;
suppose w = F2(a);

then (ex r being (Element of ( REAL )) st (z = ( ( Ball (a,r) ) /\ X ) & r > ( 0 ))) by A7;
then z c= X by XBOOLE_1:17;
hence thesis;
end;
end;
hence thesis;
end;
A10: (for x,y,U being set holds (((x in U & U in ( B . y )) & y in X) implies (ex V being set st (V in ( B . x ) & V c= U))))
proof
let x being set;
let y being set;
let U being set;
assume A11: x in U;
assume A12: U in ( B . y );
assume y in X;
then reconsider y as (Element of X);
per cases ;
suppose P[ y ];

then ( B . y ) = F1(y) by A1;
then consider r being (Element of ( REAL )) such that A13: U = ( ( Ball (|[ ( y `1 ),r ]|,r) ) \/ { y } ) and A14: r > ( 0 ) by A12;
A15: (x in ( Ball (|[ ( y `1 ),r ]|,r) ) or x = y) by A11,A13,SETWISEO:4;
then reconsider z = x as (Element of ( TOP-REAL 2 ));
now
set r2 = ( r - |. ( z - |[ ( y `1 ),r ]| ) .| );
assume A16: x in ( Ball (|[ ( y `1 ),r ]|,r) );
take V = ( ( Ball (z,r2) ) /\ X );
|. ( z - |[ ( y `1 ),r ]| ) .| < r by A16,TOPREAL9:7;
then reconsider r1 = r,r2 as  positive Real by XREAL_1:50;
A17: r2 > ( 0 );
( Ball (|[ ( y `1 ),r ]|,r) ) misses ( y=0-line ) by A14,CKB27:1;
then A18: (not P[ x ]) by A16,XBOOLE_0:3;
( Ball (|[ ( y `1 ),r ]|,r) ) c= X by A14,CKB26:1;
then ( B . z ) = F2(z) by A16,A18,A1;
hence V in ( B . x ) by A17;
A19: ( Ball (|[ ( y `1 ),r ]|,r) ) c= U by A13,XBOOLE_1:7;
( r1 - r2 ) = |. ( |[ ( y `1 ),r ]| - z ) .| by TOPRNS_1:27;
then A20: ( Ball (z,r2) ) c= ( Ball (|[ ( y `1 ),r ]|,r1) ) by CKB28:1;
V c= ( Ball (z,r2) ) by XBOOLE_1:17;
then V c= ( Ball (|[ ( y `1 ),r ]|,r1) ) by A20,XBOOLE_1:1;
hence V c= U by A19,XBOOLE_1:1;
end;
hence thesis by A12,A15;
end;
suppose (not P[ y ]);

then ( B . y ) = F2(y) by A1;
then consider r being (Element of ( REAL )) such that A21: U = ( ( Ball (y,r) ) /\ X ) and r > ( 0 ) by A12;
reconsider z = x as (Element of X) by A11,A21,XBOOLE_0:def 4;
set r2 = ( r - |. ( z - y ) .| );
z in ( Ball (y,r) ) by A11,A21,XBOOLE_0:def 4;
then |. ( z - y ) .| < r by TOPREAL9:7;
then reconsider r1 = r,r2 as  positive Real by XREAL_1:50;
A22: z = |[ ( z `1 ),( z `2 ) ]| by EUCLID:53;
per cases ;
suppose A23: P[ z ];

then ( z `2 ) = ( 0 ) by A22,CKB19:1;
then ( |[ ( z `1 ),( r2 / 2 ) ]| - z ) = |[ ( ( z `1 ) - ( z `1 ) ),( ( r2 / 2 ) - ( 0 ) ) ]| by A22,EUCLID:62;
then |. ( |[ ( z `1 ),( r2 / 2 ) ]| - z ) .| = ( abs ( r2 / 2 ) ) by TOPREAL6:23
.= ( r2 / 2 ) by ABSVALUE:def 1;
then |. ( |[ ( z `1 ),( r2 / 2 ) ]| - y ) .| <= ( ( r2 / 2 ) + |. ( z - y ) .| ) by TOPRNS_1:34;
then |. ( y - |[ ( z `1 ),( r2 / 2 ) ]| ) .| <= ( r - ( r2 / 2 ) ) by TOPRNS_1:27;
then A24: ( Ball (|[ ( z `1 ),( r2 / 2 ) ]|,( r2 / 2 )) ) c= ( Ball (y,r1) ) by CKB28:1;
set V = ( ( Ball (|[ ( z `1 ),( r2 / 2 ) ]|,( r2 / 2 )) ) \/ { z } );
take V;
( B . z ) = F1(z) by A23,A1;
hence V in ( B . x );
A25: { z } c= U by A11,ZFMISC_1:31;
( Ball (|[ ( z `1 ),( r2 / 2 ) ]|,( r2 / 2 )) ) c= X by CKB26:1;
then ( Ball (|[ ( z `1 ),( r2 / 2 ) ]|,( r2 / 2 )) ) c= U by A24,A21,XBOOLE_1:19;
hence thesis by A25,XBOOLE_1:8;
end;
suppose A26: (not P[ z ]);

take V = ( ( Ball (z,r2) ) /\ X );
( B . z ) = F2(z) by A26,A1;
hence V in ( B . x );
|. ( y - z ) .| = ( r1 - r2 ) by TOPRNS_1:27;
hence thesis by A21,CKB28:1,XBOOLE_1:26;
end;
end;
end;
A27: (for x,U1,U2 being set holds (((x in X & U1 in ( B . x )) & U2 in ( B . x )) implies (ex U being set st (U in ( B . x ) & U c= ( U1 /\ U2 )))))
proof
let x being set;
let U1 being set;
let U2 being set;
assume x in X;
then reconsider z = x as (Element of X);
assume that
A28: U1 in ( B . x )
and
A29: U2 in ( B . x );
per cases ;
suppose P[ z ];

then A30: ( B . x ) = F1(z) by A1;
then consider r1 being Real such that A31: U1 = ( ( Ball (|[ ( z `1 ),r1 ]|,r1) ) \/ { z } ) and A32: r1 > ( 0 ) by A28;
consider r2 being Real such that A33: U2 = ( ( Ball (|[ ( z `1 ),r2 ]|,r2) ) \/ { z } ) and A34: r2 > ( 0 ) by A29,A30;
(r1 <= r2 or r1 >= r2);
then consider U being set such that A35: ((r1 <= r2 & U = U1) or (r1 >= r2 & U = U2));
A36: U c= U2 by A31,A32,A33,A35,CKB29:1,XBOOLE_1:9;
take U;
thus U in ( B . x ) by A28,A29,A35;
U c= U1 by A31,A33,A34,A35,CKB29:1,XBOOLE_1:9;
hence thesis by A36,XBOOLE_1:19;
end;
suppose (not P[ z ]);

then A37: ( B . x ) = F2(z) by A1;
then consider r1 being Real such that A38: U1 = ( ( Ball (z,r1) ) /\ X ) and r1 > ( 0 ) by A28;
consider r2 being Real such that A39: U2 = ( ( Ball (z,r2) ) /\ X ) and r2 > ( 0 ) by A29,A37;
(r1 <= r2 or r1 >= r2);
then consider U being set such that A40: ((r1 <= r2 & U = U1) or (r1 >= r2 & U = U2));
A41: U c= U2 by A38,A39,A40,JORDAN:18,XBOOLE_1:26;
take U;
thus U in ( B . x ) by A28,A29,A40;
U c= U1 by A38,A39,A40,JORDAN:18,XBOOLE_1:26;
hence thesis by A41,XBOOLE_1:19;
end;
end;
(for x,U being set holds ((x in X & U in ( B . x )) implies x in U))
proof
let x being set;
let U being set;
assume x in X;
then reconsider a = x as (Element of X);
assume A42: U in ( B . x );
per cases  by A1;
suppose A43: ( B . x ) = F1(a);

A44: a in { a } by TARSKI:def 1;
(ex r being (Element of ( REAL )) st (U = ( ( Ball (|[ ( a `1 ),r ]|,r) ) \/ { a } ) & r > ( 0 ))) by A43,A42;
hence thesis by A44,XBOOLE_0:def 3;
end;
suppose ( B . x ) = F2(a);

then consider r being (Element of ( REAL )) such that A45: U = ( ( Ball (a,r) ) /\ X ) and A46: r > ( 0 ) by A42;
a in ( Ball (a,r) ) by A46,CKB15:1;
hence thesis by A45,XBOOLE_0:def 4;
end;
end;
then consider P being (Subset-Family of X) such that P = ( Union B ) and A47: (for T being TopStruct holds (((the carrier of T) = X & (the topology of T) = ( UniCl P )) implies (T is TopSpace & (for T9 being non  empty TopSpace holds (T9 = T implies B is (Neighborhood_System of T9)))))) by A27,A4,A10,TOPGEN_3:3;
set T = TopStruct (# X,( UniCl P ) #);
reconsider T as non  empty  strict TopSpace by A47;
reconsider B as (Neighborhood_System of T) by A47;
take T;
thus (the carrier of T) = X;
take B;
hereby
defpred R[ Real ]
 means
$1 > ( 0 );
let x;
deffunc a1(Real) = ( ( Ball (|[ x,$1 ]|,$1) ) \/ { |[ x,( 0 ) ]| } );
deffunc a2(Real) = ( ( Ball (|[ ( |[ x,( 0 ) ]| `1 ),$1 ]|,$1) ) \/ { |[ x,( 0 ) ]| } );
A48: |[ x,( 0 ) ]| in X;
A49: (for r being Real holds a1(r) = a2(r)) by EUCLID:52;
A50: { a1(r) where r is Real: R[ r ] } = { a2(r) where r is Real: R[ r ] } from FRAENKEL:sch 5(A49);
P[ |[ x,( 0 ) ]| ];
hence ( B . |[ x,( 0 ) ]| ) = { ( ( Ball (|[ x,r ]|,r) ) \/ { |[ x,( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) } by A48,A1,A50;
end;
let x;
let y;
assume A51: y > ( 0 );
then A52: |[ x,y ]| in X;
(not |[ x,y ]| in ( y=0-line )) by A51,CKB19:1;
hence thesis by A52,A1;
end;
uniqueness
proof
let T1 being  strict non  empty TopSpace;
let T2 being  strict non  empty TopSpace;
assume that
A53: (the carrier of T1) = ( y>=0-plane )
and
A54: (ex B being (Neighborhood_System of T1) st ((for x holds ( B . |[ x,( 0 ) ]| ) = { ( ( Ball (|[ x,r ]|,r) ) \/ { |[ x,( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) }) & (for x holds (for y holds (y > ( 0 ) implies ( B . |[ x,y ]| ) = { ( ( Ball (|[ x,y ]|,r) ) /\ ( y>=0-plane ) ) where r is (Element of ( REAL )): r > ( 0 ) })))))
and
A55: (the carrier of T2) = ( y>=0-plane )
and
A56: (ex B being (Neighborhood_System of T2) st ((for x holds ( B . |[ x,( 0 ) ]| ) = { ( ( Ball (|[ x,r ]|,r) ) \/ { |[ x,( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) }) & (for x holds (for y holds (y > ( 0 ) implies ( B . |[ x,y ]| ) = { ( ( Ball (|[ x,y ]|,r) ) /\ ( y>=0-plane ) ) where r is (Element of ( REAL )): r > ( 0 ) })))));
consider B2 being (Neighborhood_System of T2) such that A57: (for x holds ( B2 . |[ x,( 0 ) ]| ) = { ( ( Ball (|[ x,r ]|,r) ) \/ { |[ x,( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) }) and A58: (for x holds (for y holds (y > ( 0 ) implies ( B2 . |[ x,y ]| ) = { ( ( Ball (|[ x,y ]|,r) ) /\ ( y>=0-plane ) ) where r is (Element of ( REAL )): r > ( 0 ) }))) by A56;
consider B1 being (Neighborhood_System of T1) such that A59: (for x holds ( B1 . |[ x,( 0 ) ]| ) = { ( ( Ball (|[ x,r ]|,r) ) \/ { |[ x,( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) }) and A60: (for x holds (for y holds (y > ( 0 ) implies ( B1 . |[ x,y ]| ) = { ( ( Ball (|[ x,y ]|,r) ) /\ ( y>=0-plane ) ) where r is (Element of ( REAL )): r > ( 0 ) }))) by A54;
now
let a being set;
assume a in ( y>=0-plane );
then reconsider z = a as (Element of ( y>=0-plane ));
A61: z = |[ ( z `1 ),( z `2 ) ]| by EUCLID:53;
then (( z `2 ) = ( 0 ) or ( z `2 ) > ( 0 )) by CKB22:1;
then (((( z `2 ) = ( 0 ) & ( B1 . z ) = { ( ( Ball (|[ ( z `1 ),r ]|,r) ) \/ { |[ ( z `1 ),( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) }) & ( B2 . z ) = { ( ( Ball (|[ ( z `1 ),r ]|,r) ) \/ { |[ ( z `1 ),( 0 ) ]| } ) where r is (Element of ( REAL )): r > ( 0 ) }) or ((( z `2 ) > ( 0 ) & ( B1 . z ) = { ( ( Ball (|[ ( z `1 ),( z `2 ) ]|,r) ) /\ ( y>=0-plane ) ) where r is (Element of ( REAL )): r > ( 0 ) }) & ( B2 . z ) = { ( ( Ball (|[ ( z `1 ),( z `2 ) ]|,r) ) /\ ( y>=0-plane ) ) where r is (Element of ( REAL )): r > ( 0 ) })) by A59,A60,A57,A58,A61;
hence ( B1 . a ) = ( B2 . a );
end;
hence thesis by A53,A55,CKB30:1,PBOOLE:3;
end;
end;
