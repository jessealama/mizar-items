environ
vocabularies NUMBERS,INT_1,XXREAL_0,CARD_1,ARYTM_1,ARYTM_3,SUBSET_1,VECTSP_1,VECTSP_2,STRUCT_0,XBOOLE_0,ALGSTR_0,SUPINF_2,NEWTON,RELAT_1,GROUP_1,BINOP_1,RLVECT_1,MESFUNC1,LATTICES,ALGSTR_1,FINSEQ_1,PARTFUN1,CARD_3,NAT_1,FUNCT_1,ORDINAL4,FINSEQ_2,TARSKI,MATRIX_1,TREES_1,INCSP_1,FVSUM_1,RVSUM_1,ZFMISC_1,ALGSEQ_1,POLYNOM1,COMPLEX1,MCART_1,POLYNOM2,POLYNOM3,POLYNOM8;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,NUMBERS,XCMPLX_0,XXREAL_0,VECTSP_2,BINOP_1,BINOM,ALGSTR_1,PARTFUN1,FINSEQ_1,FINSEQ_2,INT_1,NAT_1,NAT_D,STRUCT_0,ALGSTR_0,RLVECT_1,GROUP_1,VECTSP_1,FVSUM_1,ALGSEQ_1,POLYNOM5,POLYNOM3,MATRIX_1,MATRIX_3,POLYNOM4,MCART_1,INT_2,CKB9,CKB15,CKB19;
definitions VECTSP_1,RLVECT_1,BINOM,FINSEQ_1,MATRIX_1,POLYNOM3,CKB9,CKB15,CKB19;
theorems FVSUM_1,GROUP_1,BINOM,VECTSP_1,ALGSEQ_1,NAT_1,FINSEQ_4,INT_1,FUNCT_2,XREAL_1,VECTSP_2,ALGSTR_1,MATRIX_1,FUNCT_1,MATRIX_3,FINSEQ_1,ZFMISC_1,COMPLEX1,RLVECT_1,POLYNOM4,TARSKI,MCART_1,FINSEQ_2,POLYNOM1,ABSVALUE,POLYNOM3,POLYNOM5,FINSEQ_3,ORDINAL1,XXREAL_0,FUNCOP_1,PARTFUN1,XREAL_0,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes NAT_1,FUNCT_2,MATRIX_1,FINSEQ_1,INT_1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,STRUCT_0,VECTSP_1,ALGSTR_1,GCD_1,POLYNOM3,CARD_1,FINSEQ_1,CKB4,CKB16;
constructors REAL_1,SQUARE_1,NAT_D,VECTSP_2,ALGSTR_2,TOPREAL1,MATRIX_3,POLYNOM1,POLYNOM4,POLYNOM5,BINOM,RELSET_1,FVSUM_1,CKB9,CKB15,CKB19;
requirements NUMERALS,SUBSET,REAL,BOOLE,ARITHM;
begin
definition
let m being Nat;
let L being non  empty ZeroStr;
let p being (AlgSequence of L);
func mConv (p,m) -> (Matrix of m,1,L) means 
:Def4: (for i being Nat holds ((1 <= i & i <= m) implies ( it * (i,1) ) = ( p . ( i - 1 ) )));
existence
proof
defpred P[ Nat,set,set ]
 means
$3 = ( p . ( $1 - 1 ) );
reconsider m9 = m as (Element of ( NAT )) by ORDINAL1:def 12;
A1: (for i,j being Nat holds ([ i,j ] in [: ( Seg m9 ),( Seg 1 ) :] implies (ex x being (Element of L) st P[ i,j,x ])))
proof
let i being Nat;
let j being Nat;
assume A2: [ i,j ] in [: ( Seg m9 ),( Seg 1 ) :];
take ( p /. ( i - 1 ) );
( [ i,j ] `1 ) in ( Seg m ) by A2,MCART_1:10;
then i in ( Seg m ) by MCART_1:def 1;
then 1 <= i by FINSEQ_1:1;
then (( dom p ) = ( NAT ) & ( 1 - 1 ) <= ( i - 1 )) by FUNCT_2:def 1,XREAL_1:9;
hence thesis by INT_1:3,PARTFUN1:def 6;
end;
consider M being (Matrix of m9,1,L) such that A4: (for i,j being Nat holds ([ i,j ] in ( Indices M ) implies P[ i,j,( M * (i,j) ) ])) from MATRIX_1:sch 2(A1);
reconsider M as (Matrix of m,1,L);
take M;
now
let i being Nat;
assume (1 <= i & i <= m);
then A5: (i in ( Seg m ) & ( Indices M ) = [: ( Seg m ),( Seg 1 ) :]) by FINSEQ_1:1,MATRIX_1:23;
1 in ( Seg 1 );
then [ i,1 ] in ( Indices M ) by A5,ZFMISC_1:def 2;
hence ( M * (i,1) ) = ( p . ( i - 1 ) ) by A4;
end;
hence thesis;
end;
uniqueness
proof
let M1 being (Matrix of m,1,L);
let M2 being (Matrix of m,1,L);
assume that
A6: (for i being Nat holds ((1 <= i & i <= m) implies ( M1 * (i,1) ) = ( p . ( i - 1 ) )))
and
A7: (for i being Nat holds ((1 <= i & i <= m) implies ( M2 * (i,1) ) = ( p . ( i - 1 ) )));
per cases ;
suppose A8: m = ( 0 );

then A9: (for i,j being Nat holds ([ i,j ] in ( Indices M1 ) implies ( M1 * (i,j) ) = ( M2 * (i,j) ))) by MATRIX_1:22;
A10: ( width M1 ) = ( 0 ) by A8,MATRIX_1:22
.= ( width M2 ) by A8,MATRIX_1:22;
( len M1 ) = ( 0 ) by A8,MATRIX_1:22
.= ( len M2 ) by A8,MATRIX_1:22;
hence thesis by A10,A9,MATRIX_1:21;
end;
suppose A11: m > ( 0 );

A12:now
let i being Nat;
let j being Nat;
assume [ i,j ] in ( Indices M1 );
then A13: [ i,j ] in [: ( Seg m ),( Seg 1 ) :] by A11,MATRIX_1:23;
then ( [ i,j ] `2 ) in ( Seg 1 ) by MCART_1:10;
then j in ( Seg 1 ) by MCART_1:def 2;
then (1 <= j & j <= 1) by FINSEQ_1:1;
then A14: j = 1 by XXREAL_0:1;
( [ i,j ] `1 ) in ( Seg m ) by A13,MCART_1:10;
then i in ( Seg m ) by MCART_1:def 1;
then A15: (1 <= i & i <= m) by FINSEQ_1:1;
hence ( M1 * (i,j) ) = ( p . ( i - 1 ) ) by A6,A14
.= ( M2 * (i,j) ) by A7,A15,A14;
end;
A16: ( width M1 ) = 1 by A11,MATRIX_1:23
.= ( width M2 ) by A11,MATRIX_1:23;
( len M1 ) = m by A11,MATRIX_1:23
.= ( len M2 ) by A11,MATRIX_1:23;
hence thesis by A16,A12,MATRIX_1:21;
end;
end;
end;
