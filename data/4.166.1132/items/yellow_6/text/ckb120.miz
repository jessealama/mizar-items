environ
vocabularies CLASSES2,CLASSES1,ORDINAL1,XBOOLE_0,FUNCT_1,RELAT_1,TARSKI,CARD_3,CARD_1,FUNCT_2,PRALG_1,PBOOLE,SUBSET_1,RLVECT_2,STRUCT_0,FUNCOP_1,WAYBEL_3,YELLOW_1,ORDERS_2,WAYBEL_0,XXREAL_0,EQREL_1,RELAT_2,ZFMISC_1,CAT_1,YELLOW_0,WELLORD1,PRE_TOPC,RCOMP_1,CONNSP_2,COMPTS_1,MCART_1,TOPS_1,SEQ_2,ORDINAL2,SETFAM_1,YELLOW_6;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,MCART_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,CARD_1,CARD_3,FUNCOP_1,ORDINAL1,CLASSES1,CLASSES2,TOLER_1,STRUCT_0,TOPS_1,COMPTS_1,CONNSP_2,PRALG_1,ORDERS_2,LATTICE3,PRE_TOPC,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_3,WAYBEL_3,CKB1,CKB7,CKB8,CKB15,CKB20,CKB26,CKB27,CKB37,CKB41,CKB50,CKB52,CKB60,CKB65,CKB69,CKB71,CKB77,CKB82,CKB88,CKB94,CKB97,CKB102,CKB104,CKB105,CKB106,CKB107,CKB108,CKB110,CKB114;
definitions TARSKI,STRUCT_0,WAYBEL_0,PRALG_1,YELLOW_1,COMPTS_1,YELLOW_0,RELAT_1,PRE_TOPC,WAYBEL_3,BINOP_1,SUBSET_1,WELLORD1,CKB1,CKB8,CKB15,CKB26,CKB27,CKB37,CKB41,CKB50,CKB52,CKB60,CKB65,CKB69,CKB77,CKB82,CKB88,CKB94,CKB97,CKB102,CKB104,CKB105,CKB106,CKB107,CKB108,CKB110,CKB114;
theorems CONNSP_2,TOPS_1,FUNCOP_1,WAYBEL_0,PRE_TOPC,ORDERS_2,RELAT_1,FUNCT_2,ZFMISC_1,FUNCT_1,TARSKI,PBOOLE,YELLOW_1,CARD_3,PRALG_1,YELLOW_3,RELSET_1,DOMAIN_1,YELLOW_0,CLASSES2,CLASSES1,CARD_2,FUNCT_6,LATTICE3,MCART_1,SUBSET_1,WAYBEL_3,XBOOLE_0,XBOOLE_1,ORDINAL1,REALSET1,PARTFUN1,CKB1,CKB4,CKB5,CKB8,CKB15,CKB18,CKB19,CKB24,CKB25,CKB26,CKB27,CKB32,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB45,CKB46,CKB47,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB62,CKB63,CKB64,CKB65,CKB67,CKB68,CKB69,CKB70,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB84,CKB85,CKB86,CKB88,CKB89,CKB90,CKB91,CKB92,CKB94,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB104,CKB105,CKB106,CKB107,CKB108,CKB110,CKB113,CKB114,CKB118,CKB119;
schemes PBOOLE,FUNCT_7,SUBSET_1,RELSET_1,DOMAIN_1,MSSUBFAM,FUNCT_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,FUNCT_2,FUNCOP_1,CARD_1,CLASSES1,CARD_3,CLASSES2,PBOOLE,STRUCT_0,ORDERS_2,PCOMPS_1,LATTICE3,YELLOW_0,WAYBEL_0,PARTFUN1,YELLOW_1,YELLOW_3,WAYBEL_3,RELSET_1,TOPS_1,CKB2,CKB3,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB21,CKB22,CKB23,CKB28,CKB29,CKB30,CKB31,CKB34,CKB43,CKB44,CKB48,CKB49,CKB61,CKB66,CKB72,CKB73,CKB74,CKB75,CKB76,CKB83,CKB87,CKB93,CKB95,CKB96,CKB103,CKB109,CKB111,CKB112,CKB115,CKB116,CKB117;
constructors BINOP_1,CLASSES1,TOLER_1,CLASSES2,REALSET1,TOPS_1,COMPTS_1,CONNSP_2,LATTICE3,PRALG_1,YELLOW_3,WAYBEL_3,RELSET_1,PBOOLE,CKB1,CKB20,CKB26,CKB27,CKB37,CKB41,CKB50,CKB52,CKB60,CKB65,CKB69,CKB71,CKB77,CKB82,CKB88,CKB94,CKB97,CKB102,CKB104,CKB105,CKB106,CKB107,CKB108,CKB110,CKB114;
requirements BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
reserve T for Universe;
theorem
Th52: (for T being non  empty 1-sorted holds (for C being  topological (Convergence-Class of T) holds (for S being (Subset of ( ConvergenceSpace C )) holds (for p being (Point of ( ConvergenceSpace C )) holds (p in ( Cl S ) implies (ex N being (net of ( ConvergenceSpace C )) st (([ N,p ] in C & ( rng (the mapping of N) ) c= S) & p in ( Lim N ))))))))
proof
let T being non  empty 1-sorted;
let C being  topological (Convergence-Class of T);
let S being (Subset of (( ConvergenceSpace C ) qua non  empty TopSpace));
let p being (Point of ( ConvergenceSpace C ));
assume that
A1: p in ( Cl S );
set CC = ( ConvergenceSpace C );
defpred P[ (Point of CC) ]
 means
(ex N being (net of ( ConvergenceSpace C )) st (([ N,$1 ] in C & ( rng (the mapping of N) ) c= S) & $1 in ( Lim N )));
set F = { q where q is (Point of CC): P[ q ] };
F is (Subset of CC) from DOMAIN_1:sch 7;
then reconsider F as (Subset of CC);
(for p being (Element of T) holds (for N being (net of T) holds (([ N,p ] in C & N is_often_in F) implies p in F)))
proof
let p being (Element of T);
reconsider q = p as (Point of CC) by CKB110:def 1;
let N being (net of T);
assume that
A2: [ N,p ] in C
and
A3: N is_often_in F;
C c= [: ( NetUniv T ),(the carrier of T) :] by CKB102:def 1;
then N in ( NetUniv T ) by A2,ZFMISC_1:87;
then A4: (ex N0 being  strict (net of T) st (N0 = N & (the carrier of N0) in ( the_universe_of (the carrier of T) ))) by CKB65:def 1;
reconsider M = ( N " F ) as (subnet of N) by A3,CKB63:1;
defpred P[ (Element of M),set ]
 means
([ $2,( M . $1 ) ] in C & (ex X being (net of T) st (X = $2 & ( rng (the mapping of X) ) c= S)));
A5:now
let i being (Element of M);
i in (the carrier of M);
then i in ( (the mapping of N) " F ) by CKB60:def 1;
then A6: ( (the mapping of N) . i ) in F by FUNCT_2:38;
(the mapping of M) = ( (the mapping of N) | (the carrier of M) ) by CKB37:def 1;
then ( (the mapping of M) . i ) in F by A6,FUNCT_1:49;
then consider q being (Point of CC) such that A7: ( M . i ) = q and A8: (ex N being (net of ( ConvergenceSpace C )) st (([ N,q ] in C & ( rng (the mapping of N) ) c= S) & q in ( Lim N )));
consider N being (net of CC) such that A9: [ N,q ] in C and A10: ( rng (the mapping of N) ) c= S and q in ( Lim N ) by A8;
reconsider x = N as set;
take x;
thus P[ i,x ]
proof
thus [ x,( M . i ) ] in C by A7,A9;
reconsider X = N as (net of T) by CKB110:def 1;
take X;
thus X = x;
thus thesis by A10;
end;

end;
consider J being (ManySortedSet of (the carrier of M)) such that A11: (for i being (Element of M) holds P[ i,( J . i ) ]) from PBOOLE:sch 6(A5);
(for i being set holds (i in (the carrier of M) implies ( J . i ) is (net of T)))
proof
let i being set;
assume i in (the carrier of M);
then (ex X being (net of T) st (X = ( J . i ) & ( rng (the mapping of X) ) c= S)) by A11;
hence thesis;
end;
then reconsider J as (net_set of (the carrier of M),T) by CKB70:1;
set XX = { ( rng (the mapping of ( J . i )) ) where i is (Element of M): (not contradiction) };
A12: (for i being (Element of M) holds ([ ( J . i ),( M . i ) ] in C & ( rng (the mapping of ( J . i )) ) c= S))
proof
let i being (Element of M);
thus [ ( J . i ),( M . i ) ] in C by A11;
(ex X being (net of T) st (X = ( J . i ) & ( rng (the mapping of X) ) c= S)) by A11;
hence thesis;
end;
(for x holds (x in XX implies x c= S))
proof
let x;
assume x in XX;
then (ex i being (Element of M) st x = ( rng (the mapping of ( J . i )) ));
hence thesis by A12;
end;
then A13: ( union XX ) c= S by ZFMISC_1:76;
reconsider I = ( Iterated J ) as (net of CC) by CKB110:def 1;
( rng (the mapping of I) ) c= ( union XX ) by CKB81:1;
then A14: ( rng (the mapping of I) ) c= S by A13,XBOOLE_1:1;
(the carrier of M) = ( (the mapping of N) " F ) by CKB60:def 1;
then (the carrier of M) in ( the_universe_of (the carrier of T) ) by A4,CLASSES1:def 1;
then M in ( NetUniv T ) by CKB65:def 1;
then [ M,p ] in C by A2,CKB106:def 1;
then A15: [ I,p ] in C by A12,CKB108:def 1;
C c= ( Convergence CC ) by CKB113:1;
then q in ( Lim I ) by A15,CKB104:def 1;
hence thesis by A15,A14;
end;
then A16: F is  closed by CKB119:1;
S c= F
proof
( {} ) in { ( {} ) } by TARSKI:def 1;
then reconsider r = { [ ( {} ),( {} ) ] } as (Relation of { ( {} ) }) by RELSET_1:3;
set R = RelStr (# { ( {} ) },r #);
A17:now
let x being (Element of R);
let y being (Element of R);
(x = ( {} ) & y = ( {} )) by TARSKI:def 1;
then [ x,y ] in { [ ( {} ),( {} ) ] } by TARSKI:def 1;
hence x <= y by ORDERS_2:def 5;
end;
A18: R is  transitive
proof
let x being (Element of R);
let y being (Element of R);
let z being (Element of R);
thus thesis by A17;
end;
R is  directed
proof
let x being (Element of R);
let y being (Element of R);
take x;
thus thesis by A17;
end;
then reconsider R as  transitive  directed non  empty RelStr by A18;
let x;
set V = ( the_universe_of (the carrier of T) );
assume A19: x in S;
then reconsider q = x as (Point of CC);
set N = ( ConstantNet (R,q) );
(the mapping of N) = ( (the carrier of N) --> q ) by CKB27:def 1;
then ( rng (the mapping of N) ) = { q } by FUNCOP_1:8;
then A20: ( rng (the mapping of N) ) c= S by A19,ZFMISC_1:31;
( {} ) in V by CLASSES2:56;
then A21: (the carrier of R) in V by CLASSES2:2;
(the carrier of CC) = (the carrier of T) by CKB110:def 1;
then reconsider M = N as  constant  strict (net of T) by CKB67:1;
A22: ( the_value_of N ) = q by CKB51:1;
then ( the_value_of (the mapping of M) ) = q by CKB50:def 1;
then A23: ( the_value_of M ) = q by CKB50:def 1;
( the RelStr of N ) = ( the RelStr of R ) by CKB27:def 1;
then M in ( NetUniv T ) by A21,CKB65:def 1;
then A24: [ M,q ] in C by A23,CKB105:def 1;
q in ( Lim N ) by A22,CKB90:1;
hence thesis by A24,A20;
end;
then ( Cl S ) c= F by A16,TOPS_1:5;
then p in F by A1;
then (ex q being (Point of CC) st (p = q & (ex N being (net of ( ConvergenceSpace C )) st (([ N,q ] in C & ( rng (the mapping of N) ) c= S) & q in ( Lim N )))));
hence thesis;
end;
