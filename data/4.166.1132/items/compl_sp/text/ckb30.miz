environ
vocabularies NUMBERS,ORDINAL1,REAL_1,XBOOLE_0,METRIC_1,PROB_1,XXREAL_2,FUNCT_1,RELAT_1,STRUCT_0,PRE_TOPC,SUBSET_1,FUNCOP_1,XXREAL_0,MEASURE5,SEQ_1,CARD_1,ARYTM_1,ARYTM_3,VALUED_0,TARSKI,ORDINAL2,NAT_1,BHSP_3,COMPLEX1,RELAT_2,RCOMP_1,PCOMPS_1,ZFMISC_1,XREAL_0,REWRITE1,SETFAM_1,SEQ_2,METRIC_6,FRECHET,FINSET_1,VALUED_1,CARD_3,TOPGEN_1,WELLORD1,ORDERS_2,PARTFUN1,WELLFND1,TBSP_1,WAYBEL23,RLVECT_3,COMPL_SP;
notations METRIC_6,RELAT_2,BINOP_1,TOPMETR,CARD_1,FUNCOP_1,CANTOR_1,WELLORD1,COMPLEX1,FINSET_1,SEQ_2,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XXREAL_0,XREAL_0,REAL_1,SETFAM_1,DOMAIN_1,TOPS_2,FUNCT_1,VALUED_1,NAT_1,VALUED_0,STRUCT_0,PRE_TOPC,COMPTS_1,RELAT_1,SEQ_1,TBSP_1,RELSET_1,PARTFUN1,FUNCT_2,METRIC_1,PCOMPS_1,CARD_3,PROB_1,FRECHET,KURATO_0,KURATO_2,WELLFND1,WAYBEL23,ORDERS_2,TOPGEN_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24;
definitions TARSKI,TOPS_2,SUBSET_1,STRUCT_0,TBSP_1,PCOMPS_1,COMPTS_1,METRIC_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24;
theorems KURATO_2,NAT_1,FUNCT_2,PCOMPS_1,PCOMPS_2,NAGATA_1,SUBSET_1,METRIC_6,FUNCT_1,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,TOPS_1,TOPS_2,PRE_TOPC,CARD_4,ZFMISC_1,BINOP_1,SEQ_2,SEQ_4,SEQ_1,SEQM_3,PARTFUN1,WELLORD1,WELLORD2,TBSP_1,RELAT_1,RELAT_2,YELLOW_9,XREAL_1,XXREAL_0,ORDINAL1,FRECHET2,FRECHET,COMPTS_1,STIRL2_1,CARD_1,HAUSDORF,TOPMETR3,CARD_3,TOPGEN_4,DICKSON,RELSET_2,TOPGEN_1,WELLFND1,WAYBEL23,UNIFORM1,CARD_2,TOPREAL6,FINSET_1,PROB_1,FUNCOP_1,KURATO_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB27,CKB28,CKB29;
schemes FUNCT_1,WELLFND1,TREES_2,FUNCT_2,NAT_1,FRAENKEL,BINOP_1,SEQ_1;
registrations REALSET1,TOPMETR,PRE_TOPC,PCOMPS_1,NAT_1,TBSP_1,XREAL_0,RELSET_1,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,HAUSDORF,MEMBERED,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,VALUED_1,FUNCT_2,NUMBERS,FINSET_1,SEQ_4,WELLFND1,ZFMISC_1,KURATO_0,CKB2,CKB11,CKB12,CKB13,CKB14,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26;
constructors REAL_1,NAT_1,TBSP_1,YELLOW_6,FRECHET,FRECHET2,KURATO_2,COMPLEX1,SEQ_2,TOPS_2,WELLORD1,CARD_3,CANTOR_1,URYSOHN3,METRIC_6,REALSET1,WELLFND1,TOPGEN_4,WAYBEL23,TOPGEN_1,SEQ_1,COMPTS_1,FINSUB_1,TOPS_1,BINOP_2,RVSUM_1,KURATO_0,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24;
requirements REAL,SUBSET,BOOLE,NUMERALS,ARITHM;
begin
reserve i for  natural number;
reserve n for  natural number;
reserve m for  natural number;
reserve x for set;
reserve y for set;
reserve r for Real;
theorem
Th10: (for M being non  empty MetrSpace holds (M is  complete iff (for S being  non-empty  bounded  closed (SetSequence of M) holds ((S is  non-ascending & ( lim ( diameter S ) ) = ( 0 )) implies ( meet S ) is non  empty))))
proof
let M being non  empty MetrSpace;
set T = ( TopSpaceMetr M );
thus (M is  complete implies (for S being  non-empty  bounded  closed (SetSequence of M) holds ((S is  non-ascending & ( lim ( diameter S ) ) = ( 0 )) implies ( meet S ) is non  empty)))
proof
assume A1: M is  complete;
let S being  non-empty  bounded  closed (SetSequence of M);
assume that
A2: S is  non-ascending
and
A3: ( lim ( diameter S ) ) = ( 0 );
defpred P[ set,set ]
 means
$2 in ( S . $1 );
A4: (for x holds (x in ( NAT ) implies (ex y st (y in (the carrier of M) & P[ x,y ]))))
proof
A5: ( dom S ) = ( NAT ) by FUNCT_2:def 1;
let x;
assume that
A6: x in ( NAT );
( S . x ) is non  empty by A6,A5,FUNCT_1:def 9;
then A7: (ex y st y in ( S . x )) by XBOOLE_0:def 1;
( S . x ) in ( rng S ) by A6,A5,FUNCT_1:def 3;
hence thesis by A7;
end;
consider F being (Function of ( NAT ),(the carrier of M)) such that A8: (for x holds (x in ( NAT ) implies P[ x,( F . x ) ])) from FUNCT_2:sch 1(A4);
now
let i;
i in ( NAT ) by ORDINAL1:def 12;
hence ( F . i ) in ( S . i ) by A8;
end;
then F is  Cauchy by A2,A3,CKB7:1;
then F is  convergent by A1,TBSP_1:def 5;
then consider x being (Point of M) such that A9: F is_convergent_in_metrspace_to x by METRIC_6:10;
reconsider F9 = F as (sequence of T);
reconsider x9 = x as (Point of T);
now
let i being (Element of ( NAT ));
set F1 = ( F9 ^\ i );
reconsider Si = ( S . i ) as (Subset of T);
A10: ( rng F1 ) c= Si
proof
let x;
assume x in ( rng F1 );
then consider y such that A11: y in ( dom F1 ) and A12: ( F1 . y ) = x by FUNCT_1:def 3;
reconsider y as (Element of ( NAT )) by A11;
i <= ( y + i ) by NAT_1:11;
then A13: ( S . ( y + i ) ) c= ( S . i ) by A2,PROB_1:def 4;
x = ( F . ( y + i ) ) by A12,NAT_1:def 3;
then x in ( S . ( y + i ) ) by A8;
hence thesis by A13;
end;
F9 is_convergent_to x9 by A9,FRECHET2:28;
then F1 is_convergent_to x9 by FRECHET2:15;
then A14: x in ( Lim F1 ) by FRECHET:def 5;
( S . i ) is  closed by CKB24:def 1;
then Si is  closed by CKB15:1;
then ( Lim F1 ) c= Si by A10,FRECHET2:9;
hence x in ( S . i ) by A14;
end;
hence thesis by KURATO_0:3;
end;

assume A15: (for S being  non-empty  bounded  closed (SetSequence of M) holds ((S is  non-ascending & ( lim ( diameter S ) ) = ( 0 )) implies ( meet S ) is non  empty));
let F being (sequence of M);
assume that
A16: F is  Cauchy;
consider S being  non-empty  closed (SetSequence of M) such that A17: S is  non-ascending and A18: (F is  Cauchy implies (S is  bounded & ( lim ( diameter S ) ) = ( 0 ))) and A19: (for i holds (ex U being (Subset of T) st (U = { ( F . j ) where j is (Element of ( NAT )): j >= i } & ( S . i ) = ( Cl U )))) by CKB29:1;
set d = ( diameter S );
A20: d is  non-increasing by A16,A17,A18,CKB5:1;
( meet S ) is non  empty by A15,A16,A17,A18;
then consider x such that A21: x in ( meet S ) by XBOOLE_0:def 1;
A22: d is  bounded_below by A16,A18,CKB4:1;
reconsider x as (Point of M) by A21;
take x;
let r;
assume r > ( 0 );
then consider n being (Element of ( NAT )) such that A23: (for m being (Element of ( NAT )) holds (n <= m implies ( abs ( ( d . m ) - ( 0 ) ) ) < r)) by A16,A18,A22,A20,SEQ_2:def 7;
take n;
let m being (Element of ( NAT ));
assume n <= m;
then A24: ( abs ( ( d . m ) - ( 0 ) ) ) < r by A23;
A25: ( S . m ) is  bounded by A16,A18,CKB1:def 1;
A26: x in ( S . m ) by A21,KURATO_0:3;
A27: ( diameter ( S . m ) ) = ( d . m ) by CKB3:def 1;
consider U being (Subset of T) such that A28: U = { ( F . j ) where j is (Element of ( NAT )): j >= m } and A29: ( S . m ) = ( Cl U ) by A19;
A30: U c= ( Cl U ) by PRE_TOPC:18;
( F . m ) in U by A28;
then A31: ( dist (( F . m ),x) ) <= ( diameter ( S . m ) ) by A29,A30,A26,A25,TBSP_1:def 8;
( diameter ( S . m ) ) >= ( 0 ) by A25,TBSP_1:21;
then ( d . m ) < r by A27,A24,ABSVALUE:def 1;
hence thesis by A31,A27,XXREAL_0:2;
end;
