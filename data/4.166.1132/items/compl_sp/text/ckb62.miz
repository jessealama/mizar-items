environ
vocabularies NUMBERS,ORDINAL1,REAL_1,XBOOLE_0,METRIC_1,PROB_1,XXREAL_2,FUNCT_1,RELAT_1,STRUCT_0,PRE_TOPC,SUBSET_1,FUNCOP_1,XXREAL_0,MEASURE5,SEQ_1,CARD_1,ARYTM_1,ARYTM_3,VALUED_0,TARSKI,ORDINAL2,NAT_1,BHSP_3,COMPLEX1,RELAT_2,RCOMP_1,PCOMPS_1,ZFMISC_1,XREAL_0,REWRITE1,SETFAM_1,SEQ_2,METRIC_6,FRECHET,FINSET_1,VALUED_1,CARD_3,TOPGEN_1,WELLORD1,ORDERS_2,PARTFUN1,WELLFND1,TBSP_1,WAYBEL23,RLVECT_3,COMPL_SP;
notations METRIC_6,RELAT_2,BINOP_1,TOPMETR,CARD_1,FUNCOP_1,CANTOR_1,WELLORD1,COMPLEX1,FINSET_1,SEQ_2,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XXREAL_0,XREAL_0,REAL_1,SETFAM_1,DOMAIN_1,TOPS_2,FUNCT_1,VALUED_1,NAT_1,VALUED_0,STRUCT_0,PRE_TOPC,COMPTS_1,RELAT_1,SEQ_1,TBSP_1,RELSET_1,PARTFUN1,FUNCT_2,METRIC_1,PCOMPS_1,CARD_3,PROB_1,FRECHET,KURATO_0,KURATO_2,WELLFND1,WAYBEL23,ORDERS_2,TOPGEN_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40;
definitions TARSKI,TOPS_2,SUBSET_1,STRUCT_0,TBSP_1,PCOMPS_1,COMPTS_1,METRIC_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40;
theorems KURATO_2,NAT_1,FUNCT_2,PCOMPS_1,PCOMPS_2,NAGATA_1,SUBSET_1,METRIC_6,FUNCT_1,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,TOPS_1,TOPS_2,PRE_TOPC,CARD_4,ZFMISC_1,BINOP_1,SEQ_2,SEQ_4,SEQ_1,SEQM_3,PARTFUN1,WELLORD1,WELLORD2,TBSP_1,RELAT_1,RELAT_2,YELLOW_9,XREAL_1,XXREAL_0,ORDINAL1,FRECHET2,FRECHET,COMPTS_1,STIRL2_1,CARD_1,HAUSDORF,TOPMETR3,CARD_3,TOPGEN_4,DICKSON,RELSET_2,TOPGEN_1,WELLFND1,WAYBEL23,UNIFORM1,CARD_2,TOPREAL6,FINSET_1,PROB_1,FUNCOP_1,KURATO_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB57,CKB58,CKB59,CKB60,CKB61;
schemes FUNCT_1,WELLFND1,TREES_2,FUNCT_2,NAT_1,FRAENKEL,BINOP_1,SEQ_1,CKB56;
registrations REALSET1,TOPMETR,PRE_TOPC,PCOMPS_1,NAT_1,TBSP_1,XREAL_0,RELSET_1,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,HAUSDORF,MEMBERED,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,VALUED_1,FUNCT_2,NUMBERS,FINSET_1,SEQ_4,WELLFND1,ZFMISC_1,KURATO_0,CKB2,CKB11,CKB12,CKB13,CKB14,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26;
constructors REAL_1,NAT_1,TBSP_1,YELLOW_6,FRECHET,FRECHET2,KURATO_2,COMPLEX1,SEQ_2,TOPS_2,WELLORD1,CARD_3,CANTOR_1,URYSOHN3,METRIC_6,REALSET1,WELLFND1,TOPGEN_4,WAYBEL23,TOPGEN_1,SEQ_1,COMPTS_1,FINSUB_1,TOPS_1,BINOP_2,RVSUM_1,KURATO_0,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40;
requirements REAL,SUBSET,BOOLE,NUMERALS,ARITHM;
begin
reserve x for set;
reserve y for set;
theorem
Th34: (for T being non empty TopSpace holds (T is  second-countable implies (for F being (Subset-Family of T) holds ((F is (Cover of T) & F is  open) implies (ex G being (Subset-Family of T) st ((G c= F & G is (Cover of T)) & G is  countable))))))
proof
let T being non empty TopSpace;
assume T is  second-countable;
then consider B being (Basis of T) such that A1: B is  countable by TOPGEN_4:57;
A2: ( card B ) c= ( omega ) by A1,CARD_3:def 14;
let F being (Subset-Family of T);
assume that
A3: F is (Cover of T)
and
A4: F is  open;
defpred P[ set,set ]
 means
(for b being (Subset of T) holds (b = $1 implies (((ex y st (y in F & b c= y)) implies ($2 in F & b c= $2)) & ((for y holds (y in F implies (not b c= y))) implies $2 = ( {} )))));
A5: (for x holds (x in B implies (ex y st (y in ( bool (the carrier of T) ) & P[ x,y ]))))
proof
let x;
assume x in B;
then reconsider b = x as (Subset of T);
per cases ;
suppose (ex y st (y in F & b c= y));

then consider y such that A6: y in F and A7: b c= y;
reconsider y as (Subset of T) by A6;
take y;
thus thesis by A6,A7;
end;
suppose A8: (for y holds (y in F implies (not b c= y)));

take ( {} T );
thus thesis by A8;
end;
end;
consider p being (Function of B,( bool (the carrier of T) )) such that A9: (for x holds (x in B implies P[ x,( p . x ) ])) from FUNCT_2:sch 1(A5);
take RNG = ( ( rng p ) \ { ( {} ) } );
A10: ( dom p ) = B by FUNCT_2:def 1;
thus RNG c= F
proof
let y;
assume that
A11: y in RNG;
y in ( rng p ) by A11,XBOOLE_0:def 5;
then consider z being set such that A12: z in ( dom p ) and A13: ( p . z ) = y by FUNCT_1:def 3;
reconsider z as (Subset of T) by A10,A12;
((ex y st (y in F & z c= y)) or (for y holds (y in F implies (not z c= y))));
then ((( p . z ) in F & z c= ( p . z )) or ( p . z ) = ( {} )) by A9,A12;
hence thesis by A11,A13,ZFMISC_1:56;
end;

(the carrier of T) c= ( union RNG )
proof
let y;
assume y in (the carrier of T);
then reconsider q = y as (Point of T);
consider W being (Subset of T) such that A14: q in W and A15: W in F by A3,PCOMPS_1:3;
W is  open by A4,A15,TOPS_2:def 1;
then consider U being (Subset of T) such that A16: U in B and A17: q in U and A18: U c= W by A14,YELLOW_9:31;
A19: ( p . U ) in ( rng p ) by A10,A16,FUNCT_1:def 3;
then reconsider pU = ( p . U ) as (Subset of T);
A20: U c= pU by A9,A15,A16,A18;
then pU in RNG by A17,A19,ZFMISC_1:56;
hence thesis by A17,A20,TARSKI:def 4;
end;
then ( [#] T ) = ( union RNG ) by XBOOLE_0:def 10;
hence RNG is (Cover of T) by SETFAM_1:45;
( card ( rng p ) ) c= ( card B ) by A10,CARD_2:61;
then ( card ( rng p ) ) c= ( omega ) by A2,XBOOLE_1:1;
then ( rng p ) is  countable by CARD_3:def 14;
hence thesis by CARD_3:95;
end;
