environ
vocabularies NUMBERS,ORDINAL1,REAL_1,XBOOLE_0,METRIC_1,PROB_1,XXREAL_2,FUNCT_1,RELAT_1,STRUCT_0,PRE_TOPC,SUBSET_1,FUNCOP_1,XXREAL_0,MEASURE5,SEQ_1,CARD_1,ARYTM_1,ARYTM_3,VALUED_0,TARSKI,ORDINAL2,NAT_1,BHSP_3,COMPLEX1,RELAT_2,RCOMP_1,PCOMPS_1,ZFMISC_1,XREAL_0,REWRITE1,SETFAM_1,SEQ_2,METRIC_6,FRECHET,FINSET_1,VALUED_1,CARD_3,TOPGEN_1,WELLORD1,ORDERS_2,PARTFUN1,WELLFND1,TBSP_1,WAYBEL23,RLVECT_3,COMPL_SP;
notations METRIC_6,RELAT_2,BINOP_1,TOPMETR,CARD_1,FUNCOP_1,CANTOR_1,WELLORD1,COMPLEX1,FINSET_1,SEQ_2,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XXREAL_0,XREAL_0,REAL_1,SETFAM_1,DOMAIN_1,TOPS_2,FUNCT_1,VALUED_1,NAT_1,VALUED_0,STRUCT_0,PRE_TOPC,COMPTS_1,RELAT_1,SEQ_1,TBSP_1,RELSET_1,PARTFUN1,FUNCT_2,METRIC_1,PCOMPS_1,CARD_3,PROB_1,FRECHET,KURATO_0,KURATO_2,WELLFND1,WAYBEL23,ORDERS_2,TOPGEN_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40,CKB66,CKB68;
definitions TARSKI,TOPS_2,SUBSET_1,STRUCT_0,TBSP_1,PCOMPS_1,COMPTS_1,METRIC_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40,CKB68;
theorems KURATO_2,NAT_1,FUNCT_2,PCOMPS_1,PCOMPS_2,NAGATA_1,SUBSET_1,METRIC_6,FUNCT_1,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,TOPS_1,TOPS_2,PRE_TOPC,CARD_4,ZFMISC_1,BINOP_1,SEQ_2,SEQ_4,SEQ_1,SEQM_3,PARTFUN1,WELLORD1,WELLORD2,TBSP_1,RELAT_1,RELAT_2,YELLOW_9,XREAL_1,XXREAL_0,ORDINAL1,FRECHET2,FRECHET,COMPTS_1,STIRL2_1,CARD_1,HAUSDORF,TOPMETR3,CARD_3,TOPGEN_4,DICKSON,RELSET_2,TOPGEN_1,WELLFND1,WAYBEL23,UNIFORM1,CARD_2,TOPREAL6,FINSET_1,PROB_1,FUNCOP_1,KURATO_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB67,CKB68;
schemes FUNCT_1,WELLFND1,TREES_2,FUNCT_2,NAT_1,FRAENKEL,BINOP_1,SEQ_1,CKB56;
registrations REALSET1,TOPMETR,PRE_TOPC,PCOMPS_1,NAT_1,TBSP_1,XREAL_0,RELSET_1,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,HAUSDORF,MEMBERED,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,VALUED_1,FUNCT_2,NUMBERS,FINSET_1,SEQ_4,WELLFND1,ZFMISC_1,KURATO_0,CKB2,CKB11,CKB12,CKB13,CKB14,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26;
constructors REAL_1,NAT_1,TBSP_1,YELLOW_6,FRECHET,FRECHET2,KURATO_2,COMPLEX1,SEQ_2,TOPS_2,WELLORD1,CARD_3,CANTOR_1,URYSOHN3,METRIC_6,REALSET1,WELLFND1,TOPGEN_4,WAYBEL23,TOPGEN_1,SEQ_1,COMPTS_1,FINSUB_1,TOPS_1,BINOP_2,RVSUM_1,KURATO_0,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40,CKB66,CKB68;
requirements REAL,SUBSET,BOOLE,NUMERALS,ARITHM;
begin
reserve X for set;
theorem
(for M being MetrStruct holds (for a being (Point of M) holds (for X being non  empty set holds ((((( well_dist (a,X) ) is  Reflexive implies M is  Reflexive) & (( well_dist (a,X) ) is  symmetric implies M is  symmetric)) & (( well_dist (a,X) ) is  triangle  Reflexive implies M is  triangle)) & (( well_dist (a,X) ) is  discerning  Reflexive implies M is  discerning)))))
proof
let M being MetrStruct;
let A being (Point of M);
let X being non  empty set;
consider x0 being set such that A1: x0 in X by XBOOLE_0:def 1;
set w = ( well_dist (A,X) );
set XX = ( [: X,( (the carrier of M) \ { A } ) :] \/ { [ X,A ] } );
thus A2: (w is  Reflexive implies M is  Reflexive)
proof
assume A3: w is  Reflexive;
now
let a being (Element of M);
now
per cases ;
suppose a = A;

then A4: [ X,a ] in XX by CKB67:1;
hence ( dist (a,a) ) = ( w . ([ X,a ],[ X,a ]) ) by CKB68:def 1
.= ( 0 ) by A3,A4,METRIC_1:def 2;
end;
suppose a <> A;

then A5: [ x0,a ] in XX by A1,CKB67:1;
hence ( dist (a,a) ) = ( w . ([ x0,a ],[ x0,a ]) ) by CKB68:def 1
.= ( 0 ) by A3,A5,METRIC_1:def 2;
end;
end;
hence ( dist (a,a) ) = ( 0 );
end;
hence thesis by METRIC_1:1;
end;

thus (w is  symmetric implies M is  symmetric)
proof
assume A6: w is  symmetric;
now
let a being (Element of M);
let b being (Element of M);
now
per cases ;
suppose (a = A & b = A);

hence ( dist (a,b) ) = ( dist (b,a) );
end;
suppose A7: (a = A & b <> A);

then A8: [ x0,b ] in XX by A1,CKB67:1;
A9: [ X,A ] in XX by CKB67:1;
A10: X <> x0 by A1;
then ( ( dist (A,A) ) + ( dist (A,b) ) ) = ( w . ([ X,A ],[ x0,b ]) ) by A9,A8,CKB68:def 1
.= ( w . ([ x0,b ],[ X,A ]) ) by A6,A9,A8,METRIC_1:def 4
.= ( ( dist (b,A) ) + ( dist (A,A) ) ) by A9,A8,A10,CKB68:def 1;
hence ( dist (a,b) ) = ( dist (b,a) ) by A7;
end;
suppose A11: (a <> A & b = A);

then A12: [ x0,a ] in XX by A1,CKB67:1;
A13: [ X,A ] in XX by CKB67:1;
A14: X <> x0 by A1;
then ( ( dist (A,A) ) + ( dist (A,a) ) ) = ( w . ([ X,A ],[ x0,a ]) ) by A13,A12,CKB68:def 1
.= ( w . ([ x0,a ],[ X,A ]) ) by A6,A13,A12,METRIC_1:def 4
.= ( ( dist (a,A) ) + ( dist (A,A) ) ) by A13,A12,A14,CKB68:def 1;
hence ( dist (a,b) ) = ( dist (b,a) ) by A11;
end;
suppose A15: (a <> A & b <> A);

then A16: [ x0,b ] in XX by A1,CKB67:1;
A17: [ x0,a ] in XX by A1,A15,CKB67:1;
hence ( dist (a,b) ) = ( w . ([ x0,a ],[ x0,b ]) ) by A16,CKB68:def 1
.= ( w . ([ x0,b ],[ x0,a ]) ) by A6,A17,A16,METRIC_1:def 4
.= ( dist (b,a) ) by A17,A16,CKB68:def 1;
end;
end;
hence ( dist (a,b) ) = ( dist (b,a) );
end;
hence thesis by METRIC_1:3;
end;

thus (w is  triangle  Reflexive implies M is  triangle)
proof
assume A18: w is  triangle  Reflexive;
now
let a being (Point of M);
let b being (Point of M);
let c being (Point of M);
now
per cases ;
suppose ((a = A & b = A) & c = A);

then reconsider Xa = [ X,a ],Xb = [ X,b ],Xc = [ X,c ] as (Element of XX) by CKB67:1;
A19: ( dist (a,c) ) = ( w . (Xa,Xc) ) by CKB68:def 1;
A20: ( dist (a,b) ) = ( w . (Xa,Xb) ) by CKB68:def 1;
( w . (Xa,Xc) ) <= ( ( w . (Xa,Xb) ) + ( w . (Xb,Xc) ) ) by A18,METRIC_1:def 5;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A19,A20,CKB68:def 1;
end;
suppose A21: ((a = A & b = A) & c <> A);

( dist (a,a) ) = ( 0 ) by A2,A18,METRIC_1:1;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A21;
end;
suppose A22: ((a = A & b <> A) & c = A);

then reconsider Xa = [ X,a ],Xb = [ x0,b ],Xc = [ X,c ] as (Element of XX) by A1,CKB67:1;
A23: x0 <> X by A1;
then A24: ( ( dist (b,c) ) + ( dist (a,a) ) ) = ( w . (Xb,Xc) ) by A22,CKB68:def 1;
A25: ( dist (a,a) ) = ( 0 ) by A2,A18,METRIC_1:1;
A26: ( w . (Xa,Xc) ) <= ( ( w . (Xa,Xb) ) + ( w . (Xb,Xc) ) ) by A18,METRIC_1:def 5;
( ( dist (a,a) ) + ( dist (a,b) ) ) = ( w . (Xa,Xb) ) by A22,A23,CKB68:def 1;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A26,A24,A25,CKB68:def 1;
end;
suppose A27: ((a = A & b <> A) & c <> A);

then reconsider Xa = [ X,a ],Xb = [ x0,b ],Xc = [ x0,c ] as (Element of XX) by A1,CKB67:1;
A28: x0 <> X by A1;
then A29: ( ( dist (a,a) ) + ( dist (a,b) ) ) = ( w . (Xa,Xb) ) by A27,CKB68:def 1;
A30: ( dist (a,a) ) = ( 0 ) by A2,A18,METRIC_1:1;
A31: ( w . (Xa,Xc) ) <= ( ( w . (Xa,Xb) ) + ( w . (Xb,Xc) ) ) by A18,METRIC_1:def 5;
( ( dist (a,a) ) + ( dist (a,c) ) ) = ( w . (Xa,Xc) ) by A27,A28,CKB68:def 1;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A31,A29,A30,CKB68:def 1;
end;
suppose A32: ((a <> A & b = A) & c = A);

( dist (c,c) ) = ( 0 ) by A2,A18,METRIC_1:1;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A32;
end;
suppose A33: ((a <> A & b = A) & c <> A);

then reconsider Xa = [ x0,a ],Xb = [ X,b ],Xc = [ x0,c ] as (Element of XX) by A1,CKB67:1;
A34: x0 <> X by A1;
then A35: ( ( dist (b,b) ) + ( dist (b,c) ) ) = ( w . (Xb,Xc) ) by A33,CKB68:def 1;
A36: ( dist (b,b) ) = ( 0 ) by A2,A18,METRIC_1:1;
A37: ( w . (Xa,Xc) ) <= ( ( w . (Xa,Xb) ) + ( w . (Xb,Xc) ) ) by A18,METRIC_1:def 5;
( ( dist (a,b) ) + ( dist (b,b) ) ) = ( w . (Xa,Xb) ) by A33,A34,CKB68:def 1;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A37,A35,A36,CKB68:def 1;
end;
suppose A38: ((a <> A & b <> A) & c = A);

then reconsider Xa = [ x0,a ],Xb = [ x0,b ],Xc = [ X,c ] as (Element of XX) by A1,CKB67:1;
A39: x0 <> X by A1;
then A40: ( ( dist (b,c) ) + ( dist (c,c) ) ) = ( w . (Xb,Xc) ) by A38,CKB68:def 1;
A41: ( dist (c,c) ) = ( 0 ) by A2,A18,METRIC_1:1;
A42: ( w . (Xa,Xc) ) <= ( ( w . (Xa,Xb) ) + ( w . (Xb,Xc) ) ) by A18,METRIC_1:def 5;
( ( dist (a,c) ) + ( dist (c,c) ) ) = ( w . (Xa,Xc) ) by A38,A39,CKB68:def 1;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A42,A40,A41,CKB68:def 1;
end;
suppose ((a <> A & b <> A) & c <> A);

then reconsider Xa = [ x0,a ],Xb = [ x0,b ],Xc = [ x0,c ] as (Element of XX) by A1,CKB67:1;
A43: ( dist (a,c) ) = ( w . (Xa,Xc) ) by CKB68:def 1;
A44: ( dist (a,b) ) = ( w . (Xa,Xb) ) by CKB68:def 1;
( w . (Xa,Xc) ) <= ( ( w . (Xa,Xb) ) + ( w . (Xb,Xc) ) ) by A18,METRIC_1:def 5;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) ) by A43,A44,CKB68:def 1;
end;
end;
hence ( dist (a,c) ) <= ( ( dist (a,b) ) + ( dist (b,c) ) );
end;
hence thesis by METRIC_1:4;
end;

assume A45: w is  discerning  Reflexive;
now
let a being (Point of M);
let b being (Point of M);
assume A46: ( dist (a,b) ) = ( 0 );
now
per cases ;
suppose (a = A & b = A);

hence a = b;
end;
suppose A47: (a = A & b <> A);

then reconsider Xa = [ X,a ],Xb = [ x0,b ] as (Element of XX) by A1,CKB67:1;
x0 <> X by A1;
then A48: ( ( dist (a,a) ) + ( dist (a,b) ) ) = ( w . (Xa,Xb) ) by A47,CKB68:def 1;
( dist (a,a) ) = ( 0 ) by A2,A45,METRIC_1:1;
then Xa = Xb by A45,A46,A48,METRIC_1:def 3;
hence a = b by ZFMISC_1:27;
end;
suppose A49: (a <> A & b = A);

then reconsider Xa = [ x0,a ],Xb = [ X,b ] as (Element of XX) by A1,CKB67:1;
x0 <> X by A1;
then A50: ( ( dist (a,b) ) + ( dist (b,b) ) ) = ( w . (Xa,Xb) ) by A49,CKB68:def 1;
( dist (b,b) ) = ( 0 ) by A2,A45,METRIC_1:1;
then Xa = Xb by A45,A46,A50,METRIC_1:def 3;
hence a = b by ZFMISC_1:27;
end;
suppose (a <> A & b <> A);

then reconsider Xa = [ x0,a ],Xb = [ x0,b ] as (Element of XX) by A1,CKB67:1;
( dist (a,b) ) = ( w . (Xa,Xb) ) by CKB68:def 1;
then Xa = Xb by A45,A46,METRIC_1:def 3;
hence a = b by ZFMISC_1:27;
end;
end;
hence a = b;
end;
hence thesis by METRIC_1:2;
end;
