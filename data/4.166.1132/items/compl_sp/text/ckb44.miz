environ
vocabularies NUMBERS,ORDINAL1,REAL_1,XBOOLE_0,METRIC_1,PROB_1,XXREAL_2,FUNCT_1,RELAT_1,STRUCT_0,PRE_TOPC,SUBSET_1,FUNCOP_1,XXREAL_0,MEASURE5,SEQ_1,CARD_1,ARYTM_1,ARYTM_3,VALUED_0,TARSKI,ORDINAL2,NAT_1,BHSP_3,COMPLEX1,RELAT_2,RCOMP_1,PCOMPS_1,ZFMISC_1,XREAL_0,REWRITE1,SETFAM_1,SEQ_2,METRIC_6,FRECHET,FINSET_1,VALUED_1,CARD_3,TOPGEN_1,WELLORD1,ORDERS_2,PARTFUN1,WELLFND1,TBSP_1,WAYBEL23,RLVECT_3,COMPL_SP;
notations METRIC_6,RELAT_2,BINOP_1,TOPMETR,CARD_1,FUNCOP_1,CANTOR_1,WELLORD1,COMPLEX1,FINSET_1,SEQ_2,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XXREAL_0,XREAL_0,REAL_1,SETFAM_1,DOMAIN_1,TOPS_2,FUNCT_1,VALUED_1,NAT_1,VALUED_0,STRUCT_0,PRE_TOPC,COMPTS_1,RELAT_1,SEQ_1,TBSP_1,RELSET_1,PARTFUN1,FUNCT_2,METRIC_1,PCOMPS_1,CARD_3,PROB_1,FRECHET,KURATO_0,KURATO_2,WELLFND1,WAYBEL23,ORDERS_2,TOPGEN_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40;
definitions TARSKI,TOPS_2,SUBSET_1,STRUCT_0,TBSP_1,PCOMPS_1,COMPTS_1,METRIC_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40;
theorems KURATO_2,NAT_1,FUNCT_2,PCOMPS_1,PCOMPS_2,NAGATA_1,SUBSET_1,METRIC_6,FUNCT_1,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,TOPS_1,TOPS_2,PRE_TOPC,CARD_4,ZFMISC_1,BINOP_1,SEQ_2,SEQ_4,SEQ_1,SEQM_3,PARTFUN1,WELLORD1,WELLORD2,TBSP_1,RELAT_1,RELAT_2,YELLOW_9,XREAL_1,XXREAL_0,ORDINAL1,FRECHET2,FRECHET,COMPTS_1,STIRL2_1,CARD_1,HAUSDORF,TOPMETR3,CARD_3,TOPGEN_4,DICKSON,RELSET_2,TOPGEN_1,WELLFND1,WAYBEL23,UNIFORM1,CARD_2,TOPREAL6,FINSET_1,PROB_1,FUNCOP_1,KURATO_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes FUNCT_1,WELLFND1,TREES_2,FUNCT_2,NAT_1,FRAENKEL,BINOP_1,SEQ_1;
registrations REALSET1,TOPMETR,PRE_TOPC,PCOMPS_1,NAT_1,TBSP_1,XREAL_0,RELSET_1,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,HAUSDORF,MEMBERED,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,VALUED_1,FUNCT_2,NUMBERS,FINSET_1,SEQ_4,WELLFND1,ZFMISC_1,KURATO_0,CKB2,CKB11,CKB12,CKB13,CKB14,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26;
constructors REAL_1,NAT_1,TBSP_1,YELLOW_6,FRECHET,FRECHET2,KURATO_2,COMPLEX1,SEQ_2,TOPS_2,WELLORD1,CARD_3,CANTOR_1,URYSOHN3,METRIC_6,REALSET1,WELLFND1,TOPGEN_4,WAYBEL23,TOPGEN_1,SEQ_1,COMPTS_1,FINSUB_1,TOPS_1,BINOP_2,RVSUM_1,KURATO_0,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24,CKB40;
requirements REAL,SUBSET,BOOLE,NUMERALS,ARITHM;
begin
reserve i for  natural number;
reserve n for  natural number;
reserve x for set;
reserve y for set;
theorem
Th23: (for T being non  empty TopSpace holds (for F being (Subset-Family of T) holds (for S being (SetSequence of T) holds ((( rng S ) c= F & S is  non-empty) implies (ex R being  non-empty  closed (SetSequence of T) st ((R is  non-ascending & ((F is  locally_finite & S is  one-to-one) implies ( meet R ) = ( {} ))) & (for i holds (ex Si being (Subset-Family of T) st (( R . i ) = ( Cl ( union Si ) ) & Si = { ( S . j ) where j is (Element of ( NAT )): j >= i })))))))))
proof
let T being non  empty TopSpace;
let F being (Subset-Family of T);
let S being (SetSequence of T);
assume that
A1: ( rng S ) c= F
and
A2: S is  non-empty;
defpred r[ set,set ]
 means
(for i holds (i = $1 implies (ex SS being (Subset-Family of T) st ((SS c= F & SS = { ( S . j ) where j is (Element of ( NAT )): j >= i }) & $2 = ( Cl ( union SS ) )))));
A3: (for x holds (x in ( NAT ) implies (ex y st (y in ( bool (the carrier of T) ) & r[ x,y ]))))
proof
let x;
assume x in ( NAT );
then reconsider x9 = x as (Element of ( NAT ));
set SS = { ( S . j ) where j is (Element of ( NAT )): j >= x9 };
SS c= ( bool (the carrier of T) )
proof
let y;
assume y in SS;
then (ex j being (Element of ( NAT )) st (( S . j ) = y & j >= x9));
hence thesis;
end;
then reconsider SS as (Subset-Family of T);
take ( Cl ( union SS ) );
SS c= F
proof
let y;
assume y in SS;
then A4: (ex j being (Element of ( NAT )) st (( S . j ) = y & j >= x9));
( dom S ) = ( NAT ) by FUNCT_2:def 1;
then y in ( rng S ) by A4,FUNCT_1:def 3;
hence thesis by A1;
end;
hence thesis;
end;
consider R being (SetSequence of T) such that A5: (for x holds (x in ( NAT ) implies r[ x,( R . x ) ])) from FUNCT_2:sch 1(A3);
A6:now
let n being set;
assume n in ( dom R );
then reconsider n9 = n as (Element of ( NAT ));
A7: ( S . n9 ) c= ( Cl ( S . n9 ) ) by PRE_TOPC:18;
consider SS being (Subset-Family of T) such that SS c= F and A8: SS = { ( S . j ) where j is (Element of ( NAT )): j >= n9 } and A9: ( R . n9 ) = ( Cl ( union SS ) ) by A5;
( S . n9 ) in SS by A8;
then A10: ( Cl ( S . n9 ) ) c= ( Cl ( union SS ) ) by PRE_TOPC:19,ZFMISC_1:74;
( dom S ) = ( NAT ) by FUNCT_2:def 1;
hence ( R . n ) is non  empty by A2,A9,A7,A10,FUNCT_1:def 9;
end;
now
let n;
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
(ex SS being (Subset-Family of T) st ((SS c= F & SS = { ( S . j ) where j is (Element of ( NAT )): j >= n9 }) & ( R . n9 ) = ( Cl ( union SS ) ))) by A5;
hence ( R . n ) is  closed;
end;
then reconsider R as  non-empty  closed (SetSequence of T) by A6,CKB17:def 1,FUNCT_1:def 9;
take R;
now
let n being (Element of ( NAT ));
consider Sn being (Subset-Family of T) such that Sn c= F and A11: Sn = { ( S . j ) where j is (Element of ( NAT )): j >= n } and A12: ( R . n ) = ( Cl ( union Sn ) ) by A5;
consider Sn1 being (Subset-Family of T) such that Sn1 c= F and A13: Sn1 = { ( S . j ) where j is (Element of ( NAT )): j >= ( n + 1 ) } and A14: ( R . ( n + 1 ) ) = ( Cl ( union Sn1 ) ) by A5;
Sn1 c= Sn
proof
let y;
assume y in Sn1;
then consider j being (Element of ( NAT )) such that A15: y = ( S . j ) and A16: j >= ( n + 1 ) by A13;
j >= n by A16,NAT_1:13;
hence thesis by A11,A15;
end;
then ( union Sn1 ) c= ( union Sn ) by ZFMISC_1:77;
hence ( R . ( n + 1 ) ) c= ( R . n ) by A12,A14,PRE_TOPC:19;
end;
hence R is  non-ascending by KURATO_0:def 3;
thus ((F is  locally_finite & S is  one-to-one) implies ( meet R ) = ( {} ))
proof
A17: ( dom S ) = ( NAT ) by FUNCT_2:def 1;
then reconsider rngS = ( rng S ) as non  empty (Subset-Family of T) by RELAT_1:42;
reconsider Sp = S as (Function of ( NAT ),rngS) by A17,FUNCT_2:1;
assume that
A18: F is  locally_finite
and
A19: S is  one-to-one;
reconsider S9 = ( Sp " ) as Function;
reconsider S9 as (Function of rngS,( NAT )) by A19,FUNCT_2:25;
deffunc s9((Element of rngS)) = ( S9 . $1 );
assume ( meet R ) <> ( {} );
then consider x such that A20: x in ( meet R ) by XBOOLE_0:def 1;
reconsider x as (Point of T) by A20;
( rng S ) is  locally_finite by A1,A18,PCOMPS_1:9;
then consider W being (Subset of T) such that A21: x in W and A22: W is  open and A23: { V where V is (Subset of T): (V in rngS & V meets W) } is  finite by PCOMPS_1:def 1;
set X = { V where V is (Subset of T): (V in rngS & V meets W) };
set Y = { s9(z) where z is (Element of rngS): z in X };
A24: Y is  finite from FRAENKEL:sch 21(A23);
Y c= ( NAT )
proof
let y;
assume y in Y;
then (ex z being (Element of rngS) st (y = s9(z) & z in X));
hence thesis;
end;
then reconsider Y as (Subset of ( NAT ));
consider n being Nat such that A25: (for k being Nat holds (k in Y implies k <= n)) by A24,STIRL2_1:56;
set n1 = ( n + 1 );
A26: x in ( R . n1 ) by A20,KURATO_0:3;
consider Sn being (Subset-Family of T) such that A27: Sn c= F and A28: Sn = { ( S . j ) where j is (Element of ( NAT )): j >= n1 } and A29: ( R . n1 ) = ( Cl ( union Sn ) ) by A5;
( Cl ( union Sn ) ) = ( union ( clf Sn ) ) by A18,A27,PCOMPS_1:9,PCOMPS_1:20;
then consider CLF being set such that A30: x in CLF and A31: CLF in ( clf Sn ) by A29,A26,TARSKI:def 4;
reconsider CLF as (Subset of T) by A31;
consider U being (Subset of T) such that A32: CLF = ( Cl U ) and A33: U in Sn by A31,PCOMPS_1:def 2;
consider j being (Element of ( NAT )) such that A34: U = ( S . j ) and A35: j >= n1 by A28,A33;
A36: ( Sp . j ) in rngS;
( Sp . j ) meets W by A21,A22,A30,A32,A34,TOPS_1:12;
then A37: ( Sp . j ) in X by A36;
( ( S " ) . ( S . j ) ) = j by A19,FUNCT_2:26;
then j in Y by A37;
then j <= n by A25;
hence thesis by A35,NAT_1:13;
end;

let i;
i in ( NAT ) by ORDINAL1:def 12;
then (ex SS being (Subset-Family of T) st ((SS c= F & SS = { ( S . j ) where j is (Element of ( NAT )): j >= i }) & ( R . i ) = ( Cl ( union SS ) ))) by A5;
hence thesis;
end;
