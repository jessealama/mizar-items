environ
vocabularies NUMBERS,ORDINAL1,REAL_1,XBOOLE_0,METRIC_1,PROB_1,XXREAL_2,FUNCT_1,RELAT_1,STRUCT_0,PRE_TOPC,SUBSET_1,FUNCOP_1,XXREAL_0,MEASURE5,SEQ_1,CARD_1,ARYTM_1,ARYTM_3,VALUED_0,TARSKI,ORDINAL2,NAT_1,BHSP_3,COMPLEX1,RELAT_2,RCOMP_1,PCOMPS_1,ZFMISC_1,XREAL_0,REWRITE1,SETFAM_1,SEQ_2,METRIC_6,FRECHET,FINSET_1,VALUED_1,CARD_3,TOPGEN_1,WELLORD1,ORDERS_2,PARTFUN1,WELLFND1,TBSP_1,WAYBEL23,RLVECT_3,COMPL_SP;
notations METRIC_6,RELAT_2,BINOP_1,TOPMETR,CARD_1,FUNCOP_1,CANTOR_1,WELLORD1,COMPLEX1,FINSET_1,SEQ_2,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XXREAL_0,XREAL_0,REAL_1,SETFAM_1,DOMAIN_1,TOPS_2,FUNCT_1,VALUED_1,NAT_1,VALUED_0,STRUCT_0,PRE_TOPC,COMPTS_1,RELAT_1,SEQ_1,TBSP_1,RELSET_1,PARTFUN1,FUNCT_2,METRIC_1,PCOMPS_1,CARD_3,PROB_1,FRECHET,KURATO_0,KURATO_2,WELLFND1,WAYBEL23,ORDERS_2,TOPGEN_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24;
definitions TARSKI,TOPS_2,SUBSET_1,STRUCT_0,TBSP_1,PCOMPS_1,COMPTS_1,METRIC_1,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24;
theorems KURATO_2,NAT_1,FUNCT_2,PCOMPS_1,PCOMPS_2,NAGATA_1,SUBSET_1,METRIC_6,FUNCT_1,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,TOPS_1,TOPS_2,PRE_TOPC,CARD_4,ZFMISC_1,BINOP_1,SEQ_2,SEQ_4,SEQ_1,SEQM_3,PARTFUN1,WELLORD1,WELLORD2,TBSP_1,RELAT_1,RELAT_2,YELLOW_9,XREAL_1,XXREAL_0,ORDINAL1,FRECHET2,FRECHET,COMPTS_1,STIRL2_1,CARD_1,HAUSDORF,TOPMETR3,CARD_3,TOPGEN_4,DICKSON,RELSET_2,TOPGEN_1,WELLFND1,WAYBEL23,UNIFORM1,CARD_2,TOPREAL6,FINSET_1,PROB_1,FUNCOP_1,KURATO_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32;
schemes FUNCT_1,WELLFND1,TREES_2,FUNCT_2,NAT_1,FRAENKEL,BINOP_1,SEQ_1;
registrations REALSET1,TOPMETR,PRE_TOPC,PCOMPS_1,NAT_1,TBSP_1,XREAL_0,RELSET_1,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,HAUSDORF,MEMBERED,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,VALUED_1,FUNCT_2,NUMBERS,FINSET_1,SEQ_4,WELLFND1,ZFMISC_1,KURATO_0,CKB2,CKB11,CKB12,CKB13,CKB14,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26;
constructors REAL_1,NAT_1,TBSP_1,YELLOW_6,FRECHET,FRECHET2,KURATO_2,COMPLEX1,SEQ_2,TOPS_2,WELLORD1,CARD_3,CANTOR_1,URYSOHN3,METRIC_6,REALSET1,WELLFND1,TOPGEN_4,WAYBEL23,TOPGEN_1,SEQ_1,COMPTS_1,FINSUB_1,TOPS_1,BINOP_2,RVSUM_1,KURATO_0,CKB1,CKB3,CKB9,CKB10,CKB16,CKB17,CKB23,CKB24;
requirements REAL,SUBSET,BOOLE,NUMERALS,ARITHM;
begin
reserve i for  natural number;
reserve x for set;
reserve y for set;
theorem
Th13: (for T being non empty TopSpace holds (for F being (Subset-Family of T) holds (for S being (SetSequence of T) holds (( rng S ) c= F implies (ex R being (SetSequence of T) st ((((R is  non-ascending & (F is  centered implies R is  non-empty)) & (F is  open implies R is  open)) & (F is  closed implies R is  closed)) & (for i holds ( R . i ) = ( meet { ( S . j ) where j is (Element of ( NAT )): j <= i } ))))))))
proof
let T being non empty TopSpace;
let F being (Subset-Family of T);
let S being (SetSequence of T);
assume that
A1: ( rng S ) c= F;
A2: (for i holds { ( S . j ) where j is (Element of ( NAT )): j <= i } c= F)
proof
let i;
let x;
assume x in { ( S . j ) where j is (Element of ( NAT )): j <= i };
then A3: (ex j being (Element of ( NAT )) st (x = ( S . j ) & j <= i));
( dom S ) = ( NAT ) by FUNCT_2:def 1;
then x in ( rng S ) by A3,FUNCT_1:def 3;
hence thesis by A1;
end;
defpred P[ set,set ]
 means
(for i holds (i = $1 implies $2 = ( meet { ( S . j ) where j is (Element of ( NAT )): j <= i } )));
A4: (for x holds (x in ( NAT ) implies (ex y st (y in ( bool (the carrier of T) ) & P[ x,y ]))))
proof
let x;
assume x in ( NAT );
then reconsider i = x as (Element of ( NAT ));
set SS = { ( S . j ) where j is (Element of ( NAT )): j <= i };
SS c= F by A2;
then reconsider SS as (Subset-Family of T) by XBOOLE_1:1;
take ( meet SS );
thus thesis;
end;
consider R being (SetSequence of T) such that A5: (for x holds (x in ( NAT ) implies P[ x,( R . x ) ])) from FUNCT_2:sch 1(A4);
take R;
now
let i being (Element of ( NAT ));
set SS = { ( S . j ) where j is (Element of ( NAT )): j <= i };
set S1 = { ( S . j ) where j is (Element of ( NAT )): j <= ( i + 1 ) };
A6: SS c= S1
proof
let x;
assume x in SS;
then consider j being (Element of ( NAT )) such that A7: x = ( S . j ) and A8: j <= i;
j <= ( i + 1 ) by A8,NAT_1:13;
hence thesis by A7;
end;
A9: ( meet SS ) = ( R . i ) by A5;
( S . ( 0 ) ) in SS;
then ( meet S1 ) c= ( meet SS ) by A6,SETFAM_1:6;
hence ( R . ( i + 1 ) ) c= ( R . i ) by A5,A9;
end;
hence R is  non-ascending by KURATO_0:def 3;
A10: (for i holds { ( S . j ) where j is (Element of ( NAT )): j <= i } is  finite)
proof
deffunc F(set) = ( S . $1 );
let i;
set SS = { ( S . j ) where j is (Element of ( NAT )): j <= i };
A11: SS c= { F(j) where j is (Element of ( NAT )): j in ( i + 1 ) }
proof
let x;
assume x in SS;
then consider j being (Element of ( NAT )) such that A12: x = ( S . j ) and A13: j <= i;
j < ( i + 1 ) by A13,NAT_1:13;
then j in ( i + 1 ) by NAT_1:44;
hence thesis by A12;
end;
A14: ( i + 1 ) is  finite;
{ F(j) where j is (Element of ( NAT )): j in ( i + 1 ) } is  finite from FRAENKEL:sch 21(A14);
hence thesis by A11;
end;
thus (F is  centered implies R is  non-empty)
proof
assume A15: F is  centered;
now
let x;
assume x in ( dom R );
then reconsider i = x as (Element of ( NAT ));
set SS = { ( S . j ) where j is (Element of ( NAT )): j <= i };
A16: ( S . ( 0 ) ) in SS;
A17: SS c= F by A2;
SS is  finite by A10;
then ( meet SS ) <> ( {} ) by A15,A16,A17,FINSET_1:def 3;
hence ( R . x ) is non empty by A5;
end;
hence thesis by FUNCT_1:def 9;
end;

thus (F is  open implies R is  open)
proof
assume A18: F is  open;
let i;
set SS = { ( S . j ) where j is (Element of ( NAT )): j <= i };
A19: SS c= F by A2;
then reconsider SS as (Subset-Family of T) by XBOOLE_1:1;
SS is  finite by A10;
then A20: ( meet SS ) is  open by A18,A19,TOPS_2:11,TOPS_2:20;
i in ( NAT ) by ORDINAL1:def 12;
hence thesis by A5,A20;
end;

thus (F is  closed implies R is  closed)
proof
assume A21: F is  closed;
let i;
set SS = { ( S . j ) where j is (Element of ( NAT )): j <= i };
A22: i in ( NAT ) by ORDINAL1:def 12;
A23: SS c= F by A2;
then reconsider SS as (Subset-Family of T) by XBOOLE_1:1;
( meet SS ) is  closed by A21,A23,TOPS_2:12,TOPS_2:22;
hence thesis by A5,A22;
end;

let i;
i in ( NAT ) by ORDINAL1:def 12;
hence thesis by A5;
end;
