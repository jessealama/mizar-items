environ
vocabularies XBOOLE_0,SUBSET_1,PARTIT1,EQREL_1,TARSKI,SETFAM_1,FUNCOP_1,RELAT_1,ZFMISC_1,FUNCT_1,FUNCT_4,BVFUNC_2;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,SETFAM_1,EQREL_1,FUNCOP_1,PARTIT1,BVFUNC_1,BVFUNC_2,FUNCT_4;
definitions TARSKI,FUNCOP_1;
theorems TARSKI,FUNCT_1,SETFAM_1,EQREL_1,ZFMISC_1,PARTIT1,BVFUNC_2,BVFUNC11,ENUMSET1,FUNCOP_1,FUNCT_4,XBOOLE_0,XBOOLE_1,FUNCT_7,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34;
registrations XBOOLE_0,SUBSET_1,FUNCOP_1,FUNCT_4,EQREL_1;
constructors ENUMSET1,SETFAM_1,FUNCT_4,BVFUNC_1,BVFUNC_2;
requirements SUBSET,BOOLE;
begin
reserve Y for non  empty set;
reserve G for (Subset of ( PARTITIONS Y ));
reserve A for (a_partition of Y);
reserve B for (a_partition of Y);
reserve C for (a_partition of Y);
reserve D for (a_partition of Y);
reserve E for (a_partition of Y);
reserve F for (a_partition of Y);
theorem
Th34: ((((((((((((((((G = { A,B,C,D,E,F } & A <> B) & A <> C) & A <> D) & A <> E) & A <> F) & B <> C) & B <> D) & B <> E) & B <> F) & C <> D) & C <> E) & C <> F) & D <> E) & D <> F) & E <> F) implies ( CompF (A,G) ) = ( ( ( ( B '/\' C ) '/\' D ) '/\' E ) '/\' F ))
proof
assume that
A1: G = { A,B,C,D,E,F }
and
A2: A <> B
and
A3: A <> C
and
A4: (A <> D & A <> E)
and
A5: A <> F
and
A6: (((((((((B <> C & B <> D) & B <> E) & B <> F) & C <> D) & C <> E) & C <> F) & D <> E) & D <> F) & E <> F);
A7: ( G \ { A } ) = ( ( { A } \/ { B,C,D,E,F } ) \ { A } ) by A1,ENUMSET1:11
.= ( ( { A } \ { A } ) \/ ( { B,C,D,E,F } \ { A } ) ) by XBOOLE_1:42;
A8: (not F in { A }) by A5,TARSKI:def 1;
A9: ((not D in { A }) & (not E in { A })) by A4,TARSKI:def 1;
A10: (not C in { A }) by A3,TARSKI:def 1;
A11: (not B in { A }) by A2,TARSKI:def 1;
A in { A } by TARSKI:def 1;
then A12: ( { A } \ { A } ) = ( {} ) by ZFMISC_1:60;
A13: ( { B,C,D,E,F } \ { A } ) = ( ( { B } \/ { C,D,E,F } ) \ { A } ) by ENUMSET1:7
.= ( ( { B } \ { A } ) \/ ( { C,D,E,F } \ { A } ) ) by XBOOLE_1:42
.= ( { B } \/ ( { C,D,E,F } \ { A } ) ) by A11,ZFMISC_1:59
.= ( { B } \/ ( ( { C } \/ { D,E,F } ) \ { A } ) ) by ENUMSET1:4
.= ( { B } \/ ( ( { C } \ { A } ) \/ ( { D,E,F } \ { A } ) ) ) by XBOOLE_1:42
.= ( { B } \/ ( ( { C } \ { A } ) \/ ( ( { D,E } \/ { F } ) \ { A } ) ) ) by ENUMSET1:3
.= ( { B } \/ ( ( { C } \ { A } ) \/ ( ( { D,E } \ { A } ) \/ ( { F } \ { A } ) ) ) ) by XBOOLE_1:42
.= ( { B } \/ ( ( { C } \ { A } ) \/ ( { D,E } \/ ( { F } \ { A } ) ) ) ) by A9,ZFMISC_1:63
.= ( { B } \/ ( ( { C } \ { A } ) \/ ( { D,E } \/ { F } ) ) ) by A8,ZFMISC_1:59
.= ( { B } \/ ( { C } \/ ( { D,E } \/ { F } ) ) ) by A10,ZFMISC_1:59
.= ( { B } \/ ( { C } \/ { D,E,F } ) ) by ENUMSET1:3
.= ( { B } \/ { C,D,E,F } ) by ENUMSET1:4
.= { B,C,D,E,F } by ENUMSET1:7;
A14: ( ( ( ( B '/\' C ) '/\' D ) '/\' E ) '/\' F ) c= ( '/\' ( G \ { A } ) )
proof
let x being set;
assume A15: x in ( ( ( ( B '/\' C ) '/\' D ) '/\' E ) '/\' F );
then A16: x <> ( {} ) by EQREL_1:def 4;
x in ( ( INTERSECTION (( ( ( B '/\' C ) '/\' D ) '/\' E ),F) ) \ { ( {} ) } ) by A15,PARTIT1:def 4;
then consider bcde,f being set such that A17: bcde in ( ( ( B '/\' C ) '/\' D ) '/\' E ) and A18: f in F and A19: x = ( bcde /\ f ) by SETFAM_1:def 5;
bcde in ( ( INTERSECTION (( ( B '/\' C ) '/\' D ),E) ) \ { ( {} ) } ) by A17,PARTIT1:def 4;
then consider bcd,e being set such that A20: bcd in ( ( B '/\' C ) '/\' D ) and A21: e in E and A22: bcde = ( bcd /\ e ) by SETFAM_1:def 5;
bcd in ( ( INTERSECTION (( B '/\' C ),D) ) \ { ( {} ) } ) by A20,PARTIT1:def 4;
then consider bc,d being set such that A23: bc in ( B '/\' C ) and A24: d in D and A25: bcd = ( bc /\ d ) by SETFAM_1:def 5;
bc in ( ( INTERSECTION (B,C) ) \ { ( {} ) } ) by A23,PARTIT1:def 4;
then consider b,c being set such that A26: b in B and A27: c in C and A28: bc = ( b /\ c ) by SETFAM_1:def 5;
set h = ( ( ( ( ( B .--> b ) +* ( C .--> c ) ) +* ( D .--> d ) ) +* ( E .--> e ) ) +* ( F .--> f ) );
A29: ( h . B ) = b by A6,CKB30:1;
A30: ( h . E ) = e by A6,CKB30:1;
A31: ( h . F ) = f by A6,CKB30:1;
A32: ( dom ( ( ( ( ( B .--> b ) +* ( C .--> c ) ) +* ( D .--> d ) ) +* ( E .--> e ) ) +* ( F .--> f ) ) ) = { F,B,C,D,E } by CKB31:1
.= ( { F } \/ { B,C,D,E } ) by ENUMSET1:7
.= { B,C,D,E,F } by ENUMSET1:10;
then A33: C in ( dom h ) by ENUMSET1:def 3;
A34: F in ( dom h ) by A32,ENUMSET1:def 3;
A35: E in ( dom h ) by A32,ENUMSET1:def 3;
A36: ( h . C ) = c by A6,CKB30:1;
A37: ( rng h ) c= { ( h . D ),( h . B ),( h . C ),( h . E ),( h . F ) }
proof
let t being set;
assume t in ( rng h );
then consider x1 being set such that A38: x1 in ( dom h ) and A39: t = ( h . x1 ) by FUNCT_1:def 3;
now
per cases  by A32,A38,ENUMSET1:def 3;
case x1 = D;
hence thesis by A39,ENUMSET1:def 3;
end;
case x1 = B;
hence thesis by A39,ENUMSET1:def 3;
end;
case x1 = C;
hence thesis by A39,ENUMSET1:def 3;
end;
case x1 = E;
hence thesis by A39,ENUMSET1:def 3;
end;
case x1 = F;
hence thesis by A39,ENUMSET1:def 3;
end;
end;
hence thesis;
end;
A40: ( h . D ) = d by A6,CKB30:1;
( rng h ) c= ( bool Y )
proof
let t being set;
assume A41: t in ( rng h );
now
per cases  by A37,A41,ENUMSET1:def 3;
case t = ( h . D );
hence thesis by A24,A40;
end;
case t = ( h . B );
hence thesis by A26,A29;
end;
case t = ( h . C );
hence thesis by A27,A36;
end;
case t = ( h . E );
hence thesis by A21,A30;
end;
case t = ( h . F );
hence thesis by A18,A31;
end;
end;
hence thesis;
end;
then reconsider FF = ( rng h ) as (Subset-Family of Y);
A42: D in ( dom h ) by A32,ENUMSET1:def 3;
then ( h . D ) in ( rng h ) by FUNCT_1:def 3;
then A43: ( Intersect FF ) = ( meet ( rng h ) ) by SETFAM_1:def 9;
A44: B in ( dom h ) by A32,ENUMSET1:def 3;
{ ( h . D ),( h . B ),( h . C ),( h . E ),( h . F ) } c= ( rng h )
proof
let t being set;
assume A45: t in { ( h . D ),( h . B ),( h . C ),( h . E ),( h . F ) };
now
per cases  by A45,ENUMSET1:def 3;
case t = ( h . D );
hence thesis by A42,FUNCT_1:def 3;
end;
case t = ( h . B );
hence thesis by A44,FUNCT_1:def 3;
end;
case t = ( h . C );
hence thesis by A33,FUNCT_1:def 3;
end;
case t = ( h . E );
hence thesis by A35,FUNCT_1:def 3;
end;
case t = ( h . F );
hence thesis by A34,FUNCT_1:def 3;
end;
end;
hence thesis;
end;
then A46: ( rng h ) = { ( h . D ),( h . B ),( h . C ),( h . E ),( h . F ) } by A37,XBOOLE_0:def 10;
A47: x c= ( Intersect FF )
proof
let u being set;
assume A48: u in x;
(for y being set holds (y in FF implies u in y))
proof
let y being set;
assume A49: y in FF;
now
per cases  by A37,A49,ENUMSET1:def 3;
case A50: y = ( h . D );
u in ( ( d /\ ( ( b /\ c ) /\ e ) ) /\ f ) by A19,A22,A25,A28,A48,XBOOLE_1:16;
then A51: u in ( d /\ ( ( ( b /\ c ) /\ e ) /\ f ) ) by XBOOLE_1:16;
y = d by A6,A50,CKB30:1;
hence thesis by A51,XBOOLE_0:def 4;
end;
case A52: y = ( h . B );
u in ( ( ( c /\ ( d /\ b ) ) /\ e ) /\ f ) by A19,A22,A25,A28,A48,XBOOLE_1:16;
then u in ( ( c /\ ( ( d /\ b ) /\ e ) ) /\ f ) by XBOOLE_1:16;
then u in ( ( c /\ ( ( d /\ e ) /\ b ) ) /\ f ) by XBOOLE_1:16;
then u in ( c /\ ( ( ( d /\ e ) /\ b ) /\ f ) ) by XBOOLE_1:16;
then u in ( c /\ ( ( d /\ e ) /\ ( f /\ b ) ) ) by XBOOLE_1:16;
then u in ( ( c /\ ( d /\ e ) ) /\ ( f /\ b ) ) by XBOOLE_1:16;
then A53: u in ( ( ( c /\ ( d /\ e ) ) /\ f ) /\ b ) by XBOOLE_1:16;
y = b by A6,A52,CKB30:1;
hence thesis by A53,XBOOLE_0:def 4;
end;
case A54: y = ( h . C );
u in ( ( ( c /\ ( b /\ d ) ) /\ e ) /\ f ) by A19,A22,A25,A28,A48,XBOOLE_1:16;
then u in ( ( c /\ ( ( b /\ d ) /\ e ) ) /\ f ) by XBOOLE_1:16;
then A55: u in ( c /\ ( ( ( b /\ d ) /\ e ) /\ f ) ) by XBOOLE_1:16;
y = c by A6,A54,CKB30:1;
hence thesis by A55,XBOOLE_0:def 4;
end;
case y = ( h . E );
then A56: y = e by A6,CKB30:1;
u in ( ( ( ( b /\ c ) /\ d ) /\ f ) /\ e ) by A19,A22,A25,A28,A48,XBOOLE_1:16;
hence thesis by A56,XBOOLE_0:def 4;
end;
case y = ( h . F );
hence thesis by A19,A31,A48,XBOOLE_0:def 4;
end;
end;
hence thesis;
end;
then u in ( meet FF ) by A46,SETFAM_1:def 1;
hence thesis by A46,SETFAM_1:def 9;
end;
A57: (for p being set holds (p in ( G \ { A } ) implies ( h . p ) in p))
proof
let p being set;
assume A58: p in ( G \ { A } );
now
per cases  by A7,A12,A58,ENUMSET1:def 3;
case p = D;
hence thesis by A6,A24,CKB30:1;
end;
case p = B;
hence thesis by A6,A26,CKB30:1;
end;
case p = C;
hence thesis by A6,A27,CKB30:1;
end;
case p = E;
hence thesis by A6,A21,CKB30:1;
end;
case p = F;
hence thesis by A6,A18,CKB30:1;
end;
end;
hence thesis;
end;
( Intersect FF ) c= x
proof
let t being set;
assume A59: t in ( Intersect FF );
( h . C ) in ( rng h ) by A46,ENUMSET1:def 3;
then A60: t in c by A36,A43,A59,SETFAM_1:def 1;
( h . B ) in ( rng h ) by A46,ENUMSET1:def 3;
then t in b by A29,A43,A59,SETFAM_1:def 1;
then A61: t in ( b /\ c ) by A60,XBOOLE_0:def 4;
( h . D ) in ( rng h ) by A46,ENUMSET1:def 3;
then t in d by A40,A43,A59,SETFAM_1:def 1;
then A62: t in ( ( b /\ c ) /\ d ) by A61,XBOOLE_0:def 4;
( h . E ) in ( rng h ) by A46,ENUMSET1:def 3;
then t in e by A30,A43,A59,SETFAM_1:def 1;
then A63: t in ( ( ( b /\ c ) /\ d ) /\ e ) by A62,XBOOLE_0:def 4;
( h . F ) in ( rng h ) by A46,ENUMSET1:def 3;
then t in f by A31,A43,A59,SETFAM_1:def 1;
hence thesis by A19,A22,A25,A28,A63,XBOOLE_0:def 4;
end;
then x = ( Intersect FF ) by A47,XBOOLE_0:def 10;
hence thesis by A7,A13,A12,A32,A57,A16,BVFUNC_2:def 1;
end;
A64: ( '/\' ( G \ { A } ) ) c= ( ( ( ( B '/\' C ) '/\' D ) '/\' E ) '/\' F )
proof
let x being set;
assume x in ( '/\' ( G \ { A } ) );
then consider h being Function,FF being (Subset-Family of Y) such that A65: ( dom h ) = ( G \ { A } ) and A66: ( rng h ) = FF and A67: (for d being set holds (d in ( G \ { A } ) implies ( h . d ) in d)) and A68: x = ( Intersect FF ) and A69: x <> ( {} ) by BVFUNC_2:def 1;
A70: C in ( G \ { A } ) by A7,A13,A12,ENUMSET1:def 3;
then A71: ( h . C ) in C by A67;
set mbc = ( ( h . B ) /\ ( h . C ) );
A72: B in ( G \ { A } ) by A7,A13,A12,ENUMSET1:def 3;
then ( h . B ) in B by A67;
then A73: mbc in ( INTERSECTION (B,C) ) by A71,SETFAM_1:def 5;
set mbcd = ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) );
A74: E in ( G \ { A } ) by A7,A13,A12,ENUMSET1:def 3;
then A75: ( h . E ) in ( rng h ) by A65,FUNCT_1:def 3;
A76: ( h . B ) in ( rng h ) by A65,A72,FUNCT_1:def 3;
then A77: ( Intersect FF ) = ( meet ( rng h ) ) by A66,SETFAM_1:def 9;
A78: ( h . C ) in ( rng h ) by A65,A70,FUNCT_1:def 3;
A79: F in ( G \ { A } ) by A7,A13,A12,ENUMSET1:def 3;
then A80: ( h . F ) in ( rng h ) by A65,FUNCT_1:def 3;
A81: D in ( G \ { A } ) by A7,A13,A12,ENUMSET1:def 3;
then A82: ( h . D ) in ( rng h ) by A65,FUNCT_1:def 3;
A83: x c= ( ( ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) /\ ( h . E ) ) /\ ( h . F ) )
proof
let m being set;
assume A84: m in x;
then (m in ( h . B ) & m in ( h . C )) by A68,A76,A78,A77,SETFAM_1:def 1;
then A85: m in ( ( h . B ) /\ ( h . C ) ) by XBOOLE_0:def 4;
m in ( h . D ) by A68,A82,A77,A84,SETFAM_1:def 1;
then A86: m in ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) by A85,XBOOLE_0:def 4;
m in ( h . E ) by A68,A75,A77,A84,SETFAM_1:def 1;
then A87: m in ( ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) /\ ( h . E ) ) by A86,XBOOLE_0:def 4;
m in ( h . F ) by A68,A80,A77,A84,SETFAM_1:def 1;
hence thesis by A87,XBOOLE_0:def 4;
end;
then mbcd <> ( {} ) by A69;
then A88: (not mbcd in { ( {} ) }) by TARSKI:def 1;
A89: ( rng h ) <> ( {} ) by A65,A72,FUNCT_1:3;
( ( ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) /\ ( h . E ) ) /\ ( h . F ) ) c= x
proof
let m being set;
assume A90: m in ( ( ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) /\ ( h . E ) ) /\ ( h . F ) );
then A91: m in ( ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) /\ ( h . E ) ) by XBOOLE_0:def 4;
then A92: m in ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) by XBOOLE_0:def 4;
then A93: m in ( ( h . B ) /\ ( h . C ) ) by XBOOLE_0:def 4;
A94: ( rng h ) c= { ( h . B ),( h . C ),( h . D ),( h . E ),( h . F ) }
proof
let u being set;
assume u in ( rng h );
then consider x1 being set such that A95: x1 in ( dom h ) and A96: u = ( h . x1 ) by FUNCT_1:def 3;
now
per cases  by A7,A12,A65,A95,ENUMSET1:def 3;
case x1 = B;
hence thesis by A96,ENUMSET1:def 3;
end;
case x1 = C;
hence thesis by A96,ENUMSET1:def 3;
end;
case x1 = D;
hence thesis by A96,ENUMSET1:def 3;
end;
case x1 = E;
hence thesis by A96,ENUMSET1:def 3;
end;
case x1 = F;
hence thesis by A96,ENUMSET1:def 3;
end;
end;
hence thesis;
end;
(for y being set holds (y in ( rng h ) implies m in y))
proof
let y being set;
assume A97: y in ( rng h );
now
per cases  by A94,A97,ENUMSET1:def 3;
case y = ( h . B );
hence thesis by A93,XBOOLE_0:def 4;
end;
case y = ( h . C );
hence thesis by A93,XBOOLE_0:def 4;
end;
case y = ( h . D );
hence thesis by A92,XBOOLE_0:def 4;
end;
case y = ( h . E );
hence thesis by A91,XBOOLE_0:def 4;
end;
case y = ( h . F );
hence thesis by A90,XBOOLE_0:def 4;
end;
end;
hence thesis;
end;
hence thesis by A68,A89,A77,SETFAM_1:def 1;
end;
then A98: ( ( ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) /\ ( h . E ) ) /\ ( h . F ) ) = x by A83,XBOOLE_0:def 10;
mbc <> ( {} ) by A69,A83;
then (not mbc in { ( {} ) }) by TARSKI:def 1;
then mbc in ( ( INTERSECTION (B,C) ) \ { ( {} ) } ) by A73,XBOOLE_0:def 5;
then A99: mbc in ( B '/\' C ) by PARTIT1:def 4;
( h . D ) in D by A67,A81;
then mbcd in ( INTERSECTION (( B '/\' C ),D) ) by A99,SETFAM_1:def 5;
then mbcd in ( ( INTERSECTION (( B '/\' C ),D) ) \ { ( {} ) } ) by A88,XBOOLE_0:def 5;
then A100: mbcd in ( ( B '/\' C ) '/\' D ) by PARTIT1:def 4;
set mbcde = ( ( ( ( h . B ) /\ ( h . C ) ) /\ ( h . D ) ) /\ ( h . E ) );
A101: (not x in { ( {} ) }) by A69,TARSKI:def 1;
mbcde <> ( {} ) by A69,A83;
then A102: (not mbcde in { ( {} ) }) by TARSKI:def 1;
( h . E ) in E by A67,A74;
then mbcde in ( INTERSECTION (( ( B '/\' C ) '/\' D ),E) ) by A100,SETFAM_1:def 5;
then mbcde in ( ( INTERSECTION (( ( B '/\' C ) '/\' D ),E) ) \ { ( {} ) } ) by A102,XBOOLE_0:def 5;
then A103: mbcde in ( ( ( B '/\' C ) '/\' D ) '/\' E ) by PARTIT1:def 4;
( h . F ) in F by A67,A79;
then x in ( INTERSECTION (( ( ( B '/\' C ) '/\' D ) '/\' E ),F) ) by A98,A103,SETFAM_1:def 5;
then x in ( ( INTERSECTION (( ( ( B '/\' C ) '/\' D ) '/\' E ),F) ) \ { ( {} ) } ) by A101,XBOOLE_0:def 5;
hence thesis by PARTIT1:def 4;
end;
( CompF (A,G) ) = ( '/\' ( G \ { A } ) ) by BVFUNC_2:def 7;
hence thesis by A14,A64,XBOOLE_0:def 10;
end;
