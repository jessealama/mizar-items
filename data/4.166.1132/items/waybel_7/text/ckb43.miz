environ
vocabularies REWRITE1,WAYBEL_0,TARSKI,EQREL_1,XXREAL_0,LATTICES,YELLOW_0,STRUCT_0,YELLOW_1,ZFMISC_1,ORDERS_2,WELLORD2,XXREAL_2,RELAT_2,XBOOLE_0,SUBSET_1,CARD_FIL,XBOOLEAN,FINSET_1,SETFAM_1,ORDINAL2,LATTICE3,INT_2,ARYTM_0,RELAT_1,WAYBEL_6,METRIC_1,ORDINAL1,PRE_TOPC,RCOMP_1,WAYBEL_3,FUNCT_1,CANTOR_1,RLVECT_3,MSSUBFAM,WAYBEL_4,CAT_1,MCART_1,WAYBEL_7;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,RELSET_1,FUNCT_1,FINSET_1,FUNCT_2,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_2,CANTOR_1,ORDINAL1,ORDERS_2,LATTICE3,ALG_1,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_1,YELLOW_3,WAYBEL_3,YELLOW_7,WAYBEL_6,WAYBEL_4,CKB16,CKB20,CKB30,CKB39,CKB40;
definitions TARSKI,YELLOW_0,WAYBEL_0,PRE_TOPC,TOPS_2,WAYBEL_1,WAYBEL_3,WAYBEL_6,XBOOLE_0,SUBSET_1,STRUCT_0,CKB16,CKB20,CKB30,CKB39,CKB40;
theorems TARSKI,ZFMISC_1,SUBSET_1,CANTOR_1,TOPS_2,SETFAM_1,ORDERS_2,YELLOW_0,WAYBEL_0,ORDERS_1,YELLOW_2,WAYBEL_1,YELLOW_1,WAYBEL_3,FINSET_1,PRE_TOPC,FUNCT_1,LATTICE3,WAYBEL_6,YELLOW_7,WAYBEL_5,WAYBEL_4,YELLOW_3,MCART_1,FUNCT_5,YELLOW_5,ORDINAL1,XBOOLE_0,XBOOLE_1,STRUCT_0,CKB1,CKB2,CKB3,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB42;
schemes FUNCT_1,FINSET_1;
registrations XBOOLE_0,SUBSET_1,FINSET_1,STRUCT_0,PRE_TOPC,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,YELLOW_7,WAYBEL_6,RELAT_1,CKB4,CKB5,CKB7,CKB8,CKB18,CKB22,CKB31,CKB41;
constructors SETFAM_1,DOMAIN_1,TOPS_2,TEX_2,CANTOR_1,WAYBEL_1,YELLOW_3,YELLOW_4,WAYBEL_3,WAYBEL_4,WAYBEL_6,CKB16,CKB20,CKB30,CKB39,CKB40;
requirements SUBSET,BOOLE;
begin
theorem
Th32: (for T being non empty TopSpace holds (for x,y being (Element of ( InclPoset (the topology of T) )) holds (x << y implies (for F being  proper (Filter of ( BoolePoset (the carrier of T) )) holds (x in F implies (ex p being (Element of T) st (p in y & p is_a_cluster_point_of F,T)))))))
proof
defpred P[ set,set ]
 means
$1 misses $2;
let T being non empty TopSpace;
set L = ( InclPoset (the topology of T) );
set B = ( BoolePoset (the carrier of T) );
let x being (Element of L),y being (Element of L);
assume that
A1: x << y;
B = ( InclPoset ( bool (the carrier of T) ) ) by YELLOW_1:4;
then A2: B = RelStr (# ( bool (the carrier of T) ),( RelIncl ( bool (the carrier of T) ) ) #) by YELLOW_1:def 1;
(x in (the carrier of L) & L = RelStr (# (the topology of T),( RelIncl (the topology of T) ) #)) by YELLOW_1:def 1;
then reconsider x9 = x as (Element of B) by A2;
let F being  proper (Filter of B);
assume that
A3: x in F
and
A4: (for x being (Element of T) holds (x in y implies (not x is_a_cluster_point_of F,T)));
set V = { A where A is (Subset of T): ((A is  open & A meets y) & (ex B being set st (B in F & A misses B))) };
V c= ( bool (the carrier of T) )
proof
let a being set;
assume a in V;
then (ex C being (Subset of T) st (((a = C & C is  open) & C meets y) & (ex B being set st (B in F & C misses B))));
hence thesis;
end;
then reconsider V as (Subset-Family of T);
reconsider V as (Subset-Family of T);
A5: y c= ( union V )
proof
let x being set;
assume A6: x in y;
L = RelStr (# (the topology of T),( RelIncl (the topology of T) ) #) by YELLOW_1:def 1;
then y in (the topology of T);
then (not x is_a_cluster_point_of F,T) by A4,A6;
then consider A being (Subset of T) such that A7: A is  open and A8: x in A and A9: (ex B being set st (B in F & A misses B)) by CKB39:def 1;
A meets y by A6,A8,XBOOLE_0:3;
then A in V by A7,A9;
hence thesis by A8,TARSKI:def 4;
end;
V is  open
proof
let a being (Subset of T);
assume a in V;
then (ex C being (Subset of T) st (((a = C & C is  open) & C meets y) & (ex B being set st (B in F & C misses B))));
hence thesis;
end;
then consider W being  finite (Subset of V) such that A10: x c= ( union W ) by A1,A5,WAYBEL_3:34;
A11:now
let A being set;
assume A in W;
then A in V;
then (ex C being (Subset of T) st (((A = C & C is  open) & C meets y) & (ex B being set st (B in F & C misses B))));
hence (ex B being set st (B in F & P[ A,B ]));
end;
consider f being Function such that A12: ((( dom f ) = W & ( rng f ) c= F) & (for A being set holds (A in W implies P[ A,( f . A ) ]))) from FUNCT_1:sch 5(A11);
( rng f ) is  finite by A12,FINSET_1:8;
then consider z being (Element of ( BoolePoset (the carrier of T) )) such that A13: z in F and A14: z is_<=_than ( rng f ) by A12,WAYBEL_0:2;
set a = the (Element of ( x9 "/\" z ));
( x9 "/\" z ) in F by A3,A13,WAYBEL_0:41;
then ( x9 "/\" z ) <> ( Bottom B ) by CKB6:1;
then ( x9 "/\" z ) <> ( {} ) by YELLOW_1:18;
then A15: a in ( x9 "/\" z );
A16: ( x9 "/\" z ) c= ( x9 /\ z ) by YELLOW_1:17;
then a in x by A15,XBOOLE_0:def 4;
then consider A being set such that A17: a in A and A18: A in W by A10,TARSKI:def 4;
A19: a in z by A15,A16,XBOOLE_0:def 4;
A20: ( f . A ) in ( rng f ) by A12,A18,FUNCT_1:def 3;
then ( f . A ) in F by A12;
then reconsider b = ( f . A ) as (Element of B);
z <= b by A14,A20,LATTICE3:def 8;
then A21: z c= b by YELLOW_1:2;
A misses b by A12,A18;
hence contradiction by A19,A17,A21,XBOOLE_0:3;
end;
