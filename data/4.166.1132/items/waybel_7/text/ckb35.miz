environ
vocabularies REWRITE1,WAYBEL_0,TARSKI,EQREL_1,XXREAL_0,LATTICES,YELLOW_0,STRUCT_0,YELLOW_1,ZFMISC_1,ORDERS_2,WELLORD2,XXREAL_2,RELAT_2,XBOOLE_0,SUBSET_1,CARD_FIL,XBOOLEAN,FINSET_1,SETFAM_1,ORDINAL2,LATTICE3,INT_2,ARYTM_0,RELAT_1,WAYBEL_6,METRIC_1,ORDINAL1,PRE_TOPC,RCOMP_1,WAYBEL_3,FUNCT_1,CANTOR_1,RLVECT_3,MSSUBFAM,WAYBEL_4,CAT_1,MCART_1,WAYBEL_7;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,RELSET_1,FUNCT_1,FINSET_1,FUNCT_2,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_2,CANTOR_1,ORDINAL1,ORDERS_2,LATTICE3,ALG_1,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_1,YELLOW_3,WAYBEL_3,YELLOW_7,WAYBEL_6,WAYBEL_4,CKB16,CKB20,CKB30;
definitions TARSKI,YELLOW_0,WAYBEL_0,PRE_TOPC,TOPS_2,WAYBEL_1,WAYBEL_3,WAYBEL_6,XBOOLE_0,SUBSET_1,STRUCT_0,CKB16,CKB20,CKB30;
theorems TARSKI,ZFMISC_1,SUBSET_1,CANTOR_1,TOPS_2,SETFAM_1,ORDERS_2,YELLOW_0,WAYBEL_0,ORDERS_1,YELLOW_2,WAYBEL_1,YELLOW_1,WAYBEL_3,FINSET_1,PRE_TOPC,FUNCT_1,LATTICE3,WAYBEL_6,YELLOW_7,WAYBEL_5,WAYBEL_4,YELLOW_3,MCART_1,FUNCT_5,YELLOW_5,ORDINAL1,XBOOLE_0,XBOOLE_1,STRUCT_0,CKB1,CKB2,CKB3,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB32,CKB33,CKB34;
schemes FUNCT_1,FINSET_1;
registrations XBOOLE_0,SUBSET_1,FINSET_1,STRUCT_0,PRE_TOPC,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,YELLOW_7,WAYBEL_6,RELAT_1,CKB4,CKB5,CKB7,CKB8,CKB18,CKB22,CKB31;
constructors SETFAM_1,DOMAIN_1,TOPS_2,TEX_2,CANTOR_1,WAYBEL_1,YELLOW_3,YELLOW_4,WAYBEL_3,WAYBEL_4,WAYBEL_6,CKB16,CKB20,CKB30;
requirements SUBSET,BOOLE;
begin
theorem
Th27: (for L being  distributive LATTICE holds (for I being (Ideal of L) holds (for F being (Filter of L) holds (I misses F implies (ex P being (Ideal of L) st ((P is  prime & I c= P) & P misses F))))))
proof
let L being  distributive LATTICE;
let I being (Ideal of L);
let F being (Filter of L);
assume that
A1: I misses F;
set X = { P where P is (Ideal of L): (I c= P & P misses F) };
A2:now
let A being set;
assume A in X;
then (ex P being (Ideal of L) st ((A = P & I c= P) & P misses F));
hence (I c= A & A misses F);
end;
A3:now
let Z being set;
assume that
A4: Z <> ( {} )
and
A5: Z c= X
and
A6: Z is  c=-linear;
Z c= ( bool (the carrier of L) )
proof
let x being set;
assume x in Z;
then x in X by A5;
then (ex P being (Ideal of L) st ((x = P & I c= P) & P misses F));
hence thesis;
end;
then reconsider ZI = Z as (Subset-Family of L);
now
let A being (Subset of L);
assume A in ZI;
then A in X by A5;
then (ex P being (Ideal of L) st ((A = P & I c= P) & P misses F));
hence A is  lower;
end;
then reconsider J = ( union ZI ) as  lower (Subset of L) by WAYBEL_0:26;
A7:now
set y = the (Element of Z);
y in Z by A4;
then A8: I c= y by A2,A5;
A9: y c= J by A4,ZFMISC_1:74;
hence I c= J by A8,XBOOLE_1:1;
thus J is non  empty by A8,A9;
let A being (Subset of L);
let B being (Subset of L);
assume A10: (A in ZI & B in ZI);
then A,B are_c=-comparable  by A6,ORDINAL1:def 8;
then (A c= B or B c= A) by XBOOLE_0:def 9;
then (( A \/ B ) = A or ( A \/ B ) = B) by XBOOLE_1:12;
hence (ex C being (Subset of L) st (C in ZI & ( A \/ B ) c= C)) by A10;
end;
now
let A being (Subset of L);
assume A in ZI;
then A in X by A5;
then (ex P being (Ideal of L) st ((A = P & I c= P) & P misses F));
hence A is  directed;
end;
then reconsider J as (Ideal of L) by A7,WAYBEL_0:46;
now
let x being set;
assume x in J;
then consider A being set such that A11: x in A and A12: A in Z by TARSKI:def 4;
A misses F by A2,A5,A12;
hence (not x in F) by A11,XBOOLE_0:3;
end;
then J misses F by XBOOLE_0:3;
hence ( union Z ) in X by A7;
end;
I in X by A1;
then consider Y being set such that A13: Y in X and A14: (for Z being set holds ((Z in X & Z <> Y) implies (not Y c= Z))) by A3,ORDERS_1:67;
consider P being (Ideal of L) such that A15: P = Y and A16: I c= P and A17: P misses F by A13;
take P;
hereby
let x being (Element of L);
let y being (Element of L);
assume that
A18: ( x "/\" y ) in P
and
A19: (not x in P)
and
A20: (not y in P);
set Py = ( downarrow ( finsups ( P \/ { y } ) ) );
A21: ( P \/ { y } ) c= Py by WAYBEL_0:61;
A22: P c= ( P \/ { y } ) by XBOOLE_1:7;
then P c= Py by A21,XBOOLE_1:1;
then A23: I c= Py by A16,XBOOLE_1:1;
y in { y } by TARSKI:def 1;
then y in ( P \/ { y } ) by XBOOLE_0:def 3;
then A24: y in Py by A21;
now
assume Py misses F;
then Py in X by A23;
hence contradiction by A14,A15,A20,A21,A22,A24,XBOOLE_1:1;
end;
then consider v being set such that A25: v in Py and A26: v in F by XBOOLE_0:3;
set Px = ( downarrow ( finsups ( P \/ { x } ) ) );
A27: ( P \/ { x } ) c= Px by WAYBEL_0:61;
A28: P c= ( P \/ { x } ) by XBOOLE_1:7;
then P c= Px by A27,XBOOLE_1:1;
then A29: I c= Px by A16,XBOOLE_1:1;
x in { x } by TARSKI:def 1;
then x in ( P \/ { x } ) by XBOOLE_0:def 3;
then A30: x in Px by A27;
now
assume Px misses F;
then Px in X by A29;
hence contradiction by A14,A15,A19,A27,A28,A30,XBOOLE_1:1;
end;
then consider u being set such that A31: u in Px and A32: u in F by XBOOLE_0:3;
reconsider u,v as (Element of L) by A31,A25;
consider u9 being (Element of L) such that A33: u9 in P and A34: u <= ( u9 "\/" ( sup { x } ) ) by A31,CKB34:1;
consider v9 being (Element of L) such that A35: v9 in P and A36: v <= ( v9 "\/" ( sup { y } ) ) by A25,CKB34:1;
set w = ( u9 "\/" v9 );
( ( v9 "\/" u9 ) "\/" x ) = ( v9 "\/" ( u9 "\/" x ) ) by LATTICE3:14;
then (( sup { x } ) = x & ( w "\/" x ) >= ( u9 "\/" x )) by YELLOW_0:22,YELLOW_0:39;
then ( w "\/" x ) >= u by A34,ORDERS_2:3;
then A37: ( w "\/" x ) in F by A32,WAYBEL_0:def 20;
( w "\/" y ) = ( u9 "\/" ( v9 "\/" y ) ) by LATTICE3:14;
then (( sup { y } ) = y & ( w "\/" y ) >= ( v9 "\/" y )) by YELLOW_0:22,YELLOW_0:39;
then ( w "\/" y ) >= v by A36,ORDERS_2:3;
then ( w "\/" y ) in F by A26,WAYBEL_0:def 20;
then ( ( w "\/" x ) "/\" ( w "\/" y ) ) in F by A37,WAYBEL_0:41;
then A38: ( w "\/" ( x "/\" y ) ) in F by WAYBEL_1:5;
w in P by A33,A35,WAYBEL_0:40;
then ( w "\/" ( x "/\" y ) ) in P by A18,WAYBEL_0:40;
hence contradiction by A17,A38,XBOOLE_0:3;
end;
thus thesis by A16,A17;
end;
