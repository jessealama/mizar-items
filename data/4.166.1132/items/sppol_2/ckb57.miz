environ
vocabularies NUMBERS,SUBSET_1,EUCLID,FINSEQ_1,PRE_TOPC,XREAL_0,ORDINAL1,NAT_1,ARYTM_3,RLTOPSP1,FINSEQ_5,XXREAL_0,RELAT_1,PARTFUN1,CARD_1,XBOOLE_0,RFINSEQ,ARYTM_1,ORDINAL4,FINSEQ_4,TOPREAL1,STRUCT_0,TARSKI,MCART_1,FUNCT_1,ZFMISC_1,TOPREAL4,XXREAL_1,RCOMP_1,BORSUK_1,TOPS_2,ORDINAL2,SPPOL_2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,XXREAL_0,NAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,ZFMISC_1,FINSEQ_4,RFINSEQ,STRUCT_0,PRE_TOPC,COMPTS_1,TOPS_2,RLTOPSP1,EUCLID,BORSUK_1,TOPREAL1,TOPREAL4,FINSEQ_5;
definitions TARSKI,TOPREAL1,TOPREAL4,XBOOLE_0;
theorems TARSKI,ENUMSET1,ZFMISC_1,NAT_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,TOPS_2,HEINE,TOPMETR,COMPTS_1,RFINSEQ,EUCLID,TOPREAL1,TOPREAL3,TOPREAL4,GOBOARD1,FINSEQ_5,RELAT_1,PARTFUN2,INT_1,XBOOLE_0,XBOOLE_1,SPPOL_1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,CARD_1,RLTOPSP1,SEQ_4,NAT_D,SUBSET_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB32,CKB33,CKB34,CKB35,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB52,CKB54,CKB55,CKB56;
schemes FINSEQ_2;
registrations XBOOLE_0,RELAT_1,ORDINAL1,XXREAL_0,XREAL_0,MEMBERED,FINSEQ_1,FINSEQ_5,STRUCT_0,PRE_TOPC,EUCLID,TOPREAL1,NAT_1,INT_1,CARD_1,RLTOPSP1,SPPOL_1,CKB27,CKB28,CKB29,CKB30,CKB31,CKB36,CKB37,CKB40,CKB50,CKB51,CKB53;
constructors XXREAL_0,NAT_1,FINSEQ_4,ZFMISC_1,RFINSEQ,BINARITH,FINSEQ_5,TOPS_2,COMPTS_1,TOPMETR,TOPREAL1,TOPREAL4,REAL_1,CONVEX1;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve f for (FinSequence of ( TOP-REAL 2 ));
reserve p for (Point of ( TOP-REAL 2 ));
reserve n for (Element of ( NAT ));
theorem
Th38: (((f is  unfolded  s.n.c. & p in ( LSeg (f,n) )) & (not p in ( rng f ))) implies ( Ins (f,n,p) ) is  s.n.c.)
proof
assume that
A1: f is  unfolded
and
A2: f is  s.n.c.
and
A3: p in ( LSeg (f,n) )
and
A4: (not p in ( rng f ));
set fp = ( Ins (f,n,p) );
let i being Nat,j being Nat;
assume that
A5: ( i + 1 ) < j;
per cases ;
suppose A6: (i = ( 0 ) or ( j + 1 ) > ( len fp ));

now
per cases  by A6;
case i = ( 0 );
hence ( LSeg (fp,i) ) = ( {} ) by TOPREAL1:def 3;
end;
case ( j + 1 ) > ( len fp );
hence ( LSeg (fp,j) ) = ( {} ) by TOPREAL1:def 3;
end;
end;
then ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) = ( {} );
hence thesis by XBOOLE_0:def 7;
end;
suppose that A7: i <> ( 0 )
and
A8: ( j + 1 ) <= ( len fp );
A9: 1 <= i by A7,NAT_1:14;
set f1 = ( f | n );
set g1 = ( f1 ^ <* p *> );
set f2 = ( f /^ n );
A10: fp = ( g1 ^ f2 ) by FINSEQ_5:def 4;
i <= ( i + 1 ) by NAT_1:11;
then A11: i < j by A5,XXREAL_0:2;
A12: ( i + 1 ) <= ( ( i + 1 ) + 1 ) by NAT_1:11;
A13: ( len fp ) = ( ( len f ) + 1 ) by FINSEQ_5:69;
A14: 1 <= n by A3,TOPREAL1:def 3;
A15: ( n + 1 ) <= ( len f ) by A3,TOPREAL1:def 3;
A16: ( len g1 ) = ( ( len f1 ) + 1 ) by FINSEQ_2:16;
then A17: ( g1 /. ( len g1 ) ) = p by FINSEQ_4:67;
A18: n <= ( n + 1 ) by NAT_1:11;
then A19: n <= ( len f ) by A15,XXREAL_0:2;
A20: ( len f1 ) = n by A15,A18,FINSEQ_1:59,XXREAL_0:2;
( ( i + 1 ) + 1 ) <= j by A5,NAT_1:13;
then ( ( ( i + 1 ) + 1 ) + 1 ) <= ( j + 1 ) by XREAL_1:6;
then A21: ( ( ( i + 1 ) + 1 ) + 1 ) <= ( ( len f ) + 1 ) by A8,A13,XXREAL_0:2;
then ( ( i + 1 ) + 1 ) <= ( len f ) by XREAL_1:6;
then A22: ( i + 1 ) <= ( len f ) by A12,XXREAL_0:2;
now
per cases ;
suppose A23: ( j + 1 ) <= n;

then A24: ( LSeg (fp,j) ) = ( LSeg (g1,j) ) by A10,A16,A18,A20,CKB6:1,XXREAL_0:2
.= ( LSeg (f1,j) ) by A20,A23,CKB6:1
.= ( LSeg (f,j) ) by A20,A23,CKB3:1;
j <= ( j + 1 ) by NAT_1:11;
then i < ( j + 1 ) by A11,XXREAL_0:2;
then i < n by A23,XXREAL_0:2;
then A25: ( i + 1 ) <= n by NAT_1:13;
then ( LSeg (fp,i) ) = ( LSeg (g1,i) ) by A10,A16,A18,A20,CKB6:1,XXREAL_0:2
.= ( LSeg (f1,i) ) by A20,A25,CKB6:1
.= ( LSeg (f,i) ) by A20,A25,CKB3:1;
hence thesis by A2,A5,A24,TOPREAL1:def 7;
end;
suppose ( j + 1 ) > n;

then A26: n <= j by NAT_1:13;
now
per cases ;
suppose A27: i <= ( n + 1 );

A28: 1 <= ( n + 1 ) by NAT_1:11;
1 <= ( ( len f ) - n ) by A15,XREAL_1:19;
then 1 <= ( len f2 ) by A19,RFINSEQ:def 1;
then 1 in ( dom f2 ) by FINSEQ_3:25;
then A29: ( f /. ( n + 1 ) ) = ( f2 /. 1 ) by FINSEQ_5:27;
( len g1 ) in ( dom g1 ) by FINSEQ_5:6;
then A30: ( fp /. ( n + 1 ) ) = ( g1 /. ( len g1 ) ) by A10,A16,A20,FINSEQ_4:68;
A31: ( fp /. ( ( n + 1 ) + 1 ) ) = ( f /. ( n + 1 ) ) by A15,FINSEQ_5:74;
A32: n in ( dom f1 ) by A14,A20,FINSEQ_3:25;
then A33: ( f /. n ) = ( f1 /. ( len f1 ) ) by A20,FINSEQ_4:70;
( ( n + 1 ) + 1 ) <= ( len fp ) by A13,A15,XREAL_1:6;
then A34: ( LSeg (fp,( n + 1 )) ) = ( LSeg (p,( f2 /. 1 )) ) by A17,A29,A31,A28,A30,TOPREAL1:def 3;
A35: ( f1 /. ( len f1 ) ) = ( g1 /. ( len f1 ) ) by A20,A32,FINSEQ_4:68;
A36: ( LSeg (fp,n) ) = ( LSeg (g1,n) ) by A10,A16,A20,CKB6:1
.= ( LSeg (( f1 /. ( len f1 ) ),p) ) by A16,A17,A14,A20,A35,TOPREAL1:def 3;
A37: ( LSeg (f,n) ) = ( LSeg (( f /. n ),( f /. ( n + 1 ) )) ) by A14,A15,TOPREAL1:def 3;
then A38: ( ( LSeg (( f1 /. ( len f1 ) ),p) ) \/ ( LSeg (( g1 /. ( len g1 ) ),( f2 /. 1 )) ) ) = ( LSeg (( f1 /. ( len f1 ) ),( f2 /. 1 )) ) by A3,A17,A33,A29,TOPREAL1:5;
A39: ( ( LSeg (( f1 /. ( len f1 ) ),p) ) /\ ( LSeg (p,( f2 /. 1 )) ) ) = { p } by A3,A37,A33,A29,TOPREAL1:8;
now
per cases  by XXREAL_0:1;
suppose i < n;

then A40: ( i + 1 ) <= n by NAT_1:13;
then A41: ( LSeg (fp,i) ) = ( LSeg (g1,i) ) by A10,A16,A18,A20,CKB6:1,XXREAL_0:2
.= ( LSeg (f1,i) ) by A20,A40,CKB6:1
.= ( LSeg (f,i) ) by A20,A40,CKB3:1;
now
per cases ;
suppose A42: j = n;

then A43: ( LSeg (f,i) ) misses ( LSeg (f,n) ) by A2,A5,TOPREAL1:def 7;
( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) c= ( ( LSeg (f,i) ) /\ ( LSeg (f,n) ) ) by A37,A33,A29,A38,A36,A41,A42,XBOOLE_1:7,XBOOLE_1:26;
then ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) c= ( {} ) by A43,XBOOLE_0:def 7;
then ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) = ( {} ) by XBOOLE_1:3;
hence thesis by XBOOLE_0:def 7;
end;
suppose j <> n;

then n < j by A26,XXREAL_0:1;
then A44: ( n + 1 ) <= j by NAT_1:13;
now
per cases ;
suppose A45: j = ( n + 1 );

now
per cases ;
suppose A46: ( i + 1 ) = n;

A47: ( i + ( 1 + 1 ) ) <= ( len f ) by A21,XREAL_1:6;
( LSeg (fp,i) ) = ( LSeg (g1,i) ) by A10,A16,A20,A46,CKB6:1,NAT_1:11
.= ( LSeg (f1,i) ) by A20,A46,CKB6:1
.= ( LSeg (f,i) ) by A20,A46,CKB3:1;
then A48: ( ( LSeg (fp,i) ) /\ ( LSeg (f,n) ) ) = { ( f /. n ) } by A1,A9,A46,A47,TOPREAL1:def 6;
assume (not thesis);
then consider x being set such that A49: x in ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) by XBOOLE_0:4;
A50: x in ( LSeg (fp,i) ) by A49,XBOOLE_0:def 4;
A51: x in ( LSeg (fp,j) ) by A49,XBOOLE_0:def 4;
then x in ( LSeg (f,n) ) by A17,A37,A33,A29,A38,A34,A45,XBOOLE_0:def 3;
then x in { ( f /. n ) } by A48,A50,XBOOLE_0:def 4;
then A52: x = ( f /. n ) by TARSKI:def 1;
then x in ( LSeg (fp,n) ) by A33,A36,RLTOPSP1:68;
then x in ( ( LSeg (fp,n) ) /\ ( LSeg (fp,( n + 1 )) ) ) by A45,A51,XBOOLE_0:def 4;
then A53: p = ( f /. n ) by A36,A34,A39,A52,TARSKI:def 1;
n in ( dom f ) by A14,A15,SEQ_4:134;
hence contradiction by A4,A53,PARTFUN2:2;
end;
suppose ( i + 1 ) <> n;

then ( i + 1 ) < n by A40,XXREAL_0:1;
then A54: ( LSeg (f,i) ) misses ( LSeg (f,n) ) by A2,TOPREAL1:def 7;
( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) c= ( ( LSeg (f,i) ) /\ ( LSeg (f,n) ) ) by A17,A37,A33,A29,A38,A34,A41,A45,XBOOLE_1:7,XBOOLE_1:26;
then ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) c= ( {} ) by A54,XBOOLE_0:def 7;
then ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) = ( {} ) by XBOOLE_1:3;
hence thesis by XBOOLE_0:def 7;
end;
end;
hence thesis;
end;
suppose A55: j <> ( n + 1 );

reconsider nj = ( j - ( n + 1 ) ) as (Element of ( NAT )) by A44,INT_1:5;
A56: ( n + 1 ) < j by A44,A55,XXREAL_0:1;
then ( ( n + 1 ) + 1 ) <= j by NAT_1:13;
then A57: 1 <= nj by XREAL_1:19;
reconsider j9 = ( j - 1 ) as (Element of ( NAT )) by A9,A11,INT_1:5,XXREAL_0:2;
A58: ( n + nj ) = j9;
( ( i + 1 ) + 1 ) <= ( n + 1 ) by A40,XREAL_1:6;
then ( ( i + 1 ) + 1 ) < j by A56,XXREAL_0:2;
then A59: ( i + 1 ) < j9 by XREAL_1:20;
j = ( nj + ( n + 1 ) );
then ( LSeg (fp,j) ) = ( LSeg (f2,nj) ) by A10,A16,A20,A57,CKB7:1
.= ( LSeg (f,j9) ) by A19,A57,A58,CKB4:1;
hence thesis by A2,A41,A59,TOPREAL1:def 7;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
suppose A60: i = n;

then reconsider nj = ( j - ( n + 1 ) ) as (Element of ( NAT )) by A5,INT_1:5;
A61: ( ( n + 1 ) + 1 ) <= j by A5,A60,NAT_1:13;
then A62: 1 <= nj by XREAL_1:19;
reconsider j9 = ( j - 1 ) as (Element of ( NAT )) by A9,A11,INT_1:5,XXREAL_0:2;
A63: ( n + nj ) = j9;
j = ( nj + ( n + 1 ) );
then A64: ( LSeg (fp,j) ) = ( LSeg (f2,nj) ) by A10,A16,A20,A62,CKB7:1
.= ( LSeg (f,j9) ) by A19,A62,A63,CKB4:1;
now
per cases ;
suppose j <> ( ( n + 1 ) + 1 );

then ( ( n + 1 ) + 1 ) < j by A61,XXREAL_0:1;
then ( i + 1 ) < j9 by A60,XREAL_1:20;
then A65: ( LSeg (f,i) ) misses ( LSeg (f,j9) ) by A2,TOPREAL1:def 7;
( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) c= ( ( LSeg (f,i) ) /\ ( LSeg (f,j9) ) ) by A37,A33,A29,A38,A36,A60,A64,XBOOLE_1:7,XBOOLE_1:26;
then ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) c= ( {} ) by A65,XBOOLE_0:def 7;
then ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) = ( {} ) by XBOOLE_1:3;
hence thesis by XBOOLE_0:def 7;
end;
suppose A66: j = ( ( n + 1 ) + 1 );

then ( n + ( 1 + 1 ) ) <= ( len f ) by A8,A13,XREAL_1:6;
then A67: ( ( LSeg (f,n) ) /\ ( LSeg (f,j9) ) ) = { ( f /. j9 ) } by A1,A14,A66,TOPREAL1:def 6;
assume (not thesis);
then consider x being set such that A68: x in ( ( LSeg (fp,i) ) /\ ( LSeg (fp,j) ) ) by XBOOLE_0:4;
A69: x in ( LSeg (fp,j) ) by A68,XBOOLE_0:def 4;
A70: x in ( LSeg (fp,i) ) by A68,XBOOLE_0:def 4;
then x in ( LSeg (f,n) ) by A37,A33,A29,A38,A36,A60,XBOOLE_0:def 3;
then x in { ( f /. ( n + 1 ) ) } by A64,A66,A67,A69,XBOOLE_0:def 4;
then A71: x = ( f /. ( n + 1 ) ) by TARSKI:def 1;
then x in ( LSeg (fp,( n + 1 )) ) by A29,A34,RLTOPSP1:68;
then x in ( ( LSeg (fp,n) ) /\ ( LSeg (fp,( n + 1 )) ) ) by A60,A70,XBOOLE_0:def 4;
then A72: p = ( f /. ( n + 1 ) ) by A36,A34,A39,A71,TARSKI:def 1;
( n + 1 ) in ( dom f ) by A14,A15,SEQ_4:134;
hence contradiction by A4,A72,PARTFUN2:2;
end;
end;
hence thesis;
end;
suppose A73: i > n;

reconsider j9 = ( j - 1 ) as (Element of ( NAT )) by A9,A11,INT_1:5,XXREAL_0:2;
i >= ( n + 1 ) by A73,NAT_1:13;
then A74: i = ( n + 1 ) by A27,XXREAL_0:1;
then ( n + 1 ) < j9 by A5,XREAL_1:20;
then A75: ( LSeg (f,n) ) misses ( LSeg (f,j9) ) by A2,TOPREAL1:def 7;
( n + 1 ) <= ( ( n + 1 ) + 1 ) by NAT_1:11;
then reconsider nj = ( j - ( n + 1 ) ) as (Element of ( NAT )) by A5,A74,INT_1:5,XXREAL_0:2;
A76: 1 <= nj by A5,A74,XREAL_1:19;
A77: ( n + nj ) = j9;
j = ( nj + ( n + 1 ) );
then ( LSeg (fp,j) ) = ( LSeg (f2,nj) ) by A10,A16,A20,A76,CKB7:1
.= ( LSeg (f,j9) ) by A19,A76,A77,CKB4:1;
then ( ( LSeg (fp,( n + 1 )) ) /\ ( LSeg (fp,j) ) ) c= ( ( LSeg (f,n) ) /\ ( LSeg (f,j9) ) ) by A17,A37,A33,A29,A38,A34,XBOOLE_1:7,XBOOLE_1:26;
then ( ( LSeg (fp,( n + 1 )) ) /\ ( LSeg (fp,j) ) ) c= ( {} ) by A75,XBOOLE_0:def 7;
then ( ( LSeg (fp,( n + 1 )) ) /\ ( LSeg (fp,j) ) ) = ( {} ) by XBOOLE_1:3;
hence thesis by A74,XBOOLE_0:def 7;
end;
end;
hence thesis;
end;
suppose A78: i > ( n + 1 );

then reconsider nj = ( j - ( n + 1 ) ) as (Element of ( NAT )) by A11,INT_1:5,XXREAL_0:2;
( n + 1 ) < j by A11,A78,XXREAL_0:2;
then ( ( n + 1 ) + 1 ) <= j by NAT_1:13;
then A79: 1 <= nj by XREAL_1:19;
reconsider ni = ( i - ( n + 1 ) ) as (Element of ( NAT )) by A78,INT_1:5;
( ( n + 1 ) + 1 ) <= i by A78,NAT_1:13;
then A80: 1 <= ni by XREAL_1:19;
( len f ) <= ( ( len f ) + 1 ) by NAT_1:11;
then ( i + 1 ) <= ( ( len f ) + 1 ) by A22,XXREAL_0:2;
then ( ( i + 1 ) - ( n + 1 ) ) <= ( ( ( len f ) + 1 ) - ( n + 1 ) ) by XREAL_1:9;
then A81: ( ni + 1 ) <= ( ( len f ) - n );
reconsider i9 = ( i - 1 ) as (Element of ( NAT )) by A7,INT_1:5,NAT_1:14;
reconsider j9 = ( j - 1 ) as (Element of ( NAT )) by A9,A11,INT_1:5,XXREAL_0:2;
A82: ( n + ni ) = i9;
( ( i + 1 ) - 1 ) < j9 by A5,XREAL_1:9;
then A83: ( i9 + 1 ) < j9;
A84: ( n + nj ) = j9;
j = ( nj + ( n + 1 ) );
then A85: ( LSeg (fp,j) ) = ( LSeg (f2,nj) ) by A10,A16,A20,A79,CKB7:1
.= ( LSeg (f,j9) ) by A19,A79,A84,CKB4:1;
i = ( ni + ( n + 1 ) );
then ( LSeg (fp,i) ) = ( LSeg (f2,ni) ) by A10,A16,A20,A80,CKB7:1
.= ( LSeg (f,i9) ) by A80,A81,A82,CKB5:1;
hence thesis by A2,A83,A85,TOPREAL1:def 7;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
end;
