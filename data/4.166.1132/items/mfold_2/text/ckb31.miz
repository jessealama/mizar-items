environ
vocabularies NUMBERS,SUBSET_1,XREAL_0,ORDINAL1,PRE_TOPC,EUCLID,ARYTM_1,ARYTM_3,SUPINF_2,XBOOLE_0,PRVECT_1,FUNCOP_1,XXREAL_0,RLSUB_2,ORDINAL2,METRIC_1,TARSKI,STRUCT_0,REAL_1,MATRIXR2,FINSEQ_1,FINSEQ_2,COMPTS_1,BINOP_2,TOPS_2,T_0TOPSP,CONNSP_2,FUNCT_1,RELAT_1,CARD_1,FUNCT_2,VALUED_1,WAYBEL23,RLVECT_3,FINSET_1,NAT_1,PARTFUN1,SETFAM_1,ORDINAL4,ALGSTR_0,EUCLID_7,CARD_3,RCOMP_1,TOPREALB,RVSUM_1,RLSUB_1,RLVECT_2,FUNCSDOM,RLVECT_1,RLTOPSP1,VECTSP_1,MATRIX_1,MATRLIN2,RLVECT_5,ZFMISC_1,PCOMPS_1,COMPLEX1,SQUARE_1,TOPMETR,INCSP_1,MFOLD_1,MFOLD_2;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,FUNCOP_1,FUNCT_1,TOPS_2,RELAT_1,CANTOR_1,RELSET_1,PARTFUN1,FUNCT_2,ORDINAL1,NAT_1,NUMBERS,VALUED_0,VALUED_1,XCMPLX_0,XREAL_0,XXREAL_0,COMPLEX1,REAL_1,RVSUM_1,PRE_TOPC,METRIC_1,TOPREAL9,ALGSTR_0,CONNSP_2,TSEP_1,METRIZTS,COMPTS_1,EUCLID,SQUARE_1,TOPMETR,TMAP_1,MEMBERED,XXREAL_2,TOPREAL6,WAYBEL23,CARD_1,TOPREALB,RLSUB_1,RLVECT_3,RLTOPSP1,PRVECT_1,VECTSP_1,MATRIX_1,MATRIX_6,MATRTOP1,RLVECT_2,RLVECT_5,FUNCSDOM,FINSEQ_1,FINSET_1,FINSEQ_2,EUCLID_7,STRUCT_0,RLVECT_1,FVSUM_1,RLSUB_2,CARD_3,T_0TOPSP,BORSUK_3,BINOP_2,ZFMISC_1,SEQ_1,NAT_D,PCOMPS_1,BINOP_1,RUSUB_4,CONVEX1,MONOID_0,MFOLD_1,CKB6,CKB30;
definitions EUCLID,FINSEQ_1,MATRTOP1,STRUCT_0,TARSKI,VECTSP_1,XBOOLE_0,FUNCT_1,CKB30;
theorems TOPREAL9,TOPREALB,METRIZTS,TSEP_1,YELLOW14,T_0TOPSP,RLVECT_5,ZFMISC_1,TARSKI,RELAT_1,FUNCT_1,RLTOPSP1,EUCLID,FUNCT_2,RLSUB_1,XBOOLE_0,EUCLID_2,JGRAPH_5,ORDINAL1,RLVECT_3,STRUCT_0,MATRTOP2,FUNCSDOM,FINSEQ_2,EUCLID_7,CARD_1,RLVECT_2,RLVECT_1,NAT_1,PARTFUN1,FINSEQ_3,MATRIX13,FINSEQ_1,RLSUB_2,RLVECT_4,XCMPLX_1,PRE_TOPC,WAYBEL23,TOPS_2,BORSUK_3,CONNSP_2,XBOOLE_1,TSP_1,SUBSET_1,INT_1,RVSUM_1,FUNCOP_1,VALUED_1,MATRIXR2,RELSET_1,XREAL_1,FINSEQ_4,PCOMPS_1,XREAL_0,JORDAN,REAL_NS1,SQUARE_1,ALGSTR_0,XXREAL_0,METRIC_1,TOPMETR,TOPREAL3,UNIFORM1,JGRAPH_1,JGRAPH_2,JGRAPH_6,TMAP_1,JORDAN2C,FRECHET,MFOLD_1,FUNCTOR0,RLAFFIN3,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30;
schemes NAT_1,FUNCT_2,CLASSES1;
registrations XBOOLE_0,XXREAL_0,XREAL_0,XCMPLX_0,SQUARE_1,NAT_1,MEMBERED,STRUCT_0,METRIC_1,MONOID_0,EUCLID,TOPALG_2,VALUED_0,FINSEQ_1,FUNCT_1,RELAT_1,PRE_TOPC,TOPS_1,CARD_1,TSEP_1,TOPREAL9,PCOMPS_1,RLVECT_1,COMPLEX1,TMAP_1,COMPTS_1,TOPMETR,XXREAL_2,TOPREAL6,SPPOL_1,WAYBEL23,METRIZTS,RLVECT_3,TOPREAL1,YELLOW13,YELLOW_8,KURATO_2,SUBSET_1,TOPREALB,PRVECT_1,VECTSP_1,RLVECT_2,RLVECT_5,EUCLID_7,FUNCSDOM,FINSET_1,FUNCT_2,FINSEQ_2,FUNCOP_1,FVSUM_1,RLSUB_1,REAL_1,ORDINAL1,ALGSTR_0,RLSUB_2,MATRTOP1,CANTOR_1,CARD_3,BORSUK_3,RVSUM_1,NUMBERS,RLTOPSP1,PARTFUN1,RELSET_1,GRFUNC_1,MFOLD_1,RLAFFIN3,CKB1,CKB2;
constructors MONOID_0,TOPREAL9,TOPREALB,SQUARE_1,FUNCSDOM,TOPS_1,TSEP_1,METRIZTS,PCOMPS_1,RLVECT_1,COMPLEX1,COMPTS_1,XCMPLX_0,NAT_1,EUCLID,BINOP_2,TOPMETR,TMAP_1,MEMBERED,XXREAL_2,TOPREAL6,WAYBEL23,RLSUB_1,RLVECT_3,RLTOPSP1,PRVECT_1,VECTSP_1,VECTSP_4,MATRIX_1,MATRIX_6,MATRTOP1,STRUCT_0,RLVECT_2,RLVECT_5,FINSEQ_1,FINSET_1,FINSEQ_2,EUCLID_7,FVSUM_1,RLSUB_2,CANTOR_1,CARD_3,BORSUK_3,SEQ_1,NAT_D,RELAT_1,RUSUB_4,CONVEX1,NUMBERS,MFOLD_1,CKB6,CKB30;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
reserve n for  natural number;
reserve p for (Point of ( TOP-REAL n ));
reserve q for (Point of ( TOP-REAL n ));
reserve r for  real number;
registration
let n;
let p;
cluster ( InnerProduct p ) ->  continuous;
correctness
proof
set f = ( InnerProduct p );
A1: ( the TopStruct of ( TOP-REAL n ) ) = ( TopSpaceMetr ( Euclid n ) ) by EUCLID:def 8;
then reconsider f1 = f as (Function of ( TopSpaceMetr ( Euclid n ) ),( TopSpaceMetr ( RealSpace ) )) by TOPMETR:def 6;
per cases ;
suppose A2: p = ( 0. ( TOP-REAL n ) );

A3: (for q being (Point of ( TOP-REAL n )) holds ( f . q ) = ( 0 ))
proof
let q being (Point of ( TOP-REAL n ));
( f . q ) = |( q,p )| by CKB30:def 1;
hence thesis by A2,EUCLID_2:32;
end;
consider g being (Function of ( TOP-REAL n ),( R^1 )) such that A4: ((for p being (Point of ( TOP-REAL n )) holds ( g . p ) = ( 0 )) & g is  continuous) by JGRAPH_2:20;
(for x being set holds (x in (the carrier of ( TOP-REAL n )) implies ( f . x ) = ( g . x )))
proof
let x being set;
assume x in (the carrier of ( TOP-REAL n ));
then reconsider q = x as (Point of ( TOP-REAL n ));
thus ( f . x ) = ( f . q )
.= ( 0 ) by A3
.= ( g . q ) by A4
.= ( g . x );
end;
hence thesis by A4,FUNCT_2:12;
end;
suppose p <> ( 0. ( TOP-REAL n ) );

then A5: |. p .| > ( 0 ) by EUCLID_2:44;
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
now
let r being  real number;
let u being (Element of ( Euclid n ));
let u1 being (Element of ( RealSpace ));
assume that
A6: r > ( 0 )
and
A7: u1 = ( f1 . u );
set s1 = ( r / |. p .| );
(for w being (Element of ( Euclid n )) holds (for w1 being (Element of ( RealSpace )) holds ((w1 = ( f1 . w ) & ( dist (u,w) ) < s1) implies ( dist (u1,w1) ) < r)))
proof
let w being (Element of ( Euclid n ));
let w1 being (Element of ( RealSpace ));
assume that
A8: w1 = ( f1 . w )
and
A9: ( dist (u,w) ) < s1;
reconsider tu = u1,tw = w1 as Real by METRIC_1:def 13;
reconsider qw = w,qu = u as (Point of ( TOP-REAL n1 )) by TOPREAL3:8;
A10: ( dist (u1,w1) ) = ( (the distance of ( RealSpace )) . (u1,w1) ) by METRIC_1:def 1
.= ( abs ( tu - tw ) ) by METRIC_1:def 12,METRIC_1:def 13;
A11: w1 = |( qw,p )| by CKB30:def 1,A8;
( abs ( tu - tw ) ) = ( abs ( |( qu,p )| - |( qw,p )| ) ) by CKB30:def 1,A7,A11
.= ( abs |( ( qu - qw ),p )| ) by EUCLID_2:24;
then A12: ( dist (u1,w1) ) <= ( |. ( qu - qw ) .| * |. p .| ) by A10,EUCLID_2:51;
A13: ( ( dist (u,w) ) * |. p .| ) = ( |. ( qu - qw ) .| * |. p .| ) by JGRAPH_1:28;
( ( dist (u,w) ) * |. p .| ) < ( ( r / |. p .| ) * |. p .| ) by A9,A5,XREAL_1:68;
then ( ( dist (u,w) ) * |. p .| ) < ( r / ( |. p .| / |. p .| ) ) by XCMPLX_1:82;
then ( ( dist (u,w) ) * |. p .| ) < ( r / 1 ) by A5,XCMPLX_1:60;
hence thesis by A13,A12,XXREAL_0:2;
end;
hence (ex s being  real number st (s > ( 0 ) & (for w being (Element of ( Euclid n )) holds (for w1 being (Element of ( RealSpace )) holds ((w1 = ( f1 . w ) & ( dist (u,w) ) < s) implies ( dist (u1,w1) ) < r))))) by A5,A6;
end;
then f1 is  continuous by UNIFORM1:3;
hence thesis by A1,PRE_TOPC:32,TOPMETR:def 6;
end;
end;
end;
