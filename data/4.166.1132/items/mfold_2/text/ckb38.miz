environ
vocabularies NUMBERS,SUBSET_1,XREAL_0,ORDINAL1,PRE_TOPC,EUCLID,ARYTM_1,ARYTM_3,SUPINF_2,XBOOLE_0,PRVECT_1,FUNCOP_1,XXREAL_0,RLSUB_2,ORDINAL2,METRIC_1,TARSKI,STRUCT_0,REAL_1,MATRIXR2,FINSEQ_1,FINSEQ_2,COMPTS_1,BINOP_2,TOPS_2,T_0TOPSP,CONNSP_2,FUNCT_1,RELAT_1,CARD_1,FUNCT_2,VALUED_1,WAYBEL23,RLVECT_3,FINSET_1,NAT_1,PARTFUN1,SETFAM_1,ORDINAL4,ALGSTR_0,EUCLID_7,CARD_3,RCOMP_1,TOPREALB,RVSUM_1,RLSUB_1,RLVECT_2,FUNCSDOM,RLVECT_1,RLTOPSP1,VECTSP_1,MATRIX_1,MATRLIN2,RLVECT_5,ZFMISC_1,PCOMPS_1,COMPLEX1,SQUARE_1,TOPMETR,INCSP_1,MFOLD_1,MFOLD_2;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,FUNCOP_1,FUNCT_1,TOPS_2,RELAT_1,CANTOR_1,RELSET_1,PARTFUN1,FUNCT_2,ORDINAL1,NAT_1,NUMBERS,VALUED_0,VALUED_1,XCMPLX_0,XREAL_0,XXREAL_0,COMPLEX1,REAL_1,RVSUM_1,PRE_TOPC,METRIC_1,TOPREAL9,ALGSTR_0,CONNSP_2,TSEP_1,METRIZTS,COMPTS_1,EUCLID,SQUARE_1,TOPMETR,TMAP_1,MEMBERED,XXREAL_2,TOPREAL6,WAYBEL23,CARD_1,TOPREALB,RLSUB_1,RLVECT_3,RLTOPSP1,PRVECT_1,VECTSP_1,MATRIX_1,MATRIX_6,MATRTOP1,RLVECT_2,RLVECT_5,FUNCSDOM,FINSEQ_1,FINSET_1,FINSEQ_2,EUCLID_7,STRUCT_0,RLVECT_1,FVSUM_1,RLSUB_2,CARD_3,T_0TOPSP,BORSUK_3,BINOP_2,ZFMISC_1,SEQ_1,NAT_D,PCOMPS_1,BINOP_1,RUSUB_4,CONVEX1,MONOID_0,MFOLD_1,CKB6,CKB30,CKB32,CKB36;
definitions EUCLID,FINSEQ_1,MATRTOP1,STRUCT_0,TARSKI,VECTSP_1,XBOOLE_0,FUNCT_1,CKB30,CKB32,CKB36;
theorems TOPREAL9,TOPREALB,METRIZTS,TSEP_1,YELLOW14,T_0TOPSP,RLVECT_5,ZFMISC_1,TARSKI,RELAT_1,FUNCT_1,RLTOPSP1,EUCLID,FUNCT_2,RLSUB_1,XBOOLE_0,EUCLID_2,JGRAPH_5,ORDINAL1,RLVECT_3,STRUCT_0,MATRTOP2,FUNCSDOM,FINSEQ_2,EUCLID_7,CARD_1,RLVECT_2,RLVECT_1,NAT_1,PARTFUN1,FINSEQ_3,MATRIX13,FINSEQ_1,RLSUB_2,RLVECT_4,XCMPLX_1,PRE_TOPC,WAYBEL23,TOPS_2,BORSUK_3,CONNSP_2,XBOOLE_1,TSP_1,SUBSET_1,INT_1,RVSUM_1,FUNCOP_1,VALUED_1,MATRIXR2,RELSET_1,XREAL_1,FINSEQ_4,PCOMPS_1,XREAL_0,JORDAN,REAL_NS1,SQUARE_1,ALGSTR_0,XXREAL_0,METRIC_1,TOPMETR,TOPREAL3,UNIFORM1,JGRAPH_1,JGRAPH_2,JGRAPH_6,TMAP_1,JORDAN2C,FRECHET,MFOLD_1,FUNCTOR0,RLAFFIN3,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37;
schemes NAT_1,FUNCT_2,CLASSES1;
registrations XBOOLE_0,XXREAL_0,XREAL_0,XCMPLX_0,SQUARE_1,NAT_1,MEMBERED,STRUCT_0,METRIC_1,MONOID_0,EUCLID,TOPALG_2,VALUED_0,FINSEQ_1,FUNCT_1,RELAT_1,PRE_TOPC,TOPS_1,CARD_1,TSEP_1,TOPREAL9,PCOMPS_1,RLVECT_1,COMPLEX1,TMAP_1,COMPTS_1,TOPMETR,XXREAL_2,TOPREAL6,SPPOL_1,WAYBEL23,METRIZTS,RLVECT_3,TOPREAL1,YELLOW13,YELLOW_8,KURATO_2,SUBSET_1,TOPREALB,PRVECT_1,VECTSP_1,RLVECT_2,RLVECT_5,EUCLID_7,FUNCSDOM,FINSET_1,FUNCT_2,FINSEQ_2,FUNCOP_1,FVSUM_1,RLSUB_1,REAL_1,ORDINAL1,ALGSTR_0,RLSUB_2,MATRTOP1,CANTOR_1,CARD_3,BORSUK_3,RVSUM_1,NUMBERS,RLTOPSP1,PARTFUN1,RELSET_1,GRFUNC_1,MFOLD_1,RLAFFIN3,CKB1,CKB2,CKB31;
constructors MONOID_0,TOPREAL9,TOPREALB,SQUARE_1,FUNCSDOM,TOPS_1,TSEP_1,METRIZTS,PCOMPS_1,RLVECT_1,COMPLEX1,COMPTS_1,XCMPLX_0,NAT_1,EUCLID,BINOP_2,TOPMETR,TMAP_1,MEMBERED,XXREAL_2,TOPREAL6,WAYBEL23,RLSUB_1,RLVECT_3,RLTOPSP1,PRVECT_1,VECTSP_1,VECTSP_4,MATRIX_1,MATRIX_6,MATRTOP1,STRUCT_0,RLVECT_2,RLVECT_5,FINSEQ_1,FINSET_1,FINSEQ_2,EUCLID_7,FVSUM_1,RLSUB_2,CANTOR_1,CARD_3,BORSUK_3,SEQ_1,NAT_D,RELAT_1,RUSUB_4,CONVEX1,NUMBERS,MFOLD_1,CKB6,CKB30,CKB32,CKB36;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
reserve n for  natural number;
reserve k for  natural number;
reserve p for (Point of ( TOP-REAL n ));
reserve q for (Point of ( TOP-REAL n ));
reserve p1 for (Point of ( TOP-REAL n ));
reserve p2 for (Point of ( TOP-REAL n ));
reserve r for  real number;
theorem
Lm3: (for p0 being (Point of ( TOP-REAL ( n + 1 ) )) holds (p0 = ( Base_FinSeq (( n + 1 ),( n + 1 )) ) implies ( TOP-REAL n ),( TPlane (p0,( 0. ( TOP-REAL ( n + 1 ) ) )) ) are_homeomorphic ))
proof
let p0 being (Point of ( TOP-REAL ( n + 1 ) ));
assume that
A1: p0 = ( Base_FinSeq (( n + 1 ),( n + 1 )) );
set T = ( TOP-REAL n );
set S = ( TPlane (p0,( 0. ( TOP-REAL ( n + 1 ) ) )) );
defpred P[ set,set ]
 means
(for p being (Element of T) holds ($1 = p implies $2 = ( p ^ <* ( 0 ) *> )));
A2: (for p being (Element of T) holds ( p ^ <* ( 0 ) *> ) is (Element of S))
proof
let p being (Element of T);
A3: ( len p ) = n by CARD_1:def 7;
A4: ( len ( p ^ <* ( 0 ) *> ) ) = ( n + 1 ) by CARD_1:def 7,FINSEQ_2:16;
( rng ( p ^ <* ( 0 ) *> ) ) c= ( REAL );
then ( p ^ <* ( 0 ) *> ) in ( REAL ( n + 1 ) ) by A4,FINSEQ_2:132;
then reconsider q = ( p ^ <* ( 0 ) *> ) as (Point of ( TOP-REAL ( n + 1 ) )) by EUCLID:22;
reconsider r0 = ( 0 ) as Real by INT_1:3;
(( dom p0 ) = ( Seg ( n + 1 ) ) & ( dom q ) = ( Seg ( n + 1 ) )) by FINSEQ_1:89;
then ( ( dom p0 ) /\ ( dom q ) ) = ( Seg ( n + 1 ) );
then A5: ( dom ( mlt (p0,q) ) ) = ( Seg ( n + 1 ) ) by VALUED_1:def 4;
(for y being set holds (y in ( rng ( mlt (p0,q) ) ) iff y = r0))
proof
let y being set;
set f = ( mlt (p0,q) );
A6:now
let x being set;
assume x in ( Seg ( n + 1 ) );
then consider k being (Element of ( NAT )) such that A7: ((x = k & 1 <= k) & k <= ( n + 1 ));
A8: ( f . x ) = ( ( p0 . x ) * ( q . x ) ) by VALUED_1:5;
per cases ;
suppose A9: k = ( n + 1 );

1 <= ( len <* r0 *> ) by FINSEQ_1:39;
then ( q . ( ( len p ) + 1 ) ) = ( <* r0 *> . 1 ) by FINSEQ_1:65
.= r0 by FINSEQ_1:40;
hence ( f . x ) = r0 by A8,A7,A9,A3;
end;
suppose k <> ( n + 1 );

then ( p0 . x ) = ( 0 ) by A1,A7,MATRIXR2:76;
hence ( f . x ) = r0 by A8;
end;
end;
hereby
assume y in ( rng f );
then consider x being set such that A10: (x in ( dom f ) & y = ( f . x )) by FUNCT_1:def 3;
thus y = r0 by A10,A5,A6;
end;
assume A11: y = r0;
consider x being set such that A12: x in ( Seg ( n + 1 ) ) by XBOOLE_0:def 1;
y = ( f . x ) by A11,A12,A6;
hence y in ( rng f ) by A12,A5,FUNCT_1:def 3;
end;
then A13: ( rng ( mlt (p0,q) ) ) = { r0 } by TARSKI:def 1;
( mlt (p0,q) ) = ( ( Seg ( n + 1 ) ) --> r0 ) by A13,A5,FUNCOP_1:9;
then A14: ( mlt (p0,q) ) = ( ( n + 1 ) |-> r0 ) by FINSEQ_2:def 2;
A15: |( p0,q )| = ( Sum ( mlt (p0,q) ) ) by RVSUM_1:def 16
.= ( ( n + 1 ) * r0 ) by A14,RVSUM_1:80
.= ( 0 );
|( p0,( q - ( 0. ( TOP-REAL ( n + 1 ) ) ) ) )| = ( |( p0,q )| - |( p0,( 0. ( TOP-REAL ( n + 1 ) ) ) )| ) by EUCLID_2:27
.= ( |( p0,q )| - ( 0 ) ) by EUCLID_2:32
.= ( 0 ) by A15;
then ( p ^ <* ( 0 ) *> ) in ( Plane (p0,( 0. ( TOP-REAL ( n + 1 ) ) )) );
then ( p ^ <* ( 0 ) *> ) in ( [#] S ) by PRE_TOPC:def 5;
hence ( p ^ <* ( 0 ) *> ) is (Element of S);
end;
A16: (for x being (Element of T) holds (ex y being (Element of S) st P[ x,y ]))
proof
let x being (Element of T);
set y = ( x ^ <* ( 0 ) *> );
reconsider y as (Element of S) by A2;
take y;
thus P[ x,y ];
end;
consider f being (Function of T,S) such that A17: (for x being (Element of T) holds P[ x,( f . x ) ]) from FUNCT_2:sch 3(A16);
A18: ( dom f ) = ( [#] T ) by FUNCT_2:def 1;
A19: (for y being set holds (y in ( [#] S ) iff (ex x being set st (x in ( dom f ) & y = ( f . x )))))
proof
let y being set;
hereby
assume y in ( [#] S );
then y in ( Plane (p0,( 0. ( TOP-REAL ( n + 1 ) ) )) ) by PRE_TOPC:def 5;
then consider q being (Point of ( TOP-REAL ( n + 1 ) )) such that A20: (y = q & |( p0,( q - ( 0. ( TOP-REAL ( n + 1 ) ) ) ) )| = ( 0 ));
A21: (( len q ) = ( n + 1 ) & ( rng q ) c= ( REAL )) by CARD_1:def 7;
then reconsider q1 = q as (FinSequence of ( REAL )) by FINSEQ_1:def 4;
set p = ( q1 | n );
reconsider x = p as set;
take x;
( ( 0 ) + n ) <= ( 1 + n ) by XREAL_1:6;
then A22: ( len p ) = n by A21,FINSEQ_1:59;
A23: ( rng p ) c= ( REAL );
A24: p in ( REAL n ) by A22,A23,FINSEQ_2:132;
hence x in ( dom f ) by A18,EUCLID:22;
reconsider x1 = x as (Element of T) by A24,EUCLID:22;
P[ x1,( f . x1 ) ] by A17;
then A25: ( f . x ) = ( p ^ <* ( 0 ) *> );
A26: q = ( p ^ <* ( q . ( n + 1 ) ) *> ) by A21,FINSEQ_3:55;
A27: |( p0,( q - ( 0. ( TOP-REAL ( n + 1 ) ) ) ) )| = ( |( p0,q )| - |( p0,( 0. ( TOP-REAL ( n + 1 ) ) ) )| ) by EUCLID_2:27
.= ( |( p0,q )| - ( 0 ) ) by EUCLID_2:32
.= |( p0,q )|;
reconsider f0 = ( 0. ( TOP-REAL n ) ) as (FinSequence of ( REAL )) by EUCLID:24;
( rng <* 1 *> ) c= ( REAL );
then reconsider f1 = <* 1 *> as (FinSequence of ( REAL )) by FINSEQ_1:def 4;
reconsider f3 = <* ( q . ( n + 1 ) ) *> as (FinSequence of ( REAL ));
p in ( REAL n ) by A22,A23,FINSEQ_2:132;
then reconsider p1 = p as (Point of ( TOP-REAL n )) by EUCLID:22;
A28: |( ( f0 ^ f1 ),( p ^ f3 ) )| = ( 0 ) by A1,A26,A27,A20,CKB37:1;
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
( 0. ( TOP-REAL n ) ) in (the carrier of ( TOP-REAL n ));
then f0 in ( REAL n ) by EUCLID:22;
then f0 in ( Funcs (( Seg n1 ),( REAL )) ) by FINSEQ_2:93;
then consider g being Function such that A29: ((f0 = g & ( dom g ) = ( Seg n1 )) & ( rng g ) c= ( REAL )) by FUNCT_2:def 2;
A30: ( len f0 ) = ( len p ) by A22,A29,FINSEQ_1:def 3;
( len f1 ) = 1 by FINSEQ_1:39
.= ( len f3 ) by FINSEQ_1:39;
then ( |( ( 0. ( TOP-REAL n ) ),p1 )| + |( f1,f3 )| ) = ( 0 ) by A28,A30,CKB18:1;
then ( ( 0 ) + |( f1,f3 )| ) = ( 0 ) by EUCLID_2:33;
then ( Sum ( mlt (f1,f3) ) ) = ( 0 ) by RVSUM_1:def 16;
then ( Sum <* ( 1 * ( q . ( n + 1 ) ) ) *> ) = ( 0 ) by RVSUM_1:62;
hence y = ( f . x ) by A20,A25,A26,RVSUM_1:73;
end;
given x being set such that
A31: (x in ( dom f ) & y = ( f . x ));

reconsider p = x as (Element of T) by A31;
P[ p,( f . p ) ] by A17;
hence y in ( [#] S ) by A31;
end;
then A32: ( rng f ) = ( [#] S ) by FUNCT_1:def 3;
(for x1,x2 being set holds (((x1 in ( dom f ) & x2 in ( dom f )) & ( f . x1 ) = ( f . x2 )) implies x1 = x2))
proof
let x1 being set;
let x2 being set;
assume A33: (x1 in ( dom f ) & x2 in ( dom f ));
assume A34: ( f . x1 ) = ( f . x2 );
reconsider p1 = x1,p2 = x2 as (Element of T) by A33;
(( f . p1 ) = ( p1 ^ <* ( 0 ) *> ) & ( f . p2 ) = ( p2 ^ <* ( 0 ) *> )) by A17;
hence x1 = x2 by A34,FINSEQ_1:33;
end;
then A35: f is  one-to-one by FUNCT_1:def 4;
set T1 = ( TOP-REAL ( n + 1 ) );
A36: (for p1 being (Point of T) holds ( f . p1 ) is (Point of T1))
proof
let p1 being (Point of T);
( [#] S ) c= ( [#] T1 ) by PRE_TOPC:def 4;
hence ( f . p1 ) is (Point of T1) by TARSKI:def 3;
end;
A37: (for p1 being (Point of T) holds (for q1 being (Point of T1) holds (q1 = ( f . p1 ) implies |. p1 .| = |. q1 .|)))
proof
let p1 being (Point of T);
let q1 being (Point of T1);
assume q1 = ( f . p1 );
then A38: q1 = ( p1 ^ <* ( 0 ) *> ) by A17;
reconsider x = q1 as (Element of ( REAL ( n + 1 ) )) by EUCLID:22;
A39: (( len p1 ) = n & ( rng p1 ) c= ( REAL )) by CARD_1:def 7;
A40: ( x | n ) = ( ( p1 ^ <* ( 0 ) *> ) | ( dom p1 ) ) by A38,FINSEQ_1:89
.= p1 by FINSEQ_1:21;
A41: ( x . ( n + 1 ) ) = ( 0 ) by A38,A39,FINSEQ_1:42;
A42: ( |. q1 .| ^2 ) = ( ( |. p1 .| ^2 ) + ( ( 0 ) ^2 ) ) by A40,A41,REAL_NS1:10
.= ( ( |. p1 .| ^2 ) + ( ( 0 ) * ( 0 ) ) ) by SQUARE_1:def 1
.= ( |. p1 .| ^2 );
( |. q1 .| * |. q1 .| ) >= ( 0 );
then A43: ( |. q1 .| ^2 ) >= ( 0 ) by SQUARE_1:def 1;
( |. p1 .| * |. p1 .| ) >= ( 0 );
then ( |. p1 .| ^2 ) >= ( 0 ) by SQUARE_1:def 1;
hence |. p1 .| = ( sqrt ( |. q1 .| ^2 ) ) by A42,SQUARE_1:def 2
.= |. q1 .| by A43,SQUARE_1:def 2;
end;
A44: (for p1,p2 being (Point of T) holds (for q1,q2 being (Point of T1) holds ((q1 = ( f . p1 ) & q2 = ( f . p2 )) implies ( f . ( p1 - p2 ) ) = ( q1 - q2 ))))
proof
let p1 being (Point of T);
let p2 being (Point of T);
let q1 being (Point of T1);
let q2 being (Point of T1);
assume q1 = ( f . p1 );
then A45: q1 = ( p1 ^ <* ( 0 ) *> ) by A17;
assume q2 = ( f . p2 );
then A46: q2 = ( p2 ^ <* ( 0 ) *> ) by A17;
A47: ( f . ( p1 - p2 ) ) = ( ( p1 - p2 ) ^ <* ( 0 ) *> ) by A17;
reconsider qa = ( f . ( p1 - p2 ) ) as (Point of T1) by A36;
A48: ( dom ( ( p1 - p2 ) ^ <* ( 0 ) *> ) ) = ( Seg ( n + 1 ) ) by A17,FINSEQ_1:89
.= ( dom ( q1 - q2 ) ) by FINSEQ_1:89;
(for k being  natural number holds (k in ( dom ( q1 - q2 ) ) implies ( ( q1 - q2 ) . k ) = ( ( ( p1 - p2 ) ^ <* ( 0 ) *> ) . k )))
proof
let k being  natural number;
assume k in ( dom ( q1 - q2 ) );
then A49: k in ( Seg ( n + 1 ) ) by FINSEQ_1:89;
A50: ( ( q1 - q2 ) . k ) = ( ( q1 + ( - q2 ) ) . k ) by ALGSTR_0:def 14
.= ( ( q1 . k ) + ( ( - q2 ) . k ) ) by A49,CKB21:1
.= ( ( q1 . k ) + ( ( ( - 1 ) * q2 ) . k ) ) by EUCLID:39
.= ( ( q1 . k ) + ( ( - 1 ) * ( q2 . k ) ) ) by VALUED_1:6;
A51: k in ( ( Seg n ) \/ { ( n + 1 ) } ) by A49,FINSEQ_1:9;
per cases  by A51,XBOOLE_0:def 3;
suppose A52: k in ( Seg n );

then (k in ( dom p1 ) & k in ( dom p2 )) by FINSEQ_1:89;
then A53: (( q1 . k ) = ( p1 . k ) & ( q2 . k ) = ( p2 . k )) by A45,A46,FINSEQ_1:def 7;
k in ( dom ( p1 - p2 ) ) by A52,FINSEQ_1:89;
then ( ( ( p1 - p2 ) ^ <* ( 0 ) *> ) . k ) = ( ( p1 - p2 ) . k ) by FINSEQ_1:def 7
.= ( ( p1 + ( - p2 ) ) . k ) by ALGSTR_0:def 14
.= ( ( p1 . k ) + ( ( - p2 ) . k ) ) by A52,CKB21:1
.= ( ( p1 . k ) + ( ( ( - 1 ) * p2 ) . k ) ) by EUCLID:39
.= ( ( p1 . k ) + ( ( - 1 ) * ( p2 . k ) ) ) by VALUED_1:6;
hence thesis by A50,A53;
end;
suppose k in { ( n + 1 ) };

then A54: k = ( n + 1 ) by TARSKI:def 1;
(( len p1 ) = n & ( len p2 ) = n) by CARD_1:def 7;
then A55: (( q1 . k ) = ( 0 ) & ( q2 . k ) = ( 0 )) by A45,A46,A54,FINSEQ_1:42;
( len ( p1 - p2 ) ) = n by CARD_1:def 7;
hence thesis by A50,A55,A54,FINSEQ_1:42;
end;
end;
hence ( f . ( p1 - p2 ) ) = ( q1 - q2 ) by A47,A48,FINSEQ_1:13;
end;
A56: ( f .: ( [#] T ) ) = ( [#] S ) by A32,FUNCT_2:37;
(for P being (Subset of T) holds (P is  closed iff ( f .: P ) is  closed))
proof
let P being (Subset of T);
hereby
assume P is  closed;
then ( ( [#] T ) \ P ) is  open by PRE_TOPC:def 3;
then A57: ( ( [#] T ) \ P ) in (the topology of T) by PRE_TOPC:def 2;
set FQ = { ( Ball (q,r) ) where q is (Point of T1),r is Real: (ex p being (Point of T) st (q = ( f . p ) & ( Ball (p,r) ) c= ( ( [#] T ) \ P ))) };
(for x being set holds (x in FQ implies x in ( bool ( [#] T1 ) )))
proof
let x being set;
assume x in FQ;
then consider q being (Point of T1),r being Real such that A58: (x = ( Ball (q,r) ) & (ex p being (Point of T) st (q = ( f . p ) & ( Ball (p,r) ) c= ( ( [#] T ) \ P ))));
thus x in ( bool ( [#] T1 ) ) by A58;
end;
then reconsider FQ as (Subset-Family of T1) by TARSKI:def 3;
(for Q being (Subset of T1) holds (Q in FQ implies Q is  open))
proof
let Q being (Subset of T1);
assume Q in FQ;
then consider q being (Point of T1),r being Real such that A59: (Q = ( Ball (q,r) ) & (ex p being (Point of T) st (q = ( f . p ) & ( Ball (p,r) ) c= ( ( [#] T ) \ P ))));
thus Q is  open by A59;
end;
then A60: FQ is  open by TOPS_2:def 1;
set Q = ( union FQ );
Q is  open by A60,TOPS_2:19;
then A61: Q in (the topology of T1) by PRE_TOPC:def 2;
(for y being (Element of S) holds (y in ( f .: ( ( [#] T ) \ P ) ) iff y in ( Q /\ ( [#] S ) )))
proof
let y being (Element of S);
hereby
assume y in ( f .: ( ( [#] T ) \ P ) );
then consider x being set such that A62: ((x in ( dom f ) & x in ( ( [#] T ) \ P )) & y = ( f . x )) by FUNCT_1:def 6;
reconsider p = x as (Point of T) by A62;
reconsider q = y as (Point of T1) by A62,A36;
consider r being  real number such that A63: (r > ( 0 ) & ( Ball (p,r) ) c= ( ( [#] T ) \ P )) by A62,A57,CKB29:1;
reconsider r as Real by XREAL_0:def 1;
A64: ( Ball (q,r) ) in FQ by A62,A63;
y in ( Ball (q,r) ) by A63,JORDAN:16;
then y in Q by A64,TARSKI:def 4;
hence y in ( Q /\ ( [#] S ) ) by XBOOLE_0:def 4;
end;
assume y in ( Q /\ ( [#] S ) );
then y in Q by XBOOLE_0:def 4;
then consider Y being set such that A65: (y in Y & Y in FQ) by TARSKI:def 4;
consider q being (Point of T1),r being Real such that A66: Y = ( Ball (q,r) ) and A67: (ex p being (Point of T) st (q = ( f . p ) & ( Ball (p,r) ) c= ( ( [#] T ) \ P ))) by A65;
consider p being (Point of T) such that A68: (q = ( f . p ) & ( Ball (p,r) ) c= ( ( [#] T ) \ P )) by A67;
consider x being set such that A69: (x in ( dom f ) & y = ( f . x )) by A19;
reconsider p1 = x as (Point of T) by A69;
reconsider q1 = y as (Point of T1) by A69,A36;
q1 in { qy where qy is (Point of T1): |. ( qy - q ) .| < r } by A65,A66,TOPREAL9:def 1;
then consider qy being (Point of T1) such that A70: (qy = q1 & |. ( qy - q ) .| < r);
( f . ( p1 - p ) ) = ( q1 - q ) by A69,A68,A44;
then |. ( p1 - p ) .| < r by A70,A37;
then p1 in { px where px is (Point of T): |. ( px - p ) .| < r };
then p1 in ( Ball (p,r) ) by TOPREAL9:def 1;
hence y in ( f .: ( ( [#] T ) \ P ) ) by A69,A68,FUNCT_1:def 6;
end;
then A71: ( f .: ( ( [#] T ) \ P ) ) = ( Q /\ ( [#] S ) ) by SUBSET_1:3;
( ( [#] S ) \ ( f .: P ) ) = ( Q /\ ( [#] S ) ) by A71,A35,A56,FUNCT_1:64;
then ( ( [#] S ) \ ( f .: P ) ) in (the topology of S) by A61,PRE_TOPC:def 4;
then ( ( [#] S ) \ ( f .: P ) ) is  open by PRE_TOPC:def 2;
hence ( f .: P ) is  closed by PRE_TOPC:def 3;
end;
assume ( f .: P ) is  closed;
then ( ( [#] S ) \ ( f .: P ) ) is  open by PRE_TOPC:def 3;
then ( ( [#] S ) \ ( f .: P ) ) in (the topology of S) by PRE_TOPC:def 2;
then consider Q being (Subset of T1) such that A72: (Q in (the topology of T1) & ( ( [#] S ) \ ( f .: P ) ) = ( Q /\ ( [#] S ) )) by PRE_TOPC:def 4;
(for p being (Point of T) holds (p in ( ( [#] T ) \ P ) implies (ex r being  real number st (r > ( 0 ) & ( Ball (p,r) ) c= ( ( [#] T ) \ P )))))
proof
let p being (Point of T);
assume p in ( ( [#] T ) \ P );
then ( f . p ) in ( f .: ( ( [#] T ) \ P ) ) by A18,FUNCT_1:def 6;
then A73: ( f . p ) in ( ( [#] S ) \ ( f .: P ) ) by A56,A35,FUNCT_1:64;
reconsider q = ( f . p ) as (Point of T1) by A36;
q in Q by A72,A73,XBOOLE_0:def 4;
then consider r being  real number such that A74: (r > ( 0 ) & ( Ball (q,r) ) c= Q) by A72,CKB29:1;
take r;
thus r > ( 0 ) by A74;
(for x being set holds (x in ( Ball (p,r) ) implies x in ( ( [#] T ) \ P )))
proof
let x being set;
assume x in ( Ball (p,r) );
then x in { px where px is (Point of T): |. ( px - p ) .| < r } by TOPREAL9:def 1;
then consider p1 being (Point of T) such that A75: (x = p1 & |. ( p1 - p ) .| < r);
reconsider q1 = ( f . p1 ) as (Point of T1) by A36;
( f . ( p1 - p ) ) = ( q1 - q ) by A44;
then |. ( q1 - q ) .| < r by A75,A37;
then q1 in { qx where qx is (Point of T1): |. ( qx - q ) .| < r };
then q1 in ( Ball (q,r) ) by TOPREAL9:def 1;
then q1 in ( Q /\ ( [#] S ) ) by A74,XBOOLE_0:def 4;
then (not q1 in ( f .: P )) by A72,XBOOLE_0:def 5;
then (not x in P) by A18,A75,FUNCT_1:def 6;
hence x in ( ( [#] T ) \ P ) by A75,XBOOLE_0:def 5;
end;
hence ( Ball (p,r) ) c= ( ( [#] T ) \ P ) by TARSKI:def 3;
end;
then ( ( [#] T ) \ P ) in (the topology of T) by CKB29:1;
then ( ( [#] T ) \ P ) is  open by PRE_TOPC:def 2;
hence P is  closed by PRE_TOPC:def 3;
end;
then f is  being_homeomorphism by A18,A32,A35,TOPS_2:58;
hence thesis by T_0TOPSP:def 1;
end;
