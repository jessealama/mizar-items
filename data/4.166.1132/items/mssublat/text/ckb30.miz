environ
vocabularies NAT_1,PBOOLE,FUNCT_1,CARD_1,XBOOLE_0,FINSEQ_2,FINSEQ_1,RELAT_1,TARSKI,NUMBERS,SUBSET_1,UNIALG_1,UNIALG_2,MSUALG_1,FUNCOP_1,CQC_SIM1,STRUCT_0,MSUALG_2,MARGREL1,PARTFUN1,CARD_3,FUNCT_2,ZFMISC_1,EQREL_1,INCPROJ,WELLORD1,GROUP_6,LATTICES;
notations TARSKI,XBOOLE_0,SUBSET_1,BINOP_1,CARD_3,NAT_1,LATTICES,LATTICE4,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,STRUCT_0,PBOOLE,UNIALG_1,UNIALG_2,NUMBERS,FINSEQ_1,FINSEQ_2,MARGREL1,MSUALG_1,MSUALG_2;
definitions TARSKI,XBOOLE_0,MSUALG_2,PBOOLE,LATTICE4,UNIALG_1,UNIALG_2,FUNCOP_1,FINSEQ_2,FUNCT_2,MARGREL1;
theorems MSUALG_1,MSUALG_2,PBOOLE,TARSKI,UNIALG_1,UNIALG_2,FUNCT_1,RELAT_1,FUNCOP_1,PARTFUN1,FUNCT_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,ZFMISC_1,CARD_3,LATTICES,MSUHOM_1,XBOOLE_0,XBOOLE_1,ORDINAL1,STRUCT_0,MARGREL1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29;
schemes FUNCT_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCOP_1,FINSEQ_2,RELAT_1,PBOOLE,STRUCT_0,UNIALG_1,UNIALG_2,MSUALG_1,MSUALG_2,FINSEQ_1,MARGREL1,CARD_1;
constructors BINOP_1,CARD_3,FINSEQOP,FILTER_1,UNIALG_2,LATTICE4,MSUALG_2,RELSET_1,MARGREL1,NAT_1;
requirements NUMERALS,SUBSET,BOOLE;
begin
reconsider z = ( 0 ) as (Element of { ( 0 ) }) by TARSKI:def 1;
reserve MS for  segmental non  void 1 -element ManySortedSign;
reserve A for  non-empty MSAlgebra over MS;
theorem
Th30: (for A being  strict Universal_Algebra holds (for a1,b1 being  strict  non-empty (SubAlgebra of A) holds (for a2,b2 being  strict  non-empty (MSSubAlgebra of ( MSAlg A )) holds ((a2 = ( MSAlg a1 ) & b2 = ( MSAlg b1 )) implies ( MSAlg ( a1 "\/" b1 ) ) = ( a2 "\/" b2 )))))
proof
let A being  strict Universal_Algebra;
let a1 being  strict  non-empty (SubAlgebra of A);
let b1 being  strict  non-empty (SubAlgebra of A);
reconsider MSA = ( MSAlg ( a1 "\/" b1 ) ) as (MSSubAlgebra of ( MSAlg A )) by CKB12:1;
let a2 being  strict  non-empty (MSSubAlgebra of ( MSAlg A ));
let b2 being  strict  non-empty (MSSubAlgebra of ( MSAlg A ));
assume that
A1: a2 = ( MSAlg a1 )
and
A2: b2 = ( MSAlg b1 );
( MSSign ( a1 "\/" b1 ) ) = ( MSSign A ) by CKB7:1;
then reconsider MSA as  strict  non-empty (MSSubAlgebra of ( MSAlg A ));
(for B being (MSSubset of ( MSAlg A )) holds (B = ( (the Sorts of a2) \/ (the Sorts of b2) ) implies MSA = ( GenMSAlg B )))
proof
((the carrier of a1) is (Subset of A) & (the carrier of b1) is (Subset of A)) by UNIALG_2:def 7;
then reconsider K = ( (the carrier of a1) \/ (the carrier of b1) ) as non  empty (Subset of A) by XBOOLE_1:8;
reconsider ff1 = ( ( *--> ( 0 ) ) * ( signature A ) ) as (Function of ( dom ( signature A ) ),( { ( 0 ) } * )) by MSUALG_1:2;
set X = MSA;
reconsider M1 = (the Sorts of X) as (ManySortedSet of (the carrier of ( MSSign A )));
A3: ( MSSign A ) = ManySortedSign (# { ( 0 ) },( dom ( signature A ) ),ff1,( ( dom ( signature A ) ) --> z ) #) by MSUALG_1:10;
then reconsider x = ( 0 ) as (Element of ( MSSign A ));
let B being (MSSubset of ( MSAlg A ));
assume that
A4: B = ( (the Sorts of a2) \/ (the Sorts of b2) );
A5: (for U1 being (MSSubAlgebra of ( MSAlg A )) holds (B is (MSSubset of U1) implies X is (MSSubAlgebra of U1)))
proof
let U1 being (MSSubAlgebra of ( MSAlg A ));
assume A6: B is (MSSubset of U1);
per cases ;
suppose U1 is  non-empty;

then reconsider U11 = U1 as  non-empty (MSSubAlgebra of ( MSAlg A ));
A7: ( 1-Alg U11 ) is (SubAlgebra of ( 1-Alg ( MSAlg A ) )) by CKB20:1;
then reconsider A1 = ( 1-Alg U11 ) as  strict (SubAlgebra of A) by MSUALG_1:9;
B c= (the Sorts of U11) by A6,PBOOLE:def 18;
then A8: ( B . x ) c= ( (the Sorts of U11) . x ) by PBOOLE:def 2;
(( the MSAlgebra of U11 ) = ( MSAlg ( 1-Alg U11 ) ) & ( MSAlg ( 1-Alg U11 ) ) = MSAlgebra (# ( MSSorts ( 1-Alg U11 ) ),( MSCharact ( 1-Alg U11 ) ) #)) by A3,CKB26:1,MSUALG_1:def 11;
then A9: ( (the Sorts of U11) . ( 0 ) ) = ( ( ( 0 ) .--> (the carrier of ( 1-Alg U11 )) ) . ( 0 ) ) by MSUALG_1:def 9;
( B . ( 0 ) ) = ( ( ( 0 ) .--> K ) . ( 0 ) ) by A1,A2,A4,CKB28:1
.= K by FUNCOP_1:72;
then ( (the carrier of a1) \/ (the carrier of b1) ) c= (the carrier of A1) by A8,A9,FUNCOP_1:72;
then ( GenUnivAlg K ) is (SubAlgebra of ( 1-Alg U11 )) by UNIALG_2:def 12;
then ( a1 "\/" b1 ) is (SubAlgebra of ( 1-Alg U11 )) by UNIALG_2:def 13;
then A10: MSA is (MSSubAlgebra of ( MSAlg ( 1-Alg U11 ) )) by CKB12:1;
( 1-Alg U11 ) is (SubAlgebra of A) by A7,MSUALG_1:9;
then ( MSSign A ) = ( MSSign ( 1-Alg U11 ) ) by CKB7:1;
then X is (MSSubAlgebra of ( the MSAlgebra of U11 )) by A3,A10,CKB26:1;
hence thesis by CKB21:1;
end;
suppose (not U1 is  non-empty);

then (the Sorts of U1) is non  non-empty by MSUALG_1:def 3;
then A11: (ex i being set st (i in (the carrier of ( MSSign A )) & ( (the Sorts of U1) . i ) is  empty)) by PBOOLE:def 13;
reconsider 0a1 = ( ( 0 ) .--> (the carrier of a1) ) as (ManySortedSet of (the carrier of ( MSSign A ))) by A3;
set e = the (Element of a1);
B c= (the Sorts of U1) by A6,PBOOLE:def 18;
then A12: ( B . x ) c= ( (the Sorts of U1) . x ) by PBOOLE:def 2;
a2 = MSAlgebra (# ( MSSorts a1 ),( MSCharact a1 ) #) by A1,MSUALG_1:def 11;
then B = ( 0a1 \/ (the Sorts of b2) ) by A4,MSUALG_1:def 9;
then A13: ( B . x ) = ( ( 0a1 . x ) \/ ( (the Sorts of b2) . x ) ) by PBOOLE:def 4;
x in { ( 0 ) } by TARSKI:def 1;
then ( 0a1 . x ) = (the carrier of a1) by FUNCOP_1:7;
then e in ( B . x ) by A13,XBOOLE_0:def 3;
hence thesis by A3,A11,A12,TARSKI:def 1;
end;
end;
X = MSAlgebra (# ( MSSorts ( a1 "\/" b1 ) ),( MSCharact ( a1 "\/" b1 ) ) #) by MSUALG_1:def 11;
then A14: (the Sorts of X) = ( ( 0 ) .--> (the carrier of ( a1 "\/" b1 )) ) by MSUALG_1:def 9;
( (the Sorts of a2) \/ (the Sorts of b2) ) c= M1
proof
let x being set;
A15: ( a1 "\/" b1 ) = ( GenUnivAlg K ) by UNIALG_2:def 13;
assume A16: x in (the carrier of ( MSSign A ));
then A17: ( M1 . x ) = ( ( ( 0 ) .--> (the carrier of ( a1 "\/" b1 )) ) . ( 0 ) ) by A14,A3,TARSKI:def 1
.= (the carrier of ( a1 "\/" b1 )) by FUNCOP_1:72;
( ( (the Sorts of a2) \/ (the Sorts of b2) ) . x ) = ( ( (the Sorts of a2) \/ (the Sorts of b2) ) . ( 0 ) ) by A3,A16,TARSKI:def 1
.= ( ( ( 0 ) .--> ( (the carrier of a1) \/ (the carrier of b1) ) ) . ( 0 ) ) by A1,A2,CKB28:1
.= ( (the carrier of a1) \/ (the carrier of b1) ) by FUNCOP_1:72;
hence thesis by A17,A15,UNIALG_2:def 12;
end;
then B is (MSSubset of X) by A4,PBOOLE:def 18;
hence thesis by A5,MSUALG_2:def 17;
end;
hence thesis by MSUALG_2:def 18;
end;
