environ
vocabularies NUMBERS,SUBSET_1,EUCLID,PRE_TOPC,FINSEQ_1,REAL_1,TOPREAL1,PARTFUN1,XBOOLE_0,RCOMP_1,RELAT_2,XXREAL_0,RELAT_1,FUNCT_1,TOPREAL2,MCART_1,METRIC_1,ARYTM_3,TARSKI,RLTOPSP1,ORDINAL4,NAT_1,CARD_1,ARYTM_1,PCOMPS_1,XREAL_0,ORDINAL1,STRUCT_0,TOPREAL4;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XREAL_0,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,STRUCT_0,PRE_TOPC,CONNSP_1,METRIC_1,PCOMPS_1,RLTOPSP1,EUCLID,TOPREAL1,TOPREAL2,XXREAL_0,CKB1,CKB2,CKB3;
definitions TARSKI,TOPREAL1,XBOOLE_0,STRUCT_0,CKB1,CKB2,CKB3;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,PRE_TOPC,CONNSP_1,EUCLID,TOPMETR,TOPREAL1,TOPREAL2,TOPREAL3,FINSEQ_4,FINSEQ_3,TBSP_1,PARTFUN2,RELAT_1,INT_1,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,XXREAL_0,PARTFUN1,ORDINAL1,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes NAT_1;
registrations XBOOLE_0,RELSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,PRE_TOPC,EUCLID,FINSEQ_1;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,FINSEQ_4,CONNSP_1,PCOMPS_1,TOPREAL1,TOPREAL2,RELSET_1,FUNCSDOM,DOMAIN_1,CKB1,CKB2,CKB3;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve f for (FinSequence of ( TOP-REAL 2 ));
reserve h for (FinSequence of ( TOP-REAL 2 ));
reserve m for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve x for set;
theorem
Th15: ((((( f /. 2 ) <> ( f /. 1 ) & f is  being_S-Seq) & ( ( f /. 2 ) `2 ) = ( ( f /. 1 ) `2 )) & h = <* ( f /. 1 ),|[ ( ( ( ( f /. 1 ) `1 ) + ( ( f /. 2 ) `1 ) ) / 2 ),( ( f /. 1 ) `2 ) ]|,( f /. 2 ) *>) implies ((((((h is  being_S-Seq & ( h /. 1 ) = ( f /. 1 )) & ( h /. ( len h ) ) = ( f /. 2 )) & ( L~ h ) is_S-P_arc_joining ( f /. 1 ),( f /. 2 )) & ( L~ h ) c= ( L~ f )) & ( L~ h ) = ( ( L~ ( f | 1 ) ) \/ ( LSeg (( f /. 1 ),( f /. 2 )) ) )) & ( L~ h ) = ( ( L~ ( f | 2 ) ) \/ ( LSeg (( f /. 2 ),( f /. 2 )) ) )))
proof
set p1 = ( f /. 1 );
set p = ( f /. 2 );
assume that
A1: p <> p1
and
A2: f is  being_S-Seq
and
A3: ( p `2 ) = ( p1 `2 )
and
A4: h = <* p1,|[ ( ( ( p1 `1 ) + ( p `1 ) ) / 2 ),( p1 `2 ) ]|,p *>;
A5: ( p1 `1 ) <> ( p `1 ) by A1,A3,TOPREAL3:6;
hence A6: ((h is  being_S-Seq & ( h /. 1 ) = p1) & ( h /. ( len h ) ) = p) by A3,A4,TOPREAL3:37;
A7: ( ( LSeg (p1,|[ ( ( ( p1 `1 ) + ( p `1 ) ) / 2 ),( p1 `2 ) ]|) ) \/ ( LSeg (|[ ( ( ( p1 `1 ) + ( p `1 ) ) / 2 ),( p1 `2 ) ]|,p) ) ) = ( LSeg (p1,p) ) by A3,A5,TOPREAL1:5,TOPREAL3:13;
set M = { ( LSeg (( f | 2 ),k) ): (1 <= k & ( k + 1 ) <= ( len ( f | 2 ) )) };
A8: ( Seg ( len f ) ) = ( dom f ) by FINSEQ_1:def 3;
A9: ( L~ h ) = ( ( LSeg (p1,|[ ( ( ( p1 `1 ) + ( p `1 ) ) / 2 ),( p1 `2 ) ]|) ) \/ ( LSeg (|[ ( ( ( p1 `1 ) + ( p `1 ) ) / 2 ),( p1 `2 ) ]|,p) ) ) by A4,TOPREAL3:16;
A10: ( len f ) >= 2 by A2,TOPREAL1:def 8;
then A11: ( 1 + 1 ) in ( Seg ( len f ) ) by FINSEQ_1:1;
then A12: ( LSeg (f,1) ) = ( LSeg (p1,p) ) by A10,TOPREAL1:def 3;
( Seg 2 ) c= ( Seg ( len f ) ) by A10,FINSEQ_1:5;
then (( f | 2 ) = ( f | ( Seg 2 ) ) & ( ( dom f ) /\ ( Seg 2 ) ) = ( Seg 2 )) by A8,FINSEQ_1:def 15,XBOOLE_1:28;
then A13: ( dom ( f | 2 ) ) = ( Seg 2 ) by RELAT_1:61;
then A14: (1 in ( dom ( f | 2 ) ) & 2 in ( dom ( f | 2 ) )) by FINSEQ_1:1;
thus A15: ( L~ h ) is_S-P_arc_joining p1,p by A6,CKB1:def 1;
A16: ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) ) c= ( L~ h )
proof
let x;
assume that
A17: x in ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) );
now
per cases  by A17,XBOOLE_0:def 3;
suppose x in ( L~ ( f | 2 ) );

then consider X being set such that A18: x in X and A19: X in M by TARSKI:def 4;
consider m such that A20: X = ( LSeg (( f | 2 ),m) ) and A21: 1 <= m and A22: ( m + 1 ) <= ( len ( f | 2 ) ) by A19;
( ( len ( f | 2 ) ) - 1 ) = ( ( 1 + 1 ) - 1 ) by A13,FINSEQ_1:def 3
.= 1;
then ( ( m + 1 ) - 1 ) <= 1 by A22,XREAL_1:9;
then m = 1 by A21,XXREAL_0:1;
hence thesis by A11,A12,A9,A7,A14,A18,A20,TOPREAL3:17;
end;
suppose x in ( LSeg (p,p) );

then A23: x in { p } by RLTOPSP1:70;
p in ( L~ h ) by A15,CKB6:1;
hence thesis by A23,TARSKI:def 1;
end;
end;
hence thesis;
end;
( LSeg (f,1) ) c= ( L~ f ) by TOPREAL3:19;
hence ( L~ h ) c= ( L~ f ) by A4,A12,A7,TOPREAL3:16;
( len f ) >= 1 by A10,XXREAL_0:2;
then ( Seg 1 ) c= ( Seg ( len f ) ) by FINSEQ_1:5;
then (( f | 1 ) = ( f | ( Seg 1 ) ) & ( ( dom f ) /\ ( Seg 1 ) ) = ( Seg 1 )) by A8,FINSEQ_1:def 15,XBOOLE_1:28;
then ( dom ( f | 1 ) ) = ( Seg 1 ) by RELAT_1:61;
then ( len ( f | 1 ) ) = 1 by FINSEQ_1:def 3;
then ( L~ ( f | 1 ) ) = ( {} ) by TOPREAL1:22;
hence ( L~ h ) = ( ( L~ ( f | 1 ) ) \/ ( LSeg (p1,p) ) ) by A3,A5,A9,TOPREAL1:5,TOPREAL3:13;
A24: ( L~ ( f | 2 ) ) c= ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) ) by XBOOLE_1:7;
A25: ( 1 + 1 ) <= ( len ( f | 2 ) ) by A13,FINSEQ_1:def 3;
( LSeg (( f | 2 ),1) ) = ( LSeg (p1,p) ) by A11,A12,A14,TOPREAL3:17;
then ( LSeg (p1,p) ) in M by A25;
then ( L~ h ) c= ( L~ ( f | 2 ) ) by A9,A7,ZFMISC_1:74;
then ( L~ h ) c= ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) ) by A24,XBOOLE_1:1;
hence thesis by A16,XBOOLE_0:def 10;
end;
