environ
vocabularies NUMBERS,SUBSET_1,EUCLID,PRE_TOPC,FINSEQ_1,REAL_1,TOPREAL1,PARTFUN1,XBOOLE_0,RCOMP_1,RELAT_2,XXREAL_0,RELAT_1,FUNCT_1,TOPREAL2,MCART_1,METRIC_1,ARYTM_3,TARSKI,RLTOPSP1,ORDINAL4,NAT_1,CARD_1,ARYTM_1,PCOMPS_1,XREAL_0,ORDINAL1,STRUCT_0,TOPREAL4;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XREAL_0,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,STRUCT_0,PRE_TOPC,CONNSP_1,METRIC_1,PCOMPS_1,RLTOPSP1,EUCLID,TOPREAL1,TOPREAL2,XXREAL_0,CKB1,CKB2,CKB3;
definitions TARSKI,TOPREAL1,XBOOLE_0,STRUCT_0,CKB1,CKB2,CKB3;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,PRE_TOPC,CONNSP_1,EUCLID,TOPMETR,TOPREAL1,TOPREAL2,TOPREAL3,FINSEQ_4,FINSEQ_3,TBSP_1,PARTFUN2,RELAT_1,INT_1,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,XXREAL_0,PARTFUN1,ORDINAL1,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15;
schemes NAT_1;
registrations XBOOLE_0,RELSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,PRE_TOPC,EUCLID,FINSEQ_1;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,FINSEQ_4,CONNSP_1,PCOMPS_1,TOPREAL1,TOPREAL2,RELSET_1,FUNCSDOM,DOMAIN_1,CKB1,CKB2,CKB3;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve p for (Point of ( TOP-REAL 2 ));
reserve p11 for (Point of ( TOP-REAL 2 ));
reserve p22 for (Point of ( TOP-REAL 2 ));
reserve f for (FinSequence of ( TOP-REAL 2 ));
reserve h for (FinSequence of ( TOP-REAL 2 ));
reserve n for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve x for set;
reserve y for set;
theorem
Th14: (((((((f is  being_S-Seq & i in ( dom f )) & ( i + 1 ) in ( dom f )) & i > 1) & p in ( LSeg (f,i) )) & p <> ( f /. i )) & h = ( ( f | i ) ^ <* p *> )) implies (((((h is  being_S-Seq & ( h /. 1 ) = ( f /. 1 )) & ( h /. ( len h ) ) = p) & ( L~ h ) is_S-P_arc_joining ( f /. 1 ),p) & ( L~ h ) c= ( L~ f )) & ( L~ h ) = ( ( L~ ( f | i ) ) \/ ( LSeg (( f /. i ),p) ) )))
proof
set p1 = ( f /. 1 );
set q = ( f /. i );
assume that
A1: f is  being_S-Seq
and
A2: i in ( dom f )
and
A3: ( i + 1 ) in ( dom f )
and
A4: i > 1
and
A5: p in ( LSeg (f,i) )
and
A6: p <> ( f /. i )
and
A7: h = ( ( f | i ) ^ <* p *> );
A8: f is  one-to-one by A1,TOPREAL1:def 8;
set v = ( f | i );
A9: v = ( f | ( Seg i ) ) by FINSEQ_1:def 15;
then A10: ( dom v ) = ( ( dom f ) /\ ( Seg i ) ) by RELAT_1:61;
A11: ( Seg ( len h ) ) = ( dom h ) by FINSEQ_1:def 3;
A12: f is  unfolded by A1,TOPREAL1:def 8;
A13: f is  special by A1,TOPREAL1:def 8;
A14: f is  s.n.c. by A1,TOPREAL1:def 8;
set q1 = ( f /. i );
set q2 = ( f /. ( i + 1 ) );
A15: ( Seg ( len f ) ) = ( dom f ) by FINSEQ_1:def 3;
then A16: ( i + 1 ) <= ( len f ) by A3,FINSEQ_1:1;
then A17: p in ( LSeg (q1,q2) ) by A4,A5,TOPREAL1:def 3;
A18: ( LSeg (f,i) ) = ( LSeg (q1,q2) ) by A4,A16,TOPREAL1:def 3;
A19: ( LSeg (f,i) ) = ( LSeg (q2,q1) ) by A4,A16,TOPREAL1:def 3;
i <> ( i + 1 );
then A20: q1 <> q2 by A2,A3,A8,PARTFUN2:10;
A21: q1 in ( LSeg (q1,q2) ) by RLTOPSP1:68;
A22: (q1 = |[ ( q1 `1 ),( q1 `2 ) ]| & q2 = |[ ( q2 `1 ),( q2 `2 ) ]|) by EUCLID:53;
A23: i <= ( len f ) by A2,A15,FINSEQ_1:1;
then ( Seg i ) c= ( dom f ) by A15,FINSEQ_1:5;
then A24: ( dom v ) = ( Seg i ) by A10,XBOOLE_1:28;
then A25: ( len v ) = i by FINSEQ_1:def 3;
then A26: ( len h ) = ( i + ( len <* p *> ) ) by A7,FINSEQ_1:22
.= ( i + 1 ) by FINSEQ_1:39;
then A27: ( h /. ( len h ) ) = p by A7,A25,FINSEQ_4:67;
A28: i in ( dom v ) by A4,A24,FINSEQ_1:1;
then A29: ( h /. i ) = ( v /. i ) by A7,FINSEQ_4:68
.= q1 by A28,FINSEQ_4:70;
then A30: ( LSeg (h,i) ) = ( LSeg (q1,p) ) by A4,A26,A27,TOPREAL1:def 3;
A31: ( 1 + 1 ) <= i by A4,NAT_1:13;
thus A32: h is  being_S-Seq
proof
now
set Z = { m: (1 <= m & m <= ( len h )) };
given x,y such that
A33: x in ( dom h )
and
A34: y in ( dom h )
and
A35: ( h . x ) = ( h . y )
and
A36: x <> y;

x in Z by A11,A33,FINSEQ_1:def 1;
then consider k1 being (Element of ( NAT )) such that A37: k1 = x and A38: 1 <= k1 and A39: k1 <= ( len h );
y in Z by A11,A34,FINSEQ_1:def 1;
then consider k2 being (Element of ( NAT )) such that A40: k2 = y and A41: 1 <= k2 and A42: k2 <= ( len h );
A43: ( h /. k1 ) = ( h . y ) by A33,A35,A37,PARTFUN1:def 6
.= ( h /. k2 ) by A34,A40,PARTFUN1:def 6;
k2 <= ( len f ) by A26,A16,A42,XXREAL_0:2;
then A44: k2 in ( dom f ) by A15,A41,FINSEQ_1:1;
k1 <= ( len f ) by A26,A16,A39,XXREAL_0:2;
then A45: k1 in ( dom f ) by A15,A38,FINSEQ_1:1;
A46: ( k1 + ( 1 + 1 ) ) = ( ( k1 + 1 ) + 1 );
A47: ( k2 + ( 1 + 1 ) ) = ( ( k2 + 1 ) + 1 );
now
per cases  by A26,A39,A42,XXREAL_0:1;
suppose (k1 = ( i + 1 ) & k2 = ( i + 1 ));

hence contradiction by A36,A37,A40;
end;
suppose A48: (k1 = ( i + 1 ) & k2 < ( i + 1 ));

then A49: ( k2 + 1 ) <= k1 by NAT_1:13;
now
per cases  by A49,XXREAL_0:1;
suppose ( k2 + 1 ) = k1;

hence contradiction by A6,A7,A25,A29,A43,A48,FINSEQ_4:67;
end;
suppose ( k2 + 1 ) < k1;

then A50: ( k2 + 1 ) <= i by A48,NAT_1:13;
now
per cases  by A50,XXREAL_0:1;
suppose A51: ( k2 + 1 ) = i;

then k2 <= i by NAT_1:11;
then A52: k2 in ( dom v ) by A24,A41,FINSEQ_1:1;
then A53: ( h /. k2 ) = ( v /. k2 ) by A7,FINSEQ_4:68
.= ( f /. k2 ) by A52,FINSEQ_4:70;
( k2 + 1 ) <= ( len f ) by A2,A15,A51,FINSEQ_1:1;
then A54: ( f /. k2 ) in ( LSeg (f,k2) ) by A41,TOPREAL1:21;
( ( LSeg (f,k2) ) /\ ( LSeg (f,i) ) ) = { ( f /. i ) } by A12,A16,A41,A47,A51,TOPREAL1:def 6;
then ( f /. k2 ) in { ( f /. i ) } by A5,A26,A27,A43,A48,A54,A53,XBOOLE_0:def 4;
then A55: ( f /. k2 ) = ( f /. i ) by TARSKI:def 1;
k2 < i by A51,NAT_1:13;
hence contradiction by A2,A8,A44,A55,PARTFUN2:10;
end;
suppose A56: ( k2 + 1 ) < i;

then A57: ( k2 + 1 ) <= ( len f ) by A23,XXREAL_0:2;
A58: ( LSeg (f,k2) ) misses ( LSeg (f,i) ) by A14,A56,TOPREAL1:def 7;
k2 <= ( k2 + 1 ) by NAT_1:11;
then k2 <= i by A56,XXREAL_0:2;
then A59: k2 in ( dom v ) by A24,A41,FINSEQ_1:1;
then ( h /. k2 ) = ( v /. k2 ) by A7,FINSEQ_4:68
.= ( f /. k2 ) by A59,FINSEQ_4:70;
then p in ( LSeg (f,k2) ) by A26,A27,A41,A43,A48,A57,TOPREAL1:21;
hence contradiction by A5,A58,XBOOLE_0:3;
end;
end;
hence contradiction;
end;
end;
hence contradiction;
end;
suppose A60: (k1 < ( i + 1 ) & k2 = ( i + 1 ));

then A61: ( k1 + 1 ) <= k2 by NAT_1:13;
now
per cases  by A61,XXREAL_0:1;
suppose ( k1 + 1 ) = k2;

hence contradiction by A6,A7,A25,A29,A43,A60,FINSEQ_4:67;
end;
suppose ( k1 + 1 ) < k2;

then A62: ( k1 + 1 ) <= i by A60,NAT_1:13;
now
per cases  by A62,XXREAL_0:1;
suppose A63: ( k1 + 1 ) = i;

then k1 <= i by NAT_1:11;
then A64: k1 in ( dom v ) by A24,A38,FINSEQ_1:1;
then A65: ( h /. k1 ) = ( v /. k1 ) by A7,FINSEQ_4:68
.= ( f /. k1 ) by A64,FINSEQ_4:70;
( k1 + 1 ) <= ( len f ) by A2,A15,A63,FINSEQ_1:1;
then A66: ( f /. k1 ) in ( LSeg (f,k1) ) by A38,TOPREAL1:21;
( ( LSeg (f,k1) ) /\ ( LSeg (f,i) ) ) = { ( f /. i ) } by A12,A16,A38,A46,A63,TOPREAL1:def 6;
then ( f /. k1 ) in { ( f /. i ) } by A5,A26,A27,A43,A60,A66,A65,XBOOLE_0:def 4;
then A67: ( f /. k1 ) = ( f /. i ) by TARSKI:def 1;
k1 < i by A63,NAT_1:13;
hence contradiction by A2,A8,A45,A67,PARTFUN2:10;
end;
suppose A68: ( k1 + 1 ) < i;

then A69: ( k1 + 1 ) <= ( len f ) by A23,XXREAL_0:2;
A70: ( LSeg (f,k1) ) misses ( LSeg (f,i) ) by A14,A68,TOPREAL1:def 7;
k1 <= ( k1 + 1 ) by NAT_1:11;
then k1 <= i by A68,XXREAL_0:2;
then A71: k1 in ( dom v ) by A24,A38,FINSEQ_1:1;
then ( h /. k1 ) = ( v /. k1 ) by A7,FINSEQ_4:68
.= ( f /. k1 ) by A71,FINSEQ_4:70;
then p in ( LSeg (f,k1) ) by A26,A27,A38,A43,A60,A69,TOPREAL1:21;
hence contradiction by A5,A70,XBOOLE_0:3;
end;
end;
hence contradiction;
end;
end;
hence contradiction;
end;
suppose A72: (k1 < ( i + 1 ) & k2 < ( i + 1 ));

then k2 <= i by NAT_1:13;
then A73: k2 in ( dom v ) by A24,A41,FINSEQ_1:1;
k1 <= i by A72,NAT_1:13;
then A74: k1 in ( dom v ) by A24,A38,FINSEQ_1:1;
then ( f . k1 ) = ( v . k1 ) by A9,FUNCT_1:47
.= ( h . k1 ) by A7,A74,FINSEQ_1:def 7
.= ( v . k2 ) by A7,A35,A37,A40,A73,FINSEQ_1:def 7
.= ( f . k2 ) by A9,A73,FUNCT_1:47;
hence contradiction by A8,A36,A37,A40,A45,A44,FUNCT_1:def 4;
end;
end;
hence contradiction;
end;
hence h is  one-to-one by FUNCT_1:def 4;
thus ( len h ) >= 2 by A4,A26,A31,XREAL_1:6;
thus h is  unfolded
proof
let j being Nat;
assume that
A75: 1 <= j
and
A76: ( j + 2 ) <= ( len h );
A77: 1 <= ( j + 1 ) by NAT_1:11;
( ( j + 1 ) + 1 ) = ( j + ( 1 + 1 ) );
then ( j + 1 ) <= i by A26,A76,XREAL_1:6;
then A78: ( j + 1 ) in ( dom v ) by A24,A77,FINSEQ_1:1;
then A79: ( h /. ( j + 1 ) ) = ( v /. ( j + 1 ) ) by A7,FINSEQ_4:68
.= ( f /. ( j + 1 ) ) by A78,FINSEQ_4:70;
( ( i + 1 ) + 1 ) = ( i + ( 1 + 1 ) );
then ( len h ) <= ( i + 2 ) by A26,NAT_1:11;
then ( j + 2 ) <= ( i + 2 ) by A76,XXREAL_0:2;
then j <= i by XREAL_1:6;
then A80: j in ( dom v ) by A24,A75,FINSEQ_1:1;
then A81: ( LSeg (h,j) ) = ( LSeg (v,j) ) by A7,A78,TOPREAL3:18
.= ( LSeg (f,j) ) by A80,A78,TOPREAL3:17;
j <= ( j + 2 ) by NAT_1:11;
then A82: 1 <= ( j + ( 1 + 1 ) ) by A75,XXREAL_0:2;
A83: ( j + ( 1 + 1 ) ) = ( ( j + 1 ) + 1 );
( i + 1 ) in ( Seg ( len f ) ) by A3,FINSEQ_1:def 3;
then ( len h ) <= ( len f ) by A26,FINSEQ_1:1;
then A84: ( j + 2 ) <= ( len f ) by A76,XXREAL_0:2;
then A85: ( ( LSeg (f,j) ) /\ ( LSeg (f,( j + 1 )) ) ) = { ( f /. ( j + 1 ) ) } by A12,A75,TOPREAL1:def 6;
now
per cases  by A76,XXREAL_0:1;
suppose A86: ( j + 2 ) = ( len h );

( j + 1 ) <= ( ( j + 1 ) + 1 ) by NAT_1:11;
then ( j + 1 ) <= ( len h ) by A76,XXREAL_0:2;
then A87: ( h /. ( j + 1 ) ) in ( LSeg (h,j) ) by A75,TOPREAL1:21;
( h /. ( j + 1 ) ) in ( LSeg (h,( j + 1 )) ) by A76,A77,A83,TOPREAL1:21;
then ( h /. ( j + 1 ) ) in ( ( LSeg (h,j) ) /\ ( LSeg (h,( j + 1 )) ) ) by A87,XBOOLE_0:def 4;
then A88: { ( h /. ( j + 1 ) ) } c= ( ( LSeg (h,j) ) /\ ( LSeg (h,( j + 1 )) ) ) by ZFMISC_1:31;
( ( LSeg (h,j) ) /\ ( LSeg (h,( j + 1 )) ) ) c= { ( h /. ( j + 1 ) ) } by A26,A18,A21,A17,A30,A85,A81,A79,A86,TOPREAL1:6,XBOOLE_1:26;
hence thesis by A88,XBOOLE_0:def 10;
end;
suppose ( j + 2 ) < ( len h );

then ( j + ( 1 + 1 ) ) <= i by A26,NAT_1:13;
then A89: ( ( j + 1 ) + 1 ) in ( dom v ) by A24,A82,FINSEQ_1:1;
then ( LSeg (h,( j + 1 )) ) = ( LSeg (v,( j + 1 )) ) by A7,A78,TOPREAL3:18
.= ( LSeg (f,( j + 1 )) ) by A78,A89,TOPREAL3:17;
hence thesis by A12,A75,A84,A81,A79,TOPREAL1:def 6;
end;
end;
hence thesis;
end;

thus h is  s.n.c.
proof
let n being Nat,m being Nat;
assume A90: m > ( n + 1 );
n <= ( n + 1 ) by NAT_1:11;
then A91: n <= m by A90,XXREAL_0:2;
A92: 1 <= ( n + 1 ) by NAT_1:11;
A93: ( LSeg (f,n) ) misses ( LSeg (f,m) ) by A14,A90,TOPREAL1:def 7;
now
per cases  by XXREAL_0:1;
suppose A94: ( m + 1 ) < ( len h );

A95: 1 < m by A90,A92,XXREAL_0:2;
then A96: 1 <= ( m + 1 ) by NAT_1:13;
( m + 1 ) <= i by A26,A94,NAT_1:13;
then A97: ( m + 1 ) in ( dom v ) by A24,A96,FINSEQ_1:1;
A98: m <= i by A26,A94,XREAL_1:6;
then A99: m in ( dom v ) by A24,A95,FINSEQ_1:1;
then A100: ( LSeg (h,m) ) = ( LSeg (v,m) ) by A7,A97,TOPREAL3:18
.= ( LSeg (f,m) ) by A99,A97,TOPREAL3:17;
now
per cases ;
suppose ( 0 ) < n;

then A101: ( ( 0 ) + 1 ) <= n by NAT_1:13;
( n + 1 ) <= i by A90,A98,XXREAL_0:2;
then A102: ( n + 1 ) in ( dom v ) by A24,A92,FINSEQ_1:1;
n <= i by A91,A98,XXREAL_0:2;
then A103: n in ( dom v ) by A24,A101,FINSEQ_1:1;
then ( LSeg (h,n) ) = ( LSeg (v,n) ) by A7,A102,TOPREAL3:18
.= ( LSeg (f,n) ) by A103,A102,TOPREAL3:17;
then ( LSeg (h,n) ) misses ( LSeg (h,m) ) by A14,A90,A100,TOPREAL1:def 7;
hence ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) = ( {} ) by XBOOLE_0:def 7;
end;
suppose ( 0 ) = n;

then ( LSeg (h,n) ) = ( {} ) by TOPREAL1:def 3;
hence ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) = ( {} );
end;
end;
hence ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) = ( {} );
end;
suppose A104: ( m + 1 ) = ( len h );

A105: ( ( LSeg (f,n) ) /\ ( LSeg (f,m) ) ) = ( {} ) by A93,XBOOLE_0:def 7;
now
per cases ;
suppose ( 0 ) < n;

then ( ( 0 ) + 1 ) <= n by NAT_1:13;
then A106: n in ( dom v ) by A24,A26,A91,A104,FINSEQ_1:1;
A107: ( n + 1 ) in ( dom v ) by A24,A26,A90,A92,A104,FINSEQ_1:1;
then ( LSeg (h,n) ) = ( LSeg (v,n) ) by A7,A106,TOPREAL3:18
.= ( LSeg (f,n) ) by A106,A107,TOPREAL3:17;
hence ( {} ) = ( ( LSeg (h,m) ) /\ ( ( LSeg (f,m) ) /\ ( LSeg (h,n) ) ) ) by A105
.= ( ( ( LSeg (h,m) ) /\ ( LSeg (f,m) ) ) /\ ( LSeg (h,n) ) ) by XBOOLE_1:16
.= ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) by A26,A18,A21,A17,A30,A104,TOPREAL1:6,XBOOLE_1:28;
end;
suppose ( 0 ) = n;

then ( LSeg (h,n) ) = ( {} ) by TOPREAL1:def 3;
hence ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) = ( {} );
end;
end;
hence ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) = ( {} );
end;
suppose ( m + 1 ) > ( len h );

then ( LSeg (h,m) ) = ( {} ) by TOPREAL1:def 3;
hence ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) = ( {} );
end;
end;
hence ( ( LSeg (h,n) ) /\ ( LSeg (h,m) ) ) = ( {} );
end;

let n being Nat;
assume that
A108: 1 <= n
and
A109: ( n + 1 ) <= ( len h );
set p3 = ( h /. n );
set p4 = ( h /. ( n + 1 ) );
now
per cases  by A109,XXREAL_0:1;
suppose A110: ( n + 1 ) = ( len h );

A111: i in ( dom v ) by A4,A24,FINSEQ_1:1;
then A112: p3 = ( v /. i ) by A7,A26,A110,FINSEQ_4:68
.= q1 by A111,FINSEQ_4:70;
now
per cases  by A4,A13,A16,TOPREAL1:def 5;
suppose A113: ( q1 `1 ) = ( q2 `1 );

then A114: ( q1 `2 ) <> ( q2 `2 ) by A20,TOPREAL3:6;
now
per cases  by A114,XXREAL_0:1;
suppose ( q1 `2 ) < ( q2 `2 );

then p in { p11: ((( p11 `1 ) = ( q1 `1 ) & ( q1 `2 ) <= ( p11 `2 )) & ( p11 `2 ) <= ( q2 `2 )) } by A5,A19,A22,A113,TOPREAL3:9;
then (ex p11 st (((p = p11 & ( p11 `1 ) = ( q1 `1 )) & ( q1 `2 ) <= ( p11 `2 )) & ( p11 `2 ) <= ( q2 `2 )));
hence thesis by A7,A25,A26,A110,A112,FINSEQ_4:67;
end;
suppose ( q2 `2 ) < ( q1 `2 );

then p in { p22: ((( p22 `1 ) = ( q1 `1 ) & ( q2 `2 ) <= ( p22 `2 )) & ( p22 `2 ) <= ( q1 `2 )) } by A5,A19,A22,A113,TOPREAL3:9;
then (ex p11 st (((p = p11 & ( p11 `1 ) = ( q1 `1 )) & ( q2 `2 ) <= ( p11 `2 )) & ( p11 `2 ) <= ( q1 `2 )));
hence thesis by A7,A25,A26,A110,A112,FINSEQ_4:67;
end;
end;
hence thesis;
end;
suppose A115: ( q1 `2 ) = ( q2 `2 );

then A116: ( q1 `1 ) <> ( q2 `1 ) by A20,TOPREAL3:6;
now
per cases  by A116,XXREAL_0:1;
suppose ( q1 `1 ) < ( q2 `1 );

then p in { p11: ((( p11 `2 ) = ( q1 `2 ) & ( q1 `1 ) <= ( p11 `1 )) & ( p11 `1 ) <= ( q2 `1 )) } by A5,A19,A22,A115,TOPREAL3:10;
then (ex p11 st (((p = p11 & ( p11 `2 ) = ( q1 `2 )) & ( q1 `1 ) <= ( p11 `1 )) & ( p11 `1 ) <= ( q2 `1 )));
hence thesis by A7,A25,A26,A110,A112,FINSEQ_4:67;
end;
suppose ( q2 `1 ) < ( q1 `1 );

then p in { p22: ((( p22 `2 ) = ( q1 `2 ) & ( q2 `1 ) <= ( p22 `1 )) & ( p22 `1 ) <= ( q1 `1 )) } by A5,A19,A22,A115,TOPREAL3:10;
then (ex p11 st (((p = p11 & ( p11 `2 ) = ( q1 `2 )) & ( q2 `1 ) <= ( p11 `1 )) & ( p11 `1 ) <= ( q1 `1 )));
hence thesis by A7,A25,A26,A110,A112,FINSEQ_4:67;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
suppose A117: ( n + 1 ) < ( len h );

A118: 1 <= ( n + 1 ) by A108,NAT_1:13;
( n + 1 ) <= i by A26,A117,NAT_1:13;
then A119: ( n + 1 ) in ( dom v ) by A24,A118,FINSEQ_1:1;
then ( h /. ( n + 1 ) ) = ( v /. ( n + 1 ) ) by A7,FINSEQ_4:68;
then A120: p4 = ( f /. ( n + 1 ) ) by A119,FINSEQ_4:70;
n <= i by A26,A117,XREAL_1:6;
then A121: n in ( dom v ) by A24,A108,FINSEQ_1:1;
then ( h /. n ) = ( v /. n ) by A7,FINSEQ_4:68;
then A122: p3 = ( f /. n ) by A121,FINSEQ_4:70;
( n + 1 ) <= ( len f ) by A26,A16,A109,XXREAL_0:2;
hence thesis by A13,A108,A122,A120,TOPREAL1:def 5;
end;
end;
hence thesis;
end;

A123: 1 in ( dom v ) by A4,A24,FINSEQ_1:1;
then ( h /. 1 ) = ( v /. 1 ) by A7,FINSEQ_4:68
.= p1 by A123,FINSEQ_4:70;
hence A124: (( h /. 1 ) = p1 & ( h /. ( len h ) ) = p) by A7,A25,A26,FINSEQ_4:67;
set Mf = { ( LSeg (f,j) ): (1 <= j & ( j + 1 ) <= ( len f )) };
set Mv = { ( LSeg (v,n) ): (1 <= n & ( n + 1 ) <= ( len v )) };
set Mh = { ( LSeg (h,m) ): (1 <= m & ( m + 1 ) <= ( len h )) };
A125: ( Seg ( len v ) ) = ( dom v ) by FINSEQ_1:def 3;
thus ( L~ h ) is_S-P_arc_joining p1,p by A32,A124,CKB1:def 1;
A126:now
let x;
assume x in ( L~ h );
then consider X being set such that A127: x in X and A128: X in Mh by TARSKI:def 4;
consider k such that A129: X = ( LSeg (h,k) ) and A130: 1 <= k and A131: ( k + 1 ) <= ( len h ) by A128;
A132: ( k + 1 ) <= ( len f ) by A26,A16,A131,XXREAL_0:2;
now
per cases  by A131,XXREAL_0:1;
suppose A133: ( k + 1 ) = ( len h );

then A134: ( LSeg (f,k) ) in Mf by A26,A16,A130;
( LSeg (h,i) ) c= ( LSeg (f,i) ) by A5,A18,A21,A30,TOPREAL1:6;
hence x in ( L~ f ) by A26,A127,A129,A133,A134,TARSKI:def 4;
thus x in ( ( L~ v ) \/ ( LSeg (q1,p) ) ) by A26,A30,A127,A129,A133,XBOOLE_0:def 3;
end;
suppose A135: ( k + 1 ) < ( len h );

then A136: ( k + 1 ) <= ( len v ) by A25,A26,NAT_1:13;
A137: ( k + 1 ) <= i by A26,A135,NAT_1:13;
k <= ( k + 1 ) by NAT_1:11;
then k <= i by A137,XXREAL_0:2;
then A138: k in ( dom v ) by A24,A130,FINSEQ_1:1;
1 <= ( k + 1 ) by A130,NAT_1:13;
then A139: ( k + 1 ) in ( dom v ) by A24,A137,FINSEQ_1:1;
then A140: X = ( LSeg (v,k) ) by A7,A129,A138,TOPREAL3:18
.= ( LSeg (f,k) ) by A139,A138,TOPREAL3:17;
then X in Mf by A130,A132;
hence x in ( L~ f ) by A127,TARSKI:def 4;
X = ( LSeg (v,k) ) by A139,A138,A140,TOPREAL3:17;
then X in Mv by A130,A136;
then x in ( union Mv ) by A127,TARSKI:def 4;
hence x in ( ( L~ v ) \/ ( LSeg (q1,p) ) ) by XBOOLE_0:def 3;
end;
end;
hence (x in ( L~ f ) & x in ( ( L~ v ) \/ ( LSeg (q1,p) ) ));
end;
thus ( L~ h ) c= ( L~ f )
proof
let x;
assume x in ( L~ h );
hence thesis by A126;
end;

A141: i <= ( i + 1 ) by NAT_1:11;
thus ( L~ h ) c= ( ( L~ ( f | i ) ) \/ ( LSeg (q,p) ) )
proof
let x;
assume x in ( L~ h );
hence thesis by A126;
end;

let x;
assume that
A142: x in ( ( L~ v ) \/ ( LSeg (q,p) ) );
now
per cases  by A142,XBOOLE_0:def 3;
suppose x in ( L~ v );

then consider X being set such that A143: x in X and A144: X in Mv by TARSKI:def 4;
consider k such that A145: X = ( LSeg (v,k) ) and A146: 1 <= k and A147: ( k + 1 ) <= ( len v ) by A144;
A148: ( k + 1 ) <= ( len h ) by A25,A26,A141,A147,XXREAL_0:2;
k <= ( k + 1 ) by NAT_1:11;
then k <= ( len v ) by A147,XXREAL_0:2;
then A149: k in ( Seg ( len v ) ) by A146,FINSEQ_1:1;
1 <= ( k + 1 ) by NAT_1:11;
then ( k + 1 ) in ( Seg ( len v ) ) by A147,FINSEQ_1:1;
then X = ( LSeg (h,k) ) by A7,A125,A145,A149,TOPREAL3:18;
then X in Mh by A146,A148;
hence thesis by A143,TARSKI:def 4;
end;
suppose A150: x in ( LSeg (q,p) );

( LSeg (h,i) ) in Mh by A4,A26;
hence thesis by A30,A150,TARSKI:def 4;
end;
end;
hence thesis;
end;
