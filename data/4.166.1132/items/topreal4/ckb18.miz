environ
vocabularies NUMBERS,SUBSET_1,EUCLID,PRE_TOPC,FINSEQ_1,REAL_1,TOPREAL1,PARTFUN1,XBOOLE_0,RCOMP_1,RELAT_2,XXREAL_0,RELAT_1,FUNCT_1,TOPREAL2,MCART_1,METRIC_1,ARYTM_3,TARSKI,RLTOPSP1,ORDINAL4,NAT_1,CARD_1,ARYTM_1,PCOMPS_1,XREAL_0,ORDINAL1,STRUCT_0,TOPREAL4;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XREAL_0,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,STRUCT_0,PRE_TOPC,CONNSP_1,METRIC_1,PCOMPS_1,RLTOPSP1,EUCLID,TOPREAL1,TOPREAL2,XXREAL_0,CKB1,CKB2,CKB3;
definitions TARSKI,TOPREAL1,XBOOLE_0,STRUCT_0,CKB1,CKB2,CKB3;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,PRE_TOPC,CONNSP_1,EUCLID,TOPMETR,TOPREAL1,TOPREAL2,TOPREAL3,FINSEQ_4,FINSEQ_3,TBSP_1,PARTFUN2,RELAT_1,INT_1,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,XXREAL_0,PARTFUN1,ORDINAL1,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17;
schemes NAT_1;
registrations XBOOLE_0,RELSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,PRE_TOPC,EUCLID,FINSEQ_1;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,FINSEQ_4,CONNSP_1,PCOMPS_1,TOPREAL1,TOPREAL2,RELSET_1,FUNCSDOM,DOMAIN_1,CKB1,CKB2,CKB3;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve f for (FinSequence of ( TOP-REAL 2 ));
reserve h for (FinSequence of ( TOP-REAL 2 ));
reserve m for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve x for set;
theorem
Th16: ((((( f /. 2 ) <> ( f /. 1 ) & f is  being_S-Seq) & ( ( f /. 2 ) `1 ) = ( ( f /. 1 ) `1 )) & h = <* ( f /. 1 ),|[ ( ( f /. 1 ) `1 ),( ( ( ( f /. 1 ) `2 ) + ( ( f /. 2 ) `2 ) ) / 2 ) ]|,( f /. 2 ) *>) implies ((((((h is  being_S-Seq & ( h /. 1 ) = ( f /. 1 )) & ( h /. ( len h ) ) = ( f /. 2 )) & ( L~ h ) is_S-P_arc_joining ( f /. 1 ),( f /. 2 )) & ( L~ h ) c= ( L~ f )) & ( L~ h ) = ( ( L~ ( f | 1 ) ) \/ ( LSeg (( f /. 1 ),( f /. 2 )) ) )) & ( L~ h ) = ( ( L~ ( f | 2 ) ) \/ ( LSeg (( f /. 2 ),( f /. 2 )) ) )))
proof
set p1 = ( f /. 1 );
set p = ( f /. 2 );
assume that
A1: p <> p1
and
A2: f is  being_S-Seq
and
A3: ( p `1 ) = ( p1 `1 )
and
A4: h = <* p1,|[ ( p1 `1 ),( ( ( p1 `2 ) + ( p `2 ) ) / 2 ) ]|,p *>;
A5: ( p1 `2 ) <> ( p `2 ) by A1,A3,TOPREAL3:6;
hence A6: ((h is  being_S-Seq & ( h /. 1 ) = p1) & ( h /. ( len h ) ) = p) by A3,A4,TOPREAL3:36;
A7: ( ( LSeg (p1,|[ ( p1 `1 ),( ( ( p1 `2 ) + ( p `2 ) ) / 2 ) ]|) ) \/ ( LSeg (|[ ( p1 `1 ),( ( ( p1 `2 ) + ( p `2 ) ) / 2 ) ]|,p) ) ) = ( LSeg (p1,p) ) by A3,A5,TOPREAL1:5,TOPREAL3:14;
set M = { ( LSeg (( f | 2 ),k) ): (1 <= k & ( k + 1 ) <= ( len ( f | 2 ) )) };
A8: ( Seg ( len f ) ) = ( dom f ) by FINSEQ_1:def 3;
A9: ( L~ h ) = ( ( LSeg (p1,|[ ( p1 `1 ),( ( ( p1 `2 ) + ( p `2 ) ) / 2 ) ]|) ) \/ ( LSeg (|[ ( p1 `1 ),( ( ( p1 `2 ) + ( p `2 ) ) / 2 ) ]|,p) ) ) by A4,TOPREAL3:16;
A10: ( len f ) >= ( 1 + 1 ) by A2,TOPREAL1:def 8;
then A11: ( LSeg (f,1) ) = ( LSeg (p1,p) ) by TOPREAL1:def 3;
( Seg 2 ) c= ( Seg ( len f ) ) by A10,FINSEQ_1:5;
then (( f | 2 ) = ( f | ( Seg 2 ) ) & ( ( dom f ) /\ ( Seg 2 ) ) = ( Seg 2 )) by A8,FINSEQ_1:def 15,XBOOLE_1:28;
then A12: ( dom ( f | 2 ) ) = ( Seg 2 ) by RELAT_1:61;
then A13: (1 in ( dom ( f | 2 ) ) & 2 in ( dom ( f | 2 ) )) by FINSEQ_1:1;
thus A14: ( L~ h ) is_S-P_arc_joining p1,p by A6,CKB1:def 1;
A15: ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) ) c= ( L~ h )
proof
let x;
assume that
A16: x in ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) );
now
per cases  by A16,XBOOLE_0:def 3;
suppose x in ( L~ ( f | 2 ) );

then consider X being set such that A17: x in X and A18: X in M by TARSKI:def 4;
consider m such that A19: X = ( LSeg (( f | 2 ),m) ) and A20: 1 <= m and A21: ( m + 1 ) <= ( len ( f | 2 ) ) by A18;
( ( len ( f | 2 ) ) - 1 ) = ( ( 1 + 1 ) - 1 ) by A12,FINSEQ_1:def 3
.= 1;
then ( ( m + 1 ) - 1 ) <= 1 by A21,XREAL_1:9;
then m = 1 by A20,XXREAL_0:1;
hence thesis by A10,A11,A9,A7,A13,A17,A19,TOPREAL3:17;
end;
suppose x in ( LSeg (p,p) );

then A22: x in { p } by RLTOPSP1:70;
p in ( L~ h ) by A14,CKB6:1;
hence thesis by A22,TARSKI:def 1;
end;
end;
hence thesis;
end;
( LSeg (f,1) ) c= ( L~ f ) by TOPREAL3:19;
hence ( L~ h ) c= ( L~ f ) by A4,A11,A7,TOPREAL3:16;
( len f ) >= 1 by A10,XXREAL_0:2;
then ( Seg 1 ) c= ( Seg ( len f ) ) by FINSEQ_1:5;
then (( f | 1 ) = ( f | ( Seg 1 ) ) & ( ( dom f ) /\ ( Seg 1 ) ) = ( Seg 1 )) by A8,FINSEQ_1:def 15,XBOOLE_1:28;
then ( dom ( f | 1 ) ) = ( Seg 1 ) by RELAT_1:61;
then ( len ( f | 1 ) ) = 1 by FINSEQ_1:def 3;
then ( L~ ( f | 1 ) ) = ( {} ) by TOPREAL1:22;
hence ( L~ h ) = ( ( L~ ( f | 1 ) ) \/ ( LSeg (p1,p) ) ) by A3,A5,A9,TOPREAL1:5,TOPREAL3:14;
A23: ( L~ ( f | 2 ) ) c= ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) ) by XBOOLE_1:7;
A24: ( 1 + 1 ) <= ( len ( f | 2 ) ) by A12,FINSEQ_1:def 3;
( LSeg (( f | 2 ),1) ) = ( LSeg (p1,p) ) by A10,A11,A13,TOPREAL3:17;
then ( LSeg (p1,p) ) in M by A24;
then ( L~ h ) c= ( L~ ( f | 2 ) ) by A9,A7,ZFMISC_1:74;
then ( L~ h ) c= ( ( L~ ( f | 2 ) ) \/ ( LSeg (p,p) ) ) by A23,XBOOLE_1:1;
hence thesis by A15,XBOOLE_0:def 10;
end;
