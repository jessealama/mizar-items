environ
vocabularies XBOOLE_0,ORDERS_2,CAT_1,STRUCT_0,YELLOW_0,SUBSET_1,TARSKI,XXREAL_0,RELAT_1,ARYTM_0,WELLORD1,FUNCOP_1,WAYBEL_3,RELAT_2,SEQM_3,FUNCT_1,WAYBEL_1,BINOP_1,WAYBEL_0,ORDINAL2,GROUP_6,YELLOW_1,FUNCT_2,NEWTON,CARD_3,RLVECT_2,REWRITE1,UNIALG_2,ZFMISC_1,LATTICE3,LATTICES,EQREL_1,WAYBEL10;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,CARD_3,FUNCOP_1,STRUCT_0,TMAP_1,QUANTAL1,PRALG_1,WELLORD1,ORDERS_2,LATTICE3,ORDERS_3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,WAYBEL_3,YELLOW_7,CKB8,CKB23,CKB29;
definitions TARSKI,XBOOLE_0,RELAT_1,QUANTAL1,ORDERS_2,ORDERS_3,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_2,WAYBEL_1,WAYBEL_3,STRUCT_0,CKB23,CKB29;
theorems FUNCT_1,FUNCT_2,YELLOW_0,YELLOW_1,WAYBEL_1,FUNCOP_1,RELSET_1,SYSREL,ORDERS_2,LATTICE3,YELLOW_2,WAYBEL_0,ZFMISC_1,TARSKI,YELLOW_7,RELAT_1,XBOOLE_0,XBOOLE_1,ORDERS_1,TMAP_1,CKB5,CKB6,CKB7,CKB14,CKB16,CKB17,CKB18,CKB20,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30;
schemes YELLOW_0,FUNCT_2,XBOOLE_0,CKB1,CKB2,CKB3,CKB4;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,RELSET_1,CKB9,CKB10,CKB11,CKB12,CKB13,CKB15,CKB19,CKB21,CKB31;
constructors TOLER_1,BORSUK_1,PRALG_1,QUANTAL1,ORDERS_3,WAYBEL_1,WAYBEL_3,TMAP_1,CKB8,CKB23,CKB29;
requirements SUBSET,BOOLE;
begin
registration
let L being RelStr;
cluster ( Sub L ) ->  complete;
coherence
proof
now
let X being (Subset of ( Sub L ));
now
defpred Q[ set ]
 means
(ex R being RelStr st (R in X & $1 in (the InternalRel of R)));
defpred P[ set ]
 means
(ex R being RelStr st (R in X & $1 in (the carrier of R)));
consider Y being set such that A1: (for x being set holds (x in Y iff (x in (the carrier of L) & P[ x ]))) from XBOOLE_0:sch 1;
consider S being set such that A2: (for x being set holds (x in S iff (x in (the InternalRel of L) & Q[ x ]))) from XBOOLE_0:sch 1;
A3: S c= [: Y,Y :]
proof
let x being set;
assume x in S;
then consider R being RelStr such that A4: R in X and A5: x in (the InternalRel of R) by A2;
(the carrier of R) c= Y
proof
let x being set;
R is (SubRelStr of L) by A4,CKB29:def 1;
then A6: (the carrier of R) c= (the carrier of L) by YELLOW_0:def 13;
assume x in (the carrier of R);
hence thesis by A1,A4,A6;
end;
then A7: [: (the carrier of R),(the carrier of R) :] c= [: Y,Y :] by ZFMISC_1:96;
x in [: (the carrier of R),(the carrier of R) :] by A5;
hence thesis by A7;
end;
A8: S c= (the InternalRel of L)
proof
let x being set;
thus thesis by A2;
end;
reconsider S as (Relation of Y) by A3;
Y c= (the carrier of L)
proof
let x being set;
thus thesis by A1;
end;
then reconsider A = RelStr (# Y,S #) as (SubRelStr of L) by A8,YELLOW_0:def 13;
reconsider a = A as (Element of ( Sub L )) by CKB29:def 1;
take a;
thus X is_<=_than a
proof
let b being (Element of ( Sub L ));
reconsider R = b as  strict (SubRelStr of L) by CKB29:def 1;
assume A9: b in X;
A10: (the InternalRel of R) c= S
proof
let x being set;
let y being set;
A11: (the InternalRel of R) c= (the InternalRel of L) by YELLOW_0:def 13;
assume [ x,y ] in (the InternalRel of R);
hence thesis by A2,A9,A11;
end;
(the carrier of R) c= Y
proof
let x being set;
A12: (the carrier of R) c= (the carrier of L) by YELLOW_0:def 13;
assume x in (the carrier of R);
hence thesis by A1,A9,A12;
end;
then R is (SubRelStr of A) by A10,YELLOW_0:def 13;
hence b <= a by CKB30:1;
end;

let b being (Element of ( Sub L ));
reconsider B = b as  strict (SubRelStr of L) by CKB29:def 1;
assume A13: X is_<=_than b;
A14: S c= (the InternalRel of B)
proof
let x being set;
let y being set;
assume [ x,y ] in S;
then consider R being RelStr such that A15: R in X and A16: [ x,y ] in (the InternalRel of R) by A2;
reconsider c = R as (Element of ( Sub L )) by A15;
c <= b by A13,A15,LATTICE3:def 9;
then R is (SubRelStr of B) by CKB30:1;
then (the InternalRel of R) c= (the InternalRel of B) by YELLOW_0:def 13;
hence thesis by A16;
end;
Y c= (the carrier of B)
proof
let x being set;
assume x in Y;
then consider R being RelStr such that A17: R in X and A18: x in (the carrier of R) by A1;
reconsider c = R as (Element of ( Sub L )) by A17;
c <= b by A13,A17,LATTICE3:def 9;
then R is (SubRelStr of B) by CKB30:1;
then (the carrier of R) c= (the carrier of B) by YELLOW_0:def 13;
hence thesis by A18;
end;
then a is (SubRelStr of B) by A14,YELLOW_0:def 13;
hence a <= b by CKB30:1;
end;
hence  ex_sup_of X,( Sub L ) by YELLOW_0:15;
end;
hence thesis by YELLOW_0:53;
end;
end;
