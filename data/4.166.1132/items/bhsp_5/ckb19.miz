environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,FINSEQ_1,FUNCT_1,RELAT_1,FUNCT_2,CARD_1,TARSKI,XBOOLE_0,BINOP_1,SETWISEO,FINSET_1,MEMBER_1,FINSOP_1,ALGSTR_0,SUPINF_2,NAT_1,DECOMP_1,REAL_1,STRUCT_0,BINOP_2,PROB_2,NORMSP_1,ARYTM_3,SQUARE_1,ARYTM_1,XXREAL_0,RVSUM_1,RLVECT_1,ORDINAL4,BHSP_5;
notations TARSKI,SUBSET_1,XBOOLE_0,CARD_1,NUMBERS,XXREAL_0,NAT_1,STRUCT_0,ALGSTR_0,REAL_1,FUNCT_2,FINSET_1,RELAT_1,BINOP_2,PRE_TOPC,RLVECT_1,BHSP_1,SQUARE_1,BINOP_1,SETWISEO,FUNCT_1,FINSEQ_1,FINSOP_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
definitions TARSKI,SQUARE_1,BINOP_1,RLVECT_1,ALGSTR_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
theorems XBOOLE_0,SUBSET_1,BHSP_1,SQUARE_1,TARSKI,INT_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,FINSOP_1,HILBASIS,XBOOLE_1,BINOP_2,XREAL_1,XXREAL_0,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18;
schemes NAT_1,FINSEQ_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,BINOP_2,MEMBERED,STRUCT_0,CARD_1,CKB11,CKB14;
constructors BINOP_1,DOMAIN_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,BINOP_2,MEMBERED,FINSOP_1,BHSP_1,RELSET_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
reserve x for (Point of X);
reserve i for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
theorem
Th8: (for p being (FinSequence of (the carrier of X)) holds (( len p ) >= 1 implies (for q being (FinSequence of ( REAL )) holds ((( dom p ) = ( dom q ) & (for i holds (i in ( dom q ) implies ( q . i ) = ( (the scalar of X) . [ x,( p . i ) ] )))) implies ( x .|. ( (the addF of X) "**" p ) ) = ( ( addreal ) "**" q )))))
proof
let p being (FinSequence of (the carrier of X));
assume that
A1: ( len p ) >= 1;
let q being (FinSequence of ( REAL ));
assume that
A2: ( dom p ) = ( dom q )
and
A3: (for i holds (i in ( dom q ) implies ( q . i ) = ( (the scalar of X) . [ x,( p . i ) ] )));
consider f being (Function of ( NAT ),(the carrier of X)) such that A4: ( f . 1 ) = ( p . 1 ) and A5: (for n being (Element of ( NAT )) holds ((( 0 ) <> n & n < ( len p )) implies ( f . ( n + 1 ) ) = ( (the addF of X) . (( f . n ),( p . ( n + 1 ) )) ))) and A6: ( (the addF of X) "**" p ) = ( f . ( len p ) ) by A1,FINSOP_1:1;
A7: ( Seg ( len q ) ) = ( dom p ) by A2,FINSEQ_1:def 3
.= ( Seg ( len p ) ) by FINSEQ_1:def 3;
then A8: ( len q ) = ( len p ) by FINSEQ_1:6;
( len q ) >= 1 by A1,A7,FINSEQ_1:6;
then consider g being (Function of ( NAT ),( REAL )) such that A9: ( g . 1 ) = ( q . 1 ) and A10: (for n being (Element of ( NAT )) holds ((( 0 ) <> n & n < ( len q )) implies ( g . ( n + 1 ) ) = ( ( addreal ) . (( g . n ),( q . ( n + 1 ) )) ))) and A11: ( ( addreal ) "**" q ) = ( g . ( len q ) ) by FINSOP_1:1;
defpred P[ (Element of ( NAT )) ]
 means
((1 <= $1 & $1 <= ( len q )) implies ( g . $1 ) = ( (the scalar of X) . [ x,( f . $1 ) ] ));
A12: P[ ( 0 ) ];
now
let n;
assume A13: P[ n ];
now
assume that
A14: 1 <= ( n + 1 )
and
A15: ( n + 1 ) <= ( len q );
per cases ;
suppose A16: n = ( 0 );

1 in ( Seg ( len p ) ) by A1,FINSEQ_1:1;
then 1 in ( dom q ) by A2,FINSEQ_1:def 3;
hence ( g . ( n + 1 ) ) = ( (the scalar of X) . [ x,( f . ( n + 1 ) ) ] ) by A3,A4,A9,A16;
end;
suppose A17: n <> ( 0 );

then ( 0 ) < n by NAT_1:3;
then A18: ( ( 0 ) + 1 ) <= n by INT_1:7;
A19: ( ( n + 1 ) - 1 ) < ( ( len q ) - ( 0 ) ) by A15,XREAL_1:15;
A20: ( n + 1 ) in ( Seg ( len q ) ) by A14,A15,FINSEQ_1:1;
then A21: ( n + 1 ) in ( dom q ) by FINSEQ_1:def 3;
A22: ( n + 1 ) in ( dom p ) by A2,A20,FINSEQ_1:def 3;
( dom f ) = ( NAT ) by FUNCT_2:def 1;
then A23: ( f . n ) in ( rng f ) by FUNCT_1:3;
( rng f ) c= (the carrier of X) by RELAT_1:def 19;
then reconsider z = ( f . n ) as (Element of X) by A23;
A24: ( p . ( n + 1 ) ) in ( rng p ) by A22,FUNCT_1:3;
( rng p ) c= (the carrier of X) by RELAT_1:def 19;
then reconsider y = ( p . ( n + 1 ) ) as (Element of X) by A24;
thus ( g . ( n + 1 ) ) = ( ( addreal ) . (( (the scalar of X) . [ x,( f . n ) ] ),( q . ( n + 1 ) )) ) by A10,A13,A17,A18,A19
.= ( ( addreal ) . (( (the scalar of X) . [ x,( f . n ) ] ),( (the scalar of X) . [ x,( p . ( n + 1 ) ) ] )) ) by A3,A21
.= ( ( addreal ) . (( (the scalar of X) . [ x,( f . n ) ] ),( x .|. y )) ) by BHSP_1:def 1
.= ( ( addreal ) . (( x .|. z ),( x .|. y )) ) by BHSP_1:def 1
.= ( ( x .|. z ) + ( x .|. y ) ) by BINOP_2:def 9
.= ( x .|. ( z + y ) ) by BHSP_1:2
.= ( (the scalar of X) . [ x,( (the addF of X) . (( f . n ),( p . ( n + 1 ) )) ) ] ) by BHSP_1:def 1
.= ( (the scalar of X) . [ x,( f . ( n + 1 ) ) ] ) by A5,A8,A17,A19;
end;
end;
hence ((1 <= ( n + 1 ) & ( n + 1 ) <= ( len q )) implies ( g . ( n + 1 ) ) = ( (the scalar of X) . [ x,( f . ( n + 1 ) ) ] ));
end;
then A25: (P[ n ] implies P[ ( n + 1 ) ]);
A26: (for n holds P[ n ]) from NAT_1:sch 1(A12,A25);
1 <= ( len q ) by A1,A7,FINSEQ_1:6;
then ( g . ( len q ) ) = ( (the scalar of X) . [ x,( f . ( len q ) ) ] ) by A26
.= ( (the scalar of X) . [ x,( f . ( len p ) ) ] ) by A7,FINSEQ_1:6;
hence thesis by A6,A11,BHSP_1:def 1;
end;
