environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,FINSEQ_1,FUNCT_1,RELAT_1,FUNCT_2,CARD_1,TARSKI,XBOOLE_0,BINOP_1,SETWISEO,FINSET_1,MEMBER_1,FINSOP_1,ALGSTR_0,SUPINF_2,NAT_1,DECOMP_1,REAL_1,STRUCT_0,BINOP_2,PROB_2,NORMSP_1,ARYTM_3,SQUARE_1,ARYTM_1,XXREAL_0,RVSUM_1,RLVECT_1,ORDINAL4,BHSP_5;
notations TARSKI,SUBSET_1,XBOOLE_0,CARD_1,NUMBERS,XXREAL_0,NAT_1,STRUCT_0,ALGSTR_0,REAL_1,FUNCT_2,FINSET_1,RELAT_1,BINOP_2,PRE_TOPC,RLVECT_1,BHSP_1,SQUARE_1,BINOP_1,SETWISEO,FUNCT_1,FINSEQ_1,FINSOP_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
definitions TARSKI,SQUARE_1,BINOP_1,RLVECT_1,ALGSTR_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
theorems XBOOLE_0,SUBSET_1,BHSP_1,SQUARE_1,TARSKI,INT_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,FINSOP_1,HILBASIS,XBOOLE_1,BINOP_2,XREAL_1,XXREAL_0,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes NAT_1,FINSEQ_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,BINOP_2,MEMBERED,STRUCT_0,CARD_1,CKB11,CKB14;
constructors BINOP_1,DOMAIN_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,BINOP_2,MEMBERED,FINSOP_1,BHSP_1,RELSET_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
reserve y for (Point of X);
reserve y1 for (Point of X);
reserve y2 for (Point of X);
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
theorem
Th9: (for S being  finite non  empty (Subset of X) holds (for F being (Function of (the carrier of X),(the carrier of X)) holds ((S c= ( dom F ) & (for y1 holds (for y2 holds (((y1 in S & y2 in S) & y1 <> y2) implies ( (the scalar of X) . [ ( F . y1 ),( F . y2 ) ] ) = ( 0 ))))) implies (for H being (Function of (the carrier of X),( REAL )) holds ((S c= ( dom H ) & (for y holds (y in S implies ( H . y ) = ( (the scalar of X) . [ ( F . y ),( F . y ) ] )))) implies (for p being (FinSequence of (the carrier of X)) holds ((p is  one-to-one & ( rng p ) = S) implies ( (the scalar of X) . [ ( (the addF of X) "**" ( Func_Seq (F,p) ) ),( (the addF of X) "**" ( Func_Seq (F,p) ) ) ] ) = ( ( addreal ) "**" ( Func_Seq (H,p) ) ))))))))
proof
let S being  finite non  empty (Subset of X);
let F being (Function of (the carrier of X),(the carrier of X));
assume that
A1: S c= ( dom F )
and
A2: (for y1 holds (for y2 holds (((y1 in S & y2 in S) & y1 <> y2) implies ( (the scalar of X) . [ ( F . y1 ),( F . y2 ) ] ) = ( 0 ))));
let H being (Function of (the carrier of X),( REAL ));
assume that
A3: S c= ( dom H )
and
A4: (for y holds (y in S implies ( H . y ) = ( (the scalar of X) . [ ( F . y ),( F . y ) ] )));
let p being (FinSequence of (the carrier of X));
assume that
A5: p is  one-to-one
and
A6: ( rng p ) = S;
set fp = ( Func_Seq (F,p) );
set hp = ( Func_Seq (H,p) );
now
let z being set;
(z in ( dom p ) implies ( p . z ) in ( rng p )) by FUNCT_1:3;
hence (z in ( dom fp ) iff z in ( dom p )) by A1,A6,FUNCT_1:11;
end;
then A7: ( dom fp ) = ( dom p ) by TARSKI:1;
then A8: ( Seg ( len p ) ) = ( dom fp ) by FINSEQ_1:def 3
.= ( Seg ( len fp ) ) by FINSEQ_1:def 3;
A9: ( len p ) = ( card S ) by A5,A6,FINSEQ_4:62;
( 0 ) < ( card S ) by NAT_1:3;
then ( ( 0 ) + 1 ) <= ( card S ) by INT_1:7;
then A10: 1 <= ( len fp ) by A8,A9,FINSEQ_1:6;
A11: (for i holds (for j holds (((i in ( dom fp ) & j in ( dom fp )) & i <> j) implies ( (the scalar of X) . [ ( fp . i ),( fp . j ) ] ) = ( 0 ))))
proof
let i;
let j;
assume that
A12: i in ( dom fp )
and
A13: j in ( dom fp )
and
A14: i <> j;
A15: ( p . i ) in S by A6,A7,A12,FUNCT_1:3;
A16: ( p . j ) in S by A6,A7,A13,FUNCT_1:3;
A17: ( fp . i ) = ( F . ( p . i ) ) by A12,FUNCT_1:12;
A18: ( fp . j ) = ( F . ( p . j ) ) by A13,FUNCT_1:12;
( p . i ) <> ( p . j ) by A5,A7,A12,A13,A14,FUNCT_1:def 4;
hence thesis by A2,A15,A16,A17,A18;
end;
now
let z being set;
(z in ( dom p ) implies ( p . z ) in ( rng p )) by FUNCT_1:3;
hence (z in ( dom hp ) iff z in ( dom p )) by A3,A6,FUNCT_1:11;
end;
then A19: ( dom hp ) = ( dom p ) by TARSKI:1;
A20: (for i holds (i in ( dom hp ) implies ( hp . i ) = ( (the scalar of X) . [ ( fp . i ),( fp . i ) ] )))
proof
let i;
assume that
A21: i in ( dom hp );
A22: ( p . i ) in S by A6,A19,A21,FUNCT_1:3;
( hp . i ) = ( H . ( p . i ) ) by A19,A21,FUNCT_1:13
.= ( (the scalar of X) . [ ( F . ( p . i ) ),( F . ( p . i ) ) ] ) by A4,A22
.= ( (the scalar of X) . [ ( ( F * p ) . i ),( F . ( p . i ) ) ] ) by A19,A21,FUNCT_1:13
.= ( (the scalar of X) . [ ( fp . i ),( fp . i ) ] ) by A19,A21,FUNCT_1:13;
hence thesis;
end;
( (the scalar of X) . [ ( (the addF of X) "**" ( Func_Seq (F,p) ) ),( (the addF of X) "**" ( Func_Seq (F,p) ) ) ] ) = ( ( (the addF of X) "**" fp ) .|. ( (the addF of X) "**" fp ) ) by BHSP_1:def 1
.= ( ( addreal ) "**" ( Func_Seq (H,p) ) ) by A7,A10,A11,A19,A20,CKB18:1;
hence thesis;
end;
