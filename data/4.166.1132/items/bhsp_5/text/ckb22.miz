environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,FINSEQ_1,FUNCT_1,RELAT_1,FUNCT_2,CARD_1,TARSKI,XBOOLE_0,BINOP_1,SETWISEO,FINSET_1,MEMBER_1,FINSOP_1,ALGSTR_0,SUPINF_2,NAT_1,DECOMP_1,REAL_1,STRUCT_0,BINOP_2,PROB_2,NORMSP_1,ARYTM_3,SQUARE_1,ARYTM_1,XXREAL_0,RVSUM_1,RLVECT_1,ORDINAL4,BHSP_5;
notations TARSKI,SUBSET_1,XBOOLE_0,CARD_1,NUMBERS,XXREAL_0,NAT_1,STRUCT_0,ALGSTR_0,REAL_1,FUNCT_2,FINSET_1,RELAT_1,BINOP_2,PRE_TOPC,RLVECT_1,BHSP_1,SQUARE_1,BINOP_1,SETWISEO,FUNCT_1,FINSEQ_1,FINSOP_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
definitions TARSKI,SQUARE_1,BINOP_1,RLVECT_1,ALGSTR_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
theorems XBOOLE_0,SUBSET_1,BHSP_1,SQUARE_1,TARSKI,INT_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,FINSOP_1,HILBASIS,XBOOLE_1,BINOP_2,XREAL_1,XXREAL_0,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21;
schemes NAT_1,FINSEQ_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,BINOP_2,MEMBERED,STRUCT_0,CARD_1,CKB11,CKB14;
constructors BINOP_1,DOMAIN_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,BINOP_2,MEMBERED,FINSOP_1,BHSP_1,RELSET_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
reserve x for (Point of X);
reserve y for (Point of X);
theorem
Th11: (for X holds (((the addF of X) is  commutative  associative & (the addF of X) is  having_a_unity) implies (for x holds (for S being  finite (OrthonormalFamily of X) holds (S is non empty implies (for H being (Function of (the carrier of X),( REAL )) holds ((S c= ( dom H ) & (for y holds (y in S implies ( H . y ) = ( ( x .|. y ) ^2 )))) implies (for F being (Function of (the carrier of X),(the carrier of X)) holds ((S c= ( dom F ) & (for y holds (y in S implies ( F . y ) = ( ( x .|. y ) * y )))) implies ( x .|. ( setopfunc (S,(the carrier of X),(the carrier of X),F,(the addF of X)) ) ) = ( setopfunc (S,(the carrier of X),( REAL ),H,( addreal )) ))))))))))
proof
let X;
assume that
A1: (the addF of X) is  commutative  associative
and
A2: (the addF of X) is  having_a_unity;
let x;
let S being  finite (OrthonormalFamily of X);
assume that
A3: S is non empty;
let H being (Function of (the carrier of X),( REAL ));
assume that
A4: S c= ( dom H )
and
A5: (for y holds (y in S implies ( H . y ) = ( ( x .|. y ) ^2 )));
let F being (Function of (the carrier of X),(the carrier of X));
assume that
A6: S c= ( dom F )
and
A7: (for y holds (y in S implies ( F . y ) = ( ( x .|. y ) * y )));
consider p being (FinSequence of (the carrier of X)) such that A8: p is  one-to-one and A9: ( rng p ) = S and A10: ( setopfunc (S,(the carrier of X),(the carrier of X),F,(the addF of X)) ) = ( (the addF of X) "**" ( Func_Seq (F,p) ) ) by A1,A2,A6,CKB6:def 1;
A11: (for y holds (y in S implies ( H . y ) = ( (the scalar of X) . [ x,( F . y ) ] )))
proof
let y;
assume that
A12: y in S;
set a = ( x .|. y );
( H . y ) = ( ( x .|. y ) ^2 ) by A5,A12
.= ( x .|. ( a * y ) ) by BHSP_1:3
.= ( (the scalar of X) . [ x,( a * y ) ] ) by BHSP_1:def 1
.= ( (the scalar of X) . [ x,( F . y ) ] ) by A7,A12;
hence thesis;
end;
A13: ( setopfunc (S,(the carrier of X),( REAL ),H,( addreal )) ) = ( ( addreal ) "**" ( Func_Seq (H,p) ) ) by A4,A8,A9,CKB6:def 1;
( x .|. ( setopfunc (S,(the carrier of X),(the carrier of X),F,(the addF of X)) ) ) = ( (the scalar of X) . [ x,( (the addF of X) "**" ( Func_Seq (F,p) ) ) ] ) by A10,BHSP_1:def 1;
hence thesis by A3,A4,A6,A8,A9,A11,A13,CKB21:1;
end;
