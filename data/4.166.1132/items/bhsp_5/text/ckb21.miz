environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,FINSEQ_1,FUNCT_1,RELAT_1,FUNCT_2,CARD_1,TARSKI,XBOOLE_0,BINOP_1,SETWISEO,FINSET_1,MEMBER_1,FINSOP_1,ALGSTR_0,SUPINF_2,NAT_1,DECOMP_1,REAL_1,STRUCT_0,BINOP_2,PROB_2,NORMSP_1,ARYTM_3,SQUARE_1,ARYTM_1,XXREAL_0,RVSUM_1,RLVECT_1,ORDINAL4,BHSP_5;
notations TARSKI,SUBSET_1,XBOOLE_0,CARD_1,NUMBERS,XXREAL_0,NAT_1,STRUCT_0,ALGSTR_0,REAL_1,FUNCT_2,FINSET_1,RELAT_1,BINOP_2,PRE_TOPC,RLVECT_1,BHSP_1,SQUARE_1,BINOP_1,SETWISEO,FUNCT_1,FINSEQ_1,FINSOP_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
definitions TARSKI,SQUARE_1,BINOP_1,RLVECT_1,ALGSTR_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
theorems XBOOLE_0,SUBSET_1,BHSP_1,SQUARE_1,TARSKI,INT_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,FINSOP_1,HILBASIS,XBOOLE_1,BINOP_2,XREAL_1,XXREAL_0,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes NAT_1,FINSEQ_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,BINOP_2,MEMBERED,STRUCT_0,CARD_1,CKB11,CKB14;
constructors BINOP_1,DOMAIN_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,BINOP_2,MEMBERED,FINSOP_1,BHSP_1,RELSET_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
reserve x for (Point of X);
reserve y for (Point of X);
reserve xd for set;
reserve i for (Element of ( NAT ));
theorem
Th10: (for S being  finite non  empty (Subset of X) holds (for F being (Function of (the carrier of X),(the carrier of X)) holds (S c= ( dom F ) implies (for H being (Function of (the carrier of X),( REAL )) holds ((S c= ( dom H ) & (for y holds (y in S implies ( H . y ) = ( (the scalar of X) . [ x,( F . y ) ] )))) implies (for p being (FinSequence of (the carrier of X)) holds ((p is  one-to-one & ( rng p ) = S) implies ( (the scalar of X) . [ x,( (the addF of X) "**" ( Func_Seq (F,p) ) ) ] ) = ( ( addreal ) "**" ( Func_Seq (H,p) ) ))))))))
proof
let S being  finite non  empty (Subset of X);
let F being (Function of (the carrier of X),(the carrier of X));
assume that
A1: S c= ( dom F );
let H being (Function of (the carrier of X),( REAL ));
assume that
A2: S c= ( dom H )
and
A3: (for y holds (y in S implies ( H . y ) = ( (the scalar of X) . [ x,( F . y ) ] )));
let p being (FinSequence of (the carrier of X));
assume that
A4: p is  one-to-one
and
A5: ( rng p ) = S;
set p1 = ( Func_Seq (F,p) );
set q1 = ( Func_Seq (H,p) );
now
let xd;
(xd in ( dom p ) implies ( p . xd ) in ( rng p )) by FUNCT_1:3;
hence (xd in ( dom ( Func_Seq (F,p) ) ) iff xd in ( dom p )) by A1,A5,FUNCT_1:11;
end;
then A6: ( dom ( Func_Seq (F,p) ) ) = ( dom p ) by TARSKI:1;
now
let xd;
(xd in ( dom p ) implies ( p . xd ) in ( rng p )) by FUNCT_1:3;
hence (xd in ( dom ( Func_Seq (H,p) ) ) iff xd in ( dom p )) by A2,A5,FUNCT_1:11;
end;
then A7: ( dom ( Func_Seq (H,p) ) ) = ( dom p ) by TARSKI:1;
A8: (for i holds (i in ( dom p1 ) implies ( q1 . i ) = ( (the scalar of X) . [ x,( p1 . i ) ] )))
proof
let i;
assume that
A9: i in ( dom p1 );
A10: ( p . i ) in S by A5,A6,A9,FUNCT_1:3;
( q1 . i ) = ( H . ( p . i ) ) by A6,A9,FUNCT_1:13
.= ( (the scalar of X) . [ x,( F . ( p . i ) ) ] ) by A3,A10
.= ( (the scalar of X) . [ x,( p1 . i ) ] ) by A6,A9,FUNCT_1:13;
hence thesis;
end;
A11: ( Seg ( len p ) ) = ( dom ( Func_Seq (F,p) ) ) by A6,FINSEQ_1:def 3
.= ( Seg ( len ( Func_Seq (F,p) ) ) ) by FINSEQ_1:def 3;
A12: ( len p ) = ( card S ) by A4,A5,FINSEQ_4:62;
( 0 ) < ( card S ) by NAT_1:3;
then ( ( 0 ) + 1 ) <= ( card S ) by INT_1:7;
then ( len ( Func_Seq (F,p) ) ) >= 1 by A11,A12,FINSEQ_1:6;
then ( x .|. ( (the addF of X) "**" p1 ) ) = ( ( addreal ) "**" q1 ) by A6,A7,A8,CKB19:1;
hence thesis by BHSP_1:def 1;
end;
