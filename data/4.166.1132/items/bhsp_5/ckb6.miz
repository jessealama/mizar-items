environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,FINSEQ_1,FUNCT_1,RELAT_1,FUNCT_2,CARD_1,TARSKI,XBOOLE_0,BINOP_1,SETWISEO,FINSET_1,MEMBER_1,FINSOP_1,ALGSTR_0,SUPINF_2,NAT_1,DECOMP_1,REAL_1,STRUCT_0,BINOP_2,PROB_2,NORMSP_1,ARYTM_3,SQUARE_1,ARYTM_1,XXREAL_0,RVSUM_1,RLVECT_1,ORDINAL4,BHSP_5;
notations TARSKI,SUBSET_1,XBOOLE_0,CARD_1,NUMBERS,XXREAL_0,NAT_1,STRUCT_0,ALGSTR_0,REAL_1,FUNCT_2,FINSET_1,RELAT_1,BINOP_2,PRE_TOPC,RLVECT_1,BHSP_1,SQUARE_1,BINOP_1,SETWISEO,FUNCT_1,FINSEQ_1,FINSOP_1,CKB2,CKB3,CKB4,CKB5;
definitions TARSKI,SQUARE_1,BINOP_1,RLVECT_1,ALGSTR_0,CKB2,CKB3,CKB4,CKB5;
theorems XBOOLE_0,SUBSET_1,BHSP_1,SQUARE_1,TARSKI,INT_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,FINSOP_1,HILBASIS,XBOOLE_1,BINOP_2,XREAL_1,XXREAL_0,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes NAT_1,FINSEQ_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,BINOP_2,MEMBERED,STRUCT_0,CARD_1;
constructors BINOP_1,DOMAIN_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,BINOP_2,MEMBERED,FINSOP_1,BHSP_1,RELSET_1,CKB2,CKB3,CKB4,CKB5;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve xd for set;
definition
let DK being non empty set;
let DX being non empty set;
let f being (BinOp of DK);
let Y being  finite (Subset of DX);
let F being (Function of DX,DK);
assume that
A1: f is  commutative  associative
and
A2: f is  having_a_unity;
assume that
A3: Y c= ( dom F );
func setopfunc (Y,DX,DK,F,f) -> (Element of DK)
means
:Def5: (ex p being (FinSequence of DX) st ((p is  one-to-one & ( rng p ) = Y) & it = ( f "**" ( Func_Seq (F,p) ) )));
existence
proof
consider p being FinSequence such that A4: ( rng p ) = Y and A5: p is  one-to-one by FINSEQ_4:58;
reconsider q = p as (FinSequence of DX) by A4,FINSEQ_1:def 4;
(ex p being (FinSequence of DX) st ((p is  one-to-one & ( rng p ) = Y) & ( f "**" ( Func_Seq (F,q) ) ) = ( f "**" ( Func_Seq (F,p) ) ))) by A4,A5;
hence thesis;
end;
uniqueness
proof
let X1 being (Element of DK),X2 being (Element of DK);
assume that
A6: (ex p1 being (FinSequence of DX) st ((p1 is  one-to-one & ( rng p1 ) = Y) & X1 = ( f "**" ( Func_Seq (F,p1) ) )))
and
A7: (ex p2 being (FinSequence of DX) st ((p2 is  one-to-one & ( rng p2 ) = Y) & X2 = ( f "**" ( Func_Seq (F,p2) ) )));
consider p1 being (FinSequence of DX) such that A8: p1 is  one-to-one and A9: ( rng p1 ) = Y and A10: X1 = ( f "**" ( Func_Seq (F,p1) ) ) by A6;
consider p2 being (FinSequence of DX) such that A11: p2 is  one-to-one and A12: ( rng p2 ) = Y and A13: X2 = ( f "**" ( Func_Seq (F,p2) ) ) by A7;
A14: ( dom p1 ) = ( dom p2 ) by A8,A9,A11,A12,CKB1:1;
consider P being (Permutation of ( dom p1 )) such that A15: p2 = ( p1 * P ) and ( dom P ) = ( dom p1 ) and ( rng P ) = ( dom p1 ) by A8,A9,A11,A12,CKB1:1;
now
let xd;
(xd in ( dom p1 ) implies ( p1 . xd ) in ( rng p1 )) by FUNCT_1:3;
hence (xd in ( dom ( Func_Seq (F,p1) ) ) iff xd in ( dom p1 )) by A3,A9,FUNCT_1:11;
end;
then A16: ( dom ( Func_Seq (F,p1) ) ) = ( dom p1 ) by TARSKI:1;
now
let xd;
(xd in ( dom p2 ) implies ( p2 . xd ) in ( rng p2 )) by FUNCT_1:3;
hence (xd in ( dom ( Func_Seq (F,p2) ) ) iff xd in ( dom p2 )) by A3,A12,FUNCT_1:11;
end;
then A17: ( dom ( Func_Seq (F,p2) ) ) = ( dom p2 ) by TARSKI:1;
A18: ( rng P ) = ( dom ( Func_Seq (F,p1) ) ) by A16,FUNCT_2:def 3;
now
let xd;
(xd in ( dom P ) implies ( P . xd ) in ( dom ( Func_Seq (F,p1) ) )) by A18,FUNCT_1:3;
then (xd in ( dom ( ( Func_Seq (F,p1) ) * P ) ) iff xd in ( dom P )) by FUNCT_1:11;
hence (xd in ( dom ( ( Func_Seq (F,p1) ) * P ) ) iff xd in ( dom ( Func_Seq (F,p2) ) )) by A14,A17,FUNCT_2:52;
end;
then A19: ( dom ( Func_Seq (F,p2) ) ) = ( dom ( ( Func_Seq (F,p1) ) * P ) ) by TARSKI:1;
now
let s being set;
assume A20: s in ( dom ( Func_Seq (F,p2) ) );
then reconsider i = s as (Element of ( NAT ));
i in ( dom P ) by A14,A17,A20,FUNCT_2:52;
then A21: ( P . i ) in ( rng P ) by FUNCT_1:3;
then ( P . i ) in ( dom ( Func_Seq (F,p2) ) ) by A14,A17,FUNCT_2:def 3;
then reconsider j = ( P . i ) as (Element of ( NAT ));
A22: j in ( dom p1 ) by A21,FUNCT_2:def 3;
A23: s in ( dom P ) by A14,A17,A20,FUNCT_2:52;
( ( Func_Seq (F,p2) ) . s ) = ( F . ( p2 . i ) ) by A17,A20,FUNCT_1:13
.= ( F . ( p1 . ( P . i ) ) ) by A15,A23,FUNCT_1:13
.= ( ( Func_Seq (F,p1) ) . j ) by A22,FUNCT_1:13
.= ( ( ( Func_Seq (F,p1) ) * P ) . s ) by A23,FUNCT_1:13;
hence ( ( Func_Seq (F,p2) ) . s ) = ( ( ( Func_Seq (F,p1) ) * P ) . s );
end;
then ( Func_Seq (F,p2) ) = ( ( Func_Seq (F,p1) ) * P ) by A19,FUNCT_1:2;
hence thesis by A1,A2,A10,A13,A16,FINSOP_1:7;
end;
end;
