environ
vocabularies NUMBERS,GRAPH_1,FINSEQ_1,STRUCT_0,TREES_2,SUBSET_1,REAL_1,GRAPH_4,XXREAL_0,ARYTM_3,FUNCT_1,XBOOLE_0,CARD_1,ZFMISC_1,MCART_1,ARYTM_1,NAT_1,RELAT_1,TARSKI,PARTFUN1,GLIB_000,FINSET_1,EUCLID,RLTOPSP1,TOPREAL1,GOBOARD5,PRE_TOPC,SUPINF_2,GOBOARD1,GOBOARD4,COMPLEX1,METRIC_1,SQUARE_1,RVSUM_1,CARD_3,PCOMPS_1,RCOMP_1,WEIERSTR,INT_1,BORSUK_1,TOPS_2,ORDINAL2,XXREAL_1,MEASURE5,PSCOMP_1,XXREAL_2,XREAL_0,ORDINAL1,JGRAPH_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,FINSEQ_1,FINSET_1,NAT_1,NAT_D,SEQ_1,SEQM_3,GRAPH_1,STRUCT_0,GRAPH_2,GRAPH_4,TOPREAL1,GOBOARD5,PRE_TOPC,GOBOARD1,GOBOARD4,TOPMETR,PCOMPS_1,COMPTS_1,WEIERSTR,TOPS_2,METRIC_1,TBSP_1,RCOMP_1,SQUARE_1,PSCOMP_1,RVSUM_1,RLVECT_1,RLTOPSP1,EUCLID,FUNCT_3,CKB2,CKB4,CKB8,CKB11,CKB13,CKB18;
definitions TARSKI,XBOOLE_0,FUNCT_1,EUCLID,SQUARE_1,BINOP_1,VALUED_1,STRUCT_0,ALGSTR_0,RLTOPSP1,CKB2,CKB4,CKB13,CKB18;
theorems TARSKI,FUNCT_1,FINSEQ_1,NAT_1,ZFMISC_1,SPPOL_1,FINSEQ_4,GRAPH_1,FUNCT_3,RELAT_1,GRAPH_4,FINSEQ_3,TOPREAL1,GOBOARD1,GOBOARD5,GOBOARD4,TOPREAL3,SQUARE_1,EUCLID,JORDAN7,UNIFORM1,WEIERSTR,JORDAN5A,TOPS_2,PRE_TOPC,TBSP_1,HEINE,COMPTS_1,TOPMETR,PSCOMP_1,BORSUK_1,ABSVALUE,METRIC_1,RVSUM_1,FUNCT_2,JORDAN6,XBOOLE_0,XBOOLE_1,TOPRNS_1,XCMPLX_0,COMPLEX1,XREAL_1,XXREAL_0,ORDINAL1,NAT_D,PARTFUN1,XXREAL_1,XXREAL_2,SEQM_3,XREAL_0,VALUED_1,RLTOPSP1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes FINSEQ_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,PRE_TOPC,METRIC_1,BORSUK_1,MONOID_0,EUCLID,GRAPH_2,GRAPH_4,FINSET_1,VALUED_0,FUNCT_2,CARD_1,XXREAL_2,TOPREAL1,RELSET_1,CKB5;
constructors FUNCT_3,REAL_1,SQUARE_1,NAT_1,NAT_D,RCOMP_1,BINARITH,TOPS_2,COMPTS_1,TBSP_1,MONOID_0,GOBOARD1,GOBOARD4,GOBOARD5,PSCOMP_1,GRAPH_2,WEIERSTR,GRAPH_4,SEQ_1,SEQM_3,XXREAL_2,FUNCSDOM,CKB2,CKB4,CKB8,CKB11,CKB13,CKB18;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve n for (Element of ( NAT ));
reserve r for Real;
reserve r1 for Real;
reserve r2 for Real;
theorem
Th20: (for p1,p2,p3 being (Point of ( TOP-REAL n )) holds ((ex x being set st (x <> p2 & x in ( ( LSeg (p1,p2) ) /\ ( LSeg (p2,p3) ) ))) implies (p1 in ( LSeg (p2,p3) ) or p3 in ( LSeg (p1,p2) ))))
proof
let p1 being (Point of ( TOP-REAL n ));
let p2 being (Point of ( TOP-REAL n ));
let p3 being (Point of ( TOP-REAL n ));
given x being set such that
A1: x <> p2
and
A2: x in ( ( LSeg (p1,p2) ) /\ ( LSeg (p2,p3) ) );

reconsider p = x as (Point of ( TOP-REAL n )) by A2;
A3: p in { ( ( ( 1 - r1 ) * p1 ) + ( r1 * p2 ) ): (( 0 ) <= r1 & r1 <= 1) } by A2,XBOOLE_0:def 4;
A4: p in { ( ( ( 1 - r2 ) * p2 ) + ( r2 * p3 ) ): (( 0 ) <= r2 & r2 <= 1) } by A2,XBOOLE_0:def 4;
consider r1 such that A5: p = ( ( ( 1 - r1 ) * p1 ) + ( r1 * p2 ) ) and ( 0 ) <= r1 and A6: r1 <= 1 by A3;
consider r2 such that A7: p = ( ( ( 1 - r2 ) * p2 ) + ( r2 * p3 ) ) and A8: ( 0 ) <= r2 and r2 <= 1 by A4;
per cases ;
suppose A9: r1 >= ( 1 - r2 );

now
per cases ;
case A10: r2 <> ( 0 );
( r2 * p3 ) = ( ( ( ( 1 - r1 ) * p1 ) + ( r1 * p2 ) ) - ( ( 1 - r2 ) * p2 ) ) by A5,A7,EUCLID:48;
then ( r2 * p3 ) = ( ( ( 1 - r1 ) * p1 ) + ( ( r1 * p2 ) - ( ( 1 - r2 ) * p2 ) ) ) by EUCLID:45;
then ( ( r2 " ) * ( r2 * p3 ) ) = ( ( r2 " ) * ( ( ( 1 - r1 ) * p1 ) + ( ( r1 - ( 1 - r2 ) ) * p2 ) ) ) by EUCLID:50;
then ( ( ( r2 " ) * r2 ) * p3 ) = ( ( r2 " ) * ( ( ( 1 - r1 ) * p1 ) + ( ( r1 - ( 1 - r2 ) ) * p2 ) ) ) by EUCLID:30;
then ( 1 * p3 ) = ( ( r2 " ) * ( ( ( 1 - r1 ) * p1 ) + ( ( r1 - ( 1 - r2 ) ) * p2 ) ) ) by A10,XCMPLX_0:def 7;
then A11: p3 = ( ( r2 " ) * ( ( ( 1 - r1 ) * p1 ) + ( ( r1 - ( 1 - r2 ) ) * p2 ) ) ) by EUCLID:29
.= ( ( ( r2 " ) * ( ( 1 - r1 ) * p1 ) ) + ( ( r2 " ) * ( ( r1 - ( 1 - r2 ) ) * p2 ) ) ) by EUCLID:32
.= ( ( ( ( r2 " ) * ( 1 - r1 ) ) * p1 ) + ( ( r2 " ) * ( ( r1 - ( 1 - r2 ) ) * p2 ) ) ) by EUCLID:30
.= ( ( ( ( r2 " ) * ( 1 - r1 ) ) * p1 ) + ( ( ( r2 " ) * ( r1 - ( 1 - r2 ) ) ) * p2 ) ) by EUCLID:30;
r1 <= ( 1 + (( 0 ) qua Nat) ) by A6;
then ( r1 - 1 ) <= ( 0 ) by XREAL_1:20;
then ( ( r1 - 1 ) + r2 ) <= ( (( 0 ) qua Nat) + r2 ) by XREAL_1:6;
then A12: ( ( r2 " ) * ( r1 - ( 1 - r2 ) ) ) <= ( ( r2 " ) * r2 ) by A8,XREAL_1:64;
( ( ( r2 " ) * ( 1 - r1 ) ) + ( ( r2 " ) * ( r1 - ( 1 - r2 ) ) ) ) = ( ( r2 " ) * ( ( 1 - 1 ) + r2 ) )
.= 1 by A10,XCMPLX_0:def 7;
then A13: ( ( r2 " ) * ( 1 - r1 ) ) = ( 1 - ( ( r2 " ) * ( r1 - ( 1 - r2 ) ) ) );
( r1 - ( 1 - r2 ) ) >= ( 0 ) by A9,XREAL_1:48;
hence thesis by A8,A11,A13,A12;
end;
case r2 = ( 0 );
then p = ( ( 1 * p2 ) + ( 0. ( TOP-REAL n ) ) ) by A7,EUCLID:29;
then p = ( p2 + ( 0. ( TOP-REAL n ) ) ) by EUCLID:29;
hence thesis by A1,EUCLID:27;
end;
end;
hence thesis;
end;
suppose A14: r1 < ( 1 - r2 );

set s2 = ( 1 - r1 );
set s1 = ( 1 - r2 );
( ( 1 - s2 ) + s2 ) <= ( 1 + s2 ) by A6,XREAL_1:6;
then A15: ( 1 - 1 ) <= s2 by XREAL_1:20;
A16: ( (( 0 ) qua Nat) + s1 ) <= ( ( 1 - s1 ) + s1 ) by A8,XREAL_1:6;
now
per cases ;
case A17: s2 <> ( 0 );
( s2 * p1 ) = ( ( ( ( 1 - s1 ) * p3 ) + ( s1 * p2 ) ) - ( ( 1 - s2 ) * p2 ) ) by A5,A7,EUCLID:48
.= ( ( ( 1 - s1 ) * p3 ) + ( ( s1 * p2 ) - ( ( 1 - s2 ) * p2 ) ) ) by EUCLID:45
.= ( ( ( 1 - s1 ) * p3 ) + ( ( s1 - ( 1 - s2 ) ) * p2 ) ) by EUCLID:50;
then ( ( ( s2 " ) * s2 ) * p1 ) = ( ( s2 " ) * ( ( ( 1 - s1 ) * p3 ) + ( ( s1 - ( 1 - s2 ) ) * p2 ) ) ) by EUCLID:30;
then ( 1 * p1 ) = ( ( s2 " ) * ( ( ( 1 - s1 ) * p3 ) + ( ( s1 - ( 1 - s2 ) ) * p2 ) ) ) by A17,XCMPLX_0:def 7;
then p1 = ( ( s2 " ) * ( ( ( 1 - s1 ) * p3 ) + ( ( s1 - ( 1 - s2 ) ) * p2 ) ) ) by EUCLID:29
.= ( ( ( s2 " ) * ( ( 1 - s1 ) * p3 ) ) + ( ( s2 " ) * ( ( s1 - ( 1 - s2 ) ) * p2 ) ) ) by EUCLID:32
.= ( ( ( ( s2 " ) * ( 1 - s1 ) ) * p3 ) + ( ( s2 " ) * ( ( s1 - ( 1 - s2 ) ) * p2 ) ) ) by EUCLID:30;
then A18: p1 = ( ( ( ( s2 " ) * ( 1 - s1 ) ) * p3 ) + ( ( ( s2 " ) * ( s1 - ( 1 - s2 ) ) ) * p2 ) ) by EUCLID:30;
s1 <= ( 1 + (( 0 ) qua Nat) ) by A16;
then ( s1 - 1 ) <= ( 0 ) by XREAL_1:20;
then ( ( s1 - 1 ) + s2 ) <= ( (( 0 ) qua Nat) + s2 ) by XREAL_1:6;
then A19: ( ( s2 " ) * ( s1 - ( 1 - s2 ) ) ) <= ( ( s2 " ) * s2 ) by A15,XREAL_1:64;
( ( ( s2 " ) * ( 1 - s1 ) ) + ( ( s2 " ) * ( s1 - ( 1 - s2 ) ) ) ) = ( ( s2 " ) * ( ( 1 - 1 ) + s2 ) )
.= 1 by A17,XCMPLX_0:def 7;
then A20: ( ( s2 " ) * ( 1 - s1 ) ) = ( 1 - ( ( s2 " ) * ( s1 - ( 1 - s2 ) ) ) );
( s1 - ( 1 - s2 ) ) >= ( 0 ) by A14,XREAL_1:48;
then p1 in { ( ( ( 1 - r ) * p3 ) + ( r * p2 ) ): (( 0 ) <= r & r <= 1) } by A15,A18,A20,A19;
hence thesis by RLTOPSP1:def 2;
end;
case s2 = ( 0 );
then p = ( ( 1 * p2 ) + ( 0. ( TOP-REAL n ) ) ) by A5,EUCLID:29;
then p = ( p2 + ( 0. ( TOP-REAL n ) ) ) by EUCLID:29;
hence thesis by A1,EUCLID:27;
end;
end;
hence thesis;
end;
end;
