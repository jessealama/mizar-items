environ
vocabularies NUMBERS,REAL_1,PARTFUN1,SUBSET_1,XREAL_0,ORDINAL1,XXREAL_0,FINSEQ_2,RVSUM_1,ORDINAL4,FINSEQ_1,RELAT_1,ARYTM_3,NAT_1,FUNCT_1,CARD_3,CARD_1,TARSKI,ARYTM_1,RFUNCT_3,XXREAL_1,VALUED_1,XBOOLE_0,BINOP_2,MEASURE5,FCONT_1,COMPLEX1,ORDINAL2,RFUNCT_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,RELAT_1,COMPLEX1,NAT_1,FUNCT_1,FINSEQ_1,REAL_1,FINSEQ_2,PARTFUN1,FINSEQOP,BINOP_2,VALUED_1,SEQ_1,RVSUM_1,RCOMP_1,RFUNCT_3,MEASURE5,FCONT_1,XXREAL_0,CKB6;
definitions FINSEQ_2,RVSUM_1,CKB6;
theorems RCOMP_1,RFUNCT_3,TARSKI,PARTFUN1,FINSEQ_1,FINSEQ_2,RVSUM_1,NAT_1,FCONT_1,ABSVALUE,FUNCT_1,XREAL_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,FINSEQOP,FUNCOP_1,VALUED_1,XXREAL_2,RELAT_1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes NAT_1;
registrations RELSET_1,NUMBERS,XXREAL_0,XREAL_0,BINOP_2,MEMBERED,FINSEQ_2,XBOOLE_0,VALUED_0,CARD_1,FINSEQ_1;
constructors BINOP_1,REAL_1,NAT_1,BINOP_2,COMPLEX1,FINSEQOP,RCOMP_1,RVSUM_1,FCONT_1,RFUNCT_3,MEASURE5,SEQ_1,XXREAL_2,RELSET_1,CKB6;
requirements NUMERALS,SUBSET,REAL,BOOLE,ARITHM;
begin
theorem
(for a,b being Real holds (for f being (PartFunc of ( REAL ),( REAL )) holds (f is_strictly_convex_on [. a,b .] iff ([. a,b .] c= ( dom f ) & (for p being Real holds ((( 0 ) < p & p < 1) implies (for r,s being Real holds (((r in [. a,b .] & s in [. a,b .]) & r <> s) implies ( f . ( ( p * r ) + ( ( 1 - p ) * s ) ) ) < ( ( p * ( f . r ) ) + ( ( 1 - p ) * ( f . s ) ) )))))))))
proof
let a being Real,b being Real;
let f being (PartFunc of ( REAL ),( REAL ));
set ab = { r where r is Real: (a <= r & r <= b) };
A1: [. a,b .] = ab by RCOMP_1:def 1;
thus (f is_strictly_convex_on [. a,b .] implies ([. a,b .] c= ( dom f ) & (for p being Real holds ((( 0 ) < p & p < 1) implies (for x,y being Real holds (((x in [. a,b .] & y in [. a,b .]) & x <> y) implies ( f . ( ( p * x ) + ( ( 1 - p ) * y ) ) ) < ( ( p * ( f . x ) ) + ( ( 1 - p ) * ( f . y ) ) )))))))
proof
assume A2: f is_strictly_convex_on [. a,b .];
hence [. a,b .] c= ( dom f ) by CKB6:def 1;
let p being Real;
assume that
A3: ( 0 ) < p
and
A4: p < 1;
A5: ( 0 ) <= ( 1 - p ) by A4,XREAL_1:48;
A6: ( ( p * b ) + ( ( 1 - p ) * b ) ) = b;
A7: ( ( p * a ) + ( ( 1 - p ) * a ) ) = a;
let x being Real,y being Real;
assume that
A8: x in [. a,b .]
and
A9: y in [. a,b .]
and
A10: x <> y;
A11: (ex r2 being Real st ((r2 = y & a <= r2) & r2 <= b)) by A1,A9;
then A12: ( ( 1 - p ) * y ) <= ( ( 1 - p ) * b ) by A5,XREAL_1:64;
A13: (ex r1 being Real st ((r1 = x & a <= r1) & r1 <= b)) by A1,A8;
then ( p * x ) <= ( p * b ) by A3,XREAL_1:64;
then A14: ( ( p * x ) + ( ( 1 - p ) * y ) ) <= b by A12,A6,XREAL_1:7;
A15: ( ( 1 - p ) * a ) <= ( ( 1 - p ) * y ) by A5,A11,XREAL_1:64;
( p * a ) <= ( p * x ) by A3,A13,XREAL_1:64;
then a <= ( ( p * x ) + ( ( 1 - p ) * y ) ) by A15,A7,XREAL_1:7;
then ( ( p * x ) + ( ( 1 - p ) * y ) ) in ab by A14;
hence thesis by A1,A2,A3,A4,A8,A9,A10,CKB6:def 1;
end;

assume that
A16: [. a,b .] c= ( dom f )
and
A17: (for p being Real holds ((( 0 ) < p & p < 1) implies (for x,y being Real holds (((x in [. a,b .] & y in [. a,b .]) & x <> y) implies ( f . ( ( p * x ) + ( ( 1 - p ) * y ) ) ) < ( ( p * ( f . x ) ) + ( ( 1 - p ) * ( f . y ) ) )))));
thus [. a,b .] c= ( dom f ) by A16;
let p being Real;
assume A18: (( 0 ) < p & p < 1);
let x being Real,y being Real;
assume that
A19: (x in [. a,b .] & y in [. a,b .])
and
( ( p * x ) + ( ( 1 - p ) * y ) ) in [. a,b .];
thus thesis by A17,A18,A19;
end;
