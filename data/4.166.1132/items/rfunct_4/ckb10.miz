environ
vocabularies NUMBERS,REAL_1,PARTFUN1,SUBSET_1,XREAL_0,ORDINAL1,XXREAL_0,FINSEQ_2,RVSUM_1,ORDINAL4,FINSEQ_1,RELAT_1,ARYTM_3,NAT_1,FUNCT_1,CARD_3,CARD_1,TARSKI,ARYTM_1,RFUNCT_3,XXREAL_1,VALUED_1,XBOOLE_0,BINOP_2,MEASURE5,FCONT_1,COMPLEX1,ORDINAL2,RFUNCT_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,RELAT_1,COMPLEX1,NAT_1,FUNCT_1,FINSEQ_1,REAL_1,FINSEQ_2,PARTFUN1,FINSEQOP,BINOP_2,VALUED_1,SEQ_1,RVSUM_1,RCOMP_1,RFUNCT_3,MEASURE5,FCONT_1,XXREAL_0,CKB6;
definitions FINSEQ_2,RVSUM_1,CKB6;
theorems RCOMP_1,RFUNCT_3,TARSKI,PARTFUN1,FINSEQ_1,FINSEQ_2,RVSUM_1,NAT_1,FCONT_1,ABSVALUE,FUNCT_1,XREAL_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,FINSEQOP,FUNCOP_1,VALUED_1,XXREAL_2,RELAT_1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
schemes NAT_1;
registrations RELSET_1,NUMBERS,XXREAL_0,XREAL_0,BINOP_2,MEMBERED,FINSEQ_2,XBOOLE_0,VALUED_0,CARD_1,FINSEQ_1;
constructors BINOP_1,REAL_1,NAT_1,BINOP_2,COMPLEX1,FINSEQOP,RCOMP_1,RVSUM_1,FCONT_1,RFUNCT_3,MEASURE5,SEQ_1,XXREAL_2,RELSET_1,CKB6;
requirements NUMERALS,SUBSET,REAL,BOOLE,ARITHM;
begin
theorem
(for X being set holds (for f being (PartFunc of ( REAL ),( REAL )) holds (f is_strictly_convex_on X iff (X c= ( dom f ) & (for a,b,c being Real holds (((((a in X & b in X) & c in X) & a < b) & b < c) implies ( f . b ) < ( ( ( ( c - b ) / ( c - a ) ) * ( f . a ) ) + ( ( ( b - a ) / ( c - a ) ) * ( f . c ) ) )))))))
proof
let X being set;
let f being (PartFunc of ( REAL ),( REAL ));
A1: ((X c= ( dom f ) & (for a,b,c being Real holds (((((a in X & b in X) & c in X) & a < b) & b < c) implies ( f . b ) < ( ( ( ( c - b ) / ( c - a ) ) * ( f . a ) ) + ( ( ( b - a ) / ( c - a ) ) * ( f . c ) ) )))) implies f is_strictly_convex_on X)
proof
assume that
A2: X c= ( dom f )
and
A3: (for a,b,c being Real holds (((((a in X & b in X) & c in X) & a < b) & b < c) implies ( f . b ) < ( ( ( ( c - b ) / ( c - a ) ) * ( f . a ) ) + ( ( ( b - a ) / ( c - a ) ) * ( f . c ) ) )));
(for p being Real holds ((( 0 ) < p & p < 1) implies (for r,s being Real holds ((((r in X & s in X) & ( ( p * r ) + ( ( 1 - p ) * s ) ) in X) & r <> s) implies ( f . ( ( p * r ) + ( ( 1 - p ) * s ) ) ) < ( ( p * ( f . r ) ) + ( ( 1 - p ) * ( f . s ) ) )))))
proof
let p being Real;
assume A4: (( 0 ) < p & p < 1);
(for r,s being Real holds ((((r in X & s in X) & ( ( p * r ) + ( ( 1 - p ) * s ) ) in X) & r <> s) implies ( f . ( ( p * r ) + ( ( 1 - p ) * s ) ) ) < ( ( p * ( f . r ) ) + ( ( 1 - p ) * ( f . s ) ) )))
proof
let r being Real,s being Real;
assume that
A5: ((r in X & s in X) & ( ( p * r ) + ( ( 1 - p ) * s ) ) in X)
and
A6: r <> s;
( f . ( ( p * r ) + ( ( 1 - p ) * s ) ) ) < ( ( p * ( f . r ) ) + ( ( 1 - p ) * ( f . s ) ) )
proof
now
per cases  by A4;
suppose A7: (( 0 ) < p & p < 1);

then A8: ( 0 ) < ( 1 - p ) by XREAL_1:50;
now
per cases  by A6,XXREAL_0:1;
suppose A9: r > s;

set t = ( ( p * r ) + ( ( 1 - p ) * s ) );
A10: ( r - s ) > ( 0 ) by A9,XREAL_1:50;
A11: ( r - t ) = ( ( 1 - p ) * ( r - s ) );
then ( r - t ) > ( 0 ) by A8,A10,XREAL_1:129;
then A12: t < r by XREAL_1:47;
A13: ( t - s ) = ( p * ( r - s ) );
then A14: ( ( t - s ) / ( r - s ) ) = p by A10,XCMPLX_1:89;
( t - s ) > ( 0 ) by A7,A10,A13,XREAL_1:129;
then A15: s < t by XREAL_1:47;
( ( r - t ) / ( r - s ) ) = ( 1 - p ) by A10,A11,XCMPLX_1:89;
hence thesis by A3,A5,A15,A12,A14;
end;
suppose A16: r < s;

set t = ( ( p * r ) + ( ( 1 - p ) * s ) );
A17: ( s - r ) > ( 0 ) by A16,XREAL_1:50;
A18: ( s - t ) = ( p * ( s - r ) );
then ( s - t ) > ( 0 ) by A7,A17,XREAL_1:129;
then A19: t < s by XREAL_1:47;
A20: ( t - r ) = ( ( 1 - p ) * ( s - r ) );
then A21: ( ( t - r ) / ( s - r ) ) = ( 1 - p ) by A17,XCMPLX_1:89;
( t - r ) > ( 0 ) by A8,A17,A20,XREAL_1:129;
then A22: r < t by XREAL_1:47;
( ( s - t ) / ( s - r ) ) = p by A17,A18,XCMPLX_1:89;
hence thesis by A3,A5,A22,A19,A21;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
hence thesis;
end;
hence thesis;
end;
hence thesis by A2,CKB6:def 1;
end;
(f is_strictly_convex_on X implies (X c= ( dom f ) & (for a,b,c being Real holds (((((a in X & b in X) & c in X) & a < b) & b < c) implies ( f . b ) < ( ( ( ( c - b ) / ( c - a ) ) * ( f . a ) ) + ( ( ( b - a ) / ( c - a ) ) * ( f . c ) ) )))))
proof
assume A23: f is_strictly_convex_on X;
(for a,b,c being Real holds (((((a in X & b in X) & c in X) & a < b) & b < c) implies ( f . b ) < ( ( ( ( c - b ) / ( c - a ) ) * ( f . a ) ) + ( ( ( b - a ) / ( c - a ) ) * ( f . c ) ) )))
proof
let a being Real,b being Real,c being Real;
assume that
A24: ((a in X & b in X) & c in X)
and
A25: (a < b & b < c);
set p = ( ( c - b ) / ( c - a ) );
A26: (( c - b ) < ( c - a ) & ( 0 ) < ( c - b )) by A25,XREAL_1:10,XREAL_1:50;
then A27: (( 0 ) < ( ( c - b ) / ( c - a ) ) & ( ( c - b ) / ( c - a ) ) < 1) by XREAL_1:139,XREAL_1:189;
A28: ( p + ( ( b - a ) / ( c - a ) ) ) = ( ( ( c - b ) + ( b - a ) ) / ( c - a ) ) by XCMPLX_1:62
.= 1 by A26,XCMPLX_1:60;
then ( ( p * a ) + ( ( 1 - p ) * c ) ) = ( ( ( a * ( c - b ) ) / ( c - a ) ) + ( c * ( ( b - a ) / ( c - a ) ) ) ) by XCMPLX_1:74
.= ( ( ( a * ( c - b ) ) / ( c - a ) ) + ( ( c * ( b - a ) ) / ( c - a ) ) ) by XCMPLX_1:74
.= ( ( ( ( c * a ) - ( b * a ) ) + ( ( b - a ) * c ) ) / ( c - a ) ) by XCMPLX_1:62
.= ( ( b * ( c - a ) ) / ( c - a ) );
then ( ( p * a ) + ( ( 1 - p ) * c ) ) = b by A26,XCMPLX_1:89;
hence thesis by A23,A24,A25,A27,A28,CKB6:def 1;
end;
hence thesis by A23,CKB6:def 1;
end;
hence thesis by A1;
end;
