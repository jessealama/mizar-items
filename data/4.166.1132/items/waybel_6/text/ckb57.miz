environ
vocabularies WAYBEL_0,SUBSET_1,XBOOLE_0,ORDERS_2,FUNCT_1,RELAT_1,TARSKI,NUMBERS,FUNCT_7,TREES_2,RELAT_2,XXREAL_0,STRUCT_0,ORDINAL2,LATTICES,ORDERS_1,ZFMISC_1,YELLOW_0,EQREL_1,REWRITE1,FUNCOP_1,LATTICE3,SEQM_3,WAYBEL_2,WAYBEL_3,CARD_FIL,SETFAM_1,ARYTM_3,CARD_1,NAT_1,ORDINAL1,YELLOW_8,FINSET_1,INT_2,YELLOW_1,FUNCT_3,LATTICE2,ARYTM_0,WAYBEL_5,PBOOLE,YELLOW_2,FUNCT_6,CARD_3,WAYBEL_6;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,FINSET_1,RELAT_1,ORDINAL1,RELAT_2,ORDERS_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,DOMAIN_1,FUNCOP_1,STRUCT_0,ORDERS_2,CARD_3,LATTICE3,FUNCT_3,FUNCT_6,PBOOLE,YELLOW_0,YELLOW_1,WAYBEL_0,WAYBEL_1,YELLOW_2,YELLOW_4,WAYBEL_2,WAYBEL_3,WAYBEL_4,WAYBEL_5,YELLOW_7,FUNCT_7,XXREAL_0,CKB2,CKB3,CKB12,CKB19,CKB20,CKB21,CKB22,CKB29,CKB35,CKB36,CKB37;
definitions TARSKI,RELAT_1,RELAT_2,LATTICE3,WAYBEL_0,WAYBEL_1,WAYBEL_2,WAYBEL_5,FUNCT_1,ORDERS_3,XBOOLE_0,SUBSET_1,STRUCT_0,CKB12,CKB19,CKB21,CKB22,CKB29,CKB35,CKB36,CKB37;
theorems WAYBEL_3,TARSKI,YELLOW_0,ZFMISC_1,WAYBEL_0,ORDERS_2,WAYBEL_4,FUNCT_2,FUNCT_1,LATTICE3,NAT_1,WAYBEL_1,YELLOW_1,YELLOW_5,WAYBEL_2,YELLOW_2,WAYBEL_5,CARD_3,FUNCT_6,YELLOW_7,ORDERS_1,RELAT_2,FUNCT_3,YELLOW_4,YELLOW_3,FUNCOP_1,RELAT_1,RELSET_1,ORDINAL1,XBOOLE_0,XBOOLE_1,FUNCT_7,CARD_1,PARTFUN1,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB21,CKB22,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56;
schemes FUNCT_1,FINSET_1,CLASSES1,NAT_1,FUNCT_2,YELLOW_3,SUBSET_1,CKB1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,FUNCOP_1,FINSET_1,XREAL_0,PBOOLE,STRUCT_0,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_1,YELLOW_4,WAYBEL_2,WAYBEL_3,WAYBEL_5,YELLOW_7,ORDINAL1,RELSET_1,XXREAL_0,CARD_1,CKB4,CKB5,CKB9,CKB15,CKB24,CKB40;
constructors SETFAM_1,XXREAL_0,NAT_1,FUNCT_7,BORSUK_1,PRALG_2,ORDERS_3,WAYBEL_1,YELLOW_4,WAYBEL_2,WAYBEL_3,WAYBEL_4,WAYBEL_5,RELSET_1,CKB2,CKB3,CKB12,CKB19,CKB21,CKB22,CKB29,CKB35,CKB36,CKB37;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Lm2: (for L being  continuous  complete LATTICE holds ((for l being (Element of L) holds (ex X being (Subset of L) st (l = ( sup X ) & (for x being (Element of L) holds (x in X implies x is  co-prime))))) implies L is  completely-distributive))
proof
let L being  continuous  complete LATTICE;
assume that
A1: (for l being (Element of L) holds (ex X being (Subset of L) st (l = ( sup X ) & (for x being (Element of L) holds (x in X implies x is  co-prime)))));
thus L is  complete;
let J being non empty set;
let K being  non-empty (ManySortedSet of J);
let F being (DoubleIndexedSet of K,L);
set l = ( Inf ( Sups F ) );
set X = ( ( waybelow l ) /\ ( PRIME ( L ~ ) ) );
A2: X c= ( waybelow l ) by XBOOLE_1:17;
reconsider X as (Subset of L);
A3: ( dom F ) = J by PARTFUN1:def 2;
A4: (for x being (Element of L) holds (x in X implies x is  co-prime))
proof
let x being (Element of L);
assume x in X;
then x in ( PRIME ( L ~ ) ) by XBOOLE_0:def 4;
then ( x ~ ) is  prime by CKB36:def 1;
hence thesis by CKB37:def 1;
end;
A5: ( inf ( rng ( Sups F ) ) ) = ( Inf ( Sups F ) ) by YELLOW_2:def 6;
X is_<=_than ( Sup ( Infs ( Frege F ) ) )
proof
let p being (Element of L);
defpred P[ set,set ]
 means
($2 in ( K . $1 ) & [ p,( ( F . $1 ) . $2 ) ] in (the InternalRel of L));
assume A6: p in X;
A7: (for j being set holds (j in J implies (ex k being set st P[ j,k ])))
proof
let j1 being set;
assume j1 in J;
then reconsider j = j1 as (Element of J);
set k = the (Element of ( K . j ));
( dom ( Sups F ) ) = J by A3,FUNCT_2:def 1;
then A8: ( ( Sups F ) . j ) in ( rng ( Sups F ) ) by FUNCT_1:def 3;
A9: (p << l & ( Sup ( F . j ) ) = ( sup ( rng ( F . j ) ) )) by A2,A6,WAYBEL_3:7,YELLOW_2:def 5;
( Sup ( F . j ) ) = ( ( Sups F ) . j ) by A3,WAYBEL_5:def 1;
then l <= ( Sup ( F . j ) ) by A5,A8,YELLOW_2:22;
then consider A being  finite (Subset of L) such that A10: A c= ( rng ( F . j ) ) and A11: p <= ( sup A ) by A9,WAYBEL_3:18;
( ex_sup_of A,L &  ex_sup_of ( A \/ { ( ( F . j ) . k ) } ),L) by YELLOW_0:17;
then ( sup A ) <= ( sup ( A \/ { ( ( F . j ) . k ) } ) ) by XBOOLE_1:7,YELLOW_0:34;
then A12: p <= ( sup ( A \/ { ( ( F . j ) . k ) } ) ) by A11,ORDERS_2:3;
p is  co-prime by A4,A6;
then consider a being (Element of L) such that A13: a in ( A \/ { ( ( F . j ) . k ) } ) and A14: p <= a by A12,CKB42:1;
per cases  by A13,XBOOLE_0:def 3;
suppose a in A;

then consider k1 being set such that A15: k1 in ( dom ( F . j ) ) and A16: a = ( ( F . j ) . k1 ) by A10,FUNCT_1:def 3;
reconsider k1 as (Element of ( K . j )) by A15;
[ p,( ( F . j ) . k1 ) ] in (the InternalRel of L) by A14,A16,ORDERS_2:def 5;
hence thesis;
end;
suppose a in { ( ( F . j ) . k ) };

then a = ( ( F . j ) . k ) by TARSKI:def 1;
then [ p,( ( F . j ) . k ) ] in (the InternalRel of L) by A14,ORDERS_2:def 5;
hence thesis;
end;
end;
consider f1 being Function such that A17: ( dom f1 ) = J and A18: (for j being set holds (j in J implies P[ j,( f1 . j ) ])) from CLASSES1:sch 1(A7);
now
let g being set;
assume g in ( dom ( doms F ) );
then g in ( F " ( SubFuncs ( rng F ) ) ) by FUNCT_6:def 2;
hence g in ( dom f1 ) by A3,A17,FUNCT_6:19;
end;
then A19: ( dom ( doms F ) ) c= ( dom f1 ) by TARSKI:def 3;
now
let g being set;
A20: ( F . g ) is Function;
assume g in ( dom f1 );
then g in ( F " ( SubFuncs ( rng F ) ) ) by A3,A17,A20,FUNCT_6:19;
hence g in ( dom ( doms F ) ) by FUNCT_6:def 2;
end;
then ( dom f1 ) c= ( dom ( doms F ) ) by TARSKI:def 3;
then A21: ( dom f1 ) = ( dom ( doms F ) ) by A19,XBOOLE_0:def 10;
A22: (for b being set holds (b in ( dom ( doms F ) ) implies ( f1 . b ) in ( ( doms F ) . b )))
proof
let b being set;
assume A23: b in ( dom ( doms F ) );
then A24: ( F . b ) is (Function of ( K . b ),(the carrier of L)) by A17,A19,WAYBEL_5:6;
( ( doms F ) . b ) = ( dom ( F . b ) ) by A3,A17,A19,A23,FUNCT_6:22
.= ( K . b ) by A24,FUNCT_2:def 1;
hence thesis by A17,A18,A19,A23;
end;
then reconsider D = ( product ( doms F ) ) as non empty set by A21,CARD_3:9;
reconsider f = f1 as (Element of ( product ( doms F ) )) by A21,A22,CARD_3:9;
A25: f1 in ( product ( doms F ) ) by A21,A22,CARD_3:9;
p is_<=_than ( rng ( ( Frege F ) . f ) )
proof
let b being (Element of L);
assume b in ( rng ( ( Frege F ) . f ) );
then consider a being set such that A26: a in ( dom ( ( Frege F ) . f ) ) and A27: b = ( ( ( Frege F ) . f ) . a ) by FUNCT_1:def 3;
reconsider a as (Element of J) by A26;
f in ( dom ( Frege F ) ) by A25,PARTFUN1:def 2;
then ( ( ( Frege F ) . f ) . a ) = ( ( F . a ) . ( f1 . a ) ) by A3,WAYBEL_5:9;
then [ p,( ( ( Frege F ) . f ) . a ) ] in (the InternalRel of L) by A18;
hence p <= b by A27,ORDERS_2:def 5;
end;
then p <= ( inf ( rng ( ( Frege F ) . f ) ) ) by YELLOW_0:33;
then A28: p <= ( Inf ( ( Frege F ) . f ) ) by YELLOW_2:def 6;
reconsider P = ( D --> J ) as (ManySortedSet of D);
reconsider R = ( Frege F ) as (DoubleIndexedSet of P,L);
reconsider f2 = f as (Element of D);
( Inf ( R . f2 ) ) in ( rng ( Infs R ) ) by WAYBEL_5:14;
then ( Inf ( ( Frege F ) . f ) ) <= ( sup ( rng ( Infs ( Frege F ) ) ) ) by YELLOW_2:22;
then ( Inf ( ( Frege F ) . f ) ) <= ( Sup ( Infs ( Frege F ) ) ) by YELLOW_2:def 5;
hence thesis by A28,ORDERS_2:3;
end;
then A29: ( sup X ) <= ( Sup ( Infs ( Frege F ) ) ) by YELLOW_0:32;
(( Inf ( Sups F ) ) >= ( Sup ( Infs ( Frege F ) ) ) & ( Inf ( Sups F ) ) = ( sup X )) by A1,CKB56:1,WAYBEL_5:16;
hence thesis by A29,ORDERS_2:2;
end;
