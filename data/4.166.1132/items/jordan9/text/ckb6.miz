environ
vocabularies NUMBERS,SUBSET_1,XBOOLE_0,FINSEQ_1,XXREAL_0,ARYTM_1,ARYTM_3,PRE_TOPC,RELAT_2,CONNSP_1,TARSKI,RELAT_1,FINSEQ_5,PARTFUN1,GOBOARD1,EUCLID,REAL_1,MATRIX_1,COMPLEX1,GOBRD13,FUNCT_1,TOPREAL1,RFINSEQ,RLTOPSP1,GOBOARD5,TOPS_1,TREES_1,SPPOL_1,MCART_1,CARD_1,GOBOARD9,RCOMP_1,NAT_1,JORDAN8,PSCOMP_1,NEWTON,SPRECT_2,ORDINAL4,STRUCT_0,PCOMPS_1,XREAL_0,ORDINAL1,METRIC_1,JORDAN9;
notations TARSKI,XBOOLE_0,SUBSET_1,GOBOARD5,ORDINAL1,CARD_1,NUMBERS,XCMPLX_0,XREAL_0,REAL_1,NAT_1,NAT_D,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,COMPLEX1,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSEQ_5,NEWTON,RFINSEQ,STRUCT_0,XXREAL_0,MATRIX_1,METRIC_1,PRE_TOPC,TOPS_1,COMPTS_1,CONNSP_1,PCOMPS_1,RLTOPSP1,EUCLID,TOPREAL1,GOBOARD1,SPPOL_1,PSCOMP_1,SPRECT_2,GOBOARD9,JORDAN8,GOBRD13;
definitions TARSKI,GOBOARD1,GOBOARD5,GOBRD13,XBOOLE_0,PSCOMP_1,SEQM_3;
theorems NAT_1,FINSEQ_1,GOBOARD1,FINSEQ_4,EUCLID,FINSEQ_3,SPPOL_2,TARSKI,JORDAN3,PSCOMP_1,FINSEQ_5,FINSEQ_6,GOBOARD7,TOPREAL1,JORDAN5B,GOBOARD5,SPRECT_2,SPPOL_1,ABSVALUE,FUNCT_1,FUNCT_2,GOBOARD9,FINSEQ_2,UNIFORM1,SUBSET_1,GOBRD11,SPRECT_3,CARD_1,RFINSEQ,GOBOARD6,TOPREAL3,TOPMETR,TOPS_1,JORDAN8,GOBRD13,SPRECT_4,CONNSP_1,PARTFUN2,RELSET_1,SPRECT_1,XBOOLE_0,XBOOLE_1,XREAL_0,XCMPLX_1,XREAL_1,NEWTON,XXREAL_0,ORDINAL1,PARTFUN1,MATRIX_1,NAT_D,RLTOPSP1,SEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes NAT_1,RECDEF_1;
registrations RELAT_1,FUNCT_1,ORDINAL1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,EUCLID,SPPOL_2,PSCOMP_1,GOBOARD9,SPRECT_1,SPRECT_2,JORDAN8,GOBRD13,NEWTON,FINSET_1,SPPOL_1;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,FINSEQ_4,NEWTON,RFINSEQ,NAT_D,TOPS_1,CONNSP_1,COMPTS_1,REALSET2,SPPOL_1,PSCOMP_1,GOBOARD9,SPRECT_2,JORDAN8,GOBRD13,RELSET_1,FUNCSDOM,RLTOPSP1,PCOMPS_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve D for non  empty set;
reserve G for Go-board;
reserve f for (FinSequence of ( TOP-REAL 2 ));
theorem
Th7: (for D being non  empty set holds (for G being (Matrix of D) holds (for f being (FinSequence of D) holds (f is_sequence_on G iff ( Rev f ) is_sequence_on G))))
proof
let D being non  empty set;
let G being (Matrix of D);
let f being (FinSequence of D);
hereby
assume A1: f is_sequence_on G;
A2: (for n holds ((n in ( dom ( Rev f ) ) & ( n + 1 ) in ( dom ( Rev f ) )) implies (for m,k,i,j being (Element of ( NAT )) holds (((([ m,k ] in ( Indices G ) & [ i,j ] in ( Indices G )) & ( ( Rev f ) /. n ) = ( G * (m,k) )) & ( ( Rev f ) /. ( n + 1 ) ) = ( G * (i,j) )) implies ( ( abs ( m - i ) ) + ( abs ( k - j ) ) ) = 1))))
proof
let n;
assume that
A3: n in ( dom ( Rev f ) )
and
A4: ( n + 1 ) in ( dom ( Rev f ) );
consider l being (Element of ( NAT )) such that A5: l in ( dom f ) and A6: ( n + l ) = ( ( len f ) + 1 ) and A7: ( ( Rev f ) /. n ) = ( f /. l ) by A3,CKB5:1;
let m being (Element of ( NAT ));
let k being (Element of ( NAT ));
let i being (Element of ( NAT ));
let j being (Element of ( NAT ));
assume that
A8: ((([ m,k ] in ( Indices G ) & [ i,j ] in ( Indices G )) & ( ( Rev f ) /. n ) = ( G * (m,k) )) & ( ( Rev f ) /. ( n + 1 ) ) = ( G * (i,j) ));
A9: (( abs ( i - m ) ) = ( abs ( m - i ) ) & ( abs ( j - k ) ) = ( abs ( k - j ) )) by UNIFORM1:11;
consider l9 being (Element of ( NAT )) such that A10: l9 in ( dom f ) and A11: ( ( n + 1 ) + l9 ) = ( ( len f ) + 1 ) and A12: ( ( Rev f ) /. ( n + 1 ) ) = ( f /. l9 ) by A4,CKB5:1;
( n + ( 1 + l9 ) ) = ( n + l ) by A6,A11;
hence thesis by A1,A8,A5,A7,A10,A12,A9,GOBOARD1:def 9;
end;
(for n holds (n in ( dom ( Rev f ) ) implies (ex i st (ex j st ([ i,j ] in ( Indices G ) & ( ( Rev f ) /. n ) = ( G * (i,j) ))))))
proof
let n;
assume n in ( dom ( Rev f ) );
then consider k such that A13: k in ( dom f ) and ( n + k ) = ( ( len f ) + 1 ) and A14: ( ( Rev f ) /. n ) = ( f /. k ) by CKB5:1;
consider i,j such that A15: ([ i,j ] in ( Indices G ) & ( f /. k ) = ( G * (i,j) )) by A1,A13,GOBOARD1:def 9;
take i;
take j;
thus thesis by A14,A15;
end;
hence ( Rev f ) is_sequence_on G by A2,GOBOARD1:def 9;
end;
assume A16: ( Rev f ) is_sequence_on G;
A17: (for n holds ((n in ( dom f ) & ( n + 1 ) in ( dom f )) implies (for m,k,i,j being (Element of ( NAT )) holds (((([ m,k ] in ( Indices G ) & [ i,j ] in ( Indices G )) & ( f /. n ) = ( G * (m,k) )) & ( f /. ( n + 1 ) ) = ( G * (i,j) )) implies ( ( abs ( m - i ) ) + ( abs ( k - j ) ) ) = 1))))
proof
let n;
assume that
A18: n in ( dom f )
and
A19: ( n + 1 ) in ( dom f );
consider l being (Element of ( NAT )) such that A20: l in ( dom ( Rev f ) ) and A21: ( n + l ) = ( ( len f ) + 1 ) and A22: ( f /. n ) = ( ( Rev f ) /. l ) by A18,CKB4:1;
let m being (Element of ( NAT ));
let k being (Element of ( NAT ));
let i being (Element of ( NAT ));
let j being (Element of ( NAT ));
assume that
A23: ((([ m,k ] in ( Indices G ) & [ i,j ] in ( Indices G )) & ( f /. n ) = ( G * (m,k) )) & ( f /. ( n + 1 ) ) = ( G * (i,j) ));
A24: (( abs ( i - m ) ) = ( abs ( m - i ) ) & ( abs ( j - k ) ) = ( abs ( k - j ) )) by UNIFORM1:11;
consider l9 being (Element of ( NAT )) such that A25: l9 in ( dom ( Rev f ) ) and A26: ( ( n + 1 ) + l9 ) = ( ( len f ) + 1 ) and A27: ( f /. ( n + 1 ) ) = ( ( Rev f ) /. l9 ) by A19,CKB4:1;
( n + ( 1 + l9 ) ) = ( n + l ) by A21,A26;
hence thesis by A16,A23,A20,A22,A25,A27,A24,GOBOARD1:def 9;
end;
(for n holds (n in ( dom f ) implies (ex i st (ex j st ([ i,j ] in ( Indices G ) & ( f /. n ) = ( G * (i,j) ))))))
proof
let n;
assume n in ( dom f );
then consider k such that A28: k in ( dom ( Rev f ) ) and ( n + k ) = ( ( len f ) + 1 ) and A29: ( f /. n ) = ( ( Rev f ) /. k ) by CKB4:1;
consider i,j such that A30: ([ i,j ] in ( Indices G ) & ( ( Rev f ) /. k ) = ( G * (i,j) )) by A16,A28,GOBOARD1:def 9;
take i;
take j;
thus thesis by A29,A30;
end;
hence thesis by A17,GOBOARD1:def 9;
end;
