environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,FUNCT_1,FINSEQ_1,TARSKI,RELAT_1,NAT_1,ORDINAL4,ARYTM_3,FINSET_1,CARD_1,ARYTM_1,XXREAL_0,ORDINAL1,TREES_1,AMISTD_3,FINSEQ_2;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,CARD_1,XCMPLX_0,NAT_1,NUMBERS,ORDINAL1,RELAT_1,FUNCT_1,FINSEQ_1,FINSEQ_2,FUNCT_2,FINSET_1,XXREAL_0,CKB1,CKB2,CKB6,CKB15,CKB24,CKB27,CKB29,CKB41,CKB46,CKB47,CKB50,CKB51,CKB52;
definitions TARSKI,FINSET_1,FUNCT_1,WELLORD2,XBOOLE_0,FUNCOP_1,FINSEQ_2,CKB2,CKB15,CKB24,CKB41,CKB46,CKB47,CKB50,CKB51,CKB52;
theorems TARSKI,NAT_1,FINSEQ_1,FINSET_1,FUNCT_1,CARD_1,RELAT_1,GRFUNC_1,CARD_2,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ORDINAL1,ENUMSET1,FINSEQ_2,FINSEQ_3,FUNCOP_1,FUNCT_2,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB28,CKB30,CKB31,CKB32,CKB33,CKB36,CKB37,CKB39,CKB40,CKB41,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB50,CKB51,CKB52,CKB53,CKB54;
schemes NAT_1,CLASSES1,XBOOLE_0,FUNCT_2;
registrations XBOOLE_0,RELAT_1,FUNCT_1,ORDINAL1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,CARD_1,RELSET_1,FINSEQ_2,FUNCOP_1,CKB25,CKB26,CKB34,CKB35,CKB38,CKB42,CKB49,CKB55;
constructors ENUMSET1,WELLORD2,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,FINSEQ_2,FUNCOP_1,FUNCT_2,RELSET_1,CKB15,CKB24,CKB29,CKB41,CKB46,CKB47,CKB50,CKB51,CKB52;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve m for (Element of ( NAT ));
reserve f for Function;
reserve p for (FinSequence of ( NAT ));
reserve q for (FinSequence of ( NAT ));
reserve w for FinSequence;
theorem
Th67: (for p being FinSequence holds ( ProperPrefixes p ),( dom p ) are_equipotent )
proof
let p being FinSequence;
defpred P[ set,set ]
 means
(ex w st ($1 = w & $2 = ( ( len w ) + 1 )));
A1: (for x holds (x in ( ProperPrefixes p ) implies (ex y st P[ x,y ])))
proof
let x;
assume x in ( ProperPrefixes p );
then consider q being FinSequence such that A2: x = q and q is_a_proper_prefix_of p by CKB15:def 1;
reconsider y = ( ( len q ) + 1 ) as set;
take y;
take q;
thus thesis by A2;
end;
consider f such that A3: ( dom f ) = ( ProperPrefixes p ) and A4: (for x holds (x in ( ProperPrefixes p ) implies P[ x,( f . x ) ])) from CLASSES1:sch 1(A1);
take f;
thus f is  one-to-one
proof
let x;
let y;
assume that
A5: (x in ( dom f ) & y in ( dom f ))
and
A6: ( f . x ) = ( f . y );
((ex q being FinSequence st (x = q & ( f . x ) = ( ( len q ) + 1 ))) & (ex r being FinSequence st (y = r & ( f . x ) = ( ( len r ) + 1 )))) by A3,A4,A5,A6;
hence thesis by A3,A5,CKB8:1,CKB23:1;
end;

thus ( dom f ) = ( ProperPrefixes p ) by A3;
thus ( rng f ) c= ( dom p )
proof
let x;
assume x in ( rng f );
then consider y such that A7: y in ( dom f ) and A8: x = ( f . y ) by FUNCT_1:def 3;
consider q being FinSequence such that A9: y = q and A10: x = ( ( len q ) + 1 ) by A3,A4,A7,A8;
( len q ) < ( len p ) by A3,A7,A9,CKB18:1;
then (( ( 0 ) + 1 ) <= ( ( len q ) + 1 ) & ( ( len q ) + 1 ) <= ( len p )) by NAT_1:13;
then x in ( Seg ( len p ) ) by A10,FINSEQ_1:1;
hence thesis by FINSEQ_1:def 3;
end;

let x;
assume A11: x in ( dom p );
then A12: x in ( Seg ( len p ) ) by FINSEQ_1:def 3;
reconsider n = x as (Element of ( NAT )) by A11;
A13: 1 <= n by A12,FINSEQ_1:1;
A14: n <= ( len p ) by A12,FINSEQ_1:1;
consider m being Nat such that A15: n = ( 1 + m ) by A13,NAT_1:10;
reconsider m as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider q = ( p | ( Seg m ) ) as FinSequence by FINSEQ_1:15;
A16: m <= ( len p ) by A14,A15,NAT_1:13;
A17: m <> ( len p ) by A14,A15,NAT_1:13;
A18: ( len q ) = m by A16,FINSEQ_1:17;
A19: q is_a_prefix_of p by CKB2:def 1;
( len q ) = m by A16,FINSEQ_1:17;
then q is_a_proper_prefix_of p by A17,A19,XBOOLE_0:def 8;
then A20: q in ( ProperPrefixes p ) by CKB17:1;
then (ex r being FinSequence st (q = r & ( f . q ) = ( ( len r ) + 1 ))) by A4;
hence thesis by A3,A15,A18,A20,FUNCT_1:def 3;
end;
