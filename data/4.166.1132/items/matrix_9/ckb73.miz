environ
vocabularies NUMBERS,NAT_1,VECTSP_1,FINSUB_1,TARSKI,XBOOLE_0,SUBSET_1,MATRIX_2,FINSEQ_2,FINSET_1,FINSEQ_1,FUNCT_1,RELAT_1,FINSEQ_5,FUNCT_2,CARD_1,MATRIX_1,STRUCT_0,ALGSTR_0,SETWISEO,MATRIX_3,CALCUL_2,XXREAL_0,SUPINF_2,FUNCOP_1,BINOP_1,ARYTM_3,ORDINAL4,TREES_1,ZFMISC_1,ARYTM_1,CARD_3,ABIAN,INT_1,PARTFUN1,GROUP_1,MATRIX_9;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,NAT_D,ENUMSET1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,FINSEQ_2,BINOP_1,STRUCT_0,ALGSTR_0,GROUP_1,VECTSP_1,SETWISEO,GROUP_4,SETWOP_2,FINSUB_1,MATRIX_1,FINSEQ_4,FINSEQ_5,MATRIX_2,MATRIX_3,XXREAL_0,CKB13,CKB14;
definitions FINSEQ_2,FINSEQ_1,ALGSTR_0,CKB13,CKB14;
theorems FINSEQ_1,FINSEQ_2,TARSKI,FUNCT_2,NAT_1,BINOP_1,FUNCT_1,SETWISEO,VECTSP_1,ZFMISC_1,FVSUM_1,SETWOP_2,MATRIX_1,MATRIX_2,FUNCOP_1,FINSUB_1,FINSEQ_3,RLVECT_1,RELAT_1,FINSOP_1,XBOOLE_0,XBOOLE_1,MATRIX_3,FINSEQ_5,ENUMSET1,FINSEQ_6,GROUP_4,XREAL_1,MATRIX_7,XXREAL_0,ORDINAL1,NAT_D,PARTFUN1,CARD_1,CKB1,CKB4,CKB5,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB68,CKB69,CKB70,CKB71,CKB72;
schemes FUNCT_2,FINSET_1,NAT_1,CKB3;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCT_2,FINSET_1,FINSUB_1,XXREAL_0,XREAL_0,FINSEQ_1,FINSEQ_5,FINSEQ_6,STRUCT_0,GROUP_1,VECTSP_1,MATRIX_2,FVSUM_1,RELSET_1,FINSEQ_2,CARD_1,CKB2,CKB6,CKB7,CKB20,CKB21,CKB67;
constructors RELAT_2,BINOP_1,SETWISEO,XXREAL_0,NAT_1,NAT_D,FINSEQ_4,FINSOP_1,FINSEQ_5,ALGSTR_1,GROUP_4,MATRIX_7,RELSET_1,CKB13,CKB14;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve K for Field;
theorem
(for a,b,c,d,e,f,g,h,i being (Element of K) holds (for M being (Matrix of 3,K) holds (M = <* <* a,b,c *>,<* d,e,f *>,<* g,h,i *> *> implies ( Per M ) = ( ( ( ( ( ( ( a * e ) * i ) + ( ( c * e ) * g ) ) + ( ( a * f ) * h ) ) + ( ( b * f ) * g ) ) + ( ( b * d ) * i ) ) + ( ( c * d ) * h ) ))))
proof
reconsider rid3 = ( Rev ( idseq 3 ) ) as (Element of ( Permutations 3 )) by CKB10:1;
let a being (Element of K),b being (Element of K),c being (Element of K),d being (Element of K),e being (Element of K),f being (Element of K),g being (Element of K),h being (Element of K),i being (Element of K);
let M being (Matrix of 3,K);
assume A1: M = <* <* a,b,c *>,<* d,e,f *>,<* g,h,i *> *>;
reconsider a3 = <* 1,3,2 *>,a4 = <* 2,3,1 *>,a5 = <* 2,1,3 *>,a6 = <* 3,1,2 *> as (Element of ( Permutations 3 )) by CKB37:1;
reconsider id3 = ( idseq 3 ) as (Permutation of ( Seg 3 ));
reconsider Id3 = ( idseq 3 ) as (Element of ( Permutations 3 )) by MATRIX_2:def 9;
reconsider B1 = {. Id3,rid3,a3 .},B2 = {. a4,a5,a6 .} as (Element of ( Fin ( Permutations 3 ) ));
set r = ( PPath_product M );
A2: ( r . id3 ) = ( (the multF of K) $$ ( Path_matrix (Id3,M) ) ) by CKB13:def 1
.= ( (the multF of K) $$ <* a,e,i *> ) by A1,CKB30:1,FINSEQ_2:53
.= ( ( a * e ) * i ) by CKB36:1;
A3: ( r . a6 ) = ( (the multF of K) $$ ( Path_matrix (a6,M) ) ) by CKB13:def 1
.= ( (the multF of K) $$ <* c,d,h *> ) by A1,CKB35:1
.= ( ( c * d ) * h ) by CKB36:1;
A4: ( r . a5 ) = ( (the multF of K) $$ ( Path_matrix (a5,M) ) ) by CKB13:def 1
.= ( (the multF of K) $$ <* b,d,i *> ) by A1,CKB34:1
.= ( ( b * d ) * i ) by CKB36:1;
A5: ( r . a4 ) = ( (the multF of K) $$ ( Path_matrix (a4,M) ) ) by CKB13:def 1
.= ( (the multF of K) $$ <* b,f,g *> ) by A1,CKB33:1
.= ( ( b * f ) * g ) by CKB36:1;
now
let x;
assume A6: x in B1;
then ((x = Id3 or x = rid3) or x = a3) by ENUMSET1:def 1;
then (not x in B2) by CKB40:1,CKB41:1,CKB42:1,CKB43:1,CKB44:1,CKB25:1,ENUMSET1:def 1,FINSEQ_2:53;
hence x in ( B1 \ B2 ) by A6,XBOOLE_0:def 5;
end;
then A7: B1 c= ( B1 \ B2 ) by TARSKI:def 3;
(for x being set holds (x in ( B1 \ B2 ) implies x in B1)) by XBOOLE_0:def 5;
then ( B1 \ B2 ) c= B1 by TARSKI:def 3;
then ( B1 \ B2 ) = B1 by A7,XBOOLE_0:def 10;
then A8: B1 misses B2 by XBOOLE_1:83;
set F = (the addF of K);
id3 in ( Permutations 3 ) by MATRIX_2:def 9;
then reconsider r1 = ( r . id3 ),r2 = ( r . rid3 ),r3 = ( r . a3 ),r4 = ( r . a4 ),r5 = ( r . a5 ),r6 = ( r . a6 ) as (Element of K) by FUNCT_2:5;
( FinOmega ( Permutations 3 ) ) = ( Permutations 3 ) by MATRIX_2:26,MATRIX_2:def 14;
then reconsider X = { Id3,rid3,a3,a4,a5,a6 } as (Element of ( Fin ( Permutations 3 ) )) by CKB25:1,CKB29:1,FINSEQ_2:53;
A9: (( F $$ (B1,r) ) = ( ( r1 + r2 ) + r3 ) & ( F $$ (B2,r) ) = ( ( r4 + r5 ) + r6 )) by CKB38:1,CKB39:1,CKB45:1,CKB46:1,CKB25:1,FINSEQ_2:53,SETWOP_2:3;
A10: ( r . rid3 ) = ( (the multF of K) $$ ( Path_matrix (rid3,M) ) ) by CKB13:def 1
.= ( (the multF of K) $$ <* c,e,g *> ) by A1,CKB25:1,CKB31:1
.= ( ( c * e ) * g ) by CKB36:1;
A11: ( r . a3 ) = ( (the multF of K) $$ ( Path_matrix (a3,M) ) ) by CKB13:def 1
.= ( (the multF of K) $$ <* a,f,h *> ) by A1,CKB32:1
.= ( ( a * f ) * h ) by CKB36:1;
(( FinOmega ( Permutations 3 ) ) = X & X = ( { Id3,rid3,a3 } \/ { a4,a5,a6 } )) by CKB25:1,CKB29:1,ENUMSET1:13,FINSEQ_2:53,MATRIX_2:def 14;
then ( Per M ) = ( F . (( F $$ (B1,r) ),( F $$ (B2,r) )) ) by A8,SETWOP_2:4
.= ( ( ( r1 + r2 ) + r3 ) + ( r4 + ( r5 + r6 ) ) ) by A9,RLVECT_1:def 3
.= ( ( ( ( r1 + r2 ) + r3 ) + r4 ) + ( r5 + r6 ) ) by RLVECT_1:def 3
.= ( ( ( ( ( ( ( a * e ) * i ) + ( ( c * e ) * g ) ) + ( ( a * f ) * h ) ) + ( ( b * f ) * g ) ) + ( ( b * d ) * i ) ) + ( ( c * d ) * h ) ) by A2,A10,A11,A5,A4,A3,RLVECT_1:def 3;
hence thesis;
end;
