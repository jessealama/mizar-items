environ
vocabularies TREES_2,ORDERS_2,RELAT_2,XBOOLE_0,STRUCT_0,ZFMISC_1,CARD_3,FINSET_1,CAT_1,YELLOW_0,SUBSET_1,XXREAL_0,TARSKI,NAT_1,YELLOW_1,WELLORD2,WELLORD1,ARYTM_3,LATTICES,FUNCT_1,FUNCT_4,RELAT_1,CARD_1,FUNCOP_1,ARYTM_1,ORDINAL1,PBOOLE,NUMBERS,ORDERS_4;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,NAT_1,PBOOLE,CARD_3,RELAT_2,ORDERS_2,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,DOMAIN_1,STRUCT_0,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_1,FUNCT_4,WELLORD1,XXREAL_0,CKB1,CKB6,CKB12;
definitions TARSKI,WAYBEL_1,WELLORD1,CKB1,CKB6,CKB12;
theorems CARD_1,CARD_2,CARD_4,WAYBEL_0,WAYBEL_1,YELLOW_0,YELLOW_1,ORDERS_2,TARSKI,WELLORD2,NAT_1,AXIOMS,FUNCT_1,FUNCT_2,FUNCT_4,RELAT_1,RELAT_2,ORDINAL1,FUNCOP_1,XBOOLE_0,XBOOLE_1,PARTFUN1,XREAL_1,XXREAL_0,CKB1,CKB6,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes NAT_1;
registrations XBOOLE_0,RELSET_1,FINSET_1,XREAL_0,NAT_1,MEMBERED,STRUCT_0,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_2,YELLOW11,CARD_1,ORDERS_2,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10;
constructors DOMAIN_1,XXREAL_0,NAT_1,NAT_D,MEMBERED,TOLER_1,LATTICE3,ORDERS_3,WAYBEL_1,RELSET_1,CARD_3,CKB1,CKB6,CKB12;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
(for A being  finite Chain holds (for n being Nat holds (( card (the carrier of A) ) = n implies A,( InclPoset n ) are_isomorphic )))
proof
defpred P[ Nat ]
 means
(for A being  finite Chain holds (( card (the carrier of A) ) = $1 implies A,( InclPoset $1 ) are_isomorphic ));
A1: (for n being Nat holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
let n being Nat;
assume A2: (for A being  finite Chain holds (( card (the carrier of A) ) = n implies A,( InclPoset n ) are_isomorphic ));
n >= ( 0 ) by NAT_1:2;
then ( n + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
then A3: (n >= 1 or ( n + 1 ) = 1) by NAT_1:8;
let A being  finite Chain;
assume A4: ( card (the carrier of A) ) = ( n + 1 );
then reconsider A as non empty  finite Chain;
set b = ( Top A );
per cases  by A3,NAT_1:13;
suppose A5: ( n + 1 ) = 1;

then consider x being set such that A6: (the carrier of A) = { x } by A4,CARD_2:42;
A,( InclPoset 1 ) are_isomorphic 
proof
set g = ( (the carrier of A) --> ( 0 ) );
A7: ( rng g ) = { ( 0 ) } by FUNCOP_1:8;
A8: { ( 0 ) } = (the carrier of ( InclPoset 1 )) by CARD_1:49,YELLOW_1:1;
then reconsider g as (Function of A,( InclPoset 1 ));
A9: (for e,f being (Element of A) holds (e <= f iff ( g . e ) <= ( g . f )))
proof
let e being (Element of A),f being (Element of A);
hereby
assume e <= f;
( g . e ) = ( 0 ) by FUNCOP_1:7;
hence ( g . e ) <= ( g . f ) by FUNCOP_1:7;
end;
assume ( g . e ) <= ( g . f );
e = x by A6,TARSKI:def 1;
hence thesis by A6,TARSKI:def 1;
end;
g is  one-to-one
proof
let x1 being (Element of A),x2 being (Element of A);
assume ( g . x1 ) = ( g . x2 );
x1 = x by A6,TARSKI:def 1;
hence thesis by A6,TARSKI:def 1;
end;
then g is  isomorphic by A7,A8,A9,WAYBEL_0:66;
hence thesis by WAYBEL_1:def 8;
end;
hence thesis by A5;
end;
suppose A10: ( n + 1 ) > 1;

A11: ( card ( (the carrier of A) \ { b } ) ) = ( ( card (the carrier of A) ) - ( card { b } ) ) by CARD_2:44
.= ( ( n + 1 ) - 1 ) by A4,CARD_1:30
.= n;
( ( n + 1 ) - 1 ) > ( 1 - 1 ) by A10,XREAL_1:9;
then reconsider Ab = ( (the carrier of A) \ { b } ) as non empty (Subset of A) by A11;
reconsider B = ( subrelstr Ab ) as  finite Chain by CKB1:def 1;
( card (the carrier of B) ) = n by A11,YELLOW_0:def 15;
then B,( InclPoset n ) are_isomorphic  by A2;
then consider f being (Function of B,( InclPoset n )) such that A12: f is  isomorphic by WAYBEL_1:def 8;
(the carrier of B) = ( (the carrier of A) \ { b } ) by YELLOW_0:def 15;
then A13: (the carrier of B),{ b } form_upper_lower_partition_of A by CKB14:1;
A14: ( n + 1 ) = ( succ n ) by NAT_1:38
.= ( n \/ { n } ) by ORDINAL1:def 1;
then { n } c= ( n + 1 ) by XBOOLE_1:7;
then reconsider n9 = { n } as non empty (Subset of ( InclPoset ( n + 1 ) )) by YELLOW_1:1;
set X = ( InclPoset { b } );
A15: (the carrier of ( subrelstr n9 )) = n9 by YELLOW_0:def 15;
{ b } c= { b };
then reconsider b9 = { b } as non empty (Subset of X) by YELLOW_1:1;
set X9 = ( subrelstr b9 );
set g = ( (the carrier of X9) --> n );
( dom g ) = (the carrier of X9) by FUNCOP_1:13;
then reconsider g as (ManySortedSet of (the carrier of X9)) by PARTFUN1:def 2;
A16: (for a,b being (Element of ( InclPoset ( n + 1 ) )) holds ((a in (the carrier of ( InclPoset n )) & b in { n }) implies a < b))
proof
let a being (Element of ( InclPoset ( n + 1 ) )),b being (Element of ( InclPoset ( n + 1 ) ));
assume that
A17: a in (the carrier of ( InclPoset n ))
and
A18: b in { n };
A19: a in n by A17,YELLOW_1:1;
then a in { i where i is (Element of ( NAT )): i < n } by AXIOMS:4;
then consider h being (Element of ( NAT )) such that A20: h = a and A21: h < n;
A22: b = n by A18,TARSKI:def 1;
a c= b
proof
assume (not a c= b);
then consider x being set such that A23: x in a and A24: (not x in b) by TARSKI:def 3;
x in { w where w is (Element of ( NAT )): w < h } by A20,A23,AXIOMS:4;
then consider w9 being (Element of ( NAT )) such that A25: w9 = x and A26: w9 < h;
w9 < n by A21,A26,XXREAL_0:2;
then w9 in { t where t is (Element of ( NAT )): t < n };
hence contradiction by A22,A24,A25,AXIOMS:4;
end;
then A27: a <= b by YELLOW_1:3;
a <> b by A19,A22;
hence thesis by A27,ORDERS_2:def 6;
end;
(the carrier of ( InclPoset n )) = n by YELLOW_1:1;
then ( (the carrier of ( InclPoset n )) \/ { n } ) = (the carrier of ( InclPoset ( n + 1 ) )) by A14,YELLOW_1:1;
then A28: (the carrier of ( InclPoset n )),{ n } form_upper_lower_partition_of ( InclPoset ( n + 1 ) ) by A16,CKB12:def 1;
n <= ( n + 1 ) by NAT_1:11;
then n c= ( n + 1 ) by NAT_1:39;
then n c= (the carrier of ( InclPoset ( n + 1 ) )) by YELLOW_1:1;
then reconsider A2 = (the carrier of ( InclPoset n )) as (Subset of ( InclPoset ( n + 1 ) )) by YELLOW_1:1;
A29: (the carrier of ( subrelstr { b } )) = { b } by YELLOW_0:def 15;
A30: (the carrier of X9) = { b } by YELLOW_0:def 15;
then reconsider g as (Function of ( subrelstr { b } ),( subrelstr n9 )) by A15,A29;
( g . b ) in n9 by A15,A29,FUNCT_2:47;
then ( g . b ) = n by TARSKI:def 1;
then A31: ( rng g ) = (the carrier of ( subrelstr n9 )) by A15,A29,FUNCT_2:48;
A32: (for e,f being (Element of ( subrelstr { b } )) holds (e <= f iff ( g . e ) <= ( g . f )))
proof
let e being (Element of ( subrelstr { b } )),f being (Element of ( subrelstr { b } ));
reconsider f1 = f as (Element of X9) by A30,YELLOW_0:def 15;
reconsider e1 = e as (Element of X9) by A30,YELLOW_0:def 15;
hereby
assume e <= f;
(( g . e1 ) = n & ( g . f1 ) = n) by FUNCOP_1:7;
hence ( g . e ) <= ( g . f );
end;
assume ( g . e ) <= ( g . f );
e in (the carrier of ( subrelstr { b } ));
then e in { b } by YELLOW_0:def 15;
then A33: e = b by TARSKI:def 1;
f in (the carrier of ( subrelstr { b } ));
then f in { b } by YELLOW_0:def 15;
hence thesis by A33,TARSKI:def 1;
end;
g is  one-to-one by A29,PARTFUN1:17;
then A34: g is  isomorphic by A31,A32,WAYBEL_0:66;
( InclPoset n ) is  full  full (SubRelStr of ( InclPoset ( n + 1 ) )) by CKB11:1,NAT_1:11;
then A35: ( InclPoset n ) = ( subrelstr A2 ) by YELLOW_0:def 15;
(the carrier of B) = Ab by YELLOW_0:def 15;
then (ex h being (Function of A,( InclPoset ( n + 1 ) )) st (h = ( f +* g ) & h is  isomorphic)) by A12,A13,A28,A34,A35,CKB16:1;
hence thesis by WAYBEL_1:def 8;
end;
end;
A36: P[ ( 0 ) ]
proof
let A being  finite Chain;
set f = the (Function of A,( InclPoset ( 0 ) ));
assume ( card (the carrier of A) ) = ( 0 );
then A37: A is  empty;
take f;
( InclPoset ( 0 ) ) is  empty by YELLOW_1:1;
hence thesis by A37,WAYBEL_0:def 38;
end;
(for n being Nat holds P[ n ]) from NAT_1:sch 2(A36,A1);
hence thesis;
end;
