environ
vocabularies NUMBERS,XBOOLE_0,NAT_1,XCMPLX_0,VECTSP_1,SUBSET_1,FINSEQ_1,MATRIX_1,CARD_1,TREES_1,XXREAL_0,MATRIX_2,QC_LANG1,RELAT_1,SUPINF_2,ARYTM_3,MATRIX_3,FUNCT_1,ZFMISC_1,FINSEQ_2,FUNCT_2,ARYTM_1,FINSET_1,TARSKI,SGRAPH1,CARD_3,ALGSTR_0,SETWISEO,ABIAN,FINSUB_1,BINOP_1,FINSOP_1,CARD_FIN,FUNCOP_1,FUNCT_4,MATRIX11,FINSEQ_5,INT_1,GROUP_1,ABSVALUE,RVSUM_1,STRUCT_0,INCSP_1,FVSUM_1,FREEALG,FINSEQ_3,LAPLACE,CLASSES1,AFINSQ_1,PRVECT_1,RLVECT_2,LMOD_7,VALUED_1,PARTFUN1,RLVECT_3,RLSUB_1,MESFUNC1,RLVECT_5,MATRIX13,RLVECT_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,FINSET_1,RELAT_1,RELSET_1,FUNCT_1,PARTFUN1,FUNCT_2,SETWOP_2,FINSEQ_1,BINOP_1,STRUCT_0,ALGSTR_0,FUNCOP_1,RLVECT_1,GROUP_1,VECTSP_1,SETWISEO,FINSEQ_2,MATRIX_1,FINSUB_1,MATRIX_2,FVSUM_1,FINSOP_1,GROUP_4,MATRIX_3,FINSEQ_7,FUNCT_4,SGRAPH1,NEWTON,FINSEQ_5,DOMAIN_1,MATRIX_6,MATRIX_7,MATRIX11,CARD_FIN,FINSEQ_3,LAPLACE,MEASURE6,PRVECT_1,VECTSP_4,VECTSP_6,VECTSP_7,MATRLIN,VECTSP_9,FINSEQOP,CKB17,CKB43,CKB50,CKB51,CKB53,CKB54,CKB76,CKB88,CKB125,CKB126,CKB127,CKB130,CKB131;
definitions RLVECT_1,FINSEQ_2,FINSEQ_1,TARSKI,MATRIX_1,FVSUM_1,GROUP_4,MATRIX_2,MATRIX_3,MATRIX_7,MATRIX11,LAPLACE,MEASURE6,VECTSP_1,VECTSP_7,FUNCT_1,RELAT_1,STRUCT_0,ALGSTR_0,FUNCOP_1,CKB17,CKB54,CKB76,CKB88,CKB130,CKB131;
theorems NAT_D,CARD_1,CARD_2,CARD_FIN,COMPUT_1,ENUMSET1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FINSEQ_5,FINSOP_1,FINSUB_1,FRECHET,FUNCT_1,FUNCT_2,FUNCT_4,FUNCT_7,FUNCOP_1,FVSUM_1,GRAPH_2,GRAPH_5,GROUP_1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_7,MATRIX_9,MATRIX11,MATRIXR1,NAT_1,ORDINAL1,PRVECT_1,RELAT_1,RLVECT_1,SETWISEO,SETWOP_2,SGRAPH1,STIRL2_1,TARSKI,VECTSP_1,VECTSP_2,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,VECTSP10,WELLORD2,XBOOLE_0,XBOOLE_1,XREAL_1,ZFMISC_1,XXREAL_0,FINSEQOP,STRUCT_0,MATRIXR2,PARTFUN1,MATRLIN,XREAL_0,MEASURE6,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB45,CKB52,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB103,CKB104,CKB105,CKB106,CKB107,CKB108,CKB109,CKB110,CKB111,CKB112,CKB113,CKB114,CKB115,CKB116,CKB118,CKB119,CKB120,CKB121,CKB124,CKB128,CKB129,CKB130,CKB131,CKB132,CKB133,CKB134,CKB135,CKB136,CKB137,CKB138,CKB139,CKB141,CKB142;
schemes FINSEQ_1,FINSEQ_2,FUNCT_1,FUNCT_2,NAT_1,PRE_POLY,MATRIX_1;
registrations SUBSET_1,FUNCT_1,FINSET_1,STRUCT_0,FVSUM_1,MATRIX_2,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,CARD_1,SGRAPH1,MATRIX_1,FUNCOP_1,MATRIX11,SETFAM_1,FINSEQ_2,PRVECT_1,MATRLIN,XREAL_0,XBOOLE_0,VALUED_0,VECTSP_7,RELSET_1,CKB46,CKB47,CKB48,CKB49,CKB117,CKB122,CKB123,CKB140;
constructors SETWISEO,FINSOP_1,ALGSTR_1,FVSUM_1,DOMAIN_1,SEQM_3,XXREAL_0,FINSEQ_5,GROUP_4,FINSEQ_7,WELLORD2,NEWTON,STIRL2_1,CARD_FIN,MATRIX_6,MATRIX_7,MATRIX11,LAPLACE,PRVECT_1,VECTSP_6,VECTSP_7,VECTSP_9,NAT_D,BINOP_2,MATRLIN,VALUED_0,RELSET_1,MEASURE6,SETFAM_1,CKB17,CKB43,CKB50,CKB51,CKB53,CKB54,CKB76,CKB88,CKB127,CKB130,CKB131;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve x for set;
reserve i for Nat;
reserve j for Nat;
reserve k for Nat;
reserve m for Nat;
reserve n for Nat;
reserve n9 for Nat;
reserve K for Field;
reserve a for (Element of K);
reserve p for (FinSequence of K);
reserve M for (Matrix of m,n,K);
reserve M1 for (Matrix of m,n,K);
theorem
Th114: (for M holds (for i holds (((M is  without_repeated_line & ( lines M ) is  linearly-independent) & (for j holds (j in ( Seg m ) implies ( M * (j,i) ) = ( 0. K )))) implies ( lines ( Segm (M,( Seg ( len M ) ),( ( Seg ( width M ) ) \ { i } )) ) ) is  linearly-independent)))
proof
let M;
let i;
assume that
A1: M is  without_repeated_line
and
A2: ( lines M ) is  linearly-independent
and
A3: (for j holds (j in ( Seg m ) implies ( M * (j,i) ) = ( 0. K )));
set SMi = ( ( Seg ( width M ) ) \ { i } );
set Sl = ( Seg ( len M ) );
set S = ( Segm (M,Sl,SMi) );
A4: SMi c= ( Seg ( width M ) ) by XBOOLE_1:36;
A5: ( card Sl ) = ( len M ) by FINSEQ_1:57;
A6: ( len M ) = m by MATRIX_1:def 2;
per cases ;
suppose m = ( 0 );

then ( len S ) = ( 0 ) by A6,MATRIX_1:def 2;
then S = ( {} );
hence thesis;
end;
suppose m <> ( 0 );

then A7: ( width M ) = n by CKB1:1;
A8:now
set n0 = ( n |-> ( 0. K ) );
A9: ( len n0 ) = n by CARD_1:def 7;
A10: ( dom ( Sgm SMi ) ) = ( Seg ( card SMi ) ) by FINSEQ_3:40,XBOOLE_1:36;
let k;
assume that
A11: k in ( Seg ( card Sl ) );
( Line (M,k) ) in ( lines M ) by A5,A6,A11,CKB128:1;
then reconsider LM = ( Line (M,k) ) as (Element of ( n -tuples_on (the carrier of K) )) by CKB121:1;
A12: ( len LM ) = n by CARD_1:def 7;
LM <> n0 by A1,A2,A5,A6,A11,CKB136:1;
then consider n9 being Nat such that A13: 1 <= n9 and A14: n9 <= n and A15: ( LM . n9 ) <> ( n0 . n9 ) by A12,A9,FINSEQ_1:14;
n9 in ( NAT ) by ORDINAL1:def 12;
then A16: n9 in ( Seg n ) by A13,A14;
then A17: ( n0 . n9 ) = ( 0. K ) by FINSEQ_2:57;
( Sgm Sl ) = ( idseq m ) by A6,FINSEQ_3:48;
then A18: ( ( Sgm Sl ) . k ) = k by A5,A6,A11,FINSEQ_2:49;
A19: ( rng ( Sgm SMi ) ) = SMi by A4,FINSEQ_1:def 13;
( LM . n9 ) = ( M * (k,n9) ) by A7,A16,MATRIX_1:def 7;
then n9 <> i by A3,A5,A6,A11,A15,A17;
then n9 in SMi by A7,A16,ZFMISC_1:56;
then consider x such that A20: x in ( dom ( Sgm SMi ) ) and A21: ( ( Sgm SMi ) . x ) = n9 by A19,FUNCT_1:def 3;
assume A22: ( Line (S,k) ) = ( ( card SMi ) |-> ( 0. K ) );
reconsider x as (Element of ( NAT )) by A20;
( Line (S,k) ) = ( ( Line (M,( ( Sgm Sl ) . k )) ) * ( Sgm SMi ) ) by A11,CKB58:1,XBOOLE_1:36;
then ( ( Line (S,k) ) . x ) = ( ( Line (M,( ( Sgm Sl ) . k )) ) . n9 ) by A20,A21,FUNCT_1:13;
hence contradiction by A22,A15,A17,A20,A10,A18,FINSEQ_2:57;
end;
A23:now
set NULL = ( 0. (K,( card Sl ),( card SMi )) );
let M1 being (Matrix of ( card Sl ),( card SMi ),K);
assume that
A24: (for i holds (i in ( Seg ( card Sl ) ) implies (ex a st ( Line (M1,i) ) = ( a * ( Line (S,i) ) ))))
and
A25: (for j holds (j in ( Seg ( card SMi ) ) implies ( Sum ( Col (M1,j) ) ) = ( 0. K )));
defpred P[ set,set ]
 means
(for i holds ($1 = i implies (ex a st (a = $2 & ( Line (M1,i) ) = ( a * ( Line (S,i) ) )))));
A26: (for k holds (k in ( Seg m ) implies (ex x being (Element of K) st P[ k,x ])))
proof
let k;
assume k in ( Seg m );
then consider a such that A27: ( Line (M1,k) ) = ( a * ( Line (S,k) ) ) by A5,A6,A24;
take a;
thus thesis by A27;
end;
consider p such that A28: ( dom p ) = ( Seg m ) and A29: (for k holds (k in ( Seg m ) implies P[ k,( p . k ) ])) from FINSEQ_1:sch 5(A26);
deffunc F(Nat) = ( ( p /. $1 ) * ( Line (M,$1) ) );
consider f being (FinSequence of ( ( width M ) -tuples_on (the carrier of K) )) such that A30: ( len f ) = m and A31: (for j holds (j in ( dom f ) implies ( f . j ) = F(j))) from FINSEQ_2:sch 1;
reconsider f9 = f as (FinSequence of (the carrier of ( n -VectSp_over K ))) by A7,CKB121:1;
( FinS2MX f9 ) is (Matrix of m,n,K) by A30;
then reconsider Mf = f as (Matrix of m,n,K);
A32: ( dom f ) = ( Seg m ) by A30,FINSEQ_1:def 3;
( len Mf ) = m by MATRIX_1:def 2;
then A33: ( dom Mf ) = ( Seg m ) by FINSEQ_1:def 3;
A34:now
A35: ( len M1 ) = m by A5,A6,MATRIX_1:def 2;
A36: ( len Mf ) = m by MATRIX_1:def 2;
A37: ( dom Mf ) = ( Seg ( len Mf ) ) by FINSEQ_1:def 3;
A38: ( dom M1 ) = ( Seg ( len M1 ) ) by FINSEQ_1:def 3;
let j;
assume that
A39: j in ( Seg n );
set C = ( Col (Mf,j) );
A40: ( len C ) = ( len Mf ) by MATRIX_1:def 8
.= m by MATRIX_1:def 2;
per cases ;
suppose A41: j = i;

set m0 = ( m |-> ( 0. K ) );
A42:now
let n9 being Nat;
assume that
A43: 1 <= n9
and
A44: n9 <= m;
A45: ( width M ) = n by A43,A44,CKB1:1;
A46: ( width Mf ) = n by A43,A44,CKB1:1;
n9 in ( NAT ) by ORDINAL1:def 12;
then A47: n9 in ( Seg m ) by A43,A44;
then A48: ( Mf . n9 ) = ( Mf /. n9 ) by A33,PARTFUN1:def 6;
( 0. K ) = ( M * (n9,i) ) by A3,A47
.= ( ( Line (M,n9) ) . i ) by A39,A41,A45,MATRIX_1:def 7;
then ( ( p /. n9 ) * ( 0. K ) ) = ( ( ( p /. n9 ) * ( Line (M,n9) ) ) . i ) by A39,A41,A45,FVSUM_1:51
.= ( ( Mf /. n9 ) . i ) by A31,A32,A47,A48
.= ( ( Line (Mf,n9) ) . i ) by A47,A48,MATRIX_2:8
.= ( Mf * (n9,i) ) by A39,A41,A46,MATRIX_1:def 7
.= ( ( Col (Mf,i) ) . n9 ) by A36,A37,A47,MATRIX_1:def 8;
hence ( ( Col (Mf,j) ) . n9 ) = ( 0. K ) by A41,VECTSP_1:7
.= ( m0 . n9 ) by A47,FINSEQ_2:57;
end;
( len m0 ) = m by CARD_1:def 7;
then C = m0 by A40,A42,FINSEQ_1:14;
hence ( Sum C ) = ( 0. K ) by A40,MATRIX_3:11;
end;
suppose A49: j <> i;

A50: ( rng ( Sgm SMi ) ) = SMi by A4,FINSEQ_1:def 13;
j in SMi by A7,A39,A49,ZFMISC_1:56;
then consider x such that A51: x in ( dom ( Sgm SMi ) ) and A52: ( ( Sgm SMi ) . x ) = j by A50,FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A51;
set C1 = ( Col (M1,x) );
A53: ( dom ( Sgm SMi ) ) = ( Seg ( card SMi ) ) by FINSEQ_3:40,XBOOLE_1:36;
A54:now
let n9 being Nat;
assume that
A55: 1 <= n9
and
A56: n9 <= m;
A57: ( width Mf ) = n by A55,A56,CKB1:1;
A58: ( width S ) = ( card SMi ) by A6,A55,A56,CKB1:1;
A59: ( Sgm Sl ) = ( idseq m ) by A6,FINSEQ_3:48;
A60: ( width M1 ) = ( card SMi ) by A6,A55,A56,CKB1:1;
A61: ( ( Line (M,n9) ) . j ) = ( M * (n9,j) ) by A7,A39,MATRIX_1:def 7;
n9 in ( NAT ) by ORDINAL1:def 12;
then A62: n9 in ( Seg m ) by A55,A56;
then consider a such that A63: a = ( p . n9 ) and A64: ( Line (M1,n9) ) = ( a * ( Line (S,n9) ) ) by A29;
A65: ( Mf . n9 ) = ( Mf /. n9 ) by A33,A62,PARTFUN1:def 6;
( ( idseq m ) . n9 ) = n9 by A62,FINSEQ_2:49;
then ( ( Line (M,n9) ) * ( Sgm SMi ) ) = ( Line (S,n9) ) by A5,A6,A62,A59,CKB58:1,XBOOLE_1:36;
then A66: ( ( Line (S,n9) ) . x ) = ( ( Line (M,n9) ) . j ) by A51,A52,FUNCT_1:13;
thus ( C . n9 ) = ( Mf * (n9,j) ) by A36,A37,A62,MATRIX_1:def 8
.= ( ( Line (Mf,n9) ) . j ) by A39,A57,MATRIX_1:def 7
.= ( ( Mf /. n9 ) . j ) by A62,A65,MATRIX_2:8
.= ( ( ( p /. n9 ) * ( Line (M,n9) ) ) . j ) by A31,A32,A62,A65
.= ( ( a * ( Line (M,n9) ) ) . j ) by A28,A62,A63,PARTFUN1:def 6
.= ( a * ( M * (n9,j) ) ) by A7,A39,A61,FVSUM_1:51
.= ( ( a * ( Line (S,n9) ) ) . x ) by A51,A53,A58,A66,A61,FVSUM_1:51
.= ( M1 * (n9,x) ) by A51,A53,A60,A64,MATRIX_1:def 7
.= ( C1 . n9 ) by A35,A38,A62,MATRIX_1:def 8;
end;
A67: ( len C ) = ( len Mf ) by MATRIX_1:def 8;
( len C1 ) = ( len M1 ) by MATRIX_1:def 8;
then C = C1 by A36,A35,A67,A54,FINSEQ_1:14;
hence ( Sum C ) = ( 0. K ) by A25,A51,A53;
end;
end;
now
let j;
assume that
A68: j in ( Seg m );
take pj = ( p /. j );
thus ( Line (Mf,j) ) = ( Mf . j ) by A68,MATRIX_2:8
.= ( pj * ( Line (M,j) ) ) by A31,A32,A68;
end;
then A69: Mf = ( 0. (K,m,n) ) by A1,A2,A34,CKB136:1;
A70:now
let j;
assume that
A71: 1 <= j
and
A72: j <= m;
j in ( NAT ) by ORDINAL1:def 12;
then A73: j in ( Seg m ) by A71,A72;
then consider a such that A74: a = ( p . j ) and A75: ( Line (M1,j) ) = ( a * ( Line (S,j) ) ) by A29;
A76: ( Line (( 0. (K,m,n) ),j) ) = ( ( 0. (K,m,n) ) . j ) by A73,MATRIX_2:8
.= ( n |-> ( 0. K ) ) by A73,FUNCOP_1:7;
( p . j ) = ( p /. j ) by A28,A73,PARTFUN1:def 6;
then A77: ( a * ( Line (M,j) ) ) = ( Mf . j ) by A31,A32,A73,A74
.= ( Line (Mf,j) ) by A73,MATRIX_2:8;
A78: ( rng ( Sgm SMi ) ) = SMi by A4,FINSEQ_1:def 13;
( Sgm Sl ) = ( idseq m ) by A6,FINSEQ_3:48;
then ( ( Sgm Sl ) . j ) = j by A73,FINSEQ_2:49;
then A79: ( Line (S,j) ) = ( ( Line (M,j) ) * ( Sgm SMi ) ) by A5,A6,A73,CKB58:1,XBOOLE_1:36;
( ( Seg n ) /\ SMi ) = SMi by A7,XBOOLE_1:28,XBOOLE_1:36;
then A80: ( ( Sgm SMi ) " ( Seg n ) ) = ( ( Sgm SMi ) " ( rng ( Sgm SMi ) ) ) by A78,RELAT_1:133
.= ( dom ( Sgm SMi ) ) by RELAT_1:134
.= ( Seg ( card SMi ) ) by FINSEQ_3:40,XBOOLE_1:36;
( dom ( Line (M,j) ) ) = ( Seg ( len ( Line (M,j) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( width M ) ) by CARD_1:def 7;
then ( Line (M1,j) ) = ( ( Line (( 0. (K,m,n) ),j) ) * ( Sgm SMi ) ) by A69,A75,A77,A78,A79,CKB105:1,XBOOLE_1:36
.= ( ( card SMi ) |-> ( 0. K ) ) by A80,A76,FUNCOP_1:19
.= ( NULL . j ) by A5,A6,A73,FUNCOP_1:7;
hence ( M1 . j ) = ( NULL . j ) by A5,A6,A73,MATRIX_2:8;
end;
A81: ( len NULL ) = m by A5,A6,MATRIX_1:def 2;
( len M1 ) = m by A5,A6,MATRIX_1:def 2;
hence M1 = NULL by A81,A70,FINSEQ_1:14;
end;
S is  without_repeated_line by A1,A3,CKB142:1;
hence thesis by A8,A23,CKB136:1;
end;
end;
