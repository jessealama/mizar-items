environ
vocabularies NUMBERS,XBOOLE_0,NAT_1,XCMPLX_0,VECTSP_1,SUBSET_1,FINSEQ_1,MATRIX_1,CARD_1,TREES_1,XXREAL_0,MATRIX_2,QC_LANG1,RELAT_1,SUPINF_2,ARYTM_3,MATRIX_3,FUNCT_1,ZFMISC_1,FINSEQ_2,FUNCT_2,ARYTM_1,FINSET_1,TARSKI,SGRAPH1,CARD_3,ALGSTR_0,SETWISEO,ABIAN,FINSUB_1,BINOP_1,FINSOP_1,CARD_FIN,FUNCOP_1,FUNCT_4,MATRIX11,FINSEQ_5,INT_1,GROUP_1,ABSVALUE,RVSUM_1,STRUCT_0,INCSP_1,FVSUM_1,FREEALG,FINSEQ_3,LAPLACE,CLASSES1,AFINSQ_1,PRVECT_1,RLVECT_2,LMOD_7,VALUED_1,PARTFUN1,RLVECT_3,RLSUB_1,MESFUNC1,RLVECT_5,MATRIX13,RLVECT_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,FINSET_1,RELAT_1,RELSET_1,FUNCT_1,PARTFUN1,FUNCT_2,SETWOP_2,FINSEQ_1,BINOP_1,STRUCT_0,ALGSTR_0,FUNCOP_1,RLVECT_1,GROUP_1,VECTSP_1,SETWISEO,FINSEQ_2,MATRIX_1,FINSUB_1,MATRIX_2,FVSUM_1,FINSOP_1,GROUP_4,MATRIX_3,FINSEQ_7,FUNCT_4,SGRAPH1,NEWTON,FINSEQ_5,DOMAIN_1,MATRIX_6,MATRIX_7,MATRIX11,CARD_FIN,FINSEQ_3,LAPLACE,MEASURE6,PRVECT_1,VECTSP_4,VECTSP_6,VECTSP_7,MATRLIN,VECTSP_9,FINSEQOP,CKB17,CKB43,CKB50,CKB51,CKB53,CKB54,CKB76,CKB88;
definitions RLVECT_1,FINSEQ_2,FINSEQ_1,TARSKI,MATRIX_1,FVSUM_1,GROUP_4,MATRIX_2,MATRIX_3,MATRIX_7,MATRIX11,LAPLACE,MEASURE6,VECTSP_1,VECTSP_7,FUNCT_1,RELAT_1,STRUCT_0,ALGSTR_0,FUNCOP_1,CKB17,CKB54,CKB76,CKB88;
theorems NAT_D,CARD_1,CARD_2,CARD_FIN,COMPUT_1,ENUMSET1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FINSEQ_5,FINSOP_1,FINSUB_1,FRECHET,FUNCT_1,FUNCT_2,FUNCT_4,FUNCT_7,FUNCOP_1,FVSUM_1,GRAPH_2,GRAPH_5,GROUP_1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_7,MATRIX_9,MATRIX11,MATRIXR1,NAT_1,ORDINAL1,PRVECT_1,RELAT_1,RLVECT_1,SETWISEO,SETWOP_2,SGRAPH1,STIRL2_1,TARSKI,VECTSP_1,VECTSP_2,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,VECTSP10,WELLORD2,XBOOLE_0,XBOOLE_1,XREAL_1,ZFMISC_1,XXREAL_0,FINSEQOP,STRUCT_0,MATRIXR2,PARTFUN1,MATRLIN,XREAL_0,MEASURE6,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB45,CKB52,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98;
schemes FINSEQ_1,FINSEQ_2,FUNCT_1,FUNCT_2,NAT_1,PRE_POLY,MATRIX_1;
registrations SUBSET_1,FUNCT_1,FINSET_1,STRUCT_0,FVSUM_1,MATRIX_2,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,CARD_1,SGRAPH1,MATRIX_1,FUNCOP_1,MATRIX11,SETFAM_1,FINSEQ_2,PRVECT_1,MATRLIN,XREAL_0,XBOOLE_0,VALUED_0,VECTSP_7,RELSET_1,CKB46,CKB47,CKB48,CKB49;
constructors SETWISEO,FINSOP_1,ALGSTR_1,FVSUM_1,DOMAIN_1,SEQM_3,XXREAL_0,FINSEQ_5,GROUP_4,FINSEQ_7,WELLORD2,NEWTON,STIRL2_1,CARD_FIN,MATRIX_6,MATRIX_7,MATRIX11,LAPLACE,PRVECT_1,VECTSP_6,VECTSP_7,VECTSP_9,NAT_D,BINOP_2,MATRLIN,VALUED_0,RELSET_1,MEASURE6,SETFAM_1,CKB17,CKB43,CKB50,CKB51,CKB53,CKB54,CKB76,CKB88;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve m for Nat;
reserve n for Nat;
reserve K for Field;
reserve nt for (Element of ( n -tuples_on ( NAT ) ));
reserve mt for (Element of ( m -tuples_on ( NAT ) ));
reserve M for (Matrix of K);
theorem
Th82: ([: ( rng nt ),( rng mt ) :] = ( Indices M ) implies ( the_rank_of M ) = ( the_rank_of ( Segm (M,nt,mt) ) ))
proof
set RM = ( the_rank_of M );
set S = ( Segm (M,nt,mt) );
consider rt1,rt2 being (Element of ( RM -tuples_on ( NAT ) )) such that A1: [: ( rng rt1 ),( rng rt2 ) :] c= ( Indices M ) and A2: ( Det ( Segm (M,rt1,rt2) ) ) <> ( 0. K ) by CKB93:1;
assume A3: [: ( rng nt ),( rng mt ) :] = ( Indices M );
A4:now
per cases ;
suppose RM = ( 0 );

hence RM <= ( the_rank_of S );
end;
suppose A5: RM > ( 0 );

then ( len rt2 ) > ( 0 ) by CARD_1:def 7;
then A6: rt2 <> ( {} );
( len rt1 ) > ( 0 ) by A5,CARD_1:def 7;
then A7: rt1 <> ( {} );
then ( rng nt ) <> ( {} ) by A3,A1,A6;
then ( dom nt ) <> ( {} ) by RELAT_1:42;
then A8: n <> ( 0 );
then A9: ( width S ) = m by CKB1:1;
A10: ( dom mt ) = ( Seg m ) by FINSEQ_2:124;
set MR = ( Segm (M,rt1,rt2) );
A11: ( dom rt2 ) = ( Seg RM ) by FINSEQ_2:124;
( rng rt1 ) c= ( rng nt ) by A3,A1,A7,A6,ZFMISC_1:114;
then consider R1 being Function such that A12: ( dom R1 ) = ( dom rt1 ) and A13: ( rng R1 ) c= ( dom nt ) and A14: rt1 = ( nt * R1 ) by CKB98:1;
( rng rt2 ) c= ( rng mt ) by A3,A1,A7,A6,ZFMISC_1:114;
then consider R2 being Function such that A15: ( dom R2 ) = ( dom rt2 ) and A16: ( rng R2 ) c= ( dom mt ) and A17: rt2 = ( mt * R2 ) by CKB98:1;
A18: ( dom rt1 ) = ( Seg RM ) by FINSEQ_2:124;
then reconsider R1,R2 as FinSequence by A12,A15,A11,FINSEQ_1:def 2;
A19: ( rng R1 ) c= ( NAT ) by A13,XBOOLE_1:1;
( rng R2 ) c= ( NAT ) by A16,XBOOLE_1:1;
then reconsider R1,R2 as (FinSequence of ( NAT )) by A19,FINSEQ_1:def 4;
A20: ( len R1 ) = RM by A12,A18,FINSEQ_1:def 3;
( len R2 ) = RM by A15,A11,FINSEQ_1:def 3;
then reconsider R1,R2 as (Element of ( RM -tuples_on ( NAT ) )) by A20,FINSEQ_2:92;
set SR = ( Segm (S,R1,R2) );
( len S ) = n by CKB1:1,A8;
then A21: ( Indices S ) = [: ( Seg n ),( Seg m ) :] by A9,FINSEQ_1:def 3;
now
A22: ( dom mt ) = ( Seg m ) by FINSEQ_2:124;
let i;
let j;
assume that
A23: [ i,j ] in ( Indices SR );
reconsider I = i,J = j,RI = ( R1 . i ),RJ = ( R2 . j ) as (Element of ( NAT )) by ORDINAL1:def 12;
A24: ( dom nt ) = ( Seg n ) by FINSEQ_2:124;
A25: ( Indices SR ) = [: ( dom R1 ),( dom R2 ) :] by A12,A15,A18,A11,MATRIX_1:24;
then A26: i in ( dom R1 ) by A23,ZFMISC_1:87;
A27: j in ( dom R2 ) by A23,A25,ZFMISC_1:87;
then A28: ( R2 . j ) in ( rng R2 ) by FUNCT_1:def 3;
( R1 . i ) in ( rng R1 ) by A26,FUNCT_1:def 3;
then A29: [ ( R1 . I ),( R2 . J ) ] in ( Indices S ) by A13,A16,A21,A28,A24,A22,ZFMISC_1:87;
[ i,j ] in ( Indices MR ) by A23,MATRIX_1:26;
hence ( MR * (i,j) ) = ( M * (( rt1 . I ),( rt2 . J )) ) by CKB17:def 1
.= ( M * (( nt . RI ),( rt2 . J )) ) by A12,A14,A26,FUNCT_1:12
.= ( M * (( nt . RI ),( mt . RJ )) ) by A15,A17,A27,FUNCT_1:12
.= ( S * (( R1 . I ),( R2 . J )) ) by A29,CKB17:def 1
.= ( SR * (i,j) ) by A23,CKB17:def 1;
end;
then A30: ( Det SR ) <> ( 0. K ) by A2,MATRIX_1:27;
( dom nt ) = ( Seg n ) by FINSEQ_2:124;
then [: ( rng R1 ),( rng R2 ) :] c= ( Indices S ) by A13,A16,A10,A21,ZFMISC_1:96;
hence RM <= ( the_rank_of S ) by A30,CKB93:1;
end;
end;
RM >= ( the_rank_of S ) by A3,CKB95:1;
hence thesis by A4,XXREAL_0:1;
end;
