environ
vocabularies NUMBERS,FUNCT_1,ZFMISC_1,RELAT_1,SUPINF_2,XXREAL_0,CARD_1,SUPINF_1,SUBSET_1,NAT_1,ARYTM_3,ORDINAL1,XREAL_0,XXREAL_2,ORDINAL2,XBOOLE_0,REAL_1,ARYTM_1,RELAT_2,MEASURE5,XXREAL_1,MEMBERED,MEMBER_1,TARSKI,XCMPLX_0,MEASURE6,FREEALG,QUANTAL1,SETFAM_1,FINSET_1,COMPLEX1,SEQ_1,SEQ_2,VALUED_0,SEQ_4,PSCOMP_1,RCOMP_1,FUNCOP_1,PRALG_1,PRE_TOPC,PARTFUN1,INT_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,ORDINAL1,FINSET_1,NUMBERS,MEMBERED,ABSVALUE,COMPLEX1,VALUED_0,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,MEMBER_1,FUNCT_3,XXREAL_0,XXREAL_1,XXREAL_2,XXREAL_3,XCMPLX_0,XREAL_0,REAL_1,NAT_1,INT_1,SEQ_1,SEQ_2,SEQ_4,RCOMP_1,SUPINF_1,SUPINF_2,MEASURE5,VALUED_1,CKB4;
definitions SEQ_2,TARSKI,XBOOLE_0,SUPINF_2,XXREAL_2,SUBSET_1,XXREAL_3,FINSET_1,RCOMP_1,VALUED_1,XCMPLX_0,MEMBER_1,CKB4;
theorems SUPINF_2,FUNCT_1,MEASURE5,FUNCT_2,NAT_1,CARD_4,WELLORD2,XREAL_0,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ORDINAL1,MEMBERED,XXREAL_1,XXREAL_2,XXREAL_3,SETFAM_1,TARSKI,RELAT_1,COMPLEX1,ABSVALUE,VALUED_1,SEQ_1,XCMPLX_1,SEQ_4,SEQ_2,RCOMP_1,FUNCOP_1,RELSET_1,INT_1,SUBSET_1,MEMBER_1,CKB1,CKB2,CKB3,CKB4;
schemes RECDEF_1,NAT_1,FINSET_1,FUNCT_2,BINOP_2,DOMAIN_1,FUNCT_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,XXREAL_1,XXREAL_2,XXREAL_3,VALUED_0,VALUED_1,NAT_1,INT_1,SETFAM_1,FINSET_1,MEMBER_1,RCOMP_1,SEQ_2,SEQ_4,FUNCOP_1,FCONT_3,FUNCT_2,MEASURE5,RELSET_1;
constructors WELLORD2,DOMAIN_1,REAL_1,NAT_1,CARD_1,SUPINF_2,MEASURE5,SUPINF_1,RCOMP_1,RELSET_1,COMPLEX1,SEQ_2,SEQM_3,VALUED_0,VALUED_1,SEQ_1,FUNCOP_1,SEQ_4,BINOP_2,LIMFUNC1,MEMBER_1,FUNCT_3,CKB4;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
theorem
(for eps being R_eal holds (( 0. ) < eps implies (ex F being (Function of ( NAT ),( ExtREAL )) st ((for n being (Element of ( NAT )) holds ( 0. ) < ( F . n )) & ( SUM F ) < eps))))
proof
defpred P[ set,set,set ]
 means
(for a,b being R_eal holds (for s being (Element of ( NAT )) holds (((s = $1 & a = $2) & b = $3) implies b = ( a / 2 ))));
let eps being R_eal;
assume ( 0. ) < eps;
then consider x0 being  real number such that A1: ( 0. ) < x0 and A2: x0 < eps by XXREAL_3:3;
consider x being  real number such that A3: ( 0. ) < x and A4: ( x + (x qua  ext-real number) ) < x0 by A1,XXREAL_3:50;
reconsider x as (Element of ( ExtREAL )) by XXREAL_0:def 1;
A5: (for n being (Element of ( NAT )) holds (for x being (Element of ( ExtREAL )) holds (ex y being (Element of ( ExtREAL )) st P[ n,x,y ])))
proof
let n being (Element of ( NAT ));
let x being (Element of ( ExtREAL ));
reconsider m = ( x / 2 ) as (Element of ( ExtREAL )) by XXREAL_0:def 1;
take m;
thus thesis;
end;
consider F being (Function of ( NAT ),( ExtREAL )) such that A6: (( F . ( 0 ) ) = x & (for n being (Element of ( NAT )) holds P[ n,( F . n ),( F . ( n + 1 ) ) ])) from RECDEF_1:sch 2(A5);
take F;
defpred P[ (Element of ( NAT )) ]
 means
( 0. ) < ( F . $1 );
A7: (for k being (Element of ( NAT )) holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A8: ( 0. ) < ( F . k );
( F . ( k + 1 ) ) = ( ( F . k ) / 2 ) by A6;
hence thesis by A8;
end;
A9: P[ ( 0 ) ] by A3,A6;
thus A10: (for n being (Element of ( NAT )) holds P[ n ]) from NAT_1:sch 1(A9,A7);
then (for n being (Element of ( NAT )) holds ( 0. ) <= ( F . n ));
then A11: F is  nonnegative by SUPINF_2:39;
(for s being  ext-real number holds (s in ( rng ( Ser F ) ) implies s <= x0))
proof
defpred P[ (Element of ( NAT )) ]
 means
( ( ( Ser F ) . $1 ) + ( F . $1 ) ) < x0;
let s being  ext-real number;
assume s in ( rng ( Ser F ) );
then consider n being set such that A12: n in ( dom ( Ser F ) ) and A13: s = ( ( Ser F ) . n ) by FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A12;
A14: (for l being (Element of ( NAT )) holds (P[ l ] implies P[ ( l + 1 ) ]))
proof
let l being (Element of ( NAT ));
( F . ( l + 1 ) ) = ( ( F . l ) / 2 ) by A6;
then A15: ( ( ( Ser F ) . l ) + ( ( F . ( l + 1 ) ) + ( F . ( l + 1 ) ) ) ) <= ( ( ( Ser F ) . l ) + ( F . l ) ) by XXREAL_3:105;
(( 0. ) <= ( ( Ser F ) . l ) & ( 0. ) <= ( F . ( l + 1 ) )) by A10,A11,SUPINF_2:40;
then A16: (( ( ( Ser F ) . ( l + 1 ) ) + ( F . ( l + 1 ) ) ) = ( ( ( ( Ser F ) . l ) + ( F . ( l + 1 ) ) ) + ( F . ( l + 1 ) ) ) & ( ( ( ( Ser F ) . l ) + ( F . ( l + 1 ) ) ) + ( F . ( l + 1 ) ) ) <= ( ( ( Ser F ) . l ) + ( F . l ) )) by A15,SUPINF_2:44,XXREAL_3:44;
assume ( ( ( Ser F ) . l ) + ( F . l ) ) < x0;
hence thesis by A16,XXREAL_0:2;
end;
A17: P[ ( 0 ) ] by A4,A6,SUPINF_2:44;
(for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A17,A14);
then A18: ( ( ( Ser F ) . n ) + ( F . n ) ) < x0;
(( 0. ) <= ( ( Ser F ) . n ) & ( 0. ) <= ( F . n )) by A10,A11,SUPINF_2:40;
hence thesis by A13,A18,XXREAL_3:48;
end;
then x0 is (UpperBound of ( rng ( Ser F ) )) by XXREAL_2:def 1;
then A19: ( sup ( rng ( Ser F ) ) ) <= x0 by XXREAL_2:def 3;
per cases  by A19,XXREAL_0:1;
suppose ( SUM F ) < x0;

hence thesis by A2,XXREAL_0:2;
end;
suppose ( SUM F ) = x0;

hence thesis by A2;
end;
end;
