environ
vocabularies NUMBERS,XBOOLE_0,FINSET_1,FINSEQ_1,RELAT_1,TARSKI,RPR_1,NAT_1,CARD_1,SUBSET_1,FUNCT_1,REAL_1,ARYTM_3,UPROOTS,SETFAM_1,MATRPROB,VALUED_1,CARD_3,PROB_2,XXREAL_0,ORDINAL4,PARTFUN1,DIST_1;
notations TARSKI,XBOOLE_0,SUBSET_1,FINSET_1,CARD_1,CARD_3,NUMBERS,XXREAL_0,BINOP_2,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FINSEQ_1,FINSEQ_2,VALUED_1,FUNCT_2,NAT_1,SETFAM_1,RPR_1,PROB_2,RVSUM_1,UPROOTS,MATRPROB,CKB1,CKB4,CKB5,CKB6,CKB9,CKB11,CKB13,CKB15,CKB19,CKB22,CKB26;
definitions TARSKI,RPR_1,FINSEQ_1,RELAT_1,FUNCT_1,CARD_3,CKB6,CKB9,CKB11,CKB13,CKB15,CKB19,CKB22,CKB26;
theorems TARSKI,FINSEQ_2,CARD_2,FINSEQ_4,FUNCT_1,FINSEQ_1,XBOOLE_0,XBOOLE_1,XXREAL_0,PROB_2,NAT_1,RELAT_1,ZFMISC_1,FUNCT_2,XCMPLX_1,VALUED_1,UPROOTS,FINSEQ_5,CARD_1,RVSUM_1,MATRPROB,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB26;
schemes NAT_1,FINSEQ_1,FUNCT_2,SUBSET_1,CLASSES1;
registrations FUNCT_1,SUBSET_1,NAT_1,XREAL_0,XXREAL_0,ORDINAL1,UPROOTS,FINSEQ_1,FUNCT_2,RELAT_1,XBOOLE_0,FINSET_1,NUMBERS,VALUED_0,VALUED_1,CARD_1,MATRPROB,ENTROPY1,CKB2,CKB25;
constructors RPR_1,RVSUM_1,SEQ_1,BINOP_2,PARTFUN3,PROB_2,UPROOTS,MATRPROB,RELSET_1,REAL_1,CKB5,CKB6,CKB9,CKB11,CKB13,CKB15,CKB19,CKB22,CKB26;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
definition
let S being non  empty  finite set;
let s being (FinSequence of S);
func freqSEQ s -> (FinSequence of ( NAT )) means 
:Def9: (( dom it ) = ( Seg ( card S ) ) & (for n being Nat holds (n in ( dom it ) implies ( it . n ) = ( ( len s ) * ( ( FDprobSEQ s ) . n ) ))));
existence
proof
defpred P[ Nat,set ]
 means
$2 = ( ( len s ) * ( ( FDprobSEQ s ) . $1 ) );
A1: (for k being Nat holds (k in ( Seg ( card S ) ) implies (ex x being (Element of ( NAT )) st P[ k,x ])))
proof
A2: ( rng ( canFS S ) ) = S by FUNCT_2:def 3;
let k being Nat;
assume A3: k in ( Seg ( card S ) );
( Seg ( len ( canFS S ) ) ) = ( Seg ( card S ) ) by UPROOTS:3;
then k in ( dom ( canFS S ) ) by A3,FINSEQ_1:def 3;
then ( ( canFS S ) . k ) is (Element of S) by A2,FUNCT_1:3;
then consider a being (Element of S) such that A4: a = ( ( canFS S ) . k );
consider y being Real such that A5: y = ( ( len s ) * ( ( FDprobSEQ s ) . k ) );
take y;
k in ( dom ( FDprobSEQ s ) ) by A3,CKB11:def 1;
then A6: y = ( ( len s ) * ( FDprobability (a,s) ) ) by A5,A4,CKB11:def 1;
y is (Element of ( NAT ))
proof
per cases ;
suppose s = ( {} );

hence thesis by A6;
end;
suppose s <> ( {} );

hence thesis by A6,XCMPLX_1:87;
end;
end;
hence thesis by A5;
end;
consider g being (FinSequence of ( NAT )) such that A7: (( dom g ) = ( Seg ( card S ) ) & (for n being Nat holds (n in ( Seg ( card S ) ) implies P[ n,( g . n ) ]))) from FINSEQ_1:sch 5(A1);
take g;
thus thesis by A7;
end;
uniqueness
proof
let g being (FinSequence of ( NAT ));
let h being (FinSequence of ( NAT ));
assume that
A8: ( dom g ) = ( Seg ( card S ) )
and
A9: (for n being Nat holds (n in ( dom g ) implies ( g . n ) = ( ( len s ) * ( ( FDprobSEQ s ) . n ) )));
assume that
A10: ( dom h ) = ( Seg ( card S ) )
and
A11: (for n being Nat holds (n in ( dom h ) implies ( h . n ) = ( ( len s ) * ( ( FDprobSEQ s ) . n ) )));
A12:now
let n being Nat;
assume A13: n in ( dom g );
hence ( g . n ) = ( ( len s ) * ( ( FDprobSEQ s ) . n ) ) by A9
.= ( h . n ) by A8,A10,A11,A13;
end;
( len g ) = ( card S ) by A8,FINSEQ_1:def 3
.= ( len h ) by A10,FINSEQ_1:def 3;
hence thesis by A12,FINSEQ_2:9;
end;
end;
