environ
vocabularies NUMBERS,STRUCT_0,SUBSET_1,TARSKI,WAYBEL_0,XBOOLE_0,TREES_2,LATTICES,XXREAL_0,FINSET_1,TREES_1,CARD_1,NAT_1,ARYTM_3,ORDERS_2,RELAT_2,ORDERS_1,LATTICE3,EQREL_1,ORDINAL2,YELLOW_0,FUNCT_1,YELLOW_1,CAT_1,PBOOLE,RELAT_1,WELLORD1,COHSP_1,ZFMISC_1,LATTICE7;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,DOMAIN_1,CARD_1,NUMBERS,STRUCT_0,ORDERS_1,PBOOLE,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_4,WAYBEL_1,WAYBEL_0,NAT_1,RELAT_2,COHSP_1,XXREAL_0,CKB1,CKB3,CKB5,CKB14;
definitions TARSKI,WAYBEL_0,WAYBEL_1,LATTICE3,RELAT_2,COHSP_1,CKB1,CKB3,CKB5,CKB14;
theorems WAYBEL_0,WAYBEL_1,WAYBEL_2,YELLOW_0,YELLOW_1,YELLOW_4,LATTICE3,TARSKI,FUNCT_1,FUNCT_2,ORDERS_2,WAYBEL_4,CARD_1,CARD_2,NAT_1,YELLOW_5,COHSP_1,WAYBEL13,WAYBEL_6,RELSET_1,XBOOLE_0,XBOOLE_1,XXREAL_0,ORDINAL1,PARTFUN1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB14,CKB15;
schemes NAT_1,PBOOLE,CKB12;
registrations XBOOLE_0,SUBSET_1,RELAT_1,MEMBERED,STRUCT_0,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,WAYBEL_2,WAYBEL11,YELLOW11,XXREAL_0,RELSET_1,CKB2,CKB13;
constructors DOMAIN_1,XXREAL_0,NAT_1,MEMBERED,COHSP_1,WAYBEL_1,YELLOW_4,RELSET_1,CKB1,CKB3,CKB5,CKB14;
requirements NUMERALS,REAL,SUBSET,BOOLE;
begin
reserve n for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
definition
let L being  finite LATTICE;
let A being non  empty (Chain of L);
func max A -> (Element of L) means 
:Def5: ((for x being (Element of L) holds (x in A implies x <= it)) & it in A);
existence
proof
defpred P[ Nat ]
 means
(ex x being (Element of L) st (x in A & $1 = ( height x )));
(ex k st (P[ k ] & (for n holds (P[ n ] implies n <= k))))
proof
A1: (for k being Nat holds (P[ k ] implies k <= ( card (the carrier of L) )))
proof
let k being Nat;
assume P[ k ];
then consider x being (Element of L) such that x in A and A2: k = ( height x );
(ex B being (Chain of ( Bottom L ),x) st k = ( card B )) by A2,CKB5:def 1;
hence thesis by NAT_1:43;
end;
A3: (ex k being Nat st P[ k ])
proof
consider x being set such that A4: x in A by XBOOLE_0:def 1;
reconsider x as (Element of L) by A4;
(ex B being (Chain of ( Bottom L ),x) st ( height x ) = ( card B )) by CKB5:def 1;
hence thesis by A4;
end;
consider k being Nat such that A5: P[ k ] and A6: (for n being Nat holds (P[ n ] implies n <= k)) from NAT_1:sch 6(A1,A3);
(for n being (Element of ( NAT )) holds (P[ n ] implies n <= k)) by A6;
hence thesis by A5;
end;
then consider k such that A7: (P[ k ] & (for n holds (P[ n ] implies n <= k)));
consider x being (Element of L) such that A8: x in A and A9: (k = ( height x ) & (for n holds ((ex z being (Element of L) st (z in A & n = ( height z ))) implies n <= k))) by A7;
take x;
thus (for w being (Element of L) holds (w in A implies w <= x))
proof
let w being (Element of L);
assume A10: w in A;
then ( height w ) <= ( height x ) by A9;
hence thesis by A8,A10,CKB9:1;
end;

thus thesis by A8;
end;
uniqueness
proof
let s being (Element of L);
let t being (Element of L);
assume (((for x being (Element of L) holds (x in A implies x <= s)) & (s in A & (for y being (Element of L) holds (y in A implies y <= t)))) & t in A);
then (t <= s & s <= t);
hence thesis by ORDERS_2:2;
end;
end;
