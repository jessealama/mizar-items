environ
vocabularies NUMBERS,STRUCT_0,SUBSET_1,TARSKI,WAYBEL_0,XBOOLE_0,TREES_2,LATTICES,XXREAL_0,FINSET_1,TREES_1,CARD_1,NAT_1,ARYTM_3,ORDERS_2,RELAT_2,ORDERS_1,LATTICE3,EQREL_1,ORDINAL2,YELLOW_0,FUNCT_1,YELLOW_1,CAT_1,PBOOLE,RELAT_1,WELLORD1,COHSP_1,ZFMISC_1,LATTICE7;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,DOMAIN_1,CARD_1,NUMBERS,STRUCT_0,ORDERS_1,PBOOLE,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_4,WAYBEL_1,WAYBEL_0,NAT_1,RELAT_2,COHSP_1,XXREAL_0,CKB1,CKB3,CKB5,CKB14,CKB16;
definitions TARSKI,WAYBEL_0,WAYBEL_1,LATTICE3,RELAT_2,COHSP_1,CKB1,CKB3,CKB5,CKB14,CKB16;
theorems WAYBEL_0,WAYBEL_1,WAYBEL_2,YELLOW_0,YELLOW_1,YELLOW_4,LATTICE3,TARSKI,FUNCT_1,FUNCT_2,ORDERS_2,WAYBEL_4,CARD_1,CARD_2,NAT_1,YELLOW_5,COHSP_1,WAYBEL13,WAYBEL_6,RELSET_1,XBOOLE_0,XBOOLE_1,XXREAL_0,ORDINAL1,PARTFUN1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB14,CKB15,CKB16;
schemes NAT_1,PBOOLE,CKB12;
registrations XBOOLE_0,SUBSET_1,RELAT_1,MEMBERED,STRUCT_0,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,WAYBEL_2,WAYBEL11,YELLOW11,XXREAL_0,RELSET_1,CKB2,CKB13;
constructors DOMAIN_1,XXREAL_0,NAT_1,MEMBERED,COHSP_1,WAYBEL_1,YELLOW_4,RELSET_1,CKB1,CKB3,CKB5,CKB14,CKB16;
requirements NUMERALS,REAL,SUBSET,BOOLE;
begin
theorem
Th9: (for L being  finite LATTICE holds (for y being (Element of L) holds (y <> ( Bottom L ) implies (ex x being (Element of L) st x <(1) y))))
proof
let L being  finite LATTICE;
let y being (Element of L);
((ex A being (Chain of ( Bottom L ),y) st ( height y ) = ( card A )) & (for A being (Chain of ( Bottom L ),y) holds ( card A ) <= ( height y ))) by CKB5:def 1;
then consider A being (Chain of ( Bottom L ),y) such that A1: (( height y ) = ( card A ) & (for A being (Chain of ( Bottom L ),y) holds ( card A ) <= ( height y )));
set B = ( A \ { y } );
A2: (the InternalRel of L) is_strongly_connected_in B
proof
let p being set;
let q being set;
((p in B & q in B) implies ([ p,q ] in (the InternalRel of L) or [ q,p ] in (the InternalRel of L)))
proof
assume A3: (p in B & q in B);
then A4: (p in A & q in A) by XBOOLE_0:def 5;
reconsider p,q as (Element of L) by A3;
(p <= q or q <= p) by A4,ORDERS_2:11;
hence thesis by ORDERS_2:def 5;
end;
hence thesis;
end;
assume A5: y <> ( Bottom L );
B is non  empty
proof
( Bottom L ) <= y by YELLOW_0:44;
then A6: ( Bottom L ) in A by CKB3:def 1;
assume A7: B is  empty;
(not ( Bottom L ) in { y }) by A5,TARSKI:def 1;
hence contradiction by A7,A6,XBOOLE_0:def 5;
end;
then reconsider B as non  empty (Chain of L) by A2,ORDERS_2:def 7;
take x = ( max B );
A8: (not (ex z being (Element of L) st (x < z & z < y)))
proof
given z being (Element of L) such that
A9: x < z
and
A10: z < y;

A11: ( Bottom L ) <= y by YELLOW_0:44;
then y in A by CKB3:def 1;
then A12: y in ( A \/ { z } ) by XBOOLE_0:def 3;
set C = ( A \/ { z } );
{ y } c= A
proof
let h being (Element of L);
assume h in { y };
then A13: h = y by TARSKI:def 1;
( Bottom L ) <= y by YELLOW_0:44;
hence thesis by A13,CKB3:def 1;
end;
then A14: A = ( ( A \ { y } ) \/ { y } ) by XBOOLE_1:45;
(the InternalRel of L) is_strongly_connected_in C
proof
let x1 being set;
let y1 being set;
((x1 in C & y1 in C) implies ([ x1,y1 ] in (the InternalRel of L) or [ y1,x1 ] in (the InternalRel of L)))
proof
assume A15: (x1 in C & y1 in C);
per cases  by A15,XBOOLE_0:def 3;
suppose A16: (x1 in A & y1 in A);

then reconsider x1,y1 as (Element of L);
(x1 <= y1 or y1 <= x1) by A16,ORDERS_2:11;
hence thesis by ORDERS_2:def 5;
end;
suppose A17: (x1 in A & y1 in { z });

then A18: y1 = z by TARSKI:def 1;
reconsider x1,y1 as (Element of L) by A17;
(x1 in ( A \ { y } ) or x1 in { y }) by A14,A17,XBOOLE_0:def 3;
then (x1 <= x or x1 = y) by CKB16:def 1,TARSKI:def 1;
then (x1 < y1 or x1 = y) by A9,A18,ORDERS_2:7;
then (x1 <= y1 or y1 < x1) by A10,A17,ORDERS_2:def 6,TARSKI:def 1;
then (x1 <= y1 or y1 <= x1) by ORDERS_2:def 6;
hence thesis by ORDERS_2:def 5;
end;
suppose A19: (y1 in A & x1 in { z });

then A20: x1 = z by TARSKI:def 1;
reconsider x1,y1 as (Element of L) by A19;
(y1 in ( A \ { y } ) or y1 in { y }) by A14,A19,XBOOLE_0:def 3;
then (y1 <= x or y1 = y) by CKB16:def 1,TARSKI:def 1;
then (y1 < x1 or y1 = y) by A9,A20,ORDERS_2:7;
then (y1 <= x1 or x1 <= y1) by A10,A20,ORDERS_2:def 6;
hence thesis by ORDERS_2:def 5;
end;
suppose A21: (x1 in { z } & y1 in { z });

then reconsider x1,y1 as (Element of L);
x1 = z by A21,TARSKI:def 1;
then x1 <= y1 by A21,TARSKI:def 1;
hence thesis by ORDERS_2:def 5;
end;
end;
hence thesis;
end;
then A22: C is  strongly_connected  strongly_connected (Subset of L) by ORDERS_2:def 7;
A23: z <= y by A10,ORDERS_2:def 6;
A24: (for v being (Element of L) holds (v in ( A \/ { z } ) implies (( Bottom L ) <= v & v <= y)))
proof
let v being (Element of L);
assume A25: v in ( A \/ { z } );
per cases  by A25,XBOOLE_0:def 3;
suppose A26: v in A;

thus ( Bottom L ) <= v by YELLOW_0:44;
thus thesis by A11,A26,CKB3:def 1;
end;
suppose v in { z };

hence thesis by A23,TARSKI:def 1,YELLOW_0:44;
end;
end;
(not z in A)
proof
assume A27: z in A;
(not z in { y }) by A10,TARSKI:def 1;
then z in B by A27,XBOOLE_0:def 5;
then z <= x by CKB16:def 1;
hence contradiction by A9,ORDERS_2:7;
end;
then A28: ( card ( A \/ { z } ) ) = ( ( card A ) + 1 ) by CARD_2:41;
( Bottom L ) in A by A11,CKB3:def 1;
then ( Bottom L ) in ( A \/ { z } ) by XBOOLE_0:def 3;
then ( A \/ { z } ) is (Chain of ( Bottom L ),y) by A22,A11,A12,A24,CKB3:def 1;
then ( ( card A ) + 1 ) <= ( card A ) by A1,A28;
hence contradiction by NAT_1:13;
end;
A29: x in B by CKB16:def 1;
then (not x in { y }) by XBOOLE_0:def 5;
then A30: (not x = y) by TARSKI:def 1;
(( Bottom L ) <= y & x in A) by A29,XBOOLE_0:def 5,YELLOW_0:44;
then x <= y by CKB3:def 1;
then x < y by A30,ORDERS_2:def 6;
hence thesis by A8,CKB14:def 1;
end;
