environ
vocabularies SCMFSA_2,XBOOLE_0,AMI_1,GRAPHSP,AMI_3,FINSEQ_1,FUNCT_1,SUBSET_1,FINSUB_1,SETWISEO,CARD_1,TARSKI,CARD_3,RELAT_1,ZFMISC_1,SCMNORM,FINSET_1,NUMBERS,FUNCT_4,VALUED_1,ARYTM_3,AMISTD_2,XXREAL_0,SCMFSA6A,TURING_1,FSM_1,CIRCUIT2,STRUCT_0,ARYTM_1,INT_1,COMPLEX1,PARTFUN1,FINSEQ_2,NAT_1,SF_MASTR,ORDINAL1,RELOC,AMI_2,PBOOLE,SCMFSA6C,COMPOS_1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,FINSET_1,FINSUB_1,NAT_1,INT_1,VALUED_1,STRUCT_0,SETWISEO,SEQ_4,CARD_3,FINSEQ_1,FINSEQ_2,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_4,PBOOLE,FUNCT_7,MEMSTR_0,COMPOS_1,AMI_2,EXTPRO_1,AMI_3,SCMFSA_2,AMISTD_2,SCMFSA6A,INT_2,XXREAL_0,CKB14,CKB21,CKB36,CKB40,CKB55,CKB56,CKB59,CKB62,CKB69,CKB72;
definitions XBOOLE_0,FUNCOP_1,MEMSTR_0,EXTPRO_1,COMPOS_1,AMI_3,SCMFSA_2,SCMFSA6A,AMISTD_2,CKB14,CKB21,CKB36,CKB40,CKB55,CKB59,CKB62,CKB69,CKB72;
theorems TARSKI,ENUMSET1,ZFMISC_1,FINSEQ_1,FINSUB_1,SETWISEO,NAT_1,RELAT_1,GRFUNC_1,FUNCT_1,FUNCT_2,FUNCT_4,FUNCT_7,CARD_3,SCMFSA_2,SCMFSA_4,XBOOLE_0,XBOOLE_1,ORDINAL1,AMI_2,MEMSTR_0,AMI_3,VALUED_1,XXREAL_2,PARTFUN1,MCART_1,COMPOS_1,EXTPRO_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB59,CKB60,CKB61,CKB62,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79;
schemes NAT_1,DOMAIN_1,FUNCT_2;
registrations SETFAM_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,FINSUB_1,NUMBERS,XREAL_0,INT_1,MEMBERED,CARD_3,SCMFSA_2,XBOOLE_0,XXREAL_2,VALUED_1,FINSEQ_1,AMISTD_2,AMI_3,SCMFSA10,COMPOS_1,EXTPRO_1,CARD_5,ZFMISC_1,AMI_2,CARD_1,PBOOLE,SCMFSA_4,MEMSTR_0,CARD_2,CKB1,CKB22,CKB41,CKB57,CKB58,CKB63;
constructors SETWISEO,INT_2,SEQ_4,AMI_3,SCMFSA6A,RELSET_1,VALUED_1,AMISTD_2,AMISTD_1,AMI_2,SCMFSA_1,CARD_5,PRE_POLY,DOMAIN_1,PBOOLE,FUNCT_7,MEMSTR_0,CKB14,CKB21,CKB36,CKB40,CKB55,CKB59,CKB62,CKB69,CKB72;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve a for Int-Location;
reserve b for Int-Location;
reserve l for (Element of ( NAT ));
reserve f for FinSeq-Location;
reserve i for (Instruction of ( SCM+FSA ));
reserve m for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve s for (State of ( SCM+FSA ));
reserve t for (State of ( SCM+FSA ));
theorem
Th72: (((( s | ( UsedIntLoc i ) ) = ( t | ( UsedIntLoc i ) ) & ( s | ( UsedInt*Loc i ) ) = ( t | ( UsedInt*Loc i ) )) & ( IC s ) = ( IC t )) implies ((( IC ( Exec (i,s) ) ) = ( IC ( Exec (i,t) ) ) & ( ( Exec (i,s) ) | ( UsedIntLoc i ) ) = ( ( Exec (i,t) ) | ( UsedIntLoc i ) )) & ( ( Exec (i,s) ) | ( UsedInt*Loc i ) ) = ( ( Exec (i,t) ) | ( UsedInt*Loc i ) )))
proof
assume that
A1: ( s | ( UsedIntLoc i ) ) = ( t | ( UsedIntLoc i ) )
and
A2: ( s | ( UsedInt*Loc i ) ) = ( t | ( UsedInt*Loc i ) )
and
A3: ( IC s ) = ( IC t );
set UFi = ( UsedInt*Loc i );
set Ui = ( UsedIntLoc i );
set Et = ( Exec (i,t) );
set Es = ( Exec (i,s) );
A4: ( dom Es ) = (the carrier of ( SCM+FSA )) by PARTFUN1:def 2
.= ( dom Et ) by PARTFUN1:def 2;
A7: ( InsCode i ) <= 12 by SCMFSA_2:16;
per cases  by A7,NAT_1:36;
suppose ( InsCode i ) = ( 0 );

then A8: i = ( halt ( SCM+FSA ) ) by SCMFSA_2:95;
then ( Exec (i,s) ) = s by EXTPRO_1:def 3;
hence thesis by A1,A2,A3,A8,EXTPRO_1:def 3;
end;
suppose ( InsCode i ) = 1;

then consider a,b such that A9: i = ( a := b ) by SCMFSA_2:30;
A10: Ui = { a,b } by A9,CKB16:1;
then A11: b in Ui by TARSKI:def 2;
then ( s . b ) = ( ( s | Ui ) . b ) by FUNCT_1:49;
then A12: ( s . b ) = ( t . b ) by A1,A11,FUNCT_1:49;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A9,SCMFSA_2:63
.= ( IC Et ) by A9,SCMFSA_2:63;
(a = b or a <> b);
then A13: (( Es . b ) = ( s . b ) & ( Et . b ) = ( t . b )) by A9,SCMFSA_2:63;
(( Es . a ) = ( s . b ) & ( Et . a ) = ( t . b )) by A9,SCMFSA_2:63;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A10,A12,A13,GRFUNC_1:30;
A14: UFi = ( {} ) by A9,CKB37:1;
hence ( Es | UFi ) = ( {} ) by RELAT_1:81
.= ( Et | UFi ) by A14,RELAT_1:81;
end;
suppose ( InsCode i ) = 2;

then consider a,b such that A15: i = ( AddTo (a,b) ) by SCMFSA_2:31;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A15,SCMFSA_2:64
.= ( IC Et ) by A15,SCMFSA_2:64;
A16: Ui = { a,b } by A15,CKB16:1;
then A17: a in Ui by TARSKI:def 2;
then ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A18: ( s . a ) = ( t . a ) by A1,A17,FUNCT_1:49;
A19:now
per cases ;
case a = b;
hence (( Es . b ) = ( ( s . a ) + ( s . b ) ) & ( Et . b ) = ( ( t . a ) + ( t . b ) )) by A15,SCMFSA_2:64;
end;
case a <> b;
hence (( Es . b ) = ( s . b ) & ( Et . b ) = ( t . b )) by A15,SCMFSA_2:64;
end;
end;
A20: b in Ui by A16,TARSKI:def 2;
then ( s . b ) = ( ( s | Ui ) . b ) by FUNCT_1:49;
then A21: ( s . b ) = ( t . b ) by A1,A20,FUNCT_1:49;
(( Es . a ) = ( ( s . a ) + ( s . b ) ) & ( Et . a ) = ( ( t . a ) + ( t . b ) )) by A15,SCMFSA_2:64;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A16,A18,A21,A19,GRFUNC_1:30;
A22: UFi = ( {} ) by A15,CKB37:1;
hence ( Es | UFi ) = ( {} ) by RELAT_1:81
.= ( Et | UFi ) by A22,RELAT_1:81;
end;
suppose ( InsCode i ) = 3;

then consider a,b such that A23: i = ( SubFrom (a,b) ) by SCMFSA_2:32;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A23,SCMFSA_2:65
.= ( IC Et ) by A23,SCMFSA_2:65;
A24: Ui = { a,b } by A23,CKB16:1;
then A25: a in Ui by TARSKI:def 2;
then ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A26: ( s . a ) = ( t . a ) by A1,A25,FUNCT_1:49;
A27:now
per cases ;
case a = b;
hence (( Es . b ) = ( ( s . a ) - ( s . b ) ) & ( Et . b ) = ( ( t . a ) - ( t . b ) )) by A23,SCMFSA_2:65;
end;
case a <> b;
hence (( Es . b ) = ( s . b ) & ( Et . b ) = ( t . b )) by A23,SCMFSA_2:65;
end;
end;
A28: b in Ui by A24,TARSKI:def 2;
then ( s . b ) = ( ( s | Ui ) . b ) by FUNCT_1:49;
then A29: ( s . b ) = ( t . b ) by A1,A28,FUNCT_1:49;
(( Es . a ) = ( ( s . a ) - ( s . b ) ) & ( Et . a ) = ( ( t . a ) - ( t . b ) )) by A23,SCMFSA_2:65;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A24,A26,A29,A27,GRFUNC_1:30;
A30: UFi = ( {} ) by A23,CKB37:1;
hence ( Es | UFi ) = ( {} ) by RELAT_1:81
.= ( Et | UFi ) by A30,RELAT_1:81;
end;
suppose ( InsCode i ) = 4;

then consider a,b such that A31: i = ( MultBy (a,b) ) by SCMFSA_2:33;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A31,SCMFSA_2:66
.= ( IC Et ) by A31,SCMFSA_2:66;
A32: Ui = { a,b } by A31,CKB16:1;
then A33: a in Ui by TARSKI:def 2;
then ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A34: ( s . a ) = ( t . a ) by A1,A33,FUNCT_1:49;
A35:now
per cases ;
case a = b;
hence (( Es . b ) = ( ( s . a ) * ( s . b ) ) & ( Et . b ) = ( ( t . a ) * ( t . b ) )) by A31,SCMFSA_2:66;
end;
case a <> b;
hence (( Es . b ) = ( s . b ) & ( Et . b ) = ( t . b )) by A31,SCMFSA_2:66;
end;
end;
A36: b in Ui by A32,TARSKI:def 2;
then ( s . b ) = ( ( s | Ui ) . b ) by FUNCT_1:49;
then A37: ( s . b ) = ( t . b ) by A1,A36,FUNCT_1:49;
(( Es . a ) = ( ( s . a ) * ( s . b ) ) & ( Et . a ) = ( ( t . a ) * ( t . b ) )) by A31,SCMFSA_2:66;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A32,A34,A37,A35,GRFUNC_1:30;
A38: UFi = ( {} ) by A31,CKB37:1;
hence ( Es | UFi ) = ( {} ) by RELAT_1:81
.= ( Et | UFi ) by A38,RELAT_1:81;
end;
suppose ( InsCode i ) = 5;

then consider a,b such that A39: i = ( Divide (a,b) ) by SCMFSA_2:34;
A40: Ui = { a,b } by A39,CKB16:1;
then A41: a in Ui by TARSKI:def 2;
then ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A42: ( s . a ) = ( t . a ) by A1,A41,FUNCT_1:49;
A43: UFi = ( {} ) by A39,CKB37:1;
A44: b in Ui by A40,TARSKI:def 2;
then ( s . b ) = ( ( s | Ui ) . b ) by FUNCT_1:49;
then A45: ( s . b ) = ( t . b ) by A1,A44,FUNCT_1:49;
hereby
per cases ;
suppose A46: a = b;

hence ( IC Es ) = ( succ ( IC t ) ) by A3,A39,SCMFSA_2:68
.= ( IC Et ) by A39,A46,SCMFSA_2:68;
(( Es . a ) = ( ( s . a ) mod ( s . a ) ) & ( Et . a ) = ( ( t . a ) mod ( t . b ) )) by A39,A46,SCMFSA_2:68;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A40,A42,A46,GRFUNC_1:30;
thus ( Es | UFi ) = ( {} ) by A43,RELAT_1:81
.= ( Et | UFi ) by A43,RELAT_1:81;
end;
suppose A47: a <> b;

thus ( IC Es ) = ( succ ( IC t ) ) by A3,A39,SCMFSA_2:67
.= ( IC Et ) by A39,SCMFSA_2:67;
A48: (( Es . b ) = ( ( s . a ) mod ( s . b ) ) & ( Et . b ) = ( ( t . a ) mod ( t . b ) )) by A39,SCMFSA_2:67;
(( Es . a ) = ( ( s . a ) div ( s . b ) ) & ( Et . a ) = ( ( t . a ) div ( t . b ) )) by A39,A47,SCMFSA_2:67;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A40,A42,A45,A48,GRFUNC_1:30;
thus ( Es | UFi ) = ( {} ) by A43,RELAT_1:81
.= ( Et | UFi ) by A43,RELAT_1:81;
end;
end;
end;
suppose ( InsCode i ) = 6;

then consider l such that A49: i = ( goto l ) by SCMFSA_2:35;
thus ( IC Es ) = l by A49,SCMFSA_2:69
.= ( IC Et ) by A49,SCMFSA_2:69;
A50: Ui = ( {} ) by A49,CKB17:1;
hence ( Es | Ui ) = ( {} ) by RELAT_1:81
.= ( Et | Ui ) by A50,RELAT_1:81;
A51: UFi = ( {} ) by A49,CKB37:1;
hence ( Es | UFi ) = ( {} ) by RELAT_1:81
.= ( Et | UFi ) by A51,RELAT_1:81;
end;
suppose ( InsCode i ) = 7;

then consider l,a such that A52: i = ( a =0_goto l ) by SCMFSA_2:36;
A53: Ui = { a } by A52,CKB18:1;
then A54: a in Ui by TARSKI:def 1;
then A55: ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A56: ( s . a ) = ( t . a ) by A1,A54,FUNCT_1:49;
hereby
per cases ;
suppose A57: ( s . a ) = ( 0 );

hence ( IC Es ) = l by A52,SCMFSA_2:70
.= ( IC Et ) by A52,A56,A57,SCMFSA_2:70;
end;
suppose A58: ( s . a ) <> ( 0 );

hence ( IC Es ) = ( succ ( IC s ) ) by A52,SCMFSA_2:70
.= ( IC Et ) by A3,A52,A56,A58,SCMFSA_2:70;
end;
end;
(( Es . a ) = ( s . a ) & ( Et . a ) = ( t . a )) by A52,SCMFSA_2:70;
hence ( Es | Ui ) = ( Et | Ui ) by A1,A4,A53,A54,A55,FUNCT_1:49,GRFUNC_1:29;
A59: UFi = ( {} ) by A52,CKB37:1;
hence ( Es | UFi ) = ( {} ) by RELAT_1:81
.= ( Et | UFi ) by A59,RELAT_1:81;
end;
suppose ( InsCode i ) = 8;

then consider l,a such that A60: i = ( a >0_goto l ) by SCMFSA_2:37;
A61: Ui = { a } by A60,CKB18:1;
then A62: a in Ui by TARSKI:def 1;
then A63: ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A64: ( s . a ) = ( t . a ) by A1,A62,FUNCT_1:49;
hereby
per cases ;
suppose A65: ( s . a ) > ( 0 );

hence ( IC Es ) = l by A60,SCMFSA_2:71
.= ( IC Et ) by A60,A64,A65,SCMFSA_2:71;
end;
suppose A66: ( s . a ) <= ( 0 );

hence ( IC Es ) = ( succ ( IC s ) ) by A60,SCMFSA_2:71
.= ( IC Et ) by A3,A60,A64,A66,SCMFSA_2:71;
end;
end;
(( Es . a ) = ( s . a ) & ( Et . a ) = ( t . a )) by A60,SCMFSA_2:71;
hence ( Es | Ui ) = ( Et | Ui ) by A1,A4,A61,A62,A63,FUNCT_1:49,GRFUNC_1:29;
A67: UFi = ( {} ) by A60,CKB37:1;
hence ( Es | UFi ) = ( {} ) by RELAT_1:81
.= ( Et | UFi ) by A67,RELAT_1:81;
end;
suppose ( InsCode i ) = 9;

then consider a,b,f such that A68: i = ( b := (f,a) ) by SCMFSA_2:38;
A69: Ui = { a,b } by A68,CKB19:1;
then A70: a in Ui by TARSKI:def 2;
then ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A71: ( s . a ) = ( t . a ) by A1,A70,FUNCT_1:49;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A68,SCMFSA_2:72
.= ( IC Et ) by A68,SCMFSA_2:72;
A72: UFi = { f } by A68,CKB38:1;
then A73: f in UFi by TARSKI:def 1;
then A74: ( s . f ) = ( ( s | UFi ) . f ) by FUNCT_1:49;
A75: ((ex m st (m = ( abs ( s . a ) ) & ( Es . b ) = ( ( s . f ) /. m ))) & (ex n st (n = ( abs ( t . a ) ) & ( Et . b ) = ( ( t . f ) /. n )))) by A68,SCMFSA_2:72;
A76:now
per cases ;
case a = b;
thus ( Es . b ) = ( Et . b ) by A2,A73,A74,A71,A75,FUNCT_1:49;
end;
case a <> b;
hence (( Es . a ) = ( s . a ) & ( Et . a ) = ( t . a )) by A68,SCMFSA_2:72;
end;
end;
( s . f ) = ( t . f ) by A2,A73,A74,FUNCT_1:49;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A69,A71,A75,A76,GRFUNC_1:30;
(( Es . f ) = ( s . f ) & ( Et . f ) = ( t . f )) by A68,SCMFSA_2:72;
hence thesis by A2,A4,A72,A73,A74,FUNCT_1:49,GRFUNC_1:29;
end;
suppose ( InsCode i ) = 10;

then consider a,b,f such that A77: i = ( (f,a) := b ) by SCMFSA_2:39;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A77,SCMFSA_2:73
.= ( IC Et ) by A77,SCMFSA_2:73;
A78: (( Et . a ) = ( t . a ) & ( Et . b ) = ( t . b )) by A77,SCMFSA_2:73;
A79: Ui = { a,b } by A77,CKB19:1;
then A80: a in Ui by TARSKI:def 2;
then ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
then A81: ( s . a ) = ( t . a ) by A1,A80,FUNCT_1:49;
A82: b in Ui by A79,TARSKI:def 2;
then ( s . b ) = ( ( s | Ui ) . b ) by FUNCT_1:49;
then A83: ( s . b ) = ( t . b ) by A1,A82,FUNCT_1:49;
A84: UFi = { f } by A77,CKB38:1;
then A85: f in UFi by TARSKI:def 1;
then ( s . f ) = ( ( s | UFi ) . f ) by FUNCT_1:49;
then A86: ( s . f ) = ( t . f ) by A2,A85,FUNCT_1:49;
(( Es . a ) = ( s . a ) & ( Es . b ) = ( s . b )) by A77,SCMFSA_2:73;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A79,A81,A83,A78,GRFUNC_1:30;
((ex m st (m = ( abs ( s . a ) ) & ( Es . f ) = ( ( s . f ) +* (m,( s . b )) ))) & (ex n st (n = ( abs ( t . a ) ) & ( Et . f ) = ( ( t . f ) +* (n,( t . b )) )))) by A77,SCMFSA_2:73;
hence thesis by A4,A84,A81,A83,A86,GRFUNC_1:29;
end;
suppose ( InsCode i ) = 11;

then consider a,f such that A87: i = ( a :=len f ) by SCMFSA_2:40;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A87,SCMFSA_2:74
.= ( IC Et ) by A87,SCMFSA_2:74;
A88: ( Et . a ) = ( len ( t . f ) ) by A87,SCMFSA_2:74;
A89: (Ui = { a } & ( Es . a ) = ( len ( s . f ) )) by A87,CKB20:1,SCMFSA_2:74;
A90: UFi = { f } by A87,CKB39:1;
then A91: f in UFi by TARSKI:def 1;
then A92: ( s . f ) = ( ( s | UFi ) . f ) by FUNCT_1:49;
then ( s . f ) = ( t . f ) by A2,A91,FUNCT_1:49;
hence ( Es | Ui ) = ( Et | Ui ) by A4,A89,A88,GRFUNC_1:29;
(( Es . f ) = ( s . f ) & ( Et . f ) = ( t . f )) by A87,SCMFSA_2:74;
hence thesis by A2,A4,A90,A91,A92,FUNCT_1:49,GRFUNC_1:29;
end;
suppose ( InsCode i ) = 12;

then consider a,f such that A93: i = ( f :=<0,...,0> a ) by SCMFSA_2:41;
thus ( IC Es ) = ( succ ( IC t ) ) by A3,A93,SCMFSA_2:75
.= ( IC Et ) by A93,SCMFSA_2:75;
A94: Ui = { a } by A93,CKB20:1;
then A95: a in Ui by TARSKI:def 1;
then A96: ( s . a ) = ( ( s | Ui ) . a ) by FUNCT_1:49;
A97: (UFi = { f } & (ex m st (m = ( abs ( s . a ) ) & ( Es . f ) = ( m |-> ( 0 ) )))) by A93,CKB39:1,SCMFSA_2:75;
(( Es . a ) = ( s . a ) & ( Et . a ) = ( t . a )) by A93,SCMFSA_2:75;
hence ( Es | Ui ) = ( Et | Ui ) by A1,A4,A94,A95,A96,FUNCT_1:49,GRFUNC_1:29;
A98: (ex n st (n = ( abs ( t . a ) ) & ( Et . f ) = ( n |-> ( 0 ) ))) by A93,SCMFSA_2:75;
( s . a ) = ( t . a ) by A1,A95,A96,FUNCT_1:49;
hence thesis by A4,A97,A98,GRFUNC_1:29;
end;
end;
