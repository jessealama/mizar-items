environ
vocabularies NUMBERS,ORDINAL1,XBOOLE_0,PROB_1,MEASURE1,FUNCT_1,SUBSET_1,XXREAL_0,ARYTM_3,RELAT_1,SETFAM_1,TARSKI,MEASURE2,ARYTM_1,SETLIM_1,NAT_1,ORDINAL2,CARD_3,CARD_1,SEQ_2,SEQFUNC,PARTFUN1,PBOOLE,RINFSUP1,XREAL_0,MESFUNC1,MEASURE6,XXREAL_2,ZFMISC_1,MESFUNC5,VALUED_0,COMPLEX1,REAL_1,SUPINF_2,SEQ_1,FUNCOP_1,VALUED_1,PREPOWER,NEWTON,SERIES_1,MESFUNC8,SEQ_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,XXREAL_0,XXREAL_2,VALUED_0,PROB_1,REAL_1,SETFAM_1,MEASURE1,KURATO_0,SETLIM_1,MEASURE2,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,RFUNCT_3,FUNCT_2,SUPINF_2,RINFSUP1,SEQFUNC,MEASURE6,VALUED_1,NAT_1,SEQ_1,SEQ_2,SEQ_4,NEWTON,PREPOWER,SERIES_1,EXTREAL1,MESFUNC1,MESFUNC5,RINFSUP2,CARD_3,FUNCOP_1,CKB7,CKB8,CKB10,CKB11,CKB12;
definitions TARSKI,CARD_3,FUNCT_6,MEASURE6,RINFSUP1,SETLIM_1,XCMPLX_0,RINFSUP2,VALUED_1,XXREAL_3,XXREAL_2,CKB7,CKB8,CKB10,CKB11,CKB12;
theorems ABSVALUE,MEASURE1,MEASURE2,MEASURE3,NAT_1,TARSKI,PARTFUN1,FUNCT_1,FUNCT_2,KURATO_0,SUPINF_2,EXTREAL2,SETFAM_1,SEQ_1,SEQ_2,SEQM_3,SEQ_4,SERIES_1,RINFSUP1,MESFUNC1,XREAL_0,PROB_1,XBOOLE_0,XBOOLE_1,MESFUNC2,XREAL_1,PREPOWER,XXREAL_0,ZFMISC_1,SETLIM_1,PROB_4,PARTFUN2,ORDINAL1,MESFUNC5,RINFSUP2,CARD_3,XXREAL_2,VALUED_0,FUNCOP_1,XXREAL_3,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12;
schemes FUNCT_2,SEQFUNC,PARTFUN2;
registrations SUBSET_1,XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,FUNCT_2,RELAT_1,XXREAL_0,XBOOLE_0,FUNCT_1,NUMBERS,VALUED_0,VALUED_1,SETLIM_1,SEQ_4,NAT_1,XXREAL_3,RELSET_1,MEASURE6,CKB9;
constructors REAL_1,NAT_1,EXTREAL1,NEWTON,PREPOWER,SERIES_1,MESFUNC1,PROB_2,MEASURE6,MEASURE3,PARTFUN3,KURATO_0,RINFSUP1,SETLIM_1,MESFUNC5,RINFSUP2,SEQ_1,SUPINF_1,SEQFUNC,SEQ_4,RELSET_1,BINOP_2,RVSUM_1,CKB7,CKB10,CKB11,CKB12;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve n for  natural number;
definition
let X being non empty set;
let f being (Functional_Sequence of X,( ExtREAL ));
func superior_realsequence f ->  with_the_same_dom (Functional_Sequence of X,( ExtREAL ))
means
:Def6: (for n being  natural number holds (( dom ( it . n ) ) = ( dom ( f . ( 0 ) ) ) & (for x being (Element of X) holds (x in ( dom ( it . n ) ) implies ( ( it . n ) . x ) = ( ( superior_realsequence ( f # x ) ) . n )))));
existence
proof
defpred P[ (Element of ( NAT )),Function ]
 means
(( dom $2 ) = ( dom ( f . ( 0 ) ) ) & (for x being (Element of X) holds (x in ( dom $2 ) implies ( $2 . x ) = ( ( superior_realsequence ( f # x ) ) . $1 ))));
A1: (for n being (Element of ( NAT )) holds (ex y being (Element of ( PFuncs (X,( ExtREAL )) )) st P[ n,y ]))
proof
defpred P[ set ]
 means
$1 in ( dom ( f . ( 0 ) ) );
let n being (Element of ( NAT ));
deffunc F((Element of X)) = ( ( superior_realsequence ( f # $1 ) ) . n );
consider g being (PartFunc of X,( ExtREAL )) such that A2: ((for x being (Element of X) holds (x in ( dom g ) iff P[ x ])) & (for x being (Element of X) holds (x in ( dom g ) implies ( g /. x ) = F(x)))) from PARTFUN2:sch 2;
take g;
A3:now
let x being (Element of X);
assume A4: x in ( dom g );
then ( g /. x ) = ( ( superior_realsequence ( f # x ) ) . n ) by A2;
hence ( g . x ) = ( ( superior_realsequence ( f # x ) ) . n ) by A4,PARTFUN1:def 6;
end;
(for x being set holds (x in ( dom g ) iff x in ( dom ( f . ( 0 ) ) ))) by A2;
hence thesis by A3,PARTFUN1:45,TARSKI:1;
end;
consider g being (Function of ( NAT ),( PFuncs (X,( ExtREAL )) )) such that A5: (for n being (Element of ( NAT )) holds P[ n,( g . n ) ]) from FUNCT_2:sch 10(A1);
A6: (for n holds (( dom ( g . n ) ) = ( dom ( f . ( 0 ) ) ) & (for x being (Element of X) holds (x in ( dom ( g . n ) ) implies ( ( g . n ) . x ) = ( ( superior_realsequence ( f # x ) ) . n )))))
proof
let n;
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
( dom ( g . n9 ) ) = ( dom ( f . ( 0 ) ) ) by A5;
hence thesis by A5;
end;
reconsider g as (Functional_Sequence of X,( ExtREAL ));
now
let k being Nat,l being Nat;
reconsider k9 = k,l9 = l as (Element of ( NAT )) by ORDINAL1:def 12;
( dom ( g . k9 ) ) = ( dom ( f . ( 0 ) ) ) by A5;
then ( dom ( g . k ) ) = ( dom ( g . l9 ) ) by A5;
hence ( dom ( g . k ) ) = ( dom ( g . l ) );
end;
then reconsider g as  with_the_same_dom (Functional_Sequence of X,( ExtREAL )) by CKB8:def 1;
take g;
thus thesis by A6;
end;
uniqueness
proof
let g being  with_the_same_dom (Functional_Sequence of X,( ExtREAL )),h being  with_the_same_dom (Functional_Sequence of X,( ExtREAL ));
assume A7: (for n holds (( dom ( g . n ) ) = ( dom ( f . ( 0 ) ) ) & (for x being (Element of X) holds (x in ( dom ( g . n ) ) implies ( ( g . n ) . x ) = ( ( superior_realsequence ( f # x ) ) . n )))));
assume A8: (for n holds (( dom ( h . n ) ) = ( dom ( f . ( 0 ) ) ) & (for x being (Element of X) holds (x in ( dom ( h . n ) ) implies ( ( h . n ) . x ) = ( ( superior_realsequence ( f # x ) ) . n )))));
now
let n being (Element of ( NAT ));
A9: ( dom ( g . n ) ) = ( dom ( f . ( 0 ) ) ) by A7
.= ( dom ( h . n ) ) by A8;
now
let x being (Element of X);
assume A10: x in ( dom ( g . n ) );
then ( ( g . n ) /. x ) = ( ( g . n ) . x ) by PARTFUN1:def 6;
then ( ( g . n ) /. x ) = ( ( superior_realsequence ( f # x ) ) . n ) by A7,A10;
then ( ( g . n ) /. x ) = ( ( h . n ) . x ) by A8,A9,A10;
hence ( ( g . n ) /. x ) = ( ( h . n ) /. x ) by A9,A10,PARTFUN1:def 6;
end;
hence ( g . n ) = ( h . n ) by A9,PARTFUN2:1;
end;
hence thesis by FUNCT_2:63;
end;
end;
