environ
vocabularies NUMBERS,ORDINAL1,XBOOLE_0,PROB_1,MEASURE1,FUNCT_1,SUBSET_1,XXREAL_0,ARYTM_3,RELAT_1,SETFAM_1,TARSKI,MEASURE2,ARYTM_1,SETLIM_1,NAT_1,ORDINAL2,CARD_3,CARD_1,SEQ_2,SEQFUNC,PARTFUN1,PBOOLE,RINFSUP1,XREAL_0,MESFUNC1,MEASURE6,XXREAL_2,ZFMISC_1,MESFUNC5,VALUED_0,COMPLEX1,REAL_1,SUPINF_2,SEQ_1,FUNCOP_1,VALUED_1,PREPOWER,NEWTON,SERIES_1,MESFUNC8,SEQ_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,XXREAL_0,XXREAL_2,VALUED_0,PROB_1,REAL_1,SETFAM_1,MEASURE1,KURATO_0,SETLIM_1,MEASURE2,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,RFUNCT_3,FUNCT_2,SUPINF_2,RINFSUP1,SEQFUNC,MEASURE6,VALUED_1,NAT_1,SEQ_1,SEQ_2,SEQ_4,NEWTON,PREPOWER,SERIES_1,EXTREAL1,MESFUNC1,MESFUNC5,RINFSUP2,CARD_3,FUNCOP_1,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB19,CKB20,CKB24;
definitions TARSKI,CARD_3,FUNCT_6,MEASURE6,RINFSUP1,SETLIM_1,XCMPLX_0,RINFSUP2,VALUED_1,XXREAL_3,XXREAL_2,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB19,CKB20,CKB24;
theorems ABSVALUE,MEASURE1,MEASURE2,MEASURE3,NAT_1,TARSKI,PARTFUN1,FUNCT_1,FUNCT_2,KURATO_0,SUPINF_2,EXTREAL2,SETFAM_1,SEQ_1,SEQ_2,SEQM_3,SEQ_4,SERIES_1,RINFSUP1,MESFUNC1,XREAL_0,PROB_1,XBOOLE_0,XBOOLE_1,MESFUNC2,XREAL_1,PREPOWER,XXREAL_0,ZFMISC_1,SETLIM_1,PROB_4,PARTFUN2,ORDINAL1,MESFUNC5,RINFSUP2,CARD_3,XXREAL_2,VALUED_0,FUNCOP_1,XXREAL_3,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40;
schemes FUNCT_2,SEQFUNC,PARTFUN2;
registrations SUBSET_1,XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,FUNCT_2,RELAT_1,XXREAL_0,XBOOLE_0,FUNCT_1,NUMBERS,VALUED_0,VALUED_1,SETLIM_1,SEQ_4,NAT_1,XXREAL_3,RELSET_1,MEASURE6,CKB9,CKB15;
constructors REAL_1,NAT_1,EXTREAL1,NEWTON,PREPOWER,SERIES_1,MESFUNC1,PROB_2,MEASURE6,MEASURE3,PARTFUN3,KURATO_0,RINFSUP1,SETLIM_1,MESFUNC5,RINFSUP2,SEQ_1,SUPINF_1,SEQFUNC,SEQ_4,RELSET_1,BINOP_2,RVSUM_1,CKB7,CKB10,CKB11,CKB12,CKB13,CKB19,CKB20,CKB24;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for non empty set;
reserve S for (SigmaField of X);
theorem
(for M being (sigma_Measure of S) holds (for f being  with_the_same_dom (Functional_Sequence of X,( ExtREAL )) holds (for g being (PartFunc of X,( ExtREAL )) holds (for E being (Element of S) holds (((((( dom ( f . ( 0 ) ) ) = E & (for n being  natural number holds ( f . n ) is_measurable_on E)) & ( M . E ) < ( +infty )) & (for n being  natural number holds (ex L being (Element of S) st ((L c= E & ( M . ( E \ L ) ) = ( 0 )) & (for x being (Element of X) holds (x in L implies |. ( ( f . n ) . x ) .| < ( +infty ))))))) & (ex G being (Element of S) st ((((G c= E & ( M . ( E \ G ) ) = ( 0 )) & (for x being (Element of X) holds (x in E implies ( f # x ) is  convergent_to_finite_number))) & ( dom g ) = E) & (for x being (Element of X) holds (x in G implies ( g . x ) = ( lim ( f # x ) )))))) implies (for e being  real number holds (( 0 ) < e implies (ex F being (Element of S) st ((F c= E & ( M . ( E \ F ) ) <= e) & (for p being  real number holds (( 0 ) < p implies (ex N being  natural number st (for n being  natural number holds (N < n implies (for x being (Element of X) holds (x in F implies |. ( ( ( f . n ) . x ) - ( g . x ) ) .| < p))))))))))))))))
proof
let M being (sigma_Measure of S);
let f being  with_the_same_dom (Functional_Sequence of X,( ExtREAL ));
let g being (PartFunc of X,( ExtREAL ));
let E being (Element of S);
assume that
A1: ( dom ( f . ( 0 ) ) ) = E
and
A2: (for n being  natural number holds ( f . n ) is_measurable_on E)
and
A3: ( M . E ) < ( +infty )
and
A4: (for n being  natural number holds (ex L being (Element of S) st ((L c= E & ( M . ( E \ L ) ) = ( 0 )) & (for x being (Element of X) holds (x in L implies |. ( ( f . n ) . x ) .| < ( +infty ))))))
and
A5: (ex G being (Element of S) st ((((G c= E & ( M . ( E \ G ) ) = ( 0 )) & (for x being (Element of X) holds (x in E implies ( f # x ) is  convergent_to_finite_number))) & ( dom g ) = E) & (for x being (Element of X) holds (x in G implies ( g . x ) = ( lim ( f # x ) )))));
defpred P[ (Element of ( NAT )),set ]
 means
(($2 c= E & ( M . ( E \ $2 ) ) = ( 0 )) & (for x being (Element of X) holds (x in $2 implies |. ( ( f . $1 ) . x ) .| < ( +infty ))));
A6: (for n being (Element of ( NAT )) holds (ex Z being (Element of S) st P[ n,Z ])) by A4;
consider LN being (Function of ( NAT ),S) such that A7: (for n being (Element of ( NAT )) holds P[ n,( LN . n ) ]) from FUNCT_2:sch 10(A6);
( rng LN ) is (N_Sub_set_fam of X) by MEASURE1:23;
then ( rng LN ) is (N_Measure_fam of S) by MEASURE2:def 1;
then reconsider MRLN = ( meet ( rng LN ) ) as (Element of S) by MEASURE2:2;
let e0 being  real number;
assume A8: ( 0 ) < e0;
set e = ( e0 / 2 );
consider G being (Element of S) such that A9: G c= E and A10: ( M . ( E \ G ) ) = ( 0 ) and A11: (for x being (Element of X) holds (x in E implies ( f # x ) is  convergent_to_finite_number)) and A12: ( dom g ) = E and A13: (for x being (Element of X) holds (x in G implies ( g . x ) = ( lim ( f # x ) ))) by A5;
( MRLN /\ G ) is (Element of S);
then reconsider L = ( ( meet ( rng LN ) ) /\ G ) as (Element of S);
set gL = ( g | L );
A14: L c= G by XBOOLE_1:17;
then ( M . L ) <= ( M . E ) by A9,MEASURE1:31,XBOOLE_1:1;
then A15: ( M . L ) < ( +infty ) by A3,XXREAL_0:2;
( dom gL ) = ( ( dom g ) /\ L ) by RELAT_1:61;
then A16: ( dom gL ) = L by A9,A12,A14,XBOOLE_1:1,XBOOLE_1:28;
deffunc FNL(Nat) = ( ( f . $1 ) | L );
consider fL being (Functional_Sequence of X,( ExtREAL )) such that A17: (for n being Nat holds ( fL . n ) = FNL(n)) from SEQFUNC:sch 1;
(for n,m being Nat holds ( dom ( fL . n ) ) = ( dom ( fL . m ) ))
proof
let n being Nat,m being Nat;
( fL . m ) = ( ( f . m ) | L ) by A17;
then A18: ( dom ( fL . m ) ) = ( ( dom ( f . m ) ) /\ L ) by RELAT_1:61;
( fL . n ) = ( ( f . n ) | L ) by A17;
then ( dom ( fL . n ) ) = ( ( dom ( f . n ) ) /\ L ) by RELAT_1:61;
hence thesis by A18,CKB8:def 1;
end;
then reconsider fL as  with_the_same_dom (Functional_Sequence of X,( ExtREAL )) by CKB8:def 1;
A19: L c= E by A9,A14,XBOOLE_1:1;
A20: (for x being (Element of X) holds (x in L implies (( fL # x ) is  convergent_to_finite_number & ( gL . x ) = ( lim ( fL # x ) ))))
proof
let x being (Element of X);
A21: ( dom ( fL # x ) ) = ( NAT ) by FUNCT_2:def 1;
A22: ( dom ( f # x ) ) = ( NAT ) by FUNCT_2:def 1;
assume A23: x in L;
A24: (for y being set holds (y in ( NAT ) implies ( ( fL # x ) . y ) = ( ( f # x ) . y )))
proof
let y being set;
assume y in ( NAT );
then reconsider n = y as (Element of ( NAT ));
( ( ( f . n ) | L ) . x ) = ( ( f . n ) . x ) by A23,FUNCT_1:49;
then A25: ( ( fL . n ) . x ) = ( ( f . n ) . x ) by A17;
( ( f . n ) . x ) = ( ( f # x ) . n ) by MESFUNC5:def 13;
hence thesis by A25,MESFUNC5:def 13;
end;
then A26: ( fL # x ) = ( f # x ) by FUNCT_2:12;
( f # x ) is  convergent_to_finite_number by A11,A19,A23;
hence ( fL # x ) is  convergent_to_finite_number by A21,A22,A24,FUNCT_1:2;
L c= G by XBOOLE_1:17;
then ( g . x ) = ( lim ( f # x ) ) by A13,A23;
hence thesis by A23,A26,FUNCT_1:49;
end;
defpred R[ (Element of ( NAT )),set ]
 means
(($2 c= L & ( M . $2 ) < ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . $1 )) & (ex Np being (Element of ( NAT )) st (for k being (Element of ( NAT )) holds (Np < k implies (for x being (Element of X) holds (x in ( L \ $2 ) implies |. ( ( ( fL . k ) . x ) - ( gL . x ) ) .| < ( ( ( 1 / 2 ) GeoSeq ) . $1 )))))));
A27: (for n being  natural number holds ((( dom ( fL . n ) ) = L & ( fL . n ) is_measurable_on L) & ( fL . n ) is  real-valued))
proof
let n being  natural number;
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
A28: ( fL . n ) = ( ( f . n ) | L ) by A17;
then A29: ( dom ( fL . n ) ) = ( ( dom ( f . n ) ) /\ L ) by RELAT_1:61;
then ( dom ( fL . n9 ) ) = ( E /\ L ) by A1,CKB8:def 1;
hence A30: ( dom ( fL . n ) ) = L by A9,A14,XBOOLE_1:1,XBOOLE_1:28;
( f . n ) is_measurable_on L by A2,A19,MESFUNC1:30;
hence ( fL . n ) is_measurable_on L by A28,A29,A30,MESFUNC5:42;
(for x being (Element of X) holds (x in ( dom ( fL . n ) ) implies |. ( ( fL . n ) . x ) .| < ( +infty )))
proof
let x being (Element of X);
( dom LN ) = ( NAT ) by FUNCT_2:def 1;
then A31: ( LN . n9 ) in ( rng LN ) by FUNCT_1:3;
assume A32: x in ( dom ( fL . n ) );
then x in ( meet ( rng LN ) ) by A30,XBOOLE_0:def 4;
then x in ( LN . n ) by A31,SETFAM_1:def 1;
then |. ( ( f . n9 ) . x ) .| < ( +infty ) by A7;
hence thesis by A28,A32,FUNCT_1:47;
end;
hence thesis by MESFUNC2:def 1;
end;
then A33: ( dom ( fL . ( 0 ) ) ) = L;
A34: (for p being  natural number holds (ex Hp being (Element of S) st (ex Np being  natural number st ((Hp c= L & ( M . Hp ) < ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . p )) & (for k being  natural number holds (Np < k implies (for x being (Element of X) holds (x in ( L \ Hp ) implies |. ( ( ( fL . k ) . x ) - ( gL . x ) ) .| < ( ( ( 1 / 2 ) GeoSeq ) . p )))))))))
proof
let p being  natural number;
reconsider p9 = p as (Element of ( NAT )) by ORDINAL1:def 12;
A35: ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . p ) = ( e * ( ( ( 1 / 2 ) GeoSeq ) . p9 ) ) by SEQ_1:9;
( 0 ) < ( ( 1 / 2 ) |^ p ) by PREPOWER:6;
then A36: ( 0 ) < ( ( ( 1 / 2 ) GeoSeq ) . p9 ) by PREPOWER:def 1;
( 0 ) < ( ( 1 / 2 ) |^ p ) by PREPOWER:6;
then A37: ( 0 ) < ( ( ( 1 / 2 ) GeoSeq ) . p9 ) by PREPOWER:def 1;
( 0 ) < e by A8,XREAL_1:139;
then ( 0 ) < ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . p ) by A36,A35,XREAL_1:129;
hence thesis by A15,A27,A33,A16,A20,A37,CKB39:1;
end;
A38: (for n being (Element of ( NAT )) holds (ex Z being (Element of S) st R[ n,Z ]))
proof
let n being (Element of ( NAT ));
reconsider n9 = n as  natural number;
consider Z being (Element of S),Np being  natural number such that A39: Z c= L and A40: ( M . Z ) < ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . n9 ) and A41: (for k being  natural number holds (Np < k implies (for x being (Element of X) holds (x in ( L \ Z ) implies |. ( ( ( fL . k ) . x ) - ( gL . x ) ) .| < ( ( ( 1 / 2 ) GeoSeq ) . n9 ))))) by A34;
reconsider Np9 = Np as (Element of ( NAT )) by ORDINAL1:def 12;
(for k being (Element of ( NAT )) holds (Np9 < k implies (for x being (Element of X) holds (x in ( L \ Z ) implies |. ( ( ( fL . k ) . x ) - ( gL . x ) ) .| < ( ( ( 1 / 2 ) GeoSeq ) . n9 ))))) by A41;
hence thesis by A39,A40;
end;
consider HP being (Function of ( NAT ),S) such that A42: (for p being (Element of ( NAT )) holds R[ p,( HP . p ) ]) from FUNCT_2:sch 10(A38);
defpred U[ (Element of ( NAT )),set ]
 means
$2 = ( M . ( HP . $1 ) );
A43: (for n being (Element of ( NAT )) holds (ex y being (Element of ( REAL )) st U[ n,y ]))
proof
let n being (Element of ( NAT ));
A44: ( -infty ) < ( M . ( HP . n ) ) by MEASURE1:def 2;
( M . ( HP . n ) ) < ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . n ) by A42;
then ( M . ( HP . n ) ) is Real by A44,XXREAL_0:48;
hence thesis;
end;
consider me being Real_Sequence such that A45: (for p being (Element of ( NAT )) holds U[ p,( me . p ) ]) from FUNCT_2:sch 10(A43);
A46: (for p being (Element of ( NAT )) holds ( me . p ) <= ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . p ))
proof
let p being (Element of ( NAT ));
( me . p ) = ( M . ( HP . p ) ) by A45;
hence thesis by A42;
end;
A47: (for p being (Element of ( NAT )) holds (( 0 ) <= ( me . p ) & ( me . p ) <= ( ( e (#) ( ( 1 / 2 ) GeoSeq ) ) . p )))
proof
let p being (Element of ( NAT ));
( 0. ) <= ( M . ( HP . p ) ) by MEASURE1:def 2;
hence thesis by A45,A46;
end;
then A48: me is  nonnegative by RINFSUP1:def 3;
deffunc ELN((Element of ( NAT ))) = ( E \ ( LN . $1 ) );
consider ELN being (Function of ( NAT ),S) such that A49: (for n being (Element of ( NAT )) holds ( ELN . n ) = ELN(n)) from FUNCT_2:sch 4;
( rng ELN ) is (N_Sub_set_fam of X) by MEASURE1:23;
then reconsider RELN = ( rng ELN ) as (N_Measure_fam of S) by MEASURE2:def 1;
A50: ( E /\ ( union ( rng HP ) ) ) c= ( union ( rng HP ) ) by XBOOLE_1:17;
(for A being set holds (A in RELN implies A is (measure_zero of M)))
proof
let A being set;
assume A in RELN;
then consider n being set such that A51: n in ( NAT ) and A52: A = ( ELN . n ) by FUNCT_2:11;
reconsider n as (Element of ( NAT )) by A51;
( M . ( ELN . n ) ) = ( M . ( E \ ( LN . n ) ) ) by A49
.= ( 0 ) by A7;
hence thesis by A52,MEASURE1:def 7;
end;
then ( union RELN ) is (measure_zero of M) by MEASURE2:14;
then A53: ( M . ( union RELN ) ) = ( 0. ) by MEASURE1:def 7;
now
let x being set;
assume A54: x in ( E \ ( meet ( rng LN ) ) );
then A55: x in E by XBOOLE_0:def 5;
(not x in ( meet ( rng LN ) )) by A54,XBOOLE_0:def 5;
then consider Y being set such that A56: Y in ( rng LN ) and A57: (not x in Y) by SETFAM_1:def 1;
consider m being set such that A58: m in ( dom LN ) and A59: Y = ( LN . m ) by A56,FUNCT_1:def 3;
reconsider m as (Element of ( NAT )) by A58;
( dom ELN ) = ( NAT ) by FUNCT_2:def 1;
then A60: ( ELN . m ) in ( rng ELN ) by FUNCT_1:3;
( ELN . m ) = ( E \ ( LN . m ) ) by A49;
then x in ( ELN . m ) by A55,A57,A59,XBOOLE_0:def 5;
hence x in ( union RELN ) by A60,TARSKI:def 4;
end;
then A61: ( E \ ( meet ( rng LN ) ) ) c= ( union RELN ) by TARSKI:def 3;
now
let x being set;
assume x in ( union RELN );
then consider Y being set such that A62: x in Y and A63: Y in RELN by TARSKI:def 4;
consider m being set such that A64: m in ( dom ELN ) and A65: ( ELN . m ) = Y by A63,FUNCT_1:def 3;
reconsider m as (Element of ( NAT )) by A64;
( dom LN ) = ( NAT ) by FUNCT_2:def 1;
then A66: ( LN . m ) in ( rng LN ) by FUNCT_1:3;
A67: Y = ( E \ ( LN . m ) ) by A49,A65;
then (not x in ( LN . m )) by A62,XBOOLE_0:def 5;
then A68: (not x in ( meet ( rng LN ) )) by A66,SETFAM_1:def 1;
x in E by A62,A67,XBOOLE_0:def 5;
hence x in ( E \ ( meet ( rng LN ) ) ) by A68,XBOOLE_0:def 5;
end;
then ( union RELN ) c= ( E \ ( meet ( rng LN ) ) ) by TARSKI:def 3;
then A69: ( union RELN ) = ( E \ ( meet ( rng LN ) ) ) by A61,XBOOLE_0:def 10;
( rng HP ) is (N_Sub_set_fam of X) by MEASURE1:23;
then A70: ( rng HP ) is (N_Measure_fam of S) by MEASURE2:def 1;
reconsider MRHP = ( union ( rng HP ) ) as (Element of S) by MEASURE1:24;
( L \ MRHP ) is (Element of S);
then consider F being (Element of S) such that A71: F = ( L \ ( union ( rng HP ) ) );
( E \ L ) = ( ( E \ ( meet ( rng LN ) ) ) \/ ( E \ G ) ) by XBOOLE_1:54;
then ( M . ( E \ L ) ) <= ( ( M . ( union RELN ) ) + ( M . ( E \ G ) ) ) by A69,MEASURE1:33;
then ( M . ( E \ L ) ) <= ( 0. ) by A10,A53;
then A72: ( M . ( E \ L ) ) = ( 0 ) by MEASURE1:def 2;
reconsider MRHP = ( union ( rng HP ) ) as (Element of S) by MEASURE1:24;
A73: ( M . ( ( E \ L ) \/ MRHP ) ) <= ( ( M . ( E \ L ) ) + ( M . MRHP ) ) by MEASURE1:33;
( E \ F ) = ( ( E \ L ) \/ ( E /\ ( union ( rng HP ) ) ) ) by A71,XBOOLE_1:52;
then ( M . ( E \ F ) ) <= ( M . ( ( E \ L ) \/ MRHP ) ) by A50,MEASURE1:31,XBOOLE_1:9;
then ( M . ( E \ F ) ) <= ( ( M . ( E \ L ) ) + ( M . MRHP ) ) by A73,XXREAL_0:2;
then A74: ( M . ( E \ F ) ) <= ( M . MRHP ) by A72,XXREAL_3:4;
( dom me ) = ( NAT ) by FUNCT_2:def 1;
then A75: ( dom me ) = ( dom ( M * HP ) ) by FUNCT_2:def 1;
A76: (for x being set holds (x in ( dom me ) implies ( me . x ) = ( ( M * HP ) . x )))
proof
let x being set;
assume A77: x in ( dom me );
then ( ( M * HP ) . x ) = ( M . ( HP . x ) ) by A75,FUNCT_1:12;
hence thesis by A45,A77;
end;
A78: ( abs ( 1 / 2 ) ) = ( 1 / 2 ) by ABSVALUE:def 1;
then A79: ( ( 1 / 2 ) GeoSeq ) is  summable by SERIES_1:24;
then A80: ( e (#) ( ( 1 / 2 ) GeoSeq ) ) is  summable by SERIES_1:10;
then me is  summable by A47,SERIES_1:20;
then ( Sum me ) = ( SUM ( M * HP ) ) by A48,A75,A76,FUNCT_1:2,PROB_4:12;
then A81: ( M . ( union ( rng HP ) ) ) <= ( Sum me ) by A70,MEASURE2:11;
A82: (for q being  real number holds (( 0 ) < q implies (ex p being (Element of ( NAT )) st ( ( ( 1 / 2 ) GeoSeq ) . p ) < q)))
proof
let q being  real number;
assume A83: ( 0 ) < q;
A84: ( lim ( ( 1 / 2 ) GeoSeq ) ) = ( 0 ) by A79,SERIES_1:4;
( ( 1 / 2 ) GeoSeq ) is  convergent by A79,SERIES_1:4;
then consider p being (Element of ( NAT )) such that A85: (for n being (Element of ( NAT )) holds (p <= n implies ( abs ( ( ( ( 1 / 2 ) GeoSeq ) . n ) - ( 0 ) ) ) < q)) by A83,A84,SEQ_2:def 7;
take p;
( 0 ) < ( ( 1 / 2 ) |^ p ) by PREPOWER:6;
then A86: ( 0 ) <= ( ( ( 1 / 2 ) GeoSeq ) . p ) by PREPOWER:def 1;
( abs ( ( ( ( 1 / 2 ) GeoSeq ) . p ) - ( 0 ) ) ) < q by A85;
hence thesis by A86,ABSVALUE:def 1;
end;
A87: (for x being (Element of X) holds (x in F implies (for p being (Element of ( NAT )) holds x in ( L \ ( HP . p ) ))))
proof
let x being (Element of X);
assume A88: x in F;
let p being (Element of ( NAT ));
( dom HP ) = ( NAT ) by FUNCT_2:def 1;
then ( HP . p ) in ( rng HP ) by FUNCT_1:3;
then ( L \ ( union ( rng HP ) ) ) c= ( L \ ( HP . p ) ) by XBOOLE_1:34,ZFMISC_1:74;
hence thesis by A71,A88;
end;
A89: (for q being  real number holds (( 0 ) < q implies (ex N being  natural number st (for n being  natural number holds (N < n implies (for x being (Element of X) holds (x in F implies |. ( ( ( f . n ) . x ) - ( g . x ) ) .| < q)))))))
proof
let q being  real number;
assume ( 0 ) < q;
then consider p being (Element of ( NAT )) such that A90: ( ( ( 1 / 2 ) GeoSeq ) . p ) < q by A82;
consider Np being (Element of ( NAT )) such that A91: (for k being (Element of ( NAT )) holds (Np < k implies (for x being (Element of X) holds (x in ( L \ ( HP . p ) ) implies |. ( ( ( fL . k ) . x ) - ( gL . x ) ) .| < ( ( ( 1 / 2 ) GeoSeq ) . p ))))) by A42;
take Np;
hereby
let n being  natural number;
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
assume A92: Np < n;
hereby
let x being (Element of X);
A93: ( fL . n ) = ( ( f . n ) | L ) by A17;
assume A94: x in F;
then |. ( ( ( fL . n9 ) . x ) - ( gL . x ) ) .| < ( ( ( 1 / 2 ) GeoSeq ) . p ) by A87,A91,A92;
then A95: |. ( ( ( fL . n ) . x ) - ( gL . x ) ) .| < q by A90,XXREAL_0:2;
A96: F c= L by A71,XBOOLE_1:36;
then ( gL . x ) = ( g . x ) by A94,FUNCT_1:49;
hence |. ( ( ( f . n ) . x ) - ( g . x ) ) .| < q by A94,A95,A93,A96,FUNCT_1:49;
end;
end;
end;
( Sum ( ( 1 / 2 ) GeoSeq ) ) = ( 1 / ( 1 - ( 1 / 2 ) ) ) by A78,SERIES_1:24;
then A97: ( Sum ( e (#) ( ( 1 / 2 ) GeoSeq ) ) ) = ( e * 2 ) by A79,SERIES_1:10;
( Sum me ) <= ( Sum ( e (#) ( ( 1 / 2 ) GeoSeq ) ) ) by A80,A47,SERIES_1:20;
then ( M . MRHP ) <= ( 2 * e ) by A81,A97,XXREAL_0:2;
then A98: ( M . ( E \ F ) ) <= e0 by A74,XXREAL_0:2;
F c= L by A71,XBOOLE_1:36;
hence thesis by A19,A98,A89,XBOOLE_1:1;
end;
