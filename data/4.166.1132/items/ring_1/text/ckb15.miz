environ
vocabularies RLVECT_1,ALGSTR_0,XBOOLE_0,SUBSET_1,ARYTM_1,ARYTM_3,SUPINF_2,RELAT_1,INT_2,CARD_FIL,TARSKI,GROUP_4,IDEAL_1,VECTSP_2,GROUP_1,FUNCSDOM,EQREL_1,STRUCT_0,WAYBEL20,PARTFUN1,RELAT_2,SETWISEO,FUNCT_1,MESFUNC1,BINOP_1,VECTSP_1,LATTICES,WELLORD2,ORDERS_1,WELLORD1,RING_1;
notations TARSKI,XBOOLE_0,SUBSET_1,SETWISEO,RELAT_1,RELSET_1,FUNCT_1,PARTFUN1,ALG_1,RELAT_2,EQREL_1,WELLORD1,WELLORD2,ORDERS_1,BINOP_1,DOMAIN_1,STRUCT_0,ALGSTR_0,GROUP_1,RLVECT_1,VECTSP_1,VECTSP_2,FUNCSDOM,IDEAL_1,CKB4,CKB5,CKB6,CKB7;
definitions TARSKI,XBOOLE_0,RELAT_1,RLVECT_1,GROUP_1,VECTSP_1,VECTSP_2,IDEAL_1,ORDERS_1,WELLORD1,STRUCT_0,ALGSTR_0,CKB4,CKB5,CKB6,CKB7;
theorems VECTSP_1,TARSKI,FUNCT_1,RLVECT_1,VECTSP_2,XBOOLE_0,FUNCT_2,BINOP_1,ZFMISC_1,GROUP_1,IDEAL_1,RELAT_1,EQREL_1,SETWISEO,ORDERS_1,WELLORD2,RELAT_2,SUBSET_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB14;
schemes EQREL_1,BINOP_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSUB_1,EQREL_1,STRUCT_0,VECTSP_1,ALGSTR_1,QUOFIELD,IDEAL_1,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
constructors WELLORD1,WELLORD2,BINOP_1,SETWISEO,ORDERS_1,EQREL_1,GCD_1,IDEAL_1,DOMAIN_1,RELSET_1,CKB4,CKB5,CKB6,CKB7;
requirements BOOLE,SUBSET;
begin
reserve R for Ring;
reserve I for (Ideal of R);
theorem
Lm1: (for R being Ring holds (for I being (Ideal of R) holds (ex E being (Equivalence_Relation of (the carrier of R)) st (for x,y being set holds ([ x,y ] in E iff ((x in (the carrier of R) & y in (the carrier of R)) & (ex P,Q being (Element of R) st ((P = x & Q = y) & ( P - Q ) in I))))))))
proof
let R being Ring;
let I being (Ideal of R);
defpred P[ set,set ]
 means
(ex P,Q being (Element of R) st ((P = $1 & Q = $2) & ( P - Q ) in I));
A1: (for x,y being set holds (P[ x,y ] implies P[ y,x ]))
proof
let x being set;
let y being set;
given P being (Element of R),Q being (Element of R) such that
A2: ((P = x & Q = y) & ( P - Q ) in I);

take Q;
take P;
( - ( P - Q ) ) = ( Q - P ) by RLVECT_1:33;
hence thesis by A2,IDEAL_1:13;
end;
A3: (for x,y,z being set holds ((P[ x,y ] & P[ y,z ]) implies P[ x,z ]))
proof
let x being set;
let y being set;
let z being set;
assume P[ x,y ];
then consider P,Q being (Element of R) such that A4: ((P = x & Q = y) & ( P - Q ) in I);
assume P[ y,z ];
then consider W,S being (Element of R) such that A5: ((W = y & S = z) & ( W - S ) in I);
take P;
take S;
( ( P - Q ) + ( Q - S ) ) = ( ( ( P - Q ) + Q ) - S ) by RLVECT_1:28
.= ( P - S ) by CKB1:1;
hence thesis by A4,A5,IDEAL_1:def 1;
end;
A6: (for x being set holds (x in (the carrier of R) implies P[ x,x ]))
proof
let x being set;
assume x in (the carrier of R);
then reconsider x as (Element of R);
( x - x ) = ( 0. R ) by RLVECT_1:15;
hence thesis by IDEAL_1:2;
end;
thus (ex EqR being (Equivalence_Relation of (the carrier of R)) st (for x,y being set holds ([ x,y ] in EqR iff ((x in (the carrier of R) & y in (the carrier of R)) & P[ x,y ])))) from EQREL_1:sch 1(A6,A1,A3);
end;
