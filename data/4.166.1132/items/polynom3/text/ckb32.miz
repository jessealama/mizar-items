environ
vocabularies NUMBERS,RLVECT_1,ALGSTR_0,XBOOLE_0,FINSEQ_1,STRUCT_0,SUBSET_1,RELAT_1,FUNCT_1,SUPINF_2,CARD_3,NAT_1,PARTFUN1,FINSEQ_5,ORDINAL4,ARYTM_3,XXREAL_0,FINSEQ_3,FINSEQ_2,PRE_POLY,TARSKI,CARD_1,ORDERS_1,RELAT_2,FINSET_1,ARYTM_1,FUNCT_2,POLYNOM1,ALGSEQ_1,FUNCOP_1,FUNCT_4,MESFUNC1,LATTICES,VECTSP_1,BINOP_1,CLASSES1,GROUP_1,ZFMISC_1,POLYNOM3;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,RELAT_1,RELAT_2,FUNCT_1,ORDERS_1,XXREAL_0,NAT_1,NAT_D,CLASSES1,RELSET_1,PARTFUN1,FINSET_1,FUNCT_2,FUNCOP_1,FINSEQ_1,PRE_POLY,FINSEQ_2,FINSEQ_5,FINSEQOP,BINOP_1,RVSUM_1,FUNCT_7,TREES_4,WSIERP_1,STRUCT_0,ALGSTR_0,MATRLIN,BINARITH,GROUP_1,RLVECT_1,VFUNCT_1,FVSUM_1,VECTSP_1,NORMSP_1,POLYNOM1,ALGSEQ_1,BHSP_1,RECDEF_1,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB17,CKB19,CKB28;
definitions TARSKI,XBOOLE_0,RELAT_1,RELAT_2,PRE_POLY,RLVECT_1,GROUP_1,VECTSP_1,ALGSEQ_1,FINSEQ_2,FUNCT_2,STRUCT_0,CARD_1,ALGSTR_0,CKB10,CKB12,CKB17,CKB19,CKB28;
theorems AXIOMS,TARSKI,ENUMSET1,RELSET_1,INT_1,NAT_1,CARD_1,RLVECT_1,VECTSP_1,ALGSEQ_1,RELAT_2,ORDERS_1,FUNCT_1,FUNCT_2,FUNCT_7,FUNCOP_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FINSEQ_5,RFINSEQ,BINOP_1,CARD_3,RVSUM_1,FVSUM_1,MATRLIN,YELLOW15,POLYNOM1,RELAT_1,XBOOLE_0,RLVECT_2,XCMPLX_1,PARTFUN1,GROUP_1,XREAL_1,XXREAL_0,ORDINAL1,BHSP_1,NORMSP_1,XREAL_0,NAT_D,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB10,CKB12,CKB14,CKB15,CKB16,CKB17,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31;
schemes FUNCT_2,FINSEQ_1,FINSEQ_2,NAT_1,RELSET_1,SUBSET_1,BINOP_1,RECDEF_1,CKB9;
registrations RELAT_1,ORDINAL1,FUNCT_2,FUNCOP_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,FINSEQ_2,REALSET1,FINSEQ_5,STRUCT_0,VECTSP_1,VALUED_0,FINSET_1,RELSET_1,PRE_POLY,VFUNCT_1,CARD_1,FUNCT_1,CKB18,CKB20;
constructors BINOP_1,SQUARE_1,FINSEQOP,REALSET1,RFINSEQ,NAT_D,FINSEQ_5,WSIERP_1,ALGSEQ_1,BHSP_1,DTCONSTR,TRIANG_1,POLYNOM1,SEQ_1,RECDEF_1,SEQ_2,SEQM_3,REAL_1,BINARITH,CLASSES1,RELSET_1,RELAT_1,FUNCT_7,MATRLIN,PRE_POLY,FVSUM_1,VFUNCT_1,CKB5,CKB6,CKB7,CKB8,CKB10,CKB12,CKB17,CKB19,CKB28;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
theorem
Th18: (for p being (FinSequence of ( NAT )) holds (for i,j being (Element of ( NAT )) holds (i <= j implies ( Sum ( p | i ) ) <= ( Sum ( p | j ) ))))
proof
let p being (FinSequence of ( NAT ));
let i being (Element of ( NAT )),j being (Element of ( NAT ));
assume A1: i <= j;
then consider k being Nat such that A2: j = ( i + k ) by NAT_1:10;
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
per cases ;
suppose A3: j <= ( len p );

then A4: ( len ( p | j ) ) = ( i + k ) by A2,FINSEQ_1:59;
then consider q being (FinSequence of ( NAT )),r being (FinSequence of ( NAT )) such that A5: ( len q ) = i and ( len r ) = k and A6: ( p | j ) = ( q ^ r ) by FINSEQ_2:23;
A7: ( len ( p | i ) ) = i by A1,A3,FINSEQ_1:59,XXREAL_0:2;
then A8: ( dom ( p | i ) ) = ( Seg i ) by FINSEQ_1:def 3;
A9:now
reconsider p1 = p as (FinSequence of ( REAL ));
let n being Nat;
assume A10: n in ( dom ( p | i ) );
then A11: ( ( p1 | i ) /. n ) = ( p /. n ) by FINSEQ_4:70;
A12: ( Seg i ) = ( dom q ) by A5,FINSEQ_1:def 3;
A13: (( Seg i ) c= ( Seg j ) & ( Seg j ) = ( dom ( p | j ) )) by A1,A2,A4,FINSEQ_1:5,FINSEQ_1:def 3;
( Seg i ) = ( dom ( p | i ) ) by A7,FINSEQ_1:def 3;
then A14: ( ( p1 | j ) /. n ) = ( p /. n ) by A10,A13,FINSEQ_4:70;
thus ( ( p | i ) . n ) = ( ( p1 | i ) /. n ) by A10,PARTFUN1:def 6
.= ( ( p | j ) . n ) by A8,A10,A13,A11,A14,PARTFUN1:def 6
.= ( q . n ) by A6,A8,A10,A12,FINSEQ_1:def 7;
end;
A15: ( ( Sum q ) + ( Sum r ) ) >= ( ( Sum q ) + (( 0 ) qua Nat) ) by XREAL_1:6;
( Sum ( p | j ) ) = ( ( Sum q ) + ( Sum r ) ) by A6,RVSUM_1:75;
hence thesis by A7,A5,A9,A15,FINSEQ_2:9;
end;
suppose j > ( len p );

then A16: ( p | j ) = p by FINSEQ_1:58;
now
per cases ;
suppose i >= ( len p );

hence thesis by A16,FINSEQ_1:58;
end;
suppose A17: i < ( len p );

then consider t being Nat such that A18: ( len p ) = ( i + t ) by NAT_1:10;
consider q being (FinSequence of ( NAT )),r being (FinSequence of ( NAT )) such that A19: ( len q ) = i and ( len r ) = t and A20: p = ( q ^ r ) by A18,FINSEQ_2:23;
A21: ( len ( p | i ) ) = i by A17,FINSEQ_1:59;
then A22: ( dom ( p | i ) ) = ( Seg i ) by FINSEQ_1:def 3;
A23:now
A24: ( Seg i ) = ( dom q ) by A19,FINSEQ_1:def 3;
reconsider p1 = p as (FinSequence of ( REAL ));
let n being Nat;
A25: ( dom ( p | i ) ) c= ( dom p ) by FINSEQ_5:18;
assume A26: n in ( dom ( p | i ) );
then A27: ( ( p1 | i ) /. n ) = ( p /. n ) by FINSEQ_4:70;
thus ( ( p | i ) . n ) = ( ( p1 | i ) /. n ) by A26,PARTFUN1:def 6
.= ( p . n ) by A26,A27,A25,PARTFUN1:def 6
.= ( q . n ) by A20,A22,A26,A24,FINSEQ_1:def 7;
end;
A28: ( ( Sum q ) + ( Sum r ) ) >= ( ( Sum q ) + (( 0 ) qua Nat) ) by XREAL_1:6;
( Sum p ) = ( ( Sum q ) + ( Sum r ) ) by A20,RVSUM_1:75;
hence thesis by A16,A19,A21,A23,A28,FINSEQ_2:9;
end;
end;
hence thesis;
end;
end;
