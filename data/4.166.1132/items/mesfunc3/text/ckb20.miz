environ
vocabularies NUMBERS,NAT_1,FUNCT_1,ZFMISC_1,FINSEQ_1,RELAT_1,CARD_3,ARYTM_3,SUBSET_1,XXREAL_0,TARSKI,XBOOLE_0,FINSEQ_2,ARYTM_1,PARTFUN1,BINOP_2,ORDINAL4,CARD_1,FUNCOP_1,PROB_1,MESFUNC2,FUNCT_3,SUPINF_2,PROB_2,MEASURE1,ORDINAL1,XXREAL_2,ORDINAL2,SUPINF_1,XREAL_0,MESFUNC1,VALUED_0,COMPLEX1,SETFAM_1,FINSET_1,FINSOP_1,SETWISEO,INTEGRA1,REAL_1,MESFUNC3;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XCMPLX_0,NAT_1,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,XREAL_0,SETWOP_2,FINSEQ_1,SETFAM_1,FUNCOP_1,FINSOP_1,FUNCT_3,FINSET_1,PROB_1,PROB_2,XXREAL_0,XXREAL_2,SUPINF_1,SUPINF_2,MEASURE1,FINSEQOP,FINSEQ_2,BINOP_1,SEQ_1,BINOP_2,RVSUM_1,EXTREAL1,MESFUNC1,MESFUNC2,CKB12;
definitions TARSKI,XBOOLE_0,BINOP_1,SUPINF_2,MESFUNC1,CKB12;
theorems MEASURE1,TARSKI,FUNCT_1,FUNCT_2,NAT_1,SUPINF_2,EXTREAL1,EXTREAL2,ZFMISC_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FUNCOP_1,FINSEQ_4,PROB_2,FUNCT_3,XBOOLE_0,XBOOLE_1,RELAT_1,RVSUM_1,BINOP_2,MESFUNC2,MEASURE2,FINSOP_1,CARD_2,XREAL_1,XXREAL_0,ORDINAL1,NUMBERS,VALUED_1,XXREAL_2,VALUED_0,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes FINSEQ_1,FINSEQ_2,NAT_1,PARTFUN1,BINOP_1;
registrations SUBSET_1,RELAT_1,ORDINAL1,FUNCT_2,NUMBERS,XXREAL_0,XREAL_0,NAT_1,BINOP_2,MEMBERED,FINSEQ_1,MEASURE1,FINSET_1,VALUED_0,CARD_1,CARD_3,XXREAL_3,RELSET_1;
constructors PARTFUN1,BINOP_1,SETWISEO,REAL_1,NAT_1,FINSEQOP,PROB_2,FINSOP_1,RVSUM_1,MEASURE3,MEASURE6,EXTREAL1,MESFUNC1,BINARITH,MESFUNC2,SEQ_1,BINOP_2,SUPINF_1,RELSET_1,CKB12;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
(for p being (FinSequence of ( ExtREAL )) holds (for q being (FinSequence of ( REAL )) holds (p = q implies ( Sum p ) = ( Sum q ))))
proof
let p being (FinSequence of ( ExtREAL ));
let q being (FinSequence of ( REAL ));
consider P being (Function of ( NAT ),( ExtREAL )) such that A1: ( Sum p ) = ( P . ( len p ) ) and A2: ( P . ( 0 ) ) = ( 0. ) and A3: (for i being (Element of ( NAT )) holds (i < ( len p ) implies ( P . ( i + 1 ) ) = ( ( P . i ) + ( p . ( i + 1 ) ) ))) by EXTREAL1:def 2;
assume A4: p = q;
now
per cases ;
case A5: ( len q ) = ( 0 );
( Sum q ) = ( ( addreal ) "**" q ) by RVSUM_1:def 12;
hence thesis by A4,A1,A2,A5,BINOP_2:2,FINSOP_1:def 1;
end;
case A6: ( len q ) <> ( 0 );
( Sum q ) = ( ( addreal ) $$ q ) by RVSUM_1:def 12;
then consider Q being (Function of ( NAT ),( REAL )) such that A7: ( Q . 1 ) = ( q . 1 ) and A8: (for n being (Element of ( NAT )) holds ((( 0 ) <> n & n < ( len q )) implies ( Q . ( n + 1 ) ) = ( ( addreal ) . (( Q . n ),( q . ( n + 1 ) )) ))) and A9: ( Sum q ) = ( Q . ( len q ) ) by A6,FINSOP_1:def 1;
defpred P1[ Nat ]
 means
((( 0 ) <> $1 & $1 <= ( len q )) implies ( P . $1 ) = ( Q . $1 ));
A10: (for k being Nat holds (P1[ k ] implies P1[ ( k + 1 ) ]))
proof
let k being Nat;
assume A11: P1[ k ];
assume that
( 0 ) <> ( k + 1 )
and
A12: ( k + 1 ) <= ( len q );
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
per cases ;
suppose A13: k = ( 0 );

k < ( len q ) by A12,NAT_1:13;
then ( P . ( k + 1 ) ) = ( ( P . k ) + ( p . ( k + 1 ) ) ) by A4,A3
.= ( p . ( k + 1 ) ) by A2,A13,XXREAL_3:4;
hence thesis by A4,A7,A13;
end;
suppose A14: k <> ( 0 );

A15: k < ( len q ) by A12,NAT_1:13;
then A16: ( Q . ( k + 1 ) ) = ( ( addreal ) . (( Q . k ),( q . ( k + 1 ) )) ) by A8,A14
.= ( ( Q . k ) + ( q . ( k + 1 ) ) ) by BINOP_2:def 9;
( P . ( k + 1 ) ) = ( ( P . k ) + ( p . ( k + 1 ) ) ) by A4,A3,A15;
hence thesis by A4,A11,A12,A14,A16,NAT_1:13,SUPINF_2:1;
end;
end;
A17: P1[ ( 0 ) ];
(for n being Nat holds P1[ n ]) from NAT_1:sch 2(A17,A10);
hence thesis by A4,A1,A6,A9;
end;
end;
hence thesis;
end;
