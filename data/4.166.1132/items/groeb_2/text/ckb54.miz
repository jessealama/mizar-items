environ
vocabularies NUMBERS,RLVECT_1,ALGSTR_0,XBOOLE_0,FINSEQ_1,SUBSET_1,RELAT_1,XXREAL_0,FUNCT_1,SUPINF_2,CARD_3,ARYTM_3,TARSKI,ORDINAL4,PARTFUN1,CARD_1,FUNCT_7,ARYTM_1,RFINSEQ,PRE_POLY,PBOOLE,RELAT_2,BAGORDER,ORDERS_2,WAYBEL_4,ZFMISC_1,XCMPLX_0,ALGSTR_1,LATTICES,POLYNOM7,POLYNOM1,ORDINAL1,VECTSP_2,VALUED_0,VECTSP_1,BINOP_1,POLYRED,REWRITE1,STRUCT_0,MCART_1,TERMORD,GROEB_1,BROUWER,MESFUNC1,CAT_3,GROUP_1,IDEAL_1,FINSET_1,NAT_1,GROEB_2;
notations TARSKI,RELAT_1,XBOOLE_0,SUBSET_1,RELAT_2,RELSET_1,FUNCT_1,ORDINAL1,XCMPLX_0,PARTFUN1,FINSET_1,MCART_1,XXREAL_0,FINSEQ_1,PRE_POLY,STRUCT_0,ALGSTR_1,VECTSP_2,POLYNOM7,PBOOLE,ORDERS_2,REWRITE1,BAGORDER,ALGSTR_0,RLVECT_1,VFUNCT_1,VECTSP_1,POLYNOM1,TERMORD,IDEAL_1,POLYRED,GROUP_1,NAT_D,NUMBERS,NAT_1,GROEB_1,RFINSEQ,FINSEQ_7,WAYBEL_4,RECDEF_1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB27,CKB38,CKB44,CKB45,CKB49,CKB50,CKB51,CKB52;
definitions STRUCT_0,CKB3,CKB4,CKB6,CKB27,CKB38,CKB45,CKB49,CKB50,CKB51,CKB52;
theorems TARSKI,RELSET_1,FINSEQ_1,ZFMISC_1,VECTSP_1,POLYNOM1,FINSEQ_4,RLVECT_1,NAT_1,MCART_1,POLYNOM7,REWRITE1,XBOOLE_0,IDEAL_1,TERMORD,INT_1,FUNCT_1,FINSET_1,XBOOLE_1,VECTSP_2,POLYRED,FUNCT_2,BINOM,FINSEQ_3,RELAT_1,RELAT_2,WAYBEL_4,BAGORDER,RFINSEQ,FINSEQ_5,ALGSTR_1,FINSEQ_7,GROEB_1,GROUP_1,XREAL_1,XXREAL_0,PARTFUN1,VALUED_0,STRUCT_0,NAT_D,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB40,CKB41,CKB42,CKB43,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53;
schemes NAT_1,CLASSES1;
registrations XBOOLE_0,RELAT_1,ORDINAL1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,FINSEQ_1,REWRITE1,STRUCT_0,VECTSP_1,ORDERS_2,ALGSTR_1,GCD_1,POLYNOM1,POLYNOM2,POLYNOM4,IDEAL_1,POLYNOM7,TERMORD,POLYRED,VALUED_0,ALGSTR_0,PRE_POLY,CARD_1,VFUNCT_1,FUNCT_1,FUNCT_2,RELSET_1,CKB17,CKB18,CKB19,CKB39;
constructors RFINSEQ,REWRITE1,FINSEQ_7,VECTSP_2,WAYBEL_4,WELLFND1,IDEAL_1,BAGORDER,TERMORD,POLYRED,GROEB_1,RECDEF_1,REAL_1,RELSET_1,PBOOLE,BINOP_2,VFUNCT_1,CKB3,CKB4,CKB6,CKB27,CKB38,CKB44,CKB45,CKB49,CKB50,CKB51,CKB52;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Lm5: (for n being Ordinal holds (for T being  admissible  connected (TermOrder of n) holds (for L being  add-associative  right_complementable  right_zeroed  commutative  associative  well-unital  distributive  Abelian  almost_left_invertible non degenerated non empty doubleLoopStr holds (for f,g being (Polynomial of n,L) holds (for f9,g9 being (Element of ( Polynom-Ring (n,L) )) holds ((f = f9 & g = g9) implies (for P being non empty (Subset of ( Polynom-Ring (n,L) )) holds (( PolyRedRel (P,T) ) reduces f,g implies (ex A being (LeftLinearCombination of P) st (f9 = ( g9 + ( Sum A ) ) & (for i being (Element of ( NAT )) holds (i in ( dom A ) implies (ex m being  non-zero (Monomial of n,L) st (ex p being  non-zero (Polynomial of n,L) st ((p in P & ( A . i ) = ( m *' p )) & ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T)))))))))))))))
proof
let n being Ordinal;
let T being  admissible  connected (TermOrder of n);
let L being  add-associative  right_complementable  right_zeroed  commutative  associative  well-unital  distributive  Abelian  almost_left_invertible non degenerated non empty doubleLoopStr;
let f being (Polynomial of n,L),g being (Polynomial of n,L);
let f9 being (Element of ( Polynom-Ring (n,L) )),g9 being (Element of ( Polynom-Ring (n,L) ));
assume A1: (f = f9 & g = g9);
defpred P[ Nat ]
 means
(for f,g being (Polynomial of n,L) holds (for f9,g9 being (Element of ( Polynom-Ring (n,L) )) holds ((f = f9 & g = g9) implies (for P being non empty (Subset of ( Polynom-Ring (n,L) )) holds (for R being (RedSequence of ( PolyRedRel (P,T) )) holds (((( R . 1 ) = f & ( R . ( len R ) ) = g) & ( len R ) = $1) implies (ex A being (LeftLinearCombination of P) st (f9 = ( g9 + ( Sum A ) ) & (for i being (Element of ( NAT )) holds (i in ( dom A ) implies (ex m being  non-zero (Monomial of n,L) st (ex p being  non-zero (Polynomial of n,L) st ((p in P & ( A . i ) = ( m *' p )) & ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T)))))))))))));
let P being non empty (Subset of ( Polynom-Ring (n,L) ));
assume ( PolyRedRel (P,T) ) reduces f,g;
then consider R being (RedSequence of ( PolyRedRel (P,T) )) such that A2: (( R . 1 ) = f & ( R . ( len R ) ) = g) by REWRITE1:def 3;
A3: ( 0_ (n,L) ) = ( 0. ( Polynom-Ring (n,L) ) ) by POLYNOM1:def 10;
A4:now
let k being Nat;
assume A5: 1 <= k;
thus (P[ k ] implies P[ ( k + 1 ) ])
proof
assume A6: P[ k ];
(for f,g being (Polynomial of n,L) holds (for f9,g9 being (Element of ( Polynom-Ring (n,L) )) holds ((f = f9 & g = g9) implies (for P being non empty (Subset of ( Polynom-Ring (n,L) )) holds (for R being (RedSequence of ( PolyRedRel (P,T) )) holds (((( R . 1 ) = f & ( R . ( len R ) ) = g) & ( len R ) = ( k + 1 )) implies (ex A being (LeftLinearCombination of P) st (f9 = ( g9 + ( Sum A ) ) & (for i being (Element of ( NAT )) holds (i in ( dom A ) implies (ex m being  non-zero (Monomial of n,L) st (ex p being  non-zero (Polynomial of n,L) st ((p in P & ( A . i ) = ( m *' p )) & ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T)))))))))))))
proof
let f being (Polynomial of n,L),g being (Polynomial of n,L);
let f9 being (Element of ( Polynom-Ring (n,L) )),g9 being (Element of ( Polynom-Ring (n,L) ));
assume that
A7: f = f9
and
A8: g = g9;
let P being non empty (Subset of ( Polynom-Ring (n,L) ));
let R being (RedSequence of ( PolyRedRel (P,T) ));
assume that
A9: ( R . 1 ) = f
and
A10: ( R . ( len R ) ) = g
and
A11: ( len R ) = ( k + 1 );
set Q = ( R | ( Seg k ) );
reconsider Q as FinSequence by FINSEQ_1:15;
A12: k <= ( k + 1 ) by NAT_1:11;
then A13: ( dom Q ) = ( Seg k ) by A11,FINSEQ_1:17;
A14: ( dom R ) = ( Seg ( k + 1 ) ) by A11,FINSEQ_1:def 3;
A15:now
let i being (Element of ( NAT ));
assume that
A16: i in ( dom Q )
and
A17: ( i + 1 ) in ( dom Q );
( i + 1 ) <= k by A13,A17,FINSEQ_1:1;
then A18: ( i + 1 ) <= ( k + 1 ) by A12,XXREAL_0:2;
i <= k by A13,A16,FINSEQ_1:1;
then A19: i <= ( k + 1 ) by A12,XXREAL_0:2;
1 <= ( i + 1 ) by A13,A17,FINSEQ_1:1;
then A20: ( i + 1 ) in ( dom R ) by A14,A18,FINSEQ_1:1;
1 <= i by A13,A16,FINSEQ_1:1;
then i in ( dom R ) by A14,A19,FINSEQ_1:1;
then A21: [ ( R . i ),( R . ( i + 1 ) ) ] in ( PolyRedRel (P,T) ) by A20,REWRITE1:def 2;
( R . i ) = ( Q . i ) by A16,FUNCT_1:47;
hence [ ( Q . i ),( Q . ( i + 1 ) ) ] in ( PolyRedRel (P,T) ) by A17,A21,FUNCT_1:47;
end;
( len Q ) = k by A11,A12,FINSEQ_1:17;
then reconsider Q as (RedSequence of ( PolyRedRel (P,T) )) by A5,A15,REWRITE1:def 2;
A22: 1 in ( dom Q ) by A5,A13,FINSEQ_1:1;
then A23: ( Q . 1 ) = f by A9,FUNCT_1:47;
1 <= ( k + 1 ) by NAT_1:11;
then A24: ( k + 1 ) in ( dom R ) by A14,FINSEQ_1:1;
k in ( dom R ) by A5,A14,A12,FINSEQ_1:1;
then A25: [ ( R . k ),( R . ( k + 1 ) ) ] in ( PolyRedRel (P,T) ) by A24,REWRITE1:def 2;
then consider h9 being set,g2 being set such that A26: [ ( R . k ),( R . ( k + 1 ) ) ] = [ h9,g2 ] and A27: h9 in ( NonZero ( Polynom-Ring (n,L) ) ) and A28: g2 in (the carrier of ( Polynom-Ring (n,L) )) by RELSET_1:2;
A29: ( R . k ) = ( [ h9,g2 ] `1 ) by A26,MCART_1:def 1
.= h9 by MCART_1:def 1;
reconsider g2 as (Polynomial of n,L) by A28,POLYNOM1:def 10;
(not h9 in { ( 0_ (n,L) ) }) by A3,A27,XBOOLE_0:def 5;
then h9 <> ( 0_ (n,L) ) by TARSKI:def 1;
then reconsider h9 as  non-zero (Polynomial of n,L) by A27,POLYNOM1:def 10,POLYNOM7:def 1;
A30: ( Q . k ) = h9 by A5,A13,A29,FINSEQ_1:3,FUNCT_1:47;
then reconsider u9 = ( Q . k ) as (Element of ( Polynom-Ring (n,L) )) by POLYNOM1:def 10;
reconsider u = u9 as (Polynomial of n,L) by POLYNOM1:def 10;
( Q . ( len Q ) ) = u by A11,A12,FINSEQ_1:17;
then consider A9 being (LeftLinearCombination of P) such that A31: f9 = ( u9 + ( Sum A9 ) ) and A32: (for i being (Element of ( NAT )) holds (i in ( dom A9 ) implies (ex m being  non-zero (Monomial of n,L) st (ex p being  non-zero (Polynomial of n,L) st ((p in P & ( A9 . i ) = ( m *' p )) & ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T))))) by A6,A7,A11,A12,A23,FINSEQ_1:17;
A33: k in ( dom Q ) by A5,A13,FINSEQ_1:3;
now
per cases ;
case u9 = g9;
hence thesis by A31,A32;
end;
case A34: u9 <> g9;
reconsider hh = h9 as (Element of ( Polynom-Ring (n,L) )) by POLYNOM1:def 10;
A35: ( PolyRedRel (P,T) ) reduces f,h9 by A5,A33,A30,A22,A23,REWRITE1:17;
A36: ( R . ( k + 1 ) ) = ( [ h9,g2 ] `2 ) by A26,MCART_1:def 2
.= g2 by MCART_1:def 2;
then reconsider gg = g2 as (Element of ( Polynom-Ring (n,L) )) by A8,A10,A11;
h9 reduces_to g2,P,T by A25,A26,POLYRED:def 13;
then consider p9 being (Polynomial of n,L) such that A37: p9 in P and A38: h9 reduces_to g2,p9,T by POLYRED:def 7;
consider m9 being (Monomial of n,L) such that A39: g2 = ( h9 - ( m9 *' p9 ) ) and (not ( HT (( m9 *' p9 ),T) ) in ( Support g2 )) and A40: ( HT (( m9 *' p9 ),T) ) <= ( HT (h9,T) ),T by A38,GROEB_1:2;
A41:now
assume p9 = ( 0_ (n,L) );
then g2 = ( h9 - ( 0_ (n,L) ) ) by A39,POLYRED:5
.= ( Q . k ) by A30,POLYRED:4;
hence contradiction by A8,A10,A11,A34,A36;
end;
A42:now
assume m9 = ( 0_ (n,L) );
then g2 = ( h9 - ( 0_ (n,L) ) ) by A39,POLYRED:5
.= ( Q . k ) by A30,POLYRED:4;
hence contradiction by A8,A10,A11,A34,A36;
end;
reconsider mp = ( m9 *' p9 ) as (Element of ( Polynom-Ring (n,L) )) by POLYNOM1:def 10;
reconsider pp = p9 as (Element of P) by A37;
set B = ( A9 ^ <* mp *> );
reconsider mm = m9 as (Element of ( Polynom-Ring (n,L) )) by POLYNOM1:def 10;
A43: gg = ( hh - mp ) by A39,CKB29:1;
reconsider m9 as  non-zero (Monomial of n,L) by A42,POLYNOM7:def 1;
reconsider p9 as  non-zero (Polynomial of n,L) by A41,POLYNOM7:def 1;
( len B ) = ( ( len A9 ) + ( len <* ( m9 *' p9 ) *> ) ) by FINSEQ_1:22
.= ( ( len A9 ) + 1 ) by FINSEQ_1:40;
then A44: ( dom B ) = ( Seg ( ( len A9 ) + 1 ) ) by FINSEQ_1:def 3;
A45: mp = ( mm * pp ) by POLYNOM1:def 10;
now
let i being set;
assume A46: i in ( dom B );
then reconsider j = i as (Element of ( NAT ));
A47: j <= ( ( len A9 ) + 1 ) by A44,A46,FINSEQ_1:1;
A48: 1 <= j by A44,A46,FINSEQ_1:1;
now
per cases ;
case j = ( ( len A9 ) + 1 );
then mp = ( B . j ) by FINSEQ_1:42
.= ( B /. j ) by A46,PARTFUN1:def 6;
hence (ex u being (Element of ( Polynom-Ring (n,L) )) st (ex a being (Element of P) st ( B /. i ) = ( u * a ))) by A45;
end;
case j <> ( ( len A9 ) + 1 );
then j < ( ( len A9 ) + 1 ) by A47,XXREAL_0:1;
then j <= ( len A9 ) by NAT_1:13;
then j in ( Seg ( len A9 ) ) by A48,FINSEQ_1:1;
then A49: j in ( dom A9 ) by FINSEQ_1:def 3;
then consider m being  non-zero (Monomial of n,L),p being  non-zero (Polynomial of n,L) such that A50: p in P and A51: ( A9 . j ) = ( m *' p ) and ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T by A32;
reconsider a9 = p as (Element of P) by A50;
reconsider u9 = m as (Element of ( Polynom-Ring (n,L) )) by POLYNOM1:def 10;
A52: ( B . j ) = ( B /. j ) by A46,PARTFUN1:def 6;
( u9 * a9 ) = ( m *' p ) by POLYNOM1:def 10
.= ( B /. j ) by A49,A51,A52,FINSEQ_1:def 7;
hence (ex u being (Element of ( Polynom-Ring (n,L) )) st (ex a being (Element of P) st ( B /. i ) = ( u * a )));
end;
end;
hence (ex u being (Element of ( Polynom-Ring (n,L) )) st (ex a being (Element of P) st ( B /. i ) = ( u * a )));
end;
then reconsider B as (LeftLinearCombination of P) by IDEAL_1:def 9;
h9 is_reducible_wrt p9,T by A38,POLYRED:def 8;
then h9 <> ( 0_ (n,L) ) by POLYRED:37;
then ( HT (h9,T) ) <= ( HT (f,T) ),T by A35,POLYRED:44;
then A53: ( HT (( m9 *' p9 ),T) ) <= ( HT (f,T) ),T by A40,TERMORD:8;
A54:now
let i being (Element of ( NAT ));
assume A55: i in ( dom B );
then A56: i <= ( ( len A9 ) + 1 ) by A44,FINSEQ_1:1;
A57: 1 <= i by A44,A55,FINSEQ_1:1;
now
per cases ;
case i = ( ( len A9 ) + 1 );
hence (ex m being  non-zero (Monomial of n,L) st (ex p being  non-zero (Polynomial of n,L) st ((p in P & ( B . i ) = ( m *' p )) & ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T))) by A37,A53,FINSEQ_1:42;
end;
case i <> ( ( len A9 ) + 1 );
then i < ( ( len A9 ) + 1 ) by A56,XXREAL_0:1;
then i <= ( len A9 ) by NAT_1:13;
then i in ( Seg ( len A9 ) ) by A57,FINSEQ_1:1;
then A58: i in ( dom A9 ) by FINSEQ_1:def 3;
then consider m being  non-zero (Monomial of n,L),p being  non-zero (Polynomial of n,L) such that A59: p in P and A60: ( A9 . i ) = ( m *' p ) and A61: ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T by A32;
( B . i ) = ( m *' p ) by A58,A60,FINSEQ_1:def 7;
hence (ex m being  non-zero (Monomial of n,L) st (ex p being  non-zero (Polynomial of n,L) st ((p in P & ( B . i ) = ( m *' p )) & ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T))) by A59,A61;
end;
end;
hence (ex m being  non-zero (Monomial of n,L) st (ex p being  non-zero (Polynomial of n,L) st ((p in P & ( B . i ) = ( m *' p )) & ( HT (( m *' p ),T) ) <= ( HT (f,T) ),T)));
end;
take B;
( gg + ( Sum B ) ) = ( gg + ( ( Sum A9 ) + ( Sum <* mp *> ) ) ) by RLVECT_1:41
.= ( gg + ( ( Sum A9 ) + mp ) ) by RLVECT_1:44
.= ( ( hh + ( - mp ) ) + ( ( Sum A9 ) + mp ) ) by A43,RLVECT_1:def 11
.= ( hh + ( ( - mp ) + ( ( Sum A9 ) + mp ) ) ) by RLVECT_1:def 3
.= ( hh + ( ( Sum A9 ) + ( ( - mp ) + mp ) ) ) by RLVECT_1:def 3
.= ( hh + ( ( Sum A9 ) + ( 0. ( Polynom-Ring (n,L) ) ) ) ) by RLVECT_1:5
.= ( hh + ( Sum A9 ) ) by RLVECT_1:4
.= f9 by A5,A13,A29,A31,FINSEQ_1:3,FUNCT_1:47;
hence thesis by A8,A10,A11,A36,A54;
end;
end;
hence thesis;
end;
hence thesis;
end;

end;
A62: P[ 1 ]
proof
set A = ( <*> (the carrier of ( Polynom-Ring (n,L) )) );
let f being (Polynomial of n,L),g being (Polynomial of n,L);
let f9 being (Element of ( Polynom-Ring (n,L) )),g9 being (Element of ( Polynom-Ring (n,L) ));
assume A63: (f = f9 & g = g9);
let P being non empty (Subset of ( Polynom-Ring (n,L) ));
let R being (RedSequence of ( PolyRedRel (P,T) ));
(for i being set holds (i in ( dom A ) implies (ex u being (Element of ( Polynom-Ring (n,L) )) st (ex a being (Element of P) st ( A /. i ) = ( u * a )))));
then reconsider A as (LeftLinearCombination of P) by IDEAL_1:def 9;
assume A64: ((( R . 1 ) = f & ( R . ( len R ) ) = g) & ( len R ) = 1);
take A;
f9 = ( g9 + ( 0. ( Polynom-Ring (n,L) ) ) ) by A63,A64,RLVECT_1:def 4
.= ( g9 + ( Sum A ) ) by RLVECT_1:43;
hence thesis;
end;
A65: (for k being Nat holds (1 <= k implies P[ k ])) from NAT_1:sch 8(A62,A4);
1 <= ( len R ) by NAT_1:14;
hence thesis by A1,A65,A2;
end;
