environ
vocabularies ZFMISC_1,FUNCOP_1,RELAT_1,FUNCT_1,PBOOLE,PZFMISC1,MEMBER_1,XBOOLE_0,PARTFUN1,SUBSET_1,TARSKI,CAT_1,MCART_1,GRAPH_1,STRUCT_0,ALTCAT_1,BINOP_1,RELAT_2,REALSET1,ALTCAT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,MCART_1,FUNCT_1,PZFMISC1,REALSET1,DOMAIN_1,STRUCT_0,PARTFUN1,FUNCT_2,BINOP_1,MULTOP_1,FUNCT_3,FUNCT_4,GRAPH_1,CAT_1,PBOOLE,FUNCOP_1,ALTCAT_1,CKB10,CKB14,CKB15,CKB24;
definitions STRUCT_0,ALTCAT_1,FUNCOP_1,FUNCT_1,RELAT_1,TARSKI,PBOOLE,BINOP_1,REALSET1,CKB14,CKB15,CKB24;
theorems MCART_1,ALTCAT_1,PBOOLE,TARSKI,GRFUNC_1,ZFMISC_1,MULTOP_1,RELAT_1,FUNCT_2,FUNCOP_1,FUNCT_4,FUNCT_1,FUNCT_3,DOMAIN_1,MSSUBFAM,FUNCT_7,CAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,PZFMISC1,PARTFUN1,CKB1,CKB3,CKB4,CKB6,CKB9,CKB11,CKB14,CKB15,CKB16,CKB17,CKB18,CKB22,CKB23,CKB24,CKB25;
schemes ALTCAT_1,FUNCT_1,CKB19,CKB20,CKB21;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELAT_1,PBOOLE,FUNCOP_1,REALSET1,STRUCT_0,ALTCAT_1,CAT_1,PRALG_1,RELSET_1,CKB2,CKB5,CKB7,CKB8,CKB12,CKB13;
constructors FUNCT_3,REALSET1,PZFMISC1,CAT_1,PRALG_1,ALTCAT_1,RELSET_1,FUNCT_4,MSSUBFAM,CKB10,CKB14,CKB15,CKB24;
requirements SUBSET,BOOLE;
begin
reserve e for set;
definition
let C being Category;
func the_comps_of C -> (BinComp of ( the_hom_sets_of C ))
means
:Def4: (for i,j,k being (Object of C) holds ( it . (i,j,k) ) = ( (the Comp of C) | ([: ( ( the_hom_sets_of C ) . (j,k) ),( ( the_hom_sets_of C ) . (i,j) ) :] qua set) ));
existence
proof
deffunc F(set) = ( (the Comp of C) | ([: ( ( the_hom_sets_of C ) . (( ( $1 `1 ) `2 ),( $1 `2 )) ),( ( the_hom_sets_of C ) . (( ( $1 `1 ) `1 ),( ( $1 `1 ) `2 )) ) :] qua set) );
set Ob3 = [: (the carrier of C),(the carrier of C),(the carrier of C) :];
set G = ( the_hom_sets_of C );
consider o being Function such that A1: ( dom o ) = Ob3 and A2: (for e holds (e in Ob3 implies ( o . e ) = F(e))) from FUNCT_1:sch 3;
reconsider o as (ManySortedSet of Ob3) by A1,PARTFUN1:def 2,RELAT_1:def 18;
now
let e;
assume e in ( dom o );
then ( o . e ) = ( (the Comp of C) | ([: ( ( the_hom_sets_of C ) . (( ( e `1 ) `2 ),( e `2 )) ),( ( the_hom_sets_of C ) . (( ( e `1 ) `1 ),( ( e `1 ) `2 )) ) :] qua set) ) by A1,A2;
hence ( o . e ) is Function;
end;
then reconsider o as (ManySortedFunction of Ob3) by FUNCOP_1:def 6;
now
let e;
reconsider f = ( o . e ) as Function;
assume A3: e in Ob3;
then consider i being (Object of C),j being (Object of C),k being (Object of C) such that A4: e = [ i,j,k ] by DOMAIN_1:3;
reconsider e9 = e as (Element of Ob3) by A3;
A5: ( ( ([ i,j,k ] qua set) `1 ) `2 ) = ( e9 `2 ) by A4,MCART_1:46
.= j by A4,MCART_1:43;
A6: ( ([ i,j,k ] qua set) `2 ) = ( e9 `3 ) by A4,MCART_1:46
.= k by A4,MCART_1:43;
( ( ([ i,j,k ] qua set) `1 ) `1 ) = ( e9 `1 ) by A4,MCART_1:46
.= i by A4,MCART_1:43;
then A7: f = ( (the Comp of C) | ([: ( G . (j,k) ),( G . (i,j) ) :] qua set) ) by A2,A4,A5,A6;
A8: (( G . (i,j) ) = ( Hom (i,j) ) & ( G . (j,k) ) = ( Hom (j,k) )) by CKB24:def 1;
A9: ( {| G |} . e ) = ( {| G |} . (i,j,k) ) by A4,MULTOP_1:def 1
.= ( G . (i,k) ) by ALTCAT_1:def 3
.= ( Hom (i,k) ) by CKB24:def 1;
A10: ( {| G,G |} . e ) = ( {| G,G |} . (i,j,k) ) by A4,MULTOP_1:def 1
.= [: ( Hom (j,k) ),( Hom (i,j) ) :] by A8,ALTCAT_1:def 4;
A11:now
assume ( {| G |} . e ) = ( {} );
then (( Hom (i,j) ) = ( {} ) or ( Hom (j,k) ) = ( {} )) by A9,CAT_1:24;
hence ( {| G,G |} . e ) = ( {} ) by A10,ZFMISC_1:90;
end;
( (the Comp of C) .: [: ( Hom (j,k) ),( Hom (i,j) ) :] ) c= ( Hom (i,k) ) by CKB23:1;
then A12: ( rng f ) c= ( {| G |} . e ) by A8,A7,A9,RELAT_1:115;
[: ( Hom (j,k) ),( Hom (i,j) ) :] c= ( dom (the Comp of C) ) by CKB22:1;
then ( dom f ) = ( {| G,G |} . e ) by A8,A7,A10,RELAT_1:62;
hence ( o . e ) is (Function of ( {| G,G |} . e ),( {| G |} . e )) by A11,A12,FUNCT_2:def 1,RELSET_1:4;
end;
then reconsider o as (BinComp of G) by PBOOLE:def 15;
take o;
let i being (Object of C),j being (Object of C),k being (Object of C);
reconsider e = [ i,j,k ] as (Element of Ob3);
A13: ( ( ([ i,j,k ] qua set) `1 ) `1 ) = ( e `1 ) by MCART_1:46
.= i by MCART_1:43;
A14: ( ( ([ i,j,k ] qua set) `1 ) `2 ) = ( e `2 ) by MCART_1:46
.= j by MCART_1:43;
A15: ( ([ i,j,k ] qua set) `2 ) = ( e `3 ) by MCART_1:46
.= k by MCART_1:43;
thus ( o . (i,j,k) ) = ( o . [ i,j,k ] ) by MULTOP_1:def 1
.= ( (the Comp of C) | ([: ( ( the_hom_sets_of C ) . (j,k) ),( ( the_hom_sets_of C ) . (i,j) ) :] qua set) ) by A2,A13,A14,A15;
end;
uniqueness
proof
let o1 being (BinComp of ( the_hom_sets_of C )),o2 being (BinComp of ( the_hom_sets_of C ));
assume that
A16: (for i,j,k being (Object of C) holds ( o1 . (i,j,k) ) = ( (the Comp of C) | ([: ( ( the_hom_sets_of C ) . (j,k) ),( ( the_hom_sets_of C ) . (i,j) ) :] qua set) ))
and
A17: (for i,j,k being (Object of C) holds ( o2 . (i,j,k) ) = ( (the Comp of C) | ([: ( ( the_hom_sets_of C ) . (j,k) ),( ( the_hom_sets_of C ) . (i,j) ) :] qua set) ));
now
let a being set;
assume a in [: (the carrier of C),(the carrier of C),(the carrier of C) :];
then consider i being (Object of C),j being (Object of C),k being (Object of C) such that A18: a = [ i,j,k ] by DOMAIN_1:3;
thus ( o1 . a ) = ( o1 . (i,j,k) ) by A18,MULTOP_1:def 1
.= ( (the Comp of C) | ([: ( ( the_hom_sets_of C ) . (j,k) ),( ( the_hom_sets_of C ) . (i,j) ) :] qua set) ) by A16
.= ( o2 . (i,j,k) ) by A17
.= ( o2 . a ) by A18,MULTOP_1:def 1;
end;
hence o1 = o2 by PBOOLE:3;
end;
end;
