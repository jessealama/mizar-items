environ
vocabularies NUMBERS,SUBSET_1,REAL_1,INTEGRA1,XBOOLE_0,MEASURE7,CARD_1,FINSEQ_1,RELAT_1,XXREAL_0,FUNCT_1,SEQ_4,ARYTM_3,ARYTM_1,FUNCT_3,TARSKI,PARTFUN1,CARD_3,VALUED_1,XXREAL_2,XXREAL_1,INTEGRA2,SEQ_2,ORDINAL2,FINSET_1,NAT_1,FINSEQ_2,VALUED_0,FDIFF_1,XREAL_0,ORDINAL1,COMPLEX1,INT_1,ZFMISC_1,RFUNCT_3,SEQ_1,ORDINAL4,SQUARE_1,INTEGRA4,MEASURE5;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,INT_1,XXREAL_2,VALUED_0,ZFMISC_1,FUNCT_1,RELSET_1,FINSET_1,FUNCT_2,FINSEQ_1,VALUED_1,SEQ_1,RFUNCT_1,FINSEQ_2,SEQ_2,SEQ_4,RCOMP_1,FDIFF_1,SQUARE_1,RVSUM_1,MEASURE5,INTEGRA1,INTEGRA2,INTEGRA3,RFUNCT_3,PARTFUN1,XXREAL_0,CKB13;
definitions TARSKI,SQUARE_1,RVSUM_1,FINSEQ_2,VALUED_1,XXREAL_2,CKB13;
theorems SEQ_4,SUBSET_1,PARTFUN1,INTEGRA1,RFUNCT_1,FUNCT_1,FINSEQ_1,RVSUM_1,SEQ_1,SEQ_2,FDIFF_1,ABSVALUE,NAT_1,TARSKI,FINSEQ_3,INTEGRA2,INTEGRA3,SEQM_3,PARTFUN2,NAT_2,INT_1,FINSEQ_2,RFUNCT_3,RELAT_1,XREAL_0,FUNCT_2,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,FINSOP_1,FUNCOP_1,VALUED_1,XXREAL_2,VALUED_0,ORDINAL1,RELSET_1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15;
schemes FINSEQ_2,FUNCT_2;
registrations XBOOLE_0,RELAT_1,ORDINAL1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,FINSEQ_2,INTEGRA1,VALUED_0,VALUED_1,XXREAL_2,CARD_1,SEQ_2,SEQ_4,RELSET_1,SEQM_3,MEASURE5;
constructors REAL_1,SQUARE_1,NAT_1,BINOP_2,COMPLEX1,FINSEQOP,FINSOP_1,PARTFUN2,FDIFF_1,ZFMISC_1,RFUNCT_3,INTEGRA2,SEQ_1,XXREAL_2,RVSUM_1,SEQ_4,RELSET_1,SEQ_2,INTEGRA3,CKB13;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve k for (Element of ( NAT ));
reserve A for non empty  closed_interval (Subset of ( REAL ));
theorem
Lm5: (( vol A ) = ( 0 ) implies (ex T being (DivSequence of A) st (( delta T ) is  convergent & ( lim ( delta T ) ) = ( 0 ))))
proof
set T = the (DivSequence of A);
assume A1: ( vol A ) = ( 0 );
A2: (for i being Nat holds ( ( delta T ) . i ) = ( 0 ))
proof
let i being Nat;
reconsider ii = i as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D = ( T . ii ) as (Division of A);
A3: ( ( delta T ) . i ) = ( delta D ) by INTEGRA3:def 2
.= ( max ( rng ( upper_volume (( chi (A,A) ),D) ) ) ) by INTEGRA3:def 1;
A4: ( len D ) = 1
proof
assume ( len D ) <> 1;
then ( len D ) is non trivial by NAT_2:def 1;
then A5: ( len D ) >= 2 by NAT_2:29;
then 1 <= ( len D ) by XXREAL_0:2;
then A6: 1 in ( dom D ) by FINSEQ_3:25;
then A7: ( D . 1 ) in A by INTEGRA1:6;
then A8: ( lower_bound A ) <= ( D . 1 ) by INTEGRA2:1;
A9: 2 in ( dom D ) by A5,FINSEQ_3:25;
then ( D . 2 ) in A by INTEGRA1:6;
then A10: ( D . 2 ) <= ( upper_bound A ) by INTEGRA2:1;
A11: ( D . 1 ) <= ( upper_bound A ) by A7,INTEGRA2:1;
A12: ( ( upper_bound A ) - ( lower_bound A ) ) = ( 0 ) by A1,INTEGRA1:def 5;
( D . 1 ) < ( D . 2 ) by A6,A9,SEQM_3:def 1;
hence contradiction by A8,A11,A10,A12,XXREAL_0:1;
end;
(for x1 being set holds (x1 in { ( 0 ) } implies x1 in ( rng ( upper_volume (( chi (A,A) ),D) ) )))
proof
let x1 being set;
A13: 1 in ( Seg ( len D ) ) by A4,FINSEQ_1:3;
then 1 in ( dom D ) by FINSEQ_1:def 3;
then A14: ( ( upper_volume (( chi (A,A) ),D) ) . 1 ) = ( vol ( divset (D,1) ) ) by INTEGRA1:20;
1 in ( Seg ( len ( upper_volume (( chi (A,A) ),D) ) ) ) by A13,INTEGRA1:def 6;
then 1 in ( dom ( upper_volume (( chi (A,A) ),D) ) ) by FINSEQ_1:def 3;
then A15: ( ( upper_volume (( chi (A,A) ),D) ) . 1 ) in ( rng ( upper_volume (( chi (A,A) ),D) ) ) by FUNCT_1:def 3;
A16: 1 in ( dom D ) by A13,FINSEQ_1:def 3;
then ( upper_bound ( divset (D,1) ) ) = ( D . ( len D ) ) by A4,INTEGRA1:def 4;
then A17: ( upper_bound ( divset (D,1) ) ) = ( upper_bound A ) by INTEGRA1:def 2;
( lower_bound ( divset (D,1) ) ) = ( lower_bound A ) by A16,INTEGRA1:def 4;
then A18: ( vol ( divset (D,1) ) ) = ( ( upper_bound A ) - ( lower_bound A ) ) by A17,INTEGRA1:def 5
.= ( 0 ) by A1,INTEGRA1:def 5;
assume x1 in { ( 0 ) };
hence thesis by A15,A14,A18,TARSKI:def 1;
end;
then A19: { ( 0 ) } c= ( rng ( upper_volume (( chi (A,A) ),D) ) ) by TARSKI:def 3;
(for x1 being set holds (x1 in ( rng ( upper_volume (( chi (A,A) ),D) ) ) implies x1 in { ( 0 ) }))
proof
let x1 being set;
assume A20: x1 in ( rng ( upper_volume (( chi (A,A) ),D) ) );
then consider k such that A21: k in ( dom ( upper_volume (( chi (A,A) ),D) ) ) and A22: ( ( upper_volume (( chi (A,A) ),D) ) . k ) = x1 by PARTFUN1:3;
reconsider x1 as Real by A20;
k in ( Seg ( len ( upper_volume (( chi (A,A) ),D) ) ) ) by A21,FINSEQ_1:def 3;
then A23: k in ( Seg ( len D ) ) by INTEGRA1:def 6;
then A24: k in ( dom D ) by FINSEQ_1:def 3;
k in ( dom D ) by A23,FINSEQ_1:def 3;
then A25: x1 = ( vol ( divset (D,k) ) ) by A22,INTEGRA1:20;
then x1 >= ( 0 ) by INTEGRA1:9;
then x1 = ( 0 ) by A1,A25,A24,INTEGRA1:8,INTEGRA2:38;
hence thesis by TARSKI:def 1;
end;
then ( rng ( upper_volume (( chi (A,A) ),D) ) ) c= { ( 0 ) } by TARSKI:def 3;
then ( rng ( upper_volume (( chi (A,A) ),D) ) ) = { ( 0 ) } by A19,XBOOLE_0:def 10;
then ( ( delta T ) . i ) in { ( 0 ) } by A3,XXREAL_2:def 8;
hence thesis by TARSKI:def 1;
end;
then A26: ( delta T ) is  constant by VALUED_0:def 18;
( ( delta T ) . 1 ) = ( 0 ) by A2;
then ( lim ( delta T ) ) = ( 0 ) by A26,SEQ_4:25;
hence thesis by A26;
end;
