environ
vocabularies NUMBERS,SUBSET_1,REAL_1,INTEGRA1,XBOOLE_0,MEASURE7,CARD_1,FINSEQ_1,RELAT_1,XXREAL_0,FUNCT_1,SEQ_4,ARYTM_3,ARYTM_1,FUNCT_3,TARSKI,PARTFUN1,CARD_3,VALUED_1,XXREAL_2,XXREAL_1,INTEGRA2,SEQ_2,ORDINAL2,FINSET_1,NAT_1,FINSEQ_2,VALUED_0,FDIFF_1,XREAL_0,ORDINAL1,COMPLEX1,INT_1,ZFMISC_1,RFUNCT_3,SEQ_1,ORDINAL4,SQUARE_1,INTEGRA4,MEASURE5;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,INT_1,XXREAL_2,VALUED_0,ZFMISC_1,FUNCT_1,RELSET_1,FINSET_1,FUNCT_2,FINSEQ_1,VALUED_1,SEQ_1,RFUNCT_1,FINSEQ_2,SEQ_2,SEQ_4,RCOMP_1,FDIFF_1,SQUARE_1,RVSUM_1,MEASURE5,INTEGRA1,INTEGRA2,INTEGRA3,RFUNCT_3,PARTFUN1,XXREAL_0,CKB13;
definitions TARSKI,SQUARE_1,RVSUM_1,FINSEQ_2,VALUED_1,XXREAL_2,CKB13;
theorems SEQ_4,SUBSET_1,PARTFUN1,INTEGRA1,RFUNCT_1,FUNCT_1,FINSEQ_1,RVSUM_1,SEQ_1,SEQ_2,FDIFF_1,ABSVALUE,NAT_1,TARSKI,FINSEQ_3,INTEGRA2,INTEGRA3,SEQM_3,PARTFUN2,NAT_2,INT_1,FINSEQ_2,RFUNCT_3,RELAT_1,XREAL_0,FUNCT_2,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,FINSOP_1,FUNCOP_1,VALUED_1,XXREAL_2,VALUED_0,ORDINAL1,RELSET_1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17;
schemes FINSEQ_2,FUNCT_2;
registrations XBOOLE_0,RELAT_1,ORDINAL1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,FINSEQ_2,INTEGRA1,VALUED_0,VALUED_1,XXREAL_2,CARD_1,SEQ_2,SEQ_4,RELSET_1,SEQM_3,MEASURE5;
constructors REAL_1,SQUARE_1,NAT_1,BINOP_2,COMPLEX1,FINSEQOP,FINSOP_1,PARTFUN2,FDIFF_1,ZFMISC_1,RFUNCT_3,INTEGRA2,SEQ_1,XXREAL_2,RVSUM_1,SEQ_4,RELSET_1,SEQ_2,INTEGRA3,CKB13;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve A for non  empty  closed_interval (Subset of ( REAL ));
theorem
Th12: (for f being (Function of A,( REAL )) holds (( f | A ) is  bounded implies (f is  integrable iff (for T being (DivSequence of A) holds ((( delta T ) is  convergent & ( lim ( delta T ) ) = ( 0 )) implies ( ( lim ( upper_sum (f,T) ) ) - ( lim ( lower_sum (f,T) ) ) ) = ( 0 ))))))
proof
let f being (Function of A,( REAL ));
assume A1: ( f | A ) is  bounded;
A2: (f is  integrable implies (for T being (DivSequence of A) holds ((( delta T ) is  convergent & ( lim ( delta T ) ) = ( 0 )) implies ( ( lim ( upper_sum (f,T) ) ) - ( lim ( lower_sum (f,T) ) ) ) = ( 0 ))))
proof
assume A3: f is  integrable;
(for T being (DivSequence of A) holds ((( delta T ) is  convergent & ( lim ( delta T ) ) = ( 0 )) implies ( ( lim ( upper_sum (f,T) ) ) - ( lim ( lower_sum (f,T) ) ) ) = ( 0 )))
proof
A4: ( upper_integral f ) = ( lower_integral f ) by A3,INTEGRA1:def 16;
let T being (DivSequence of A);
assume that
A5: ( delta T ) is  convergent
and
A6: ( lim ( delta T ) ) = ( 0 );
A7: ( lim ( lower_sum (f,T) ) ) = ( lower_integral f ) by A1,A5,A6,CKB10:1;
( lim ( upper_sum (f,T) ) ) = ( upper_integral f ) by A1,A5,A6,CKB11:1;
hence thesis by A7,A4;
end;
hence thesis;
end;
((for T being (DivSequence of A) holds ((( delta T ) is  convergent & ( lim ( delta T ) ) = ( 0 )) implies ( ( lim ( upper_sum (f,T) ) ) - ( lim ( lower_sum (f,T) ) ) ) = ( 0 ))) implies f is  integrable)
proof
consider T being (DivSequence of A) such that A8: ( delta T ) is  convergent and A9: ( lim ( delta T ) ) = ( 0 ) by CKB17:1;
assume (for T being (DivSequence of A) holds ((( delta T ) is  convergent & ( lim ( delta T ) ) = ( 0 )) implies ( ( lim ( upper_sum (f,T) ) ) - ( lim ( lower_sum (f,T) ) ) ) = ( 0 )));
then ( ( lim ( upper_sum (f,T) ) ) - ( lim ( lower_sum (f,T) ) ) ) = ( 0 ) by A8,A9;
then ( ( upper_integral f ) - ( lim ( lower_sum (f,T) ) ) ) = ( 0 ) by A1,A8,A9,CKB11:1;
then A10: ( ( upper_integral f ) - ( lower_integral f ) ) = ( 0 ) by A1,A8,A9,CKB10:1;
A11: f is  lower_integrable by A1,CKB12:1;
f is  upper_integrable by A1,CKB12:1;
hence thesis by A11,A10,INTEGRA1:def 16;
end;
hence thesis by A2;
end;
