environ
vocabularies XBOOLE_0,ORDERS_2,RELAT_1,SEQM_3,FUNCT_1,WAYBEL_0,SUBSET_1,XXREAL_0,STRUCT_0,SETFAM_1,RELAT_2,LATTICE3,LATTICES,TARSKI,EQREL_1,WELLORD1,YELLOW_0,CAT_1,ORDINAL2,WAYBEL_2,YELLOW_2,FINSUB_1,WELLORD2,YELLOW_1,YELLOW_6,PRE_TOPC,RCOMP_1,ZFMISC_1,ORDERS_1,CARD_1,NATTRA_1,FINSET_1,COMPTS_1,CONNSP_2,ORDINAL1,TOPS_1,SEQ_2,WAYBEL_7,MCART_1,XXREAL_2,WAYBEL_9;
notations TARSKI,XBOOLE_0,SUBSET_1,MCART_1,FINSUB_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,FINSET_1,SETFAM_1,TOLER_1,PARTFUN1,FUNCT_2,CARD_1,NUMBERS,ORDERS_1,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_1,TOPS_2,ORDERS_2,COMPTS_1,CONNSP_2,LATTICE3,ORDERS_3,TDLAT_3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_4,WAYBEL_2,YELLOW_6,CKB2,CKB23,CKB24,CKB25,CKB26,CKB34,CKB42,CKB56,CKB57,CKB66,CKB72,CKB83;
definitions TARSKI,YELLOW_6,ORDERS_2,WAYBEL_0,WAYBEL_1,YELLOW_0,PRE_TOPC,WAYBEL_2,COMPTS_1,LATTICE3,TOPS_2,STRUCT_0,XBOOLE_0,SUBSET_1,WELLORD1,SETFAM_1,FINSET_1,CKB2,CKB23,CKB24,CKB25,CKB26,CKB34,CKB42,CKB57,CKB83;
theorems BORSUK_1,COMPTS_1,CONNSP_2,FINSET_1,FUNCT_1,FUNCT_2,LATTICE3,MCART_1,ORDERS_2,ORDERS_1,PCOMPS_1,PRE_TOPC,RELAT_1,SETFAM_1,TARSKI,TOPS_1,TOPS_2,WAYBEL_0,WAYBEL_1,WAYBEL_2,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_4,YELLOW_6,YELLOW_7,ZFMISC_1,RELSET_1,TDLAT_3,WAYBEL_8,XBOOLE_0,XBOOLE_1,RELAT_2,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB16,CKB17,CKB23,CKB24,CKB25,CKB26,CKB34,CKB35,CKB42,CKB43,CKB44,CKB45,CKB52,CKB53,CKB54,CKB57,CKB63,CKB64,CKB65,CKB70,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86;
schemes YELLOW_0,FUNCT_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,FUNCT_2,FINSUB_1,STRUCT_0,PRE_TOPC,LATTICE3,YELLOW_0,TDLAT_3,WAYBEL_0,YELLOW_4,WAYBEL_2,WAYBEL_3,YELLOW_6,COMPTS_1,TOPS_1,CARD_1,ORDINAL1,CKB1,CKB14,CKB15,CKB18,CKB19,CKB20,CKB21,CKB22,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB55,CKB58,CKB59,CKB60,CKB61,CKB62,CKB66,CKB67,CKB68,CKB69,CKB71,CKB73,CKB74;
constructors SETFAM_1,DOMAIN_1,FINSUB_1,TOLER_1,TOPS_1,TOPS_2,CONNSP_2,PCOMPS_1,TDLAT_3,ORDERS_3,WAYBEL_1,YELLOW_4,WAYBEL_2,YELLOW_6,COMPTS_1,RELSET_1,CKB23,CKB24,CKB25,CKB26,CKB34,CKB42,CKB56,CKB57,CKB66,CKB83;
requirements BOOLE,SUBSET,NUMERALS;
begin
theorem
Th32: (for T being non  empty TopSpace holds (for N being (net of T) holds (for x being (Point of T) holds (x is_a_cluster_point_of N implies (ex M being (subnet of N) st x in ( Lim M ))))))
proof
let T being non  empty TopSpace;
let N being (net of T);
let x being (Point of T);
assume that
A1: x is_a_cluster_point_of N;
set q = the (Element of N);
set S9 = { [ s,O ] where s is (Element of N),O is (Element of ( OpenNeighborhoods x )): ( N . s ) in O };
reconsider O = ( [#] T ) as (Element of ( OpenNeighborhoods x )) by YELLOW_6:30;
( N . q ) in ( [#] T );
then [ q,O ] in S9;
then reconsider S9 as non  empty set;
set n = (the mapping of N);
defpred P[ set,set ]
 means
(ex s1,s2 being (Element of N) st (((s1 = ( $1 `1 ) & s2 = ( $2 `1 )) & s1 <= s2) & ( $2 `2 ) c= ( $1 `2 )));
consider L being non  empty  strict RelStr such that A2: (the carrier of L) = S9 and A3: (for a,b being (Element of L) holds (a <= b iff P[ a,b ])) from YELLOW_0:sch 1;
deffunc F((Element of L)) = ( n . ( $1 `1 ) );
A4: (for a being (Element of L) holds F(a) in (the carrier of T))
proof
let a being (Element of L);
a in S9 by A2;
then consider s being (Element of N),O being (Element of ( OpenNeighborhoods x )) such that A5: a = [ s,O ] and ( N . s ) in O;
( n . ( a `1 ) ) = ( n . s ) by A5,MCART_1:7;
hence thesis;
end;
consider g being (Function of (the carrier of L),(the carrier of T)) such that A6: (for x being (Element of L) holds ( g . x ) = F(x)) from FUNCT_2:sch 8(A4);
set M = NetStr (# (the carrier of L),(the InternalRel of L),g #);
(for a,b being (Element of M) holds (ex z being (Element of M) st (a <= z & b <= z)))
proof
let a being (Element of M);
let b being (Element of M);
a in S9 by A2;
then consider aa being (Element of N),Oa being (Element of ( OpenNeighborhoods x )) such that A7: a = [ aa,Oa ] and ( N . aa ) in Oa;
b in S9 by A2;
then consider bb being (Element of N),Ob being (Element of ( OpenNeighborhoods x )) such that A8: b = [ bb,Ob ] and ( N . bb ) in Ob;
consider z1 being (Element of N) such that A9: aa <= z1 and A10: bb <= z1 by YELLOW_6:def 3;
(Oa is (a_neighborhood of x) & Ob is (a_neighborhood of x)) by CKB75:1;
then ( Oa /\ Ob ) is (a_neighborhood of x) by CONNSP_2:2;
then N is_often_in ( Oa /\ Ob ) by A1,CKB83:def 1;
then consider d being (Element of N) such that A11: z1 <= d and A12: ( N . d ) in ( Oa /\ Ob ) by WAYBEL_0:def 12;
( Oa /\ Ob ) is (Element of ( OpenNeighborhoods x )) by CKB76:1;
then [ d,( Oa /\ Ob ) ] in S9 by A12;
then reconsider z = [ d,( Oa /\ Ob ) ] as (Element of M) by A2;
reconsider A1 = a,C7 = b,z2 = z as (Element of L);
A13: (( C7 `1 ) = bb & ( C7 `2 ) = Ob) by A8,MCART_1:7;
take z;
A14: (( A1 `1 ) = aa & ( A1 `2 ) = Oa) by A7,MCART_1:7;
A15: (( z2 `1 ) = d & ( z2 `2 ) = ( Oa /\ Ob )) by MCART_1:7;
(( Oa /\ Ob ) c= Ob & bb <= d) by A10,A11,XBOOLE_1:17,YELLOW_0:def 2;
then A16: C7 <= z2 by A3,A13,A15;
(( Oa /\ Ob ) c= Oa & aa <= d) by A9,A11,XBOOLE_1:17,YELLOW_0:def 2;
then A1 <= z2 by A3,A14,A15;
hence thesis by A16,YELLOW_0:1;
end;
then reconsider M as (prenet of T) by YELLOW_6:def 3;
M is  transitive
proof
let x being (Element of M);
let y being (Element of M);
let z being (Element of M);
assume that
A17: x <= y
and
A18: y <= z;
reconsider x1 = x,y1 = y,z1 = z as (Element of L);
x1 <= y1 by A17,YELLOW_0:1;
then consider sx,sy being (Element of N) such that A19: sx = ( x1 `1 ) and A20: ((sy = ( y1 `1 ) & sx <= sy) & ( y1 `2 ) c= ( x1 `2 )) by A3;
y1 <= z1 by A18,YELLOW_0:1;
then consider s1,s2 being (Element of N) such that A21: s1 = ( y1 `1 ) and A22: s2 = ( z1 `1 ) and A23: (s1 <= s2 & ( z1 `2 ) c= ( y1 `2 )) by A3;
(sx <= s2 & ( z1 `2 ) c= ( x1 `2 )) by A20,A21,A23,XBOOLE_1:1,YELLOW_0:def 2;
then x1 <= z1 by A3,A19,A22;
hence thesis by YELLOW_0:1;
end;
then reconsider M as (net of T);
M is (subnet of N)
proof
deffunc F((Element of L)) = ( $1 `1 );
A24: (for a being (Element of L) holds F(a) in (the carrier of N))
proof
let a being (Element of L);
a in S9 by A2;
then consider s being (Element of N),O being (Element of ( OpenNeighborhoods x )) such that A25: a = [ s,O ] and ( N . s ) in O;
( a `1 ) = s by A25,MCART_1:7;
hence thesis;
end;
consider f being (Function of (the carrier of L),(the carrier of N)) such that A26: (for x being (Element of L) holds ( f . x ) = F(x)) from FUNCT_2:sch 8(A24);
reconsider f as (Function of M,N);
take f;
(for x being set holds (x in (the carrier of M) implies ( g . x ) = ( ( n * f ) . x )))
proof
let x being set;
assume A27: x in (the carrier of M);
hence ( g . x ) = ( n . ( x `1 ) ) by A6
.= ( n . ( f . x ) ) by A26,A27
.= ( ( n * f ) . x ) by A27,FUNCT_2:15;
end;
hence (the mapping of M) = ( (the mapping of N) * f ) by FUNCT_2:12;
let m being (Element of N);
( N . m ) in ( [#] T );
then [ m,O ] in S9;
then reconsider n = [ m,O ] as (Element of M) by A2;
take n;
let p being (Element of M);
assume that
A28: n <= p;
reconsider n1 = n,p1 = p as (Element of L);
n1 <= p1 by A28,YELLOW_0:1;
then A29: (ex s1,s2 being (Element of N) st (((s1 = ( n1 `1 ) & s2 = ( p1 `1 )) & s1 <= s2) & ( p1 `2 ) c= ( n1 `2 ))) by A3;
( f . p ) = ( p `1 ) by A26;
hence thesis by A29,MCART_1:7;
end;
then reconsider M as (subnet of N);
take M;
(for V being (a_neighborhood of x) holds M is_eventually_in V)
proof
set i = the (Element of N);
let V being (a_neighborhood of x);
(x in ( Int V ) & ( Int V ) is  open) by CONNSP_2:def 1;
then A30: ( Int V ) in (the carrier of ( OpenNeighborhoods x )) by YELLOW_6:30;
then ( Int V ) is (a_neighborhood of x) by CKB75:1;
then N is_often_in ( Int V ) by A1,CKB83:def 1;
then consider s being (Element of N) such that i <= s and A31: ( N . s ) in ( Int V ) by WAYBEL_0:def 12;
A32: M is_eventually_in ( Int V )
proof
[ s,( Int V ) ] in S9 by A30,A31;
then reconsider j = [ s,( Int V ) ] as (Element of M) by A2;
take j;
let s9 being (Element of M);
assume that
A33: j <= s9;
reconsider j1 = j,s1 = s9 as (Element of L);
j1 <= s1 by A33,YELLOW_0:1;
then A34: (ex s1,s2 being (Element of N) st (((s1 = ( j `1 ) & s2 = ( s9 `1 )) & s1 <= s2) & ( s9 `2 ) c= ( j `2 ))) by A3;
s9 in S9 by A2;
then consider ss being (Element of N),OO being (Element of ( OpenNeighborhoods x )) such that A35: s9 = [ ss,OO ] and A36: ( N . ss ) in OO;
A37: (( j `2 ) = ( Int V ) & ( s9 `2 ) = OO) by A35,MCART_1:7;
( M . s9 ) = ( n . ( s9 `1 ) ) by A6
.= ( N . ss ) by A35,MCART_1:7;
hence thesis by A36,A34,A37;
end;
( Int V ) c= V by TOPS_1:16;
hence thesis by A32,WAYBEL_0:8;
end;
hence thesis by YELLOW_6:def 15;
end;
