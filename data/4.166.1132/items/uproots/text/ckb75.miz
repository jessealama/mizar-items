environ
vocabularies NUMBERS,FINSEQ_1,SUBSET_1,RELAT_1,FUNCT_1,CARD_1,CARD_3,FINSEQ_2,ARYTM_3,ORDINAL4,TARSKI,NAT_1,XXREAL_0,REAL_1,ARYTM_1,XBOOLE_0,ORDINAL1,RLVECT_1,ALGSTR_0,SUPINF_2,PARTFUN1,FINSET_1,FUNCT_2,MCART_1,ZFMISC_1,PRE_POLY,FUNCT_4,FUNCOP_1,VALUED_0,PBOOLE,XREAL_0,SGRAPH1,FINSOP_1,BINOP_1,GROUP_1,STRUCT_0,POLYNOM1,POLYNOM3,AFINSQ_1,MESFUNC1,ALGSEQ_1,VECTSP_1,POLYNOM5,LATTICES,VECTSP_2,COMPLFLD,POLYNOM2,FVSUM_1,MEMBERED,CLASSES1,UPROOTS;
notations TARSKI,XBOOLE_0,XCMPLX_0,XXREAL_0,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XREAL_0,ZFMISC_1,REAL_1,VECTSP_2,BINOP_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FINSEQ_1,FINSEQ_2,DOMAIN_1,FUNCT_2,XXREAL_2,VALUED_0,NAT_1,NAT_D,STRUCT_0,ALGSTR_0,RLVECT_1,VFUNCT_1,VECTSP_1,FINSOP_1,NORMSP_1,GROUP_4,RVSUM_1,ALGSEQ_1,COMPLFLD,BHSP_1,POLYNOM3,POLYNOM4,POLYNOM5,FINSET_1,MCART_1,FUNCT_4,FUNCOP_1,CLASSES1,FVSUM_1,WSIERP_1,MEMBERED,GROUP_1,RECDEF_1,PRE_POLY,CKB5,CKB11,CKB17,CKB18,CKB19,CKB20,CKB27,CKB59,CKB65,CKB72;
definitions TARSKI,VECTSP_2,FUNCT_1,POLYNOM3,POLYNOM5,FINSEQ_2,RVSUM_1,GROUP_4,RLVECT_1,FUNCOP_1,RELAT_1,STRUCT_0,CKB5,CKB11,CKB18,CKB20,CKB27,CKB59,CKB65,CKB72;
theorems GROUP_1,CARD_1,FINSEQ_1,ZFMISC_1,NAT_1,FUNCT_1,FUNCT_2,RELAT_1,TARSKI,XBOOLE_0,XBOOLE_1,VECTSP_1,POLYNOM5,INT_1,AXIOMS,RVSUM_1,FVSUM_1,FINSEQ_3,FINSEQ_2,POLYNOM4,POLYNOM3,FUNCT_7,ALGSEQ_1,RLVECT_1,PBOOLE,FUNCOP_1,MATRIX_3,VECTSP_2,CARD_2,FINSEQ_5,GRAPH_5,BAGORDER,RFINSEQ,WELLORD2,CARD_3,ORDINAL1,FINSOP_1,MONOID_0,INTEGRA1,FUNCT_4,MCART_1,XREAL_1,GROUP_4,XXREAL_0,PARTFUN1,XXREAL_2,NAT_D,FINSEQ_4,CLASSES1,PRE_POLY,TREES_9,CKB1,CKB3,CKB5,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB31,CKB32,CKB33,CKB35,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB72,CKB73,CKB74;
schemes NAT_1,FUNCT_1,FUNCT_2,FRAENKEL,ALGSEQ_1,FINSEQ_1,RECDEF_1,CLASSES1,INT_1,CKB2;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,BINOP_2,CARD_1,MEMBERED,FINSEQ_1,STRUCT_0,VECTSP_1,COMPLFLD,ALGSTR_1,MONOID_0,PRE_POLY,POLYNOM3,POLYNOM4,POLYNOM5,FINSEQ_2,VALUED_0,XXREAL_2,FUNCT_2,RELSET_1,GROUP_1,VFUNCT_1,CKB4,CKB6,CKB8,CKB29,CKB30,CKB34,CKB36,CKB37,CKB56,CKB71;
constructors WELLORD2,SETWISEO,REAL_1,FINSEQOP,FINSOP_1,NAT_D,WSIERP_1,VECTSP_2,REALSET2,ALGSTR_1,GROUP_4,BHSP_1,MATRIX_2,MONOID_0,GOBOARD1,POLYNOM2,POLYNOM4,POLYNOM5,SEQ_1,RECDEF_1,BINOP_2,CLASSES1,XXREAL_2,RELSET_1,FUNCT_7,FVSUM_1,VFUNCT_1,CKB5,CKB11,CKB18,CKB20,CKB27,CKB59,CKB65,CKB72;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
definition
let L being domRing;
let p being  non-zero (Polynomial of L);
func BRoots p -> (bag of (the carrier of L)) means 
:Def9: (( support it ) = ( Roots p ) & (for x being (Element of L) holds ( it . x ) = ( multiplicity (p,x) )));
existence
proof
deffunc F((Element of L)) = ( multiplicity (p,$1) );
consider b being (Function of (the carrier of L),( NAT )) such that A1: (for x being (Element of L) holds ( b . x ) = F(x)) from FUNCT_2:sch 4;
( dom b ) = (the carrier of L) by FUNCT_2:def 1;
then A2: ( support b ) c= (the carrier of L) by PRE_POLY:37;
A3:now
let x being set;
hereby
assume A4: x in ( support b );
then reconsider xx = x as (Element of L) by A2;
( b . x ) <> ( 0 ) by A4,PRE_POLY:def 7;
then A5: ( b . xx ) >= ( (( 0 ) qua Nat) + 1 ) by NAT_1:13;
( b . x ) = F(xx) by A1;
then xx is_a_root_of p by A5,CKB73:1;
hence x in ( Roots p ) by POLYNOM5:def 9;
end;
assume A6: x in ( Roots p );
then reconsider xx = x as (Element of L);
xx is_a_root_of p by A6,POLYNOM5:def 9;
then ( multiplicity (p,xx) ) >= 1 by CKB73:1;
then ( b . xx ) >= 1 by A1;
hence x in ( support b ) by PRE_POLY:def 7;
end;
then ( support b ) = ( Roots p ) by TARSKI:1;
then reconsider b as (bag of (the carrier of L)) by PRE_POLY:def 8;
take b;
thus thesis by A1,A3,TARSKI:1;
end;
uniqueness
proof
let it1 being (bag of (the carrier of L));
let it2 being (bag of (the carrier of L));
assume that
( support it1 ) = ( Roots p )
and
A7: (for x being (Element of L) holds ( it1 . x ) = ( multiplicity (p,x) ))
and
( support it2 ) = ( Roots p )
and
A8: (for x being (Element of L) holds ( it2 . x ) = ( multiplicity (p,x) ));
now
let x being set;
assume x in (the carrier of L);
then reconsider xx = x as (Element of L);
thus ( it1 . x ) = ( multiplicity (p,xx) ) by A7
.= ( it2 . x ) by A8;
end;
hence it1 = it2 by PBOOLE:3;
end;
end;
