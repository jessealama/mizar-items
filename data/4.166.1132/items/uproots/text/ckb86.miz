environ
vocabularies NUMBERS,FINSEQ_1,SUBSET_1,RELAT_1,FUNCT_1,CARD_1,CARD_3,FINSEQ_2,ARYTM_3,ORDINAL4,TARSKI,NAT_1,XXREAL_0,REAL_1,ARYTM_1,XBOOLE_0,ORDINAL1,RLVECT_1,ALGSTR_0,SUPINF_2,PARTFUN1,FINSET_1,FUNCT_2,MCART_1,ZFMISC_1,PRE_POLY,FUNCT_4,FUNCOP_1,VALUED_0,PBOOLE,XREAL_0,SGRAPH1,FINSOP_1,BINOP_1,GROUP_1,STRUCT_0,POLYNOM1,POLYNOM3,AFINSQ_1,MESFUNC1,ALGSEQ_1,VECTSP_1,POLYNOM5,LATTICES,VECTSP_2,COMPLFLD,POLYNOM2,FVSUM_1,MEMBERED,CLASSES1,UPROOTS;
notations TARSKI,XBOOLE_0,XCMPLX_0,XXREAL_0,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XREAL_0,ZFMISC_1,REAL_1,VECTSP_2,BINOP_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FINSEQ_1,FINSEQ_2,DOMAIN_1,FUNCT_2,XXREAL_2,VALUED_0,NAT_1,NAT_D,STRUCT_0,ALGSTR_0,RLVECT_1,VFUNCT_1,VECTSP_1,FINSOP_1,NORMSP_1,GROUP_4,RVSUM_1,ALGSEQ_1,COMPLFLD,BHSP_1,POLYNOM3,POLYNOM4,POLYNOM5,FINSET_1,MCART_1,FUNCT_4,FUNCOP_1,CLASSES1,FVSUM_1,WSIERP_1,MEMBERED,GROUP_1,RECDEF_1,PRE_POLY,CKB5,CKB11,CKB17,CKB18,CKB19,CKB20,CKB27,CKB59,CKB65,CKB72,CKB75,CKB82,CKB83;
definitions TARSKI,VECTSP_2,FUNCT_1,POLYNOM3,POLYNOM5,FINSEQ_2,RVSUM_1,GROUP_4,RLVECT_1,FUNCOP_1,RELAT_1,STRUCT_0,CKB5,CKB11,CKB18,CKB20,CKB27,CKB59,CKB65,CKB72,CKB75,CKB82,CKB83;
theorems GROUP_1,CARD_1,FINSEQ_1,ZFMISC_1,NAT_1,FUNCT_1,FUNCT_2,RELAT_1,TARSKI,XBOOLE_0,XBOOLE_1,VECTSP_1,POLYNOM5,INT_1,AXIOMS,RVSUM_1,FVSUM_1,FINSEQ_3,FINSEQ_2,POLYNOM4,POLYNOM3,FUNCT_7,ALGSEQ_1,RLVECT_1,PBOOLE,FUNCOP_1,MATRIX_3,VECTSP_2,CARD_2,FINSEQ_5,GRAPH_5,BAGORDER,RFINSEQ,WELLORD2,CARD_3,ORDINAL1,FINSOP_1,MONOID_0,INTEGRA1,FUNCT_4,MCART_1,XREAL_1,GROUP_4,XXREAL_0,PARTFUN1,XXREAL_2,NAT_D,FINSEQ_4,CLASSES1,PRE_POLY,TREES_9,CKB1,CKB3,CKB5,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB31,CKB32,CKB33,CKB35,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85;
schemes NAT_1,FUNCT_1,FUNCT_2,FRAENKEL,ALGSEQ_1,FINSEQ_1,RECDEF_1,CLASSES1,INT_1,CKB2;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,BINOP_2,CARD_1,MEMBERED,FINSEQ_1,STRUCT_0,VECTSP_1,COMPLFLD,ALGSTR_1,MONOID_0,PRE_POLY,POLYNOM3,POLYNOM4,POLYNOM5,FINSEQ_2,VALUED_0,XXREAL_2,FUNCT_2,RELSET_1,GROUP_1,VFUNCT_1,CKB4,CKB6,CKB8,CKB29,CKB30,CKB34,CKB36,CKB37,CKB56,CKB71;
constructors WELLORD2,SETWISEO,REAL_1,FINSEQOP,FINSOP_1,NAT_D,WSIERP_1,VECTSP_2,REALSET2,ALGSTR_1,GROUP_4,BHSP_1,MATRIX_2,MONOID_0,GOBOARD1,POLYNOM2,POLYNOM4,POLYNOM5,SEQ_1,RECDEF_1,BINOP_2,CLASSES1,XXREAL_2,RELSET_1,FUNCT_7,FVSUM_1,VFUNCT_1,CKB5,CKB11,CKB18,CKB20,CKB27,CKB59,CKB65,CKB72,CKB75,CKB82,CKB83;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
theorem
Th64: (for L being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for b being (bag of (the carrier of L)) holds (for f being (FinSequence of ( (the carrier of ( Polynom-Ring L )) * )) holds (for s being (FinSequence of L) holds (((( len f ) = ( card ( support b ) ) & s = ( canFS ( support b ) )) & (for i being (Element of ( NAT )) holds (i in ( dom f ) implies ( f . i ) = ( fpoly_mult_root (( s /. i ),( b . ( s /. i ) )) )))) implies ( len ( FlattenSeq f ) ) = ( degree b ))))))
proof
let L being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let b being (bag of (the carrier of L));
let f being (FinSequence of ( (the carrier of ( Polynom-Ring L )) * ));
let s being (FinSequence of L);
assume that
A1: ( len f ) = ( card ( support b ) )
and
A2: s = ( canFS ( support b ) )
and
A3: (for i being (Element of ( NAT )) holds (i in ( dom f ) implies ( f . i ) = ( fpoly_mult_root (( s /. i ),( b . ( s /. i ) )) )));
reconsider Cf = ( Card f ) as (FinSequence of ( NAT ));
consider g being (FinSequence of ( NAT )) such that A4: ( degree b ) = ( Sum g ) and A5: g = ( b * ( canFS ( support b ) ) ) by CKB20:def 1;
( len s ) = ( card ( support b ) ) by A2,CKB7:1;
then A6: ( dom f ) = ( dom s ) by A1,FINSEQ_3:29;
A7:now
A8: ( rng s ) c= ( dom b )
proof
let x being set;
assume x in ( rng s );
then A9: x in ( support b ) by A2,FUNCT_2:def 3;
( support b ) c= ( dom b ) by PRE_POLY:37;
hence thesis by A9;
end;
thus ( dom ( Card f ) ) = ( dom f ) by CARD_3:def 2
.= ( dom g ) by A2,A6,A5,A8,RELAT_1:27;
let i being Nat;
assume i in ( dom ( Card f ) );
then A10: i in ( dom f ) by CARD_3:def 2;
then A11: ( g . i ) = ( b . ( s . i ) ) by A2,A6,A5,FUNCT_1:13;
( f . i ) = ( fpoly_mult_root (( s /. i ),( b . ( s /. i ) )) ) by A3,A10;
then A12: ( len ( f . i ) ) = ( b . ( s /. i ) ) by CKB82:def 1;
thus ( Cf . i ) = ( card ( f . i ) ) by A10,CARD_3:def 2
.= ( g . i ) by A6,A10,A12,A11,PARTFUN1:def 6;
end;
( len ( FlattenSeq f ) ) = ( Sum Cf ) by PRE_POLY:27;
hence thesis by A4,A7,FINSEQ_1:13;
end;
