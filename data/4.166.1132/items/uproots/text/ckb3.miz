environ
vocabularies NUMBERS,FINSEQ_1,SUBSET_1,RELAT_1,FUNCT_1,CARD_1,CARD_3,FINSEQ_2,ARYTM_3,ORDINAL4,TARSKI,NAT_1,XXREAL_0,REAL_1,ARYTM_1,XBOOLE_0,ORDINAL1,RLVECT_1,ALGSTR_0,SUPINF_2,PARTFUN1,FINSET_1,FUNCT_2,MCART_1,ZFMISC_1,PRE_POLY,FUNCT_4,FUNCOP_1,VALUED_0,PBOOLE,XREAL_0,SGRAPH1,FINSOP_1,BINOP_1,GROUP_1,STRUCT_0,POLYNOM1,POLYNOM3,AFINSQ_1,MESFUNC1,ALGSEQ_1,VECTSP_1,POLYNOM5,LATTICES,VECTSP_2,COMPLFLD,POLYNOM2,FVSUM_1,MEMBERED,CLASSES1,UPROOTS;
notations TARSKI,XBOOLE_0,XCMPLX_0,XXREAL_0,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XREAL_0,ZFMISC_1,REAL_1,VECTSP_2,BINOP_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FINSEQ_1,FINSEQ_2,DOMAIN_1,FUNCT_2,XXREAL_2,VALUED_0,NAT_1,NAT_D,STRUCT_0,ALGSTR_0,RLVECT_1,VFUNCT_1,VECTSP_1,FINSOP_1,NORMSP_1,GROUP_4,RVSUM_1,ALGSEQ_1,COMPLFLD,BHSP_1,POLYNOM3,POLYNOM4,POLYNOM5,FINSET_1,MCART_1,FUNCT_4,FUNCOP_1,CLASSES1,FVSUM_1,WSIERP_1,MEMBERED,GROUP_1,RECDEF_1,PRE_POLY;
definitions TARSKI,VECTSP_2,FUNCT_1,POLYNOM3,POLYNOM5,FINSEQ_2,RVSUM_1,GROUP_4,RLVECT_1,FUNCOP_1,RELAT_1,STRUCT_0;
theorems GROUP_1,CARD_1,FINSEQ_1,ZFMISC_1,NAT_1,FUNCT_1,FUNCT_2,RELAT_1,TARSKI,XBOOLE_0,XBOOLE_1,VECTSP_1,POLYNOM5,INT_1,AXIOMS,RVSUM_1,FVSUM_1,FINSEQ_3,FINSEQ_2,POLYNOM4,POLYNOM3,FUNCT_7,ALGSEQ_1,RLVECT_1,PBOOLE,FUNCOP_1,MATRIX_3,VECTSP_2,CARD_2,FINSEQ_5,GRAPH_5,BAGORDER,RFINSEQ,WELLORD2,CARD_3,ORDINAL1,FINSOP_1,MONOID_0,INTEGRA1,FUNCT_4,MCART_1,XREAL_1,GROUP_4,XXREAL_0,PARTFUN1,XXREAL_2,NAT_D,FINSEQ_4,CLASSES1,PRE_POLY,TREES_9,CKB1;
schemes NAT_1,FUNCT_1,FUNCT_2,FRAENKEL,ALGSEQ_1,FINSEQ_1,RECDEF_1,CLASSES1,INT_1,CKB2;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,BINOP_2,CARD_1,MEMBERED,FINSEQ_1,STRUCT_0,VECTSP_1,COMPLFLD,ALGSTR_1,MONOID_0,PRE_POLY,POLYNOM3,POLYNOM4,POLYNOM5,FINSEQ_2,VALUED_0,XXREAL_2,FUNCT_2,RELSET_1,GROUP_1,VFUNCT_1;
constructors WELLORD2,SETWISEO,REAL_1,FINSEQOP,FINSOP_1,NAT_D,WSIERP_1,VECTSP_2,REALSET2,ALGSTR_1,GROUP_4,BHSP_1,MATRIX_2,MONOID_0,GOBOARD1,POLYNOM2,POLYNOM4,POLYNOM5,SEQ_1,RECDEF_1,BINOP_2,CLASSES1,XXREAL_2,RELSET_1,FUNCT_7,FVSUM_1,VFUNCT_1;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
theorem
Th3: (for L being  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for r being (FinSequence of L) holds ((( len r ) >= 2 & (for k being (Element of ( NAT )) holds ((2 < k & k in ( dom r )) implies ( r . k ) = ( 0. L )))) implies ( Sum r ) = ( ( r /. 1 ) + ( r /. 2 ) ))))
proof
let L being  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let r being (FinSequence of L);
assume that
A1: ( len r ) >= 2
and
A2: (for k being (Element of ( NAT )) holds ((2 < k & k in ( dom r )) implies ( r . k ) = ( 0. L )));
A3: 2 in ( dom r ) by A1,FINSEQ_3:25;
1 <= ( len r ) by A1,XXREAL_0:2;
then A4: 1 in ( dom r ) by FINSEQ_3:25;
(not r is  empty) by A1;
then consider a being (Element of L),r1 being (FinSequence of L) such that A5: a = ( r . 1 ) and A6: r = ( <* a *> ^ r1 ) by FINSEQ_3:102;
A7: ( len <* a *> ) = 1 by FINSEQ_1:40;
then A8: ( r . 2 ) = ( r1 . ( 2 - 1 ) ) by A1,A6,FINSEQ_1:24
.= ( r1 . 1 );
A9: ( len r ) = ( 1 + ( len r1 ) ) by A6,A7,FINSEQ_1:22;
now
assume r1 is  empty;
then ( len r1 ) = ( 0 );
hence contradiction by A1,A9;
end;
then consider b being (Element of L),r2 being (FinSequence of L) such that A10: b = ( r1 . 1 ) and A11: r1 = ( <* b *> ^ r2 ) by FINSEQ_3:102;
A12: ( len <* b *> ) = 1 by FINSEQ_1:40;
A13:now
let i being (Element of ( NAT ));
assume that
A14: i in ( dom r2 );
A15: ( 1 + i ) in ( dom r1 ) by A11,A12,A14,FINSEQ_1:28;
1 <= i by A14,FINSEQ_3:25;
then 1 < ( 1 + i ) by NAT_1:13;
then A16: ( 1 + 1 ) < ( 1 + ( 1 + i ) ) by XREAL_1:8;
thus ( r2 . i ) = ( r1 . ( 1 + i ) ) by A11,A12,A14,FINSEQ_1:def 7
.= ( r . ( 1 + ( 1 + i ) ) ) by A6,A7,A15,FINSEQ_1:def 7
.= ( 0. L ) by A2,A6,A7,A15,A16,FINSEQ_1:28;
end;
thus ( Sum r ) = ( a + ( Sum r1 ) ) by A6,FVSUM_1:72
.= ( a + ( b + ( Sum r2 ) ) ) by A11,FVSUM_1:72
.= ( a + ( b + ( 0. L ) ) ) by A13,POLYNOM3:1
.= ( a + b ) by RLVECT_1:def 4
.= ( ( r /. 1 ) + b ) by A5,A4,PARTFUN1:def 6
.= ( ( r /. 1 ) + ( r /. 2 ) ) by A10,A3,A8,PARTFUN1:def 6;
end;
