environ
vocabularies NUMBERS,FUNCOP_1,CARD_1,FUNCT_4,FUNCT_1,RELAT_1,PBOOLE,PRE_POLY,VALUED_0,XBOOLE_0,ARYTM_3,NEWTON,TARSKI,FINSET_1,ORDINAL1,NAT_3,CARD_3,UPROOTS,FINSEQ_1,SUBSET_1,ORDINAL4,ARYTM_1,XXREAL_0,FUNCT_2,CLASSES1,PARTFUN1,INT_2,NAT_1,POWER,RVSUM_1,BINOP_1,BINOP_2,REALSET1,ZFMISC_1,INT_3,SUPINF_2,FUNCT_7,ALGSTR_0,GROUP_1,MESFUNC1,INT_1,COMPLEX1,VECTSP_1,POLYNOM1,HURWITZ,POLYNOM5,POLYNOM3,POLYNOM2,AFINSQ_1,STRUCT_0,GROUP_4,GROUP_2,GRAPH_1,INT_7;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,FINSET_1,RVSUM_1,CARD_1,CLASSES1,DOMAIN_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,POWER,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSEQ_1,FUNCT_4,STRUCT_0,ALGSTR_0,VFUNCT_1,GROUP_1,VECTSP_1,BINOP_1,PBOOLE,GROUP_2,BHSP_1,ALGSEQ_1,WSIERP_1,POLYNOM3,POLYNOM4,UPROOTS,NAT_3,POLYNOM5,GROUP_4,GR_CY_1,INT_1,FUNCT_7,NEWTON,INT_2,INT_3,HURWITZ,VALUED_0,REALSET1,RECDEF_1,PRE_POLY,POLYNOM2,CKB8;
definitions STRUCT_0,GROUP_1,INT_3,CARD_1,ALGSTR_0,BINOP_1,FINSEQ_1,POLYNOM3,HURWITZ,REALSET1,TARSKI,CKB8;
theorems TARSKI,XBOOLE_0,ZFMISC_1,ORDINAL1,FUNCT_1,FUNCT_2,VECTSP_1,INT_1,RELAT_1,RLVECT_1,ABSVALUE,GR_CY_1,FUNCT_7,NAT_1,INT_2,INT_3,PEPIN,NAT_D,XCMPLX_1,NUMBERS,PYTHTRIP,WSIERP_1,CARD_1,GROUP_1,GROUP_2,STRUCT_0,WELLORD2,XREAL_1,NEWTON,XXREAL_0,GR_CY_2,POWER,VALUED_0,ALGSEQ_1,NAT_3,UPROOTS,RVSUM_1,FINSEQ_4,FINSEQ_5,POLYNOM3,POLYNOM4,POLYNOM5,CARD_2,EULER_1,EULER_2,XBOOLE_1,FINSEQ_1,HURWITZ,GROUP_8,REALSET1,RELSET_1,FUNCT_4,FUNCOP_1,CLASSES1,PARTFUN1,PRE_POLY,FINSEQ_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26;
schemes NAT_1,PRE_CIRC,FUNCT_2,RECDEF_1;
registrations XBOOLE_0,STRUCT_0,FUNCT_1,XREAL_0,ORDINAL1,NAT_1,INT_1,GROUP_1,GROUP_2,FINSET_1,FINSEQ_1,FUNCT_2,GR_CY_1,ALGSTR_0,MEMBERED,VECTSP_1,INT_3,XXREAL_0,NEWTON,SUBSET_1,RELAT_1,CARD_1,ALGSTR_1,NAT_3,VALUED_0,POLYNOM3,POLYNOM4,POLYNOM5,UPROOTS,RELSET_1,PRE_POLY,VFUNCT_1,CKB9;
constructors REAL_1,NAT_D,NAT_3,SEQ_1,PEPIN,EUCLID,REALSET1,GROUP_4,GR_CY_1,INT_3,WSIERP_1,BHSP_1,POLYNOM2,POLYNOM4,POLYNOM5,WELLORD2,POWER,ALGSTR_1,HURWITZ,UPROOTS,FUNCT_4,RECDEF_1,BINOP_2,CLASSES1,RELSET_1,PBOOLE,FUNCT_7,VFUNCT_1,CKB8;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
theorem
Lm11: (for n being (Element of ( NAT )) holds (for p,q being (bag of ( SetPrimes )) holds ((((p is  prime-factorization-like & q is  prime-factorization-like) & ( Product p ) <= ( 2 |^ n )) & ( Product p ) = ( Product q )) implies p = q)))
proof
defpred P[ (Element of ( NAT )) ]
 means
(for p,q being (bag of ( SetPrimes )) holds ((((p is  prime-factorization-like & q is  prime-factorization-like) & ( Product p ) <= ( 2 |^ $1 )) & ( Product p ) = ( Product q )) implies p = q));
A1:now
let k being (Element of ( NAT ));
assume A2: P[ k ];
now
let p being (bag of ( SetPrimes ));
let q being (bag of ( SetPrimes ));
assume that
A3: p is  prime-factorization-like
and
A4: q is  prime-factorization-like
and
A5: ( Product p ) <= ( 2 |^ ( k + 1 ) )
and
A6: ( Product p ) = ( Product q );
now
per cases ;
suppose A7: ( support p ) = ( {} );

then ( Product p ) = 1 by A3,CKB26:1;
then ( support q ) = ( {} ) by A4,A6,CKB26:1;
hence p = q by A7,CKB5:1;
end;
suppose ( support p ) <> ( {} );

then consider x being set such that A8: x in ( support p ) by XBOOLE_0:def 1;
reconsider x as Prime by A8,NEWTON:def 6;
A9: x divides ( Product p ) by A3,A8,CKB11:1;
then A10: x in ( support q ) by A4,A6,CKB15:1;
per cases ;
suppose ( p . x ) <> x;

then consider p1,r1 being (bag of ( SetPrimes )) such that A11: p1 is  prime-factorization-like and ( support r1 ) = { x } and ( Product r1 ) = x and A12: ( support p1 ) = ( support p ) and A13: ( p1 | ( ( support p1 ) \ { x } ) ) = ( p | ( ( support p1 ) \ { x } ) ) and A14: ( p . x ) = ( ( p1 . x ) * x ) and A15: ( Product p ) = ( ( Product p1 ) * x ) by A3,A8,CKB24:1;
per cases ;
suppose A16: ( q . x ) <> x;

1 < x by INT_2:def 4;
then ( 1 + 1 ) <= x by NAT_1:13;
then A17: ( ( 2 |^ ( k + 1 ) ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XREAL_1:118;
consider q1,r2 being (bag of ( SetPrimes )) such that A18: q1 is  prime-factorization-like and ( support r2 ) = { x } and ( Product r2 ) = x and A19: ( support q1 ) = ( support q ) and A20: ( q1 | ( ( support q1 ) \ { x } ) ) = ( q | ( ( support q1 ) \ { x } ) ) and A21: ( q . x ) = ( ( q1 . x ) * x ) and A22: ( Product q ) = ( ( Product q1 ) * x ) by A4,A6,A9,A16,CKB15:1,CKB24:1;
( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / x ) by A5,A15,XREAL_1:72;
then ( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by A17,XXREAL_0:2;
then ( Product p1 ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XCMPLX_1:89;
then ( Product p1 ) <= ( ( ( 2 |^ k ) * ( 2 |^ 1 ) ) / 2 ) by NEWTON:8;
then A23: ( Product p1 ) <= ( ( ( 2 |^ k ) * 2 ) / 2 ) by NEWTON:5;
then A24: p1 = q1 by A2,A6,A11,A15,A18,A22,XCMPLX_1:5;
A25:now
let z being set;
assume A26: z in ( support p );
per cases ;
suppose (not z in { x });

then A27: z in ( ( support p1 ) \ { x } ) by A12,A26,XBOOLE_0:def 5;
hence ( p . z ) = ( ( p | ( ( support p1 ) \ { x } ) ) . z ) by FUNCT_1:49
.= ( q . z ) by A13,A20,A24,A27,FUNCT_1:49;
end;
suppose A28: z in { x };

hence ( p . z ) = ( ( p1 . x ) * x ) by A14,TARSKI:def 1
.= ( ( q1 . x ) * x ) by A2,A6,A11,A15,A18,A22,A23,XCMPLX_1:5
.= ( q . z ) by A21,A28,TARSKI:def 1;
end;
end;
A29: ( dom p ) = ( SetPrimes ) by PARTFUN1:def 2
.= ( dom q ) by PARTFUN1:def 2;
( support p ) = ( support q ) by A2,A6,A11,A12,A15,A18,A19,A22,A23,XCMPLX_1:5;
then ( p | ( support p ) ) = ( q | ( support q ) ) by A29,A25,FUNCT_1:96;
hence p = q by CKB4:1;
end;
suppose A30: ( q . x ) = x;

1 < x by INT_2:def 4;
then ( 1 + 1 ) <= x by NAT_1:13;
then A31: ( ( 2 |^ ( k + 1 ) ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XREAL_1:118;
( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / x ) by A5,A15,XREAL_1:72;
then ( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by A31,XXREAL_0:2;
then ( Product p1 ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XCMPLX_1:89;
then ( Product p1 ) <= ( ( ( 2 |^ k ) * ( 2 |^ 1 ) ) / 2 ) by NEWTON:8;
then A32: ( Product p1 ) <= ( ( ( 2 |^ k ) * 2 ) / 2 ) by NEWTON:5;
(ex q1,r2 being (bag of ( SetPrimes )) st (((((q1 is  prime-factorization-like & ( support r2 ) = { x }) & ( Product r2 ) = x) & ( support q1 ) = ( ( support q ) \ { x } )) & ( q1 | ( support q1 ) ) = ( q | ( support q1 ) )) & ( Product q ) = ( ( Product q1 ) * x ))) by A4,A6,A9,A30,CKB15:1,CKB23:1;
then ( support p ) = ( ( support q ) \ { x } ) by A2,A6,A11,A12,A15,A32,XCMPLX_1:5;
then (not x in { x }) by A8,XBOOLE_0:def 5;
hence p = q by TARSKI:def 1;
end;
end;
suppose A33: ( p . x ) = x;

then consider p1,r1 being (bag of ( SetPrimes )) such that A34: p1 is  prime-factorization-like and ( support r1 ) = { x } and ( Product r1 ) = x and A35: ( support p1 ) = ( ( support p ) \ { x } ) and A36: ( p1 | ( support p1 ) ) = ( p | ( support p1 ) ) and A37: ( Product p ) = ( ( Product p1 ) * x ) by A3,A8,CKB23:1;
per cases ;
suppose A38: ( q . x ) <> x;

1 < x by INT_2:def 4;
then ( 1 + 1 ) <= x by NAT_1:13;
then A39: ( ( 2 |^ ( k + 1 ) ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XREAL_1:118;
( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / x ) by A5,A37,XREAL_1:72;
then ( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by A39,XXREAL_0:2;
then ( Product p1 ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XCMPLX_1:89;
then ( Product p1 ) <= ( ( ( 2 |^ k ) * ( 2 |^ 1 ) ) / 2 ) by NEWTON:8;
then A40: ( Product p1 ) <= ( ( ( 2 |^ k ) * 2 ) / 2 ) by NEWTON:5;
(ex q1,r2 being (bag of ( SetPrimes )) st ((((((q1 is  prime-factorization-like & ( support r2 ) = { x }) & ( Product r2 ) = x) & ( support q1 ) = ( support q )) & ( q1 | ( ( support q1 ) \ { x } ) ) = ( q | ( ( support q1 ) \ { x } ) )) & ( q . x ) = ( ( q1 . x ) * x )) & ( Product q ) = ( ( Product q1 ) * x ))) by A4,A6,A9,A38,CKB15:1,CKB24:1;
then ( ( support p ) \ { x } ) = ( support q ) by A2,A6,A34,A35,A37,A40,XCMPLX_1:5;
then (not x in { x }) by A10,XBOOLE_0:def 5;
hence p = q by TARSKI:def 1;
end;
suppose A41: ( q . x ) = x;

1 < x by INT_2:def 4;
then ( 1 + 1 ) <= x by NAT_1:13;
then A42: ( ( 2 |^ ( k + 1 ) ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XREAL_1:118;
consider q1,r2 being (bag of ( SetPrimes )) such that A43: q1 is  prime-factorization-like and ( support r2 ) = { x } and ( Product r2 ) = x and A44: ( support q1 ) = ( ( support q ) \ { x } ) and A45: ( q1 | ( support q1 ) ) = ( q | ( support q1 ) ) and A46: ( Product q ) = ( ( Product q1 ) * x ) by A4,A6,A9,A41,CKB15:1,CKB23:1;
( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / x ) by A5,A37,XREAL_1:72;
then ( ( ( Product p1 ) * x ) / x ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by A42,XXREAL_0:2;
then ( Product p1 ) <= ( ( 2 |^ ( k + 1 ) ) / 2 ) by XCMPLX_1:89;
then ( Product p1 ) <= ( ( ( 2 |^ k ) * ( 2 |^ 1 ) ) / 2 ) by NEWTON:8;
then A47: ( Product p1 ) <= ( ( ( 2 |^ k ) * 2 ) / 2 ) by NEWTON:5;
then ( ( support p ) \ { x } ) = ( ( support q ) \ { x } ) by A2,A6,A34,A35,A37,A43,A44,A46,XCMPLX_1:5;
then ( ( support p ) \/ { x } ) = ( ( ( support q ) \ { x } ) \/ { x } ) by XBOOLE_1:39;
then A48: ( ( support p ) \/ { x } ) = ( ( support q ) \/ { x } ) by XBOOLE_1:39;
A49: p1 = q1 by A2,A6,A34,A37,A43,A46,A47,XCMPLX_1:5;
A50:now
let z being set;
assume A51: z in ( support p );
per cases ;
suppose (not z in { x });

then A52: z in ( support p1 ) by A35,A51,XBOOLE_0:def 5;
hence ( p . z ) = ( ( p1 | ( support p1 ) ) . z ) by A36,FUNCT_1:49
.= ( q . z ) by A45,A49,A52,FUNCT_1:49;
end;
suppose A53: z in { x };

hence ( p . z ) = x by A33,TARSKI:def 1
.= ( q . z ) by A41,A53,TARSKI:def 1;
end;
end;
A54: { x } c= ( support q ) by A10,ZFMISC_1:31;
{ x } c= ( support p ) by A8,ZFMISC_1:31;
then A55: ( support p ) = ( ( support q ) \/ { x } ) by A48,XBOOLE_1:12;
( dom p ) = ( SetPrimes ) by PARTFUN1:def 2
.= ( dom q ) by PARTFUN1:def 2;
then ( p | ( support p ) ) = ( q | ( support p ) ) by A50,FUNCT_1:96
.= ( q | ( support q ) ) by A54,A55,XBOOLE_1:12;
hence p = q by CKB4:1;
end;
end;
end;
end;
hence p = q;
end;
hence P[ ( k + 1 ) ];
end;
A56: P[ ( 0 ) ]
proof
let p being (bag of ( SetPrimes ));
let q being (bag of ( SetPrimes ));
assume that
A57: p is  prime-factorization-like
and
A58: q is  prime-factorization-like
and
A59: ( Product p ) <= ( 2 |^ ( 0 ) )
and
A60: ( Product p ) = ( Product q );
( Product p ) <> ( 0 ) by A57,CKB25:1;
then A61: ( ( 0 ) + 1 ) <= ( Product p ) by NAT_1:13;
( Product p ) <= 1 by A59,NEWTON:4;
then A62: ( Product p ) = 1 by A61,XXREAL_0:1;
then A63: ( support p ) = ( {} ) by A57,CKB26:1;
( support q ) = ( {} ) by A58,A60,A62,CKB26:1;
hence thesis by A63,CKB5:1;
end;
(for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A56,A1);
hence thesis;
end;
