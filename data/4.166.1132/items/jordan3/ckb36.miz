environ
vocabularies NUMBERS,NAT_1,REAL_1,SUBSET_1,XBOOLE_0,FINSEQ_1,ARYTM_3,XXREAL_0,ORDINAL4,FUNCT_1,ARYTM_1,RELAT_1,PARTFUN1,FINSEQ_5,RFINSEQ,CARD_1,TARSKI,EUCLID,TOPREAL1,RLTOPSP1,PRE_TOPC,MCART_1,SPPOL_2,GROUP_2,SUPINF_2,STRUCT_0,JORDAN3;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,REAL_1,NAT_1,RFINSEQ,NAT_D,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_5,SEQ_4,FINSEQ_6,STRUCT_0,TOPREAL1,PRE_TOPC,RLVECT_1,RLTOPSP1,EUCLID,SPPOL_2,CKB7,CKB16,CKB22,CKB23,CKB31,CKB32;
definitions TARSKI,RLTOPSP1,CKB7,CKB16,CKB22,CKB23,CKB31,CKB32;
theorems TARSKI,TOPREAL1,FINSEQ_1,FINSEQ_4,RFINSEQ,SPPOL_1,FUNCT_1,NAT_1,TOPREAL3,SPPOL_2,FINSEQ_5,EUCLID,FINSEQ_6,ZFMISC_1,FINSEQ_3,PARTFUN2,XBOOLE_0,XBOOLE_1,FINSEQ_2,XCMPLX_1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,CARD_1,XXREAL_2,XREAL_0,NAT_D,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,FINSEQ_5,STRUCT_0,EUCLID,SPPOL_2,XXREAL_2,CARD_1;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,SEQ_4,REALSET1,RFINSEQ,NAT_D,FINSEQ_5,TOPREAL1,BINOP_2,RELSET_1,FINSEQ_6,CKB7,CKB16,CKB22,CKB23,CKB31,CKB32;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Th65: (for p,q,p1,p2 being (Point of ( TOP-REAL 2 )) holds ( LE p,q,p1,p2 implies (q in ( LSeg (p,p2) ) & p in ( LSeg (p1,q) ))))
proof
let p being (Point of ( TOP-REAL 2 )),q being (Point of ( TOP-REAL 2 )),p1 being (Point of ( TOP-REAL 2 )),p2 being (Point of ( TOP-REAL 2 ));
assume A1:  LE p,q,p1,p2;
then p in ( LSeg (p1,p2) ) by CKB31:def 1;
then consider s1 being Real such that A2: p = ( ( ( 1 - s1 ) * p1 ) + ( s1 * p2 ) ) and A3: ( 0 ) <= s1 and A4: s1 <= 1;
q in ( LSeg (p1,p2) ) by A1,CKB31:def 1;
then consider s2 being Real such that A5: q = ( ( ( 1 - s2 ) * p1 ) + ( s2 * p2 ) ) and A6: ( 0 ) <= s2 and A7: s2 <= 1;
A8: s1 <= s2 by A1,A2,A4,A5,A6,A7,CKB31:def 1;
A9: ( 1 - s1 ) >= ( 0 ) by A4,XREAL_1:48;
A10:now
per cases ;
case A11: ( 1 - s1 ) <> ( 0 );
set s = ( ( s2 - s1 ) / ( 1 - s1 ) );
A12: ( ( 1 - s1 ) * ( ( 1 - s2 ) / ( 1 - s1 ) ) ) = ( 1 - s2 ) by A11,XCMPLX_1:87;
A13: ( ( 1 - s1 ) * ( ( s2 - s1 ) / ( 1 - s1 ) ) ) = ( s2 - s1 ) by A11,XCMPLX_1:87;
( 1 - ( ( s2 - s1 ) / ( 1 - s1 ) ) ) = ( ( ( 1 * ( 1 - s1 ) ) - ( s2 - s1 ) ) / ( 1 - s1 ) ) by A11,XCMPLX_1:127
.= ( ( ( ( 1 - s1 ) + s1 ) - s2 ) / ( 1 - s1 ) );
then ( ( 1 - s1 ) * ( ( ( 1 - s ) * p ) + ( s * p2 ) ) ) = ( ( ( 1 - s1 ) * ( ( ( 1 - s2 ) / ( 1 - s1 ) ) * ( ( ( 1 - s1 ) * p1 ) + ( s1 * p2 ) ) ) ) + ( ( 1 - s1 ) * ( ( ( s2 - s1 ) / ( 1 - s1 ) ) * p2 ) ) ) by A2,EUCLID:32
.= ( ( ( ( 1 - s1 ) * ( ( 1 - s2 ) / ( 1 - s1 ) ) ) * ( ( ( 1 - s1 ) * p1 ) + ( s1 * p2 ) ) ) + ( ( 1 - s1 ) * ( ( ( s2 - s1 ) / ( 1 - s1 ) ) * p2 ) ) ) by EUCLID:30
.= ( ( ( 1 - s2 ) * ( ( ( 1 - s1 ) * p1 ) + ( s1 * p2 ) ) ) + ( ( ( 1 - s1 ) * ( ( s2 - s1 ) / ( 1 - s1 ) ) ) * p2 ) ) by A12,EUCLID:30
.= ( ( ( ( 1 - s2 ) * ( ( 1 - s1 ) * p1 ) ) + ( ( 1 - s2 ) * ( s1 * p2 ) ) ) + ( ( s2 - s1 ) * p2 ) ) by A13,EUCLID:32
.= ( ( ( ( ( 1 - s2 ) * ( 1 - s1 ) ) * p1 ) + ( ( 1 - s2 ) * ( s1 * p2 ) ) ) + ( ( s2 - s1 ) * p2 ) ) by EUCLID:30
.= ( ( ( ( ( 1 - s2 ) * ( 1 - s1 ) ) * p1 ) + ( ( ( 1 - s2 ) * s1 ) * p2 ) ) + ( ( s2 - s1 ) * p2 ) ) by EUCLID:30
.= ( ( ( ( 1 - s2 ) * ( 1 - s1 ) ) * p1 ) + ( ( ( ( 1 - s2 ) * s1 ) * p2 ) + ( ( s2 - s1 ) * p2 ) ) ) by EUCLID:26
.= ( ( ( ( 1 - s2 ) * ( 1 - s1 ) ) * p1 ) + ( ( ( ( 1 * s1 ) - ( s2 * s1 ) ) + ( s2 - s1 ) ) * p2 ) ) by EUCLID:33
.= ( ( ( 1 - s1 ) * ( ( 1 - s2 ) * p1 ) ) + ( ( ( 1 - s1 ) * s2 ) * p2 ) ) by EUCLID:30
.= ( ( ( 1 - s1 ) * ( ( 1 - s2 ) * p1 ) ) + ( ( 1 - s1 ) * ( s2 * p2 ) ) ) by EUCLID:30
.= ( ( 1 - s1 ) * q ) by A5,EUCLID:32;
then A14: q = ( ( ( 1 - s ) * p ) + ( s * p2 ) ) by A11,EUCLID:34;
( 1 - s1 ) >= ( s2 - s1 ) by A7,XREAL_1:9;
then ( ( 1 - s1 ) / ( 1 - s1 ) ) >= ( ( s2 - s1 ) / ( 1 - s1 ) ) by A9,XREAL_1:72;
then A15: 1 >= s by A11,XCMPLX_1:60;
( s2 - s1 ) >= ( 0 ) by A8,XREAL_1:48;
hence q in ( LSeg (p,p2) ) by A9,A15,A14;
end;
case ( 1 - s1 ) = ( 0 );
then s2 = 1 by A7,A8,XXREAL_0:1;
then q = ( ( 0. ( TOP-REAL 2 ) ) + ( 1 * p2 ) ) by A5,EUCLID:29
.= ( ( 0. ( TOP-REAL 2 ) ) + p2 ) by EUCLID:29
.= p2 by EUCLID:27;
hence q in ( LSeg (p,p2) ) by RLTOPSP1:68;
end;
end;
now
per cases ;
case A16: s2 <> ( 0 );
set s = ( s1 / s2 );
( s2 / s2 ) >= ( s1 / s2 ) by A6,A8,XREAL_1:72;
then A17: 1 >= s by A16,XCMPLX_1:60;
A18: ( ( s2 - s1 ) + ( s1 * ( 1 - s2 ) ) ) = ( s2 * ( 1 - s1 ) );
A19: ( s2 * ( s1 / s2 ) ) = s1 by A16,XCMPLX_1:87;
A20: ( s2 * ( ( s2 - s1 ) / s2 ) ) = ( s2 - s1 ) by A16,XCMPLX_1:87;
( s2 * ( ( ( 1 - s ) * p1 ) + ( s * q ) ) ) = ( s2 * ( ( ( ( ( 1 * s2 ) - s1 ) / s2 ) * p1 ) + ( ( s1 / s2 ) * ( ( ( 1 - s2 ) * p1 ) + ( s2 * p2 ) ) ) ) ) by A5,A16,XCMPLX_1:127
.= ( ( s2 * ( ( ( s2 - s1 ) / s2 ) * p1 ) ) + ( s2 * ( ( s1 / s2 ) * ( ( ( 1 - s2 ) * p1 ) + ( s2 * p2 ) ) ) ) ) by EUCLID:32
.= ( ( ( s2 * ( ( s2 - s1 ) / s2 ) ) * p1 ) + ( s2 * ( ( s1 / s2 ) * ( ( ( 1 - s2 ) * p1 ) + ( s2 * p2 ) ) ) ) ) by EUCLID:30
.= ( ( ( s2 - s1 ) * p1 ) + ( ( s2 * ( s1 / s2 ) ) * ( ( ( 1 - s2 ) * p1 ) + ( s2 * p2 ) ) ) ) by A20,EUCLID:30
.= ( ( ( s2 - s1 ) * p1 ) + ( ( s1 * ( ( 1 - s2 ) * p1 ) ) + ( s1 * ( s2 * p2 ) ) ) ) by A19,EUCLID:32
.= ( ( ( s2 - s1 ) * p1 ) + ( ( ( s1 * ( 1 - s2 ) ) * p1 ) + ( s1 * ( s2 * p2 ) ) ) ) by EUCLID:30
.= ( ( ( s2 - s1 ) * p1 ) + ( ( ( s1 * ( 1 - s2 ) ) * p1 ) + ( ( s1 * s2 ) * p2 ) ) ) by EUCLID:30
.= ( ( ( ( s2 - s1 ) * p1 ) + ( ( s1 * ( 1 - s2 ) ) * p1 ) ) + ( ( s1 * s2 ) * p2 ) ) by EUCLID:26
.= ( ( ( ( s2 - s1 ) + ( s1 * ( 1 - s2 ) ) ) * p1 ) + ( ( s1 * s2 ) * p2 ) ) by EUCLID:33
.= ( ( s2 * ( ( 1 - s1 ) * p1 ) ) + ( ( s2 * s1 ) * p2 ) ) by A18,EUCLID:30
.= ( ( s2 * ( ( 1 - s1 ) * p1 ) ) + ( s2 * ( s1 * p2 ) ) ) by EUCLID:30
.= ( s2 * p ) by A2,EUCLID:32;
then p = ( ( ( 1 - s ) * p1 ) + ( s * q ) ) by A16,EUCLID:34;
hence p in ( LSeg (p1,q) ) by A3,A6,A17;
end;
case s2 = ( 0 );
then s1 = ( 0 ) by A1,A2,A3,A4,A5,CKB31:def 1;
then p = ( ( 1 * p1 ) + ( 0. ( TOP-REAL 2 ) ) ) by A2,EUCLID:29
.= ( p1 + ( 0. ( TOP-REAL 2 ) ) ) by EUCLID:29
.= p1 by EUCLID:27;
hence p in ( LSeg (p1,q) ) by RLTOPSP1:68;
end;
end;
hence thesis by A10;
end;
