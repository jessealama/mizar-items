environ
vocabularies NUMBERS,NAT_1,FUNCT_2,FINSEQ_1,RELAT_1,FUNCT_1,TARSKI,MATRIX_2,FINSEQ_2,XBOOLE_0,SUBSET_1,XXREAL_0,ARYTM_3,JORDAN3,ORDINAL4,ARYTM_1,CARD_1,STRUCT_0,INT_1,CARD_3,GROUP_1,VECTSP_1,MATRIX_1,MATRIX_3,ALGSTR_0,SETWISEO,FINSUB_1,BINOP_1,FINSOP_1,ABIAN,TREES_1,SUPINF_2,FUNCOP_1,MESFUNC1,ZFMISC_1,QC_LANG1,PARTFUN1,FINSEQ_5,CLASSES1,RFINSEQ,MATRIX_7;
notations TARSKI,XBOOLE_0,SUBSET_1,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,RELAT_1,FUNCT_1,BINOP_1,ZFMISC_1,CARD_1,NUMBERS,VECTSP_1,FUNCT_2,FUNCOP_1,SETWISEO,PARTFUN1,GROUP_4,FINSUB_1,NEWTON,FINSOP_1,SETWOP_2,FINSEQ_1,STRUCT_0,ALGSTR_0,MATRIX_2,MATRIX_3,FINSEQ_6,MATRIX_1,CLASSES1,RFINSEQ,FINSEQ_5,GROUP_1;
definitions TARSKI,XBOOLE_0,BINOP_1,FINSEQ_1,MATRIX_1,FINSEQ_2,GROUP_4,ALGSTR_0,RELAT_1;
theorems BINOP_1,RLVECT_1,MATRIX_3,VECTSP_1,MATRIX_1,GROUP_1,FUNCT_1,FINSEQ_1,NAT_1,MATRIX_2,FINSEQ_2,TARSKI,FINSOP_1,FVSUM_1,SETWISEO,FUNCT_2,XBOOLE_0,GROUP_4,ENUMSET1,ZFMISC_1,FINSEQ_6,XREAL_1,FINSEQ_5,INTEGRA2,FUNCOP_1,FINSUB_1,XBOOLE_1,RELAT_1,SUBSET_1,RFINSEQ,FINSEQ_3,XXREAL_0,ORDINAL1,NAT_D,PARTFUN1,XREAL_0,CLASSES1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
schemes NAT_1,FUNCT_2,FINSEQ_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCT_2,FINSUB_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,STRUCT_0,GROUP_1,VECTSP_1,MATRIX_2,FVSUM_1,FINSET_1,CARD_1,RELSET_1,FINSEQ_2;
constructors RELAT_2,PARTFUN1,SETWISEO,REAL_1,SQUARE_1,NAT_1,NAT_D,FINSOP_1,NEWTON,RFINSEQ,BINARITH,FINSEQ_5,ALGSTR_1,GROUP_4,MATRIX_3,FINSEQ_6,CLASSES1,RELSET_1,BINOP_1;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
reserve i for Nat;
theorem
(for K being Field holds (for M being (Matrix of 2,K) holds ( Det M ) = ( ( ( M * (1,1) ) * ( M * (2,2) ) ) - ( ( M * (1,2) ) * ( M * (2,1) ) ) )))
proof
reconsider s1 = <* 1,2 *>,s2 = <* 2,1 *> as (Permutation of ( Seg 2 )) by CKB2:1;
let K being Field;
let M being (Matrix of 2,K);
A1:now
A2: ( s1 . 1 ) = 1 by FINSEQ_1:44;
assume s1 = s2;
hence contradiction by A2,FINSEQ_1:44;
end;
set D0 = { s1,s2 };
reconsider l0 = ( <*> D0 ) as (FinSequence of ( Group_of_Perm 2 )) by CKB3:1,MATRIX_2:def 10;
set X = ( Permutations 2 );
reconsider p1 = s1,p2 = s2 as (Element of ( Permutations 2 )) by MATRIX_2:def 9;
set Y = (the carrier of K);
set f = ( Path_product M );
set F = (the addF of K);
set di = ( (the multF of K) $$ ( Path_matrix (p1,M) ) );
set B = ( FinOmega ( Permutations 2 ) );
A3: B = ( Permutations 2 ) by MATRIX_2:26,MATRIX_2:def 14;
( Det M ) = ( (the addF of K) $$ (( FinOmega ( Permutations 2 ) ),( Path_product M )) ) by MATRIX_3:def 9;
then consider G being (Function of ( Fin X ),Y) such that A4: ( Det M ) = ( G . B ) and (for e being (Element of Y) holds (e is_a_unity_wrt F implies ( G . ( {} ) ) = e)) and A5: (for x being (Element of X) holds ( G . { x } ) = ( f . x )) and A6: (for B9 being (Element of ( Fin X )) holds ((B9 c= B & B9 <> ( {} )) implies (for x being (Element of X) holds (x in ( B \ B9 ) implies ( G . ( B9 \/ { x } ) ) = ( F . (( G . B9 ),( f . x )) ))))) by A3,SETWISEO:def 3;
A7: ( G . { p1 } ) = ( f . p1 ) by A5;
A8: ( G . B ) = ( (the addF of K) . (( f . p1 ),( f . p2 )) )
proof
reconsider B9 = {. p1 .} as (Element of ( Fin X ));
A9: B9 c= B
proof
let y being set;
assume y in B9;
then y = p1 by TARSKI:def 1;
hence thesis by A3;
end;
( B \ B9 ) = { s2 } by A1,A3,CKB3:1,ZFMISC_1:17;
then s2 in ( B \ B9 ) by TARSKI:def 1;
then ( G . ( B9 \/ { p2 } ) ) = ( F . (( G . B9 ),( f . p2 )) ) by A6,A9;
hence thesis by A3,A7,CKB3:1,ENUMSET1:1;
end;
set dj = ( (the multF of K) $$ ( Path_matrix (p2,M) ) );
A10: ( p1 . 2 ) = 2 by FINSEQ_1:44;
A11: ( p2 . 2 ) = 1 by FINSEQ_1:44;
A12: ( len ( Path_matrix (p1,M) ) ) = 2 by MATRIX_3:def 7;
then consider f3 being (Function of ( NAT ),(the carrier of K)) such that A13: ( f3 . 1 ) = ( ( Path_matrix (p1,M) ) . 1 ) and A14: (for n being (Element of ( NAT )) holds ((( 0 ) <> n & n < 2) implies ( f3 . ( n + 1 ) ) = ( (the multF of K) . (( f3 . n ),( ( Path_matrix (p1,M) ) . ( n + 1 ) )) ))) and A15: di = ( f3 . 2 ) by FINSOP_1:def 1;
A16: 1 in ( Seg 2 );
then A17: 1 in ( dom ( Path_matrix (p1,M) ) ) by A12,FINSEQ_1:def 3;
A18: 2 in ( Seg 2 );
then 2 in ( dom ( Path_matrix (p1,M) ) ) by A12,FINSEQ_1:def 3;
then A19: (( p1 . 1 ) = 1 & ( ( Path_matrix (p1,M) ) . 2 ) = ( M * (2,2) )) by A10,FINSEQ_1:44,MATRIX_3:def 7;
A20: ( len ( Path_matrix (p2,M) ) ) = 2 by MATRIX_3:def 7;
then consider f4 being (Function of ( NAT ),(the carrier of K)) such that A21: ( f4 . 1 ) = ( ( Path_matrix (p2,M) ) . 1 ) and A22: (for n being (Element of ( NAT )) holds ((( 0 ) <> n & n < 2) implies ( f4 . ( n + 1 ) ) = ( (the multF of K) . (( f4 . n ),( ( Path_matrix (p2,M) ) . ( n + 1 ) )) ))) and A23: dj = ( f4 . 2 ) by FINSOP_1:def 1;
A24: 1 in ( dom ( Path_matrix (p2,M) ) ) by A20,A16,FINSEQ_1:def 3;
2 in ( dom ( Path_matrix (p2,M) ) ) by A20,A18,FINSEQ_1:def 3;
then A25: (( p2 . 1 ) = 2 & ( ( Path_matrix (p2,M) ) . 2 ) = ( M * (2,1) )) by A11,FINSEQ_1:44,MATRIX_3:def 7;
A26: ( f4 . ( 1 + 1 ) ) = ( (the multF of K) . (( f4 . 1 ),( ( Path_matrix (p2,M) ) . ( 1 + 1 ) )) ) by A22
.= ( ( M * (1,2) ) * ( M * (2,1) ) ) by A24,A25,A21,MATRIX_3:def 7;
A27: ( len ( Permutations 2 ) ) = 2 by MATRIX_2:18;
(not (ex l being (FinSequence of ( Group_of_Perm 2 )) st ((( ( len l ) mod 2 ) = ( 0 ) & s2 = ( Product l )) & (for i holds (i in ( dom l ) implies (ex q being (Element of ( Permutations 2 )) st (( l . i ) = q & q is  being_transposition))))))) by CKB8:1,CKB12:1;
then (( f . p2 ) = ( - (( (the multF of K) "**" ( Path_matrix (p2,M) ) ),p2) ) & p2 is  odd) by A27,MATRIX_2:def 12,MATRIX_3:def 8;
then A28: ( f . p2 ) = ( - dj ) by MATRIX_2:def 13;
A29: ( Product l0 ) = ( Product ( <*> (the carrier of ( Group_of_Perm 2 )) ) )
.= ( 1_ ( Group_of_Perm 2 ) ) by GROUP_4:8
.= p1 by FINSEQ_2:52,MATRIX_2:24;
A30: ( ( 0 ) mod 2 ) = ( 0 ) by NAT_D:26;
(ex l being (FinSequence of ( Group_of_Perm 2 )) st ((( ( len l ) mod 2 ) = ( 0 ) & s1 = ( Product l )) & (for i holds (i in ( dom l ) implies (ex q being (Element of ( Permutations 2 )) st (( l . i ) = q & q is  being_transposition))))))
proof
take l0;
thus (( ( len l0 ) mod 2 ) = ( 0 ) & s1 = ( Product l0 )) by A30,A29;
let i;
thus thesis;
end;
then A31: (( f . p1 ) = ( - (( (the multF of K) "**" ( Path_matrix (p1,M) ) ),p1) ) & p1 is  even) by A27,MATRIX_2:def 12,MATRIX_3:def 8;
( f3 . ( 1 + 1 ) ) = ( (the multF of K) . (( f3 . 1 ),( ( Path_matrix (p1,M) ) . ( 1 + 1 ) )) ) by A14
.= ( ( M * (1,1) ) * ( M * (2,2) ) ) by A17,A19,A13,MATRIX_3:def 7;
hence thesis by A4,A8,A15,A23,A26,A31,A28,MATRIX_2:def 13;
end;
