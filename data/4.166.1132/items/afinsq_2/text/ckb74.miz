environ
vocabularies NUMBERS,SUBSET_1,FUNCT_1,NAT_1,TARSKI,MEMBERED,ORDINAL1,FINSET_1,RELAT_1,AFINSQ_1,ARYTM_1,ARYTM_3,FINSEQ_1,XXREAL_0,CARD_1,XBOOLE_0,ORDINAL4,FINSEQ_5,RFINSEQ,JORDAN3,CARD_3,XCMPLX_0,AFINSQ_2,BINOP_1,SETWISEO,FINSOP_1,FUNCOP_1,BINOP_2,VALUED_0,FUNCT_2,INT_1,PRGCOR_2,XREAL_0,SEQ_1,SERIES_1,VALUED_1,RAT_1,SQUARE_1,COMPLEX1,PARTFUN3,PRE_POLY,AMISTD_1,AMISTD_2;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,XREAL_0,NUMBERS,RELAT_1,FUNCT_1,XCMPLX_0,NAT_1,FINSET_1,ORDINAL1,XXREAL_0,NAT_D,AFINSQ_1,SEQ_1,MEMBERED,VALUED_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,INT_1,BINOP_1,BINOP_2,SETWISEO,FINSOP_1,FINSEQ_1,RECDEF_1,VALUED_0,SERIES_1,RAT_1,PARTFUN3,CKB33,CKB36,CKB47,CKB55,CKB60,CKB61;
definitions TARSKI,XBOOLE_0,FUNCT_1,VALUED_1,CKB33,CKB36,CKB47,CKB55,CKB60,CKB61;
theorems TARSKI,FUNCT_1,NAT_1,ZFMISC_1,RELAT_1,CARD_2,XBOOLE_0,XBOOLE_1,FINSET_1,ORDINAL1,CARD_1,XREAL_1,AFINSQ_1,XXREAL_0,NAT_2,FINSEQ_2,WELLORD2,MEMBERED,VALUED_0,VALUED_1,XREAL_0,NAT_D,SERIES_1,PARTFUN3,BINOP_1,BINOP_2,SETWISEO,FUNCOP_1,FINSOP_1,FINSEQ_1,FUNCT_2,XCMPLX_0,GRFUNC_1,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB33,CKB34,CKB36,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB55,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73;
schemes NAT_1,AFINSQ_1,FUNCT_2,BINOP_1,CKB8;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FUNCOP_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,BINOP_2,CARD_1,FINSEQ_1,AFINSQ_1,RELSET_1,ORDINAL3,VALUED_1,VALUED_0,MEMBERED,CKB4,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB35,CKB40,CKB46,CKB54,CKB56;
constructors SERIES_1,PARTFUN3,WELLORD2,SETWISEO,REAL_1,FINSOP_1,NAT_D,RECDEF_1,BINOP_2,RELSET_1,ORDINAL4,AFINSQ_1,MATRIX_7,SQUARE_1,FINSEQ_4,BINOP_1,CKB33,CKB36,CKB47,CKB55,CKB60,CKB61;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for Nat;
reserve n for Nat;
reserve m for Nat;
reserve x for set;
reserve y for set;
reserve X for set;
reserve Y for set;
theorem
Th46: (for X,Y being  finite  natural-membered set holds (X <N< Y iff ( Sgm0 ( X \/ Y ) ) = ( ( Sgm0 X ) ^ ( Sgm0 Y ) )))
proof
let X being  finite  natural-membered set;
let Y being  finite  natural-membered set;
set p = ( Sgm0 X );
set q = ( Sgm0 Y );
set r = ( Sgm0 ( X \/ Y ) );
thus (X <N< Y implies ( Sgm0 ( X \/ Y ) ) = ( ( Sgm0 X ) ^ ( Sgm0 Y ) ))
proof
defpred P[ Nat ]
 means
($1 in ( dom p ) implies ( r . $1 ) = ( p . $1 ));
reconsider X1 = X,Y1 = Y as  finite set;
assume A1: X <N< Y;
( X /\ Y ) = ( {} )
proof
set x = the (Element of ( X /\ Y ));
X = ( rng p ) by CKB55:def 1;
then A2: X c= ( NAT ) by RELAT_1:def 19;
assume A3: (not thesis);
then x in X by XBOOLE_0:def 4;
then reconsider m = x as (Element of ( NAT )) by A2;
A4: m in Y by A3,XBOOLE_0:def 4;
m in X by A3,XBOOLE_0:def 4;
hence thesis by A1,A4,CKB60:def 1;
end;
then A5: X misses Y by XBOOLE_0:def 7;
A6: ( len r ) = ( card ( X1 \/ Y1 ) ) by CKB57:1
.= ( ( card X1 ) + ( card Y1 ) ) by A5,CARD_2:40
.= ( ( len p ) + ( card Y1 ) ) by CKB57:1
.= ( ( len p ) + ( len q ) ) by CKB57:1;
A7:now
let k;
assume A8: P[ k ];
thus P[ ( k + 1 ) ]
proof
set m = ( r . ( k + 1 ) );
set n = ( p . ( k + 1 ) );
assume A9: ( k + 1 ) in ( dom p );
then n in ( rng p ) by FUNCT_1:def 3;
then A10: n in X by CKB55:def 1;
( len p ) <= ( len r ) by A6,NAT_1:12;
then A11: ( len p ) c= ( len r ) by NAT_1:39;
then m in ( rng r ) by A9,FUNCT_1:def 3;
then A12: m in ( X \/ Y ) by CKB55:def 1;
assume A13: m <> n;
now
per cases ;
suppose A14: k in ( dom p );

set m1 = ( r . k );
set n1 = ( p . k );
now
per cases  by A13,XXREAL_0:1;
suppose A15: m < n;

then (not m in Y) by A1,A10,CKB60:def 1;
then m in X by A12,XBOOLE_0:def 3;
then m in ( rng p ) by CKB55:def 1;
then consider x such that A16: x in ( dom p ) and A17: ( p . x ) = m by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A16;
x < ( len p ) by A16,NAT_1:44;
then A18: x < ( k + 1 ) by A15,A17,CKB72:1;
A19: k < ( k + 1 ) by XREAL_1:29;
( k + 1 ) < ( len r ) by A9,A11,NAT_1:44;
then A20: n1 < m by A8,A14,A19,CKB55:def 1;
k < ( len p ) by A14,NAT_1:44;
then k < x by A17,A20,CKB72:1;
hence contradiction by A18,NAT_1:13;
end;
suppose A21: n < m;

n in ( X \/ Y ) by A10,XBOOLE_0:def 3;
then n in ( rng r ) by CKB55:def 1;
then consider x such that A22: x in ( dom r ) and A23: ( r . x ) = n by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A22;
x < ( len r ) by A22,NAT_1:44;
then A24: x < ( k + 1 ) by A21,A23,CKB72:1;
A25: k < ( k + 1 ) by XREAL_1:29;
( k + 1 ) < ( len p ) by A9,NAT_1:44;
then A26: m1 < n by A8,A14,A25,CKB55:def 1;
k < ( len r ) by A11,A14,NAT_1:44;
then k < x by A23,A26,CKB72:1;
hence contradiction by A24,NAT_1:13;
end;
end;
hence contradiction;
end;
suppose A27: (not k in ( dom p ));

A28: k < ( k + 1 ) by XREAL_1:29;
( len p ) <= k by A27,NAT_1:44;
then ( len p ) < ( k + 1 ) by A28,XXREAL_0:2;
hence contradiction by A9,NAT_1:44;
end;
end;
hence contradiction;
end;

end;
(( 0 ) < ( len p ) implies X1 <> ( {} )) by CKB57:1,CARD_1:27;
then A29: P[ ( 0 ) ] by A1,CKB73:1;
A30: (for k holds P[ k ]) from NAT_1:sch 2(A29,A7);
defpred P[ Nat ]
 means
($1 in ( dom q ) implies ( r . ( ( len p ) + $1 ) ) = ( q . $1 ));
A31:now
let k;
assume A32: P[ k ];
thus P[ ( k + 1 ) ]
proof
set n = ( q . ( k + 1 ) );
set a = ( ( len p ) + ( k + 1 ) );
set m = ( r . a );
assume A33: ( k + 1 ) in ( dom q );
then ( q . ( k + 1 ) ) in ( rng q ) by FUNCT_1:def 3;
then A34: n in Y by CKB55:def 1;
( k + 1 ) < ( len q ) by A33,NAT_1:44;
then A35: a < ( len r ) by A6,XREAL_1:6;
then A36: a in ( dom r ) by NAT_1:44;
then ( r . a ) in ( rng r ) by FUNCT_1:def 3;
then A37: m in ( X \/ Y ) by CKB55:def 1;
A38:now
A39: ( len p ) <= ( len r ) by A6,NAT_1:12;
assume m in X;
then m in ( rng p ) by CKB55:def 1;
then consider x such that A40: x in ( dom p ) and A41: ( p . x ) = m by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A40;
x < ( len p ) by A40,NAT_1:44;
then x < ( len r ) by A39,XXREAL_0:2;
then A42: x in ( dom r ) by NAT_1:44;
( r . x ) = ( r . a ) by A30,A40,A41;
then x = a by A36,A42,FUNCT_1:def 4;
then ( ( len p ) + ( k + 1 ) ) <= ( ( len p ) + (( 0 ) qua (Element of ( NAT ))) ) by A40,NAT_1:44;
hence contradiction by XREAL_1:29;
end;
assume A43: ( r . ( ( len p ) + ( k + 1 ) ) ) <> ( q . ( k + 1 ) );
now
per cases ;
suppose A44: k in ( dom q );

set m1 = ( r . ( ( len p ) + k ) );
set n1 = ( q . k );
A45: k < ( len q ) by A44,NAT_1:44;
now
per cases  by A43,XXREAL_0:1;
suppose A46: m < n;

m in Y by A37,A38,XBOOLE_0:def 3;
then m in ( rng q ) by CKB55:def 1;
then consider x such that A47: x in ( dom q ) and A48: ( q . x ) = m by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A47;
x < ( len q ) by A47,NAT_1:44;
then A49: x < ( k + 1 ) by A46,A48,CKB72:1;
( ( len p ) + k ) < ( ( ( len p ) + k ) + 1 ) by XREAL_1:29;
then A50: n1 < m by A32,A35,A44,CKB55:def 1;
k < ( len q ) by A44,NAT_1:44;
then k < x by A48,A50,CKB72:1;
hence contradiction by A49,NAT_1:13;
end;
suppose A51: n < m;

n in ( X \/ Y ) by A34,XBOOLE_0:def 3;
then n in ( rng r ) by CKB55:def 1;
then consider x such that A52: x in ( dom r ) and A53: ( r . x ) = n by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A52;
x < ( len r ) by A52,NAT_1:44;
then A54: x < ( ( ( len p ) + k ) + 1 ) by A51,A53,CKB72:1;
A55: k < ( k + 1 ) by XREAL_1:29;
( k + 1 ) < ( len q ) by A33,NAT_1:44;
then A56: m1 < n by A32,A44,A55,CKB55:def 1;
( ( len p ) + k ) < ( len r ) by A6,A45,XREAL_1:6;
then ( ( len p ) + k ) < x by A53,A56,CKB72:1;
hence contradiction by A54,NAT_1:13;
end;
end;
hence contradiction;
end;
suppose A57: (not k in ( dom q ));

A58: k < ( k + 1 ) by XREAL_1:29;
( len q ) <= k by A57,NAT_1:44;
then ( len q ) < ( k + 1 ) by A58,XXREAL_0:2;
hence contradiction by A33,NAT_1:44;
end;
end;
hence contradiction;
end;

end;
(( len q ) > ( 0 ) implies Y <> ( {} )) by CKB57:1,CARD_1:27;
then A59: P[ ( 0 ) ] by A1,CKB71:1;
(for k holds P[ k ]) from NAT_1:sch 2(A59,A31);
hence thesis by A6,A30,AFINSQ_1:def 3;
end;

assume A60: ( Sgm0 ( X \/ Y ) ) = ( ( Sgm0 X ) ^ ( Sgm0 Y ) );
let m being Nat;
let n being Nat;
assume that
A61: m in X
and
A62: n in Y;
n in ( rng q ) by A62,CKB55:def 1;
then consider y such that A63: y in ( dom q ) and A64: ( q . y ) = n by FUNCT_1:def 3;
reconsider y as (Element of ( NAT )) by A63;
A65: n = ( r . ( ( len p ) + y ) ) by A60,A63,A64,AFINSQ_1:def 3;
y < ( len q ) by A63,NAT_1:44;
then ( ( len p ) + y ) < ( ( len p ) + ( len q ) ) by XREAL_1:6;
then A66: ( ( len p ) + y ) < ( len r ) by A60,AFINSQ_1:17;
A67: ( len p ) <= ( ( len p ) + y ) by NAT_1:12;
m in ( rng ( Sgm0 X ) ) by A61,CKB55:def 1;
then consider x such that A68: x in ( dom p ) and A69: ( p . x ) = m by FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A68;
x < ( len p ) by A68,NAT_1:44;
then A70: x < ( ( len p ) + y ) by A67,XXREAL_0:2;
m = ( r . x ) by A60,A68,A69,AFINSQ_1:def 3;
hence thesis by A65,A70,A66,CKB55:def 1;
end;
