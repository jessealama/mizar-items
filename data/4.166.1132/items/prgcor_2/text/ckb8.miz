environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,AFINSQ_1,SUBSET_1,TARSKI,CARD_1,FUNCT_1,RELAT_1,ORDINAL1,FINSEQ_1,XXREAL_0,ARYTM_3,ARYTM_1,FUNCOP_1,ORDINAL4,REAL_1,INT_1,CARD_3,PARTFUN1,RVSUM_1,FINSEQ_2,PRGCOR_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,RELAT_1,FUNCT_1,ORDINAL1,ORDINAL4,REAL_1,NAT_1,PARTFUN1,FINSEQ_1,FUNCOP_1,SEQ_1,AFINSQ_1,INT_1,RVSUM_1,NAT_D,FINSEQ_2,XXREAL_0,CKB1,CKB3,CKB5;
definitions TARSKI,CKB1,CKB3,CKB5;
theorems FUNCT_1,NAT_1,RELAT_1,ORDINAL1,FINSEQ_1,FUNCOP_1,AFINSQ_1,RVSUM_1,FINSEQ_4,FINSEQ_2,XREAL_1,XXREAL_0,PARTFUN1,VALUED_1,XREAL_0,FINSEQ_5,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes NAT_1,AFINSQ_1;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,AFINSQ_1,XBOOLE_0,VALUED_0,FINSEQ_2,CARD_1;
constructors XXREAL_0,REAL_1,NAT_1,PARTFUN1,NAT_D,AFINSQ_1,SEQ_1,BINOP_2,INT_1,VALUED_1,RVSUM_1,RELSET_1,ORDINAL4,FUNCOP_1,FUNCT_7,CKB1,CKB3,CKB5;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve i for Nat;
theorem
(for a,b being (FinSequence of ( REAL )) holds (for n being Nat holds ((( len a ) = ( len b ) & n > ( len a )) implies |( a,b )| = ( inner_prd_prg (( FS2XFS* (a,n) ),( FS2XFS* (b,n) )) ))))
proof
let a being (FinSequence of ( REAL )),b being (FinSequence of ( REAL ));
let n2 being Nat;
assume that
A1: ( len a ) = ( len b )
and
A2: n2 > ( len a );
reconsider rb = b as (Element of ( ( len a ) -tuples_on ( REAL ) )) by A1,FINSEQ_2:92;
reconsider ra = a as (Element of ( ( len a ) -tuples_on ( REAL ) )) by FINSEQ_2:92;
set ri = ( inner_prd_prg (( FS2XFS* (a,n2) ),( FS2XFS* (b,n2) )) );
set pa = ( FS2XFS* (a,n2) );
set pb = ( FS2XFS* (b,n2) );
A3: ( len b ) = ( pb . ( 0 ) ) by A1,A2,AFINSQ_1:def 10;
( len pa ) = n2 by A2,AFINSQ_1:def 10;
then consider s being (XFinSequence of ( REAL )),n being Integer such that ( len s ) = ( len pa ) and A4: ( s . ( 0 ) ) = ( 0 ) and A5: n = ( pb . ( 0 ) ) and A6: (n <> ( 0 ) implies (for i being Nat holds (i < n implies ( s . ( i + 1 ) ) = ( ( s . i ) + ( ( pa . ( i + 1 ) ) * ( pb . ( i + 1 ) ) ) )))) and A7: ri = ( s . n ) by A1,A2,A3,CKB5:def 1;
A8: ( len ( mlt (ra,rb) ) ) = ( len a ) by CARD_1:def 7;
(for i holds (i < ( len ( mlt (a,b) ) ) implies ( s . ( i + 1 ) ) = ( ( s . i ) + ( ( mlt (a,b) ) . ( i + 1 ) ) )))
proof
let i;
assume A9: i < ( len ( mlt (a,b) ) );
then (1 <= ( i + 1 ) & ( i + 1 ) <= ( len a )) by A8,NAT_1:11,NAT_1:13;
then A10: (( pa . ( i + 1 ) ) = ( a . ( i + 1 ) ) & ( pb . ( i + 1 ) ) = ( b . ( i + 1 ) )) by A1,A2,AFINSQ_1:def 10;
A11: i < n by A1,A2,A5,A8,A9,AFINSQ_1:def 10;
now
per cases ;
case n <> ( 0 );
( s . ( i + 1 ) ) = ( ( s . i ) + ( ( pa . ( i + 1 ) ) * ( pb . ( i + 1 ) ) ) ) by A6,A11
.= ( ( s . i ) + ( ( mlt (a,b) ) . ( i + 1 ) ) ) by A10,RVSUM_1:59;
hence thesis;
end;
case n = ( 0 );
hence contradiction by A1,A2,A5,A8,A9,AFINSQ_1:def 10;
end;
end;
hence thesis;
end;
then ( Sum ( mlt (a,b) ) ) = ( s . n ) by A1,A3,A4,A5,A8,CKB6:1;
hence thesis by A7,RVSUM_1:def 16;
end;
