environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,AFINSQ_1,SUBSET_1,TARSKI,CARD_1,FUNCT_1,RELAT_1,ORDINAL1,FINSEQ_1,XXREAL_0,ARYTM_3,ARYTM_1,FUNCOP_1,ORDINAL4,REAL_1,INT_1,CARD_3,PARTFUN1,RVSUM_1,FINSEQ_2,PRGCOR_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,RELAT_1,FUNCT_1,ORDINAL1,ORDINAL4,REAL_1,NAT_1,PARTFUN1,FINSEQ_1,FUNCOP_1,SEQ_1,AFINSQ_1,INT_1,RVSUM_1,NAT_D,FINSEQ_2,XXREAL_0,CKB1,CKB3,CKB5;
definitions TARSKI,CKB1,CKB3,CKB5;
theorems FUNCT_1,NAT_1,RELAT_1,ORDINAL1,FINSEQ_1,FUNCOP_1,AFINSQ_1,RVSUM_1,FINSEQ_4,FINSEQ_2,XREAL_1,XXREAL_0,PARTFUN1,VALUED_1,XREAL_0,FINSEQ_5,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes NAT_1,AFINSQ_1;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,AFINSQ_1,XBOOLE_0,VALUED_0,FINSEQ_2,CARD_1;
constructors XXREAL_0,REAL_1,NAT_1,PARTFUN1,NAT_D,AFINSQ_1,SEQ_1,BINOP_2,INT_1,VALUED_1,RVSUM_1,RELSET_1,ORDINAL4,FUNCOP_1,FUNCT_7,CKB1,CKB3,CKB5;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for Nat;
reserve i for Nat;
theorem
Th8: (for a being (FinSequence of ( REAL )) holds (for s being (XFinSequence of ( REAL )) holds ((( s . ( 0 ) ) = ( 0 ) & (for i holds (i < ( len a ) implies ( s . ( i + 1 ) ) = ( ( s . i ) + ( a . ( i + 1 ) ) )))) implies ( Sum a ) = ( s . ( len a ) ))))
proof
let a being (FinSequence of ( REAL ));
let s being (XFinSequence of ( REAL ));
assume that
A1: ( s . ( 0 ) ) = ( 0 )
and
A2: (for i holds (i < ( len a ) implies ( s . ( i + 1 ) ) = ( ( s . i ) + ( a . ( i + 1 ) ) )));
defpred P[ Nat ]
 means
($1 <= ( len a ) implies ( Sum ( a | $1 ) ) = ( s . $1 ));
A3: (for k holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k;
reconsider k1 = k as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider m = ( k1 + 1 ) as Nat;
assume A4: P[ k ];
(( k + 1 ) <= ( len a ) implies ( Sum ( a | m ) ) = ( s . ( k + 1 ) ))
proof
reconsider x0 = <* ( a /. m ) *> as (FinSequence of ( REAL ));
reconsider rx = ( a /. m ) as (Element of ( REAL ));
reconsider q0 = ( a | k ) as (FinSequence of ( REAL ));
assume A5: ( k + 1 ) <= ( len a );
then A6: ( a | m ) = ( ( a | k ) ^ <* ( a /. m ) *> ) by FINSEQ_5:82;
A7: 1 <= ( k + 1 ) by NAT_1:11;
then m in ( Seg ( len a ) ) by A5,FINSEQ_1:1;
then A8: m in ( dom a ) by FINSEQ_1:def 3;
m in ( Seg m ) by A7,FINSEQ_1:1;
then m in ( Seg ( len ( a | m ) ) ) by A5,FINSEQ_1:59;
then A9: m in ( dom ( a | m ) ) by FINSEQ_1:def 3;
( Sum x0 ) = rx by RVSUM_1:73;
then A10: ( Sum ( a | m ) ) = ( ( s . k ) + rx ) by A4,A5,A6,NAT_1:13,RVSUM_1:75;
A11: ( len ( a | m ) ) = m by A5,FINSEQ_1:59;
A12: k < ( len a ) by A5,NAT_1:13;
( len ( a | m ) ) = ( ( len q0 ) + ( len <* rx *> ) ) by A6,FINSEQ_1:22
.= ( ( len q0 ) + 1 ) by FINSEQ_1:40;
then rx = ( ( a | m ) . m ) by A6,A11,FINSEQ_1:42
.= ( ( a | m ) /. m ) by A9,PARTFUN1:def 6
.= ( a /. m ) by A9,FINSEQ_4:70
.= ( a . m ) by A8,PARTFUN1:def 6;
hence thesis by A2,A12,A10;
end;
hence thesis;
end;
A13: P[ ( 0 ) ] by A1,RVSUM_1:72;
(for k holds P[ k ]) from NAT_1:sch 2(A13,A3);
then P[ ( len a ) ];
hence thesis by FINSEQ_1:58;
end;
