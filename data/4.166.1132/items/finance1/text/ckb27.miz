environ
vocabularies FINANCE1,NUMBERS,XBOOLE_0,PROB_1,SUBSET_1,FUNCT_1,TARSKI,RELAT_1,CARD_1,ARYTM_1,CARD_3,PROB_3,NAT_1,ARYTM_3,XREAL_0,ORDINAL1,XXREAL_0,SERIES_1,EQREL_1,MEASURE6,SEQ_1,XXREAL_1,MESFUNC1,RANDOM_1,RANDOM_2,FUNCOP_1,VALUED_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,XXREAL_0,NAT_1,XREAL_0,NUMBERS,FUNCT_1,RELSET_1,FUNCT_2,PROB_3,SERIES_1,PROB_1,MEASURE6,SEQ_1,BINOP_2,MESFUNC1,MESFUNC6,RANDOM_1,INT_1,KOLMOG01,XXREAL_1,RCOMP_1,FUNCOP_1,VALUED_1,RANDOM_2,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
definitions XXREAL_0,PROB_1,SUBSET_1,TARSKI,FUNCT_2,CKB5,CKB6,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
theorems SERIES_1,PROB_1,PROB_3,XBOOLE_0,NAT_1,FUNCT_2,XXREAL_0,ORDINAL1,TARSKI,XREAL_1,XXREAL_1,MESFUNC1,MEASURE6,FINSUB_1,MESFUNC6,XREAL_0,RANDOM_1,RANDOM_2,FUNCOP_1,VALUED_1,FRECHET,XBOOLE_1,CKB3,CKB4,CKB5,CKB6,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26;
schemes NAT_1,FUNCT_2,RECDEF_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,NUMBERS,XREAL_0,MEMBERED,PROB_1,VALUED_0,XXREAL_0,NAT_1,XCMPLX_0,VALUED_1,FUNCT_2,CKB13,CKB20;
constructors REAL_1,SEQ_1,PROB_3,SERIES_1,BINOP_2,RELSET_1,MEASURE6,RCOMP_1,MESFUNC1,MESFUNC6,KOLMOG01,RANDOM_2,FUNCOP_1,CKB2,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
requirements SUBSET,NUMERALS,BOOLE,ARITHM,REAL;
begin
reserve Omega for non  empty set;
reserve Sigma for (SigmaField of Omega);
theorem
Th4: (for X being (Function of Omega,( REAL )) holds (X is_random_variable_on Sigma,( Borel_Sets ) implies (((((((for k being  real number holds ({ w where w is (Element of Omega): ( X . w ) >= k } is (Element of Sigma) & { w where w is (Element of Omega): ( X . w ) < k } is (Element of Sigma))) & (for k1,k2 being  real number holds (k1 < k2 implies { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) < k2) } is (Element of Sigma)))) & (for k1,k2 being  real number holds (k1 <= k2 implies { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) <= k2) } is (Element of Sigma)))) & (for r being  real number holds ( less_dom (X,r) ) = { w where w is (Element of Omega): ( X . w ) < r })) & (for r being  real number holds ( great_eq_dom (X,r) ) = { w where w is (Element of Omega): ( X . w ) >= r })) & (for r being  real number holds ( eq_dom (X,r) ) = { w where w is (Element of Omega): ( X . w ) = r })) & (for r being  real number holds ( eq_dom (X,r) ) is (Element of Sigma)))))
proof
let X being (Function of Omega,( REAL ));
assume A0: X is_random_variable_on Sigma,( Borel_Sets );
Fin0: (for k being  real number holds ({ w where w is (Element of Omega): ( X . w ) >= k } is (Element of Sigma) & { w where w is (Element of Omega): ( X . w ) < k } is (Element of Sigma)))
proof
let k being  real number;
CJ1: (for q being set holds ((ex w being (Element of Omega) st (q = w & ( X . w ) >= k)) iff (ex w being (Element of Omega) st (q = w & ( X . w ) in [. k,( +infty ) .]))))
proof
let q being set;
now
assume (ex w being (Element of Omega) st (q = w & ( X . w ) in [. k,( +infty ) .]));
then consider w being (Element of Omega) such that T0: (q = w & ( X . w ) in [. k,( +infty ) .]);
( X . w ) in { z where z is (Element of ( ExtREAL )): (k <= z & z <= ( +infty )) } by T0,XXREAL_1:def 1;
then (ex z being (Element of ( ExtREAL )) st ((( X . w ) = z & k <= z) & z <= ( +infty )));
hence (ex w being (Element of Omega) st (q = w & ( X . w ) >= k)) by T0;
end;
hence thesis by XXREAL_1:219;
end;
GG: (for x being set holds (x in { w where w is (Element of Omega): ( X . w ) >= k } iff x in { w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .[ }))
proof
let x being set;
(x in { w where w is (Element of Omega): ( X . w ) >= k } iff (ex w being (Element of Omega) st (x = w & ( X . w ) >= k)));
then H00: (x in { w where w is (Element of Omega): ( X . w ) >= k } iff (ex w being (Element of Omega) st (x = w & ( X . w ) in [. k,( +infty ) .]))) by CJ1;
(x in { w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .] } iff x in { w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .[ })
proof
hereby
assume x in { w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .] };
then consider w being (Element of Omega) such that EJ0: (w = x & ( X . w ) in [. k,( +infty ) .]);
( X . w ) in { a where a is (Element of ( ExtREAL )): (k <= a & a <= ( +infty )) } by EJ0,XXREAL_1:def 1;
then consider a being (Element of ( ExtREAL )) such that EJ1: ((( X . w ) = a & k <= a) & a <= ( +infty ));
EJ2: ((( X . w ) = a & k <= a) & a < ( +infty )) by EJ1,XXREAL_0:9;
{ z where z is (Element of ( ExtREAL )): (k <= z & z < ( +infty )) } = [. k,( +infty ) .[ by XXREAL_1:def 2;
then ( X . w ) in [. k,( +infty ) .[ by EJ2;
hence x in { g where g is (Element of Omega): ( X . g ) in [. k,( +infty ) .[ } by EJ0;
end;
assume x in { w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .[ };
then consider w being (Element of Omega) such that II0: (w = x & ( X . w ) in [. k,( +infty ) .[);
(w = x & ( X . w ) in { u where u is (Element of ( ExtREAL )): (k <= u & u < ( +infty )) }) by II0,XXREAL_1:def 2;
then (w = x & (ex u being (Element of ( ExtREAL )) st ((u = ( X . w ) & k <= u) & u < ( +infty ))));
then (w = x & ( X . w ) in { u where u is (Element of ( ExtREAL )): (k <= u & u <= ( +infty )) });
then (w = x & ( X . w ) in [. k,( +infty ) .]) by XXREAL_1:def 1;
hence thesis;
end;
hence thesis by H00;
end;
k in ( REAL ) by XREAL_0:def 1;
then QQ: [. k,( +infty ) .[ is non  empty by XXREAL_0:9,XXREAL_1:31;
UUU: { w where w is (Element of Omega): ( X . w ) >= k } = { w where w is (Element of Omega): ( X . w ) is (Element of [. k,( +infty ) .[) }
proof
{ w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .[ } = { w where w is (Element of Omega): ( X . w ) is (Element of [. k,( +infty ) .[) }
proof
(for x being set holds (x in { w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .[ } iff x in { w where w is (Element of Omega): ( X . w ) is (Element of [. k,( +infty ) .[) }))
proof
let x being set;
hereby
assume x in { w where w is (Element of Omega): ( X . w ) in [. k,( +infty ) .[ };
then (ex w being (Element of Omega) st (w = x & ( X . w ) in [. k,( +infty ) .[));
hence x in { w where w is (Element of Omega): ( X . w ) is (Element of [. k,( +infty ) .[) };
end;
assume x in { w where w is (Element of Omega): ( X . w ) is (Element of [. k,( +infty ) .[) };
then consider w being (Element of Omega) such that K0: (w = x & ( X . w ) is (Element of [. k,( +infty ) .[));
thus thesis by K0,QQ;
end;
hence thesis by TARSKI:1;
end;
hence thesis by GG,TARSKI:1;
end;
ff: ([. k,( +infty ) .[ is (Element of ( Borel_Sets )) & ]. ( -infty ),k .[ is (Element of ( Borel_Sets ))) by CKB21:1;
CJ4: (for q being set holds ((ex w being (Element of Omega) st (q = w & ( X . w ) < k)) iff (ex w being (Element of Omega) st (q = w & ( X . w ) in [. ( -infty ),k .[))))
proof
let q being set;
now
assume (ex w being (Element of Omega) st (q = w & ( X . w ) in [. ( -infty ),k .[));
then consider w being (Element of Omega) such that T0: (q = w & ( X . w ) in [. ( -infty ),k .[);
( X . w ) in { z where z is (Element of ( ExtREAL )): (( -infty ) <= z & z < k) } by T0,XXREAL_1:def 2;
then (ex z being (Element of ( ExtREAL )) st ((( X . w ) = z & ( -infty ) <= z) & z < k));
hence (ex w being (Element of Omega) st (q = w & ( X . w ) < k)) by T0;
end;
hence thesis by XXREAL_1:221;
end;
(for x being set holds (x in { w where w is (Element of Omega): ( X . w ) < k } iff x in { w where w is (Element of Omega): ( X . w ) in ]. ( -infty ),k .[ }))
proof
let x being set;
(x in { w where w is (Element of Omega): ( X . w ) < k } iff (ex w being (Element of Omega) st (x = w & ( X . w ) < k)));
then H00: (x in { w where w is (Element of Omega): ( X . w ) < k } iff (ex w being (Element of Omega) st (x = w & ( X . w ) in [. ( -infty ),k .[))) by CJ4;
(x in { w where w is (Element of Omega): ( X . w ) in [. ( -infty ),k .[ } iff x in { w where w is (Element of Omega): ( X . w ) in ]. ( -infty ),k .[ })
proof
hereby
assume x in { w where w is (Element of Omega): ( X . w ) in [. ( -infty ),k .[ };
then consider w being (Element of Omega) such that EJ0: (w = x & ( X . w ) in [. ( -infty ),k .[);
( X . w ) in { a where a is (Element of ( ExtREAL )): (( -infty ) <= a & a < k) } by EJ0,XXREAL_1:def 2;
then consider a being (Element of ( ExtREAL )) such that EJ1: ((( X . w ) = a & ( -infty ) <= a) & a < k);
EJ2: ((( X . w ) = a & ( -infty ) < a) & a < k) by EJ1,XXREAL_0:12;
{ z where z is (Element of ( ExtREAL )): (( -infty ) < z & z < k) } = ]. ( -infty ),k .[ by XXREAL_1:def 4;
then ( X . w ) in ]. ( -infty ),k .[ by EJ2;
hence x in { g where g is (Element of Omega): ( X . g ) in ]. ( -infty ),k .[ } by EJ0;
end;
assume x in { w where w is (Element of Omega): ( X . w ) in ]. ( -infty ),k .[ };
then consider w being (Element of Omega) such that II0: (w = x & ( X . w ) in ]. ( -infty ),k .[);
(w = x & ( X . w ) in { u where u is (Element of ( ExtREAL )): (( -infty ) < u & u < k) }) by II0,XXREAL_1:def 4;
then (w = x & (ex u being (Element of ( ExtREAL )) st ((u = ( X . w ) & ( -infty ) < u) & u < k)));
then (w = x & ( X . w ) in { u where u is (Element of ( ExtREAL )): (( -infty ) <= u & u < k) });
then (w = x & ( X . w ) in [. ( -infty ),k .[) by XXREAL_1:def 2;
hence thesis;
end;
hence thesis by H00;
end;
then GGG: { w where w is (Element of Omega): ( X . w ) < k } = { w where w is (Element of Omega): ( X . w ) in ]. ( -infty ),k .[ } by TARSKI:1;
{ w where w is (Element of Omega): ( X . w ) < k } is (Element of Sigma)
proof
FJ30: ([. k,( +infty ) .[ is (Element of ( Borel_Sets )) & ]. ( -infty ),k .[ is (Element of ( Borel_Sets ))) by CKB21:1;
k in ( REAL ) by XREAL_0:def 1;
then QQ: ]. ( -infty ),k .[ is non  empty by XXREAL_0:12,XXREAL_1:33;
(for x being set holds (x in { w where w is (Element of Omega): ( X . w ) in ]. ( -infty ),k .[ } iff x in { w where w is (Element of Omega): ( X . w ) is (Element of ]. ( -infty ),k .[) }))
proof
let x being set;
hereby
assume x in { w where w is (Element of Omega): ( X . w ) in ]. ( -infty ),k .[ };
then (ex w being (Element of Omega) st (w = x & ( X . w ) in ]. ( -infty ),k .[));
hence x in { w where w is (Element of Omega): ( X . w ) is (Element of ]. ( -infty ),k .[) };
end;
assume x in { w where w is (Element of Omega): ( X . w ) is (Element of ]. ( -infty ),k .[) };
then consider w being (Element of Omega) such that K0: (w = x & ( X . w ) is (Element of ]. ( -infty ),k .[));
thus thesis by K0,QQ;
end;
then { w where w is (Element of Omega): ( X . w ) < k } = { w where w is (Element of Omega): ( X . w ) is (Element of ]. ( -infty ),k .[) } by GGG,TARSKI:1;
hence thesis by FJ30,A0,CKB11:def 1;
end;
hence thesis by ff,A0,CKB11:def 1,UUU;
end;
Fin1: (for k1,k2 being  real number holds (k1 < k2 implies { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) < k2) } is (Element of Sigma)))
proof
let k1 being  real number;
let k2 being  real number;
assume A1: k1 < k2;
{ w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) < k2) } is (Element of Sigma)
proof
(for x being set holds (x in { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) < k2) } iff x in { w where w is (Element of Omega): ( X . w ) is (Element of [. k1,k2 .[) }))
proof
let x being set;
hereby
assume x in { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) < k2) };
then consider w being (Element of Omega) such that GJ0: ((x = w & k1 <= ( X . w )) & ( X . w ) < k2);
consider a being (Element of ( ExtREAL )) such that GJ02: a = ( R_EAL ( X . w ) );
a = ( X . w ) by GJ02,MEASURE6:def 1;
then ( X . w ) in { z where z is (Element of ( ExtREAL )): (k1 <= z & z < k2) } by GJ0;
then ( X . w ) is (Element of [. k1,k2 .[) by XXREAL_1:def 2;
hence x in { w1 where w1 is (Element of Omega): ( X . w1 ) is (Element of [. k1,k2 .[) } by GJ0;
end;
assume x in { w where w is (Element of Omega): ( X . w ) is (Element of [. k1,k2 .[) };
then consider w being (Element of Omega) such that GJ0: (x = w & ( X . w ) is (Element of [. k1,k2 .[));
GJ2: [. k1,k2 .[ is non  empty by A1,XXREAL_1:31;
( X . w ) in [. k1,k2 .[ by GJ0,GJ2;
then ( X . w ) in { a where a is (Element of ( ExtREAL )): (k1 <= a & a < k2) } by XXREAL_1:def 2;
then (ex a being (Element of ( ExtREAL )) st ((a = ( X . w ) & k1 <= a) & a < k2));
hence thesis by GJ0;
end;
then GGG: { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) < k2) } = { w where w is (Element of Omega): ( X . w ) is (Element of [. k1,k2 .[) } by TARSKI:1;
([. k2,k1 .[ is (Element of ( Borel_Sets )) & [. k1,k2 .[ is (Element of ( Borel_Sets ))) by CKB22:1;
hence thesis by A0,CKB11:def 1,GGG;
end;
hence thesis;
end;
Fin2: (for k1,k2 being  real number holds (k1 <= k2 implies { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) <= k2) } is (Element of Sigma)))
proof
let k1 being  real number;
let k2 being  real number;
assume AA0: k1 <= k2;
(for x being set holds (x in { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) <= k2) } iff x in { w where w is (Element of Omega): ( X . w ) is (Element of [. k1,k2 .]) }))
proof
let x being set;
hereby
assume x in { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) <= k2) };
then consider w being (Element of Omega) such that GJ0: ((x = w & k1 <= ( X . w )) & ( X . w ) <= k2);
consider a being (Element of ( ExtREAL )) such that GJ02: a = ( R_EAL ( X . w ) );
a = ( X . w ) by GJ02,MEASURE6:def 1;
then ( X . w ) in { z where z is (Element of ( ExtREAL )): (k1 <= z & z <= k2) } by GJ0;
then ( X . w ) is (Element of [. k1,k2 .]) by XXREAL_1:def 1;
hence x in { w1 where w1 is (Element of Omega): ( X . w1 ) is (Element of [. k1,k2 .]) } by GJ0;
end;
assume x in { w where w is (Element of Omega): ( X . w ) is (Element of [. k1,k2 .]) };
then consider w being (Element of Omega) such that GJ0: (x = w & ( X . w ) is (Element of [. k1,k2 .]));
GJ2: [. k1,k2 .] is non  empty by AA0,XXREAL_1:30;
( X . w ) in [. k1,k2 .] by GJ0,GJ2;
then ( X . w ) in { a where a is (Element of ( ExtREAL )): (k1 <= a & a <= k2) } by XXREAL_1:def 1;
then (ex a being (Element of ( ExtREAL )) st ((a = ( X . w ) & k1 <= a) & a <= k2));
hence thesis by GJ0;
end;
then GGG: { w where w is (Element of Omega): (k1 <= ( X . w ) & ( X . w ) <= k2) } = { w where w is (Element of Omega): ( X . w ) is (Element of [. k1,k2 .]) } by TARSKI:1;
([. k1,k2 .[ is (Element of ( Borel_Sets )) & [. k1,k2 .] is (Element of ( Borel_Sets ))) by CKB26:1,CKB22:1;
hence thesis by A0,CKB11:def 1,GGG;
end;
Fin3: (for r being  real number holds ( less_dom (X,r) ) = { w where w is (Element of Omega): ( X . w ) < r })
proof
let r being  real number;
(for x being set holds (x in ( less_dom (X,r) ) iff x in { w where w is (Element of Omega): ( X . w ) < r }))
proof
let x being set;
(x in ( less_dom (X,r) ) iff (x in ( dom X ) & ( X . x ) < r)) by MESFUNC1:def 11;
then (x in ( less_dom (X,r) ) iff (x in Omega & ( X . x ) < r)) by FUNCT_2:def 1;
then (x in ( less_dom (X,r) ) iff (ex q being (Element of Omega) st (q = x & ( X . q ) < r)));
hence thesis;
end;
hence thesis by TARSKI:1;
end;
Fin4: (for r being  real number holds ( great_eq_dom (X,r) ) = { w where w is (Element of Omega): ( X . w ) >= r })
proof
let r being  real number;
(for x being set holds (x in ( great_eq_dom (X,r) ) iff x in { w where w is (Element of Omega): ( X . w ) >= r }))
proof
let x being set;
(x in ( great_eq_dom (X,r) ) iff (x in ( dom X ) & ( X . x ) >= r)) by MESFUNC1:def 14;
then (x in ( great_eq_dom (X,r) ) iff (x in Omega & ( X . x ) >= r)) by FUNCT_2:def 1;
then (x in ( great_eq_dom (X,r) ) iff (ex q being (Element of Omega) st (q = x & ( X . q ) >= r)));
hence thesis;
end;
hence thesis by TARSKI:1;
end;
Fin5: (for r being  real number holds ( eq_dom (X,r) ) = { w where w is (Element of Omega): ( X . w ) = r })
proof
let r being  real number;
(for x being set holds (x in ( eq_dom (X,r) ) iff x in { w where w is (Element of Omega): ( X . w ) = r }))
proof
let x being set;
(x in ( eq_dom (X,r) ) iff (x in ( dom X ) & ( X . x ) = r)) by MESFUNC1:def 15;
then (x in ( eq_dom (X,r) ) iff (x in Omega & ( X . x ) = r)) by FUNCT_2:def 1;
then (x in ( eq_dom (X,r) ) iff (ex q being (Element of Omega) st (q = x & ( X . q ) = r)));
hence thesis;
end;
hence thesis by TARSKI:1;
end;
(for r being  real number holds ( eq_dom (X,r) ) is (Element of Sigma))
proof
let r being  real number;
(for x being set holds (x in { w where w is (Element of Omega): (r <= ( X . w ) & ( X . w ) <= r) } iff x in { w where w is (Element of Omega): ( X . w ) = r }))
proof
let x being set;
(x in { w where w is (Element of Omega): (r <= ( X . w ) & ( X . w ) <= r) } iff (ex q being (Element of Omega) st ((x = q & r <= ( X . q )) & ( X . q ) <= r)));
then (x in { w where w is (Element of Omega): (r <= ( X . w ) & ( X . w ) <= r) } iff (ex q being (Element of Omega) st (x = q & ( X . q ) = r))) by XXREAL_0:1;
hence thesis;
end;
then { w where w is (Element of Omega): (r <= ( X . w ) & ( X . w ) <= r) } = { w where w is (Element of Omega): ( X . w ) = r } by TARSKI:1;
then { w where w is (Element of Omega): ( X . w ) = r } is (Element of Sigma) by Fin2;
hence thesis by Fin5;
end;
hence thesis by Fin0,Fin1,Fin2,Fin3,Fin4,Fin5;
end;
