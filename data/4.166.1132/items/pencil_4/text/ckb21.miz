environ
vocabularies NUMBERS,NAT_1,ARYTM_3,XXREAL_0,ARYTM_1,FINSET_1,CARD_1,SUBSET_1,TARSKI,XBOOLE_0,VECTSP_1,RLSUB_1,STRUCT_0,SUPINF_2,RLSUB_2,RLVECT_5,SETFAM_1,ZFMISC_1,RLVECT_3,RELAT_1,PRE_TOPC,PENCIL_1,PENCIL_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,SETFAM_1,DOMAIN_1,STRUCT_0,FINSET_1,PRE_TOPC,PENCIL_1,RLVECT_1,VECTSP_1,VECTSP_4,VECTSP_5,VECTSP_7,MATRLIN,VECTSP_9,CKB7,CKB9,CKB11,CKB14;
definitions TARSKI,XBOOLE_0,STRUCT_0,PENCIL_1,VECTSP_4,RLVECT_1,CKB7,CKB9,CKB11,CKB14;
theorems XBOOLE_0,ZFMISC_1,NAT_1,TARSKI,PENCIL_1,CARD_1,XBOOLE_1,CARD_2,STRUCT_0,SUBSET_1,VECTSP_5,VECTSP_9,VECTSP_4,RLVECT_1,VECTSP_7,VECTSP10,VECTSP_1,EULER_1,XREAL_1,XXREAL_0,ORDINAL1,NAT_D,FINSEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes NAT_1,XBOOLE_0,SUBSET_1;
registrations SUBSET_1,FINSET_1,XXREAL_0,XREAL_0,REALSET1,STRUCT_0,MATRLIN,VECTSP_9,PENCIL_1,ORDINAL1,CARD_1;
constructors XXREAL_0,REALSET1,VECTSP_5,VECTSP_7,VECTSP_9,PENCIL_1,NAT_D,CKB7,CKB9,CKB11,CKB14;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
theorem
Th17: (for F being Field holds (for V being  finite-dimensional (VectSp of F) holds (for W1,W2 being (Subspace of V) holds (W1 is (Subspace of W2) implies (for k being Nat holds ((( ( dim W1 ) + 1 ) = k & ( dim W2 ) = ( k + 1 )) implies ( pencil (W1,W2,k) ) is non  trivial))))))
proof
let F being Field;
let V being  finite-dimensional (VectSp of F);
let W1 being (Subspace of V);
let W2 being (Subspace of V);
assume W1 is (Subspace of W2);
then reconsider U = W1 as (Subspace of W2);
let k being Nat;
assume that
A1: (( ( dim W1 ) + 1 ) = k & ( dim W2 ) = ( k + 1 ));
set W = the (Linear_Compl of U);
A2: W2 is_the_direct_sum_of W,U by VECTSP_5:def 5;
then A3: ( W /\ U ) = ( (0). W2 ) by VECTSP_5:def 4;
( dim W2 ) = ( ( dim U ) + ( dim W ) ) by A2,VECTSP_9:34;
then consider u,v being (Vector of W) such that A4: u <> v and A5: { u,v } is  linearly-independent and ( (Omega). W ) = ( Lin { u,v } ) by A1,VECTSP_9:31;
A6:now
assume v in ( Lin { u } );
then (ex a being (Element of F) st v = ( a * u )) by VECTSP10:3;
hence contradiction by A4,A5,VECTSP_7:5;
end;
reconsider u,v as (Vector of W2) by VECTSP_4:10;
reconsider u1 = u,v1 = v as (Vector of V) by VECTSP_4:10;
A7: v in W by STRUCT_0:def 5;
A8:now
assume v in W1;
then v in ( (0). W2 ) by A3,A7,VECTSP_5:3;
then v = ( 0. W2 ) by VECTSP_4:35;
then v = ( 0. W ) by VECTSP_4:11;
hence contradiction by A5,VECTSP_7:4;
end;
A9: u in W by STRUCT_0:def 5;
A10:now
assume u in W1;
then u in ( (0). W2 ) by A3,A9,VECTSP_5:3;
then u = ( 0. W2 ) by VECTSP_4:35;
then u = ( 0. W ) by VECTSP_4:11;
hence contradiction by A5,VECTSP_7:4;
end;
v in { v1 } by TARSKI:def 1;
then v in ( Lin { v1 } ) by VECTSP_7:8;
then A11: v in ( W1 + ( Lin { v1 } ) ) by VECTSP_5:2;
A12: (not v in ( Lin { u } )) by A6,VECTSP10:13;
A13:now
reconsider Wx = W as (Subspace of V) by VECTSP_4:26;
assume ( W1 + ( Lin { v1 } ) ) = ( W1 + ( Lin { u1 } ) );
then consider h,j being (Vector of V) such that A14: h in W1 and A15: j in ( Lin { u1 } ) and A16: v1 = ( h + j ) by A11,VECTSP_5:1;
consider a being (Element of F) such that A17: j = ( a * u1 ) by A15,VECTSP10:3;
( v1 - ( a * u1 ) ) = ( h + ( ( a * u1 ) - ( a * u1 ) ) ) by A16,A17,RLVECT_1:def 3;
then ( v1 - ( a * u1 ) ) = ( h + ( 0. V ) ) by RLVECT_1:15;
then A18: ( v1 - ( a * u1 ) ) = h by RLVECT_1:4;
( a * u ) = ( a * u1 ) by VECTSP_4:14;
then A19: ( v1 - ( a * u1 ) ) = ( v - ( a * u ) ) by VECTSP_4:16;
( a * u ) in Wx by A9,VECTSP_4:21;
then ( v - ( a * u ) ) in Wx by A7,VECTSP_4:23;
then ( v - ( a * u ) ) in ( W /\ U ) by A14,A18,A19,VECTSP_5:3;
then ( v - ( a * u ) ) = ( 0. W2 ) by A3,VECTSP_4:35;
then h = ( 0. V ) by A18,A19,VECTSP_4:11;
then v1 = j by A16,RLVECT_1:4;
hence contradiction by A12,A15,VECTSP10:13;
end;
v in W2 by STRUCT_0:def 5;
then A20: ( W1 + ( Lin { v1 } ) ) in ( pencil (W1,W2,k) ) by A1,A8,CKB20:1;
u in W2 by STRUCT_0:def 5;
then ( W1 + ( Lin { u1 } ) ) in ( pencil (W1,W2,k) ) by A1,A10,CKB20:1;
then 2 c= ( card ( pencil (W1,W2,k) ) ) by A13,A20,PENCIL_1:2;
hence thesis by PENCIL_1:4;
end;
