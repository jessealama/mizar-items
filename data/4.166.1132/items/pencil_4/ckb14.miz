environ
vocabularies NUMBERS,NAT_1,ARYTM_3,XXREAL_0,ARYTM_1,FINSET_1,CARD_1,SUBSET_1,TARSKI,XBOOLE_0,VECTSP_1,RLSUB_1,STRUCT_0,SUPINF_2,RLSUB_2,RLVECT_5,SETFAM_1,ZFMISC_1,RLVECT_3,RELAT_1,PRE_TOPC,PENCIL_1,PENCIL_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,SETFAM_1,DOMAIN_1,STRUCT_0,FINSET_1,PRE_TOPC,PENCIL_1,RLVECT_1,VECTSP_1,VECTSP_4,VECTSP_5,VECTSP_7,MATRLIN,VECTSP_9,CKB7,CKB9,CKB11;
definitions TARSKI,XBOOLE_0,STRUCT_0,PENCIL_1,VECTSP_4,RLVECT_1,CKB7,CKB9,CKB11;
theorems XBOOLE_0,ZFMISC_1,NAT_1,TARSKI,PENCIL_1,CARD_1,XBOOLE_1,CARD_2,STRUCT_0,SUBSET_1,VECTSP_5,VECTSP_9,VECTSP_4,RLVECT_1,VECTSP_7,VECTSP10,VECTSP_1,EULER_1,XREAL_1,XXREAL_0,ORDINAL1,NAT_D,FINSEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
schemes NAT_1,XBOOLE_0,SUBSET_1;
registrations SUBSET_1,FINSET_1,XXREAL_0,XREAL_0,REALSET1,STRUCT_0,MATRLIN,VECTSP_9,PENCIL_1,ORDINAL1,CARD_1;
constructors XXREAL_0,REALSET1,VECTSP_5,VECTSP_7,VECTSP_9,PENCIL_1,NAT_D,CKB7,CKB9,CKB11;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
definition
let F being Field;
let V being  finite-dimensional (VectSp of F);
let k being Nat;
func k Pencils_of V -> (Subset-Family of ( k Subspaces_of V ))
means
:Def4: (for X being set holds (X in it iff (ex W1,W2 being (Subspace of V) st (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & X = ( pencil (W1,W2,k) )))));
existence
proof
defpred P[ set ]
 means
(ex W1,W2 being (Subspace of V) st (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & $1 = ( pencil (W1,W2,k) )));
set A = ( bool ( k Subspaces_of V ) );
consider X being set such that A1: (for x being set holds (x in X iff (x in A & P[ x ]))) from XBOOLE_0:sch 1;
X c= A
proof
let a being set;
assume a in X;
hence thesis by A1;
end;
then reconsider X as (Subset-Family of ( k Subspaces_of V ));
take X;
let x being set;
thus (x in X implies (ex W1,W2 being (Subspace of V) st (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & x = ( pencil (W1,W2,k) )))) by A1;
given W1 being (Subspace of V),W2 being (Subspace of V) such that
A2: (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & x = ( pencil (W1,W2,k) ));

thus thesis by A1,A2;
end;
uniqueness
proof
let S being (Subset-Family of ( k Subspaces_of V )),T being (Subset-Family of ( k Subspaces_of V ));
assume that
A3: (for X being set holds (X in S iff (ex W1,W2 being (Subspace of V) st (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & X = ( pencil (W1,W2,k) )))))
and
A4: (for X being set holds (X in T iff (ex W1,W2 being (Subspace of V) st (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & X = ( pencil (W1,W2,k) )))));
now
let x being set;
thus (x in S implies x in T)
proof
assume x in S;
then (ex W1,W2 being (Subspace of V) st (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & x = ( pencil (W1,W2,k) ))) by A3;
hence thesis by A4;
end;

assume x in T;
then (ex W1,W2 being (Subspace of V) st (((W1 is (Subspace of W2) & ( ( dim W1 ) + 1 ) = k) & ( dim W2 ) = ( k + 1 )) & x = ( pencil (W1,W2,k) ))) by A4;
hence x in S by A3;
end;
hence thesis by TARSKI:1;
end;
end;
