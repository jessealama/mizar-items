environ
vocabularies NUMBERS,SUBSET_1,EUCLID,PRE_TOPC,FUNCT_1,BORSUK_1,RELAT_1,REAL_1,TOPS_2,CARD_1,XXREAL_0,ARYTM_3,XBOOLE_0,ORDINAL2,STRUCT_0,RCOMP_1,TOPREAL1,TARSKI,JORDAN3,XXREAL_1,FINSEQ_1,PARTFUN1,RLTOPSP1,ARYTM_1,TREAL_1,VALUED_1,TOPMETR,NAT_1,SUPINF_2,JORDAN5C,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,REAL_1,NAT_1,RCOMP_1,RELAT_1,FINSEQ_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,TOPMETR,JORDAN3,STRUCT_0,TOPREAL1,PRE_TOPC,TOPS_2,COMPTS_1,RLVECT_1,RLTOPSP1,EUCLID,TREAL_1,XXREAL_0,CKB2,CKB6,CKB10;
definitions TARSKI,JORDAN3,XBOOLE_0,STRUCT_0,XCMPLX_0,CKB2,CKB6,CKB10;
theorems BORSUK_1,COMPTS_1,EUCLID,FUNCT_1,FUNCT_2,RELAT_1,JORDAN3,GOBOARD1,NAT_1,GOBOARD9,SPPOL_1,TOPS_1,PRE_TOPC,RCOMP_1,HEINE,PCOMPS_1,SPPOL_2,TARSKI,TOPMETR,TOPREAL1,TOPREAL3,TSEP_1,JORDAN5B,TOPS_2,TREAL_1,JORDAN5A,ZFMISC_1,PARTFUN2,XBOOLE_0,XBOOLE_1,FINSEQ_3,XXREAL_0,ORDINAL1,XXREAL_1,XREAL_1,SEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes NAT_1;
registrations XBOOLE_0,FUNCT_1,RELSET_1,FUNCT_2,XXREAL_0,MEMBERED,STRUCT_0,PRE_TOPC,BORSUK_1,EUCLID,TOPREAL1,SPPOL_1,FINSEQ_1;
constructors REAL_1,NAT_1,RCOMP_1,TOPS_2,COMPTS_1,TOPREAL1,TREAL_1,JORDAN3,CKB2,CKB6,CKB10;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Th20: (for f being (FinSequence of ( TOP-REAL 2 )) holds (for Q being (Subset of ( TOP-REAL 2 )) holds (for i being (Element of ( NAT )) holds ((((((( L~ f ) meets Q & Q is  closed) & f is  being_S-Seq) & 1 <= i) & ( i + 1 ) <= ( len f )) & ( Last_Point (( L~ f ),( f /. 1 ),( f /. ( len f ) ),Q) ) in ( LSeg (f,i) )) implies ( Last_Point (( L~ f ),( f /. 1 ),( f /. ( len f ) ),Q) ) = ( Last_Point (( LSeg (f,i) ),( f /. i ),( f /. ( i + 1 ) ),Q) )))))
proof
let f being (FinSequence of ( TOP-REAL 2 ));
let Q being (Subset of ( TOP-REAL 2 ));
let i being (Element of ( NAT ));
assume that
A1: ( L~ f ) meets Q
and
A2: Q is  closed
and
A3: f is  being_S-Seq
and
A4: (1 <= i & ( i + 1 ) <= ( len f ))
and
A5: ( Last_Point (( L~ f ),( f /. 1 ),( f /. ( len f ) ),Q) ) in ( LSeg (f,i) );
( len f ) >= 2 by A3,TOPREAL1:def 8;
then reconsider P = ( L~ f ),R = ( LSeg (f,i) ) as non  empty (Subset of ( TOP-REAL 2 )) by A5,TOPREAL1:23;
A6: P is_an_arc_of ( f /. 1 ),( f /. ( len f ) ) by A3,TOPREAL1:25;
set FPO = ( Last_Point (R,( f /. i ),( f /. ( i + 1 ) ),Q) );
set FPG = ( Last_Point (P,( f /. 1 ),( f /. ( len f ) ),Q) );
A7: ( ( L~ f ) /\ Q ) is  closed by A2,TOPS_1:8;
then ( Last_Point (P,( f /. 1 ),( f /. ( len f ) ),Q) ) in ( ( L~ f ) /\ Q ) by A1,A6,CKB6:def 1;
then A8: ( Last_Point (P,( f /. 1 ),( f /. ( len f ) ),Q) ) in Q by XBOOLE_0:def 4;
A9: ( i + 1 ) in ( dom f ) by A4,SEQ_4:134;
A10: (f is  one-to-one & i in ( dom f )) by A3,A4,SEQ_4:134,TOPREAL1:def 8;
A11: ( f /. i ) <> ( f /. ( i + 1 ) )
proof
assume ( f /. i ) = ( f /. ( i + 1 ) );
then i = ( i + 1 ) by A10,A9,PARTFUN2:10;
hence thesis;
end;
FPG = FPO
proof
FPG in ( ( L~ f ) /\ Q ) by A1,A7,A6,CKB6:def 1;
then A12: FPG in ( L~ f ) by XBOOLE_0:def 4;
consider F being (Function of ( I[01] ),( ( TOP-REAL 2 ) | P )) such that A13: F is  being_homeomorphism and A14: (( F . ( 0 ) ) = ( f /. 1 ) & ( F . 1 ) = ( f /. ( len f ) )) by A6,TOPREAL1:def 1;
( rng F ) = ( [#] ( ( TOP-REAL 2 ) | P ) ) by A13,TOPS_2:def 5
.= ( L~ f ) by PRE_TOPC:def 5;
then consider s21 being set such that A15: s21 in ( dom F ) and A16: ( F . s21 ) = FPG by A12,FUNCT_1:def 3;
A17: ( dom F ) = ( [#] ( I[01] ) ) by A13,TOPS_2:def 5
.= [. ( 0 ),1 .] by BORSUK_1:40;
then reconsider s21 as Real by A15;
A18: (( 0 ) <= s21 & s21 <= 1) by A15,BORSUK_1:43;
A19: (for g being (Function of ( I[01] ),( ( TOP-REAL 2 ) | R )) holds (for s2 being Real holds ((((((g is  being_homeomorphism & ( g . ( 0 ) ) = ( f /. i )) & ( g . 1 ) = ( f /. ( i + 1 ) )) & ( g . s2 ) = FPG) & ( 0 ) <= s2) & s2 <= 1) implies (for t being Real holds ((1 >= t & t > s2) implies (not ( g . t ) in Q))))))
proof
consider ppi,pi1 being Real such that A20: ppi < pi1 and A21: ( 0 ) <= ppi and ppi <= 1 and ( 0 ) <= pi1 and A22: pi1 <= 1 and A23: ( LSeg (f,i) ) = ( F .: [. ppi,pi1 .] ) and A24: ( F . ppi ) = ( f /. i ) and A25: ( F . pi1 ) = ( f /. ( i + 1 ) ) by A3,A4,A13,A14,JORDAN5B:7;
A26: ppi in { dd where dd is Real: (ppi <= dd & dd <= pi1) } by A20;
then reconsider Poz = [. ppi,pi1 .] as non  empty (Subset of ( I[01] )) by A21,A22,BORSUK_1:40,RCOMP_1:def 1,XXREAL_1:34;
A27: [. ppi,pi1 .] c= [. ( 0 ),1 .] by A21,A22,XXREAL_1:34;
reconsider A = ( Closed-Interval-TSpace (ppi,pi1) ) as  strict (SubSpace of ( I[01] )) by A20,A21,A22,TOPMETR:20,TREAL_1:3;
A28: Poz = ( [#] A ) by A20,TOPMETR:18;
then A29: ( ( I[01] ) | Poz ) = A by PRE_TOPC:def 5;
( Closed-Interval-TSpace (ppi,pi1) ) is  compact by A20,HEINE:4;
then ( [#] ( Closed-Interval-TSpace (ppi,pi1) ) ) is  compact by COMPTS_1:1;
then (for P being (Subset of A) holds (P = Poz implies P is  compact)) by A20,TOPMETR:18;
then Poz is  compact by A28,COMPTS_1:2;
then A30: ( ( I[01] ) | Poz ) is  compact by COMPTS_1:3;
reconsider Lf = ( L~ f ) as non  empty (Subset of ( TOP-REAL 2 )) by A6;
let g being (Function of ( I[01] ),( ( TOP-REAL 2 ) | R ));
let s2 being Real;
assume that
A31: g is  being_homeomorphism
and
A32: ( g . ( 0 ) ) = ( f /. i )
and
A33: ( g . 1 ) = ( f /. ( i + 1 ) )
and
A34: ( g . s2 ) = FPG
and
A35: ( 0 ) <= s2
and
A36: s2 <= 1;
(the carrier of ( ( TOP-REAL 2 ) | Lf )) = ( [#] ( ( TOP-REAL 2 ) | Lf ) )
.= Lf by PRE_TOPC:def 5;
then reconsider SEG = ( LSeg (f,i) ) as non  empty (Subset of ( ( TOP-REAL 2 ) | Lf )) by A5,TOPREAL3:19;
reconsider SE = SEG as non  empty (Subset of ( TOP-REAL 2 ));
A37: ( rng g ) = ( [#] ( ( TOP-REAL 2 ) | SE ) ) by A31,TOPS_2:def 5;
set gg = ( F | Poz );
A38: (the carrier of ( ( I[01] ) | Poz )) = ( [#] ( ( I[01] ) | Poz ) )
.= Poz by PRE_TOPC:def 5;
then reconsider gg as (Function of ( ( I[01] ) | Poz ),( ( TOP-REAL 2 ) | P )) by FUNCT_2:32;
let t being Real;
assume that
A39: 1 >= t
and
A40: t > s2;
A41: ( rng gg ) c= SEG
proof
let ii being set;
assume ii in ( rng gg );
then consider j being set such that A42: j in ( dom gg ) and A43: ii = ( gg . j ) by FUNCT_1:def 3;
j in ( ( dom F ) /\ Poz ) by A42,RELAT_1:61;
then j in ( dom F ) by XBOOLE_0:def 4;
then ( F . j ) in ( LSeg (f,i) ) by A23,A38,A42,FUNCT_1:def 6;
hence thesis by A38,A42,A43,FUNCT_1:49;
end;
A44: (the carrier of ( ( ( TOP-REAL 2 ) | Lf ) | SEG )) = ( [#] ( ( ( TOP-REAL 2 ) | Lf ) | SEG ) )
.= SEG by PRE_TOPC:def 5;
reconsider SEG as non  empty (Subset of ( ( TOP-REAL 2 ) | Lf ));
reconsider hh9 = gg as (Function of ( ( I[01] ) | Poz ),( ( ( TOP-REAL 2 ) | Lf ) | SEG )) by A44,A41,FUNCT_2:6;
reconsider hh = hh9 as (Function of ( ( I[01] ) | Poz ),( ( TOP-REAL 2 ) | SE )) by GOBOARD9:2;
A45: ( dom hh ) = ( [#] ( ( I[01] ) | Poz ) ) by FUNCT_2:def 1;
then A46: ( dom hh ) = Poz by PRE_TOPC:def 5;
A47: ( rng hh ) = ( hh .: ( dom hh ) ) by A45,FUNCT_2:37
.= ( [#] ( ( ( TOP-REAL 2 ) | Lf ) | SEG ) ) by A23,A44,A46,RELAT_1:129;
A48: F is  one-to-one by A13,TOPS_2:def 5;
then A49: hh is  one-to-one by FUNCT_1:52;
set H = ( ( hh " ) * g );
A50: ( ( ( TOP-REAL 2 ) | Lf ) | SEG ) = ( ( TOP-REAL 2 ) | SE ) by GOBOARD9:2;
A51: hh9 is  one-to-one by A48,FUNCT_1:52;
then A52: ( dom ( hh " ) ) = ( [#] ( ( ( TOP-REAL 2 ) | Lf ) | SEG ) ) by A50,A47,TOPS_2:49;
then A53: ( rng H ) = ( rng ( hh " ) ) by A37,RELAT_1:28;
A54: ( dom g ) = ( [#] ( I[01] ) ) by A31,TOPS_2:def 5
.= (the carrier of ( I[01] ));
then A55: ( dom H ) = (the carrier of ( Closed-Interval-TSpace (( 0 ),1) )) by A50,A37,A52,RELAT_1:27,TOPMETR:20;
A56: t in ( dom g ) by A35,A54,A39,A40,BORSUK_1:43;
then ( g . t ) in ( [#] ( ( TOP-REAL 2 ) | SE ) ) by A37,FUNCT_1:def 3;
then A57: ( g . t ) in SEG by PRE_TOPC:def 5;
then consider x being set such that A58: x in ( dom F ) and A59: x in Poz and A60: ( g . t ) = ( F . x ) by A23,FUNCT_1:def 6;
hh is  onto by A50,A47,FUNCT_2:def 3;
then V5: ( hh " ) = ( (hh qua Function) " ) by A51,TOPS_2:def 4;
A61: ( ( (F qua Function) " ) . ( g . t ) ) in Poz by A48,A58,A59,A60,FUNCT_1:32;
(ex z being set st ((z in ( dom F ) & z in Poz) & ( F . s21 ) = ( F . z ))) by A5,A16,A23,FUNCT_1:def 6;
then A62: s21 in Poz by A15,A48,FUNCT_1:def 4;
then ( hh . s21 ) = ( g . s2 ) by A16,A34,FUNCT_1:49;
then s21 = ( ( (hh qua Function) " ) . ( g . s2 ) ) by A51,A46,A62,FUNCT_1:32;
then A63: s21 = ( ( hh " ) . ( g . s2 ) ) by V5;
A64: g is  continuous  one-to-one by A31,TOPS_2:def 5;
A65: ( ( TOP-REAL 2 ) | SE ) is  T_2 by TOPMETR:2;
reconsider w1 = s2,w2 = t as (Point of ( Closed-Interval-TSpace (( 0 ),1) )) by A35,A36,A39,A40,BORSUK_1:43,TOPMETR:20;
A66: hh = ( F * ( id Poz ) ) by RELAT_1:65;
set ss = ( H . t );
A67: (F is  one-to-one & ( rng F ) = ( [#] ( ( TOP-REAL 2 ) | P ) )) by A13,TOPS_2:def 5;
A68: ( rng ( hh " ) ) = ( [#] ( ( I[01] ) | Poz ) ) by A50,A51,A47,TOPS_2:49
.= Poz by PRE_TOPC:def 5;
then ( rng H ) = Poz by A37,A52,RELAT_1:28;
then A69: ( rng H ) c= (the carrier of ( Closed-Interval-TSpace (ppi,pi1) )) by A20,TOPMETR:18;
( dom H ) = ( dom g ) by A50,A37,A52,RELAT_1:27;
then ss in Poz by A68,A56,A53,FUNCT_1:def 3;
then ss in { l where l is Real: (ppi <= l & l <= pi1) } by RCOMP_1:def 1;
then consider ss9 being Real such that A70: ss9 = ss and ppi <= ss9 and A71: ss9 <= pi1;
F is  onto by A67,FUNCT_2:def 3;
then V6: ( F " ) = ( (F qua Function) " ) by A67,TOPS_2:def 4;
A72: 1 >= ss9 by A22,A71,XXREAL_0:2;
x = ( ( (F qua Function) " ) . ( g . t ) ) by A48,A58,A60,FUNCT_1:32;
then ( ( F " ) . ( g . t ) ) in Poz by A59,V6;
then A73: ( ( F " ) . ( g . t ) ) in ( dom ( id Poz ) ) by FUNCT_1:17;
( g . t ) in (the carrier of ( ( TOP-REAL 2 ) | Lf )) by A57;
then A74: ( g . t ) in ( dom ( F " ) ) by A67,TOPS_2:49;
t in ( dom H ) by A50,A37,A56,A52,RELAT_1:27;
then A75: ( F . ss ) = ( ( (( ( hh " ) * g ) qua Relation) * (F qua Relation) ) . t ) by FUNCT_1:13
.= ( ( (g qua Relation) * ( (( hh " ) qua Relation) * (F qua Relation) ) ) . t ) by RELAT_1:36
.= ( ( F * ( hh " ) ) . ( g . t ) ) by A56,FUNCT_1:13
.= ( ( F * ( (hh qua Function) " ) ) . ( g . t ) ) by V5
.= ( ( F * ( (( (F qua Function) " ) qua Relation) * (( (( id Poz ) qua Function) " ) qua Relation) ) ) . ( g . t ) ) by A48,A66,FUNCT_1:44
.= ( ( ( (( F " ) qua Relation) * (( (( id Poz ) qua Function) " ) qua Relation) ) * (F qua Relation) ) . ( g . t ) ) by V6
.= ( ( (( F " ) qua Relation) * ( (( (( id Poz ) qua Function) " ) qua Relation) * (F qua Relation) ) ) . ( g . t ) ) by RELAT_1:36
.= ( ( (( F " ) qua Relation) * (( F * ( id Poz ) ) qua Relation) ) . ( g . t ) ) by FUNCT_1:45
.= ( ( F * ( id Poz ) ) . ( ( F " ) . ( g . t ) ) ) by A74,FUNCT_1:13
.= ( F . ( ( id Poz ) . ( ( F " ) . ( g . t ) ) ) ) by A73,FUNCT_1:13
.= ( F . ( ( id Poz ) . ( ( (F qua Function) " ) . ( g . t ) ) ) ) by V6
.= ( F . ( ( (F qua Function) " ) . ( g . t ) ) ) by A61,FUNCT_1:17
.= ( g . t ) by A67,A57,FUNCT_1:35;
pi1 in { dd where dd is Real: (ppi <= dd & dd <= pi1) } by A20;
then pi1 in [. ppi,pi1 .] by RCOMP_1:def 1;
then pi1 in ( ( dom F ) /\ Poz ) by A17,A27,XBOOLE_0:def 4;
then A76: pi1 in ( dom hh ) by RELAT_1:61;
then A77: ( hh . pi1 ) = ( f /. ( i + 1 ) ) by A25,FUNCT_1:47;
F is  continuous by A13,TOPS_2:def 5;
then gg is  continuous by TOPMETR:7;
then hh is  being_homeomorphism by A50,A51,A45,A47,A30,A65,COMPTS_1:17,TOPMETR:6;
then ( hh " ) is  being_homeomorphism by TOPS_2:56;
then A78: ( hh " ) is  continuous  one-to-one by TOPS_2:def 5;
ppi in [. ppi,pi1 .] by A26,RCOMP_1:def 1;
then ppi in ( ( dom F ) /\ Poz ) by A17,A27,XBOOLE_0:def 4;
then A79: ppi in ( dom hh ) by RELAT_1:61;
then A80: ( hh . ppi ) = ( f /. i ) by A24,FUNCT_1:47;
1 in ( dom g ) by A54,BORSUK_1:43;
then A81: ( H . 1 ) = ( ( hh " ) . ( f /. ( i + 1 ) ) ) by A33,FUNCT_1:13
.= pi1 by A49,A76,A77,V5,FUNCT_1:32;
( 0 ) in ( dom g ) by A54,BORSUK_1:43;
then A82: ( H . ( 0 ) ) = ( ( hh " ) . ( f /. i ) ) by A32,FUNCT_1:13
.= ppi by A49,A79,A80,V5,FUNCT_1:32;
reconsider H as (Function of ( Closed-Interval-TSpace (( 0 ),1) ),( Closed-Interval-TSpace (ppi,pi1) )) by A55,A69,FUNCT_2:2;
s2 in ( dom g ) by A35,A36,A54,BORSUK_1:43;
then A83: s21 = ( H . w1 ) by A63,FUNCT_1:13;
ss9 = ( H . w2 ) by A70;
then ss9 > s21 by A20,A40,A82,A81,A64,A78,A29,A83,JORDAN5A:15,TOPMETR:20;
hence thesis by A1,A7,A6,A13,A14,A16,A18,A70,A72,A75,CKB6:def 1;
end;
A84: ( ( LSeg (f,i) ) /\ Q ) is  closed by A2,TOPS_1:8;
( ( LSeg (f,i) ) /\ Q ) <> ( {} ) by A5,A8,XBOOLE_0:def 4;
then A85: ( LSeg (f,i) ) meets Q by XBOOLE_0:def 7;
( LSeg (f,i) ) = ( LSeg (( f /. i ),( f /. ( i + 1 ) )) ) by A4,TOPREAL1:def 3;
then A86: R is_an_arc_of ( f /. i ),( f /. ( i + 1 ) ) by A11,TOPREAL1:9;
FPG in ( ( LSeg (f,i) ) /\ Q ) by A5,A8,XBOOLE_0:def 4;
hence thesis by A85,A84,A86,A19,CKB6:def 1;
end;
hence thesis;
end;
