environ
vocabularies SUBSET_1,CQC_LANG,QC_LANG1,FINSEQ_1,ZFMISC_1,CQC_THE1,NUMBERS,XBOOLEAN,BVFUNC_2,XBOOLE_0,FUNCT_1,TARSKI,RCOMP_1,MCART_1,NAT_1,XXREAL_0,ARYTM_3,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,FINSEQ_1,FUNCT_1,MCART_1,DOMAIN_1,QC_LANG1,QC_LANG2,CQC_LANG,CQC_THE1,XXREAL_0;
definitions CQC_THE1;
theorems TARSKI,ZFMISC_1,LUKASI_1,CQC_LANG,CQC_THE1,ENUMSET1,QC_LANG1,QC_LANG2,QC_LANG3,PROCAL_1,XBOOLE_0,XBOOLE_1,XXREAL_0,ORDINAL1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB103,CKB104,CKB105,CKB106,CKB107,CKB108;
schemes NAT_1;
registrations XBOOLE_0,RELSET_1,XREAL_0,CQC_LANG,ORDINAL1,LUKASI_1;
constructors DOMAIN_1,XXREAL_0,XREAL_0,CQC_THE1;
requirements NUMERALS,SUBSET,BOOLE;
begin
reserve X for (Subset of ( CQC-WFF ));
reserve F for (Element of ( CQC-WFF ));
reserve G for (Element of ( CQC-WFF ));
reserve H for (Element of ( CQC-WFF ));
reserve p for (Element of ( CQC-WFF ));
reserve q for (Element of ( CQC-WFF ));
reserve r for (Element of ( CQC-WFF ));
reserve s for QC-formula;
reserve x for bound_QC-variable;
reserve y for bound_QC-variable;
reserve f for (FinSequence of [: ( CQC-WFF ),( Proof_Step_Kinds ) :]);
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
theorem
((F is  closed & ( X \/ { F } ) |- G) implies X |- ( F => G ))
proof
assume that
A1: F is  closed
and
A2: ( X \/ { F } ) |- G;
G in ( Cn ( X \/ { F } ) ) by A2,CQC_THE1:def 8;
then consider f such that A3: f is_a_proof_wrt ( X \/ { F } ) and A4: ( Effect f ) = G by CQC_THE1:36;
f <> ( {} ) by A3,CQC_THE1:def 5;
then A5: G = ( ( f . ( len f ) ) `1 ) by A4,CQC_THE1:def 6;
defpred P[ Nat ]
 means
((1 <= $1 & $1 <= ( len f )) implies (for H holds (H = ( ( f . $1 ) `1 ) implies X |- ( F => H ))));
A6: (for n being Nat holds ((for k being Nat holds (k < n implies P[ k ])) implies P[ n ]))
proof
let n being Nat;
assume that
A7: (for k being Nat holds (k < n implies ((1 <= k & k <= ( len f )) implies (for H holds (H = ( ( f . k ) `1 ) implies X |- ( F => H ))))));
assume that
A8: 1 <= n
and
A9: n <= ( len f );
n in ( NAT ) by ORDINAL1:def 12;
then A10: f,n is_a_correct_step_wrt ( X \/ { F } ) by A3,A8,A9,CQC_THE1:def 5;
let H;
assume that
A11: H = ( ( f . n ) `1 );
now
per cases  by A8,A9,CQC_THE1:23;
suppose ( ( f . n ) `2 ) = ( 0 );

then H in ( X \/ { F } ) by A11,A10,CQC_THE1:def 4;
then A12: (H in X or H in { F }) by XBOOLE_0:def 3;
now
per cases  by A12,TARSKI:def 1;
suppose A13: H in X;

X c= ( Cn X ) by CQC_THE1:17;
then A14: X |- H by A13,CQC_THE1:def 8;
X |- ( H => ( F => H ) ) by CQC_THE1:59;
hence thesis by A14,CQC_THE1:55;
end;
suppose H = F;

hence thesis by CQC_THE1:59;
end;
end;
hence thesis;
end;
suppose ( ( f . n ) `2 ) = 1;

then H = ( VERUM ) by A11,A10,CQC_THE1:def 4;
hence thesis by CQC_THE1:59,LUKASI_1:46;
end;
suppose ( ( f . n ) `2 ) = 2;

then (ex p st H = ( ( ( 'not' p ) => p ) => p )) by A11,A10,CQC_THE1:def 4;
then H is  valid by CQC_THE1:61;
hence thesis by CQC_THE1:59,LUKASI_1:61;
end;
suppose ( ( f . n ) `2 ) = 3;

then (ex p st (ex q st H = ( p => ( ( 'not' p ) => q ) ))) by A11,A10,CQC_THE1:def 4;
then H is  valid by CQC_THE1:62;
hence thesis by CQC_THE1:59,LUKASI_1:61;
end;
suppose ( ( f . n ) `2 ) = 4;

then (ex p st (ex q st (ex r st H = ( ( p => q ) => ( ( 'not' ( q '&' r ) ) => ( 'not' ( p '&' r ) ) ) )))) by A11,A10,CQC_THE1:def 4;
then H is  valid by CQC_THE1:63;
hence thesis by CQC_THE1:59,LUKASI_1:61;
end;
suppose ( ( f . n ) `2 ) = 5;

then (ex p st (ex q st H = ( ( p '&' q ) => ( q '&' p ) ))) by A11,A10,CQC_THE1:def 4;
then H is  valid by CQC_THE1:64;
hence thesis by CQC_THE1:59,LUKASI_1:61;
end;
suppose ( ( f . n ) `2 ) = 6;

then (ex p st (ex x st H = ( ( All (x,p) ) => p ))) by A11,A10,CQC_THE1:def 4;
then H is  valid by CQC_THE1:66;
hence thesis by CQC_THE1:59,LUKASI_1:61;
end;
suppose ( ( f . n ) `2 ) = 7;

then consider i,j,p,q such that A15: 1 <= i and A16: i < n and A17: 1 <= j and A18: j < i and A19: p = ( ( f . j ) `1 ) and A20: q = H and A21: ( ( f . i ) `1 ) = ( p => q ) by A11,A10,CQC_THE1:def 4;
i <= ( len f ) by A9,A16,XXREAL_0:2;
then A22: X |- ( F => ( p => q ) ) by A7,A15,A16,A21;
X |- ( ( F => ( p => q ) ) => ( ( F => p ) => ( F => q ) ) ) by CQC_THE1:59;
then A23: X |- ( ( F => p ) => ( F => q ) ) by A22,CQC_THE1:55;
j < n by A16,A18,XXREAL_0:2;
then A24: j <= ( len f ) by A9,XXREAL_0:2;
j < n by A16,A18,XXREAL_0:2;
then X |- ( F => p ) by A7,A17,A19,A24;
hence thesis by A20,A23,CQC_THE1:55;
end;
suppose ( ( f . n ) `2 ) = 8;

then consider i,p,q,x such that A25: 1 <= i and A26: i < n and A27: ( ( f . i ) `1 ) = ( p => q ) and A28: (not x in ( still_not-bound_in p )) and A29: H = ( p => ( All (x,q) ) ) by A11,A10,CQC_THE1:def 4;
A30: X |- ( ( All (x,( p => q )) ) => ( p => ( All (x,q) ) ) ) by A28,CKB91:1,CQC_THE1:59;
(not x in ( still_not-bound_in F )) by A1,QC_LANG1:def 29;
then A31: X |- ( ( All (x,( F => ( p => q ) )) ) => ( F => ( All (x,( p => q )) ) ) ) by CKB91:1,CQC_THE1:59;
i <= ( len f ) by A9,A26,XXREAL_0:2;
then X |- ( All (x,( F => ( p => q ) )) ) by A7,A25,A26,A27,CKB107:1;
then X |- ( F => ( All (x,( p => q )) ) ) by A31,CQC_THE1:55;
hence thesis by A29,A30,LUKASI_1:59;
end;
suppose ( ( f . n ) `2 ) = 9;

then consider i,x,y,s such that A32: 1 <= i and A33: i < n and A34: (( s . x ) in ( CQC-WFF ) & ( s . y ) in ( CQC-WFF )) and A35: (not x in ( still_not-bound_in s )) and A36: ( s . x ) = ( ( f . i ) `1 ) and A37: H = ( s . y ) by A11,A10,CQC_THE1:def 4;
reconsider s1 = ( s . x ),s2 = ( s . y ) as (Element of ( CQC-WFF )) by A34;
A38: X |- ( ( All (x,s1) ) => s2 ) by A35,CKB41:1,CQC_THE1:59;
(not x in ( still_not-bound_in F )) by A1,QC_LANG1:def 29;
then A39: X |- ( ( All (x,( F => s1 )) ) => ( F => ( All (x,s1) ) ) ) by CKB91:1,CQC_THE1:59;
i <= ( len f ) by A9,A33,XXREAL_0:2;
then X |- ( All (x,( F => s1 )) ) by A7,A32,A33,A36,CKB107:1;
then X |- ( F => ( All (x,s1) ) ) by A39,CQC_THE1:55;
hence thesis by A37,A38,LUKASI_1:59;
end;
end;
hence thesis;
end;
A40: (for n being Nat holds P[ n ]) from NAT_1:sch 4(A6);
1 <= ( len f ) by A3,CQC_THE1:25;
hence thesis by A40,A5;
end;
