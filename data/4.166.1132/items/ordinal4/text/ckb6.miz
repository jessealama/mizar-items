environ
vocabularies ORDINAL2,ORDINAL1,FUNCT_1,XBOOLE_0,RELAT_1,TARSKI,ORDINAL3,SUBSET_1,CLASSES2,ZFMISC_1,CARD_1,ORDINAL4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,ORDINAL1,ORDINAL2,ORDINAL3,CARD_1,CLASSES2;
definitions ORDINAL1,TARSKI,ORDINAL2,XBOOLE_0,RELAT_1;
theorems ZFMISC_1,FUNCT_1,GRFUNC_1,ORDINAL1,ORDINAL2,ORDINAL3,CARD_2,CLASSES2,RELAT_1,CLASSES1,XBOOLE_0,XBOOLE_1,FUNCT_2,RELSET_1,CARD_1,CKB1,CKB2,CKB3,CKB5;
schemes ORDINAL1,ORDINAL2,FINSET_1;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,ORDINAL2,ORDINAL3,CARD_1,CLASSES2,RELSET_1,CKB4;
constructors WELLORD2,FUNCOP_1,ORDINAL3,CARD_1,CLASSES1,CLASSES2,RELSET_1;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve fi for Ordinal-Sequence;
reserve psi for Ordinal-Sequence;
reserve A for Ordinal;
reserve f for Function;
reserve x for set;
definition
let fi being T-Sequence;
let psi being T-Sequence;
func fi ^ psi -> T-Sequence means 
:Def1: ((( dom it ) = ( ( dom fi ) +^ ( dom psi ) ) & (for A holds (A in ( dom fi ) implies ( it . A ) = ( fi . A )))) & (for A holds (A in ( dom psi ) implies ( it . ( ( dom fi ) +^ A ) ) = ( psi . A ))));
existence
proof
defpred P[ set ]
 means
$1 in ( dom fi );
deffunc G(Ordinal) = ( psi . ( $1 -^ ( dom fi ) ) );
deffunc F(set) = ( fi . $1 );
consider f such that A1: ( dom f ) = ( ( dom fi ) +^ ( dom psi ) ) and A2: (for x being Ordinal holds (x in ( ( dom fi ) +^ ( dom psi ) ) implies ((P[ x ] implies ( f . x ) = F(x)) & ((not P[ x ]) implies ( f . x ) = G(x))))) from FINSET_1:sch 1;
reconsider f as T-Sequence by A1,ORDINAL1:def 7;
take f;
thus ( dom f ) = ( ( dom fi ) +^ ( dom psi ) ) by A1;
thus (for A holds (A in ( dom fi ) implies ( f . A ) = ( fi . A )))
proof
A3: ( dom fi ) c= ( dom f ) by A1,ORDINAL3:24;
let A;
assume A in ( dom fi );
hence thesis by A1,A2,A3;
end;

let A;
( dom fi ) c= ( ( dom fi ) +^ A ) by ORDINAL3:24;
then A4: (not ( ( dom fi ) +^ A ) in ( dom fi )) by ORDINAL1:5;
assume A in ( dom psi );
then ( ( dom fi ) +^ A ) in ( dom f ) by A1,ORDINAL2:32;
then ( f . ( ( dom fi ) +^ A ) ) = ( psi . ( ( ( dom fi ) +^ A ) -^ ( dom fi ) ) ) by A1,A2,A4;
hence thesis by ORDINAL3:52;
end;
uniqueness
proof
let f1 being T-Sequence;
let f2 being T-Sequence;
assume that
A5: ( dom f1 ) = ( ( dom fi ) +^ ( dom psi ) )
and
A6: (for A holds (A in ( dom fi ) implies ( f1 . A ) = ( fi . A )))
and
A7: (for A holds (A in ( dom psi ) implies ( f1 . ( ( dom fi ) +^ A ) ) = ( psi . A )))
and
A8: ( dom f2 ) = ( ( dom fi ) +^ ( dom psi ) )
and
A9: (for A holds (A in ( dom fi ) implies ( f2 . A ) = ( fi . A )))
and
A10: (for A holds (A in ( dom psi ) implies ( f2 . ( ( dom fi ) +^ A ) ) = ( psi . A )));
now
let x;
assume A11: x in ( ( dom fi ) +^ ( dom psi ) );
then reconsider A = x as Ordinal;
now
per cases ;
suppose A12: x in ( dom fi );

then ( f1 . A ) = ( fi . A ) by A6;
hence ( f1 . x ) = ( f2 . x ) by A9,A12;
end;
suppose (not x in ( dom fi ));

then ( dom fi ) c= A by ORDINAL1:16;
then A13: ( ( dom fi ) +^ ( A -^ ( dom fi ) ) ) = A by ORDINAL3:def 5;
then ( f1 . A ) = ( psi . ( A -^ ( dom fi ) ) ) by A7,A11,ORDINAL3:22;
hence ( f1 . x ) = ( f2 . x ) by A10,A11,A13,ORDINAL3:22;
end;
end;
hence ( f1 . x ) = ( f2 . x );
end;
hence thesis by A5,A8,FUNCT_1:2;
end;
end;
