environ
vocabularies ORDINAL2,ORDINAL1,FUNCT_1,XBOOLE_0,RELAT_1,TARSKI,ORDINAL3,SUBSET_1,CLASSES2,ZFMISC_1,CARD_1,ORDINAL4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,ORDINAL1,ORDINAL2,ORDINAL3,CARD_1,CLASSES2,CKB6,CKB46,CKB47,CKB52,CKB53,CKB54,CKB55,CKB57,CKB58,CKB59;
definitions ORDINAL1,TARSKI,ORDINAL2,XBOOLE_0,RELAT_1,CKB6,CKB52,CKB53;
theorems ZFMISC_1,FUNCT_1,GRFUNC_1,ORDINAL1,ORDINAL2,ORDINAL3,CARD_2,CLASSES2,RELAT_1,CLASSES1,XBOOLE_0,XBOOLE_1,FUNCT_2,RELSET_1,CARD_1,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB52,CKB53,CKB56,CKB60,CKB61;
schemes ORDINAL1,ORDINAL2,FINSET_1,CKB44,CKB51;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,ORDINAL2,ORDINAL3,CARD_1,CLASSES2,RELSET_1,CKB4,CKB8,CKB45,CKB48,CKB49,CKB50;
constructors WELLORD2,FUNCOP_1,ORDINAL3,CARD_1,CLASSES1,CLASSES2,RELSET_1,CKB6,CKB52,CKB53,CKB54,CKB55,CKB57,CKB58,CKB59;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve A for Ordinal;
reserve B for Ordinal;
reserve C for Ordinal;
reserve x for set;
reserve y for set;
reserve z for set;
reserve W for Universe;
reserve A1 for (Ordinal of W);
reserve phi for (Ordinal-Sequence of W);
reserve L for T-Sequence;
theorem
(((phi is  increasing & phi is  continuous) & ( omega ) in W) implies (ex A st (A in ( dom phi ) & ( phi . A ) = A)))
proof
deffunc D(set,set) = ( {} );
assume that
A1: phi is  increasing
and
A2: phi is  continuous
and
A3: ( omega ) in W;
deffunc C(set,set) = ( phi . $2 );
reconsider N = ( phi . ( 0-element_of W ) ) as Ordinal;
consider L such that A4: ( dom L ) = ( omega ) and A5: (( {} ) in ( omega ) implies ( L . ( {} ) ) = N) and A6: (for A holds (( succ A ) in ( omega ) implies ( L . ( succ A ) ) = C(A,( L . A )))) and (for A holds (((A in ( omega ) & A <> ( {} )) & A is  limit_ordinal) implies ( L . A ) = D(A,( L | A )))) from ORDINAL2:sch 5;
defpred P[ Ordinal ]
 means
($1 in ( dom L ) implies ( L . $1 ) is (Ordinal of W));
A7: (for A holds (P[ A ] implies P[ ( succ A ) ]))
proof
let A;
assume that
A8: (A in ( dom L ) implies ( L . A ) is (Ordinal of W))
and
A9: ( succ A ) in ( dom L );
A in ( succ A ) by ORDINAL1:6;
then reconsider x = ( L . A ) as (Ordinal of W) by A8,A9,ORDINAL1:10;
( L . ( succ A ) ) = ( phi . x ) by A4,A6,A9;
hence thesis;
end;
A10: (for A holds (((A <> ( {} ) & A is  limit_ordinal) & (for B holds (B in A implies P[ B ]))) implies P[ A ]))
proof
let A;
assume that
A11: A <> ( {} )
and
A12: A is  limit_ordinal
and
(for B holds (B in A implies (B in ( dom L ) implies ( L . B ) is (Ordinal of W))))
and
A13: A in ( dom L );
( {} ) in A by A11,ORDINAL3:8;
then ( omega ) c= A by A12,ORDINAL1:def 11;
hence thesis by A4,A13,ORDINAL1:5;
end;
A14: P[ ( {} ) ] by A4,A5;
A15: (for A holds P[ A ]) from ORDINAL2:sch 1(A14,A7,A10);
( rng L ) c= ( sup ( rng L ) )
proof
let x;
assume A16: x in ( rng L );
then consider y such that A17: y in ( dom L ) and A18: x = ( L . y ) by FUNCT_1:def 3;
reconsider y as Ordinal by A17;
reconsider A = ( L . y ) as (Ordinal of W) by A15,A17;
A in ( sup ( rng L ) ) by A16,A18,ORDINAL2:19;
hence thesis by A18;
end;
then reconsider L as Ordinal-Sequence by ORDINAL2:def 4;
A19: ( dom phi ) = ( On W ) by FUNCT_2:def 1;
assume A20: (not thesis);
A21:now
let A1;
A1 in ( dom phi ) by CKB60:1;
then A22: A1 c= ( phi . A1 ) by A1,CKB17:1;
A1 <> ( phi . A1 ) by A20,CKB60:1;
then A1 c< ( phi . A1 ) by A22,XBOOLE_0:def 8;
hence A1 in ( phi . A1 ) by ORDINAL1:11;
end;
L is  increasing
proof
let A;
let B;
assume that
A23: A in B
and
A24: B in ( dom L );
defpred P[ Ordinal ]
 means
((( A +^ $1 ) in ( omega ) & $1 <> ( {} )) implies ( L . A ) in ( L . ( A +^ $1 ) ));
A25: (for B holds (((B <> ( {} ) & B is  limit_ordinal) & (for C holds (C in B implies P[ C ]))) implies P[ B ]))
proof
let B;
assume that
A26: B <> ( {} )
and
A27: B is  limit_ordinal
and
(for C holds (C in B implies ((( A +^ C ) in ( omega ) & C <> ( {} )) implies ( L . A ) in ( L . ( A +^ C ) ))))
and
A28: ( A +^ B ) in ( omega )
and
A29: B <> ( {} );
( A +^ B ) <> ( {} ) by A29,ORDINAL3:26;
then A30: ( {} ) in ( A +^ B ) by ORDINAL3:8;
( A +^ B ) is  limit_ordinal by A26,A27,ORDINAL3:29;
then ( omega ) c= ( A +^ B ) by A30,ORDINAL1:def 11;
hence thesis by A28,ORDINAL1:5;
end;
A31: (for C holds (P[ C ] implies P[ ( succ C ) ]))
proof
let C;
assume that
A32: ((( A +^ C ) in ( omega ) & C <> ( {} )) implies ( L . A ) in ( L . ( A +^ C ) ))
and
A33: ( A +^ ( succ C ) ) in ( omega )
and
( succ C ) <> ( {} );
A34: ( A +^ ( succ C ) ) = ( succ ( A +^ C ) ) by ORDINAL2:28;
A35: ( A +^ C ) in ( succ ( A +^ C ) ) by ORDINAL1:6;
then reconsider D = ( L . ( A +^ C ) ) as (Ordinal of W) by A4,A15,A33,A34,ORDINAL1:10;
A36: D in ( phi . D ) by A21;
( L . ( A +^ ( succ C ) ) ) = ( phi . D ) by A6,A33,A34;
hence thesis by A32,A33,A35,A34,A36,ORDINAL1:10,ORDINAL2:27;
end;
A37: P[ ( {} ) ];
A38: (for C holds P[ C ]) from ORDINAL2:sch 1(A37,A31,A25);
(ex C st (B = ( A +^ C ) & C <> ( {} ))) by A23,ORDINAL3:28;
hence thesis by A4,A24,A38;
end;
then A39: ( sup L ) is  limit_ordinal by A4,CKB2:1,CKB23:1;
A40: ( rng L ) c= W
proof
let x;
assume x in ( rng L );
then consider y such that A41: y in ( dom L ) and A42: x = ( L . y ) by FUNCT_1:def 3;
reconsider y as Ordinal by A41;
( L . y ) is (Ordinal of W) by A15,A41;
hence thesis by A42;
end;
then reconsider S = ( sup L ) as (Ordinal of W) by A3,A4,CKB61:1;
set fi = ( phi | ( sup L ) );
N in ( rng L ) by A4,A5,CKB1:1,FUNCT_1:def 3;
then A43: ( sup L ) <> ( {} ) by ORDINAL2:19;
A44: S in ( On W ) by ORDINAL1:def 9;
then A45: ( phi . S ) is_limes_of fi by A2,A43,A39,A19,ORDINAL2:def 13;
S c= ( dom phi ) by A44,A19,ORDINAL1:def 2;
then A46: ( dom fi ) = S by RELAT_1:62;
A47: ( sup fi ) c= ( sup L )
proof
let x;
assume A48: x in ( sup fi );
then reconsider A = x as Ordinal;
consider B such that A49: B in ( rng fi ) and A50: A c= B by A48,ORDINAL2:21;
consider y such that A51: y in ( dom fi ) and A52: B = ( fi . y ) by A49,FUNCT_1:def 3;
reconsider y as Ordinal by A51;
consider C such that A53: C in ( rng L ) and A54: y c= C by A46,A51,ORDINAL2:21;
reconsider C1 = C as (Ordinal of W) by A40,A53;
(y c< C1 iff (y c= C1 & y <> C1)) by XBOOLE_0:def 8;
then ((y in C1 & C1 in ( dom phi )) or y = C) by A19,A54,ORDINAL1:11,ORDINAL1:def 9;
then A55: (( phi . y ) in ( phi . C1 ) or y = C1) by A1,ORDINAL2:def 12;
B = ( phi . y ) by A51,A52,FUNCT_1:47;
then A56: B c= ( phi . C1 ) by A55,ORDINAL1:def 2;
consider z such that A57: z in ( dom L ) and A58: C = ( L . z ) by A53,FUNCT_1:def 3;
reconsider z as Ordinal by A57;
A59: ( succ z ) in ( omega ) by A4,A57,CKB2:1,ORDINAL1:28;
then A60: ( L . ( succ z ) ) in ( rng L ) by A4,FUNCT_1:def 3;
( L . ( succ z ) ) = ( phi . C ) by A6,A58,A59;
then ( phi . C1 ) in ( sup L ) by A60,ORDINAL2:19;
then B in ( sup L ) by A56,ORDINAL1:12;
hence thesis by A50,ORDINAL1:12;
end;
fi is  increasing
proof
A61: ( dom fi ) c= ( dom phi ) by RELAT_1:60;
let A;
let B;
assume that
A62: A in B
and
A63: B in ( dom fi );
A64: ( fi . B ) = ( phi . B ) by A63,FUNCT_1:47;
( fi . A ) = ( phi . A ) by A62,A63,FUNCT_1:47,ORDINAL1:10;
hence thesis by A1,A62,A63,A61,A64,ORDINAL2:def 12;
end;
then ( sup fi ) = ( lim fi ) by A43,A39,A46,CKB15:1
.= ( phi . ( sup L ) ) by A45,ORDINAL2:def 10;
then (not S in ( phi . S )) by A47,ORDINAL1:5;
hence contradiction by A21;
end;
