environ
vocabularies ORDINAL2,ORDINAL1,FUNCT_1,XBOOLE_0,RELAT_1,TARSKI,ORDINAL3,SUBSET_1,CLASSES2,ZFMISC_1,CARD_1,ORDINAL4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,ORDINAL1,ORDINAL2,ORDINAL3,CARD_1,CLASSES2,CKB6;
definitions ORDINAL1,TARSKI,ORDINAL2,XBOOLE_0,RELAT_1,CKB6;
theorems ZFMISC_1,FUNCT_1,GRFUNC_1,ORDINAL1,ORDINAL2,ORDINAL3,CARD_2,CLASSES2,RELAT_1,CLASSES1,XBOOLE_0,XBOOLE_1,FUNCT_2,RELSET_1,CARD_1,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41;
schemes ORDINAL1,ORDINAL2,FINSET_1;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,ORDINAL2,ORDINAL3,CARD_1,CLASSES2,RELSET_1,CKB4,CKB8;
constructors WELLORD2,FUNCOP_1,ORDINAL3,CARD_1,CLASSES1,CLASSES2,RELSET_1,CKB6;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve fi for Ordinal-Sequence;
reserve A for Ordinal;
reserve A1 for Ordinal;
reserve B for Ordinal;
reserve C for Ordinal;
reserve D for Ordinal;
reserve x for set;
reserve y for set;
reserve f1 for Ordinal-Sequence;
reserve f2 for Ordinal-Sequence;
theorem
( exp (( exp (C,A) ),B) ) = ( exp (C,( B *^ A )) )
proof
defpred P[ Ordinal ]
 means
( exp (( exp (C,A) ),$1) ) = ( exp (C,( $1 *^ A )) );
A1: ( exp (C,( {} )) ) = 1 by ORDINAL2:43;
A2: (for B holds (P[ B ] implies P[ ( succ B ) ]))
proof
let B;
assume ( exp (( exp (C,A) ),B) ) = ( exp (C,( B *^ A )) );
hence ( exp (( exp (C,A) ),( succ B )) ) = ( ( exp (C,A) ) *^ ( exp (C,( B *^ A )) ) ) by ORDINAL2:44
.= ( exp (C,( ( B *^ A ) +^ A )) ) by CKB41:1
.= ( exp (C,( ( succ B ) *^ A )) ) by ORDINAL2:36;
end;
A3: (for B holds (((B <> ( {} ) & B is  limit_ordinal) & (for D holds (D in B implies P[ D ]))) implies P[ B ]))
proof
deffunc F(Ordinal) = ( exp (( exp (C,A) ),$1) );
let B;
assume that
A4: B <> ( {} )
and
A5: B is  limit_ordinal
and
A6: (for D holds (D in B implies ( exp (( exp (C,A) ),D) ) = ( exp (C,( D *^ A )) )));
consider fi such that A7: (( dom fi ) = B & (for D holds (D in B implies ( fi . D ) = F(D)))) from ORDINAL2:sch 3;
deffunc F(Ordinal) = ( $1 *^ A );
consider f1 such that A8: (( dom f1 ) = B & (for D holds (D in B implies ( f1 . D ) = F(D)))) from ORDINAL2:sch 3;
deffunc F(Ordinal) = ( exp (C,$1) );
consider f2 such that A9: (( dom f2 ) = ( B *^ A ) & (for D holds (D in ( B *^ A ) implies ( f2 . D ) = F(D)))) from ORDINAL2:sch 3;
A10:now
assume A11: A <> ( {} );
then ( B *^ A ) <> ( {} ) by A4,ORDINAL3:31;
then A12: ( exp (C,( B *^ A )) ) is_limes_of f2 by A5,A9,CKB32:1,ORDINAL3:40;
A13: ( rng f1 ) c= ( dom f2 )
proof
let x;
assume x in ( rng f1 );
then consider y such that A14: y in ( dom f1 ) and A15: x = ( f1 . y ) by FUNCT_1:def 3;
reconsider y as Ordinal by A14;
x = ( y *^ A ) by A8,A14,A15;
hence thesis by A8,A9,A11,A14,ORDINAL2:40;
end;
A16: ( sup ( rng f1 ) ) = ( dom f2 )
proof
( sup ( rng f1 ) ) c= ( sup ( dom f2 ) ) by A13,ORDINAL2:22;
hence ( sup ( rng f1 ) ) c= ( dom f2 ) by ORDINAL2:18;
let x;
assume A17: x in ( dom f2 );
then reconsider D = x as Ordinal;
consider A1 such that A18: A1 in B and A19: D in ( A1 *^ A ) by A5,A9,A17,ORDINAL3:41;
( f1 . A1 ) = ( A1 *^ A ) by A8,A18;
then ( A1 *^ A ) in ( rng f1 ) by A8,A18,FUNCT_1:def 3;
then ( A1 *^ A ) in ( sup ( rng f1 ) ) by ORDINAL2:19;
hence thesis by A19,ORDINAL1:10;
end;
A20: ( dom ( f2 * f1 ) ) = B
proof
thus ( dom ( f2 * f1 ) ) c= B by A8,RELAT_1:25;
let x;
assume A21: x in B;
then reconsider E = x as Ordinal;
A22: ( f1 . E ) = ( E *^ A ) by A8,A21;
( E *^ A ) in ( B *^ A ) by A11,A21,ORDINAL2:40;
hence thesis by A8,A9,A21,A22,FUNCT_1:11;
end;
now
let x;
assume A23: x in B;
then reconsider D = x as Ordinal;
A24: ( f1 . D ) = ( D *^ A ) by A8,A23;
thus ( fi . x ) = ( exp (( exp (C,A) ),D) ) by A7,A23
.= ( exp (C,( D *^ A )) ) by A6,A23
.= ( f2 . ( f1 . D ) ) by A9,A11,A23,A24,ORDINAL2:40
.= ( ( f2 * f1 ) . x ) by A8,A23,FUNCT_1:13;
end;
then fi = ( f2 * f1 ) by A7,A20,FUNCT_1:2;
then ( exp (C,( B *^ A )) ) is_limes_of fi by A8,A11,A12,A16,CKB21:1,CKB27:1;
then ( exp (C,( B *^ A )) ) = ( lim fi ) by ORDINAL2:def 10;
hence thesis by A4,A5,A7,ORDINAL2:45;
end;
A25: ( B *^ ( {} ) ) = ( {} ) by ORDINAL2:38;
( exp (C,( {} )) ) = 1 by ORDINAL2:43;
hence thesis by A25,A10,ORDINAL2:46;
end;
( exp (( exp (C,A) ),( {} )) ) = 1 by ORDINAL2:43;
then A26: P[ ( {} ) ] by A1,ORDINAL2:35;
(for B holds P[ B ]) from ORDINAL2:sch 1(A26,A2,A3);
hence thesis;
end;
