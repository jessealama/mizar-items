environ
vocabularies NUMBERS,TREES_1,SUBSET_1,FUNCT_1,XBOOLE_0,FINSEQ_1,ORDINAL4,XXREAL_0,ARYTM_3,RELAT_1,TARSKI,CARD_1,NAT_1,ORDINAL1,FINSET_1,REAL_1,ARYTM_1,ZFMISC_1,FUNCOP_1,TREES_2,AMISTD_3,FINSEQ_2,PARTFUN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,RELAT_1,XCMPLX_0,FUNCT_1,PARTFUN1,REAL_1,NAT_1,CARD_1,NUMBERS,FINSEQ_1,FINSEQ_2,FINSET_1,RELSET_1,BINOP_1,FUNCT_2,FUNCOP_1,TREES_1,XXREAL_0,CKB7,CKB11,CKB13,CKB14,CKB15,CKB19,CKB33,CKB35;
definitions RELAT_1,TARSKI,FUNCT_1,TREES_1,ORDINAL1,XBOOLE_0,BINOP_1,CKB7,CKB11,CKB13,CKB14,CKB15,CKB19,CKB33;
theorems FUNCT_1,NAT_1,FINSEQ_1,TREES_1,TARSKI,ORDERS_1,ZFMISC_1,FINSET_1,CARD_1,CARD_2,WELLORD2,FUNCOP_1,FUNCT_2,RELAT_1,FINSEQ_2,ORDINAL1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,PARTFUN1,RELSET_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB30,CKB31,CKB33,CKB37,CKB38,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB47;
schemes FUNCT_1,FRAENKEL,NAT_1,CARD_2,CLASSES1,DOMAIN_1,XBOOLE_0,CKB5,CKB25,CKB26,CKB46;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,TREES_1,CARD_1,RELSET_1,FINSEQ_2,DOMAIN_1,PARTFUN1,CKB12,CKB29,CKB32,CKB34,CKB36,CKB39;
constructors WELLORD2,BINOP_1,FUNCOP_1,XXREAL_0,REAL_1,NAT_1,TREES_1,RELSET_1,FINSEQ_2,CKB11,CKB13,CKB14,CKB15,CKB19,CKB33;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve a for set;
reserve X for set;
reserve Y for set;
reserve f for Function;
reserve k for (Element of ( NAT ));
scheme InfiniteChain { X() -> set,a() -> set,Q[set],P[set,set] } : (ex f st (((( dom f ) = ( NAT ) & ( rng f ) c= X()) & ( f . ( 0 ) ) = a()) & (for k holds (P[ ( f . k ),( f . ( k + 1 ) ) ] & Q[ ( f . k ) ]))))
provided
A1: (a() in X() & Q[ a() ])
and
A2: (for x holds ((x in X() & Q[ x ]) implies (ex y st ((y in X() & P[ x,y ]) & Q[ y ]))))
proof
consider Y such that A3: (x in Y iff (x in X() & Q[ x ])) from XBOOLE_0:sch 1;
defpred Q[ set,set ]
 means
($2 in Y & P[ $1,$2 ]);
A4: (for x holds (x in Y implies (ex y st Q[ x,y ])))
proof
let x;
assume x in Y;
then (x in X() & Q[ x ]) by A3;
then consider y such that A5: ((y in X() & P[ x,y ]) & Q[ y ]) by A2;
take y;
thus thesis by A3,A5;
end;
consider g being Function such that A6: (( dom g ) = Y & (for x holds (x in Y implies Q[ x,( g . x ) ]))) from CLASSES1:sch 1(A4);
deffunc U(set,set) = ( g . $2 );
consider f such that A7: ((( dom f ) = ( NAT ) & ( f . ( 0 ) ) = a()) & (for n being Nat holds ( f . ( n + 1 ) ) = U(n,( f . n )))) from NAT_1:sch 11;
take f;
thus ( dom f ) = ( NAT ) by A7;
defpred X[ (Element of ( NAT )) ]
 means
( f . $1 ) in Y;
A8: X[ ( 0 ) ] by A1,A3,A7;
A9: (X[ k ] implies X[ ( k + 1 ) ])
proof
assume ( f . k ) in Y;
then ( g . ( f . k ) ) in Y by A6;
hence thesis by A7;
end;
A10: X[ k ] from NAT_1:sch 1(A8,A9);
thus ( rng f ) c= X()
proof
let x;
assume x in ( rng f );
then consider y such that A11: y in ( dom f ) and A12: x = ( f . y ) by FUNCT_1:def 3;
reconsider y as (Element of ( NAT )) by A7,A11;
( f . y ) in Y by A10;
hence thesis by A3,A12;
end;

thus ( f . ( 0 ) ) = a() by A7;
let k;
A13: ( f . k ) in Y by A10;
then P[ ( f . k ),( g . ( f . k ) ) ] by A6;
hence thesis by A3,A7,A13;
end;
