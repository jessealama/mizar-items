environ
vocabularies NUMBERS,CLASSES2,RELAT_1,ZFMISC_1,ORDERS_2,NECKLACE,CARD_1,ARYTM_3,SUBSET_1,XBOOLE_0,TARSKI,XXREAL_0,ORDINAL1,FINSET_1,CLASSES1,STRUCT_0,FUNCT_1,SETFAM_1,NAT_1,CARD_3,NECKLA_2;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,ZFMISC_1,RELSET_1,PARTIT_2,FINSET_1,CARD_1,ORDINAL1,NUMBERS,CLASSES2,SETFAM_1,CLASSES1,CARD_3,XXREAL_0,NAT_1,RELAT_1,FUNCT_1,FUNCT_2,STRUCT_0,ORDERS_2,NECKLACE,CKB6,CKB8,CKB9,CKB10,CKB12;
definitions TARSKI,CKB6,CKB8,CKB9,CKB10,CKB12;
theorems FUNCT_1,FUNCT_2,ENUMSET1,RELSET_1,ZFMISC_1,XBOOLE_1,TARSKI,ORDINAL1,PARTFUN1,NECKLACE,CLASSES2,CLASSES1,XBOOLE_0,SETFAM_1,CARD_5,NAT_1,STRUCT_0,RELAT_1,CARD_2,SUBSET_1,CARD_3,REALSET1,XREAL_1,XXREAL_0,CKB1,CKB2,CKB4,CKB6,CKB8,CKB9,CKB10,CKB12,CKB14,CKB15,CKB16,CKB17;
schemes TARSKI,XBOOLE_0,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,XREAL_0,NAT_1,CLASSES2,STRUCT_0,ORDERS_2,YELLOW_0,CARD_1,CLASSES1,CKB3,CKB5,CKB7,CKB11,CKB13;
constructors SQUARE_1,NAT_1,CARD_3,CLASSES2,REALSET2,COH_SP,NECKLACE,RELSET_1,PARTIT_2,STRUCT_0,CKB6,CKB8,CKB9,CKB10,CKB12;
requirements BOOLE,SUBSET,REAL,NUMERALS,ARITHM;
begin
theorem
(for R being  strict non  empty RelStr holds (R in ( fin_RelStr_sp ) implies R is  N-free))
proof
let R being  strict non  empty RelStr;
set N4 = ( Necklace 4 );
defpred P[ Nat ]
 means
(ex S being  strict non  empty RelStr st ((S in ( fin_RelStr_sp ) & ( card (the carrier of S) ) = $1) & S embeds N4));
assume A1: R in ( fin_RelStr_sp );
then (ex S being  strict RelStr st (R = S & (the carrier of S) in ( FinSETS ))) by CKB10:def 1;
then reconsider C = (the carrier of R) as (Element of ( FinSETS ));
set k = ( card C );
A2: (for m being Nat holds ((m <> ( 0 ) & P[ m ]) implies (ex n being Nat st (n < m & P[ n ]))))
proof
let m being Nat;
assume that
m <> ( 0 )
and
A3: P[ m ];
consider S being non  empty  strict RelStr such that A4: S in ( fin_RelStr_sp ) and A5: ( card (the carrier of S) ) = m and A6: S embeds N4 by A3;
per cases  by A4,CKB16:1;
suppose A7: S is  strict 1 -element  strict 1 -element RelStr;

A8: ( dom (the InternalRel of S) ) c= (the carrier of S) by RELAT_1:def 18;
A9: ( rng (the InternalRel of S) ) c= (the carrier of S) by RELAT_1:def 19;
consider f being (Function of N4,S) such that f is  one-to-one and A10: (for x,y being (Element of N4) holds ([ x,y ] in (the InternalRel of N4) iff [ ( f . x ),( f . y ) ] in (the InternalRel of S))) by A6,NECKLACE:def 1;
A11: (the carrier of N4) = { ( 0 ),1,2,3 } by NECKLACE:1,NECKLACE:20;
then A12: ( 0 ) in (the carrier of N4) by ENUMSET1:def 2;
A13: 1 in (the carrier of N4) by A11,ENUMSET1:def 2;
(( 0 ) = ( ( 0 ) + 1 ) or 1 = ( ( 0 ) + 1 ));
then [ ( 0 ),1 ] in (the InternalRel of N4) by A12,A13,NECKLACE:25;
then A14: [ ( f . ( 0 ) ),( f . 1 ) ] in (the InternalRel of S) by A10,A12,A13;
then A15: ( f . 1 ) in ( rng (the InternalRel of S) ) by RELAT_1:6;
( f . ( 0 ) ) in ( dom (the InternalRel of S) ) by A14,RELAT_1:6;
then ( f . ( 0 ) ) = ( f . 1 ) by A7,A15,A8,A9,STRUCT_0:def 10;
then [ ( 0 ),( 0 ) ] in (the InternalRel of N4) by A10,A12,A14;
then ((((([ ( 0 ),( 0 ) ] = [ ( 0 ),1 ] or [ ( 0 ),( 0 ) ] = [ 1,( 0 ) ]) or [ ( 0 ),( 0 ) ] = [ 1,2 ]) or [ ( 0 ),( 0 ) ] = [ 2,1 ]) or [ ( 0 ),( 0 ) ] = [ 2,3 ]) or [ ( 0 ),( 0 ) ] = [ 3,2 ]) by CKB2:1,ENUMSET1:def 4;
hence thesis by ZFMISC_1:27;
end;
suppose (ex H1,H2 being  strict RelStr st ((((the carrier of H1) misses (the carrier of H2) & H1 in ( fin_RelStr_sp )) & H2 in ( fin_RelStr_sp )) & (S = ( union_of (H1,H2) ) or S = ( sum_of (H1,H2) ))));

then consider H1,H2 being  strict RelStr such that A16: (the carrier of H1) misses (the carrier of H2) and A17: H1 in ( fin_RelStr_sp ) and A18: H2 in ( fin_RelStr_sp ) and A19: (S = ( union_of (H1,H2) ) or S = ( sum_of (H1,H2) ));
A20:now
A21: (not [ 1,3 ] in (the InternalRel of N4))
proof
assume A22: [ 1,3 ] in (the InternalRel of N4);
per cases  by A22,CKB2:1,ENUMSET1:def 4;
suppose [ 1,3 ] = [ ( 0 ),1 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ 1,3 ] = [ 1,2 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ 1,3 ] = [ 2,3 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ 1,3 ] = [ 3,2 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ 1,3 ] = [ 2,1 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ 1,3 ] = [ 1,( 0 ) ];

hence contradiction by ZFMISC_1:27;
end;
end;
A23: (not [ ( 0 ),2 ] in (the InternalRel of N4))
proof
assume A24: [ ( 0 ),2 ] in (the InternalRel of N4);
per cases  by A24,CKB2:1,ENUMSET1:def 4;
suppose [ ( 0 ),2 ] = [ ( 0 ),1 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),2 ] = [ 1,2 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),2 ] = [ 2,3 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),2 ] = [ 3,2 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),2 ] = [ 2,1 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),2 ] = [ 1,( 0 ) ];

hence contradiction by ZFMISC_1:27;
end;
end;
A25: (the carrier of N4) = { ( 0 ),1,2,3 } by NECKLACE:1,NECKLACE:20;
then A26: ( 0 ) in (the carrier of N4) by ENUMSET1:def 2;
A27: (not [ ( 0 ),3 ] in (the InternalRel of N4))
proof
assume A28: [ ( 0 ),3 ] in (the InternalRel of N4);
per cases  by A28,CKB2:1,ENUMSET1:def 4;
suppose [ ( 0 ),3 ] = [ ( 0 ),1 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),3 ] = [ 1,2 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),3 ] = [ 2,3 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),3 ] = [ 3,2 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),3 ] = [ 2,1 ];

hence contradiction by ZFMISC_1:27;
end;
suppose [ ( 0 ),3 ] = [ 1,( 0 ) ];

hence contradiction by ZFMISC_1:27;
end;
end;
set A = (the InternalRel of H1);
set B = (the InternalRel of H2);
set C = [: (the carrier of H1),(the carrier of H2) :];
set D = [: (the carrier of H2),(the carrier of H1) :];
set cH1 = (the carrier of H1);
set cH2 = (the carrier of H2);
set cS = (the carrier of S);
A29: ( dom (the InternalRel of S) ) c= cS by RELAT_1:def 18;
assume A30: S = ( sum_of (H1,H2) );
A31: C c= (the InternalRel of S)
proof
let x being set;
assume x in C;
then A32: x in ( ( A \/ B ) \/ C ) by XBOOLE_0:def 3;
( ( A \/ B ) \/ C ) c= ( ( ( A \/ B ) \/ C ) \/ D ) by XBOOLE_1:7;
then ( ( A \/ B ) \/ C ) c= (the InternalRel of S) by A30,CKB9:def 1;
hence thesis by A32;
end;
A33: ( rng (the InternalRel of S) ) c= cS by RELAT_1:def 19;
A34: 3 in (the carrier of N4) by A25,ENUMSET1:def 2;
A35: D c= (the InternalRel of S)
proof
let x being set;
( ( B \/ C ) \/ D ) c= ( A \/ ( ( B \/ C ) \/ D ) ) by XBOOLE_1:7;
then ( ( B \/ C ) \/ D ) c= ( A \/ ( B \/ ( C \/ D ) ) ) by XBOOLE_1:4;
then ( ( B \/ C ) \/ D ) c= ( ( A \/ B ) \/ ( C \/ D ) ) by XBOOLE_1:4;
then ( ( B \/ C ) \/ D ) c= ( ( ( A \/ B ) \/ C ) \/ D ) by XBOOLE_1:4;
then A36: ( ( B \/ C ) \/ D ) c= (the InternalRel of S) by A30,CKB9:def 1;
assume x in D;
then x in ( ( B \/ C ) \/ D ) by XBOOLE_0:def 3;
hence thesis by A36;
end;
A37: ( rng A ) c= cH1 by RELAT_1:def 19;
A38: 1 in (the carrier of N4) by A25,ENUMSET1:def 2;
consider f being (Function of N4,S) such that A39: f is  one-to-one and A40: (for x,y being (Element of N4) holds ([ x,y ] in (the InternalRel of N4) iff [ ( f . x ),( f . y ) ] in (the InternalRel of S))) by A6,NECKLACE:def 1;
[ 1,( 0 ) ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A41: [ ( f . 1 ),( f . ( 0 ) ) ] in (the InternalRel of S) by A40,A26,A38;
A42: 2 in (the carrier of N4) by A25,ENUMSET1:def 2;
[ 3,2 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A43: [ ( f . 3 ),( f . 2 ) ] in (the InternalRel of S) by A40,A42,A34;
[ 2,1 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A44: [ ( f . 2 ),( f . 1 ) ] in (the InternalRel of S) by A40,A38,A42;
A45: ( rng B ) c= cH2 by RELAT_1:def 19;
[ 2,3 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A46: [ ( f . 2 ),( f . 3 ) ] in (the InternalRel of S) by A40,A42,A34;
then ( f . 3 ) in ( rng (the InternalRel of S) ) by RELAT_1:6;
then ( f . 3 ) in cS by A33;
then A47: ( f . 3 ) in ( cH1 \/ cH2 ) by A30,CKB9:def 1;
[ ( 0 ),1 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A48: [ ( f . ( 0 ) ),( f . 1 ) ] in (the InternalRel of S) by A40,A26,A38;
then ( f . ( 0 ) ) in ( dom (the InternalRel of S) ) by RELAT_1:6;
then ( f . ( 0 ) ) in cS by A29;
then A49: ( f . ( 0 ) ) in ( cH1 \/ cH2 ) by A30,CKB9:def 1;
( f . 1 ) in ( rng (the InternalRel of S) ) by A48,RELAT_1:6;
then ( f . 1 ) in cS by A33;
then A50: ( f . 1 ) in ( cH1 \/ cH2 ) by A30,CKB9:def 1;
A51: ( dom A ) c= cH1 by RELAT_1:def 18;
[ 1,2 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A52: [ ( f . 1 ),( f . 2 ) ] in (the InternalRel of S) by A40,A38,A42;
then ( f . 2 ) in ( rng (the InternalRel of S) ) by RELAT_1:6;
then ( f . 2 ) in cS by A33;
then A53: ( f . 2 ) in ( cH1 \/ cH2 ) by A30,CKB9:def 1;
A54: ( dom B ) c= cH2 by RELAT_1:def 18;
per cases  by A49,XBOOLE_0:def 3;
suppose A55: ( f . ( 0 ) ) in cH1;

set x1 = [ ( f . ( 0 ) ),( f . 1 ) ];
set x2 = [ ( f . 1 ),( f . 2 ) ];
set x3 = [ ( f . 2 ),( f . 3 ) ];
set x4 = [ ( f . 1 ),( f . ( 0 ) ) ];
set x5 = [ ( f . 2 ),( f . 1 ) ];
set x6 = [ ( f . 3 ),( f . 2 ) ];
A56:now
assume x1 in D;
then ( f . ( 0 ) ) in cH2 by ZFMISC_1:87;
hence contradiction by A16,A55,XBOOLE_0:3;
end;
A57:now
assume ( f . 2 ) in cH2;
then [ ( f . ( 0 ) ),( f . 2 ) ] in C by A55,ZFMISC_1:87;
hence contradiction by A40,A26,A42,A23,A31;
end;
A58:now
assume x4 in B;
then ( f . ( 0 ) ) in ( rng B ) by RELAT_1:6;
hence contradiction by A16,A45,A55,XBOOLE_0:3;
end;
A59:now
assume x4 in C;
then ( f . ( 0 ) ) in cH2 by ZFMISC_1:87;
hence contradiction by A16,A55,XBOOLE_0:3;
end;
A60:now
assume x1 in B;
then ( f . ( 0 ) ) in ( dom B ) by RELAT_1:6;
hence contradiction by A16,A54,A55,XBOOLE_0:3;
end;
A61:now
assume ( f . 3 ) in cH2;
then [ ( f . ( 0 ) ),( f . 3 ) ] in C by A55,ZFMISC_1:87;
hence contradiction by A40,A26,A34,A27,A31;
end;
then A62: ( f . 3 ) in cH1 by A47,XBOOLE_0:def 3;
A63:now
assume ( f . 1 ) in cH2;
then [ ( f . 1 ),( f . 3 ) ] in D by A62,ZFMISC_1:87;
hence contradiction by A40,A38,A34,A21,A35;
end;
A64: ( dom f ) = (the carrier of N4) by FUNCT_2:def 1;
( rng f ) c= (the carrier of H1)
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A65: x in ( dom f ) and A66: y = ( f . x ) by FUNCT_1:def 3;
per cases  by A64,A65,CKB17:1,ENUMSET1:def 2;
suppose x = ( 0 );

hence thesis by A55,A66;
end;
suppose x = 1;

hence thesis by A50,A63,A66,XBOOLE_0:def 3;
end;
suppose x = 2;

hence thesis by A53,A57,A66,XBOOLE_0:def 3;
end;
suppose x = 3;

hence thesis by A47,A61,A66,XBOOLE_0:def 3;
end;
end;
then A67: f is (Function of (the carrier of N4),cH1) by FUNCT_2:6;
H1 is  finite by A17,CKB14:1;
then reconsider cH1 as  finite set;
A68: H1 is  strict non  empty  strict non  empty RelStr by A17,CKB14:1;
A69:now
assume x6 in B;
then ( f . 2 ) in ( rng B ) by RELAT_1:6;
hence contradiction by A45,A57;
end;
A70:now
assume x3 in B;
then ( f . 2 ) in ( dom B ) by RELAT_1:6;
hence contradiction by A54,A57;
end;
x4 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A41,CKB9:def 1;
then (x4 in ( ( A \/ B ) \/ C ) or x4 in D) by XBOOLE_0:def 3;
then ((x4 in ( A \/ B ) or x4 in C) or x4 in D) by XBOOLE_0:def 3;
then A71: [ ( f . 1 ),( f . ( 0 ) ) ] in A by A58,A59,A63,XBOOLE_0:def 3,ZFMISC_1:87;
A72:now
assume x2 in B;
then ( f . 1 ) in ( dom B ) by RELAT_1:6;
hence contradiction by A54,A63;
end;
x2 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A52,CKB9:def 1;
then (x2 in ( ( A \/ B ) \/ C ) or x2 in D) by XBOOLE_0:def 3;
then ((x2 in ( A \/ B ) or x2 in C) or x2 in D) by XBOOLE_0:def 3;
then A73: [ ( f . 1 ),( f . 2 ) ] in A by A72,A57,A63,XBOOLE_0:def 3,ZFMISC_1:87;
x6 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A43,CKB9:def 1;
then (x6 in ( ( A \/ B ) \/ C ) or x6 in D) by XBOOLE_0:def 3;
then ((x6 in ( A \/ B ) or x6 in C) or x6 in D) by XBOOLE_0:def 3;
then A74: [ ( f . 3 ),( f . 2 ) ] in A by A69,A57,A61,XBOOLE_0:def 3,ZFMISC_1:87;
x3 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A46,CKB9:def 1;
then (x3 in ( ( A \/ B ) \/ C ) or x3 in D) by XBOOLE_0:def 3;
then ((x3 in ( A \/ B ) or x3 in C) or x3 in D) by XBOOLE_0:def 3;
then A75: [ ( f . 2 ),( f . 3 ) ] in A by A70,A61,A57,XBOOLE_0:def 3,ZFMISC_1:87;
A76:now
assume x5 in B;
then ( f . 1 ) in ( rng B ) by RELAT_1:6;
hence contradiction by A45,A63;
end;
H2 is  finite by A18,CKB14:1;
then reconsider cH2 as  finite set;
cS = ( cH1 \/ cH2 ) by A30,CKB9:def 1;
then reconsider cS as  finite set;
A77: H2 is non  empty by A18,CKB14:1;
A78: cH1 <> cS
proof
A79: cS = ( cH1 \/ cH2 ) by A30,CKB9:def 1;
assume A80: cH1 = cS;
consider x being set such that A81: x in cH2 by A77,XBOOLE_0:def 1;
( cH1 /\ cH2 ) = ( {} ) by A16,XBOOLE_0:def 7;
then (not x in cH1) by A81,XBOOLE_0:def 4;
hence contradiction by A80,A79,A81,XBOOLE_0:def 3;
end;
cS = ( cH1 \/ cH2 ) by A30,CKB9:def 1;
then cH1 c= cS by XBOOLE_1:7;
then cH1 c< cS by A78,XBOOLE_0:def 8;
then A82: ( card cH1 ) < ( card cS ) by CARD_2:48;
x5 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A44,CKB9:def 1;
then (x5 in ( ( A \/ B ) \/ C ) or x5 in D) by XBOOLE_0:def 3;
then ((x5 in ( A \/ B ) or x5 in C) or x5 in D) by XBOOLE_0:def 3;
then A83: [ ( f . 2 ),( f . 1 ) ] in A by A76,A63,A57,XBOOLE_0:def 3,ZFMISC_1:87;
x1 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A48,CKB9:def 1;
then (x1 in ( ( A \/ B ) \/ C ) or x1 in D) by XBOOLE_0:def 3;
then ((x1 in ( A \/ B ) or x1 in C) or x1 in D) by XBOOLE_0:def 3;
then A84: [ ( f . ( 0 ) ),( f . 1 ) ] in A by A60,A63,A56,XBOOLE_0:def 3,ZFMISC_1:87;
(for x,y being (Element of N4) holds ([ x,y ] in (the InternalRel of N4) iff [ ( f . x ),( f . y ) ] in (the InternalRel of H1)))
proof
let x being (Element of N4);
let y being (Element of N4);
thus ([ x,y ] in (the InternalRel of N4) implies [ ( f . x ),( f . y ) ] in (the InternalRel of H1))
proof
assume A85: [ x,y ] in (the InternalRel of N4);
per cases  by A85,CKB2:1,ENUMSET1:def 4;
suppose A86: [ x,y ] = [ ( 0 ),1 ];

then x = ( 0 ) by ZFMISC_1:27;
hence thesis by A84,A86,ZFMISC_1:27;
end;
suppose A87: [ x,y ] = [ 1,( 0 ) ];

then x = 1 by ZFMISC_1:27;
hence thesis by A71,A87,ZFMISC_1:27;
end;
suppose A88: [ x,y ] = [ 1,2 ];

then x = 1 by ZFMISC_1:27;
hence thesis by A73,A88,ZFMISC_1:27;
end;
suppose A89: [ x,y ] = [ 2,1 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A83,A89,ZFMISC_1:27;
end;
suppose A90: [ x,y ] = [ 2,3 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A75,A90,ZFMISC_1:27;
end;
suppose A91: [ x,y ] = [ 3,2 ];

then x = 3 by ZFMISC_1:27;
hence thesis by A74,A91,ZFMISC_1:27;
end;
end;

thus ([ ( f . x ),( f . y ) ] in (the InternalRel of H1) implies [ x,y ] in (the InternalRel of N4))
proof
([ ( f . x ),( f . y ) ] in (the InternalRel of S) implies [ x,y ] in (the InternalRel of N4)) by A40;
then ([ ( f . x ),( f . y ) ] in ( ( ( A \/ B ) \/ C ) \/ D ) implies [ x,y ] in (the InternalRel of N4)) by A30,CKB9:def 1;
then ([ ( f . x ),( f . y ) ] in ( ( A \/ B ) \/ ( C \/ D ) ) implies [ x,y ] in (the InternalRel of N4)) by XBOOLE_1:4;
then A92: ([ ( f . x ),( f . y ) ] in ( A \/ ( B \/ ( C \/ D ) ) ) implies [ x,y ] in (the InternalRel of N4)) by XBOOLE_1:4;
assume [ ( f . x ),( f . y ) ] in (the InternalRel of H1);
hence thesis by A92,XBOOLE_0:def 3;
end;

end;
then H1 embeds N4 by A39,A67,NECKLACE:def 1;
hence thesis by A5,A17,A68,A82;
end;
suppose A93: ( f . ( 0 ) ) in (the carrier of H2);

set x1 = [ ( f . ( 0 ) ),( f . 1 ) ];
set x2 = [ ( f . 1 ),( f . 2 ) ];
set x3 = [ ( f . 2 ),( f . 3 ) ];
set x4 = [ ( f . 1 ),( f . ( 0 ) ) ];
set x5 = [ ( f . 2 ),( f . 1 ) ];
set x6 = [ ( f . 3 ),( f . 2 ) ];
A94:now
assume x1 in C;
then ( f . ( 0 ) ) in cH1 by ZFMISC_1:87;
hence contradiction by A16,A93,XBOOLE_0:3;
end;
A95:now
assume x4 in D;
then ( f . ( 0 ) ) in cH1 by ZFMISC_1:87;
hence contradiction by A16,A93,XBOOLE_0:3;
end;
A96:now
assume ( f . 3 ) in cH1;
then [ ( f . ( 0 ) ),( f . 3 ) ] in D by A93,ZFMISC_1:87;
hence contradiction by A40,A26,A34,A27,A35;
end;
then A97: ( f . 3 ) in cH2 by A47,XBOOLE_0:def 3;
A98:now
assume ( f . 1 ) in cH1;
then [ ( f . 1 ),( f . 3 ) ] in C by A97,ZFMISC_1:87;
hence contradiction by A40,A38,A34,A21,A31;
end;
A99:now
assume x4 in A;
then ( f . 1 ) in ( dom A ) by RELAT_1:6;
hence contradiction by A51,A98;
end;
x4 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A41,CKB9:def 1;
then (x4 in ( ( A \/ B ) \/ C ) or x4 in D) by XBOOLE_0:def 3;
then ((x4 in ( A \/ B ) or x4 in C) or x4 in D) by XBOOLE_0:def 3;
then A100: [ ( f . 1 ),( f . ( 0 ) ) ] in B by A99,A98,A95,XBOOLE_0:def 3,ZFMISC_1:87;
A101:now
assume x5 in A;
then ( f . 1 ) in ( rng A ) by RELAT_1:6;
hence contradiction by A37,A98;
end;
A102:now
assume ( f . 2 ) in cH1;
then [ ( f . ( 0 ) ),( f . 2 ) ] in D by A93,ZFMISC_1:87;
hence contradiction by A40,A26,A42,A23,A35;
end;
A103: ( dom f ) = (the carrier of N4) by FUNCT_2:def 1;
( rng f ) c= (the carrier of H2)
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A104: x in ( dom f ) and A105: y = ( f . x ) by FUNCT_1:def 3;
per cases  by A103,A104,CKB17:1,ENUMSET1:def 2;
suppose x = ( 0 );

hence thesis by A93,A105;
end;
suppose x = 1;

hence thesis by A50,A98,A105,XBOOLE_0:def 3;
end;
suppose x = 2;

hence thesis by A53,A102,A105,XBOOLE_0:def 3;
end;
suppose x = 3;

hence thesis by A47,A96,A105,XBOOLE_0:def 3;
end;
end;
then A106: f is (Function of (the carrier of N4),cH2) by FUNCT_2:6;
H1 is  finite by A17,CKB14:1;
then reconsider cH1 as  finite set;
A107: H2 is  strict non  empty  strict non  empty RelStr by A18,CKB14:1;
A108:now
assume x1 in A;
then ( f . ( 0 ) ) in ( dom A ) by RELAT_1:6;
hence contradiction by A16,A51,A93,XBOOLE_0:3;
end;
A109:now
assume x6 in A;
then ( f . 2 ) in ( rng A ) by RELAT_1:6;
hence contradiction by A37,A102;
end;
A110:now
assume x3 in A;
then ( f . 2 ) in ( dom A ) by RELAT_1:6;
hence contradiction by A51,A102;
end;
x6 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A43,CKB9:def 1;
then (x6 in ( ( A \/ B ) \/ C ) or x6 in D) by XBOOLE_0:def 3;
then ((x6 in ( A \/ B ) or x6 in C) or x6 in D) by XBOOLE_0:def 3;
then A111: [ ( f . 3 ),( f . 2 ) ] in B by A109,A96,A102,XBOOLE_0:def 3,ZFMISC_1:87;
A112:now
assume x2 in A;
then ( f . 2 ) in ( rng A ) by RELAT_1:6;
hence contradiction by A37,A102;
end;
x2 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A52,CKB9:def 1;
then (x2 in ( ( A \/ B ) \/ C ) or x2 in D) by XBOOLE_0:def 3;
then ((x2 in ( A \/ B ) or x2 in C) or x2 in D) by XBOOLE_0:def 3;
then A113: [ ( f . 1 ),( f . 2 ) ] in B by A112,A98,A102,XBOOLE_0:def 3,ZFMISC_1:87;
x3 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A46,CKB9:def 1;
then (x3 in ( ( A \/ B ) \/ C ) or x3 in D) by XBOOLE_0:def 3;
then ((x3 in ( A \/ B ) or x3 in C) or x3 in D) by XBOOLE_0:def 3;
then A114: [ ( f . 2 ),( f . 3 ) ] in B by A110,A102,A96,XBOOLE_0:def 3,ZFMISC_1:87;
x5 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A44,CKB9:def 1;
then (x5 in ( ( A \/ B ) \/ C ) or x5 in D) by XBOOLE_0:def 3;
then ((x5 in ( A \/ B ) or x5 in C) or x5 in D) by XBOOLE_0:def 3;
then A115: [ ( f . 2 ),( f . 1 ) ] in B by A101,A102,A98,XBOOLE_0:def 3,ZFMISC_1:87;
H2 is  finite by A18,CKB14:1;
then reconsider cH2 as  finite set;
cS = ( cH1 \/ cH2 ) by A30,CKB9:def 1;
then reconsider cS as  finite set;
A116: H1 is non  empty by A17,CKB14:1;
A117: cH2 <> cS
proof
A118: cS = ( cH1 \/ cH2 ) by A30,CKB9:def 1;
assume A119: cH2 = cS;
consider x being set such that A120: x in cH1 by A116,XBOOLE_0:def 1;
( cH1 /\ cH2 ) = ( {} ) by A16,XBOOLE_0:def 7;
then (not x in cH2) by A120,XBOOLE_0:def 4;
hence contradiction by A119,A118,A120,XBOOLE_0:def 3;
end;
cS = ( cH1 \/ cH2 ) by A30,CKB9:def 1;
then cH2 c= cS by XBOOLE_1:7;
then cH2 c< cS by A117,XBOOLE_0:def 8;
then A121: ( card cH2 ) < ( card cS ) by CARD_2:48;
x1 in ( ( ( A \/ B ) \/ C ) \/ D ) by A30,A48,CKB9:def 1;
then (x1 in ( ( A \/ B ) \/ C ) or x1 in D) by XBOOLE_0:def 3;
then ((x1 in ( A \/ B ) or x1 in C) or x1 in D) by XBOOLE_0:def 3;
then A122: [ ( f . ( 0 ) ),( f . 1 ) ] in B by A108,A94,A98,XBOOLE_0:def 3,ZFMISC_1:87;
(for x,y being (Element of N4) holds ([ x,y ] in (the InternalRel of N4) iff [ ( f . x ),( f . y ) ] in (the InternalRel of H2)))
proof
let x being (Element of N4);
let y being (Element of N4);
thus ([ x,y ] in (the InternalRel of N4) implies [ ( f . x ),( f . y ) ] in (the InternalRel of H2))
proof
assume A123: [ x,y ] in (the InternalRel of N4);
per cases  by A123,CKB2:1,ENUMSET1:def 4;
suppose A124: [ x,y ] = [ ( 0 ),1 ];

then x = ( 0 ) by ZFMISC_1:27;
hence thesis by A122,A124,ZFMISC_1:27;
end;
suppose A125: [ x,y ] = [ 1,( 0 ) ];

then x = 1 by ZFMISC_1:27;
hence thesis by A100,A125,ZFMISC_1:27;
end;
suppose A126: [ x,y ] = [ 1,2 ];

then x = 1 by ZFMISC_1:27;
hence thesis by A113,A126,ZFMISC_1:27;
end;
suppose A127: [ x,y ] = [ 2,1 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A115,A127,ZFMISC_1:27;
end;
suppose A128: [ x,y ] = [ 2,3 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A114,A128,ZFMISC_1:27;
end;
suppose A129: [ x,y ] = [ 3,2 ];

then x = 3 by ZFMISC_1:27;
hence thesis by A111,A129,ZFMISC_1:27;
end;
end;

thus ([ ( f . x ),( f . y ) ] in (the InternalRel of H2) implies [ x,y ] in (the InternalRel of N4))
proof
([ ( f . x ),( f . y ) ] in (the InternalRel of S) implies [ x,y ] in (the InternalRel of N4)) by A40;
then ([ ( f . x ),( f . y ) ] in ( ( ( A \/ B ) \/ C ) \/ D ) implies [ x,y ] in (the InternalRel of N4)) by A30,CKB9:def 1;
then ([ ( f . x ),( f . y ) ] in ( ( A \/ B ) \/ ( C \/ D ) ) implies [ x,y ] in (the InternalRel of N4)) by XBOOLE_1:4;
then A130: ([ ( f . x ),( f . y ) ] in ( B \/ ( A \/ ( C \/ D ) ) ) implies [ x,y ] in (the InternalRel of N4)) by XBOOLE_1:4;
assume [ ( f . x ),( f . y ) ] in (the InternalRel of H2);
hence thesis by A130,XBOOLE_0:def 3;
end;

end;
then H2 embeds N4 by A39,A106,NECKLACE:def 1;
hence thesis by A5,A18,A107,A121;
end;
end;
now
A131: (the carrier of N4) = { ( 0 ),1,2,3 } by NECKLACE:1,NECKLACE:20;
then A132: ( 0 ) in (the carrier of N4) by ENUMSET1:def 2;
A133: 3 in (the carrier of N4) by A131,ENUMSET1:def 2;
A134: 1 in (the carrier of N4) by A131,ENUMSET1:def 2;
A135: ( dom (the InternalRel of S) ) c= (the carrier of S) by RELAT_1:def 18;
consider f being (Function of N4,S) such that A136: f is  one-to-one and A137: (for x,y being (Element of N4) holds ([ x,y ] in (the InternalRel of N4) iff [ ( f . x ),( f . y ) ] in (the InternalRel of S))) by A6,NECKLACE:def 1;
assume A138: S = ( union_of (H1,H2) );
[ ( 0 ),1 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A139: [ ( f . ( 0 ) ),( f . 1 ) ] in (the InternalRel of S) by A137,A132,A134;
then ( f . ( 0 ) ) in ( dom (the InternalRel of S) ) by RELAT_1:6;
then ( f . ( 0 ) ) in (the carrier of S) by A135;
then A140: ( f . ( 0 ) ) in ( (the carrier of H1) \/ (the carrier of H2) ) by A138,CKB8:def 1;
A141: 2 in (the carrier of N4) by A131,ENUMSET1:def 2;
[ 3,2 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A142: [ ( f . 3 ),( f . 2 ) ] in (the InternalRel of S) by A137,A141,A133;
[ 2,3 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A143: [ ( f . 2 ),( f . 3 ) ] in (the InternalRel of S) by A137,A141,A133;
[ 2,1 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A144: [ ( f . 2 ),( f . 1 ) ] in (the InternalRel of S) by A137,A134,A141;
[ 1,2 ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A145: [ ( f . 1 ),( f . 2 ) ] in (the InternalRel of S) by A137,A134,A141;
[ 1,( 0 ) ] in (the InternalRel of N4) by CKB2:1,ENUMSET1:def 4;
then A146: [ ( f . 1 ),( f . ( 0 ) ) ] in (the InternalRel of S) by A137,A132,A134;
per cases  by A140,XBOOLE_0:def 3;
suppose A147: ( f . ( 0 ) ) in (the carrier of H1);

set cS = (the carrier of S);
set cH1 = (the carrier of H1);
set cH2 = (the carrier of H2);
A148: ( dom f ) = (the carrier of N4) by FUNCT_2:def 1;
H2 is  finite by A18,CKB14:1;
then reconsider cH2 as  finite set;
H1 is  finite by A17,CKB14:1;
then reconsider cH1 as  finite set;
A149: cS = ( cH1 \/ cH2 ) by A138,CKB8:def 1;
A150: ( dom (the InternalRel of H2) ) c= (the carrier of H2) by RELAT_1:def 18;
A151:now
assume [ ( f . ( 0 ) ),( f . 1 ) ] in (the InternalRel of H2);
then ( f . ( 0 ) ) in ( dom (the InternalRel of H2) ) by RELAT_1:6;
hence contradiction by A16,A147,A150,XBOOLE_0:3;
end;
A152: ( rng (the InternalRel of H2) ) c= (the carrier of H2) by RELAT_1:def 19;
A153:now
assume [ ( f . 1 ),( f . ( 0 ) ) ] in (the InternalRel of H2);
then ( f . ( 0 ) ) in ( rng (the InternalRel of H2) ) by RELAT_1:6;
hence contradiction by A16,A147,A152,XBOOLE_0:3;
end;
[ ( f . 1 ),( f . ( 0 ) ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A146,CKB8:def 1;
then A154: [ ( f . 1 ),( f . ( 0 ) ) ] in (the InternalRel of H1) by A153,XBOOLE_0:def 3;
A155: H1 is  strict non  empty  strict non  empty RelStr by A17,CKB14:1;
reconsider cS as  finite set by A149;
A156: ( rng (the InternalRel of H1) ) c= (the carrier of H1) by RELAT_1:def 19;
[ ( f . ( 0 ) ),( f . 1 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A139,CKB8:def 1;
then A157: [ ( f . ( 0 ) ),( f . 1 ) ] in (the InternalRel of H1) by A151,XBOOLE_0:def 3;
then A158: ( f . 1 ) in ( rng (the InternalRel of H1) ) by RELAT_1:6;
A159:now
assume [ ( f . 2 ),( f . 1 ) ] in (the InternalRel of H2);
then ( f . 1 ) in ( rng (the InternalRel of H2) ) by RELAT_1:6;
hence contradiction by A16,A156,A152,A158,XBOOLE_0:3;
end;
A160: H2 is non  empty by A18,CKB14:1;
A161: cH1 <> cS
proof
A162: cS = ( cH1 \/ cH2 ) by A138,CKB8:def 1;
assume A163: cH1 = cS;
consider x being set such that A164: x in cH2 by A160,XBOOLE_0:def 1;
( cH1 /\ cH2 ) = ( {} ) by A16,XBOOLE_0:def 7;
then (not x in cH1) by A164,XBOOLE_0:def 4;
hence contradiction by A163,A162,A164,XBOOLE_0:def 3;
end;
cS = ( cH1 \/ cH2 ) by A138,CKB8:def 1;
then cH1 c= cS by XBOOLE_1:7;
then cH1 c< cS by A161,XBOOLE_0:def 8;
then A165: ( card cH1 ) < ( card cS ) by CARD_2:48;
A166: [ ( f . 2 ),( f . 3 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A143,CKB8:def 1;
A167: [ ( f . 1 ),( f . 2 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A145,CKB8:def 1;
now
assume [ ( f . 1 ),( f . 2 ) ] in (the InternalRel of H2);
then ( f . 1 ) in ( dom (the InternalRel of H2) ) by RELAT_1:6;
hence contradiction by A16,A156,A150,A158,XBOOLE_0:3;
end;
then A168: [ ( f . 1 ),( f . 2 ) ] in (the InternalRel of H1) by A167,XBOOLE_0:def 3;
then A169: ( f . 2 ) in ( rng (the InternalRel of H1) ) by RELAT_1:6;
now
assume [ ( f . 2 ),( f . 3 ) ] in (the InternalRel of H2);
then ( f . 2 ) in ( dom (the InternalRel of H2) ) by RELAT_1:6;
hence contradiction by A16,A156,A150,A169,XBOOLE_0:3;
end;
then A170: [ ( f . 2 ),( f . 3 ) ] in (the InternalRel of H1) by A166,XBOOLE_0:def 3;
[ ( f . 2 ),( f . 1 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A144,CKB8:def 1;
then A171: [ ( f . 2 ),( f . 1 ) ] in (the InternalRel of H1) by A159,XBOOLE_0:def 3;
A172:now
assume [ ( f . 3 ),( f . 2 ) ] in (the InternalRel of H2);
then ( f . 2 ) in ( rng (the InternalRel of H2) ) by RELAT_1:6;
hence contradiction by A16,A156,A152,A169,XBOOLE_0:3;
end;
[ ( f . 3 ),( f . 2 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A142,CKB8:def 1;
then A173: [ ( f . 3 ),( f . 2 ) ] in (the InternalRel of H1) by A172,XBOOLE_0:def 3;
A174: (for x,y being (Element of N4) holds ([ x,y ] in (the InternalRel of N4) iff [ ( f . x ),( f . y ) ] in (the InternalRel of H1)))
proof
let x being (Element of N4);
let y being (Element of N4);
thus ([ x,y ] in (the InternalRel of N4) implies [ ( f . x ),( f . y ) ] in (the InternalRel of H1))
proof
assume A175: [ x,y ] in (the InternalRel of N4);
per cases  by A175,CKB2:1,ENUMSET1:def 4;
suppose A176: [ x,y ] = [ ( 0 ),1 ];

then x = ( 0 ) by ZFMISC_1:27;
hence thesis by A157,A176,ZFMISC_1:27;
end;
suppose A177: [ x,y ] = [ 1,( 0 ) ];

then x = 1 by ZFMISC_1:27;
hence thesis by A154,A177,ZFMISC_1:27;
end;
suppose A178: [ x,y ] = [ 1,2 ];

then x = 1 by ZFMISC_1:27;
hence thesis by A168,A178,ZFMISC_1:27;
end;
suppose A179: [ x,y ] = [ 2,1 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A171,A179,ZFMISC_1:27;
end;
suppose A180: [ x,y ] = [ 2,3 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A170,A180,ZFMISC_1:27;
end;
suppose A181: [ x,y ] = [ 3,2 ];

then x = 3 by ZFMISC_1:27;
hence thesis by A173,A181,ZFMISC_1:27;
end;
end;

thus ([ ( f . x ),( f . y ) ] in (the InternalRel of H1) implies [ x,y ] in (the InternalRel of N4))
proof
([ ( f . x ),( f . y ) ] in (the InternalRel of S) implies [ x,y ] in (the InternalRel of N4)) by A137;
then A182: ([ ( f . x ),( f . y ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) implies [ x,y ] in (the InternalRel of N4)) by A138,CKB8:def 1;
assume [ ( f . x ),( f . y ) ] in (the InternalRel of H1);
hence thesis by A182,XBOOLE_0:def 3;
end;

end;
A183: ( f . 3 ) in ( rng (the InternalRel of H1) ) by A170,RELAT_1:6;
( rng f ) c= (the carrier of H1)
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A184: x in ( dom f ) and A185: y = ( f . x ) by FUNCT_1:def 3;
per cases  by A148,A184,CKB17:1,ENUMSET1:def 2;
suppose x = ( 0 );

hence thesis by A147,A185;
end;
suppose x = 1;

hence thesis by A156,A158,A185;
end;
suppose x = 2;

hence thesis by A156,A169,A185;
end;
suppose x = 3;

hence thesis by A156,A183,A185;
end;
end;
then f is (Function of (the carrier of N4),(the carrier of H1)) by FUNCT_2:6;
then H1 embeds N4 by A136,A174,NECKLACE:def 1;
hence thesis by A5,A17,A155,A165;
end;
suppose A186: ( f . ( 0 ) ) in (the carrier of H2);

set cS = (the carrier of S);
set cH1 = (the carrier of H1);
set cH2 = (the carrier of H2);
A187: ( dom f ) = (the carrier of N4) by FUNCT_2:def 1;
H2 is  finite by A18,CKB14:1;
then reconsider cH2 as  finite set;
H1 is  finite by A17,CKB14:1;
then reconsider cH1 as  finite set;
A188: cS = ( cH1 \/ cH2 ) by A138,CKB8:def 1;
A189: ( dom (the InternalRel of H1) ) c= (the carrier of H1) by RELAT_1:def 18;
A190:now
assume [ ( f . ( 0 ) ),( f . 1 ) ] in (the InternalRel of H1);
then ( f . ( 0 ) ) in ( dom (the InternalRel of H1) ) by RELAT_1:6;
hence contradiction by A16,A186,A189,XBOOLE_0:3;
end;
A191: ( rng (the InternalRel of H1) ) c= (the carrier of H1) by RELAT_1:def 19;
A192:now
assume [ ( f . 1 ),( f . ( 0 ) ) ] in (the InternalRel of H1);
then ( f . ( 0 ) ) in ( rng (the InternalRel of H1) ) by RELAT_1:6;
hence contradiction by A16,A186,A191,XBOOLE_0:3;
end;
[ ( f . 1 ),( f . ( 0 ) ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A146,CKB8:def 1;
then A193: [ ( f . 1 ),( f . ( 0 ) ) ] in (the InternalRel of H2) by A192,XBOOLE_0:def 3;
A194: H2 is  strict non  empty  strict non  empty RelStr by A18,CKB14:1;
reconsider cS as  finite set by A188;
A195: ( rng (the InternalRel of H2) ) c= (the carrier of H2) by RELAT_1:def 19;
[ ( f . ( 0 ) ),( f . 1 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A139,CKB8:def 1;
then A196: [ ( f . ( 0 ) ),( f . 1 ) ] in (the InternalRel of H2) by A190,XBOOLE_0:def 3;
then A197: ( f . 1 ) in ( rng (the InternalRel of H2) ) by RELAT_1:6;
A198:now
assume [ ( f . 2 ),( f . 1 ) ] in (the InternalRel of H1);
then ( f . 1 ) in ( rng (the InternalRel of H1) ) by RELAT_1:6;
hence contradiction by A16,A195,A191,A197,XBOOLE_0:3;
end;
A199: H1 is non  empty by A17,CKB14:1;
A200: cH2 <> cS
proof
A201: cS = ( cH1 \/ cH2 ) by A138,CKB8:def 1;
assume A202: cH2 = cS;
consider x being set such that A203: x in cH1 by A199,XBOOLE_0:def 1;
( cH1 /\ cH2 ) = ( {} ) by A16,XBOOLE_0:def 7;
then (not x in cH2) by A203,XBOOLE_0:def 4;
hence contradiction by A202,A201,A203,XBOOLE_0:def 3;
end;
cS = ( cH1 \/ cH2 ) by A138,CKB8:def 1;
then cH2 c= cS by XBOOLE_1:7;
then cH2 c< cS by A200,XBOOLE_0:def 8;
then A204: ( card cH2 ) < ( card cS ) by CARD_2:48;
A205: [ ( f . 2 ),( f . 3 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A143,CKB8:def 1;
A206: [ ( f . 1 ),( f . 2 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A145,CKB8:def 1;
now
assume [ ( f . 1 ),( f . 2 ) ] in (the InternalRel of H1);
then ( f . 1 ) in ( dom (the InternalRel of H1) ) by RELAT_1:6;
hence contradiction by A16,A195,A189,A197,XBOOLE_0:3;
end;
then A207: [ ( f . 1 ),( f . 2 ) ] in (the InternalRel of H2) by A206,XBOOLE_0:def 3;
then A208: ( f . 2 ) in ( rng (the InternalRel of H2) ) by RELAT_1:6;
now
assume [ ( f . 2 ),( f . 3 ) ] in (the InternalRel of H1);
then ( f . 2 ) in ( dom (the InternalRel of H1) ) by RELAT_1:6;
hence contradiction by A16,A195,A189,A208,XBOOLE_0:3;
end;
then A209: [ ( f . 2 ),( f . 3 ) ] in (the InternalRel of H2) by A205,XBOOLE_0:def 3;
[ ( f . 2 ),( f . 1 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A144,CKB8:def 1;
then A210: [ ( f . 2 ),( f . 1 ) ] in (the InternalRel of H2) by A198,XBOOLE_0:def 3;
A211:now
assume [ ( f . 3 ),( f . 2 ) ] in (the InternalRel of H1);
then ( f . 2 ) in ( rng (the InternalRel of H1) ) by RELAT_1:6;
hence contradiction by A16,A195,A191,A208,XBOOLE_0:3;
end;
[ ( f . 3 ),( f . 2 ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) by A138,A142,CKB8:def 1;
then A212: [ ( f . 3 ),( f . 2 ) ] in (the InternalRel of H2) by A211,XBOOLE_0:def 3;
A213: (for x,y being (Element of N4) holds ([ x,y ] in (the InternalRel of N4) iff [ ( f . x ),( f . y ) ] in (the InternalRel of H2)))
proof
let x being (Element of N4);
let y being (Element of N4);
thus ([ x,y ] in (the InternalRel of N4) implies [ ( f . x ),( f . y ) ] in (the InternalRel of H2))
proof
assume A214: [ x,y ] in (the InternalRel of N4);
per cases  by A214,CKB2:1,ENUMSET1:def 4;
suppose A215: [ x,y ] = [ ( 0 ),1 ];

then x = ( 0 ) by ZFMISC_1:27;
hence thesis by A196,A215,ZFMISC_1:27;
end;
suppose A216: [ x,y ] = [ 1,( 0 ) ];

then x = 1 by ZFMISC_1:27;
hence thesis by A193,A216,ZFMISC_1:27;
end;
suppose A217: [ x,y ] = [ 1,2 ];

then x = 1 by ZFMISC_1:27;
hence thesis by A207,A217,ZFMISC_1:27;
end;
suppose A218: [ x,y ] = [ 2,1 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A210,A218,ZFMISC_1:27;
end;
suppose A219: [ x,y ] = [ 2,3 ];

then x = 2 by ZFMISC_1:27;
hence thesis by A209,A219,ZFMISC_1:27;
end;
suppose A220: [ x,y ] = [ 3,2 ];

then x = 3 by ZFMISC_1:27;
hence thesis by A212,A220,ZFMISC_1:27;
end;
end;

thus ([ ( f . x ),( f . y ) ] in (the InternalRel of H2) implies [ x,y ] in (the InternalRel of N4))
proof
([ ( f . x ),( f . y ) ] in (the InternalRel of S) implies [ x,y ] in (the InternalRel of N4)) by A137;
then A221: ([ ( f . x ),( f . y ) ] in ( (the InternalRel of H1) \/ (the InternalRel of H2) ) implies [ x,y ] in (the InternalRel of N4)) by A138,CKB8:def 1;
assume [ ( f . x ),( f . y ) ] in (the InternalRel of H2);
hence thesis by A221,XBOOLE_0:def 3;
end;

end;
A222: ( f . 3 ) in ( rng (the InternalRel of H2) ) by A209,RELAT_1:6;
( rng f ) c= (the carrier of H2)
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A223: x in ( dom f ) and A224: y = ( f . x ) by FUNCT_1:def 3;
per cases  by A187,A223,CKB17:1,ENUMSET1:def 2;
suppose x = ( 0 );

hence thesis by A186,A224;
end;
suppose x = 1;

hence thesis by A195,A197,A224;
end;
suppose x = 2;

hence thesis by A195,A208,A224;
end;
suppose x = 3;

hence thesis by A195,A222,A224;
end;
end;
then f is (Function of (the carrier of N4),(the carrier of H2)) by FUNCT_2:6;
then H2 embeds N4 by A136,A213,NECKLACE:def 1;
hence thesis by A5,A18,A194,A204;
end;
end;
hence thesis by A19,A20;
end;
end;
assume R embeds N4;
then P[ k ] by A1;
then A225: (ex i being Nat st P[ i ]);
P[ ( 0 ) ] from NAT_1:sch 7(A225,A2);
hence thesis;
end;
