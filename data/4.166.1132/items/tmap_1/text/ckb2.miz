environ
vocabularies XBOOLE_0,PRE_TOPC,TARSKI,SUBSET_1,FUNCT_1,RELAT_1,FUNCT_4,STRUCT_0,RCOMP_1,SETFAM_1,CONNSP_2,ORDINAL2,FUNCOP_1,FUNCT_3,ZFMISC_1,TSEP_1,CONNSP_1,TMAP_1,PARTFUN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_4,FUNCOP_1,DOMAIN_1,STRUCT_0,PRE_TOPC,CONNSP_1,CONNSP_2,BORSUK_1,TSEP_1;
definitions PRE_TOPC,BORSUK_1,XBOOLE_0,STRUCT_0,RELAT_1;
theorems TARSKI,SUBSET_1,FUNCT_1,FUNCT_2,FUNCT_4,ZFMISC_1,PRE_TOPC,CONNSP_2,TOPS_1,TOPS_2,BORSUK_1,TSEP_1,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,CONNSP_1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,FUNCT_2,STRUCT_0,PRE_TOPC,BORSUK_1,TSEP_1,RELSET_1,RELAT_1,PARTFUN1,TOPS_1,CKB1;
constructors SETFAM_1,FUNCT_4,CONNSP_1,BORSUK_1,TSEP_1,FUNCOP_1;
requirements BOOLE,SUBSET;
begin
definition
let A being non empty set;
let B being non empty set;
let A1 being non empty (Subset of A);
let A2 being non empty (Subset of A);
let f1 being (Function of A1,B);
let f2 being (Function of A2,B);
assume A1: ( f1 | ( A1 /\ A2 ) ) = ( f2 | ( A1 /\ A2 ) );
func f1 union f2 -> (Function of ( A1 \/ A2 ),B)
means
:Def1: (( it | A1 ) = f1 & ( it | A2 ) = f2);
existence
proof
reconsider A0 = ( A1 \/ A2 ) as non empty (Subset of A);
set G = ( f2 +* f1 );
set H = ( f1 +* f2 );
( rng H ) c= ( ( rng f1 ) \/ ( rng f2 ) ) by FUNCT_4:17;
then A2: ( rng H ) c= B by XBOOLE_1:1;
( rng G ) c= ( ( rng f2 ) \/ ( rng f1 ) ) by FUNCT_4:17;
then A3: ( rng G ) c= B by XBOOLE_1:1;
A4: (( dom f1 ) = A1 & ( dom f2 ) = A2) by FUNCT_2:def 1;
then ( dom H ) = ( A1 \/ A2 ) by FUNCT_4:def 1;
then reconsider F0 = H as (Function of ( A1 \/ A2 ),B) by A2,FUNCT_2:def 1,RELSET_1:4;
( dom G ) = ( A1 \/ A2 ) by A4,FUNCT_4:def 1;
then reconsider F1 = G as (Function of ( A1 \/ A2 ),B) by A3,FUNCT_2:def 1,RELSET_1:4;
take F0;
A5:now
let a being (Element of A0);
thus (a in A2 implies ( H . a ) = ( f2 . a )) by A4,FUNCT_4:def 1;
thus (a in ( A1 \ A2 ) implies ( H . a ) = ( f1 . a ))
proof
assume a in ( A1 \ A2 );
then (not a in A2) by XBOOLE_0:def 5;
hence thesis by A4,FUNCT_4:def 1;
end;

end;
A6:now
let a being (Element of A0);
thus (a in A1 implies ( G . a ) = ( f1 . a )) by A4,FUNCT_4:def 1;
thus (a in ( A2 \ A1 ) implies ( G . a ) = ( f2 . a ))
proof
assume a in ( A2 \ A1 );
then (not a in A1) by XBOOLE_0:def 5;
hence thesis by A4,FUNCT_4:def 1;
end;

end;
A7:now
let a being (Element of A0);
A8:now
assume A9: a in ( A1 /\ A2 );
then A10: a in A1 by XBOOLE_0:def 4;
a in A2 by A9,XBOOLE_0:def 4;
then A11: ( F0 . a ) = ( f2 . a ) by A5;
( f1 . a ) = ( ( f2 | ( A1 /\ A2 ) ) . a ) by A1,A9,FUNCT_1:49
.= ( f2 . a ) by A9,FUNCT_1:49;
hence ( F0 . a ) = ( F1 . a ) by A6,A10,A11;
end;
A12:now
A13:now
assume A14: a in ( A2 \ A1 );
( A2 \ A1 ) c= A2 by XBOOLE_1:36;
hence ( F0 . a ) = ( f2 . a ) by A5,A14
.= ( F1 . a ) by A6,A14;
end;
A15:now
A16: ( A1 \ A2 ) c= A1 by XBOOLE_1:36;
assume A17: a in ( A1 \ A2 );
hence ( F0 . a ) = ( f1 . a ) by A5
.= ( F1 . a ) by A6,A17,A16;
end;
assume a in ( A1 \+\ A2 );
hence ( F0 . a ) = ( F1 . a ) by A15,A13,XBOOLE_0:def 3;
end;
A0 = ( ( A1 \+\ A2 ) \/ ( A1 /\ A2 ) ) by XBOOLE_1:93;
hence ( F0 . a ) = ( F1 . a ) by A12,A8,XBOOLE_0:def 3;
end;
now
thus A1 is non empty non empty (Subset of A0) by XBOOLE_1:7;
let a being (Element of A0);
assume that
A18: a in A1;
thus ( F0 . a ) = ( F1 . a ) by A7
.= ( f1 . a ) by A6,A18;
end;
hence ( F0 | A1 ) = f1 by FUNCT_2:96;
A2 is non empty non empty (Subset of A0) by XBOOLE_1:7;
hence thesis by A5,FUNCT_2:96;
end;
uniqueness
proof
reconsider A0 = ( A1 \/ A2 ) as non empty (Subset of A);
let F being (Function of ( A1 \/ A2 ),B),G being (Function of ( A1 \/ A2 ),B);
assume that
A19: ( F | A1 ) = f1
and
A20: ( F | A2 ) = f2
and
A21: ( G | A1 ) = f1
and
A22: ( G | A2 ) = f2;
now
let a being (Element of A0);
A23:now
assume A24: a in A2;
hence ( F . a ) = ( ( G | A2 ) . a ) by A20,A22,FUNCT_1:49
.= ( G . a ) by A24,FUNCT_1:49;
end;
now
assume A25: a in A1;
hence ( F . a ) = ( ( G | A1 ) . a ) by A19,A21,FUNCT_1:49
.= ( G . a ) by A25,FUNCT_1:49;
end;
hence ( F . a ) = ( G . a ) by A23,XBOOLE_0:def 3;
end;
hence thesis by FUNCT_2:63;
end;
end;
