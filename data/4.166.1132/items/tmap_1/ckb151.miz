environ
vocabularies XBOOLE_0,PRE_TOPC,TARSKI,SUBSET_1,FUNCT_1,RELAT_1,FUNCT_4,STRUCT_0,RCOMP_1,SETFAM_1,CONNSP_2,ORDINAL2,FUNCOP_1,FUNCT_3,ZFMISC_1,TSEP_1,CONNSP_1,TMAP_1,PARTFUN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_4,FUNCOP_1,DOMAIN_1,STRUCT_0,PRE_TOPC,CONNSP_1,CONNSP_2,BORSUK_1,TSEP_1,CKB2,CKB44,CKB45,CKB58,CKB59,CKB73,CKB94,CKB95,CKB100,CKB106,CKB111,CKB118,CKB123,CKB145;
definitions PRE_TOPC,BORSUK_1,XBOOLE_0,STRUCT_0,RELAT_1,CKB2,CKB44,CKB58,CKB59,CKB73,CKB94,CKB100,CKB106,CKB111,CKB118,CKB123,CKB145;
theorems TARSKI,SUBSET_1,FUNCT_1,FUNCT_2,FUNCT_4,ZFMISC_1,PRE_TOPC,CONNSP_2,TOPS_1,TOPS_2,BORSUK_1,TSEP_1,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,CONNSP_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB94,CKB96,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB103,CKB104,CKB105,CKB106,CKB108,CKB109,CKB110,CKB111,CKB112,CKB113,CKB114,CKB115,CKB116,CKB117,CKB118,CKB120,CKB121,CKB122,CKB123,CKB124,CKB125,CKB126,CKB127,CKB128,CKB129,CKB130,CKB131,CKB132,CKB133,CKB134,CKB135,CKB136,CKB137,CKB138,CKB139,CKB140,CKB141,CKB142,CKB143,CKB144,CKB145,CKB146,CKB147,CKB148,CKB149,CKB150;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,FUNCT_2,STRUCT_0,PRE_TOPC,BORSUK_1,TSEP_1,RELSET_1,RELAT_1,PARTFUN1,TOPS_1,CKB1,CKB69,CKB93,CKB107,CKB119;
constructors SETFAM_1,FUNCT_4,CONNSP_1,BORSUK_1,TSEP_1,FUNCOP_1,CKB2,CKB44,CKB58,CKB73,CKB94,CKB100,CKB106,CKB111,CKB118,CKB123,CKB145;
requirements BOOLE,SUBSET;
begin
reserve X for non empty TopSpace;
reserve Y for non empty TopSpace;
theorem
(for X1,X2,X3 being non empty (SubSpace of X) holds (for f1 being (Function of X1,Y) holds (for f2 being (Function of X2,Y) holds (for f3 being (Function of X3,Y) holds ((((X1 misses X2 or ( f1 | ( X1 meet X2 ) ) = ( f2 | ( X1 meet X2 ) )) & (X1 misses X3 or ( f1 | ( X1 meet X3 ) ) = ( f3 | ( X1 meet X3 ) ))) & (X2 misses X3 or ( f2 | ( X2 meet X3 ) ) = ( f3 | ( X2 meet X3 ) ))) implies ( ( f1 union f2 ) union f3 ) = ( f1 union ( f2 union f3 ) ))))))
proof
let X1 being non empty (SubSpace of X),X2 being non empty (SubSpace of X),X3 being non empty (SubSpace of X);
let f1 being (Function of X1,Y);
let f2 being (Function of X2,Y);
let f3 being (Function of X3,Y);
assume that
A1: (X1 misses X2 or ( f1 | ( X1 meet X2 ) ) = ( f2 | ( X1 meet X2 ) ))
and
A2: (X1 misses X3 or ( f1 | ( X1 meet X3 ) ) = ( f3 | ( X1 meet X3 ) ))
and
A3: (X2 misses X3 or ( f2 | ( X2 meet X3 ) ) = ( f3 | ( X2 meet X3 ) ));
set g = ( ( f1 union f2 ) union f3 );
A4: ( ( X1 union X2 ) union X3 ) = ( X1 union ( X2 union X3 ) ) by TSEP_1:21;
then reconsider f = g as (Function of ( X1 union ( X2 union X3 ) ),Y);
A5: ( X1 union X2 ) is (SubSpace of ( X1 union ( X2 union X3 ) )) by A4,TSEP_1:22;
A6:now
assume A7: ( X1 union X2 ) meets X3;
now
per cases  by A7,CKB36:1;
suppose A8: (X1 meets X3 & (not X2 meets X3));

then A9: ( ( X1 union X2 ) meet X3 ) = ( X1 meet X3 ) by CKB28:1;
A10: X1 is (SubSpace of ( X1 union X2 )) by TSEP_1:22;
( X1 meet X3 ) is (SubSpace of X1) by A8,TSEP_1:27;
then ( ( f1 union f2 ) | ( X1 meet X3 ) ) = ( ( ( f1 union f2 ) | X1 ) | ( X1 meet X3 ) ) by A10,CKB81:1
.= ( f1 | ( X1 meet X3 ) ) by A1,CKB145:def 1;
hence ( ( f1 union f2 ) | ( ( X1 union X2 ) meet X3 ) ) = ( f3 | ( ( X1 union X2 ) meet X3 ) ) by A2,A8,A9;
end;
suppose A11: ((not X1 meets X3) & X2 meets X3);

then A12: ( ( X1 union X2 ) meet X3 ) = ( X2 meet X3 ) by CKB28:1;
A13: X2 is (SubSpace of ( X1 union X2 )) by TSEP_1:22;
( X2 meet X3 ) is (SubSpace of X2) by A11,TSEP_1:27;
then ( ( f1 union f2 ) | ( X2 meet X3 ) ) = ( ( ( f1 union f2 ) | X2 ) | ( X2 meet X3 ) ) by A13,CKB81:1
.= ( f2 | ( X2 meet X3 ) ) by A1,CKB145:def 1;
hence ( ( f1 union f2 ) | ( ( X1 union X2 ) meet X3 ) ) = ( f3 | ( ( X1 union X2 ) meet X3 ) ) by A3,A11,A12;
end;
suppose A14: (X1 meets X3 & X2 meets X3);

then (( X1 meet X3 ) is (SubSpace of X3) & ( X2 meet X3 ) is (SubSpace of X3)) by TSEP_1:27;
then A15: ( ( X1 meet X3 ) union ( X2 meet X3 ) ) is (SubSpace of X3) by CKB26:1;
A16: ( X2 meet X3 ) is (SubSpace of X2) by A14,TSEP_1:27;
A17: ( X1 meet X3 ) is (SubSpace of ( ( X1 meet X3 ) union ( X2 meet X3 ) )) by TSEP_1:22;
then A18: ( ( f3 | ( ( X1 meet X3 ) union ( X2 meet X3 ) ) ) | ( X1 meet X3 ) ) = ( f3 | ( X1 meet X3 ) ) by A15,CKB81:1;
A19: ( X1 meet X3 ) is (SubSpace of X1) by A14,TSEP_1:27;
then A20: ( ( X1 meet X3 ) union ( X2 meet X3 ) ) is (SubSpace of ( X1 union X2 )) by A16,CKB24:1;
then A21: ( ( ( f1 union f2 ) | ( ( X1 meet X3 ) union ( X2 meet X3 ) ) ) | ( X1 meet X3 ) ) = ( ( f1 union f2 ) | ( X1 meet X3 ) ) by A17,CKB81:1;
X2 is (SubSpace of ( X1 union X2 )) by TSEP_1:22;
then A22: ( ( f1 union f2 ) | ( X2 meet X3 ) ) = ( ( ( f1 union f2 ) | X2 ) | ( X2 meet X3 ) ) by A16,CKB81:1
.= ( f2 | ( X2 meet X3 ) ) by A1,CKB145:def 1;
set v = ( f3 | ( ( X1 meet X3 ) union ( X2 meet X3 ) ) );
A23: ( X2 meet X3 ) is (SubSpace of ( ( X1 meet X3 ) union ( X2 meet X3 ) )) by TSEP_1:22;
then A24: ( ( f3 | ( ( X1 meet X3 ) union ( X2 meet X3 ) ) ) | ( X2 meet X3 ) ) = ( f3 | ( X2 meet X3 ) ) by A15,CKB81:1;
X1 is (SubSpace of ( X1 union X2 )) by TSEP_1:22;
then A25: ( ( f1 union f2 ) | ( X1 meet X3 ) ) = ( ( ( f1 union f2 ) | X1 ) | ( X1 meet X3 ) ) by A19,CKB81:1
.= ( f1 | ( X1 meet X3 ) ) by A1,CKB145:def 1;
A26: ( ( ( f1 union f2 ) | ( ( X1 meet X3 ) union ( X2 meet X3 ) ) ) | ( X2 meet X3 ) ) = ( ( f1 union f2 ) | ( X2 meet X3 ) ) by A20,A23,CKB81:1;
( ( f1 union f2 ) | ( ( X1 union X2 ) meet X3 ) ) = ( ( f1 union f2 ) | ( ( X1 meet X3 ) union ( X2 meet X3 ) ) ) by A14,TSEP_1:32
.= ( ( v | ( X1 meet X3 ) ) union ( v | ( X2 meet X3 ) ) ) by A2,A3,A14,A25,A22,A21,A26,A18,A24,CKB146:1
.= v by CKB146:1;
hence ( ( f1 union f2 ) | ( ( X1 union X2 ) meet X3 ) ) = ( f3 | ( ( X1 union X2 ) meet X3 ) ) by A14,TSEP_1:32;
end;
end;
hence ( ( f1 union f2 ) | ( ( X1 union X2 ) meet X3 ) ) = ( f3 | ( ( X1 union X2 ) meet X3 ) );
end;
then (( X1 union X2 ) is (SubSpace of ( ( X1 union X2 ) union X3 )) & ( g | ( X1 union X2 ) ) = ( f1 union f2 )) by CKB145:def 1,TSEP_1:22;
then A27: ( f | (the carrier of ( X1 union X2 )) ) = ( f1 union f2 ) by CKB73:def 1;
A28: X3 is (SubSpace of ( X1 union ( X2 union X3 ) )) by A4,TSEP_1:22;
A29: ( X2 union X3 ) is (SubSpace of ( X1 union ( X2 union X3 ) )) by TSEP_1:22;
(X3 is (SubSpace of ( ( X1 union X2 ) union X3 )) & ( g | X3 ) = f3) by A6,CKB145:def 1,TSEP_1:22;
then A30: ( f | (the carrier of X3) ) = f3 by CKB73:def 1;
A31: ( X1 union X2 ) is (SubSpace of ( X1 union ( X2 union X3 ) )) by A4,TSEP_1:22;
X3 is (SubSpace of ( X2 union X3 )) by TSEP_1:22;
then A32: ( ( f | ( X2 union X3 ) ) | X3 ) = ( f | X3 ) by A29,CKB81:1
.= f3 by A28,A30,CKB73:def 1;
X2 is (SubSpace of ( X1 union X2 )) by TSEP_1:22;
then A33: ( f | X2 ) = ( ( f | ( X1 union X2 ) ) | X2 ) by A31,CKB81:1
.= ( ( f1 union f2 ) | X2 ) by A5,A27,CKB73:def 1;
X2 is (SubSpace of ( X2 union X3 )) by TSEP_1:22;
then ( ( f | ( X2 union X3 ) ) | X2 ) = ( f | X2 ) by A29,CKB81:1
.= f2 by A1,A33,CKB145:def 1;
then A34: ( f | ( X2 union X3 ) ) = ( f2 union f3 ) by A32,CKB146:1;
X1 is (SubSpace of ( X1 union X2 )) by TSEP_1:22;
then ( f | X1 ) = ( ( f | ( X1 union X2 ) ) | X1 ) by A31,CKB81:1
.= ( ( f1 union f2 ) | X1 ) by A5,A27,CKB73:def 1;
then ( f | X1 ) = f1 by A1,CKB145:def 1;
hence thesis by A34,CKB146:1;
end;
