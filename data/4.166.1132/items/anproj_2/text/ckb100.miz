environ
vocabularies RLVECT_1,SUBSET_1,REAL_1,RELAT_1,ARYTM_3,SUPINF_2,CARD_1,XCMPLX_0,ANPROJ_1,ARYTM_1,XBOOLE_0,FUNCT_2,NUMBERS,FUNCT_1,FUNCSDOM,ZFMISC_1,INCSP_1,COLLSP,RELAT_2,PARSP_2,VECTSP_1,AFF_2,ANALOAF,ANPROJ_2;
notations XBOOLE_0,SUBSET_1,NUMBERS,FUNCT_1,FUNCT_2,DOMAIN_1,STRUCT_0,RLVECT_1,REAL_1,FUNCSDOM,COLLSP,ANPROJ_1,CKB13,CKB14,CKB15,CKB27,CKB28,CKB59,CKB62,CKB63,CKB64,CKB65,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87;
definitions COLLSP,ANPROJ_1,BINOP_1,FUNCSDOM,RLVECT_1,STRUCT_0,ALGSTR_0,CKB13,CKB14,CKB15,CKB27,CKB28,CKB59,CKB62,CKB63,CKB64,CKB65,CKB82,CKB83,CKB84,CKB85,CKB87;
theorems RLVECT_1,FUNCT_2,FUNCSDOM,COLLSP,ANPROJ_1,ENUMSET1,XCMPLX_0,XCMPLX_1,FUNCOP_1,STRUCT_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB70,CKB71,CKB72,CKB73,CKB75,CKB77,CKB78,CKB82,CKB83,CKB84,CKB85,CKB87,CKB88,CKB89,CKB90,CKB91,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98,CKB99;
schemes FUNCT_2;
registrations XBOOLE_0,SUBSET_1,RELSET_1,NUMBERS,STRUCT_0,COLLSP,REAL_1,ANPROJ_1,XREAL_0,ORDINAL1,CKB60,CKB61,CKB69,CKB74,CKB76,CKB79,CKB80,CKB92;
constructors DOMAIN_1,REAL_1,FUNCSDOM,BINOP_2,ANPROJ_1,RELSET_1,CKB13,CKB14,CKB15,CKB27,CKB28,CKB59,CKB64,CKB65,CKB82,CKB83,CKB84,CKB85,CKB87;
requirements NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve V for non trivial RealLinearSpace;
reserve p for (Element of ( ProjectiveSpace V ));
reserve p1 for (Element of ( ProjectiveSpace V ));
reserve p2 for (Element of ( ProjectiveSpace V ));
reserve p3 for (Element of ( ProjectiveSpace V ));
reserve q for (Element of ( ProjectiveSpace V ));
reserve q1 for (Element of ( ProjectiveSpace V ));
reserve q2 for (Element of ( ProjectiveSpace V ));
reserve q3 for (Element of ( ProjectiveSpace V ));
reserve r for (Element of ( ProjectiveSpace V ));
reserve r1 for (Element of ( ProjectiveSpace V ));
reserve r2 for (Element of ( ProjectiveSpace V ));
reserve r3 for (Element of ( ProjectiveSpace V ));
reserve x for (Element of ( ProjectiveSpace V ));
reserve z for (Element of ( ProjectiveSpace V ));
reserve x1 for (Element of ( ProjectiveSpace V ));
reserve y1 for (Element of ( ProjectiveSpace V ));
reserve z1 for (Element of ( ProjectiveSpace V ));
reserve x2 for (Element of ( ProjectiveSpace V ));
reserve x3 for (Element of ( ProjectiveSpace V ));
reserve y2 for (Element of ( ProjectiveSpace V ));
reserve z2 for (Element of ( ProjectiveSpace V ));
reserve p4 for (Element of ( ProjectiveSpace V ));
reserve q4 for (Element of ( ProjectiveSpace V ));
theorem
Th33: ((( ProjectiveSpace V ) is  proper  at_least_3rank & (ex p st (ex q1 st (ex q2 st ((not p,q1,q2 is_collinear ) & (for r1 holds (for r2 holds (ex q3 st (ex r3 st ((r1,r2,r3 is_collinear  & q1,q2,q3 is_collinear ) & p,r3,q3 is_collinear )))))))))) implies (ex CS being CollProjectiveSpace st (CS = ( ProjectiveSpace V ) & CS is  at_most-3-dimensional)))
proof
assume that
A1: ( ProjectiveSpace V ) is  proper
and
A2: (for p holds (for q holds (ex r st ((p <> r & q <> r) & p,q,r is_collinear ))));
defpred P[ (Element of ( ProjectiveSpace V )),(Element of ( ProjectiveSpace V )),(Element of ( ProjectiveSpace V )) ]
 means
(for y1 holds (for y2 holds (ex x2 st (ex x1 st ((y1,y2,x1 is_collinear  & $2,$3,x2 is_collinear ) & $1,x1,x2 is_collinear )))));
A3: (for p holds (for q1 holds (for q2 holds (q1,q2,p is_collinear  implies P[ p,q1,q2 ]))))
proof
let p;
let q1;
let q2;
assume that
A4: q1,q2,p is_collinear ;
now
let y1;
let y2;
(y1,y2,y2 is_collinear  & p,y2,p is_collinear ) by CKB62:def 1;
hence (ex x2 st (ex x1 st ((y1,y2,x1 is_collinear  & q1,q2,x2 is_collinear ) & p,x1,x2 is_collinear ))) by A4;
end;
hence thesis;
end;
A5: (for q holds (for q1 holds (for q2 holds (for p1 holds (for p2 holds (for x holds (((((P[ q,q1,q2 ] & (not q1,q2,q is_collinear )) & q1,q2,x is_collinear ) & (not p1,p2,q is_collinear )) & p1,p2,x is_collinear ) implies P[ q,p1,p2 ])))))))
proof
let q;
let q1;
let q2;
let p1;
let p2;
let x;
assume that
A6: P[ q,q1,q2 ]
and
A7: (not q1,q2,q is_collinear )
and
A8: q1,q2,x is_collinear 
and
A9: (not p1,p2,q is_collinear )
and
A10: p1,p2,x is_collinear ;
A11: q1 <> q2 by A7,CKB62:def 1;
A12: p1 <> p2 by A9,CKB62:def 1;
now
let y1;
let y2;
A13:now
(ex a being (Element of ( ProjectiveSpace V )) st (p1,p2,a is_collinear  & x <> a))
proof
A14:now
assume A15: x <> p2;
take p2;
p1,p2,p2 is_collinear  by CKB62:def 1;
hence thesis by A15;
end;
now
assume A16: x <> p1;
take p1;
p1,p2,p1 is_collinear  by CKB62:def 1;
hence thesis by A16;
end;
hence thesis by A9,A14,CKB62:def 1;
end;
then consider x1 such that A17: p1,p2,x1 is_collinear  and A18: x <> x1;
consider b being (Element of ( ProjectiveSpace V )),b9 being (Element of ( ProjectiveSpace V )) such that A19: y1,y2,b9 is_collinear  and A20: q1,q2,b is_collinear  and A21: q,b9,b is_collinear  by A6;
assume A22: y1 <> y2;
(ex a being (Element of ( ProjectiveSpace V )) st (y1,y2,a is_collinear  & b9 <> a))
proof
A23:now
assume A24: b9 <> y2;
take y2;
y1,y2,y2 is_collinear  by CKB62:def 1;
hence thesis by A24;
end;
now
assume A25: b9 <> y1;
take y1;
y1,y2,y1 is_collinear  by CKB62:def 1;
hence thesis by A25;
end;
hence thesis by A22,A23;
end;
then consider x3 such that A26: b9 <> x3 and A27: y1,y2,x3 is_collinear ;
consider d being (Element of ( ProjectiveSpace V )),d9 being (Element of ( ProjectiveSpace V )) such that A28: x1,x3,d9 is_collinear  and A29: q1,q2,d is_collinear  and A30: q,d9,d is_collinear  by A6;
A31: b,d,x is_collinear  by A8,A11,A20,A29,CKB63:def 1;
A32:now
assume A33: b <> d;
(not q,b,d is_collinear )
proof
q1,q2,q2 is_collinear  by CKB62:def 1;
then A34: b,d,q2 is_collinear  by A11,A20,A29,CKB63:def 1;
assume (not thesis);
then A35: b,d,q is_collinear  by CKB70:1;
q1,q2,q1 is_collinear  by CKB62:def 1;
then b,d,q1 is_collinear  by A11,A20,A29,CKB63:def 1;
hence contradiction by A7,A33,A35,A34,CKB63:def 1;
end;
then consider o being (Element of ( ProjectiveSpace V )) such that A36: b9,d9,o is_collinear  and A37: q,x,o is_collinear  by A21,A30,A31,CKB99:1;
A38: o,x,q is_collinear  by A37,CKB70:1;
d9,x3,x1 is_collinear  by A28,CKB70:1;
then consider z1 such that A39: b9,x3,z1 is_collinear  and A40: o,x1,z1 is_collinear  by A36,CKB64:def 1;
x1,o,z1 is_collinear  by A40,CKB70:1;
then consider z2 such that A41: x1,x,z2 is_collinear  and A42: z1,q,z2 is_collinear  by A38,CKB64:def 1;
A43: q,z1,z2 is_collinear  by A42,CKB70:1;
p1,p2,p2 is_collinear  by CKB62:def 1;
then A44: x1,x,p2 is_collinear  by A10,A12,A17,CKB63:def 1;
y1,y2,y2 is_collinear  by CKB62:def 1;
then A45: b9,x3,y2 is_collinear  by A22,A19,A27,CKB63:def 1;
p1,p2,p1 is_collinear  by CKB62:def 1;
then x1,x,p1 is_collinear  by A10,A12,A17,CKB63:def 1;
then A46: p1,p2,z2 is_collinear  by A18,A41,A44,CKB63:def 1;
y1,y2,y1 is_collinear  by CKB62:def 1;
then b9,x3,y1 is_collinear  by A22,A19,A27,CKB63:def 1;
then y1,y2,z1 is_collinear  by A26,A39,A45,CKB63:def 1;
hence (ex z2 st (ex z1 st ((y1,y2,z1 is_collinear  & p1,p2,z2 is_collinear ) & q,z1,z2 is_collinear ))) by A46,A43;
end;
now
assume b = d;
then A47: b,q,d9 is_collinear  by A30,CKB70:1;
y1,y2,y2 is_collinear  by CKB62:def 1;
then A48: b9,x3,y2 is_collinear  by A22,A19,A27,CKB63:def 1;
A49: d9,x3,x1 is_collinear  by A28,CKB70:1;
(b,q,b9 is_collinear  & b,q,q is_collinear ) by A21,CKB62:def 1,CKB70:1;
then b9,d9,q is_collinear  by A7,A20,A47,CKB63:def 1;
then consider z1 such that A50: b9,x3,z1 is_collinear  and A51: q,x1,z1 is_collinear  by A49,CKB64:def 1;
A52: q,z1,x1 is_collinear  by A51,CKB70:1;
y1,y2,y1 is_collinear  by CKB62:def 1;
then b9,x3,y1 is_collinear  by A22,A19,A27,CKB63:def 1;
then y1,y2,z1 is_collinear  by A26,A50,A48,CKB63:def 1;
hence (ex z2 st (ex z1 st ((y1,y2,z1 is_collinear  & p1,p2,z2 is_collinear ) & q,z1,z2 is_collinear ))) by A17,A52;
end;
hence (ex z2 st (ex z1 st ((y1,y2,z1 is_collinear  & p1,p2,z2 is_collinear ) & q,z1,z2 is_collinear ))) by A32;
end;
now
assume y1 = y2;
then A53: y1,y2,q is_collinear  by CKB62:def 1;
(p1,p2,p1 is_collinear  & q,q,p1 is_collinear ) by CKB62:def 1;
hence (ex z2 st (ex z1 st ((y1,y2,z1 is_collinear  & p1,p2,z2 is_collinear ) & q,z1,z2 is_collinear ))) by A53;
end;
hence (ex z2 st (ex z1 st ((y1,y2,z1 is_collinear  & p1,p2,z2 is_collinear ) & q,z1,z2 is_collinear ))) by A13;
end;
hence thesis;
end;
A54: (for q1 holds (for q2 holds (for p1 holds (for p2 holds (for q holds ((((not q1,q2,q is_collinear ) & (not p1,p2,q is_collinear )) & (not (ex x st (q1,q2,x is_collinear  & p1,p2,x is_collinear )))) implies (ex q3 st (ex p3 st ((p1,p2,p3 is_collinear  & q1,q2,q3 is_collinear ) & (not q3,p3,q is_collinear ))))))))))
proof
let q1;
let q2;
let p1;
let p2;
let q;
assume that
A55: (not q1,q2,q is_collinear )
and
A56: (not p1,p2,q is_collinear )
and
(not (ex x st (q1,q2,x is_collinear  & p1,p2,x is_collinear )));
A57: q <> q1 by A55,CKB62:def 1;
A58: ((not q1,p1,q is_collinear ) or (not q1,p2,q is_collinear ))
proof
assume (not thesis);
then A59: (q,q1,p1 is_collinear  & q,q1,p2 is_collinear ) by CKB70:1;
q,q1,q is_collinear  by CKB62:def 1;
hence contradiction by A56,A57,A59,CKB63:def 1;
end;
A60: p1,p2,p2 is_collinear  by CKB62:def 1;
(q1,q2,q1 is_collinear  & p1,p2,p1 is_collinear ) by CKB62:def 1;
hence thesis by A60,A58;
end;
A61: (for q holds (for q1 holds (for q2 holds (for p1 holds (for p2 holds ((((P[ q,q1,q2 ] & (not q1,q2,q is_collinear )) & (not p1,p2,q is_collinear )) & (not (ex x st (q1,q2,x is_collinear  & p1,p2,x is_collinear )))) implies P[ q,p1,p2 ]))))))
proof
let q;
let q1;
let q2;
let p1;
let p2;
assume that
A62: P[ q,q1,q2 ]
and
A63: (not q1,q2,q is_collinear )
and
A64: (not p1,p2,q is_collinear )
and
A65: (not (ex x st (q1,q2,x is_collinear  & p1,p2,x is_collinear )));
consider q3,p3 such that A66: p1,p2,p3 is_collinear  and A67: q1,q2,q3 is_collinear  and A68: (not q3,p3,q is_collinear ) by A54,A63,A64,A65;
q3,p3,q3 is_collinear  by CKB62:def 1;
then A69: P[ q,q3,p3 ] by A5,A62,A63,A67,A68;
q3,p3,p3 is_collinear  by CKB62:def 1;
hence thesis by A5,A64,A66,A68,A69;
end;
A70: (for q holds (for q1 holds (for q2 holds ((P[ q,q1,q2 ] & (not q1,q2,q is_collinear )) implies (for p1 holds (for p2 holds P[ q,p1,p2 ]))))))
proof
let q;
let q1;
let q2;
assume that
A71: (P[ q,q1,q2 ] & (not q1,q2,q is_collinear ));
let p1;
let p2;
A72: (((not p1,p2,q is_collinear ) & (not (ex x st (q1,q2,x is_collinear  & p1,p2,x is_collinear )))) implies P[ q,p1,p2 ]) by A61,A71;
(((not p1,p2,q is_collinear ) & (ex x st (q1,q2,x is_collinear  & p1,p2,x is_collinear ))) implies P[ q,p1,p2 ]) by A5,A71;
hence thesis by A3,A72;
end;
reconsider CS = ( ProjectiveSpace V ) as CollProjectiveSpace by A1,A2,CKB65:def 1;
given p,q1,q2 such that
A73: (not p,q1,q2 is_collinear )
and
A74: (for r1 holds (for r2 holds (ex q3 st (ex r3 st ((r1,r2,r3 is_collinear  & q1,q2,q3 is_collinear ) & p,r3,q3 is_collinear )))));

take CS;
A75: (for q holds (for q1 holds (for q2 holds (for x holds (for q3 holds ((((P[ q,q1,q2 ] & (not q1,q2,q is_collinear )) & q1,q2,x is_collinear ) & q,q3,x is_collinear ) implies P[ q3,q1,q2 ]))))))
proof
let q;
let q1;
let q2;
let x;
let q3;
assume that
A76: P[ q,q1,q2 ]
and
A77: (not q1,q2,q is_collinear )
and
A78: q1,q2,x is_collinear 
and
A79: q,q3,x is_collinear ;
now
let y1;
let y2;
consider z2,z1 such that A80: y1,y2,z1 is_collinear  and A81: q1,q2,z2 is_collinear  and A82: q,z1,z2 is_collinear  by A76;
A83:now
q3,q,x is_collinear  by A79,CKB70:1;
then consider x2 such that A84: q3,z1,x2 is_collinear  and A85: x,z2,x2 is_collinear  by A82,CKB64:def 1;
A86: q1 <> q2 by A77,CKB62:def 1;
q1,q2,q2 is_collinear  by CKB62:def 1;
then A87: x,z2,q2 is_collinear  by A78,A81,A86,CKB63:def 1;
q1,q2,q1 is_collinear  by CKB62:def 1;
then A88: x,z2,q1 is_collinear  by A78,A81,A86,CKB63:def 1;
assume x <> z2;
then q1,q2,x2 is_collinear  by A85,A88,A87,CKB63:def 1;
hence (ex x2 st (ex x1 st ((y1,y2,x1 is_collinear  & q1,q2,x2 is_collinear ) & q3,x1,x2 is_collinear ))) by A80,A84;
end;
now
A89: (q,x,q3 is_collinear  & q,x,x is_collinear ) by A79,CKB62:def 1,CKB70:1;
assume A90: x = z2;
then q,x,z1 is_collinear  by A82,CKB70:1;
then q3,z1,z2 is_collinear  by A77,A78,A90,A89,CKB63:def 1;
hence (ex x2 st (ex x1 st ((y1,y2,x1 is_collinear  & q1,q2,x2 is_collinear ) & q3,x1,x2 is_collinear ))) by A80,A81;
end;
hence (ex x2 st (ex x1 st ((y1,y2,x1 is_collinear  & q1,q2,x2 is_collinear ) & q3,x1,x2 is_collinear ))) by A83;
end;
hence thesis;
end;
A91: (for q holds (for p holds ((for q1 holds (for q2 holds P[ q,q1,q2 ])) implies (ex p1 st (ex p2 st (P[ p,p1,p2 ] & (not p1,p2,p is_collinear )))))))
proof
let q;
let p;
assume that
A92: (for q1 holds (for q2 holds P[ q,q1,q2 ]));
consider x1 such that A93: p <> x1 and A94: q <> x1 and A95: p,q,x1 is_collinear  by A2;
consider x2 such that A96: (not p,x1,x2 is_collinear ) by A1,A93,COLLSP:12;
A97: (not x1,x2,q is_collinear )
proof
assume (not thesis);
then A98: q,x1,x2 is_collinear  by CKB70:1;
(q,x1,x1 is_collinear  & q,x1,p is_collinear ) by A95,CKB62:def 1,CKB70:1;
hence contradiction by A94,A96,A98,CKB63:def 1;
end;
A99: x1,x2,x1 is_collinear  by CKB62:def 1;
A100: (not x1,x2,p is_collinear ) by A96,CKB70:1;
A101: P[ q,x1,x2 ] by A92;
q,p,x1 is_collinear  by A95,CKB70:1;
then P[ p,x1,x2 ] by A75,A97,A99,A101;
hence thesis by A100;
end;
A102: (for x holds (for y1 holds (for z holds P[ x,y1,z ])))
proof
let x;
let y1;
let z;
(not q1,q2,p is_collinear ) by A73,CKB70:1;
then (for p1 holds (for p2 holds P[ p,p1,p2 ])) by A74,A70;
then (ex r1 st (ex r2 st (P[ x,r1,r2 ] & (not r1,r2,x is_collinear )))) by A91;
hence thesis by A70;
end;
(for p4 holds (for p1 holds (for q holds (for q4 holds (for r2 holds (ex r st (ex r1 st ((p4,q,r is_collinear  & p1,q4,r1 is_collinear ) & r2,r,r1 is_collinear ))))))))
proof
let p4;
let p1;
let q;
let q4;
let r2;
(ex r1 st (ex r st ((p4,q,r is_collinear  & p1,q4,r1 is_collinear ) & r2,r,r1 is_collinear ))) by A102;
hence thesis;
end;
hence thesis by CKB87:def 1;
end;
