environ
vocabularies NUMBERS,SUBSET_1,XREAL_0,ORDINAL1,PRE_TOPC,EUCLID,ARYTM_1,ARYTM_3,SUPINF_2,XBOOLE_0,RELAT_1,CARD_1,VALUED_0,FINSEQ_1,COMPLEX1,SQUARE_1,CARD_3,RVSUM_1,XXREAL_0,NAT_1,TARSKI,STRUCT_0,REAL_1,FUNCT_1,UNIALG_1,MSSUBFAM,FUNCOP_1,FINSEQ_2,ALGSTR_0,FUNCT_2,FVSUM_1,INCSP_1,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,ORDINAL4,PARTFUN1,PRVECT_1,QC_LANG1,RLVECT_2,RLVECT_3,TREES_1,VALUED_1,VECTSP_1,MATRIXJ1,ZFMISC_1,BINOP_1,GROUP_1,ABIAN,MATRIX_2,XXREAL_1,SIN_COS,FINSOP_1,FUNCT_4,MATRIX_6,PRE_POLY,TOPS_2,RFINSEQ,MONOID_0,MATRIXR2,MATRTOP3;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,NAT_D,FUNCOP_1,FINSEQ_1,PRE_POLY,RFINSEQ,FINSEQ_2,RVSUM_1,VALUED_0,SQUARE_1,STRUCT_0,PRE_TOPC,TOPS_2,RLVECT_1,EUCLID,GRCAT_1,TOPREAL9,CARD_1,VECTSP_1,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_6,GROUP_1,MATRIX11,MATRTOP1,SIN_COS,ALGSTR_0,MATRIX_7,BINOP_1,FVSUM_1,RCOMP_1,SEQ_1,MONOID_0,GROUP_4,PRVECT_1,RLVECT_2,RLVECT_3,FUNCT_7,MATRIX13,MATRIXR2,FINSOP_1,MATRLIN,MATRLIN2,MOD_2,MATRIXJ1,TMAP_1,CKB4;
definitions TARSKI,SQUARE_1,EUCLID,XCMPLX_0,ALGSTR_0,STRUCT_0,GRCAT_1,TOPREAL9,FINSEQ_1,MATRTOP1,VECTSP_1,MATRIX_7,FVSUM_1,NAT_D,CKB4;
theorems XREAL_0,TARSKI,FUNCT_2,EUCLID,XBOOLE_1,XBOOLE_0,JORDAN2C,SQUARE_1,XCMPLX_1,ABSVALUE,RVSUM_1,EUCLID_2,ENUMSET1,XREAL_1,XXREAL_0,RLVECT_1,ORDINAL1,GRCAT_1,CARD_1,CARD_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FUNCT_1,FVSUM_1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_6,MATRIX13,MATRIXR1,MATRLIN2,MATRTOP1,NAT_1,PARTFUN1,PRE_POLY,RELAT_1,RLSUB_1,RLVECT_2,RLVECT_3,STRUCT_0,TOPREAL7,ZFMISC_1,MATRIXJ1,STIRL2_1,TOPS_2,TOPREAL9,MATRIX_9,SIN_COS,MATRIX_7,MATRIXR2,MATRIX11,MATRIX_3,MATRIX15,RFINSEQ,FINSEQ_7,SIN_COS6,XXREAL_1,GROUP_4,MONOID_0,GROUP_1,FINSEQ_5,TMAP_1,RLVECT_4,FUNCT_7,TOPREALC,VALUED_1,INT_1,FINSOP_1,MOD_2,CKB1,CKB2,CKB3,CKB4;
schemes NAT_1,FINSEQ_4,MATRIX_1;
registrations XBOOLE_0,XXREAL_0,XREAL_0,SQUARE_1,NAT_1,MEMBERED,STRUCT_0,MONOID_0,EUCLID,VALUED_0,FINSEQ_1,FUNCT_1,RELAT_1,TOPREAL9,CARD_1,FINSEQ_2,FINSET_1,FUNCT_2,MATRIX13,MATRIX_2,MATRTOP1,NUMBERS,PRVECT_1,RELSET_1,RLVECT_2,VECTSP_1,XCMPLX_0,SIN_COS,MATRIX11,MATRIXJ1,GRCAT_1,BORSUK_3,FUNCOP_1,MATRIX_1,INT_1,FUNCT_7,PRE_POLY,SUBSET_1,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
constructors REAL_1,SQUARE_1,BORSUK_1,MONOID_0,CONVEX1,TOPREAL9,BINARITH,FVSUM_1,LAPLACE,MATRIX_6,MATRIX11,TOPS_2,MATRIX13,MATRLIN2,MATRTOP1,REALSET1,RLVECT_3,SEQ_1,MATRIXJ1,RCOMP_1,ABIAN,SIN_COS,MATRIX_7,SETWISEO,GROUP_4,TMAP_1,FINSOP_1,MATRIXR2,SEQ_4,CKB4;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
reserve i for Nat;
reserve k for Nat;
reserve m for Nat;
reserve n for Nat;
theorem
Lm5: (i in ( Seg n ) implies (ex M being (Matrix of n,( F_Real )) st ((( Det M ) = ( - ( 1. ( F_Real ) ) ) & ( M * (i,i) ) = ( - ( 1. ( F_Real ) ) )) & (for k holds (for m holds ([ k,m ] in ( Indices M ) implies (((k = m & k <> i) implies ( M * (k,k) ) = ( 1. ( F_Real ) )) & (k <> m implies ( M * (k,m) ) = ( 0. ( F_Real ) )))))))))
proof
set FR = (the carrier of ( F_Real ));
set mm = (the multF of ( F_Real ));
reconsider N = n as (Element of ( NAT )) by ORDINAL1:def 12;
defpred P[ set,set,set ]
 means
(((($1 = $2 & $1 = i) implies $3 = ( - ( 1. ( F_Real ) ) )) & (($1 = $2 & $1 <> i) implies $3 = ( 1. ( F_Real ) ))) & ($1 <> $2 implies $3 = ( 0. ( F_Real ) )));
A1: (for k holds (for m holds ([ k,m ] in [: ( Seg N ),( Seg N ) :] implies (ex x being (Element of ( F_Real )) st P[ k,m,x ]))))
proof
let k;
let m;
assume [ k,m ] in [: ( Seg N ),( Seg N ) :];
(((k = m & k = i) or (k = m & k <> i)) or k <> m);
hence thesis;
end;
consider M being (Matrix of N,( F_Real )) such that A3: (for n holds (for m holds ([ n,m ] in ( Indices M ) implies P[ n,m,( M * (n,m) ) ]))) from MATRIX_1:sch 2(A1);
reconsider M as (Matrix of n,( F_Real ));
A4: ( Indices M ) = [: ( Seg n ),( Seg n ) :] by MATRIX_1:24;
now
let k being (Element of ( NAT ));
let m being (Element of ( NAT ));
assume (k in ( Seg n ) & m in ( Seg n ));
then A5: [ k,m ] in ( Indices M ) by A4,ZFMISC_1:87;
assume k <> m;
hence ( M * (k,m) ) = ( 0. ( F_Real ) ) by A3,A5;
end;
then A6: M is  diagonal by MATRIX_7:def 2;
set D = ( diagonal_of_Matrix M );
defpred R[ Nat ]
 means
(( $1 + i ) <= n implies ( mm "**" ( D | ( $1 + i ) ) ) = ( - ( 1. ( F_Real ) ) ));
A7: ( len D ) = n by MATRIX_3:def 10;
A8: (for k holds (R[ k ] implies R[ ( k + 1 ) ]))
proof
let k;
assume A9: R[ k ];
set k1 = ( k + 1 );
set ki = ( k1 + i );
assume A10: ( k1 + i ) <= n;
A11: ( k1 + i ) = ( ( k + i ) + 1 );
then A12: 1 <= ki by NAT_1:11;
then ki in ( dom D ) by A7,A10,FINSEQ_3:25;
then A13: ( D | ki ) = ( ( D | ( k + i ) ) ^ <* ( D . ki ) *> ) by A11,FINSEQ_5:10;
i <= ( k + i ) by NAT_1:11;
then A14: i < ( k1 + i ) by A11,NAT_1:13;
A15: ki in ( Seg n ) by A10,A12;
then [ ki,ki ] in ( Indices M ) by A4,ZFMISC_1:87;
then ( 1. ( F_Real ) ) = ( M * (ki,ki) ) by A3,A14
.= ( D . ki ) by A15,MATRIX_3:def 10;
hence ( mm "**" ( D | ki ) ) = ( ( - ( 1. ( F_Real ) ) ) * ( 1. ( F_Real ) ) ) by A9,A10,A11,A13,FINSOP_1:4,NAT_1:13
.= ( - ( 1. ( F_Real ) ) );
end;
defpred P[ Nat ]
 means
($1 < i implies ( mm "**" ( D | $1 ) ) = ( 1. ( F_Real ) ));
A16: P[ ( 0 ) ]
proof
assume ( 0 ) < i;
(( D | ( 0 ) ) = ( <*> (the carrier of ( F_Real )) ) & ( the_unity_wrt mm ) = ( 1. ( F_Real ) )) by FVSUM_1:5;
hence thesis by FINSOP_1:10;
end;
assume A17: i in ( Seg n );
then A18: 1 <= i by FINSEQ_1:1;
A19: i <= n by A17,FINSEQ_1:1;
then A20: (( ( n - i ) + i ) = n & ( n - i ) is Nat) by NAT_1:21;
take M;
A21: (for k holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k;
assume that
A22: P[ k ];
set k1 = ( k + 1 );
assume A23: k1 < i;
then A24: (1 <= k1 & k1 <= n) by A19,NAT_1:14,XXREAL_0:2;
then k1 in ( dom D ) by A7,FINSEQ_3:25;
then A25: ( D | k1 ) = ( ( D | k ) ^ <* ( D . k1 ) *> ) by FINSEQ_5:10;
A26: k1 in ( Seg n ) by A24;
then [ k1,k1 ] in ( Indices M ) by A4,ZFMISC_1:87;
then ( 1. ( F_Real ) ) = ( M * (k1,k1) ) by A3,A23
.= ( D . k1 ) by A26,MATRIX_3:def 10;
hence ( mm "**" ( D | k1 ) ) = ( ( 1. ( F_Real ) ) * ( 1. ( F_Real ) ) ) by A22,A23,A25,FINSOP_1:4,NAT_1:13
.= ( 1. ( F_Real ) );
end;
A27: (for k holds P[ k ]) from NAT_1:sch 2(A16,A21);
A28: R[ ( 0 ) ]
proof
reconsider I = ( i - 1 ) as Nat by A18,NAT_1:21;
assume ( ( 0 ) + i ) <= n;
A29: ( I + 1 ) = i;
then I < i by NAT_1:13;
then A30: ( mm "**" ( D | I ) ) = ( 1. ( F_Real ) ) by A27;
1 <= i by A17,FINSEQ_1:1;
then i in ( dom D ) by A7,A19,FINSEQ_3:25;
then A31: ( D | i ) = ( ( D | I ) ^ <* ( D . i ) *> ) by A29,FINSEQ_5:10;
[ i,i ] in ( Indices M ) by A4,A17,ZFMISC_1:87;
then ( - ( 1. ( F_Real ) ) ) = ( M * (i,i) ) by A3
.= ( D . i ) by A17,MATRIX_3:def 10;
hence ( mm "**" ( D | ( ( 0 ) + i ) ) ) = ( ( 1. ( F_Real ) ) * ( - ( 1. ( F_Real ) ) ) ) by A30,A31,FINSOP_1:4
.= ( - ( 1. ( F_Real ) ) );
end;
(for k holds R[ k ]) from NAT_1:sch 2(A28,A8);
hence ( - ( 1. ( F_Real ) ) ) = ( mm "**" ( D | n ) ) by A20
.= ( mm "**" D ) by A7,FINSEQ_1:58
.= ( Det M ) by A6,A18,A19,MATRIX_7:17,XXREAL_0:2;
[ i,i ] in ( Indices M ) by A4,A17,ZFMISC_1:87;
hence ( M * (i,i) ) = ( - ( 1. ( F_Real ) ) ) by A3;
let k;
let m;
assume [ k,m ] in ( Indices M );
hence thesis by A3;
end;
