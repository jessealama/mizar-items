environ
vocabularies NUMBERS,SUBSET_1,RELAT_1,ZFMISC_1,SETFAM_1,TARSKI,PARTFUN1,RELAT_2,XBOOLE_0,FINSEQ_1,XXREAL_0,FUNCT_1,ARYTM_3,ORDINAL4,ARYTM_1,NAT_1,CARD_1,EQREL_1,MCART_1,CARD_3;
notations TARSKI,XBOOLE_0,ZFMISC_1,MCART_1,DOMAIN_1,SUBSET_1,XCMPLX_0,XXREAL_0,RELAT_1,RELAT_2,SETFAM_1,FINSEQ_1,FUNCT_1,NUMBERS,NAT_1,FUNCT_3,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,CKB1,CKB3,CKB4,CKB7,CKB8,CKB18,CKB22;
definitions TARSKI,RELAT_1,RELAT_2,XBOOLE_0,PARTFUN1,SETFAM_1,SUBSET_1,BINOP_1,CKB1,CKB22;
theorems RELAT_1,RELAT_2,RELSET_1,SETFAM_1,ZFMISC_1,TARSKI,FINSEQ_1,NAT_1,XBOOLE_0,XBOOLE_1,ORDERS_1,PARTFUN1,XREAL_1,XXREAL_0,FUNCT_1,FUNCT_3,FUNCT_2,MCART_1,SUBSET_1,SETWISEO,CKB1,CKB5,CKB6,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27;
schemes SUBSET_1,RELSET_1,FINSEQ_1,NAT_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,PARTFUN1,XXREAL_0,XREAL_0,FINSEQ_1,RELAT_1,ORDINAL1,RELSET_1,FUNCT_2,FUNCT_3,ZFMISC_1,FUNCT_1,CKB2,CKB11;
constructors SETFAM_1,RELAT_2,PARTFUN1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,RELSET_1,FUNCT_3,BINOP_1,DOMAIN_1,CKB1,CKB3,CKB4,CKB18,CKB22;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve z for set;
scheme ExEqRel { X() -> set,P[set,set] } : (ex EqR being (Equivalence_Relation of X()) st (for x holds (for y holds ([ x,y ] in EqR iff ((x in X() & y in X()) & P[ x,y ])))))
provided
A1: (for x holds (x in X() implies P[ x,x ]))
and
A2: (for x holds (for y holds (P[ x,y ] implies P[ y,x ])))
and
A3: (for x holds (for y holds (for z holds ((P[ x,y ] & P[ y,z ]) implies P[ x,z ]))))
proof
consider Y being (Relation of X(),X()) such that A4: (for x holds (for y holds ([ x,y ] in Y iff ((x in X() & y in X()) & P[ x,y ])))) from RELSET_1:sch 1;
A5: Y is_transitive_in X()
proof
let x;
let y;
let z;
assume that
A6: x in X()
and
y in X()
and
A7: z in X()
and
A8: ([ x,y ] in Y & [ y,z ] in Y);
(P[ x,y ] & P[ y,z ]) by A4,A8;
then P[ x,z ] by A3;
hence thesis by A4,A6,A7;
end;
A9: Y is_symmetric_in X()
proof
let x;
let y;
assume that
A10: (x in X() & y in X())
and
A11: [ x,y ] in Y;
P[ x,y ] by A4,A11;
then P[ y,x ] by A2;
hence thesis by A4,A10;
end;
Y is_reflexive_in X()
proof
let x;
assume A12: x in X();
then P[ x,x ] by A1;
hence thesis by A4,A12;
end;
then (( field Y ) = X() & ( dom Y ) = X()) by ORDERS_1:13;
then reconsider R1 = Y as (Equivalence_Relation of X()) by A9,A5,PARTFUN1:def 2,RELAT_2:def 11,RELAT_2:def 16;
take R1;
thus thesis by A4;
end;
