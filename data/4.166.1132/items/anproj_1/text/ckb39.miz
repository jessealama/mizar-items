environ
vocabularies RLVECT_1,SUBSET_1,REAL_1,RELAT_1,CARD_1,SUPINF_2,ARYTM_3,ARYTM_1,XCMPLX_0,EQREL_1,STRUCT_0,SETFAM_1,ZFMISC_1,XBOOLE_0,COLLSP,TARSKI,ANPROJ_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,REAL_1,EQREL_1,SETFAM_1,NUMBERS,STRUCT_0,COLLSP,RLVECT_1,MCART_1,CKB1,CKB5,CKB30,CKB33,CKB34;
definitions STRUCT_0,CKB1,CKB5,CKB30,CKB33,CKB34;
theorems RLVECT_1,RELAT_1,DOMAIN_1,FUNCSDOM,ANALOAF,TARSKI,EQREL_1,COLLSP,MCART_1,XCMPLX_0,XCMPLX_1,STRUCT_0,ZFMISC_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB37,CKB38;
schemes EQREL_1,XBOOLE_0;
registrations RELSET_1,STRUCT_0,RLVECT_1,COLLSP,REAL_1,XREAL_0,ORDINAL1,CKB35,CKB36;
constructors REAL_1,EQREL_1,RLVECT_1,COLLSP,CKB1,CKB5,CKB30,CKB33,CKB34;
requirements NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve V for non trivial RealLinearSpace;
reserve p for (Element of V);
reserve q for (Element of V);
reserve r for (Element of V);
definition
let V;
func ProjectiveCollinearity V -> (Relation3 of ( ProjectivePoints V ))
means
:Def9: (for x,y,z being set holds ([ x,y,z ] in it iff (ex p st (ex q st (ex r st ((((((x = ( Dir p ) & y = ( Dir q )) & z = ( Dir r )) & (not p is  zero)) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep ))))));
existence
proof
defpred P[ set ]
 means
(ex p st (ex q st (ex r st (((($1 = [ ( Dir p ),( Dir q ),( Dir r ) ] & (not p is  zero)) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep ))));
set D = ( ProjectivePoints V );
set XXX = [: D,D,D :];
consider R being set such that A1: (for xyz being set holds (xyz in R iff (xyz in XXX & P[ xyz ]))) from XBOOLE_0:sch 1;
(for x being set holds (x in R implies x in XXX)) by A1;
then R c= XXX by TARSKI:def 3;
then reconsider R9 = R as (Relation3 of D) by COLLSP:def 1;
take R9;
let x being set,y being set,z being set;
A2:now
set xyz = [ x,y,z ];
given p,q,r such that
A3: ((x = ( Dir p ) & y = ( Dir q )) & z = ( Dir r ))
and
A4: ((not p is  zero) & (not q is  zero))
and
A5: (not r is  zero)
and
A6: p,q,r are_LinDep ;

A7: ( Dir r ) is (Element of D) by A5,CKB37:1;
(( Dir p ) is (Element of D) & ( Dir q ) is (Element of D)) by A4,CKB37:1;
then xyz in XXX by A3,A7,MCART_1:69;
hence xyz in R9 by A1,A3,A4,A5,A6;
end;
now
assume [ x,y,z ] in R9;
then consider p,q,r such that A8: [ x,y,z ] = [ ( Dir p ),( Dir q ),( Dir r ) ] and A9: ((((not p is  zero) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep ) by A1;
A10: z = ( Dir r ) by A8,MCART_1:25;
(x = ( Dir p ) & y = ( Dir q )) by A8,MCART_1:25;
hence (ex p st (ex q st (ex r st ((((((x = ( Dir p ) & y = ( Dir q )) & z = ( Dir r )) & (not p is  zero)) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep )))) by A9,A10;
end;
hence thesis by A2;
end;
uniqueness
proof
set X = ( ProjectivePoints V );
set XXX = [: ( ProjectivePoints V ),( ProjectivePoints V ),( ProjectivePoints V ) :];
let R1 being (Relation3 of ( ProjectivePoints V )),R2 being (Relation3 of ( ProjectivePoints V ));
assume that
A11: (for x,y,z being set holds ([ x,y,z ] in R1 iff (ex p st (ex q st (ex r st ((((((x = ( Dir p ) & y = ( Dir q )) & z = ( Dir r )) & (not p is  zero)) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep ))))))
and
A12: (for x,y,z being set holds ([ x,y,z ] in R2 iff (ex p st (ex q st (ex r st ((((((x = ( Dir p ) & y = ( Dir q )) & z = ( Dir r )) & (not p is  zero)) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep ))))));
A13: R2 c= XXX by COLLSP:def 1;
A14: R1 c= XXX by COLLSP:def 1;
now
let u being set;
A15:now
assume A16: u in R2;
then consider x being (Element of X),y being (Element of X),z being (Element of X) such that A17: u = [ x,y,z ] by A13,DOMAIN_1:3;
(ex p st (ex q st (ex r st ((((((x = ( Dir p ) & y = ( Dir q )) & z = ( Dir r )) & (not p is  zero)) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep )))) by A12,A16,A17;
hence u in R1 by A11,A17;
end;
now
assume A18: u in R1;
then consider x being (Element of X),y being (Element of X),z being (Element of X) such that A19: u = [ x,y,z ] by A14,DOMAIN_1:3;
(ex p st (ex q st (ex r st ((((((x = ( Dir p ) & y = ( Dir q )) & z = ( Dir r )) & (not p is  zero)) & (not q is  zero)) & (not r is  zero)) & p,q,r are_LinDep )))) by A11,A18,A19;
hence u in R2 by A12,A19;
end;
hence (u in R1 iff u in R2) by A15;
end;
hence thesis by TARSKI:1;
end;
end;
