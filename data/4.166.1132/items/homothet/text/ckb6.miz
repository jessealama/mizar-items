environ
vocabularies DIRAF,SUBSET_1,FUNCT_2,STRUCT_0,AFF_2,ANALOAF,INCSP_1,AFF_1,TRANSGEO,FUNCT_1,RELAT_1,TARSKI,HOMOTHET;
notations TARSKI,RELSET_1,PARTFUN1,FUNCT_2,STRUCT_0,ANALOAF,DIRAF,AFF_1,AFF_2,TRANSGEO;
theorems TRANSGEO,AFF_1,AFF_2,TRANSLAC,SUBSET_1,DIRAF,FUNCT_1,XBOOLE_0,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes TRANSGEO;
registrations STRUCT_0;
constructors PARTFUN1,AFF_1,AFF_2,TRANSGEO,RELSET_1;
requirements SUBSET,BOOLE;
begin
reserve AFP for AffinPlane;
reserve a for (Element of AFP);
reserve a9 for (Element of AFP);
reserve b for (Element of AFP);
reserve o for (Element of AFP);
reserve p for (Element of AFP);
reserve p9 for (Element of AFP);
reserve q for (Element of AFP);
reserve q9 for (Element of AFP);
reserve f for (Permutation of (the carrier of AFP));
theorem
Th2: ((for o holds (for a holds (for b holds (((o <> a & o <> b) &  LIN o,a,b) implies (ex f st ((f is  dilatation & ( f . o ) = o) & ( f . a ) = b)))))) implies AFP is  Desarguesian)
proof
assume A1: (for o holds (for a holds (for b holds (((o <> a & o <> b) &  LIN o,a,b) implies (ex f st ((f is  dilatation & ( f . o ) = o) & ( f . a ) = b))))));
now
let o;
let a;
let a9;
let p;
let p9;
let q;
let q9;
assume that
A2:  LIN o,a,a9
and
A3:  LIN o,p,p9
and
A4:  LIN o,q,q9
and
A5: (not  LIN o,a,p)
and
A6: (not  LIN o,a,q)
and
A7: a,p // a9,p9
and
A8: a,q // a9,q9;
A9:now
assume A10: o <> a9;
o <> a by A5,AFF_1:7;
then consider f such that A11: f is  dilatation and A12: ( f . o ) = o and A13: ( f . a ) = a9 by A1,A2,A10;
set s = ( f . q );
o,q // o,s by A11,A12,TRANSGEO:64;
then A14:  LIN o,q,s by AFF_1:def 1;
set r = ( f . p );
o,p // o,r by A11,A12,TRANSGEO:64;
then A15:  LIN o,p,r by AFF_1:def 1;
a,q // a9,s by A11,A13,TRANSGEO:64;
then A16: s = q9 by A2,A4,A6,A8,A14,AFF_1:56;
a,p // a9,r by A11,A13,TRANSGEO:64;
then r = p9 by A2,A3,A5,A7,A15,AFF_1:56;
hence p,q // p9,q9 by A11,A16,TRANSGEO:64;
end;
now
assume A17: o = a9;
then o = p9 by A3,A5,A7,AFF_1:55;
then p9 = q9 by A4,A6,A8,A17,AFF_1:55;
hence p,q // p9,q9 by AFF_1:3;
end;
hence p,q // p9,q9 by A9;
end;
hence thesis by CKB1:1;
end;
