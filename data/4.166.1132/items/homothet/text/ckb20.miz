environ
vocabularies DIRAF,SUBSET_1,FUNCT_2,STRUCT_0,AFF_2,ANALOAF,INCSP_1,AFF_1,TRANSGEO,FUNCT_1,RELAT_1,TARSKI,HOMOTHET;
notations TARSKI,RELSET_1,PARTFUN1,FUNCT_2,STRUCT_0,ANALOAF,DIRAF,AFF_1,AFF_2,TRANSGEO;
theorems TRANSGEO,AFF_1,AFF_2,TRANSLAC,SUBSET_1,DIRAF,FUNCT_1,XBOOLE_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes TRANSGEO;
registrations STRUCT_0;
constructors PARTFUN1,AFF_1,AFF_2,TRANSGEO,RELSET_1;
requirements SUBSET,BOOLE;
begin
reserve AFP for AffinPlane;
reserve a for (Element of AFP);
reserve b for (Element of AFP);
reserve o for (Element of AFP);
reserve p for (Element of AFP);
reserve p9 for (Element of AFP);
reserve x for (Element of AFP);
reserve y for (Element of AFP);
reserve f for (Permutation of (the carrier of AFP));
theorem
Th3: (AFP is  Desarguesian implies (for o holds (for a holds (for b holds (((o <> a & o <> b) &  LIN o,a,b) implies (ex f st ((f is  dilatation & ( f . o ) = o) & ( f . a ) = b)))))))
proof
assume A1: AFP is  Desarguesian;
let o;
let a;
let b;
assume that
A2: o <> a
and
A3: o <> b
and
A4:  LIN o,a,b;
consider f such that A5: (for x holds (for y holds (( f . x ) = y iff ((((not  LIN o,a,x) &  LIN o,x,y) & a,x // b,y) or ( LIN o,a,x & (ex p st (ex p9 st (((((not  LIN o,a,p) &  LIN o,p,p9) & a,p // b,p9) & p,x // p9,y) &  LIN o,a,y)))))))) by A1,A2,A3,A4,CKB15:1;
A6: ( f . a ) = b by A1,A2,A4,A5,CKB19:1;
A7: ( f . o ) = o by A1,A2,A4,A5,CKB19:1;
f is  dilatation by A1,A2,A4,A5,CKB19:1;
hence thesis by A7,A6;
end;
