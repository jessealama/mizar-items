environ
vocabularies DIRAF,SUBSET_1,FUNCT_2,STRUCT_0,AFF_2,ANALOAF,INCSP_1,AFF_1,TRANSGEO,FUNCT_1,RELAT_1,TARSKI,HOMOTHET;
notations TARSKI,RELSET_1,PARTFUN1,FUNCT_2,STRUCT_0,ANALOAF,DIRAF,AFF_1,AFF_2,TRANSGEO,CKB22;
definitions CKB22;
theorems TRANSGEO,AFF_1,AFF_2,TRANSLAC,SUBSET_1,DIRAF,FUNCT_1,XBOOLE_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23;
schemes TRANSGEO;
registrations STRUCT_0;
constructors PARTFUN1,AFF_1,AFF_2,TRANSGEO,RELSET_1,CKB22;
requirements SUBSET,BOOLE;
begin
reserve AFP for AffinPlane;
reserve a for (Element of AFP);
reserve a9 for (Element of AFP);
reserve b for (Element of AFP);
reserve b9 for (Element of AFP);
reserve c for (Element of AFP);
reserve c9 for (Element of AFP);
reserve o for (Element of AFP);
reserve K for (Subset of AFP);
reserve f for (Permutation of (the carrier of AFP));
theorem
Th6: ((for a holds (for b holds (for K holds ((a,b // K & (not a in K)) implies (ex f st (f is_Sc K & ( f . a ) = b)))))) implies AFP is  Moufangian)
proof
assume A1: (for a holds (for b holds (for K holds ((a,b // K & (not a in K)) implies (ex f st (f is_Sc K & ( f . a ) = b))))));
now
let o;
let K;
let c;
let c9;
let a;
let b;
let a9;
let b9;
assume that
A2: o in K
and
A3: c in K
and
A4: c9 in K
and
A5: K is  being_line
and
A6:  LIN o,a,a9
and
A7:  LIN o,b,b9
and
A8: (not a in K)
and
A9: a,b // K
and
A10: a9,b9 // K
and
A11: a,c // a9,c9;
consider f such that A12: f is_Sc K and A13: ( f . a ) = b by A1,A8,A9;
A14: f is  collineation by A12,CKB22:def 1;
A15: a,b // a9,b9 by A5,A9,A10,AFF_1:31;
A16: ( f . a9 ) = b9
proof
set x = ( f . a9 );
A17:now
( f . o ) = o by A2,A12,CKB22:def 1;
then A18:  LIN o,b,x by A6,A13,A14,TRANSGEO:84;
a9,x // K by A12,CKB22:def 1;
then A19: a,b // a9,x by A5,A9,AFF_1:31;
assume a <> b;
hence thesis by A2,A6,A7,A8,A9,A15,A19,A18,AFF_1:46,AFF_1:56;
end;
now
assume A20: a = b;
then f = ( id (the carrier of AFP) ) by A8,A12,A13,CKB23:1;
then x = a9 by FUNCT_1:18;
hence thesis by A2,A6,A7,A8,A10,A20,AFF_1:47;
end;
hence thesis by A17;
end;
A21: ( f . c9 ) = c9 by A4,A12,CKB22:def 1;
( f . c ) = c by A3,A12,CKB22:def 1;
hence b,c // b9,c9 by A11,A13,A14,A21,A16,TRANSGEO:83;
end;
hence thesis by CKB2:1;
end;
