environ
vocabularies ARYTM_1,ARYTM_3,XBOOLE_0,CARD_1,CARD_2,CLASSES1,COHSP_1,COMPLEX1,CONVEX1,CONVEX2,CONVEX3,FINSEQ_1,FINSET_1,FUNCT_1,MATROID0,MCART_1,ORDERS_1,PARTFUN1,PRE_TOPC,QC_LANG1,RELAT_1,RLVECT_1,RLVECT_2,SEMI_AF1,SETFAM_1,SGRAPH1,SUBSET_1,TARSKI,TOPS_1,ZFMISC_1,RLAFFIN1,RLAFFIN2,SIMPLEX0,SIMPLEX1,REAL_1,FUNCOP_1,NAT_1,FUNCT_2,STRUCT_0,XXREAL_0,NUMBERS,ORDINAL1,CARD_3,GLIB_000,FINSEQ_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_3,XXREAL_0,ORDERS_1,CARD_1,REAL_1,FINSET_1,SETFAM_1,DOMAIN_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1,FINSEQ_1,STRUCT_0,CLASSES1,RVSUM_1,RLVECT_1,RLVECT_2,CONVEX1,CONVEX2,CONVEX3,PRE_TOPC,RLAFFIN1,FUNCOP_1,PENCIL_1,MATROID0,MCART_1,CARD_2,COHSP_1,SIMPLEX0,RLAFFIN2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB15,CKB23,CKB26,CKB27;
definitions MATROID0,ORDERS_1,ORDINAL1,RLAFFIN2,RLVECT_2,SETFAM_1,STRUCT_0,SIMPLEX0,TARSKI,TOPS_2,XBOOLE_0,XXREAL_3,CKB5,CKB6,CKB8,CKB15,CKB26,CKB27;
theorems BORSUK_5,CARD_1,CARD_2,CARD_FIN,CLASSES1,COHSP_1,CONVEX1,CONVEX3,FINSEQ_1,FINSEQ_3,FUNCOP_1,FUNCT_1,FUNCT_2,INT_1,MATROID0,MCART_1,NAT_1,ORDINAL1,PENCIL_1,PRE_TOPC,RELAT_1,RELSET_2,RLTOPSP1,RLVECT_1,RLVECT_2,RVSUM_1,SETFAM_1,STIRL2_1,TARSKI,TOPS_2,WELLORD2,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,XXREAL_3,ZFMISC_1,RLAFFIN1,RLAFFIN2,SIMPLEX0,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB24,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32;
schemes CLASSES1,FUNCT_1,FUNCT_2,NAT_1,RELAT_1;
registrations CARD_1,FINSET_1,FUNCT_1,MEMBERED,NAT_1,RELAT_1,RLVECT_1,STRUCT_0,SUBSET_1,VALUED_0,XCMPLX_0,XREAL_0,XXREAL_0,XBOOLE_0,RLAFFIN1,SIMPLEX0,FUNCOP_1,INT_1,XXREAL_3,MATROID0,REALSET1,SETFAM_1,COHSP_1,RLAFFIN2,RELSET_1,ZFMISC_1,DILWORTH,RLVECT_2,CKB17,CKB22,CKB25;
constructors BINOP_2,CONVEX1,CONVEX3,REAL_1,RVSUM_1,SEQ_1,SETFAM_1,RLAFFIN1,SIMPLEX0,TOPS_2,LEXBFS,XXREAL_2,BORSUK_1,COHSP_1,CARD_2,REARRAN1,RLAFFIN2,CKB5,CKB6,CKB8,CKB15,CKB26,CKB27;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve V for RealLinearSpace;
reserve Kv for non void (SimplicialComplex of V);
theorem
Th21: ((|. Kv .| c= ( [#] Kv ) & ( degree Kv ) <= ( 0 )) implies ( the TopStruct of Kv ) = ( BCS Kv ))
proof
reconsider o = 1 as  ext-real number;
assume that
A1: |. Kv .| c= ( [#] Kv )
and
A2: ( degree Kv ) <= ( 0 );
set B = ( center_of_mass V );
set BC = ( BCS Kv );
A3: BC = ( subdivision (( center_of_mass V ),Kv) ) by A1,CKB26:def 1;
then A4: ( [#] BC ) = ( [#] Kv ) by SIMPLEX0:def 20;
A5: ( dom B ) = ( ( bool (the carrier of V) ) \ { ( {} ) } ) by FUNCT_2:def 1;
A6: (( ( 0 ) + o ) = ( ( 0 ) + 1 ) & ( ( degree Kv ) + o ) <= ( ( 0 ) + o )) by A2,XXREAL_3:35,XXREAL_3:def 2;
A7: (the topology of BC) c= (the topology of Kv)
proof
let x;
assume x in (the topology of BC);
then reconsider X = x as (Simplex of BC) by PRE_TOPC:def 2;
reconsider X1 = X as (Subset of Kv) by A4;
consider S being  c=-linear  finite  simplex-like (Subset-Family of Kv) such that A8: X = ( B .: S ) by A3,SIMPLEX0:def 20;
A9: ( B .: S ) = ( B .: ( S /\ ( dom B ) ) ) by RELAT_1:112;
per cases ;
suppose X is  empty;

then X1 is  simplex-like;
hence thesis by PRE_TOPC:def 2;
end;
suppose A10: X is non empty;

then S is non empty by A8,RELAT_1:116;
then ( union S ) in S by SIMPLEX0:9;
then reconsider U = ( union S ) as (Simplex of Kv) by TOPS_2:def 1;
A11: U is non empty
proof
assume A12: U is  empty;
( S /\ ( dom B ) ) is  empty
proof
assume ( S /\ ( dom B ) ) is non empty;
then consider y such that A13: y in ( S /\ ( dom B ) ) by XBOOLE_0:def 1;
y in S by A13,XBOOLE_0:def 4;
then A14: y c= U by ZFMISC_1:74;
y <> ( {} ) by A13,ZFMISC_1:56;
hence contradiction by A12,A14;
end;
hence contradiction by A8,A9,A10,RELAT_1:116;
end;
then A15: ( @ U ) in ( dom B ) by A5,ZFMISC_1:56;
( card U ) <= ( ( degree Kv ) + 1 ) by SIMPLEX0:24;
then A16: ( card U ) <= 1 by A6,XXREAL_0:2;
( card U ) >= 1 by A11,NAT_1:14;
then A17: ( card U ) = 1 by A16,XXREAL_0:1;
then consider u being set such that A18: { u } = ( @ U ) by CARD_2:42;
u in { u } by TARSKI:def 1;
then reconsider u as (Element of V) by A18;
A19: ( S /\ ( dom B ) ) c= { U }
proof
let y;
assume A20: y in ( S /\ ( dom B ) );
then y in S by XBOOLE_0:def 4;
then A21: y c= U by ZFMISC_1:74;
y <> ( {} ) by A20,ZFMISC_1:56;
then y = U by A18,A21,ZFMISC_1:33;
hence thesis by TARSKI:def 1;
end;
( S /\ ( dom B ) ) is non empty by A8,A9,A10,RELAT_1:116;
then ( S /\ ( dom B ) ) = { U } by A19,ZFMISC_1:33;
then X = ( Im (B,U) ) by A8,A9,RELAT_1:def 16
.= { ( B . U ) } by A15,FUNCT_1:59
.= { ( ( 1 / 1 ) * ( Sum { u } ) ) } by A17,A18,RLAFFIN2:def 2
.= { ( Sum { u } ) } by RLVECT_1:def 8
.= U by A18,RLVECT_2:9;
hence thesis by PRE_TOPC:def 2;
end;
end;
(the topology of Kv) c= (the topology of BC)
proof
let x;
assume x in (the topology of Kv);
then reconsider X = x as (Simplex of Kv) by PRE_TOPC:def 2;
reconsider X1 = X as (Subset of BC) by A4;
per cases ;
suppose X is  empty;

then X1 is  simplex-like;
hence thesis by PRE_TOPC:def 2;
end;
suppose A22: X is non empty;

(for Y being (Subset of Kv) holds (Y in { X } implies Y is  simplex-like)) by TARSKI:def 1;
then reconsider XX = { X } as  finite  simplex-like (Subset-Family of Kv) by TOPS_2:def 1;
now
let x;
let y;
assume that
A23: x in XX
and
A24: y in XX;
x = X by A23,TARSKI:def 1;
hence x,y are_c=-comparable  by A24,TARSKI:def 1;
end;
then A25: XX is  c=-linear by ORDINAL1:def 8;
( card X ) <= ( ( degree Kv ) + 1 ) by SIMPLEX0:24;
then A26: ( card X ) <= 1 by A6,XXREAL_0:2;
( card X ) >= 1 by A22,NAT_1:14;
then A27: ( card X ) = 1 by A26,XXREAL_0:1;
then consider u being set such that A28: ( @ X ) = { u } by CARD_2:42;
A29: ( @ X ) in ( dom B ) by A5,A22,ZFMISC_1:56;
u in { u } by TARSKI:def 1;
then reconsider u as (Element of V) by A28;
( B .: XX ) = ( Im (B,X) ) by RELAT_1:def 16
.= { ( B . X ) } by A29,FUNCT_1:59
.= { ( ( 1 / 1 ) * ( Sum { u } ) ) } by A27,A28,RLAFFIN2:def 2
.= { ( Sum { u } ) } by RLVECT_1:def 8
.= X1 by A28,RLVECT_2:9;
then X1 is  simplex-like by A3,A25,SIMPLEX0:def 20;
hence thesis by PRE_TOPC:def 2;
end;
end;
hence thesis by A3,A4,A7,XBOOLE_0:def 10;
end;
