environ
vocabularies ARYTM_1,ARYTM_3,XBOOLE_0,CARD_1,CARD_2,CLASSES1,COHSP_1,COMPLEX1,CONVEX1,CONVEX2,CONVEX3,FINSEQ_1,FINSET_1,FUNCT_1,MATROID0,MCART_1,ORDERS_1,PARTFUN1,PRE_TOPC,QC_LANG1,RELAT_1,RLVECT_1,RLVECT_2,SEMI_AF1,SETFAM_1,SGRAPH1,SUBSET_1,TARSKI,TOPS_1,ZFMISC_1,RLAFFIN1,RLAFFIN2,SIMPLEX0,SIMPLEX1,REAL_1,FUNCOP_1,NAT_1,FUNCT_2,STRUCT_0,XXREAL_0,NUMBERS,ORDINAL1,CARD_3,GLIB_000,FINSEQ_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_3,XXREAL_0,ORDERS_1,CARD_1,REAL_1,FINSET_1,SETFAM_1,DOMAIN_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1,FINSEQ_1,STRUCT_0,CLASSES1,RVSUM_1,RLVECT_1,RLVECT_2,CONVEX1,CONVEX2,CONVEX3,PRE_TOPC,RLAFFIN1,FUNCOP_1,PENCIL_1,MATROID0,MCART_1,CARD_2,COHSP_1,SIMPLEX0,RLAFFIN2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB15,CKB23,CKB26,CKB27,CKB40,CKB41;
definitions MATROID0,ORDERS_1,ORDINAL1,RLAFFIN2,RLVECT_2,SETFAM_1,STRUCT_0,SIMPLEX0,TARSKI,TOPS_2,XBOOLE_0,XXREAL_3,CKB5,CKB6,CKB8,CKB15,CKB26,CKB27,CKB40,CKB41;
theorems BORSUK_5,CARD_1,CARD_2,CARD_FIN,CLASSES1,COHSP_1,CONVEX1,CONVEX3,FINSEQ_1,FINSEQ_3,FUNCOP_1,FUNCT_1,FUNCT_2,INT_1,MATROID0,MCART_1,NAT_1,ORDINAL1,PENCIL_1,PRE_TOPC,RELAT_1,RELSET_2,RLTOPSP1,RLVECT_1,RLVECT_2,RVSUM_1,SETFAM_1,STIRL2_1,TARSKI,TOPS_2,WELLORD2,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,XXREAL_3,ZFMISC_1,RLAFFIN1,RLAFFIN2,SIMPLEX0,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB24,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB40,CKB41,CKB50,CKB52,CKB53,CKB54,CKB58,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76;
schemes CLASSES1,FUNCT_1,FUNCT_2,NAT_1,RELAT_1;
registrations CARD_1,FINSET_1,FUNCT_1,MEMBERED,NAT_1,RELAT_1,RLVECT_1,STRUCT_0,SUBSET_1,VALUED_0,XCMPLX_0,XREAL_0,XXREAL_0,XBOOLE_0,RLAFFIN1,SIMPLEX0,FUNCOP_1,INT_1,XXREAL_3,MATROID0,REALSET1,SETFAM_1,COHSP_1,RLAFFIN2,RELSET_1,ZFMISC_1,DILWORTH,RLVECT_2,CKB17,CKB22,CKB25,CKB38,CKB39,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB51,CKB55,CKB56,CKB57,CKB59,CKB60;
constructors BINOP_2,CONVEX1,CONVEX3,REAL_1,RVSUM_1,SEQ_1,SETFAM_1,RLAFFIN1,SIMPLEX0,TOPS_2,LEXBFS,XXREAL_2,BORSUK_1,COHSP_1,CARD_2,REARRAN1,RLAFFIN2,CKB5,CKB6,CKB8,CKB15,CKB26,CKB27,CKB40,CKB41;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve X for set;
reserve n for Nat;
reserve k for Nat;
reserve V for RealLinearSpace;
reserve Aff for  finite  affinely-independent (Subset of V);
reserve S for  finite (Subset-Family of V);
theorem
Th45: (for S being (Simplex of ( n - 1 ),( BCS (k,( Complex_of { Aff } )) )) holds ((( card Aff ) = ( n + 1 ) & X = { S1 where S1 is (Simplex of n,( BCS (k,( Complex_of { Aff } )) )): S c= S1 }) implies ((( conv ( @ S ) ) meets ( Int Aff ) implies ( card X ) = 2) & (( conv ( @ S ) ) misses ( Int Aff ) implies ( card X ) = 1))))
proof
let S being (Simplex of ( n - 1 ),( BCS (k,( Complex_of { Aff } )) ));
assume that
A1: ( card Aff ) = ( n + 1 );
set C = ( Complex_of { Aff } );
reconsider cA = ( card Aff ) as  ext-real number;
A2: ( cA - 1 ) = ( ( card Aff ) + ( - 1 ) ) by XXREAL_3:def 2
.= n by A1;
then A3: ( degree C ) = n by SIMPLEX0:26;
defpred P[ Nat ]
 means
(for S being (Simplex of ( n - 1 ),( BCS ($1,C) )) holds (for X being set holds (X = { S1 where S1 is (Simplex of n,( BCS ($1,C) )): S c= S1 } implies ((( conv ( @ S ) ) meets ( Int Aff ) implies ( card X ) = 2) & (( conv ( @ S ) ) misses ( Int Aff ) implies ( card X ) = 1)))));
A4: (( [#] C ) = ( [#] V ) & |. C .| c= ( [#] V ));
A5: P[ (( 0 ) qua Nat) ]
proof
reconsider n1 = ( n - 1 ) as  ext-real number;
A6: (the topology of C) = ( bool Aff ) by SIMPLEX0:4;
Aff in ( bool Aff ) by ZFMISC_1:def 1;
then reconsider A1 = Aff as  finite (Simplex of C) by A6,PRE_TOPC:def 2;
A7: ( BCS (( 0 ),C) ) = C by A4,CKB28:1;
let S being (Simplex of ( n - 1 ),( BCS (( 0 ),C) ));
let X being set;
assume that
A8: X = { S1 where S1 is (Simplex of n,( BCS (( 0 ),C) )): S c= S1 };
A9: X c= { Aff }
proof
let x;
reconsider N = n as  ext-real number;
assume x in X;
then consider U being (Simplex of n,C) such that A10: x = U and S c= U by A7,A8;
A11: U in (the topology of C) by PRE_TOPC:def 2;
( card U ) = ( N + 1 ) by A3,SIMPLEX0:def 18
.= ( n + 1 ) by XXREAL_3:def 2;
then Aff = U by A1,A6,A11,CARD_FIN:1;
hence thesis by A10,TARSKI:def 1;
end;
A12: S in ( bool Aff ) by A6,A7,PRE_TOPC:def 2;
A1 is (Simplex of n,C) by A2,SIMPLEX0:48;
then Aff in X by A7,A8,A12;
then A13: X = { Aff } by A9,ZFMISC_1:33;
(( n + ( - 1 ) ) >= ( - 1 ) & ( n - 1 ) <= ( degree C )) by A3,XREAL_1:31,XREAL_1:146;
then ( card S ) = ( n1 + 1 ) by A7,SIMPLEX0:def 18
.= ( ( n - 1 ) + 1 ) by XXREAL_3:def 2;
then S <> Aff by A1;
then S c< Aff by A12,XBOOLE_0:def 8;
hence thesis by A13,CARD_1:30,RLAFFIN2:7;
end;
A14: (for k holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k;
assume that
A15: P[ k ];
A16: (( degree ( BCS (k,C) ) ) = n & ( BCS (( k + 1 ),C) ) = ( BCS ( BCS (k,C) ) )) by A3,A4,CKB32:1,CKB63:1;
let S being (Simplex of ( n - 1 ),( BCS (( k + 1 ),C) ));
let X;
assume that
A17: X = { S1 where S1 is (Simplex of n,( BCS (( k + 1 ),C) )): S c= S1 };
thus thesis by A1,A15,A16,A17,CKB76:1;
end;
(for k holds P[ k ]) from NAT_1:sch 2(A5,A14);
hence thesis;
end;
