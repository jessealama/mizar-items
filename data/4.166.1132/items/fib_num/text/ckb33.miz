environ
vocabularies NUMBERS,SUBSET_1,INT_2,ARYTM_3,RELAT_1,NAT_1,CARD_1,XXREAL_0,XREAL_0,ORDINAL1,PRE_FF,FUNCT_3,SQUARE_1,ARYTM_1,COMPLEX1,POWER,NEWTON,SEQ_1,VALUED_0,VALUED_1,FUNCT_1,SEQ_2,ORDINAL2,XXREAL_2,FIB_NUM;
notations SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,SQUARE_1,NAT_1,NAT_D,INT_2,VALUED_0,VALUED_1,SEQ_1,XXREAL_0,COMPLEX1,PRE_FF,SEQ_2,LIMFUNC1,QUIN_1,NEWTON,POWER,CKB17,CKB18;
definitions SQUARE_1,VALUED_1,XCMPLX_0,CKB17,CKB18;
theorems NAT_1,PRE_FF,INT_2,SQUARE_1,WSIERP_1,EULER_1,PYTHTRIP,QUIN_1,ABSVALUE,POWER,NEWTON,SEQM_3,SEQ_1,SEQ_2,SEQ_4,PREPOWER,XCMPLX_0,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,FUNCT_2,ORDINAL1,NAT_D,VALUED_1,VALUED_0,XREAL_0,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32;
schemes NAT_1,SEQ_1,CKB4,CKB5;
registrations RELSET_1,XREAL_0,SQUARE_1,MEMBERED,QUIN_1,NEWTON,INT_1,VALUED_0,VALUED_1,FUNCT_2,NUMBERS,SEQ_4,SETFAM_1,REALSET1,FINSET_1;
constructors REAL_1,SQUARE_1,NAT_1,NAT_D,QUIN_1,SEQ_2,SEQM_3,LIMFUNC1,NEWTON,POWER,PRE_FF,SEQ_1,VALUED_1,PARTFUN1,SETFAM_1,RELSET_1,BINOP_2,RVSUM_1,CKB17,CKB18;
requirements SUBSET,NUMERALS,REAL,ARITHM,BOOLE;
begin
reserve k for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve x for  real number;
reserve F for Real_Sequence;
reserve f for Real_Sequence;
reserve g for Real_Sequence;
reserve h for Real_Sequence;
theorem
(for F being Real_Sequence holds ((for n being (Element of ( NAT )) holds ( F . n ) = ( ( Fib ( n + 1 ) ) / ( Fib n ) )) implies (F is  convergent & ( lim F ) = ( tau ))))
proof
deffunc ff((Element of ( NAT ))) = ( ( ( tau ) to_power $1 ) / ( sqrt 5 ) );
let F;
consider f such that A1: (for n holds ( f . n ) = ( Fib n )) from SEQ_1:sch 1;
set f2 = ( f ^\ 2 );
set f1 = ( f ^\ 1 );
A2: ( f1 ^\ 1 ) = ( f ^\ ( 1 + 1 ) ) by NAT_1:48
.= f2;
A3: (for n holds ( f2 . n ) <> ( 0 ))
proof
let n;
( f2 . n ) = ( f . ( n + 2 ) ) by NAT_1:def 3
.= ( Fib ( ( n + 1 ) + 1 ) ) by A1;
hence thesis by CKB9:1,NAT_1:5;
end;
A4: (for n being Nat holds ( ( f2 /" f2 ) . n ) = 1)
proof
let n being Nat;
A5: n in ( NAT ) by ORDINAL1:def 12;
then ( ( f2 /" f2 ) . n ) = ( ( f2 . n ) * ( ( f2 . n ) " ) ) by CKB32:1
.= ( ( f2 . n ) * ( 1 / ( f2 . n ) ) )
.= 1 by A3,A5,XCMPLX_1:106;
hence thesis;
end;
then A6: ( f2 /" f2 ) is  constant by VALUED_0:def 18;
A7: ( ( f /" f ) ^\ 2 ) = ( f2 /" f2 ) by SEQM_3:20;
then A8: ( f /" f ) is  convergent by A6,SEQ_4:21;
( ( f2 /" f2 ) . ( 0 ) ) = 1 by A4;
then ( lim ( f2 /" f2 ) ) = 1 by A6,SEQ_4:25;
then A9: ( lim ( f /" f ) ) = 1 by A6,A7,SEQ_4:22;
(ex g st (for n holds ( g . n ) = ff(n))) from SEQ_1:sch 1;
then consider g such that A10: (for n holds ( g . n ) = ff(n));
set g1 = ( g ^\ 1 );
A11: (for n holds ( g . n ) <> ( 0 ))
proof
let n;
A12: ( ( sqrt 5 ) " ) <> ( 0 ) by SQUARE_1:20,SQUARE_1:27,XCMPLX_1:202;
A13: ( ( tau ) |^ n ) <> ( 0 ) by CKB24:1,PREPOWER:5;
( g . n ) = ( ( ( tau ) to_power n ) / ( sqrt 5 ) ) by A10
.= ( ( ( tau ) to_power n ) * ( ( sqrt 5 ) " ) )
.= ( ( ( tau ) |^ n ) * ( ( sqrt 5 ) " ) ) by POWER:41;
hence thesis by A13,A12,XCMPLX_1:6;
end;
then A14: g is  non-zero by SEQ_1:5;
then A15: ( f2 /" f1 ) = ( ( f2 /" g1 ) (#) ( g1 /" f1 ) ) by CKB31:1;
set g2 = ( g1 ^\ 1 );
(for n holds ( f1 . n ) <> ( 0 ))
proof
let n;
( f1 . n ) = ( f . ( n + 1 ) ) by NAT_1:def 3
.= ( Fib ( n + 1 ) ) by A1;
hence thesis by CKB12:1;
end;
then A16: f1 is  non-zero by SEQ_1:5;
(for n holds ( ( g2 /" f2 ) . n ) <> ( 0 ))
proof
let n;
A17: ( g2 . n ) <> ( 0 ) by A14,SEQ_1:5;
A18: ( ( g2 /" f2 ) . n ) = ( ( g2 . n ) * ( ( f2 . n ) " ) ) by CKB32:1;
( ( f2 . n ) " ) <> ( 0 ) by A16,A2,SEQ_1:5,XCMPLX_1:202;
hence thesis by A17,A18,XCMPLX_1:6;
end;
then A19: ( g2 /" f2 ) is  non-zero by SEQ_1:5;
g2 = ( g ^\ ( 1 + 1 ) ) by NAT_1:48;
then A20: ( g2 /" f2 ) = ( ( g /" f ) ^\ 2 ) by SEQM_3:20;
A21: (for n holds ( f1 . n ) = ( Fib ( n + 1 ) ))
proof
let n;
( f1 . n ) = ( f . ( n + 1 ) ) by NAT_1:def 3
.= ( Fib ( n + 1 ) ) by A1;
hence thesis;
end;
assume A22: (for n being (Element of ( NAT )) holds ( F . n ) = ( ( Fib ( n + 1 ) ) / ( Fib n ) ));
(for n holds ( F . n ) = ( ( f1 /" f ) . n ))
proof
let n;
( ( f1 /" f ) . n ) = ( ( f1 . n ) / ( f . n ) ) by CKB32:1
.= ( ( Fib ( n + 1 ) ) / ( f . n ) ) by A21
.= ( ( Fib ( n + 1 ) ) / ( Fib n ) ) by A1;
hence thesis by A22;
end;
then F = ( f1 /" f ) by FUNCT_2:63;
then A23: ( f2 /" f1 ) = ( F ^\ 1 ) by A2,SEQM_3:20;
A24: ( g2 /" g1 ) = ( ( g1 /" g ) ^\ 1 ) by SEQM_3:20;
A25: (for n being Nat holds ( ( g1 /" g ) . n ) = ( tau ))
proof
let n being Nat;
A26: n in ( NAT ) by ORDINAL1:def 12;
then A27: ( g . n ) = ( ( ( tau ) to_power n ) / ( sqrt 5 ) ) by A10
.= ( ( ( tau ) to_power n ) * ( ( sqrt 5 ) " ) )
.= ( ( ( tau ) |^ n ) * ( ( sqrt 5 ) " ) ) by POWER:41;
A28: ( g . n ) <> ( 0 ) by A11,A26;
( g1 . n ) = ( g . ( n + 1 ) ) by NAT_1:def 3
.= ( ( ( tau ) to_power ( n + 1 ) ) / ( sqrt 5 ) ) by A10
.= ( ( ( tau ) to_power ( n + 1 ) ) * ( ( sqrt 5 ) " ) )
.= ( ( ( tau ) |^ ( n + 1 ) ) * ( ( sqrt 5 ) " ) ) by POWER:41
.= ( ( ( tau ) * ( ( tau ) |^ n ) ) * ( ( sqrt 5 ) " ) ) by NEWTON:6
.= ( ( tau ) * ( g . n ) ) by A27;
then ( ( g1 /" g ) . n ) = ( ( ( tau ) * ( g . n ) ) * ( ( g . n ) " ) ) by A26,CKB32:1
.= ( ( tau ) * ( ( g . n ) * ( ( g . n ) " ) ) )
.= ( ( tau ) * 1 ) by A28,XCMPLX_0:def 7
.= ( tau );
hence thesis;
end;
( tau ) in ( REAL ) by XREAL_0:def 1;
then A29: ( g1 /" g ) is  constant by A25,VALUED_0:def 18;
A30: (for x holds (( 0 ) < x implies (ex n st (for m holds (n <= m implies ( abs ( ( ( f " ) . m ) - ( 0 ) ) ) < x)))))
proof
let x;
assume ( 0 ) < x;
then consider k such that A31: k > ( 0 ) and ( 0 ) < ( 1 / k ) and A32: ( 1 / k ) <= x by CKB3:1;
(for m holds (( k + 2 ) <= m implies ( abs ( ( ( f " ) . m ) - ( 0 ) ) ) < x))
proof
let m;
( k + 2 ) = ( ( k + 1 ) + 1 );
then A33: ( Fib ( k + 2 ) ) >= ( k + 1 ) by CKB9:1;
assume ( k + 2 ) <= m;
then ( Fib ( k + 2 ) ) <= ( Fib m ) by CKB11:1;
then ( k + 1 ) <= ( Fib m ) by A33,XXREAL_0:2;
then A34: ( k + 1 ) <= ( f . m ) by A1;
then ( 0 ) < ( f . m ) by NAT_1:5,XXREAL_0:2;
then A35: ( 0 ) <= ( ( f . m ) " ) by XREAL_1:122;
( k + ( 0 ) ) < ( k + 1 ) by XREAL_1:6;
then A36: ( 1 / ( k + 1 ) ) < ( 1 / k ) by A31,XREAL_1:88;
A37: ( abs ( ( ( f " ) . m ) - ( 0 ) ) ) = ( abs ( ( f . m ) " ) ) by VALUED_1:10
.= ( ( f . m ) " ) by A35,ABSVALUE:def 1
.= ( 1 / ( f . m ) );
( 1 / ( f . m ) ) <= ( 1 / ( k + 1 ) ) by A34,NAT_1:5,XREAL_1:85;
then ( 1 / ( f . m ) ) < ( 1 / k ) by A36,XXREAL_0:2;
hence thesis by A32,A37,XXREAL_0:2;
end;
hence thesis;
end;
then A38: ( f " ) is  convergent by SEQ_2:def 6;
then A39: ( lim ( f " ) ) = ( 0 ) by A30,SEQ_2:def 7;
deffunc ff((Element of ( NAT ))) = ( ( ( tau_bar ) to_power $1 ) / ( sqrt 5 ) );
(ex h st (for n holds ( h . n ) = ff(n))) from SEQ_1:sch 1;
then consider h such that A40: (for n holds ( h . n ) = ff(n));
A41: (for n holds ( f . n ) = ( ( g . n ) - ( h . n ) ))
proof
let n;
( f . n ) = ( Fib n ) by A1
.= ( ( ( ( tau ) to_power n ) - ( ( tau_bar ) to_power n ) ) / ( sqrt 5 ) ) by CKB27:1
.= ( ( ( ( tau ) to_power n ) / ( sqrt 5 ) ) - ( ( ( tau_bar ) to_power n ) / ( sqrt 5 ) ) )
.= ( ( g . n ) - ( ( ( tau_bar ) to_power n ) / ( sqrt 5 ) ) ) by A10
.= ( ( g . n ) - ( h . n ) ) by A40;
hence thesis;
end;
(for n holds ( g . n ) = ( ( f . n ) + ( h . n ) ))
proof
let n;
( f . n ) = ( ( g . n ) - ( h . n ) ) by A41;
hence thesis;
end;
then g = ( f + h ) by SEQ_1:7;
then A42: ( g /" f ) = ( ( f /" f ) + ( h /" f ) ) by SEQ_1:49;
(for n holds ( abs ( h . n ) ) < 1)
proof
let n;
( h . n ) = ( ( ( tau_bar ) to_power n ) / ( sqrt 5 ) ) by A40;
hence thesis by CKB29:1;
end;
then A43: h is  bounded by SEQ_2:3;
( f " ) is  convergent by A30,SEQ_2:def 6;
then A44: ( h /" f ) is  convergent by A43,A39,SEQ_2:25;
then A45: ( g /" f ) is  convergent by A8,A42,SEQ_2:5;
( ( g1 /" g ) . ( 0 ) ) = ( tau ) by A25;
then ( lim ( g1 /" g ) ) = ( tau ) by A29,SEQ_4:25;
then A46: ( lim ( g2 /" g1 ) ) = ( tau ) by A29,A24,SEQ_4:20;
A47: ( g1 /" f1 ) = ( ( g /" f ) ^\ 1 ) by SEQM_3:20;
( lim ( h /" f ) ) = ( 0 ) by A43,A38,A39,SEQ_2:26;
then A48: ( lim ( g /" f ) ) = ( 1 + ( 0 ) ) by A44,A8,A9,A42,SEQ_2:6
.= 1;
then A49: ( lim ( g2 /" f2 ) ) = 1 by A45,A20,SEQ_4:20;
then ( ( g2 /" f2 ) " ) is  convergent by A45,A20,A19,SEQ_2:21;
then A50: ( f2 /" g2 ) is  convergent by SEQ_1:40;
A51: ( f2 /" g1 ) = ( ( f2 /" g2 ) (#) ( g2 /" g1 ) ) by A14,CKB31:1;
then A52: ( f2 /" g1 ) is  convergent by A29,A50,A24,SEQ_2:14;
then A53: ( f2 /" f1 ) is  convergent by A45,A47,A15,SEQ_2:14;
hence F is  convergent by A23,SEQ_4:21;
( lim ( ( g2 /" f2 ) " ) ) = ( 1 " ) by A45,A20,A49,A19,SEQ_2:22
.= 1;
then ( lim ( f2 /" g2 ) ) = 1 by SEQ_1:40;
then A54: ( lim ( f2 /" g1 ) ) = ( 1 * ( tau ) ) by A29,A51,A50,A24,A46,SEQ_2:15
.= ( tau );
( lim ( g1 /" f1 ) ) = 1 by A45,A48,A47,SEQ_4:20;
then ( lim ( f2 /" f1 ) ) = ( ( tau ) * 1 ) by A45,A54,A52,A47,A15,SEQ_2:15;
hence thesis by A53,A23,SEQ_4:22;
end;
