environ
vocabularies NUMBERS,SUBSET_1,INT_2,ARYTM_3,RELAT_1,NAT_1,CARD_1,XXREAL_0,XREAL_0,ORDINAL1,PRE_FF,FUNCT_3,SQUARE_1,ARYTM_1,COMPLEX1,POWER,NEWTON,SEQ_1,VALUED_0,VALUED_1,FUNCT_1,SEQ_2,ORDINAL2,XXREAL_2,FIB_NUM;
notations SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,SQUARE_1,NAT_1,NAT_D,INT_2,VALUED_0,VALUED_1,SEQ_1,XXREAL_0,COMPLEX1,PRE_FF,SEQ_2,LIMFUNC1,QUIN_1,NEWTON,POWER;
definitions SQUARE_1,VALUED_1,XCMPLX_0;
theorems NAT_1,PRE_FF,INT_2,SQUARE_1,WSIERP_1,EULER_1,PYTHTRIP,QUIN_1,ABSVALUE,POWER,NEWTON,SEQM_3,SEQ_1,SEQ_2,SEQ_4,PREPOWER,XCMPLX_0,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,FUNCT_2,ORDINAL1,NAT_D,VALUED_1,VALUED_0,XREAL_0,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14;
schemes NAT_1,SEQ_1,CKB4,CKB5;
registrations RELSET_1,XREAL_0,SQUARE_1,MEMBERED,QUIN_1,NEWTON,INT_1,VALUED_0,VALUED_1,FUNCT_2,NUMBERS,SEQ_4,SETFAM_1,REALSET1,FINSET_1;
constructors REAL_1,SQUARE_1,NAT_1,NAT_D,QUIN_1,SEQ_2,SEQM_3,LIMFUNC1,NEWTON,POWER,PRE_FF,SEQ_1,VALUED_1,PARTFUN1,SETFAM_1,RELSET_1,BINOP_2,RVSUM_1;
requirements SUBSET,NUMERALS,REAL,ARITHM,BOOLE;
begin
reserve k for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
theorem
(for m,n being (Element of ( NAT )) holds ( ( Fib m ) gcd ( Fib n ) ) = ( Fib ( m gcd n ) ))
proof
defpred P[ (Element of ( NAT )),(Element of ( NAT )) ]
 means
( ( Fib $1 ) gcd ( Fib $2 ) ) = ( Fib ( $1 gcd $2 ) );
A1: (for k holds ((for m holds (for n holds ((m < k & n < k) implies P[ m,n ]))) implies (for m holds (m <= k implies P[ k,m ]))))
proof
let k;
assume A2: (for m holds (for n holds ((m < k & n < k) implies P[ m,n ])));
let m;
assume A3: m <= k;
per cases  by A3,XXREAL_0:1;
suppose A4: m = k;

hence ( ( Fib k ) gcd ( Fib m ) ) = ( Fib k ) by NAT_D:32
.= ( Fib ( k gcd m ) ) by A4,NAT_D:32;
end;
suppose A5: m < k;

A6: (not m < ( 0 )) by NAT_1:2;
thus thesis
proof
per cases  by A6,XXREAL_0:1;
suppose A7: m = ( 0 );

then ( ( Fib k ) gcd ( Fib m ) ) = ( Fib k ) by NEWTON:52,PRE_FF:1;
hence thesis by A7,NEWTON:52;
end;
suppose A8: m > ( 0 );

thus thesis
proof
consider r being Nat such that A9: k = ( m + r ) by A3,NAT_1:10;
reconsider r as (Element of ( NAT )) by ORDINAL1:def 12;
A10: r <= k by A9,NAT_1:11;
r <> ( 0 ) by A5,A9;
then consider rr being Nat such that A11: r = ( rr + 1 ) by NAT_1:6;
reconsider rr as (Element of ( NAT )) by ORDINAL1:def 12;
( Fib k ) = ( ( ( Fib ( rr + 1 ) ) * ( Fib ( m + 1 ) ) ) + ( ( Fib rr ) * ( Fib m ) ) ) by A9,A11,CKB13:1;
then A12: ( ( Fib k ) gcd ( Fib m ) ) = ( ( Fib m ) gcd ( ( Fib ( m + 1 ) ) * ( Fib r ) ) ) by A11,EULER_1:8;
( ( Fib m ) gcd ( Fib ( m + 1 ) ) ) = 1 by CKB14:1;
then A13: ( ( Fib k ) gcd ( Fib m ) ) = ( ( Fib m ) gcd ( Fib r ) ) by A12,CKB2:1;
r <> k by A8,A9;
then A14: r < k by A10,XXREAL_0:1;
( k gcd m ) = ( m gcd r ) by A9,CKB1:1;
hence thesis by A2,A5,A13,A14;
end;

end;
end;

end;
end;
A15: (for m holds (for n holds (P[ m,n ] implies P[ n,m ])));
thus (for m holds (for n holds P[ m,n ])) from CKB5:sch 1(A15,A1);
end;
