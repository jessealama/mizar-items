environ
vocabularies NUMBERS,SUBSET_1,FINSEQ_1,INT_1,RELAT_1,FUNCT_1,ORDINAL4,XBOOLE_0,XXREAL_0,PARTFUN1,GRAPH_1,STRUCT_0,TREES_2,GLIB_000,GRAPH_5,CARD_3,GRAPH_4,NAT_1,ARYTM_3,TARSKI,CARD_1,FINSET_1,FUNCT_4,REAL_1,FUNCT_2,ARYTM_1,GRAPHSP;
notations XCMPLX_0,XXREAL_0,REAL_1,INT_1,TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FINSEQ_1,SEQ_1,FINSEQ_2,FINSEQ_4,CARD_1,FINSET_1,STRUCT_0,GRAPH_1,PARTFUN1,FUNCT_2,CQC_SIM1,GRAPH_4,GRAPH_5,NAT_D,DOMAIN_1,RVSUM_1,NUMBERS,FUNCT_7,NAT_1,CKB21,CKB22,CKB23,CKB28,CKB29,CKB30,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB44,CKB45,CKB51,CKB54,CKB62,CKB63,CKB64,CKB65,CKB75,CKB83,CKB84;
definitions TARSKI,RVSUM_1,CKB23,CKB30,CKB35,CKB36,CKB37,CKB38,CKB39,CKB44,CKB45,CKB51,CKB54,CKB62,CKB63,CKB64,CKB65,CKB75,CKB83,CKB84;
theorems FUNCT_2,FUNCT_1,PARTFUN1,FINSEQ_1,NAT_1,ZFMISC_1,TARSKI,FINSEQ_3,XBOOLE_0,XBOOLE_1,SUBSET_1,GRAPH_1,FINSEQ_4,CARD_2,INT_1,GRAPH_5,GRAPH_4,FINSEQ_2,ENUMSET1,FUNCT_7,XREAL_1,XXREAL_0,FINSOP_1,ORDINAL1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB23,CKB24,CKB25,CKB26,CKB27,CKB30,CKB31,CKB32,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB48,CKB49,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84;
schemes NAT_1,GRAPH_5,CLASSES1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,GRAPH_1,GRAPH_4,GRAPH_5,VALUED_0,CARD_1,FUNCT_1,CKB47,CKB50;
constructors DOMAIN_1,XXREAL_0,REAL_1,FINSEQ_4,FINSOP_1,NAT_D,FUNCT_7,CQC_SIM1,GRAPH_4,GRAPH_5,SEQ_1,BINOP_2,RVSUM_1,RELSET_1,CKB22,CKB23,CKB28,CKB29,CKB30,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB44,CKB45,CKB51,CKB54,CKB62,CKB63,CKB64,CKB65,CKB75,CKB83,CKB84;
requirements NUMERALS,SUBSET,BOOLE,REAL,ARITHM;
begin
reserve k for (Element of ( NAT ));
theorem
(for p,q being (FinSequence of ( NAT )) holds (for f being (Element of ( ( REAL ) * )) holds (for i,n being (Element of ( NAT )) holds ((p is_simple_vertex_seq_at f,i,n & q is_simple_vertex_seq_at f,i,n) implies p = q))))
proof
let p being (FinSequence of ( NAT )),q being (FinSequence of ( NAT ));
let f being (Element of ( ( REAL ) * ));
let i being (Element of ( NAT )),n being (Element of ( NAT ));
assume that
A1: p is_simple_vertex_seq_at f,i,n
and
A2: q is_simple_vertex_seq_at f,i,n;
A3: ( p . 1 ) = 1 by A1,CKB84:def 1;
A4: ( q . 1 ) = 1 by A2,CKB84:def 1;
A5: p is_vertex_seq_at f,i,n by A1,CKB84:def 1;
then A6: (( p . ( len p ) ) = i & (for k holds ((1 <= k & k < ( len p )) implies ( p . ( ( len p ) - k ) ) = ( f . ( ( p /. ( ( ( len p ) - k ) + 1 ) ) + n ) )))) by CKB83:def 1;
A7: q is_vertex_seq_at f,i,n by A2,CKB84:def 1;
then A8: ( q . ( len q ) ) = i by CKB83:def 1;
A9: (for k holds ((1 <= k & k < ( len q )) implies ( q . ( ( len q ) - k ) ) = ( f . ( ( q /. ( ( ( len q ) - k ) + 1 ) ) + n ) ))) by A7,CKB83:def 1;
A10: ( len p ) > 1 by A1,CKB84:def 1;
A11:now
assume A12: ( len p ) <> ( len q );
per cases ;
suppose A13: ( len p ) < ( len q );

A14: ( ( len p ) - 1 ) > ( 1 - 1 ) by A10,XREAL_1:14;
then reconsider k = ( ( len p ) - 1 ) as (Element of ( NAT )) by INT_1:3;
A15: ( ( len p ) - k ) = ( ( 0 ) + 1 );
then A16: ( ( len q ) - k ) > 1 by A13,XREAL_1:14;
then reconsider m = ( ( len q ) - k ) as (Element of ( NAT )) by INT_1:3;
A17: k < ( len p ) by XREAL_1:146;
k >= ( ( 0 ) + 1 ) by A14,INT_1:7;
then A18: 1 = ( q . ( ( len q ) - k ) ) by A3,A6,A8,A9,A13,A15,A17,CKB73:1;
(q is  one-to-one & m <= ( len q )) by A2,CKB84:def 1,CKB72:1;
hence contradiction by A4,A18,A16,GRAPH_5:6;
end;
suppose A19: ( len p ) >= ( len q );

A20: p is  one-to-one by A1,CKB84:def 1;
A21: ( len p ) > ( len q ) by A12,A19,XXREAL_0:1;
hereby
per cases ;
suppose ( len q ) <= 1;

hence contradiction by A2,CKB84:def 1;
end;
suppose ( len q ) > 1;

then A22: ( ( len q ) - 1 ) > ( 1 - 1 ) by XREAL_1:14;
then reconsider k = ( ( len q ) - 1 ) as (Element of ( NAT )) by INT_1:3;
A23: k < ( len q ) by XREAL_1:146;
A24: ( ( len q ) - k ) = ( ( 0 ) + 1 );
then A25: ( ( len p ) - k ) > 1 by A21,XREAL_1:14;
then reconsider m = ( ( len p ) - k ) as (Element of ( NAT )) by INT_1:3;
k >= ( ( 0 ) + 1 ) by A22,INT_1:7;
then A26: 1 = ( p . ( ( len p ) - k ) ) by A6,A4,A8,A9,A19,A24,A23,CKB73:1;
m <= ( len p ) by CKB72:1;
hence contradiction by A3,A20,A26,A25,GRAPH_5:6;
end;
end;
end;
end;
now
let k being Nat;
assume that
A27: 1 <= k
and
A28: k <= ( len p );
per cases ;
suppose k = ( len p );

hence ( p . k ) = ( q . k ) by A5,A8,A11,CKB83:def 1;
end;
suppose k <> ( len p );

then k < ( len p ) by A28,XXREAL_0:1;
then A29: ( ( len p ) - k ) > ( k - k ) by XREAL_1:14;
then reconsider m = ( ( len p ) - k ) as (Element of ( NAT )) by INT_1:3;
A30: ( ( len q ) - m ) = ( ( 0 ) + k ) by A11;
( ( len p ) - k ) <= ( ( len p ) - 1 ) by A27,XREAL_1:13;
then A31: m < ( len p ) by XREAL_1:146,XXREAL_0:2;
m >= ( ( 0 ) + 1 ) by A29,INT_1:7;
hence ( p . k ) = ( q . k ) by A6,A8,A9,A30,A31,CKB73:1;
end;
end;
hence thesis by A11,FINSEQ_1:14;
end;
