environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,XREAL_0,ORDINAL1,XXREAL_0,SEQ_4,XXREAL_2,ARYTM_1,CARD_1,ARYTM_3,METRIC_1,NAT_1,PCOMPS_1,SEQ_2,FUNCT_1,RCOMP_1,ORDINAL2,TARSKI,REAL_1,STRUCT_0,PRE_TOPC,RELAT_1,SEQ_1,COMPLEX1,XXREAL_1,TOPMETR,VALUED_0,BORSUK_1,EUCLID,TOPREAL1,TOPREAL2,PSCOMP_1,JORDAN6,TOPS_2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XXREAL_2,XREAL_0,COMPLEX1,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,NAT_1,STRUCT_0,METRIC_1,PRE_TOPC,TOPS_2,COMPTS_1,PCOMPS_1,RCOMP_1,EUCLID,PSCOMP_1,TOPMETR,SEQ_1,SEQ_2,SEQM_3,SEQ_4,TBSP_1,JORDAN6,TOPREAL1,TOPREAL2;
definitions TARSKI,STRUCT_0,XXREAL_2;
theorems PRE_TOPC,TOPMETR,XREAL_0,TBSP_1,XBOOLE_0,METRIC_1,FUNCT_1,XBOOLE_1,FUNCT_2,JGRAPH_2,GOBOARD6,SEQ_2,TREAL_1,SEQ_4,NAT_1,SEQM_3,UNIFORM1,BORSUK_1,JORDAN6,TOPREAL1,TOPS_2,TARSKI,RELAT_1,TOPREAL3,JORDAN5B,PREPOWER,XCMPLX_1,XREAL_1,XXREAL_0,XXREAL_1,EUCLID,XXREAL_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
schemes FUNCT_2,RECDEF_1,NAT_1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,PRE_TOPC,METRIC_1,PCOMPS_1,EUCLID,TOPMETR,COMPTS_1,VALUED_0,SEQ_4;
constructors REAL_1,NAT_1,COMPLEX1,SEQM_3,RCOMP_1,TOPS_2,COMPTS_1,TBSP_1,TOPMETR,TOPREAL1,PSCOMP_1,JORDAN5C,JORDAN6,SEQ_1,XXREAL_2,SEQ_4,BINOP_2,RVSUM_1,SEQ_2,PCOMPS_1;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th17: (for X being non  empty MetrSpace holds (for f being (Function of ( I[01] ),( TopSpaceMetr X )) holds (for F1,F2 being (Subset of ( TopSpaceMetr X )) holds (for r1,r2 being Real holds (((((((((( 0 ) <= r1 & r2 <= 1) & r1 <= r2) & ( f . r1 ) in F1) & ( f . r2 ) in F2) & F1 is  closed) & F2 is  closed) & f is  continuous) & ( F1 \/ F2 ) = (the carrier of X)) implies (ex r being Real st ((r1 <= r & r <= r2) & ( f . r ) in ( F1 /\ F2 ))))))))
proof
let X being non  empty MetrSpace;
let f being (Function of ( I[01] ),( TopSpaceMetr X ));
let F1 being (Subset of ( TopSpaceMetr X ));
let F2 being (Subset of ( TopSpaceMetr X ));
let r1 being Real;
let r2 being Real;
assume that
A1: ( 0 ) <= r1
and
A2: r2 <= 1
and
A3: (r1 <= r2 & ( f . r1 ) in F1)
and
A4: ( f . r2 ) in F2
and
A5: F1 is  closed
and
A6: F2 is  closed
and
A7: f is  continuous
and
A8: ( F1 \/ F2 ) = (the carrier of X);
A9: r1 in { r3 where r3 is Real: ((r1 <= r3 & r3 <= r2) & ( f . r3 ) in F1) } by A3;
{ r3 where r3 is Real: ((r1 <= r3 & r3 <= r2) & ( f . r3 ) in F1) } c= ( REAL )
proof
let x being set;
assume x in { r3 where r3 is Real: ((r1 <= r3 & r3 <= r2) & ( f . r3 ) in F1) };
then (ex r3 being Real st (((r3 = x & r1 <= r3) & r3 <= r2) & ( f . r3 ) in F1));
hence thesis;
end;
then reconsider R = { r3 where r3 is Real: ((r1 <= r3 & r3 <= r2) & ( f . r3 ) in F1) } as non  empty (Subset of ( REAL )) by A9;
A10: (for r being  real number holds (r in R implies r <= r2))
proof
let r being  real number;
assume r in R;
then (ex r3 being Real st (((r3 = r & r1 <= r3) & r3 <= r2) & ( f . r3 ) in F1));
hence thesis;
end;
r2 is (UpperBound of R)
proof
let r being  ext-real number;
assume r in R;
then (ex r3 being Real st (((r3 = r & r1 <= r3) & r3 <= r2) & ( f . r3 ) in F1));
hence thesis;
end;
then A11: R is  bounded_above by XXREAL_2:def 10;
then consider s1 being Real_Sequence such that A12: s1 is  non-decreasing  convergent and A13: ( rng s1 ) c= R and A14: ( lim s1 ) = ( upper_bound R ) by CKB11:1;
{ r3 where r3 is Real: ((r1 <= r3 & r3 <= r2) & ( f . r3 ) in F1) } c= [. ( 0 ),1 .]
proof
let x being set;
assume x in { r3 where r3 is Real: ((r1 <= r3 & r3 <= r2) & ( f . r3 ) in F1) };
then consider r3 being Real such that A15: (r3 = x & r1 <= r3) and A16: r3 <= r2 and ( f . r3 ) in F1;
r3 <= 1 by A2,A16,XXREAL_0:2;
hence thesis by A1,A15,XXREAL_1:1;
end;
then reconsider S1 = s1 as (sequence of ( Closed-Interval-MSpace (( 0 ),1) )) by A13,CKB5:1,XBOOLE_1:1;
A17: ( I[01] ) = ( TopSpaceMetr ( Closed-Interval-MSpace (( 0 ),1) ) ) by TOPMETR:20,TOPMETR:def 7;
then reconsider S00 = ( f * S1 ) as (sequence of X) by CKB2:1;
A18: S00 is  convergent by A7,A12,A17,CKB3:1,CKB8:1;
( dom f ) = (the carrier of ( I[01] )) by FUNCT_2:def 1
.= (the carrier of ( Closed-Interval-MSpace (( 0 ),1) )) by A17,TOPMETR:12;
then ( f . ( lim S1 ) ) in ( rng f ) by FUNCT_1:3;
then reconsider t1 = ( f . ( lim S1 ) ) as (Point of X) by TOPMETR:12;
reconsider S2 = s1 as (sequence of ( RealSpace )) by METRIC_1:def 13;
A19: S1 is  convergent by A12,CKB8:1;
then S2 is  convergent by CKB7:1;
then ( lim S2 ) = ( lim S1 ) by CKB7:1;
then A20: ( lim s1 ) = ( lim S1 ) by A12,CKB4:1;
A21: (for r being Real holds (r > ( 0 ) implies (ex n being (Element of ( NAT )) st (for m being (Element of ( NAT )) holds (m >= n implies ( dist (( S00 . m ),t1) ) < r)))))
proof
let r being Real;
assume r > ( 0 );
then consider r7 being Real such that A22: r7 > ( 0 ) and A23: (for w being (Point of ( Closed-Interval-MSpace (( 0 ),1) )) holds (for w1 being (Point of X) holds ((w1 = ( f . w ) & ( dist (( lim S1 ),w) ) < r7) implies ( dist (t1,w1) ) < r))) by A7,A17,UNIFORM1:4;
consider n0 being (Element of ( NAT )) such that A24: (for m being (Element of ( NAT )) holds (m >= n0 implies ( dist (( S1 . m ),( lim S1 )) ) < r7)) by A19,A22,TBSP_1:def 3;
(for m being (Element of ( NAT )) holds (m >= n0 implies ( dist (( S00 . m ),t1) ) < r))
proof
let m being (Element of ( NAT ));
( dom S00 ) = ( NAT ) by TBSP_1:4;
then A25: ( S00 . m ) = ( f . ( S1 . m ) ) by FUNCT_1:12;
assume m >= n0;
then ( dist (( lim S1 ),( S1 . m )) ) < r7 by A24;
hence thesis by A23,A25;
end;
hence thesis;
end;
A26: r2 >= ( upper_bound R ) by A10,SEQ_4:144;
then A27: r2 in { r3 where r3 is Real: ((( upper_bound R ) <= r3 & r3 <= r2) & ( f . r3 ) in F2) } by A4;
{ r3 where r3 is Real: ((( upper_bound R ) <= r3 & r3 <= r2) & ( f . r3 ) in F2) } c= ( REAL )
proof
let x being set;
assume x in { r3 where r3 is Real: ((( upper_bound R ) <= r3 & r3 <= r2) & ( f . r3 ) in F2) };
then (ex r3 being Real st (((r3 = x & ( upper_bound R ) <= r3) & r3 <= r2) & ( f . r3 ) in F2));
hence thesis;
end;
then reconsider R2 = { r3 where r3 is Real: ((( upper_bound R ) <= r3 & r3 <= r2) & ( f . r3 ) in F2) } as non  empty (Subset of ( REAL )) by A27;
A28: (for r being  real number holds (r in R2 implies r >= ( upper_bound R )))
proof
let r being  real number;
assume r in R2;
then (ex r3 being Real st (((r3 = r & ( upper_bound R ) <= r3) & r3 <= r2) & ( f . r3 ) in F2));
hence thesis;
end;
( upper_bound R ) is (LowerBound of R2)
proof
let r being  ext-real number;
assume r in R2;
then (ex r3 being Real st (((r3 = r & ( upper_bound R ) <= r3) & r3 <= r2) & ( f . r3 ) in F2));
hence thesis;
end;
then A29: R2 is  bounded_below by XXREAL_2:def 9;
then consider s2 being Real_Sequence such that A30: s2 is  non-increasing  convergent and A31: ( rng s2 ) c= R2 and A32: ( lim s2 ) = ( lower_bound R2 ) by CKB12:1;
A33: ( 0 ) <= ( upper_bound R ) by A1,A9,A11,SEQ_4:def 1;
{ r3 where r3 is Real: ((( upper_bound R ) <= r3 & r3 <= r2) & ( f . r3 ) in F2) } c= [. ( 0 ),1 .]
proof
let x being set;
assume x in { r3 where r3 is Real: ((( upper_bound R ) <= r3 & r3 <= r2) & ( f . r3 ) in F2) };
then consider r3 being Real such that A34: (r3 = x & ( upper_bound R ) <= r3) and A35: r3 <= r2 and ( f . r3 ) in F2;
r3 <= 1 by A2,A35,XXREAL_0:2;
hence thesis by A33,A34,XXREAL_1:1;
end;
then reconsider S1 = s2 as (sequence of ( Closed-Interval-MSpace (( 0 ),1) )) by A31,CKB5:1,XBOOLE_1:1;
reconsider S2 = s2 as (sequence of ( RealSpace )) by METRIC_1:def 13;
A36: S1 is  convergent by A30,CKB8:1;
then S2 is  convergent by CKB7:1;
then ( lim S2 ) = ( lim S1 ) by CKB7:1;
then A37: ( lim s2 ) = ( lim S1 ) by A30,CKB4:1;
(for n4 being (Element of ( NAT )) holds ( S00 . n4 ) in F1)
proof
let n4 being (Element of ( NAT ));
( dom s1 ) = ( NAT ) by FUNCT_2:def 1;
then ( s1 . n4 ) in ( rng s1 ) by FUNCT_1:def 3;
then ( s1 . n4 ) in R by A13;
then (( dom S00 ) = ( NAT ) & (ex r3 being Real st (((r3 = ( s1 . n4 ) & r1 <= r3) & r3 <= r2) & ( f . r3 ) in F1))) by TBSP_1:4;
hence thesis by FUNCT_1:12;
end;
then ( lim S00 ) in F1 by A5,A7,A19,A17,CKB1:1,CKB3:1;
then A38: ( f . ( lim s1 ) ) in F1 by A20,A18,A21,TBSP_1:def 3;
A39: ( I[01] ) = ( TopSpaceMetr ( Closed-Interval-MSpace (( 0 ),1) ) ) by TOPMETR:20,TOPMETR:def 7;
then reconsider S00 = ( f * S1 ) as (sequence of X) by CKB2:1;
( dom f ) = (the carrier of ( I[01] )) by FUNCT_2:def 1
.= (the carrier of ( Closed-Interval-MSpace (( 0 ),1) )) by A39,TOPMETR:12;
then ( f . ( lim S1 ) ) in ( rng f ) by FUNCT_1:3;
then reconsider t1 = ( f . ( lim S1 ) ) as (Point of X) by TOPMETR:12;
A40: (for r being Real holds (r > ( 0 ) implies (ex n being (Element of ( NAT )) st (for m being (Element of ( NAT )) holds (m >= n implies ( dist (( S00 . m ),t1) ) < r)))))
proof
let r being Real;
assume r > ( 0 );
then consider r7 being Real such that A41: r7 > ( 0 ) and A42: (for w being (Point of ( Closed-Interval-MSpace (( 0 ),1) )) holds (for w1 being (Point of X) holds ((w1 = ( f . w ) & ( dist (( lim S1 ),w) ) < r7) implies ( dist (t1,w1) ) < r))) by A7,A39,UNIFORM1:4;
consider n0 being (Element of ( NAT )) such that A43: (for m being (Element of ( NAT )) holds (m >= n0 implies ( dist (( S1 . m ),( lim S1 )) ) < r7)) by A36,A41,TBSP_1:def 3;
(for m being (Element of ( NAT )) holds (m >= n0 implies ( dist (( S00 . m ),t1) ) < r))
proof
let m being (Element of ( NAT ));
( dom S00 ) = ( NAT ) by TBSP_1:4;
then A44: ( S00 . m ) = ( f . ( S1 . m ) ) by FUNCT_1:12;
assume m >= n0;
then ( dist (( lim S1 ),( S1 . m )) ) < r7 by A43;
hence thesis by A42,A44;
end;
hence thesis;
end;
A45: r1 <= ( upper_bound R ) by A9,A11,SEQ_4:def 1;
(for s being  real number holds (( 0 ) < s implies (ex r being  real number st (r in R2 & r < ( ( upper_bound R ) + s )))))
proof
let s being  real number;
assume A46: ( 0 ) < s;
now
assume A47: (for r being  real number holds (r < ( ( upper_bound R ) + s ) implies (not r in R2)));
now
per cases  by A26,XREAL_1:48;
case ( r2 - ( upper_bound R ) ) = ( 0 );
hence contradiction by A27,A46,A47,XREAL_1:29;
end;
case A48: ( r2 - ( upper_bound R ) ) > ( 0 );
set rs0 = ( min (( r2 - ( upper_bound R ) ),s) );
set r0 = ( ( upper_bound R ) + ( rs0 / 2 ) );
A49: rs0 > ( 0 ) by A46,A48,XXREAL_0:21;
then A50: ( upper_bound R ) < r0 by XREAL_1:29,XREAL_1:215;
rs0 <= ( r2 - ( upper_bound R ) ) by XXREAL_0:17;
then A51: ( ( upper_bound R ) + rs0 ) <= ( ( upper_bound R ) + ( r2 - ( upper_bound R ) ) ) by XREAL_1:7;
A52: ( rs0 / 2 ) < rs0 by A49,XREAL_1:216;
then ( ( upper_bound R ) + ( rs0 / 2 ) ) < ( ( upper_bound R ) + rs0 ) by XREAL_1:8;
then A53: r0 <= r2 by A51,XXREAL_0:2;
then r0 <= 1 by A2,XXREAL_0:2;
then r0 in (the carrier of ( I[01] )) by A1,A45,A49,BORSUK_1:40,XXREAL_1:1;
then r0 in ( dom f ) by FUNCT_2:def 1;
then ( f . r0 ) in ( rng f ) by FUNCT_1:def 3;
then ( f . r0 ) in (the carrier of ( TopSpaceMetr X ));
then ( f . r0 ) in (the carrier of X) by TOPMETR:12;
then A54: (( f . r0 ) in F1 or ( f . r0 ) in F2) by A8,XBOOLE_0:def 3;
( upper_bound R ) <= ( ( upper_bound R ) + ( rs0 / 2 ) ) by A49,XREAL_1:29,XREAL_1:215;
then A55: r1 <= r0 by A45,XXREAL_0:2;
rs0 <= s by XXREAL_0:17;
then ( rs0 / 2 ) < s by A52,XXREAL_0:2;
then r0 < ( ( upper_bound R ) + s ) by XREAL_1:8;
then A56: (not r0 in R2) by A47;
( upper_bound R ) < r0 by A49,XREAL_1:29,XREAL_1:215;
then r0 in R by A56,A55,A53,A54;
hence contradiction by A11,A50,SEQ_4:def 1;
end;
end;
hence contradiction;
end;
hence thesis;
end;
then A57: ( upper_bound R ) = ( lower_bound R2 ) by A28,A29,SEQ_4:def 2;
S00 is  convergent by A7,A30,A39,CKB3:1,CKB8:1;
then A58: ( f . ( lim S1 ) ) = ( lim S00 ) by A40,TBSP_1:def 3;
(for n4 being (Element of ( NAT )) holds ( S00 . n4 ) in F2)
proof
let n4 being (Element of ( NAT ));
( dom s2 ) = ( NAT ) by FUNCT_2:def 1;
then ( s2 . n4 ) in ( rng s2 ) by FUNCT_1:def 3;
then ( s2 . n4 ) in R2 by A31;
then (( dom S00 ) = ( NAT ) & (ex r3 being Real st (((r3 = ( s2 . n4 ) & ( upper_bound R ) <= r3) & r3 <= r2) & ( f . r3 ) in F2))) by TBSP_1:4;
hence thesis by FUNCT_1:12;
end;
then ( lim S00 ) in F2 by A6,A7,A36,A39,CKB1:1,CKB3:1;
then ( f . ( lim s1 ) ) in ( F1 /\ F2 ) by A57,A14,A38,A32,A37,A58,XBOOLE_0:def 4;
hence thesis by A26,A45,A14;
end;
