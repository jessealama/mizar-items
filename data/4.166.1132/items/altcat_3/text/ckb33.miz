environ
vocabularies ALTCAT_1,XBOOLE_0,CAT_1,RELAT_1,CAT_3,BINOP_1,RELAT_2,FUNCT_1,FUNCOP_1,TARSKI,FUNCT_2,SUBSET_1,SETFAM_1,ZFMISC_1,ALTCAT_3;
notations TARSKI,ZFMISC_1,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,STRUCT_0,ALTCAT_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB10,CKB14,CKB16,CKB17;
definitions TARSKI,CKB1,CKB3,CKB4,CKB6,CKB10,CKB14,CKB16,CKB17;
theorems FUNCOP_1,RELAT_1,FUNCT_2,ZFMISC_1,ALTCAT_1,TARSKI,FUNCT_1,REALSET1,XBOOLE_0,XBOOLE_1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32;
schemes FUNCT_1;
registrations XBOOLE_0,SETFAM_1,FUNCT_1,RELSET_1,ALTCAT_1,ZFMISC_1;
constructors SETFAM_1,REALSET1,ALTCAT_1,RELSET_1,CKB1,CKB3,CKB4,CKB6,CKB10,CKB14,CKB16,CKB17;
requirements SUBSET,BOOLE;
begin
theorem
(for C being category holds ((for o1,o2 being (object of C) holds (for A1 being (Morphism of o1,o2) holds A1 is  retraction)) implies (for a,b being (object of C) holds (for A being (Morphism of a,b) holds ((<^ a,b ^> <> ( {} ) & <^ b,a ^> <> ( {} )) implies A is  iso)))))
proof
let C being category;
assume A1: (for o1,o2 being (object of C) holds (for A1 being (Morphism of o1,o2) holds A1 is  retraction));
thus (for a,b being (object of C) holds (for A being (Morphism of a,b) holds ((<^ a,b ^> <> ( {} ) & <^ b,a ^> <> ( {} )) implies A is  iso)))
proof
let a being (object of C);
let b being (object of C);
let A being (Morphism of a,b);
assume that
A2: <^ a,b ^> <> ( {} )
and
A3: <^ b,a ^> <> ( {} );
A4: A is  retraction by A1;
A is  coretraction
proof
consider A1 being (Morphism of b,a) such that A5: A1 is_right_inverse_of A by A4,CKB3:def 1;
( A1 * ( A * A1 ) ) = ( A1 * ( idm b ) ) by A5,CKB1:def 1;
then ( A1 * ( A * A1 ) ) = A1 by A3,ALTCAT_1:def 17;
then ( ( A1 * A ) * A1 ) = A1 by A2,A3,ALTCAT_1:21;
then A6: ( ( A1 * A ) * A1 ) = ( ( idm a ) * A1 ) by A3,ALTCAT_1:20;
(A1 is  epi & <^ a,a ^> <> ( {} )) by A1,A2,A3,CKB24:1,ALTCAT_1:19;
then ( A1 * A ) = ( idm a ) by A6,CKB17:def 1;
then A1 is_left_inverse_of A by CKB1:def 1;
hence thesis by CKB4:def 1;
end;
hence thesis by A2,A3,A4,CKB12:1;
end;

end;
