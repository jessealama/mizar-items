environ
vocabularies NUMBERS,XREAL_0,ORDINAL1,SUBSET_1,RELAT_1,WELLORD1,RELAT_2,ZFMISC_1,TARSKI,XBOOLE_0,FUNCT_1,FINSEQ_1,PRE_TOPC,METRIC_1,SETFAM_1,CARD_5,RCOMP_1,STRUCT_0,PCOMPS_1,CARD_1,ARYTM_3,XXREAL_0,ORDINAL4,PARTFUN1,NEWTON,NAT_1,REAL_1,FINSET_1,ARYTM_1,PCOMPS_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XREAL_0,REAL_1,TOPS_2,FUNCT_1,PARTFUN1,FUNCT_2,NAT_1,SETFAM_1,STRUCT_0,NEWTON,METRIC_1,PRE_TOPC,PCOMPS_1,WELLORD1,RELAT_1,FINSEQ_1,FINSET_1,RELAT_2,FINSEQ_2,XXREAL_0,CKB3,CKB4,CKB5;
definitions TARSKI,WELLORD1,RELAT_2,SETFAM_1,XBOOLE_0,PRE_TOPC,STRUCT_0,CKB3,CKB4,CKB5;
theorems PCOMPS_1,COMPTS_1,SETFAM_1,TOPS_1,TOPS_2,PRE_TOPC,SUBSET_1,TARSKI,WELLORD2,ZFMISC_1,NAT_1,PREPOWER,WELLORD1,RELAT_1,RELAT_2,FUNCT_1,METRIC_1,FINSEQ_1,CARD_1,FINSEQ_2,FINSEQ_4,TBSP_1,NEWTON,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,CKB1,CKB3,CKB4,CKB5;
schemes NAT_1,FUNCT_2,SUBSET_1,RECDEF_1,TREES_2,FRAENKEL,XBOOLE_0,CKB2;
registrations SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,XXREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,PRE_TOPC,METRIC_1,TOPS_1;
constructors SETFAM_1,RELAT_2,WELLORD1,WELLORD2,XXREAL_0,REAL_1,NAT_1,PARTFUN1,MEMBERED,NEWTON,TOPS_2,COMPTS_1,PCOMPS_1,RELSET_1,CKB3,CKB4,CKB5;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve PT for non  empty TopSpace;
reserve FX for (Subset-Family of PT);
reserve HX for (Subset-Family of PT);
reserve Y for (Subset of PT);
reserve V for (Subset of PT);
reserve W for (Subset of PT);
theorem
Th6: (PT is  regular implies (for FX holds ((FX is (Cover of PT) & FX is  open) implies (ex HX st ((HX is  open & HX is (Cover of PT)) & (for V holds (V in HX implies (ex W st (W in FX & ( Cl V ) c= W)))))))))
proof
assume A1: PT is  regular;
let FX;
assume that
A2: FX is (Cover of PT)
and
A3: FX is  open;
defpred P[ set ]
 means
(ex V1 being (Subset of PT) st ((V1 = $1 & V1 is  open) & (ex W st (W in FX & ( Cl V1 ) c= W))));
consider HX such that A4: (for V being (Subset of PT) holds (V in HX iff P[ V ])) from SUBSET_1:sch 3;
take HX;
(for V being (Subset of PT) holds (V in HX implies V is  open))
proof
let V being (Subset of PT);
assume V in HX;
then (ex V1 being (Subset of PT) st ((V1 = V & V1 is  open) & (ex W st (W in FX & ( Cl V1 ) c= W)))) by A4;
hence thesis;
end;
hence HX is  open by TOPS_2:def 1;
(the carrier of PT) c= ( union HX )
proof
let x being set;
assume x in (the carrier of PT);
then reconsider x as (Point of PT);
consider V being (Subset of PT) such that A5: x in V and A6: V in FX by A2,PCOMPS_1:3;
reconsider V as (Subset of PT);
now
per cases ;
suppose A7: ( V ` ) <> ( {} );

V is  open by A3,A6,TOPS_2:def 1;
then A8: ( V ` ) is  closed;
x in ( ( V ` ) ` ) by A5;
then consider X,Y being (Subset of PT) such that A9: X is  open and A10: Y is  open and A11: x in X and A12: ( V ` ) c= Y and A13: X misses Y by A1,A7,A8,COMPTS_1:def 2;
(X c= ( Y ` ) & ( Y ` ) is  closed) by A10,A13,SUBSET_1:23;
then A14: ( Cl X ) c= ( Y ` ) by TOPS_1:5;
( Y ` ) c= V by A12,SUBSET_1:17;
then ( Cl X ) c= V by A14,XBOOLE_1:1;
then X in HX by A4,A6,A9;
hence x in ( union HX ) by A11,TARSKI:def 4;
end;
suppose A15: ( V ` ) = ( {} );

consider X being (Subset of PT) such that A16: X = ( [#] PT );
A17: X is  open by A16;
V = ( ( {} PT ) ` ) by A15
.= ( [#] PT ) by PRE_TOPC:6;
then ( Cl X ) = V by A16,TOPS_1:2;
then X in HX by A4,A6,A17;
hence x in ( union HX ) by A16,TARSKI:def 4;
end;
end;
hence thesis;
end;
hence HX is (Cover of PT) by SETFAM_1:def 11;
let V being (Subset of PT);
assume V in HX;
then (ex V1 being (Subset of PT) st ((V1 = V & V1 is  open) & (ex W st (W in FX & ( Cl V1 ) c= W)))) by A4;
hence thesis;
end;
