environ
vocabularies FUNCT_1,RELAT_1,ORDINAL1,XBOOLE_0,FUNCOP_1,ORDINAL3,ORDINAL2,TARSKI,SUBSET_1,SETFAM_1,ZFMISC_1,MCART_1,FUNCT_4,FINSET_1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,RELAT_1,FUNCT_1,FUNCOP_1,MCART_1,SETFAM_1,ORDINAL1,ORDINAL2,ORDINAL3,SUBSET_1,DOMAIN_1,RELSET_1,FUNCT_2,FUNCT_3,FUNCT_4,CKB1,CKB2;
definitions TARSKI,XBOOLE_0,FUNCOP_1,RELAT_1,FUNCT_4,CKB1;
theorems FUNCT_1,ENUMSET1,MCART_1,ZFMISC_1,TARSKI,RELAT_1,ORDINAL3,ORDINAL1,XBOOLE_0,XBOOLE_1,FUNCT_3,FUNCOP_1,FUNCT_4,CKB1,CKB3,CKB7,CKB18,CKB19,CKB23,CKB24,CKB26,CKB27,CKB29;
schemes FUNCT_1,PARTFUN1,ORDINAL2,XBOOLE_0,CKB6,CKB28;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,ORDINAL2,RELSET_1,CKB4,CKB5,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB21,CKB22,CKB25,CKB30,CKB31,CKB32;
constructors DOMAIN_1,FUNCT_3,FUNCOP_1,ORDINAL3,FUNCT_4,SETFAM_1,RELSET_1,CKB1;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve A for set;
reserve B for set;
reserve X for set;
reserve Y for set;
reserve x for set;
reserve y for set;
reserve f for Function;
registration
let A being  finite set;
cluster ( bool A ) ->  finite;
coherence
proof
A1: A is  finite;
defpred P[ set ]
 means
( bool $1 ) is  finite;
consider G being set such that A2: (for x holds (x in G iff (x in ( bool A ) & P[ x ]))) from XBOOLE_0:sch 1;
defpred P[ set ]
 means
$1 in G;
A3: ( bool ( {} ) ) is  finite by ZFMISC_1:1;
( {} ) c= A by XBOOLE_1:2;
then A4: P[ ( {} ) ] by A3,A2;
A5: (for x,B being set holds (((x in A & B c= A) & P[ B ]) implies P[ ( B \/ { x } ) ]))
proof
let x being set;
let B being set;
assume that
A6: x in A
and
B c= A
and
A7: B in G;
A8:now
assume x in B;
then { x } c= B by ZFMISC_1:31;
hence thesis by A7,XBOOLE_1:12;
end;
now
assume A9: (not x in B);
defpred P[ set,set ]
 means
(ex Y st (Y = $1 & $2 = ( Y \/ { x } )));
A10: (for y,y1,y2 being set holds (((y in ( bool B ) & P[ y,y1 ]) & P[ y,y2 ]) implies y1 = y2));
A11: (for y holds (y in ( bool B ) implies (ex z being set st P[ y,z ])))
proof
let y;
assume that
y in ( bool B );
(ex Y st (Y = y & ( y \/ { x } ) = ( Y \/ { x } )));
hence thesis;
end;
consider f such that A12: ( dom f ) = ( bool B ) and A13: (for y holds (y in ( bool B ) implies P[ y,( f . y ) ])) from FUNCT_1:sch 2(A10,A11);
A14: ( bool B ) is  finite by A2,A7;
(y in ( rng f ) iff y in ( ( bool ( B \/ { x } ) ) \ ( bool B ) ))
proof
thus (y in ( rng f ) implies y in ( ( bool ( B \/ { x } ) ) \ ( bool B ) ))
proof
assume y in ( rng f );
then consider x1 being set such that A15: x1 in ( dom f ) and A16: ( f . x1 ) = y by FUNCT_1:def 3;
consider X1 being set such that A17: X1 = x1 and A18: ( f . x1 ) = ( X1 \/ { x } ) by A12,A13,A15;
A19: ( X1 \/ { x } ) c= ( B \/ { x } ) by A12,A15,A17,XBOOLE_1:13;
x in { x } by TARSKI:def 1;
then x in y by A16,A18,XBOOLE_0:def 3;
then (not y in ( bool B )) by A9;
hence thesis by A16,A18,A19,XBOOLE_0:def 5;
end;

assume A20: y in ( ( bool ( B \/ { x } ) ) \ ( bool B ) );
set Z = ( y \ { x } );
A21:now
assume A22: (not x in y);
y c= B
proof
let z being set;
assume A23: z in y;
then (not z in { x }) by A22,TARSKI:def 1;
hence thesis by A20,A23,XBOOLE_0:def 3;
end;
hence contradiction by A20,XBOOLE_0:def 5;
end;
A24: Z c= B by A20,XBOOLE_1:43;
then consider X such that A25: X = Z and A26: ( f . Z ) = ( X \/ { x } ) by A13;
( X \/ { x } ) = ( y \/ { x } ) by A25,XBOOLE_1:39
.= y by A21,ZFMISC_1:40;
hence thesis by A12,A24,A26,FUNCT_1:def 3;
end;
then ( rng f ) = ( ( bool ( B \/ { x } ) ) \ ( bool B ) ) by TARSKI:1;
then A27: ( f .: ( bool B ) ) = ( ( bool ( B \/ { x } ) ) \ ( bool B ) ) by A12,RELAT_1:113;
A28: ( bool B ) c= ( bool ( B \/ { x } ) ) by XBOOLE_1:7,ZFMISC_1:67;
A29: ( ( ( bool ( B \/ { x } ) ) \ ( bool B ) ) \/ ( bool B ) ) = ( ( bool ( B \/ { x } ) ) \/ ( bool B ) ) by XBOOLE_1:39
.= ( bool ( B \/ { x } ) ) by A28,XBOOLE_1:12;
A30: { x } c= A by A6,ZFMISC_1:31;
B in ( bool A ) by A2,A7;
then ( B \/ { x } ) c= A by A30,XBOOLE_1:8;
hence thesis by A2,A14,A27,A29;
end;
hence thesis by A8;
end;
P[ A ] from CKB28:sch 1(A1,A4,A5);
hence thesis by A2;
end;
end;
