environ
vocabularies FUNCT_1,RELAT_1,ORDINAL1,XBOOLE_0,FUNCOP_1,ORDINAL3,ORDINAL2,TARSKI,SUBSET_1,SETFAM_1,ZFMISC_1,MCART_1,FUNCT_4,FINSET_1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,RELAT_1,FUNCT_1,FUNCOP_1,MCART_1,SETFAM_1,ORDINAL1,ORDINAL2,ORDINAL3,SUBSET_1,DOMAIN_1,RELSET_1,FUNCT_2,FUNCT_3,FUNCT_4,CKB1,CKB2;
definitions TARSKI,XBOOLE_0,FUNCOP_1,RELAT_1,FUNCT_4,CKB1;
theorems FUNCT_1,ENUMSET1,MCART_1,ZFMISC_1,TARSKI,RELAT_1,ORDINAL3,ORDINAL1,XBOOLE_0,XBOOLE_1,FUNCT_3,FUNCOP_1,FUNCT_4,CKB1,CKB3,CKB7,CKB18,CKB19,CKB23,CKB24,CKB26;
schemes FUNCT_1,PARTFUN1,ORDINAL2,XBOOLE_0,CKB6;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,ORDINAL2,RELSET_1,CKB4,CKB5,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB21,CKB22,CKB25;
constructors DOMAIN_1,FUNCT_3,FUNCOP_1,ORDINAL3,FUNCT_4,SETFAM_1,RELSET_1,CKB1;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve A for set;
reserve B for set;
reserve X for set;
reserve Z for set;
reserve x for set;
reserve O for Ordinal;
theorem
Th18: (A is  finite implies (for X being (Subset-Family of A) holds (X <> ( {} ) implies (ex x being set st (x in X & (for B being set holds (B in X implies (x c= B implies B = x))))))))
proof
assume A1: A is  finite;
let X being (Subset-Family of A);
assume that
A2: X <> ( {} );
consider p being Function such that A3: ( rng p ) = A and A4: ( dom p ) in ( omega ) by A1,CKB1:def 1;
defpred P[ set ]
 means
( p .: $1 ) in X;
consider G being set such that A5: (for x holds (x in G iff (x in ( bool ( dom p ) ) & P[ x ]))) from XBOOLE_0:sch 1;
G c= ( bool ( dom p ) )
proof
let x;
assume x in G;
hence thesis by A5;
end;
then reconsider GX = G as (Subset-Family of ( dom p ));
set x = the (Element of X);
x is (Subset of A) by A2,TARSKI:def 3;
then A6: ( p .: ( p " x ) ) = x by A3,FUNCT_1:77;
( p " x ) c= ( dom p ) by RELAT_1:132;
then A7: GX <> ( {} ) by A2,A5,A6;
defpred P[ set ]
 means
($1 in ( omega ) implies (for X being (Subset-Family of $1) holds (X <> ( {} ) implies (ex x being set st (x in X & (for B being set holds (B in X implies (x c= B implies B = x))))))));
A8: P[ ( {} ) ]
proof
assume ( {} ) in ( omega );
let X being (Subset-Family of ( {} ));
assume X <> ( {} );
then A9: X = { ( {} ) } by ZFMISC_1:1,ZFMISC_1:33;
take ( {} );
thus thesis by A9,TARSKI:def 1;
end;
A10: (P[ O ] implies P[ ( succ O ) ])
proof
assume A11: (O in ( omega ) implies (for X being (Subset-Family of O) holds (X <> ( {} ) implies (ex x being set st (x in X & (for B being set holds (B in X implies (x c= B implies B = x))))))));
thus (( succ O ) in ( omega ) implies (for X being (Subset-Family of ( succ O )) holds (X <> ( {} ) implies (ex x being set st (x in X & (for B being set holds (B in X implies (x c= B implies B = x))))))))
proof
assume ( succ O ) in ( omega );
then A12: ( succ O ) c= ( omega ) by ORDINAL1:def 2;
let X being (Subset-Family of ( succ O ));
assume that
A13: X <> ( {} );
defpred P[ set ]
 means
(ex A st (A in X & $1 = ( A \ { O } )));
consider X1 being set such that A14: (for x holds (x in X1 iff (x in ( bool O ) & P[ x ]))) from XBOOLE_0:sch 1;
X1 c= ( bool O )
proof
let x;
assume x in X1;
hence thesis by A14;
end;
then reconsider X2 = X1 as (Subset-Family of O);
set y = the (Element of X);
A15: ( succ O ) = ( O \/ { O } ) by ORDINAL1:def 1;
y is (Subset of ( succ O )) by A13,TARSKI:def 3;
then ( y \ { O } ) c= ( ( O \/ { O } ) \ { O } ) by A15,XBOOLE_1:33;
then A16: ( y \ { O } ) c= ( O \ { O } ) by XBOOLE_1:40;
A17: O in ( succ O ) by ORDINAL1:6;
A18: (not O in O);
then ( y \ { O } ) c= O by A16,ZFMISC_1:57;
then X2 <> ( {} ) by A13,A14;
then consider Z such that A19: Z in X2 and A20: (for B being set holds (B in X2 implies (Z c= B implies B = Z))) by A11,A12,A17;
consider X1 being set such that A21: X1 in X and A22: Z = ( X1 \ { O } ) by A14,A19;
A23: O in { O } by TARSKI:def 1;
then A24: (not O in Z) by A22,XBOOLE_0:def 5;
A25:now
assume A26: ( Z \/ { O } ) in X;
take A = ( Z \/ { O } );
(for B being set holds (B in X implies (A c= B implies B = A)))
proof
let B;
assume that
A27: B in X;
assume A28: A c= B;
A29:now
assume A30: O in B;
set Y = ( B \ { O } );
{ O } c= B by A30,ZFMISC_1:31;
then A31: B = ( Y \/ { O } ) by XBOOLE_1:45;
( A \ { O } ) c= Y by A28,XBOOLE_1:33;
then A32: ( Z \ { O } ) c= Y by XBOOLE_1:40;
(not O in Z) by A22,A23,XBOOLE_0:def 5;
then A33: Z c= Y by A32,ZFMISC_1:57;
Y c= ( ( O \/ { O } ) \ { O } ) by A15,A27,XBOOLE_1:33;
then Y c= ( O \ { O } ) by XBOOLE_1:40;
then Y c= O by A18,ZFMISC_1:57;
then Y in X2 by A14,A27;
hence thesis by A20,A31,A33;
end;
now
assume A34: (not O in B);
O in { O } by TARSKI:def 1;
then O in A by XBOOLE_0:def 3;
hence contradiction by A28,A34;
end;
hence thesis by A29;
end;
hence thesis by A26;
end;
now
assume A35: (not ( Z \/ { O } ) in X);
take A = Z;
now
assume O in X1;
then X1 = ( X1 \/ { O } ) by ZFMISC_1:40
.= ( Z \/ { O } ) by A22,XBOOLE_1:39;
hence contradiction by A21,A35;
end;
then A36: A in X by A21,A22,ZFMISC_1:57;
(for B being set holds (B in X implies (A c= B implies B = A)))
proof
let B;
assume A37: B in X;
then ( B \ { O } ) c= ( ( O \/ { O } ) \ { O } ) by A15,XBOOLE_1:33;
then ( B \ { O } ) c= ( O \ { O } ) by XBOOLE_1:40;
then ( B \ { O } ) c= O by A18,ZFMISC_1:57;
then A38: ( B \ { O } ) in X2 by A14,A37;
assume A39: A c= B;
then ( A \ { O } ) c= ( B \ { O } ) by XBOOLE_1:33;
then A40: A c= ( B \ { O } ) by A24,ZFMISC_1:57;
A41:now
assume A42: O in B;
( A \/ { O } ) = ( ( B \ { O } ) \/ { O } ) by A20,A38,A40
.= ( B \/ { O } ) by XBOOLE_1:39
.= B by A42,ZFMISC_1:40;
hence contradiction by A35,A37;
end;
A43: B c= O
proof
let x;
assume that
A44: x in B;
(x in O or x in { O }) by A15,A37,A44,XBOOLE_0:def 3;
hence thesis by A41,A44,TARSKI:def 1;
end;
( B \ { O } ) = B by A41,ZFMISC_1:57;
then B in X2 by A14,A37,A43;
hence thesis by A20,A39;
end;
hence thesis by A36;
end;
hence thesis by A25;
end;

end;
A45: (((O <> ( {} ) & O is  limit_ordinal) & (for B being Ordinal holds (B in O implies P[ B ]))) implies P[ O ])
proof
assume that
A46: O <> ( {} )
and
A47: O is  limit_ordinal
and
(for B being Ordinal holds (B in O implies P[ B ]))
and
A48: O in ( omega );
( {} ) in O by A46,ORDINAL1:14;
then ( omega ) c= O by A47,ORDINAL1:def 11;
then O in O by A48;
hence thesis;
end;
P[ O ] from ORDINAL2:sch 1(A8,A10,A45);
then consider g being set such that A49: g in GX and A50: (for B being set holds (B in GX implies (g c= B implies B = g))) by A4,A7;
take ( p .: g );
(for B holds (B in X implies (( p .: g ) c= B implies B = ( p .: g ))))
proof
let B;
assume A51: B in X;
assume ( p .: g ) c= B;
then A52: ( p " ( p .: g ) ) c= ( p " B ) by RELAT_1:143;
A53: g c= ( p " ( p .: g ) ) by A49,FUNCT_1:76;
A54: ( p .: ( p " B ) ) = B by A3,A51,FUNCT_1:77;
( p " B ) c= ( dom p ) by RELAT_1:132;
then ( p " B ) in GX by A5,A51,A54;
hence thesis by A50,A52,A53,A54,XBOOLE_1:1;
end;
hence thesis by A5,A49;
end;
