environ
vocabularies NUMBERS,SUBSET_1,REAL_1,NORMSP_1,PARTFUN1,NAT_1,PRE_TOPC,TARSKI,RELAT_1,CARD_1,ARYTM_3,ARYTM_1,STRUCT_0,COMPLEX1,XBOOLE_0,XXREAL_0,VALUED_1,SUPINF_2,FUNCT_1,CFCONT_1,NFCONT_1,RCOMP_1,VALUED_0,SEQ_2,ORDINAL2,FCONT_1,FUNCT_2,SEQ_4,LOPBAN_1,ALI2,FUNCOP_1,XREAL_0,ORDINAL1,POWER,SEQ_1,RSSPACE3,FUNCT_7,NFCONT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,XCMPLX_0,XXREAL_0,XREAL_0,NUMBERS,COMPLEX1,REAL_1,NAT_1,RLVECT_1,SQUARE_1,STRUCT_0,PRE_TOPC,ORDINAL1,VALUED_1,SEQ_1,SEQ_2,VALUED_0,SEQ_4,ABIAN,POWER,VFUNCT_1,NORMSP_0,NORMSP_1,LOPBAN_1,RSSPACE3,NFCONT_1,RECDEF_1,CKB1,CKB2;
definitions RLVECT_1,CKB1,CKB2;
theorems TARSKI,ABSVALUE,XBOOLE_1,RLVECT_1,XCMPLX_1,FUNCOP_1,SEQ_1,SEQ_2,SERIES_1,NAT_1,POWER,RELAT_1,FUNCT_1,VFUNCT_1,LOPBAN_1,NORMSP_1,SEQ_4,FUNCT_2,RSSPACE3,FUNCT_7,LOPBAN_3,PARTFUN2,NFCONT_1,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,PARTFUN1,VALUED_0,NORMSP_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11;
schemes SEQ_1,NAT_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,XXREAL_0,XREAL_0,MEMBERED,STRUCT_0,VALUED_1,FUNCT_2,NUMBERS,VALUED_0;
constructors REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,SEQ_4,PARTFUN2,POWER,ABIAN,BHSP_3,VFUNCT_1,RSSPACE3,LOPBAN_3,NFCONT_1,SEQ_1,VALUED_1,RECDEF_1,NORMSP_1,RELSET_1,CKB1,CKB2;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve x for set;
reserve s for Real;
reserve r for Real;
reserve S for RealNormSpace;
reserve T for RealNormSpace;
reserve f for (PartFunc of S,T);
reserve s1 for (sequence of S);
reserve s2 for (sequence of S);
reserve q1 for (sequence of S);
reserve x1 for (Point of S);
reserve x2 for (Point of S);
reserve Y for (Subset of S);
theorem
(for f holds (for Y holds ((Y is  compact & f is_continuous_on Y) implies f is_uniformly_continuous_on Y)))
proof
let f;
let Y;
assume that
A1: Y is  compact
and
A2: f is_continuous_on Y;
A3: Y c= ( dom f ) by A2,NFCONT_1:def 7;
assume (not thesis);
then consider r such that A4: ( 0 ) < r and A5: (for s holds (( 0 ) < s implies (ex x1 st (ex x2 st (((x1 in Y & x2 in Y) & ||. ( x1 - x2 ) .|| < s) & (not ||. ( ( f /. x1 ) - ( f /. x2 ) ) .|| < r)))))) by A3,CKB1:def 1;
defpred P[ (Element of ( NAT )),(Point of S) ]
 means
($2 in Y & (ex x2 st ((x2 in Y & ||. ( $2 - x2 ) .|| < ( 1 / ( $1 + 1 ) )) & (not ||. ( ( f /. $2 ) - ( f /. x2 ) ) .|| < r))));
A6:now
let n;
( 0 ) < ( n + 1 ) by NAT_1:5;
hence ( 0 ) < ( 1 / ( n + 1 ) ) by XREAL_1:139;
end;
A7:now
let n;
consider x1 such that A8: (ex x2 st (((x1 in Y & x2 in Y) & ||. ( x1 - x2 ) .|| < ( 1 / ( n + 1 ) )) & (not ||. ( ( f /. x1 ) - ( f /. x2 ) ) .|| < r))) by A5,A6;
take x1;
thus P[ n,x1 ] by A8;
end;
consider s1 such that A9: (for n holds P[ n,( s1 . n ) ]) from FUNCT_2:sch 3(A7);
defpred P[ (Element of ( NAT )),(Point of S) ]
 means
(($2 in Y & ||. ( ( s1 . $1 ) - $2 ) .|| < ( 1 / ( $1 + 1 ) )) & (not ||. ( ( f /. ( s1 . $1 ) ) - ( f /. $2 ) ) .|| < r));
A10: (for n holds (ex x2 st P[ n,x2 ])) by A9;
consider s2 such that A11: (for n holds P[ n,( s2 . n ) ]) from FUNCT_2:sch 3(A10);
now
let x;
assume x in ( rng s1 );
then (ex n st x = ( s1 . n )) by NFCONT_1:6;
hence x in Y by A9;
end;
then A12: ( rng s1 ) c= Y by TARSKI:def 3;
then consider q1 such that A13: q1 is (subsequence of s1) and A14: q1 is  convergent and A15: ( lim q1 ) in Y by A1,NFCONT_1:def 2;
consider Ns1 being  increasing (sequence of ( NAT )) such that A16: q1 = ( s1 * Ns1 ) by A13,VALUED_0:def 17;
set q2 = ( q1 - ( ( s1 - s2 ) * Ns1 ) );
A17: ( f | Y ) is_continuous_in ( lim q1 ) by A2,A15,NFCONT_1:def 7;
now
let x;
assume x in ( rng s2 );
then (ex n st x = ( s2 . n )) by NFCONT_1:6;
hence x in Y by A11;
end;
then A18: ( rng s2 ) c= Y by TARSKI:def 3;
now
let n;
thus ( q2 . n ) = ( ( ( s1 * Ns1 ) . n ) - ( ( ( s1 - s2 ) * Ns1 ) . n ) ) by A16,NORMSP_1:def 3
.= ( ( s1 . ( Ns1 . n ) ) - ( ( ( s1 - s2 ) * Ns1 ) . n ) ) by FUNCT_2:15
.= ( ( s1 . ( Ns1 . n ) ) - ( ( s1 - s2 ) . ( Ns1 . n ) ) ) by FUNCT_2:15
.= ( ( s1 . ( Ns1 . n ) ) - ( ( s1 . ( Ns1 . n ) ) - ( s2 . ( Ns1 . n ) ) ) ) by NORMSP_1:def 3
.= ( ( ( s1 . ( Ns1 . n ) ) - ( s1 . ( Ns1 . n ) ) ) + ( s2 . ( Ns1 . n ) ) ) by RLVECT_1:29
.= ( ( 0. S ) + ( s2 . ( Ns1 . n ) ) ) by RLVECT_1:15
.= ( s2 . ( Ns1 . n ) ) by RLVECT_1:4
.= ( ( s2 * Ns1 ) . n ) by FUNCT_2:15;
end;
then A19: q2 = ( s2 * Ns1 ) by FUNCT_2:63;
then ( rng q2 ) c= ( rng s2 ) by VALUED_0:21;
then A20: ( rng q2 ) c= Y by A18,XBOOLE_1:1;
then ( rng q2 ) c= ( dom f ) by A3,XBOOLE_1:1;
then ( rng q2 ) c= ( ( dom f ) /\ Y ) by A20,XBOOLE_1:19;
then A21: ( rng q2 ) c= ( dom ( f | Y ) ) by RELAT_1:61;
A22:now
let p being Real;
assume that
A23: ( 0 ) < p;
A24: ( 0 ) < ( p " ) by A23;
consider k being (Element of ( NAT )) such that A25: ( p " ) < k by SEQ_4:3;
take k;
let m;
assume k <= m;
then ( k + 1 ) <= ( m + 1 ) by XREAL_1:6;
then ( 1 / ( m + 1 ) ) <= ( 1 / ( k + 1 ) ) by A25,A24,XREAL_1:118;
then A26: ||. ( ( s1 . m ) - ( s2 . m ) ) .|| < ( 1 / ( k + 1 ) ) by A11,XXREAL_0:2;
k < ( k + 1 ) by NAT_1:13;
then ( p " ) < ( k + 1 ) by A25,XXREAL_0:2;
then ( 1 / ( k + 1 ) ) < ( 1 / ( p " ) ) by A23,XREAL_1:76;
then A27: ( 1 / ( k + 1 ) ) < p by XCMPLX_1:216;
||. ( ( ( s1 - s2 ) . m ) - ( 0. S ) ) .|| = ||. ( ( ( s1 . m ) - ( s2 . m ) ) - ( 0. S ) ) .|| by NORMSP_1:def 3
.= ||. ( ( s1 . m ) - ( s2 . m ) ) .|| by RLVECT_1:13;
hence ||. ( ( ( s1 - s2 ) . m ) - ( 0. S ) ) .|| < p by A27,A26,XXREAL_0:2;
end;
then A28: ( s1 - s2 ) is  convergent by NORMSP_1:def 6;
then A29: ( ( s1 - s2 ) * Ns1 ) is  convergent by LOPBAN_3:7;
then A30: q2 is  convergent by A14,NORMSP_1:20;
( rng q1 ) c= ( rng s1 ) by A13,VALUED_0:21;
then A31: ( rng q1 ) c= Y by A12,XBOOLE_1:1;
then ( rng q1 ) c= ( dom f ) by A3,XBOOLE_1:1;
then ( rng q1 ) c= ( ( dom f ) /\ Y ) by A31,XBOOLE_1:19;
then A32: ( rng q1 ) c= ( dom ( f | Y ) ) by RELAT_1:61;
then A33: ( ( f | Y ) /. ( lim q1 ) ) = ( lim ( ( f | Y ) /* q1 ) ) by A14,A17,NFCONT_1:def 5;
A34: ( ( f | Y ) /* q1 ) is  convergent by A14,A17,A32,NFCONT_1:def 5;
( lim ( s1 - s2 ) ) = ( 0. S ) by A22,A28,NORMSP_1:def 7;
then ( lim ( ( s1 - s2 ) * Ns1 ) ) = ( 0. S ) by A28,LOPBAN_3:8;
then A35: ( lim q2 ) = ( ( lim q1 ) - ( 0. S ) ) by A14,A29,NORMSP_1:26
.= ( lim q1 ) by RLVECT_1:13;
then A36: ( ( f | Y ) /* q2 ) is  convergent by A17,A30,A21,NFCONT_1:def 5;
then A37: ( ( ( f | Y ) /* q1 ) - ( ( f | Y ) /* q2 ) ) is  convergent by A34,NORMSP_1:20;
( ( f | Y ) /. ( lim q1 ) ) = ( lim ( ( f | Y ) /* q2 ) ) by A17,A30,A35,A21,NFCONT_1:def 5;
then A38: ( lim ( ( ( f | Y ) /* q1 ) - ( ( f | Y ) /* q2 ) ) ) = ( ( ( f | Y ) /. ( lim q1 ) ) - ( ( f | Y ) /. ( lim q1 ) ) ) by A34,A33,A36,NORMSP_1:26
.= ( 0. T ) by RLVECT_1:15;
now
let n;
consider k being (Element of ( NAT )) such that A39: (for m holds (k <= m implies ||. ( ( ( ( ( f | Y ) /* q1 ) - ( ( f | Y ) /* q2 ) ) . m ) - ( 0. T ) ) .|| < r)) by A4,A37,A38,NORMSP_1:def 7;
A40: ( q1 . k ) in ( rng q1 ) by NFCONT_1:6;
A41: ( q2 . k ) in ( rng q2 ) by NFCONT_1:6;
||. ( ( ( ( ( f | Y ) /* q1 ) - ( ( f | Y ) /* q2 ) ) . k ) - ( 0. T ) ) .|| = ||. ( ( ( ( f | Y ) /* q1 ) - ( ( f | Y ) /* q2 ) ) . k ) .|| by RLVECT_1:13
.= ||. ( ( ( ( f | Y ) /* q1 ) . k ) - ( ( ( f | Y ) /* q2 ) . k ) ) .|| by NORMSP_1:def 3
.= ||. ( ( ( f | Y ) /. ( q1 . k ) ) - ( ( ( f | Y ) /* q2 ) . k ) ) .|| by A32,FUNCT_2:109
.= ||. ( ( ( f | Y ) /. ( q1 . k ) ) - ( ( f | Y ) /. ( q2 . k ) ) ) .|| by A21,FUNCT_2:109
.= ||. ( ( f /. ( q1 . k ) ) - ( ( f | Y ) /. ( q2 . k ) ) ) .|| by A32,A40,PARTFUN2:15
.= ||. ( ( f /. ( q1 . k ) ) - ( f /. ( q2 . k ) ) ) .|| by A21,A41,PARTFUN2:15
.= ||. ( ( f /. ( s1 . ( Ns1 . k ) ) ) - ( f /. ( ( s2 * Ns1 ) . k ) ) ) .|| by A16,A19,FUNCT_2:15
.= ||. ( ( f /. ( s1 . ( Ns1 . k ) ) ) - ( f /. ( s2 . ( Ns1 . k ) ) ) ) .|| by FUNCT_2:15;
hence contradiction by A11,A39;
end;
hence contradiction;
end;
