environ
vocabularies NUMBERS,SUBSET_1,CQC_LANG,QC_LANG1,XBOOLE_0,VALUAT_1,FINSEQ_1,HENMODEL,CQC_THE1,XBOOLEAN,BVFUNC_2,FUNCT_1,ORDINAL4,CALCUL_1,ARYTM_3,RELAT_1,CARD_1,XXREAL_0,TARSKI,ZF_MODEL,CQC_SIM1,REALSET1,SUBSTUT1,SUBSTUT2,ZF_LANG,ARYTM_1,CARD_3,ZFMISC_1,FINSET_1,MCART_1,NAT_1,GOEDELCP;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,XCMPLX_0,XXREAL_0,NAT_1,CARD_3,FINSEQ_1,FUNCT_1,QC_LANG1,QC_LANG2,QC_LANG3,NUMBERS,CQC_LANG,RELAT_1,FINSET_1,VALUAT_1,RELSET_1,FUNCT_2,CQC_SIM1,DOMAIN_1,MCART_1,SUBSTUT1,SUBLEMMA,SUBSTUT2,CALCUL_1,HENMODEL,CKB1,CKB2;
definitions TARSKI,XBOOLE_0,CKB1,CKB2;
theorems TARSKI,FUNCT_1,MCART_1,XBOOLE_0,XBOOLE_1,CQC_LANG,QC_LANG1,ZFMISC_1,RELAT_1,QC_LANG3,QC_LANG2,HENMODEL,CALCUL_1,SUBLEMMA,NAT_1,FINSEQ_1,VALUAT_1,FUNCT_2,SUBSTUT2,CQC_SIM1,CARD_4,CALCUL_2,SUPINF_2,XREAL_1,XXREAL_0,ORDINAL1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17;
schemes XBOOLE_0,NAT_1,FUNCT_1,SUBSTUT2,RECDEF_1;
registrations SUBSET_1,RELAT_1,ORDINAL1,XXREAL_0,XREAL_0,CQC_LANG,HENMODEL,FINSEQ_1,FINSET_1,CARD_3,RELSET_1;
constructors SETFAM_1,DOMAIN_1,XXREAL_0,NAT_1,NAT_D,FINSEQ_2,QC_LANG3,CQC_SIM1,SUBSTUT2,CALCUL_1,HENMODEL,CARD_3,RELSET_1,CKB1,CKB2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve p for (Element of ( CQC-WFF ));
reserve p1 for (Element of ( CQC-WFF ));
reserve q for (Element of ( CQC-WFF ));
reserve x for bound_QC-variable;
reserve y for bound_QC-variable;
reserve CX for  Consistent (Subset of ( CQC-WFF ));
reserve JH for (Henkin_interpretation of CX);
reserve F1 for QC-formula;
reserve F3 for QC-formula;
theorem
Th16: (for n holds ((for p holds (( QuantNbr p ) <= n implies ((CX is  negation_faithful & CX is  with_examples) implies (JH,( valH ) |= p iff CX |- p)))) implies (for p holds (( QuantNbr p ) <= ( n + 1 ) implies ((CX is  negation_faithful & CX is  with_examples) implies (JH,( valH ) |= p iff CX |- p))))))
proof
let n;
assume that
A1: (for p holds (( QuantNbr p ) <= n implies ((CX is  negation_faithful & CX is  with_examples) implies (JH,( valH ) |= p iff CX |- p))));
let p;
assume that
A2: ( QuantNbr p ) <= ( n + 1 )
and
A3: CX is  negation_faithful
and
A4: CX is  with_examples;
A5: (( QuantNbr p ) <= n implies thesis) by A1,A3,A4;
now
assume A6: ( QuantNbr p ) = ( n + 1 );
then consider q such that A7: q is_subformula_of p and A8: ( QuantNbr q ) = 1 by NAT_1:11,SUBSTUT2:34;
set L = the (PATH of q,p);
A9: 1 <= ( len L ) by A7,SUBSTUT2:def 5;
defpred P[ (Element of ( NAT )) ]
 means
((1 <= $1 & $1 <= ( len L )) implies (ex p1 st ((p1 = ( L . $1 ) & ( QuantNbr q ) <= ( QuantNbr p1 )) & (CX |- p1 iff JH,( valH ) |= p1))));
A10: P[ ( 0 ) ];
A11: (for k holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k;
assume that
A12: P[ k ];
assume that
A13: 1 <= ( k + 1 )
and
A14: ( k + 1 ) <= ( len L );
set j = ( k + 1 );
A15:now
assume k = ( 0 );
then A16: ( L . j ) = q by A7,SUBSTUT2:def 5;
take q;
(JH,( valH ) |= q iff CX |- q) by A3,A4,A8,CKB17:1;
hence thesis by A16;
end;
now
assume k <> ( 0 );
then ( 0 ) < k by NAT_1:3;
then A17: ( ( 0 ) + 1 ) <= k by NAT_1:13;
k < ( len L ) by A14,NAT_1:13;
then consider G1 being (Element of ( QC-WFF )),H1 being (Element of ( QC-WFF )) such that A18: ( L . k ) = G1 and A19: ( L . j ) = H1 and A20: G1 is_immediate_constituent_of H1 by A7,A17,SUBSTUT2:def 5;
consider p1 such that A21: ( QuantNbr q ) <= ( QuantNbr p1 ) and A22: p1 = ( L . k ) and A23: (CX |- p1 iff JH,( valH ) |= p1) by A12,A14,A17,NAT_1:13;
A24: (ex F3 st (F3 = ( L . j ) & F3 is_subformula_of p)) by A7,A13,A14,SUBSTUT2:27;
reconsider s = H1 as (Element of ( CQC-WFF )) by A7,A13,A14,A19,SUBSTUT2:28;
take s;
A25:now
assume A26: s = ( 'not' p1 );
then A27: ( QuantNbr q ) <= ( QuantNbr s ) by A21,CQC_SIM1:16;
(CX |- s iff JH,( valH ) |= s) by A3,A23,A26,CKB1:def 1,HENMODEL:def 2,VALUAT_1:17;
hence thesis by A19,A27;
end;
A28: ( QuantNbr s ) <= ( n + 1 ) by A6,A19,A24,SUBSTUT2:30;
A29:now
given F1 such that
A30: s = ( p1 '&' F1 );

reconsider F1 as (Element of ( CQC-WFF )) by A30,CQC_LANG:9;
A31: ( QuantNbr s ) = ( ( QuantNbr p1 ) + ( QuantNbr F1 ) ) by A30,CQC_SIM1:17;
then ( 1 + ( QuantNbr F1 ) ) <= ( QuantNbr s ) by A8,A21,XREAL_1:6;
then ( 1 + ( QuantNbr F1 ) ) <= ( n + 1 ) by A28,XXREAL_0:2;
then ( ( ( QuantNbr F1 ) + 1 ) + ( - 1 ) ) <= ( ( n + 1 ) + ( - 1 ) ) by XREAL_1:6;
then (CX |- F1 iff JH,( valH ) |= F1) by A1,A3,A4;
then A32: (CX |- s iff JH,( valH ) |= s) by A23,A30,CKB8:1,VALUAT_1:18;
( QuantNbr p1 ) <= ( QuantNbr s ) by A31,NAT_1:11;
then ( QuantNbr q ) <= ( QuantNbr s ) by A21,XXREAL_0:2;
hence thesis by A19,A32;
end;
A33:now
given F1 such that
A34: s = ( F1 '&' p1 );

reconsider F1 as (Element of ( CQC-WFF )) by A34,CQC_LANG:9;
A35: ( QuantNbr s ) = ( ( QuantNbr p1 ) + ( QuantNbr F1 ) ) by A34,CQC_SIM1:17;
then ( 1 + ( QuantNbr F1 ) ) <= ( QuantNbr s ) by A8,A21,XREAL_1:6;
then ( 1 + ( QuantNbr F1 ) ) <= ( n + 1 ) by A28,XXREAL_0:2;
then ( ( ( QuantNbr F1 ) + 1 ) + ( - 1 ) ) <= ( ( n + 1 ) + ( - 1 ) ) by XREAL_1:6;
then (CX |- F1 iff JH,( valH ) |= F1) by A1,A3,A4;
then A36: (CX |- s iff JH,( valH ) |= s) by A23,A34,CKB8:1,VALUAT_1:18;
( QuantNbr p1 ) <= ( QuantNbr s ) by A35,NAT_1:11;
then ( QuantNbr q ) <= ( QuantNbr s ) by A21,XXREAL_0:2;
hence thesis by A19,A36;
end;
now
given x such that
A37: s = ( All (x,p1) );

A38: ( QuantNbr s ) = ( ( QuantNbr p1 ) + 1 ) by A37,CQC_SIM1:18;
then ( QuantNbr p1 ) < ( n + 1 ) by A28,NAT_1:13;
then ( QuantNbr p1 ) <= n by NAT_1:13;
then A39: ( QuantNbr ( 'not' p1 ) ) <= n by CQC_SIM1:16;
A40: ( QuantNbr q ) <= ( QuantNbr s ) by A21,A38,NAT_1:13;
A41:now
assume JH,( valH ) |= ( Ex (x,( 'not' p1 )) );
then consider y such that A42: JH,( valH ) |= ( ( 'not' p1 ) . (x,y) ) by CKB12:1;
( QuantNbr ( ( 'not' p1 ) . (x,y) ) ) <= n by A39,CKB16:1;
then CX |- ( ( 'not' p1 ) . (x,y) ) by A1,A3,A4,A42;
hence CX |- ( Ex (x,( 'not' p1 )) ) by A4,CKB5:1;
end;
now
assume CX |- ( Ex (x,( 'not' p1 )) );
then consider y such that A43: CX |- ( ( 'not' p1 ) . (x,y) ) by A4,CKB5:1;
( QuantNbr ( ( 'not' p1 ) . (x,y) ) ) <= n by A39,CKB16:1;
then JH,( valH ) |= ( ( 'not' p1 ) . (x,y) ) by A1,A3,A4,A43;
hence JH,( valH ) |= ( Ex (x,( 'not' p1 )) ) by CKB12:1;
end;
then (JH,( valH ) |= ( 'not' ( Ex (x,( 'not' p1 )) ) ) iff CX |- ( 'not' ( Ex (x,( 'not' p1 )) ) )) by A3,A41,CKB1:def 1,HENMODEL:def 2,VALUAT_1:17;
then (JH,( valH ) |= s iff CX |- s) by A37,CKB13:1,CKB14:1;
hence thesis by A19,A40;
end;
hence thesis by A18,A20,A22,A25,A29,A33,QC_LANG2:def 19;
end;
hence thesis by A15;
end;
(for k holds P[ k ]) from NAT_1:sch 1(A10,A11);
then (ex p1 st ((p1 = ( L . ( len L ) ) & ( QuantNbr q ) <= ( QuantNbr p1 )) & (CX |- p1 iff JH,( valH ) |= p1))) by A9;
hence thesis by A7,SUBSTUT2:def 5;
end;
hence thesis by A2,A5,NAT_1:8;
end;
