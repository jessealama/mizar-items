environ
vocabularies NUMBERS,SUBSET_1,AMI_1,SCMPDS_2,SCMFSA_7,CARD_1,FUNCOP_1,RELAT_1,FUNCT_1,NAT_1,ARYTM_3,XBOOLE_0,TARSKI,VALUED_1,SCMNORM,FSM_1,INT_1,FUNCT_4,GRAPHSP,AMI_3,AMI_2,STRUCT_0,SCMPDS_1,COMPLEX1,XXREAL_0,ARYTM_1,TURING_1,AMISTD_2,SCMFSA6B,MSUALG_1,CIRCUIT2,SCMPDS_4,ORDINAL1,PARTFUN1,SCMFSA6C,ORDINAL4,PBOOLE,FINSET_1,COMPOS_1;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,CARD_1,FINSET_1,NUMBERS,XCMPLX_0,RELAT_1,FUNCT_1,PARTFUN1,AFINSQ_1,VALUED_1,FUNCT_4,FUNCT_7,INT_1,NAT_1,INT_2,XXREAL_0,PBOOLE,STRUCT_0,MEMSTR_0,COMPOS_1,EXTPRO_1,AMI_2,AMISTD_2,SCMPDS_1,SCMPDS_2;
definitions TARSKI,COMPOS_1,EXTPRO_1,FUNCT_7,XBOOLE_0,SCMPDS_2,FUNCOP_1,NAT_1,AFINSQ_1,FUNCT_4,AMISTD_2,MEMSTR_0;
theorems NAT_1,TARSKI,FUNCT_4,FUNCT_1,ZFMISC_1,INT_1,RELAT_1,SCMPDS_2,AMI_2,FUNCT_2,FUNCT_7,SCMPDS_3,ENUMSET1,ABSVALUE,GRFUNC_1,XBOOLE_0,XBOOLE_1,XREAL_1,ORDINAL1,FUNCOP_1,VALUED_1,AFINSQ_1,PARTFUN1,COMPOS_1,EXTPRO_1,AMISTD_2,PBOOLE,STRUCT_0,MEMSTR_0,CKB1;
schemes NAT_1,CLASSES1;
registrations XBOOLE_0,SETFAM_1,FUNCT_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,SCMPDS_2,AMI_2,FINSET_1,CARD_1,VALUED_1,FUNCT_4,RELAT_1,PRE_POLY,AFINSQ_1,COMPOS_1,ORDINAL5,EXTPRO_1,FUNCOP_1,FUNCT_7,SCMPDS_3,AMISTD_2,PBOOLE,MEMSTR_0;
constructors WELLORD2,XXREAL_0,INT_2,SCMPDS_1,SCMPDS_3,DOMAIN_1,RELSET_1,PRE_POLY,ORDINAL5,AMI_3,AMISTD_2,AMISTD_1,FUNCT_7,MEMSTR_0;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
(for s1,s2 being (State of ( SCMPDS )) holds ((( IC s1 ) = ( IC s2 ) & (for a being Int_position holds ( s1 . a ) = ( s2 . a ))) implies s1 = s2))
proof
let s1 being (State of ( SCMPDS )),s2 being (State of ( SCMPDS ));
assume that
A1: ( IC s1 ) = ( IC s2 )
and
A2: (for a being Int_position holds ( s1 . a ) = ( s2 . a ));
(the carrier of ( SCMPDS )) = ( { ( IC ( SCMPDS ) ) } \/ ( SCM-Data-Loc ) ) by SCMPDS_2:84,STRUCT_0:4;
then A4: (the carrier of ( SCMPDS )) = ( { ( IC ( SCMPDS ) ) } \/ ( SCM-Data-Loc ) )
.= ( { ( IC ( SCMPDS ) ) } \/ ( SCM-Data-Loc ) );
A5: ( dom ( s2 | ( dom s2 ) ) ) = ( ( dom s2 ) /\ ( dom s2 ) ) by RELAT_1:61
.= ( dom s2 )
.= ( { ( IC ( SCMPDS ) ) } \/ ( SCM-Data-Loc ) ) by A4,PARTFUN1:def 2;
A6: ( dom ( s1 | ( dom s1 ) ) ) = ( ( dom s1 ) /\ ( dom s1 ) ) by RELAT_1:61
.= ( dom s1 )
.= ( { ( IC ( SCMPDS ) ) } \/ ( SCM-Data-Loc ) ) by A4,PARTFUN1:def 2;
X1: (( s1 | ( dom s1 ) ) = s1 & ( s2 | ( dom s2 ) ) = s2) by RELAT_1:69;
now
let x being set;
assume A7: x in ( { ( IC ( SCMPDS ) ) } \/ ( SCM-Data-Loc ) );
per cases  by A7,XBOOLE_0:def 3;
suppose x in { ( IC ( SCMPDS ) ) };

then A8: x = ( IC ( SCMPDS ) ) by TARSKI:def 1;
hence ( ( s1 | ( dom s1 ) ) . x ) = ( IC s1 ) by A6,A7,FUNCT_1:47
.= ( ( s2 | ( dom s2 ) ) . x ) by A1,A5,A7,A8,FUNCT_1:47;
end;
suppose x in ( SCM-Data-Loc );

then A9: x is Int_position by SCMPDS_2:3;
thus ( ( s1 | ( dom s1 ) ) . x ) = ( s1 . x ) by A6,A7,FUNCT_1:47
.= ( s2 . x ) by A2,A9
.= ( ( s2 | ( dom s2 ) ) . x ) by A5,A7,FUNCT_1:47;
end;
end;
then ( s1 | ( dom s1 ) ) = ( s2 | ( dom s2 ) ) by A6,A5,FUNCT_1:2;
hence s1 = s2 by X1;
end;
