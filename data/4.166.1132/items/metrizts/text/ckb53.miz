environ
vocabularies NUMBERS,PRE_TOPC,SUBSET_1,SETFAM_1,PCOMPS_1,CARD_1,FINSET_1,T_0TOPSP,RELAT_1,XBOOLE_0,FUNCT_1,RCOMP_1,ORDINAL2,TOPS_2,WAYBEL23,TARSKI,RLVECT_3,STRUCT_0,ZFMISC_1,XXREAL_0,ARYTM_3,METRIC_1,CARD_5,NAGATA_1,TOPREAL7,CARD_2,MCART_1,ORDINAL1,WEIERSTR,TOPMETR,XREAL_0,ARYTM_1,COMPLEX1,XXREAL_1,TOPGEN_4,NAT_1,NEWTON,CARD_3,NATTRA_1,TOPGEN_1,TOPS_1,REAL_1,FUNCOP_1,EUCLID,FINSEQ_2,FINSEQ_1,CONNSP_1,METRIZTS,KURATO_2;
notations BINOP_1,TOPMETR,CARD_1,CANTOR_1,COMPLEX1,FINSET_1,TARSKI,XBOOLE_0,RELAT_1,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XREAL_0,REAL_1,DOMAIN_1,METRIC_1,PCOMPS_1,CARD_3,KURATO_0,KURATO_2,WAYBEL23,TOPGEN_1,FUNCOP_1,XCMPLX_0,TOPS_1,CARD_2,NEWTON,BORSUK_1,NAGATA_1,TEX_2,TOPGEN_4,RCOMP_1,WEIERSTR,TOPREAL7,ORDERS_4,XXREAL_0,FUNCT_1,RELSET_1,FUNCT_2,FUNCT_3,NAT_1,FINSEQ_1,SETFAM_1,STRUCT_0,PRE_TOPC,CONNSP_1,TOPS_2,BORSUK_3,EUCLID,FINSEQ_2,CKB1,CKB43;
definitions BINOP_1,CARD_3,METRIC_1,PCOMPS_1,PRE_TOPC,SUBSET_1,STRUCT_0,TARSKI,TOPS_2,XBOOLE_0,CKB1,CKB43;
theorems ABSVALUE,BORSUK_1,BORSUK_5,CANTOR_1,CARD_1,CARD_2,CARD_3,CARD_4,COMPL_SP,CONNSP_1,FUNCOP_1,FUNCT_1,FUNCT_2,FUNCT_3,HAUSDORF,JGRAPH_2,JORDAN1K,MCART_1,METRIC_1,NAGATA_1,NAGATA_2,NEWTON,PARTIT1,PCOMPS_1,PCOMPS_2,PREPOWER,PRE_TOPC,PROB_1,SETFAM_1,SUBSET_1,TARSKI,TEX_2,TMAP_1,TOPGEN_1,TOPGEN_2,TOPGEN_4,TOPMETR,TOPREAL7,TOPS_1,TOPS_2,TSEP_1,TSP_1,WAYBEL23,WAYBEL29,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,YELLOW12,YELLOW_9,ZFMISC_1,T_0TOPSP,TOPGRP_1,RELAT_1,ORDERS_4,NUMBERS,TOPREAL6,TOPREALA,EUCLID,ORDINAL1,FINSEQ_2,YELLOW14,TOPS_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB15,CKB16,CKB18,CKB19,CKB22,CKB23,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB48;
schemes BORSUK_2,CLASSES1,FRAENKEL,FUNCT_2,LMOD_7,NAT_1;
registrations TOPMETR,PRE_TOPC,PCOMPS_1,XREAL_0,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,FINSET_1,FUNCT_1,ORDINAL1,COMPTS_1,RELAT_1,XCMPLX_0,CARD_LAR,BORSUK_1,TOPGEN_4,MEMBERED,TOPREAL7,BORSUK_3,EUCLID,RELSET_1,KURATO_2,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB17,CKB20,CKB21,CKB24,CKB25,CKB47,CKB49,CKB50,CKB51,CKB52;
constructors REAL_1,KURATO_2,CANTOR_1,TOPGEN_4,WAYBEL23,TOPGEN_1,TOPS_1,FUNCT_3,TOPREAL9,CARD_2,NEWTON,CARD_5,NAGATA_1,TEX_2,TSP_1,CONNSP_1,RCOMP_1,WEIERSTR,TOPREAL7,ORDERS_4,TOPS_2,BORSUK_3,FUNCSDOM,YELLOW13,YELLOW_2,KURATO_0,CKB1,CKB43;
requirements ARITHM,BOOLE,NUMERALS,REAL,SUBSET;
begin
registration
cluster  regular  Lindelof ->  normal for TopSpace;
coherence
proof
let T being TopSpace;
assume that
A5: T is  regular
and
A6: T is  Lindelof;
per cases ;
suppose A7: T is  empty;

let F1 being (Subset of T),F2 being (Subset of T);
assume that
F1 is  closed
and
F2 is  closed
and
A8: F1 misses F2;
take F1;
take F2;
thus thesis by A7,A8;
end;
suppose A9: T is non empty;

set TOP = (the topology of T);
(for A being (Subset of T) holds (for U being  open (Subset of T) holds (((A is  closed & U is  open) & A c= U) implies (ex W being (Function of ( NAT ),( bool (the carrier of T) )) st ((A c= ( Union W ) & ( Union W ) c= U) & (for n being (Element of ( NAT )) holds (( Cl ( W . n ) ) c= U & ( W . n ) is  open)))))))
proof
let A being (Subset of T);
let U being  open (Subset of T);
assume that
A10: A is  closed
and
U is  open
and
A11: A c= U;
defpred P[ set,set ]
 means
(for p being (Point of T) holds (p = $1 implies (ex W being (Subset of T) st (((W is  open & p in W) & ( Cl W ) c= U) & $2 = W))));
A12: (for x being set holds (x in A implies (ex y being set st (y in TOP & P[ x,y ]))))
proof
let x being set;
assume A13: x in A;
then reconsider p = x as (Point of T);
U = ( ( U ` ) ` );
then consider G1 being (Subset of T),G2 being (Subset of T) such that A14: G1 is  open and A15: G2 is  open and A16: p in G1 and A17: ( U ` ) c= G2 and A18: G1 misses G2 by A5,A11,A13,PRE_TOPC:def 11;
A19: (( Cl ( G2 ` ) ) = ( G2 ` ) & ( G2 ` ) c= U) by A15,A17,PRE_TOPC:22,SUBSET_1:17;
take G1;
thus G1 in TOP by A14,PRE_TOPC:def 2;
G1 c= ( G2 ` ) by A18,SUBSET_1:23;
then A20: ( Cl G1 ) c= ( Cl ( G2 ` ) ) by PRE_TOPC:19;
let q being (Point of T);
assume q = x;
hence thesis by A14,A16,A20,A19,XBOOLE_1:1;
end;
consider w being (Function of A,TOP) such that A21: (for x being set holds (x in A implies P[ x,( w . x ) ])) from FUNCT_2:sch 1(A12);
( A ` ) in TOP by A10,PRE_TOPC:def 2;
then (TOP is  open & { ( A ` ) } c= TOP) by ZFMISC_1:31;
then reconsider RNG = ( rng w ),AA = { ( A ` ) } as  open (Subset-Family of T) by TOPS_2:11,XBOOLE_1:1;
set RngA = ( RNG \/ AA );
A22: ( dom w ) = A by FUNCT_2:def 1;
( [#] T ) c= ( union RngA )
proof
let x being set;
assume A23: x in ( [#] T );
per cases ;
suppose A24: x in A;

then consider W being (Subset of T) such that W is  open and A25: x in W and ( Cl W ) c= U and A26: ( w . x ) = W by A21;
W in ( rng w ) by A22,A24,A26,FUNCT_1:def 3;
then W in RngA by XBOOLE_0:def 3;
hence thesis by A25,TARSKI:def 4;
end;
suppose A27: (not x in A);

( A ` ) in AA by TARSKI:def 1;
then A28: ( A ` ) in RngA by XBOOLE_0:def 3;
x in ( A ` ) by A23,A27,XBOOLE_0:def 5;
hence thesis by A28,TARSKI:def 4;
end;
end;
then (RngA is  open  open (Subset-Family of T) & RngA is (Cover of T)) by SETFAM_1:def 11,TOPS_2:13;
then consider G being (Subset-Family of T) such that A29: G c= RngA and A30: G is (Cover of T) and A31: G is  countable by A6,CKB43:def 1;
A32: ( [#] T ) = ( union G ) by A30,SETFAM_1:45;
per cases ;
suppose ( G \ AA ) is  empty;

then G c= AA by XBOOLE_1:37;
then A33: ( union G ) c= ( union AA ) by ZFMISC_1:77;
take W = ( ( NAT ) --> ( {} T ) );
( rng W ) = { ( {} T ) } by FUNCOP_1:8;
then A34: (( ( {} T ) ` ) = ( [#] T ) & ( Union W ) = ( {} T )) by ZFMISC_1:25;
( union AA ) = ( A ` ) by ZFMISC_1:25;
then ( A ` ) = ( [#] T ) by A32,A33,XBOOLE_0:def 10;
hence (A c= ( Union W ) & ( Union W ) c= U) by A34,SUBSET_1:42,XBOOLE_1:2;
let n being (Element of ( NAT ));
( W . n ) = ( {} T ) by FUNCOP_1:7;
then ( Cl ( W . n ) ) = ( {} T ) by PRE_TOPC:22;
hence thesis by FUNCOP_1:7,XBOOLE_1:2;
end;
suppose A35: ( G \ AA ) is non empty;

( G \ AA ) is  countable by A31,CARD_3:95;
then consider W being (Function of ( NAT ),( G \ AA )) such that A36: ( rng W ) = ( G \ AA ) by A35,CARD_3:96;
reconsider W as (Function of ( NAT ),( bool (the carrier of T) )) by A35,A36,FUNCT_2:6;
take W;
thus A c= ( Union W )
proof
let x being set;
assume A37: x in A;
then consider y being set such that A38: x in y and A39: y in G by A32,TARSKI:def 4;
(not x in ( A ` )) by A37,XBOOLE_0:def 5;
then (not y in AA) by A38,TARSKI:def 1;
then y in ( rng W ) by A36,A39,XBOOLE_0:def 5;
then (ex n being set st (n in ( dom W ) & ( W . n ) = y)) by FUNCT_1:def 3;
hence thesis by A38,PROB_1:12;
end;

A40: ( dom W ) = ( NAT ) by FUNCT_2:def 1;
thus ( Union W ) c= U
proof
let x being set;
assume x in ( Union W );
then consider n being (Element of ( NAT )) such that A41: x in ( W . n ) by PROB_1:12;
A42: ( W . n ) in ( G \ AA ) by A36,A40,FUNCT_1:def 3;
then ( W . n ) in G by ZFMISC_1:56;
then A43: (( W . n ) in RNG or ( W . n ) in AA) by A29,XBOOLE_0:def 3;
( W . n ) <> ( A ` ) by A42,ZFMISC_1:56;
then consider xx being set such that A44: (xx in ( dom w ) & ( w . xx ) = ( W . n )) by A43,FUNCT_1:def 3,TARSKI:def 1;
consider W9 being (Subset of T) such that W9 is  open and xx in W9 and A45: ( Cl W9 ) c= U and A46: ( W . n ) = W9 by A21,A22,A44;
W9 c= ( Cl W9 ) by PRE_TOPC:18;
then x in ( Cl W9 ) by A41,A46;
hence thesis by A45;
end;

let n being (Element of ( NAT ));
A47: ( W . n ) in ( G \ AA ) by A36,A40,FUNCT_1:def 3;
then ( W . n ) in G by ZFMISC_1:56;
then A48: (( W . n ) in RNG or ( W . n ) in AA) by A29,XBOOLE_0:def 3;
( W . n ) <> ( A ` ) by A47,ZFMISC_1:56;
then consider xx being set such that A49: (xx in ( dom w ) & ( w . xx ) = ( W . n )) by A48,FUNCT_1:def 3,TARSKI:def 1;
(ex W9 being (Subset of T) st (((W9 is  open & xx in W9) & ( Cl W9 ) c= U) & ( W . n ) = W9)) by A21,A22,A49;
hence thesis;
end;
end;
hence thesis by A9,NAGATA_1:18;
end;
end;
end;
