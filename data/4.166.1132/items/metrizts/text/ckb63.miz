environ
vocabularies NUMBERS,PRE_TOPC,SUBSET_1,SETFAM_1,PCOMPS_1,CARD_1,FINSET_1,T_0TOPSP,RELAT_1,XBOOLE_0,FUNCT_1,RCOMP_1,ORDINAL2,TOPS_2,WAYBEL23,TARSKI,RLVECT_3,STRUCT_0,ZFMISC_1,XXREAL_0,ARYTM_3,METRIC_1,CARD_5,NAGATA_1,TOPREAL7,CARD_2,MCART_1,ORDINAL1,WEIERSTR,TOPMETR,XREAL_0,ARYTM_1,COMPLEX1,XXREAL_1,TOPGEN_4,NAT_1,NEWTON,CARD_3,NATTRA_1,TOPGEN_1,TOPS_1,REAL_1,FUNCOP_1,EUCLID,FINSEQ_2,FINSEQ_1,CONNSP_1,METRIZTS,KURATO_2;
notations BINOP_1,TOPMETR,CARD_1,CANTOR_1,COMPLEX1,FINSET_1,TARSKI,XBOOLE_0,RELAT_1,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XREAL_0,REAL_1,DOMAIN_1,METRIC_1,PCOMPS_1,CARD_3,KURATO_0,KURATO_2,WAYBEL23,TOPGEN_1,FUNCOP_1,XCMPLX_0,TOPS_1,CARD_2,NEWTON,BORSUK_1,NAGATA_1,TEX_2,TOPGEN_4,RCOMP_1,WEIERSTR,TOPREAL7,ORDERS_4,XXREAL_0,FUNCT_1,RELSET_1,FUNCT_2,FUNCT_3,NAT_1,FINSEQ_1,SETFAM_1,STRUCT_0,PRE_TOPC,CONNSP_1,TOPS_2,BORSUK_3,EUCLID,FINSEQ_2,CKB1,CKB43,CKB59;
definitions BINOP_1,CARD_3,METRIC_1,PCOMPS_1,PRE_TOPC,SUBSET_1,STRUCT_0,TARSKI,TOPS_2,XBOOLE_0,CKB1,CKB43,CKB59;
theorems ABSVALUE,BORSUK_1,BORSUK_5,CANTOR_1,CARD_1,CARD_2,CARD_3,CARD_4,COMPL_SP,CONNSP_1,FUNCOP_1,FUNCT_1,FUNCT_2,FUNCT_3,HAUSDORF,JGRAPH_2,JORDAN1K,MCART_1,METRIC_1,NAGATA_1,NAGATA_2,NEWTON,PARTIT1,PCOMPS_1,PCOMPS_2,PREPOWER,PRE_TOPC,PROB_1,SETFAM_1,SUBSET_1,TARSKI,TEX_2,TMAP_1,TOPGEN_1,TOPGEN_2,TOPGEN_4,TOPMETR,TOPREAL7,TOPS_1,TOPS_2,TSEP_1,TSP_1,WAYBEL23,WAYBEL29,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,YELLOW12,YELLOW_9,ZFMISC_1,T_0TOPSP,TOPGRP_1,RELAT_1,ORDERS_4,NUMBERS,TOPREAL6,TOPREALA,EUCLID,ORDINAL1,FINSEQ_2,YELLOW14,TOPS_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB15,CKB16,CKB18,CKB19,CKB22,CKB23,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB48,CKB55,CKB59,CKB60,CKB61,CKB62;
schemes BORSUK_2,CLASSES1,FRAENKEL,FUNCT_2,LMOD_7,NAT_1;
registrations TOPMETR,PRE_TOPC,PCOMPS_1,XREAL_0,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,FINSET_1,FUNCT_1,ORDINAL1,COMPTS_1,RELAT_1,XCMPLX_0,CARD_LAR,BORSUK_1,TOPGEN_4,MEMBERED,TOPREAL7,BORSUK_3,EUCLID,RELSET_1,KURATO_2,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB17,CKB20,CKB21,CKB24,CKB25,CKB47,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB56,CKB57,CKB58;
constructors REAL_1,KURATO_2,CANTOR_1,TOPGEN_4,WAYBEL23,TOPGEN_1,TOPS_1,FUNCT_3,TOPREAL9,CARD_2,NEWTON,CARD_5,NAGATA_1,TEX_2,TSP_1,CONNSP_1,RCOMP_1,WEIERSTR,TOPREAL7,ORDERS_4,TOPS_2,BORSUK_3,FUNCSDOM,YELLOW13,YELLOW_2,KURATO_0,CKB1,CKB43,CKB59;
requirements ARITHM,BOOLE,NUMERALS,REAL,SUBSET;
begin
reserve T1 for TopSpace;
reserve T2 for TopSpace;
reserve A1 for (Subset of T1);
reserve A2 for (Subset of T2);
reserve TM for  metrizable TopSpace;
theorem
(for M being (Subset of TM) holds (for A1,A2 being  closed (Subset of TM) holds (for V1,V2 being  open (Subset of TM) holds (((A1 c= V1 & A2 c= V2) & ( Cl V1 ) misses ( Cl V2 )) implies (for mV1,mV2,mL being (Subset of ( TM | M )) holds (((mV1 = ( M /\ ( Cl V1 ) ) & mV2 = ( M /\ ( Cl V2 ) )) & mL separates mV1,mV2) implies (ex L being (Subset of TM) st (L separates A1,A2 & ( M /\ L ) c= mL))))))))
proof
let M being (Subset of TM);
let A1 being  closed (Subset of TM);
let A2 being  closed (Subset of TM);
let V1 being  open (Subset of TM);
let V2 being  open (Subset of TM);
assume that
A1: A1 c= V1
and
A2: A2 c= V2
and
A3: ( Cl V1 ) misses ( Cl V2 );
set TMM = ( TM | M );
let mV1 being (Subset of TMM);
let mV2 being (Subset of TMM);
let mL being (Subset of TMM);
assume that
A4: mV1 = ( M /\ ( Cl V1 ) )
and
A5: mV2 = ( M /\ ( Cl V2 ) )
and
A6: mL separates mV1,mV2;
A7: ( V2 /\ M ) c= mV2 by A5,PRE_TOPC:18,XBOOLE_1:26;
consider U9,W9 being  open (Subset of TMM) such that A8: mV1 c= U9 and A9: mV2 c= W9 and A10: U9 misses W9 and A11: mL = ( ( U9 \/ W9 ) ` ) by A6,CKB59:def 1;
A12: ( [#] TMM ) = M by PRE_TOPC:def 5;
then reconsider u = U9,w = W9 as (Subset of TM) by XBOOLE_1:1;
set u1 = ( u \/ A1 );
set w1 = ( w \/ A2 );
A13: ( mV2 /\ u ) c= ( U9 /\ W9 ) by A9,XBOOLE_1:26;
U9,W9 are_separated  by A10,TSEP_1:37;
then A14: u,w are_separated  by CONNSP_1:5;
( V2 /\ u ) = ( V2 /\ ( M /\ u ) ) by A12,XBOOLE_1:28
.= ( ( V2 /\ M ) /\ u ) by XBOOLE_1:16;
then ( V2 /\ u ) c= ( mV2 /\ u ) by A7,XBOOLE_1:26;
then ( V2 /\ u ) c= ( U9 /\ W9 ) by A13,XBOOLE_1:1;
then ( V2 /\ u ) c= ( {} ) by A10,XBOOLE_0:def 7;
then ( V2 /\ u ) = ( {} );
then V2 misses u by XBOOLE_0:def 7;
then A15: V2 misses ( Cl u ) by TSEP_1:36;
A16: ( Cl u1 ) misses w1
proof
assume ( Cl u1 ) meets w1;
then consider x being set such that A17: (x in ( Cl u1 ) & x in w1) by XBOOLE_0:3;
A18: ( Cl u1 ) = ( ( Cl u ) \/ ( Cl A1 ) ) by PRE_TOPC:20;
per cases  by A17,A18,XBOOLE_0:def 3;
suppose (x in ( Cl u ) & x in w);

then w meets ( Cl u ) by XBOOLE_0:3;
hence contradiction by A14,CONNSP_1:def 1;
end;
suppose (x in ( Cl u ) & x in A2);

hence contradiction by A2,A15,XBOOLE_0:3;
end;
suppose A19: (x in ( Cl A1 ) & x in w);

( Cl A1 ) c= ( Cl V1 ) by A1,PRE_TOPC:19;
then x in mV1 by A4,A12,A19,XBOOLE_0:def 4;
hence contradiction by A8,A10,A19,XBOOLE_0:3;
end;
suppose A20: (x in ( Cl A1 ) & x in A2);

A21: (( Cl A1 ) c= ( Cl V1 ) & V2 c= ( Cl V2 )) by A1,PRE_TOPC:18,PRE_TOPC:19;
x in V2 by A2,A20;
hence thesis by A3,A20,A21,XBOOLE_0:3;
end;
end;
A22: ( V1 /\ M ) c= mV1 by A4,PRE_TOPC:18,XBOOLE_1:26;
A23: ( mV1 /\ w ) c= ( U9 /\ W9 ) by A8,XBOOLE_1:26;
( V1 /\ w ) = ( V1 /\ ( M /\ w ) ) by A12,XBOOLE_1:28
.= ( ( V1 /\ M ) /\ w ) by XBOOLE_1:16;
then ( V1 /\ w ) c= ( mV1 /\ w ) by A22,XBOOLE_1:26;
then ( V1 /\ w ) c= ( U9 /\ W9 ) by A23,XBOOLE_1:1;
then ( V1 /\ w ) c= ( {} ) by A10,XBOOLE_0:def 7;
then ( V1 /\ w ) = ( {} );
then V1 misses w by XBOOLE_0:def 7;
then A24: V1 misses ( Cl w ) by TSEP_1:36;
( Cl w1 ) misses u1
proof
assume ( Cl w1 ) meets u1;
then consider x being set such that A25: (x in ( Cl w1 ) & x in u1) by XBOOLE_0:3;
A26: ( Cl w1 ) = ( ( Cl w ) \/ ( Cl A2 ) ) by PRE_TOPC:20;
per cases  by A25,A26,XBOOLE_0:def 3;
suppose (x in ( Cl w ) & x in u);

then ( Cl w ) meets u by XBOOLE_0:3;
hence contradiction by A14,CONNSP_1:def 1;
end;
suppose (x in ( Cl w ) & x in A1);

hence contradiction by A1,A24,XBOOLE_0:3;
end;
suppose A27: (x in ( Cl A2 ) & x in u);

( Cl A2 ) c= ( Cl V2 ) by A2,PRE_TOPC:19;
then x in mV2 by A5,A12,A27,XBOOLE_0:def 4;
hence contradiction by A9,A10,A27,XBOOLE_0:3;
end;
suppose A28: (x in ( Cl A2 ) & x in A1);

A29: (( Cl A2 ) c= ( Cl V2 ) & V1 c= ( Cl V1 )) by A2,PRE_TOPC:18,PRE_TOPC:19;
x in V1 by A1,A28;
hence thesis by A3,A28,A29,XBOOLE_0:3;
end;
end;
then u1,w1 are_separated  by A16,CONNSP_1:def 1;
then consider U1,W1 being  open (Subset of TM) such that A30: u1 c= U1 and A31: w1 c= W1 and A32: U1 misses W1 by CKB61:1;
take L = ( ( U1 \/ W1 ) ` );
A2 c= w1 by XBOOLE_1:7;
then A33: A2 c= W1 by A31,XBOOLE_1:1;
w c= w1 by XBOOLE_1:7;
then A34: w c= W1 by A31,XBOOLE_1:1;
u c= u1 by XBOOLE_1:7;
then u c= U1 by A30,XBOOLE_1:1;
then A35: ( u \/ w ) c= ( U1 \/ W1 ) by A34,XBOOLE_1:13;
A1 c= u1 by XBOOLE_1:7;
then A1 c= U1 by A30,XBOOLE_1:1;
hence L separates A1,A2 by A32,A33,CKB59:def 1;
A36: ( ( [#] TMM ) \ ( U9 \/ W9 ) ) = mL by A11;
( M /\ L ) = ( ( M /\ ( [#] TM ) ) \ ( U1 \/ W1 ) ) by XBOOLE_1:49
.= ( M \ ( U1 \/ W1 ) ) by XBOOLE_1:28;
then ( M /\ L ) c= ( M \ ( U9 \/ W9 ) ) by A35,XBOOLE_1:34;
hence thesis by A36,PRE_TOPC:def 5;
end;
