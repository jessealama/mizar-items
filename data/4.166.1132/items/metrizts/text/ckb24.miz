environ
vocabularies NUMBERS,PRE_TOPC,SUBSET_1,SETFAM_1,PCOMPS_1,CARD_1,FINSET_1,T_0TOPSP,RELAT_1,XBOOLE_0,FUNCT_1,RCOMP_1,ORDINAL2,TOPS_2,WAYBEL23,TARSKI,RLVECT_3,STRUCT_0,ZFMISC_1,XXREAL_0,ARYTM_3,METRIC_1,CARD_5,NAGATA_1,TOPREAL7,CARD_2,MCART_1,ORDINAL1,WEIERSTR,TOPMETR,XREAL_0,ARYTM_1,COMPLEX1,XXREAL_1,TOPGEN_4,NAT_1,NEWTON,CARD_3,NATTRA_1,TOPGEN_1,TOPS_1,REAL_1,FUNCOP_1,EUCLID,FINSEQ_2,FINSEQ_1,CONNSP_1,METRIZTS,KURATO_2;
notations BINOP_1,TOPMETR,CARD_1,CANTOR_1,COMPLEX1,FINSET_1,TARSKI,XBOOLE_0,RELAT_1,SUBSET_1,ORDINAL1,NUMBERS,ZFMISC_1,XREAL_0,REAL_1,DOMAIN_1,METRIC_1,PCOMPS_1,CARD_3,KURATO_0,KURATO_2,WAYBEL23,TOPGEN_1,FUNCOP_1,XCMPLX_0,TOPS_1,CARD_2,NEWTON,BORSUK_1,NAGATA_1,TEX_2,TOPGEN_4,RCOMP_1,WEIERSTR,TOPREAL7,ORDERS_4,XXREAL_0,FUNCT_1,RELSET_1,FUNCT_2,FUNCT_3,NAT_1,FINSEQ_1,SETFAM_1,STRUCT_0,PRE_TOPC,CONNSP_1,TOPS_2,BORSUK_3,EUCLID,FINSEQ_2,CKB1;
definitions BINOP_1,CARD_3,METRIC_1,PCOMPS_1,PRE_TOPC,SUBSET_1,STRUCT_0,TARSKI,TOPS_2,XBOOLE_0,CKB1;
theorems ABSVALUE,BORSUK_1,BORSUK_5,CANTOR_1,CARD_1,CARD_2,CARD_3,CARD_4,COMPL_SP,CONNSP_1,FUNCOP_1,FUNCT_1,FUNCT_2,FUNCT_3,HAUSDORF,JGRAPH_2,JORDAN1K,MCART_1,METRIC_1,NAGATA_1,NAGATA_2,NEWTON,PARTIT1,PCOMPS_1,PCOMPS_2,PREPOWER,PRE_TOPC,PROB_1,SETFAM_1,SUBSET_1,TARSKI,TEX_2,TMAP_1,TOPGEN_1,TOPGEN_2,TOPGEN_4,TOPMETR,TOPREAL7,TOPS_1,TOPS_2,TSEP_1,TSP_1,WAYBEL23,WAYBEL29,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,YELLOW12,YELLOW_9,ZFMISC_1,T_0TOPSP,TOPGRP_1,RELAT_1,ORDERS_4,NUMBERS,TOPREAL6,TOPREALA,EUCLID,ORDINAL1,FINSEQ_2,YELLOW14,TOPS_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB15,CKB16,CKB18,CKB19,CKB22,CKB23;
schemes BORSUK_2,CLASSES1,FRAENKEL,FUNCT_2,LMOD_7,NAT_1;
registrations TOPMETR,PRE_TOPC,PCOMPS_1,XREAL_0,SUBSET_1,STRUCT_0,TOPS_1,METRIC_1,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,FINSET_1,FUNCT_1,ORDINAL1,COMPTS_1,RELAT_1,XCMPLX_0,CARD_LAR,BORSUK_1,TOPGEN_4,MEMBERED,TOPREAL7,BORSUK_3,EUCLID,RELSET_1,KURATO_2,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB17,CKB20,CKB21;
constructors REAL_1,KURATO_2,CANTOR_1,TOPGEN_4,WAYBEL23,TOPGEN_1,TOPS_1,FUNCT_3,TOPREAL9,CARD_2,NEWTON,CARD_5,NAGATA_1,TEX_2,TSP_1,CONNSP_1,RCOMP_1,WEIERSTR,TOPREAL7,ORDERS_4,TOPS_2,BORSUK_3,FUNCSDOM,YELLOW13,YELLOW_2,KURATO_0,CKB1;
requirements ARITHM,BOOLE,NUMERALS,REAL,SUBSET;
begin
reserve TM for  metrizable TopSpace;
reserve Am for (Subset of TM);
registration
let TM;
cluster  open ->  F_sigma for (Subset of TM);
coherence
proof
set TOP = (the topology of TM);
set cTM = (the carrier of TM);
let Am;
assume A1: Am is  open;
per cases ;
suppose A2: TM is  empty;

reconsider E = ( {} ) as  empty (Subset-Family of TM) by TOPGEN_4:18;
Am = ( union E ) by A2,ZFMISC_1:2;
hence thesis by TOPGEN_4:def 6;
end;
suppose A3: TM is non  empty;

per cases ;
suppose Am = ( [#] TM );

hence thesis by A3;
end;
suppose A4: Am <> ( [#] TM );

consider metr being (Function of [: cTM,cTM :],( REAL )) such that A5: metr is_metric_of cTM and A6: ( Family_open_set ( SpaceMetr (cTM,metr) ) ) = TOP by PCOMPS_1:def 8;
reconsider Tm = ( SpaceMetr (cTM,metr) ) as non  empty MetrSpace by A3,A5,PCOMPS_1:36;
set TTm = ( TopSpaceMetr Tm );
Am in (the topology of TTm) by A1,A6,PRE_TOPC:def 2;
then reconsider a = Am as  open (Subset of TTm) by PRE_TOPC:def 2;
( ( {} TTm ) ` ) = ( [#] TTm );
then reconsider A9 = ( a ` ) as  closed non  empty (Subset of TTm) by A3,A4,A5,PCOMPS_2:4;
defpred P[ set,set ]
 means
(for n being Nat holds (n = $1 implies $2 = { p where p is (Point of TTm): ( ( dist_min A9 ) . p ) < ( 1 / ( 2 |^ n ) ) }));
A7: (for x being set holds (x in ( NAT ) implies (ex y being set st (y in TOP & P[ x,y ]))))
proof
let x being set;
assume x in ( NAT );
then reconsider n = x as (Element of ( NAT ));
reconsider BallA = { p where p is (Point of TTm): ( ( dist_min A9 ) . p ) < ( 1 / ( 2 |^ n ) ) } as  open (Subset of TTm) by CKB23:1;
take BallA;
thus thesis by A6,PRE_TOPC:def 2;
end;
consider p being (Function of ( NAT ),TOP) such that A8: (for x being set holds (x in ( NAT ) implies P[ x,( p . x ) ])) from FUNCT_2:sch 1(A7);
reconsider RNG = ( rng p ) as  open (Subset-Family of TM) by TOPS_2:11,XBOOLE_1:1;
set Crng = ( COMPLEMENT RNG );
A9: ( dom p ) = ( NAT ) by FUNCT_2:def 1;
A10: ( [#] TM ) = ( [#] TTm ) by A3,A5,PCOMPS_2:4;
A11: ( union Crng ) = Am
proof
hereby
let x being set;
assume A12: x in ( union Crng );
then consider y being set such that A13: x in y and A14: y in ( COMPLEMENT RNG ) by TARSKI:def 4;
reconsider Y = y as (Subset of TM) by A14;
( Y ` ) in RNG by A14,SETFAM_1:def 7;
then consider n being set such that A15: n in ( dom p ) and A16: ( p . n ) = ( Y ` ) by FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A15;
assume (not x in Am);
then x in A9 by A10,A12,XBOOLE_0:def 5;
then A17: (( 2 |^ n ) > ( 0 ) & ( ( dist_min A9 ) . x ) = ( 0 )) by HAUSDORF:5,PREPOWER:6;
( Y ` ) = { q where q is (Point of TTm): ( ( dist_min A9 ) . q ) < ( 1 / ( 2 |^ n ) ) } by A8,A16;
then x in ( Y ` ) by A10,A12,A17;
hence contradiction by A13,XBOOLE_0:def 5;
end;
let x being set;
assume A18: x in Am;
then reconsider q = x as (Point of TTm) by A3,A5,PCOMPS_2:4;
(( Cl A9 ) = A9 & (not q in A9)) by A18,PRE_TOPC:22,XBOOLE_0:def 5;
then A19: ( ( dist_min A9 ) . q ) <> ( 0 ) by HAUSDORF:8;
( ( dist_min A9 ) . q ) >= ( 0 ) by JORDAN1K:9;
then consider n being (Element of ( NAT )) such that A20: ( 1 / ( 2 |^ n ) ) <= ( ( dist_min A9 ) . q ) by A19,PREPOWER:92;
( p . n ) in RNG by A9,FUNCT_1:def 3;
then reconsider pn = ( p . n ) as (Subset of TM);
A21: pn = { s where s is (Point of TTm): ( ( dist_min A9 ) . s ) < ( 1 / ( 2 |^ n ) ) } by A8;
(for s being (Point of TTm) holds (s = q implies (not ( 1 / ( 2 |^ n ) ) > ( ( dist_min A9 ) . s )))) by A20;
then (not q in pn) by A21;
then A22: q in ( pn ` ) by A18,XBOOLE_0:def 5;
( ( pn ` ) ` ) in RNG by A9,FUNCT_1:def 3;
then ( pn ` ) in Crng by SETFAM_1:def 7;
hence thesis by A22,TARSKI:def 4;
end;
(Crng is  closed & RNG is  countable) by A9,CARD_3:93,TOPS_2:10;
hence thesis by A11,TOPGEN_4:def 6;
end;
end;
end;
end;
