environ
vocabularies NUMBERS,XBOOLE_0,PROB_1,MEASURE1,PARTFUN1,SUBSET_1,RELAT_1,FUNCT_1,XXREAL_0,ARYTM_1,SUPINF_2,SUPINF_1,CARD_1,REAL_1,VALUED_1,MEASURE6,INTEGRA5,MESFUNC5,ARYTM_3,MESFUNC1,COMPLEX1,TARSKI,MESFUNC2,VALUED_0,FINSEQ_1,BINOP_1,SETWISEO,CARD_3,ORDINAL1,FINSEQ_2,NEWTON,ORDINAL4,NAT_1,XREAL_0,POWER,SQUARE_1,XXREAL_2,ORDINAL2,RFUNCT_3,FUNCT_3,MESFUNC7;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,VALUED_0,XREAL_0,COMPLEX1,REAL_1,XXREAL_0,XXREAL_2,MEASURE1,NAT_1,SUPINF_1,RELAT_1,RELSET_1,SETWISEO,PARTFUN1,FINSEQ_1,FINSEQ_2,SETWOP_2,BINOP_1,FUNCT_2,NEWTON,SQUARE_1,PROB_1,SUPINF_2,EXTREAL1,POWER,MESFUNC5,MESFUNC1,MESFUNC2,MEASURE6;
definitions TARSKI,MESFUNC1,MEASURE6,MESFUNC5,XCMPLX_0,SQUARE_1;
theorems ABSVALUE,SETWISEO,POWER,HOLDER_1,TARSKI,PARTFUN1,FUNCT_1,SUPINF_2,EXTREAL1,EXTREAL2,BINOP_1,MESFUNC1,FINSEQ_1,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,MESFUNC2,NEWTON,XREAL_1,COMPLEX1,XXREAL_0,FINSEQ_2,MESFUNC5,FINSOP_1,NAT_1,RELAT_1,FUNCT_3,MEASURE1,MESFUNC6,ORDINAL1,VALUED_0,XXREAL_2,XXREAL_3,CKB1,CKB2;
schemes FUNCT_2,NAT_1,PARTFUN2,BINOP_1,BINOP_2;
registrations SUBSET_1,NAT_1,RELSET_1,XREAL_0,MEMBERED,ORDINAL1,FINSEQ_1,MEASURE1,NUMBERS,XXREAL_0,XBOOLE_0,VALUED_0,POWER,XXREAL_3;
constructors REAL_1,FINSOP_1,EXTREAL1,BINOP_1,NEWTON,POWER,MESFUNC1,MEASURE6,MESFUNC2,MEASURE3,SETWISEO,EXTREAL2,SQUARE_1,MESFUNC5,SUPINF_1,RELSET_1,BINOP_2;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for non empty set;
reserve S for (SigmaField of X);
reserve M for (sigma_Measure of S);
reserve f for (PartFunc of X,( ExtREAL ));
reserve g for (PartFunc of X,( ExtREAL ));
theorem
Th3: (((f is_integrable_on M & g is_integrable_on M) & ( g - f ) is  nonnegative) implies (ex E being (Element of S) st (E = ( ( dom f ) /\ ( dom g ) ) & ( Integral (M,( f | E )) ) <= ( Integral (M,( g | E )) ))))
proof
assume that
A1: f is_integrable_on M
and
A2: g is_integrable_on M
and
A3: ( g - f ) is  nonnegative;
set h = ( ( - 1 ) (#) f );
A4: h is_integrable_on M by A1,MESFUNC5:110;
then consider E being (Element of S) such that A5: E = ( ( dom h ) /\ ( dom g ) ) and A6: ( Integral (M,( h + g )) ) = ( ( Integral (M,( h | E )) ) + ( Integral (M,( g | E )) ) ) by A2,MESFUNC5:109;
A7: (ex E3 being (Element of S) st (E3 = ( dom h ) & h is_measurable_on E3)) by A4,MESFUNC5:def 17;
A8: ( g | E ) is_integrable_on M by A2,MESFUNC5:97;
then A9: ( Integral (M,( g | E )) ) < ( +infty ) by MESFUNC5:96;
( -infty ) < ( Integral (M,( g | E )) ) by A8,MESFUNC5:96;
then reconsider c2 = ( Integral (M,( g | E )) ) as Real by A9,XXREAL_0:14;
take E;
A10: ( h | E ) = ( ( - 1 ) (#) ( f | E ) ) by CKB2:1;
( g + ( - f ) ) is  nonnegative by A3,MESFUNC2:8;
then A11: ( h + g ) is  nonnegative by MESFUNC2:9;
A12: ( f | E ) is_integrable_on M by A1,MESFUNC5:97;
then A13: ( Integral (M,( f | E )) ) < ( +infty ) by MESFUNC5:96;
( -infty ) < ( Integral (M,( f | E )) ) by A12,MESFUNC5:96;
then reconsider c1 = ( Integral (M,( f | E )) ) as Real by A13,XXREAL_0:14;
A14: ( ( R_EAL ( - 1 ) ) * ( Integral (M,( f | E )) ) ) = ( ( - 1 ) * c1 ) by EXTREAL1:1;
(ex E2 being (Element of S) st (E2 = ( dom g ) & g is_measurable_on E2)) by A2,MESFUNC5:def 17;
then (ex A being (Element of S) st (A = ( dom ( h + g ) ) & ( h + g ) is_measurable_on A)) by A7,MESFUNC5:47;
then ( 0 ) <= ( ( Integral (M,( h | E )) ) + ( Integral (M,( g | E )) ) ) by A6,A11,MESFUNC5:90;
then ( 0 ) <= ( ( ( R_EAL ( - 1 ) ) * ( Integral (M,( f | E )) ) ) + ( Integral (M,( g | E )) ) ) by A12,A10,MESFUNC5:110;
then ( 0 ) <= ( ( - c1 ) + c2 ) by A14,SUPINF_2:1;
then ( ( 0 ) + c1 ) <= ( ( ( - c1 ) + c2 ) + c1 ) by XREAL_1:6;
hence thesis by A5,MESFUNC1:def 6;
end;
