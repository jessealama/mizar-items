environ
vocabularies NUMBERS,FINSEQ_1,NAT_1,FINSEQ_3,RELAT_1,ARYTM_1,ORDINAL4,RFINSEQ,SUBSET_1,TARSKI,XBOOLE_0,XXREAL_0,ARYTM_3,CARD_1,FUNCT_1,PARTFUN1,PRALG_1,PBOOLE,RLVECT_2,FUNCT_4,STRUCT_0,PENCIL_1,CARD_3,INTEGRA1,ZFMISC_1,PRE_TOPC,FUNCT_2,CAT_1,RCOMP_1,RELAT_2,PENCIL_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,RELAT_1,NAT_D,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,STRUCT_0,XXREAL_0,RFINSEQ,CARD_1,FINSEQ_1,CARD_3,PRE_TOPC,PBOOLE,PZFMISC1,TOPS_2,T_0TOPSP,PRALG_1,FUNCT_7,PENCIL_1,CKB1,CKB10,CKB12;
definitions TARSKI,PBOOLE,PENCIL_1,XBOOLE_0,STRUCT_0,CKB1,CKB10,CKB12;
theorems TARSKI,FUNCT_1,PBOOLE,CARD_3,CARD_1,FINSEQ_1,ZFMISC_1,NAT_1,FUNCT_7,YELLOW_6,PZFMISC1,PUA2MSS1,PRE_TOPC,FINSEQ_3,FUNCT_2,TOPGRP_1,TOPS_2,T_0TOPSP,RELAT_1,PENCIL_1,RFINSEQ,FINSEQ_4,FINSEQ_5,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,PARTFUN1,XREAL_0,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14;
schemes FINSEQ_1,NAT_1,INT_1,CKB8;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,PARTFUN1,FUNCT_2,XXREAL_0,XREAL_0,NAT_1,REALSET1,STRUCT_0,BORSUK_2,PENCIL_1,ORDINAL1,FINSEQ_1,RELSET_1,PRE_POLY,ZFMISC_1;
constructors XXREAL_0,RFINSEQ,NAT_D,PZFMISC1,TOPS_2,T_0TOPSP,POLYNOM1,PENCIL_1,REAL_1,RELSET_1,PBOOLE,FUNCT_7,CKB1,CKB10,CKB12;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
theorem
Th11: (for I being non  empty set holds (for A being  PLS-yielding (ManySortedSet of I) holds (for X,Y being (Subset of ( Segre_Product A )) holds (((X is non  trivial  closed_under_lines  strong & Y is non  trivial  closed_under_lines  strong) & X,Y are_joinable ) implies (for X1,Y1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) holds ((X = ( product X1 ) & Y = ( product Y1 )) implies (( indx X1 ) = ( indx Y1 ) & (for i being set holds (i <> ( indx X1 ) implies ( X1 . i ) = ( Y1 . i ))))))))))
proof
let I being non  empty set;
let A being  PLS-yielding (ManySortedSet of I);
let X being (Subset of ( Segre_Product A ));
let Y being (Subset of ( Segre_Product A ));
assume that
A1: X is non  trivial  closed_under_lines  strong
and
A2: Y is non  trivial  closed_under_lines  strong
and
A3: X,Y are_joinable ;
set B = ( bool (the carrier of ( Segre_Product A )) );
consider f being (FinSequence of B) such that A4: X = ( f . 1 ) and A5: Y = ( f . ( len f ) ) and A6: (for W being (Subset of ( Segre_Product A )) holds (W in ( rng f ) implies W is  closed_under_lines  strong)) and A7: (for i being (Element of ( NAT )) holds ((1 <= i & i < ( len f )) implies 2 c= ( card ( ( f . i ) /\ ( f . ( i + 1 ) ) ) ))) by A3,CKB12:def 1;
( len f ) in ( dom f ) by A2,A5,FUNCT_1:def 2;
then A8: 1 <= ( len f ) by FINSEQ_3:25;
consider B0 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) such that A9: X = ( product B0 ) and (for C being (Subset of ( A . ( indx B0 ) )) holds (C = ( B0 . ( indx B0 ) ) implies C is  strong  closed_under_lines)) by A1,PENCIL_1:29;
let X1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
let Y1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
assume that
A10: X = ( product X1 )
and
A11: Y = ( product Y1 );
defpred P[ (Element of ( NAT )) ]
 means
(for H being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) holds (( f . $1 ) = ( product H ) implies (( indx X1 ) = ( indx H ) & (for i being set holds (i <> ( indx X1 ) implies ( X1 . i ) = ( H . i ))))));
A12: B0 = X1 by A10,A9,PUA2MSS1:2;
A13: (for j being (Element of ( NAT )) holds ((1 <= j & j < ( len f )) implies (P[ j ] implies P[ ( j + 1 ) ])))
proof
let j being (Element of ( NAT ));
assume that
A14: 1 <= j
and
A15: j < ( len f );
j in ( dom f ) by A14,A15,FINSEQ_3:25;
then A16: ( f . j ) in ( rng f ) by FUNCT_1:3;
A17: 1 <= ( j + 1 ) by NAT_1:11;
( j + 1 ) <= ( len f ) by A15,NAT_1:13;
then ( j + 1 ) in ( dom f ) by A17,FINSEQ_3:25;
then ( f . ( j + 1 ) ) in ( rng f ) by FUNCT_1:3;
then reconsider fj = ( f . j ),fj1 = ( f . ( j + 1 ) ) as (Subset of ( Segre_Product A )) by A16;
A18: ( card ( fj /\ fj1 ) ) c= ( card fj ) by CARD_1:11,XBOOLE_1:17;
A19: 2 c= ( card ( fj /\ fj1 ) ) by A7,A14,A15;
2 c= ( card ( fj /\ fj1 ) ) by A7,A14,A15;
then 2 c= ( card fj ) by A18,XBOOLE_1:1;
then fj is non  trivial  closed_under_lines  strong by A6,A16,PENCIL_1:4;
then consider B1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) such that A20: fj = ( product B1 ) and (for C being (Subset of ( A . ( indx B1 ) )) holds (C = ( B1 . ( indx B1 ) ) implies C is  strong  closed_under_lines)) by PENCIL_1:29;
assume A21: P[ j ];
then A22: ( indx B0 ) = ( indx B1 ) by A12,A20;
now
let H being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
assume A23: ( f . ( j + 1 ) ) = ( product H );
hence ( indx X1 ) = ( indx H ) by A12,A20,A22,A19,PENCIL_1:26;
thus (for i being set holds (i <> ( indx X1 ) implies ( X1 . i ) = ( H . i )))
proof
let i being set;
assume A24: i <> ( indx X1 );
then A25: i <> ( indx B1 ) by A21,A20;
thus ( X1 . i ) = ( B1 . i ) by A21,A20,A24
.= ( H . i ) by A20,A19,A23,A25,PENCIL_1:26;
end;

end;
hence thesis;
end;
A26: P[ 1 ] by A10,A4,PUA2MSS1:2;
(for i being (Element of ( NAT )) holds ((1 <= i & i <= ( len f )) implies P[ i ])) from INT_1:sch 7(A26,A13);
hence thesis by A11,A5,A8;
end;
