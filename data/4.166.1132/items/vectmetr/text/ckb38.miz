environ
vocabularies NUMBERS,XBOOLE_0,METRIC_1,CONVEX1,SUBSET_1,REAL_1,CARD_1,XXREAL_0,RELAT_1,ARYTM_1,FINSEQ_1,STRUCT_0,PARTFUN1,ARYTM_3,COMPLEX1,CARD_3,ZFMISC_1,BINTREE1,TREES_2,FUNCT_1,TREES_4,ORDINAL4,CAT_1,TREES_1,POWER,INT_1,NAT_1,FINSEQ_2,MARGREL1,EUCLID,XBOOLEAN,MCART_1,BINTREE2,ABIAN,TARSKI,RELAT_2,FUNCT_2,RLVECT_1,ALGSTR_0,BINOP_1,UNIALG_1,SUPINF_2,XREAL_0,ORDINAL1,PRE_TOPC,GROUP_1,GROUP_2,VECTMETR;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,MCART_1,ORDINAL1,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,RELAT_2,XXREAL_0,INT_1,NAT_1,NAT_D,POWER,ABIAN,SERIES_1,RELAT_1,RELSET_1,MARGREL1,BINOP_1,DOMAIN_1,FUNCT_1,PARTFUN1,FUNCT_2,STRUCT_0,ALGSTR_0,PRE_TOPC,FINSEQ_1,FINSEQ_2,FINSEQ_4,BINARITH,TREES_1,TREES_2,TREES_4,BINTREE1,BINTREE2,RVSUM_1,RLVECT_1,GROUP_1,GROUP_2,TOPS_2,METRIC_1,EUCLID,CKB1,CKB2,CKB6,CKB10,CKB11,CKB19,CKB22,CKB23,CKB24,CKB26,CKB30,CKB32,CKB37;
definitions FUNCT_2,STRUCT_0,TARSKI,XBOOLE_0,MARGREL1,XBOOLEAN,RLVECT_1,RVSUM_1,EUCLID,FINSEQ_2,ALGSTR_0,VALUED_1,CKB1,CKB2,CKB6,CKB10,CKB22,CKB23,CKB24,CKB30,CKB32,CKB37;
theorems STRUCT_0,TARSKI,MCART_1,NAT_1,NAT_2,ZFMISC_1,BINOP_1,RELAT_1,FUNCT_1,FUNCT_2,POWER,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSEQ_5,BINARI_2,BINARI_3,ABSVALUE,TOPS_2,FUNCOP_1,BINTREE2,PRE_FF,RLVECT_1,METRIC_1,RVSUM_1,EUCLID,GROUP_1,GROUP_2,RELAT_2,XCMPLX_1,PARTFUN1,INT_1,ORDERS_1,XREAL_1,FINSEQOP,XXREAL_0,FINSOP_1,NAT_D,ORDINAL1,XREAL_0,CARD_1,CKB1,CKB2,CKB3,CKB6,CKB8,CKB10,CKB13,CKB15,CKB17,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB35,CKB36,CKB37;
schemes BINOP_1,NAT_1,FINSEQ_2,BINTREE2,RELSET_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,FUNCT_2,NUMBERS,XXREAL_0,NAT_1,FINSEQ_1,BINOP_2,MEMBERED,MARGREL1,FINSEQ_2,TREES_2,STRUCT_0,METRIC_1,GROUP_2,BINTREE1,BINTREE2,VALUED_0,XREAL_0,RELAT_1,INT_1,CARD_1,CKB4,CKB5,CKB7,CKB9,CKB12,CKB14,CKB16,CKB18,CKB19,CKB20,CKB21,CKB25,CKB33,CKB34;
constructors XXREAL_0,REAL_1,NAT_1,NAT_D,FINSEQOP,FINSEQ_4,FINSOP_1,SERIES_1,REALSET1,BINARITH,ABIAN,TOPS_2,GROUP_2,GRCAT_1,EUCLID,BINTREE2,BINOP_2,RVSUM_1,RELSET_1,CKB1,CKB2,CKB6,CKB10,CKB11,CKB19,CKB22,CKB23,CKB24,CKB30,CKB32,CKB37;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
registration
let n being (Element of ( NAT ));
let G being (Subgroup of ( IsomGroup n ));
cluster ( SubIsomGroupRel G ) ->  total  symmetric  transitive;
coherence
proof
set S = ( SubIsomGroupRel G );
set X = (the carrier of ( RLMSpace n ));
now
let x being set;
assume x in X;
then reconsider x1 = x as (Element of ( RLMSpace n ));
( 1_ ( IsomGroup n ) ) = ( id ( RLMSpace n ) ) by CKB35:1;
then ( id ( RLMSpace n ) ) in G by GROUP_2:46;
then A1: ( id ( RLMSpace n ) ) in (the carrier of G) by STRUCT_0:def 5;
( ( id ( RLMSpace n ) ) . x1 ) = x1 by FUNCT_1:18;
hence [ x,x ] in S by A1,CKB37:def 1;
end;
then A2: S is_reflexive_in X by RELAT_2:def 1;
then A3: ( field S ) = X by ORDERS_1:13;
( dom S ) = X by A2,ORDERS_1:13;
hence S is  total by PARTFUN1:def 2;
now
let x being set,y being set;
assume that
A4: (x in X & y in X)
and
A5: [ x,y ] in S;
reconsider x1 = x,y1 = y as (Element of ( RLMSpace n )) by A4;
consider f being Function such that A6: f in (the carrier of G) and A7: ( f . x1 ) = y1 by A5,CKB37:def 1;
reconsider f1 = f as (Element of G) by A6;
A8: (the carrier of G) c= (the carrier of ( IsomGroup n )) by GROUP_2:def 5;
then reconsider f3 = f1 as (Element of ( IsomGroup n )) by TARSKI:def 3;
f in (the carrier of ( IsomGroup n )) by A6,A8;
then f in ( ISOM ( RLMSpace n ) ) by CKB32:def 1;
then reconsider f2 = f as  onto  isometric (Function of ( RLMSpace n ),( RLMSpace n )) by CKB10:def 1;
x1 in (the carrier of ( RLMSpace n ));
then x1 in ( dom f2 ) by FUNCT_2:def 1;
then A9: ( ( f " ) . y1 ) = x1 by A7,FUNCT_1:34;
A10: ( rng f2 ) = (the carrier of ( RLMSpace n )) by FUNCT_2:def 3;
( f1 " ) = ( f3 " ) by GROUP_2:48
.= ( f2 " ) by CKB36:1
.= ( f " ) by A10,TOPS_2:def 4;
hence [ y,x ] in S by A9,CKB37:def 1;
end;
then S is_symmetric_in X by RELAT_2:def 3;
hence S is  symmetric by A3,RELAT_2:def 11;
now
let x being set,y being set,z being set;
assume that
A11: ((x in X & y in X) & z in X)
and
A12: [ x,y ] in S
and
A13: [ y,z ] in S;
reconsider x1 = x,y1 = y,z1 = z as (Element of ( RLMSpace n )) by A11;
consider f being Function such that A14: f in (the carrier of G) and A15: ( f . x1 ) = y1 by A12,CKB37:def 1;
reconsider f2 = f as (Element of G) by A14;
A16: (the carrier of G) c= (the carrier of ( IsomGroup n )) by GROUP_2:def 5;
then reconsider f3 = f2 as (Element of ( IsomGroup n )) by TARSKI:def 3;
f in (the carrier of ( IsomGroup n )) by A14,A16;
then A17: f in ( ISOM ( RLMSpace n ) ) by CKB32:def 1;
consider g being Function such that A18: g in (the carrier of G) and A19: ( g . y1 ) = z1 by A13,CKB37:def 1;
reconsider g2 = g as (Element of G) by A18;
A20: x1 in (the carrier of ( RLMSpace n ));
reconsider g3 = g2 as (Element of ( IsomGroup n )) by A16,TARSKI:def 3;
(f2 in G & g2 in G) by STRUCT_0:def 5;
then A21: ( g3 * f3 ) in G by GROUP_2:50;
g in (the carrier of ( IsomGroup n )) by A18,A16;
then g in ( ISOM ( RLMSpace n ) ) by CKB32:def 1;
then ( g3 * f3 ) = ( g * f ) by A17,CKB32:def 1;
then A22: ( g * f ) in (the carrier of G) by A21,STRUCT_0:def 5;
f is  onto  isometric  onto  isometric (Function of ( RLMSpace n ),( RLMSpace n )) by A17,CKB10:def 1;
then x1 in ( dom f ) by A20,FUNCT_2:def 1;
then ( ( g * f ) . x1 ) = z1 by A15,A19,FUNCT_1:13;
hence [ x,z ] in S by A22,CKB37:def 1;
end;
then S is_transitive_in X by RELAT_2:def 8;
hence thesis by A3,RELAT_2:def 16;
end;
end;
