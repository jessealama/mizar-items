environ
vocabularies NUMBERS,XBOOLE_0,FUZZY_1,RELAT_1,SUBSET_1,FUNCT_1,XXREAL_2,XXREAL_0,ORDINAL2,XXREAL_1,CARD_1,INTEGRA1,TARSKI,XREAL_0,ORDINAL1,ARYTM_3,ARYTM_1,FUZZY_2,ZFMISC_1,PARTFUN1,VALUED_1,SEQ_4,FUZZY_4,MEASURE5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,SQUARE_1,BINOP_1,RELAT_1,RELSET_1,PARTFUN1,XXREAL_2,FUNCT_4,SEQ_1,INTEGRA1,RCOMP_1,MEASURE6,FUZZY_1,FUZZY_2,SEQ_4,MEASURE5,CKB5,CKB7,CKB8,CKB17;
definitions TARSKI,FUZZY_1,FUZZY_2,BINOP_1,RELAT_1,CKB8,CKB17;
theorems FUZZY_1,FUNCT_3,PARTFUN1,FUNCT_1,INTEGRA1,INTEGRA2,ZFMISC_1,SEQ_4,SUBSET_1,XBOOLE_0,FUZZY_2,XXREAL_0,FUNCT_4,XXREAL_2,XREAL_1,RELSET_1,MEMBERED,FUNCT_2,RELAT_1,MEASURE5,CKB2,CKB3,CKB4,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17;
schemes PARTFUN1,BINOP_1;
registrations XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,INTEGRA1,RELAT_1,VALUED_0,RELSET_1,MEASURE5,CKB1;
constructors FUNCT_4,REAL_1,SQUARE_1,RFUNCT_1,MEASURE6,INTEGRA1,FUZZY_2,SEQ_1,XXREAL_2,SEQ_4,RELSET_1,RELAT_1,FUZZY_1,BINOP_2,RVSUM_1,BINOP_1,CKB5,CKB8,CKB17;
requirements NUMERALS,REAL,SUBSET,BOOLE;
begin
reserve c for set;
reserve c1 for set;
reserve c2 for set;
reserve x for set;
reserve z for set;
definition
let C1 being non empty set;
let C2 being non empty set;
let C3 being non empty set;
let h being (RMembership_Func of C1,C2);
let g being (RMembership_Func of C2,C3);
func h (#) g -> (RMembership_Func of C1,C3)
means
:Def3: (for x holds (for z holds ([ x,z ] in [: C1,C3 :] implies ( it . (x,z) ) = ( upper_bound ( rng ( min (h,g,x,z) ) ) ))));
existence
proof
defpred P[ set,set,set ]
 means
$3 = ( upper_bound ( rng ( min (h,g,$1,$2) ) ) );
A1: (for x holds (for z holds (for c1 holds (for c2 holds ((((x in C1 & z in C3) & P[ x,z,c1 ]) & P[ x,z,c2 ]) implies c1 = c2)))));
A2: (for x holds (for z holds (for c holds (((x in C1 & z in C3) & P[ x,z,c ]) implies c in ( REAL )))));
consider IT being (PartFunc of [: C1,C3 :],( REAL )) such that A3: ((for x holds (for z holds ([ x,z ] in ( dom IT ) iff ((x in C1 & z in C3) & (ex c st P[ x,z,c ]))))) & (for x holds (for z holds ([ x,z ] in ( dom IT ) implies P[ x,z,( IT . (x,z) ) ])))) from BINOP_1:sch 5(A2,A1);
A4: [: C1,C3 :] c= ( dom IT )
proof
let x being set,z being set;
A5: (ex c st c = ( upper_bound ( rng ( min (h,g,x,z) ) ) ));
assume A6: [ x,z ] in [: C1,C3 :];
then A7: z in C3 by ZFMISC_1:87;
x in C1 by A6,ZFMISC_1:87;
hence thesis by A3,A7,A5;
end;
then A8: ( dom IT ) = [: C1,C3 :] by XBOOLE_0:def 10;
A9: ( dom IT ) = [: C1,C3 :] by A4,XBOOLE_0:def 10;
( rng IT ) c= [. ( 0 ),1 .]
proof
reconsider A = [. ( 0 ),1 .] as non empty  closed_interval (Subset of ( REAL )) by MEASURE5:14;
let c being set;
assume c in ( rng IT );
then consider a being (Element of [: C1,C3 :]) such that a in ( dom IT ) and A10: c = ( IT . a ) by PARTFUN1:3;
A11: A = [. ( lower_bound A ),( upper_bound A ) .] by INTEGRA1:4;
then A12: ( 0 ) = ( lower_bound A ) by INTEGRA1:5;
A13: (( 0 ) <= ( upper_bound ( rng ( min (h,g,x,z) ) ) ) & ( upper_bound ( rng ( min (h,g,x,z) ) ) ) <= 1)
proof
A14: ( rng ( min (h,g,x,z) ) ) c= A by RELAT_1:def 19;
A is  bounded_below by INTEGRA1:3;
then A15: ( lower_bound A ) <= ( lower_bound ( rng ( min (h,g,x,z) ) ) ) by A14,SEQ_4:47;
A is  bounded_above by INTEGRA1:3;
then A16: ( upper_bound ( rng ( min (h,g,x,z) ) ) ) <= ( upper_bound A ) by A14,SEQ_4:48;
( lower_bound ( rng ( min (h,g,x,z) ) ) ) <= ( upper_bound ( rng ( min (h,g,x,z) ) ) ) by CKB2:1,SEQ_4:11;
hence thesis by A11,A16,A15,INTEGRA1:5;
end;
consider x being set,z being set such that x in C1 and z in C3 and A17: a = [ x,z ] by ZFMISC_1:def 2;
A18: ( IT . (x,z) ) = ( upper_bound ( rng ( min (h,g,x,z) ) ) ) by A3,A9,A17;
then A19: ( IT . a ) <= 1 by A13,A17;
A20: 1 = ( upper_bound A ) by A11,INTEGRA1:5;
( 0 ) <= ( IT . a ) by A13,A17,A18;
hence thesis by A10,A12,A20,A19,INTEGRA2:1;
end;
then IT is (RMembership_Func of C1,C3) by A8,FUNCT_2:def 1,RELAT_1:def 19;
hence thesis by A3,A8;
end;
uniqueness
proof
let F being (RMembership_Func of C1,C3),G being (RMembership_Func of C1,C3);
assume that
A21: (for x holds (for z holds ([ x,z ] in [: C1,C3 :] implies ( F . (x,z) ) = ( upper_bound ( rng ( min (h,g,x,z) ) ) ))))
and
A22: (for x holds (for z holds ([ x,z ] in [: C1,C3 :] implies ( G . (x,z) ) = ( upper_bound ( rng ( min (h,g,x,z) ) ) ))));
A23: (for c being (Element of [: C1,C3 :]) holds (c in [: C1,C3 :] implies ( F . c ) = ( G . c )))
proof
let c being (Element of [: C1,C3 :]);
consider x being set,z being set such that x in C1 and z in C3 and A24: c = [ x,z ] by ZFMISC_1:def 2;
A25: ( G . (x,z) ) = ( upper_bound ( rng ( min (h,g,x,z) ) ) ) by A22,A24;
( F . (x,z) ) = ( upper_bound ( rng ( min (h,g,x,z) ) ) ) by A21,A24;
hence thesis by A24,A25;
end;
A26: ( dom G ) = [: C1,C3 :] by FUNCT_2:def 1;
( dom F ) = [: C1,C3 :] by FUNCT_2:def 1;
hence thesis by A26,A23,PARTFUN1:5;
end;
end;
