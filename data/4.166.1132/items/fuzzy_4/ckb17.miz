environ
vocabularies NUMBERS,XBOOLE_0,FUZZY_1,RELAT_1,SUBSET_1,FUNCT_1,XXREAL_2,XXREAL_0,ORDINAL2,XXREAL_1,CARD_1,INTEGRA1,TARSKI,XREAL_0,ORDINAL1,ARYTM_3,ARYTM_1,FUZZY_2,ZFMISC_1,PARTFUN1,VALUED_1,SEQ_4,FUZZY_4,MEASURE5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,SQUARE_1,BINOP_1,RELAT_1,RELSET_1,PARTFUN1,XXREAL_2,FUNCT_4,SEQ_1,INTEGRA1,RCOMP_1,MEASURE6,FUZZY_1,FUZZY_2,SEQ_4,MEASURE5,CKB5,CKB7,CKB8;
definitions TARSKI,FUZZY_1,FUZZY_2,BINOP_1,RELAT_1,CKB8;
theorems FUZZY_1,FUNCT_3,PARTFUN1,FUNCT_1,INTEGRA1,INTEGRA2,ZFMISC_1,SEQ_4,SUBSET_1,XBOOLE_0,FUZZY_2,XXREAL_0,FUNCT_4,XXREAL_2,XREAL_1,RELSET_1,MEMBERED,FUNCT_2,RELAT_1,MEASURE5,CKB2,CKB3,CKB4,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes PARTFUN1,BINOP_1;
registrations XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,INTEGRA1,RELAT_1,VALUED_0,RELSET_1,MEASURE5,CKB1;
constructors FUNCT_4,REAL_1,SQUARE_1,RFUNCT_1,MEASURE6,INTEGRA1,FUZZY_2,SEQ_1,XXREAL_2,SEQ_4,RELSET_1,RELAT_1,FUZZY_1,BINOP_2,RVSUM_1,BINOP_1,CKB5,CKB8;
requirements NUMERALS,REAL,SUBSET,BOOLE;
begin
reserve c for set;
reserve c1 for set;
reserve c2 for set;
reserve y for set;
definition
let C1 being non empty set;
let C2 being non empty set;
let C3 being non empty set;
let h being (RMembership_Func of C1,C2);
let g being (RMembership_Func of C2,C3);
let x being set;
let z being set;
assume that
A1: x in C1
and
A2: z in C3;
func min (h,g,x,z) -> (Membership_Func of C2)
means
:Def2: (for y being (Element of C2) holds ( it . y ) = ( min (( h . [ x,y ] ),( g . [ y,z ] )) ));
existence
proof
defpred P[ set,set ]
 means
$2 = ( min (( h . [ x,$1 ] ),( g . [ $1,z ] )) );
A3: (for y holds (for c1 holds (for c2 holds (((y in C2 & P[ y,c1 ]) & P[ y,c2 ]) implies c1 = c2))));
A4: (for y holds (for c holds ((y in C2 & P[ y,c ]) implies c in ( REAL ))));
consider IT being (PartFunc of C2,( REAL )) such that A5: ((for y holds (y in ( dom IT ) iff (y in C2 & (ex c st P[ y,c ])))) & (for y holds (y in ( dom IT ) implies P[ y,( IT . y ) ]))) from PARTFUN1:sch 2(A4,A3);
A6: (( dom IT ) = C2 & ( rng IT ) c= [. ( 0 ),1 .])
proof
C2 c= ( dom IT )
proof
let y being set;
A7: (ex c st c = ( min (( h . [ x,y ] ),( g . [ y,z ] )) ));
assume y in C2;
hence thesis by A5,A7;
end;
hence ( dom IT ) = C2 by XBOOLE_0:def 10;
reconsider A = [. ( 0 ),1 .] as non empty  closed_interval (Subset of ( REAL )) by MEASURE5:14;
let c being set;
A8: ( rng h ) c= [. ( 0 ),1 .] by RELAT_1:def 19;
assume c in ( rng IT );
then consider y being (Element of C2) such that A9: y in ( dom IT ) and A10: c = ( IT . y ) by PARTFUN1:3;
A11: ( h . [ x,y ] ) >= ( min (( h . [ x,y ] ),( g . [ y,z ] )) ) by XXREAL_0:17;
[ x,y ] in [: C1,C2 :] by A1,ZFMISC_1:87;
then [ x,y ] in ( dom h ) by FUNCT_2:def 1;
then A12: ( h . [ x,y ] ) in ( rng h ) by FUNCT_1:def 3;
[ y,z ] in [: C2,C3 :] by A2,ZFMISC_1:87;
then [ y,z ] in ( dom g ) by FUNCT_2:def 1;
then A13: ( g . [ y,z ] ) in ( rng g ) by FUNCT_1:def 3;
A14: A = [. ( lower_bound A ),( upper_bound A ) .] by INTEGRA1:4;
then A15: ( 0 ) = ( lower_bound A ) by INTEGRA1:5;
A16: 1 = ( upper_bound A ) by A14,INTEGRA1:5;
then ( h . [ x,y ] ) <= 1 by A8,A12,INTEGRA2:1;
then ( min (( h . [ x,y ] ),( g . [ y,z ] )) ) <= 1 by A11,XXREAL_0:2;
then A17: ( IT . y ) <= 1 by A5,A9;
( rng g ) c= [. ( 0 ),1 .] by RELAT_1:def 19;
then A18: ( 0 ) <= ( g . [ y,z ] ) by A15,A13,INTEGRA2:1;
( 0 ) <= ( h . [ x,y ] ) by A8,A15,A12,INTEGRA2:1;
then ( 0 ) <= ( min (( h . [ x,y ] ),( g . [ y,z ] )) ) by A18,XXREAL_0:20;
then ( 0 ) <= ( IT . y ) by A5,A9;
hence thesis by A10,A15,A16,A17,INTEGRA2:1;
end;
then A19: IT is (Membership_Func of C2) by FUNCT_2:def 1,RELAT_1:def 19;
(for y being (Element of C2) holds ( IT . y ) = ( min (( h . [ x,y ] ),( g . [ y,z ] )) )) by A5,A6;
hence thesis by A19;
end;
uniqueness
proof
let F being (Membership_Func of C2),G being (Membership_Func of C2);
assume that
A20: (for y being (Element of C2) holds ( F . y ) = ( min (( h . [ x,y ] ),( g . [ y,z ] )) ))
and
A21: (for y being (Element of C2) holds ( G . y ) = ( min (( h . [ x,y ] ),( g . [ y,z ] )) ));
A22: (for y being (Element of C2) holds (y in C2 implies ( F . y ) = ( G . y )))
proof
let y being (Element of C2);
( F . y ) = ( min (( h . [ x,y ] ),( g . [ y,z ] )) ) by A20;
hence thesis by A21;
end;
A23: ( dom G ) = C2 by FUNCT_2:def 1;
( dom F ) = C2 by FUNCT_2:def 1;
hence thesis by A23,A22,PARTFUN1:5;
end;
end;
