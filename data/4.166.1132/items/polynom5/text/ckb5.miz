environ
vocabularies NUMBERS,SUBSET_1,CARD_1,RELAT_1,ARYTM_1,ARYTM_3,XXREAL_0,XREAL_0,ORDINAL1,REAL_1,FINSEQ_1,FUNCT_1,CARD_3,ORDINAL4,TARSKI,PARTFUN1,XBOOLE_0,HAHNBAN1,XCMPLX_0,COMPLFLD,SUPINF_2,COMPLEX1,GROUP_1,POWER,STRUCT_0,NAT_1,RLVECT_1,ALGSTR_0,VECTSP_1,BINOP_1,LATTICES,POLYNOM1,ALGSEQ_1,POLYNOM3,POLYNOM2,VECTSP_2,MESFUNC1,AFINSQ_1,FUNCT_4,CQC_LANG,CFCONT_1,FUNCOP_1,VALUED_1,FUNCT_2,SEQ_4,XXREAL_2,COMSEQ_1,VALUED_0,SEQ_2,ORDINAL2,SEQ_1,COMPTRIG,RFINSEQ,POLYNOM5;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_2,XREAL_0,COMPLEX1,REAL_1,NAT_1,POWER,BINOP_1,RELAT_1,FUNCT_1,FUNCT_2,PARTFUN1,FUNCOP_1,FINSEQ_1,FINSEQ_4,POLYNOM1,RVSUM_1,STRUCT_0,ALGSTR_0,RLVECT_1,VECTSP_2,VECTSP_1,RFINSEQ,CFCONT_1,VALUED_0,VALUED_1,SEQ_1,SEQ_2,SEQ_4,XXREAL_0,COMSEQ_1,COMSEQ_2,NAT_D,COMPLFLD,HAHNBAN1,ALGSEQ_1,POLYNOM3,POLYNOM4,GROUP_1,FUNCT_7,RECDEF_1;
definitions TARSKI,ALGSEQ_1,SEQ_4,XBOOLE_0,RVSUM_1,POLYNOM3,HAHNBAN1,STRUCT_0,ALGSTR_0,XCMPLX_0,XXREAL_2;
theorems XREAL_0,TARSKI,ENUMSET1,NAT_1,POWER,INT_1,ABSVALUE,FUNCT_1,FUNCT_2,FUNCT_7,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FINSEQ_5,FUNCOP_1,TBSP_1,RFINSEQ,PRE_FF,CFCONT_1,TOPREAL3,INTEGRA5,RLVECT_1,VECTSP_1,RVSUM_1,SEQ_2,SEQM_3,SEQ_4,COMSEQ_2,COMSEQ_3,CFUNCT_1,FVSUM_1,GROUP_1,ALGSEQ_1,COMPLEX1,COMPLFLD,HAHNBAN1,POLYNOM1,POLYNOM2,POLYNOM3,POLYNOM4,XBOOLE_0,XCMPLX_1,VECTSP_2,XREAL_1,XXREAL_0,FINSOP_1,NORMSP_1,PARTFUN1,ORDINAL1,VALUED_1,RELAT_1,CARD_1,NAT_D,VALUED_0,CKB1,CKB2,CKB3,CKB4;
schemes NAT_1,FUNCT_2,FINSEQ_2,FINSEQ_1,FINSEQ_4,SEQ_1,CFCONT_1,DOMAIN_1,FUNCT_7;
registrations FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,COMSEQ_2,STRUCT_0,GROUP_1,VECTSP_1,COMPLFLD,ALGSTR_1,POLYNOM3,POLYNOM4,VALUED_0,VALUED_1,FUNCOP_1,SEQ_4,CARD_1;
constructors FINSEQ_4,ENUMSET1,REAL_1,SEQ_4,FINSOP_1,COMSEQ_2,RVSUM_1,COMSEQ_3,CFCONT_1,RFINSEQ,NAT_D,FUNCSDOM,VECTSP_2,ALGSTR_1,MATRIX_2,HAHNBAN1,POLYNOM1,POLYNOM4,SEQ_1,RECDEF_1,BINOP_2,SUPINF_1,XXREAL_2,POWER,SEQ_2,RELSET_1,FUNCT_7,FVSUM_1;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
theorem
Th4: (for p being (FinSequence of ( REAL )) holds ((for n being (Element of ( NAT )) holds (n in ( dom p ) implies ( p . n ) >= ( 0 ))) implies (for i being (Element of ( NAT )) holds (i in ( dom p ) implies ( Sum p ) >= ( p . i )))))
proof
defpred Q[ (FinSequence of ( REAL )) ]
 means
((for n being (Element of ( NAT )) holds (n in ( dom $1 ) implies ( $1 . n ) >= ( 0 ))) implies (for i being (Element of ( NAT )) holds (i in ( dom $1 ) implies ( Sum $1 ) >= ( $1 . i ))));
A1: (for p being (FinSequence of ( REAL )) holds (for x being (Element of ( REAL )) holds (Q[ p ] implies Q[ ( p ^ <* x *> ) ])))
proof
let p being (FinSequence of ( REAL ));
let x being (Element of ( REAL ));
assume A2: ((for n being (Element of ( NAT )) holds (n in ( dom p ) implies ( p . n ) >= ( 0 ))) implies (for i being (Element of ( NAT )) holds (i in ( dom p ) implies ( Sum p ) >= ( p . i ))));
defpred P[ (Element of ( NAT )) ]
 means
( Sum ( p | $1 ) ) >= ( 0 );
assume A3: (for n being (Element of ( NAT )) holds (n in ( dom ( p ^ <* x *> ) ) implies ( ( p ^ <* x *> ) . n ) >= ( 0 )));
A4: ( dom p ) c= ( dom ( p ^ <* x *> ) ) by FINSEQ_1:26;
A5:now
let n being (Element of ( NAT ));
assume A6: n in ( dom p );
then ( ( p ^ <* x *> ) . n ) >= ( 0 ) by A3,A4;
hence ( p . n ) >= ( 0 ) by A6,FINSEQ_1:def 7;
end;
A7: (for j being (Element of ( NAT )) holds (P[ j ] implies P[ ( j + 1 ) ]))
proof
let j being (Element of ( NAT ));
assume A8: ( Sum ( p | j ) ) >= ( 0 );
per cases ;
suppose A9: ( j + 1 ) <= ( len p );

then ( p | ( j + 1 ) ) = ( ( p | j ) ^ <* ( p /. ( j + 1 ) ) *> ) by FINSEQ_5:82;
then A10: ( Sum ( p | ( j + 1 ) ) ) = ( ( Sum ( p | j ) ) + ( p /. ( j + 1 ) ) ) by RVSUM_1:74;
( j + 1 ) >= 1 by NAT_1:11;
then A11: ( j + 1 ) in ( dom p ) by A9,FINSEQ_3:25;
then ( p . ( j + 1 ) ) >= ( 0 ) by A5;
then ( p /. ( j + 1 ) ) >= ( 0 ) by A11,PARTFUN1:def 6;
hence thesis by A8,A10;
end;
suppose A12: ( j + 1 ) > ( len p );

then j >= ( len p ) by NAT_1:13;
then ( p | j ) = p by FINSEQ_1:58;
hence thesis by A8,A12,FINSEQ_1:58;
end;
end;
let i being (Element of ( NAT ));
( ( len p ) + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
then ( len ( p ^ <* x *> ) ) >= 1 by FINSEQ_2:16;
then ( len ( p ^ <* x *> ) ) in ( dom ( p ^ <* x *> ) ) by FINSEQ_3:25;
then ( ( p ^ <* x *> ) . ( len ( p ^ <* x *> ) ) ) >= ( 0 ) by A3;
then ( ( p ^ <* x *> ) . ( ( len p ) + 1 ) ) >= ( 0 ) by FINSEQ_2:16;
then x >= ( 0 ) by FINSEQ_1:42;
then A13: ( ( p . i ) + x ) >= ( ( p . i ) + ( 0 ) ) by XREAL_1:6;
A14: ( p | ( len p ) ) = p by FINSEQ_1:58;
( len ( p ^ <* x *> ) ) = ( ( len p ) + 1 ) by FINSEQ_2:16;
then A15: ( dom ( p ^ <* x *> ) ) = ( Seg ( ( len p ) + 1 ) ) by FINSEQ_1:def 3
.= ( ( Seg ( len p ) ) \/ { ( ( len p ) + 1 ) } ) by FINSEQ_1:9
.= ( ( dom p ) \/ { ( ( len p ) + 1 ) } ) by FINSEQ_1:def 3;
A16: P[ ( 0 ) ] by RVSUM_1:72;
(for j being (Element of ( NAT )) holds P[ j ]) from NAT_1:sch 1(A16,A7);
then A17: ( Sum p ) >= ( 0 ) by A14;
assume A18: i in ( dom ( p ^ <* x *> ) );
per cases  by A18,A15,XBOOLE_0:def 3;
suppose A19: i in ( dom p );

A20: ( Sum ( p ^ <* x *> ) ) = ( ( Sum p ) + x ) by RVSUM_1:74;
( Sum p ) >= ( p . i ) by A2,A5,A19;
then ( Sum ( p ^ <* x *> ) ) >= ( ( p . i ) + x ) by A20,XREAL_1:6;
then ( Sum ( p ^ <* x *> ) ) >= ( p . i ) by A13,XXREAL_0:2;
hence thesis by A19,FINSEQ_1:def 7;
end;
suppose i in { ( ( len p ) + 1 ) };

then i = ( ( len p ) + 1 ) by TARSKI:def 1;
then ( ( p ^ <* x *> ) . i ) = x by FINSEQ_1:42;
then ( ( Sum p ) + x ) >= ( ( 0 ) + ( ( p ^ <* x *> ) . i ) ) by A17,XREAL_1:6;
hence thesis by RVSUM_1:74;
end;
end;
A21: Q[ ( <*> ( REAL ) ) ] by RELAT_1:38;
thus (for p being (FinSequence of ( REAL )) holds Q[ p ]) from FINSEQ_2:sch 2(A21,A1);
end;
