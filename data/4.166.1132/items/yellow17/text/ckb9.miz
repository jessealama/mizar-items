environ
vocabularies FUNCT_1,SUBSET_1,CARD_3,RELAT_1,XBOOLE_0,FUNCT_4,TARSKI,WAYBEL18,WAYBEL_3,PBOOLE,STRUCT_0,RLVECT_2,PRE_TOPC,RCOMP_1,SETFAM_1,FINSET_1,CANTOR_1,YELLOW_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,STRUCT_0,RELAT_1,FUNCT_1,RELSET_1,FUNCT_7,FINSET_1,PBOOLE,PRALG_1,CARD_3,PRE_TOPC,TOPS_2,COMPTS_1,CANTOR_1,YELLOW_1,WAYBEL_3,WAYBEL18;
definitions TARSKI,COMPTS_1,XBOOLE_0,STRUCT_0;
theorems TARSKI,ZFMISC_1,RELAT_1,FUNCT_1,FUNCT_7,CARD_3,PRE_TOPC,TOPS_2,COMPTS_1,YELLOW_1,WAYBEL_3,WAYBEL_7,YELLOW_6,WAYBEL18,XBOOLE_0,XBOOLE_1,TOPMETR,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
schemes CLASSES1,PRE_CIRC,FUNCT_1;
registrations SUBSET_1,RELSET_1,FINSET_1,CARD_3,STRUCT_0,PRE_TOPC,MONOID_0,YELLOW_1,YELLOW_6,WAYBEL18;
constructors SETFAM_1,FUNCT_7,TOPS_2,COMPTS_1,CANTOR_1,MONOID_0,WAYBEL18,RELSET_1,FUNCT_4;
requirements SUBSET,BOOLE;
begin
scheme ElProductEx { I() -> non  empty set,J() ->  TopSpace-yielding  non-Empty (ManySortedSet of I()),P[set,set] } : (ex f being (Element of ( product J() )) st (for i being (Element of I()) holds P[ ( f . i ),i ]))
provided
A1: (for i being (Element of I()) holds (ex x being (Element of ( J() . i )) st P[ x,i ]))
proof
defpred Q[ set,set ]
 means
(P[ $2,$1 ] & (for i9 being (Element of I()) holds ($1 = i9 implies $2 in (the carrier of ( J() . i9 )))));
A2: (for i being set holds (i in I() implies (ex x being set st Q[ i,x ])))
proof
let i being set;
assume i in I();
then reconsider i1 = i as (Element of I());
consider x being (Element of ( J() . i1 )) such that A3: P[ x,i1 ] by A1;
take x;
thus P[ x,i ] by A3;
let i9 being (Element of I());
assume i = i9;
hence thesis;
end;
consider f being Function such that A4: ( dom f ) = I() and A5: (for i being set holds (i in I() implies Q[ i,( f . i ) ])) from CLASSES1:sch 1(A2);
A6: (for x being set holds (x in ( dom ( Carrier J() ) ) implies ( f . x ) in ( ( Carrier J() ) . x )))
proof
let x being set;
assume x in ( dom ( Carrier J() ) );
then reconsider x9 = x as (Element of I()) by PARTFUN1:def 2;
( f . x9 ) in (the carrier of ( J() . x9 )) by A5;
hence thesis by YELLOW_6:2;
end;
( dom f ) = ( dom ( Carrier J() ) ) by A4,PARTFUN1:def 2;
then f in ( product ( Carrier J() ) ) by A6,CARD_3:9;
then reconsider f as (Element of ( product J() )) by WAYBEL18:def 3;
take f;
let i being (Element of I());
thus thesis by A5;
end;
