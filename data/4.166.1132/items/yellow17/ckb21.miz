environ
vocabularies FUNCT_1,SUBSET_1,CARD_3,RELAT_1,XBOOLE_0,FUNCT_4,TARSKI,WAYBEL18,WAYBEL_3,PBOOLE,STRUCT_0,RLVECT_2,PRE_TOPC,RCOMP_1,SETFAM_1,FINSET_1,CANTOR_1,YELLOW_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,STRUCT_0,RELAT_1,FUNCT_1,RELSET_1,FUNCT_7,FINSET_1,PBOOLE,PRALG_1,CARD_3,PRE_TOPC,TOPS_2,COMPTS_1,CANTOR_1,YELLOW_1,WAYBEL_3,WAYBEL18;
definitions TARSKI,COMPTS_1,XBOOLE_0,STRUCT_0;
theorems TARSKI,ZFMISC_1,RELAT_1,FUNCT_1,FUNCT_7,CARD_3,PRE_TOPC,TOPS_2,COMPTS_1,YELLOW_1,WAYBEL_3,WAYBEL_7,YELLOW_6,WAYBEL18,XBOOLE_0,XBOOLE_1,TOPMETR,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes CLASSES1,PRE_CIRC,FUNCT_1,CKB9;
registrations SUBSET_1,RELSET_1,FINSET_1,CARD_3,STRUCT_0,PRE_TOPC,MONOID_0,YELLOW_1,YELLOW_6,WAYBEL18;
constructors SETFAM_1,FUNCT_7,TOPS_2,COMPTS_1,CANTOR_1,MONOID_0,WAYBEL18,RELSET_1,FUNCT_4;
requirements SUBSET,BOOLE;
begin
theorem
Th20: (for I being non empty set holds (for J being  TopSpace-yielding  non-Empty (ManySortedSet of I) holds (for i being (Element of I) holds (for xi being (Element of ( J . i )) holds (for G being (Subset of ( product_prebasis J )) holds ((( ( proj (J,i) ) " { xi } ) c= ( union G ) & (for A being set holds ((A in ( product_prebasis J ) & A in G) implies (not ( ( proj (J,i) ) " { xi } ) c= A)))) implies ( [#] ( product J ) ) c= ( union G )))))))
proof
let I being non empty set;
let J being  TopSpace-yielding  non-Empty (ManySortedSet of I);
let i being (Element of I);
let xi being (Element of ( J . i ));
let G being (Subset of ( product_prebasis J ));
assume that
A1: ( ( proj (J,i) ) " { xi } ) c= ( union G )
and
A2: (for A being set holds ((A in ( product_prebasis J ) & A in G) implies (not ( ( proj (J,i) ) " { xi } ) c= A)));
let f being set;
assume f in ( [#] ( product J ) );
then reconsider f9 = f as (Element of ( product J ));
set g = ( f9 +* (i,xi) );
A3: g in ( ( proj (J,i) ) " { xi } ) by CKB13:1;
then consider Ag being set such that A4: g in Ag and A5: Ag in G by A1,TARSKI:def 4;
consider i2 being (Element of I),Ai2 being (Subset of ( J . i2 )) such that Ai2 is  open and A6: ( ( proj (J,i2) ) " Ai2 ) = Ag by A5,CKB18:1;
A7: Ai2 <> ( [#] ( J . i2 ) )
proof
assume Ai2 = ( [#] ( J . i2 ) );
then ( ( proj (J,i2) ) " Ai2 ) = ( [#] ( product J ) ) by CKB12:1
.= (the carrier of ( product J ));
hence contradiction by A2,A5,A6;
end;
A8: (not ( ( proj (J,i) ) " { xi } ) c= ( ( proj (J,i2) ) " Ai2 )) by A2,A5,A6;
i <> i2
proof
assume A9: i = i2;
then reconsider Ai29 = Ai2 as (Subset of ( J . i ));
( ( ( proj (J,i) ) " { xi } ) /\ ( ( proj (J,i) ) " Ai29 ) ) <> ( {} ) by A3,A4,A6,A9,XBOOLE_0:def 4;
then A10: ( ( proj (J,i) ) " { xi } ) meets ( ( proj (J,i) ) " Ai29 ) by XBOOLE_0:def 7;
(not xi in Ai2) by A8,A7,A9,CKB14:1;
hence contradiction by A10,CKB11:1;
end;
then f in ( ( proj (J,i2) ) " Ai2 ) by A4,A6,CKB15:1;
hence thesis by A5,A6,TARSKI:def 4;
end;
