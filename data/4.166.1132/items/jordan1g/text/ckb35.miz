environ
vocabularies NUMBERS,SUBSET_1,ZFMISC_1,FINSEQ_1,XBOOLE_0,RELAT_1,FINSEQ_5,MATRIX_1,GOBOARD1,FINSEQ_4,ARYTM_3,RFINSEQ,RCOMP_1,RELAT_2,SPPOL_1,EUCLID,JORDAN1E,JORDAN8,JORDAN9,FINSEQ_6,PSCOMP_1,TOPREAL1,GOBOARD5,MCART_1,XXREAL_0,TREES_1,PARTFUN1,FUNCT_1,ARYTM_1,RLTOPSP1,TARSKI,CARD_1,PRE_TOPC,ORDINAL4,NEWTON,NAT_1,JORDAN1A,SPPOL_2,JORDAN3,SPRECT_2,GROUP_2,JORDAN5C,JORDAN6;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_D,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,FINSEQ_5,RFINSEQ,MATRIX_1,FINSEQ_6,STRUCT_0,PRE_TOPC,NEWTON,CONNSP_1,COMPTS_1,RLTOPSP1,EUCLID,PSCOMP_1,SPRECT_2,GOBOARD1,TOPREAL1,GOBOARD5,SPPOL_1,SPPOL_2,JORDAN3,JORDAN8,JORDAN5C,JORDAN6,JORDAN9,JORDAN1A,JORDAN1E,NAT_1;
definitions TARSKI,XBOOLE_0,PSCOMP_1;
theorems EUCLID,JORDAN8,PSCOMP_1,JORDAN1A,NAT_1,GOBOARD5,FINSEQ_1,FINSEQ_2,JORDAN4,JORDAN6,SPRECT_2,FINSEQ_4,FINSEQ_5,FINSEQ_6,GOBOARD7,SPPOL_1,SPPOL_2,REVROT_1,TOPREAL1,SPRECT_3,BOOLMARK,JORDAN5B,JORDAN3,JORDAN9,ZFMISC_1,GOBOARD1,SPRECT_1,TARSKI,TOPREAL3,FINSEQ_3,RELAT_1,FUNCT_1,TOPREAL5,JORDAN10,GOBOARD2,CARD_1,CARD_2,ENUMSET1,SPRECT_4,JORDAN1B,SPRECT_5,JORDAN5D,JORDAN1E,PARTFUN2,JORDAN1F,JORDAN5C,XBOOLE_0,XBOOLE_1,REALSET1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,MATRIX_1,XREAL_0,NAT_D,RLTOPSP1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34;
schemes NAT_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,FINSEQ_5,FINSEQ_6,STRUCT_0,PRE_TOPC,GOBOARD1,SPPOL_2,SPRECT_1,SPRECT_2,SPRECT_3,REVROT_1,TOPREAL6,JORDAN8,JORDAN1A,JORDAN1E,CARD_1,EUCLID,SPPOL_1,ZFMISC_1,FINSET_1,CKB1,CKB3,CKB8,CKB9;
constructors XXREAL_0,REAL_1,NAT_1,FINSEQ_4,NEWTON,RFINSEQ,BINARITH,FINSEQ_5,CONNSP_1,TOPS_2,REALSET2,MATRIX_2,TOPMETR,PSCOMP_1,JORDAN3,JORDAN5C,JORDAN6,JORDAN8,GOBRD13,JORDAN9,JORDAN1A,JORDAN1E,BINOP_2,NAT_D;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
reserve n for (Element of ( NAT ));
theorem
Th39: (for C being  compact  connected non  vertical non  horizontal (Subset of ( TOP-REAL 2 )) holds ( ( ( Upper_Seq (C,n) ) /. 2 ) `1 ) = ( W-bound ( L~ ( Cage (C,n) ) ) ))
proof
let C being  compact  connected non  vertical non  horizontal (Subset of ( TOP-REAL 2 ));
set Ca = ( Cage (C,n) );
set US = ( Upper_Seq (C,n) );
set Wmin = ( W-min ( L~ ( Cage (C,n) ) ) );
set Emax = ( E-max ( L~ ( Cage (C,n) ) ) );
set Nmin = ( N-min ( L~ ( Cage (C,n) ) ) );
Emax in ( rng Ca ) by SPRECT_2:46;
then A1: Emax in ( rng ( Rotate (Ca,Wmin) ) ) by FINSEQ_6:90,SPRECT_2:43;
( len US ) >= 3 by JORDAN1E:15;
then ( len US ) >= 2 by XXREAL_0:2;
then 2 in ( Seg ( len US ) ) by FINSEQ_1:1;
then A2: 2 in ( Seg ( Emax .. ( Rotate (Ca,Wmin) ) ) ) by JORDAN1E:8;
( ( Ca :- Wmin ) /. 1 ) = Wmin by FINSEQ_5:53;
then A3: Wmin in ( rng ( Ca :- Wmin ) ) by FINSEQ_6:42;
( Ca /. 1 ) = Nmin by JORDAN9:32;
then ( Wmin .. Ca ) < ( len Ca ) by SPRECT_2:76;
then A4: ( ( Wmin .. Ca ) + 1 ) <= ( len Ca ) by NAT_1:13;
(( W-max ( L~ Ca ) ) in ( L~ Ca ) & ( Nmin `2 ) = ( N-bound ( L~ Ca ) )) by EUCLID:52,SPRECT_1:13;
then ( ( W-max ( L~ Ca ) ) `2 ) <= ( Nmin `2 ) by PSCOMP_1:24;
then Nmin <> Wmin by SPRECT_2:57;
then A5: ( card { Nmin,Wmin } ) = 2 by CARD_2:57;
A6: Wmin in ( rng Ca ) by SPRECT_2:43;
then A7: 1 <= ( Wmin .. Ca ) by FINSEQ_4:21;
( ( Ca :- Wmin ) /. ( len ( Ca :- Wmin ) ) ) = ( Ca /. ( len Ca ) ) by A6,FINSEQ_5:54
.= ( Ca /. 1 ) by FINSEQ_6:def 1
.= Nmin by JORDAN9:32;
then A8: Nmin in ( rng ( Ca :- Wmin ) ) by REVROT_1:3;
{ Nmin,Wmin } c= ( rng ( Ca :- Wmin ) )
proof
let x being set;
assume x in { Nmin,Wmin };
hence thesis by A8,A3,TARSKI:def 2;
end;
then A9: ( card { Nmin,Wmin } ) c= ( card ( rng ( Ca :- Wmin ) ) ) by CARD_1:11;
( card ( rng ( Ca :- Wmin ) ) ) c= ( card ( dom ( Ca :- Wmin ) ) ) by CARD_2:61;
then ( card ( rng ( Ca :- Wmin ) ) ) c= ( len ( Ca :- Wmin ) ) by CARD_1:62;
then 2 c= ( len ( Ca :- Wmin ) ) by A5,A9,XBOOLE_1:1;
then A10: ( len ( Ca :- Wmin ) ) >= 2 by NAT_1:39;
then A11: ( len ( Ca :- Wmin ) ) >= 1 by XXREAL_0:2;
A12: ( US /. 1 ) = ( ( ( Rotate (Ca,Wmin) ) -: Emax ) /. 1 ) by JORDAN1E:def 1
.= ( ( Rotate (Ca,Wmin) ) /. 1 ) by A1,FINSEQ_5:44
.= ( Ca /. ( ( 1 -' 1 ) + ( Wmin .. Ca ) ) ) by A6,A11,REVROT_1:9
.= ( Ca /. ( ( 0 ) + ( Wmin .. Ca ) ) ) by XREAL_1:232;
( US /. 2 ) = ( ( ( Rotate (Ca,Wmin) ) -: Emax ) /. 2 ) by JORDAN1E:def 1
.= ( ( Rotate (Ca,Wmin) ) /. 2 ) by A1,A2,FINSEQ_5:43
.= ( Ca /. ( ( 2 -' 1 ) + ( Wmin .. Ca ) ) ) by A6,A10,REVROT_1:9
.= ( Ca /. ( ( 2 - 1 ) + ( Wmin .. Ca ) ) ) by XREAL_0:def 2;
hence thesis by A7,A4,A12,JORDAN1E:22,JORDAN1F:5;
end;
