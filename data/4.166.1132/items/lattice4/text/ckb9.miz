environ
vocabularies XBOOLE_0,TARSKI,ORDINAL1,SUBSET_1,LATTICES,CARD_FIL,FILTER_0,INT_2,PBOOLE,GROUP_6,FUNCT_1,STRUCT_0,EQREL_1,FUNCT_2,RELAT_1,WELLORD1,FILTER_1,XBOOLEAN,FINSUB_1,LATTICE2,SETWISEO,BINOP_1,FUNCOP_1,XXREAL_2,VECTSP_1,ZFMISC_1,SETFAM_1,LATTICE4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,ORDINAL1,FUNCT_1,PARTFUN1,FUNCT_2,BINOP_1,FINSUB_1,STRUCT_0,LATTICES,LATTICE2,FILTER_0,FUNCOP_1,SETWISEO,WELLORD1,FILTER_1,CKB5;
definitions TARSKI,FILTER_0,LATTICES,XBOOLE_0,STRUCT_0,CKB5;
theorems LATTICES,ZFMISC_1,FUNCT_2,FILTER_0,SETFAM_1,ORDERS_1,TARSKI,SETWISEO,LATTICE2,FUNCOP_1,FILTER_1,WELLORD1,RELAT_1,XBOOLE_1,FUNCT_1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
schemes FUNCT_2,SETWISEO,BINOP_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,STRUCT_0,LATTICES,FILTER_0,LATTICE2,CKB2;
constructors WELLORD1,DOMAIN_1,SETWISEO,LATTICE2,FILTER_1,GRCAT_1,FUNCOP_1,RELSET_1,FILTER_0,CKB5;
requirements BOOLE,SUBSET;
begin
reserve L1 for Lattice;
reserve L2 for Lattice;
reserve f for (Homomorphism of L1,L2);
definition
let L1;
let L2;
redefine pred L1,L2 are_isomorphic 
means
(ex f st f is  bijective)
;compatibility
proof
thus (L1,L2 are_isomorphic  implies (ex f st f is  bijective))
proof
set R = ( LattRel L1 );
set S = ( LattRel L2 );
assume L1,L2 are_isomorphic ;
then ( LattRel L1 ),( LattRel L2 ) are_isomorphic  by FILTER_1:def 9;
then consider F being Function such that A1: F is_isomorphism_of ( LattRel L1 ),( LattRel L2 ) by WELLORD1:def 8;
A2: ( dom F ) = ( field R ) by A1,WELLORD1:def 7;
A3: (( field S ) = (the carrier of L2) & ( rng F ) = ( field S )) by A1,FILTER_1:32,WELLORD1:def 7;
A4: ( field R ) = (the carrier of L1) by FILTER_1:32;
then reconsider F as (Function of (the carrier of L1),(the carrier of L2)) by A2,A3,FUNCT_2:1;
now
let a1 being (Element of L1),b1 being (Element of L1);
reconsider a19 = a1,b19 = b1 as (Element of L1);
A5: F is  onto by A3,FUNCT_2:def 3;
thus ( F . ( a1 "\/" b1 ) ) = ( ( F . a1 ) "\/" ( F . b1 ) )
proof
b19 [= ( a19 "\/" b19 ) by LATTICES:5;
then [ b1,( a1 "\/" b1 ) ] in R by FILTER_1:31;
then [ ( F . b1 ),( F . ( a1 "\/" b1 ) ) ] in S by A1,WELLORD1:def 7;
then A6: ( F . b19 ) [= ( F . ( a19 "\/" b19 ) ) by FILTER_1:31;
consider k1 being (Element of L1) such that A7: ( ( F . a1 ) "\/" ( F . b1 ) ) = ( F . k1 ) by A5,CKB8:1;
( F . b1 ) [= ( F . k1 ) by A7,LATTICES:5;
then [ ( F . b1 ),( F . k1 ) ] in ( LattRel L2 ) by FILTER_1:31;
then [ b1,k1 ] in ( LattRel L1 ) by A1,A4,WELLORD1:def 7;
then A8: b1 [= k1 by FILTER_1:31;
( F . a1 ) [= ( F . k1 ) by A7,LATTICES:5;
then [ ( F . a1 ),( F . k1 ) ] in ( LattRel L2 ) by FILTER_1:31;
then [ a1,k1 ] in ( LattRel L1 ) by A1,A4,WELLORD1:def 7;
then a1 [= k1 by FILTER_1:31;
then ( a1 "\/" b1 ) [= k1 by A8,FILTER_0:6;
then [ ( a1 "\/" b1 ),k1 ] in R by FILTER_1:31;
then [ ( F . ( a1 "\/" b1 ) ),( F . k1 ) ] in ( LattRel L2 ) by A1,WELLORD1:def 7;
then A9: ( F . ( a1 "\/" b1 ) ) [= ( ( F . a1 ) "\/" ( F . b1 ) ) by A7,FILTER_1:31;
a19 [= ( a19 "\/" b19 ) by LATTICES:5;
then [ a1,( a1 "\/" b1 ) ] in R by FILTER_1:31;
then [ ( F . a1 ),( F . ( a1 "\/" b1 ) ) ] in S by A1,WELLORD1:def 7;
then ( F . a19 ) [= ( F . ( a19 "\/" b19 ) ) by FILTER_1:31;
then ( ( F . a1 ) "\/" ( F . b1 ) ) [= ( F . ( a1 "\/" b1 ) ) by A6,FILTER_0:6;
hence thesis by A9,LATTICES:8;
end;

thus ( F . ( a1 "/\" b1 ) ) = ( ( F . a1 ) "/\" ( F . b1 ) )
proof
( a19 "/\" b19 ) [= b19 by LATTICES:6;
then [ ( a1 "/\" b1 ),b1 ] in R by FILTER_1:31;
then [ ( F . ( a1 "/\" b1 ) ),( F . b1 ) ] in S by A1,WELLORD1:def 7;
then A10: ( F . ( a19 "/\" b19 ) ) [= ( F . b19 ) by FILTER_1:31;
consider k1 being (Element of L1) such that A11: ( ( F . a1 ) "/\" ( F . b1 ) ) = ( F . k1 ) by A5,CKB8:1;
( F . k1 ) [= ( F . b1 ) by A11,LATTICES:6;
then [ ( F . k1 ),( F . b1 ) ] in ( LattRel L2 ) by FILTER_1:31;
then [ k1,b1 ] in ( LattRel L1 ) by A1,A4,WELLORD1:def 7;
then A12: k1 [= b1 by FILTER_1:31;
( F . k1 ) [= ( F . a1 ) by A11,LATTICES:6;
then [ ( F . k1 ),( F . a1 ) ] in ( LattRel L2 ) by FILTER_1:31;
then [ k1,a1 ] in ( LattRel L1 ) by A1,A4,WELLORD1:def 7;
then k1 [= a1 by FILTER_1:31;
then k1 [= ( a1 "/\" b1 ) by A12,FILTER_0:7;
then [ k1,( a1 "/\" b1 ) ] in ( LattRel L1 ) by FILTER_1:31;
then [ ( F . k1 ),( F . ( a1 "/\" b1 ) ) ] in ( LattRel L2 ) by A1,WELLORD1:def 7;
then A13: ( ( F . a1 ) "/\" ( F . b1 ) ) [= ( F . ( a1 "/\" b1 ) ) by A11,FILTER_1:31;
( a19 "/\" b19 ) [= a19 by LATTICES:6;
then [ ( a1 "/\" b1 ),a1 ] in R by FILTER_1:31;
then [ ( F . ( a1 "/\" b1 ) ),( F . a1 ) ] in S by A1,WELLORD1:def 7;
then ( F . ( a19 "/\" b19 ) ) [= ( F . a19 ) by FILTER_1:31;
then ( F . ( a1 "/\" b1 ) ) [= ( ( F . a1 ) "/\" ( F . b1 ) ) by A10,FILTER_0:7;
hence thesis by A13,LATTICES:8;
end;

end;
then reconsider F as (Homomorphism of L1,L2) by CKB5:def 1;
take F;
F is  one-to-one  onto by A1,A3,FUNCT_2:def 3,WELLORD1:def 7;
hence thesis;
end;

set R = ( LattRel L1 );
set S = ( LattRel L2 );
given f such that
A14: f is  bijective;

A15: (for a,b being set holds ([ a,b ] in R iff ((a in ( field R ) & b in ( field R )) & [ ( f . a ),( f . b ) ] in S)))
proof
let a being set,b being set;
hereby
assume A16: [ a,b ] in R;
hence (a in ( field R ) & b in ( field R )) by RELAT_1:15;
then reconsider a9 = a,b9 = b as (Element of L1) by FILTER_1:32;
a9 [= b9 by A16,FILTER_1:31;
then ( f . a9 ) [= ( f . b9 ) by A14,CKB7:1;
hence [ ( f . a ),( f . b ) ] in S by FILTER_1:31;
end;
assume that
A17: (a in ( field R ) & b in ( field R ))
and
A18: [ ( f . a ),( f . b ) ] in S;
reconsider a9 = a,b9 = b as (Element of L1) by A17,FILTER_1:32;
( f . a9 ) [= ( f . b9 ) by A18,FILTER_1:31;
then a9 [= b9 by A14,CKB7:1;
hence thesis by FILTER_1:31;
end;
A19: ( dom f ) = (the carrier of L1) by FUNCT_2:def 1
.= ( field R ) by FILTER_1:32;
( rng f ) = (the carrier of L2) by A14,FUNCT_2:def 3
.= ( field S ) by FILTER_1:32;
then f is_isomorphism_of ( LattRel L1 ),( LattRel L2 ) by A14,A19,A15,WELLORD1:def 7;
then ( LattRel L1 ),( LattRel L2 ) are_isomorphic  by WELLORD1:def 8;
hence thesis by FILTER_1:def 9;
end;
end;
