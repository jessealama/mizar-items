environ
vocabularies XBOOLE_0,TARSKI,ORDINAL1,SUBSET_1,LATTICES,CARD_FIL,FILTER_0,INT_2,PBOOLE,GROUP_6,FUNCT_1,STRUCT_0,EQREL_1,FUNCT_2,RELAT_1,WELLORD1,FILTER_1,XBOOLEAN,FINSUB_1,LATTICE2,SETWISEO,BINOP_1,FUNCOP_1,XXREAL_2,VECTSP_1,ZFMISC_1,SETFAM_1,LATTICE4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,ORDINAL1,FUNCT_1,PARTFUN1,FUNCT_2,BINOP_1,FINSUB_1,STRUCT_0,LATTICES,LATTICE2,FILTER_0,FUNCOP_1,SETWISEO,WELLORD1,FILTER_1,CKB5,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB18,CKB19,CKB46,CKB51,CKB52,CKB56;
definitions TARSKI,FILTER_0,LATTICES,XBOOLE_0,STRUCT_0,CKB5,CKB9,CKB10,CKB11,CKB12,CKB13,CKB18,CKB19,CKB46,CKB51,CKB52,CKB56;
theorems LATTICES,ZFMISC_1,FUNCT_2,FILTER_0,SETFAM_1,ORDERS_1,TARSKI,SETWISEO,LATTICE2,FUNCOP_1,FILTER_1,WELLORD1,RELAT_1,XBOOLE_1,FUNCT_1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60;
schemes FUNCT_2,SETWISEO,BINOP_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,STRUCT_0,LATTICES,FILTER_0,LATTICE2,CKB2,CKB16,CKB53;
constructors WELLORD1,DOMAIN_1,SETWISEO,LATTICE2,FILTER_1,GRCAT_1,FUNCOP_1,RELSET_1,FILTER_0,CKB5,CKB10,CKB11,CKB12,CKB13,CKB18,CKB19,CKB46,CKB51,CKB52,CKB56;
requirements BOOLE,SUBSET;
begin
reserve x for set;
reserve BL for  Boolean Lattice;
reserve a for (Element of BL);
reserve b for (Element of BL);
reserve p for (Element of BL);
reserve q for (Element of BL);
reserve B for (Finite_Subset of (the carrier of BL));
reserve B0 for (Finite_Subset of (the carrier of BL));
reserve B1 for (Finite_Subset of (the carrier of BL));
reserve A1 for (Finite_Subset of (the carrier of BL));
reserve A2 for (Finite_Subset of (the carrier of BL));
theorem
Th49: (for AF being non  empty (ClosedSubset of BL) holds ((( Bottom BL ) in AF & ( Top BL ) in AF) implies (for B holds (B c= ( SetImp AF ) implies (ex B0 st (B0 c= ( SetImp AF ) & ( FinJoin (B,( comp BL )) ) = ( FinMeet B0 )))))))
proof
let AF being non  empty (ClosedSubset of BL);
assume that
A1: ( Bottom BL ) in AF
and
A2: ( Top BL ) in AF;
set C = { ( ( FinJoin A1 ) "\/" ( FinJoin (A2,( comp BL )) ) ): (A1 c= AF & A2 c= AF) };
A3: C c= ( SetImp AF )
proof
let x;
assume x in C;
then consider A1,A2 such that A4: x = ( ( FinJoin A1 ) "\/" ( FinJoin (A2,( comp BL )) ) ) and A5: (A1 c= AF & A2 c= AF);
consider p,q such that A6: (p = ( FinMeet A2 ) & q = ( FinJoin A1 ));
A7: x = ( ( p ` ) "\/" q ) by A4,A6,CKB60:1;
(p in AF & q in AF) by A1,A2,A5,A6,CKB29:1,CKB37:1;
hence thesis by A7,CKB55:1;
end;
defpred X[ (Finite_Subset of (the carrier of BL)) ]
 means
($1 c= ( SetImp AF ) implies (ex B0 st (B0 c= C & ( FinJoin ($1,( comp BL )) ) = ( FinMeet B0 ))));
let B;
assume A8: B c= ( SetImp AF );
A9: (for B9 being (Finite_Subset of (the carrier of BL)) holds (for b being (Element of BL) holds (X[ B9 ] implies X[ ( B9 \/ {. b .} ) ])))
proof
set J = (the L_join of BL);
let B9 being (Finite_Subset of (the carrier of BL));
let b being (Element of BL);
assume A10: (B9 c= ( SetImp AF ) implies (ex B1 st (B1 c= C & ( FinJoin (B9,( comp BL )) ) = ( FinMeet B1 ))));
assume A11: ( B9 \/ { b } ) c= ( SetImp AF );
then consider B1 such that A12: B1 c= C and A13: ( FinJoin (B9,( comp BL )) ) = ( FinMeet B1 ) by A10,SETWISEO:5;
b in ( SetImp AF ) by A11,SETWISEO:5;
then consider p,q such that A14: b = ( ( p ` ) "\/" q ) and A15: p in AF and A16: q in AF by CKB55:1;
A17: (for x holds (for b holds (x in ( ( J [:] (( id BL ),b) ) .: B1 ) implies (ex a st (a in B1 & x = ( a "\/" b ))))))
proof
let x;
let b;
assume A18: x in ( ( J [:] (( id BL ),b) ) .: B1 );
( ( J [:] (( id BL ),b) ) .: B1 ) c= (the carrier of BL) by FUNCT_2:36;
then reconsider x as (Element of BL) by A18;
consider a such that A19: a in B1 and A20: x = ( ( J [:] (( id BL ),b) ) . a ) by A18,FUNCT_2:65;
x = ( J . (( ( id BL ) . a ),b) ) by A20,FUNCOP_1:48
.= ( a "\/" b ) by FUNCT_1:18;
hence thesis by A19;
end;
A21: ( ( J [:] (( id BL ),p) ) .: B1 ) c= C
proof
let x;
assume x in ( ( J [:] (( id BL ),p) ) .: B1 );
then consider a such that A22: a in B1 and A23: x = ( a "\/" p ) by A17;
a in C by A12,A22;
then consider A1,A2 such that A24: a = ( ( FinJoin A1 ) "\/" ( FinJoin (A2,( comp BL )) ) ) and A25: (A1 c= AF & A2 c= AF);
(ex A19,A29 being (Finite_Subset of (the carrier of BL)) st ((x = ( ( FinJoin A19 ) "\/" ( FinJoin (A29,( comp BL )) ) ) & A19 c= AF) & A29 c= AF))
proof
take A19 = ( A1 \/ {. p .} );
take A29 = A2;
x = ( ( ( FinJoin A1 ) "\/" p ) "\/" ( FinJoin (A2,( comp BL )) ) ) by A23,A24,LATTICES:def 5
.= ( ( FinJoin A19 ) "\/" ( FinJoin (A29,( comp BL )) ) ) by CKB25:1;
hence thesis by A15,A25,SETWISEO:5;
end;
hence thesis;
end;
A26: ( ( J [:] (( id BL ),( q ` )) ) .: B1 ) c= C
proof
let x;
assume x in ( ( J [:] (( id BL ),( q ` )) ) .: B1 );
then consider a such that A27: a in B1 and A28: x = ( a "\/" ( q ` ) ) by A17;
a in C by A12,A27;
then consider A1,A2 such that A29: a = ( ( FinJoin A1 ) "\/" ( FinJoin (A2,( comp BL )) ) ) and A30: (A1 c= AF & A2 c= AF);
(ex A19,A29 being (Finite_Subset of (the carrier of BL)) st ((x = ( ( FinJoin A19 ) "\/" ( FinJoin (A29,( comp BL )) ) ) & A19 c= AF) & A29 c= AF))
proof
take A19 = A1;
take A29 = ( A2 \/ {. q .} );
x = ( ( FinJoin A1 ) "\/" ( ( FinJoin (A2,( comp BL )) ) "\/" ( q ` ) ) ) by A28,A29,LATTICES:def 5
.= ( ( FinJoin A19 ) "\/" ( FinJoin (A29,( comp BL )) ) ) by CKB57:1;
hence thesis by A16,A30,SETWISEO:5;
end;
hence thesis;
end;
take ( ( ( J [:] (( id BL ),p) ) .: B1 ) \/ ( ( J [:] (( id BL ),( q ` )) ) .: B1 ) );
( b ` ) = ( ( ( p ` ) ` ) "/\" ( q ` ) ) by A14,LATTICES:24
.= ( p "/\" ( q ` ) ) by LATTICES:22;
then ( FinJoin (( B9 \/ {. b .} ),( comp BL )) ) = ( ( FinMeet B1 ) "\/" ( p "/\" ( q ` ) ) ) by A13,CKB57:1
.= ( ( ( FinMeet B1 ) "\/" p ) "/\" ( ( FinMeet B1 ) "\/" ( q ` ) ) ) by LATTICES:11
.= ( ( FinMeet ( ( J [:] (( id BL ),p) ) .: B1 ) ) "/\" ( ( FinMeet B1 ) "\/" ( q ` ) ) ) by CKB39:1
.= ( ( FinMeet ( ( J [:] (( id BL ),p) ) .: B1 ) ) "/\" ( FinMeet ( ( J [:] (( id BL ),( q ` )) ) .: B1 ) ) ) by CKB39:1
.= ( FinMeet ( ( ( J [:] (( id BL ),p) ) .: B1 ) \/ ( ( J [:] (( id BL ),( q ` )) ) .: B1 ) ) ) by CKB36:1;
hence thesis by A21,A26,XBOOLE_1:8;
end;
A31: X[ ( {}. (the carrier of BL) ) ]
proof
assume ( {}. (the carrier of BL) ) c= ( SetImp AF );
take B0 = {. ( Bottom BL ) .};
A32: B0 c= C
proof
let x;
assume x in B0;
then A33: x = ( Bottom BL ) by TARSKI:def 1;
(ex A1 st (ex A2 st ((x = ( ( FinJoin A1 ) "\/" ( FinJoin (A2,( comp BL )) ) ) & A1 c= AF) & A2 c= AF)))
proof
take A1 = {. ( Bottom BL ) .};
take A2 = {. ( Top BL ) .};
thus x = ( ( Bottom BL ) "\/" ( Bottom BL ) ) by A33,LATTICES:1
.= ( ( Bottom BL ) "\/" ( ( Top BL ) ` ) ) by CKB43:1
.= ( ( FinJoin A1 ) "\/" ( ( Top BL ) ` ) ) by CKB20:1
.= ( ( FinJoin A1 ) "\/" ( ( FinMeet A2 ) ` ) ) by CKB21:1
.= ( ( FinJoin A1 ) "\/" ( FinJoin (A2,( comp BL )) ) ) by CKB60:1;
thus A1 c= AF by A1,ZFMISC_1:31;
thus thesis by A2,ZFMISC_1:31;
end;
hence thesis;
end;
( FinJoin (( {}. (the carrier of BL) ),( comp BL )) ) = ( Bottom BL ) by CKB27:1
.= ( FinMeet {. ( Bottom BL ) .} ) by CKB21:1;
hence thesis by A32;
end;
(for B being (Finite_Subset of (the carrier of BL)) holds X[ B ]) from SETWISEO:sch 4(A31,A9);
then (ex B1 st (B1 c= C & ( FinJoin (B,( comp BL )) ) = ( FinMeet B1 ))) by A8;
hence thesis by A3,XBOOLE_1:1;
end;
