environ
vocabularies NUMBERS,NAT_1,SETFAM_1,TREES_2,TARSKI,CARD_1,XBOOLE_0,FINSET_1,PEPIN,XXREAL_0,ORDINAL1,ARYTM_3,ARYTM_1,SUBSET_1,FUNCT_1,RELAT_1,INT_1,PCOMPS_1,PRE_TOPC,TOPDIM_1,WAYBEL23,RCOMP_1,PROB_1,TOPGEN_4,CARD_3,ZFMISC_1,STRUCT_0,RLVECT_3,TOPS_1,MCART_1,METRIZTS,EUCLID,XREAL_0,REAL_1,FINSEQ_1,METRIC_1,FINSEQ_2,RVSUM_1,SQUARE_1,COMPLEX1,RELAT_2,CONNSP_1,T_0TOPSP,FUNCOP_1,FUNCT_4,CARD_2;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,MCART_1,ZFMISC_1,FUNCT_2,CARD_1,CANTOR_1,COMPLEX1,FINSET_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,XXREAL_3,NAT_1,INT_1,SETFAM_1,DOMAIN_1,FUNCOP_1,TOPS_2,STRUCT_0,PRE_TOPC,METRIC_1,PCOMPS_1,CARD_3,PROB_1,KURATO_2,WAYBEL23,TOPS_1,T_0TOPSP,CARD_2,RVSUM_1,FINSEQ_1,FINSEQ_2,EUCLID,BORSUK_1,TOPGEN_4,FUNCT_4,SQUARE_1,CONNSP_1,TOPREAL9,ORDERS_4,METRIZTS,TOPDIM_1,CKB1,CKB4;
definitions STRUCT_0,SQUARE_1,EUCLID,PCOMPS_1,TOPS_1,TARSKI,METRIC_1,XBOOLE_0,TOPS_2,SETFAM_1,SUBSET_1,CARD_3,TOPDIM_1,CKB1,CKB4;
theorems ABSVALUE,FINSEQ_1,FINSEQ_2,FUNCT_1,FUNCT_2,RVSUM_1,TARSKI,XREAL_0,COMPLEX1,XREAL_1,XXREAL_0,FUNCOP_1,ORDINAL1,RELAT_1,PRE_TOPC,TOPMETR,EUCLID,METRIC_1,XBOOLE_0,TOPS_1,TOPS_2,TOPREAL7,PROB_1,ZFMISC_1,NAT_1,KURATO_2,INT_1,TOPGEN_1,XBOOLE_1,MCART_1,CARD_1,TOPGEN_4,SUBSET_1,TSEP_1,TSP_1,SETFAM_1,CARD_4,YELLOW_9,ORDERS_4,BORSUK_1,CARD_3,CARD_2,NECKLACE,BORSUK_3,TOPALG_3,JORDAN2C,TOPREAL9,JORDAN2B,JORDAN,STIRL2_1,FUNCT_4,ENUMSET1,XXREAL_3,CONNSP_1,WELLORD2,METRIZTS,PCOMPS_1,TOPDIM_1,YELLOW14,CKB1,CKB4,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB35,CKB36,CKB37,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes FUNCT_2,NAT_1,CLASSES1,LMOD_7,BORSUK_2;
registrations REALSET1,PRE_TOPC,PCOMPS_1,NAT_1,XREAL_0,SUBSET_1,STRUCT_0,TOPS_1,XXREAL_0,YELLOW13,CARD_1,XBOOLE_0,FINSET_1,VALUED_0,RELAT_1,FUNCT_1,INT_1,CARD_3,TOPGEN_4,BORSUK_3,MEMBERED,XXREAL_3,METRIZTS,TOPDIM_1,EUCLID,ZFMISC_1,RELSET_1,CKB2,CKB3,CKB5,CKB6,CKB19,CKB23,CKB34,CKB38;
constructors TOPS_2,BORSUK_1,REAL_1,COMPLEX1,CANTOR_1,TOPGEN_4,WAYBEL23,TOPS_1,SQUARE_1,RVSUM_1,BORSUK_3,CARD_2,TSP_1,CONNSP_1,BINOP_2,TOPREAL9,ORDERS_4,XXREAL_3,METRIZTS,TOPDIM_1,FUNCOP_1,FUNCSDOM,PCOMPS_1,CKB1,CKB4;
requirements REAL,SUBSET,NUMERALS,ARITHM,BOOLE;
begin
reserve n for Nat;
reserve TM for  metrizable TopSpace;
reserve A for (Subset of TM);
theorem
(for TM holds (TM is  finite-ind implies (for A holds ((( ind ( A ` ) ) <= n & ( TM | ( A ` ) ) is  second-countable) implies (for A1,A2 being  closed (Subset of TM) holds (A = ( A1 \/ A2 ) implies (ex X1,X2 being  closed (Subset of TM) st (((((( [#] TM ) = ( X1 \/ X2 ) & A1 c= X1) & A2 c= X2) & ( A1 /\ X2 ) = ( A1 /\ A2 )) & ( A1 /\ A2 ) = ( X1 /\ A2 )) & ( ind ( ( X1 /\ X2 ) \ ( A1 /\ A2 ) ) ) <= ( n - 1 )))))))))
proof
let TM;
assume that
A1: TM is  finite-ind;
set cTM = ( [#] TM );
let A;
assume that
A2: ( ind ( A ` ) ) <= n
and
A3: ( TM | ( A ` ) ) is  second-countable;
let A1 being  closed (Subset of TM),A2 being  closed (Subset of TM);
assume that
A4: A = ( A1 \/ A2 );
set A12 = ( A1 /\ A2 );
set T912 = ( TM | ( cTM \ A12 ) );
A5: ( [#] T912 ) = ( cTM \ A12 ) by PRE_TOPC:def 5;
( A ` ) c= ( cTM \ A12 ) by A4,XBOOLE_1:29,XBOOLE_1:34;
then reconsider A19 = ( A1 \ A12 ),A29 = ( A2 \ A12 ),A9 = ( A ` ) as (Subset of T912) by A5,XBOOLE_1:33;
( A2 /\ ( [#] T912 ) ) = ( ( A2 /\ cTM ) \ A12 ) by A5,XBOOLE_1:49
.= A29 by XBOOLE_1:28;
then reconsider A29 as  closed (Subset of T912) by PRE_TOPC:13;
( A1 /\ ( [#] T912 ) ) = ( ( A1 /\ cTM ) \ A12 ) by A5,XBOOLE_1:49
.= A19 by XBOOLE_1:28;
then reconsider A19 as  closed (Subset of T912) by PRE_TOPC:13;
( A1 \ A2 ) = A19 by XBOOLE_1:47;
then A19 misses A2 by XBOOLE_1:79;
then A6: A19 misses A29 by XBOOLE_1:36,XBOOLE_1:63;
A7: ( ind ( A ` ) ) = ( ind A9 ) by A1,TOPDIM_1:21;
( T912 | A9 ) is  second-countable by A3,METRIZTS:9;
then consider L being (Subset of T912) such that A8: L separates A19,A29 and A9: ( ind ( L /\ A9 ) ) <= ( n - 1 ) by A1,A2,A6,A7,CKB24:1;
consider U being  open (Subset of T912),W being  open (Subset of T912) such that A10: A19 c= U and A11: A29 c= W and A12: U misses W and A13: L = ( ( U \/ W ) ` ) by A8,METRIZTS:def 3;
( [#] T912 ) c= cTM by PRE_TOPC:def 4;
then reconsider L9 = L,U9 = U,W9 = W as (Subset of TM) by XBOOLE_1:1;
A14: (A1 = ( ( A1 \ A12 ) \/ A12 ) & A2 = ( ( A2 \ A12 ) \/ A12 )) by XBOOLE_1:17,XBOOLE_1:45;
L misses A
proof
assume L meets A;
then consider x being set such that A15: x in L and A16: x in A by XBOOLE_0:3;
A17: (x in A1 or x in A2) by A4,A16,XBOOLE_0:def 3;
(not x in A12) by A5,A15,XBOOLE_0:def 5;
then (x in A19 or x in A29) by A17,XBOOLE_0:def 5;
then x in ( U \/ W ) by A10,A11,XBOOLE_0:def 3;
hence thesis by A13,A15,XBOOLE_0:def 5;
end;
then A18: L = ( L9 \ A ) by XBOOLE_1:83
.= ( ( L /\ cTM ) \ A ) by XBOOLE_1:28
.= ( L /\ A9 ) by XBOOLE_1:49;
A19: ( cTM \ ( cTM \ A12 ) ) = ( cTM /\ A12 ) by XBOOLE_1:48
.= A12 by XBOOLE_1:28;
A20: ( A1 \ ( A1 \ A12 ) ) = ( A1 /\ A12 ) by XBOOLE_1:48
.= A12 by XBOOLE_1:17,XBOOLE_1:28;
( A12 ` ) is  open;
then reconsider U9,W9 as  open (Subset of TM) by A5,TSEP_1:9;
take X2 = ( W9 ` );
take X1 = ( U9 ` );
A21: W9 c= X1 by A12,SUBSET_1:23;
A22: ( W \/ ( cTM \ ( U \/ W ) ) ) = ( W \/ ( X1 /\ X2 ) ) by XBOOLE_1:53
.= ( ( W9 \/ X1 ) /\ ( W \/ X2 ) ) by XBOOLE_1:24
.= ( ( W9 \/ X1 ) /\ cTM ) by XBOOLE_1:45
.= ( X1 /\ cTM ) by A21,XBOOLE_1:12
.= X1 by XBOOLE_1:28;
thus ( X2 \/ X1 ) = ( cTM \ ( U9 /\ W9 ) ) by XBOOLE_1:54
.= ( cTM \ ( {} ) ) by A12,XBOOLE_0:def 7
.= cTM;
A23: U9 c= X2 by A12,SUBSET_1:23;
A24: ( U \/ ( cTM \ ( U \/ W ) ) ) = ( U \/ ( X1 /\ X2 ) ) by XBOOLE_1:53
.= ( ( U9 \/ X1 ) /\ ( U \/ X2 ) ) by XBOOLE_1:24
.= ( cTM /\ ( U \/ X2 ) ) by XBOOLE_1:45
.= ( cTM /\ X2 ) by A23,XBOOLE_1:12
.= X2 by XBOOLE_1:28;
( cTM \ ( cTM \ A12 ) ) c= ( cTM \ ( U \/ W ) ) by A5,XBOOLE_1:34;
hence A25: (A1 c= X2 & A2 c= X1) by A10,A11,A14,A19,A24,A22,XBOOLE_1:13;
then A26: A12 c= ( A1 /\ X1 ) by XBOOLE_1:26;
( A1 /\ X1 ) = ( ( cTM /\ A1 ) \ U9 ) by XBOOLE_1:49
.= ( A1 \ U9 ) by XBOOLE_1:28;
then ( A1 /\ X1 ) c= A12 by A10,A20,XBOOLE_1:34;
hence ( A1 /\ X1 ) = A12 by A26,XBOOLE_0:def 10;
A27: ( A2 \ ( A2 \ A12 ) ) = ( A2 /\ A12 ) by XBOOLE_1:48
.= A12 by XBOOLE_1:17,XBOOLE_1:28;
A28: A12 c= ( A2 /\ X2 ) by A25,XBOOLE_1:26;
( A2 /\ X2 ) = ( ( cTM /\ A2 ) \ W9 ) by XBOOLE_1:49
.= ( A2 \ W9 ) by XBOOLE_1:28;
then ( A2 /\ X2 ) c= A12 by A11,A27,XBOOLE_1:34;
hence A12 = ( X2 /\ A2 ) by A28,XBOOLE_0:def 10;
( ( X2 /\ X1 ) \ A12 ) = ( ( cTM \ ( W9 \/ U9 ) ) \ A12 ) by XBOOLE_1:53
.= ( cTM \ ( ( W9 \/ U9 ) \/ A12 ) ) by XBOOLE_1:41
.= L by A5,A13,XBOOLE_1:41;
hence thesis by A1,A9,A18,TOPDIM_1:21;
end;
