environ
vocabularies FUNCT_1,SUBSET_1,NUMBERS,FUNCT_2,XBOOLE_0,CARD_3,FINSEQ_1,RELAT_1,FINSEQ_2,FUNCOP_1,TARSKI,ZFMISC_1,FUNCT_5,PARTFUN1,SETFAM_1,FINSEQ_4,MCART_1,FUNCT_6,ORDINAL1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,MCART_1,SETFAM_1,FUNCT_2,BINOP_1,PARTFUN1,FUNCT_3,WELLORD2,FUNCOP_1,FUNCT_4,FUNCT_5,ORDINAL1,CARD_3,CKB18,CKB24,CKB25,CKB26,CKB33,CKB35;
definitions TARSKI,FUNCT_1,WELLORD2,XBOOLE_0,BINOP_1,FUNCOP_1,CKB18,CKB24,CKB25,CKB26,CKB33,CKB35;
theorems TARSKI,ENUMSET1,ZFMISC_1,MCART_1,FUNCT_1,SETFAM_1,FUNCT_2,FUNCT_3,FUNCOP_1,CARD_1,CARD_3,FUNCT_4,FUNCT_5,PARTFUN1,WELLORD2,RELAT_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42;
schemes FUNCT_1,PARTFUN1,CARD_3,CLASSES1,XBOOLE_0;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,ORDINAL1,RELSET_1;
constructors ENUMSET1,SETFAM_1,PARTFUN1,WELLORD2,BINOP_1,FUNCT_3,FUNCOP_1,FUNCT_4,FUNCT_5,CARD_3,RELSET_1,CKB18,CKB24,CKB25,CKB26,CKB33,CKB35;
requirements NUMERALS,BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
reserve z for set;
reserve f for Function;
reserve g for Function;
reserve h for Function;
reserve f1 for Function;
reserve f2 for Function;
definition
let f being Function;
func Frege f -> Function means 
:Def7: (( dom it ) = ( product ( doms f ) ) & (for g holds (g in ( product ( doms f ) ) implies (ex h st ((( it . g ) = h & ( dom h ) = ( f " ( SubFuncs ( rng f ) ) )) & (for x holds (x in ( dom h ) implies ( h . x ) = ( ( uncurry f ) . (x,( g . x )) ))))))));
existence
proof
defpred P[ set,set ]
 means
(ex g st (ex h st ((($1 = g & $2 = h) & ( dom h ) = ( f " ( SubFuncs ( rng f ) ) )) & (for z holds (z in ( dom h ) implies ( h . z ) = ( ( uncurry f ) . (z,( g . z )) ))))));
A1: (for x holds (x in ( product ( doms f ) ) implies (ex y st P[ x,y ])))
proof
let x;
assume x in ( product ( doms f ) );
then consider g such that A2: x = g and ( dom g ) = ( dom ( doms f ) ) and (for x holds (x in ( dom ( doms f ) ) implies ( g . x ) in ( ( doms f ) . x ))) by CARD_3:def 5;
deffunc F(set) = ( ( uncurry f ) . [ $1,( g . $1 ) ] );
consider h such that A3: (( dom h ) = ( f " ( SubFuncs ( rng f ) ) ) & (for z holds (z in ( f " ( SubFuncs ( rng f ) ) ) implies ( h . z ) = F(z)))) from FUNCT_1:sch 3;
reconsider y = h as set;
take y;
take g;
take h;
thus thesis by A2,A3;
end;
consider F being Function such that A4: (( dom F ) = ( product ( doms f ) ) & (for x holds (x in ( product ( doms f ) ) implies P[ x,( F . x ) ]))) from CLASSES1:sch 1(A1);
take F;
thus ( dom F ) = ( product ( doms f ) ) by A4;
let g;
assume g in ( product ( doms f ) );
then (ex g1,h being Function st (((g = g1 & ( F . g ) = h) & ( dom h ) = ( f " ( SubFuncs ( rng f ) ) )) & (for z holds (z in ( dom h ) implies ( h . z ) = ( ( uncurry f ) . (z,( g1 . z )) ))))) by A4;
hence thesis;
end;
uniqueness
proof
let f1 being Function;
let f2 being Function;
assume that
A5: ( dom f1 ) = ( product ( doms f ) )
and
A6: (for g holds (g in ( product ( doms f ) ) implies (ex h st ((( f1 . g ) = h & ( dom h ) = ( f " ( SubFuncs ( rng f ) ) )) & (for x holds (x in ( dom h ) implies ( h . x ) = ( ( uncurry f ) . (x,( g . x )) )))))))
and
A7: ( dom f2 ) = ( product ( doms f ) )
and
A8: (for g holds (g in ( product ( doms f ) ) implies (ex h st ((( f2 . g ) = h & ( dom h ) = ( f " ( SubFuncs ( rng f ) ) )) & (for x holds (x in ( dom h ) implies ( h . x ) = ( ( uncurry f ) . (x,( g . x )) )))))));
now
let x;
assume A9: x in ( product ( doms f ) );
then consider g such that A10: x = g and ( dom g ) = ( dom ( doms f ) ) and (for x holds (x in ( dom ( doms f ) ) implies ( g . x ) in ( ( doms f ) . x ))) by CARD_3:def 5;
consider h2 being Function such that A11: ( f2 . g ) = h2 and A12: ( dom h2 ) = ( f " ( SubFuncs ( rng f ) ) ) and A13: (for y holds (y in ( dom h2 ) implies ( h2 . y ) = ( ( uncurry f ) . (y,( g . y )) ))) by A8,A9,A10;
consider h1 being Function such that A14: ( f1 . g ) = h1 and A15: ( dom h1 ) = ( f " ( SubFuncs ( rng f ) ) ) and A16: (for y holds (y in ( dom h1 ) implies ( h1 . y ) = ( ( uncurry f ) . (y,( g . y )) ))) by A6,A9,A10;
now
let z;
assume A17: z in ( f " ( SubFuncs ( rng f ) ) );
then ( h1 . z ) = ( ( uncurry f ) . (z,( g . z )) ) by A15,A16;
hence ( h1 . z ) = ( h2 . z ) by A12,A13,A17;
end;
hence ( f1 . x ) = ( f2 . x ) by A10,A14,A15,A11,A12,FUNCT_1:2;
end;
hence thesis by A5,A7,FUNCT_1:2;
end;
end;
