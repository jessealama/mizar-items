environ
vocabularies NUMBERS,RELAT_2,RCOMP_1,SPPOL_1,SUBSET_1,EUCLID,TOPREAL1,XXREAL_0,ARYTM_3,FINSEQ_1,JORDAN9,MATRIX_1,JORDAN8,PARTFUN1,RELAT_1,TREES_1,GOBOARD1,GOBOARD5,ARYTM_1,CARD_1,XBOOLE_0,TARSKI,RLTOPSP1,PSCOMP_1,NEWTON,MCART_1,PRE_TOPC,GOBOARD9,TOPS_1,REAL_1,CONNSP_1,STRUCT_0,JORDAN2C,CONNSP_3,XXREAL_2,SETFAM_1,ZFMISC_1,TOPREAL4,PCOMPS_1,WEIERSTR,METRIC_1,JORDAN10;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,NUMBERS,REAL_1,NAT_1,NAT_D,PARTFUN1,FINSEQ_1,NEWTON,DOMAIN_1,STRUCT_0,METRIC_1,TBSP_1,WEIERSTR,PRE_TOPC,TOPS_1,CONNSP_1,CONNSP_3,COMPTS_1,PCOMPS_1,MATRIX_1,RLTOPSP1,EUCLID,TOPREAL1,GOBOARD1,GOBOARD5,TOPREAL4,PSCOMP_1,GOBOARD9,SPPOL_1,JORDAN2C,JORDAN8,GOBRD13,TOPREAL6,JORDAN9,XXREAL_0;
definitions TARSKI,XBOOLE_0,SUBSET_1,PSCOMP_1,CONNSP_3;
theorems CONNSP_1,CONNSP_3,EUCLID,GOBOARD6,GOBOARD7,GOBOARD9,GOBRD11,GOBRD13,GOBRD14,JGRAPH_1,JORDAN2C,JORDAN3,JORDAN6,JORDAN8,JORDAN9,NEWTON,NAT_1,PRE_TOPC,SETFAM_1,SPPOL_2,SPRECT_1,SPRECT_3,SPRECT_4,SUBSET_1,TARSKI,TOPREAL1,TOPREAL3,TOPREAL4,TOPREAL6,TOPS_1,WEIERSTR,ZFMISC_1,XBOOLE_0,XBOOLE_1,XCMPLX_1,REALSET1,XREAL_1,XXREAL_0,MATRIX_1,XREAL_0,COMPTS_1,RLTOPSP1,NAT_D,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
schemes NAT_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,XXREAL_0,MEMBERED,FINSEQ_1,STRUCT_0,PRE_TOPC,COMPTS_1,PCOMPS_1,EUCLID,TOPREAL1,SPPOL_2,SPRECT_1,SPRECT_2,JORDAN2C,TOPREAL6,JORDAN8,FUNCT_1,CKB1,CKB9;
constructors SETFAM_1,XXREAL_0,REAL_1,NAT_1,NEWTON,REALSET1,BINARITH,TOPS_1,CONNSP_1,TBSP_1,TOPREAL4,JORDAN1,PSCOMP_1,WEIERSTR,GOBOARD9,CONNSP_3,JORDAN2C,TOPREAL6,JORDAN8,GOBRD13,JORDAN9,NAT_D,FUNCSDOM,CONVEX1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve C for  connected  compact non  vertical non  horizontal (Subset of ( TOP-REAL 2 ));
theorem
Th8: ( N-min C ) in ( RightComp ( Cage (C,n) ) )
proof
set f = ( Cage (C,n) );
set G = ( Gauge (C,n) );
consider k being (Element of ( NAT )) such that A1: 1 <= k and A2: ( k + 1 ) <= ( len G ) and A3: (( f /. 1 ) = ( G * (k,( width G )) ) & ( f /. 2 ) = ( G * (( k + 1 ),( width G )) )) and A4: ( N-min C ) in ( cell (G,k,( ( width G ) -' 1 )) ) and ( N-min C ) <> ( G * (k,( ( width G ) -' 1 )) ) by JORDAN9:def 1;
A5: ( len G ) = ( width G ) by JORDAN8:def 1;
A6: 1 <= ( k + 1 ) by NAT_1:11;
then A7: 1 <= ( len G ) by A2,XXREAL_0:2;
then A8: [ ( k + 1 ),( len G ) ] in ( Indices G ) by A2,A5,A6,MATRIX_1:36;
( L~ f ) <> ( {} );
then A9: (f is_sequence_on G & ( 1 + 1 ) <= ( len f )) by GOBRD14:2,JORDAN9:def 1;
then ( right_cell (f,1,G) ) is  closed by GOBRD13:30;
then ( Fr ( right_cell (f,1,G) ) ) = ( ( right_cell (f,1,G) ) \ ( Int ( right_cell (f,1,G) ) ) ) by TOPS_1:43;
then A10: ( ( Fr ( right_cell (f,1,G) ) ) \/ ( Int ( right_cell (f,1,G) ) ) ) = ( right_cell (f,1,G) ) by TOPS_1:16,XBOOLE_1:45;
A11: k < ( len G ) by A2,NAT_1:13;
then [ k,( len G ) ] in ( Indices G ) by A1,A5,A7,MATRIX_1:36;
then A12: ( cell (G,k,( ( len G ) -' 1 )) ) = ( right_cell (f,1,G) ) by A3,A9,A5,A8,GOBRD13:24;
A13: ( Int ( right_cell (f,1) ) ) c= ( RightComp f ) by GOBOARD9:def 2;
( Int ( right_cell (f,1,G) ) ) c= ( Int ( right_cell (f,1) ) ) by A9,GOBRD13:33,TOPS_1:19;
then A14: ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) c= ( RightComp f ) by A12,A13,XBOOLE_1:1;
( RightComp f ) misses ( L~ f ) by SPRECT_3:25;
then A15: ( ( RightComp f ) /\ ( L~ f ) ) = ( {} ) by XBOOLE_0:def 7;
A16: ( Fr ( cell (G,k,( ( len G ) -' 1 )) ) ) c= ( ( RightComp f ) \/ ( L~ f ) )
proof
let q being set;
assume A17: q in ( Fr ( cell (G,k,( ( len G ) -' 1 )) ) );
then reconsider s = q as (Point of ( TOP-REAL 2 ));
4 <= ( len G ) by JORDAN8:10;
then ( 4 - 1 ) <= ( ( len G ) - 1 ) by XREAL_1:13;
then ( 0 ) <= ( ( len G ) - 1 ) by XXREAL_0:2;
then A18: ( ( len G ) -' 1 ) = ( ( len G ) - 1 ) by XREAL_0:def 2;
A19: ( ( len G ) - 1 ) < ( ( len G ) - ( 0 ) ) by XREAL_1:15;
then ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) <> ( {} ) by A5,A11,A18,GOBOARD9:14;
then consider p being set such that A20: p in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by XBOOLE_0:def 1;
reconsider p as (Point of ( TOP-REAL 2 )) by A20;
per cases ;
suppose q in ( L~ f );

hence thesis by XBOOLE_0:def 3;
end;
suppose A21: (not q in ( L~ f ));

A22: ( LSeg (p,s) ) c= ( ( L~ f ) ` )
proof
3 <= ( ( len G ) -' 1 ) by GOBRD14:7;
then A23: 1 <= ( ( len G ) -' 1 ) by XXREAL_0:2;
then A24: ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) = { |[ x,y ]| where x is Real,y is Real: (((( ( G * (k,1) ) `1 ) < x & x < ( ( G * (( k + 1 ),1) ) `1 )) & ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < y) & y < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 )) } by A1,A5,A11,A18,A19,GOBOARD6:26;
A25: ( cell (G,k,( ( len G ) -' 1 )) ) = { |[ m,o ]| where m is Real,o is Real: (((( ( G * (k,1) ) `1 ) <= m & m <= ( ( G * (( k + 1 ),1) ) `1 )) & ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) <= o) & o <= ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 )) } by A1,A5,A11,A18,A19,A23,GOBRD11:32;
( Fr ( cell (G,k,( ( len G ) -' 1 )) ) ) c= ( cell (G,k,( ( len G ) -' 1 )) ) by A9,A12,GOBRD13:30,TOPS_1:35;
then q in ( cell (G,k,( ( len G ) -' 1 )) ) by A17;
then consider m,o being Real such that A26: s = |[ m,o ]| and A27: ( ( G * (k,1) ) `1 ) <= m and A28: m <= ( ( G * (( k + 1 ),1) ) `1 ) and A29: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) <= o and A30: o <= ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A25;
A31: ( s `2 ) = o by A26,EUCLID:52;
consider x,y being Real such that A32: p = |[ x,y ]| and A33: ( ( G * (k,1) ) `1 ) < x and A34: x < ( ( G * (( k + 1 ),1) ) `1 ) and A35: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < y and A36: y < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A20,A24;
A37: ( p `1 ) = x by A32,EUCLID:52;
let a being set;
assume A38: a in ( LSeg (p,s) );
then reconsider b = a as (Point of ( TOP-REAL 2 ));
A39: b = |[ ( b `1 ),( b `2 ) ]| by EUCLID:53;
A40: ( p `2 ) = y by A32,EUCLID:52;
A41: ( s `1 ) = m by A26,EUCLID:52;
now
per cases ;
case b = s;
hence thesis by A21,SUBSET_1:29;
end;
case A42: b <> s;
now
per cases  by XXREAL_0:1;
case A43: (( s `1 ) < ( p `1 ) & ( s `2 ) < ( p `2 ));
then ( s `2 ) < ( b `2 ) by A38,A42,TOPREAL6:30;
then A44: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < ( b `2 ) by A29,A31,XXREAL_0:2;
( b `1 ) <= ( p `1 ) by A38,A43,TOPREAL6:29;
then A45: ( b `1 ) < ( ( G * (( k + 1 ),1) ) `1 ) by A34,A37,XXREAL_0:2;
( b `2 ) <= ( p `2 ) by A38,A43,TOPREAL6:30;
then A46: ( b `2 ) < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A36,A40,XXREAL_0:2;
( s `1 ) < ( b `1 ) by A38,A42,A43,TOPREAL6:29;
then ( ( G * (k,1) ) `1 ) < ( b `1 ) by A27,A41,XXREAL_0:2;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A45,A44,A46;
end;
case A47: (( s `1 ) < ( p `1 ) & ( s `2 ) > ( p `2 ));
then ( b `2 ) < ( s `2 ) by A38,A42,TOPREAL6:30;
then A48: ( b `2 ) < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A30,A31,XXREAL_0:2;
( b `1 ) <= ( p `1 ) by A38,A47,TOPREAL6:29;
then A49: ( b `1 ) < ( ( G * (( k + 1 ),1) ) `1 ) by A34,A37,XXREAL_0:2;
( p `2 ) <= ( b `2 ) by A38,A47,TOPREAL6:30;
then A50: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < ( b `2 ) by A35,A40,XXREAL_0:2;
( s `1 ) < ( b `1 ) by A38,A42,A47,TOPREAL6:29;
then ( ( G * (k,1) ) `1 ) < ( b `1 ) by A27,A41,XXREAL_0:2;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A49,A50,A48;
end;
case A51: (( s `1 ) < ( p `1 ) & ( s `2 ) = ( p `2 ));
then ( b `1 ) <= ( p `1 ) by A38,TOPREAL6:29;
then A52: ( b `1 ) < ( ( G * (( k + 1 ),1) ) `1 ) by A34,A37,XXREAL_0:2;
( s `1 ) < ( b `1 ) by A38,A42,A51,TOPREAL6:29;
then A53: ( ( G * (k,1) ) `1 ) < ( b `1 ) by A27,A41,XXREAL_0:2;
( p `2 ) = ( b `2 ) by A38,A51,GOBOARD7:6;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A35,A36,A40,A53,A52;
end;
case A54: (( s `1 ) > ( p `1 ) & ( s `2 ) < ( p `2 ));
then ( s `2 ) < ( b `2 ) by A38,A42,TOPREAL6:30;
then A55: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < ( b `2 ) by A29,A31,XXREAL_0:2;
( b `1 ) >= ( p `1 ) by A38,A54,TOPREAL6:29;
then A56: ( ( G * (k,1) ) `1 ) < ( b `1 ) by A33,A37,XXREAL_0:2;
( b `2 ) <= ( p `2 ) by A38,A54,TOPREAL6:30;
then A57: ( b `2 ) < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A36,A40,XXREAL_0:2;
( s `1 ) > ( b `1 ) by A38,A42,A54,TOPREAL6:29;
then ( b `1 ) < ( ( G * (( k + 1 ),1) ) `1 ) by A28,A41,XXREAL_0:2;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A56,A55,A57;
end;
case A58: (( s `1 ) > ( p `1 ) & ( s `2 ) > ( p `2 ));
then ( s `2 ) > ( b `2 ) by A38,A42,TOPREAL6:30;
then A59: ( b `2 ) < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A30,A31,XXREAL_0:2;
( b `1 ) >= ( p `1 ) by A38,A58,TOPREAL6:29;
then A60: ( ( G * (k,1) ) `1 ) < ( b `1 ) by A33,A37,XXREAL_0:2;
( b `2 ) >= ( p `2 ) by A38,A58,TOPREAL6:30;
then A61: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < ( b `2 ) by A35,A40,XXREAL_0:2;
( s `1 ) > ( b `1 ) by A38,A42,A58,TOPREAL6:29;
then ( b `1 ) < ( ( G * (( k + 1 ),1) ) `1 ) by A28,A41,XXREAL_0:2;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A60,A61,A59;
end;
case A62: (( s `1 ) > ( p `1 ) & ( s `2 ) = ( p `2 ));
then ( b `1 ) >= ( p `1 ) by A38,TOPREAL6:29;
then A63: ( ( G * (k,1) ) `1 ) < ( b `1 ) by A33,A37,XXREAL_0:2;
( s `1 ) > ( b `1 ) by A38,A42,A62,TOPREAL6:29;
then A64: ( b `1 ) < ( ( G * (( k + 1 ),1) ) `1 ) by A28,A41,XXREAL_0:2;
( b `2 ) = ( p `2 ) by A38,A62,GOBOARD7:6;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A35,A36,A40,A63,A64;
end;
case A65: (( s `1 ) = ( p `1 ) & ( s `2 ) > ( p `2 ));
then ( b `2 ) >= ( p `2 ) by A38,TOPREAL6:30;
then A66: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < ( b `2 ) by A35,A40,XXREAL_0:2;
( s `2 ) > ( b `2 ) by A38,A42,A65,TOPREAL6:30;
then A67: ( b `2 ) < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A30,A31,XXREAL_0:2;
( b `1 ) = ( p `1 ) by A38,A65,GOBOARD7:5;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A33,A34,A37,A66,A67;
end;
case A68: (( s `1 ) = ( p `1 ) & ( s `2 ) < ( p `2 ));
then ( b `2 ) <= ( p `2 ) by A38,TOPREAL6:30;
then A69: ( b `2 ) < ( ( G * (1,( ( ( len G ) -' 1 ) + 1 )) ) `2 ) by A36,A40,XXREAL_0:2;
( s `2 ) < ( b `2 ) by A38,A42,A68,TOPREAL6:30;
then A70: ( ( G * (1,( ( len G ) -' 1 )) ) `2 ) < ( b `2 ) by A29,A31,XXREAL_0:2;
( b `1 ) = ( p `1 ) by A38,A68,GOBOARD7:5;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A24,A39,A33,A34,A37,A70,A69;
end;
case (( s `1 ) = ( p `1 ) & ( s `2 ) = ( p `2 ));
then p = s by TOPREAL3:6;
then ( LSeg (p,s) ) = { p } by RLTOPSP1:70;
hence b in ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) by A20,A38,TARSKI:def 1;
end;
end;
then (not b in ( L~ f )) by A15,A14,XBOOLE_0:def 4;
hence thesis by SUBSET_1:29;
end;
end;
hence thesis;
end;
A71: s in ( LSeg (p,s) ) by RLTOPSP1:68;
now
take a = p;
thus (a in { p } & a in ( LSeg (p,s) )) by RLTOPSP1:68,TARSKI:def 1;
end;
then A72: { p } meets ( LSeg (p,s) ) by XBOOLE_0:3;
(( RightComp f ) is_a_component_of ( ( L~ f ) ` ) & { p } c= ( RightComp f )) by A14,A20,GOBOARD9:def 2,ZFMISC_1:31;
then ( LSeg (p,s) ) c= ( RightComp f ) by A22,A72,GOBOARD9:4;
hence thesis by A71,XBOOLE_0:def 3;
end;
end;
C misses ( L~ f ) by CKB6:1;
then (( N-min C ) in C & ( C /\ ( L~ f ) ) = ( {} )) by SPRECT_1:11,XBOOLE_0:def 7;
then A73: (not ( N-min C ) in ( L~ f )) by XBOOLE_0:def 4;
( RightComp f ) c= ( ( RightComp f ) \/ ( L~ f ) ) by XBOOLE_1:7;
then ( Int ( cell (G,k,( ( len G ) -' 1 )) ) ) c= ( ( RightComp f ) \/ ( L~ f ) ) by A14,XBOOLE_1:1;
then ( right_cell (f,1,G) ) c= ( ( RightComp f ) \/ ( L~ f ) ) by A12,A16,A10,XBOOLE_1:8;
hence thesis by A73,A4,A5,A12,XBOOLE_0:def 3;
end;
