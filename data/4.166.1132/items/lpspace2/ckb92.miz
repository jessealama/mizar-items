environ
vocabularies FUNCT_1,COMPLEX1,XBOOLE_0,XXREAL_0,VALUED_1,NAT_1,PARTFUN1,SEQ_1,ARYTM_1,ORDINAL2,ZFMISC_1,NUMBERS,CARD_1,RELAT_1,SEQFUNC,ARYTM_3,PBOOLE,RLVECT_1,SUPINF_2,RSSPACE,STRUCT_0,ALGSTR_0,VECTSP10,REALSET1,FUNCOP_1,PRE_TOPC,LPSPACE1,BINOP_1,NORMSP_1,PROB_1,MEASURE1,MEASURE2,MEASURE6,MESFUNC1,TARSKI,RFUNCT_3,SETFAM_1,MESFUNC5,MESFUNC8,IDEAL_1,SUBSET_1,FUNCT_7,PREPOWER,POWER,LPSPACE2,RSSPACE3,SEQ_2,SERIES_1,REAL_1,INTEGRA5,ORDINAL1,XREAL_0,VALUED_0,CARD_3,REWRITE1,NEWTON,XXREAL_2,METRIC_1,RELAT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,COMPLEX1,XXREAL_0,XREAL_0,SUPINF_2,EXTREAL1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,VALUED_1,RFUNCT_3,BINOP_1,REAL_1,NAT_1,STRUCT_0,ALGSTR_0,RLVECT_1,IDEAL_1,SETFAM_1,PRE_TOPC,NORMSP_0,NORMSP_1,PROB_1,ASYMPT_0,MEASURE1,MEASURE2,MEASURE3,MEASURE6,SEQFUNC,MESFUNC1,MESFUNC2,MESFUNC5,MESFUNC6,FUNCT_7,MESFUNC8,NEWTON,PREPOWER,POWER,MESFUN6C,SEQ_1,SEQ_2,RECDEF_1,SERIES_1,RSSPACE3,LOPBAN_1,MESFUN7C,MESFUN9C,LPSPACE1,CKB3,CKB21,CKB39,CKB43,CKB47,CKB51,CKB65,CKB66,CKB67,CKB68,CKB69,CKB77,CKB78;
definitions TARSKI,STRUCT_0,ALGSTR_0,RLVECT_1,NORMSP_1,MEASURE6,MESFUN7C,MESFUNC5,MESFUNC6,SUBSET_1,LPSPACE1,XBOOLE_0,VALUED_1,RELAT_1,XCMPLX_0,NORMSP_0,CKB3,CKB21,CKB39,CKB43,CKB47,CKB51,CKB65,CKB66,CKB67,CKB68,CKB69,CKB77,CKB78;
theorems FUNCT_1,FUNCT_2,PARTFUN1,COMPLEX1,MESFUN9C,RINFSUP2,SEQ_2,SETFAM_1,LOPBAN_1,PREPOWER,XBOOLE_0,TARSKI,RELAT_1,SEQM_3,VALUED_1,SERIES_1,IDEAL_1,RLVECT_1,FUNCOP_1,XBOOLE_1,BINOP_1,SUPINF_2,MESFUNC5,MESFUNC2,EXTREAL1,MEASURE1,MESFUNC6,RFUNCT_1,XXREAL_0,ABSVALUE,MESFUNC1,MEASURE2,EXTREAL2,RSSPACE3,NORMSP_1,FUNCT_7,XREAL_1,HOLDER_1,POWER,XREAL_0,SUBSET_1,LPSPACE1,MESFUN6C,MESFUN7C,MESFUNC8,ORDINAL1,NAT_1,XCMPLX_0,XCMPLX_1,VALUED_0,XXREAL_3,SEQFUNC,MESFUNC9,SEQ_4,RELSET_1,COMSEQ_3,SEQ_1,SERIES_3,LOPBAN_3,NAGATA_2,NORMSP_0,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB37,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB46,CKB47,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB91;
schemes NAT_1,RECDEF_1,BINOP_1,FUNCT_2,SEQ_1,SEQFUNC;
registrations ORDINAL1,RELSET_1,NUMBERS,MEMBERED,VALUED_0,NAT_1,SUBSET_1,PARTFUN1,RLVECT_1,STRUCT_0,NORMSP_1,MEASURE1,SEQ_4,SEQ_2,MESFUN6C,MESFUNC8,LPSPACE1,XCMPLX_0,XREAL_0,XXREAL_0,VALUED_1,FUNCT_2,MESFUN7C,NORMSP_0,CKB4,CKB5,CKB18,CKB36,CKB38,CKB45,CKB48,CKB70,CKB71,CKB90;
constructors EXTREAL1,REAL_1,IDEAL_1,NEWTON,MEASURE3,MEASURE6,MESFUNC2,MESFUNC6,MESFUNC9,SEQ_1,MESFUN6C,MESFUN7C,MESFUN9C,RECDEF_1,SEQ_2,EXTREAL2,RINFSUP2,FUNCT_7,SERIES_1,PREPOWER,ASYMPT_0,LPSPACE1,SUPINF_1,SEQFUNC,MESFUNC5,RSSPACE3,LOPBAN_1,MESFUNC1,RELSET_1,BINOP_2,CKB3,CKB21,CKB39,CKB43,CKB47,CKB51,CKB65,CKB66,CKB67,CKB68,CKB69,CKB77,CKB78;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
reserve X for non empty set;
reserve S for (SigmaField of X);
reserve M for (sigma_Measure of S);
reserve k for  positive Real;
theorem
Th64: (for Sq being (sequence of ( Lp-Space (M,k) )) holds (ex Fsq being  with_the_same_dom (Functional_Sequence of X,( REAL )) st (for n being (Element of ( NAT )) holds (((( Fsq . n ) in ( Lp_Functions (M,k) ) & ( Fsq . n ) in ( Sq . n )) & ( Sq . n ) = ( a.e-eq-class_Lp (( Fsq . n ),M,k) )) & (ex r being Real st ((( 0 ) <= r & r = ( Integral (M,( ( abs ( Fsq . n ) ) to_power k )) )) & ||. ( Sq . n ) .|| = ( r to_power ( 1 / k ) )))))))
proof
let Sq being (sequence of ( Lp-Space (M,k) ));
consider Fsq being (Functional_Sequence of X,( REAL )) such that A1: (for n being (Element of ( NAT )) holds (((( Fsq . n ) in ( Lp_Functions (M,k) ) & ( Fsq . n ) in ( Sq . n )) & ( Sq . n ) = ( a.e-eq-class_Lp (( Fsq . n ),M,k) )) & (ex r being Real st (r = ( Integral (M,( ( abs ( Fsq . n ) ) to_power k )) ) & ||. ( Sq . n ) .|| = ( r to_power ( 1 / k ) ))))) by CKB91:1;
defpred P[ (Element of ( NAT )),set ]
 means
(ex DMFSQN being (Element of S) st ($2 = DMFSQN & (ex FSQN being (PartFunc of X,( REAL )) st ((((( Fsq . $1 ) = FSQN & ( M . ( DMFSQN ` ) ) = ( 0 )) & ( dom FSQN ) = DMFSQN) & FSQN is_measurable_on DMFSQN) & ( ( abs FSQN ) to_power k ) is_integrable_on M))));
A2: (for n being (Element of ( NAT )) holds (ex y being (Element of S) st P[ n,y ]))
proof
let n being (Element of ( NAT ));
( Fsq . n ) in ( Lp_Functions (M,k) ) by A1;
then (ex FMF being (PartFunc of X,( REAL )) st (( Fsq . n ) = FMF & (ex ND being (Element of S) st (((( M . ( ND ` ) ) = ( 0 ) & ( dom FMF ) = ND) & FMF is_measurable_on ND) & ( ( abs FMF ) to_power k ) is_integrable_on M))));
hence thesis;
end;
consider G being (Function of ( NAT ),S) such that A3: (for n being (Element of ( NAT )) holds P[ n,( G . n ) ]) from FUNCT_2:sch 10(A2);
reconsider E0 = ( meet ( rng G ) ) as (Element of S);
A4: (for n being (Element of ( NAT )) holds (( M . ( X \ ( G . n ) ) ) = ( 0 ) & E0 c= ( dom ( Fsq . n ) )))
proof
let n being (Element of ( NAT ));
(ex D being (Element of S) st (( G . n ) = D & (ex F being (PartFunc of X,( REAL )) st ((((( Fsq . n ) = F & ( M . ( D ` ) ) = ( 0 )) & ( dom F ) = D) & F is_measurable_on D) & ( ( abs F ) to_power k ) is_integrable_on M)))) by A3;
hence (( M . ( X \ ( G . n ) ) ) = ( 0 ) & E0 c= ( dom ( Fsq . n ) )) by FUNCT_2:4,SETFAM_1:3;
end;
A5: ( X \ ( rng G ) ) is (N_Sub_set_fam of X) by MEASURE1:21;
(for A being set holds (A in ( X \ ( rng G ) ) implies (A in S & A is (measure_zero of M))))
proof
let A being set;
assume A6: A in ( X \ ( rng G ) );
then reconsider A0 = A as (Subset of X);
( A0 ` ) in ( rng G ) by A6,SETFAM_1:def 7;
then consider n being set such that A7: (n in ( NAT ) & ( A0 ` ) = ( G . n )) by FUNCT_2:11;
reconsider n as (Element of ( NAT )) by A7;
A8: ( ( A0 ` ) ` ) = A0;
then A0 = ( X \ ( G . n ) ) by A7;
hence A in S by MEASURE1:34;
A9: ( M . A0 ) = ( 0 ) by A4,A7,A8;
A0 = ( X \ ( G . n ) ) by A7,A8;
then A is (Element of S) by MEASURE1:34;
hence A is (measure_zero of M) by A9,MEASURE1:def 7;
end;
then A10: ((for A being set holds (A in ( X \ ( rng G ) ) implies A in S)) & (for A being set holds (A in ( X \ ( rng G ) ) implies A is (measure_zero of M))));
then ( X \ ( rng G ) ) c= S by TARSKI:def 3;
then ( X \ ( rng G ) ) is (N_Measure_fam of S) by A5,MEASURE2:def 1;
then A11: ( union ( X \ ( rng G ) ) ) is (measure_zero of M) by A10,MEASURE2:14;
( E0 ` ) = ( X \ ( X \ ( union ( X \ ( rng G ) ) ) ) ) by MEASURE1:4
.= ( X /\ ( union ( X \ ( rng G ) ) ) ) by XBOOLE_1:48
.= ( union ( X \ ( rng G ) ) ) by XBOOLE_1:28;
then A12: ( M . ( E0 ` ) ) = ( 0 ) by A11,MEASURE1:def 7;
set Fsq2 = ( Fsq || E0 );
A13: (for n being (Element of ( NAT )) holds ( dom ( Fsq2 . n ) ) = E0)
proof
let n being (Element of ( NAT ));
( dom ( Fsq2 . n ) ) = ( dom ( ( Fsq . n ) | E0 ) ) by MESFUN9C:def 1;
then ( dom ( Fsq2 . n ) ) = ( ( dom ( Fsq . n ) ) /\ E0 ) by RELAT_1:61;
hence ( dom ( Fsq2 . n ) ) = E0 by A4,XBOOLE_1:28;
end;
now
let n being  natural number,m being  natural number;
(n is (Element of ( NAT )) & m is (Element of ( NAT ))) by ORDINAL1:def 12;
then (( dom ( Fsq2 . n ) ) = E0 & ( dom ( Fsq2 . m ) ) = E0) by A13;
hence ( dom ( Fsq2 . n ) ) = ( dom ( Fsq2 . m ) );
end;
then reconsider Fsq2 as  with_the_same_dom (Functional_Sequence of X,( REAL )) by MESFUNC8:def 2;
take Fsq2;
hereby
let n being (Element of ( NAT ));
( Fsq . n ) in ( Lp_Functions (M,k) ) by A1;
then A14: (ex FMF being (PartFunc of X,( REAL )) st (( Fsq . n ) = FMF & (ex ND being (Element of S) st (((( M . ( ND ` ) ) = ( 0 ) & ( dom FMF ) = ND) & FMF is_measurable_on ND) & ( ( abs FMF ) to_power k ) is_integrable_on M))));
then reconsider E2 = ( dom ( Fsq . n ) ) as (Element of S);
A15: ( E2 /\ E0 ) = E0 by A4,XBOOLE_1:28;
( R_EAL ( Fsq . n ) ) is_measurable_on E2 by A14,MESFUNC6:def 1;
then ( R_EAL ( Fsq . n ) ) is_measurable_on E0 by A4,MESFUNC1:30;
then ( Fsq . n ) is_measurable_on E0 by MESFUNC6:def 1;
then ( ( Fsq . n ) | E0 ) is_measurable_on E0 by A15,MESFUNC6:76;
then A16: ( Fsq2 . n ) is_measurable_on E0 by MESFUN9C:def 1;
A17: ( dom ( Fsq2 . n ) ) = E0 by A13;
(( dom ( ( abs ( Fsq . n ) ) to_power k ) ) = ( dom ( abs ( Fsq . n ) ) ) & ( dom ( ( abs ( Fsq2 . n ) ) to_power k ) ) = ( dom ( abs ( Fsq2 . n ) ) )) by MESFUN6C:def 4;
then A18: (( dom ( ( abs ( Fsq . n ) ) to_power k ) ) = ( dom ( Fsq . n ) ) & ( dom ( ( abs ( Fsq2 . n ) ) to_power k ) ) = ( dom ( Fsq2 . n ) )) by VALUED_1:def 11;
(for x being set holds (x in ( dom ( ( abs ( Fsq2 . n ) ) to_power k ) ) implies ( ( ( abs ( Fsq2 . n ) ) to_power k ) . x ) = ( ( ( abs ( Fsq . n ) ) to_power k ) . x )))
proof
let x being set;
assume A19: x in ( dom ( ( abs ( Fsq2 . n ) ) to_power k ) );
then reconsider x0 = x as (Element of X);
A20: x in ( dom ( ( abs ( Fsq . n ) ) to_power k ) ) by A17,A18,A15,A19,XBOOLE_0:def 4;
thus ( ( ( abs ( Fsq2 . n ) ) to_power k ) . x ) = ( ( ( abs ( Fsq2 . n ) ) . x0 ) to_power k ) by A19,MESFUN6C:def 4
.= ( ( abs ( ( Fsq2 . n ) . x0 ) ) to_power k ) by VALUED_1:18
.= ( ( abs ( ( ( Fsq . n ) | E0 ) . x0 ) ) to_power k ) by MESFUN9C:def 1
.= ( ( abs ( ( Fsq . n ) . x0 ) ) to_power k ) by A17,A18,A19,FUNCT_1:49
.= ( ( ( abs ( Fsq . n ) ) . x0 ) to_power k ) by VALUED_1:18
.= ( ( ( abs ( Fsq . n ) ) to_power k ) . x ) by A20,MESFUN6C:def 4;
end;
then ( ( ( abs ( Fsq . n ) ) to_power k ) | E0 ) = ( ( abs ( Fsq2 . n ) ) to_power k ) by A13,A15,A18,FUNCT_1:46;
then ( ( abs ( Fsq2 . n ) ) to_power k ) is_integrable_on M by A14,MESFUNC6:91;
hence A21: ( Fsq2 . n ) in ( Lp_Functions (M,k) ) by A16,A17,A12;
A22: (( Fsq . n ) in ( Sq . n ) & ( Sq . n ) = ( a.e-eq-class_Lp (( Fsq . n ),M,k) )) by A1;
reconsider EB = ( E0 ` ) as (Element of S) by MEASURE1:34;
( ( Fsq2 . n ) | ( EB ` ) ) = ( Fsq2 . n ) by A17,RELAT_1:68;
then ( ( Fsq2 . n ) | ( EB ` ) ) = ( ( Fsq . n ) | ( EB ` ) ) by MESFUN9C:def 1;
then A23: ( Fsq2 . n ) a.e.= ( Fsq . n ),M by A12,LPSPACE1:def 10;
hence ( Fsq2 . n ) in ( Sq . n ) by A22,A21,CKB53:1;
( a.e-eq-class_Lp (( Fsq2 . n ),M,k) ) = ( a.e-eq-class_Lp (( Fsq . n ),M,k) ) by CKB59:1,A23;
hence ( Sq . n ) = ( a.e-eq-class_Lp (( Fsq2 . n ),M,k) ) by A1;
hence (ex r being Real st ((( 0 ) <= r & r = ( Integral (M,( ( abs ( Fsq2 . n ) ) to_power k )) )) & ||. ( Sq . n ) .|| = ( r to_power ( 1 / k ) ))) by CKB79:1,CKB55:1,A21;
end;
end;
