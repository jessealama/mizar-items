environ
vocabularies FUNCT_1,COMPLEX1,XBOOLE_0,XXREAL_0,VALUED_1,NAT_1,PARTFUN1,SEQ_1,ARYTM_1,ORDINAL2,ZFMISC_1,NUMBERS,CARD_1,RELAT_1,SEQFUNC,ARYTM_3,PBOOLE,RLVECT_1,SUPINF_2,RSSPACE,STRUCT_0,ALGSTR_0,VECTSP10,REALSET1,FUNCOP_1,PRE_TOPC,LPSPACE1,BINOP_1,NORMSP_1,PROB_1,MEASURE1,MEASURE2,MEASURE6,MESFUNC1,TARSKI,RFUNCT_3,SETFAM_1,MESFUNC5,MESFUNC8,IDEAL_1,SUBSET_1,FUNCT_7,PREPOWER,POWER,LPSPACE2,RSSPACE3,SEQ_2,SERIES_1,REAL_1,INTEGRA5,ORDINAL1,XREAL_0,VALUED_0,CARD_3,REWRITE1,NEWTON,XXREAL_2,METRIC_1,RELAT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,COMPLEX1,XXREAL_0,XREAL_0,SUPINF_2,EXTREAL1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,VALUED_1,RFUNCT_3,BINOP_1,REAL_1,NAT_1,STRUCT_0,ALGSTR_0,RLVECT_1,IDEAL_1,SETFAM_1,PRE_TOPC,NORMSP_0,NORMSP_1,PROB_1,ASYMPT_0,MEASURE1,MEASURE2,MEASURE3,MEASURE6,SEQFUNC,MESFUNC1,MESFUNC2,MESFUNC5,MESFUNC6,FUNCT_7,MESFUNC8,NEWTON,PREPOWER,POWER,MESFUN6C,SEQ_1,SEQ_2,RECDEF_1,SERIES_1,RSSPACE3,LOPBAN_1,MESFUN7C,MESFUN9C,LPSPACE1;
definitions TARSKI,STRUCT_0,ALGSTR_0,RLVECT_1,NORMSP_1,MEASURE6,MESFUN7C,MESFUNC5,MESFUNC6,SUBSET_1,LPSPACE1,XBOOLE_0,VALUED_1,RELAT_1,XCMPLX_0,NORMSP_0;
theorems FUNCT_1,FUNCT_2,PARTFUN1,COMPLEX1,MESFUN9C,RINFSUP2,SEQ_2,SETFAM_1,LOPBAN_1,PREPOWER,XBOOLE_0,TARSKI,RELAT_1,SEQM_3,VALUED_1,SERIES_1,IDEAL_1,RLVECT_1,FUNCOP_1,XBOOLE_1,BINOP_1,SUPINF_2,MESFUNC5,MESFUNC2,EXTREAL1,MEASURE1,MESFUNC6,RFUNCT_1,XXREAL_0,ABSVALUE,MESFUNC1,MEASURE2,EXTREAL2,RSSPACE3,NORMSP_1,FUNCT_7,XREAL_1,HOLDER_1,POWER,XREAL_0,SUBSET_1,LPSPACE1,MESFUN6C,MESFUN7C,MESFUNC8,ORDINAL1,NAT_1,XCMPLX_0,XCMPLX_1,VALUED_0,XXREAL_3,SEQFUNC,MESFUNC9,SEQ_4,RELSET_1,COMSEQ_3,SEQ_1,SERIES_3,LOPBAN_3,NAGATA_2,NORMSP_0,CKB1;
schemes NAT_1,RECDEF_1,BINOP_1,FUNCT_2,SEQ_1,SEQFUNC;
registrations ORDINAL1,RELSET_1,NUMBERS,MEMBERED,VALUED_0,NAT_1,SUBSET_1,PARTFUN1,RLVECT_1,STRUCT_0,NORMSP_1,MEASURE1,SEQ_4,SEQ_2,MESFUN6C,MESFUNC8,LPSPACE1,XCMPLX_0,XREAL_0,XXREAL_0,VALUED_1,FUNCT_2,MESFUN7C,NORMSP_0;
constructors EXTREAL1,REAL_1,IDEAL_1,NEWTON,MEASURE3,MEASURE6,MESFUNC2,MESFUNC6,MESFUNC9,SEQ_1,MESFUN6C,MESFUN7C,MESFUN9C,RECDEF_1,SEQ_2,EXTREAL2,RINFSUP2,FUNCT_7,SERIES_1,PREPOWER,ASYMPT_0,LPSPACE1,SUPINF_1,SEQFUNC,MESFUNC5,RSSPACE3,LOPBAN_1,MESFUNC1,RELSET_1,BINOP_2;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
theorem
Th2: (for X being non empty set holds (for S being (SigmaField of X) holds (for M being (sigma_Measure of S) holds (for A being (Element of S) holds (for f being (PartFunc of X,( ExtREAL )) holds (((A = ( dom f ) & f is_measurable_on A) & f is  nonnegative) implies (( Integral (M,f) ) in ( REAL ) iff f is_integrable_on M)))))))
proof
let X being non empty set;
let S being (SigmaField of X);
let M being (sigma_Measure of S);
let A being (Element of S);
let f being (PartFunc of X,( ExtREAL ));
assume A1: ((A = ( dom f ) & f is_measurable_on A) & f is  nonnegative);
A2:now
assume f is_integrable_on M;
then (( -infty ) < ( Integral (M,f) ) & ( Integral (M,f) ) < ( +infty )) by MESFUNC5:96;
hence ( Integral (M,f) ) in ( REAL ) by XXREAL_0:14;
end;
now
assume A3: ( Integral (M,f) ) in ( REAL );
A4: (( dom ( max- f ) ) = A & ( max- f ) is_measurable_on A) by A1,MESFUNC2:26,MESFUNC2:def 3;
A5: (( dom ( max+ f ) ) = A & ( max+ f ) is_measurable_on A) by A1,MESFUNC2:25,MESFUNC2:def 2;
(for x being (Element of X) holds ( 0 ) <= ( ( max+ f ) . x )) by MESFUNC2:12;
then ( max+ f ) is  nonnegative by SUPINF_2:39;
then A6: ( Integral (M,( max+ f )) ) = ( integral+ (M,( max+ f )) ) by A5,MESFUNC5:88;
A7: (for x being (Element of X) holds (x in ( dom f ) implies ( ( max+ f ) . x ) = ( f . x )))
proof
let x being (Element of X);
A8: ( f . x ) >= ( 0 ) by A1,SUPINF_2:39;
assume x in ( dom f );
then ( ( max+ f ) . x ) = ( max (( f . x ),( 0 )) ) by A1,A5,MESFUNC2:def 2;
hence thesis by A8,XXREAL_0:def 10;
end;
then ( max+ f ) = f by A1,A5,PARTFUN1:5;
then A9: ( Integral (M,( max+ f )) ) < ( +infty ) by A3,XXREAL_0:9;
(for x being (Element of X) holds ( 0 ) <= ( ( max- f ) . x )) by MESFUNC2:13;
then ( max- f ) is  nonnegative by SUPINF_2:39;
then A10: ( Integral (M,( max- f )) ) = ( integral+ (M,( max- f )) ) by A4,MESFUNC5:88;
(for x being (Element of X) holds (x in ( dom ( max- f ) ) implies ( 0 ) = ( ( max- f ) . x )))
proof
let x being (Element of X);
assume x in ( dom ( max- f ) );
( ( max+ f ) . x ) = ( f . x ) by A1,A5,A7,PARTFUN1:5;
hence ( 0 ) = ( ( max- f ) . x ) by MESFUNC2:19;
end;
then ( Integral (M,( max- f )) ) = ( 0 ) by A4,LPSPACE1:22;
hence f is_integrable_on M by A1,A6,A9,A10,MESFUNC5:def 17;
end;
hence thesis by A2;
end;
