environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,ZFMISC_1,TARSKI,XXREAL_0,MARGREL1,MCART_1,ARYTM_3,NAT_1,FINSEQ_1,RELAT_1,ORDINAL4,CARD_1,REALSET1,XBOOLEAN,BVFUNC_2,ZF_LANG,CLASSES2,FUNCT_1,FUNCOP_1,RCOMP_1,QC_LANG1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XXREAL_0,MCART_1,NAT_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,FUNCOP_1,FINSEQ_1,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB16,CKB17,CKB18,CKB20,CKB21,CKB22,CKB23,CKB25,CKB26,CKB30,CKB32,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44;
definitions TARSKI,XBOOLE_0,FINSEQ_1,CARD_1,CKB3,CKB7,CKB8,CKB9,CKB10,CKB17,CKB18,CKB26,CKB30,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44;
theorems ZFMISC_1,SUBSET_1,TARSKI,ENUMSET1,FINSEQ_1,MCART_1,NAT_1,FUNCT_1,FUNCT_2,RELSET_1,XBOOLE_0,XBOOLE_1,FUNCOP_1,XXREAL_0,ORDINAL1,CARD_1,CKB1,CKB2,CKB3,CKB5,CKB7,CKB8,CKB9,CKB10,CKB15,CKB17,CKB18,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48;
schemes NAT_1,FUNCT_2,CLASSES1,XBOOLE_0,CKB40;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,XREAL_0,FINSEQ_1,CARD_1,CKB4,CKB11,CKB12,CKB13,CKB14,CKB19,CKB24;
constructors ENUMSET1,FUNCOP_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,RELSET_1,CKB3,CKB7,CKB8,CKB9,CKB10,CKB17,CKB18,CKB26,CKB30,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve F for (Element of ( QC-WFF ));
reserve G for (Element of ( QC-WFF ));
reserve s for FinSequence;
theorem
Th37: (( @ F ) = ( ( @ G ) ^ s ) implies ( @ F ) = ( @ G ))
proof
defpred P[ set ]
 means
(for F holds (for G holds (for s holds ((( len ( @ F ) ) = $1 & ( @ F ) = ( ( @ G ) ^ s )) implies ( @ F ) = ( @ G )))));
A1: (for n being Nat holds ((for k being Nat holds (k < n implies P[ k ])) implies P[ n ]))
proof
let n being Nat;
assume that
A2: (for k being Nat holds (k < n implies (for F holds (for G holds (for s holds ((( len ( @ F ) ) = k & ( @ F ) = ( ( @ G ) ^ s )) implies ( @ F ) = ( @ G )))))));
let F being (Element of ( QC-WFF )),G being (Element of ( QC-WFF ));
let s being FinSequence;
assume that
A3: ( len ( @ F ) ) = n
and
A4: ( @ F ) = ( ( @ G ) ^ s );
(( dom ( @ G ) ) = ( Seg ( len ( @ G ) ) ) & 1 <= ( len ( @ G ) )) by CKB46:1,FINSEQ_1:def 3;
then 1 in ( dom ( @ G ) );
then A5: ( ( @ F ) . 1 ) = ( ( @ G ) . 1 ) by A4,FINSEQ_1:def 7;
A6: ( len ( ( @ G ) ^ s ) ) = ( ( len ( @ G ) ) + ( len s ) ) by FINSEQ_1:22;
now
per cases  by CKB45:1;
suppose A7: F = ( VERUM );

A8: 1 <= ( len ( @ G ) ) by CKB46:1;
A9: ( len ( @ F ) ) = 1 by A7,FINSEQ_1:39;
then ( len ( @ G ) ) <= 1 by A4,A6,NAT_1:11;
then ( 1 + ( 0 ) ) = ( 1 + ( len s ) ) by A4,A6,A9,A8,XXREAL_0:1;
then s = ( {} );
hence thesis by A4,FINSEQ_1:34;
end;
suppose F is  atomic;

then consider k being (Element of ( NAT )),P being (QC-pred_symbol of k),ll being (QC-variable_list of k) such that A10: F = ( P ! ll ) by CKB41:def 1;
A11: ( @ F ) = ( <* P *> ^ ll ) by A10,CKB34:1;
then A12: ( ( @ G ) . 1 ) = P by A5,FINSEQ_1:41;
then G is  atomic by CKB48:1;
then consider k9 being (Element of ( NAT )),P9 being (QC-pred_symbol of k9),ll9 being (QC-variable_list of k9) such that A13: G = ( P9 ! ll9 ) by CKB41:def 1;
A14: ( @ G ) = ( <* P9 *> ^ ll9 ) by A13,CKB34:1;
then A15: ( ( @ G ) . 1 ) = P9 by FINSEQ_1:41;
then ( <* P *> ^ ll ) = ( <* P *> ^ ( ll9 ^ s ) ) by A4,A11,A12,A14,FINSEQ_1:32;
then ll = ( ll9 ^ s ) by FINSEQ_1:33;
then A16: ( ( len ll ) + ( 0 ) ) = ( ( len ll9 ) + ( len s ) ) by FINSEQ_1:22;
( len ll9 ) = k9 by CARD_1:def 7
.= ( the_arity_of P ) by A12,A15,CKB47:1
.= k by CKB47:1
.= ( len ll ) by CARD_1:def 7;
then s = ( {} ) by A16;
hence thesis by A4,FINSEQ_1:34;
end;
suppose F is  negative;

then consider p being (Element of ( QC-WFF )) such that A17: F = ( 'not' p ) by CKB42:def 1;
( ( @ F ) . 1 ) = [ 1,( 0 ) ] by A17,FINSEQ_1:41;
then ( ( ( @ G ) . 1 ) `1 ) = 1 by A5,MCART_1:7;
then G is  negative by CKB48:1;
then consider p9 being (Element of ( QC-WFF )) such that A18: G = ( 'not' p9 ) by CKB42:def 1;
( <* [ 1,( 0 ) ] *> ^ ( @ p ) ) = ( <* [ 1,( 0 ) ] *> ^ ( ( @ p9 ) ^ s ) ) by A4,A17,A18,FINSEQ_1:32;
then A19: ( @ p ) = ( ( @ p9 ) ^ s ) by FINSEQ_1:33;
( len ( @ F ) ) = ( ( len ( @ p ) ) + ( len <* [ 1,( 0 ) ] *> ) ) by A17,FINSEQ_1:22
.= ( ( len ( @ p ) ) + 1 ) by FINSEQ_1:40;
then ( len ( @ p ) ) < ( len ( @ F ) ) by NAT_1:13;
then ( @ p ) = ( @ p9 ) by A2,A3,A19;
then ( ( @ p9 ) ^ ( {} ) ) = ( ( @ p9 ) ^ s ) by A19,FINSEQ_1:34;
then s = ( {} ) by FINSEQ_1:33;
hence thesis by A4,FINSEQ_1:34;
end;
suppose F is  conjunctive;

then consider p being (Element of ( QC-WFF )),q being (Element of ( QC-WFF )) such that A20: F = ( p '&' q ) by CKB43:def 1;
A21: ( @ F ) = ( <* [ 2,( 0 ) ] *> ^ ( ( @ p ) ^ ( @ q ) ) ) by A20,FINSEQ_1:32;
then A22: ( len ( @ F ) ) = ( ( len ( ( @ p ) ^ ( @ q ) ) ) + ( len <* [ 2,( 0 ) ] *> ) ) by FINSEQ_1:22
.= ( ( len ( ( @ p ) ^ ( @ q ) ) ) + 1 ) by FINSEQ_1:40;
then A23: ( len ( @ F ) ) = ( ( ( len ( @ p ) ) + ( len ( @ q ) ) ) + 1 ) by FINSEQ_1:22;
( ( @ F ) . 1 ) = [ 2,( 0 ) ] by A21,FINSEQ_1:41;
then ( ( ( @ G ) . 1 ) `1 ) = 2 by A5,MCART_1:7;
then G is  conjunctive by CKB48:1;
then consider p9 being (Element of ( QC-WFF )),q9 being (Element of ( QC-WFF )) such that A24: G = ( p9 '&' q9 ) by CKB43:def 1;
A25: ( len ( @ p9 ) ) <= ( ( len ( @ p9 ) ) + ( len ( ( @ q9 ) ^ s ) ) ) by NAT_1:11;
A26: ( @ G ) = ( <* [ 2,( 0 ) ] *> ^ ( ( @ p9 ) ^ ( @ q9 ) ) ) by A24,FINSEQ_1:32;
then ( <* [ 2,( 0 ) ] *> ^ ( ( @ p ) ^ ( @ q ) ) ) = ( <* [ 2,( 0 ) ] *> ^ ( ( ( @ p9 ) ^ ( @ q9 ) ) ^ s ) ) by A4,A21,FINSEQ_1:32;
then A27: ( ( @ p ) ^ ( @ q ) ) = ( ( ( @ p9 ) ^ ( @ q9 ) ) ^ s ) by FINSEQ_1:33
.= ( ( @ p9 ) ^ ( ( @ q9 ) ^ s ) ) by FINSEQ_1:32;
then ( len ( @ F ) ) = ( ( ( len ( @ p9 ) ) + ( len ( ( @ q9 ) ^ s ) ) ) + 1 ) by A22,FINSEQ_1:22;
then A28: ( len ( @ p9 ) ) < ( len ( @ F ) ) by A25,NAT_1:13;
( len ( @ q ) ) <= ( ( len ( @ p ) ) + ( len ( @ q ) ) ) by NAT_1:11;
then A29: ( len ( @ q ) ) < ( len ( @ F ) ) by A23,NAT_1:13;
( len ( @ p ) ) <= ( ( len ( @ p ) ) + ( len ( @ q ) ) ) by NAT_1:11;
then A30: ( len ( @ p ) ) < ( len ( @ F ) ) by A23,NAT_1:13;
(( len ( @ p ) ) <= ( len ( @ p9 ) ) or ( len ( @ p9 ) ) <= ( len ( @ p ) ));
then consider a being FinSequence,b being FinSequence,c being FinSequence,d being FinSequence such that A31: ((a = ( @ p ) & b = ( @ p9 )) or (a = ( @ p9 ) & b = ( @ p ))) and A32: (( len a ) <= ( len b ) & ( a ^ c ) = ( b ^ d )) by A27;
(ex t being FinSequence st ( a ^ t ) = b) by A32,FINSEQ_1:47;
then A33: ( @ p ) = ( @ p9 ) by A2,A3,A31,A30,A28;
then ( @ q ) = ( ( @ q9 ) ^ s ) by A27,FINSEQ_1:33;
hence thesis by A2,A3,A21,A26,A33,A29;
end;
suppose F is  universal;

then consider x being bound_QC-variable,p being (Element of ( QC-WFF )) such that A34: F = ( All (x,p) ) by CKB44:def 1;
A35: ( @ F ) = ( <* [ 3,( 0 ) ] *> ^ ( <* x *> ^ ( @ p ) ) ) by A34,FINSEQ_1:32;
then ( len ( @ F ) ) = ( ( len ( <* x *> ^ ( @ p ) ) ) + ( len <* [ 3,( 0 ) ] *> ) ) by FINSEQ_1:22
.= ( ( len ( <* x *> ^ ( @ p ) ) ) + 1 ) by FINSEQ_1:40
.= ( ( ( len <* x *> ) + ( len ( @ p ) ) ) + 1 ) by FINSEQ_1:22
.= ( ( 1 + ( len ( @ p ) ) ) + 1 ) by FINSEQ_1:40;
then ( ( len ( @ p ) ) + 1 ) <= ( len ( @ F ) ) by NAT_1:13;
then A36: ( len ( @ p ) ) < ( len ( @ F ) ) by NAT_1:13;
( ( @ F ) . 1 ) = [ 3,( 0 ) ] by A35,FINSEQ_1:41;
then ( ( ( @ G ) . 1 ) `1 ) = 3 by A5,MCART_1:7;
then G is  universal by CKB48:1;
then consider x9 being bound_QC-variable,p9 being (Element of ( QC-WFF )) such that A37: G = ( All (x9,p9) ) by CKB44:def 1;
( ( <* [ 3,( 0 ) ] *> ^ <* x *> ) ^ ( @ p ) ) = ( ( <* [ 3,( 0 ) ] *> ^ ( <* x9 *> ^ ( @ p9 ) ) ) ^ s ) by A4,A34,A37,FINSEQ_1:32
.= ( <* [ 3,( 0 ) ] *> ^ ( ( <* x9 *> ^ ( @ p9 ) ) ^ s ) ) by FINSEQ_1:32;
then A38: ( <* x *> ^ ( @ p ) ) = ( ( <* x9 *> ^ ( @ p9 ) ) ^ s ) by A34,A35,FINSEQ_1:33
.= ( <* x9 *> ^ ( ( @ p9 ) ^ s ) ) by FINSEQ_1:32;
then A39: x = ( ( <* x9 *> ^ ( ( @ p9 ) ^ s ) ) . 1 ) by FINSEQ_1:41
.= x9 by FINSEQ_1:41;
then ( @ p ) = ( ( @ p9 ) ^ s ) by A38,FINSEQ_1:33;
hence thesis by A2,A3,A34,A37,A39,A36;
end;
end;
hence thesis;
end;
A40: (for n being Nat holds P[ n ]) from NAT_1:sch 4(A1);
( len ( @ F ) ) = ( len ( @ F ) );
hence thesis by A40;
end;
