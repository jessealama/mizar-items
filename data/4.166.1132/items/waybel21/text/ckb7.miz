environ
vocabularies WAYBEL_0,LATTICES,FUNCT_1,FINSET_1,SUBSET_1,STRUCT_0,FUNCOP_1,YELLOW_0,XBOOLE_0,RELAT_1,ORDINAL2,TARSKI,SEQM_3,XXREAL_0,LATTICE3,ORDERS_2,REWRITE1,CAT_1,FUNCT_3,EQREL_1,WELLORD1,WAYBEL_5,PRE_TOPC,ORDINAL1,CONNSP_2,TOPS_1,RCOMP_1,RELAT_2,WAYBEL_9,ARYTM_0,WAYBEL19,YELLOW_6,WAYBEL11,CANTOR_1,YELLOW_9,PROB_1,YELLOW_2,PRELAMB,WAYBEL21;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,TOLER_1,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_1,CONNSP_2,COMPTS_1,CANTOR_1,ORDERS_2,LATTICE3,ORDERS_3,YELLOW_0,YELLOW_2,WAYBEL_0,WAYBEL_3,WAYBEL_5,YELLOW_6,YELLOW_7,WAYBEL_9,YELLOW_9,WAYBEL11,WAYBEL17,WAYBEL19,CKB1;
definitions TARSKI,LATTICE3,YELLOW_0,WAYBEL_0,WAYBEL_1,YELLOW_6,XBOOLE_0,WELLORD1,RELAT_1,STRUCT_0,CKB1;
theorems YELLOW_0,WAYBEL_0,WAYBEL_6,PRE_TOPC,FUNCOP_1,RELAT_1,FUNCT_2,TOPS_1,TOPS_2,ZFMISC_1,CONNSP_2,WAYBEL_9,YELLOW_9,FUNCT_1,WAYBEL_1,YELLOW_6,WAYBEL19,SETWISEO,FUNCT_3,TARSKI,LATTICE3,WAYBEL11,WAYBEL17,ORDERS_2,YELLOW_2,WEIERSTR,COMPTS_1,WAYBEL10,YELLOW_7,YELLOW_4,WAYBEL20,RELSET_1,XBOOLE_0,XBOOLE_1,CKB1,CKB4,CKB5,CKB6;
schemes FRAENKEL,FINSET_1,LATTICE3,XBOOLE_0;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FINSET_1,STRUCT_0,PRE_TOPC,LATTICE3,YELLOW_0,WAYBEL_0,WAYBEL_2,YELLOW_6,WAYBEL_9,WAYBEL10,WAYBEL17,YELLOW_9,WAYBEL19,SUBSET_1,TOPS_1,RELSET_1,CKB2,CKB3;
constructors TOLER_1,TOPS_1,NATTRA_1,BORSUK_1,URYSOHN1,CANTOR_1,TOPS_2,ORDERS_3,YELLOW_2,WAYBEL_3,WAYBEL17,YELLOW_9,WAYBEL19,COMPTS_1,WAYBEL_2,CKB1;
requirements SUBSET,BOOLE;
begin
theorem
Th4: (for S,T being Semilattice holds (for f being (Function of S,T) holds ((f is  meet-preserving & (for X being  filtered non empty (Subset of S) holds f preserves_inf_of X)) implies (for X being non empty (Subset of S) holds f preserves_inf_of X))))
proof
let S being Semilattice,T being Semilattice;
let f being (Function of S,T);
assume that
A1: f is  meet-preserving
and
A2: (for X being non empty  filtered (Subset of S) holds f preserves_inf_of X);
let X being non empty (Subset of S);
assume that
A3:  ex_inf_of X,S;
defpred P[ set ]
 means
(ex Y being non empty  finite (Subset of X) st ( ex_inf_of Y,S & $1 = ( "/\" (Y,S) )));
consider Z being set such that A4: (for x being set holds (x in Z iff (x in (the carrier of S) & P[ x ]))) from XBOOLE_0:sch 1;
set a = the (Element of X);
reconsider a9 = a as (Element of S);
A5:  ex_inf_of { a },S by YELLOW_0:38;
A6: ( inf { a9 } ) = a by YELLOW_0:39;
Z c= (the carrier of S)
proof
let x being set;
thus thesis by A4;
end;
then reconsider Z as non empty (Subset of S) by A4,A5,A6;
A7:now
let Y being  finite (Subset of X);
Y is (Subset of S) by XBOOLE_1:1;
hence (Y <> ( {} ) implies  ex_inf_of Y,S) by YELLOW_0:55;
end;
A8:now
let Y being  finite (Subset of X);
reconsider Y9 = Y as (Subset of S) by XBOOLE_1:1;
assume A9: Y <> ( {} );
then  ex_inf_of Y9,S by YELLOW_0:55;
hence ( "/\" (Y,S) ) in Z by A4,A9;
end;
A10:now
let x being (Element of S);
assume x in Z;
then (ex Y being non empty  finite (Subset of X) st ( ex_inf_of Y,S & x = ( "/\" (Y,S) ))) by A4;
hence (ex Y being  finite (Subset of X) st ( ex_inf_of Y,S & x = ( "/\" (Y,S) )));
end;
then A11: Z is  filtered by A7,A8,WAYBEL_0:56;
A12:  ex_inf_of Z,S by A3,A7,A8,A10,WAYBEL_0:58;
A13: f preserves_inf_of Z by A2,A11;
then A14:  ex_inf_of ( f .: Z ),T by A12,WAYBEL_0:def 30;
A15: ( inf ( f .: Z ) ) = ( f . ( inf Z ) ) by A12,A13,WAYBEL_0:def 30;
A16: ( inf Z ) = ( inf X ) by A3,A7,A8,A10,WAYBEL_0:59;
X c= Z
proof
let x being set;
assume A17: x in X;
then reconsider Y = { x } as  finite (Subset of X) by ZFMISC_1:31;
reconsider x as (Element of S) by A17;
Y is (Subset of S) by XBOOLE_1:1;
then A18:  ex_inf_of Y,S by YELLOW_0:55;
x = ( "/\" (Y,S) ) by YELLOW_0:39;
hence thesis by A4,A18;
end;
then A19: ( f .: X ) c= ( f .: Z ) by RELAT_1:123;
A20: ( f .: Z ) is_>=_than ( f . ( inf X ) ) by A14,A15,A16,YELLOW_0:31;
A21: ( f .: X ) is_>=_than ( f . ( inf X ) )
proof
let x being (Element of T);
assume x in ( f .: X );
hence thesis by A19,A20,LATTICE3:def 8;
end;
A22:now
let b being (Element of T);
assume A23: ( f .: X ) is_>=_than b;
( f .: Z ) is_>=_than b
proof
let a being (Element of T);
assume a in ( f .: Z );
then consider x being set such that x in ( dom f ) and A24: x in Z and A25: a = ( f . x ) by FUNCT_1:def 6;
consider Y being non empty  finite (Subset of X) such that A26:  ex_inf_of Y,S and A27: x = ( "/\" (Y,S) ) by A4,A24;
reconsider Y as (Subset of S) by XBOOLE_1:1;
A28: ( f .: Y ) c= ( f .: X ) by RELAT_1:123;
A29: f preserves_inf_of Y by A1,CKB5:1;
A30: b is_<=_than ( f .: Y ) by A23,A28,YELLOW_0:9;
A31: a = ( "/\" (( f .: Y ),T) ) by A25,A26,A27,A29,WAYBEL_0:def 30;
 ex_inf_of ( f .: Y ),T by A26,A29,WAYBEL_0:def 30;
hence thesis by A30,A31,YELLOW_0:def 10;
end;
hence ( f . ( inf X ) ) >= b by A14,A15,A16,YELLOW_0:31;
end;
hence  ex_inf_of ( f .: X ),T by A21,YELLOW_0:16;
hence ( inf ( f .: X ) ) = ( f . ( inf X ) ) by A21,A22,YELLOW_0:def 10;
end;
