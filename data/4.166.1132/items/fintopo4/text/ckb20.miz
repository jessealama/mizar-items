environ
vocabularies NUMBERS,XBOOLE_0,ORDERS_2,SUBSET_1,CONNSP_1,FIN_TOPO,XXREAL_0,FINTOPO3,TARSKI,ARYTM_3,ARYTM_1,CARD_1,RELAT_2,FUNCT_1,STRUCT_0,RELAT_1,NAT_1,FINSEQ_1,ZFMISC_1,FINTOPO4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,FUNCT_1,RELSET_1,FUNCT_2,FINSEQ_1,STRUCT_0,ORDERS_2,FIN_TOPO,FINTOPO3,NAT_D,ENUMSET1,LIMFUNC1,CKB1,CKB15;
definitions TARSKI,FIN_TOPO,FINSEQ_1,CKB1,CKB15;
theorems TARSKI,FINSEQ_1,NAT_1,FUNCT_1,FUNCT_2,XBOOLE_0,XBOOLE_1,FIN_TOPO,FINTOPO3,RELAT_1,ENUMSET1,XREAL_1,XXREAL_0,ORDINAL1,RELSET_1,XREAL_0,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes NAT_1,FUNCT_2,RELSET_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,XXREAL_0,XREAL_0,NAT_1,STRUCT_0,FIN_TOPO,ORDINAL1,FINSEQ_1;
constructors ENUMSET1,NAT_1,EQREL_1,LIMFUNC1,NAT_D,FIN_TOPO,FINTOPO3,FINSEQ_1,RELSET_1,CKB1,CKB15;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
definition
let n being Nat;
func Nbdl1 n -> (Relation of ( Seg n ))
means
:Def3: (for i being (Element of ( NAT )) holds (i in ( Seg n ) implies ( Im (it,i) ) = { i,( max (( i -' 1 ),1) ),( min (( i + 1 ),n) ) }));
existence
proof
deffunc F(Nat) = { $1,( max (( $1 -' 1 ),1) ),( min (( $1 + 1 ),n) ) };
A1: (for x being (Element of ( NAT )) holds (x in ( Seg n ) implies F(x) c= ( Seg n )))
proof
let i being (Element of ( NAT ));
set y0 = { i,( max (( i -' 1 ),1) ),( min (( i + 1 ),n) ) };
assume A2: i in ( Seg n );
then ( Seg n ) <> ( {} );
then n > ( 0 );
then A3: ( ( 0 ) + 1 ) <= n by NAT_1:13;
thus y0 c= ( Seg n )
proof
let z1 being set;
assume A4: z1 in y0;
then ((z1 = i or z1 = ( max (( i -' 1 ),1) )) or z1 = ( min (( i + 1 ),n) )) by ENUMSET1:def 1;
then reconsider z2 = z1 as (Element of ( NAT )) by ORDINAL1:def 12;
A5:now
(( i -' 1 ) <= i & i <= n) by A2,FINSEQ_1:1,NAT_D:35;
then ( i -' 1 ) <= n by XXREAL_0:2;
then A6: (1 <= ( max (( i -' 1 ),1) ) & ( max (( i -' 1 ),1) ) <= n) by A3,XXREAL_0:28,XXREAL_0:30;
assume z1 = ( max (( i -' 1 ),1) );
hence thesis by A6;
end;
now
1 <= ( i + 1 ) by NAT_1:12;
then A7: 1 <= ( min (( i + 1 ),n) ) by A3,XXREAL_0:20;
A8: ( min (( i + 1 ),n) ) <= n by XXREAL_0:17;
assume z1 = ( min (( i + 1 ),n) );
hence z2 in ( Seg n ) by A7,A8;
end;
hence thesis by A2,A4,A5,ENUMSET1:def 1;
end;

end;
consider f being (Relation of ( Seg n )) such that A9: (for x3 being (Element of ( NAT )) holds (x3 in ( Seg n ) implies ( Im (f,x3) ) = F(x3))) from RELSET_1:sch 3(A1);
take f;
thus thesis by A9;
end;
uniqueness
proof
thus (for f1,f2 being (Relation of ( Seg n )) holds (((for i being (Element of ( NAT )) holds (i in ( Seg n ) implies ( Im (f1,i) ) = { i,( max (( i -' 1 ),1) ),( min (( i + 1 ),n) ) })) & (for i being (Element of ( NAT )) holds (i in ( Seg n ) implies ( Im (f2,i) ) = { i,( max (( i -' 1 ),1) ),( min (( i + 1 ),n) ) }))) implies f1 = f2))
proof
let f1 being (Relation of ( Seg n )),f2 being (Relation of ( Seg n ));
assume that
A10: (for i being (Element of ( NAT )) holds (i in ( Seg n ) implies ( Im (f1,i) ) = { i,( max (( i -' 1 ),1) ),( min (( i + 1 ),n) ) }))
and
A11: (for i being (Element of ( NAT )) holds (i in ( Seg n ) implies ( Im (f2,i) ) = { i,( max (( i -' 1 ),1) ),( min (( i + 1 ),n) ) }));
(for x being set holds (x in ( Seg n ) implies ( Im (f1,x) ) = ( Im (f2,x) )))
proof
let x being set;
assume A12: x in ( Seg n );
then reconsider i2 = x as (Element of ( NAT ));
( Im (f1,i2) ) = { i2,( max (( i2 -' 1 ),1) ),( min (( i2 + 1 ),n) ) } by A10,A12;
hence thesis by A11,A12;
end;
hence thesis by RELSET_1:31;
end;

end;
end;
