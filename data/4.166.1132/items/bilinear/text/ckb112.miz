environ
vocabularies STRUCT_0,VECTSP_1,FUNCT_1,ZFMISC_1,XBOOLE_0,FUNCOP_1,SUPINF_2,ALGSTR_0,ARYTM_3,SUBSET_1,RELAT_1,ARYTM_1,RLVECT_1,MESFUNC1,BINOP_1,FUNCT_5,TARSKI,HAHNBAN,HAHNBAN1,MSSUBFAM,UNIALG_1,LATTICES,RLSUB_1,VECTSP10,GROUP_6,RELAT_2,SPPOL_1,BILINEAR;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,FUNCT_1,RELAT_1,STRUCT_0,ALGSTR_0,RLVECT_1,BINOP_1,GROUP_1,VECTSP_1,RELSET_1,FUNCT_2,FUNCOP_1,FUNCT_5,VECTSP_4,HAHNBAN1,VECTSP10,GRCAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB17,CKB18,CKB31,CKB38,CKB39,CKB40,CKB41,CKB48,CKB92,CKB93,CKB94,CKB106,CKB107,CKB108,CKB109;
definitions HAHNBAN1,TARSKI,XBOOLE_0,VECTSP_4,BINOP_1,STRUCT_0,GRCAT_1,FUNCT_2,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB17,CKB18,CKB31,CKB38,CKB39,CKB40,CKB41,CKB92,CKB93,CKB94,CKB106,CKB107,CKB108,CKB109;
theorems FUNCT_5,XBOOLE_1,FUNCT_2,HAHNBAN1,VECTSP_1,FUNCOP_1,RLVECT_1,VECTSP_4,TARSKI,FUNCT_1,REALSET1,ZFMISC_1,DOMAIN_1,VECTSP10,GROUP_1,BINOP_1,STRUCT_0,VECTSP_2,GRCAT_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB103,CKB104,CKB105,CKB106,CKB107,CKB108,CKB109;
schemes BINOP_1;
registrations SUBSET_1,RELSET_1,STRUCT_0,VECTSP_1,VECTSP_4,HAHNBAN1,VECTSP10,FUNCT_2,ZFMISC_1,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB95,CKB96,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB110,CKB111;
constructors BORSUK_1,VECTSP10,FUNCOP_1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB9,CKB17,CKB18,CKB31,CKB38,CKB39,CKB40,CKB41,CKB92,CKB93,CKB94,CKB106,CKB107,CKB108,CKB109;
requirements SUBSET,BOOLE;
begin
definition
let K being  add-associative  right_zeroed  right_complementable  Abelian  associative  well-unital  distributive non  empty doubleLoopStr;
let V being (VectSp of K);
let W being (VectSp of K);
let f being (bilinear-Form of V,W);
func QForm f -> (bilinear-Form of ( VectQuot (V,( LKer f )) ),( VectQuot (W,( RKer f )) )) means 
:Def23: (for A being (Vector of ( VectQuot (V,( LKer f )) )) holds (for B being (Vector of ( VectQuot (W,( RKer f )) )) holds (for v being (Vector of V) holds (for w being (Vector of W) holds ((A = ( v + ( LKer f ) ) & B = ( w + ( RKer f ) )) implies ( it . (A,B) ) = ( f . (v,w) ))))));
existence
proof
set L = ( LKer f );
set vq = ( VectQuot (V,L) );
set Cv = ( CosetSet (V,L) );
set aCv = ( addCoset (V,L) );
set mCv = ( lmultCoset (V,L) );
set R = ( RKer f );
set wq = ( VectQuot (W,R) );
set Cw = ( CosetSet (W,R) );
set aCw = ( addCoset (W,R) );
set mCw = ( lmultCoset (W,R) );
defpred P[ set,set,set ]
 means
(for v being (Vector of V) holds (for w being (Vector of W) holds (($1 = ( v + L ) & $2 = ( w + R )) implies $3 = ( f . (v,w) ))));
A1:now
let A being (Vector of vq);
let B being (Vector of wq);
consider a being (Vector of V) such that A2: A = ( a + L ) by VECTSP10:22;
consider b being (Vector of W) such that A3: B = ( b + R ) by VECTSP10:22;
take y = ( f . (a,b) );
now
let a1 being (Vector of V);
let b1 being (Vector of W);
assume A = ( a1 + L );
then a in ( a1 + L ) by A2,VECTSP_4:44;
then consider vv being (Vector of V) such that A4: vv in L and A5: a = ( a1 + vv ) by VECTSP_4:42;
vv in (the carrier of L) by A4,STRUCT_0:def 5;
then vv in ( leftker f ) by CKB106:def 1;
then A6: (ex aa being (Vector of V) st (aa = vv & (for w0 being (Vector of W) holds ( f . (aa,w0) ) = ( 0. K ))));
assume B = ( b1 + R );
then b in ( b1 + R ) by A3,VECTSP_4:44;
then consider ww being (Vector of W) such that A7: ww in R and A8: b = ( b1 + ww ) by VECTSP_4:42;
ww in (the carrier of R) by A7,STRUCT_0:def 5;
then ww in ( rightker f ) by CKB107:def 1;
then A9: (ex bb being (Vector of W) st (bb = ww & (for v0 being (Vector of V) holds ( f . (v0,bb) ) = ( 0. K ))));
thus y = ( ( ( f . (a1,b1) ) + ( f . (a1,ww) ) ) + ( ( f . (vv,b1) ) + ( f . (vv,ww) ) ) ) by A5,A8,CKB79:1
.= ( ( ( f . (a1,b1) ) + ( 0. K ) ) + ( ( f . (vv,b1) ) + ( f . (vv,ww) ) ) ) by A9
.= ( ( ( f . (a1,b1) ) + ( 0. K ) ) + ( ( 0. K ) + ( f . (vv,ww) ) ) ) by A6
.= ( ( f . (a1,b1) ) + ( ( 0. K ) + ( f . (vv,ww) ) ) ) by RLVECT_1:def 4
.= ( ( f . (a1,b1) ) + ( f . (vv,ww) ) ) by RLVECT_1:4
.= ( ( f . (a1,b1) ) + ( 0. K ) ) by A6
.= ( f . (a1,b1) ) by RLVECT_1:def 4;
end;
hence P[ A,B,y ];
end;
consider ff being (Function of [: (the carrier of vq),(the carrier of wq) :],(the carrier of K)) such that A10: (for A being (Vector of vq) holds (for B being (Vector of wq) holds P[ A,B,( ff . (A,B) ) ])) from BINOP_1:sch 3(A1);
reconsider ff as (Form of vq,wq);
A11: Cv = (the carrier of vq) by VECTSP10:def 6;
A12:now
let ww being (Vector of wq);
consider w being (Vector of W) such that A13: ww = ( w + R ) by VECTSP10:22;
set ffw = ( FunctionalSAF (ff,ww) );
now
let A being (Vector of vq);
let r being (Element of K);
consider a being (Vector of V) such that A14: A = ( a + L ) by VECTSP10:22;
A15: ((the lmult of vq) = mCv & ( mCv . (r,A) ) = ( ( r * a ) + L )) by A11,A14,VECTSP10:def 5,VECTSP10:def 6;
thus ( ffw . ( r * A ) ) = ( ff . (( r * A ),ww) ) by CKB20:1
.= ( f . (( r * a ),w) ) by A10,A13,A15,VECTSP_1:def 12
.= ( r * ( f . (a,w) ) ) by CKB82:1
.= ( r * ( ff . (A,ww) ) ) by A10,A13,A14
.= ( r * ( ffw . A ) ) by CKB20:1;
end;
hence ffw is  homogeneous by HAHNBAN1:def 8;
end;
A16: Cw = (the carrier of wq) by VECTSP10:def 6;
A17:now
let vv being (Vector of vq);
consider v being (Vector of V) such that A18: vv = ( v + L ) by VECTSP10:22;
set ffv = ( FunctionalFAF (ff,vv) );
now
let A being (Vector of wq);
let r being (Element of K);
consider a being (Vector of W) such that A19: A = ( a + R ) by VECTSP10:22;
A20: ((the lmult of wq) = mCw & ( mCw . (r,A) ) = ( ( r * a ) + R )) by A16,A19,VECTSP10:def 5,VECTSP10:def 6;
thus ( ffv . ( r * A ) ) = ( ff . (vv,( r * A )) ) by CKB19:1
.= ( f . (v,( r * a )) ) by A10,A18,A20,VECTSP_1:def 12
.= ( r * ( f . (v,a) ) ) by CKB83:1
.= ( r * ( ff . (vv,A) ) ) by A10,A18,A19
.= ( r * ( ffv . A ) ) by CKB19:1;
end;
hence ffv is  homogeneous by HAHNBAN1:def 8;
end;
A21:now
let ww being (Vector of wq);
consider w being (Vector of W) such that A22: ww = ( w + R ) by VECTSP10:22;
set ffw = ( FunctionalSAF (ff,ww) );
now
let A being (Vector of vq);
let B being (Vector of vq);
consider a being (Vector of V) such that A23: A = ( a + L ) by VECTSP10:22;
consider b being (Vector of V) such that A24: B = ( b + L ) by VECTSP10:22;
A25: ((the addF of vq) = aCv & ( aCv . (A,B) ) = ( ( a + b ) + L )) by A11,A23,A24,VECTSP10:def 3,VECTSP10:def 6;
thus ( ffw . ( A + B ) ) = ( ff . (( A + B ),ww) ) by CKB20:1
.= ( f . (( a + b ),w) ) by A10,A22,A25,RLVECT_1:2
.= ( ( f . (a,w) ) + ( f . (b,w) ) ) by CKB77:1
.= ( ( ff . (A,ww) ) + ( f . (b,w) ) ) by A10,A22,A23
.= ( ( ff . (A,ww) ) + ( ff . (B,ww) ) ) by A10,A22,A24
.= ( ( ffw . A ) + ( ff . (B,ww) ) ) by CKB20:1
.= ( ( ffw . A ) + ( ffw . B ) ) by CKB20:1;
end;
hence ffw is  additive by GRCAT_1:def 8;
end;
now
let vv being (Vector of vq);
consider v being (Vector of V) such that A26: vv = ( v + L ) by VECTSP10:22;
set ffv = ( FunctionalFAF (ff,vv) );
now
let A being (Vector of wq);
let B being (Vector of wq);
consider a being (Vector of W) such that A27: A = ( a + R ) by VECTSP10:22;
consider b being (Vector of W) such that A28: B = ( b + R ) by VECTSP10:22;
A29: ((the addF of wq) = aCw & ( aCw . (A,B) ) = ( ( a + b ) + R )) by A16,A27,A28,VECTSP10:def 3,VECTSP10:def 6;
thus ( ffv . ( A + B ) ) = ( ff . (vv,( A + B )) ) by CKB19:1
.= ( f . (v,( a + b )) ) by A10,A26,A29,RLVECT_1:2
.= ( ( f . (v,a) ) + ( f . (v,b) ) ) by CKB78:1
.= ( ( ff . (vv,A) ) + ( f . (v,b) ) ) by A10,A26,A27
.= ( ( ff . (vv,A) ) + ( ff . (vv,B) ) ) by A10,A26,A28
.= ( ( ffv . A ) + ( ff . (vv,B) ) ) by CKB19:1
.= ( ( ffv . A ) + ( ffv . B ) ) by CKB19:1;
end;
hence ffv is  additive by GRCAT_1:def 8;
end;
then reconsider ff as (bilinear-Form of vq,wq) by A21,A12,A17,CKB38:def 1,CKB39:def 1,CKB40:def 1,CKB41:def 1;
take ff;
thus thesis by A10;
end;
uniqueness
proof
set L = ( LKer f );
set vq = ( VectQuot (V,L) );
set R = ( RKer f );
set wq = ( VectQuot (W,R) );
let f1 being (bilinear-Form of vq,wq);
let f2 being (bilinear-Form of vq,wq);
assume that
A30: (for A being (Vector of vq) holds (for B being (Vector of wq) holds (for v being (Vector of V) holds (for w being (Vector of W) holds ((A = ( v + L ) & B = ( w + R )) implies ( f1 . (A,B) ) = ( f . (v,w) ))))))
and
A31: (for A being (Vector of vq) holds (for B being (Vector of wq) holds (for v being (Vector of V) holds (for w being (Vector of W) holds ((A = ( v + L ) & B = ( w + R )) implies ( f2 . (A,B) ) = ( f . (v,w) ))))));
now
let A being (Vector of vq);
let B being (Vector of wq);
consider a being (Vector of V) such that A32: A = ( a + L ) by VECTSP10:22;
consider b being (Vector of W) such that A33: B = ( b + R ) by VECTSP10:22;
thus ( f1 . (A,B) ) = ( f . (a,b) ) by A30,A32,A33
.= ( f2 . (A,B) ) by A31,A32,A33;
end;
hence thesis by BINOP_1:2;
end;
end;
