environ
vocabularies XBOOLE_0,SUBSET_1,CARD_FIL,YELLOW_1,LATTICES,PRE_TOPC,CONNSP_2,STRUCT_0,TARSKI,ZFMISC_1,WAYBEL_0,XXREAL_0,TOPS_1,WAYBEL_7,RCOMP_1,RELAT_1,RELAT_2,FUNCT_1,FINSET_1,SETFAM_1,LATTICE3,ORDERS_2,WELLORD2,ORDINAL1,MCART_1,YELLOW_6,SEQ_2,METRIC_1,CANTOR_1,ARYTM_0,ARYTM_3,CLASSES1,INT_2,YELLOW_0,CAT_1,BHSP_3,YELLOW19;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,MCART_1,SETFAM_1,FINSET_1,FUNCT_1,RELAT_2,RELSET_1,PARTFUN1,FUNCT_2,CLASSES1,STRUCT_0,PRE_TOPC,TOPS_1,TOPS_2,COMPTS_1,CONNSP_2,CANTOR_1,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_7,YELLOW_6,WAYBEL_9,YELLOW_7,WAYBEL32,CKB2,CKB8,CKB14,CKB20;
definitions TARSKI,SUBSET_1,TOPS_2,WAYBEL_0,WAYBEL_7,WAYBEL_9,XBOOLE_0,FINSET_1,STRUCT_0,CKB2,CKB8,CKB14,CKB20;
theorems TARSKI,SETFAM_1,FUNCT_2,FINSET_1,FUNCT_1,CLASSES1,RELAT_1,ZFMISC_1,MCART_1,RELAT_2,SUBSET_1,PRE_TOPC,TOPS_1,TOPS_2,COMPTS_1,CONNSP_2,CANTOR_1,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_7,WAYBEL_8,WAYBEL_9,YELLOW_5,YELLOW_6,YELLOW_7,WAYBEL12,WAYBEL21,WAYBEL32,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB13,CKB14,CKB15,CKB18,CKB19,CKB20;
schemes RELSET_1,FUNCT_2,FUNCT_1;
registrations SUBSET_1,RELAT_1,FINSET_1,STRUCT_0,PRE_TOPC,TOPS_1,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_6,WAYBEL_7,WAYBEL_9,WAYBEL32,RELSET_1,CKB4,CKB10,CKB16,CKB17,CKB21;
constructors SETFAM_1,CLASSES1,TOLER_1,TOPS_1,TOPS_2,CONNSP_2,CANTOR_1,WAYBEL_1,WAYBEL_7,WAYBEL32,COMPTS_1,RELSET_1,CKB2,CKB8,CKB14,CKB20;
requirements BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
registration
let L being non  empty 1-sorted;
let O being non  empty (Subset of L);
let F being  proper (Filter of ( BoolePoset O ));
cluster ( a_net F ) ->  directed;
coherence
proof
set S = { [ a,f ] where a is (Element of L),f is (Element of F): a in f };
(for x,y being (Element of ( a_net F )) holds ((x in ( [#] ( a_net F ) ) & y in ( [#] ( a_net F ) )) implies (ex z being (Element of ( a_net F )) st ((z in ( [#] ( a_net F ) ) & x <= z) & y <= z))))
proof
let x being (Element of ( a_net F ));
let y being (Element of ( a_net F ));
assume that
x in ( [#] ( a_net F ) )
and
y in ( [#] ( a_net F ) );
x in (the carrier of ( a_net F ));
then x in S by CKB20:def 1;
then consider a being (Element of L),f being (Element of F) such that A1: x = [ a,f ] and a in f;
reconsider f as (Element of ( BoolePoset O ));
y in (the carrier of ( a_net F ));
then y in S by CKB20:def 1;
then consider b being (Element of L),g being (Element of F) such that A2: y = [ b,g ] and b in g;
reconsider g as (Element of ( BoolePoset O ));
reconsider h = ( f "/\" g ) as (Element of F) by WAYBEL_0:41;
set s = the (Element of h);
A3: h c= O by WAYBEL_8:26;
(not ( Bottom ( BoolePoset O ) ) in F) by WAYBEL_7:4;
then (not ( {} ) in F) by YELLOW_1:18;
then A4: h <> ( {} );
then s in h;
then s in O by A3;
then reconsider s as (Element of L);
[ s,h ] in S by A4;
then reconsider z = [ s,h ] as (Element of ( a_net F )) by CKB20:def 1;
reconsider i = x,j = y,k = z as (Element of ( a_net F ));
A5: ( j `2 ) = g by A2,MCART_1:def 2;
take z;
A6: ( k `2 ) = h by MCART_1:def 2;
( f /\ g ) c= g by XBOOLE_1:17;
then A7: h c= g by YELLOW_1:17;
( f /\ g ) c= f by XBOOLE_1:17;
then A8: h c= f by YELLOW_1:17;
( i `2 ) = f by A1,MCART_1:def 2;
hence thesis by A5,A6,A8,A7,CKB20:def 1;
end;
then ( [#] ( a_net F ) ) is  directed by WAYBEL_0:def 1;
hence thesis by WAYBEL_0:def 6;
end;
end;
