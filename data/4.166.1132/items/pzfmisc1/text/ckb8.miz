environ
vocabularies FUNCT_1,PBOOLE,RELAT_1,FUNCT_4,FUNCOP_1,XBOOLE_0,FINSET_1,TARSKI,ZFMISC_1,PZFMISC1;
notations TARSKI,XBOOLE_0,ZFMISC_1,RELAT_1,FUNCT_1,FUNCT_4,FINSET_1,FUNCOP_1,PBOOLE,MBOOLEAN,CKB4,CKB6;
definitions FINSET_1,PBOOLE,FUNCOP_1,CKB4,CKB6;
theorems FUNCOP_1,ENUMSET1,FUNCT_4,MBOOLEAN,PBOOLE,SETWISEO,TARSKI,ZFMISC_1,RELAT_1,XBOOLE_0,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB6;
schemes PBOOLE;
registrations XBOOLE_0,FUNCOP_1,FINSET_1,CKB5,CKB7;
constructors FUNCT_4,MBOOLEAN,PBOOLE,FINSET_1,RELSET_1,CKB4,CKB6;
requirements BOOLE;
begin
reserve i for set;
reserve I for set;
reserve x for (ManySortedSet of I);
reserve y for (ManySortedSet of I);
reserve X for (ManySortedSet of I);
theorem
(X = { y } iff (for x holds (x in X iff x = y)))
proof
thus (X = { y } implies (for x holds (x in X iff x = y)))
proof
assume A1: X = { y };
let x;
thus (x in X implies x = y)
proof
assume A2: x in X;
now
let i;
assume A3: i in I;
then A4: ( x . i ) in ( X . i ) by A2,PBOOLE:def 1;
( X . i ) = { ( y . i ) } by A1,A3,CKB4:def 1;
hence ( x . i ) = ( y . i ) by A4,TARSKI:def 1;
end;
hence thesis by PBOOLE:3;
end;

assume A5: x = y;
let i;
assume i in I;
then ( X . i ) = { ( y . i ) } by A1,CKB4:def 1;
hence thesis by A5,TARSKI:def 1;
end;

assume A6: (for x holds (x in X iff x = y));
then A7: y in X;
now
let i;
assume that
A8: i in I;
now
let a being set;
thus (a in ( X . i ) iff a = ( y . i ))
proof
thus (a in ( X . i ) implies a = ( y . i ))
proof
assume A9: a in ( X . i );
A10: ( dom ( i .--> a ) ) = { i } by FUNCOP_1:13;
( dom ( y +* ( i .--> a ) ) ) = I by A8,CKB1:1;
then reconsider x1 = ( y +* ( i .--> a ) ) as (ManySortedSet of I) by PARTFUN1:def 2,RELAT_1:def 18;
i in { i } by TARSKI:def 1;
then A11: ( x1 . i ) = ( ( i .--> a ) . i ) by A10,FUNCT_4:13
.= a by FUNCOP_1:72;
x1 in X
proof
let q being set;
assume that
A12: q in I;
per cases ;
suppose i = q;

hence thesis by A9,A11;
end;
suppose i <> q;

then (not q in ( dom ( i .--> a ) )) by A10,TARSKI:def 1;
then ( x1 . q ) = ( y . q ) by FUNCT_4:11;
hence thesis by A7,A12,PBOOLE:def 1;
end;
end;
hence thesis by A6,A11;
end;

assume a = ( y . i );
hence thesis by A7,A8,PBOOLE:def 1;
end;

end;
then ( X . i ) = { ( y . i ) } by TARSKI:def 1;
hence ( X . i ) = ( { y } . i ) by A8,CKB4:def 1;
end;
hence thesis by PBOOLE:3;
end;
