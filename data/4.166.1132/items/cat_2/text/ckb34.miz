environ
vocabularies XBOOLE_0,SUBSET_1,FUNCT_2,FUNCT_1,ZFMISC_1,FUNCT_5,RELAT_1,TARSKI,CAT_1,FUNCOP_1,STRUCT_0,GRAPH_1,FUNCT_3,REALSET1,PARTFUN1,FUNCT_4,MCART_1,CAT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,RELAT_1,FUNCT_1,FUNCT_2,BINOP_1,PARTFUN1,FUNCT_3,FUNCT_4,FUNCT_5,REALSET1,FUNCOP_1,STRUCT_0,GRAPH_1,CAT_1,CKB1,CKB4,CKB5,CKB8,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB26,CKB31;
definitions TARSKI,CAT_1,REALSET1,FUNCOP_1,BINOP_1,GRAPH_1,CKB8,CKB10,CKB12,CKB16,CKB26,CKB31;
theorems TARSKI,ZFMISC_1,MCART_1,DOMAIN_1,FUNCT_1,FUNCT_2,FUNCT_3,FUNCT_4,FUNCT_5,PARTFUN1,FUNCOP_1,CAT_1,GRFUNC_1,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33;
schemes XBOOLE_0,BINOP_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,REALSET1,CAT_1,STRUCT_0,RELAT_1,CKB11,CKB17;
constructors PARTFUN1,BINOP_1,FUNCT_3,FUNCT_4,FUNCT_5,REALSET1,CAT_1,FUNCOP_1,RELSET_1,CKB1,CKB4,CKB5,CKB8,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB26,CKB31;
requirements SUBSET,BOOLE;
begin
reserve C for Category;
theorem
Th29: (for O being non empty (Subset of (the carrier of C)) holds (for M being non empty set holds (M = ( union { ( Hom (a,b) ) where a is (Object of C),b is (Object of C): (a in O & b in O) } ) implies (((( (the Source of C) | M ) is (Function of M,O) & ( (the Target of C) | M ) is (Function of M,O)) & ( (the Comp of C) || M ) is (PartFunc of [: M,M :],M)) & ( (the Id of C) | O ) is (Function of O,M)))))
proof
let O being non empty (Subset of (the carrier of C));
set H = { ( Hom (a,b) ) where a is (Object of C),b is (Object of C): (a in O & b in O) };
A1: ( dom (the Source of C) ) = (the carrier' of C) by FUNCT_2:def 1;
let M being non empty set;
assume that
A2: M = ( union H );
A3:now
let f being (Morphism of C);
assume f in M;
then consider X being set such that A4: f in X and A5: X in H by A2,TARSKI:def 4;
(ex a,b being (Object of C) st ((X = ( Hom (a,b) ) & a in O) & b in O)) by A5;
hence (( dom f ) in O & ( cod f ) in O) by A4,CAT_1:1;
end;
set d = ( (the Source of C) | M );
set c = ( (the Target of C) | M );
set p = ( (the Comp of C) || M );
set i = ( (the Id of C) | O );
A6: ( dom (the Target of C) ) = (the carrier' of C) by FUNCT_2:def 1;
A7: ( dom d ) = ( ( dom (the Source of C) ) /\ M ) by RELAT_1:61;
A8: ( rng d ) c= O
proof
let y being set;
assume y in ( rng d );
then consider x being set such that A9: x in ( dom d ) and A10: y = ( d . x ) by FUNCT_1:def 3;
reconsider f = x as (Morphism of C) by A1,A7,A9,XBOOLE_0:def 4;
(( d . f ) = ( dom f ) & f in M) by A7,A9,FUNCT_1:47,XBOOLE_0:def 4;
hence thesis by A3,A10;
end;
A11: M is non empty non empty (Subset of (the carrier' of C)) by A2,CKB33:1;
then A12: ( dom c ) = M by A6,RELAT_1:62;
A13: ( dom c ) = ( ( dom (the Target of C) ) /\ M ) by RELAT_1:61;
A14: ( rng c ) c= O
proof
let y being set;
assume y in ( rng c );
then consider x being set such that A15: x in ( dom c ) and A16: y = ( c . x ) by FUNCT_1:def 3;
reconsider f = x as (Morphism of C) by A6,A13,A15,XBOOLE_0:def 4;
(( c . f ) = ( cod f ) & f in M) by A13,A15,FUNCT_1:47,XBOOLE_0:def 4;
hence thesis by A3,A16;
end;
( dom d ) = M by A1,A11,RELAT_1:62;
hence (d is (Function of M,O) & c is (Function of M,O)) by A8,A14,A12,FUNCT_2:def 1,RELSET_1:4;
A17: ( dom p ) = ( ( dom (the Comp of C) ) /\ [: M,M :] ) by RELAT_1:61;
A18: ( dom i ) = ( ( dom (the Id of C) ) /\ O ) by RELAT_1:61;
A19: ( rng i ) c= M
proof
let y being set;
assume y in ( rng i );
then consider x being set such that A20: x in ( dom i ) and A21: y = ( i . x ) by FUNCT_1:def 3;
reconsider a = x as (Object of C) by A18,A20;
( i . a ) = ( id a ) by A20,FUNCT_1:47;
then A22: ( i . a ) in ( Hom (a,a) ) by CAT_1:26;
a in O by A18,A20,XBOOLE_0:def 4;
then ( Hom (a,a) ) in H;
hence thesis by A2,A21,A22,TARSKI:def 4;
end;
A23: ( dom (the Comp of C) ) c= [: (the carrier' of C),(the carrier' of C) :] by RELAT_1:def 18;
( rng p ) c= M
proof
let y being set;
assume y in ( rng p );
then consider x being set such that A24: x in ( dom p ) and A25: y = ( p . x ) by FUNCT_1:def 3;
A26: x in ( dom (the Comp of C) ) by A17,A24,XBOOLE_0:def 4;
then consider g being (Morphism of C),f being (Morphism of C) such that A27: x = [ g,f ] by A23,DOMAIN_1:1;
A28: [ g,f ] in [: M,M :] by A17,A24,A27,XBOOLE_0:def 4;
then g in M by ZFMISC_1:87;
then A29: ( cod g ) in O by A3;
( dom g ) = ( cod f ) by A26,A27,CAT_1:15;
then A30: (( dom ( g * f ) ) = ( dom f ) & ( cod ( g * f ) ) = ( cod g )) by CAT_1:17;
f in M by A28,ZFMISC_1:87;
then ( dom f ) in O by A3;
then A31: ( Hom (( dom ( g * f ) ),( cod ( g * f ) )) ) in H by A29,A30;
A32: ( g * f ) in ( Hom (( dom ( g * f ) ),( cod ( g * f ) )) );
( p . x ) = ( (the Comp of C) . (g,f) ) by A24,A27,FUNCT_1:47
.= ( g * f ) by A26,A27,CAT_1:def 1;
hence thesis by A2,A25,A31,A32,TARSKI:def 4;
end;
hence p is (PartFunc of [: M,M :],M) by A17,RELSET_1:4,XBOOLE_1:17;
( dom (the Id of C) ) = (the carrier of C) by FUNCT_2:def 1;
then ( dom i ) = O by RELAT_1:62;
hence thesis by A19,FUNCT_2:def 1,RELSET_1:4;
end;
