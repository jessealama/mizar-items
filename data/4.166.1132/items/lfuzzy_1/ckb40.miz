environ
vocabularies NUMBERS,XBOOLE_0,VALUED_0,FUZZY_1,FUZZY_2,LATTICE3,SUBSET_1,FUNCT_1,XXREAL_0,RELAT_1,ZFMISC_1,TARSKI,VALUED_1,RELAT_2,FUZZY_4,CARD_1,LATTICES,PARTFUN1,LFUZZY_0,EQREL_1,XXREAL_1,XREAL_0,ORDINAL1,SEQ_4,FUNCT_3,FUNCT_7,FUNCT_2,ARYTM_3,STRUCT_0,QC_LANG1,CARD_3,FUNCOP_1,REWRITE1,WAYBEL_0,NEWTON,ORDINAL2,LATTICE2,WAYBEL_1,NAT_1,LFUZZY_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,RELAT_1,FUNCT_1,FUNCT_2,ORDINAL1,NUMBERS,XCMPLX_0,DOMAIN_1,PARTFUN1,CARD_3,RELAT_2,FUNCT_3,RFUNCT_1,SUBSET_1,XREAL_0,NAT_1,SEQ_1,SEQ_4,VALUED_0,RCOMP_1,RELSET_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_1,WAYBEL_3,FUZZY_1,FUZZY_2,FUZZY_4,FUNCOP_1,LFUZZY_0,XXREAL_0,CKB2,CKB9,CKB10,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB29;
definitions TARSKI,XBOOLE_0,FUZZY_1,BINOP_1,CKB2,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20;
theorems XBOOLE_0,ZFMISC_1,WAYBEL_1,RELAT_1,LATTICE3,YELLOW_0,TARSKI,SEQ_4,YELLOW_2,WAYBEL_3,CARD_3,YELLOW_1,FUNCOP_1,FUZZY_2,FUZZY_4,FUNCT_3,FUZZY_1,PARTFUN1,LFUZZY_0,RELAT_2,ORDINAL1,XXREAL_0,BINOP_1,RELSET_1,FUNCT_2,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB23,CKB24,CKB27,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39;
schemes FRAENKEL,RECDEF_1,NAT_1,LFUZZY_0;
registrations XBOOLE_0,SUBSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,LATTICE3,MONOID_0,YELLOW_1,WAYBEL10,WAYBEL17,LFUZZY_0,RELAT_1,FUNCT_2,NUMBERS,FUZZY_1,RELSET_1,CKB1,CKB21,CKB22,CKB25,CKB26,CKB28;
constructors DOMAIN_1,SQUARE_1,NAT_1,BINOP_2,RFUNCT_1,MONOID_0,PSCOMP_1,WAYBEL_3,FUZZY_2,FUZZY_4,LFUZZY_0,SEQ_1,XXREAL_2,SEQ_4,RELSET_1,FUNCOP_1,FUZZY_1,CKB2,CKB9,CKB10,CKB13,CKB15,CKB17,CKB20,CKB29;
requirements BOOLE,SUBSET,NUMERALS,REAL,ARITHM;
begin
definition
let X being non empty set;
let R being (RMembership_Func of X,X);
let n being  natural number;
func n iter R -> (RMembership_Func of X,X)
means
:Def10: (ex F being (Function of ( NAT ),( Funcs ([: X,X :],[. ( 0 ),1 .]) )) st ((it = ( F . n ) & ( F . ( 0 ) ) = ( Imf (X,X) )) & (for k being  natural number holds (ex Q being (RMembership_Func of X,X) st (( F . k ) = Q & ( F . ( k + 1 ) ) = ( Q (#) R ))))));
existence
proof
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
set D = (the carrier of ( FuzzyLattice [: X,X :] ));
defpred P[ set,set,set ]
 means
(ex Q being (Element of D) st ($2 = Q & $3 = ( ( @ Q ) (#) R )));
A1: (for k being (Element of ( NAT )) holds (for x being (Element of D) holds (ex y being (Element of D) st P[ k,x,y ])))
proof
let k being (Element of ( NAT ));
let Q being (Element of D);
set y = ( ( @ Q ) (#) R );
reconsider y9 = ( ([: X,X :],y) @ ) as (Element of D);
take y9;
thus thesis by LFUZZY_0:def 6;
end;
consider F being (Function of ( NAT ),D) such that A2: (( F . ( 0 ) ) = ( ([: X,X :],( Imf (X,X) )) @ ) & (for k being (Element of ( NAT )) holds P[ k,( F . k ),( F . ( k + 1 ) ) ])) from RECDEF_1:sch 2(A1);
reconsider F as (Function of ( NAT ),( Funcs ([: X,X :],[. ( 0 ),1 .]) )) by LFUZZY_0:14;
reconsider IT = ( F . n9 ) as (Element of ( FuzzyLattice [: X,X :] )) by LFUZZY_0:14;
reconsider IT9 = ( @ IT ) as (RMembership_Func of X,X);
take IT9;
thus (ex F being (Function of ( NAT ),( Funcs ([: X,X :],[. ( 0 ),1 .]) )) st ((IT9 = ( F . n ) & ( F . ( 0 ) ) = ( Imf (X,X) )) & (for k being  natural number holds (ex Q being (RMembership_Func of X,X) st (( F . k ) = Q & ( F . ( k + 1 ) ) = ( Q (#) R ))))))
proof
take F;
thus IT9 = ( F . n ) by LFUZZY_0:def 5;
thus ( F . ( 0 ) ) = ( Imf (X,X) ) by A2,LFUZZY_0:def 6;
thus (for k being  natural number holds (ex Q being (RMembership_Func of X,X) st (( F . k ) = Q & ( F . ( k + 1 ) ) = ( Q (#) R ))))
proof
let k being  natural number;
reconsider n = k as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider Q9 = ( F . n ) as (Element of D) by LFUZZY_0:14;
reconsider Q = ( @ Q9 ) as (RMembership_Func of X,X);
take Q;
thus ( F . k ) = Q by LFUZZY_0:def 5;
P[ n,( F . n ),( F . ( n + 1 ) ) ] by A2;
hence thesis;
end;

end;

end;
uniqueness
proof
let S being (RMembership_Func of X,X),T being (RMembership_Func of X,X);
given F being (Function of ( NAT ),( Funcs ([: X,X :],[. ( 0 ),1 .]) )) such that
A3: S = ( F . n )
and
A4: ( F . ( 0 ) ) = ( Imf (X,X) )
and
A5: (for k being  natural number holds (ex Q being (RMembership_Func of X,X) st (( F . k ) = Q & ( F . ( k + 1 ) ) = ( Q (#) R ))));

given G being (Function of ( NAT ),( Funcs ([: X,X :],[. ( 0 ),1 .]) )) such that
A6: T = ( G . n )
and
A7: ( G . ( 0 ) ) = ( Imf (X,X) )
and
A8: (for k being  natural number holds (ex Q being (RMembership_Func of X,X) st (( G . k ) = Q & ( G . ( k + 1 ) ) = ( Q (#) R ))));

defpred P[  natural number ]
 means
( F . $1 ) = ( G . $1 );
A9: (for k being  natural number holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being  natural number;
assume A10: ( F . k ) = ( G . k );
((ex Q being (RMembership_Func of X,X) st (( G . k ) = Q & ( G . ( k + 1 ) ) = ( Q (#) R ))) & (ex Q9 being (RMembership_Func of X,X) st (( F . k ) = Q9 & ( F . ( k + 1 ) ) = ( Q9 (#) R )))) by A5,A8;
hence thesis by A10;
end;
A11: P[ ( 0 ) ] by A4,A7;
(for k being  natural number holds P[ k ]) from NAT_1:sch 2(A11,A9);
hence S = T by A3,A6;
end;
end;
