environ
vocabularies NUMBERS,XBOOLE_0,VALUED_0,FUZZY_1,FUZZY_2,LATTICE3,SUBSET_1,FUNCT_1,XXREAL_0,RELAT_1,ZFMISC_1,TARSKI,VALUED_1,RELAT_2,FUZZY_4,CARD_1,LATTICES,PARTFUN1,LFUZZY_0,EQREL_1,XXREAL_1,XREAL_0,ORDINAL1,SEQ_4,FUNCT_3,FUNCT_7,FUNCT_2,ARYTM_3,STRUCT_0,QC_LANG1,CARD_3,FUNCOP_1,REWRITE1,WAYBEL_0,NEWTON,ORDINAL2,LATTICE2,WAYBEL_1,NAT_1,LFUZZY_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,RELAT_1,FUNCT_1,FUNCT_2,ORDINAL1,NUMBERS,XCMPLX_0,DOMAIN_1,PARTFUN1,CARD_3,RELAT_2,FUNCT_3,RFUNCT_1,SUBSET_1,XREAL_0,NAT_1,SEQ_1,SEQ_4,VALUED_0,RCOMP_1,RELSET_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_1,WAYBEL_3,FUZZY_1,FUZZY_2,FUZZY_4,FUNCOP_1,LFUZZY_0,XXREAL_0,CKB2,CKB9,CKB10,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB29,CKB40,CKB48;
definitions TARSKI,XBOOLE_0,FUZZY_1,BINOP_1,CKB2,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB40,CKB48;
theorems XBOOLE_0,ZFMISC_1,WAYBEL_1,RELAT_1,LATTICE3,YELLOW_0,TARSKI,SEQ_4,YELLOW_2,WAYBEL_3,CARD_3,YELLOW_1,FUNCOP_1,FUZZY_2,FUZZY_4,FUNCT_3,FUZZY_1,PARTFUN1,LFUZZY_0,RELAT_2,ORDINAL1,XXREAL_0,BINOP_1,RELSET_1,FUNCT_2,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB23,CKB24,CKB27,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63;
schemes FRAENKEL,RECDEF_1,NAT_1,LFUZZY_0;
registrations XBOOLE_0,SUBSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,LATTICE3,MONOID_0,YELLOW_1,WAYBEL10,WAYBEL17,LFUZZY_0,RELAT_1,FUNCT_2,NUMBERS,FUZZY_1,RELSET_1,CKB1,CKB21,CKB22,CKB25,CKB26,CKB28;
constructors DOMAIN_1,SQUARE_1,NAT_1,BINOP_2,RFUNCT_1,MONOID_0,PSCOMP_1,WAYBEL_3,FUZZY_2,FUZZY_4,LFUZZY_0,SEQ_1,XXREAL_2,SEQ_4,RELSET_1,FUNCOP_1,FUZZY_1,CKB2,CKB9,CKB10,CKB13,CKB15,CKB17,CKB20,CKB29,CKB40,CKB48;
requirements BOOLE,SUBSET,NUMERALS,REAL,ARITHM;
begin
reserve X for non  empty set;
reserve R for (RMembership_Func of X,X);
theorem
Th35: (for R being (RMembership_Func of X,X) holds (for Q being (Subset of ( FuzzyLattice [: X,X :] )) holds ( ( @ ( "\/" (Q,( FuzzyLattice [: X,X :] )) ) ) (#) R ) = ( "\/" ({ ( ( @ r ) (#) R ) where r is (Element of ( FuzzyLattice [: X,X :] )): r in Q },( FuzzyLattice [: X,X :] )) )))
proof
let R being (RMembership_Func of X,X);
let Q being (Subset of ( FuzzyLattice [: X,X :] ));
set FL = ( FuzzyLattice [: X,X :] );
set RP = ( RealPoset [. ( 0 ),1 .] );
( "\/" ({ ( ( @ r ) (#) R ) where r is (Element of FL): r in Q },FL) ) = ( @ ( "\/" ({ ( ( @ r ) (#) R ) where r is (Element of FL): r in Q },FL) ) ) by LFUZZY_0:def 5;
then reconsider F = ( "\/" ({ ( ( @ r ) (#) R ) where r is (Element of FL): r in Q },FL) ) as (RMembership_Func of X,X);
(for x,z being (Element of X) holds ( ( ( @ ( "\/" (Q,FL) ) ) (#) R ) . (x,z) ) = ( F . (x,z) ))
proof
let x being (Element of X);
let z being (Element of X);
A1: { ( ( @ r ) (#) R ) where r is (Element of FL): r in Q } c= (the carrier of ( FuzzyLattice [: X,X :] ))
proof
let t being set;
assume t in { ( ( @ r ) (#) R ) where r is (Element of FL): r in Q };
then consider r being (Element of ( FuzzyLattice [: X,X :] )) such that A2: t = ( ( @ r ) (#) R ) and r in Q;
( ([: X,X :],( ( @ r ) (#) R )) @ ) = ( ( @ r ) (#) R ) by LFUZZY_0:def 6;
hence thesis by A2;
end;
A3: { ( ( "\/" (( pi (Q,[ x,y ]) ),RP) ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) } = { ( "\/" ({ ( b "/\" ( R . [ y9,z ] ) ) where b is (Element of RP): b in ( pi (Q,[ x,y ]) ) },RP) ) where y9 is (Element of X): (not contradiction) }
proof
deffunc G((Element of X)) = ( "\/" ({ ( b "/\" ( R . [ $1,z ] ) ) where b is (Element of RP): b in ( pi (Q,[ x,$1 ]) ) },RP) );
deffunc F((Element of X)) = ( ( "\/" (( pi (Q,[ x,$1 ]) ),RP) ) "/\" ( R . [ $1,z ] ) );
defpred P[ (Element of X) ]
 means
(not contradiction);
(for y being (Element of X) holds ( ( "\/" (( pi (Q,[ x,y ]) ),( RealPoset [. ( 0 ),1 .] )) ) "/\" ( R . [ y,z ] ) ) = ( "\/" ({ ( b "/\" ( R . [ y,z ] ) ) where b is (Element of RP): b in ( pi (Q,[ x,y ]) ) },RP) ))
proof
( FuzzyLattice [: X,X :] ) = ( ( RealPoset [. ( 0 ),1 .] ) |^ [: X,X :] ) by LFUZZY_0:def 4
.= ( product ( [: X,X :] --> ( RealPoset [. ( 0 ),1 .] ) ) ) by YELLOW_1:def 5;
then reconsider Q as (Subset of ( product ( [: X,X :] --> ( RealPoset [. ( 0 ),1 .] ) ) ));
let y being (Element of X);
( pi (Q,[ x,y ]) ) is (Subset of ( RealPoset [. ( 0 ),1 .] )) by FUNCOP_1:7;
hence thesis by LFUZZY_0:15;
end;
then A4: (for y being (Element of X) holds F(y) = G(y));
{ F(y) where y is (Element of X): P[ y ] } = { G(y9) where y9 is (Element of X): P[ y9 ] } from FRAENKEL:sch 5(A4);
hence thesis;
end;
A5: { ( "\/" ({ ( b "/\" ( R . [ y,z ] ) ) where b is (Element of RP): b in ( pi (Q,[ x,y ]) ) },RP) ) where y is (Element of X): (not contradiction) } = { ( "\/" ({ ( ( r . [ x,y9 ] ) "/\" ( R . [ y9,z ] ) ) where r is (Element of FL): r in Q },RP) ) where y9 is (Element of X): (not contradiction) }
proof
deffunc G((Element of X)) = ( "\/" ({ ( ( r . [ x,$1 ] ) "/\" ( R . [ $1,z ] ) ) where r is (Element of FL): r in Q },RP) );
deffunc F((Element of X)) = ( "\/" ({ ( b "/\" ( R . [ $1,z ] ) ) where b is (Element of RP): b in ( pi (Q,[ x,$1 ]) ) },RP) );
defpred P[ (Element of X) ]
 means
(not contradiction);
(for y being (Element of X) holds ( "\/" ({ ( b "/\" ( R . [ y,z ] ) ) where b is (Element of RP): b in ( pi (Q,[ x,y ]) ) },RP) ) = ( "\/" ({ ( ( r . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where r is (Element of FL): r in Q },RP) ))
proof
let y being (Element of X);
set A = { ( b "/\" ( R . [ y,z ] ) ) where b is (Element of RP): b in ( pi (Q,[ x,y ]) ) };
set B = { ( ( r . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where r is (Element of FL): r in Q };
A6: B c= A
proof
let a being set;
assume a in B;
then consider r being (Element of FL) such that A7: a = ( ( r . [ x,y ] ) "/\" ( R . [ y,z ] ) ) and A8: r in Q;
( r . [ x,y ] ) in ( pi (Q,[ x,y ]) ) by A8,CARD_3:def 6;
hence thesis by A7;
end;
A c= B
proof
let a being set;
assume a in A;
then consider b being (Element of RP) such that A9: a = ( b "/\" ( R . [ y,z ] ) ) and A10: b in ( pi (Q,[ x,y ]) );
(ex f being Function st (f in Q & b = ( f . [ x,y ] ))) by A10,CARD_3:def 6;
hence thesis by A9;
end;
hence thesis by A6,XBOOLE_0:def 10;
end;
then A11: (for y being (Element of X) holds F(y) = G(y));
thus { F(y) where y is (Element of X): P[ y ] } = { G(y) where y is (Element of X): P[ y ] } from FRAENKEL:sch 5(A11);
end;
A12: ( "\/" ({ ( "\/" ({ ( ( r . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where r is (Element of FL): r in Q },RP) ) where y is (Element of X): (not contradiction) },RP) ) = ( "\/" ({ ( "\/" ({ ( ( r9 . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },RP) ) where r9 is (Element of FL): r9 in Q },RP) )
proof
deffunc F2((Element of X),(Element of ( FuzzyLattice [: X,X :] ))) = ( ( $2 . [ x,$1 ] ) "/\" ( R . [ $1,z ] ) );
deffunc F1((Element of X),(Element of ( FuzzyLattice [: X,X :] ))) = ( ( $2 . [ x,$1 ] ) "/\" ( R . [ $1,z ] ) );
defpred Q[ (Element of ( FuzzyLattice [: X,X :] )) ]
 means
$1 in Q;
defpred P[ (Element of X) ]
 means
(not contradiction);
A13: (for y being (Element of X) holds (for r being (Element of FL) holds ((P[ y ] & Q[ r ]) implies F1(y,r) = F2(y,r))));
thus ( "\/" ({ ( "\/" ({ F1(y,r) where r is (Element of FL): Q[ r ] },RP) ) where y is (Element of X): P[ y ] },RP) ) = ( "\/" ({ ( "\/" ({ F2(y9,r9) where y9 is (Element of X): P[ y9 ] },RP) ) where r9 is (Element of FL): Q[ r9 ] },RP) ) from LFUZZY_0:sch 5(A13);
end;
A14: { ( "\/" ({ ( ( r . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },RP) ) where r is (Element of FL): r in Q } = { ( "\/" ({ ( ( ( @ r9 ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },RP) ) where r9 is (Element of FL): r9 in Q }
proof
deffunc G((Element of FL)) = ( "\/" ({ ( ( ( @ $1 ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },( RealPoset [. ( 0 ),1 .] )) );
deffunc F((Element of FL)) = ( "\/" ({ ( ( $1 . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },( RealPoset [. ( 0 ),1 .] )) );
defpred P[ (Element of FL) ]
 means
$1 in Q;
(for r being (Element of FL) holds (r in Q implies ( "\/" ({ ( ( r . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },( RealPoset [. ( 0 ),1 .] )) ) = ( "\/" ({ ( ( ( @ r ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },( RealPoset [. ( 0 ),1 .] )) )))
proof
let r being (Element of FL);
assume r in Q;
{ ( ( r . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) } = { ( ( ( @ r ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) }
proof
deffunc g((Element of X)) = ( ( ( @ r ) . [ x,$1 ] ) "/\" ( R . [ $1,z ] ) );
deffunc f((Element of X)) = ( ( r . [ x,$1 ] ) "/\" ( R . [ $1,z ] ) );
defpred P[ (Element of X) ]
 means
(not contradiction);
A15: (for y being (Element of X) holds f(y) = g(y)) by LFUZZY_0:def 5;
thus { f(y) where y is (Element of X): P[ y ] } = { g(y) where y is (Element of X): P[ y ] } from FRAENKEL:sch 5(A15);
end;
hence thesis;
end;
then A16: (for r being (Element of FL) holds (P[ r ] implies F(r) = G(r)));
thus { F(r) where r is (Element of ( FuzzyLattice [: X,X :] )): P[ r ] } = { G(r) where r is (Element of ( FuzzyLattice [: X,X :] )): P[ r ] } from FRAENKEL:sch 6(A16);
end;
A17: { ( ( ( @ r ) (#) R ) . [ x,z ] ) where r is (Element of FL): r in Q } = ( pi ({ ( ( @ r ) (#) R ) where r is (Element of FL): r in Q },[ x,z ]) )
proof
set A = { ( ( ( @ r ) (#) R ) . [ x,z ] ) where r is (Element of FL): r in Q };
set B = ( pi ({ ( ( @ r ) (#) R ) where r is (Element of FL): r in Q },[ x,z ]) );
thus A c= B
proof
let a being set;
assume a in A;
then consider r being (Element of FL) such that A18: a = ( ( ( @ r ) (#) R ) . [ x,z ] ) and A19: r in Q;
( ( @ r ) (#) R ) in { ( ( @ r9 ) (#) R ) where r9 is (Element of FL): r9 in Q } by A19;
hence thesis by A18,CARD_3:def 6;
end;

thus B c= A
proof
let b being set;
assume b in B;
then consider f being Function such that A20: f in { ( ( @ r9 ) (#) R ) where r9 is (Element of FL): r9 in Q } and A21: b = ( f . [ x,z ] ) by CARD_3:def 6;
(ex r being (Element of FL) st (f = ( ( @ r ) (#) R ) & r in Q)) by A20;
hence thesis by A21;
end;

end;
A22: { ( ( ( @ ( "\/" (Q,FL) ) ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) } = { ( ( "\/" (( pi (Q,[ x,y ]) ),RP) ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) }
proof
deffunc G((Element of X)) = ( ( "\/" (( pi (Q,[ x,$1 ]) ),RP) ) "/\" ( R . [ $1,z ] ) );
deffunc F((Element of X)) = ( ( ( @ ( "\/" (Q,FL) ) ) . [ x,$1 ] ) "/\" ( R . [ $1,z ] ) );
defpred P[ (Element of X) ]
 means
(not contradiction);
(for y being (Element of X) holds ( ( ( @ ( "\/" (Q,( FuzzyLattice [: X,X :] )) ) ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) = ( ( "\/" (( pi (Q,[ x,y ]) ),( RealPoset [. ( 0 ),1 .] )) ) "/\" ( R . [ y,z ] ) ))
proof
let y being (Element of X);
( ( @ ( "\/" (Q,( FuzzyLattice [: X,X :] )) ) ) . [ x,y ] ) = ( ( "\/" (Q,( FuzzyLattice [: X,X :] )) ) . [ x,y ] ) by LFUZZY_0:def 5
.= ( "\/" (( pi (Q,[ x,y ]) ),( RealPoset [. ( 0 ),1 .] )) ) by CKB52:1;
hence thesis;
end;
then A23: (for y being (Element of X) holds F(y) = G(y));
thus { F(y) where y is (Element of X): P[ y ] } = { G(y9) where y9 is (Element of X): P[ y9 ] } from FRAENKEL:sch 5(A23);
end;
A24: { ( "\/" ({ ( ( ( @ r ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },RP) ) where r is (Element of FL): r in Q } = { ( ( ( @ r9 ) (#) R ) . [ x,z ] ) where r9 is (Element of FL): r9 in Q }
proof
deffunc G((Element of FL)) = ( ( ( @ $1 ) (#) R ) . [ x,z ] );
deffunc F((Element of FL)) = ( "\/" ({ ( ( ( @ $1 ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },( RealPoset [. ( 0 ),1 .] )) );
defpred P[ (Element of FL) ]
 means
$1 in Q;
A25: (for r being (Element of FL) holds (P[ r ] implies F(r) = G(r))) by CKB58:1;
thus { F(r) where r is (Element of ( FuzzyLattice [: X,X :] )): P[ r ] } = { G(r) where r is (Element of ( FuzzyLattice [: X,X :] )): P[ r ] } from FRAENKEL:sch 6(A25);
end;
thus ( ( ( @ ( "\/" (Q,FL) ) ) (#) R ) . (x,z) ) = ( "\/" ({ ( ( ( @ ( "\/" (Q,FL) ) ) . [ x,y ] ) "/\" ( R . [ y,z ] ) ) where y is (Element of X): (not contradiction) },RP) ) by CKB58:1
.= ( F . (x,z) ) by A1,A22,A3,A5,A12,A14,A24,A17,CKB52:1;
end;
hence thesis by CKB4:1;
end;
