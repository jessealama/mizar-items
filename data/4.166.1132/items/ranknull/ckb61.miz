environ
vocabularies FUNCT_1,RELAT_1,TARSKI,STRUCT_0,SUBSET_1,XBOOLE_0,VECTSP_1,RLVECT_5,FINSET_1,RLVECT_3,LOPBAN_1,ARYTM_3,SUPINF_2,CARD_1,RLSUB_1,FUNCT_2,ARYTM_1,MESFUNC1,VECTSP10,RLVECT_2,FUNCT_4,REALSET1,FUNCOP_1,QC_LANG1,CARD_3,RLSUB_2,FINSEQ_1,VALUED_1,NAT_1,XXREAL_0,PARTFUN1,NUMBERS,PBOOLE,RANKNULL,MSSUBFAM,UNIALG_1;
notations TARSKI,XBOOLE_0,SUBSET_1,DOMAIN_1,RELAT_1,RELSET_1,FUNCT_1,NAT_1,NUMBERS,FUNCOP_1,PARTFUN1,FUNCT_2,FUNCT_4,XCMPLX_0,XXREAL_0,CARD_1,FINSET_1,FINSEQ_1,FINSEQOP,STRUCT_0,RLVECT_1,RLVECT_2,VECTSP_1,FUNCT_7,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,MOD_2,MATRLIN,VECTSP_9,GRCAT_1,LOPBAN_1,CKB9,CKB13,CKB15,CKB16,CKB30,CKB31,CKB33,CKB40,CKB42,CKB56,CKB59,CKB60;
definitions TARSKI,RELAT_1,FUNCT_1,FINSEQ_1,VECTSP_4,VECTSP_6,XBOOLE_0,RLVECT_1,STRUCT_0,MOD_2,MATRLIN,FUNCOP_1,LOPBAN_1,FUNCT_2,CKB13,CKB16,CKB30,CKB33,CKB42,CKB56,CKB59,CKB60;
theorems TARSKI,ZFMISC_1,RELAT_1,FINSET_1,FINSEQ_1,FUNCT_1,VECTSP_7,VECTSP_9,CARD_2,XBOOLE_1,FUNCT_2,SUBSET_1,XBOOLE_0,VECTSP_1,RLVECT_1,VECTSP_4,VECTSP_6,STRUCT_0,RLVECT_2,MOD_2,MATRLIN,CARD_1,FUNCOP_1,VECTSP_5,FUNCT_7,FINSEQ_2,FUNCT_4,ENUMSET1,ORDINAL1,PARTFUN1,GRCAT_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60;
schemes CLASSES1;
registrations RELAT_1,FUNCT_1,STRUCT_0,CARD_1,FINSET_1,VECTSP_9,XBOOLE_0,MATRLIN,FUNCOP_1,ORDINAL1,XREAL_0,SUBSET_1,FINSEQ_1,MOD_2,GRCAT_1,RELSET_1,CKB4,CKB5,CKB32,CKB39;
constructors NAT_1,FINSEQOP,HAHNBAN,VECTSP_6,VECTSP_7,MOD_2,VECTSP_9,REALSET1,RLVECT_2,WELLORD2,LOPBAN_1,VECTSP_5,FUNCT_7,FUNCT_4,XXREAL_0,MATRLIN,RELSET_1,CKB13,CKB15,CKB16,CKB30,CKB31,CKB33,CKB40,CKB42,CKB56,CKB59,CKB60;
requirements BOOLE,SUBSET,NUMERALS,ARITHM;
begin
reserve F for Field;
theorem
Th44: (for V,W being  finite-dimensional (VectSp of F) holds (for T being (linear-transformation of V,W) holds ( dim V ) = ( ( rank T ) + ( nullity T ) )))
proof
let V being  finite-dimensional (VectSp of F),W being  finite-dimensional (VectSp of F);
let T being (linear-transformation of V,W);
set A = the  finite (Basis of ( ker T ));
reconsider A9 = A as (Subset of V) by CKB25:1;
consider B being (Basis of V) such that A1: A c= B by VECTSP_9:13;
reconsider B as  finite (Subset of V) by VECTSP_9:20;
reconsider X = ( B \ A9 ) as  finite (Subset of B) by XBOOLE_1:36;
reconsider X as  finite (Subset of V);
A2: B = ( A \/ X ) by A1,XBOOLE_1:45;
reconsider B as  finite (Basis of V);
reconsider A as  finite (Basis of ( ker T ));
reconsider C = ( T .: X ) as  finite (Subset of W);
A3: ( T | X ) is  one-to-one by A1,CKB28:1;
A4: C is  linearly-independent
proof
assume C is  linearly-dependent;
then consider l being (Linear_Combination of C) such that A5: ( Carrier l ) <> ( {} ) and A6: ( Sum l ) = ( 0. W ) by CKB55:1;
(ex m being (Linear_Combination of X) st l = ( T @ m ))
proof
reconsider l9 = l as (Linear_Combination of ( T .: X ));
set m = ( T # l9 );
take m;
thus thesis by A3,CKB58:1;
end;
then consider m being (Linear_Combination of ( B \ A9 )) such that A7: l = ( T @ m );
( T . ( Sum m ) ) = ( 0. W ) by A1,A6,A7,CKB54:1;
then ( Sum m ) in ( ker T ) by CKB14:1;
then ( Sum m ) in ( Lin A ) by VECTSP_7:def 3;
then ( Sum m ) in ( Lin A9 ) by VECTSP_9:17;
then consider n being (Linear_Combination of A9) such that A8: ( Sum m ) = ( Sum n ) by VECTSP_7:7;
A9: (( Carrier ( m - n ) ) c= ( ( Carrier m ) \/ ( Carrier n ) ) & ( ( B \ A9 ) \/ A9 ) = B) by A1,VECTSP_6:41,XBOOLE_1:45;
A10: (( Carrier m ) c= ( B \ A9 ) & ( Carrier n ) c= A) by VECTSP_6:def 4;
then ( ( Carrier m ) \/ ( Carrier n ) ) c= ( ( B \ A9 ) \/ A ) by XBOOLE_1:13;
then ( Carrier ( m - n ) ) c= B by A9,XBOOLE_1:1;
then reconsider o = ( m - n ) as (Linear_Combination of B) by VECTSP_6:def 4;
A11: B is  linearly-independent by VECTSP_7:def 3;
( ( Sum m ) - ( Sum n ) ) = ( 0. V ) by A8,VECTSP_1:19;
then ( Sum ( m - n ) ) = ( 0. V ) by VECTSP_6:47;
then A12: ( Carrier o ) = ( {} ) by A11,VECTSP_7:def 1;
A9 misses ( B \ A9 ) by XBOOLE_1:79;
then ( Carrier ( m - n ) ) = ( ( Carrier m ) \/ ( Carrier n ) ) by A10,CKB46:1,XBOOLE_1:64;
then ( Carrier m ) = ( {} ) by A12;
then ( T .: ( Carrier m ) ) = ( {} ) by RELAT_1:116;
hence thesis by A5,A7,CKB44:1,XBOOLE_1:3;
end;
( dom T ) = ( [#] V ) by CKB10:1;
then X c= ( dom ( T | X ) ) by RELAT_1:62;
then X,( ( T | X ) .: X ) are_equipotent  by A3,CARD_1:33;
then X,C are_equipotent  by RELAT_1:129;
then A13: ( card C ) = ( card X ) by CARD_1:5;
reconsider C as  finite (Subset of ( im T )) by CKB18:1;
reconsider L = ( Lin C ) as  strict (Subspace of ( im T ));
(for v being (Element of ( im T )) holds v in L)
proof
reconsider A9 = A as (Subset of V) by CKB25:1;
let v being (Element of ( im T ));
reconsider v9 = v as (Element of W) by VECTSP_4:10;
reconsider C9 = C as (Subset of W);
v in ( im T ) by STRUCT_0:def 5;
then consider u being (Element of V) such that A14: ( T . u ) = v9 by CKB19:1;
V is_the_direct_sum_of ( Lin A9 ),( Lin ( B \ A9 ) ) by A1,CKB47:1;
then A15: ( (Omega). V ) = ( ( Lin A9 ) + ( Lin ( B \ A9 ) ) ) by VECTSP_5:def 4;
u in ( (Omega). V ) by STRUCT_0:def 5;
then consider u1 being (Element of V),u2 being (Element of V) such that A16: u1 in ( Lin A9 ) and A17: u2 in ( Lin ( B \ A9 ) ) and A18: u = ( u1 + u2 ) by A15,VECTSP_5:1;
consider l being (Linear_Combination of ( B \ A9 )) such that A19: u2 = ( Sum l ) by A17,VECTSP_7:7;
( Lin A ) = ( ker T ) by VECTSP_7:def 3;
then u1 in ( ker T ) by A16,VECTSP_9:17;
then A20: ( T . u1 ) = ( 0. W ) by CKB14:1;
(( T @ l ) is (Linear_Combination of ( T .: ( Carrier l ) )) & ( Carrier l ) c= ( B \ A9 )) by CKB43:1,VECTSP_6:def 4;
then reconsider m = ( T @ l ) as (Linear_Combination of C9) by RELAT_1:123,VECTSP_6:4;
( T . u ) = ( ( T . u1 ) + ( T . u2 ) ) by A18,GRCAT_1:def 8;
then A21: ( T . u ) = ( T . u2 ) by A20,RLVECT_1:4;
(ex m being (Linear_Combination of C9) st v = ( Sum m ))
proof
take m;
thus thesis by A1,A14,A21,A19,CKB54:1;
end;
then v in ( Lin C9 ) by VECTSP_7:7;
hence thesis by VECTSP_9:17;
end;
then A22: ( Lin C ) = ( im T ) by VECTSP_4:32;
reconsider C as  linearly-independent (Subset of ( im T )) by A4,VECTSP_9:12;
reconsider C as  finite (Basis of ( im T )) by A22,VECTSP_7:def 3;
A23: (( nullity T ) = ( card A ) & ( rank T ) = ( card C )) by VECTSP_9:def 1;
( dim V ) = ( card B ) by VECTSP_9:def 1
.= ( ( rank T ) + ( nullity T ) ) by A2,A13,A23,CARD_2:40,XBOOLE_1:79;
hence thesis;
end;
