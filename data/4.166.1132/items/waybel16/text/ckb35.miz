environ
vocabularies WAYBEL_0,SUBSET_1,LATTICES,XBOOLE_0,EQREL_1,ORDERS_2,ORDERS_1,STRUCT_0,XXREAL_0,TARSKI,ARYTM_3,LATTICE3,ARYTM_0,RELAT_1,RELAT_2,CARD_FIL,REWRITE1,FUNCT_1,FUNCOP_1,YELLOW_0,SEQM_3,FINSET_1,ORDINAL2,YELLOW_1,SETFAM_1,WELLORD2,ZFMISC_1,WAYBEL_1,WAYBEL_6,YELLOW_8,WAYBEL_2,INT_2,WAYBEL_3,WAYBEL_8,RCOMP_1,WAYBEL16;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,FINSET_1,RELSET_1,FUNCT_2,FUNCOP_1,DOMAIN_1,STRUCT_0,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_4,YELLOW_7,WAYBEL_0,WAYBEL_1,WAYBEL_2,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_8,CKB9,CKB10,CKB23,CKB25;
definitions TARSKI,XBOOLE_0,CKB9,CKB10,CKB23,CKB25;
theorems TARSKI,SUBSET_1,SETFAM_1,RELAT_1,ZFMISC_1,FUNCOP_1,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_4,YELLOW_7,WAYBEL_0,WAYBEL_1,WAYBEL_2,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_7,WAYBEL_8,WAYBEL13,WAYBEL14,WAYBEL15,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34;
schemes DOMAIN_1,SUBSET_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_2,WAYBEL_3,YELLOW_7,WAYBEL_6,WAYBEL_8,CKB11,CKB22;
constructors SETFAM_1,DOMAIN_1,ORDERS_3,WAYBEL_1,YELLOW_4,WAYBEL_2,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_8,RELSET_1,CKB9,CKB10,CKB23,CKB25;
requirements BOOLE,SUBSET;
begin
theorem
Th29: (for L being  distributive  complete LATTICE holds (( L opp ) is  meet-continuous implies (for p being (Element of L) holds (p is  completely-irreducible implies ( (the carrier of L) \ ( downarrow p ) ) is  Open  Open (Filter of L)))))
proof
let L being  distributive  complete LATTICE;
assume A1: ( L opp ) is  meet-continuous;
let p being (Element of L);
assume A2: p is  completely-irreducible;
then consider q being (Element of L) such that A3: p < q and A4: (for s being (Element of L) holds (p < s implies q <= s)) and ( uparrow p ) = ( { p } \/ ( uparrow q ) ) by CKB26:1;
defpred P[ (Element of L) ]
 means
($1 <= q & (not $1 <= p));
reconsider F = { t where t is (Element of L): P[ t ] } as (Subset of L) from DOMAIN_1:sch 7;
(not q <= p) by A3,ORDERS_2:6;
then A5: q in F;
A6:now
let x being (Element of L);
let y being (Element of L);
assume that
A7: x in F
and
A8: y in F;
A9: (ex x1 being (Element of L) st ((x1 = x & x1 <= q) & (not x1 <= p))) by A7;
take z = ( x "/\" y );
A10: z <= x by YELLOW_0:23;
A11: (ex y1 being (Element of L) st ((y1 = y & y1 <= q) & (not y1 <= p))) by A8;
A12: (not z <= p)
proof
A13:now
let d being (Element of L);
assume (d >= y & d >= p);
then d > p by A11,ORDERS_2:def 6;
hence q <= d by A4;
end;
assume A14: z <= p;
A15: q >= p by A3,ORDERS_2:def 6;
x = ( x "/\" q ) by A9,YELLOW_0:25
.= ( x "/\" ( y "\/" p ) ) by A11,A15,A13,YELLOW_0:22
.= ( z "\/" ( x "/\" p ) ) by WAYBEL_1:def 3
.= ( ( x "\/" z ) "/\" ( z "\/" p ) ) by WAYBEL_1:5
.= ( x "/\" ( p "\/" z ) ) by A10,YELLOW_0:24
.= ( x "/\" p ) by A14,YELLOW_0:24;
hence contradiction by A9,YELLOW_0:25;
end;
z <= q by A9,A10,ORDERS_2:3;
hence z in F by A12;
thus z <= x by YELLOW_0:23;
thus z <= y by YELLOW_0:23;
end;
p is  irreducible by A2,CKB29:1;
then A16: p is  prime by WAYBEL_6:27;
(not ( Top L ) in ( Irr L )) by CKB27:1;
then p <> ( Top L ) by A2,CKB25:def 1;
then ( ( downarrow p ) ` ) is (Filter of L) by A16,WAYBEL_6:26;
then reconsider V = ( (the carrier of L) \ ( downarrow p ) ) as (Filter of L) by SUBSET_1:def 4;
reconsider F as non  empty  filtered (Subset of L) by A5,A6,WAYBEL_0:def 2;
reconsider F1 = F as non  empty  directed (Subset of ( L opp )) by YELLOW_7:27;
now
let x being (Element of L);
assume A17: x in V;
take y = ( inf F );
thus y in V
proof
now
let r being (Element of L);
assume r in ( { p } "\/" F );
then r in { ( p "\/" v ) where v is (Element of L): v in F } by YELLOW_4:15;
then consider v being (Element of L) such that A18: r = ( p "\/" v ) and A19: v in F;
(ex v1 being (Element of L) st ((v = v1 & v1 <= q) & (not v1 <= p))) by A19;
then A20: p <> r by A18,YELLOW_0:24;
p <= r by A18,YELLOW_0:22;
then p < r by A20,ORDERS_2:def 6;
hence q <= r by A4;
end;
then A21: q is_<=_than ( { p } "\/" F ) by LATTICE3:def 8;
A22:  ex_inf_of ( { ( p ~ ) } "/\" F1 ),L by YELLOW_0:17;
 ex_inf_of F,L by YELLOW_0:17;
then A23: ( inf F ) = ( sup F1 ) by YELLOW_7:13;
A24: { ( p ~ ) } = { p } by LATTICE3:def 6;
assume (not y in V);
then y in ( downarrow p ) by XBOOLE_0:def 5;
then y <= p by WAYBEL_0:17;
then p = ( p "\/" y ) by YELLOW_0:24
.= ( ( p ~ ) "/\" ( ( inf F ) ~ ) ) by YELLOW_7:23
.= ( ( p ~ ) "/\" ( sup F1 ) ) by A23,LATTICE3:def 6
.= ( sup ( { ( p ~ ) } "/\" F1 ) ) by A1,WAYBEL_2:def 6
.= ( "/\" (( { ( p ~ ) } "/\" F1 ),L) ) by A22,YELLOW_7:13
.= ( "/\" (( { p } "\/" F ),L) ) by A24,CKB5:1;
then q <= p by A21,YELLOW_0:33;
hence contradiction by A3,ORDERS_2:6;
end;

then (not y in ( downarrow p )) by XBOOLE_0:def 5;
then A25: (not y <= p) by WAYBEL_0:17;
now
let D being non  empty  directed (Subset of L);
assume A26: y <= ( sup D );
( D \ ( downarrow p ) ) is non  empty
proof
assume ( D \ ( downarrow p ) ) is  empty;
then D c= ( downarrow p ) by XBOOLE_1:37;
then ( sup D ) <= ( sup ( downarrow p ) ) by WAYBEL_7:1;
then y <= ( sup ( downarrow p ) ) by A26,ORDERS_2:3;
hence contradiction by A25,WAYBEL_0:34;
end;
then consider d being set such that A27: d in ( D \ ( downarrow p ) ) by XBOOLE_0:def 1;
reconsider d as (Element of L) by A27;
take d;
thus d in D by A27,XBOOLE_0:def 5;
(not d in ( downarrow p )) by A27,XBOOLE_0:def 5;
then (not d <= p) by WAYBEL_0:17;
then (( d "/\" q ) <= q & (not ( d "/\" q ) <= p)) by A3,A4,CKB34:1,YELLOW_0:23;
then (y is_<=_than F & ( d "/\" q ) in F) by YELLOW_0:33;
then (( d "/\" q ) <= d & y <= ( d "/\" q )) by LATTICE3:def 8,YELLOW_0:23;
hence y <= d by ORDERS_2:3;
end;
then A28: y << y by WAYBEL_3:def 1;
(not x in ( downarrow p )) by A17,XBOOLE_0:def 5;
then (not x <= p) by WAYBEL_0:17;
then (( x "/\" q ) <= q & (not ( x "/\" q ) <= p)) by A3,A4,CKB34:1,YELLOW_0:23;
then (y is_<=_than F & ( x "/\" q ) in F) by YELLOW_0:33;
then (( x "/\" q ) <= x & y <= ( x "/\" q )) by LATTICE3:def 8,YELLOW_0:23;
then y <= x by ORDERS_2:3;
hence y << x by A28,WAYBEL_3:2;
end;
hence thesis by WAYBEL_6:def 1;
end;
