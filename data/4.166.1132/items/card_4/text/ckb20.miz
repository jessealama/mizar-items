environ
vocabularies NUMBERS,XBOOLE_0,NAT_1,ORDINAL1,CARD_1,FUNCT_1,FINSET_1,CARD_3,REAL_1,NEWTON,ARYTM_3,RELAT_1,XXREAL_0,SUBSET_1,ZFMISC_1,MCART_1,TARSKI,CARD_2,FINSEQ_2,FINSEQ_1,ORDINAL4,PARTFUN1,FUNCT_4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,REAL_1,NAT_1,NAT_D,RELAT_1,FUNCT_1,FINSEQ_1,FINSET_1,ORDINAL1,WELLORD2,MCART_1,DOMAIN_1,CARD_2,FINSEQ_2,RELSET_1,FUNCT_2,BINOP_1,FUNCT_4,PARTFUN1,NEWTON,CARD_3,XXREAL_0;
definitions TARSKI,FUNCT_1,WELLORD2,RELAT_1,XBOOLE_0,BINOP_1,ORDINAL1,CARD_3;
theorems TARSKI,ZFMISC_1,NAT_1,ORDINAL1,ORDINAL3,WELLORD2,FUNCT_1,FUNCT_2,FUNCT_4,PARTFUN1,MCART_1,CARD_3,ORDERS_1,CARD_1,CARD_2,NEWTON,FINSEQ_1,FINSEQ_2,RELAT_1,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_1,XXREAL_0,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes NAT_1,FUNCT_1,XBOOLE_0,BINOP_1,CLASSES1,CKB17,CKB18,CKB19;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FINSET_1,XXREAL_0,NAT_1,CARD_1,MEMBERED,FINSEQ_1,FINSEQ_2,CARD_3,XCMPLX_0,RELSET_1;
constructors PARTFUN1,WELLORD2,BINOP_1,DOMAIN_1,FUNCOP_1,FUNCT_4,ORDINAL3,XXREAL_0,NAT_1,NAT_D,MEMBERED,CARD_2,CARD_3,NEWTON,FINSUB_1,RELSET_1;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve X for set;
reserve Y for set;
reserve Z for set;
reserve x for set;
reserve y for set;
reserve y1 for set;
reserve y2 for set;
reserve M for Cardinal;
reserve g for Function;
reserve f for Function;
reserve f1 for Function;
reserve f2 for Function;
reserve X1 for set;
reserve X2 for set;
theorem
Th77: ((not M is  finite) implies ( M *` M ) = M)
proof
defpred P[ set ]
 means
(ex f st ((f = $1 & f is  one-to-one) & ( dom f ) = [: ( rng f ),( rng f ) :]));
consider X such that A1: (x in X iff (x in ( PFuncs ([: M,M :],M) ) & P[ x ])) from XBOOLE_0:sch 1;
A2: (x in X implies x is Function)
proof
assume x in X;
then (ex f st ((f = x & f is  one-to-one) & ( dom f ) = [: ( rng f ),( rng f ) :])) by A1;
hence thesis;
end;
A3: (for Z holds (((Z <> ( {} ) & Z c= X) & Z is  c=-linear) implies ( union Z ) in X))
proof
let Z;
assume that
Z <> ( {} )
and
A4: Z c= X
and
A5: Z is  c=-linear;
( union Z ) is  Relation-like  Function-like
proof
set F = ( union Z );
thus (for x holds (x in F implies (ex y1 st (ex y2 st [ y1,y2 ] = x))))
proof
let x;
assume x in F;
then consider Y such that A6: x in Y and A7: Y in Z by TARSKI:def 4;
reconsider f = Y as Function by A2,A4,A7;
(for x holds (x in f implies (ex y1 st (ex y2 st [ y1,y2 ] = x)))) by RELAT_1:def 1;
hence thesis by A6;
end;

let x;
let y1;
let y2;
assume [ x,y1 ] in F;
then consider X1 such that A8: [ x,y1 ] in X1 and A9: X1 in Z by TARSKI:def 4;
assume [ x,y2 ] in F;
then consider X2 such that A10: [ x,y2 ] in X2 and A11: X2 in Z by TARSKI:def 4;
reconsider f1 = X1,f2 = X2 as Function by A2,A4,A9,A11;
X1,X2 are_c=-comparable  by A5,A9,A11,ORDINAL1:def 8;
then (X1 c= X2 or X2 c= X1) by XBOOLE_0:def 9;
then (([ x,y2 ] in X1 & (for x holds (for y1 holds (for y2 holds (([ x,y1 ] in f1 & [ x,y2 ] in f1) implies y1 = y2))))) or ([ x,y1 ] in X2 & (for x holds (for y1 holds (for y2 holds (([ x,y1 ] in f2 & [ x,y2 ] in f2) implies y1 = y2)))))) by A8,A10,FUNCT_1:def 1;
hence thesis by A8,A10;
end;
then reconsider f = ( union Z ) as Function;
A12: f is  one-to-one
proof
let x1 being set,x2 being set;
assume that
A13: x1 in ( dom f )
and
A14: x2 in ( dom f );
[ x1,( f . x1 ) ] in f by A13,FUNCT_1:1;
then consider X1 such that A15: [ x1,( f . x1 ) ] in X1 and A16: X1 in Z by TARSKI:def 4;
[ x2,( f . x2 ) ] in f by A14,FUNCT_1:1;
then consider X2 such that A17: [ x2,( f . x2 ) ] in X2 and A18: X2 in Z by TARSKI:def 4;
consider f2 such that A19: f2 = X2 and A20: f2 is  one-to-one and ( dom f2 ) = [: ( rng f2 ),( rng f2 ) :] by A1,A4,A18;
consider f1 such that A21: f1 = X1 and A22: f1 is  one-to-one and ( dom f1 ) = [: ( rng f1 ),( rng f1 ) :] by A1,A4,A16;
X1,X2 are_c=-comparable  by A5,A16,A18,ORDINAL1:def 8;
then (X1 c= X2 or X2 c= X1) by XBOOLE_0:def 9;
then ((((x1 in ( dom f1 ) & x2 in ( dom f1 )) & ( f . x1 ) = ( f1 . x1 )) & ( f . x2 ) = ( f1 . x2 )) or (((x1 in ( dom f2 ) & x2 in ( dom f2 )) & ( f . x1 ) = ( f2 . x1 )) & ( f . x2 ) = ( f2 . x2 ))) by A15,A17,A21,A19,FUNCT_1:1;
hence thesis by A22,A20,FUNCT_1:def 4;
end;
A23: ( dom f ) = [: ( rng f ),( rng f ) :]
proof
thus ( dom f ) c= [: ( rng f ),( rng f ) :]
proof
let x;
assume x in ( dom f );
then [ x,( f . x ) ] in f by FUNCT_1:def 2;
then consider Y such that A24: [ x,( f . x ) ] in Y and A25: Y in Z by TARSKI:def 4;
consider g being Function such that A26: g = Y and g is  one-to-one and A27: ( dom g ) = [: ( rng g ),( rng g ) :] by A1,A4,A25;
g c= f by A25,A26,ZFMISC_1:74;
then ( rng g ) c= ( rng f ) by RELAT_1:11;
then A28: ( dom g ) c= [: ( rng f ),( rng f ) :] by A27,ZFMISC_1:96;
x in ( dom g ) by A24,A26,FUNCT_1:1;
hence thesis by A28;
end;

let x1 being set,x2 being set;
assume A29: [ x1,x2 ] in [: ( rng f ),( rng f ) :];
then A30: [ x1,x2 ] = [ ( [ x1,x2 ] `1 ),( [ x1,x2 ] `2 ) ] by MCART_1:21;
( [ x1,x2 ] `1 ) in ( rng f ) by A29,MCART_1:10;
then consider y1 such that A31: (y1 in ( dom f ) & ( [ x1,x2 ] `1 ) = ( f . y1 )) by FUNCT_1:def 3;
( [ x1,x2 ] `2 ) in ( rng f ) by A29,MCART_1:10;
then consider y2 such that A32: (y2 in ( dom f ) & ( [ x1,x2 ] `2 ) = ( f . y2 )) by FUNCT_1:def 3;
[ y2,( [ x1,x2 ] `2 ) ] in f by A32,FUNCT_1:1;
then consider X2 such that A33: [ y2,( [ x1,x2 ] `2 ) ] in X2 and A34: X2 in Z by TARSKI:def 4;
consider f2 such that A35: f2 = X2 and f2 is  one-to-one and A36: ( dom f2 ) = [: ( rng f2 ),( rng f2 ) :] by A1,A4,A34;
f2 c= f by A34,A35,ZFMISC_1:74;
then A37: ( dom f2 ) c= ( dom f ) by RELAT_1:11;
[ y1,( [ x1,x2 ] `1 ) ] in f by A31,FUNCT_1:1;
then consider X1 such that A38: [ y1,( [ x1,x2 ] `1 ) ] in X1 and A39: X1 in Z by TARSKI:def 4;
consider f1 such that A40: f1 = X1 and f1 is  one-to-one and A41: ( dom f1 ) = [: ( rng f1 ),( rng f1 ) :] by A1,A4,A39;
X1,X2 are_c=-comparable  by A5,A39,A34,ORDINAL1:def 8;
then (X1 c= X2 or X2 c= X1) by XBOOLE_0:def 9;
then ((((y1 in ( dom f1 ) & y2 in ( dom f1 )) & ( f1 . y1 ) = ( [ x1,x2 ] `1 )) & ( f1 . y2 ) = ( [ x1,x2 ] `2 )) or (((y1 in ( dom f2 ) & y2 in ( dom f2 )) & ( f2 . y1 ) = ( [ x1,x2 ] `1 )) & ( f2 . y2 ) = ( [ x1,x2 ] `2 ))) by A38,A33,A40,A35,FUNCT_1:1;
then ((( [ x1,x2 ] `1 ) in ( rng f1 ) & ( [ x1,x2 ] `2 ) in ( rng f1 )) or (( [ x1,x2 ] `1 ) in ( rng f2 ) & ( [ x1,x2 ] `2 ) in ( rng f2 ))) by FUNCT_1:def 3;
then A42: ([ x1,x2 ] in ( dom f1 ) or [ x1,x2 ] in ( dom f2 )) by A30,A41,A36,ZFMISC_1:87;
f1 c= f by A39,A40,ZFMISC_1:74;
then ( dom f1 ) c= ( dom f ) by RELAT_1:11;
hence thesis by A42,A37;
end;
A43: ( rng f ) c= M
proof
let y;
assume y in ( rng f );
then consider x such that A44: (x in ( dom f ) & y = ( f . x )) by FUNCT_1:def 3;
[ x,y ] in ( union Z ) by A44,FUNCT_1:def 2;
then consider Y such that A45: [ x,y ] in Y and A46: Y in Z by TARSKI:def 4;
Y in ( PFuncs ([: M,M :],M) ) by A1,A4,A46;
then consider g being Function such that A47: Y = g and ( dom g ) c= [: M,M :] and A48: ( rng g ) c= M by PARTFUN1:def 3;
(x in ( dom g ) & ( g . x ) = y) by A45,A47,FUNCT_1:1;
then y in ( rng g ) by FUNCT_1:def 3;
hence thesis by A48;
end;
( dom f ) c= [: M,M :]
proof
let x;
assume x in ( dom f );
then [ x,( f . x ) ] in ( union Z ) by FUNCT_1:def 2;
then consider Y such that A49: [ x,( f . x ) ] in Y and A50: Y in Z by TARSKI:def 4;
Y in ( PFuncs ([: M,M :],M) ) by A1,A4,A50;
then consider g being Function such that A51: Y = g and A52: ( dom g ) c= [: M,M :] and ( rng g ) c= M by PARTFUN1:def 3;
x in ( dom g ) by A49,A51,FUNCT_1:1;
hence thesis by A52;
end;
then f in ( PFuncs ([: M,M :],M) ) by A43,PARTFUN1:def 3;
hence thesis by A1,A12,A23;
end;
consider f such that A53: f is  one-to-one and A54: (( dom f ) = [: ( omega ),( omega ) :] & ( rng f ) = ( omega )) by CKB7:1,WELLORD2:def 4;
assume A55: (not M is  finite);
then (not M in ( omega ));
then A56: ( omega ) c= M by CARD_1:4;
then [: ( omega ),( omega ) :] c= [: M,M :] by ZFMISC_1:96;
then f in ( PFuncs ([: M,M :],M) ) by A54,A56,PARTFUN1:def 3;
then X <> ( {} ) by A1,A53,A54;
then consider Y such that A57: Y in X and A58: (for Z holds ((Z in X & Z <> Y) implies (not Y c= Z))) by A3,ORDERS_1:67;
consider f such that A59: f = Y and A60: f is  one-to-one and A61: ( dom f ) = [: ( rng f ),( rng f ) :] by A1,A57;
set A = ( rng f );
A62: [: A,A :],A are_equipotent  by A60,A61,WELLORD2:def 4;
Y in ( PFuncs ([: M,M :],M) ) by A1,A57;
then A63: (ex f st ((Y = f & ( dom f ) c= [: M,M :]) & ( rng f ) c= M)) by PARTFUN1:def 3;
set N = ( card A );
A64: ( card M ) = M by CARD_1:def 2;
then A65: N c= M by A59,A63,CARD_1:11;
A66:now
( ( omega ) \ A ) misses A by XBOOLE_1:79;
then A67: ( ( ( omega ) \ A ) /\ A ) = ( {} ) by XBOOLE_0:def 7;
then [: ( ( ( omega ) \ A ) /\ A ),( A /\ ( ( omega ) \ A ) ) :] = ( {} ) by ZFMISC_1:90;
then A68: ( [: ( ( omega ) \ A ),A :] /\ [: A,( ( omega ) \ A ) :] ) = ( {} ) by ZFMISC_1:100;
[: ( ( ( omega ) \ A ) /\ ( ( omega ) \ A ) ),( ( ( omega ) \ A ) /\ A ) :] = ( {} ) by A67,ZFMISC_1:90;
then ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] /\ [: ( ( omega ) \ A ),A :] ) = ( {} ) by ZFMISC_1:100;
then A69: [: ( ( omega ) \ A ),( ( omega ) \ A ) :] misses [: ( ( omega ) \ A ),A :] by XBOOLE_0:def 7;
[: ( A /\ A ),( ( ( omega ) \ A ) /\ A ) :] = ( {} ) by A67,ZFMISC_1:90;
then A70: ( [: A,( ( omega ) \ A ) :] /\ [: A,A :] ) = ( {} ) by ZFMISC_1:100;
[: ( ( ( omega ) \ A ) /\ A ),( A /\ A ) :] = ( {} ) by A67,ZFMISC_1:90;
then A71: (( ( {} ) \/ ( {} ) ) = ( {} ) & ( [: ( ( omega ) \ A ),A :] /\ [: A,A :] ) = ( {} )) by ZFMISC_1:100;
[: ( ( ( omega ) \ A ) /\ A ),( ( ( omega ) \ A ) /\ A ) :] = ( {} ) by A67,ZFMISC_1:90;
then ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] /\ [: A,A :] ) = ( {} ) by ZFMISC_1:100;
then A72: ( ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] \/ [: ( ( omega ) \ A ),A :] ) /\ [: A,A :] ) = ( {} ) by A71,XBOOLE_1:23;
A73: (( omega ) c= ( ( omega ) +` N ) & ( ( omega ) +` ( omega ) ) = ( omega )) by CARD_2:75,CARD_2:94;
assume A74: A is  finite;
then N in ( omega ) by CARD_1:47,CARD_3:42;
then ( ( omega ) +` N ) c= ( ( omega ) +` ( omega ) ) by CARD_2:83;
then A75: ( omega ) = ( ( omega ) +` N ) by A73,XBOOLE_0:def 10;
N = ( card ( card A ) );
then ( ( omega ) *` N ) c= ( omega ) by A74,CARD_2:89;
then A76: ( ( omega ) +` ( ( omega ) *` N ) ) = ( omega ) by CARD_2:76;
( card ( omega ) ) = ( omega ) by CARD_1:def 2;
then A77: ( omega ) = ( card ( ( omega ) \ A ) ) by A74,A75,CARD_2:98,CARD_3:42;
[: ( ( ( omega ) \ A ) /\ A ),( ( ( omega ) \ A ) /\ ( ( omega ) \ A ) ) :] = ( {} ) by A67,ZFMISC_1:90;
then ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] /\ [: A,( ( omega ) \ A ) :] ) = ( {} ) by ZFMISC_1:100;
then ( ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] \/ [: ( ( omega ) \ A ),A :] ) /\ [: A,( ( omega ) \ A ) :] ) = ( ( {} ) \/ ( {} ) ) by A68,XBOOLE_1:23
.= ( {} );
then ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] \/ [: ( ( omega ) \ A ),A :] ) misses [: A,( ( omega ) \ A ) :] by XBOOLE_0:def 7;
then ( card ( ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] \/ [: ( ( omega ) \ A ),A :] ) \/ [: A,( ( omega ) \ A ) :] ) ) = ( ( card ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] \/ [: ( ( omega ) \ A ),A :] ) ) +` ( card [: A,( ( omega ) \ A ) :] ) ) by CARD_2:35
.= ( ( ( card [: ( ( omega ) \ A ),( ( omega ) \ A ) :] ) +` ( card [: ( ( omega ) \ A ),A :] ) ) +` ( card [: A,( ( omega ) \ A ) :] ) ) by A69,CARD_2:35
.= ( ( ( card [: ( ( omega ) \ A ),( ( omega ) \ A ) :] ) +` ( card [: ( omega ),N :] ) ) +` ( card [: A,( ( omega ) \ A ) :] ) ) by A77,CARD_2:7
.= ( ( ( card [: ( omega ),( omega ) :] ) +` ( card [: ( omega ),N :] ) ) +` ( card [: A,( ( omega ) \ A ) :] ) ) by A77,CARD_2:7
.= ( ( ( omega ) +` ( card [: ( omega ),N :] ) ) +` ( card [: N,( omega ) :] ) ) by A77,CKB7:1,CARD_2:7
.= ( ( ( omega ) +` ( ( omega ) *` N ) ) +` ( card [: N,( omega ) :] ) ) by CARD_2:def 2
.= ( ( ( omega ) +` ( ( omega ) *` N ) ) +` ( N *` ( omega ) ) ) by CARD_2:def 2;
then ( ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] \/ [: ( ( omega ) \ A ),A :] ) \/ [: A,( ( omega ) \ A ) :] ),( ( omega ) \ A ) are_equipotent  by A77,A76,CARD_1:5;
then consider g being Function such that A78: g is  one-to-one and A79: ( dom g ) = ( ( [: ( ( omega ) \ A ),( ( omega ) \ A ) :] \/ [: ( ( omega ) \ A ),A :] ) \/ [: A,( ( omega ) \ A ) :] ) and A80: ( rng g ) = ( ( omega ) \ A ) by WELLORD2:def 4;
A81: ( dom ( g +* f ) ) = ( ( dom g ) \/ ( dom f ) ) by FUNCT_4:def 1;
then A82: ( dom ( g +* f ) ) = ( ( [: ( ( omega ) \ A ),( ( ( omega ) \ A ) \/ A ) :] \/ [: A,( ( omega ) \ A ) :] ) \/ [: A,A :] ) by A61,A79,ZFMISC_1:97
.= ( [: ( ( omega ) \ A ),( ( ( omega ) \ A ) \/ A ) :] \/ ( [: A,( ( omega ) \ A ) :] \/ [: A,A :] ) ) by XBOOLE_1:4
.= ( [: ( ( omega ) \ A ),( ( ( omega ) \ A ) \/ A ) :] \/ [: A,( ( ( omega ) \ A ) \/ A ) :] ) by ZFMISC_1:97
.= [: ( ( ( omega ) \ A ) \/ A ),( ( ( omega ) \ A ) \/ A ) :] by ZFMISC_1:97
.= [: ( ( omega ) \/ A ),( ( ( omega ) \ A ) \/ A ) :] by XBOOLE_1:39
.= [: ( ( omega ) \/ A ),( ( omega ) \/ A ) :] by XBOOLE_1:39;
( ( {} ) \/ ( {} ) ) = ( {} );
then ( ( dom g ) /\ ( dom f ) ) = ( {} ) by A61,A79,A72,A70,XBOOLE_1:23;
then A83: ( dom g ) misses ( dom f ) by XBOOLE_0:def 7;
then g c= ( g +* f ) by FUNCT_4:32;
then (( rng f ) c= ( rng ( g +* f ) ) & ( rng g ) c= ( rng ( g +* f ) )) by FUNCT_4:18,RELAT_1:11;
then (( rng ( g +* f ) ) c= ( ( rng g ) \/ ( rng f ) ) & ( ( rng g ) \/ ( rng f ) ) c= ( rng ( g +* f ) )) by FUNCT_4:17,XBOOLE_1:8;
then A84: ( rng ( g +* f ) ) = ( ( rng g ) \/ ( rng f ) ) by XBOOLE_0:def 10
.= ( ( omega ) \/ A ) by A80,XBOOLE_1:39;
A85: ( g +* f ) is  one-to-one
proof
( rng f ) misses ( rng g ) by A80,XBOOLE_1:79;
then A86: ( ( rng f ) /\ ( rng g ) ) = ( {} ) by XBOOLE_0:def 7;
let x;
let y;
assume that
A87: x in ( dom ( g +* f ) )
and
A88: y in ( dom ( g +* f ) );
A89: (y in ( dom g ) or y in ( dom f )) by A81,A88,XBOOLE_0:def 3;
(x in ( dom f ) or x in ( dom g )) by A81,A87,XBOOLE_0:def 3;
then (((((( ( g +* f ) . x ) = ( f . x ) & ( ( g +* f ) . y ) = ( f . y )) & (( f . x ) = ( f . y ) implies x = y)) or ((( ( g +* f ) . x ) = ( g . x ) & ( ( g +* f ) . y ) = ( g . y )) & (( g . x ) = ( g . y ) implies x = y))) or (((( ( g +* f ) . x ) = ( f . x ) & ( ( g +* f ) . y ) = ( g . y )) & ( f . x ) in ( rng f )) & ( g . y ) in ( rng g ))) or (((( ( g +* f ) . x ) = ( g . x ) & ( ( g +* f ) . y ) = ( f . y )) & ( g . x ) in ( rng g )) & ( f . y ) in ( rng f ))) by A60,A78,A83,A89,FUNCT_1:def 3,FUNCT_1:def 4,FUNCT_4:13,FUNCT_4:16;
hence thesis by A86,XBOOLE_0:def 4;
end;
set x = the (Element of ( ( omega ) \ A ));
( ( omega ) \ A ) <> ( {} ) by A74,A75,CARD_1:68,CARD_3:42;
then A90: (x in ( omega ) & (not x in A)) by XBOOLE_0:def 5;
A91: ( ( omega ) \/ A ) c= M by A56,A59,A63,XBOOLE_1:8;
then [: ( ( omega ) \/ A ),( ( omega ) \/ A ) :] c= [: M,M :] by ZFMISC_1:96;
then ( g +* f ) in ( PFuncs ([: M,M :],M) ) by A84,A82,A91,PARTFUN1:def 3;
then ( g +* f ) in X by A1,A84,A82,A85;
then ( g +* f ) = f by A58,A59,FUNCT_4:25;
hence contradiction by A84,A90,XBOOLE_0:def 3;
end;
A92:now
( N *` N ) = ( card [: N,N :] ) by CARD_2:def 2;
then A93: ( N *` N ) = ( card [: A,A :] ) by CARD_2:7;
[: A,A :],A are_equipotent  by A60,A61,WELLORD2:def 4;
then A94: ( N *` N ) = N by A93,CARD_1:5;
assume N <> M;
then A95: N in M by A65,CARD_1:3;
( M +` N ) = M by A55,A65,CARD_2:76;
then ( card ( M \ A ) ) = M by A64,A95,CARD_2:98;
then consider h being Function such that A96: (h is  one-to-one & ( dom h ) = A) and A97: ( rng h ) c= ( M \ A ) by A65,CARD_1:10;
set B = ( rng h );
A,B are_equipotent  by A96,WELLORD2:def 4;
then A98: N = ( card B ) by CARD_1:5;
(A misses ( M \ A ) & ( A /\ B ) c= ( A /\ ( M \ A ) )) by A97,XBOOLE_1:26,XBOOLE_1:79;
then ( A /\ B ) c= ( {} ) by XBOOLE_0:def 7;
then ( A /\ B ) = ( {} );
then A99: A misses B by XBOOLE_0:def 7;
( ( A \/ B ) \ A ) = ( B \ A ) by XBOOLE_1:40
.= B by A99,XBOOLE_1:83;
then A100: [: B,B :] c= [: ( ( A \/ B ) \ A ),( A \/ B ) :] by ZFMISC_1:96;
([: ( ( A \/ B ) \ A ),( A \/ B ) :] c= ( [: ( ( A \/ B ) \ A ),( A \/ B ) :] \/ [: ( A \/ B ),( ( A \/ B ) \ A ) :] ) & ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ) = ( [: ( ( A \/ B ) \ A ),( A \/ B ) :] \/ [: ( A \/ B ),( ( A \/ B ) \ A ) :] )) by XBOOLE_1:7,ZFMISC_1:103;
then A101: [: B,B :] c= ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ) by A100,XBOOLE_1:1;
( N +` N ) = N by A66,CARD_2:75;
then ( card ( A \/ B ) ) = N by A98,A99,CARD_2:35;
then ( card [: ( A \/ B ),( A \/ B ) :] ) = ( card [: N,N :] ) by CARD_2:7
.= N by A94,CARD_2:def 2;
then A102: ( card ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ) ) c= N by CARD_1:11;
N = ( card [: N,N :] ) by A94,CARD_2:def 2;
then N = ( card [: B,B :] ) by A98,CARD_2:7;
then N c= ( card ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ) ) by A101,CARD_1:11;
then ( card ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ) ) = N by A102,XBOOLE_0:def 10;
then ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ),B are_equipotent  by A98,CARD_1:5;
then consider g such that A103: g is  one-to-one and A104: ( dom g ) = ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ) and A105: ( rng g ) = B by WELLORD2:def 4;
A106: ( dom ( g +* f ) ) = ( ( dom g ) \/ ( dom f ) ) by FUNCT_4:def 1;
then (A c= ( A \/ B ) & ( dom ( g +* f ) ) = ( [: ( A \/ B ),( A \/ B ) :] \/ [: A,A :] )) by A61,A104,XBOOLE_1:7,XBOOLE_1:39;
then A107: ( dom ( g +* f ) ) = [: ( A \/ B ),( A \/ B ) :] by XBOOLE_1:12,ZFMISC_1:96;
A108: ( [: ( A \/ B ),( A \/ B ) :] \ [: A,A :] ) misses [: ( rng f ),( rng f ) :] by XBOOLE_1:79;
A109: ( g +* f ) is  one-to-one
proof
let x;
let y;
assume that
A110: x in ( dom ( g +* f ) )
and
A111: y in ( dom ( g +* f ) );
A112: (y in ( dom g ) or y in ( dom f )) by A106,A111,XBOOLE_0:def 3;
(x in ( dom f ) or x in ( dom g )) by A106,A110,XBOOLE_0:def 3;
then A113: (((((( ( g +* f ) . x ) = ( f . x ) & ( ( g +* f ) . y ) = ( f . y )) & (( f . x ) = ( f . y ) implies x = y)) or ((( ( g +* f ) . x ) = ( g . x ) & ( ( g +* f ) . y ) = ( g . y )) & (( g . x ) = ( g . y ) implies x = y))) or (((( ( g +* f ) . x ) = ( f . x ) & ( ( g +* f ) . y ) = ( g . y )) & ( f . x ) in ( rng f )) & ( g . y ) in ( rng g ))) or (((( ( g +* f ) . x ) = ( g . x ) & ( ( g +* f ) . y ) = ( f . y )) & ( g . x ) in ( rng g )) & ( f . y ) in ( rng f ))) by A60,A61,A103,A104,A108,A112,FUNCT_1:def 3,FUNCT_1:def 4,FUNCT_4:13,FUNCT_4:16;
(A misses ( M \ A ) & ( A /\ B ) c= ( A /\ ( M \ A ) )) by A97,XBOOLE_1:26,XBOOLE_1:79;
then A114: ( ( rng f ) /\ ( rng g ) ) c= ( {} ) by A105,XBOOLE_0:def 7;
assume ( ( g +* f ) . x ) = ( ( g +* f ) . y );
hence thesis by A114,A113,XBOOLE_0:def 4;
end;
set x = the (Element of B);
A115: B <> ( {} ) by A66,A98;
then x in ( M \ A ) by A97,TARSKI:def 3;
then A116: (not x in ( rng f )) by XBOOLE_0:def 5;
g c= ( g +* f ) by A61,A104,FUNCT_4:32,XBOOLE_1:79;
then (( rng f ) c= ( rng ( g +* f ) ) & ( rng g ) c= ( rng ( g +* f ) )) by FUNCT_4:18,RELAT_1:11;
then A117: ( ( rng g ) \/ ( rng f ) ) c= ( rng ( g +* f ) ) by XBOOLE_1:8;
( rng ( g +* f ) ) c= ( ( rng g ) \/ ( rng f ) ) by FUNCT_4:17;
then A118: ( rng ( g +* f ) ) = ( ( rng g ) \/ ( rng f ) ) by A117,XBOOLE_0:def 10;
B c= M by A97,XBOOLE_1:1;
then A119: ( A \/ B ) c= M by A59,A63,XBOOLE_1:8;
then [: ( A \/ B ),( A \/ B ) :] c= [: M,M :] by ZFMISC_1:96;
then ( g +* f ) in ( PFuncs ([: M,M :],M) ) by A105,A118,A107,A119,PARTFUN1:def 3;
then A120: ( g +* f ) in X by A1,A105,A118,A107,A109;
x in ( rng ( g +* f ) ) by A105,A118,A115,XBOOLE_0:def 3;
hence contradiction by A58,A59,A120,A116,FUNCT_4:25;
end;
then ( M *` M ) = ( card [: N,N :] ) by CARD_2:def 2
.= ( card [: A,A :] ) by CARD_2:7;
hence thesis by A92,A62,CARD_1:5;
end;
