environ
vocabularies NUMBERS,FUNCT_1,CARD_3,RELAT_1,XBOOLE_0,TARSKI,CARD_1,ZFMISC_1,SUBSET_1,PRE_TOPC,STRUCT_0,RELAT_2,FINSEQ_1,NAT_1,XXREAL_0,ARYTM_3,FINSET_1,SETFAM_1,PRALG_1,PBOOLE,FUNCOP_1,WAYBEL_3,FUNCT_4,RLVECT_2,INTEGRA1,ARYTM_1,ORDINAL4,PENCIL_1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,XCMPLX_0,SETFAM_1,CARD_1,NUMBERS,NAT_1,FINSET_1,RELAT_1,DOMAIN_1,STRUCT_0,FUNCT_1,PBOOLE,FUNCT_7,WAYBEL_3,FINSEQ_1,CARD_3,PRE_TOPC,PZFMISC1,FUNCOP_1,PRALG_1,XXREAL_0,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
definitions TARSKI,WAYBEL_3,PBOOLE,XBOOLE_0,PRALG_1,STRUCT_0,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
theorems TARSKI,FUNCT_1,FUNCOP_1,PBOOLE,CARD_3,PRALG_1,STRUCT_0,CARD_1,YELLOW11,ENUMSET1,FINSEQ_1,CARD_2,ZFMISC_1,NAT_1,FUNCT_7,YELLOW_6,YELLOW_8,PZFMISC1,PUA2MSS1,FINSEQ_3,RELAT_1,XBOOLE_0,XBOOLE_1,REALSET1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,PRE_POLY,SUBSET_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
schemes FINSEQ_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,XREAL_0,CARD_3,REALSET1,PZFMISC1,STRUCT_0,YELLOW_6,ORDINAL1,CARD_1,ZFMISC_1,PRE_POLY,FUNCOP_1;
constructors XXREAL_0,PZFMISC1,REALSET2,PRALG_1,WAYBEL_3,POLYNOM1,PBOOLE,FUNCT_7,FUNCT_4,RELSET_1,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
theorem
Th7: (for X being non  empty set holds (3 c= ( card X ) implies (for S being TopStruct holds (((the carrier of S) = X & (the topology of S) = { L where L is (Subset of X): 2 = ( card L ) }) implies S is non  empty non  void non  degenerated non  truly-partial  with_non_trivial_blocks  identifying_close_blocks  without_isolated_points))))
proof
let X being non  empty set;
assume A1: 3 c= ( card X );
A2: 2 c= 3 by NAT_1:39;
then 2 c= ( card X ) by A1,XBOOLE_1:1;
then consider x,y being set such that A3: (x in X & y in X) and A4: x <> y by CKB2:1;
{ x,y } c= X
proof
let a being set;
assume a in { x,y };
hence thesis by A3,TARSKI:def 2;
end;
then reconsider l = { x,y } as (Subset of X);
let S being TopStruct;
assume that
A5: (the carrier of S) = X
and
A6: (the topology of S) = { L where L is (Subset of X): 2 = ( card L ) };
thus S is non  empty by A5;
2 = ( card l ) by A4,CARD_2:57;
then A7: l in (the topology of S) by A6;
then reconsider F = { L where L is (Subset of X): 2 = ( card L ) } as non  empty set by A6;
thus S is non  void by A7,CKB11:def 1;
now
assume X in F;
then (ex L being (Subset of X) st (X = L & 2 = ( card L )));
hence contradiction by A1,NAT_1:39;
end;
then (not X is (Element of F));
hence S is non  degenerated by A5,A6,CKB12:def 1;
(for x,y being (Point of S) holds x,y are_collinear )
proof
let x being (Point of S);
let y being (Point of S);
per cases ;
suppose A8: x = y;

consider z being set such that A9: z in X and A10: z <> x by A1,A2,CKB3:1,XBOOLE_1:1;
reconsider z as (Point of S) by A5,A9;
A11: { x,y } c= { x,z }
proof
let a being set;
assume a in { x,y };
then (a = x or a = y) by TARSKI:def 2;
hence thesis by A8,TARSKI:def 2;
end;
{ x,z } c= X
proof
let a being set;
assume a in { x,z };
then (a = x or a = z) by TARSKI:def 2;
hence thesis by A5;
end;
then reconsider l = { x,z } as (Subset of X);
( card l ) = 2 by A10,CARD_2:57;
then l in (the topology of S) by A6;
hence thesis by A11,CKB8:def 1;
end;
suppose A12: x <> y;

{ x,y } c= X
proof
let a being set;
assume a in { x,y };
then (a = x or a = y) by TARSKI:def 2;
hence thesis by A5;
end;
then reconsider l = { x,y } as (Subset of X);
( card { x,y } ) = 2 by A12,CARD_2:57;
then l in (the topology of S) by A6;
hence thesis by CKB8:def 1;
end;
end;
hence S is non  truly-partial by CKB15:def 1;
thus S is  with_non_trivial_blocks
proof
let k being (Block of S);
k in (the topology of S) by A7;
then (ex m being (Subset of X) st (m = k & ( card m ) = 2)) by A6;
hence thesis;
end;

thus S is  identifying_close_blocks
proof
let k being (Block of S);
let l being (Block of S);
assume 2 c= ( card ( k /\ l ) );
then consider a,b being set such that A13: (a in ( k /\ l ) & b in ( k /\ l )) and A14: a <> b by CKB2:1;
A15: { a,b } c= ( k /\ l )
proof
let x being set;
assume x in { a,b };
hence thesis by A13,TARSKI:def 2;
end;
l in (the topology of S) by A7;
then A16: (ex n being (Subset of X) st (n = l & ( card n ) = 2)) by A6;
then reconsider l1 = l as  finite set;
A17: ( k /\ l ) c= l1 by XBOOLE_1:17;
k in (the topology of S) by A7;
then A18: (ex m being (Subset of X) st (m = k & ( card m ) = 2)) by A6;
then reconsider k1 = k as  finite set;
A19: ( card { a,b } ) = 2 by A14,CARD_2:57;
( k /\ l ) c= k1 by XBOOLE_1:17;
then { a,b } = k1 by A18,A15,A19,PRE_POLY:8,XBOOLE_1:1;
hence thesis by A15,A19,A16,A17,PRE_POLY:8,XBOOLE_1:1;
end;

thus S is  without_isolated_points
proof
let x being (Point of S);
consider z being set such that A20: z in X and A21: z <> x by A1,A2,CKB3:1,XBOOLE_1:1;
{ x,z } c= X
proof
let a being set;
assume a in { x,z };
then (a = x or a = z) by TARSKI:def 2;
hence thesis by A5,A20;
end;
then reconsider l = { x,z } as (Subset of X);
( card { x,z } ) = 2 by A21,CARD_2:57;
then l in (the topology of S) by A6;
then reconsider l as (Block of S);
take l;
thus thesis by TARSKI:def 2;
end;

end;
