environ
vocabularies NAT_1,XBOOLE_0,SUBSET_1,FINSEQ_2,TARSKI,UNIALG_1,FUNCT_2,PARTFUN1,RELAT_1,FINSEQ_1,FUNCOP_1,STRUCT_0,CQC_SIM1,FUNCT_1,NUMBERS,CARD_1,ZFMISC_1,SETFAM_1,EQREL_1,BINOP_1,LATTICES,UNIALG_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,STRUCT_0,RELAT_1,FUNCT_1,FINSEQ_1,SETFAM_1,FUNCOP_1,PARTFUN1,FINSEQ_2,LATTICES,BINOP_1,UNIALG_1,MARGREL1,CKB1,CKB2,CKB3,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB15,CKB26,CKB27,CKB28,CKB29,CKB35,CKB38;
definitions TARSKI,UNIALG_1,XBOOLE_0,SUBSET_1,FUNCOP_1,MARGREL1,CKB3,CKB7,CKB9,CKB10,CKB11,CKB12,CKB15,CKB26,CKB27,CKB28,CKB29,CKB35,CKB38;
theorems TARSKI,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,UNIALG_1,ZFMISC_1,SETFAM_1,FUNCOP_1,BINOP_1,LATTICES,FINSEQ_3,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,MARGREL1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38;
schemes FINSEQ_1,BINOP_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,PARTFUN1,FINSEQ_2,STRUCT_0,LATTICES,UNIALG_1,ORDINAL1,FINSEQ_1,CARD_1,MARGREL1,CKB16,CKB30,CKB31;
constructors SETFAM_1,BINOP_1,DOMAIN_1,FUNCOP_1,LATTICES,UNIALG_1,MARGREL1,FINSEQ_2,RELSET_1,CKB3,CKB7,CKB9,CKB10,CKB11,CKB12,CKB15,CKB26,CKB27,CKB28,CKB29,CKB35,CKB38;
requirements BOOLE,SUBSET;
begin
reserve U0 for Universal_Algebra;
reserve U1 for Universal_Algebra;
reserve A for non  empty (Subset of U0);
theorem
Th23: (for U0 being Universal_Algebra holds (for U1 being (SubAlgebra of U0) holds (for A,B being (Subset of U0) holds (((A <> ( {} ) or ( Constants U0 ) <> ( {} )) & B = ( A \/ (the carrier of U1) )) implies ( ( GenUnivAlg A ) "\/" U1 ) = ( GenUnivAlg B )))))
proof
let U0 being Universal_Algebra;
let U1 being (SubAlgebra of U0);
let A being (Subset of U0);
let B being (Subset of U0);
reconsider u1 = (the carrier of U1),a = (the carrier of ( GenUnivAlg A )) as non  empty (Subset of U0) by CKB15:def 1;
assume that
A1: (A <> ( {} ) or ( Constants U0 ) <> ( {} ))
and
A2: B = ( A \/ (the carrier of U1) );
A3: A c= (the carrier of ( GenUnivAlg A )) by A1,CKB35:def 1;
A4: B c= (the carrier of ( GenUnivAlg B )) by A2,CKB35:def 1;
A c= B by A2,XBOOLE_1:7;
then A5: A c= (the carrier of ( GenUnivAlg B )) by A4,XBOOLE_1:1;
now
per cases  by A1;
case A <> ( {} );
hence ( (the carrier of ( GenUnivAlg A )) /\ (the carrier of ( GenUnivAlg B )) ) <> ( {} ) by A3,A5,XBOOLE_1:3,XBOOLE_1:19;
end;
case A6: ( Constants U0 ) <> ( {} );
(( Constants U0 ) is (Subset of ( GenUnivAlg A )) & ( Constants U0 ) is (Subset of ( GenUnivAlg B ))) by CKB32:1;
hence ( (the carrier of ( GenUnivAlg A )) /\ (the carrier of ( GenUnivAlg B )) ) <> ( {} ) by A6,XBOOLE_1:3,XBOOLE_1:19;
end;
end;
then (the carrier of ( GenUnivAlg A )) meets (the carrier of ( GenUnivAlg B )) by XBOOLE_0:def 7;
then A7: (the carrier of ( ( GenUnivAlg A ) /\ ( GenUnivAlg B ) )) = ( (the carrier of ( GenUnivAlg A )) /\ (the carrier of ( GenUnivAlg B )) ) by CKB27:def 1;
reconsider b = ( a \/ u1 ) as non  empty (Subset of U0);
A8: ( (the carrier of ( GenUnivAlg A )) /\ (the carrier of ( GenUnivAlg B )) ) c= a by XBOOLE_1:17;
A c= ( (the carrier of ( GenUnivAlg A )) /\ (the carrier of ( GenUnivAlg B )) ) by A3,A5,XBOOLE_1:19;
then ( GenUnivAlg A ) is (SubAlgebra of ( ( GenUnivAlg A ) /\ ( GenUnivAlg B ) )) by A1,A7,CKB35:def 1;
then a is non  empty non  empty (Subset of ( ( GenUnivAlg A ) /\ ( GenUnivAlg B ) )) by CKB15:def 1;
then a = ( (the carrier of ( GenUnivAlg A )) /\ (the carrier of ( GenUnivAlg B )) ) by A7,A8,XBOOLE_0:def 10;
then A9: a c= (the carrier of ( GenUnivAlg B )) by XBOOLE_1:17;
u1 c= B by A2,XBOOLE_1:7;
then u1 c= (the carrier of ( GenUnivAlg B )) by A4,XBOOLE_1:1;
then b c= (the carrier of ( GenUnivAlg B )) by A9,XBOOLE_1:8;
then A10: ( GenUnivAlg b ) is  strict  strict (SubAlgebra of ( GenUnivAlg B )) by CKB35:def 1;
A11: ( ( GenUnivAlg A ) "\/" U1 ) = ( GenUnivAlg b ) by CKB38:def 1;
then A12: ( a \/ u1 ) c= (the carrier of ( ( GenUnivAlg A ) "\/" U1 )) by CKB35:def 1;
( A \/ u1 ) c= ( a \/ u1 ) by A3,XBOOLE_1:13;
then B c= (the carrier of ( ( GenUnivAlg A ) "\/" U1 )) by A2,A12,XBOOLE_1:1;
then ( GenUnivAlg B ) is  strict  strict (SubAlgebra of ( ( GenUnivAlg A ) "\/" U1 )) by A2,CKB35:def 1;
hence thesis by A11,A10,CKB21:1;
end;
