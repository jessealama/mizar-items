environ
vocabularies NAT_1,XBOOLE_0,SUBSET_1,FINSEQ_2,TARSKI,UNIALG_1,FUNCT_2,PARTFUN1,RELAT_1,FINSEQ_1,FUNCOP_1,STRUCT_0,CQC_SIM1,FUNCT_1,NUMBERS,CARD_1,ZFMISC_1,SETFAM_1,EQREL_1,BINOP_1,LATTICES,UNIALG_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,STRUCT_0,RELAT_1,FUNCT_1,FINSEQ_1,SETFAM_1,FUNCOP_1,PARTFUN1,FINSEQ_2,LATTICES,BINOP_1,UNIALG_1,MARGREL1,CKB1,CKB2,CKB3,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB15;
definitions TARSKI,UNIALG_1,XBOOLE_0,SUBSET_1,FUNCOP_1,MARGREL1,CKB3,CKB7,CKB9,CKB10,CKB11,CKB12,CKB15;
theorems TARSKI,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,UNIALG_1,ZFMISC_1,SETFAM_1,FUNCOP_1,BINOP_1,LATTICES,FINSEQ_3,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,MARGREL1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21;
schemes FINSEQ_1,BINOP_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,PARTFUN1,FINSEQ_2,STRUCT_0,LATTICES,UNIALG_1,ORDINAL1,FINSEQ_1,CARD_1,MARGREL1,CKB16;
constructors SETFAM_1,BINOP_1,DOMAIN_1,FUNCOP_1,LATTICES,UNIALG_1,MARGREL1,FINSEQ_2,RELSET_1,CKB3,CKB7,CKB9,CKB10,CKB11,CKB12,CKB15;
requirements BOOLE,SUBSET;
begin
reserve U0 for Universal_Algebra;
theorem
Th14: (for U1,U2 being (SubAlgebra of U0) holds ((the carrier of U1) c= (the carrier of U2) implies U1 is (SubAlgebra of U2)))
proof
let U1 being (SubAlgebra of U0),U2 being (SubAlgebra of U0);
A1: ( dom (the charact of U1) ) = ( dom (the charact of U0) ) by CKB18:1;
reconsider B1 = (the carrier of U1) as non empty (Subset of U0) by CKB15:def 1;
assume A2: (the carrier of U1) c= (the carrier of U2);
hence (the carrier of U1) is (Subset of U2);
let B being non empty (Subset of U2);
assume A3: B = (the carrier of U1);
reconsider B2 = (the carrier of U2) as non empty (Subset of U0) by CKB15:def 1;
A4: (the charact of U2) = ( Opers (U0,B2) ) by CKB15:def 1;
A5: B2 is  opers_closed by CKB15:def 1;
A6: ( dom ( Opers (U2,B) ) ) = ( dom (the charact of U2) ) by CKB12:def 1;
A7: ( dom (the charact of U2) ) = ( dom (the charact of U0) ) by CKB18:1;
A8: B1 is  opers_closed by CKB15:def 1;
A9: B is  opers_closed
proof
let o2 being (operation of U2);
let s being (FinSequence of B);
consider n being Nat such that A10: n in ( dom (the charact of U2) ) and A11: ( (the charact of U2) . n ) = o2 by FINSEQ_2:10;
reconsider o0 = ( (the charact of U0) . n ) as (operation of U0) by A7,A10,FUNCT_1:def 3;
A12: ( arity o2 ) = ( arity o0 ) by A10,A11,CKB17:1;
( rng s ) c= B by FINSEQ_1:def 4;
then A13: ( rng s ) c= B2 by XBOOLE_1:1;
then s is (FinSequence of B2) by FINSEQ_1:def 4;
then reconsider s2 = s as (Element of ( B2 * )) by FINSEQ_1:def 11;
reconsider s1 = s as (Element of ( B1 * )) by A3,FINSEQ_1:def 11;
assume A14: ( arity o2 ) = ( len s );
set tb2 = ( ( arity o0 ) -tuples_on B2 );
A15: B2 is_closed_on o0 by A5,CKB10:def 1;
A16: o2 = ( o0 /. B2 ) by A4,A10,A11,CKB12:def 1
.= ( o0 | tb2 ) by A15,CKB11:def 1;
A17: B1 is_closed_on o0 by A8,CKB10:def 1;
tb2 = { w where w is (Element of ( B2 * )): ( len w ) = ( arity o0 ) } by FINSEQ_2:def 4;
then s2 in tb2 by A14,A12;
then ( o2 . s ) = ( o0 . s1 ) by A16,FUNCT_1:49;
hence thesis by A3,A14,A17,A12,CKB9:def 1;
end;
A18: (the charact of U1) = ( Opers (U0,B1) ) by CKB15:def 1;
now
let n being Nat;
assume A19: n in ( dom (the charact of U0) );
then reconsider o0 = ( (the charact of U0) . n ) as (operation of U0) by FUNCT_1:def 3;
reconsider o2 = ( (the charact of U2) . n ) as (operation of U2) by A7,A19,FUNCT_1:def 3;
A20: (o2 = ( o0 /. B2 ) & ( arity o2 ) = ( arity o0 )) by A4,A7,A19,CKB12:def 1,CKB17:1;
A21: B is_closed_on o2 by A9,CKB10:def 1;
A22: B2 is_closed_on o0 by A5,CKB10:def 1;
A23: B1 is_closed_on o0 by A8,CKB10:def 1;
thus ( (the charact of U1) . n ) = ( o0 /. B1 ) by A18,A1,A19,CKB12:def 1
.= ( o0 | ( ( arity o0 ) -tuples_on B1 ) ) by A23,CKB11:def 1
.= ( o0 | ( ( ( arity o0 ) -tuples_on B2 ) /\ ( ( arity o0 ) -tuples_on B1 ) ) ) by A2,MARGREL1:21
.= ( ( o0 | ( ( arity o0 ) -tuples_on B2 ) ) | ( ( arity o0 ) -tuples_on B ) ) by A3,RELAT_1:71
.= ( ( o0 /. B2 ) | ( ( arity o0 ) -tuples_on B ) ) by A22,CKB11:def 1
.= ( o2 /. B ) by A21,A20,CKB11:def 1
.= ( ( Opers (U2,B) ) . n ) by A7,A6,A19,CKB12:def 1;
end;
hence (the charact of U1) = ( Opers (U2,B) ) by A1,A7,A6,FINSEQ_1:13;
thus thesis by A9;
end;
