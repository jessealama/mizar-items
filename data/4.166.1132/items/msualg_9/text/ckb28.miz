environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,PBOOLE,FINSET_1,SUBSET_1,CLOSURE2,TARSKI,RELAT_1,FUNCT_1,FINSEQ_1,MARGREL1,NAT_1,PRALG_2,CARD_3,RLVECT_2,MSAFREE,PRELAMB,ZFMISC_1,PRALG_1,MCART_1,EQREL_1,FUNCOP_1,MSUALG_3,TREES_4,LANG1,NUMBERS,MSUALG_2,MEMBER_1,GROUP_6,WELLORD1,PARTFUN1,FUNCT_6,FINSEQ_4,PZFMISC1,CARD_1,MSUALG_4,MSUALG_5,SETFAM_1,FUNCT_4,RELAT_2,MSUALG_9;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,STRUCT_0,SETFAM_1,FUNCT_1,PBOOLE,EQREL_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,LANG1,MCART_1,FINSET_1,CARD_3,TREES_4,FUNCT_6,DTCONSTR,MSUALG_1,MSUALG_2,PRALG_1,PRALG_3,MSUALG_3,MSAFREE,PRALG_2,FUNCOP_1,MSAFREE2,MSUALG_4,PZFMISC1,MSSUBFAM,CLOSURE2,MSUALG_5,CKB27;
definitions FINSEQ_1,FUNCT_1,MSAFREE2,FINSET_1,MSUALG_1,MSUALG_3,PZFMISC1,MSUALG_4,PBOOLE,TARSKI,XBOOLE_0,CKB27;
theorems CARD_3,CLOSURE1,CLOSURE2,EXTENS_1,EQREL_1,FINSEQ_1,FUNCOP_1,FUNCT_1,FUNCT_2,MCART_1,MSAFREE,MSAFREE2,MSSUBFAM,MSUALG_1,MSUALG_2,MSUALG_3,MSUALG_4,MSUALG_5,MSUALG_6,MSUALG_7,PARTFUN1,PBOOLE,PRALG_1,PRALG_2,PZFMISC1,RELAT_2,SETFAM_1,TARSKI,RELSET_1,XBOOLE_0,XBOOLE_1,ORDERS_1,RELAT_1,FINSET_1,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27;
schemes MSSUBFAM,PBOOLE,MSUALG_8;
registrations XBOOLE_0,RELAT_1,ORDINAL1,FUNCT_2,FUNCOP_1,FINSET_1,EQREL_1,PRE_CIRC,PZFMISC1,MSSUBFAM,STRUCT_0,FUNCT_1,MSUALG_1,MSUALG_2,PRALG_2,MSUALG_3,MSAFREE,MSUALG_4,MSUALG_5,CLOSURE2,CARD_3,RELSET_1,PRALG_1,PBOOLE,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
constructors SETFAM_1,BINOP_1,PZFMISC1,MSUALG_3,MSAFREE2,MSUALG_5,CLOSURE1,CLOSURE2,PRALG_3,RELSET_1,CIRCUIT1,NAT_1,FUNCT_6,FUNCT_5,CKB27;
requirements SUBSET,BOOLE;
begin
reserve I for set;
reserve A for (ManySortedSet of I);
reserve M for (ManySortedSet of I);
reserve B for  non-empty (ManySortedSet of I);
reserve C for  non-empty (ManySortedSet of I);
definition
let I being set;
let A being (ManySortedSet of I);
let B being  non-empty (ManySortedSet of I);
let C being  non-empty (ManySortedSet of I);
let F being (ManySortedFunction of A,[| B,C |]);
func Mpr2 F -> (ManySortedFunction of A,C) means 
:Def2: (for i being set holds (i in I implies ( it . i ) = ( pr2 ( F . i ) )));
existence
proof
deffunc G(set) = ( pr2 ( F . $1 ) );
consider X being (ManySortedSet of I) such that A13: (for i being set holds (i in I implies ( X . i ) = G(i))) from PBOOLE:sch 4;
X is (ManySortedFunction of A,C)
proof
let i being set;
assume A14: i in I;
then reconsider Ci = ( C . i ) as non  empty set;
A15: ( X . i ) = ( pr2 ( F . i ) ) by A13,A14;
then reconsider Xi = ( X . i ) as Function;
A16: ( F . i ) is (Function of ( A . i ),( [| B,C |] . i )) by A14,PBOOLE:def 15;
A17: ( rng Xi ) c= Ci
proof
let q being set;
assume q in ( rng Xi );
then consider x being set such that A18: x in ( dom Xi ) and A19: ( Xi . x ) = q by FUNCT_1:def 3;
x in ( dom ( F . i ) ) by A15,A18,MCART_1:def 13;
then A20: (( Xi . x ) = ( ( ( F . i ) . x ) `2 ) & ( ( F . i ) . x ) in ( rng ( F . i ) )) by A15,FUNCT_1:def 3,MCART_1:def 13;
( rng ( F . i ) ) c= ( [| B,C |] . i ) by A16,RELAT_1:def 19;
then A21: ( rng ( F . i ) ) c= [: ( B . i ),( C . i ) :] by A14,PBOOLE:def 16;
assume (not q in Ci);
hence contradiction by A19,A21,A20,MCART_1:10;
end;
( dom ( F . i ) ) = ( A . i ) by A14,A16,FUNCT_2:def 1;
then ( dom Xi ) = ( A . i ) by A15,MCART_1:def 13;
hence thesis by A17,FUNCT_2:def 1,RELSET_1:4;
end;
then reconsider X as (ManySortedFunction of A,C);
take X;
thus thesis by A13;
end;
uniqueness
proof
let M being (ManySortedFunction of A,C);
let N being (ManySortedFunction of A,C);
assume that
A22: (for i being set holds (i in I implies ( M . i ) = ( pr2 ( F . i ) )))
and
A23: (for i being set holds (i in I implies ( N . i ) = ( pr2 ( F . i ) )));
now
let i being set;
assume A24: i in I;
hence ( M . i ) = ( pr2 ( F . i ) ) by A22
.= ( N . i ) by A23,A24;
end;
hence M = N by PBOOLE:3;
end;
end;
