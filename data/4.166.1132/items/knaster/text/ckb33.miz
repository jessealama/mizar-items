environ
vocabularies FUNCT_1,XBOOLE_0,RELAT_1,FUNCT_4,SUBSET_1,NUMBERS,ABIAN,FUNCT_7,ARYTM_3,COHSP_1,TARSKI,FUNCOP_1,ZFMISC_1,SETFAM_1,FUNCT_2,LATTICES,STRUCT_0,ORDINAL1,ORDINAL2,EQREL_1,CARD_1,BINOP_1,LATTICE3,PBOOLE,FILTER_0,FILTER_1,WELLORD1,RELAT_2,ORDERS_1,ORDERS_2,XXREAL_0,REWRITE1,XXREAL_2,SEQM_3,KNASTER;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,ORDERS_1,STRUCT_0,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,FUNCOP_1,SETFAM_1,FUNCT_4,WELLORD1,ORDINAL1,ORDINAL2,COHSP_1,LATTICES,LATTICE3,QUANTAL1,ORDERS_2,ABIAN,CKB4,CKB6,CKB7,CKB18,CKB19,CKB28,CKB29,CKB30,CKB31;
definitions TARSKI,RELAT_1,FUNCT_1,COHSP_1,LATTICE3,QUANTAL1,XBOOLE_0,ABIAN,WELLORD1,CKB4,CKB6,CKB7,CKB18,CKB19,CKB30,CKB31;
theorems TARSKI,SETFAM_1,ZFMISC_1,RELAT_1,FUNCT_1,FUNCOP_1,FUNCT_2,FUNCT_4,CARD_1,COHSP_1,LATTICES,LATTICE3,QUANTAL1,FILTER_0,FILTER_1,BOOLEALG,WELLORD1,RELSET_1,ORDERS_2,RELAT_2,ORDINAL1,CARD_3,XBOOLE_0,XBOOLE_1,FUNCT_7,PARTFUN1,ORDERS_1,ABIAN,NAT_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB30,CKB31;
schemes NAT_1,FUNCT_1,FUNCT_2,DOMAIN_1,ORDINAL2,CKB13;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,CARD_1,STRUCT_0,LATTICES,LATTICE3,QUANTAL1,CKB5,CKB32;
constructors SETFAM_1,WELLORD1,WELLORD2,BINOP_1,DOMAIN_1,ORDINAL2,NAT_1,ABIAN,BOOLEALG,QUANTAL1,COHSP_1,RELSET_1,CKB4,CKB6,CKB7,CKB18,CKB19,CKB28,CKB29,CKB30,CKB31;
requirements NUMERALS,BOOLE,SUBSET;
begin
definition
let L being Lattice;
let P being non empty  with_suprema  with_infima (Subset of L);
func latt P ->  strict Lattice
means
:Def10: ((the carrier of it) = P & (for x,y being (Element of it) holds (ex x9,y9 being (Element of L) st ((x = x9 & y = y9) & (x [= y iff x9 [= y9)))));
existence
proof
set cL = (the carrier of L);
set LL = ( LattRel L );
set LR = ( LL |_2 P );
reconsider LR as (Relation of P) by XBOOLE_1:17;
( field LL ) = cL by FILTER_1:32;
then A1: LL is_reflexive_in cL by RELAT_2:def 9;
A2: ( field LR ) = P
proof
thus ( field LR ) c= P by WELLORD1:13;
let x being set;
assume x in P;
then ([ x,x ] in [: P,P :] & [ x,x ] in LL) by A1,RELAT_2:def 1,ZFMISC_1:87;
then [ x,x ] in LR by XBOOLE_0:def 4;
hence thesis by RELAT_1:15;
end;
LR is  reflexive by WELLORD1:15;
then A3: LR is_reflexive_in P by A2,RELAT_2:def 9;
then A4: ( dom LR ) = P by ORDERS_1:13;
LR is  transitive by WELLORD1:17;
then A5: LR is_transitive_in P by A2,RELAT_2:def 16;
LR is  antisymmetric by WELLORD1:18;
then A6: LR is_antisymmetric_in P by A2,RELAT_2:def 12;
reconsider LR as (Order of P) by A4,PARTFUN1:def 2,WELLORD1:15,WELLORD1:17,WELLORD1:18;
set RS = RelStr (# P,LR #);
take IT = ( latt RS );
A7: RS is  with_suprema
proof
let x being (Element of RS),y being (Element of RS);
(x in P & y in P);
then reconsider xL = x,yL = y as (Element of L);
consider zL being (Element of L) such that A8: zL in P and A9: xL [= zL and A10: yL [= zL and A11: (for z9 being (Element of L) holds (((z9 in P & xL [= z9) & yL [= z9) implies zL [= z9)) by CKB30:def 1;
([ yL,zL ] in [: P,P :] & [ yL,zL ] in LL) by A8,A10,FILTER_1:31,ZFMISC_1:87;
then A12: [ yL,zL ] in LR by XBOOLE_0:def 4;
reconsider z = zL as (Element of RS) by A8;
take z;
([ xL,zL ] in [: P,P :] & [ xL,zL ] in LL) by A8,A9,FILTER_1:31,ZFMISC_1:87;
then [ xL,zL ] in LR by XBOOLE_0:def 4;
hence (x <= z & y <= z) by A12,ORDERS_2:def 5;
let z9 being (Element of RS);
assume that
A13: x <= z9
and
A14: y <= z9;
z9 in P;
then reconsider z9L = z9 as (Element of L);
[ y,z9 ] in LR by A14,ORDERS_2:def 5;
then [ y,z9 ] in LL by XBOOLE_0:def 4;
then A15: yL [= z9L by FILTER_1:31;
[ x,z9 ] in LR by A13,ORDERS_2:def 5;
then [ x,z9 ] in LL by XBOOLE_0:def 4;
then xL [= z9L by FILTER_1:31;
then zL [= z9L by A11,A15;
then A16: [ zL,z9L ] in LL by FILTER_1:31;
[ zL,z9L ] in [: P,P :] by A8,ZFMISC_1:87;
then [ zL,z9L ] in LR by A16,XBOOLE_0:def 4;
hence thesis by ORDERS_2:def 5;
end;
A17: RS is  with_infima
proof
let x being (Element of RS),y being (Element of RS);
(x in P & y in P);
then reconsider xL = x,yL = y as (Element of L);
consider zL being (Element of L) such that A18: zL in P and A19: zL [= xL and A20: zL [= yL and A21: (for z9 being (Element of L) holds (((z9 in P & z9 [= xL) & z9 [= yL) implies z9 [= zL)) by CKB31:def 1;
([ zL,yL ] in [: P,P :] & [ zL,yL ] in LL) by A18,A20,FILTER_1:31,ZFMISC_1:87;
then A22: [ zL,yL ] in LR by XBOOLE_0:def 4;
reconsider z = zL as (Element of RS) by A18;
take z;
([ zL,xL ] in [: P,P :] & [ zL,xL ] in LL) by A18,A19,FILTER_1:31,ZFMISC_1:87;
then [ zL,xL ] in LR by XBOOLE_0:def 4;
hence (z <= x & z <= y) by A22,ORDERS_2:def 5;
let z9 being (Element of RS);
assume that
A23: z9 <= x
and
A24: z9 <= y;
z9 in P;
then reconsider z9L = z9 as (Element of L);
[ z9,y ] in LR by A24,ORDERS_2:def 5;
then [ z9,y ] in LL by XBOOLE_0:def 4;
then A25: z9L [= yL by FILTER_1:31;
[ z9,x ] in LR by A23,ORDERS_2:def 5;
then [ z9,x ] in LL by XBOOLE_0:def 4;
then z9L [= xL by FILTER_1:31;
then z9L [= zL by A21,A25;
then A26: [ z9L,zL ] in LL by FILTER_1:31;
[ z9L,zL ] in [: P,P :] by A18,ZFMISC_1:87;
then [ z9L,zL ] in LR by A26,XBOOLE_0:def 4;
hence thesis by ORDERS_2:def 5;
end;
A27: RS is Poset by A3,A6,A5,ORDERS_2:def 2,ORDERS_2:def 3,ORDERS_2:def 4;
then A28: RS = ( LattPOSet IT ) by A7,A17,LATTICE3:def 15;
( LattPOSet IT ) = RelStr (# (the carrier of IT),( LattRel IT ) #);
hence (the carrier of IT) = P by A7,A17,A27,LATTICE3:def 15;
let x being (Element of IT),y being (Element of IT);
(x in P & y in P) by A28;
then reconsider x9 = x,y9 = y as (Element of L);
take x9;
take y9;
thus (x = x9 & y = y9);
hereby
assume x [= y;
then [ x,y ] in LR by A28,FILTER_1:31;
then [ x,y ] in ( LattRel L ) by XBOOLE_0:def 4;
hence x9 [= y9 by FILTER_1:31;
end;
assume x9 [= y9;
then A29: [ x,y ] in ( LattRel L ) by FILTER_1:31;
[ x,y ] in [: P,P :] by A28,ZFMISC_1:87;
then [ x,y ] in ( LattRel IT ) by A28,A29,XBOOLE_0:def 4;
hence thesis by FILTER_1:31;
end;
uniqueness
proof
let it1 being  strict Lattice,it2 being  strict Lattice;
assume that
A30: (the carrier of it1) = P
and
A31: (for x,y being (Element of it1) holds (ex x9,y9 being (Element of L) st ((x = x9 & y = y9) & (x [= y iff x9 [= y9))))
and
A32: (the carrier of it2) = P
and
A33: (for x,y being (Element of it2) holds (ex x9,y9 being (Element of L) st ((x = x9 & y = y9) & (x [= y iff x9 [= y9))));
A34: ( LattRel it2 ) = { [ p,q ] where p is (Element of it2),q is (Element of it2): p [= q } by FILTER_1:def 8;
A35: ( LattRel it1 ) = { [ p,q ] where p is (Element of it1),q is (Element of it1): p [= q } by FILTER_1:def 8;
now
let a being set;
hereby
assume a in ( LattRel it1 );
then consider p1 being (Element of it1),q1 being (Element of it1) such that A36: (a = [ p1,q1 ] & p1 [= q1) by A35;
reconsider p1,q1 as (Element of it1);
reconsider p2 = p1,q2 = q1 as (Element of it2) by A30,A32;
((ex pl1,ql1 being (Element of L) st ((p1 = pl1 & q1 = ql1) & (p1 [= q1 iff pl1 [= ql1))) & (ex pl2,ql2 being (Element of L) st ((p2 = pl2 & q2 = ql2) & (p2 [= q2 iff pl2 [= ql2)))) by A31,A33;
hence a in ( LattRel it2 ) by A34,A36;
end;
assume a in ( LattRel it2 );
then consider p1 being (Element of it2),q1 being (Element of it2) such that A37: (a = [ p1,q1 ] & p1 [= q1) by A34;
reconsider p1,q1 as (Element of it2);
reconsider p2 = p1,q2 = q1 as (Element of it1) by A30,A32;
((ex pl1,ql1 being (Element of L) st ((p1 = pl1 & q1 = ql1) & (p1 [= q1 iff pl1 [= ql1))) & (ex pl2,ql2 being (Element of L) st ((p2 = pl2 & q2 = ql2) & (p2 [= q2 iff pl2 [= ql2)))) by A31,A33;
hence a in ( LattRel it1 ) by A35,A37;
end;
then A38: ( LattRel it1 ) = ( LattRel it2 ) by TARSKI:1;
(( LattPOSet it1 ) = RelStr (# (the carrier of it1),( LattRel it1 ) #) & ( LattPOSet it2 ) = RelStr (# (the carrier of it2),( LattRel it2 ) #));
hence thesis by A30,A32,A38,LATTICE3:6;
end;
end;
