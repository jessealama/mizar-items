environ
vocabularies NUMBERS,REAL_1,SUBSET_1,XXREAL_0,CARD_1,ARYTM_3,RELAT_1,XBOOLE_0,METRIC_1,FUNCT_1,FCONT_2,PARTFUN1,PRE_TOPC,PCOMPS_1,ORDINAL2,RCOMP_1,XREAL_0,ORDINAL1,STRUCT_0,TARSKI,SETFAM_1,FINSET_1,ZFMISC_1,TOPMETR,BORSUK_1,EUCLID,FINSEQ_1,ORDINAL4,COMPLEX1,ARYTM_1,XXREAL_1,VALUED_0,MEASURE5,NAT_1,INT_1,XXREAL_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,SETFAM_1,COMPLEX1,REAL_1,NAT_1,NAT_D,ORDINAL1,INT_1,RCOMP_1,FUNCT_1,PARTFUN1,FINSEQ_1,RELSET_1,FUNCT_2,SEQM_3,STRUCT_0,TOPMETR,PRE_TOPC,TOPS_2,COMPTS_1,EUCLID,FINSET_1,TBSP_1,METRIC_1,PCOMPS_1,CKB2;
definitions TARSKI,ORDINAL1,EUCLID,PRE_TOPC,XCMPLX_0,CKB2;
theorems TARSKI,RCOMP_1,TOPMETR,TOPS_1,METRIC_1,FUNCT_1,FUNCT_2,TBSP_1,NAT_1,FINSEQ_3,FINSEQ_1,ABSVALUE,PRE_TOPC,TOPS_2,FINSEQ_4,GOBOARD6,PCOMPS_1,SETFAM_1,SUBSET_1,COMPTS_1,SEQ_4,HEINE,INT_1,JORDAN2B,XBOOLE_0,XBOOLE_1,XREAL_0,FINSEQ_2,XCMPLX_1,FINSET_1,XREAL_1,XXREAL_0,PARTFUN1,XXREAL_1,EUCLID,SEQM_3,CKB1,CKB2,CKB3;
schemes FUNCT_2,DOMAIN_1,SUBSET_1,FINSEQ_1,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,STRUCT_0,METRIC_1,PCOMPS_1,EUCLID,TOPMETR,BORSUK_2,VALUED_0,FUNCT_2,BORSUK_1;
constructors SETFAM_1,REAL_1,NAT_1,COMPLEX1,RCOMP_1,BINARITH,TOPS_2,COMPTS_1,TBSP_1,TOPMETR,GOBOARD1,SEQ_1,SEQM_3,NAT_D,FUNCSDOM,PCOMPS_1,CKB2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
theorem
Th4: (for N,M being non empty MetrSpace holds (for f being (Function of ( TopSpaceMetr N ),( TopSpaceMetr M )) holds ((for r being  real number holds (for u being (Element of N) holds (for u1 being (Element of M) holds ((r > ( 0 ) & u1 = ( f . u )) implies (ex s being  real number st (s > ( 0 ) & (for w being (Element of N) holds (for w1 being (Element of M) holds ((w1 = ( f . w ) & ( dist (u,w) ) < s) implies ( dist (u1,w1) ) < r))))))))) implies f is  continuous)))
proof
let N being non empty MetrSpace,M being non empty MetrSpace;
let f being (Function of ( TopSpaceMetr N ),( TopSpaceMetr M ));
( dom f ) = (the carrier of ( TopSpaceMetr N )) by FUNCT_2:def 1;
then A1: ( dom f ) = (the carrier of N) by TOPMETR:12;
now
assume A2: (for r being  real number holds (for u being (Element of N) holds (for u1 being (Element of M) holds ((r > ( 0 ) & u1 = ( f . u )) implies (ex s being  real number st (s > ( 0 ) & (for w being (Element of N) holds (for w1 being (Element of M) holds ((w1 = ( f . w ) & ( dist (u,w) ) < s) implies ( dist (u1,w1) ) < r)))))))));
(for r being  real number holds (for u being (Element of M) holds (for P being (Subset of ( TopSpaceMetr M )) holds ((r > ( 0 ) & P = ( Ball (u,r) )) implies ( f " P ) is  open))))
proof
let r being  real number;
let u being (Element of M);
let P being (Subset of ( TopSpaceMetr M ));
reconsider P9 = P as (Subset of ( TopSpaceMetr M ));
assume that
r > ( 0 )
and
A3: P = ( Ball (u,r) );
(for p being (Point of N) holds (p in ( f " P ) implies (ex s being  real number st (s > ( 0 ) & ( Ball (p,s) ) c= ( f " P )))))
proof
let p being (Point of N);
assume p in ( f " P );
then A4: ( f . p ) in ( Ball (u,r) ) by A3,FUNCT_1:def 7;
then reconsider wf = ( f . p ) as (Element of M);
P9 is  open by A3,TOPMETR:14;
then consider r1 being  real number such that A5: r1 > ( 0 ) and A6: ( Ball (wf,r1) ) c= P by A3,A4,TOPMETR:15;
reconsider r1 as Real by XREAL_0:def 1;
consider s being  real number such that A7: s > ( 0 ) and A8: (for w being (Element of N) holds (for w1 being (Element of M) holds ((w1 = ( f . w ) & ( dist (p,w) ) < s) implies ( dist (wf,w1) ) < r1))) by A2,A5;
reconsider s as Real by XREAL_0:def 1;
( Ball (p,s) ) c= ( f " P )
proof
let x;
assume A9: x in ( Ball (p,s) );
then reconsider wx = x as (Element of N);
( f . wx ) in ( rng f ) by A1,FUNCT_1:def 3;
then reconsider wfx = ( f . wx ) as (Element of M) by TOPMETR:12;
( dist (p,wx) ) < s by A9,METRIC_1:11;
then ( dist (wf,wfx) ) < r1 by A8;
then wfx in ( Ball (wf,r1) ) by METRIC_1:11;
hence thesis by A1,A6,FUNCT_1:def 7;
end;
hence thesis by A7;
end;
hence thesis by TOPMETR:15;
end;
hence f is  continuous by JORDAN2B:16;
end;
hence thesis;
end;
