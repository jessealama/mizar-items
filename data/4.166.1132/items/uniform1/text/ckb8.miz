environ
vocabularies NUMBERS,REAL_1,SUBSET_1,XXREAL_0,CARD_1,ARYTM_3,RELAT_1,XBOOLE_0,METRIC_1,FUNCT_1,FCONT_2,PARTFUN1,PRE_TOPC,PCOMPS_1,ORDINAL2,RCOMP_1,XREAL_0,ORDINAL1,STRUCT_0,TARSKI,SETFAM_1,FINSET_1,ZFMISC_1,TOPMETR,BORSUK_1,EUCLID,FINSEQ_1,ORDINAL4,COMPLEX1,ARYTM_1,XXREAL_1,VALUED_0,MEASURE5,NAT_1,INT_1,XXREAL_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,SETFAM_1,COMPLEX1,REAL_1,NAT_1,NAT_D,ORDINAL1,INT_1,RCOMP_1,FUNCT_1,PARTFUN1,FINSEQ_1,RELSET_1,FUNCT_2,SEQM_3,STRUCT_0,TOPMETR,PRE_TOPC,TOPS_2,COMPTS_1,EUCLID,FINSET_1,TBSP_1,METRIC_1,PCOMPS_1,CKB2;
definitions TARSKI,ORDINAL1,EUCLID,PRE_TOPC,XCMPLX_0,CKB2;
theorems TARSKI,RCOMP_1,TOPMETR,TOPS_1,METRIC_1,FUNCT_1,FUNCT_2,TBSP_1,NAT_1,FINSEQ_3,FINSEQ_1,ABSVALUE,PRE_TOPC,TOPS_2,FINSEQ_4,GOBOARD6,PCOMPS_1,SETFAM_1,SUBSET_1,COMPTS_1,SEQ_4,HEINE,INT_1,JORDAN2B,XBOOLE_0,XBOOLE_1,XREAL_0,FINSEQ_2,XCMPLX_1,FINSET_1,XREAL_1,XXREAL_0,PARTFUN1,XXREAL_1,EUCLID,SEQM_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes FUNCT_2,DOMAIN_1,SUBSET_1,FINSEQ_1,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,STRUCT_0,METRIC_1,PCOMPS_1,EUCLID,TOPMETR,BORSUK_2,VALUED_0,FUNCT_2,BORSUK_1;
constructors SETFAM_1,REAL_1,NAT_1,COMPLEX1,RCOMP_1,BINARITH,TOPS_2,COMPTS_1,TBSP_1,TOPMETR,GOBOARD1,SEQ_1,SEQM_3,NAT_D,FUNCSDOM,PCOMPS_1,CKB2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve s for Real;
reserve s1 for Real;
reserve s2 for Real;
reserve s4 for Real;
reserve r for Real;
theorem
Th8: (for N,M being non empty MetrSpace holds (for f being (Function of N,M) holds (for g being (Function of ( TopSpaceMetr N ),( TopSpaceMetr M )) holds (((g = f & ( TopSpaceMetr N ) is  compact) & g is  continuous) implies f is  uniformly_continuous))))
proof
let N being non empty MetrSpace,M being non empty MetrSpace;
let f being (Function of N,M);
let g being (Function of ( TopSpaceMetr N ),( TopSpaceMetr M ));
assume that
A1: g = f
and
A2: ( TopSpaceMetr N ) is  compact
and
A3: g is  continuous;
(for r holds (( 0 ) < r implies (ex s st (( 0 ) < s & (for u1,u2 being (Element of N) holds (( dist (u1,u2) ) < s implies ( dist (( f /. u1 ),( f /. u2 )) ) < r))))))
proof
let r;
set G = { P where P is (Subset of ( TopSpaceMetr N )): (ex w being (Element of N) st (ex s st (P = ( Ball (w,s) ) & (for w1 being (Element of N) holds (for w2,w3 being (Element of M) holds (((w2 = ( f . w ) & w3 = ( f . w1 )) & ( dist (w,w1) ) < s) implies ( dist (w2,w3) ) < ( r / 2 ))))))) };
A4: (the carrier of ( TopSpaceMetr N )) = (the carrier of N) by TOPMETR:12;
G c= ( bool (the carrier of N) )
proof
let x;
assume x in G;
then (ex P being (Subset of ( TopSpaceMetr N )) st (x = P & (ex w being (Element of N) st (ex s st (P = ( Ball (w,s) ) & (for w1 being (Element of N) holds (for w2,w3 being (Element of M) holds (((w2 = ( f . w ) & w3 = ( f . w1 )) & ( dist (w,w1) ) < s) implies ( dist (w2,w3) ) < ( r / 2 )))))))));
hence thesis;
end;
then reconsider G1 = G as (Subset-Family of ( TopSpaceMetr N )) by TOPMETR:12;
(for P3 being (Subset of ( TopSpaceMetr N )) holds (P3 in G1 implies P3 is  open))
proof
let P3 being (Subset of ( TopSpaceMetr N ));
assume P3 in G1;
then (ex P being (Subset of ( TopSpaceMetr N )) st (P3 = P & (ex w being (Element of N) st (ex s st (P = ( Ball (w,s) ) & (for w1 being (Element of N) holds (for w2,w3 being (Element of M) holds (((w2 = ( f . w ) & w3 = ( f . w1 )) & ( dist (w,w1) ) < s) implies ( dist (w2,w3) ) < ( r / 2 )))))))));
hence thesis by TOPMETR:14;
end;
then A5: G1 is  open by TOPS_2:def 1;
assume ( 0 ) < r;
then A6: ( 0 ) < ( r / 2 ) by XREAL_1:215;
A7: (the carrier of N) c= ( union G1 )
proof
let x;
assume x in (the carrier of N);
then reconsider w0 = x as (Element of N);
( g . w0 ) = ( f /. w0 ) by A1;
then reconsider w4 = ( g . w0 ) as (Element of M);
consider s4 such that A8: s4 > ( 0 ) and A9: (for u5 being (Element of N) holds (for w5 being (Element of M) holds ((w5 = ( g . u5 ) & ( dist (w0,u5) ) < s4) implies ( dist (w4,w5) ) < ( r / 2 )))) by A3,A6,CKB5:1;
reconsider P2 = ( Ball (w0,s4) ) as (Subset of ( TopSpaceMetr N )) by TOPMETR:12;
(for w1 being (Element of N) holds (for w2,w3 being (Element of M) holds (((w2 = ( f . w0 ) & w3 = ( f . w1 )) & ( dist (w0,w1) ) < s4) implies ( dist (w2,w3) ) < ( r / 2 )))) by A1,A9;
then (ex w being (Element of N) st (ex s st (P2 = ( Ball (w,s) ) & (for w1 being (Element of N) holds (for w2,w3 being (Element of M) holds (((w2 = ( f . w ) & w3 = ( f . w1 )) & ( dist (w,w1) ) < s) implies ( dist (w2,w3) ) < ( r / 2 )))))));
then A10: ( Ball (w0,s4) ) in G1;
x in ( Ball (w0,s4) ) by A8,GOBOARD6:1;
hence thesis by A10,TARSKI:def 4;
end;
(the carrier of ( TopSpaceMetr N )) = (the carrier of N) by TOPMETR:12;
then (the carrier of N) = ( union G1 ) by A7,XBOOLE_0:def 10;
then G1 is (Cover of ( TopSpaceMetr N )) by A4,SETFAM_1:45;
then consider s1 such that A11: s1 > ( 0 ) and A12: (for w1,w2 being (Element of N) holds (( dist (w1,w2) ) < s1 implies (ex Ga being (Subset of ( TopSpaceMetr N )) st ((w1 in Ga & w2 in Ga) & Ga in G1)))) by A2,A5,CKB7:1;
(for u1,u2 being (Element of N) holds (( dist (u1,u2) ) < s1 implies ( dist (( f /. u1 ),( f /. u2 )) ) < r))
proof
let u1 being (Element of N),u2 being (Element of N);
assume ( dist (u1,u2) ) < s1;
then consider Ga being (Subset of ( TopSpaceMetr N )) such that A13: u1 in Ga and A14: u2 in Ga and A15: Ga in G1 by A12;
consider P being (Subset of ( TopSpaceMetr N )) such that A16: Ga = P and A17: (ex w being (Element of N) st (ex s2 st (P = ( Ball (w,s2) ) & (for w1 being (Element of N) holds (for w2,w3 being (Element of M) holds (((w2 = ( f . w ) & w3 = ( f . w1 )) & ( dist (w,w1) ) < s2) implies ( dist (w2,w3) ) < ( r / 2 ))))))) by A15;
consider w being (Element of N),s2 such that A18: P = ( Ball (w,s2) ) and A19: (for w1 being (Element of N) holds (for w2,w3 being (Element of M) holds (((w2 = ( f . w ) & w3 = ( f . w1 )) & ( dist (w,w1) ) < s2) implies ( dist (w2,w3) ) < ( r / 2 )))) by A17;
( dist (w,u2) ) < s2 by A14,A16,A18,METRIC_1:11;
then A20: ( dist (( f /. w ),( f /. u2 )) ) < ( r / 2 ) by A19;
( dist (w,u1) ) < s2 by A13,A16,A18,METRIC_1:11;
then ( dist (( f /. w ),( f /. u1 )) ) < ( r / 2 ) by A19;
then (( dist (( f /. u1 ),( f /. u2 )) ) <= ( ( dist (( f /. u1 ),( f /. w )) ) + ( dist (( f /. w ),( f /. u2 )) ) ) & ( ( dist (( f /. w ),( f /. u1 )) ) + ( dist (( f /. w ),( f /. u2 )) ) ) < ( ( r / 2 ) + ( r / 2 ) )) by A20,METRIC_1:4,XREAL_1:8;
hence thesis by XXREAL_0:2;
end;
hence thesis by A11;
end;
hence thesis by CKB2:def 1;
end;
