environ
vocabularies NUMBERS,NAT_1,XXREAL_0,RADIX_1,ARYTM_1,ARYTM_3,CARD_1,SUBSET_1,FINSEQ_1,POWER,RELAT_1,FINSEQ_2,PARTFUN1,NEWTON,FUNCT_1,CARD_3,INT_1,TARSKI,RADIX_5;
notations TARSKI,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,NEWTON,RADIX_1,POWER,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,GR_CY_1,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25;
definitions TARSKI,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25;
theorems RADIX_1,RADIX_4,INT_1,NAT_1,FINSEQ_1,POWER,FINSEQ_2,NEWTON,RADIX_2,NAT_2,PREPOWER,PEPIN,JORDAN5B,FUNCT_1,RVSUM_1,XREAL_1,XXREAL_0,NAT_D,PARTFUN1,ORDINAL1,XREAL_0,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28;
schemes NAT_1,FINSEQ_2;
registrations RELSET_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,INT_1,ORDINAL1,NEWTON,XBOOLE_0,FINSEQ_2,CARD_1;
constructors REAL_1,NAT_D,NEWTON,POWER,GR_CY_1,RADIX_1,SEQ_1,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
(for n,m,k being Nat holds ((m in ( Seg n ) & k >= 2) implies ( SDDec ( Fmin (( n + 1 ),( m + 1 ),k) ) ) = ( ( SDDec ( Fmin (( n + 1 ),m,k) ) ) + ( SDDec ( Fmax (( n + 1 ),m,k) ) ) )))
proof
let n being Nat,m being Nat,k being Nat;
assume that
A1: m in ( Seg n )
and
A2: k >= 2;
n >= m by A1,FINSEQ_1:1;
then A3: ( n + 1 ) > m by NAT_1:13;
A4: ( n + 1 ) in ( Seg ( n + 1 ) ) by FINSEQ_1:3;
then A5: ( DigA (( Fmin (( n + 1 ),m,k) ),( n + 1 )) ) = ( FminDigit (m,k,( n + 1 )) ) by CKB23:def 1
.= ( 0 ) by A2,A3,CKB22:def 1;
A6: m in ( Seg ( n + 1 ) ) by A1,FINSEQ_2:8;
A7: m >= 1 by A1,FINSEQ_1:1;
A8: (for i being Nat holds (i in ( Seg ( n + 1 ) ) implies ( DigA (( Fmin (( n + 1 ),( m + 1 ),k) ),i) ) = ( DigA (( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ),i) )))
proof
let i being Nat;
A9: ( m + 1 ) > m by NAT_1:13;
assume A10: i in ( Seg ( n + 1 ) );
then A11: ( DigA (( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ),i) ) = ( Add (( Fmin (( n + 1 ),m,k) ),( Fmax (( n + 1 ),m,k) ),i,k) ) by RADIX_1:def 14
.= ( ( SD_Add_Data (( ( DigA (( Fmin (( n + 1 ),m,k) ),i) ) + ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) ),k) ) + ( SD_Add_Carry ( ( DigA (( Fmin (( n + 1 ),m,k) ),( i -' 1 )) ) + ( DigA (( Fmax (( n + 1 ),m,k) ),( i -' 1 )) ) ) ) ) by A2,A10,RADIX_1:def 13;
A12: ( DigA (( Fmin (( n + 1 ),( m + 1 ),k) ),i) ) = ( FminDigit (( m + 1 ),k,i) ) by A10,CKB23:def 1;
A13: ( DigA (( Fmin (( n + 1 ),m,k) ),i) ) = ( FminDigit (m,k,i) ) by A10,CKB23:def 1;
A14: ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) = ( FmaxDigit (m,k,i) ) by A10,CKB25:def 1;
A15: i >= 1 by A10,FINSEQ_1:1;
now
per cases ;
suppose A16: i >= ( m + 1 );

now
per cases ;
suppose A17: i = ( m + 1 );

then A18: ( DigA (( Fmin (( n + 1 ),( m + 1 ),k) ),i) ) = ( FminDigit (( m + 1 ),k,( m + 1 )) ) by A10,CKB23:def 1
.= 1 by A2,CKB22:def 1;
A19: ( DigA (( Fmax (( n + 1 ),m,k) ),( i -' 1 )) ) = ( DigA (( Fmax (( n + 1 ),m,k) ),m) ) by A17,NAT_D:34
.= ( FmaxDigit (m,k,m) ) by A6,CKB25:def 1
.= ( ( Radix k ) - 1 ) by A2,CKB24:def 1;
A20: ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) = ( FmaxDigit (m,k,( m + 1 )) ) by A10,A17,CKB25:def 1
.= ( 0 ) by A2,A9,CKB24:def 1;
A21: ( DigA (( Fmin (( n + 1 ),m,k) ),( i -' 1 )) ) = ( DigA (( Fmin (( n + 1 ),m,k) ),m) ) by A17,NAT_D:34
.= ( FminDigit (m,k,m) ) by A6,CKB23:def 1
.= 1 by A2,CKB22:def 1;
( DigA (( Fmin (( n + 1 ),m,k) ),i) ) = ( FminDigit (m,k,( m + 1 )) ) by A10,A17,CKB23:def 1
.= ( 0 ) by A2,A9,CKB22:def 1;
then ( DigA (( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ),i) ) = ( ( 0 ) + ( SD_Add_Carry ( 1 + ( ( Radix k ) - 1 ) ) ) ) by A11,A20,A21,A19,RADIX_1:19
.= 1 by A2,CKB10:1;
hence thesis by A18;
end;
suppose A22: i <> ( m + 1 );

then i > ( m + 1 ) by A16,XXREAL_0:1;
then ( i - 1 ) > ( ( m + 1 ) - 1 ) by XREAL_1:14;
then A23: ( i -' 1 ) > m by XREAL_0:def 2;
i > m by A16,NAT_1:13;
then i > 1 by A7,XXREAL_0:2;
then A24: ( i -' 1 ) in ( Seg ( n + 1 ) ) by A10,CKB2:1;
then A25: ( DigA (( Fmin (( n + 1 ),m,k) ),( i -' 1 )) ) = ( FminDigit (m,k,( i -' 1 )) ) by CKB23:def 1
.= ( 0 ) by A2,A23,CKB22:def 1;
A26: ( DigA (( Fmin (( n + 1 ),( m + 1 ),k) ),i) ) = ( 0 ) by A2,A12,A22,CKB22:def 1;
A27: ( DigA (( Fmax (( n + 1 ),m,k) ),( i -' 1 )) ) = ( FmaxDigit (m,k,( i -' 1 )) ) by A24,CKB25:def 1
.= ( 0 ) by A2,A23,CKB24:def 1;
(( DigA (( Fmin (( n + 1 ),m,k) ),i) ) = ( 0 ) & ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) = ( 0 )) by A2,A9,A13,A14,A16,CKB22:def 1,CKB24:def 1;
hence thesis by A11,A25,A27,A26,RADIX_1:18,RADIX_1:19;
end;
end;
hence thesis;
end;
suppose i < ( m + 1 );

then A28: i <= m by NAT_1:13;
now
per cases  by A15,XXREAL_0:1;
suppose A29: i > 1;

then A30: m > 1 by A28,XXREAL_0:2;
then A31: ( m -' 1 ) < m by JORDAN5B:1;
A32: ( m -' 1 ) in ( Seg ( n + 1 ) ) by A6,A30,CKB2:1;
now
per cases  by A28,XXREAL_0:1;
suppose A33: i = m;

then A34: ( DigA (( Fmax (( n + 1 ),m,k) ),( i -' 1 )) ) = ( FmaxDigit (m,k,( m -' 1 )) ) by A32,CKB25:def 1
.= ( 0 ) by A2,A31,CKB24:def 1;
A35: ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) = ( ( Radix k ) - 1 ) by A2,A14,A33,CKB24:def 1;
A36: ( DigA (( Fmin (( n + 1 ),( m + 1 ),k) ),i) ) = ( FminDigit (( m + 1 ),k,m) ) by A10,A33,CKB23:def 1
.= ( 0 ) by A2,A9,CKB22:def 1;
( DigA (( Fmin (( n + 1 ),m,k) ),( i -' 1 )) ) = ( FminDigit (m,k,( m -' 1 )) ) by A32,A33,CKB23:def 1
.= ( 0 ) by A2,A31,CKB22:def 1;
then ( DigA (( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ),i) ) = ( ( SD_Add_Data (( 1 + ( ( Radix k ) - 1 ) ),k) ) + ( 0 ) ) by A2,A11,A13,A33,A35,A34,CKB22:def 1,RADIX_1:18
.= ( 0 ) by A2,CKB11:1;
hence thesis by A36;
end;
suppose A37: i < m;

A38: ( i -' 1 ) >= 1 by A29,NAT_D:49;
A39: ( i -' 1 ) < i by A15,JORDAN5B:1;
then ( i -' 1 ) < m by A37,XXREAL_0:2;
then ( i -' 1 ) <= ( n + 1 ) by A3,XXREAL_0:2;
then A40: ( i -' 1 ) in ( Seg ( n + 1 ) ) by A38,FINSEQ_1:1;
then A41: ( DigA (( Fmax (( n + 1 ),m,k) ),( i -' 1 )) ) = ( FmaxDigit (m,k,( i -' 1 )) ) by CKB25:def 1
.= ( 0 ) by A2,A37,A39,CKB24:def 1;
A42: ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) = ( 0 ) by A2,A14,A37,CKB24:def 1;
A43: i < ( m + 1 ) by A37,NAT_1:13;
( DigA (( Fmin (( n + 1 ),m,k) ),( i -' 1 )) ) = ( FminDigit (m,k,( i -' 1 )) ) by A40,CKB23:def 1
.= ( 0 ) by A2,A37,A39,CKB22:def 1;
then ( DigA (( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ),i) ) = ( ( SD_Add_Data (( ( 0 ) + ( 0 ) ),k) ) + ( SD_Add_Carry ( ( 0 ) + ( 0 ) ) ) ) by A2,A11,A13,A37,A42,A41,CKB22:def 1
.= ( ( 0 ) + ( 0 ) ) by RADIX_1:18,RADIX_1:19;
hence thesis by A2,A12,A43,CKB22:def 1;
end;
end;
hence thesis;
end;
suppose A44: i = 1;

then A45: ( DigA (( Fmax (( n + 1 ),m,k) ),( i -' 1 )) ) = ( 0 ) by NAT_2:8,RADIX_1:def 3;
now
per cases  by A28,XXREAL_0:1;
suppose A46: i < m;

then (( DigA (( Fmin (( n + 1 ),m,k) ),i) ) = ( 0 ) & ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) = ( 0 )) by A2,A13,A14,CKB22:def 1,CKB24:def 1;
then A47: ( DigA (( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ),i) ) = ( ( SD_Add_Data (( ( 0 ) + ( 0 ) ),k) ) + ( SD_Add_Carry ( ( 0 ) + ( 0 ) ) ) ) by A11,A44,A45,NAT_2:8,RADIX_1:def 3
.= ( ( 0 ) + ( 0 ) ) by RADIX_1:18,RADIX_1:19;
i < ( m + 1 ) by A46,NAT_1:13;
hence thesis by A2,A12,A47,CKB22:def 1;
end;
suppose A48: i = m;

then (( DigA (( Fmin (( n + 1 ),m,k) ),i) ) = 1 & ( DigA (( Fmax (( n + 1 ),m,k) ),i) ) = ( ( Radix k ) - 1 )) by A2,A13,A14,CKB22:def 1,CKB24:def 1;
then A49: ( DigA (( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ),i) ) = ( ( SD_Add_Data (( 1 + ( ( Radix k ) - 1 ) ),k) ) + ( 0 ) ) by A11,A44,A45,NAT_2:8,RADIX_1:18,RADIX_1:def 3
.= ( 0 ) by A2,CKB11:1;
i < ( m + 1 ) by A48,NAT_1:13;
hence thesis by A2,A12,A49,CKB22:def 1;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
A50: ( DigA (( Fmax (( n + 1 ),m,k) ),( n + 1 )) ) = ( FmaxDigit (m,k,( n + 1 )) ) by A4,CKB25:def 1
.= ( 0 ) by A2,A3,CKB24:def 1;
( ( SDDec ( Fmin (( n + 1 ),m,k) ) ) + ( SDDec ( Fmax (( n + 1 ),m,k) ) ) ) = ( ( SDDec ( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ) ) + ( ( SD_Add_Carry ( ( DigA (( Fmin (( n + 1 ),m,k) ),( n + 1 )) ) + ( DigA (( Fmax (( n + 1 ),m,k) ),( n + 1 )) ) ) ) * ( ( Radix k ) |^ ( n + 1 ) ) ) ) by A2,NAT_1:11,RADIX_2:11
.= ( ( SDDec ( ( Fmin (( n + 1 ),m,k) ) '+' ( Fmax (( n + 1 ),m,k) ) ) ) + ( ( 0 ) * ( ( Radix k ) |^ ( n + 1 ) ) ) ) by A5,A50,RADIX_1:18;
hence thesis by A8,CKB14:1,NAT_1:11;
end;
