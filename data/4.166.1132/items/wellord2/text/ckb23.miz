environ
vocabularies RELAT_1,ORDINAL1,TARSKI,RELAT_2,WELLORD1,XBOOLE_0,SUBSET_1,ZFMISC_1,FUNCT_1,MCART_1,WELLORD2;
notations TARSKI,XBOOLE_0,ZFMISC_1,MCART_1,SUBSET_1,RELAT_1,RELAT_2,FUNCT_1,WELLORD1,ORDINAL1,CKB1,CKB15,CKB16,CKB18;
definitions TARSKI,XBOOLE_0,FUNCT_1,RELAT_1,RELAT_2,WELLORD1,CKB1,CKB15,CKB16,CKB18;
theorems TARSKI,FUNCT_1,RELAT_1,RELAT_2,ZFMISC_1,WELLORD1,ORDINAL1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes FUNCT_1,RELAT_1,ORDINAL1,XBOOLE_0;
registrations RELAT_1,FUNCT_1,ORDINAL1;
constructors RELAT_2,ORDINAL1,WELLORD1,MCART_1,CKB1,CKB15,CKB16,CKB18;
requirements SUBSET,BOOLE;
begin
reserve X for set;
reserve Y for set;
reserve x for set;
reserve y for set;
reserve z for set;
reserve u for set;
reserve R for Relation;
reserve f for Function;
reserve M for non empty set;
theorem
(((for X holds (X in M implies X <> ( {} ))) & (for X holds (for Y holds (((X in M & Y in M) & X <> Y) implies X misses Y)))) implies (ex Choice being set st (for X holds (X in M implies (ex x st ( Choice /\ X ) = { x })))))
proof
assume that
A1: (for X holds (X in M implies X <> ( {} )))
and
A2: (for X holds (for Y holds (((X in M & Y in M) & X <> Y) implies X misses Y)));
consider R such that A3: R well_orders ( union M ) by CKB22:1;
A4: R is_reflexive_in ( union M ) by A3,WELLORD1:def 5;
A5: R is_connected_in ( union M ) by A3,WELLORD1:def 5;
defpred Ch[ set,set ]
 means
($2 in $1 & (for z holds (z in $1 implies [ $2,z ] in R)));
A6: R is_antisymmetric_in ( union M ) by A3,WELLORD1:def 5;
A7: (for x holds (for y holds (for z holds (((x in M & Ch[ x,y ]) & Ch[ x,z ]) implies y = z))))
proof
let x;
let y;
let z;
assume that
A8: x in M;
assume that
A9: y in x
and
A10: (for u holds (u in x implies [ y,u ] in R));
A11: y in ( union M ) by A8,A9,TARSKI:def 4;
assume that
A12: z in x
and
A13: (for u holds (u in x implies [ z,u ] in R));
A14: z in ( union M ) by A8,A12,TARSKI:def 4;
([ y,z ] in R & [ z,y ] in R) by A9,A10,A12,A13;
hence thesis by A6,A11,A14,RELAT_2:def 4;
end;
A15: R is_well_founded_in ( union M ) by A3,WELLORD1:def 5;
A16: (for x holds (x in M implies (ex y st Ch[ x,y ])))
proof
let x;
assume A17: x in M;
then A18: x c= ( union M ) by ZFMISC_1:74;
x <> ( {} ) by A1,A17;
then consider y such that A19: y in x and A20: ( R -Seg y ) misses x by A15,A18,WELLORD1:def 3;
take y;
thus y in x by A19;
let z;
assume A21: z in x;
then A22: (not z in ( R -Seg y )) by A20,XBOOLE_0:3;
(y <> z implies ([ y,z ] in R or [ z,y ] in R)) by A5,A18,A19,A21,RELAT_2:def 6;
hence thesis by A4,A18,A21,A22,RELAT_2:def 1,WELLORD1:1;
end;
consider f such that A23: (( dom f ) = M & (for x holds (x in M implies Ch[ x,( f . x ) ]))) from FUNCT_1:sch 2(A7,A16);
take Choice = ( rng f );
let X;
assume that
A24: X in M;
take x = ( f . X );
thus ( Choice /\ X ) c= { x }
proof
let y;
assume A25: y in ( Choice /\ X );
then A26: y in X by XBOOLE_0:def 4;
y in Choice by A25,XBOOLE_0:def 4;
then consider z such that A27: z in ( dom f ) and A28: y = ( f . z ) by FUNCT_1:def 3;
assume (not y in { x });
then X <> z by A28,TARSKI:def 1;
then X misses z by A2,A23,A24,A27;
then A29: ( X /\ z ) = ( {} ) by XBOOLE_0:def 7;
( f . z ) in z by A23,A27;
hence contradiction by A26,A28,A29,XBOOLE_0:def 4;
end;

let y;
assume y in { x };
then A30: y = x by TARSKI:def 1;
then A31: y in X by A24,A23;
y in Choice by A23,A24,A30,FUNCT_1:def 3;
hence thesis by A31,XBOOLE_0:def 4;
end;
