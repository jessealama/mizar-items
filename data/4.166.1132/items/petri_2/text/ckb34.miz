environ
vocabularies PETRI,FUNCT_1,XBOOLE_0,TARSKI,SUBSET_1,FUNCT_2,RELAT_1,FUNCOP_1,FUNCT_4,FINSET_1,SETFAM_1,ZFMISC_1,PARTFUN1,ARYTM_3,CARD_1,PETRI_2,STRUCT_0;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,ZFMISC_1,SETFAM_1,RELAT_1,RELSET_1,DOMAIN_1,PETRI,FUNCT_1,PARTFUN1,FUNCT_2,FUNCT_4,RELSET_2,FINSET_1,FUNCOP_1,CARD_1,PARTIT_2,STRUCT_0,CKB1,CKB2,CKB5,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB21,CKB22,CKB23,CKB24,CKB30,CKB31,CKB32,CKB33;
definitions TARSKI,PETRI,STRUCT_0,PARTIT_2,CKB1,CKB2,CKB5,CKB13,CKB14,CKB15,CKB16,CKB18,CKB22,CKB23,CKB24,CKB31,CKB32,CKB33;
theorems RELSET_1,PARTFUN1,TARSKI,ZFMISC_1,RELAT_1,XBOOLE_0,PETRI,FUNCT_1,FUNCT_2,XBOOLE_1,FUNCT_4,FUNCOP_1,RELSET_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB31,CKB32,CKB33;
schemes FUNCT_2;
registrations SUBSET_1,RELAT_1,PARTFUN1,RELSET_1,XBOOLE_0,FUNCT_2,FINSET_1,REALSET1,STRUCT_0,PARTIT_2,FUNCT_1,PETRI,ZFMISC_1,CKB17,CKB19,CKB20,CKB29;
constructors RELSET_1,DOMAIN_1,PETRI,RELSET_2,FUNCOP_1,FUNCT_4,CARD_1,STRUCT_0,PARTIT_2,CKB1,CKB2,CKB5,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB22,CKB23,CKB24,CKB31,CKB32,CKB33;
requirements SUBSET,BOOLE;
begin
definition
let CPNT1 being Colored-PT-net;
let CPNT2 being Colored-PT-net;
let O being (connecting-mapping of CPNT1,CPNT2);
let q being (connecting-firing-rule of CPNT1,CPNT2,O);
assume A1: CPNT1 misses CPNT2;
func synthesis (CPNT1,CPNT2,O,q) ->  strict Colored-PT-net means 
(ex q12,q21 being Function st (ex O12 being (Function of ( Outbds CPNT1 ),(the carrier of CPNT2)) st (ex O21 being (Function of ( Outbds CPNT2 ),(the carrier of CPNT1)) st (((((((((((O = [ O12,O21 ] & ( dom q12 ) = ( Outbds CPNT1 )) & ( dom q21 ) = ( Outbds CPNT2 )) & (for t01 being (transition of CPNT1) holds (t01 is  outbound implies ( q12 . t01 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT1),( *' { t01 } )) ),( thin_cylinders ((the ColoredSet of CPNT1),( Im (O12,t01) )) ))))) & (for t02 being (transition of CPNT2) holds (t02 is  outbound implies ( q21 . t02 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT2),( *' { t02 } )) ),( thin_cylinders ((the ColoredSet of CPNT2),( Im (O21,t02) )) ))))) & q = [ q12,q21 ]) & (the carrier of it) = ( (the carrier of CPNT1) \/ (the carrier of CPNT2) )) & (the carrier' of it) = ( (the carrier' of CPNT1) \/ (the carrier' of CPNT2) )) & (the S-T_Arcs of it) = ( (the S-T_Arcs of CPNT1) \/ (the S-T_Arcs of CPNT2) )) & (the T-S_Arcs of it) = ( ( ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) \/ O12 ) \/ O21 )) & (the ColoredSet of it) = ( (the ColoredSet of CPNT1) \/ (the ColoredSet of CPNT2) )) & (the firing-rule of it) = ( ( ( (the firing-rule of CPNT1) +* (the firing-rule of CPNT2) ) +* q12 ) +* q21 )))));
existence
proof
reconsider CS12 = ( (the ColoredSet of CPNT1) \/ (the ColoredSet of CPNT2) ) as non  empty  finite set;
reconsider T12 = ( (the carrier' of CPNT1) \/ (the carrier' of CPNT2) ) as non  empty set;
reconsider P12 = ( (the carrier of CPNT1) \/ (the carrier of CPNT2) ) as non  empty set;
A2: (the carrier' of CPNT1) c= T12 by XBOOLE_1:7;
(the carrier of CPNT1) c= P12 by XBOOLE_1:7;
then reconsider E1 = (the S-T_Arcs of CPNT1) as (Relation of P12,T12) by A2,RELSET_1:7;
A3: (the carrier of CPNT2) c= P12 by XBOOLE_1:7;
(the carrier' of CPNT2) c= T12 by XBOOLE_1:7;
then reconsider E22 = (the T-S_Arcs of CPNT2) as (Relation of T12,P12) by A3,RELSET_1:7;
set R1 = (the firing-rule of CPNT1);
A4: (the carrier' of CPNT2) c= T12 by XBOOLE_1:7;
(the carrier of CPNT2) c= P12 by XBOOLE_1:7;
then reconsider E2 = (the S-T_Arcs of CPNT2) as (Relation of P12,T12) by A4,RELSET_1:7;
set R2 = (the firing-rule of CPNT2);
A5: (the carrier of CPNT1) c= P12 by XBOOLE_1:7;
(the carrier' of CPNT1) c= T12 by XBOOLE_1:7;
then reconsider E21 = (the T-S_Arcs of CPNT1) as (Relation of T12,P12) by A5,RELSET_1:7;
A6: (the T-S_Arcs of CPNT1) c= ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) by XBOOLE_1:7;
( E1 \/ E2 ) is (Relation of P12,T12);
then reconsider ST12 = ( (the S-T_Arcs of CPNT1) \/ (the S-T_Arcs of CPNT2) ) as non  empty (Relation of P12,T12);
A7: (the T-S_Arcs of CPNT2) c= ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) by XBOOLE_1:7;
( E21 \/ E22 ) is (Relation of T12,P12);
then reconsider TTS12 = ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) as non  empty (Relation of T12,P12);
consider q12,q21 being Function,O12 being (Function of ( Outbds CPNT1 ),(the carrier of CPNT2)),O21 being (Function of ( Outbds CPNT2 ),(the carrier of CPNT1)) such that A8: O = [ O12,O21 ] and A9: ( dom q12 ) = ( Outbds CPNT1 ) and A10: ( dom q21 ) = ( Outbds CPNT2 ) and A11: (for t01 being (transition of CPNT1) holds (t01 is  outbound implies ( q12 . t01 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT1),( *' { t01 } )) ),( thin_cylinders ((the ColoredSet of CPNT1),( Im (O12,t01) )) )))) and A12: (for t02 being (transition of CPNT2) holds (t02 is  outbound implies ( q21 . t02 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT2),( *' { t02 } )) ),( thin_cylinders ((the ColoredSet of CPNT2),( Im (O21,t02) )) )))) and A13: q = [ q12,q21 ] by CKB33:def 1;
A14: ( dom (the firing-rule of CPNT2) ) c= ( (the carrier' of CPNT2) \ ( dom q21 ) ) by A10,CKB24:def 1;
(the carrier' of CPNT2) c= T12 by XBOOLE_1:7;
then A15: ( Outbds CPNT2 ) c= T12 by XBOOLE_1:1;
(the carrier' of CPNT1) c= T12 by XBOOLE_1:7;
then A16: ( Outbds CPNT1 ) c= T12 by XBOOLE_1:1;
A17: ( (the carrier' of CPNT1) /\ (the carrier' of CPNT2) ) = ( {} ) by A1,CKB31:def 1;
A18: ( dom (the firing-rule of CPNT1) ) c= ( (the carrier' of CPNT1) \ ( dom q12 ) ) by A9,CKB24:def 1;
then A19: ( ( dom (the firing-rule of CPNT1) ) /\ ( dom (the firing-rule of CPNT2) ) ) = ( {} ) by A9,A10,A17,A14,CKB28:1;
A20: ( ( dom (the firing-rule of CPNT2) ) /\ ( dom q21 ) ) = ( {} ) by A9,A10,A17,A18,A14,CKB28:1;
A21: ( ( dom (the firing-rule of CPNT2) ) /\ ( dom q12 ) ) = ( {} ) by A9,A10,A17,A18,A14,CKB28:1;
A22: ( ( dom q12 ) /\ ( dom q21 ) ) = ( {} ) by A9,A10,A17,A18,A14,CKB28:1;
A23: ( ( dom (the firing-rule of CPNT1) ) /\ ( dom q21 ) ) = ( {} ) by A9,A10,A17,A18,A14,CKB28:1;
A24: ( ( dom (the firing-rule of CPNT1) ) /\ ( dom q12 ) ) = ( {} ) by A9,A10,A17,A18,A14,CKB28:1;
(the carrier of CPNT1) c= P12 by XBOOLE_1:7;
then reconsider E32 = O21 as (Relation of T12,P12) by A15,RELSET_1:7;
(the carrier of CPNT2) c= P12 by XBOOLE_1:7;
then reconsider E31 = O12 as (Relation of T12,P12) by A16,RELSET_1:7;
set R4 = q21;
set R3 = q12;
set CR12 = ( ( ( (the firing-rule of CPNT1) +* (the firing-rule of CPNT2) ) +* q12 ) +* q21 );
reconsider TS12 = ( TTS12 \/ ( E31 \/ E32 ) ) as non  empty (Relation of T12,P12);
set CPNT12 = Colored_PT_net_Str (# P12,T12,ST12,TS12,CS12,CR12 #);
A25: CPNT12 is  with_S-T_arc by PETRI:def 1;
CPNT12 is  with_T-S_arc by PETRI:def 2;
then reconsider CPNT12 as Colored_Petri_net by A25;
A26: (the carrier of CPNT1) c= (the carrier of CPNT12) by XBOOLE_1:7;
A27: (the S-T_Arcs of CPNT1) c= (the S-T_Arcs of CPNT12) by XBOOLE_1:7;
( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) c= (the T-S_Arcs of CPNT12) by XBOOLE_1:7;
then A28: (the T-S_Arcs of CPNT1) c= (the T-S_Arcs of CPNT12) by A6,XBOOLE_1:1;
A29: (the carrier of CPNT2) c= (the carrier of CPNT12) by XBOOLE_1:7;
( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) c= (the T-S_Arcs of CPNT12) by XBOOLE_1:7;
then A30: (the T-S_Arcs of CPNT2) c= (the T-S_Arcs of CPNT12) by A7,XBOOLE_1:1;
A31: (the S-T_Arcs of CPNT2) c= (the S-T_Arcs of CPNT12) by XBOOLE_1:7;
A32:now
let x being set;
assume x in ( dom CR12 );
then (x in ( dom ( ( R1 +* R2 ) +* R3 ) ) or x in ( dom R4 )) by FUNCT_4:12;
then ((x in ( dom ( R1 +* R2 ) ) or x in ( dom R3 )) or x in ( dom R4 )) by FUNCT_4:12;
hence (((x in ( dom R1 ) or x in ( dom R2 )) or x in ( dom R3 )) or x in ( dom R4 )) by FUNCT_4:12;
end;
A33: (for t being (transition of CPNT12) holds (t in ( dom (the firing-rule of CPNT12) ) implies (ex CS being non  empty (Subset of (the ColoredSet of CPNT12)) st (ex I being (Subset of ( *' { t } )) st (ex O being (Subset of ( { t } *' )) st ( (the firing-rule of CPNT12) . t ) is (Function of ( thin_cylinders (CS,I) ),( thin_cylinders (CS,O) )))))))
proof
let t being (transition of CPNT12);
assume A34: t in ( dom (the firing-rule of CPNT12) );
now
per cases  by A32,A34;
suppose A35: t in ( dom (the firing-rule of CPNT1) );

( dom (the firing-rule of CPNT1) ) c= ( (the carrier' of CPNT1) \ ( Outbds CPNT1 ) ) by CKB24:def 1;
then reconsider t1 = t as (transition of CPNT1) by A35,TARSKI:def 3;
consider CS1 being non  empty (Subset of (the ColoredSet of CPNT1)),I1 being (Subset of ( *' { t1 } )),O1 being (Subset of ( { t1 } *' )) such that A36: ( (the firing-rule of CPNT1) . t1 ) is (Function of ( thin_cylinders (CS1,I1) ),( thin_cylinders (CS1,O1) )) by A35,CKB24:def 1;
( *' { t1 } ) c= ( *' { t } ) by A26,A27,A28,CKB26:1;
then reconsider I = I1 as (Subset of ( *' { t } )) by XBOOLE_1:1;
(the ColoredSet of CPNT1) c= (the ColoredSet of CPNT12) by XBOOLE_1:7;
then reconsider CS = CS1 as non  empty (Subset of (the ColoredSet of CPNT12)) by XBOOLE_1:1;
( { t1 } *' ) c= ( { t } *' ) by A26,A27,A28,CKB26:1;
then reconsider O = O1 as (Subset of ( { t } *' )) by XBOOLE_1:1;
( (the firing-rule of CPNT12) . t ) is (Function of ( thin_cylinders (CS,I) ),( thin_cylinders (CS,O) )) by A19,A24,A23,A21,A20,A22,A35,A36,CKB27:1;
hence thesis;
end;
suppose A37: t in ( dom (the firing-rule of CPNT2) );

( dom (the firing-rule of CPNT2) ) c= ( (the carrier' of CPNT2) \ ( Outbds CPNT2 ) ) by CKB24:def 1;
then reconsider t1 = t as (transition of CPNT2) by A37,TARSKI:def 3;
consider CS1 being non  empty (Subset of (the ColoredSet of CPNT2)),I1 being (Subset of ( *' { t1 } )),O1 being (Subset of ( { t1 } *' )) such that A38: ( (the firing-rule of CPNT2) . t1 ) is (Function of ( thin_cylinders (CS1,I1) ),( thin_cylinders (CS1,O1) )) by A37,CKB24:def 1;
( *' { t1 } ) c= ( *' { t } ) by A29,A31,A30,CKB26:1;
then reconsider I = I1 as (Subset of ( *' { t } )) by XBOOLE_1:1;
(the ColoredSet of CPNT2) c= (the ColoredSet of CPNT12) by XBOOLE_1:7;
then reconsider CS = CS1 as non  empty (Subset of (the ColoredSet of CPNT12)) by XBOOLE_1:1;
( { t1 } *' ) c= ( { t } *' ) by A29,A31,A30,CKB26:1;
then reconsider O = O1 as (Subset of ( { t } *' )) by XBOOLE_1:1;
( (the firing-rule of CPNT12) . t ) is (Function of ( thin_cylinders (CS,I) ),( thin_cylinders (CS,O) )) by A19,A24,A23,A21,A20,A22,A37,A38,CKB27:1;
hence thesis;
end;
suppose A39: t in ( dom q12 );

then reconsider t1 = t as (transition of CPNT1) by A9;
reconsider I = ( *' { t1 } ) as (Subset of ( *' { t } )) by A26,A27,A28,CKB26:1;
reconsider CS = (the ColoredSet of CPNT1) as non  empty (Subset of (the ColoredSet of CPNT12)) by XBOOLE_1:7;
( Im (O12,t1) ) c= ( { t } *' )
proof
let x being set;
A40: ( E31 \/ E32 ) c= (the T-S_Arcs of CPNT12) by XBOOLE_1:7;
assume A41: x in ( Im (O12,t1) );
then reconsider s = x as (place of CPNT2);
A42: [ t1,s ] in O12 by A41,RELSET_2:9;
O12 c= ( E31 \/ E32 ) by XBOOLE_1:7;
then O12 c= (the T-S_Arcs of CPNT12) by A40,XBOOLE_1:1;
then reconsider f = [ t,s ] as (T-S_arc of CPNT12) by A42;
A43: (the carrier of CPNT2) c= ( (the carrier of CPNT1) \/ (the carrier of CPNT2) ) by XBOOLE_1:7;
A44: f = [ t,s ];
A45: t in { t } by TARSKI:def 1;
s in (the carrier of CPNT2);
hence thesis by A43,A45,A44;
end;
then reconsider O = ( Im (O12,t1) ) as (Subset of ( { t } *' ));
(ex x1 being (transition of CPNT1) st (t1 = x1 & x1 is  outbound)) by A9,A39;
then ( q12 . t1 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT1),( *' { t1 } )) ),( thin_cylinders ((the ColoredSet of CPNT1),( Im (O12,t1) )) )) by A11;
then ( (the firing-rule of CPNT12) . t ) is (Function of ( thin_cylinders (CS,I) ),( thin_cylinders (CS,O) )) by A19,A24,A23,A21,A20,A22,A39,CKB27:1;
hence thesis;
end;
suppose A46: t in ( dom q21 );

then reconsider t1 = t as (transition of CPNT2) by A10;
reconsider I = ( *' { t1 } ) as (Subset of ( *' { t } )) by A29,A31,A30,CKB26:1;
reconsider CS = (the ColoredSet of CPNT2) as non  empty (Subset of (the ColoredSet of CPNT12)) by XBOOLE_1:7;
( Im (O21,t1) ) c= ( { t } *' )
proof
let x being set;
A47: O21 c= ( E31 \/ E32 ) by XBOOLE_1:7;
assume A48: x in ( Im (O21,t1) );
then reconsider s = x as (place of CPNT1);
A49: ( E31 \/ E32 ) c= (the T-S_Arcs of CPNT12) by XBOOLE_1:7;
[ t1,s ] in O21 by A48,RELSET_2:9;
then reconsider f = [ t,s ] as (T-S_arc of CPNT12) by A47,A49,TARSKI:def 3;
A50: (the carrier of CPNT1) c= ( (the carrier of CPNT1) \/ (the carrier of CPNT2) ) by XBOOLE_1:7;
A51: f = [ t,s ];
A52: t in { t } by TARSKI:def 1;
s in (the carrier of CPNT1);
hence thesis by A50,A52,A51;
end;
then reconsider O = ( Im (O21,t1) ) as (Subset of ( { t } *' ));
(ex x1 being (transition of CPNT2) st (t1 = x1 & x1 is  outbound)) by A10,A46;
then ( q21 . t1 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT2),( *' { t1 } )) ),( thin_cylinders ((the ColoredSet of CPNT2),( Im (O21,t1) )) )) by A12;
then ( (the firing-rule of CPNT12) . t ) is (Function of ( thin_cylinders (CS,I) ),( thin_cylinders (CS,O) )) by A19,A24,A23,A21,A20,A22,A46,CKB27:1;
hence thesis;
end;
end;
hence thesis;
end;
A53: TS12 = ( ( ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) \/ O12 ) \/ O21 ) by XBOOLE_1:4;
A54:now
let x being set;
( dom (the firing-rule of CPNT1) ) c= ( (the carrier' of CPNT1) \ ( Outbds CPNT1 ) ) by CKB24:def 1;
then A55: ( dom (the firing-rule of CPNT1) ) c= (the carrier' of CPNT1) by XBOOLE_1:1;
( dom (the firing-rule of CPNT2) ) c= ( (the carrier' of CPNT2) \ ( Outbds CPNT2 ) ) by CKB24:def 1;
then A56: ( dom (the firing-rule of CPNT2) ) c= (the carrier' of CPNT2) by XBOOLE_1:1;
assume x in ( dom CR12 );
then (((x in ( dom R1 ) or x in ( dom R2 )) or x in ( dom R3 )) or x in ( dom R4 )) by A32;
hence x in ( (the carrier' of CPNT1) \/ (the carrier' of CPNT2) ) by A9,A10,A55,A56,XBOOLE_0:def 3;
end;
then A57: ( dom (the firing-rule of CPNT12) ) c= (the carrier' of CPNT12) by TARSKI:def 3;
( dom (the firing-rule of CPNT12) ) c= ( (the carrier' of CPNT12) \ ( Outbds CPNT12 ) )
proof
set RR4 = q21;
set RR3 = q12;
set RR2 = (the firing-rule of CPNT2);
set RR1 = (the firing-rule of CPNT1);
let x being set;
assume A58: x in ( dom (the firing-rule of CPNT12) );
then reconsider t = x as (transition of CPNT12) by A54;
now
per cases  by A32,A58;
suppose A59: t in ( dom RR1 );

A60: ( dom (the firing-rule of CPNT1) ) c= ( (the carrier' of CPNT1) \ ( Outbds CPNT1 ) ) by CKB24:def 1;
then reconsider t1 = t as (transition of CPNT1) by A59,XBOOLE_0:def 5;
(not t in ( Outbds CPNT1 )) by A59,A60,XBOOLE_0:def 5;
then (not t1 is  outbound);
then ( { t1 } *' ) <> ( {} ) by CKB22:def 1;
then A61: (ex g being set st g in ( { t1 } *' )) by XBOOLE_0:def 1;
( { t1 } *' ) c= ( { t } *' ) by A26,A27,A28,CKB26:1;
then (not (ex w being (transition of CPNT12) st (t = w & w is  outbound))) by A61,CKB22:def 1;
hence (not x in ( Outbds CPNT12 ));
end;
suppose A62: t in ( dom RR2 );

A63: ( dom (the firing-rule of CPNT2) ) c= ( (the carrier' of CPNT2) \ ( Outbds CPNT2 ) ) by CKB24:def 1;
then reconsider t1 = t as (transition of CPNT2) by A62,XBOOLE_0:def 5;
(not t in ( Outbds CPNT2 )) by A62,A63,XBOOLE_0:def 5;
then (not t1 is  outbound);
then ( { t1 } *' ) <> ( {} ) by CKB22:def 1;
then A64: (ex g being set st g in ( { t1 } *' )) by XBOOLE_0:def 1;
( { t1 } *' ) c= ( { t } *' ) by A29,A31,A30,CKB26:1;
then (not (ex w being (transition of CPNT12) st (t = w & w is  outbound))) by A64,CKB22:def 1;
hence (not x in ( Outbds CPNT12 ));
end;
suppose t in ( dom RR3 );

then t in ( dom O12 ) by A9,FUNCT_2:def 1;
then consider s being set such that A65: [ t,s ] in O12 by RELAT_1:def 4;
reconsider s as (place of CPNT2) by A65,ZFMISC_1:87;
A66: ( E31 \/ E32 ) c= (the T-S_Arcs of CPNT12) by XBOOLE_1:7;
O12 c= ( E31 \/ E32 ) by XBOOLE_1:7;
then O12 c= (the T-S_Arcs of CPNT12) by A66,XBOOLE_1:1;
then reconsider f = [ t,s ] as (T-S_arc of CPNT12) by A65;
A67: (the carrier of CPNT2) c= ( (the carrier of CPNT1) \/ (the carrier of CPNT2) ) by XBOOLE_1:7;
A68: f = [ t,s ];
A69: t in { t } by TARSKI:def 1;
s in (the carrier of CPNT2);
then s in ( { t } *' ) by A67,A69,A68;
then (not (ex w being (transition of CPNT12) st (t = w & w is  outbound))) by CKB22:def 1;
hence (not x in ( Outbds CPNT12 ));
end;
suppose t in ( dom RR4 );

then t in ( dom O21 ) by A10,FUNCT_2:def 1;
then consider s being set such that A70: [ t,s ] in O21 by RELAT_1:def 4;
reconsider s as (place of CPNT1) by A70,ZFMISC_1:87;
A71: ( E31 \/ E32 ) c= (the T-S_Arcs of CPNT12) by XBOOLE_1:7;
O21 c= ( E31 \/ E32 ) by XBOOLE_1:7;
then O21 c= (the T-S_Arcs of CPNT12) by A71,XBOOLE_1:1;
then reconsider f = [ t,s ] as (T-S_arc of CPNT12) by A70;
A72: (the carrier of CPNT1) c= ( (the carrier of CPNT1) \/ (the carrier of CPNT2) ) by XBOOLE_1:7;
A73: f = [ t,s ];
A74: t in { t } by TARSKI:def 1;
s in (the carrier of CPNT1);
then s in ( { t } *' ) by A72,A74,A73;
then (not (ex w being (transition of CPNT12) st (t = w & w is  outbound))) by CKB22:def 1;
hence (not x in ( Outbds CPNT12 ));
end;
end;
hence thesis by A57,A58,XBOOLE_0:def 5;
end;
then CPNT12 is  Colored-PT-net-like by A33,CKB24:def 1;
hence thesis by A8,A9,A10,A11,A12,A13,A53;
end;
uniqueness
proof
let CA being  strict Colored-PT-net;
let CB being  strict Colored-PT-net;
assume (ex q12A,q21A being Function st (ex O12A being (Function of ( Outbds CPNT1 ),(the carrier of CPNT2)) st (ex O21A being (Function of ( Outbds CPNT2 ),(the carrier of CPNT1)) st (((((((((((O = [ O12A,O21A ] & ( dom q12A ) = ( Outbds CPNT1 )) & ( dom q21A ) = ( Outbds CPNT2 )) & (for t01 being (transition of CPNT1) holds (t01 is  outbound implies ( q12A . t01 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT1),( *' { t01 } )) ),( thin_cylinders ((the ColoredSet of CPNT1),( Im (O12A,t01) )) ))))) & (for t02 being (transition of CPNT2) holds (t02 is  outbound implies ( q21A . t02 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT2),( *' { t02 } )) ),( thin_cylinders ((the ColoredSet of CPNT2),( Im (O21A,t02) )) ))))) & q = [ q12A,q21A ]) & (the carrier of CA) = ( (the carrier of CPNT1) \/ (the carrier of CPNT2) )) & (the carrier' of CA) = ( (the carrier' of CPNT1) \/ (the carrier' of CPNT2) )) & (the S-T_Arcs of CA) = ( (the S-T_Arcs of CPNT1) \/ (the S-T_Arcs of CPNT2) )) & (the T-S_Arcs of CA) = ( ( ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) \/ O12A ) \/ O21A )) & (the ColoredSet of CA) = ( (the ColoredSet of CPNT1) \/ (the ColoredSet of CPNT2) )) & (the firing-rule of CA) = ( ( ( (the firing-rule of CPNT1) +* (the firing-rule of CPNT2) ) +* q12A ) +* q21A )))));
then consider q12A,q21A being Function,O12A being (Function of ( Outbds CPNT1 ),(the carrier of CPNT2)),O21A being (Function of ( Outbds CPNT2 ),(the carrier of CPNT1)) such that A75: O = [ O12A,O21A ] and ( dom q12A ) = ( Outbds CPNT1 ) and ( dom q21A ) = ( Outbds CPNT2 ) and (for t01 being (transition of CPNT1) holds (t01 is  outbound implies ( q12A . t01 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT1),( *' { t01 } )) ),( thin_cylinders ((the ColoredSet of CPNT1),( Im (O12A,t01) )) )))) and (for t02 being (transition of CPNT2) holds (t02 is  outbound implies ( q21A . t02 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT2),( *' { t02 } )) ),( thin_cylinders ((the ColoredSet of CPNT2),( Im (O21A,t02) )) )))) and A76: q = [ q12A,q21A ] and A77: (the carrier of CA) = ( (the carrier of CPNT1) \/ (the carrier of CPNT2) ) and A78: (the carrier' of CA) = ( (the carrier' of CPNT1) \/ (the carrier' of CPNT2) ) and A79: (the S-T_Arcs of CA) = ( (the S-T_Arcs of CPNT1) \/ (the S-T_Arcs of CPNT2) ) and A80: (the T-S_Arcs of CA) = ( ( ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) \/ O12A ) \/ O21A ) and A81: (the ColoredSet of CA) = ( (the ColoredSet of CPNT1) \/ (the ColoredSet of CPNT2) ) and A82: (the firing-rule of CA) = ( ( ( (the firing-rule of CPNT1) +* (the firing-rule of CPNT2) ) +* q12A ) +* q21A );
assume (ex q12B,q21B being Function st (ex O12B being (Function of ( Outbds CPNT1 ),(the carrier of CPNT2)) st (ex O21B being (Function of ( Outbds CPNT2 ),(the carrier of CPNT1)) st (((((((((((O = [ O12B,O21B ] & ( dom q12B ) = ( Outbds CPNT1 )) & ( dom q21B ) = ( Outbds CPNT2 )) & (for t01 being (transition of CPNT1) holds (t01 is  outbound implies ( q12B . t01 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT1),( *' { t01 } )) ),( thin_cylinders ((the ColoredSet of CPNT1),( Im (O12B,t01) )) ))))) & (for t02 being (transition of CPNT2) holds (t02 is  outbound implies ( q21B . t02 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT2),( *' { t02 } )) ),( thin_cylinders ((the ColoredSet of CPNT2),( Im (O21B,t02) )) ))))) & q = [ q12B,q21B ]) & (the carrier of CB) = ( (the carrier of CPNT1) \/ (the carrier of CPNT2) )) & (the carrier' of CB) = ( (the carrier' of CPNT1) \/ (the carrier' of CPNT2) )) & (the S-T_Arcs of CB) = ( (the S-T_Arcs of CPNT1) \/ (the S-T_Arcs of CPNT2) )) & (the T-S_Arcs of CB) = ( ( ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) \/ O12B ) \/ O21B )) & (the ColoredSet of CB) = ( (the ColoredSet of CPNT1) \/ (the ColoredSet of CPNT2) )) & (the firing-rule of CB) = ( ( ( (the firing-rule of CPNT1) +* (the firing-rule of CPNT2) ) +* q12B ) +* q21B )))));
then consider q12B,q21B being Function,O12B being (Function of ( Outbds CPNT1 ),(the carrier of CPNT2)),O21B being (Function of ( Outbds CPNT2 ),(the carrier of CPNT1)) such that A83: O = [ O12B,O21B ] and ( dom q12B ) = ( Outbds CPNT1 ) and ( dom q21B ) = ( Outbds CPNT2 ) and (for t01 being (transition of CPNT1) holds (t01 is  outbound implies ( q12B . t01 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT1),( *' { t01 } )) ),( thin_cylinders ((the ColoredSet of CPNT1),( Im (O12B,t01) )) )))) and (for t02 being (transition of CPNT2) holds (t02 is  outbound implies ( q21B . t02 ) is (Function of ( thin_cylinders ((the ColoredSet of CPNT2),( *' { t02 } )) ),( thin_cylinders ((the ColoredSet of CPNT2),( Im (O21B,t02) )) )))) and A84: q = [ q12B,q21B ] and A85: (the carrier of CB) = ( (the carrier of CPNT1) \/ (the carrier of CPNT2) ) and A86: (the carrier' of CB) = ( (the carrier' of CPNT1) \/ (the carrier' of CPNT2) ) and A87: (the S-T_Arcs of CB) = ( (the S-T_Arcs of CPNT1) \/ (the S-T_Arcs of CPNT2) ) and A88: (the T-S_Arcs of CB) = ( ( ( (the T-S_Arcs of CPNT1) \/ (the T-S_Arcs of CPNT2) ) \/ O12B ) \/ O21B ) and A89: (the ColoredSet of CB) = ( (the ColoredSet of CPNT1) \/ (the ColoredSet of CPNT2) ) and A90: (the firing-rule of CB) = ( ( ( (the firing-rule of CPNT1) +* (the firing-rule of CPNT2) ) +* q12B ) +* q21B );
A91: q21A = q21B by A76,A84,ZFMISC_1:27;
A92: O12A = O12B by A75,A83,ZFMISC_1:27;
q12A = q12B by A76,A84,ZFMISC_1:27;
hence thesis by A75,A77,A78,A79,A80,A81,A82,A83,A85,A86,A87,A88,A89,A90,A91,A92,ZFMISC_1:27;
end;
end;
