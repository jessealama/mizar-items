environ
vocabularies ABIAN,ARYTM_1,ARYTM_3,BORSUK_1,BROUWER,CARD_1,COMPLEX1,CONNSP_2,CONVEX1,EUCLID,FUNCOP_1,FUNCT_1,FUNCT_3,FUNCT_4,JGRAPH_4,JORDAN2C,MEASURE5,MEMBERED,METRIC_1,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,PCOMPS_1,PRE_TOPC,PROB_1,RCOMP_1,REAL_1,RELAT_1,RLAFFIN1,RLTOPSP1,RLVECT_1,RLVECT_5,RUSUB_4,RVSUM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPREALB,TOPS_1,TOPS_2,VALUED_1,VALUED_2,XBOOLE_0,XREAL_0,XXREAL_0,XXREAL_2,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,ORDINAL1,NUMBERS,VALUED_1,CARD_1,XCMPLX_0,XREAL_0,XXREAL_0,MEMBERED,COMPLEX1,NAT_1,FUNCOP_1,FINSEQ_2,VALUED_2,STRUCT_0,PRE_TOPC,RLAFFIN2,TOPS_1,METRIC_1,PCOMPS_1,TOPMETR,BORSUK_1,RLVECT_1,RLTOPSP1,EUCLID,TOPREAL9,TOPREALB,DOMAIN_1,TOPS_2,COMPTS_1,TBSP_1,JORDAN2C,XXREAL_2,FUNCT_4,JGRAPH_4,TMAP_1,RUSUB_4,CONVEX1,REAL_1,CONNSP_2,BROUWER,ABIAN,RLVECT_5,RLAFFIN1;
definitions TARSKI,XCMPLX_0,STRUCT_0,ALGSTR_0,TOPREAL9,BORSUK_1,BROUWER;
theorems ABIAN,ABSVALUE,BOOLMARK,BORSUK_1,BROUWER,COMPLEX1,COMPTS_1,CONNSP_2,CONVEX1,EUCLID,FUNCOP_1,FUNCT_1,FUNCT_2,FUNCT_4,GOBOARD6,HAUSDORF,JGRAPH_4,JORDAN24,JORDAN2C,MEMBERED,METRIC_1,NECKLACE,ORDINAL1,PRE_TOPC,RELAT_1,RLAFFIN1,RLAFFIN2,RLAFFIN3,RLTOPSP1,RLVECT_1,RUSUB_4,SIMPLEX2,SPPOL_1,SUBSET_1,TARSKI,TBSP_1,TMAP_1,TOPGEN_1,TOPMETR,TOPMETR2,TOPREAL9,TOPREALB,TOPREALC,TOPRNS_1,TOPS_1,TOPS_2,TOPS_4,VALUED_2,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_2,ZFMISC_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
registrations BORSUK_1,BORSUK_3,BROUWER,CARD_1,COMPTS_1,CONVEX1,EUCLID,EUCLID_9,FUNCOP_1,FUNCT_1,FUNCT_2,JGRAPH_4,JORDAN,JORDAN2C,MEMBERED,NAT_1,PCOMPS_1,PRE_TOPC,REALSET1,RELAT_1,REVROT_1,RLAFFIN1,RLAFFIN3,RLTOPSP1,RLVECT_1,SIMPLEX2,STRUCT_0,SUBSET_1,TMAP_1,TOPGRP_1,TOPMETR,TOPREAL1,TOPREAL9,TOPREALC,TOPS_1,VALUED_0,VALUED_2,WAYBEL_2,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,ZFMISC_1,RELSET_1,FINSET_1;
constructors BINOP_2,COMPLEX1,POLYEQ_1,TBSP_1,MONOID_0,JORDAN2C,CONVEX1,GRCAT_1,TOPREAL9,TOPS_1,COMPTS_1,PCOMPS_1,XXREAL_2,FUNCSDOM,JGRAPH_4,TMAP_1,TOPREALC,BROUWER,ABIAN,RUSUB_4,RLAFFIN1,RLAFFIN2,RLVECT_5,SEQ_4;
requirements ARITHM,BOOLE,NUMERALS,SUBSET,REAL;
begin
reserve n for Nat;
reserve p for (Point of ( TOP-REAL n ));
reserve q for (Point of ( TOP-REAL n ));
reserve w for (Point of ( TOP-REAL n ));
reserve A for  convex (Subset of ( TOP-REAL n ));
reserve r for  real number;
theorem
Lm4: (for n being (Element of ( NAT )) holds (n > ( 0 ) implies (for A being  convex (Subset of ( TOP-REAL n )) holds ((A is  compact & ( 0* n ) in ( Int A )) implies (ex h being (Function of ( ( TOP-REAL n ) | A ),( Tdisk (( 0. ( TOP-REAL n ) ),1) )) st (h is  being_homeomorphism & ( h .: ( Fr A ) ) = ( Sphere (( 0. ( TOP-REAL n ) ),1) )))))))
proof
let n being (Element of ( NAT ));
set TRn = ( TOP-REAL n );
set En = ( Euclid n );
set cTRn = (the carrier of TRn);
assume A1: n > ( 0 );
( cTRn \ { ( 0. TRn ) } ) = ( { ( 0. TRn ) } ` ) by SUBSET_1:def 4;
then reconsider cTR0 = ( cTRn \ { ( 0. TRn ) } ) as non  empty  open (Subset of TRn) by A1;
set CL = ( cl_Ball (( 0. TRn ),1) );
set S = ( Sphere (( 0. TRn ),1) );
set TRn0 = ( TRn | cTR0 );
set nN = ( n NormF );
set En = ( Euclid n );
set I0 = ( ( 0. TRn ) .--> ( 0. TRn ) );
let A being  convex (Subset of TRn);
assume that
A2: A is  compact
and
A3: ( 0* n ) in ( Int A );
A4: A is non  empty by A3;
reconsider 0TRn = ( 0. TRn ) as (Point of En) by EUCLID:67;
A5: ( 0* n ) = ( 0. TRn ) by EUCLID:70;
then consider e being  real number such that A6: e > ( 0 ) and A7: ( Ball (0TRn,e) ) c= A by A3,GOBOARD6:5;
( Fr A ) misses ( Int A ) by TOPS_1:39;
then A8: (not ( 0* n ) in ( Fr A )) by A3,XBOOLE_0:3;
then A9: ( ( Fr A ) \ { ( 0. TRn ) } ) = ( Fr A ) by A5,ZFMISC_1:57;
set TM = ( TopSpaceMetr En );
A10: ( [#] TRn0 ) = cTR0 by PRE_TOPC:def 5;
A11: ( the TopStruct of TRn ) = TM by EUCLID:def 8;
then reconsider a = A as (Subset of TM);
reconsider aa = a as (Subset of En) by EUCLID:67;
( TRn | A ) is  compact by A2;
then ( TM | a ) is  compact by A11,PRE_TOPC:36;
then A12: a is  compact by A4,COMPTS_1:3;
A13: (for p being (Point of TRn) holds (p <> ( 0. TRn ) implies (ex x being (Point of TRn) st ( ( Fr A ) /\ ( halfline (( 0. TRn ),p) ) ) = { x })))
proof
let p being (Point of TRn);
assume that
A14: p <> ( 0. TRn );
A15: ( A /\ ( halfline (( 0. TRn ),p) ) ) c= aa by XBOOLE_1:17;
then reconsider F = ( A /\ ( halfline (( 0. TRn ),p) ) ) as (Subset of En) by XBOOLE_1:1;
A16: ( 0. TRn ) in ( Int A ) by A3,EUCLID:70;
F is  bounded by A12,A15,HAUSDORF:18,TBSP_1:14;
then ( A /\ ( halfline (( 0. TRn ),p) ) ) is  Bounded by JORDAN2C:def 1;
hence thesis by A2,A14,A16,CKB7:1;
end;
( Fr A ) is non  empty
proof
set q = the (Element of cTR0);
q <> ( 0. TRn ) by ZFMISC_1:56;
then (ex x being (Point of TRn) st ( ( Fr A ) /\ ( halfline (( 0. TRn ),q) ) ) = { x }) by A13;
hence thesis;
end;
then reconsider FrA = ( Fr A ) as non  empty (Subset of TRn0) by A10,A9,XBOOLE_1:33;
A17: ( Fr A ) c= A by A2,TOPS_1:35;
set TS = ( TRn | S );
reconsider I = ( incl TRn0 ) as  continuous (Function of TRn0,TRn) by TMAP_1:87;
A18: ( [#] TS ) = S by PRE_TOPC:def 5;
A19: ( nN | TRn0 ) = ( nN | (the carrier of TRn0) ) by TMAP_1:def 4;
A20: (not ( 0 ) in ( rng ( nN | TRn0 ) ))
proof
assume ( 0 ) in ( rng ( nN | TRn0 ) );
then consider x being set such that A21: x in ( dom ( nN | TRn0 ) ) and A22: ( ( nN | TRn0 ) . x ) = ( 0 ) by FUNCT_1:def 3;
x in ( dom nN ) by A19,A21,RELAT_1:57;
then reconsider x as (Element of TRn);
reconsider X = x as (Element of ( REAL n )) by EUCLID:22;
( 0 ) = ( nN . x ) by A19,A21,A22,FUNCT_1:47
.= |. X .| by JGRAPH_4:def 1;
then x = ( 0. TRn ) by A5,EUCLID:8;
then x in { ( 0. TRn ) } by TARSKI:def 1;
hence contradiction by A10,A21,XBOOLE_0:def 5;
end;
then reconsider nN0 = ( nN | TRn0 ) as  non-empty  continuous (Function of TRn0,( R^1 )) by RELAT_1:def 9;
reconsider b = ( I </> nN0 ) as (Function of TRn0,TRn) by TOPREALC:46;
A23: ( dom b ) = cTR0 by A10,FUNCT_2:def 1;
A24: (for p being (Point of TRn) holds (p in cTR0 implies (( b . p ) = ( ( 1 / |. p .| ) * p ) & |. ( ( 1 / |. p .| ) * p ) .| = 1)))
proof
let p being (Point of TRn);
assume A25: p in cTR0;
then A26: (( nN0 . p ) = ( nN . p ) & ( I . p ) = p) by A10,A19,FUNCT_1:49,TMAP_1:84;
thus ( b . p ) = ( ( I . p ) (/) ( nN0 . p ) ) by A23,A25,VALUED_2:72
.= ( p (/) |. p .| ) by A26,JGRAPH_4:def 1
.= ( ( 1 / |. p .| ) (#) p ) by VALUED_2:def 32
.= ( ( 1 / |. p .| ) * p );
A27: (( abs ( 1 / |. p .| ) ) = ( 1 / |. p .| ) & p <> ( 0. TRn )) by A25,ABSVALUE:def 1,ZFMISC_1:56;
thus |. ( ( 1 / |. p .| ) * p ) .| = ( ( abs ( 1 / |. p .| ) ) * |. p .| ) by TOPRNS_1:7
.= 1 by A27,TOPRNS_1:24,XCMPLX_1:87;
end;
A28: ( rng b ) c= S
proof
let y being set;
assume y in ( rng b );
then consider x being set such that A29: x in ( dom b ) and A30: ( b . x ) = y by FUNCT_1:def 3;
reconsider x as (Point of TRn) by A23,A29;
A31: (( ( ( 1 / |. x .| ) * x ) - ( 0. TRn ) ) = ( ( 1 / |. x .| ) * x ) & |. ( ( 1 / |. x .| ) * x ) .| = 1) by A10,A24,A29,RLVECT_1:13;
y = ( ( 1 / |. x .| ) * x ) by A10,A24,A29,A30;
hence thesis by A31;
end;
then reconsider B = b as (Function of TRn0,TS) by A10,A18,A23,FUNCT_2:2;
A32: I0 = ( { ( 0. TRn ) } --> ( 0. TRn ) ) by FUNCOP_1:def 9;
then A33: ( dom I0 ) = { ( 0. TRn ) } by FUNCOP_1:13;
set FRA = ( TRn0 | FrA );
set H = ( b | FRA );
A34: ( dom H ) = (the carrier of FRA) by FUNCT_2:def 1;
A35: H = ( b | (the carrier of FRA) ) by TMAP_1:def 4;
then A36: ( rng H ) c= ( rng b ) by RELAT_1:70;
then A37: ( rng H ) c= S by A28,XBOOLE_1:1;
reconsider H as (Function of FRA,TS) by A18,A28,A34,A36,FUNCT_2:2,XBOOLE_1:1;
A38: ( [#] FRA ) = FrA by PRE_TOPC:def 5;
A39: ( ( Fr A ) \ { ( 0. TRn ) } ) c= cTR0 by XBOOLE_1:33;
S c= ( rng H )
proof
let x being set;
assume x in S;
then consider p being (Point of TRn) such that A40: x = p and A41: |. ( p - ( 0. TRn ) ) .| = 1;
p <> ( 0. TRn ) by A5,A41;
then consider q being (Point of TRn) such that A42: ( FrA /\ ( halfline (( 0. TRn ),p) ) ) = { q } by A13;
A43: q in { q } by TARSKI:def 1;
then A44: q in FrA by A42,XBOOLE_0:def 4;
then A45: (( b . q ) = ( ( 1 / |. q .| ) * q ) & ( b . q ) = ( H . q )) by A9,A24,A35,A38,A39,FUNCT_1:49;
q in ( halfline (( 0. TRn ),p) ) by A42,A43,XBOOLE_0:def 4;
then ( halfline (( 0. TRn ),p) ) = ( halfline (( 0. TRn ),q) ) by A5,A8,A44,TOPREAL9:31;
then A46: ( ( 1 / |. q .| ) * q ) in ( halfline (( 0. TRn ),p) ) by CKB2:1;
A47: (( ( ( 1 / |. q .| ) * q ) - ( 0. TRn ) ) = ( ( 1 / |. q .| ) * q ) & p in ( halfline (( 0. TRn ),p) )) by RLVECT_1:13,TOPREAL9:28;
(( H . q ) in ( rng H ) & |. ( ( 1 / |. q .| ) * q ) .| = 1) by A9,A24,A34,A38,A39,A44,FUNCT_1:def 3;
hence thesis by A40,A41,A46,A47,A45,CKB4:1;
end;
then A48: S = ( rng H ) by A37,XBOOLE_0:def 10;
( ( Fr A ) \ { ( 0. TRn ) } ) c= cTR0 by XBOOLE_1:33;
then A49: (( dom H ) = ( [#] FRA ) & ( TRn | ( Fr A ) ) = FRA) by A9,FUNCT_2:def 1,PRE_TOPC:7;
(for x1,x2 being set holds (((x1 in ( dom H ) & x2 in ( dom H )) & ( H . x1 ) = ( H . x2 )) implies x1 = x2))
proof
let x1 being set;
let x2 being set;
assume that
A51: x1 in ( dom H )
and
A52: x2 in ( dom H )
and
A53: ( H . x1 ) = ( H . x2 );
A54: x2 in ( dom b ) by A35,A52,RELAT_1:57;
A55: x1 in ( dom b ) by A35,A51,RELAT_1:57;
then reconsider p1 = x1,p2 = x2 as (Point of TRn) by A23,A54;
A56: ( b . p1 ) = ( ( 1 / |. p1 .| ) * p1 ) by A10,A24,A55;
x2 <> ( 0. TRn ) by A10,A54,ZFMISC_1:56;
then consider q being (Point of TRn) such that A57: ( ( Fr A ) /\ ( halfline (( 0. TRn ),p2) ) ) = { q } by A13;
p2 in ( halfline (( 0. TRn ),p2) ) by TOPREAL9:28;
then p2 in { q } by A38,A52,A57,XBOOLE_0:def 4;
then A58: p2 = q by TARSKI:def 1;
|. ( ( 1 / |. p2 .| ) * p2 ) .| = 1 by A10,A24,A54;
then A59: ( ( 1 / |. p2 .| ) * p2 ) <> ( 0. TRn ) by TOPRNS_1:23;
A60: ( ( 0. TRn ) + ( ( 1 / |. p2 .| ) * p2 ) ) = ( ( 1 / |. p2 .| ) * p2 ) by RLVECT_1:4;
A61: ( b . p2 ) = ( ( 1 / |. p2 .| ) * p2 ) by A10,A24,A54;
A62: (( H . x1 ) = ( b . x1 ) & ( H . x2 ) = ( b . x2 )) by A35,A51,A52,FUNCT_1:47;
( ( 1 - ( 1 / |. p1 .| ) ) * ( 0. TRn ) ) = ( 0. TRn ) by RLVECT_1:10;
then A63: ( ( 1 / |. p1 .| ) * p1 ) in ( halfline (( 0. TRn ),p1) ) by A53,A56,A60,A61,A62;
( ( 1 - ( 1 / |. p2 .| ) ) * ( 0. TRn ) ) = ( 0. TRn ) by RLVECT_1:10;
then ( ( 1 / |. p2 .| ) * p2 ) in ( halfline (( 0. TRn ),p2) ) by A60;
then ( halfline (( 0. TRn ),p2) ) = ( halfline (( 0. TRn ),( ( 1 / |. p1 .| ) * p1 )) ) by A53,A56,A59,A61,A62,TOPREAL9:31
.= ( halfline (( 0. TRn ),p1) ) by A53,A56,A59,A61,A62,A63,TOPREAL9:31;
then p1 in ( halfline (( 0. TRn ),p2) ) by TOPREAL9:28;
then p1 in { q } by A38,A51,A57,XBOOLE_0:def 4;
hence thesis by A58,TARSKI:def 1;
end;
then CC: H is  one-to-one by FUNCT_1:def 4;
then H is  being_homeomorphism by A2,A18,A48,A49,COMPTS_1:17,PRE_TOPC:27;
then reconsider H1 = ( H " ) as  continuous (Function of TS,FRA) by TOPS_2:def 5;
reconsider HH = H as Function;
set nN0F = ( nN0 | FRA );
reconsider H1B = ( H1 * B ) as (Function of TRn0,FRA) by A48;
reconsider NH1B = ( nN0F * H1B ) as (Function of TRn0,( R^1 ));
A64: nN0F = ( nN0 | (the carrier of FRA) ) by TMAP_1:def 4;
then (( rng NH1B ) c= ( rng nN0F ) & ( rng nN0F ) c= ( rng nN0 )) by RELAT_1:26,RELAT_1:70;
then ( rng NH1B ) c= ( rng nN0 ) by XBOOLE_1:1;
then A65: (not ( 0 ) in ( rng NH1B )) by A20;
(B is  continuous & S is non  empty) by A28,PRE_TOPC:27;
then reconsider NH1B as  non-empty  continuous (Function of TRn0,( R^1 )) by A65,RELAT_1:def 9;
reconsider G = ( I </> NH1B ) as (Function of TRn0,TRn) by TOPREALC:46;
A66: ( dom G ) = cTR0 by A10,FUNCT_2:def 1;
A67: ( dom nN0F ) = FrA by A38,FUNCT_2:def 1;
A68: (for p being (Point of TRn) holds (p in cTR0 implies (ex Hp being (Point of TRn) st (((Hp = ( H1B . p ) & Hp in FrA) & ( G . p ) = ( ( 1 / |. Hp .| ) * p )) & |. Hp .| > ( 0 )))))
proof
let p being (Point of TRn);
assume A69: p in cTR0;
then A70: p in ( dom NH1B ) by A10,FUNCT_2:def 1;
then A71: ( H1B . p ) in ( dom nN0F ) by FUNCT_1:11;
then reconsider Hp = ( H1B . p ) as (Point of TRn) by A67;
A72: ( nN0F . Hp ) = ( nN0 . Hp ) by A64,A71,FUNCT_1:49;
A73: (( nN . Hp ) = |. Hp .| & ( nN0 . Hp ) = ( nN . Hp )) by A19,A67,A71,FUNCT_1:49,JGRAPH_4:def 1;
take Hp;
A74: ( NH1B . p ) = ( nN0F . ( H1B . p ) ) by A70,FUNCT_1:12;
( G . p ) = ( ( I . p ) (/) ( NH1B . p ) ) by A66,A69,VALUED_2:72
.= ( p (/) |. Hp .| ) by A10,A69,A74,A72,A73,TMAP_1:84
.= ( ( 1 / |. Hp .| ) (#) p ) by VALUED_2:def 32
.= ( ( 1 / |. Hp .| ) * p );
hence thesis by A38,A64,A70,A71,A74,A73,FUNCT_1:49;
end;
A75: (not ( 0. TRn ) in ( rng G ))
proof
assume ( 0. TRn ) in ( rng G );
then consider p being set such that A76: p in ( dom G ) and A77: ( G . p ) = ( 0. TRn ) by FUNCT_1:def 3;
reconsider p as (Point of TRn) by A66,A76;
consider Hp being (Point of TRn) such that Hp = ( H1B . p ) and Hp in FrA and A78: (( G . p ) = ( ( 1 / |. Hp .| ) * p ) & |. Hp .| > ( 0 )) by A10,A68,A76;
p <> ( 0. TRn ) by A10,A76,ZFMISC_1:56;
hence contradiction by A77,A78,RLVECT_1:11;
end;
A79: (for x1,x2 being set holds ((x1 in ( dom I0 ) & x2 in ( ( dom G ) \ ( dom I0 ) )) implies ( I0 . x1 ) <> ( G . x2 )))
proof
let x1 being set;
let x2 being set;
assume that
A80: x1 in ( dom I0 )
and
A81: x2 in ( ( dom G ) \ ( dom I0 ) );
x1 = ( 0. TRn ) by A33,A80,TARSKI:def 1;
then A82: ( I0 . x1 ) = ( 0. TRn ) by FUNCOP_1:72;
x2 in ( dom G ) by A81,XBOOLE_0:def 5;
hence thesis by A75,A82,FUNCT_1:def 3;
end;
H is  onto by A18,A48,FUNCT_2:def 3;
then A84: ( H " ) = ( HH " ) by CC,TOPS_2:def 4;
A85: (for p being (Point of TRn) holds (p in cTR0 implies ( ( Fr A ) /\ ( halfline (( 0. TRn ),p) ) ) = { ( H1B . p ) }))
proof
let p being (Point of TRn);
assume A86: p in cTR0;
then A87: p in ( dom H1B ) by A10,FUNCT_2:def 1;
then A88: ( H1B . p ) = ( H1 . ( B . p ) ) by FUNCT_1:12;
( B . p ) in ( dom H1 ) by A87,FUNCT_1:11;
then consider x being set such that A89: x in ( dom H ) and A90: ( H . x ) = ( B . p ) by A18,A48,FUNCT_1:def 3;
reconsider x as (Point of TRn) by A34,A38,A89;
A91: ( H . x ) = ( b . x ) by A35,A89,FUNCT_1:47;
set xp = ( |. x .| / |. p .| );
A92: x in FrA by A38,A89;
then A93: ( b . x ) = ( ( 1 / |. x .| ) * x ) by A9,A24,A39;
|. ( ( 1 / |. x .| ) * x ) .| = 1 by A9,A24,A39,A92;
then ( ( 1 / |. x .| ) * x ) <> ( 0. TRn ) by TOPRNS_1:23;
then ( 1 / |. x .| ) <> ( 0 ) by RLVECT_1:10;
then |. x .| > ( 0 );
then 1 = ( |. x .| / |. x .| ) by XCMPLX_1:60
.= ( |. x .| * ( 1 / |. x .| ) );
then x = ( ( |. x .| * ( 1 / |. x .| ) ) * x ) by RLVECT_1:def 8
.= ( |. x .| * ( ( 1 / |. x .| ) * x ) ) by RLVECT_1:def 7
.= ( |. x .| * ( ( 1 / |. p .| ) * p ) ) by A24,A86,A90,A91,A93
.= ( xp * p ) by RLVECT_1:def 7;
then x in ( halfline (( 0. TRn ),p) ) by CKB2:1;
then A94: x in ( ( Fr A ) /\ ( halfline (( 0. TRn ),p) ) ) by A38,A89,XBOOLE_0:def 4;
p <> ( 0. TRn ) by A86,ZFMISC_1:56;
then consider y being (Point of TRn) such that A95: ( ( Fr A ) /\ ( halfline (( 0. TRn ),p) ) ) = { y } by A13;
( H1 . ( B . p ) ) = x by CC,A84,A89,A90,FUNCT_1:34;
hence thesis by A88,A94,A95,TARSKI:def 1;
end;
(for x1,x2 being set holds (((x1 in ( dom G ) & x2 in ( dom G )) & ( G . x1 ) = ( G . x2 )) implies x1 = x2))
proof
let x1 being set;
let x2 being set;
assume that
A96: x1 in ( dom G )
and
A97: x2 in ( dom G )
and
A98: ( G . x1 ) = ( G . x2 );
reconsider p1 = x1,p2 = x2 as (Point of TRn) by A66,A96,A97;
consider Hp1 being (Point of TRn) such that A99: Hp1 = ( H1B . p1 ) and Hp1 in FrA and A100: ( G . p1 ) = ( ( 1 / |. Hp1 .| ) * p1 ) and A101: |. Hp1 .| > ( 0 ) by A10,A68,A96;
A102: ( FrA /\ ( halfline (( 0. TRn ),p1) ) ) = { Hp1 } by A10,A85,A96,A99;
consider Hp2 being (Point of TRn) such that A103: Hp2 = ( H1B . p2 ) and Hp2 in FrA and A104: ( G . p2 ) = ( ( 1 / |. Hp2 .| ) * p2 ) and |. Hp2 .| > ( 0 ) by A10,A68,A97;
p1 <> ( 0. TRn ) by A10,A96,ZFMISC_1:56;
then A105: ( ( 1 / |. Hp1 .| ) * p1 ) <> ( 0. TRn ) by A101,RLVECT_1:11;
then ( halfline (( 0. TRn ),p1) ) = ( halfline (( 0. TRn ),( ( 1 / |. Hp1 .| ) * p1 )) ) by CKB2:1,TOPREAL9:31
.= ( halfline (( 0. TRn ),p2) ) by A98,A100,A104,A105,CKB2:1,TOPREAL9:31;
then (Hp1 in { Hp1 } & { Hp1 } = { Hp2 }) by A10,A85,A97,A102,A103,TARSKI:def 1;
then ( 1 / |. Hp1 .| ) = ( 1 / |. Hp2 .| ) by TARSKI:def 1;
hence thesis by A98,A100,A101,A104,RLVECT_1:36;
end;
then A106: G is  one-to-one by FUNCT_1:def 4;
set G0 = ( G +* I0 );
A107: ( dom G0 ) = ( ( dom G ) \/ ( dom I0 ) ) by FUNCT_4:def 1
.= ( cTR0 \/ { ( 0. TRn ) } ) by A32,A66,FUNCOP_1:13
.= cTRn by ZFMISC_1:116;
A108: (for p,Hp being (Point of TRn) holds ((p in cTR0 & Hp = ( H1B . p )) implies (p = ( G . ( |. Hp .| * p ) ) & ( |. Hp .| * p ) in ( dom G ))))
proof
let p being (Point of TRn);
let Hp1 being (Point of TRn);
assume that
A109: p in cTR0
and
A110: Hp1 = ( H1B . p );
reconsider p as (Point of TRn);
consider Hp being (Point of TRn) such that A111: Hp = ( H1B . p ) and Hp in FrA and ( G . p ) = ( ( 1 / |. Hp .| ) * p ) and A112: |. Hp .| > ( 0 ) by A68,A109;
set Hpp = ( |. Hp .| * p );
p <> ( 0. TRn ) by A109,ZFMISC_1:56;
then A113: Hpp <> ( 0. TRn ) by A112,RLVECT_1:11;
then A114: Hpp in cTR0 by ZFMISC_1:56;
then consider HP being (Point of TRn) such that A115: HP = ( H1B . Hpp ) and HP in FrA and A116: ( G . Hpp ) = ( ( 1 / |. HP .| ) * Hpp ) and |. HP .| > ( 0 ) by A68;
A117: Hp in { Hp } by TARSKI:def 1;
{ HP } = ( ( Fr A ) /\ ( halfline (( 0. TRn ),Hpp) ) ) by A85,A114,A115
.= ( ( Fr A ) /\ ( halfline (( 0. TRn ),p) ) ) by A113,CKB2:1,TOPREAL9:31
.= { Hp } by A85,A109,A111;
then ( G . Hpp ) = ( ( 1 / |. Hp .| ) * ( |. Hp .| * p ) ) by A116,A117,TARSKI:def 1
.= ( ( |. Hp .| / |. Hp .| ) * p ) by RLVECT_1:def 7
.= ( 1 * p ) by A112,XCMPLX_1:60
.= p by RLVECT_1:def 8;
hence thesis by A66,A110,A111,A113,ZFMISC_1:56;
end;
A118: S c= ( G .: FrA )
proof
let p being set;
assume A119: p in S;
then reconsider p as (Point of TRn);
|. p .| = 1 by A119,TOPREAL9:12;
then p <> ( 0. TRn ) by TOPRNS_1:23;
then A120: p in cTR0 by ZFMISC_1:56;
then consider Hp being (Point of TRn) such that A121: Hp = ( H1B . p ) and A122: Hp in FrA and ( G . p ) = ( ( 1 / |. Hp .| ) * p ) and |. Hp .| > ( 0 ) by A68;
set Hpp = ( |. Hp .| * p );
A123: (p = ( G . Hpp ) & Hpp in ( dom G )) by A108,A120,A121;
(Hp in { Hp } & ( ( Fr A ) /\ ( halfline (( 0. TRn ),p) ) ) = { Hp }) by A85,A120,A121,TARSKI:def 1;
then A124: Hp in ( halfline (( 0. TRn ),p) ) by XBOOLE_0:def 4;
A125: ( Hp - ( 0. TRn ) ) = Hp by RLVECT_1:13;
( abs |. Hp .| ) = |. Hp .| by ABSVALUE:def 1;
then A126: |. Hpp .| = ( |. Hp .| * |. p .| ) by TOPRNS_1:7
.= ( |. Hp .| * 1 ) by A119,TOPREAL9:12;
(( Hpp - ( 0. TRn ) ) = Hpp & Hpp in ( halfline (( 0. TRn ),p) )) by CKB2:1,RLVECT_1:13;
then Hp = Hpp by A126,A124,A125,CKB4:1;
hence thesis by A122,A123,FUNCT_1:def 6;
end;
A127: ( 0. TRn ) in { ( 0. TRn ) } by TARSKI:def 1;
then A128: ( I0 . ( 0. TRn ) ) = ( 0. TRn ) by A32,FUNCOP_1:7;
( rng I0 ) = { ( 0. TRn ) } by A32,FUNCOP_1:8;
then ( rng G0 ) = ( ( rng G ) \/ { ( 0. TRn ) } ) by A33,A66,NECKLACE:6,XBOOLE_1:79;
then reconsider G1 = G0 as  one-to-one (Function of TRn,TRn) by A107,A79,A106,FUNCT_2:2,TOPMETR2:1;
A129: ( G1 . ( 0. TRn ) ) = ( I0 . ( 0. TRn ) ) by A33,A127,FUNCT_4:13;
A130: ( G .: FrA ) c= S
proof
let y being set;
assume y in ( G .: FrA );
then consider p being set such that A131: p in ( dom G ) and A132: p in FrA and A133: ( G . p ) = y by FUNCT_1:def 6;
reconsider p as (Point of TRn) by A132;
consider Hp being (Point of TRn) such that A134: Hp = ( H1B . p ) and Hp in FrA and A135: ( G . p ) = ( ( 1 / |. Hp .| ) * p ) and A136: |. Hp .| > ( 0 ) by A10,A68,A131;
p in ( halfline (( 0. TRn ),p) ) by TOPREAL9:28;
then A137: p in ( FrA /\ ( halfline (( 0. TRn ),p) ) ) by A132,XBOOLE_0:def 4;
( FrA /\ ( halfline (( 0. TRn ),p) ) ) = { Hp } by A10,A85,A131,A134;
then A138: p = Hp by A137,TARSKI:def 1;
( abs ( 1 / |. Hp .| ) ) = ( 1 / |. Hp .| ) by ABSVALUE:def 1;
then |. ( ( 1 / |. Hp .| ) * p ) .| = ( ( 1 / |. Hp .| ) * |. Hp .| ) by A138,TOPRNS_1:7
.= 1 by A136,XCMPLX_1:106;
then |. ( ( ( 1 / |. Hp .| ) * p ) - ( 0. TRn ) ) .| = 1 by RLVECT_1:13;
hence thesis by A133,A135;
end;
set TRnCL = ( TRn | CL );
set TRnA = ( TRn | A );
A139: ( Int A ) c= A by TOPS_1:16;
set GA = ( G1 | TRnA );
A140: ( G1 | TRnA ) = ( G1 | (the carrier of TRnA) ) by TMAP_1:def 4;
A141: ( [#] TRnA ) = A by PRE_TOPC:def 5;
then A142: ( dom GA ) = A by FUNCT_2:def 1;
A143: ( dom GA ) = (the carrier of TRnA) by FUNCT_2:def 1;
A144: ( cl_Ball (( 0. TRn ),1) ) c= ( rng GA )
proof
let p being set;
assume A145: p in ( cl_Ball (( 0. TRn ),1) );
then reconsider p as (Point of TRn);
per cases ;
suppose p = ( 0. TRn );

then p = ( GA . ( 0. TRn ) ) by A3,A139,A5,A128,A140,A141,A129,FUNCT_1:49;
hence thesis by A3,A139,A5,A141,A143,FUNCT_1:def 3;
end;
suppose A146: p <> ( 0. TRn );

set h = ( halfline (( 0. TRn ),p) );
A147: p in cTR0 by A146,ZFMISC_1:56;
then consider Hp being (Point of TRn) such that A148: Hp = ( H1B . p ) and A149: Hp in FrA and ( G . p ) = ( ( 1 / |. Hp .| ) * p ) and A150: |. Hp .| > ( 0 ) by A68;
A151: ( abs |. Hp .| ) = |. Hp .| by ABSVALUE:def 1;
( ( Fr A ) /\ h ) = { Hp } by A85,A147,A148;
then Hp in ( ( Fr A ) /\ h ) by TARSKI:def 1;
then A152: Hp in h by XBOOLE_0:def 4;
Hp <> ( 0. TRn ) by A150,TOPRNS_1:23;
then h = ( halfline (( 0. TRn ),Hp) ) by A152,TOPREAL9:31;
then A153: ( |. p .| * Hp ) in h by CKB2:1;
|. p .| <= 1 by A145,TOPREAL9:11;
then (( ( 1 - |. p .| ) * ( 0. TRn ) ) = ( 0. TRn ) & ( ( |. p .| * Hp ) + ( ( 1 - |. p .| ) * ( 0. TRn ) ) ) in A) by A3,A139,A5,A17,A149,RLTOPSP1:def 1,RLVECT_1:10;
then ( |. p .| * Hp ) in ( dom GA ) by A142,RLVECT_1:4;
then A154: (( GA . ( |. p .| * Hp ) ) in ( rng GA ) & ( GA . ( |. p .| * Hp ) ) = ( G1 . ( |. p .| * Hp ) )) by A140,FUNCT_1:47,FUNCT_1:def 3;
A155: ( |. Hp .| * p ) in h by CKB2:1;
( |. Hp .| * p ) in ( dom G ) by A108,A147,A148;
then ( |. Hp .| * p ) <> ( 0. TRn ) by A10,ZFMISC_1:56;
then (not ( |. Hp .| * p ) in ( dom I0 )) by A33,TARSKI:def 1;
then A156: ( G . ( |. Hp .| * p ) ) = ( G1 . ( |. Hp .| * p ) ) by FUNCT_4:11;
( abs |. p .| ) = |. p .| by ABSVALUE:def 1;
then |. ( |. p .| * Hp ) .| = ( |. p .| * |. Hp .| ) by TOPRNS_1:7
.= |. ( |. Hp .| * p ) .| by A151,TOPRNS_1:7;
then A157: |. ( ( |. p .| * Hp ) - ( 0. TRn ) ) .| = |. ( |. Hp .| * p ) .| by RLVECT_1:13
.= |. ( ( |. Hp .| * p ) - ( 0. TRn ) ) .| by RLVECT_1:13;
p = ( G . ( |. Hp .| * p ) ) by A108,A147,A148;
hence thesis by A153,A156,A157,A154,A155,CKB4:1;
end;
end;
( rng GA ) c= ( cl_Ball (( 0. TRn ),1) )
proof
let x being set;
assume x in ( rng GA );
then consider p being set such that A158: p in ( dom GA ) and A159: ( GA . p ) = x by FUNCT_1:def 3;
reconsider p as (Point of TRn) by A142,A158;
A160: ( GA . p ) = ( G1 . p ) by A140,A158,FUNCT_1:47;
A161: ( ( G1 . p ) - ( 0. TRn ) ) = ( G1 . p ) by RLVECT_1:13;
per cases ;
suppose p = ( 0. TRn );

then ( G1 . p ) = ( 0. TRn ) by A32,A127,A129,FUNCOP_1:7;
then |. ( ( G1 . p ) - ( 0. TRn ) ) .| = ( 0 ) by A161,TOPRNS_1:23;
hence thesis by A159,A160;
end;
suppose A162: p <> ( 0. TRn );

set h = ( halfline (( 0. TRn ),p) );
A163: ( A /\ h ) c= aa by XBOOLE_1:17;
then reconsider F = ( A /\ h ) as (Subset of En) by XBOOLE_1:1;
F is  bounded by A12,A163,HAUSDORF:18,TBSP_1:14;
then ( A /\ h ) is  Bounded by JORDAN2C:def 1;
then consider w being (Point of En) such that A164: w in ( ( Fr A ) /\ h ) and A165: (for u,P being (Point of En) holds ((P = ( 0. TRn ) & u in ( A /\ h )) implies ( dist (P,u) ) <= ( dist (P,w) ))) and (for r holds (r > ( 0 ) implies (ex u being (Point of En) st (u in ( A /\ h ) & ( dist (w,u) ) < r)))) by A3,A139,A5,A162,CKB5:1;
reconsider P = p as (Point of En) by EUCLID:67;
p in h by TOPREAL9:28;
then A166: p in ( A /\ h ) by A141,A158,XBOOLE_0:def 4;
A167: (not p in ( dom I0 )) by A33,A162,TARSKI:def 1;
A168: p in cTR0 by A162,ZFMISC_1:56;
then consider Hp being (Point of TRn) such that A169: Hp = ( H1B . p ) and Hp in FrA and A170: ( G . p ) = ( ( 1 / |. Hp .| ) * p ) and |. Hp .| > ( 0 ) by A68;
( abs ( 1 / |. Hp .| ) ) = ( 1 / |. Hp .| ) by ABSVALUE:def 1;
then A171: |. ( ( 1 / |. Hp .| ) * p ) .| = ( |. p .| / |. Hp .| ) by TOPRNS_1:7;
( ( Fr A ) /\ h ) = { Hp } by A85,A168,A169;
then w = Hp by A164,TARSKI:def 1;
then A172: ( dist (0TRn,w) ) = |. ( ( 0. TRn ) - Hp ) .| by SPPOL_1:39
.= |. ( - Hp ) .| by RLVECT_1:14
.= |. Hp .| by TOPRNS_1:26;
( dist (0TRn,P) ) = |. ( ( 0. TRn ) - p ) .| by SPPOL_1:39
.= |. ( - p ) .| by RLVECT_1:14
.= |. p .| by TOPRNS_1:26;
then |. ( ( 1 / |. Hp .| ) * p ) .| <= 1 by A165,A166,A171,A172,XREAL_1:183;
then |. ( G1 . p ) .| <= 1 by A167,A170,FUNCT_4:11;
hence thesis by A159,A160,A161;
end;
end;
then A173: ( rng GA ) = CL by A144,XBOOLE_0:def 10;
A174: ( [#] TRnCL ) = CL by PRE_TOPC:def 5;
then reconsider GA as (Function of TRnA,TRnCL) by A141,A142,A173,FUNCT_2:1;
set e2 = ( e / 2 );
A175: GA is  one-to-one by A140,FUNCT_1:52;
A176: e2 < e by A6,XREAL_1:216;
A177: G1 is  continuous
proof
let x being (Point of TRn);
let U being (a_neighborhood of ( G1 . x ));
per cases ;
suppose A178: x <> ( 0. TRn );

then A179: x in ( dom G ) by A66,ZFMISC_1:56;
then reconsider X = x as (Point of TRn0);
(not x in ( dom I0 )) by A33,A178,TARSKI:def 1;
then A180: ( G . x ) = ( G1 . x ) by FUNCT_4:11;
then A181: ( G1 . x ) <> ( 0. TRn ) by A75,A179,FUNCT_1:def 3;
then reconsider G1x = ( G1 . x ) as (Point of TRn0) by A10,ZFMISC_1:56;
( G1 . x ) in cTR0 by A181,ZFMISC_1:56;
then cTR0 is (a_neighborhood of ( G1 . x )) by CONNSP_2:3;
then ( cTR0 /\ U ) is (a_neighborhood of ( G1 . x )) by CONNSP_2:2;
then consider H being (a_neighborhood of X) such that A182: ( G .: H ) c= ( cTR0 /\ U ) by A180,BORSUK_1:def 1;
reconsider h = H as (Subset of TRn) by A10,XBOOLE_1:1;
reconsider h as (a_neighborhood of x) by CONNSP_2:9;
{ ( 0. TRn ) } misses H by A10,XBOOLE_1:63,XBOOLE_1:79;
then (( cTR0 /\ U ) c= U & ( G .: H ) = ( G1 .: h )) by A32,BOOLMARK:3,XBOOLE_1:17;
hence thesis by A182,XBOOLE_1:1;
reconsider U1 = ( cTR0 /\ U ) as (Subset of TRn0) by A10,XBOOLE_1:17;
end;
suppose A183: x = ( 0. TRn );

reconsider 0TRn = ( 0. TRn ) as (Point of ( Euclid n )) by EUCLID:67;
A184: ( 0. TRn ) in ( Int U ) by A128,A129,A183,CONNSP_2:def 1;
then consider r being  real number such that A185: r > ( 0 ) and A186: ( Ball (0TRn,r) ) c= U by GOBOARD6:5;
reconsider B = ( Ball (0TRn,( r * e2 )) ) as (Subset of TRn) by EUCLID:67;
0TRn in ( Int B ) by A6,A185,GOBOARD6:5;
then reconsider Bx = B as (a_neighborhood of x) by A183,CONNSP_2:def 1;
take Bx;
let y being set;
assume A187: y in ( G1 .: Bx );
then reconsider p = y as (Point of TRn);
A188: ( Int U ) c= U by TOPS_1:16;
per cases ;
suppose y = ( 0. TRn );

hence y in U by A184,A188;
end;
suppose A189: p <> ( 0. TRn );

set PP = ( ( e2 / |. p .| ) * p );
( abs ( e2 / |. p .| ) ) = ( e2 / |. p .| ) by A6,ABSVALUE:def 1;
then A190: |. PP .| = ( ( e2 / |. p .| ) * |. p .| ) by TOPRNS_1:7
.= ( e2 * ( |. p .| / |. p .| ) )
.= ( e2 * 1 ) by A189,TOPRNS_1:24,XCMPLX_1:60
.= e2;
then |. ( PP - ( 0. TRn ) ) .| < e by A176,RLVECT_1:13;
then A191: PP in ( Ball (( 0. TRn ),e) );
set h = ( halfline (( 0. TRn ),p) );
A192: ( A /\ h ) c= aa by XBOOLE_1:17;
then reconsider F = ( A /\ h ) as (Subset of En) by XBOOLE_1:1;
F is  bounded by A12,A192,HAUSDORF:18,TBSP_1:14;
then ( A /\ h ) is  Bounded by JORDAN2C:def 1;
then consider w being (Point of En) such that A193: w in ( ( Fr A ) /\ h ) and A194: (for u,P being (Point of En) holds ((P = ( 0. TRn ) & u in ( A /\ h )) implies ( dist (P,u) ) <= ( dist (P,w) ))) and (for r holds (r > ( 0 ) implies (ex u being (Point of En) st (u in ( A /\ h ) & ( dist (w,u) ) < r)))) by A3,A139,A5,A189,CKB5:1;
A195: p in cTR0 by A189,ZFMISC_1:56;
then consider Hp being (Point of TRn) such that A196: Hp = ( H1B . p ) and Hp in FrA and ( G . p ) = ( ( 1 / |. Hp .| ) * p ) and A197: |. Hp .| > ( 0 ) by A68;
( ( Fr A ) /\ h ) = { Hp } by A85,A195,A196;
then w = Hp by A193,TARSKI:def 1;
then A198: ( dist (0TRn,w) ) = |. ( ( 0. TRn ) - Hp ) .| by SPPOL_1:39
.= |. ( - Hp ) .| by RLVECT_1:14
.= |. Hp .| by TOPRNS_1:26;
set Hpp = ( |. Hp .| * p );
Hpp in ( dom G ) by A108,A195,A196;
then Hpp <> ( 0. TRn ) by A10,ZFMISC_1:56;
then (not Hpp in ( dom I0 )) by A33,TARSKI:def 1;
then A199: ( G . Hpp ) = ( G1 . Hpp ) by FUNCT_4:11;
|. Hp .| = ( abs |. Hp .| ) by ABSVALUE:def 1;
then A200: (Bx = ( Ball (( 0. TRn ),( r * e2 )) ) & |. Hpp .| = ( |. Hp .| * |. p .| )) by TOPREAL9:13,TOPRNS_1:7;
reconsider pp = PP as (Point of En) by EUCLID:67;
consider x being set such that A201: x in ( dom G1 ) and A202: x in Bx and A203: ( G1 . x ) = p by A187,FUNCT_1:def 6;
(PP in h & ( Ball (( 0. TRn ),e) ) = ( Ball (0TRn,e) )) by A6,CKB2:1,TOPREAL9:13;
then A204: pp in ( A /\ h ) by A7,A191,XBOOLE_0:def 4;
( dist (0TRn,pp) ) = |. ( ( 0. TRn ) - PP ) .| by SPPOL_1:39
.= |. ( - PP ) .| by RLVECT_1:14
.= e2 by A190,TOPRNS_1:26;
then ( e2 / |. Hp .| ) <= 1 by A194,A198,A204,XREAL_1:183;
then A205: ( r * ( e2 / |. Hp .| ) ) <= ( r * 1 ) by A185,XREAL_1:64;
p = ( G . Hpp ) by A108,A195,A196;
then Hpp = x by A107,A199,A201,A203,FUNCT_1:def 4;
then |. p .| < ( ( r * e2 ) / |. Hp .| ) by A197,A200,A202,TOPREAL9:10,XREAL_1:81;
then |. p .| < r by A205,XXREAL_0:2;
then |. ( p - ( 0. TRn ) ) .| < r by RLVECT_1:13;
then p in ( Ball (( 0. TRn ),r) );
then p in ( Ball (0TRn,r) ) by TOPREAL9:13;
hence y in U by A186;
end;
end;
end;
( GA .: FrA ) = ( G1 .: FrA ) by A2,A140,A141,RELAT_1:129,TOPS_1:35;
then ( GA .: FrA ) = ( G .: FrA ) by A5,A8,A32,BOOLMARK:3,ZFMISC_1:50;
then A206: ( GA .: FrA ) = S by A118,A130,XBOOLE_0:def 10;
(( dom GA ) = ( [#] TRnA ) & ( rng GA ) = ( [#] TRnCL )) by A144,A174,FUNCT_2:def 1,XBOOLE_0:def 10;
then GA is  being_homeomorphism by A2,A3,A139,A175,A177,COMPTS_1:17,PRE_TOPC:27;
hence thesis by A206;
end;
