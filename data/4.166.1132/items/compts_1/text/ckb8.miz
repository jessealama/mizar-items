environ
vocabularies PRE_TOPC,SUBSET_1,RCOMP_1,SETFAM_1,TARSKI,FINSET_1,XBOOLE_0,CARD_5,RELAT_1,ZFMISC_1,FUNCT_1,STRUCT_0,ORDINAL2,TOPS_2,FUNCT_4,COMPTS_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_3,SETFAM_1,FINSET_1,DOMAIN_1,FUNCT_4,STRUCT_0,PRE_TOPC,TOPS_2,CKB1,CKB2,CKB3,CKB4,CKB5;
definitions TARSKI,TOPS_2,XBOOLE_0,SUBSET_1,STRUCT_0,PRE_TOPC,CKB1,CKB2,CKB3,CKB5;
theorems TARSKI,SETFAM_1,FUNCT_1,FUNCT_3,ZFMISC_1,ORDERS_1,PRE_TOPC,TOPS_1,TOPS_2,RELAT_1,XBOOLE_0,XBOOLE_1,SUBSET_1,FUNCT_2,STRUCT_0,FUNCT_4,RELSET_1,FINSET_1,CKB1,CKB2,CKB3,CKB5,CKB7;
schemes MCART_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,STRUCT_0,PRE_TOPC,TOPS_1,CKB6;
constructors SETFAM_1,DOMAIN_1,FUNCT_3,FINSET_1,TOPS_2,FUNCT_4,RELSET_1,CKB1,CKB5;
requirements SUBSET,BOOLE;
begin
reserve x for set;
reserve z for set;
reserve T for TopStruct;
reserve A for (SubSpace of T);
reserve Q for (Subset of T);
theorem
Th11: (Q c= ( [#] A ) implies (Q is  compact iff (for P being (Subset of A) holds (P = Q implies P is  compact))))
proof
( [#] A ) c= ( [#] T ) by PRE_TOPC:def 4;
then reconsider AA = ( [#] A ) as (Subset of T);
assume A1: Q c= ( [#] A );
then A2: ( Q /\ AA ) = Q by XBOOLE_1:28;
thus (Q is  compact implies (for P being (Subset of A) holds (P = Q implies P is  compact)))
proof
assume A3: Q is  compact;
let P being (Subset of A);
assume that
A4: P = Q;
thus P is  compact
proof
let G being (Subset-Family of A);
set GG = G;
assume that
A5: G is (Cover of P)
and
A6: G is  open;
consider F being (Subset-Family of T) such that A7: F is  open and A8: (for AA being (Subset of T) holds (AA = ( [#] A ) implies GG = ( F | AA ))) by A6,TOPS_2:39;
A9: Q c= ( union G ) by A4,A5,SETFAM_1:def 11;
( union ( F | AA ) ) c= ( union F ) by TOPS_2:34;
then ( union G ) c= ( union F ) by A8;
then Q c= ( union F ) by A9,XBOOLE_1:1;
then F is (Cover of Q) by SETFAM_1:def 11;
then consider F9 being (Subset-Family of T) such that A10: F9 c= F and A11: F9 is (Cover of Q) and A12: F9 is  finite by A3,A7,CKB5:def 1;
( F9 | AA ) c= ( bool ( [#] ( T | AA ) ) );
then reconsider G9 = ( F9 | AA ) as (Subset-Family of A) by PRE_TOPC:def 5;
take G9;
( F9 | AA ) c= ( F | AA ) by A10,TOPS_2:30;
hence G9 c= G by A8;
Q c= ( union F9 ) by A11,SETFAM_1:def 11;
then P c= ( union G9 ) by A2,A4,TOPS_2:32;
hence G9 is (Cover of P) by SETFAM_1:def 11;
thus thesis by A12,TOPS_2:36;
end;

end;

thus ((for P being (Subset of A) holds (P = Q implies P is  compact)) implies Q is  compact)
proof
reconsider QQ = Q as (Subset of A) by A1;
assume (for P being (Subset of A) holds (P = Q implies P is  compact));
then A13: QQ is  compact;
thus Q is  compact
proof
let F being (Subset-Family of T);
set F9 = F;
assume that
A14: F is (Cover of Q)
and
A15: F is  open;
consider f being Function such that A16: ( dom f ) = F9 and A17: ( rng f ) = ( F9 | AA ) and A18: (for x holds (x in F implies (for Q being (Subset of T) holds (Q = x implies ( f . x ) = ( Q /\ AA ))))) by TOPS_2:40;
( F9 | AA ) c= ( bool ( [#] ( T | AA ) ) );
then reconsider F9 = ( rng f ) as (Subset-Family of A) by A17,PRE_TOPC:def 5;
A19: F9 is  open
proof
let X being (Subset of A);
assume A20: X in F9;
then reconsider Y = X as (Subset of ( T | AA )) by A17;
consider R being (Subset of T) such that A21: R in F and A22: ( R /\ AA ) = Y by A17,A20,TOPS_2:def 3;
R is  open by A15,A21,TOPS_2:def 1;
then R in (the topology of T) by PRE_TOPC:def 2;
then X in (the topology of A) by A22,PRE_TOPC:def 4;
hence thesis by PRE_TOPC:def 2;
end;
Q c= ( union F ) by A14,SETFAM_1:def 11;
then QQ c= ( union F9 ) by A2,A17,TOPS_2:32;
then F9 is (Cover of QQ) by SETFAM_1:def 11;
then consider G being (Subset-Family of A) such that A23: G c= F9 and A24: G is (Cover of QQ) and A25: G is  finite by A13,A19,CKB5:def 1;
consider X being set such that A26: X c= ( dom f ) and A27: X is  finite and A28: ( f .: X ) = G by A23,A25,ORDERS_1:85;
reconsider G9 = X as (Subset-Family of T) by A16,A26,TOPS_2:2;
take G9;
Q c= ( union G9 )
proof
let x;
assume A29: x in Q;
QQ c= ( union G ) by A24,SETFAM_1:def 11;
then consider Y being set such that A30: x in Y and A31: Y in G by A29,TARSKI:def 4;
consider z such that A32: z in ( dom f ) and A33: z in X and A34: ( f . z ) = Y by A28,A31,FUNCT_1:def 6;
reconsider Z = z as (Subset of T) by A16,A32;
Y = ( Z /\ AA ) by A16,A18,A32,A34;
then x in Z by A30,XBOOLE_0:def 4;
hence thesis by A33,TARSKI:def 4;
end;
hence thesis by A16,A26,A27,SETFAM_1:def 11;
end;

end;

end;
