environ
vocabularies PRE_TOPC,SUBSET_1,RCOMP_1,SETFAM_1,TARSKI,FINSET_1,XBOOLE_0,CARD_5,RELAT_1,ZFMISC_1,FUNCT_1,STRUCT_0,ORDINAL2,TOPS_2,FUNCT_4,COMPTS_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_3,SETFAM_1,FINSET_1,DOMAIN_1,FUNCT_4,STRUCT_0,PRE_TOPC,TOPS_2,CKB1,CKB2,CKB3,CKB4,CKB5;
definitions TARSKI,TOPS_2,XBOOLE_0,SUBSET_1,STRUCT_0,PRE_TOPC,CKB1,CKB2,CKB3,CKB5;
theorems TARSKI,SETFAM_1,FUNCT_1,FUNCT_3,ZFMISC_1,ORDERS_1,PRE_TOPC,TOPS_1,TOPS_2,RELAT_1,XBOOLE_0,XBOOLE_1,SUBSET_1,FUNCT_2,STRUCT_0,FUNCT_4,RELSET_1,FINSET_1,CKB1,CKB2,CKB3,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11;
schemes MCART_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,STRUCT_0,PRE_TOPC,TOPS_1,CKB6;
constructors SETFAM_1,DOMAIN_1,FUNCT_3,FINSET_1,TOPS_2,FUNCT_4,RELSET_1,CKB1,CKB5;
requirements SUBSET,BOOLE;
begin
reserve x for set;
reserve y for set;
reserve z for set;
reserve TS for TopSpace;
reserve PS for (Subset of TS);
reserve QS for (Subset of TS);
theorem
Th15: (TS is  T_2 implies (for A being (Subset of TS) holds ((A <> ( {} ) & A is  compact) implies (for p being (Point of TS) holds (p in ( A ` ) implies (ex PS st (ex QS st ((((PS is  open & QS is  open) & p in PS) & A c= QS) & PS misses QS))))))))
proof
assume A1: TS is  T_2;
let F being (Subset of TS);
assume that
A2: F <> ( {} )
and
A3: F is  compact;
set z = the (Element of F);
let a being (Point of TS);
assume a in ( F ` );
then A4: (not a in F) by XBOOLE_0:def 5;
defpred P[ set,set,set ]
 means
(ex PS st (ex QS st (((((($2 = PS & $3 = QS) & PS is  open) & QS is  open) & a in PS) & $1 in QS) & ( PS /\ QS ) = ( {} ))));
A5: (x in F implies (ex y st (ex z st ((y in (the topology of TS) & z in (the topology of TS)) & P[ x,y,z ]))))
proof
assume A6: x in F;
then reconsider p = x as (Point of TS);
consider W being (Subset of TS),V being (Subset of TS) such that A7: W is  open and A8: V is  open and A9: a in W and A10: p in V and A11: W misses V by A1,A4,A6,PRE_TOPC:def 10;
reconsider PS = W,QS = V as set;
take PS;
take QS;
thus (PS in (the topology of TS) & QS in (the topology of TS)) by A7,A8,PRE_TOPC:def 2;
take W;
take V;
thus thesis by A7,A8,A9,A10,A11,XBOOLE_0:def 7;
end;
consider f being Function,g being Function such that A12: (( dom f ) = F & ( dom g ) = F) and A13: (for x holds (x in F implies P[ x,( f . x ),( g . x ) ])) from MCART_1:sch 1(A5);
( g .: F ) c= ( bool (the carrier of TS) )
proof
let x;
assume x in ( g .: F );
then consider y such that y in ( dom g ) and A14: y in F and A15: ( g . y ) = x by FUNCT_1:def 6;
(ex PS st (ex QS st ((((((( f . y ) = PS & ( g . y ) = QS) & PS is  open) & QS is  open) & a in PS) & y in QS) & ( PS /\ QS ) = ( {} )))) by A13,A14;
hence thesis by A15;
end;
then reconsider C = ( g .: F ) as (Subset-Family of TS);
A16: C is  open
proof
let G being (Subset of TS);
assume G in C;
then consider x such that x in ( dom g ) and A17: x in F and A18: G = ( g . x ) by FUNCT_1:def 6;
(ex PS st (ex QS st ((((((( f . x ) = PS & ( g . x ) = QS) & PS is  open) & QS is  open) & a in PS) & x in QS) & ( PS /\ QS ) = ( {} )))) by A13,A17;
hence thesis by A18;
end;
F c= ( union C )
proof
let x;
assume A19: x in F;
then consider PS,QS such that ( f . x ) = PS and A20: ( g . x ) = QS and PS is  open and QS is  open and a in PS and A21: x in QS and ( PS /\ QS ) = ( {} ) by A13;
QS in C by A12,A19,A20,FUNCT_1:def 6;
hence thesis by A21,TARSKI:def 4;
end;
then C is (Cover of F) by SETFAM_1:def 11;
then consider C9 being (Subset-Family of TS) such that A22: C9 c= C and A23: C9 is (Cover of F) and A24: C9 is  finite by A3,A16,CKB5:def 1;
C9 c= ( rng g ) by A12,A22,RELAT_1:113;
then consider H9 being set such that A25: H9 c= ( dom g ) and A26: H9 is  finite and A27: ( g .: H9 ) = C9 by A24,ORDERS_1:85;
( f .: H9 ) c= ( bool (the carrier of TS) )
proof
let x;
assume x in ( f .: H9 );
then consider y such that y in ( dom f ) and A28: y in H9 and A29: ( f . y ) = x by FUNCT_1:def 6;
(ex PS st (ex QS st ((((((( f . y ) = PS & ( g . y ) = QS) & PS is  open) & QS is  open) & a in PS) & y in QS) & ( PS /\ QS ) = ( {} )))) by A12,A13,A25,A28;
hence thesis by A29;
end;
then reconsider B = ( f .: H9 ) as (Subset-Family of TS);
take G0 = ( meet B );
take G1 = ( union C9 );
B is  open
proof
let G being (Subset of TS);
assume G in B;
then consider x such that A30: x in ( dom f ) and x in H9 and A31: G = ( f . x ) by FUNCT_1:def 6;
(ex PS st (ex QS st ((((((( f . x ) = PS & ( g . x ) = QS) & PS is  open) & QS is  open) & a in PS) & x in QS) & ( PS /\ QS ) = ( {} )))) by A12,A13,A30;
hence thesis by A31;
end;
hence G0 is  open by A26,TOPS_2:20;
thus G1 is  open by A16,A22,TOPS_2:11,TOPS_2:19;
A32: (for G being set holds (G in B implies a in G))
proof
let G being set;
assume A33: G in B;
then reconsider G9 = G as (Subset of TS);
consider x such that A34: x in ( dom f ) and x in H9 and A35: G9 = ( f . x ) by A33,FUNCT_1:def 6;
(ex PS st (ex QS st ((((((( f . x ) = PS & ( g . x ) = QS) & PS is  open) & QS is  open) & a in PS) & x in QS) & ( PS /\ QS ) = ( {} )))) by A12,A13,A34;
hence thesis by A35;
end;
F c= ( union C9 ) by A23,SETFAM_1:def 11;
then z in ( union C9 ) by A2,TARSKI:def 3;
then consider D being set such that z in D and A36: D in C9 by TARSKI:def 4;
reconsider D9 = D as (Subset of TS) by A36;
consider y such that A37: y in ( dom g ) and A38: y in H9 and D9 = ( g . y ) by A27,A36,FUNCT_1:def 6;
(ex PS st (ex QS st ((((((( f . y ) = PS & ( g . y ) = QS) & PS is  open) & QS is  open) & a in PS) & y in QS) & ( PS /\ QS ) = ( {} )))) by A12,A13,A37;
then B <> ( {} ) by A12,A37,A38,FUNCT_1:def 6;
hence a in G0 by A32,SETFAM_1:def 1;
thus F c= G1 by A23,SETFAM_1:def 11;
thus ( G0 /\ G1 ) = ( {} )
proof
set x = the (Element of ( ( meet B ) /\ ( union C9 ) ));
assume A39: ( G0 /\ G1 ) <> ( {} );
then A40: x in ( meet B ) by XBOOLE_0:def 4;
x in ( union C9 ) by A39,XBOOLE_0:def 4;
then consider A being set such that A41: x in A and A42: A in C9 by TARSKI:def 4;
consider z such that A43: z in ( dom g ) and A44: z in H9 and A45: A = ( g . z ) by A27,A42,FUNCT_1:def 6;
consider PS,QS such that A46: ( f . z ) = PS and A47: ( g . z ) = QS and PS is  open and QS is  open and a in PS and z in QS and A48: ( PS /\ QS ) = ( {} ) by A12,A13,A43;
PS in B by A12,A43,A44,A46,FUNCT_1:def 6;
then x in PS by A40,SETFAM_1:def 1;
hence contradiction by A41,A45,A47,A48,XBOOLE_0:def 4;
end;

end;
