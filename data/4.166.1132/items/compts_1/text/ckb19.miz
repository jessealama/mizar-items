environ
vocabularies PRE_TOPC,SUBSET_1,RCOMP_1,SETFAM_1,TARSKI,FINSET_1,XBOOLE_0,CARD_5,RELAT_1,ZFMISC_1,FUNCT_1,STRUCT_0,ORDINAL2,TOPS_2,FUNCT_4,COMPTS_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_3,SETFAM_1,FINSET_1,DOMAIN_1,FUNCT_4,STRUCT_0,PRE_TOPC,TOPS_2,CKB1,CKB2,CKB3,CKB4,CKB5;
definitions TARSKI,TOPS_2,XBOOLE_0,SUBSET_1,STRUCT_0,PRE_TOPC,CKB1,CKB2,CKB3,CKB5;
theorems TARSKI,SETFAM_1,FUNCT_1,FUNCT_3,ZFMISC_1,ORDERS_1,PRE_TOPC,TOPS_1,TOPS_2,RELAT_1,XBOOLE_0,XBOOLE_1,SUBSET_1,FUNCT_2,STRUCT_0,FUNCT_4,RELSET_1,FINSET_1,CKB1,CKB2,CKB3,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
schemes MCART_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,STRUCT_0,PRE_TOPC,TOPS_1,CKB6;
constructors SETFAM_1,DOMAIN_1,FUNCT_3,FINSET_1,TOPS_2,FUNCT_4,RELSET_1,CKB1,CKB5;
requirements SUBSET,BOOLE;
begin
reserve x for set;
reserve y for set;
reserve z for set;
theorem
(for TS being non empty TopSpace holds ((TS is  T_2 & TS is  compact) implies TS is  normal))
proof
let TS being non empty TopSpace;
assume that
A1: TS is  T_2
and
A2: TS is  compact;
let A being (Subset of TS),B being (Subset of TS);
assume that
A3: A <> ( {} )
and
A4: B <> ( {} )
and
A5: A is  closed
and
A6: B is  closed
and
A7: ( A /\ B ) = ( {} );
defpred P[ set,set,set ]
 means
(ex P,Q being (Subset of TS) st (((((($2 = P & $3 = Q) & P is  open) & Q is  open) & $1 in P) & B c= Q) & ( P /\ Q ) = ( {} )));
A8: (x in A implies (ex y st (ex z st ((y in (the topology of TS) & z in (the topology of TS)) & P[ x,y,z ]))))
proof
assume A9: x in A;
then reconsider p = x as (Point of TS);
(not p in B) by A7,A9,XBOOLE_0:def 4;
then p in ( B ` ) by SUBSET_1:29;
then consider W being (Subset of TS),V being (Subset of TS) such that A10: W is  open and A11: V is  open and A12: p in W and A13: B c= V and A14: W misses V by A1,A2,A4,A6,CKB12:1,CKB14:1;
reconsider X = W,Y = V as set;
take X;
take Y;
thus (X in (the topology of TS) & Y in (the topology of TS)) by A10,A11,PRE_TOPC:def 2;
( W /\ V ) = ( {} ) by A14,XBOOLE_0:def 7;
hence thesis by A10,A11,A12,A13;
end;
consider f being Function,g being Function such that A15: (( dom f ) = A & ( dom g ) = A) and A16: (for x holds (x in A implies P[ x,( f . x ),( g . x ) ])) from MCART_1:sch 1(A8);
( f .: A ) c= ( bool (the carrier of TS) )
proof
let x;
assume x in ( f .: A );
then consider y such that y in ( dom f ) and A17: y in A and A18: ( f . y ) = x by FUNCT_1:def 6;
(ex P,Q being (Subset of TS) st ((((((( f . y ) = P & ( g . y ) = Q) & P is  open) & Q is  open) & y in P) & B c= Q) & ( P /\ Q ) = ( {} ))) by A16,A17;
hence thesis by A18;
end;
then reconsider Cf = ( f .: A ) as (Subset-Family of TS);
A c= ( union Cf )
proof
let x;
assume A19: x in A;
then consider P being (Subset of TS),Q being (Subset of TS) such that A20: ( f . x ) = P and ( g . x ) = Q and P is  open and Q is  open and A21: x in P and B c= Q and ( P /\ Q ) = ( {} ) by A16;
P in Cf by A15,A19,A20,FUNCT_1:def 6;
hence thesis by A21,TARSKI:def 4;
end;
then A22: Cf is (Cover of A) by SETFAM_1:def 11;
A23: Cf is  open
proof
let G being (Subset of TS);
assume G in Cf;
then consider x such that x in ( dom f ) and A24: x in A and A25: G = ( f . x ) by FUNCT_1:def 6;
(ex P,Q being (Subset of TS) st ((((((( f . x ) = P & ( g . x ) = Q) & P is  open) & Q is  open) & x in P) & B c= Q) & ( P /\ Q ) = ( {} ))) by A16,A24;
hence thesis by A25;
end;
A is  compact by A2,A5,CKB14:1;
then consider C being (Subset-Family of TS) such that A26: C c= Cf and A27: C is (Cover of A) and A28: C is  finite by A22,A23,CKB5:def 1;
set z = the (Element of A);
A c= ( union C ) by A27,SETFAM_1:def 11;
then z in ( union C ) by A3,TARSKI:def 3;
then consider D being set such that z in D and A29: D in C by TARSKI:def 4;
C c= ( rng f ) by A15,A26,RELAT_1:113;
then consider H9 being set such that A30: H9 c= ( dom f ) and A31: H9 is  finite and A32: ( f .: H9 ) = C by A28,ORDERS_1:85;
( g .: H9 ) c= ( bool (the carrier of TS) )
proof
let x;
assume x in ( g .: H9 );
then consider y such that y in ( dom g ) and A33: y in H9 and A34: ( g . y ) = x by FUNCT_1:def 6;
(ex P,Q being (Subset of TS) st ((((((( f . y ) = P & ( g . y ) = Q) & P is  open) & Q is  open) & y in P) & B c= Q) & ( P /\ Q ) = ( {} ))) by A15,A16,A30,A33;
hence thesis by A34;
end;
then reconsider Bk = ( g .: H9 ) as (Subset-Family of TS);
consider y such that A35: y in ( dom f ) and A36: y in H9 and D = ( f . y ) by A32,A29,FUNCT_1:def 6;
A37: (for X being set holds (X in Bk implies B c= X))
proof
let X being set;
assume A38: X in Bk;
then reconsider X9 = X as (Subset of TS);
consider x such that A39: x in ( dom g ) and x in H9 and A40: X9 = ( g . x ) by A38,FUNCT_1:def 6;
(ex P,Q being (Subset of TS) st ((((((( f . x ) = P & ( g . x ) = Q) & P is  open) & Q is  open) & x in P) & B c= Q) & ( P /\ Q ) = ( {} ))) by A15,A16,A39;
hence thesis by A40;
end;
take W = ( union C );
take V = ( meet Bk );
thus W is  open by A23,A26,TOPS_2:11,TOPS_2:19;
Bk is  open
proof
let G being (Subset of TS);
assume G in Bk;
then consider x such that A41: x in ( dom g ) and x in H9 and A42: G = ( g . x ) by FUNCT_1:def 6;
(ex P,Q being (Subset of TS) st ((((((( f . x ) = P & ( g . x ) = Q) & P is  open) & Q is  open) & x in P) & B c= Q) & ( P /\ Q ) = ( {} ))) by A15,A16,A41;
hence thesis by A42;
end;
hence V is  open by A31,TOPS_2:20;
thus A c= W by A27,SETFAM_1:def 11;
(ex P,Q being (Subset of TS) st ((((((( f . y ) = P & ( g . y ) = Q) & P is  open) & Q is  open) & y in P) & B c= Q) & ( P /\ Q ) = ( {} ))) by A15,A16,A35;
then Bk <> ( {} ) by A15,A35,A36,FUNCT_1:def 6;
hence B c= V by A37,SETFAM_1:5;
thus ( W /\ V ) = ( {} )
proof
set x = the (Element of ( ( union C ) /\ ( meet Bk ) ));
assume A43: ( W /\ V ) <> ( {} );
then A44: x in ( meet Bk ) by XBOOLE_0:def 4;
x in ( union C ) by A43,XBOOLE_0:def 4;
then consider D being set such that A45: x in D and A46: D in C by TARSKI:def 4;
consider z such that A47: z in ( dom f ) and A48: z in H9 and A49: D = ( f . z ) by A32,A46,FUNCT_1:def 6;
consider P being (Subset of TS),Q being (Subset of TS) such that A50: ( f . z ) = P and A51: ( g . z ) = Q and P is  open and Q is  open and z in P and B c= Q and A52: ( P /\ Q ) = ( {} ) by A15,A16,A47;
Q in Bk by A15,A47,A48,A51,FUNCT_1:def 6;
then x in Q by A44,SETFAM_1:def 1;
hence contradiction by A45,A49,A50,A52,XBOOLE_0:def 4;
end;

end;
