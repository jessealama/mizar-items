environ
vocabularies XBOOLE_0,ZFMISC_1,SUBSET_1,STRUCT_0,ORDERS_2,WAYBEL_4,RELAT_1,RELAT_2,LATTICE3,LATTICES,FUNCT_1,YELLOW_1,LATTICE7,WAYBEL_0,SEQM_3,XXREAL_0,TARSKI,ARYTM_3,GROUP_4,ORDERS_1,WELLORD2,WELLORD1,YELLOW_0,EQREL_1,REWRITE1,WAYBEL_1,ORDINAL2,NUMBERS,CARD_1,NAT_1,WAYBEL35;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,FUNCT_2,DOMAIN_1,STRUCT_0,WELLORD1,ORDERS_2,ORDERS_1,LATTICE3,YELLOW_0,YELLOW_1,ALG_1,WAYBEL_0,WAYBEL_1,WAYBEL_4,LATTICE7,CKB6,CKB12,CKB14,CKB21,CKB22,CKB24,CKB33,CKB34,CKB39,CKB41,CKB45,CKB49,CKB50;
definitions TARSKI,XBOOLE_0,ORDERS_1,LATTICE3,WAYBEL_1,CKB6,CKB12,CKB14,CKB21,CKB22,CKB33,CKB34,CKB39,CKB45,CKB49;
theorems WAYBEL_4,YELLOW_8,FUNCT_2,YELLOW_1,TARSKI,ORDERS_2,YELLOW_0,LATTICE3,YELLOW_4,WAYBEL_0,XBOOLE_0,LATTICE7,WAYBEL_1,XBOOLE_1,RELAT_1,WELLORD2,ORDERS_1,RELAT_2,ZFMISC_1,FUNCT_1,ORDINAL1,SUBSET_1,CKB1,CKB6,CKB12,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB38,CKB39,CKB40,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB51,CKB52;
schemes XBOOLE_0,FUNCT_2,RECDEF_1,NAT_1;
registrations SUBSET_1,ORDINAL1,RELSET_1,REALSET1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_4,FUNCT_1,ZFMISC_1,CARD_1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB16,CKB23,CKB36,CKB37;
constructors WELLORD1,NAT_1,REALSET1,ORDERS_3,WAYBEL_1,WAYBEL_4,LATTICE7,RELSET_1,CKB6,CKB12,CKB14,CKB21,CKB22,CKB33,CKB34,CKB39,CKB41,CKB45,CKB49,CKB50;
requirements SUBSET,BOOLE,NUMERALS;
begin
theorem
Th27: (for L being  complete non  empty Poset holds (for R being  extra-order (Relation of L) holds (for C being  satisfying_SIC (strict_chain of R) holds (for d being (Element of L) holds (d in ( SupBelow (R,C) ) implies d = ( "\/" ({ b where b is (Element of L): (b in ( SupBelow (R,C) ) & [ b,d ] in R) },L) ))))))
proof
let L being  complete non  empty Poset;
let R being  extra-order (Relation of L);
let C being  satisfying_SIC (strict_chain of R);
let d being (Element of L);
deffunc F((Element of L)) = { b where b is (Element of L): (b in ( SupBelow (R,C) ) & [ b,$1 ] in R) };
set p = ( "\/" (F(d),L) );
A1:  ex_sup_of ( SetBelow (R,C,d) ),L by YELLOW_0:17;
A2: F(d) is_<=_than d
proof
let a being (Element of L);
assume a in F(d);
then (ex b being (Element of L) st ((a = b & b in ( SupBelow (R,C) )) & [ b,d ] in R));
hence a <= d by WAYBEL_4:def 3;
end;
assume d in ( SupBelow (R,C) );
then A3: d = ( sup ( SetBelow (R,C,d) ) ) by CKB49:def 1;
assume A4: p <> d;
 ex_sup_of F(d),L by YELLOW_0:17;
then p <= d by A2,YELLOW_0:def 9;
then A5: p < d by A4,ORDERS_2:def 6;
now
per cases  by A3,A1,A4,YELLOW_0:def 9;
suppose (not ( SetBelow (R,C,d) ) is_<=_than p);

then consider a being (Element of L) such that A6: a in ( SetBelow (R,C,d) ) and A7: (not a <= p) by LATTICE3:def 9;
A8: [ a,d ] in R by A6,CKB40:1;
a in C by A6,CKB40:1;
hence (ex a being (Element of L) st ((a in C & [ a,d ] in R) & (not a <= p))) by A8,A7;
end;
suppose (ex a being (Element of L) st (( SetBelow (R,C,d) ) is_<=_than a & (not p <= a)));

then consider a being (Element of L) such that A9: ( SetBelow (R,C,d) ) is_<=_than a and A10: (not p <= a);
d <= a by A3,A1,A9,YELLOW_0:def 9;
then p < a by A5,ORDERS_2:7;
hence (ex a being (Element of L) st ((a in C & [ a,d ] in R) & (not a <= p))) by A10,ORDERS_2:def 6;
end;
end;
then consider cc being (Element of L) such that A11: cc in C and A12: [ cc,d ] in R and A13: (not cc <= p);
per cases ;
suppose [ cc,cc ] in R;

then cc = ( sup ( SetBelow (R,C,cc) ) ) by A11,CKB44:1,YELLOW_0:17;
then cc in ( SupBelow (R,C) ) by CKB49:def 1;
then cc in F(d) by A12;
hence contradiction by A13,YELLOW_0:17,YELLOW_4:1;
end;
suppose A14: (not [ cc,cc ] in R);

(ex cs being (Element of L) st ((cs in C & cc < cs) & [ cs,d ] in R))
proof
per cases  by A3,A1,A12,A14,YELLOW_0:def 9;
suppose (not ( SetBelow (R,C,d) ) is_<=_than cc);

then consider cs being (Element of L) such that A15: cs in ( SetBelow (R,C,d) ) and A16: (not cs <= cc) by LATTICE3:def 9;
take cs;
A17: (not [ cs,cc ] in R) by A16,WAYBEL_4:def 3;
thus cs in C by A15,CKB40:1;
then [ cc,cs ] in R by A17,A11,A16,CKB14:def 1;
then cc <= cs by WAYBEL_4:def 3;
hence cc < cs by A16,ORDERS_2:def 6;
thus thesis by A15,CKB40:1;
end;
suppose A18: (ex a being (Element of L) st (( SetBelow (R,C,d) ) is_<=_than a & (not cc <= a)));

cc in ( SetBelow (R,C,d) ) by A11,A12,CKB40:1;
hence thesis by A18,LATTICE3:def 9;
end;
end;
then consider cs being (Element of L) such that A19: cs in C and A20: cc < cs and A21: [ cs,d ] in R;
consider y being (Element of L) such that A22: cc < y and A23: [ y,cs ] in R and A24: y = ( sup ( SetBelow (R,C,y) ) ) by A11,A19,A20,CKB46:1;
A25: y in ( SupBelow (R,C) ) by A24,CKB49:def 1;
A26: d <= d;
y <= cs by A23,WAYBEL_4:def 3;
then [ y,d ] in R by A21,A26,WAYBEL_4:def 4;
then y in F(d) by A25;
then y <= p by YELLOW_0:17,YELLOW_4:1;
then cc < p by A22,ORDERS_2:7;
hence contradiction by A13,ORDERS_2:def 6;
end;
end;
