environ
vocabularies XBOOLE_0,ZFMISC_1,SUBSET_1,STRUCT_0,ORDERS_2,WAYBEL_4,RELAT_1,RELAT_2,LATTICE3,LATTICES,FUNCT_1,YELLOW_1,LATTICE7,WAYBEL_0,SEQM_3,XXREAL_0,TARSKI,ARYTM_3,GROUP_4,ORDERS_1,WELLORD2,WELLORD1,YELLOW_0,EQREL_1,REWRITE1,WAYBEL_1,ORDINAL2,NUMBERS,CARD_1,NAT_1,WAYBEL35;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,FUNCT_2,DOMAIN_1,STRUCT_0,WELLORD1,ORDERS_2,ORDERS_1,LATTICE3,YELLOW_0,YELLOW_1,ALG_1,WAYBEL_0,WAYBEL_1,WAYBEL_4,LATTICE7,CKB6,CKB12,CKB14,CKB21,CKB22,CKB24;
definitions TARSKI,XBOOLE_0,ORDERS_1,LATTICE3,WAYBEL_1,CKB6,CKB12,CKB14,CKB21,CKB22;
theorems WAYBEL_4,YELLOW_8,FUNCT_2,YELLOW_1,TARSKI,ORDERS_2,YELLOW_0,LATTICE3,YELLOW_4,WAYBEL_0,XBOOLE_0,LATTICE7,WAYBEL_1,XBOOLE_1,RELAT_1,WELLORD2,ORDERS_1,RELAT_2,ZFMISC_1,FUNCT_1,ORDINAL1,SUBSET_1,CKB1,CKB6,CKB12,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26,CKB27,CKB28;
schemes XBOOLE_0,FUNCT_2,RECDEF_1,NAT_1;
registrations SUBSET_1,ORDINAL1,RELSET_1,REALSET1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_4,FUNCT_1,ZFMISC_1,CARD_1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB16,CKB23;
constructors WELLORD1,NAT_1,REALSET1,ORDERS_3,WAYBEL_1,WAYBEL_4,LATTICE7,RELSET_1,CKB6,CKB12,CKB14,CKB21,CKB22;
requirements SUBSET,BOOLE,NUMERALS;
begin
theorem
(for L being non  empty Poset holds (for R being  auxiliary(i)  auxiliary(ii) (Relation of L) holds (for C being non  empty (strict_chain of R) holds (for X being (Subset of C) holds ((( ex_inf_of ( ( uparrow ( "\/" (X,L) ) ) /\ C ),L &  ex_sup_of X,L) & C is  maximal) implies (( "\/" (X,( subrelstr C )) ) = ( "/\" (( ( uparrow ( "\/" (X,L) ) ) /\ C ),L) ) & ((not ( "\/" (X,L) ) in C) implies ( "\/" (X,L) ) < ( "/\" (( ( uparrow ( "\/" (X,L) ) ) /\ C ),L) ))))))))
proof
let L being non  empty Poset;
let R being  auxiliary(i)  auxiliary(ii) (Relation of L);
let C being non  empty (strict_chain of R);
let X being (Subset of C);
set s = ( "\/" (X,L) );
set x = ( "\/" (X,( subrelstr C )) );
set U = ( uparrow s );
assume that
A1:  ex_inf_of ( U /\ C ),L
and
A2:  ex_sup_of X,L
and
A3: C is  maximal;
A4: s <= s;
reconsider x1 = x as (Element of L) by YELLOW_0:58;
A5: (the carrier of ( subrelstr C )) = C by YELLOW_0:def 15;
per cases ;
suppose A6: s in C;

then A7: s = x by A2,A5,YELLOW_0:64;
A8: ( U /\ C ) is_>=_than x1
proof
let b being (Element of L);
assume b in ( U /\ C );
then b in U by XBOOLE_0:def 4;
hence x1 <= b by A7,WAYBEL_0:18;
end;
(for a being (Element of L) holds (( U /\ C ) is_>=_than a implies a <= x1))
proof
s in U by A4,WAYBEL_0:18;
then A9: x1 in ( U /\ C ) by A6,A7,XBOOLE_0:def 4;
let a being (Element of L);
assume ( U /\ C ) is_>=_than a;
hence thesis by A9,LATTICE3:def 8;
end;
hence thesis by A1,A6,A8,YELLOW_0:def 10;
end;
suppose (not s in C);

then consider cs being (Element of L) such that A10: cs in C and A11: s < cs and A12: (not [ s,cs ] in R) and A13: (ex cs1 being (Element of ( subrelstr C )) st ((cs = cs1 & X is_<=_than cs1) & (for a being (Element of ( subrelstr C )) holds (X is_<=_than a implies cs1 <= a)))) by A2,A3,CKB27:1;
A14: s <= cs by A11,ORDERS_2:def 6;
A15: (for a being (Element of L) holds (( U /\ C ) is_>=_than a implies a <= cs))
proof
cs in U by A14,WAYBEL_0:18;
then A16: cs in ( U /\ C ) by A10,XBOOLE_0:def 4;
let a being (Element of L);
assume ( U /\ C ) is_>=_than a;
hence thesis by A16,LATTICE3:def 8;
end;
A17: cs <= cs;
A18: ( U /\ C ) is_>=_than cs
proof
let b being (Element of L);
assume A19: b in ( U /\ C );
then b in U by XBOOLE_0:def 4;
then A20: s <= b by WAYBEL_0:18;
b in C by A19,XBOOLE_0:def 4;
then (([ b,cs ] in R or b = cs) or [ cs,b ] in R) by A10,CKB14:def 1;
hence cs <= b by A12,A17,A20,WAYBEL_4:def 3,WAYBEL_4:def 4;
end;
 ex_sup_of X,( subrelstr C ) by A2,A3,CKB28:1;
then cs = x by A13,YELLOW_0:def 9;
hence thesis by A15,A1,A11,A18,YELLOW_0:def 10;
end;
end;
