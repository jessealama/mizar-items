environ
vocabularies XBOOLE_0,ZFMISC_1,SUBSET_1,STRUCT_0,ORDERS_2,WAYBEL_4,RELAT_1,RELAT_2,LATTICE3,LATTICES,FUNCT_1,YELLOW_1,LATTICE7,WAYBEL_0,SEQM_3,XXREAL_0,TARSKI,ARYTM_3,GROUP_4,ORDERS_1,WELLORD2,WELLORD1,YELLOW_0,EQREL_1,REWRITE1,WAYBEL_1,ORDINAL2,NUMBERS,CARD_1,NAT_1,WAYBEL35;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,FUNCT_2,DOMAIN_1,STRUCT_0,WELLORD1,ORDERS_2,ORDERS_1,LATTICE3,YELLOW_0,YELLOW_1,ALG_1,WAYBEL_0,WAYBEL_1,WAYBEL_4,LATTICE7,CKB6,CKB12,CKB14,CKB21,CKB22,CKB24,CKB33,CKB34,CKB39,CKB41,CKB45;
definitions TARSKI,XBOOLE_0,ORDERS_1,LATTICE3,WAYBEL_1,CKB6,CKB12,CKB14,CKB21,CKB22,CKB33,CKB34,CKB39,CKB45;
theorems WAYBEL_4,YELLOW_8,FUNCT_2,YELLOW_1,TARSKI,ORDERS_2,YELLOW_0,LATTICE3,YELLOW_4,WAYBEL_0,XBOOLE_0,LATTICE7,WAYBEL_1,XBOOLE_1,RELAT_1,WELLORD2,ORDERS_1,RELAT_2,ZFMISC_1,FUNCT_1,ORDINAL1,SUBSET_1,CKB1,CKB6,CKB12,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB38,CKB39,CKB40,CKB42,CKB43,CKB44,CKB45;
schemes XBOOLE_0,FUNCT_2,RECDEF_1,NAT_1;
registrations SUBSET_1,ORDINAL1,RELSET_1,REALSET1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_4,FUNCT_1,ZFMISC_1,CARD_1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB16,CKB23,CKB36,CKB37;
constructors WELLORD1,NAT_1,REALSET1,ORDERS_3,WAYBEL_1,WAYBEL_4,LATTICE7,RELSET_1,CKB6,CKB12,CKB14,CKB21,CKB22,CKB33,CKB34,CKB39,CKB41,CKB45;
requirements SUBSET,BOOLE,NUMERALS;
begin
theorem
Th22: (for L being  complete non  empty Poset holds (for R being  extra-order (Relation of L) holds (for C being  satisfying_SIC (strict_chain of R) holds (for p,q being (Element of L) holds (((p in C & q in C) & p < q) implies (ex y being (Element of L) st ((p < y & [ y,q ] in R) & y = ( sup ( SetBelow (R,C,y) ) ))))))))
proof
let L being  complete non  empty Poset;
let R being  extra-order (Relation of L);
let C being  satisfying_SIC (strict_chain of R);
let p being (Element of L);
let q being (Element of L);
assume that
A1: p in C
and
A2: q in C
and
A3: p < q;
A4: R satisfies_SIC_on C by CKB34:def 1;
(not q <= p) by A3,ORDERS_2:6;
then (not [ q,p ] in R) by WAYBEL_4:def 3;
then [ p,q ] in R by A1,A2,A3,CKB14:def 1;
then consider w being (Element of L) such that A5: w in C and A6: [ p,w ] in R and A7: [ w,q ] in R and A8: p < w by A1,A2,A3,A4,CKB35:1;
consider x1 being (Element of L) such that A9: x1 in C and [ p,x1 ] in R and A10: [ x1,w ] in R and A11: p < x1 by A1,A4,A5,A6,A8,CKB35:1;
defpred P[ set,set,set ]
 means
(ex b being (Element of L) st ((($3 = b & $3 in C) & [ $2,$3 ] in R) & b <= w));
A12: q <= q;
reconsider D = ( SetBelow (R,C,w) ) as non  empty set by A9,A10,CKB40:1;
reconsider g = x1 as (Element of D) by A9,A10,CKB40:1;
A13: (for n being (Element of ( NAT )) holds (for x being (Element of D) holds (ex y being (Element of D) st P[ n,x,y ])))
proof
let n being (Element of ( NAT ));
let x being (Element of D);
x in D;
then reconsider t = x as (Element of L);
A14: x in C by CKB40:1;
A15: [ x,w ] in R by CKB40:1;
per cases ;
suppose x <> w;

then consider b being (Element of L) such that A16: b in C and A17: [ x,b ] in R and A18: [ b,w ] in R and t < b by A4,A5,A14,A15,CKB35:1;
reconsider y = b as (Element of D) by A16,A18,CKB40:1;
take y;
take b;
thus thesis by A16,A17,A18,WAYBEL_4:def 3;
end;
suppose A19: x = w;

take x;
take t;
thus thesis by A19,CKB40:1;
end;
end;
consider f being (Function of ( NAT ),D) such that A20: ( f . ( 0 ) ) = g and A21: (for n being (Element of ( NAT )) holds P[ n,( f . n ),( f . ( n + 1 ) ) ]) from RECDEF_1:sch 2(A13);
reconsider f as (Function of ( NAT ),(the carrier of L)) by FUNCT_2:7;
take y = ( sup ( rng f ) );
A22:  ex_sup_of ( rng f ),L by YELLOW_0:17;
A23: ( dom f ) = ( NAT ) by FUNCT_2:def 1;
then x1 <= y by A20,A22,FUNCT_1:3,YELLOW_4:1;
hence p < y by A11,ORDERS_2:7;
( rng f ) is_<=_than w
proof
let x being (Element of L);
assume x in ( rng f );
then consider n being set such that A24: n in ( dom f ) and A25: ( f . n ) = x by FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A24;
A26: (ex b being (Element of L) st (((( f . ( n + 1 ) ) = b & ( f . ( n + 1 ) ) in C) & [ ( f . n ),( f . ( n + 1 ) ) ] in R) & b <= w)) by A21;
then x <= ( f . ( n + 1 ) ) by A25,WAYBEL_4:def 3;
hence x <= w by A26,ORDERS_2:3;
end;
then y <= w by A22,YELLOW_0:def 9;
hence [ y,q ] in R by A7,A12,WAYBEL_4:def 4;
A27:  ex_sup_of ( SetBelow (R,C,y) ),L by YELLOW_0:17;
A28: (for x being (Element of L) holds (( SetBelow (R,C,y) ) is_<=_than x implies y <= x))
proof
let x being (Element of L);
assume that
A29: ( SetBelow (R,C,y) ) is_<=_than x;
( rng f ) is_<=_than x
proof
defpred P[ Nat ]
 means
( f . $1 ) in C;
let m being (Element of L);
assume m in ( rng f );
then consider n being set such that A30: n in ( dom f ) and A31: ( f . n ) = m by FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A30;
A32: ( f . n ) <= ( f . n );
A33: (for k being Nat holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being Nat;
k is (Element of ( NAT )) by ORDINAL1:def 12;
then (ex b being (Element of L) st (((( f . ( k + 1 ) ) = b & ( f . ( k + 1 ) ) in C) & [ ( f . k ),( f . ( k + 1 ) ) ] in R) & b <= w)) by A21;
hence thesis;
end;
A34: P[ ( 0 ) ] by A9,A20;
(for n being Nat holds P[ n ]) from NAT_1:sch 2(A34,A33);
then A35: ( f . n ) in C;
A36: (ex b being (Element of L) st (((( f . ( n + 1 ) ) = b & ( f . ( n + 1 ) ) in C) & [ ( f . n ),( f . ( n + 1 ) ) ] in R) & b <= w)) by A21;
( f . ( n + 1 ) ) <= y by A22,A23,FUNCT_1:3,YELLOW_4:1;
then [ m,y ] in R by A31,A36,A32,WAYBEL_4:def 4;
then m in ( SetBelow (R,C,y) ) by A31,A35,CKB40:1;
hence m <= x by A29,LATTICE3:def 9;
end;
hence thesis by A22,YELLOW_0:def 9;
end;
( SetBelow (R,C,y) ) is_<=_than y by CKB42:1;
hence thesis by A28,A27,YELLOW_0:def 9;
end;
