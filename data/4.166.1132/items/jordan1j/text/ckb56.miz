environ
vocabularies NUMBERS,SUBSET_1,GOBOARD1,XXREAL_0,TREES_1,ARYTM_3,FINSEQ_1,RELAT_1,MCART_1,XBOOLE_0,GRAPH_2,ORDINAL4,RCOMP_1,RELAT_2,SPPOL_1,EUCLID,TOPREAL1,JORDAN9,FINSEQ_5,PSCOMP_1,PARTFUN1,TARSKI,CARD_1,FINSEQ_4,PRE_TOPC,RLTOPSP1,ARYTM_1,JORDAN1E,FINSEQ_6,RFINSEQ,JORDAN3,FUNCT_1,GOBOARD5,GOBOARD9,CONNSP_1,TOPREAL2,JORDAN8,SPPOL_2,NAT_1,GROUP_2,MATRIX_1,SPRECT_2,ZFMISC_1,JORDAN6,GOBOARD2,JORDAN2C,JORDAN1A;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,FINSEQ_5,RFINSEQ,MATRIX_1,FINSEQ_6,GRAPH_2,ZFMISC_1,STRUCT_0,PRE_TOPC,TOPREAL2,CONNSP_1,COMPTS_1,RLTOPSP1,EUCLID,PSCOMP_1,SPRECT_2,GOBOARD1,TOPREAL1,GOBOARD2,GOBOARD5,GOBOARD9,GOBRD13,SPPOL_1,SPPOL_2,JORDAN3,JORDAN8,JORDAN2C,JORDAN6,JORDAN9,JORDAN1A,JORDAN1E;
definitions TARSKI,GOBOARD5,XBOOLE_0,PSCOMP_1;
theorems JORDAN8,PSCOMP_1,JORDAN1A,NAT_1,GOBOARD5,FINSEQ_1,FINSEQ_2,JORDAN4,JORDAN6,SPRECT_2,FINSEQ_4,FINSEQ_5,FINSEQ_6,GOBOARD7,GOBOARD9,SPPOL_1,SPPOL_2,REVROT_1,TOPREAL1,SPRECT_3,JORDAN5B,JORDAN3,GOBRD13,INT_1,JORDAN9,JORDAN2C,SUBSET_1,CONNSP_1,ZFMISC_1,JGRAPH_1,GOBOARD1,SPRECT_1,TARSKI,TOPREAL3,FINSEQ_3,RELAT_1,COMPTS_1,FUNCT_1,TOPREAL5,JORDAN10,GRAPH_2,GOBOARD2,CARD_1,CARD_2,ENUMSET1,SPRECT_4,JORDAN1B,SPRECT_5,JORDAN1E,PARTFUN2,JORDAN1F,TDLAT_1,JORDAN1G,GOBOARD3,JORDAN1H,TOPREAL8,GOBRD14,JORDAN1D,JORDAN1I,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,EUCLID,PRE_TOPC,ORDINAL1,PARTFUN1,MATRIX_1,XREAL_0,NAT_D,RLTOPSP1,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55;
schemes NAT_1;
registrations XBOOLE_0,RELSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,ZFMISC_1,FINSEQ_5,FINSEQ_6,STRUCT_0,PRE_TOPC,TOPREAL1,TOPREAL2,GOBOARD2,JORDAN1,SPPOL_2,GOBRD11,TOPREAL5,SPRECT_1,SPRECT_2,REVROT_1,TOPREAL6,JORDAN8,JORDAN1E,JORDAN1G,CARD_1,FUNCT_1,EUCLID,FINSET_1,CKB3,CKB38;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,FINSEQ_4,NEWTON,ZFMISC_1,RFINSEQ,BINARITH,TOPS_1,CONNSP_1,MATRIX_2,GOBOARD2,JORDAN1,PSCOMP_1,GRAPH_2,GOBOARD9,JORDAN3,JORDAN5C,JORDAN6,JORDAN2C,JORDAN8,GOBRD13,JORDAN9,JORDAN1A,JORDAN1E,NAT_D,RELSET_1,CONVEX1,DOMAIN_1;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
theorem
Th54: (for f,g being (FinSequence of ( TOP-REAL 2 )) holds ((((f is  unfolded  s.n.c.  one-to-one & g is  unfolded  s.n.c.  one-to-one) & ( f /. ( len f ) ) = ( g /. 1 )) & ( ( L~ f ) /\ ( L~ g ) ) = { ( g /. 1 ) }) implies ( f ^' g ) is  s.n.c.))
proof
let f being (FinSequence of ( TOP-REAL 2 ));
let g being (FinSequence of ( TOP-REAL 2 ));
assume that
A1: f is  unfolded  s.n.c.  one-to-one
and
A2: g is  unfolded  s.n.c.  one-to-one
and
A3: ( f /. ( len f ) ) = ( g /. 1 )
and
A4: ( ( L~ f ) /\ ( L~ g ) ) = { ( g /. 1 ) };
now
let i being Nat;
let j being Nat;
assume A5: ( i + 1 ) < j;
A6: i in ( NAT ) by ORDINAL1:def 12;
A7: j in ( NAT ) by ORDINAL1:def 12;
now
per cases ;
suppose A8: j < ( len f );

then ( i + 1 ) < ( len f ) by A5,XXREAL_0:2;
then i < ( len f ) by NAT_1:13;
then A9: ( LSeg (( f ^' g ),i) ) = ( LSeg (f,i) ) by A6,TOPREAL8:28;
( LSeg (( f ^' g ),j) ) = ( LSeg (f,j) ) by A7,A8,TOPREAL8:28;
hence ( LSeg (( f ^' g ),i) ) misses ( LSeg (( f ^' g ),j) ) by A1,A5,A9,TOPREAL1:def 7;
end;
suppose j >= ( len f );

then consider k being Nat such that A10: j = ( ( len f ) + k ) by NAT_1:10;
A11:now
assume g is  trivial;
then ( len g ) < 2 by NAT_D:60;
then (( len g ) = ( 0 ) or ( len g ) = 1) by NAT_1:23;
then ( L~ g ) = ( {} ) by TOPREAL1:22;
hence contradiction by A4;
end;
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
A12:now
assume f is  empty;
then ( len f ) = ( 0 );
then ( L~ f ) = ( {} ) by TOPREAL1:22;
hence contradiction by A4;
end;
now
per cases ;
suppose A13: (i >= 1 & ( j + 1 ) <= ( len ( f ^' g ) ));

then ( j + 1 ) < ( ( len ( f ^' g ) ) + 1 ) by NAT_1:13;
then ( ( len f ) + ( k + 1 ) ) < ( ( len f ) + ( len g ) ) by A10,A11,GRAPH_2:13;
then A14: ( k + 1 ) < ( len g ) by XREAL_1:7;
then A15: ( LSeg (( f ^' g ),( ( len f ) + k )) ) = ( LSeg (g,( k + 1 )) ) by A3,A12,A11,TOPREAL8:31;
then A16: ( LSeg (( f ^' g ),j) ) c= ( L~ g ) by A10,TOPREAL3:19;
now
per cases ;
suppose A17: i < ( len f );

then A18: ( i + 1 ) <= ( len f ) by NAT_1:13;
( i + 1 ) > 1 by A13,NAT_1:13;
then A19: ( i + 1 ) in ( dom f ) by A18,FINSEQ_3:25;
A20: ( len g ) >= 2 by A11,NAT_D:60;
A21: ( LSeg (( f ^' g ),i) ) = ( LSeg (f,i) ) by A6,A17,TOPREAL8:28;
then ( LSeg (( f ^' g ),i) ) c= ( L~ f ) by TOPREAL3:19;
then A22: ( ( LSeg (( f ^' g ),i) ) /\ ( LSeg (( f ^' g ),j) ) ) c= { ( g /. 1 ) } by A4,A16,XBOOLE_1:27;
assume ( LSeg (( f ^' g ),i) ) meets ( LSeg (( f ^' g ),j) );
then consider x being set such that A23: x in ( LSeg (( f ^' g ),i) ) and A24: x in ( LSeg (( f ^' g ),j) ) by XBOOLE_0:3;
x in ( ( LSeg (( f ^' g ),i) ) /\ ( LSeg (( f ^' g ),j) ) ) by A23,A24,XBOOLE_0:def 4;
then A25: x = ( g /. 1 ) by A22,TARSKI:def 1;
i in ( dom f ) by A13,A17,FINSEQ_3:25;
then ( ( len f ) + ( 0 ) ) < ( ( len f ) + k ) by A1,A3,A5,A10,A21,A23,A25,A19,GOBOARD2:2;
then k > ( 0 );
then ( k + 1 ) > ( ( 0 ) + 1 ) by XREAL_1:6;
hence contradiction by A2,A10,A15,A24,A25,A20,JORDAN5B:30;
end;
suppose i >= ( len f );

then consider l being Nat such that A26: i = ( ( len f ) + l ) by NAT_1:10;
reconsider l as (Element of ( NAT )) by ORDINAL1:def 12;
( ( len f ) + ( l + 1 ) ) < ( ( len f ) + k ) by A5,A10,A26;
then ( l + 1 ) < k by XREAL_1:7;
then A27: ( ( l + 1 ) + 1 ) < ( k + 1 ) by XREAL_1:6;
then ( ( l + 1 ) + 1 ) < ( len g ) by A14,XXREAL_0:2;
then ( l + 1 ) < ( len g ) by NAT_1:13;
then ( LSeg (( f ^' g ),( ( len f ) + l )) ) = ( LSeg (g,( l + 1 )) ) by A3,A12,A11,TOPREAL8:31;
hence ( LSeg (( f ^' g ),i) ) misses ( LSeg (( f ^' g ),j) ) by A2,A10,A15,A26,A27,TOPREAL1:def 7;
end;
end;
hence ( LSeg (( f ^' g ),i) ) misses ( LSeg (( f ^' g ),j) );
end;
suppose ( j + 1 ) > ( len ( f ^' g ) );

then ( LSeg (( f ^' g ),j) ) = ( {} ) by TOPREAL1:def 3;
hence ( LSeg (( f ^' g ),i) ) misses ( LSeg (( f ^' g ),j) ) by XBOOLE_1:65;
end;
suppose i < 1;

then ( LSeg (( f ^' g ),i) ) = ( {} ) by TOPREAL1:def 3;
hence ( LSeg (( f ^' g ),i) ) misses ( LSeg (( f ^' g ),j) ) by XBOOLE_1:65;
end;
end;
hence ( LSeg (( f ^' g ),i) ) misses ( LSeg (( f ^' g ),j) );
end;
end;
hence ( LSeg (( f ^' g ),i) ) misses ( LSeg (( f ^' g ),j) );
end;
hence thesis by TOPREAL1:def 7;
end;
