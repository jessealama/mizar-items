environ
vocabularies UNIALG_1,NAT_1,XBOOLE_0,FINSEQ_1,ZFMISC_1,MCART_1,RELAT_1,FUNCT_1,FUNCT_2,PARTFUN1,FINSEQ_2,SUBSET_1,TARSKI,NUMBERS,STRUCT_0,CQC_SIM1,UNIALG_2,ORDINAL1,PBOOLE,FUNCOP_1,RLVECT_2,CARD_3,CARD_1,FINSEQ_4,FUNCT_5,PRALG_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,NAT_1,STRUCT_0,RELAT_1,FUNCT_1,FINSEQ_1,FUNCT_2,BINOP_1,FUNCOP_1,MCART_1,DOMAIN_1,PARTFUN1,FINSEQ_2,FUNCT_4,FUNCT_5,CARD_3,MARGREL1,DTCONSTR,UNIALG_1,UNIALG_2,PBOOLE,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7;
definitions TARSKI,UNIALG_1,UNIALG_2,FUNCT_1,PBOOLE,XBOOLE_0,BINOP_1,FINSEQ_2,FUNCOP_1,PARTFUN1,MARGREL1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7;
theorems TARSKI,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,FUNCOP_1,UNIALG_1,DOMAIN_1,ZFMISC_1,MCART_1,UNIALG_2,FUNCT_2,PBOOLE,FUNCT_5,CARD_3,FUNCT_4,FINSEQ_3,RELAT_1,RELSET_1,ORDINAL1,XBOOLE_0,XBOOLE_1,MARGREL1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10;
schemes FINSEQ_1,PARTFUN1,FUNCT_2,FUNCT_1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCOP_1,FINSEQ_1,FINSEQ_2,CARD_3,PBOOLE,STRUCT_0,UNIALG_1,CARD_1,RELSET_1,MARGREL1;
constructors BINOP_1,DOMAIN_1,FUNCT_4,FUNCT_5,CARD_3,PBOOLE,UNIALG_2,DTCONSTR,STRUCT_0,RELSET_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7;
requirements BOOLE,SUBSET;
begin
reserve U1 for Universal_Algebra;
reserve U2 for Universal_Algebra;
theorem
Th6: (U1,U2 are_similar  implies (for o1 being (operation of U1) holds (for o2 being (operation of U2) holds (for o being (operation of [: U1,U2 :]) holds (for n being Nat holds ((((o1 = ( (the charact of U1) . n ) & o2 = ( (the charact of U2) . n )) & o = ( (the charact of [: U1,U2 :]) . n )) & n in ( dom (the charact of U1) )) implies ((( arity o ) = ( arity o1 ) & ( arity o ) = ( arity o2 )) & o = [[: o1,o2 :]])))))))
proof
assume A1: U1,U2 are_similar ;
A2: ( dom ( Opers (U1,U2) ) ) = ( Seg ( len ( Opers (U1,U2) ) ) ) by FINSEQ_1:def 3;
A3: ( dom (the charact of U1) ) = ( Seg ( len (the charact of U1) ) ) by FINSEQ_1:def 3;
let o1 being (operation of U1);
let o2 being (operation of U2);
let o being (operation of [: U1,U2 :]);
let n being Nat;
assume that
A4: o1 = ( (the charact of U1) . n )
and
A5: o2 = ( (the charact of U2) . n )
and
A6: o = ( (the charact of [: U1,U2 :]) . n )
and
A7: n in ( dom (the charact of U1) );
A8: (( dom ( signature U1 ) ) = ( Seg ( len ( signature U1 ) ) ) & ( len ( signature U1 ) ) = ( len (the charact of U1) )) by FINSEQ_1:def 3,UNIALG_1:def 4;
then A9: ( ( signature U1 ) . n ) = ( arity o1 ) by A4,A7,A3,UNIALG_1:def 4;
A10: ( signature U1 ) = ( signature U2 ) by A1,UNIALG_2:def 1;
then A11: ( ( signature U2 ) . n ) = ( arity o2 ) by A5,A7,A3,A8,UNIALG_1:def 4;
A12: ([: U1,U2 :] = UAStr (# [: (the carrier of U1),(the carrier of U2) :],( Opers (U1,U2) ) #) & ( len (the charact of U1) ) = ( len ( Opers (U1,U2) ) )) by A1,CKB4:def 1,CKB6:def 1;
then o = [[: o1,o2 :]] by A1,A4,A5,A6,A7,A3,A2,CKB4:def 1;
then A13: ( dom o ) = ( ( arity o1 ) -tuples_on [: (the carrier of U1),(the carrier of U2) :] ) by A10,A9,A11,CKB3:def 1;
((ex x being FinSequence st x in ( dom o )) & (for x being FinSequence holds (x in ( dom o ) implies ( len x ) = ( arity o1 ))))
proof
set a = the (Element of ( ( arity o1 ) -tuples_on [: (the carrier of U1),(the carrier of U2) :] ));
a in ( dom o ) by A13;
hence (ex x being FinSequence st x in ( dom o ));
let x being FinSequence;
assume x in ( dom o );
then (ex s being (Element of ( [: (the carrier of U1),(the carrier of U2) :] * )) st (s = x & ( len s ) = ( arity o1 ))) by A13;
hence thesis;
end;
hence thesis by A1,A4,A5,A6,A7,A3,A2,A12,A10,A9,A11,CKB4:def 1,MARGREL1:def 25;
end;
