environ
vocabularies UNIALG_1,NAT_1,XBOOLE_0,FINSEQ_1,ZFMISC_1,MCART_1,RELAT_1,FUNCT_1,FUNCT_2,PARTFUN1,FINSEQ_2,SUBSET_1,TARSKI,NUMBERS,STRUCT_0,CQC_SIM1,UNIALG_2,ORDINAL1,PBOOLE,FUNCOP_1,RLVECT_2,CARD_3,CARD_1,FINSEQ_4,FUNCT_5,PRALG_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,NAT_1,STRUCT_0,RELAT_1,FUNCT_1,FINSEQ_1,FUNCT_2,BINOP_1,FUNCOP_1,MCART_1,DOMAIN_1,PARTFUN1,FINSEQ_2,FUNCT_4,FUNCT_5,CARD_3,MARGREL1,DTCONSTR,UNIALG_1,UNIALG_2,PBOOLE,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB14,CKB17,CKB21,CKB22,CKB23,CKB27,CKB29,CKB30,CKB31,CKB33,CKB35,CKB36,CKB37;
definitions TARSKI,UNIALG_1,UNIALG_2,FUNCT_1,PBOOLE,XBOOLE_0,BINOP_1,FINSEQ_2,FUNCOP_1,PARTFUN1,MARGREL1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB14,CKB17,CKB21,CKB22,CKB23,CKB27,CKB31,CKB33,CKB35,CKB37;
theorems TARSKI,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,FUNCOP_1,UNIALG_1,DOMAIN_1,ZFMISC_1,MCART_1,UNIALG_2,FUNCT_2,PBOOLE,FUNCT_5,CARD_3,FUNCT_4,FINSEQ_3,RELAT_1,RELSET_1,ORDINAL1,XBOOLE_0,XBOOLE_1,MARGREL1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB21,CKB22,CKB23,CKB27,CKB31,CKB33,CKB35,CKB37;
schemes FINSEQ_1,PARTFUN1,FUNCT_2,FUNCT_1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCOP_1,FINSEQ_1,FINSEQ_2,CARD_3,PBOOLE,STRUCT_0,UNIALG_1,CARD_1,RELSET_1,MARGREL1,CKB15,CKB20,CKB24,CKB25,CKB26,CKB28,CKB32,CKB34;
constructors BINOP_1,DOMAIN_1,FUNCT_4,FUNCT_5,CARD_3,PBOOLE,UNIALG_2,DTCONSTR,STRUCT_0,RELSET_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB14,CKB17,CKB21,CKB22,CKB23,CKB27,CKB29,CKB30,CKB31,CKB33,CKB35,CKB36,CKB37;
requirements BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
registration
let J being non empty set;
let B being  non-empty (ManySortedSet of J);
cluster  equal-arity for (ManySortedOperation of B);
existence
proof
defpred P[ set,set ]
 means
$2 in ( B . $1 );
A1: (for x holds (x in J implies (ex y st P[ x,y ]))) by XBOOLE_0:def 1;
consider f being Function such that A2: (( dom f ) = J & (for x holds (x in J implies P[ x,( f . x ) ]))) from CLASSES1:sch 1(A1);
deffunc G(set) = ( ( <*> ( B . $1 ) ) .--> ( f . $1 ) );
consider F being Function such that A3: (( dom F ) = J & (for x holds (x in J implies ( F . x ) = G(x)))) from FUNCT_1:sch 3;
reconsider F as (ManySortedSet of J) by A3,PARTFUN1:def 2,RELAT_1:def 18;
(for x holds (x in ( dom F ) implies ( F . x ) is Function))
proof
let x;
assume x in ( dom F );
then ( F . x ) = ( ( <*> ( B . x ) ) .--> ( f . x ) ) by A3;
hence thesis;
end;
then reconsider F as (ManySortedFunction of J) by FUNCOP_1:def 6;
now
let j being (Element of J);
reconsider b = ( f . j ) as (Element of ( B . j )) by A2;
( F . j ) = ( ( <*> ( B . j ) ) .--> b ) by A3;
hence ( F . j ) is  homogeneous  quasi_total non empty  homogeneous  quasi_total non empty (PartFunc of ( ( B . j ) * ),( B . j )) by MARGREL1:18;
end;
then reconsider F as (ManySortedOperation of B) by CKB35:def 1;
take F;
(for x,y being set holds ((x in ( dom F ) & y in ( dom F )) implies (for f,g being Function holds ((( F . x ) = f & ( F . y ) = g) implies (for n,m being Nat holds (for X,Y being non empty set holds ((( dom f ) = ( n -tuples_on X ) & ( dom g ) = ( m -tuples_on Y )) implies (for o1 being  homogeneous  quasi_total non empty (PartFunc of ( X * ),X) holds (for o2 being  homogeneous  quasi_total non empty (PartFunc of ( Y * ),Y) holds ((f = o1 & g = o2) implies ( arity o1 ) = ( arity o2 )))))))))))
proof
let x;
let y;
assume that
A4: x in ( dom F )
and
A5: y in ( dom F );
reconsider x1 = x,y1 = y as (Element of J) by A3,A4,A5;
let g being Function,h being Function;
assume that
A6: ( F . x ) = g
and
A7: ( F . y ) = h;
reconsider fx = ( f . x1 ) as (Element of ( B . x1 )) by A2;
let n being Nat,m being Nat;
let X being non empty set,Y being non empty set;
assume that
( dom g ) = ( n -tuples_on X )
and
( dom h ) = ( m -tuples_on Y );
let o1 being  homogeneous  quasi_total non empty (PartFunc of ( X * ),X);
let o2 being  homogeneous  quasi_total non empty (PartFunc of ( Y * ),Y);
assume that
A8: g = o1
and
A9: h = o2;
reconsider o1x = ( ( <*> ( B . x1 ) ) .--> fx ) as  homogeneous  quasi_total non empty (PartFunc of ( ( B . x1 ) * ),( B . x1 )) by MARGREL1:18;
A10: ( dom o1x ) = { ( {} ( B . x1 ) ) } by FUNCOP_1:13;
consider p1 being set such that A11: p1 in ( dom o1 ) by XBOOLE_0:def 1;
( dom o1 ) c= ( X * ) by RELAT_1:def 18;
then reconsider p1 as (Element of ( X * )) by A11;
o1 = ( ( <*> ( B . x ) ) .--> ( f . x ) ) by A3,A4,A6,A8;
then p1 = ( <*> ( B . x1 ) ) by A10,A11,TARSKI:def 1;
then ( len p1 ) = ( 0 );
then A12: ( arity o1 ) = ( 0 ) by A11,MARGREL1:def 25;
reconsider fy = ( f . y1 ) as (Element of ( B . y1 )) by A2;
reconsider o2y = ( ( <*> ( B . y1 ) ) .--> fy ) as  homogeneous  quasi_total non empty (PartFunc of ( ( B . y1 ) * ),( B . y1 )) by MARGREL1:18;
A13: ( dom o2y ) = { ( {} ( B . y1 ) ) } by FUNCOP_1:13;
consider p2 being set such that A14: p2 in ( dom o2 ) by XBOOLE_0:def 1;
( dom o2 ) c= ( Y * ) by RELAT_1:def 18;
then reconsider p2 as (Element of ( Y * )) by A14;
o2 = ( ( <*> ( B . y ) ) .--> ( f . y ) ) by A3,A5,A7,A9;
then p2 = ( <*> ( B . y1 ) ) by A13,A14,TARSKI:def 1;
then ( len p2 ) = ( 0 );
hence thesis by A12,A14,MARGREL1:def 25;
end;
hence thesis by CKB37:def 1;
end;
end;
