environ
vocabularies ALGSTR_0,STRUCT_0,VECTSP_1,SUPINF_2,XBOOLE_0,RLVECT_1,SUBSET_1,ARYTM_3,BINOP_1,LATTICES,FUNCT_1,RELAT_1,MESFUNC1,ZFMISC_1,RLSUB_1,RLVECT_3,RLVECT_2,CARD_3,FUNCT_2,TARSKI,ARYTM_1,RLSUB_2,FINSEQ_4,MCART_1,GROUP_1,SETFAM_1,HAHNBAN,MSSUBFAM,UNIALG_1,HAHNBAN1,GROUP_6,VECTSP10;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,FUNCT_1,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,BINOP_1,GROUP_1,VECTSP_1,RELSET_1,FUNCT_2,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,GRCAT_1,HAHNBAN1,CKB1,CKB33,CKB34,CKB35,CKB36,CKB37;
definitions HAHNBAN1,TARSKI,XBOOLE_0,VECTSP_4,VECTSP_5,RLVECT_1,FUNCT_1,STRUCT_0,ALGSTR_0,GRCAT_1,CKB1,CKB33,CKB34,CKB35,CKB36,CKB37;
theorems XBOOLE_1,FUNCT_2,HAHNBAN1,VECTSP_1,RLVECT_1,MCART_1,VECTSP_5,VECTSP_4,VECTSP_6,VECTSP_7,TARSKI,FUNCT_1,XBOOLE_0,REALSET1,ZFMISC_1,BINOP_1,GROUP_1,STRUCT_0,ALGSTR_0,GRCAT_1,CKB1,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes FUNCT_2,BINOP_1;
registrations SUBSET_1,FUNCT_1,FINSET_1,STRUCT_0,VECTSP_1,VECTSP_4,HAHNBAN1,ALGSTR_0,FUNCT_2,RELAT_1,ZFMISC_1,RELSET_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
constructors REALSET2,VECTSP_5,VECTSP_6,VECTSP_7,HAHNBAN1,RELSET_1,GRCAT_1,CKB1,CKB33,CKB34,CKB35,CKB36,CKB37;
requirements SUBSET,BOOLE;
begin
theorem
Th28: (for K being Field holds (for V being (VectSp of K) holds (for X being (Subspace of V) holds (for fi being (linear-Functional of X) holds (for v being (Vector of V) holds (for y being (Vector of ( X + ( Lin { v } ) )) holds ((v = y & (not v in X)) implies (for r being (Element of K) holds (ex psi being (linear-Functional of ( X + ( Lin { v } ) )) st (( psi | (the carrier of X) ) = fi & ( psi . y ) = r))))))))))
proof
let K being Field;
let V being (VectSp of K);
let X being (Subspace of V);
let fi being (linear-Functional of X);
let v being (Vector of V);
let y being (Vector of ( X + ( Lin { v } ) ));
assume that
A1: v = y
and
A2: (not v in X);
reconsider W1 = X as (Subspace of ( X + ( Lin { v } ) )) by VECTSP_5:7;
let r being (Element of K);
defpred P[ (Element of ( X + ( Lin { v } ) )),(Element of K) ]
 means
(for x being (Vector of X) holds (for s being (Element of K) holds ((( ( $1 |-- (W1,( Lin { y } )) ) `1 ) = x & ( ( $1 |-- (W1,( Lin { y } )) ) `2 ) = ( s * v )) implies $2 = ( ( fi . x ) + ( s * r ) ))));
A3: (for e being (Element of ( X + ( Lin { v } ) )) holds (ex a being (Element of K) st P[ e,a ]))
proof
let e being (Element of ( X + ( Lin { v } ) ));
consider x being (Vector of X),s being (Element of K) such that A4: ( e |-- (W1,( Lin { y } )) ) = [ x,( s * v ) ] by A1,A2,CKB30:1;
take ( ( fi . x ) + ( s * r ) );
let x9 being (Vector of X);
let t being (Element of K);
assume that
A5: ( ( e |-- (W1,( Lin { y } )) ) `1 ) = x9
and
A6: ( ( e |-- (W1,( Lin { y } )) ) `2 ) = ( t * v );
v <> ( 0. V ) by A2,VECTSP_4:17;
then t = s by A4,A6,CKB16:1,MCART_1:7;
hence thesis by A4,A5,MCART_1:7;
end;
consider f being (Function of (the carrier of ( X + ( Lin { v } ) )),(the carrier of K)) such that A7: (for e being (Element of ( X + ( Lin { v } ) )) holds P[ e,( f . e ) ]) from FUNCT_2:sch 3(A3);
A8:now
let a being set;
assume a in ( dom fi );
then reconsider x = a as (Vector of X);
X is (Subspace of ( X + ( Lin { v } ) )) by VECTSP_5:7;
then (the carrier of X) c= (the carrier of ( X + ( Lin { v } ) )) by VECTSP_4:def 2;
then reconsider v1 = x as (Vector of ( X + ( Lin { v } ) )) by TARSKI:def 3;
v1 in X by STRUCT_0:def 5;
then ( v1 |-- (W1,( Lin { y } )) ) = [ v1,( 0. V ) ] by A1,A2,CKB28:1
.= [ v1,( ( 0. K ) * v ) ] by CKB13:1;
then A9: (( ( v1 |-- (W1,( Lin { y } )) ) `1 ) = x & ( ( v1 |-- (W1,( Lin { y } )) ) `2 ) = ( ( 0. K ) * v )) by MCART_1:7;
thus ( fi . a ) = ( ( fi . x ) + ( 0. K ) ) by RLVECT_1:4
.= ( ( fi . x ) + ( ( 0. K ) * r ) ) by VECTSP_1:7
.= ( f . a ) by A7,A9;
end;
reconsider f as (Functional of ( X + ( Lin { v } ) ));
A10: ( y |-- (W1,( Lin { y } )) ) = [ ( 0. W1 ),y ] by A1,A2,CKB27:1;
then A11: ( ( y |-- (W1,( Lin { y } )) ) `1 ) = ( 0. X ) by MCART_1:7;
A12: f is  additive
proof
let v1 being (Vector of ( X + ( Lin { v } ) )),v2 being (Vector of ( X + ( Lin { v } ) ));
consider x1 being (Vector of X),s1 being (Element of K) such that A13: ( v1 |-- (W1,( Lin { y } )) ) = [ x1,( s1 * v ) ] by A1,A2,CKB30:1;
A14: (( ( v1 |-- (W1,( Lin { y } )) ) `1 ) = x1 & ( ( v1 |-- (W1,( Lin { y } )) ) `2 ) = ( s1 * v )) by A13,MCART_1:7;
consider x2 being (Vector of X),s2 being (Element of K) such that A15: ( v2 |-- (W1,( Lin { y } )) ) = [ x2,( s2 * v ) ] by A1,A2,CKB30:1;
A16: (( ( v2 |-- (W1,( Lin { y } )) ) `1 ) = x2 & ( ( v2 |-- (W1,( Lin { y } )) ) `2 ) = ( s2 * v )) by A15,MCART_1:7;
( ( v1 + v2 ) |-- (W1,( Lin { y } )) ) = [ ( x1 + x2 ),( ( s1 + s2 ) * v ) ] by A1,A2,A13,A15,CKB31:1;
then (( ( ( v1 + v2 ) |-- (W1,( Lin { y } )) ) `1 ) = ( x1 + x2 ) & ( ( ( v1 + v2 ) |-- (W1,( Lin { y } )) ) `2 ) = ( ( s1 + s2 ) * v )) by MCART_1:7;
hence ( f . ( v1 + v2 ) ) = ( ( fi . ( x1 + x2 ) ) + ( ( s1 + s2 ) * r ) ) by A7
.= ( ( fi . ( x1 + x2 ) ) + ( ( s1 * r ) + ( s2 * r ) ) ) by VECTSP_1:def 3
.= ( ( ( fi . x1 ) + ( fi . x2 ) ) + ( ( s1 * r ) + ( s2 * r ) ) ) by GRCAT_1:def 8
.= ( ( ( ( fi . x1 ) + ( fi . x2 ) ) + ( s1 * r ) ) + ( s2 * r ) ) by RLVECT_1:def 3
.= ( ( ( ( fi . x1 ) + ( s1 * r ) ) + ( fi . x2 ) ) + ( s2 * r ) ) by RLVECT_1:def 3
.= ( ( ( fi . x1 ) + ( s1 * r ) ) + ( ( fi . x2 ) + ( s2 * r ) ) ) by RLVECT_1:def 3
.= ( ( f . v1 ) + ( ( fi . x2 ) + ( s2 * r ) ) ) by A7,A14
.= ( ( f . v1 ) + ( f . v2 ) ) by A7,A16;
end;
f is  homogeneous
proof
let v0 being (Vector of ( X + ( Lin { v } ) ));
let t being (Element of K);
consider x0 being (Vector of X),s0 being (Element of K) such that A17: ( v0 |-- (W1,( Lin { y } )) ) = [ x0,( s0 * v ) ] by A1,A2,CKB30:1;
A18: (( ( v0 |-- (W1,( Lin { y } )) ) `1 ) = x0 & ( ( v0 |-- (W1,( Lin { y } )) ) `2 ) = ( s0 * v )) by A17,MCART_1:7;
( ( t * v0 ) |-- (W1,( Lin { y } )) ) = [ ( t * x0 ),( ( t * s0 ) * v ) ] by A1,A2,A17,CKB32:1;
then (( ( ( t * v0 ) |-- (W1,( Lin { y } )) ) `1 ) = ( t * x0 ) & ( ( ( t * v0 ) |-- (W1,( Lin { y } )) ) `2 ) = ( ( t * s0 ) * v )) by MCART_1:7;
hence ( f . ( t * v0 ) ) = ( ( fi . ( t * x0 ) ) + ( ( t * s0 ) * r ) ) by A7
.= ( ( t * ( fi . x0 ) ) + ( ( t * s0 ) * r ) ) by HAHNBAN1:def 8
.= ( ( t * ( fi . x0 ) ) + ( t * ( s0 * r ) ) ) by GROUP_1:def 3
.= ( t * ( ( fi . x0 ) + ( s0 * r ) ) ) by VECTSP_1:def 2
.= ( t * ( f . v0 ) ) by A7,A18;
end;
then reconsider f as (linear-Functional of ( X + ( Lin { v } ) )) by A12;
take f;
A19: ( dom fi ) = (the carrier of X) by FUNCT_2:def 1;
(( dom f ) = (the carrier of ( X + ( Lin { v } ) )) & X is (Subspace of ( X + ( Lin { v } ) ))) by FUNCT_2:def 1,VECTSP_5:7;
then ( dom fi ) c= ( dom f ) by A19,VECTSP_4:def 2;
then ( dom fi ) = ( ( dom f ) /\ (the carrier of X) ) by A19,XBOOLE_1:28;
hence ( f | (the carrier of X) ) = fi by A8,FUNCT_1:46;
( ( y |-- (W1,( Lin { y } )) ) `2 ) = y by A10,MCART_1:7
.= ( ( 1_ K ) * v ) by A1,VECTSP_1:def 17;
hence ( f . y ) = ( ( fi . ( 0. X ) ) + ( ( 1_ K ) * r ) ) by A7,A11
.= ( ( 0. K ) + ( ( 1_ K ) * r ) ) by HAHNBAN1:def 9
.= ( ( 0. K ) + r ) by VECTSP_1:def 8
.= r by RLVECT_1:4;
end;
