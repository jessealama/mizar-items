environ
vocabularies NUMBERS,REAL_1,FINSEQ_1,XBOOLE_0,RLVECT_1,CONVEX1,SUBSET_1,BHSP_1,STRUCT_0,RELAT_1,FUNCT_1,PROB_2,XXREAL_0,CARD_1,ARYTM_3,ARYTM_1,RLVECT_2,TARSKI,CARD_3,NAT_1,VALUED_1,JORDAN3,PARTFUN1,ORDINAL4,FUNCT_2,RLSUB_1,RUSUB_4,CLASSES1,FINSET_1,CONVEX2;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,REAL_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,NAT_1,FINSEQ_1,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,RLSUB_1,RLSUB_2,FINSEQ_4,RLVECT_2,RVSUM_1,BHSP_1,RUSUB_4,CONVEX1,FINSEQ_6,CLASSES1;
definitions TARSKI,CONVEX1,FINSEQ_1,RVSUM_1;
theorems BHSP_1,RLVECT_1,RVSUM_1,FUNCT_1,FINSEQ_1,TARSKI,ZFMISC_1,XBOOLE_0,RUSUB_4,XBOOLE_1,RLVECT_2,CARD_1,FINSEQ_3,FINSEQ_4,ENUMSET1,CONVEX1,PARTFUN1,FINSEQ_6,RLSUB_2,FUNCT_2,NAT_1,FVSUM_1,RFINSEQ,FINSET_1,BAGORDER,INTEGRA5,XCMPLX_1,XREAL_1,XXREAL_0,FINSOP_1,STRUCT_0,VALUED_1,CLASSES1,RLVECT_4,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes NAT_1,XBOOLE_0,FINSEQ_1,CLASSES1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,NUMBERS,XXREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,RLVECT_1,RUSUB_4,CONVEX1,VALUED_0,RELSET_1,RLVECT_2;
constructors SETFAM_1,WELLORD2,DOMAIN_1,XXREAL_0,REAL_1,NAT_1,BINOP_2,PARTFUN1,FINSEQ_4,FINSOP_1,RFINSEQ,RLSUB_2,RUSUB_4,CONVEX1,MATRIX_2,FINSEQ_6,SEQ_1,RVSUM_1,CLASSES1,RELSET_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
Lm1: (for V being RealLinearSpace holds (for M being  convex (Subset of V) holds (for N being (Subset of V) holds (for L being (Linear_Combination of N) holds ((L is  convex & N c= M) implies ( Sum L ) in M)))))
proof
let V being RealLinearSpace;
let M being  convex (Subset of V);
let N being (Subset of V);
let L being (Linear_Combination of N);
assume that
A1: L is  convex
and
A2: N c= M;
consider F being (FinSequence of (the carrier of V)) such that A3: F is  one-to-one and A4: ( rng F ) = ( Carrier L ) and A5: (ex f being (FinSequence of ( REAL )) st ((( len f ) = ( len F ) & ( Sum f ) = 1) & (for n being Nat holds (n in ( dom f ) implies (( f . n ) = ( L . ( F . n ) ) & ( f . n ) >= ( 0 )))))) by A1,CONVEX1:def 3;
consider f being (FinSequence of ( REAL )) such that A6: ( len f ) = ( len F ) and A7: ( Sum f ) = 1 and A8: (for n being Nat holds (n in ( dom f ) implies (( f . n ) = ( L . ( F . n ) ) & ( f . n ) >= ( 0 )))) by A5;
(not ( Carrier L ),( {} ) are_equipotent ) by A1,CARD_1:26,CONVEX1:21;
then A9: ( card ( Carrier L ) ) <> ( card ( {} ) ) by CARD_1:5;
then reconsider i = ( len F ) as non  empty (Element of ( NAT )) by A3,A4,FINSEQ_4:62;
A10: ( len ( L (#) F ) ) = ( len F ) by RLVECT_2:def 7;
defpred P[ Nat ]
 means
( ( 1 / ( Sum ( mid (f,1,$1) ) ) ) * ( Sum ( mid (( L (#) F ),1,$1) ) ) ) in M;
A11: ( len ( L (#) F ) ) = ( len F ) by RLVECT_2:def 7;
A12: (for k being non  empty Nat holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being non  empty Nat;
A13: k >= 1 by NAT_1:14;
assume A14: ( ( 1 / ( Sum ( mid (f,1,k) ) ) ) * ( Sum ( mid (( L (#) F ),1,k) ) ) ) in M;
now
per cases ;
suppose A15: k >= ( len f );

A16: ( mid (( L (#) F ),1,( k + 1 )) ) = ( ( L (#) F ) | ( k + 1 ) ) by FINSEQ_6:116,NAT_1:12
.= ( L (#) F ) by A6,A11,A15,FINSEQ_1:58,NAT_1:12;
A17: ( mid (f,1,k) ) = ( f | k ) by FINSEQ_6:116,NAT_1:14
.= f by A15,FINSEQ_1:58;
A18: ( mid (f,1,( k + 1 )) ) = ( f | ( k + 1 ) ) by FINSEQ_6:116,NAT_1:12
.= f by A15,FINSEQ_1:58,NAT_1:12;
( mid (( L (#) F ),1,k) ) = ( ( L (#) F ) | k ) by FINSEQ_6:116,NAT_1:14
.= ( L (#) F ) by A6,A11,A15,FINSEQ_1:58;
hence thesis by A14,A17,A18,A16;
end;
suppose A19: k < ( len f );

( mid (f,1,k) ) = ( f | k ) by FINSEQ_6:116,NAT_1:14;
then A20: ( len ( mid (f,1,k) ) ) = k by A19,FINSEQ_1:59;
A21: (ex i being (Element of ( NAT )) st (i in ( dom ( mid (f,1,k) ) ) & ( 0 ) < ( ( mid (f,1,k) ) . i )))
proof
take 1;
1 <= ( len f ) by A19,NAT_1:14;
then A22: 1 in ( Seg ( len f ) );
then 1 in ( dom f ) by FINSEQ_1:def 3;
then A23: (( f . 1 ) = ( L . ( F . 1 ) ) & ( f . 1 ) >= ( 0 )) by A8;
1 in ( dom F ) by A6,A22,FINSEQ_1:def 3;
then ( F . 1 ) in ( Carrier L ) by A4,FUNCT_1:def 3;
then ( F . 1 ) in { v where v is (Element of V): ( L . v ) <> ( 0 ) } by RLVECT_2:def 4;
then A24: (ex v being (Element of V) st (v = ( F . 1 ) & ( L . v ) <> ( 0 )));
1 in ( Seg ( len ( mid (f,1,k) ) ) ) by A13,A20;
hence thesis by A13,A19,A23,A24,FINSEQ_1:def 3,FINSEQ_6:123;
end;
A25: (for i being Nat holds (i in ( dom <* ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) *> ) implies ( ( mid (f,1,( k + 1 )) ) . ( ( len ( mid (f,1,k) ) ) + i ) ) = ( <* ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) *> . i )))
proof
let i being Nat;
assume i in ( dom <* ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) *> );
then i in ( Seg 1 ) by FINSEQ_1:38;
then i = 1 by FINSEQ_1:2,TARSKI:def 1;
hence thesis by A20,FINSEQ_1:40;
end;
A26: ( mid (f,1,( k + 1 )) ) = ( f | ( k + 1 ) ) by FINSEQ_6:116,NAT_1:14;
set r1 = ( Sum ( mid (f,1,k) ) );
(for i being Nat holds (i in ( dom ( mid (f,1,k) ) ) implies ( 0 ) <= ( ( mid (f,1,k) ) . i )))
proof
let i being Nat;
assume i in ( dom ( mid (f,1,k) ) );
then A27: i in ( Seg k ) by A20,FINSEQ_1:def 3;
then A28: 1 <= i by FINSEQ_1:1;
A29: i <= k by A27,FINSEQ_1:1;
then i <= ( len f ) by A19,XXREAL_0:2;
then A30: i in ( dom f ) by A28,FINSEQ_3:25;
( ( mid (f,1,k) ) . i ) = ( f . i ) by A19,A28,A29,FINSEQ_6:123;
hence thesis by A8,A30;
end;
then A31: r1 > ( 0 ) by A21,RVSUM_1:85;
A32: ( k + 1 ) <= ( len f ) by A19,NAT_1:13;
then A33: ( len ( f | ( k + 1 ) ) ) = ( k + 1 ) by FINSEQ_1:59;
A34: (for i being Nat holds (i in ( dom ( mid (f,1,k) ) ) implies ( ( mid (f,1,( k + 1 )) ) . i ) = ( ( mid (f,1,k) ) . i )))
proof
let i being Nat;
A35: ( mid (f,1,k) ) = ( f | k ) by FINSEQ_6:116,NAT_1:14;
assume A36: i in ( dom ( mid (f,1,k) ) );
then A37: i in ( Seg ( len ( f | k ) ) ) by A35,FINSEQ_1:def 3;
( len ( f | k ) ) = k by A19,FINSEQ_1:59;
then i <= k by A37,FINSEQ_1:1;
then A38: i <= ( k + 1 ) by NAT_1:12;
( ( f | k ) . i ) = ( ( f | k ) /. i ) by A36,A35,PARTFUN1:def 6;
then A39: ( ( mid (f,1,k) ) . i ) = ( f /. i ) by A36,A35,FINSEQ_4:70;
(i in ( NAT ) & 1 <= i) by A37,FINSEQ_1:1;
then i in ( Seg ( k + 1 ) ) by A38;
then A40: i in ( dom ( f | ( k + 1 ) ) ) by A33,FINSEQ_1:def 3;
then ( ( f | ( k + 1 ) ) . i ) = ( ( f | ( k + 1 ) ) /. i ) by PARTFUN1:def 6;
hence thesis by A26,A39,A40,FINSEQ_4:70;
end;
A41: ( k + 1 ) >= 1 by NAT_1:14;
then A42: ( k + 1 ) in ( Seg ( len f ) ) by A32;
then A43: ( k + 1 ) in ( dom f ) by FINSEQ_1:def 3;
A44: ( k + 1 ) in ( dom F ) by A6,A42,FINSEQ_1:def 3;
( k + 1 ) in ( Seg ( k + 1 ) ) by A41;
then A45: ( k + 1 ) in ( dom ( f | ( k + 1 ) ) ) by A33,FINSEQ_1:def 3;
then ( ( f | ( k + 1 ) ) /. ( k + 1 ) ) = ( f /. ( k + 1 ) ) by FINSEQ_4:70;
then ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) = ( f /. ( k + 1 ) ) by A26,A45,PARTFUN1:def 6;
then ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) = ( f . ( k + 1 ) ) by A43,PARTFUN1:def 6
.= ( L . ( F . ( k + 1 ) ) ) by A8,A43;
then A46: ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) = ( L . ( F /. ( k + 1 ) ) ) by A44,PARTFUN1:def 6;
( mid (f,1,( k + 1 )) ) = ( f | ( k + 1 ) ) by FINSEQ_6:116,NAT_1:14;
then (( len <* ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) *> ) = 1 & ( len ( mid (f,1,( k + 1 )) ) ) = ( k + 1 )) by A32,FINSEQ_1:40,FINSEQ_1:59;
then ( dom ( mid (f,1,( k + 1 )) ) ) = ( Seg ( ( len ( mid (f,1,k) ) ) + ( len <* ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) *> ) ) ) by A20,FINSEQ_1:def 3;
then ( mid (f,1,( k + 1 )) ) = ( ( mid (f,1,k) ) ^ <* ( ( mid (f,1,( k + 1 )) ) . ( k + 1 ) ) *> ) by A34,A25,FINSEQ_1:def 7;
then A47: ( Sum ( mid (f,1,( k + 1 )) ) ) = ( ( Sum ( mid (f,1,k) ) ) + ( L . ( F /. ( k + 1 ) ) ) ) by A46,RVSUM_1:74;
A48: ( mid (( L (#) F ),1,( k + 1 )) ) = ( ( L (#) F ) | ( k + 1 ) ) by FINSEQ_6:116,NAT_1:14;
set w2 = ( F /. ( k + 1 ) );
set w1 = ( Sum ( mid (( L (#) F ),1,k) ) );
set r2 = ( L . ( F /. ( k + 1 ) ) );
A49: ( ( 1 / ( r1 + r2 ) ) * r1 ) = ( r1 / ( r1 + r2 ) ) by XCMPLX_1:99;
A50: (w2 in M & r2 > ( 0 ))
proof
( k + 1 ) in ( Seg ( len f ) ) by A41,A32;
then ( k + 1 ) in ( dom f ) by FINSEQ_1:def 3;
then A51: (( f . ( k + 1 ) ) = ( L . ( F . ( k + 1 ) ) ) & ( f . ( k + 1 ) ) >= ( 0 )) by A8;
( k + 1 ) in ( Seg ( len F ) ) by A6,A41,A32;
then A52: ( k + 1 ) in ( dom F ) by FINSEQ_1:def 3;
then w2 = ( F . ( k + 1 ) ) by PARTFUN1:def 6;
then A53: w2 in ( Carrier L ) by A4,A52,FUNCT_1:def 3;
( Carrier L ) c= N by RLVECT_2:def 6;
hence w2 in M by A2,A53,TARSKI:def 3;
w2 in { v where v is (Element of V): ( L . v ) <> ( 0 ) } by A53,RLVECT_2:def 4;
then (ex v being (Element of V) st (v = w2 & ( L . v ) <> ( 0 )));
hence thesis by A52,A51,PARTFUN1:def 6;
end;
then ( r1 + r2 ) > r1 by XREAL_1:29;
then A54: ( ( 1 / ( r1 + r2 ) ) * r1 ) < 1 by A31,A49,XREAL_1:189;
A55: ( r1 + r2 ) > ( ( 0 ) + (( 0 ) qua Nat) ) by A31,A50,XREAL_1:8;
then ( 1 / ( r1 + r2 ) ) > ( 0 ) by XREAL_1:139;
then A56: ( 0 ) < ( ( 1 / ( r1 + r2 ) ) * r1 ) by A31,XREAL_1:129;
( k + 1 ) <= ( len ( L (#) F ) ) by A6,A32,RLVECT_2:def 7;
then A57: ( k + 1 ) in ( dom ( L (#) F ) ) by A41,FINSEQ_3:25;
A58: k < ( len ( L (#) F ) ) by A6,A19,RLVECT_2:def 7;
then A59: ( k + 1 ) <= ( len ( L (#) F ) ) by NAT_1:13;
then A60: ( len ( ( L (#) F ) | ( k + 1 ) ) ) = ( k + 1 ) by FINSEQ_1:59;
A61: (for i being Nat holds (i in ( dom ( mid (( L (#) F ),1,k) ) ) implies ( ( mid (( L (#) F ),1,( k + 1 )) ) . i ) = ( ( mid (( L (#) F ),1,k) ) . i )))
proof
let i being Nat;
A62: ( mid (( L (#) F ),1,k) ) = ( ( L (#) F ) | k ) by FINSEQ_6:116,NAT_1:14;
assume A63: i in ( dom ( mid (( L (#) F ),1,k) ) );
then A64: i in ( Seg ( len ( ( L (#) F ) | k ) ) ) by A62,FINSEQ_1:def 3;
( len ( ( L (#) F ) | k ) ) = k by A58,FINSEQ_1:59;
then i <= k by A64,FINSEQ_1:1;
then A65: i <= ( k + 1 ) by NAT_1:12;
( ( ( L (#) F ) | k ) . i ) = ( ( ( L (#) F ) | k ) /. i ) by A63,A62,PARTFUN1:def 6;
then A66: ( ( mid (( L (#) F ),1,k) ) . i ) = ( ( L (#) F ) /. i ) by A63,A62,FINSEQ_4:70;
(i in ( NAT ) & 1 <= i) by A64,FINSEQ_1:1;
then i in ( Seg ( k + 1 ) ) by A65;
then A67: i in ( dom ( ( L (#) F ) | ( k + 1 ) ) ) by A60,FINSEQ_1:def 3;
then ( ( ( L (#) F ) | ( k + 1 ) ) . i ) = ( ( ( L (#) F ) | ( k + 1 ) ) /. i ) by PARTFUN1:def 6;
hence thesis by A48,A66,A67,FINSEQ_4:70;
end;
( k + 1 ) in ( Seg ( k + 1 ) ) by A41;
then A68: ( k + 1 ) in ( dom ( ( L (#) F ) | ( k + 1 ) ) ) by A60,FINSEQ_1:def 3;
then ( ( ( L (#) F ) | ( k + 1 ) ) /. ( k + 1 ) ) = ( ( L (#) F ) /. ( k + 1 ) ) by FINSEQ_4:70;
then ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) = ( ( L (#) F ) /. ( k + 1 ) ) by A48,A68,PARTFUN1:def 6;
then A69: ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) = ( ( L (#) F ) . ( k + 1 ) ) by A57,PARTFUN1:def 6
.= ( ( L . ( F /. ( k + 1 ) ) ) * ( F /. ( k + 1 ) ) ) by A57,RLVECT_2:def 7;
( mid (( L (#) F ),1,k) ) = ( ( L (#) F ) | k ) by FINSEQ_6:116,NAT_1:14;
then A70: ( len ( mid (( L (#) F ),1,k) ) ) = k by A58,FINSEQ_1:59;
A71: (for i being Nat holds (i in ( dom <* ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) *> ) implies ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( ( len ( mid (( L (#) F ),1,k) ) ) + i ) ) = ( <* ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) *> . i )))
proof
let i being Nat;
assume i in ( dom <* ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) *> );
then i in ( Seg 1 ) by FINSEQ_1:38;
then i = 1 by FINSEQ_1:2,TARSKI:def 1;
hence thesis by A70,FINSEQ_1:40;
end;
(( len <* ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) *> ) = 1 & ( len ( mid (( L (#) F ),1,( k + 1 )) ) ) = ( k + 1 )) by A59,A48,FINSEQ_1:40,FINSEQ_1:59;
then ( dom ( mid (( L (#) F ),1,( k + 1 )) ) ) = ( Seg ( ( len ( mid (( L (#) F ),1,k) ) ) + ( len <* ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) *> ) ) ) by A70,FINSEQ_1:def 3;
then ( mid (( L (#) F ),1,( k + 1 )) ) = ( ( mid (( L (#) F ),1,k) ) ^ <* ( ( mid (( L (#) F ),1,( k + 1 )) ) . ( k + 1 ) ) *> ) by A61,A71,FINSEQ_1:def 7;
then A72: ( ( 1 / ( Sum ( mid (f,1,( k + 1 )) ) ) ) * ( Sum ( mid (( L (#) F ),1,( k + 1 )) ) ) ) = ( ( 1 / ( r1 + r2 ) ) * ( w1 + ( r2 * w2 ) ) ) by A47,A69,FVSUM_1:71
.= ( ( 1 / ( r1 + r2 ) ) * ( ( 1 * w1 ) + ( r2 * w2 ) ) ) by RLVECT_1:def 8
.= ( ( 1 / ( r1 + r2 ) ) * ( ( ( r1 * ( 1 / r1 ) ) * w1 ) + ( r2 * w2 ) ) ) by A31,XCMPLX_1:106
.= ( ( 1 / ( r1 + r2 ) ) * ( ( r1 * ( ( 1 / r1 ) * w1 ) ) + ( r2 * w2 ) ) ) by RLVECT_1:def 7
.= ( ( ( 1 / ( r1 + r2 ) ) * ( r1 * ( ( 1 / r1 ) * w1 ) ) ) + ( ( 1 / ( r1 + r2 ) ) * ( r2 * w2 ) ) ) by RLVECT_1:def 5
.= ( ( ( ( 1 / ( r1 + r2 ) ) * r1 ) * ( ( 1 / r1 ) * w1 ) ) + ( ( 1 / ( r1 + r2 ) ) * ( r2 * w2 ) ) ) by RLVECT_1:def 7
.= ( ( ( ( 1 / ( r1 + r2 ) ) * r1 ) * ( ( 1 / r1 ) * w1 ) ) + ( ( ( 1 / ( r1 + r2 ) ) * r2 ) * w2 ) ) by RLVECT_1:def 7;
( 1 - ( ( 1 / ( r1 + r2 ) ) * r1 ) ) = ( ( ( r1 + r2 ) * ( 1 / ( r1 + r2 ) ) ) - ( ( 1 / ( r1 + r2 ) ) * r1 ) ) by A55,XCMPLX_1:106
.= ( ( ( r1 + r2 ) - r1 ) * ( 1 / ( r1 + r2 ) ) );
hence thesis by A14,A50,A56,A54,A72,CONVEX1:def 2;
end;
end;
hence thesis;
end;
( len F ) > ( 0 ) by A3,A4,A9,CARD_1:27,FINSEQ_4:62;
then A73: ( len F ) >= ( ( 0 ) + 1 ) by NAT_1:13;
A74: P[ 1 ]
proof
( mid (f,1,1) ) = ( f | 1 ) by FINSEQ_6:116;
then A75: ( len ( mid (f,1,1) ) ) = 1 by A6,A73,FINSEQ_1:59;
then 1 in ( dom ( mid (f,1,1) ) ) by FINSEQ_3:25;
then reconsider m = ( ( mid (f,1,1) ) . 1 ) as (Element of ( REAL )) by PARTFUN1:4;
( mid (f,1,1) ) = <* ( ( mid (f,1,1) ) . 1 ) *> by A75,FINSEQ_1:40;
then A76: ( Sum ( mid (f,1,1) ) ) = m by FINSOP_1:11;
( Carrier L ) c= N by RLVECT_2:def 6;
then A77: ( Carrier L ) c= M by A2,XBOOLE_1:1;
( mid (( L (#) F ),1,1) ) = ( ( L (#) F ) | 1 ) by FINSEQ_6:116;
then ( len ( mid (( L (#) F ),1,1) ) ) = 1 by A73,A11,FINSEQ_1:59;
then A78: ( mid (( L (#) F ),1,1) ) = <* ( ( mid (( L (#) F ),1,1) ) . 1 ) *> by FINSEQ_1:40;
A79: 1 in ( Seg ( len ( L (#) F ) ) ) by A73,A11;
then A80: 1 in ( dom F ) by A11,FINSEQ_1:def 3;
then A81: ( F /. 1 ) = ( F . 1 ) by PARTFUN1:def 6;
A82: 1 in ( dom ( L (#) F ) ) by A79,FINSEQ_1:def 3;
A83: ( F . 1 ) in ( rng F ) by A80,FUNCT_1:def 3;
then ( F . 1 ) in { v where v is (Element of V): ( L . v ) <> ( 0 ) } by A4,RLVECT_2:def 4;
then A84: (ex v2 being (Element of V) st (( F . 1 ) = v2 & ( L . v2 ) <> ( 0 )));
1 in ( dom f ) by A6,A11,A79,FINSEQ_1:def 3;
then ( f . 1 ) = ( L . ( F . 1 ) ) by A8
.= ( L . ( F /. 1 ) ) by A80,PARTFUN1:def 6;
then A85: ( Sum ( mid (f,1,1) ) ) = ( L . ( F /. 1 ) ) by A6,A73,A76,FINSEQ_6:123;
( ( mid (( L (#) F ),1,1) ) . 1 ) = ( ( L (#) F ) . 1 ) by A73,A11,FINSEQ_6:123
.= ( ( L . ( F /. 1 ) ) * ( F /. 1 ) ) by A82,RLVECT_2:def 7;
then ( ( 1 / ( Sum ( mid (f,1,1) ) ) ) * ( Sum ( mid (( L (#) F ),1,1) ) ) ) = ( ( 1 / ( Sum ( mid (f,1,1) ) ) ) * ( ( L . ( F /. 1 ) ) * ( F /. 1 ) ) ) by A78,RLVECT_1:44
.= ( ( ( 1 / ( Sum ( mid (f,1,1) ) ) ) * ( L . ( F /. 1 ) ) ) * ( F /. 1 ) ) by RLVECT_1:def 7
.= ( 1 * ( F /. 1 ) ) by A81,A85,A84,XCMPLX_1:106
.= ( F /. 1 ) by RLVECT_1:def 8;
hence thesis by A4,A81,A83,A77;
end;
(for k being non  empty Nat holds P[ k ]) from NAT_1:sch 10(A74,A12);
then A86: ( ( 1 / ( Sum ( mid (f,1,i) ) ) ) * ( Sum ( mid (( L (#) F ),1,i) ) ) ) in M;
( Sum ( mid (f,1,( len f )) ) ) = 1 by A6,A7,A73,FINSEQ_6:120;
then ( ( 1 / ( Sum ( mid (f,1,( len f )) ) ) ) * ( Sum ( mid (( L (#) F ),1,( len ( L (#) F ) )) ) ) ) = ( Sum ( mid (( L (#) F ),1,( len ( L (#) F ) )) ) ) by RLVECT_1:def 8
.= ( Sum ( L (#) F ) ) by A73,A10,FINSEQ_6:120;
hence thesis by A3,A4,A6,A86,A10,RLVECT_2:def 8;
end;
