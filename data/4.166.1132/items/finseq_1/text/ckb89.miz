environ
vocabularies NUMBERS,NAT_1,FUNCT_1,SUBSET_1,XXREAL_0,TARSKI,XCMPLX_0,XBOOLE_0,CARD_1,ARYTM_3,RELAT_1,FINSET_1,ZFMISC_1,ORDINAL1,PARTFUN1,FUNCOP_1,ORDINAL4,ARYTM_1,REAL_1,FINSEQ_1,ORDINAL2,VALUED_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,XCMPLX_0,RELAT_1,FUNCT_1,FUNCOP_1,WELLORD2,ORDINAL1,REAL_1,NAT_1,CARD_1,NUMBERS,PARTFUN1,FINSET_1,XXREAL_0,FUNCT_2,INT_1,VALUED_0,CKB1,CKB2,CKB15,CKB17,CKB23,CKB24,CKB25,CKB35,CKB40,CKB45,CKB46,CKB49,CKB65,CKB67,CKB71,CKB72,CKB87;
definitions TARSKI,FINSET_1,FUNCT_1,WELLORD2,XBOOLE_0,RELAT_1,CARD_1,CKB1,CKB15,CKB24,CKB35,CKB45,CKB46,CKB49,CKB67,CKB71,CKB72;
theorems TARSKI,AXIOMS,FUNCT_1,NAT_1,ZFMISC_1,RELAT_1,RELSET_1,WELLORD2,ORDINAL1,CARD_1,FINSET_1,XBOOLE_0,XBOOLE_1,FUNCOP_1,XREAL_1,XXREAL_0,SETFAM_1,ORDINAL3,SUBSET_1,VALUED_0,CKB1,CKB3,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB20,CKB21,CKB24,CKB26,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB37,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB66,CKB67,CKB70,CKB71,CKB72,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86;
schemes FUNCT_1,SUBSET_1,NAT_1,XBOOLE_0,RELAT_1,CLASSES1,CKB27,CKB28,CKB88;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,CARD_1,NUMBERS,RELSET_1,INT_1,XCMPLX_0,VALUED_0,CKB4,CKB7,CKB16,CKB18,CKB19,CKB22,CKB36,CKB38,CKB39,CKB47,CKB48,CKB68,CKB69,CKB73,CKB74,CKB75,CKB76;
constructors WELLORD2,FUNCOP_1,FUNCT_4,XXREAL_0,XREAL_0,NAT_1,CARD_1,RELSET_1,XCMPLX_0,INT_1,VALUED_0,CKB1,CKB2,CKB15,CKB24,CKB25,CKB35,CKB40,CKB45,CKB46,CKB49,CKB65,CKB67,CKB71,CKB72,CKB87;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for Nat;
reserve x for set;
reserve p for FinSequence;
reserve q for FinSequence;
reserve r for FinSequence;
reserve s for FinSequence;
reserve t for FinSequence;
theorem
(for p,q,r,s being FinSequence holds ((( p ^ q ) = ( r ^ s ) & ( len p ) <= ( len r )) implies (ex t being FinSequence st ( p ^ t ) = r)))
proof
defpred S[ FinSequence ]
 means
(for p holds (for q holds (for s holds ((( p ^ q ) = ( $1 ^ s ) & ( len p ) <= ( len $1 )) implies (ex t st ( p ^ t ) = $1)))));
A1: S[ ( {} ) ]
proof
let p;
let q;
let s;
assume that
( p ^ q ) = ( ( {} ) ^ s )
and
A2: ( len p ) <= ( len ( {} ) );
take ( {} );
thus ( p ^ ( {} ) ) = p by CKB63:1
.= ( {} ) by A2;
end;
A3: (for r holds (for x holds (S[ r ] implies S[ ( r ^ <* x *> ) ])))
proof
let r;
let x;
assume A4: (for p holds (for q holds (for s holds ((( p ^ q ) = ( r ^ s ) & ( len p ) <= ( len r )) implies (ex t st ( p ^ t ) = r)))));
let p;
let q;
let s;
assume that
A5: ( p ^ q ) = ( ( r ^ <* x *> ) ^ s )
and
A6: ( len p ) <= ( len ( r ^ <* x *> ) );
A7:now
assume ( len p ) = ( len ( r ^ <* x *> ) );
then A8: ( dom p ) = ( Seg ( len ( r ^ <* x *> ) ) ) by CKB24:def 1
.= ( dom ( r ^ <* x *> ) ) by CKB24:def 1;
A9: (for k holds (k in ( dom p ) implies ( p . k ) = ( ( r ^ <* x *> ) . k )))
proof
let k;
assume A10: k in ( dom p );
hence ( p . k ) = ( ( ( r ^ <* x *> ) ^ s ) . k ) by A5,CKB49:def 1
.= ( ( r ^ <* x *> ) . k ) by A8,A10,CKB49:def 1;
end;
( p ^ ( {} ) ) = p by CKB63:1
.= ( r ^ <* x *> ) by A8,A9,CKB30:1;
hence thesis;
end;
now
assume ( len p ) <> ( len ( r ^ <* x *> ) );
then ( len p ) <> ( ( len r ) + ( len <* x *> ) ) by CKB51:1;
then A11: ( len p ) <> ( ( len r ) + 1 ) by CKB79:1;
( len p ) <= ( ( len r ) + ( len <* x *> ) ) by A6,CKB51:1;
then A12: ( len p ) <= ( ( len r ) + 1 ) by CKB79:1;
( p ^ q ) = ( r ^ ( <* x *> ^ s ) ) by A5,CKB61:1;
then consider t being FinSequence such that A13: ( p ^ t ) = r by A4,A11,A12,NAT_1:8;
( p ^ ( t ^ <* x *> ) ) = ( r ^ <* x *> ) by A13,CKB61:1;
hence thesis;
end;
hence thesis by A7;
end;
(for r holds S[ r ]) from CKB88:sch 1(A1,A3);
hence thesis;
end;
