environ
vocabularies NUMBERS,NAT_1,FUNCT_1,SUBSET_1,XXREAL_0,TARSKI,XCMPLX_0,XBOOLE_0,CARD_1,ARYTM_3,RELAT_1,FINSET_1,ZFMISC_1,ORDINAL1,PARTFUN1,FUNCOP_1,ORDINAL4,ARYTM_1,REAL_1,FINSEQ_1,ORDINAL2,VALUED_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,XCMPLX_0,RELAT_1,FUNCT_1,FUNCOP_1,WELLORD2,ORDINAL1,REAL_1,NAT_1,CARD_1,NUMBERS,PARTFUN1,FINSET_1,XXREAL_0,FUNCT_2,INT_1,VALUED_0,CKB1,CKB2,CKB15,CKB17,CKB23;
definitions TARSKI,FINSET_1,FUNCT_1,WELLORD2,XBOOLE_0,RELAT_1,CARD_1,CKB1,CKB15;
theorems TARSKI,AXIOMS,FUNCT_1,NAT_1,ZFMISC_1,RELAT_1,RELSET_1,WELLORD2,ORDINAL1,CARD_1,FINSET_1,XBOOLE_0,XBOOLE_1,FUNCOP_1,XREAL_1,XXREAL_0,SETFAM_1,ORDINAL3,SUBSET_1,VALUED_0,CKB1,CKB3,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB20,CKB21;
schemes FUNCT_1,SUBSET_1,NAT_1,XBOOLE_0,RELAT_1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,CARD_1,NUMBERS,RELSET_1,INT_1,XCMPLX_0,VALUED_0,CKB4,CKB7,CKB16,CKB18,CKB19,CKB22;
constructors WELLORD2,FUNCOP_1,FUNCT_4,XXREAL_0,XREAL_0,NAT_1,CARD_1,RELSET_1,XCMPLX_0,INT_1,VALUED_0,CKB1,CKB2,CKB15;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for Nat;
reserve n for Nat;
reserve i for Nat;
reserve x for set;
reserve y for set;
reserve g for Function;
reserve p for FinSequence;
definition
let p;
redefine func len p -> (Element of ( NAT )) means 
:Def3: ( Seg it ) = ( dom p );
coherence
proof
( card p ) = ( card p );
hence thesis;
end;
compatibility
proof
let k being (Element of ( NAT ));
consider n such that A1: ( dom p ) = ( Seg n ) by CKB15:def 1;
( dom p ),p are_equipotent 
proof
deffunc F(set) = [ $1,( p . $1 ) ];
consider g being Function such that A2: ( dom g ) = ( dom p ) and A3: (for x holds (x in ( dom p ) implies ( g . x ) = F(x))) from FUNCT_1:sch 3;
take g;
thus g is  one-to-one
proof
let x;
let y;
assume that
A4: x in ( dom g )
and
A5: y in ( dom g );
assume ( g . x ) = ( g . y );
then [ x,( p . x ) ] = ( g . y ) by A2,A3,A4
.= [ y,( p . y ) ] by A2,A3,A5;
hence thesis by ZFMISC_1:27;
end;

thus ( dom g ) = ( dom p ) by A2;
thus ( rng g ) c= p
proof
let i being set;
assume i in ( rng g );
then consider x such that A6: x in ( dom g ) and A7: ( g . x ) = i by FUNCT_1:def 3;
( g . x ) = [ x,( p . x ) ] by A2,A3,A6;
hence thesis by A2,A6,A7,FUNCT_1:1;
end;

let x being set;
let y being set;
assume A8: [ x,y ] in p;
then A9: x in ( dom p ) by FUNCT_1:1;
y = ( p . x ) by A8,FUNCT_1:1;
then ( g . x ) = [ x,y ] by A3,A9;
hence thesis by A2,A9,FUNCT_1:def 3;
end;
then A10: ( card p ) = ( card ( dom p ) ) by CARD_1:5;
thus (k = ( card p ) implies ( Seg k ) = ( dom p ))
proof
assume k = ( card p );
then k = ( card n ) by A1,A10,CKB21:1;
hence thesis by A1,CARD_1:def 2;
end;

assume A11: ( Seg k ) = ( dom p );
thus k = ( card k ) by CARD_1:def 2
.= ( card p ) by A10,A11,CKB21:1;
end;
end;
