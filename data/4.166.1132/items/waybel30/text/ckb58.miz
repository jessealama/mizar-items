environ
vocabularies XBOOLE_0,TARSKI,SUBSET_1,RELAT_2,ORDERS_2,WAYBEL_0,YELLOW_1,CARD_FIL,STRUCT_0,ZFMISC_1,XXREAL_0,LATTICE3,ORDINAL2,YELLOW_0,LATTICES,WAYBEL_2,YELLOW_9,WAYBEL11,REWRITE1,WAYBEL_9,PRE_TOPC,PROB_1,WAYBEL19,PRELAMB,ORDINAL1,SETFAM_1,CANTOR_1,DIRAF,RCOMP_1,FINSET_1,RLVECT_3,COMPTS_1,YELLOW_8,TOPS_1,WAYBEL29,YELLOW13,FUNCT_1,WAYBEL21,RELAT_1,PARTFUN1,MCART_1,TOPS_2,WAYBEL_3,TDLAT_3,CONNSP_2,EQREL_1,WAYBEL_8,WAYBEL_6,WAYBEL30,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,BINOP_1,FUNCT_3,SETFAM_1,DOMAIN_1,CARD_1,STRUCT_0,FINSET_1,ORDERS_2,PRE_TOPC,TOPS_1,TOPS_2,COMPTS_1,CONNSP_2,TDLAT_3,LATTICE3,BORSUK_1,CANTOR_1,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_1,YELLOW_3,YELLOW_4,WAYBEL_2,WAYBEL_3,YELLOW_8,WAYBEL_6,WAYBEL_8,WAYBEL_9,WAYBEL11,YELLOW_9,WAYBEL19,WAYBEL21,YELLOW13,WAYBEL29,CKB38,CKB49,CKB50,CKB51;
definitions TARSKI,PRE_TOPC,LATTICE3,YELLOW_0,WAYBEL_0,WAYBEL_2,WAYBEL_3,YELLOW_8,WAYBEL19,WAYBEL11,YELLOW13,XBOOLE_0,BINOP_1,STRUCT_0,TOPS_2,CKB38,CKB49,CKB50,CKB51;
theorems TARSKI,PRE_TOPC,ORDERS_2,TOPS_1,TOPS_2,BORSUK_1,CONNSP_2,TDLAT_3,COMPTS_1,LATTICE3,RELAT_1,ZFMISC_1,FUNCT_1,FUNCT_2,FUNCT_3,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_3,YELLOW_4,YELLOW_8,WAYBEL_0,WAYBEL_2,WAYBEL_3,WAYBEL_8,YELLOW13,WAYBEL11,WAYBEL12,WAYBEL14,YELLOW_9,WAYBEL19,YELLOW12,WAYBEL21,WAYBEL29,SETFAM_1,XBOOLE_0,XBOOLE_1,STRUCT_0,CKB1,CKB2,CKB4,CKB5,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB19,CKB25,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB36,CKB37,CKB38,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB49,CKB50,CKB51,CKB57;
schemes SUBSET_1,FINSET_1,DOMAIN_1,CKB24;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,STRUCT_0,TOPS_1,BORSUK_1,LATTICE3,YELLOW_0,TEX_1,WAYBEL_0,YELLOW_1,YELLOW_2,YELLOW_3,YELLOW_4,WAYBEL_2,WAYBEL_3,WAYBEL_4,YELLOW_6,WAYBEL_8,WAYBEL10,WAYBEL11,WAYBEL14,YELLOW_9,YELLOW12,WAYBEL19,YELLOW13,PRE_TOPC,CARD_1,ORDINAL1,CKB3,CKB6,CKB7,CKB11,CKB12,CKB13,CKB14,CKB20,CKB21,CKB22,CKB23,CKB26,CKB35,CKB39,CKB47,CKB48,CKB52,CKB53,CKB54,CKB55,CKB56;
constructors SETFAM_1,TOPS_1,TOPS_2,TDLAT_3,CANTOR_1,ORDERS_3,WAYBEL_1,YELLOW_4,WAYBEL_6,WAYBEL_8,YELLOW_8,WAYBEL19,WAYBEL21,YELLOW13,WAYBEL29,COMPTS_1,WAYBEL_2,TEX_1,WAYBEL_4,CKB38,CKB49,CKB50,CKB51;
requirements BOOLE,SUBSET,NUMERALS;
begin
theorem
Th32: (for N being  meet-continuous  Lawson  complete TopLattice holds (for S being  Scott (TopAugmentation of N) holds ((for x being (Point of S) holds (ex J being (Basis of x) st (for W being (Subset of S) holds (W in J implies W is (Filter of S))))) iff N is  with_open_semilattices)))
proof
let N being  meet-continuous  Lawson  complete TopLattice;
let S being  Scott (TopAugmentation of N);
A1: ( the RelStr of N ) = ( the RelStr of S ) by YELLOW_9:def 4;
hereby
assume A2: (for x being (Point of S) holds (ex J being (Basis of x) st (for W being (Subset of S) holds (W in J implies W is (Filter of S)))));
thus N is  with_open_semilattices
proof
let x being (Point of N);
defpred P[ set ]
 means
(ex U1 being (Filter of N) st (ex F being  finite (Subset of N) st (ex W1 being (Subset of N) st ((($1 = W1 & ( U1 \ ( uparrow F ) ) = $1) & x in $1) & W1 is  open))));
consider SF being (Subset-Family of N) such that A3: (for W being (Subset of N) holds (W in SF iff P[ W ])) from SUBSET_1:sch 3;
reconsider SF as (Subset-Family of N);
A4:now
reconsider BL = { ( O \ ( uparrow F ) ) where O is (Subset of N),F is (Subset of N): (O in ( sigma N ) & F is  finite) } as (Basis of N) by WAYBEL19:32;
A5: BL c= (the topology of N) by TOPS_2:64;
reconsider y = x as (Point of S) by A1;
let W being (Subset of N);
assume that
A6: W is  open
and
A7: x in W;
consider By being (Basis of y) such that A8: (for A being (Subset of S) holds (A in By implies A is (Filter of S))) by A2;
W = ( union { G where G is (Subset of N): (G in BL & G c= W) } ) by A6,YELLOW_8:9;
then consider K being set such that A9: x in K and A10: K in { G where G is (Subset of N): (G in BL & G c= W) } by A7,TARSKI:def 4;
consider G being (Subset of N) such that A11: K = G and A12: G in BL and A13: G c= W by A10;
consider V,F being (Subset of N) such that A14: G = ( V \ ( uparrow F ) ) and A15: V in ( sigma N ) and A16: F is  finite by A12;
reconsider F as  finite (Subset of N) by A16;
A17: (not x in ( uparrow F )) by A9,A11,A14,XBOOLE_0:def 5;
reconsider V as (Subset of S) by A1;
A18: y in V by A9,A11,A14,XBOOLE_0:def 5;
A19: ( sigma N ) = ( sigma S ) by A1,YELLOW_9:52;
then V is  open by A15,WAYBEL14:24;
then consider U1 being (Subset of S) such that A20: U1 in By and A21: U1 c= V by A18,YELLOW_8:13;
reconsider U2 = U1 as (Subset of N) by A1;
U1 is (Filter of S) by A8,A20;
then reconsider U2 as (Filter of N) by A1,WAYBEL_0:4,WAYBEL_0:25;
( U2 \ ( uparrow F ) ) is (Subset of N);
then reconsider IT = ( U1 \ ( uparrow F ) ) as (Subset of N);
take U2;
take F;
take IT;
thus IT = ( U2 \ ( uparrow F ) );
y in U1 by A20,YELLOW_8:12;
hence x in IT by A17,XBOOLE_0:def 5;
U1 is  open by A20,YELLOW_8:12;
then U1 in ( sigma S ) by WAYBEL14:24;
then IT in BL by A19;
hence IT is  open by A5,PRE_TOPC:def 2;
IT c= G by A14,A21,XBOOLE_1:33;
hence IT c= W by A13,XBOOLE_1:1;
end;
SF is (Basis of x)
proof
A22: SF is  open
proof
let a being (Subset of N);
assume A23: a in SF;
reconsider W = a as (Subset of N);
(ex U1 being (Filter of N) st (ex F being  finite (Subset of N) st (ex W1 being (Subset of N) st (((W1 = W & ( U1 \ ( uparrow F ) ) = W) & x in W) & W1 is  open)))) by A3,A23;
hence thesis;
end;
SF is x -quasi_basis
proof
(for a being set holds (a in SF implies x in a))
proof
let a being set;
assume A24: a in SF;
then reconsider W = a as (Subset of N);
(ex U1 being (Filter of N) st (ex F being  finite (Subset of N) st (ex W1 being (Subset of N) st (((W1 = W & ( U1 \ ( uparrow F ) ) = W) & x in W) & W1 is  open)))) by A3,A24;
hence thesis;
end;
hence x in ( Intersect SF ) by SETFAM_1:43;
let W being (Subset of N);
assume that
A25: W is  open
and
A26: x in W;
consider U2 being (Filter of N),F being  finite (Subset of N),IT being (Subset of N) such that A27: IT = ( U2 \ ( uparrow F ) ) and A28: x in IT and A29: IT is  open and A30: IT c= W by A25,A26,A4;
take IT;
thus thesis by A3,A27,A28,A29,A30;
end;
hence thesis by A22;
end;
then reconsider SF as (Basis of x);
take SF;
let W being (Subset of N);
assume W in SF;
then consider U1 being (Filter of N),F being  finite (Subset of N),W1 being (Subset of N) such that W1 = W and A31: ( U1 \ ( uparrow F ) ) = W and x in W and W1 is  open by A3;
set SW = ( subrelstr W );
thus SW is  meet-inheriting
proof
let a being (Element of N);
let b being (Element of N);
assume that
A32: a in (the carrier of SW)
and
A33: b in (the carrier of SW)
and
 ex_inf_of { a,b },N;
A34: (the carrier of SW) = W by YELLOW_0:def 15;
then A35: b in U1 by A31,A33,XBOOLE_0:def 5;
A36: (not a in ( uparrow F )) by A34,A31,A32,XBOOLE_0:def 5;
(for y being (Element of N) holds (y <= ( a "/\" b ) implies (not y in F)))
proof
A37: ( a "/\" b ) <= a by YELLOW_0:23;
let y being (Element of N);
assume y <= ( a "/\" b );
then y <= a by A37,ORDERS_2:3;
hence thesis by A36,WAYBEL_0:def 16;
end;
then A38: (not ( a "/\" b ) in ( uparrow F )) by WAYBEL_0:def 16;
a in U1 by A34,A31,A32,XBOOLE_0:def 5;
then consider z being (Element of N) such that A39: z in U1 and A40: z <= a and A41: z <= b by A35,WAYBEL_0:def 2;
( z "/\" z ) <= ( a "/\" b ) by A40,A41,YELLOW_3:2;
then z <= ( a "/\" b ) by YELLOW_0:25;
then ( a "/\" b ) in U1 by A39,WAYBEL_0:def 20;
then ( a "/\" b ) in W by A38,A31,XBOOLE_0:def 5;
hence thesis by A34,YELLOW_0:40;
end;

end;

end;
assume A42: N is  with_open_semilattices;
let x being (Point of S);
reconsider y = x as (Point of N) by A1;
consider J being (Basis of y) such that A43: (for A being (Subset of N) holds (A in J implies ( subrelstr A ) is  meet-inheriting)) by A42,CKB51:def 1;
reconsider J9 = { ( uparrow A ) where A is (Subset of N): A in J } as (Basis of x) by CKB29:1;
take J9;
let W being (Subset of S);
assume W in J9;
then consider V being (Subset of N) such that A44: W = ( uparrow V ) and A45: V in J;
( subrelstr V ) is  meet-inheriting by A43,A45;
then A46: V is  filtered by YELLOW12:26;
x in V by A45,YELLOW_8:12;
hence thesis by A46,A1,A44,WAYBEL_0:4,WAYBEL_0:25;
end;
