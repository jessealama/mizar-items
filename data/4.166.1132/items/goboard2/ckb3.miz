environ
vocabularies NUMBERS,PRE_TOPC,EUCLID,FINSEQ_1,REAL_1,SUBSET_1,GOBOARD1,NAT_1,XBOOLE_0,CARD_1,ARYTM_3,XXREAL_0,TARSKI,ARYTM_1,RELAT_1,ORDINAL4,PARTFUN1,FUNCT_1,RLTOPSP1,TOPREAL1,MCART_1,MATRIX_1,INCSP_1,ZFMISC_1,TREES_1,ORDINAL2,COMPLEX1,STRUCT_0,GOBOARD2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,SEQ_1,VALUED_0,STRUCT_0,PRE_TOPC,SEQ_4,MATRIX_1,RLTOPSP1,EUCLID,TOPREAL1,GOBOARD1,XXREAL_0;
definitions TARSKI,TOPREAL1,GOBOARD1,XBOOLE_0;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,ABSVALUE,SEQ_4,FINSEQ_2,MATRIX_1,EUCLID,TOPREAL1,TOPREAL3,GOBOARD1,FINSEQ_4,FINSEQ_3,PARTFUN2,INT_1,XBOOLE_0,XBOOLE_1,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,PARTFUN1,SEQM_3,RLTOPSP1,CKB1,CKB2;
schemes NAT_1,MATRIX_1,FINSEQ_4;
registrations RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,EUCLID,GOBOARD1,VALUED_0,CARD_1,XXREAL_2,RELAT_1,FUNCT_1,SEQM_3,SEQ_4;
constructors PARTFUN1,SQUARE_1,NAT_1,COMPLEX1,SEQ_4,TOPREAL1,GOBOARD1,SEQ_1,XXREAL_2,SEQM_3,RELSET_1,DOMAIN_1,BINOP_2,RVSUM_1;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve f for (FinSequence of ( TOP-REAL 2 ));
reserve n for (Element of ( NAT ));
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve x for set;
theorem
Th8: ((k <> ( 0 ) & ( len f ) = ( k + 1 )) implies ( L~ f ) = ( ( L~ ( f | k ) ) \/ ( LSeg (f,k) ) ))
proof
assume that
A1: k <> ( 0 )
and
A2: ( len f ) = ( k + 1 );
A3: ( ( 0 ) + 1 ) <= k by A1,NAT_1:13;
set f1 = ( f | k );
set lf = { ( LSeg (f,i) ): (1 <= i & ( i + 1 ) <= ( len f )) };
set l1 = { ( LSeg (f1,j) ): (1 <= j & ( j + 1 ) <= ( len f1 )) };
k <= ( len f ) by A2,NAT_1:13;
then A4: ( len ( f | k ) ) = k by FINSEQ_1:59;
thus ( L~ f ) c= ( ( L~ ( f | k ) ) \/ ( LSeg (f,k) ) )
proof
let x;
assume x in ( L~ f );
then consider X being set such that A5: x in X and A6: X in lf by TARSKI:def 4;
consider n such that A7: X = ( LSeg (f,n) ) and A8: 1 <= n and A9: ( n + 1 ) <= ( len f ) by A6;
now
per cases ;
suppose ( n + 1 ) = ( len f );

hence thesis by A2,A5,A7,XBOOLE_0:def 3;
end;
suppose A10: ( n + 1 ) <> ( len f );

A11: 1 <= ( n + 1 ) by A8,NAT_1:13;
n <= k by A2,A9,XREAL_1:6;
then A12: n in ( dom f1 ) by A4,A8,FINSEQ_3:25;
A13: ( n + 1 ) < ( len f ) by A9,A10,XXREAL_0:1;
then ( n + 1 ) <= k by A2,NAT_1:13;
then ( n + 1 ) in ( dom f1 ) by A4,A11,FINSEQ_3:25;
then A14: X = ( LSeg (f1,n) ) by A7,A12,TOPREAL3:17;
( n + 1 ) <= k by A2,A13,NAT_1:13;
then X in l1 by A4,A8,A14;
then x in ( union l1 ) by A5,TARSKI:def 4;
hence thesis by XBOOLE_0:def 3;
end;
end;
hence thesis;
end;

A15: k <= ( k + 1 ) by NAT_1:11;
let x;
assume that
A16: x in ( ( L~ f1 ) \/ ( LSeg (f,k) ) );
now
per cases  by A16,XBOOLE_0:def 3;
suppose x in ( L~ f1 );

then consider X being set such that A17: x in X and A18: X in l1 by TARSKI:def 4;
consider n such that A19: X = ( LSeg (f1,n) ) and A20: 1 <= n and A21: ( n + 1 ) <= ( len f1 ) by A18;
n <= ( n + 1 ) by NAT_1:11;
then n <= ( len f1 ) by A21,XXREAL_0:2;
then A22: n in ( dom f1 ) by A20,FINSEQ_3:25;
1 <= ( n + 1 ) by NAT_1:11;
then ( n + 1 ) in ( dom f1 ) by A21,FINSEQ_3:25;
then A23: X = ( LSeg (f,n) ) by A19,A22,TOPREAL3:17;
( n + 1 ) <= ( len f ) by A2,A15,A4,A21,XXREAL_0:2;
then X in lf by A20,A23;
hence thesis by A17,TARSKI:def 4;
end;
suppose A24: x in ( LSeg (f,k) );

( LSeg (f,k) ) in lf by A2,A3;
hence thesis by A24,TARSKI:def 4;
end;
end;
hence thesis;
end;
