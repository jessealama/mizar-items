environ
vocabularies NUMBERS,XREAL_0,ORDINAL1,NAT_1,INT_1,RAT_1,NEWTON,RELAT_1,ARYTM_1,ARYTM_3,XXREAL_0,CARD_1,PREPOWER,INT_2,COMPLEX1,SUBSET_1,FINSEQ_1,FUNCT_1,XBOOLE_0,ORDINAL4,TARSKI,VALUED_0,CARD_3,FINSEQ_3,REAL_1,SQUARE_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,INT_1,REAL_1,NAT_1,NAT_D,RAT_1,INT_2,XXREAL_0,VALUED_0,PREPOWER,SQUARE_1,FUNCT_1,FINSEQ_1,FINSEQ_3,SEQ_1,RVSUM_1,FINSEQ_4,NEWTON,TREES_4,CKB30,CKB31,CKB36,CKB37,CKB39,CKB42,CKB43;
definitions FINSEQ_1,TARSKI,SQUARE_1,RVSUM_1,CKB39;
theorems TARSKI,ABSVALUE,INT_1,NAT_1,INT_2,RAT_1,NEWTON,PREPOWER,SQUARE_1,FINSEQ_1,FINSEQ_2,FINSEQ_4,FUNCT_1,RVSUM_1,PRE_FF,CARD_4,FINSEQ_3,FINSEQ_5,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_1,CARD_1,XXREAL_0,ORDINAL1,FINSOP_1,NAT_D,XREAL_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB38,CKB39,CKB40,CKB41;
schemes NAT_1,FINSEQ_1,FINSEQ_2;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,NUMBERS,SEQM_3,XXREAL_0,XREAL_0,SQUARE_1,NAT_1,INT_1,RAT_1,MEMBERED,FINSEQ_1,NEWTON,VALUED_0,CARD_1,CKB7,CKB29,CKB32,CKB33,CKB34,CKB35;
constructors REAL_1,SQUARE_1,NAT_1,NAT_D,BINOP_2,FINSEQ_3,FINSEQ_4,FINSOP_1,RVSUM_1,NEWTON,PREPOWER,TREES_4,SEQ_1,RELSET_1,CKB30,CKB31,CKB36,CKB37,CKB42,CKB43;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve a for Nat;
reserve fs1 for FinSequence;
reserve fs2 for FinSequence;
theorem
Lm13: ((a <= ( len fs1 ) implies ( Del (( fs1 ^ fs2 ),a) ) = ( ( Del (fs1,a) ) ^ fs2 )) & (a >= 1 implies ( Del (( fs1 ^ fs2 ),( ( len fs1 ) + a )) ) = ( fs1 ^ ( Del (fs2,a) ) )))
proof
set f = ( fs1 ^ fs2 );
A1: ( len f ) = ( ( len fs1 ) + ( len fs2 ) ) by FINSEQ_1:22;
A2:now
set f2 = ( fs1 ^ ( Del (fs2,a) ) );
set f1 = ( Del (f,( ( len fs1 ) + a )) );
assume A3: a >= 1;
now
per cases ;
suppose A4: a > ( len fs2 );

then A5: (not a in ( dom fs2 )) by FINSEQ_3:25;
( ( len fs1 ) + a ) > ( len f ) by A1,A4,XREAL_1:6;
then (not ( ( len fs1 ) + a ) in ( dom f )) by FINSEQ_3:25;
hence f1 = ( fs1 ^ fs2 ) by CKB39:def 1
.= f2 by A5,CKB39:def 1;
end;
suppose A6: a <= ( len fs2 );

then A7: a in ( dom fs2 ) by A3,FINSEQ_3:25;
( a - 1 ) >= ( 0 ) by A3,XREAL_1:48;
then A8: ( ( len fs1 ) + ( a - 1 ) ) >= ( len fs1 ) by CKB4:1;
A9: ( ( len fs1 ) + a ) >= 1 by A3,NAT_1:12;
( ( len fs1 ) + a ) <= ( len f ) by A1,A6,XREAL_1:6;
then A10: ( ( len fs1 ) + a ) in ( dom f ) by A9,FINSEQ_3:25;
then consider g1,g2 being FinSequence such that A11: f = ( ( g1 ^ <* ( f . ( ( len fs1 ) + a ) ) *> ) ^ g2 ) and A12: ( len g1 ) = ( ( ( len fs1 ) + a ) - 1 ) and ( len g2 ) = ( ( len f ) - ( ( len fs1 ) + a ) ) by CKB38:1;
A13: f1 = ( g1 ^ g2 ) by A10,A11,A12,CKB40:1;
f = ( g1 ^ ( <* ( f . ( ( len fs1 ) + a ) ) *> ^ g2 ) ) by A11,FINSEQ_1:32;
then consider t being FinSequence such that A14: ( fs1 ^ t ) = g1 by A12,A8,FINSEQ_1:47;
( fs1 ^ ( ( t ^ <* ( f . ( ( len fs1 ) + a ) ) *> ) ^ g2 ) ) = ( ( fs1 ^ ( t ^ <* ( f . ( ( len fs1 ) + a ) ) *> ) ) ^ g2 ) by FINSEQ_1:32
.= f by A11,A14,FINSEQ_1:32;
then A15: fs2 = ( ( t ^ <* ( f . ( ( len fs1 ) + a ) ) *> ) ^ g2 ) by FINSEQ_1:33;
( ( len fs1 ) + ( a - 1 ) ) = ( ( len fs1 ) + ( len t ) ) by A12,A14,FINSEQ_1:22;
then ( Del (fs2,a) ) = ( t ^ g2 ) by A7,A15,CKB40:1;
hence f1 = f2 by A13,A14,FINSEQ_1:32;
end;
end;
hence f1 = f2;
end;
now
set f3 = <* ( f . a ) *>;
set f2 = ( ( Del (fs1,a) ) ^ fs2 );
set f1 = ( Del (f,a) );
assume A16: a <= ( len fs1 );
( len fs1 ) <= ( len f ) by A1,NAT_1:11;
then A17: a <= ( len f ) by A16,XXREAL_0:2;
now
per cases ;
suppose A18: a < 1;

then A19: (not a in ( dom fs1 )) by FINSEQ_3:25;
(not a in ( dom f )) by A18,FINSEQ_3:25;
hence f1 = f by CKB39:def 1
.= f2 by A19,CKB39:def 1;
end;
suppose A20: a >= 1;

then A21: a in ( dom f ) by A17,FINSEQ_3:25;
then consider g1,g2 being FinSequence such that A22: f = ( ( g1 ^ f3 ) ^ g2 ) and A23: ( len g1 ) = ( a - 1 ) and ( len g2 ) = ( ( len f ) - a ) by CKB38:1;
( len ( g1 ^ f3 ) ) = ( ( a - 1 ) + 1 ) by A23,FINSEQ_2:16
.= a;
then consider t being FinSequence such that A24: fs1 = ( ( g1 ^ f3 ) ^ t ) by A16,A22,FINSEQ_1:47;
( ( g1 ^ f3 ) ^ g2 ) = ( ( g1 ^ f3 ) ^ ( t ^ fs2 ) ) by A22,A24,FINSEQ_1:32;
then A25: g2 = ( t ^ fs2 ) by FINSEQ_1:33;
a in ( dom fs1 ) by A16,A20,FINSEQ_3:25;
then A26: ( Del (fs1,a) ) = ( g1 ^ t ) by A23,A24,CKB40:1;
thus f1 = ( g1 ^ g2 ) by A21,A22,A23,CKB40:1
.= f2 by A26,A25,FINSEQ_1:32;
end;
end;
hence f1 = f2;
end;
hence thesis by A2;
end;
