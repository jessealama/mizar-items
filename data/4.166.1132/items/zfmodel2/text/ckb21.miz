environ
vocabularies NUMBERS,ZF_LANG,XBOOLE_0,SUBSET_1,FUNCT_1,ZF_MODEL,ARYTM_3,TARSKI,XBOOLEAN,BVFUNC_2,ZF_LANG1,FINSET_1,RELAT_1,CARD_1,XXREAL_0,ZFMODEL1;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,NUMBERS,NAT_1,RELAT_1,FUNCT_1,FINSET_1,PARTFUN1,FUNCT_2,ZF_LANG,ZF_MODEL,ZFMODEL1,ZF_LANG1,XXREAL_0;
definitions TARSKI,ZF_MODEL,ZFMODEL1,XBOOLE_0,FUNCT_2;
theorems TARSKI,ZFMISC_1,ENUMSET1,NAT_1,FUNCT_1,FUNCT_2,ZF_MODEL,ZFMODEL1,ZF_LANG1,RELSET_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,FUNCT_7,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes NAT_1,PARTFUN1,ZF_LANG1;
registrations FUNCT_1,RELSET_1,FUNCT_2,FINSET_1,XXREAL_0,XREAL_0,FINSEQ_1,ZF_LANG,ORDINAL1,CKB3;
constructors ENUMSET1,PARTFUN1,XXREAL_0,XREAL_0,NAT_1,ZF_MODEL,ZFMODEL1,ZF_LANG1,RELSET_1;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve M for non empty set;
reserve a for set;
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve H1 for ZF-formula;
reserve H2 for ZF-formula;
reserve v1 for (Function of ( VAR ),M);
reserve v2 for (Function of ( VAR ),M);
theorem
(((not ( x. ( 0 ) ) in ( Free H1 )) & M,v1 |= ( All (( x. 3 ),( Ex (( x. ( 0 ) ),( All (( x. 4 ),( H1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies (ex H2 st (ex v2 st (((( ( Free H1 ) /\ ( Free H2 ) ) c= { ( x. 3 ),( x. 4 ) } & (not ( x. ( 0 ) ) in ( Free H2 ))) & M,v2 |= ( All (( x. 3 ),( Ex (( x. ( 0 ) ),( All (( x. 4 ),( H2 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) & ( def_func' (H1,v1) ) = ( def_func' (H2,v2) )))))
proof
assume that
A1: (not ( x. ( 0 ) ) in ( Free H1 ))
and
A2: M,v1 |= ( All (( x. 3 ),( Ex (( x. ( 0 ) ),( All (( x. 4 ),( H1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) );
consider i such that A3: (for j holds (( x. j ) in ( variables_in H1 ) implies j < i)) by CKB4:1;
consider H2,v2 such that A4: (for j holds ((j < i & ( x. j ) in ( variables_in H2 )) implies (j = 3 or j = 4))) and A5: (not ( x. ( 0 ) ) in ( Free H2 )) and A6: M,v2 |= ( All (( x. 3 ),( Ex (( x. ( 0 ) ),( All (( x. 4 ),( H2 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) and A7: ( def_func' (H1,v1) ) = ( def_func' (H2,v2) ) by A1,A2,CKB20:1;
take H2;
take v2;
thus ( ( Free H1 ) /\ ( Free H2 ) ) c= { ( x. 3 ),( x. 4 ) }
proof
A8: ( Free H2 ) c= ( variables_in H2 ) by ZF_LANG1:151;
let a;
A9: ( Free H1 ) c= ( variables_in H1 ) by ZF_LANG1:151;
assume A10: a in ( ( Free H1 ) /\ ( Free H2 ) );
then A11: a in ( Free H2 ) by XBOOLE_0:def 4;
reconsider x = a as Variable by A10;
consider j such that A12: x = ( x. j ) by ZF_LANG1:77;
a in ( Free H1 ) by A10,XBOOLE_0:def 4;
then (j = 3 or j = 4) by A3,A4,A11,A12,A9,A8;
hence thesis by A12,TARSKI:def 2;
end;

thus thesis by A5,A6,A7;
end;
