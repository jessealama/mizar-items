environ
vocabularies STRUCT_0,RELAT_1,XBOOLE_0,PARTFUN1,RELAT_2,ORDERS_1,SUBSET_1,XXREAL_0,ARYTM_3,TREES_2,TARSKI,WELLORD1,FUNCT_1,ZFMISC_1,ORDERS_2,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,PARTFUN1,CARD_1,WELLORD1,DOMAIN_1,STRUCT_0,ORDERS_1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB9,CKB18,CKB19,CKB20,CKB21,CKB23,CKB30,CKB33,CKB40,CKB41,CKB52,CKB53,CKB66,CKB74;
definitions RELAT_1,RELAT_2,TARSKI,WELLORD1,STRUCT_0,XBOOLE_0,ORDERS_1,CKB3,CKB4,CKB5,CKB6,CKB18,CKB20,CKB30,CKB40,CKB41,CKB52,CKB53,CKB66,CKB74;
theorems RELAT_1,RELAT_2,TARSKI,WELLORD1,ZFMISC_1,XBOOLE_0,XBOOLE_1,PARTFUN1,ORDERS_1,CKB3,CKB4,CKB5,CKB6,CKB17,CKB18,CKB20,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91;
schemes XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,ORDERS_1,STRUCT_0,PARTFUN1,CARD_1,ORDINAL1,CKB1,CKB2,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB31,CKB32,CKB75;
constructors RELAT_2,WELLORD1,PARTFUN1,DOMAIN_1,ORDERS_1,PRE_TOPC,RELSET_1,SETFAM_1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB18,CKB20,CKB23,CKB30,CKB40,CKB41,CKB52,CKB53,CKB66,CKB74;
requirements BOOLE,SUBSET,NUMERALS;
begin
reserve Y for set;
reserve x for set;
reserve y for set;
reserve A for non empty Poset;
reserve C for (Chain of A);
reserve a for (Element of A);
reserve a1 for (Element of A);
reserve a2 for (Element of A);
reserve b for (Element of A);
reserve c1 for (Element of A);
reserve c2 for (Element of A);
theorem
Th162: ((for C holds (ex a st (for b holds (b in C implies b <= a)))) implies (ex a st (for b holds (not a < b))))
proof
set f = the (Choice_Function of ( BOOL (the carrier of A) ));
reconsider F = ( union ( Chains f ) ) as (Chain of f) by CKB80:1;
assume (for C holds (ex a st (for b holds (b in C implies b <= a))));
then consider a such that A1: (for b holds (b in F implies b <= a));
take a;
let b;
assume A2: a < b;
now
let a1;
assume a1 in F;
then a1 <= a by A1;
hence a1 < b by A2,CKB29:1;
end;
then b in { a1: (for a2 holds (a2 in F implies a2 < a1)) };
then (not ( UpperCone F ) in { ( {} ) }) by TARSKI:def 1;
then A3: ( UpperCone F ) in ( BOOL (the carrier of A) ) by XBOOLE_0:def 5;
(not ( {} ) in ( BOOL (the carrier of A) )) by ORDERS_1:1;
then A4: ( f . ( UpperCone F ) ) in ( UpperCone F ) by A3,ORDERS_1:def 1;
then reconsider c = ( f . ( UpperCone F ) ) as (Element of A);
reconsider Z = ( F \/ { c } ) as (Subset of A);
A5: (ex c11 being (Element of A) st (c11 = c & (for a2 holds (a2 in F implies a2 < c11)))) by A4;
A6: (the InternalRel of A) is_connected_in Z
proof
let x;
let y;
assume A7: (x in Z & y in Z);
then reconsider x1 = x,y1 = y as (Element of A);
now
per cases  by A7,XBOOLE_0:def 3;
suppose (x1 in F & y1 in F);

then (x1 <= y1 or y1 <= x1) by CKB37:1;
hence thesis by CKB18:def 1;
end;
suppose A8: (x1 in F & y1 in { c });

then y1 = c by TARSKI:def 1;
then x1 < y1 by A5,A8;
then x1 <= y1 by CKB20:def 1;
hence thesis by CKB18:def 1;
end;
suppose A9: (x1 in { c } & y1 in F);

then x1 = c by TARSKI:def 1;
then y1 < x1 by A5,A9;
then y1 <= x1 by CKB20:def 1;
hence thesis by CKB18:def 1;
end;
suppose A10: (x1 in { c } & y1 in { c });

then x1 = c by TARSKI:def 1;
hence thesis by A10,TARSKI:def 1;
end;
end;
hence thesis;
end;
A11:now
let a1;
assume A12: a1 in Z;
now
per cases ;
suppose A13: a1 = c;

( InitSegm (Z,c) ) = F
proof
thus ( InitSegm (Z,c) ) c= F
proof
let x;
assume that
A14: x in ( InitSegm (Z,c) )
and
A15: (not x in F);
x in Z by A14,XBOOLE_0:def 4;
then x in { c } by A15,XBOOLE_0:def 3;
then A16: x = c by TARSKI:def 1;
x in ( LowerCone { c } ) by A14,XBOOLE_0:def 4;
hence contradiction by A16,CKB49:1;
end;

let x;
assume A17: x in F;
then reconsider y = x as (Element of A);
y < c by A5,A17;
then A18: x in ( LowerCone { c } ) by CKB51:1;
x in Z by A17,XBOOLE_0:def 3;
hence thesis by A18,XBOOLE_0:def 4;
end;
hence ( f . ( UpperCone ( InitSegm (Z,a1) ) ) ) = a1 by A13;
end;
suppose a1 <> c;

then (not a1 in { c }) by TARSKI:def 1;
then A19: a1 in F by A12,XBOOLE_0:def 3;
A20: ( InitSegm (Z,a1) ) c= ( InitSegm (F,a1) )
proof
let x;
assume A21: x in ( InitSegm (Z,a1) );
then A22: x in ( LowerCone { a1 } ) by XBOOLE_0:def 4;
now
assume A23: (not x in F);
x in Z by A21,XBOOLE_0:def 4;
then x in { c } by A23,XBOOLE_0:def 3;
then x = c by TARSKI:def 1;
then A24: (ex c1 st (c1 = c & (for c2 holds (c2 in { a1 } implies c1 < c2)))) by A22;
A25: a1 < c by A5,A19;
a1 in { a1 } by TARSKI:def 1;
then c < a1 by A24;
hence contradiction by A25,CKB26:1;
end;
hence thesis by A22,XBOOLE_0:def 4;
end;
( InitSegm (F,a1) ) c= ( InitSegm (Z,a1) ) by CKB58:1,XBOOLE_1:7;
then ( InitSegm (Z,a1) ) = ( InitSegm (F,a1) ) by A20,XBOOLE_0:def 10;
hence ( f . ( UpperCone ( InitSegm (Z,a1) ) ) ) = a1 by A19,CKB66:def 1;
end;
end;
hence ( f . ( UpperCone ( InitSegm (Z,a1) ) ) ) = a1;
end;
(the InternalRel of A) is_reflexive_in (the carrier of A) by CKB4:def 1;
then A26: (the InternalRel of A) is_reflexive_in Z by ORDERS_1:8;
then (the InternalRel of A) is_strongly_connected_in Z by A6,ORDERS_1:7;
then A27: Z is (Chain of A) by CKB30:def 1;
A28: (the InternalRel of A) is_well_founded_in Z
proof
let Y;
assume that
A29: Y c= Z
and
A30: Y <> ( {} );
now
per cases ;
case A31: Y = { c };
take x = c;
thus x in Y by A31,TARSKI:def 1;
assume ( (the InternalRel of A) -Seg x ) meets Y;
then consider x9 being set such that A32: x9 in ( (the InternalRel of A) -Seg x ) and A33: x9 in Y by XBOOLE_0:3;
x9 = c by A31,A33,TARSKI:def 1;
hence contradiction by A32,WELLORD1:1;
end;
case A34: Y <> { c };
set X = ( Y \ { c } );
A35:now
assume X = ( {} );
then Y c= { c } by XBOOLE_1:37;
hence contradiction by A30,A34,ZFMISC_1:33;
end;
A36: X c= F
proof
let x;
assume that
A37: x in X
and
A38: (not x in F);
x in Y by A37;
then x in { c } by A29,A38,XBOOLE_0:def 3;
hence thesis by A37,XBOOLE_0:def 5;
end;
(the InternalRel of A) well_orders F by CKB66:def 1;
then (the InternalRel of A) well_orders X by A36,CKB91:1;
then (the InternalRel of A) is_well_founded_in X by WELLORD1:def 5;
then consider x such that A39: x in X and A40: ( (the InternalRel of A) -Seg x ) misses X by A35,WELLORD1:def 3;
take x9 = x;
thus x9 in Y by A39;
A41: ( ( (the InternalRel of A) -Seg x ) /\ X ) = ( {} ) by A40,XBOOLE_0:def 7;
now
per cases ;
suppose A42: c in Y;

A43:now
x9 in F by A36,A39;
then reconsider x99 = x9 as (Element of A);
assume A44: c in ( (the InternalRel of A) -Seg x9 );
then [ c,x9 ] in (the InternalRel of A) by WELLORD1:1;
then A45: c <= x99 by CKB18:def 1;
A46: x99 < c by A5,A36,A39;
c <> x99 by A44,WELLORD1:1;
then c < x99 by A45,CKB20:def 1;
hence contradiction by A46,CKB26:1;
end;
A47:now
set x = the (Element of ( ( (the InternalRel of A) -Seg x9 ) /\ { c } ));
assume A48: ( ( (the InternalRel of A) -Seg x9 ) /\ { c } ) <> ( {} );
then x in { c } by XBOOLE_0:def 4;
then x = c by TARSKI:def 1;
hence contradiction by A43,A48,XBOOLE_0:def 4;
end;
{ c } c= Y by A42,ZFMISC_1:31;
then Y = ( X \/ { c } ) by XBOOLE_1:45;
then ( ( (the InternalRel of A) -Seg x9 ) /\ Y ) = ( ( {} ) \/ ( {} ) ) by A41,A47,XBOOLE_1:23
.= ( {} );
hence ( (the InternalRel of A) -Seg x9 ) misses Y by XBOOLE_0:def 7;
end;
suppose (not c in Y);

then Y misses { c } by ZFMISC_1:50;
hence ( (the InternalRel of A) -Seg x9 ) misses Y by A40,XBOOLE_1:83;
end;
end;
hence ( (the InternalRel of A) -Seg x9 ) misses Y;
end;
end;
hence thesis;
end;
(the InternalRel of A) is_transitive_in (the carrier of A) by CKB5:def 1;
then A49: (the InternalRel of A) is_transitive_in Z by ORDERS_1:10;
(the InternalRel of A) is_antisymmetric_in (the carrier of A) by CKB6:def 1;
then (the InternalRel of A) is_antisymmetric_in Z by ORDERS_1:9;
then (the InternalRel of A) well_orders Z by A26,A49,A6,A28,WELLORD1:def 5;
then reconsider Z as (Chain of f) by A27,A11,CKB66:def 1;
c in { c } by TARSKI:def 1;
then A50: c in Z by XBOOLE_0:def 3;
Z in ( Chains f ) by CKB74:def 1;
then c in F by A50,TARSKI:def 4;
hence thesis by A5;
end;
