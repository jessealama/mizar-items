environ
vocabularies XBOOLE_0,RELAT_2,ORDERS_2,STRUCT_0,CAT_1,YELLOW_0,SUBSET_1,RCOMP_1,WELLORD1,TARSKI,LATTICES,REWRITE1,WAYBEL_0,XXREAL_0,WAYBEL_3,WAYBEL_6,CARD_FIL,LATTICE3,EQREL_1,ORDINAL2,FINSET_1,ZFMISC_1,WAYBEL_4,MSSUBFAM,WAYBEL_7,INT_2,WAYBEL_1,FUNCT_1,GROUP_6,RELAT_1,BINOP_1,SEQM_3,YELLOW_1,FILTER_1,SETFAM_1,WAYBEL_8,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,CARD_1,FINSET_1,RELAT_1,TOLER_1,FUNCT_1,RELSET_1,FUNCT_2,DOMAIN_1,RELAT_2,STRUCT_0,ORDERS_2,LATTICE3,QUANTAL1,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_7,CKB1,CKB6,CKB11,CKB12,CKB17;
definitions TARSKI,RELAT_2,ORDERS_2,YELLOW_2,STRUCT_0,CKB1,CKB6,CKB11,CKB12,CKB17;
theorems TARSKI,STRUCT_0,FINSET_1,FUNCT_1,FUNCT_2,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_3,YELLOW_5,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_7,RELAT_1,YELLOW_7,XBOOLE_0,XBOOLE_1,RELAT_2,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB13,CKB17,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB41,CKB42,CKB43,CKB44,CKB46;
schemes SUBSET_1,FUNCT_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,WAYBEL_2,WAYBEL_3,WAYBEL_4,WAYBEL_6,CARD_1,ORDINAL1,CKB2,CKB10,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB45;
constructors DOMAIN_1,TOLER_1,QUANTAL1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_7,RELSET_1,PRALG_1,CKB1,CKB6,CKB11,CKB12,CKB17;
requirements SUBSET,BOOLE,NUMERALS;
begin
theorem
(for L being  algebraic  lower-bounded LATTICE holds (for c being  closure (Function of L,L) holds (c is  directed-sups-preserving implies ( Image c ) is  algebraic  algebraic LATTICE)))
proof
let L being  algebraic  lower-bounded LATTICE;
let c being  closure (Function of L,L);
assume A1: c is  directed-sups-preserving;
c is  idempotent by WAYBEL_1:def 13;
then reconsider Imc = ( Image c ) as  complete LATTICE by A1,YELLOW_2:35;
A2:now
let x being (Element of Imc);
now
let y being (Element of Imc);
let z being (Element of Imc);
assume that
A3: y in ( compactbelow x )
and
A4: z in ( compactbelow x );
y is  compact by A3,CKB7:1;
then A5: y << y by WAYBEL_3:def 2;
z is  compact by A4,CKB7:1;
then A6: z << z by WAYBEL_3:def 2;
take v = ( y "\/" z );
z <= v by YELLOW_0:22;
then A7: z << v by A6,WAYBEL_3:2;
y <= v by YELLOW_0:22;
then y << v by A5,WAYBEL_3:2;
then v << v by A7,WAYBEL_3:3;
then A8: v is  compact by WAYBEL_3:def 2;
(y <= x & z <= x) by A3,A4,CKB7:1;
then v <= x by YELLOW_0:22;
hence ((v in ( compactbelow x ) & y <= v) & z <= v) by A8,YELLOW_0:22;
end;
hence ( compactbelow x ) is non  empty  directed by WAYBEL_0:def 1;
end;
now
let x being (Element of Imc);
consider y being (Element of L) such that A9: ( c . y ) = x by YELLOW_2:10;
( sup ( compactbelow y ) ) in (the carrier of L);
then A10: ( sup ( compactbelow y ) ) in ( dom c ) by FUNCT_2:def 1;
( compactbelow y ) is non  empty  directed by CKB12:def 1;
then A11: (c preserves_sup_of ( compactbelow y ) &  ex_sup_of ( compactbelow y ),L) by A1,WAYBEL_0:75,WAYBEL_0:def 37;
then ( c . ( sup ( compactbelow y ) ) ) = ( sup ( c .: ( compactbelow y ) ) ) by WAYBEL_0:def 31;
then ( sup ( c .: ( compactbelow y ) ) ) in ( rng c ) by A10,FUNCT_1:def 3;
then A12: ( ex_sup_of ( c .: ( compactbelow y ) ),L & ( sup ( c .: ( compactbelow y ) ) ) in (the carrier of ( Image c ))) by YELLOW_0:17,YELLOW_0:def 15;
(for b being (Element of Imc) holds (b in ( compactbelow x ) implies b <= x)) by CKB7:1;
then x is_>=_than ( compactbelow x ) by LATTICE3:def 9;
then A13: ( sup ( compactbelow x ) ) <= x by YELLOW_0:32;
A14: ( c .: ( [#] ( CompactSublatt L ) ) ) c= ( [#] ( CompactSublatt ( Image c ) ) ) by A1,CKB46:1;
A15: c is  monotone by A1,YELLOW_2:16;
( compactbelow y ) = ( ( downarrow y ) /\ ( [#] ( CompactSublatt L ) ) ) by CKB8:1;
then A16: ( c .: ( compactbelow y ) ) c= ( ( c .: ( downarrow y ) ) /\ ( c .: ( [#] ( CompactSublatt L ) ) ) ) by RELAT_1:121;
now
let z being set;
assume A17: z in ( c .: ( compactbelow y ) );
then consider v being set such that A18: v in ( dom c ) and A19: v in ( compactbelow y ) and A20: z = ( c . v ) by FUNCT_1:def 6;
z in ( rng c ) by A18,A20,FUNCT_1:def 3;
then reconsider z1 = z as (Element of Imc) by YELLOW_0:def 15;
reconsider v as (Element of L) by A18;
v <= y by A19,CKB7:1;
then ( c . v ) <= ( c . y ) by A15,WAYBEL_1:def 2;
then A21: z1 <= x by A9,A20,YELLOW_0:60;
z in ( c .: ( [#] ( CompactSublatt L ) ) ) by A16,A17,XBOOLE_0:def 4;
then z1 is  compact by A14,CKB1:def 1;
hence z in ( compactbelow x ) by A21;
end;
then A22: ( c .: ( compactbelow y ) ) c= ( compactbelow x ) by TARSKI:def 3;
( compactbelow x ) is  directed by A2;
then A23:  ex_sup_of ( compactbelow x ),Imc by WAYBEL_0:75;
( c .: ( compactbelow y ) ) c= ( rng c ) by RELAT_1:111;
then ( c .: ( compactbelow y ) ) is (Subset of Imc) by YELLOW_0:def 15;
then A24: ( ex_sup_of ( c .: ( compactbelow y ) ),Imc & ( sup ( c .: ( compactbelow y ) ) ) = ( "\/" (( c .: ( compactbelow y ) ),Imc) )) by A12,YELLOW_0:64;
( c . y ) = ( c . ( sup ( compactbelow y ) ) ) by CKB11:def 1
.= ( sup ( c .: ( compactbelow y ) ) ) by A11,WAYBEL_0:def 31;
then x <= ( sup ( compactbelow x ) ) by A9,A23,A24,A22,YELLOW_0:34;
hence x = ( sup ( compactbelow x ) ) by A13,ORDERS_2:2;
end;
then Imc is  satisfying_axiom_K by CKB11:def 1;
hence thesis by A2,CKB12:def 1;
end;
