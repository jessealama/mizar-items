environ
vocabularies XBOOLE_0,RELAT_2,ORDERS_2,STRUCT_0,CAT_1,YELLOW_0,SUBSET_1,RCOMP_1,WELLORD1,TARSKI,LATTICES,REWRITE1,WAYBEL_0,XXREAL_0,WAYBEL_3,WAYBEL_6,CARD_FIL,LATTICE3,EQREL_1,ORDINAL2,FINSET_1,ZFMISC_1,WAYBEL_4,MSSUBFAM,WAYBEL_7,INT_2,WAYBEL_1,FUNCT_1,GROUP_6,RELAT_1,BINOP_1,SEQM_3,YELLOW_1,FILTER_1,SETFAM_1,WAYBEL_8,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,CARD_1,FINSET_1,RELAT_1,TOLER_1,FUNCT_1,RELSET_1,FUNCT_2,DOMAIN_1,RELAT_2,STRUCT_0,ORDERS_2,LATTICE3,QUANTAL1,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_7,CKB1,CKB6,CKB11,CKB12,CKB17;
definitions TARSKI,RELAT_2,ORDERS_2,YELLOW_2,STRUCT_0,CKB1,CKB6,CKB11,CKB12,CKB17;
theorems TARSKI,STRUCT_0,FINSET_1,FUNCT_1,FUNCT_2,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_3,YELLOW_5,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_7,RELAT_1,YELLOW_7,XBOOLE_0,XBOOLE_1,RELAT_2,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB13,CKB17,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB41,CKB42,CKB43,CKB44;
schemes SUBSET_1,FUNCT_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,WAYBEL_2,WAYBEL_3,WAYBEL_4,WAYBEL_6,CARD_1,ORDINAL1,CKB2,CKB10,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB45;
constructors DOMAIN_1,TOLER_1,QUANTAL1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WAYBEL_6,WAYBEL_7,RELSET_1,PRALG_1,CKB1,CKB6,CKB11,CKB12,CKB17;
requirements SUBSET,BOOLE,NUMERALS;
begin
theorem
Th25: (for L being  algebraic LATTICE holds (for c being  closure (Function of L,L) holds (c is  directed-sups-preserving implies ( c .: ( [#] ( CompactSublatt L ) ) ) c= ( [#] ( CompactSublatt ( Image c ) ) ))))
proof
let L being  algebraic LATTICE;
let c being  closure (Function of L,L);
assume A1: c is  directed-sups-preserving;
let x being set;
A2: c is  idempotent  monotone by WAYBEL_1:def 13;
assume x in ( c .: ( [#] ( CompactSublatt L ) ) );
then consider y being set such that A3: y in ( dom c ) and A4: y in ( [#] ( CompactSublatt L ) ) and A5: x = ( c . y ) by FUNCT_1:def 6;
A6: x in ( rng c ) by A3,A5,FUNCT_1:def 3;
then reconsider x9 = x as (Element of ( Image c )) by YELLOW_0:def 15;
reconsider x1 = x9 as (Element of L) by A6;
reconsider y9 = y as (Element of L) by A3;
y9 is  compact by A4,CKB1:def 1;
then A7: y9 << y9 by WAYBEL_3:def 2;
now
( id L ) <= c by WAYBEL_1:def 14;
then ( ( id L ) . y9 ) <= ( c . y9 ) by YELLOW_2:9;
then A8: y9 <= x1 by A5,FUNCT_1:18;
let D being non  empty  directed (Subset of ( Image c ));
assume A9: x9 <= ( sup D );
D c= (the carrier of ( Image c ));
then A10: D c= ( rng c ) by YELLOW_0:def 15;
then reconsider D9 = D as non  empty (Subset of L) by XBOOLE_1:1;
reconsider D9 as non  empty  directed (Subset of L) by YELLOW_2:7;
A11:  ex_sup_of D9,L by WAYBEL_0:75;
c preserves_sup_of D9 by A1,WAYBEL_0:def 37;
then A12: ( c . ( sup D9 ) ) = ( sup ( c .: D9 ) ) by A11,WAYBEL_0:def 31
.= ( sup D9 ) by A2,A10,YELLOW_2:20;
( c . ( sup D9 ) ) = ( sup D ) by A11,WAYBEL_1:55;
then x1 <= ( sup D9 ) by A9,A12,YELLOW_0:59;
then y9 <= ( sup D9 ) by A8,ORDERS_2:3;
then consider d9 being (Element of L) such that A13: d9 in D9 and A14: y9 <= d9 by A7,WAYBEL_3:def 1;
reconsider d = d9 as (Element of ( Image c )) by A13;
take d;
thus d in D by A13;
d in (the carrier of ( Image c ));
then d in ( rng c ) by YELLOW_0:def 15;
then d9 in { z where z is (Element of L): z = ( c . z ) } by A2,YELLOW_2:19;
then A15: (ex z9 being (Element of L) st (d9 = z9 & z9 = ( c . z9 )));
( c . y9 ) <= ( c . d9 ) by A2,A14,WAYBEL_1:def 2;
hence x9 <= d by A5,A15,YELLOW_0:60;
end;
then x9 << x9 by WAYBEL_3:def 1;
then x9 is  compact by WAYBEL_3:def 2;
hence thesis by CKB1:def 1;
end;
