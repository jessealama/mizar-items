environ
vocabularies NUMBERS,SUBSET_1,PRE_TOPC,EUCLID,TOPREAL1,RCOMP_1,FUNCT_1,BORSUK_1,RELAT_1,TOPS_2,CARD_1,XBOOLE_0,ORDINAL2,STRUCT_0,METRIC_1,XREAL_0,ORDINAL1,ARYTM_1,ARYTM_3,SUPINF_2,RLTOPSP1,REAL_1,XXREAL_1,TARSKI,XXREAL_0,PCOMPS_1,CONNSP_2,TOPMETR,TOPS_1,COMPLEX1,BORSUK_2,GRAPH_1,PARTFUN1,TMAP_1,FCONT_1,VALUED_0,SEQ_4,XXREAL_2,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,XXREAL_2,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,SQUARE_1,FCONT_1,RFUNCT_2,TOPMETR,BINOP_1,RCOMP_1,TOPS_1,SEQ_4,METRIC_1,CONNSP_2,STRUCT_0,TOPREAL1,PRE_TOPC,TOPS_2,COMPTS_1,RLVECT_1,RLTOPSP1,EUCLID,TMAP_1,PCOMPS_1,WEIERSTR,BORSUK_2;
definitions TARSKI,BORSUK_2,XBOOLE_0,STRUCT_0,RLTOPSP1,XXREAL_2;
theorems BORSUK_1,BORSUK_2,COMPTS_1,CONNSP_2,EUCLID,FCONT_1,FCONT_2,FUNCT_1,FUNCT_2,GOBOARD7,GOBOARD9,METRIC_1,PARTFUN2,PCOMPS_1,PRE_TOPC,RCOMP_1,RELAT_1,RFUNCT_2,SEQ_4,TARSKI,TBSP_1,TMAP_1,TOPMETR,TOPREAL1,TOPS_2,TOPS_1,WEIERSTR,TOPREAL3,RELSET_1,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,XXREAL_2,XXREAL_1,MEMBERED,CKB1,CKB2,CKB3;
schemes CLASSES1;
registrations XBOOLE_0,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,RCOMP_1,STRUCT_0,PRE_TOPC,METRIC_1,BORSUK_1,EUCLID,TOPMETR,TOPREAL1,PSCOMP_1,BORSUK_2,VALUED_0,COMPTS_1,XXREAL_2,RLTOPSP1,FCONT_1,FUNCT_2,FUNCT_1;
constructors REAL_1,SQUARE_1,COMPLEX1,SEQ_4,RCOMP_1,RFUNCT_2,FCONT_1,TOPS_1,TOPS_2,COMPTS_1,TMAP_1,TOPREAL1,WEIERSTR,BORSUK_2,SEQ_1,XXREAL_2,RVSUM_1,FUNCSDOM,CONVEX1,BINOP_2;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Th4: (for n being (Element of ( NAT )) holds (for p1,p2 being (Point of ( TOP-REAL n )) holds (p1 <> p2 implies (ex f being (Function of ( I[01] ),( ( TOP-REAL n ) | ( LSeg (p1,p2) ) )) st ((((for x being Real holds (x in [. ( 0 ),1 .] implies ( f . x ) = ( ( ( 1 - x ) * p1 ) + ( x * p2 ) ))) & f is  being_homeomorphism) & ( f . ( 0 ) ) = p1) & ( f . 1 ) = p2)))))
proof
let n being (Element of ( NAT ));
let p1 being (Point of ( TOP-REAL n ));
let p2 being (Point of ( TOP-REAL n ));
reconsider p19 = p1,p29 = p2 as (Element of ( REAL n )) by CKB2:1;
set P = ( LSeg (p1,p2) );
reconsider PP = P as (Subset of ( Euclid n )) by TOPREAL3:8;
reconsider PP as non  empty (Subset of ( Euclid n ));
defpred P[ set,set ]
 means
(for x being Real holds (x = $1 implies $2 = ( ( ( 1 - x ) * p1 ) + ( x * p2 ) )));
A1: (for a being set holds (a in [. ( 0 ),1 .] implies (ex u being set st P[ a,u ])))
proof
let a being set;
assume a in [. ( 0 ),1 .];
then reconsider x = a as Real;
take ( ( ( 1 - x ) * p1 ) + ( x * p2 ) );
thus thesis;
end;
consider f being Function such that A2: ( dom f ) = [. ( 0 ),1 .] and A3: (for a being set holds (a in [. ( 0 ),1 .] implies P[ a,( f . a ) ])) from CLASSES1:sch 1(A1);
( rng f ) c= (the carrier of ( ( TOP-REAL n ) | P ))
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A4: x in ( dom f ) and A5: y = ( f . x ) by FUNCT_1:def 3;
x in { r where r is Real: (( 0 ) <= r & r <= 1) } by A2,A4,RCOMP_1:def 1;
then consider r being Real such that A6: r = x and A7: (( 0 ) <= r & r <= 1);
y = ( ( ( 1 - r ) * p1 ) + ( r * p2 ) ) by A2,A3,A4,A5,A6;
then y in P by A7;
then y in ( [#] ( ( TOP-REAL n ) | P ) ) by PRE_TOPC:def 5;
hence thesis;
end;
then reconsider f as (Function of ( I[01] ),( ( TOP-REAL n ) | P )) by A2,BORSUK_1:40,FUNCT_2:def 1,RELSET_1:4;
assume A8: p1 <> p2;
now
let x1 being set;
let x2 being set;
assume that
A9: x1 in ( dom f )
and
A10: x2 in ( dom f )
and
A11: ( f . x1 ) = ( f . x2 );
x2 in { r where r is Real: (( 0 ) <= r & r <= 1) } by A2,A10,RCOMP_1:def 1;
then consider r2 being Real such that A12: r2 = x2 and ( 0 ) <= r2 and r2 <= 1;
A13: ( f . x2 ) = ( ( ( 1 - r2 ) * p1 ) + ( r2 * p2 ) ) by A2,A3,A10,A12;
x1 in { r where r is Real: (( 0 ) <= r & r <= 1) } by A2,A9,RCOMP_1:def 1;
then consider r1 being Real such that A14: r1 = x1 and ( 0 ) <= r1 and r1 <= 1;
( f . x1 ) = ( ( ( 1 - r1 ) * p1 ) + ( r1 * p2 ) ) by A2,A3,A9,A14;
hence x1 = x2 by A8,A11,A14,A12,A13,CKB3:1;
end;
then A15: f is  one-to-one by FUNCT_1:def 4;
A16: ( ( TOP-REAL n ) | P ) = ( TopSpaceMetr ( ( Euclid n ) | PP ) ) by EUCLID:63;
(for W being (Point of ( I[01] )) holds (for G being (a_neighborhood of ( f . W )) holds (ex H being (a_neighborhood of W) st ( f .: H ) c= G)))
proof
reconsider p11 = p1,p22 = p2 as (Point of ( Euclid n )) by TOPREAL3:8;
let W being (Point of ( I[01] ));
let G being (a_neighborhood of ( f . W ));
reconsider W9 = W as (Point of ( Closed-Interval-MSpace (( 0 ),1) )) by BORSUK_1:40,TOPMETR:10;
reconsider W1 = W as Real by BORSUK_1:40,TARSKI:def 3;
( f . W ) in ( Int G ) by CONNSP_2:def 1;
then consider Q being (Subset of ( ( TOP-REAL n ) | P )) such that A17: Q is  open and A18: Q c= G and A19: ( f . W ) in Q by TOPS_1:22;
( [#] ( ( TOP-REAL n ) | P ) ) = P by PRE_TOPC:def 5;
then reconsider Y = ( f . W ) as (Point of ( ( Euclid n ) | PP )) by TOPMETR:def 2;
consider r being  real number such that A20: r > ( 0 ) and A21: ( Ball (Y,r) ) c= Q by A16,A17,A19,TOPMETR:15;
reconsider r as (Element of ( REAL )) by XREAL_0:def 1;
set delta = ( r / ( ( Pitag_dist n ) . (p19,p29) ) );
reconsider H = ( Ball (W9,delta) ) as (Subset of ( I[01] )) by BORSUK_1:40,TOPMETR:10;
( Closed-Interval-TSpace (( 0 ),1) ) = ( TopSpaceMetr ( Closed-Interval-MSpace (( 0 ),1) ) ) by TOPMETR:def 7;
then A22: H is  open by TOPMETR:14,TOPMETR:20;
P = (the carrier of ( ( Euclid n ) | PP )) by TOPMETR:def 2;
then reconsider WW9 = Y as (Point of ( Euclid n )) by TARSKI:def 3;
( Euclid n ) = MetrStruct (# ( REAL n ),( Pitag_dist n ) #) by EUCLID:def 7;
then A23: ( ( Pitag_dist n ) . (p19,p29) ) = ( dist (p11,p22) ) by METRIC_1:def 1;
A24: (( dist (p11,p22) ) >= ( 0 ) & ( dist (p11,p22) ) <> ( 0 )) by A8,METRIC_1:2,METRIC_1:5;
then W in H by A20,A23,TBSP_1:11,XREAL_1:139;
then W in ( Int H ) by A22,TOPS_1:23;
then reconsider H as (a_neighborhood of W) by CONNSP_2:def 1;
take H;
A25: delta > ( 0 ) by A20,A23,A24,XREAL_1:139;
( f .: H ) c= ( Ball (Y,r) )
proof
reconsider WW1 = WW9 as (Element of ( REAL n )) by CKB2:1;
let a being set;
A26: ( [#] ( ( TOP-REAL n ) | P ) ) = P by PRE_TOPC:def 5;
assume a in ( f .: H );
then consider u being set such that A27: u in ( dom f ) and A28: u in H and A29: a = ( f . u ) by FUNCT_1:def 6;
reconsider u1 = u as Real by A2,A27;
A30: ( f . W ) = ( ( ( 1 - W1 ) * p1 ) + ( W1 * p2 ) ) by A3,BORSUK_1:40;
reconsider u9 = u as (Point of ( Closed-Interval-MSpace (( 0 ),1) )) by A28;
reconsider W99 = W9,u99 = u9 as (Point of ( RealSpace )) by TOPMETR:8;
A31: ( dist (W9,u9) ) = ( (the distance of ( Closed-Interval-MSpace (( 0 ),1) )) . (W9,u9) ) by METRIC_1:def 1
.= ( (the distance of ( RealSpace )) . (W99,u99) ) by TOPMETR:def 1
.= ( dist (W99,u99) ) by METRIC_1:def 1;
( dist (W9,u9) ) < delta by A28,METRIC_1:11;
then ( abs ( W1 - u1 ) ) < delta by A31,TOPMETR:11;
then ( abs ( - ( u1 - W1 ) ) ) < delta;
then A32: ( abs ( u1 - W1 ) ) < delta by COMPLEX1:52;
A33: delta <> ( 0 ) by A20,A23,A24,XREAL_1:139;
then ( ( Pitag_dist n ) . (p19,p29) ) = ( r / delta ) by XCMPLX_1:54;
then A34: |. ( p19 - p29 ) .| = ( r / delta ) by EUCLID:def 6;
( f . u ) in ( rng f ) by A27,FUNCT_1:def 3;
then reconsider aa = a as (Point of ( ( Euclid n ) | PP )) by A29,A26,TOPMETR:def 2;
P = (the carrier of ( ( Euclid n ) | PP )) by TOPMETR:def 2;
then reconsider aa9 = aa as (Point of ( Euclid n )) by TARSKI:def 3;
reconsider aa1 = aa9 as (Element of ( REAL n )) by CKB2:1;
aa1 = ( ( ( 1 - u1 ) * p1 ) + ( u1 * p2 ) ) by A2,A3,A27,A29;
then ( WW1 - aa1 ) = ( ( ( ( 1 - W1 ) * p1 ) + ( W1 * p2 ) ) - ( ( ( 1 - u1 ) * p1 ) + ( u1 * p2 ) ) ) by A30
.= ( ( ( ( W1 * p2 ) + ( ( 1 - W1 ) * p1 ) ) - ( ( 1 - u1 ) * p1 ) ) - ( u1 * p2 ) ) by EUCLID:46
.= ( ( ( W1 * p2 ) + ( ( ( 1 - W1 ) * p1 ) - ( ( 1 - u1 ) * p1 ) ) ) - ( u1 * p2 ) ) by EUCLID:45
.= ( ( ( W1 * p2 ) + ( ( ( 1 - W1 ) - ( 1 - u1 ) ) * p1 ) ) - ( u1 * p2 ) ) by EUCLID:50
.= ( ( ( u1 - W1 ) * p1 ) + ( ( W1 * p2 ) - ( u1 * p2 ) ) ) by EUCLID:45
.= ( ( ( u1 - W1 ) * p1 ) + ( ( W1 - u1 ) * p2 ) ) by EUCLID:50
.= ( ( ( u1 - W1 ) * p1 ) + ( ( - ( u1 - W1 ) ) * p2 ) )
.= ( ( ( u1 - W1 ) * p1 ) + ( - ( ( u1 - W1 ) * p2 ) ) ) by EUCLID:40
.= ( ( ( u1 - W1 ) * p1 ) - ( ( u1 - W1 ) * p2 ) ) by EUCLID:41
.= ( ( u1 - W1 ) * ( p1 - p2 ) ) by EUCLID:49
.= ( ( u1 - W1 ) * ( p19 - p29 ) );
then A36: |. ( WW1 - aa1 ) .| = ( ( abs ( u1 - W1 ) ) * |. ( p19 - p29 ) .| ) by EUCLID:11;
( r / delta ) > ( 0 ) by A20,A25,XREAL_1:139;
then |. ( WW1 - aa1 ) .| < ( delta * ( r / delta ) ) by A36,A32,A34,XREAL_1:68;
then (( Euclid n ) = MetrStruct (# ( REAL n ),( Pitag_dist n ) #) & |. ( WW1 - aa1 ) .| < r) by A33,EUCLID:def 7,XCMPLX_1:87;
then ( (the distance of ( Euclid n )) . (WW9,aa9) ) < r by EUCLID:def 6;
then ( (the distance of ( ( Euclid n ) | PP )) . (Y,aa) ) < r by TOPMETR:def 1;
then ( dist (Y,aa) ) < r by METRIC_1:def 1;
hence thesis by METRIC_1:11;
end;
then ( f .: H ) c= Q by A21,XBOOLE_1:1;
hence thesis by A18,XBOOLE_1:1;
end;
then A37: f is  continuous by BORSUK_1:def 1;
take f;
thus (for x being Real holds (x in [. ( 0 ),1 .] implies ( f . x ) = ( ( ( 1 - x ) * p1 ) + ( x * p2 ) ))) by A3;
( [#] ( ( TOP-REAL n ) | P ) ) c= ( rng f )
proof
let a being set;
assume a in ( [#] ( ( TOP-REAL n ) | P ) );
then a in { ( ( ( 1 - l ) * p1 ) + ( l * p2 ) ) where l is Real: (( 0 ) <= l & l <= 1) } by PRE_TOPC:def 5;
then consider lambda being Real such that A38: a = ( ( ( 1 - lambda ) * p1 ) + ( lambda * p2 ) ) and A39: (( 0 ) <= lambda & lambda <= 1);
lambda in { r where r is Real: (( 0 ) <= r & r <= 1) } by A39;
then A40: lambda in ( dom f ) by A2,RCOMP_1:def 1;
then a = ( f . lambda ) by A2,A3,A38;
hence thesis by A40,FUNCT_1:def 3;
end;
then (( [#] ( I[01] ) ) = [. ( 0 ),1 .] & ( rng f ) = ( [#] ( ( TOP-REAL n ) | P ) )) by BORSUK_1:40,XBOOLE_0:def 10;
hence f is  being_homeomorphism by A2,A15,A37,COMPTS_1:17;
( 0 ) in [. ( 0 ),1 .] by XXREAL_1:1;
hence ( f . ( 0 ) ) = ( ( ( 1 - ( 0 ) ) * p1 ) + ( ( 0 ) * p2 ) ) by A3
.= ( p1 + ( ( 0 ) * p2 ) ) by EUCLID:29
.= ( p1 + ( 0. ( TOP-REAL n ) ) ) by EUCLID:29
.= p1 by EUCLID:27;
1 in [. ( 0 ),1 .] by XXREAL_1:1;
hence ( f . 1 ) = ( ( ( 1 - 1 ) * p1 ) + ( 1 * p2 ) ) by A3
.= ( ( 0. ( TOP-REAL n ) ) + ( 1 * p2 ) ) by EUCLID:29
.= ( 1 * p2 ) by EUCLID:27
.= p2 by EUCLID:29;
end;
