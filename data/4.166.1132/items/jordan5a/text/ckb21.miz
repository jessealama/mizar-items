environ
vocabularies NUMBERS,SUBSET_1,PRE_TOPC,EUCLID,TOPREAL1,RCOMP_1,FUNCT_1,BORSUK_1,RELAT_1,TOPS_2,CARD_1,XBOOLE_0,ORDINAL2,STRUCT_0,METRIC_1,XREAL_0,ORDINAL1,ARYTM_1,ARYTM_3,SUPINF_2,RLTOPSP1,REAL_1,XXREAL_1,TARSKI,XXREAL_0,PCOMPS_1,CONNSP_2,TOPMETR,TOPS_1,COMPLEX1,BORSUK_2,GRAPH_1,PARTFUN1,TMAP_1,FCONT_1,VALUED_0,SEQ_4,XXREAL_2,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,XXREAL_2,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,SQUARE_1,FCONT_1,RFUNCT_2,TOPMETR,BINOP_1,RCOMP_1,TOPS_1,SEQ_4,METRIC_1,CONNSP_2,STRUCT_0,TOPREAL1,PRE_TOPC,TOPS_2,COMPTS_1,RLVECT_1,RLTOPSP1,EUCLID,TMAP_1,PCOMPS_1,WEIERSTR,BORSUK_2;
definitions TARSKI,BORSUK_2,XBOOLE_0,STRUCT_0,RLTOPSP1,XXREAL_2;
theorems BORSUK_1,BORSUK_2,COMPTS_1,CONNSP_2,EUCLID,FCONT_1,FCONT_2,FUNCT_1,FUNCT_2,GOBOARD7,GOBOARD9,METRIC_1,PARTFUN2,PCOMPS_1,PRE_TOPC,RCOMP_1,RELAT_1,RFUNCT_2,SEQ_4,TARSKI,TBSP_1,TMAP_1,TOPMETR,TOPREAL1,TOPS_2,TOPS_1,WEIERSTR,TOPREAL3,RELSET_1,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_1,COMPLEX1,XXREAL_0,XXREAL_2,XXREAL_1,MEMBERED,CKB1,CKB2,CKB3,CKB4,CKB5,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes CLASSES1;
registrations XBOOLE_0,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,RCOMP_1,STRUCT_0,PRE_TOPC,METRIC_1,BORSUK_1,EUCLID,TOPMETR,TOPREAL1,PSCOMP_1,BORSUK_2,VALUED_0,COMPTS_1,XXREAL_2,RLTOPSP1,FCONT_1,FUNCT_2,FUNCT_1,CKB6,CKB7;
constructors REAL_1,SQUARE_1,COMPLEX1,SEQ_4,RCOMP_1,RFUNCT_2,FCONT_1,TOPS_1,TOPS_2,COMPTS_1,TMAP_1,TOPREAL1,WEIERSTR,BORSUK_2,SEQ_1,XXREAL_2,RVSUM_1,FUNCSDOM,CONVEX1,BINOP_2;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Lm7: (for a,b,c,d being Real holds (for f being (Function of ( Closed-Interval-TSpace (a,b) ),( Closed-Interval-TSpace (c,d) )) holds (for x being (Point of ( Closed-Interval-TSpace (a,b) )) holds (for g being (PartFunc of ( REAL ),( REAL )) holds (for x1 being Real holds ((((((((((a < b & c < d) & f is_continuous_at x) & x <> a) & x <> b) & ( f . a ) = c) & ( f . b ) = d) & f is  one-to-one) & f = g) & x = x1) implies g is_continuous_in x1))))))
proof
let a being Real;
let b being Real;
let c being Real;
let d being Real;
let f being (Function of ( Closed-Interval-TSpace (a,b) ),( Closed-Interval-TSpace (c,d) ));
let x being (Point of ( Closed-Interval-TSpace (a,b) ));
let g being (PartFunc of ( REAL ),( REAL ));
let x1 being Real;
assume that
A1: a < b
and
A2: c < d
and
A3: f is_continuous_at x
and
A4: x <> a
and
A5: x <> b
and
A6: ( f . a ) = c
and
A7: ( f . b ) = d
and
A8: f is  one-to-one
and
A9: f = g
and
A10: x = x1;
A11: ( dom f ) = (the carrier of ( Closed-Interval-TSpace (a,b) )) by FUNCT_2:def 1;
(for N1 being (Neighbourhood of ( g . x1 )) holds (ex N being (Neighbourhood of x1) st ( g .: N ) c= N1))
proof
reconsider fx = ( f . x ) as (Point of ( Closed-Interval-TSpace (c,d) ));
set Rm = ( min (( ( g . x1 ) - c ),( d - ( g . x1 ) )) );
let N1 being (Neighbourhood of ( g . x1 ));
( Closed-Interval-TSpace (c,d) ) = ( TopSpaceMetr ( Closed-Interval-MSpace (c,d) ) ) by TOPMETR:def 7;
then A12: (the topology of ( Closed-Interval-TSpace (c,d) )) = ( Family_open_set ( Closed-Interval-MSpace (c,d) ) ) by TOPMETR:12;
Rm > ( 0 )
proof
A13: b in ( dom f ) by A1,A11,CKB20:1;
A14: a in ( dom f ) by A1,A11,CKB20:1;
per cases  by XXREAL_0:15;
suppose A15: Rm = ( ( g . x1 ) - c );

( g . x1 ) in (the carrier of ( Closed-Interval-TSpace (c,d) )) by A9,A10,FUNCT_2:5;
then A16: ( g . x1 ) >= c by A2,CKB20:1;
Rm <> ( 0 ) by A4,A6,A8,A9,A10,A11,A14,A15,FUNCT_1:def 4;
hence thesis by A15,A16,XREAL_1:48;
end;
suppose A17: Rm = ( d - ( g . x1 ) );

( g . x1 ) in (the carrier of ( Closed-Interval-TSpace (c,d) )) by A9,A10,FUNCT_2:5;
then A18: ( g . x1 ) <= d by A2,CKB20:1;
( d - ( g . x1 ) ) <> ( d - d ) by A5,A7,A8,A9,A10,A11,A13,FUNCT_1:def 4;
hence thesis by A17,A18,XREAL_1:48;
end;
end;
then reconsider Wuj = ]. ( ( g . x1 ) - Rm ),( ( g . x1 ) + Rm ) .[ as (Neighbourhood of ( g . x1 )) by RCOMP_1:def 6;
consider Ham being (Neighbourhood of ( g . x1 )) such that A19: Ham c= N1 and A20: Ham c= Wuj by RCOMP_1:17;
A21: Wuj c= ]. c,d .[
proof
let aa being set;
assume aa in Wuj;
then aa in { l where l is Real: (( ( g . x1 ) - Rm ) < l & l < ( ( g . x1 ) + Rm )) } by RCOMP_1:def 2;
then consider A being Real such that A22: A = aa and A23: ( ( g . x1 ) - Rm ) < A and A24: A < ( ( g . x1 ) + Rm );
Rm <= ( d - ( g . x1 ) ) by XXREAL_0:17;
then ( ( g . x1 ) + Rm ) <= ( ( g . x1 ) + ( d - ( g . x1 ) ) ) by XREAL_1:6;
then A25: A < d by A24,XXREAL_0:2;
Rm <= ( ( g . x1 ) - c ) by XXREAL_0:17;
then ( c + Rm ) <= ( g . x1 ) by XREAL_1:19;
then c <= ( ( g . x1 ) - Rm ) by XREAL_1:19;
then c < A by A23,XXREAL_0:2;
then A in { l where l is Real: (c < l & l < d) } by A25;
hence thesis by A22,RCOMP_1:def 2;
end;
]. c,d .[ c= [. c,d .] by XXREAL_1:25;
then A26: Wuj c= [. c,d .] by A21,XBOOLE_1:1;
then Wuj c= (the carrier of ( Closed-Interval-MSpace (c,d) )) by A2,TOPMETR:10;
then reconsider N21 = Ham as (Subset of ( Closed-Interval-MSpace (c,d) )) by A20,XBOOLE_1:1;
(the carrier of ( Closed-Interval-MSpace (c,d) )) = (the carrier of ( TopSpaceMetr ( Closed-Interval-MSpace (c,d) ) )) by TOPMETR:12
.= (the carrier of ( Closed-Interval-TSpace (c,d) )) by TOPMETR:def 7;
then reconsider N19 = N21 as (Subset of ( Closed-Interval-TSpace (c,d) ));
N21 in ( Family_open_set ( Closed-Interval-MSpace (c,d) ) ) by CKB19:1;
then N19 is  open by A12,PRE_TOPC:def 2;
then reconsider G = N19 as (a_neighborhood of fx) by A9,A10,CONNSP_2:3,RCOMP_1:16;
consider H being (a_neighborhood of x) such that A27: ( f .: H ) c= G by A3,TMAP_1:def 2;
consider V being (Subset of ( Closed-Interval-TSpace (a,b) )) such that A28: V is  open and A29: V c= H and A30: x in V by CONNSP_2:6;
A31: (the carrier of ( Closed-Interval-MSpace (a,b) )) = (the carrier of ( TopSpaceMetr ( Closed-Interval-MSpace (a,b) ) )) by TOPMETR:12
.= (the carrier of ( Closed-Interval-TSpace (a,b) )) by TOPMETR:def 7;
then reconsider V2 = V as (Subset of ( Closed-Interval-MSpace (a,b) ));
V c= (the carrier of ( Closed-Interval-MSpace (a,b) )) by A31;
then V c= [. a,b .] by A1,TOPMETR:10;
then reconsider V1 = V as (Subset of ( REAL )) by XBOOLE_1:1;
A32: Ham c= [. c,d .] by A20,A26,XBOOLE_1:1;
A33: ((not a in V1) & (not b in V1))
proof
assume A34: (a in V1 or b in V1);
per cases  by A34;
suppose a in V1;

then ( f . a ) in ( f .: H ) by A11,A29,FUNCT_1:def 6;
hence contradiction by A6,A32,A27,CKB18:1;
end;
suppose b in V1;

then ( f . b ) in ( f .: H ) by A11,A29,FUNCT_1:def 6;
hence contradiction by A7,A32,A27,CKB18:1;
end;
end;
( Closed-Interval-TSpace (a,b) ) = ( TopSpaceMetr ( Closed-Interval-MSpace (a,b) ) ) by TOPMETR:def 7;
then (the topology of ( Closed-Interval-TSpace (a,b) )) = ( Family_open_set ( Closed-Interval-MSpace (a,b) ) ) by TOPMETR:12;
then V2 in ( Family_open_set ( Closed-Interval-MSpace (a,b) ) ) by A28,PRE_TOPC:def 2;
then V1 is  open by A1,A33,CKB17:1;
then consider N being (Neighbourhood of x1) such that A35: N c= V1 by A10,A30,RCOMP_1:18;
N c= H by A29,A35,XBOOLE_1:1;
then A36: ( g .: N ) c= ( g .: H ) by RELAT_1:123;
( f .: H ) c= N1 by A19,A27,XBOOLE_1:1;
hence thesis by A9,A36,XBOOLE_1:1;
end;
hence thesis by FCONT_1:5;
end;
