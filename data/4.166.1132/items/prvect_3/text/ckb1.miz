environ
vocabularies NUMBERS,SUBSET_1,CARD_3,FUNCT_1,RELAT_1,FUNCT_2,FINSEQ_1,PRE_TOPC,XBOOLE_0,NORMSP_0,STRUCT_0,RLVECT_1,NORMSP_1,COMPLEX1,ARYTM_3,REAL_1,PRVECT_3,RFINSEQ,ARYTM_1,SQUARE_1,RVSUM_1,XXREAL_0,CARD_1,SUPINF_2,SEQ_2,ORDINAL2,XREAL_0,ORDINAL1,TARSKI,NAT_1,PRVECT_1,PRVECT_2,ZFMISC_1,ORDINAL4,GROUP_2,ALGSTR_0,BINOP_1,EUCLID,REWRITE1,RSSPACE3,RELAT_2,METRIC_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,DOMAIN_1,FUNCOP_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,VALUED_0,COMPLEX1,CARD_3,FINSEQ_1,FINSEQ_2,FINSEQ_4,RVSUM_1,RFINSEQ,STRUCT_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,EUCLID,RSSPACE3,LOPBAN_1,PRVECT_1,PRVECT_2;
definitions EUCLID,PRVECT_2,BINOP_1,RLVECT_1,VALUED_1,ALGSTR_0,NORMSP_0,STRUCT_0;
theorems TARSKI,XBOOLE_0,XREAL_0,RLVECT_1,FINSEQ_1,FINSEQ_2,RVSUM_1,NORMSP_0,RFINSEQ,NAT_1,TOPREAL6,SQUARE_1,RELSET_1,RELAT_1,FUNCT_1,FUNCT_2,NORMSP_1,LOPBAN_1,BINOP_1,CARD_3,ALGSTR_0,EUCLID,RSSPACE3,XXREAL_0,PRVECT_1,PRVECT_2,ZFMISC_1,FINSEQ_3,SUBSET_1,TOPREAL7;
schemes FUNCT_2,BINOP_1;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,EUCLID,PRVECT_2,ALGSTR_0,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,LOPBAN_1,RLVECT_1,NORMSP_1,RELAT_1,SUBSET_1;
constructors REAL_1,SQUARE_1,RSSPACE3,COMPLEX1,LOPBAN_1,SEQ_1,RVSUM_1,BINOP_2,PRVECT_2,FINSEQ_4,RFINSEQ,FINSEQOP,TOPMETR;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
theorem
(for D,E,F,G being non empty set holds (ex I being (Function of [: [: D,E :],[: F,G :] :],[: [: D,F :],[: E,G :] :]) st ((I is  one-to-one & I is  onto) & (for d,e,f,g being set holds ((((d in D & e in E) & f in F) & g in G) implies ( I . ([ d,e ],[ f,g ]) ) = [ [ d,f ],[ e,g ] ])))))
proof
let D being non empty set,E being non empty set,F being non empty set,G being non empty set;
defpred P0[ set,set,set ]
 means
(ex d,e,f,g being set st ((((((d in D & e in E) & f in F) & g in G) & $1 = [ d,e ]) & $2 = [ f,g ]) & $3 = [ [ d,f ],[ e,g ] ]));
A1: (for x,y being set holds ((x in [: D,E :] & y in [: F,G :]) implies (ex z being set st (z in [: [: D,F :],[: E,G :] :] & P0[ x,y,z ]))))
proof
let x being set,y being set;
assume A2: (x in [: D,E :] & y in [: F,G :]);
consider d being set,e being set such that A3: ((d in D & e in E) & x = [ d,e ]) by A2,ZFMISC_1:def 2;
consider f being set,g being set such that A4: ((f in F & g in G) & y = [ f,g ]) by A2,ZFMISC_1:def 2;
([ d,f ] in [: D,F :] & [ e,g ] in [: E,G :]) by A3,A4,ZFMISC_1:87;
then [ [ d,f ],[ e,g ] ] in [: [: D,F :],[: E,G :] :] by ZFMISC_1:87;
hence thesis by A3,A4;
end;
consider I being (Function of [: [: D,E :],[: F,G :] :],[: [: D,F :],[: E,G :] :]) such that A5: (for x,y being set holds ((x in [: D,E :] & y in [: F,G :]) implies P0[ x,y,( I . (x,y) ) ])) from BINOP_1:sch 1(A1);
A6: (for d,e,f,g being set holds ((((d in D & e in E) & f in F) & g in G) implies ( I . ([ d,e ],[ f,g ]) ) = [ [ d,f ],[ e,g ] ]))
proof
let d being set,e being set,f being set,g being set;
assume A7: (((d in D & e in E) & f in F) & g in G);
A8: ([ d,e ] in [: D,E :] & [ f,g ] in [: F,G :]) by A7,ZFMISC_1:87;
consider d1 being set,e1 being set,f1 being set,g1 being set such that A9: ((((((d1 in D & e1 in E) & f1 in F) & g1 in G) & [ d,e ] = [ d1,e1 ]) & [ f,g ] = [ f1,g1 ]) & ( I . ([ d,e ],[ f,g ]) ) = [ [ d1,f1 ],[ e1,g1 ] ]) by A8,A5;
(((d1 = d & e1 = e) & f1 = f) & g1 = g) by A9,ZFMISC_1:27;
hence ( I . ([ d,e ],[ f,g ]) ) = [ [ d,f ],[ e,g ] ] by A9;
end;
A10: I is  one-to-one
proof
now
let z1 being set,z2 being set;
assume A11: ((z1 in [: [: D,E :],[: F,G :] :] & z2 in [: [: D,E :],[: F,G :] :]) & ( I . z1 ) = ( I . z2 ));
consider de1 being set,fg1 being set such that A12: ((de1 in [: D,E :] & fg1 in [: F,G :]) & z1 = [ de1,fg1 ]) by A11,ZFMISC_1:def 2;
consider d1 being set,e1 being set such that A13: ((d1 in D & e1 in E) & de1 = [ d1,e1 ]) by A12,ZFMISC_1:def 2;
consider f1 being set,g1 being set such that A14: ((f1 in F & g1 in G) & fg1 = [ f1,g1 ]) by A12,ZFMISC_1:def 2;
consider de2 being set,fg2 being set such that A15: ((de2 in [: D,E :] & fg2 in [: F,G :]) & z2 = [ de2,fg2 ]) by A11,ZFMISC_1:def 2;
consider d2 being set,e2 being set such that A16: ((d2 in D & e2 in E) & de2 = [ d2,e2 ]) by A15,ZFMISC_1:def 2;
consider f2 being set,g2 being set such that A17: ((f2 in F & g2 in G) & fg2 = [ f2,g2 ]) by A15,ZFMISC_1:def 2;
[ [ d1,f1 ],[ e1,g1 ] ] = ( I . ([ d1,e1 ],[ f1,g1 ]) ) by A6,A13,A14
.= ( I . ([ d2,e2 ],[ f2,g2 ]) ) by A11,A12,A13,A14,A15,A16,A17
.= [ [ d2,f2 ],[ e2,g2 ] ] by A6,A16,A17;
then ([ d1,f1 ] = [ d2,f2 ] & [ e1,g1 ] = [ e2,g2 ]) by ZFMISC_1:27;
then (((d1 = d2 & f1 = f2) & e1 = e2) & g1 = g2) by ZFMISC_1:27;
hence z1 = z2 by A12,A13,A14,A15,A16,A17;
end;
hence thesis by FUNCT_2:19;
end;
I is  onto
proof
now
let w being set;
assume A18: w in [: [: D,F :],[: E,G :] :];
consider df being set,eg being set such that A19: ((df in [: D,F :] & eg in [: E,G :]) & w = [ df,eg ]) by A18,ZFMISC_1:def 2;
consider d being set,f being set such that A20: ((d in D & f in F) & df = [ d,f ]) by A19,ZFMISC_1:def 2;
consider e being set,g being set such that A21: ((e in E & g in G) & eg = [ e,g ]) by A19,ZFMISC_1:def 2;
A22: ([ d,e ] in [: D,E :] & [ f,g ] in [: F,G :]) by A20,A21,ZFMISC_1:87;
reconsider z = [ [ d,e ],[ f,g ] ] as (Element of [: [: D,E :],[: F,G :] :]) by A22,ZFMISC_1:87;
w = ( I . ([ d,e ],[ f,g ]) ) by A6,A19,A20,A21;
then w = ( I . z );
hence w in ( rng I ) by FUNCT_2:112;
end;
then [: [: D,F :],[: E,G :] :] c= ( rng I ) by TARSKI:def 3;
then [: [: D,F :],[: E,G :] :] = ( rng I ) by XBOOLE_0:def 10;
hence thesis by FUNCT_2:def 3;
end;
hence thesis by A6,A10;
end;
