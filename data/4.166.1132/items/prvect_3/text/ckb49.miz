environ
vocabularies NUMBERS,SUBSET_1,CARD_3,FUNCT_1,RELAT_1,FUNCT_2,FINSEQ_1,PRE_TOPC,XBOOLE_0,NORMSP_0,STRUCT_0,RLVECT_1,NORMSP_1,COMPLEX1,ARYTM_3,REAL_1,PRVECT_3,RFINSEQ,ARYTM_1,SQUARE_1,RVSUM_1,XXREAL_0,CARD_1,SUPINF_2,SEQ_2,ORDINAL2,XREAL_0,ORDINAL1,TARSKI,NAT_1,PRVECT_1,PRVECT_2,ZFMISC_1,ORDINAL4,GROUP_2,ALGSTR_0,BINOP_1,EUCLID,REWRITE1,RSSPACE3,RELAT_2,METRIC_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,DOMAIN_1,FUNCOP_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,VALUED_0,COMPLEX1,CARD_3,FINSEQ_1,FINSEQ_2,FINSEQ_4,RVSUM_1,RFINSEQ,STRUCT_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,EUCLID,RSSPACE3,LOPBAN_1,PRVECT_1,PRVECT_2,CKB9,CKB10,CKB11,CKB12,CKB20,CKB39,CKB40;
definitions EUCLID,PRVECT_2,BINOP_1,RLVECT_1,VALUED_1,ALGSTR_0,NORMSP_0,STRUCT_0,CKB9,CKB10,CKB11,CKB12,CKB20,CKB39,CKB40;
theorems TARSKI,XBOOLE_0,XREAL_0,RLVECT_1,FINSEQ_1,FINSEQ_2,RVSUM_1,NORMSP_0,RFINSEQ,NAT_1,TOPREAL6,SQUARE_1,RELSET_1,RELAT_1,FUNCT_1,FUNCT_2,NORMSP_1,LOPBAN_1,BINOP_1,CARD_3,ALGSTR_0,EUCLID,RSSPACE3,XXREAL_0,PRVECT_1,PRVECT_2,ZFMISC_1,FINSEQ_3,SUBSET_1,TOPREAL7,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB17,CKB18,CKB20,CKB25,CKB26,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB45,CKB46,CKB48;
schemes FUNCT_2,BINOP_1;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,EUCLID,PRVECT_2,ALGSTR_0,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,LOPBAN_1,RLVECT_1,NORMSP_1,RELAT_1,SUBSET_1,CKB5,CKB13,CKB14,CKB15,CKB16,CKB19,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB34,CKB41,CKB42,CKB43,CKB44,CKB47;
constructors REAL_1,SQUARE_1,RSSPACE3,COMPLEX1,LOPBAN_1,SEQ_1,RVSUM_1,BINOP_2,PRVECT_2,FINSEQ_4,RFINSEQ,FINSEQOP,TOPMETR,CKB9,CKB10,CKB11,CKB12,CKB20,CKB39,CKB40;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
theorem
Th17: (for X,Y being non  empty RealNormSpace-Sequence holds (ex I being (Function of [: ( product X ),( product Y ) :],( product ( X ^ Y ) )) st ((((((I is  one-to-one & I is  onto) & (for x being (Point of ( product X )) holds (for y being (Point of ( product Y )) holds (ex x1,y1 being FinSequence st ((x = x1 & y = y1) & ( I . (x,y) ) = ( x1 ^ y1 )))))) & (for v,w being (Point of [: ( product X ),( product Y ) :]) holds ( I . ( v + w ) ) = ( ( I . v ) + ( I . w ) ))) & (for v being (Point of [: ( product X ),( product Y ) :]) holds (for r being (Element of ( REAL )) holds ( I . ( r * v ) ) = ( r * ( I . v ) )))) & ( I . ( 0. [: ( product X ),( product Y ) :] ) ) = ( 0. ( product ( X ^ Y ) ) )) & (for v being (Point of [: ( product X ),( product Y ) :]) holds ||. ( I . v ) .|| = ||. v .||))))
proof
let X being non  empty RealNormSpace-Sequence;
let Y being non  empty RealNormSpace-Sequence;
reconsider X0 = X,Y0 = Y as non  empty RealLinearSpace-Sequence;
set PX = ( product X );
set PY = ( product Y );
set PX0 = ( product X0 );
set PY0 = ( product Y0 );
reconsider CX = ( carr X ),CY = ( carr Y ) as  non-empty non  empty FinSequence;
reconsider CX0 = ( carr X0 ),CY0 = ( carr Y0 ) as  non-empty non  empty FinSequence;
A1: (( product X ) = NORMSTR (# ( product ( carr X ) ),( zeros X ),[: ( addop X ) :],[: ( multop X ) :],( productnorm X ) #) & ( product Y ) = NORMSTR (# ( product ( carr Y ) ),( zeros Y ),[: ( addop Y ) :],[: ( multop Y ) :],( productnorm Y ) #)) by PRVECT_2:6;
A2: (for g1,g2 being (Point of PX) holds (for f1,f2 being (Point of PY) holds ( ( prod_ADD (PX0,PY0) ) . ([ g1,f1 ],[ g2,f2 ]) ) = [ ( g1 + g2 ),( f1 + f2 ) ]))
proof
let g1 being (Point of PX);
let g2 being (Point of PX);
let f1 being (Point of PY);
let f2 being (Point of PY);
reconsider g10 = g1,g20 = g2 as (Point of PX0) by A1;
reconsider f10 = f1,f20 = f2 as (Point of PY0) by A1;
(( g10 + g20 ) = ( g1 + g2 ) & ( f10 + f20 ) = ( f1 + f2 )) by A1;
hence ( ( prod_ADD (PX0,PY0) ) . ([ g1,f1 ],[ g2,f2 ]) ) = [ ( g1 + g2 ),( f1 + f2 ) ] by CKB9:def 1;
end;
A3: (for r being (Element of ( REAL )) holds (for g being (Point of PX) holds (for f being (Point of PY) holds ( ( prod_MLT (PX0,PY0) ) . (r,[ g,f ]) ) = [ ( r * g ),( r * f ) ])))
proof
let r being (Element of ( REAL ));
let g being (Point of PX);
let f being (Point of PY);
reconsider g0 = g as (Point of PX0) by A1;
reconsider f0 = f as (Point of PY0) by A1;
(( r * g0 ) = ( r * g ) & ( r * f0 ) = ( r * f )) by A1;
hence ( ( prod_MLT (PX0,PY0) ) . (r,[ g,f ]) ) = [ ( r * g ),( r * f ) ] by CKB10:def 1;
end;
A4: (((((( len ( carr ( X ^ Y ) ) ) = ( len ( X ^ Y ) ) & ( len ( carr ( X0 ^ Y0 ) ) ) = ( len ( X0 ^ Y0 ) )) & ( len CX ) = ( len X )) & ( len CY ) = ( len Y )) & ( len CX0 ) = ( len X0 )) & ( len CY0 ) = ( len Y0 )) by PRVECT_2:def 4;
consider I0 being (Function of [: PX0,PY0 :],( product ( X0 ^ Y0 ) )) such that A5: (((((I0 is  one-to-one & I0 is  onto) & (for x being (Point of PX0) holds (for y being (Point of PY0) holds (ex x1,y1 being FinSequence st ((x = x1 & y = y1) & ( I0 . (x,y) ) = ( x1 ^ y1 )))))) & (for v,w being (Point of [: PX0,PY0 :]) holds ( I0 . ( v + w ) ) = ( ( I0 . v ) + ( I0 . w ) ))) & (for v being (Point of [: PX0,PY0 :]) holds (for r being (Element of ( REAL )) holds ( I0 . ( r * v ) ) = ( r * ( I0 . v ) )))) & ( 0. ( product ( X0 ^ Y0 ) ) ) = ( I0 . ( 0. [: PX0,PY0 :] ) )) by CKB37:1;
A6: ( product ( X ^ Y ) ) = NORMSTR (# ( product ( carr ( X ^ Y ) ) ),( zeros ( X ^ Y ) ),[: ( addop ( X ^ Y ) ) :],[: ( multop ( X ^ Y ) ) :],( productnorm ( X ^ Y ) ) #) by PRVECT_2:6;
then reconsider I = I0 as (Function of [: PX,PY :],( product ( X ^ Y ) )) by A1;
take I;
thus (I is  one-to-one & I is  onto) by A5,A6;
thus (for x being (Point of PX) holds (for y being (Point of PY) holds (ex x1,y1 being FinSequence st ((x = x1 & y = y1) & ( I . (x,y) ) = ( x1 ^ y1 ))))) by A1,A5;
A7: (for x,y being FinSequence holds ((x in (the carrier of ( product X )) & y in (the carrier of ( product Y ))) implies ( I . (x,y) ) = ( x ^ y )))
proof
let x being FinSequence;
let y being FinSequence;
assume (x in (the carrier of ( product X )) & y in (the carrier of ( product Y )));
then (ex x1,y1 being FinSequence st ((x = x1 & y = y1) & ( I . (x,y) ) = ( x1 ^ y1 ))) by A1,A5;
hence thesis;
end;
thus (for v,w being (Point of [: PX,PY :]) holds ( I . ( v + w ) ) = ( ( I . v ) + ( I . w ) ))
proof
let v being (Point of [: PX,PY :]);
let w being (Point of [: PX,PY :]);
reconsider v0 = v,w0 = w as (Point of [: PX0,PY0 :]) by A1;
( v + w ) = ( v0 + w0 ) by A2,A1,CKB9:def 1;
then ( I . ( v + w ) ) = ( ( I0 . v0 ) + ( I0 . w0 ) ) by A5;
hence ( I . ( v + w ) ) = ( ( I . v ) + ( I . w ) ) by A6;
end;

thus (for v being (Point of [: PX,PY :]) holds (for r being (Element of ( REAL )) holds ( I . ( r * v ) ) = ( r * ( I . v ) )))
proof
let v being (Point of [: PX,PY :]);
let r being (Element of ( REAL ));
reconsider v0 = v as (Point of [: PX0,PY0 :]) by A1;
( r * v ) = ( r * v0 ) by A3,A1,CKB10:def 1;
then ( I . ( r * v ) ) = ( r * ( I0 . v0 ) ) by A5;
hence ( I . ( r * v ) ) = ( r * ( I . v ) ) by A6;
end;

thus ( 0. ( product ( X ^ Y ) ) ) = ( I . ( 0. [: PX,PY :] ) ) by A1,A5,A6;
(for v being (Point of [: PX,PY :]) holds ||. ( I . v ) .|| = ||. v .||)
proof
let v being (Point of [: PX,PY :]);
consider x1 being (Point of PX),y1 being (Point of PY) such that A8: v = [ x1,y1 ] by CKB8:1;
consider v1 being (Element of ( REAL 2 )) such that A9: (v1 = <* ||. x1 .||,||. y1 .|| *> & ( ( prod_NORM (PX,PY) ) . (x1,y1) ) = |. v1 .|) by CKB39:def 1;
reconsider Ix1 = x1,Iy1 = y1 as FinSequence by A1,CKB36:1;
A10: (( dom Ix1 ) = ( dom ( carr X ) ) & ( dom Iy1 ) = ( dom ( carr Y ) )) by A1,CARD_3:9;
A11: ( I . v ) = ( I . (x1,y1) ) by A8
.= ( Ix1 ^ Iy1 ) by A7;
reconsider Iv = ( I . v ) as (Element of ( product ( carr ( X ^ Y ) ) )) by A6;
reconsider Ix = x1 as (Element of ( product ( carr X ) )) by A1;
reconsider Iy = y1 as (Element of ( product ( carr Y ) )) by A1;
A12: ||. ( I . v ) .|| = |. ( normsequence (( X ^ Y ),Iv) ) .| by A6,PRVECT_2:def 12
.= ( sqrt ( Sum ( sqr ( normsequence (( X ^ Y ),Iv) ) ) ) );
A13: ((( len ( normsequence (( X ^ Y ),Iv) ) ) = ( len ( X ^ Y ) ) & ( len ( normsequence (X,Ix) ) ) = ( len X )) & ( len ( normsequence (Y,Iy) ) ) = ( len Y )) by PRVECT_2:def 11;
A14: |. v1 .| = ( sqrt ( Sum <* ( ||. x1 .|| ^2 ),( ||. y1 .|| ^2 ) *> ) ) by A9,TOPREAL6:11
.= ( sqrt ( ( ||. x1 .|| ^2 ) + ( ||. y1 .|| ^2 ) ) ) by RVSUM_1:77;
A15: (( 0 ) <= ( Sum ( sqr ( normsequence (X,Ix) ) ) ) & ( 0 ) <= ( Sum ( sqr ( normsequence (Y,Iy) ) ) )) by RVSUM_1:86;
(( ||. x1 .|| ^2 ) = ( |. ( normsequence (X,Ix) ) .| ^2 ) & ( ||. y1 .|| ^2 ) = ( |. ( normsequence (Y,Iy) ) .| ^2 )) by A1,PRVECT_2:def 12;
then A16: (( ||. x1 .|| ^2 ) = ( Sum ( sqr ( normsequence (X,Ix) ) ) ) & ( ||. y1 .|| ^2 ) = ( Sum ( sqr ( normsequence (Y,Iy) ) ) )) by A15,SQUARE_1:def 2;
( len ( normsequence (( X ^ Y ),Iv) ) ) = ( ( len ( normsequence (X,Ix) ) ) + ( len ( normsequence (Y,Iy) ) ) ) by A13,FINSEQ_1:22
.= ( len ( ( normsequence (X,Ix) ) ^ ( normsequence (Y,Iy) ) ) ) by FINSEQ_1:22;
then A17: ( dom ( normsequence (( X ^ Y ),Iv) ) ) = ( dom ( ( normsequence (X,Ix) ) ^ ( normsequence (Y,Iy) ) ) ) by FINSEQ_3:29;
(for k being Nat holds (k in ( dom ( normsequence (( X ^ Y ),Iv) ) ) implies ( ( normsequence (( X ^ Y ),Iv) ) . k ) = ( ( ( normsequence (X,Ix) ) ^ ( normsequence (Y,Iy) ) ) . k )))
proof
let k being Nat;
assume k in ( dom ( normsequence (( X ^ Y ),Iv) ) );
then A18: k in ( Seg ( len ( normsequence (( X ^ Y ),Iv) ) ) ) by FINSEQ_1:def 3;
then A19: k in ( dom ( X ^ Y ) ) by A13,FINSEQ_1:def 3;
reconsider k1 = k as (Element of ( dom ( X ^ Y ) )) by A18,A13,FINSEQ_1:def 3;
A20: ( ( normsequence (( X ^ Y ),Iv) ) . k ) = ( (the normF of ( ( X ^ Y ) . k1 )) . ( Iv . k1 ) ) by PRVECT_2:def 11;
A21: (( dom Ix1 ) = ( Seg ( len ( carr X ) ) ) & ( dom Iy1 ) = ( Seg ( len ( carr Y ) ) )) by A10,FINSEQ_1:def 3;
then A22: (( dom Ix1 ) = ( dom X ) & ( dom Iy1 ) = ( dom Y )) by A4,FINSEQ_1:def 3;
per cases  by A19,FINSEQ_1:25;
suppose A23: k in ( dom X );

( len X ) = ( len ( normsequence (X,Ix) ) ) by PRVECT_2:def 11;
then A24: k in ( dom ( normsequence (X,Ix) ) ) by A23,FINSEQ_3:29;
reconsider k2 = k1 as (Element of ( dom X )) by A23;
A25: ( Iv . k ) = ( Ix1 . k ) by A23,A22,A11,FINSEQ_1:def 7;
thus ( ( normsequence (( X ^ Y ),Iv) ) . k ) = ( (the normF of ( X . k2 )) . ( Iv . k2 ) ) by A20,FINSEQ_1:def 7
.= ( ( normsequence (X,Ix) ) . k2 ) by A25,PRVECT_2:def 11
.= ( ( ( normsequence (X,Ix) ) ^ ( normsequence (Y,Iy) ) ) . k ) by A24,FINSEQ_1:def 7;
end;
suppose (ex n being Nat st (n in ( dom Y ) & k = ( ( len X ) + n )));

then consider n being Nat such that A26: (n in ( dom Y ) & k = ( ( len X ) + n ));
( len Y ) = ( len ( normsequence (Y,Iy) ) ) by PRVECT_2:def 11;
then A27: n in ( dom ( normsequence (Y,Iy) ) ) by A26,FINSEQ_3:29;
reconsider n1 = n as (Element of ( dom Y )) by A26;
( len Ix1 ) = ( len X ) by A21,A4,FINSEQ_1:def 3;
then A28: ( Iv . k ) = ( Iy1 . n ) by A11,A26,A22,FINSEQ_1:def 7;
thus ( ( normsequence (( X ^ Y ),Iv) ) . k ) = ( (the normF of ( Y . n1 )) . ( Iv . k1 ) ) by A20,A26,FINSEQ_1:def 7
.= ( ( normsequence (Y,Iy) ) . n1 ) by A28,PRVECT_2:def 11
.= ( ( ( normsequence (X,Ix) ) ^ ( normsequence (Y,Iy) ) ) . k ) by A27,A26,A13,FINSEQ_1:def 7;
end;
end;
then ( normsequence (( X ^ Y ),Iv) ) = ( ( normsequence (X,Ix) ) ^ ( normsequence (Y,Iy) ) ) by A17,FINSEQ_1:13;
then ( sqr ( normsequence (( X ^ Y ),Iv) ) ) = ( ( sqr ( normsequence (X,Ix) ) ) ^ ( sqr ( normsequence (Y,Iy) ) ) ) by CKB48:1;
hence thesis by A14,A12,A16,A9,A8,RVSUM_1:75;
end;
hence thesis;
end;
