environ
vocabularies NUMBERS,SUBSET_1,CARD_3,FUNCT_1,RELAT_1,FUNCT_2,FINSEQ_1,PRE_TOPC,XBOOLE_0,NORMSP_0,STRUCT_0,RLVECT_1,NORMSP_1,COMPLEX1,ARYTM_3,REAL_1,PRVECT_3,RFINSEQ,ARYTM_1,SQUARE_1,RVSUM_1,XXREAL_0,CARD_1,SUPINF_2,SEQ_2,ORDINAL2,XREAL_0,ORDINAL1,TARSKI,NAT_1,PRVECT_1,PRVECT_2,ZFMISC_1,ORDINAL4,GROUP_2,ALGSTR_0,BINOP_1,EUCLID,REWRITE1,RSSPACE3,RELAT_2,METRIC_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,DOMAIN_1,FUNCOP_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,VALUED_0,COMPLEX1,CARD_3,FINSEQ_1,FINSEQ_2,FINSEQ_4,RVSUM_1,RFINSEQ,STRUCT_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,EUCLID,RSSPACE3,LOPBAN_1,PRVECT_1,PRVECT_2,CKB9,CKB10,CKB11,CKB12,CKB20,CKB39,CKB40;
definitions EUCLID,PRVECT_2,BINOP_1,RLVECT_1,VALUED_1,ALGSTR_0,NORMSP_0,STRUCT_0,CKB9,CKB10,CKB11,CKB12,CKB20,CKB39,CKB40;
theorems TARSKI,XBOOLE_0,XREAL_0,RLVECT_1,FINSEQ_1,FINSEQ_2,RVSUM_1,NORMSP_0,RFINSEQ,NAT_1,TOPREAL6,SQUARE_1,RELSET_1,RELAT_1,FUNCT_1,FUNCT_2,NORMSP_1,LOPBAN_1,BINOP_1,CARD_3,ALGSTR_0,EUCLID,RSSPACE3,XXREAL_0,PRVECT_1,PRVECT_2,ZFMISC_1,FINSEQ_3,SUBSET_1,TOPREAL7,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB17,CKB18,CKB20,CKB25,CKB26,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB45,CKB46,CKB48,CKB49,CKB50,CKB51;
schemes FUNCT_2,BINOP_1;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,EUCLID,PRVECT_2,ALGSTR_0,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,LOPBAN_1,RLVECT_1,NORMSP_1,RELAT_1,SUBSET_1,CKB5,CKB13,CKB14,CKB15,CKB16,CKB19,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB34,CKB41,CKB42,CKB43,CKB44,CKB47,CKB52;
constructors REAL_1,SQUARE_1,RSSPACE3,COMPLEX1,LOPBAN_1,SEQ_1,RVSUM_1,BINOP_2,PRVECT_2,FINSEQ_4,RFINSEQ,FINSEQOP,TOPMETR,CKB9,CKB10,CKB11,CKB12,CKB20,CKB39,CKB40;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
theorem
(for X,Y being non  empty RealNormSpace-Sequence holds (ex I being (Function of ( product <* ( product X ),( product Y ) *> ),( product ( X ^ Y ) )) st ((((((I is  one-to-one & I is  onto) & (for x being (Point of ( product X )) holds (for y being (Point of ( product Y )) holds (ex x1,y1 being FinSequence st ((x = x1 & y = y1) & ( I . <* x,y *> ) = ( x1 ^ y1 )))))) & (for v,w being (Point of ( product <* ( product X ),( product Y ) *> )) holds ( I . ( v + w ) ) = ( ( I . v ) + ( I . w ) ))) & (for v being (Point of ( product <* ( product X ),( product Y ) *> )) holds (for r being (Element of ( REAL )) holds ( I . ( r * v ) ) = ( r * ( I . v ) )))) & ( I . ( 0. ( product <* ( product X ),( product Y ) *> ) ) ) = ( 0. ( product ( X ^ Y ) ) )) & (for v being (Point of ( product <* ( product X ),( product Y ) *> )) holds ||. ( I . v ) .|| = ||. v .||))))
proof
let X being non  empty RealNormSpace-Sequence;
let Y being non  empty RealNormSpace-Sequence;
set PX = ( product X );
set PY = ( product Y );
set PXY = ( product ( X ^ Y ) );
consider K being (Function of [: PX,PY :],PXY) such that A1: ((((((K is  one-to-one & K is  onto) & (for x being (Point of PX) holds (for y being (Point of PY) holds (ex x1,y1 being FinSequence st ((x = x1 & y = y1) & ( K . (x,y) ) = ( x1 ^ y1 )))))) & (for v,w being (Point of [: PX,PY :]) holds ( K . ( v + w ) ) = ( ( K . v ) + ( K . w ) ))) & (for v being (Point of [: PX,PY :]) holds (for r being (Element of ( REAL )) holds ( K . ( r * v ) ) = ( r * ( K . v ) )))) & ( K . ( 0. [: PX,PY :] ) ) = ( 0. PXY )) & (for v being (Point of [: PX,PY :]) holds ||. ( K . v ) .|| = ||. v .||)) by CKB49:1;
consider J being (Function of [: PX,PY :],( product <* PX,PY *> )) such that A2: ((((((J is  one-to-one & J is  onto) & (for x being (Point of PX) holds (for y being (Point of PY) holds ( J . (x,y) ) = <* x,y *>))) & (for v,w being (Point of [: PX,PY :]) holds ( J . ( v + w ) ) = ( ( J . v ) + ( J . w ) ))) & (for v being (Point of [: PX,PY :]) holds (for r being (Element of ( REAL )) holds ( J . ( r * v ) ) = ( r * ( J . v ) )))) & ( 0. ( product <* PX,PY *> ) ) = ( J . ( 0. [: PX,PY :] ) )) & (for v being (Point of [: PX,PY :]) holds ||. ( J . v ) .|| = ||. v .||)) by CKB45:1;
A3: ( rng J ) = (the carrier of ( product <* PX,PY *> )) by A2,FUNCT_2:def 3;
then reconsider JB = ( J " ) as (Function of (the carrier of ( product <* PX,PY *> )),(the carrier of [: PX,PY :])) by A2,FUNCT_2:25;
A4: (( dom ( J " ) ) = ( rng J ) & ( rng ( J " ) ) = ( dom J )) by A2,FUNCT_1:33;
then A5: ( dom ( J " ) ) = (the carrier of ( product <* PX,PY *> )) by A2,FUNCT_2:def 3;
A6: ( rng ( J " ) ) = (the carrier of [: PX,PY :]) by A4,FUNCT_2:def 1;
reconsider I = ( K * JB ) as (Function of ( product <* PX,PY *> ),PXY);
take I;
thus I is  one-to-one by A1,A2;
( rng K ) = (the carrier of PXY) by A1,FUNCT_2:def 3;
then ( rng I ) = (the carrier of PXY) by A6,FUNCT_2:14;
hence I is  onto by FUNCT_2:def 3;
thus (for x being (Point of PX) holds (for y being (Point of PY) holds (ex x1,y1 being FinSequence st ((x = x1 & y = y1) & ( I . <* x,y *> ) = ( x1 ^ y1 )))))
proof
let x being (Point of PX);
let y being (Point of PY);
consider x1,y1 being FinSequence such that A7: ((x = x1 & y = y1) & ( K . (x,y) ) = ( x1 ^ y1 )) by A1;
A8: ( J . (x,y) ) = <* x,y *> by A2;
[ x,y ] in (the carrier of [: PX,PY :]);
then A9: [ x,y ] in ( dom J ) by FUNCT_2:def 1;
<* x,y *> is (Point of ( product <* PX,PY *> )) by CKB51:1;
then ( I . <* x,y *> ) = ( K . ( JB . ( J . [ x,y ] ) ) ) by A8,A5,FUNCT_1:13;
then ( I . <* x,y *> ) = ( x1 ^ y1 ) by A7,A9,A2,FUNCT_1:34;
hence thesis by A7;
end;

thus (for v,w being (Point of ( product <* PX,PY *> )) holds ( I . ( v + w ) ) = ( ( I . v ) + ( I . w ) ))
proof
let v being (Point of ( product <* PX,PY *> ));
let w being (Point of ( product <* PX,PY *> ));
consider x being (Element of (the carrier of [: PX,PY :])) such that A10: v = ( J . x ) by A3,FUNCT_2:113;
consider y being (Element of (the carrier of [: PX,PY :])) such that A11: w = ( J . y ) by A3,FUNCT_2:113;
((x in (the carrier of [: PX,PY :]) & y in (the carrier of [: PX,PY :])) & ( x + y ) in (the carrier of [: PX,PY :]));
then ((x in ( dom J ) & y in ( dom J )) & ( x + y ) in ( dom J )) by FUNCT_2:def 1;
then A12: ((( JB . v ) = x & ( JB . w ) = y) & ( JB . ( J . ( x + y ) ) ) = ( x + y )) by A10,A11,A2,FUNCT_1:34;
(v in ( rng J ) & w in ( rng J )) by A3;
then A13: (v in ( dom JB ) & w in ( dom JB )) by A2,FUNCT_1:33;
( v + w ) = ( J . ( x + y ) ) by A10,A11,A2;
then ( I . ( v + w ) ) = ( K . ( x + y ) ) by A12,A5,FUNCT_1:13
.= ( ( K . x ) + ( K . y ) ) by A1
.= ( ( ( K * JB ) . v ) + ( K . ( JB . w ) ) ) by A12,A13,FUNCT_1:13;
hence ( I . ( v + w ) ) = ( ( I . v ) + ( I . w ) ) by A13,FUNCT_1:13;
end;

thus (for v being (Point of ( product <* PX,PY *> )) holds (for r being (Element of ( REAL )) holds ( I . ( r * v ) ) = ( r * ( I . v ) )))
proof
let v being (Point of ( product <* PX,PY *> ));
let r being (Element of ( REAL ));
consider x being (Element of (the carrier of [: PX,PY :])) such that A14: v = ( J . x ) by A3,FUNCT_2:113;
x in (the carrier of [: PX,PY :]);
then x in ( dom J ) by FUNCT_2:def 1;
then A15: ( JB . v ) = x by A14,A2,FUNCT_1:34;
v in ( rng J ) by A3;
then A16: v in ( dom JB ) by A2,FUNCT_1:33;
( r * x ) in (the carrier of [: PX,PY :]);
then A17: ( r * x ) in ( dom J ) by FUNCT_2:def 1;
( r * v ) = ( J . ( r * x ) ) by A14,A2;
then ( I . ( r * v ) ) = ( K . ( JB . ( J . ( r * x ) ) ) ) by A5,FUNCT_1:13;
hence ( I . ( r * v ) ) = ( K . ( r * x ) ) by A17,A2,FUNCT_1:34
.= ( r * ( K . x ) ) by A1
.= ( r * ( I . v ) ) by A15,A16,FUNCT_1:13;
end;

thus ( I . ( 0. ( product <* PX,PY *> ) ) ) = ( 0. ( product ( X ^ Y ) ) )
proof
( 0. [: PX,PY :] ) in (the carrier of [: PX,PY :]);
then A18: ( 0. [: PX,PY :] ) in ( dom J ) by FUNCT_2:def 1;
( 0. ( product <* PX,PY *> ) ) in ( rng J ) by A3;
then ( 0. ( product <* PX,PY *> ) ) in ( dom JB ) by A2,FUNCT_1:33;
then ( I . ( 0. ( product <* PX,PY *> ) ) ) = ( K . ( JB . ( J . ( 0. [: PX,PY :] ) ) ) ) by A2,FUNCT_1:13;
hence ( I . ( 0. ( product <* PX,PY *> ) ) ) = ( 0. PXY ) by A1,A18,A2,FUNCT_1:34;
end;

thus (for v being (Point of ( product <* PX,PY *> )) holds ||. ( I . v ) .|| = ||. v .||)
proof
let v being (Point of ( product <* PX,PY *> ));
consider x being (Element of (the carrier of [: PX,PY :])) such that A19: v = ( J . x ) by A3,FUNCT_2:113;
x in (the carrier of [: PX,PY :]);
then A20: x in ( dom J ) by FUNCT_2:def 1;
v in ( rng J ) by A3;
then v in ( dom JB ) by A2,FUNCT_1:33;
then ( I . v ) = ( K . ( JB . ( J . x ) ) ) by A19,FUNCT_1:13
.= ( K . x ) by A20,A2,FUNCT_1:34;
then ||. ( I . v ) .|| = ||. x .|| by A1;
hence ||. ( I . v ) .|| = ||. v .|| by A2,A19;
end;

end;
