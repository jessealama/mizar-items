environ
vocabularies NUMBERS,NAT_1,VECTSP_1,FREEALG,FINSET_1,SUBSET_1,MATRIX_1,TREES_1,FINSEQ_1,RELAT_1,XXREAL_0,INCSP_1,FVSUM_1,CARD_3,RVSUM_1,GROUP_1,ARYTM_1,SUPINF_2,FUNCT_1,ARYTM_3,CARD_1,XBOOLE_0,ALGSTR_0,ORDINAL4,STRUCT_0,FINSEQ_2,TARSKI,RLVECT_1,PARTFUN1,VALUED_1,ZFMISC_1,CLASSES1,XCMPLX_0,MATRIX_3,MATRIX13,LAPLACE,PRVECT_1,RLVECT_3,LMOD_7,QC_LANG1,RLSUB_1,MESFUNC1,PRE_POLY,MATRIX11,MATRIXR1,AFINSQ_1,MATRIX_2,FINSEQ_3,FUNCT_2,SETWISEO,FINSOP_1,RLVECT_2,RLVECT_5,FUNCOP_1,FUNCT_4,MATRIX_6,MATRIX15;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,SETWOP_2,FINSEQ_1,STRUCT_0,FUNCOP_1,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,FINSOP_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX_6,MATRIX_7,FINSEQ_7,FUNCT_4,DOMAIN_1,MATRIX11,MEASURE6,PSCOMP_1,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,FINSEQOP,PRVECT_1,MATRIX13,PRE_POLY,MATRLIN,FUNCT_7,PNPROC_1,LAPLACE;
definitions TARSKI,XBOOLE_0,RLVECT_1,FINSEQ_1,FINSEQ_2,MATRIX_1,GROUP_4,MATRIX_3,MATRIX_7,VECTSP_4,RELAT_1,LAPLACE,MATRIX13,FVSUM_1,ALGSTR_0;
theorems CARD_1,CARD_2,CARD_FIN,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQOP,FINSOP_1,FRECHET,FUNCT_1,FUNCT_2,FUNCT_7,FUNCOP_1,FVSUM_1,GROUP_1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_4,MATRIX_5,MATRIX_6,MATRIX_7,MATRIX11,MATRIX13,MATRIXR1,MATRIXR2,MATRLIN,NAT_1,ORDINAL1,PARTFUN1,PNPROC_1,RELAT_1,RLVECT_1,STIRL2_1,STRUCT_0,TARSKI,WELLORD2,VECTSP_1,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,NAT_D,PRE_POLY,MEASURE6,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
schemes FINSEQ_2,NAT_1,MATRIX_1;
registrations XBOOLE_0,FUNCT_1,FINSET_1,STRUCT_0,FVSUM_1,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,CARD_1,FUNCOP_1,SETFAM_1,FINSEQ_2,MATRLIN,MATRIX13,XREAL_0,PNPROC_1,VECTSP_9,VALUED_0,RELSET_1,PRVECT_1;
constructors SETWISEO,FINSOP_1,ALGSTR_1,FVSUM_1,XXREAL_0,GROUP_4,FINSEQ_7,WELLORD2,VECTSP_6,VECTSP_7,VECTSP_9,MATRIX_6,MATRIX_7,MATRIX11,MATRIX13,PNPROC_1,REALSET1,LAPLACE,BINOP_2,NAT_D,BINARITH,RELSET_1,PRE_POLY,PSCOMP_1;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve K for Field;
reserve N for  without_zero  finite (Subset of ( NAT ));
reserve A for (Matrix of K);
theorem
Th12: (for N holds ((N c= ( Seg ( width A ) ) & (for i holds (i in ( ( Seg ( width A ) ) \ N ) implies ( Col (A,i) ) = ( ( len A ) |-> ( 0. K ) )))) implies ( the_rank_of A ) = ( the_rank_of ( Segm (A,( Seg ( len A ) ),N) ) )))
proof
let N;
assume that
A1: N c= ( Seg ( width A ) )
and
A2: (for i holds (i in ( ( Seg ( width A ) ) \ N ) implies ( Col (A,i) ) = ( ( len A ) |-> ( 0. K ) )));
A3: ( dom A ) = ( Seg ( len A ) ) by FINSEQ_1:def 3;
per cases ;
suppose A4: ( card N ) = ( 0 );

( the_rank_of A ) = ( 0 )
proof
A5: N = ( {} ) by A4;
assume ( the_rank_of A ) <> ( 0 );
then consider i,j such that A6: [ i,j ] in ( Indices A ) and A7: ( A * (i,j) ) <> ( 0. K ) by MATRIX13:94;
A8: j in ( Seg ( width A ) ) by A6,ZFMISC_1:87;
A9: i in ( dom A ) by A6,ZFMISC_1:87;
then ( 0. K ) = ( ( ( len A ) |-> ( 0. K ) ) . i ) by A3,FINSEQ_2:57
.= ( ( Col (A,j) ) . i ) by A2,A8,A5
.= ( A * (i,j) ) by A9,MATRIX_1:def 8;
hence thesis by A7;
end;
hence thesis by A4,MATRIX13:77;
end;
suppose A10: ( card N ) > ( 0 );

then N <> ( {} );
then ( Seg ( width A ) ) <> ( {} ) by A1,XBOOLE_1:3;
then A11: ( width A ) <> ( 0 );
then A12: ( len A ) <> ( 0 ) by MATRIX_1:def 3;
set AT = ( A @ );
A13: [: ( dom A ),N :] c= ( Indices A ) by A1,ZFMISC_1:95;
A14: ( width AT ) = ( len A ) by A11,MATRIX_2:10;
A15: ( len AT ) = ( width A ) by A11,MATRIX_2:10;
then A16: N c= ( dom AT ) by A1,FINSEQ_1:def 3;
A17: ( dom AT ) = ( Seg ( len AT ) ) by FINSEQ_1:def 3;
A18:now
let i;
assume that
A19: i in ( ( dom AT ) \ N );
i in ( dom AT ) by A19,XBOOLE_0:def 5;
hence ( Line (AT,i) ) = ( Col (A,i) ) by A15,A17,MATRIX_2:15
.= ( ( width AT ) |-> ( 0. K ) ) by A2,A15,A14,A17,A19;
end;
thus ( the_rank_of A ) = ( the_rank_of AT ) by MATRIX13:84
.= ( the_rank_of ( Segm (AT,N,( Seg ( len A ) )) ) ) by A14,A16,A18,CKB13:1
.= ( the_rank_of ( ( Segm (A,( Seg ( len A ) ),N) ) @ ) ) by A3,A10,A12,A13,MATRIX13:61
.= ( the_rank_of ( Segm (A,( Seg ( len A ) ),N) ) ) by MATRIX13:84;
end;
end;
