environ
vocabularies NUMBERS,NAT_1,VECTSP_1,FREEALG,FINSET_1,SUBSET_1,MATRIX_1,TREES_1,FINSEQ_1,RELAT_1,XXREAL_0,INCSP_1,FVSUM_1,CARD_3,RVSUM_1,GROUP_1,ARYTM_1,SUPINF_2,FUNCT_1,ARYTM_3,CARD_1,XBOOLE_0,ALGSTR_0,ORDINAL4,STRUCT_0,FINSEQ_2,TARSKI,RLVECT_1,PARTFUN1,VALUED_1,ZFMISC_1,CLASSES1,XCMPLX_0,MATRIX_3,MATRIX13,LAPLACE,PRVECT_1,RLVECT_3,LMOD_7,QC_LANG1,RLSUB_1,MESFUNC1,PRE_POLY,MATRIX11,MATRIXR1,AFINSQ_1,MATRIX_2,FINSEQ_3,FUNCT_2,SETWISEO,FINSOP_1,RLVECT_2,RLVECT_5,FUNCOP_1,FUNCT_4,MATRIX_6,MATRIX15;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,SETWOP_2,FINSEQ_1,STRUCT_0,FUNCOP_1,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,FINSOP_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX_6,MATRIX_7,FINSEQ_7,FUNCT_4,DOMAIN_1,MATRIX11,MEASURE6,PSCOMP_1,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,FINSEQOP,PRVECT_1,MATRIX13,PRE_POLY,MATRLIN,FUNCT_7,PNPROC_1,LAPLACE;
definitions TARSKI,XBOOLE_0,RLVECT_1,FINSEQ_1,FINSEQ_2,MATRIX_1,GROUP_4,MATRIX_3,MATRIX_7,VECTSP_4,RELAT_1,LAPLACE,MATRIX13,FVSUM_1,ALGSTR_0;
theorems CARD_1,CARD_2,CARD_FIN,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQOP,FINSOP_1,FRECHET,FUNCT_1,FUNCT_2,FUNCT_7,FUNCOP_1,FVSUM_1,GROUP_1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_4,MATRIX_5,MATRIX_6,MATRIX_7,MATRIX11,MATRIX13,MATRIXR1,MATRIXR2,MATRLIN,NAT_1,ORDINAL1,PARTFUN1,PNPROC_1,RELAT_1,RLVECT_1,STIRL2_1,STRUCT_0,TARSKI,WELLORD2,VECTSP_1,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,NAT_D,PRE_POLY,MEASURE6,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15;
schemes FINSEQ_2,NAT_1,MATRIX_1;
registrations XBOOLE_0,FUNCT_1,FINSET_1,STRUCT_0,FVSUM_1,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,CARD_1,FUNCOP_1,SETFAM_1,FINSEQ_2,MATRLIN,MATRIX13,XREAL_0,PNPROC_1,VECTSP_9,VALUED_0,RELSET_1,PRVECT_1;
constructors SETWISEO,FINSOP_1,ALGSTR_1,FVSUM_1,XXREAL_0,GROUP_4,FINSEQ_7,WELLORD2,VECTSP_6,VECTSP_7,VECTSP_9,MATRIX_6,MATRIX_7,MATRIX11,MATRIX13,PNPROC_1,REALSET1,LAPLACE,BINOP_2,NAT_D,BINARITH,RELSET_1,PRE_POLY,PSCOMP_1;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve x for set;
reserve K for Field;
reserve a for (Element of K);
theorem
Th14: (for V being (VectSp of K) holds (for U being  finite (Subset of V) holds (for u,v being (Vector of V) holds (for a holds (((u in U & v in U) & (u = v implies (a <> ( - ( 1_ K ) ) or u = ( 0. V )))) implies ( Lin ( ( U \ { u } ) \/ { ( u + ( a * v ) ) } ) ) = ( Lin U ))))))
proof
let V being (VectSp of K);
let U being  finite (Subset of V);
let u being (Vector of V);
let v being (Vector of V);
let a;
assume that
A1: u in U
and
A2: v in U
and
A3: (u = v implies (a <> ( - ( 1_ K ) ) or u = ( 0. V )));
set ua = ( u + ( a * v ) );
set UU = ( U \ { u } );
U c= (the carrier of ( Lin ( UU \/ { ua } ) ))
proof
let x;
assume that
A4: x in U;
per cases ;
suppose A5: x = u;

per cases ;
suppose A6: u <> v;

A7: ( ua + ( ( - a ) * v ) ) = ( ua - ( a * v ) ) by VECTSP_1:21
.= ( u + ( ( a * v ) - ( a * v ) ) ) by RLVECT_1:def 3
.= ( u + ( 0. V ) ) by VECTSP_1:16
.= u by RLVECT_1:def 4;
ua in { ua } by TARSKI:def 1;
then ua in ( UU \/ { ua } ) by XBOOLE_0:def 3;
then A8: ua in ( Lin ( UU \/ { ua } ) ) by VECTSP_7:8;
v in UU by A2,A6,ZFMISC_1:56;
then v in ( UU \/ { ua } ) by XBOOLE_0:def 3;
then ( ( - a ) * v ) in ( Lin ( UU \/ { ua } ) ) by VECTSP_4:21,VECTSP_7:8;
then ( ua + ( ( - a ) * v ) ) in ( Lin ( UU \/ { ua } ) ) by A8,VECTSP_4:20;
hence thesis by A5,A7,STRUCT_0:def 5;
end;
suppose A9: u = v;

per cases  by A3,A9;
suppose a <> ( - ( 1_ K ) );

then ( 0. K ) <> ( ( - ( 1_ K ) ) - a ) by VECTSP_1:19;
then ( 0. K ) <> ( - ( ( - ( 1_ K ) ) - a ) ) by VECTSP_1:28;
then A10: ( 0. K ) <> ( a + ( 1_ K ) ) by VECTSP_1:31;
ua in { ua } by TARSKI:def 1;
then A11: ua in ( UU \/ { ua } ) by XBOOLE_0:def 3;
ua = ( ( ( 1_ K ) * u ) + ( a * u ) ) by A9,VECTSP_1:def 17
.= ( ( ( 1. K ) + a ) * u ) by VECTSP_1:def 15;
then ( ( ( ( 1. K ) + a ) " ) * ua ) = u by A10,VECTSP_1:20;
then u in ( Lin ( UU \/ { ua } ) ) by A11,VECTSP_4:21,VECTSP_7:8;
hence thesis by A5,STRUCT_0:def 5;
end;
suppose u = ( 0. V );

then x in ( Lin ( UU \/ { ua } ) ) by A5,VECTSP_4:17;
hence thesis by STRUCT_0:def 5;
end;
end;
end;
suppose x <> u;

then x in UU by A4,ZFMISC_1:56;
then x in ( UU \/ { ua } ) by XBOOLE_0:def 3;
then x in ( Lin ( UU \/ { ua } ) ) by VECTSP_7:8;
hence thesis by STRUCT_0:def 5;
end;
end;
then ( Lin U ) is (Subspace of ( Lin ( UU \/ { ua } ) )) by VECTSP_9:16;
then A12: (the carrier of ( Lin U )) c= (the carrier of ( Lin ( UU \/ { ua } ) )) by VECTSP_4:def 2;
( Lin ( UU \/ { ua } ) ) is (Subspace of ( Lin U )) by A1,A2,CKB15:1;
then (the carrier of ( Lin ( UU \/ { ua } ) )) c= (the carrier of ( Lin U )) by VECTSP_4:def 2;
then (the carrier of ( Lin U )) = (the carrier of ( Lin ( UU \/ { ua } ) )) by A12,XBOOLE_0:def 10;
hence thesis by VECTSP_4:29;
end;
