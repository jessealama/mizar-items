environ
vocabularies NUMBERS,NAT_1,VECTSP_1,FREEALG,FINSET_1,SUBSET_1,MATRIX_1,TREES_1,FINSEQ_1,RELAT_1,XXREAL_0,INCSP_1,FVSUM_1,CARD_3,RVSUM_1,GROUP_1,ARYTM_1,SUPINF_2,FUNCT_1,ARYTM_3,CARD_1,XBOOLE_0,ALGSTR_0,ORDINAL4,STRUCT_0,FINSEQ_2,TARSKI,RLVECT_1,PARTFUN1,VALUED_1,ZFMISC_1,CLASSES1,XCMPLX_0,MATRIX_3,MATRIX13,LAPLACE,PRVECT_1,RLVECT_3,LMOD_7,QC_LANG1,RLSUB_1,MESFUNC1,PRE_POLY,MATRIX11,MATRIXR1,AFINSQ_1,MATRIX_2,FINSEQ_3,FUNCT_2,SETWISEO,FINSOP_1,RLVECT_2,RLVECT_5,FUNCOP_1,FUNCT_4,MATRIX_6,MATRIX15;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,SETWOP_2,FINSEQ_1,STRUCT_0,FUNCOP_1,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,FINSOP_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX_6,MATRIX_7,FINSEQ_7,FUNCT_4,DOMAIN_1,MATRIX11,MEASURE6,PSCOMP_1,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,FINSEQOP,PRVECT_1,MATRIX13,PRE_POLY,MATRLIN,FUNCT_7,PNPROC_1,LAPLACE,CKB17,CKB28,CKB29,CKB38,CKB70,CKB73,CKB77;
definitions TARSKI,XBOOLE_0,RLVECT_1,FINSEQ_1,FINSEQ_2,MATRIX_1,GROUP_4,MATRIX_3,MATRIX_7,VECTSP_4,RELAT_1,LAPLACE,MATRIX13,FVSUM_1,ALGSTR_0,CKB28,CKB29,CKB38,CKB70,CKB77;
theorems CARD_1,CARD_2,CARD_FIN,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQOP,FINSOP_1,FRECHET,FUNCT_1,FUNCT_2,FUNCT_7,FUNCOP_1,FVSUM_1,GROUP_1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_4,MATRIX_5,MATRIX_6,MATRIX_7,MATRIX11,MATRIX13,MATRIXR1,MATRIXR2,MATRLIN,NAT_1,ORDINAL1,PARTFUN1,PNPROC_1,RELAT_1,RLVECT_1,STIRL2_1,STRUCT_0,TARSKI,WELLORD2,VECTSP_1,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,NAT_D,PRE_POLY,MEASURE6,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB69,CKB70,CKB71,CKB72,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83;
schemes FINSEQ_2,NAT_1,MATRIX_1,CKB67,CKB68;
registrations XBOOLE_0,FUNCT_1,FINSET_1,STRUCT_0,FVSUM_1,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,CARD_1,FUNCOP_1,SETFAM_1,FINSEQ_2,MATRLIN,MATRIX13,XREAL_0,PNPROC_1,VECTSP_9,VALUED_0,RELSET_1,PRVECT_1,CKB74;
constructors SETWISEO,FINSOP_1,ALGSTR_1,FVSUM_1,XXREAL_0,GROUP_4,FINSEQ_7,WELLORD2,VECTSP_6,VECTSP_7,VECTSP_9,MATRIX_6,MATRIX_7,MATRIX11,MATRIX13,PNPROC_1,REALSET1,LAPLACE,BINOP_2,NAT_D,BINARITH,RELSET_1,PRE_POLY,PSCOMP_1,CKB17,CKB28,CKB29,CKB38,CKB70,CKB73,CKB77;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
reserve i for Nat;
reserve j for Nat;
reserve k for Nat;
reserve l for Nat;
reserve m for Nat;
reserve n for Nat;
reserve K for Field;
reserve N for  without_zero  finite (Subset of ( NAT ));
reserve a for (Element of K);
reserve A for (Matrix of K);
reserve X for (Matrix of K);
reserve f for (FinSequence of K);
theorem
Th67: (for A being (Matrix of n,m,K) holds (for N holds (((((( card N ) = n & N c= ( Seg m )) & ( Segm (A,( Seg n ),N) ) = ( 1. (K,n) )) & n > ( 0 )) & ( m -' n ) > ( 0 )) implies (ex MVectors being (Matrix of ( m -' n ),m,K) st ((( Segm (MVectors,( Seg ( m -' n ) ),( ( Seg m ) \ N )) ) = ( 1. (K,( m -' n )) ) & ( Segm (MVectors,( Seg ( m -' n ) ),N) ) = ( - ( ( Segm (A,( Seg n ),( ( Seg m ) \ N )) ) @ ) )) & ( Lin ( lines MVectors ) ) = ( Space_of_Solutions_of A ))))))
proof
let A being (Matrix of n,m,K);
let N;
assume that
A1: ( card N ) = n
and
A2: N c= ( Seg m )
and
A3: ( Segm (A,( Seg n ),N) ) = ( 1. (K,n) )
and
A4: n > ( 0 )
and
A5: ( m -' n ) > ( 0 );
( Seg m ) <> ( {} ) by A1,A2,A4,CARD_1:27,XBOOLE_1:3;
then A6: m <> ( 0 );
consider MV being (Matrix of ( m -' n ),m,K) such that A7: ( Segm (MV,( Seg ( m -' n ) ),( ( Seg m ) \ N )) ) = ( 1. (K,( m -' n )) ) and A8: ( Segm (MV,( Seg ( m -' n ) ),N) ) = ( - ( ( Segm (A,( Seg n ),( ( Seg m ) \ N )) ) @ ) ) and A9: (for l holds (for M being (Matrix of m,l,K) holds ((for i holds (i in ( Seg l ) implies ((ex j st (j in ( Seg ( m -' n ) ) & ( Col (M,i) ) = ( Line (MV,j) ))) or ( Col (M,i) ) = ( m |-> ( 0. K ) )))) implies M in ( Solutions_of (A,( 0. (K,n,l) )) )))) by A1,A2,A3,A4,CKB59:1;
A10: ( width MV ) = m by A5,MATRIX_1:23;
A11: (( len MV ) = ( m -' n ) & ( len MV ) >= ( the_rank_of MV )) by MATRIX13:74,MATRIX_1:def 2;
A12: ( Indices MV ) = [: ( Seg ( m -' n ) ),( Seg m ) :] by A5,MATRIX_1:23;
( ( Seg m ) \ N ) c= ( Seg m ) by XBOOLE_1:36;
then A13: [: ( Seg ( m -' n ) ),( ( Seg m ) \ N ) :] c= ( Indices MV ) by A12,ZFMISC_1:95;
A14: ( width A ) = m by A4,MATRIX_1:23;
A15: ( len A ) = n by A4,MATRIX_1:23;
( lines MV ) c= ( Solutions_of (A,( ( len A ) |-> ( 0. K ) )) )
proof
let x;
assume x in ( lines MV );
then consider k such that A16: k in ( Seg ( m -' n ) ) and A17: x = ( Line (MV,k) ) by MATRIX13:103;
set C = ( ColVec2Mx ( Line (MV,k) ) );
A18: m = ( width MV ) by A5,MATRIX_1:23
.= ( len ( Line (MV,k) ) ) by CARD_1:def 7;
now
let i;
assume i in ( Seg 1 );
then A19: i = 1 by FINSEQ_1:2,TARSKI:def 1;
( Col (C,1) ) = ( Line (MV,k) ) by A6,A18,CKB31:1;
hence ((ex j st (j in ( Seg ( m -' n ) ) & ( Col (C,i) ) = ( Line (MV,j) ))) or ( Col (C,i) ) = ( m |-> ( 0. K ) )) by A16,A19;
end;
then C in ( Solutions_of (A,( 0. (K,n,1) )) ) by A9,A18;
then C in ( Solutions_of (A,( ColVec2Mx ( ( len A ) |-> ( 0. K ) ) )) ) by A15,CKB37:1;
hence thesis by A17;
end;
then ( Lin ( lines MV ) ) is (Subspace of ( Lin ( Solutions_of (A,( ( len A ) |-> ( 0. K ) )) ) )) by A14,VECTSP_7:13;
then A20: (the carrier of ( Lin ( lines MV ) )) c= (the carrier of ( Lin ( Solutions_of (A,( ( len A ) |-> ( 0. K ) )) ) )) by VECTSP_4:def 2;
( ( m -' n ) + ( 0 ) ) > ( 0 ) by A5;
then ( m -' n ) >= 1 by NAT_1:19;
then A21: ( Det ( 1. (K,( m -' n )) ) ) = ( 1_ K ) by MATRIX_7:16;
A22: ( 0. K ) <> ( 1_ K );
A23: ( card ( Seg m ) ) = m by FINSEQ_1:57;
then A24: ( m -' n ) = ( m - n ) by A1,A2,NAT_1:43,XREAL_1:233;
A25: ( card ( ( Seg m ) \ N ) ) = ( m - n ) by A1,A2,A23,CARD_2:44;
then A26: ( card ( Seg ( m -' n ) ) ) = ( card ( ( Seg m ) \ N ) ) by A24,FINSEQ_1:57;
( EqSegm (MV,( Seg ( m -' n ) ),( ( Seg m ) \ N )) ) = ( 1. (K,( m -' n )) ) by A7,A24,A25,FINSEQ_1:57,MATRIX13:def 3;
then ( m -' n ) <= ( the_rank_of MV ) by A24,A25,A26,A13,A21,A22,MATRIX13:def 4;
then A27: ( the_rank_of MV ) = ( m -' n ) by A11,XXREAL_0:1;
A28: (the carrier of ( Space_of_Solutions_of A )) c= (the carrier of ( Lin ( lines MV ) ))
proof
set SN = ( ( Seg m ) \ N );
let y;
assume y in (the carrier of ( Space_of_Solutions_of A ));
then y in ( Solutions_of (A,( ( len A ) |-> ( 0. K ) )) ) by A6,A14,CKB77:def 1;
then consider f such that A29: f = y and A30: ( ColVec2Mx f ) in ( Solutions_of (A,( ColVec2Mx ( ( len A ) |-> ( 0. K ) ) )) );
A31: ( len f ) = m by A14,A30,CKB72:1;
deffunc F(Nat) = ( ( f /. ( ( Sgm SN ) . $1 ) ) * ( Line (MV,$1) ) );
A32: ( dom f ) = ( Seg ( len f ) ) by FINSEQ_1:def 3;
consider M being (FinSequence of ( ( width MV ) -tuples_on (the carrier of K) )) such that A33: ( len M ) = ( m -' n ) and A34: (for j holds (j in ( dom M ) implies ( M . j ) = F(j))) from FINSEQ_2:sch 1;
A35: ( dom M ) = ( Seg ( m -' n ) ) by A33,FINSEQ_1:def 3;
reconsider M as (FinSequence of (the carrier of ( m -VectSp_over K ))) by A10,MATRIX13:102;
reconsider M1 = ( FinS2MX M ) as (Matrix of ( m -' n ),m,K) by A33;
now
let i;
assume that
A36: i in ( Seg ( m -' n ) );
take a = ( f /. ( ( Sgm SN ) . i ) );
thus ( Line (M1,i) ) = ( M1 . i ) by A36,MATRIX_2:8
.= ( a * ( Line (MV,i) ) ) by A34,A35,A36;
end;
then consider L being (Linear_Combination of ( lines MV )) such that A37: ( L (#) ( MX2FinS MV ) ) = M1 by A27,MATRIX13:105,MATRIX13:108;
reconsider SumL = ( Sum L ),f as (Element of ( m -tuples_on (the carrier of K) )) by A31,FINSEQ_2:92,MATRIX13:102;
now
let i;
assume that
A38: i in ( Seg m );
A39: SN c= ( Seg m ) by XBOOLE_1:36;
A40:now
per cases ;
suppose A41: i in N;

consider X such that A42: X = ( ColVec2Mx f ) and A43: ( len X ) = ( width A ) and ( width X ) = ( width ( ColVec2Mx ( ( len A ) |-> ( 0. K ) ) ) ) and A44: ( A * X ) = ( ColVec2Mx ( ( len A ) |-> ( 0. K ) ) ) by A30;
A45: f = ( Col (X,1) ) by A6,A14,A42,A43,CKB31:1;
reconsider F = f as (Element of ( ( width A ) -tuples_on (the carrier of K) )) by A4,MATRIX_1:23;
A46: ( rng ( Sgm ( Seg ( m -' n ) ) ) ) = ( Seg ( m -' n ) ) by FINSEQ_1:def 13;
A47: ( rng ( Sgm N ) ) = N by A2,FINSEQ_1:def 13;
then consider x such that A48: x in ( dom ( Sgm N ) ) and A49: ( ( Sgm N ) . x ) = i by A41,FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A48;
set L = ( Line (A,x) );
A50: ( dom ( mlt (L,F) ) ) = ( Seg m ) by A14,FINSEQ_2:124;
then consider mN,mSN being (FinSequence of K) such that A51: mN = ( ( mlt (L,F) ) * ( Sgm N ) ) and A52: mSN = ( ( mlt (L,F) ) * ( Sgm SN ) ) and A53: ( Sum ( mlt (L,F) ) ) = ( ( Sum mN ) + ( Sum mSN ) ) by A2,CKB83:1;
A54: ( dom ( Sgm N ) ) = ( Seg ( card N ) ) by A2,FINSEQ_3:40;
then A55: ( dom mN ) = ( Seg n ) by A1,A2,A47,A50,A51,RELAT_1:27;
( Indices ( 1. (K,n) ) ) = [: ( Seg n ),( Seg n ) :] by MATRIX_1:24;
then A56: [ x,x ] in ( Indices ( 1. (K,n) ) ) by A1,A54,A48,ZFMISC_1:87;
A57: ( ( Sgm N ) . x ) in N by A47,A48,FUNCT_1:def 3;
then A58: (( F . ( ( Sgm N ) . x ) ) = ( F /. ( ( Sgm N ) . x ) ) & ( L . ( ( Sgm N ) . x ) ) = ( A * (x,( ( Sgm N ) . x )) )) by A2,A14,A31,A32,MATRIX_1:def 7,PARTFUN1:def 6;
A59: x = ( ( idseq n ) . x ) by A1,A54,A48,FINSEQ_2:49
.= ( ( Sgm ( Seg n ) ) . x ) by FINSEQ_3:48;
now
let j;
assume that
A60: j in ( dom mN )
and
A61: j <> x;
( Indices ( 1. (K,n) ) ) = [: ( Seg n ),( Seg n ) :] by MATRIX_1:24;
then A62: [ x,j ] in ( Indices ( 1. (K,n) ) ) by A1,A54,A48,A55,A60,ZFMISC_1:87;
A63: ( ( Sgm N ) . j ) in N by A1,A47,A54,A55,A60,FUNCT_1:def 3;
then A64: (( F . ( ( Sgm N ) . j ) ) = ( F /. ( ( Sgm N ) . j ) ) & ( L . ( ( Sgm N ) . j ) ) = ( A * (x,( ( Sgm N ) . j )) )) by A2,A14,A31,A32,MATRIX_1:def 7,PARTFUN1:def 6;
thus ( mN . j ) = ( ( mlt (L,F) ) . ( ( Sgm N ) . j ) ) by A51,A60,FUNCT_1:12
.= ( ( F /. ( ( Sgm N ) . j ) ) * ( A * (( ( Sgm ( Seg n ) ) . x ),( ( Sgm N ) . j )) ) ) by A2,A14,A59,A63,A64,FVSUM_1:61
.= ( ( F /. ( ( Sgm N ) . j ) ) * ( ( 1. (K,n) ) * (x,j) ) ) by A3,A62,MATRIX13:def 1
.= ( ( F /. ( ( Sgm N ) . j ) ) * ( 0. K ) ) by A61,A62,MATRIX_1:def 11
.= ( 0. K ) by VECTSP_1:6;
end;
then ( Sum mN ) = ( mN . x ) by A1,A54,A48,A55,MATRIX_3:12;
then A65: ( Sum mN ) = ( ( mlt (L,F) ) . ( ( Sgm N ) . x ) ) by A1,A54,A48,A51,A55,FUNCT_1:12
.= ( ( F /. ( ( Sgm N ) . x ) ) * ( A * (( ( Sgm ( Seg n ) ) . x ),( ( Sgm N ) . x )) ) ) by A2,A14,A59,A57,A58,FVSUM_1:61
.= ( ( F /. ( ( Sgm N ) . x ) ) * ( ( 1. (K,n) ) * (x,x) ) ) by A3,A56,MATRIX13:def 1
.= ( ( F /. ( ( Sgm N ) . x ) ) * ( 1_ K ) ) by A56,MATRIX_1:def 11
.= ( F /. i ) by A49,VECTSP_1:def 4
.= ( f . i ) by A31,A32,A38,PARTFUN1:def 6;
A66: ( dom ( Sgm SN ) ) = ( Seg ( card SN ) ) by FINSEQ_3:40,XBOOLE_1:36;
A67: ( rng ( Sgm SN ) ) = SN by A39,FINSEQ_1:def 13;
then ( dom mSN ) = ( Seg ( m -' n ) ) by A24,A25,A50,A52,A66,RELAT_1:27,XBOOLE_1:36;
then A68: ( len mSN ) = ( m -' n ) by FINSEQ_1:def 3;
A69: ( ColVec2Mx ( ( len A ) |-> ( 0. K ) ) ) = ( 0. (K,( len A ),1) ) by CKB37:1;
(( Indices ( 0. (K,( len A ),1) ) ) = [: ( Seg ( len A ) ),( Seg 1 ) :] & 1 in ( Seg 1 )) by A4,A15,MATRIX_1:23;
then A70: [ x,1 ] in ( Indices ( 0. (K,( len A ),1) ) ) by A1,A15,A54,A48,ZFMISC_1:87;
then A71: ( 0. K ) = ( ( ColVec2Mx ( ( len A ) |-> ( 0. K ) ) ) * (x,1) ) by A69,MATRIX_3:1
.= ( ( Line (A,x) ) "*" ( Col (X,1) ) ) by A43,A44,A69,A70,MATRIX_3:def 4
.= ( Sum ( mlt (( Line (A,x) ),( Col (X,1) )) ) );
reconsider mSN as (Element of ( ( m -' n ) -tuples_on (the carrier of K) )) by A68,FINSEQ_2:92;
A72: ( width M1 ) = m by A5,MATRIX_1:23;
now
let j;
assume that
A73: j in ( Seg ( m -' n ) );
A74: j = ( ( idseq ( m -' n ) ) . j ) by A73,FINSEQ_2:49
.= ( ( Sgm ( Seg ( m -' n ) ) ) . j ) by FINSEQ_3:48;
A75: ( Line (M1,j) ) = ( M1 . j ) by A73,MATRIX_2:8
.= ( ( f /. ( ( Sgm SN ) . j ) ) * ( Line (MV,j) ) ) by A34,A35,A73;
A76: ( ( Sgm SN ) . j ) in SN by A24,A25,A67,A66,A73,FUNCT_1:def 3;
then (( f /. ( ( Sgm SN ) . j ) ) = ( F . ( ( Sgm SN ) . j ) ) & ( A * (x,( ( Sgm SN ) . j )) ) = ( L . ( ( Sgm SN ) . j ) )) by A14,A31,A32,A39,MATRIX_1:def 7,PARTFUN1:def 6;
then A77: ( ( f /. ( ( Sgm SN ) . j ) ) * ( A * (x,( ( Sgm SN ) . j )) ) ) = ( ( mlt (L,F) ) . ( ( Sgm SN ) . j ) ) by A14,A39,A76,FVSUM_1:61
.= ( mSN . j ) by A24,A25,A52,A66,A73,FUNCT_1:13;
A78: x = ( ( idseq n ) . x ) by A1,A54,A48,FINSEQ_2:49
.= ( ( Sgm ( Seg n ) ) . x ) by FINSEQ_3:48;
A79: [: ( Seg ( m -' n ) ),N :] c= ( Indices MV ) by A2,A12,ZFMISC_1:95;
[ j,i ] in ( Indices MV ) by A2,A12,A41,A73,ZFMISC_1:87;
then A80: [ j,x ] in ( Indices ( Segm (MV,( Seg ( m -' n ) ),N) ) ) by A47,A49,A46,A74,A79,MATRIX13:17;
then A81: [ j,x ] in ( Indices ( ( Segm (A,( Seg n ),SN) ) @ ) ) by A8,CKB3:1;
then A82: [ x,j ] in ( Indices ( Segm (A,( Seg n ),SN) ) ) by MATRIX_1:def 6;
A83: ( ( Line (MV,j) ) . i ) = ( MV * (( ( Sgm ( Seg ( m -' n ) ) ) . j ),( ( Sgm N ) . x )) ) by A10,A38,A49,A74,MATRIX_1:def 7
.= ( ( - ( ( Segm (A,( Seg n ),( ( Seg m ) \ N )) ) @ ) ) * (j,x) ) by A8,A80,MATRIX13:def 1
.= ( - ( ( ( Segm (A,( Seg n ),( ( Seg m ) \ N )) ) @ ) * (j,x) ) ) by A81,MATRIX_3:def 2
.= ( - ( ( Segm (A,( Seg n ),SN) ) * (x,j) ) ) by A82,MATRIX_1:def 6
.= ( - ( A * (x,( ( Sgm SN ) . j )) ) ) by A82,A78,MATRIX13:def 1;
( dom M1 ) = ( Seg ( m -' n ) ) by A33,FINSEQ_1:def 3;
hence ( ( Col (M1,i) ) . j ) = ( M1 * (j,i) ) by A73,MATRIX_1:def 8
.= ( ( Line (M1,j) ) . i ) by A38,A72,MATRIX_1:def 7
.= ( ( f /. ( ( Sgm SN ) . j ) ) * ( - ( A * (x,( ( Sgm SN ) . j )) ) ) ) by A2,A10,A41,A75,A83,FVSUM_1:51
.= ( - ( ( f /. ( ( Sgm SN ) . j ) ) * ( A * (x,( ( Sgm SN ) . j )) ) ) ) by VECTSP_1:8
.= ( ( - mSN ) . j ) by A73,A77,FVSUM_1:23;
end;
then ( Col (M1,i) ) = ( - mSN ) by A33,FINSEQ_2:119;
hence ( Sum ( Col (M1,i) ) ) = ( - ( Sum mSN ) ) by FVSUM_1:75
.= ( ( - ( Sum mSN ) ) + ( ( Sum mSN ) + ( Sum mN ) ) ) by A71,A45,A53,RLVECT_1:def 4
.= ( ( ( - ( Sum mSN ) ) + ( Sum mSN ) ) + ( Sum mN ) ) by RLVECT_1:def 3
.= ( ( 0. K ) + ( Sum mN ) ) by VECTSP_1:19
.= ( f . i ) by A65,RLVECT_1:def 4;
end;
suppose A84: (not i in N);

A85: ( rng ( Sgm SN ) ) = SN by A39,FINSEQ_1:def 13;
i in SN by A38,A84,XBOOLE_0:def 5;
then consider x such that A86: x in ( dom ( Sgm SN ) ) and A87: ( ( Sgm SN ) . x ) = i by A85,FUNCT_1:def 3;
reconsider x as (Element of ( NAT )) by A86;
A88: ( dom ( Sgm SN ) ) = ( Seg ( card SN ) ) by FINSEQ_3:40,XBOOLE_1:36;
then A89: ( Line (M1,x) ) = ( M1 . x ) by A24,A25,A86,MATRIX_2:8
.= ( ( f /. ( ( Sgm SN ) . x ) ) * ( Line (MV,x) ) ) by A24,A25,A34,A35,A88,A86;
[ x,x ] in [: ( Seg ( m -' n ) ),( Seg ( m -' n ) ) :] by A24,A25,A88,A86,ZFMISC_1:87;
then A90: [ x,x ] in ( Indices ( 1. (K,( m -' n )) ) ) by MATRIX_1:24;
x = ( ( idseq ( m -' n ) ) . x ) by A24,A25,A88,A86,FINSEQ_2:49
.= ( ( Sgm ( Seg ( m -' n ) ) ) . x ) by FINSEQ_3:48;
then A91: ( ( Line (MV,x) ) . i ) = ( MV * (( ( Sgm ( Seg ( m -' n ) ) ) . x ),( ( Sgm SN ) . x )) ) by A10,A38,A87,MATRIX_1:def 7
.= ( ( 1. (K,( m -' n )) ) * (x,x) ) by A7,A90,MATRIX13:def 1
.= ( 1_ K ) by A90,MATRIX_1:def 11;
A92: ( dom ( Col (M1,i) ) ) = ( Seg ( len M1 ) ) by FINSEQ_2:124;
A93: ( dom M1 ) = ( Seg ( len M1 ) ) by FINSEQ_1:def 3;
A94: ( len M1 ) = ( m - n ) by A5,A24,MATRIX_1:23;
A95: ( width M1 ) = m by A5,MATRIX_1:23;
A96:now
let j;
assume that
A97: j in ( dom ( Col (M1,i) ) )
and
A98: x <> j;
A99: ( Line (M1,j) ) = ( M1 . j ) by A92,A97,MATRIX_2:8
.= ( ( f /. ( ( Sgm SN ) . j ) ) * ( Line (MV,j) ) ) by A34,A92,A93,A97;
[ j,x ] in [: ( Seg ( m -' n ) ),( Seg ( m -' n ) ) :] by A24,A25,A88,A86,A92,A94,A97,ZFMISC_1:87;
then A100: [ j,x ] in ( Indices ( 1. (K,( m -' n )) ) ) by MATRIX_1:24;
j = ( ( idseq ( m -' n ) ) . j ) by A24,A92,A94,A97,FINSEQ_2:49
.= ( ( Sgm ( Seg ( m -' n ) ) ) . j ) by FINSEQ_3:48;
then A101: ( ( Line (MV,j) ) . i ) = ( MV * (( ( Sgm ( Seg ( m -' n ) ) ) . j ),( ( Sgm SN ) . x )) ) by A10,A38,A87,MATRIX_1:def 7
.= ( ( 1. (K,( m -' n )) ) * (j,x) ) by A7,A100,MATRIX13:def 1
.= ( 0. K ) by A98,A100,MATRIX_1:def 11;
thus ( ( Col (M1,i) ) . j ) = ( M1 * (j,i) ) by A92,A93,A97,MATRIX_1:def 8
.= ( ( ( f /. ( ( Sgm SN ) . j ) ) * ( Line (MV,j) ) ) . i ) by A38,A95,A99,MATRIX_1:def 7
.= ( ( f /. ( ( Sgm SN ) . j ) ) * ( 0. K ) ) by A10,A38,A101,FVSUM_1:51
.= ( 0. K ) by VECTSP_1:6;
end;
( ( Col (M1,i) ) . x ) = ( M1 * (x,i) ) by A25,A88,A86,A94,A93,MATRIX_1:def 8
.= ( ( Line (M1,x) ) . i ) by A38,A95,MATRIX_1:def 7
.= ( ( f /. ( ( Sgm SN ) . x ) ) * ( 1_ K ) ) by A10,A38,A91,A89,FVSUM_1:51
.= ( f /. i ) by A87,VECTSP_1:def 4
.= ( f . i ) by A31,A32,A38,PARTFUN1:def 6;
hence ( Sum ( Col (M1,i) ) ) = ( f . i ) by A25,A88,A86,A92,A94,A96,MATRIX_3:12;
end;
end;
( Carrier L ) c= ( lines MV ) by VECTSP_6:def 4;
hence ( SumL . i ) = ( f . i ) by A27,A37,A38,A40,MATRIX13:105,MATRIX13:107;
end;
then A102: SumL = f by FINSEQ_2:119;
(the carrier of ( Lin ( lines MV ) )) = { ( Sum l ) where l is (Linear_Combination of ( lines MV )): (not contradiction) } by VECTSP_7:def 2;
hence thesis by A29,A102;
end;
take MV;
( Solutions_of (A,( ( len A ) |-> ( 0. K ) )) ) = (the carrier of ( Space_of_Solutions_of A )) by A6,A14,CKB77:def 1;
then (the carrier of ( Lin ( lines MV ) )) c= (the carrier of ( Space_of_Solutions_of A )) by A20,VECTSP_7:11;
then (the carrier of ( Lin ( lines MV ) )) = (the carrier of ( Space_of_Solutions_of A )) by A28,XBOOLE_0:def 10;
hence thesis by A14,A7,A8,VECTSP_4:29;
end;
