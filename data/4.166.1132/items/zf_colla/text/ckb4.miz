environ
vocabularies XBOOLE_0,ORDINAL1,FUNCT_1,SUBSET_1,RELAT_1,TARSKI,ZF_LANG,ZF_MODEL,BVFUNC_2,CARD_1,XBOOLEAN,FUNCT_4,ARYTM_3,ZF_COLLA;
notations TARSKI,XBOOLE_0,SUBSET_1,XCMPLX_0,RELAT_1,FUNCT_1,ZF_LANG,NUMBERS,FUNCT_2,FUNCT_7,ORDINAL1,ZF_MODEL,CKB1;
definitions TARSKI,ORDINAL1,XBOOLE_0,CKB1;
theorems TARSKI,FUNCT_1,ZF_LANG,ZF_MODEL,ORDINAL1,ZFMISC_1,RELAT_1,XBOOLE_0,FUNCT_7,CKB1,CKB2,CKB3;
schemes TARSKI,CLASSES1,ORDINAL1,XBOOLE_0;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,MEMBERED,ZF_LANG,RELSET_1;
constructors NAT_1,MEMBERED,ZF_MODEL,FUNCT_7,CKB1;
requirements NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve E for non empty set;
reserve A for Ordinal;
reserve B for Ordinal;
reserve C for Ordinal;
reserve d for (Element of E);
reserve d1 for (Element of E);
reserve d9 for (Element of E);
theorem
(( d /\ E ) c= ( Collapse (E,A) ) iff d in ( Collapse (E,( succ A )) ))
proof
A1: ( Collapse (E,( succ A )) ) = { d9: (for d1 holds (d1 in d9 implies (ex B st (B in ( succ A ) & d1 in ( Collapse (E,B) ))))) } by CKB2:1;
thus (( d /\ E ) c= ( Collapse (E,A) ) implies d in ( Collapse (E,( succ A )) ))
proof
assume A2: (for a being set holds (a in ( d /\ E ) implies a in ( Collapse (E,A) )));
now
let d1;
assume d1 in d;
then d1 in ( d /\ E ) by XBOOLE_0:def 4;
then d1 in ( Collapse (E,A) ) by A2;
hence (ex B st (B in ( succ A ) & d1 in ( Collapse (E,B) ))) by ORDINAL1:6;
end;
hence thesis by A1;
end;

assume d in ( Collapse (E,( succ A )) );
then A3: (ex e1 being (Element of E) st (e1 = d & (for d1 holds (d1 in e1 implies (ex B st (B in ( succ A ) & d1 in ( Collapse (E,B) ))))))) by A1;
let a being set;
assume A4: a in ( d /\ E );
then reconsider e = a as (Element of E) by XBOOLE_0:def 4;
a in d by A4,XBOOLE_0:def 4;
then consider B such that A5: B in ( succ A ) and A6: e in ( Collapse (E,B) ) by A3;
A7:now
( Collapse (E,B) ) = { d9: (for d1 holds (d1 in d9 implies (ex C st (C in B & d1 in ( Collapse (E,C) ))))) } by CKB2:1;
then A8: (ex d9 st (d9 = e & (for d1 holds (d1 in d9 implies (ex C st (C in B & d1 in ( Collapse (E,C) ))))))) by A6;
let d1;
assume d1 in e;
then consider C such that A9: (C in B & d1 in ( Collapse (E,C) )) by A8;
take C;
B c= A by A5,ORDINAL1:22;
hence (C in A & d1 in ( Collapse (E,C) )) by A9;
end;
( Collapse (E,A) ) = { d9: (for d1 holds (d1 in d9 implies (ex B st (B in A & d1 in ( Collapse (E,B) ))))) } by CKB2:1;
hence thesis by A7;
end;
