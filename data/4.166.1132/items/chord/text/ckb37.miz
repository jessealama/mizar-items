environ
vocabularies NUMBERS,XCMPLX_0,ORDINAL1,ARYTM_1,XXREAL_0,NAT_1,CARD_1,ARYTM_3,ABIAN,SUBSET_1,RELAT_1,INT_1,FINSEQ_1,FUNCT_1,FINSEQ_4,XBOOLE_0,FINSET_1,GRAPH_2,ORDINAL4,GLIB_000,GLIB_001,TARSKI,ZFMISC_1,RCOMP_1,GRAPH_1,RELAT_2,REWRITE1,FUNCOP_1,GLIB_002,PARTFUN1,MEMBERED,TOPGEN_1,CHORD;
notations TARSKI,XBOOLE_0,SUBSET_1,XXREAL_2,ORDINAL1,INT_1,XCMPLX_0,XXREAL_0,DOMAIN_1,RELAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,CARD_1,FINSET_1,NAT_1,ZFMISC_1,GLIB_000,GLIB_001,GLIB_002,FUNCOP_1,ABIAN,ENUMSET1,FINSEQ_4,NUMBERS,GRAPH_2,MEMBERED,CKB18;
definitions TARSKI,XBOOLE_0,GLIB_000,GLIB_001,GLIB_002,FUNCOP_1,CKB18;
theorems FINSEQ_1,FUNCT_1,GLIB_000,GLIB_001,GLIB_002,GRAPH_2,GRAPH_3,TREES_1,INT_1,JORDAN12,NAT_1,ORDINAL1,RELAT_1,TARSKI,XBOOLE_0,XBOOLE_1,FUNCOP_1,FUNCT_2,FINSEQ_3,FINSEQ_4,ZFMISC_1,ABIAN,CARD_2,ENUMSET1,FINSEQ_2,XREAL_1,MEMBERED,FINSEQ_5,XXREAL_0,NAT_D,PARTFUN1,XXREAL_2,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB36;
schemes NAT_1,GRAPH_5,FUNCT_2,FRAENKEL,CKB35;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,GLIB_000,ABIAN,GRAPH_2,GLIB_001,GLIB_002,FUNCT_2,XXREAL_2,CARD_1,RELSET_1;
constructors DOMAIN_1,REAL_1,NAT_D,FINSEQ_4,GRAPH_2,GLIB_001,GLIB_002,VALUED_1,XXREAL_2,RELSET_1,CKB18;
requirements ARITHM,BOOLE,NUMERALS,REAL,SUBSET;
begin
theorem
Th33: (for G being _Graph holds (for P being (Path of G) holds ((P is  open & ( len P ) > 3) implies (for e being set holds (e Joins ( P .last() ),( P .first() ),G implies ( P .addEdge e ) is  Cycle-like)))))
proof
let G being _Graph;
let W being (Path of G);
assume that
A1: W is  open
and
A2: ( len W ) > 3;
let e being set;
assume that
A3: e Joins ( W .last() ),( W .first() ),G;
A4:now
assume e in ( W .edges() );
then consider v1 being (Vertex of G),v2 being (Vertex of G),n being  odd (Element of ( NAT )) such that A5: ( n + 2 ) <= ( len W ) and A6: v1 = ( W . n ) and e = ( W . ( n + 1 ) ) and A7: v2 = ( W . ( n + 2 ) ) and A8: e Joins v1,v2,G by GLIB_001:103;
A9: n < ( len W ) by A5,XREAL_1:39;
per cases  by A3,A8,GLIB_000:15;
suppose A10: (v1 = ( W .first() ) & v2 = ( W .last() ));

now
assume A11: 1 <> n;
1 <= n by CKB2:1;
then ( ( 2 * ( 0 ) ) + 1 ) < n by A11,XXREAL_0:1;
hence contradiction by A1,A6,A9,A10,GLIB_001:147;
end;
hence contradiction by A1,A2,A7,A10,GLIB_001:147;
end;
suppose (v1 = ( W .last() ) & v2 = ( W .first() ));

hence contradiction by A1,A6,A9,GLIB_001:147;
end;
end;
set P = ( W .addEdge e );
A12: ( P .last() ) = ( W .first() ) by A3,GLIB_001:63;
A13: ( len P ) = ( ( len W ) + ( 2 * 1 ) ) by A3,GLIB_001:64;
A14:now
let m being  odd (Element of ( NAT )),n being  odd (Element of ( NAT ));
assume that
A15: m < n
and
A16: n <= ( len P );
m < ( ( len W ) + ( 2 * 1 ) ) by A13,A15,A16,XXREAL_0:2;
then A17: m <= ( ( ( len W ) + 2 ) - 2 ) by CKB4:1;
assume A18: ( P . m ) = ( P . n );
1 <= m by CKB2:1;
then A19: m in ( dom W ) by A17,FINSEQ_3:25;
then A20: ( W . m ) = ( P . m ) by A3,GLIB_001:65;
A21:now
assume n < ( len P );
then n < ( ( len W ) + ( 2 * 1 ) ) by A3,GLIB_001:64;
then A22: n <= ( ( ( len W ) + 2 ) - 2 ) by CKB4:1;
1 <= n by CKB2:1;
then A23: n in ( dom W ) by A22,FINSEQ_3:25;
( W . n ) <> ( W . m ) by A1,A15,A22,GLIB_001:147;
hence contradiction by A3,A18,A20,A23,GLIB_001:65;
end;
then A24: ( P . n ) = ( W . 1 ) by A12,A16,XXREAL_0:1;
now
assume A25: m <> 1;
1 <= m by CKB2:1;
then ( ( 2 * ( 0 ) ) + 1 ) < m by A25,XXREAL_0:1;
then ( W . 1 ) <> ( W . m ) by A1,A17,GLIB_001:147;
hence contradiction by A3,A18,A19,A24,GLIB_001:65;
end;
hence (m = 1 & n = ( len P )) by A16,A21,XXREAL_0:1;
end;
e in ( ( W .last() ) .edgesInOut() ) by A3,GLIB_000:62;
then P is  Trail-like by A4,GLIB_001:142;
then A26: P is  Path-like by A14,GLIB_001:def 28;
( P .first() ) = ( W .first() ) by A3,GLIB_001:63;
then A27: P is  closed by A12,GLIB_001:def 24;
P is non trivial by A3,GLIB_001:132;
hence thesis by A27,A26,GLIB_001:def 31;
end;
