environ
vocabularies REWRITE1,WAYBEL_0,TARSKI,ZFMISC_1,STRUCT_0,LATTICES,ORDINAL2,SUBSET_1,EQREL_1,XBOOLE_0,YELLOW_1,ARYTM_0,ORDERS_2,WAYBEL16,RELAT_1,YELLOW_0,LATTICE3,WAYBEL_5,WELLORD2,CARD_FIL,WELLORD1,CAT_1,SETFAM_1,XXREAL_0,FUNCT_1,CARD_1,SEQM_3,PBOOLE,FUNCOP_1,YELLOW_2,CARD_3,FUNCT_6,WAYBEL22,FUNCT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_6,STRUCT_0,WELLORD1,CARD_1,CARD_3,ORDERS_2,LATTICE3,FUNCOP_1,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_7,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_5,WAYBEL16,CKB11,CKB14,CKB18;
definitions TARSKI,FUNCT_1,ORDERS_3,LATTICE3,WELLORD2,YELLOW_0,WAYBEL_0,STRUCT_0,CKB11,CKB14,CKB18;
theorems TARSKI,CARD_1,ZFMISC_1,SETFAM_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCT_3,FUNCT_4,FUNCT_6,FUNCOP_1,WELLORD1,WELLORD2,CARD_3,LATTICE3,PBOOLE,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_0,WAYBEL_1,WAYBEL_5,WAYBEL11,WAYBEL13,WAYBEL14,WAYBEL15,WAYBEL16,WAYBEL17,RELSET_1,WAYBEL_4,WAYBEL20,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes CLASSES1,FUNCT_2,MSSUBFAM,YELLOW_3;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,FUNCOP_1,CARD_3,PBOOLE,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_5,YELLOW_7,WAYBEL_8,WAYBEL16,FUNCT_1,CKB9,CKB10,CKB21;
constructors SETFAM_1,DOMAIN_1,TOLER_1,ORDERS_3,PRALG_3,WAYBEL_1,WAYBEL_5,WAYBEL_8,WAYBEL16,RELSET_1,WAYBEL20,CKB11,CKB14,CKB18;
requirements SUBSET,BOOLE;
begin
reserve X for set;
reserve x for (Element of ( BoolePoset X ));
reserve z for (Element of X);
registration
let X;
let L being  continuous  complete non empty Poset;
let f being (Function of ( FixedUltraFilters X ),(the carrier of L));
cluster ( f -extension_to_hom ) ->  infs-preserving;
coherence
proof
set FUF = ( FixedUltraFilters X );
set cL = (the carrier of L);
set F = ( f -extension_to_hom );
set BP = ( BoolePoset X );
set IP = ( InclPoset ( Filt BP ) );
set cIP = (the carrier of IP);
A1: ( InclPoset ( Filt BP ) ) = RelStr (# ( Filt BP ),( RelIncl ( Filt BP ) ) #) by YELLOW_1:def 1;
let Fs being (Subset of IP);
assume  ex_inf_of Fs,IP;
thus  ex_inf_of ( F .: Fs ),L by YELLOW_0:17;
A2: ( BoolePoset X ) = ( InclPoset ( bool X ) ) by YELLOW_1:4;
A3: ( InclPoset ( bool X ) ) = RelStr (# ( bool X ),( RelIncl ( bool X ) ) #) by YELLOW_1:def 1;
then A4: (the carrier of ( BoolePoset X )) = ( bool X ) by YELLOW_1:4;
per cases ;
suppose Fs is  empty;

then (( "/\" (( F .: Fs ),L) ) = ( Top L ) & ( "/\" (Fs,IP) ) = ( Top IP )) by RELAT_1:116;
hence thesis by CKB20:1;
end;
suppose Fs is non empty;

then reconsider Fs9 = Fs as non empty (Subset of IP);
defpred P[ set,set,set ]
 means
$1 = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in $2)) },L) );
deffunc FDi((Element of Fs9)) = { ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in Y)) },L) ) where Y is (Subset of X): Y in $1 };
(not ( {} ) in Fs9);
then Fs9 is  with_non-empty_elements by SETFAM_1:def 8;
then reconsider K = ( id Fs9 ) as  non-empty (ManySortedSet of Fs9);
A5: (for i being set holds (i in Fs9 implies (for s being set holds (s in ( K . i ) implies (ex y being set st (y in ( ( Fs9 --> cL ) . i ) & P[ y,s,i ]))))))
proof
let i being set;
assume that
A6: i in Fs9;
let s being set;
assume that
s in ( K . i );
take y = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in s)) },L) );
y in cL;
hence y in ( ( Fs9 --> cL ) . i ) by A6,FUNCOP_1:7;
thus thesis;
end;
consider FD being (ManySortedFunction of K,( Fs9 --> cL )) such that A7: (for i being set holds (i in Fs9 implies (ex g being (Function of ( K . i ),( ( Fs9 --> cL ) . i )) st (g = ( FD . i ) & (for s being set holds (s in ( K . i ) implies P[ ( g . s ),s,i ])))))) from MSSUBFAM:sch 1(A5);
defpred rFD[ (Element of Fs9) ]
 means
( rng ( FD . $1 ) ) = FDi($1);
A8: (for s being (Element of Fs9) holds rFD[ s ])
proof
let s being (Element of Fs9);
now
let t being set;
consider g being (Function of ( K . s ),( ( Fs9 --> cL ) . s )) such that A9: g = ( FD . s ) and A10: (for u being set holds (u in ( K . s ) implies P[ ( g . u ),u,s ])) by A7;
hereby
assume t in ( rng ( FD . s ) );
then consider u being set such that A11: u in ( dom ( FD . s ) ) and A12: t = ( ( FD . s ) . u ) by FUNCT_1:def 3;
consider g being (Function of ( K . s ),( ( Fs9 --> cL ) . s )) such that A13: g = ( FD . s ) and A14: (for u being set holds (u in ( K . s ) implies P[ ( g . u ),u,s ])) by A7;
A15: ( dom ( FD . s ) ) = ( K . s ) by FUNCT_2:def 1;
A16: ( g . u ) = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in u)) },L) ) by A11,A14;
s in cIP;
then (( K . s ) = s & (ex FF being (Filter of BP) st s = FF)) by A1,FUNCT_1:18;
then reconsider u as (Subset of X) by A3,A11,A15,YELLOW_1:4;
u in s by A11,A15,FUNCT_1:18;
hence t in FDi(s) by A12,A13,A16;
end;
assume t in FDi(s);
then consider Y being (Subset of X) such that A17: t = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in Y)) },L) ) and A18: Y in s;
( dom ( FD . s ) ) = ( K . s ) by FUNCT_2:def 1;
then A19: Y in ( dom ( FD . s ) ) by A18,FUNCT_1:18;
( K . s ) = s by FUNCT_1:18;
then ( g . Y ) = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in Y)) },L) ) by A18,A10;
hence t in ( rng ( FD . s ) ) by A17,A19,A9,FUNCT_1:def 3;
end;
hence thesis by TARSKI:1;
end;
( meet Fs9 ) is (Filter of ( BoolePoset X )) by WAYBEL16:9;
then ( meet Fs9 ) in ( Filt BP );
then reconsider mFs = ( meet Fs9 ) as (Element of cIP) by A1;
set smFs = { ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in Y)) },L) ) where Y is (Subset of X): Y in mFs };
A20: ( dom FD ) = Fs9 by PARTFUN1:def 2;
reconsider FD as (DoubleIndexedSet of K,L);
now
let r being set;
hereby
assume r in ( F .: Fs );
then consider s being set such that A21: s in cIP and A22: s in Fs and A23: ( F . s ) = r by FUNCT_2:64;
reconsider s9 = s as (Element of cIP) by A21;
reconsider s as (Element of Fs9) by A22;
A24: rFD[ s ] by A8;
( F . s9 ) = ( "\/" ({ ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in Y)) },L) ) where Y is (Subset of X): Y in s9 },L) ) by CKB18:def 1;
then r = ( Sup ( FD . s ) ) by A23,A24,YELLOW_2:def 5;
hence r in ( rng ( Sups FD ) ) by WAYBEL_5:14;
end;
assume r in ( rng ( Sups FD ) );
then consider s being (Element of Fs9) such that A25: r = ( Sup ( FD . s ) ) by WAYBEL_5:14;
rFD[ s ] by A8;
then ( F . s ) = ( "\/" (( rng ( FD . s ) ),L) ) by CKB18:def 1
.= ( Sup ( FD . s ) ) by YELLOW_2:def 5;
hence r in ( F .: Fs ) by A25,FUNCT_2:35;
end;
then ( F .: Fs ) = ( rng ( Sups FD ) ) by TARSKI:1;
then A26: ( inf ( F .: Fs ) ) = ( Inf ( Sups FD ) ) by YELLOW_2:def 6;
A27:now
reconsider pdFD = ( product ( doms FD ) ) as non empty  functional set;
let r being set;
reconsider dFFD = ( ( product ( doms FD ) ) --> Fs9 ) as (ManySortedSet of pdFD);
reconsider FFD = ( Frege FD ) as (DoubleIndexedSet of dFFD,L);
deffunc rFFDs((Element of pdFD)) = { ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( $1 . u ))) },L) ) where u is (Element of Fs9): u in ( dom ( FFD . $1 ) ) };
A28: ( dom FFD ) = pdFD by PARTFUN1:def 2;
A29:now
let s being (Element of pdFD);
A30: ( dom FD ) = ( dom ( FFD . s ) ) by A28,WAYBEL_5:8;
now
let t being set;
hereby
assume t in ( rng ( FFD . s ) );
then consider u being set such that A31: u in ( dom ( FFD . s ) ) and A32: t = ( ( FFD . s ) . u ) by FUNCT_1:def 3;
A33: ( ( FFD . s ) . u ) = ( ( FD . u ) . ( s . u ) ) by A28,A30,A31,WAYBEL_5:9;
reconsider u as (Element of Fs9) by A30,A31,PARTFUN1:def 2;
consider g being (Function of ( K . u ),( ( Fs9 --> cL ) . u )) such that A34: g = ( FD . u ) and A35: (for v being set holds (v in ( K . u ) implies P[ ( g . v ),v,u ])) by A7;
( dom ( FD . u ) ) = ( K . u ) by FUNCT_2:def 1;
then ( g . ( s . u ) ) = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) },L) ) by A20,A28,A35,WAYBEL_5:9;
hence t in rFFDs(s) by A31,A32,A33,A34;
end;
assume t in rFFDs(s);
then consider u being (Element of Fs9) such that A36: (t = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) },L) ) & u in ( dom ( FFD . s ) ));
reconsider u as (Element of Fs9);
consider g being (Function of ( K . u ),( ( Fs9 --> cL ) . u )) such that A37: g = ( FD . u ) and A38: (for v being set holds (v in ( K . u ) implies P[ ( g . v ),v,u ])) by A7;
( dom ( FD . u ) ) = ( K . u ) by FUNCT_2:def 1;
then ( g . ( s . u ) ) = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) },L) ) by A20,A28,A38,WAYBEL_5:9;
hence t in ( rng ( FFD . s ) ) by A28,A30,A36,A37,WAYBEL_5:9;
end;
hence ( rng ( FFD . s ) ) = rFFDs(s) by TARSKI:1;
end;
hereby
assume r in ( rng ( Infs ( Frege FD ) ) );
then consider s being (Element of pdFD) such that A39: r = ( Inf ( FFD . s ) ) by WAYBEL_5:14;
set idFFDs = { { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) } where u is (Element of Fs9): u in ( dom ( FFD . s ) ) };
A40: idFFDs c= ( bool (the carrier of L) )
proof
let t being set;
assume t in idFFDs;
then consider u being (Element of Fs9) such that A41: t = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) } and u in ( dom ( FFD . s ) );
t c= cL
proof
let v being set;
assume v in t;
then consider x such that A42: v = ( f . ( uparrow x ) ) and A43: (ex z st (x = { z } & z in ( s . u ))) by A41;
( uparrow x ) in FUF by A43;
hence thesis by A42,FUNCT_2:5;
end;
hence thesis;
end;
now
let t being set;
hereby
assume t in rFFDs(s);
then consider u being (Element of Fs9) such that A44: t = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) },L) ) and A45: u in ( dom ( FFD . s ) );
{ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) } c= cL
proof
let v being set;
assume v in { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) };
then consider x such that A46: v = ( f . ( uparrow x ) ) and A47: (ex z st (x = { z } & z in ( s . u )));
( uparrow x ) in FUF by A47;
hence thesis by A46,FUNCT_2:5;
end;
then reconsider Y1 = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) } as (Subset of L);
Y1 in idFFDs by A45;
hence t in { ( inf YY ) where YY is (Subset of L): YY in idFFDs } by A44;
end;
assume t in { ( inf YY ) where YY is (Subset of L): YY in idFFDs };
then consider YY being (Subset of L) such that A48: t = ( inf YY ) and A49: YY in idFFDs;
(ex u1 being (Element of Fs9) st (YY = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u1 ))) } & u1 in ( dom ( FFD . s ) ))) by A49;
hence t in rFFDs(s) by A48;
end;
then A50: rFFDs(s) = { ( inf YY ) where YY is (Subset of L): YY in idFFDs } by TARSKI:1;
A51: ( dom s ) = ( dom FD ) by A28,WAYBEL_5:8;
( union ( rng s ) ) c= X
proof
let t being set;
assume t in ( union ( rng s ) );
then consider te being set such that A52: t in te and A53: te in ( rng s ) by TARSKI:def 4;
consider u being set such that A54: u in ( dom s ) and A55: te = ( s . u ) by A53,FUNCT_1:def 3;
( FD . u ) is (Function of ( K . u ),cL) by A20,A51,A54,WAYBEL_5:6;
then ( dom ( FD . u ) ) = ( K . u ) by FUNCT_2:def 1
.= u by A20,A51,A54,FUNCT_1:17;
then A56: te in u by A28,A51,A54,A55,WAYBEL_5:9;
u in cIP by A20,A51,A54;
then (ex FF being (Filter of BP) st u = FF) by A1;
hence thesis by A4,A52,A56;
end;
then reconsider Y = ( union ( rng s ) ) as (Subset of X);
set Ys = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in Y)) };
A57: ( dom FD ) = ( dom ( FFD . s ) ) by A28,WAYBEL_5:8;
now
let t being set;
hereby
assume t in ( union idFFDs );
then consider te being set such that A58: t in te and A59: te in idFFDs by TARSKI:def 4;
consider u being (Element of Fs9) such that A60: te = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) } and A61: u in ( dom ( FFD . s ) ) by A59;
consider x such that A62: t = ( f . ( uparrow x ) ) and A63: (ex z st (x = { z } & z in ( s . u ))) by A58,A60;
consider z such that A64: x = { z } and A65: z in ( s . u ) by A63;
( s . u ) in ( rng s ) by A57,A51,A61,FUNCT_1:def 3;
then z in Y by A65,TARSKI:def 4;
hence t in Ys by A62,A64;
end;
assume t in Ys;
then consider x such that A66: t = ( f . ( uparrow x ) ) and A67: (ex z st (x = { z } & z in Y));
consider z such that A68: x = { z } and A69: z in Y by A67;
consider ze being set such that A70: z in ze and A71: ze in ( rng s ) by A69,TARSKI:def 4;
consider u being set such that A72: u in ( dom s ) and A73: ze = ( s . u ) by A71,FUNCT_1:def 3;
reconsider u as (Element of Fs9) by A51,A72,PARTFUN1:def 2;
A74: { ( f . ( uparrow x1 ) ) where x1 is (Element of BP): (ex z st (x1 = { z } & z in ( s . u ))) } in idFFDs by A57,A51,A72;
t in { ( f . ( uparrow x1 ) ) where x1 is (Element of BP): (ex z st (x1 = { z } & z in ( s . u ))) } by A66,A68,A70,A73;
hence t in ( union idFFDs ) by A74,TARSKI:def 4;
end;
then A75: ( union idFFDs ) = Ys by TARSKI:1;
now
reconsider Y9 = Y as (Element of BP) by A3,YELLOW_1:4;
let Z being set;
assume A76: Z in Fs9;
then ( FD . Z ) is (Function of ( K . Z ),cL) by WAYBEL_5:6;
then A77: ( dom ( FD . Z ) ) = ( K . Z ) by FUNCT_2:def 1
.= Z by A76,FUNCT_1:17;
( s . Z ) in ( rng s ) by A20,A51,A76,FUNCT_1:def 3;
then A78: ( s . Z ) c= Y by ZFMISC_1:74;
then reconsider sZ = ( s . Z ) as (Element of BP) by A2,A3,XBOOLE_1:1;
A79: sZ <= Y9 by A78,YELLOW_1:2;
Z in cIP by A76;
then A80: (ex FF being (Filter of BP) st Z = FF) by A1;
( s . Z ) in ( dom ( FD . Z ) ) by A20,A28,A76,WAYBEL_5:9;
hence Y in Z by A80,A77,A79,WAYBEL_0:def 20;
end;
then Y in mFs by SETFAM_1:def 1;
then A81: ( "/\" (Ys,L) ) in smFs;
( "/\" (( rng ( FFD . s ) ),L) ) = ( "/\" (rFFDs(s),L) ) by A29
.= ( "/\" (( union idFFDs ),L) ) by A40,A50,CKB1:1;
hence r in smFs by A39,A81,A75,YELLOW_2:def 6;
end;
assume r in smFs;
then consider Y being (Subset of X) such that A82: r = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in Y)) },L) ) and A83: Y in mFs;
A84: ( "/\" ({ r },L) ) = r by A82,YELLOW_0:39;
set s = ( Fs9 --> Y );
A85: ( dom ( doms FD ) ) = ( dom FD ) by FUNCT_6:59
.= ( dom s ) by A20,FUNCOP_1:13;
A86:now
let w being set;
assume A87: w in ( dom ( doms FD ) );
then ( FD . w ) is (Function of ( K . w ),( ( Fs9 --> cL ) . w )) by A85,PBOOLE:def 15;
then A88: ( dom ( FD . w ) ) = ( K . w ) by A85,A87,FUNCT_2:def 1
.= w by A85,A87,FUNCT_1:18;
(( ( doms FD ) . w ) = ( dom ( FD . w ) ) & ( s . w ) = Y) by A20,A85,A87,FUNCOP_1:7,FUNCT_6:22;
hence ( s . w ) in ( ( doms FD ) . w ) by A83,A85,A87,A88,SETFAM_1:def 1;
end;
set s9 = s;
reconsider s as (Element of pdFD) by A85,A86,CARD_3:9;
now
set u = the (Element of Fs9);
let t being set;
A89: (( dom s9 ) = Fs9 & ( s . u ) = Y) by FUNCOP_1:7,FUNCOP_1:13;
hereby
assume t in rFFDs(s);
then consider u being (Element of Fs9) such that A90: t = ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) },L) ) and u in ( dom ( FFD . s ) );
( s . u ) = Y by FUNCOP_1:7;
hence t in { r } by A82,A90,TARSKI:def 1;
end;
assume t in { r };
then A91: t = r by TARSKI:def 1;
(( dom FD ) = ( dom ( FFD . s ) ) & ( dom s ) = ( dom FD )) by A28,WAYBEL_5:8;
hence t in rFFDs(s) by A82,A91,A89;
end;
then A92: { ( "/\" ({ ( f . ( uparrow x ) ): (ex z st (x = { z } & z in ( s . u ))) },L) ) where u is (Element of Fs9): u in ( dom ( FFD . s ) ) } = { r } by TARSKI:1;
(( Inf ( FFD . s ) ) = ( "/\" (( rng ( FFD . s ) ),L) ) & ( rng ( FFD . s ) ) = rFFDs(s)) by A29,YELLOW_2:def 6;
hence r in ( rng ( Infs ( Frege FD ) ) ) by A92,A84,WAYBEL_5:14;
end;
(for j being (Element of Fs9) holds ( rng ( FD . j ) ) is  directed)
proof
let j being (Element of Fs9);
let k being (Element of L),m being (Element of L);
assume that
A93: k in ( rng ( FD . j ) )
and
A94: m in ( rng ( FD . j ) );
consider kd being set such that A95: kd in ( dom ( FD . j ) ) and A96: ( ( FD . j ) . kd ) = k by A93,FUNCT_1:def 3;
consider md being set such that A97: md in ( dom ( FD . j ) ) and A98: ( ( FD . j ) . md ) = m by A94,FUNCT_1:def 3;
A99: ( K . j ) = j by FUNCT_1:18;
j in cIP;
then consider FF being (Filter of BP) such that A100: j = FF by A1;
A101: ( dom ( FD . j ) ) = ( K . j ) by FUNCT_2:def 1;
then reconsider kd as (Element of BP) by A95,A99,A100;
reconsider md as (Element of BP) by A97,A101,A99,A100;
consider nd being (Element of BP) such that A102: nd in FF and A103: nd <= kd and A104: nd <= md by A95,A97,A99,A100,WAYBEL_0:def 2;
set n = ( ( FD . j ) . nd );
A105: n in ( rng ( FD . j ) ) by A101,A99,A100,A102,FUNCT_1:def 3;
consider g being (Function of ( K . j ),( ( Fs9 --> cL ) . j )) such that A106: g = ( FD . j ) and A107: (for u being set holds (u in ( K . j ) implies P[ ( g . u ),u,j ])) by A7;
set nds = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in nd)) };
A108: ( g . nd ) = ( "/\" (nds,L) ) by A99,A100,A102,A107;
reconsider n as (Element of L) by A105;
take n;
thus n in ( rng ( FD . j ) ) by A101,A99,A100,A102,FUNCT_1:def 3;
A109:  ex_inf_of nds,L by YELLOW_0:17;
set mds = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in md)) };
A110: nd c= md by A104,YELLOW_1:2;
A111: nds c= mds
proof
let w being set;
assume w in nds;
then (ex x st (w = ( f . ( uparrow x ) ) & (ex z st (x = { z } & z in nd))));
hence thesis by A110;
end;
A112:  ex_inf_of mds,L by YELLOW_0:17;
set kds = { ( f . ( uparrow x ) ): (ex z st (x = { z } & z in kd)) };
A113:  ex_inf_of kds,L by YELLOW_0:17;
A114: nd c= kd by A103,YELLOW_1:2;
A115: nds c= kds
proof
let w being set;
assume w in nds;
then (ex x st (w = ( f . ( uparrow x ) ) & (ex z st (x = { z } & z in nd))));
hence thesis by A114;
end;
( g . kd ) = ( "/\" (kds,L) ) by A95,A107;
hence k <= n by A96,A106,A108,A113,A109,A115,YELLOW_0:35;
( g . md ) = ( "/\" (mds,L) ) by A97,A107;
hence m <= n by A98,A106,A108,A109,A112,A111,YELLOW_0:35;
end;
then A116: ( Inf ( Sups FD ) ) = ( Sup ( Infs ( Frege FD ) ) ) by WAYBEL_5:19
.= ( "\/" (( rng ( Infs ( Frege FD ) ) ),L) ) by YELLOW_2:def 5;
(( inf Fs9 ) = ( meet Fs9 ) & ( F . ( meet Fs9 ) ) = ( "\/" (smFs,L) )) by CKB18:def 1,WAYBEL16:10;
hence thesis by A26,A116,A27,TARSKI:1;
end;
end;
end;
