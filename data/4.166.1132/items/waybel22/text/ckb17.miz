environ
vocabularies REWRITE1,WAYBEL_0,TARSKI,ZFMISC_1,STRUCT_0,LATTICES,ORDINAL2,SUBSET_1,EQREL_1,XBOOLE_0,YELLOW_1,ARYTM_0,ORDERS_2,WAYBEL16,RELAT_1,YELLOW_0,LATTICE3,WAYBEL_5,WELLORD2,CARD_FIL,WELLORD1,CAT_1,SETFAM_1,XXREAL_0,FUNCT_1,CARD_1,SEQM_3,PBOOLE,FUNCOP_1,YELLOW_2,CARD_3,FUNCT_6,WAYBEL22,FUNCT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_6,STRUCT_0,WELLORD1,CARD_1,CARD_3,ORDERS_2,LATTICE3,FUNCOP_1,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_7,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_5,WAYBEL16,CKB11,CKB14;
definitions TARSKI,FUNCT_1,ORDERS_3,LATTICE3,WELLORD2,YELLOW_0,WAYBEL_0,STRUCT_0,CKB11,CKB14;
theorems TARSKI,CARD_1,ZFMISC_1,SETFAM_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCT_3,FUNCT_4,FUNCT_6,FUNCOP_1,WELLORD1,WELLORD2,CARD_3,LATTICE3,PBOOLE,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_0,WAYBEL_1,WAYBEL_5,WAYBEL11,WAYBEL13,WAYBEL14,WAYBEL15,WAYBEL16,WAYBEL17,RELSET_1,WAYBEL_4,WAYBEL20,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes CLASSES1,FUNCT_2,MSSUBFAM,YELLOW_3;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,FUNCOP_1,CARD_3,PBOOLE,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,WAYBEL_5,YELLOW_7,WAYBEL_8,WAYBEL16,FUNCT_1,CKB9,CKB10;
constructors SETFAM_1,DOMAIN_1,TOLER_1,ORDERS_3,PRALG_3,WAYBEL_1,WAYBEL_5,WAYBEL_8,WAYBEL16,RELSET_1,WAYBEL20,CKB11,CKB14;
requirements SUBSET,BOOLE;
begin
reserve X for set;
reserve F for (Filter of ( BoolePoset X ));
reserve x for (Element of ( BoolePoset X ));
reserve z for (Element of X);
theorem
Th11: F = ( "\/" ({ ( "/\" ({ ( uparrow x ): (ex z st (x = { z } & z in Y)) },( InclPoset ( Filt ( BoolePoset X ) ) )) ) where Y is (Subset of X): Y in F },( InclPoset ( Filt ( BoolePoset X ) ) )) )
proof
set BP = ( BoolePoset X );
set IP = ( InclPoset ( Filt BP ) );
set cIP = (the carrier of IP);
set Xs = { ( "/\" ({ ( uparrow x ): (ex z st (x = { z } & z in Y)) },IP) ) where Y is (Subset of X): Y in F };
set RS = ( "\/" (Xs,IP) );
A1: ( InclPoset ( Filt BP ) ) = RelStr (# ( Filt BP ),( RelIncl ( Filt BP ) ) #) by YELLOW_1:def 1;
F in ( Filt BP );
then reconsider F9 = F as (Element of IP) by A1;
A2: Xs c= cIP
proof
let p being set;
assume p in Xs;
then (ex YY being (Subset of X) st (p = ( "/\" ({ ( uparrow x ): (ex z st (x = { z } & z in YY)) },IP) ) & YY in F));
hence thesis;
end;
A3: (the carrier of BP) = (the carrier of ( LattPOSet ( BooleLatt X ) )) by YELLOW_1:def 2
.= ( bool X ) by LATTICE3:def 1;
now
consider YY being set such that A4: YY in F by XBOOLE_0:def 1;
( "/\" ({ ( uparrow x ): (ex z st (x = { z } & z in YY)) },IP) ) in Xs by A3,A4;
hence Xs is non  empty;
end;
then reconsider Xs9 = Xs as non  empty (Subset of IP) by A2;
A5:  ex_sup_of Xs9,IP by YELLOW_0:17;
F c= RS
proof
let p being set;
assume A6: p in F;
then reconsider Y = p as (Element of F);
set Xsi = { ( uparrow x ) where x is (Element of BP): (ex z being (Element of X) st (x = { z } & z in Y)) };
A7: ( "/\" (Xsi,IP) ) in Xs by A3;
per cases ;
suppose A8: Xsi is  empty;

A9: p in (the carrier of BP) by A6;
Xs9 is_<=_than RS by A5,YELLOW_0:def 9;
then A10: ( "/\" (Xsi,IP) ) <= RS by A7,LATTICE3:def 9;
( "/\" (Xsi,IP) ) = ( Top IP ) by A8
.= ( bool X ) by WAYBEL16:15;
then ( bool X ) c= RS by A10,YELLOW_1:3;
hence thesis by A3,A9;
end;
suppose A11: Xsi is non  empty;

Xsi c= cIP
proof
let r being set;
assume r in Xsi;
then (ex xz being (Element of BP) st (r = ( uparrow xz ) & (ex z being (Element of X) st (xz = { z } & z in Y))));
hence thesis by A1;
end;
then reconsider Xsi as non  empty (Subset of IP) by A11;
(for yy being set holds (yy in Xsi implies Y in yy))
proof
reconsider Y9 = Y as (Element of BP);
let yy being set;
assume yy in Xsi;
then consider r being (Element of BP) such that A12: yy = ( uparrow r ) and A13: (ex z being (Element of X) st (r = { z } & z in Y));
r c= Y by A13,ZFMISC_1:31;
then r <= Y9 by YELLOW_1:2;
hence thesis by A12,WAYBEL_0:18;
end;
then (( "/\" (Xsi,IP) ) = ( meet Xsi ) & Y in ( meet Xsi )) by SETFAM_1:def 1,WAYBEL16:10;
then A14: p in ( union Xs ) by A7,TARSKI:def 4;
( union Xs9 ) c= RS by WAYBEL16:17,YELLOW_0:17;
hence thesis by A14;
end;
end;
then A15: F9 <= RS by YELLOW_1:3;
Xs is_<=_than F9
proof
let b being (Element of IP);
assume b in Xs;
then consider Y being (Subset of X) such that A16: b = ( "/\" ({ ( uparrow x ): (ex z st (x = { z } & z in Y)) },IP) ) and A17: Y in F;
reconsider Y9 = Y as (Element of F) by A17;
set Xsi = { ( uparrow x ): (ex z st (x = { z } & z in Y)) };
per cases ;
suppose A18: Y is  empty;

now
assume Xsi is non  empty;
then consider p being set such that A19: p in Xsi by XBOOLE_0:def 1;
(ex x being (Element of BP) st (p = ( uparrow x ) & (ex z being (Element of X) st (x = { z } & z in Y)))) by A19;
hence contradiction by A18;
end;
then A20: ( "/\" (Xsi,IP) ) = ( Top IP )
.= ( bool X ) by WAYBEL16:15;
( Bottom BP ) = ( {} ) by YELLOW_1:18;
then ( uparrow ( Bottom BP ) ) c= F by A17,A18,WAYBEL11:42;
then ( bool X ) c= F by A3,WAYBEL14:10;
hence b <= F9 by A3,A16,A20,XBOOLE_0:def 10;
end;
suppose A21: Y is non  empty;

A22:now
consider z being set such that A23: z in Y by A21,XBOOLE_0:def 1;
reconsider z as (Element of X) by A23;
reconsider x = { z } as (Element of BP) by A3,A23,ZFMISC_1:31;
( uparrow x ) in Xsi by A23;
hence Xsi is non  empty;
end;
Xsi c= cIP
proof
let r being set;
assume r in Xsi;
then (ex xz being (Element of BP) st (r = ( uparrow xz ) & (ex z being (Element of X) st (xz = { z } & z in Y))));
hence thesis by A1;
end;
then reconsider Xsi as non  empty (Subset of IP) by A22;
A24: ( "/\" (Xsi,IP) ) = ( meet Xsi ) by WAYBEL16:10;
b c= F9
proof
let yy being set;
b in ( Filt BP ) by A1;
then consider bf being (Filter of BP) such that A25: b = bf;
assume A26: yy in b;
then reconsider yy9 = yy as (Element of bf) by A25;
reconsider yy9 as (Element of BP);
Y c= yy9
proof
let zz being set;
assume A27: zz in Y;
then reconsider z = zz as (Element of X);
reconsider xz = { z } as (Element of BP) by A3,A27,ZFMISC_1:31;
( uparrow xz ) in Xsi by A27;
then yy in ( uparrow xz ) by A16,A24,A26,SETFAM_1:def 1;
then xz <= yy9 by WAYBEL_0:18;
then { z } c= yy by YELLOW_1:2;
hence thesis by ZFMISC_1:31;
end;
then Y9 <= yy9 by YELLOW_1:2;
then (( uparrow Y9 ) c= F9 & yy in ( uparrow Y9 )) by WAYBEL11:42,WAYBEL_0:18;
hence thesis;
end;
hence b <= F9 by YELLOW_1:3;
end;
end;
then RS <= F9 by A5,YELLOW_0:def 9;
hence thesis by A15,YELLOW_0:def 3;
end;
