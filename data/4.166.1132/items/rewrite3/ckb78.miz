environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,AFINSQ_1,NAT_1,FINSEQ_1,RELAT_1,ORDINAL4,FUNCT_1,ARYTM_3,XXREAL_0,CARD_1,ARYTM_1,REWRITE1,STRUCT_0,FSM_1,ZFMISC_1,FINSET_1,REWRITE2,PRELAMB,TARSKI,MCART_1,REWRITE3;
notations TARSKI,XBOOLE_0,ZFMISC_1,XCMPLX_0,NAT_1,FUNCT_1,RELSET_1,XXREAL_0,FINSET_1,RELAT_1,AFINSQ_1,SUBSET_1,REWRITE1,CATALAN2,FLANG_1,STRUCT_0,NUMBERS,MCART_1,FINSEQ_1,CKB14,CKB15,CKB18,CKB24,CKB36,CKB53;
definitions TARSKI,STRUCT_0,CKB15,CKB18,CKB24,CKB36,CKB53;
theorems AFINSQ_1,CALCUL_1,FLANG_1,FLANG_2,FUNCT_1,NAT_1,RELAT_1,RELSET_1,REWRITE1,STRUCT_0,TARSKI,XREAL_1,XXREAL_0,ZFMISC_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,MCART_1,REWRITE2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77;
schemes FINSEQ_1,NAT_1,RELSET_1;
registrations CARD_1,RELSET_1,NAT_1,XREAL_0,XBOOLE_0,MEMBERED,XXREAL_0,STRUCT_0,SUBSET_1,REWRITE1,AFINSQ_1,RELAT_1,FUNCT_1,FINSEQ_1,CATALAN2,CKB14,CKB17;
constructors XXREAL_0,NAT_1,FSM_1,MEMBERED,REWRITE1,FLANG_1,XREAL_0,RELSET_1,CKB14,CKB15,CKB18,CKB24,CKB36,CKB53;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve E for non empty set;
reserve u for (Element of ( E ^omega ));
reserve v for (Element of ( E ^omega ));
reserve w for (Element of ( E ^omega ));
reserve F for (Subset of ( E ^omega ));
reserve k for Nat;
reserve TS for non empty transition-system over F;
theorem
Th71: (( ==>.-relation TS ) reduces [ x,u ],[ y,v ] implies ( ==>.-relation TS ) reduces [ x,( u ^ w ) ],[ y,( v ^ w ) ])
proof
assume ( ==>.-relation TS ) reduces [ x,u ],[ y,v ];
then consider P being (RedSequence of ( ==>.-relation TS )) such that A1: ( P . 1 ) = [ x,u ] and A2: ( P . ( len P ) ) = [ y,v ] by REWRITE1:def 3;
A3: ( len P ) >= ( ( 0 ) + 1 ) by NAT_1:13;
then ( len P ) in ( dom P ) by FINSEQ_3:25;
then A4: ( dim2 (( P . ( len P ) ),E) ) = ( ( P . ( len P ) ) `2 ) by A1,CKB58:1
.= v by A2,MCART_1:7;
deffunc F(set) = [ ( ( P . $1 ) `1 ),( ( dim2 (( P . $1 ),E) ) ^ w ) ];
consider Q being FinSequence such that A5: ( len Q ) = ( len P ) and A6: (for k holds (k in ( dom Q ) implies ( Q . k ) = F(k))) from FINSEQ_1:sch 2;
(for k being (Element of ( NAT )) holds ((k in ( dom Q ) & ( k + 1 ) in ( dom Q )) implies [ ( Q . k ),( Q . ( k + 1 ) ) ] in ( ==>.-relation TS )))
proof
let k being (Element of ( NAT ));
assume that
A7: k in ( dom Q )
and
A8: ( k + 1 ) in ( dom Q );
(1 <= ( k + 1 ) & ( k + 1 ) <= ( len Q )) by A8,FINSEQ_3:25;
then A9: ( k + 1 ) in ( dom P ) by A5,FINSEQ_3:25;
(1 <= k & k <= ( len Q )) by A7,FINSEQ_3:25;
then A10: k in ( dom P ) by A5,FINSEQ_3:25;
then [ ( P . k ),( P . ( k + 1 ) ) ] in ( ==>.-relation TS ) by A9,REWRITE1:def 2;
then [ [ ( ( P . k ) `1 ),( ( P . k ) `2 ) ],( P . ( k + 1 ) ) ] in ( ==>.-relation TS ) by A10,A9,CKB55:1;
then [ [ ( ( P . k ) `1 ),( ( P . k ) `2 ) ],[ ( ( P . ( k + 1 ) ) `1 ),( ( P . ( k + 1 ) ) `2 ) ] ] in ( ==>.-relation TS ) by A10,A9,CKB55:1;
then [ [ ( ( P . k ) `1 ),( dim2 (( P . k ),E) ) ],[ ( ( P . ( k + 1 ) ) `1 ),( ( P . ( k + 1 ) ) `2 ) ] ] in ( ==>.-relation TS ) by A1,A10,CKB58:1;
then [ [ ( ( P . k ) `1 ),( dim2 (( P . k ),E) ) ],[ ( ( P . ( k + 1 ) ) `1 ),( dim2 (( P . ( k + 1 ) ),E) ) ] ] in ( ==>.-relation TS ) by A1,A9,CKB58:1;
then ( ( P . k ) `1 ),( dim2 (( P . k ),E) ) ==>. ( ( P . ( k + 1 ) ) `1 ),( dim2 (( P . ( k + 1 ) ),E) ),TS by CKB36:def 1;
then ( ( P . k ) `1 ),( ( dim2 (( P . k ),E) ) ^ w ) ==>. ( ( P . ( k + 1 ) ) `1 ),( ( dim2 (( P . ( k + 1 ) ),E) ) ^ w ),TS by CKB30:1;
then [ [ ( ( P . k ) `1 ),( ( dim2 (( P . k ),E) ) ^ w ) ],[ ( ( P . ( k + 1 ) ) `1 ),( ( dim2 (( P . ( k + 1 ) ),E) ) ^ w ) ] ] in ( ==>.-relation TS ) by CKB36:def 1;
then [ [ ( ( P . k ) `1 ),( ( dim2 (( P . k ),E) ) ^ w ) ],( Q . ( k + 1 ) ) ] in ( ==>.-relation TS ) by A6,A8;
hence thesis by A6,A7;
end;
then reconsider Q as (RedSequence of ( ==>.-relation TS )) by A5,REWRITE1:def 2;
A11: ( len Q ) >= ( ( 0 ) + 1 ) by NAT_1:13;
then ( len Q ) in ( dom Q ) by FINSEQ_3:25;
then ( Q . ( len Q ) ) = [ ( ( P . ( len Q ) ) `1 ),( ( dim2 (( P . ( len Q ) ),E) ) ^ w ) ] by A6;
then A12: ( Q . ( len Q ) ) = [ y,( v ^ w ) ] by A2,A5,A4,MCART_1:7;
1 in ( dom P ) by A3,FINSEQ_3:25;
then A13: ( dim2 (( P . 1 ),E) ) = ( ( P . 1 ) `2 ) by A1,CKB58:1
.= u by A1,MCART_1:7;
1 in ( dom Q ) by A11,FINSEQ_3:25;
then ( Q . 1 ) = [ ( ( P . 1 ) `1 ),( ( dim2 (( P . 1 ),E) ) ^ w ) ] by A6
.= [ x,( u ^ w ) ] by A1,A13,MCART_1:7;
hence thesis by A12,REWRITE1:def 3;
end;
