environ
vocabularies NUMBERS,NAT_1,INT_1,FINSEQ_1,ARYTM_3,XXREAL_0,CARD_1,SUBSET_1,ARYTM_1,INT_2,COMPLEX1,RELAT_1,TARSKI,FUNCT_1,CLASSES1,CARD_3,ORDINAL4,RFINSEQ,XBOOLE_0,NEWTON,EULER_1,FINSET_1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,CARD_1,RELAT_1,FUNCT_1,RECDEF_1,INT_1,INT_2,FINSET_1,NAT_1,NAT_D,NEWTON,EULER_1,CLASSES1,RFINSEQ,RVSUM_1,FINSEQ_1,FINSEQ_3,TREES_4,WSIERP_1;
definitions TARSKI,FUNCT_1,XBOOLE_0,RELAT_1;
theorems INT_2,FINSEQ_1,NAT_1,ABSVALUE,INT_1,FUNCT_1,EULER_1,PREPOWER,RFINSEQ,FINSEQ_2,RVSUM_1,FINSEQ_3,NEWTON,RELAT_1,XBOOLE_1,XCMPLX_1,XREAL_1,FINSEQ_5,XXREAL_0,ORDINAL1,NAT_D,CLASSES1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes NAT_1,FINSEQ_1;
registrations FUNCT_1,ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,FINSEQ_1,SEQM_3,NEWTON,XBOOLE_0,VALUED_0,FINSET_1,CARD_1;
constructors REAL_1,SQUARE_1,NAT_1,NAT_D,NEWTON,RFINSEQ,WSIERP_1,EULER_1,SEQ_1,RECDEF_1,CLASSES1,BINOP_2,RELSET_1;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve a for Nat;
reserve b for Nat;
reserve m for Nat;
reserve n for Nat;
theorem
Th6: (((m > 1 & m,n are_relative_prime ) & n = ( ( a * b ) mod m )) implies m,b are_relative_prime )
proof
assume that
A1: m > 1
and
A2: m,n are_relative_prime 
and
A3: n = ( ( a * b ) mod m );
set k = ( m gcd b );
k divides m by NAT_D:def 5;
then consider km being Nat such that A4: m = ( k * km ) by NAT_D:def 3;
A5: (k <> ( 0 ) & km <> ( 0 )) by A1,A4;
reconsider km as (Element of ( NAT )) by ORDINAL1:def 12;
k divides b by NAT_D:def 5;
then consider kb being Nat such that A6: b = ( k * kb ) by NAT_D:def 3;
consider p being Nat such that A7: ( a * ( k * kb ) ) = ( ( ( k * km ) * p ) + ( ( a * ( k * kb ) ) mod ( k * km ) ) ) and ( ( a * ( k * kb ) ) mod ( k * km ) ) < ( k * km ) by A1,A4,NAT_D:def 2;
set tm = ( ( a * kb ) - ( km * p ) );
A8: ( ( a * ( k * kb ) ) mod ( k * km ) ) = ( k * ( ( a * kb ) - ( km * p ) ) ) by A7;
assume (not m,b are_relative_prime );
then A9: ( m gcd b ) <> 1 by INT_2:def 3;
A10: k <> ( - 1 ) by NAT_1:2;
A11: (tm <> ( 0 ) implies ( m gcd n ) <> 1)
proof
assume tm <> ( 0 );
( m gcd n ) = ( k * ( km gcd tm ) ) by A3,A4,A5,A6,A8,EULER_1:15;
hence thesis by A9,A10,INT_1:9;
end;
(tm = ( 0 ) implies ( m gcd n ) <> 1) by A1,A3,A4,A6,A8,NEWTON:52;
hence contradiction by A2,A11,INT_2:def 3;
end;
