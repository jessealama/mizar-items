environ
vocabularies NUMBERS,RLVECT_1,CONVEX2,FUNCT_2,STRUCT_0,XBOOLE_0,SUBSET_1,CARD_3,RLVECT_2,FUNCT_1,FINSEQ_1,RELAT_1,VALUED_1,TARSKI,NAT_1,XXREAL_0,CARD_1,ARYTM_3,ORDINAL4,CONVEX1,REAL_1,ARYTM_1,RFINSEQ,PARTFUN1,FINSET_1,SUPINF_2,CONVEX3;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,REAL_1,RELAT_1,FUNCT_1,FINSET_1,NAT_1,DOMAIN_1,PARTFUN1,STRUCT_0,ALGSTR_0,FUNCT_2,FINSEQ_1,RLVECT_1,RLVECT_2,RVSUM_1,CONVEX1,RFINSEQ,CONVEX2,CKB1,CKB2;
definitions RVSUM_1,CKB1,CKB2;
theorems RLVECT_1,RVSUM_1,FUNCT_1,FINSEQ_1,TARSKI,ZFMISC_1,XBOOLE_0,XBOOLE_1,RLVECT_2,CARD_1,FINSEQ_3,FINSEQ_4,ENUMSET1,CONVEX1,FUNCT_2,NAT_1,RFINSEQ,CONVEX2,RLVECT_3,CARD_2,FINSEQ_5,PARTFUN2,GRAPH_5,RELAT_1,XCMPLX_1,XREAL_1,XXREAL_0,FINSOP_1,ORDINAL1,PARTFUN1,VALUED_1,RLVECT_4,CKB1,CKB2;
schemes NAT_1,XBOOLE_0,FINSEQ_1,CLASSES1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,RLVECT_1,VALUED_0,CARD_1,RLVECT_2;
constructors DOMAIN_1,XXREAL_0,REAL_1,FINSOP_1,RVSUM_1,RFINSEQ,CONVEX1,SEQ_1,BINOP_2,RELSET_1,CKB1,CKB2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
Th1: (for V being RealLinearSpace holds (for v being (VECTOR of V) holds (ex L being (Convex_Combination of V) st (( Sum L ) = v & (for A being non  empty (Subset of V) holds (v in A implies L is (Convex_Combination of A)))))))
proof
let V being RealLinearSpace;
let v being (VECTOR of V);
consider L being (Linear_Combination of { v }) such that A1: ( L . v ) = 1 by RLVECT_4:37;
consider F being (FinSequence of (the carrier of V)) such that A2: (F is  one-to-one & ( rng F ) = ( Carrier L )) and ( Sum L ) = ( Sum ( L (#) F ) ) by RLVECT_2:def 8;
v in ( Carrier L ) by A1,RLVECT_2:19;
then (( Carrier L ) c= { v } & { v } c= ( Carrier L )) by RLVECT_2:def 6,ZFMISC_1:31;
then A3: { v } = ( Carrier L ) by XBOOLE_0:def 10;
then F = <* v *> by A2,FINSEQ_3:97;
then A4: ( F . 1 ) = v by FINSEQ_1:def 8;
deffunc F(set) = ( L . ( F . $1 ) );
consider f being FinSequence such that A5: (( len f ) = ( len F ) & (for n being Nat holds (n in ( dom f ) implies ( f . n ) = F(n)))) from FINSEQ_1:sch 2;
A6: ( len F ) = 1 by A3,A2,FINSEQ_3:96;
then 1 in ( dom f ) by A5,FINSEQ_3:25;
then A7: ( f . 1 ) = ( L . ( F . 1 ) ) by A5;
then f = <* 1 *> by A1,A5,A6,A4,FINSEQ_1:40;
then ( rng f ) = { 1 } by FINSEQ_1:38;
then ( rng f ) c= ( REAL ) by ZFMISC_1:31;
then reconsider f as (FinSequence of ( REAL )) by FINSEQ_1:def 4;
A8: (for n being Nat holds (n in ( dom f ) implies (( f . n ) = ( L . ( F . n ) ) & ( f . n ) >= ( 0 ))))
proof
let n being Nat;
assume A9: n in ( dom f );
then n in ( Seg ( len f ) ) by FINSEQ_1:def 3;
hence thesis by A1,A5,A6,A7,A4,A9,FINSEQ_1:2,TARSKI:def 1;
end;
f = <* 1 *> by A1,A5,A6,A7,A4,FINSEQ_1:40;
then ( Sum f ) = 1 by FINSOP_1:11;
then reconsider L as (Convex_Combination of V) by A2,A5,A8,CONVEX1:def 3;
A10: (for A being non  empty (Subset of V) holds (v in A implies L is (Convex_Combination of A)))
proof
let A being non  empty (Subset of V);
assume v in A;
then { v } c= A by ZFMISC_1:31;
hence thesis by A3,RLVECT_2:def 6;
end;
take L;
( Sum L ) = ( 1 * v ) by A1,A3,RLVECT_2:35;
hence thesis by A10,RLVECT_1:def 8;
end;
