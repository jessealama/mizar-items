environ
vocabularies NUMBERS,RLVECT_1,CONVEX2,FUNCT_2,STRUCT_0,XBOOLE_0,SUBSET_1,CARD_3,RLVECT_2,FUNCT_1,FINSEQ_1,RELAT_1,VALUED_1,TARSKI,NAT_1,XXREAL_0,CARD_1,ARYTM_3,ORDINAL4,CONVEX1,REAL_1,ARYTM_1,RFINSEQ,PARTFUN1,FINSET_1,SUPINF_2,CONVEX3;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,REAL_1,RELAT_1,FUNCT_1,FINSET_1,NAT_1,DOMAIN_1,PARTFUN1,STRUCT_0,ALGSTR_0,FUNCT_2,FINSEQ_1,RLVECT_1,RLVECT_2,RVSUM_1,CONVEX1,RFINSEQ,CONVEX2,CKB1,CKB2;
definitions RVSUM_1,CKB1,CKB2;
theorems RLVECT_1,RVSUM_1,FUNCT_1,FINSEQ_1,TARSKI,ZFMISC_1,XBOOLE_0,XBOOLE_1,RLVECT_2,CARD_1,FINSEQ_3,FINSEQ_4,ENUMSET1,CONVEX1,FUNCT_2,NAT_1,RFINSEQ,CONVEX2,RLVECT_3,CARD_2,FINSEQ_5,PARTFUN2,GRAPH_5,RELAT_1,XCMPLX_1,XREAL_1,XXREAL_0,FINSOP_1,ORDINAL1,PARTFUN1,VALUED_1,RLVECT_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes NAT_1,XBOOLE_0,FINSEQ_1,CLASSES1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,RLVECT_1,VALUED_0,CARD_1,RLVECT_2;
constructors DOMAIN_1,XXREAL_0,REAL_1,FINSOP_1,RVSUM_1,RFINSEQ,CONVEX1,SEQ_1,BINOP_2,RELSET_1,CKB1,CKB2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
Lm3: (for V being RealLinearSpace holds (for M being non  empty (Subset of V) holds (M is  convex implies { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) } c= M)))
proof
let V being RealLinearSpace;
let M being non  empty (Subset of V);
set S = { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) };
assume A1: M is  convex;
(for v being set holds (v in S implies v in M))
proof
let v being set;
assume v in S;
then consider L being (Convex_Combination of M) such that A2: v = ( Sum L ) and L in ( ConvexComb V );
reconsider v as (VECTOR of V) by A2;
per cases ;
suppose A3: ( card ( Carrier L ) ) < 2;

( Carrier L ) <> ( 0 ) by CONVEX1:21;
then A4: ( card ( Carrier L ) ) >= ( ( 0 ) + 1 ) by NAT_1:13;
( card ( Carrier L ) ) < ( 1 + 1 ) by A3;
then ( card ( Carrier L ) ) <= 1 by NAT_1:13;
then ( card ( Carrier L ) ) = 1 by A4,XXREAL_0:1;
then consider x being set such that A5: ( Carrier L ) = { x } by CARD_2:42;
x in ( Carrier L ) by A5,TARSKI:def 1;
then reconsider x as (VECTOR of V);
A6: { x } c= M by A5,RLVECT_2:def 6;
v = ( ( L . x ) * x ) by A2,A5,RLVECT_2:35
.= ( 1 * x ) by A5,CONVEX1:27
.= x by RLVECT_1:def 8;
hence thesis by A6,ZFMISC_1:31;
end;
suppose A7: ( card ( Carrier L ) ) >= 2;

defpred P[ Nat ]
 means
(for LL being (Convex_Combination of M) holds ((( card ( Carrier LL ) ) = ( 1 + $1 ) & (ex L1,L2 being (Convex_Combination of M) st (ex r being Real st ((((( 0 ) < r & r < 1) & LL = ( ( r * L1 ) + ( ( 1 - r ) * L2 ) )) & ( card ( Carrier L1 ) ) = 1) & ( card ( Carrier L2 ) ) = ( ( card ( Carrier LL ) ) - 1 ))))) implies ( Sum LL ) in M));
A8: P[ 1 ]
proof
let LL being (Convex_Combination of M);
assume that
A9: ( card ( Carrier LL ) ) = ( 1 + 1 )
and
A10: (ex L1,L2 being (Convex_Combination of M) st (ex r being Real st ((((( 0 ) < r & r < 1) & LL = ( ( r * L1 ) + ( ( 1 - r ) * L2 ) )) & ( card ( Carrier L1 ) ) = 1) & ( card ( Carrier L2 ) ) = ( ( card ( Carrier LL ) ) - 1 ))));
consider L1,L2 being (Convex_Combination of M),r being Real such that A11: (( 0 ) < r & r < 1) and A12: LL = ( ( r * L1 ) + ( ( 1 - r ) * L2 ) ) and A13: ( card ( Carrier L1 ) ) = 1 and A14: ( card ( Carrier L2 ) ) = ( ( card ( Carrier LL ) ) - 1 ) by A10;
consider x2 being set such that A15: ( Carrier L2 ) = { x2 } by A9,A14,CARD_2:42;
x2 in ( Carrier L2 ) by A15,TARSKI:def 1;
then reconsider x2 as (VECTOR of V);
(( Sum L2 ) = ( ( L2 . x2 ) * x2 ) & ( L2 . x2 ) = 1) by A15,CONVEX1:27,RLVECT_2:35;
then A16: ( Sum L2 ) = x2 by RLVECT_1:def 8;
{ x2 } c= M by A15,RLVECT_2:def 6;
then A17: ( Sum L2 ) in M by A16,ZFMISC_1:31;
consider x1 being set such that A18: ( Carrier L1 ) = { x1 } by A13,CARD_2:42;
x1 in ( Carrier L1 ) by A18,TARSKI:def 1;
then reconsider x1 as (VECTOR of V);
(( Sum L1 ) = ( ( L1 . x1 ) * x1 ) & ( L1 . x1 ) = 1) by A18,CONVEX1:27,RLVECT_2:35;
then A19: ( Sum L1 ) = x1 by RLVECT_1:def 8;
{ x1 } c= M by A18,RLVECT_2:def 6;
then A20: ( Sum L1 ) in M by A19,ZFMISC_1:31;
( Sum LL ) = ( ( Sum ( r * L1 ) ) + ( Sum ( ( 1 - r ) * L2 ) ) ) by A12,RLVECT_3:1
.= ( ( r * ( Sum L1 ) ) + ( Sum ( ( 1 - r ) * L2 ) ) ) by RLVECT_3:2
.= ( ( r * ( Sum L1 ) ) + ( ( 1 - r ) * ( Sum L2 ) ) ) by RLVECT_3:2;
hence thesis by A1,A11,A20,A17,CONVEX1:def 2;
end;
consider k being Nat such that A21: ( card ( Carrier L ) ) = ( k + 1 ) by A7,NAT_1:6;
reconsider k as non  empty (Element of ( NAT )) by A7,A21,ORDINAL1:def 12;
A22: ( card ( Carrier L ) ) = ( 1 + k ) by A21;
A23: (ex L1,L2 being (Convex_Combination of M) st (ex r being Real st ((((( 0 ) < r & r < 1) & L = ( ( r * L1 ) + ( ( 1 - r ) * L2 ) )) & ( card ( Carrier L1 ) ) = 1) & ( card ( Carrier L2 ) ) = ( ( card ( Carrier L ) ) - 1 )))) by A7,CKB7:1;
A24: (for k being non  empty Nat holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being non  empty Nat;
assume A25: P[ k ];
let LL being (Convex_Combination of M);
assume that
A26: ( card ( Carrier LL ) ) = ( 1 + ( k + 1 ) )
and
A27: (ex L1,L2 being (Convex_Combination of M) st (ex r being Real st ((((( 0 ) < r & r < 1) & LL = ( ( r * L1 ) + ( ( 1 - r ) * L2 ) )) & ( card ( Carrier L1 ) ) = 1) & ( card ( Carrier L2 ) ) = ( ( card ( Carrier LL ) ) - 1 ))));
consider L1,L2 being (Convex_Combination of M),r being Real such that A28: (( 0 ) < r & r < 1) and A29: LL = ( ( r * L1 ) + ( ( 1 - r ) * L2 ) ) and A30: ( card ( Carrier L1 ) ) = 1 and A31: ( card ( Carrier L2 ) ) = ( ( card ( Carrier LL ) ) - 1 ) by A27;
k >= ( ( 0 ) + 1 ) by NAT_1:13;
then ( k + 1 ) >= ( 1 + 1 ) by XREAL_1:6;
then (ex LL1,LL2 being (Convex_Combination of M) st (ex rr being Real st ((((( 0 ) < rr & rr < 1) & L2 = ( ( rr * LL1 ) + ( ( 1 - rr ) * LL2 ) )) & ( card ( Carrier LL1 ) ) = 1) & ( card ( Carrier LL2 ) ) = ( ( card ( Carrier L2 ) ) - 1 )))) by A26,A31,CKB7:1;
then A32: ( Sum L2 ) in M by A25,A26,A31;
consider x1 being set such that A33: ( Carrier L1 ) = { x1 } by A30,CARD_2:42;
x1 in ( Carrier L1 ) by A33,TARSKI:def 1;
then reconsider x1 as (VECTOR of V);
(( Sum L1 ) = ( ( L1 . x1 ) * x1 ) & ( L1 . x1 ) = 1) by A33,CONVEX1:27,RLVECT_2:35;
then A34: ( Sum L1 ) = x1 by RLVECT_1:def 8;
{ x1 } c= M by A33,RLVECT_2:def 6;
then A35: ( Sum L1 ) in M by A34,ZFMISC_1:31;
( Sum LL ) = ( ( Sum ( r * L1 ) ) + ( Sum ( ( 1 - r ) * L2 ) ) ) by A29,RLVECT_3:1
.= ( ( r * ( Sum L1 ) ) + ( Sum ( ( 1 - r ) * L2 ) ) ) by RLVECT_3:2
.= ( ( r * ( Sum L1 ) ) + ( ( 1 - r ) * ( Sum L2 ) ) ) by RLVECT_3:2;
hence thesis by A1,A28,A35,A32,CONVEX1:def 2;
end;
(for k being non  empty Nat holds P[ k ]) from NAT_1:sch 10(A8,A24);
hence thesis by A2,A22,A23;
end;
end;
hence thesis by TARSKI:def 3;
end;
