environ
vocabularies NUMBERS,RLVECT_1,CONVEX2,FUNCT_2,STRUCT_0,XBOOLE_0,SUBSET_1,CARD_3,RLVECT_2,FUNCT_1,FINSEQ_1,RELAT_1,VALUED_1,TARSKI,NAT_1,XXREAL_0,CARD_1,ARYTM_3,ORDINAL4,CONVEX1,REAL_1,ARYTM_1,RFINSEQ,PARTFUN1,FINSET_1,SUPINF_2,CONVEX3;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,REAL_1,RELAT_1,FUNCT_1,FINSET_1,NAT_1,DOMAIN_1,PARTFUN1,STRUCT_0,ALGSTR_0,FUNCT_2,FINSEQ_1,RLVECT_1,RLVECT_2,RVSUM_1,CONVEX1,RFINSEQ,CONVEX2,CKB1,CKB2;
definitions RVSUM_1,CKB1,CKB2;
theorems RLVECT_1,RVSUM_1,FUNCT_1,FINSEQ_1,TARSKI,ZFMISC_1,XBOOLE_0,XBOOLE_1,RLVECT_2,CARD_1,FINSEQ_3,FINSEQ_4,ENUMSET1,CONVEX1,FUNCT_2,NAT_1,RFINSEQ,CONVEX2,RLVECT_3,CARD_2,FINSEQ_5,PARTFUN2,GRAPH_5,RELAT_1,XCMPLX_1,XREAL_1,XXREAL_0,FINSOP_1,ORDINAL1,PARTFUN1,VALUED_1,RLVECT_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
schemes NAT_1,XBOOLE_0,FINSEQ_1,CLASSES1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,RLVECT_1,VALUED_0,CARD_1,RLVECT_2;
constructors DOMAIN_1,XXREAL_0,REAL_1,FINSOP_1,RVSUM_1,RFINSEQ,CONVEX1,SEQ_1,BINOP_2,RELSET_1,CKB1,CKB2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
(for V being RealLinearSpace holds (for M being non empty (Subset of V) holds ( conv M ) = { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) }))
proof
let V being RealLinearSpace;
let M being non empty (Subset of V);
consider m being set such that A1: m in M by XBOOLE_0:def 1;
reconsider m as (VECTOR of V) by A1;
consider LL being (Convex_Combination of V) such that A2: ( Sum LL ) = m and A3: (for A being non empty (Subset of V) holds (m in A implies LL is (Convex_Combination of A))) by CKB3:1;
reconsider LL as (Convex_Combination of M) by A1,A3;
LL in ( ConvexComb V ) by CKB1:def 1;
then m in { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) } by A2;
then reconsider N = { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) } as non empty set;
(for x being set holds (x in N implies x in (the carrier of V)))
proof
let x being set;
assume x in N;
then (ex L being (Convex_Combination of M) st (x = ( Sum L ) & L in ( ConvexComb V )));
hence thesis;
end;
then reconsider N as (Subset of V) by TARSKI:def 3;
(for x being set holds (x in { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) } implies x in ( conv M )))
proof
let x being set;
assume x in { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) };
then A4: (ex L being (Convex_Combination of M) st (x = ( Sum L ) & L in ( ConvexComb V )));
M c= ( conv M ) by CONVEX1:41;
hence thesis by A4,CONVEX2:6;
end;
then A5: { ( Sum L ) where L is (Convex_Combination of M): L in ( ConvexComb V ) } c= ( conv M ) by TARSKI:def 3;
(for u,v being (VECTOR of V) holds (for r being Real holds ((((( 0 ) < r & r < 1) & u in N) & v in N) implies ( ( r * u ) + ( ( 1 - r ) * v ) ) in N)))
proof
let u being (VECTOR of V),v being (VECTOR of V);
let r being Real;
assume that
A6: (( 0 ) < r & r < 1)
and
A7: u in N
and
A8: v in N;
consider Lv being (Convex_Combination of M) such that A9: v = ( Sum Lv ) and Lv in ( ConvexComb V ) by A8;
consider Lu being (Convex_Combination of M) such that A10: u = ( Sum Lu ) and Lu in ( ConvexComb V ) by A7;
reconsider LL = ( ( r * Lu ) + ( ( 1 - r ) * Lv ) ) as (Convex_Combination of M) by A6,CONVEX2:9;
( ( r * Lu ) + ( ( 1 - r ) * Lv ) ) is (Convex_Combination of V) by A6,CONVEX2:8;
then A11: ( ( r * Lu ) + ( ( 1 - r ) * Lv ) ) in ( ConvexComb V ) by CKB1:def 1;
( Sum LL ) = ( ( Sum ( r * Lu ) ) + ( Sum ( ( 1 - r ) * Lv ) ) ) by RLVECT_3:1
.= ( ( r * ( Sum Lu ) ) + ( Sum ( ( 1 - r ) * Lv ) ) ) by RLVECT_3:2
.= ( ( r * ( Sum Lu ) ) + ( ( 1 - r ) * ( Sum Lv ) ) ) by RLVECT_3:2;
hence thesis by A10,A9,A11;
end;
then A12: N is  convex by CONVEX1:def 2;
(for v being set holds (v in M implies v in N))
proof
let v being set;
assume A13: v in M;
then reconsider v as (VECTOR of V);
consider LL being (Convex_Combination of V) such that A14: ( Sum LL ) = v and A15: (for A being non empty (Subset of V) holds (v in A implies LL is (Convex_Combination of A))) by CKB3:1;
reconsider LL as (Convex_Combination of M) by A13,A15;
LL in ( ConvexComb V ) by CKB1:def 1;
hence thesis by A14;
end;
then M c= N by TARSKI:def 3;
then ( conv M ) c= N by A12,CONVEX1:30;
hence thesis by A5,XBOOLE_0:def 10;
end;
