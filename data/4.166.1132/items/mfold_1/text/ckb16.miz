environ
vocabularies NUMBERS,SUBSET_1,XREAL_0,ORDINAL1,PRE_TOPC,EUCLID,ARYTM_1,ARYTM_3,SUPINF_2,XBOOLE_0,FUNCOP_1,ORDINAL2,TOPS_1,RCOMP_1,XXREAL_0,METRIC_1,TARSKI,STRUCT_0,REAL_1,COMPLEX1,SETFAM_1,PCOMPS_1,TOPS_2,T_0TOPSP,CONNSP_2,FUNCT_1,RELAT_1,CARD_1,SQUARE_1,TOPMETR,MEMBERED,XXREAL_1,XXREAL_2,WAYBEL23,COMPTS_1,RLVECT_3,NATTRA_1,ZFMISC_1,FRECHET,CARD_3,MFOLD_1,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,FUNCT_1,TOPS_2,RELAT_1,RELSET_1,PARTFUN1,FUNCT_2,ORDINAL1,NAT_1,NUMBERS,VALUED_0,VALUED_1,XCMPLX_0,XREAL_0,XXREAL_0,COMPLEX1,REAL_1,STRUCT_0,RVSUM_1,PRE_TOPC,METRIC_1,TOPREAL9,TOPS_1,ALGSTR_0,RLVECT_1,BORSUK_3,CONNSP_2,TSEP_1,METRIZTS,PCOMPS_1,COMPTS_1,EUCLID,SQUARE_1,TOPMETR,TMAP_1,XXREAL_1,MEMBERED,XXREAL_2,TOPREAL6,WAYBEL23,CANTOR_1,CARD_1,TDLAT_3,ZFMISC_1,CARD_3,YELLOW_8,FRECHET,CKB4,CKB9,CKB10;
definitions TARSKI,XBOOLE_0,XREAL_0,XXREAL_2,XCMPLX_0,ALGSTR_0,STRUCT_0,RELAT_1,FUNCT_1,FUNCT_2,ORDINAL1,MEMBERED,PRE_TOPC,TOPS_2,T_0TOPSP,EUCLID,PCOMPS_1,TOPREAL9,SQUARE_1,ABSVALUE,TMAP_1,METRIZTS,FRECHET,YELLOW_8,WAYBEL23,CKB4,CKB9,CKB10;
theorems TOPRNS_1,XREAL_0,TARSKI,FUNCT_2,EUCLID,XBOOLE_1,FUNCOP_1,JORDAN2C,XCMPLX_1,ABSVALUE,XXREAL_1,XXREAL_2,GOBOARD6,XREAL_1,RLVECT_1,ORDINAL1,ZFMISC_1,SETFAM_1,PRE_TOPC,TOPS_1,CONNSP_2,METRIZTS,PCOMPS_1,T_0TOPSP,YELLOW14,TOPGRP_1,XBOOLE_0,TSEP_1,BORSUK_3,TOPREAL9,BORSUK_4,RELAT_1,FUNCT_1,TOPALG_1,TOPS_2,JGRAPH_1,RELSET_1,SQUARE_1,EUCLID_2,XXREAL_0,JGRAPH_2,TOPMETR,TOPREAL3,JORDAN6,GOBOARD9,RCOMP_1,JORDAN,WAYBEL23,YELLOW12,MEMBERED,JGRAPH_3,JGRAPH_5,TDLAT_3,FRECHET,CARD_3,YELLOW_8,CKB2,CKB3,CKB4,CKB8,CKB9,CKB10,CKB13,CKB14,CKB15;
schemes FUNCT_2,TREES_2;
registrations XBOOLE_0,XXREAL_0,XREAL_0,XCMPLX_0,SQUARE_1,NAT_1,MEMBERED,STRUCT_0,METRIC_1,MONOID_0,EUCLID,TOPALG_2,VALUED_0,FINSEQ_1,FUNCT_1,RELAT_1,PRE_TOPC,TOPS_1,CARD_1,TSEP_1,TOPREAL9,PCOMPS_1,RLVECT_1,COMPLEX1,TMAP_1,COMPTS_1,TOPMETR,XXREAL_2,TOPREAL6,SPPOL_1,WAYBEL23,METRIZTS,RLVECT_3,TOPREAL1,YELLOW13,YELLOW_8,KURATO_2,SUBSET_1,RELSET_1,FUNCT_2,CKB1,CKB5,CKB6,CKB7,CKB11,CKB12;
constructors MONOID_0,TOPREAL9,TOPREALB,SQUARE_1,FUNCSDOM,TOPS_1,TSEP_1,BORSUK_3,METRIZTS,PCOMPS_1,RLVECT_1,COMPLEX1,COMPTS_1,XCMPLX_0,NAT_1,EUCLID,BINOP_2,TOPMETR,TMAP_1,MEMBERED,XXREAL_2,TOPREAL6,SEQ_1,WAYBEL23,CANTOR_1,TDLAT_3,FUNCT_2,YELLOW_8,FRECHET,SEQ_4,CKB4,CKB9,CKB10;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
reserve n for  natural number;
reserve p for (Point of ( TOP-REAL n ));
reserve r for  real number;
theorem
Th7: (for r being  positive  real number holds (for f being (Function of ( Tunit_ball n ),( Tball (p,r) )) holds ((n <> ( 0 ) & (for a being (Point of ( Tunit_ball n )) holds (for b being (Point of ( TOP-REAL n )) holds (a = b implies ( f . a ) = ( ( r * b ) + p ))))) implies f is  being_homeomorphism)))
proof
let r being  positive  real number;
let f being (Function of ( Tunit_ball n ),( Tball (p,r) ));
assume that
A1: n <> ( 0 )
and
A2: (for a being (Point of ( Tunit_ball n )) holds (for b being (Point of ( TOP-REAL n )) holds (a = b implies ( f . a ) = ( ( r * b ) + p ))));
reconsider n1 = n as non  empty (Element of ( NAT )) by A1,ORDINAL1:def 12;
reconsider x = p as (Point of ( TOP-REAL n1 ));
defpred P[ (Point of ( TOP-REAL n1 )),set ]
 means
$2 = ( ( r * $1 ) + x );
set U = ( Tunit_ball n );
set B = ( Tball (x,r) );
A3: (for u being (Point of ( TOP-REAL n1 )) holds (ex y being (Point of ( TOP-REAL n1 )) st P[ u,y ]));
consider F being (Function of ( TOP-REAL n1 ),( TOP-REAL n1 )) such that A4: (for x being (Point of ( TOP-REAL n1 )) holds P[ x,( F . x ) ]) from FUNCT_2:sch 3(A3);
defpred R[ (Point of ( TOP-REAL n1 )),set ]
 means
$2 = ( ( 1 / r ) * ( $1 - x ) );
A5: (for u being (Point of ( TOP-REAL n1 )) holds (ex y being (Point of ( TOP-REAL n1 )) st R[ u,y ]));
consider G being (Function of ( TOP-REAL n1 ),( TOP-REAL n1 )) such that A6: (for a being (Point of ( TOP-REAL n1 )) holds R[ a,( G . a ) ]) from FUNCT_2:sch 3(A5);
set f2 = ( ( TOP-REAL n1 ) --> x );
set f1 = ( id ( TOP-REAL n1 ) );
( dom G ) = (the carrier of ( TOP-REAL n )) by FUNCT_2:def 1;
then A7: ( dom ( G | ( Ball (x,r) ) ) ) = ( Ball (x,r) ) by RELAT_1:62;
(for p being (Point of ( TOP-REAL n1 )) holds ( G . p ) = ( ( ( 1 / r ) * ( f1 . p ) ) + ( ( - ( 1 / r ) ) * ( f2 . p ) ) ))
proof
let p being (Point of ( TOP-REAL n1 ));
thus ( ( ( 1 / r ) * ( f1 . p ) ) + ( ( - ( 1 / r ) ) * ( f2 . p ) ) ) = ( ( ( 1 / r ) * p ) + ( ( - ( 1 / r ) ) * ( f2 . p ) ) ) by FUNCT_1:18
.= ( ( ( 1 / r ) * p ) + ( ( - ( 1 / r ) ) * x ) ) by FUNCOP_1:7
.= ( ( ( 1 / r ) * p ) - ( ( 1 / r ) * x ) ) by EUCLID:40
.= ( ( 1 / r ) * ( p - x ) ) by EUCLID:49
.= ( G . p ) by A6;
end;
then A8: G is  continuous by TOPALG_1:16;
A9: ( dom f ) = ( [#] U ) by FUNCT_2:def 1;
A10: ( dom f ) = (the carrier of U) by FUNCT_2:def 1;
(for p being (Point of ( TOP-REAL n1 )) holds ( F . p ) = ( ( r * ( f1 . p ) ) + ( 1 * ( f2 . p ) ) ))
proof
let p being (Point of ( TOP-REAL n1 ));
thus ( ( r * ( f1 . p ) ) + ( 1 * ( f2 . p ) ) ) = ( ( r * ( f1 . p ) ) + ( f2 . p ) ) by EUCLID:29
.= ( ( r * p ) + ( f2 . p ) ) by FUNCT_1:18
.= ( ( r * p ) + x ) by FUNCOP_1:7
.= ( F . p ) by A4;
end;
then A11: F is  continuous by TOPALG_1:16;
A12: (the carrier of B) = ( Ball (x,r) ) by CKB13:1;
A13: (the carrier of U) = ( Ball (( 0. ( TOP-REAL n ) ),1) ) by CKB13:1;
A14: (for a being set holds (a in ( dom f ) implies ( f . a ) = ( ( F | ( Ball (( 0. ( TOP-REAL n ) ),1) ) ) . a )))
proof
let a being set;
assume that
A15: a in ( dom f );
reconsider y = a as (Point of ( TOP-REAL n1 )) by A15,PRE_TOPC:25;
thus ( f . a ) = ( ( r * y ) + x ) by A2,A15
.= ( F . y ) by A4
.= ( ( F | ( Ball (( 0. ( TOP-REAL n ) ),1) ) ) . a ) by A13,A15,FUNCT_1:49;
end;
A16: ( ( 1 / r ) * r ) = 1 by XCMPLX_1:87;
A17: ( rng f ) = ( [#] B )
proof
now
let b being set;
assume A18: b in ( [#] B );
then reconsider c = b as (Point of ( TOP-REAL n1 )) by PRE_TOPC:25;
reconsider r1 = ( 1 / r ) as Real;
set a = ( r1 * ( c - x ) );
A19: |. ( a - ( 0. ( TOP-REAL n1 ) ) ) .| = |. a .| by RLVECT_1:13
.= ( ( abs r1 ) * |. ( c - x ) .| ) by TOPRNS_1:7
.= ( r1 * |. ( c - x ) .| ) by ABSVALUE:def 1;
|. ( c - x ) .| < r by A12,A18,TOPREAL9:7;
then ( ( 1 / r ) * |. ( c - x ) .| ) < ( ( 1 / r ) * r ) by XREAL_1:68;
then A20: a in ( Ball (( 0. ( TOP-REAL n ) ),1) ) by A16,A19;
then ( f . a ) = ( ( r * a ) + x ) by A2,A13
.= ( ( ( r * ( 1 / r ) ) * ( c - x ) ) + x ) by EUCLID:30
.= ( ( c - x ) + x ) by A16,EUCLID:29
.= b by EUCLID:48;
hence b in ( rng f ) by A13,A10,A20,FUNCT_1:def 3;
end;
then ( [#] B ) c= ( rng f ) by TARSKI:def 3;
hence thesis by XBOOLE_0:def 10;
end;
now
let a being set;
let b being set;
assume that
A21: a in ( dom f )
and
A22: b in ( dom f )
and
A23: ( f . a ) = ( f . b );
reconsider a1 = a,b1 = b as (Point of ( TOP-REAL n1 )) by A13,A10,A21,A22;
A24: ( f . b1 ) = ( ( r * b1 ) + x ) by A2,A22;
( f . a1 ) = ( ( r * a1 ) + x ) by A2,A21;
then ( r * a1 ) = ( ( ( r * b1 ) + x ) - x ) by A23,A24,EUCLID:48;
hence a = b by EUCLID:34,EUCLID:48;
end;
then A25: f is  one-to-one by FUNCT_1:def 4;
A26: (for a being set holds (a in ( dom ( f " ) ) implies ( ( f " ) . a ) = ( ( G | ( Ball (x,r) ) ) . a )))
proof
reconsider ff = f as Function;
let a being set;
assume that
A27: a in ( dom ( f " ) );
reconsider y = a as (Point of ( TOP-REAL n1 )) by A27,PRE_TOPC:25;
reconsider r1 = ( 1 / r ) as Real;
set e = ( ( 1 / r ) * ( y - x ) );
B1: f is  onto by A17,FUNCT_2:def 3;
A28: |. ( e - ( 0. ( TOP-REAL n1 ) ) ) .| = |. e .| by RLVECT_1:13
.= ( ( abs r1 ) * |. ( y - x ) .| ) by TOPRNS_1:7
.= ( r1 * |. ( y - x ) .| ) by ABSVALUE:def 1;
|. ( y - x ) .| < r by A27,A12,TOPREAL9:7;
then ( ( 1 / r ) * |. ( y - x ) .| ) < ( ( 1 / r ) * r ) by XREAL_1:68;
then A29: ( ( 1 / r ) * ( y - x ) ) in ( Ball (( 0. ( TOP-REAL n ) ),1) ) by A16,A28;
then ( f . e ) = ( ( r * e ) + x ) by A2,A13
.= ( ( ( r * ( 1 / r ) ) * ( y - x ) ) + x ) by EUCLID:30
.= ( ( y - x ) + x ) by A16,EUCLID:29
.= y by EUCLID:48;
then ( ( ff " ) . a ) = ( ( 1 / r ) * ( y - x ) ) by A13,A10,A25,A29,FUNCT_1:32;
hence ( ( f " ) . a ) = ( ( 1 / r ) * ( y - x ) ) by B1,A25,TOPS_2:def 4
.= ( G . y ) by A6
.= ( ( G | ( Ball (x,r) ) ) . a ) by A12,A27,FUNCT_1:49;
end;
( dom F ) = (the carrier of ( TOP-REAL n )) by FUNCT_2:def 1;
then ( dom ( F | ( Ball (( 0. ( TOP-REAL n ) ),1) ) ) ) = ( Ball (( 0. ( TOP-REAL n ) ),1) ) by RELAT_1:62;
then A30: f is  continuous by A13,A10,A11,A14,BORSUK_4:44,FUNCT_1:2;
A31: ( dom ( f " ) ) = (the carrier of B) by FUNCT_2:def 1;
( f " ) is  continuous by A31,A12,A7,A8,A26,BORSUK_4:44,FUNCT_1:2;
hence thesis by A9,A17,A25,A30,TOPS_2:def 5;
end;
