environ
vocabularies NUMBERS,SUBSET_1,XREAL_0,ORDINAL1,PRE_TOPC,EUCLID,ARYTM_1,ARYTM_3,SUPINF_2,XBOOLE_0,FUNCOP_1,ORDINAL2,TOPS_1,RCOMP_1,XXREAL_0,METRIC_1,TARSKI,STRUCT_0,REAL_1,COMPLEX1,SETFAM_1,PCOMPS_1,TOPS_2,T_0TOPSP,CONNSP_2,FUNCT_1,RELAT_1,CARD_1,SQUARE_1,TOPMETR,MEMBERED,XXREAL_1,XXREAL_2,WAYBEL23,COMPTS_1,RLVECT_3,NATTRA_1,ZFMISC_1,FRECHET,CARD_3,MFOLD_1,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,FUNCT_1,TOPS_2,RELAT_1,RELSET_1,PARTFUN1,FUNCT_2,ORDINAL1,NAT_1,NUMBERS,VALUED_0,VALUED_1,XCMPLX_0,XREAL_0,XXREAL_0,COMPLEX1,REAL_1,STRUCT_0,RVSUM_1,PRE_TOPC,METRIC_1,TOPREAL9,TOPS_1,ALGSTR_0,RLVECT_1,BORSUK_3,CONNSP_2,TSEP_1,METRIZTS,PCOMPS_1,COMPTS_1,EUCLID,SQUARE_1,TOPMETR,TMAP_1,XXREAL_1,MEMBERED,XXREAL_2,TOPREAL6,WAYBEL23,CANTOR_1,CARD_1,TDLAT_3,ZFMISC_1,CARD_3,YELLOW_8,FRECHET,CKB4,CKB9,CKB10,CKB21,CKB32,CKB33;
definitions TARSKI,XBOOLE_0,XREAL_0,XXREAL_2,XCMPLX_0,ALGSTR_0,STRUCT_0,RELAT_1,FUNCT_1,FUNCT_2,ORDINAL1,MEMBERED,PRE_TOPC,TOPS_2,T_0TOPSP,EUCLID,PCOMPS_1,TOPREAL9,SQUARE_1,ABSVALUE,TMAP_1,METRIZTS,FRECHET,YELLOW_8,WAYBEL23,CKB4,CKB9,CKB10,CKB21,CKB32,CKB33;
theorems TOPRNS_1,XREAL_0,TARSKI,FUNCT_2,EUCLID,XBOOLE_1,FUNCOP_1,JORDAN2C,XCMPLX_1,ABSVALUE,XXREAL_1,XXREAL_2,GOBOARD6,XREAL_1,RLVECT_1,ORDINAL1,ZFMISC_1,SETFAM_1,PRE_TOPC,TOPS_1,CONNSP_2,METRIZTS,PCOMPS_1,T_0TOPSP,YELLOW14,TOPGRP_1,XBOOLE_0,TSEP_1,BORSUK_3,TOPREAL9,BORSUK_4,RELAT_1,FUNCT_1,TOPALG_1,TOPS_2,JGRAPH_1,RELSET_1,SQUARE_1,EUCLID_2,XXREAL_0,JGRAPH_2,TOPMETR,TOPREAL3,JORDAN6,GOBOARD9,RCOMP_1,JORDAN,WAYBEL23,YELLOW12,MEMBERED,JGRAPH_3,JGRAPH_5,TDLAT_3,FRECHET,CARD_3,YELLOW_8,CKB2,CKB3,CKB4,CKB8,CKB9,CKB10,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB24,CKB25,CKB26,CKB32,CKB33;
schemes FUNCT_2,TREES_2;
registrations XBOOLE_0,XXREAL_0,XREAL_0,XCMPLX_0,SQUARE_1,NAT_1,MEMBERED,STRUCT_0,METRIC_1,MONOID_0,EUCLID,TOPALG_2,VALUED_0,FINSEQ_1,FUNCT_1,RELAT_1,PRE_TOPC,TOPS_1,CARD_1,TSEP_1,TOPREAL9,PCOMPS_1,RLVECT_1,COMPLEX1,TMAP_1,COMPTS_1,TOPMETR,XXREAL_2,TOPREAL6,SPPOL_1,WAYBEL23,METRIZTS,RLVECT_3,TOPREAL1,YELLOW13,YELLOW_8,KURATO_2,SUBSET_1,RELSET_1,FUNCT_2,CKB1,CKB5,CKB6,CKB7,CKB11,CKB12,CKB22,CKB23,CKB27,CKB28,CKB29,CKB30,CKB31,CKB34,CKB35,CKB36,CKB37,CKB38;
constructors MONOID_0,TOPREAL9,TOPREALB,SQUARE_1,FUNCSDOM,TOPS_1,TSEP_1,BORSUK_3,METRIZTS,PCOMPS_1,RLVECT_1,COMPLEX1,COMPTS_1,XCMPLX_0,NAT_1,EUCLID,BINOP_2,TOPMETR,TMAP_1,MEMBERED,XXREAL_2,TOPREAL6,SEQ_1,WAYBEL23,CANTOR_1,TDLAT_3,FUNCT_2,YELLOW_8,FRECHET,SEQ_4,CKB4,CKB9,CKB10,CKB21,CKB32,CKB33;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
reserve n for  natural number;
reserve p for (Point of ( TOP-REAL n ));
reserve M for non  empty TopSpace;
registration
let n;
let M being n -manifold non  empty TopSpace;
cluster  open -> n -manifold for non  empty non  empty (SubSpace of M);
correctness
proof
let X being non  empty (SubSpace of M);
assume A1: X is  open;
( [#] X ) c= ( [#] M ) by PRE_TOPC:def 4;
then reconsider X1 = ( [#] X ) as non  empty  open (Subset of M) by A1,TSEP_1:def 1;
A2: (the carrier of X) = ( [#] ( M | X1 ) ) by PRE_TOPC:def 5
.= (the carrier of ( M | X1 ));
then A3: ( the TopStruct of X ) = ( the TopStruct of ( M | X1 ) ) by TSEP_1:5;
A4: (for x being set holds (x in { ( card B ) where B is (Basis of X): (not contradiction) } iff x in { ( card B ) where B is (Basis of ( M | X1 )): (not contradiction) }))
proof
let x being set;
hereby
assume x in { ( card B ) where B is (Basis of X): (not contradiction) };
then consider B1 being (Basis of X) such that A5: x = ( card B1 );
reconsider B2 = B1 as (Basis of ( M | X1 )) by A3,YELLOW12:32;
x = ( card B2 ) by A5;
hence x in { ( card B ) where B is (Basis of ( M | X1 )): (not contradiction) };
end;
assume x in { ( card B ) where B is (Basis of ( M | X1 )): (not contradiction) };
then consider B1 being (Basis of ( M | X1 )) such that A6: x = ( card B1 );
reconsider B2 = B1 as (Basis of X) by A3,YELLOW12:32;
x = ( card B2 ) by A6;
hence x in { ( card B ) where B is (Basis of X): (not contradiction) };
end;
( weight X ) = ( weight ( M | X1 ) ) by A4,TARSKI:1;
then ( weight X ) c= ( omega ) by WAYBEL23:def 6;
then A7: X is  second-countable by WAYBEL23:def 6;
(for p being (Point of X) holds (ex U being (a_neighborhood of p) st (ex S being  open (Subset of ( TOP-REAL n )) st U,S are_homeomorphic )))
proof
let p being (Point of X);
p in (the carrier of X);
then reconsider p1 = p as (Point of M) by A2;
consider U1 being (a_neighborhood of p1),S1 being  open (Subset of ( TOP-REAL n )) such that A8: U1,S1 are_homeomorphic  by CKB21:def 1;
consider U2 being  open (Subset of M),S2 being  open (Subset of ( TOP-REAL n )) such that A9: ((U2 c= U1 & p1 in U2) & U2,S2 are_homeomorphic ) by A8,CKB20:1;
reconsider X2 = X as  open non  empty (SubSpace of M) by A1;
reconsider U = ( U2 /\ X1 ) as (Subset of X2) by XBOOLE_1:17;
A10: ( M | U2 ),( ( TOP-REAL n ) | S2 ) are_homeomorphic  by A9,METRIZTS:def 1;
then consider f being (Function of ( M | U2 ),( ( TOP-REAL n ) | S2 )) such that A11: f is  being_homeomorphism by T_0TOPSP:def 1;
A12: p in ( U2 /\ X1 ) by A9,XBOOLE_0:def 4;
U is  open by TSEP_1:17;
then reconsider U as (a_neighborhood of p) by A12,CONNSP_2:3;
U c= U2 by XBOOLE_1:17;
then U c= ( [#] ( M | U2 ) ) by PRE_TOPC:def 5;
then reconsider U3 = U as (Subset of ( M | U2 ));
U3,( f .: U3 ) are_homeomorphic  by A11,METRIZTS:3;
then A13: ( ( M | U2 ) | U3 ),( ( ( TOP-REAL n ) | S2 ) | ( f .: U3 ) ) are_homeomorphic  by METRIZTS:def 1;
reconsider M2 = ( M | U2 ) as non  empty (SubSpace of M) by A9;
reconsider T2 = ( ( TOP-REAL n ) | S2 ) as non  empty (SubSpace of ( TOP-REAL n )) by A10,A9,YELLOW14:18;
reconsider f2 = f as (Function of M2,T2);
A14: (for P being (Subset of M2) holds (P is  open iff ( f2 .: P ) is  open)) by A11,TOPGRP_1:25;
( f .: U3 ) c= ( [#] ( ( TOP-REAL n ) | S2 ) );
then A15: ( f .: U3 ) c= S2 by PRE_TOPC:def 5;
A16: X1 in (the topology of M) by PRE_TOPC:def 2;
U2 = ( [#] M2 ) by PRE_TOPC:def 5;
then U3 in (the topology of M2) by A16,PRE_TOPC:def 4;
then U3 is  open by PRE_TOPC:def 2;
then reconsider S = ( f .: U3 ) as  open (Subset of T2) by A14;
S in (the topology of T2) by PRE_TOPC:def 2;
then consider Q being (Subset of ( TOP-REAL n )) such that A17: (Q in (the topology of ( TOP-REAL n )) & S = ( Q /\ ( [#] T2 ) )) by PRE_TOPC:def 4;
A18: ( [#] T2 ) = S2 by PRE_TOPC:def 5;
S2 in (the topology of ( TOP-REAL n )) by PRE_TOPC:def 2;
then S in (the topology of ( TOP-REAL n )) by A18,A17,PRE_TOPC:def 1;
then reconsider S as  open (Subset of ( TOP-REAL n )) by PRE_TOPC:def 2;
take U;
take S;
U c= X1;
then U c= ( [#] ( M | X1 ) ) by PRE_TOPC:def 5;
then reconsider U4 = U as (Subset of ( M | X1 ));
reconsider U5 = U as (Subset of M);
A19: ( ( M | X1 ) | U4 ) = ( M | U5 ) by GOBOARD9:2;
( ( M | U2 ) | U3 ) = ( M | U5 ) by GOBOARD9:2;
then A20: ( the TopStruct of ( X | U ) ) = ( the TopStruct of ( ( M | U2 ) | U3 ) ) by A19,A3,PRE_TOPC:36;
( ( ( TOP-REAL n ) | S2 ) | ( f .: U3 ) ) = ( ( TOP-REAL n ) | S ) by A15,PRE_TOPC:7;
hence U,S are_homeomorphic  by A13,A20,METRIZTS:def 1;
end;
then X is n -locally_euclidean by CKB21:def 1;
hence X is n -manifold by A7;
end;
end;
