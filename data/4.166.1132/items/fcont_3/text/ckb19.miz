environ
vocabularies NUMBERS,REAL_1,XREAL_0,ORDINAL1,SUBSET_1,SEQ_1,PARTFUN1,RCOMP_1,XBOOLE_0,RELAT_1,TARSKI,SEQ_2,LIMFUNC1,FUNCOP_1,FUNCT_1,XXREAL_0,ORDINAL2,CARD_1,PROB_1,XXREAL_1,ARYTM_1,ARYTM_3,COMPLEX1,FCONT_1,FUNCT_2,VALUED_0,SEQM_3;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,PROB_1,REAL_1,FUNCT_1,FUNCT_2,FUNCOP_1,VALUED_1,SEQ_1,RELSET_1,SEQ_2,PARTFUN1,PARTFUN2,RCOMP_1,FCONT_1,LIMFUNC1,XXREAL_0,RFUNCT_2;
definitions TARSKI,RCOMP_1,XBOOLE_0,SUBSET_1,PROB_1,LIMFUNC1;
theorems FUNCT_1,NAT_1,SEQ_2,SEQ_4,ABSVALUE,PARTFUN1,PARTFUN2,RCOMP_1,RFUNCT_2,FCONT_1,SUBSET_1,FCONT_2,TARSKI,FUNCT_2,RELAT_1,XREAL_0,XBOOLE_0,XBOOLE_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,XXREAL_1,XXREAL_2,VALUED_0,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
schemes SEQ_1,FUNCT_2;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,RCOMP_1,RFUNCT_2,VALUED_1,FUNCT_2,VALUED_0,XXREAL_2,FUNCOP_1,SEQ_4,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
constructors PARTFUN1,REAL_1,COMPLEX1,NAT_1,SEQ_2,PROB_1,RCOMP_1,PARTFUN2,RFUNCT_2,FCONT_1,LIMFUNC1,VALUED_1,SEQ_1,XXREAL_2,RELSET_1,BINOP_2,RVSUM_1;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve X for set;
reserve r1 for Real;
reserve r2 for Real;
reserve p for Real;
reserve s for Real;
reserve f for (PartFunc of ( REAL ),( REAL ));
theorem
Th19: (((X c= ( dom f ) & ( f | X ) is  monotone) & (ex p st ( f .: X ) = ( left_open_halfline p ))) implies ( f | X ) is  continuous)
proof
assume that
A1: X c= ( dom f )
and
A2: ( f | X ) is  monotone;
given p such that
A3: ( f .: X ) = ( left_open_halfline p );

set L = ( left_open_halfline p );
now
per cases  by A2,RFUNCT_2:def 5;
suppose ( f | X ) is  non-decreasing;

then A4: ( ( f | X ) | X ) is  non-decreasing;
(for x0 being  real number holds (x0 in ( dom ( f | X ) ) implies ( f | X ) is_continuous_in x0))
proof
let x0 being  real number;
F: x0 in ( REAL ) by XREAL_0:def 1;
A5: ( ( f | X ) .: X ) = ( f .: X ) by RELAT_1:129;
assume x0 in ( dom ( f | X ) );
then A6: x0 in X by RELAT_1:57;
then x0 in ( ( dom f ) /\ X ) by A1,XBOOLE_0:def 4;
then A7: x0 in ( dom ( f | X ) ) by RELAT_1:61;
then ( ( f | X ) . x0 ) in ( ( f | X ) .: X ) by A6,FUNCT_1:def 6;
then A8: ( ( f | X ) . x0 ) in L by A3,RELAT_1:129;
now
let N1 being (Neighbourhood of ( ( f | X ) . x0 ));
consider N2 being (Neighbourhood of ( ( f | X ) . x0 )) such that A9: N2 c= L by A8,RCOMP_1:18;
consider N3 being (Neighbourhood of ( ( f | X ) . x0 )) such that A10: N3 c= N1 and A11: N3 c= N2 by RCOMP_1:17;
consider r being  real number such that A12: r > ( 0 ) and A13: N3 = ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by RCOMP_1:def 6;
reconsider r as Real by XREAL_0:def 1;
A14: ( ( ( f | X ) . x0 ) + ( r / 2 ) ) < ( ( ( ( f | X ) . x0 ) + ( r / 2 ) ) + ( r / 2 ) ) by A12,XREAL_1:29,XREAL_1:215;
set M2 = ( ( ( f | X ) . x0 ) + ( r / 2 ) );
A15: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A12,XREAL_1:29,XREAL_1:215;
A16: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + r ) by A12,XREAL_1:29;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) + r ) - r ) by XREAL_1:9;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A15,XXREAL_0:2;
then A17: M2 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A14;
then M2 in N2 by A11,A13;
then consider r2 such that A18: (r2 in ( dom ( f | X ) ) & r2 in X) and A19: M2 = ( ( f | X ) . r2 ) by A3,A5,A9,PARTFUN2:59;
A20: M2 > ( ( f | X ) . x0 ) by A12,XREAL_1:29,XREAL_1:215;
A21:now
assume A22: r2 < x0;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r2 in ( X /\ ( dom ( f | X ) ) )) by A6,A7,A18,XBOOLE_0:def 4;
hence contradiction by A4,A19,A20,A22,RFUNCT_2:22,F;
end;
set M1 = ( ( ( f | X ) . x0 ) - ( r / 2 ) );
A23: ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) - r ) + ( r / 2 ) ) by A12,XREAL_1:29,XREAL_1:215;
( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( f | X ) . x0 ) by A15,XREAL_1:19;
then ( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( ( f | X ) . x0 ) + r ) by A16,XXREAL_0:2;
then A24: M1 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A23;
then M1 in N2 by A11,A13;
then consider r1 such that A25: (r1 in ( dom ( f | X ) ) & r1 in X) and A26: M1 = ( ( f | X ) . r1 ) by A3,A5,A9,PARTFUN2:59;
A27: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A12,XREAL_1:29,XREAL_1:215;
then A28: M1 < ( ( f | X ) . x0 ) by XREAL_1:19;
A29:now
assume A30: x0 < r1;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r1 in ( X /\ ( dom ( f | X ) ) )) by A6,A7,A25,XBOOLE_0:def 4;
hence contradiction by A4,A26,A28,A30,RFUNCT_2:22,F;
end;
x0 <> r2 by A12,A19,XREAL_1:29,XREAL_1:215;
then x0 < r2 by A21,XXREAL_0:1;
then A31: ( r2 - x0 ) > ( 0 ) by XREAL_1:50;
set R = ( min (( x0 - r1 ),( r2 - x0 )) );
A32: R <= ( r2 - x0 ) by XXREAL_0:17;
r1 <> x0 by A26,A27,XREAL_1:19;
then r1 < x0 by A29,XXREAL_0:1;
then ( x0 - r1 ) > ( 0 ) by XREAL_1:50;
then R > ( 0 ) by A31,XXREAL_0:15;
then reconsider N = ]. ( x0 - R ),( x0 + R ) .[ as (Neighbourhood of x0) by RCOMP_1:def 6;
take N;
let x being  real number;
G: x in ( REAL ) by XREAL_0:def 1;
assume that
A33: x in ( dom ( f | X ) )
and
A34: x in N;
A35: x in ( X /\ ( dom ( f | X ) ) ) by A33,RELAT_1:58,XBOOLE_1:28;
A36: (ex s st ((s = x & ( x0 - R ) < s) & s < ( x0 + R ))) by A34;
then x0 < ( R + x ) by XREAL_1:19;
then A37: ( x0 - x ) < ( ( R + x ) - x ) by XREAL_1:9;
R <= ( x0 - r1 ) by XXREAL_0:17;
then ( x0 - x ) < ( x0 - r1 ) by A37,XXREAL_0:2;
then ( - ( x0 - x ) ) > ( - ( x0 - r1 ) ) by XREAL_1:24;
then A38: ( ( x - x0 ) + x0 ) > ( ( r1 - x0 ) + x0 ) by XREAL_1:6;
r1 in ( X /\ ( dom ( f | X ) ) ) by A25,XBOOLE_0:def 4;
then A39: ( ( f | X ) . r1 ) <= ( ( f | X ) . x ) by A4,A38,A35,RFUNCT_2:22,F,G;
( x - x0 ) < R by A36,XREAL_1:19;
then ( x - x0 ) < ( r2 - x0 ) by A32,XXREAL_0:2;
then A40: ( ( x - x0 ) + x0 ) < ( ( r2 - x0 ) + x0 ) by XREAL_1:6;
r2 in ( X /\ ( dom ( f | X ) ) ) by A18,XBOOLE_0:def 4;
then ( ( f | X ) . x ) <= ( ( f | X ) . r2 ) by A4,A40,A35,RFUNCT_2:22,F,G;
then A41: ( ( f | X ) . x ) in [. M1,M2 .] by A26,A19,A39;
[. M1,M2 .] c= ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A24,A17,XXREAL_2:def 12;
then ( ( f | X ) . x ) in N3 by A13,A41;
hence ( ( f | X ) . x ) in N1 by A10;
end;
hence thesis by FCONT_1:4;
end;
hence thesis by FCONT_1:def 2;
end;
suppose ( f | X ) is  non-increasing;

then A42: ( ( f | X ) | X ) is  non-increasing by RELAT_1:72;
(for x0 being  real number holds (x0 in ( dom ( f | X ) ) implies ( f | X ) is_continuous_in x0))
proof
let x0 being  real number;
F: x0 in ( REAL ) by XREAL_0:def 1;
A43: ( ( f | X ) .: X ) = ( f .: X ) by RELAT_1:129;
assume x0 in ( dom ( f | X ) );
then A44: x0 in X by RELAT_1:57;
then x0 in ( ( dom f ) /\ X ) by A1,XBOOLE_0:def 4;
then A45: x0 in ( dom ( f | X ) ) by RELAT_1:61;
then ( ( f | X ) . x0 ) in ( ( f | X ) .: X ) by A44,FUNCT_1:def 6;
then A46: ( ( f | X ) . x0 ) in L by A3,RELAT_1:129;
now
let N1 being (Neighbourhood of ( ( f | X ) . x0 ));
consider N2 being (Neighbourhood of ( ( f | X ) . x0 )) such that A47: N2 c= L by A46,RCOMP_1:18;
consider N3 being (Neighbourhood of ( ( f | X ) . x0 )) such that A48: N3 c= N1 and A49: N3 c= N2 by RCOMP_1:17;
consider r being  real number such that A50: r > ( 0 ) and A51: N3 = ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by RCOMP_1:def 6;
reconsider r as Real by XREAL_0:def 1;
A52: ( ( ( f | X ) . x0 ) + ( r / 2 ) ) < ( ( ( ( f | X ) . x0 ) + ( r / 2 ) ) + ( r / 2 ) ) by A50,XREAL_1:29,XREAL_1:215;
set M2 = ( ( ( f | X ) . x0 ) + ( r / 2 ) );
A53: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A50,XREAL_1:29,XREAL_1:215;
A54: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + r ) by A50,XREAL_1:29;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) + r ) - r ) by XREAL_1:9;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A53,XXREAL_0:2;
then A55: M2 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A52;
then M2 in N2 by A49,A51;
then consider r2 such that A56: (r2 in ( dom ( f | X ) ) & r2 in X) and A57: M2 = ( ( f | X ) . r2 ) by A3,A43,A47,PARTFUN2:59;
A58: M2 > ( ( f | X ) . x0 ) by A50,XREAL_1:29,XREAL_1:215;
A59:now
assume A60: r2 > x0;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r2 in ( X /\ ( dom ( f | X ) ) )) by A44,A45,A56,XBOOLE_0:def 4;
hence contradiction by A42,A57,A58,A60,RFUNCT_2:23,F;
end;
set M1 = ( ( ( f | X ) . x0 ) - ( r / 2 ) );
A61: ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) - r ) + ( r / 2 ) ) by A50,XREAL_1:29,XREAL_1:215;
( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( f | X ) . x0 ) by A53,XREAL_1:19;
then ( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( ( f | X ) . x0 ) + r ) by A54,XXREAL_0:2;
then A62: M1 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A61;
then M1 in N2 by A49,A51;
then consider r1 such that A63: (r1 in ( dom ( f | X ) ) & r1 in X) and A64: M1 = ( ( f | X ) . r1 ) by A3,A43,A47,PARTFUN2:59;
A65: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A50,XREAL_1:29,XREAL_1:215;
then A66: M1 < ( ( f | X ) . x0 ) by XREAL_1:19;
A67:now
assume A68: x0 > r1;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r1 in ( X /\ ( dom ( f | X ) ) )) by A44,A45,A63,XBOOLE_0:def 4;
hence contradiction by A42,A64,A66,A68,RFUNCT_2:23,F;
end;
x0 <> r2 by A50,A57,XREAL_1:29,XREAL_1:215;
then x0 > r2 by A59,XXREAL_0:1;
then A69: ( x0 - r2 ) > ( 0 ) by XREAL_1:50;
set R = ( min (( r1 - x0 ),( x0 - r2 )) );
A70: R <= ( r1 - x0 ) by XXREAL_0:17;
r1 <> x0 by A64,A65,XREAL_1:19;
then r1 > x0 by A67,XXREAL_0:1;
then ( r1 - x0 ) > ( 0 ) by XREAL_1:50;
then R > ( 0 ) by A69,XXREAL_0:15;
then reconsider N = ]. ( x0 - R ),( x0 + R ) .[ as (Neighbourhood of x0) by RCOMP_1:def 6;
take N;
let x being  real number;
G: x in ( REAL ) by XREAL_0:def 1;
assume that
A71: x in ( dom ( f | X ) )
and
A72: x in N;
A73: x in ( X /\ ( dom ( f | X ) ) ) by A71,RELAT_1:58,XBOOLE_1:28;
A74: (ex s st ((s = x & ( x0 - R ) < s) & s < ( x0 + R ))) by A72;
then x0 < ( R + x ) by XREAL_1:19;
then A75: ( x0 - x ) < ( ( R + x ) - x ) by XREAL_1:9;
( x - x0 ) < R by A74,XREAL_1:19;
then ( x - x0 ) < ( r1 - x0 ) by A70,XXREAL_0:2;
then A76: ( ( x - x0 ) + x0 ) < ( ( r1 - x0 ) + x0 ) by XREAL_1:6;
r1 in ( X /\ ( dom ( f | X ) ) ) by A63,XBOOLE_0:def 4;
then A77: ( ( f | X ) . r1 ) <= ( ( f | X ) . x ) by A42,A76,A73,RFUNCT_2:23,F,G;
R <= ( x0 - r2 ) by XXREAL_0:17;
then ( x0 - x ) < ( x0 - r2 ) by A75,XXREAL_0:2;
then ( - ( x0 - x ) ) > ( - ( x0 - r2 ) ) by XREAL_1:24;
then A78: ( ( x - x0 ) + x0 ) > ( ( r2 - x0 ) + x0 ) by XREAL_1:6;
r2 in ( X /\ ( dom ( f | X ) ) ) by A56,XBOOLE_0:def 4;
then ( ( f | X ) . x ) <= ( ( f | X ) . r2 ) by A42,A78,A73,RFUNCT_2:23,F,G;
then A79: ( ( f | X ) . x ) in [. M1,M2 .] by A64,A57,A77;
[. M1,M2 .] c= ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A62,A55,XXREAL_2:def 12;
then ( ( f | X ) . x ) in N3 by A51,A79;
hence ( ( f | X ) . x ) in N1 by A48;
end;
hence thesis by FCONT_1:4;
end;
hence thesis by FCONT_1:def 2;
end;
end;
hence thesis;
end;
