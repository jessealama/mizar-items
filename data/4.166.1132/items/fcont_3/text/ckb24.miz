environ
vocabularies NUMBERS,REAL_1,XREAL_0,ORDINAL1,SUBSET_1,SEQ_1,PARTFUN1,RCOMP_1,XBOOLE_0,RELAT_1,TARSKI,SEQ_2,LIMFUNC1,FUNCOP_1,FUNCT_1,XXREAL_0,ORDINAL2,CARD_1,PROB_1,XXREAL_1,ARYTM_1,ARYTM_3,COMPLEX1,FCONT_1,FUNCT_2,VALUED_0,SEQM_3;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,PROB_1,REAL_1,FUNCT_1,FUNCT_2,FUNCOP_1,VALUED_1,SEQ_1,RELSET_1,SEQ_2,PARTFUN1,PARTFUN2,RCOMP_1,FCONT_1,LIMFUNC1,XXREAL_0,RFUNCT_2;
definitions TARSKI,RCOMP_1,XBOOLE_0,SUBSET_1,PROB_1,LIMFUNC1;
theorems FUNCT_1,NAT_1,SEQ_2,SEQ_4,ABSVALUE,PARTFUN1,PARTFUN2,RCOMP_1,RFUNCT_2,FCONT_1,SUBSET_1,FCONT_2,TARSKI,FUNCT_2,RELAT_1,XREAL_0,XBOOLE_0,XBOOLE_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,XXREAL_1,XXREAL_2,VALUED_0,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23;
schemes SEQ_1,FUNCT_2;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,RCOMP_1,RFUNCT_2,VALUED_1,FUNCT_2,VALUED_0,XXREAL_2,FUNCOP_1,SEQ_4,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
constructors PARTFUN1,REAL_1,COMPLEX1,NAT_1,SEQ_2,PROB_1,RCOMP_1,PARTFUN2,RFUNCT_2,FCONT_1,LIMFUNC1,VALUED_1,SEQ_1,XXREAL_2,RELSET_1,BINOP_2,RVSUM_1;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve X for set;
reserve r1 for Real;
reserve r2 for Real;
reserve s for Real;
reserve f for (PartFunc of ( REAL ),( REAL ));
theorem
Th24: (((X c= ( dom f ) & ( f | X ) is  monotone) & ( f .: X ) = ( REAL )) implies ( f | X ) is  continuous)
proof
assume that
A1: X c= ( dom f )
and
A2: ( f | X ) is  monotone
and
A3: ( f .: X ) = ( REAL );
now
per cases  by A2,RFUNCT_2:def 5;
suppose ( f | X ) is  non-decreasing;

then A4: ( ( f | X ) | X ) is  non-decreasing;
(for x0 being  real number holds (x0 in ( dom ( f | X ) ) implies ( f | X ) is_continuous_in x0))
proof
let x0 being  real number;
F: x0 in ( REAL ) by XREAL_0:def 1;
A5: ( ( f | X ) .: X ) = ( f .: X ) by RELAT_1:129;
assume x0 in ( dom ( f | X ) );
then A6: x0 in X by RELAT_1:57;
then x0 in ( ( dom f ) /\ X ) by A1,XBOOLE_0:def 4;
then A7: x0 in ( dom ( f | X ) ) by RELAT_1:61;
now
let N1 being (Neighbourhood of ( ( f | X ) . x0 ));
consider r being  real number such that A8: r > ( 0 ) and A9: N1 = ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by RCOMP_1:def 6;
reconsider r as Real by XREAL_0:def 1;
A10: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A8,XREAL_1:29,XREAL_1:215;
set M1 = ( ( ( f | X ) . x0 ) - ( r / 2 ) );
consider r1 such that A11: (r1 in ( dom ( f | X ) ) & r1 in X) and A12: M1 = ( ( f | X ) . r1 ) by A3,A5,PARTFUN2:59;
A13: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A8,XREAL_1:29,XREAL_1:215;
then A14: M1 < ( ( f | X ) . x0 ) by XREAL_1:19;
A15:now
assume A16: x0 < r1;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r1 in ( X /\ ( dom ( f | X ) ) )) by A6,A7,A11,XBOOLE_0:def 4;
hence contradiction by A4,A12,A14,A16,RFUNCT_2:22,F;
end;
set M2 = ( ( ( f | X ) . x0 ) + ( r / 2 ) );
consider r2 such that A17: (r2 in ( dom ( f | X ) ) & r2 in X) and A18: M2 = ( ( f | X ) . r2 ) by A3,A5,PARTFUN2:59;
A19: M2 > ( ( f | X ) . x0 ) by A8,XREAL_1:29,XREAL_1:215;
A20:now
assume A21: r2 < x0;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r2 in ( X /\ ( dom ( f | X ) ) )) by A6,A7,A17,XBOOLE_0:def 4;
hence contradiction by A4,A18,A19,A21,RFUNCT_2:22,F;
end;
x0 <> r2 by A8,A18,XREAL_1:29,XREAL_1:215;
then x0 < r2 by A20,XXREAL_0:1;
then A22: ( r2 - x0 ) > ( 0 ) by XREAL_1:50;
set R = ( min (( x0 - r1 ),( r2 - x0 )) );
A23: R <= ( r2 - x0 ) by XXREAL_0:17;
r1 <> x0 by A12,A13,XREAL_1:19;
then r1 < x0 by A15,XXREAL_0:1;
then ( x0 - r1 ) > ( 0 ) by XREAL_1:50;
then R > ( 0 ) by A22,XXREAL_0:15;
then reconsider N = ]. ( x0 - R ),( x0 + R ) .[ as (Neighbourhood of x0) by RCOMP_1:def 6;
take N;
let x being  real number;
G: x in ( REAL ) by XREAL_0:def 1;
assume that
A24: x in ( dom ( f | X ) )
and
A25: x in N;
A26: x in ( X /\ ( dom ( f | X ) ) ) by A24,RELAT_1:58,XBOOLE_1:28;
A27: ( ( ( f | X ) . x0 ) + ( r / 2 ) ) < ( ( ( ( f | X ) . x0 ) + ( r / 2 ) ) + ( r / 2 ) ) by A8,XREAL_1:29,XREAL_1:215;
A28: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + r ) by A8,XREAL_1:29;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) + r ) - r ) by XREAL_1:9;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A10,XXREAL_0:2;
then A29: M2 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A27;
A30: ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) - r ) + ( r / 2 ) ) by A8,XREAL_1:29,XREAL_1:215;
( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( f | X ) . x0 ) by A10,XREAL_1:19;
then ( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( ( f | X ) . x0 ) + r ) by A28,XXREAL_0:2;
then M1 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A30;
then A31: [. M1,M2 .] c= ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A29,XXREAL_2:def 12;
A32: (ex s st ((s = x & ( x0 - R ) < s) & s < ( x0 + R ))) by A25;
then x0 < ( R + x ) by XREAL_1:19;
then A33: ( x0 - x ) < ( ( R + x ) - x ) by XREAL_1:9;
R <= ( x0 - r1 ) by XXREAL_0:17;
then ( x0 - x ) < ( x0 - r1 ) by A33,XXREAL_0:2;
then ( - ( x0 - x ) ) > ( - ( x0 - r1 ) ) by XREAL_1:24;
then A34: ( ( x - x0 ) + x0 ) > ( ( r1 - x0 ) + x0 ) by XREAL_1:6;
r1 in ( X /\ ( dom ( f | X ) ) ) by A11,XBOOLE_0:def 4;
then A35: ( ( f | X ) . r1 ) <= ( ( f | X ) . x ) by A4,A34,A26,RFUNCT_2:22,F,G;
( x - x0 ) < R by A32,XREAL_1:19;
then ( x - x0 ) < ( r2 - x0 ) by A23,XXREAL_0:2;
then A36: ( ( x - x0 ) + x0 ) < ( ( r2 - x0 ) + x0 ) by XREAL_1:6;
r2 in ( X /\ ( dom ( f | X ) ) ) by A17,XBOOLE_0:def 4;
then ( ( f | X ) . x ) <= ( ( f | X ) . r2 ) by A4,A36,A26,RFUNCT_2:22,F,G;
then ( ( f | X ) . x ) in [. M1,M2 .] by A12,A18,A35;
hence ( ( f | X ) . x ) in N1 by A9,A31;
end;
hence thesis by FCONT_1:4;
end;
hence thesis by FCONT_1:def 2;
end;
suppose ( f | X ) is  non-increasing;

then A37: ( ( f | X ) | X ) is  non-increasing by RELAT_1:72;
(for x0 being  real number holds (x0 in ( dom ( f | X ) ) implies ( f | X ) is_continuous_in x0))
proof
let x0 being  real number;
F: x0 in ( REAL ) by XREAL_0:def 1;
A38: ( ( f | X ) .: X ) = ( f .: X ) by RELAT_1:129;
assume x0 in ( dom ( f | X ) );
then A39: x0 in X by RELAT_1:57;
then x0 in ( ( dom f ) /\ X ) by A1,XBOOLE_0:def 4;
then A40: x0 in ( dom ( f | X ) ) by RELAT_1:61;
now
let N1 being (Neighbourhood of ( ( f | X ) . x0 ));
consider r being  real number such that A41: r > ( 0 ) and A42: N1 = ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by RCOMP_1:def 6;
reconsider r as Real by XREAL_0:def 1;
A43: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A41,XREAL_1:29,XREAL_1:215;
set M1 = ( ( ( f | X ) . x0 ) - ( r / 2 ) );
consider r1 such that A44: (r1 in ( dom ( f | X ) ) & r1 in X) and A45: M1 = ( ( f | X ) . r1 ) by A3,A38,PARTFUN2:59;
A46: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A41,XREAL_1:29,XREAL_1:215;
then A47: M1 < ( ( f | X ) . x0 ) by XREAL_1:19;
A48:now
assume A49: x0 > r1;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r1 in ( X /\ ( dom ( f | X ) ) )) by A39,A40,A44,XBOOLE_0:def 4;
hence contradiction by A37,A45,A47,A49,RFUNCT_2:23,F;
end;
set M2 = ( ( ( f | X ) . x0 ) + ( r / 2 ) );
consider r2 such that A50: (r2 in ( dom ( f | X ) ) & r2 in X) and A51: M2 = ( ( f | X ) . r2 ) by A3,A38,PARTFUN2:59;
A52: M2 > ( ( f | X ) . x0 ) by A41,XREAL_1:29,XREAL_1:215;
A53:now
assume A54: r2 > x0;
(x0 in ( X /\ ( dom ( f | X ) ) ) & r2 in ( X /\ ( dom ( f | X ) ) )) by A39,A40,A50,XBOOLE_0:def 4;
hence contradiction by A37,A51,A52,A54,RFUNCT_2:23,F;
end;
x0 <> r2 by A41,A51,XREAL_1:29,XREAL_1:215;
then x0 > r2 by A53,XXREAL_0:1;
then A55: ( x0 - r2 ) > ( 0 ) by XREAL_1:50;
set R = ( min (( r1 - x0 ),( x0 - r2 )) );
A56: R <= ( r1 - x0 ) by XXREAL_0:17;
r1 <> x0 by A45,A46,XREAL_1:19;
then r1 > x0 by A48,XXREAL_0:1;
then ( r1 - x0 ) > ( 0 ) by XREAL_1:50;
then R > ( 0 ) by A55,XXREAL_0:15;
then reconsider N = ]. ( x0 - R ),( x0 + R ) .[ as (Neighbourhood of x0) by RCOMP_1:def 6;
take N;
let x being  real number;
G: x in ( REAL ) by XREAL_0:def 1;
assume that
A57: x in ( dom ( f | X ) )
and
A58: x in N;
A59: x in ( X /\ ( dom ( f | X ) ) ) by A57,RELAT_1:58,XBOOLE_1:28;
A60: ( ( ( f | X ) . x0 ) + ( r / 2 ) ) < ( ( ( ( f | X ) . x0 ) + ( r / 2 ) ) + ( r / 2 ) ) by A41,XREAL_1:29,XREAL_1:215;
A61: ( ( f | X ) . x0 ) < ( ( ( f | X ) . x0 ) + r ) by A41,XREAL_1:29;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) + r ) - r ) by XREAL_1:9;
then ( ( ( f | X ) . x0 ) - r ) < ( ( ( f | X ) . x0 ) + ( r / 2 ) ) by A43,XXREAL_0:2;
then A62: M2 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A60;
A63: ( ( ( f | X ) . x0 ) - r ) < ( ( ( ( f | X ) . x0 ) - r ) + ( r / 2 ) ) by A41,XREAL_1:29,XREAL_1:215;
( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( f | X ) . x0 ) by A43,XREAL_1:19;
then ( ( ( f | X ) . x0 ) - ( r / 2 ) ) < ( ( ( f | X ) . x0 ) + r ) by A61,XXREAL_0:2;
then M1 in ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A63;
then A64: [. M1,M2 .] c= ]. ( ( ( f | X ) . x0 ) - r ),( ( ( f | X ) . x0 ) + r ) .[ by A62,XXREAL_2:def 12;
A65: (ex s st ((s = x & ( x0 - R ) < s) & s < ( x0 + R ))) by A58;
then x0 < ( R + x ) by XREAL_1:19;
then A66: ( x0 - x ) < ( ( R + x ) - x ) by XREAL_1:9;
( x - x0 ) < R by A65,XREAL_1:19;
then ( x - x0 ) < ( r1 - x0 ) by A56,XXREAL_0:2;
then A67: ( ( x - x0 ) + x0 ) < ( ( r1 - x0 ) + x0 ) by XREAL_1:6;
r1 in ( X /\ ( dom ( f | X ) ) ) by A44,XBOOLE_0:def 4;
then A68: ( ( f | X ) . r1 ) <= ( ( f | X ) . x ) by A37,A67,A59,RFUNCT_2:23,F,G;
R <= ( x0 - r2 ) by XXREAL_0:17;
then ( x0 - x ) < ( x0 - r2 ) by A66,XXREAL_0:2;
then ( - ( x0 - x ) ) > ( - ( x0 - r2 ) ) by XREAL_1:24;
then A69: ( ( x - x0 ) + x0 ) > ( ( r2 - x0 ) + x0 ) by XREAL_1:6;
r2 in ( X /\ ( dom ( f | X ) ) ) by A50,XBOOLE_0:def 4;
then ( ( f | X ) . x ) <= ( ( f | X ) . r2 ) by A37,A69,A59,RFUNCT_2:23,F,G;
then ( ( f | X ) . x ) in [. M1,M2 .] by A45,A51,A68;
hence ( ( f | X ) . x ) in N1 by A42,A64;
end;
hence thesis by FCONT_1:4;
end;
hence thesis by FCONT_1:def 2;
end;
end;
hence thesis;
end;
