environ
vocabularies NUMBERS,SUPINF_1,COMPLEX1,ARYTM_1,XXREAL_0,XREAL_0,ORDINAL1,ARYTM_3,MEASURE6,NAT_1,CARD_1,NEWTON,RELAT_1,REAL_1,SUBSET_1,INT_1,PARTFUN1,FUNCT_1,SUPINF_2,XBOOLE_0,PROB_1,MESFUNC2,VALUED_0,RAT_1,MESFUNC1,TARSKI,MEASURE1,VALUED_1,RFUNCT_3,FINSEQ_1,MESFUNC3,CARD_3,ZFMISC_1,SEQ_2,ORDINAL2,XCMPLX_0,XXREAL_2,SEQFUNC,PBOOLE,INTEGRA1,FINSET_1,MEMBERED,SETLIM_1,INTEGRA5,FUNCT_3,MESFUNC5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,XXREAL_2,XXREAL_3,REAL_1,RELAT_1,FUNCT_1,FINSEQ_1,RELSET_1,FINSET_1,PARTFUN1,FUNCT_2,INT_1,NAT_D,RAT_1,MEMBERED,SQUARE_1,SUPINF_1,SUPINF_2,MEASURE1,EXTREAL1,NAT_1,MESFUNC1,MESFUNC2,MESFUNC3,FINSEQOP,RFUNCT_3,PROB_1,MEASURE6,NEWTON,LIMFUNC1,SEQFUNC,SETLIM_1,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15;
definitions TARSKI,XBOOLE_0,FINSEQ_1,CARD_3,MEASURE6,XXREAL_3,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15;
theorems MEASURE1,MEASURE2,TARSKI,PARTFUN1,FUNCT_1,FUNCT_2,MEASURE6,NAT_1,SUPINF_2,RELSET_1,EXTREAL1,INT_1,EXTREAL2,MESFUNC1,FINSEQ_1,XREAL_0,PROB_1,PROB_2,XBOOLE_0,NAT_2,XBOOLE_1,XCMPLX_1,MESFUNC2,MESFUNC3,NEWTON,XREAL_1,PREPOWER,XXREAL_0,MESFUNC4,ZFMISC_1,SETLIM_1,FINSEQ_3,RAT_1,FUNCT_3,RELAT_1,FINSUB_1,GRFUNC_1,FINSEQ_2,ORDINAL1,NAT_D,NUMBERS,CARD_1,XXREAL_2,VALUED_0,XXREAL_3,KURATO_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB22,CKB23,CKB24,CKB25;
schemes CLASSES1,FUNCT_2,FINSEQ_1,FINSEQ_2,NAT_1,SEQFUNC,PARTFUN1;
registrations SUBSET_1,ORDINAL1,RELSET_1,PARTFUN1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,RAT_1,MEMBERED,COMPLEX1,FINSEQ_1,MEASURE1,VALUED_0,XXREAL_2,XBOOLE_0,XXREAL_3,XCMPLX_0,CKB20,CKB21;
constructors WELLORD2,REAL_1,SQUARE_1,NAT_D,FINSEQOP,LIMFUNC1,SEQFUNC,NEWTON,RFUNCT_3,MEASURE6,EXTREAL1,MESFUNC1,EXTREAL2,BINARITH,MESFUNC2,KURATO_0,MESFUNC3,SETLIM_1,SUPINF_1,RELSET_1,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th24: (for X being non  empty set holds (for S being (SigmaField of X) holds (for f,g being (PartFunc of X,( ExtREAL )) holds (for F being (Function of ( RAT ),S) holds (for r being Real holds (for A being (Element of S) holds (((f is  without-infty & g is  without-infty) & (for p being Rational holds ( F . p ) = ( ( A /\ ( less_dom (f,( R_EAL p )) ) ) /\ ( A /\ ( less_dom (g,( R_EAL ( r - p ) )) ) ) ))) implies ( A /\ ( less_dom (( f + g ),( R_EAL r )) ) ) = ( union ( rng F ) ))))))))
proof
let X being non  empty set;
let S being (SigmaField of X);
let f being (PartFunc of X,( ExtREAL ));
let g being (PartFunc of X,( ExtREAL ));
let F being (Function of ( RAT ),S);
let r being Real;
let A being (Element of S);
assume that
A1: f is  without-infty
and
A2: g is  without-infty
and
A3: (for p being Rational holds ( F . p ) = ( ( A /\ ( less_dom (f,( R_EAL p )) ) ) /\ ( A /\ ( less_dom (g,( R_EAL ( r - p ) )) ) ) ));
A4: ( dom ( f + g ) ) = ( ( dom f ) /\ ( dom g ) ) by A1,A2,CKB24:1;
A5: ( union ( rng F ) ) c= ( A /\ ( less_dom (( f + g ),( R_EAL r )) ) )
proof
let x being set;
assume x in ( union ( rng F ) );
then consider Y being set such that A6: x in Y and A7: Y in ( rng F ) by TARSKI:def 4;
consider p being set such that A8: p in ( dom F ) and A9: Y = ( F . p ) by A7,FUNCT_1:def 3;
reconsider p as Rational by A8;
A10: x in ( ( A /\ ( less_dom (f,( R_EAL p )) ) ) /\ ( A /\ ( less_dom (g,( R_EAL ( r - p ) )) ) ) ) by A3,A6,A9;
then A11: x in ( A /\ ( less_dom (f,( R_EAL p )) ) ) by XBOOLE_0:def 4;
then A12: x in A by XBOOLE_0:def 4;
A13: x in ( less_dom (f,( R_EAL p )) ) by A11,XBOOLE_0:def 4;
x in ( A /\ ( less_dom (g,( R_EAL ( r - p ) )) ) ) by A10,XBOOLE_0:def 4;
then A14: x in ( less_dom (g,( R_EAL ( r - p ) )) ) by XBOOLE_0:def 4;
reconsider x as (Element of X) by A10;
( f . x ) < ( R_EAL p ) by A13,MESFUNC1:def 11;
then A15: ( f . x ) <> ( +infty ) by XXREAL_0:4;
A16: ( -infty ) < ( f . x ) by A1,CKB14:def 1;
A17: ( -infty ) < ( g . x ) by A2,CKB14:def 1;
A18: ( g . x ) < ( R_EAL ( r - p ) ) by A14,MESFUNC1:def 11;
then ( g . x ) <> ( +infty ) by XXREAL_0:4;
then reconsider f1 = ( f . x ),g1 = ( g . x ) as Real by A16,A17,A15,XXREAL_0:14;
A19: p < ( r - g1 ) by A18,XREAL_1:12;
f1 < p by A13,MESFUNC1:def 11;
then f1 < ( r - g1 ) by A19,XXREAL_0:2;
then A20: ( f1 + g1 ) < r by XREAL_1:20;
A21: x in ( dom g ) by A14,MESFUNC1:def 11;
x in ( dom f ) by A13,MESFUNC1:def 11;
then A22: x in ( dom ( f + g ) ) by A4,A21,XBOOLE_0:def 4;
then ( ( f + g ) . x ) = ( ( f . x ) + ( g . x ) ) by MESFUNC1:def 3
.= ( f1 + g1 ) by SUPINF_2:1;
then x in ( less_dom (( f + g ),( R_EAL r )) ) by A20,A22,MESFUNC1:def 11;
hence thesis by A12,XBOOLE_0:def 4;
end;
( A /\ ( less_dom (( f + g ),( R_EAL r )) ) ) c= ( union ( rng F ) )
proof
let x being set;
assume A23: x in ( A /\ ( less_dom (( f + g ),( R_EAL r )) ) );
then A24: x in A by XBOOLE_0:def 4;
A25: x in ( less_dom (( f + g ),( R_EAL r )) ) by A23,XBOOLE_0:def 4;
then A26: x in ( dom ( f + g ) ) by MESFUNC1:def 11;
then A27: x in ( dom f ) by A4,XBOOLE_0:def 4;
A28: ( ( f + g ) . x ) < ( R_EAL r ) by A25,MESFUNC1:def 11;
A29: x in ( dom g ) by A4,A26,XBOOLE_0:def 4;
reconsider x as (Element of X) by A23;
A30: ( -infty ) < ( f . x ) by A1,CKB14:def 1;
A31: ( ( f . x ) + ( g . x ) ) < ( R_EAL r ) by A26,A28,MESFUNC1:def 3;
then A32: ( g . x ) <> ( +infty ) by A30,XXREAL_3:52;
A33: ( -infty ) < ( g . x ) by A2,CKB14:def 1;
then ( f . x ) <> ( +infty ) by A31,XXREAL_3:52;
then reconsider f1 = ( f . x ),g1 = ( g . x ) as Real by A30,A33,A32,XXREAL_0:14;
A34: ( ( R_EAL r ) - ( g . x ) ) = ( r - g1 ) by SUPINF_2:3;
( f . x ) < ( ( R_EAL r ) - ( g . x ) ) by A31,A30,A33,XXREAL_3:52;
then consider p being Rational such that A35: f1 < p and A36: p < ( r - g1 ) by A34,RAT_1:7;
(not ( r - p ) <= g1) by A36,XREAL_1:12;
then x in ( less_dom (g,( R_EAL ( r - p ) )) ) by A29,MESFUNC1:def 11;
then A37: x in ( A /\ ( less_dom (g,( R_EAL ( r - p ) )) ) ) by A24,XBOOLE_0:def 4;
p in ( RAT ) by RAT_1:def 2;
then p in ( dom F ) by FUNCT_2:def 1;
then A38: ( F . p ) in ( rng F ) by FUNCT_1:def 3;
x in ( less_dom (f,( R_EAL p )) ) by A27,A35,MESFUNC1:def 11;
then x in ( A /\ ( less_dom (f,( R_EAL p )) ) ) by A24,XBOOLE_0:def 4;
then x in ( ( A /\ ( less_dom (f,( R_EAL p )) ) ) /\ ( A /\ ( less_dom (g,( R_EAL ( r - p ) )) ) ) ) by A37,XBOOLE_0:def 4;
then x in ( F . p ) by A3;
hence thesis by A38,TARSKI:def 4;
end;
hence thesis by A5,XBOOLE_0:def 10;
end;
