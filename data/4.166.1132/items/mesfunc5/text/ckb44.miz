environ
vocabularies NUMBERS,SUPINF_1,COMPLEX1,ARYTM_1,XXREAL_0,XREAL_0,ORDINAL1,ARYTM_3,MEASURE6,NAT_1,CARD_1,NEWTON,RELAT_1,REAL_1,SUBSET_1,INT_1,PARTFUN1,FUNCT_1,SUPINF_2,XBOOLE_0,PROB_1,MESFUNC2,VALUED_0,RAT_1,MESFUNC1,TARSKI,MEASURE1,VALUED_1,RFUNCT_3,FINSEQ_1,MESFUNC3,CARD_3,ZFMISC_1,SEQ_2,ORDINAL2,XCMPLX_0,XXREAL_2,SEQFUNC,PBOOLE,INTEGRA1,FINSET_1,MEMBERED,SETLIM_1,INTEGRA5,FUNCT_3,MESFUNC5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,XXREAL_2,XXREAL_3,REAL_1,RELAT_1,FUNCT_1,FINSEQ_1,RELSET_1,FINSET_1,PARTFUN1,FUNCT_2,INT_1,NAT_D,RAT_1,MEMBERED,SQUARE_1,SUPINF_1,SUPINF_2,MEASURE1,EXTREAL1,NAT_1,MESFUNC1,MESFUNC2,MESFUNC3,FINSEQOP,RFUNCT_3,PROB_1,MEASURE6,NEWTON,LIMFUNC1,SEQFUNC,SETLIM_1,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB27;
definitions TARSKI,XBOOLE_0,FINSEQ_1,CARD_3,MEASURE6,XXREAL_3,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB27;
theorems MEASURE1,MEASURE2,TARSKI,PARTFUN1,FUNCT_1,FUNCT_2,MEASURE6,NAT_1,SUPINF_2,RELSET_1,EXTREAL1,INT_1,EXTREAL2,MESFUNC1,FINSEQ_1,XREAL_0,PROB_1,PROB_2,XBOOLE_0,NAT_2,XBOOLE_1,XCMPLX_1,MESFUNC2,MESFUNC3,NEWTON,XREAL_1,PREPOWER,XXREAL_0,MESFUNC4,ZFMISC_1,SETLIM_1,FINSEQ_3,RAT_1,FUNCT_3,RELAT_1,FINSUB_1,GRFUNC_1,FINSEQ_2,ORDINAL1,NAT_D,NUMBERS,CARD_1,XXREAL_2,VALUED_0,XXREAL_3,KURATO_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes CLASSES1,FUNCT_2,FINSEQ_1,FINSEQ_2,NAT_1,SEQFUNC,PARTFUN1;
registrations SUBSET_1,ORDINAL1,RELSET_1,PARTFUN1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,RAT_1,MEMBERED,COMPLEX1,FINSEQ_1,MEASURE1,VALUED_0,XXREAL_2,XBOOLE_0,XXREAL_3,XCMPLX_0,CKB20,CKB21;
constructors WELLORD2,REAL_1,SQUARE_1,NAT_D,FINSEQOP,LIMFUNC1,SEQFUNC,NEWTON,RFUNCT_3,MEASURE6,EXTREAL1,MESFUNC1,EXTREAL2,BINARITH,MESFUNC2,KURATO_0,MESFUNC3,SETLIM_1,SUPINF_1,RELSET_1,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB27;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th40: (for X being non  empty set holds (for S being (SigmaField of X) holds (for M being (sigma_Measure of S) holds (for f being (PartFunc of X,( ExtREAL )) holds (for A being (Element of S) holds (f is_simple_func_in S implies ( f | A ) is_simple_func_in S))))))
proof
let X being non  empty set;
let S being (SigmaField of X);
let M being (sigma_Measure of S);
let f being (PartFunc of X,( ExtREAL ));
let A being (Element of S);
assume A1: f is_simple_func_in S;
then consider F being (Finite_Sep_Sequence of S) such that A2: ( dom f ) = ( union ( rng F ) ) and A3: (for n being Nat holds (for x,y being (Element of X) holds (((n in ( dom F ) & x in ( F . n )) & y in ( F . n )) implies ( f . x ) = ( f . y )))) by MESFUNC2:def 4;
deffunc FA(Nat) = ( ( F . $1 ) /\ A );
consider G being FinSequence such that A4: (( len G ) = ( len F ) & (for n being Nat holds (n in ( dom G ) implies ( G . n ) = FA(n)))) from FINSEQ_1:sch 2;
A5: ( rng G ) c= S
proof
let P being set;
assume P in ( rng G );
then consider k being Nat such that A6: k in ( dom G ) and A7: P = ( G . k ) by FINSEQ_2:10;
k in ( Seg ( len F ) ) by A4,A6,FINSEQ_1:def 3;
then k in ( dom F ) by FINSEQ_1:def 3;
then A8: ( F . k ) in ( rng F ) by FUNCT_1:3;
( G . k ) = ( ( F . k ) /\ A ) by A4,A6;
hence thesis by A7,A8,FINSUB_1:def 2;
end;
A9: ( dom G ) = ( Seg ( len F ) ) by A4,FINSEQ_1:def 3;
reconsider G as (FinSequence of S) by A5,FINSEQ_1:def 4;
(for i,j being Nat holds (((i in ( dom G ) & j in ( dom G )) & i <> j) implies ( G . i ) misses ( G . j )))
proof
let i being Nat;
let j being Nat;
assume that
A10: i in ( dom G )
and
A11: j in ( dom G )
and
A12: i <> j;
j in ( Seg ( len F ) ) by A4,A11,FINSEQ_1:def 3;
then A13: j in ( dom F ) by FINSEQ_1:def 3;
i in ( Seg ( len F ) ) by A4,A10,FINSEQ_1:def 3;
then i in ( dom F ) by FINSEQ_1:def 3;
then A14: ( F . i ) misses ( F . j ) by A12,A13,MESFUNC3:4;
A15: ( G . j ) = ( ( F . j ) /\ A ) by A4,A11;
( G . i ) = ( ( F . i ) /\ A ) by A4,A10;
then ( ( G . i ) /\ ( G . j ) ) = ( ( ( ( F . i ) /\ A ) /\ ( F . j ) ) /\ A ) by A15,XBOOLE_1:16
.= ( ( ( ( F . i ) /\ ( F . j ) ) /\ A ) /\ A ) by XBOOLE_1:16
.= ( ( ( {} ) /\ A ) /\ A ) by A14,XBOOLE_0:def 7;
hence thesis by XBOOLE_0:def 7;
end;
then reconsider G as (Finite_Sep_Sequence of S) by MESFUNC3:4;
(for v being set holds (v in ( union ( rng G ) ) implies v in ( dom ( f | A ) )))
proof
let v being set;
assume v in ( union ( rng G ) );
then consider W being set such that A16: v in W and A17: W in ( rng G ) by TARSKI:def 4;
consider k being Nat such that A18: k in ( dom G ) and A19: W = ( G . k ) by A17,FINSEQ_2:10;
k in ( Seg ( len F ) ) by A4,A18,FINSEQ_1:def 3;
then k in ( dom F ) by FINSEQ_1:def 3;
then A20: ( F . k ) in ( rng F ) by FUNCT_1:3;
A21: ( G . k ) = ( ( F . k ) /\ A ) by A4,A18;
then v in ( F . k ) by A16,A19,XBOOLE_0:def 4;
then A22: v in ( union ( rng F ) ) by A20,TARSKI:def 4;
v in A by A16,A19,A21,XBOOLE_0:def 4;
then v in ( ( dom f ) /\ A ) by A2,A22,XBOOLE_0:def 4;
hence thesis by RELAT_1:61;
end;
then A23: ( union ( rng G ) ) c= ( dom ( f | A ) ) by TARSKI:def 3;
(for v being set holds (v in ( dom ( f | A ) ) implies v in ( union ( rng G ) )))
proof
let v being set;
assume v in ( dom ( f | A ) );
then A24: v in ( ( dom f ) /\ A ) by RELAT_1:61;
then A25: v in A by XBOOLE_0:def 4;
v in ( dom f ) by A24,XBOOLE_0:def 4;
then consider W being set such that A26: v in W and A27: W in ( rng F ) by A2,TARSKI:def 4;
consider k being Nat such that A28: k in ( dom F ) and A29: W = ( F . k ) by A27,FINSEQ_2:10;
A30: k in ( Seg ( len F ) ) by A28,FINSEQ_1:def 3;
then k in ( dom G ) by A4,FINSEQ_1:def 3;
then A31: ( G . k ) in ( rng G ) by FUNCT_1:3;
( G . k ) = ( ( F . k ) /\ A ) by A4,A9,A30;
then v in ( G . k ) by A25,A26,A29,XBOOLE_0:def 4;
hence thesis by A31,TARSKI:def 4;
end;
then ( dom ( f | A ) ) c= ( union ( rng G ) ) by TARSKI:def 3;
then A32: ( dom ( f | A ) ) = ( union ( rng G ) ) by A23,XBOOLE_0:def 10;
A33: (for n being Nat holds (for x,y being (Element of X) holds (((n in ( dom G ) & x in ( G . n )) & y in ( G . n )) implies ( ( f | A ) . x ) = ( ( f | A ) . y ))))
proof
let n being Nat;
let x being (Element of X);
let y being (Element of X);
assume that
A34: n in ( dom G )
and
A35: x in ( G . n )
and
A36: y in ( G . n );
A37: ( G . n ) in ( rng G ) by A34,FUNCT_1:3;
then A38: x in ( dom ( f | A ) ) by A32,A35,TARSKI:def 4;
A39: ( G . n ) = ( ( F . n ) /\ A ) by A4,A34;
then A40: y in ( F . n ) by A36,XBOOLE_0:def 4;
n in ( Seg ( len F ) ) by A4,A34,FINSEQ_1:def 3;
then A41: n in ( dom F ) by FINSEQ_1:def 3;
x in ( F . n ) by A35,A39,XBOOLE_0:def 4;
then ( f . x ) = ( f . y ) by A3,A40,A41;
then A42: ( ( f | A ) . x ) = ( f . y ) by A38,FUNCT_1:47;
y in ( dom ( f | A ) ) by A32,A36,A37,TARSKI:def 4;
hence thesis by A42,FUNCT_1:47;
end;
f is  real-valued by A1,MESFUNC2:def 4;
hence thesis by A32,A33,MESFUNC2:def 4;
end;
