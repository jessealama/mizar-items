environ
vocabularies NUMBERS,SUPINF_1,COMPLEX1,ARYTM_1,XXREAL_0,XREAL_0,ORDINAL1,ARYTM_3,MEASURE6,NAT_1,CARD_1,NEWTON,RELAT_1,REAL_1,SUBSET_1,INT_1,PARTFUN1,FUNCT_1,SUPINF_2,XBOOLE_0,PROB_1,MESFUNC2,VALUED_0,RAT_1,MESFUNC1,TARSKI,MEASURE1,VALUED_1,RFUNCT_3,FINSEQ_1,MESFUNC3,CARD_3,ZFMISC_1,SEQ_2,ORDINAL2,XCMPLX_0,XXREAL_2,SEQFUNC,PBOOLE,INTEGRA1,FINSET_1,MEMBERED,SETLIM_1,INTEGRA5,FUNCT_3,MESFUNC5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,XXREAL_2,XXREAL_3,REAL_1,RELAT_1,FUNCT_1,FINSEQ_1,RELSET_1,FINSET_1,PARTFUN1,FUNCT_2,INT_1,NAT_D,RAT_1,MEMBERED,SQUARE_1,SUPINF_1,SUPINF_2,MEASURE1,EXTREAL1,NAT_1,MESFUNC1,MESFUNC2,MESFUNC3,FINSEQOP,RFUNCT_3,PROB_1,MEASURE6,NEWTON,LIMFUNC1,SEQFUNC,SETLIM_1;
definitions TARSKI,XBOOLE_0,FINSEQ_1,CARD_3,MEASURE6,XXREAL_3;
theorems MEASURE1,MEASURE2,TARSKI,PARTFUN1,FUNCT_1,FUNCT_2,MEASURE6,NAT_1,SUPINF_2,RELSET_1,EXTREAL1,INT_1,EXTREAL2,MESFUNC1,FINSEQ_1,XREAL_0,PROB_1,PROB_2,XBOOLE_0,NAT_2,XBOOLE_1,XCMPLX_1,MESFUNC2,MESFUNC3,NEWTON,XREAL_1,PREPOWER,XXREAL_0,MESFUNC4,ZFMISC_1,SETLIM_1,FINSEQ_3,RAT_1,FUNCT_3,RELAT_1,FINSUB_1,GRFUNC_1,FINSEQ_2,ORDINAL1,NAT_D,NUMBERS,CARD_1,XXREAL_2,VALUED_0,XXREAL_3,KURATO_0,CKB1,CKB2,CKB3;
schemes CLASSES1,FUNCT_2,FINSEQ_1,FINSEQ_2,NAT_1,SEQFUNC,PARTFUN1;
registrations SUBSET_1,ORDINAL1,RELSET_1,PARTFUN1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,RAT_1,MEMBERED,COMPLEX1,FINSEQ_1,MEASURE1,VALUED_0,XXREAL_2,XBOOLE_0,XXREAL_3,XCMPLX_0;
constructors WELLORD2,REAL_1,SQUARE_1,NAT_D,FINSEQOP,LIMFUNC1,SEQFUNC,NEWTON,RFUNCT_3,MEASURE6,EXTREAL1,MESFUNC1,EXTREAL2,BINARITH,MESFUNC2,KURATO_0,MESFUNC3,SETLIM_1,SUPINF_1,RELSET_1;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th8: (for n being Nat holds (for p being R_eal holds ((( 0 ) <= p & p < n) implies (ex k being Nat st (((1 <= k & k <= ( ( 2 |^ n ) * n )) & ( ( k - 1 ) / ( 2 |^ n ) ) <= p) & p < ( k / ( 2 |^ n ) ))))))
proof
let n being Nat;
let p being R_eal;
assume that
A1: ( 0 ) <= p
and
A2: p < n;
reconsider p1 = p as Real by A1,A2,XXREAL_0:46;
reconsider n as (Element of ( NAT )) by ORDINAL1:def 12;
set k = [\ ( ( p1 * ( 2 |^ n ) ) + 1 ) /];
A3: ( ( ( p1 * ( 2 |^ n ) ) + 1 ) - 1 ) = ( p1 * ( 2 |^ n ) );
then A4: ( 0 ) < k by A1,INT_1:def 6;
then reconsider k as (Element of ( NAT )) by INT_1:3;
A5: ( p1 * ( 2 |^ n ) ) < k by A3,INT_1:def 6;
A6: ( 0 ) < ( 2 |^ n ) by PREPOWER:6;
A7:now
( p1 * ( 2 |^ n ) ) < ( ( 2 |^ n ) * n ) by A2,A6,XREAL_1:68;
then A8: ( ( p1 * ( 2 |^ n ) ) + 1 ) < ( ( ( 2 |^ n ) * n ) + 1 ) by XREAL_1:6;
reconsider N = ( ( 2 |^ n ) * n ) as Integer;
assume A9: k > ( ( 2 |^ n ) * n );
A10: [\ N /] = N by INT_1:25;
k <= ( ( p1 * ( 2 |^ n ) ) + 1 ) by INT_1:def 6;
then ( ( 2 |^ n ) * n ) < ( ( p1 * ( 2 |^ n ) ) + 1 ) by A9,XXREAL_0:2;
hence contradiction by A9,A8,A10,INT_1:67;
end;
take k;
k <= ( ( p1 * ( 2 |^ n ) ) + 1 ) by INT_1:def 6;
then A11: ( k - 1 ) <= ( p1 * ( 2 |^ n ) ) by XREAL_1:20;
( ( 0 ) + 1 ) <= k by A4,NAT_1:13;
hence thesis by A6,A7,A5,A11,XREAL_1:79,XREAL_1:81;
end;
