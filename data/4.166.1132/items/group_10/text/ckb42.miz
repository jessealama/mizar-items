environ
vocabularies NUMBERS,XBOOLE_0,STRUCT_0,GROUP_9,SUBSET_1,ORDINAL4,FUNCT_1,RELAT_1,TARSKI,GROUP_1,ALGSTR_0,ZFMISC_1,FUNCT_2,BINOP_1,SETFAM_1,CARD_1,FINSET_1,ORDINAL1,CARD_FIN,GROUP_2,EQREL_1,INT_2,NEWTON,INT_1,XXREAL_0,ARYTM_3,FINSEQ_1,NAT_1,PARTFUN1,CQC_SIM1,CARD_3,FUNCOP_1,FINSEQ_2,NAT_3,GR_CY_1,BINOP_2,XREAL_0,XCMPLX_0,ARYTM_1,RLSUB_1,GROUP_4,GRAPH_1,GROUP_3,REALSET1,GROUP_10;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,CARD_1,NUMBERS,XCMPLX_0,ZFMISC_1,XXREAL_0,XREAL_0,INT_2,NAT_1,NAT_D,FINSET_1,RELAT_1,REALSET1,FUNCT_1,RELSET_1,FUNCT_2,FINSEQ_1,RVSUM_1,STRUCT_0,ALGSTR_0,GROUP_1,GROUP_2,GROUP_3,EQREL_1,FUNCOP_1,WSIERP_1,NEWTON,DOMAIN_1,GR_CY_1,ORDINAL1,GROUP_4,CARD_FIN,PARTFUN1,NAT_3,TOPGRP_1,CKB1,CKB2,CKB3,CKB5,CKB8,CKB9,CKB10,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB28,CKB33,CKB34,CKB39;
definitions CARD_1,GROUP_2,TARSKI,REALSET1,RELAT_1,WELLORD2,STRUCT_0,FUNCT_2,CKB3,CKB9,CKB10,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB28,CKB33,CKB34,CKB39;
theorems FINSEQ_1,GROUP_2,GROUP_3,TARSKI,GROUP_6,FINSEQ_2,FUNCT_1,FUNCT_2,RELAT_1,XBOOLE_0,XBOOLE_1,NAT_1,GROUP_1,XREAL_1,RELSET_1,PARTFUN1,FINSEQ_3,INT_1,ZFMISC_1,CARD_1,CARD_2,FINSET_1,XCMPLX_1,ORDINAL1,FINSEQ_4,XXREAL_0,STRUCT_0,NAT_D,GR_CY_1,NEWTON,CARD_FIN,WEDDWITT,WELLORD2,EQREL_1,FUNCOP_1,RVSUM_1,PEPIN,NAT_4,GROUP_8,NAT_3,GROUP_9,GR_CY_2,TOPGRP_1,VALUED_1,XREAL_0,CKB3,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB38,CKB39,CKB40,CKB41;
schemes FUNCT_1,FINSEQ_1,NAT_1,FUNCT_2,SUBSET_1,CLASSES1,CKB6;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,CARD_1,FINSEQ_1,NEWTON,STRUCT_0,GROUP_2,GROUP_1,GROUP_3,GR_CY_1,FUNCT_2,NAT_3,REALSET1,VALUED_0,DYNKIN,CKB4,CKB7,CKB11,CKB29,CKB36,CKB37;
constructors SETFAM_1,WELLORD2,NAT_D,EQREL_1,BINARITH,WSIERP_1,REALSET2,GR_CY_1,GROUP_4,CARD_FIN,NAT_3,TOPGRP_1,SEQ_1,DYNKIN,RELSET_1,CKB2,CKB3,CKB9,CKB10,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB28,CKB33,CKB34,CKB39;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Lm4: (for G being  finite Group holds (for E,T being non  empty set holds (for LO being (LeftOperation of G,E) holds (for n being  natural number holds ((((LO = ( the_left_operation_of (G,T) ) & n = ( card G )) & E = [: (the carrier of G),T :]) & ( card n ) c= ( card E )) implies ( the_fixed_points_of ( the_extension_of_left_operation_of (n,LO) ) ) = { [: (the carrier of G),{ t } :] where t is (Element of T): (not contradiction) })))))
proof
let G being  finite Group;
let E being non  empty set;
let T being non  empty set;
let LO being (LeftOperation of G,E);
let n being  natural number;
assume A1: LO = ( the_left_operation_of (G,T) );
set EE = ( the_subsets_of_card (n,E) );
set LO9 = ( the_extension_of_left_operation_of (n,LO) );
assume A2: n = ( card G );
assume A3: E = [: (the carrier of G),T :];
assume A4: ( card n ) c= ( card E );
now
let z being set;
hereby
assume z in ( the_fixed_points_of LO9 );
then z in { x where x is (Element of EE): x is_fixed_under LO9 } by CKB23:def 1;
then consider e being (Element of EE) such that A5: z = e and A6: e is_fixed_under LO9;
EE is non  empty by A4,CKB12:1;
then z in EE by A5;
then consider X being (Subset of E) such that A7: z = X and A8: ( card X ) = n;
A9: (for g being (Element of G) holds e = ( ( the_left_translation_of (g,T) ) .: e ))
proof
let g being (Element of G);
( LO9 . g ) = ( the_extension_of_left_translation_of (n,g,LO) ) by A4,CKB15:def 1;
then A10: ( ( LO9 ^ g ) . e ) = ( ( LO ^ g ) .: e ) by A4,CKB14:def 1;
e = ( ( LO9 ^ g ) . e ) by A6,CKB22:def 1;
hence thesis by A1,A10,CKB17:def 1;
end;
(ex t being (Element of T) st [: (the carrier of G),{ t } :] c= z)
proof
(not X is  empty) by A2,A8;
then consider x1 being set such that A11: x1 in X by XBOOLE_0:def 1;
consider g1,t being set such that A12: g1 in (the carrier of G) and A13: t in T and A14: x1 = [ g1,t ] by A3,A11,ZFMISC_1:def 2;
reconsider t as (Element of T) by A13;
reconsider g1 as (Element of G) by A12;
take t;
now
reconsider z19 = x1 as (Element of [: (the carrier of G),T :]) by A3,A11;
let x2 being set;
assume x2 in [: (the carrier of G),{ t } :];
then consider g2,t9 being set such that A15: g2 in (the carrier of G) and A16: (t9 in { t } & x2 = [ g2,t9 ]) by ZFMISC_1:def 2;
reconsider g2 as (Element of G) by A15;
set g = ( g2 * ( g1 " ) );
consider z29 being (Element of [: (the carrier of G),T :]),g19,g29 being (Element of G),t99 being (Element of T) such that A17: z29 = ( ( the_left_translation_of (g,T) ) . z19 ) and A18: g29 = ( g * g19 ) and A19: z19 = [ g19,t99 ] and A20: z29 = [ g29,t99 ] by CKB16:def 1;
A21: t = t99 by A14,A19,ZFMISC_1:27;
( dom ( the_left_translation_of (g,T) ) ) = E by A3,FUNCT_2:def 1;
then A22: ( ( the_left_translation_of (g,T) ) . x1 ) in ( ( the_left_translation_of (g,T) ) .: e ) by A5,A7,A11,FUNCT_1:def 6;
g29 = ( ( g2 * ( g1 " ) ) * g1 ) by A14,A18,A19,ZFMISC_1:27
.= ( g2 * ( ( g1 " ) * g1 ) ) by GROUP_1:def 3
.= ( g2 * ( 1_ G ) ) by GROUP_1:def 5
.= g2 by GROUP_1:def 4;
then z29 = x2 by A16,A20,A21,TARSKI:def 1;
hence x2 in z by A5,A9,A17,A22;
end;
hence thesis by TARSKI:def 3;
end;
then consider t being (Element of T) such that A23: [: (the carrier of G),{ t } :] c= z;
n,X are_equipotent  by A8,CARD_1:def 2;
then consider f being Function such that f is  one-to-one and A24: ( dom f ) = n and A25: ( rng f ) = X by WELLORD2:def 4;
( dom f ) in ( omega ) by A24,ORDINAL1:def 12;
then reconsider X as  finite set by A25,FINSET_1:def 1;
( card [: (the carrier of G),{ t } :] ) = n by A2,CARD_1:69;
then [: (the carrier of G),{ t } :] = X by A7,A8,A23,CARD_FIN:1;
hence z in { [: (the carrier of G),{ t9 } :] where t9 is (Element of T): (not contradiction) } by A7;
end;
assume z in { [: (the carrier of G),{ t } :] where t is (Element of T): (not contradiction) };
then consider t being (Element of T) such that A26: z = [: (the carrier of G),{ t } :];
A27:now
let z9 being set;
assume z9 in z;
then (ex x,y being set st ((x in (the carrier of G) & y in { t }) & z9 = [ x,y ])) by A26,ZFMISC_1:def 2;
hence z9 in [: (the carrier of G),T :] by ZFMISC_1:def 2;
end;
then reconsider X = z as (Subset of E) by A3,TARSKI:def 3;
( card X ) = ( card (the carrier of G) ) by A26,CARD_1:69;
then z in EE by A2;
then reconsider e = z as (Element of EE);
A28: z c= [: (the carrier of G),T :] by A27,TARSKI:def 3;
A29: (for g being (Element of G) holds e = ( ( LO ^ g ) .: e ))
proof
let g being (Element of G);
A30: ( LO ^ g ) = ( the_left_translation_of (g,T) ) by A1,CKB17:def 1;
now
let e2 being set;
hereby
assume e2 in e;
then consider g2,t2 being set such that A31: g2 in (the carrier of G) and A32: t2 in { t } and A33: e2 = [ g2,t2 ] by A26,ZFMISC_1:def 2;
reconsider g2 as (Element of G) by A31;
reconsider e1 = [ ( ( g " ) * g2 ),t2 ] as set;
take e1;
A34: z c= ( dom ( LO ^ g ) ) by A3,A28,FUNCT_2:def 1;
e1 in e by A26,A32,ZFMISC_1:def 2;
hence (e1 in ( dom ( LO ^ g ) ) & e1 in e) by A34;
then reconsider z1 = e1 as (Element of [: (the carrier of G),T :]) by A3;
consider z2 being (Element of [: (the carrier of G),T :]),g19,g29 being (Element of G),t9 being (Element of T) such that A35: z2 = ( ( LO ^ g ) . z1 ) and A36: g29 = ( g * g19 ) and A37: z1 = [ g19,t9 ] and A38: z2 = [ g29,t9 ] by A30,CKB16:def 1;
g29 = ( g * ( ( g " ) * g2 ) ) by A36,A37,ZFMISC_1:27
.= ( ( g * ( g " ) ) * g2 ) by GROUP_1:def 3
.= ( ( 1_ G ) * g2 ) by GROUP_1:def 5
.= g2 by GROUP_1:def 4;
hence e2 = ( ( LO ^ g ) . e1 ) by A33,A35,A37,A38,ZFMISC_1:27;
end;
given e1 being set such that
A39: e1 in ( dom ( LO ^ g ) )
and
A40: e1 in e
and
A41: e2 = ( ( LO ^ g ) . e1 );

reconsider z1 = e1 as (Element of [: (the carrier of G),T :]) by A3,A39;
consider z2 being (Element of [: (the carrier of G),T :]),g19,g29 being (Element of G),t9 being (Element of T) such that A42: z2 = ( ( LO ^ g ) . z1 ) and g29 = ( g * g19 ) and A43: z1 = [ g19,t9 ] and A44: z2 = [ g29,t9 ] by A30,CKB16:def 1;
A45: t9 in { t9 } by TARSKI:def 1;
consider g1,t1 being set such that g1 in (the carrier of G) and A46: t1 in { t } and A47: e1 = [ g1,t1 ] by A26,A40,ZFMISC_1:def 2;
t1 = t by A46,TARSKI:def 1;
then t9 = t by A47,A43,ZFMISC_1:27;
hence e2 in e by A26,A41,A42,A44,A45,ZFMISC_1:def 2;
end;
hence thesis by FUNCT_1:def 6;
end;
(for g being (Element of G) holds e = ( ( LO9 ^ g ) . e ))
proof
let g being (Element of G);
( LO9 . g ) = ( the_extension_of_left_translation_of (n,g,LO) ) by A4,CKB15:def 1;
then ( ( LO9 ^ g ) . e ) = ( ( LO ^ g ) .: e ) by A4,CKB14:def 1;
then consider Y being (Element of EE) such that A48: [ Y,( ( LO ^ g ) .: Y ) ] = [ e,( ( LO9 ^ g ) . e ) ];
(Y = e & ( ( LO ^ g ) .: Y ) = ( ( LO9 ^ g ) . e )) by A48,ZFMISC_1:27;
hence thesis by A29;
end;
then e is_fixed_under LO9 by CKB22:def 1;
then A49: z in { x where x is (Element of EE): x is_fixed_under LO9 };
EE is non  empty by A4,CKB12:1;
hence z in ( the_fixed_points_of LO9 ) by A49,CKB23:def 1;
end;
hence thesis by TARSKI:1;
end;
