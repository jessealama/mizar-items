environ
vocabularies NUMBERS,XBOOLE_0,STRUCT_0,GROUP_9,SUBSET_1,ORDINAL4,FUNCT_1,RELAT_1,TARSKI,GROUP_1,ALGSTR_0,ZFMISC_1,FUNCT_2,BINOP_1,SETFAM_1,CARD_1,FINSET_1,ORDINAL1,CARD_FIN,GROUP_2,EQREL_1,INT_2,NEWTON,INT_1,XXREAL_0,ARYTM_3,FINSEQ_1,NAT_1,PARTFUN1,CQC_SIM1,CARD_3,FUNCOP_1,FINSEQ_2,NAT_3,GR_CY_1,BINOP_2,XREAL_0,XCMPLX_0,ARYTM_1,RLSUB_1,GROUP_4,GRAPH_1,GROUP_3,REALSET1,GROUP_10;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,CARD_1,NUMBERS,XCMPLX_0,ZFMISC_1,XXREAL_0,XREAL_0,INT_2,NAT_1,NAT_D,FINSET_1,RELAT_1,REALSET1,FUNCT_1,RELSET_1,FUNCT_2,FINSEQ_1,RVSUM_1,STRUCT_0,ALGSTR_0,GROUP_1,GROUP_2,GROUP_3,EQREL_1,FUNCOP_1,WSIERP_1,NEWTON,DOMAIN_1,GR_CY_1,ORDINAL1,GROUP_4,CARD_FIN,PARTFUN1,NAT_3,TOPGRP_1,CKB1,CKB2,CKB3,CKB5,CKB8,CKB9,CKB10;
definitions CARD_1,GROUP_2,TARSKI,REALSET1,RELAT_1,WELLORD2,STRUCT_0,FUNCT_2,CKB3,CKB9,CKB10;
theorems FINSEQ_1,GROUP_2,GROUP_3,TARSKI,GROUP_6,FINSEQ_2,FUNCT_1,FUNCT_2,RELAT_1,XBOOLE_0,XBOOLE_1,NAT_1,GROUP_1,XREAL_1,RELSET_1,PARTFUN1,FINSEQ_3,INT_1,ZFMISC_1,CARD_1,CARD_2,FINSET_1,XCMPLX_1,ORDINAL1,FINSEQ_4,XXREAL_0,STRUCT_0,NAT_D,GR_CY_1,NEWTON,CARD_FIN,WEDDWITT,WELLORD2,EQREL_1,FUNCOP_1,RVSUM_1,PEPIN,NAT_4,GROUP_8,NAT_3,GROUP_9,GR_CY_2,TOPGRP_1,VALUED_1,XREAL_0,CKB3,CKB9,CKB10,CKB12;
schemes FUNCT_1,FINSEQ_1,NAT_1,FUNCT_2,SUBSET_1,CLASSES1,CKB6;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,CARD_1,FINSEQ_1,NEWTON,STRUCT_0,GROUP_2,GROUP_1,GROUP_3,GR_CY_1,FUNCT_2,NAT_3,REALSET1,VALUED_0,DYNKIN,CKB4,CKB7,CKB11;
constructors SETFAM_1,WELLORD2,NAT_D,EQREL_1,BINARITH,WSIERP_1,REALSET2,GR_CY_1,GROUP_4,CARD_FIN,NAT_3,TOPGRP_1,SEQ_1,DYNKIN,RELSET_1,CKB2,CKB3,CKB9,CKB10;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Th3: (for E being non empty  finite set holds (for k being (Element of ( NAT )) holds (for x1,x2 being set holds (x1 <> x2 implies ( card ( Choose (E,k,x1,x2) ) ) = ( card ( the_subsets_of_card (k,E) ) )))))
proof
let E being non empty  finite set;
let k being (Element of ( NAT ));
let x1 being set,x2 being set;
set f = { [ fX,X ] where fX is (Function of E,{ x1,x2 }),X is (Subset of E): (( card ( fX " { x1 } ) ) = k & ( fX " { x1 } ) = X) };
now
let x being set;
assume x in f;
then consider y being (Function of E,{ x1,x2 }),z being (Subset of E) such that A1: x = [ y,z ] and ( card ( y " { x1 } ) ) = k and ( y " { x1 } ) = z;
reconsider y,z as set;
take y;
take z;
thus x = [ y,z ] by A1;
end;
then reconsider f as  Relation-like set by RELAT_1:def 1;
now
let x being set,y1 being set,y2 being set;
assume [ x,y1 ] in f;
then consider fX1 being (Function of E,{ x1,x2 }),X1 being (Subset of E) such that A2: [ x,y1 ] = [ fX1,X1 ] and ( card ( fX1 " { x1 } ) ) = k and A3: ( fX1 " { x1 } ) = X1;
A4: x = fX1 by A2,ZFMISC_1:27;
assume [ x,y2 ] in f;
then consider fX2 being (Function of E,{ x1,x2 }),X2 being (Subset of E) such that A5: [ x,y2 ] = [ fX2,X2 ] and ( card ( fX2 " { x1 } ) ) = k and A6: ( fX2 " { x1 } ) = X2;
x = fX2 by A5,ZFMISC_1:27;
hence y1 = y2 by A2,A3,A5,A6,A4,ZFMISC_1:27;
end;
then reconsider f as Function by FUNCT_1:def 1;
assume A7: x1 <> x2;
now
let y1 being set,y2 being set;
assume that
A8: y1 in ( dom f )
and
A9: y2 in ( dom f );
assume A10: ( f . y1 ) = ( f . y2 );
[ y2,( f . y2 ) ] in f by A9,FUNCT_1:1;
then consider fX2 being (Function of E,{ x1,x2 }),X2 being (Subset of E) such that A11: [ y2,( f . y2 ) ] = [ fX2,X2 ] and ( card ( fX2 " { x1 } ) ) = k and A12: ( fX2 " { x1 } ) = X2;
A13: y2 = fX2 by A11,ZFMISC_1:27;
[ y1,( f . y1 ) ] in f by A8,FUNCT_1:1;
then consider fX1 being (Function of E,{ x1,x2 }),X1 being (Subset of E) such that A14: [ y1,( f . y1 ) ] = [ fX1,X1 ] and ( card ( fX1 " { x1 } ) ) = k and A15: ( fX1 " { x1 } ) = X1;
( dom fX1 ) = E by FUNCT_2:def 1;
then A16: ( dom fX1 ) = ( dom fX2 ) by FUNCT_2:def 1;
( f . y1 ) = X1 by A14,ZFMISC_1:27;
then A17: ( fX1 " { x1 } ) = ( fX2 " { x1 } ) by A10,A15,A11,A12,ZFMISC_1:27;
A18: (for z being set holds (z in ( dom fX1 ) implies ( fX1 . z ) = ( fX2 . z )))
proof
assume (ex z being set st (z in ( dom fX1 ) & ( fX1 . z ) <> ( fX2 . z )));
then consider z being set such that A19: z in ( dom fX1 ) and A20: ( fX1 . z ) <> ( fX2 . z );
A21: ( fX1 . z ) in { x1,x2 } by A19,FUNCT_2:5;
( fX2 . z ) in { x1,x2 } by A19,FUNCT_2:5;
then A22: (( fX2 . z ) = x1 or ( fX2 . z ) = x2) by TARSKI:def 2;
per cases  by A20,A21,A22,TARSKI:def 2;
suppose A23: (( fX1 . z ) = x1 & ( fX2 . z ) = x2);

then A24: ( fX1 . z ) in { x1 } by TARSKI:def 1;
[ z,( fX1 . z ) ] in fX1 by A19,FUNCT_1:1;
then z in ( fX2 " { x1 } ) by A17,A24,RELAT_1:def 14;
then consider z9 being set such that A25: [ z,z9 ] in fX2 and A26: z9 in { x1 } by RELAT_1:def 14;
z9 = ( fX2 . z ) by A25,FUNCT_1:1;
hence contradiction by A7,A23,A26,TARSKI:def 1;
end;
suppose A27: (( fX1 . z ) = x2 & ( fX2 . z ) = x1);

then A28: ( fX2 . z ) in { x1 } by TARSKI:def 1;
[ z,( fX2 . z ) ] in fX2 by A16,A19,FUNCT_1:1;
then z in ( fX1 " { x1 } ) by A17,A28,RELAT_1:def 14;
then consider z9 being set such that A29: [ z,z9 ] in fX1 and A30: z9 in { x1 } by RELAT_1:def 14;
z9 = ( fX1 . z ) by A29,FUNCT_1:1;
hence contradiction by A7,A27,A30,TARSKI:def 1;
end;
end;
y1 = fX1 by A14,ZFMISC_1:27;
hence y1 = y2 by A13,A16,A18,FUNCT_1:2;
end;
then A31: f is  one-to-one by FUNCT_1:def 4;
(for y being set holds (y in ( the_subsets_of_card (k,E) ) iff (ex x being set st [ x,y ] in f)))
proof
let y being set;
hereby
assume y in ( the_subsets_of_card (k,E) );
then consider X being (Subset of E) such that A32: (y = X & ( card X ) = k);
defpred P[ set,set ]
 means
(($1 in X & $2 = x1) or ((not $1 in X) & $2 = x2));
A33: (for z1 being (Element of E) holds (ex z2 being (Element of { x1,x2 }) st P[ z1,z2 ]))
proof
let z1 being (Element of E);
per cases ;
suppose A34: z1 in X;

reconsider z2 = x1 as (Element of { x1,x2 }) by TARSKI:def 2;
take z2;
thus thesis by A34;
end;
suppose A35: (not z1 in X);

reconsider z2 = x2 as (Element of { x1,x2 }) by TARSKI:def 2;
take z2;
thus thesis by A35;
end;
end;
(ex f being (Function of E,{ x1,x2 }) st (for z being (Element of E) holds P[ z,( f . z ) ])) from FUNCT_2:sch 3(A33);
then consider f9 being (Function of E,{ x1,x2 }) such that A36: (for z being (Element of E) holds P[ z,( f9 . z ) ]);
reconsider x = f9 as set;
take x;
now
let z being set;
hereby
assume A37: z in X;
then reconsider z9 = z as (Element of E);
set z99 = ( f9 . z9 );
z in E by A37;
then z in ( dom f9 ) by FUNCT_2:def 1;
then A38: [ z,( f9 . z ) ] in f9 by FUNCT_1:1;
( f9 . z9 ) = x1 by A36,A37;
then z99 in { x1 } by TARSKI:def 1;
hence z in ( f9 " { x1 } ) by A38,RELAT_1:def 14;
end;
assume z in ( f9 " { x1 } );
then consider z9 being set such that A39: [ z,z9 ] in f9 and A40: z9 in { x1 } by RELAT_1:def 14;
z in ( dom f9 ) by A39,RELAT_1:def 4;
then reconsider z99 = z as (Element of E);
z9 = x1 by A40,TARSKI:def 1;
then ( f9 . z99 ) = x1 by A39,FUNCT_1:1;
hence z in X by A7,A36;
end;
then X = ( f9 " { x1 } ) by TARSKI:1;
hence [ x,y ] in f by A32;
end;
given x being set such that
A41: [ x,y ] in f;

consider fX being (Function of E,{ x1,x2 }),X being (Subset of E) such that A42: [ x,y ] = [ fX,X ] and A43: (( card ( fX " { x1 } ) ) = k & ( fX " { x1 } ) = X) by A41;
y = X by A42,ZFMISC_1:27;
hence thesis by A43;
end;
then A44: ( rng f ) = ( the_subsets_of_card (k,E) ) by RELAT_1:def 5;
(for x being set holds (x in ( Choose (E,k,x1,x2) ) iff (ex y being set st [ x,y ] in f)))
proof
let x being set;
thus (x in ( Choose (E,k,x1,x2) ) implies (ex y being set st [ x,y ] in f))
proof
assume x in ( Choose (E,k,x1,x2) );
then consider fX being (Function of E,{ x1,x2 }) such that A45: (fX = x & ( card ( fX " { x1 } ) ) = k) by CARD_FIN:def 1;
set y = ( fX " { x1 } );
take y;
thus thesis by A45;
end;

thus ((ex y being set st [ x,y ] in f) implies x in ( Choose (E,k,x1,x2) ))
proof
given y being set such that
A46: [ x,y ] in f;

consider fX being (Function of E,{ x1,x2 }),X being (Subset of E) such that A47: [ x,y ] = [ fX,X ] and A48: ( card ( fX " { x1 } ) ) = k and ( fX " { x1 } ) = X by A46;
x = fX by A47,ZFMISC_1:27;
hence thesis by A48,CARD_FIN:def 1;
end;

end;
then ( dom f ) = ( Choose (E,k,x1,x2) ) by RELAT_1:def 4;
then ( Choose (E,k,x1,x2) ),( the_subsets_of_card (k,E) ) are_equipotent  by A31,A44,WELLORD2:def 4;
hence thesis by CARD_1:5;
end;
