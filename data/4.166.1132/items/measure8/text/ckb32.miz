environ
vocabularies NUMBERS,PROB_1,MEASURE1,SUBSET_1,MESFUNC5,ORDINAL1,SUPINF_2,SERIES_1,FUNCT_1,NAT_1,ARYTM_3,CARD_1,CARD_3,VALUED_0,SEQ_2,ORDINAL2,XXREAL_0,RELAT_1,PROB_2,XBOOLE_0,TARSKI,FINSEQ_1,ZFMISC_1,FUNCOP_1,FUNCT_2,MEASURE7,SUPINF_1,NAGATA_2,MCART_1,FUNCT_7,XXREAL_2,XREAL_0,REAL_1,MEASURE4,PROB_3,SETLIM_2,ARYTM_1,SETLIM_1,EQREL_1,LATTICE5,MEASURE2,MEASURE8;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,XXREAL_0,XXREAL_2,XREAL_0,VALUED_0,REAL_1,RELAT_1,FUNCOP_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,NUMBERS,FINSEQ_1,SETFAM_1,RINFSUP2,MEASURE1,MEASURE2,MEASURE4,MESFUNC5,SUPINF_2,XXREAL_3,NAT_1,MESFUNC9,SUPINF_1,RECDEF_1,PROB_1,PROB_2,PROB_3,SETLIM_1,SETLIM_2,NAGATA_2,FUNCT_7,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB14,CKB16,CKB17,CKB19,CKB21,CKB22,CKB23;
definitions SUPINF_2,TARSKI,PROB_2,RINFSUP2,MESFUNC9,PROB_3,ALTCAT_2,CKB5,CKB9,CKB10,CKB13,CKB14,CKB17,CKB19,CKB21,CKB22,CKB23;
theorems ZFMISC_1,TARSKI,XBOOLE_0,PROB_1,MEASURE1,FUNCT_2,FUNCT_1,XBOOLE_1,PROB_3,FINSEQ_1,RELAT_1,MEASURE4,ORDINAL1,NAT_1,FUNCOP_1,SUPINF_2,XXREAL_2,PROB_4,MEASURE7,XXREAL_0,MEASURE6,FINSUB_1,CARD_3,RINFSUP2,MESFUNC9,VALUED_0,MESFUNC5,MONOID_1,MEASURE2,SETLIM_1,SETLIM_2,ABCMIZ_1,PROB_2,NAGATA_2,FUNCTOR1,FUNCT_7,XXREAL_3,XREAL_0,PARTFUN1,CKB1,CKB2,CKB3,CKB5,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31;
schemes FUNCT_2,NAT_1,BINOP_2,XBOOLE_0,SUBSET_1;
registrations MEMBERED,ORDINAL1,MEASURE1,XBOOLE_0,NUMBERS,XXREAL_0,VALUED_0,FUNCT_1,FUNCT_2,SUBSET_1,RELSET_1,MEASURE4,NAT_1,XXREAL_3,XREAL_0,PROB_3,CKB4,CKB6,CKB20;
constructors REAL_1,DOMAIN_1,KURATO_0,MESFUNC5,RINFSUP2,MESFUNC9,SUPINF_1,PROB_3,MEASURE7,RECDEF_1,SETLIM_2,SETLIM_1,NAGATA_2,FUNCT_7,ALTCAT_2,CKB5,CKB9,CKB10,CKB11,CKB13,CKB14,CKB16,CKB17,CKB19,CKB21,CKB22,CKB23;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for set;
reserve F for (Field_Subset of X);
reserve M for (Measure of F);
reserve Sets for (SetSequence of X);
reserve n for  natural number;
theorem
Th13: ( ( C_Meas M ) . ( union ( rng Sets ) ) ) <= ( SUM ( ( C_Meas M ) * Sets ) )
proof
A1:now
assume A2: (for n being (Element of ( NAT )) holds ( Svc (M,( Sets . n )) ) <> { ( +infty ) });
( inf ( Svc (M,( union ( rng Sets ) )) ) ) <= ( sup ( rng ( Ser ( ( C_Meas M ) * Sets ) ) ) )
proof
set y = ( inf ( Svc (M,( union ( rng Sets ) )) ) );
set x = ( sup ( rng ( Ser ( ( C_Meas M ) * Sets ) ) ) );
A3: ( ( Ser ( ( C_Meas M ) * Sets ) ) . ( 0 ) ) <= x by FUNCT_2:4,XXREAL_2:4;
A4: ( ( C_Meas M ) * Sets ) is  nonnegative by CKB28:1,MEASURE1:25;
then ( 0 ) <= ( ( ( C_Meas M ) * Sets ) . ( 0 ) ) by SUPINF_2:39;
then A5: ( 0 ) <= ( ( Ser ( ( C_Meas M ) * Sets ) ) . ( 0 ) ) by SUPINF_2:44;
assume (not ( inf ( Svc (M,( union ( rng Sets ) )) ) ) <= ( sup ( rng ( Ser ( ( C_Meas M ) * Sets ) ) ) ));
then consider eps being  real number such that A6: ( 0 ) < eps and A7: ( x + eps ) < y by A5,A3,XXREAL_3:49;
eps in ( ExtREAL ) by XXREAL_0:def 1;
then consider E being (Function of ( NAT ),( ExtREAL )) such that A8: (for n being (Element of ( NAT )) holds ( 0 ) < ( E . n )) and A9: ( SUM E ) < eps by A6,MEASURE6:4;
(for n being (Element of ( NAT )) holds ( 0 ) <= ( E . n )) by A8;
then A10: E is  nonnegative by SUPINF_2:39;
defpred P[ (Element of ( NAT )),set ]
 means
(ex F0 being (Covering of ( Sets . $1 ),F) st ($2 = F0 & ( SUM ( vol (M,F0) ) ) < ( ( inf ( Svc (M,( Sets . $1 )) ) ) + ( E . $1 ) )));
A11: (for n being (Element of ( NAT )) holds (ex F0 being (Element of ( Funcs (( NAT ),( bool X )) )) st P[ n,F0 ]))
proof
let n being (Element of ( NAT ));
(( C_Meas M ) is  nonnegative & ( ( C_Meas M ) . ( Sets . n ) ) = ( inf ( Svc (M,( Sets . n )) ) )) by CKB21:def 1,CKB28:1;
then A12: (( 0 ) is Real & ( 0. ) <= ( inf ( Svc (M,( Sets . n )) ) )) by SUPINF_2:51;
( Svc (M,( Sets . n )) ) <> { ( +infty ) } by A2;
then (not ( Svc (M,( Sets . n )) ) c= { ( +infty ) }) by ZFMISC_1:33;
then ( ( Svc (M,( Sets . n )) ) \ { ( +infty ) } ) <> ( {} ) by XBOOLE_1:37;
then consider x being set such that A13: x in ( ( Svc (M,( Sets . n )) ) \ { ( +infty ) } ) by XBOOLE_0:def 1;
reconsider x as R_eal by A13;
(not x in { ( +infty ) }) by A13,XBOOLE_0:def 5;
then A14: x <> ( +infty ) by TARSKI:def 1;
x in ( Svc (M,( Sets . n )) ) by A13,XBOOLE_0:def 5;
then ( inf ( Svc (M,( Sets . n )) ) ) <= x by XXREAL_2:3;
then ( inf ( Svc (M,( Sets . n )) ) ) < ( +infty ) by A14,XXREAL_0:2,XXREAL_0:4;
then ( inf ( Svc (M,( Sets . n )) ) ) is Real by A12,XXREAL_0:46;
then consider S1 being  ext-real number such that A15: S1 in ( Svc (M,( Sets . n )) ) and A16: S1 < ( ( inf ( Svc (M,( Sets . n )) ) ) + ( E . n ) ) by A8,MEASURE6:5;
consider FS being (Covering of ( Sets . n ),F) such that A17: S1 = ( SUM ( vol (M,FS) ) ) by A15,CKB19:def 1;
reconsider FS as (Element of ( Funcs (( NAT ),( bool X )) )) by FUNCT_2:8;
take FS;
thus thesis by A16,A17;
end;
consider FF being (Function of ( NAT ),( Funcs (( NAT ),( bool X )) )) such that A18: (for n being (Element of ( NAT )) holds P[ n,( FF . n ) ]) from FUNCT_2:sch 3(A11);
A19: (for n being Nat holds ( FF . n ) is (Covering of ( Sets . n ),F))
proof
let n being Nat;
n in ( NAT ) by ORDINAL1:def 12;
then (ex F0 being (Covering of ( Sets . n ),F) st (F0 = ( FF . n ) & ( SUM ( vol (M,F0) ) ) < ( ( inf ( Svc (M,( Sets . n )) ) ) + ( E . n ) ))) by A18;
hence thesis;
end;
deffunc F((Element of ( NAT ))) = ( ( ( ( C_Meas M ) * Sets ) . $1 ) + ( E . $1 ) );
A20: (for x being (Element of ( NAT )) holds F(x) is (Element of ( ExtREAL ))) by XXREAL_0:def 1;
consider G0 being (Function of ( NAT ),( ExtREAL )) such that A21: (for n being (Element of ( NAT )) holds ( G0 . n ) = F(n)) from FUNCT_2:sch 9(A20);
reconsider FF as (Covering of Sets,F) by A19,CKB13:def 1;
(for n being (Element of ( NAT )) holds ( ( Volume (M,FF) ) . n ) <= ( G0 . n ))
proof
let n being (Element of ( NAT ));
((ex F0 being (Covering of ( Sets . n ),F) st (F0 = ( FF . n ) & ( SUM ( vol (M,F0) ) ) < ( ( inf ( Svc (M,( Sets . n )) ) ) + ( E . n ) ))) & ( ( ( C_Meas M ) * Sets ) . n ) = ( ( C_Meas M ) . ( Sets . n ) )) by A18,FUNCT_2:15;
then ( SUM ( vol (M,( FF . n )) ) ) < ( ( ( ( C_Meas M ) * Sets ) . n ) + ( E . n ) ) by CKB21:def 1;
then ( ( Volume (M,FF) ) . n ) < ( ( ( ( C_Meas M ) * Sets ) . n ) + ( E . n ) ) by CKB17:def 1;
hence thesis by A21;
end;
then A22: ( SUM ( Volume (M,FF) ) ) <= ( SUM G0 ) by SUPINF_2:43;
A23:now
let n being Nat;
n is (Element of ( NAT )) by ORDINAL1:def 12;
hence ( G0 . n ) = ( ( ( ( C_Meas M ) * Sets ) . n ) + ( E . n ) ) by A21;
end;
( ( SUM ( ( C_Meas M ) * Sets ) ) + ( SUM E ) ) <= ( ( SUM ( ( C_Meas M ) * Sets ) ) + eps ) by A9,XXREAL_3:36;
then ( SUM G0 ) <= ( ( SUM ( ( C_Meas M ) * Sets ) ) + eps ) by A4,A10,A23,CKB3:1;
then A24: ( SUM ( Volume (M,FF) ) ) <= ( ( SUM ( ( C_Meas M ) * Sets ) ) + eps ) by A22,XXREAL_0:2;
y <= ( SUM ( Volume (M,FF) ) ) by CKB25:1;
hence thesis by A7,A24,XXREAL_0:2;
end;
hence thesis by CKB21:def 1;
end;
now
assume (ex n being (Element of ( NAT )) st ( Svc (M,( Sets . n )) ) = { ( +infty ) });
then consider n being (Element of ( NAT )) such that A25: ( Svc (M,( Sets . n )) ) = { ( +infty ) };
( inf { ( +infty ) } ) = ( +infty ) by XXREAL_2:13;
then ( ( C_Meas M ) . ( Sets . n ) ) = ( +infty ) by A25,CKB21:def 1;
hence thesis by CKB31:1;
end;
hence thesis by A1;
end;
