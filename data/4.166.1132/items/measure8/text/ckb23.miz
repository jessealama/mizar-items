environ
vocabularies NUMBERS,PROB_1,MEASURE1,SUBSET_1,MESFUNC5,ORDINAL1,SUPINF_2,SERIES_1,FUNCT_1,NAT_1,ARYTM_3,CARD_1,CARD_3,VALUED_0,SEQ_2,ORDINAL2,XXREAL_0,RELAT_1,PROB_2,XBOOLE_0,TARSKI,FINSEQ_1,ZFMISC_1,FUNCOP_1,FUNCT_2,MEASURE7,SUPINF_1,NAGATA_2,MCART_1,FUNCT_7,XXREAL_2,XREAL_0,REAL_1,MEASURE4,PROB_3,SETLIM_2,ARYTM_1,SETLIM_1,EQREL_1,LATTICE5,MEASURE2,MEASURE8;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,XXREAL_0,XXREAL_2,XREAL_0,VALUED_0,REAL_1,RELAT_1,FUNCOP_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,NUMBERS,FINSEQ_1,SETFAM_1,RINFSUP2,MEASURE1,MEASURE2,MEASURE4,MESFUNC5,SUPINF_2,XXREAL_3,NAT_1,MESFUNC9,SUPINF_1,RECDEF_1,PROB_1,PROB_2,PROB_3,SETLIM_1,SETLIM_2,NAGATA_2,FUNCT_7,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB14,CKB16,CKB17,CKB19,CKB21,CKB22;
definitions SUPINF_2,TARSKI,PROB_2,RINFSUP2,MESFUNC9,PROB_3,ALTCAT_2,CKB5,CKB9,CKB10,CKB13,CKB14,CKB17,CKB19,CKB21,CKB22;
theorems ZFMISC_1,TARSKI,XBOOLE_0,PROB_1,MEASURE1,FUNCT_2,FUNCT_1,XBOOLE_1,PROB_3,FINSEQ_1,RELAT_1,MEASURE4,ORDINAL1,NAT_1,FUNCOP_1,SUPINF_2,XXREAL_2,PROB_4,MEASURE7,XXREAL_0,MEASURE6,FINSUB_1,CARD_3,RINFSUP2,MESFUNC9,VALUED_0,MESFUNC5,MONOID_1,MEASURE2,SETLIM_1,SETLIM_2,ABCMIZ_1,PROB_2,NAGATA_2,FUNCTOR1,FUNCT_7,XXREAL_3,XREAL_0,PARTFUN1,CKB1,CKB2,CKB3,CKB5,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB21,CKB22;
schemes FUNCT_2,NAT_1,BINOP_2,XBOOLE_0,SUBSET_1;
registrations MEMBERED,ORDINAL1,MEASURE1,XBOOLE_0,NUMBERS,XXREAL_0,VALUED_0,FUNCT_1,FUNCT_2,SUBSET_1,RELSET_1,MEASURE4,NAT_1,XXREAL_3,XREAL_0,PROB_3,CKB4,CKB6,CKB20;
constructors REAL_1,DOMAIN_1,KURATO_0,MESFUNC5,RINFSUP2,MESFUNC9,SUPINF_1,PROB_3,MEASURE7,RECDEF_1,SETLIM_2,SETLIM_1,NAGATA_2,FUNCT_7,ALTCAT_2,CKB5,CKB9,CKB10,CKB11,CKB13,CKB14,CKB16,CKB17,CKB19,CKB21,CKB22;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for set;
reserve F for (Field_Subset of X);
reserve A for (Subset of X);
reserve Sets for (SetSequence of X);
reserve n for  natural number;
reserve Cvr for (Covering of Sets,F);
definition
let X;
let F;
let Sets;
let Cvr;
func On Cvr -> (Covering of ( union ( rng Sets ) ),F) means 
:Def10: (for n being Nat holds ( it . n ) = ( ( Cvr . ( ( pr1 ( InvPairFunc ) ) . n ) ) . ( ( pr2 ( InvPairFunc ) ) . n ) ));
existence
proof
defpred P[ (Element of ( NAT )),(Subset of X) ]
 means
$2 = ( ( Cvr . ( ( pr1 ( InvPairFunc ) ) . $1 ) ) . ( ( pr2 ( InvPairFunc ) ) . $1 ) );
A1: (for n being (Element of ( NAT )) holds (ex y being (Subset of X) st P[ n,y ]));
consider Seq0 being (Function of ( NAT ),( bool X )) such that A2: (for n being (Element of ( NAT )) holds P[ n,( Seq0 . n ) ]) from FUNCT_2:sch 3(A1);
reconsider Seq0 as (SetSequence of X);
(for n being Nat holds ( Seq0 . n ) in F)
proof
let n being Nat;
n in ( NAT ) by ORDINAL1:def 12;
then ( Seq0 . n ) = ( ( Cvr . ( ( pr1 ( InvPairFunc ) ) . n ) ) . ( ( pr2 ( InvPairFunc ) ) . n ) ) by A2;
hence ( Seq0 . n ) in F;
end;
then reconsider Seq0 as (Set_Sequence of F) by CKB9:def 1;
( union ( rng Sets ) ) c= ( union ( rng Seq0 ) )
proof
let x being set;
assume x in ( union ( rng Sets ) );
then consider A being set such that A3: x in A and A4: A in ( rng Sets ) by TARSKI:def 4;
consider n1 being (Element of ( NAT )) such that A5: A = ( Sets . n1 ) by A4,FUNCT_2:113;
( Sets . n1 ) c= ( union ( rng ( Cvr . n1 ) ) ) by CKB10:def 1;
then consider AA being set such that A6: x in AA and A7: AA in ( rng ( Cvr . n1 ) ) by A3,A5,TARSKI:def 4;
consider n2 being (Element of ( NAT )) such that A8: AA = ( ( Cvr . n1 ) . n2 ) by A7,FUNCT_2:113;
( dom ( PairFunc ) ) = ( rng ( InvPairFunc ) ) by FUNCT_1:33,NAGATA_2:2;
then ( rng ( InvPairFunc ) ) = [: ( NAT ),( NAT ) :] by FUNCT_2:def 1;
then [ n1,n2 ] in ( rng ( InvPairFunc ) ) by ZFMISC_1:def 2;
then consider n being (Element of ( NAT )) such that A9: [ n1,n2 ] = ( ( InvPairFunc ) . n ) by FUNCT_2:113;
[ ( ( pr1 ( InvPairFunc ) ) . n ),( ( pr2 ( InvPairFunc ) ) . n ) ] = [ n1,n2 ] by A9,FUNCT_2:119;
then (( ( pr1 ( InvPairFunc ) ) . n ) = n1 & ( ( pr2 ( InvPairFunc ) ) . n ) = n2) by ZFMISC_1:27;
then A10: x in ( Seq0 . n ) by A2,A6,A8;
( Seq0 . n ) in ( rng Seq0 ) by FUNCT_2:4;
hence thesis by A10,TARSKI:def 4;
end;
then reconsider Seq0 as (Covering of ( union ( rng Sets ) ),F) by CKB10:def 1;
take Seq0;
hereby
let n being Nat;
n in ( NAT ) by ORDINAL1:def 12;
hence ( Seq0 . n ) = ( ( Cvr . ( ( pr1 ( InvPairFunc ) ) . n ) ) . ( ( pr2 ( InvPairFunc ) ) . n ) ) by A2;
end;
end;
uniqueness
proof
let Seq1 being (Covering of ( union ( rng Sets ) ),F);
let Seq2 being (Covering of ( union ( rng Sets ) ),F);
assume that
A11: (for n being Nat holds ( Seq1 . n ) = ( ( Cvr . ( ( pr1 ( InvPairFunc ) ) . n ) ) . ( ( pr2 ( InvPairFunc ) ) . n ) ))
and
A12: (for n being Nat holds ( Seq2 . n ) = ( ( Cvr . ( ( pr1 ( InvPairFunc ) ) . n ) ) . ( ( pr2 ( InvPairFunc ) ) . n ) ));
(for n being set holds (n in ( NAT ) implies ( Seq1 . n ) = ( Seq2 . n )))
proof
let n being set;
assume n in ( NAT );
then reconsider n as (Element of ( NAT ));
( Seq1 . n ) = ( ( Cvr . ( ( pr1 ( InvPairFunc ) ) . n ) ) . ( ( pr2 ( InvPairFunc ) ) . n ) ) by A11;
hence thesis by A12;
end;
hence thesis by FUNCT_2:12;
end;
end;
