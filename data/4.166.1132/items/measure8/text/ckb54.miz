environ
vocabularies NUMBERS,PROB_1,MEASURE1,SUBSET_1,MESFUNC5,ORDINAL1,SUPINF_2,SERIES_1,FUNCT_1,NAT_1,ARYTM_3,CARD_1,CARD_3,VALUED_0,SEQ_2,ORDINAL2,XXREAL_0,RELAT_1,PROB_2,XBOOLE_0,TARSKI,FINSEQ_1,ZFMISC_1,FUNCOP_1,FUNCT_2,MEASURE7,SUPINF_1,NAGATA_2,MCART_1,FUNCT_7,XXREAL_2,XREAL_0,REAL_1,MEASURE4,PROB_3,SETLIM_2,ARYTM_1,SETLIM_1,EQREL_1,LATTICE5,MEASURE2,MEASURE8;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,XXREAL_0,XXREAL_2,XREAL_0,VALUED_0,REAL_1,RELAT_1,FUNCOP_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,NUMBERS,FINSEQ_1,SETFAM_1,RINFSUP2,MEASURE1,MEASURE2,MEASURE4,MESFUNC5,SUPINF_2,XXREAL_3,NAT_1,MESFUNC9,SUPINF_1,RECDEF_1,PROB_1,PROB_2,PROB_3,SETLIM_1,SETLIM_2,NAGATA_2,FUNCT_7,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB14,CKB16,CKB17,CKB19,CKB21,CKB22,CKB23,CKB34,CKB35,CKB43,CKB45;
definitions SUPINF_2,TARSKI,PROB_2,RINFSUP2,MESFUNC9,PROB_3,ALTCAT_2,CKB5,CKB9,CKB10,CKB13,CKB14,CKB17,CKB19,CKB21,CKB22,CKB23,CKB35;
theorems ZFMISC_1,TARSKI,XBOOLE_0,PROB_1,MEASURE1,FUNCT_2,FUNCT_1,XBOOLE_1,PROB_3,FINSEQ_1,RELAT_1,MEASURE4,ORDINAL1,NAT_1,FUNCOP_1,SUPINF_2,XXREAL_2,PROB_4,MEASURE7,XXREAL_0,MEASURE6,FINSUB_1,CARD_3,RINFSUP2,MESFUNC9,VALUED_0,MESFUNC5,MONOID_1,MEASURE2,SETLIM_1,SETLIM_2,ABCMIZ_1,PROB_2,NAGATA_2,FUNCTOR1,FUNCT_7,XXREAL_3,XREAL_0,PARTFUN1,CKB1,CKB2,CKB3,CKB5,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53;
schemes FUNCT_2,NAT_1,BINOP_2,XBOOLE_0,SUBSET_1;
registrations MEMBERED,ORDINAL1,MEASURE1,XBOOLE_0,NUMBERS,XXREAL_0,VALUED_0,FUNCT_1,FUNCT_2,SUBSET_1,RELSET_1,MEASURE4,NAT_1,XXREAL_3,XREAL_0,PROB_3,CKB4,CKB6,CKB20;
constructors REAL_1,DOMAIN_1,KURATO_0,MESFUNC5,RINFSUP2,MESFUNC9,SUPINF_1,PROB_3,MEASURE7,RECDEF_1,SETLIM_2,SETLIM_1,NAGATA_2,FUNCT_7,ALTCAT_2,CKB5,CKB9,CKB10,CKB11,CKB13,CKB14,CKB16,CKB17,CKB19,CKB21,CKB22,CKB23,CKB34,CKB35,CKB43,CKB45;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for set;
reserve F for (Field_Subset of X);
reserve M for (Measure of F);
reserve seq1 for ExtREAL_sequence;
reserve n for  natural number;
reserve k for  natural number;
theorem
(for X being non  empty set holds (for S being (SigmaField of X) holds (for M being (sigma_Measure of S) holds (for SSets being (SetSequence of S) holds ((SSets is  non-ascending & ( M . ( SSets . ( 0 ) ) ) < ( +infty )) implies ( lim ( M * SSets ) ) = ( M . ( lim SSets ) ))))))
proof
let X being non  empty set;
let S being (SigmaField of X);
let M being (sigma_Measure of S);
let SSets being (SetSequence of S);
assume that
A1: SSets is  non-ascending
and
A2: ( M . ( SSets . ( 0 ) ) ) < ( +infty );
A3: ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) >= ( 0 ) by SUPINF_2:51;
now
let y being set;
assume y in ( rng ( ( SSets . ( 0 ) ) (\) SSets ) );
then consider x being set such that A4: x in ( NAT ) and A5: ( ( ( SSets . ( 0 ) ) (\) SSets ) . x ) = y by FUNCT_2:11;
reconsider x as (Element of ( NAT )) by A4;
( ( SSets . ( 0 ) ) \ ( SSets . x ) ) in S;
hence y in S by A5,SETLIM_2:def 7;
end;
then ( rng ( ( SSets . ( 0 ) ) (\) SSets ) ) c= S by TARSKI:def 3;
then reconsider Bseq = ( ( SSets . ( 0 ) ) (\) SSets ) as (SetSequence of S) by RELAT_1:def 19;
deffunc F1((Element of ( NAT ))) = ( ( M * SSets ) . ( 0 ) );
consider seq1 being (Function of ( NAT ),( ExtREAL )) such that A6: (for n being (Element of ( NAT )) holds ( seq1 . n ) = F1(n)) from FUNCT_2:sch 4;
A7:now
let k being Nat;
reconsider k1 = k as (Element of ( NAT )) by ORDINAL1:def 12;
A8: (( SSets . k1 ) in S & ( Bseq . k1 ) in S);
A9: k is (Element of ( NAT )) by ORDINAL1:def 12;
then (( ( SSets . k ) \/ ( ( SSets . ( 0 ) ) \ ( SSets . k ) ) ) = ( ( SSets . ( 0 ) ) \/ ( SSets . k ) ) & ( SSets . k ) c= ( SSets . ( 0 ) )) by A1,PROB_1:def 4,XBOOLE_1:39;
then ( ( SSets . k ) \/ ( ( SSets . ( 0 ) ) \ ( SSets . k ) ) ) = ( SSets . ( 0 ) ) by XBOOLE_1:12;
then A10: ( ( SSets . k ) \/ ( Bseq . k ) ) = ( SSets . ( 0 ) ) by A9,SETLIM_2:def 7;
( SSets . k ) misses ( ( SSets . ( 0 ) ) \ ( SSets . k ) ) by XBOOLE_1:79;
then ( SSets . k ) misses ( Bseq . k ) by A9,SETLIM_2:def 7;
then ( M . ( SSets . ( 0 ) ) ) = ( ( M . ( SSets . k ) ) + ( M . ( Bseq . k ) ) ) by A10,A8,MEASURE1:30;
then ( ( M * SSets ) . ( 0 ) ) = ( ( M . ( SSets . k ) ) + ( M . ( Bseq . k ) ) ) by FUNCT_2:15;
then ( seq1 . k ) = ( ( M . ( SSets . k ) ) + ( M . ( Bseq . k ) ) ) by A6,A9;
then ( seq1 . k ) = ( ( ( M * SSets ) . k ) + ( M . ( Bseq . k ) ) ) by A9,FUNCT_2:15;
hence ( seq1 . k ) = ( ( ( M * SSets ) . k ) + ( ( M * Bseq ) . k ) ) by A9,FUNCT_2:15;
end;
( M * SSets ) is  non-increasing by A1,CKB53:1;
then A11: ( M * SSets ) is  convergent by RINFSUP2:36;
( rng Bseq ) c= S by RELAT_1:def 19;
then Bseq is (Function of ( NAT ),S) by FUNCT_2:6;
then A12: ( M * Bseq ) is  nonnegative by MEASURE2:1;
A13: (for n being Nat holds ( seq1 . n ) = ( ( M * SSets ) . ( 0 ) ))
proof
let n being Nat;
n is (Element of ( NAT )) by ORDINAL1:def 12;
hence ( seq1 . n ) = ( ( M * SSets ) . ( 0 ) ) by A6;
end;
A14: ( rng SSets ) c= S by RELAT_1:def 19;
then SSets is (Function of ( NAT ),S) by FUNCT_2:6;
then A15: ( M * SSets ) is  nonnegative by MEASURE2:1;
then A16: ( -infty ) < ( ( M * SSets ) . ( 0 ) ) by SUPINF_2:51;
( ( inferior_setsequence SSets ) . ( ( 0 ) + 1 ) ) c= ( SSets . ( 0 ) ) by A1,SETLIM_1:50;
then ( Intersection SSets ) c= ( SSets . ( 0 ) ) by A1,SETLIM_1:52;
then ( lim SSets ) c= ( SSets . ( 0 ) ) by A1,SETLIM_1:61;
then A17: ( ( SSets . ( 0 ) ) \/ ( lim SSets ) ) = ( SSets . ( 0 ) ) by XBOOLE_1:12;
( Intersection SSets ) in S by A14,PROB_1:def 6;
then A18: ( lim SSets ) in S by A1,SETLIM_1:61;
then A19: ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) is (Element of S) by PROB_1:6;
then ( M . ( ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) \/ ( lim SSets ) ) ) = ( ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) + ( M . ( lim SSets ) ) ) by A18,MEASURE1:30,XBOOLE_1:79;
then A20: ( M . ( ( SSets . ( 0 ) ) \/ ( lim SSets ) ) ) = ( ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) + ( M . ( lim SSets ) ) ) by XBOOLE_1:39;
( ( M * SSets ) . ( 0 ) ) < ( +infty ) by A2,FUNCT_2:15;
then A21: ( ( M * SSets ) . ( 0 ) ) in ( REAL ) by A16,XXREAL_0:14;
(for n,m being (Element of ( NAT )) holds (n <= m implies ( Bseq . n ) c= ( Bseq . m )))
proof
let n being (Element of ( NAT ));
let m being (Element of ( NAT ));
assume n <= m;
then ( SSets . m ) c= ( SSets . n ) by A1,PROB_1:def 4;
then ( ( SSets . ( 0 ) ) \ ( SSets . n ) ) c= ( ( SSets . ( 0 ) ) \ ( SSets . m ) ) by XBOOLE_1:34;
then ( Bseq . n ) c= ( ( SSets . ( 0 ) ) \ ( SSets . m ) ) by SETLIM_2:def 7;
hence ( Bseq . n ) c= ( Bseq . m ) by SETLIM_2:def 7;
end;
then A22: Bseq is  non-descending by PROB_1:def 5;
then ( M * Bseq ) is  non-decreasing by CKB52:1;
then ( M * Bseq ) is  convergent by RINFSUP2:37;
then ( lim seq1 ) = ( ( lim ( M * Bseq ) ) + ( lim ( M * SSets ) ) ) by A11,A12,A15,A7,MESFUNC9:11;
then A23: ( ( M * SSets ) . ( 0 ) ) = ( ( lim ( M * Bseq ) ) + ( lim ( M * SSets ) ) ) by A21,A13,MESFUNC5:52;
( lim ( M * Bseq ) ) = ( M . ( lim Bseq ) ) by A22,CKB49:1
.= ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) by A1,SETLIM_1:64,SETLIM_2:86;
then A24: ( ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) + ( M . ( lim SSets ) ) ) = ( ( lim ( M * SSets ) ) + ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) ) by A20,A17,A23,FUNCT_2:15;
A25: ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) <= ( M . ( SSets . ( 0 ) ) ) by A19,MEASURE1:31,XBOOLE_1:36;
then ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) < ( +infty ) by A2,XXREAL_0:2;
then A26: ( M . ( lim SSets ) ) = ( ( ( lim ( M * SSets ) ) + ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) ) - ( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) ) by A3,A24,XXREAL_3:28;
( M . ( ( SSets . ( 0 ) ) \ ( lim SSets ) ) ) is Real by A2,A25,A3,XXREAL_0:14;
hence ( M . ( lim SSets ) ) = ( lim ( M * SSets ) ) by A26,XXREAL_3:22;
end;
