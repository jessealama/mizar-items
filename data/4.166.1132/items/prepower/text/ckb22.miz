environ
vocabularies NUMBERS,INT_1,COMPLEX1,ORDINAL1,XREAL_0,SUBSET_1,RAT_1,SEQ_1,SEQ_2,FUNCT_1,XXREAL_0,ORDINAL2,FUNCOP_1,CARD_1,NEWTON,REAL_1,ARYTM_3,RELAT_1,NAT_1,ARYTM_1,VALUED_1,XXREAL_2,SEQ_4,SQUARE_1,VALUED_0,INT_2,PREPOWER;
notations SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XXREAL_2,XREAL_0,COMPLEX1,REAL_1,INT_2,INT_1,NAT_1,NAT_D,NEWTON,RELAT_1,FUNCT_1,FUNCOP_1,VALUED_0,VALUED_1,SEQ_1,SEQ_2,SQUARE_1,SEQ_4,RAT_1,CKB4;
definitions VALUED_1,XCMPLX_0,XXREAL_2,CKB4;
theorems ABSVALUE,NAT_1,SEQ_1,SEQ_2,INT_1,SQUARE_1,SEQ_4,RAT_1,RFUNCT_2,TARSKI,FUNCT_2,NEWTON,XREAL_0,XCMPLX_0,XCMPLX_1,FUNCOP_1,COMPLEX1,XREAL_1,XXREAL_0,INT_2,ORDINAL1,NAT_D,VALUED_1,VALUED_0,FUNCT_1,XXREAL_2,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21;
schemes NAT_1,SEQ_1,FUNCT_2;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,RAT_1,MEMBERED,NEWTON,XBOOLE_0,VALUED_0,VALUED_1,FUNCT_2,FUNCOP_1,SEQ_4,CKB1;
constructors FUNCOP_1,REAL_1,SQUARE_1,NAT_1,NAT_D,SEQ_2,SEQM_3,PARTFUN1,VALUED_1,SEQ_4,NEWTON,SEQ_1,XXREAL_2,RELSET_1,BINOP_2,CKB4;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve a for  real number;
reserve b for  real number;
reserve c for  real number;
reserve n for (Element of ( NAT ));
definition
let n being  natural number;
let a being  real number;
assume A1: 1 <= n;
func n -Root a ->  real number means 
:Def3: (( it |^ n ) = a & it > ( 0 )) if a > ( 0 ),it = ( 0 ) if a = ( 0 );
consistency;
existence
proof
now
set X = { b where b is Real: (( 0 ) < b & ( b |^ n ) <= a) };
(for x holds (x in X implies x in ( REAL )))
proof
let x;
assume x in X;
then (ex b being Real st ((x = b & ( 0 ) < b) & ( b |^ n ) <= a));
hence thesis;
end;
then reconsider X as (Subset of ( REAL )) by TARSKI:def 3;
reconsider a1 = a as Real by XREAL_0:def 1;
A2: (1 <= a implies (ex c st c in X))
proof
assume A3: 1 <= a;
consider c such that A4: c = 1;
take c;
( c |^ n ) <= a by A3,A4,NEWTON:10;
hence thesis by A4;
end;
A5: (a < 1 implies (ex c being  real number st c is (UpperBound of X)))
proof
consider c such that A6: c = 1;
assume A7: a < 1;
take c;
let b being  ext-real number;
assume b in X;
then consider d being Real such that A8: ((d = b & ( 0 ) < d) & ( d |^ n ) <= a);
assume (not b <= c);
then ( 1 |^ n ) < ( d |^ n ) by A1,A6,CKB12:1,A8;
then 1 < ( d |^ n ) by NEWTON:10;
hence contradiction by A7,A8,XXREAL_0:2;
end;
assume A9: a > ( 0 );
(1 <= a implies (ex c being  real number st c is (UpperBound of X)))
proof
assume A10: 1 <= a;
take a;
let b being  ext-real number;
assume b in X;
then consider d being Real such that A11: ((b = d & ( 0 ) < d) & ( d |^ n ) <= a);
assume a < b;
then ( a |^ n ) < ( d |^ n ) by A1,A9,CKB12:1,A11;
then ( a |^ n ) < a by A11,XXREAL_0:2;
hence contradiction by A1,A10,CKB15:1;
end;
then A12: X is  bounded_above by A5,XXREAL_2:def 10;
take d = ( upper_bound X );
A13: (a < 1 implies (ex c st c in X))
proof
assume A14: a < 1;
reconsider a as Real by XREAL_0:def 1;
take a;
( a |^ n ) <= a by A1,A9,A14,CKB17:1;
hence thesis by A9;
end;
A15: ( 0 ) < d
proof
consider c such that A16: c in X by A2,A13;
(ex e being Real st ((e = c & ( 0 ) < e) & ( e |^ n ) <= a)) by A16;
hence thesis by A12,A16,SEQ_4:def 1;
end;
A17: (not a < ( d |^ n ))
proof
set b = ( ( d * ( 1 - ( a / ( d |^ n ) ) ) ) / ( n + 1 ) );
assume A18: a < ( d |^ n );
then A19: ( ( 1 / ( n + 1 ) ) * ( d |^ n ) ) > ( ( 1 / ( n + 1 ) ) * a ) by XREAL_1:68;
( a * ( ( d |^ n ) " ) ) > ( ( 0 ) * a ) by A9,A18,XREAL_1:68;
then ( - ( - ( a / ( d |^ n ) ) ) ) > ( 0 );
then ( - ( a / ( d |^ n ) ) ) < ( 0 );
then ( 1 + ( - ( a / ( d |^ n ) ) ) ) < ( 1 + ( 0 ) ) by XREAL_1:6;
then A20: ( ( 1 - ( a / ( d |^ n ) ) ) * ( ( n + 1 ) " ) ) < ( 1 * ( ( n + 1 ) " ) ) by XREAL_1:68;
1 < ( n + 1 ) by A1,NAT_1:13;
then ( ( n + 1 ) " ) < 1 by XREAL_1:212;
then ( ( 1 - ( a / ( d |^ n ) ) ) / ( n + 1 ) ) < 1 by A20,XXREAL_0:2;
then A21: ( d * ( ( 1 - ( a / ( d |^ n ) ) ) / ( n + 1 ) ) ) < ( d * 1 ) by A15,XREAL_1:68;
then ( b / d ) < ( d / d ) by A15,XREAL_1:74;
then ( b / d ) < 1 by A15,XCMPLX_1:60;
then ( - 1 ) < ( - ( b / d ) ) by XREAL_1:24;
then A22: ( ( 1 + ( - ( b / d ) ) ) |^ n ) >= ( 1 + ( n * ( - ( b / d ) ) ) ) by CKB19:1;
( a / ( d |^ n ) ) < ( ( d |^ n ) / ( d |^ n ) ) by A9,A18,XREAL_1:74;
then ( ( 0 ) + ( a / ( d |^ n ) ) ) < 1 by A9,A18,XCMPLX_1:60;
then ( 0 ) < ( 1 - ( a / ( d |^ n ) ) ) by XREAL_1:20;
then ( d * ( 0 ) ) < ( d * ( 1 - ( a / ( d |^ n ) ) ) ) by A15,XREAL_1:68;
then ( ( 0 ) / ( n + 1 ) ) < ( ( d * ( 1 - ( a / ( d |^ n ) ) ) ) / ( n + 1 ) ) by XREAL_1:74;
then consider c being  real number such that A23: c in X and A24: ( d - b ) < c by A2,A13,A12,SEQ_4:def 1;
( 0 ) < ( d - b ) by A21,XREAL_1:50;
then A25: ( ( d - b ) |^ n ) < ( c |^ n ) by A1,A24,CKB12:1;
( ( 1 + ( n * ( - ( b / d ) ) ) ) * ( d |^ n ) ) = ( ( 1 - ( n * ( ( ( d * ( 1 - ( a / ( d |^ n ) ) ) ) / ( n + 1 ) ) / d ) ) ) * ( d |^ n ) )
.= ( ( 1 - ( n * ( ( d * ( ( 1 - ( a / ( d |^ n ) ) ) / ( n + 1 ) ) ) / d ) ) ) * ( d |^ n ) )
.= ( ( 1 - ( n * ( ( ( ( 1 - ( a / ( d |^ n ) ) ) / ( n + 1 ) ) / d ) * d ) ) ) * ( d |^ n ) )
.= ( ( 1 - ( n * ( ( 1 - ( a / ( d |^ n ) ) ) / ( n + 1 ) ) ) ) * ( d |^ n ) ) by A15,XCMPLX_1:87
.= ( ( 1 - ( ( ( 1 - ( a / ( d |^ n ) ) ) * n ) / ( n + 1 ) ) ) * ( d |^ n ) )
.= ( ( 1 - ( ( 1 - ( a / ( d |^ n ) ) ) * ( n / ( n + 1 ) ) ) ) * ( d |^ n ) )
.= ( ( ( 1 - ( n / ( n + 1 ) ) ) + ( ( a / ( d |^ n ) ) * ( n / ( n + 1 ) ) ) ) * ( d |^ n ) )
.= ( ( ( ( ( n + 1 ) / ( n + 1 ) ) - ( n / ( n + 1 ) ) ) + ( ( a / ( d |^ n ) ) * ( n / ( n + 1 ) ) ) ) * ( d |^ n ) ) by XCMPLX_1:60
.= ( ( ( ( ( n + 1 ) - n ) / ( n + 1 ) ) + ( ( a / ( d |^ n ) ) * ( n / ( n + 1 ) ) ) ) * ( d |^ n ) )
.= ( ( ( 1 / ( n + 1 ) ) + ( ( ( n / ( n + 1 ) ) * a ) / ( d |^ n ) ) ) * ( d |^ n ) )
.= ( ( ( 1 / ( n + 1 ) ) * ( d |^ n ) ) + ( ( ( ( n / ( n + 1 ) ) * a ) / ( d |^ n ) ) * ( d |^ n ) ) )
.= ( ( ( 1 / ( n + 1 ) ) * ( d |^ n ) ) + ( ( n / ( n + 1 ) ) * a ) ) by A9,A18,XCMPLX_1:87;
then A26: ( ( 1 + ( n * ( - ( b / d ) ) ) ) * ( d |^ n ) ) > ( ( ( 1 / ( n + 1 ) ) * a ) + ( ( n / ( n + 1 ) ) * a ) ) by A19,XREAL_1:6;
( ( d - b ) |^ n ) = ( ( ( d - b ) * 1 ) |^ n )
.= ( ( ( d - b ) * ( ( d " ) * d ) ) |^ n ) by A15,XCMPLX_0:def 7
.= ( ( ( ( d - b ) * ( d " ) ) * d ) |^ n )
.= ( ( ( ( d - b ) / d ) * d ) |^ n )
.= ( ( ( ( d / d ) - ( b / d ) ) * d ) |^ n )
.= ( ( ( 1 - ( b / d ) ) * d ) |^ n ) by A15,XCMPLX_1:60
.= ( ( ( 1 + ( - ( b / d ) ) ) |^ n ) * ( d |^ n ) ) by NEWTON:7;
then ( ( d - b ) |^ n ) >= ( ( 1 + ( n * ( - ( b / d ) ) ) ) * ( d |^ n ) ) by A9,A18,A22,XREAL_1:64;
then ( ( d - b ) |^ n ) > ( ( ( n + 1 ) / ( n + 1 ) ) * a ) by A26,XXREAL_0:2;
then A27: ( ( d - b ) |^ n ) > ( 1 * a ) by XCMPLX_1:60;
(ex e being Real st ((e = c & ( 0 ) < e) & ( e |^ n ) <= a)) by A23;
hence contradiction by A25,A27,XXREAL_0:2;
end;
(not ( d |^ n ) < a)
proof
set b = ( min (( 1 / 2 ),( ( ( a1 / ( d |^ n ) ) - 1 ) / ( 3 |^ n ) )) );
set c = ( ( 1 + b ) * d );
A28: ( c |^ n ) = ( ( ( 1 + b ) |^ n ) * ( d |^ n ) ) by NEWTON:7;
A29: ( 0 ) < ( 3 |^ n ) by CKB8:1;
( ( 3 |^ n ) * b ) <= ( ( ( ( a / ( d |^ n ) ) - 1 ) / ( 3 |^ n ) ) * ( 3 |^ n ) ) by XREAL_1:64,XXREAL_0:17;
then ( ( 3 |^ n ) * b ) <= ( ( a / ( d |^ n ) ) - 1 ) by A29,XCMPLX_1:87;
then A30: ( 1 + ( ( 3 |^ n ) * b ) ) <= ( a / ( d |^ n ) ) by XREAL_1:19;
A31: ( d |^ n ) > ( 0 ) by A15,CKB8:1;
A32: ( d |^ n ) <> ( 0 ) by A15,CKB8:1;
assume ( d |^ n ) < a;
then ( ( d |^ n ) / ( d |^ n ) ) < ( a / ( d |^ n ) ) by A31,XREAL_1:74;
then 1 < ( a / ( d |^ n ) ) by A32,XCMPLX_1:60;
then ( 1 - 1 ) < ( ( a / ( d |^ n ) ) - 1 ) by XREAL_1:9;
then ( ( ( a / ( d |^ n ) ) - 1 ) / ( 3 |^ n ) ) > ( ( 0 ) / ( 3 |^ n ) ) by A29,XREAL_1:74;
then A33: b > ( 0 ) by XXREAL_0:15;
then ( 1 + b ) > ( 1 + ( 0 ) ) by XREAL_1:6;
then A34: ( ( 1 + b ) * d ) > ( 1 * d ) by A15,XREAL_1:68;
b <= ( 1 / 2 ) by XXREAL_0:17;
then b < 1 by XXREAL_0:2;
then ( ( 1 + b ) |^ n ) <= ( 1 + ( ( 3 |^ n ) * b ) ) by A33,CKB20:1;
then ( ( 1 + b ) |^ n ) <= ( a / ( d |^ n ) ) by A30,XXREAL_0:2;
then ( c |^ n ) <= ( ( a / ( d |^ n ) ) * ( d |^ n ) ) by A31,A28,XREAL_1:64;
then A35: ( c |^ n ) <= a by A32,XCMPLX_1:87;
( ( 1 + b ) * d ) > ( ( 0 ) * d ) by A15,A33,XREAL_1:68;
then c in X by A35;
hence contradiction by A12,A34,SEQ_4:def 1;
end;
hence (a = ( d |^ n ) & d > ( 0 )) by A15,A17,XXREAL_0:1;
end;
hence thesis;
end;
uniqueness
proof
now
let b being  real number;
let c being  real number;
assume that
A36: ( b |^ n ) = a
and
A37: b > ( 0 )
and
A38: ( c |^ n ) = a
and
A39: c > ( 0 )
and
A40: b <> c;
per cases  by A40,XXREAL_0:1;
suppose b > c;

hence contradiction by A1,A36,A38,A39,CKB12:1;
end;
suppose c > b;

hence contradiction by A1,A36,A37,A38,CKB12:1;
end;
end;
hence thesis;
end;
end;
