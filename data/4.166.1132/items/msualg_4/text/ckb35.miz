environ
vocabularies STRUCT_0,XBOOLE_0,MSUALG_1,FUNCT_1,RELAT_1,PBOOLE,FUNCOP_1,EQREL_1,SUBSET_1,NAT_1,MARGREL1,PARTFUN1,FINSEQ_1,TARSKI,CARD_3,MSUALG_3,WELLORD1,MSUALG_4;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,EQREL_1,STRUCT_0,NAT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,CARD_3,PBOOLE,FUNCOP_1,MSUALG_1,MSUALG_3,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB21,CKB22,CKB23,CKB24,CKB26,CKB27,CKB28,CKB30,CKB31,CKB33,CKB34;
definitions TARSKI,MSUALG_3,XBOOLE_0,FUNCOP_1,CKB2,CKB5,CKB8,CKB11,CKB15,CKB16,CKB20,CKB21,CKB22,CKB23,CKB24,CKB26,CKB27,CKB28,CKB30,CKB31,CKB33,CKB34;
theorems FUNCT_1,FUNCT_2,PBOOLE,CARD_3,MSUALG_1,ZFMISC_1,RELAT_1,RELSET_1,EQREL_1,MSUALG_3,MSAFREE,TARSKI,XBOOLE_0,FUNCOP_1,ORDINAL1,PARTFUN1,FINSEQ_2,CKB2,CKB5,CKB8,CKB10,CKB11,CKB15,CKB16,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB30,CKB31,CKB32,CKB33,CKB34;
schemes FUNCT_1,CLASSES1,EQREL_1;
registrations RELAT_1,FUNCT_1,PARTFUN1,FUNCOP_1,PBOOLE,STRUCT_0,MSUALG_1,MSUALG_3,CARD_3,RELSET_1,FINSEQ_2,FINSEQ_1,CKB1,CKB3,CKB9,CKB12,CKB18,CKB19,CKB29;
constructors EQREL_1,PRALG_2,MSUALG_3,RELSET_1,CKB2,CKB5,CKB6,CKB8,CKB11,CKB14,CKB15,CKB16,CKB17,CKB20,CKB21,CKB22,CKB23,CKB24,CKB26,CKB27,CKB28,CKB30,CKB31,CKB33,CKB34;
requirements SUBSET,BOOLE;
begin
reserve S for non void non empty ManySortedSign;
definition
let S;
let U1 being  non-empty MSAlgebra over S;
let U2 being  non-empty MSAlgebra over S;
let F being (ManySortedFunction of U1,U2);
let s being (SortSymbol of S);
assume A1: F is_homomorphism U1,U2;
func MSHomQuot (F,s) -> (Function of ( (the Sorts of ( QuotMSAlg (U1,( MSCng F )) )) . s ),( (the Sorts of U2) . s ))
means
:Def21: (for x being (Element of ( (the Sorts of U1) . s )) holds ( it . ( Class (( MSCng (F,s) ),x) ) ) = ( ( F . s ) . x ));
existence
proof
set qa = ( QuotMSAlg (U1,( MSCng F )) );
set cqa = (the Sorts of qa);
set S1 = (the Sorts of U1);
set S2 = (the Sorts of U2);
defpred P[ set,set ]
 means
(for a being (Element of ( S1 . s )) holds ($1 = ( Class (( MSCng (F,s) ),a) ) implies $2 = ( ( F . s ) . a )));
A2: ( cqa . s ) = ( Class ( ( MSCng F ) . s ) ) by CKB16:def 1
.= ( Class ( MSCng (F,s) ) ) by A1,CKB34:def 1;
A3: (for x being set holds (x in ( cqa . s ) implies (ex y being set st (y in ( S2 . s ) & P[ x,y ]))))
proof
let x being set;
assume A4: x in ( cqa . s );
then reconsider x1 = x as (Subset of ( S1 . s )) by A2;
consider a being set such that A5: a in ( S1 . s ) and A6: x1 = ( Class (( MSCng (F,s) ),a) ) by A2,A4,EQREL_1:def 3;
reconsider a as (Element of ( S1 . s )) by A5;
take y = ( ( F . s ) . a );
thus y in ( S2 . s );
let b being (Element of ( S1 . s ));
assume x = ( Class (( MSCng (F,s) ),b) );
then b in ( Class (( MSCng (F,s) ),a) ) by A6,EQREL_1:23;
then [ b,a ] in ( MSCng (F,s) ) by EQREL_1:19;
hence thesis by CKB33:def 1;
end;
consider G being Function such that A7: ((( dom G ) = ( cqa . s ) & ( rng G ) c= ( S2 . s )) & (for x being set holds (x in ( cqa . s ) implies P[ x,( G . x ) ]))) from FUNCT_1:sch 5(A3);
reconsider G as (Function of ( cqa . s ),( S2 . s )) by A7,FUNCT_2:def 1,RELSET_1:4;
take G;
let a being (Element of ( S1 . s ));
( Class (( MSCng (F,s) ),a) ) in ( Class ( MSCng (F,s) ) ) by EQREL_1:def 3;
hence thesis by A2,A7;
end;
uniqueness
proof
set qa = ( QuotMSAlg (U1,( MSCng F )) );
set cqa = (the Sorts of qa);
set u1 = (the Sorts of U1);
set u2 = (the Sorts of U2);
let H being (Function of ( cqa . s ),( u2 . s )),G being (Function of ( cqa . s ),( u2 . s ));
assume that
A8: (for a being (Element of ( u1 . s )) holds ( H . ( Class (( MSCng (F,s) ),a) ) ) = ( ( F . s ) . a ))
and
A9: (for a being (Element of ( u1 . s )) holds ( G . ( Class (( MSCng (F,s) ),a) ) ) = ( ( F . s ) . a ));
A10: ( cqa . s ) = ( Class ( ( MSCng F ) . s ) ) by CKB16:def 1
.= ( Class ( MSCng (F,s) ) ) by A1,CKB34:def 1;
(for x being set holds (x in ( cqa . s ) implies ( H . x ) = ( G . x )))
proof
let x being set;
assume A11: x in ( cqa . s );
then reconsider x1 = x as (Subset of ( u1 . s )) by A10;
consider a being set such that A12: a in ( u1 . s ) and A13: x1 = ( Class (( MSCng (F,s) ),a) ) by A10,A11,EQREL_1:def 3;
reconsider a as (Element of ( u1 . s )) by A12;
thus ( H . x ) = ( ( F . s ) . a ) by A8,A13
.= ( G . x ) by A9,A13;
end;
hence thesis by FUNCT_2:12;
end;
end;
