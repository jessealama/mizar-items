environ
vocabularies REWRITE1,WAYBEL_0,ORDINAL2,XXREAL_0,LATTICES,FUNCT_1,SUBSET_1,TARSKI,STRUCT_0,RELAT_1,YELLOW_0,YELLOW_2,LATTICE3,EQREL_1,YELLOW_6,XBOOLE_0,ORDERS_2,RELAT_2,ZFMISC_1,SETFAM_1,PRE_TOPC,WAYBEL11,CLASSES1,CAT_1,PROB_1,YELLOW_9,RCOMP_1,WAYBEL28;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,STRUCT_0,CLASSES1,PRE_TOPC,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_2,WAYBEL_3,YELLOW_6,YELLOW_9,WAYBEL_9,WAYBEL11,WAYBEL17,CKB4,CKB9,CKB19;
definitions TARSKI,XBOOLE_0,RELAT_1,YELLOW_6,WAYBEL11,STRUCT_0,CKB4,CKB9;
theorems ZFMISC_1,RELAT_1,FUNCT_1,FUNCT_2,PRE_TOPC,TOPS_1,ORDERS_2,CLASSES1,WAYBEL_0,YELLOW_0,LATTICE3,YELLOW_2,YELLOW_4,YELLOW_6,WAYBEL_8,YELLOW_9,WAYBEL_9,WAYBEL11,YELLOW12,WAYBEL17,WAYBEL21,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB9,CKB10,CKB11,CKB12,CKB14,CKB16,CKB17,CKB18,CKB20;
schemes RELSET_1,FUNCT_1;
registrations RELAT_1,FUNCT_1,FUNCT_2,CLASSES2,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,WAYBEL_3,YELLOW_6,WAYBEL_9,WAYBEL11,WAYBEL17,YELLOW_9,RELSET_1,CKB7,CKB8,CKB13,CKB15;
constructors CLASSES1,YELLOW_2,WAYBEL_3,WAYBEL17,YELLOW_9,RELSET_1,CKB4,CKB9,CKB19;
requirements SUBSET,BOOLE;
begin
theorem
Th15: (for L being  complete LATTICE holds (for N being (net of L) holds (for x being (Element of L) holds ((x = ( lim_inf N ) & (for p being  greater_or_equal_to_id (Function of N,N) holds x >= ( inf ( N * p ) ))) implies (for M being (subnet of N) holds x = ( lim_inf M ))))))
proof
let L being  complete LATTICE;
let N being (net of L);
let x being (Element of L);
assume that
A1: x = ( lim_inf N )
and
A2: (for p being  greater_or_equal_to_id (Function of N,N) holds x >= ( inf ( N * p ) ));
let M being (subnet of N);
consider f being (Function of M,N) such that A3: (the mapping of M) = ( (the mapping of N) * f ) and A4: (for j being (Element of N) holds (ex k being (Element of M) st (for m being (Element of M) holds (k <= m implies j <= ( f . m ))))) by YELLOW_6:def 9;
A5: x <= ( lim_inf M ) by A1,WAYBEL21:37;
A6: (for k0 being (Element of M) holds ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ) <= x)
proof
let k0 being (Element of M);
defpred P[ set,set ]
 means
(for j being (Element of N) holds (for v,v9 being (Element of M) holds ((($1 = j & $2 = v) & v9 >= v) implies ((v >= k0 & ( f . v9 ) >= j) & ( f . v ) >= j))));
A7: (for j being (Element of N) holds (ex v being (Element of M) st (v >= k0 & (for v9 being (Element of M) holds (v9 >= v implies (( f . v9 ) >= j & ( f . v ) >= j))))))
proof
let j being (Element of N);
consider w being (Element of M) such that A8: (for w9 being (Element of M) holds (w <= w9 implies j <= ( f . w9 ))) by A4;
consider v being (Element of M) such that A9: v >= k0 and A10: v >= w by CKB6:1;
take v;
thus v >= k0 by A9;
let v9 being (Element of M);
assume v9 >= v;
then v9 >= w by A10,YELLOW_0:def 2;
hence ( f . v9 ) >= j by A8;
thus thesis by A8,A10;
end;
A11: (for e being set holds (e in (the carrier of N) implies (ex u being set st (u in (the carrier of M) & P[ e,u ]))))
proof
let e being set;
assume e in (the carrier of N);
then reconsider e9 = e as (Element of N);
consider u being (Element of M) such that A12: u >= k0 and A13: (for v9 being (Element of M) holds (v9 >= u implies (( f . v9 ) >= e9 & ( f . u ) >= e9))) by A7;
take u;
thus u in (the carrier of M);
let j being (Element of N);
let v being (Element of M);
let v9 being (Element of M);
assume that
A14: e = j
and
A15: u = v
and
A16: v9 >= v;
thus v >= k0 by A12,A15;
thus ( f . v9 ) >= j by A13,A14,A15,A16;
thus thesis by A13,A14,A15,A16;
end;
consider g being Function such that A17: ( dom g ) = (the carrier of N) and A18: ( rng g ) c= (the carrier of M) and A19: (for e being set holds (e in (the carrier of N) implies P[ e,( g . e ) ])) from FUNCT_1:sch 5(A11);
reconsider g as (Function of (the carrier of N),(the carrier of M)) by A17,A18,FUNCT_2:2;
A20: (for j being (Element of N) holds ( g . j ) >= k0)
proof
let j being (Element of N);
reconsider v = ( g . j ) as (Element of M);
(ex v9 being (Element of M) st (v9 >= v & v9 >= v)) by CKB6:1;
hence thesis by A19;
end;
reconsider g as (Function of N,M);
reconsider p = ( f * g ) as (Function of N,N);
(for j being (Element of N) holds j <= ( p . j ))
proof
let j being (Element of N);
reconsider v = ( g . j ) as (Element of M);
( [#] M ) is  directed by WAYBEL_0:def 6;
then (ex v9 being (Element of M) st ((v9 in ( [#] M ) & v <= v9) & v <= v9)) by WAYBEL_0:def 1;
then j <= ( f . ( g . j ) ) by A19;
hence thesis by A17,FUNCT_1:13;
end;
then reconsider p as  greater_or_equal_to_id (Function of N,N) by CKB4:def 1;
A21: { ( ( N * p ) . j ) where j is (Element of ( N * p )): (not contradiction) } c= { ( M . k ) where k is (Element of M): k >= k0 }
proof
let y being set;
assume y in { ( ( N * p ) . j ) where j is (Element of ( N * p )): (not contradiction) };
then consider j being (Element of ( N * p )) such that A22: y = ( ( N * p ) . j );
reconsider j9 = j as (Element of N) by CKB10:1;
A23: (the carrier of ( N * p )) = (the carrier of N) by CKB10:1;
y = ( (the mapping of ( N * p )) . j ) by A22,WAYBEL_0:def 8
.= ( ( (the mapping of N) * ( f * g ) ) . j ) by CKB9:def 1
.= ( ( (the mapping of M) * g ) . j ) by A3,RELAT_1:36
.= ( (the mapping of M) . ( g . j ) ) by A17,A23,FUNCT_1:13;
then A24: y = ( M . ( g . j9 ) ) by WAYBEL_0:def 8;
( g . j9 ) >= k0 by A20;
hence thesis by A24;
end;
A25: ( ex_inf_of { ( ( N * p ) . j ) where j is (Element of ( N * p )): (not contradiction) },L &  ex_inf_of { ( M . k ) where k is (Element of M): k >= k0 },L) by YELLOW_0:17;
A26: ( dom (the mapping of ( N * p )) ) = (the carrier of ( N * p )) by FUNCT_2:def 1;
A27: ( rng (the mapping of ( N * p )) ) = { ( ( N * p ) . j ) where j is (Element of ( N * p )): (not contradiction) }
proof
thus ( rng (the mapping of ( N * p )) ) c= { ( ( N * p ) . j ) where j is (Element of ( N * p )): (not contradiction) }
proof
let y being set;
assume y in ( rng (the mapping of ( N * p )) );
then consider j1 being set such that A28: j1 in ( dom (the mapping of ( N * p )) ) and A29: ( (the mapping of ( N * p )) . j1 ) = y by FUNCT_1:def 3;
reconsider j1 as (Element of ( N * p )) by A28;
y = ( ( N * p ) . j1 ) by A29,WAYBEL_0:def 8;
hence thesis;
end;

let y being set;
assume y in { ( ( N * p ) . j ) where j is (Element of ( N * p )): (not contradiction) };
then consider j being (Element of ( N * p )) such that A30: y = ( ( N * p ) . j );
y = ( (the mapping of ( N * p )) . j ) by A30,WAYBEL_0:def 8;
hence thesis by A26,FUNCT_1:def 3;
end;
A31: ( inf ( N * p ) ) <= x by A2;
( inf ( N * p ) ) = ( Inf (the mapping of ( N * p )) ) by WAYBEL_9:def 2
.= ( "/\" ({ ( ( N * p ) . j ) where j is (Element of ( N * p )): (not contradiction) },L) ) by A27,YELLOW_2:def 6;
then ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ) <= ( inf ( N * p ) ) by A25,A21,YELLOW_0:35;
hence thesis by A31,YELLOW_0:def 2;
end;
(for b being (Element of L) holds (b in { ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ) where k0 is (Element of M): (not contradiction) } implies b <= x))
proof
let b being (Element of L);
assume b in { ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ) where k0 is (Element of M): (not contradiction) };
then (ex k0 being (Element of M) st b = ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ));
hence thesis by A6;
end;
then A32: x is_>=_than { ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ) where k0 is (Element of M): (not contradiction) } by LATTICE3:def 9;
 ex_sup_of { ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ) where k0 is (Element of M): (not contradiction) },L by YELLOW_0:17;
then ( "\/" ({ ( "/\" ({ ( M . k ) where k is (Element of M): k >= k0 },L) ) where k0 is (Element of M): (not contradiction) },L) ) <= x by A32,YELLOW_0:def 9;
hence thesis by A5,ORDERS_2:2;
end;
