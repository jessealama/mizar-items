environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,FINSEQ_1,FUNCT_1,RELAT_1,TARSKI,SUBSET_1,MARGREL1,FINSET_1,FINSEQ_2,CARD_3,CARD_1,SETFAM_1,STRUCT_0,ZFMISC_1,FUNCOP_1,XBOOLEAN,EQREL_1,ORDERS_2,WAYBEL23,YELLOW_0,LATTICES,ORDINAL2,WAYBEL_0,WAYBEL_3,WAYBEL_8,RCOMP_1,PRE_TOPC,RLVECT_3,CANTOR_1,YELLOW15;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NAT_1,SETFAM_1,DOMAIN_1,CARD_1,NUMBERS,FINSET_1,STRUCT_0,MARGREL1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,FINSEQ_1,FINSEQ_2,FINSEQ_4,EQREL_1,FUNCOP_1,CARD_3,PRE_TOPC,TOPS_2,CANTOR_1,ORDERS_2,YELLOW_0,WAYBEL_0,WAYBEL_3,WAYBEL_8,WAYBEL23,CKB8,CKB22;
definitions TARSKI,FUNCT_1,XBOOLE_0,FINSEQ_2,MARGREL1,XBOOLEAN,STRUCT_0,CKB8,CKB22;
theorems TARSKI,SETFAM_1,ZFMISC_1,FINSET_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCT_6,MSSUBFAM,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,EQREL_1,FUNCOP_1,CARD_1,CARD_4,T_0TOPSP,PRE_TOPC,TOPS_2,CANTOR_1,MSSCYC_1,YELLOW_0,YELLOW_8,YELLOW_9,WAYBEL_0,WAYBEL_3,WAYBEL_8,WAYBEL23,XBOOLE_0,XBOOLE_1,SUBSET_1,ORDINAL1,XBOOLEAN,CKB3,CKB4,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB22,CKB24;
schemes FUNCT_2,PRE_CIRC,FINSEQ_1,FRAENKEL,CKB1;
registrations SUBSET_1,FUNCT_1,RELSET_1,FINSET_1,FINSEQ_1,MARGREL1,FINSEQ_2,REALSET1,STRUCT_0,TOPS_1,LATTICE3,WAYBEL_0,WAYBEL_3,WAYBEL23,ORDINAL1,PRE_TOPC,ZFMISC_1,CARD_1,XBOOLE_0,RELAT_1,CKB2,CKB5,CKB6,CKB21,CKB23;
constructors SETFAM_1,XXREAL_0,FINSEQ_4,REALSET1,VALUAT_1,TOPS_2,CANTOR_1,WAYBEL_8,WAYBEL23,RELSET_1,FINSEQ_2,CKB8,CKB22;
requirements NUMERALS,REAL,SUBSET,BOOLE;
begin
theorem
(for X being set holds (for Y,Z being  finite (Subset-Family of X) holds (Z c= Y implies ( Components Y ) is_finer_than ( Components Z ))))
proof
let X being set;
let Y being  finite (Subset-Family of X),Z being  finite (Subset-Family of X);
assume A1: Z c= Y;
now
let V being set;
consider p being (FinSequence of ( bool X )) such that A2: ( len p ) = ( card Y ) and A3: ( rng p ) = Y and A4: ( Components Y ) = { ( Intersect ( rng ( MergeSequence (p,q) ) ) ) where q is (FinSequence of ( BOOLEAN )): ( len q ) = ( len p ) } by CKB22:def 1;
consider p1 being (FinSequence of ( bool X )) such that ( len p1 ) = ( card Z ) and A5: ( rng p1 ) = Z and A6: ( Components Z ) = { ( Intersect ( rng ( MergeSequence (p1,q) ) ) ) where q is (FinSequence of ( BOOLEAN )): ( len q ) = ( len p1 ) } by CKB22:def 1;
A7: p1 is (FinSequence of ( rng p )) by A1,A3,A5,FINSEQ_1:def 4;
assume V in ( Components Y );
then consider q being (FinSequence of ( BOOLEAN )) such that A8: V = ( Intersect ( rng ( MergeSequence (p,q) ) ) ) and A9: ( len q ) = ( len p ) by A4;
( dom p ) = ( dom q ) by A9,FINSEQ_3:29;
then A10: q is (Function of ( dom p ),( BOOLEAN )) by FINSEQ_2:26;
A11: p is  one-to-one by A2,A3,FINSEQ_4:62;
then A12: ( rng p1 ) c= ( dom ( p " ) ) by A1,A3,A5,FUNCT_1:33;
( rng ( p " ) ) = ( dom p ) by A11,FUNCT_1:33
.= ( dom q ) by A9,FINSEQ_3:29;
then A13: ( rng ( ( p " ) * p1 ) ) c= ( dom q ) by RELAT_1:26;
p is (Function of ( dom p ),( rng p )) by FUNCT_2:1;
then ( p " ) is (Function of ( rng p ),( dom p )) by A11,FUNCT_2:25;
then ( ( p " ) * p1 ) is (FinSequence of ( dom p )) by A7,FINSEQ_2:32;
then ( q * ( ( p " ) * p1 ) ) is (FinSequence of ( BOOLEAN )) by A10,FINSEQ_2:32;
then reconsider q1 = ( ( q * ( p " ) ) * p1 ) as (FinSequence of ( BOOLEAN )) by RELAT_1:36;
reconsider W = ( Intersect ( rng ( MergeSequence (p1,q1) ) ) ) as set;
take W;
( dom q1 ) = ( dom ( q * ( ( p " ) * p1 ) ) ) by RELAT_1:36
.= ( dom ( ( p " ) * p1 ) ) by A13,RELAT_1:27
.= ( dom p1 ) by A12,RELAT_1:27;
then ( len q1 ) = ( len p1 ) by FINSEQ_3:29;
hence W in ( Components Z ) by A6;
( rng ( MergeSequence (p1,q1) ) ) c= ( rng ( MergeSequence (p,q) ) )
proof
let z being set;
assume z in ( rng ( MergeSequence (p1,q1) ) );
then consider i being Nat such that A14: i in ( dom ( MergeSequence (p1,q1) ) ) and A15: ( ( MergeSequence (p1,q1) ) . i ) = z by FINSEQ_2:10;
A16: i in ( dom p1 ) by A14,CKB9:1;
then A17: i in ( dom ( ( p " ) * p1 ) ) by A12,RELAT_1:27;
then ( ( ( p " ) * p1 ) . i ) in ( rng ( ( p " ) * p1 ) ) by FUNCT_1:def 3;
then A18: ( ( ( p " ) * p1 ) . i ) in ( rng ( p " ) ) by FUNCT_1:14;
then A19: ( ( ( p " ) * p1 ) . i ) in ( dom p ) by A11,FUNCT_1:33;
then reconsider j = ( ( ( p " ) * p1 ) . i ) as (Element of ( NAT ));
A20: ( q . j ) = ( ( q * ( ( p " ) * p1 ) ) . i ) by A17,FUNCT_1:13
.= ( q1 . i ) by RELAT_1:36;
A21: p1 is (Function of ( dom p1 ),( rng p )) by A1,A3,A5,FUNCT_2:2;
A22: j in ( dom p ) by A11,A18,FUNCT_1:33;
A23:now
per cases ;
suppose A24: ( q . j ) = ( TRUE );

hence ( ( MergeSequence (p,q) ) . j ) = ( p . j ) by CKB10:1
.= ( ( p * ( ( p " ) * p1 ) ) . i ) by A17,FUNCT_1:13
.= ( ( ( p * ( p " ) ) * p1 ) . i ) by RELAT_1:36
.= ( ( ( id ( rng p ) ) * p1 ) . i ) by A11,FUNCT_1:39
.= ( p1 . i ) by A21,FUNCT_2:17
.= z by A15,A20,A24,CKB10:1;
end;
suppose ( q . j ) <> ( TRUE );

then A25: ( q . j ) = ( FALSE ) by XBOOLEAN:def 3;
hence ( ( MergeSequence (p,q) ) . j ) = ( X \ ( p . j ) ) by A22,CKB11:1
.= ( X \ ( ( p * ( ( p " ) * p1 ) ) . i ) ) by A17,FUNCT_1:13
.= ( X \ ( ( ( p * ( p " ) ) * p1 ) . i ) ) by RELAT_1:36
.= ( X \ ( ( ( id ( rng p ) ) * p1 ) . i ) ) by A11,FUNCT_1:39
.= ( X \ ( p1 . i ) ) by A21,FUNCT_2:17
.= z by A15,A16,A20,A25,CKB11:1;
end;
end;
j in ( dom ( MergeSequence (p,q) ) ) by A19,CKB9:1;
hence thesis by A23,FUNCT_1:def 3;
end;
hence V c= W by A8,SETFAM_1:44;
end;
hence thesis by SETFAM_1:def 2;
end;
