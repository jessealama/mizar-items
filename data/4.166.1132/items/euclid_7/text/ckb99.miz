environ
vocabularies NUMBERS,NAT_1,XREAL_0,ORDINAL1,SUBSET_1,FINSEQ_2,PRE_TOPC,EUCLID,VALUED_0,FINSEQ_1,FUNCT_1,RELAT_1,XBOOLE_0,TARSKI,FUNCT_2,CARD_1,ARYTM_1,ARYTM_3,REAL_1,PARTFUN1,ZFMISC_1,ORDINAL2,XXREAL_0,RLVECT_1,RLSUB_1,STRUCT_0,SUPINF_2,ALGSTR_0,REALSET1,MONOID_0,FUNCT_7,AFINSQ_1,RFINSEQ2,CLASSES1,RVSUM_1,COMPLEX1,SQUARE_1,REWRITE1,SETFAM_1,CARD_3,ORDINAL4,MATRIXR2,BINOP_2,XCMPLX_0,REAL_NS1,VALUED_1,RLVECT_2,MATRIX_7,FUNCOP_1,FUNCSDOM,RLVECT_3,FINSET_1,RLVECT_5,EUCLID_7;
notations XBOOLE_0,TARSKI,RELAT_1,FUNCT_1,RVSUM_1,RELSET_1,PARTFUN1,CARD_1,FUNCT_2,FUNCT_3,ORDINAL1,CLASSES1,NUMBERS,XREAL_0,SUBSET_1,COMPLEX1,FINSEQ_1,FINSEQ_2,VALUED_0,VALUED_1,SEQ_1,FINSET_1,BINOP_1,STRUCT_0,ALGSTR_0,FUNCSDOM,MONOID_0,PRE_TOPC,BINOP_2,RLVECT_1,EUCLID,SQUARE_1,XXREAL_0,SETFAM_1,RLSUB_1,RLVECT_2,RLVECT_3,REAL_1,NAT_1,NAT_D,MATRIXR2,ZFMISC_1,RLVECT_5,REALSET1,MATRIX_7,RFINSEQ2,FINSEQ_7,RUSUB_3,REAL_NS1,DOMAIN_1,RUSUB_4,FUNCOP_1,CKB8,CKB10,CKB15,CKB21,CKB24,CKB30,CKB36,CKB37,CKB42,CKB46,CKB48,CKB49,CKB54,CKB61,CKB63,CKB69;
definitions TARSKI,SQUARE_1,FINSEQ_2,RVSUM_1,VALUED_1,RLVECT_1,RLVECT_3,BINOP_1,STRUCT_0,MONOID_0,ALGSTR_0,XBOOLE_0,FUNCSDOM,EUCLID,CKB10,CKB15,CKB21,CKB24,CKB30,CKB36,CKB37,CKB42,CKB46,CKB48,CKB49,CKB61,CKB63;
theorems EUCLID,RVSUM_1,FINSEQ_2,FINSEQ_1,RFUNCT_1,FINSEQ_3,SQUARE_1,ABSVALUE,JORDAN2C,XREAL_1,XXREAL_0,FUNCOP_1,XCMPLX_1,SUBSET_1,XBOOLE_0,XBOOLE_1,EUCLID_2,TARSKI,EUCLID_4,ORDINAL1,CARD_1,SETFAM_1,REAL_NS1,RLVECT_2,RLVECT_3,PARTFUN1,FUNCT_1,RLVECT_1,NAT_1,RLSUB_1,STRUCT_0,RELAT_1,REALSET1,FUNCT_2,MATRIXR2,BINOP_2,FINSOP_1,ZFMISC_1,FUNCT_3,FINSEQ_4,MATRPROB,MATRIX_7,RFINSEQ2,INTEGRA2,FINSEQ_7,INT_5,EUCLIDLP,RLVECT_5,RUSUB_1,RUSUB_3,RUSUB_4,RLVECT_4,VALUED_0,XREAL_0,VALUED_1,CLASSES1,RELSET_1,FUNCSDOM,EULER_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB23,CKB24,CKB28,CKB29,CKB30,CKB36,CKB37,CKB40,CKB41,CKB42,CKB44,CKB46,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB77,CKB78,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB94,CKB96,CKB97,CKB98;
schemes NAT_1,CLASSES1,FUNCT_2,FINSEQ_1;
registrations REALSET1,FUNCT_1,MONOID_0,RELSET_1,NUMBERS,XREAL_0,STRUCT_0,FINSET_1,XXREAL_0,CARD_1,NAT_1,MEMBERED,FINSEQ_2,EUCLID,VALUED_0,FUNCT_2,SUBSET_1,XBOOLE_0,REAL_NS1,FINSEQ_1,RELAT_1,ZFMISC_1,CKB7,CKB22,CKB25,CKB26,CKB27,CKB31,CKB32,CKB33,CKB34,CKB35,CKB38,CKB39,CKB43,CKB45,CKB47,CKB65,CKB66,CKB67,CKB68,CKB70,CKB71,CKB72,CKB79,CKB80,CKB81,CKB92,CKB93,CKB95,CKB73,CKB74,CKB75,CKB76,CKB82,CKB83,CKB84,CKB85;
constructors REAL_1,SQUARE_1,BINOP_2,MONOID_0,SEQ_1,SETFAM_1,RLVECT_2,RLVECT_3,REAL_NS1,FUNCT_3,REALSET1,MATRIXR2,RLVECT_5,FINSOP_1,MATRIX_7,RFINSEQ2,SETWISEO,FINSEQ_7,RUSUB_3,RUSUB_4,NAT_D,CLASSES1,FUNCSDOM,RELSET_1,CKB8,CKB15,CKB21,CKB24,CKB30,CKB36,CKB37,CKB42,CKB46,CKB48,CKB49,CKB54,CKB61,CKB63;
requirements REAL,SUBSET,NUMERALS,ARITHM,BOOLE;
begin
reserve i for Nat;
reserve n for Nat;
reserve f for  real-valued FinSequence;
reserve x0 for  real-valued FinSequence;
theorem
Th47: (for n being (Element of ( NAT )) holds (for x0 being (Element of ( REAL-US n )) holds (for B being (Subset of ( REAL-US n )) holds (B = ( RN_Base n ) implies (ex l being (Linear_Combination of B) st x0 = ( Sum l ))))))
proof
let n being (Element of ( NAT ));
let x0 being (Element of ( REAL-US n ));
let B being (Subset of ( REAL-US n ));
reconsider x1 = x0 as (Element of ( REAL n )) by REAL_NS1:def 6;
A1: ( REAL n ) = (the carrier of ( REAL-US n )) by REAL_NS1:def 6;
assume A2: B = ( RN_Base n );
A3: { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st ((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) ))) } c= B
proof
let y being set;
assume y in { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st ((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) ))) };
then (ex x being (Element of ( REAL n )) st (y = x & (ex i being (Element of ( NAT )) st ((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) )))));
hence y in B by A2;
end;
B c= { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st ((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) ))) }
proof
let y being set;
assume y in B;
then (ex i2 being (Element of ( NAT )) st ((y = ( Base_FinSeq (n,i2) ) & 1 <= i2) & i2 <= n)) by A2;
hence y in { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st ((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) ))) };
end;
then A4: B = { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st ((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) ))) } by A3,XBOOLE_0:def 10;
A5: { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) )) & |( x1,x )| <> ( 0 ))) } c= B
proof
let x2 being set;
assume x2 in { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) )) & |( x1,x )| <> ( 0 ))) };
then (ex x being (Element of ( REAL n )) st (x = x2 & (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) )) & |( x1,x )| <> ( 0 )))));
hence x2 in B by A4;
end;
then reconsider B0 = { x where x is (Element of ( REAL n )): (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) )) & |( x1,x )| <> ( 0 ))) } as (Subset of ( REAL-US n )) by XBOOLE_1:1;
defpred R[ set,set ]
 means
($1 in B0 implies (ex i being (Element of ( NAT )) st ((($2 = i & 1 <= i) & i <= n) & $1 = ( Base_FinSeq (n,i) ))));
A6: ( rng ( ProjFinSeq x1 ) ) c= ( REAL n );
A7: (for x being set holds (x in B0 implies (ex y being set st (y in ( Seg n ) & R[ x,y ]))))
proof
let x being set;
assume x in B0;
then consider x2 being (Element of ( REAL n )) such that A8: x = x2 and A9: (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x2 = ( Base_FinSeq (n,i) )) & |( x1,x2 )| <> ( 0 )));
consider i0 being (Element of ( NAT )) such that A10: 1 <= i0 and A11: i0 <= n and A12: x2 = ( Base_FinSeq (n,i0) ) and |( x1,x2 )| <> ( 0 ) by A9;
i0 in ( Seg n ) by A10,A11,FINSEQ_1:1;
hence (ex y being set st (y in ( Seg n ) & R[ x,y ])) by A8,A10,A11,A12;
end;
consider f being (Function of B0,( Seg n )) such that A13: (for x being set holds (x in B0 implies R[ x,( f . x ) ])) from FUNCT_2:sch 1(A7);
defpred Q[ set,set ]
 means
(($1 in B0 implies (for i being (Element of ( NAT )) holds (((1 <= i & i <= n) & $1 = ( Base_FinSeq (n,i) )) implies $2 = |( x1,( Base_FinSeq (n,i) ) )|))) & ((not $1 in B0) implies $2 = ( 0 )));
A14: (for x being set holds (x in (the carrier of ( REAL-US n )) implies (ex y being set st (y in ( REAL ) & Q[ x,y ]))))
proof
let x being set;
assume x in (the carrier of ( REAL-US n ));
per cases ;
suppose A15: x in B0;

then consider x2 being (Element of ( REAL n )) such that A16: x2 = x and (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x2 = ( Base_FinSeq (n,i) )) & |( x1,x2 )| <> ( 0 )));
reconsider y0 = |( x1,x2 )| as (Element of ( REAL ));
(for i2 being (Element of ( NAT )) holds (((1 <= i2 & i2 <= n) & x = ( Base_FinSeq (n,i2) )) implies y0 = |( x1,( Base_FinSeq (n,i2) ) )|)) by A16;
hence (ex y being set st (y in ( REAL ) & Q[ x,y ])) by A15;
end;
suppose (not x in B0);

hence (ex y being set st (y in ( REAL ) & Q[ x,y ]));
end;
end;
consider l2 being (Function of (the carrier of ( REAL-US n )),( REAL )) such that A17: (for x being set holds (x in (the carrier of ( REAL-US n )) implies Q[ x,( l2 . x ) ])) from FUNCT_2:sch 1(A14);
A18: l2 is (Element of ( Funcs ((the carrier of ( REAL-US n )),( REAL )) )) by FUNCT_2:8;
(for v being (Element of ( REAL-US n )) holds ((not v in B0) implies ( l2 . v ) = ( 0 ))) by A17;
then reconsider l3 = l2 as (Linear_Combination of ( REAL-US n )) by A2,A5,A18,RLVECT_2:def 3;
( Carrier l3 ) c= B0
proof
let x being set;
assume x in ( Carrier l3 );
then x in { v where v is (Element of ( REAL-US n )): ( l3 . v ) <> ( 0 ) } by RLVECT_2:def 4;
then (ex v being (Element of ( REAL-US n )) st (x = v & ( l3 . v ) <> ( 0 )));
hence x in B0 by A17;
end;
then reconsider l0 = l3 as (Linear_Combination of B0) by RLVECT_2:def 6;
A19: ( Carrier l0 ) c= B0 by RLVECT_2:def 6;
then ( Carrier l0 ) c= B by A5,XBOOLE_1:1;
then reconsider l2 = l0 as (Linear_Combination of B) by RLVECT_2:def 6;
A20: B0 c= ( Carrier l0 )
proof
let x being set;
assume A21: x in B0;
then consider x6 being (Element of ( REAL n )) such that A22: x = x6 and A23: (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x6 = ( Base_FinSeq (n,i) )) & |( x1,x6 )| <> ( 0 )));
reconsider x66 = x6 as (Element of ( REAL-US n )) by REAL_NS1:def 6;
consider i8 being (Element of ( NAT )) such that 1 <= i8 and i8 <= n and A24: x6 = ( Base_FinSeq (n,i8) ) and |( x1,x6 )| <> ( 0 ) by A23;
( l0 . x66 ) = |( x1,( Base_FinSeq (n,i8) ) )| by A17,A21,A22,A23,A24;
then x in { v where v is (Element of ( REAL-US n )): ( l0 . v ) <> ( 0 ) } by A22,A23,A24;
hence x in ( Carrier l0 ) by RLVECT_2:def 4;
end;
A25: ( dom (( Sgm ( rng f ) ) qua Function) ) = ( Seg ( len ( Sgm ( rng f ) ) ) ) by FINSEQ_1:def 3;
A26: ( rng ( ( (f qua Function) " ) * (( Sgm ( rng f ) ) qua Function) ) ) c= ( rng (( (f qua Function) " ) qua Function) ) by RELAT_1:26;
A27: ( dom (( Sgm ( rng f ) ) qua Function) ) = ( Seg ( len ( Sgm ( rng f ) ) ) ) by FINSEQ_1:def 3;
(for x1,x2 being set holds (((x1 in ( dom f ) & x2 in ( dom f )) & ( f . x1 ) = ( f . x2 )) implies x1 = x2))
proof
let x1 being set;
let x2 being set;
assume that
A28: x1 in ( dom f )
and
A29: x2 in ( dom f )
and
A30: ( f . x1 ) = ( f . x2 );
A31: (ex i2 being (Element of ( NAT )) st (((( f . x2 ) = i2 & 1 <= i2) & i2 <= n) & x2 = ( Base_FinSeq (n,i2) ))) by A13,A29;
(ex i1 being (Element of ( NAT )) st (((( f . x1 ) = i1 & 1 <= i1) & i1 <= n) & x1 = ( Base_FinSeq (n,i1) ))) by A13,A28;
hence x1 = x2 by A30,A31;
end;
then A32: f is  one-to-one by FUNCT_1:def 4;
A33: (( Seg n ) = ( {} ) implies B0 = ( {} ))
proof
set y = the (Element of B0);
assume A34: ( Seg n ) = ( {} );
assume B0 <> ( {} );
then y in B0;
then (ex x being (Element of ( REAL n )) st (x = y & (ex i being (Element of ( NAT )) st (((1 <= i & i <= n) & x = ( Base_FinSeq (n,i) )) & |( x1,x )| <> ( 0 )))));
hence contradiction by A34;
end;
A35: (for i3 being (Element of ( NAT )) holds ((i3 in ( dom ( ProjFinSeq x1 ) ) & (not i3 in ( rng ( Sgm ( rng f ) ) ))) implies ( ( ProjFinSeq x1 ) . i3 ) = ( 0* n )))
proof
let i3 being (Element of ( NAT ));
assume that
A36: i3 in ( dom ( ProjFinSeq x1 ) )
and
A37: (not i3 in ( rng ( Sgm ( rng f ) ) ));
A38: i3 in ( Seg ( len ( ProjFinSeq x1 ) ) ) by A36,FINSEQ_1:def 3;
then A39: 1 <= i3 by FINSEQ_1:1;
( len ( ProjFinSeq x1 ) ) = n by CKB61:def 1;
then A40: i3 <= n by A38,FINSEQ_1:1;
A41: (not i3 in ( rng f )) by A37,FINSEQ_1:def 13;
A42:now
assume |( x1,( Base_FinSeq (n,i3) ) )| <> ( 0 );
then A43: ( Base_FinSeq (n,i3) ) in B0 by A39,A40;
then consider i5 being (Element of ( NAT )) such that A44: ( f . ( Base_FinSeq (n,i3) ) ) = i5 and 1 <= i5 and i5 <= n and A45: ( Base_FinSeq (n,i3) ) = ( Base_FinSeq (n,i5) ) by A13;
A46: ( Base_FinSeq (n,i3) ) in ( dom f ) by A33,A43,FUNCT_2:def 1;
i3 = i5 by A39,A40,A45,CKB55:1;
hence contradiction by A41,A44,A46,FUNCT_1:def 3;
end;
( ( ProjFinSeq x1 ) . i3 ) = ( |( x1,( Base_FinSeq (n,i3) ) )| * ( Base_FinSeq (n,i3) ) ) by A39,A40,CKB61:def 1;
hence ( ( ProjFinSeq x1 ) . i3 ) = ( 0* n ) by A42,EUCLID_4:3;
end;
( rng ( (( ProjFinSeq x1 ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) ) c= ( rng (( ProjFinSeq x1 ) qua Function) ) by RELAT_1:26;
then A47: ( rng ( (( ProjFinSeq x1 ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) ) c= ( REAL n ) by A6,XBOOLE_1:1;
A48: ( rng ( Sgm ( rng f ) ) ) = ( rng f ) by FINSEQ_1:def 13;
A49: ( dom f ) = B0 by A33,FUNCT_2:def 1;
then ( rng ( (f qua Function) " ) ) = B0 by A32,FUNCT_1:33;
then A50: ( rng ( ( (f qua Function) " ) * (( Sgm ( rng f ) ) qua Function) ) ) c= (the carrier of ( REAL-US n )) by A26,XBOOLE_1:1;
( dom ( (( (f qua Function) " ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) ) = ( (( Sgm ( rng f ) ) qua Function) " ( dom ( (f qua Function) " ) ) ) by RELAT_1:147
.= ( (( Sgm ( rng f ) ) qua Function) " ( rng f ) ) by A32,FUNCT_1:33
.= ( dom ( Sgm ( rng f ) ) ) by A48,CKB2:1;
then ( (( (f qua Function) " ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) is FinSequence by A27,FINSEQ_1:def 2;
then reconsider F0 = ( ( (f qua Function) " ) * (( Sgm ( rng f ) ) qua Function) ) as (FinSequence of (the carrier of ( REAL-US n ))) by A50,FINSEQ_1:def 4;
( dom F0 ) = ( (( Sgm ( rng f ) ) qua Function) " ( dom ( (f qua Function) " ) ) ) by RELAT_1:147
.= ( (( Sgm ( rng f ) ) qua Function) " ( rng f ) ) by A32,FUNCT_1:33
.= ( dom (( Sgm ( rng f ) ) qua Function) ) by A48,CKB2:1;
then A51: ( dom F0 ) = ( Seg ( len ( Sgm ( rng f ) ) ) ) by FINSEQ_1:def 3;
A52: ( dom ( ProjFinSeq x1 ) ) = ( Seg ( len ( ProjFinSeq x1 ) ) ) by FINSEQ_1:def 3
.= ( Seg n ) by CKB61:def 1;
then ( dom ( (( ProjFinSeq x1 ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) ) = ( (( Sgm ( rng f ) ) qua Function) " ( Seg n ) ) by RELAT_1:147
.= ( dom ( Sgm ( rng f ) ) ) by A48,CKB2:1;
then ( (( ProjFinSeq x1 ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) is FinSequence by A25,FINSEQ_1:def 2;
then reconsider F2 = ( (( ProjFinSeq x1 ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) as (FinSequence of (the carrier of ( REAL-US n ))) by A1,A47,FINSEQ_1:def 4;
( dom F2 ) = ( (( Sgm ( rng f ) ) qua Function) " ( Seg n ) ) by A52,RELAT_1:147
.= ( dom ( Sgm ( rng f ) ) ) by A48,CKB2:1;
then A53: ( dom F2 ) = ( Seg ( len ( Sgm ( rng f ) ) ) ) by FINSEQ_1:def 3;
then A54: ( Seg ( len F2 ) ) = ( Seg ( len ( Sgm ( rng f ) ) ) ) by FINSEQ_1:def 3;
A55: ( len F2 ) = ( len ( Sgm ( rng f ) ) ) by A53,FINSEQ_1:def 3;
( dom ( (f qua Function) " ) ) = ( rng f ) by A32,FUNCT_1:33;
then ( rng F0 ) = ( rng ( (f qua Function) " ) ) by A48,RELAT_1:28
.= ( dom f ) by A32,FUNCT_1:33;
then A56: ( rng F0 ) = ( Carrier l0 ) by A49,A19,A20,XBOOLE_0:def 10;
A57: (for i being (Element of ( NAT )) holds (i in ( dom F2 ) implies ( F2 . i ) = ( ( l0 . ( F0 /. i ) ) * ( F0 /. i ) )))
proof
let i being (Element of ( NAT ));
A58: ( Sgm ( rng f ) ) is  one-to-one by FINSEQ_3:92;
assume i in ( dom F2 );
then A59: i in ( Seg ( len F2 ) ) by FINSEQ_1:def 3;
then A60: i in ( dom ( Sgm ( rng f ) ) ) by A55,FINSEQ_1:def 3;
then ( ( Sgm ( rng f ) ) . i ) in ( rng ( Sgm ( rng f ) ) ) by FUNCT_1:def 3;
then reconsider i2 = ( ( Sgm ( rng f ) ) . i ) as (Element of ( NAT ));
reconsider r = ( Base_FinSeq (n,i2) ) as (Element of ( REAL-US n )) by REAL_NS1:def 6;
i2 in ( rng ( Sgm ( rng f ) ) ) by A60,FUNCT_1:def 3;
then consider x2 being set such that A61: x2 in ( dom f ) and A62: ( f . x2 ) = i2 by A48,FUNCT_1:def 3;
( dom f ) = B0 by A33,FUNCT_2:def 1;
then reconsider r2 = x2 as (Element of ( REAL-US n )) by A61;
A63: (ex i22 being (Element of ( NAT )) st (((( f . r2 ) = i22 & 1 <= i22) & i22 <= n) & r2 = ( Base_FinSeq (n,i22) ))) by A13,A61;
then consider i4 being (Element of ( NAT )) such that A64: ( f . r ) = i4 and 1 <= i4 and i4 <= n and A65: r = ( Base_FinSeq (n,i4) ) by A62;
A66: ( dom f ) = B0 by A33,FUNCT_2:def 1;
( F0 . i ) = ( ( (f qua Function) " ) . ( (( Sgm ( rng f ) ) qua Function) . i ) ) by A60,FUNCT_1:13
.= ( Base_FinSeq (n,i2) ) by A32,A61,A62,A63,FUNCT_1:32;
then ( Base_FinSeq (n,i2) ) in ( rng F0 ) by A51,A54,A59,FUNCT_1:def 3;
then ( Base_FinSeq (n,i2) ) in { v where v is (Element of ( REAL-US n )): ( l0 . v ) <> ( 0 ) } by A56,RLVECT_2:def 4;
then A67: (ex v0 being (Element of ( REAL-US n )) st (( Base_FinSeq (n,i2) ) = v0 & ( l0 . v0 ) <> ( 0 )));
then ( Base_FinSeq (n,i2) ) in B0 by A17;
then A68: ( ( (f qua Function) " ) . ( f . ( Base_FinSeq (n,i2) ) ) ) = ( Base_FinSeq (n,i2) ) by A32,A66,FUNCT_1:34;
then A69: ( ( ( (f qua Function) " ) * ( Sgm ( rng f ) ) ) . i ) = ( Base_FinSeq (n,i2) ) by A60,A62,A63,FUNCT_1:13;
A70: i2 in ( rng f ) by A48,A60,FUNCT_1:def 3;
then A71: 1 <= i2 by FINSEQ_1:1;
A72: i2 <= n by A70,FINSEQ_1:1;
then i4 = i2 by A71,A65,CKB55:1;
then A73: ( ( (( Sgm ( rng f ) ) qua Function) " ) . ( f . ( Base_FinSeq (n,i2) ) ) ) = i by A60,A64,A58,FUNCT_1:32;
A74: ( f . ( Base_FinSeq (n,i2) ) ) in ( rng ( Sgm ( rng f ) ) ) by A48,A61,A62,A63,FUNCT_1:def 3;
then A75: ( ( (f qua Function) " ) . ( ( Sgm ( rng f ) ) . ( ( (( Sgm ( rng f ) ) qua Function) " ) . ( f . ( Base_FinSeq (n,i2) ) ) ) ) ) = ( Base_FinSeq (n,i2) ) by A58,A68,FUNCT_1:35;
( dom ( (( Sgm ( rng f ) ) qua Function) " ) ) = ( rng ( Sgm ( rng f ) ) ) by A58,FUNCT_1:33;
then ( ( (( Sgm ( rng f ) ) qua Function) " ) . ( f . ( Base_FinSeq (n,i2) ) ) ) in ( rng ( (( Sgm ( rng f ) ) qua Function) " ) ) by A74,FUNCT_1:def 3;
then A76: ( ( (( Sgm ( rng f ) ) qua Function) " ) . ( f . ( Base_FinSeq (n,i2) ) ) ) in ( dom ( Sgm ( rng f ) ) ) by A58,FUNCT_1:33;
( l0 . ( F0 /. i ) ) = ( l0 . ( ( ( (f qua Function) " ) * ( Sgm ( rng f ) ) ) . i ) ) by A51,A55,A59,PARTFUN1:def 6
.= ( l0 . ( Base_FinSeq (n,i2) ) ) by A73,A76,A75,FUNCT_1:13
.= |( x1,( Base_FinSeq (n,i2) ) )| by A17,A71,A72,A67;
then ( ( l0 . ( F0 /. i ) ) * ( F0 /. i ) ) = ( |( x1,( Base_FinSeq (n,i2) ) )| * ( Base_FinSeq (n,i2) ) ) by A51,A55,A59,A69,PARTFUN1:def 6
.= ( ( ProjFinSeq x1 ) . ( ( Sgm ( rng f ) ) . i ) ) by A71,A72,CKB61:def 1
.= ( ( (( ProjFinSeq x1 ) qua Function) * (( Sgm ( rng f ) ) qua Function) ) . i ) by A60,FUNCT_1:13;
hence ( F2 . i ) = ( ( l0 . ( F0 /. i ) ) * ( F0 /. i ) );
end;
A77: (( Sgm ( rng f ) ) qua Function) is  one-to-one by FINSEQ_3:92;
reconsider F3 = F2 as (FinSequence of ( REAL n )) by REAL_NS1:def 6;
A78: x0 = ( Sum ( ProjFinSeq x1 ) ) by CKB62:1
.= ( Sum F3 ) by A48,A52,A35,CKB53:1,FINSEQ_3:92
.= ( Sum F2 ) by CKB78:1;
( len F2 ) = ( len F0 ) by A51,A54,FINSEQ_1:def 3;
then x1 = ( Sum ( l0 (#) F0 ) ) by A78,A57,RLVECT_2:def 7;
then x1 = ( Sum l2 ) by A32,A77,A56,RLVECT_2:def 8;
hence (ex l being (Linear_Combination of B) st x0 = ( Sum l ));
end;
