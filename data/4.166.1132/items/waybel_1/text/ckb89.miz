environ
vocabularies XBOOLE_0,STRUCT_0,FUNCT_1,SUBSET_1,ORDERS_2,SEQM_3,XXREAL_0,RELAT_2,LATTICE3,LATTICES,EQREL_1,WAYBEL_0,YELLOW_1,YELLOW_0,RELAT_1,CAT_1,WELLORD1,ORDINAL2,TARSKI,REWRITE1,CARD_FIL,BINOP_1,FUNCT_2,GROUP_6,YELLOW_2,LATTICE2,XBOOLEAN,ZFMISC_1,XXREAL_2,WAYBEL_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,DOMAIN_1,STRUCT_0,WELLORD1,ORDERS_2,LATTICE3,QUANTAL1,ORDERS_3,YELLOW_0,YELLOW_1,WAYBEL_0,YELLOW_2,CKB1,CKB2,CKB7,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB17,CKB20,CKB21,CKB22,CKB24,CKB25,CKB47,CKB50,CKB55,CKB62,CKB67;
definitions TARSKI,LATTICE3,QUANTAL1,ORDERS_3,YELLOW_0,WAYBEL_0,XBOOLE_0,YELLOW_2,STRUCT_0,CKB1,CKB2,CKB7,CKB10,CKB11,CKB14,CKB15,CKB17,CKB20,CKB22,CKB24,CKB25,CKB47,CKB50,CKB55,CKB62,CKB67;
theorems ZFMISC_1,ORDERS_2,FUNCT_1,FUNCT_2,LATTICE3,RELAT_1,TARSKI,WELLORD1,ORDERS_3,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_0,RELSET_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB31,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB50,CKB52,CKB55,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB66,CKB67,CKB68,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88;
schemes FUNCT_2,DOMAIN_1;
registrations RELAT_1,FUNCT_1,FUNCT_2,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,RELSET_1,CKB9,CKB16,CKB30,CKB32,CKB48,CKB49,CKB51,CKB53,CKB54,CKB56,CKB57,CKB58,CKB65,CKB69;
constructors DOMAIN_1,TOLER_1,QUANTAL1,ORDERS_3,YELLOW_2,RELSET_1,CKB1,CKB7,CKB10,CKB11,CKB14,CKB15,CKB17,CKB20,CKB21,CKB22,CKB24,CKB25,CKB47,CKB50,CKB55,CKB62,CKB67;
requirements SUBSET,BOOLE;
begin
theorem
(for L being non empty Poset holds (for p being (Function of L,L) holds (p is  projection implies (for Lc being non empty (Subset of L) holds (Lc = { c where c is (Element of L): c <= ( p . c ) } implies ((p is  infs-preserving implies (( subrelstr Lc ) is  infs-inheriting & ( Image p ) is  infs-inheriting)) & (p is  filtered-infs-preserving implies (( subrelstr Lc ) is  filtered-infs-inheriting & ( Image p ) is  filtered-infs-inheriting))))))))
proof
let L being non empty Poset;
let p being (Function of L,L);
assume A1: p is  projection;
then reconsider Lk = { k where k is (Element of L): ( p . k ) <= k } as non empty (Subset of L) by CKB81:1;
let Lc being non empty (Subset of L);
assume that
A2: Lc = { c where c is (Element of L): c <= ( p . c ) };
A3: p is  monotone by A1,CKB47:def 1;
then A4: ( subrelstr Lk ) is  infs-inheriting by CKB88:1;
A5: Lc = (the carrier of ( subrelstr Lc )) by YELLOW_0:def 15;
A6: (the carrier of ( Image p )) = ( rng p ) by YELLOW_0:def 15
.= ( Lc /\ Lk ) by A1,A2,CKB80:1;
then A7: (the carrier of ( Image p )) c= Lk by XBOOLE_1:17;
A8: Lk = (the carrier of ( subrelstr Lk )) by YELLOW_0:def 15;
A9: (the carrier of ( Image p )) c= Lc by A6,XBOOLE_1:17;
hereby
assume A10: p is  infs-preserving;
thus A11: ( subrelstr Lc ) is  infs-inheriting
proof
let X being (Subset of ( subrelstr Lc ));
(the carrier of ( subrelstr Lc )) is (Subset of L) by YELLOW_0:def 15;
then reconsider X9 = X as (Subset of L) by XBOOLE_1:1;
assume A12:  ex_inf_of X,L;
A13: ( inf X9 ) is_<=_than ( p .: X9 )
proof
let y being (Element of L);
assume y in ( p .: X9 );
then consider x being (Element of L) such that A14: x in X9 and A15: y = ( p . x ) by FUNCT_2:65;
reconsider x as (Element of L);
x in Lc by A5,A14;
then A16: (ex x9 being (Element of L) st (x9 = x & x9 <= ( p . x9 ))) by A2;
( inf X9 ) is_<=_than X9 by A12,YELLOW_0:31;
then ( inf X9 ) <= x by A14,LATTICE3:def 8;
hence ( inf X9 ) <= y by A15,A16,ORDERS_2:3;
end;
p preserves_inf_of X9 by A10,WAYBEL_0:def 32;
then ( ex_inf_of ( p .: X ),L & ( inf ( p .: X9 ) ) = ( p . ( inf X9 ) )) by A12,WAYBEL_0:def 30;
then ( inf X9 ) <= ( p . ( inf X9 ) ) by A13,YELLOW_0:31;
hence thesis by A2,A5;
end;

thus ( Image p ) is  infs-inheriting
proof
let X being (Subset of ( Image p ));
assume that
A17:  ex_inf_of X,L;
X c= Lc by A9,XBOOLE_1:1;
then A18: ( "/\" (X,L) ) in (the carrier of ( subrelstr Lc )) by A5,A11,A17,YELLOW_0:def 18;
(( subrelstr Lk ) is  infs-inheriting & X c= (the carrier of ( subrelstr Lk ))) by A3,A7,A8,CKB88:1,XBOOLE_1:1;
then ( "/\" (X,L) ) in (the carrier of ( subrelstr Lk )) by A17,YELLOW_0:def 18;
hence thesis by A6,A5,A8,A18,XBOOLE_0:def 4;
end;

end;
assume A19: p is  filtered-infs-preserving;
thus A20: ( subrelstr Lc ) is  filtered-infs-inheriting
proof
let X being  filtered (Subset of ( subrelstr Lc ));
assume X <> ( {} );
then reconsider X9 = X as non empty  filtered (Subset of L) by YELLOW_2:7;
assume A21:  ex_inf_of X,L;
A22: ( inf X9 ) is_<=_than ( p .: X9 )
proof
let y being (Element of L);
assume y in ( p .: X9 );
then consider x being (Element of L) such that A23: x in X9 and A24: y = ( p . x ) by FUNCT_2:65;
reconsider x as (Element of L);
x in Lc by A5,A23;
then A25: (ex x9 being (Element of L) st (x9 = x & x9 <= ( p . x9 ))) by A2;
( inf X9 ) is_<=_than X9 by A21,YELLOW_0:31;
then ( inf X9 ) <= x by A23,LATTICE3:def 8;
hence ( inf X9 ) <= y by A24,A25,ORDERS_2:3;
end;
p preserves_inf_of X9 by A19,WAYBEL_0:def 36;
then ( ex_inf_of ( p .: X ),L & ( inf ( p .: X9 ) ) = ( p . ( inf X9 ) )) by A21,WAYBEL_0:def 30;
then ( inf X9 ) <= ( p . ( inf X9 ) ) by A22,YELLOW_0:31;
hence thesis by A2,A5;
end;

let X being  filtered (Subset of ( Image p ));
assume that
A26: X <> ( {} )
and
A27:  ex_inf_of X,L;
(the carrier of ( Image p )) c= (the carrier of ( subrelstr Lc )) by A9,YELLOW_0:def 15;
then X is  filtered  filtered (Subset of ( subrelstr Lc )) by YELLOW_2:8;
then A28: ( "/\" (X,L) ) in (the carrier of ( subrelstr Lc )) by A20,A26,A27,WAYBEL_0:def 3;
X c= (the carrier of ( subrelstr Lk )) by A7,A8,XBOOLE_1:1;
then ( "/\" (X,L) ) in (the carrier of ( subrelstr Lk )) by A27,A4,YELLOW_0:def 18;
hence thesis by A6,A5,A8,A28,XBOOLE_0:def 4;
end;
