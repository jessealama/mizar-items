environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,FUNCT_5,FUNCT_6,XBOOLE_0,TARSKI,FUNCT_2,PBOOLE,ZFMISC_1,SUBSET_1,CARD_3,MCART_1,MONOID_0,STRUCT_0,REWRITE1,WAYBEL_0,NEWTON,ORDERS_2,YELLOW_0,BINOP_1,GROUP_6,SEQM_3,XXREAL_0,CAT_1,FUNCT_3,CARD_1,YELLOW_1,RLVECT_2,PRE_TOPC,WAYBEL26,WAYBEL24,WAYBEL25,ORDINAL2,RCOMP_1,WELLORD2,WELLORD1,RELAT_2,WAYBEL11,WAYBEL_9,WAYBEL17,YELLOW_9,EQREL_1,WAYBEL18,PROB_1,WAYBEL_1,WAYBEL_8,RLVECT_3,LATTICES,BORSUK_1,WAYBEL27;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,TOLER_1,MCART_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,BINOP_1,FUNCT_3,FUNCT_4,FUNCT_5,NUMBERS,CARD_3,FUNCOP_1,FUNCT_6,MONOID_0,PRALG_1,QUANTAL1,FUNCT_2,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_2,ORDERS_2,CANTOR_1,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_8,WAYBEL_9,WAYBEL11,YELLOW_9,WAYBEL17,WAYBEL18,WAYBEL24,WAYBEL25,YELLOW16,WAYBEL26,CKB1,CKB2,CKB3,CKB27,CKB36,CKB40,CKB47;
definitions TARSKI,FUNCT_1,MONOID_0,WAYBEL_0,FUNCOP_1,WAYBEL_1,XBOOLE_0,BINOP_1,YELLOW_2,STRUCT_0,CKB1,CKB2,CKB3,CKB36,CKB47;
theorems YELLOW_1,CARD_3,FUNCT_2,FUNCT_1,PRE_TOPC,TARSKI,PRALG_1,FUNCOP_1,YELLOW_0,WELLORD1,WAYBEL17,WAYBEL10,TOPS_2,TOPS_3,YELLOW_9,WAYBEL24,WAYBEL26,WAYBEL_0,RELSET_1,ORDERS_2,RELAT_1,FUNCT_6,YELLOW14,WAYBEL18,WAYBEL20,WAYBEL25,WAYBEL_1,WAYBEL15,QUANTAL1,WAYBEL14,WAYBEL13,YELLOW16,ZFMISC_1,FUNCT_5,FUNCT_3,YELLOW_2,WAYBEL_3,WAYBEL_8,YELLOW_3,MCART_1,FUNCT_4,WAYBEL21,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB1,CKB2,CKB3,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB25,CKB26,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB39,CKB41,CKB42,CKB43,CKB45,CKB46,CKB47,CKB48,CKB49;
schemes FUNCT_2,PBOOLE,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,STRUCT_0,TOPS_1,LATTICE3,YELLOW_0,MONOID_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_2,WAYBEL_3,WAYBEL_8,WAYBEL10,WAYBEL14,WAYBEL17,YELLOW_9,WAYBEL18,WAYBEL19,WAYBEL24,WAYBEL25,YELLOW16,PARTFUN1,RELSET_1,CKB4,CKB5,CKB6,CKB7,CKB10,CKB11,CKB19,CKB20,CKB21,CKB22,CKB37,CKB38,CKB44;
constructors DOMAIN_1,TOLER_1,FUNCT_6,TOPS_2,CANTOR_1,MONOID_0,QUANTAL1,ORDERS_3,WAYBEL_6,WAYBEL_8,WAYBEL17,YELLOW_9,WAYBEL18,WAYBEL24,YELLOW16,WAYBEL26,RELSET_1,WAYBEL20,CKB1,CKB2,CKB3,CKB27,CKB36,CKB40,CKB47;
requirements BOOLE,SUBSET;
begin
theorem
Th30: (for S1,S2,T1,T2 being  complete LATTICE holds (for f being  directed-sups-preserving (Function of S1,S2) holds (for g being  directed-sups-preserving (Function of T1,T2) holds ( UPS (f,g) ) is  directed-sups-preserving)))
proof
let S1 being  complete LATTICE;
let S2 being  complete LATTICE;
let T1 being  complete LATTICE;
let T2 being  complete LATTICE;
let f being  directed-sups-preserving (Function of S1,S2);
let g being  directed-sups-preserving (Function of T1,T2);
let A being (Subset of ( UPS (S2,T1) ));
assume A is non  empty  directed;
then reconsider H = A as  directed non  empty (Subset of ( UPS (S2,T1) ));
assume  ex_sup_of A,( UPS (S2,T1) );
thus  ex_sup_of ( ( UPS (f,g) ) .: A ),( UPS (S1,T2) ) by YELLOW_0:17;
( UPS (S2,T1) ) is  full  full (SubRelStr of ( T1 |^ (the carrier of S2) )) by CKB36:def 1;
then reconsider B = H as  directed non  empty (Subset of ( T1 |^ (the carrier of S2) )) by YELLOW_2:7;
A1: ( UPS (S1,T2) ) is  full  full (SubRelStr of ( T2 |^ (the carrier of S1) )) by CKB36:def 1;
then reconsider fgsA = ( ( UPS (f,g) ) . ( sup H ) ) as (Element of ( T2 |^ (the carrier of S1) )) by YELLOW_0:58;
(the carrier of ( UPS (S1,T2) )) c= (the carrier of ( T2 |^ (the carrier of S1) )) by A1,YELLOW_0:def 13;
then reconsider fgA = ( ( UPS (f,g) ) .: H ) as non  empty (Subset of ( T2 |^ (the carrier of S1) )) by XBOOLE_1:1;
A2: ( T2 |^ (the carrier of S1) ) = ( product ( (the carrier of S1) --> T2 ) ) by YELLOW_1:def 5;
then A3: ( dom ( sup fgA ) ) = (the carrier of S1) by WAYBEL_3:27;
A4: ( T1 |^ (the carrier of S2) ) = ( product ( (the carrier of S2) --> T1 ) ) by YELLOW_1:def 5;
A5:now
reconsider BB = B as  directed (Subset of ( product ( (the carrier of S2) --> T1 ) )) by A4;
let s being set;
A6: ( dom f ) = (the carrier of S1) by FUNCT_2:def 1;
assume s in (the carrier of S1);
then reconsider x = s as (Element of S1);
reconsider sH = ( sup H ) as  directed-sups-preserving (Function of S2,T1) by CKB36:def 1;
A7: ( ( (the carrier of S2) --> T1 ) . ( f . x ) ) = T1 by FUNCOP_1:7;
( dom sH ) = (the carrier of S2) by FUNCT_2:def 1;
then ( f . x ) in ( dom sH );
then A8: x in ( dom ( sH * f ) ) by A6,FUNCT_1:11;
A9: ( pi (fgA,x) ) = ( g .: ( pi (A,( f . x )) ) )
proof
thus ( pi (fgA,x) ) c= ( g .: ( pi (A,( f . x )) ) )
proof
let a being set;
A10: ( dom g ) = (the carrier of T1) by FUNCT_2:def 1;
assume a in ( pi (fgA,x) );
then consider F being Function such that A11: F in fgA and A12: a = ( F . x ) by CARD_3:def 6;
consider G being set such that A13: G in ( dom ( UPS (f,g) ) ) and A14: G in H and A15: F = ( ( UPS (f,g) ) . G ) by A11,FUNCT_1:def 6;
reconsider G as  directed-sups-preserving (Function of S2,T1) by A13,CKB36:def 1;
A16: ( G . ( f . x ) ) in ( pi (A,( f . x )) ) by A14,CARD_3:def 6;
A17: ( dom f ) = (the carrier of S1) by FUNCT_2:def 1;
( dom G ) = (the carrier of S2) by FUNCT_2:def 1;
then ( f . x ) in ( dom G );
then A18: x in ( dom ( G * f ) ) by A17,FUNCT_1:11;
a = ( ( ( g * G ) * f ) . x ) by A12,A15,CKB47:def 1
.= ( ( g * ( G * f ) ) . x ) by RELAT_1:36
.= ( g . ( ( G * f ) . x ) ) by A18,FUNCT_1:13
.= ( g . ( G . ( f . x ) ) ) by A17,FUNCT_1:13;
hence thesis by A10,A16,FUNCT_1:def 6;
end;

let a being set;
A19: ( dom ( UPS (f,g) ) ) = (the carrier of ( UPS (S2,T1) )) by FUNCT_2:def 1;
assume a in ( g .: ( pi (A,( f . x )) ) );
then consider F being set such that F in ( dom g ) and A20: F in ( pi (A,( f . x )) ) and A21: a = ( g . F ) by FUNCT_1:def 6;
consider G being Function such that A22: G in A and A23: F = ( G . ( f . x ) ) by A20,CARD_3:def 6;
reconsider G as  directed-sups-preserving (Function of S2,T1) by A22,CKB36:def 1;
( ( g * G ) * f ) = ( ( UPS (f,g) ) . G ) by CKB47:def 1;
then A24: ( ( g * G ) * f ) in fgA by A22,A19,FUNCT_1:def 6;
A25: ( dom f ) = (the carrier of S1) by FUNCT_2:def 1;
( dom G ) = (the carrier of S2) by FUNCT_2:def 1;
then ( f . x ) in ( dom G );
then A26: x in ( dom ( G * f ) ) by A25,FUNCT_1:11;
a = ( g . ( ( G * f ) . x ) ) by A21,A23,A25,FUNCT_1:13
.= ( ( g * ( G * f ) ) . x ) by A26,FUNCT_1:13
.= ( ( ( g * G ) * f ) . x ) by RELAT_1:36;
hence thesis by A24,CARD_3:def 6;
end;
A27:  ex_sup_of ( pi (B,( f . x )) ),T1 by YELLOW_0:17;
A28: ( pi (BB,( f . x )) ) is  directed by YELLOW16:35;
( ( (the carrier of S2) --> T1 ) . ( f . x ) ) = T1 by FUNCOP_1:7;
then A29: g preserves_sup_of ( pi (B,( f . x )) ) by A28,WAYBEL_0:def 37;
( ( (the carrier of S1) --> T2 ) . x ) = T2 by FUNCOP_1:7;
hence ( ( sup fgA ) . s ) = ( sup ( pi (fgA,x) ) ) by A2,YELLOW16:33,YELLOW_0:17
.= ( g . ( sup ( pi (B,( f . x )) ) ) ) by A9,A29,A27,WAYBEL_0:def 31
.= ( g . ( ( sup B ) . ( f . x ) ) ) by A4,A7,YELLOW16:33,YELLOW_0:17
.= ( g . ( sH . ( f . x ) ) ) by CKB46:1
.= ( g . ( ( sH * f ) . x ) ) by A6,FUNCT_1:13
.= ( ( g * ( sH * f ) ) . x ) by A8,FUNCT_1:13
.= ( ( ( g * sH ) * f ) . s ) by RELAT_1:36
.= ( fgsA . s ) by CKB47:def 1;
end;
A30: ( dom fgsA ) = (the carrier of S1) by A2,WAYBEL_3:27;
thus ( sup ( ( UPS (f,g) ) .: A ) ) = ( sup fgA ) by CKB46:1
.= ( ( UPS (f,g) ) . ( sup A ) ) by A3,A30,A5,FUNCT_1:2;
end;
