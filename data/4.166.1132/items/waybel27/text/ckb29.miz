environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,FUNCT_5,FUNCT_6,XBOOLE_0,TARSKI,FUNCT_2,PBOOLE,ZFMISC_1,SUBSET_1,CARD_3,MCART_1,MONOID_0,STRUCT_0,REWRITE1,WAYBEL_0,NEWTON,ORDERS_2,YELLOW_0,BINOP_1,GROUP_6,SEQM_3,XXREAL_0,CAT_1,FUNCT_3,CARD_1,YELLOW_1,RLVECT_2,PRE_TOPC,WAYBEL26,WAYBEL24,WAYBEL25,ORDINAL2,RCOMP_1,WELLORD2,WELLORD1,RELAT_2,WAYBEL11,WAYBEL_9,WAYBEL17,YELLOW_9,EQREL_1,WAYBEL18,PROB_1,WAYBEL_1,WAYBEL_8,RLVECT_3,LATTICES,BORSUK_1,WAYBEL27;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,TOLER_1,MCART_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,BINOP_1,FUNCT_3,FUNCT_4,FUNCT_5,NUMBERS,CARD_3,FUNCOP_1,FUNCT_6,MONOID_0,PRALG_1,QUANTAL1,FUNCT_2,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_2,ORDERS_2,CANTOR_1,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_8,WAYBEL_9,WAYBEL11,YELLOW_9,WAYBEL17,WAYBEL18,WAYBEL24,WAYBEL25,YELLOW16,WAYBEL26,CKB1,CKB2,CKB3,CKB27;
definitions TARSKI,FUNCT_1,MONOID_0,WAYBEL_0,FUNCOP_1,WAYBEL_1,XBOOLE_0,BINOP_1,YELLOW_2,STRUCT_0,CKB1,CKB2,CKB3;
theorems YELLOW_1,CARD_3,FUNCT_2,FUNCT_1,PRE_TOPC,TARSKI,PRALG_1,FUNCOP_1,YELLOW_0,WELLORD1,WAYBEL17,WAYBEL10,TOPS_2,TOPS_3,YELLOW_9,WAYBEL24,WAYBEL26,WAYBEL_0,RELSET_1,ORDERS_2,RELAT_1,FUNCT_6,YELLOW14,WAYBEL18,WAYBEL20,WAYBEL25,WAYBEL_1,WAYBEL15,QUANTAL1,WAYBEL14,WAYBEL13,YELLOW16,ZFMISC_1,FUNCT_5,FUNCT_3,YELLOW_2,WAYBEL_3,WAYBEL_8,YELLOW_3,MCART_1,FUNCT_4,WAYBEL21,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB1,CKB2,CKB3,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB25,CKB26,CKB28;
schemes FUNCT_2,PBOOLE,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,STRUCT_0,TOPS_1,LATTICE3,YELLOW_0,MONOID_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_2,WAYBEL_3,WAYBEL_8,WAYBEL10,WAYBEL14,WAYBEL17,YELLOW_9,WAYBEL18,WAYBEL19,WAYBEL24,WAYBEL25,YELLOW16,PARTFUN1,RELSET_1,CKB4,CKB5,CKB6,CKB7,CKB10,CKB11,CKB19,CKB20,CKB21,CKB22;
constructors DOMAIN_1,TOLER_1,FUNCT_6,TOPS_2,CANTOR_1,MONOID_0,QUANTAL1,ORDERS_3,WAYBEL_6,WAYBEL_8,WAYBEL17,YELLOW_9,WAYBEL18,WAYBEL24,YELLOW16,WAYBEL26,RELSET_1,WAYBEL20,CKB1,CKB2,CKB3,CKB27;
requirements BOOLE,SUBSET;
begin
theorem
Th15: (for X being set holds (for L,S being non  empty RelStr holds (( the RelStr of L ) = ( the RelStr of S ) implies ( L |^ X ) = ( S |^ X ))))
proof
let X being set;
let L being non  empty RelStr;
let S being non  empty RelStr;
assume that
A1: ( the RelStr of L ) = ( the RelStr of S );
reconsider tXL = ( X --> L ) as  RelStr-yielding (ManySortedSet of X);
reconsider tXS = ( X --> S ) as  RelStr-yielding (ManySortedSet of X);
A2: (for x being set holds (x in ( dom ( Carrier tXS ) ) implies ( ( Carrier tXS ) . x ) = ( ( Carrier tXL ) . x )))
proof
let x being set;
assume x in ( dom ( Carrier tXS ) );
then A3: x in X by PARTFUN1:def 2;
then A4: (ex R1 being 1-sorted st (( tXL . x ) = R1 & ( ( Carrier tXL ) . x ) = (the carrier of R1))) by PRALG_1:def 13;
(ex R being 1-sorted st (( tXS . x ) = R & ( ( Carrier tXS ) . x ) = (the carrier of R))) by A3,PRALG_1:def 13;
hence ( ( Carrier tXS ) . x ) = (the carrier of S) by A3,FUNCOP_1:7
.= ( ( Carrier tXL ) . x ) by A1,A3,A4,FUNCOP_1:7;
end;
A5: ( dom ( Carrier tXS ) ) = X by PARTFUN1:def 2
.= ( dom ( Carrier tXL ) ) by PARTFUN1:def 2;
A6: (the carrier of ( S |^ X )) = (the carrier of ( product tXS )) by YELLOW_1:def 5
.= ( product ( Carrier tXS ) ) by YELLOW_1:def 4
.= ( product ( Carrier tXL ) ) by A5,A2,FUNCT_1:2
.= (the carrier of ( product tXL )) by YELLOW_1:def 4
.= (the carrier of ( L |^ X )) by YELLOW_1:def 5;
A7: (the InternalRel of ( L |^ X )) c= (the InternalRel of ( S |^ X ))
proof
reconsider tXS = ( X --> S ) as  RelStr-yielding (ManySortedSet of X);
reconsider tXL = ( X --> L ) as  RelStr-yielding (ManySortedSet of X);
let x being set;
assume A8: x in (the InternalRel of ( L |^ X ));
then consider a,b being set such that A9: x = [ a,b ] and A10: a in (the carrier of ( L |^ X )) and A11: b in (the carrier of ( L |^ X )) by RELSET_1:2;
reconsider a,b as (Element of ( L |^ X )) by A10,A11;
A12: ( L |^ X ) = ( product tXL ) by YELLOW_1:def 5;
then A13: (the carrier of ( L |^ X )) = ( product ( Carrier tXL ) ) by YELLOW_1:def 4;
a <= b by A8,A9,ORDERS_2:def 5;
then consider f,g being Function such that A14: f = a and A15: g = b and A16: (for i being set holds (i in X implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( tXL . i ) & xi = ( f . i )) & yi = ( g . i )) & xi <= yi))))) by A12,A13,YELLOW_1:def 4;
reconsider a1 = a,b1 = b as (Element of ( S |^ X )) by A6;
A17: (ex f,g being Function st ((f = a1 & g = b1) & (for i being set holds (i in X implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( tXS . i ) & xi = ( f . i )) & yi = ( g . i )) & xi <= yi)))))))
proof
take f;
take g;
thus (f = a1 & g = b1) by A14,A15;
let i being set;
assume A18: i in X;
then consider R being RelStr,xi,yi being (Element of R) such that A19: R = ( tXL . i ) and A20: xi = ( f . i ) and A21: yi = ( g . i ) and A22: xi <= yi by A16;
take R1 = S;
reconsider xi1 = xi,yi1 = yi as (Element of R1) by A1,A18,A19,FUNCOP_1:7;
take xi1;
take yi1;
thus R1 = ( tXS . i ) by A18,FUNCOP_1:7;
thus (xi1 = ( f . i ) & yi1 = ( g . i )) by A20,A21;
(the InternalRel of R) = (the InternalRel of L) by A18,A19,FUNCOP_1:7;
then [ xi1,yi1 ] in (the InternalRel of R1) by A1,A22,ORDERS_2:def 5;
hence thesis by ORDERS_2:def 5;
end;
A23: ( S |^ X ) = ( product tXS ) by YELLOW_1:def 5;
then (the carrier of ( S |^ X )) = ( product ( Carrier tXS ) ) by YELLOW_1:def 4;
then a1 <= b1 by A17,A23,YELLOW_1:def 4;
hence thesis by A9,ORDERS_2:def 5;
end;
(the InternalRel of ( S |^ X )) c= (the InternalRel of ( L |^ X ))
proof
reconsider tXL = ( X --> L ) as  RelStr-yielding (ManySortedSet of X);
reconsider tXS = ( X --> S ) as  RelStr-yielding (ManySortedSet of X);
let x being set;
assume A24: x in (the InternalRel of ( S |^ X ));
then consider a,b being set such that A25: x = [ a,b ] and A26: a in (the carrier of ( S |^ X )) and A27: b in (the carrier of ( S |^ X )) by RELSET_1:2;
reconsider a,b as (Element of ( S |^ X )) by A26,A27;
A28: ( S |^ X ) = ( product tXS ) by YELLOW_1:def 5;
then A29: (the carrier of ( S |^ X )) = ( product ( Carrier tXS ) ) by YELLOW_1:def 4;
a <= b by A24,A25,ORDERS_2:def 5;
then consider f,g being Function such that A30: f = a and A31: g = b and A32: (for i being set holds (i in X implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( tXS . i ) & xi = ( f . i )) & yi = ( g . i )) & xi <= yi))))) by A28,A29,YELLOW_1:def 4;
reconsider a1 = a,b1 = b as (Element of ( L |^ X )) by A6;
A33: (ex f,g being Function st ((f = a1 & g = b1) & (for i being set holds (i in X implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( tXL . i ) & xi = ( f . i )) & yi = ( g . i )) & xi <= yi)))))))
proof
take f;
take g;
thus (f = a1 & g = b1) by A30,A31;
let i being set;
assume A34: i in X;
then consider R being RelStr,xi,yi being (Element of R) such that A35: R = ( tXS . i ) and A36: xi = ( f . i ) and A37: yi = ( g . i ) and A38: xi <= yi by A32;
take R1 = L;
reconsider xi1 = xi,yi1 = yi as (Element of R1) by A1,A34,A35,FUNCOP_1:7;
take xi1;
take yi1;
thus R1 = ( tXL . i ) by A34,FUNCOP_1:7;
thus (xi1 = ( f . i ) & yi1 = ( g . i )) by A36,A37;
(the InternalRel of R) = (the InternalRel of S) by A34,A35,FUNCOP_1:7;
then [ xi1,yi1 ] in (the InternalRel of R1) by A1,A38,ORDERS_2:def 5;
hence thesis by ORDERS_2:def 5;
end;
A39: ( L |^ X ) = ( product tXL ) by YELLOW_1:def 5;
then (the carrier of ( L |^ X )) = ( product ( Carrier tXL ) ) by YELLOW_1:def 4;
then a1 <= b1 by A33,A39,YELLOW_1:def 4;
hence thesis by A25,ORDERS_2:def 5;
end;
hence thesis by A7,A6,XBOOLE_0:def 10;
end;
