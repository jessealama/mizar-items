environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,FUNCT_5,FUNCT_6,XBOOLE_0,TARSKI,FUNCT_2,PBOOLE,ZFMISC_1,SUBSET_1,CARD_3,MCART_1,MONOID_0,STRUCT_0,REWRITE1,WAYBEL_0,NEWTON,ORDERS_2,YELLOW_0,BINOP_1,GROUP_6,SEQM_3,XXREAL_0,CAT_1,FUNCT_3,CARD_1,YELLOW_1,RLVECT_2,PRE_TOPC,WAYBEL26,WAYBEL24,WAYBEL25,ORDINAL2,RCOMP_1,WELLORD2,WELLORD1,RELAT_2,WAYBEL11,WAYBEL_9,WAYBEL17,YELLOW_9,EQREL_1,WAYBEL18,PROB_1,WAYBEL_1,WAYBEL_8,RLVECT_3,LATTICES,BORSUK_1,WAYBEL27;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,TOLER_1,MCART_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,BINOP_1,FUNCT_3,FUNCT_4,FUNCT_5,NUMBERS,CARD_3,FUNCOP_1,FUNCT_6,MONOID_0,PRALG_1,QUANTAL1,FUNCT_2,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_2,ORDERS_2,CANTOR_1,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_8,WAYBEL_9,WAYBEL11,YELLOW_9,WAYBEL17,WAYBEL18,WAYBEL24,WAYBEL25,YELLOW16,WAYBEL26,CKB1,CKB2,CKB3,CKB27,CKB36,CKB40,CKB47;
definitions TARSKI,FUNCT_1,MONOID_0,WAYBEL_0,FUNCOP_1,WAYBEL_1,XBOOLE_0,BINOP_1,YELLOW_2,STRUCT_0,CKB1,CKB2,CKB3,CKB36,CKB47;
theorems YELLOW_1,CARD_3,FUNCT_2,FUNCT_1,PRE_TOPC,TARSKI,PRALG_1,FUNCOP_1,YELLOW_0,WELLORD1,WAYBEL17,WAYBEL10,TOPS_2,TOPS_3,YELLOW_9,WAYBEL24,WAYBEL26,WAYBEL_0,RELSET_1,ORDERS_2,RELAT_1,FUNCT_6,YELLOW14,WAYBEL18,WAYBEL20,WAYBEL25,WAYBEL_1,WAYBEL15,QUANTAL1,WAYBEL14,WAYBEL13,YELLOW16,ZFMISC_1,FUNCT_5,FUNCT_3,YELLOW_2,WAYBEL_3,WAYBEL_8,YELLOW_3,MCART_1,FUNCT_4,WAYBEL21,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB1,CKB2,CKB3,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB23,CKB24,CKB25,CKB26,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB39,CKB41,CKB42,CKB43,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56;
schemes FUNCT_2,PBOOLE,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,STRUCT_0,TOPS_1,LATTICE3,YELLOW_0,MONOID_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_2,WAYBEL_3,WAYBEL_8,WAYBEL10,WAYBEL14,WAYBEL17,YELLOW_9,WAYBEL18,WAYBEL19,WAYBEL24,WAYBEL25,YELLOW16,PARTFUN1,RELSET_1,CKB4,CKB5,CKB6,CKB7,CKB10,CKB11,CKB19,CKB20,CKB21,CKB22,CKB37,CKB38,CKB44;
constructors DOMAIN_1,TOLER_1,FUNCT_6,TOPS_2,CANTOR_1,MONOID_0,QUANTAL1,ORDERS_3,WAYBEL_6,WAYBEL_8,WAYBEL17,YELLOW_9,WAYBEL18,WAYBEL24,YELLOW16,WAYBEL26,RELSET_1,WAYBEL20,CKB1,CKB2,CKB3,CKB27,CKB36,CKB40,CKB47;
requirements BOOLE,SUBSET;
begin
theorem
Th37: (for S,T being  complete LATTICE holds (for f being  directed-sups-preserving  projection (Function of T,T) holds ( Image ( UPS (( id S ),f) ) ) = ( UPS (S,( Image f )) )))
proof
let S being  complete LATTICE,T being  complete LATTICE;
let f being  directed-sups-preserving  projection (Function of T,T);
reconsider If = ( Image f ) as  complete LATTICE by YELLOW_2:35;
A1: ( If |^ (the carrier of S) ) is  full  full (SubRelStr of ( T |^ (the carrier of S) )) by YELLOW16:39;
( UPS (S,If) ) is  full  full (SubRelStr of ( ( Image f ) |^ (the carrier of S) )) by CKB36:def 1;
then reconsider UPSIf = ( UPS (S,If) ) as  full (SubRelStr of ( T |^ (the carrier of S) )) by A1,WAYBEL15:1;
( UPS (S,T) ) is  full  full (SubRelStr of ( T |^ (the carrier of S) )) by CKB36:def 1;
then reconsider IUPS = ( Image ( UPS (( id S ),f) ) ) as  full (SubRelStr of ( T |^ (the carrier of S) )) by WAYBEL15:1;
(the carrier of UPSIf) = (the carrier of IUPS)
proof
thus (the carrier of UPSIf) c= (the carrier of IUPS)
proof
let x being set;
A2: ( dom ( UPS (( id S ),f) ) ) = (the carrier of ( UPS (S,T) )) by FUNCT_2:def 1;
assume x in (the carrier of UPSIf);
then reconsider h = x as  directed-sups-preserving (Function of S,If) by CKB36:def 1;
(the carrier of If) c= (the carrier of T) by YELLOW_0:def 13;
then A3: ( rng h ) c= (the carrier of T) by XBOOLE_1:1;
( dom h ) = (the carrier of S) by FUNCT_2:def 1;
then reconsider g = h as (Function of S,T) by A3,RELSET_1:4;
A4: g is  directed-sups-preserving
proof
let X being (Subset of S);
assume A5: X is non empty  directed;
thus g preserves_sup_of X
proof
reconsider hX = ( h .: X ) as non empty  directed (Subset of If) by A5,YELLOW_2:15;
assume A6:  ex_sup_of X,S;
h preserves_sup_of X by A5,WAYBEL_0:def 37;
then A7: ( sup hX ) = ( h . ( sup X ) ) by A6,WAYBEL_0:def 31;
thus A8:  ex_sup_of ( g .: X ),T by YELLOW_0:17;
If is  directed-sups-inheriting non empty  full  directed-sups-inheriting non empty  full (SubRelStr of T) by YELLOW_2:35;
hence thesis by A7,A8,WAYBEL_0:7;
end;

end;
then A9: g in (the carrier of ( UPS (S,T) )) by CKB36:def 1;
( ( UPS (( id S ),f) ) . g ) = ( ( f * g ) * ( id S ) ) by A4,CKB47:def 1
.= ( h * ( id S ) ) by CKB23:1
.= g by FUNCT_2:17;
then x in ( rng ( UPS (( id S ),f) ) ) by A9,A2,FUNCT_1:def 3;
hence thesis by YELLOW_0:def 15;
end;

let x being set;
A10: ( rng f ) = (the carrier of ( subrelstr ( rng f ) )) by YELLOW_0:def 15;
assume x in (the carrier of IUPS);
then x in ( rng ( UPS (( id S ),f) ) ) by YELLOW_0:def 15;
then consider a being set such that A11: a in ( dom ( UPS (( id S ),f) ) ) and A12: x = ( ( UPS (( id S ),f) ) . a ) by FUNCT_1:def 3;
reconsider a as  directed-sups-preserving (Function of S,T) by A11,CKB36:def 1;
A13: x = ( ( f * a ) * ( id S ) ) by A12,CKB47:def 1
.= ( f * a ) by FUNCT_2:17;
then reconsider x0 = x as  directed-sups-preserving (Function of S,T) by WAYBEL15:11;
A14: ( rng x0 ) c= (the carrier of T);
( dom x0 ) = (the carrier of S) by FUNCT_2:def 1;
then reconsider x1 = x0 as (Function of S,If) by A10,A13,A14,FUNCT_2:2,RELAT_1:26;
x1 is  directed-sups-preserving
proof
let X being (Subset of S);
assume A15: X is non empty  directed;
thus x1 preserves_sup_of X
proof
reconsider hX = ( x0 .: X ) as non empty  directed (Subset of T) by A15,YELLOW_2:15;
A16: If is  directed-sups-inheriting non empty  full  directed-sups-inheriting non empty  full (SubRelStr of T) by YELLOW_2:35;
reconsider gX = ( x1 .: X ) as non empty  directed (Subset of If) by CKB25:1,A15,YELLOW_2:15;
assume A17:  ex_sup_of X,S;
thus  ex_sup_of ( x1 .: X ),If by YELLOW_0:17;
A18: x0 preserves_sup_of X by A15,WAYBEL_0:def 37;
then  ex_sup_of ( x0 .: X ),T by A17,WAYBEL_0:def 31;
then ( sup gX ) = ( sup hX ) by A16,WAYBEL_0:7;
hence thesis by A17,A18,WAYBEL_0:def 31;
end;

end;
hence thesis by CKB36:def 1;
end;
hence thesis by YELLOW_0:57;
end;
