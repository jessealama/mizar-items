environ
vocabularies NUMBERS,ZF_LANG,XBOOLEAN,XXREAL_0,BVFUNC_2,CLASSES2,FUNCT_1,CARD_1,FINSEQ_1,ARYTM_3,TARSKI,XBOOLE_0,ZF_MODEL,SUBSET_1,REALSET1,RELAT_1,FUNCT_4,FINSET_1,NAT_1,ZFMISC_1,ORDINAL4,ZF_LANG1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,RELAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSET_1,ZF_LANG,ZF_MODEL,XXREAL_0,FUNCT_7,CKB72,CKB73,CKB74,CKB140,CKB158,CKB159;
definitions TARSKI,ZF_LANG,ZF_MODEL,XBOOLE_0,CKB72,CKB140,CKB159;
theorems TARSKI,ZFMISC_1,ENUMSET1,NAT_1,FINSEQ_1,FINSEQ_3,FUNCT_1,FUNCT_2,ZF_LANG,ZF_MODEL,ZFMODEL1,RELSET_1,XBOOLE_0,XBOOLE_1,XXREAL_0,ORDINAL1,FUNCT_7,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB72,CKB75,CKB76,CKB77,CKB78,CKB79,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB103,CKB104,CKB105,CKB106,CKB107,CKB108,CKB109,CKB110,CKB111,CKB112,CKB113,CKB114,CKB115,CKB116,CKB117,CKB118,CKB119,CKB120,CKB121,CKB122,CKB123,CKB124,CKB125,CKB126,CKB127,CKB128,CKB129,CKB130,CKB131,CKB132,CKB133,CKB134,CKB135,CKB136,CKB137,CKB138,CKB139,CKB140,CKB141,CKB142,CKB143,CKB144,CKB145,CKB146,CKB147,CKB148,CKB149,CKB150,CKB151,CKB152,CKB153,CKB154,CKB155,CKB156,CKB157,CKB159,CKB160,CKB161,CKB162,CKB163,CKB164,CKB165;
schemes PARTFUN1,ZF_LANG,CKB71;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,XXREAL_0,NAT_1,FINSEQ_1,ZF_LANG,CKB80;
constructors ENUMSET1,XXREAL_0,XREAL_0,NAT_1,ZF_MODEL,FUNCT_7,RELSET_1,CKB72,CKB74,CKB140,CKB158,CKB159;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve F for ZF-formula;
reserve H for ZF-formula;
reserve x for Variable;
reserve y for Variable;
reserve z for Variable;
reserve s for Variable;
reserve a for set;
reserve i for (Element of ( NAT ));
theorem
Lm2: ((F = ( H / (x,y) ) & ((z = s & s <> x) or (z = y & s = x))) implies ( All (z,F) ) = ( ( All (s,H) ) / (x,y) ))
proof
set N = ( ( All (s,H) ) / (x,y) );
A1: (( len <* 4 *> ) = 1 & ( 1 + 1 ) = 2) by FINSEQ_1:39;
( len <* s *> ) = 1 by FINSEQ_1:39;
then A2: ( len ( <* 4 *> ^ <* s *> ) ) = 2 by A1,FINSEQ_1:22;
then A3: ( dom ( <* 4 *> ^ <* s *> ) ) = { 1,2 } by FINSEQ_1:2,FINSEQ_1:def 3;
( len ( All (s,H) ) ) = ( 2 + ( len H ) ) by A2,FINSEQ_1:22;
then A4: ( dom ( All (s,H) ) ) = ( Seg ( 2 + ( len H ) ) ) by FINSEQ_1:def 3;
A5: (( <* 4 *> ^ <* z *> ) = <* 4,z *> & ( <* 4 *> ^ <* s *> ) = <* 4,s *>) by FINSEQ_1:def 9;
A6: ( dom N ) = ( dom ( All (s,H) ) ) by CKB159:def 1;
assume that
A7: F = ( H / (x,y) )
and
A8: ((z = s & s <> x) or (z = y & s = x));
A9: ( dom F ) = ( dom H ) by A7,CKB159:def 1;
( len <* z *> ) = 1 by FINSEQ_1:39;
then A10: ( len ( <* 4 *> ^ <* z *> ) ) = 2 by A1,FINSEQ_1:22;
then A11: ( dom ( <* 4 *> ^ <* z *> ) ) = { 1,2 } by FINSEQ_1:2,FINSEQ_1:def 3;
A12:now
let a;
assume A13: a in ( dom N );
then reconsider a1 = a as (Element of ( NAT )) by A6;
A14:now
A15: (x <> 4 & ( <* 4,z *> . 1 ) = 4) by CKB141:1,FINSEQ_1:44;
A16: (( <* 4,s *> . 1 ) = 4 & ( <* 4,z *> . 2 ) = z) by FINSEQ_1:44;
A17: ( <* 4,s *> . 2 ) = s by FINSEQ_1:44;
assume A18: a in { 1,2 };
then A19: (a = 1 or a = 2) by TARSKI:def 2;
(( ( All (z,F) ) . a1 ) = ( <* 4,z *> . a1 ) & ( ( All (s,H) ) . a1 ) = ( <* 4,s *> . a1 )) by A11,A3,A5,A18,FINSEQ_1:def 7;
hence ( ( All (z,F) ) . a ) = ( ( ( All (s,H) ) / (x,y) ) . a ) by A8,A6,A13,A19,A15,A16,A17,CKB159:def 1;
end;
now
A20: (( ( All (s,H) ) . a ) <> x implies ( ( ( All (s,H) ) / (x,y) ) . a ) = ( ( All (s,H) ) . a )) by A6,A13,CKB159:def 1;
given i being Nat such that
A21: i in ( dom H )
and
A22: a1 = ( 2 + i );

A23: (( ( All (z,F) ) . a ) = ( F . i ) & ( ( All (s,H) ) . a ) = ( H . i )) by A10,A2,A9,A21,A22,FINSEQ_1:def 7;
then A24: (( ( All (s,H) ) . a ) = x implies ( ( All (z,F) ) . a ) = y) by A7,A21,CKB159:def 1;
(( ( All (s,H) ) . a ) <> x implies ( ( All (z,F) ) . a ) = ( ( All (s,H) ) . a )) by A7,A21,A23,CKB159:def 1;
hence ( ( All (z,F) ) . a ) = ( ( ( All (s,H) ) / (x,y) ) . a ) by A6,A13,A24,A20,CKB159:def 1;
end;
hence ( ( All (z,F) ) . a ) = ( ( ( All (s,H) ) / (x,y) ) . a ) by A2,A3,A6,A13,A14,FINSEQ_1:25;
end;
( len ( All (z,F) ) ) = ( 2 + ( len F ) ) by A10,FINSEQ_1:22;
then ( dom ( All (z,F) ) ) = ( Seg ( 2 + ( len F ) ) ) by FINSEQ_1:def 3;
then ( dom ( All (s,H) ) ) = ( dom ( All (z,F) ) ) by A4,A9,FINSEQ_3:29;
hence thesis by A6,A12,FUNCT_1:2;
end;
