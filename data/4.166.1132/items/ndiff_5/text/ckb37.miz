environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,FUNCT_4,NAT_1,FDIFF_1,SUBSET_1,SEQ_4,RELAT_1,GLIB_000,LOPBAN_1,ORDINAL4,RFINSEQ,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,GROUP_2,FUNCOP_1,XREAL_0,ORDINAL1,MEMBERED,FINSEQ_5,XXREAL_2,XBOOLE_0,CARD_3,FINSEQ_1,FINSEQ_2,AFINSQ_1,RLVECT_1,SQUARE_1,RVSUM_1,XXREAL_1,PDIFF_1,PRVECT_1,PRVECT_2,ALGSTR_0,EUCLID,CFCONT_1,RFINSEQ2,NORMSP_0,NFCONT_1,MONOID_0,RLTOPSP1;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,FUNCT_4,CARD_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,MEMBERED,VALUED_0,COMPLEX1,NAT_D,BINOP_2,XXREAL_2,CARD_3,FINSEQ_1,VALUED_1,FINSEQ_2,SEQ_1,SEQ_2,RVSUM_1,RFINSEQ,SEQ_4,RCOMP_1,FCONT_1,FDIFF_1,FINSEQ_5,FINSEQ_7,RFINSEQ2,STRUCT_0,MONOID_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,VFUNCT_1,EUCLID,LOPBAN_1,PRVECT_1,NFCONT_1,NDIFF_1,PRVECT_2,NFCONT_3,NDIFF_3,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB23,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
definitions TARSKI,FUNCT_2,RLVECT_1,LOPBAN_1,EUCLID,RFINSEQ2,FINSEQ_1,FINSEQ_2,STRUCT_0,MONOID_0,ALGSTR_0,NORMSP_0,RCOMP_1,XCMPLX_0,PRVECT_2,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,FUNCT_3,FINSEQ_4,RLVECT_2,FINSEQ_3,ORDINAL1,FINSEQ_1,CARD_3,FUNCT_4,SEQ_4,NORMSP_1,LOPBAN_1,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,GRCAT_1,NORMSP_0,XREAL_0,RCOMP_1,FINSEQ_2,FINSEQ_7,RVSUM_1,SQUARE_1,PRVECT_1,PRVECT_2,PDIFF_7,EUCLID,TOPREAL7,XXREAL_2,FINSEQ_5,NAT_D,RFINSEQ2,INTEGRA5,FCONT_1,NAT_2,NFCONT_3,NDIFF_2,NDIFF_3,CARD_1,ROLLE,XXREAL_1,RLTOPSP1,FUNCT_7,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
schemes FUNCT_2,SEQ_1,FINSEQ_1,NAT_1,FINSEQ_2;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,NDIFF_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,PRVECT_2,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,NORMSP_1,RELAT_1,XXREAL_0,LOPBAN_1,LOPBAN_2,PRVECT_3,FUNCOP_1,NAT_1,FINSEQ_5,XXREAL_2,RCOMP_1,VALUED_1,FDIFF_1,NFCONT_3,FINSET_1,XCMPLX_0,PARTFUN1,CARD_1,MONOID_0,CKB10,CKB15,CKB16,CKB17;
constructors REAL_1,SQUARE_1,SEQ_2,FDIFF_1,NFCONT_1,RSSPACE,VFUNCT_1,NDIFF_1,SEQ_1,RELSET_1,FINSEQ_7,FINSEQ_5,RVSUM_1,BINOP_2,PRVECT_2,RLVECT_2,NAT_D,FINSEQOP,RFINSEQ,RFINSEQ2,SEQ_4,FCONT_1,NFCONT_3,NDIFF_3,MONOID_0,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
ZE:now
let G being RealLinearSpace-Sequence;
( len ( carr G ) ) = ( len G ) by PRVECT_2:def 4;
hence ( dom ( carr G ) ) = ( Seg ( len G ) ) by FINSEQ_1:def 3
.= ( dom G ) by FINSEQ_1:def 3;
end;
reserve G for  non-trivial RealNormSpace-Sequence;
reserve i for (Element of ( dom G ));
theorem
XTh5: (for xi being (Element of ( G . i )) holds ||. ( ( reproj (i,( 0. ( product G ) )) ) . xi ) .|| = ||. xi .||)
proof
let xi being (Element of ( G . i ));
set j = ( len G );
reconsider i0 = i as (Element of ( NAT ));
( Seg ( len G ) ) = ( dom G ) by FINSEQ_1:def 3;
then A1: (1 <= i0 & i0 <= j) by FINSEQ_1:1;
set z = ( 0. ( product G ) );
B3: ( ( reproj (i,z) ) . xi ) = ( z +* (i,xi) ) by CKB32:def 1;
ZZ: (the carrier of ( product G )) = ( product ( carr G ) ) by CKB12:1;
then reconsider w = ( z +* (i0,xi) ) as (Element of ( product ( carr G ) )) by CKB13:1;
B4: ||. ( ( reproj (i,z) ) . xi ) .|| = |. ( normsequence (G,w) ) .| by B3,PRVECT_2:7;
set q = ||. xi .||;
set q1 = <* q *>;
set y = ( 0* j );
C1: ( len ( normsequence (G,w) ) ) = j by PRVECT_2:def 11;
C2: ( len y ) = j by CARD_1:def 7;
then C4: ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) = ( Replace (y,i0,q) ) by A1,FINSEQ_7:def 1;
then C3: ( len ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) ) = ( len y ) by FINSEQ_7:5;
E2: ( len y ) = ( len ( Replace (y,i0,q) ) ) by FINSEQ_7:5;
(for k being Nat holds ((1 <= k & k <= ( len ( normsequence (G,w) ) )) implies ( ( normsequence (G,w) ) . k ) = ( ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) . k )))
proof
let k being Nat;
assume D0: (1 <= k & k <= ( len ( normsequence (G,w) ) ));
then reconsider k1 = k as (Element of ( dom G )) by C1,FINSEQ_3:25;
Y0: k1 in ( dom G );
z in (the carrier of ( product G ));
then z in ( product ( carr G ) ) by CKB12:1;
then consider g being Function such that Y1: ((z = g & ( dom g ) = ( dom ( carr G ) )) & (for y being set holds (y in ( dom ( carr G ) ) implies ( g . y ) in ( ( carr G ) . y )))) by CARD_3:def 5;
Z2: k in ( dom z ) by Y0,Y1,ZE;
F4: k in ( Seg ( len y ) ) by D0,C1,C2,FINSEQ_1:1;
D1: ( ( normsequence (G,w) ) . k ) = ( (the normF of ( G . k1 )) . ( w . k1 ) ) by PRVECT_2:def 11;
per cases ;
suppose D2: k = i0;

then D3: ( ( normsequence (G,w) ) . k ) = ||. xi .|| by D1,Z2,FUNCT_7:31;
( ( Replace (y,i0,q) ) /. k ) = q by D2,D0,C1,C2,FINSEQ_7:8;
hence ( ( normsequence (G,w) ) . k ) = ( ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) . k ) by D3,C4,D0,C1,C2,E2,FINSEQ_4:15;
end;
suppose F1: k <> i0;

then ( w . k1 ) = ( z . k1 ) by FUNCT_7:32;
then F2: ( ( normsequence (G,w) ) . k ) = ||. ( 0. ( G . k1 ) ) .|| by D1,CKB20:1,ZZ;
( ( Replace (y,i0,q) ) /. k ) = ( y /. k ) by F1,D0,C1,C2,FINSEQ_7:10;
then ( ( Replace (y,i0,q) ) . k ) = ( y /. k ) by D0,C1,C2,E2,FINSEQ_4:15;
then ( ( Replace (y,i0,q) ) . k ) = ( y . k ) by D0,C1,C2,FINSEQ_4:15;
hence ( ( normsequence (G,w) ) . k ) = ( ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) . k ) by F2,C4,C2,F4,FINSEQ_2:57;
end;
end;
then A4: ( normsequence (G,w) ) = ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) by C1,C2,C3,FINSEQ_1:14;
( sqrt ( Sum ( sqr ( y | ( i0 -' 1 ) ) ) ) ) = |. ( 0* ( i0 -' 1 ) ) .| by A1,PDIFF_7:2;
then ( sqrt ( Sum ( sqr ( y | ( i0 -' 1 ) ) ) ) ) = ( 0 ) by EUCLID:7;
then A5: ( Sum ( sqr ( y | ( i0 -' 1 ) ) ) ) = ( 0 ) by RVSUM_1:86,SQUARE_1:24;
( sqrt ( Sum ( sqr ( y /^ i0 ) ) ) ) = |. ( 0* ( j -' i0 ) ) .| by PDIFF_7:3;
then A6: ( sqrt ( Sum ( sqr ( y /^ i0 ) ) ) ) = ( 0 ) by EUCLID:7;
( sqr ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) ) = ( ( sqr ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ) ^ ( sqr ( y /^ i0 ) ) ) by TOPREAL7:10
.= ( ( ( sqr ( y | ( i0 -' 1 ) ) ) ^ ( sqr <* q *> ) ) ^ ( sqr ( y /^ i0 ) ) ) by TOPREAL7:10
.= ( ( ( sqr ( y | ( i0 -' 1 ) ) ) ^ <* ( q ^2 ) *> ) ^ ( sqr ( y /^ i0 ) ) ) by RVSUM_1:55;
then ( Sum ( sqr ( ( ( y | ( i0 -' 1 ) ) ^ <* q *> ) ^ ( y /^ i0 ) ) ) ) = ( ( Sum ( ( sqr ( y | ( i0 -' 1 ) ) ) ^ <* ( q ^2 ) *> ) ) + ( Sum ( sqr ( y /^ i0 ) ) ) ) by RVSUM_1:75
.= ( ( ( Sum ( sqr ( y | ( i0 -' 1 ) ) ) ) + ( q ^2 ) ) + ( Sum ( sqr ( y /^ i0 ) ) ) ) by RVSUM_1:74
.= ( q ^2 ) by A5,A6,RVSUM_1:86,SQUARE_1:24;
then ||. ( ( reproj (i,z) ) . xi ) .|| = |. q .| by A4,B4,COMPLEX1:72;
hence thesis by COMPLEX1:43;
end;
