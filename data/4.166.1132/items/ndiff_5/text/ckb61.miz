environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,FUNCT_4,NAT_1,FDIFF_1,SUBSET_1,SEQ_4,RELAT_1,GLIB_000,LOPBAN_1,ORDINAL4,RFINSEQ,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,GROUP_2,FUNCOP_1,XREAL_0,ORDINAL1,MEMBERED,FINSEQ_5,XXREAL_2,XBOOLE_0,CARD_3,FINSEQ_1,FINSEQ_2,AFINSQ_1,RLVECT_1,SQUARE_1,RVSUM_1,XXREAL_1,PDIFF_1,PRVECT_1,PRVECT_2,ALGSTR_0,EUCLID,CFCONT_1,RFINSEQ2,NORMSP_0,NFCONT_1,MONOID_0,RLTOPSP1;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,FUNCT_4,CARD_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,MEMBERED,VALUED_0,COMPLEX1,NAT_D,BINOP_2,XXREAL_2,CARD_3,FINSEQ_1,VALUED_1,FINSEQ_2,SEQ_1,SEQ_2,RVSUM_1,RFINSEQ,SEQ_4,RCOMP_1,FCONT_1,FDIFF_1,FINSEQ_5,FINSEQ_7,RFINSEQ2,STRUCT_0,MONOID_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,VFUNCT_1,EUCLID,LOPBAN_1,PRVECT_1,NFCONT_1,NDIFF_1,PRVECT_2,NFCONT_3,NDIFF_3,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB23,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB42;
definitions TARSKI,FUNCT_2,RLVECT_1,LOPBAN_1,EUCLID,RFINSEQ2,FINSEQ_1,FINSEQ_2,STRUCT_0,MONOID_0,ALGSTR_0,NORMSP_0,RCOMP_1,XCMPLX_0,PRVECT_2,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB42;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,FUNCT_3,FINSEQ_4,RLVECT_2,FINSEQ_3,ORDINAL1,FINSEQ_1,CARD_3,FUNCT_4,SEQ_4,NORMSP_1,LOPBAN_1,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,GRCAT_1,NORMSP_0,XREAL_0,RCOMP_1,FINSEQ_2,FINSEQ_7,RVSUM_1,SQUARE_1,PRVECT_1,PRVECT_2,PDIFF_7,EUCLID,TOPREAL7,XXREAL_2,FINSEQ_5,NAT_D,RFINSEQ2,INTEGRA5,FCONT_1,NAT_2,NFCONT_3,NDIFF_2,NDIFF_3,CARD_1,ROLLE,XXREAL_1,RLTOPSP1,FUNCT_7,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60;
schemes FUNCT_2,SEQ_1,FINSEQ_1,NAT_1,FINSEQ_2;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,NDIFF_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,PRVECT_2,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,NORMSP_1,RELAT_1,XXREAL_0,LOPBAN_1,LOPBAN_2,PRVECT_3,FUNCOP_1,NAT_1,FINSEQ_5,XXREAL_2,RCOMP_1,VALUED_1,FDIFF_1,NFCONT_3,FINSET_1,XCMPLX_0,PARTFUN1,CARD_1,MONOID_0,CKB10,CKB15,CKB16,CKB17,CKB49;
constructors REAL_1,SQUARE_1,SEQ_2,FDIFF_1,NFCONT_1,RSSPACE,VFUNCT_1,NDIFF_1,SEQ_1,RELSET_1,FINSEQ_7,FINSEQ_5,RVSUM_1,BINOP_2,PRVECT_2,RLVECT_2,NAT_D,FINSEQOP,RFINSEQ,RFINSEQ2,SEQ_4,FCONT_1,NFCONT_3,NDIFF_3,MONOID_0,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB42;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve j for set;
reserve S for non  trivial RealNormSpace;
reserve T for non  trivial RealNormSpace;
reserve g for (PartFunc of S,T);
reserve F for non  trivial RealNormSpace;
theorem
Th26a: (for S being RealNormSpace holds (for h,g being (FinSequence of S) holds ((( len h ) = ( ( len g ) + 1 ) & (for i being Nat holds (i in ( dom g ) implies ( g /. i ) = ( ( h /. i ) - ( h /. ( i + 1 ) ) )))) implies ( ( h /. 1 ) - ( h /. ( len h ) ) ) = ( Sum g ))))
proof
let S being RealNormSpace;
let h being (FinSequence of S);
let g being (FinSequence of S);
assume that
A1: ( len h ) = ( ( len g ) + 1 )
and
A2: (for i being Nat holds (i in ( dom g ) implies ( g /. i ) = ( ( h /. i ) - ( h /. ( i + 1 ) ) )));
consider F being (Function of ( NAT ),(the carrier of S)) such that ADF1: ((( Sum g ) = ( F . ( len g ) ) & ( F . ( 0 ) ) = ( 0. S )) & (for j being (Element of ( NAT )) holds (for v being (Element of S) holds ((j < ( len g ) & v = ( g . ( j + 1 ) )) implies ( F . ( j + 1 ) ) = ( ( F . j ) + v ))))) by RLVECT_1:def 12;
per cases ;
suppose ( len g ) = ( 0 );

hence thesis by ADF1,A1,RLVECT_1:15;
end;
suppose A4: ( len g ) > ( 0 );

defpred P[ Nat ]
 means
($1 <= ( len g ) implies ( F . $1 ) = ( ( h /. 1 ) - ( h /. ( $1 + 1 ) ) ));
A6: P[ 1 ]
proof
assume A60: 1 <= ( len g );
then 1 in ( Seg ( len g ) );
then A7: 1 in ( dom g ) by FINSEQ_1:def 3;
reconsider zz0 = ( 0 ) as (Element of ( NAT ));
( g /. 1 ) = ( g . ( zz0 + 1 ) ) by A7,PARTFUN1:def 6;
then ( F . ( zz0 + 1 ) ) = ( ( F . ( 0 ) ) + ( g /. 1 ) ) by ADF1,A60
.= ( g /. 1 ) by ADF1,RLVECT_1:4;
hence ( F . 1 ) = ( ( h /. 1 ) - ( h /. ( 1 + 1 ) ) ) by A7,A2;
end;
A8: (for j being Nat holds (1 <= j implies (P[ j ] implies P[ ( j + 1 ) ])))
proof
let j being Nat;
assume 1 <= j;
assume A10: P[ j ];
assume A11: ( j + 1 ) <= ( len g );
then A12: j < ( len g ) by NAT_1:13;
1 <= ( j + 1 ) by XREAL_1:38;
then A13: ( j + 1 ) in ( dom g ) by A11,FINSEQ_3:25;
then A14: ( g . ( j + 1 ) ) = ( g /. ( j + 1 ) ) by PARTFUN1:def 6;
j is (Element of ( NAT )) by ORDINAL1:def 12;
then ( F . ( j + 1 ) ) = ( ( F . j ) + ( g /. ( j + 1 ) ) ) by A14,A12,ADF1
.= ( ( F . j ) + ( ( h /. ( j + 1 ) ) - ( h /. ( ( j + 1 ) + 1 ) ) ) ) by A2,A13
.= ( ( ( ( h /. 1 ) - ( h /. ( j + 1 ) ) ) + ( h /. ( j + 1 ) ) ) - ( h /. ( ( j + 1 ) + 1 ) ) ) by A10,A11,NAT_1:13,RLVECT_1:28
.= ( ( ( h /. 1 ) - ( ( h /. ( j + 1 ) ) - ( h /. ( j + 1 ) ) ) ) - ( h /. ( ( j + 1 ) + 1 ) ) ) by RLVECT_1:29
.= ( ( ( h /. 1 ) - ( 0. S ) ) - ( h /. ( ( j + 1 ) + 1 ) ) ) by RLVECT_1:15;
hence thesis by RLVECT_1:13;
end;
A16: 1 <= ( len g ) by A4,NAT_1:14;
(for i being Nat holds (1 <= i implies P[ i ])) from NAT_1:sch 8(A6,A8);
hence thesis by ADF1,A1,A16;
end;
end;
