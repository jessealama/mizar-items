environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,FUNCT_4,NAT_1,FDIFF_1,SUBSET_1,SEQ_4,RELAT_1,GLIB_000,LOPBAN_1,ORDINAL4,RFINSEQ,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,GROUP_2,FUNCOP_1,XREAL_0,ORDINAL1,MEMBERED,FINSEQ_5,XXREAL_2,XBOOLE_0,CARD_3,FINSEQ_1,FINSEQ_2,AFINSQ_1,RLVECT_1,SQUARE_1,RVSUM_1,XXREAL_1,PDIFF_1,PRVECT_1,PRVECT_2,ALGSTR_0,EUCLID,CFCONT_1,RFINSEQ2,NORMSP_0,NFCONT_1,MONOID_0,RLTOPSP1;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,FUNCT_4,CARD_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,MEMBERED,VALUED_0,COMPLEX1,NAT_D,BINOP_2,XXREAL_2,CARD_3,FINSEQ_1,VALUED_1,FINSEQ_2,SEQ_1,SEQ_2,RVSUM_1,RFINSEQ,SEQ_4,RCOMP_1,FCONT_1,FDIFF_1,FINSEQ_5,FINSEQ_7,RFINSEQ2,STRUCT_0,MONOID_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,VFUNCT_1,EUCLID,LOPBAN_1,PRVECT_1,NFCONT_1,NDIFF_1,PRVECT_2,NFCONT_3,NDIFF_3,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB23,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB42;
definitions TARSKI,FUNCT_2,RLVECT_1,LOPBAN_1,EUCLID,RFINSEQ2,FINSEQ_1,FINSEQ_2,STRUCT_0,MONOID_0,ALGSTR_0,NORMSP_0,RCOMP_1,XCMPLX_0,PRVECT_2,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB42;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,FUNCT_3,FINSEQ_4,RLVECT_2,FINSEQ_3,ORDINAL1,FINSEQ_1,CARD_3,FUNCT_4,SEQ_4,NORMSP_1,LOPBAN_1,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,GRCAT_1,NORMSP_0,XREAL_0,RCOMP_1,FINSEQ_2,FINSEQ_7,RVSUM_1,SQUARE_1,PRVECT_1,PRVECT_2,PDIFF_7,EUCLID,TOPREAL7,XXREAL_2,FINSEQ_5,NAT_D,RFINSEQ2,INTEGRA5,FCONT_1,NAT_2,NFCONT_3,NDIFF_2,NDIFF_3,CARD_1,ROLLE,XXREAL_1,RLTOPSP1,FUNCT_7,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75;
schemes FUNCT_2,SEQ_1,FINSEQ_1,NAT_1,FINSEQ_2;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,NDIFF_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,PRVECT_2,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,NORMSP_1,RELAT_1,XXREAL_0,LOPBAN_1,LOPBAN_2,PRVECT_3,FUNCOP_1,NAT_1,FINSEQ_5,XXREAL_2,RCOMP_1,VALUED_1,FDIFF_1,NFCONT_3,FINSET_1,XCMPLX_0,PARTFUN1,CARD_1,MONOID_0,CKB10,CKB15,CKB16,CKB17,CKB49;
constructors REAL_1,SQUARE_1,SEQ_2,FDIFF_1,NFCONT_1,RSSPACE,VFUNCT_1,NDIFF_1,SEQ_1,RELSET_1,FINSEQ_7,FINSEQ_5,RVSUM_1,BINOP_2,PRVECT_2,RLVECT_2,NAT_D,FINSEQOP,RFINSEQ,RFINSEQ2,SEQ_4,FCONT_1,NFCONT_3,NDIFF_3,MONOID_0,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB42;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve r for Real;
reserve S for non  trivial RealNormSpace;
reserve G for  non-trivial RealNormSpace-Sequence;
reserve F for non  trivial RealNormSpace;
reserve i for (Element of ( dom G ));
reserve f for (PartFunc of ( product G ),F);
reserve x for (Point of ( product G ));
reserve X for set;
theorem
(for G being  non-trivial RealNormSpace-Sequence holds (for F being non  trivial RealNormSpace holds (for f being (PartFunc of ( product G ),F) holds (for X being (Subset of ( product G )) holds (X is  open implies ((for i being set holds (i in ( dom G ) implies (f is_partial_differentiable_on X,i & ( f `partial| (X,i) ) is_continuous_on X))) iff (f is_differentiable_on X & ( f `| X ) is_continuous_on X)))))))
proof
let G being  non-trivial RealNormSpace-Sequence;
let F being non  trivial RealNormSpace;
let f being (PartFunc of ( product G ),F);
let X being (Subset of ( product G ));
assume A1: X is  open;
set m = ( len G );
CG2: ( dom G ) = ( Seg m ) by FINSEQ_1:def 3;
hereby
assume A2: (for i being set holds (i in ( dom G ) implies (f is_partial_differentiable_on X,i & ( f `partial| (X,i) ) is_continuous_on X)));
A3:now
let i being (Element of ( NAT ));
assume (1 <= i & i <= m);
then i in ( Seg m );
then ( f `partial| (X,i) ) is_continuous_on X by A2,CG2;
hence (X c= ( dom ( f `partial| (X,i) ) ) & (for y0 being (Point of ( product G )) holds (for r being Real holds ((y0 in X & ( 0 ) < r) implies (ex s being Real st (( 0 ) < s & (for y1 being (Point of ( product G )) holds ((y1 in X & ||. ( y1 - y0 ) .|| < s) implies ||. ( ( ( f `partial| (X,i) ) /. y1 ) - ( ( f `partial| (X,i) ) /. y0 ) ) .|| < r)))))))) by NFCONT_1:19;
end;
V1: 1 <= m by NAT_1:14;
then m in ( dom G ) by CG2;
then f is_partial_differentiable_on X,m by A2;
then A4: X c= ( dom f ) by CKB36:def 1;
(for x being (Point of ( product G )) holds (x in X implies f is_differentiable_in x)) by A1,A2,CKB75:1;
hence A5: f is_differentiable_on X by A1,A4,NDIFF_1:31;
then A6: ( dom ( f `| X ) ) = X by NDIFF_1:def 9;
(for y0 being (Point of ( product G )) holds (for r being Real holds ((y0 in X & ( 0 ) < r) implies (ex s being Real st (( 0 ) < s & (for y1 being (Point of ( product G )) holds ((y1 in X & ||. ( y1 - y0 ) .|| < s) implies ||. ( ( ( f `| X ) /. y1 ) - ( ( f `| X ) /. y0 ) ) .|| < r)))))))
proof
let y0 being (Point of ( product G ));
let r being Real;
assume A7: (y0 in X & ( 0 ) < r);
defpred P[ Nat,Real ]
 means
(for i being (Element of ( NAT )) holds (i = $1 implies (( 0 ) < $2 & (for y1 being (Point of ( product G )) holds ((y1 in X & ||. ( y1 - y0 ) .|| < $2) implies ||. ( ( ( f `partial| (X,i) ) /. y1 ) - ( ( f `partial| (X,i) ) /. y0 ) ) .|| < ( r / ( 2 * m ) ))))));
A8:now
let i being Nat;
reconsider j = i as (Element of ( NAT )) by ORDINAL1:def 12;
assume i in ( Seg m );
then (1 <= j & j <= m) by FINSEQ_1:1;
then consider s being Real such that A9: (( 0 ) < s & (for y1 being (Point of ( product G )) holds ((y1 in X & ||. ( y1 - y0 ) .|| < s) implies ||. ( ( ( f `partial| (X,j) ) /. y1 ) - ( ( f `partial| (X,j) ) /. y0 ) ) .|| < ( r / ( 2 * m ) )))) by A7,A3;
reconsider s as (Element of ( REAL ));
take s;
thus P[ i,s ] by A9;
end;
consider S being (FinSequence of ( REAL )) such that A10: (( dom S ) = ( Seg m ) & (for i being Nat holds (i in ( Seg m ) implies P[ i,( S . i ) ]))) from FINSEQ_1:sch 5(A8);
take s = ( min S );
A11: ( len S ) = m by A10,FINSEQ_1:def 3;
then ( min_p S ) in ( dom S ) by RFINSEQ2:def 2;
hence s > ( 0 ) by A10;
let y1 being (Point of ( product G ));
assume A12: (y1 in X & ||. ( y1 - y0 ) .|| < s);
reconsider DD = ( ( diff (f,y1) ) - ( diff (f,y0) ) ) as  bounded (LinearOperator of ( product G ),F) by LOPBAN_1:def 9;
A13: ( upper_bound ( PreNorms DD ) ) = ||. ( ( diff (f,y1) ) - ( diff (f,y0) ) ) .|| by LOPBAN_1:30;
now
let mt being  real number;
assume mt in ( PreNorms DD );
then consider t being (VECTOR of ( product G )) such that A14: (mt = ||. ( DD . t ) .|| & ||. t .|| <= 1);
consider w0 being (FinSequence of F) such that A15: ((( dom w0 ) = ( dom G ) & (for i being set holds (i in ( dom G ) implies ( w0 . i ) = ( ( partdiff (f,y0,i) ) . ( ( proj ( modetrans (G,i) ) ) . t ) )))) & ( ( diff (f,y0) ) . t ) = ( Sum w0 )) by A1,A2,CKB75:1,A7;
reconsider Sw0 = ( Sum w0 ) as (Point of F);
consider w1 being (FinSequence of F) such that A16: ((( dom w1 ) = ( dom G ) & (for i being set holds (i in ( dom G ) implies ( w1 . i ) = ( ( partdiff (f,y1,i) ) . ( ( proj ( modetrans (G,i) ) ) . t ) )))) & ( ( diff (f,y1) ) . t ) = ( Sum w1 )) by A1,A2,CKB75:1,A12;
reconsider Sw1 = ( Sum w1 ) as (Point of F);
deffunc F(set) = ( ( w1 /. $1 ) - ( w0 /. $1 ) );
consider w2 being (FinSequence of F) such that A17: (( len w2 ) = m & (for i being Nat holds (i in ( dom w2 ) implies ( w2 . i ) = F(i)))) from FINSEQ_2:sch 1;
A18: (( len w1 ) = m & ( len w0 ) = m) by CG2,A15,A16,FINSEQ_1:def 3;
now
let i being (Element of ( NAT ));
assume i in ( dom w1 );
then i in ( dom w2 ) by A17,CG2,A16,FINSEQ_1:def 3;
hence ( w2 . i ) = F(i) by A17;
end;
then ( Sum w2 ) = ( ( Sum w1 ) - ( Sum w0 ) ) by A17,A18,RLVECT_2:5;
then A21: mt = ||. ( Sum w2 ) .|| by A14,A16,A15,LOPBAN_1:40;
deffunc F(Nat) = ||. ( w2 /. $1 ) .||;
consider ys being (FinSequence of ( REAL )) such that A22: (( len ys ) = m & (for j being Nat holds (j in ( dom ys ) implies ( ys . j ) = F(j)))) from FINSEQ_2:sch 1;
A23:now
let i being (Element of ( NAT ));
assume i in ( dom w2 );
then i in ( Seg m ) by A17,FINSEQ_1:def 3;
then i in ( dom ys ) by A22,FINSEQ_1:def 3;
hence ( ys . i ) = ||. ( w2 /. i ) .|| by A22;
end;
then A25: ||. ( Sum w2 ) .|| <= ( Sum ys ) by A17,A22,CKB7:1;
reconsider rm = ( r / ( 2 * m ) ) as (Element of ( REAL ));
deffunc F(Nat) = rm;
consider rs being (FinSequence of ( REAL )) such that A26: (( len rs ) = m & (for j being Nat holds (j in ( dom rs ) implies ( rs . j ) = F(j)))) from FINSEQ_2:sch 1;
A27: ( dom rs ) = ( Seg m ) by A26,FINSEQ_1:def 3;
now
let a being set;
assume a in ( rng rs );
then consider b being set such that A28: (b in ( dom rs ) & a = ( rs . b )) by FUNCT_1:def 3;
reconsider b as Nat by A28;
( rs . b ) = rm by A28,A26;
hence a in { rm } by A28,TARSKI:def 1;
end;
then A270: ( rng rs ) c= { rm } by TARSKI:def 3;
now
let a being set;
assume a in { rm };
then A29: a = rm by TARSKI:def 1;
A30: 1 in ( dom rs ) by V1,A27;
then a = ( rs . 1 ) by A29,A26;
hence a in ( rng rs ) by A30,FUNCT_1:3;
end;
then { rm } c= ( rng rs ) by TARSKI:def 3;
then { rm } = ( rng rs ) by A270,XBOOLE_0:def 10;
then rs = ( m |-> ( r / ( 2 * m ) ) ) by A27,FUNCOP_1:9;
then ( Sum rs ) = ( m * ( r / ( 2 * m ) ) ) by RVSUM_1:80
.= ( m * ( ( r / 2 ) / m ) ) by XCMPLX_1:78;
then A31: ( Sum rs ) = ( r / 2 ) by XCMPLX_1:87;
now
let i being (Element of ( NAT ));
assume i in ( dom ys );
then A32: i in ( Seg m ) by A22,FINSEQ_1:def 3;
then A33: ((i in ( dom w2 ) & i in ( dom w1 )) & i in ( dom w0 )) by A15,A16,A17,FINSEQ_1:def 3;
then A34: (( ys . i ) = ||. ( w2 /. i ) .|| & ( w2 /. i ) = ( w2 . i )) by A23,PARTFUN1:def 6;
A35: i in ( dom rs ) by A26,A32,FINSEQ_1:def 3;
reconsider p1 = ( partdiff (f,y1,i) ),p0 = ( partdiff (f,y0,i) ) as  bounded (LinearOperator of ( G . ( modetrans (G,i) ) ),F) by LOPBAN_1:def 9;
reconsider P1 = ( p1 . ( ( proj ( modetrans (G,i) ) ) . t ) ) as (VECTOR of F);
reconsider P0 = ( p0 . ( ( proj ( modetrans (G,i) ) ) . t ) ) as (VECTOR of F);
(( w0 /. i ) = ( w0 . i ) & ( w1 /. i ) = ( w1 . i )) by A33,PARTFUN1:def 6;
then (( w0 /. i ) = P0 & ( w1 /. i ) = P1) by CG2,A15,A16,A32;
then A40: ( w2 . i ) = ( P1 - P0 ) by A33,A17;
(1 <= i & i <= ( len S )) by A11,A32,FINSEQ_1:1;
then A41: (s <= ( S . i ) & f is_partial_differentiable_on X,i) by CG2,A32,A2,RFINSEQ2:2;
then ||. ( y1 - y0 ) .|| < ( S . i ) by A12,XXREAL_0:2;
then ||. ( ( ( f `partial| (X,i) ) /. y1 ) - ( ( f `partial| (X,i) ) /. y0 ) ) .|| < ( r / ( 2 * m ) ) by A10,A32,A12;
then ||. ( ( partdiff (f,y1,i) ) - ( ( f `partial| (X,i) ) /. y0 ) ) .|| < ( r / ( 2 * m ) ) by CKB42:def 1,A12,A41,CG2,A32;
then A42: ||. ( ( partdiff (f,y1,i) ) - ( partdiff (f,y0,i) ) ) .|| < ( r / ( 2 * m ) ) by CKB42:def 1,A7,A41,CG2,A32;
reconsider PP = ( ( partdiff (f,y1,i) ) - ( partdiff (f,y0,i) ) ) as  bounded (LinearOperator of ( G . ( modetrans (G,i) ) ),F) by LOPBAN_1:def 9;
A43: ( upper_bound ( PreNorms PP ) ) = ||. ( ( partdiff (f,y1,i) ) - ( partdiff (f,y0,i) ) ) .|| by LOPBAN_1:30;
reconsider pt = ( ( proj ( modetrans (G,i) ) ) . t ) as (VECTOR of ( G . ( modetrans (G,i) ) ));
A44: ( PP . pt ) = ( P1 - P0 ) by LOPBAN_1:40;
||. pt .|| <= ||. t .|| by CKB48:1;
then ||. pt .|| <= 1 by A14,XXREAL_0:2;
then (||. ( PP . pt ) .|| in ( PreNorms PP ) & ( PreNorms PP ) is non  empty  bounded_above) by LOPBAN_1:27;
then ||. ( PP . pt ) .|| <= ( upper_bound ( PreNorms PP ) ) by SEQ_4:def 1;
then ||. ( P1 - P0 ) .|| <= ( r / ( 2 * m ) ) by A44,A42,A43,XXREAL_0:2;
hence ( ys . i ) <= ( rs . i ) by A34,A26,A35,A40;
end;
then ( Sum ys ) <= ( r / 2 ) by A31,A26,A22,INTEGRA5:3;
hence mt <= ( r / 2 ) by A21,A25,XXREAL_0:2;
end;
then (||. ( ( diff (f,y1) ) - ( diff (f,y0) ) ) .|| <= ( r / 2 ) & ( r / 2 ) < r) by A13,A7,SEQ_4:45,XREAL_1:216;
then ||. ( ( diff (f,y1) ) - ( diff (f,y0) ) ) .|| < r by XXREAL_0:2;
then ||. ( ( diff (f,y1) ) - ( ( f `| X ) /. y0 ) ) .|| < r by A5,A7,NDIFF_1:def 9;
hence ||. ( ( ( f `| X ) /. y1 ) - ( ( f `| X ) /. y0 ) ) .|| < r by A5,A12,NDIFF_1:def 9;
end;
hence ( f `| X ) is_continuous_on X by A6,NFCONT_1:19;
end;
assume A52: (f is_differentiable_on X & ( f `| X ) is_continuous_on X);
then A53: (X c= ( dom f ) & (for x being (Point of ( product G )) holds (x in X implies f is_differentiable_in x))) by A1,NDIFF_1:31;
thus (for i being set holds (i in ( dom G ) implies (f is_partial_differentiable_on X,i & ( f `partial| (X,i) ) is_continuous_on X)))
proof
let i being set;
assume A540: i in ( dom G );
then reconsider i0 = i as (Element of ( NAT ));
now
let x being (Point of ( product G ));
assume x in X;
then f is_differentiable_in x by A52,A1,NDIFF_1:31;
hence (f is_partial_differentiable_in x,i & ( partdiff (f,x,i) ) = ( ( diff (f,x) ) * ( reproj (( modetrans (G,i) ),( 0. ( product G ) )) ) )) by CKB59:1;
end;
then (for x being (Point of ( product G )) holds (x in X implies f is_partial_differentiable_in x,i));
hence A55: f is_partial_differentiable_on X,i by A1,CKB50:1,A53;
then A56: ( dom ( f `partial| (X,i) ) ) = X by CKB42:def 1,A540;
(for y0 being (Point of ( product G )) holds (for r being Real holds ((y0 in X & ( 0 ) < r) implies (ex s being Real st (( 0 ) < s & (for y1 being (Point of ( product G )) holds ((y1 in X & ||. ( y1 - y0 ) .|| < s) implies ||. ( ( ( f `partial| (X,i) ) /. y1 ) - ( ( f `partial| (X,i) ) /. y0 ) ) .|| < r)))))))
proof
let y0 being (Point of ( product G ));
let r being Real;
assume A57: (y0 in X & ( 0 ) < r);
then consider s being Real such that A58: (( 0 ) < s & (for y1 being (Point of ( product G )) holds ((y1 in X & ||. ( y1 - y0 ) .|| < s) implies ||. ( ( ( f `| X ) /. y1 ) - ( ( f `| X ) /. y0 ) ) .|| < r))) by A52,NFCONT_1:19;
take s;
thus ( 0 ) < s by A58;
let y1 being (Point of ( product G ));
assume A59: (y1 in X & ||. ( y1 - y0 ) .|| < s);
then ||. ( ( ( f `| X ) /. y1 ) - ( ( f `| X ) /. y0 ) ) .|| < r by A58;
then ||. ( ( diff (f,y1) ) - ( ( f `| X ) /. y0 ) ) .|| < r by A59,A52,NDIFF_1:def 9;
then A60: ||. ( ( diff (f,y1) ) - ( diff (f,y0) ) ) .|| < r by A57,A52,NDIFF_1:def 9;
(f is_differentiable_in y1 & f is_differentiable_in y0) by A52,A1,A59,A57,NDIFF_1:31;
then A61: (( partdiff (f,y1,i) ) = ( ( diff (f,y1) ) * ( reproj (( modetrans (G,i) ),( 0. ( product G ) )) ) ) & ( partdiff (f,y0,i) ) = ( ( diff (f,y0) ) * ( reproj (( modetrans (G,i) ),( 0. ( product G ) )) ) )) by CKB59:1;
reconsider PP = ( ( partdiff (f,y1,i) ) - ( partdiff (f,y0,i) ) ) as  bounded (LinearOperator of ( G . ( modetrans (G,i) ) ),F) by LOPBAN_1:def 9;
reconsider DD = ( ( diff (f,y1) ) - ( diff (f,y0) ) ) as  bounded (LinearOperator of ( product G ),F) by LOPBAN_1:def 9;
A62: (( upper_bound ( PreNorms PP ) ) = ||. ( ( partdiff (f,y1,i) ) - ( partdiff (f,y0,i) ) ) .|| & ( upper_bound ( PreNorms DD ) ) = ||. ( ( diff (f,y1) ) - ( diff (f,y0) ) ) .||) by LOPBAN_1:30;
A64: (( PreNorms PP ) is  bounded_above & ( PreNorms DD ) is  bounded_above) by LOPBAN_1:28;
now
let a being set;
assume a in ( PreNorms PP );
then consider t being (VECTOR of ( G . ( modetrans (G,i) ) )) such that A65: (a = ||. ( PP . t ) .|| & ||. t .|| <= 1);
A66: ( dom ( reproj (( modetrans (G,i) ),( 0. ( product G ) )) ) ) = (the carrier of ( G . ( modetrans (G,i) ) )) by FUNCT_2:def 1;
reconsider tm = ( ( reproj (( modetrans (G,i) ),( 0. ( product G ) )) ) . t ) as (Point of ( product G ));
A67: ||. tm .|| <= 1 by A65,CKB37:1;
(( ( partdiff (f,y1,i) ) . t ) = ( ( diff (f,y1) ) . tm ) & ( ( partdiff (f,y0,i) ) . t ) = ( ( diff (f,y0) ) . tm )) by A66,A61,FUNCT_1:13;
then ||. ( PP . t ) .|| = ||. ( ( ( diff (f,y1) ) . tm ) - ( ( diff (f,y0) ) . tm ) ) .|| by LOPBAN_1:40;
then ||. ( PP . t ) .|| = ||. ( DD . tm ) .|| by LOPBAN_1:40;
hence a in ( PreNorms DD ) by A65,A67;
end;
then ( PreNorms PP ) c= ( PreNorms DD ) by TARSKI:def 3;
then ||. ( ( partdiff (f,y1,i) ) - ( partdiff (f,y0,i) ) ) .|| <= ||. ( ( diff (f,y1) ) - ( diff (f,y0) ) ) .|| by A64,A62,SEQ_4:48;
then ||. ( ( partdiff (f,y1,i) ) - ( partdiff (f,y0,i) ) ) .|| < r by A60,XXREAL_0:2;
then ||. ( ( partdiff (f,y1,i) ) - ( ( f `partial| (X,i) ) /. y0 ) ) .|| < r by CKB42:def 1,A57,A55,A540;
hence ||. ( ( ( f `partial| (X,i) ) /. y1 ) - ( ( f `partial| (X,i) ) /. y0 ) ) .|| < r by CKB42:def 1,A59,A55,A540;
end;
hence ( f `partial| (X,i) ) is_continuous_on X by A56,NFCONT_1:19;
end;

end;
