environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,FUNCT_4,NAT_1,FDIFF_1,SUBSET_1,SEQ_4,RELAT_1,GLIB_000,LOPBAN_1,ORDINAL4,RFINSEQ,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,GROUP_2,FUNCOP_1,XREAL_0,ORDINAL1,MEMBERED,FINSEQ_5,XXREAL_2,XBOOLE_0,CARD_3,FINSEQ_1,FINSEQ_2,AFINSQ_1,RLVECT_1,SQUARE_1,RVSUM_1,XXREAL_1,PDIFF_1,PRVECT_1,PRVECT_2,ALGSTR_0,EUCLID,CFCONT_1,RFINSEQ2,NORMSP_0,NFCONT_1,MONOID_0,RLTOPSP1;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,FUNCT_4,CARD_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,MEMBERED,VALUED_0,COMPLEX1,NAT_D,BINOP_2,XXREAL_2,CARD_3,FINSEQ_1,VALUED_1,FINSEQ_2,SEQ_1,SEQ_2,RVSUM_1,RFINSEQ,SEQ_4,RCOMP_1,FCONT_1,FDIFF_1,FINSEQ_5,FINSEQ_7,RFINSEQ2,STRUCT_0,MONOID_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,VFUNCT_1,EUCLID,LOPBAN_1,PRVECT_1,NFCONT_1,NDIFF_1,PRVECT_2,NFCONT_3,NDIFF_3,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB23,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
definitions TARSKI,FUNCT_2,RLVECT_1,LOPBAN_1,EUCLID,RFINSEQ2,FINSEQ_1,FINSEQ_2,STRUCT_0,MONOID_0,ALGSTR_0,NORMSP_0,RCOMP_1,XCMPLX_0,PRVECT_2,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,FUNCT_3,FINSEQ_4,RLVECT_2,FINSEQ_3,ORDINAL1,FINSEQ_1,CARD_3,FUNCT_4,SEQ_4,NORMSP_1,LOPBAN_1,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,GRCAT_1,NORMSP_0,XREAL_0,RCOMP_1,FINSEQ_2,FINSEQ_7,RVSUM_1,SQUARE_1,PRVECT_1,PRVECT_2,PDIFF_7,EUCLID,TOPREAL7,XXREAL_2,FINSEQ_5,NAT_D,RFINSEQ2,INTEGRA5,FCONT_1,NAT_2,NFCONT_3,NDIFF_2,NDIFF_3,CARD_1,ROLLE,XXREAL_1,RLTOPSP1,FUNCT_7,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37;
schemes FUNCT_2,SEQ_1,FINSEQ_1,NAT_1,FINSEQ_2;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,NDIFF_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,PRVECT_2,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,NORMSP_1,RELAT_1,XXREAL_0,LOPBAN_1,LOPBAN_2,PRVECT_3,FUNCOP_1,NAT_1,FINSEQ_5,XXREAL_2,RCOMP_1,VALUED_1,FDIFF_1,NFCONT_3,FINSET_1,XCMPLX_0,PARTFUN1,CARD_1,MONOID_0,CKB10,CKB15,CKB16,CKB17;
constructors REAL_1,SQUARE_1,SEQ_2,FDIFF_1,NFCONT_1,RSSPACE,VFUNCT_1,NDIFF_1,SEQ_1,RELSET_1,FINSEQ_7,FINSEQ_5,RVSUM_1,BINOP_2,PRVECT_2,RLVECT_2,NAT_D,FINSEQOP,RFINSEQ,RFINSEQ2,SEQ_4,FCONT_1,NFCONT_3,NDIFF_3,MONOID_0,RLTOPSP1,FUNCT_7,CKB11,CKB14,CKB22,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve r for Real;
ZE:now
let G being RealLinearSpace-Sequence;
( len ( carr G ) ) = ( len G ) by PRVECT_2:def 4;
hence ( dom ( carr G ) ) = ( Seg ( len G ) ) by FINSEQ_1:def 3
.= ( dom G ) by FINSEQ_1:def 3;
end;
reserve G for  non-trivial RealNormSpace-Sequence;
reserve i for (Element of ( dom G ));
reserve x for (Point of ( product G ));
theorem
XTh6: (for G being  non-trivial RealNormSpace-Sequence holds (for i being (Element of ( dom G )) holds (for x being (Point of ( product G )) holds (for r being (Point of ( G . i )) holds (( ( ( reproj (i,x) ) . r ) - x ) = ( ( reproj (i,( 0. ( product G ) )) ) . ( r - ( ( proj i ) . x ) ) ) & ( x - ( ( reproj (i,x) ) . r ) ) = ( ( reproj (i,( 0. ( product G ) )) ) . ( ( ( proj i ) . x ) - r ) ))))))
proof
let G being  non-trivial RealNormSpace-Sequence;
let i being (Element of ( dom G ));
let x being (Point of ( product G ));
let r being (Point of ( G . i ));
set m = ( len G );
reconsider xf = x as (Element of ( product ( carr G ) )) by CKB12:1;
X3: ( dom ( carr G ) ) = ( dom G ) by ZE;
reconsider Zr = ( 0. ( product G ) ) as (Element of ( product ( carr G ) )) by CKB12:1;
reconsider ixr = ( ( reproj (i,x) ) . r ) as (Element of ( product ( carr G ) )) by CKB12:1;
reconsider p = ( ( ( reproj (i,x) ) . r ) - x ) as (Element of ( product ( carr G ) )) by CKB12:1;
X5: ( dom p ) = ( dom ( carr G ) ) by CARD_3:9;
reconsider q = ( ( reproj (i,( 0. ( product G ) )) ) . ( r - ( ( proj i ) . x ) ) ) as (Element of ( product ( carr G ) )) by CKB12:1;
X6: ( dom q ) = ( dom ( carr G ) ) by CARD_3:9;
reconsider s = ( x - ( ( reproj (i,x) ) . r ) ) as (Element of ( product ( carr G ) )) by CKB12:1;
X7: ( dom s ) = ( dom ( carr G ) ) by CARD_3:9;
reconsider t = ( ( reproj (i,( 0. ( product G ) )) ) . ( ( ( proj i ) . x ) - r ) ) as (Element of ( product ( carr G ) )) by CKB12:1;
X8: ( dom t ) = ( dom ( carr G ) ) by CARD_3:9;
X9: ( ( reproj (i,x) ) . r ) = ( x +* (i,r) ) by CKB32:def 1;
reconsider xfi = ( xf . i ) as (Point of ( G . i ));
( ( reproj (i,( 0. ( product G ) )) ) . ( r - ( ( proj i ) . x ) ) ) = ( ( 0. ( product G ) ) +* (i,( r - ( ( proj i ) . x ) )) ) by CKB32:def 1;
then X11: q = ( Zr +* (i,( r - xfi )) ) by CKB31:def 1;
( ( reproj (i,( 0. ( product G ) )) ) . ( ( ( proj i ) . x ) - r ) ) = ( ( 0. ( product G ) ) +* (i,( ( ( proj i ) . x ) - r )) ) by CKB32:def 1;
then X12: t = ( Zr +* (i,( xfi - r )) ) by CKB31:def 1;
set ir = ( i .--> r );
set irx1 = ( i .--> ( r - xfi ) );
set irx2 = ( i .--> ( xfi - r ) );
x in (the carrier of ( product G ));
then p0: x in ( product ( carr G ) ) by CKB12:1;
consider g1 being Function such that p1: ((x = g1 & ( dom g1 ) = ( dom ( carr G ) )) & (for i being set holds (i in ( dom ( carr G ) ) implies ( g1 . i ) in ( ( carr G ) . i )))) by p0,CARD_3:def 5;
(for k being set holds (k in ( dom p ) implies ( p . k ) = ( q . k )))
proof
let k being set;
assume S1: k in ( dom p );
then reconsider k0 = k as (Element of ( dom G )) by X3,CARD_3:9;
consider g being Function such that P1: ((Zr = g & ( dom g ) = ( dom ( carr G ) )) & (for i being set holds (i in ( dom ( carr G ) ) implies ( g . i ) in ( ( carr G ) . i )))) by CARD_3:def 5;
F1: k in ( dom Zr ) by P1,S1,CARD_3:9;
F2: k in ( dom x ) by p1,S1,CARD_3:9;
per cases ;
suppose (not k in { i });

then Z: k <> i by TARSKI:def 1;
then XA3: ( q . k0 ) = ( Zr . k0 ) by X11,FUNCT_7:32;
( p . k ) = ( ( ixr . k0 ) - ( xf . k0 ) ) by CKB21:1
.= ( ( xf . k0 ) - ( xf . k0 ) ) by Z,X9,FUNCT_7:32;
then ( p . k ) = ( 0. ( G . k0 ) ) by RLVECT_1:15;
hence ( p . k ) = ( q . k ) by XA3,CKB20:1;
end;
suppose k in { i };

then XA5: k = i by TARSKI:def 1;
then XA6: ( q . k0 ) = ( r - xfi ) by X11,F1,FUNCT_7:31;
( p . k ) = ( ( ixr . k0 ) - ( xf . k0 ) ) by CKB21:1;
hence ( p . k ) = ( q . k ) by XA6,X9,XA5,F2,FUNCT_7:31;
end;
end;
hence ( ( ( reproj (i,x) ) . r ) - x ) = ( ( reproj (i,( 0. ( product G ) )) ) . ( r - ( ( proj i ) . x ) ) ) by X5,X6,FUNCT_1:2;
(for k being set holds (k in ( dom s ) implies ( s . k ) = ( t . k )))
proof
let k being set;
assume P0: k in ( dom s );
then reconsider k0 = k as (Element of ( dom G )) by X3,CARD_3:9;
consider g being Function such that P1: ((Zr = g & ( dom g ) = ( dom ( carr G ) )) & (for i being set holds (i in ( dom ( carr G ) ) implies ( g . i ) in ( ( carr G ) . i )))) by CARD_3:def 5;
F1: k in ( dom Zr ) by P1,P0,CARD_3:9;
F2: k in ( dom x ) by p1,P0,CARD_3:9;
per cases ;
suppose (not k in { i });

then Z: k <> i by TARSKI:def 1;
then XA3: ( t . k0 ) = ( Zr . k0 ) by X12,FUNCT_7:32;
( s . k ) = ( ( xf . k0 ) - ( ixr . k0 ) ) by CKB21:1
.= ( ( xf . k0 ) - ( xf . k0 ) ) by X9,Z,FUNCT_7:32;
then ( s . k ) = ( 0. ( G . k0 ) ) by RLVECT_1:15;
hence ( s . k ) = ( t . k ) by XA3,CKB20:1;
end;
suppose k in { i };

then XA5: k = i by TARSKI:def 1;
then XA6: ( t . k0 ) = ( xfi - r ) by X12,F1,FUNCT_7:31;
( s . k ) = ( ( xf . k0 ) - ( ixr . k0 ) ) by CKB21:1;
hence ( s . k ) = ( t . k ) by XA6,X9,XA5,F2,FUNCT_7:31;
end;
end;
hence thesis by X7,X8,FUNCT_1:2;
end;
