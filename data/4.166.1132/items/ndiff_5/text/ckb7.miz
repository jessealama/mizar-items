environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,FUNCT_4,NAT_1,FDIFF_1,SUBSET_1,SEQ_4,RELAT_1,GLIB_000,LOPBAN_1,ORDINAL4,RFINSEQ,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,GROUP_2,FUNCOP_1,XREAL_0,ORDINAL1,MEMBERED,FINSEQ_5,XXREAL_2,XBOOLE_0,CARD_3,FINSEQ_1,FINSEQ_2,AFINSQ_1,RLVECT_1,SQUARE_1,RVSUM_1,XXREAL_1,PDIFF_1,PRVECT_1,PRVECT_2,ALGSTR_0,EUCLID,CFCONT_1,RFINSEQ2,NORMSP_0,NFCONT_1,MONOID_0,RLTOPSP1;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,FUNCT_4,CARD_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,SQUARE_1,NAT_1,MEMBERED,VALUED_0,COMPLEX1,NAT_D,BINOP_2,XXREAL_2,CARD_3,FINSEQ_1,VALUED_1,FINSEQ_2,SEQ_1,SEQ_2,RVSUM_1,RFINSEQ,SEQ_4,RCOMP_1,FCONT_1,FDIFF_1,FINSEQ_5,FINSEQ_7,RFINSEQ2,STRUCT_0,MONOID_0,ALGSTR_0,PRE_TOPC,RLVECT_1,NORMSP_0,NORMSP_1,VFUNCT_1,EUCLID,LOPBAN_1,PRVECT_1,NFCONT_1,NDIFF_1,PRVECT_2,NFCONT_3,NDIFF_3,RLTOPSP1,FUNCT_7;
definitions TARSKI,FUNCT_2,RLVECT_1,LOPBAN_1,EUCLID,RFINSEQ2,FINSEQ_1,FINSEQ_2,STRUCT_0,MONOID_0,ALGSTR_0,NORMSP_0,RCOMP_1,XCMPLX_0,PRVECT_2;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,FUNCT_3,FINSEQ_4,RLVECT_2,FINSEQ_3,ORDINAL1,FINSEQ_1,CARD_3,FUNCT_4,SEQ_4,NORMSP_1,LOPBAN_1,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,GRCAT_1,NORMSP_0,XREAL_0,RCOMP_1,FINSEQ_2,FINSEQ_7,RVSUM_1,SQUARE_1,PRVECT_1,PRVECT_2,PDIFF_7,EUCLID,TOPREAL7,XXREAL_2,FINSEQ_5,NAT_D,RFINSEQ2,INTEGRA5,FCONT_1,NAT_2,NFCONT_3,NDIFF_2,NDIFF_3,CARD_1,ROLLE,XXREAL_1,RLTOPSP1,FUNCT_7,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6;
schemes FUNCT_2,SEQ_1,FINSEQ_1,NAT_1,FINSEQ_2;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_1,NDIFF_1,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,PRVECT_2,FINSEQ_2,FINSEQ_1,CARD_3,NORMSP_0,NORMSP_1,RELAT_1,XXREAL_0,LOPBAN_1,LOPBAN_2,PRVECT_3,FUNCOP_1,NAT_1,FINSEQ_5,XXREAL_2,RCOMP_1,VALUED_1,FDIFF_1,NFCONT_3,FINSET_1,XCMPLX_0,PARTFUN1,CARD_1,MONOID_0;
constructors REAL_1,SQUARE_1,SEQ_2,FDIFF_1,NFCONT_1,RSSPACE,VFUNCT_1,NDIFF_1,SEQ_1,RELSET_1,FINSEQ_7,FINSEQ_5,RVSUM_1,BINOP_2,PRVECT_2,RLVECT_2,NAT_D,FINSEQOP,RFINSEQ,RFINSEQ2,SEQ_4,FCONT_1,NFCONT_3,NDIFF_3,MONOID_0,RLTOPSP1,FUNCT_7;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve S for non  trivial RealNormSpace;
reserve G for RealNormSpace-Sequence;
reserve i for (Element of ( dom G ));
theorem
PDIFF617: (for S being RealNormSpace holds (for xseq being (FinSequence of S) holds (for yseq being (FinSequence of ( REAL )) holds ((( len xseq ) = ( len yseq ) & (for i being (Element of ( NAT )) holds (i in ( dom xseq ) implies ( yseq . i ) = ||. ( xseq /. i ) .||))) implies ||. ( Sum xseq ) .|| <= ( Sum yseq )))))
proof
let S being RealNormSpace;
let xseq being (FinSequence of S);
let yseq being (FinSequence of ( REAL ));
assume that
A1: ( len xseq ) = ( len yseq )
and
A2: (for i being (Element of ( NAT )) holds (i in ( dom xseq ) implies ( yseq . i ) = ||. ( xseq /. i ) .||));
defpred P[ Nat ]
 means
(for xseq being (FinSequence of S) holds (for yseq being (FinSequence of ( REAL )) holds ((($1 = ( len xseq ) & ( len xseq ) = ( len yseq )) & (for i being (Element of ( NAT )) holds (i in ( dom xseq ) implies ( yseq . i ) = ||. ( xseq /. i ) .||))) implies ||. ( Sum xseq ) .|| <= ( Sum yseq ))));
A3: P[ ( 0 ) ]
proof
let xseq being (FinSequence of S);
let yseq being (FinSequence of ( REAL ));
assume B1: ((( 0 ) = ( len xseq ) & ( len xseq ) = ( len yseq )) & (for i being (Element of ( NAT )) holds (i in ( dom xseq ) implies ( yseq . i ) = ||. ( xseq /. i ) .||)));
consider Sx being (Function of ( NAT ),(the carrier of S)) such that B3: ((( Sum xseq ) = ( Sx . ( len xseq ) ) & ( Sx . ( 0 ) ) = ( 0. S )) & (for j being (Element of ( NAT )) holds (for v being (Element of S) holds ((j < ( len xseq ) & v = ( xseq . ( j + 1 ) )) implies ( Sx . ( j + 1 ) ) = ( ( Sx . j ) + v ))))) by RLVECT_1:def 12;
yseq = ( {} ) by B1;
hence thesis by B1,B3,RVSUM_1:72;
end;
A4:now
let i being (Element of ( NAT ));
assume A4: P[ i ];
now
let xseq being (FinSequence of S);
let yseq being (FinSequence of ( REAL ));
set xseq0 = ( xseq | i );
set yseq0 = ( yseq | i );
assume A5: ((( i + 1 ) = ( len xseq ) & ( len xseq ) = ( len yseq )) & (for i being (Element of ( NAT )) holds (i in ( dom xseq ) implies ( yseq . i ) = ||. ( xseq /. i ) .||)));
A6: (for k being (Element of ( NAT )) holds (k in ( dom xseq0 ) implies ( yseq0 . k ) = ||. ( xseq0 /. k ) .||))
proof
let k being (Element of ( NAT ));
assume A9: k in ( dom xseq0 );
then A7: (k in ( Seg i ) & k in ( dom xseq )) by RELAT_1:57;
then A8: ( yseq . k ) = ||. ( xseq /. k ) .|| by A5;
( xseq /. k ) = ( xseq . k ) by A7,PARTFUN1:def 6;
then ( xseq /. k ) = ( xseq0 . k ) by A7,FUNCT_1:49;
then ( xseq /. k ) = ( xseq0 /. k ) by A9,PARTFUN1:def 6;
hence thesis by A7,A8,FUNCT_1:49;
end;
C1: ( dom xseq ) = ( Seg ( i + 1 ) ) by A5,FINSEQ_1:def 3;
then A9: ( yseq . ( i + 1 ) ) = ||. ( xseq /. ( i + 1 ) ) .|| by A5,FINSEQ_1:4;
A10: 1 <= ( i + 1 ) by NAT_1:11;
yseq = ( ( yseq | i ) ^ <* ( yseq /. ( i + 1 ) ) *> ) by A5,FINSEQ_5:21;
then yseq = ( yseq0 ^ <* ( yseq . ( i + 1 ) ) *> ) by A5,A10,FINSEQ_4:15;
then A11: ( Sum yseq ) = ( ( Sum yseq0 ) + ( yseq . ( i + 1 ) ) ) by RVSUM_1:74;
B1: ( len xseq ) in ( dom xseq ) by C1,A5,FINSEQ_1:4;
then reconsider v = ( xseq . ( len xseq ) ) as (Element of S) by PARTFUN1:4;
B2: v = ( xseq /. ( i + 1 ) ) by A5,B1,PARTFUN1:def 6;
A12: i = ( len xseq0 ) by A5,FINSEQ_1:59,NAT_1:11;
then xseq0 = ( xseq | ( dom xseq0 ) ) by FINSEQ_1:def 3;
then A13: ( Sum xseq ) = ( ( Sum xseq0 ) + v ) by A5,A12,RLVECT_1:38;
A14: ||. ( ( Sum xseq0 ) + v ) .|| <= ( ||. ( Sum xseq0 ) .|| + ||. v .|| ) by NORMSP_1:def 1;
( len xseq0 ) = ( len yseq0 ) by A5,A12,FINSEQ_1:59,NAT_1:11;
then ||. ( Sum xseq0 ) .|| <= ( Sum yseq0 ) by A4,A6,A12;
then ( ||. ( Sum xseq0 ) .|| + ||. v .|| ) <= ( ( Sum yseq0 ) + ( yseq . ( i + 1 ) ) ) by A9,B2,XREAL_1:6;
hence ||. ( Sum xseq ) .|| <= ( Sum yseq ) by A11,A13,A14,XXREAL_0:2;
end;
hence P[ ( i + 1 ) ];
end;
(for i being (Element of ( NAT )) holds P[ i ]) from NAT_1:sch 1(A3,A4);
hence thesis by A1,A2;
end;
