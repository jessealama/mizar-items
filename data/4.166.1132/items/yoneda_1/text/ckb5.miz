environ
vocabularies CAT_1,ENS_1,FUNCT_1,GRAPH_1,RELAT_1,SUBSET_1,MCART_1,NATTRA_1,STRUCT_0,XBOOLE_0,PZFMISC1,TARSKI,OPPCAT_1,CAT_2,FUNCT_2,YONEDA_1;
notations TARSKI,XBOOLE_0,SUBSET_1,MCART_1,RELAT_1,FUNCT_1,BINOP_1,FUNCT_2,STRUCT_0,GRAPH_1,CAT_1,CAT_2,OPPCAT_1,ENS_1,NATTRA_1,CKB1,CKB3;
definitions TARSKI,BINOP_1,GRAPH_1,CKB1,CKB3;
theorems ZFMISC_1,MCART_1,FUNCT_1,FUNCT_2,CAT_1,CAT_2,OPPCAT_1,ENS_1,NATTRA_1,ISOCAT_1,RELAT_1,CKB1,CKB2,CKB3,CKB4;
schemes FUNCT_2;
registrations XBOOLE_0,FUNCT_1,RELSET_1,ENS_1,STRUCT_0,FUNCT_2;
constructors PARTFUN1,DOMAIN_1,NATTRA_1,ENS_1,RELSET_1,CKB1,CKB3;
requirements SUBSET,BOOLE;
begin
reserve A for Category;
reserve o for (Object of A);
reserve f for (Morphism of A);
definition
let A;
let f;
func <|f ,?> -> (natural_transformation of <| ( cod f ) ,?>,<| ( dom f ) ,?>)
means
:Def3: (for o being (Object of A) holds ( it . o ) = [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ]);
existence
proof
set B = ( EnsHom A );
deffunc F((Element of A)) = [ [ ( Hom (( cod f ),$1) ),( Hom (( dom f ),$1) ) ],( hom (f,( id $1 )) ) ];
set F1 = <| ( cod f ) ,?>;
set F2 = <| ( dom f ) ,?>;
A1: (for o being (Object of A) holds [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ] in ( Hom (( F1 . o ),( F2 . o )) ))
proof
let o being (Object of A);
A2: ( EnsHom A ) = CatStr (# ( Hom A ),( Maps ( Hom A ) ),( fDom ( Hom A ) ),( fCod ( Hom A ) ),( fComp ( Hom A ) ),( fId ( Hom A ) ) #) by ENS_1:def 13;
A3: ( hom (f,( id o )) ) = ( hom (f,o) ) by ENS_1:53;
then reconsider m = [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ] as (Morphism of ( EnsHom A )) by A2,ENS_1:48;
reconsider m9 = m as (Element of ( Maps ( Hom A ) )) by A3,ENS_1:48;
A4: ( cod m ) = ( ( fCod ( Hom A ) ) . m ) by A2
.= ( cod m9 ) by ENS_1:def 10
.= ( ( m `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ] `2 ) by MCART_1:7
.= ( Hom (( dom f ),o) ) by MCART_1:7
.= ( ( Obj ( hom?- (( Hom A ),( dom f )) ) ) . o ) by ENS_1:60
.= ( ( hom?- (( Hom A ),( dom f )) ) . o ) by CAT_1:def 17
.= ( F2 . o ) by ENS_1:def 25;
( dom m ) = ( ( fDom ( Hom A ) ) . m ) by A2
.= ( dom m9 ) by ENS_1:def 9
.= ( ( m `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ] `1 ) by MCART_1:7
.= ( Hom (( cod f ),o) ) by MCART_1:7
.= ( ( Obj ( hom?- (( Hom A ),( cod f )) ) ) . o ) by ENS_1:60
.= ( ( hom?- (( Hom A ),( cod f )) ) . o ) by CAT_1:def 17
.= ( F1 . o ) by ENS_1:def 25;
hence thesis by A4,CAT_1:1;
end;
A5: (for o being (Element of A) holds F(o) in (the carrier' of ( EnsHom A )))
proof
let o;
[ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ] in ( Hom (( F1 . o ),( F2 . o )) ) by A1;
hence thesis;
end;
consider t being (Function of (the carrier of A),(the carrier' of ( EnsHom A ))) such that A6: (for o being (Element of A) holds ( t . o ) = F(o)) from FUNCT_2:sch 8(A5);
A7: (for o being (Object of A) holds ( t . o ) is (Morphism of ( F1 . o ),( F2 . o )))
proof
let o;
[ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ] in ( Hom (( F1 . o ),( F2 . o )) ) by A1;
then [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ] is (Morphism of ( F1 . o ),( F2 . o )) by CAT_1:def 4;
hence thesis by A6;
end;
(for o being (Object of A) holds ( Hom (( F1 . o ),( F2 . o )) ) <> ( {} )) by A1;
then A8: F1 is_transformable_to F2 by NATTRA_1:def 2;
then reconsider t as (transformation of F1,F2) by A7,NATTRA_1:def 3;
A9: (for a,b being (Object of A) holds (( Hom (a,b) ) <> ( {} ) implies (for g being (Morphism of a,b) holds ( ( t . b ) * ( F1 . g ) ) = ( ( F2 . g ) * ( t . a ) ))))
proof
let a being (Object of A),b being (Object of A);
assume that
A10: ( Hom (a,b) ) <> ( {} );
A11: ( Hom (( F1 . a ),( F1 . b )) ) <> ( {} ) by A10,CAT_1:84;
let g being (Morphism of a,b);
A12: ( dom g ) = a by A10,CAT_1:5;
A13: ( rng ( hom (( cod f ),g) ) ) c= ( dom ( hom (f,b) ) )
proof
A14: ( cod g ) = b by A10,CAT_1:5;
per cases ;
suppose A15: ( Hom (( dom f ),b) ) = ( {} );

A16: ( rng ( hom (( cod f ),g) ) ) c= ( Hom (( cod f ),( cod g )) ) by RELAT_1:def 19;
( Hom (( cod f ),b) ) = ( {} ) by A15,ENS_1:42;
hence thesis by A14,A16,FUNCT_2:def 1;
end;
suppose A17: ( Hom (( dom f ),b) ) <> ( {} );

( cod g ) = b by A10,CAT_1:5;
then A18: (( rng ( hom (( cod f ),g) ) ) c= ( Hom (( cod f ),( cod g )) ) & ( Hom (( cod f ),( cod g )) ) = ( dom ( hom (f,b) ) )) by A17,FUNCT_2:def 1,RELAT_1:def 19;
let e being set;
assume e in ( rng ( hom (( cod f ),g) ) );
hence thesis by A18;
end;
end;
A19: ( rng ( hom (f,a) ) ) c= ( dom ( hom (( dom f ),g) ) )
proof
A20: ( dom g ) = a by A10,CAT_1:5;
per cases ;
suppose A21: ( Hom (( dom f ),( cod g )) ) = ( {} );

A22: ( rng ( hom (f,a) ) ) c= ( Hom (( dom f ),a) ) by RELAT_1:def 19;
( Hom (( dom f ),( dom g )) ) = ( {} ) by A21,ENS_1:42;
hence thesis by A20,A22,FUNCT_2:def 1;
end;
suppose A23: ( Hom (( dom f ),( cod g )) ) <> ( {} );

let e being set;
assume A24: e in ( rng ( hom (f,a) ) );
(( rng ( hom (f,a) ) ) c= ( Hom (( dom f ),a) ) & ( Hom (( dom f ),a) ) = ( dom ( hom (( dom f ),g) ) )) by A20,A23,FUNCT_2:def 1,RELAT_1:def 19;
hence thesis by A24;
end;
end;
A25: ( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) = ( dom ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) )
proof
per cases ;
suppose A26: ( Hom (( cod f ),( dom g )) ) = ( {} );

( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) = ( dom ( hom (( cod f ),g) ) ) by A13,RELAT_1:27
.= ( Hom (( cod f ),a) ) by A12,A26,FUNCT_2:def 1
.= ( dom ( hom (f,a) ) ) by A12,A26,FUNCT_2:def 1
.= ( dom ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) ) by A19,RELAT_1:27;
hence thesis;
end;
suppose A27: ( Hom (( cod f ),( dom g )) ) <> ( {} );

then A28: ( Hom (( cod f ),( cod g )) ) <> ( {} ) by ENS_1:42;
A29: ( Hom (( dom f ),a) ) <> ( {} ) by A12,A27,ENS_1:42;
( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) = ( dom ( hom (( cod f ),g) ) ) by A13,RELAT_1:27
.= ( Hom (( cod f ),a) ) by A12,A28,FUNCT_2:def 1
.= ( dom ( hom (f,a) ) ) by A29,FUNCT_2:def 1
.= ( dom ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) ) by A19,RELAT_1:27;
hence thesis;
end;
end;
A30: (for x being set holds (x in ( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) implies ( ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) . x ) = ( ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) . x )))
proof
let x being set;
assume that
A31: x in ( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) );
per cases ;
suppose A32: ( Hom (( cod f ),( dom g )) ) <> ( {} );

A33: x in ( dom ( hom (( cod f ),g) ) ) by A31,FUNCT_1:11;
( Hom (( cod f ),( cod g )) ) <> ( {} ) by A32,ENS_1:42;
then A34: x in ( Hom (( cod f ),( dom g )) ) by A33,FUNCT_2:def 1;
then reconsider x as (Morphism of A);
A35: ( dom g ) = ( cod x ) by A34,CAT_1:1;
( cod g ) = b by A10,CAT_1:5;
then A36: ( cod ( g * x ) ) = b by A35,CAT_1:17;
( dom ( g * x ) ) = ( dom x ) by A35,CAT_1:17
.= ( cod f ) by A34,CAT_1:1;
then A37: ( g * x ) in ( Hom (( cod f ),b) ) by A36,CAT_1:1;
A38: ( dom x ) = ( cod f ) by A34,CAT_1:1;
then A39: ( dom ( x * f ) ) = ( dom f ) by CAT_1:17;
A40: ( ( hom (f,a) ) . x ) = ( x * f ) by A12,A34,ENS_1:def 20;
then reconsider h = ( ( hom (f,a) ) . x ) as (Morphism of A);
A41: (( dom g ) = ( cod x ) & ( dom x ) = ( cod f )) by A34,CAT_1:1;
( cod ( x * f ) ) = ( cod x ) by A38,CAT_1:17
.= ( dom g ) by A34,CAT_1:1;
then A42: ( ( hom (f,a) ) . x ) in ( Hom (( dom f ),( dom g )) ) by A40,A39,CAT_1:1;
( ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) . x ) = ( ( hom (f,b) ) . ( ( hom (( cod f ),g) ) . x ) ) by A31,FUNCT_1:12
.= ( ( hom (f,b) ) . ( g * x ) ) by A34,ENS_1:def 19
.= ( ( g * x ) * f ) by A37,ENS_1:def 20
.= ( g * ( x * f ) ) by A41,CAT_1:18
.= ( g * h ) by A12,A34,ENS_1:def 20
.= ( ( hom (( dom f ),g) ) . ( ( hom (f,a) ) . x ) ) by A42,ENS_1:def 19
.= ( ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) . x ) by A25,A31,FUNCT_1:12;
hence thesis;
end;
suppose A43: ( Hom (( cod f ),( dom g )) ) = ( {} );

x in ( dom ( hom (( cod f ),g) ) ) by A31,FUNCT_1:11;
hence thesis by A43,FUNCT_2:def 1;
end;
end;
A44: ( Hom (( F2 . a ),( F2 . b )) ) <> ( {} ) by A10,CAT_1:84;
A45: ( cod g ) = b by A10,CAT_1:5;
reconsider f4 = ( t . a ) as (Morphism of ( EnsHom A ));
A46: ( t . a ) = ( (t qua (Function of (the carrier of A),(the carrier' of B))) . a ) by A8,NATTRA_1:def 5
.= [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,( id a )) ) ] by A6
.= [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] by ENS_1:53;
then reconsider f49 = f4 as (Element of ( Maps ( Hom A ) )) by ENS_1:48;
A47: ( Hom (( F1 . a ),( F2 . a )) ) <> ( {} ) by A1;
reconsider f1 = ( t . b ) as (Morphism of ( EnsHom A ));
A48: ( t . b ) = ( (t qua (Function of (the carrier of A),(the carrier' of B))) . b ) by A8,NATTRA_1:def 5
.= [ [ ( Hom (( cod f ),b) ),( Hom (( dom f ),b) ) ],( hom (f,( id b )) ) ] by A6
.= [ [ ( Hom (( cod f ),b) ),( Hom (( dom f ),b) ) ],( hom (f,b) ) ] by ENS_1:53;
then reconsider f19 = f1 as (Element of ( Maps ( Hom A ) )) by ENS_1:48;
A49: ( EnsHom A ) = CatStr (# ( Hom A ),( Maps ( Hom A ) ),( fDom ( Hom A ) ),( fCod ( Hom A ) ),( fComp ( Hom A ) ),( fId ( Hom A ) ) #) by ENS_1:def 13;
then A50: ( cod f1 ) = ( ( fCod ( Hom A ) ) . f1 )
.= ( cod f19 ) by ENS_1:def 10
.= ( ( f1 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),b) ),( Hom (( dom f ),b) ) ] `2 ) by A48,MCART_1:7
.= ( Hom (( dom f ),b) ) by MCART_1:7;
A51: ( dom f4 ) = ( ( fDom ( Hom A ) ) . f4 ) by A49
.= ( dom f49 ) by ENS_1:def 9
.= ( ( f4 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `1 ) by A46,MCART_1:7
.= ( Hom (( cod f ),a) ) by MCART_1:7;
A52: ( cod f4 ) = ( ( fCod ( Hom A ) ) . f4 ) by A49
.= ( cod f49 ) by ENS_1:def 10
.= ( ( f4 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `2 ) by A46,MCART_1:7
.= ( Hom (( dom f ),a) ) by MCART_1:7;
reconsider f2 = ( F1 . g ) as (Morphism of ( EnsHom A ));
A53: f2 = ( ( hom?- ( cod f ) ) . g ) by A10,NATTRA_1:def 1
.= [ [ ( Hom (( cod f ),( dom g )) ),( Hom (( cod f ),( cod g )) ) ],( hom (( cod f ),g) ) ] by ENS_1:def 21;
then reconsider f29 = f2 as (Element of ( Maps ( Hom A ) )) by ENS_1:47;
A54: ( dom f2 ) = ( ( fDom ( Hom A ) ) . f2 ) by A49
.= ( dom f29 ) by ENS_1:def 9
.= ( ( f2 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),( dom g )) ),( Hom (( cod f ),( cod g )) ) ] `1 ) by A53,MCART_1:7
.= ( Hom (( cod f ),( dom g )) ) by MCART_1:7;
A55: ( cod f2 ) = ( ( fCod ( Hom A ) ) . f2 ) by A49
.= ( cod f29 ) by ENS_1:def 10
.= ( ( f2 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),( dom g )) ),( Hom (( cod f ),( cod g )) ) ] `2 ) by A53,MCART_1:7
.= ( Hom (( cod f ),( cod g )) ) by MCART_1:7;
A56: ( dom f1 ) = ( ( fDom ( Hom A ) ) . f1 ) by A49
.= ( dom f19 ) by ENS_1:def 9
.= ( ( f1 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),b) ),( Hom (( dom f ),b) ) ] `1 ) by A48,MCART_1:7
.= ( Hom (( cod f ),b) ) by MCART_1:7;
then A57: ( cod f2 ) = ( dom f1 ) by A10,A55,CAT_1:5;
reconsider f3 = ( F2 . g ) as (Morphism of ( EnsHom A ));
A58: f3 = ( ( hom?- ( dom f ) ) . g ) by A10,NATTRA_1:def 1
.= [ [ ( Hom (( dom f ),( dom g )) ),( Hom (( dom f ),( cod g )) ) ],( hom (( dom f ),g) ) ] by ENS_1:def 21;
then reconsider f39 = f3 as (Element of ( Maps ( Hom A ) )) by ENS_1:47;
A59: ( cod f3 ) = ( ( fCod ( Hom A ) ) . f3 ) by A49
.= ( cod f39 ) by ENS_1:def 10
.= ( ( f3 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( dom f ),( dom g )) ),( Hom (( dom f ),( cod g )) ) ] `2 ) by A58,MCART_1:7
.= ( Hom (( dom f ),( cod g )) ) by MCART_1:7;
A60: ( dom f3 ) = ( ( fDom ( Hom A ) ) . f3 ) by A49
.= ( dom f39 ) by ENS_1:def 9
.= ( ( f3 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( dom f ),( dom g )) ),( Hom (( dom f ),( cod g )) ) ] `1 ) by A58,MCART_1:7
.= ( Hom (( dom f ),( dom g )) ) by MCART_1:7;
then A61: ( cod f4 ) = ( dom f3 ) by A10,A52,CAT_1:5;
( Hom (( F1 . b ),( F2 . b )) ) <> ( {} ) by A1;
then ( ( t . b ) * ( F1 . g ) ) = ( f1 * f2 ) by A11,CAT_1:def 10
.= [ [ ( Hom (( cod f ),( dom g )) ),( Hom (( dom f ),b) ) ],( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ] by A48,A56,A50,A53,A54,A55,A57,CKB2:1
.= [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),( cod g )) ) ],( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) ] by A12,A45,A25,A30,FUNCT_1:2
.= ( f3 * f4 ) by A58,A60,A59,A46,A51,A52,A61,CKB2:1
.= ( ( F2 . g ) * ( t . a ) ) by A44,A47,CAT_1:def 10;
hence thesis;
end;
F1 is_naturally_transformable_to F2 by CKB4:1;
then reconsider t as (natural_transformation of F1,F2) by A9,NATTRA_1:def 8;
(for o being (Element of A) holds ( t . o ) = [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ])
proof
let o;
( t . o ) = ( (t qua Function) . o ) by A8,NATTRA_1:def 5
.= [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ] by A6;
hence thesis;
end;
hence thesis;
end;
uniqueness
proof
(for a being (Object of A) holds [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] in ( Hom (( <| ( cod f ) ,?> . a ),( <| ( dom f ) ,?> . a )) ))
proof
let a being (Object of A);
A62: ( EnsHom A ) = CatStr (# ( Hom A ),( Maps ( Hom A ) ),( fDom ( Hom A ) ),( fCod ( Hom A ) ),( fComp ( Hom A ) ),( fId ( Hom A ) ) #) by ENS_1:def 13;
then reconsider m = [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] as (Morphism of ( EnsHom A )) by ENS_1:48;
reconsider m9 = m as (Element of ( Maps ( Hom A ) )) by ENS_1:48;
A63: ( cod m ) = ( ( fCod ( Hom A ) ) . m ) by A62
.= ( cod m9 ) by ENS_1:def 10
.= ( ( m `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `2 ) by MCART_1:7
.= ( Hom (( dom f ),a) ) by MCART_1:7
.= ( ( Obj ( hom?- (( Hom A ),( dom f )) ) ) . a ) by ENS_1:60
.= ( ( hom?- (( Hom A ),( dom f )) ) . a ) by CAT_1:def 17
.= ( <| ( dom f ) ,?> . a ) by ENS_1:def 25;
( dom m ) = ( ( fDom ( Hom A ) ) . m ) by A62
.= ( dom m9 ) by ENS_1:def 9
.= ( ( m `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `1 ) by MCART_1:7
.= ( Hom (( cod f ),a) ) by MCART_1:7
.= ( ( Obj ( hom?- (( Hom A ),( cod f )) ) ) . a ) by ENS_1:60
.= ( ( hom?- (( Hom A ),( cod f )) ) . a ) by CAT_1:def 17
.= ( <| ( cod f ) ,?> . a ) by ENS_1:def 25;
hence thesis by A63,CAT_1:1;
end;
then (for a being (Object of A) holds ( Hom (( <| ( cod f ) ,?> . a ),( <| ( dom f ) ,?> . a )) ) <> ( {} ));
then A64: <| ( cod f ) ,?> is_transformable_to <| ( dom f ) ,?> by NATTRA_1:def 2;
let h1 being (natural_transformation of <| ( cod f ) ,?>,<| ( dom f ) ,?>),h2 being (natural_transformation of <| ( cod f ) ,?>,<| ( dom f ) ,?>);
assume that
A65: (for o being (Object of A) holds ( h1 . o ) = [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ])
and
A66: (for o being (Object of A) holds ( h2 . o ) = [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ]);
now
let o;
thus ( h1 . o ) = [ [ ( Hom (( cod f ),o) ),( Hom (( dom f ),o) ) ],( hom (f,( id o )) ) ] by A65
.= ( h2 . o ) by A66;
end;
hence thesis by A64,NATTRA_1:19;
end;
end;
