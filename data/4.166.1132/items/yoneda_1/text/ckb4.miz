environ
vocabularies CAT_1,ENS_1,FUNCT_1,GRAPH_1,RELAT_1,SUBSET_1,MCART_1,NATTRA_1,STRUCT_0,XBOOLE_0,PZFMISC1,TARSKI,OPPCAT_1,CAT_2,FUNCT_2,YONEDA_1;
notations TARSKI,XBOOLE_0,SUBSET_1,MCART_1,RELAT_1,FUNCT_1,BINOP_1,FUNCT_2,STRUCT_0,GRAPH_1,CAT_1,CAT_2,OPPCAT_1,ENS_1,NATTRA_1,CKB1,CKB3;
definitions TARSKI,BINOP_1,GRAPH_1,CKB1,CKB3;
theorems ZFMISC_1,MCART_1,FUNCT_1,FUNCT_2,CAT_1,CAT_2,OPPCAT_1,ENS_1,NATTRA_1,ISOCAT_1,RELAT_1,CKB1,CKB2,CKB3;
schemes FUNCT_2;
registrations XBOOLE_0,FUNCT_1,RELSET_1,ENS_1,STRUCT_0,FUNCT_2;
constructors PARTFUN1,DOMAIN_1,NATTRA_1,ENS_1,RELSET_1,CKB1,CKB3;
requirements SUBSET,BOOLE;
begin
reserve A for Category;
reserve a for (Object of A);
reserve f for (Morphism of A);
theorem
Th3: (for f being (Morphism of A) holds <| ( cod f ) ,?> is_naturally_transformable_to <| ( dom f ) ,?>)
proof
let f;
set F1 = <| ( cod f ) ,?>;
set F2 = <| ( dom f ) ,?>;
set B = ( EnsHom A );
deffunc F((Element of A)) = [ [ ( Hom (( cod f ),$1) ),( Hom (( dom f ),$1) ) ],( hom (f,$1) ) ];
A1: (for a being (Object of A) holds [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] in ( Hom (( F1 . a ),( F2 . a )) ))
proof
let a being (Object of A);
A2: ( EnsHom A ) = CatStr (# ( Hom A ),( Maps ( Hom A ) ),( fDom ( Hom A ) ),( fCod ( Hom A ) ),( fComp ( Hom A ) ),( fId ( Hom A ) ) #) by ENS_1:def 13;
then reconsider m = [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] as (Morphism of ( EnsHom A )) by ENS_1:48;
reconsider m9 = m as (Element of ( Maps ( Hom A ) )) by ENS_1:48;
A3: ( cod m ) = ( ( fCod ( Hom A ) ) . m ) by A2
.= ( cod m9 ) by ENS_1:def 10
.= ( ( m `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `2 ) by MCART_1:7
.= ( Hom (( dom f ),a) ) by MCART_1:7
.= ( ( Obj ( hom?- (( Hom A ),( dom f )) ) ) . a ) by ENS_1:60
.= ( ( hom?- (( Hom A ),( dom f )) ) . a ) by CAT_1:def 17
.= ( F2 . a ) by ENS_1:def 25;
( dom m ) = ( ( fDom ( Hom A ) ) . m ) by A2
.= ( dom m9 ) by ENS_1:def 9
.= ( ( m `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `1 ) by MCART_1:7
.= ( Hom (( cod f ),a) ) by MCART_1:7
.= ( ( Obj ( hom?- (( Hom A ),( cod f )) ) ) . a ) by ENS_1:60
.= ( ( hom?- (( Hom A ),( cod f )) ) . a ) by CAT_1:def 17
.= ( F1 . a ) by ENS_1:def 25;
hence thesis by A3,CAT_1:1;
end;
A4: (for a being (Element of A) holds F(a) in (the carrier' of B))
proof
let a;
[ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] in ( Hom (( F1 . a ),( F2 . a )) ) by A1;
hence thesis;
end;
consider t being (Function of (the carrier of A),(the carrier' of B)) such that A5: (for o being (Element of A) holds ( t . o ) = F(o)) from FUNCT_2:sch 8(A4);
A6: (for a being (Object of A) holds ( t . a ) is (Morphism of ( F1 . a ),( F2 . a )))
proof
let a;
[ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] in ( Hom (( F1 . a ),( F2 . a )) ) by A1;
then [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] is (Morphism of ( F1 . a ),( F2 . a )) by CAT_1:def 4;
hence thesis by A5;
end;
(for a being (Object of A) holds ( Hom (( F1 . a ),( F2 . a )) ) <> ( {} )) by A1;
then A7: F1 is_transformable_to F2 by NATTRA_1:def 2;
then reconsider t as (transformation of F1,F2) by A6,NATTRA_1:def 3;
(for a,b being (Object of A) holds (( Hom (a,b) ) <> ( {} ) implies (for g being (Morphism of a,b) holds ( ( t . b ) * ( F1 . g ) ) = ( ( F2 . g ) * ( t . a ) ))))
proof
let a being (Object of A);
let b being (Object of A);
assume that
A8: ( Hom (a,b) ) <> ( {} );
A9: ( Hom (( F1 . a ),( F1 . b )) ) <> ( {} ) by A8,CAT_1:84;
let g being (Morphism of a,b);
A10: ( dom g ) = a by A8,CAT_1:5;
A11: ( rng ( hom (( cod f ),g) ) ) c= ( dom ( hom (f,b) ) )
proof
A12: ( cod g ) = b by A8,CAT_1:5;
per cases ;
suppose A13: ( Hom (( dom f ),b) ) = ( {} );

A14: ( rng ( hom (( cod f ),g) ) ) c= ( Hom (( cod f ),( cod g )) ) by RELAT_1:def 19;
( Hom (( cod f ),b) ) = ( {} ) by A13,ENS_1:42;
hence thesis by A12,A14,FUNCT_2:def 1;
end;
suppose A15: ( Hom (( dom f ),b) ) <> ( {} );

( cod g ) = b by A8,CAT_1:5;
then A16: (( rng ( hom (( cod f ),g) ) ) c= ( Hom (( cod f ),( cod g )) ) & ( Hom (( cod f ),( cod g )) ) = ( dom ( hom (f,b) ) )) by A15,FUNCT_2:def 1,RELAT_1:def 19;
let e being set;
assume e in ( rng ( hom (( cod f ),g) ) );
hence thesis by A16;
end;
end;
A17: ( rng ( hom (f,a) ) ) c= ( dom ( hom (( dom f ),g) ) )
proof
A18: ( dom g ) = a by A8,CAT_1:5;
per cases ;
suppose A19: ( Hom (( dom f ),( cod g )) ) = ( {} );

A20: ( rng ( hom (f,a) ) ) c= ( Hom (( dom f ),a) ) by RELAT_1:def 19;
( Hom (( dom f ),( dom g )) ) = ( {} ) by A19,ENS_1:42;
hence thesis by A18,A20,FUNCT_2:def 1;
end;
suppose A21: ( Hom (( dom f ),( cod g )) ) <> ( {} );

let e being set;
assume A22: e in ( rng ( hom (f,a) ) );
(( rng ( hom (f,a) ) ) c= ( Hom (( dom f ),a) ) & ( Hom (( dom f ),a) ) = ( dom ( hom (( dom f ),g) ) )) by A18,A21,FUNCT_2:def 1,RELAT_1:def 19;
hence thesis by A22;
end;
end;
A23: ( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) = ( dom ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) )
proof
per cases ;
suppose A24: ( Hom (( cod f ),( dom g )) ) = ( {} );

( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) = ( dom ( hom (( cod f ),g) ) ) by A11,RELAT_1:27
.= ( Hom (( cod f ),( dom g )) ) by A24,FUNCT_2:def 1
.= ( dom ( hom (f,a) ) ) by A10,A24,FUNCT_2:def 1
.= ( dom ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) ) by A17,RELAT_1:27;
hence thesis;
end;
suppose A25: ( Hom (( cod f ),( dom g )) ) <> ( {} );

then A26: ( Hom (( cod f ),( cod g )) ) <> ( {} ) by ENS_1:42;
A27: ( Hom (( dom f ),a) ) <> ( {} ) by A10,A25,ENS_1:42;
( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) = ( dom ( hom (( cod f ),g) ) ) by A11,RELAT_1:27
.= ( Hom (( cod f ),( dom g )) ) by A26,FUNCT_2:def 1
.= ( Hom (( cod f ),a) ) by A8,CAT_1:5
.= ( dom ( hom (f,a) ) ) by A27,FUNCT_2:def 1
.= ( dom ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) ) by A17,RELAT_1:27;
hence thesis;
end;
end;
A28: (for x being set holds (x in ( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ) implies ( ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) . x ) = ( ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) . x )))
proof
let x being set;
assume that
A29: x in ( dom ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) );
per cases ;
suppose A30: ( Hom (( cod f ),( dom g )) ) <> ( {} );

A31: x in ( dom ( hom (( cod f ),g) ) ) by A29,FUNCT_1:11;
( Hom (( cod f ),( cod g )) ) <> ( {} ) by A30,ENS_1:42;
then A32: x in ( Hom (( cod f ),( dom g )) ) by A31,FUNCT_2:def 1;
then reconsider x as (Morphism of A);
A33: (( dom g ) = ( cod x ) & ( dom x ) = ( cod f )) by A32,CAT_1:1;
A34: ( dom g ) = ( cod x ) by A32,CAT_1:1;
then A35: ( cod ( g * x ) ) = ( cod g ) by CAT_1:17
.= b by A8,CAT_1:5;
A36: ( ( hom (f,a) ) . x ) = ( x * f ) by A10,A32,ENS_1:def 20;
then reconsider h = ( ( hom (f,a) ) . x ) as (Morphism of A);
A37: ( dom x ) = ( cod f ) by A32,CAT_1:1;
then A38: ( dom ( x * f ) ) = ( dom f ) by CAT_1:17;
( dom ( g * x ) ) = ( dom x ) by A34,CAT_1:17
.= ( cod f ) by A32,CAT_1:1;
then A39: ( g * x ) in ( Hom (( cod f ),b) ) by A35,CAT_1:1;
( cod ( x * f ) ) = ( cod x ) by A37,CAT_1:17
.= ( dom g ) by A32,CAT_1:1;
then A40: ( ( hom (f,a) ) . x ) in ( Hom (( dom f ),( dom g )) ) by A36,A38,CAT_1:1;
( ( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) . x ) = ( ( hom (f,b) ) . ( ( hom (( cod f ),g) ) . x ) ) by A29,FUNCT_1:12
.= ( ( hom (f,b) ) . ( g * x ) ) by A32,ENS_1:def 19
.= ( ( g * x ) * f ) by A39,ENS_1:def 20
.= ( g * ( x * f ) ) by A33,CAT_1:18
.= ( g * h ) by A10,A32,ENS_1:def 20
.= ( ( hom (( dom f ),g) ) . ( ( hom (f,a) ) . x ) ) by A40,ENS_1:def 19
.= ( ( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) . x ) by A23,A29,FUNCT_1:12;
hence thesis;
end;
suppose A41: ( Hom (( cod f ),( dom g )) ) = ( {} );

x in ( dom ( hom (( cod f ),g) ) ) by A29,FUNCT_1:11;
hence thesis by A41,FUNCT_2:def 1;
end;
end;
A42: ( Hom (( F2 . a ),( F2 . b )) ) <> ( {} ) by A8,CAT_1:84;
A43: ( cod g ) = b by A8,CAT_1:5;
reconsider f4 = ( t . a ) as (Morphism of ( EnsHom A ));
A44: ( t . a ) = ( (t qua (Function of (the carrier of A),(the carrier' of B))) . a ) by A7,NATTRA_1:def 5
.= [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ],( hom (f,a) ) ] by A5;
then reconsider f49 = f4 as (Element of ( Maps ( Hom A ) )) by ENS_1:48;
A45: ( Hom (( F1 . a ),( F2 . a )) ) <> ( {} ) by A1;
reconsider f1 = ( t . b ) as (Morphism of ( EnsHom A ));
A46: ( t . b ) = ( (t qua (Function of (the carrier of A),(the carrier' of B))) . b ) by A7,NATTRA_1:def 5
.= [ [ ( Hom (( cod f ),b) ),( Hom (( dom f ),b) ) ],( hom (f,b) ) ] by A5;
then reconsider f19 = f1 as (Element of ( Maps ( Hom A ) )) by ENS_1:48;
A47: ( EnsHom A ) = CatStr (# ( Hom A ),( Maps ( Hom A ) ),( fDom ( Hom A ) ),( fCod ( Hom A ) ),( fComp ( Hom A ) ),( fId ( Hom A ) ) #) by ENS_1:def 13;
then A48: ( cod f1 ) = ( ( fCod ( Hom A ) ) . f1 )
.= ( cod f19 ) by ENS_1:def 10
.= ( ( f1 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),b) ),( Hom (( dom f ),b) ) ] `2 ) by A46,MCART_1:7
.= ( Hom (( dom f ),b) ) by MCART_1:7;
A49: ( dom f4 ) = ( ( fDom ( Hom A ) ) . f4 ) by A47
.= ( dom f49 ) by ENS_1:def 9
.= ( ( f4 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `1 ) by A44,MCART_1:7
.= ( Hom (( cod f ),a) ) by MCART_1:7;
A50: ( cod f4 ) = ( ( fCod ( Hom A ) ) . f4 ) by A47
.= ( cod f49 ) by ENS_1:def 10
.= ( ( f4 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),a) ),( Hom (( dom f ),a) ) ] `2 ) by A44,MCART_1:7
.= ( Hom (( dom f ),a) ) by MCART_1:7;
reconsider f2 = ( F1 . g ) as (Morphism of ( EnsHom A ));
A51: f2 = ( ( hom?- ( cod f ) ) . g ) by A8,NATTRA_1:def 1
.= [ [ ( Hom (( cod f ),( dom g )) ),( Hom (( cod f ),( cod g )) ) ],( hom (( cod f ),g) ) ] by ENS_1:def 21;
then reconsider f29 = f2 as (Element of ( Maps ( Hom A ) )) by ENS_1:47;
A52: ( dom f2 ) = ( ( fDom ( Hom A ) ) . f2 ) by A47
.= ( dom f29 ) by ENS_1:def 9
.= ( ( f2 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),( dom g )) ),( Hom (( cod f ),( cod g )) ) ] `1 ) by A51,MCART_1:7
.= ( Hom (( cod f ),( dom g )) ) by MCART_1:7;
A53: ( cod f2 ) = ( ( fCod ( Hom A ) ) . f2 ) by A47
.= ( cod f29 ) by ENS_1:def 10
.= ( ( f2 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( cod f ),( dom g )) ),( Hom (( cod f ),( cod g )) ) ] `2 ) by A51,MCART_1:7
.= ( Hom (( cod f ),( cod g )) ) by MCART_1:7;
A54: ( dom f1 ) = ( ( fDom ( Hom A ) ) . f1 ) by A47
.= ( dom f19 ) by ENS_1:def 9
.= ( ( f1 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( cod f ),b) ),( Hom (( dom f ),b) ) ] `1 ) by A46,MCART_1:7
.= ( Hom (( cod f ),b) ) by MCART_1:7;
then A55: ( cod f2 ) = ( dom f1 ) by A8,A53,CAT_1:5;
reconsider f3 = ( F2 . g ) as (Morphism of ( EnsHom A ));
A56: f3 = ( ( hom?- ( dom f ) ) . g ) by A8,NATTRA_1:def 1
.= [ [ ( Hom (( dom f ),( dom g )) ),( Hom (( dom f ),( cod g )) ) ],( hom (( dom f ),g) ) ] by ENS_1:def 21;
then reconsider f39 = f3 as (Element of ( Maps ( Hom A ) )) by ENS_1:47;
A57: ( cod f3 ) = ( ( fCod ( Hom A ) ) . f3 ) by A47
.= ( cod f39 ) by ENS_1:def 10
.= ( ( f3 `1 ) `2 ) by ENS_1:def 4
.= ( [ ( Hom (( dom f ),( dom g )) ),( Hom (( dom f ),( cod g )) ) ] `2 ) by A56,MCART_1:7
.= ( Hom (( dom f ),( cod g )) ) by MCART_1:7;
A58: ( dom f3 ) = ( ( fDom ( Hom A ) ) . f3 ) by A47
.= ( dom f39 ) by ENS_1:def 9
.= ( ( f3 `1 ) `1 ) by ENS_1:def 3
.= ( [ ( Hom (( dom f ),( dom g )) ),( Hom (( dom f ),( cod g )) ) ] `1 ) by A56,MCART_1:7
.= ( Hom (( dom f ),( dom g )) ) by MCART_1:7;
then A59: ( cod f4 ) = ( dom f3 ) by A8,A50,CAT_1:5;
( Hom (( F1 . b ),( F2 . b )) ) <> ( {} ) by A1;
then ( ( t . b ) * ( F1 . g ) ) = ( f1 * f2 ) by A9,CAT_1:def 10
.= [ [ ( Hom (( cod f ),( dom g )) ),( Hom (( dom f ),b) ) ],( ( hom (f,b) ) * ( hom (( cod f ),g) ) ) ] by A46,A54,A48,A51,A52,A53,A55,CKB2:1
.= [ [ ( Hom (( cod f ),a) ),( Hom (( dom f ),( cod g )) ) ],( ( hom (( dom f ),g) ) * ( hom (f,a) ) ) ] by A10,A43,A23,A28,FUNCT_1:2
.= ( f3 * f4 ) by A56,A58,A57,A44,A49,A50,A59,CKB2:1
.= ( ( F2 . g ) * ( t . a ) ) by A42,A45,CAT_1:def 10;
hence thesis;
end;
hence thesis by A7,NATTRA_1:def 7;
end;
