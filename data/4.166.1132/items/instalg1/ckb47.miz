environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,RELAT_1,PBOOLE,MSATERM,MSAFREE,SUBSET_1,DTCONSTR,FINSEQ_1,TDGROUP,TREES_3,TARSKI,FUNCT_1,NUMBERS,MARGREL1,PARTFUN1,PZFMISC1,TREES_4,FUNCT_6,MSUALG_3,MSUALG_6,PUA2MSS1,CARD_3,ORDINAL1,RLTOPSP1,FUNCT_4,REWRITE1,REALSET1,CAT_1,ZFMISC_1,NAT_1,MEMBER_1,INSTALG1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,RELAT_1,FUNCT_1,NUMBERS,NAT_1,FINSEQ_1,STRUCT_0,FINSEQ_2,CARD_3,LANG1,TREES_3,TREES_4,DTCONSTR,REWRITE1,FUNCT_7,PBOOLE,PZFMISC1,MSUALG_1,PARTFUN1,FUNCT_2,PRALG_2,MSUALG_3,PUA2MSS1,MSAFREE,MSATERM,MSUALG_6,CKB8,CKB17,CKB32,CKB33;
definitions TARSKI,STRUCT_0,FUNCT_1,MSUALG_1,MSUALG_3,PUA2MSS1,MSUALG_6,PBOOLE,PZFMISC1,CKB8,CKB17,CKB32,CKB33;
theorems ZFMISC_1,RELAT_1,FUNCT_1,GRFUNC_1,FUNCT_2,FINSEQ_1,TARSKI,TREES_4,PBOOLE,MSUALG_1,MSUALG_3,REWRITE1,PRALG_2,PUA2MSS1,MSAFREE,MSATERM,EXTENS_1,MSUALG_6,RELSET_1,XBOOLE_0,MSALIMIT,PARTFUN1,FINSEQ_2,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB15,CKB16,CKB17,CKB18,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46;
schemes CLASSES1,MSATERM,MSUALG_6,FUNCT_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,PBOOLE,TREES_3,STRUCT_0,MSUALG_1,MSUALG_3,MSAFREE,MSATERM,MSUALG_9,ORDINAL1,RELSET_1,CKB2,CKB10,CKB11,CKB12,CKB13,CKB14,CKB19,CKB27,CKB28,CKB36;
constructors XXREAL_0,NAT_1,REWRITE1,PZFMISC1,FUNCT_7,PRALG_2,MSUALG_3,MSATERM,PUA2MSS1,MSUALG_6,RELSET_1,CKB8,CKB17,CKB32,CKB33;
requirements SUBSET,BOOLE;
begin
theorem
Th34: (for S1,S2 being non void non empty ManySortedSign holds (for f,g being Function holds (f,g form_morphism_between S1,S2 implies (for A,B being MSAlgebra over S2 holds (for h2 being (ManySortedFunction of A,B) holds (for h1 being (ManySortedFunction of ( A | (S1,f,g) ),( B | (S1,f,g) )) holds (h1 = ( h2 * f ) implies (for o1 being (OperSymbol of S1) holds (for o2 being (OperSymbol of S2) holds (((o2 = ( g . o1 ) & ( Args (o2,A) ) <> ( {} )) & ( Args (o2,B) ) <> ( {} )) implies (for x2 being (Element of ( Args (o2,A) )) holds (for x1 being (Element of ( Args (o1,( A | (S1,f,g) )) )) holds (x2 = x1 implies ( h1 # x1 ) = ( h2 # x2 ))))))))))))))
proof
let S1 being non void non empty ManySortedSign,S2 being non void non empty ManySortedSign;
let f being Function,g being Function;
assume that
A1: f,g form_morphism_between S1,S2;
let A2 being MSAlgebra over S2,B2 being MSAlgebra over S2;
set A1 = ( A2 | (S1,f,g) );
set B1 = ( B2 | (S1,f,g) );
let h2 being (ManySortedFunction of A2,B2);
let h1 being (ManySortedFunction of A1,B1);
assume that
A2: h1 = ( h2 * f );
let o1 being (OperSymbol of S1);
let o2 being (OperSymbol of S2);
assume that
A3: o2 = ( g . o1 );
assume that
A4: ( Args (o2,A2) ) <> ( {} )
and
A5: ( Args (o2,B2) ) <> ( {} );
let x2 being (Element of ( Args (o2,A2) ));
let x1 being (Element of ( Args (o1,A1) ));
assume A6: x2 = x1;
then reconsider f1 = x1,f2 = x2,g2 = ( h2 # x2 ) as Function by A4,A5,MSUALG_6:1;
A7: ( Args (o2,A2) ) = ( Args (o1,A1) ) by A1,A3,CKB38:1;
then A8: ( dom f1 ) = ( dom ( the_arity_of o1 ) ) by A4,MSUALG_3:6;
A9: ( dom f2 ) = ( dom ( the_arity_of o2 ) ) by A4,MSUALG_3:6;
A10:now
let i being  natural number;
assume A11: i in ( dom f1 );
( dom f ) = (the carrier of S1) by A1,PUA2MSS1:def 12;
then ( h1 . ( ( the_arity_of o1 ) /. i ) ) = ( h2 . ( f . ( ( the_arity_of o1 ) /. i ) ) ) by A2,FUNCT_1:13
.= ( h2 . ( f . ( ( the_arity_of o1 ) . i ) ) ) by A8,A11,PARTFUN1:def 6
.= ( h2 . ( ( f * ( the_arity_of o1 ) ) . i ) ) by A8,A11,FUNCT_1:13
.= ( h2 . ( ( the_arity_of o2 ) . i ) ) by A1,A3,PUA2MSS1:def 12
.= ( h2 . ( ( the_arity_of o2 ) /. i ) ) by A6,A9,A11,PARTFUN1:def 6;
hence ( g2 . i ) = ( ( h1 . ( ( the_arity_of o1 ) /. i ) ) . ( f1 . i ) ) by A4,A5,A6,A11,MSUALG_3:24;
end;
( Args (o2,B2) ) = ( Args (o1,B1) ) by A1,A3,CKB38:1;
hence thesis by A4,A5,A7,A10,MSUALG_3:24;
end;
