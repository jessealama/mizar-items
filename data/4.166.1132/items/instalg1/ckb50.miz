environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,RELAT_1,PBOOLE,MSATERM,MSAFREE,SUBSET_1,DTCONSTR,FINSEQ_1,TDGROUP,TREES_3,TARSKI,FUNCT_1,NUMBERS,MARGREL1,PARTFUN1,PZFMISC1,TREES_4,FUNCT_6,MSUALG_3,MSUALG_6,PUA2MSS1,CARD_3,ORDINAL1,RLTOPSP1,FUNCT_4,REWRITE1,REALSET1,CAT_1,ZFMISC_1,NAT_1,MEMBER_1,INSTALG1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,RELAT_1,FUNCT_1,NUMBERS,NAT_1,FINSEQ_1,STRUCT_0,FINSEQ_2,CARD_3,LANG1,TREES_3,TREES_4,DTCONSTR,REWRITE1,FUNCT_7,PBOOLE,PZFMISC1,MSUALG_1,PARTFUN1,FUNCT_2,PRALG_2,MSUALG_3,PUA2MSS1,MSAFREE,MSATERM,MSUALG_6,CKB8,CKB17,CKB32,CKB33;
definitions TARSKI,STRUCT_0,FUNCT_1,MSUALG_1,MSUALG_3,PUA2MSS1,MSUALG_6,PBOOLE,PZFMISC1,CKB8,CKB17,CKB32,CKB33;
theorems ZFMISC_1,RELAT_1,FUNCT_1,GRFUNC_1,FUNCT_2,FINSEQ_1,TARSKI,TREES_4,PBOOLE,MSUALG_1,MSUALG_3,REWRITE1,PRALG_2,PUA2MSS1,MSAFREE,MSATERM,EXTENS_1,MSUALG_6,RELSET_1,XBOOLE_0,MSALIMIT,PARTFUN1,FINSEQ_2,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB15,CKB16,CKB17,CKB18,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49;
schemes CLASSES1,MSATERM,MSUALG_6,FUNCT_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,PBOOLE,TREES_3,STRUCT_0,MSUALG_1,MSUALG_3,MSAFREE,MSATERM,MSUALG_9,ORDINAL1,RELSET_1,CKB2,CKB10,CKB11,CKB12,CKB13,CKB14,CKB19,CKB27,CKB28,CKB36;
constructors XXREAL_0,NAT_1,REWRITE1,PZFMISC1,FUNCT_7,PRALG_2,MSUALG_3,MSATERM,PUA2MSS1,MSUALG_6,RELSET_1,CKB8,CKB17,CKB32,CKB33;
requirements SUBSET,BOOLE;
begin
theorem
Th37: (for S,S9 being non empty non void ManySortedSign holds (for A being  non-empty MSAlgebra over S holds (for f being (Function of (the carrier of S9),(the carrier of S)) holds (for g being Function holds (f,g form_morphism_between S9,S implies (for B being  non-empty MSAlgebra over S9 holds (B = ( A | (S9,f,g) ) implies (for s1,s2 being (SortSymbol of S9) holds (for t being Function holds (t is_e.translation_of B,s1,s2 implies t is_e.translation_of A,( f . s1 ),( f . s2 )))))))))))
proof
let S being non empty non void ManySortedSign,S9 being non empty non void ManySortedSign;
let A being  non-empty MSAlgebra over S;
let f being (Function of (the carrier of S9),(the carrier of S));
let g being Function;
assume that
A1: f,g form_morphism_between S9,S;
A2: (( dom g ) = (the carrier' of S9) & ( rng g ) c= (the carrier' of S)) by A1,PUA2MSS1:def 12;
let B being  non-empty MSAlgebra over S9;
assume that
A3: B = ( A | (S9,f,g) );
reconsider g as (Function of (the carrier' of S9),(the carrier' of S)) by A2,FUNCT_2:def 1,RELSET_1:4;
let s1 being (SortSymbol of S9),s2 being (SortSymbol of S9);
let t being Function;
given o being (OperSymbol of S9) such that
A4: ( the_result_sort_of o ) = s2
and
A5: (ex i being (Element of ( NAT )) st ((i in ( dom ( the_arity_of o ) ) & ( ( the_arity_of o ) /. i ) = s1) & (ex a being Function st (a in ( Args (o,B) ) & t = ( transl (o,i,a,B) )))));

A6: ( f * ( the_arity_of o ) ) = ( the_arity_of ( g . o ) ) by A1,PUA2MSS1:def 12;
take ( g . o );
( f * (the ResultSort of S9) ) = ( (the ResultSort of S) * g ) by A1,PUA2MSS1:def 12;
hence ( the_result_sort_of ( g . o ) ) = ( ( f * (the ResultSort of S9) ) . o ) by FUNCT_2:15
.= ( f . s2 ) by A4,FUNCT_2:15;
consider i being (Element of ( NAT )),a being Function such that A7: i in ( dom ( the_arity_of o ) ) and A8: ( ( the_arity_of o ) /. i ) = s1 and A9: a in ( Args (o,B) ) and A10: t = ( transl (o,i,a,B) ) by A5;
take i;
(( rng ( the_arity_of o ) ) c= (the carrier of S9) & ( dom f ) = (the carrier of S9)) by FINSEQ_1:def 4,FUNCT_2:def 1;
hence i in ( dom ( the_arity_of ( g . o ) ) ) by A7,A6,RELAT_1:27;
hence A11: ( ( the_arity_of ( g . o ) ) /. i ) = ( ( the_arity_of ( g . o ) ) . i ) by PARTFUN1:def 6
.= ( f . ( ( the_arity_of o ) . i ) ) by A7,A6,FUNCT_1:13
.= ( f . s1 ) by A7,A8,PARTFUN1:def 6;
then A12: ( dom ( transl (( g . o ),i,a,A) ) ) = ( (the Sorts of A) . ( f . s1 ) ) by MSUALG_6:def 4;
A13: (the Sorts of B) = ( (the Sorts of A) * f ) by A1,A3,CKB32:def 1;
then A14: ( (the Sorts of B) . s1 ) = ( (the Sorts of A) . ( f . s1 ) ) by FUNCT_2:15;
A15:now
let x being set;
assume x in ( (the Sorts of B) . s1 );
then (( t . x ) = ( ( Den (o,B) ) . ( a +* (i,x) ) ) & ( ( transl (( g . o ),i,a,A) ) . x ) = ( ( Den (( g . o ),A) ) . ( a +* (i,x) ) )) by A8,A10,A11,A14,MSUALG_6:def 4;
hence ( t . x ) = ( ( transl (( g . o ),i,a,A) ) . x ) by A1,A3,CKB37:1;
end;
take a;
thus a in ( Args (( g . o ),A) ) by A1,A3,A9,CKB38:1;
( dom t ) = ( (the Sorts of B) . s1 ) by A8,A10,MSUALG_6:def 4;
hence thesis by A12,A13,A15,FUNCT_1:2,FUNCT_2:15;
end;
