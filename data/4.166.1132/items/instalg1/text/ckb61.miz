environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,RELAT_1,PBOOLE,MSATERM,MSAFREE,SUBSET_1,DTCONSTR,FINSEQ_1,TDGROUP,TREES_3,TARSKI,FUNCT_1,NUMBERS,MARGREL1,PARTFUN1,PZFMISC1,TREES_4,FUNCT_6,MSUALG_3,MSUALG_6,PUA2MSS1,CARD_3,ORDINAL1,RLTOPSP1,FUNCT_4,REWRITE1,REALSET1,CAT_1,ZFMISC_1,NAT_1,MEMBER_1,INSTALG1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,RELAT_1,FUNCT_1,NUMBERS,NAT_1,FINSEQ_1,STRUCT_0,FINSEQ_2,CARD_3,LANG1,TREES_3,TREES_4,DTCONSTR,REWRITE1,FUNCT_7,PBOOLE,PZFMISC1,MSUALG_1,PARTFUN1,FUNCT_2,PRALG_2,MSUALG_3,PUA2MSS1,MSAFREE,MSATERM,MSUALG_6,CKB8,CKB17,CKB32,CKB33,CKB57;
definitions TARSKI,STRUCT_0,FUNCT_1,MSUALG_1,MSUALG_3,PUA2MSS1,MSUALG_6,PBOOLE,PZFMISC1,CKB8,CKB17,CKB32,CKB33,CKB57;
theorems ZFMISC_1,RELAT_1,FUNCT_1,GRFUNC_1,FUNCT_2,FINSEQ_1,TARSKI,TREES_4,PBOOLE,MSUALG_1,MSUALG_3,REWRITE1,PRALG_2,PUA2MSS1,MSAFREE,MSATERM,EXTENS_1,MSUALG_6,RELSET_1,XBOOLE_0,MSALIMIT,PARTFUN1,FINSEQ_2,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB15,CKB16,CKB17,CKB18,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB55,CKB57,CKB58,CKB59,CKB60;
schemes CLASSES1,MSATERM,MSUALG_6,FUNCT_1,CKB54;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,PBOOLE,TREES_3,STRUCT_0,MSUALG_1,MSUALG_3,MSAFREE,MSATERM,MSUALG_9,ORDINAL1,RELSET_1,CKB2,CKB10,CKB11,CKB12,CKB13,CKB14,CKB19,CKB27,CKB28,CKB36,CKB56;
constructors XXREAL_0,NAT_1,REWRITE1,PZFMISC1,FUNCT_7,PRALG_2,MSUALG_3,MSATERM,PUA2MSS1,MSUALG_6,RELSET_1,CKB8,CKB17,CKB32,CKB33,CKB57;
requirements SUBSET,BOOLE;
begin
theorem
(for S being non void non empty ManySortedSign holds (for X being  non-empty (ManySortedSet of (the carrier of S)) holds ( hom (( id (the carrier of S) ),( id (the carrier' of S) ),X,S,S) ) = ( id (the Sorts of ( FreeMSA X )) )))
proof
let S being non void non empty ManySortedSign;
let X being  non-empty (ManySortedSet of (the carrier of S));
set f = ( id (the carrier of S) );
set h = ( hom (f,( id (the carrier' of S) ),X,S,S) );
set I = ( id (the Sorts of ( FreeMSA X )) );
set g = ( id (the carrier' of S) );
A1: f,g form_morphism_between S,S by PUA2MSS1:28;
( dom X ) = (the carrier of S) by PARTFUN1:def 2;
then A2: ( X * f ) = X by RELAT_1:52;
A3: ( ( FreeMSA X ) | (S,f,g) ) = ( FreeMSA X ) by CKB39:1;
A4:now
let i being set;
assume i in (the carrier of S);
then reconsider s = i as (SortSymbol of S);
( FreeGen X ) c= (the Sorts of ( FreeMSA X )) by PBOOLE:def 18;
then A5: ( ( FreeGen X ) . s ) c= ( (the Sorts of ( FreeMSA X )) . s ) by PBOOLE:def 2;
then ( ( I . s ) | ( ( FreeGen X ) . s ) ) is (Function of ( ( FreeGen X ) . s ),( (the Sorts of ( FreeMSA X )) . s )) by FUNCT_2:32;
then A6: ( dom ( ( I . s ) | ( ( FreeGen X ) . s ) ) ) = ( ( FreeGen X ) . s ) by FUNCT_2:def 1;
A7:now
let a being set;
assume A8: a in ( ( FreeGen X ) . s );
then reconsider b = a as (Element of ( FreeMSA X ),s) by A5;
b in ( FreeGen (s,X) ) by A8,MSAFREE:def 16;
then consider x being set such that A9: x in ( X . s ) and A10: b = ( root-tree [ x,s ] ) by MSAFREE:def 15;
thus ( ( ( I . s ) | ( ( FreeGen X ) . s ) ) . a ) = ( ( I . s ) . b ) by A8,FUNCT_1:49
.= ( ( id ( (the Sorts of ( FreeMSA X )) . s ) ) . b ) by MSUALG_3:def 1
.= b by FUNCT_1:18
.= ( root-tree [ x,( f . s ) ] ) by A10,FUNCT_1:18
.= ( ( h . s ) . b ) by A1,A2,A9,A10,CKB57:def 1
.= ( ( ( h . s ) | ( ( FreeGen X ) . s ) ) . a ) by A8,FUNCT_1:49;
end;
( ( h . s ) | ( ( FreeGen X ) . s ) ) is (Function of ( ( FreeGen X ) . s ),( (the Sorts of ( FreeMSA X )) . s )) by A2,A3,A5,FUNCT_2:32;
then A11: ( dom ( ( h . s ) | ( ( FreeGen X ) . s ) ) ) = ( ( FreeGen X ) . s ) by FUNCT_2:def 1;
(( ( I || ( FreeGen X ) ) . s ) = ( ( I . s ) | ( ( FreeGen X ) . s ) ) & ( ( h || ( FreeGen ( X * f ) ) ) . s ) = ( ( h . s ) | ( ( FreeGen ( X * f ) ) . s ) )) by MSAFREE:def 1;
hence ( ( I || ( FreeGen X ) ) . i ) = ( ( h || ( FreeGen ( X * f ) ) ) . i ) by A2,A6,A11,A7,FUNCT_1:2;
end;
(I is_homomorphism ( FreeMSA X ),( FreeMSA X ) & h is_homomorphism ( FreeMSA ( X * f ) ),( ( FreeMSA X ) | (S,f,g) )) by A1,CKB57:def 1,MSUALG_3:9;
hence thesis by A2,A3,A4,EXTENS_1:19,PBOOLE:3;
end;
