environ
vocabularies NUMBERS,FINSEQ_1,ZFMISC_1,SUBSET_1,XXREAL_0,ARYTM_3,PARTFUN1,TARSKI,NAT_1,CARD_1,XBOOLE_0,FINSET_1,FUNCT_1,RELAT_1,ORDINAL1,COMPLEX1,ARYTM_1,STRUCT_0,ORDERS_2,EQREL_1,FUNCOP_1,FUNCT_2,RELAT_2,SETFAM_1,RCOMP_1,FIN_TOPO;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XCMPLX_0,FINSET_1,SETFAM_1,RELAT_1,EQREL_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,DOMAIN_1,RELSET_1,FINSEQ_1,INT_2,NAT_1,XXREAL_0,STRUCT_0,ORDERS_2,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB16,CKB18,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB33,CKB34,CKB35,CKB36,CKB37;
definitions TARSKI,STRUCT_0,ORDINAL1,XBOOLE_0,SUBSET_1,RELAT_2,ORDERS_2,RELAT_1,FUNCOP_1,SETFAM_1,CKB5,CKB7,CKB8,CKB11,CKB16,CKB18,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB33,CKB34,CKB35,CKB36,CKB37;
theorems NAT_1,TARSKI,FUNCOP_1,SUBSET_1,ZFMISC_1,FINSET_1,INT_1,CARD_1,FINSEQ_4,FUNCT_1,FUNCT_2,FINSEQ_1,ABSVALUE,RELSET_1,XBOOLE_0,XBOOLE_1,MEASURE2,XREAL_1,XXREAL_0,ORDINAL1,RELAT_1,EQREL_1,ORDERS_2,PARTFUN1,CKB1,CKB2,CKB5,CKB7,CKB8,CKB11,CKB12,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39;
schemes NAT_1,FINSEQ_2,DOMAIN_1,CKB3;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FUNCOP_1,XXREAL_0,XREAL_0,NAT_1,INT_1,STRUCT_0,FINSET_1,FINSEQ_1,CKB4,CKB9,CKB13,CKB14;
constructors SETFAM_1,DOMAIN_1,FUNCOP_1,XXREAL_0,REAL_1,NAT_1,INT_2,EQREL_1,FINSEQ_4,ORDERS_2,SEQ_1,RELSET_1,CKB5,CKB6,CKB7,CKB8,CKB16,CKB18,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB33,CKB34,CKB35,CKB36,CKB37;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
(for FT being  filled  finite non empty RelStr holds (for A being (Subset of FT) holds (A is  connected iff (for x being (Element of FT) holds (x in A implies (ex S being (FinSequence of ( bool (the carrier of FT) )) st (((( len S ) > ( 0 ) & ( S /. 1 ) = { x }) & (for i being (Element of ( NAT )) holds ((i > ( 0 ) & i < ( len S )) implies ( S /. ( i + 1 ) ) = ( ( ( S /. i ) ^b ) /\ A )))) & A c= ( S /. ( len S ) ))))))))
proof
let FT being  filled  finite non empty RelStr;
let A being (Subset of FT);
thus (A is  connected implies (for x being (Element of FT) holds (x in A implies (ex S being (FinSequence of ( bool (the carrier of FT) )) st (((( len S ) > ( 0 ) & ( S /. 1 ) = { x }) & (for i being (Element of ( NAT )) holds ((i > ( 0 ) & i < ( len S )) implies ( S /. ( i + 1 ) ) = ( ( ( S /. i ) ^b ) /\ A )))) & A c= ( S /. ( len S ) ))))))
proof
deffunc F((Subset of FT)) = ( ( $1 ^b ) /\ A );
assume A1: A is  connected;
let x being (Element of FT);
assume x in A;
then A2: { x } c= A by ZFMISC_1:31;
A3: (for B being (Subset of FT) holds (B c= A implies (B c= F(B) & F(B) c= A)))
proof
let B being (Subset of FT);
assume that
A4: B c= A;
B c= ( B ^b ) by CKB38:1;
hence B c= ( ( B ^b ) /\ A ) by A4,XBOOLE_1:19;
thus thesis by XBOOLE_1:17;
end;
A5: A is  finite;
consider S being (FinSequence of ( bool (the carrier of FT) )) such that A6: ( len S ) > ( 0 ) and A7: ( S /. 1 ) = { x } and A8: (for i being (Element of ( NAT )) holds ((i > ( 0 ) & i < ( len S )) implies ( S /. ( i + 1 ) ) = F(( S /. i )))) and A9: F(( S /. ( len S ) )) = ( S /. ( len S ) ) and A10: (for i,j being (Element of ( NAT )) holds (((i > ( 0 ) & i < j) & j <= ( len S )) implies (( S /. i ) c= A & ( S /. i ) c< ( S /. j )))) from CKB3:sch 1(A5,A2,A3);
consider k being Nat such that A11: ( len S ) = ( k + 1 ) by A6,NAT_1:6;
set B = ( S /. ( len S ) );
set C = ( A \ B );
A12: B misses ( A \ B ) by XBOOLE_1:79;
defpred P[ (Element of ( NAT )) ]
 means
($1 < ( len S ) implies ( S /. ( $1 + 1 ) ) <> ( {} ));
A13:now
let i being (Element of ( NAT ));
assume A14: P[ i ];
thus P[ ( i + 1 ) ]
proof
assume A15: ( i + 1 ) < ( len S );
then (( i + 1 ) < ( ( i + 1 ) + 1 ) & ( ( i + 1 ) + 1 ) <= ( len S )) by NAT_1:13;
then ( S /. ( i + 1 ) ) c< ( S /. ( ( i + 1 ) + 1 ) ) by A10;
then ( S /. ( i + 1 ) ) c= ( S /. ( ( i + 1 ) + 1 ) ) by XBOOLE_0:def 8;
hence thesis by A14,A15,NAT_1:13;
end;

end;
A16: P[ ( 0 ) ] by A7;
A17: (for i being (Element of ( NAT )) holds P[ i ]) from NAT_1:sch 1(A16,A13);
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
k < ( len S ) by A11,NAT_1:13;
then A18: B <> ( {} ) by A17,A11;
take S;
thus ( len S ) > ( 0 ) by A6;
thus ( S /. 1 ) = { x } by A7;
thus (for i being (Element of ( NAT )) holds ((i > ( 0 ) & i < ( len S )) implies ( S /. ( i + 1 ) ) = ( ( ( S /. i ) ^b ) /\ A ))) by A8;
assume (not A c= ( S /. ( len S ) ));
then A19: C <> ( {} ) by XBOOLE_1:37;
( ( B ^b ) /\ C ) = ( ( B ^b ) /\ ( A /\ ( A \ B ) ) ) by XBOOLE_1:28,XBOOLE_1:36
.= ( B /\ ( A \ B ) ) by A9,XBOOLE_1:16
.= ( {} ) by A12,XBOOLE_0:def 7;
then A20: (B misses C & ( B ^b ) misses C) by XBOOLE_0:def 7,XBOOLE_1:79;
( B \/ C ) = ( B \/ A ) by XBOOLE_1:39
.= A by A9,XBOOLE_1:12,XBOOLE_1:17;
hence contradiction by A1,A19,A18,A20,CKB35:def 1;
end;

assume A21: (for x being (Element of FT) holds (x in A implies (ex S being (FinSequence of ( bool (the carrier of FT) )) st (((( len S ) > ( 0 ) & ( S /. 1 ) = { x }) & (for i being (Element of ( NAT )) holds ((i > ( 0 ) & i < ( len S )) implies ( S /. ( i + 1 ) ) = ( ( ( S /. i ) ^b ) /\ A )))) & A c= ( S /. ( len S ) )))));
given B being (Subset of FT),C being (Subset of FT) such that
A22: A = ( B \/ C )
and
A23: B <> ( {} )
and
A24: C <> ( {} )
and
A25: B misses C
and
A26: ( B ^b ) misses C;

set x = the (Element of B);
x in A by A22,A23,XBOOLE_0:def 3;
then consider S being (FinSequence of ( bool (the carrier of FT) )) such that A27: ( len S ) > ( 0 ) and A28: ( S /. 1 ) = { x } and A29: (for i being (Element of ( NAT )) holds ((i > ( 0 ) & i < ( len S )) implies ( S /. ( i + 1 ) ) = ( ( ( S /. i ) ^b ) /\ A ))) and A30: A c= ( S /. ( len S ) ) by A21;
consider k being Nat such that A31: ( len S ) = ( k + 1 ) by A27,NAT_1:6;
defpred P[ (Element of ( NAT )) ]
 means
($1 < ( len S ) implies ( S /. ( $1 + 1 ) ) c= B);
( ( B ^b ) /\ C ) = ( {} ) by A26,XBOOLE_0:def 7;
then A32: ( ( B ^b ) /\ A ) = ( ( ( B ^b ) /\ B ) \/ ( {} ) ) by A22,XBOOLE_1:23
.= B by CKB38:1,XBOOLE_1:28;
A33:now
let i being (Element of ( NAT ));
assume A34: P[ i ];
thus P[ ( i + 1 ) ]
proof
assume A35: ( i + 1 ) < ( len S );
then ( ( S /. ( i + 1 ) ) ^b ) c= ( B ^b ) by A34,CKB39:1,NAT_1:13;
then ( ( ( S /. ( i + 1 ) ) ^b ) /\ A ) c= ( ( B ^b ) /\ A ) by XBOOLE_1:26;
hence thesis by A32,A29,A35;
end;

end;
A36: P[ ( 0 ) ] by A23,A28,ZFMISC_1:31;
A37: (for i being (Element of ( NAT )) holds P[ i ]) from NAT_1:sch 1(A36,A33);
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
k < ( len S ) by A31,NAT_1:13;
then A38: ( S /. ( len S ) ) c= B by A37,A31;
A39: B c= A by A22,XBOOLE_1:7;
then ( S /. ( len S ) ) c= A by A38,XBOOLE_1:1;
then ( S /. ( len S ) ) = A by A30,XBOOLE_0:def 10;
then A40: A = B by A39,A38,XBOOLE_0:def 10;
( B /\ C ) = ( {} ) by A25,XBOOLE_0:def 7;
hence contradiction by A22,A24,A40,XBOOLE_1:7,XBOOLE_1:28;
end;
