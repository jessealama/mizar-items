environ
vocabularies LATTICES,SUBSET_1,XBOOLE_0,PBOOLE,EQREL_1,CARD_FIL,STRUCT_0,TARSKI,ORDINAL1,ZFMISC_1,SETFAM_1,INT_2,XBOOLEAN,BINOP_1,REALSET1,FUNCT_1,RELAT_1,MCART_1,XXREAL_2,RELAT_2,FILTER_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,FUNCT_1,MCART_1,ORDINAL1,RELAT_2,FUNCT_2,BINOP_1,REALSET1,STRUCT_0,LATTICES,DOMAIN_1,RELAT_1,RELSET_1,EQREL_1,CKB8,CKB16,CKB17,CKB21,CKB25,CKB32,CKB34,CKB36,CKB37,CKB45;
definitions TARSKI,XBOOLE_0,LATTICES,RELAT_1,RELAT_2,BINOP_1,REALSET1,STRUCT_0,CKB16,CKB17,CKB21,CKB25,CKB32,CKB34,CKB37,CKB45;
theorems TARSKI,ZFMISC_1,SETFAM_1,FUNCT_1,MCART_1,FUNCT_2,LATTICES,RELAT_1,ORDERS_1,RLSUB_2,WELLSET1,RELSET_1,ORDINAL1,XBOOLE_0,XBOOLE_1,PARTFUN1,RELAT_2,SUBSET_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB37,CKB39,CKB43,CKB44,CKB45,CKB47,CKB48,CKB49,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60;
schemes RELAT_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,STRUCT_0,LATTICES,CKB35,CKB38,CKB40,CKB41,CKB42,CKB46,CKB50;
constructors SETFAM_1,RELAT_2,ORDINAL1,PARTFUN1,BINOP_1,REALSET1,LATTICES,RELSET_1,CKB16,CKB17,CKB21,CKB25,CKB32,CKB34,CKB37,CKB45;
requirements SUBSET,BOOLE;
begin
reserve x for set;
reserve B for B_Lattice;
reserve FB for (Filter of B);
reserve HB for (Filter of B);
reserve a for (Element of B);
theorem
Th57: (FB is  being_ultrafilter iff (FB <> (the carrier of B) & (for a holds (a in FB or ( a ` ) in FB))))
proof
thus (FB is  being_ultrafilter implies (FB <> (the carrier of B) & (for a holds (a in FB or ( a ` ) in FB))))
proof
reconsider I = B as I_Lattice;
assume that
A1: FB <> (the carrier of B)
and
A2: (for HB holds ((FB c= HB & HB <> (the carrier of B)) implies FB = HB));
thus FB <> (the carrier of B) by A1;
let a;
assume that
A3: (not a in FB);
A4: a in <. a .);
A5: ( FB \/ <. a .) ) c= <. ( FB \/ <. a .) ) .) by CKB25:def 1;
<. a .) c= ( FB \/ <. a .) ) by XBOOLE_1:7;
then <. a .) c= <. ( FB \/ <. a .) ) .) by A5,XBOOLE_1:1;
then (FB c= ( FB \/ <. a .) ) & FB <> <. ( FB \/ <. a .) ) .)) by A3,A4,XBOOLE_1:7;
then <. ( FB \/ <. a .) ) .) = (the carrier of B) by A2,A5,XBOOLE_1:1;
then A6: ( a ` ) in <. ( FB \/ <. a .) ) .);
reconsider a9 = a as (Element of I);
reconsider FI = FB as (Filter of I);
A7: ( a => ( a ` ) ) = ( ( a ` ) "\/" ( a ` ) ) by CKB59:1;
<. { a } .) = <. a .) by CKB29:1;
then A8: ( a9 ` ) in <. ( FI \/ { a9 } ) .) by A6,CKB51:1;
FB = <. FB .) by CKB26:1;
then ( a => ( a ` ) ) in FB by A8,CKB57:1;
hence thesis by A7,LATTICES:1;
end;

assume that
A9: FB <> (the carrier of B)
and
A10: (for a holds (a in FB or ( a ` ) in FB));
thus FB <> (the carrier of B) by A9;
let HB;
assume that
A11: FB c= HB
and
A12: HB <> (the carrier of B)
and
A13: FB <> HB;
(ex x st (not (x in FB iff x in HB))) by A13,TARSKI:1;
then consider x such that A14: x in HB and A15: (not x in FB) by A11;
reconsider x as (Element of HB) by A14;
( x ` ) in FB by A10,A15;
then ( ( x ` ) "/\" x ) in HB by A11,CKB9:1;
then A16: ( Bottom B ) in HB by LATTICES:20;
HB = <. HB .) by CKB26:1;
hence contradiction by A12,A16,CKB30:1;
end;
