environ
vocabularies LATTICES,SUBSET_1,XBOOLE_0,PBOOLE,EQREL_1,CARD_FIL,STRUCT_0,TARSKI,ORDINAL1,ZFMISC_1,SETFAM_1,INT_2,XBOOLEAN,BINOP_1,REALSET1,FUNCT_1,RELAT_1,MCART_1,XXREAL_2,RELAT_2,FILTER_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,FUNCT_1,MCART_1,ORDINAL1,RELAT_2,FUNCT_2,BINOP_1,REALSET1,STRUCT_0,LATTICES,DOMAIN_1,RELAT_1,RELSET_1,EQREL_1,CKB8,CKB16,CKB17,CKB21;
definitions TARSKI,XBOOLE_0,LATTICES,RELAT_1,RELAT_2,BINOP_1,REALSET1,STRUCT_0,CKB16,CKB17,CKB21;
theorems TARSKI,ZFMISC_1,SETFAM_1,FUNCT_1,MCART_1,FUNCT_2,LATTICES,RELAT_1,ORDERS_1,RLSUB_2,WELLSET1,RELSET_1,ORDINAL1,XBOOLE_0,XBOOLE_1,PARTFUN1,RELAT_2,SUBSET_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21;
schemes RELAT_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,STRUCT_0,LATTICES;
constructors SETFAM_1,RELAT_2,ORDINAL1,PARTFUN1,BINOP_1,REALSET1,LATTICES,RELSET_1,CKB16,CKB17,CKB21;
requirements SUBSET,BOOLE;
begin
reserve L for Lattice;
reserve p for (Element of L);
reserve q for (Element of L);
reserve r for (Element of L);
reserve x for set;
reserve Y for set;
reserve Z for set;
reserve X1 for set;
reserve X2 for set;
reserve H for (Filter of L);
reserve F for (Filter of L);
theorem
Th22: (L is  lower-bounded implies (for F holds (F <> (the carrier of L) implies (ex H st (F c= H & H is  being_ultrafilter)))))
proof
given r such that
A1: (for p holds (( r "/\" p ) = r & ( p "/\" r ) = r));

A2: (r in H implies H = (the carrier of L))
proof
assume A3: r in H;
thus H c= (the carrier of L);
let x;
assume x in (the carrier of L);
then reconsider p = x as (Element of L);
( r "/\" p ) = r by A1;
then r [= p by LATTICES:4;
hence thesis by A3,CKB10:1;
end;
let F;
assume that
A4: F <> (the carrier of L);
set X = { A where A is (Subset of L): ((F c= A & A is (Filter of L)) & A <> (the carrier of L)) };
A5: (x in X implies (x is (Subset of L) & x is (Filter of L)))
proof
assume x in X;
then (ex A being (Subset of L) st (((x = A & F c= A) & A is (Filter of L)) & A <> (the carrier of L)));
hence thesis;
end;
A6: (X1 in X implies (F,X1 are_c=-comparable  & X1 <> (the carrier of L)))
proof
assume X1 in X;
then (ex A being (Subset of L) st (((X1 = A & F c= A) & A is (Filter of L)) & A <> (the carrier of L)));
hence thesis by XBOOLE_0:def 9;
end;
A7: (for Z holds ((Z c= X & Z is  c=-linear) implies (ex Y st (Y in X & (for X1 holds (X1 in Z implies X1 c= Y))))))
proof
set x = the (Element of F);
let Z;
assume that
A8: Z c= X
and
A9: Z is  c=-linear;
take Y = ( union ( Z \/ { F } ) );
F in { F } by TARSKI:def 1;
then A10: F in ( Z \/ { F } ) by XBOOLE_0:def 3;
x in F;
then reconsider V = Y as non empty set by A10,TARSKI:def 4;
V c= (the carrier of L)
proof
let x;
assume x in V;
then consider X1 such that A11: x in X1 and A12: X1 in ( Z \/ { F } ) by TARSKI:def 4;
(X1 in Z or X1 in { F }) by A12,XBOOLE_0:def 3;
then X1 is (Subset of L) by A5,A8;
hence thesis by A11;
end;
then reconsider V as non empty (Subset of L);
now
let p;
let q;
thus ((p in V & q in V) implies ( p "/\" q ) in V)
proof
assume p in V;
then consider X1 such that A13: p in X1 and A14: X1 in ( Z \/ { F } ) by TARSKI:def 4;
A15: (X1 in Z or X1 in { F }) by A14,XBOOLE_0:def 3;
then A16: ((X1 in X & X1 in Z) or X1 = F) by A8,TARSKI:def 1;
assume q in V;
then consider X2 such that A17: q in X2 and A18: X2 in ( Z \/ { F } ) by TARSKI:def 4;
A19: (X2 in Z or X2 in { F }) by A18,XBOOLE_0:def 3;
then ((X2 in X & X2 in Z) or X2 = F) by A8,TARSKI:def 1;
then X1,X2 are_c=-comparable  by A6,A9,A16,ORDINAL1:def 8;
then A20: (X1 c= X2 or X2 c= X1) by XBOOLE_0:def 9;
A21: X1 is (Filter of L) by A5,A8,A15,TARSKI:def 1;
X2 is (Filter of L) by A5,A8,A19,TARSKI:def 1;
then (( p "/\" q ) in X1 or ( p "/\" q ) in X2) by A13,A17,A20,A21,CKB10:1;
hence thesis by A14,A18,TARSKI:def 4;
end;

assume ( p "/\" q ) in V;
then consider X1 such that A22: ( p "/\" q ) in X1 and A23: X1 in ( Z \/ { F } ) by TARSKI:def 4;
(X1 in Z or X1 in { F }) by A23,XBOOLE_0:def 3;
then X1 is (Filter of L) by A5,A8,TARSKI:def 1;
then (p in X1 & q in X1) by A22,CKB9:1;
hence (p in V & q in V) by A23,TARSKI:def 4;
end;
then reconsider V as (Filter of L) by CKB9:1;
now
assume r in V;
then consider X1 such that A24: r in X1 and A25: X1 in ( Z \/ { F } ) by TARSKI:def 4;
(X1 in Z or X1 in { F }) by A25,XBOOLE_0:def 3;
then (X1 in X or X1 = F) by A8,TARSKI:def 1;
then (ex A being (Subset of L) st (((X1 = A & F c= A) & A is (Filter of L)) & A <> (the carrier of L))) by A4;
hence contradiction by A2,A24;
end;
then A26: V <> (the carrier of L);
F c= V
proof
let x;
thus thesis by A10,TARSKI:def 4;
end;
hence Y in X by A26;
let X1;
assume X1 in Z;
then X1 in ( Z \/ { F } ) by XBOOLE_0:def 3;
hence thesis by ZFMISC_1:74;
end;
F in X by A4;
then consider Y such that A27: Y in X and A28: (for Z holds ((Z in X & Z <> Y) implies (not Y c= Z))) by A7,ORDERS_1:65;
consider H being (Subset of L) such that A29: Y = H and A30: F c= H and A31: H is (Filter of L) and A32: H <> (the carrier of L) by A27;
reconsider H as (Filter of L) by A31;
take H;
thus (F c= H & H <> (the carrier of L)) by A30,A32;
let G being (Filter of L);
assume that
A33: H c= G
and
A34: G <> (the carrier of L);
F c= G by A30,A33,XBOOLE_1:1;
then G in X by A34;
hence thesis by A28,A29,A33;
end;
