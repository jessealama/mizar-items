environ
vocabularies LATTICES,SUBSET_1,XBOOLE_0,PBOOLE,EQREL_1,CARD_FIL,STRUCT_0,TARSKI,ORDINAL1,ZFMISC_1,SETFAM_1,INT_2,XBOOLEAN,BINOP_1,REALSET1,FUNCT_1,RELAT_1,MCART_1,XXREAL_2,RELAT_2,FILTER_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,FUNCT_1,MCART_1,ORDINAL1,RELAT_2,FUNCT_2,BINOP_1,REALSET1,STRUCT_0,LATTICES,DOMAIN_1,RELAT_1,RELSET_1,EQREL_1,CKB8,CKB16,CKB17,CKB21,CKB25,CKB32,CKB34,CKB36,CKB37,CKB45;
definitions TARSKI,XBOOLE_0,LATTICES,RELAT_1,RELAT_2,BINOP_1,REALSET1,STRUCT_0,CKB16,CKB17,CKB21,CKB25,CKB32,CKB34,CKB37,CKB45;
theorems TARSKI,ZFMISC_1,SETFAM_1,FUNCT_1,MCART_1,FUNCT_2,LATTICES,RELAT_1,ORDERS_1,RLSUB_2,WELLSET1,RELSET_1,ORDINAL1,XBOOLE_0,XBOOLE_1,PARTFUN1,RELAT_2,SUBSET_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB37,CKB39,CKB43,CKB44,CKB45,CKB47,CKB48,CKB49,CKB51;
schemes RELAT_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,STRUCT_0,LATTICES,CKB35,CKB38,CKB40,CKB41,CKB42,CKB46,CKB50;
constructors SETFAM_1,RELAT_2,ORDINAL1,PARTFUN1,BINOP_1,REALSET1,LATTICES,RELSET_1,CKB16,CKB17,CKB21,CKB25,CKB32,CKB34,CKB37,CKB45;
requirements SUBSET,BOOLE;
begin
reserve L for Lattice;
reserve p for (Element of L);
reserve p1 for (Element of L);
reserve q for (Element of L);
reserve q1 for (Element of L);
reserve r for (Element of L);
reserve r1 for (Element of L);
reserve x for set;
reserve H for (Filter of L);
reserve F for (Filter of L);
theorem
<. ( F \/ H ) .) = { r: (ex p st (ex q st ((( p "/\" q ) [= r & p in F) & q in H))) }
proof
set X = { r1: (ex p st (ex q st ((( p "/\" q ) [= r1 & p in F) & q in H))) };
consider p1 such that A1: p1 in F by SUBSET_1:4;
consider q1 such that A2: q1 in H by SUBSET_1:4;
( p1 "/\" q1 ) in X by A1,A2;
then reconsider D = X as non empty set;
D c= (the carrier of L)
proof
let x;
assume x in D;
then (ex r1 st (x = r1 & (ex p st (ex q st ((( p "/\" q ) [= r1 & p in F) & q in H)))));
hence thesis;
end;
then reconsider D as non empty (Subset of L);
A3: (for p holds (for q holds ((p in D & p [= q) implies q in D)))
proof
let p;
let q;
assume p in D;
then (ex r1 st (p = r1 & (ex p st (ex q st ((( p "/\" q ) [= r1 & p in F) & q in H)))));
then consider p1,q1 such that A4: ( p1 "/\" q1 ) [= p and A5: (p1 in F & q1 in H);
assume p [= q;
then ( p1 "/\" q1 ) [= q by A4,LATTICES:7;
hence thesis by A5;
end;
(for p holds (for q holds ((p in D & q in D) implies ( p "/\" q ) in D)))
proof
let p;
let q;
assume p in D;
then (ex r1 being (Element of L) st (p = r1 & (ex p st (ex q st ((( p "/\" q ) [= r1 & p in F) & q in H)))));
then consider p1 being (Element of L),q1 being (Element of L) such that A6: ( p1 "/\" q1 ) [= p and A7: (p1 in F & q1 in H);
assume q in D;
then (ex r2 being (Element of L) st (q = r2 & (ex p st (ex q st ((( p "/\" q ) [= r2 & p in F) & q in H)))));
then consider p2 being (Element of L),q2 being (Element of L) such that A8: ( p2 "/\" q2 ) [= q and A9: (p2 in F & q2 in H);
A10: ( p "/\" ( p2 "/\" q2 ) ) [= ( p "/\" q ) by A8,LATTICES:9;
( ( p1 "/\" q1 ) "/\" ( p2 "/\" q2 ) ) [= ( p "/\" ( p2 "/\" q2 ) ) by A6,LATTICES:9;
then A11: ( ( p1 "/\" q1 ) "/\" ( p2 "/\" q2 ) ) [= ( p "/\" q ) by A10,LATTICES:7;
A12: ( ( p1 "/\" q1 ) "/\" ( p2 "/\" q2 ) ) = ( ( ( p1 "/\" q1 ) "/\" p2 ) "/\" q2 ) by LATTICES:def 7
.= ( ( ( p1 "/\" p2 ) "/\" q1 ) "/\" q2 ) by LATTICES:def 7
.= ( ( p1 "/\" p2 ) "/\" ( q1 "/\" q2 ) ) by LATTICES:def 7;
(( p1 "/\" p2 ) in F & ( q1 "/\" q2 ) in H) by A7,A9,CKB9:1;
hence thesis by A12,A11;
end;
then reconsider D as (Filter of L) by A3,CKB10:1;
A13: H c= D
proof
let x;
assume x in H;
then reconsider q = x as (Element of H);
( q "/\" p1 ) [= q by LATTICES:6;
hence thesis by A1;
end;
F c= D
proof
let x;
assume x in F;
then reconsider p = x as (Element of F);
( p "/\" q1 ) [= p by LATTICES:6;
hence thesis by A2;
end;
then ( F \/ H ) c= D by A13,XBOOLE_1:8;
hence <. ( F \/ H ) .) c= X by CKB25:def 1;
let x;
assume x in X;
then consider r such that A14: x = r and A15: (ex p st (ex q st ((( p "/\" q ) [= r & p in F) & q in H)));
A16: ( F \/ H ) c= <. ( F \/ H ) .) by CKB25:def 1;
H c= ( F \/ H ) by XBOOLE_1:7;
then A17: H c= <. ( F \/ H ) .) by A16,XBOOLE_1:1;
consider p,q such that A18: ( p "/\" q ) [= r and A19: (p in F & q in H) by A15;
F c= ( F \/ H ) by XBOOLE_1:7;
then F c= <. ( F \/ H ) .) by A16,XBOOLE_1:1;
then ( p "/\" q ) in <. ( F \/ H ) .) by A19,A17,CKB9:1;
hence thesis by A14,A18,CKB10:1;
end;
