environ
vocabularies NUMBERS,SUBSET_1,FINSEQ_1,EUCLID,SPRECT_2,RELAT_1,FINSEQ_5,FINSEQ_4,XXREAL_0,PARTFUN1,CARD_1,ARYTM_3,ARYTM_1,PRE_TOPC,TOPREAL1,JORDAN3,XBOOLE_0,FUNCT_1,GROUP_2,ORDINAL4,NAT_1,RLTOPSP1,TARSKI,RCOMP_1,SPPOL_1,FINSEQ_6,JORDAN9,PSCOMP_1,GRAPH_2,TOPREAL2,RELAT_2,MCART_1,GOBOARD1,JORDAN8,TREES_1,MATRIX_1,JORDAN1E;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,FINSEQ_5,MATRIX_1,FINSEQ_6,STRUCT_0,GRAPH_2,PRE_TOPC,TOPREAL2,CONNSP_1,COMPTS_1,RLTOPSP1,EUCLID,PSCOMP_1,SPRECT_2,GOBOARD1,TOPREAL1,SPPOL_1,JORDAN3,JORDAN8,JORDAN9,CKB8,CKB10;
definitions TARSKI,TOPREAL1,SPRECT_2,XBOOLE_0,PSCOMP_1,CKB8,CKB10;
theorems JORDAN8,PSCOMP_1,JORDAN1A,NAT_1,GOBOARD5,FINSEQ_1,FINSEQ_2,SPRECT_2,FINSEQ_4,FINSEQ_5,FINSEQ_6,GOBOARD7,SPPOL_2,REVROT_1,TOPREAL1,SPRECT_3,JORDAN5B,JORDAN3,JORDAN9,GOBOARD1,TARSKI,FINSEQ_3,FUNCT_1,TOPREAL5,JORDAN10,GRAPH_2,CARD_1,CARD_2,ENUMSET1,JORDAN1B,SPRECT_5,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,EUCLID,ORDINAL1,PARTFUN1,MATRIX_1,XREAL_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB16;
registrations XBOOLE_0,RELSET_1,XXREAL_0,XREAL_0,MEMBERED,FINSEQ_1,FINSEQ_6,STRUCT_0,TOPREAL2,SPPOL_2,SPRECT_2,REVROT_1,TOPREAL6,JORDAN8,JORDAN1A,CARD_1,FUNCT_1,EUCLID,CKB12,CKB13,CKB14,CKB15;
constructors PARTFUN1,XXREAL_0,NAT_1,FINSEQ_4,NEWTON,BINARITH,FINSEQ_5,CONNSP_1,REALSET2,TOPREAL2,PSCOMP_1,GRAPH_2,JORDAN3,JORDAN8,GOBRD13,JORDAN9,NAT_D,RELSET_1,REAL_1,CKB8,CKB10;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
reserve n for (Element of ( NAT ));
theorem
Th15: (for C being  compact non  vertical non  horizontal (Subset of ( TOP-REAL 2 )) holds (for n being (Element of ( NAT )) holds ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) = ( ( Upper_Seq (C,n) ) ^' ( Lower_Seq (C,n) ) )))
proof
let C being  compact non  vertical non  horizontal (Subset of ( TOP-REAL 2 ));
let n being (Element of ( NAT ));
A1: ( dom ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) = ( Seg ( len ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) ) by FINSEQ_1:def 3;
A2: ( ( len ( ( Upper_Seq (C,n) ) ^' ( Lower_Seq (C,n) ) ) ) + 1 ) = ( ( len ( Upper_Seq (C,n) ) ) + ( len ( Lower_Seq (C,n) ) ) ) by GRAPH_2:13
.= ( ( len ( Cage (C,n) ) ) + 1 ) by CKB16:1
.= ( ( len ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) + 1 ) by REVROT_1:14;
now
let i being Nat;
( E-max ( L~ ( Cage (C,n) ) ) ) in ( rng ( Cage (C,n) ) ) by SPRECT_2:46;
then A3: ( E-max ( L~ ( Cage (C,n) ) ) ) in ( rng ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) by FINSEQ_6:90,SPRECT_2:43;
assume A4: i in ( dom ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) );
then A5: 1 <= i by A1,FINSEQ_1:1;
A6: i <= ( len ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) by A1,A4,FINSEQ_1:1;
per cases ;
suppose A7: i <= ( len ( Upper_Seq (C,n) ) );

then i <= ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) by CKB9:1;
then A8: i in ( Seg ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) ) by A5,FINSEQ_1:1;
( len ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) -: ( E-max ( L~ ( Cage (C,n) ) ) ) ) ) = ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) by A3,FINSEQ_5:42;
then A9: i in ( dom ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) -: ( E-max ( L~ ( Cage (C,n) ) ) ) ) ) by A8,FINSEQ_1:def 3;
i in ( NAT ) by ORDINAL1:def 12;
hence ( ( ( Upper_Seq (C,n) ) ^' ( Lower_Seq (C,n) ) ) . i ) = ( ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) -: ( E-max ( L~ ( Cage (C,n) ) ) ) ) . i ) by A5,A7,GRAPH_2:14
.= ( ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) -: ( E-max ( L~ ( Cage (C,n) ) ) ) ) /. i ) by A9,PARTFUN1:def 6
.= ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) /. i ) by A3,A8,FINSEQ_5:43
.= ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) . i ) by A4,PARTFUN1:def 6;
end;
suppose i > ( len ( Upper_Seq (C,n) ) );

then i >= ( ( len ( Upper_Seq (C,n) ) ) + 1 ) by NAT_1:13;
then consider j being Nat such that A10: i = ( ( ( len ( Upper_Seq (C,n) ) ) + 1 ) + j ) by NAT_1:10;
reconsider j as (Element of ( NAT )) by ORDINAL1:def 12;
A11: i = ( ( len ( Upper_Seq (C,n) ) ) + ( j + 1 ) ) by A10;
then A12: i = ( ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) + ( j + 1 ) ) by CKB9:1;
A13: ( len ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) :- ( E-max ( L~ ( Cage (C,n) ) ) ) ) ) = ( ( ( len ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) - ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) ) + 1 ) by A3,FINSEQ_5:50;
( ( j + 1 ) + ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) ) <= ( len ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) by A6,A11,CKB9:1;
then ( j + 1 ) <= ( ( len ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) - ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) ) by XREAL_1:19;
then (( ( j + 1 ) + 1 ) >= 1 & ( ( j + 1 ) + 1 ) <= ( len ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) :- ( E-max ( L~ ( Cage (C,n) ) ) ) ) )) by A13,NAT_1:11,XREAL_1:7;
then A14: ( ( j + 1 ) + 1 ) in ( dom ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) :- ( E-max ( L~ ( Cage (C,n) ) ) ) ) ) by FINSEQ_3:25;
i < ( ( len ( ( Upper_Seq (C,n) ) ^' ( Lower_Seq (C,n) ) ) ) + 1 ) by A2,A6,NAT_1:13;
then i < ( ( len ( Lower_Seq (C,n) ) ) + ( len ( Upper_Seq (C,n) ) ) ) by GRAPH_2:13;
then ( i - ( len ( Upper_Seq (C,n) ) ) ) < ( len ( Lower_Seq (C,n) ) ) by XREAL_1:19;
hence ( ( ( Upper_Seq (C,n) ) ^' ( Lower_Seq (C,n) ) ) . i ) = ( ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) :- ( E-max ( L~ ( Cage (C,n) ) ) ) ) . ( ( j + 1 ) + 1 ) ) by A11,GRAPH_2:15,NAT_1:11
.= ( ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) :- ( E-max ( L~ ( Cage (C,n) ) ) ) ) /. ( ( j + 1 ) + 1 ) ) by A14,PARTFUN1:def 6
.= ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) /. ( ( j + 1 ) + ( ( E-max ( L~ ( Cage (C,n) ) ) ) .. ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) ) ) ) by A3,A14,FINSEQ_5:52
.= ( ( Rotate (( Cage (C,n) ),( W-min ( L~ ( Cage (C,n) ) ) )) ) . i ) by A4,A12,PARTFUN1:def 6;
end;
end;
hence thesis by A2,FINSEQ_2:9;
end;
