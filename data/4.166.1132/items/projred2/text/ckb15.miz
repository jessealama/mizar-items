environ
vocabularies INCPROJ,INCSP_1,SUBSET_1,AFF_2,ANALOAF,PARTFUN1,PROJRED1,FUNCT_1,RELAT_1,TARSKI,ZFMISC_1,PROJRED2;
notations TARSKI,ZFMISC_1,SUBSET_1,DOMAIN_1,RELAT_1,RELSET_1,INCSP_1,INCPROJ,PARTFUN1,FUNCT_1,PROJRED1,CKB1,CKB2,CKB3;
definitions CKB1,CKB2,CKB3;
theorems TARSKI,INCPROJ,FUNCT_1,PROJRED1,ZFMISC_1,INCSP_1,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14;
registrations FUNCT_1,RELSET_1,INCPROJ;
constructors DOMAIN_1,PROJRED1,RELSET_1,CKB1,CKB2,CKB3;
requirements SUBSET,BOOLE;
begin
reserve IPP for  Desarguesian  2-dimensional IncProjSp;
reserve o for (POINT of IPP);
reserve x for (POINT of IPP);
reserve y for (POINT of IPP);
reserve A for (LINE of IPP);
reserve B for (LINE of IPP);
reserve C for (LINE of IPP);
reserve Q1 for (LINE of IPP);
theorem
((((not o on A) & (not o on B)) & (not o on C)) implies ( ( IncProj (C,o,B) ) * ( IncProj (A,o,C) ) ) = ( IncProj (A,o,B) ))
proof
assume that
A1: (not o on A)
and
A2: (not o on B)
and
A3: (not o on C);
set f = ( IncProj (A,o,B) );
set g = ( IncProj (C,o,B) );
set h = ( IncProj (A,o,C) );
A4: ( dom f ) = ( CHAIN A ) by A1,A2,CKB7:1;
set X = ( CHAIN A );
A5: ( dom h ) = ( CHAIN A ) by A1,A3,CKB7:1;
A6: (for x holds (x on A implies ( ( IncProj (A,o,B) ) . x ) = ( ( ( IncProj (C,o,B) ) * ( IncProj (A,o,C) ) ) . x )))
proof
let x;
assume that
A7: x on A;
consider Q1 such that A8: o on Q1 and A9: x on Q1 by INCPROJ:def 5;
consider x9 being (POINT of IPP) such that A10: (x9 on Q1 & x9 on C) by INCPROJ:def 9;
A11: ( h . x ) = x9 by A1,A3,A7,A8,A9,A10,PROJRED1:def 1;
consider y being (POINT of IPP) such that A12: (y on Q1 & y on B) by INCPROJ:def 9;
A13: ( f . x ) = y by A1,A2,A7,A8,A9,A12,PROJRED1:def 1;
x in ( dom h ) by A5,A7;
then ( ( g * h ) . x ) = ( g . ( h . x ) ) by FUNCT_1:13
.= ( f . x ) by A2,A3,A8,A10,A12,A13,A11,PROJRED1:def 1;
hence thesis;
end;
A14:now
let y being set;
assume y in X;
then (ex x st (y = x & x on A));
hence ( ( g * h ) . y ) = ( f . y ) by A6;
end;
( dom ( g * h ) ) = X by A1,A2,A3,A5,PROJRED1:22;
hence thesis by A4,A14,FUNCT_1:2;
end;
