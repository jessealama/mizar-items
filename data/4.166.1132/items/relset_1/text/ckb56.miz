environ
vocabularies RELAT_1,SUBSET_1,ZFMISC_1,TARSKI,XBOOLE_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,CKB1,CKB4,CKB5,CKB19,CKB20,CKB24,CKB25,CKB35,CKB36,CKB41,CKB42,CKB46;
definitions TARSKI,XBOOLE_0,RELAT_1,CKB4,CKB5;
theorems TARSKI,ZFMISC_1,RELAT_1,XBOOLE_0,XBOOLE_1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB21,CKB22,CKB23,CKB26,CKB27,CKB30,CKB31,CKB32,CKB33,CKB34,CKB37,CKB38,CKB39,CKB40,CKB43,CKB44,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54;
schemes RELAT_1,CKB45,CKB55;
registrations XBOOLE_0,RELAT_1,SUBSET_1,CKB2,CKB3,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB28,CKB29,CKB47;
constructors TARSKI,SUBSET_1,RELAT_1,CKB4,CKB5,CKB19,CKB20,CKB24,CKB25,CKB35,CKB36,CKB41,CKB42;
requirements SUBSET,BOOLE;
begin
reserve D for non  empty set;
reserve E for non  empty set;
reserve F for non  empty set;
reserve R for (Relation of D,E);
scheme  { N() -> set,M() -> (Subset of N()),F(set) -> set } : (ex R being (Relation of M()) st (for i being (Element of N()) holds (i in M() implies ( Im (R,i) ) = F(i))))
provided
A1: (for i being (Element of N()) holds (i in M() implies F(i) c= M()))
proof
defpred P[ set,set ]
 means
$2 in F($1);
consider R being (Relation of M()) such that A2: (for x,y being set holds ([ x,y ] in R iff ((x in M() & y in M()) & P[ x,y ]))) from CKB45:sch 1;
take R;
let i being (Element of N());
assume A3: i in M();
thus ( Im (R,i) ) c= F(i)
proof
let e being set;
assume e in ( Im (R,i) );
then consider u being set such that A4: [ u,e ] in R and A5: u in { i } by RELAT_1:def 13;
u = i by A5,TARSKI:def 1;
hence thesis by A2,A4;
end;

let e being set;
assume A6: e in F(i);
F(i) c= M() by A1,A3;
then (i in { i } & [ i,e ] in R) by A2,A3,A6,TARSKI:def 1;
hence thesis by RELAT_1:def 13;
end;
