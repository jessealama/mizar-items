environ
vocabularies NUMBERS,SUBSET_1,TREES_2,ZFMISC_1,FINSEQ_1,XBOOLE_0,TREES_1,FUNCT_1,RELAT_1,ORDINAL4,NAT_1,CARD_1,XXREAL_0,PARTFUN1,TARSKI,ORDINAL1,ARYTM_3,FINSET_1,FUNCOP_1,MARGREL1,MCART_1,QC_LANG1,XBOOLEAN,VALUED_1,ZF_LANG,MODAL_1,TREES_3;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,WELLORD2,NAT_1,DOMAIN_1,MCART_1,RELAT_1,FUNCT_1,RELSET_1,FINSEQ_1,FUNCOP_1,FINSEQ_2,FUNCT_2,FINSET_1,PARTFUN1,TREES_1,TREES_2,XXREAL_0,TREES_3,CKB2,CKB3,CKB30,CKB32,CKB33,CKB35,CKB37,CKB38,CKB39,CKB41,CKB42,CKB43,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB55,CKB61,CKB67,CKB68,CKB69,CKB70;
definitions TARSKI,XBOOLE_0,FUNCT_1,CKB2,CKB3,CKB30,CKB33,CKB38,CKB42,CKB43,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB55,CKB61,CKB67,CKB68,CKB69,CKB70;
theorems TARSKI,FUNCT_1,NAT_1,ENUMSET1,TREES_1,TREES_2,FUNCOP_1,MCART_1,DOMAIN_1,PARTFUN1,FINSEQ_1,FINSET_1,CARD_1,WELLORD2,CARD_2,ZFMISC_1,FINSEQ_2,RELAT_1,FUNCT_2,RELSET_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,TREES_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB33,CKB36,CKB38,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70;
schemes TREES_2,CLASSES1,NAT_1,FUNCT_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FINSET_1,XXREAL_0,XREAL_0,FINSEQ_1,TREES_1,TREES_2,CARD_1,RELSET_1,TREES_3,CKB31,CKB34,CKB40,CKB71,CKB72,CKB73,CKB74;
constructors PARTFUN1,WELLORD2,DOMAIN_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_2,TREES_2,RELSET_1,FUNCOP_1,TREES_3,CKB2,CKB3,CKB30,CKB33,CKB37,CKB38,CKB41,CKB42,CKB43,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB55,CKB61,CKB67,CKB68,CKB69,CKB70;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve p for MP-variable;
reserve A for MP-wff;
scheme MPInd { Prop[(Element of ( MP-WFF ))] } : (for A being (Element of ( MP-WFF )) holds Prop[ A ])
provided
A1: Prop[ ( VERUM ) ]
and
A2: (for p being MP-variable holds Prop[ ( @ p ) ])
and
A3: (for A being (Element of ( MP-WFF )) holds (Prop[ A ] implies Prop[ ( 'not' A ) ]))
and
A4: (for A being (Element of ( MP-WFF )) holds (Prop[ A ] implies Prop[ ( (#) A ) ]))
and
A5: (for A,B being (Element of ( MP-WFF )) holds ((Prop[ A ] & Prop[ B ]) implies Prop[ ( A '&' B ) ]))
proof
defpred P[ (Element of ( NAT )) ]
 means
(for A holds (( card ( dom A ) ) <= $1 implies Prop[ A ]));
A6: (for k holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k;
assume that
A7: (for A holds (( card ( dom A ) ) <= k implies Prop[ A ]));
let A;
assume that
A8: ( card ( dom A ) ) <= ( k + 1 );
set a = ( Root ( dom A ) );
set b = ( branchdeg a );
A9: b <= 2 by CKB38:def 1;
now
per cases  by A9,NAT_1:26;
suppose b = ( 0 );

then A10: ( card ( dom A ) ) = 1 by CKB20:1;
now
per cases  by A10,CKB62:1;
suppose A = ( VERUM );

hence thesis by A1;
end;
suppose (ex p st A = ( @ p ));

hence thesis by A2;
end;
end;
hence thesis;
end;
suppose A11: b = 1;

then A12: ( succ a ) = { <* ( 0 ) *> } by CKB21:1;
then <* ( 0 ) *> in ( succ a ) by TARSKI:def 1;
then reconsider o = <* ( 0 ) *> as (Element of ( dom A ));
A13: A = ( ( ( elementary_tree 1 ) --> ( Root A ) ) with-replacement (<* ( 0 ) *>,( A | o )) ) by A12,CKB27:1;
now
per cases  by A11,CKB38:def 1;
suppose A14: ( A . a ) = [ 1,( 0 ) ];

(( dom ( A | o ) ) = ( ( dom A ) | o ) & o <> ( Root ( dom A ) )) by TREES_2:def 10;
then ( card ( dom ( A | o ) ) ) < ( k + 1 ) by A8,CKB24:1,XXREAL_0:2;
then A15: ( card ( dom ( A | o ) ) ) <= k by NAT_1:13;
A = ( 'not' ( A | o ) ) by A13,A14;
hence thesis by A3,A7,A15;
end;
suppose A16: ( A . a ) = [ 1,1 ];

(( dom ( A | o ) ) = ( ( dom A ) | o ) & o <> ( Root ( dom A ) )) by TREES_2:def 10;
then ( card ( dom ( A | o ) ) ) < ( k + 1 ) by A8,CKB24:1,XXREAL_0:2;
then A17: ( card ( dom ( A | o ) ) ) <= k by NAT_1:13;
A = ( (#) ( A | o ) ) by A13,A16;
hence thesis by A4,A7,A17;
end;
end;
hence thesis;
end;
suppose A18: b = 2;

then A19: ( succ a ) = { <* ( 0 ) *>,<* 1 *> } by CKB22:1;
then (<* ( 0 ) *> in ( succ a ) & <* 1 *> in ( succ a )) by TARSKI:def 2;
then reconsider o1 = <* ( 0 ) *>,o2 = <* 1 *> as (Element of ( dom A ));
(( dom ( A | o1 ) ) = ( ( dom A ) | o1 ) & o1 <> ( Root ( dom A ) )) by TREES_2:def 10;
then ( card ( dom ( A | o1 ) ) ) < ( k + 1 ) by A8,CKB24:1,XXREAL_0:2;
then ( card ( dom ( A | o1 ) ) ) <= k by NAT_1:13;
then A20: Prop[ ( A | o1 ) ] by A7;
(( dom ( A | o2 ) ) = ( ( dom A ) | o2 ) & o2 <> ( Root ( dom A ) )) by TREES_2:def 10;
then ( card ( dom ( A | o2 ) ) ) < ( k + 1 ) by A8,CKB24:1,XXREAL_0:2;
then ( card ( dom ( A | o2 ) ) ) <= k by NAT_1:13;
then A21: Prop[ ( A | o2 ) ] by A7;
A = ( ( ( ( elementary_tree 2 ) --> ( Root A ) ) with-replacement (<* ( 0 ) *>,( A | o1 )) ) with-replacement (<* 1 *>,( A | o2 )) ) by A19,CKB29:1;
then A = ( ( A | o1 ) '&' ( A | o2 ) ) by A18,CKB38:def 1;
hence thesis by A5,A20,A21;
end;
end;
hence thesis;
end;
let A;
A22: ( card ( dom A ) ) <= ( card ( dom A ) );
A23: P[ ( 0 ) ] by NAT_1:2;
(for n holds P[ n ]) from NAT_1:sch 1(A23,A6);
hence thesis by A22;
end;
