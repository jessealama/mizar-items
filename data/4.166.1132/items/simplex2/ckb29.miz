environ
vocabularies ABIAN,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCT_1,FUNCT_2,FUNCT_4,GLIB_000,INT_1,JORDAN2C,MATROID0,MEASURE5,MEMBERED,METRIC_1,NAT_1,NEWTON,NUMBERS,ORDERS_1,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PEPIN,POWER,PRE_TOPC,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RLAFFIN1,RLAFFIN2,RLVECT_1,RLVECT_2,RLVECT_5,RUSUB_4,SEMI_AF1,SEQ_4,SETFAM_1,SGRAPH1,SIMPLEX0,SIMPLEX1,SQUARE_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPDIM_1,TOPMETR,TOPS_1,TOPS_2,VALUED_1,WEIERSTR,XBOOLE_0,XREAL_0,XXREAL_0,XXREAL_1,XXREAL_2,ZFMISC_1,SIMPLEX2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,ZFMISC_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,PARTFUN1,FUNCOP_1,FUNCT_4,XXREAL_3,VALUED_1,NAT_1,PRE_TOPC,NUMBERS,XREAL_0,FINSEQ_1,BINOP_1,FINSEQ_2,TOPMETR,METRIC_1,EUCLID,FINSET_1,XXREAL_0,REAL_1,SETFAM_1,TOPS_2,INT_1,STRUCT_0,COMPTS_1,PCOMPS_1,RCOMP_1,WEIERSTR,SEQ_4,XXREAL_2,RVSUM_1,RLVECT_1,RUSUB_4,RLVECT_5,SIMPLEX0,RLAFFIN1,RLAFFIN2,SIMPLEX1,ORDERS_1,CARD_1,DOMAIN_1,PENCIL_1,CLASSES1,MATROID0,TBSP_1,MEMBERED,RLVECT_2,CONVEX1,TOPREAL9,COMPLEX1,NEWTON,POWER,JORDAN2C,SQUARE_1,BORSUK_1,CARD_3,EUCLID_9,TMAP_1,FINSEQOP,ABIAN,WAYBEL23,TOPDIM_1,TOPDIM_2,RLAFFIN3,CKB1,CKB7,CKB15,CKB19,CKB21,CKB22;
definitions EUCLID,METRIC_1,ORDINAL1,PCOMPS_1,RLVECT_1,SIMPLEX0,SIMPLEX1,STRUCT_0,SUBSET_1,TARSKI,TBSP_1,XCMPLX_0,CARD_1,CKB1,CKB7,CKB15,CKB19,CKB21,CKB22;
theorems ABIAN,ABSVALUE,BINOP_1,BORSUK_1,BORSUK_3,BORSUK_5,CARD_1,CARD_2,CLASSES1,COMPTS_1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FUNCT_4,HAUSDORF,INT_1,JORDAN1K,JORDAN2B,JORDAN2C,MATROID0,MEMBERED,METRIC_1,NAT_1,NEWTON,ORDERS_1,ORDINAL1,PARTFUN1,PCOMPS_1,PCOMPS_2,POWER,PRE_TOPC,RCOMP_1,RELAT_1,RLAFFIN1,RLAFFIN2,RLAFFIN3,RLVECT_1,RLVECT_2,RLVECT_3,RUSUB_4,RVSUM_1,SETFAM_1,SIMPLEX0,SIMPLEX1,TARSKI,TBSP_1,TMAP_1,TOPDIM_1,TOPDIM_2,TOPGEN_5,TOPGRP_1,TOPMETR,TOPREAL3,TOPREAL6,TOPREAL7,TOPREAL9,TOPREALC,TOPS_1,TOPS_2,TOPS_3,TSEP_1,VALUED_1,WEIERSTR,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,XXREAL_2,XXREAL_3,ZFMISC_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB26,CKB27,CKB28;
schemes FINSEQ_1,FRAENKEL,FUNCT_2,NAT_1,NAT_2,SUBSET_1;
registrations ASYMPT_0,BORSUK_1,BORSUK_2,CARD_1,COMPTS_1,DILWORTH,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,FUNCT_2,INT_1,JORDAN2B,JORDAN2C,MEMBERED,METRIZTS,MONOID_0,NAT_1,NEWTON,NUMBERS,PCOMPS_1,PRE_TOPC,RELAT_1,RELSET_1,RLAFFIN1,RLAFFIN3,SEQ_4,SIMPLEX0,SIMPLEX1,SPRECT_1,STRUCT_0,SUBSET_1,TBSP_1,TMAP_1,TOPDIM_1,TOPDIM_2,TOPMETR,TOPREAL9,TOPREALC,TOPS_1,VALUED_0,VALUED_1,XBOOLE_0,XREAL_0,XXREAL_0,XXREAL_2,XXREAL_3,YELLOW13,JORDAN,CKB5,CKB9,CKB10,CKB11,CKB12,CKB23,CKB24,CKB25;
constructors ABIAN,BINOP_2,COMPTS_1,CONVEX1,EUCLID_9,FINSEQOP,FUNCSDOM,JORDAN2C,LEXBFS,MONOID_0,NEWTON,POWER,REAL_1,RFINSEQ2,RLAFFIN1,RLAFFIN2,RLAFFIN3,RLVECT_5,RUSUB_5,SEQ_1,SEQ_4,SIMPLEX1,SQUARE_1,TBSP_1,TMAP_1,TOPDIM_1,TOPDIM_2,TOPREAL9,TOPS_2,WAYBEL23,WEIERSTR,CKB1,CKB7,CKB15,CKB19,CKB21,CKB22;
requirements REAL,SUBSET,NUMERALS,ARITHM,BOOLE;
begin
reserve n for Nat;
reserve X for set;
theorem
Th12: (for A being  affinely-independent (Subset of ( TOP-REAL n )) holds (for E being (Enumeration of A) holds (( ( dom E ) \ X ) is non empty implies ( conv ( E .: X ) ) = ( meet { ( conv ( A \ { ( E . k ) } ) ) where k is (Element of ( NAT )): k in ( ( dom E ) \ X ) } ))))
proof
let A being  affinely-independent (Subset of ( TOP-REAL n ));
let E being (Enumeration of A);
assume that
A1: ( ( dom E ) \ X ) is non empty;
set d = ( dom E );
defpred P[ Nat ]
 means
($1 <> ( 0 ) implies (for X holds (( card ( ( dom E ) \ X ) ) = $1 implies ( conv ( A \ ( E .: ( d \ X ) ) ) ) = ( meet { ( conv ( A \ { ( E . k ) } ) ) where k is (Element of ( NAT )): k in ( ( dom E ) \ X ) } ))));
A2: ( rng E ) = A by RLAFFIN3:def 1;
A3: (for i being Nat holds (P[ i ] implies P[ ( i + 1 ) ]))
proof
deffunc C(set) = ( conv ( A \ { ( E . $1 ) } ) );
let i being Nat;
assume A4: P[ i ];
set i1 = ( i + 1 );
assume i1 <> ( 0 );
let X;
set U = { C(k) where k is (Element of ( NAT )): k in ( d \ X ) };
assume A5: ( card ( d \ X ) ) = i1;
then ( d \ X ) is non empty;
then consider m being set such that A6: m in ( d \ X ) by XBOOLE_0:def 1;
A7: m in d by A6,XBOOLE_0:def 5;
reconsider m as (Element of ( NAT )) by A6;
A8: ( E .: { m } ) = ( Im (E,m) ) by RELAT_1:def 16
.= { ( E . m ) } by A7,FUNCT_1:59;
per cases ;
suppose i = ( 0 );

then consider x being set such that A9: ( d \ X ) = { x } by A5,CARD_2:42;
A10: x = m by A6,A9,TARSKI:def 1;
A11: U c= { C(m) }
proof
let u being set;
assume u in U;
then (ex k being (Element of ( NAT )) st (u = C(k) & k in ( d \ X )));
then u = C(m) by A9,A10,TARSKI:def 1;
hence thesis by TARSKI:def 1;
end;
C(m) in U by A6;
then A12: U = { C(m) } by A11,ZFMISC_1:33;
( E .: ( d \ X ) ) = { ( E . m ) } by A6,A8,A9,TARSKI:def 1;
hence thesis by A12,SETFAM_1:10;
end;
suppose A13: i > ( 0 );

set Xm = ( X \/ { m } );
set Um = { C(k) where k is (Element of ( NAT )): k in ( d \ Xm ) };
set t = the (Element of ( d \ Xm ));
A14: ( ( ( d \ X ) \ { m } ) \/ { m } ) = ( d \ X ) by A6,ZFMISC_1:116;
A15: ( ( d \ X ) \ { m } ) = ( d \ Xm ) by XBOOLE_1:41;
A16: Um c= U
proof
let x being set;
assume x in Um;
then consider k being (Element of ( NAT )) such that A17: x = C(k) and A18: k in ( d \ Xm );
k in ( d \ X ) by A15,A14,A18,XBOOLE_0:def 3;
hence thesis by A17;
end;
m in { m } by TARSKI:def 1;
then (not m in ( ( d \ X ) \ { m } )) by XBOOLE_0:def 5;
then A19: ( ( card ( ( d \ X ) \ { m } ) ) + 1 ) = ( card ( d \ X ) ) by A14,CARD_2:41;
then ( d \ Xm ) is non empty by A5,A13,A15;
then t in ( d \ Xm );
then A20: C(t) in Um;
set c = C(m);
set CC = { c };
set CA = ( Complex_of { A } );
A21: (the topology of CA) = ( bool A ) by SIMPLEX0:4;
A22: U c= ( Um \/ CC )
proof
let x being set;
assume x in U;
then consider k being (Element of ( NAT )) such that A23: x = C(k) and A24: k in ( d \ X );
(k in ( d \ Xm ) or k in { m }) by A15,A14,A24,XBOOLE_0:def 3;
then (k in ( d \ Xm ) or k = m) by TARSKI:def 1;
then (x in Um or x in CC) by A23,TARSKI:def 1;
hence thesis by XBOOLE_0:def 3;
end;
C(m) in U by A6;
then CC c= U by ZFMISC_1:31;
then A25: ( Um \/ CC ) c= U by A16,XBOOLE_1:8;
reconsider A1 = ( A \ ( E .: ( d \ Xm ) ) ),A2 = ( A \ { ( E . m ) } ) as (Subset of CA);
( A \ { ( E . m ) } ) c= A by XBOOLE_1:36;
then A26: A2 is  simplex-like by A21,PRE_TOPC:def 2;
( A \ ( E .: ( d \ Xm ) ) ) c= A by XBOOLE_1:36;
then A1 is  simplex-like by A21,PRE_TOPC:def 2;
then A27: ( ( conv ( @ A1 ) ) /\ ( conv ( @ A2 ) ) ) = ( conv ( @ ( A1 /\ A2 ) ) ) by A26,SIMPLEX1:def 8;
( ( E .: ( d \ Xm ) ) \/ { ( E . m ) } ) = ( E .: ( ( d \ Xm ) \/ { m } ) ) by A8,RELAT_1:120
.= ( E .: ( d \ X ) ) by A14,XBOOLE_1:41;
then A28: ( A1 /\ A2 ) = ( A \ ( E .: ( d \ X ) ) ) by XBOOLE_1:53;
( conv ( A \ ( E .: ( d \ Xm ) ) ) ) = ( meet Um ) by A4,A5,A13,A15,A19;
then ( conv ( A \ ( E .: ( d \ X ) ) ) ) = ( ( meet Um ) /\ ( meet CC ) ) by A28,A27,SETFAM_1:10
.= ( meet ( Um \/ CC ) ) by A20,SETFAM_1:9;
hence thesis by A25,A22,XBOOLE_0:def 10;
end;
end;
A29: P[ ( 0 ) ];
(for i being Nat holds P[ i ]) from NAT_1:sch 2(A29,A3);
then A30: P[ ( card ( d \ X ) ) ];
( d \ ( d \ X ) ) = ( d /\ X ) by XBOOLE_1:48;
then ( E .: X ) = ( E .: ( d \ ( d \ X ) ) ) by RELAT_1:112
.= ( ( E .: d ) \ ( E .: ( d \ X ) ) ) by FUNCT_1:64
.= ( A \ ( E .: ( d \ X ) ) ) by A2,RELAT_1:113;
hence thesis by A1,A30;
end;
