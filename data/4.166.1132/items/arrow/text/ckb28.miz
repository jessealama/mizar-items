environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,FUNCT_1,FINSET_1,CARD_1,XXREAL_0,TARSKI,ARYTM_1,RELAT_1,ZFMISC_1,RELAT_2,ORDERS_1,WELLORD1,FUNCT_2,NAT_1,FINSEQ_1,ARYTM_3,ARROW;
notations ORDERS_1,RELAT_1,RELAT_2,RELSET_1,XBOOLE_0,SUBSET_1,TARSKI,FINSET_1,FUNCT_1,FUNCT_2,CARD_1,XXREAL_0,ZFMISC_1,NAT_1,NUMBERS,FINSEQ_1,XCMPLX_0,WELLORD1,CKB1,CKB4,CKB6,CKB8,CKB12,CKB13,CKB14,CKB15;
definitions RELAT_1,FUNCT_2,WELLORD1,CKB4,CKB6,CKB8,CKB12;
theorems RELSET_1,ZFMISC_1,TARSKI,FUNCT_2,FINSEQ_4,FINSEQ_1,FINSEQ_3,NAT_1,ORDINAL1,XREAL_1,FUNCT_1,XXREAL_0,PARTFUN1,INT_1,CARD_2,CARD_1,XBOOLE_0,SUBSET_1,RELAT_2,RELAT_1,ORDERS_1,XBOOLE_1,WELLORD2,WELLORD1,CKB2,CKB3,CKB4,CKB6,CKB8,CKB12,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27;
schemes XBOOLE_0,FUNCT_2,NAT_1,RELSET_1;
registrations RELSET_1,FINSET_1,NAT_1,INT_1,XREAL_0,XBOOLE_0,ORDINAL1,CKB5,CKB7,CKB9,CKB10,CKB11;
constructors XXREAL_0,FUNCT_2,REAL_1,FINSEQ_1,INT_1,RELAT_2,PARTFUN1,WELLORD1,RELSET_1,CKB1,CKB4,CKB6,CKB12;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
reserve A for  finite non  empty set;
reserve N for  finite non  empty set;
reserve a for (Element of A);
reserve b for (Element of A);
reserve c for (Element of A);
reserve i for (Element of N);
reserve n for (Element of N);
reserve o1 for (Element of ( LinOrders A ));
reserve o9 for (Element of ( LinPreorders A ));
reserve p for (Element of ( Funcs (N,( LinOrders A )) ));
reserve p9 for (Element of ( Funcs (N,( LinOrders A )) ));
reserve q for (Element of ( Funcs (N,( LinPreorders A )) ));
reserve q9 for (Element of ( Funcs (N,( LinPreorders A )) ));
reserve f for (Function of ( Funcs (N,( LinOrders A )) ),( LinPreorders A ));
theorem
((((for p holds (for a holds (for b holds ((for i holds a <_ ( p . i ),b) implies a <_ ( f . p ),b)))) & (for p holds (for p9 holds (for a holds (for b holds ((for i holds (a <_ ( p . i ),b iff a <_ ( p9 . i ),b)) implies (a <_ ( f . p ),b iff a <_ ( f . p9 ),b))))))) & ( card A ) >= 3) implies (ex n st (for p holds (for a holds (for b holds (a <_ ( p . n ),b iff a <_ ( f . p ),b))))))
proof
assume that
A1: (for p holds (for a holds (for b holds ((for i holds a <_ ( p . i ),b) implies a <_ ( f . p ),b))))
and
A2: (for p holds (for p9 holds (for a holds (for b holds ((for i holds (a <_ ( p . i ),b iff a <_ ( p9 . i ),b)) implies (a <_ ( f . p ),b iff a <_ ( f . p9 ),b))))))
and
A3: ( card A ) >= 3;
set o = the (Element of ( LinOrders A ));
defpred O[ (Element of ( LinPreorders A )),(Element of A),(Element of A) ]
 means
($2 <=_ $1,$3 & ($2 <_ $1,$3 or $2 <=_ o,$3));
defpred P[ (Element of ( LinPreorders A )),(Element of ( LinOrders A )) ]
 means
(for a holds (for b holds (O[ $1,a,b ] iff a <=_ $2,b)));
A4: (for o9 holds (ex o1 st P[ o9,o1 ]))
proof
let o9;
defpred Q[ (Element of A),(Element of A) ]
 means
O[ o9,$1,$2 ];
consider o1 being (Relation of A) such that A5: (for a holds (for b holds ([ a,b ] in o1 iff Q[ a,b ]))) from RELSET_1:sch 2;
A6:now
let a;
let b;
(Q[ a,b ] or Q[ b,a ]) by CKB17:1;
hence ([ a,b ] in o1 or [ b,a ] in o1) by A5;
end;
now
let a;
let b;
let c;
((Q[ a,b ] & Q[ b,c ]) implies Q[ a,c ]) by CKB18:1;
hence (([ a,b ] in o1 & [ b,c ] in o1) implies [ a,c ] in o1) by A5;
end;
then reconsider o1 as (Element of ( LinPreorders A )) by A6,CKB4:def 1;
now
let a;
let b;
((Q[ a,b ] & Q[ b,a ]) implies a = b) by CKB19:1;
hence (([ a,b ] in o1 & [ b,a ] in o1) implies a = b) by A5;
end;
then reconsider o1 as (Element of ( LinOrders A )) by CKB6:def 1;
take o1;
let a;
let b;
([ a,b ] in o1 iff Q[ a,b ]) by A5;
hence thesis by CKB12:def 1;
end;
defpred R[ (Element of ( Funcs (N,( LinPreorders A )) )),(Element of ( Funcs (N,( LinOrders A )) )) ]
 means
(for i holds P[ ( $1 . i ),( $2 . i ) ]);
A7: (for q holds (for p holds (for p9 holds ((R[ q,p ] & R[ q,p9 ]) implies p = p9))))
proof
let q;
let p;
let p9;
assume that
A8: R[ q,p ]
and
A9: R[ q,p9 ];
let i;
reconsider pi = ( p . i ) as (Relation of A) by CKB4:def 1;
reconsider pi9 = ( p9 . i ) as (Relation of A) by CKB4:def 1;
now
let a;
let b;
A10: (O[ ( q . i ),a,b ] iff a <=_ ( p . i ),b) by A8;
(O[ ( q . i ),a,b ] iff a <=_ ( p9 . i ),b) by A9;
hence ([ a,b ] in ( p . i ) iff [ a,b ] in ( p9 . i )) by A10,CKB12:def 1;
end;
then pi = pi9 by RELSET_1:def 2;
hence ( p . i ) = ( p9 . i );
end;
A11: (for q holds (ex p st R[ q,p ]))
proof
let q;
defpred S[ (Element of N),(Element of ( LinOrders A )) ]
 means
P[ ( q . $1 ),$2 ];
A12: (for i holds (ex o1 st S[ i,o1 ])) by A4;
consider p being (Function of N,( LinOrders A )) such that A13: (for i holds S[ i,(( p . i ) qua (Element of ( LinOrders A ))) ]) from FUNCT_2:sch 3(A12);
reconsider p as (Element of ( Funcs (N,( LinOrders A )) )) by FUNCT_2:8;
take p;
thus thesis by A13;
end;
defpred T[ (Element of ( Funcs (N,( LinPreorders A )) )),(Element of ( LinPreorders A )) ]
 means
(ex p st (R[ $1,p ] & ( f . p ) = $2));
A14: (for q holds (ex o9 st T[ q,o9 ]))
proof
let q;
consider p such that A15: R[ q,p ] by A11;
take ( f . p );
thus thesis by A15;
end;
consider f9 being (Function of ( Funcs (N,( LinPreorders A )) ),( LinPreorders A )) such that A16: (for q holds T[ q,( f9 . q ) ]) from FUNCT_2:sch 3(A14);
A17: (for q holds (for a holds (for b holds ((for i holds a <_ ( q . i ),b) implies a <_ ( f9 . q ),b))))
proof
let q;
let a;
let b;
assume A18: (for i holds a <_ ( q . i ),b);
consider p such that A19: R[ q,p ] and A20: ( f . p ) = ( f9 . q ) by A16;
now
let i;
(not O[ ( q . i ),b,a ]) by A18;
hence a <_ ( p . i ),b by A19;
end;
hence thesis by A1,A20;
end;
now
let q;
let q9;
let a;
let b;
assume A21: (for i holds ((a <_ ( q . i ),b iff a <_ ( q9 . i ),b) & (b <_ ( q . i ),a iff b <_ ( q9 . i ),a)));
consider p such that A22: R[ q,p ] and A23: ( f . p ) = ( f9 . q ) by A16;
consider p9 such that A24: R[ q9,p9 ] and A25: ( f . p9 ) = ( f9 . q9 ) by A16;
(for i holds (a <_ ( p . i ),b iff a <_ ( p9 . i ),b))
proof
let i;
(O[ ( q . i ),b,a ] iff O[ ( q9 . i ),b,a ]) by A21;
hence thesis by A22,A24;
end;
hence (a <_ ( f9 . q ),b iff a <_ ( f9 . q9 ),b) by A2,A23,A25;
end;
then consider n such that A26: (for q holds (for a holds (for b holds (a <_ ( q . n ),b implies a <_ ( f9 . q ),b)))) by A3,A17,CKB27:1;
take n;
let p;
now
( rng p ) c= ( LinOrders A ) by RELAT_1:def 19;
then (( dom p ) = N & ( rng p ) c= ( LinPreorders A )) by FUNCT_2:def 1,XBOOLE_1:1;
then reconsider q = p as (Element of ( Funcs (N,( LinPreorders A )) )) by FUNCT_2:def 2;
A27: R[ q,p ]
proof
let i;
let a;
let b;
((a <_ ( p . i ),b or a = b) or a >_ ( p . i ),b) by CKB19:1;
hence thesis by CKB17:1;
end;
A28: (ex p9 st (R[ q,p9 ] & ( f . p9 ) = ( f9 . q ))) by A16;
let a;
let b;
assume a <_ ( p . n ),b;
then a <_ ( f9 . q ),b by A26;
hence a <_ ( f . p ),b by A7,A27,A28;
end;
hence thesis by CKB26:1;
end;
