environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,MATRIX_1,FINSEQ_2,ZFMISC_1,RELAT_1,TARSKI,CARD_1,ARYTM_3,FUNCT_1,FREEALG,FINSET_1,FINSEQ_1,MESFUNC1,GROUP_1,SUPINF_2,LAPLACE,XBOOLE_0,MATRIX_2,ARYTM_1,XXREAL_0,POLYNOM1,POLYNOM2,MATRIX_3,CARD_3,AFINSQ_1,ORDINAL4,POLYNOM3,STRUCT_0,PARTFUN1,RANKNULL,RLSUB_1,RLVECT_5,PRVECT_1,RLVECT_3,ALGSTR_0,VECTSP10,MATRLIN,MATRLIN2,POLYNOM5,NEWTON,MONOID_0,BINOP_1,RLVECT_1,LATTICES,RLSUB_2,FINSEQ_4,MCART_1,RLVECT_2,VALUED_1,FUNCT_2,VECTSP11,MSSUBFAM,UNIALG_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,BINOP_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,NAT_D,GROUP_4,MATRIX_3,DOMAIN_1,MEASURE6,PRVECT_1,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,VECTSP_9,FINSEQOP,MATRIX13,MATRLIN,LAPLACE,MOD_2,RANKNULL,POLYNOM3,MONOID_0,ALGSEQ_1,POLYNOM4,POLYNOM5,MATRLIN2,GRCAT_1,CKB11,CKB14,CKB15,CKB25,CKB33;
definitions STRUCT_0,TARSKI,XBOOLE_0,RLVECT_1,FINSEQ_1,VECTSP_4,FVSUM_1,LAPLACE,MATRIX13,RANKNULL,VECTSP_6,MATRLIN2,CKB11,CKB14,CKB15,CKB25,CKB33;
theorems ZFMISC_1,RLVECT_1,MATRIX_1,MATRIX_3,VECTSP_1,NAT_1,FINSEQ_1,FINSEQ_3,FINSEQ_2,CARD_1,CARD_2,FINSEQOP,FINSOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GROUP_1,LAPLACE,MATRIX13,MATRIXR2,MATRLIN,ORDINAL1,PARTFUN1,RELAT_1,STIRL2_1,STRUCT_0,TARSKI,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,VECTSP_9,VECTSP10,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,MOD_2,RANKNULL,MONOID_0,GROUP_4,SYSREL,SUBSET_1,FINSEQ_5,ALGSEQ_1,POLYNOM4,POLYNOM5,HILBASIS,MATRIXJ1,MATRLIN2,VALUED_0,NAT_D,GRCAT_1,RLVECT_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,FINSET_1,STRUCT_0,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,SEQM_3,MATRIX13,XREAL_0,VECTSP_9,RANKNULL,POLYNOM3,POLYNOM5,MONOID_0,CARD_1,RELSET_1,MOD_2,GRCAT_1,PRVECT_1,MATRLIN2,CKB10,CKB13,CKB31;
constructors FINSOP_1,XXREAL_0,GROUP_4,VECTSP_7,VECTSP_9,MATRIX13,REALSET1,LAPLACE,VECTSP_5,RANKNULL,MONOID_0,POLYNOM1,POLYNOM4,POLYNOM5,SEQ_1,MATRLIN2,BINOP_2,NAT_D,RELSET_1,GRCAT_1,MEASURE6,CKB11,CKB14,CKB15,CKB25,CKB33;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve n for Nat;
reserve K for Field;
reserve V1 for (VectSp of K);
reserve f for (linear-transformation of V1,V1);
reserve L for (Scalar of K);
theorem
Th38: (n >= 1 implies (ex h being (linear-transformation of V1,V1) st (( ( f + ( L * ( id V1 ) ) ) |^ n ) = ( ( f * h ) + ( ( L * ( id V1 ) ) |^ n ) ) & (for i holds ( ( f |^ i ) * h ) = ( h * ( f |^ i ) )))))
proof
set g = ( L * ( id V1 ) );
defpred P[ Nat ]
 means
(ex h being (linear-transformation of V1,V1) st (( ( f + g ) |^ $1 ) = ( ( f * h ) + ( g |^ $1 ) ) & (for i holds ( ( f |^ i ) * h ) = ( h * ( f |^ i ) ))));
A1: (for n holds (1 <= n implies (P[ n ] implies P[ ( n + 1 ) ])))
proof
let n;
assume that
1 <= n;
assume P[ n ];
then consider h being (linear-transformation of V1,V1) such that A2: ( ( f + g ) |^ n ) = ( ( f * h ) + ( g |^ n ) ) and A3: (for i holds ( ( f |^ i ) * h ) = ( h * ( f |^ i ) ));
take H = ( ( ( f * h ) + ( g |^ n ) ) + ( L * h ) );
A4: ( rng ( f * h ) ) c= ( [#] V1 ) by RELAT_1:def 19;
thus ( ( f + g ) |^ ( n + 1 ) ) = ( ( ( f + g ) |^ 1 ) * ( ( f + g ) |^ n ) ) by CKB28:1
.= ( ( f + g ) * ( ( f * h ) + ( g |^ n ) ) ) by A2,CKB27:1
.= ( ( f * ( ( f * h ) + ( g |^ n ) ) ) + ( g * ( ( f * h ) + ( g |^ n ) ) ) ) by CKB51:1
.= ( ( f * ( ( f * h ) + ( g |^ n ) ) ) + ( ( g * ( f * h ) ) + ( g * ( g |^ n ) ) ) ) by CKB52:1
.= ( ( ( f * ( ( f * h ) + ( g |^ n ) ) ) + ( g * ( f * h ) ) ) + ( g * ( g |^ n ) ) ) by CKB53:1
.= ( ( ( f * ( ( f * h ) + ( g |^ n ) ) ) + ( L * ( ( id V1 ) * ( f * h ) ) ) ) + ( g * ( g |^ n ) ) ) by CKB49:1
.= ( ( ( f * ( ( f * h ) + ( g |^ n ) ) ) + ( L * ( f * h ) ) ) + ( g * ( g |^ n ) ) ) by A4,RELAT_1:53
.= ( ( ( f * ( ( f * h ) + ( g |^ n ) ) ) + ( f * ( L * h ) ) ) + ( g * ( g |^ n ) ) ) by CKB50:1
.= ( ( f * H ) + ( g * ( g |^ n ) ) ) by CKB52:1
.= ( ( f * H ) + ( ( g |^ 1 ) * ( g |^ n ) ) ) by CKB27:1
.= ( ( f * H ) + ( g |^ ( n + 1 ) ) ) by CKB28:1;
let i;
A5: ( ( f |^ i ) * ( f * h ) ) = ( ( ( f |^ i ) * f ) * h ) by RELAT_1:36
.= ( ( ( f |^ i ) * ( f |^ 1 ) ) * h ) by CKB27:1
.= ( ( f |^ ( i + 1 ) ) * h ) by CKB28:1
.= ( h * ( f |^ ( i + 1 ) ) ) by A3
.= ( h * ( ( f |^ 1 ) * ( f |^ i ) ) ) by CKB28:1
.= ( ( h * ( f |^ 1 ) ) * ( f |^ i ) ) by RELAT_1:36
.= ( ( ( f |^ 1 ) * h ) * ( f |^ i ) ) by A3
.= ( ( f * h ) * ( f |^ i ) ) by CKB27:1;
A6: ( ( f |^ i ) * ( g |^ n ) ) = ( ( f |^ i ) * ( ( ( power K ) . (L,n) ) * ( id V1 ) ) ) by CKB54:1
.= ( ( ( power K ) . (L,n) ) * ( ( f |^ i ) * ( id V1 ) ) ) by CKB50:1
.= ( ( ( power K ) . (L,n) ) * ( ( f |^ i ) * ( f |^ ( 0 ) ) ) ) by CKB26:1
.= ( ( ( power K ) . (L,n) ) * ( f |^ ( i + ( 0 ) ) ) ) by CKB28:1
.= ( ( ( power K ) . (L,n) ) * ( ( f |^ ( 0 ) ) * ( f |^ i ) ) ) by CKB28:1
.= ( ( ( power K ) . (L,n) ) * ( ( id V1 ) * ( f |^ i ) ) ) by CKB26:1
.= ( ( ( ( power K ) . (L,n) ) * ( id V1 ) ) * ( f |^ i ) ) by CKB49:1
.= ( ( g |^ n ) * ( f |^ i ) ) by CKB54:1;
( ( f |^ i ) * ( L * h ) ) = ( L * ( ( f |^ i ) * h ) ) by CKB50:1
.= ( L * ( h * ( f |^ i ) ) ) by A3
.= ( ( L * h ) * ( f |^ i ) ) by CKB49:1;
hence ( ( f |^ i ) * H ) = ( ( ( f |^ i ) * ( ( f * h ) + ( g |^ n ) ) ) + ( ( L * h ) * ( f |^ i ) ) ) by CKB52:1
.= ( ( ( ( f * h ) * ( f |^ i ) ) + ( ( g |^ n ) * ( f |^ i ) ) ) + ( ( L * h ) * ( f |^ i ) ) ) by A5,A6,CKB52:1
.= ( ( ( ( f * h ) + ( g |^ n ) ) * ( f |^ i ) ) + ( ( L * h ) * ( f |^ i ) ) ) by CKB51:1
.= ( H * ( f |^ i ) ) by CKB51:1;
end;
A7: P[ 1 ]
proof
take h = ( id V1 );
thus ( ( f + g ) |^ 1 ) = ( f + g ) by CKB27:1
.= ( ( f |^ ( 1 + ( 0 ) ) ) + g ) by CKB27:1
.= ( ( ( f |^ 1 ) * ( f |^ ( 0 ) ) ) + g ) by CKB28:1
.= ( ( ( f |^ 1 ) * h ) + g ) by CKB26:1
.= ( ( f * h ) + g ) by CKB27:1
.= ( ( f * h ) + ( g |^ 1 ) ) by CKB27:1;
let i;
thus ( ( f |^ i ) * h ) = ( ( f |^ i ) * ( f |^ ( 0 ) ) ) by CKB26:1
.= ( f |^ ( i + ( 0 ) ) ) by CKB28:1
.= ( ( f |^ ( 0 ) ) * ( f |^ i ) ) by CKB28:1
.= ( h * ( f |^ i ) ) by CKB26:1;
end;
(for n holds (1 <= n implies P[ n ])) from NAT_1:sch 8(A7,A1);
hence thesis;
end;
