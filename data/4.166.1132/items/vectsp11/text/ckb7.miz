environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,MATRIX_1,FINSEQ_2,ZFMISC_1,RELAT_1,TARSKI,CARD_1,ARYTM_3,FUNCT_1,FREEALG,FINSET_1,FINSEQ_1,MESFUNC1,GROUP_1,SUPINF_2,LAPLACE,XBOOLE_0,MATRIX_2,ARYTM_1,XXREAL_0,POLYNOM1,POLYNOM2,MATRIX_3,CARD_3,AFINSQ_1,ORDINAL4,POLYNOM3,STRUCT_0,PARTFUN1,RANKNULL,RLSUB_1,RLVECT_5,PRVECT_1,RLVECT_3,ALGSTR_0,VECTSP10,MATRLIN,MATRLIN2,POLYNOM5,NEWTON,MONOID_0,BINOP_1,RLVECT_1,LATTICES,RLSUB_2,FINSEQ_4,MCART_1,RLVECT_2,VALUED_1,FUNCT_2,VECTSP11,MSSUBFAM,UNIALG_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,BINOP_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,NAT_D,GROUP_4,MATRIX_3,DOMAIN_1,MEASURE6,PRVECT_1,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,VECTSP_9,FINSEQOP,MATRIX13,MATRLIN,LAPLACE,MOD_2,RANKNULL,POLYNOM3,MONOID_0,ALGSEQ_1,POLYNOM4,POLYNOM5,MATRLIN2,GRCAT_1;
definitions STRUCT_0,TARSKI,XBOOLE_0,RLVECT_1,FINSEQ_1,VECTSP_4,FVSUM_1,LAPLACE,MATRIX13,RANKNULL,VECTSP_6,MATRLIN2;
theorems ZFMISC_1,RLVECT_1,MATRIX_1,MATRIX_3,VECTSP_1,NAT_1,FINSEQ_1,FINSEQ_3,FINSEQ_2,CARD_1,CARD_2,FINSEQOP,FINSOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GROUP_1,LAPLACE,MATRIX13,MATRIXR2,MATRLIN,ORDINAL1,PARTFUN1,RELAT_1,STIRL2_1,STRUCT_0,TARSKI,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,VECTSP_9,VECTSP10,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,MOD_2,RANKNULL,MONOID_0,GROUP_4,SYSREL,SUBSET_1,FINSEQ_5,ALGSEQ_1,POLYNOM4,POLYNOM5,HILBASIS,MATRIXJ1,MATRLIN2,VALUED_0,NAT_D,GRCAT_1,RLVECT_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,FINSET_1,STRUCT_0,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,SEQM_3,MATRIX13,XREAL_0,VECTSP_9,RANKNULL,POLYNOM3,POLYNOM5,MONOID_0,CARD_1,RELSET_1,MOD_2,GRCAT_1,PRVECT_1,MATRLIN2;
constructors FINSOP_1,XXREAL_0,GROUP_4,VECTSP_7,VECTSP_9,MATRIX13,REALSET1,LAPLACE,VECTSP_5,RANKNULL,MONOID_0,POLYNOM1,POLYNOM4,POLYNOM5,SEQ_1,MATRLIN2,BINOP_2,NAT_D,RELSET_1,GRCAT_1,MEASURE6;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve m for Nat;
reserve n for Nat;
reserve x for set;
reserve K for Field;
theorem
Th7: (for A,B being (Matrix of n,K) holds (ex P being (Polynomial of K) st (( len P ) <= ( n + 1 ) & (for x being (Element of K) holds ( eval (P,x) ) = ( Det ( A + ( x * B ) ) )))))
proof
defpred P[ Nat ]
 means
(for A,B being (Matrix of $1,K) holds (ex P being (Polynomial of K) st (( len P ) <= ( $1 + 1 ) & (for x being (Element of K) holds ( eval (P,x) ) = ( Det ( A + ( x * B ) ) )))));
A1: (for n holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
let n;
assume that
A2: P[ n ];
set n1 = ( n + 1 );
let A being (Matrix of n1,K);
let B being (Matrix of n1,K);
defpred Q[ Nat ]
 means
($1 <= n1 implies (ex P being (Polynomial of K) st (( len P ) <= ( n1 + 1 ) & (for x being (Element of K) holds ( eval (P,x) ) = ( Sum ( ( LaplaceExpL (( A + ( x * B ) ),n1) ) | $1 ) )))));
A3: n1 in ( Seg n1 ) by FINSEQ_1:4;
A4: (for m holds (Q[ m ] implies Q[ ( m + 1 ) ]))
proof
let m;
assume that
A5: Q[ m ];
set m1 = ( m + 1 );
assume A6: m1 <= n1;
then consider P being (Polynomial of K) such that A7: ( len P ) <= ( n1 + 1 ) and A8: (for x being (Element of K) holds ( eval (P,x) ) = ( Sum ( ( LaplaceExpL (( A + ( x * B ) ),n1) ) | m ) )) by A5,NAT_1:13;
1 <= m1 by NAT_1:11;
then A9: m1 in ( Seg n1 ) by A6;
then A10: [ n1,m1 ] in [: ( Seg n1 ),( Seg n1 ) :] by A3,ZFMISC_1:87;
set pow = ( ( power K ) . (( - ( 1_ K ) ),( m1 + n1 )) );
set DB = ( Delete (B,n1,m1) );
set DA = ( Delete (A,n1,m1) );
set P2 = <% ( ( A * (n1,m1) ) * pow ),( ( B * (n1,m1) ) * pow ) %>;
A11: ( Indices B ) = [: ( Seg n1 ),( Seg n1 ) :] by MATRIX_1:24;
( n1 -' 1 ) = n by NAT_D:34;
then consider P1 being (Polynomial of K) such that A12: ( len P1 ) <= ( n + 1 ) and A13: (for x being (Element of K) holds ( eval (P1,x) ) = ( Det ( DA + ( x * DB ) ) )) by A2;
take PP = ( P + ( P1 *' P2 ) );
( len P2 ) <= 2 by POLYNOM5:39;
then ( ( len P1 ) + ( len P2 ) ) <= ( n1 + 2 ) by A12,XREAL_1:7;
then A14: ( ( ( len P1 ) + ( len P2 ) ) -' 1 ) <= ( ( n1 + 2 ) -' 1 ) by NAT_D:42;
(( ( ( n + 2 ) + 1 ) -' 1 ) = ( n + 2 ) & ( len ( P1 *' P2 ) ) <= ( ( ( len P1 ) + ( len P2 ) ) -' 1 )) by HILBASIS:21,NAT_D:34;
then ( len ( P1 *' P2 ) ) <= ( n1 + 1 ) by A14,XXREAL_0:2;
hence ( len PP ) <= ( n1 + 1 ) by A7,POLYNOM4:6;
let x being (Element of K);
set L = ( LaplaceExpL (( A + ( x * B ) ),n1) );
A15: ( Indices A ) = [: ( Seg n1 ),( Seg n1 ) :] by MATRIX_1:24;
A16: ( ( ( A * (n1,m1) ) * pow ) + ( ( ( B * (n1,m1) ) * pow ) * x ) ) = ( ( ( A * (n1,m1) ) * pow ) + ( ( ( B * (n1,m1) ) * x ) * pow ) ) by GROUP_1:def 3
.= ( ( ( A * (n1,m1) ) + ( ( B * (n1,m1) ) * x ) ) * pow ) by VECTSP_1:def 2
.= ( ( ( A * (n1,m1) ) + ( ( x * B ) * (n1,m1) ) ) * pow ) by A10,A11,MATRIX_3:def 5
.= ( ( ( A + ( x * B ) ) * (n1,m1) ) * pow ) by A10,A15,MATRIX_3:def 3;
n1 = ( len L ) by LAPLACE:def 7;
then A17: ( dom L ) = ( Seg n1 ) by FINSEQ_1:def 3;
then A18: ( L | m1 ) = ( ( L | m ) ^ <* ( L . m1 ) *> ) by A9,FINSEQ_5:10;
A19: ( DA + ( x * DB ) ) = ( DA + ( Delete (( x * B ),n1,m1) ) ) by A3,A9,CKB5:1
.= ( Delete (( A + ( x * B ) ),n1,m1) ) by A3,A9,CKB4:1;
( eval (( P1 *' P2 ),x) ) = ( ( eval (P1,x) ) * ( eval (P2,x) ) ) by POLYNOM4:24
.= ( ( Det ( DA + ( x * DB ) ) ) * ( eval (P2,x) ) ) by A13
.= ( ( Minor (( A + ( x * B ) ),n1,m1) ) * ( ( ( A + ( x * B ) ) * (n1,m1) ) * pow ) ) by A16,A19,POLYNOM5:44
.= ( ( ( A + ( x * B ) ) * (n1,m1) ) * ( Cofactor (( A + ( x * B ) ),n1,m1) ) ) by GROUP_1:def 3
.= ( L . m1 ) by A9,A17,LAPLACE:def 7;
hence ( Sum ( L | m1 ) ) = ( ( Sum ( L | m ) ) + ( eval (( P1 *' P2 ),x) ) ) by A18,FVSUM_1:71
.= ( ( eval (P,x) ) + ( eval (( P1 *' P2 ),x) ) ) by A8
.= ( eval (PP,x) ) by POLYNOM4:19;
end;
A20: Q[ ( 0 ) ]
proof
assume ( 0 ) <= n1;
take P = ( 0_. K );
thus ( len P ) <= ( n1 + 1 ) by POLYNOM4:3;
let x being (Element of K);
( ( LaplaceExpL (( A + ( x * B ) ),n1) ) | ( 0 ) ) = ( <*> (the carrier of K) );
hence ( Sum ( ( LaplaceExpL (( A + ( x * B ) ),n1) ) | ( 0 ) ) ) = ( 0. K ) by RLVECT_1:43
.= ( eval (P,x) ) by POLYNOM4:17;
end;
(for m holds Q[ m ]) from NAT_1:sch 2(A20,A4);
then consider P being (Polynomial of K) such that A21: ( len P ) <= ( n1 + 1 ) and A22: (for x being (Element of K) holds ( eval (P,x) ) = ( Sum ( ( LaplaceExpL (( A + ( x * B ) ),n1) ) | n1 ) ));
take P;
thus ( len P ) <= ( n1 + 1 ) by A21;
let x being (Element of K);
A23: ( len ( LaplaceExpL (( A + ( x * B ) ),n1) ) ) = n1 by LAPLACE:def 7;
thus ( eval (P,x) ) = ( Sum ( ( LaplaceExpL (( A + ( x * B ) ),n1) ) | n1 ) ) by A22
.= ( Sum ( LaplaceExpL (( A + ( x * B ) ),n1) ) ) by A23,FINSEQ_1:58
.= ( Det ( A + ( x * B ) ) ) by A3,LAPLACE:25;
end;
A24: P[ ( 0 ) ]
proof
let A being (Matrix of ( 0 ),K);
let B being (Matrix of ( 0 ),K);
take P = ( 1_. K );
thus ( len P ) <= ( ( 0 ) + 1 ) by POLYNOM4:4;
let x being (Element of K);
thus ( Det ( A + ( x * B ) ) ) = ( 1_ K ) by MATRIXR2:41
.= ( eval (P,x) ) by POLYNOM4:18;
end;
(for n holds P[ n ]) from NAT_1:sch 2(A24,A1);
hence thesis;
end;
