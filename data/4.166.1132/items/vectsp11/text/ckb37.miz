environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,MATRIX_1,FINSEQ_2,ZFMISC_1,RELAT_1,TARSKI,CARD_1,ARYTM_3,FUNCT_1,FREEALG,FINSET_1,FINSEQ_1,MESFUNC1,GROUP_1,SUPINF_2,LAPLACE,XBOOLE_0,MATRIX_2,ARYTM_1,XXREAL_0,POLYNOM1,POLYNOM2,MATRIX_3,CARD_3,AFINSQ_1,ORDINAL4,POLYNOM3,STRUCT_0,PARTFUN1,RANKNULL,RLSUB_1,RLVECT_5,PRVECT_1,RLVECT_3,ALGSTR_0,VECTSP10,MATRLIN,MATRLIN2,POLYNOM5,NEWTON,MONOID_0,BINOP_1,RLVECT_1,LATTICES,RLSUB_2,FINSEQ_4,MCART_1,RLVECT_2,VALUED_1,FUNCT_2,VECTSP11,MSSUBFAM,UNIALG_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,BINOP_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,NAT_D,GROUP_4,MATRIX_3,DOMAIN_1,MEASURE6,PRVECT_1,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,VECTSP_9,FINSEQOP,MATRIX13,MATRLIN,LAPLACE,MOD_2,RANKNULL,POLYNOM3,MONOID_0,ALGSEQ_1,POLYNOM4,POLYNOM5,MATRLIN2,GRCAT_1,CKB11,CKB14,CKB15,CKB25,CKB33;
definitions STRUCT_0,TARSKI,XBOOLE_0,RLVECT_1,FINSEQ_1,VECTSP_4,FVSUM_1,LAPLACE,MATRIX13,RANKNULL,VECTSP_6,MATRLIN2,CKB11,CKB14,CKB15,CKB25,CKB33;
theorems ZFMISC_1,RLVECT_1,MATRIX_1,MATRIX_3,VECTSP_1,NAT_1,FINSEQ_1,FINSEQ_3,FINSEQ_2,CARD_1,CARD_2,FINSEQOP,FINSOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GROUP_1,LAPLACE,MATRIX13,MATRIXR2,MATRLIN,ORDINAL1,PARTFUN1,RELAT_1,STIRL2_1,STRUCT_0,TARSKI,VECTSP_4,VECTSP_5,VECTSP_6,VECTSP_7,VECTSP_9,VECTSP10,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,MOD_2,RANKNULL,MONOID_0,GROUP_4,SYSREL,SUBSET_1,FINSEQ_5,ALGSEQ_1,POLYNOM4,POLYNOM5,HILBASIS,MATRIXJ1,MATRLIN2,VALUED_0,NAT_D,GRCAT_1,RLVECT_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB32,CKB33,CKB34,CKB35,CKB36;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,FUNCT_1,FINSET_1,STRUCT_0,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,SEQM_3,MATRIX13,XREAL_0,VECTSP_9,RANKNULL,POLYNOM3,POLYNOM5,MONOID_0,CARD_1,RELSET_1,MOD_2,GRCAT_1,PRVECT_1,MATRLIN2,CKB10,CKB13,CKB31;
constructors FINSOP_1,XXREAL_0,GROUP_4,VECTSP_7,VECTSP_9,MATRIX13,REALSET1,LAPLACE,VECTSP_5,RANKNULL,MONOID_0,POLYNOM1,POLYNOM4,POLYNOM5,SEQ_1,MATRLIN2,BINOP_2,NAT_D,RELSET_1,GRCAT_1,MEASURE6,CKB11,CKB14,CKB15,CKB25,CKB33;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve m for Nat;
reserve n for Nat;
reserve k for Nat;
reserve K for Field;
reserve V for non  trivial (VectSp of K);
reserve V1 for (VectSp of K);
reserve f for (linear-transformation of V1,V1);
reserve v for (Vector of V);
theorem
(for V being  finite-dimensional (VectSp of K) holds (for f being (linear-transformation of V,V) holds (ex n st ( UnionKers f ) = ( ker ( f |^ n ) ))))
proof
let V being  finite-dimensional (VectSp of K);
let f being (linear-transformation of V,V);
defpred P[ Nat ]
 means
(for n holds ( dim ( ker ( f |^ n ) ) ) <= $1);
P[ ( dim ( UnionKers f ) ) ]
proof
let n;
( ker ( f |^ n ) ) is (Subspace of ( UnionKers f )) by CKB35:1;
hence thesis by VECTSP_9:25;
end;
then A1: (ex k st P[ k ]);
(ex k st (P[ k ] & (for n holds (P[ n ] implies k <= n)))) from NAT_1:sch 5(A1);
then consider k such that A2: P[ k ] and A3: (for n holds (P[ n ] implies k <= n));
(ex m st ( dim ( ker ( f |^ m ) ) ) = k)
proof
assume A4: (for m holds ( dim ( ker ( f |^ m ) ) ) <> k);
( dim ( ker ( f |^ ( 0 ) ) ) ) <= k by A2;
then ( dim ( ker ( f |^ ( 0 ) ) ) ) < k by A4,XXREAL_0:1;
then reconsider k1 = ( k - 1 ) as (Element of ( NAT )) by NAT_1:20;
now
let n;
( dim ( ker ( f |^ n ) ) ) <= k by A2;
then ( dim ( ker ( f |^ n ) ) ) < ( k1 + 1 ) by A4,XXREAL_0:1;
hence ( dim ( ker ( f |^ n ) ) ) <= k1 by NAT_1:13;
end;
then ( k1 + 1 ) <= k1 by A3;
hence thesis by NAT_1:16;
end;
then consider m such that A5: ( dim ( ker ( f |^ m ) ) ) = k;
take m;
assume A6: ( UnionKers f ) <> ( ker ( f |^ m ) );
( ker ( f |^ m ) ) is (Subspace of ( UnionKers f )) by CKB35:1;
then consider v being (Element of ( UnionKers f )) such that A7: (not v in ( ker ( f |^ m ) )) by A6,VECTSP_4:32;
A8: v in ( UnionKers f ) by STRUCT_0:def 5;
reconsider v as (Vector of V) by VECTSP_4:10;
consider i such that A9: ( ( f |^ i ) . v ) = ( 0. V ) by A8,CKB34:1;
i > m
proof
assume i <= m;
then reconsider j = ( m - i ) as (Element of ( NAT )) by NAT_1:21;
( ( f |^ ( j + i ) ) . v ) = ( 0. V ) by A9,CKB32:1;
hence thesis by A7,RANKNULL:10;
end;
then reconsider j = ( i - m ) as (Element of ( NAT )) by NAT_1:21;
A10: ( ker ( f |^ m ) ) is (Subspace of ( ker ( f |^ ( m + j ) ) )) by CKB36:1;
then A11: k <= ( dim ( ker ( f |^ i ) ) ) by A5,VECTSP_9:25;
( (Omega). ( ker ( f |^ m ) ) ) <> ( (Omega). ( ker ( f |^ i ) ) ) by A7,A9,RANKNULL:10;
then k <> ( dim ( ker ( f |^ i ) ) ) by A5,A10,VECTSP_9:28;
then k < ( dim ( ker ( f |^ i ) ) ) by A11,XXREAL_0:1;
hence thesis by A2;
end;
