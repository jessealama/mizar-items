environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,XREAL_0,ORDINAL1,XXREAL_1,ARYTM_3,REAL_1,XXREAL_0,COMPLEX1,ARYTM_1,CARD_1,FUNCT_1,MCART_1,ZFMISC_1,PRE_TOPC,RCOMP_1,TARSKI,STRUCT_0,SETFAM_1,SEQ_1,RELAT_1,VALUED_0,SEQ_2,ORDINAL2,RELAT_2,PSCOMP_1,LIMFUNC1,CONNSP_1,METRIC_1,SEQ_4,XXREAL_2,TOPMETR,INTEGRA1,NAT_1,VALUED_1,EUCLID,JORDAN2C,MEASURE5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,MCART_1,FUNCT_1,COMPLEX1,RELSET_1,FUNCT_2,INTEGRA1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,REAL_1,XXREAL_1,XXREAL_2,NAT_1,VALUED_1,SEQ_1,SEQ_2,SEQ_4,STRUCT_0,PRE_TOPC,COMPTS_1,BORSUK_1,MEASURE5,MEASURE6,PSCOMP_1,VALUED_0,METRIC_1,TBSP_1,TOPMETR,LIMFUNC1,CONNSP_1,JORDAN2C,EUCLID,RECDEF_1,RCOMP_1,CKB9;
definitions TARSKI,RCOMP_1,SEQ_4,XBOOLE_0,SUBSET_1,PROB_1,LIMFUNC1,XXREAL_2,CKB9;
theorems ZFMISC_1,TARSKI,SUBSET_1,MCART_1,FUNCT_2,FUNCT_1,RCOMP_1,SEQ_4,SEQM_3,ABSVALUE,PSCOMP_1,GOBOARD7,BORSUK_1,TOPMETR,JORDAN6,UNIFORM1,RELAT_1,SEQ_2,TOPREAL6,TSP_1,SEQ_1,INTEGRA1,CONNSP_1,XREAL_0,TSEP_1,XBOOLE_0,XBOOLE_1,XREAL_1,COMPLEX1,JORDAN2C,PRE_TOPC,TOPREAL3,METRIC_6,XXREAL_0,XXREAL_1,XXREAL_2,VALUED_0,MEASURE6,MEASURE5,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11;
schemes FUNCT_2,CKB1,CKB5;
registrations SUBSET_1,ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,STRUCT_0,PRE_TOPC,COMPTS_1,BORSUK_1,EUCLID,TOPMETR,TOPREAL1,MEASURE6,JORDAN2C,BORSUK_3,TOPREAL6,INTEGRA1,VALUED_1,FUNCT_2,XXREAL_2,VALUED_0,FCONT_3,PSCOMP_1,MEASURE5;
constructors SETFAM_1,REAL_1,COMPLEX1,NAT_1,SEQM_3,PROB_1,LIMFUNC1,BINARITH,CONNSP_1,COMPTS_1,TBSP_1,TSP_1,TOPMETR,MEASURE6,JORDAN2C,INTEGRA1,SEQ_1,RECDEF_1,XXREAL_2,SEQ_4,SEQ_2,PSCOMP_1,CKB9;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Th18: (for A,B being non empty  compact (Subset of ( REAL )) holds (ex r,s being  real number st ((r in A & s in B) & ( dist (A,B) ) = ( abs ( r - s ) ))))
proof
defpred P[ set,set ]
 means
(ex r,s being Real st ($1 = [ r,s ] & $2 = ( abs ( r - s ) )));
let A being non empty  compact (Subset of ( REAL )),B being non empty  compact (Subset of ( REAL ));
reconsider At = A,Bt = B as non empty  compact (Subset of ( R^1 )) by TOPMETR:17,TOPREAL6:72;
A1: (the carrier of ( ( R^1 ) | Bt )) = Bt by PRE_TOPC:8;
reconsider AB = [: ( ( R^1 ) | At ),( ( R^1 ) | Bt ) :] as  compact non empty TopSpace;
A2: (the carrier of ( ( R^1 ) | At )) = At by PRE_TOPC:8;
A3:now
let x being (Element of AB);
x in (the carrier of AB);
then x in [: A,B :] by A2,A1,BORSUK_1:def 2;
then consider r being set,s being set such that A4: r in ( REAL ) and A5: s in ( REAL ) and A6: x = [ r,s ] by ZFMISC_1:84;
reconsider r,s as Real by A4,A5;
take t = ( abs ( r - s ) );
thus P[ x,t ] by A6;
end;
consider f being (RealMap of AB) such that A7: (for x being (Element of AB) holds P[ x,( f . x ) ]) from FUNCT_2:sch 3(A3);
(for Y being (Subset of ( REAL )) holds (Y is  open implies ( f " Y ) is  open))
proof
let Y being (Subset of ( REAL ));
assume that
A8: Y is  open;
(for x being (Point of AB) holds (x in ( f " Y ) implies (ex YS being (Subset of ( ( R^1 ) | At )) st (ex YT being (Subset of ( ( R^1 ) | Bt )) st (((YS is  open & YT is  open) & x in [: YS,YT :]) & [: YS,YT :] c= ( f " Y ))))))
proof
let x being (Point of AB);
consider r being Real,s being Real such that A9: x = [ r,s ] and A10: ( f . x ) = ( abs ( r - s ) ) by A7;
assume x in ( f " Y );
then ( f . x ) in Y by FUNCT_1:def 7;
then consider N being (Neighbourhood of ( f . x )) such that A11: N c= Y by A8,RCOMP_1:18;
consider g being  real number such that A12: ( 0 ) < g and A13: N = ]. ( ( f . x ) - g ),( ( f . x ) + g ) .[ by RCOMP_1:def 6;
reconsider a = ( r - ( g / 2 ) ),b = ( r + ( g / 2 ) ),c = ( s - ( g / 2 ) ),d = ( s + ( g / 2 ) ) as Real;
reconsider S = ]. a,b .[,T = ]. c,d .[ as (Subset of ( R^1 )) by TOPMETR:17;
reconsider YT = ( T /\ B ) as (Subset of ( ( R^1 ) | Bt )) by A1,XBOOLE_1:17;
reconsider YS = ( S /\ A ) as (Subset of ( ( R^1 ) | At )) by A2,XBOOLE_1:17;
A14: s in T by A12,TOPREAL6:15,XREAL_1:215;
take YS;
take YT;
A15: T is  open by JORDAN6:35;
S is  open by JORDAN6:35;
hence (YS is  open & YT is  open) by A2,A1,A15,TSP_1:def 1;
A16: r in S by A12,TOPREAL6:15,XREAL_1:215;
x in (the carrier of AB);
then A17: x in [: A,B :] by A2,A1,BORSUK_1:def 2;
then s in B by A9,ZFMISC_1:87;
then A18: s in YT by A14,XBOOLE_0:def 4;
( f .: [: YS,YT :] ) c= N
proof
let e being set;
assume e in ( f .: [: YS,YT :] );
then consider y being (Element of AB) such that A19: y in [: YS,YT :] and A20: e = ( f . y ) by FUNCT_2:65;
consider r1 being Real,s1 being Real such that A21: y = [ r1,s1 ] and A22: ( f . y ) = ( abs ( r1 - s1 ) ) by A7;
A23: ( abs ( ( abs ( r1 - s1 ) ) - ( abs ( r - s ) ) ) ) <= ( ( abs ( r1 - r ) ) + ( abs ( s1 - s ) ) ) by CKB3:1;
s1 in YT by A19,A21,ZFMISC_1:87;
then s1 in ]. ( s - ( g / 2 ) ),( s + ( g / 2 ) ) .[ by XBOOLE_0:def 4;
then A24: ( abs ( s1 - s ) ) < ( g / 2 ) by RCOMP_1:1;
r1 in YS by A19,A21,ZFMISC_1:87;
then r1 in ]. ( r - ( g / 2 ) ),( r + ( g / 2 ) ) .[ by XBOOLE_0:def 4;
then A25: ( abs ( r1 - r ) ) < ( g / 2 ) by RCOMP_1:1;
g = ( ( g / 2 ) + ( g / 2 ) );
then ( ( abs ( r1 - r ) ) + ( abs ( s1 - s ) ) ) < g by A25,A24,XREAL_1:8;
then ( abs ( ( abs ( r1 - s1 ) ) - ( abs ( r - s ) ) ) ) < g by A23,XXREAL_0:2;
hence thesis by A13,A10,A20,A22,RCOMP_1:1;
end;
then A26: ( f .: [: YS,YT :] ) c= Y by A11,XBOOLE_1:1;
r in A by A9,A17,ZFMISC_1:87;
then r in YS by A16,XBOOLE_0:def 4;
hence x in [: YS,YT :] by A9,A18,ZFMISC_1:87;
( dom f ) = (the carrier of AB) by FUNCT_2:def 1;
hence thesis by A26,FUNCT_1:93;
end;
hence thesis by CKB6:1;
end;
then reconsider f as  continuous (RealMap of AB) by PSCOMP_1:8;
( f .: (the carrier of AB) ) is  with_min by MEASURE6:def 13;
then ( lower_bound ( f .: (the carrier of AB) ) ) in ( f .: (the carrier of AB) ) by MEASURE6:def 5;
then consider x being (Element of AB) such that A27: x in (the carrier of AB) and A28: ( lower_bound ( f .: (the carrier of AB) ) ) = ( f . x ) by FUNCT_2:65;
A29: x in [: A,B :] by A2,A1,A27,BORSUK_1:def 2;
then consider r1 being set,s1 being set such that A30: r1 in ( REAL ) and A31: s1 in ( REAL ) and A32: x = [ r1,s1 ] by ZFMISC_1:84;
A33: ( f .: (the carrier of AB) ) = { ( abs ( r - s ) ) where r is (Element of ( REAL )),s is (Element of ( REAL )): (r in A & s in B) }
proof
hereby
let x being set;
assume x in ( f .: (the carrier of AB) );
then consider y being (Element of AB) such that A34: y in (the carrier of AB) and A35: x = ( f . y ) by FUNCT_2:65;
consider r1 being Real,s1 being Real such that A36: y = [ r1,s1 ] and A37: ( f . y ) = ( abs ( r1 - s1 ) ) by A7;
A38: [ r1,s1 ] in [: A,B :] by A2,A1,A34,A36,BORSUK_1:def 2;
then A39: s1 in B by ZFMISC_1:87;
r1 in A by A38,ZFMISC_1:87;
hence x in { ( abs ( r - s ) ) where r is (Element of ( REAL )),s is (Element of ( REAL )): (r in A & s in B) } by A35,A37,A39;
end;
let x being set;
assume x in { ( abs ( r - s ) ) where r is (Element of ( REAL )),s is (Element of ( REAL )): (r in A & s in B) };
then consider r being Real,s being Real such that A40: x = ( abs ( r - s ) ) and A41: r in A and A42: s in B;
[ r,s ] in [: A,B :] by A41,A42,ZFMISC_1:87;
then reconsider y = [ r,s ] as (Element of AB) by A2,A1,BORSUK_1:def 2;
consider r1 being Real,s1 being Real such that A43: y = [ r1,s1 ] and A44: ( f . y ) = ( abs ( r1 - s1 ) ) by A7;
A45: s1 = s by A43,ZFMISC_1:27;
r1 = r by A43,ZFMISC_1:27;
hence thesis by A40,A44,A45,FUNCT_2:35;
end;
reconsider r1,s1 as  real number by A30,A31;
take r1;
take s1;
thus (r1 in A & s1 in B) by A29,A32,ZFMISC_1:87;
consider r being Real,s being Real such that A46: x = [ r,s ] and A47: ( f . x ) = ( abs ( r - s ) ) by A7;
A48: s1 = s by A32,A46,ZFMISC_1:27;
r1 = r by A32,A46,ZFMISC_1:27;
hence thesis by A28,A33,A47,A48,CKB9:def 1;
end;
