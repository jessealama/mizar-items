environ
vocabularies NUMBERS,FDIFF_1,SEQ_1,FUNCT_1,PARTFUN1,REAL_1,SUBSET_1,XXREAL_0,CARD_1,XXREAL_1,ARYTM_1,TARSKI,RELAT_1,ARYTM_3,FUNCOP_1,VALUED_0,SEQ_2,ORDINAL2,VALUED_1,FUNCT_2,NAT_1,LIMFUNC1,XBOOLE_0,XREAL_0,ORDINAL1,COMPLEX1,SQUARE_1,ORDINAL4,RCOMP_1,FDIFF_3;
notations TARSKI,ORDINAL1,SUBSET_1,NUMBERS,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,VALUED_0,VALUED_1,SEQ_1,SEQ_2,SQUARE_1,RFUNCT_1,RCOMP_1,FDIFF_1,LIMFUNC1,RECDEF_1;
definitions TARSKI,XBOOLE_0,SQUARE_1,PROB_1,LIMFUNC1,VALUED_1;
theorems NAT_1,SEQ_1,SEQ_2,SEQM_3,SEQ_4,ABSVALUE,RFUNCT_1,RFUNCT_2,RCOMP_1,FDIFF_1,LIMFUNC2,FDIFF_2,TARSKI,SCHEME1,ZFMISC_1,FCONT_3,FUNCT_1,FUNCT_2,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,XXREAL_1,XXREAL_2,VALUED_0,ORDINAL1;
schemes SEQ_1,SCHEME1,FUNCT_2,FDIFF_2;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,FDIFF_1,VALUED_0,VALUED_1,FUNCT_2,XXREAL_2,FUNCOP_1,SEQ_4,SETFAM_1,REALSET1,FINSET_1;
constructors FUNCOP_1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,SEQM_3,PROB_1,RCOMP_1,RFUNCT_1,RFUNCT_2,LIMFUNC1,PARTFUN1,FDIFF_1,SEQ_1,VALUED_1,RECDEF_1,XXREAL_2,SETFAM_1,RELSET_1,BINOP_2,RVSUM_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve h for  convergent_to_0 Real_Sequence;
reserve c for  constant Real_Sequence;
reserve f for (PartFunc of ( REAL ),( REAL ));
reserve x0 for Real;
reserve r for Real;
reserve g1 for Real;
reserve n for (Element of ( NAT ));
reserve b for Real_Sequence;
reserve x for set;
theorem
Th1: ((ex r st (r > ( 0 ) & [. ( x0 - r ),x0 .] c= ( dom f ))) implies (ex h st (ex c st ((( rng c ) = { x0 } & ( rng ( h + c ) ) c= ( dom f )) & (for n holds ( h . n ) < ( 0 ))))))
proof
given r such that
A1: r > ( 0 )
and
A2: [. ( x0 - r ),x0 .] c= ( dom f );

reconsider a = ( ( NAT ) --> x0 ) as Real_Sequence;
reconsider a as  constant Real_Sequence;
deffunc F((Element of ( NAT ))) = ( ( - r ) / ( $1 + 2 ) );
consider b such that A3: (for n holds ( b . n ) = F(n)) from SEQ_1:sch 1;
A4:now
let n;
( 0 ) <= n by NAT_1:2;
then ( 0 ) < ( r / ( n + 2 ) ) by A1,XREAL_1:139;
then ( - ( r / ( n + 2 ) ) ) < ( - ( 0 ) ) by XREAL_1:24;
then ( ( - r ) / ( n + 2 ) ) < ( 0 ) by XCMPLX_1:187;
hence ( b . n ) < ( 0 ) by A3;
end;
then (for n holds ( 0 ) <> ( b . n ));
then A5: b is  non-zero by SEQ_1:5;
(b is  convergent & ( lim b ) = ( 0 )) by A3,SEQ_4:31;
then reconsider b as  convergent_to_0 Real_Sequence by A5,FDIFF_1:def 1;
take b;
take a;
thus ( rng a ) = { x0 }
proof
thus ( rng a ) c= { x0 }
proof
let x;
assume x in ( rng a );
then (ex n st x = ( a . n )) by FUNCT_2:113;
then x = x0 by FUNCOP_1:7;
hence thesis by TARSKI:def 1;
end;

let x;
assume x in { x0 };
then x = x0 by TARSKI:def 1
.= ( a . ( 0 ) ) by FUNCOP_1:7;
hence thesis by VALUED_0:28;
end;

thus ( rng ( b + a ) ) c= ( dom f )
proof
let x;
assume x in ( rng ( b + a ) );
then consider n such that A6: x = ( ( b + a ) . n ) by FUNCT_2:113;
A7: ( ( 0 ) + 1 ) < ( n + 2 ) by NAT_1:2,XREAL_1:8;
then ( r * 1 ) < ( r * ( n + 2 ) ) by A1,XREAL_1:97;
then ( r * ( ( n + 2 ) " ) ) < ( ( r * ( n + 2 ) ) * ( ( n + 2 ) " ) ) by A7,XREAL_1:68;
then ( r * ( ( n + 2 ) " ) ) < ( r * ( ( n + 2 ) * ( ( n + 2 ) " ) ) );
then ( r * ( ( n + 2 ) " ) ) < ( r * 1 ) by A7,XCMPLX_0:def 7;
then ( r / ( n + 2 ) ) < r by XCMPLX_0:def 9;
then ( x0 - r ) < ( x0 - ( r / ( n + 2 ) ) ) by XREAL_1:15;
then ( x0 - r ) < ( x0 + ( - ( r / ( n + 2 ) ) ) );
then A8: ( x0 - r ) <= ( x0 + ( ( - r ) / ( n + 2 ) ) ) by XCMPLX_1:187;
( 0 ) < ( r / ( n + 2 ) ) by A1,A7,XREAL_1:139;
then ( x0 - ( r / ( n + 2 ) ) ) < ( x0 - ( 0 ) ) by XREAL_1:15;
then ( x0 + ( - ( r / ( n + 2 ) ) ) ) <= x0;
then ( x0 + ( ( - r ) / ( n + 2 ) ) ) <= x0 by XCMPLX_1:187;
then A9: ( x0 + ( ( - r ) / ( n + 2 ) ) ) in { g1: (( x0 - r ) <= g1 & g1 <= x0) } by A8;
x = ( ( b . n ) + ( a . n ) ) by A6,SEQ_1:7
.= ( ( ( - r ) / ( n + 2 ) ) + ( a . n ) ) by A3
.= ( x0 + ( ( - r ) / ( n + 2 ) ) ) by FUNCOP_1:7;
then x in [. ( x0 - r ),x0 .] by A9,RCOMP_1:def 1;
hence thesis by A2;
end;

thus thesis by A4;
end;
