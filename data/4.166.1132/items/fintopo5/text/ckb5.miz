environ
vocabularies NUMBERS,XBOOLE_0,FUNCT_1,SUBSET_1,RELAT_1,XXREAL_0,CARD_1,FINSEQ_1,ORDERS_2,TOPS_2,FUNCT_2,FIN_TOPO,STRUCT_0,ARYTM_3,EQREL_1,XCMPLX_0,FINTOPO4,NAT_1,ARYTM_1,TARSKI,COMPLEX1,INT_1,ZFMISC_1,RELAT_2,FINTOPO5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,RELAT_1,FUNCT_1,RELSET_1,EQREL_1,FUNCT_2,FINSEQ_1,STRUCT_0,FIN_TOPO,FINTOPO3,ENUMSET1,ORDERS_2,FINTOPO4,COMPLEX1,INT_1,CKB3;
definitions TARSKI,FINSEQ_1,FIN_TOPO,RELAT_1,CKB3;
theorems NAT_1,NAT_2,ZFMISC_1,INT_1,FUNCT_1,FUNCT_2,FINSEQ_1,ABSVALUE,RELSET_1,XBOOLE_0,XBOOLE_1,UNIFORM1,FIN_TOPO,FINTOPO3,ENUMSET1,FINTOPO4,TARSKI,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,XREAL_0,NAT_D,CKB1,CKB2,CKB3,CKB4;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,RELSET_1,XXREAL_0,XREAL_0,REAL_1,NAT_1,INT_1,STRUCT_0,FIN_TOPO,ORDINAL1,FINSEQ_1;
constructors ENUMSET1,REAL_1,NAT_1,EQREL_1,LIMFUNC1,FIN_TOPO,FINTOPO3,FINTOPO4,NAT_D,RELSET_1,CKB3;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
Th4: (for FT1,FT2 being non  empty RelStr holds (for h being (Function of FT1,FT2) holds (for n being (Element of ( NAT )) holds (for x being (Element of FT1) holds (for y being (Element of FT2) holds ((h is  being_homeomorphism & y = ( h . x )) implies (for z being (Element of FT1) holds (z in ( U_FT (x,n) ) iff ( h . z ) in ( U_FT (y,n) )))))))))
proof
let FT1 being non  empty RelStr;
let FT2 being non  empty RelStr;
let h being (Function of FT1,FT2);
let n being (Element of ( NAT ));
let x being (Element of FT1);
let y being (Element of FT2);
assume that
A1: h is  being_homeomorphism
and
A2: y = ( h . x );
A3: h is  one-to-one  onto by A1,CKB3:def 1;
let z being (Element of FT1);
x in (the carrier of FT1);
then A4: x in ( dom h ) by FUNCT_2:def 1;
z in (the carrier of FT1);
then A5: z in ( dom h ) by FUNCT_2:def 1;
A6:now
defpred P[ (Element of ( NAT )) ]
 means
(for w being (Element of FT2) holds (w in ( U_FT (y,$1) ) implies ( ( h " ) . w ) in ( U_FT (x,$1) )));
assume A7: ( h . z ) in ( U_FT (y,n) );
consider g being (Function of FT2,FT1) such that A8: g = ( h " ) and A9: g is  being_homeomorphism by A1,CKB4:1;
A10: (for k being (Element of ( NAT )) holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A11: P[ k ];
(for w being (Element of FT2) holds (w in ( U_FT (y,( k + 1 )) ) implies ( ( h " ) . w ) in ( U_FT (x,( k + 1 )) )))
proof
let w being (Element of FT2);
A12: ( U_FT (y,( k + 1 )) ) = ( ( U_FT (y,k) ) ^f ) by FINTOPO3:48;
assume w in ( U_FT (y,( k + 1 )) );
then consider x3 being (Element of FT2) such that A13: x3 = w and A14: (ex y3 being (Element of FT2) st (y3 in ( U_FT (y,k) ) & x3 in ( U_FT y3 ))) by A12;
consider y2 being (Element of FT2) such that A15: y2 in ( U_FT (y,k) ) and A16: x3 in ( U_FT y2 ) by A14;
reconsider q = ( g . y2 ),p = ( g . x3 ) as (Element of FT1);
A17: (for w2 being (Element of FT2) holds (w2 in ( U_FT (y2,( 0 )) ) implies ( ( h " ) . w2 ) in ( U_FT (q,( 0 )) )))
proof
let w2 being (Element of FT2);
w2 in (the carrier of FT2);
then A18: w2 in ( dom g ) by FUNCT_2:def 1;
A19: ( ( h " ) .: ( U_FT y2 ) ) = ( Class ((the InternalRel of FT1),( ( h " ) . y2 )) ) by A8,A9,CKB3:def 1;
hereby
assume w2 in ( U_FT (y2,( 0 )) );
then w2 in ( U_FT y2 ) by FINTOPO3:47;
then ( ( h " ) . w2 ) in ( U_FT q ) by A8,A19,A18,FUNCT_1:def 6;
hence ( ( h " ) . w2 ) in ( U_FT (q,( 0 )) ) by FINTOPO3:47;
end;
end;
x3 in ( U_FT (y2,( 0 )) ) by A16,FINTOPO3:47;
then p in ( U_FT (q,( 0 )) ) by A8,A17;
then A20: p in ( U_FT q ) by FINTOPO3:47;
q in ( U_FT (x,k) ) by A8,A11,A15;
then p in ( ( U_FT (x,k) ) ^f ) by A20;
hence thesis by A8,A13,FINTOPO3:48;
end;
hence thesis;
end;
A21: ( g . y ) = x by A2,A4,A3,A8,FUNCT_1:34;
(for w being (Element of FT2) holds (w in ( U_FT (y,( 0 )) ) implies ( ( h " ) . w ) in ( U_FT (x,( 0 )) )))
proof
let w being (Element of FT2);
w in (the carrier of FT2);
then A22: w in ( dom g ) by FUNCT_2:def 1;
A23: ( g .: ( U_FT y ) ) = ( Class ((the InternalRel of FT1),( g . y )) ) by A9,CKB3:def 1;
hereby
assume w in ( U_FT (y,( 0 )) );
then w in ( U_FT y ) by FINTOPO3:47;
then ( g . w ) in ( U_FT x ) by A21,A23,A22,FUNCT_1:def 6;
hence ( ( h " ) . w ) in ( U_FT (x,( 0 )) ) by A8,FINTOPO3:47;
end;
end;
then A24: P[ ( 0 ) ];
(for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A24,A10);
then ( ( h " ) . ( h . z ) ) in ( U_FT (x,n) ) by A7;
hence z in ( U_FT (x,n) ) by A3,A5,FUNCT_1:34;
end;
now
defpred P[ (Element of ( NAT )) ]
 means
(for w being (Element of FT1) holds (w in ( U_FT (x,$1) ) implies ( h . w ) in ( U_FT (y,$1) )));
assume A25: z in ( U_FT (x,n) );
A26: (for k being (Element of ( NAT )) holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A27: P[ k ];
(for w being (Element of FT1) holds (w in ( U_FT (x,( k + 1 )) ) implies ( h . w ) in ( U_FT (y,( k + 1 )) )))
proof
let w being (Element of FT1);
A28: ( U_FT (x,( k + 1 )) ) = ( ( U_FT (x,k) ) ^f ) by FINTOPO3:48;
assume w in ( U_FT (x,( k + 1 )) );
then consider x3 being (Element of FT1) such that A29: x3 = w and A30: (ex y3 being (Element of FT1) st (y3 in ( U_FT (x,k) ) & x3 in ( U_FT y3 ))) by A28;
consider y2 being (Element of FT1) such that A31: y2 in ( U_FT (x,k) ) and A32: x3 in ( U_FT y2 ) by A30;
reconsider q = ( h . y2 ),p = ( h . x3 ) as (Element of FT2);
A33: (for w2 being (Element of FT1) holds (w2 in ( U_FT (y2,( 0 )) ) implies ( h . w2 ) in ( U_FT (q,( 0 )) )))
proof
let w2 being (Element of FT1);
w2 in (the carrier of FT1);
then A34: w2 in ( dom h ) by FUNCT_2:def 1;
A35: ( h .: ( U_FT y2 ) ) = ( Class ((the InternalRel of FT2),( h . y2 )) ) by A1,CKB3:def 1;
hereby
assume w2 in ( U_FT (y2,( 0 )) );
then w2 in ( U_FT y2 ) by FINTOPO3:47;
then ( h . w2 ) in ( U_FT q ) by A35,A34,FUNCT_1:def 6;
hence ( h . w2 ) in ( U_FT (q,( 0 )) ) by FINTOPO3:47;
end;
end;
x3 in ( U_FT (y2,( 0 )) ) by A32,FINTOPO3:47;
then p in ( U_FT (q,( 0 )) ) by A33;
then A36: p in ( U_FT q ) by FINTOPO3:47;
q in ( U_FT (y,k) ) by A27,A31;
then p in ( ( U_FT (y,k) ) ^f ) by A36;
hence thesis by A29,FINTOPO3:48;
end;
hence thesis;
end;
(for w being (Element of FT1) holds (w in ( U_FT (x,( 0 )) ) implies ( h . w ) in ( U_FT (y,( 0 )) )))
proof
let w being (Element of FT1);
w in (the carrier of FT1);
then A37: w in ( dom h ) by FUNCT_2:def 1;
A38: ( h .: ( U_FT x ) ) = ( Class ((the InternalRel of FT2),( h . x )) ) by A1,CKB3:def 1;
hereby
assume w in ( U_FT (x,( 0 )) );
then w in ( U_FT x ) by FINTOPO3:47;
then ( h . w ) in ( U_FT y ) by A2,A38,A37,FUNCT_1:def 6;
hence ( h . w ) in ( U_FT (y,( 0 )) ) by FINTOPO3:47;
end;
end;
then A39: P[ ( 0 ) ];
(for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A39,A26);
hence ( h . z ) in ( U_FT (y,n) ) by A25;
end;
hence thesis by A6;
end;
