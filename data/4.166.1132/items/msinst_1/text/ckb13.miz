environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,ALTCAT_1,MSALIMIT,SUBSET_1,FUNCT_1,CAT_1,RELAT_1,PBOOLE,ZFMISC_1,MCART_1,PUA2MSS1,RELAT_2,BINOP_1,TARSKI,MSUALG_6,FUNCT_2,PARTFUN1,NUMBERS,CARD_3,FUNCOP_1,PZFMISC1,MARGREL1,MEMBER_1,FUNCT_6,FINSEQ_4,MSUALG_3,MSINST_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,MCART_1,RELAT_1,FUNCT_1,STRUCT_0,FUNCT_2,MCART_2,RELSET_1,PARTFUN1,FINSEQ_2,CARD_3,BINOP_1,MULTOP_1,FUNCT_6,FUNCOP_1,PBOOLE,PZFMISC1,PRALG_1,MSUALG_1,MSUALG_3,ALTCAT_1,PRALG_2,PUA2MSS1,MSUALG_6,MSALIMIT,CKB1,CKB5,CKB11,CKB12;
definitions ALTCAT_1,MSUALG_3,PBOOLE,TARSKI,XBOOLE_0,BINOP_1,CKB1,CKB5,CKB11,CKB12;
theorems XBOOLE_0,ALTCAT_1,ALTCAT_2,AUTALG_1,CARD_3,CLOSURE1,FUNCOP_1,FUNCT_1,FUNCT_2,FUNCT_6,FUNCTOR0,MCART_1,MCART_2,MSSUBFAM,MSUALG_1,MSUALG_3,MSUALG_6,MSALIMIT,MULTOP_1,PARTFUN1,PBOOLE,PRALG_2,PUA2MSS1,RELAT_1,TARSKI,ZFMISC_1,PRALG_1,XBOOLE_1,PZFMISC1,FINSEQ_2,CKB1,CKB3,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
schemes ALTCAT_1,MSSUBFAM,TARSKI;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,FUNCOP_1,RELAT_1,STRUCT_0,MSUALG_1,ALTCAT_1,MSUALG_6,MSALIMIT,MSSUBFAM,PBOOLE,CKB2,CKB4,CKB6;
constructors MCART_2,PZFMISC1,MSUALG_3,ALTCAT_1,PUA2MSS1,CLOSURE1,MSUALG_6,MSALIMIT,RELSET_1,CKB1,CKB5,CKB11,CKB12;
requirements SUBSET,BOOLE;
begin
reserve A for non  empty set;
reserve S for non  void non  empty ManySortedSign;
registration
let S;
let A;
cluster ( MSAlgCat (S,A) ) ->  transitive  associative  with_units;
coherence
proof
set M = ( MSAlgCat (S,A) );
set G = ( MSAlgCat (S,A) );
set GM = (the Arrows of M);
set C = (the Comp of M);
thus G is  transitive
proof
let o1 being (object of G);
let o2 being (object of G);
let o3 being (object of G);
reconsider o19 = o1,o29 = o2,o39 = o3 as (Element of ( MSAlg_set (S,A) )) by CKB12:def 1;
assume that
A1: <^ o1,o2 ^> <> ( {} )
and
A2: <^ o2,o3 ^> <> ( {} );
set t = the (Element of ( MSAlg_morph (S,A,o19,o29) ));
( MSAlg_morph (S,A,o19,o29) ) <> ( {} ) by A1,CKB12:def 1;
then consider M,N being  strict  feasible MSAlgebra over S,f being (ManySortedFunction of M,N) such that A3: M = o19 and A4: N = o29 and f = t and A5: (the Sorts of M) is_transformable_to (the Sorts of N) and A6: f is_homomorphism M,N by CKB11:def 1;
set s = the (Element of ( MSAlg_morph (S,A,o29,o39) ));
( MSAlg_morph (S,A,o29,o39) ) <> ( {} ) by A2,CKB12:def 1;
then consider M1,N1 being  strict  feasible MSAlgebra over S,g being (ManySortedFunction of M1,N1) such that A7: M1 = o29 and A8: N1 = o39 and g = s and A9: (the Sorts of M1) is_transformable_to (the Sorts of N1) and A10: g is_homomorphism M1,N1 by CKB11:def 1;
reconsider g9 = g as (ManySortedFunction of N,N1) by A4,A7;
consider GF being (ManySortedFunction of M,N1) such that GF = ( g9 ** f ) and A11: GF is_homomorphism M,N1 by A4,A5,A6,A7,A9,A10,CKB10:1;
(the Sorts of M) is_transformable_to (the Sorts of N1) by A4,A5,A7,A9,AUTALG_1:10;
then GF in ( MSAlg_morph (S,A,o19,o39) ) by A3,A8,A11,CKB11:def 1;
hence thesis by CKB12:def 1;
end;

thus C is  associative
proof
let i being (Element of M);
let j being (Element of M);
let k being (Element of M);
let l being (Element of M);
let f being set;
let g being set;
let h being set;
reconsider i9 = i,j9 = j,k9 = k,l9 = l as (Element of ( MSAlg_set (S,A) )) by CKB12:def 1;
assume that
A12: f in ( GM . (i,j) )
and
A13: g in ( GM . (j,k) )
and
A14: h in ( GM . (k,l) );
g in ( MSAlg_morph (S,A,j9,k9) ) by A13,CKB12:def 1;
then consider M2,N2 being  strict  feasible MSAlgebra over S,G being (ManySortedFunction of M2,N2) such that A15: M2 = j9 and A16: N2 = k9 and A17: g = G and A18: (the Sorts of M2) is_transformable_to (the Sorts of N2) and A19: G is_homomorphism M2,N2 by CKB11:def 1;
h in ( MSAlg_morph (S,A,k9,l9) ) by A14,CKB12:def 1;
then consider M3,N3 being  strict  feasible MSAlgebra over S,H being (ManySortedFunction of M3,N3) such that A20: M3 = k9 and A21: N3 = l9 and A22: h = H and A23: (the Sorts of M3) is_transformable_to (the Sorts of N3) and A24: H is_homomorphism M3,N3 by CKB11:def 1;
reconsider G9 = G as (ManySortedFunction of M2,M3) by A16,A20;
consider HG being (ManySortedFunction of M2,N3) such that A25: HG = ( H ** G9 ) and A26: HG is_homomorphism M2,N3 by A16,A18,A19,A20,A23,A24,CKB10:1;
A27: ( ( C . (j,k,l) ) . (H,G) ) = ( H ** G9 ) by A13,A14,A17,A22,CKB12:def 1;
f in ( MSAlg_morph (S,A,i9,j9) ) by A12,CKB12:def 1;
then consider M1,N1 being  strict  feasible MSAlgebra over S,F being (ManySortedFunction of M1,N1) such that A28: M1 = i9 and A29: N1 = j9 and A30: f = F and A31: (the Sorts of M1) is_transformable_to (the Sorts of N1) and A32: F is_homomorphism M1,N1 by CKB11:def 1;
A33: ( ( C . (i,j,k) ) . (g,f) ) = ( G ** F ) by A12,A13,A30,A17,CKB12:def 1;
consider GF being (ManySortedFunction of M1,M3) such that A34: GF = ( G9 ** F ) and A35: GF is_homomorphism M1,M3 by A29,A31,A32,A15,A16,A18,A19,A20,CKB10:1;
(the Sorts of M1) is_transformable_to (the Sorts of M3) by A29,A31,A15,A16,A18,A20,AUTALG_1:10;
then ( G9 ** F ) in ( MSAlg_morph (S,A,i9,k9) ) by A28,A20,A34,A35,CKB11:def 1;
then GF in ( GM . (i,k) ) by A34,CKB12:def 1;
then A36: ( ( C . (i,k,l) ) . (H,GF) ) = ( H ** GF ) by A14,A22,CKB12:def 1;
(the Sorts of M2) is_transformable_to (the Sorts of N3) by A16,A18,A20,A23,AUTALG_1:10;
then HG in ( MSAlg_morph (S,A,j9,l9) ) by A15,A21,A26,CKB11:def 1;
then A37: ( H ** G9 ) in ( GM . (j,l) ) by A25,CKB12:def 1;
( ( H ** G9 ) ** F ) = ( H ** ( G9 ** F ) ) by PBOOLE:140;
hence thesis by A12,A30,A17,A22,A33,A34,A36,A27,A37,CKB12:def 1;
end;

thus C is  with_left_units
proof
let j being (Element of M);
reconsider j9 = j as (Element of ( MSAlg_set (S,A) )) by CKB12:def 1;
consider MS being  strict  feasible MSAlgebra over S such that A38: MS = j9 and (for C being (Component of (the Sorts of MS)) holds C c= A) by CKB5:def 1;
reconsider e = ( id (the Sorts of MS) ) as (ManySortedFunction of MS,MS);
take e;
(e is_homomorphism MS,MS & ( GM . (j,j) ) = ( MSAlg_morph (S,A,j9,j9) )) by CKB12:def 1,MSUALG_3:9;
hence A39: e in ( GM . (j,j) ) by A38,CKB11:def 1;
let i being (Element of M);
reconsider i9 = i as (Element of ( MSAlg_set (S,A) )) by CKB12:def 1;
let f being set;
reconsider I = i,J = j as (object of M);
assume A40: f in ( GM . (i,j) );
then f in ( MSAlg_morph (S,A,i9,j9) ) by CKB12:def 1;
then consider M1,N1 being  strict  feasible MSAlgebra over S,F being (ManySortedFunction of M1,N1) such that M1 = i9 and A41: N1 = j9 and A42: F = f and (the Sorts of M1) is_transformable_to (the Sorts of N1) and F is_homomorphism M1,N1 by CKB11:def 1;
reconsider F as (ManySortedFunction of M1,MS) by A38,A41;
( ( C . (I,J,J) ) . (e,f) ) = ( e ** F ) by A39,A40,A42,CKB12:def 1;
hence thesis by A42,MSUALG_3:4;
end;

thus C is  with_right_units
proof
let i being (Element of M);
reconsider i9 = i as (Element of ( MSAlg_set (S,A) )) by CKB12:def 1;
consider MS being  strict  feasible MSAlgebra over S such that A43: MS = i9 and (for C being (Component of (the Sorts of MS)) holds C c= A) by CKB5:def 1;
reconsider e = ( id (the Sorts of MS) ) as (ManySortedFunction of MS,MS);
take e;
(e is_homomorphism MS,MS & ( GM . (i,i) ) = ( MSAlg_morph (S,A,i9,i9) )) by CKB12:def 1,MSUALG_3:9;
hence A44: e in ( GM . (i,i) ) by A43,CKB11:def 1;
let j being (Element of M);
reconsider j9 = j as (Element of ( MSAlg_set (S,A) )) by CKB12:def 1;
let f being set;
reconsider I = i,J = j as (object of M);
assume A45: f in ( GM . (i,j) );
then f in ( MSAlg_morph (S,A,i9,j9) ) by CKB12:def 1;
then consider M1,N1 being  strict  feasible MSAlgebra over S,F being (ManySortedFunction of M1,N1) such that A46: M1 = i9 and N1 = j9 and A47: F = f and (the Sorts of M1) is_transformable_to (the Sorts of N1) and F is_homomorphism M1,N1 by CKB11:def 1;
reconsider F as (ManySortedFunction of MS,N1) by A43,A46;
( ( C . (I,I,J) ) . (f,e) ) = ( F ** e ) by A44,A45,A47,CKB12:def 1;
hence thesis by A47,MSUALG_3:3;
end;

end;
end;
