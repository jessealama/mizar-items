environ
vocabularies NUMBERS,PRE_TOPC,EUCLID,FINSEQ_1,XREAL_0,ORDINAL1,SUBSET_1,RELAT_1,ARYTM_3,MCART_1,ARYTM_1,FUNCT_1,SQUARE_1,BINOP_2,COMPLEX1,RVSUM_1,CARD_3,NAT_1,STRUCT_0,REAL_1,XXREAL_0,RLTOPSP1,TARSKI,CARD_1,XBOOLE_0,TOPREAL1,PARTFUN1,ORDINAL4,METRIC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,SQUARE_1,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,BINOP_1,PRE_TOPC,FINSEQ_2,STRUCT_0,METRIC_1,RVSUM_1,RLVECT_1,RLTOPSP1,EUCLID,TOPREAL1,XXREAL_0;
definitions TARSKI,TOPREAL1,FUNCT_1,XBOOLE_0,SQUARE_1,EUCLID,RVSUM_1,VALUED_1,ALGSTR_0,RLTOPSP1;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,ABSVALUE,SQUARE_1,FINSEQ_2,METRIC_1,RVSUM_1,EUCLID,TOPREAL1,FINSEQ_3,FINSEQ_4,PARTFUN2,TBSP_1,RELAT_1,INT_1,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_0,COMPLEX1,XREAL_1,BINOP_2,XXREAL_0,ORDINAL1,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32;
registrations XBOOLE_0,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,SQUARE_1,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,EUCLID,VALUED_0;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,BINOP_2,COMPLEX1,FINSEQOP,FINSEQ_4,TOPREAL1,SEQ_1,RVSUM_1,RELSET_1,DOMAIN_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve f for (FinSequence of ( TOP-REAL 2 ));
reserve n for (Element of ( NAT ));
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve x for set;
reserve y for set;
theorem
(((i > 2 & i in ( dom f )) & f is  being_S-Seq) implies ( f | i ) is  being_S-Seq)
proof
assume that
A1: i > 2
and
A2: i in ( dom f )
and
A3: f is  being_S-Seq;
A4: ( f | i ) = ( f | ( Seg i ) ) by FINSEQ_1:def 15;
then A5: ( dom ( f | i ) ) = ( ( dom f ) /\ ( Seg i ) ) by RELAT_1:61;
thus ( f | i ) is  one-to-one
proof
A6: f is  one-to-one by A3,TOPREAL1:def 8;
let x;
let y;
assume that
A7: x in ( dom ( f | i ) )
and
A8: y in ( dom ( f | i ) )
and
A9: ( ( f | i ) . x ) = ( ( f | i ) . y );
A10: (x in ( dom f ) & y in ( dom f )) by A5,A7,A8,XBOOLE_0:def 4;
( f . x ) = ( ( f | i ) . x ) by A4,A7,FUNCT_1:47
.= ( f . y ) by A4,A8,A9,FUNCT_1:47;
hence thesis by A6,A10,FUNCT_1:def 4;
end;

A11: i <= ( len f ) by A2,FINSEQ_3:25;
( Seg ( len f ) ) = ( dom f ) by FINSEQ_1:def 3;
then ( Seg i ) c= ( dom f ) by A11,FINSEQ_1:5;
then A12: ( dom ( f | i ) ) = ( Seg i ) by A5,XBOOLE_1:28;
hence ( len ( f | i ) ) >= 2 by A1,FINSEQ_1:def 3;
A13: f is  unfolded by A3,TOPREAL1:def 8;
thus ( f | i ) is  unfolded
proof
let j being Nat;
assume that
A14: 1 <= j
and
A15: ( j + 2 ) <= ( len ( f | i ) );
( j + 1 ) <= ( j + 2 ) by XREAL_1:6;
then A16: ( j + 1 ) <= ( len ( f | i ) ) by A15,XXREAL_0:2;
( len ( f | i ) ) <= ( len f ) by A11,A12,FINSEQ_1:def 3;
then A17: ( j + 2 ) <= ( len f ) by A15,XXREAL_0:2;
1 <= ( j + 1 ) by NAT_1:12;
then A18: ( j + 1 ) in ( dom ( f | i ) ) by A16,FINSEQ_3:25;
1 <= ( ( j + 1 ) + 1 ) by NAT_1:12;
then ( ( j + 1 ) + 1 ) in ( dom ( f | i ) ) by A15,FINSEQ_3:25;
then A19: ( LSeg (f,( j + 1 )) ) = ( LSeg (( f | i ),( j + 1 )) ) by A18,CKB17:1;
j <= ( j + 2 ) by NAT_1:11;
then j <= ( len ( f | i ) ) by A15,XXREAL_0:2;
then j in ( dom ( f | i ) ) by A14,FINSEQ_3:25;
then ( LSeg (f,j) ) = ( LSeg (( f | i ),j) ) by A18,CKB17:1;
then ( ( LSeg (( f | i ),j) ) /\ ( LSeg (( f | i ),( j + 1 )) ) ) = { ( f /. ( j + 1 ) ) } by A13,A14,A17,A19,TOPREAL1:def 6;
hence thesis by A18,FINSEQ_4:70;
end;

A20: f is  s.n.c. by A3,TOPREAL1:def 8;
thus ( f | i ) is  s.n.c.
proof
let n being Nat;
let k being Nat;
A21: ( k + 1 ) >= 1 by NAT_1:11;
A22: ( n + 1 ) >= 1 by NAT_1:11;
assume ( n + 1 ) < k;
then ( LSeg (f,n) ) misses ( LSeg (f,k) ) by A20,TOPREAL1:def 7;
then A23: ( ( LSeg (f,n) ) /\ ( LSeg (f,k) ) ) = ( {} ) by XBOOLE_0:def 7;
A24: ( k + 1 ) >= k by NAT_1:11;
A25: ( n + 1 ) >= n by NAT_1:11;
per cases ;
suppose A26: n in ( dom ( f | i ) );

now
per cases ;
suppose ( n + 1 ) in ( dom ( f | i ) );

then A27: ( LSeg (f,n) ) = ( LSeg (( f | i ),n) ) by A26,CKB17:1;
now
per cases ;
suppose A28: k in ( dom ( f | i ) );

now
per cases ;
suppose ( k + 1 ) in ( dom ( f | i ) );

hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} ) by A23,A27,A28,CKB17:1;
end;
suppose (not ( k + 1 ) in ( dom ( f | i ) ));

then ( k + 1 ) > ( len ( f | i ) ) by A21,FINSEQ_3:25;
then ( LSeg (( f | i ),k) ) = ( {} ) by TOPREAL1:def 3;
hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} );
end;
end;
hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} );
end;
suppose (not k in ( dom ( f | i ) ));

then (k < 1 or k > ( len ( f | i ) )) by FINSEQ_3:25;
then (k < 1 or ( k + 1 ) > ( len ( f | i ) )) by A24,XXREAL_0:2;
then ( LSeg (( f | i ),k) ) = ( {} ) by TOPREAL1:def 3;
hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} );
end;
end;
hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} );
end;
suppose (not ( n + 1 ) in ( dom ( f | i ) ));

then ( n + 1 ) > ( len ( f | i ) ) by A22,FINSEQ_3:25;
then ( LSeg (( f | i ),n) ) = ( {} ) by TOPREAL1:def 3;
hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} );
end;
end;
hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} );
end;
suppose (not n in ( dom ( f | i ) ));

then (n < 1 or n > ( len ( f | i ) )) by FINSEQ_3:25;
then (n < 1 or ( n + 1 ) > ( len ( f | i ) )) by A25,XXREAL_0:2;
then ( LSeg (( f | i ),n) ) = ( {} ) by TOPREAL1:def 3;
hence ( ( LSeg (( f | i ),n) ) /\ ( LSeg (( f | i ),k) ) ) = ( {} );
end;
end;

let j being Nat;
assume that
A29: 1 <= j
and
A30: ( j + 1 ) <= ( len ( f | i ) );
( len ( f | i ) ) <= ( len f ) by A11,A12,FINSEQ_1:def 3;
then A31: ( j + 1 ) <= ( len f ) by A30,XXREAL_0:2;
j <= ( j + 1 ) by NAT_1:11;
then j <= ( len ( f | i ) ) by A30,XXREAL_0:2;
then j in ( dom ( f | i ) ) by A29,FINSEQ_3:25;
then A32: ( ( f | i ) /. j ) = ( f /. j ) by FINSEQ_4:70;
1 <= ( j + 1 ) by NAT_1:12;
then ( j + 1 ) in ( dom ( f | i ) ) by A30,FINSEQ_3:25;
then A33: ( ( f | i ) /. ( j + 1 ) ) = ( f /. ( j + 1 ) ) by FINSEQ_4:70;
f is  special by A3,TOPREAL1:def 8;
hence thesis by A29,A31,A32,A33,TOPREAL1:def 5;
end;
