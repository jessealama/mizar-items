environ
vocabularies NUMBERS,PRE_TOPC,EUCLID,FINSEQ_1,XREAL_0,ORDINAL1,SUBSET_1,RELAT_1,ARYTM_3,MCART_1,ARYTM_1,FUNCT_1,SQUARE_1,BINOP_2,COMPLEX1,RVSUM_1,CARD_3,NAT_1,STRUCT_0,REAL_1,XXREAL_0,RLTOPSP1,TARSKI,CARD_1,XBOOLE_0,TOPREAL1,PARTFUN1,ORDINAL4,METRIC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,SQUARE_1,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,BINOP_1,PRE_TOPC,FINSEQ_2,STRUCT_0,METRIC_1,RVSUM_1,RLVECT_1,RLTOPSP1,EUCLID,TOPREAL1,XXREAL_0;
definitions TARSKI,TOPREAL1,FUNCT_1,XBOOLE_0,SQUARE_1,EUCLID,RVSUM_1,VALUED_1,ALGSTR_0,RLTOPSP1;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,ABSVALUE,SQUARE_1,FINSEQ_2,METRIC_1,RVSUM_1,EUCLID,TOPREAL1,FINSEQ_3,FINSEQ_4,PARTFUN2,TBSP_1,RELAT_1,INT_1,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_0,COMPLEX1,XREAL_1,BINOP_2,XXREAL_0,ORDINAL1,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
registrations XBOOLE_0,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,SQUARE_1,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,EUCLID,VALUED_0;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,BINOP_2,COMPLEX1,FINSEQOP,FINSEQ_4,TOPREAL1,SEQ_1,RVSUM_1,RELSET_1,DOMAIN_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve p1 for (Point of ( TOP-REAL 2 ));
reserve p2 for (Point of ( TOP-REAL 2 ));
reserve r for  real number;
reserve u for (Point of ( Euclid 2 ));
reserve n for (Element of ( NAT ));
reserve lambda for Real;
theorem
Th28: (for p1,p2 being (Point of ( TOP-REAL n )) holds (for u being (Point of ( Euclid n )) holds ((p1 in ( Ball (u,r) ) & p2 in ( Ball (u,r) )) implies ( LSeg (p1,p2) ) c= ( Ball (u,r) ))))
proof
let p1 being (Point of ( TOP-REAL n ));
let p2 being (Point of ( TOP-REAL n ));
let u being (Point of ( Euclid n ));
assume that
A1: p1 in ( Ball (u,r) )
and
A2: p2 in ( Ball (u,r) );
reconsider p9 = p1 as (Point of ( Euclid n )) by A1;
A3: ( dist (p9,u) ) < r by A1,METRIC_1:11;
thus ( LSeg (p1,p2) ) c= ( Ball (u,r) )
proof
p2 in { u4 where u4 is (Point of ( Euclid n )): ( dist (u,u4) ) < r } by A2,METRIC_1:17;
then A4: (ex u4 being (Point of ( Euclid n )) st (u4 = p2 & ( dist (u,u4) ) < r));
reconsider q29 = u as (Element of ( REAL n ));
let a being set;
reconsider q2 = q29 as (Point of ( TOP-REAL n )) by EUCLID:22;
assume a in ( LSeg (p1,p2) );
then consider lambda such that A5: ( ( ( 1 - lambda ) * p1 ) + ( lambda * p2 ) ) = a and A6: ( 0 ) <= lambda and A7: lambda <= 1;
A8: lambda = ( abs lambda ) by A6,ABSVALUE:def 1;
set p = ( ( ( 1 - lambda ) * p1 ) + ( lambda * p2 ) );
reconsider p9 = p,p19 = p1,p29 = p2 as (Element of ( REAL n )) by EUCLID:22;
reconsider u5 = ( ( ( 1 - lambda ) * p1 ) + ( lambda * p2 ) ) as (Point of ( Euclid n )) by EUCLID:22;
A9: (( ( Pitag_dist n ) . (q29,p9) ) = |. ( q29 - p9 ) .| & ( ( Pitag_dist n ) . (u,u5) ) = ( dist (u,u5) )) by EUCLID:def 6,METRIC_1:def 1;
( ( Pitag_dist n ) . (q29,p29) ) = |. ( q29 - p29 ) .| by EUCLID:def 6;
then A10: |. ( q29 + ( - p29 ) ) .| < r by A4,METRIC_1:def 1;
A11: ( 0 ) <= ( 1 - lambda ) by A7,XREAL_1:48;
then A12: ( 1 - lambda ) = ( abs ( 1 - lambda ) ) by ABSVALUE:def 1;
consider u3 being (Point of ( Euclid n )) such that A13: u3 = p1 and A14: ( dist (u,u3) ) < r by A3;
A15: ( ( Pitag_dist n ) . (q29,p19) ) = |. ( q29 - p19 ) .| by EUCLID:def 6;
then A16: ( dist (u,u3) ) = |. ( q29 - p19 ) .| by A13,METRIC_1:def 1;
((( ( abs ( 1 - lambda ) ) * |. ( q29 + ( - p19 ) ) .| ) < ( ( 1 - lambda ) * r ) & ( ( abs lambda ) * |. ( q29 + ( - p29 ) ) .| ) <= ( lambda * r )) or (( ( abs ( 1 - lambda ) ) * |. ( q29 + ( - p19 ) ) .| ) <= ( ( 1 - lambda ) * r ) & ( ( abs lambda ) * |. ( q29 + ( - p29 ) ) .| ) < ( lambda * r )))
proof
per cases  by A6;
suppose lambda = ( 0 );

hence thesis by A13,A14,A15,A12,A8,METRIC_1:def 1;
end;
suppose lambda > ( 0 );

hence thesis by A14,A16,A10,A11,A12,A8,XREAL_1:64,XREAL_1:68;
end;
end;
then A17: ( ( ( abs ( 1 - lambda ) ) * |. ( q29 + ( - p19 ) ) .| ) + ( ( abs lambda ) * |. ( q29 + ( - p29 ) ) .| ) ) < ( ( ( 1 - lambda ) * r ) + ( lambda * r ) ) by XREAL_1:8;
( q29 - p19 ) = ( q2 - p1 ) by EUCLID:69;
then A18: (( q29 - p9 ) = ( q2 - p ) & ( ( 1 - lambda ) * ( q29 - p19 ) ) = ( ( 1 - lambda ) * ( q2 - p1 ) )) by EUCLID:65,EUCLID:69;
( q29 - p29 ) = ( q2 - p2 ) by EUCLID:69;
then A19: ( lambda * ( q29 - p29 ) ) = ( lambda * ( q2 - p2 ) ) by EUCLID:65;
( q2 - p ) = ( ( ( ( 1 - lambda ) + lambda ) * q2 ) - ( ( ( 1 - lambda ) * p1 ) + ( lambda * p2 ) ) ) by EUCLID:29
.= ( ( ( ( 1 - lambda ) * q2 ) + ( lambda * q2 ) ) - ( ( ( 1 - lambda ) * p1 ) + ( lambda * p2 ) ) ) by EUCLID:33
.= ( ( ( ( 1 - lambda ) * q2 ) + ( lambda * q2 ) ) + ( - ( ( ( 1 - lambda ) * p1 ) + ( lambda * p2 ) ) ) )
.= ( ( ( ( 1 - lambda ) * q2 ) + ( lambda * q2 ) ) + ( ( - ( ( 1 - lambda ) * p1 ) ) - ( lambda * p2 ) ) ) by EUCLID:38
.= ( ( ( ( ( 1 - lambda ) * q2 ) + ( lambda * q2 ) ) + ( - ( ( 1 - lambda ) * p1 ) ) ) + ( - ( lambda * p2 ) ) ) by EUCLID:26
.= ( ( ( ( ( 1 - lambda ) * q2 ) + ( - ( ( 1 - lambda ) * p1 ) ) ) + ( lambda * q2 ) ) + ( - ( lambda * p2 ) ) ) by EUCLID:26
.= ( ( ( ( ( 1 - lambda ) * q2 ) + ( ( 1 - lambda ) * ( - p1 ) ) ) + ( lambda * q2 ) ) + ( - ( lambda * p2 ) ) ) by EUCLID:40
.= ( ( ( ( 1 - lambda ) * ( q2 + ( - p1 ) ) ) + ( lambda * q2 ) ) + ( - ( lambda * p2 ) ) ) by EUCLID:32
.= ( ( ( 1 - lambda ) * ( q2 + ( - p1 ) ) ) + ( ( lambda * q2 ) + ( - ( lambda * p2 ) ) ) ) by EUCLID:26
.= ( ( ( 1 - lambda ) * ( q2 + ( - p1 ) ) ) + ( ( lambda * q2 ) + ( lambda * ( - p2 ) ) ) ) by EUCLID:40
.= ( ( ( 1 - lambda ) * ( q2 - p1 ) ) + ( lambda * ( q2 - p2 ) ) ) by EUCLID:32;
then ( q29 - p9 ) = ( ( ( 1 - lambda ) * ( q29 - p19 ) ) + ( lambda * ( q29 - p29 ) ) ) by A18,A19,EUCLID:64;
then A20: |. ( q29 - p9 ) .| <= ( |. ( ( 1 - lambda ) * ( q29 - p19 ) ) .| + |. ( lambda * ( q29 - p29 ) ) .| ) by EUCLID:12;
( |. ( ( 1 - lambda ) * ( q29 + ( - p19 ) ) ) .| + |. ( lambda * ( q29 + ( - p29 ) ) ) .| ) = ( ( ( abs ( 1 - lambda ) ) * |. ( q29 + ( - p19 ) ) .| ) + |. ( lambda * ( q29 + ( - p29 ) ) ) .| ) by EUCLID:11
.= ( ( ( abs ( 1 - lambda ) ) * |. ( q29 + ( - p19 ) ) .| ) + ( ( abs lambda ) * |. ( q29 + ( - p29 ) ) .| ) ) by EUCLID:11;
then |. ( q29 - p9 ) .| < r by A20,A17,XXREAL_0:2;
then a in { u6 where u6 is (Element of ( Euclid n )): ( dist (u,u6) ) < r } by A5,A9;
hence thesis by METRIC_1:17;
end;

end;
