environ
vocabularies NUMBERS,PRE_TOPC,EUCLID,FINSEQ_1,XREAL_0,ORDINAL1,SUBSET_1,RELAT_1,ARYTM_3,MCART_1,ARYTM_1,FUNCT_1,SQUARE_1,BINOP_2,COMPLEX1,RVSUM_1,CARD_3,NAT_1,STRUCT_0,REAL_1,XXREAL_0,RLTOPSP1,TARSKI,CARD_1,XBOOLE_0,TOPREAL1,PARTFUN1,ORDINAL4,METRIC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,SQUARE_1,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,BINOP_1,PRE_TOPC,FINSEQ_2,STRUCT_0,METRIC_1,RVSUM_1,RLVECT_1,RLTOPSP1,EUCLID,TOPREAL1,XXREAL_0;
definitions TARSKI,TOPREAL1,FUNCT_1,XBOOLE_0,SQUARE_1,EUCLID,RVSUM_1,VALUED_1,ALGSTR_0,RLTOPSP1;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,ABSVALUE,SQUARE_1,FINSEQ_2,METRIC_1,RVSUM_1,EUCLID,TOPREAL1,FINSEQ_3,FINSEQ_4,PARTFUN2,TBSP_1,RELAT_1,INT_1,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_0,COMPLEX1,XREAL_1,BINOP_2,XXREAL_0,ORDINAL1,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
registrations XBOOLE_0,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,SQUARE_1,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,EUCLID,VALUED_0;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,BINOP_2,COMPLEX1,FINSEQOP,FINSEQ_4,TOPREAL1,SEQ_1,RVSUM_1,RELSET_1,DOMAIN_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve p1 for (Point of ( TOP-REAL 2 ));
reserve p2 for (Point of ( TOP-REAL 2 ));
reserve p3 for (Point of ( TOP-REAL 2 ));
reserve r for  real number;
reserve r1 for  real number;
reserve s1 for  real number;
reserve x for set;
reserve lambda for Real;
theorem
Th16: (r1 <= s1 implies { p1: ((( p1 `2 ) = r & r1 <= ( p1 `1 )) & ( p1 `1 ) <= s1) } = ( LSeg (|[ r1,r ]|,|[ s1,r ]|) ))
proof
set L = { p3: ((( p3 `2 ) = r & r1 <= ( p3 `1 )) & ( p3 `1 ) <= s1) };
set p = |[ r1,r ]|;
set q = |[ s1,r ]|;
A1: ( p `1 ) = r1 by EUCLID:52;
assume A2: r1 <= s1;
then A3: ( s1 - r1 ) >= ( r1 - r1 ) by XREAL_1:13;
A4: ( q `2 ) = r by EUCLID:52;
A5: ( p `2 ) = r by EUCLID:52;
A6: ( q `1 ) = s1 by EUCLID:52;
thus L c= ( LSeg (p,q) )
proof
per cases  by A2,XXREAL_0:1;
suppose A7: r1 = s1;

L c= { p }
proof
let x;
assume x in L;
then consider p2 such that A8: x = p2 and A9: ( p2 `2 ) = r and A10: (r1 <= ( p2 `1 ) & ( p2 `1 ) <= s1);
( p `1 ) = ( p2 `1 ) by A1,A7,A10,XXREAL_0:1;
then p2 = p by A5,A9,CKB6:1;
hence thesis by A8,TARSKI:def 1;
end;
hence thesis by A7,RLTOPSP1:70;
end;
suppose A11: r1 < s1;

let x;
assume x in L;
then consider p2 such that A12: x = p2 and A13: ( p2 `2 ) = r and A14: r1 <= ( p2 `1 ) and A15: ( p2 `1 ) <= s1;
set t = ( p2 `1 );
set l = ( ( t - r1 ) / ( s1 - r1 ) );
A16: ( s1 - r1 ) > ( 0 ) by A11,XREAL_1:50;
then A17: ( 1 - l ) = ( ( ( 1 * ( s1 - r1 ) ) - ( t - r1 ) ) / ( s1 - r1 ) ) by XCMPLX_1:127
.= ( ( s1 - t ) / ( s1 - r1 ) );
( t - r1 ) <= ( s1 - r1 ) by A15,XREAL_1:9;
then l <= ( ( s1 - r1 ) / ( s1 - r1 ) ) by A16,XREAL_1:72;
then A18: l <= 1 by A16,XCMPLX_1:60;
A19: ( ( ( ( 1 - l ) * p ) + ( l * q ) ) `2 ) = ( ( ( ( 1 - l ) * p ) `2 ) + ( ( l * q ) `2 ) ) by CKB2:1
.= ( ( ( 1 - l ) * ( p `2 ) ) + ( ( l * q ) `2 ) ) by CKB4:1
.= ( ( ( 1 - l ) * r ) + ( l * r ) ) by A5,A4,CKB4:1
.= ( p2 `2 ) by A13;
( ( ( ( 1 - l ) * p ) + ( l * q ) ) `1 ) = ( ( ( ( 1 - l ) * p ) `1 ) + ( ( l * q ) `1 ) ) by CKB2:1
.= ( ( ( 1 - l ) * ( p `1 ) ) + ( ( l * q ) `1 ) ) by CKB4:1
.= ( ( ( 1 - l ) * ( p `1 ) ) + ( l * ( q `1 ) ) ) by CKB4:1
.= ( ( ( ( s1 - t ) * ( p `1 ) ) / ( s1 - r1 ) ) + ( l * ( q `1 ) ) ) by A17,XCMPLX_1:74
.= ( ( ( ( s1 - t ) * ( p `1 ) ) / ( s1 - r1 ) ) + ( ( ( t - r1 ) * ( q `1 ) ) / ( s1 - r1 ) ) ) by XCMPLX_1:74
.= ( ( ( ( s1 * r1 ) - ( t * r1 ) ) + ( ( t - r1 ) * s1 ) ) / ( s1 - r1 ) ) by A1,A6,XCMPLX_1:62
.= ( ( t * ( s1 - r1 ) ) / ( s1 - r1 ) )
.= ( t * ( ( s1 - r1 ) / ( s1 - r1 ) ) ) by XCMPLX_1:74
.= ( t * 1 ) by A16,XCMPLX_1:60
.= ( p2 `1 );
then A20: p2 = ( ( ( 1 - l ) * p ) + ( l * q ) ) by A19,CKB6:1;
( r1 - r1 ) <= ( t - r1 ) by A14,XREAL_1:9;
hence thesis by A16,A12,A18,A20;
end;
end;

let x;
assume x in ( LSeg (p,q) );
then consider lambda such that A21: ( ( ( 1 - lambda ) * p ) + ( lambda * q ) ) = x and A22: ( 0 ) <= lambda and A23: lambda <= 1;
A24: ( r1 + ( 0 ) ) <= ( r1 + ( lambda * ( s1 - r1 ) ) ) by A3,A22,XREAL_1:7;
( lambda * ( s1 - r1 ) ) <= ( 1 * ( s1 - r1 ) ) by A3,A23,XREAL_1:64;
then A25: ( r1 + ( lambda * ( s1 - r1 ) ) ) <= ( ( s1 - r1 ) + r1 ) by XREAL_1:7;
set p2 = ( ( ( 1 - lambda ) * p ) + ( lambda * q ) );
A26: ( p2 `1 ) = ( ( ( ( 1 - lambda ) * p ) `1 ) + ( ( lambda * q ) `1 ) ) by CKB2:1
.= ( ( ( 1 - lambda ) * ( p `1 ) ) + ( ( lambda * q ) `1 ) ) by CKB4:1
.= ( ( ( 1 * r1 ) - ( lambda * r1 ) ) + ( lambda * s1 ) ) by A1,A6,CKB4:1
.= ( r1 + ( lambda * ( s1 - r1 ) ) );
( p2 `2 ) = ( ( ( ( 1 - lambda ) * p ) `2 ) + ( ( lambda * q ) `2 ) ) by CKB2:1
.= ( ( ( 1 - lambda ) * ( p `2 ) ) + ( ( lambda * q ) `2 ) ) by CKB4:1
.= ( ( ( 1 - lambda ) * r ) + ( lambda * r ) ) by A5,A4,CKB4:1
.= r;
hence thesis by A21,A26,A24,A25;
end;
