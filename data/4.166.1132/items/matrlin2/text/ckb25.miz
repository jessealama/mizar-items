environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,RLSUB_1,XBOOLE_0,ARYTM_3,STRUCT_0,TARSKI,RLVECT_3,RLVECT_2,CARD_3,SUPINF_2,FINSET_1,FUNCT_1,RLSUB_2,FUNCT_2,RLVECT_5,MATRLIN,RELAT_1,CARD_1,XXREAL_0,FINSEQ_1,ZFMISC_1,ALGSTR_0,PARTFUN1,ORDINAL4,FINSEQ_2,INCSP_1,MESFUNC1,TREES_1,MATRIX_1,GROUP_1,ARYTM_1,FINSEQ_4,RFINSEQ,RANKNULL,MATRIXJ1,MATRIX_3,MATRIX_6,FVSUM_1,RVSUM_1,MATRIXR1,VECTSP10,MATRIX15,QC_LANG1,CLASSES1,PRVECT_1,MATRIX13,LMOD_7,VALUED_1,RLVECT_1,BINOP_1,LATTICES,MATRLIN2,UNIALG_1,MSSUBFAM;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,BINOP_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,FVSUM_1,MATRIX_3,MATRIX_6,DOMAIN_1,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,FINSEQOP,PRVECT_1,MATRIX13,MATRLIN,MATRIX15,RFINSEQ,WSIERP_1,GRCAT_1,MOD_2,VECTSP_5,RANKNULL,MATRIXJ1;
definitions STRUCT_0,TARSKI,RLVECT_1,FINSEQ_1,VECTSP_4,FVSUM_1,VECTSP_1,MATRIX_1,MATRIX13,MATRLIN,MATRIX15,FUNCT_1,VECTSP_7,RANKNULL,VECTSP_6;
theorems ZFMISC_1,RLVECT_1,MATRIX_1,MATRIX_2,MATRIX_4,MATRIX_3,VECTSP_1,NAT_1,FINSEQ_2,CARD_1,CARD_FIN,FINSEQ_1,FINSEQ_3,FINSEQOP,FUNCT_1,FUNCT_2,FUNCOP_1,FVSUM_1,LAPLACE,MATRIX_6,MATRIX_7,MATRIX11,MATRIX13,MATRIXR1,MATRIXR2,MATRLIN,ORDINAL1,PARTFUN1,RELAT_1,STRUCT_0,TARSKI,VECTSP_4,VECTSP_6,VECTSP_7,VECTSP_9,XBOOLE_0,XBOOLE_1,XXREAL_0,MATRIX15,MOD_2,RLVECT_2,POLYFORM,VECTSP10,MATRIX_8,RANKNULL,VECTSP_5,FINSEQ_5,RFINSEQ,MATRIXJ1,GRCAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24;
schemes NAT_1,MATRIX_1,FUNCT_2,FINSEQ_2;
registrations XBOOLE_0,FUNCT_1,FINSET_1,STRUCT_0,VECTSP_1,FUNCT_2,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,MATRLIN,MATRIX13,XREAL_0,VECTSP_9,CARD_1,MOD_2,GRCAT_1,PRVECT_1;
constructors FVSUM_1,VECTSP_9,MATRIX_6,LAPLACE,MATRIX15,RANKNULL,VECTSP10,MATRIXJ1,XXREAL_0,REALSET1,BINARITH,RELSET_1,FINSOP_1,MATRIX13;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
reserve K for Field;
theorem
Lm4: (for V being (VectSp of K) holds (for W1 being (Subspace of V) holds (for L1 being (Linear_Combination of W1) holds (ex K1 being (Linear_Combination of V) st ((( Carrier K1 ) = ( Carrier L1 ) & ( Sum K1 ) = ( Sum L1 )) & ( K1 | (the carrier of W1) ) = L1)))))
proof
let V being (VectSp of K);
let W1 being (Subspace of V);
let L1 being (Linear_Combination of W1);
defpred P[ set,set ]
 means
(($1 in W1 & $2 = ( L1 . $1 )) or ((not $1 in W1) & $2 = ( 0. K )));
reconsider L9 = L1 as (Function of W1,K);
A1: (for x holds (x in (the carrier of V) implies (ex y st (y in (the carrier of K) & P[ x,y ]))))
proof
let x;
assume that
x in (the carrier of V);
per cases ;
suppose A2: x in W1;

then reconsider x as (Vector of W1) by STRUCT_0:def 5;
P[ x,( L1 . x ) ] by A2;
hence thesis;
end;
suppose (not x in W1);

hence thesis;
end;
end;
consider K1 being (Function of V,K) such that A3: (for x holds (x in (the carrier of V) implies P[ x,( K1 . x ) ])) from FUNCT_2:sch 1(A1);
A4: (the carrier of W1) c= (the carrier of V) by VECTSP_4:def 2;
then reconsider C = ( Carrier L1 ) as  finite (Subset of V) by XBOOLE_1:1;
A5:now
let v being (Vector of V);
assume that
A6: (not v in C);
((P[ v,( L1 . v ) ] & v in (the carrier of W1)) or P[ v,( 0. K ) ]) by STRUCT_0:def 5;
then ((P[ v,( L1 . v ) ] & ( L1 . v ) = ( 0. K )) or P[ v,( 0. K ) ]) by A6;
hence ( K1 . v ) = ( 0. K ) by A3;
end;
K1 is (Element of ( Funcs ((the carrier of V),(the carrier of K)) )) by FUNCT_2:8;
then reconsider K1 as (Linear_Combination of V) by A5,VECTSP_6:def 1;
reconsider K9 = ( K1 | (the carrier of W1) ) as (Function of (the carrier of W1),(the carrier of K)) by A4,FUNCT_2:32;
take K1;
now
let x being set;
assume that
A7: x in ( Carrier K1 )
and
A8: (not x in (the carrier of W1));
consider v being (Vector of V) such that A9: x = v and A10: ( K1 . v ) <> ( 0. K ) by A7;
P[ v,( 0. K ) ] by A8,A9,STRUCT_0:def 5;
hence contradiction by A3,A10;
end;
then A11: ( Carrier K1 ) c= (the carrier of W1) by TARSKI:def 3;
now
let x being set;
assume that
A12: x in (the carrier of W1);
P[ x,( K1 . x ) ] by A3,A4,A12;
hence ( L9 . x ) = ( K9 . x ) by A12,FUNCT_1:49,STRUCT_0:def 5;
end;
then L9 = K9 by FUNCT_2:12;
hence thesis by A11,VECTSP_9:7;
end;
