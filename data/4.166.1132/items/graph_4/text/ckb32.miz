environ
vocabularies NUMBERS,FINSEQ_1,SUBSET_1,GRAPH_1,FUNCT_1,STRUCT_0,TREES_2,XBOOLE_0,ARYTM_3,XXREAL_0,PARTFUN1,GRAPH_2,RELAT_1,TARSKI,CARD_1,NAT_1,ARYTM_1,ORDINAL4,GLIB_000,FINSET_1,FINSEQ_2,GRAPH_4;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,CARD_1,FINSET_1,NUMBERS,XCMPLX_0,NAT_1,NAT_D,STRUCT_0,GRAPH_1,GRAPH_2,XXREAL_0,CKB1,CKB3,CKB5,CKB6,CKB8,CKB16,CKB23;
definitions TARSKI,FINSEQ_2,CKB1,CKB3,CKB5,CKB6,CKB8,CKB16,CKB23;
theorems TARSKI,NAT_1,FINSEQ_1,FINSEQ_2,GRAPH_1,RELAT_1,FUNCT_1,GRFUNC_1,FUNCT_2,FINSET_1,FINSEQ_3,FINSEQ_4,GRAPH_2,XBOOLE_0,XBOOLE_1,XREAL_1,CARD_1,XXREAL_0,ORDINAL1,NAT_D,XREAL_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31;
schemes NAT_1,FINSEQ_1,FUNCT_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,GRAPH_2,ORDINAL1,CARD_1,STRUCT_0,GRAPH_1,CKB24,CKB25;
constructors PARTFUN1,XXREAL_0,XREAL_0,NAT_1,RECDEF_1,BINARITH,GRAPH_2,NAT_D,FINSEQ_2,RELSET_1,CKB1,CKB3,CKB5,CKB6,CKB8,CKB16,CKB23;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve G for Graph;
reserve vs for (FinSequence of (the carrier of G));
reserve vs1 for (FinSequence of (the carrier of G));
reserve vs2 for (FinSequence of (the carrier of G));
reserve c for  oriented (Chain of G);
reserve c1 for  oriented (Chain of G);
reserve c2 for  oriented (Chain of G);
reserve sc for  oriented  simple (Chain of G);
theorem
(vs is_oriented_vertex_seq_of c implies (ex fc being (Subset of c) st (ex fvs being (Subset of vs) st (ex sc st (ex vs1 st ((((( Seq fc ) = sc & ( Seq fvs ) = vs1) & vs1 is_oriented_vertex_seq_of sc) & ( vs . 1 ) = ( vs1 . 1 )) & ( vs . ( len vs ) ) = ( vs1 . ( len vs1 ) )))))))
proof
assume A1: vs is_oriented_vertex_seq_of c;
per cases ;
suppose A2: c is  Simple;

reconsider fc = c as (Subset of c) by GRAPH_2:26;
reconsider fvs = vs as (Subset of vs) by GRAPH_2:26;
reconsider sc = c as  oriented  simple (Chain of G) by A2,CKB29:1;
take fc;
take fvs;
take sc;
take vs;
thus (( Seq fc ) = sc & ( Seq fvs ) = vs) by FINSEQ_3:116;
thus vs is_oriented_vertex_seq_of sc by A1;
thus thesis;
end;
suppose A3: (not c is  Simple);

defpred P[ Nat ]
 means
(ex fc being (Subset of c) st (ex fvs being (Subset of vs) st (ex c1 st (ex vs1 st ((((((( Seq fc ) = c1 & ( Seq fvs ) = vs1) & vs1 is_oriented_vertex_seq_of c1) & ( vs . 1 ) = ( vs1 . 1 )) & ( vs . ( len vs ) ) = ( vs1 . ( len vs1 ) )) & ( len c1 ) = $1) & (not c1 is  Simple))))));
P[ ( len c ) ]
proof
reconsider fc = c as (Subset of c) by GRAPH_2:26;
reconsider fvs = vs as (Subset of vs) by GRAPH_2:26;
take fc;
take fvs;
take c;
take vs;
thus (( Seq fc ) = c & ( Seq fvs ) = vs) by FINSEQ_3:116;
thus vs is_oriented_vertex_seq_of c by A1;
thus (( vs . 1 ) = ( vs . 1 ) & ( vs . ( len vs ) ) = ( vs . ( len vs ) ));
thus thesis by A3;
end;
then A4: (ex k being Nat st P[ k ]);
consider k being Nat such that A5: (P[ k ] & (for n being Nat holds (P[ n ] implies k <= n))) from NAT_1:sch 5(A4);
consider fc being (Subset of c),fvs being (Subset of vs),c1,vs1 such that A6: ( Seq fc ) = c1 and A7: ( Seq fvs ) = vs1 and A8: vs1 is_oriented_vertex_seq_of c1 and A9: ( vs . 1 ) = ( vs1 . 1 ) and A10: ( vs . ( len vs ) ) = ( vs1 . ( len vs1 ) ) and A11: ( len c1 ) = k and A12: (not c1 is  Simple) by A5;
consider fc1 being (Subset of c1),fvs1 being (Subset of vs1),c2,vs2 such that A13: ( len c2 ) < ( len c1 ) and A14: vs2 is_oriented_vertex_seq_of c2 and ( len vs2 ) < ( len vs1 ) and A15: ( vs1 . 1 ) = ( vs2 . 1 ) and A16: ( vs1 . ( len vs1 ) ) = ( vs2 . ( len vs2 ) ) and A17: ( Seq fc1 ) = c2 and A18: ( Seq fvs1 ) = vs2 by A8,A12,CKB31:1;
reconsider fc9 = ( fc | ( rng ( ( Sgm ( dom fc ) ) | ( dom fc1 ) ) ) ) as (Subset of c) by GRAPH_2:27;
A19: ( Seq fc9 ) = c2 by A6,A17,GRAPH_2:28;
reconsider fvs9 = ( fvs | ( rng ( ( Sgm ( dom fvs ) ) | ( dom fvs1 ) ) ) ) as (Subset of vs) by GRAPH_2:27;
A20: ( Seq fvs9 ) = vs2 by A7,A18,GRAPH_2:28;
now
assume c2 is  Simple  oriented  Simple  oriented (Chain of G);
then reconsider sc = c2 as  oriented  simple (Chain of G) by CKB29:1;
take fc9;
take sc;
( Seq fc9 ) = sc by A6,A17,GRAPH_2:28;
hence thesis by A9,A10,A14,A15,A16,A20;
end;
hence thesis by A5,A9,A10,A11,A13,A14,A15,A16,A19,A20;
end;
end;
