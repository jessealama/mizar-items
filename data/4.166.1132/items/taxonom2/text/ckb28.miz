environ
vocabularies ORDERS_2,XBOOLE_0,SUBSET_1,ORDERS_1,XXREAL_0,YELLOW_1,RELAT_2,WELLORD2,RELAT_1,TARSKI,TREES_1,EQREL_1,TAXONOM1,SETFAM_1,ZFMISC_1,ABIAN,PRE_TOPC,LATTICES,ORDINAL1,PARTIT1,TAXONOM2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,ORDINAL1,RELSET_1,STRUCT_0,ORDERS_2,EQREL_1,ABIAN,PARTIT1,ORDERS_1,YELLOW_1,TAXONOM1,CKB1,CKB2,CKB5,CKB10,CKB15,CKB16,CKB21,CKB24,CKB26;
definitions TARSKI,EQREL_1,TAXONOM1,SETFAM_1,XBOOLE_0,CKB1,CKB2,CKB10,CKB15,CKB16,CKB21,CKB24,CKB26;
theorems TARSKI,TAXONOM1,PARTIT1,EQREL_1,ZFMISC_1,ORDERS_2,ORDERS_1,RELAT_1,RELSET_1,SETFAM_1,REALSET1,ABIAN,YELLOW_1,WELLORD2,ORDINAL1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27;
schemes XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,EQREL_1,YELLOW_1,CKB4,CKB11,CKB12,CKB17,CKB23;
constructors SETFAM_1,REALSET1,ABIAN,YELLOW_1,TAXONOM1,RELSET_1,CKB1,CKB2,CKB10,CKB15,CKB16,CKB21,CKB24,CKB26;
requirements BOOLE,SUBSET;
begin
reserve Y for set;
reserve x for set;
reserve y for set;
reserve S1 for (Subset of Y);
Lm2:now
let Y;
let H being (Hierarchy of Y);
assume that
A1: H is  covering;
let B being  mutually-disjoint (Subset-Family of Y);
assume that
A2: B c= H
and
A3: (for C being  mutually-disjoint (Subset-Family of Y) holds ((C c= H & ( union B ) c= ( union C )) implies B = C));
Y c= ( union B )
proof
let y being set;
assume y in Y;
then y in ( union H ) by A1,ABIAN:4;
then consider x being set such that A4: y in x and A5: x in H by TARSKI:def 4;
now
defpred X[ set ]
 means
$1 c= x;
consider D being set such that A6: (for a being set holds (a in D iff (a in B & X[ a ]))) from XBOOLE_0:sch 1;
set C = ( ( B \ D ) \/ { x } );
A7: ( B \ D ) c= C by XBOOLE_1:7;
A8: { x } c= H
proof
let s being set;
assume s in { x };
hence thesis by A5,TARSKI:def 1;
end;
assume A9: (not y in ( union B ));
A10: (for p being set holds (((p in B & (not p in D)) & p <> x) implies p misses x))
proof
A11: H is  hierarchic by CKB15:def 1;
let p being set;
assume that
A12: p in B
and
A13: (not p in D)
and
p <> x;
A14: (not x c= p) by A4,A9,A12,TARSKI:def 4;
(not p c= x) by A6,A12,A13;
hence thesis by A2,A5,A12,A14,A11,CKB10:def 1;
end;
A15: (for p,q being set holds (((p in C & q in C) & p <> q) implies p misses q))
proof
let p being set;
let q being set;
assume that
A16: p in C
and
A17: q in C
and
A18: p <> q;
per cases  by A16,XBOOLE_0:def 3;
suppose A19: p in ( B \ D );

then A20: (not p in D) by XBOOLE_0:def 5;
A21: p in B by A19,XBOOLE_0:def 5;
per cases  by A17,XBOOLE_0:def 3;
suppose q in ( B \ D );

then q in B by XBOOLE_0:def 5;
hence thesis by A18,A21,CKB16:def 1;
end;
suppose q in { x };

then q = x by TARSKI:def 1;
hence thesis by A10,A18,A21,A20;
end;
end;
suppose p in { x };

then A22: p = x by TARSKI:def 1;
per cases  by A17,XBOOLE_0:def 3;
suppose A23: q in ( B \ D );

then A24: (not q in D) by XBOOLE_0:def 5;
q in B by A23,XBOOLE_0:def 5;
hence thesis by A10,A18,A22,A24;
end;
suppose q in { x };

hence thesis by A18,A22,TARSKI:def 1;
end;
end;
end;
x in { x } by TARSKI:def 1;
then A25: x in C by XBOOLE_0:def 3;
A26: ( union B ) c= ( union C )
proof
let s being set;
assume s in ( union B );
then consider t being set such that A27: s in t and A28: t in B by TARSKI:def 4;
per cases ;
suppose t in D;

then t c= x by A6;
hence thesis by A25,A27,TARSKI:def 4;
end;
suppose (not t in D);

then t in ( B \ D ) by A28,XBOOLE_0:def 5;
hence thesis by A7,A27,TARSKI:def 4;
end;
end;
A29: x in { x } by TARSKI:def 1;
( B \ D ) c= B by XBOOLE_1:36;
then A30: ( B \ D ) c= H by A2,XBOOLE_1:1;
then C c= H by A8,XBOOLE_1:8;
then C is  mutually-disjoint  mutually-disjoint (Subset-Family of Y) by A15,CKB16:def 1,XBOOLE_1:1;
then A31: B = C by A3,A30,A8,A26,XBOOLE_1:8;
{ x } c= ( ( B \ D ) \/ { x } ) by XBOOLE_1:7;
hence contradiction by A4,A9,A31,A29,TARSKI:def 4;
end;
hence thesis;
end;
hence ( union B ) = Y by XBOOLE_0:def 10;
end;
Lm3:now
let Y;
let H being (Hierarchy of Y);
let B being  mutually-disjoint (Subset-Family of Y);
assume that
A1: B c= H
and
A2: (for C being  mutually-disjoint (Subset-Family of Y) holds ((C c= H & ( union B ) c= ( union C )) implies B = C));
let S1;
assume that
A3: S1 in B;
now
set C = ( B \ { ( {} ) } );
assume A4: S1 = ( {} );
A5: ( union B ) c= ( union C )
proof
let x being set;
assume x in ( union B );
then consider y being set such that A6: x in y and A7: y in B by TARSKI:def 4;
(not y in { ( {} ) }) by A6,TARSKI:def 1;
then y in C by A7,XBOOLE_0:def 5;
hence thesis by A6,TARSKI:def 4;
end;
A8: C is  mutually-disjoint
proof
let x being set;
let y being set;
assume that
A9: x in C
and
A10: y in C
and
A11: x <> y;
A12: y in B by A10,XBOOLE_0:def 5;
x in B by A9,XBOOLE_0:def 5;
hence thesis by A11,A12,CKB16:def 1;
end;
C c= B by XBOOLE_1:36;
then C c= H by A1,XBOOLE_1:1;
then B = C by A2,A5,A8;
then (not ( {} ) in { ( {} ) }) by A3,A4,XBOOLE_0:def 5;
hence contradiction by TARSKI:def 1;
end;
hence S1 <> ( {} );
end;
theorem
(for H being  covering (Hierarchy of Y) holds (for B being  mutually-disjoint (Subset-Family of Y) holds ((B c= H & (for C being  mutually-disjoint (Subset-Family of Y) holds ((C c= H & ( union B ) c= ( union C )) implies B = C))) implies B is (a_partition of Y))))
proof
let H being  covering (Hierarchy of Y);
let B being  mutually-disjoint (Subset-Family of Y);
assume that
A1: B c= H
and
A2: (for C being  mutually-disjoint (Subset-Family of Y) holds ((C c= H & ( union B ) c= ( union C )) implies B = C));
thus ( union B ) = Y by A1,A2,Lm2;
thus thesis by A1,A2,CKB16:def 1,Lm3;
end;
