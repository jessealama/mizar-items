environ
vocabularies ORDERS_2,XBOOLE_0,SUBSET_1,ORDERS_1,XXREAL_0,YELLOW_1,RELAT_2,WELLORD2,RELAT_1,TARSKI,TREES_1,EQREL_1,TAXONOM1,SETFAM_1,ZFMISC_1,ABIAN,PRE_TOPC,LATTICES,ORDINAL1,PARTIT1,TAXONOM2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,ORDINAL1,RELSET_1,STRUCT_0,ORDERS_2,EQREL_1,ABIAN,PARTIT1,ORDERS_1,YELLOW_1,TAXONOM1,CKB1,CKB2,CKB5,CKB10,CKB15,CKB16,CKB21,CKB24,CKB26;
definitions TARSKI,EQREL_1,TAXONOM1,SETFAM_1,XBOOLE_0,CKB1,CKB2,CKB10,CKB15,CKB16,CKB21,CKB24,CKB26;
theorems TARSKI,TAXONOM1,PARTIT1,EQREL_1,ZFMISC_1,ORDERS_2,ORDERS_1,RELAT_1,RELSET_1,SETFAM_1,REALSET1,ABIAN,YELLOW_1,WELLORD2,ORDINAL1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28;
schemes XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,EQREL_1,YELLOW_1,CKB4,CKB11,CKB12,CKB17,CKB23;
constructors SETFAM_1,REALSET1,ABIAN,YELLOW_1,TAXONOM1,RELSET_1,CKB1,CKB2,CKB10,CKB15,CKB16,CKB21,CKB24,CKB26;
requirements BOOLE,SUBSET;
begin
reserve A for RelStr;
reserve Y for set;
reserve x for set;
theorem
(for H being  covering  T_3 (Hierarchy of Y) holds ((H is  lower-bounded & (not ( {} ) in H)) implies (for A being (Subset of Y) holds (for B being  mutually-disjoint (Subset-Family of Y) holds (((A in B & B c= H) & (for C being  mutually-disjoint (Subset-Family of Y) holds (((A in C & C c= H) & ( union B ) c= ( union C )) implies ( union B ) = ( union C )))) implies B is (a_partition of Y))))))
proof
let H being  covering  T_3 (Hierarchy of Y);
assume that
A1: H is  lower-bounded
and
A2: (not ( {} ) in H);
let A being (Subset of Y);
let B being  mutually-disjoint (Subset-Family of Y);
assume that
A3: A in B
and
A4: B c= H
and
A5: (for C being  mutually-disjoint (Subset-Family of Y) holds (((A in C & C c= H) & ( union B ) c= ( union C )) implies ( union B ) = ( union C )));
A6: ( union H ) = Y by ABIAN:4;
A7: H is  hierarchic by CKB15:def 1;
per cases ;
suppose A8: Y <> ( {} );

Y c= ( union B )
proof
assume (not Y c= ( union B ));
then consider x being set such that A9: x in Y and A10: (not x in ( union B )) by TARSKI:def 3;
consider xx being set such that A11: x in xx and A12: xx in H by A6,A9,TARSKI:def 4;
defpred X[ set ]
 means
x in $1;
consider D being set such that A13: (for h being set holds (h in D iff (h in H & X[ h ]))) from XBOOLE_0:sch 1;
A14: D c= H
proof
let d being set;
assume d in D;
hence thesis by A13;
end;
now
let h1 being set;
let h2 being set;
assume that
A15: h1 in D
and
A16: h2 in D;
now
A17: x in h2 by A13,A16;
assume A18: h1 misses h2;
x in h1 by A13,A15;
hence contradiction by A18,A17,XBOOLE_0:3;
end;
then (h1 c= h2 or h2 c= h1) by A7,A14,A15,A16,CKB10:def 1;
hence h1,h2 are_c=-comparable  by XBOOLE_0:def 9;
end;
then A19: D is  c=-linear by ORDINAL1:def 8;
xx in D by A13,A11,A12;
then consider min1 being set such that A20: min1 in H and A21: min1 c= ( meet D ) by A1,A14,A19,CKB24:def 1;
reconsider min9 = min1 as (Subset of Y) by A20;
set C = ( B \/ { min9 } );
A22: B c= C by XBOOLE_1:7;
now
reconsider x9 = x as (Element of Y) by A9;
let b1 being set;
assume that
A23: b1 in B;
reconsider b19 = b1 as (Subset of Y) by A23;
A24: (not x9 in b19) by A10,A23,TARSKI:def 4;
A25: (not b1 c= min9)
proof
reconsider b19 = b1 as (Subset of Y) by A23;
consider k being (Subset of Y) such that A26: x9 in k and A27: k in H and A28: k misses b19 by A4,A23,A24,CKB21:def 1;
k in D by A13,A26,A27;
then ( meet D ) c= k by SETFAM_1:3;
then A29: min9 c= k by A21,XBOOLE_1:1;
b1 <> ( {} ) by A2,A4,A23;
then A30: (ex y being set st y in b19) by XBOOLE_0:def 1;
assume b1 c= min9;
then b19 c= k by A29,XBOOLE_1:1;
hence contradiction by A28,A30,XBOOLE_0:3;
end;
(not min9 c= b1)
proof
consider k being (Subset of Y) such that A31: x9 in k and A32: k in H and A33: k misses b19 by A4,A23,A24,CKB21:def 1;
k in D by A13,A31,A32;
then ( meet D ) c= k by SETFAM_1:3;
then A34: min9 c= k by A21,XBOOLE_1:1;
assume A35: min9 c= b1;
(ex y being set st y in min9) by A2,A20,XBOOLE_0:def 1;
hence contradiction by A35,A33,A34,XBOOLE_0:3;
end;
hence b1 misses min9 by A4,A7,A20,A23,A25,CKB10:def 1;
end;
then A36: (for b being set holds (b in B implies (min9 misses b & Y <> ( {} )))) by A8;
then A37: C is  mutually-disjoint  mutually-disjoint (Subset-Family of Y) by CKB25:1;
{ min9 } c= H
proof
let s being set;
assume s in { min9 };
hence thesis by A20,TARSKI:def 1;
end;
then A38: C c= H by A4,XBOOLE_1:8;
( union C ) <> ( union B ) by A2,A20,A36,CKB25:1;
hence contradiction by A3,A5,A37,A38,A22,ZFMISC_1:77;
end;
then A39: ( union B ) = Y by XBOOLE_0:def 10;
(for A being (Subset of Y) holds (A in B implies (A <> ( {} ) & (for E being (Subset of Y) holds (E in B implies (A = E or A misses E)))))) by A2,A4,CKB16:def 1;
hence thesis by A39,EQREL_1:def 4;
end;
suppose A40: Y = ( {} );

now
per cases  by A40,ZFMISC_1:1,ZFMISC_1:33;
suppose H = ( {} );

hence B = ( {} ) by A4;
end;
suppose A41: H = { ( {} ) };

B <> { ( {} ) }
proof
assume B = { ( {} ) };
then ( {} ) in B by TARSKI:def 1;
hence contradiction by A2,A4;
end;
hence B = ( {} ) by A4,A41,ZFMISC_1:33;
end;
end;
hence thesis by A40,EQREL_1:45;
end;
end;
