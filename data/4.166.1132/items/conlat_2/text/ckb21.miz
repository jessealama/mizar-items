environ
vocabularies CONLAT_1,STRUCT_0,QC_LANG1,SUBSET_1,LATTICES,XXREAL_2,PBOOLE,EQREL_1,XBOOLE_0,SETFAM_1,FUNCT_1,TARSKI,CAT_1,LATTICE3,ZFMISC_1,RELAT_1,FUNCT_3,LATTICE6,REWRITE1,GROUP_6,WELLORD1,FUNCT_2,MCART_1,FILTER_1,XXREAL_0,ORDERS_2,CONLAT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,MCART_1,FUNCT_1,DOMAIN_1,RELSET_1,ORDERS_2,STRUCT_0,LATTICE2,LATTICE3,LATTICE6,PARTFUN1,FUNCT_2,LATTICES,LATTICE4,CONLAT_1,CKB1,CKB7,CKB8,CKB15,CKB16;
definitions TARSKI,LATTICE3,VECTSP_8,LATTICE6,FUNCT_1,XBOOLE_0,SUBSET_1,CKB1,CKB7,CKB8,CKB15,CKB16;
theorems TARSKI,RELAT_1,FUNCT_1,ZFMISC_1,LATTICE4,LATTICES,LATTICE3,LATTICE6,MCART_1,SETFAM_1,FUNCT_2,FILTER_1,LATTICE2,ORDERS_2,CONLAT_1,XBOOLE_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes FUNCT_2;
registrations SUBSET_1,FUNCT_1,FUNCT_2,STRUCT_0,LATTICES,LATTICE2,LATTICE3,CONLAT_1,RELSET_1,CKB2;
constructors SETFAM_1,DOMAIN_1,LATTICE2,LATTICE4,CONLAT_1,LATTICE6,RELSET_1,CKB1,CKB7,CKB8,CKB15,CKB16;
requirements SUBSET,BOOLE;
begin
theorem
Lm2: (for L1,L2 being  complete Lattice holds (for f being (Function of (the carrier of L1),(the carrier of L2)) holds ((f is  one-to-one & ( rng f ) = (the carrier of L2)) implies ((for a,b being (Element of L1) holds (a [= b iff ( f . a ) [= ( f . b ))) implies f is (Homomorphism of L1,L2)))))
proof
let L1 being  complete Lattice,L2 being  complete Lattice;
let f being (Function of (the carrier of L1),(the carrier of L2));
assume A1: (f is  one-to-one & ( rng f ) = (the carrier of L2));
assume A2: (for a,b being (Element of L1) holds (a [= b iff ( f . a ) [= ( f . b )));
A3: (for a,b being (Element of L1) holds ( f . ( a "/\" b ) ) = ( ( f . a ) "/\" ( f . b ) ))
proof
let a being (Element of L1),b being (Element of L1);
( a "/\" b ) [= b by LATTICES:6;
then A4: ( f . ( a "/\" b ) ) [= ( f . b ) by A2;
A5: (for r being (Element of L2) holds (r is_less_than { ( f . a ),( f . b ) } implies r [= ( f . ( a "/\" b ) )))
proof
reconsider g = ( f " ) as (Function of (the carrier of L2),(the carrier of L1)) by A1,FUNCT_2:25;
let r being (Element of L2);
assume A6: r is_less_than { ( f . a ),( f . b ) };
A7: ( f . ( g . r ) ) = r by A1,FUNCT_1:35;
( f . b ) in { ( f . a ),( f . b ) } by TARSKI:def 2;
then r [= ( f . b ) by A6,LATTICE3:def 16;
then A8: ( g . r ) [= b by A2,A7;
( f . a ) in { ( f . a ),( f . b ) } by TARSKI:def 2;
then r [= ( f . a ) by A6,LATTICE3:def 16;
then ( g . r ) [= a by A2,A7;
then (for q being (Element of L1) holds (q in { a,b } implies ( g . r ) [= q)) by A8,TARSKI:def 2;
then A9: ( g . r ) is_less_than { a,b } by LATTICE3:def 16;
( a "/\" b ) = ( "/\" { a,b } ) by LATTICE3:43;
then ( g . r ) [= ( a "/\" b ) by A9,LATTICE3:34;
hence thesis by A2,A7;
end;
( a "/\" b ) [= a by LATTICES:6;
then ( f . ( a "/\" b ) ) [= ( f . a ) by A2;
then (for q being (Element of L2) holds (q in { ( f . a ),( f . b ) } implies ( f . ( a "/\" b ) ) [= q)) by A4,TARSKI:def 2;
then ( f . ( a "/\" b ) ) is_less_than { ( f . a ),( f . b ) } by LATTICE3:def 16;
then ( f . ( a "/\" b ) ) = ( "/\" ({ ( f . a ),( f . b ) },L2) ) by A5,LATTICE3:34;
hence thesis by LATTICE3:43;
end;
(for a,b being (Element of L1) holds ( f . ( a "\/" b ) ) = ( ( f . a ) "\/" ( f . b ) ))
proof
let a being (Element of L1),b being (Element of L1);
b [= ( a "\/" b ) by LATTICES:5;
then A10: ( f . b ) [= ( f . ( a "\/" b ) ) by A2;
A11: (for r being (Element of L2) holds ({ ( f . a ),( f . b ) } is_less_than r implies ( f . ( a "\/" b ) ) [= r))
proof
reconsider g = ( f " ) as (Function of (the carrier of L2),(the carrier of L1)) by A1,FUNCT_2:25;
let r being (Element of L2);
assume A12: { ( f . a ),( f . b ) } is_less_than r;
A13: ( f . ( g . r ) ) = r by A1,FUNCT_1:35;
( f . b ) in { ( f . a ),( f . b ) } by TARSKI:def 2;
then ( f . b ) [= r by A12,LATTICE3:def 17;
then A14: b [= ( g . r ) by A2,A13;
( f . a ) in { ( f . a ),( f . b ) } by TARSKI:def 2;
then ( f . a ) [= r by A12,LATTICE3:def 17;
then a [= ( g . r ) by A2,A13;
then (for q being (Element of L1) holds (q in { a,b } implies q [= ( g . r ))) by A14,TARSKI:def 2;
then A15: { a,b } is_less_than ( g . r ) by LATTICE3:def 17;
( a "\/" b ) = ( "\/" { a,b } ) by LATTICE3:43;
then ( a "\/" b ) [= ( g . r ) by A15,LATTICE3:def 21;
hence thesis by A2,A13;
end;
a [= ( a "\/" b ) by LATTICES:5;
then ( f . a ) [= ( f . ( a "\/" b ) ) by A2;
then (for q being (Element of L2) holds (q in { ( f . a ),( f . b ) } implies q [= ( f . ( a "\/" b ) ))) by A10,TARSKI:def 2;
then { ( f . a ),( f . b ) } is_less_than ( f . ( a "\/" b ) ) by LATTICE3:def 17;
then ( f . ( a "\/" b ) ) = ( "\/" ({ ( f . a ),( f . b ) },L2) ) by A11,LATTICE3:def 21;
hence thesis by LATTICE3:43;
end;
hence thesis by A3,LATTICE4:def 1;
end;
