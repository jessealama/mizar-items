environ
vocabularies NUMBERS,BCIALG_1,SUBSET_1,INT_1,FUNCT_1,NAT_1,XBOOLE_0,ZFMISC_1,STRUCT_0,CARD_1,SUPINF_2,ARYTM_3,RELAT_1,NEWTON,COMPLEX1,XXREAL_0,WAYBEL15,ARYTM_1,GROUP_1,INT_2,UNIALG_2,CARD_FIL,RCOMP_1,BCIALG_2,REALSET1,MSSUBFAM,FUNCOP_1,MOD_4,GROUP_6,TARSKI,FUNCT_2,CHORD,WELLORD1,EQREL_1,ALG_1,CARD_3,BINOP_1,BCIALG_6;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,REALSET1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,STRUCT_0,BCIALG_1,FUNCOP_1,NAT_1,NUMBERS,INT_2,XXREAL_0,BINOP_2,NAT_D,INT_1,BCIALG_2,EQREL_1,CKB1,CKB2,CKB3,CKB4,CKB32,CKB34,CKB44,CKB46,CKB47,CKB48,CKB49,CKB66,CKB68,CKB76,CKB78,CKB79,CKB80,CKB82;
definitions TARSKI,REALSET1,BINOP_1,STRUCT_0,BCIALG_1,FUNCT_1,BCIALG_2,XBOOLE_0,CKB2,CKB3,CKB4,CKB32,CKB34,CKB44,CKB47,CKB49,CKB66,CKB68,CKB76,CKB78,CKB79,CKB80,CKB82;
theorems TARSKI,FUNCT_1,FUNCT_2,FUNCOP_1,BINOP_1,ZFMISC_1,RELAT_1,XBOOLE_0,XBOOLE_1,BCIALG_1,GROUP_6,BCIALG_2,EQREL_1,RELSET_1,ABSVALUE,ORDINAL1,NAT_D,XREAL_1,INT_1,XCMPLX_1,INT_2,NAT_1,NEWTON,XXREAL_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB47,CKB49,CKB50,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB82,CKB83,CKB85,CKB86;
schemes BINOP_1,FUNCT_2,NAT_1,INT_1,CLASSES1;
registrations XBOOLE_0,RELSET_1,REALSET1,STRUCT_0,BCIALG_1,BCIALG_2,FUNCT_2,PARTFUN1,NAT_1,XREAL_0,ORDINAL1,XXREAL_0,INT_1,CKB45,CKB51,CKB58,CKB67,CKB81,CKB84;
constructors BINOP_1,REALSET1,BCIALG_2,REAL_1,BINOP_2,FINSEQOP,SUPINF_1,SEQ_1,NAT_D,RELSET_1,CKB1,CKB2,CKB3,CKB32,CKB34,CKB44,CKB47,CKB49,CKB66,CKB68,CKB76,CKB78,CKB79,CKB80,CKB82;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
reserve X for BCI-algebra;
reserve G for (SubAlgebra of X);
reserve K for  closed (Ideal of X);
reserve RK for (I-congruence of X,K);
theorem
(for K1 being (Ideal of ( HK (G,RK) )) holds (for RK1 being (I-congruence of ( HK (G,RK) ),K1) holds (for I being (Ideal of G) holds (for RI being (I-congruence of G,I) holds ((RK1 = RK & I = ( (the carrier of G) /\ K )) implies ( G ./. RI ),( ( HK (G,RK) ) ./. RK1 ) are_isomorphic )))))
proof
let K1 being (Ideal of ( HK (G,RK) ));
let RK1 being (I-congruence of ( HK (G,RK) ),K1);
let I being (Ideal of G);
let RI being (I-congruence of G,I);
assume that
A1: RK1 = RK
and
A2: I = ( (the carrier of G) /\ K );
defpred P[ (Element of G),set ]
 means
$2 = ( Class (RK1,$1) );
A3: (the carrier of G) c= (the carrier of ( HK (G,RK) ))
proof
let xx being set;
assume xx in (the carrier of G);
then reconsider x = xx as (Element of G);
(the carrier of G) c= (the carrier of X) by BCIALG_1:def 10;
then A4: x in (the carrier of X) by TARSKI:def 3;
then ( Class (RK,x) ) in (the carrier of ( X ./. RK )) by EQREL_1:def 3;
then A5: ( Class (RK,x) ) in { ( Class (RK,a) ) where a is (Element of G): ( Class (RK,a) ) in (the carrier of ( X ./. RK )) };
[ x,x ] in RK by A4,EQREL_1:5;
then x in ( Class (RK,x) ) by EQREL_1:18;
hence thesis by A5,TARSKI:def 4;
end;
A6: (for x being (Element of G) holds (ex y being (Element of ( ( HK (G,RK) ) ./. RK1 )) st P[ x,y ]))
proof
let x being (Element of G);
set y = ( Class (RK1,x) );
x in (the carrier of G);
then reconsider y as (Element of ( ( HK (G,RK) ) ./. RK1 )) by A3,EQREL_1:def 3;
take y;
thus thesis;
end;
consider f being (Function of G,( ( HK (G,RK) ) ./. RK1 )) such that A7: (for x being (Element of G) holds P[ x,( f . x ) ]) from FUNCT_2:sch 3(A6);
now
let a being (Element of G),b being (Element of G);
(the carrier of G) c= (the carrier of X) by BCIALG_1:def 10;
then reconsider xa = a,xb = b as (Element of X) by TARSKI:def 3;
(a in (the carrier of G) & b in (the carrier of G));
then reconsider Wa = ( Class (RK1,a) ),Wb = ( Class (RK1,b) ) as (Element of ( Class RK1 )) by A3,EQREL_1:def 3;
(a in (the carrier of G) & b in (the carrier of G));
then reconsider a1 = a,b1 = b as (Element of ( HK (G,RK) )) by A3;
(Wa = ( f . a ) & Wb = ( f . b )) by A7;
then A8: ( ( f . a ) \ ( f . b ) ) = ( Class (RK1,( a1 \ b1 )) ) by BCIALG_2:def 17;
( HK (G,RK) ) is (SubAlgebra of X) by CKB85:1;
then ( xa \ xb ) = ( a1 \ b1 ) by CKB43:1;
then ( ( f . a ) \ ( f . b ) ) = ( Class (RK1,( a \ b )) ) by A8,CKB43:1;
hence ( f . ( a \ b ) ) = ( ( f . a ) \ ( f . b ) ) by A7;
end;
then reconsider f as (BCI-homomorphism of G,( ( HK (G,RK) ) ./. RK1 )) by CKB44:def 1;
A9: ( Ker f ) = I
proof
set X9 = ( ( HK (G,RK) ) ./. RK1 );
thus ( Ker f ) c= I
proof
let h being set;
assume h in ( Ker f );
then consider x being (Element of G) such that A10: h = x and A11: ( f . x ) = ( 0. X9 );
(x in (the carrier of G) & (the carrier of G) c= (the carrier of X)) by BCIALG_1:def 10;
then reconsider x as (Element of X);
( Class (RK,x) ) = ( Class (RK,( 0. X )) ) by A1,A7,A11;
then ( 0. X ) in ( Class (RK,x) ) by EQREL_1:23;
then [ x,( 0. X ) ] in RK by EQREL_1:18;
then A12: ( x \ ( 0. X ) ) in K by BCIALG_2:def 12;
( 0. X ) in K by BCIALG_1:def 18;
then x in K by A12,BCIALG_1:def 18;
hence thesis by A2,A10,XBOOLE_0:def 4;
end;

let h being set;
assume A13: h in I;
then reconsider x = h as (Element of X) by A2;
h in K by A2,A13,XBOOLE_0:def 4;
then (( x \ ( 0. X ) ) in K & ( x ` ) in K) by BCIALG_1:2,BCIALG_1:def 19;
then [ x,( 0. X ) ] in RK by BCIALG_2:def 12;
then ( 0. X ) in ( Class (RK,x) ) by EQREL_1:18;
then ( Class (RK1,h) ) = ( Class (RK1,( 0. X )) ) by A1,EQREL_1:23;
then ( f . h ) = ( 0. X9 ) by A7,A13;
hence thesis by A13;
end;
now
let y being set;
(y in (the carrier of ( ( HK (G,RK) ) ./. RK1 )) implies y in ( rng f ))
proof
assume y in (the carrier of ( ( HK (G,RK) ) ./. RK1 ));
then consider x being set such that A14: x in (the carrier of ( HK (G,RK) )) and A15: y = ( Class (RK1,x) ) by EQREL_1:def 3;
consider a being (Element of G) such that A16: x in ( Class (RK,a) ) by A14,CKB77:1;
(a in (the carrier of G) & (the carrier of G) c= (the carrier of X)) by BCIALG_1:def 10;
then y = ( Class (RK1,a) ) by A1,A15,A16,EQREL_1:23;
then A17: y = ( f . a ) by A7;
( dom f ) = (the carrier of G) by FUNCT_2:def 1;
hence thesis by A17,FUNCT_1:def 3;
end;
hence (y in ( rng f ) iff y in (the carrier of ( ( HK (G,RK) ) ./. RK1 )));
end;
then ( rng f ) = (the carrier of ( ( HK (G,RK) ) ./. RK1 )) by TARSKI:1;
then f is  onto by FUNCT_2:def 3;
hence thesis by A9,CKB75:1;
end;
