environ
vocabularies NUMBERS,BCIALG_1,SUBSET_1,INT_1,FUNCT_1,NAT_1,XBOOLE_0,ZFMISC_1,STRUCT_0,CARD_1,SUPINF_2,ARYTM_3,RELAT_1,NEWTON,COMPLEX1,XXREAL_0,WAYBEL15,ARYTM_1,GROUP_1,INT_2,UNIALG_2,CARD_FIL,RCOMP_1,BCIALG_2,REALSET1,MSSUBFAM,FUNCOP_1,MOD_4,GROUP_6,TARSKI,FUNCT_2,CHORD,WELLORD1,EQREL_1,ALG_1,CARD_3,BINOP_1,BCIALG_6;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,REALSET1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,STRUCT_0,BCIALG_1,FUNCOP_1,NAT_1,NUMBERS,INT_2,XXREAL_0,BINOP_2,NAT_D,INT_1,BCIALG_2,EQREL_1,CKB1,CKB2,CKB3,CKB4,CKB32,CKB34,CKB44,CKB46,CKB47,CKB48,CKB49,CKB66,CKB68,CKB76,CKB78,CKB79,CKB80,CKB82;
definitions TARSKI,REALSET1,BINOP_1,STRUCT_0,BCIALG_1,FUNCT_1,BCIALG_2,XBOOLE_0,CKB2,CKB3,CKB4,CKB32,CKB34,CKB44,CKB47,CKB49,CKB66,CKB68,CKB76,CKB78,CKB79,CKB80,CKB82;
theorems TARSKI,FUNCT_1,FUNCT_2,FUNCOP_1,BINOP_1,ZFMISC_1,RELAT_1,XBOOLE_0,XBOOLE_1,BCIALG_1,GROUP_6,BCIALG_2,EQREL_1,RELSET_1,ABSVALUE,ORDINAL1,NAT_D,XREAL_1,INT_1,XCMPLX_1,INT_2,NAT_1,NEWTON,XXREAL_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB47,CKB49,CKB50,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB82,CKB83;
schemes BINOP_1,FUNCT_2,NAT_1,INT_1,CLASSES1;
registrations XBOOLE_0,RELSET_1,REALSET1,STRUCT_0,BCIALG_1,BCIALG_2,FUNCT_2,PARTFUN1,NAT_1,XREAL_0,ORDINAL1,XXREAL_0,INT_1,CKB45,CKB51,CKB58,CKB67,CKB81,CKB84;
constructors BINOP_1,REALSET1,BCIALG_2,REAL_1,BINOP_2,FINSEQOP,SUPINF_1,SEQ_1,NAT_D,RELSET_1,CKB1,CKB2,CKB3,CKB32,CKB34,CKB44,CKB47,CKB49,CKB66,CKB68,CKB76,CKB78,CKB79,CKB80,CKB82;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
reserve X for BCI-algebra;
reserve G for (SubAlgebra of X);
reserve K for  closed (Ideal of X);
reserve x for (Element of X);
reserve y for (Element of X);
reserve RK for (I-congruence of X,K);
theorem
Th57: ( HK (G,RK) ) is (SubAlgebra of X)
proof
set IT = ( HK (G,RK) );
set V1 = (the carrier of IT);
reconsider D = V1 as non  empty set;
set A = ( (the InternalDiff of X) || V1 );
set VV = (the carrier of X);
( dom (the InternalDiff of X) ) = [: VV,VV :] by FUNCT_2:def 1;
then ( dom A ) = ( [: VV,VV :] /\ [: V1,V1 :] ) by RELAT_1:61;
then A1: ( dom A ) = [: D,D :] by XBOOLE_1:28,ZFMISC_1:96;
(for y being set holds (y in D iff (ex z being set st (z in ( dom A ) & y = ( A . z )))))
proof
let y being set;
A2:now
given z being set such that
A3: z in ( dom A )
and
A4: y = ( A . z );

consider x1,x2 being set such that A5: (x1 in D & x2 in D) and A6: z = [ x1,x2 ] by A1,A3,ZFMISC_1:def 2;
reconsider x1,x2 as (Element of ( Union (G,RK) )) by A5;
reconsider v1 = x1,v2 = x2 as (Element of VV);
y = ( v1 \ v2 ) by A3,A4,A6,FUNCT_1:47;
then y = ( x1 \ x2 ) by CKB78:def 1;
hence y in D;
end;
(y in D implies (ex z being set st (z in ( dom A ) & y = ( A . z ))))
proof
assume A7: y in D;
then reconsider y1 = y,y2 = ( 0. IT ) as (Element of X);
A8: [ y,( 0. IT ) ] in [: D,D :] by A7,ZFMISC_1:87;
then ( A . [ y,( 0. IT ) ] ) = ( y1 \ y2 ) by FUNCT_1:49
.= y by BCIALG_1:2;
hence thesis by A1,A8;
end;
hence thesis by A2;
end;
then ( rng A ) = D by FUNCT_1:def 3;
then reconsider A as (BinOp of V1) by A1,FUNCT_2:def 1,RELSET_1:4;
set B = (the InternalDiff of IT);
now
let x being (Element of V1);
let y being (Element of V1);
(x in V1 & y in V1);
then reconsider vx = x,vy = y as (Element of VV);
[ x,y ] in [: V1,V1 :] by ZFMISC_1:def 2;
then ( A . (x,y) ) = ( vx \ vy ) by FUNCT_1:49;
hence ( A . (x,y) ) = ( B . (x,y) ) by CKB78:def 1;
end;
then (( 0. IT ) = ( 0. X ) & A = B) by BINOP_1:2;
hence thesis by BCIALG_1:def 10;
end;
