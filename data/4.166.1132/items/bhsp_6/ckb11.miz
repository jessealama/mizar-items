environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,ALGSTR_0,BINOP_1,SETWISEO,FINSET_1,FINSEQ_1,STRUCT_0,FUNCT_1,RELAT_1,FINSOP_1,FUNCT_2,TARSKI,BHSP_5,XBOOLE_0,ARYTM_3,REAL_1,XXREAL_0,CARD_1,NORMSP_1,ARYTM_1,SEMI_AF1,SUPINF_2,HAHNBAN,JORDAN2C,COMPLEX1,BINOP_2,XREAL_0,ORDINAL1,RLVECT_1,BHSP_3,ZFMISC_1,NAT_1,SEQ_2,BHSP_6,RSSPACE2;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,CARD_1,NUMBERS,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1,FINSET_1,BINOP_2,PARTFUN1,STRUCT_0,ALGSTR_0,PRE_TOPC,RLVECT_1,BHSP_1,BHSP_2,BHSP_3,BINOP_1,SETWISEO,HAHNBAN,FINSEQ_1,RSSPACE2,FINSOP_1,BHSP_5,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
definitions ALGSTR_0,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
theorems XBOOLE_0,XBOOLE_1,TARSKI,ABSVALUE,FINSEQ_1,INT_1,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,RLVECT_1,VECTSP_1,SEQ_4,BHSP_1,BHSP_2,BHSP_3,BHSP_5,HAHNBAN,FINSOP_1,FINSEQ_3,XCMPLX_0,XCMPLX_1,BINOP_2,XREAL_1,COMPLEX1,XXREAL_0,XREAL_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,BINOP_2,MEMBERED,STRUCT_0,CARD_1;
constructors BINOP_1,SETWISEO,REAL_1,NAT_1,NAT_D,BINOP_2,FINSOP_1,BHSP_2,BHSP_3,HAHNBAN,BHSP_5,SUPINF_1,RELSET_1,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
reserve i for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
theorem
Th4: (for L being (linear-Functional of X) holds (for p being (FinSequence of (the carrier of X)) holds (( len p ) >= 1 implies (for q being (FinSequence of ( REAL )) holds ((( dom p ) = ( dom q ) & (for i holds (i in ( dom q ) implies ( q . i ) = ( L . ( p . i ) )))) implies ( L . ( (the addF of X) "**" p ) ) = ( ( addreal ) "**" q ))))))
proof
let L being (linear-Functional of X);
let p being (FinSequence of (the carrier of X));
assume that
A1: ( len p ) >= 1;
consider f being (Function of ( NAT ),(the carrier of X)) such that A2: ( f . 1 ) = ( p . 1 ) and A3: (for n being (Element of ( NAT )) holds ((( 0 ) <> n & n < ( len p )) implies ( f . ( n + 1 ) ) = ( (the addF of X) . (( f . n ),( p . ( n + 1 ) )) ))) and A4: ( (the addF of X) "**" p ) = ( f . ( len p ) ) by A1,FINSOP_1:1;
let q being (FinSequence of ( REAL ));
assume that
A5: ( dom p ) = ( dom q )
and
A6: (for i holds (i in ( dom q ) implies ( q . i ) = ( L . ( p . i ) )));
( Seg ( len q ) ) = ( dom p ) by A5,FINSEQ_1:def 3
.= ( Seg ( len p ) ) by FINSEQ_1:def 3;
then A7: ( len q ) = ( len p ) by FINSEQ_1:6;
then consider g being (Function of ( NAT ),( REAL )) such that A8: ( g . 1 ) = ( q . 1 ) and A9: (for n being (Element of ( NAT )) holds ((( 0 ) <> n & n < ( len q )) implies ( g . ( n + 1 ) ) = ( ( addreal ) . (( g . n ),( q . ( n + 1 ) )) ))) and A10: ( ( addreal ) "**" q ) = ( g . ( len q ) ) by A1,FINSOP_1:1;
defpred P[ (Element of ( NAT )) ]
 means
((1 <= $1 & $1 <= ( len q )) implies ( g . $1 ) = ( L . ( f . $1 ) ));
A11:now
let n;
assume A12: P[ n ];
now
A13: n <= ( n + 1 ) by NAT_1:11;
assume that
A14: 1 <= ( n + 1 )
and
A15: ( n + 1 ) <= ( len q );
per cases ;
suppose A16: n = ( 0 );

1 in ( dom p ) by A1,FINSEQ_3:25;
hence ( g . ( n + 1 ) ) = ( L . ( f . ( n + 1 ) ) ) by A5,A6,A2,A8,A16;
end;
suppose A17: n <> ( 0 );

then A18: ( ( 0 ) + 1 ) <= n by INT_1:7;
reconsider z = ( f . n ) as (Element of X);
reconsider z1 = z as (VECTOR of X);
A19: ( n + 1 ) in ( dom q ) by A14,A15,FINSEQ_3:25;
then ( p . ( n + 1 ) ) in ( rng p ) by A5,FUNCT_1:3;
then reconsider y = ( p . ( n + 1 ) ) as (Element of X);
reconsider y1 = y as (VECTOR of X);
set Lz = ( L . z1 );
set Ly = ( L . y1 );
A20: ( ( n + 1 ) - 1 ) < ( ( len q ) - ( 0 ) ) by A15,XREAL_1:15;
hence ( g . ( n + 1 ) ) = ( ( addreal ) . (( g . n ),( q . ( n + 1 ) )) ) by A9,A17
.= ( ( addreal ) . (( L . ( f . n ) ),( L . y )) ) by A6,A12,A15,A13,A18,A19,XXREAL_0:2
.= ( Lz + Ly ) by BINOP_2:def 9
.= ( L . ( z1 + y1 ) ) by HAHNBAN:def 2
.= ( L . ( f . ( n + 1 ) ) ) by A3,A7,A17,A20;
end;
end;
hence P[ ( n + 1 ) ];
end;
A21: P[ ( 0 ) ];
(for n holds P[ n ]) from NAT_1:sch 1(A21,A11);
hence thesis by A1,A4,A7,A10;
end;
