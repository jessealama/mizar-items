environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,ALGSTR_0,BINOP_1,SETWISEO,FINSET_1,FINSEQ_1,STRUCT_0,FUNCT_1,RELAT_1,FINSOP_1,FUNCT_2,TARSKI,BHSP_5,XBOOLE_0,ARYTM_3,REAL_1,XXREAL_0,CARD_1,NORMSP_1,ARYTM_1,SEMI_AF1,SUPINF_2,HAHNBAN,JORDAN2C,COMPLEX1,BINOP_2,XREAL_0,ORDINAL1,RLVECT_1,BHSP_3,ZFMISC_1,NAT_1,SEQ_2,BHSP_6,RSSPACE2;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,CARD_1,NUMBERS,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1,FINSET_1,BINOP_2,PARTFUN1,STRUCT_0,ALGSTR_0,PRE_TOPC,RLVECT_1,BHSP_1,BHSP_2,BHSP_3,BINOP_1,SETWISEO,HAHNBAN,FINSEQ_1,RSSPACE2,FINSOP_1,BHSP_5,CKB1;
definitions ALGSTR_0,CKB1;
theorems XBOOLE_0,XBOOLE_1,TARSKI,ABSVALUE,FINSEQ_1,INT_1,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,RLVECT_1,VECTSP_1,SEQ_4,BHSP_1,BHSP_2,BHSP_3,BHSP_5,HAHNBAN,FINSOP_1,FINSEQ_3,XCMPLX_0,XCMPLX_1,BINOP_2,XREAL_1,COMPLEX1,XXREAL_0,XREAL_0,CKB1;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,BINOP_2,MEMBERED,STRUCT_0,CARD_1;
constructors BINOP_1,SETWISEO,REAL_1,NAT_1,NAT_D,BINOP_2,FINSOP_1,BHSP_2,BHSP_3,HAHNBAN,BHSP_5,SUPINF_1,RELSET_1,CKB1;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
theorem
Th1: (for X holds (((the addF of X) is  commutative  associative & (the addF of X) is  having_a_unity) implies (for Y being  finite (Subset of X) holds (for I being (Function of (the carrier of X),(the carrier of X)) holds ((Y c= ( dom I ) & (for x being set holds (x in ( dom I ) implies ( I . x ) = x))) implies ( setsum Y ) = ( setopfunc (Y,(the carrier of X),(the carrier of X),I,(the addF of X)) ))))))
proof
let X;
assume that
A1: ((the addF of X) is  commutative  associative & (the addF of X) is  having_a_unity);
let Y being  finite (Subset of X);
consider p being (FinSequence of (the carrier of X)) such that A2: p is  one-to-one and A3: ( rng p ) = Y and A4: ( setsum Y ) = ( (the addF of X) "**" p ) by A1,CKB1:def 1;
let I being (Function of (the carrier of X),(the carrier of X));
assume that
A5: Y c= ( dom I )
and
A6: (for x being set holds (x in ( dom I ) implies ( I . x ) = x));
now
let xd being set;
A7: (xd in ( dom p ) implies ( p . xd ) in ( rng p )) by FUNCT_1:3;
(xd in ( dom ( Func_Seq (I,p) ) ) iff xd in ( dom ( I * p ) )) by BHSP_5:def 4;
hence (xd in ( dom ( Func_Seq (I,p) ) ) iff xd in ( dom p )) by A5,A3,A7,FUNCT_1:11;
end;
then A8: ( dom ( Func_Seq (I,p) ) ) = ( dom p ) by TARSKI:1;
now
let s being set;
assume A9: s in ( dom ( Func_Seq (I,p) ) );
then reconsider i = s as (Element of ( NAT ));
A10: ( p . i ) in ( rng p ) by A8,A9,FUNCT_1:3;
( ( Func_Seq (I,p) ) . s ) = ( ( I * p ) . i ) by BHSP_5:def 4
.= ( I . ( p . i ) ) by A8,A9,FUNCT_1:13
.= ( p . i ) by A5,A6,A3,A10;
hence ( ( Func_Seq (I,p) ) . s ) = ( p . s );
end;
then ( Func_Seq (I,p) ) = p by A8,FUNCT_1:2;
hence thesis by A1,A5,A2,A3,A4,BHSP_5:def 5;
end;
