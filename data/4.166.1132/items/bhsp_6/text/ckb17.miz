environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,ALGSTR_0,BINOP_1,SETWISEO,FINSET_1,FINSEQ_1,STRUCT_0,FUNCT_1,RELAT_1,FINSOP_1,FUNCT_2,TARSKI,BHSP_5,XBOOLE_0,ARYTM_3,REAL_1,XXREAL_0,CARD_1,NORMSP_1,ARYTM_1,SEMI_AF1,SUPINF_2,HAHNBAN,JORDAN2C,COMPLEX1,BINOP_2,XREAL_0,ORDINAL1,RLVECT_1,BHSP_3,ZFMISC_1,NAT_1,SEQ_2,BHSP_6,RSSPACE2;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,CARD_1,NUMBERS,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1,FINSET_1,BINOP_2,PARTFUN1,STRUCT_0,ALGSTR_0,PRE_TOPC,RLVECT_1,BHSP_1,BHSP_2,BHSP_3,BINOP_1,SETWISEO,HAHNBAN,FINSEQ_1,RSSPACE2,FINSOP_1,BHSP_5,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
definitions ALGSTR_0,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
theorems XBOOLE_0,XBOOLE_1,TARSKI,ABSVALUE,FINSEQ_1,INT_1,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,RLVECT_1,VECTSP_1,SEQ_4,BHSP_1,BHSP_2,BHSP_3,BHSP_5,HAHNBAN,FINSOP_1,FINSEQ_3,XCMPLX_0,XCMPLX_1,BINOP_2,XREAL_1,COMPLEX1,XXREAL_0,XREAL_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,BINOP_2,MEMBERED,STRUCT_0,CARD_1;
constructors BINOP_1,SETWISEO,REAL_1,NAT_1,NAT_D,BINOP_2,FINSOP_1,BHSP_2,BHSP_3,HAHNBAN,BHSP_5,SUPINF_1,RELSET_1,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
reserve x for (Point of X);
reserve i for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
theorem
(for X being RealHilbertSpace holds (((the addF of X) is  commutative  associative & (the addF of X) is  having_a_unity) implies (for Y being (Subset of X) holds (Y is  summable_set iff (for e being Real holds (e > ( 0 ) implies (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & Y0 misses Y1) implies ||. ( setsum Y1 ) .|| < e))))))))))
proof
let X being RealHilbertSpace;
assume that
A1: ((the addF of X) is  commutative  associative & (the addF of X) is  having_a_unity);
let Y being (Subset of X);
A2:now
defpred P[ set,set ]
 means
((($2 is  finite  finite (Subset of X) & $2 is non  empty) & $2 c= Y) & (for z being Real holds (z = $1 implies (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & $2 misses Y1) implies ||. ( setsum Y1 ) .|| < ( 1 / ( z + 1 ) ))))));
assume A3: (for e being Real holds (e > ( 0 ) implies (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & Y0 misses Y1) implies ||. ( setsum Y1 ) .|| < e))))));
A4:now
let x being set;
assume x in ( NAT );
then reconsider xx = x as (Element of ( NAT ));
reconsider e = ( 1 / ( xx + 1 ) ) as Real by XREAL_0:def 1;
( ( 0 ) / ( xx + 1 ) ) < ( 1 / ( xx + 1 ) ) by XREAL_1:74;
then consider Y0 being  finite (Subset of X) such that A5: (Y0 is non  empty & Y0 c= Y) and A6: (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & Y0 misses Y1) implies ||. ( setsum Y1 ) .|| < e)) by A3;
(for z being Real holds (z = x implies (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & Y0 misses Y1) implies ||. ( setsum Y1 ) .|| < ( 1 / ( z + 1 ) ))))) by A6;
hence (ex y being set st (y in ( bool Y ) & P[ x,y ])) by A5;
end;
A7: (ex B being (Function of ( NAT ),( bool Y )) st (for x being set holds (x in ( NAT ) implies P[ x,( B . x ) ]))) from FUNCT_2:sch 1(A4);
(ex A being (Function of ( NAT ),( bool Y )) st (for i being (Element of ( NAT )) holds ((((( A . i ) is  finite  finite (Subset of X) & ( A . i ) is non  empty) & ( A . i ) c= Y) & (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & ( A . i ) misses Y1) implies ||. ( setsum Y1 ) .|| < ( 1 / ( i + 1 ) )))) & (for j being (Element of ( NAT )) holds (i <= j implies ( A . i ) c= ( A . j ))))))
proof
consider B being (Function of ( NAT ),( bool Y )) such that A8: (for x being set holds (x in ( NAT ) implies (((( B . x ) is  finite  finite (Subset of X) & ( B . x ) is non  empty) & ( B . x ) c= Y) & (for z being Real holds (z = x implies (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & ( B . x ) misses Y1) implies ||. ( setsum Y1 ) .|| < ( 1 / ( z + 1 ) )))))))) by A7;
deffunc G(Nat,set) = ( ( B . ( $1 + 1 ) ) \/ $2 );
(ex A being Function st ((( dom A ) = ( NAT ) & ( A . ( 0 ) ) = ( B . ( 0 ) )) & (for n being Nat holds ( A . ( n + 1 ) ) = G(n,( A . n ))))) from NAT_1:sch 11;
then consider A being Function such that A9: ( dom A ) = ( NAT ) and A10: ( A . ( 0 ) ) = ( B . ( 0 ) ) and A11: (for n being Nat holds ( A . ( n + 1 ) ) = ( ( B . ( n + 1 ) ) \/ ( A . n ) ));
defpred R[ (Element of ( NAT )) ]
 means
((((( A . $1 ) is  finite  finite (Subset of X) & ( A . $1 ) is non  empty) & ( A . $1 ) c= Y) & (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & ( A . $1 ) misses Y1) implies ||. ( setsum Y1 ) .|| < ( 1 / ( $1 + 1 ) )))) & (for j being (Element of ( NAT )) holds ($1 <= j implies ( A . $1 ) c= ( A . j ))));
A12:now
let n being (Element of ( NAT ));
assume that
A13: R[ n ];
A14: (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & ( A . ( n + 1 ) ) misses Y1) implies ||. ( setsum Y1 ) .|| < ( 1 / ( ( n + 1 ) + 1 ) )))
proof
let Y1 being  finite (Subset of X);
assume that
A15: (Y1 is non  empty & Y1 c= Y)
and
A16: ( A . ( n + 1 ) ) misses Y1;
( A . ( n + 1 ) ) = ( ( B . ( n + 1 ) ) \/ ( A . n ) ) by A11;
then ( B . ( n + 1 ) ) misses Y1 by A16,XBOOLE_1:7,XBOOLE_1:63;
hence thesis by A8,A15;
end;
defpred P[ (Element of ( NAT )) ]
 means
(( n + 1 ) <= $1 implies ( A . ( n + 1 ) ) c= ( A . $1 ));
A17: (for j being (Element of ( NAT )) holds (P[ j ] implies P[ ( j + 1 ) ]))
proof
let j being (Element of ( NAT ));
assume that
A18: (( n + 1 ) <= j implies ( A . ( n + 1 ) ) c= ( A . j ))
and
A19: ( n + 1 ) <= ( j + 1 );
per cases ;
suppose n = j;

hence thesis;
end;
suppose A20: n <> j;

( A . ( j + 1 ) ) = ( ( B . ( j + 1 ) ) \/ ( A . j ) ) by A11;
then A21: ( A . j ) c= ( A . ( j + 1 ) ) by XBOOLE_1:7;
n <= j by A19,XREAL_1:6;
then n < j by A20,XXREAL_0:1;
hence thesis by A18,A21,NAT_1:13,XBOOLE_1:1;
end;
end;
A22: P[ ( 0 ) ];
A23: (for j being (Element of ( NAT )) holds P[ j ]) from NAT_1:sch 1(A22,A17);
(( A . ( n + 1 ) ) = ( ( B . ( n + 1 ) ) \/ ( A . n ) ) & ( B . ( n + 1 ) ) is  finite  finite (Subset of X)) by A8,A11;
hence R[ ( n + 1 ) ] by A13,A14,A23,XBOOLE_1:8;
end;
(for j0 being (Element of ( NAT )) holds (j0 = ( 0 ) implies (for j being (Element of ( NAT )) holds (j0 <= j implies ( A . j0 ) c= ( A . j )))))
proof
let j0 being (Element of ( NAT ));
assume that
A24: j0 = ( 0 );
defpred P[ (Element of ( NAT )) ]
 means
(j0 <= $1 implies ( A . j0 ) c= ( A . $1 ));
A25:now
let j being (Element of ( NAT ));
assume that
A26: P[ j ];
( A . ( j + 1 ) ) = ( ( B . ( j + 1 ) ) \/ ( A . j ) ) by A11;
then ( A . j ) c= ( A . ( j + 1 ) ) by XBOOLE_1:7;
hence P[ ( j + 1 ) ] by A24,A26,XBOOLE_1:1;
end;
A27: P[ ( 0 ) ];
thus (for j being (Element of ( NAT )) holds P[ j ]) from NAT_1:sch 1(A27,A25);
end;
then A28: R[ ( 0 ) ] by A8,A10;
A29: (for i being (Element of ( NAT )) holds R[ i ]) from NAT_1:sch 1(A28,A12);
now
let y being set;
assume y in ( rng A );
then consider x being set such that A30: x in ( dom A ) and A31: y = ( A . x ) by FUNCT_1:def 3;
reconsider i = x as (Element of ( NAT )) by A9,A30;
( A . i ) c= Y by A29;
hence y in ( bool Y ) by A31;
end;
then ( rng A ) c= ( bool Y ) by TARSKI:def 3;
then A is (Function of ( NAT ),( bool Y )) by A9,FUNCT_2:2;
hence thesis by A29;
end;
then consider A being (Function of ( NAT ),( bool Y )) such that A32: (for i being (Element of ( NAT )) holds ((((( A . i ) is  finite  finite (Subset of X) & ( A . i ) is non  empty) & ( A . i ) c= Y) & (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & ( A . i ) misses Y1) implies ||. ( setsum Y1 ) .|| < ( 1 / ( i + 1 ) )))) & (for j being (Element of ( NAT )) holds (i <= j implies ( A . i ) c= ( A . j )))));
defpred P[ set,set ]
 means
(ex Y1 being  finite (Subset of X) st ((Y1 is non  empty & ( A . $1 ) = Y1) & $2 = ( setsum Y1 )));
A33: (for x being set holds (x in ( NAT ) implies (ex y being set st (y in (the carrier of X) & P[ x,y ]))))
proof
let x being set;
assume x in ( NAT );
then reconsider i = x as (Element of ( NAT ));
( A . i ) is  finite  finite (Subset of X) by A32;
then reconsider Y1 = ( A . x ) as  finite (Subset of X);
reconsider y = ( setsum Y1 ) as set;
( A . i ) is non  empty by A32;
then (ex Y1 being  finite (Subset of X) st ((Y1 is non  empty non  empty set & ( A . x ) = Y1) & y = ( setsum Y1 )));
hence thesis;
end;
(ex F being (Function of ( NAT ),(the carrier of X)) st (for x being set holds (x in ( NAT ) implies P[ x,( F . x ) ]))) from FUNCT_2:sch 1(A33);
then consider F being (Function of ( NAT ),(the carrier of X)) such that A34: (for x being set holds (x in ( NAT ) implies (ex Y1 being  finite (Subset of X) st ((Y1 is non  empty & ( A . x ) = Y1) & ( F . x ) = ( setsum Y1 )))));
reconsider seq = F as (sequence of X);
now
let e being Real;
assume that
A35: e > ( 0 );
A36: ( e / 2 ) > ( ( 0 ) / 2 ) by A35,XREAL_1:74;
(ex k being (Element of ( NAT )) st ( 1 / ( k + 1 ) ) < ( e / 2 ))
proof
set p = ( e / 2 );
consider k1 being (Element of ( NAT )) such that A37: ( p " ) < k1 by SEQ_4:3;
take k = k1;
( ( p " ) + ( 0 ) ) < ( k1 + 1 ) by A37,XREAL_1:8;
then ( 1 / ( k1 + 1 ) ) < ( 1 / ( p " ) ) by A36,XREAL_1:76;
then ( 1 / ( k + 1 ) ) < ( 1 * ( ( p " ) " ) ) by XCMPLX_0:def 9;
hence thesis;
end;
then consider k being (Element of ( NAT )) such that A38: ( 1 / ( k + 1 ) ) < ( e / 2 );
now
let n being (Element of ( NAT ));
let m being (Element of ( NAT ));
assume that
A39: n >= k
and
A40: m >= k;
consider Y2 being  finite (Subset of X) such that Y2 is non  empty and A41: ( A . m ) = Y2 and A42: ( seq . m ) = ( setsum Y2 ) by A34;
consider Y0 being  finite (Subset of X) such that Y0 is non  empty and A43: ( A . k ) = Y0 and A44: ( seq . k ) = ( setsum Y0 ) by A34;
A45: Y0 c= Y2 by A32,A40,A43,A41;
consider Y1 being  finite (Subset of X) such that Y1 is non  empty and A46: ( A . n ) = Y1 and A47: ( seq . n ) = ( setsum Y1 ) by A34;
A48: Y0 c= Y1 by A32,A39,A43,A46;
now
per cases ;
case A49: Y0 = Y1;
now
per cases ;
case Y0 = Y2;
then ( ( seq . n ) - ( seq . m ) ) = ( 0. X ) by A47,A42,A49,RLVECT_1:5;
hence ||. ( ( seq . n ) - ( seq . m ) ) .|| < e by A35,BHSP_1:26;
end;
case A50: Y0 <> Y2;
(ex Y02 being  finite (Subset of X) st (((Y02 is non  empty & Y02 c= Y) & Y02 misses Y0) & ( Y0 \/ Y02 ) = Y2))
proof
take Y02 = ( Y2 \ Y0 );
A51: ( Y2 \ Y0 ) c= Y2 by XBOOLE_1:36;
( Y0 \/ Y02 ) = ( Y0 \/ Y2 ) by XBOOLE_1:39
.= Y2 by A45,XBOOLE_1:12;
hence thesis by A41,A50,A51,XBOOLE_1:1,XBOOLE_1:79;
end;
then consider Y02 being  finite (Subset of X) such that A52: (Y02 is non  empty & Y02 c= Y) and A53: Y02 misses Y0 and A54: ( Y0 \/ Y02 ) = Y2;
||. ( setsum Y02 ) .|| < ( 1 / ( k + 1 ) ) by A32,A43,A52,A53;
then A55: ||. ( setsum Y02 ) .|| < ( e / 2 ) by A38,XXREAL_0:2;
( setsum Y2 ) = ( ( setsum Y0 ) + ( setsum Y02 ) ) by A1,A53,A54,CKB3:1;
then A56: ||. ( ( seq . n ) - ( seq . m ) ) .|| = ||. ( ( ( setsum Y0 ) - ( setsum Y0 ) ) - ( setsum Y02 ) ) .|| by A47,A42,A49,RLVECT_1:27
.= ||. ( ( 0. X ) - ( setsum Y02 ) ) .|| by RLVECT_1:15
.= ||. ( - ( setsum Y02 ) ) .|| by RLVECT_1:14
.= ||. ( setsum Y02 ) .|| by BHSP_1:31;
( e * ( 1 / 2 ) ) < ( e * 1 ) by A35,XREAL_1:68;
hence ||. ( ( seq . n ) - ( seq . m ) ) .|| < e by A55,A56,XXREAL_0:2;
end;
end;
hence ||. ( ( seq . n ) - ( seq . m ) ) .|| < e;
end;
case A57: Y0 <> Y1;
now
per cases ;
case Y0 = Y2;
then A58: ( ( seq . k ) - ( seq . m ) ) = ( 0. X ) by A44,A42,RLVECT_1:5;
(ex Y01 being  finite (Subset of X) st (((Y01 is non  empty & Y01 c= Y) & Y01 misses Y0) & ( Y0 \/ Y01 ) = Y1))
proof
take Y01 = ( Y1 \ Y0 );
A59: ( Y1 \ Y0 ) c= Y1 by XBOOLE_1:36;
( Y0 \/ Y01 ) = ( Y0 \/ Y1 ) by XBOOLE_1:39
.= Y1 by A48,XBOOLE_1:12;
hence thesis by A46,A57,A59,XBOOLE_1:1,XBOOLE_1:79;
end;
then consider Y01 being  finite (Subset of X) such that A60: (Y01 is non  empty & Y01 c= Y) and A61: Y01 misses Y0 and A62: ( Y0 \/ Y01 ) = Y1;
( seq . n ) = ( ( seq . k ) + ( setsum Y01 ) ) by A1,A44,A47,A61,A62,CKB3:1;
then A63: ( ( seq . n ) - ( seq . k ) ) = ( ( seq . k ) + ( ( setsum Y01 ) + ( - ( seq . k ) ) ) ) by RLVECT_1:def 3
.= ( ( seq . k ) - ( ( seq . k ) - ( setsum Y01 ) ) ) by RLVECT_1:33
.= ( ( ( setsum Y0 ) - ( setsum Y0 ) ) + ( setsum Y01 ) ) by A44,RLVECT_1:29
.= ( ( 0. X ) + ( setsum Y01 ) ) by RLVECT_1:5
.= ( setsum Y01 ) by RLVECT_1:4;
( ( seq . n ) - ( seq . m ) ) = ( ( ( seq . n ) - ( seq . m ) ) + ( 0. X ) ) by RLVECT_1:4
.= ( ( ( seq . n ) - ( seq . m ) ) + ( ( seq . k ) - ( seq . k ) ) ) by RLVECT_1:5
.= ( ( seq . n ) - ( ( seq . m ) - ( ( seq . k ) - ( seq . k ) ) ) ) by RLVECT_1:29
.= ( ( seq . n ) - ( ( ( seq . m ) - ( seq . k ) ) + ( seq . k ) ) ) by RLVECT_1:29
.= ( ( seq . n ) - ( ( seq . k ) - ( ( seq . k ) - ( seq . m ) ) ) ) by RLVECT_1:33
.= ( ( setsum Y01 ) + ( 0. X ) ) by A63,A58,RLVECT_1:29;
then ||. ( ( seq . n ) - ( seq . m ) ) .|| <= ( ||. ( setsum Y01 ) .|| + ||. ( 0. X ) .|| ) by BHSP_1:30;
then A64: ||. ( ( seq . n ) - ( seq . m ) ) .|| <= ( ||. ( setsum Y01 ) .|| + ( 0 ) ) by BHSP_1:26;
||. ( setsum Y01 ) .|| < ( 1 / ( k + 1 ) ) by A32,A43,A60,A61;
then ||. ( setsum Y01 ) .|| < ( e / 2 ) by A38,XXREAL_0:2;
then ||. ( ( seq . n ) - ( seq . m ) ) .|| < ( e / 2 ) by A64,XXREAL_0:2;
then ( ||. ( ( seq . n ) - ( seq . m ) ) .|| + ( 0 ) ) < ( ( e / 2 ) + ( e / 2 ) ) by A35,XREAL_1:8;
hence ||. ( ( seq . n ) - ( seq . m ) ) .|| < e;
end;
case A65: Y0 <> Y2;
(ex Y02 being  finite (Subset of X) st (((Y02 is non  empty & Y02 c= Y) & Y02 misses Y0) & ( Y0 \/ Y02 ) = Y2))
proof
take Y02 = ( Y2 \ Y0 );
A66: ( Y2 \ Y0 ) c= Y2 by XBOOLE_1:36;
( Y0 \/ Y02 ) = ( Y0 \/ Y2 ) by XBOOLE_1:39
.= Y2 by A45,XBOOLE_1:12;
hence thesis by A41,A65,A66,XBOOLE_1:1,XBOOLE_1:79;
end;
then consider Y02 being  finite (Subset of X) such that A67: (Y02 is non  empty & Y02 c= Y) and A68: Y02 misses Y0 and A69: ( Y0 \/ Y02 ) = Y2;
||. ( setsum Y02 ) .|| < ( 1 / ( k + 1 ) ) by A32,A43,A67,A68;
then A70: ||. ( setsum Y02 ) .|| < ( e / 2 ) by A38,XXREAL_0:2;
(ex Y01 being  finite (Subset of X) st (((Y01 is non  empty & Y01 c= Y) & Y01 misses Y0) & ( Y0 \/ Y01 ) = Y1))
proof
take Y01 = ( Y1 \ Y0 );
A71: ( Y1 \ Y0 ) c= Y1 by XBOOLE_1:36;
( Y0 \/ Y01 ) = ( Y0 \/ Y1 ) by XBOOLE_1:39
.= Y1 by A48,XBOOLE_1:12;
hence thesis by A46,A57,A71,XBOOLE_1:1,XBOOLE_1:79;
end;
then consider Y01 being  finite (Subset of X) such that A72: (Y01 is non  empty & Y01 c= Y) and A73: Y01 misses Y0 and A74: ( Y0 \/ Y01 ) = Y1;
( setsum Y1 ) = ( ( setsum Y0 ) + ( setsum Y01 ) ) by A1,A73,A74,CKB3:1;
then A75: ( ( seq . n ) - ( seq . k ) ) = ( ( setsum Y01 ) + ( ( seq . k ) + ( - ( seq . k ) ) ) ) by A44,A47,RLVECT_1:def 3
.= ( ( setsum Y01 ) + ( 0. X ) ) by RLVECT_1:5
.= ( setsum Y01 ) by RLVECT_1:4;
( setsum Y2 ) = ( ( setsum Y0 ) + ( setsum Y02 ) ) by A1,A68,A69,CKB3:1;
then A76: ( ( seq . m ) - ( seq . k ) ) = ( ( setsum Y02 ) + ( ( seq . k ) + ( - ( seq . k ) ) ) ) by A44,A42,RLVECT_1:def 3
.= ( ( setsum Y02 ) + ( 0. X ) ) by RLVECT_1:5
.= ( setsum Y02 ) by RLVECT_1:4;
( ( seq . n ) - ( seq . m ) ) = ( ( ( seq . n ) - ( seq . m ) ) + ( 0. X ) ) by RLVECT_1:4
.= ( ( ( seq . n ) - ( seq . m ) ) + ( ( seq . k ) - ( seq . k ) ) ) by RLVECT_1:5
.= ( ( seq . n ) - ( ( seq . m ) - ( ( seq . k ) - ( seq . k ) ) ) ) by RLVECT_1:29
.= ( ( seq . n ) - ( ( ( seq . m ) - ( seq . k ) ) + ( seq . k ) ) ) by RLVECT_1:29
.= ( ( seq . n ) - ( ( seq . k ) - ( ( seq . k ) - ( seq . m ) ) ) ) by RLVECT_1:33
.= ( ( ( seq . n ) - ( seq . k ) ) + ( ( seq . k ) + ( - ( seq . m ) ) ) ) by RLVECT_1:29
.= ( ( setsum Y01 ) + ( - ( setsum Y02 ) ) ) by A75,A76,RLVECT_1:33;
then ||. ( ( seq . n ) - ( seq . m ) ) .|| <= ( ||. ( setsum Y01 ) .|| + ||. ( - ( setsum Y02 ) ) .|| ) by BHSP_1:30;
then A77: ||. ( ( seq . n ) - ( seq . m ) ) .|| <= ( ||. ( setsum Y01 ) .|| + ||. ( setsum Y02 ) .|| ) by BHSP_1:31;
||. ( setsum Y01 ) .|| < ( 1 / ( k + 1 ) ) by A32,A43,A72,A73;
then ||. ( setsum Y01 ) .|| < ( e / 2 ) by A38,XXREAL_0:2;
then ( ||. ( setsum Y01 ) .|| + ||. ( setsum Y02 ) .|| ) < ( ( e / 2 ) + ( e / 2 ) ) by A70,XREAL_1:8;
hence ||. ( ( seq . n ) - ( seq . m ) ) .|| < e by A77,XXREAL_0:2;
end;
end;
hence ||. ( ( seq . n ) - ( seq . m ) ) .|| < e;
end;
end;
hence ||. ( ( seq . n ) - ( seq . m ) ) .|| < e;
end;
hence (ex k being (Element of ( NAT )) st (for n,m being (Element of ( NAT )) holds ((n >= k & m >= k) implies ||. ( ( seq . n ) - ( seq . m ) ) .|| < e)));
end;
then seq is  Cauchy by BHSP_3:2;
then seq is  convergent by BHSP_3:def 4;
then consider x being (Point of X) such that A78: (for r being Real holds (r > ( 0 ) implies (ex m being (Element of ( NAT )) st (for n being (Element of ( NAT )) holds (n >= m implies ||. ( ( seq . n ) - x ) .|| < r))))) by BHSP_2:9;
now
let e being Real;
assume that
A79: e > ( 0 );
A80: ( e / 2 ) > ( ( 0 ) / 2 ) by A79,XREAL_1:74;
then consider m being (Element of ( NAT )) such that A81: (for n being (Element of ( NAT )) holds (n >= m implies ||. ( ( seq . n ) - x ) .|| < ( e / 2 ))) by A78;
(ex i being (Element of ( NAT )) st (( 1 / ( i + 1 ) ) < ( e / 2 ) & i >= m))
proof
set p = ( e / 2 );
consider k1 being (Element of ( NAT )) such that A82: ( p " ) < k1 by SEQ_4:3;
take i = ( k1 + m );
k1 <= ( k1 + m ) by NAT_1:11;
then ( p " ) < i by A82,XXREAL_0:2;
then ( ( p " ) + ( 0 ) ) < ( i + 1 ) by XREAL_1:8;
then ( 1 / ( i + 1 ) ) < ( 1 / ( p " ) ) by A80,XREAL_1:76;
then ( 1 / ( i + 1 ) ) < ( 1 * ( ( p " ) " ) ) by XCMPLX_0:def 9;
hence thesis by NAT_1:11;
end;
then consider i being (Element of ( NAT )) such that A83: ( 1 / ( i + 1 ) ) < ( e / 2 ) and A84: i >= m;
consider Y0 being  finite (Subset of X) such that A85: Y0 is non  empty and A86: ( A . i ) = Y0 and A87: ( seq . i ) = ( setsum Y0 ) by A34;
A88: ||. ( ( setsum Y0 ) - x ) .|| < ( e / 2 ) by A81,A84,A87;
now
let Y1 being  finite (Subset of X);
assume that
A89: Y0 c= Y1
and
A90: Y1 c= Y;
now
per cases ;
case Y0 = Y1;
then ||. ( x - ( setsum Y1 ) ) .|| = ||. ( - ( x - ( setsum Y0 ) ) ) .|| by BHSP_1:31
.= ||. ( ( setsum Y0 ) - x ) .|| by RLVECT_1:33;
then ||. ( x - ( setsum Y1 ) ) .|| < ( e / 2 ) by A81,A84,A87;
then ( ||. ( x - ( setsum Y1 ) ) .|| + ( 0 ) ) < ( ( e / 2 ) + ( e / 2 ) ) by A79,XREAL_1:8;
hence ||. ( x - ( setsum Y1 ) ) .|| < e;
end;
case A91: Y0 <> Y1;
(ex Y2 being  finite (Subset of X) st (((Y2 is non  empty & Y2 c= Y) & Y0 misses Y2) & ( Y0 \/ Y2 ) = Y1))
proof
take Y2 = ( Y1 \ Y0 );
A92: ( Y1 \ Y0 ) c= Y1 by XBOOLE_1:36;
( Y0 \/ Y2 ) = ( Y0 \/ Y1 ) by XBOOLE_1:39
.= Y1 by A89,XBOOLE_1:12;
hence thesis by A90,A91,A92,XBOOLE_1:1,XBOOLE_1:79;
end;
then consider Y2 being  finite (Subset of X) such that A93: (Y2 is non  empty & Y2 c= Y) and A94: Y0 misses Y2 and A95: ( Y0 \/ Y2 ) = Y1;
( ( setsum Y1 ) - x ) = ( ( ( setsum Y0 ) + ( setsum Y2 ) ) - x ) by A1,A94,A95,CKB3:1
.= ( ( ( setsum Y0 ) - x ) + ( setsum Y2 ) ) by RLVECT_1:def 3;
then ||. ( ( setsum Y1 ) - x ) .|| <= ( ||. ( ( setsum Y0 ) - x ) .|| + ||. ( setsum Y2 ) .|| ) by BHSP_1:30;
then ||. ( - ( ( setsum Y1 ) - x ) ) .|| <= ( ||. ( ( setsum Y0 ) - x ) .|| + ||. ( setsum Y2 ) .|| ) by BHSP_1:31;
then A96: ||. ( x + ( - ( setsum Y1 ) ) ) .|| <= ( ||. ( ( setsum Y0 ) - x ) .|| + ||. ( setsum Y2 ) .|| ) by RLVECT_1:33;
||. ( setsum Y2 ) .|| < ( 1 / ( i + 1 ) ) by A32,A86,A93,A94;
then ||. ( setsum Y2 ) .|| < ( e / 2 ) by A83,XXREAL_0:2;
then ( ||. ( ( setsum Y0 ) - x ) .|| + ||. ( setsum Y2 ) .|| ) < ( ( e / 2 ) + ( e / 2 ) ) by A88,XREAL_1:8;
hence ||. ( x - ( setsum Y1 ) ) .|| < e by A96,XXREAL_0:2;
end;
end;
hence ||. ( x - ( setsum Y1 ) ) .|| < e;
end;
hence (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds ((Y0 c= Y1 & Y1 c= Y) implies ||. ( x - ( setsum Y1 ) ) .|| < e)))) by A85,A86;
end;
hence Y is  summable_set by CKB4:def 1;
end;
now
assume Y is  summable_set;
then consider x being (Point of X) such that A97: (for e being Real holds (e > ( 0 ) implies (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds ((Y0 c= Y1 & Y1 c= Y) implies ||. ( x - ( setsum Y1 ) ) .|| < e)))))) by CKB4:def 1;
now
let e being Real;
assume e > ( 0 );
then consider Y0 being  finite (Subset of X) such that A98: Y0 is non  empty and A99: Y0 c= Y and A100: (for Y1 being  finite (Subset of X) holds ((Y0 c= Y1 & Y1 c= Y) implies ||. ( x - ( setsum Y1 ) ) .|| < ( e / 2 ))) by A97,XREAL_1:139;
reconsider Y0 as  finite non  empty (Subset of X) by A98;
now
let Y1 being  finite (Subset of X);
assume that
Y1 is non  empty
and
A101: Y1 c= Y
and
A102: Y0 misses Y1;
set Z = ( Y0 \/ Y1 );
Y0 c= Z by XBOOLE_1:7;
then ||. ( x - ( setsum Z ) ) .|| < ( e / 2 ) by A99,A100,A101,XBOOLE_1:8;
then A103: ( ||. ( x - ( setsum Z ) ) .|| + ||. ( x - ( setsum Y0 ) ) .|| ) < ( ( e / 2 ) + ( e / 2 ) ) by A99,A100,XREAL_1:8;
||. ( ( x - ( setsum Z ) ) - ( x - ( setsum Y0 ) ) ) .|| <= ( ||. ( x - ( setsum Z ) ) .|| + ||. ( - ( x - ( setsum Y0 ) ) ) .|| ) by BHSP_1:30;
then A104: ||. ( ( x - ( setsum Z ) ) - ( x - ( setsum Y0 ) ) ) .|| <= ( ||. ( x - ( setsum Z ) ) .|| + ||. ( x - ( setsum Y0 ) ) .|| ) by BHSP_1:31;
( ( setsum Z ) - ( setsum Y0 ) ) = ( ( ( setsum Y1 ) + ( setsum Y0 ) ) - ( setsum Y0 ) ) by A1,A102,CKB3:1
.= ( ( setsum Y1 ) + ( ( setsum Y0 ) + ( - ( setsum Y0 ) ) ) ) by RLVECT_1:def 3
.= ( ( setsum Y1 ) + ( 0. X ) ) by RLVECT_1:5
.= ( setsum Y1 ) by RLVECT_1:4;
then ||. ( setsum Y1 ) .|| = ||. ( - ( ( setsum Z ) - ( setsum Y0 ) ) ) .|| by BHSP_1:31
.= ||. ( ( setsum Y0 ) - ( setsum Z ) ) .|| by RLVECT_1:33
.= ||. ( ( 0. X ) + ( ( setsum Y0 ) - ( setsum Z ) ) ) .|| by RLVECT_1:4
.= ||. ( ( x - x ) + ( ( setsum Y0 ) - ( setsum Z ) ) ) .|| by RLVECT_1:5
.= ||. ( x - ( x - ( ( setsum Y0 ) - ( setsum Z ) ) ) ) .|| by RLVECT_1:29
.= ||. ( x - ( ( x - ( setsum Y0 ) ) + ( setsum Z ) ) ) .|| by RLVECT_1:29
.= ||. ( ( x - ( setsum Z ) ) - ( x - ( setsum Y0 ) ) ) .|| by RLVECT_1:27;
hence ||. ( setsum Y1 ) .|| < e by A104,A103,XXREAL_0:2;
end;
hence (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & Y0 misses Y1) implies ||. ( setsum Y1 ) .|| < e)))) by A99;
end;
hence (for e being Real holds (e > ( 0 ) implies (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds (((Y1 is non  empty & Y1 c= Y) & Y0 misses Y1) implies ||. ( setsum Y1 ) .|| < e))))));
end;
hence thesis by A2;
end;
