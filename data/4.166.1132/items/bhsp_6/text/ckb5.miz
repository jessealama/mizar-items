environ
vocabularies NUMBERS,BHSP_1,PRE_TOPC,SUBSET_1,ALGSTR_0,BINOP_1,SETWISEO,FINSET_1,FINSEQ_1,STRUCT_0,FUNCT_1,RELAT_1,FINSOP_1,FUNCT_2,TARSKI,BHSP_5,XBOOLE_0,ARYTM_3,REAL_1,XXREAL_0,CARD_1,NORMSP_1,ARYTM_1,SEMI_AF1,SUPINF_2,HAHNBAN,JORDAN2C,COMPLEX1,BINOP_2,XREAL_0,ORDINAL1,RLVECT_1,BHSP_3,ZFMISC_1,NAT_1,SEQ_2,BHSP_6,RSSPACE2;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,CARD_1,NUMBERS,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1,FINSET_1,BINOP_2,PARTFUN1,STRUCT_0,ALGSTR_0,PRE_TOPC,RLVECT_1,BHSP_1,BHSP_2,BHSP_3,BINOP_1,SETWISEO,HAHNBAN,FINSEQ_1,RSSPACE2,FINSOP_1,BHSP_5,CKB1,CKB4;
definitions ALGSTR_0,CKB1,CKB4;
theorems XBOOLE_0,XBOOLE_1,TARSKI,ABSVALUE,FINSEQ_1,INT_1,FINSEQ_4,FUNCT_1,NAT_1,FUNCT_2,RLVECT_1,VECTSP_1,SEQ_4,BHSP_1,BHSP_2,BHSP_3,BHSP_5,HAHNBAN,FINSOP_1,FINSEQ_3,XCMPLX_0,XCMPLX_1,BINOP_2,XREAL_1,COMPLEX1,XXREAL_0,XREAL_0,CKB1,CKB2,CKB3,CKB4;
schemes NAT_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,BINOP_2,MEMBERED,STRUCT_0,CARD_1;
constructors BINOP_1,SETWISEO,REAL_1,NAT_1,NAT_D,BINOP_2,FINSOP_1,BHSP_2,BHSP_3,HAHNBAN,BHSP_5,SUPINF_1,RELSET_1,CKB1,CKB4;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve X for RealUnitarySpace;
definition
let X;
let Y being (Subset of X);
assume A1: Y is  summable_set;
func sum Y -> (Point of X) means 
(for e being Real holds (e > ( 0 ) implies (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds ((Y0 c= Y1 & Y1 c= Y) implies ||. ( it - ( setsum Y1 ) ) .|| < e))))));
existence by A1,CKB4:def 1;
uniqueness
proof
let y1 being (Point of X);
let y2 being (Point of X);
assume that
A2: (for e1 being Real holds (e1 > ( 0 ) implies (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds ((Y0 c= Y1 & Y1 c= Y) implies ||. ( y1 - ( setsum Y1 ) ) .|| < e1))))))
and
A3: (for e2 being Real holds (e2 > ( 0 ) implies (ex Y0 being  finite (Subset of X) st ((Y0 is non  empty & Y0 c= Y) & (for Y1 being  finite (Subset of X) holds ((Y0 c= Y1 & Y1 c= Y) implies ||. ( y2 - ( setsum Y1 ) ) .|| < e2))))));
A4:now
let e3 being Real;
assume that
A5: e3 > ( 0 );
set e4 = ( e3 / 2 );
consider Y01 being  finite (Subset of X) such that Y01 is non  empty and A6: Y01 c= Y and A7: (for Y1 being  finite (Subset of X) holds ((Y01 c= Y1 & Y1 c= Y) implies ||. ( y1 - ( setsum Y1 ) ) .|| < e4)) by A2,A5,XREAL_1:139;
consider Y02 being  finite (Subset of X) such that Y02 is non  empty and A8: Y02 c= Y and A9: (for Y1 being  finite (Subset of X) holds ((Y02 c= Y1 & Y1 c= Y) implies ||. ( y2 - ( setsum Y1 ) ) .|| < e4)) by A3,A5,XREAL_1:139;
set Y00 = ( Y01 \/ Y02 );
A10: (( ( e3 / 2 ) + ( e3 / 2 ) ) = e3 & Y01 c= Y00) by XBOOLE_1:7;
A11: Y00 c= Y by A6,A8,XBOOLE_1:8;
then ||. ( y2 - ( setsum Y00 ) ) .|| < e4 by A9,XBOOLE_1:7;
then ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| < e4 by BHSP_1:31;
then ( ||. ( y1 - ( setsum Y00 ) ) .|| + ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| ) < e3 by A7,A11,A10,XREAL_1:8;
then ( ||. ( ( y1 - ( setsum Y00 ) ) + ( - ( y2 - ( setsum Y00 ) ) ) ) .|| + ( ||. ( y1 - ( setsum Y00 ) ) .|| + ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| ) ) < ( ( ||. ( y1 - ( setsum Y00 ) ) .|| + ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| ) + e3 ) by BHSP_1:30,XREAL_1:8;
then A12: ( ( ||. ( ( y1 - ( setsum Y00 ) ) + ( - ( y2 - ( setsum Y00 ) ) ) ) .|| + ( ||. ( y1 - ( setsum Y00 ) ) .|| + ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| ) ) + ( - ( ||. ( y1 - ( setsum Y00 ) ) .|| + ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| ) ) ) < ( ( e3 + ( ||. ( y1 - ( setsum Y00 ) ) .|| + ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| ) ) + ( - ( ||. ( y1 - ( setsum Y00 ) ) .|| + ||. ( - ( y2 - ( setsum Y00 ) ) ) .|| ) ) ) by XREAL_1:8;
||. ( y1 - y2 ) .|| = ||. ( ( y1 - y2 ) + ( 0. X ) ) .|| by RLVECT_1:def 4
.= ||. ( ( y1 - y2 ) + ( ( setsum Y00 ) - ( setsum Y00 ) ) ) .|| by RLVECT_1:5
.= ||. ( ( ( y1 - y2 ) + ( setsum Y00 ) ) - ( setsum Y00 ) ) .|| by RLVECT_1:def 3
.= ||. ( ( y1 - ( y2 - ( setsum Y00 ) ) ) - ( setsum Y00 ) ) .|| by RLVECT_1:29
.= ||. ( y1 - ( ( setsum Y00 ) + ( y2 - ( setsum Y00 ) ) ) ) .|| by RLVECT_1:27
.= ||. ( ( y1 - ( setsum Y00 ) ) - ( y2 - ( setsum Y00 ) ) ) .|| by RLVECT_1:27
.= ||. ( ( y1 - ( setsum Y00 ) ) + ( - ( y2 - ( setsum Y00 ) ) ) ) .||;
hence ||. ( y1 - y2 ) .|| < e3 by A12;
end;
y1 = y2
proof
assume y1 <> y2;
then ( y1 - y2 ) <> ( 0. X ) by VECTSP_1:19;
then A13: ||. ( y1 - y2 ) .|| <> ( 0 ) by BHSP_1:26;
( 0 ) <= ||. ( y1 - y2 ) .|| by BHSP_1:28;
hence contradiction by A4,A13;
end;
hence thesis;
end;
end;
