environ
vocabularies PROB_1,MEASURE1,FUNCT_1,NUMBERS,RELAT_1,SUPINF_2,TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,CARD_1,ARYTM_3,XXREAL_0,NAT_1,ZFMISC_1,VALUED_0,ORDINAL2,MEASURE2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XXREAL_0,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,NAT_1,SETFAM_1,PROB_1,SUPINF_2,MEASURE1,CKB2,CKB4,CKB5,CKB20,CKB22;
definitions TARSKI,XBOOLE_0,SUPINF_2,CKB2,CKB20,CKB22;
theorems TARSKI,FUNCT_1,FUNCT_2,ZFMISC_1,NAT_1,SETFAM_1,SUPINF_2,MEASURE1,ENUMSET1,PROB_2,XBOOLE_0,XBOOLE_1,PROB_1,ORDINAL1,XXREAL_0,RELAT_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29;
schemes NAT_1,RECDEF_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,FUNCT_2,NUMBERS,XXREAL_0,MEASURE1,MEMBERED,RELSET_1,CKB21,CKB23;
constructors PARTFUN1,NAT_1,PROB_2,MEASURE1,SUPINF_1,XREAL_0,RELSET_1,CKB2,CKB4,CKB5,CKB20,CKB22;
requirements NUMERALS,SUBSET,BOOLE;
begin
reserve X for set;
theorem
(for S being (SigmaField of X) holds (for M being (sigma_Measure of S) holds (for F being (Function of ( NAT ),S) holds ((for n being (Element of ( NAT )) holds ( F . n ) c= ( F . ( n + 1 ) )) implies ( M . ( union ( rng F ) ) ) = ( sup ( rng ( M * F ) ) )))))
proof
let S being (SigmaField of X);
let M being (sigma_Measure of S);
let F being (Function of ( NAT ),S);
consider G being (Function of ( NAT ),S) such that A1: ( G . ( 0 ) ) = ( F . ( 0 ) ) and A2: (for n being (Element of ( NAT )) holds ( G . ( n + 1 ) ) = ( ( F . ( n + 1 ) ) \ ( F . n ) )) by CKB6:1;
assume A3: (for n being (Element of ( NAT )) holds ( F . n ) c= ( F . ( n + 1 ) ));
then A4: G is (Sep_Sequence of S) by A1,A2,CKB28:1;
A5: (for m being set holds (m in ( NAT ) implies ( ( Ser ( M * G ) ) . m ) = ( ( M * F ) . m )))
proof
defpred P[ (Element of ( NAT )) ]
 means
( ( Ser ( M * G ) ) . $1 ) = ( ( M * F ) . $1 );
let m being set;
assume A6: m in ( NAT );
A7: (for m being (Element of ( NAT )) holds (P[ m ] implies P[ ( m + 1 ) ]))
proof
let m being (Element of ( NAT ));
A8: ( ( M * G ) . ( m + 1 ) ) = ( M . ( G . ( m + 1 ) ) ) by FUNCT_2:15;
A9: ( ( M * F ) . ( m + 1 ) ) = ( M . ( F . ( m + 1 ) ) ) by FUNCT_2:15;
A10: ( G . ( m + 1 ) ) = ( ( F . ( m + 1 ) ) \ ( F . m ) ) by A2;
assume ( ( Ser ( M * G ) ) . m ) = ( ( M * F ) . m );
then ( ( Ser ( M * G ) ) . ( m + 1 ) ) = ( ( ( M * F ) . m ) + ( ( M * G ) . ( m + 1 ) ) ) by SUPINF_2:44
.= ( ( M . ( F . m ) ) + ( M . ( G . ( m + 1 ) ) ) ) by A8,FUNCT_2:15
.= ( M . ( ( F . m ) \/ ( G . ( m + 1 ) ) ) ) by A10,MEASURE1:30,XBOOLE_1:79
.= ( ( M * F ) . ( m + 1 ) ) by A3,A9,A10,XBOOLE_1:45;
hence thesis;
end;
( ( Ser ( M * G ) ) . ( 0 ) ) = ( ( M * G ) . ( 0 ) ) by SUPINF_2:44
.= ( M . ( F . ( 0 ) ) ) by A1,FUNCT_2:15
.= ( ( M * F ) . ( 0 ) ) by FUNCT_2:15;
then A11: P[ ( 0 ) ];
(for m being (Element of ( NAT )) holds P[ m ]) from NAT_1:sch 1(A11,A7);
hence thesis by A6;
end;
A12: (( dom ( Ser ( M * G ) ) ) = ( NAT ) & ( dom ( M * F ) ) = ( NAT )) by FUNCT_2:def 1;
( M . ( union ( rng F ) ) ) = ( M . ( union ( rng G ) ) ) by A3,A1,A2,CKB27:1
.= ( SUM ( M * G ) ) by A4,MEASURE1:def 6
.= ( sup ( rng ( M * F ) ) ) by A12,A5,FUNCT_1:2;
hence thesis;
end;
