environ
vocabularies ORDINAL1,XBOOLE_0,ORDINAL2,TARSKI,SUBSET_1,ORDINAL3,ARYTM_3;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,ORDINAL2,ORDINAL3,CKB3,CKB4;
definitions TARSKI,ORDINAL1,CKB3,CKB4;
theorems TARSKI,XBOOLE_0,ZFMISC_1,ORDINAL1,ORDINAL2,ORDINAL3,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes ORDINAL1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,ORDINAL2,ORDINAL3;
constructors SUBSET_1,ORDINAL3,CKB3,CKB4;
requirements BOOLE,SUBSET,NUMERALS;
begin
reserve A for Ordinal;
reserve B for Ordinal;
reserve C for Ordinal;
reserve a for  natural Ordinal;
reserve b for  natural Ordinal;
reserve c for  natural Ordinal;
defpred PP[ set ]
 means
(ex B st (((B c= $1 & $1 in ( omega )) & $1 <> ( {} )) & (not (ex c,d1,d2 being  natural Ordinal st ((d1,d2 are_relative_prime  & $1 = ( c *^ d1 )) & B = ( c *^ d2 ))))));
theorem
((a <> ( {} ) or b <> ( {} )) implies (ex c,d1,d2 being  natural Ordinal st ((d1,d2 are_relative_prime  & a = ( c *^ d1 )) & b = ( c *^ d2 ))))
proof
assume that
A1: (a <> ( {} ) or b <> ( {} ))
and
A2: (not (ex c,d1,d2 being  natural Ordinal st ((d1,d2 are_relative_prime  & a = ( c *^ d1 )) & b = ( c *^ d2 ))));
A3: (ex A st PP[ A ])
proof
per cases ;
suppose A4: a c= b;

take A = b;
take B = a;
thus ((B c= A & A in ( omega )) & A <> ( {} )) by A1,A4,ORDINAL1:def 12;
thus thesis by A2;
end;
suppose A5: b c= a;

take A = a;
take B = b;
thus ((B c= A & A in ( omega )) & A <> ( {} )) by A1,A5,ORDINAL1:def 12;
thus thesis by A2;
end;
end;
consider A such that A6: PP[ A ] and A7: (for C holds (PP[ C ] implies A c= C)) from ORDINAL1:sch 1(A3);
consider B such that A8: B c= A and A9: A in ( omega ) and A10: A <> ( {} ) and A11: (not (ex c,d1,d2 being  natural Ordinal st ((d1,d2 are_relative_prime  & A = ( c *^ d1 )) & B = ( c *^ d2 )))) by A6;
reconsider A,B as (Element of ( omega )) by A8,A9,ORDINAL1:12;
(A = ( 1 *^ A ) & B = ( 1 *^ B )) by ORDINAL2:39;
then (not A,B are_relative_prime ) by A11;
then consider c,d1,d2 being Ordinal such that A12: A = ( c *^ d1 ) and A13: B = ( c *^ d2 ) and A14: c <> 1 by CKB4:def 1;
A15: c <> ( {} ) by A10,A12,ORDINAL2:35;
then A16: (d1 c= A & d2 c= B) by A12,A13,ORDINAL3:36;
A17: d1 <> ( {} ) by A10,A12,ORDINAL2:38;
then c c= A by A12,ORDINAL3:36;
then reconsider c,d1,d2 as (Element of ( omega )) by A16,ORDINAL1:12;
(1 in c or c in 1) by A14,ORDINAL1:14;
then ( 1 *^ d1 ) in A by A12,A17,A15,ORDINAL3:14,ORDINAL3:19;
then A18: d1 in A by ORDINAL2:39;
A19:now
let c9 being  natural Ordinal;
let d19 being  natural Ordinal;
let d29 being  natural Ordinal;
assume that
A20: d19,d29 are_relative_prime 
and
A21: (d1 = ( c9 *^ d19 ) & d2 = ( c9 *^ d29 ));
(A = ( ( c *^ c9 ) *^ d19 ) & B = ( ( c *^ c9 ) *^ d29 )) by A12,A13,A21,ORDINAL3:50;
hence contradiction by A11,A20;
end;
(A = ( d1 *^ c ) & B = ( d2 *^ c )) by A12,A13;
then d2 c= d1 by A8,A15,ORDINAL3:35;
hence contradiction by A7,A17,A19,A18,ORDINAL1:5;
end;
