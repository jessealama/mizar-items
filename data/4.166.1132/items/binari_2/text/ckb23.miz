environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,FINSEQ_2,MARGREL1,SUBSET_1,FINSEQ_1,PARTFUN1,RELAT_1,FUNCT_1,FUNCOP_1,XBOOLEAN,ARYTM_3,INT_1,BINARITH,ARYTM_1,POWER,ORDINAL4,CARD_1,TARSKI,BINOP_2,SETWISEO,BINARI_2;
notations TARSKI,XBOOLE_0,SUBSET_1,XCMPLX_0,NUMBERS,FUNCT_1,NAT_1,NAT_D,INT_1,PARTFUN1,BINOP_1,SETWOP_2,SERIES_1,FUNCOP_1,FINSEQ_1,FINSEQ_2,FINSEQ_4,BINOP_2,XBOOLEAN,MARGREL1,BINARITH,CKB2,CKB3,CKB4,CKB5,CKB6;
definitions XBOOLEAN,CKB2,CKB3,CKB4,CKB5,CKB6;
theorems BINARITH,FINSEQ_1,FINSEQ_2,FINSEQ_4,FUNCOP_1,POWER,NAT_1,FINSOP_1,BINOP_2,XBOOLEAN,PARTFUN1,XREAL_0,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes FINSEQ_2,NAT_1;
registrations ORDINAL1,RELSET_1,XREAL_0,NAT_1,INT_1,BINOP_2,XBOOLEAN,MARGREL1,XBOOLE_0,FINSEQ_2,CARD_1,FINSEQ_1;
constructors PARTFUN1,BINOP_1,SETWISEO,XXREAL_0,NAT_1,INT_1,FINSEQ_4,FINSOP_1,SERIES_1,BINARITH,BINOP_2,NAT_D,RELSET_1,CKB2,CKB3,CKB4,CKB5,CKB6;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve i for Nat;
definition
let n being non empty Nat;
let x being (Tuple of n,( BOOLEAN ));
let y being (Tuple of n,( BOOLEAN ));
func x - y -> (Tuple of n,( BOOLEAN ))
means
:Def6: (for i holds (i in ( Seg n ) implies ( it /. i ) = ( ( ( x /. i ) 'xor' ( ( Neg2 y ) /. i ) ) 'xor' ( ( carry (x,( Neg2 y )) ) /. i ) )));
existence
proof
deffunc F(Nat) = ( ( ( x /. $1 ) 'xor' ( ( Neg2 y ) /. $1 ) ) 'xor' ( ( carry (x,( Neg2 y )) ) /. $1 ) );
consider z being (FinSequence of ( BOOLEAN )) such that A1: ( len z ) = n and A2: (for j being Nat holds (j in ( dom z ) implies ( z . j ) = F(j))) from FINSEQ_2:sch 1;
A3: ( dom z ) = ( Seg n ) by A1,FINSEQ_1:def 3;
z is (Element of ( n -tuples_on ( BOOLEAN ) )) by A1,FINSEQ_2:92;
then reconsider z as (Tuple of n,( BOOLEAN ));
take z;
let i;
assume A4: i in ( Seg n );
then i in ( dom z ) by A1,FINSEQ_1:def 3;
hence ( z /. i ) = ( z . i ) by PARTFUN1:def 6
.= ( ( ( x /. i ) 'xor' ( ( Neg2 y ) /. i ) ) 'xor' ( ( carry (x,( Neg2 y )) ) /. i ) ) by A2,A3,A4;
end;
uniqueness
proof
let z1 being (Tuple of n,( BOOLEAN )),z2 being (Tuple of n,( BOOLEAN ));
assume that
A5: (for i holds (i in ( Seg n ) implies ( z1 /. i ) = ( ( ( x /. i ) 'xor' ( ( Neg2 y ) /. i ) ) 'xor' ( ( carry (x,( Neg2 y )) ) /. i ) )))
and
A6: (for i holds (i in ( Seg n ) implies ( z2 /. i ) = ( ( ( x /. i ) 'xor' ( ( Neg2 y ) /. i ) ) 'xor' ( ( carry (x,( Neg2 y )) ) /. i ) )));
A7: ( len z1 ) = n by CARD_1:def 7;
A8: ( len z2 ) = n by CARD_1:def 7;
A9: ( dom z1 ) = ( Seg n ) by A7,FINSEQ_1:def 3;
now
let j being Nat;
assume A10: j in ( dom z1 );
( Seg n ) = ( Seg ( len z2 ) ) by CARD_1:def 7;
then A11: j in ( dom z2 ) by A9,A10,FINSEQ_1:def 3;
thus ( z1 . j ) = ( z1 /. j ) by A10,PARTFUN1:def 6
.= ( ( ( x /. j ) 'xor' ( ( Neg2 y ) /. j ) ) 'xor' ( ( carry (x,( Neg2 y )) ) /. j ) ) by A5,A9,A10
.= ( z2 /. j ) by A6,A9,A10
.= ( z2 . j ) by A11,PARTFUN1:def 6;
end;
hence thesis by A7,A8,FINSEQ_2:9;
end;
end;
