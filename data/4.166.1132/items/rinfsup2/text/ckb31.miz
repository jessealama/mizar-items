environ
vocabularies NUMBERS,SUBSET_1,XBOOLE_0,XXREAL_2,ORDINAL2,XREAL_0,ORDINAL1,XXREAL_0,SEQ_4,MESFUNC5,RELAT_1,FUNCT_1,RINFSUP1,VALUED_0,SEQ_1,ARYTM_3,TARSKI,CARD_1,ARYTM_1,SEQ_2,COMPLEX1,NAT_1,MEASURE6,REAL_1,MESFUNC1,SUPINF_2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XREAL_0,COMPLEX1,REAL_1,XXREAL_0,RELSET_1,FUNCT_2,NAT_1,XXREAL_2,SUPINF_1,VALUED_0,SUPINF_2,SEQ_1,SEQ_2,SEQ_4,LIMFUNC1,RINFSUP1,MEASURE6,EXTREAL1,MESFUNC1,MESFUNC5,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB20,CKB21;
definitions TARSKI,SUPINF_2,MESFUNC1,RINFSUP1,MEASURE6,VALUED_0,XXREAL_3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB20,CKB21;
theorems NAT_1,TARSKI,FUNCT_1,FUNCT_2,SUPINF_2,INT_1,EXTREAL2,SEQ_2,SEQ_4,RINFSUP1,XREAL_0,XBOOLE_0,MESFUNC2,XREAL_1,XXREAL_0,ORDINAL1,MESFUNC5,XXREAL_2,VALUED_0,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30;
schemes FUNCT_2,DOMAIN_1;
registrations SUBSET_1,RELSET_1,XREAL_0,MEMBERED,ORDINAL1,INT_1,NUMBERS,XBOOLE_0,VALUED_0,SEQ_2,SEQ_4,XXREAL_3,FUNCT_2,CKB18,CKB19;
constructors REAL_1,NAT_1,DOMAIN_1,EXTREAL1,COMPLEX1,MEASURE6,MESFUNC1,PARTFUN3,LIMFUNC1,RINFSUP1,MESFUNC5,SEQ_1,SUPINF_1,SEQ_4,RELSET_1,BINOP_2,RVSUM_1,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB20,CKB21;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve seq for ExtREAL_sequence;
theorem
Th18: ((( lim_sup seq ) = ( lim_inf seq ) & ( lim_inf seq ) in ( REAL )) implies (ex k st ( seq ^\ k ) is  bounded))
proof
assume that
A1: ( lim_sup seq ) = ( lim_inf seq )
and
A2: ( lim_inf seq ) in ( REAL );
reconsider a = ( lim_inf seq ) as Real by A2;
set K1 = ( a + 1 );
(ex k1 being (Element of ( NAT )) st ( ( superior_realsequence seq ) . k1 ) <= K1)
proof
assume A3: (not (ex k1 being (Element of ( NAT )) st ( ( superior_realsequence seq ) . k1 ) <= K1));
now
let x being  ext-real number;
assume x in ( rng ( superior_realsequence seq ) );
then (ex n being set st (n in ( dom ( superior_realsequence seq ) ) & x = ( ( superior_realsequence seq ) . n ))) by FUNCT_1:def 3;
hence K1 <= x by A3;
end;
then K1 is (LowerBound of ( rng ( superior_realsequence seq ) )) by XXREAL_2:def 2;
then ( a + 1 ) <= a by A1,XXREAL_2:def 4;
hence contradiction by XREAL_1:29;
end;
then consider k1 being (Element of ( NAT )) such that A4: ( ( superior_realsequence seq ) . k1 ) <= K1;
set K2 = ( a - 1 );
(ex k2 being (Element of ( NAT )) st K2 <= ( ( inferior_realsequence seq ) . k2 ))
proof
assume A5: (not (ex k2 being (Element of ( NAT )) st K2 <= ( ( inferior_realsequence seq ) . k2 )));
now
let x being  ext-real number;
assume x in ( rng ( inferior_realsequence seq ) );
then (ex n being set st (n in ( dom ( inferior_realsequence seq ) ) & x = ( ( inferior_realsequence seq ) . n ))) by FUNCT_1:def 3;
hence x <= K2 by A5;
end;
then K2 is (UpperBound of ( rng ( inferior_realsequence seq ) )) by XXREAL_2:def 1;
then a <= ( a - 1 ) by XXREAL_2:def 3;
then ( a + ( 0 ) ) < ( ( a - 1 ) + 1 ) by XREAL_1:8;
hence contradiction;
end;
then consider k2 being (Element of ( NAT )) such that A6: K2 <= ( ( inferior_realsequence seq ) . k2 );
take k = ( max (k1,k2) );
k2 <= k by XXREAL_0:25;
then ( ( inferior_realsequence seq ) . k2 ) <= ( ( inferior_realsequence seq ) . k ) by CKB14:1;
then A7: K2 <= ( ( inferior_realsequence seq ) . k ) by A6,XXREAL_0:2;
k1 <= k by XXREAL_0:25;
then ( ( superior_realsequence seq ) . k ) <= ( ( superior_realsequence seq ) . k1 ) by CKB14:1;
then A8: ( ( superior_realsequence seq ) . k ) <= K1 by A4,XXREAL_0:2;
A9: (for n being (Element of ( NAT )) holds (k <= n implies (( seq . n ) <= K1 & K2 <= ( seq . n ))))
proof
let n being (Element of ( NAT ));
A10: ( ( inferior_realsequence seq ) . n ) <= ( seq . n ) by CKB15:1;
assume A11: k <= n;
then ( ( superior_realsequence seq ) . n ) <= ( ( superior_realsequence seq ) . k ) by CKB14:1;
then A12: ( ( superior_realsequence seq ) . n ) <= K1 by A8,XXREAL_0:2;
( ( inferior_realsequence seq ) . k ) <= ( ( inferior_realsequence seq ) . n ) by A11,CKB14:1;
then A13: K2 <= ( ( inferior_realsequence seq ) . n ) by A7,XXREAL_0:2;
( seq . n ) <= ( ( superior_realsequence seq ) . n ) by CKB15:1;
hence thesis by A12,A13,A10,XXREAL_0:2;
end;
now
let x being  ext-real number;
assume x in ( rng ( seq ^\ k ) );
then consider n being set such that A14: n in ( dom ( seq ^\ k ) ) and A15: x = ( ( seq ^\ k ) . n ) by FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A14;
A16: k <= ( n + k ) by NAT_1:11;
x = ( seq . ( n + k ) ) by A15,NAT_1:def 3;
hence x <= K1 by A9,A16;
end;
then K1 is (UpperBound of ( rng ( seq ^\ k ) )) by XXREAL_2:def 1;
hence ( rng ( seq ^\ k ) ) is  bounded_above by XXREAL_2:def 10;
now
let x being  ext-real number;
assume x in ( rng ( seq ^\ k ) );
then consider n being set such that A17: n in ( dom ( seq ^\ k ) ) and A18: x = ( ( seq ^\ k ) . n ) by FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A17;
A19: k <= ( n + k ) by NAT_1:11;
x = ( seq . ( n + k ) ) by A18,NAT_1:def 3;
hence K2 <= x by A9,A19;
end;
then K2 is (LowerBound of ( rng ( seq ^\ k ) )) by XXREAL_2:def 2;
hence ( rng ( seq ^\ k ) ) is  bounded_below by XXREAL_2:def 9;
end;
