environ
vocabularies UNIALG_1,FUNCT_2,STRUCT_0,FUNCT_1,MSUALG_3,SUBSET_1,RELAT_1,XBOOLE_0,TARSKI,BINOP_1,ALGSTR_0,MESFUNC1,VECTSP_1,GROUP_1,MSUALG_1,AUTALG_1,PBOOLE,CARD_3,PZFMISC1,MEMBER_1,CARD_1,FUNCOP_1,MSUHOM_1,MSSUBFAM,GROUP_6,WELLORD1,ZFMISC_1,ENDALG;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PBOOLE,CARD_3,BINOP_1,PARTFUN1,FUNCT_2,FUNCOP_1,NUMBERS,STRUCT_0,ALGSTR_0,GROUP_1,VECTSP_1,FINSEQ_1,PZFMISC1,UNIALG_1,MSUALG_1,ALG_1,MSUALG_3,MSUHOM_1,AUTALG_1,GROUP_6,CKB1,CKB5,CKB6,CKB11,CKB16,CKB17;
definitions AUTALG_1,FUNCT_1,TARSKI,VECTSP_1,XBOOLE_0,GROUP_1,FUNCOP_1,STRUCT_0,ALGSTR_0,FUNCT_2,CKB1,CKB5,CKB6,CKB11,CKB16,CKB17;
theorems AUTALG_1,ALG_1,BINOP_1,FUNCOP_1,FUNCT_1,FUNCT_2,GROUP_6,MSUALG_1,MSUALG_3,MSUHOM_1,TARSKI,ZFMISC_1,RELAT_1,VECTSP_1,RELSET_1,XBOOLE_0,GROUP_1,PBOOLE,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17;
schemes BINOP_1,FUNCT_1,XBOOLE_0;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,FUNCT_2,PBOOLE,STRUCT_0,VECTSP_1,MSUALG_1,ALGSTR_0,RELSET_1,CKB7,CKB8,CKB18;
constructors BINOP_1,CARD_3,PZFMISC1,VECTSP_1,GROUP_6,ALG_1,MSUALG_3,MSUHOM_1,AUTALG_1,RELSET_1,CKB1,CKB5,CKB6,CKB11,CKB16,CKB17;
requirements SUBSET,BOOLE;
begin
reserve S for non  void non  empty ManySortedSign;
reserve U1 for  non-empty MSAlgebra over S;
Lm2:now
let S;
let U1;
set F = ( MSAEndMonoid U1 );
let x being (Element of F);
let e being (Element of F);
reconsider i = e,y = x as (Element of ( MSAEnd U1 )) by CKB17:def 1;
assume A1: e = ( id (the Sorts of U1) );
thus ( x * e ) = ( ( MSAEndComp U1 ) . (y,i) ) by CKB17:def 1
.= ( i ** y ) by CKB16:def 1
.= x by A1,MSUALG_3:4;
thus ( e * x ) = ( ( MSAEndComp U1 ) . (i,y) ) by CKB17:def 1
.= ( y ** i ) by CKB16:def 1
.= x by A1,MSUALG_3:3;
end;
registration
let S;
let U1;
cluster ( MSAEndMonoid U1 ) ->  well-unital  associative;
coherence
proof
reconsider i = ( id (the Sorts of U1) ) as (Element of ( MSAEnd U1 )) by CKB13:1;
set H = multLoopStr (# ( MSAEnd U1 ),( MSAEndComp U1 ),i #);
thus ( MSAEndMonoid U1 ) is  well-unital
proof
let x being (Element of ( MSAEndMonoid U1 ));
( 1. ( MSAEndMonoid U1 ) ) = i by CKB17:def 1;
hence thesis by Lm2;
end;

(for f,g,h being (Element of H) holds ( ( f * g ) * h ) = ( f * ( g * h ) ))
proof
let f being (Element of H);
let g being (Element of H);
let h being (Element of H);
reconsider A = f,B = g,C = h as (Element of ( MSAEnd U1 ));
A1: ( g * h ) = ( C ** B ) by CKB16:def 1;
( f * g ) = ( B ** A ) by CKB16:def 1;
hence ( ( f * g ) * h ) = ( C ** ( B ** A ) ) by CKB16:def 1
.= ( ( C ** B ) ** A ) by PBOOLE:140
.= ( f * ( g * h ) ) by A1,CKB16:def 1;
end;
then (( 1. H ) = i & H is  associative) by GROUP_1:def 3;
hence thesis by CKB17:def 1;
end;
end;
