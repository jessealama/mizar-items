environ
vocabularies UNIALG_1,FUNCT_2,STRUCT_0,FUNCT_1,MSUALG_3,SUBSET_1,RELAT_1,XBOOLE_0,TARSKI,BINOP_1,ALGSTR_0,MESFUNC1,VECTSP_1,GROUP_1,MSUALG_1,AUTALG_1,PBOOLE,CARD_3,PZFMISC1,MEMBER_1,CARD_1,FUNCOP_1,MSUHOM_1,MSSUBFAM,GROUP_6,WELLORD1,ZFMISC_1,ENDALG;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PBOOLE,CARD_3,BINOP_1,PARTFUN1,FUNCT_2,FUNCOP_1,NUMBERS,STRUCT_0,ALGSTR_0,GROUP_1,VECTSP_1,FINSEQ_1,PZFMISC1,UNIALG_1,MSUALG_1,ALG_1,MSUALG_3,MSUHOM_1,AUTALG_1,GROUP_6,CKB1,CKB5,CKB6,CKB11,CKB16,CKB17;
definitions AUTALG_1,FUNCT_1,TARSKI,VECTSP_1,XBOOLE_0,GROUP_1,FUNCOP_1,STRUCT_0,ALGSTR_0,FUNCT_2,CKB1,CKB5,CKB6,CKB11,CKB16,CKB17;
theorems AUTALG_1,ALG_1,BINOP_1,FUNCOP_1,FUNCT_1,FUNCT_2,GROUP_6,MSUALG_1,MSUALG_3,MSUHOM_1,TARSKI,ZFMISC_1,RELAT_1,VECTSP_1,RELSET_1,XBOOLE_0,GROUP_1,PBOOLE,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB21,CKB22;
schemes BINOP_1,FUNCT_1,XBOOLE_0;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,FUNCT_2,PBOOLE,STRUCT_0,VECTSP_1,MSUALG_1,ALGSTR_0,RELSET_1,CKB7,CKB8,CKB18,CKB19;
constructors BINOP_1,CARD_3,PZFMISC1,VECTSP_1,GROUP_6,ALG_1,MSUALG_3,MSUHOM_1,AUTALG_1,RELSET_1,CKB1,CKB5,CKB6,CKB11,CKB16,CKB17;
requirements SUBSET,BOOLE;
begin
reserve UA for Universal_Algebra;
theorem
Lm3: (for h being Function holds ((( dom h ) = ( UAEnd UA ) & (for x being set holds (x in ( UAEnd UA ) implies ( h . x ) = ( ( 0 ) .--> x )))) implies ( rng h ) = ( MSAEnd ( MSAlg UA ) )))
proof
let h being Function;
assume that
A1: ( dom h ) = ( UAEnd UA )
and
A2: (for x being set holds (x in ( UAEnd UA ) implies ( h . x ) = ( ( 0 ) .--> x )));
A3: ( MSAEnd ( MSAlg UA ) ) c= ( rng h )
proof
let x being set;
assume A4: x in ( MSAEnd ( MSAlg UA ) );
then reconsider f = x as (ManySortedFunction of ( MSAlg UA ),( MSAlg UA )) by CKB11:def 1;
(the carrier of ( MSSign UA )) = { ( 0 ) } by MSUALG_1:def 8;
then A5: f = ( ( 0 ) .--> ( f . ( 0 ) ) ) by AUTALG_1:11;
A6: f is_homomorphism ( MSAlg UA ),( MSAlg UA ) by A4,CKB11:def 1;
(ex q being set st (q in ( dom h ) & x = ( h . q )))
proof
take q = ( f . ( 0 ) );
f is (ManySortedFunction of ( MSAlg UA ),( ( MSAlg UA ) Over ( MSSign UA ) )) by MSUHOM_1:9;
then reconsider q9 = q as (Function of UA,UA) by AUTALG_1:31;
( MSAlg q9 ) = f by A5,MSUHOM_1:def 3;
then ( MSAlg q9 ) is_homomorphism ( MSAlg UA ),( ( MSAlg UA ) Over ( MSSign UA ) ) by A6,MSUHOM_1:9;
then q9 is_homomorphism UA,UA by MSUHOM_1:21;
hence q in ( dom h ) by A1,CKB1:def 1;
hence thesis by A1,A2,A5;
end;
hence thesis by FUNCT_1:def 3;
end;
( rng h ) c= ( MSAEnd ( MSAlg UA ) )
proof
let x being set;
assume x in ( rng h );
then consider q being set such that A7: q in ( dom h ) and A8: x = ( h . q ) by FUNCT_1:def 3;
consider q9 being (Element of ( UAEnd UA )) such that A9: q9 = q by A1,A7;
(x = ( ( 0 ) .--> q ) & ( ( 0 ) .--> q ) is (ManySortedFunction of ( MSAlg UA ),( MSAlg UA ))) by A1,A2,A7,A8,CKB22:1;
then consider d being (ManySortedFunction of ( MSAlg UA ),( MSAlg UA )) such that A10: d = x;
q9 is_homomorphism UA,UA by CKB1:def 1;
then A11: ( MSAlg q9 ) is_homomorphism ( MSAlg UA ),( ( MSAlg UA ) Over ( MSSign UA ) ) by MSUHOM_1:16;
( MSAlg q9 ) = ( ( 0 ) .--> q ) by A9,MSUHOM_1:def 3
.= x by A1,A2,A7,A8;
then d is_homomorphism ( MSAlg UA ),( MSAlg UA ) by A10,A11,MSUHOM_1:9;
hence thesis by A10,CKB11:def 1;
end;
hence ( rng h ) = ( MSAEnd ( MSAlg UA ) ) by A3,XBOOLE_0:def 10;
end;
