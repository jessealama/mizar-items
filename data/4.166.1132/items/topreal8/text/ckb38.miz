environ
vocabularies NUMBERS,TARSKI,XBOOLE_0,ZFMISC_1,FUNCT_1,GOBOARD1,SUBSET_1,FINSEQ_1,ARYTM_3,XXREAL_0,FINSEQ_6,RELAT_1,PARTFUN1,FINSEQ_4,CARD_1,ORDINAL4,RFINSEQ,NAT_1,GRAPH_2,MATRIX_1,ARYTM_1,FINSEQ_5,EUCLID,RLTOPSP1,TOPREAL1,GOBOARD5,STRUCT_0,MCART_1,SETFAM_1,PRE_TOPC;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,NAT_D,SETFAM_1,FUNCT_1,PARTFUN1,FINSEQ_5,FINSEQ_6,RFINSEQ,GRAPH_2,MATRIX_1,RELSET_1,FINSEQ_1,ZFMISC_1,STRUCT_0,PRE_TOPC,RLTOPSP1,EUCLID,TOPREAL1,GOBOARD1,GOBOARD5,FINSEQ_4,XXREAL_0;
definitions FINSEQ_6,GOBOARD1,GOBOARD5,TOPREAL1,TARSKI;
theorems GRAPH_2,GOBOARD1,FINSEQ_3,NAT_1,FINSEQ_5,TOPREAL1,FINSEQ_1,TARSKI,FUNCT_1,FINSEQ_4,ZFMISC_1,PARTFUN2,FINSEQ_6,RELAT_1,RFINSEQ,INT_1,MSSCYC_1,REVROT_1,GOBOARD2,TOPREAL3,GOBOARD3,SPPOL_2,GOBOARD5,GOBOARD7,ENUMSET1,SETFAM_1,XBOOLE_0,XBOOLE_1,XREAL_1,CARD_1,XXREAL_0,ORDINAL1,PARTFUN1,NAT_D,SEQM_3,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37;
registrations XBOOLE_0,ORDINAL1,XXREAL_0,XREAL_0,NAT_1,INT_1,FINSEQ_1,ZFMISC_1,FINSEQ_5,FINSEQ_6,STRUCT_0,SPPOL_2,GOBOARD9,SPRECT_1,REVROT_1,CARD_1,FUNCT_1,RELAT_1,EUCLID,CKB2,CKB3;
constructors PARTFUN1,SETFAM_1,XXREAL_0,REAL_1,NAT_1,COMPLEX1,FINSEQ_4,RFINSEQ,NAT_D,FINSEQ_5,REALSET2,GOBOARD1,GOBOARD5,GRAPH_2,SPRECT_1,RELSET_1,RLTOPSP1;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
theorem
Th33: (for f,g being non  trivial  s.n.c.  one-to-one  unfolded (FinSequence of ( TOP-REAL 2 )) holds (((( ( L~ f ) /\ ( L~ g ) ) = { ( f /. 1 ),( g /. 1 ) } & ( f /. 1 ) = ( g /. ( len g ) )) & ( g /. 1 ) = ( f /. ( len f ) )) implies ( f ^' g ) is  s.c.c.))
proof
let f being non  trivial  s.n.c.  one-to-one  unfolded (FinSequence of ( TOP-REAL 2 ));
let g being non  trivial  s.n.c.  one-to-one  unfolded (FinSequence of ( TOP-REAL 2 ));
assume that
A1: ( ( L~ f ) /\ ( L~ g ) ) = { ( f /. 1 ),( g /. 1 ) }
and
A2: ( f /. 1 ) = ( g /. ( len g ) )
and
A3: ( g /. 1 ) = ( f /. ( len f ) );
A4: (for i holds ((1 <= i & i < ( len f )) implies ( f /. i ) <> ( g /. 1 )))
proof
A5: ( len f ) in ( dom f ) by FINSEQ_5:6;
then A6: ( f /. ( len f ) ) = ( f . ( len f ) ) by PARTFUN1:def 6;
let i;
assume that
A7: 1 <= i
and
A8: i < ( len f );
A9: i in ( dom f ) by A7,A8,FINSEQ_3:25;
then ( f /. i ) = ( f . i ) by PARTFUN1:def 6;
hence thesis by A3,A8,A9,A5,A6,FUNCT_1:def 4;
end;
A10: ( ( len ( f ^' g ) ) + 1 ) = ( ( len f ) + ( len g ) ) by GRAPH_2:13;
A11: ( ( len ( g ^' f ) ) + 1 ) = ( ( len f ) + ( len g ) ) by GRAPH_2:13;
let i;
let j;
assume that
A12: ( i + 1 ) < j
and
A13: ((i > 1 & j < ( len ( f ^' g ) )) or ( j + 1 ) < ( len ( f ^' g ) ));
A14: i < j by A12,NAT_1:13;
j <= ( j + 1 ) by NAT_1:11;
then A15: j < ( len ( f ^' g ) ) by A13,XXREAL_0:2;
per cases  by NAT_1:14;
suppose i = ( 0 );

then ( LSeg (( f ^' g ),i) ) = ( {} ) by TOPREAL1:def 3;
then ( ( LSeg (( f ^' g ),i) ) /\ ( LSeg (( f ^' g ),j) ) ) = ( {} );
hence thesis by XBOOLE_0:def 7;
end;
suppose A16: j < ( len f );

then i < ( len f ) by A14,XXREAL_0:2;
then A17: ( LSeg (( f ^' g ),i) ) = ( LSeg (f,i) ) by CKB31:1;
( LSeg (( f ^' g ),j) ) = ( LSeg (f,j) ) by A16,CKB31:1;
hence thesis by A12,A17,TOPREAL1:def 7;
end;
suppose A18: i >= ( len f );

then consider m being Nat such that A19: i = ( ( len f ) + m ) by NAT_1:10;
consider n being Nat such that A20: j = ( ( len f ) + n ) by A14,A18,NAT_1:10,XXREAL_0:2;
reconsider m,n as (Element of ( NAT )) by ORDINAL1:def 12;
A21: 1 <= ( m + 1 ) by NAT_1:11;
( j + 1 ) < ( ( len f ) + ( len g ) ) by A15,A10,XREAL_1:6;
then ( ( len f ) + ( n + 1 ) ) < ( ( len f ) + ( len g ) ) by A20;
then A22: ( n + 1 ) < ( len g ) by XREAL_1:6;
A23: m < n by A14,A19,A20,XREAL_1:6;
then ( m + 1 ) <= n by NAT_1:13;
then 1 <= n by A21,XXREAL_0:2;
then A24: ( LSeg (( f ^' g ),j) ) = ( LSeg (g,( n + 1 )) ) by A20,A22,CKB32:1;
( ( i + 1 ) + 1 ) < ( j + 1 ) by A12,XREAL_1:6;
then ( ( len f ) + ( m + ( 1 + 1 ) ) ) < ( ( len f ) + ( n + 1 ) ) by A19,A20;
then A25: ( ( m + 1 ) + 1 ) < ( n + 1 ) by XREAL_1:6;
( m + 1 ) < ( n + 1 ) by A23,XREAL_1:6;
then ( m + 1 ) < ( len g ) by A22,XXREAL_0:2;
then ( LSeg (( f ^' g ),i) ) = ( LSeg (g,( m + 1 )) ) by A3,A19,CKB34:1;
hence thesis by A24,A25,TOPREAL1:def 7;
end;
suppose that A26: j >= ( len f )
and
A27: i < ( len f )
and
A28: 1 <= i;
consider k being Nat such that A29: j = ( ( len f ) + k ) by A26,NAT_1:10;
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
( j + 1 ) < ( ( len f ) + ( len g ) ) by A15,A10,XREAL_1:6;
then ( ( len f ) + ( k + 1 ) ) < ( ( len f ) + ( len g ) ) by A29;
then ( k + 1 ) < ( len g ) by XREAL_1:6;
then ( LSeg (( f ^' g ),j) ) = ( LSeg (g,( k + 1 )) ) by A3,A29,CKB34:1;
then A30: ( LSeg (( f ^' g ),j) ) c= ( L~ g ) by TOPREAL3:19;
assume ( LSeg (( f ^' g ),i) ) meets ( LSeg (( f ^' g ),j) );
then consider x being set such that A31: x in ( ( LSeg (( f ^' g ),i) ) /\ ( LSeg (( f ^' g ),j) ) ) by XBOOLE_0:4;
( LSeg (( f ^' g ),i) ) = ( LSeg (f,i) ) by A27,CKB31:1;
then ( LSeg (( f ^' g ),i) ) c= ( L~ f ) by TOPREAL3:19;
then A32: ( ( LSeg (( f ^' g ),i) ) /\ ( LSeg (( f ^' g ),j) ) ) c= { ( f /. 1 ),( g /. 1 ) } by A1,A30,XBOOLE_1:27;
now
per cases  by A13,A26,A31,A32,TARSKI:def 2,XXREAL_0:1;
suppose (1 < i & x = ( f /. 1 ));

hence contradiction by A27,A31,CKB36:1;
end;
suppose that A33: j > ( ( len f ) + ( 0 ) )
and
A34: x = ( g /. 1 );
( j + ( 0 ) ) < ( j + 1 ) by XREAL_1:6;
then A35: ( len f ) < ( j + 1 ) by A33,XXREAL_0:2;
( j + 1 ) < ( ( len ( g ^' f ) ) + 1 ) by A15,A10,A11,XREAL_1:6;
then ( ( j + 1 ) -' ( len f ) ) < ( len g ) by A11,A35,NAT_D:54;
then A36: ( ( j -' ( len f ) ) + 1 ) < ( len g ) by A33,NAT_D:38;
A37: ( Rotate (( f ^' g ),( g /. 1 )) ) = ( g ^' f ) by A3,A4,CKB21:1;
( 0 ) < ( j -' ( len f ) ) by A33,NAT_D:52;
then A38: ( ( 0 ) + 1 ) < ( ( j -' ( len f ) ) + 1 ) by XREAL_1:6;
A39: ( len f ) in ( dom f ) by FINSEQ_5:6;
then ( f . ( len f ) ) = ( f /. ( len f ) ) by PARTFUN1:def 6;
then A40: ( g /. 1 ) in ( rng f ) by A3,A39,FUNCT_1:3;
then A41: ( ( g /. 1 ) .. ( f ^' g ) ) = ( ( g /. 1 ) .. f ) by CKB10:1
.= ( len f ) by A3,CKB8:1;
A42: ( rng f ) c= ( rng ( f ^' g ) ) by CKB12:1;
then A43: ( LSeg (( f ^' g ),j) ) = ( LSeg (( Rotate (( f ^' g ),( g /. 1 )) ),( ( j -' ( ( g /. 1 ) .. ( f ^' g ) ) ) + 1 )) ) by A15,A33,A40,A41,REVROT_1:25;
( f ^' g ) is  circular by A2,CKB13:1;
then ( LSeg (( f ^' g ),i) ) = ( LSeg (( Rotate (( f ^' g ),( g /. 1 )) ),( ( i + ( len ( f ^' g ) ) ) -' ( ( g /. 1 ) .. ( f ^' g ) ) )) ) by A27,A28,A40,A41,A42,REVROT_1:32;
hence contradiction by A31,A34,A37,A41,A43,A36,A38,CKB36:1;
end;
suppose that A44: j = ( len f )
and
A45: x = ( g /. 1 );
i <= ( i + 1 ) by NAT_1:11;
then i < j by A12,XXREAL_0:2;
then ( LSeg (( f ^' g ),i) ) = ( LSeg (f,i) ) by A44,CKB31:1;
then A46: ( f /. ( len f ) ) in ( LSeg (f,i) ) by A3,A31,A45,XBOOLE_0:def 4;
i <= ( i + 1 ) by NAT_1:11;
then i < ( len f ) by A12,A44,XXREAL_0:2;
then A47: i in ( dom f ) by A28,FINSEQ_3:25;
1 <= ( i + 1 ) by NAT_1:11;
then ( i + 1 ) in ( dom f ) by A12,A44,FINSEQ_3:25;
hence contradiction by A12,A44,A47,A46,GOBOARD2:2;
end;
suppose that A48: j > ( len f )
and
A49: x = ( f /. 1 )
and
A50: ( j + 1 ) < ( len ( f ^' g ) );
thus thesis by A2,A31,A48,A49,A50,CKB37:1;
end;
suppose that A51: j = ( len f )
and
A52: x = ( f /. 1 )
and
A53: ( j + 1 ) < ( len ( f ^' g ) );
( ( 0 ) + 1 ) < ( len g ) by CKB4:1;
then ( LSeg (( f ^' g ),( ( len f ) + ( 0 ) )) ) = ( LSeg (g,( ( 0 ) + 1 )) ) by A3,CKB34:1;
then A54: ( g /. ( len g ) ) in ( LSeg (g,1) ) by A2,A31,A51,A52,XBOOLE_0:def 4;
( ( j + 1 ) + 1 ) < ( ( len f ) + ( len g ) ) by A10,A53,XREAL_1:6;
then A55: ( j + ( 1 + 1 ) ) < ( ( len f ) + ( len g ) );
then ( 1 + 1 ) < ( len g ) by A51,XREAL_1:6;
then A56: ( 1 + 1 ) in ( dom g ) by FINSEQ_3:25;
1 in ( dom g ) by FINSEQ_5:6;
hence contradiction by A51,A55,A54,A56,GOBOARD2:2;
end;
end;
hence contradiction;
end;
end;
