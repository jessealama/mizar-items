environ
vocabularies NUMBERS,TARSKI,XBOOLE_0,ZFMISC_1,FUNCT_1,GOBOARD1,SUBSET_1,FINSEQ_1,ARYTM_3,XXREAL_0,FINSEQ_6,RELAT_1,PARTFUN1,FINSEQ_4,CARD_1,ORDINAL4,RFINSEQ,NAT_1,GRAPH_2,MATRIX_1,ARYTM_1,FINSEQ_5,EUCLID,RLTOPSP1,TOPREAL1,GOBOARD5,STRUCT_0,MCART_1,SETFAM_1,PRE_TOPC;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,NAT_D,SETFAM_1,FUNCT_1,PARTFUN1,FINSEQ_5,FINSEQ_6,RFINSEQ,GRAPH_2,MATRIX_1,RELSET_1,FINSEQ_1,ZFMISC_1,STRUCT_0,PRE_TOPC,RLTOPSP1,EUCLID,TOPREAL1,GOBOARD1,GOBOARD5,FINSEQ_4,XXREAL_0;
definitions FINSEQ_6,GOBOARD1,GOBOARD5,TOPREAL1,TARSKI;
theorems GRAPH_2,GOBOARD1,FINSEQ_3,NAT_1,FINSEQ_5,TOPREAL1,FINSEQ_1,TARSKI,FUNCT_1,FINSEQ_4,ZFMISC_1,PARTFUN2,FINSEQ_6,RELAT_1,RFINSEQ,INT_1,MSSCYC_1,REVROT_1,GOBOARD2,TOPREAL3,GOBOARD3,SPPOL_2,GOBOARD5,GOBOARD7,ENUMSET1,SETFAM_1,XBOOLE_0,XBOOLE_1,XREAL_1,CARD_1,XXREAL_0,ORDINAL1,PARTFUN1,NAT_D,SEQM_3,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38;
registrations XBOOLE_0,ORDINAL1,XXREAL_0,XREAL_0,NAT_1,INT_1,FINSEQ_1,ZFMISC_1,FINSEQ_5,FINSEQ_6,STRUCT_0,SPPOL_2,GOBOARD9,SPRECT_1,REVROT_1,CARD_1,FUNCT_1,RELAT_1,EUCLID,CKB2,CKB3;
constructors PARTFUN1,SETFAM_1,XXREAL_0,REAL_1,NAT_1,COMPLEX1,FINSEQ_4,RFINSEQ,NAT_D,FINSEQ_5,REALSET2,GOBOARD1,GOBOARD5,GRAPH_2,SPRECT_1,RELSET_1,RLTOPSP1;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve f for (FinSequence of ( TOP-REAL 2 ));
reserve g for (FinSequence of ( TOP-REAL 2 ));
theorem
Th34: ((((f is  unfolded & g is  unfolded) & ( f /. ( len f ) ) = ( g /. 1 )) & ( ( LSeg (f,( ( len f ) -' 1 )) ) /\ ( LSeg (g,1) ) ) = { ( f /. ( len f ) ) }) implies ( f ^' g ) is  unfolded)
proof
assume that
A1: f is  unfolded
and
A2: g is  unfolded
and
A3: ( f /. ( len f ) ) = ( g /. 1 )
and
A4: ( ( LSeg (f,( ( len f ) -' 1 )) ) /\ ( LSeg (g,1) ) ) = { ( f /. ( len f ) ) };
set c = ( (( 1 + 1 ),( len g )) -cut g );
set k = ( ( len f ) -' 1 );
reconsider g9 = g as  unfolded (FinSequence of ( TOP-REAL 2 )) by A2;
A5: c = ( g9 /^ 1 ) by CKB16:1;
A6: ( f ^' g ) = ( f ^ ( (( 1 + 1 ),( len g )) -cut g ) ) by GRAPH_2:def 2;
per cases  by NAT_1:26;
suppose f is  empty;

hence thesis by A6,A5,FINSEQ_1:34;
end;
suppose ( len g ) = ( 0 );

then g = ( {} );
then c = ( <*> (the carrier of ( TOP-REAL 2 )) ) by A5,FINSEQ_6:80;
hence thesis by A1,A6,FINSEQ_1:34;
end;
suppose ( len g ) = 1;

then c = ( {} ) by A5,REVROT_1:2;
hence thesis by A1,A6,FINSEQ_1:34;
end;
suppose that A7: f is non  empty
and
A8: ( len g ) = ( 1 + 1 );
A9: ( k + 1 ) = ( len f ) by A7,NAT_1:14,XREAL_1:235;
( g | ( len g ) ) = g by FINSEQ_1:58;
then g = <* ( g /. 1 ),( g /. 2 ) *> by A8,FINSEQ_5:81;
then A10: ( f ^' g ) = ( f ^ <* ( g /. 2 ) *> ) by A6,A5,FINSEQ_6:46;
1 <= ( ( len g ) - 1 ) by A8;
then 1 <= ( len ( g /^ 1 ) ) by A8,RFINSEQ:def 1;
then A11: 1 in ( dom ( g /^ 1 ) ) by FINSEQ_3:25;
then A12: ( c /. 1 ) = ( ( g /^ 1 ) . 1 ) by A5,PARTFUN1:def 6
.= ( g . ( 1 + 1 ) ) by A8,A11,RFINSEQ:def 1
.= ( g /. ( 1 + 1 ) ) by A8,FINSEQ_4:15;
then ( LSeg (g,1) ) = ( LSeg (( f /. ( len f ) ),( c /. 1 )) ) by A3,A8,TOPREAL1:def 3;
hence thesis by A1,A4,A9,A10,A12,SPPOL_2:30;
end;
suppose that A13: f is non  empty
and
A14: 2 < ( len g );
A15: 1 <= ( len g ) by A14,XXREAL_0:2;
then A16: ( LSeg (( g /^ 1 ),1) ) = ( LSeg (g,( 1 + 1 )) ) by SPPOL_2:4;
( 1 + 1 ) <= ( len g ) by A14;
then 1 <= ( ( len g ) - 1 ) by XREAL_1:19;
then 1 <= ( len ( g /^ 1 ) ) by A15,RFINSEQ:def 1;
then A17: 1 in ( dom ( g /^ 1 ) ) by FINSEQ_3:25;
then A18: ( c /. 1 ) = ( ( g /^ 1 ) . 1 ) by A5,PARTFUN1:def 6
.= ( g . ( 1 + 1 ) ) by A15,A17,RFINSEQ:def 1
.= ( g /. ( 1 + 1 ) ) by A14,FINSEQ_4:15;
then A19: ( LSeg (g,1) ) = ( LSeg (( f /. ( len f ) ),( c /. 1 )) ) by A3,A14,TOPREAL1:def 3;
A20: ( k + 1 ) = ( len f ) by A13,NAT_1:14,XREAL_1:235;
( 1 + 2 ) <= ( len g ) by A14,NAT_1:13;
then ( ( LSeg (g,1) ) /\ ( LSeg (c,1) ) ) = { ( c /. 1 ) } by A5,A18,A16,TOPREAL1:def 6;
hence thesis by A1,A4,A6,A5,A20,A19,SPPOL_2:31;
end;
end;
