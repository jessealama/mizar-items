environ
vocabularies NUMBERS,TARSKI,XBOOLE_0,ZFMISC_1,FUNCT_1,GOBOARD1,SUBSET_1,FINSEQ_1,ARYTM_3,XXREAL_0,FINSEQ_6,RELAT_1,PARTFUN1,FINSEQ_4,CARD_1,ORDINAL4,RFINSEQ,NAT_1,GRAPH_2,MATRIX_1,ARYTM_1,FINSEQ_5,EUCLID,RLTOPSP1,TOPREAL1,GOBOARD5,STRUCT_0,MCART_1,SETFAM_1,PRE_TOPC;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,NAT_D,SETFAM_1,FUNCT_1,PARTFUN1,FINSEQ_5,FINSEQ_6,RFINSEQ,GRAPH_2,MATRIX_1,RELSET_1,FINSEQ_1,ZFMISC_1,STRUCT_0,PRE_TOPC,RLTOPSP1,EUCLID,TOPREAL1,GOBOARD1,GOBOARD5,FINSEQ_4,XXREAL_0;
definitions FINSEQ_6,GOBOARD1,GOBOARD5,TOPREAL1,TARSKI;
theorems GRAPH_2,GOBOARD1,FINSEQ_3,NAT_1,FINSEQ_5,TOPREAL1,FINSEQ_1,TARSKI,FUNCT_1,FINSEQ_4,ZFMISC_1,PARTFUN2,FINSEQ_6,RELAT_1,RFINSEQ,INT_1,MSSCYC_1,REVROT_1,GOBOARD2,TOPREAL3,GOBOARD3,SPPOL_2,GOBOARD5,GOBOARD7,ENUMSET1,SETFAM_1,XBOOLE_0,XBOOLE_1,XREAL_1,CARD_1,XXREAL_0,ORDINAL1,PARTFUN1,NAT_D,SEQM_3,CKB1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34;
registrations XBOOLE_0,ORDINAL1,XXREAL_0,XREAL_0,NAT_1,INT_1,FINSEQ_1,ZFMISC_1,FINSEQ_5,FINSEQ_6,STRUCT_0,SPPOL_2,GOBOARD9,SPRECT_1,REVROT_1,CARD_1,FUNCT_1,RELAT_1,EUCLID,CKB2,CKB3;
constructors PARTFUN1,SETFAM_1,XXREAL_0,REAL_1,NAT_1,COMPLEX1,FINSEQ_4,RFINSEQ,NAT_D,FINSEQ_5,REALSET2,GOBOARD1,GOBOARD5,GRAPH_2,SPRECT_1,RELSET_1,RLTOPSP1;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
theorem
Th32: (for f being non  empty  s.n.c.  unfolded (FinSequence of ( TOP-REAL 2 )) holds (for i holds ((1 <= i & i < ( len f )) implies ( ( LSeg (f,i) ) /\ ( rng f ) ) = { ( f /. i ),( f /. ( i + 1 ) ) })))
proof
let f being non  empty  s.n.c.  unfolded (FinSequence of ( TOP-REAL 2 ));
let i;
assume that
A1: 1 <= i
and
A2: i < ( len f );
A3: i in ( dom f ) by A1,A2,FINSEQ_3:25;
then ( f /. i ) = ( f . i ) by PARTFUN1:def 6;
then A4: ( f /. i ) in ( rng f ) by A3,FUNCT_1:3;
assume A5: ( ( LSeg (f,i) ) /\ ( rng f ) ) <> { ( f /. i ),( f /. ( i + 1 ) ) };
A6: ( i + 1 ) <= ( len f ) by A2,NAT_1:13;
then ( f /. i ) in ( LSeg (f,i) ) by A1,TOPREAL1:21;
then A7: ( f /. i ) in ( ( LSeg (f,i) ) /\ ( rng f ) ) by A4,XBOOLE_0:def 4;
A8: 1 < ( i + 1 ) by A1,XREAL_1:29;
then A9: ( i + 1 ) in ( dom f ) by A6,FINSEQ_3:25;
then ( f /. ( i + 1 ) ) = ( f . ( i + 1 ) ) by PARTFUN1:def 6;
then A10: ( f /. ( i + 1 ) ) in ( rng f ) by A9,FUNCT_1:3;
( f /. ( i + 1 ) ) in ( LSeg (f,i) ) by A1,A6,TOPREAL1:21;
then ( f /. ( i + 1 ) ) in ( ( LSeg (f,i) ) /\ ( rng f ) ) by A10,XBOOLE_0:def 4;
then { ( f /. i ),( f /. ( i + 1 ) ) } c= ( ( LSeg (f,i) ) /\ ( rng f ) ) by A7,ZFMISC_1:32;
then (not ( ( LSeg (f,i) ) /\ ( rng f ) ) c= { ( f /. i ),( f /. ( i + 1 ) ) }) by A5,XBOOLE_0:def 10;
then consider x being set such that A11: x in ( ( LSeg (f,i) ) /\ ( rng f ) ) and A12: (not x in { ( f /. i ),( f /. ( i + 1 ) ) }) by TARSKI:def 3;
reconsider x as (Point of ( TOP-REAL 2 )) by A11;
A13: x in ( LSeg (f,i) ) by A11,XBOOLE_0:def 4;
x in ( rng f ) by A11,XBOOLE_0:def 4;
then consider j being set such that A14: j in ( dom f ) and A15: x = ( f . j ) by FUNCT_1:def 3;
A16: x = ( f /. j ) by A14,A15,PARTFUN1:def 6;
reconsider j as (Element of ( NAT )) by A14;
A17: 1 <= j by A14,FINSEQ_3:25;
reconsider j as (Element of ( NAT ));
A18: x <> ( f /. i ) by A12,TARSKI:def 2;
then A19: j <> i by A14,A15,PARTFUN1:def 6;
A20: x <> ( f /. ( i + 1 ) ) by A12,TARSKI:def 2;
then A21: j <> ( i + 1 ) by A14,A15,PARTFUN1:def 6;
now
per cases  by A19,XXREAL_0:1;
suppose A22: ( j + 1 ) > ( len f );

A23: j <= ( len f ) by A14,FINSEQ_3:25;
( len f ) <= j by A22,NAT_1:13;
then A24: j = ( len f ) by A23,XXREAL_0:1;
consider k being Nat such that A25: ( len f ) = ( 1 + k ) by A6,A8,NAT_1:10,XXREAL_0:2;
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
1 < ( len f ) by A6,A8,XXREAL_0:2;
then 1 <= k by A25,NAT_1:13;
then A26: x in ( LSeg (f,k) ) by A16,A24,A25,TOPREAL1:21;
i <= k by A2,A25,NAT_1:13;
then i < k by A20,A16,A24,A25,XXREAL_0:1;
then A27: ( i + 1 ) <= k by NAT_1:13;
now
per cases  by A27,XXREAL_0:1;
suppose A28: ( i + 1 ) = k;

then ( i + ( 1 + 1 ) ) <= ( len f ) by A25;
then ( ( LSeg (f,i) ) /\ ( LSeg (f,k) ) ) = { ( f /. ( i + 1 ) ) } by A1,A28,TOPREAL1:def 6;
then x in { ( f /. ( i + 1 ) ) } by A13,A26,XBOOLE_0:def 4;
hence contradiction by A20,TARSKI:def 1;
end;
suppose ( i + 1 ) < k;

then ( LSeg (f,i) ) misses ( LSeg (f,k) ) by TOPREAL1:def 7;
hence contradiction by A13,A26,XBOOLE_0:3;
end;
end;
hence contradiction;
end;
suppose that A29: i < j
and
A30: ( j + 1 ) <= ( len f );
( i + 1 ) <= j by A29,NAT_1:13;
then ( i + 1 ) < j by A21,XXREAL_0:1;
then A31: ( LSeg (f,i) ) misses ( LSeg (f,j) ) by TOPREAL1:def 7;
x in ( LSeg (f,j) ) by A16,A17,A30,TOPREAL1:21;
hence contradiction by A13,A31,XBOOLE_0:3;
end;
suppose A32: j < i;

then ( j + 1 ) <= ( i + 1 ) by XREAL_1:6;
then ( j + 1 ) <= ( len f ) by A6,XXREAL_0:2;
then x in ( LSeg (f,j) ) by A16,A17,TOPREAL1:21;
then A33: x in ( ( LSeg (f,i) ) /\ ( LSeg (f,j) ) ) by A13,XBOOLE_0:def 4;
A34: ( j + 1 ) <= i by A32,NAT_1:13;
now
per cases  by A34,XXREAL_0:1;
suppose A35: ( j + 1 ) = i;

then ( ( j + 1 ) + 1 ) <= ( len f ) by A2,NAT_1:13;
then ( j + ( 1 + 1 ) ) <= ( len f );
then ( ( LSeg (f,i) ) /\ ( LSeg (f,j) ) ) = { ( f /. i ) } by A17,A35,TOPREAL1:def 6;
hence contradiction by A18,A33,TARSKI:def 1;
end;
suppose ( j + 1 ) < i;

then ( LSeg (f,j) ) misses ( LSeg (f,i) ) by TOPREAL1:def 7;
hence contradiction by A33,XBOOLE_0:4;
end;
end;
hence contradiction;
end;
end;
hence contradiction;
end;
