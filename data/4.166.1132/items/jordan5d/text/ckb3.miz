environ
vocabularies NUMBERS,PRE_TOPC,EUCLID,REAL_1,FUNCT_1,GOBOARD5,FINSEQ_1,XBOOLE_0,SUBSET_1,XXREAL_0,PARTFUN1,RLTOPSP1,ARYTM_1,ARYTM_3,INT_1,RELAT_1,JORDAN4,GOBOARD2,TREES_1,MCART_1,GOBOARD1,MATRIX_1,NAT_1,ZFMISC_1,PSCOMP_1,TOPREAL1,STRUCT_0,TARSKI,SEQ_4,ORDINAL2,XREAL_0,ORDINAL1,FINSET_1,SPPOL_1,XXREAL_2,CARD_1,JORDAN5D;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XREAL_0,MCART_1,REAL_1,NAT_1,NAT_D,RELAT_1,FINSEQ_1,FUNCT_1,PARTFUN1,FINSET_1,MATRIX_1,XXREAL_2,STRUCT_0,TOPREAL1,SPPOL_1,GOBOARD1,GOBOARD2,GOBOARD5,PRE_TOPC,RLTOPSP1,EUCLID,JORDAN4,PSCOMP_1,XXREAL_0,SEQ_4;
definitions TARSKI,XBOOLE_0,PSCOMP_1,STRUCT_0,XXREAL_2;
theorems EUCLID,FINSEQ_3,FINSEQ_6,FUNCT_1,FUNCT_2,GOBOARD1,GOBOARD2,GOBOARD5,GOBOARD7,NAT_1,PRE_TOPC,SEQ_4,SPPOL_1,SPPOL_2,TOPREAL1,MATRIX_1,FINSEQ_1,ZFMISC_1,JORDAN4,PSCOMP_1,SPRECT_2,FINSEQ_2,XBOOLE_0,XBOOLE_1,ORDINAL1,XREAL_1,XXREAL_0,PARTFUN1,XXREAL_2,NAT_D,CKB1,CKB2;
schemes DOMAIN_1;
registrations ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XREAL_0,MEMBERED,FINSEQ_1,STRUCT_0,EUCLID,GOBOARD2,GOBOARD5,SPRECT_1,VALUED_0,XXREAL_2,FUNCT_1,SEQ_4;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,NAT_D,REALSET1,BINARITH,COMPTS_1,GOBOARD2,SPPOL_1,PSCOMP_1,JORDAN4,SEQ_1,XXREAL_2,GOBOARD1,SEQ_4,RELSET_1,RVSUM_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve p for (Point of ( TOP-REAL 2 ));
reserve h for non  constant  standard special_circular_sequence;
theorem
Th5: (p in ( rng h ) implies (ex i being (Element of ( NAT )) st ((1 <= i & ( i + 1 ) <= ( len h )) & ( h . i ) = p)))
proof
A1: 4 < ( len h ) by GOBOARD7:34;
A2: 1 < ( len h ) by GOBOARD7:34,XXREAL_0:2;
assume p in ( rng h );
then consider x being set such that A3: x in ( dom h ) and A4: p = ( h . x ) by FUNCT_1:def 3;
reconsider i = x as (Element of ( NAT )) by A3;
A5: 1 <= i by A3,FINSEQ_3:25;
set j = ( S_Drop (i,h) );
A6: i <= ( len h ) by A3,FINSEQ_3:25;
((1 <= j & ( j + 1 ) <= ( len h )) & ( h . j ) = p)
proof
A7: i <= ( ( ( len h ) -' 1 ) + 1 ) by A5,A6,XREAL_1:235,XXREAL_0:2;
per cases  by A7,NAT_1:8;
suppose A8: i <= ( ( len h ) -' 1 );

then j = i by A5,JORDAN4:22;
then ( j + 1 ) <= ( ( ( len h ) -' 1 ) + 1 ) by A8,XREAL_1:7;
hence thesis by A4,A5,A2,A8,JORDAN4:22,XREAL_1:235;
end;
suppose A9: i = ( ( ( len h ) -' 1 ) + 1 );

then i = ( len h ) by A1,XREAL_1:235,XXREAL_0:2;
then ( i mod ( ( len h ) -' 1 ) ) = 1 by A1,CKB2:1,XXREAL_0:2;
then A10: j = 1 by JORDAN4:def 1;
A11: 1 <= ( len h ) by GOBOARD7:34,XXREAL_0:2;
then A12: ( len h ) in ( dom h ) by FINSEQ_3:25;
1 in ( dom h ) by A11,FINSEQ_3:25;
then ( h . 1 ) = ( h /. 1 ) by PARTFUN1:def 6
.= ( h /. ( len h ) ) by FINSEQ_6:def 1
.= ( h . ( len h ) ) by A12,PARTFUN1:def 6;
hence thesis by A4,A1,A9,A10,XREAL_1:235,XXREAL_0:2;
end;
end;
hence thesis;
end;
