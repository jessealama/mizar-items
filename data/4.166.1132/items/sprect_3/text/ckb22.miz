environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,FINSEQ_1,ORDINAL4,PARTFUN1,XXREAL_0,ARYTM_3,MATRIX_1,MATRIX_2,ZFMISC_1,SUBSET_1,PRE_TOPC,EUCLID,REAL_1,CARD_1,ARYTM_1,RELAT_1,SUPINF_2,RLTOPSP1,METRIC_1,RELAT_2,CONVEX1,RCOMP_1,CONNSP_1,TARSKI,PCOMPS_1,XREAL_0,ORDINAL1,SPPOL_1,MCART_1,GOBOARD1,TREES_1,PSCOMP_1,TOPREAL1,SPRECT_1,SPPOL_2,JORDAN3,FUNCT_1,RFINSEQ,GROUP_2,GOBOARD5,GOBOARD9,TOPREAL4,JORDAN5D,GOBOARD2,SPRECT_2,COMPLEX1,ORDINAL2,TOPS_1,JORDAN5C,FINSEQ_5;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,NAT_D,CARD_1,RFINSEQ,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,FINSEQ_5,MATRIX_1,MATRIX_2,SEQM_3,SEQ_4,FINSEQ_6,STRUCT_0,METRIC_1,PRE_TOPC,TOPS_1,COMPTS_1,CONNSP_1,PCOMPS_1,RLVECT_1,RLTOPSP1,EUCLID,TOPREAL1,TOPREAL4,PSCOMP_1,GOBOARD1,GOBOARD2,SPPOL_1,SPPOL_2,GOBOARD5,GOBOARD9,JORDAN3,JORDAN5C,JORDAN5D,SPRECT_1,SPRECT_2,XXREAL_0;
definitions TARSKI,RLTOPSP1,SPRECT_2,JORDAN1,TOPREAL4,GOBOARD1,XBOOLE_0,PSCOMP_1,SEQM_3;
theorems FINSEQ_4,TARSKI,FINSEQ_3,FINSEQ_1,SPRECT_2,GOBOARD7,PSCOMP_1,SPRECT_1,TOPREAL3,SPPOL_2,NAT_1,SPPOL_1,EUCLID,ZFMISC_1,TOPREAL1,GOBOARD5,JORDAN5D,FINSEQ_5,FINSEQ_6,JORDAN4,JORDAN3,TOPREAL5,TOPS_1,GOBRD11,GOBOARD9,TOPMETR,GOBOARD6,JORDAN1,CONNSP_1,SUBSET_1,GOBRD12,JORDAN5C,JORDAN6,MATRIX_2,GOBOARD1,ENUMSET1,CARD_2,GOBOARD2,NAT_2,ABSVALUE,GOBOARD8,PARTFUN2,FUNCT_1,XBOOLE_0,XBOOLE_1,XREAL_0,FINSEQ_2,XREAL_1,XXREAL_0,PARTFUN1,MATRIX_1,NAT_D,PRE_TOPC,RLTOPSP1,SEQM_3,SEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21;
schemes DOMAIN_1;
registrations XBOOLE_0,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,FINSEQ_1,REALSET1,STRUCT_0,EUCLID,GOBOARD2,SPPOL_2,SPRECT_1,SPRECT_2,VALUED_0,CARD_1,FUNCT_1,SEQ_4,SPPOL_1,TOPS_1,ZFMISC_1,FINSET_1,CKB16;
constructors XXREAL_0,REAL_1,NAT_1,COMPLEX1,FINSEQ_4,REALSET1,RFINSEQ,NAT_D,TOPS_1,CONNSP_1,TOPS_2,COMPTS_1,MATRIX_2,TOPMETR,TOPREAL2,TOPREAL4,GOBOARD2,SPPOL_1,JORDAN1,PSCOMP_1,GOBOARD9,JORDAN3,JORDAN5C,SPRECT_1,SPRECT_2,JORDAN5D,SEQ_1,GOBOARD1,SEQM_3,PCOMPS_1,BINARITH,FUNCSDOM,CONVEX1,SEQ_4,RVSUM_1,SPPOL_2,XXREAL_1,FUNCT_4;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
(for f,g being (FinSequence of ( TOP-REAL 2 )) holds ((((((f is  being_S-Seq & g is  being_S-Seq) & (( ( f /. ( len f ) ) `1 ) = ( ( g /. 1 ) `1 ) or ( ( f /. ( len f ) ) `2 ) = ( ( g /. 1 ) `2 ))) & ( L~ f ) misses ( L~ g )) & ( ( LSeg (( f /. ( len f ) ),( g /. 1 )) ) /\ ( L~ f ) ) = { ( f /. ( len f ) ) }) & ( ( LSeg (( f /. ( len f ) ),( g /. 1 )) ) /\ ( L~ g ) ) = { ( g /. 1 ) }) implies ( f ^ g ) is  being_S-Seq))
proof
let f being (FinSequence of ( TOP-REAL 2 ));
let g being (FinSequence of ( TOP-REAL 2 ));
assume that
A1: f is  being_S-Seq
and
A2: g is  being_S-Seq
and
A3: (( ( f /. ( len f ) ) `1 ) = ( ( g /. 1 ) `1 ) or ( ( f /. ( len f ) ) `2 ) = ( ( g /. 1 ) `2 ))
and
A4: ( L~ f ) misses ( L~ g )
and
A5: ( ( LSeg (( f /. ( len f ) ),( g /. 1 )) ) /\ ( L~ f ) ) = { ( f /. ( len f ) ) }
and
A6: ( ( LSeg (( f /. ( len f ) ),( g /. 1 )) ) /\ ( L~ g ) ) = { ( g /. 1 ) };
A7: ( len g ) >= 2 by A2,TOPREAL1:def 8;
then A8: ( len g ) >= 1 by XXREAL_0:2;
then 1 in ( dom g ) by FINSEQ_3:25;
then A9: ( g /. 1 ) in ( L~ g ) by A7,GOBOARD1:1;
set h = ( <* ( f /. ( len f ) ) *> ^ g );
A10: ( len f ) >= 2 by A1,TOPREAL1:def 8;
then 1 <= ( len f ) by XXREAL_0:2;
then A11: ( len f ) in ( dom f ) by FINSEQ_3:25;
then A12: ( f . ( len f ) ) = ( f /. ( len f ) ) by PARTFUN1:def 6
.= ( h . 1 ) by FINSEQ_1:41;
A13: ( len h ) = ( ( len <* ( f /. ( len f ) ) *> ) + ( len g ) ) by FINSEQ_1:22
.= ( ( len g ) + 1 ) by FINSEQ_1:39;
then ( len h ) >= ( 1 + 1 ) by A8,XREAL_1:6;
then A14: ( mid (h,2,( len h )) ) = ( ( h /^ ( ( 1 + 1 ) -' 1 ) ) | ( ( ( len h ) -' 2 ) + 1 ) ) by FINSEQ_6:def 3
.= ( ( h /^ 1 ) | ( ( ( len h ) -' 2 ) + 1 ) ) by NAT_D:34
.= ( g | ( ( ( len h ) -' 2 ) + 1 ) ) by FINSEQ_6:45
.= ( g | ( ( ( ( len h ) -' 1 ) -' 1 ) + 1 ) ) by NAT_D:45
.= ( g | ( ( ( len g ) -' 1 ) + 1 ) ) by A13,NAT_D:34
.= ( g | ( len g ) ) by A7,XREAL_1:235,XXREAL_0:2
.= g by FINSEQ_1:58;
( f /. ( len f ) ) in ( L~ f ) by A10,A11,GOBOARD1:1;
then ( f /. ( len f ) ) <> ( g /. 1 ) by A4,A9,XBOOLE_0:3;
then A15: h is  being_S-Seq by A2,A3,A6,SPRECT_2:60;
( ( L~ f ) /\ ( L~ h ) ) = ( ( L~ f ) /\ ( ( LSeg (( f /. ( len f ) ),( g /. 1 )) ) \/ ( L~ g ) ) ) by A2,SPPOL_2:20
.= ( ( ( L~ f ) /\ ( LSeg (( f /. ( len f ) ),( g /. 1 )) ) ) \/ ( ( L~ f ) /\ ( L~ g ) ) ) by XBOOLE_1:23
.= ( ( ( L~ f ) /\ ( LSeg (( f /. ( len f ) ),( g /. 1 )) ) ) \/ ( {} ) ) by A4,XBOOLE_0:def 7
.= { ( h . 1 ) } by A5,A11,A12,PARTFUN1:def 6;
hence thesis by A1,A12,A15,A14,JORDAN3:38;
end;
