environ
vocabularies NUMBERS,ORDINAL1,RLVECT_1,ALGSTR_0,VECTSP_1,LATTICES,ZFMISC_1,POLYNOM1,SUBSET_1,STRUCT_0,RELAT_2,BAGORDER,BINOP_1,POLYRED,POLYNOM7,ARYTM_1,ARYTM_3,PRE_POLY,TERMORD,FUNCT_1,BROUWER,RELAT_1,XBOOLE_0,XXREAL_0,SUPINF_2,VALUED_0,XCMPLX_0,CAT_3,ALGSTR_1,IDEAL_1,FINSEQ_1,PARTFUN1,MESFUNC1,CARD_3,TARSKI,CARD_1,ORDERS_2,REWRITE1,MCART_1,INT_1,FUNCT_4,GROUP_1,ORDERS_1,DICKSON,RLVECT_2,FUNCOP_1,PBOOLE,FINSET_1,ORDINAL4,GROEB_1;
notations TARSKI,RELAT_1,XBOOLE_0,RELAT_2,XCMPLX_0,XXREAL_0,RELSET_1,FUNCT_1,PARTFUN1,ORDINAL1,ALGSTR_0,ALGSTR_1,RLVECT_1,FINSET_1,FUNCT_7,DICKSON,CARD_3,CARD_1,SUBSET_1,MCART_1,FINSEQ_1,YELLOW_1,ORDERS_1,PRALG_1,STRUCT_0,POLYNOM7,PBOOLE,FUNCOP_1,ORDERS_2,VFUNCT_1,POLYNOM1,IDEAL_1,REWRITE1,BAGORDER,VECTSP_1,TERMORD,GROUP_1,NUMBERS,NAT_1,PRE_POLY,POLYRED,RECDEF_1,CKB1,CKB16,CKB17,CKB29,CKB30,CKB47;
definitions RELAT_2,RELAT_1,STRUCT_0,CKB16,CKB17,CKB29,CKB30,CKB47;
theorems TARSKI,RELSET_1,FINSEQ_1,RELAT_1,ZFMISC_1,VECTSP_1,POLYNOM1,RLVECT_1,NAT_1,ALGSTR_1,MCART_1,POLYNOM7,REWRITE1,XBOOLE_0,IDEAL_1,TERMORD,INT_1,FUNCT_1,ORDERS_2,FINSET_1,WELLORD2,XBOOLE_1,CARD_3,DICKSON,FUNCOP_1,PRALG_1,YELLOW_1,FUNCT_7,FUNCT_2,CARD_2,BAGORDER,ORDINAL1,VECTSP_2,POLYRED,RELAT_2,PARTFUN1,ORDERS_1,GROUP_1,XREAL_1,XXREAL_0,VALUED_0,STRUCT_0,PRE_POLY,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB49;
schemes RELSET_1,NAT_1,CLASSES1;
registrations XBOOLE_0,RELAT_1,ORDINAL1,FINSET_1,XREAL_0,NAT_1,INT_1,CARD_1,REWRITE1,STRUCT_0,VECTSP_1,ORDERS_2,ALGSTR_1,YELLOW_1,GCD_1,POLYNOM1,POLYNOM2,POLYNOM4,IDEAL_1,POLYNOM7,DICKSON,TERMORD,POLYRED,VALUED_0,ALGSTR_0,FINSEQ_1,SUBSET_1,PRE_POLY,FUNCOP_1,VFUNCT_1,FUNCT_1,FUNCT_2,CKB48;
constructors XXREAL_0,REWRITE1,VECTSP_2,PRALG_1,YELLOW_1,IDEAL_1,DICKSON,BAGORDER,TERMORD,POLYRED,RECDEF_1,DOMAIN_1,RELSET_1,PBOOLE,FUNCT_7,VFUNCT_1,CKB1,CKB16,CKB17,CKB29,CKB30,CKB47;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Th35: (for n being (Element of ( NAT )) holds (for T being  connected  admissible (TermOrder of n) holds (for L being  Abelian  add-associative  right_complementable  right_zeroed  commutative  associative  well-unital  distributive  almost_left_invertible non  degenerated non  empty doubleLoopStr holds (for I being  add-closed  left-ideal non  empty (Subset of ( Polynom-Ring (n,L) )) holds (ex G being  finite (Subset of ( Polynom-Ring (n,L) )) st G is_Groebner_basis_of I,T)))))
proof
let n being (Element of ( NAT ));
let T being  connected  admissible (TermOrder of n);
let L being  Abelian  add-associative  right_complementable  right_zeroed  commutative  associative  well-unital  distributive  almost_left_invertible non  degenerated non  empty doubleLoopStr;
let I being  add-closed  left-ideal non  empty (Subset of ( Polynom-Ring (n,L) ));
A1: ( 0_ (n,L) ) = ( 0. ( Polynom-Ring (n,L) ) ) by POLYNOM1:def 10;
per cases ;
suppose A2: I = { ( 0_ (n,L) ) };

set G = { ( 0_ (n,L) ) };
set R = ( PolyRedRel (G,T) );
take G;
now
let a being set;
let b being set;
let c being set;
assume that
A3: [ a,b ] in R
and
[ a,c ] in R;
consider p,q being set such that A4: p in ( NonZero ( Polynom-Ring (n,L) ) ) and A5: q in (the carrier of ( Polynom-Ring (n,L) )) and A6: [ a,b ] = [ p,q ] by A3,ZFMISC_1:def 2;
reconsider q as (Polynomial of n,L) by A5,POLYNOM1:def 10;
(not p in { ( 0_ (n,L) ) }) by A1,A4,XBOOLE_0:def 5;
then p <> ( 0_ (n,L) ) by TARSKI:def 1;
then reconsider p as  non-zero (Polynomial of n,L) by A4,POLYNOM1:def 10,POLYNOM7:def 1;
p reduces_to q,G,T by A3,A6,POLYRED:def 13;
then consider g being (Polynomial of n,L) such that A7: g in G and A8: p reduces_to q,g,T by POLYRED:def 7;
g = ( 0_ (n,L) ) by A7,TARSKI:def 1;
then p is_reducible_wrt ( 0_ (n,L) ),T by A8,POLYRED:def 8;
hence b,c are_convergent_wrt R by CKB6:1;
end;
then A9: ( PolyRedRel (G,T) ) is  locally-confluent by REWRITE1:def 24;
( G -Ideal ) = I by A2,IDEAL_1:44;
hence thesis by A9,CKB30:def 1;
end;
suppose A10: I <> { ( 0_ (n,L) ) };

(ex q being (Element of I) st q <> ( 0_ (n,L) ))
proof
assume A11: (not (ex q being (Element of I) st q <> ( 0_ (n,L) )));
A12:now
let u being set;
assume u in { ( 0_ (n,L) ) };
then A13: u = ( 0_ (n,L) ) by TARSKI:def 1;
now
assume (not u in I);
then (for v being set holds (not v in I)) by A11,A13;
hence thesis by XBOOLE_0:def 1;
end;
hence u in I;
end;
now
let u being set;
assume u in I;
then u = ( 0_ (n,L) ) by A11;
hence u in { ( 0_ (n,L) ) } by TARSKI:def 1;
end;
hence thesis by A10,A12,TARSKI:1;
end;
then consider q being (Element of I) such that A14: q <> ( 0_ (n,L) );
set R = RelStr (# ( Bags n ),( DivOrder n ) #);
set hti = ( HT (I,T) );
reconsider hti as (Subset of R);
consider S being  finite (Subset of ( Bags n )) such that A15: S is_Dickson-basis_of hti,R by CKB49:1;
set M = { { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s) & p <> ( 0_ (n,L) )) } where s is (Element of ( Bags n )): s in S };
set s = the (Element of S);
reconsider q as (Polynomial of n,L) by POLYNOM1:def 10;
set hq = ( HT (q,T) );
reconsider hq as (Element of R);
hq in { ( HT (p,T) ) where p is (Polynomial of n,L): (p in I & p <> ( 0_ (n,L) )) } by A14;
then (ex b being (Element of R) st (b in S & b <= hq)) by A15,DICKSON:def 9;
then s in S;
then { r where r is (Polynomial of n,L): ((r in I & ( HT (r,T) ) = s) & r <> ( 0_ (n,L) )) } in { { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s9) & p <> ( 0_ (n,L) )) } where s9 is (Element of ( Bags n )): s9 in S };
then reconsider M as non  empty set;
A16: (for x,y being set holds (((x in M & y in M) & x <> y) implies x misses y))
proof
let x being set;
let y being set;
assume that
A17: x in M
and
A18: y in M
and
A19: x <> y;
consider t being (Element of ( Bags n )) such that A20: y = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = t) & p <> ( 0_ (n,L) )) } and t in S by A18;
consider s being (Element of ( Bags n )) such that A21: x = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s) & p <> ( 0_ (n,L) )) } and s in S by A17;
now
set u = the (Element of ( x /\ y ));
assume A22: ( x /\ y ) <> ( {} );
then u in y by XBOOLE_0:def 4;
then A23: (ex v being (Polynomial of n,L) st (((u = v & v in I) & ( HT (v,T) ) = t) & v <> ( 0_ (n,L) ))) by A20;
u in x by A22,XBOOLE_0:def 4;
then (ex r being (Polynomial of n,L) st (((u = r & r in I) & ( HT (r,T) ) = s) & r <> ( 0_ (n,L) ))) by A21;
hence contradiction by A19,A21,A20,A23;
end;
hence thesis by XBOOLE_0:def 7;
end;
A24: S c= hti by A15,DICKSON:def 9;
(for x being set holds (x in M implies x <> ( {} )))
proof
let x being set;
assume x in M;
then consider s being (Element of ( Bags n )) such that A25: x = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s) & p <> ( 0_ (n,L) )) } and A26: s in S;
s in hti by A24,A26;
then consider q being (Polynomial of n,L) such that A27: ((s = ( HT (q,T) ) & q in I) & q <> ( 0_ (n,L) ));
q in x by A25,A27;
hence thesis;
end;
then consider G9 being set such that A28: (for x being set holds (x in M implies (ex y being set st ( G9 /\ x ) = { y }))) by A16,WELLORD2:18;
set xx = the (Element of M);
A29: M is  finite
proof
defpred P[ set,set ]
 means
$2 = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = $1) & p <> ( 0_ (n,L) )) };
A30: (for x being set holds (x in S implies (ex y being set st P[ x,y ])));
consider f being Function such that A31: (( dom f ) = S & (for x being set holds (x in S implies P[ x,( f . x ) ]))) from CLASSES1:sch 1(A30);
A32:now
let u being set;
assume u in ( rng f );
then consider s being set such that A33: s in ( dom f ) and A34: u = ( f . s ) by FUNCT_1:def 3;
u = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s) & p <> ( 0_ (n,L) )) } by A31,A33,A34;
hence u in M by A31,A33;
end;
now
let u being set;
assume u in M;
then consider s being (Element of ( Bags n )) such that A35: u = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s) & p <> ( 0_ (n,L) )) } and A36: s in S;
( f . s ) in ( rng f ) by A31,A36,FUNCT_1:3;
hence u in ( rng f ) by A31,A35,A36;
end;
then ( rng f ) = M by A32,TARSKI:1;
hence thesis by A31,FINSET_1:8;
end;
A37: (ex y being set st ( G9 /\ xx ) = { y }) by A28;
set xx = the (Element of M);
reconsider G9 as non  empty set by A37;
set G = { x where x is (Element of G9): (ex y being set st (y in M & ( G9 /\ y ) = { x })) };
now
let u being set;
assume u in G;
then consider x being (Element of G9) such that A38: u = x and A39: (ex y being set st (y in M & ( G9 /\ y ) = { x }));
consider y being set such that A40: y in M and A41: ( G9 /\ y ) = { x } by A39;
consider s being (Element of ( Bags n )) such that A42: y = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s) & p <> ( 0_ (n,L) )) } and s in S by A40;
x in ( G9 /\ y ) by A41,TARSKI:def 1;
then x in y by XBOOLE_0:def 4;
then (ex q being (Polynomial of n,L) st (((x = q & q in I) & ( HT (q,T) ) = s) & q <> ( 0_ (n,L) ))) by A42;
hence u in (the carrier of ( Polynom-Ring (n,L) )) by A38;
end;
then reconsider G as (Subset of ( Polynom-Ring (n,L) )) by TARSKI:def 3;
defpred P[ set,set ]
 means
(( G9 /\ $1 ) = { $2 } & $2 in G);
A43: (for x being set holds (x in M implies (ex y being set st P[ x,y ])))
proof
let x being set;
assume A44: x in M;
then consider y being set such that A45: ( G9 /\ x ) = { y } by A28;
y in ( G9 /\ x ) by A45,TARSKI:def 1;
then reconsider y as (Element of G9) by XBOOLE_0:def 4;
y in G by A44,A45;
hence thesis by A45;
end;
consider f being Function such that A46: (( dom f ) = M & (for x being set holds (x in M implies P[ x,( f . x ) ]))) from CLASSES1:sch 1(A43);
A47:now
let u being set;
assume u in G;
then consider x being (Element of G9) such that A48: u = x and A49: (ex y being set st (y in M & ( G9 /\ y ) = { x }));
consider y being set such that A50: y in M and A51: ( G9 /\ y ) = { x } by A49;
( G9 /\ y ) = { ( f . y ) } by A46,A50;
then A52: x in { ( f . y ) } by A51,TARSKI:def 1;
( f . y ) in ( rng f ) by A46,A50,FUNCT_1:3;
hence u in ( rng f ) by A48,A52,TARSKI:def 1;
end;
now
let u being set;
assume u in ( rng f );
then (ex s being set st (s in ( dom f ) & u = ( f . s ))) by FUNCT_1:def 3;
hence u in G by A46;
end;
then A53: ( rng f ) = G by A47,TARSKI:1;
(ex y being set st ( G9 /\ xx ) = { y }) by A28;
then reconsider G as non  empty  finite (Subset of ( Polynom-Ring (n,L) )) by A29,A46,A53,FINSET_1:8;
(for b being (bag of n) holds (b in ( HT (I,T) ) implies (ex b9 being (bag of n) st (b9 in ( HT (G,T) ) & b9 divides b))))
proof
let b being (bag of n);
reconsider bb = b as (Element of R) by PRE_POLY:def 12;
assume b in ( HT (I,T) );
then consider bb9 being (Element of R) such that A54: bb9 in S and A55: bb9 <= bb by A15,DICKSON:def 9;
set N = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = bb9) & p <> ( 0_ (n,L) )) };
A56: N in M by A54;
then consider y being set such that A57: ( G9 /\ N ) = { y } by A28;
reconsider b9 = bb9 as (bag of n);
take b9;
A58: [ bb9,bb ] in ( DivOrder n ) by A55,ORDERS_2:def 5;
A59: y in ( G9 /\ N ) by A57,TARSKI:def 1;
then reconsider y as (Element of G9) by XBOOLE_0:def 4;
y in N by A59,XBOOLE_0:def 4;
then A60: (ex r being (Polynomial of n,L) st (((y = r & r in I) & ( HT (r,T) ) = bb9) & r <> ( 0_ (n,L) )));
y in G by A56,A57;
hence thesis by A58,A60,CKB47:def 1;
end;
then A61: ( HT (I,T) ) c= ( multiples ( HT (G,T) ) ) by CKB40:1;
take G;
now
let u being set;
assume u in G;
then consider x being (Element of G9) such that A62: u = x and A63: (ex y being set st (y in M & ( G9 /\ y ) = { x }));
consider y being set such that A64: y in M and A65: ( G9 /\ y ) = { x } by A63;
consider s being (Element of ( Bags n )) such that A66: y = { p where p is (Polynomial of n,L): ((p in I & ( HT (p,T) ) = s) & p <> ( 0_ (n,L) )) } and s in S by A64;
x in ( G9 /\ y ) by A65,TARSKI:def 1;
then x in y by XBOOLE_0:def 4;
then (ex q being (Polynomial of n,L) st (((x = q & q in I) & ( HT (q,T) ) = s) & q <> ( 0_ (n,L) ))) by A66;
hence u in I by A62;
end;
then G c= I by TARSKI:def 3;
hence thesis by A61,CKB41:1;
end;
end;
