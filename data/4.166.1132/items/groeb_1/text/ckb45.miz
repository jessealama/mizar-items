environ
vocabularies NUMBERS,ORDINAL1,RLVECT_1,ALGSTR_0,VECTSP_1,LATTICES,ZFMISC_1,POLYNOM1,SUBSET_1,STRUCT_0,RELAT_2,BAGORDER,BINOP_1,POLYRED,POLYNOM7,ARYTM_1,ARYTM_3,PRE_POLY,TERMORD,FUNCT_1,BROUWER,RELAT_1,XBOOLE_0,XXREAL_0,SUPINF_2,VALUED_0,XCMPLX_0,CAT_3,ALGSTR_1,IDEAL_1,FINSEQ_1,PARTFUN1,MESFUNC1,CARD_3,TARSKI,CARD_1,ORDERS_2,REWRITE1,MCART_1,INT_1,FUNCT_4,GROUP_1,ORDERS_1,DICKSON,RLVECT_2,FUNCOP_1,PBOOLE,FINSET_1,ORDINAL4,GROEB_1;
notations TARSKI,RELAT_1,XBOOLE_0,RELAT_2,XCMPLX_0,XXREAL_0,RELSET_1,FUNCT_1,PARTFUN1,ORDINAL1,ALGSTR_0,ALGSTR_1,RLVECT_1,FINSET_1,FUNCT_7,DICKSON,CARD_3,CARD_1,SUBSET_1,MCART_1,FINSEQ_1,YELLOW_1,ORDERS_1,PRALG_1,STRUCT_0,POLYNOM7,PBOOLE,FUNCOP_1,ORDERS_2,VFUNCT_1,POLYNOM1,IDEAL_1,REWRITE1,BAGORDER,VECTSP_1,TERMORD,GROUP_1,NUMBERS,NAT_1,PRE_POLY,POLYRED,RECDEF_1,CKB1,CKB16,CKB17,CKB29,CKB30;
definitions RELAT_2,RELAT_1,STRUCT_0,CKB16,CKB17,CKB29,CKB30;
theorems TARSKI,RELSET_1,FINSEQ_1,RELAT_1,ZFMISC_1,VECTSP_1,POLYNOM1,RLVECT_1,NAT_1,ALGSTR_1,MCART_1,POLYNOM7,REWRITE1,XBOOLE_0,IDEAL_1,TERMORD,INT_1,FUNCT_1,ORDERS_2,FINSET_1,WELLORD2,XBOOLE_1,CARD_3,DICKSON,FUNCOP_1,PRALG_1,YELLOW_1,FUNCT_7,FUNCT_2,CARD_2,BAGORDER,ORDINAL1,VECTSP_2,POLYRED,RELAT_2,PARTFUN1,ORDERS_1,GROUP_1,XREAL_1,XXREAL_0,VALUED_0,STRUCT_0,PRE_POLY,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44;
schemes RELSET_1,NAT_1,CLASSES1;
registrations XBOOLE_0,RELAT_1,ORDINAL1,FINSET_1,XREAL_0,NAT_1,INT_1,CARD_1,REWRITE1,STRUCT_0,VECTSP_1,ORDERS_2,ALGSTR_1,YELLOW_1,GCD_1,POLYNOM1,POLYNOM2,POLYNOM4,IDEAL_1,POLYNOM7,DICKSON,TERMORD,POLYRED,VALUED_0,ALGSTR_0,FINSEQ_1,SUBSET_1,PRE_POLY,FUNCOP_1,VFUNCT_1,FUNCT_1,FUNCT_2;
constructors XXREAL_0,REWRITE1,VECTSP_2,PRALG_1,YELLOW_1,IDEAL_1,DICKSON,BAGORDER,TERMORD,POLYRED,RECDEF_1,DOMAIN_1,RELSET_1,PBOOLE,FUNCT_7,VFUNCT_1,CKB1,CKB16,CKB17,CKB29,CKB30;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
(for n being non  empty Ordinal holds (for T being  admissible  connected (TermOrder of n) holds (for L being  add-associative  right_complementable  right_zeroed  commutative  associative  well-unital  distributive  almost_left_invertible non  degenerated non  empty doubleLoopStr holds (ex P being (Subset of ( Polynom-Ring (n,L) )) st (not P is_Groebner_basis_wrt T)))))
proof
let n being non  empty Ordinal;
let T being  admissible  connected (TermOrder of n);
let L being  add-associative  right_complementable  right_zeroed  commutative  associative  well-unital  distributive  almost_left_invertible non  degenerated non  empty doubleLoopStr;
set 1bag = ( ( EmptyBag n ) +* (( {} ),1) );
reconsider 1bag as (Element of ( Bags n )) by PRE_POLY:def 12;
set p = ( ( ( 1. L ) | (n,L) ) +* (1bag,( 1. L )) );
reconsider p as (Function of ( Bags n ),L);
reconsider p as (Series of n,L);
A1: ( 1. L ) <> ( 0. L );
set q = ( ( ( 0. L ) | (n,L) ) +* (1bag,( 1. L )) );
reconsider q as (Function of ( Bags n ),L);
reconsider q as (Series of n,L);
A2:now
let u being (bag of n);
assume that
A3: u <> ( EmptyBag n )
and
A4: u <> 1bag;
( p . u ) = ( ( ( 1. L ) | (n,L) ) . u ) by A4,FUNCT_7:32;
then ( p . u ) = ( ( 1_ (n,L) ) . u ) by POLYNOM7:20;
hence ( p . u ) = ( 0. L ) by A3,POLYNOM1:25;
end;
A5:now
let u9 being set;
assume A6: u9 in ( Support p );
then reconsider u = u9 as (Element of ( Bags n ));
A7: ( p . u ) <> ( 0. L ) by A6,POLYNOM1:def 3;
now
assume (not u in { ( EmptyBag n ),1bag });
then (u <> ( EmptyBag n ) & u <> 1bag) by TARSKI:def 2;
hence contradiction by A2,A7;
end;
hence u9 in { ( EmptyBag n ),1bag };
end;
(( {} ) in n & ( dom ( EmptyBag n ) ) = n) by ORDINAL1:14,PARTFUN1:def 2;
then ( 1bag . ( {} ) ) = 1 by FUNCT_7:31;
then A8: ( EmptyBag n ) <> 1bag by PRE_POLY:52;
then A9: ( q . ( EmptyBag n ) ) = ( ( ( 0. L ) | (n,L) ) . ( EmptyBag n ) ) by FUNCT_7:32
.= ( ( 0_ (n,L) ) . ( EmptyBag n ) ) by POLYNOM7:19
.= ( 0. L ) by POLYNOM1:22;
A10:now
let u being (bag of n);
assume u <> 1bag;
then ( q . u ) = ( ( ( 0. L ) | (n,L) ) . u ) by FUNCT_7:32;
then ( q . u ) = ( ( 0_ (n,L) ) . u ) by POLYNOM7:19;
hence ( q . u ) = ( 0. L ) by POLYNOM1:22;
end;
A11:now
let u9 being set;
assume A12: u9 in ( Support q );
then reconsider u = u9 as (Element of ( Bags n ));
A13: ( q . u ) <> ( 0. L ) by A12,POLYNOM1:def 3;
now
assume (not u in { 1bag });
then u <> 1bag by TARSKI:def 1;
hence contradiction by A10,A13;
end;
hence u9 in { 1bag };
end;
( dom ( ( 0. L ) | (n,L) ) ) = ( Bags n ) by FUNCT_2:def 1;
then A14: ( q . 1bag ) = ( 1. L ) by FUNCT_7:31;
then A15: q <> ( 0_ (n,L) ) by POLYNOM1:22;
now
let u being set;
assume u in { 1bag };
then u = 1bag by TARSKI:def 1;
hence u in ( Support q ) by A14,POLYNOM1:def 3;
end;
then A16: ( Support q ) = { 1bag } by A11,TARSKI:1;
then reconsider q as (Polynomial of n,L) by POLYNOM1:def 4;
reconsider q as  non-zero (Polynomial of n,L) by A15,POLYNOM7:def 1;
set q1 = ( q - ( ( ( q . ( HT (q,T) ) ) / ( HC (q,T) ) ) * ( ( EmptyBag n ) *' q ) ) );
( Support q ) <> ( {} ) by A15,POLYNOM7:1;
then A17: ( HT (q,T) ) in ( Support q ) by TERMORD:def 6;
( ( EmptyBag n ) + ( HT (q,T) ) ) = ( HT (q,T) ) by PRE_POLY:53;
then q reduces_to q1,q,( HT (q,T) ),T by A15,A17,POLYRED:def 5;
then A18: q reduces_to q1,q,T by POLYRED:def 6;
A19: q1 = ( q - ( ( ( HC (q,T) ) / ( HC (q,T) ) ) * ( ( EmptyBag n ) *' q ) ) ) by TERMORD:def 7
.= ( q - ( ( ( HC (q,T) ) * ( ( HC (q,T) ) " ) ) * ( ( EmptyBag n ) *' q ) ) ) by VECTSP_1:def 11
.= ( q - ( ( 1. L ) * ( ( EmptyBag n ) *' q ) ) ) by VECTSP_1:def 10
.= ( q - ( ( 1. L ) * q ) ) by POLYRED:17
.= ( q - ( ( ( 1. L ) | (n,L) ) *' q ) ) by POLYNOM7:27
.= ( q - ( ( 1_ (n,L) ) *' q ) ) by POLYNOM7:20
.= ( q - q ) by POLYNOM1:30
.= ( 0_ (n,L) ) by POLYNOM1:24;
A20: ( dom ( ( 1. L ) | (n,L) ) ) = ( Bags n ) by FUNCT_2:def 1;
then A21: ( p . 1bag ) = ( 1. L ) by FUNCT_7:31;
then A22: p <> ( 0_ (n,L) ) by A1,POLYNOM1:22;
A23: ( p . ( EmptyBag n ) ) = ( ( ( 1. L ) | (n,L) ) . ( EmptyBag n ) ) by A8,FUNCT_7:32
.= ( ( 1_ (n,L) ) . ( EmptyBag n ) ) by POLYNOM7:20
.= ( 1. L ) by POLYNOM1:25;
now
let u being set;
assume A24: u in { ( EmptyBag n ),1bag };
now
per cases  by A24,TARSKI:def 2;
case u = ( EmptyBag n );
hence u in ( Support p ) by A1,A23,POLYNOM1:def 3;
end;
case u = 1bag;
hence u in ( Support p ) by A1,A21,POLYNOM1:def 3;
end;
end;
hence u in ( Support p );
end;
then A25: ( Support p ) = { ( EmptyBag n ),1bag } by A5,TARSKI:1;
then reconsider p as (Polynomial of n,L) by POLYNOM1:def 4;
reconsider p as  non-zero (Polynomial of n,L) by A22,POLYNOM7:def 1;
A26: ( ( EmptyBag n ) + ( HT (p,T) ) ) = ( HT (p,T) ) by PRE_POLY:53;
A27:now
A28: ( EmptyBag n ) <= 1bag,T by TERMORD:9;
assume A29: ( HT (p,T) ) = ( EmptyBag n );
1bag in ( Support p ) by A25,TARSKI:def 2;
then 1bag <= ( EmptyBag n ),T by A29,TERMORD:def 6;
hence contradiction by A8,A28,TERMORD:7;
end;
set p1 = ( q - ( ( ( q . ( HT (p,T) ) ) / ( HC (p,T) ) ) * ( ( EmptyBag n ) *' p ) ) );
( Support p ) <> ( {} ) by A22,POLYNOM7:1;
then A30: ( HT (p,T) ) in ( Support p ) by TERMORD:def 6;
then A31: ( HT (p,T) ) = 1bag by A25,A27,TARSKI:def 2;
then ( HT (p,T) ) in ( Support q ) by A16,TARSKI:def 1;
then q reduces_to p1,p,( HT (p,T) ),T by A22,A15,A26,POLYRED:def 5;
then A32: q reduces_to p1,p,T by POLYRED:def 6;
A33:now
assume ( Support q ) = ( Support p );
then ( EmptyBag n ) in { 1bag } by A25,A16,TARSKI:def 2;
hence contradiction by A8,TARSKI:def 1;
end;
A34:now
assume ( q - p ) = ( 0_ (n,L) );
then p = ( ( q - p ) + p ) by POLYRED:2
.= ( ( q + ( - p ) ) + p ) by POLYNOM1:def 6
.= ( q + ( ( - p ) + p ) ) by POLYNOM1:21
.= ( q + ( 0_ (n,L) ) ) by POLYRED:3;
hence contradiction by A33,POLYNOM1:23;
end;
set P = { p,q };
now
let u being set;
assume u in P;
then (u = p or u = q) by TARSKI:def 2;
hence u in (the carrier of ( Polynom-Ring (n,L) )) by POLYNOM1:def 10;
end;
then reconsider P as (Subset of ( Polynom-Ring (n,L) )) by TARSKI:def 3;
reconsider P as (Subset of ( Polynom-Ring (n,L) ));
set R = ( PolyRedRel (P,T) );
take P;
A35: p in P by TARSKI:def 2;
q in P by TARSKI:def 2;
then q reduces_to ( 0_ (n,L) ),P,T by A18,A19,POLYRED:def 7;
then A36: [ q,( 0_ (n,L) ) ] in R by POLYRED:def 13;
p1 = ( q - ( ( ( 1. L ) / ( p . 1bag ) ) * ( ( EmptyBag n ) *' p ) ) ) by A14,A31,TERMORD:def 7
.= ( q - ( ( ( 1. L ) / ( 1. L ) ) * ( ( EmptyBag n ) *' p ) ) ) by A20,FUNCT_7:31
.= ( q - ( ( ( 1. L ) * ( ( 1. L ) " ) ) * ( ( EmptyBag n ) *' p ) ) ) by VECTSP_1:def 11
.= ( q - ( ( 1. L ) * ( ( EmptyBag n ) *' p ) ) ) by VECTSP_1:def 10
.= ( q - ( ( 1. L ) * p ) ) by POLYRED:17
.= ( q - ( ( ( 1. L ) | (n,L) ) *' p ) ) by POLYNOM7:27
.= ( q - ( ( 1_ (n,L) ) *' p ) ) by POLYNOM7:20
.= ( q - p ) by POLYNOM1:30;
then q reduces_to ( q - p ),P,T by A32,A35,POLYRED:def 7;
then A37: [ q,( q - p ) ] in R by POLYRED:def 13;
now
A38:now
let u being set;
now
let u being set;
assume u in { 1bag };
then u = 1bag by TARSKI:def 1;
hence u in { ( EmptyBag n ),1bag } by TARSKI:def 2;
end;
then { 1bag } c= { ( EmptyBag n ),1bag } by TARSKI:def 3;
then A39: ( { 1bag } \/ { ( EmptyBag n ),1bag } ) = { ( EmptyBag n ),1bag } by XBOOLE_1:12;
A40: ( ( q - p ) . 1bag ) = ( ( q + ( - p ) ) . 1bag ) by POLYNOM1:def 6
.= ( ( q . 1bag ) + ( ( - p ) . 1bag ) ) by POLYNOM1:15
.= ( ( q . 1bag ) + ( - ( p . 1bag ) ) ) by POLYNOM1:17
.= ( ( 1. L ) + ( - ( 1. L ) ) ) by A20,A14,FUNCT_7:31
.= ( 0. L ) by RLVECT_1:5;
( Support ( q - p ) ) = ( Support ( q + ( - p ) ) ) by POLYNOM1:def 6;
then ( Support ( q - p ) ) c= ( ( Support q ) \/ ( Support ( - p ) ) ) by POLYNOM1:20;
then A41: ( Support ( q - p ) ) c= ( { 1bag } \/ { ( EmptyBag n ),1bag } ) by A25,A16,CKB9:1;
assume A42: u in ( Support ( q - p ) );
then ( ( q - p ) . u ) <> ( 0. L ) by POLYNOM1:def 3;
then u = ( EmptyBag n ) by A42,A41,A39,A40,TARSKI:def 2;
hence u in { ( EmptyBag n ) } by TARSKI:def 1;
end;
assume R is  locally-confluent;
then ( 0_ (n,L) ),( q - p ) are_convergent_wrt R by A37,A36,REWRITE1:def 24;
then consider c being set such that A43: R reduces ( 0_ (n,L) ),c and A44: R reduces ( q - p ),c by REWRITE1:def 7;
reconsider c as (Polynomial of n,L) by A43,CKB21:1;
consider s being FinSequence such that A45: ( len s ) > ( 0 ) and A46: ( s . 1 ) = ( 0_ (n,L) ) and A47: ( s . ( len s ) ) = c and A48: (for i being (Element of ( NAT )) holds ((i in ( dom s ) & ( i + 1 ) in ( dom s )) implies [ ( s . i ),( s . ( i + 1 ) ) ] in R)) by A43,REWRITE1:11;
now
A49: ( ( 0 ) + 1 ) <= ( len s ) by A45,NAT_1:13;
A50: ( dom s ) = ( Seg ( len s ) ) by FINSEQ_1:def 3;
assume ( len s ) <> 1;
then 1 < ( len s ) by A49,XXREAL_0:1;
then ( 1 + 1 ) <= ( len s ) by NAT_1:13;
then A51: ( 1 + 1 ) in ( dom s ) by A50,FINSEQ_1:1;
A52: 1 in ( dom s ) by A49,A50,FINSEQ_1:1;
then consider f9,h9 being set such that A53: [ ( 0_ (n,L) ),( s . 2 ) ] = [ f9,h9 ] and f9 in ( NonZero ( Polynom-Ring (n,L) ) ) and A54: h9 in (the carrier of ( Polynom-Ring (n,L) )) by A46,A48,A51,RELSET_1:2;
( s . 2 ) = ( [ f9,h9 ] `2 ) by A53,MCART_1:def 2
.= h9 by MCART_1:def 2;
then reconsider c9 = ( s . 2 ) as (Polynomial of n,L) by A54,POLYNOM1:def 10;
[ ( s . 1 ),( s . 2 ) ] in R by A48,A52,A51;
then ( 0_ (n,L) ) reduces_to c9,P,T by A46,POLYRED:def 13;
then consider g being (Polynomial of n,L) such that g in P and A55: ( 0_ (n,L) ) reduces_to c9,g,T by POLYRED:def 7;
( 0_ (n,L) ) is_reducible_wrt g,T by A55,POLYRED:def 8;
hence contradiction by POLYRED:37;
end;
then consider s being FinSequence such that A56: ( len s ) > ( 0 ) and A57: ( s . 1 ) = ( q - p ) and A58: ( s . ( len s ) ) = ( 0_ (n,L) ) and A59: (for i being (Element of ( NAT )) holds ((i in ( dom s ) & ( i + 1 ) in ( dom s )) implies [ ( s . i ),( s . ( i + 1 ) ) ] in R)) by A44,A46,A47,REWRITE1:11;
A60:now
assume ( - ( 1. L ) ) = ( 0. L );
then ( - ( - ( 1. L ) ) ) = ( 0. L ) by RLVECT_1:12;
hence contradiction by RLVECT_1:17;
end;
now
let u being set;
assume A61: u in { ( EmptyBag n ) };
then reconsider u9 = u as (Element of ( Bags n )) by TARSKI:def 1;
( ( q - p ) . u9 ) = ( ( q + ( - p ) ) . u9 ) by POLYNOM1:def 6
.= ( ( q . u9 ) + ( ( - p ) . u9 ) ) by POLYNOM1:15
.= ( ( q . u9 ) + ( - ( p . u9 ) ) ) by POLYNOM1:17
.= ( ( 0. L ) + ( - ( p . u9 ) ) ) by A9,A61,TARSKI:def 1
.= ( ( 0. L ) + ( - ( 1. L ) ) ) by A23,A61,TARSKI:def 1
.= ( - ( 1. L ) ) by ALGSTR_1:def 2;
hence u in ( Support ( q - p ) ) by A60,POLYNOM1:def 3;
end;
then A62: ( Support ( q - p ) ) = { ( EmptyBag n ) } by A38,TARSKI:1;
A63:now
assume ( q - p ) is_reducible_wrt P,T;
then consider g being (Polynomial of n,L) such that A64: ( q - p ) reduces_to g,P,T by POLYRED:def 9;
consider h being (Polynomial of n,L) such that A65: h in P and A66: ( q - p ) reduces_to g,h,T by A64,POLYRED:def 7;
(ex b being (bag of n) st ( q - p ) reduces_to g,h,b,T) by A66,POLYRED:def 6;
then h <> ( 0_ (n,L) ) by POLYRED:def 5;
then reconsider h as  non-zero (Polynomial of n,L) by POLYNOM7:def 1;
( q - p ) is_reducible_wrt h,T by A66,POLYRED:def 8;
then consider b9 being (bag of n) such that A67: b9 in ( Support ( q - p ) ) and A68: ( HT (h,T) ) divides b9 by POLYRED:36;
A69: ( HT (h,T) ) = 1bag
proof
now
per cases  by A65,TARSKI:def 2;
case h = p;
hence thesis by A25,A30,A27,TARSKI:def 2;
end;
case h = q;
hence thesis by A16,A17,TARSKI:def 1;
end;
end;
hence thesis;
end;
b9 = ( EmptyBag n ) by A62,A67,TARSKI:def 1;
hence contradiction by A8,A68,A69,PRE_POLY:58;
end;
now
A70: ( ( 0 ) + 1 ) <= ( len s ) by A56,NAT_1:13;
A71: ( dom s ) = ( Seg ( len s ) ) by FINSEQ_1:def 3;
assume ( len s ) <> 1;
then 1 < ( len s ) by A70,XXREAL_0:1;
then ( 1 + 1 ) <= ( len s ) by NAT_1:13;
then A72: ( 1 + 1 ) in ( dom s ) by A71,FINSEQ_1:1;
A73: 1 in ( dom s ) by A70,A71,FINSEQ_1:1;
then consider f9,h9 being set such that A74: [ ( q - p ),( s . 2 ) ] = [ f9,h9 ] and f9 in ( NonZero ( Polynom-Ring (n,L) ) ) and A75: h9 in (the carrier of ( Polynom-Ring (n,L) )) by A57,A59,A72,RELSET_1:2;
( s . 2 ) = ( [ f9,h9 ] `2 ) by A74,MCART_1:def 2
.= h9 by MCART_1:def 2;
then reconsider c9 = ( s . 2 ) as (Polynomial of n,L) by A75,POLYNOM1:def 10;
[ ( q - p ),( s . 2 ) ] in R by A57,A59,A73,A72;
then ( q - p ) reduces_to c9,P,T by POLYRED:def 13;
hence contradiction by A63,POLYRED:def 9;
end;
hence contradiction by A34,A57,A58;
end;
hence thesis by CKB29:def 1;
end;
