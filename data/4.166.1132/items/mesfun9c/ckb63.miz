environ
vocabularies NUMBERS,XBOOLE_0,PROB_1,MEASURE1,SUBSET_1,SEQFUNC,SEQ_1,PARTFUN1,NAT_1,REALSET1,FUNCT_1,RELAT_1,PBOOLE,SEQ_2,MEASURE6,MESFUNC5,MESFUNC8,TARSKI,CARD_1,ORDINAL2,MESFUNC1,SERIES_1,ARYTM_3,XXREAL_0,MSSUBFAM,SETFAM_1,CARD_3,MESFUNC2,INTEGRA5,COMPLEX1,ORDINAL1,COMSEQ_1,XCMPLX_0,VALUED_1,ARYTM_1,RINFSUP1,XXREAL_2,SUPINF_2,VALUED_0,MESFUN10,XREAL_0,REAL_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,XXREAL_0,VALUED_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,PARTFUN1,NAT_1,PROB_1,SETFAM_1,SUPINF_2,MESFUNC9,SEQ_1,SEQ_2,SEQFUNC,SERIES_1,MEASURE1,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,MESFUNC6,MESFUN6C,MESFUN10,MESFUNC8,MESFUN7C,MESFUNC5,COMSEQ_1,COMSEQ_2,COMSEQ_3,RINFSUP2,XXREAL_2,CKB1,CKB8,CKB32,CKB54,CKB56,CKB60,CKB62;
definitions FUNCT_2,MEASURE6,MESFUNC5,SERIES_1,VALUED_1,RINFSUP2,MESFUN7C,MESFUNC6,MESFUNC8,CKB1,CKB8,CKB32,CKB54,CKB56,CKB60,CKB62;
theorems TARSKI,PARTFUN1,FUNCT_1,SUPINF_2,EXTREAL2,MESFUNC1,XBOOLE_0,MESFUNC2,XXREAL_0,MESFUNC5,NAT_1,RELAT_1,FUNCT_2,COMPLEX1,MESFUN10,XCMPLX_0,MESFUNC6,SEQFUNC,ORDINAL1,MESFUNC8,RINFSUP2,RELSET_1,MESFUN7C,SERIES_1,VALUED_1,COMSEQ_3,MESFUN6C,XXREAL_2,MESFUNC9,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62;
schemes FUNCT_2,NAT_1,RECDEF_1,SEQFUNC;
registrations XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,COMSEQ_3,FUNCT_2,RELAT_1,XBOOLE_0,NUMBERS,XXREAL_0,XCMPLX_0,MESFUNC8,VALUED_0,MESFUN7C,RELSET_1;
constructors REAL_1,EXTREAL1,SUPINF_1,MESFUNC9,SEQ_1,SEQ_2,MESFUN10,SEQFUNC,COMSEQ_2,COMSEQ_3,SERIES_1,MESFUNC1,MEASURE6,MESFUNC2,MESFUNC5,MESFUNC6,MESFUN6C,MESFUN7C,RINFSUP2,RELSET_1,CKB1,CKB8,CKB32,CKB54,CKB56,CKB60,CKB62;
requirements NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve X for non empty set;
reserve S for (SigmaField of X);
reserve M for (sigma_Measure of S);
reserve E for (Element of S);
reserve F for  with_the_same_dom (Functional_Sequence of X,( COMPLEX ));
reserve f for (PartFunc of X,( COMPLEX ));
theorem
((((( M . E ) < ( +infty ) & E = ( dom ( F . ( 0 ) ) )) & (for n being Nat holds ( F . n ) is_integrable_on M)) & F is_uniformly_convergent_to f) implies (f is_integrable_on M & (ex I being Complex_Sequence st (((for n being Nat holds ( I . n ) = ( Integral (M,( F . n )) )) & I is  convergent) & ( lim I ) = ( Integral (M,f) )))))
proof
assume that
A1: ( M . E ) < ( +infty )
and
A2: E = ( dom ( F . ( 0 ) ) )
and
A3: (for n being Nat holds ( F . n ) is_integrable_on M)
and
A4: F is_uniformly_convergent_to f;
A5: (for n being Nat holds ( ( Im F ) . n ) is_integrable_on M)
proof
let n being Nat;
( F . n ) is_integrable_on M by A3;
then ( Im ( F . n ) ) is_integrable_on M by MESFUN6C:def 2;
hence ( ( Im F ) . n ) is_integrable_on M by MESFUN7C:24;
end;
A6: ( dom ( F . ( 0 ) ) ) = ( dom f ) by A4,CKB62:def 1;
A7: (for e being  real number holds (e > ( 0 ) implies (ex N being Nat st (for n being Nat holds (for x being (Element of X) holds ((n >= N & x in ( dom ( ( Im F ) . ( 0 ) ) )) implies |. ( ( ( ( Im F ) . n ) . x ) - ( ( Im f ) . x ) ) .| < e))))))
proof
let e being  real number;
assume e > ( 0 );
then consider N being Nat such that A8: (for n being Nat holds (for x being (Element of X) holds ((n >= N & x in ( dom ( F . ( 0 ) ) )) implies |. ( ( ( F . n ) . x ) - ( f . x ) ) .| < e))) by A4,CKB62:def 1;
(for n being Nat holds (for x being (Element of X) holds ((n >= N & x in ( dom ( ( Im F ) . ( 0 ) ) )) implies |. ( ( ( ( Im F ) . n ) . x ) - ( ( Im f ) . x ) ) .| < e)))
proof
let n being Nat;
let x being (Element of X);
assume that
A9: n >= N
and
A10: x in ( dom ( ( Im F ) . ( 0 ) ) );
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
A11: x in ( dom ( F . ( 0 ) ) ) by A10,MESFUN7C:def 12;
then |. ( ( ( F . n ) . x ) - ( f . x ) ) .| < e by A8,A9;
then A12: |. ( ( ( F # x ) . n ) - ( f . x ) ) .| < e by MESFUN7C:def 9;
A13: ( Im ( ( ( F # x ) . n ) - ( f . x ) ) ) = ( ( Im ( ( F # x ) . n ) ) - ( Im ( f . x ) ) ) by COMPLEX1:19;
( ( ( F # x ) . n ) - ( f . x ) ) is (Element of ( COMPLEX )) by XCMPLX_0:def 2;
then A14: |. ( ( Im ( ( F # x ) . n ) ) - ( Im ( f . x ) ) ) .| <= |. ( ( ( F # x ) . n ) - ( f . x ) ) .| by A13,COMSEQ_3:13;
x in ( dom ( Im f ) ) by A6,A11,COMSEQ_3:def 4;
then A15: ( Im ( f . x ) ) = ( ( Im f ) . x ) by COMSEQ_3:def 4;
( Im ( ( F # x ) . n1 ) ) = ( ( Im ( F # x ) ) . n ) by COMSEQ_3:def 6
.= ( ( ( Im F ) # x ) . n1 ) by A11,MESFUN7C:23
.= ( ( ( Im F ) . n ) . x ) by SEQFUNC:def 10;
hence |. ( ( ( ( Im F ) . n ) . x ) - ( ( Im f ) . x ) ) .| < e by A12,A14,A15,XXREAL_0:2;
end;
hence thesis;
end;
( dom ( ( Im F ) . ( 0 ) ) ) = ( dom f ) by A6,MESFUN7C:def 12;
then ( dom ( ( Im F ) . ( 0 ) ) ) = ( dom ( Im f ) ) by COMSEQ_3:def 4;
then A16: ( Im F ) is_uniformly_convergent_to ( Im f ) by A7,CKB56:def 1;
A17: (for e being  real number holds (e > ( 0 ) implies (ex N being Nat st (for n being Nat holds (for x being (Element of X) holds ((n >= N & x in ( dom ( ( Re F ) . ( 0 ) ) )) implies |. ( ( ( ( Re F ) . n ) . x ) - ( ( Re f ) . x ) ) .| < e))))))
proof
let e being  real number;
assume e > ( 0 );
then consider N being Nat such that A18: (for n being Nat holds (for x being (Element of X) holds ((n >= N & x in ( dom ( F . ( 0 ) ) )) implies |. ( ( ( F . n ) . x ) - ( f . x ) ) .| < e))) by A4,CKB62:def 1;
(for n being Nat holds (for x being (Element of X) holds ((n >= N & x in ( dom ( ( Re F ) . ( 0 ) ) )) implies |. ( ( ( ( Re F ) . n ) . x ) - ( ( Re f ) . x ) ) .| < e)))
proof
let n being Nat;
let x being (Element of X);
assume that
A19: n >= N
and
A20: x in ( dom ( ( Re F ) . ( 0 ) ) );
A21: x in ( dom ( F . ( 0 ) ) ) by A20,MESFUN7C:def 11;
A22: ( Re ( ( ( F # x ) . n ) - ( f . x ) ) ) = ( ( Re ( ( F # x ) . n ) ) - ( Re ( f . x ) ) ) by COMPLEX1:19;
( ( F . n ) . x ) = ( ( F # x ) . n ) by MESFUN7C:def 9;
then A23: |. ( ( ( F # x ) . n ) - ( f . x ) ) .| < e by A18,A19,A21;
x in ( dom ( Re f ) ) by A6,A21,COMSEQ_3:def 3;
then A24: ( Re ( f . x ) ) = ( ( Re f ) . x ) by COMSEQ_3:def 3;
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
( ( ( F # x ) . n ) - ( f . x ) ) is (Element of ( COMPLEX )) by XCMPLX_0:def 2;
then A25: |. ( ( Re ( ( F # x ) . n ) ) - ( Re ( f . x ) ) ) .| <= |. ( ( ( F # x ) . n ) - ( f . x ) ) .| by A22,COMSEQ_3:13;
( Re ( ( F # x ) . n ) ) = ( ( Re ( F # x ) ) . n1 ) by COMSEQ_3:def 5
.= ( ( ( Re F ) # x ) . n ) by A21,MESFUN7C:23
.= ( ( ( Re F ) . n1 ) . x ) by SEQFUNC:def 10;
hence |. ( ( ( ( Re F ) . n ) . x ) - ( ( Re f ) . x ) ) .| < e by A23,A25,A24,XXREAL_0:2;
end;
hence thesis;
end;
( dom ( ( Re F ) . ( 0 ) ) ) = ( dom f ) by A6,MESFUN7C:def 11;
then ( dom ( ( Re F ) . ( 0 ) ) ) = ( dom ( Re f ) ) by COMSEQ_3:def 3;
then A26: ( Re F ) is_uniformly_convergent_to ( Re f ) by A17,CKB56:def 1;
defpred P[ (Element of ( NAT )),set ]
 means
$2 = ( Integral (M,( F . $1 )) );
A27: (for n being (Element of ( NAT )) holds (ex y being (Element of ( COMPLEX )) st P[ n,y ]))
proof
let n being (Element of ( NAT ));
( Integral (M,( F . n )) ) is (Element of ( COMPLEX )) by XCMPLX_0:def 2;
hence thesis;
end;
consider I being (Function of ( NAT ),( COMPLEX )) such that A28: (for n being (Element of ( NAT )) holds P[ n,( I . n ) ]) from FUNCT_2:sch 3(A27);
A29: (for n being Nat holds ( ( Re F ) . n ) is_integrable_on M)
proof
let n being Nat;
( F . n ) is_integrable_on M by A3;
then ( Re ( F . n ) ) is_integrable_on M by MESFUN6C:def 2;
hence ( ( Re F ) . n ) is_integrable_on M by MESFUN7C:24;
end;
A30: E = ( dom ( ( Im F ) . ( 0 ) ) ) by A2,MESFUN7C:def 12;
then A31: ( Im f ) is_integrable_on M by A1,A5,A16,CKB57:1;
A32: E = ( dom ( ( Re F ) . ( 0 ) ) ) by A2,MESFUN7C:def 11;
then consider A being ExtREAL_sequence such that A33: (for n being Nat holds ( A . n ) = ( Integral (M,( ( Re F ) . n )) )) and A34: A is  convergent and A35: ( lim A ) = ( Integral (M,( Re f )) ) by A1,A29,A26,CKB57:1;
A36: ( Re f ) is_integrable_on M by A1,A32,A29,A26,CKB57:1;
hence A37: f is_integrable_on M by A31,MESFUN6C:def 2;
reconsider I as Complex_Sequence;
consider B being ExtREAL_sequence such that A38: (for n being Nat holds ( B . n ) = ( Integral (M,( ( Im F ) . n )) )) and A39: B is  convergent and A40: ( lim B ) = ( Integral (M,( Im f )) ) by A1,A30,A5,A16,CKB57:1;
A41:now
let n1 being set;
assume n1 in ( NAT );
then reconsider n = n1 as (Element of ( NAT ));
A42: (( ( Re F ) . n ) = ( Re ( F . n ) ) & ( ( Im F ) . n ) = ( Im ( F . n ) )) by MESFUN7C:24;
( F . n ) is_integrable_on M by A3;
then consider RF being Real,IF being Real such that A43: (RF = ( Integral (M,( Re ( F . n ) )) ) & IF = ( Integral (M,( Im ( F . n ) )) )) and A44: ( Integral (M,( F . n )) ) = ( RF + ( IF * ( <i> ) ) ) by MESFUN6C:def 3;
A45: (( ( Re I ) . n ) = ( Re ( I . n ) ) & ( ( Im I ) . n ) = ( Im ( I . n ) )) by COMSEQ_3:def 5,COMSEQ_3:def 6;
( I . n1 ) = ( Integral (M,( F . n )) ) by A28;
then (( Re ( I . n1 ) ) = RF & ( Im ( I . n1 ) ) = IF) by A44,COMPLEX1:12;
hence (( ( R_EAL ( Re I ) ) . n1 ) = ( A . n1 ) & ( ( R_EAL ( Im I ) ) . n1 ) = ( B . n1 )) by A33,A38,A42,A45,A43;
end;
then (for x being set holds (x in ( NAT ) implies ( ( R_EAL ( Im I ) ) . x ) = ( B . x )));
then A46: ( Im I ) = B by FUNCT_2:12;
A47: (( -infty ) < ( Integral (M,( Im f )) ) & ( Integral (M,( Im f )) ) < ( +infty )) by A31,MESFUNC6:90;
A48:now
assume A49: B is  convergent;
assume (not B is  convergent_to_finite_number);
then (B is  convergent_to_+infty or B is  convergent_to_-infty) by A49,MESFUNC5:def 11;
hence contradiction by A39,A40,A47,MESFUNC5:def 12;
end;
then A50: ( lim ( Im I ) ) = ( Integral (M,( Im f )) ) by A39,A40,A46,RINFSUP2:15;
A51: ( Im I ) is  convergent by A39,A46,A48,RINFSUP2:15;
take I;
(for x being set holds (x in ( NAT ) implies ( ( R_EAL ( Re I ) ) . x ) = ( A . x ))) by A41;
then A52: ( Re I ) = A by FUNCT_2:12;
thus (for n being Nat holds ( I . n ) = ( Integral (M,( F . n )) ))
proof
let n being Nat;
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
(( ( Re I ) . n1 ) = ( Re ( I . n1 ) ) & ( ( Im I ) . n1 ) = ( Im ( I . n1 ) )) by COMSEQ_3:def 5,COMSEQ_3:def 6;
then A53: ( I . n ) = ( ( ( Re I ) . n ) + ( ( ( Im I ) . n ) * ( <i> ) ) ) by COMPLEX1:13;
( ( Re F ) . n ) = ( Re ( F . n ) ) by MESFUN7C:24;
then A54: ( ( Re I ) . n ) = ( Integral (M,( Re ( F . n ) )) ) by A33,A52;
( ( Im F ) . n ) = ( Im ( F . n ) ) by MESFUN7C:24;
then A55: ( ( Im I ) . n ) = ( Integral (M,( Im ( F . n ) )) ) by A38,A46;
( F . n ) is_integrable_on M by A3;
hence ( I . n ) = ( Integral (M,( F . n )) ) by A53,A54,A55,MESFUN6C:def 3;
end;

A56: (( -infty ) < ( Integral (M,( Re f )) ) & ( Integral (M,( Re f )) ) < ( +infty )) by A36,MESFUNC6:90;
A57:now
assume A58: A is  convergent;
assume (not A is  convergent_to_finite_number);
then (A is  convergent_to_+infty or A is  convergent_to_-infty) by A58,MESFUNC5:def 11;
hence contradiction by A34,A35,A56,MESFUNC5:def 12;
end;
then A59: ( Re I ) is  convergent by A34,A52,RINFSUP2:15;
hence I is  convergent by A51,COMSEQ_3:42;
(for n being (Element of ( NAT )) holds (( ( Re I ) . n ) = ( Re ( I . n ) ) & ( ( Im I ) . n ) = ( Im ( I . n ) ))) by COMSEQ_3:def 5,COMSEQ_3:def 6;
then A60: ( lim I ) = ( ( lim ( Re I ) ) + ( ( lim ( Im I ) ) * ( <i> ) ) ) by A59,A51,COMSEQ_3:39;
( lim ( Re I ) ) = ( Integral (M,( Re f )) ) by A34,A35,A52,A57,RINFSUP2:15;
hence ( lim I ) = ( Integral (M,f) ) by A37,A50,A60,MESFUN6C:def 3;
end;
