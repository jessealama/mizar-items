environ
vocabularies NUMBERS,XBOOLE_0,FINSEQ_1,ORDINAL4,RELAT_1,CARD_1,SUBSET_1,XXREAL_0,RFINSEQ,ARYTM_1,ARYTM_3,JORDAN3,FUNCT_1,FINSEQ_5,NAT_1,PARTFUN1,FINSEQ_8,FILEREC1;
notations XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,RELAT_1,RFINSEQ,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,FINSEQ_4,FINSEQ_6,FINSEQ_5,FINSEQ_8,CKB21,CKB22;
definitions CKB22;
theorems NAT_1,NAT_2,REVROT_1,JORDAN4,FINSEQ_1,FINSEQ_2,FINSEQ_5,FINSEQ_6,RFINSEQ,FUNCT_2,FINSEQ_8,GENEALG1,TOPREAL3,CALCUL_1,FINSEQ_3,XREAL_1,CARD_1,XXREAL_0,PARTFUN1,XREAL_0,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XXREAL_0,XREAL_0,FINSEQ_1,FINSEQ_5,ORDINAL1,CARD_1;
constructors XXREAL_0,NAT_1,PARTFUN1,RFINSEQ,NAT_D,FINSEQ_4,FINSEQ_5,CQC_LANG,FINSEQ_6,FINSEQ_8,REAL_1,RELSET_1,CKB22;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th29: (for D being non empty set holds (for CR,r being (File of D) holds (r is_terminated_by CR implies r = ( addcr (r,CR) ))))
proof
let D being non empty set;
let CR being (File of D),r being (File of D);
assume A1: r is_terminated_by CR;
per cases ;
suppose ( len CR ) <= ( 0 );

then ( len CR ) = ( 0 ) by NAT_1:2;
then ( len ( Rev CR ) ) = ( 0 ) by FINSEQ_5:def 3;
then ( Rev CR ) is_preposition_of ( Rev r ) by FINSEQ_8:def 8;
then CR is_postposition_of r by FINSEQ_8:def 9;
hence thesis by CKB29:1;
end;
suppose A2: ( len CR ) > ( 0 );

then ( 0 ) < ( len r ) by A1,FINSEQ_8:def 12;
then ( ( 0 ) + 1 ) <= ( len r ) by NAT_1:13;
then A3: 1 <= ( len ( Rev r ) ) by FINSEQ_5:def 3;
A4: ( ( 0 ) + 1 ) <= ( len CR ) by A2,NAT_1:13;
then ( ( len CR ) - 1 ) >= ( 0 ) by XREAL_1:48;
then A5: ( ( len CR ) -' 1 ) = ( ( len CR ) - 1 ) by XREAL_0:def 2;
A6: ( len r ) >= ( len CR ) by A1,A2,FINSEQ_8:def 12;
then ( ( len r ) + 1 ) > ( len CR ) by NAT_1:13;
then A7: ( ( ( len r ) + 1 ) - ( len CR ) ) > ( 0 ) by XREAL_1:50;
then A8: ( ( ( len r ) + 1 ) -' ( len CR ) ) = ( ( ( len r ) + 1 ) - ( len CR ) ) by XREAL_0:def 2;
A9: ( ( len r ) - ( len CR ) ) >= ( 0 ) by A6,XREAL_1:48;
then A10: ( ( len r ) - ( len CR ) ) = ( ( len r ) -' ( len CR ) ) by XREAL_0:def 2;
then A11: (( len ( r /^ ( ( len r ) -' ( len CR ) ) ) ) = ( ( len r ) -' ( ( len r ) -' ( len CR ) ) ) & ( ( len r ) - ( ( len r ) -' ( len CR ) ) ) = ( ( len r ) -' ( ( len r ) -' ( len CR ) ) )) by A2,RFINSEQ:29,XREAL_0:def 2;
( instr (1,r,CR) ) = ( ( ( len r ) + 1 ) -' ( len CR ) ) by A1,A2,FINSEQ_8:def 12;
then CR is_preposition_of ( r /^ ( ( ( ( len r ) + 1 ) -' ( len CR ) ) -' 1 ) ) by A7,A8,FINSEQ_8:def 10;
then ( mid (( r /^ ( ( ( ( len r ) + 1 ) -' ( len CR ) ) -' 1 ) ),1,( len CR )) ) = CR by A2,FINSEQ_8:def 8;
then ( ( ( r /^ ( ( ( ( len r ) + 1 ) -' ( len CR ) ) -' 1 ) ) /^ ( 1 -' 1 ) ) | ( ( ( len CR ) -' 1 ) + 1 ) ) = CR by A4,FINSEQ_6:def 3;
then A12: ( ( ( r /^ ( ( ( ( len r ) + 1 ) -' ( len CR ) ) -' 1 ) ) /^ ( 0 ) ) | ( ( ( len CR ) -' 1 ) + 1 ) ) = CR by NAT_2:8;
( ( len r ) - ( ( len r ) -' ( len CR ) ) ) >= ( 0 ) by NAT_D:35,XREAL_1:48;
then A13: ( ( len r ) -' ( ( len r ) -' ( len CR ) ) ) = ( ( len r ) - ( ( len r ) -' ( len CR ) ) ) by XREAL_0:def 2
.= ( ( len r ) - ( ( len r ) - ( len CR ) ) ) by A9,XREAL_0:def 2
.= ( len CR );
( ( ( len r ) + 1 ) - ( len CR ) ) >= ( ( 0 ) + 1 ) by A7,A8,NAT_1:13;
then ( ( ( ( len r ) + 1 ) -' ( len CR ) ) - 1 ) >= ( 0 ) by A8,XREAL_1:48;
then ( ( ( ( len r ) + 1 ) -' ( len CR ) ) -' 1 ) = ( ( len r ) - ( len CR ) ) by A8,XREAL_0:def 2;
then A14: ( ( r /^ ( ( len r ) -' ( len CR ) ) ) | ( len CR ) ) = CR by A5,A10,A12,FINSEQ_5:28;
( mid (( Rev r ),1,( len CR )) ) = ( ( ( Rev r ) /^ ( 1 -' 1 ) ) | ( ( ( len CR ) -' 1 ) + 1 ) ) by A4,FINSEQ_6:def 3
.= ( ( ( Rev r ) /^ ( 0 ) ) | ( len CR ) ) by A5,NAT_2:8
.= ( ( Rev r ) | ( ( len r ) -' ( ( len r ) -' ( len CR ) ) ) ) by A13,FINSEQ_5:28
.= ( Rev ( r /^ ( ( len r ) -' ( len CR ) ) ) ) by CKB18:1,NAT_D:35
.= ( Rev CR ) by A10,A14,A11,FINSEQ_1:58;
then ( mid (( Rev r ),1,( len ( Rev CR ) )) ) = ( Rev CR ) by FINSEQ_5:def 3;
then ( Rev CR ) is_preposition_of ( Rev r ) by A3,FINSEQ_8:def 8;
then CR is_postposition_of r by FINSEQ_8:def 9;
hence thesis by CKB29:1;
end;
end;
