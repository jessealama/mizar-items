environ
vocabularies NUMBERS,XBOOLE_0,FINSEQ_1,ORDINAL4,RELAT_1,CARD_1,SUBSET_1,XXREAL_0,RFINSEQ,ARYTM_1,ARYTM_3,JORDAN3,FUNCT_1,FINSEQ_5,NAT_1,PARTFUN1,FINSEQ_8,FILEREC1;
notations XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,RELAT_1,RFINSEQ,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,FINSEQ_4,FINSEQ_6,FINSEQ_5,FINSEQ_8,CKB21,CKB22;
definitions CKB22;
theorems NAT_1,NAT_2,REVROT_1,JORDAN4,FINSEQ_1,FINSEQ_2,FINSEQ_5,FINSEQ_6,RFINSEQ,FUNCT_2,FINSEQ_8,GENEALG1,TOPREAL3,CALCUL_1,FINSEQ_3,XREAL_1,CARD_1,XXREAL_0,PARTFUN1,XREAL_0,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XXREAL_0,XREAL_0,FINSEQ_1,FINSEQ_5,ORDINAL1,CARD_1;
constructors XXREAL_0,NAT_1,PARTFUN1,RFINSEQ,NAT_D,FINSEQ_4,FINSEQ_5,CQC_LANG,FINSEQ_6,FINSEQ_8,REAL_1,RELSET_1,CKB22;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th40: (for D being non empty set holds (for f,CR being (File of D) holds CR is_substring_of ( ovlcon (f,CR) ),1))
proof
let D being non empty set;
let f being (File of D),CR being (File of D);
per cases ;
suppose A1: ( len CR ) > ( 0 );

set i3 = ( ( len f ) -' ( len ( ovlpart (f,CR) ) ) );
A2: ( len CR ) >= ( ( 0 ) + 1 ) by A1,NAT_1:13;
then A3: ( i3 + 1 ) <= ( i3 + ( len CR ) ) by XREAL_1:6;
then A4: ( ( ( i3 + ( len CR ) ) -' ( i3 + 1 ) ) + 1 ) = ( ( ( i3 + ( len CR ) ) - ( i3 + 1 ) ) + 1 ) by XREAL_1:233
.= ( len CR );
( 1 - ( len ( ovlpart (f,CR) ) ) ) <= ( ( len CR ) - ( len ( ovlpart (f,CR) ) ) ) by A2,XREAL_1:9;
then ( ( 1 - ( len ( ovlpart (f,CR) ) ) ) + ( len f ) ) <= ( ( ( len CR ) - ( len ( ovlpart (f,CR) ) ) ) + ( len f ) ) by XREAL_1:7;
then A5: (( ( len f ) - ( len ( ovlpart (f,CR) ) ) ) >= ( 0 ) & ( ( ( len f ) - ( len ( ovlpart (f,CR) ) ) ) + 1 ) <= ( ( len f ) + ( ( len CR ) - ( len ( ovlpart (f,CR) ) ) ) )) by FINSEQ_8:10,XREAL_1:48;
( len ( ovlpart (f,CR) ) ) <= ( len CR ) by FINSEQ_8:def 2;
then A6: ( ( len CR ) - ( len ( ovlpart (f,CR) ) ) ) >= ( 0 ) by XREAL_1:48;
set i4 = ( ( ( len f ) -' ( len ( ovlpart (f,CR) ) ) ) + 1 );
A7: i3 <= ( len ( f | i3 ) ) by FINSEQ_1:59,NAT_D:35;
A8: ( ( f | i3 ) /^ i3 ) = ( ( f /^ i3 ) | ( i3 -' i3 ) ) by FINSEQ_5:80
.= ( ( f /^ i3 ) | ( 0 ) ) by XREAL_1:232
.= ( {} );
( len ( CR /^ ( len ( ovlpart (f,CR) ) ) ) ) = ( ( len CR ) -' ( len ( ovlpart (f,CR) ) ) ) by RFINSEQ:29
.= ( ( len CR ) - ( len ( ovlpart (f,CR) ) ) ) by A6,XREAL_0:def 2;
then (( ovlcon (f,CR) ) = ( f ^ ( CR /^ ( len ( ovlpart (f,CR) ) ) ) ) & ( ( ( len f ) -' ( len ( ovlpart (f,CR) ) ) ) + 1 ) <= ( ( len f ) + ( len ( CR /^ ( len ( ovlpart (f,CR) ) ) ) ) )) by A5,FINSEQ_8:def 3,XREAL_0:def 2;
then A9: (1 <= i4 & i4 <= ( len ( ovlcon (f,CR) ) )) by FINSEQ_1:22,NAT_1:11;
( mid (( ovlcon (f,CR) ),i4,( ( i4 -' 1 ) + ( len CR ) )) ) = ( mid (( ( f | i3 ) ^ CR ),i4,( ( i4 -' 1 ) + ( len CR ) )) ) by FINSEQ_8:11
.= ( mid (( ( f | i3 ) ^ CR ),( i3 + 1 ),( i3 + ( len CR ) )) ) by NAT_D:34
.= ( ( ( ( f | i3 ) ^ CR ) /^ ( ( i3 + 1 ) -' 1 ) ) | ( ( ( i3 + ( len CR ) ) -' ( i3 + 1 ) ) + 1 ) ) by A3,FINSEQ_6:def 3
.= ( ( ( ( f | i3 ) ^ CR ) /^ i3 ) | ( len CR ) ) by A4,NAT_D:34
.= ( ( ( ( f | i3 ) /^ i3 ) ^ CR ) | ( len CR ) ) by A7,GENEALG1:1
.= ( CR | ( len CR ) ) by A8,FINSEQ_1:34
.= CR by CKB2:1;
hence thesis by A9,FINSEQ_8:def 7;
end;
suppose ( len CR ) <= ( 0 );

hence thesis by FINSEQ_8:def 7;
end;
end;
