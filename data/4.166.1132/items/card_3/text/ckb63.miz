environ
vocabularies ORDINAL1,CARD_1,SUBSET_1,NUMBERS,FUNCT_1,RELAT_1,FUNCOP_1,XBOOLE_0,ZFMISC_1,TARSKI,FUNCT_2,MCART_1,CARD_2,ORDINAL2,FINSET_1,ARYTM_3,ARYTM_1,CLASSES1,NAT_1,WELLORD1,WELLORD2,RELAT_2,SETFAM_1,PARTFUN1,FUNCT_4,FINSUB_1,CARD_3,PBOOLE;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,SETFAM_1,ORDINAL1,ORDINAL2,WELLORD1,MCART_1,WELLORD2,FUNCOP_1,FUNCT_4,FINSET_1,FINSUB_1,CLASSES1,PBOOLE,CKB1,CKB4,CKB9,CKB10,CKB11,CKB12,CKB24,CKB43,CKB44;
definitions TARSKI,FUNCT_1,RELAT_2,WELLORD1,WELLORD2,XBOOLE_0,FUNCOP_1,RELAT_1,ORDINAL1,PARTFUN1,CKB1,CKB9,CKB10,CKB11,CKB12,CKB24,CKB43,CKB44;
theorems TARSKI,ZFMISC_1,FUNCT_1,FUNCT_2,MCART_1,ORDINAL1,RELAT_1,RELAT_2,WELLORD1,WELLORD2,CARD_1,FUNCOP_1,FUNCT_5,CLASSES1,GRFUNC_1,XBOOLE_0,XBOOLE_1,SETFAM_1,FUNCT_4,PARTFUN1,RELSET_1,SUBSET_1,ORDINAL2,ORDINAL3,ORDERS_1,FINSET_1,CKB1,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB58,CKB59,CKB60,CKB61,CKB62;
schemes FUNCT_1,PARTFUN1,ORDINAL1,FUNCT_5,RELAT_1,XBOOLE_0,CLASSES1,ORDINAL2,CKB8,CKB57;
registrations XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,FUNCT_4,FINSET_1,CARD_1,FINSUB_1,PBOOLE,RELSET_1,CKB2,CKB3,CKB5,CKB6,CKB7;
constructors SETFAM_1,RELAT_2,WELLORD1,PARTFUN1,WELLORD2,FUNCOP_1,FUNCT_4,CLASSES1,ORDINAL2,ORDINAL3,FINSET_1,CARD_1,FINSUB_1,RELSET_1,FUNCT_1,PBOOLE,CKB1,CKB9,CKB10,CKB11,CKB12,CKB24,CKB43,CKB44;
requirements NUMERALS,BOOLE,SUBSET;
begin
reserve A for Ordinal;
reserve M for Cardinal;
reserve x for set;
reserve y for set;
reserve z for set;
reserve X for set;
reserve Y for set;
reserve Z for set;
reserve Z1 for set;
reserve Z2 for set;
reserve f for Function;
reserve g for Function;
reserve Q for Relation;
reserve R for Relation;
defpred P[ set ]
 means
$1 is Function;
theorem
(((for Z holds (Z in X implies ( card Z ) in M)) & X is  c=-linear) implies ( card ( union X ) ) c= M)
proof
assume that
A1: (Z in X implies ( card Z ) in M)
and
A2: X is  c=-linear;
consider XX being set such that A3: XX c= X and A4: ( union XX ) = ( union X ) and A5: (for Z holds ((Z c= XX & Z <> ( {} )) implies (ex Z1 st (Z1 in Z & (for Z2 holds (Z2 in Z implies Z1 c= Z2)))))) by A2,CKB62:1;
A6:now
let Z1;
let Z2;
assume that
A7: Z1 in XX
and
A8: Z2 in XX;
Z1,Z2 are_c=-comparable  by A2,A3,A7,A8,ORDINAL1:def 8;
hence (Z1 c= Z2 or Z2 c= Z1) by XBOOLE_0:def 9;
end;
consider R such that A9: R well_orders ( union X ) by WELLORD2:17;
A10: R is_reflexive_in ( union X ) by A9,WELLORD1:def 5;
A11: R is_transitive_in ( union X ) by A9,WELLORD1:def 5;
A12: R is_antisymmetric_in ( union X ) by A9,WELLORD1:def 5;
A13: R is_connected_in ( union X ) by A9,WELLORD1:def 5;
defpred P[ set,set ]
 means
((ex Z1 st ((Z1 in XX & $1 in Z1) & (not $2 in Z1))) or ((for Z1 holds (Z1 in XX implies ($1 in Z1 iff $2 in Z1))) & [ $1,$2 ] in R));
consider Q such that A14: ([ x,y ] in Q iff ((x in ( union X ) & y in ( union X )) & P[ x,y ])) from RELAT_1:sch 1;
A15: ( field Q ) = ( union X )
proof
thus ( field Q ) c= ( union X )
proof
let x;
assume x in ( field Q );
then (ex y st ([ x,y ] in Q or [ y,x ] in Q)) by CKB58:1;
hence thesis by A14;
end;

let x;
assume A16: x in ( union X );
then A17: [ x,x ] in R by A10,RELAT_2:def 1;
(for Z1 holds (Z1 in XX implies (x in Z1 iff x in Z1)));
then [ x,x ] in Q by A14,A16,A17;
hence thesis by RELAT_1:15;
end;
A18: Q is  reflexive
proof
let x;
assume A19: x in ( field Q );
then A20: [ x,x ] in R by A10,A15,RELAT_2:def 1;
(for Z1 holds (Z1 in XX implies (x in Z1 iff x in Z1)));
hence thesis by A14,A15,A19,A20;
end;
A21: Q is  transitive
proof
let x;
let y;
let z;
assume that
A22: x in ( field Q )
and
A23: y in ( field Q )
and
A24: z in ( field Q )
and
A25: [ x,y ] in Q
and
A26: [ y,z ] in Q;
A27:now
given Z1 such that
A28: Z1 in XX
and
A29: x in Z1
and
A30: (not y in Z1);

given Z2 such that
A31: Z2 in XX
and
A32: y in Z2
and
A33: (not z in Z2);

(Z1 c= Z2 or Z2 c= Z1) by A6,A28,A31;
hence thesis by A14,A15,A22,A24,A29,A30,A31,A32,A33;
end;
A34:now
given Z1 such that
A35: Z1 in XX
and
A36: x in Z1
and
A37: (not y in Z1);

assume that
A38: (for Z1 holds (Z1 in XX implies (y in Z1 iff z in Z1)))
and
[ y,z ] in R;
(not z in Z1) by A35,A37,A38;
hence thesis by A14,A15,A22,A24,A35,A36;
end;
A39:now
given Z1 such that
A40: Z1 in XX
and
A41: y in Z1
and
A42: (not z in Z1);

assume that
A43: (for Z1 holds (Z1 in XX implies (x in Z1 iff y in Z1)))
and
[ x,y ] in R;
x in Z1 by A40,A41,A43;
hence thesis by A14,A15,A22,A24,A40,A42;
end;
now
assume that
A44: (for Z1 holds (Z1 in XX implies (x in Z1 iff y in Z1)))
and
A45: [ x,y ] in R
and
A46: (for Z1 holds (Z1 in XX implies (y in Z1 iff z in Z1)))
and
A47: [ y,z ] in R;
A48: [ x,z ] in R by A11,A15,A22,A23,A24,A45,A47,RELAT_2:def 8;
now
let Z;
assume A49: Z in XX;
then (x in Z iff y in Z) by A44;
hence (x in Z iff z in Z) by A46,A49;
end;
hence thesis by A14,A15,A22,A24,A48;
end;
hence thesis by A14,A25,A26,A27,A34,A39;
end;
A50: Q is  antisymmetric
proof
let x;
let y;
assume that
A51: x in ( field Q )
and
A52: y in ( field Q )
and
A53: [ x,y ] in Q
and
A54: [ y,x ] in Q;
A55: ((ex Z1 st ((Z1 in XX & x in Z1) & (not y in Z1))) or ((for Z1 holds (Z1 in XX implies (x in Z1 iff y in Z1))) & [ x,y ] in R)) by A14,A53;
A56: ((ex Z1 st ((Z1 in XX & y in Z1) & (not x in Z1))) or ((for Z1 holds (Z1 in XX implies (y in Z1 iff x in Z1))) & [ y,x ] in R)) by A14,A54;
now
given Z1 such that
A57: Z1 in XX
and
A58: x in Z1
and
A59: (not y in Z1);

given Z2 such that
A60: Z2 in XX
and
A61: y in Z2
and
A62: (not x in Z2);

(Z1 c= Z2 or Z2 c= Z1) by A6,A57,A60;
hence thesis by A58,A59,A61,A62;
end;
hence thesis by A12,A15,A51,A52,A55,A56,RELAT_2:def 4;
end;
A63: Q is  connected
proof
let x;
let y;
assume that
A64: x in ( field Q )
and
A65: y in ( field Q )
and
A66: x <> y;
now
assume A67: (for Z holds (Z in XX implies (x in Z iff y in Z)));
A68: ([ x,y ] in R or [ y,x ] in R) by A13,A15,A64,A65,A66,RELAT_2:def 6;
(for Z holds (Z in XX implies (y in Z iff x in Z))) by A67;
hence thesis by A14,A15,A64,A65,A67,A68;
end;
hence thesis by A14,A15,A64,A65;
end;
Q is  well_founded
proof
let Y;
assume that
A69: Y c= ( field Q )
and
A70: Y <> ( {} );
defpred P[ set ]
 means
( $1 /\ Y ) <> ( {} );
consider Z such that A71: (x in Z iff (x in XX & P[ x ])) from XBOOLE_0:sch 1;
A72: Z c= XX
proof
let x;
thus thesis by A71;
end;
set x = the (Element of Y);
x in ( union XX ) by A4,A15,A69,A70,TARSKI:def 3;
then consider Z1 such that A73: x in Z1 and A74: Z1 in XX by TARSKI:def 4;
( Z1 /\ Y ) <> ( {} ) by A70,A73,XBOOLE_0:def 4;
then Z <> ( {} ) by A71,A74;
then consider Z1 such that A75: Z1 in Z and A76: (for Z2 holds (Z2 in Z implies Z1 c= Z2)) by A5,A72;
A77: Z1 in XX by A71,A75;
A78: ( Z1 /\ Y ) c= Z1 by XBOOLE_1:17;
A79: Z1 c= ( union X ) by A3,A77,ZFMISC_1:74;
( Z1 /\ Y ) <> ( {} ) by A71,A75;
then consider x such that A80: x in ( Z1 /\ Y ) and A81: (for y holds (y in ( Z1 /\ Y ) implies [ x,y ] in R)) by A9,A78,A79,WELLORD1:5,XBOOLE_1:1;
take x;
thus x in Y by A80,XBOOLE_0:def 4;
assume A82: ( ( Q -Seg x ) /\ Y ) <> ( {} );
set y = the (Element of ( ( Q -Seg x ) /\ Y ));
A83: x in Z1 by A80,XBOOLE_0:def 4;
A84: y in ( Q -Seg x ) by A82,XBOOLE_0:def 4;
A85: y in Y by A82,XBOOLE_0:def 4;
A86: y <> x by A84,WELLORD1:1;
A87: [ y,x ] in Q by A84,WELLORD1:1;
A88:now
given Z2 such that
A89: Z2 in XX
and
A90: y in Z2
and
A91: (not x in Z2);

( Z2 /\ Y ) <> ( {} ) by A85,A90,XBOOLE_0:def 4;
then Z2 in Z by A71,A89;
then Z1 c= Z2 by A76;
hence contradiction by A83,A91;
end;
then A92: y in Z1 by A14,A77,A83,A87;
A93: [ y,x ] in R by A14,A87,A88;
y in ( Z1 /\ Y ) by A85,A92,XBOOLE_0:def 4;
then A94: [ x,y ] in R by A81;
A95: x in ( union X ) by A14,A87;
y in ( union X ) by A14,A87;
hence contradiction by A12,A86,A93,A94,A95,RELAT_2:def 4;
end;
then Q is  well-ordering by A18,A21,A50,A63,WELLORD1:def 4;
then Q,( RelIncl ( order_type_of Q ) ) are_isomorphic  by WELLORD2:def 2;
then ( RelIncl ( order_type_of Q ) ),Q are_isomorphic  by WELLORD1:40;
then consider g such that A96: g is_isomorphism_of ( RelIncl ( order_type_of Q ) ),Q by WELLORD1:def 8;
A97: ( field ( RelIncl ( order_type_of Q ) ) ) = ( order_type_of Q ) by WELLORD2:def 1;
then A98: ( dom g ) = ( order_type_of Q ) by A96,WELLORD1:def 7;
A99: ( rng g ) = ( union X ) by A15,A96,WELLORD1:def 7;
A100: g is  one-to-one by A96,WELLORD1:def 7;
A101: (for Z holds (for x holds ((Z in XX & x in Z) implies ( Q -Seg x ) c= Z)))
proof
let Z;
let x;
assume that
A102: Z in XX
and
A103: x in Z;
let y;
assume y in ( Q -Seg x );
then A104: [ y,x ] in Q by WELLORD1:1;
now
given Z1 such that
A105: Z1 in XX
and
A106: y in Z1
and
A107: (not x in Z1);

(Z1 c= Z or Z c= Z1) by A6,A102,A105;
hence thesis by A103,A106,A107;
end;
hence thesis by A14,A102,A103,A104;
end;
A108: (for A holds (A in ( order_type_of Q ) implies ( card A ) = ( card ( Q -Seg ( g . A ) ) )))
proof
let A;
assume that
A109: A in ( order_type_of Q );
A,( Q -Seg ( g . A ) ) are_equipotent 
proof
take f = ( g | A );
A c= ( dom g ) by A98,A109,ORDINAL1:def 2;
hence A110: (f is  one-to-one & ( dom f ) = A) by A100,FUNCT_1:52,RELAT_1:62;
thus ( rng f ) c= ( Q -Seg ( g . A ) )
proof
let x;
assume x in ( rng f );
then consider y such that A111: y in ( dom f ) and A112: x = ( f . y ) by FUNCT_1:def 3;
reconsider B = y as Ordinal by A110,A111;
A113: B in ( order_type_of Q ) by A109,A110,A111,ORDINAL1:10;
B c= A by A110,A111,ORDINAL1:def 2;
then A114: [ B,A ] in ( RelIncl ( order_type_of Q ) ) by A109,A113,WELLORD2:def 1;
A115: x = ( g . B ) by A111,A112,FUNCT_1:47;
A116: A <> B by A110,A111;
A117: [ x,( g . A ) ] in Q by A96,A114,A115,WELLORD1:def 7;
x <> ( g . A ) by A98,A100,A109,A113,A115,A116,FUNCT_1:def 4;
hence thesis by A117,WELLORD1:1;
end;

let x;
assume A118: x in ( Q -Seg ( g . A ) );
then A119: [ x,( g . A ) ] in Q by WELLORD1:1;
then x in ( union X ) by A14;
then consider y such that A120: y in ( dom g ) and A121: x = ( g . y ) by A99,FUNCT_1:def 3;
reconsider B = y as Ordinal by A98,A120;
[ B,A ] in ( RelIncl ( order_type_of Q ) ) by A96,A97,A98,A109,A119,A120,A121,WELLORD1:def 7;
then A122: B c= A by A98,A109,A120,WELLORD2:def 1;
B <> A by A118,A121,WELLORD1:1;
then B c< A by A122,XBOOLE_0:def 8;
hence thesis by A120,A121,FUNCT_1:50,ORDINAL1:11;
end;
hence thesis by CARD_1:5;
end;
A123: ( order_type_of Q ) c= M
proof
let x being Ordinal;
assume A124: x in ( order_type_of Q );
reconsider A = x as Ordinal;
( g . x ) in ( union X ) by A98,A99,A124,FUNCT_1:def 3;
then consider Z such that A125: ( g . x ) in Z and A126: Z in XX by A4,TARSKI:def 4;
A127: ( card ( Q -Seg ( g . x ) ) ) c= ( card Z ) by A101,A125,A126,CARD_1:11;
A128: ( card ( Q -Seg ( g . x ) ) ) = ( card A ) by A108,A124;
( card ( Q -Seg ( g . x ) ) ) in M by A1,A3,A126,A127,ORDINAL1:12;
hence thesis by A128,CKB61:1;
end;
( order_type_of Q ),( union X ) are_equipotent  by A98,A99,A100,WELLORD2:def 4;
then A129: ( card ( order_type_of Q ) ) = ( card ( union X ) ) by CARD_1:5;
( card M ) = M by CARD_1:def 2;
hence thesis by A123,A129,CARD_1:11;
end;
