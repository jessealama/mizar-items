environ
vocabularies BINOP_1,VECTSP_1,XBOOLE_0,ALGSTR_0,SUBSET_1,MESFUNC1,RELAT_1,LATTICES,ARYTM_3,FUNCSDOM,VECTSP_2,REAL_1,SUPINF_2,CARD_1,STRUCT_0,RLVECT_1,ARYTM_1,GROUP_1,EQREL_1,TARSKI,SETFAM_1,MSSUBFAM,INT_2,GCD_1;
notations TARSKI,XBOOLE_0,SUBSET_1,REAL_1,NUMBERS,STRUCT_0,ALGSTR_0,RLVECT_1,GROUP_1,VECTSP_2,VECTSP_1,FUNCSDOM,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB33,CKB36,CKB39,CKB40,CKB44,CKB47,CKB49,CKB55,CKB56,CKB71,CKB73,CKB74,CKB76;
definitions VECTSP_1,VECTSP_2,XBOOLE_0,CKB8,CKB10,CKB11,CKB14,CKB33,CKB36,CKB39,CKB40,CKB44,CKB47,CKB49,CKB56,CKB71,CKB73,CKB76;
theorems TARSKI,WELLORD2,SUBSET_1,VECTSP_1,VECTSP_2,RLVECT_1,XBOOLE_0,XCMPLX_1,GROUP_1,STRUCT_0,CKB7,CKB8,CKB10,CKB11,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB35,CKB36,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB75,CKB76;
schemes SUBSET_1;
registrations XBOOLE_0,SUBSET_1,MEMBERED,STRUCT_0,VECTSP_1,MONOID_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB34,CKB37,CKB50,CKB51,CKB52,CKB53,CKB54;
constructors BINOP_2,VECTSP_2,MONOID_0,CKB8,CKB9,CKB10,CKB11,CKB13,CKB14,CKB33,CKB36,CKB39,CKB40,CKB44,CKB47,CKB49,CKB56,CKB71,CKB73,CKB74,CKB76;
requirements SUBSET,BOOLE;
begin
reserve R for gcdDomain;
definition
let R being gcdDomain;
let Amp being (AmpleSet of R);
let r1 being (Element of R);
let r2 being (Element of R);
let s1 being (Element of R);
let s2 being (Element of R);
assume that
A1: r1,r2 are_co-prime 
and
A2: s1,s2 are_co-prime 
and
A3: r2 = ( NF (r2,Amp) )
and
A4: s2 = ( NF (s2,Amp) );
func add1 (r1,r2,s1,s2,Amp) -> (Element of R) equals 
:Def16: s1 if r1 = ( 0. R ),r1 if s1 = ( 0. R ),( ( r1 * s2 ) + ( r2 * s1 ) ) if ( gcd (r2,s2,Amp) ) = ( 1. R ),( 0. R ) if ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) = ( 0. R ) otherwise ( ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) / ( gcd (( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ),( gcd (r2,s2,Amp) ),Amp) ) );
coherence;
consistency
proof
A5: ( gcd (s1,s2,Amp) ) = ( 1. R ) by A2,CKB75:1;
A6: ((s1 = ( 0. R ) & ( gcd (r2,s2,Amp) ) = ( 1. R )) implies (for z being (Element of R) holds (z = r1 iff z = ( ( r1 * s2 ) + ( r2 * s1 ) ))))
proof
assume that
A7: s1 = ( 0. R )
and
( gcd (r2,s2,Amp) ) = ( 1. R );
A8: s2 = ( 1. R ) by A4,A5,A7,CKB59:1;
let z being (Element of R);
( ( r1 * s2 ) + ( r2 * s1 ) ) = ( ( r1 * s2 ) + ( 0. R ) ) by A7,VECTSP_1:7
.= ( r1 * ( 1. R ) ) by A8,RLVECT_1:4
.= r1 by VECTSP_1:def 4;
hence thesis;
end;
A9: ((s1 = ( 0. R ) & ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) = ( 0. R )) implies (for z being (Element of R) holds (z = r1 iff z = ( 0. R ))))
proof
A10: ( 1. R ) <> ( 0. R );
assume that
A11: s1 = ( 0. R )
and
A12: ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) = ( 0. R );
let z being (Element of R);
A13: s2 = ( 1. R ) by A4,A5,A11,CKB59:1;
then A14: ( gcd (r2,s2,Amp) ) = ( 1. R ) by CKB61:1;
( 0. R ) = ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( 0. R ) ) by A11,A12,VECTSP_1:7
.= ( r1 * ( ( 1. R ) / ( gcd (r2,s2,Amp) ) ) ) by A13,RLVECT_1:4
.= ( r1 * ( 1. R ) ) by A14,A10,CKB22:1
.= r1 by VECTSP_1:def 4;
hence thesis;
end;
A15: ( gcd (r1,r2,Amp) ) = ( 1. R ) by A1,CKB75:1;
A16: ((r1 = ( 0. R ) & ( gcd (r2,s2,Amp) ) = ( 1. R )) implies (for z being (Element of R) holds (z = s1 iff z = ( ( r1 * s2 ) + ( r2 * s1 ) ))))
proof
assume that
A17: r1 = ( 0. R )
and
( gcd (r2,s2,Amp) ) = ( 1. R );
A18: r2 = ( 1. R ) by A3,A15,A17,CKB59:1;
let z being (Element of R);
( ( r1 * s2 ) + ( r2 * s1 ) ) = ( ( 0. R ) + ( r2 * s1 ) ) by A17,VECTSP_1:7
.= ( ( 1. R ) * s1 ) by A18,RLVECT_1:4
.= s1 by VECTSP_1:def 8;
hence thesis;
end;
A19: ((r1 = ( 0. R ) & ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) = ( 0. R )) implies (for z being (Element of R) holds (z = s1 iff z = ( 0. R ))))
proof
A20: ( 1. R ) <> ( 0. R );
assume that
A21: r1 = ( 0. R )
and
A22: ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) = ( 0. R );
let z being (Element of R);
A23: r2 = ( 1. R ) by A3,A15,A21,CKB59:1;
then A24: ( gcd (r2,s2,Amp) ) = ( 1. R ) by CKB61:1;
( 0. R ) = ( ( 0. R ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) by A21,A22,VECTSP_1:7
.= ( s1 * ( ( 1. R ) / ( gcd (r2,s2,Amp) ) ) ) by A23,RLVECT_1:4
.= ( s1 * ( 1. R ) ) by A24,A20,CKB22:1
.= s1 by VECTSP_1:def 4;
hence thesis;
end;
((( gcd (r2,s2,Amp) ) = ( 1. R ) & ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) = ( 0. R )) implies (for z being (Element of R) holds (z = ( ( r1 * s2 ) + ( r2 * s1 ) ) iff z = ( 0. R ))))
proof
assume A25: (( gcd (r2,s2,Amp) ) = ( 1. R ) & ( ( r1 * ( s2 / ( gcd (r2,s2,Amp) ) ) ) + ( s1 * ( r2 / ( gcd (r2,s2,Amp) ) ) ) ) = ( 0. R ));
let z being (Element of R);
( 0. R ) = ( ( r1 * s2 ) + ( s1 * ( r2 / ( 1. R ) ) ) ) by A25,CKB23:1
.= ( ( r1 * s2 ) + ( s1 * r2 ) ) by CKB23:1;
hence thesis;
end;
hence thesis by A16,A19,A6,A9;
end;
end;
