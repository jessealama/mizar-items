environ
vocabularies XBOOLE_0,STRUCT_0,SUBSET_1,ZFMISC_1,SUPINF_2,ALGSTR_0,MESFUNC1,MCART_1,VECTSP_2,RELAT_1,ARYTM_3,BINOP_1,RLVECT_1,LATTICES,SETFAM_1,FUNCSDOM,GROUP_1,ARYTM_1,FUNCT_1,VECTSP_1,MSSUBFAM,TARSKI,QUOFIELD,FUNCT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,MCART_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,SETFAM_1,BINOP_1,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,GROUP_1,VECTSP_2,VECTSP_1,TOPS_2,FUNCSDOM,GRCAT_1,GCD_1,GROUP_6,CKB1,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB17,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB40,CKB41,CKB42,CKB43,CKB54,CKB83,CKB86,CKB89,CKB90,CKB91,CKB92,CKB102,CKB103,CKB104;
definitions VECTSP_1,VECTSP_2,STRUCT_0,XBOOLE_0,ALGSTR_0,CKB1,CKB8,CKB9,CKB14,CKB17,CKB22,CKB23,CKB27,CKB28,CKB29,CKB30,CKB40,CKB41,CKB42,CKB43,CKB54,CKB83,CKB86,CKB89,CKB90,CKB92,CKB102,CKB103,CKB104;
theorems TARSKI,MCART_1,VECTSP_1,VECTSP_2,SUBSET_1,BINOP_1,RLVECT_1,FUNCT_1,FUNCT_2,GCD_1,RELAT_1,RELSET_1,GRCAT_1,TOPS_2,XBOOLE_0,GROUP_1,GROUP_6,STRUCT_0,CKB1,CKB2,CKB4,CKB5,CKB8,CKB9,CKB10,CKB11,CKB14,CKB15,CKB17,CKB18,CKB20,CKB21,CKB22,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB64,CKB65,CKB66,CKB68,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB80,CKB83,CKB84,CKB85,CKB86,CKB89,CKB90,CKB92,CKB95,CKB96,CKB97,CKB98,CKB99,CKB100,CKB102,CKB103,CKB104;
schemes SUBSET_1,BINOP_1,FUNCT_2;
registrations SUBSET_1,RELSET_1,FUNCT_2,STRUCT_0,VECTSP_1,ALGSTR_1,GCD_1,CKB3,CKB16,CKB19,CKB55,CKB63,CKB67,CKB69,CKB79,CKB81,CKB82,CKB87,CKB88,CKB93,CKB94,CKB101;
constructors PARTFUN1,DOMAIN_1,TOPS_2,GRCAT_1,GROUP_6,GCD_1,ALGSTR_1,RELSET_1,CKB1,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB17,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB40,CKB41,CKB42,CKB43,CKB54,CKB83,CKB86,CKB89,CKB90,CKB92,CKB102,CKB103,CKB104;
requirements SUBSET,BOOLE;
begin
definition
let I being non degenerated  domRing-like  commutative Ring;
func canHom I -> (Function of I,( the_Field_of_Quotients I ))
means
:Def28: (for x being (Element of I) holds ( it . x ) = ( QClass. ( quotient (x,( 1. I )) ) ));
existence
proof
set f = { [ x,( QClass. ( quotient (x,y) ) ) ] where x is (Element of I),y is (Element of I): y = ( 1. I ) };
A1: (for u being set holds (u in f implies (ex a,b being set st u = [ a,b ])))
proof
let u being set;
assume u in f;
then (ex a,b being (Element of I) st (u = [ a,( QClass. ( quotient (a,b) ) ) ] & b = ( 1. I )));
hence thesis;
end;
(for a,b1,b2 being set holds (([ a,b1 ] in f & [ a,b2 ] in f) implies b1 = b2))
proof
let a being set,b1 being set,b2 being set;
assume that
A2: [ a,b1 ] in f
and
A3: [ a,b2 ] in f;
consider x1 being (Element of I),x2 being (Element of I) such that A4: [ a,b1 ] = [ x1,( QClass. ( quotient (x1,x2) ) ) ] and A5: x2 = ( 1. I ) by A2;
A6: a = ( [ x1,( QClass. ( quotient (x1,x2) ) ) ] `1 ) by A4,MCART_1:def 1
.= x1 by MCART_1:def 1;
consider y1 being (Element of I),y2 being (Element of I) such that A7: [ a,b2 ] = [ y1,( QClass. ( quotient (y1,y2) ) ) ] and A8: y2 = ( 1. I ) by A3;
A9: a = ( [ y1,( QClass. ( quotient (y1,y2) ) ) ] `1 ) by A7,MCART_1:def 1
.= y1 by MCART_1:def 1;
reconsider a as (Element of I) by A6;
b1 = ( [ a,b2 ] `2 ) by A4,A5,A7,A8,A6,A9,MCART_1:def 2
.= b2 by MCART_1:def 2;
hence thesis;
end;
then reconsider f as Function by A1,FUNCT_1:def 1,RELAT_1:def 1;
A10: (for x being set holds (x in ( dom f ) implies x in (the carrier of I)))
proof
let x being set;
assume x in ( dom f );
then consider y being set such that A11: [ x,y ] in f by RELAT_1:def 4;
consider a being (Element of I),b being (Element of I) such that A12: [ x,y ] = [ a,( QClass. ( quotient (a,b) ) ) ] and b = ( 1. I ) by A11;
x = ( [ a,( QClass. ( quotient (a,b) ) ) ] `1 ) by A12,MCART_1:def 1
.= a by MCART_1:def 1;
hence thesis;
end;
(for x being set holds (x in (the carrier of I) implies x in ( dom f )))
proof
let x being set;
assume x in (the carrier of I);
then reconsider x as (Element of I);
[ x,( QClass. ( quotient (x,( 1. I )) ) ) ] in f;
hence thesis by RELAT_1:def 4;
end;
then A13: ( dom f ) = (the carrier of I) by A10,TARSKI:1;
(for y being set holds (y in ( rng f ) implies y in (the carrier of ( the_Field_of_Quotients I ))))
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A14: [ x,y ] in f by RELAT_1:def 5;
consider a being (Element of I),b being (Element of I) such that A15: [ x,y ] = [ a,( QClass. ( quotient (a,b) ) ) ] and b = ( 1. I ) by A14;
y = ( [ a,( QClass. ( quotient (a,b) ) ) ] `2 ) by A15,MCART_1:def 2
.= ( QClass. ( quotient (a,b) ) ) by MCART_1:def 2;
hence thesis;
end;
then ( rng f ) c= (the carrier of ( the_Field_of_Quotients I )) by TARSKI:def 3;
then reconsider f as (Function of I,( the_Field_of_Quotients I )) by A13,FUNCT_2:def 1,RELSET_1:4;
(for x being (Element of I) holds ( f . x ) = ( QClass. ( quotient (x,( 1. I )) ) ))
proof
let x being (Element of I);
[ x,( QClass. ( quotient (x,( 1. I )) ) ) ] in f;
hence thesis by A13,FUNCT_1:def 2;
end;
hence thesis;
end;
uniqueness
proof
let f1 being (Function of I,( the_Field_of_Quotients I )),f2 being (Function of I,( the_Field_of_Quotients I ));
assume A16: (for x being (Element of I) holds ( f1 . x ) = ( QClass. ( quotient (x,( 1. I )) ) ));
assume A17: (for x being (Element of I) holds ( f2 . x ) = ( QClass. ( quotient (x,( 1. I )) ) ));
A18: (for x being set holds (x in (the carrier of I) implies ( f1 . x ) = ( f2 . x )))
proof
let x being set;
assume x in (the carrier of I);
then reconsider x as (Element of I);
( f1 . x ) = ( QClass. ( quotient (x,( 1. I )) ) ) by A16
.= ( f2 . x ) by A17;
hence thesis;
end;
(( dom f1 ) = (the carrier of I) & ( dom f2 ) = (the carrier of I)) by FUNCT_2:def 1;
hence thesis by A18,FUNCT_1:2;
end;
end;
