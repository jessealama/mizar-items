environ
vocabularies NUMBERS,SUBSET_1,FUNCT_1,NAT_1,TARSKI,ORDINAL1,FINSET_1,RELAT_1,AFINSQ_1,ARYTM_1,ARYTM_3,FINSEQ_1,XXREAL_0,CARD_1,XBOOLE_0,ORDINAL4,CARD_3,FINSOP_1,FUNCOP_1,BINOP_2,FUNCT_2,XREAL_0,SEQ_1,SERIES_1,VALUED_1,SQUARE_1,COMPLEX1,PARTFUN3,ZFMISC_1,CARD_FIN,REALSET1,CATALAN1,REAL_1,ORDINAL2,SEQ_2,NEWTON,PREPOWER,FUNCT_3,CATALAN2;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,XREAL_0,NUMBERS,RELAT_1,FUNCT_1,REAL_1,NAT_1,FINSET_1,ORDINAL1,XXREAL_0,NAT_D,AFINSQ_1,SEQ_1,VALUED_1,RELSET_1,DOMAIN_1,FUNCT_2,FUNCOP_1,BINOP_1,BINOP_2,RECDEF_1,SERIES_1,PARTFUN3,AFINSQ_2,ZFMISC_1,SQUARE_1,NEWTON,STIRL2_1,CARD_FIN,CATALAN1,SEQ_2,PREPOWER,COMPLEX1,QUIN_1,CKB2,CKB26,CKB43,CKB44;
definitions TARSKI,XBOOLE_0,FUNCT_1,QUIN_1,SQUARE_1,CKB2,CKB26,CKB43;
theorems CATALAN1,AFINSQ_1,TARSKI,XBOOLE_0,ZFMISC_1,RELAT_1,XBOOLE_1,NAT_1,FUNCT_2,XCMPLX_1,CARD_2,INT_1,ORDINAL1,WELLORD2,CARD_1,BINOP_2,NEWTON,XREAL_1,FUNCOP_1,STIRL2_1,FUNCT_1,CARD_FIN,SERIES_1,SEQ_1,SEQ_2,COMPLEX1,SQUARE_1,ABSVALUE,RSSPACE2,POWER,PREPOWER,WSIERP_1,FIB_NUM,TIETZE,XREAL_0,SERIES_2,XXREAL_0,NAT_D,AFINSQ_2,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes FUNCT_2,NAT_1,XBOOLE_0,STIRL2_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FUNCOP_1,FINSET_1,FRAENKEL,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,BINOP_2,CARD_1,AFINSQ_1,RELSET_1,VALUED_1,VALUED_0,MEMBERED,NEWTON,AFINSQ_2,CKB5,CKB8,CKB9,CKB29,CKB45;
constructors QUIN_1,PREPOWER,SERIES_1,PARTFUN3,BINOM,WELLORD2,DOMAIN_1,SETWISEO,REAL_1,NAT_D,YELLOW20,RECDEF_1,BINOP_2,RELSET_1,ORDINAL4,SEQ_1,AFINSQ_1,SQUARE_1,CATALAN1,STIRL2_1,CARD_FIN,AFINSQ_2,ABIAN,SEQ_2,CKB2,CKB26,CKB43,CKB44;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve i for Nat;
reserve k for Nat;
reserve n for Nat;
reserve p for (XFinSequence of ( NAT ));
reserve q for (XFinSequence of ( NAT ));
reserve pN for (Element of ( ( NAT ) ^omega ));
theorem
( card { pN: (( dom pN ) = ( 2 * n ) & pN is  dominated_by_0) } ) = ( ( 2 * n ) choose n )
proof
set D = ( bool ( { ( 0 ),1 } ^omega ) );
set 2n = ( 2 * n );
defpred P[ set,set ]
 means
(for i holds (i = $1 implies $2 = ( Domin_0 (2n,i) )));
set Z = { pN: (( dom pN ) = ( 2 * n ) & pN is  dominated_by_0) };
A1: (for k holds (k in ( n + 1 ) implies (ex x being (Element of D) st P[ k,x ])))
proof
let k;
assume that
k in ( n + 1 );
reconsider Z = ( Domin_0 (2n,k) ) as (Element of D);
take Z;
thus thesis;
end;
consider r being (XFinSequence of D) such that A2: (( dom r ) = ( n + 1 ) & (for k holds (k in ( n + 1 ) implies P[ k,( r . k ) ]))) from STIRL2_1:sch 5(A1);
A3: Z c= ( union ( rng r ) )
proof
let x;
assume x in Z;
then consider pN such that A4: x = pN and A5: (( dom pN ) = 2n & pN is  dominated_by_0);
pN in ( Domin_0 (( 2 * n ),( Sum pN )) ) by A5,CKB27:1;
then ( 2 * ( Sum pN ) ) <= 2n by CKB30:1;
then ( ( 1 / 2 ) * ( 2 * ( Sum pN ) ) ) <= ( ( 1 / 2 ) * ( 2 * n ) ) by XREAL_1:64;
then ( Sum pN ) < ( n + 1 ) by NAT_1:13;
then A6: ( Sum pN ) in ( n + 1 ) by NAT_1:44;
then ( r . ( Sum pN ) ) = ( Domin_0 (2n,( Sum pN )) ) by A2;
then A7: pN in ( r . ( Sum pN ) ) by A5,CKB27:1;
( r . ( Sum pN ) ) in ( rng r ) by A2,A6,FUNCT_1:3;
hence thesis by A4,A7,TARSKI:def 4;
end;
A8: ( union ( rng r ) ) c= Z
proof
let x;
assume x in ( union ( rng r ) );
then consider y such that A9: x in y and A10: y in ( rng r ) by TARSKI:def 4;
consider i being set such that A11: i in ( dom r ) and A12: y = ( r . i ) by A10,FUNCT_1:def 3;
reconsider i as (Element of ( NAT )) by A11;
y = ( Domin_0 (2n,i) ) by A2,A11,A12;
then consider p such that A13: ((p = x & p is  dominated_by_0) & ( dom p ) = 2n) and ( Sum p ) = i by A9,CKB26:def 1;
p is (Element of ( ( NAT ) ^omega )) by AFINSQ_1:def 7;
hence thesis by A13;
end;
A14: (for i,j being Nat holds (((i in ( dom r ) & j in ( dom r )) & i <> j) implies ( r . i ) misses ( r . j )))
proof
let i being Nat,j being Nat;
assume that
A15: i in ( dom r )
and
A16: j in ( dom r )
and
A17: i <> j;
assume ( r . i ) meets ( r . j );
then ( ( r . i ) /\ ( r . j ) ) <> ( {} ) by XBOOLE_0:def 7;
then consider x such that A18: x in ( ( r . i ) /\ ( r . j ) ) by XBOOLE_0:def 1;
A19: x in ( r . j ) by A18,XBOOLE_0:def 4;
( r . j ) = ( Domin_0 (2n,j) ) by A2,A16;
then A20: (ex q st (((q = x & q is  dominated_by_0) & ( dom q ) = ( 2 * n )) & ( Sum q ) = j)) by A19,CKB26:def 1;
A21: x in ( r . i ) by A18,XBOOLE_0:def 4;
( r . i ) = ( Domin_0 (2n,i) ) by A2,A15;
then (ex p st (((p = x & p is  dominated_by_0) & ( dom p ) = 2n) & ( Sum p ) = i)) by A21,CKB26:def 1;
hence thesis by A17,A20;
end;
A22: (for i holds (i in ( dom r ) implies ( r . i ) is  finite))
proof
let i;
assume i in ( dom r );
then ( r . i ) = ( Domin_0 (2n,i) ) by A2;
hence thesis;
end;
consider Cardr being (XFinSequence of ( NAT )) such that A23: ( dom Cardr ) = ( dom r ) and A24: (for i holds (i in ( dom Cardr ) implies ( Cardr . i ) = ( card ( r . i ) ))) and A25: ( card ( union ( rng r ) ) ) = ( Sum Cardr ) by A22,A14,STIRL2_1:66;
A26: (n < ( dom Cardr ) & ( Cardr | ( n + 1 ) ) = Cardr) by A2,A23,NAT_1:13,RELAT_1:69;
defpred Q[ Nat ]
 means
($1 < ( dom Cardr ) implies ( Sum ( Cardr | ( $1 + 1 ) ) ) = ( 2n choose $1 ));
A27: Q[ ( 0 ) ]
proof
( 0 ) in ( n + 1 ) by NAT_1:44;
then ( r . ( 0 ) ) = ( Domin_0 (2n,( 0 )) ) by A2;
then A28: ( card ( r . ( 0 ) ) ) = 1 by CKB32:1;
A29: ( 0 ) in 1 by NAT_1:44;
assume A30: ( 0 ) < ( dom Cardr );
then 1 <= ( len Cardr ) by NAT_1:14;
then A31: 1 c= ( dom Cardr ) by NAT_1:39;
then A32: ( len ( Cardr | 1 ) ) = 1 by RELAT_1:62;
( dom ( Cardr | 1 ) ) = 1 by A31,RELAT_1:62;
then ( ( Cardr | 1 ) . ( 0 ) ) = ( Cardr . ( 0 ) ) by A29,FUNCT_1:47;
then A33: ( Cardr | 1 ) = <% ( Cardr . ( 0 ) ) %> by A32,AFINSQ_1:34;
( 0 ) in ( len Cardr ) by A30,NAT_1:44;
then ( Cardr . ( 0 ) ) = ( card ( r . ( 0 ) ) ) by A24;
then ( Sum ( Cardr | 1 ) ) = 1 by A33,A28,AFINSQ_2:53;
hence thesis by NEWTON:19;
end;
A34: (for i holds (Q[ i ] implies Q[ ( i + 1 ) ]))
proof
let i;
assume that
A35: Q[ i ];
set i1 = ( i + 1 );
assume A36: ( i + 1 ) < ( dom Cardr );
then A37: i1 in ( dom Cardr ) by NAT_1:44;
then A38: (( ( Sum ( Cardr | i1 ) ) + ( Cardr . i1 ) ) = ( Sum ( Cardr | ( i1 + 1 ) ) ) & ( Cardr . i1 ) = ( card ( r . i1 ) )) by A24,AFINSQ_2:65;
i1 <= n by A2,A23,A36,NAT_1:13;
then A39: ( 2 * i1 ) <= 2n by XREAL_1:64;
( r . i1 ) = ( Domin_0 (2n,i1) ) by A2,A23,A37;
then ( Sum ( Cardr | ( i1 + 1 ) ) ) = ( ( 2n choose i ) + ( ( 2n choose i1 ) - ( 2n choose i ) ) ) by A35,A36,A38,A39,CKB36:1,NAT_1:13;
hence thesis;
end;
(for i holds Q[ i ]) from NAT_1:sch 2(A27,A34);
then ( Sum Cardr ) = ( 2n choose n ) by A26;
hence thesis by A25,A3,A8,XBOOLE_0:def 10;
end;
