environ
vocabularies NUMBERS,SUBSET_1,FUNCT_1,NAT_1,TARSKI,ORDINAL1,FINSET_1,RELAT_1,AFINSQ_1,ARYTM_1,ARYTM_3,FINSEQ_1,XXREAL_0,CARD_1,XBOOLE_0,ORDINAL4,CARD_3,FINSOP_1,FUNCOP_1,BINOP_2,FUNCT_2,XREAL_0,SEQ_1,SERIES_1,VALUED_1,SQUARE_1,COMPLEX1,PARTFUN3,ZFMISC_1,CARD_FIN,REALSET1,CATALAN1,REAL_1,ORDINAL2,SEQ_2,NEWTON,PREPOWER,FUNCT_3,CATALAN2;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,XREAL_0,NUMBERS,RELAT_1,FUNCT_1,REAL_1,NAT_1,FINSET_1,ORDINAL1,XXREAL_0,NAT_D,AFINSQ_1,SEQ_1,VALUED_1,RELSET_1,DOMAIN_1,FUNCT_2,FUNCOP_1,BINOP_1,BINOP_2,RECDEF_1,SERIES_1,PARTFUN3,AFINSQ_2,ZFMISC_1,SQUARE_1,NEWTON,STIRL2_1,CARD_FIN,CATALAN1,SEQ_2,PREPOWER,COMPLEX1,QUIN_1,CKB2,CKB26,CKB43,CKB44,CKB56;
definitions TARSKI,XBOOLE_0,FUNCT_1,QUIN_1,SQUARE_1,CKB2,CKB26,CKB43,CKB56;
theorems CATALAN1,AFINSQ_1,TARSKI,XBOOLE_0,ZFMISC_1,RELAT_1,XBOOLE_1,NAT_1,FUNCT_2,XCMPLX_1,CARD_2,INT_1,ORDINAL1,WELLORD2,CARD_1,BINOP_2,NEWTON,XREAL_1,FUNCOP_1,STIRL2_1,FUNCT_1,CARD_FIN,SERIES_1,SEQ_1,SEQ_2,COMPLEX1,SQUARE_1,ABSVALUE,RSSPACE2,POWER,PREPOWER,WSIERP_1,FIB_NUM,TIETZE,XREAL_0,SERIES_2,XXREAL_0,NAT_D,AFINSQ_2,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67;
schemes FUNCT_2,NAT_1,XBOOLE_0,STIRL2_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FUNCOP_1,FINSET_1,FRAENKEL,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,BINOP_2,CARD_1,AFINSQ_1,RELSET_1,VALUED_1,VALUED_0,MEMBERED,NEWTON,AFINSQ_2,CKB5,CKB8,CKB9,CKB29,CKB45;
constructors QUIN_1,PREPOWER,SERIES_1,PARTFUN3,BINOM,WELLORD2,DOMAIN_1,SETWISEO,REAL_1,NAT_D,YELLOW20,RECDEF_1,BINOP_2,RELSET_1,ORDINAL4,SEQ_1,AFINSQ_1,SQUARE_1,CATALAN1,STIRL2_1,CARD_FIN,AFINSQ_2,ABIAN,SEQ_2,CKB2,CKB26,CKB43,CKB44,CKB56;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve i for Nat;
reserve j for Nat;
reserve k for Nat;
reserve n for Nat;
reserve r for  real number;
reserve s for  real number;
reserve Fr1 for (XFinSequence of ( REAL ));
reserve Fr2 for (XFinSequence of ( REAL ));
theorem
(for r holds (ex Catal being Real_Sequence st ((for n holds ( Catal . n ) = ( ( Catalan ( n + 1 ) ) * ( r |^ n ) )) & (( abs r ) < ( 1 / 4 ) implies (((Catal is  absolutely_summable & ( Sum Catal ) = ( 1 + ( r * ( ( Sum Catal ) |^ 2 ) ) )) & ( Sum Catal ) = ( 2 / ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) )) & (r <> ( 0 ) implies ( Sum Catal ) = ( ( 1 - ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) )))))))
proof
defpred E[ set,set ]
 means
(for r holds ($1 = r implies (ex Catal being Real_Sequence st ((for n holds ( Catal . n ) = ( ( Catalan ( n + 1 ) ) * ( r |^ n ) )) & (( abs r ) < ( 1 / 4 ) implies ((Catal is  absolutely_summable & ( Sum Catal ) = ( 1 + ( r * ( ( Sum Catal ) |^ 2 ) ) )) & $2 = ( Sum Catal )))))));
A1: (for x holds (x in ( REAL ) implies (ex y st (y in ( REAL ) & E[ x,y ]))))
proof
let x;
A2: ( abs 1 ) = 1 by ABSVALUE:def 1;
assume x in ( REAL );
then reconsider r = x as Real;
set a = ( 4 * ( abs r ) );
deffunc C((Element of ( NAT ))) = ( ( Catalan ( $1 + 1 ) ) * ( r |^ $1 ) );
consider Cat being Real_Sequence such that A3: (for n being (Element of ( NAT )) holds ( Cat . n ) = C(n)) from FUNCT_2:sch 4;
set G = ( a GeoSeq );
defpred P[ Nat ]
 means
( ( abs Cat ) . $1 ) <= ( G . $1 );
A4: (for n holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
A5: ( abs r ) >= ( 0 ) by COMPLEX1:46;
let n;
assume P[ n ];
then A6: ( a * ( ( abs Cat ) . n ) ) <= ( a * ( G . n ) ) by A5,XREAL_1:64;
set n1 = ( n + 1 );
A7: (n in ( NAT ) & n1 in ( NAT )) by ORDINAL1:def 12;
A8: (( abs ( r |^ n1 ) ) >= ( 0 ) & ( r |^ n1 ) = ( r * ( r |^ n ) )) by COMPLEX1:46,NEWTON:6;
( Catalan ( n1 + 1 ) ) >= ( 0 ) by CATALAN1:17;
then A9: ( abs ( Catalan ( n1 + 1 ) ) ) = ( Catalan ( n1 + 1 ) ) by ABSVALUE:def 1;
( Catalan n1 ) >= ( 0 ) by CATALAN1:17;
then ( abs ( Catalan n1 ) ) = ( Catalan n1 ) by ABSVALUE:def 1;
then ( abs ( Catalan ( n1 + 1 ) ) ) < ( 4 * ( abs ( Catalan n1 ) ) ) by A9,CATALAN1:21;
then A10: ( ( abs ( r |^ n1 ) ) * ( abs ( Catalan ( n1 + 1 ) ) ) ) <= ( ( 4 * ( abs ( Catalan n1 ) ) ) * ( abs ( r * ( r |^ n ) ) ) ) by A8,XREAL_1:64;
( abs ( r * ( r |^ n ) ) ) = ( ( abs r ) * ( abs ( r |^ n ) ) ) by COMPLEX1:65;
then ( abs ( ( r |^ n1 ) * ( Catalan ( n1 + 1 ) ) ) ) <= ( a * ( ( abs ( Catalan n1 ) ) * ( abs ( r |^ n ) ) ) ) by A10,COMPLEX1:65;
then ( abs ( Cat . n1 ) ) <= ( a * ( ( abs ( Catalan n1 ) ) * ( abs ( r |^ n ) ) ) ) by A3;
then (( abs ( Cat . n1 ) ) <= ( a * ( abs ( ( Catalan n1 ) * ( r |^ n ) ) ) ) & n in ( NAT )) by COMPLEX1:65,ORDINAL1:def 12;
then A11: ( abs ( Cat . n1 ) ) <= ( a * ( abs ( Cat . n ) ) ) by A3;
( abs ( Cat . n ) ) = ( ( abs Cat ) . n ) by A7,SEQ_1:12;
then ( ( abs Cat ) . n1 ) <= ( a * ( ( abs Cat ) . n ) ) by A11,SEQ_1:12;
then ( ( abs Cat ) . n1 ) <= ( a * ( G . n ) ) by A6,XXREAL_0:2;
hence thesis by A7,PREPOWER:3;
end;
( Cat . ( 0 ) ) = ( ( Catalan ( ( 0 ) + 1 ) ) * ( r |^ ( 0 ) ) ) by A3;
then A12: ( ( abs Cat ) . ( 0 ) ) = ( abs ( r |^ ( 0 ) ) ) by CATALAN1:11,SEQ_1:12;
(( r |^ ( 0 ) ) = 1 & ( a |^ ( 0 ) ) = 1) by NEWTON:4;
then A13: P[ ( 0 ) ] by A12,A2,PREPOWER:def 1;
(for n holds P[ n ]) from NAT_1:sch 2(A13,A4);
then A14: (for n being (Element of ( NAT )) holds P[ n ]);
A15:now
let n being (Element of ( NAT ));
( ( abs Cat ) . n ) = ( abs ( Cat . n ) ) by SEQ_1:12;
hence ( ( abs Cat ) . n ) >= ( 0 ) by COMPLEX1:46;
end;
take ( Sum Cat );
thus ( Sum Cat ) in ( REAL );
let s;
assume that
A16: x = s;
(for y holds (y in ( NAT ) implies ( ( Cat ^\ 1 ) . y ) = ( ( Cat (##) ( r (#) Cat ) ) . y )))
proof
let y;
assume y in ( NAT );
then reconsider n = y as (Element of ( NAT ));
set n1 = ( n + 1 );
consider Fr1 such that A17: ( dom Fr1 ) = n1 and A18: (for i holds (i in ( n + 1 ) implies ( Fr1 . i ) = ( ( Cat . i ) * ( ( r (#) Cat ) . ( n -' i ) ) ))) and A19: ( Sum Fr1 ) = ( ( Cat (##) ( r (#) Cat ) ) . n ) by CKB56:def 1;
consider Catal being (XFinSequence of ( NAT )) such that A20: ( Sum Catal ) = ( Catalan ( n1 + 1 ) ) and A21: ( dom Catal ) = n1 and A22: (for j holds (j < n1 implies ( Catal . j ) = ( ( Catalan ( j + 1 ) ) * ( Catalan ( n1 -' j ) ) ))) by CKB50:1;
( rng Catal ) c= ( NAT ) by RELAT_1:def 19;
then ( rng Catal ) c= ( REAL ) by XBOOLE_1:1;
then reconsider CatalR = Catal as (XFinSequence of ( REAL )) by RELAT_1:def 19;
defpred Q[ set,set ]
 means
(for k holds (k = $1 implies $2 = ( ( r |^ n1 ) * ( Catal . k ) )));
A23: (for k holds (k in n1 implies (ex x being (Element of ( REAL )) st Q[ k,x ])))
proof
let k;
assume that
k in n1;
take ( ( r |^ n1 ) * ( Catal . k ) );
thus thesis;
end;
consider Fr2 such that A24: ( dom Fr2 ) = n1 and A25: (for k being Nat holds (k in n1 implies Q[ k,( Fr2 . k ) ])) from STIRL2_1:sch 5(A23);
A26:now
let k being Nat;
assume that
A27: k in ( dom Fr2 );
A28: k in ( NAT ) by ORDINAL1:def 12;
A29: k < ( n + 1 ) by A24,A27,NAT_1:44;
then A30: ( n1 -' k ) = ( n1 - k ) by XREAL_1:233;
A31: n = ( k + ( n - k ) );
k <= n by A29,NAT_1:13;
then A32: ( n -' k ) = ( n - k ) by XREAL_1:233;
then ( Fr1 . k ) = ( ( Cat . k ) * ( ( r (#) Cat ) . ( n - k ) ) ) by A18,A24,A27
.= ( ( ( Catalan ( k + 1 ) ) * ( r |^ k ) ) * ( ( r (#) Cat ) . ( n - k ) ) ) by A3,A28
.= ( ( ( Catalan ( k + 1 ) ) * ( r |^ k ) ) * ( r * ( Cat . ( n - k ) ) ) ) by A32,SEQ_1:9
.= ( ( ( Catalan ( k + 1 ) ) * ( r |^ k ) ) * ( r * ( ( Catalan ( ( n -' k ) + 1 ) ) * ( r |^ ( n -' k ) ) ) ) ) by A3,A32
.= ( ( ( ( Catalan ( k + 1 ) ) * ( Catalan ( n1 -' k ) ) ) * r ) * ( ( r |^ k ) * ( r |^ ( n -' k ) ) ) ) by A32,A30
.= ( ( ( ( Catalan ( k + 1 ) ) * ( Catalan ( n1 -' k ) ) ) * r ) * ( r |^ n ) ) by A32,A31,NEWTON:8
.= ( ( ( Catal . k ) * r ) * ( r |^ n ) ) by A22,A29
.= ( ( Catal . k ) * ( r * ( r |^ n ) ) )
.= ( ( Catal . k ) * ( r |^ n1 ) ) by NEWTON:6
.= ( Fr2 . k ) by A24,A25,A27;
hence ( Fr1 . k ) = ( Fr2 . k );
end;
(for k holds (k in ( len Fr2 ) implies ( Fr2 . k ) = ( ( r |^ n1 ) * ( CatalR . k ) ))) by A24,A25;
then ( Sum Fr2 ) = ( ( r |^ n1 ) * ( Sum CatalR ) ) by A21,A24,CKB58:1
.= ( Cat . n1 ) by A3,A20
.= ( ( Cat ^\ 1 ) . n ) by NAT_1:def 3;
hence thesis by A17,A19,A24,A26,AFINSQ_1:8;
end;
then A33: ( Cat ^\ 1 ) = ( Cat (##) ( r (#) Cat ) ) by FUNCT_2:12;
( abs r ) >= ( 0 ) by COMPLEX1:46;
then A34: ( abs a ) = a by ABSVALUE:def 1;
take Cat;
hereby
let n;
n in ( NAT ) by ORDINAL1:def 12;
hence ( Cat . n ) = ( ( Catalan ( n + 1 ) ) * ( s |^ n ) ) by A3,A16;
end;
A35: ( r |^ ( 0 ) ) = 1 by NEWTON:4;
( Cat . ( 0 ) ) = ( ( Catalan ( ( 0 ) + 1 ) ) * ( r |^ ( 0 ) ) ) by A3;
then A36: ( ( Partial_Sums Cat ) . ( 0 ) ) = 1 by A35,CATALAN1:11,SERIES_1:def 1;
assume ( abs s ) < ( 1 / 4 );
then a < ( 4 * ( 1 / 4 ) ) by A16,XREAL_1:68;
then G is  summable by A34,SERIES_1:24;
then ( abs Cat ) is  summable by A15,A14,SERIES_1:20;
hence A37: Cat is  absolutely_summable by SERIES_1:def 4;
then Cat is  summable by SERIES_1:35;
then (( r (#) Cat ) is  summable & ( Sum ( r (#) Cat ) ) = ( r * ( Sum Cat ) )) by SERIES_1:10;
then ( Sum ( Cat ^\ ( ( 0 ) + 1 ) ) ) = ( ( Sum Cat ) * ( r * ( Sum Cat ) ) ) by A37,A33,CKB67:1;
then ( Sum Cat ) = ( 1 + ( r * ( ( Sum Cat ) * ( Sum Cat ) ) ) ) by A37,A36,SERIES_1:15,SERIES_1:35;
hence thesis by A16,WSIERP_1:1;
end;
consider SumC being (Function of ( REAL ),( REAL )) such that A38: (for x holds (x in ( REAL ) implies E[ x,( SumC . x ) ])) from FUNCT_2:sch 1(A1);
A39: (for r holds (for s holds (((( 0 ) < s & s <= r) & r < ( 1 / 4 )) implies ( SumC . s ) <= ( SumC . r ))))
proof
let r;
let s;
assume that
A40: ( 0 ) < s
and
A41: s <= r
and
A42: r < ( 1 / 4 );
r is Real by XREAL_0:def 1;
then consider Cr being Real_Sequence such that A43: (for n holds ( Cr . n ) = ( ( Catalan ( n + 1 ) ) * ( r |^ n ) )) and A44: (( abs r ) < ( 1 / 4 ) implies ((Cr is  absolutely_summable & ( Sum Cr ) = ( 1 + ( r * ( ( Sum Cr ) |^ 2 ) ) )) & ( SumC . r ) = ( Sum Cr ))) by A38;
A45: Cr is  summable by A40,A41,A42,A44,ABSVALUE:def 1,SERIES_1:35;
s is Real by XREAL_0:def 1;
then consider Cs being Real_Sequence such that A46: (for n holds ( Cs . n ) = ( ( Catalan ( n + 1 ) ) * ( s |^ n ) )) and A47: (( abs s ) < ( 1 / 4 ) implies ((Cs is  absolutely_summable & ( Sum Cs ) = ( 1 + ( s * ( ( Sum Cs ) |^ 2 ) ) )) & ( SumC . s ) = ( Sum Cs ))) by A38;
A48:now
let n being (Element of ( NAT ));
(( s |^ n ) <= ( r |^ n ) & ( Catalan ( n + 1 ) ) >= ( 0 )) by A40,A41,CATALAN1:17,PREPOWER:9;
then A49: ( ( Catalan ( n + 1 ) ) * ( s |^ n ) ) <= ( ( Catalan ( n + 1 ) ) * ( r |^ n ) ) by XREAL_1:64;
( ( Catalan ( n + 1 ) ) * ( r |^ n ) ) = ( Cr . n ) by A43;
hence ( Cs . n ) <= ( Cr . n ) by A46,A49;
end;
A50: s < ( 1 / 4 ) by A41,A42,XXREAL_0:2;
then Cs is  summable by A40,A47,ABSVALUE:def 1,SERIES_1:35;
hence thesis by A40,A41,A42,A50,A47,A44,A48,A45,ABSVALUE:def 1,TIETZE:5;
end;
set R = { r where r is Real: ((( 0 ) < r & r < ( 1 / 4 )) & ( SumC . r ) = ( ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) )) };
A51: (for r holds ((r <> ( 0 ) & ( abs r ) < ( 1 / 4 )) implies (( SumC . r ) = ( ( 1 - ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ) or ( SumC . r ) = ( ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ))))
proof
let r;
assume that
A52: r <> ( 0 )
and
A53: ( abs r ) < ( 1 / 4 );
r <= ( 1 / 4 ) by A53,ABSVALUE:5;
then ( 4 * r ) <= ( ( 1 / 4 ) * 4 ) by XREAL_1:64;
then A54: ( ( 4 * r ) - ( 4 * r ) ) <= ( 1 - ( 4 * r ) ) by XREAL_1:9;
r is Real by XREAL_0:def 1;
then consider Catal being Real_Sequence such that (for n holds ( Catal . n ) = ( ( Catalan ( n + 1 ) ) * ( r |^ n ) )) and A55: (( abs r ) < ( 1 / 4 ) implies ((Catal is  absolutely_summable & ( Sum Catal ) = ( 1 + ( r * ( ( Sum Catal ) |^ 2 ) ) )) & ( SumC . r ) = ( Sum Catal ))) by A38;
set S = ( Sum Catal );
S = ( 1 + ( r * ( S ^2 ) ) ) by A53,A55,WSIERP_1:1;
then A56: ( ( ( r * ( S ^2 ) ) + ( ( - 1 ) * S ) ) + 1 ) = ( 0 );
(( delta (r,( - 1 ),1) ) = ( 1 - ( 4 * r ) ) & ( - ( - 1 ) ) = 1);
hence thesis by A52,A53,A55,A56,A54,FIB_NUM:6;
end;
A57: (for r holds (for s holds (((( 0 ) < r & r < s) & s < ( 1 / 4 )) implies ( ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ) > ( ( 1 + ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * s ) ))))
proof
let r;
let s;
assume that
A58: ( 0 ) < r
and
A59: r < s
and
A60: s < ( 1 / 4 );
( 4 * s ) < ( 4 * ( 1 / 4 ) ) by A60,XREAL_1:68;
then A61: ( ( 4 * s ) - ( 4 * s ) ) < ( 1 - ( 4 * s ) ) by XREAL_1:9;
then A62: ( sqrt ( 1 - ( 4 * s ) ) ) > ( 0 ) by SQUARE_1:25;
( 4 * r ) < ( 4 * s ) by A59,XREAL_1:68;
then ( 1 - ( 4 * r ) ) >= ( 1 - ( 4 * s ) ) by XREAL_1:10;
then ( sqrt ( 1 - ( 4 * r ) ) ) >= ( sqrt ( 1 - ( 4 * s ) ) ) by A61,SQUARE_1:26;
then ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) >= ( 1 + ( sqrt ( 1 - ( 4 * s ) ) ) ) by XREAL_1:7;
then A63: ( ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ) >= ( ( 1 + ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * r ) ) by A58,XREAL_1:72;
(( 2 * r ) > ( 2 * ( 0 ) ) & ( 2 * r ) < ( 2 * s )) by A58,A59,XREAL_1:68;
then ( ( 1 + ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * r ) ) > ( ( 1 + ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * s ) ) by A62,XREAL_1:76;
hence thesis by A63,XXREAL_0:2;
end;
A64: R = ( {} )
proof
assume R <> ( {} );
then consider x such that A65: x in R by XBOOLE_0:def 1;
consider r being Real such that x = r and A66: ( 0 ) < r and A67: r < ( 1 / 4 ) and A68: ( SumC . r ) = ( ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ) by A65;
consider s being  real number such that A69: r < s and A70: s < ( 1 / 4 ) by A67,XREAL_1:5;
A71: ( abs s ) = s by A66,A69,ABSVALUE:def 1;
( 4 * s ) < ( 4 * ( 1 / 4 ) ) by A70,XREAL_1:68;
then ( ( 4 * s ) - ( 4 * s ) ) < ( 1 - ( 4 * s ) ) by XREAL_1:9;
then ( sqrt ( 1 - ( 4 * s ) ) ) > ( 0 ) by SQUARE_1:25;
then ( 1 - ( sqrt ( 1 - ( 4 * s ) ) ) ) <= ( 1 - ( 0 ) ) by XREAL_1:10;
then A72: ( ( 1 - ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * s ) ) <= ( 1 / ( 2 * s ) ) by A66,A69,XREAL_1:72;
A73: ( 2 * r ) > ( 2 * ( 0 ) ) by A66,XREAL_1:68;
A74: s is Real by XREAL_0:def 1;
R c= { r }
proof
assume (not R c= { r });
then ( R \ { r } ) <> ( {} ) by XBOOLE_1:37;
then consider y such that A75: y in ( R \ { r } ) by XBOOLE_0:def 1;
y in R by A75;
then consider s being Real such that A76: y = s and A77: ( 0 ) < s and A78: s < ( 1 / 4 ) and A79: ( SumC . s ) = ( ( 1 + ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * s ) );
A80: r <> s by A75,A76,ZFMISC_1:56;
now
per cases  by A80,XXREAL_0:1;
suppose A81: r > s;

then ( SumC . s ) > ( SumC . r ) by A57,A67,A68,A77,A79;
hence contradiction by A39,A67,A77,A81;
end;
suppose A82: r < s;

then ( SumC . r ) > ( SumC . s ) by A57,A66,A68,A78,A79;
hence contradiction by A39,A66,A78,A82;
end;
end;
hence contradiction;
end;
then (not s in R) by A69,TARSKI:def 1;
then ( SumC . s ) <> ( ( 1 + ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * s ) ) by A66,A69,A70,A74;
then A83: ( SumC . s ) = ( ( 1 - ( sqrt ( 1 - ( 4 * s ) ) ) ) / ( 2 * s ) ) by A51,A66,A69,A70,A71;
( 4 * r ) < ( 4 * ( 1 / 4 ) ) by A67,XREAL_1:68;
then ( ( 4 * r ) - ( 4 * r ) ) < ( 1 - ( 4 * r ) ) by XREAL_1:9;
then ( sqrt ( 1 - ( 4 * r ) ) ) > ( 0 ) by SQUARE_1:25;
then ( 1 + ( 0 ) ) < ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) by XREAL_1:8;
then A84: ( 1 / ( 2 * r ) ) < ( SumC . r ) by A68,A73,XREAL_1:74;
( 2 * r ) < ( 2 * s ) by A69,XREAL_1:68;
then ( 1 / ( 2 * s ) ) < ( 1 / ( 2 * r ) ) by A73,XREAL_1:76;
then ( SumC . s ) < ( 1 / ( 2 * r ) ) by A83,A72,XXREAL_0:2;
then ( SumC . s ) < ( SumC . r ) by A84,XXREAL_0:2;
hence thesis by A39,A66,A69,A70;
end;
A85: (for r holds ((( 0 ) < r & ( abs r ) < ( 1 / 4 )) implies ( SumC . r ) = ( ( 1 - ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) )))
proof
let r;
assume that
A86: ( 0 ) < r
and
A87: ( abs r ) < ( 1 / 4 );
assume ( SumC . r ) <> ( ( 1 - ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) );
then A88: ( SumC . r ) = ( ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ) by A51,A86,A87;
( abs r ) = r by A86,ABSVALUE:def 1;
then r in R by A86,A87,A88;
hence thesis by A64;
end;
A89: (for r holds ((r < ( 0 ) & ( abs r ) < ( 1 / 4 )) implies ( SumC . r ) = ( ( 1 - ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) )))
proof
let r;
assume that
A90: r < ( 0 )
and
A91: ( abs r ) < ( 1 / 4 );
( 2 * r ) < ( 2 * ( 0 ) ) by A90,XREAL_1:68;
then A92: (( abs ( 2 * r ) ) = ( - ( 2 * r ) ) & ( (( 0 ) qua Nat) - ( 2 * r ) ) > ( (( 0 ) qua Nat) - ( 0 ) )) by ABSVALUE:def 1;
A93: ( abs ( - r ) ) < ( 1 / 4 ) by A91,COMPLEX1:52;
then ( 1 / 4 ) >= ( - r ) by ABSVALUE:5;
then ( 4 * ( 1 / 4 ) ) >= ( 4 * ( - r ) ) by XREAL_1:64;
then ( 1 - ( 4 * ( - r ) ) ) >= ( ( 4 * ( - r ) ) - ( 4 * ( - r ) ) ) by XREAL_1:9;
then ( sqrt ( 1 - ( 4 * ( - r ) ) ) ) >= ( 0 ) by SQUARE_1:def 2;
then A94: ( 1 - ( sqrt ( 1 - ( 4 * ( - r ) ) ) ) ) <= ( 1 - ( 0 ) ) by XREAL_1:10;
A95: ( sqrt ( 1 - ( 4 * r ) ) ) > ( 0 ) by A90,SQUARE_1:25;
then ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) > ( 1 + ( 0 ) ) by XREAL_1:8;
then A96: ( 1 - ( sqrt ( 1 - ( 4 * ( - r ) ) ) ) ) < ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) by A94,XXREAL_0:2;
( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) = ( abs ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) ) by A95,ABSVALUE:def 1;
then A97: ( ( 1 - ( sqrt ( 1 - ( 4 * ( - r ) ) ) ) ) / ( 2 * ( - r ) ) ) < ( ( abs ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) ) / ( abs ( 2 * r ) ) ) by A96,A92,XREAL_1:74;
consider CR being Real_Sequence such that A98: (for n holds ( CR . n ) = ( ( Catalan ( n + 1 ) ) * ( ( - r ) |^ n ) )) and A99: (( abs ( - r ) ) < ( 1 / 4 ) implies ((CR is  absolutely_summable & ( Sum CR ) = ( 1 + ( ( - r ) * ( ( Sum CR ) |^ 2 ) ) )) & ( SumC . ( - r ) ) = ( Sum CR ))) by A38;
assume A100: ( SumC . r ) <> ( ( 1 - ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) );
r is Real by XREAL_0:def 1;
then consider Cr being Real_Sequence such that A101: (for n holds ( Cr . n ) = ( ( Catalan ( n + 1 ) ) * ( r |^ n ) )) and A102: (( abs r ) < ( 1 / 4 ) implies ((Cr is  absolutely_summable & ( Sum Cr ) = ( 1 + ( r * ( ( Sum Cr ) |^ 2 ) ) )) & ( SumC . r ) = ( Sum Cr ))) by A38;
now
let x;
assume x in ( NAT );
then reconsider n = x as (Element of ( NAT ));
( ( - r ) |^ n ) = ( ( ( - 1 ) * r ) |^ n )
.= ( ( ( - 1 ) |^ n ) * ( r |^ n ) ) by NEWTON:7;
then A103: ( abs ( ( - r ) |^ n ) ) = ( ( abs ( ( - 1 ) |^ n ) ) * ( abs ( r |^ n ) ) ) by COMPLEX1:65
.= ( 1 * ( abs ( r |^ n ) ) ) by SERIES_2:1;
( Catalan ( n + 1 ) ) >= ( 0 ) by CATALAN1:17;
then A104: ( abs ( Catalan ( n + 1 ) ) ) = ( Catalan ( n + 1 ) ) by ABSVALUE:def 1;
( ( - r ) |^ n ) >= ( 0 ) by A90,POWER:3;
then ( abs ( ( - r ) |^ n ) ) = ( ( - r ) |^ n ) by ABSVALUE:def 1;
then ( CR . n ) = ( ( abs ( r |^ n ) ) * ( abs ( Catalan ( n + 1 ) ) ) ) by A98,A103,A104
.= ( abs ( ( r |^ n ) * ( Catalan ( n + 1 ) ) ) ) by COMPLEX1:65
.= ( abs ( Cr . n ) ) by A101
.= ( ( abs Cr ) . n ) by SEQ_1:12;
hence ( ( abs Cr ) . x ) = ( CR . x );
end;
then A105: ( abs Cr ) = CR by FUNCT_2:12;
( (( 0 ) qua Nat) - r ) > ( (( 0 ) qua Nat) - ( 0 ) ) by A90;
then A106: ( Sum CR ) = ( ( 1 - ( sqrt ( 1 - ( 4 * ( - r ) ) ) ) ) / ( 2 * ( - r ) ) ) by A85,A99,A93;
( abs ( Sum Cr ) ) <= ( Sum ( abs Cr ) ) by A91,A102,TIETZE:6;
then ( abs ( ( 1 + ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ) ) <= ( Sum CR ) by A51,A90,A91,A102,A105,A100;
hence thesis by A106,A97,COMPLEX1:67;
end;
let r;
r is Real by XREAL_0:def 1;
then consider Cat being Real_Sequence such that A107: (for n holds ( Cat . n ) = ( ( Catalan ( n + 1 ) ) * ( r |^ n ) )) and A108: (( abs r ) < ( 1 / 4 ) implies ((Cat is  absolutely_summable & ( Sum Cat ) = ( 1 + ( r * ( ( Sum Cat ) |^ 2 ) ) )) & ( SumC . r ) = ( Sum Cat ))) by A38;
set s = ( sqrt ( 1 - ( 4 * r ) ) );
take Cat;
thus (for n holds ( Cat . n ) = ( ( Catalan ( n + 1 ) ) * ( r |^ n ) )) by A107;
assume A109: ( abs r ) < ( 1 / 4 );
hence (Cat is  absolutely_summable & ( Sum Cat ) = ( 1 + ( r * ( ( Sum Cat ) |^ 2 ) ) )) by A108;
A110: (r <> ( 0 ) implies ( Sum Cat ) = ( ( 1 - ( sqrt ( 1 - ( 4 * r ) ) ) ) / ( 2 * r ) ))
proof
assume r <> ( 0 );
then (r > ( 0 ) or r < ( 0 ));
hence thesis by A85,A89,A108,A109;
end;
now
per cases ;
suppose r = ( 0 );

hence ( 2 / ( 1 + s ) ) = ( Sum Cat ) by A108,A109,SQUARE_1:18;
end;
suppose A111: r <> ( 0 );

then A112: ( 2 * r ) <> ( 0 );
r <= ( 1 / 4 ) by A109,ABSVALUE:5;
then ( 4 * r ) <= ( 4 * ( 1 / 4 ) ) by XREAL_1:64;
then A113: ( 1 - ( 4 * r ) ) >= ( ( 4 * r ) - ( 4 * r ) ) by XREAL_1:9;
then s >= ( 0 ) by SQUARE_1:def 2;
then ( ( 1 + s ) / ( 1 + s ) ) = 1 by XCMPLX_1:60;
then ( ( 1 - s ) / ( 2 * r ) ) = ( ( ( 1 - s ) / ( 2 * r ) ) * ( ( 1 + s ) / ( 1 + s ) ) )
.= ( ( ( 1 - s ) * ( 1 + s ) ) / ( ( 2 * r ) * ( 1 + s ) ) ) by XCMPLX_1:76
.= ( ( ( 1 ^2 ) - ( s ^2 ) ) / ( ( 2 * r ) * ( 1 + s ) ) )
.= ( ( 1 - ( 1 - ( 4 * r ) ) ) / ( ( 2 * r ) * ( 1 + s ) ) ) by A113,SQUARE_1:def 2
.= ( ( ( 2 * r ) * 2 ) / ( ( 2 * r ) * ( 1 + s ) ) )
.= ( ( ( 2 * r ) / ( 2 * r ) ) * ( 2 / ( 1 + s ) ) ) by XCMPLX_1:76
.= ( 1 * ( 2 / ( 1 + s ) ) ) by A112,XCMPLX_1:60;
hence ( Sum Cat ) = ( 2 / ( 1 + s ) ) by A110,A111;
end;
end;
hence thesis by A110;
end;
