environ
vocabularies NUMBERS,SUBSET_1,REAL_1,NORMSP_1,SEQ_1,NAT_1,PRE_TOPC,RCOMP_1,TARSKI,CARD_1,ARYTM_3,ARYTM_1,XXREAL_0,RELAT_1,FUNCT_1,SEQ_2,ORDINAL2,STRUCT_0,VALUED_0,SUPINF_2,RLVECT_1,VALUED_1,XREAL_0,ORDINAL1,COMPLEX1,XXREAL_2,FDIFF_1,ZFMISC_1,PARTFUN1,FUNCOP_1,FUNCT_2,LOPBAN_1,XBOOLE_0,FCONT_1,RSSPACE,NFCONT_1,CFCONT_1,LOPBAN_2;
notations TARSKI,SUBSET_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,PRE_TOPC,XXREAL_0,XREAL_0,COMPLEX1,ORDINAL1,NUMBERS,REAL_1,NAT_1,RLVECT_1,STRUCT_0,FUNCOP_1,VALUED_0,VALUED_1,SEQ_1,SEQ_2,SQUARE_1,VFUNCT_1,NORMSP_0,NORMSP_1,RSSPACE,LOPBAN_1,LOPBAN_2,NFCONT_1,FDIFF_1,RECDEF_1,CKB6,CKB9,CKB10,CKB21,CKB29,CKB31;
definitions TARSKI,XBOOLE_0,NFCONT_1,NORMSP_1,BHSP_3,RLVECT_1,SUBSET_1,VALUED_1,STRUCT_0,CKB6,CKB9,CKB10,CKB21,CKB29;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,SUBSET_1,RELSET_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,XREAL_0,FUNCOP_1,SEQ_1,SEQ_2,NAT_1,SEQM_3,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,SEQ_4,NORMSP_1,LOPBAN_1,LOPBAN_2,LOPBAN_3,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,VALUED_1,STRUCT_0,VALUED_0,GRCAT_1,NORMSP_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB29,CKB32,CKB33,CKB34,CKB35;
schemes NAT_1,SEQ_1,RECDEF_1,FUNCT_2;
registrations FUNCT_1,ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,FDIFF_1,STRUCT_0,LOPBAN_1,LOPBAN_2,VALUED_0,VALUED_1,FUNCT_2,FUNCOP_1,CKB27,CKB28,CKB30;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,PARTFUN2,FDIFF_1,BHSP_3,RSSPACE,VFUNCT_1,LOPBAN_3,NFCONT_1,SEQ_1,VALUED_1,RECDEF_1,NORMSP_1,RELSET_1,BINOP_2,RVSUM_1,CKB9,CKB10,CKB21,CKB29;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve S for non trivial RealNormSpace;
reserve T for non trivial RealNormSpace;
reserve f for (PartFunc of S,T);
reserve s1 for (sequence of S);
reserve x0 for (Point of S);
theorem
Th32: (f is_continuous_in x0 iff (x0 in ( dom f ) & (for s1 being (sequence of S) holds ((((( rng s1 ) c= ( dom f ) & s1 is  convergent) & ( lim s1 ) = x0) & (for n holds ( s1 . n ) <> x0)) implies (( f /* s1 ) is  convergent & ( f /. x0 ) = ( lim ( f /* s1 ) ))))))
proof
thus (f is_continuous_in x0 implies (x0 in ( dom f ) & (for s1 being (sequence of S) holds ((((( rng s1 ) c= ( dom f ) & s1 is  convergent) & ( lim s1 ) = x0) & (for n holds ( s1 . n ) <> x0)) implies (( f /* s1 ) is  convergent & ( f /. x0 ) = ( lim ( f /* s1 ) )))))) by NFCONT_1:def 5;
assume that
A1: x0 in ( dom f )
and
A2: (for s1 holds ((((( rng s1 ) c= ( dom f ) & s1 is  convergent) & ( lim s1 ) = x0) & (for n holds ( s1 . n ) <> x0)) implies (( f /* s1 ) is  convergent & ( f /. x0 ) = ( lim ( f /* s1 ) ))));
thus x0 in ( dom f ) by A1;
let s2 being (sequence of S);
assume that
A3: ( rng s2 ) c= ( dom f )
and
A4: (s2 is  convergent & ( lim s2 ) = x0);
now
per cases ;
suppose (ex n st (for m being (Element of ( NAT )) holds (n <= m implies ( s2 . m ) = x0)));

then consider N being (Element of ( NAT )) such that A5: (for m being (Element of ( NAT )) holds (N <= m implies ( s2 . m ) = x0));
A6: (for n holds ( ( s2 ^\ N ) . n ) = x0)
proof
let n;
( s2 . ( n + N ) ) = x0 by A5,NAT_1:12;
hence thesis by NAT_1:def 3;
end;
A7: ( rng ( s2 ^\ N ) ) c= ( rng s2 ) by VALUED_0:21;
A8:now
let p being Real;
assume that
A9: p > ( 0 );
take n = ( 0 );
let m being (Element of ( NAT ));
assume that
n <= m;
||. ( ( ( f /* ( s2 ^\ N ) ) . m ) - ( f /. x0 ) ) .|| = ||. ( ( f /. ( ( s2 ^\ N ) . m ) ) - ( f /. x0 ) ) .|| by A3,A7,FUNCT_2:109,XBOOLE_1:1
.= ||. ( ( f /. x0 ) - ( f /. x0 ) ) .|| by A6
.= ||. ( 0. T ) .|| by RLVECT_1:15
.= ( 0 ) by NORMSP_1:1;
hence ||. ( ( ( f /* ( s2 ^\ N ) ) . m ) - ( f /. x0 ) ) .|| < p by A9;
end;
then A10: ( f /* ( s2 ^\ N ) ) is  convergent by NORMSP_1:def 6;
A11: ( f /* ( s2 ^\ N ) ) = ( ( f /* s2 ) ^\ N ) by A3,VALUED_0:27;
then A12: ( f /* s2 ) is  convergent by A10,LOPBAN_3:10;
( f /. x0 ) = ( lim ( ( f /* s2 ) ^\ N ) ) by A8,A10,A11,NORMSP_1:def 7;
hence thesis by A12,LOPBAN_3:9;
end;
suppose A13: (for n holds (ex m being (Element of ( NAT )) st (n <= m & ( s2 . m ) <> x0)));

defpred P[ (Element of ( NAT )),set,set ]
 means
(for n,m being (Element of ( NAT )) holds (($2 = n & $3 = m) implies ((n < m & ( s2 . m ) <> x0) & (for k holds ((n < k & ( s2 . k ) <> x0) implies m <= k)))));
defpred P[ Nat ]
 means
( s2 . $1 ) <> x0;
(ex m1 being (Element of ( NAT )) st (( 0 ) <= m1 & ( s2 . m1 ) <> x0)) by A13;
then A14: (ex m being Nat st P[ m ]);
consider M being Nat such that A15: (P[ M ] & (for n being Nat holds (P[ n ] implies M <= n))) from NAT_1:sch 5(A14);
reconsider M9 = M as (Element of ( NAT )) by ORDINAL1:def 12;
A16:now
let n;
consider m being (Element of ( NAT )) such that A17: (( n + 1 ) <= m & ( s2 . m ) <> x0) by A13;
take m;
thus (n < m & ( s2 . m ) <> x0) by A17,NAT_1:13;
end;
A18: (for n holds (for x being (Element of ( NAT )) holds (ex y being (Element of ( NAT )) st P[ n,x,y ])))
proof
let n;
let x being (Element of ( NAT ));
defpred P[ Nat ]
 means
(x < $1 & ( s2 . $1 ) <> x0);
(ex m being (Element of ( NAT )) st P[ m ]) by A16;
then A19: (ex m being Nat st P[ m ]);
consider l being Nat such that A20: (P[ l ] & (for k being Nat holds (P[ k ] implies l <= k))) from NAT_1:sch 5(A19);
reconsider l as (Element of ( NAT )) by ORDINAL1:def 12;
take l;
thus thesis by A20;
end;
consider F being (Function of ( NAT ),( NAT )) such that A21: (( F . ( 0 ) ) = M9 & (for n being (Element of ( NAT )) holds P[ n,( F . n ),( F . ( n + 1 ) ) ])) from RECDEF_1:sch 2(A18);
A22: ( rng F ) c= ( REAL ) by XBOOLE_1:1;
A23: ( rng F ) c= ( NAT );
A24: ( dom F ) = ( NAT ) by FUNCT_2:def 1;
then reconsider F as Real_Sequence by A22,RELSET_1:4;
A25:now
let n;
( F . n ) in ( rng F ) by A24,FUNCT_1:def 3;
hence ( F . n ) is (Element of ( NAT )) by A23;
end;
now
let n;
(( F . n ) is (Element of ( NAT )) & ( F . ( n + 1 ) ) is (Element of ( NAT ))) by A25;
hence ( F . n ) < ( F . ( n + 1 ) ) by A21;
end;
then reconsider F as  increasing (sequence of ( NAT )) by SEQM_3:def 6;
A26: (( s2 * F ) is  convergent & ( lim ( s2 * F ) ) = x0) by A4,LOPBAN_3:7,LOPBAN_3:8;
A27: (for n holds (( s2 . n ) <> x0 implies (ex m being (Element of ( NAT )) st ( F . m ) = n)))
proof
defpred P[ Nat ]
 means
(( s2 . $1 ) <> x0 & (for m being (Element of ( NAT )) holds ( F . m ) <> $1));
assume (ex n st P[ n ]);
then A28: (ex n being Nat st P[ n ]);
consider M1 being Nat such that A29: (P[ M1 ] & (for n being Nat holds (P[ n ] implies M1 <= n))) from NAT_1:sch 5(A28);
defpred P[ Nat ]
 means
(($1 < M1 & ( s2 . $1 ) <> x0) & (ex m being (Element of ( NAT )) st ( F . m ) = $1));
A30: (ex n being Nat st P[ n ])
proof
take M;
(M <= M1 & M <> M1) by A15,A21,A29;
hence M < M1 by XXREAL_0:1;
thus ( s2 . M ) <> x0 by A15;
take ( 0 );
thus thesis by A21;
end;
A31: (for n being Nat holds (P[ n ] implies n <= M1));
consider MX being Nat such that A32: (P[ MX ] & (for n being Nat holds (P[ n ] implies n <= MX))) from NAT_1:sch 6(A31,A30);
A33: (for k holds ((MX < k & k < M1) implies ( s2 . k ) = x0))
proof
given k such that
A34: MX < k
and
A35: (k < M1 & ( s2 . k ) <> x0);

now
per cases ;
suppose (ex m being (Element of ( NAT )) st ( F . m ) = k);

hence contradiction by A32,A34,A35;
end;
suppose (for m being (Element of ( NAT )) holds ( F . m ) <> k);

hence contradiction by A29,A35;
end;
end;
hence contradiction;
end;
consider m being (Element of ( NAT )) such that A36: ( F . m ) = MX by A32;
A37: (MX < ( F . ( m + 1 ) ) & ( s2 . ( F . ( m + 1 ) ) ) <> x0) by A21,A36;
M1 in ( NAT ) by ORDINAL1:def 12;
then A38: ( F . ( m + 1 ) ) <= M1 by A21,A29,A32,A36;
now
assume ( F . ( m + 1 ) ) <> M1;
then ( F . ( m + 1 ) ) < M1 by A38,XXREAL_0:1;
hence contradiction by A33,A37;
end;
hence contradiction by A29;
end;
A39: (for n holds ( ( s2 * F ) . n ) <> x0)
proof
defpred P[ (Element of ( NAT )) ]
 means
( ( s2 * F ) . $1 ) <> x0;
A40: (for k holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k;
assume that
( ( s2 * F ) . k ) <> x0;
P[ k,( F . k ),( F . ( k + 1 ) ) ] by A21;
then ( s2 . ( F . ( k + 1 ) ) ) <> x0;
hence thesis by FUNCT_2:15;
end;
A41: P[ ( 0 ) ] by A15,A21,FUNCT_2:15;
thus (for n holds P[ n ]) from NAT_1:sch 1(A41,A40);
end;
A42: ( rng ( s2 * F ) ) c= ( rng s2 ) by VALUED_0:21;
then ( rng ( s2 * F ) ) c= ( dom f ) by A3,XBOOLE_1:1;
then A43: (( f /* ( s2 * F ) ) is  convergent & ( f /. x0 ) = ( lim ( f /* ( s2 * F ) ) )) by A2,A39,A26;
A44:now
let p being Real;
assume A45: ( 0 ) < p;
then consider n such that A46: (for m being (Element of ( NAT )) holds (n <= m implies ||. ( ( ( f /* ( s2 * F ) ) . m ) - ( f /. x0 ) ) .|| < p)) by A43,NORMSP_1:def 7;
take k = ( F . n );
let m being (Element of ( NAT ));
assume that
A47: k <= m;
now
per cases ;
suppose A48: ( s2 . m ) = x0;

||. ( ( ( f /* s2 ) . m ) - ( f /. x0 ) ) .|| = ||. ( ( f /. ( s2 . m ) ) - ( f /. x0 ) ) .|| by A3,FUNCT_2:109
.= ||. ( 0. T ) .|| by A48,RLVECT_1:15
.= ( 0 ) by NORMSP_1:1;
hence ||. ( ( ( f /* s2 ) . m ) - ( f /. x0 ) ) .|| < p by A45;
end;
suppose ( s2 . m ) <> x0;

then consider l being (Element of ( NAT )) such that A49: m = ( F . l ) by A27;
n <= l by A47,A49,SEQM_3:1;
then ||. ( ( ( f /* ( s2 * F ) ) . l ) - ( f /. x0 ) ) .|| < p by A46;
then ||. ( ( f /. ( ( s2 * F ) . l ) ) - ( f /. x0 ) ) .|| < p by A3,A42,FUNCT_2:109,XBOOLE_1:1;
then ||. ( ( f /. ( s2 . m ) ) - ( f /. x0 ) ) .|| < p by A49,FUNCT_2:15;
hence ||. ( ( ( f /* s2 ) . m ) - ( f /. x0 ) ) .|| < p by A3,FUNCT_2:109;
end;
end;
hence ||. ( ( ( f /* s2 ) . m ) - ( f /. x0 ) ) .|| < p;
end;
hence ( f /* s2 ) is  convergent by NORMSP_1:def 6;
hence ( f /. x0 ) = ( lim ( f /* s2 ) ) by A44,NORMSP_1:def 7;
end;
end;
hence thesis;
end;
