environ
vocabularies NUMBERS,SUBSET_1,REAL_1,NORMSP_1,SEQ_1,NAT_1,PRE_TOPC,RCOMP_1,TARSKI,CARD_1,ARYTM_3,ARYTM_1,XXREAL_0,RELAT_1,FUNCT_1,SEQ_2,ORDINAL2,STRUCT_0,VALUED_0,SUPINF_2,RLVECT_1,VALUED_1,XREAL_0,ORDINAL1,COMPLEX1,XXREAL_2,FDIFF_1,ZFMISC_1,PARTFUN1,FUNCOP_1,FUNCT_2,LOPBAN_1,XBOOLE_0,FCONT_1,RSSPACE,NFCONT_1,CFCONT_1,LOPBAN_2;
notations TARSKI,SUBSET_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,PRE_TOPC,XXREAL_0,XREAL_0,COMPLEX1,ORDINAL1,NUMBERS,REAL_1,NAT_1,RLVECT_1,STRUCT_0,FUNCOP_1,VALUED_0,VALUED_1,SEQ_1,SEQ_2,SQUARE_1,VFUNCT_1,NORMSP_0,NORMSP_1,RSSPACE,LOPBAN_1,LOPBAN_2,NFCONT_1,FDIFF_1,RECDEF_1,CKB6,CKB9,CKB10,CKB21,CKB29,CKB31;
definitions TARSKI,XBOOLE_0,NFCONT_1,NORMSP_1,BHSP_3,RLVECT_1,SUBSET_1,VALUED_1,STRUCT_0,CKB6,CKB9,CKB10,CKB21,CKB29;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,SUBSET_1,RELSET_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,XREAL_0,FUNCOP_1,SEQ_1,SEQ_2,NAT_1,SEQM_3,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,SEQ_4,NORMSP_1,LOPBAN_1,LOPBAN_2,LOPBAN_3,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,VALUED_1,STRUCT_0,VALUED_0,GRCAT_1,NORMSP_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB29;
schemes NAT_1,SEQ_1,RECDEF_1,FUNCT_2;
registrations FUNCT_1,ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,FDIFF_1,STRUCT_0,LOPBAN_1,LOPBAN_2,VALUED_0,VALUED_1,FUNCT_2,FUNCOP_1,CKB27,CKB28,CKB30;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,PARTFUN2,FDIFF_1,BHSP_3,RSSPACE,VFUNCT_1,LOPBAN_3,NFCONT_1,SEQ_1,VALUED_1,RECDEF_1,NORMSP_1,RELSET_1,BINOP_2,RVSUM_1,CKB9,CKB10,CKB21,CKB29;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve S for non trivial RealNormSpace;
reserve T for non trivial RealNormSpace;
theorem
(for R being (PartFunc of S,T) holds (R is  total implies (R is  REST-like iff (for r being Real holds (r > ( 0 ) implies (ex d being Real st (d > ( 0 ) & (for z being (Point of S) holds ((z <> ( 0. S ) & ||. z .|| < d) implies ( ( ||. z .|| " ) * ||. ( R /. z ) .|| ) < r)))))))))
proof
let R being (PartFunc of S,T);
assume that
A1: R is  total;
A2:now
assume A3: R is  REST-like;
assume (not (for r being Real holds (r > ( 0 ) implies (ex d being Real st (d > ( 0 ) & (for z being (Point of S) holds ((z <> ( 0. S ) & ||. z .|| < d) implies ( ( ||. z .|| " ) * ||. ( R /. z ) .|| ) < r)))))));
then consider r being Real such that A4: r > ( 0 ) and A5: (for d being Real holds (d > ( 0 ) implies (ex z being (Point of S) st ((z <> ( 0. S ) & ||. z .|| < d) & (not ( ( ||. z .|| " ) * ||. ( R /. z ) .|| ) < r)))));
defpred P[ (Element of ( NAT )),(Point of S) ]
 means
(($2 <> ( 0. S ) & ||. $2 .|| < ( 1 / ( $1 + 1 ) )) & (not ( ( ||. $2 .|| " ) * ||. ( R /. $2 ) .|| ) < r));
A6: (for n being (Element of ( NAT )) holds (ex z being (Point of S) st P[ n,z ]))
proof
let n being (Element of ( NAT ));
( 0 ) <= n by NAT_1:2;
then ( 0 ) < ( 1 * ( ( n + 1 ) " ) );
then ( 0 ) < ( 1 / ( n + 1 ) ) by XCMPLX_0:def 9;
hence thesis by A5;
end;
consider s being (sequence of S) such that A7: (for n being (Element of ( NAT )) holds P[ n,( s . n ) ]) from FUNCT_2:sch 3(A6);
A8:now
let p being Real;
assume A9: ( 0 ) < p;
consider n such that A10: ( p " ) < n by SEQ_4:3;
( ( p " ) + ( 0 ) ) < ( n + 1 ) by A10,XREAL_1:8;
then ( 1 / ( n + 1 ) ) < ( 1 / ( p " ) ) by A9,XREAL_1:76;
then A11: ( 1 / ( n + 1 ) ) < p by XCMPLX_1:216;
take n;
let m being (Element of ( NAT ));
assume n <= m;
then A12: ( n + 1 ) <= ( m + 1 ) by XREAL_1:6;
||. ( s . m ) .|| < ( 1 / ( m + 1 ) ) by A7;
then A13: ||. ( ( s . m ) - ( 0. S ) ) .|| < ( 1 / ( m + 1 ) ) by RLVECT_1:13;
( 0 ) <= n by NAT_1:2;
then ( 1 / ( m + 1 ) ) <= ( 1 / ( n + 1 ) ) by A12,XREAL_1:118;
then ||. ( ( s . m ) - ( 0. S ) ) .|| < ( 1 / ( n + 1 ) ) by A13,XXREAL_0:2;
hence ||. ( ( s . m ) - ( 0. S ) ) .|| < p by A11,XXREAL_0:2;
end;
then A14: s is  convergent by NORMSP_1:def 6;
then A15: ( lim s ) = ( 0. S ) by A8,NORMSP_1:def 7;
s is  non-zero by A7,CKB8:1;
then reconsider s as  convergent_to_0 (sequence of S) by A14,A15,CKB21:def 1;
(( ( ||. s .|| " ) (#) ( R /* s ) ) is  convergent & ( lim ( ( ||. s .|| " ) (#) ( R /* s ) ) ) = ( 0. T )) by A3,CKB29:def 1;
then consider n being (Element of ( NAT )) such that A16: (for m being (Element of ( NAT )) holds (n <= m implies ||. ( ( ( ( ||. s .|| " ) (#) ( R /* s ) ) . m ) - ( 0. T ) ) .|| < r)) by A4,NORMSP_1:def 7;
A17: ||. ( ( ( ( ||. s .|| " ) (#) ( R /* s ) ) . n ) - ( 0. T ) ) .|| < r by A16;
( s . n ) <> ( 0. S ) by A7;
then ||. ( s . n ) .|| <> ( 0 ) by NORMSP_0:def 5;
then A18: ||. ( s . n ) .|| > ( 0 ) by NORMSP_1:4;
A19: ||. ( ( ||. ( s . n ) .|| " ) * ( R /. ( s . n ) ) ) .|| = ( ( abs ( ||. ( s . n ) .|| " ) ) * ||. ( R /. ( s . n ) ) .|| ) by NORMSP_1:def 1
.= ( ( ||. ( s . n ) .|| " ) * ||. ( R /. ( s . n ) ) .|| ) by A18,ABSVALUE:def 1;
( dom R ) = (the carrier of S) by A1,PARTFUN1:def 2;
then A20: ( rng s ) c= ( dom R );
||. ( ( ( ( ||. s .|| " ) (#) ( R /* s ) ) . n ) - ( 0. T ) ) .|| = ||. ( ( ( ||. s .|| " ) (#) ( R /* s ) ) . n ) .|| by RLVECT_1:13
.= ||. ( ( ( ||. s .|| " ) . n ) * ( ( R /* s ) . n ) ) .|| by CKB9:def 1
.= ||. ( ( ( ||. s .|| . n ) " ) * ( ( R /* s ) . n ) ) .|| by VALUED_1:10
.= ||. ( ( ||. ( s . n ) .|| " ) * ( ( R /* s ) . n ) ) .|| by NORMSP_0:def 4
.= ||. ( ( ||. ( s . n ) .|| " ) * ( R /. ( s . n ) ) ) .|| by A20,FUNCT_2:109;
hence (for r being Real holds (r > ( 0 ) implies (ex d being Real st (d > ( 0 ) & (for z being (Point of S) holds ((z <> ( 0. S ) & ||. z .|| < d) implies ( ( ||. z .|| " ) * ||. ( R /. z ) .|| ) < r)))))) by A7,A17,A19;
end;
now
assume A21: (for r being Real holds (r > ( 0 ) implies (ex d being Real st (d > ( 0 ) & (for z being (Point of S) holds ((z <> ( 0. S ) & ||. z .|| < d) implies ( ( ||. z .|| " ) * ||. ( R /. z ) .|| ) < r))))));
now
let s being  convergent_to_0 (sequence of S);
A22: s is  non-zero by CKB21:def 1;
A23: (s is  convergent & ( lim s ) = ( 0. S )) by CKB21:def 1;
A24:now
let r being Real;
assume r > ( 0 );
then consider d being Real such that A25: d > ( 0 ) and A26: (for z being (Point of S) holds ((z <> ( 0. S ) & ||. z .|| < d) implies ( ( ||. z .|| " ) * ||. ( R /. z ) .|| ) < r)) by A21;
consider n being (Element of ( NAT )) such that A27: (for m being (Element of ( NAT )) holds (n <= m implies ||. ( ( s . m ) - ( 0. S ) ) .|| < d)) by A23,A25,NORMSP_1:def 7;
take n;
thus (for m being (Element of ( NAT )) holds (n <= m implies ||. ( ( ( ( ||. s .|| " ) (#) ( R /* s ) ) . m ) - ( 0. T ) ) .|| < r))
proof
( dom R ) = (the carrier of S) by A1,PARTFUN1:def 2;
then A28: ( rng s ) c= ( dom R );
let m being (Element of ( NAT ));
assume n <= m;
then ||. ( ( s . m ) - ( 0. S ) ) .|| < d by A27;
then A29: ||. ( s . m ) .|| < d by RLVECT_1:13;
A30: ( s . m ) <> ( 0. S ) by A22,CKB8:1;
( s . m ) <> ( 0. S ) by A22,CKB8:1;
then ||. ( s . m ) .|| <> ( 0 ) by NORMSP_0:def 5;
then ||. ( s . m ) .|| > ( 0 ) by NORMSP_1:4;
then ( ( ||. ( s . m ) .|| " ) * ||. ( R /. ( s . m ) ) .|| ) = ( ( abs ( ||. ( s . m ) .|| " ) ) * ||. ( R /. ( s . m ) ) .|| ) by ABSVALUE:def 1
.= ||. ( ( ||. ( s . m ) .|| " ) * ( R /. ( s . m ) ) ) .|| by NORMSP_1:def 1
.= ||. ( ( ||. ( s . m ) .|| " ) * ( ( R /* s ) . m ) ) .|| by A28,FUNCT_2:109
.= ||. ( ( ( ||. s .|| . m ) " ) * ( ( R /* s ) . m ) ) .|| by NORMSP_0:def 4
.= ||. ( ( ( ||. s .|| " ) . m ) * ( ( R /* s ) . m ) ) .|| by VALUED_1:10
.= ||. ( ( ( ||. s .|| " ) (#) ( R /* s ) ) . m ) .|| by CKB9:def 1
.= ||. ( ( ( ( ||. s .|| " ) (#) ( R /* s ) ) . m ) - ( 0. T ) ) .|| by RLVECT_1:13;
hence thesis by A26,A29,A30;
end;

end;
hence ( ( ||. s .|| " ) (#) ( R /* s ) ) is  convergent by NORMSP_1:def 6;
hence ( lim ( ( ||. s .|| " ) (#) ( R /* s ) ) ) = ( 0. T ) by A24,NORMSP_1:def 7;
end;
hence R is  REST-like by A1,CKB29:def 1;
end;
hence thesis by A2;
end;
