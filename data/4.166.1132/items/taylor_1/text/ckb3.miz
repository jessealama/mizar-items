environ
vocabularies NUMBERS,ORDINAL1,INT_1,XREAL_0,RAT_1,PARTFUN1,PREPOWER,FUNCT_1,REAL_1,SUBSET_1,ARYTM_3,RELAT_1,CARD_1,NEWTON,COMPLEX1,XXREAL_0,FDIFF_1,ARYTM_1,RCOMP_1,TARSKI,XBOOLE_0,VALUED_1,SIN_COS,SEQ_2,ORDINAL2,FCONT_1,FUNCT_2,POWER,SERIES_1,REALSET1,NAT_1,CARD_3,LIMFUNC1,SEQFUNC,SEQ_1,XXREAL_1,TAYLOR_1,IRRAT_1;
notations TARSKI,XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,IRRAT_1,LIMFUNC1,RCOMP_1,FCONT_1,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,RAT_1,ORDINAL1,NUMBERS,REAL_1,NAT_1,INT_1,NEWTON,VALUED_1,PARTFUN2,SEQ_1,SEQ_2,SERIES_1,FDIFF_1,SEQFUNC,PREPOWER,POWER,SIN_COS,CKB1;
definitions SUBSET_1,LIMFUNC1,CKB1;
theorems XBOOLE_1,ABSVALUE,TARSKI,XBOOLE_0,PARTFUN1,PARTFUN2,XCMPLX_1,RELAT_1,CARD_4,RCOMP_1,SEQ_1,SEQ_2,SIN_COS,SERIES_1,FUNCT_1,NAT_1,INT_1,NEWTON,RAT_1,IRRAT_1,POWER,FCONT_1,FDIFF_1,FDIFF_2,ROLLE,SEQ_4,PREPOWER,FUNCT_2,XREAL_0,XREAL_1,XXREAL_0,ORDINAL1,VALUED_1,XXREAL_1,XXREAL_2,CKB1,CKB2;
schemes SEQ_1,RECDEF_1,NAT_1,INT_1,PARTFUN2,FUNCT_2;
registrations XBOOLE_0,RELSET_1,PARTFUN1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,RAT_1,MEMBERED,RCOMP_1,NEWTON,PREPOWER,SIN_COS,VALUED_0,VALUED_1,FUNCT_2,XXREAL_2,ORDINAL1,SEQ_4,FCONT_3,ABIAN;
constructors PARTFUN1,ARYTM_0,REAL_1,NAT_1,SEQ_2,RCOMP_1,PARTFUN2,RFUNCT_2,FCONT_1,LIMFUNC1,FDIFF_1,SEQFUNC,PREPOWER,COMSEQ_3,SIN_COS,SEQ_1,XXREAL_2,SERIES_1,VALUED_1,POWER,RELSET_1,ABIAN,CKB1;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve n for  natural number;
reserve x for  real number;
reserve y for  real number;
theorem
Th2: (( #Z n ) is_differentiable_in x & ( diff (( #Z n ),x) ) = ( n * ( x #Z ( n - 1 ) ) ))
proof
defpred P[  natural number ]
 means
(for x being  real number holds (( #Z $1 ) is_differentiable_in x & ( diff (( #Z $1 ),x) ) = ( $1 * ( x #Z ( $1 - 1 ) ) )));
A1: (for k being  natural number holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
A2:now
let x being Real;
assume that
x in ( REAL );
thus ( ( #Z 1 ) . x ) = ( x #Z 1 ) by CKB1:def 1
.= ( ( 1 * x ) + ( 0 ) ) by PREPOWER:35;
end;
A3: ( [#] ( REAL ) ) is  open  open (Subset of ( REAL ));
A4: ( REAL ) c= ( dom ( #Z 1 ) ) by FUNCT_2:def 1;
then A5: ( #Z 1 ) is_differentiable_on ( REAL ) by A2,A3,FDIFF_1:23;
A6: (for x being  real number holds (( #Z 1 ) is_differentiable_in x & ( diff (( #Z 1 ),x) ) = 1))
proof
let x being  real number;
A7: x is Real by XREAL_0:def 1;
hence ( #Z 1 ) is_differentiable_in x by A3,A5,FDIFF_1:9;
thus ( diff (( #Z 1 ),x) ) = ( ( ( #Z 1 ) `| ( REAL ) ) . x ) by A5,A7,FDIFF_1:def 7
.= 1 by A2,A4,A3,A7,FDIFF_1:23;
end;
let k being  natural number;
assume that
A8: P[ k ];
now
per cases ;
case A9: k = ( 0 );
thus P[ ( k + 1 ) ]
proof
let x being  real number;
thus ( #Z ( k + 1 ) ) is_differentiable_in x by A6,A9;
thus ( diff (( #Z ( k + 1 ) ),x) ) = 1 by A6,A9
.= ( ( k + 1 ) * ( x #Z ( ( k + 1 ) - 1 ) ) ) by A9,PREPOWER:34;
end;

end;
case k <> ( 0 );
then 1 <= k by NAT_1:14;
then ( 1 - 1 ) <= ( k - 1 ) by XREAL_1:13;
then reconsider k1 = ( k - 1 ) as (Element of ( NAT )) by INT_1:3;
let x being  real number;
A10: ( REAL ) = ( dom ( #Z ( k + 1 ) ) ) by FUNCT_2:def 1;
A11: (x is Real & ( #Z k ) is_differentiable_in x) by A8,XREAL_0:def 1;
A12: (for x being set holds (x in ( dom ( #Z ( k + 1 ) ) ) implies ( ( #Z ( k + 1 ) ) . x ) = ( ( ( #Z k ) . x ) * ( ( #Z 1 ) . x ) )))
proof
let x being set;
assume x in ( dom ( #Z ( k + 1 ) ) );
then reconsider x1 = x as Real;
thus ( ( #Z ( k + 1 ) ) . x ) = ( x1 #Z ( k + 1 ) ) by CKB1:def 1
.= ( ( x1 #Z k ) * ( x1 #Z 1 ) ) by CKB2:1
.= ( ( ( #Z k ) . x ) * ( x1 #Z 1 ) ) by CKB1:def 1
.= ( ( ( #Z k ) . x ) * ( ( #Z 1 ) . x ) ) by CKB1:def 1;
end;
A13: ( #Z 1 ) is_differentiable_in x by A6;
A14: ( ( dom ( #Z k ) ) /\ ( dom ( #Z 1 ) ) ) = ( ( [#] ( REAL ) ) /\ ( dom ( #Z 1 ) ) ) by FUNCT_2:def 1
.= ( ( [#] ( REAL ) ) /\ ( REAL ) ) by FUNCT_2:def 1;
then ( #Z ( k + 1 ) ) = ( ( #Z k ) (#) ( #Z 1 ) ) by A10,A12,VALUED_1:def 4;
hence ( #Z ( k + 1 ) ) is_differentiable_in x by A11,A13,FDIFF_1:16;
thus ( diff (( #Z ( k + 1 ) ),x) ) = ( diff (( ( #Z k ) (#) ( #Z 1 ) ),x) ) by A14,A10,A12,VALUED_1:def 4
.= ( ( ( ( #Z k ) . x ) * ( diff (( #Z 1 ),x) ) ) + ( ( diff (( #Z k ),x) ) * ( ( #Z 1 ) . x ) ) ) by A11,A13,FDIFF_1:16
.= ( ( ( ( #Z k ) . x ) * 1 ) + ( ( diff (( #Z k ),x) ) * ( ( #Z 1 ) . x ) ) ) by A6
.= ( ( ( x #Z k ) * 1 ) + ( ( diff (( #Z k ),x) ) * ( ( #Z 1 ) . x ) ) ) by CKB1:def 1
.= ( ( ( x #Z k ) * 1 ) + ( ( diff (( #Z k ),x) ) * ( x #Z 1 ) ) ) by CKB1:def 1
.= ( ( x #Z k ) + ( ( k * ( x #Z k1 ) ) * ( x #Z 1 ) ) ) by A8
.= ( ( x #Z k ) + ( k * ( ( x #Z k1 ) * ( x #Z 1 ) ) ) )
.= ( ( x #Z k ) + ( k * ( x #Z ( k1 + 1 ) ) ) ) by CKB2:1
.= ( ( k + 1 ) * ( x #Z ( ( k + 1 ) - 1 ) ) );
end;
end;
hence thesis;
end;
A15: P[ ( 0 ) ]
proof
let x being  real number;
set f = ( #Z ( 0 ) );
now
( dom f ) = ( REAL ) by FUNCT_2:def 1;
then consider x being set such that A16: x in ( dom f );
reconsider x1 = x as Real by A16;
let y being set;
assume that
A17: y in { 1 };
( f . x ) = ( x1 #Z ( 0 ) ) by CKB1:def 1
.= 1 by PREPOWER:34
.= y by A17,TARSKI:def 1;
hence y in ( rng f ) by A16,FUNCT_1:def 3;
end;
then A18: { 1 } c= ( rng f ) by TARSKI:def 3;
now
let y being set;
assume y in ( rng f );
then consider x being set such that A19: x in ( dom f ) and A20: y = ( f . x ) by FUNCT_1:def 3;
reconsider x as Real by A19;
( f . x ) = ( x #Z ( 0 ) ) by CKB1:def 1
.= 1 by PREPOWER:34;
hence y in { 1 } by A20,TARSKI:def 1;
end;
then ( rng f ) c= { 1 } by TARSKI:def 3;
then A21: ( rng f ) = { 1 } by A18,XBOOLE_0:def 10;
A22: ( dom f ) = ( [#] ( REAL ) ) by FUNCT_2:def 1;
then A23: f is_differentiable_on ( dom f ) by A21,FDIFF_1:11;
A24: x is Real by XREAL_0:def 1;
then ( ( f `| ( dom f ) ) . x ) = ( 0 ) by A21,A22,FDIFF_1:11;
hence (f is_differentiable_in x & ( diff (f,x) ) = ( ( 0 ) * ( x #Z ( ( 0 ) - 1 ) ) )) by A24,A23,A22,FDIFF_1:9,FDIFF_1:def 7;
end;
(for n being  natural number holds P[ n ]) from NAT_1:sch 2(A15,A1);
hence thesis;
end;
