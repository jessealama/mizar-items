environ
vocabularies NUMBERS,ORDINAL1,INT_1,XREAL_0,RAT_1,PARTFUN1,PREPOWER,FUNCT_1,REAL_1,SUBSET_1,ARYTM_3,RELAT_1,CARD_1,NEWTON,COMPLEX1,XXREAL_0,FDIFF_1,ARYTM_1,RCOMP_1,TARSKI,XBOOLE_0,VALUED_1,SIN_COS,SEQ_2,ORDINAL2,FCONT_1,FUNCT_2,POWER,SERIES_1,REALSET1,NAT_1,CARD_3,LIMFUNC1,SEQFUNC,SEQ_1,XXREAL_1,TAYLOR_1,IRRAT_1;
notations TARSKI,XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,IRRAT_1,LIMFUNC1,RCOMP_1,FCONT_1,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,RAT_1,ORDINAL1,NUMBERS,REAL_1,NAT_1,INT_1,NEWTON,VALUED_1,PARTFUN2,SEQ_1,SEQ_2,SERIES_1,FDIFF_1,SEQFUNC,PREPOWER,POWER,SIN_COS,CKB1,CKB25,CKB26,CKB30,CKB33,CKB34,CKB36;
definitions SUBSET_1,LIMFUNC1,CKB1,CKB25,CKB26,CKB30,CKB33,CKB34,CKB36;
theorems XBOOLE_1,ABSVALUE,TARSKI,XBOOLE_0,PARTFUN1,PARTFUN2,XCMPLX_1,RELAT_1,CARD_4,RCOMP_1,SEQ_1,SEQ_2,SIN_COS,SERIES_1,FUNCT_1,NAT_1,INT_1,NEWTON,RAT_1,IRRAT_1,POWER,FCONT_1,FDIFF_1,FDIFF_2,ROLLE,SEQ_4,PREPOWER,FUNCT_2,XREAL_0,XREAL_1,XXREAL_0,ORDINAL1,VALUED_1,XXREAL_1,XXREAL_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38;
schemes SEQ_1,RECDEF_1,NAT_1,INT_1,PARTFUN2,FUNCT_2;
registrations XBOOLE_0,RELSET_1,PARTFUN1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,RAT_1,MEMBERED,RCOMP_1,NEWTON,PREPOWER,SIN_COS,VALUED_0,VALUED_1,FUNCT_2,XXREAL_2,ORDINAL1,SEQ_4,FCONT_3,ABIAN,CKB22,CKB24;
constructors PARTFUN1,ARYTM_0,REAL_1,NAT_1,SEQ_2,RCOMP_1,PARTFUN2,RFUNCT_2,FCONT_1,LIMFUNC1,FDIFF_1,SEQFUNC,PREPOWER,COMSEQ_3,SIN_COS,SEQ_1,XXREAL_2,SERIES_1,VALUED_1,POWER,RELSET_1,ABIAN,CKB1,CKB25,CKB26,CKB30,CKB33,CKB34,CKB36;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve n for  natural number;
reserve f for (PartFunc of ( REAL ),( REAL ));
theorem
Lm7: (for n being (Element of ( NAT )) holds (for f being (PartFunc of ( REAL ),( REAL )) holds (for Z being (Subset of ( REAL )) holds (for b being Real holds (ex g being (PartFunc of ( REAL ),( REAL )) st (( dom g ) = Z & (for x being Real holds (x in Z implies ( g . x ) = ( ( f . b ) - ( ( Partial_Sums ( Taylor (f,Z,x,b) ) ) . n ) )))))))))
proof
let n being (Element of ( NAT ));
let f being (PartFunc of ( REAL ),( REAL ));
let Z being (Subset of ( REAL ));
let b being Real;
defpred X[ set ]
 means
$1 in Z;
deffunc U(Real) = ( ( f . b ) - ( ( Partial_Sums ( Taylor (f,Z,$1,b) ) ) . n ) );
consider g being (PartFunc of ( REAL ),( REAL )) such that A1: (for d being (Element of ( REAL )) holds (d in ( dom g ) iff X[ d ])) and A2: (for d being (Element of ( REAL )) holds (d in ( dom g ) implies ( g /. d ) = U(d))) from PARTFUN2:sch 2;
take g;
(for x being set holds (x in ( dom g ) implies x in Z)) by A1;
then A3: ( dom g ) c= Z by TARSKI:def 3;
(for x being set holds (x in Z implies x in ( dom g ))) by A1;
then A4: Z c= ( dom g ) by TARSKI:def 3;
(for d being Real holds (d in Z implies ( g . d ) = ( ( f . b ) - ( ( Partial_Sums ( Taylor (f,Z,d,b) ) ) . n ) )))
proof
let d being Real;
assume that
A5: d in Z;
( g /. d ) = ( ( f . b ) - ( ( Partial_Sums ( Taylor (f,Z,d,b) ) ) . n ) ) by A2,A4,A5;
hence thesis by A4,A5,PARTFUN1:def 6;
end;
hence thesis by A3,A4,XBOOLE_0:def 10;
end;
