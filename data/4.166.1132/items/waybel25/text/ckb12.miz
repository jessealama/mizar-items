environ
vocabularies PRE_TOPC,WAYBEL18,CARD_1,RCOMP_1,STRUCT_0,SUBSET_1,XBOOLE_0,TARSKI,REWRITE1,WAYBEL11,WAYBEL_9,FUNCTOR0,T_0TOPSP,YELLOW_9,CARD_3,FUNCOP_1,YELLOW_1,RELAT_1,RLVECT_2,FUNCT_1,ZFMISC_1,ORDERS_2,WAYBEL_0,CAT_1,TOPS_2,WELLORD1,ORDINAL2,GROUP_6,WAYBEL_1,FUNCT_3,BORSUK_1,EQREL_1,XXREAL_0,LATTICE3,YELLOW_0,WAYBEL_3,RELAT_2,PROB_1,BINOP_1,SEQM_3,WAYBEL24,FUNCT_2,NEWTON,FUNCT_6,YELLOW_2,ORDINAL1,CONNSP_2,TOPS_1,SEQ_2,YELLOW_8,SETFAM_1,WAYBEL25;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,NUMBERS,NATTRA_1,TOLER_1,QUANTAL1,CARD_3,PRALG_1,FUNCT_6,FUNCOP_1,WAYBEL18,DOMAIN_1,STRUCT_0,PRE_TOPC,CONNSP_2,TOPS_1,TOPS_2,COMPTS_1,BORSUK_1,TMAP_1,T_0TOPSP,BORSUK_3,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_2,WAYBEL_1,WAYBEL_2,YELLOW_6,WAYBEL_3,YELLOW_8,WAYBEL_9,WAYBEL11,YELLOW_9,WAYBEL17,YELLOW_1,WAYBEL24,YELLOW14;
definitions TARSKI,XBOOLE_0,SUBSET_1,PRE_TOPC,TOPS_2,ORDERS_2,RELAT_1,RELAT_2,STRUCT_0,WAYBEL_1,T_0TOPSP,WAYBEL18,LATTICE3,YELLOW_6,WAYBEL_0,WAYBEL_9,YELLOW14,YELLOW_2,WELLORD1;
theorems TARSKI,PRE_TOPC,ZFMISC_1,ORDERS_2,T_0TOPSP,FUNCT_1,FUNCT_2,QUANTAL1,RELAT_1,FINSEQ_5,TEX_1,PRALG_1,FUNCOP_1,CARD_3,BORSUK_1,WAYBEL14,TOPS_1,TOPS_2,TOPS_3,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_4,YELLOW_6,YELLOW_9,YELLOW12,WAYBEL_0,WAYBEL_1,WAYBEL_2,WAYBEL_7,WAYBEL_9,WAYBEL11,LATTICE3,WAYBEL10,WAYBEL13,WAYBEL15,WAYBEL17,WAYBEL18,WAYBEL20,WAYBEL24,CONNSP_2,WAYBEL_3,FUNCT_5,WAYBEL_8,TSEP_1,EQUATION,TOPGRP_1,WAYBEL21,ENUMSET1,YELLOW14,RELSET_1,XBOOLE_0,XBOOLE_1,FUNCT_6,YELLOW_8,PARTFUN1,CKB1,CKB2,CKB7,CKB8,CKB9,CKB10,CKB11;
schemes FUNCT_2,RELSET_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,STRUCT_0,PRE_TOPC,TOPS_1,BORSUK_1,LATTICE3,YELLOW_0,TEX_1,TSP_1,BORSUK_2,WAYBEL_0,YELLOW_1,WAYBEL_1,WAYBEL_2,WAYBEL_3,WAYBEL_8,WAYBEL10,WAYBEL17,YELLOW_9,WAYBEL18,WAYBEL19,WAYBEL21,BORSUK_3,WAYBEL24,YELLOW14,RELSET_1,CKB3,CKB4,CKB5,CKB6;
constructors TOLER_1,FUNCT_6,TOPS_1,TOPS_2,NATTRA_1,BORSUK_1,GRCAT_1,TMAP_1,CANTOR_1,MONOID_0,QUANTAL1,ORDERS_3,WAYBEL_1,WAYBEL_8,YELLOW_8,WAYBEL17,YELLOW_9,BORSUK_3,WAYBEL24,YELLOW14,COMPTS_1,WAYBEL_2;
requirements SUBSET,BOOLE;
begin
definition
let X being non  empty TopSpace;
let Y being non  empty TopSpace;
redefine pred X is_Retract_of Y
means
:Def1: (ex c being  continuous (Function of X,Y) st (ex r being  continuous (Function of Y,X) st ( r * c ) = ( id X )))
;compatibility
proof
thus (X is_Retract_of Y implies (ex c being  continuous (Function of X,Y) st (ex r being  continuous (Function of Y,X) st ( r * c ) = ( id X ))))
proof
given f being (Function of Y,Y) such that
A1: f is  continuous
and
A2: ( f * f ) = f
and
A3: ( Image f ),X are_homeomorphic ;

consider h being (Function of ( Image f ),X) such that A4: h is  being_homeomorphism by A3,T_0TOPSP:def 1;
A5: ( corestr f ) is  continuous by A1,WAYBEL18:10;
( h " ) is  continuous by A4,TOPS_2:def 5;
then reconsider c = ( ( incl ( Image f ) ) * ( h " ) ) as  continuous (Function of X,Y);
h is  continuous by A4,TOPS_2:def 5;
then reconsider r = ( h * ( corestr f ) ) as  continuous (Function of Y,X) by A5;
take c;
take r;
A6: ( rng h ) = ( [#] X ) by A4,TOPS_2:def 5;
A7: h is  one-to-one by A4,TOPS_2:def 5;
thus ( r * c ) = ( h * ( ( corestr f ) * ( ( incl ( Image f ) ) * ( h " ) ) ) ) by RELAT_1:36
.= ( h * ( ( ( corestr f ) * ( incl ( Image f ) ) ) * ( h " ) ) ) by RELAT_1:36
.= ( h * ( ( id ( Image f ) ) * ( h " ) ) ) by A2,YELLOW14:35
.= ( h * ( h " ) ) by FUNCT_2:17
.= ( id X ) by A6,A7,TOPS_2:52;
end;

given c being  continuous (Function of X,Y),r being  continuous (Function of Y,X) such that
A8: ( r * c ) = ( id X );

take f = ( c * r );
A9: ( dom c ) = (the carrier of X) by FUNCT_2:def 1
.= ( rng r ) by A8,FUNCT_2:18;
then reconsider cf = ( corestr c ) as (Function of X,( Image f )) by RELAT_1:28;
A10: ( Image f ) = ( Image c ) by A9,RELAT_1:28;
(the carrier of ( Image c )) c= (the carrier of Y) by BORSUK_1:1;
then ( id ( Image c ) ) is (Function of (the carrier of ( Image c )),(the carrier of Y)) by FUNCT_2:7;
then reconsider q = ( r * ( id ( Image c ) ) ) as (Function of ( Image f ),X) by A10;
A11: ( [#] X ) <> ( {} );
A12: (for P being (Subset of X) holds (P is  open implies ( q " P ) is  open))
proof
let P being (Subset of X);
A13: ( dom ( id ( Image c ) ) ) = ( [#] ( Image c ) ) by FUNCT_2:def 1;
A14: ( ( id ( Image c ) ) " ( r " P ) ) = ( ( r " P ) /\ ( [#] ( Image c ) ) )
proof
thus ( ( id ( Image c ) ) " ( r " P ) ) c= ( ( r " P ) /\ ( [#] ( Image c ) ) )
proof
let a being set;
assume A15: a in ( ( id ( Image c ) ) " ( r " P ) );
then ( ( id ( Image c ) ) . a ) in ( r " P ) by FUNCT_1:def 7;
then a in ( r " P ) by A15,FUNCT_1:18;
hence thesis by A15,XBOOLE_0:def 4;
end;

let a being set;
assume A16: a in ( ( r " P ) /\ ( [#] ( Image c ) ) );
then a in ( r " P ) by XBOOLE_0:def 4;
then ( ( id ( Image c ) ) . a ) in ( r " P ) by A16,FUNCT_1:18;
hence thesis by A13,A16,FUNCT_1:def 7;
end;
assume P is  open;
then ( r " P ) is  open by A11,TOPS_2:43;
then A17: ( r " P ) in (the topology of Y) by PRE_TOPC:def 2;
( q " P ) = ( ( id ( Image c ) ) " ( r " P ) ) by RELAT_1:146;
hence ( q " P ) in (the topology of ( Image f )) by A10,A17,A14,PRE_TOPC:def 4;
end;
A18: ( r * ( cf * ( cf " ) ) ) = ( ( id X ) * ( cf " ) ) by A8,RELAT_1:36;
thus f is  continuous;
thus ( f * f ) = ( c * ( r * ( c * r ) ) ) by RELAT_1:36
.= ( c * ( ( id X ) * r ) ) by A8,RELAT_1:36
.= f by FUNCT_2:17;
take h = ( cf " );
thus ( dom h ) = ( [#] ( Image f ) ) by FUNCT_2:def 1;
A19: ( rng ( corestr c ) ) = ( [#] ( Image c ) ) by FUNCT_2:def 3;
A20: c is  one-to-one by A8,FUNCT_2:23;
hence ( rng h ) = ( [#] X ) by A10,A19,TOPS_2:49;
( (( corestr c ) qua Function) " ) is  one-to-one by A20;
hence h is  one-to-one by A10,A20,TOPS_2:def 4;
( corestr c ) is  one-to-one by A8,FUNCT_2:23;
then ( r * ( id (the carrier of ( Image c )) ) ) = ( ( id X ) * ( cf " ) ) by A10,A19,A18,TOPS_2:52;
then ( r * ( id ( Image c ) ) ) = ( cf " ) by FUNCT_2:17;
hence h is  continuous by A11,A12,TOPS_2:43;
( corestr c ) is  continuous by WAYBEL18:10;
hence thesis by A10,A19,A20,TOPS_2:51;
end;
end;
