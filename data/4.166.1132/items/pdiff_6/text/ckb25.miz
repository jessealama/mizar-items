environ
vocabularies PRE_TOPC,RLVECT_1,FUNCT_1,ARYTM_3,ARYTM_1,FINSEQ_1,VALUED_1,MSSUBFAM,FINSEQ_2,CARD_3,RVSUM_1,RELAT_1,COMPLEX1,SQUARE_1,RCOMP_1,PARTFUN1,NORMSP_1,XBOOLE_0,LOPBAN_1,FDIFF_1,REAL_NS1,BORSUK_1,EUCLID,NUMBERS,FUNCOP_1,STRUCT_0,UNIALG_1,EUCLID_7,MATRIXR2,RFINSEQ2,REAL_1,SUBSET_1,CARD_1,TARSKI,XXREAL_0,XXREAL_2,NAT_1,ORDINAL4,SUPINF_2,VALUED_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,COMPLEX1,REAL_1,NAT_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,SEQ_1,STRUCT_0,RLVECT_1,FINSEQ_1,FINSEQ_2,SQUARE_1,VALUED_0,VALUED_1,VALUED_2,RVSUM_1,GRCAT_1,PRE_TOPC,VFUNCT_1,NORMSP_0,NORMSP_1,EUCLID,LOPBAN_1,NFCONT_1,NDIFF_1,REAL_NS1,PDIFF_1,INTEGR15,EUCLID_7,RFINSEQ2,CKB11,CKB12,CKB18,CKB20,CKB21;
definitions LOPBAN_1,RVSUM_1,EUCLID,VALUED_1,FINSEQ_1,XCMPLX_0,RFINSEQ2,VALUED_2,SQUARE_1,CKB11,CKB12,CKB21;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,EUCLID,XREAL_1,XCMPLX_0,RLVECT_1,COMPLEX1,FINSEQ_1,FINSEQ_2,ORDINAL1,NAT_1,XXREAL_0,RVSUM_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,SQUARE_1,INTEGR15,FUNCOP_1,EUCLID_7,FINSEQ_4,FINSEQ_5,NORMSP_1,LOPBAN_1,PARTFUN1,PARTFUN2,NFCONT_1,NDIFF_1,REAL_NS1,VALUED_1,PDIFF_1,RFINSEQ2,RLVECT_4,JORDAN2C,GRCAT_1,NORMSP_0,VALUED_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB19,CKB21,CKB22,CKB23,CKB24;
schemes FUNCT_2,NAT_1,FINSEQ_1,RECDEF_1;
registrations RELSET_1,STRUCT_0,XREAL_0,MEMBERED,LOPBAN_1,FUNCT_2,NAT_1,REAL_NS1,NUMBERS,XBOOLE_0,XXREAL_0,VALUED_0,EUCLID,FINSEQ_2,CARD_1,VALUED_1,VALUED_2,CKB16,CKB17;
constructors REAL_1,SQUARE_1,RSSPACE3,FINSEQOP,VFUNCT_1,COMPLEX1,NFCONT_1,NDIFF_1,SEQ_1,PDIFF_1,BINOP_2,MONOID_0,INTEGR15,RELSET_1,EUCLID_7,RFINSEQ2,GRCAT_1,JORDAN2B,VALUED_2,CKB11,CKB12,CKB20,CKB21;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
registration
let m being Nat;
let n being Nat;
cluster  ->  bounded for (LinearOperator of m,n);
coherence
proof
let f being (LinearOperator of m,n);
A1: (m in ( NAT ) & n in ( NAT )) by ORDINAL1:def 12;
defpred KSX[ Nat,set ]
 means
$2 = |. ( f . ( Base_FinSeq (m,$1) ) ) .|;
A2: (for k0 being Nat holds (k0 in ( Seg m ) implies (ex v being (Element of ( REAL )) st KSX[ k0,v ])));
consider KS being (FinSequence of ( REAL )) such that A3: (( dom KS ) = ( Seg m ) & (for i being Nat holds (i in ( Seg m ) implies KSX[ i,( KS . i ) ]))) from FINSEQ_1:sch 5(A2);
set K = ( ( Sum KS ) + 1 );
now
let j being Nat;
assume j in ( dom KS );
then ( KS . j ) = |. ( f . ( Base_FinSeq (m,j) ) ) .| by A3;
hence ( 0 ) <= ( KS . j );
end;
then A4: ( 0 ) <= ( Sum KS ) by RVSUM_1:84;
reconsider m0 = m as Nat;
now
let x being (Element of ( REAL m ));
A5: ( len ( ProjFinSeq x ) ) = m by EUCLID_7:def 12;
defpred PFX[ set,set ]
 means
$2 = ( f . ( ( ProjFinSeq x ) . $1 ) );
A6:now
let k being Nat;
assume k in ( Seg m );
then k in ( dom ( ProjFinSeq x ) ) by A5,FINSEQ_1:def 3;
then reconsider v = ( ( ProjFinSeq x ) . k ) as (Element of ( REAL m )) by PARTFUN1:4;
( f . v ) is (Element of ( REAL n ));
hence (ex x being (Element of ( REAL n )) st PFX[ k,x ]);
end;
consider fx being (FinSequence of ( REAL n )) such that A7: (( dom fx ) = ( Seg m ) & (for i being Nat holds (i in ( Seg m ) implies PFX[ i,( fx . i ) ]))) from FINSEQ_1:sch 5(A6);
A8: (x = ( Sum ( ProjFinSeq x ) ) & ( len fx ) = m) by A1,A7,EUCLID_7:31,FINSEQ_1:def 3;
now
let i being (Element of ( NAT ));
assume i in ( dom ( ProjFinSeq x ) );
then i in ( Seg m ) by A5,FINSEQ_1:def 3;
hence ( fx . i ) = ( f . ( ( ProjFinSeq x ) . i ) ) by A7;
end;
then A9: ( Sum fx ) = ( f . x ) by A1,A5,A8,CKB23:1;
reconsider x0 = x as (Element of ( REAL m ));
A10: (for i being Nat holds ((1 <= i & i <= m) implies (ex v being (Element of ( REAL n )) st (v = ( fx . i ) & |. v .| <= ( |. x .| * |. ( f . ( Base_FinSeq (m,i) ) ) .| )))))
proof
let i being Nat;
assume A11: (1 <= i & i <= m);
then A12: ( ( ProjFinSeq x ) . i ) = ( |( x,( Base_FinSeq (m,i) ) )| * ( Base_FinSeq (m,i) ) ) by EUCLID_7:def 12;
A13: i in ( Seg m ) by A11,FINSEQ_1:1;
then reconsider v = ( fx . i ) as (Element of ( REAL n )) by A7,PARTFUN1:4;
take v;
v = ( f . ( ( ProjFinSeq x ) . i ) ) by A7,A13;
then v = ( |( x,( Base_FinSeq (m,i) ) )| * ( f . ( Base_FinSeq (m,i) ) ) ) by A12,CKB12:def 1;
then v = ( ( x0 . i ) * ( f . ( Base_FinSeq (m,i) ) ) ) by A11,EUCLID_7:30;
then |. v .| = ( |. ( x0 . i ) .| * |. ( f . ( Base_FinSeq (m,i) ) ) .| ) by EUCLID:11;
hence thesis by A13,REAL_NS1:8,XREAL_1:64;
end;
defpred ZFX[ set,set ]
 means
(ex v being (Element of ( REAL n )) st (v = ( fx . $1 ) & $2 = |. v .|));
A14:now
let k being Nat;
assume k in ( Seg m );
then reconsider v = ( fx . k ) as (Element of ( REAL n )) by A7,PARTFUN1:4;
|. v .| in ( REAL );
hence (ex x being (Element of ( REAL )) st ZFX[ k,x ]);
end;
consider zfx being (FinSequence of ( REAL )) such that A15: (( dom zfx ) = ( Seg m ) & (for i being Nat holds (i in ( Seg m ) implies ZFX[ i,( zfx . i ) ]))) from FINSEQ_1:sch 5(A14);
A16: ( len zfx ) = m by A1,A15,FINSEQ_1:def 3;
then A17: ( len fx ) = ( len zfx ) by A7,FINSEQ_1:def 3;
(for i being (Element of ( NAT )) holds (i in ( dom fx ) implies (ex v being (Element of ( REAL n )) st (v = ( fx . i ) & ( zfx . i ) = |. v .|)))) by A7,A15;
then A18: |. ( f . x ) .| <= ( Sum zfx ) by A1,A9,A17,CKB24:1;
A19:now
let j being Nat;
assume A20: j in ( Seg m );
then A21: (ex v being (Element of ( REAL n )) st (v = ( fx . j ) & ( zfx . j ) = |. v .|)) by A15;
(1 <= j & j <= m) by A20,FINSEQ_1:1;
then (ex v being (Element of ( REAL n )) st (v = ( fx . j ) & |. v .| <= ( |. x .| * |. ( f . ( Base_FinSeq (m,j) ) ) .| ))) by A10;
then ( zfx . j ) <= ( |. x .| * ( KS . j ) ) by A3,A20,A21;
hence ( zfx . j ) <= ( ( |. x .| * KS ) . j ) by VALUED_1:6;
end;
A22: zfx is (Element of ( m -tuples_on ( REAL ) )) by A16,FINSEQ_2:92;
( len KS ) = m by A1,A3,FINSEQ_1:def 3;
then reconsider KS0 = KS as (Element of ( REAL m0 )) by FINSEQ_2:92;
( |. x .| * KS0 ) is (Element of ( m0 -tuples_on ( REAL ) ));
then ( Sum zfx ) <= ( Sum ( |. x .| * KS ) ) by A19,A22,RVSUM_1:82;
then ( Sum zfx ) <= ( |. x .| * ( Sum KS ) ) by RVSUM_1:87;
then A23: |. ( f . x ) .| <= ( |. x .| * ( Sum KS ) ) by A18,XXREAL_0:2;
( ( 0 ) + ( Sum KS ) ) <= ( 1 + ( Sum KS ) ) by XREAL_1:6;
then ( |. x .| * ( Sum KS ) ) <= ( |. x .| * ( 1 + ( Sum KS ) ) ) by XREAL_1:64;
hence |. ( f . x ) .| <= ( K * |. x .| ) by A23,XXREAL_0:2;
end;
hence thesis by A4,CKB21:def 1;
end;
end;
