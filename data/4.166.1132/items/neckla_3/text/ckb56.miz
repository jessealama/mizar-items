environ
vocabularies NUMBERS,RELAT_1,XBOOLE_0,ZFMISC_1,TARSKI,RELAT_2,STRUCT_0,FINSET_1,ORDERS_2,CARD_1,CAT_1,YELLOW_0,WELLORD1,NECKLA_2,NECKLACE,SUBSET_1,FUNCT_1,XXREAL_0,SEQM_3,REWRITE1,FINSEQ_1,NAT_1,ARYTM_3,FINSEQ_5,EQREL_1,MSUALG_5,CLASSES2,FUNCOP_1,FUNCT_4,ARYTM_1,NECKLA_3;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,ZFMISC_1,RELAT_1,RELAT_2,RELSET_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,DOMAIN_1,STRUCT_0,ORDERS_2,WAYBEL_1,FUNCOP_1,CLASSES2,NECKLACE,WAYBEL_0,FUNCT_4,REWRITE1,FINSEQ_1,FINSEQ_5,EQREL_1,MSUALG_5,YELLOW_0,NECKLA_2,WELLORD1,CKB43,CKB44,CKB50,CKB51;
definitions XBOOLE_0,TARSKI,NECKLACE,RELAT_2,FUNCOP_1,WELLORD1,STRUCT_0,CKB44,CKB50,CKB51;
theorems RELSET_1,NECKLACE,XBOOLE_0,WAYBEL_0,YELLOW_0,FUNCT_1,FUNCT_2,ORDERS_2,RELAT_2,SUBSET_1,ZFMISC_1,XBOOLE_1,TARSKI,MCART_1,CLASSES2,CLASSES1,NECKLA_2,FUNCOP_1,ENUMSET1,RELAT_1,SYSREL,PARTFUN1,GROUP_6,CARD_2,REWRITE1,FINSEQ_1,FINSEQ_3,FINSEQ_5,NAT_1,EQREL_1,MSUALG_6,MSUALG_5,CARD_1,NAT_2,FUNCT_4,FUNCT_3,WAYBEL_1,YELLOW_6,REALSET1,XREAL_1,XXREAL_0,ORDINAL1,NAT_D,STRUCT_0,CKB1,CKB2,CKB3,CKB5,CKB7,CKB11,CKB21,CKB22,CKB23,CKB24,CKB25,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB47,CKB49,CKB50,CKB51,CKB53,CKB54,CKB55;
schemes NAT_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,CARD_1,FINSEQ_1,REALSET1,STRUCT_0,ORDERS_2,YELLOW_0,NECKLACE,NECKLA_2,ORDINAL1,FUNCT_4,RELSET_1,ZFMISC_1,CKB4,CKB6,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB26,CKB27,CKB37,CKB45,CKB46,CKB48,CKB52;
constructors XXREAL_0,NAT_1,EQREL_1,CLASSES1,TOLER_1,CLASSES2,FINSEQ_5,REWRITE1,REALSET2,MSUALG_5,ORDERS_3,WAYBEL_1,NECKLACE,NECKLA_2,RELSET_1,CKB44,CKB51;
requirements BOOLE,SUBSET,REAL,NUMERALS,ARITHM;
begin
theorem
Th32: (for R being non empty  irreflexive  symmetric RelStr holds ((not ( ComplRelStr R ) is  path-connected) implies (ex G1,G2 being non empty  strict  irreflexive  symmetric RelStr st ((the carrier of G1) misses (the carrier of G2) & ( the RelStr of R ) = ( sum_of (G1,G2) )))))
proof
let R being non empty  irreflexive  symmetric RelStr;
set cR = (the carrier of R);
set IR = (the InternalRel of R);
set CR = ( ComplRelStr R );
set ICR = (the InternalRel of ( ComplRelStr R ));
set cCR = (the carrier of ( ComplRelStr R ));
assume (not CR is  path-connected);
then consider x being set,y being set such that A1: x in cCR and A2: y in cCR and x <> y and A3: (not ICR reduces x,y) by CKB50:def 1;
reconsider x,y as (Element of CR) by A1,A2;
set A1 = ( component x );
set A2 = ( (the carrier of R) \ A1 );
reconsider A1 as (Subset of R) by NECKLACE:def 8;
ICR = ( ICR ~ ) by RELAT_2:13;
then (not ( ICR \/ ( ICR ~ ) ) reduces x,y) by A3;
then (not x,y are_convertible_wrt ICR) by REWRITE1:def 4;
then (not [ x,y ] in ( EqCl ICR )) by MSUALG_6:41;
then A4: (not y in A1) by CKB54:1;
reconsider A2 as (Subset of R);
set G1 = ( subrelstr A1 );
set G2 = ( subrelstr A2 );
A5: (the carrier of G1) = A1 by YELLOW_0:def 15;
set IG1 = (the InternalRel of G1);
set IG2 = (the InternalRel of G2);
set G1G2 = [: (the carrier of G1),(the carrier of G2) :];
set G2G1 = [: (the carrier of G2),(the carrier of G1) :];
A6: cR = ( A1 \/ A2 )
proof
thus cR c= ( A1 \/ A2 )
proof
let a being set;
assume A7: a in cR;
assume (not thesis);
then ((not a in A1) & (not a in A2)) by XBOOLE_0:def 3;
hence contradiction by A7,XBOOLE_0:def 5;
end;

let a being set;
assume A8: a in ( A1 \/ A2 );
per cases  by A8,XBOOLE_0:def 3;
suppose a in A1;

hence thesis;
end;
suppose a in A2;

hence thesis;
end;
end;
A9: (the carrier of G2) = A2 by YELLOW_0:def 15;
then A10: (the carrier of G1) misses (the carrier of G2) by A5,XBOOLE_1:79;
A11: (the InternalRel of G1) misses (the InternalRel of G2)
proof
assume (not thesis);
then ( IG1 /\ IG2 ) <> ( {} ) by XBOOLE_0:def 7;
then consider a being set such that A12: a in ( IG1 /\ IG2 ) by XBOOLE_0:def 1;
a in IG1 by A12,XBOOLE_0:def 4;
then consider c1 being set,c2 being set such that A13: a = [ c1,c2 ] and A14: c1 in A1 and c2 in A1 by A5,RELSET_1:2;
(ex g1,g2 being set st ((a = [ g1,g2 ] & g1 in A2) & g2 in A2)) by A9,A12,RELSET_1:2;
then c1 in A2 by A13,ZFMISC_1:27;
then c1 in ( A1 /\ A2 ) by A14,XBOOLE_0:def 4;
hence contradiction by A5,A9,A10,XBOOLE_0:def 7;
end;
A15: (the InternalRel of G2) = ( ( ( IR \ IG1 ) \ G1G2 ) \ G2G1 )
proof
thus IG2 c= ( ( ( IR \ IG1 ) \ G1G2 ) \ G2G1 )
proof
let a being set;
assume A16: a in IG2;
then consider g1 being set,g2 being set such that A17: a = [ g1,g2 ] and A18: g1 in A2 and A19: g2 in A2 by A9,RELSET_1:2;
reconsider g1,g2 as (Element of G2) by A18,A19,YELLOW_0:def 15;
reconsider u1 = g1,u2 = g2 as (Element of R) by A18,A19;
A20: (not a in IG1)
proof
assume (not thesis);
then a in ( IG1 /\ IG2 ) by A16,XBOOLE_0:def 4;
hence contradiction by A11,XBOOLE_0:def 7;
end;
A21: (not a in G2G1)
proof
assume a in G2G1;
then g2 in A1 by A5,A17,ZFMISC_1:87;
then g2 in ( A1 /\ A2 ) by A19,XBOOLE_0:def 4;
hence thesis by A5,A9,A10,XBOOLE_0:def 7;
end;
A22: (not a in G1G2)
proof
assume a in G1G2;
then g1 in A1 by A5,A17,ZFMISC_1:87;
then g1 in ( A1 /\ A2 ) by A18,XBOOLE_0:def 4;
hence thesis by A5,A9,A10,XBOOLE_0:def 7;
end;
g1 <= g2 by A16,A17,ORDERS_2:def 5;
then u1 <= u2 by YELLOW_0:59;
then a in IR by A17,ORDERS_2:def 5;
then a in ( IR \ IG1 ) by A20,XBOOLE_0:def 5;
then a in ( ( IR \ IG1 ) \ G1G2 ) by A22,XBOOLE_0:def 5;
hence thesis by A21,XBOOLE_0:def 5;
end;

let a being set;
assume A23: a in ( ( ( IR \ IG1 ) \ G1G2 ) \ G2G1 );
then A24: (not a in G2G1) by XBOOLE_0:def 5;
A25: a in ( ( IR \ IG1 ) \ G1G2 ) by A23,XBOOLE_0:def 5;
then A26: a in ( IR \ IG1 ) by XBOOLE_0:def 5;
then A27: (not a in IG1) by XBOOLE_0:def 5;
A28: (not a in G1G2) by A25,XBOOLE_0:def 5;
consider c1 being set,c2 being set such that A29: a = [ c1,c2 ] and A30: (c1 in cR & c2 in cR) by A23,RELSET_1:2;
reconsider c1,c2 as (Element of R) by A30;
a in IR by A26,XBOOLE_0:def 5;
then A31: c1 <= c2 by A29,ORDERS_2:def 5;
per cases  by A6,XBOOLE_0:def 3;
suppose A32: (c1 in A1 & c2 in A1);

then reconsider d2 = c2 as (Element of G1) by YELLOW_0:def 15;
reconsider d1 = c1 as (Element of G1) by A32,YELLOW_0:def 15;
d1 <= d2 by A5,A31,YELLOW_0:60;
hence thesis by A27,A29,ORDERS_2:def 5;
end;
suppose (c1 in A1 & c2 in A2);

hence thesis by A5,A9,A28,A29,ZFMISC_1:87;
end;
suppose (c1 in A2 & c2 in A1);

hence thesis by A5,A9,A24,A29,ZFMISC_1:87;
end;
suppose A33: (c1 in A2 & c2 in A2);

then reconsider d1 = c1,d2 = c2 as (Element of G2) by YELLOW_0:def 15;
d1 <= d2 by A9,A31,A33,YELLOW_0:60;
hence thesis by A29,ORDERS_2:def 5;
end;
end;
IR = ( ( ( (the InternalRel of G1) \/ (the InternalRel of G2) ) \/ [: (the carrier of G1),(the carrier of G2) :] ) \/ [: (the carrier of G2),(the carrier of G1) :] )
proof
set G1G2 = [: (the carrier of G1),(the carrier of G2) :];
set G2G1 = [: (the carrier of G2),(the carrier of G1) :];
thus IR c= ( ( ( IG1 \/ IG2 ) \/ G1G2 ) \/ G2G1 )
proof
let a being set;
assume A34: a in IR;
assume A35: (not thesis);
then A36: (not a in ( ( IG1 \/ IG2 ) \/ G1G2 )) by XBOOLE_0:def 3;
then A37: (not a in ( IG1 \/ IG2 )) by XBOOLE_0:def 3;
then (not a in IG2) by XBOOLE_0:def 3;
then ((not a in ( ( IR \ IG1 ) \ G1G2 )) or a in G2G1) by A15,XBOOLE_0:def 5;
then A38: (((not a in ( IR \ IG1 )) or a in G1G2) or a in G2G1) by XBOOLE_0:def 5;
(not a in IG1) by A37,XBOOLE_0:def 3;
hence thesis by A34,A35,A36,A38,XBOOLE_0:def 3,XBOOLE_0:def 5;
end;

let a being set;
assume a in ( ( ( IG1 \/ IG2 ) \/ G1G2 ) \/ G2G1 );
then (a in ( ( IG1 \/ IG2 ) \/ G1G2 ) or a in G2G1) by XBOOLE_0:def 3;
then A39: ((a in ( IG1 \/ IG2 ) or a in G1G2) or a in G2G1) by XBOOLE_0:def 3;
per cases  by A39,XBOOLE_0:def 3;
suppose A40: a in IG1;

then consider v being set,w being set such that A41: a = [ v,w ] and A42: (v in A1 & w in A1) by A5,RELSET_1:2;
reconsider v,w as (Element of G1) by A42,YELLOW_0:def 15;
reconsider u1 = v,u2 = w as (Element of R) by A42;
v <= w by A40,A41,ORDERS_2:def 5;
then u1 <= u2 by YELLOW_0:59;
hence thesis by A41,ORDERS_2:def 5;
end;
suppose A43: a in IG2;

then consider v being set,w being set such that A44: a = [ v,w ] and A45: (v in A2 & w in A2) by A9,RELSET_1:2;
reconsider v,w as (Element of G2) by A45,YELLOW_0:def 15;
reconsider u1 = v,u2 = w as (Element of R) by A45;
v <= w by A43,A44,ORDERS_2:def 5;
then u1 <= u2 by YELLOW_0:59;
hence thesis by A44,ORDERS_2:def 5;
end;
suppose A46: a in G1G2;

assume A47: (not thesis);
consider v being set,w being set such that A48: a = [ v,w ] by A46,RELAT_1:def 1;
A49: w in A2 by A9,A46,A48,ZFMISC_1:87;
A50: v in A1 by A5,A46,A48,ZFMISC_1:87;
then reconsider v,w as (Element of CR) by A49,NECKLACE:def 8;
v <> w
proof
assume A51: v = w;
( A1 /\ A2 ) = ( {} ) by A5,A9,A10,XBOOLE_0:def 7;
hence thesis by A50,A49,A51,XBOOLE_0:def 4;
end;
then A52: (not a in ( id cR )) by A48,RELAT_1:def 10;
[ v,w ] in [: cR,cR :] by A50,A49,ZFMISC_1:87;
then a in ( [: cR,cR :] \ IR ) by A48,A47,XBOOLE_0:def 5;
then a in ( IR ` ) by SUBSET_1:def 4;
then a in ( ( IR ` ) \ ( id cR ) ) by A52,XBOOLE_0:def 5;
then [ v,w ] in ICR by A48,NECKLACE:def 8;
then v,w are_convertible_wrt ICR by REWRITE1:29;
then A53: [ v,w ] in ( EqCl ICR ) by MSUALG_6:41;
[ x,v ] in ( EqCl ICR ) by A50,CKB54:1;
then [ x,w ] in ( EqCl ICR ) by A53,EQREL_1:7;
then w in ( component x ) by CKB54:1;
then w in ( A1 /\ A2 ) by A49,XBOOLE_0:def 4;
hence thesis by A5,A9,A10,XBOOLE_0:def 7;
end;
suppose A54: a in G2G1;

assume A55: (not thesis);
consider v being set,w being set such that A56: a = [ v,w ] by A54,RELAT_1:def 1;
A57: w in A1 by A5,A54,A56,ZFMISC_1:87;
A58: v in A2 by A9,A54,A56,ZFMISC_1:87;
then reconsider v,w as (Element of CR) by A57,NECKLACE:def 8;
v <> w
proof
assume A59: v = w;
( A1 /\ A2 ) = ( {} ) by A5,A9,A10,XBOOLE_0:def 7;
hence thesis by A58,A57,A59,XBOOLE_0:def 4;
end;
then A60: (not a in ( id cR )) by A56,RELAT_1:def 10;
[ v,w ] in [: cR,cR :] by A58,A57,ZFMISC_1:87;
then a in ( [: cR,cR :] \ IR ) by A56,A55,XBOOLE_0:def 5;
then a in ( IR ` ) by SUBSET_1:def 4;
then a in ( ( IR ` ) \ ( id cR ) ) by A60,XBOOLE_0:def 5;
then [ v,w ] in ICR by A56,NECKLACE:def 8;
then v,w are_convertible_wrt ICR by REWRITE1:29;
then [ v,w ] in ( EqCl ICR ) by MSUALG_6:41;
then A61: [ w,v ] in ( EqCl ICR ) by EQREL_1:6;
[ x,w ] in ( EqCl ICR ) by A57,CKB54:1;
then [ x,v ] in ( EqCl ICR ) by A61,EQREL_1:7;
then v in ( component x ) by CKB54:1;
then v in ( A1 /\ A2 ) by A58,XBOOLE_0:def 4;
hence thesis by A5,A9,A10,XBOOLE_0:def 7;
end;
end;
then A62: IR = (the InternalRel of ( sum_of (G1,G2) )) by NECKLA_2:def 3;
y in cR by A2,NECKLACE:def 8;
then A63: G2 is non empty  strict non empty  strict RelStr by A9,A4,XBOOLE_0:def 5;
cR = (the carrier of ( sum_of (G1,G2) )) by A5,A9,A6,NECKLA_2:def 3;
hence thesis by A5,A10,A63,A62;
end;
