environ
vocabularies NUMBERS,RELAT_1,XBOOLE_0,ZFMISC_1,TARSKI,RELAT_2,STRUCT_0,FINSET_1,ORDERS_2,CARD_1,CAT_1,YELLOW_0,WELLORD1,NECKLA_2,NECKLACE,SUBSET_1,FUNCT_1,XXREAL_0,SEQM_3,REWRITE1,FINSEQ_1,NAT_1,ARYTM_3,FINSEQ_5,EQREL_1,MSUALG_5,CLASSES2,FUNCOP_1,FUNCT_4,ARYTM_1,NECKLA_3;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,ZFMISC_1,RELAT_1,RELAT_2,RELSET_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,DOMAIN_1,STRUCT_0,ORDERS_2,WAYBEL_1,FUNCOP_1,CLASSES2,NECKLACE,WAYBEL_0,FUNCT_4,REWRITE1,FINSEQ_1,FINSEQ_5,EQREL_1,MSUALG_5,YELLOW_0,NECKLA_2,WELLORD1;
definitions XBOOLE_0,TARSKI,NECKLACE,RELAT_2,FUNCOP_1,WELLORD1,STRUCT_0;
theorems RELSET_1,NECKLACE,XBOOLE_0,WAYBEL_0,YELLOW_0,FUNCT_1,FUNCT_2,ORDERS_2,RELAT_2,SUBSET_1,ZFMISC_1,XBOOLE_1,TARSKI,MCART_1,CLASSES2,CLASSES1,NECKLA_2,FUNCOP_1,ENUMSET1,RELAT_1,SYSREL,PARTFUN1,GROUP_6,CARD_2,REWRITE1,FINSEQ_1,FINSEQ_3,FINSEQ_5,NAT_1,EQREL_1,MSUALG_6,MSUALG_5,CARD_1,NAT_2,FUNCT_4,FUNCT_3,WAYBEL_1,YELLOW_6,REALSET1,XREAL_1,XXREAL_0,ORDINAL1,NAT_D,STRUCT_0,CKB1,CKB2,CKB3,CKB5,CKB7,CKB11,CKB21,CKB22,CKB23;
schemes NAT_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,CARD_1,FINSEQ_1,REALSET1,STRUCT_0,ORDERS_2,YELLOW_0,NECKLACE,NECKLA_2,ORDINAL1,FUNCT_4,RELSET_1,ZFMISC_1,CKB4,CKB6,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
constructors XXREAL_0,NAT_1,EQREL_1,CLASSES1,TOLER_1,CLASSES2,FINSEQ_5,REWRITE1,REALSET2,MSUALG_5,ORDERS_3,WAYBEL_1,NECKLACE,NECKLA_2,RELSET_1;
requirements BOOLE,SUBSET,REAL,NUMERALS,ARITHM;
begin
reserve a for set;
theorem
Th10: (for G being non  empty RelStr holds (for H1,H2 being RelStr holds (((the carrier of H1) misses (the carrier of H2) & (( the RelStr of G ) = ( union_of (H1,H2) ) or ( the RelStr of G ) = ( sum_of (H1,H2) ))) implies (H1 is  full  full (SubRelStr of G) & H2 is  full  full (SubRelStr of G)))))
proof
let G being non  empty RelStr;
let H1 being RelStr;
let H2 being RelStr;
assume that
A1: (the carrier of H1) misses (the carrier of H2)
and
A2: (( the RelStr of G ) = ( union_of (H1,H2) ) or ( the RelStr of G ) = ( sum_of (H1,H2) ));
set cH1 = (the carrier of H1);
set cH2 = (the carrier of H2);
set IH1 = (the InternalRel of H1);
set IH2 = (the InternalRel of H2);
set H1H2 = [: cH1,cH2 :];
set H2H1 = [: cH2,cH1 :];
per cases  by A2;
suppose A3: ( the RelStr of G ) = ( union_of (H1,H2) );

A4: IH2 = ( (the InternalRel of G) |_2 cH2 )
proof
thus IH2 c= ( (the InternalRel of G) |_2 cH2 )
proof
let a being set;
(the InternalRel of G) = ( IH1 \/ IH2 ) by A3,NECKLA_2:def 2;
then A5: IH2 c= (the InternalRel of G) by XBOOLE_1:7;
assume a in IH2;
hence thesis by A5,XBOOLE_0:def 4;
end;

let a being set;
assume A6: a in ( (the InternalRel of G) |_2 cH2 );
then A7: a in [: cH2,cH2 :] by XBOOLE_0:def 4;
a in (the InternalRel of G) by A6,XBOOLE_0:def 4;
then A8: a in ( IH1 \/ IH2 ) by A3,NECKLA_2:def 2;
per cases  by A8,XBOOLE_0:def 3;
suppose a in IH1;

then consider x,y being set such that A9: a = [ x,y ] and A10: x in cH1 and y in cH1 by RELSET_1:2;
consider x1,y1 being set such that A11: x1 in cH2 and y1 in cH2 and A12: a = [ x1,y1 ] by A7,ZFMISC_1:def 2;
x = x1 by A9,A12,ZFMISC_1:27;
then ( cH1 /\ cH2 ) <> ( {} ) by A10,A11,XBOOLE_0:def 4;
hence thesis by A1,XBOOLE_0:def 7;
end;
suppose a in IH2;

hence thesis;
end;
end;
A13: IH1 = ( (the InternalRel of G) |_2 cH1 )
proof
thus IH1 c= ( (the InternalRel of G) |_2 cH1 )
proof
let a being set;
(the InternalRel of G) = ( IH1 \/ IH2 ) by A3,NECKLA_2:def 2;
then A14: IH1 c= (the InternalRel of G) by XBOOLE_1:7;
assume a in IH1;
hence thesis by A14,XBOOLE_0:def 4;
end;

let a being set;
assume A15: a in ( (the InternalRel of G) |_2 cH1 );
then A16: a in [: cH1,cH1 :] by XBOOLE_0:def 4;
a in (the InternalRel of G) by A15,XBOOLE_0:def 4;
then A17: a in ( IH1 \/ IH2 ) by A3,NECKLA_2:def 2;
per cases  by A17,XBOOLE_0:def 3;
suppose a in IH1;

hence thesis;
end;
suppose a in IH2;

then consider x,y being set such that A18: a = [ x,y ] and A19: x in cH2 and y in cH2 by RELSET_1:2;
(ex x1,y1 being set st ((x1 in cH1 & y1 in cH1) & a = [ x1,y1 ])) by A16,ZFMISC_1:def 2;
then x in cH1 by A18,ZFMISC_1:27;
hence thesis by A1,A19,XBOOLE_0:3;
end;
end;
(the carrier of G) = ( (the carrier of H1) \/ (the carrier of H2) ) by A3,NECKLA_2:def 2;
then A20: ((the carrier of H1) c= (the carrier of G) & (the carrier of H2) c= (the carrier of G)) by XBOOLE_1:7;
(the InternalRel of G) = ( IH1 \/ IH2 ) by A3,NECKLA_2:def 2;
then (IH1 c= (the InternalRel of G) & (the InternalRel of H2) c= (the InternalRel of G)) by XBOOLE_1:7;
hence thesis by A20,A13,A4,YELLOW_0:def 13,YELLOW_0:def 14;
end;
suppose A21: ( the RelStr of G ) = ( sum_of (H1,H2) );

A22: IH2 = ( (the InternalRel of G) |_2 cH2 )
proof
thus IH2 c= ( (the InternalRel of G) |_2 cH2 )
proof
let a being set;
(the InternalRel of G) = ( ( ( IH1 \/ IH2 ) \/ H1H2 ) \/ H2H1 ) by A21,NECKLA_2:def 3;
then (the InternalRel of G) = ( IH2 \/ ( ( IH1 \/ H1H2 ) \/ H2H1 ) ) by XBOOLE_1:113;
then A23: IH2 c= (the InternalRel of G) by XBOOLE_1:7;
assume a in IH2;
hence thesis by A23,XBOOLE_0:def 4;
end;

let a being set;
assume A24: a in ( (the InternalRel of G) |_2 cH2 );
then A25: a in [: cH2,cH2 :] by XBOOLE_0:def 4;
a in (the InternalRel of G) by A24,XBOOLE_0:def 4;
then a in ( ( ( IH1 \/ IH2 ) \/ H1H2 ) \/ H2H1 ) by A21,NECKLA_2:def 3;
then a in ( IH1 \/ ( ( IH2 \/ H1H2 ) \/ H2H1 ) ) by XBOOLE_1:113;
then (a in IH1 or a in ( ( IH2 \/ H1H2 ) \/ H2H1 )) by XBOOLE_0:def 3;
then (a in IH1 or a in ( IH2 \/ ( H1H2 \/ H2H1 ) )) by XBOOLE_1:4;
then A26: ((a in IH1 or a in IH2) or a in ( H1H2 \/ H2H1 )) by XBOOLE_0:def 3;
per cases  by A26,XBOOLE_0:def 3;
suppose a in IH1;

then consider x,y being set such that A27: a = [ x,y ] and A28: x in cH1 and y in cH1 by RELSET_1:2;
consider x1,y1 being set such that A29: x1 in cH2 and y1 in cH2 and A30: a = [ x1,y1 ] by A25,ZFMISC_1:def 2;
x = x1 by A27,A30,ZFMISC_1:27;
then ( cH1 /\ cH2 ) <> ( {} ) by A28,A29,XBOOLE_0:def 4;
hence thesis by A1,XBOOLE_0:def 7;
end;
suppose a in IH2;

hence thesis;
end;
suppose a in H1H2;

then consider x,y being set such that A31: x in cH1 and y in cH2 and A32: a = [ x,y ] by ZFMISC_1:def 2;
consider x1,y1 being set such that A33: x1 in cH2 and y1 in cH2 and A34: a = [ x1,y1 ] by A25,ZFMISC_1:def 2;
x = x1 by A32,A34,ZFMISC_1:27;
then ( cH1 /\ cH2 ) <> ( {} ) by A31,A33,XBOOLE_0:def 4;
hence thesis by A1,XBOOLE_0:def 7;
end;
suppose a in H2H1;

then consider x,y being set such that x in cH2 and A35: y in cH1 and A36: a = [ x,y ] by ZFMISC_1:def 2;
consider x1,y1 being set such that x1 in cH2 and A37: y1 in cH2 and A38: a = [ x1,y1 ] by A25,ZFMISC_1:def 2;
y = y1 by A36,A38,ZFMISC_1:27;
then ( cH1 /\ cH2 ) <> ( {} ) by A35,A37,XBOOLE_0:def 4;
hence thesis by A1,XBOOLE_0:def 7;
end;
end;
IH2 c= ( ( IH1 \/ IH2 ) \/ [: cH1,cH2 :] ) by XBOOLE_1:7,XBOOLE_1:10;
then A39: IH2 c= ( ( ( IH1 \/ IH2 ) \/ [: cH1,cH2 :] ) \/ [: cH2,cH1 :] ) by XBOOLE_1:10;
A40: IH1 = ( (the InternalRel of G) |_2 cH1 )
proof
thus IH1 c= ( (the InternalRel of G) |_2 cH1 )
proof
let a being set;
(the InternalRel of G) = ( ( ( IH1 \/ IH2 ) \/ H1H2 ) \/ H2H1 ) by A21,NECKLA_2:def 3
.= ( IH1 \/ ( ( IH2 \/ H1H2 ) \/ H2H1 ) ) by XBOOLE_1:113;
then A41: IH1 c= (the InternalRel of G) by XBOOLE_1:7;
assume a in IH1;
hence thesis by A41,XBOOLE_0:def 4;
end;

let a being set;
assume A42: a in ( (the InternalRel of G) |_2 cH1 );
then A43: a in [: cH1,cH1 :] by XBOOLE_0:def 4;
a in (the InternalRel of G) by A42,XBOOLE_0:def 4;
then a in ( ( ( IH1 \/ IH2 ) \/ H1H2 ) \/ H2H1 ) by A21,NECKLA_2:def 3;
then a in ( IH1 \/ ( ( IH2 \/ H1H2 ) \/ H2H1 ) ) by XBOOLE_1:113;
then (a in IH1 or a in ( ( IH2 \/ H1H2 ) \/ H2H1 )) by XBOOLE_0:def 3;
then (a in IH1 or a in ( IH2 \/ ( H1H2 \/ H2H1 ) )) by XBOOLE_1:4;
then A44: ((a in IH1 or a in IH2) or a in ( H1H2 \/ H2H1 )) by XBOOLE_0:def 3;
per cases  by A44,XBOOLE_0:def 3;
suppose a in IH1;

hence thesis;
end;
suppose a in IH2;

then consider x,y being set such that A45: a = [ x,y ] and A46: x in cH2 and y in cH2 by RELSET_1:2;
consider x1,y1 being set such that A47: x1 in cH1 and y1 in cH1 and A48: a = [ x1,y1 ] by A43,ZFMISC_1:def 2;
x = x1 by A45,A48,ZFMISC_1:27;
then ( cH1 /\ cH2 ) <> ( {} ) by A46,A47,XBOOLE_0:def 4;
hence thesis by A1,XBOOLE_0:def 7;
end;
suppose a in H1H2;

then consider x,y being set such that x in cH1 and A49: y in cH2 and A50: a = [ x,y ] by ZFMISC_1:def 2;
consider x1,y1 being set such that x1 in cH1 and A51: y1 in cH1 and A52: a = [ x1,y1 ] by A43,ZFMISC_1:def 2;
y = y1 by A50,A52,ZFMISC_1:27;
then ( cH1 /\ cH2 ) <> ( {} ) by A49,A51,XBOOLE_0:def 4;
hence thesis by A1,XBOOLE_0:def 7;
end;
suppose a in H2H1;

then consider x,y being set such that A53: x in cH2 and y in cH1 and A54: a = [ x,y ] by ZFMISC_1:def 2;
consider x1,y1 being set such that A55: x1 in cH1 and y1 in cH1 and A56: a = [ x1,y1 ] by A43,ZFMISC_1:def 2;
x = x1 by A54,A56,ZFMISC_1:27;
then ( cH1 /\ cH2 ) <> ( {} ) by A53,A55,XBOOLE_0:def 4;
hence thesis by A1,XBOOLE_0:def 7;
end;
end;
IH1 c= ( IH1 \/ ( IH2 \/ [: cH1,cH2 :] ) ) by XBOOLE_1:7;
then A57: IH1 c= ( ( IH1 \/ IH2 ) \/ [: cH1,cH2 :] ) by XBOOLE_1:4;
(the carrier of G) = ( (the carrier of H1) \/ (the carrier of H2) ) by A21,NECKLA_2:def 3;
then A58: ((the carrier of H1) c= (the carrier of G) & (the carrier of H2) c= (the carrier of G)) by XBOOLE_1:7;
A59: (the InternalRel of G) = ( ( ( IH1 \/ IH2 ) \/ [: cH1,cH2 :] ) \/ [: cH2,cH1 :] ) by A21,NECKLA_2:def 3;
then ( ( IH1 \/ IH2 ) \/ [: cH1,cH2 :] ) c= (the InternalRel of G) by XBOOLE_1:7;
then IH1 c= (the InternalRel of G) by A57,XBOOLE_1:1;
hence thesis by A59,A58,A39,A40,A22,YELLOW_0:def 13,YELLOW_0:def 14;
end;
end;
