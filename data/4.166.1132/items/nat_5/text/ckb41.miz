environ
vocabularies NUMBERS,ORDINAL1,XCMPLX_0,INT_2,NAT_3,XXREAL_0,XBOOLE_0,NEWTON,ARYTM_3,ARYTM_1,NAT_1,RELAT_1,CARD_1,ABIAN,SUBSET_1,FINSET_1,FINSEQ_1,FUNCT_1,FINSEQ_3,TARSKI,CARD_3,ORDINAL4,FUNCT_2,FINSEQ_2,FUNCOP_1,MOEBIUS1,COMPLEX1,INT_1,REALSET1,SQUARE_1,INT_5,ZFMISC_1,POWER,REAL_1,PRE_POLY,UPROOTS,BHSP_5,CLASSES1,XXREAL_2,MEMBERED,PARTFUN1,RFUNCT_3,BINOP_2,PROB_1,WAYBEL29,MSSUBFAM,TOPGEN_1,EULER_1,NAT_5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,FUNCOP_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,MCART_1,FUNCT_2,ORDINAL1,CARD_1,NUMBERS,FINSEQ_1,FINSEQ_3,INT_1,INT_2,NAT_1,NAT_D,RVSUM_1,REAL_1,SQUARE_1,XXREAL_0,NEWTON,ABIAN,PEPIN,INT_5,MEMBERED,FINSEQOP,ENUMSET1,FINSET_1,COMPLEX1,NAT_3,DOMAIN_1,POWER,MOEBIUS1,BHSP_5,EULER_1,WSIERP_1,BINOP_1,RECDEF_1,EXTREAL1,UPROOTS,BINOP_2,FUNCT_3,RFUNCT_3,XXREAL_2,CLASSES1,PRE_POLY,CKB34;
definitions TARSKI,NEWTON,FINSEQ_1,FINSEQ_3,EULER_1,MOEBIUS1;
theorems XBOOLE_0,XBOOLE_1,XXREAL_0,XREAL_1,XCMPLX_1,NAT_1,NAT_D,RELAT_1,FUNCT_1,INT_1,INT_2,INT_4,INT_5,NEWTON,EULER_1,EULER_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_5,RVSUM_1,WSIERP_1,ORDINAL1,IDEA_1,INT_6,INT_3,FIB_NUM3,POWER,PEPIN,SQUARE_1,CARD_1,CARD_2,ZFMISC_1,ALGSEQ_1,FINSEQ_4,JGRAPH_1,TARSKI,COMPLEX1,ABSVALUE,MOEBIUS1,CARD_3,MESFUNC3,FUNCT_2,EXTREAL1,FINSEQOP,FUNCOP_1,BAGORDER,RELSET_1,WELLORD2,PARTFUN1,BHSP_5,UPROOTS,RFINSEQ,BINOP_2,BINOP_1,FUNCT_3,RFUNCT_3,NAT_4,NAT_3,RADIX_1,XREAL_0,ABIAN,ENUMSET1,MONOID_1,CLASSES1,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB36,CKB37,CKB38,CKB39,CKB40;
schemes NAT_1,FUNCT_1,FUNCT_2,BINOP_2,FINSEQ_1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,FINSEQ_1,RVSUM_1,VALUED_0,NEWTON,ABIAN,FUNCT_1,ZFMISC_1,SUBSET_1,MOEBIUS1,FUNCT_2,PRE_CIRC,DYNKIN,RELAT_1,SQUARE_1,CARD_1,PREPOWER,NAT_3,UPROOTS,XXREAL_2,PRE_POLY,CKB35;
constructors WELLORD2,REAL_1,NAT_D,BINOP_2,WSIERP_1,ABIAN,EULER_1,PEPIN,INT_5,RECDEF_1,MOEBIUS1,FINSEQOP,EXTREAL1,UPROOTS,NAT_3,REALSET1,POWER,BHSP_5,CALCUL_2,PROB_3,SUPINF_1,RFUNCT_3,XXREAL_2,CLASSES1,PBOOLE,BINOP_1,CKB34;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for  natural number;
reserve I for set;
reserve j for set;
reserve f for (Function of I,( NAT ));
reserve g for (Function of I,( NAT ));
reserve J for  finite (Subset of I);
reserve K for  finite (Subset of I);
theorem
Th28: ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J,K :] ) ) = ( ( Sum ( f | J ) ) * ( Sum ( g | K ) ) )
proof
defpred P[ Nat ]
 means
(for I being set holds (for f,g being (Function of I,( NAT )) holds (for J,K being  finite (Subset of I) holds ($1 = ( card J ) implies ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J,K :] ) ) = ( ( Sum ( f | J ) ) * ( Sum ( g | K ) ) )))));
A1: (for k being Nat holds ((for n being Nat holds (n < k implies P[ n ])) implies P[ k ]))
proof
let k being Nat;
assume A2: (for n being Nat holds (n < k implies P[ n ]));
thus P[ k ]
proof
(k = ( 0 ) or ( k + 1 ) > ( ( 0 ) + 1 )) by XREAL_1:8;
then A3: (k = ( 0 ) or k >= 1) by NAT_1:13;
let I being set;
let f being (Function of I,( NAT ));
let g being (Function of I,( NAT ));
let J being  finite (Subset of I);
let K being  finite (Subset of I);
assume A4: k = ( card J );
per cases  by A3,XXREAL_0:1;
suppose k = ( 0 );

then A5: J = ( {} ) by A4;
then A6: [: J,K :] = ( {} );
A7: ( EmptyBag ( {} ) ) = ( ( {} ) --> ( 0 ) ) by PRE_POLY:def 13
.= ( {} );
then ( Sum ( f | J ) ) = ( 0 ) by A5,RELAT_1:81,UPROOTS:11;
hence ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J,K :] ) ) = ( ( Sum ( f | J ) ) * ( Sum ( g | K ) ) ) by A6,A7,RELAT_1:81,UPROOTS:11;
end;
suppose A8: k = 1;

set x = the set;
( card { x } ) = ( card J ) by A4,A8,CARD_1:30;
then consider j being set such that A9: J = { j } by CARD_1:29;
( Sum ( ( ( multnat ) * [: f,g :] ) | [: J,K :] ) ) = ( ( f . j ) * ( Sum ( g | K ) ) ) by A9,CKB40:1;
hence ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J,K :] ) ) = ( ( Sum ( f | J ) ) * ( Sum ( g | K ) ) ) by A9,CKB39:1;
end;
suppose A10: k > 1;

then J <> ( {} ) by A4;
then consider j being set such that A11: j in J by XBOOLE_0:def 1;
set J0 = { j };
set J1 = ( J \ J0 );
reconsider J0 as  finite (Subset of I) by A11,ZFMISC_1:31;
A12: ( J1 \/ J0 ) = ( J \/ { j } ) by XBOOLE_1:39
.= J by A11,ZFMISC_1:40;
then A13: ( Sum ( f | J ) ) = ( ( Sum ( f | J1 ) ) + ( Sum ( f | J0 ) ) ) by CKB38:1,XBOOLE_1:79;
( card J0 ) < k by A10,CARD_1:30;
then A14: (( ( - 1 ) + k ) < ( ( 0 ) + k ) & ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J0,K :] ) ) = ( ( Sum ( f | J0 ) ) * ( Sum ( g | K ) ) )) by A2,XREAL_1:8;
J1 misses J0 by XBOOLE_1:79;
then A15: [: J1,K :] misses [: J0,K :] by ZFMISC_1:104;
j in J0 by TARSKI:def 1;
then (not j in J1) by XBOOLE_0:def 5;
then A16: ( card ( J1 \/ J0 ) ) = ( ( card J1 ) + 1 ) by CARD_2:41;
[: J,K :] = ( [: J1,K :] \/ [: J0,K :] ) by A12,ZFMISC_1:97;
hence ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J,K :] ) ) = ( ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J1,K :] ) ) + ( Sum ( ( ( multnat ) * [: f,g :] ) | [: J0,K :] ) ) ) by A15,CKB38:1
.= ( ( ( Sum ( f | J1 ) ) * ( Sum ( g | K ) ) ) + ( ( Sum ( f | J0 ) ) * ( Sum ( g | K ) ) ) ) by A2,A4,A16,A12,A14
.= ( ( Sum ( f | J ) ) * ( Sum ( g | K ) ) ) by A13;
end;
end;

end;
(for k being Nat holds P[ k ]) from NAT_1:sch 4(A1);
then P[ ( card J ) ];
hence thesis;
end;
