environ
vocabularies XBOOLE_0,FUNCT_1,TARSKI,ZFMISC_1,RELAT_1,FUNCOP_1,SUBSET_1,PARTFUN1,FUNCT_2,ORDINAL1,FUNCT_4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,BINOP_1,PARTFUN1,FUNCOP_1;
definitions TARSKI,FUNCT_2,PARTFUN1,XBOOLE_0,BINOP_1,FUNCOP_1,FUNCT_1;
theorems TARSKI,FUNCT_1,FUNCT_2,GRFUNC_1,PARTFUN1,FUNCOP_1,ZFMISC_1,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,ENUMSET1,ORDINAL1,CKB1,CKB2;
schemes FUNCT_1,PARTFUN1,XBOOLE_0;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCOP_1,RELSET_1,ZFMISC_1;
constructors PARTFUN1,BINOP_1,FUNCOP_1,RELSET_1,ORDINAL1;
requirements BOOLE,SUBSET;
begin
reserve x for set;
reserve f for Function;
reserve g for Function;
theorem
( g * f ) = ( ( g | ( rng f ) ) * f )
proof
(x in ( dom ( g * f ) ) iff x in ( dom ( ( g | ( rng f ) ) * f ) ))
proof
A1: ( dom ( g | ( rng f ) ) ) = ( ( dom g ) /\ ( rng f ) ) by RELAT_1:61;
thus (x in ( dom ( g * f ) ) implies x in ( dom ( ( g | ( rng f ) ) * f ) ))
proof
assume A2: x in ( dom ( g * f ) );
then A3: x in ( dom f ) by FUNCT_1:11;
x in ( dom f ) by A2,FUNCT_1:11;
then A4: ( f . x ) in ( rng f ) by FUNCT_1:def 3;
( f . x ) in ( dom g ) by A2,FUNCT_1:11;
then ( f . x ) in ( dom ( g | ( rng f ) ) ) by A1,A4,XBOOLE_0:def 4;
hence thesis by A3,FUNCT_1:11;
end;

assume A5: x in ( dom ( ( g | ( rng f ) ) * f ) );
then ( f . x ) in ( dom ( g | ( rng f ) ) ) by FUNCT_1:11;
then A6: ( f . x ) in ( dom g ) by A1,XBOOLE_0:def 4;
x in ( dom f ) by A5,FUNCT_1:11;
hence thesis by A6,FUNCT_1:11;
end;
then A7: ( dom ( g * f ) ) = ( dom ( ( g | ( rng f ) ) * f ) ) by TARSKI:1;
(x in ( dom ( g * f ) ) implies ( ( g * f ) . x ) = ( ( ( g | ( rng f ) ) * f ) . x ))
proof
assume A8: x in ( dom ( g * f ) );
then A9: x in ( dom f ) by FUNCT_1:11;
then A10: ( f . x ) in ( rng f ) by FUNCT_1:def 3;
thus ( ( g * f ) . x ) = ( g . ( f . x ) ) by A8,FUNCT_1:12
.= ( ( g | ( rng f ) ) . ( f . x ) ) by A10,FUNCT_1:49
.= ( ( ( g | ( rng f ) ) * f ) . x ) by A9,FUNCT_1:13;
end;
hence thesis by A7,FUNCT_1:2;
end;
