environ
vocabularies NUMBERS,REAL_1,SUBSET_1,FINSEQ_1,INTEGRA1,XREAL_0,ORDINAL1,SEQ_4,XXREAL_0,XXREAL_1,VALUED_0,RELAT_1,ARYTM_3,FUNCT_1,CARD_1,NAT_1,CLASSES1,FINSEQ_5,ARYTM_1,ORDINAL4,XBOOLE_0,JORDAN3,MEMBERED,MEMBER_1,TARSKI,PARTFUN1,XXREAL_2,VALUED_1,MEASURE7,CARD_3,SEQ_1,INTEGRA2,MEASURE5;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,CARD_1,NUMBERS,XXREAL_0,XREAL_0,XXREAL_2,XXREAL_3,MEMBERED,MEMBER_1,REAL_1,NAT_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,RFUNCT_1,RVSUM_1,INTEGRA1,VALUED_1,SEQ_1,SEQ_2,SEQ_4,FINSEQ_6,RCOMP_1,FINSEQ_5,CLASSES1,RFINSEQ,MEASURE5,MEASURE6,CKB2;
definitions TARSKI,XBOOLE_0,VALUED_1,RELAT_1,MEMBER_1,XXREAL_2,XXREAL_3,CKB2;
theorems SEQ_4,SUBSET_1,PARTFUN1,INTEGRA1,RFUNCT_1,FUNCT_1,FINSEQ_1,RVSUM_1,NEWTON,RCOMP_1,NAT_1,RFINSEQ,CARD_1,FINSEQ_5,FINSEQ_3,RELAT_1,FUNCT_2,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_1,XXREAL_0,ORDINAL1,MEMBERED,VALUED_1,XXREAL_2,TARSKI,SEQM_3,CLASSES1,FINSEQ_6,MEMBER_1,XXREAL_3,CKB1,CKB2,CKB4,CKB5;
schemes SUBSET_1,SEQ_1,NAT_1;
registrations RELAT_1,ORDINAL1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,FINSEQ_1,RFINSEQ,INTEGRA1,VALUED_0,VALUED_1,XXREAL_2,CARD_1,SEQ_2,RELSET_1,XXREAL_3,MEMBER_1,MEASURE5,CKB3;
constructors PARTFUN1,REAL_1,NAT_1,SEQM_3,RFUNCT_1,RFINSEQ,BINARITH,FINSEQ_5,FINSEQ_6,INTEGRA1,SEQ_1,XXREAL_2,NAT_D,RVSUM_1,SEQ_4,CLASSES1,RELSET_1,SEQ_2,MEMBER_1,MEASURE6,CKB2;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve k for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
theorem
(for D being non  empty set holds (for f being (FinSequence of D) holds (for k1,k2,k3 being (Element of ( NAT )) holds ((((1 <= k1 & k3 <= ( len f )) & k1 <= k2) & k2 < k3) implies ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) = ( mid (f,k1,k3) )))))
proof
let D being non  empty set;
let f being (FinSequence of D);
let k1 being (Element of ( NAT ));
let k2 being (Element of ( NAT ));
let k3 being (Element of ( NAT ));
assume that
A1: 1 <= k1
and
A2: k3 <= ( len f )
and
A3: k1 <= k2
and
A4: k2 < k3;
A5: k2 <= ( len f ) by A2,A4,XXREAL_0:2;
then A6: k1 <= ( len f ) by A3,XXREAL_0:2;
(1 <= k2 & k2 <= ( len f )) by A1,A2,A3,A4,XXREAL_0:2;
then A7: ( len ( mid (f,k1,k2) ) ) = ( ( k2 -' k1 ) + 1 ) by A1,A3,A6,FINSEQ_6:118
.= ( ( k2 - k1 ) + 1 ) by A3,XREAL_1:233;
A8: 1 <= k2 by A1,A3,XXREAL_0:2;
then A9: 1 <= k3 by A4,XXREAL_0:2;
A10: k1 < k3 by A3,A4,XXREAL_0:2;
A11: 1 <= ( k2 + 1 ) by A8,NAT_1:13;
A12: ( k2 + 1 ) <= k3 by A4,NAT_1:13;
then ( k2 + 1 ) <= ( len f ) by A2,XXREAL_0:2;
then A13: ( len ( mid (f,( k2 + 1 ),k3) ) ) = ( ( k3 -' ( k2 + 1 ) ) + 1 ) by A2,A9,A12,A11,FINSEQ_6:118
.= ( ( k3 - ( k2 + 1 ) ) + 1 ) by A12,XREAL_1:233
.= ( k3 - k2 );
then A14: ( len ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) ) = ( ( ( k2 - k1 ) + 1 ) + ( k3 - k2 ) ) by A7,FINSEQ_1:22
.= ( ( k3 - k1 ) + 1 );
A15: 1 <= ( k2 + 1 ) by A8,NAT_1:13;
A16: (for k being Nat holds ((1 <= k & k <= ( len ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) )) implies ( ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) . k ) = ( ( mid (f,k1,k3) ) . k )))
proof
let k being Nat;
assume A17: (1 <= k & k <= ( len ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) ));
then k in ( Seg ( len ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) ) ) by FINSEQ_1:1;
then A18: k in ( dom ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) ) by FINSEQ_1:def 3;
now
per cases  by A18,FINSEQ_1:25;
suppose A19: k in ( dom ( mid (f,k1,k2) ) );

then A20: k in ( Seg ( len ( mid (f,k1,k2) ) ) ) by FINSEQ_1:def 3;
then A21: 1 <= k by FINSEQ_1:1;
A22: k <= ( ( k2 - k1 ) + 1 ) by A7,A20,FINSEQ_1:1;
( k2 - k1 ) <= ( k3 - k1 ) by A4,XREAL_1:9;
then ( ( k2 - k1 ) + 1 ) <= ( ( k3 - k1 ) + 1 ) by XREAL_1:6;
then A23: k <= ( ( k3 - k1 ) + 1 ) by A22,XXREAL_0:2;
( ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) . k ) = ( ( mid (f,k1,k2) ) . k ) by A19,FINSEQ_1:def 7
.= ( f . ( ( k - 1 ) + k1 ) ) by A1,A3,A5,A19,A21,A22,FINSEQ_6:122;
hence thesis by A1,A2,A10,A19,A21,A23,FINSEQ_6:122;
end;
suppose (ex n being Nat st (n in ( dom ( mid (f,( k2 + 1 ),k3) ) ) & k = ( ( len ( mid (f,k1,k2) ) ) + n )));

then consider n being Nat such that A24: n in ( dom ( mid (f,( k2 + 1 ),k3) ) ) and A25: k = ( ( len ( mid (f,k1,k2) ) ) + n );
A26: ( ( mid (f,k1,k3) ) . k ) = ( f . ( ( ( ( k2 - ( k1 - 1 ) ) + n ) + k1 ) - 1 ) ) by A1,A2,A10,A7,A14,A17,A25,FINSEQ_6:122
.= ( f . ( n + k2 ) );
n in ( Seg ( len ( mid (f,( k2 + 1 ),k3) ) ) ) by A24,FINSEQ_1:def 3;
then A27: (1 <= n & n <= ( ( k3 - ( k2 + 1 ) ) + 1 )) by A13,FINSEQ_1:1;
( ( ( mid (f,k1,k2) ) ^ ( mid (f,( k2 + 1 ),k3) ) ) . k ) = ( ( mid (f,( k2 + 1 ),k3) ) . n ) by A24,A25,FINSEQ_1:def 7
.= ( f . ( ( n + ( k2 + 1 ) ) - 1 ) ) by A2,A15,A12,A24,A27,FINSEQ_6:122
.= ( f . ( ( n + k2 ) + ( 0 ) ) );
hence thesis by A26;
end;
end;
hence thesis;
end;
( len ( mid (f,k1,k3) ) ) = ( ( k3 -' k1 ) + 1 ) by A1,A2,A6,A9,A10,FINSEQ_6:118
.= ( ( k3 - k1 ) + 1 ) by A3,A4,XREAL_1:233,XXREAL_0:2;
hence thesis by A14,A16,FINSEQ_1:14;
end;
