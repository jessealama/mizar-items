environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,NAT_1,FDIFF_1,SUBSET_1,RELAT_1,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,FUNCOP_1,XREAL_0,ORDINAL1,XXREAL_2,XBOOLE_0,XXREAL_1;
notations TARSKI,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,VALUED_0,COMPLEX1,BINOP_2,VALUED_1,SEQ_1,SEQ_2,RCOMP_1,FDIFF_1,STRUCT_0,PRE_TOPC,RLVECT_1,VFUNCT_1,NORMSP_0,NORMSP_1,NDIFF_1,NFCONT_3,CKB3,CKB5,CKB6,CKB8,CKB15,CKB16,CKB17,CKB21;
definitions RCOMP_1,SUBSET_1,XBOOLE_0,TARSKI,CKB3,CKB6,CKB15,CKB16,CKB17,CKB21;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,ORDINAL1,SEQ_4,NORMSP_1,LOPBAN_1,LOPBAN_3,PARTFUN1,PARTFUN2,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,NORMSP_0,XREAL_0,RCOMP_1,SEQM_3,RFUNCT_2,NFCONT_3,CKB1,CKB2,CKB3,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33;
schemes FUNCT_2,SEQ_1;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,NORMSP_0,NORMSP_1,RELAT_1,SUBSET_1,XXREAL_0,LOPBAN_2,FUNCOP_1,NAT_1,RCOMP_1,VALUED_1,SEQ_4,FDIFF_1,CKB4,CKB7;
constructors REAL_1,FDIFF_1,VFUNCT_1,NDIFF_1,SEQ_1,RELSET_1,RVSUM_1,BINOP_2,INTEGR15,NAT_D,MEASURE6,NFCONT_3,CKB3,CKB6,CKB15,CKB16,CKB17,CKB21;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve F for non  trivial RealNormSpace;
reserve X for set;
reserve x for Real;
reserve x0 for Real;
reserve Z for  open (Subset of ( REAL ));
reserve f for (PartFunc of ( REAL ),(the carrier of F));
reserve R for (REST of F);
reserve L for (LINEAR of F);
theorem
Th24: ((f is_differentiable_on X & Z c= X) implies f is_differentiable_on Z)
proof
assume that
A1: f is_differentiable_on X
and
A2: Z c= X;
X c= ( dom f ) by A1,CKB17:def 1;
then A3: Z c= ( dom f ) by A2,XBOOLE_1:1;
now
let x0;
assume A4: x0 in Z;
then ( f | X ) is_differentiable_in x0 by A1,A2,CKB17:def 1;
then consider N being (Neighbourhood of x0) such that A5: N c= ( dom ( f | X ) ) and A6: (ex L st (ex R st (for x holds (x in N implies ( ( ( f | X ) /. x ) - ( ( f | X ) /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) ))))) by CKB15:def 1;
consider N1 being (Neighbourhood of x0) such that A7: N1 c= Z by A4,RCOMP_1:18;
consider N2 being (Neighbourhood of x0) such that A8: N2 c= N and A9: N2 c= N1 by RCOMP_1:17;
A10: N2 c= Z by A7,A9,XBOOLE_1:1;
( dom ( f | X ) ) = ( ( dom f ) /\ X ) by RELAT_1:61;
then ( dom ( f | X ) ) c= ( dom f ) by XBOOLE_1:17;
then N c= ( dom f ) by A5,XBOOLE_1:1;
then N2 c= ( dom f ) by A8,XBOOLE_1:1;
then N2 c= ( ( dom f ) /\ Z ) by A10,XBOOLE_1:19;
then A11: N2 c= ( dom ( f | Z ) ) by RELAT_1:61;
A12: N2 c= ( dom ( f | X ) ) by A8,A5,XBOOLE_1:1;
consider L,R such that A13: (for x holds (x in N implies ( ( ( f | X ) /. x ) - ( ( f | X ) /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) ))) by A6;
(for x holds (x in N2 implies ( ( ( f | Z ) /. x ) - ( ( f | Z ) /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) )))
proof
let x;
assume A14: x in N2;
then A15: ( ( ( f | X ) /. x ) - ( ( f | X ) /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) ) by A8,A13;
A16: x0 in N2 by RCOMP_1:16;
( ( ( f | X ) /. x ) - ( f /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) ) by A15,A16,A12,PARTFUN2:15;
then ( ( f /. x ) - ( f /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) ) by A14,A12,PARTFUN2:15;
then ( ( f /. x ) - ( ( f | Z ) /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) ) by A16,A11,PARTFUN2:15;
hence thesis by A14,A11,PARTFUN2:15;
end;
hence ( f | Z ) is_differentiable_in x0 by CKB15:def 1,A11;
end;
hence thesis by CKB17:def 1,A3;
end;
