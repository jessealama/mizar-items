environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,NAT_1,FDIFF_1,SUBSET_1,RELAT_1,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,FUNCOP_1,XREAL_0,ORDINAL1,XXREAL_2,XBOOLE_0,XXREAL_1;
notations TARSKI,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,VALUED_0,COMPLEX1,BINOP_2,VALUED_1,SEQ_1,SEQ_2,RCOMP_1,FDIFF_1,STRUCT_0,PRE_TOPC,RLVECT_1,VFUNCT_1,NORMSP_0,NORMSP_1,NDIFF_1,NFCONT_3,CKB3,CKB5,CKB6,CKB8,CKB15,CKB16,CKB17,CKB21;
definitions RCOMP_1,SUBSET_1,XBOOLE_0,TARSKI,CKB3,CKB6,CKB15,CKB16,CKB17,CKB21;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,ORDINAL1,SEQ_4,NORMSP_1,LOPBAN_1,LOPBAN_3,PARTFUN1,PARTFUN2,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,NORMSP_0,XREAL_0,RCOMP_1,SEQM_3,RFUNCT_2,NFCONT_3,CKB1,CKB2,CKB3,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31;
schemes FUNCT_2,SEQ_1;
registrations RELSET_1,STRUCT_0,ORDINAL1,XREAL_0,MEMBERED,FUNCT_2,NUMBERS,XBOOLE_0,VALUED_0,NORMSP_0,NORMSP_1,RELAT_1,SUBSET_1,XXREAL_0,LOPBAN_2,FUNCOP_1,NAT_1,RCOMP_1,VALUED_1,SEQ_4,FDIFF_1,CKB4,CKB7;
constructors REAL_1,FDIFF_1,VFUNCT_1,NDIFF_1,SEQ_1,RELSET_1,RVSUM_1,BINOP_2,INTEGR15,NAT_D,MEASURE6,NFCONT_3,CKB3,CKB6,CKB15,CKB16,CKB17,CKB21;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve F for non  trivial RealNormSpace;
reserve x for Real;
reserve x0 for Real;
reserve g for Real;
reserve p for Real;
reserve n for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve s1 for Real_Sequence;
reserve s3 for Real_Sequence;
reserve f for (PartFunc of ( REAL ),(the carrier of F));
reserve R for (REST of F);
reserve L for (LINEAR of F);
theorem
Th22: (for x0 being Real holds (f is_differentiable_in x0 implies f is_continuous_in x0))
proof
let x0 being Real;
assume A1: f is_differentiable_in x0;
then consider N being (Neighbourhood of x0) such that A2: N c= ( dom f ) and (ex L st (ex R st (for x holds (x in N implies ( ( f /. x ) - ( f /. x0 ) ) = ( ( L . ( x - x0 ) ) + ( R /. ( x - x0 ) ) ))))) by CKB15:def 1;
A3: x0 in N by RCOMP_1:16;
now
consider g being  real number such that A4: ( 0 ) < g and A5: N = ]. ( x0 - g ),( x0 + g ) .[ by RCOMP_1:def 6;
reconsider s2 = ( ( NAT ) --> x0 ) as Real_Sequence;
let s1;
assume that
A6: ( rng s1 ) c= ( dom f )
and
A7: s1 is  convergent
and
A8: ( lim s1 ) = x0
and
A9: (for n holds ( s1 . n ) <> x0);
consider l being (Element of ( NAT )) such that A10: (for m holds (l <= m implies ( abs ( ( s1 . m ) - x0 ) ) < g)) by A7,A8,A4,SEQ_2:def 7;
reconsider c = ( s2 ^\ l ) as  constant Real_Sequence;
deffunc G(Real) = ( ( s1 . $1 ) - ( s2 . $1 ) );
consider s3 such that A11: (for n holds ( s3 . n ) = G(n)) from SEQ_1:sch 1;
A12: s3 = ( s1 - s2 ) by A11,RFUNCT_2:1;
then A13: s3 is  convergent by A7,SEQ_2:11;
A14: ( rng c ) = { x0 }
proof
thus ( rng c ) c= { x0 }
proof
let y being set;
assume y in ( rng c );
then consider n such that A15: y = ( ( s2 ^\ l ) . n ) by FUNCT_2:113;
y = ( s2 . ( n + l ) ) by A15,NAT_1:def 3;
then y = x0 by FUNCOP_1:7;
hence y in { x0 } by TARSKI:def 1;
end;

let y being set;
assume y in { x0 };
then A16: y = x0 by TARSKI:def 1;
reconsider z0 = ( 0 ) as (Element of ( NAT ));
( c . z0 ) = ( s2 . ( z0 + l ) ) by NAT_1:def 3
.= y by A16,FUNCOP_1:7;
hence y in ( rng c ) by VALUED_0:28;
end;
A17:now
let p being Real;
assume that
A18: ( 0 ) < p;
take n = ( 0 );
let m;
assume that
n <= m;
x0 in N by RCOMP_1:16;
then ( rng c ) c= ( dom f ) by A2,A14,ZFMISC_1:31;
then ||. ( ( ( f /* c ) . m ) - ( f /. x0 ) ) .|| = ||. ( ( f /. ( c . m ) ) - ( f /. x0 ) ) .|| by FUNCT_2:109
.= ||. ( ( f /. ( s2 . ( m + l ) ) ) - ( f /. x0 ) ) .|| by NAT_1:def 3
.= ||. ( ( f /. x0 ) - ( f /. x0 ) ) .|| by FUNCOP_1:7
.= ||. ( 0. F ) .|| by RLVECT_1:15
.= ( 0 );
hence ||. ( ( ( f /* c ) . m ) - ( f /. x0 ) ) .|| < p by A18;
end;
then A19: ( f /* c ) is  convergent by NORMSP_1:def 6;
( lim s2 ) = ( s2 . ( 0 ) ) by SEQ_4:26
.= x0 by FUNCOP_1:7;
then ( lim s3 ) = ( x0 - x0 ) by A7,A8,A12,SEQ_2:12
.= ( 0 );
then A20: ( lim ( s3 ^\ l ) ) = ( 0 ) by A13,SEQ_4:20;
A21:now
given n such that
A22: ( s3 . n ) = ( 0 );

( ( s1 . n ) - ( s2 . n ) ) = ( 0 ) by A11,A22;
hence contradiction by A9,FUNCOP_1:7;
end;
A23:now
given n such that
A24: ( ( s3 ^\ l ) . n ) = ( 0 );

( s3 . ( n + l ) ) = ( 0 ) by A24,NAT_1:def 3;
hence contradiction by A21;
end;
then ( s3 ^\ l ) is  non-zero by SEQ_1:5;
then reconsider h = ( s3 ^\ l ) as  convergent_to_0 Real_Sequence by A13,A20,FDIFF_1:def 1;
now
let n;
thus ( ( ( ( f /* ( h + c ) ) - ( f /* c ) ) + ( f /* c ) ) . n ) = ( ( ( ( f /* ( h + c ) ) - ( f /* c ) ) . n ) + ( ( f /* c ) . n ) ) by NORMSP_1:def 2
.= ( ( ( ( f /* ( h + c ) ) . n ) - ( ( f /* c ) . n ) ) + ( ( f /* c ) . n ) ) by NORMSP_1:def 3
.= ( ( ( f /* ( h + c ) ) . n ) - ( ( ( f /* c ) . n ) - ( ( f /* c ) . n ) ) ) by RLVECT_1:29
.= ( ( ( f /* ( h + c ) ) . n ) - ( 0. F ) ) by RLVECT_1:15
.= ( ( f /* ( h + c ) ) . n ) by RLVECT_1:13;
end;
then A25: ( ( ( f /* ( h + c ) ) - ( f /* c ) ) + ( f /* c ) ) = ( f /* ( h + c ) ) by FUNCT_2:63;
now
let n;
thus ( ( h + c ) . n ) = ( ( ( ( s1 - s2 ) + s2 ) ^\ l ) . n ) by A12,SEQM_3:15
.= ( ( ( s1 - s2 ) + s2 ) . ( n + l ) ) by NAT_1:def 3
.= ( ( ( s1 - s2 ) . ( n + l ) ) + ( s2 . ( n + l ) ) ) by SEQ_1:7
.= ( ( ( s1 . ( n + l ) ) - ( s2 . ( n + l ) ) ) + ( s2 . ( n + l ) ) ) by RFUNCT_2:1
.= ( ( s1 ^\ l ) . n ) by NAT_1:def 3;
end;
then A26: ( ( ( f /* ( h + c ) ) - ( f /* c ) ) + ( f /* c ) ) = ( f /* ( s1 ^\ l ) ) by A25,FUNCT_2:63
.= ( ( f /* s1 ) ^\ l ) by A6,VALUED_0:27;
now
let y being set;
assume y in ( rng ( h + c ) );
then consider n such that A27: y = ( ( h + c ) . n ) by FUNCT_2:113;
( ( h + c ) . n ) = ( ( ( ( s1 - s2 ) + s2 ) ^\ l ) . n ) by A12,SEQM_3:15
.= ( ( ( s1 - s2 ) + s2 ) . ( n + l ) ) by NAT_1:def 3
.= ( ( ( s1 - s2 ) . ( n + l ) ) + ( s2 . ( n + l ) ) ) by SEQ_1:7
.= ( ( ( s1 . ( n + l ) ) - ( s2 . ( n + l ) ) ) + ( s2 . ( n + l ) ) ) by RFUNCT_2:1
.= ( s1 . ( l + n ) );
then ( abs ( ( ( h + c ) . n ) - x0 ) ) < g by A10,NAT_1:12;
hence y in N by A5,A27,RCOMP_1:1;
end;
then A28: ( rng ( h + c ) ) c= N by TARSKI:def 3;
A29: ( lim ( h (#) ( ( h " ) (#) ( ( f /* ( h + c ) ) - ( f /* c ) ) ) ) ) = ( ( 0 ) * ( lim ( ( h " ) (#) ( ( f /* ( h + c ) ) - ( f /* c ) ) ) ) ) by A13,A20,A1,A2,A14,CKB23:1,A28,NDIFF_1:14
.= ( 0. F ) by RLVECT_1:10;
now
let n;
A30: ( h . n ) <> ( 0 ) by A23;
thus ( ( h (#) ( ( h " ) (#) ( ( f /* ( h + c ) ) - ( f /* c ) ) ) ) . n ) = ( ( h . n ) * ( ( ( h " ) (#) ( ( f /* ( h + c ) ) - ( f /* c ) ) ) . n ) ) by NDIFF_1:def 2
.= ( ( h . n ) * ( ( ( h " ) . n ) * ( ( ( f /* ( h + c ) ) - ( f /* c ) ) . n ) ) ) by NDIFF_1:def 2
.= ( ( h . n ) * ( ( ( h . n ) " ) * ( ( ( f /* ( h + c ) ) - ( f /* c ) ) . n ) ) ) by VALUED_1:10
.= ( ( ( h . n ) * ( ( h . n ) " ) ) * ( ( ( f /* ( h + c ) ) - ( f /* c ) ) . n ) ) by RLVECT_1:def 7
.= ( 1 * ( ( ( f /* ( h + c ) ) - ( f /* c ) ) . n ) ) by A30,XCMPLX_0:def 7
.= ( ( ( f /* ( h + c ) ) - ( f /* c ) ) . n ) by RLVECT_1:def 8;
end;
then A31: ( h (#) ( ( h " ) (#) ( ( f /* ( h + c ) ) - ( f /* c ) ) ) ) = ( ( f /* ( h + c ) ) - ( f /* c ) ) by FUNCT_2:63;
then A32: ( ( f /* ( h + c ) ) - ( f /* c ) ) is  convergent by A13,A28,A1,A2,A14,CKB23:1,NDIFF_1:13;
then ( ( ( f /* ( h + c ) ) - ( f /* c ) ) + ( f /* c ) ) is  convergent by A19,NORMSP_1:19;
hence ( f /* s1 ) is  convergent by A26,LOPBAN_3:10;
( lim ( f /* c ) ) = ( f /. x0 ) by A17,A19,NORMSP_1:def 7;
then ( lim ( ( ( f /* ( h + c ) ) - ( f /* c ) ) + ( f /* c ) ) ) = ( ( 0. F ) + ( f /. x0 ) ) by A29,A31,A32,A19,NORMSP_1:25
.= ( f /. x0 ) by RLVECT_1:4;
hence ( f /. x0 ) = ( lim ( f /* s1 ) ) by A32,A26,A19,LOPBAN_3:11,NORMSP_1:19;
end;
hence thesis by A3,A2,NFCONT_3:7;
end;
