environ
vocabularies TARSKI,QC_LANG3,PBOOLE,MSUALG_1,CATALG_1,FINSEQ_1,XBOOLE_0,ZFMISC_1,ARYTM_3,CARD_1,NAT_1,NUMBERS,XXREAL_0,ZF_LANG1,ORDINAL1,TREES_A,ABIAN,CARD_3,MEMBER_1,FINSET_1,FUNCOP_1,FUNCT_1,TREES_4,TREES_2,MSATERM,RELAT_1,MCART_1,MSAFREE,ZF_MODEL,AOFA_000,FINSEQ_2,PARTFUN1,QC_LANG1,FUNCT_2,ORDINAL4,CAT_3,TREES_3,ABCMIZ_0,ABCMIZ_1,ABCMIZ_A,STRUCT_0,FACIRC_1,INSTALG1,MSUALG_2,COMPUT_1,BINTREE1,TREES_9,ARYTM_1,FUNCT_6,SUBSET_1,MARGREL1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FACIRC_1,ENUMSET1,FUNCOP_1,XCMPLX_0,XXREAL_0,NAT_1,NAT_D,MCART_1,FINSET_1,CARD_1,NUMBERS,CARD_3,FINSEQ_1,FINSEQ_2,FINSEQ_4,FUNCT_6,TREES_1,TREES_2,TREES_3,TREES_4,TREES_9,PBOOLE,STRUCT_0,ORDINAL1,MSUALG_1,MSUALG_2,MSAFREE,EQUATION,MSATERM,INSTALG1,CATALG_1,MSAFREE3,AOFA_000,ABCMIZ_1;
definitions TARSKI,XBOOLE_0,RELAT_1,FUNCT_1,SUBSET_1,FINSEQ_1,MSAFREE,MSAFREE3,PBOOLE,MSUALG_1,ABCMIZ_1;
theorems TARSKI,XBOOLE_0,XBOOLE_1,TREES_1,XXREAL_0,XREAL_1,ZFMISC_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,ENUMSET1,FUNCT_6,INSTALG1,NAT_1,MCART_1,PBOOLE,RELAT_1,RELSET_1,CARD_1,CARD_5,ORDINAL1,MSUALG_2,TREES_3,TREES_4,FINSEQ_3,FUNCOP_1,MSAFREE,MSATERM,MSAFREE3,YELLOW11,PARTFUN1,WELLORD2,ABCMIZ_1,TREES_9,FACIRC_1,REALSET1,CKB1;
schemes FUNCT_1,NAT_1,RECDEF_1,CLASSES1,FINSEQ_1,CKB2,CKB3;
registrations XBOOLE_0,SUBSET_1,XREAL_0,ORDINAL1,FUNCT_1,FINSET_1,STRUCT_0,PBOOLE,MSUALG_2,FINSEQ_1,NAT_1,CARD_1,MSAFREE,TREES_3,TREES_2,FUNCOP_1,RELAT_1,INDEX_1,INSTALG1,MSAFREE3,WAYBEL26,FACIRC_1,ABCMIZ_1,REALSET1,MSATERM,ZFMISC_1,RELSET_1;
constructors RELSET_1,DOMAIN_1,WELLORD2,MSAFREE1,TREES_9,EQUATION,NAT_D,FINSEQ_4,CATALG_1,FACIRC_1,ABCMIZ_1,PRE_POLY;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
reserve i for Nat;
reserve j for Nat;
scheme Numeration { X() ->  finite set,R[set,set] } : (ex s being  one-to-one FinSequence st (( rng s ) = X() & (for i holds (for j holds (((i in ( dom s ) & j in ( dom s )) & R[ ( s . i ),( s . j ) ]) implies i < j)))))
provided
A1: (for x,y being set holds (((x in X() & y in X()) & R[ x,y ]) implies (not R[ y,x ])))
and
A2: (for x,y,z being set holds (((((x in X() & y in X()) & z in X()) & R[ x,y ]) & R[ y,z ]) implies R[ x,z ]))
proof
defpred P[ set ]
 means
(ex s being  one-to-one FinSequence st (( rng s ) = $1 & (for i holds (for j holds (((i in ( dom s ) & j in ( dom s )) & R[ ( s . i ),( s . j ) ]) implies i < j)))));
A3: P[ ( {} ) ]
proof
reconsider s = ( {} ) as  one-to-one FinSequence;
take s;
thus thesis;
end;
A4: (for A being (Subset of X()) holds ((for B being set holds (B c< A implies P[ B ])) implies P[ A ]))
proof
let A being (Subset of X());
assume that
A5: (for B being set holds (B c< A implies P[ B ]));
per cases ;
suppose A is  empty;

hence P[ A ] by A3;
end;
suppose A is non  empty;

then reconsider A9 = A as non  empty  finite set;
A6: (for x,y being set holds (((x in A9 & y in A9) & R[ x,y ]) implies (not R[ y,x ]))) by A1;
A7: (for x,y,z being set holds (((((x in A9 & y in A9) & z in A9) & R[ x,y ]) & R[ y,z ]) implies R[ x,z ])) by A2;
consider x being set such that A8: (x in A9 & (for y being set holds (y in A9 implies (not R[ y,x ])))) from CKB2:sch 1(A6,A7);
set B = ( A \ { x } );
A9: (x nin B & B c= A) by XBOOLE_1:36,ZFMISC_1:56;
then B c< A by A8,XBOOLE_0:def 8;
then consider s being  one-to-one FinSequence such that A10: ( rng s ) = B and A11: (for i holds (for j holds (((i in ( dom s ) & j in ( dom s )) & R[ ( s . i ),( s . j ) ]) implies i < j))) by A5;
((<* x *> is  one-to-one & ( rng <* x *> ) = { x }) & { x } misses B) by FINSEQ_1:39,FINSEQ_3:93,XBOOLE_1:79;
then reconsider s9 = ( <* x *> ^ s ) as  one-to-one FinSequence by A10,FINSEQ_3:91;
A12: { x } c= A by A8,ZFMISC_1:31;
A13: ( len <* x *> ) = 1 by FINSEQ_1:40;
thus P[ A ]
proof
take s9;
thus ( rng s9 ) = ( ( rng <* x *> ) \/ ( rng s ) ) by FINSEQ_1:31
.= ( { x } \/ B ) by A10,FINSEQ_1:38
.= A by A12,XBOOLE_1:45;
let i;
let j;
assume that
A14: ((i in ( dom s9 ) & j in ( dom s9 )) & R[ ( s9 . i ),( s9 . j ) ]);
A15: ( dom <* x *> ) = ( Seg 1 ) by FINSEQ_1:38;
per cases  by A13,A14,FINSEQ_1:25;
suppose (i in ( dom <* x *> ) & j in ( dom <* x *> ));

then (i = 1 & j = 1) by A15,FINSEQ_1:2,TARSKI:def 1;
then (( s9 . i ) = x & ( s9 . j ) = x) by FINSEQ_1:41;
hence i < j by A8,A14;
end;
suppose A16: (i in ( dom <* x *> ) & (ex n being Nat st (n in ( dom s ) & j = ( 1 + n ))));

then A17: i = 1 by A15,FINSEQ_1:2,TARSKI:def 1;
consider n being Nat such that A18: (n in ( dom s ) & j = ( 1 + n )) by A16;
1 <= n by A18,FINSEQ_3:25;
hence i < j by A17,A18,NAT_1:13;
end;
suppose A19: (j in ( dom <* x *> ) & (ex n being Nat st (n in ( dom s ) & i = ( 1 + n ))));

then j = 1 by A15,FINSEQ_1:2,TARSKI:def 1;
then A20: ( s9 . j ) = x by FINSEQ_1:41;
consider n being Nat such that A21: (n in ( dom s ) & i = ( 1 + n )) by A19;
( s9 . i ) = ( s . n ) by A13,A21,FINSEQ_1:def 7;
then ( s9 . i ) in ( rng s ) by A21,FUNCT_1:def 3;
hence i < j by A8,A14,A20,A9,A10;
end;
suppose ((ex n being Nat st (n in ( dom s ) & i = ( 1 + n ))) & (ex n being Nat st (n in ( dom s ) & j = ( 1 + n ))));

then consider ni,nj being Nat such that A22: (((ni in ( dom s ) & i = ( 1 + ni )) & nj in ( dom s )) & j = ( 1 + nj ));
(( s9 . i ) = ( s . ni ) & ( s9 . j ) = ( s . nj )) by A13,A22,FINSEQ_1:def 7;
then ni < nj by A11,A14,A22;
hence i < j by A22,XREAL_1:6;
end;
end;

end;
end;
thus P[ X() ] from CKB3:sch 1(A4);
end;
