environ
vocabularies NUMBERS,XBOOLE_0,STRUCT_0,PRE_TOPC,PENCIL_2,PENCIL_1,FUNCT_1,RELAT_1,TARSKI,SUBSET_1,PRALG_1,PBOOLE,ZFMISC_1,RELAT_2,FINSEQ_1,NAT_1,XXREAL_0,ARYTM_3,CARD_1,ARYTM_1,WAYBEL_3,RLVECT_2,CARD_3,INTEGRA1,FUNCT_4,FINSET_1,FDIFF_1,PARSP_1,GRAPH_2,FUNCT_2,CAT_1,RCOMP_1,FUNCOP_1,PENCIL_3;
notations TARSKI,XBOOLE_0,ZFMISC_1,XCMPLX_0,XXREAL_0,NUMBERS,NAT_1,RELAT_1,SUBSET_1,FUNCT_1,FUNCT_2,FUNCOP_1,RELSET_1,CARD_1,FINSET_1,FINSEQ_1,CARD_3,DOMAIN_1,STRUCT_0,PRE_TOPC,PBOOLE,PZFMISC1,T_0TOPSP,PRALG_1,WAYBEL_3,PENCIL_1,FUNCT_7,PENCIL_2,TOPS_2,GRAPH_2,CKB19;
definitions TARSKI,XBOOLE_0,PBOOLE,FUNCT_1,T_0TOPSP,STRUCT_0,RELAT_1,CKB19;
theorems XBOOLE_0,ZFMISC_1,FUNCT_1,FINSEQ_1,FINSEQ_3,NAT_1,CARD_3,PBOOLE,PRE_TOPC,FUNCT_7,PRALG_1,PZFMISC1,TARSKI,FUNCT_2,REALSET1,TOPS_2,PENCIL_1,PENCIL_2,CARD_1,XBOOLE_1,PUA2MSS1,FINSET_1,CARD_2,GRAPH_2,FUNCOP_1,RELAT_1,RELSET_1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes TRANSGEO,NAT_1,FINSEQ_2,PENCIL_2,FINSEQ_1,PBOOLE,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,XXREAL_0,XREAL_0,NAT_1,CARD_1,PBOOLE,REALSET1,STRUCT_0,PENCIL_1,ORDINAL1,FUNCT_1,RELAT_1,FINSEQ_1,ZFMISC_1,PRE_POLY;
constructors XXREAL_0,PZFMISC1,TOPS_2,REALSET2,T_0TOPSP,GRAPH_2,PENCIL_2,RELSET_1,PBOOLE,FUNCT_7,PRE_POLY,CKB19;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
theorem
Th19: (for I being  finite non empty set holds (for b1,b2 being (ManySortedSet of I) holds (for i being (Element of I) holds (( b1 . i ) <> ( b2 . i ) implies ( diff (b1,b2) ) = ( ( diff (b1,( b2 +* (i,( b1 . i )) )) ) + 1 )))))
proof
let I being  finite non empty set;
let b1 being (ManySortedSet of I),b2 being (ManySortedSet of I);
let j being (Element of I);
set b3 = ( b2 +* (j,( b1 . j )) );
{ i where i is (Element of I): ( b1 . i ) <> ( b2 . i ) } c= I
proof
let a being set;
assume a in { i where i is (Element of I): ( b1 . i ) <> ( b2 . i ) };
then (ex i being (Element of I) st (a = i & ( b1 . i ) <> ( b2 . i )));
hence thesis;
end;
then reconsider F = { i where i is (Element of I): ( b1 . i ) <> ( b2 . i ) } as  finite set by FINSET_1:1;
{ i where i is (Element of I): ( b1 . i ) <> ( b3 . i ) } c= I
proof
let a being set;
assume a in { i where i is (Element of I): ( b1 . i ) <> ( b3 . i ) };
then (ex i being (Element of I) st (a = i & ( b1 . i ) <> ( b3 . i )));
hence thesis;
end;
then reconsider G = { i where i is (Element of I): ( b1 . i ) <> ( b3 . i ) } as  finite set by FINSET_1:1;
assume A1: ( b1 . j ) <> ( b2 . j );
A2: F = ( G \/ { j } )
proof
thus F c= ( G \/ { j } )
proof
let o being set;
assume o in F;
then consider i being (Element of I) such that A3: o = i and A4: ( b1 . i ) <> ( b2 . i );
per cases ;
suppose i = j;

then o in { j } by A3,TARSKI:def 1;
hence thesis by XBOOLE_0:def 3;
end;
suppose i <> j;

then ( b3 . i ) = ( b2 . i ) by FUNCT_7:32;
then i in G by A4;
hence thesis by A3,XBOOLE_0:def 3;
end;
end;

let o being set;
assume A5: o in ( G \/ { j } );
per cases  by A5,XBOOLE_0:def 3;
suppose o in G;

then consider i being (Element of I) such that A6: o = i and A7: ( b1 . i ) <> ( b3 . i );
now
assume A8: ( b1 . i ) = ( b2 . i );
then i = j by A7,FUNCT_7:32;
hence contradiction by A1,A8;
end;
hence thesis by A6;
end;
suppose o in { j };

then o = j by TARSKI:def 1;
hence thesis by A1;
end;
end;
now
assume j in G;
then A9: (ex jj being (Element of I) st (jj = j & ( b1 . jj ) <> ( b3 . jj )));
( dom b2 ) = I by PARTFUN1:def 2;
hence contradiction by A9,FUNCT_7:31;
end;
hence thesis by A2,CARD_2:41;
end;
