environ
vocabularies NUMBERS,XBOOLE_0,STRUCT_0,PRE_TOPC,PENCIL_2,PENCIL_1,FUNCT_1,RELAT_1,TARSKI,SUBSET_1,PRALG_1,PBOOLE,ZFMISC_1,RELAT_2,FINSEQ_1,NAT_1,XXREAL_0,ARYTM_3,CARD_1,ARYTM_1,WAYBEL_3,RLVECT_2,CARD_3,INTEGRA1,FUNCT_4,FINSET_1,FDIFF_1,PARSP_1,GRAPH_2,FUNCT_2,CAT_1,RCOMP_1,FUNCOP_1,PENCIL_3;
notations TARSKI,XBOOLE_0,ZFMISC_1,XCMPLX_0,XXREAL_0,NUMBERS,NAT_1,RELAT_1,SUBSET_1,FUNCT_1,FUNCT_2,FUNCOP_1,RELSET_1,CARD_1,FINSET_1,FINSEQ_1,CARD_3,DOMAIN_1,STRUCT_0,PRE_TOPC,PBOOLE,PZFMISC1,T_0TOPSP,PRALG_1,WAYBEL_3,PENCIL_1,FUNCT_7,PENCIL_2,TOPS_2,GRAPH_2,CKB19,CKB21;
definitions TARSKI,XBOOLE_0,PBOOLE,FUNCT_1,T_0TOPSP,STRUCT_0,RELAT_1,CKB19,CKB21;
theorems XBOOLE_0,ZFMISC_1,FUNCT_1,FINSEQ_1,FINSEQ_3,NAT_1,CARD_3,PBOOLE,PRE_TOPC,FUNCT_7,PRALG_1,PZFMISC1,TARSKI,FUNCT_2,REALSET1,TOPS_2,PENCIL_1,PENCIL_2,CARD_1,XBOOLE_1,PUA2MSS1,FINSET_1,CARD_2,GRAPH_2,FUNCOP_1,RELAT_1,RELSET_1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25;
schemes TRANSGEO,NAT_1,FINSEQ_2,PENCIL_2,FINSEQ_1,PBOOLE,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,XXREAL_0,XREAL_0,NAT_1,CARD_1,PBOOLE,REALSET1,STRUCT_0,PENCIL_1,ORDINAL1,FUNCT_1,RELAT_1,FINSEQ_1,ZFMISC_1,PRE_POLY;
constructors XXREAL_0,PZFMISC1,TOPS_2,REALSET2,T_0TOPSP,GRAPH_2,PENCIL_2,RELSET_1,PBOOLE,FUNCT_7,PRE_POLY,CKB19,CKB21;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
theorem
Th24: (for I being  finite non  empty set holds (for A being  PLS-yielding (ManySortedSet of I) holds ((for i being (Element of I) holds ( A . i ) is  strongly_connected) implies (for f being (Collineation of ( Segre_Product A )) holds (for B1,B2 being (Segre-Coset of A) holds (for b1,b2,b3,b4 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) holds ((((B1 = ( product b1 ) & B2 = ( product b2 )) & ( f .: B1 ) = ( product b3 )) & ( f .: B2 ) = ( product b4 )) implies (( indx b1 ) = ( indx b2 ) implies ( indx b3 ) = ( indx b4 )))))))))
proof
let I being  finite non  empty set;
let A being  PLS-yielding (ManySortedSet of I);
assume that
A1: (for i being (Element of I) holds ( A . i ) is  strongly_connected);
A2:now
let i being (Element of I);
( A . i ) is  strongly_connected by A1;
hence ( A . i ) is  connected by CKB4:1;
end;
let f being (Collineation of ( Segre_Product A ));
let B1 being (Segre-Coset of A);
let B2 being (Segre-Coset of A);
let b1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
let b2 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
let b3 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
let b4 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
assume that
A3: B1 = ( product b1 )
and
A4: B2 = ( product b2 )
and
A5: (( f .: B1 ) = ( product b3 ) & ( f .: B2 ) = ( product b4 ));
assume A6: ( indx b1 ) = ( indx b2 );
per cases ;
suppose A7: B1 misses B2;

reconsider fB1 = ( f .: B1 ),fB2 = ( f .: B2 ) as (Segre-Coset of A) by A1,PENCIL_2:24;
f is  bijective  bijective (Function of (the carrier of ( Segre_Product A )),(the carrier of ( Segre_Product A ))) by PENCIL_2:def 4;
then A8: fB1 misses fB2 by A7,FUNCT_1:66;
consider D being (FinSequence of ( bool (the carrier of ( Segre_Product A )) )) such that A9: ( D . 1 ) = B1 and A10: ( D . ( len D ) ) = B2 and A11: (for i being Nat holds (i in ( dom D ) implies ( D . i ) is (Segre-Coset of A))) and A12: (for i being Nat holds ((1 <= i & i < ( len D )) implies (for Di,Di1 being (Segre-Coset of A) holds ((Di = ( D . i ) & Di1 = ( D . ( i + 1 ) )) implies (Di misses Di1 & Di '||' Di1))))) by A2,A3,A4,A6,A7,CKB25:1;
deffunc F(Nat) = ( f .: ( D . $1 ) );
consider E being (FinSequence of ( bool (the carrier of ( Segre_Product A )) )) such that A13: (( len E ) = ( len D ) & (for j being Nat holds (j in ( dom E ) implies ( E . j ) = F(j)))) from FINSEQ_2:sch 1;
A14: ( dom E ) = ( Seg ( len D ) ) by A13,FINSEQ_1:def 3;
A15: (for i being Nat holds ((1 <= i & i < ( len E )) implies (for Ei,Ei1 being (Segre-Coset of A) holds ((Ei = ( E . i ) & Ei1 = ( E . ( i + 1 ) )) implies (Ei misses Ei1 & Ei '||' Ei1)))))
proof
let i being Nat;
A16: f is  bijective  bijective (Function of (the carrier of ( Segre_Product A )),(the carrier of ( Segre_Product A ))) by PENCIL_2:def 4;
assume A17: (1 <= i & i < ( len E ));
then i in ( dom D ) by A13,FINSEQ_3:25;
then reconsider Di = ( D . i ) as (Segre-Coset of A) by A11;
(1 <= ( i + 1 ) & ( i + 1 ) <= ( len E )) by A17,NAT_1:13;
then ( i + 1 ) in ( dom D ) by A13,FINSEQ_3:25;
then reconsider Di1 = ( D . ( i + 1 ) ) as (Segre-Coset of A) by A11;
let Ei being (Segre-Coset of A);
let Ei1 being (Segre-Coset of A);
assume that
A18: Ei = ( E . i )
and
A19: Ei1 = ( E . ( i + 1 ) );
i in ( Seg ( len D ) ) by A13,A17,FINSEQ_1:1;
then A20: Ei = ( f .: ( D . i ) ) by A13,A14,A18;
(1 <= ( i + 1 ) & ( i + 1 ) <= ( len E )) by A17,NAT_1:13;
then ( i + 1 ) in ( Seg ( len D ) ) by A13,FINSEQ_1:1;
then A21: Ei1 = ( f .: ( D . ( i + 1 ) ) ) by A13,A14,A19;
Di misses Di1 by A12,A13,A17;
hence Ei misses Ei1 by A20,A21,A16,FUNCT_1:66;
Di '||' Di1 by A12,A13,A17;
hence thesis by A20,A21,CKB22:1;
end;
A22: (for i being Nat holds (i in ( dom E ) implies ( E . i ) is (Segre-Coset of A)))
proof
let i being Nat;
assume A23: i in ( dom E );
then i in ( Seg ( len D ) ) by A13,FINSEQ_1:def 3;
then i in ( dom D ) by FINSEQ_1:def 3;
then reconsider di = ( D . i ) as (Segre-Coset of A) by A11;
( E . i ) = ( f .: di ) by A13,A23;
hence thesis by A1,PENCIL_2:24;
end;
( len E ) in ( dom D ) by A4,A10,A13,FUNCT_1:def 2;
then ( len E ) in ( Seg ( len D ) ) by FINSEQ_1:def 3;
then A24: ( E . ( len E ) ) = ( f .: B2 ) by A10,A13,A14;
1 in ( dom D ) by A3,A9,FUNCT_1:def 2;
then 1 in ( Seg ( len D ) ) by FINSEQ_1:def 3;
then ( E . 1 ) = ( f .: B1 ) by A9,A13,A14;
hence thesis by A2,A5,A24,A22,A15,A8,CKB25:1;
end;
suppose B1 meets B2;

then B1 = B2 by A3,A4,A6,CKB11:1;
hence thesis by A5,PUA2MSS1:2;
end;
end;
