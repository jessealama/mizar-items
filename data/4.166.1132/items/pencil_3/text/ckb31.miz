environ
vocabularies NUMBERS,XBOOLE_0,STRUCT_0,PRE_TOPC,PENCIL_2,PENCIL_1,FUNCT_1,RELAT_1,TARSKI,SUBSET_1,PRALG_1,PBOOLE,ZFMISC_1,RELAT_2,FINSEQ_1,NAT_1,XXREAL_0,ARYTM_3,CARD_1,ARYTM_1,WAYBEL_3,RLVECT_2,CARD_3,INTEGRA1,FUNCT_4,FINSET_1,FDIFF_1,PARSP_1,GRAPH_2,FUNCT_2,CAT_1,RCOMP_1,FUNCOP_1,PENCIL_3;
notations TARSKI,XBOOLE_0,ZFMISC_1,XCMPLX_0,XXREAL_0,NUMBERS,NAT_1,RELAT_1,SUBSET_1,FUNCT_1,FUNCT_2,FUNCOP_1,RELSET_1,CARD_1,FINSET_1,FINSEQ_1,CARD_3,DOMAIN_1,STRUCT_0,PRE_TOPC,PBOOLE,PZFMISC1,T_0TOPSP,PRALG_1,WAYBEL_3,PENCIL_1,FUNCT_7,PENCIL_2,TOPS_2,GRAPH_2,CKB19,CKB21,CKB28,CKB29;
definitions TARSKI,XBOOLE_0,PBOOLE,FUNCT_1,T_0TOPSP,STRUCT_0,RELAT_1,CKB19,CKB21,CKB28,CKB29;
theorems XBOOLE_0,ZFMISC_1,FUNCT_1,FINSEQ_1,FINSEQ_3,NAT_1,CARD_3,PBOOLE,PRE_TOPC,FUNCT_7,PRALG_1,PZFMISC1,TARSKI,FUNCT_2,REALSET1,TOPS_2,PENCIL_1,PENCIL_2,CARD_1,XBOOLE_1,PUA2MSS1,FINSET_1,CARD_2,GRAPH_2,FUNCOP_1,RELAT_1,RELSET_1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30;
schemes TRANSGEO,NAT_1,FINSEQ_2,PENCIL_2,FINSEQ_1,PBOOLE,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,XXREAL_0,XREAL_0,NAT_1,CARD_1,PBOOLE,REALSET1,STRUCT_0,PENCIL_1,ORDINAL1,FUNCT_1,RELAT_1,FINSEQ_1,ZFMISC_1,PRE_POLY;
constructors XXREAL_0,PZFMISC1,TOPS_2,REALSET2,T_0TOPSP,GRAPH_2,PENCIL_2,RELSET_1,PBOOLE,FUNCT_7,PRE_POLY,CKB19,CKB21,CKB28,CKB29;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
theorem
Th27: (for I being  finite non  empty set holds (for A being  PLS-yielding (ManySortedSet of I) holds ((for i being (Element of I) holds ( A . i ) is  strongly_connected) implies (for f being (Collineation of ( Segre_Product A )) holds (for b1,b2 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) holds (((( product b1 ) is (Segre-Coset of A) & ( product b2 ) is (Segre-Coset of A)) & ( indx b1 ) = ( indx b2 )) implies ( canonical_embedding (f,b1) ) = ( canonical_embedding (f,b2) )))))))
proof
let I being  finite non  empty set;
let A being  PLS-yielding (ManySortedSet of I);
assume that
A1: (for i being (Element of I) holds ( A . i ) is  strongly_connected);
A2:now
let o being (Element of I);
( A . o ) is  strongly_connected by A1;
hence ( A . o ) is  connected by CKB4:1;
end;
let f being (Collineation of ( Segre_Product A ));
let b1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
let b2 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
assume that
A3: (( product b1 ) is (Segre-Coset of A) & ( product b2 ) is (Segre-Coset of A))
and
A4: ( indx b1 ) = ( indx b2 );
reconsider B1 = ( product b1 ),B2 = ( product b2 ) as (Segre-Coset of A) by A3;
per cases ;
suppose B1 misses B2;

then consider D being (FinSequence of ( bool (the carrier of ( Segre_Product A )) )) such that A5: ( D . 1 ) = B1 and A6: ( D . ( len D ) ) = B2 and A7: (for i being Nat holds (i in ( dom D ) implies ( D . i ) is (Segre-Coset of A))) and A8: (for i being Nat holds ((1 <= i & i < ( len D )) implies (for Di,Di1 being (Segre-Coset of A) holds ((Di = ( D . i ) & Di1 = ( D . ( i + 1 ) )) implies (Di misses Di1 & Di '||' Di1))))) by A2,A4,CKB25:1;
defpred P[ Nat ]
 means
($1 in ( dom D ) implies (for D1 being (Segre-Coset of A) holds (D1 = ( D . $1 ) implies (for d1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) holds (D1 = ( product d1 ) implies ( canonical_embedding (f,b1) ) = ( canonical_embedding (f,d1) ))))));
A9:now
let k being Nat;
assume A10: P[ k ];
thus P[ ( k + 1 ) ]
proof
assume ( k + 1 ) in ( dom D );
then ( k + 1 ) <= ( len D ) by FINSEQ_3:25;
then A11: k < ( len D ) by NAT_1:13;
let D2 being (Segre-Coset of A);
assume that
A12: D2 = ( D . ( k + 1 ) );
let d2 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A ));
assume that
A13: D2 = ( product d2 );
per cases  by NAT_1:14;
suppose k = ( 0 );

hence thesis by A5,A12,A13,PUA2MSS1:2;
end;
suppose A14: 1 <= k;

then k in ( dom D ) by A11,FINSEQ_3:25;
then reconsider D1 = ( D . k ) as (Segre-Coset of A) by A7;
consider d1 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier A )) such that A15: ( product d1 ) = D1 and ( d1 . ( indx d1 ) ) = ( [#] ( A . ( indx d1 ) ) ) by PENCIL_2:def 2;
(D1 misses D2 & D1 '||' D2) by A8,A11,A12,A14;
then ( canonical_embedding (f,d1) ) = ( canonical_embedding (f,d2) ) by A1,A13,A15,CKB30:1;
hence thesis by A10,A11,A14,A15,FINSEQ_3:25;
end;
end;

end;
A16: P[ ( 0 ) ] by FINSEQ_3:24;
(for n being Nat holds P[ n ]) from NAT_1:sch 2(A16,A9);
then A17: P[ ( len D ) ];
1 in ( dom D ) by A5,FUNCT_1:def 2;
then 1 <= ( len D ) by FINSEQ_3:25;
hence thesis by A6,A17,FINSEQ_3:25;
end;
suppose B1 meets B2;

hence thesis by A4,CKB11:1;
end;
end;
