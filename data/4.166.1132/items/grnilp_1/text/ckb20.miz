environ
vocabularies REALSET1,FINSEQ_1,GROUP_3,FUNCT_1,RLSUB_1,GROUP_2,RELAT_1,GROUP_6,XBOOLE_0,QC_LANG1,GROUP_1,GRAPH_1,ARYTM_1,ARYTM_3,ZFMISC_1,NUMBERS,SUBSET_1,XXREAL_1,STRUCT_0,NEWTON,TARSKI,NAT_1,PARTFUN1,PRE_TOPC,XXREAL_0,CARD_1,GROUP_4,NATTRA_1,CARD_3,BINOP_1,GROUP_5,GRSOLV_1,GRNILP_1,BCIALG_2,ALGSTR_0;
notations TARSKI,XBOOLE_0,SUBSET_1,XCMPLX_0,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,STRUCT_0,ALGSTR_0,PARTFUN1,FINSEQ_1,ZFMISC_1,NAT_1,XXREAL_0,NUMBERS,REALSET1,DOMAIN_1,GROUP_1,GROUP_3,GR_CY_1,GRSOLV_1,GROUP_4,GROUP_5,GROUP_2,GROUP_6,CKB10;
definitions GROUP_2,GROUP_6,TARSKI,FINSEQ_1,GROUP_4,ALGSTR_0,GROUP_3,GROUP_5,GRSOLV_1,REALSET1;
theorems FINSEQ_1,GROUP_2,GROUP_3,TARSKI,GROUP_5,GROUP_6,FINSEQ_2,FUNCT_2,RELAT_1,XBOOLE_0,XBOOLE_1,NAT_1,GROUP_1,PARTFUN1,FINSEQ_3,SUBSET_1,GROUP_4,FUNCT_1,GRSOLV_1,STRUCT_0,GROUP_11,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes XBOOLE_0,FUNCT_1,FINSEQ_1,FINSEQ_2;
registrations XBOOLE_0,SUBSET_1,RELAT_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,INT_1,FINSEQ_1,STRUCT_0,GROUP_1,GROUP_2,GROUP_3,GROUP_6,GR_CY_1,ALGSTR_0,RELSET_1;
constructors BINOP_1,XXREAL_0,BINARITH,REALSET2,GROUP_4,GROUP_5,GRSOLV_1,RELSET_1,GR_CY_1,REALSET1,CKB10;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve y for set;
reserve G for Group;
reserve B for (Subgroup of G);
reserve H for (Subgroup of G);
definition
let G;
func the_normal_subgroups_of G -> set means 
:Def1: (x in it iff x is  strict  normal  strict  normal (Subgroup of G));
existence
proof
defpred P[ set,set ]
 means
(ex H being  strict  normal (Subgroup of G) st ($2 = H & $1 = (the carrier of H)));
defpred P[ set ]
 means
(ex H being  strict  normal (Subgroup of G) st $1 = (the carrier of H));
consider B being set such that A1: (for x being set holds (x in B iff (x in ( bool (the carrier of G) ) & P[ x ]))) from XBOOLE_0:sch 1;
A2: (for x,y1,y2 being set holds ((P[ x,y1 ] & P[ x,y2 ]) implies y1 = y2)) by GROUP_2:59;
consider f being Function such that A3: (for x,y being set holds ([ x,y ] in f iff (x in B & P[ x,y ]))) from FUNCT_1:sch 1(A2);
(for x being set holds (x in B iff (ex y being set st [ x,y ] in f)))
proof
let x being set;
thus (x in B implies (ex y being set st [ x,y ] in f))
proof
assume A4: x in B;
then consider H being  strict  normal (Subgroup of G) such that A5: x = (the carrier of H) by A1;
reconsider y = H as set;
take y;
thus thesis by A3,A4,A5;
end;

given y being set such that
A6: [ x,y ] in f;

thus thesis by A3,A6;
end;
then A7: B = ( dom f ) by RELAT_1:def 4;
(for y being set holds (y in ( rng f ) iff y is  strict  normal  strict  normal (Subgroup of G)))
proof
let y being set;
thus (y in ( rng f ) implies y is  strict  normal  strict  normal (Subgroup of G))
proof
assume y in ( rng f );
then consider x being set such that A8: (x in ( dom f ) & y = ( f . x )) by FUNCT_1:def 3;
[ x,y ] in f by A8,FUNCT_1:def 2;
then (ex H being  strict  normal (Subgroup of G) st (y = H & x = (the carrier of H))) by A3;
hence thesis;
end;

assume y is  strict  normal  strict  normal (Subgroup of G);
then reconsider H = y as  strict  normal (Subgroup of G);
reconsider x = (the carrier of H) as set;
(the carrier of H) c= (the carrier of G) by GROUP_2:def 5;
then A9: x in ( dom f ) by A1,A7;
then [ x,y ] in f by A3,A7;
then y = ( f . x ) by A9,FUNCT_1:def 2;
hence thesis by A9,FUNCT_1:def 3;
end;
hence thesis;
end;
uniqueness
proof
defpred P[ set ]
 means
$1 is  strict  normal  strict  normal (Subgroup of G);
let A1 being set;
let A2 being set;
assume A10: (for x being set holds (x in A1 iff P[ x ]));
assume A11: (for x being set holds (x in A2 iff P[ x ]));
thus thesis from XBOOLE_0:sch 2(A10,A11);
end;
end;
