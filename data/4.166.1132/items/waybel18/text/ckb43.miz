environ
vocabularies SETFAM_1,XBOOLE_0,CANTOR_1,TARSKI,PRE_TOPC,RLVECT_3,RELAT_1,PRALG_1,FUNCT_1,PBOOLE,FUNCOP_1,WAYBEL_3,STRUCT_0,SUBSET_1,CARD_3,RLVECT_2,RCOMP_1,FUNCT_4,MONOID_0,ORDINAL2,FUNCTOR0,PARTFUN1,FUNCT_6,BORSUK_1,FUNCT_3,GROUP_6,WAYBEL_1,FUNCT_2,T_0TOPSP,TOPS_2,CARD_1,ZFMISC_1,RELAT_2,ORDERS_2,WAYBEL11,YELLOW_9,YELLOW_1,LATTICE3,FILTER_1,XXREAL_0,WAYBEL_0,CARD_FIL,FINSET_1,REWRITE1,WAYBEL_8,LATTICES,CAT_1,WAYBEL_9,WAYBEL18;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,PBOOLE,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,DOMAIN_1,NUMBERS,PRALG_3,STRUCT_0,PRE_TOPC,T_0TOPSP,FUNCT_3,FUNCT_6,FUNCT_7,CARD_3,FUNCOP_1,MONOID_0,PRALG_1,ORDERS_2,LATTICE3,YELLOW_1,CANTOR_1,FINSET_1,TOPS_2,BORSUK_1,TMAP_1,YELLOW_0,YELLOW_9,WAYBEL_0,WAYBEL_3,WAYBEL_8,WAYBEL_9,WAYBEL11,CKB3,CKB7,CKB8,CKB10,CKB12,CKB14,CKB15,CKB19,CKB22,CKB25,CKB28,CKB30;
definitions STRUCT_0,TARSKI,PRE_TOPC,FUNCOP_1,WAYBEL_1,WAYBEL_3,XBOOLE_0,PRALG_1,CKB3,CKB8,CKB10,CKB15,CKB19,CKB22,CKB25,CKB28,CKB30;
theorems TARSKI,PRE_TOPC,ENUMSET1,ZFMISC_1,T_0TOPSP,TOPS_1,TOPS_2,FINSET_1,FUNCT_2,FUNCT_3,RELAT_1,FUNCT_1,BORSUK_1,FUNCOP_1,CANTOR_1,LATTICE3,ORDERS_2,MSSUBFAM,PRALG_1,CARD_3,WAYBEL_3,FUNCT_6,FUNCT_7,TMAP_1,YELLOW_9,YELLOW_0,YELLOW_1,WAYBEL_0,WAYBEL_1,WAYBEL_7,WAYBEL_8,WAYBEL11,WAYBEL13,WAYBEL14,RELSET_1,SETFAM_1,XBOOLE_0,XBOOLE_1,ORDERS_1,MONOID_0,CARD_1,PARTFUN1,CKB1,CKB2,CKB3,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB28,CKB29,CKB30,CKB32,CKB39,CKB40;
schemes SUBSET_1,CLASSES1,FUNCT_1,FRAENKEL;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,FUNCOP_1,CARD_3,STRUCT_0,PRE_TOPC,BORSUK_1,LATTICE3,YELLOW_0,MONOID_0,WAYBEL_0,YELLOW_1,WAYBEL_3,WAYBEL_8,WAYBEL11,YELLOW_9,WAYBEL17,CKB4,CKB5,CKB6,CKB11,CKB13,CKB23,CKB27,CKB31,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB41,CKB42;
constructors SETFAM_1,FUNCT_3,FUNCT_7,TOPS_2,BORSUK_1,LATTICE3,TMAP_1,T_0TOPSP,CANTOR_1,MONOID_0,PRALG_1,PRALG_3,WAYBEL_3,WAYBEL_5,WAYBEL_8,WAYBEL11,YELLOW_9,BINOP_1,CKB3,CKB7,CKB8,CKB10,CKB12,CKB14,CKB15,CKB19,CKB22,CKB25,CKB28,CKB30;
requirements SUBSET,BOOLE;
begin
theorem
Th15: (for X being non  empty set holds (ex f being (Function of ( BoolePoset X ),( product ( X --> ( BoolePoset 1 ) ) )) st (f is  isomorphic & (for Y being (Subset of X) holds ( f . Y ) = ( chi (Y,X) )))))
proof
let X being non  empty set;
set XB = ( X --> ( BoolePoset 1 ) );
deffunc F(set) = ( chi ($1,X) );
consider f being Function such that A1: ( dom f ) = ( bool X ) and A2: (for Y being set holds (Y in ( bool X ) implies ( f . Y ) = F(Y))) from FUNCT_1:sch 3;
( LattPOSet ( BooleLatt 1 ) ) = RelStr (# (the carrier of ( BooleLatt 1 )),( LattRel ( BooleLatt 1 ) ) #) by LATTICE3:def 2;
then A3: (the carrier of ( BoolePoset 1 )) = (the carrier of ( BooleLatt 1 )) by YELLOW_1:def 2
.= ( bool { ( {} ) } ) by CARD_1:49,LATTICE3:def 1
.= { ( 0 ),1 } by CARD_1:49,ZFMISC_1:24;
A4: ( rng f ) c= ( product ( Carrier XB ) )
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A5: (x in ( dom f ) & y = ( f . x )) by FUNCT_1:def 3;
A6: ( dom ( chi (x,X) ) ) = X by FUNCT_3:def 3
.= ( dom ( Carrier XB ) ) by PARTFUN1:def 2;
A7: (for z being set holds (z in ( dom ( Carrier XB ) ) implies ( ( chi (x,X) ) . z ) in ( ( Carrier XB ) . z )))
proof
let z being set;
assume z in ( dom ( Carrier XB ) );
then A8: z in X by PARTFUN1:def 2;
then (ex R being 1-sorted st (R = ( XB . z ) & ( ( Carrier XB ) . z ) = (the carrier of R))) by PRALG_1:def 13;
then A9: ( ( Carrier XB ) . z ) = { ( 0 ),1 } by A3,A8,FUNCOP_1:7;
per cases ;
suppose z in x;

then ( ( chi (x,X) ) . z ) = 1 by A8,FUNCT_3:def 3;
hence thesis by A9,TARSKI:def 2;
end;
suppose (not z in x);

then ( ( chi (x,X) ) . z ) = ( 0 ) by A8,FUNCT_3:def 3;
hence thesis by A9,TARSKI:def 2;
end;
end;
( chi (x,X) ) = y by A1,A2,A5;
hence thesis by A6,A7,CARD_3:def 5;
end;
( LattPOSet ( BooleLatt X ) ) = RelStr (# (the carrier of ( BooleLatt X )),( LattRel ( BooleLatt X ) ) #) by LATTICE3:def 2;
then A10: (the carrier of ( BoolePoset X )) = (the carrier of ( BooleLatt X )) by YELLOW_1:def 2
.= ( bool X ) by LATTICE3:def 1;
A11: (the carrier of ( product XB )) = ( product ( Carrier XB ) ) by YELLOW_1:def 4;
then reconsider f as (Function of ( BoolePoset X ),( product ( X --> ( BoolePoset 1 ) ) )) by A10,A1,A4,FUNCT_2:def 1,RELSET_1:4;
A12: (for A,B being (Element of ( BoolePoset X )) holds (A <= B iff ( f . A ) <= ( f . B )))
proof
let A being (Element of ( BoolePoset X ));
let B being (Element of ( BoolePoset X ));
A13: (( f . A ) = ( chi (A,X) ) & ( f . B ) = ( chi (B,X) )) by A10,A2;
hereby
assume A <= B;
then A14: A c= B by YELLOW_1:2;
(for i being set holds (i in X implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( XB . i ) & xi = ( ( chi (A,X) ) . i )) & yi = ( ( chi (B,X) ) . i )) & xi <= yi)))))
proof
let i being set;
assume A15: i in X;
take R = ( BoolePoset 1 );
per cases ;
suppose A16: i in A;

reconsider xi = 1,yi = 1 as (Element of R) by A3,TARSKI:def 2;
take xi;
take yi;
thus R = ( XB . i ) by A15,FUNCOP_1:7;
thus xi = ( ( chi (A,X) ) . i ) by A15,A16,FUNCT_3:def 3;
thus yi = ( ( chi (B,X) ) . i ) by A14,A15,A16,FUNCT_3:def 3;
thus xi <= yi;
end;
suppose A17: (not i in A);

thus thesis
proof
per cases ;
suppose A18: i in B;

reconsider xi = ( 0 ),yi = 1 as (Element of R) by A3,TARSKI:def 2;
take xi;
take yi;
thus R = ( XB . i ) by A15,FUNCOP_1:7;
thus xi = ( ( chi (A,X) ) . i ) by A15,A17,FUNCT_3:def 3;
thus yi = ( ( chi (B,X) ) . i ) by A15,A18,FUNCT_3:def 3;
xi c= yi by XBOOLE_1:2;
hence xi <= yi by YELLOW_1:2;
end;
suppose A19: (not i in B);

reconsider xi = ( 0 ),yi = ( 0 ) as (Element of R) by A3,TARSKI:def 2;
take xi;
take yi;
thus R = ( XB . i ) by A15,FUNCOP_1:7;
thus xi = ( ( chi (A,X) ) . i ) by A15,A17,FUNCT_3:def 3;
thus yi = ( ( chi (B,X) ) . i ) by A15,A19,FUNCT_3:def 3;
thus xi <= yi;
end;
end;

end;
end;
hence ( f . A ) <= ( f . B ) by A11,A13,YELLOW_1:def 4;
end;
assume ( f . A ) <= ( f . B );
then consider h1,h2 being Function such that A20: h1 = ( f . A ) and A21: h2 = ( f . B ) and A22: (for i being set holds (i in X implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( XB . i ) & xi = ( h1 . i )) & yi = ( h2 . i )) & xi <= yi))))) by A11,YELLOW_1:def 4;
A c= B
proof
let i being set;
assume A23: i in A;
then consider R being RelStr,xi,yi being (Element of R) such that A24: R = ( XB . i ) and A25: xi = ( h1 . i ) and A26: yi = ( h2 . i ) and A27: xi <= yi by A10,A22;
reconsider a = xi,b = yi as (Element of ( BoolePoset 1 )) by A10,A23,A24,FUNCOP_1:7;
A28: a <= b by A10,A23,A24,A27,FUNCOP_1:7;
A29: xi = ( ( chi (A,X) ) . i ) by A10,A2,A20,A25
.= 1 by A10,A23,FUNCT_3:def 3;
A30: yi <> ( 0 )
proof
assume yi = ( 0 );
then 1 c= ( 0 ) by A29,A28,YELLOW_1:2;
hence thesis;
end;
A31: R = ( BoolePoset 1 ) by A10,A23,A24,FUNCOP_1:7;
( ( chi (B,X) ) . i ) = ( h2 . i ) by A10,A2,A21
.= 1 by A3,A26,A31,A30,TARSKI:def 2;
hence thesis by FUNCT_3:36;
end;
hence thesis by YELLOW_1:2;
end;
( product ( Carrier XB ) ) c= ( rng f )
proof
let z being set;
assume z in ( product ( Carrier XB ) );
then consider g being Function such that A32: z = g and A33: ( dom g ) = ( dom ( Carrier XB ) ) and A34: (for y being set holds (y in ( dom ( Carrier XB ) ) implies ( g . y ) in ( ( Carrier XB ) . y ))) by CARD_3:def 5;
set A = ( g " { 1 } );
A35: A c= X
proof
let a being set;
assume a in A;
then a in ( dom g ) by FUNCT_1:def 7;
hence thesis by A33,PARTFUN1:def 2;
end;
A36: ( dom ( chi (A,X) ) ) = X by FUNCT_3:def 3
.= ( dom g ) by A33,PARTFUN1:def 2;
(for a being set holds (a in ( dom ( chi (A,X) ) ) implies ( ( chi (A,X) ) . a ) = ( g . a )))
proof
let a being set;
assume A37: a in ( dom ( chi (A,X) ) );
then a in X;
then a in ( dom ( Carrier XB ) ) by PARTFUN1:def 2;
then A38: ( g . a ) in ( ( Carrier XB ) . a ) by A34;
(ex R being 1-sorted st (R = ( XB . a ) & ( ( Carrier XB ) . a ) = (the carrier of R))) by A37,PRALG_1:def 13;
then ( ( Carrier XB ) . a ) = { ( 0 ),1 } by A3,A37,FUNCOP_1:7;
then A39: (( g . a ) = ( 0 ) or ( g . a ) = 1) by A38,TARSKI:def 2;
per cases ;
suppose a in A;

then (( ( chi (A,X) ) . a ) = 1 & ( g . a ) in { 1 }) by A37,FUNCT_1:def 7,FUNCT_3:def 3;
hence thesis by TARSKI:def 1;
end;
suppose A40: (not a in A);

( g . a ) <> 1
proof
assume ( g . a ) = 1;
then ( g . a ) in { 1 } by TARSKI:def 1;
hence thesis by A36,A37,A40,FUNCT_1:def 7;
end;
hence thesis by A37,A39,A40,FUNCT_3:def 3;
end;
end;
then z = ( chi (A,X) ) by A32,A36,FUNCT_1:2
.= ( f . A ) by A2,A35;
hence thesis by A1,A35,FUNCT_1:def 3;
end;
then A41: ( rng f ) = (the carrier of ( product XB )) by A11,XBOOLE_0:def 10;
take f;
(for A,B being (Element of ( BoolePoset X )) holds (( f . A ) = ( f . B ) implies A = B))
proof
let A being (Element of ( BoolePoset X ));
let B being (Element of ( BoolePoset X ));
assume A42: ( f . A ) = ( f . B );
(( f . A ) = ( chi (A,X) ) & ( f . B ) = ( chi (B,X) )) by A10,A2;
hence thesis by A10,A42,FUNCT_3:38;
end;
then f is  one-to-one by WAYBEL_1:def 1;
hence f is  isomorphic by A41,A12,WAYBEL_0:66;
thus thesis by A2;
end;
