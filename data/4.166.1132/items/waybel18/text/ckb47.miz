environ
vocabularies SETFAM_1,XBOOLE_0,CANTOR_1,TARSKI,PRE_TOPC,RLVECT_3,RELAT_1,PRALG_1,FUNCT_1,PBOOLE,FUNCOP_1,WAYBEL_3,STRUCT_0,SUBSET_1,CARD_3,RLVECT_2,RCOMP_1,FUNCT_4,MONOID_0,ORDINAL2,FUNCTOR0,PARTFUN1,FUNCT_6,BORSUK_1,FUNCT_3,GROUP_6,WAYBEL_1,FUNCT_2,T_0TOPSP,TOPS_2,CARD_1,ZFMISC_1,RELAT_2,ORDERS_2,WAYBEL11,YELLOW_9,YELLOW_1,LATTICE3,FILTER_1,XXREAL_0,WAYBEL_0,CARD_FIL,FINSET_1,REWRITE1,WAYBEL_8,LATTICES,CAT_1,WAYBEL_9,WAYBEL18;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,PBOOLE,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,DOMAIN_1,NUMBERS,PRALG_3,STRUCT_0,PRE_TOPC,T_0TOPSP,FUNCT_3,FUNCT_6,FUNCT_7,CARD_3,FUNCOP_1,MONOID_0,PRALG_1,ORDERS_2,LATTICE3,YELLOW_1,CANTOR_1,FINSET_1,TOPS_2,BORSUK_1,TMAP_1,YELLOW_0,YELLOW_9,WAYBEL_0,WAYBEL_3,WAYBEL_8,WAYBEL_9,WAYBEL11,CKB3,CKB7,CKB8,CKB10,CKB12,CKB14,CKB15,CKB19,CKB22,CKB25,CKB28,CKB30;
definitions STRUCT_0,TARSKI,PRE_TOPC,FUNCOP_1,WAYBEL_1,WAYBEL_3,XBOOLE_0,PRALG_1,CKB3,CKB8,CKB10,CKB15,CKB19,CKB22,CKB25,CKB28,CKB30;
theorems TARSKI,PRE_TOPC,ENUMSET1,ZFMISC_1,T_0TOPSP,TOPS_1,TOPS_2,FINSET_1,FUNCT_2,FUNCT_3,RELAT_1,FUNCT_1,BORSUK_1,FUNCOP_1,CANTOR_1,LATTICE3,ORDERS_2,MSSUBFAM,PRALG_1,CARD_3,WAYBEL_3,FUNCT_6,FUNCT_7,TMAP_1,YELLOW_9,YELLOW_0,YELLOW_1,WAYBEL_0,WAYBEL_1,WAYBEL_7,WAYBEL_8,WAYBEL11,WAYBEL13,WAYBEL14,RELSET_1,SETFAM_1,XBOOLE_0,XBOOLE_1,ORDERS_1,MONOID_0,CARD_1,PARTFUN1,CKB1,CKB2,CKB3,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB28,CKB29,CKB30,CKB32,CKB39,CKB40,CKB43,CKB44,CKB45,CKB46;
schemes SUBSET_1,CLASSES1,FUNCT_1,FRAENKEL;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCT_2,FUNCOP_1,CARD_3,STRUCT_0,PRE_TOPC,BORSUK_1,LATTICE3,YELLOW_0,MONOID_0,WAYBEL_0,YELLOW_1,WAYBEL_3,WAYBEL_8,WAYBEL11,YELLOW_9,WAYBEL17,CKB4,CKB5,CKB6,CKB11,CKB13,CKB23,CKB27,CKB31,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB41,CKB42;
constructors SETFAM_1,FUNCT_3,FUNCT_7,TOPS_2,BORSUK_1,LATTICE3,TMAP_1,T_0TOPSP,CANTOR_1,MONOID_0,PRALG_1,PRALG_3,WAYBEL_3,WAYBEL_5,WAYBEL_8,WAYBEL11,YELLOW_9,BINOP_1,CKB3,CKB7,CKB8,CKB10,CKB12,CKB14,CKB15,CKB19,CKB22,CKB25,CKB28,CKB30;
requirements SUBSET,BOOLE;
begin
theorem
Th19: (for T being T_0-TopSpace holds (ex M being non empty set st (ex f being (Function of T,( product ( M --> ( Sierpinski_Space ) ) )) st ( corestr f ) is  being_homeomorphism)))
proof
let T being T_0-TopSpace;
take M = (the carrier of ( InclPoset (the topology of T) ));
set J = ( M --> ( Sierpinski_Space ) );
reconsider PP = { ( product ( ( Carrier J ) +* (m,{ 1 }) ) ) where m is (Element of M): (not contradiction) } as (prebasis of ( product J )) by CKB40:1;
deffunc F(set) = ( chi ({ u where u is (Subset of T): ($1 in u & u is  open) },(the topology of T)) );
consider f being Function such that A1: ( dom f ) = (the carrier of T) and A2: (for x being set holds (x in (the carrier of T) implies ( f . x ) = F(x))) from FUNCT_1:sch 3;
( rng f ) c= (the carrier of ( product J ))
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A3: (x in ( dom f ) & y = ( f . x )) by FUNCT_1:def 3;
set ch = ( chi ({ u where u is (Subset of T): (x in u & u is  open) },(the topology of T)) );
A4: ( dom ch ) = (the topology of T) by FUNCT_3:def 3
.= M by YELLOW_1:1
.= ( dom ( Carrier J ) ) by PARTFUN1:def 2;
A5: (for z being set holds (z in ( dom ( Carrier J ) ) implies ( ch . z ) in ( ( Carrier J ) . z )))
proof
let z being set;
assume z in ( dom ( Carrier J ) );
then A6: z in M by PARTFUN1:def 2;
then z in (the topology of T) by YELLOW_1:1;
then z in ( dom ch ) by FUNCT_3:def 3;
then A7: ( ch . z ) in ( rng ch ) by FUNCT_1:def 3;
(ex R being 1-sorted st (R = ( J . z ) & ( ( Carrier J ) . z ) = (the carrier of R))) by A6,PRALG_1:def 13;
then ( ( Carrier J ) . z ) = (the carrier of ( Sierpinski_Space )) by A6,FUNCOP_1:7
.= { ( 0 ),1 } by CKB30:def 1;
hence thesis by A7;
end;
y = ch by A1,A2,A3;
then y in ( product ( Carrier J ) ) by A4,A5,CARD_3:def 5;
hence thesis by CKB10:def 1;
end;
then reconsider f as (Function of T,( product J )) by A1,FUNCT_2:def 1,RELSET_1:4;
take f;
A8: ( rng ( corestr f ) ) = ( [#] ( Image f ) ) by FUNCT_2:def 3;
(for A being (Subset of ( product J )) holds (A in PP implies ( f " A ) is  open))
proof
{ 1 } c= { ( 0 ),1 } by ZFMISC_1:7;
then reconsider V = { 1 } as (Subset of ( Sierpinski_Space )) by CKB30:def 1;
let A being (Subset of ( product J ));
reconsider a = A as (Subset of ( product ( Carrier J ) )) by CKB10:def 1;
assume A in PP;
then consider i being (Element of M) such that A9: a = ( product ( ( Carrier J ) +* (i,{ 1 }) ) );
A10: i in M;
then A11: i in (the topology of T) by YELLOW_1:1;
then reconsider i9 = i as (Subset of T);
A12: i in ( dom ( Carrier J ) ) by A10,PARTFUN1:def 2;
A13: i c= ( f " A )
proof
let z being set;
assume A14: z in i;
set W = { u where u is (Subset of T): (z in u & u is  open) };
i9 is  open by A11,PRE_TOPC:def 2;
then A15: i in W by A14;
A16: (for w being set holds (w in ( dom ( ( Carrier J ) +* (i,V) ) ) implies ( ( chi (W,(the topology of T)) ) . w ) in ( ( ( Carrier J ) +* (i,V) ) . w )))
proof
let w being set;
assume w in ( dom ( ( Carrier J ) +* (i,V) ) );
then w in ( dom ( Carrier J ) ) by FUNCT_7:30;
then A17: w in M by PARTFUN1:def 2;
then w in (the topology of T) by YELLOW_1:1;
then A18: w in ( dom ( chi (W,(the topology of T)) ) ) by FUNCT_3:def 3;
per cases ;
suppose w = i;

then (( ( ( Carrier J ) +* (i,V) ) . w ) = { 1 } & ( ( chi (W,(the topology of T)) ) . w ) = 1) by A11,A12,A15,FUNCT_3:def 3,FUNCT_7:31;
hence thesis by TARSKI:def 1;
end;
suppose A19: w <> i;

A20: ( ( chi (W,(the topology of T)) ) . w ) in ( rng ( chi (W,(the topology of T)) ) ) by A18,FUNCT_1:def 3;
(ex r being 1-sorted st (r = ( J . w ) & ( ( Carrier J ) . w ) = (the carrier of r))) by A17,PRALG_1:def 13;
then A21: ( ( Carrier J ) . w ) = (the carrier of ( Sierpinski_Space )) by A17,FUNCOP_1:7
.= { ( 0 ),1 } by CKB30:def 1;
( ( ( Carrier J ) +* (i,V) ) . w ) = ( ( Carrier J ) . w ) by A19,FUNCT_7:32;
hence thesis by A21,A20;
end;
end;
A22: ( dom ( chi (W,(the topology of T)) ) ) = (the topology of T) by FUNCT_3:def 3
.= M by YELLOW_1:1
.= ( dom ( Carrier J ) ) by PARTFUN1:def 2
.= ( dom ( ( Carrier J ) +* (i,V) ) ) by FUNCT_7:30;
A23: z in i9 by A14;
then ( f . z ) = ( chi (W,(the topology of T)) ) by A2;
then ( f . z ) in A by A9,A22,A16,CARD_3:def 5;
hence thesis by A1,A23,FUNCT_1:def 7;
end;
A24: ( ( ( Carrier J ) +* (i,V) ) . i ) = { 1 } by A12,FUNCT_7:31;
( f " A ) c= i
proof
let z being set;
set W = { u where u is (Subset of T): (z in u & u is  open) };
assume z in ( f " A );
then (( f . z ) in a & ( f . z ) = ( chi (W,(the topology of T)) )) by A2,FUNCT_1:def 7;
then consider g being Function such that A25: ( chi (W,(the topology of T)) ) = g and ( dom g ) = ( dom ( ( Carrier J ) +* (i,V) ) ) and A26: (for w being set holds (w in ( dom ( ( Carrier J ) +* (i,V) ) ) implies ( g . w ) in ( ( ( Carrier J ) +* (i,V) ) . w ))) by A9,CARD_3:def 5;
i in ( dom ( ( Carrier J ) +* (i,V) ) ) by A12,FUNCT_7:30;
then ( g . i ) in ( ( ( Carrier J ) +* (i,V) ) . i ) by A26;
then ( ( chi (W,(the topology of T)) ) . i ) = 1 by A24,A25,TARSKI:def 1;
then i in W by FUNCT_3:36;
then (ex uu being (Subset of T) st ((i = uu & z in uu) & uu is  open));
hence thesis;
end;
then ( f " A ) = i by A13,XBOOLE_0:def 10;
hence thesis by A11,PRE_TOPC:def 2;
end;
then f is  continuous by YELLOW_9:36;
then A27: (( dom ( corestr f ) ) = ( [#] T ) & ( corestr f ) is  continuous) by CKB26:1,FUNCT_2:def 1;
A28: ( corestr f ) is  one-to-one
proof
let x being (Element of T),y being (Element of T);
set U1 = { u where u is (Subset of T): (x in u & u is  open) };
set U2 = { u where u is (Subset of T): (y in u & u is  open) };
assume A29: ( ( corestr f ) . x ) = ( ( corestr f ) . y );
thus x = y
proof
A30: (( f . x ) = ( chi (U1,(the topology of T)) ) & ( f . y ) = ( chi (U2,(the topology of T)) )) by A2;
assume (not thesis);
then consider V being (Subset of T) such that A31: V is  open and A32: ((x in V & (not y in V)) or (y in V & (not x in V))) by T_0TOPSP:def 7;
A33: V in (the topology of T) by A31,PRE_TOPC:def 2;
per cases  by A32;
suppose A34: (x in V & (not y in V));

reconsider v = V as (Subset of T);
A35: (not v in U2)
proof
assume (not thesis);
then (ex u being (Subset of T) st ((u = v & y in u) & u is  open));
hence thesis by A34;
end;
v in U1 by A31,A34;
then ( ( chi (U1,(the topology of T)) ) . v ) = 1 by A33,FUNCT_3:def 3;
hence thesis by A29,A30,A33,A35,FUNCT_3:def 3;
end;
suppose A36: (y in V & (not x in V));

reconsider v = V as (Subset of T);
A37: (not v in U1)
proof
assume (not thesis);
then (ex u being (Subset of T) st ((u = v & x in u) & u is  open));
hence thesis by A36;
end;
v in U2 by A31,A36;
then ( ( chi (U2,(the topology of T)) ) . v ) = 1 by A33,FUNCT_3:def 3;
hence thesis by A29,A30,A33,A37,FUNCT_3:def 3;
end;
end;

end;
A38: (for V being (Subset of T) holds (V is  open implies ( f .: V ) = ( ( product ( ( Carrier J ) +* (V,{ 1 }) ) ) /\ (the carrier of ( Image f )) )))
proof
let V being (Subset of T);
assume A39: V is  open;
hereby
let y being set;
assume y in ( f .: V );
then consider x being set such that A40: x in ( dom f ) and A41: x in V and A42: y = ( f . x ) by FUNCT_1:def 6;
y in ( rng f ) by A40,A42,FUNCT_1:def 3;
then A43: y in (the carrier of ( Image f )) by CKB24:1;
set Q = { u where u is (Subset of T): (x in u & u is  open) };
A44: V in Q by A39,A41;
A45: (for W being set holds (W in ( dom ( ( Carrier J ) +* (V,{ 1 }) ) ) implies ( ( chi (Q,(the topology of T)) ) . W ) in ( ( ( Carrier J ) +* (V,{ 1 }) ) . W )))
proof
let W being set;
assume W in ( dom ( ( Carrier J ) +* (V,{ 1 }) ) );
then A46: W in ( dom ( Carrier J ) ) by FUNCT_7:30;
then A47: W in M by PARTFUN1:def 2;
then A48: W in (the topology of T) by YELLOW_1:1;
then A49: W in ( dom ( chi (Q,(the topology of T)) ) ) by FUNCT_3:def 3;
per cases ;
suppose W = V;

then (( ( ( Carrier J ) +* (V,{ 1 }) ) . W ) = { 1 } & ( ( chi (Q,(the topology of T)) ) . W ) = 1) by A44,A46,A48,FUNCT_3:def 3,FUNCT_7:31;
hence thesis by TARSKI:def 1;
end;
suppose A50: W <> V;

A51: ( ( chi (Q,(the topology of T)) ) . W ) in ( rng ( chi (Q,(the topology of T)) ) ) by A49,FUNCT_1:def 3;
(ex r being 1-sorted st (r = ( J . W ) & ( ( Carrier J ) . W ) = (the carrier of r))) by A47,PRALG_1:def 13;
then A52: ( ( Carrier J ) . W ) = (the carrier of ( Sierpinski_Space )) by A47,FUNCOP_1:7
.= { ( 0 ),1 } by CKB30:def 1;
( ( ( Carrier J ) +* (V,{ 1 }) ) . W ) = ( ( Carrier J ) . W ) by A50,FUNCT_7:32;
hence thesis by A52,A51;
end;
end;
A53: ( dom ( chi (Q,(the topology of T)) ) ) = (the topology of T) by FUNCT_3:def 3
.= M by YELLOW_1:1
.= ( dom ( Carrier J ) ) by PARTFUN1:def 2
.= ( dom ( ( Carrier J ) +* (V,{ 1 }) ) ) by FUNCT_7:30;
y = ( chi (Q,(the topology of T)) ) by A2,A40,A42;
then y in ( product ( ( Carrier J ) +* (V,{ 1 }) ) ) by A53,A45,CARD_3:def 5;
hence y in ( ( product ( ( Carrier J ) +* (V,{ 1 }) ) ) /\ (the carrier of ( Image f )) ) by A43,XBOOLE_0:def 4;
end;
let y being set;
assume A54: y in ( ( product ( ( Carrier J ) +* (V,{ 1 }) ) ) /\ (the carrier of ( Image f )) );
then y in ( product ( ( Carrier J ) +* (V,{ 1 }) ) ) by XBOOLE_0:def 4;
then consider g being Function such that A55: y = g and ( dom g ) = ( dom ( ( Carrier J ) +* (V,{ 1 }) ) ) and A56: (for W being set holds (W in ( dom ( ( Carrier J ) +* (V,{ 1 }) ) ) implies ( g . W ) in ( ( ( Carrier J ) +* (V,{ 1 }) ) . W ))) by CARD_3:def 5;
( rng f ) = (the carrier of ( Image f )) by CKB24:1;
then y in ( rng f ) by A54,XBOOLE_0:def 4;
then consider x being set such that A57: (x in ( dom f ) & y = ( f . x )) by FUNCT_1:def 3;
V in (the topology of T) by A39,PRE_TOPC:def 2;
then V in M by YELLOW_1:1;
then A58: V in ( dom ( Carrier J ) ) by PARTFUN1:def 2;
then V in ( dom ( ( Carrier J ) +* (V,{ 1 }) ) ) by FUNCT_7:30;
then ( g . V ) in ( ( ( Carrier J ) +* (V,{ 1 }) ) . V ) by A56;
then A59: ( g . V ) in { 1 } by A58,FUNCT_7:31;
set Q = { u where u is (Subset of T): (x in u & u is  open) };
y = ( chi (Q,(the topology of T)) ) by A2,A57;
then ( ( chi (Q,(the topology of T)) ) . V ) = 1 by A55,A59,TARSKI:def 1;
then V in Q by FUNCT_3:36;
then (ex u being (Subset of T) st ((u = V & x in u) & u is  open));
hence thesis by A57,FUNCT_1:def 6;
end;
A60: (for V being (Subset of T) holds (V is  open implies ( ( ( corestr f ) " ) " V ) is  open))
proof
let V being (Subset of T);
A61: PP c= (the topology of ( product J )) by TOPS_2:64;
assume A62: V is  open;
then V in (the topology of T) by PRE_TOPC:def 2;
then reconsider W = V as (Element of M) by YELLOW_1:1;
A63: ( product ( ( Carrier J ) +* (W,{ 1 }) ) ) in PP;
then reconsider Q = ( product ( ( Carrier J ) +* (V,{ 1 }) ) ) as (Subset of ( product J ));
( ( corestr f ) .: V ) = ( Q /\ ( [#] ( Image f ) ) ) by A38,A62;
then ( ( corestr f ) .: V ) in (the topology of ( Image f )) by A63,A61,PRE_TOPC:def 4;
then ( ( corestr f ) .: V ) is  open by PRE_TOPC:def 2;
hence thesis by A8,A28,TOPS_2:54;
end;
( [#] T ) <> ( {} );
then ( ( corestr f ) " ) is  continuous by A60,TOPS_2:43;
hence thesis by A8,A28,A27,TOPS_2:def 5;
end;
