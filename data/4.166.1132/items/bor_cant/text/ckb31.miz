environ
vocabularies BOR_CANT,REALSET1,ABIAN,SIN_COS,ARYTM_3,CARD_3,XREAL_0,EQREL_1,COMPLEX1,NUMBERS,ORDINAL1,ZFMISC_1,CARD_1,XXREAL_0,NEWTON,REAL_1,RELAT_1,PROB_1,SEQ_1,SEQ_2,ARYTM_1,ORDINAL2,RPR_1,XBOOLE_0,SUBSET_1,PROB_2,SERIES_1,NAT_1,FUNCT_1,PROB_3,SERIES_3,LIMFUNC1,SETLIM_1,XXREAL_2,FUNCOP_1;
notations XXREAL_0,XCMPLX_0,XREAL_0,ORDINAL1,REAL_1,XBOOLE_0,SUBSET_1,NUMBERS,NAT_1,COMPLEX1,SEQ_1,SEQ_2,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,PROB_1,PROB_2,SETLIM_1,SERIES_1,PROB_3,VALUED_0,VALUED_1,ZFMISC_1,LIMFUNC1,SERIES_3,NEWTON,ABIAN,SIN_COS,CKB1,CKB4,CKB7,CKB8,CKB9,CKB10,CKB16,CKB20,CKB22,CKB23,CKB25,CKB30;
definitions FUNCT_1,FUNCT_2,SIN_COS,PROB_1,SETLIM_1,NEWTON,CKB4,CKB7,CKB8,CKB9,CKB10,CKB16,CKB20,CKB22,CKB23,CKB25,CKB30;
theorems XCMPLX_0,SIN_COS,SERIES_1,PROB_1,SEQ_2,PROB_3,SUBSET_1,XBOOLE_0,XBOOLE_1,ABIAN,NAT_1,FUNCT_1,FUNCT_2,XXREAL_0,ORDINAL1,TARSKI,XREAL_1,PROB_2,ABSVALUE,VALUED_1,SEQ_4,LIMFUNC1,SETLIM_1,SERIES_3,NEWTON,POWER,FUNCOP_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB22,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30;
schemes NAT_1,RECDEF_1,FUNCT_2;
registrations FUNCT_2,FINSEQ_2,XCMPLX_0,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XREAL_0,NAT_1,MEMBERED,VALUED_0,VALUED_1,ABIAN,XXREAL_0,RELAT_1,SEQ_4,FINSEQ_1,NEWTON,FUNCOP_1,PROB_2,PROB_3,SETLIM_1,RELSET_1,CKB11,CKB12,CKB13,CKB14,CKB21,CKB24;
constructors RELSET_1,BINARITH,SQUARE_1,COMSEQ_3,RVSUM_1,SIN_COS,REAL_1,LIMFUNC1,SETLIM_1,SEQ_2,SERIES_1,KURATO_0,RINFSUP1,SEQ_1,PROB_3,SERIES_3,ABIAN,NEWTON,NUMBERS,NAT_D,SEQ_4,RFUNCT_1,RCOMP_1,SEQM_3,FUNCT_4,CKB1,CKB4,CKB7,CKB8,CKB9,CKB10,CKB16,CKB20,CKB22,CKB23,CKB25,CKB30;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve Omega for non  empty set;
reserve Sigma for (SigmaField of Omega);
reserve Prob for (Probability of Sigma);
reserve A for (SetSequence of Sigma);
reserve n for (Element of ( NAT ));
theorem
Th13: (( Partial_Sums ( Prob * A ) ) is  convergent implies ((( Prob . ( @lim_sup A ) ) = ( 0 ) & ( lim ( Sum_Shift_Seq (Prob,A) ) ) = ( 0 )) & ( Sum_Shift_Seq (Prob,A) ) is  convergent))
proof
assume A1: ( Partial_Sums ( Prob * A ) ) is  convergent;
A2: ( Prob * A ) is  summable by A1,SERIES_1:def 2;
A3: (for n being (Element of ( NAT )) holds ( 0 ) <= ( ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) . n ))
proof
let n being (Element of ( NAT ));
A4: ( dom ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) ) = ( NAT ) by FUNCT_2:def 1;
( ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) . n ) = ( Prob . ( ( Partial_Intersection ( Union_Shift_Seq A ) ) . n ) ) by A4,FUNCT_1:12;
hence thesis by PROB_1:def 8;
end;
A5: ( Intersection ( Partial_Intersection ( Union_Shift_Seq A ) ) ) = ( Intersection ( Union_Shift_Seq A ) ) by PROB_3:29;
A6: ( Partial_Intersection ( Union_Shift_Seq A ) ) is  non-ascending by PROB_3:27;
A7: (( lim ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) ) = ( Prob . ( Intersection ( Partial_Intersection ( Union_Shift_Seq A ) ) ) ) & ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) is  convergent) by A6,PROB_1:def 8;
A8: (for A being (SetSequence of Sigma) holds (for n,s being (Element of ( NAT )) holds ( ( Prob * ( Partial_Union ( A ^\ s ) ) ) . n ) <= ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . n )))
proof
let A being (SetSequence of Sigma);
let n being (Element of ( NAT ));
let s being (Element of ( NAT ));
defpred P[ set ]
 means
( ( Prob * ( Partial_Union ( A ^\ s ) ) ) . $1 ) <= ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . $1 );
A10: ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . ( 0 ) ) = ( ( Prob * ( A ^\ s ) ) . ( 0 ) ) by SERIES_1:def 1;
A11: ( dom ( Prob * ( A ^\ s ) ) ) = ( NAT ) by FUNCT_2:def 1;
A12: ( ( Prob * ( A ^\ s ) ) . ( 0 ) ) = ( Prob . ( ( A ^\ s ) . ( 0 ) ) ) by A11,FUNCT_1:12;
A13: ( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( 0 ) ) ) = ( Prob . ( ( A ^\ s ) . ( 0 ) ) ) by PROB_3:def 2;
A14: ( dom ( Prob * ( Partial_Union ( A ^\ s ) ) ) ) = ( NAT ) by FUNCT_2:def 1;
A15: P[ ( 0 ) ] by A14,A13,A12,A10,FUNCT_1:12;
A16: (for k being (Element of ( NAT )) holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A17: ( ( Prob * ( Partial_Union ( A ^\ s ) ) ) . k ) <= ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . k );
A18: ( dom ( Prob * ( Partial_Union ( A ^\ s ) ) ) ) = ( NAT ) by FUNCT_2:def 1;
A20: ( Prob . ( ( ( Partial_Union ( A ^\ s ) ) . k ) \/ ( ( A ^\ s ) . ( k + 1 ) ) ) ) <= ( ( Prob . ( ( Partial_Union ( A ^\ s ) ) . k ) ) + ( Prob . ( ( A ^\ s ) . ( k + 1 ) ) ) ) by PROB_1:39;
( dom ( Prob * ( A ^\ s ) ) ) = ( NAT ) by FUNCT_2:def 1;
then A21: ( ( Prob * ( A ^\ s ) ) . ( k + 1 ) ) = ( Prob . ( ( A ^\ s ) . ( k + 1 ) ) ) by FUNCT_1:12;
A22: (( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( k + 1 ) ) ) <= ( ( Prob . ( ( Partial_Union ( A ^\ s ) ) . k ) ) + ( ( Prob * ( A ^\ s ) ) . ( k + 1 ) ) ) implies ( ( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( k + 1 ) ) ) - ( Prob . ( ( Partial_Union ( A ^\ s ) ) . k ) ) ) <= ( ( Prob * ( A ^\ s ) ) . ( k + 1 ) )) by XREAL_1:20;
A23: ((( ( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( k + 1 ) ) ) - ( ( Prob * ( A ^\ s ) ) . ( k + 1 ) ) ) <= ( Prob . ( ( Partial_Union ( A ^\ s ) ) . k ) ) & ( Prob . ( ( Partial_Union ( A ^\ s ) ) . k ) ) <= ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . k )) implies ( ( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( k + 1 ) ) ) - ( ( Prob * ( A ^\ s ) ) . ( k + 1 ) ) ) <= ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . k )) by XXREAL_0:2;
A24: (( ( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( k + 1 ) ) ) - ( ( Prob * ( A ^\ s ) ) . ( k + 1 ) ) ) <= ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . k ) implies ( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( k + 1 ) ) ) <= ( ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . k ) + ( ( Prob * ( A ^\ s ) ) . ( k + 1 ) ) )) by XREAL_1:20;
A25: ( Prob . ( ( Partial_Union ( A ^\ s ) ) . ( k + 1 ) ) ) <= ( ( Partial_Sums ( Prob * ( A ^\ s ) ) ) . ( k + 1 ) ) by A20,A21,A22,A18,A17,A23,A24,FUNCT_1:12,PROB_3:def 2,SERIES_1:def 1,XREAL_1:12;
( dom ( Prob * ( Partial_Union ( A ^\ s ) ) ) ) = ( NAT ) by FUNCT_2:def 1;
hence thesis by A25,FUNCT_1:12;
end;
(for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A15,A16);
hence thesis;
end;
A26: (for k being (Element of ( NAT )) holds ( Partial_Sums ( ( Prob * A ) ^\ k ) ) is  convergent)
proof
let k being (Element of ( NAT ));
( ( Prob * A ) ^\ k ) is  summable by A2,SERIES_1:12;
hence thesis by SERIES_1:def 2;
end;
A27: (for A being (SetSequence of Sigma) holds (for n being (Element of ( NAT )) holds ( Prob * ( A ^\ n ) ) = ( ( Prob * A ) ^\ n )))
proof
let A being (SetSequence of Sigma);
let n being (Element of ( NAT ));
(for k being (Element of ( NAT )) holds ( ( Prob * ( A ^\ n ) ) . k ) = ( ( ( Prob * A ) ^\ n ) . k ))
proof
let k being (Element of ( NAT ));
( dom ( Prob * ( A ^\ n ) ) ) = ( NAT ) by FUNCT_2:def 1;
then A28: ( ( Prob * ( A ^\ n ) ) . k ) = ( Prob . ( ( A ^\ n ) . k ) ) by FUNCT_1:12;
( dom ( Prob * A ) ) = ( NAT ) by FUNCT_2:def 1;
then A29: ( Prob . ( A . ( n + k ) ) ) = ( ( Prob * A ) . ( n + k ) ) by FUNCT_1:12;
( ( Prob * A ) . ( k + n ) ) = ( ( ( Prob * A ) ^\ n ) . k ) by NAT_1:def 3;
hence thesis by A28,A29,NAT_1:def 3;
end;
hence thesis by FUNCT_2:63;
end;
A30: (for n being (Element of ( NAT )) holds ( Partial_Sums ( Prob * ( A ^\ n ) ) ) is  convergent)
proof
let n being (Element of ( NAT ));
( Partial_Sums ( Prob * ( A ^\ n ) ) ) = ( Partial_Sums ( ( Prob * A ) ^\ n ) ) by A27;
hence thesis by A26;
end;
A31: (for n being (Element of ( NAT )) holds ( lim ( Prob * ( Partial_Union ( A ^\ n ) ) ) ) <= ( lim ( Partial_Sums ( Prob * ( A ^\ n ) ) ) ))
proof
let n being (Element of ( NAT ));
A32: (for k being (Element of ( NAT )) holds ( ( Prob * ( Partial_Union ( A ^\ n ) ) ) . k ) <= ( ( Partial_Sums ( Prob * ( A ^\ n ) ) ) . k )) by A8;
A33: ( Prob * ( Partial_Union ( A ^\ n ) ) ) is  convergent by PROB_3:41;
( Partial_Sums ( Prob * ( A ^\ n ) ) ) is  convergent by A30;
hence thesis by A33,A32,SEQ_2:18;
end;
A34: (for n being (Element of ( NAT )) holds ( Prob . ( Union ( A ^\ n ) ) ) <= ( lim ( Partial_Sums ( Prob * ( A ^\ n ) ) ) ))
proof
let n being (Element of ( NAT ));
( lim ( Prob * ( Partial_Union ( A ^\ n ) ) ) ) <= ( lim ( Partial_Sums ( Prob * ( A ^\ n ) ) ) ) by A31;
hence thesis by PROB_3:41;
end;
A35: (for n being (Element of ( NAT )) holds ( Prob . ( Union ( A ^\ n ) ) ) <= ( Sum ( Prob * ( A ^\ n ) ) ))
proof
let n being (Element of ( NAT ));
( lim ( Partial_Sums ( Prob * ( A ^\ n ) ) ) ) = ( Sum ( Prob * ( A ^\ n ) ) ) by SERIES_1:def 3;
hence thesis by A34;
end;
A36: (for n being (Element of ( NAT )) holds ( ( Prob * ( Union_Shift_Seq A ) ) . n ) <= ( ( Sum_Shift_Seq (Prob,A) ) . n ))
proof
let n being (Element of ( NAT ));
A37: ( dom ( Prob * ( Union_Shift_Seq A ) ) ) = ( NAT ) by FUNCT_2:def 1;
A38: ( ( Prob * ( Union_Shift_Seq A ) ) . n ) = ( Prob . ( ( Union_Shift_Seq A ) . n ) ) by A37,FUNCT_1:12;
A39: ( Prob . ( Union ( A ^\ n ) ) ) <= ( Sum ( Prob * ( A ^\ n ) ) ) by A35;
( Sum ( Prob * ( A ^\ n ) ) ) = ( ( Sum_Shift_Seq (Prob,A) ) . n ) by CKB30:def 1;
hence thesis by CKB20:def 1,A38,A39;
end;
A40: ( 0 ) <= ( lim ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) ) by A7,A3,SEQ_2:17;
A41: (( Sum_Shift_Seq (Prob,A) ) is  convergent implies ( lim ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) ) <= ( lim ( Sum_Shift_Seq (Prob,A) ) ))
proof
assume A42: ( Sum_Shift_Seq (Prob,A) ) is  convergent;
A43: (for n being (Element of ( NAT )) holds ( ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) . n ) <= ( ( Prob * ( Union_Shift_Seq A ) ) . n ))
proof
let n being (Element of ( NAT ));
A44: ( Prob . ( ( Partial_Intersection ( Union_Shift_Seq A ) ) . n ) ) <= ( Prob . ( ( Union_Shift_Seq A ) . n ) ) by PROB_1:34,PROB_3:23;
A45: ( dom ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) ) = ( NAT ) by FUNCT_2:def 1;
A46: ( dom ( Prob * ( Union_Shift_Seq A ) ) ) = ( NAT ) by FUNCT_2:def 1;
( ( Prob * ( Union_Shift_Seq A ) ) . n ) = ( Prob . ( ( Union_Shift_Seq A ) . n ) ) by A46,FUNCT_1:12;
hence thesis by A45,A44,FUNCT_1:12;
end;
( lim ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) ) <= ( lim ( Sum_Shift_Seq (Prob,A) ) )
proof
A47: (for n being (Element of ( NAT )) holds ( ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) . n ) <= ( ( Sum_Shift_Seq (Prob,A) ) . n ))
proof
let n being (Element of ( NAT ));
A48: ( ( Prob * ( Partial_Intersection ( Union_Shift_Seq A ) ) ) . n ) <= ( ( Prob * ( Union_Shift_Seq A ) ) . n ) by A43;
A49: ( ( Prob * ( Union_Shift_Seq A ) ) . n ) <= ( ( Sum_Shift_Seq (Prob,A) ) . n ) by A36;
thus thesis by A48,A49,XXREAL_0:2;
end;
thus thesis by A7,A42,A47,SEQ_2:18;
end;
hence thesis;
end;
A50: (for A being (SetSequence of Sigma) holds (( Partial_Sums ( Prob * A ) ) is  convergent implies (( 0 ) = ( lim ( Sum_Shift_Seq (Prob,A) ) ) & ( Sum_Shift_Seq (Prob,A) ) is  convergent)))
proof
let A being (SetSequence of Sigma);
assume A51: ( Partial_Sums ( Prob * A ) ) is  convergent;
then A52: ( Prob * A ) is  summable by SERIES_1:def 2;
A53: (for n being (Element of ( NAT )) holds ( ( Sum ( Prob * A ) ) - ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) ) = ( ( Partial_Sums ( Prob * A ) ) . n ))
proof
let n being (Element of ( NAT ));
( ( Sum ( Prob * A ) ) - ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) ) = ( ( ( ( Partial_Sums ( Prob * A ) ) . n ) + ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) ) - ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) ) by A52,SERIES_1:15;
hence thesis;
end;
A54: (for n being (Element of ( NAT )) holds (for m being (Element of ( NAT )) holds (n <= m implies ( abs ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) ) = ( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) ) ))))
proof
let n being (Element of ( NAT ));
let m being (Element of ( NAT ));
assume n <= m;
A55: ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) = ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Sum ( Prob * A ) ) - ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) ) ) by A53;
A56: ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) = ( ( ( Sum ( Prob * A ) ) - ( Sum ( ( Prob * A ) ^\ ( m + 1 ) ) ) ) - ( ( Sum ( Prob * A ) ) - ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) ) ) by A53,A55;
A57: ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) = ( ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) - ( Sum ( ( Prob * A ) ^\ ( m + 1 ) ) ) ) by A56;
A58: (for A being (SetSequence of Sigma) holds (for n being (Element of ( NAT )) holds ( Prob * ( A ^\ n ) ) = ( ( Prob * A ) ^\ n )))
proof
let A being (SetSequence of Sigma);
let n being (Element of ( NAT ));
(for k being (Element of ( NAT )) holds ( ( Prob * ( A ^\ n ) ) . k ) = ( ( ( Prob * A ) ^\ n ) . k ))
proof
let k being (Element of ( NAT ));
( dom ( Prob * ( A ^\ n ) ) ) = ( NAT ) by FUNCT_2:def 1;
then A59: ( ( Prob * ( A ^\ n ) ) . k ) = ( Prob . ( ( A ^\ n ) . k ) ) by FUNCT_1:12;
( dom ( Prob * A ) ) = ( NAT ) by FUNCT_2:def 1;
then A60: ( Prob . ( A . ( n + k ) ) ) = ( ( Prob * A ) . ( n + k ) ) by FUNCT_1:12;
( ( Prob * A ) . ( k + n ) ) = ( ( ( Prob * A ) ^\ n ) . k ) by NAT_1:def 3;
hence thesis by A59,A60,NAT_1:def 3;
end;
hence thesis by FUNCT_2:63;
end;
A61: (for n being (Element of ( NAT )) holds ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) = ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ))
proof
let n being (Element of ( NAT ));
A62: ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) = ( ( Sum_Shift_Seq (Prob,A) ) . ( n + 1 ) ) by NAT_1:def 3;
( ( Sum_Shift_Seq (Prob,A) ) . ( n + 1 ) ) = ( Sum ( Prob * ( A ^\ ( n + 1 ) ) ) ) by CKB30:def 1;
hence thesis by A58,A62;
end;
A64: ( abs ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) ) = ( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) ) )
proof
( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) = ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( Sum ( ( Prob * A ) ^\ ( m + 1 ) ) ) ) by A57,A61;
hence thesis by A61;
end;
( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) ) ) = ( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) ) )
proof
per cases ;
suppose ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) ) = ( 0 );

hence thesis;
end;
suppose ( 0 ) < ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) );

then A65: ( - ( 0 ) ) > ( - ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) ) );
( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) ) ) = ( - ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) ) ) by A65,ABSVALUE:def 1;
hence thesis;
end;
suppose A66: ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) ) < ( 0 );

( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) ) ) = ( - ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) ) ) by A66,ABSVALUE:def 1;
hence thesis;
end;
end;
hence thesis by A64;
end;
A67: ((for sr being  real number holds (( 0 ) < sr implies (ex n being (Element of ( NAT )) st (for m being (Element of ( NAT )) holds (n <= m implies ( abs ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) ) < sr))))) implies (for sr being  real number holds (( 0 ) < sr implies (ex n being (Element of ( NAT )) st (for m being (Element of ( NAT )) holds (n <= m implies ( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) ) ) < sr))))))
proof
assume A68: (for sr being  real number holds (( 0 ) < sr implies (ex n being (Element of ( NAT )) st (for m being (Element of ( NAT )) holds (n <= m implies ( abs ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) ) < sr)))));
let sr being  real number;
assume that
A69: ( 0 ) < sr;
consider n being (Element of ( NAT )) such that A70: (for m being (Element of ( NAT )) holds (n <= m implies ( abs ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) ) < sr)) by A68,A69;
take n;
let m being (Element of ( NAT ));
assume that
A71: n <= m;
( abs ( ( ( Partial_Sums ( Prob * A ) ) . m ) - ( ( Partial_Sums ( Prob * A ) ) . n ) ) ) = ( abs ( ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . m ) - ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) ) ) by A71,A54;
hence thesis by A70,A71;
end;
A72: (( Partial_Sums ( Prob * A ) ) is  convergent & ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) is  convergent) by A51,A67,SEQ_4:41;
A73: ( dom ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) + ( Partial_Sums ( Prob * A ) ) ) ) = ( NAT ) by FUNCT_2:def 1;
consider B being Real_Sequence such that A74: B = ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) + ( Partial_Sums ( Prob * A ) ) );
set B1 = ( ( NAT ) --> ( Sum ( Prob * A ) ) );
A75: ( Prob * A ) is  summable by A51,SERIES_1:def 2;
A76: (for n being (Element of ( NAT )) holds ( B1 . n ) = ( B . n ))
proof
let n being (Element of ( NAT ));
A77: (for n being (Element of ( NAT )) holds ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) = ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ))
proof
let n being (Element of ( NAT ));
A78: ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) = ( ( Sum_Shift_Seq (Prob,A) ) . ( n + 1 ) ) by NAT_1:def 3;
A79: (for A being (SetSequence of Sigma) holds (for n being (Element of ( NAT )) holds ( Prob * ( A ^\ n ) ) = ( ( Prob * A ) ^\ n )))
proof
let A being (SetSequence of Sigma);
let n being (Element of ( NAT ));
(for k being (Element of ( NAT )) holds ( ( Prob * ( A ^\ n ) ) . k ) = ( ( ( Prob * A ) ^\ n ) . k ))
proof
let k being (Element of ( NAT ));
( dom ( Prob * ( A ^\ n ) ) ) = ( NAT ) by FUNCT_2:def 1;
then A80: ( ( Prob * ( A ^\ n ) ) . k ) = ( Prob . ( ( A ^\ n ) . k ) ) by FUNCT_1:12;
( dom ( Prob * A ) ) = ( NAT ) by FUNCT_2:def 1;
then A81: ( Prob . ( A . ( n + k ) ) ) = ( ( Prob * A ) . ( n + k ) ) by FUNCT_1:12;
( ( Prob * A ) . ( k + n ) ) = ( ( ( Prob * A ) ^\ n ) . k ) by NAT_1:def 3;
hence thesis by A80,A81,NAT_1:def 3;
end;
hence thesis by FUNCT_2:63;
end;
( ( Sum_Shift_Seq (Prob,A) ) . ( n + 1 ) ) = ( Sum ( Prob * ( A ^\ ( n + 1 ) ) ) ) by CKB30:def 1;
hence thesis by A78,A79;
end;
A82: ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) = ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) by A77;
( Sum ( Prob * A ) ) = ( ( ( Partial_Sums ( Prob * A ) ) . n ) + ( Sum ( ( Prob * A ) ^\ ( n + 1 ) ) ) ) by A75,SERIES_1:15;
then ( B1 . n ) = ( ( ( Partial_Sums ( Prob * A ) ) . n ) + ( ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) . n ) ) by A82,FUNCOP_1:7;
hence thesis by A73,A74,VALUED_1:def 1;
end;
A83: ( lim B1 ) = ( lim B )
proof
(ex k being (Element of ( NAT )) st (for n being (Element of ( NAT )) holds (k <= n implies ( B1 . n ) = ( B . n ))))
proof
take 1;
thus thesis by A76;
end;
hence thesis by SEQ_4:19;
end;
A84: ( Sum ( Prob * A ) ) = ( B1 . 1 ) by FUNCOP_1:7
.= ( lim B ) by A83,SEQ_4:26;
A85: ( lim B ) = ( ( lim ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) ) + ( lim ( Partial_Sums ( Prob * A ) ) ) ) by A74,A72,SEQ_2:6;
( Sum ( Prob * A ) ) = ( ( lim ( ( Sum_Shift_Seq (Prob,A) ) ^\ 1 ) ) + ( Sum ( Prob * A ) ) ) by A84,A85,SERIES_1:def 3;
hence thesis by A72,SEQ_4:21,SEQ_4:22;
end;
(( lim ( Sum_Shift_Seq (Prob,A) ) ) = ( 0 ) & ( Sum_Shift_Seq (Prob,A) ) is  convergent) by A1,A50;
hence thesis by A5,A7,A40,A41,PROB_2:def 1;
end;
