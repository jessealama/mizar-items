environ
vocabularies ORDINAL1,SUBSET_1,NUMBERS,XBOOLE_0,SETFAM_1,SCMFSA7B,FUNCSDOM,AMI_3,AMI_1,FSM_1,STRUCT_0,AMI_2,FUNCT_1,TARSKI,RELAT_1,AMISTD_2,ARYTM_3,FUNCT_4,CIRCUIT2,CARD_1,GRAPHSP,ARYTM_1,SUPINF_2,FUNCOP_1,ZFMISC_1,PARTFUN1,SCMNORM,RELOC,NAT_1,AMISTD_5,COMPOS_1,PBOOLE,FINSET_1;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,DOMAIN_1,ORDINAL1,RELAT_1,FINSET_1,NUMBERS,FUNCT_1,PARTFUN1,STRUCT_0,ALGSTR_0,FUNCSDOM,FUNCOP_1,XCMPLX_0,NAT_1,FUNCT_4,FUNCT_7,NAT_D,VALUED_1,PBOOLE,MEMSTR_0,COMPOS_1,EXTPRO_1,AMI_2,AMI_3,SCMRING1,SCMRING2,SCMRING3,AMISTD_2,AMISTD_5,CKB8;
definitions FUNCT_1,EXTPRO_1,FUNCOP_1,AMI_3,AMI_2,AMISTD_1,AMISTD_2,NAT_1,COMPOS_1,AMISTD_5,STRUCT_0,MEMSTR_0;
theorems TARSKI,NAT_1,SCMRING2,AMI_3,FUNCT_4,FUNCT_1,ZFMISC_1,FUNCOP_1,SCMRING1,AMI_2,STRUCT_0,XBOOLE_0,XBOOLE_1,RELAT_1,GRFUNC_1,SCMRING3,AMISTD_2,PBOOLE,SUBSET_1,PARTFUN1,ORDINAL1,COMPOS_1,EXTPRO_1,AMISTD_5,MEMSTR_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB11,CKB12,CKB13,CKB14,CKB15;
schemes NAT_1;
registrations XBOOLE_0,SETFAM_1,RELAT_1,FUNCT_1,FUNCOP_1,XREAL_0,NAT_1,CARD_3,STRUCT_0,AMI_3,SCMRING2,AMISTD_2,SCMRING3,FINSET_1,ORDINAL1,RELSET_1,GRFUNC_1,FUNCT_2,VALUED_1,FUNCT_4,COMPOS_1,EXTPRO_1,AMISTD_5,AMI_5,PBOOLE,PRE_POLY,FUNCT_7,ZFMISC_1,SUBSET_1,MEMSTR_0,NUMBERS,INT_1,CARD_1,AMI_2,CKB7,CKB9,CKB10;
constructors XXREAL_0,REALSET2,AMI_3,AMISTD_2,SCMRING3,PRE_POLY,NAT_D,AMISTD_1,AMISTD_5,PBOOLE,INT_3,FUNCT_7,RELSET_1,MEMSTR_0,CKB8;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve k for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve R for non trivial  good Ring;
reserve s1 for (State of ( SCM R ));
reserve s2 for (State of ( SCM R ));
theorem
Th14: (for q being non halt-free  finite (the Instructions of ( SCM R )) -valued ( NAT ) -defined Function holds (for p being q -autonomic (FinPartState of ( SCM R )) holds (((( IC ( SCM R ) ) in ( dom p ) & p c= s1) & ( IncIC (p,k) ) c= s2) implies (for P1,P2 being (Instruction-Sequence of ( SCM R )) holds ((q c= P1 & ( Reloc (q,k) ) c= P2) implies (for i being (Element of ( NAT )) holds (((( ( IC ( Comput (P1,s1,i) ) ) + k ) = ( IC ( Comput (P2,s2,i) ) ) & ( IncAddr (( CurInstr (P1,( Comput (P1,s1,i) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,i) )) )) & ( ( Comput (P1,s1,i) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,i) ) | ( dom ( DataPart p ) ) )) & ( DataPart ( Comput (P1,( s1 +* ( DataPart s2 ) ),i) ) ) = ( DataPart ( Comput (P2,s2,i) ) ))))))))
proof
let q being non halt-free  finite (the Instructions of ( SCM R )) -valued ( NAT ) -defined Function;
let p being q -autonomic (FinPartState of ( SCM R ));
assume that
A1: ( IC ( SCM R ) ) in ( dom p )
and
A2: p c= s1
and
A3: ( IncIC (p,k) ) c= s2;
B1: ( IC ( SCM R ) ) in ( dom p ) by A1;
let P1 being (Instruction-Sequence of ( SCM R )),P2 being (Instruction-Sequence of ( SCM R ));
assume that
A4: (q c= P1 & ( Reloc (q,k) ) c= P2);
set s = ( s1 +* ( DataPart s2 ) );
defpred P[ (Element of ( NAT )) ]
 means
(((( ( IC ( Comput (P1,s1,$1) ) ) + k ) = ( IC ( Comput (P2,s2,$1) ) ) & ( IncAddr (( CurInstr (P1,( Comput (P1,s1,$1) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,$1) )) )) & ( ( Comput (P1,s1,$1) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,$1) ) | ( dom ( DataPart p ) ) )) & ( DataPart ( Comput (P1,s,$1) ) ) = ( DataPart ( Comput (P2,s2,$1) ) ));
A6: p is non empty by A1;
A7: ( IC p ) = ( IC s1 ) by A2,B1,GRFUNC_1:2;
then ( IC p ) = ( IC ( Comput (P1,s1,( 0 )) ) ) by EXTPRO_1:2;
then A8: ( IC p ) in ( dom q ) by A2,A6,A4,AMISTD_5:def 4;
A9: p c= s by A2,A3,MEMSTR_0:61;
A10: (for i being (Element of ( NAT )) holds (P[ i ] implies P[ (( i + 1 ) qua (Element of ( NAT ))) ]))
proof
set DPp = ( DataPart p );
let i being (Element of ( NAT ));
assume that
A11: ( ( IC ( Comput (P1,s1,i) ) ) + k ) = ( IC ( Comput (P2,s2,i) ) )
and
A12: ( IncAddr (( CurInstr (P1,( Comput (P1,s1,i) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,i) )) )
and
A13: ( ( Comput (P1,s1,i) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,i) ) | ( dom ( DataPart p ) ) )
and
A14: ( DataPart ( Comput (P1,s,i) ) ) = ( DataPart ( Comput (P2,s2,i) ) );
set Cs2i1 = ( Comput (P2,s2,( i + 1 )) );
set Cs3i = ( Comput (P1,s,i) );
set Cs2i = ( Comput (P2,s2,i) );
A15: Cs2i1 = ( Following (P2,Cs2i) ) by EXTPRO_1:3
.= ( Exec (( CurInstr (P2,Cs2i) ),Cs2i) );
A16:now
let s being (State of ( SCM R ));
let d being (Data-Location of R);
d in ( Data-Locations ( SCM R ) ) by SCMRING2:23;
hence d in ( dom ( DataPart s ) ) by MEMSTR_0:9;
end;
A17:now
let d being (Data-Location of R);
A18: d in ( dom ( DataPart Cs3i ) ) by A16;
hence ( Cs3i . d ) = ( ( DataPart Cs3i ) . d ) by FUNCT_1:47
.= ( Cs2i . d ) by A14,A18,FUNCT_1:47;
end;
set Cs1i1 = ( Comput (P1,s1,( i + 1 )) );
set Cs1i = ( Comput (P1,s1,i) );
( dom Cs1i1 ) = (the carrier of ( SCM R )) by PARTFUN1:def 2;
then A19: ( dom Cs1i1 ) = ( { ( IC ( SCM R ) ) } \/ ( Data-Locations ( SCM R ) ) ) by XBOOLE_1:45;
A20: ( succ ( ( IC Cs1i ) + k ) ) = ( ( succ ( IC Cs1i ) ) + k );
A21:now
reconsider loc = ( IC Cs1i1 ) as (Element of ( NAT ));
assume A22: ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) );
A23: loc in ( dom q ) by A2,A6,A4,AMISTD_5:def 4;
( loc + k ) in ( dom ( Reloc (q,k) ) ) by A23,COMPOS_1:46;
then A24: ( ( Reloc (q,k) ) . ( loc + k ) ) = ( P2 . ( loc + k ) ) by A4,GRFUNC_1:2;
A25: ( P2 /. ( IC ( Comput (P2,s2,( i + 1 )) ) ) ) = ( P2 . ( IC ( Comput (P2,s2,( i + 1 )) ) ) ) by PBOOLE:143;
( CurInstr (P1,Cs1i1) ) = ( P1 . loc ) by PBOOLE:143
.= ( q . loc ) by A23,A4,GRFUNC_1:2;
hence ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A22,A23,A24,A25,COMPOS_1:35;
end;
( dom Cs2i ) = (the carrier of ( SCM R )) by PARTFUN1:def 2;
then A26: ( dom Cs2i ) = ( { ( IC ( SCM R ) ) } \/ ( Data-Locations ( SCM R ) ) ) by XBOOLE_1:45;
( dom DPp ) = ( ( dom p ) /\ ( Data-Locations ( SCM R ) ) ) by RELAT_1:61;
then A27: ( dom DPp ) c= ( { ( IC ( SCM R ) ) } \/ ( Data-Locations ( SCM R ) ) ) by XBOOLE_1:10,XBOOLE_1:17;
set Cs3i1 = ( Comput (P1,s,( i + 1 )) );
A28: ( dom ( DataPart Cs2i ) ) = ( Data-Locations ( SCM R ) ) by MEMSTR_0:9;
A29: ( dom ( DataPart Cs3i1 ) ) = ( Data-Locations ( SCM R ) ) by MEMSTR_0:9;
then A30: ( dom ( DataPart Cs3i1 ) ) c= ( dom ( DataPart Cs2i1 ) ) by MEMSTR_0:9;
A31: ( dom ( DataPart Cs2i1 ) ) = ( Data-Locations ( SCM R ) ) by MEMSTR_0:9;
A32:now
let x being set;
assume that
A33: x in ( dom ( DataPart Cs3i1 ) )
and
A34: ( Cs3i1 . x ) = ( Cs2i1 . x );
thus ( ( DataPart Cs3i1 ) . x ) = ( Cs2i1 . x ) by A33,A34,FUNCT_1:47
.= ( ( DataPart Cs2i1 ) . x ) by A29,A31,A33,FUNCT_1:47;
end;
A35: ( dom ( DataPart Cs3i ) ) = ( Data-Locations ( SCM R ) ) by MEMSTR_0:9;
A36:now
let x being set;
assume that
A37: x in ( dom ( DataPart Cs3i1 ) )
and
A38: (( Cs3i1 . x ) = ( Cs3i . x ) & ( Cs2i1 . x ) = ( Cs2i . x ));
( ( DataPart Cs3i ) . x ) = ( Cs3i . x ) by A35,A29,A37,FUNCT_1:47;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A14,A28,A29,A32,A37,A38,FUNCT_1:47;
end;
( dom Cs1i ) = (the carrier of ( SCM R )) by PARTFUN1:def 2;
then A39: ( dom Cs1i ) = ( { ( IC ( SCM R ) ) } \/ ( Data-Locations ( SCM R ) ) ) by XBOOLE_1:45;
( dom Cs2i1 ) = (the carrier of ( SCM R )) by PARTFUN1:def 2;
then A40: ( dom Cs2i1 ) = ( { ( IC ( SCM R ) ) } \/ ( Data-Locations ( SCM R ) ) ) by XBOOLE_1:45;
set I = ( CurInstr (P1,Cs1i) );
A41: Cs1i1 = ( Following (P1,Cs1i) ) by EXTPRO_1:3
.= ( Exec (( CurInstr (P1,Cs1i) ),Cs1i) );
A42: ( dom ( Cs1i | ( dom DPp ) ) ) = ( ( dom Cs1i ) /\ ( dom DPp ) ) by RELAT_1:61
.= ( dom DPp ) by A39,A27,XBOOLE_1:28;
A43: ( dom ( Cs1i1 | ( dom DPp ) ) ) = ( ( dom Cs1i1 ) /\ ( dom DPp ) ) by RELAT_1:61
.= ( dom DPp ) by A19,A27,XBOOLE_1:28;
A45: ( dom ( Cs2i1 | ( dom ( DataPart p ) ) ) ) = ( ( dom Cs2i1 ) /\ ( dom DPp ) ) by RELAT_1:61
.= ( dom DPp ) by A40,A27,XBOOLE_1:28;
then A46: ( dom ( Cs1i1 | ( dom DPp ) ) ) c= ( dom ( Cs2i1 | ( dom DPp ) ) ) by A43;
A47: ( dom ( Cs2i | ( dom ( DataPart p ) ) ) ) = ( ( dom Cs2i ) /\ ( dom DPp ) ) by RELAT_1:61
.= ( dom DPp ) by A26,A27,XBOOLE_1:28;
A48:now
let x being set;
let d being (Data-Location of R);
assume that
A49: d = x
and
A50: d in ( dom DPp )
and
A51: (( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d ));
A52: (( ( Cs1i | ( dom DPp ) ) . d ) = ( Cs1i . d ) & ( ( Cs2i | ( dom DPp ) ) . d ) = ( Cs2i . d )) by A42,A47,A50,FUNCT_1:47;
thus ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( Cs1i1 . d ) by A43,A49,A50,FUNCT_1:47
.= ( ( Cs2i1 | ( dom DPp ) ) . x ) by A13,A45,A49,A50,A51,A52,FUNCT_1:47;
end;
A53:now
let x being set;
let d being (Data-Location of R);
assume that
A54: (d = x & d in ( dom DPp ))
and
A55: ( Cs1i1 . d ) = ( Cs2i1 . d );
thus ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( Cs2i1 . d ) by A43,A54,A55,FUNCT_1:47
.= ( ( Cs2i1 | ( dom DPp ) ) . x ) by A45,A54,FUNCT_1:47;
end;
A56: Cs3i1 = ( Following (P1,Cs3i) ) by EXTPRO_1:3
.= ( Exec (( CurInstr (P1,Cs1i) ),Cs3i) ) by A2,A6,A9,A4,AMISTD_5:7;
per cases  by NAT_1:31,SCMRING3:39;
suppose ( InsCode I ) = ( 0 );

then A57: I = ( halt ( SCM R ) ) by SCMRING3:12;
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( ( IC Cs1i ) + k ) by A41,EXTPRO_1:def 3
.= ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A11,A12,A15,A57,EXTPRO_1:def 3;
hence ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A21;
A58: Cs2i1 = Cs2i by A12,A15,A57,EXTPRO_1:def 3;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A13,A41,A57,EXTPRO_1:def 3;
thus thesis by A14,A56,A57,A58,EXTPRO_1:def 3;
end;
suppose ( InsCode I ) = 1;

then consider da being (Data-Location of R),db being (Data-Location of R) such that A59: I = ( da := db ) by SCMRING3:13;
A60: ( IncAddr (I,k) ) = ( da := db ) by A59,COMPOS_1:11;
A61: ( ( Exec (I,Cs1i) ) . ( IC ( SCM R ) ) ) = ( succ ( IC Cs1i ) ) by A59,SCMRING2:11;
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A11,A12,A41,A15,A20,A60,SCMRING2:11;
thus ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A11,A12,A21,A41,A15,A20,A60,A61,SCMRING2:11;
A62: ( Cs3i . db ) = ( Cs2i . db ) by A17;
now
DPp c= p by RELAT_1:59;
then A63: ( dom DPp ) c= ( dom p ) by GRFUNC_1:2;
let x being set;
assume A64: x in ( dom ( Cs1i1 | ( dom DPp ) ) );
( dom DPp ) c= ( Data-Locations ( SCM R ) ) by RELAT_1:58;
then reconsider d = x as (Data-Location of R) by A43,A64,SCMRING2:23;
per cases ;
suppose A65: da = d;

then (( Cs1i1 . d ) = ( Cs1i . db ) & ( Cs2i1 . d ) = ( Cs2i . db )) by A12,A41,A15,A59,A60,SCMRING2:11;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A2,A6,A9,A43,A53,A59,A62,A64,A63,A65,CKB11:1,A4;
end;
suppose da <> d;

then (( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A41,A15,A59,A60,SCMRING2:11;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A48,A64;
end;
end;
then ( Cs1i1 | ( dom DPp ) ) c= ( Cs2i1 | ( dom DPp ) ) by A46,GRFUNC_1:2;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A43,A45,GRFUNC_1:3;
now
let x being set;
assume A66: x in ( dom ( DataPart Cs3i1 ) );
then reconsider d = x as (Data-Location of R) by A29,SCMRING2:23;
per cases ;
suppose da = d;

then (( Cs2i1 . d ) = ( Cs2i . db ) & ( Cs3i1 . d ) = ( Cs3i . db )) by A12,A15,A56,A59,A60,SCMRING2:11;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A17,A32,A66;
end;
suppose da <> d;

then (( Cs3i1 . d ) = ( Cs3i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A15,A56,A59,A60,SCMRING2:11;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A36,A66;
end;
end;
then ( DataPart Cs3i1 ) c= ( DataPart ( Comput (P2,s2,( i + 1 )) ) ) by A30,GRFUNC_1:2;
hence thesis by A29,A31,GRFUNC_1:3;
end;
suppose ( InsCode I ) = 2;

then consider da being (Data-Location of R),db being (Data-Location of R) such that A67: I = ( AddTo (da,db) ) by SCMRING3:14;
A68: ( IncAddr (I,k) ) = ( AddTo (da,db) ) by A67,COMPOS_1:11;
A69: ( ( Exec (I,Cs1i) ) . ( IC ( SCM R ) ) ) = ( succ ( IC Cs1i ) ) by A67,SCMRING2:12;
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A11,A12,A41,A15,A20,A68,SCMRING2:12;
thus ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A11,A12,A21,A41,A15,A20,A68,A69,SCMRING2:12;
A70: (( Cs3i . da ) = ( Cs2i . da ) & ( Cs3i . db ) = ( Cs2i . db )) by A17;
now
DPp c= p by RELAT_1:59;
then A71: ( dom DPp ) c= ( dom p ) by GRFUNC_1:2;
let x being set;
assume that
A72: x in ( dom ( Cs1i1 | ( dom DPp ) ) );
( dom DPp ) c= ( Data-Locations ( SCM R ) ) by RELAT_1:58;
then reconsider d = x as (Data-Location of R) by A43,A72,SCMRING2:23;
per cases ;
suppose A73: da = d;

then (( Cs1i1 . d ) = ( ( Cs1i . da ) + ( Cs1i . db ) ) & ( Cs2i1 . d ) = ( ( Cs2i . da ) + ( Cs2i . db ) )) by A12,A41,A15,A67,A68,SCMRING2:12;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A2,A6,A9,A43,A53,A67,A70,A72,A71,A73,CKB12:1,A4;
end;
suppose da <> d;

then (( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A41,A15,A67,A68,SCMRING2:12;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A48,A72;
end;
end;
then ( Cs1i1 | ( dom DPp ) ) c= ( Cs2i1 | ( dom DPp ) ) by A46,GRFUNC_1:2;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A43,A45,GRFUNC_1:3;
now
let x being set;
assume A74: x in ( dom ( DataPart Cs3i1 ) );
then reconsider d = x as (Data-Location of R) by A29,SCMRING2:23;
per cases ;
suppose da = d;

then (( Cs2i1 . d ) = ( ( Cs2i . da ) + ( Cs2i . db ) ) & ( Cs3i1 . d ) = ( ( Cs3i . da ) + ( Cs3i . db ) )) by A12,A15,A56,A67,A68,SCMRING2:12;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A32,A70,A74;
end;
suppose da <> d;

then (( Cs3i1 . d ) = ( Cs3i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A15,A56,A67,A68,SCMRING2:12;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A36,A74;
end;
end;
then ( DataPart Cs3i1 ) c= ( DataPart ( Comput (P2,s2,( i + 1 )) ) ) by A30,GRFUNC_1:2;
hence thesis by A29,A31,GRFUNC_1:3;
end;
suppose ( InsCode I ) = 3;

then consider da being (Data-Location of R),db being (Data-Location of R) such that A75: I = ( SubFrom (da,db) ) by SCMRING3:15;
A76: ( IncAddr (I,k) ) = ( SubFrom (da,db) ) by A75,COMPOS_1:11;
A77: ( ( Exec (I,Cs1i) ) . ( IC ( SCM R ) ) ) = ( succ ( IC Cs1i ) ) by A75,SCMRING2:13;
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A11,A12,A41,A15,A20,A76,SCMRING2:13;
thus ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A11,A12,A21,A41,A15,A20,A76,A77,SCMRING2:13;
A78: (( Cs3i . da ) = ( Cs2i . da ) & ( Cs3i . db ) = ( Cs2i . db )) by A17;
now
DPp c= p by RELAT_1:59;
then A79: ( dom DPp ) c= ( dom p ) by GRFUNC_1:2;
let x being set;
assume that
A80: x in ( dom ( Cs1i1 | ( dom DPp ) ) );
( dom DPp ) c= ( Data-Locations ( SCM R ) ) by RELAT_1:58;
then reconsider d = x as (Data-Location of R) by A43,A80,SCMRING2:23;
per cases ;
suppose A81: da = d;

then (( Cs1i1 . d ) = ( ( Cs1i . da ) - ( Cs1i . db ) ) & ( Cs2i1 . d ) = ( ( Cs2i . da ) - ( Cs2i . db ) )) by A12,A41,A15,A75,A76,SCMRING2:13;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A2,A6,A9,A43,A53,A75,A78,A80,A79,A81,CKB13:1,A4;
end;
suppose da <> d;

then (( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A41,A15,A75,A76,SCMRING2:13;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A48,A80;
end;
end;
then ( Cs1i1 | ( dom DPp ) ) c= ( Cs2i1 | ( dom DPp ) ) by A46,GRFUNC_1:2;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A43,A45,GRFUNC_1:3;
now
let x being set;
assume A82: x in ( dom ( DataPart Cs3i1 ) );
then reconsider d = x as (Data-Location of R) by A29,SCMRING2:23;
per cases ;
suppose da = d;

then (( Cs2i1 . d ) = ( ( Cs2i . da ) - ( Cs2i . db ) ) & ( Cs3i1 . d ) = ( ( Cs3i . da ) - ( Cs3i . db ) )) by A12,A15,A56,A75,A76,SCMRING2:13;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A32,A78,A82;
end;
suppose da <> d;

then (( Cs3i1 . d ) = ( Cs3i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A15,A56,A75,A76,SCMRING2:13;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A36,A82;
end;
end;
then ( DataPart Cs3i1 ) c= ( DataPart ( Comput (P2,s2,( i + 1 )) ) ) by A30,GRFUNC_1:2;
hence thesis by A29,A31,GRFUNC_1:3;
end;
suppose ( InsCode I ) = 4;

then consider da being (Data-Location of R),db being (Data-Location of R) such that A83: I = ( MultBy (da,db) ) by SCMRING3:16;
A84: ( IncAddr (I,k) ) = ( MultBy (da,db) ) by A83,COMPOS_1:11;
A85: ( ( Exec (I,Cs1i) ) . ( IC ( SCM R ) ) ) = ( succ ( IC Cs1i ) ) by A83,SCMRING2:14;
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A11,A12,A41,A15,A20,A84,SCMRING2:14;
thus ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A11,A12,A21,A41,A15,A20,A84,A85,SCMRING2:14;
A86: (( Cs3i . da ) = ( Cs2i . da ) & ( Cs3i . db ) = ( Cs2i . db )) by A17;
now
DPp c= p by RELAT_1:59;
then A87: ( dom DPp ) c= ( dom p ) by GRFUNC_1:2;
let x being set;
assume that
A88: x in ( dom ( Cs1i1 | ( dom DPp ) ) );
( dom DPp ) c= ( Data-Locations ( SCM R ) ) by RELAT_1:58;
then reconsider d = x as (Data-Location of R) by A43,A88,SCMRING2:23;
per cases ;
suppose A89: da = d;

then (( Cs1i1 . d ) = ( ( Cs1i . da ) * ( Cs1i . db ) ) & ( Cs2i1 . d ) = ( ( Cs2i . da ) * ( Cs2i . db ) )) by A12,A41,A15,A83,A84,SCMRING2:14;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A2,A6,A9,A43,A53,A83,A86,A88,A87,A89,CKB14:1,A4;
end;
suppose da <> d;

then (( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A41,A15,A83,A84,SCMRING2:14;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A48,A88;
end;
end;
then ( Cs1i1 | ( dom DPp ) ) c= ( Cs2i1 | ( dom DPp ) ) by A46,GRFUNC_1:2;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A43,A45,GRFUNC_1:3;
now
let x being set;
assume A90: x in ( dom ( DataPart Cs3i1 ) );
then reconsider d = x as (Data-Location of R) by A29,SCMRING2:23;
per cases ;
suppose da = d;

then (( Cs2i1 . d ) = ( ( Cs2i . da ) * ( Cs2i . db ) ) & ( Cs3i1 . d ) = ( ( Cs3i . da ) * ( Cs3i . db ) )) by A12,A15,A56,A83,A84,SCMRING2:14;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A32,A86,A90;
end;
suppose da <> d;

then (( Cs3i1 . d ) = ( Cs3i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A15,A56,A83,A84,SCMRING2:14;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A36,A90;
end;
end;
then ( DataPart Cs3i1 ) c= ( DataPart ( Comput (P2,s2,( i + 1 )) ) ) by A30,GRFUNC_1:2;
hence thesis by A29,A31,GRFUNC_1:3;
end;
suppose ( InsCode I ) = 5;

then consider da being (Data-Location of R),r being (Element of R) such that A91: I = ( da := r ) by SCMRING3:17;
A92: ( IncAddr (I,k) ) = ( da := r ) by A91,COMPOS_1:11;
A93: ( ( Exec (I,Cs1i) ) . ( IC ( SCM R ) ) ) = ( succ ( IC Cs1i ) ) by A91,SCMRING2:17;
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A11,A12,A41,A15,A20,A92,SCMRING2:17;
thus ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A11,A12,A21,A41,A15,A20,A92,A93,SCMRING2:17;
now
let x being set;
assume A94: x in ( dom ( Cs1i1 | ( dom DPp ) ) );
( dom DPp ) c= ( Data-Locations ( SCM R ) ) by RELAT_1:58;
then reconsider d = x as (Data-Location of R) by A43,A94,SCMRING2:23;
per cases ;
suppose A95: da = d;

thus ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( Cs1i1 . d ) by A43,A94,FUNCT_1:49
.= r by A41,A91,A95,SCMRING2:17
.= ( Cs2i1 . d ) by A12,A15,A92,A95,SCMRING2:17
.= ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A94,FUNCT_1:49;
end;
suppose da <> d;

then (( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A41,A15,A91,A92,SCMRING2:17;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A48,A94;
end;
end;
then ( Cs1i1 | ( dom DPp ) ) c= ( Cs2i1 | ( dom DPp ) ) by A46,GRFUNC_1:2;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A43,A45,GRFUNC_1:3;
now
let x being set;
assume A96: x in ( dom ( DataPart Cs3i1 ) );
then reconsider d = x as (Data-Location of R) by A29,SCMRING2:23;
per cases ;
suppose da = d;

then (( Cs2i1 . d ) = r & ( Cs3i1 . d ) = r) by A12,A15,A56,A91,A92,SCMRING2:17;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A32,A96;
end;
suppose da <> d;

then (( Cs3i1 . d ) = ( Cs3i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A12,A15,A56,A91,A92,SCMRING2:17;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A36,A96;
end;
end;
then ( DataPart Cs3i1 ) c= ( DataPart ( Comput (P2,s2,( i + 1 )) ) ) by A30,GRFUNC_1:2;
hence thesis by A29,A31,GRFUNC_1:3;
end;
suppose ( InsCode I ) = 6;

then consider loc being (Element of ( NAT )) such that A97: I = ( goto (loc,R) ) by SCMRING3:18;
A98: ( CurInstr (P2,Cs2i) ) = ( goto (( loc + k ),R) ) by A12,A97,SCMRING3:37;
thus ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( loc + k ) by A41,A97,SCMRING2:15
.= ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A15,A98,SCMRING2:15;
hence ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) ) by A21;
now
let x being set;
assume that
A99: x in ( dom ( Cs1i1 | ( dom DPp ) ) );
( dom DPp ) c= ( Data-Locations ( SCM R ) ) by RELAT_1:58;
then reconsider d = x as (Data-Location of R) by A43,A99,SCMRING2:23;
(( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A41,A15,A97,A98,SCMRING2:15;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A48,A99;
end;
then ( Cs1i1 | ( dom DPp ) ) c= ( Cs2i1 | ( dom DPp ) ) by A46,GRFUNC_1:2;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A43,A45,GRFUNC_1:3;
now
let x being set;
assume A100: x in ( dom ( DataPart Cs3i1 ) );
then reconsider d = x as (Data-Location of R) by A29,SCMRING2:23;
(( Cs3i1 . d ) = ( Cs3i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A15,A56,A97,A98,SCMRING2:15;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A36,A100;
end;
then ( DataPart Cs3i1 ) c= ( DataPart ( Comput (P2,s2,( i + 1 )) ) ) by A30,GRFUNC_1:2;
hence thesis by A29,A31,GRFUNC_1:3;
end;
suppose ( InsCode I ) = 7;

then consider da being (Data-Location of R),loc being (Element of ( NAT )) such that A101: I = ( da =0_goto loc ) by SCMRING3:19;
A102:now
per cases ;
case ( Cs1i . da ) = ( 0. R );
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( loc + k ) by A41,A101,SCMRING2:16;
end;
case ( Cs1i . da ) <> ( 0. R );
hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( succ ( IC Cs2i ) ) by A11,A41,A20,A101,SCMRING2:16;
end;
end;
A103: ( CurInstr (P2,Cs2i) ) = ( da =0_goto ( loc + k ) ) by A12,A101,SCMRING3:38;
A104:now
per cases ;
case ( Cs2i . da ) = ( 0. R );
hence ( IC ( Comput (P2,s2,( i + 1 )) ) ) = ( loc + k ) by A15,A103,SCMRING2:16;
end;
case ( Cs2i . da ) <> ( 0. R );
hence ( IC ( Comput (P2,s2,( i + 1 )) ) ) = ( succ ( IC Cs2i ) ) by A15,A103,SCMRING2:16;
end;
end;
A105: ( Cs3i . da ) = ( Cs2i . da ) by A17;
now
per cases ;
suppose loc <> ( succ ( IC Cs1i ) );

hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A2,A6,A9,A101,A105,A102,A104,CKB15:1,A4;
end;
suppose loc = ( succ ( IC Cs1i ) );

hence ( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) by A11,A102,A104;
end;
end;
hence (( ( IC ( Comput (P1,s1,( i + 1 )) ) ) + k ) = ( IC ( Comput (P2,s2,( i + 1 )) ) ) & ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( i + 1 )) )) ),k) ) = ( CurInstr (P2,( Comput (P2,s2,( i + 1 )) )) )) by A21;
now
let x being set;
assume that
A106: x in ( dom ( Cs1i1 | ( dom DPp ) ) );
( dom DPp ) c= ( Data-Locations ( SCM R ) ) by RELAT_1:58;
then reconsider d = x as (Data-Location of R) by A43,A106,SCMRING2:23;
(( Cs1i1 . d ) = ( Cs1i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A41,A15,A101,A103,SCMRING2:16;
hence ( ( Cs1i1 | ( dom DPp ) ) . x ) = ( ( Cs2i1 | ( dom DPp ) ) . x ) by A43,A48,A106;
end;
then ( Cs1i1 | ( dom DPp ) ) c= ( Cs2i1 | ( dom DPp ) ) by A46,GRFUNC_1:2;
hence ( ( Comput (P1,s1,( i + 1 )) ) | ( dom ( DataPart p ) ) ) = ( ( Comput (P2,s2,( i + 1 )) ) | ( dom ( DataPart p ) ) ) by A43,A45,GRFUNC_1:3;
now
let x being set;
assume A107: x in ( dom ( DataPart Cs3i1 ) );
then reconsider d = x as (Data-Location of R) by A29,SCMRING2:23;
(( Cs3i1 . d ) = ( Cs3i . d ) & ( Cs2i1 . d ) = ( Cs2i . d )) by A15,A56,A101,A103,SCMRING2:16;
hence ( ( DataPart Cs3i1 ) . x ) = ( ( DataPart Cs2i1 ) . x ) by A36,A107;
end;
then ( DataPart Cs3i1 ) c= ( DataPart ( Comput (P2,s2,( i + 1 )) ) ) by A30,GRFUNC_1:2;
hence thesis by A29,A31,GRFUNC_1:3;
end;
end;
B127: ( DataPart p ) c= p by RELAT_1:59;
HH: ( DataPart ( IncIC (p,k) ) ) = ( DataPart p ) by MEMSTR_0:51;
Y2: ( DataPart p ) c= ( IncIC (p,k) ) by HH,MEMSTR_0:12;
A111: ( ( Comput (P1,s1,( 0 )) ) | ( dom ( DataPart p ) ) ) = ( s1 | ( dom ( DataPart p ) ) ) by EXTPRO_1:2
.= ( DataPart p ) by A2,B127,GRFUNC_1:23,XBOOLE_1:1
.= ( s2 | ( dom ( DataPart p ) ) ) by Y2,A3,GRFUNC_1:23,XBOOLE_1:1
.= ( ( Comput (P2,s2,( 0 )) ) | ( dom ( DataPart p ) ) ) by EXTPRO_1:2;
A112: ( DataPart ( Comput (P1,s,( 0 )) ) ) = ( DataPart ( s1 +* ( DataPart s2 ) ) ) by EXTPRO_1:2
.= ( DataPart s2 ) by PBOOLE:142
.= ( DataPart ( Comput (P2,s2,( 0 )) ) ) by EXTPRO_1:2;
B130: ( IC ( SCM R ) ) in ( dom ( IncIC (p,k) ) ) by MEMSTR_0:52;
A114: ( ( IC ( Comput (P1,s1,( 0 )) ) ) + k ) = ( ( IC s1 ) + k ) by EXTPRO_1:2
.= ( ( IC p ) + k ) by A2,B1,GRFUNC_1:2
.= ( ( IC p ) + k )
.= ( IC ( IncIC (p,k) ) ) by MEMSTR_0:53
.= ( IC s2 ) by A3,B130,GRFUNC_1:2
.= ( IC ( Comput (P2,s2,( 0 )) ) ) by EXTPRO_1:2;
B134: ( IC ( SCM R ) ) in ( dom ( IncIC (p,k) ) ) by MEMSTR_0:52;
A116: ( ( IC p ) + k ) in ( dom ( Reloc (q,k) ) ) by A8,COMPOS_1:46;
B117: ( P2 /. ( IC s2 ) ) = ( P2 . ( IC s2 ) ) by PBOOLE:143;
A118: ( CurInstr (P2,( Comput (P2,s2,( 0 )) )) ) = ( P2 . ( IC s2 ) ) by B117,EXTPRO_1:2
.= ( P2 . ( IC ( IncIC (p,k) ) ) ) by A3,B134,GRFUNC_1:2
.= ( P2 . ( ( IC p ) + k ) ) by MEMSTR_0:53
.= ( P2 . ( ( IC p ) + k ) )
.= ( ( Reloc (q,k) ) . ( ( IC p ) + k ) ) by A116,A4,GRFUNC_1:2;
A119: ( q . ( IC p ) ) = ( P1 . ( IC s1 ) ) by A7,A8,A4,GRFUNC_1:2;
A121: ( CurInstr (P1,s1) ) = ( q . ( IC p ) ) by A119,PBOOLE:143;
A122: ( IncAddr (( CurInstr (P1,( Comput (P1,s1,( 0 )) )) ),k) ) = ( IncAddr (( CurInstr (P1,s1) ),k) ) by EXTPRO_1:2
.= ( CurInstr (P2,( Comput (P2,s2,( 0 )) )) ) by A118,A8,A121,COMPOS_1:35;
A124: P[ (( 0 ) qua (Element of ( NAT ))) ] by A114,A122,A111,A112;
(for n holds P[ n ]) from NAT_1:sch 1(A124,A10);
hence thesis;
end;
