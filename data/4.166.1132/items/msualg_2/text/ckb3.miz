environ
vocabularies PBOOLE,RELAT_1,XBOOLE_0,FUNCT_1,SUBSET_1,CARD_3,TARSKI,STRUCT_0,MSUALG_1,UNIALG_2,FINSEQ_1,MARGREL1,PARTFUN1,FUNCT_2,ZFMISC_1,QC_LANG1,SETFAM_1,EQREL_1,BINOP_1,LATTICES,XXREAL_2,MSUALG_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,STRUCT_0,RELAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,SETFAM_1,FINSEQ_2,LATTICES,BINOP_1,CARD_3,PBOOLE,MSUALG_1;
definitions TARSKI,PBOOLE,LATTICES,XBOOLE_0;
theorems TARSKI,FUNCT_1,FINSEQ_1,PBOOLE,CARD_3,MSUALG_1,FUNCT_2,ZFMISC_1,SETFAM_1,BINOP_1,LATTICES,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,FUNCOP_1,PARTFUN1,FINSEQ_2;
schemes CLASSES1,BINOP_1,FUNCT_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PBOOLE,STRUCT_0,LATTICES,MSUALG_1,FINSEQ_1,FUNCT_2,PARTFUN1,RELSET_1,CKB1,CKB2;
constructors SETFAM_1,BINOP_1,CARD_3,LATTICES,MSUALG_1,RELSET_1;
requirements BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
theorem
Th2: (for I being non  empty set holds (for X,Y being (ManySortedSet of I) holds (for i being (Element of ( I * )) holds ( product ( ( X /\ Y ) * i ) ) = ( ( product ( X * i ) ) /\ ( product ( Y * i ) ) ))))
proof
let I being non  empty set;
let X being (ManySortedSet of I);
let Y being (ManySortedSet of I);
let i being (Element of ( I * ));
A1: ( rng i ) c= I by FINSEQ_1:def 4;
( dom X ) = I by PARTFUN1:def 2;
then A2: ( dom ( X * i ) ) = ( dom i ) by A1,RELAT_1:27;
( dom ( X /\ Y ) ) = I by PARTFUN1:def 2;
then A3: ( dom ( ( X /\ Y ) * i ) ) = ( dom i ) by A1,RELAT_1:27;
( dom Y ) = I by PARTFUN1:def 2;
then A4: ( dom ( Y * i ) ) = ( dom i ) by A1,RELAT_1:27;
thus ( product ( ( X /\ Y ) * i ) ) c= ( ( product ( X * i ) ) /\ ( product ( Y * i ) ) )
proof
let x;
assume x in ( product ( ( X /\ Y ) * i ) );
then consider g being Function such that A5: (x = g & ( dom g ) = ( dom ( ( X /\ Y ) * i ) )) and A6: (for y holds (y in ( dom ( ( X /\ Y ) * i ) ) implies ( g . y ) in ( ( ( X /\ Y ) * i ) . y ))) by CARD_3:def 5;
(for y holds (y in ( dom ( Y * i ) ) implies ( g . y ) in ( ( Y * i ) . y )))
proof
let y;
assume A7: y in ( dom ( Y * i ) );
then ( g . y ) in ( ( ( X /\ Y ) * i ) . y ) by A4,A3,A6;
then A8: ( g . y ) in ( ( X /\ Y ) . ( i . y ) ) by A4,A3,A7,FUNCT_1:12;
( i . y ) in ( rng i ) by A4,A7,FUNCT_1:def 3;
then ( g . y ) in ( ( X . ( i . y ) ) /\ ( Y . ( i . y ) ) ) by A1,A8,PBOOLE:def 5;
then ( g . y ) in ( Y . ( i . y ) ) by XBOOLE_0:def 4;
hence thesis by A7,FUNCT_1:12;
end;
then A9: x in ( product ( Y * i ) ) by A4,A3,A5,CARD_3:def 5;
(for y holds (y in ( dom ( X * i ) ) implies ( g . y ) in ( ( X * i ) . y )))
proof
let y;
assume A10: y in ( dom ( X * i ) );
then ( g . y ) in ( ( ( X /\ Y ) * i ) . y ) by A2,A3,A6;
then A11: ( g . y ) in ( ( X /\ Y ) . ( i . y ) ) by A2,A3,A10,FUNCT_1:12;
( i . y ) in ( rng i ) by A2,A10,FUNCT_1:def 3;
then ( g . y ) in ( ( X . ( i . y ) ) /\ ( Y . ( i . y ) ) ) by A1,A11,PBOOLE:def 5;
then ( g . y ) in ( X . ( i . y ) ) by XBOOLE_0:def 4;
hence thesis by A10,FUNCT_1:12;
end;
then x in ( product ( X * i ) ) by A2,A3,A5,CARD_3:def 5;
hence thesis by A9,XBOOLE_0:def 4;
end;

let x;
assume A12: x in ( ( product ( X * i ) ) /\ ( product ( Y * i ) ) );
then x in ( product ( X * i ) ) by XBOOLE_0:def 4;
then consider g being Function such that A13: x = g and A14: ( dom g ) = ( dom ( X * i ) ) and A15: (for y holds (y in ( dom ( X * i ) ) implies ( g . y ) in ( ( X * i ) . y ))) by CARD_3:def 5;
x in ( product ( Y * i ) ) by A12,XBOOLE_0:def 4;
then A16: (ex h being Function st ((x = h & ( dom h ) = ( dom ( Y * i ) )) & (for y holds (y in ( dom ( Y * i ) ) implies ( h . y ) in ( ( Y * i ) . y ))))) by CARD_3:def 5;
(for y holds (y in ( dom ( ( X /\ Y ) * i ) ) implies ( g . y ) in ( ( ( X /\ Y ) * i ) . y )))
proof
let y;
assume A17: y in ( dom ( ( X /\ Y ) * i ) );
then A18: ( i . y ) in ( rng i ) by A3,FUNCT_1:def 3;
( g . y ) in ( ( X * i ) . y ) by A2,A3,A15,A17;
then A19: ( g . y ) in ( X . ( i . y ) ) by A2,A3,A17,FUNCT_1:12;
( g . y ) in ( ( Y * i ) . y ) by A4,A3,A13,A16,A17;
then ( g . y ) in ( Y . ( i . y ) ) by A4,A3,A17,FUNCT_1:12;
then ( g . y ) in ( ( X . ( i . y ) ) /\ ( Y . ( i . y ) ) ) by A19,XBOOLE_0:def 4;
then ( g . y ) in ( ( X /\ Y ) . ( i . y ) ) by A1,A18,PBOOLE:def 5;
hence thesis by A17,FUNCT_1:12;
end;
hence thesis by A2,A3,A13,A14,CARD_3:def 5;
end;
