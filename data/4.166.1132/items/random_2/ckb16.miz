environ
vocabularies FUNCT_1,COMPLEX1,RELAT_1,ZFMISC_1,XXREAL_0,PARTFUN1,ARYTM_1,XBOOLE_0,ORDINAL4,INT_1,SQUARE_1,ARYTM_3,RLVECT_1,SUPINF_2,RSSPACE,FUNCOP_1,FINSOP_1,NAT_1,FUNCT_4,BINOP_2,PROB_1,MEASURE6,MESFUNC1,TARSKI,MESFUNC5,IDEAL_1,SUBSET_1,RANDOM_1,RANDOM_2,C0SP1,FINSET_1,FINSEQ_1,ORDINAL2,RPR_1,CARD_1,SEQ_2,POWER,FUNCT_3,PROB_4,UPROOTS,FINSEQ_2,CARD_3,FUNCT_2,RFINSEQ,XREAL_0,FUNCSDOM,POLYALG1,BHSP_5,NUMBERS,REAL_1,INTEGRA5,VALUED_1,ORDINAL1,EQREL_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_4,FUNCOP_1,FINSEQ_1,ORDINAL1,REAL_1,NAT_1,CARD_1,FINSET_1,NUMBERS,XREAL_0,XXREAL_0,NAT_D,COMPLEX1,VALUED_1,RFINSEQ,FINSOP_1,STRUCT_0,ALGSTR_0,IDEAL_1,VECTSP_1,BINOP_1,BINOP_2,RLVECT_1,FUNCSDOM,SUPINF_2,SEQ_1,SEQ_2,SQUARE_1,GROUP_1,POWER,PROB_1,PROB_4,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC5,MESFUNC6,MESFUNC2,RVSUM_1,UPROOTS,MESFUN6C,C0SP1,RANDOM_1,BHSP_5,CKB9;
definitions TARSKI,BINOP_1,STRUCT_0,ALGSTR_0,RLVECT_1,MEASURE6,MESFUNC5,FINSEQ_2,FINSEQ_1,PROB_4,FUNCSDOM,VALUED_1,BHSP_5,RVSUM_1,SQUARE_1,CKB9;
theorems FUNCT_1,FUNCT_2,PARTFUN1,COMPLEX1,XBOOLE_0,TARSKI,RELAT_1,VALUED_1,IDEAL_1,ZFMISC_1,RLVECT_1,FUNCOP_1,XBOOLE_1,MESFUNC2,EXTREAL1,MEASURE1,MESFUNC6,PROB_1,XXREAL_0,ABSVALUE,MESFUNC7,RELSET_1,XXREAL_3,XREAL_0,RANDOM_1,C0SP1,FINSEQ_4,POWER,BINOP_2,RFINSEQ,CARD_2,FINSEQ_1,FUNCT_4,FINSOP_1,NAT_1,NAT_2,NAT_D,INT_3,XREAL_1,SQUARE_1,FINSEQ_2,INT_1,FUNCT_3,CARD_1,FINSEQ_3,FINSEQ_5,UPROOTS,MESFUN6C,FUNCSDOM,BHSP_5,RVSUM_1,FIB_NUM3,SUBSET,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15;
schemes FINSEQ_1,FUNCT_2,NAT_1,FUNCT_3;
registrations XBOOLE_0,ORDINAL1,NUMBERS,XREAL_0,MEMBERED,VALUED_0,NAT_1,SUBSET_1,XCMPLX_0,RLVECT_1,XXREAL_0,MEASURE1,FINSEQ_1,RELAT_1,XXREAL_3,C0SP1,FUNCT_2,CARD_1,FINSET_1,BINOP_2,FUNCT_1,UPROOTS,MESFUN6C,FUNCSDOM,BHSP_5,RELSET_1,CKB3,CKB4;
constructors EXTREAL1,REAL_1,IDEAL_1,MEASURE6,MESFUNC2,MESFUNC5,SEQ_2,MESFUNC6,SEQ_1,SUPINF_1,REALSET1,RVSUM_1,MESFUNC1,RELSET_1,RANDOM_1,C0SP1,RFINSEQ,POWER,FINSOP_1,BINARITH,FINSEQOP,SEQ_4,CONVFUN1,SEQFUNC,SETWISEO,FINSEQ_4,PARTFUN3,PROB_4,WELLORD2,SQUARE_1,NAT_D,UPROOTS,MESFUN6C,BHSP_5,CKB9;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
theorem
Lm5: (for DK,DX being non empty set holds (for F being (Function of DX,DK) holds (for p,q being (FinSequence of DX) holds (for fp,fq being (FinSequence of DK) holds ((fp = ( F * p ) & fq = ( F * q )) implies ( F * ( p ^ q ) ) = ( fp ^ fq ))))))
proof
let DK being non empty set,DX being non empty set;
let F being (Function of DX,DK);
let p being (FinSequence of DX),q being (FinSequence of DX);
let fp being (FinSequence of DK),fq being (FinSequence of DK);
assume A1: (fp = ( F * p ) & fq = ( F * q ));
then A2: (( dom fp ) = ( dom p ) & ( dom fq ) = ( dom q )) by FINSEQ_3:120;
A3: (( len fp ) = ( len p ) & ( len fq ) = ( len q )) by A1,FINSEQ_3:120;
then A4: ( dom ( fp ^ fq ) ) = ( Seg ( ( len p ) + ( len q ) ) ) by FINSEQ_1:def 7;
A5: ( dom ( F * ( p ^ q ) ) ) = ( dom ( p ^ q ) ) by FINSEQ_3:120
.= ( Seg ( ( len p ) + ( len q ) ) ) by FINSEQ_1:def 7;
(for x being set holds (x in ( dom ( F * ( p ^ q ) ) ) implies ( ( fp ^ fq ) . x ) = ( ( F * ( p ^ q ) ) . x )))
proof
let x being set;
assume A6: x in ( dom ( F * ( p ^ q ) ) );
then reconsider n = x as (Element of ( NAT ));
A7: (1 <= n & n <= ( ( len p ) + ( len q ) )) by A6,A5,FINSEQ_1:1;
A8: ( ( F * ( p ^ q ) ) . n ) = ( F . ( ( p ^ q ) . n ) ) by A6,FINSEQ_3:120;
per cases ;
suppose n <= ( len p );

then n in ( Seg ( len p ) ) by A7;
then A9: n in ( dom p ) by FINSEQ_1:def 3;
hence ( ( F * ( p ^ q ) ) . x ) = ( F . ( p . n ) ) by A8,FINSEQ_1:def 7
.= ( fp . n ) by A1,A9,A2,FINSEQ_3:120
.= ( ( fp ^ fq ) . x ) by A9,A2,FINSEQ_1:def 7;
end;
suppose A10: (not n <= ( len p ));

then (( len p ) < n & n <= ( len ( p ^ q ) )) by A7,FINSEQ_1:22;
then A11: ( ( p ^ q ) . n ) = ( q . ( n - ( len p ) ) ) by FINSEQ_1:24;
A12: ( n - ( len p ) ) <= ( ( ( len p ) + ( len q ) ) - ( len p ) ) by A7,XREAL_1:9;
A13: ( ( len p ) - ( len p ) ) < ( n - ( len p ) ) by A10,XREAL_1:9;
then A14: ( n - ( len p ) ) is (Element of ( NAT )) by INT_1:3;
then 1 <= ( n - ( len p ) ) by A13,NAT_1:14;
then ( n - ( len p ) ) in ( Seg ( len q ) ) by A12,A14;
then A15: ( n - ( len p ) ) in ( dom q ) by FINSEQ_1:def 3;
A16: (( len fp ) < n & n <= ( len ( fp ^ fq ) )) by A3,A10,A7,FINSEQ_1:22;
thus ( ( F * ( p ^ q ) ) . x ) = ( fq . ( n - ( len p ) ) ) by A1,A15,A2,A11,A8,FINSEQ_3:120
.= ( ( fp ^ fq ) . x ) by A16,A3,FINSEQ_1:24;
end;
end;
hence thesis by A4,A5,FUNCT_1:2;
end;
