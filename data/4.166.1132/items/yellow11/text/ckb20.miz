environ
vocabularies NUMBERS,CARD_1,XBOOLE_0,TARSKI,RELAT_2,LATTICE3,ORDERS_2,SUBSET_1,LATTICES,EQREL_1,XXREAL_0,WAYBEL_0,YELLOW_1,STRUCT_0,CAT_1,LATTICE5,WELLORD1,FUNCT_1,SEQM_3,YELLOW_0,RELAT_1,ORDINAL2,MEASURE5,FINSET_1,ORDERS_1,REWRITE1,YELLOW11;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,FUNCT_1,RELSET_1,FUNCT_2,NUMBERS,ORDERS_1,DOMAIN_1,FINSET_1,STRUCT_0,ORDERS_2,LATTICE3,ORDERS_3,YELLOW_0,YELLOW_1,WAYBEL_1,LATTICE5,WAYBEL_0,CKB10,CKB13,CKB18;
definitions TARSKI,YELLOW_0,WAYBEL_1,FUNCT_1,WAYBEL_0,LATTICE3,XBOOLE_0,CKB10,CKB13,CKB18;
theorems WAYBEL_1,YELLOW_0,YELLOW_3,YELLOW_5,LATTICE3,TARSKI,FUNCT_2,WAYBEL_0,ZFMISC_1,FUNCT_1,ORDERS_2,YELLOW_1,ENUMSET1,CARD_1,FINSET_1,XBOOLE_0,XBOOLE_1,NAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB13,CKB16,CKB17,CKB18;
schemes FUNCT_2,FINSET_1,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELSET_1,STRUCT_0,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,ORDINAL1,CKB11,CKB12,CKB14,CKB15,CKB19;
constructors DOMAIN_1,XXREAL_0,LATTICE3,ORDERS_3,WAYBEL_1,RELSET_1,CKB10,CKB13,CKB18;
requirements NUMERALS,REAL,SUBSET,BOOLE;
begin
theorem
Lm2: (for L being LATTICE holds (L is  modular iff (not (ex a,b,c,d,e being (Element of L) st ((((((((((((((((((a <> b & a <> c) & a <> d) & a <> e) & b <> c) & b <> d) & b <> e) & c <> d) & c <> e) & d <> e) & ( a "/\" b ) = a) & ( a "/\" c ) = a) & ( c "/\" e ) = c) & ( d "/\" e ) = d) & ( b "/\" c ) = a) & ( b "/\" d ) = b) & ( c "/\" d ) = a) & ( b "\/" c ) = e) & ( c "\/" d ) = e)))))
proof
let L being LATTICE;
now
given a being (Element of L),b being (Element of L),c being (Element of L),d being (Element of L),e being (Element of L) such that
a <> b
and
a <> c
and
a <> d
and
a <> e
and
b <> c
and
A1: b <> d
and
b <> e
and
c <> d
and
c <> e
and
d <> e
and
A2: ( a "/\" b ) = a
and
( a "/\" c ) = a
and
( c "/\" e ) = c
and
A3: ( d "/\" e ) = d
and
( b "/\" c ) = a
and
A4: ( b "/\" d ) = b
and
A5: ( c "/\" d ) = a
and
A6: ( b "\/" c ) = e
and
( c "\/" d ) = e;

A7: b <= d by A4,YELLOW_0:23;
( b "\/" ( c "/\" d ) ) = b by A2,A5,CKB6:1;
hence (not L is  modular) by A1,A3,A6,A7,CKB18:def 1;
end;
hence (L is  modular implies (not (ex a,b,c,d,e being (Element of L) st ((((((((((((((((((a <> b & a <> c) & a <> d) & a <> e) & b <> c) & b <> d) & b <> e) & c <> d) & c <> e) & d <> e) & ( a "/\" b ) = a) & ( a "/\" c ) = a) & ( c "/\" e ) = c) & ( d "/\" e ) = d) & ( b "/\" c ) = a) & ( b "/\" d ) = b) & ( c "/\" d ) = a) & ( b "\/" c ) = e) & ( c "\/" d ) = e))));
now
assume (not L is  modular);
then consider x being (Element of L),y being (Element of L),z being (Element of L) such that A8: x <= z and A9: ( x "\/" ( y "/\" z ) ) <> ( ( x "\/" y ) "/\" z ) by CKB18:def 1;
( x "\/" ( y "/\" z ) ) <= ( z "\/" ( y "/\" z ) ) by A8,YELLOW_5:7;
then A10: ( x "\/" ( y "/\" z ) ) <= z by LATTICE3:17;
set z1 = ( ( x "\/" y ) "/\" z );
set y1 = y;
( x "\/" y ) <= ( x "\/" y );
then ( ( x "\/" y ) "/\" x ) <= ( ( x "\/" y ) "/\" z ) by A8,YELLOW_3:2;
then x <= ( ( x "\/" y ) "/\" z ) by LATTICE3:18;
then A11: ( x "\/" y ) <= ( z1 "\/" y1 ) by YELLOW_5:7;
set x1 = ( x "\/" ( y "/\" z ) );
A12: ( y "/\" z ) <= y1 by YELLOW_0:23;
y <= y;
then A13: ( x1 "/\" y1 ) <= ( y "/\" z ) by A10,YELLOW_3:2;
set t = ( x "\/" y );
set b = ( y "/\" z );
A14:now
assume A15: b = t;
then ( ( x "\/" y ) "/\" z ) = ( y "/\" ( z "/\" z ) ) by LATTICE3:16
.= ( x "\/" y ) by A15,YELLOW_5:2
.= ( ( x "\/" x ) "\/" y ) by YELLOW_5:1
.= ( x "\/" ( y "/\" z ) ) by A15,LATTICE3:14;
hence contradiction by A9;
end;
( y "/\" z ) <= x1 by YELLOW_0:22;
then ( ( y "/\" z ) "/\" ( y "/\" z ) ) <= ( x1 "/\" y1 ) by A12,YELLOW_3:2;
then A16: ( y "/\" z ) <= ( x1 "/\" y1 ) by YELLOW_5:2;
A17: z1 <= ( x "\/" y ) by YELLOW_0:23;
thus (ex a,b,c,d,e being (Element of L) st ((((((((((((((((((a <> b & a <> c) & a <> d) & a <> e) & b <> c) & b <> d) & b <> e) & c <> d) & c <> e) & d <> e) & ( a "/\" b ) = a) & ( a "/\" c ) = a) & ( c "/\" e ) = c) & ( d "/\" e ) = d) & ( b "/\" c ) = a) & ( b "/\" d ) = b) & ( c "/\" d ) = a) & ( b "\/" c ) = e) & ( c "\/" d ) = e))
proof
reconsider b,x1,y1,z1,t as (Element of L);
take b;
take x1;
take y1;
take z1;
take t;
A18: y1 <= ( x "\/" y ) by YELLOW_0:22;
now
A19: ( y "/\" z ) <= y by YELLOW_0:23;
assume A20: b = x1;
then x <= ( y "/\" z ) by YELLOW_0:22;
then x <= y by A19,YELLOW_0:def 2;
hence contradiction by A9,A20,YELLOW_5:8;
end;
hence b <> x1;
now
assume A21: b = y1;
then y <= z by YELLOW_0:23;
hence contradiction by A8,A9,A21,YELLOW_5:9,YELLOW_5:10;
end;
hence b <> y1;
now
assume b = z1;
then A22: ( ( x "\/" y ) "/\" z ) <= ( x "\/" ( y "/\" z ) ) by YELLOW_0:22;
( x "\/" ( y "/\" z ) ) <= ( ( x "\/" y ) "/\" z ) by A8,CKB9:1;
hence contradiction by A9,A22,YELLOW_0:def 3;
end;
hence b <> z1;
thus b <> t by A14;
now
A23: ( x1 "\/" y1 ) = ( x "\/" ( ( y "/\" z ) "\/" y ) ) by LATTICE3:14
.= t by LATTICE3:17;
assume A24: x1 = y1;
then A25: ( x1 "\/" y1 ) = x1 by YELLOW_5:1;
( x1 "/\" y1 ) = x1 by A24,YELLOW_5:2;
hence contradiction by A16,A13,A14,A25,A23,YELLOW_0:def 3;
end;
hence x1 <> y1;
thus x1 <> z1 by A9;
now
assume t = x1;
then A26: ( ( x "\/" y ) "/\" z ) <= ( x "\/" ( y "/\" z ) ) by YELLOW_0:23;
( x "\/" ( y "/\" z ) ) <= ( ( x "\/" y ) "/\" z ) by A8,CKB9:1;
hence contradiction by A9,A26,YELLOW_0:def 3;
end;
hence x1 <> t;
now
A27: ( y1 "/\" z1 ) = ( ( ( x "\/" y ) "/\" y ) "/\" z ) by LATTICE3:16
.= b by LATTICE3:18;
assume A28: y1 = z1;
then A29: ( z1 "\/" y1 ) = z1 by YELLOW_5:1;
( z1 "/\" y1 ) = z1 by A28,YELLOW_5:2;
hence contradiction by A14,A17,A11,A29,A27,YELLOW_0:def 3;
end;
hence y1 <> z1;
now
assume A30: y1 = t;
then x <= y by YELLOW_0:22;
then ( x "/\" x ) <= ( y "/\" z ) by A8,YELLOW_3:2;
then x <= ( y "/\" z ) by YELLOW_5:2;
hence contradiction by A9,A30,YELLOW_5:8;
end;
hence y1 <> t;
now
A31: y <= ( x "\/" y ) by YELLOW_0:22;
assume A32: z1 = t;
then ( x "\/" y ) <= z by YELLOW_0:23;
then y <= z by A31,YELLOW_0:def 2;
hence contradiction by A9,A32,YELLOW_5:10;
end;
hence z1 <> t;
b <= x1 by YELLOW_0:22;
hence ( b "/\" x1 ) = b by YELLOW_5:10;
b <= y1 by YELLOW_0:23;
hence ( b "/\" y1 ) = b by YELLOW_5:10;
y1 <= t by YELLOW_0:22;
hence ( y1 "/\" t ) = y1 by YELLOW_5:10;
z1 <= t by YELLOW_0:23;
hence ( z1 "/\" t ) = z1 by YELLOW_5:10;
thus ( x1 "/\" y1 ) = b by A16,A13,YELLOW_0:def 3;
thus ( x1 "/\" z1 ) = x1 by A8,CKB9:1,YELLOW_5:10;
thus ( y1 "/\" z1 ) = ( ( y "/\" ( x "\/" y ) ) "/\" z ) by LATTICE3:16
.= b by LATTICE3:18;
thus ( x1 "\/" y1 ) = ( x "\/" ( ( y "/\" z ) "\/" y ) ) by LATTICE3:14
.= t by LATTICE3:17;
( x "\/" y ) <= ( x "\/" y );
then ( ( x "\/" y ) "/\" x ) <= ( ( x "\/" y ) "/\" z ) by A8,YELLOW_3:2;
then x <= ( ( x "\/" y ) "/\" z ) by LATTICE3:18;
then A33: ( x "\/" y ) <= ( z1 "\/" y1 ) by YELLOW_5:7;
z1 <= ( x "\/" y ) by YELLOW_0:23;
then ( y1 "\/" z1 ) <= ( x "\/" y ) by A18,YELLOW_5:9;
hence thesis by A33,YELLOW_0:def 3;
end;

end;
hence thesis;
end;
