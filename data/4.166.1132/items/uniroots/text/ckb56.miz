environ
vocabularies NUMBERS,SUBSET_1,XBOOLE_0,XXREAL_0,CARD_1,ARYTM_3,NAT_1,FINSEQ_1,RELAT_1,FUNCT_1,TARSKI,COMPLFLD,COMPLEX1,PARTFUN1,CARD_3,STRUCT_0,REAL_1,ORDINAL4,FINSET_1,UPROOTS,ARYTM_1,POLYNOM2,AFINSQ_1,GROUP_1,INT_1,HAHNBAN1,SQUARE_1,POWER,SIN_COS,BINOP_1,ALGSTR_0,FINSEQ_2,MOD_2,VECTSP_1,VECTSP_2,REALSET1,ZFMISC_1,SUPINF_2,COMPTRIG,RAT_1,PREPOWER,XREAL_0,ORDINAL1,NEWTON,XCMPLX_0,INT_2,BINOP_2,GROUP_2,POLYNOM1,POLYNOM3,FUNCT_4,ALGSEQ_1,VALUED_0,POLYNOM5,SGRAPH1,PRE_POLY,GRAPH_2,MESFUNC1,UNIROOTS;
notations TARSKI,XBOOLE_0,SUBSET_1,REALSET1,CARD_1,NUMBERS,XREAL_0,ZFMISC_1,XXREAL_0,COMPLEX1,REAL_1,SQUARE_1,INT_1,INT_2,NAT_1,NAT_D,PREPOWER,POWER,BINOP_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,RAT_1,DOMAIN_1,FINSET_1,BINOP_2,STRUCT_0,ALGSTR_0,VECTSP_2,VECTSP_1,GROUP_4,RVSUM_1,ALGSEQ_1,COMPLFLD,HAHNBAN1,POLYNOM3,POLYNOM4,POLYNOM5,COMPTRIG,GROUP_2,NEWTON,GROUP_1,MOD_2,GRAPH_2,ORDINAL1,PRE_POLY,FVSUM_1,UPROOTS,SIN_COS,FUNCT_7,FINSEQ_2,CKB21,CKB29,CKB48,CKB50;
definitions TARSKI,GROUP_1,XBOOLE_0,BINOP_1,REALSET1,SQUARE_1,HAHNBAN1,POLYNOM3,FINSEQ_2,COMPLEX1,GROUP_4,ALGSTR_0,STRUCT_0,CKB21,CKB29,CKB48,CKB50;
theorems GROUP_1,CARD_1,FINSEQ_1,ZFMISC_1,NAT_1,FUNCT_1,FUNCT_2,RELAT_1,TARSKI,XBOOLE_0,XBOOLE_1,VECTSP_1,PREPOWER,COMPTRIG,COMPLFLD,BINOP_1,XCMPLX_1,COMPLEX1,HAHNBAN1,SIN_COS,POWER,SIN_COS2,POLYNOM5,INT_1,COMPLEX2,XCMPLX_0,XREAL_0,SQUARE_1,RVSUM_1,FVSUM_1,FINSEQ_3,FINSEQ_2,FINSEQ_4,POLYNOM4,INT_2,WSIERP_1,NAT_2,PEPIN,POLYNOM3,COMPUT_1,NORMSP_1,FUNCT_7,ALGSEQ_1,RLVECT_1,NEWTON,POLYNOM2,MATRIX_3,VECTSP_2,MOD_2,CARD_2,GRAPH_2,FINSEQ_5,UPROOTS,GROUP_2,BINOP_2,XREAL_1,XXREAL_0,GROUP_4,FUNCOP_1,ORDINAL1,FINSOP_1,NAT_D,PARTFUN1,PRE_POLY,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB21,CKB22,CKB23,CKB24,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54;
schemes NAT_1,FUNCT_2,FINSEQ_1,INT_1,RECDEF_1,CKB2;
registrations RELAT_1,FUNCT_1,FINSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,INT_1,BINOP_2,CARD_1,MEMBERED,FINSEQ_1,FINSEQ_2,REALSET1,WSIERP_1,STRUCT_0,GROUP_1,VECTSP_1,COMPLFLD,QUOFIELD,POLYNOM3,POLYNOM5,VALUED_0,ALGSTR_0,POWER,UPROOTS,FUNCT_2,RELSET_1,PRE_POLY,XBOOLE_0,ZFMISC_1,CKB19,CKB20,CKB25,CKB37,CKB38,CKB55;
constructors WELLORD2,BINOP_1,REAL_1,SQUARE_1,NAT_D,FINSEQOP,FINSOP_1,RVSUM_1,PREPOWER,POWER,REALSET1,SIN_COS,GROUP_4,MOD_2,MATRIX_2,HAHNBAN1,GRAPH_2,POLYNOM4,POLYNOM5,UPROOTS,SEQ_1,RECDEF_1,BINOP_2,RELSET_1,PBOOLE,FUNCT_7,POLYNOM1,NEWTON,FVSUM_1,CKB21,CKB29,CKB48,CKB50;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
theorem
Th45: (for n being non empty (Element of ( NAT )) holds (for x being (Element of ( F_Complex )) holds ( eval (( unital_poly (( F_Complex ),n) ),x) ) = ( ( ( power ( F_Complex ) ) . (x,n) ) - 1 )))
proof
( 1 - 1 ) = ( 0 );
then A1: ( 1 -' 1 ) = ( 0 ) by XREAL_1:233;
reconsider z2 = ( 1_ ( F_Complex ) ) as (Element of ( COMPLEX )) by COMPLFLD:def 1;
let n being non empty (Element of ( NAT ));
let x being (Element of ( F_Complex ));
set p = ( unital_poly (( F_Complex ),n) );
consider F being (FinSequence of ( F_Complex )) such that A2: ( eval (p,x) ) = ( Sum F ) and A3: ( len F ) = ( len p ) and A4: (for i being (Element of ( NAT )) holds (i in ( dom F ) implies ( F . i ) = ( ( p . ( i -' 1 ) ) * ( ( power ( F_Complex ) ) . (x,( i -' 1 )) ) ))) by POLYNOM4:def 2;
A5: ( ( 0 ) + 1 ) < ( n + 1 ) by XREAL_1:8;
then A6: 1 < ( len F ) by A3,CKB54:1;
A7: ( len F ) = ( n + 1 ) by A3,CKB54:1;
then ( ( len F ) - 1 ) = n;
then A8: ( ( len F ) -' 1 ) = n by A5,XREAL_1:233;
( ( ( len F ) - 1 ) + 1 ) = ( len F );
then A9: ( ( ( len F ) -' 1 ) + 1 ) = ( len F ) by A6,XREAL_1:233;
A10: ( p . ( 0 ) ) = ( - ( 1_ ( F_Complex ) ) ) by CKB52:1;
set xn = ( ( power ( F_Complex ) ) . (x,n) );
set null = ( ( ( len F ) -' 1 ) |-> ( 0. ( F_Complex ) ) );
A11: ( len null ) = ( ( len F ) -' 1 ) by CARD_1:def 7;
set tR2 = ( null ^ <* xn *> );
set tR1 = ( <* ( - ( 1_ ( F_Complex ) ) ) *> ^ null );
A12: ( dom F ) = ( Seg ( len F ) ) by FINSEQ_1:def 3;
reconsider R1 = tR1 as (Tuple of ( len F ),(the carrier of ( F_Complex ))) by A9;
reconsider R1 as (Element of ( ( len F ) -tuples_on (the carrier of ( F_Complex )) )) by FINSEQ_2:131;
reconsider R2 = tR2 as (Tuple of ( len F ),(the carrier of ( F_Complex ))) by A9;
reconsider R2 as (Element of ( ( len F ) -tuples_on (the carrier of ( F_Complex )) )) by FINSEQ_2:131;
A13: (for i being (Element of ( NAT )) holds (i in ( dom null ) implies ( null . i ) = ( 0. ( F_Complex ) )))
proof
let i being (Element of ( NAT ));
assume i in ( dom null );
then i in ( Seg ( ( len F ) -' 1 ) ) by FUNCOP_1:13;
hence thesis by FUNCOP_1:7;
end;
A14: (for i being Nat holds ((i <> 1 & i in ( dom R1 )) implies ( R1 . i ) = ( 0. ( F_Complex ) )))
proof
let i being Nat;
assume that
A15: i <> 1
and
A16: i in ( dom R1 );
A17: ( dom <* ( - ( 1_ ( F_Complex ) ) ) *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
now
assume i in ( dom <* ( - ( 1_ ( F_Complex ) ) ) *> );
then (1 <= i & i <= 1) by A17,FINSEQ_1:1;
hence contradiction by A15,XXREAL_0:1;
end;
then consider j being Nat such that A18: j in ( dom null ) and A19: i = ( ( len <* ( - ( 1_ ( F_Complex ) ) ) *> ) + j ) by A16,FINSEQ_1:25;
( null . j ) = ( 0. ( F_Complex ) ) by A13,A18;
hence thesis by A18,A19,FINSEQ_1:def 7;
end;
( len tR2 ) = ( ( len null ) + ( len <* xn *> ) ) by FINSEQ_1:22;
then A20: ( len tR2 ) = ( len F ) by A11,A9,FINSEQ_1:39;
A21: (for i being (Element of ( NAT )) holds ((i in ( dom R2 ) & i <> ( len F )) implies ( R2 . i ) = ( 0. ( F_Complex ) )))
proof
let i being (Element of ( NAT ));
assume that
A22: i in ( dom R2 )
and
A23: i <> ( len F );
A24: ( dom R2 ) = ( Seg ( len F ) ) by A20,FINSEQ_1:def 3;
then i <= ( len F ) by A22,FINSEQ_1:1;
then i < ( ( ( len F ) -' 1 ) + 1 ) by A9,A23,XXREAL_0:1;
then A25: i <= ( ( len F ) -' 1 ) by NAT_1:13;
1 <= i by A22,A24,FINSEQ_1:1;
then i in ( Seg ( ( len F ) -' 1 ) ) by A25,FINSEQ_1:1;
then A26: i in ( dom null ) by A11,FINSEQ_1:def 3;
then ( R2 . i ) = ( null . i ) by FINSEQ_1:def 7;
hence thesis by A13,A26;
end;
( len R1 ) = ( len F ) by CARD_1:def 7;
then A27: ( dom R1 ) = ( Seg ( len F ) ) by FINSEQ_1:def 3;
( len R2 ) = ( len F ) by CARD_1:def 7;
then A28: ( dom R2 ) = ( Seg ( len F ) ) by FINSEQ_1:def 3;
A29: ( R1 . 1 ) = ( - ( 1_ ( F_Complex ) ) ) by FINSEQ_1:41;
A30: ( len ( R1 + R2 ) ) = ( len F ) by CARD_1:def 7;
then A31: ( dom ( R1 + R2 ) ) = ( Seg ( len F ) ) by FINSEQ_1:def 3;
A32: ( R2 . ( len F ) ) = ( ( power ( F_Complex ) ) . (x,n) ) by A11,A9,FINSEQ_1:42;
(for k being Nat holds (k in ( dom ( R1 + R2 ) ) implies ( ( R1 + R2 ) . k ) = ( F . k )))
proof
let k being Nat;
assume that
A33: k in ( dom ( R1 + R2 ) );
A34: k in ( Seg ( len F ) ) by A30,A33,FINSEQ_1:def 3;
A35: k in ( dom F ) by A31,A33,FINSEQ_1:def 3;
A36: 1 <= k by A31,A33,FINSEQ_1:1;
A37: ( ( - ( 1_ ( F_Complex ) ) ) * ( 1_ ( F_Complex ) ) ) = ( - ( 1_ ( F_Complex ) ) ) by COMPLFLD:8;
now
per cases ;
suppose A38: k = 1;

then ( R2 . k ) = ( 0. ( F_Complex ) ) by A6,A21,A28,A34;
then A39: ( ( R1 + R2 ) . 1 ) = ( ( - ( 1_ ( F_Complex ) ) ) + ( 0. ( F_Complex ) ) ) by A29,A33,A38,FVSUM_1:17;
( F . 1 ) = ( ( p . ( 0 ) ) * ( ( power ( F_Complex ) ) . (x,( 0 )) ) ) by A4,A1,A35,A38
.= ( - ( 1_ ( F_Complex ) ) ) by A10,A37,GROUP_1:def 7;
hence thesis by A38,A39,COMPLFLD:7;
end;
suppose A40: k <> 1;

now
per cases ;
suppose A41: k = ( len F );

( len F ) <> ( 0 ) by A3,A5,CKB54:1;
then A42: ( F . ( len F ) ) = ( ( p . ( ( len F ) -' 1 ) ) * ( ( power ( F_Complex ) ) . (x,( ( len F ) -' 1 )) ) ) by A4,A12,FINSEQ_1:3
.= ( ( 1_ ( F_Complex ) ) * ( ( power ( F_Complex ) ) . (x,n) ) ) by A8,CKB52:1
.= ( ( power ( F_Complex ) ) . (x,n) ) by VECTSP_1:def 8;
( R1 . ( len F ) ) = ( 0. ( F_Complex ) ) by A6,A14,A27,A34,A41;
then ( ( R1 + R2 ) . ( len F ) ) = ( ( 0. ( F_Complex ) ) + ( ( power ( F_Complex ) ) . (x,n) ) ) by A32,A33,A41,FVSUM_1:17
.= ( ( power ( F_Complex ) ) . (x,n) ) by COMPLFLD:7;
hence thesis by A41,A42;
end;
suppose A43: k <> ( len F );

A44:now
assume ( k -' 1 ) = n;
then ( k - 1 ) = n by A36,XREAL_1:233;
hence contradiction by A7,A43;
end;
1 < k by A36,A40,XXREAL_0:1;
then ( 1 + ( - 1 ) ) < ( k + ( - 1 ) ) by XREAL_1:8;
then ( 1 - 1 ) < ( k - 1 );
then ( 0 ) < ( k -' 1 ) by A36,XREAL_1:233;
then ( p . ( k -' 1 ) ) = ( 0. ( F_Complex ) ) by A44,CKB53:1;
then A45: ( F . k ) = ( ( 0. ( F_Complex ) ) * ( ( power ( F_Complex ) ) . (x,( k -' 1 )) ) ) by A4,A35;
A46: ( R2 . k ) = ( 0. ( F_Complex ) ) by A21,A28,A34,A43;
( R1 . k ) = ( 0. ( F_Complex ) ) by A14,A27,A34,A40;
then ( ( R1 + R2 ) . k ) = ( ( 0. ( F_Complex ) ) + ( 0. ( F_Complex ) ) ) by A33,A46,FVSUM_1:17;
hence thesis by A45,COMPLFLD:7;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
then A47: ( R1 + R2 ) = F by A12,A31,FINSEQ_1:13;
( Sum null ) = ( 0. ( F_Complex ) ) by MATRIX_3:11;
then (( Sum R1 ) = ( ( - ( 1_ ( F_Complex ) ) ) + ( 0. ( F_Complex ) ) ) & ( Sum R2 ) = ( ( 0. ( F_Complex ) ) + xn )) by FVSUM_1:71,FVSUM_1:72;
then (( - z2 ) = ( - ( 1_ ( F_Complex ) ) ) & ( Sum F ) = ( ( - ( 1_ ( F_Complex ) ) ) + ( ( power ( F_Complex ) ) . (x,n) ) )) by A47,COMPLFLD:2,COMPLFLD:7,FVSUM_1:76;
hence thesis by A2,COMPLFLD:8;
end;
