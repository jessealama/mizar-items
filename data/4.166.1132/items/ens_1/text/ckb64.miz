environ
vocabularies XBOOLE_0,SUBSET_1,FUNCT_2,TARSKI,FUNCT_1,RELAT_1,ZFMISC_1,MCART_1,GRAPH_1,PARTFUN1,CAT_1,STRUCT_0,QC_LANG1,CLASSES2,FUNCOP_1,FUNCT_4,CAT_2,OPPCAT_1,FUNCT_5,ARYTM_0,ENS_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,MCART_1,DOMAIN_1,RELAT_1,FUNCT_1,FUNCT_2,BINOP_1,PARTFUN1,FUNCT_4,FUNCT_5,CLASSES2,FUNCOP_1,STRUCT_0,GRAPH_1,CAT_1,CAT_2,OPPCAT_1,CKB1,CKB6,CKB14,CKB15,CKB21,CKB23,CKB27,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB45,CKB47,CKB49,CKB51;
definitions TARSKI,FUNCT_1,CAT_1,CAT_2,BINOP_1,RELAT_1,GRAPH_1,CKB1,CKB6,CKB14,CKB15,CKB21,CKB23,CKB27,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB45,CKB47,CKB49,CKB51;
theorems TARSKI,ENUMSET1,ZFMISC_1,MCART_1,DOMAIN_1,FUNCT_1,FUNCT_2,PARTFUN1,FUNCOP_1,FUNCT_4,CLASSES2,CAT_1,CAT_2,OPPCAT_1,GRFUNC_1,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,BINOP_1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63;
schemes FUNCT_2,BINOP_1,FUNCT_1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,FUNCT_2,RELSET_1,STRUCT_0,PARTFUN1,CKB2,CKB7,CKB13,CKB43;
constructors PARTFUN1,DOMAIN_1,CLASSES2,CAT_2,OPPCAT_1,FUNCOP_1,RELSET_1,CKB1,CKB6,CKB14,CKB15,CKB21,CKB23,CKB27,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB45,CKB47,CKB49,CKB51;
requirements SUBSET,BOOLE;
begin
reserve V for non  empty set;
reserve A for (Element of V);
reserve B for (Element of V);
reserve f for (Morphism of ( Ens V ));
theorem
Th37: ((f is  epi & (ex A st (ex x1,x2 being set st ((x1 in A & x2 in A) & x1 <> x2)))) implies ( @ f ) is  surjective)
proof
assume A1: f is  epi;
given B being (Element of V),x1 being set,x2 being set such that
A2: x1 in B
and
A3: x2 in B
and
A4: x1 <> x2;

A5: ( cod ( @ f ) ) c= ( rng ( ( @ f ) `2 ) )
proof
set A = ( cod ( @ f ) );
reconsider g1 = ( A --> x1 ) as (Function of A,B) by A2,FUNCOP_1:45;
let x being set;
assume that
A6: x in A
and
A7: (not x in ( rng ( ( @ f ) `2 ) ));
set h = ( { x } --> x2 );
set g2 = ( g1 +* h );
A8: ( dom h ) = { x } by FUNCOP_1:13;
A9: ( rng h ) = { x2 } by FUNCOP_1:8;
( rng g1 ) = { x1 } by A6,FUNCOP_1:8;
then ( rng g2 ) c= ( { x1 } \/ { x2 } ) by A9,FUNCT_4:17;
then A10: ( rng g2 ) c= { x1,x2 } by ENUMSET1:1;
{ x1,x2 } c= B by A2,A3,ZFMISC_1:32;
then A11: ( rng g2 ) c= B by A10,XBOOLE_1:1;
( dom g1 ) = A by FUNCOP_1:13;
then ( dom g2 ) = ( A \/ { x } ) by A8,FUNCT_4:def 1
.= A by A6,ZFMISC_1:40;
then reconsider g2 as (Function of A,B) by A2,A11,FUNCT_2:def 1,RELSET_1:4;
A12: ( cod f ) = A by CKB38:def 1;
A13: x in { x } by TARSKI:def 1;
then ( h . x ) = x2 by FUNCOP_1:7;
then A14: ( g2 . x ) = x2 by A13,A8,FUNCT_4:13;
A15: ( g1 . x ) = x1 by A6,FUNCOP_1:7;
reconsider m1 = [ [ A,B ],g1 ],m2 = [ [ A,B ],g2 ] as (Element of ( Maps V )) by A2,CKB9:1;
set f1 = ( @ m1 );
set f2 = ( @ m2 );
set h1 = ( ( ( @ f1 ) `2 ) * ( ( @ f ) `2 ) );
set h2 = ( ( ( @ f2 ) `2 ) * ( ( @ f ) `2 ) );
set f1f = ( ( @ f1 ) * ( @ f ) );
set f2f = ( ( @ f2 ) * ( @ f ) );
A16: m1 = [ [ ( dom m1 ),( cod m1 ) ],( m1 `2 ) ] by CKB16:1;
then A17: g1 = ( m1 `2 ) by ZFMISC_1:27;
A18: ( dom m1 ) = A by A16,CKB12:1;
then A19: (( f1f `2 ) = h1 & ( dom f1f ) = ( dom ( @ f ) )) by CKB24:1;
A20: m2 = [ [ ( dom m2 ),( cod m2 ) ],( m2 `2 ) ] by CKB16:1;
then A21: ( dom m2 ) = A by CKB12:1;
then A22: (( f2f `2 ) = h2 & ( dom f2f ) = ( dom ( @ f ) )) by CKB24:1;
( cod ( @ f2 ) ) = B by A20,CKB12:1;
then A23: ( cod f2 ) = B by CKB38:def 1;
( dom ( @ f2 ) ) = A by A20,CKB12:1;
then A24: ( dom f2 ) = A by CKB37:def 1;
then A25: ( f2 * f ) = f2f by A12,CKB55:1;
A26: g2 = ( m2 `2 ) by A20,ZFMISC_1:27;
now
thus A27: (( dom h1 ) = ( dom ( @ f ) ) & ( dom h2 ) = ( dom ( @ f ) )) by A19,A22,CKB19:1;
let z being set;
set y = ( ( ( @ f ) `2 ) . z );
assume A28: z in ( dom ( @ f ) );
then z in ( dom ( ( @ f ) `2 ) ) by CKB19:1;
then y in ( rng ( ( @ f ) `2 ) ) by FUNCT_1:def 3;
then A29: (not y in { x }) by A7,TARSKI:def 1;
(( h1 . z ) = ( g1 . y ) & ( h2 . z ) = ( g2 . y )) by A17,A26,A27,A28,FUNCT_1:12;
hence ( h1 . z ) = ( h2 . z ) by A8,A29,FUNCT_4:11;
end;
then A30: h1 = h2 by FUNCT_1:2;
( cod f1f ) = ( cod ( @ f1 ) ) by A18,CKB24:1;
then A31: f1f = [ [ ( dom ( @ f ) ),( cod ( @ f1 ) ) ],h1 ] by A19,CKB16:1;
( cod f2f ) = ( cod ( @ f2 ) ) by A21,CKB24:1;
then A32: f2f = [ [ ( dom ( @ f ) ),( cod ( @ f2 ) ) ],h2 ] by A22,CKB16:1;
( cod m1 ) = B by A16,CKB12:1;
then A33: f1f = f2f by A20,A31,A32,A30,CKB12:1;
( cod ( @ f1 ) ) = B by A16,CKB12:1;
then A34: ( cod f1 ) = B by CKB38:def 1;
( dom ( @ f1 ) ) = A by A16,CKB12:1;
then A35: ( dom f1 ) = A by CKB37:def 1;
then ( f1 * f ) = f1f by A12,CKB55:1;
then f1 = f2 by A1,A35,A24,A34,A23,A12,A33,A25,CAT_1:def 8;
hence contradiction by A4,A15,A14,ZFMISC_1:27;
end;
( rng ( ( @ f ) `2 ) ) c= ( cod ( @ f ) ) by CKB19:1;
hence ( rng ( ( @ f ) `2 ) ) = ( cod ( @ f ) ) by A5,XBOOLE_0:def 10;
end;
