environ
vocabularies FINSET_1,LATTICES,LATTICE3,XBOOLE_0,STRUCT_0,ZFMISC_1,SUBSET_1,XXREAL_0,NUMBERS,FINSEQ_1,RELAT_1,ARYTM_3,CARD_1,FUNCT_1,TARSKI,ORDERS_2,FILTER_1,EQREL_1,PBOOLE,REWRITE1,WELLORD1,WAYBEL_6,RELAT_2,ZF_LANG,BINOP_1,LATTICE6;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,XXREAL_0,RELAT_1,FUNCT_1,NAT_1,BINOP_1,FINSET_1,WELLORD1,WAYBEL_6,STRUCT_0,LATTICES,LATTICE3,ORDERS_2,FINSEQ_1,WELLFND1,YELLOW_0,LATTICE2;
definitions WELLFND1,WELLORD1;
theorems TARSKI,FUNCT_1,LATTICES,LATTICE3,ORDERS_2,VECTSP_8,FINSEQ_1,WAYBEL_6,NAT_1,INT_1,RELAT_1,YELLOW_0,WELLORD1,WELLFND1,REALSET1,XBOOLE_0,XXREAL_0,STRUCT_0,CARD_1,ZFMISC_1,CKB2,CKB3,CKB4,CKB5;
schemes NAT_1,WELLFND1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FINSET_1,XREAL_0,INT_1,FINSEQ_1,FINSEQ_6,STRUCT_0,LATTICES,ORDERS_2,LATTICE2,LATTICE3,WAYBEL_0,KNASTER,YELLOW_1,ORDINAL1,ZFMISC_1,CARD_1,CKB1;
constructors WELLORD1,BINOP_1,REAL_1,REALSET2,LATTICE2,WAYBEL_0,WAYBEL_6,WELLFND1,RELSET_1;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Lm5: (for L being  finite Lattice holds L is  complete)
proof
let L being  finite Lattice;
(for X being (Subset of L) holds (ex a being (Element of L) st (a is_less_than X & (for b being (Element of L) holds (b is_less_than X implies b [= a)))))
proof
defpred P[ (Element of ( NAT )) ]
 means
(for X9 being  finite (Subset of ( LattPOSet L )) holds (for p being FinSequence holds ((( rng p ) = X9 & ( len p ) = $1) implies (ex a being (Element of ( LattPOSet L )) st ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies a <= x)) & (for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x)) implies x9 <= a)))))));
let X being (Subset of L);
A1: (for k being (Element of ( NAT )) holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A2: P[ k ];
(for X9 being  finite (Subset of ( LattPOSet L )) holds (for p being FinSequence holds ((( rng p ) = X9 & ( len p ) = ( k + 1 )) implies (ex a being (Element of ( LattPOSet L )) st ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies a <= x)) & (for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x)) implies x9 <= a)))))))
proof
let X being  finite (Subset of ( LattPOSet L ));
let p being FinSequence;
assume that
A3: ( rng p ) = X
and
A4: ( len p ) = ( k + 1 );
set q = ( p | ( Seg k ) );
set X9 = ( rng q );
(for x being set holds (x in X9 implies x in (the carrier of ( LattPOSet L ))))
proof
let x being set;
A5: ( rng q ) c= ( rng p ) by RELAT_1:70;
assume x in X9;
then x in ( rng p ) by A5;
hence thesis by A3;
end;
then A6: X9 is (Subset of ( LattPOSet L )) by TARSKI:def 3;
A7: k <= ( k + 1 ) by NAT_1:11;
then ( len q ) = k by A4,FINSEQ_1:17;
then consider a being (Element of ( LattPOSet L )) such that A8: (for x being (Element of ( LattPOSet L )) holds (x in X9 implies a <= x)) and A9: (for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x)) implies x9 <= a)) by A2,A6;
consider b being set such that A10: ( p . ( k + 1 ) ) = b;
( Seg ( k + 1 ) ) = ( dom p ) by A4,FINSEQ_1:def 3;
then ( k + 1 ) in ( dom p ) by FINSEQ_1:4;
then A11: b in ( rng p ) by A10,FUNCT_1:def 3;
then reconsider b as (Element of ( LattPOSet L )) by A3;
A12: ( ( % b ) % ) = ( % b ) by LATTICE3:def 3
.= b by LATTICE3:def 4;
set a2 = ( ( % a ) "/\" ( % b ) );
( a2 "\/" ( % a ) ) = ( % a ) by LATTICES:def 8;
then A13: a2 [= ( % a ) by LATTICES:def 3;
( a2 "\/" ( % b ) ) = ( % b ) by LATTICES:def 8;
then A14: a2 [= ( % b ) by LATTICES:def 3;
A15: ( ( % a ) % ) = ( % a ) by LATTICE3:def 3
.= a by LATTICE3:def 4;
A16: (for x being (Element of ( LattPOSet L )) holds (x in X implies ( a2 % ) <= x))
proof
let c being (Element of ( LattPOSet L ));
assume A17: c in X;
per cases ;
suppose c in X9;

then A18: a <= c by A8;
( a2 % ) <= a by A13,A15,LATTICE3:7;
hence thesis by A18,ORDERS_2:3;
end;
suppose A19: (not c in X9);

consider n being set such that A20: n in ( dom p ) and A21: c = ( p . n ) by A3,A17,FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A20;
A22: n in ( Seg ( k + 1 ) ) by A4,A20,FINSEQ_1:def 3;
A23: n >= ( k + 1 )
proof
assume (not n >= ( k + 1 ));
then A24: n <= k by INT_1:7;
1 <= n by A22,FINSEQ_1:1;
then A25: n in ( Seg k ) by A24,FINSEQ_1:1;
( dom ( p | ( Seg k ) ) ) = ( ( dom p ) /\ ( Seg k ) ) by RELAT_1:61
.= ( ( Seg ( k + 1 ) ) /\ ( Seg k ) ) by A4,FINSEQ_1:def 3
.= ( Seg k ) by FINSEQ_1:7,NAT_1:11;
then A26: ( q . n ) = c by A21,A25,FUNCT_1:47;
n in ( dom q ) by A4,A7,A25,FINSEQ_1:17;
hence thesis by A19,A26,FUNCT_1:def 3;
end;
n <= ( k + 1 ) by A22,FINSEQ_1:1;
then c = b by A10,A21,A23,XXREAL_0:1;
hence thesis by A14,A12,LATTICE3:7;
end;
end;
(for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X implies x9 <= x)) implies x9 <= ( a2 % )))
proof
let x9 being (Element of ( LattPOSet L ));
A27: ( ( % b ) % ) = ( % b ) by LATTICE3:def 3
.= b by LATTICE3:def 4;
A28: ( ( % x9 ) % ) = ( % x9 ) by LATTICE3:def 3
.= x9 by LATTICE3:def 4;
assume A29: (for x being (Element of ( LattPOSet L )) holds (x in X implies x9 <= x));
(for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x))
proof
let x being (Element of ( LattPOSet L ));
( rng q ) c= ( rng p ) by RELAT_1:70;
hence thesis by A3,A29;
end;
then A30: x9 <= a by A9;
( ( % a ) % ) = ( % a ) by LATTICE3:def 3
.= a by LATTICE3:def 4;
then A31: ( % x9 ) [= ( % a ) by A30,A28,LATTICE3:7;
x9 <= b by A3,A11,A29;
then A32: ( % x9 ) [= ( % b ) by A27,A28,LATTICE3:7;
( ( % x9 ) "/\" a2 ) = ( ( ( % x9 ) "/\" ( % a ) ) "/\" ( % b ) ) by LATTICES:def 7
.= ( ( % x9 ) "/\" ( % b ) ) by A31,LATTICES:4
.= ( % x9 ) by A32,LATTICES:4;
then ( % x9 ) [= a2 by LATTICES:4;
hence thesis by A28,LATTICE3:7;
end;
hence thesis by A16;
end;
hence thesis;
end;
(for X9 being  finite (Subset of ( LattPOSet L )) holds (for p being FinSequence holds ((( rng p ) = X9 & ( len p ) = ( 0 )) implies (ex a being (Element of ( LattPOSet L )) st ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies a <= x)) & (for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x)) implies x9 <= a)))))))
proof
let X9 being  finite (Subset of ( LattPOSet L ));
let p being FinSequence;
assume that
A33: ( rng p ) = X9
and
A34: ( len p ) = ( 0 );
( Seg ( len p ) ) = ( {} ) by A34;
then A35: ( dom p ) = ( {} ) by FINSEQ_1:def 3;
(ex a being (Element of ( LattPOSet L )) st ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies a <= x)) & (for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x)) implies x9 <= a))))
proof
consider a being (Element of ( LattPOSet L )) such that A36: (for b being (Element of ( LattPOSet L )) holds b <= a) by CKB5:1;
A37: (for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x)) implies x9 <= a)) by A36;
(for x being (Element of ( LattPOSet L )) holds (x in X9 implies a <= x)) by A33,A35,RELAT_1:42;
hence thesis by A37;
end;
hence thesis;
end;
then A38: P[ ( 0 ) ];
A39: (for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A38,A1);
reconsider X as  finite (Subset of L);
( LattPOSet L ) = RelStr (# (the carrier of L),( LattRel L ) #) by LATTICE3:def 2;
then reconsider X9 = X as  finite (Subset of ( LattPOSet L ));
consider p being FinSequence such that A40: ( rng p ) = X9 by FINSEQ_1:52;
( dom p ) = ( Seg ( len p ) ) by FINSEQ_1:def 3;
then consider a being (Element of ( LattPOSet L )) such that A41: (for x being (Element of ( LattPOSet L )) holds (x in X9 implies a <= x)) and A42: (for x9 being (Element of ( LattPOSet L )) holds ((for x being (Element of ( LattPOSet L )) holds (x in X9 implies x9 <= x)) implies x9 <= a)) by A39,A40;
A43: (for b being (Element of L) holds (b is_less_than X implies b [= ( % a )))
proof
let b being (Element of L);
assume A44: b is_less_than X;
(for x being (Element of ( LattPOSet L )) holds (x in X9 implies ( b % ) <= x))
proof
let x being (Element of ( LattPOSet L ));
assume x in X9;
then consider x9 being (Element of L) such that A45: x9 = x and A46: x9 in X;
b [= x9 by A44,A46,LATTICE3:def 16;
then ( b % ) <= ( x9 % ) by LATTICE3:7;
hence thesis by A45,LATTICE3:def 3;
end;
then A47: ( b % ) <= a by A42;
( ( % a ) % ) = ( % a ) by LATTICE3:def 3
.= a by LATTICE3:def 4;
hence thesis by A47,LATTICE3:7;
end;
(for x being (Element of L) holds (x in X implies ( % a ) [= x))
proof
let x being (Element of L);
A48: ( ( % a ) % ) = ( % a ) by LATTICE3:def 3
.= a by LATTICE3:def 4;
assume x in X;
then consider x9 being (Element of ( LattPOSet L )) such that A49: (x9 = x & x9 in X9);
(a <= x9 & x9 = ( x % )) by A41,A49,LATTICE3:def 3;
hence thesis by A48,LATTICE3:7;
end;
then ( % a ) is_less_than X by LATTICE3:def 16;
hence thesis by A43;
end;
hence thesis by VECTSP_8:def 6;
end;
