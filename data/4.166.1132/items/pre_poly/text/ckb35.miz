environ
vocabularies NUMBERS,SUBSET_1,RELAT_1,ORDINAL4,FINSEQ_1,XBOOLE_0,BINOP_1,FUNCT_1,FINSOP_1,SETWISEO,XXREAL_0,TARSKI,NAT_1,ARYTM_3,WELLORD1,FINSUB_1,SETFAM_1,ORDERS_1,FINSET_1,ZFMISC_1,CARD_1,FUNCT_3,PARTFUN1,ARROW,ORDINAL2,ORDINAL1,RELAT_2,ARYTM_1,FINSEQ_3,FUNCOP_1,PBOOLE,FUNCT_4,FINSEQ_2,CARD_3,MEMBER_1,VALUED_0,XREAL_0,FUNCT_2,BINOP_2,CLASSES1,PRE_POLY;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,ORDERS_1,RELAT_1,XXREAL_0,XCMPLX_0,RELAT_2,FUNCT_1,PBOOLE,RELSET_1,FINSET_1,FINSUB_1,SETWISEO,ORDINAL1,PARTFUN1,FUNCT_2,BINOP_2,FINSOP_1,FINSEQ_1,FINSEQ_4,FUNCT_3,BINOP_1,NAT_1,XREAL_0,FINSEQ_2,WELLORD1,CARD_3,WSIERP_1,FUNCOP_1,FUNCT_7,NAT_D,CLASSES1,VALUED_0,VALUED_1,ORDINAL2,SETFAM_1,DOMAIN_1,ARROW,FINSEQOP,CKB1,CKB3,CKB4,CKB5,CKB7,CKB21,CKB25,CKB28,CKB33;
definitions TARSKI,XBOOLE_0,FUNCT_1,CARD_3,RELAT_2,PBOOLE,RELSET_1,WELLORD2,RELAT_1,BINOP_1,FINSEQ_2,VALUED_0,FUNCOP_1,SETFAM_1,SEQM_3,WELLORD1,SUBSET_1,CKB7,CKB25,CKB33;
theorems FUNCT_1,FINSET_1,FINSEQ_3,FINSEQ_4,ZFMISC_1,FINSEQ_1,FUNCT_2,FUNCOP_1,TARSKI,FUNCT_7,BINOP_1,RELAT_1,FINSEQ_2,CARD_3,RFINSEQ,RELSET_1,CARD_1,ORDINAL1,RVSUM_1,FINSEQ_5,NAT_1,PBOOLE,NAT_2,SUBSET_1,ORDERS_1,WELLSET1,WELLORD1,RELAT_2,ORDINAL3,FINSEQ_6,SETWISEO,SETWOP_2,CARD_2,FUNCT_5,FINSUB_1,PARTFUN2,XBOOLE_0,XBOOLE_1,PARTFUN1,BINOP_2,XREAL_1,XXREAL_0,VALUED_0,VALUED_1,NAT_D,SETFAM_1,ARROW,WELLORD2,FINSOP_1,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB16,CKB24,CKB25,CKB26,CKB29,CKB30,CKB31,CKB32,CKB33;
schemes SETWISEO,FUNCT_2,FINSEQ_2,FINSEQ_1,PBOOLE,RELSET_1,FINSEQ_4,ORDINAL1,FUNCT_7,SUBSET_1,XBOOLE_0,BINOP_1,NAT_1,PRE_CIRC,CLASSES1,CKB14,CKB22;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,ORDINAL3,FINSET_1,XXREAL_0,XREAL_0,NAT_1,BINOP_2,CARD_1,FINSEQ_1,FINSEQ_2,CARD_3,PARTFUN1,VALUED_0,VALUED_1,RELSET_1,FUNCT_2,SETFAM_1,FINSUB_1,CKB2,CKB6,CKB15,CKB17,CKB18,CKB19,CKB20,CKB23,CKB27,CKB34;
constructors WELLORD2,BINOP_1,SETWISEO,CARD_3,FINSEQOP,FINSOP_1,FINSEQ_4,RFINSEQ,RFUNCT_3,NAT_D,WSIERP_1,FUNCT_7,RECDEF_1,BINOP_2,CLASSES1,BINARITH,ARROW,TOLER_1,ORDINAL2,RELSET_1,ORDERS_1,RELAT_2,WELLORD1,DOMAIN_1,SETFAM_1,ORDINAL3,PBOOLE,CKB1,CKB3,CKB4,CKB5,CKB7,CKB21,CKB25,CKB28,CKB33;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
definition
let F being  FinSequence-yielding Function;
let G being  FinSequence-yielding Function;
func F ^^ G ->  FinSequence-yielding Function means 
:Def4: (( dom it ) = ( ( dom F ) /\ ( dom G ) ) & (for i being set holds (i in ( dom it ) implies (for f,g being FinSequence holds ((f = ( F . i ) & g = ( G . i )) implies ( it . i ) = ( f ^ g ))))));
existence
proof
defpred P[ set,set ]
 means
(for f being FinSequence holds (for g being FinSequence holds ((f = ( F . $1 ) & g = ( G . $1 )) implies $2 = ( f ^ g ))));
A1: (for i being set holds (i in ( ( dom F ) /\ ( dom G ) ) implies (ex u being set st P[ i,u ])))
proof
let i being set;
assume i in ( ( dom F ) /\ ( dom G ) );
then (i in ( dom F ) & i in ( dom G )) by XBOOLE_0:def 4;
then reconsider f = ( F . i ),g = ( G . i ) as FinSequence by CKB33:def 1;
take ( f ^ g );
thus thesis;
end;
consider H being Function such that A2: (( dom H ) = ( ( dom F ) /\ ( dom G ) ) & (for i being set holds (i in ( ( dom F ) /\ ( dom G ) ) implies P[ i,( H . i ) ]))) from CLASSES1:sch 1(A1);
(for x being set holds (x in ( dom H ) implies ( H . x ) is FinSequence))
proof
let x being set;
assume A3: x in ( dom H );
then x in ( dom F ) by A2,XBOOLE_0:def 4;
then reconsider f = ( F . x ) as FinSequence by CKB33:def 1;
x in ( dom G ) by A2,A3,XBOOLE_0:def 4;
then reconsider g = ( G . x ) as FinSequence by CKB33:def 1;
( H . x ) = ( f ^ g ) by A2,A3;
hence thesis;
end;
then reconsider H as  FinSequence-yielding Function by CKB33:def 1;
take H;
thus thesis by A2;
end;
uniqueness
proof
let F1 being  FinSequence-yielding Function;
let F2 being  FinSequence-yielding Function;
assume that
A4: ( dom F1 ) = ( ( dom F ) /\ ( dom G ) )
and
A5: (for i being set holds (i in ( dom F1 ) implies (for f,g being FinSequence holds ((f = ( F . i ) & g = ( G . i )) implies ( F1 . i ) = ( f ^ g )))))
and
A6: ( dom F2 ) = ( ( dom F ) /\ ( dom G ) )
and
A7: (for i being set holds (i in ( dom F2 ) implies (for f,g being FinSequence holds ((f = ( F . i ) & g = ( G . i )) implies ( F2 . i ) = ( f ^ g )))));
now
let x;
assume A8: x in ( dom F1 );
then (x in ( dom F ) & x in ( dom G )) by A4,XBOOLE_0:def 4;
then reconsider f = ( F . x ),g = ( G . x ) as FinSequence by CKB33:def 1;
thus ( F1 . x ) = ( f ^ g ) by A5,A8
.= ( F2 . x ) by A4,A6,A7,A8;
end;
hence thesis by A4,A6,FUNCT_1:2;
end;
end;
