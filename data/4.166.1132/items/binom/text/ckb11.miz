environ
vocabularies NUMBERS,RLVECT_1,ALGSTR_0,XBOOLE_0,SUBSET_1,ARYTM_3,ALGSTR_1,BINOP_1,LATTICES,GROUP_1,VECTSP_2,VECTSP_1,SUPINF_2,RELAT_1,FUNCT_1,ZFMISC_1,CARD_1,FUNCT_2,MCART_1,CARD_3,FINSEQ_1,STRUCT_0,XXREAL_0,PARTFUN1,NAT_1,NEWTON,ARYTM_1,ORDINAL4,FINSEQ_2,BINOM;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XCMPLX_0,STRUCT_0,ALGSTR_0,PARTFUN1,FUNCT_1,FUNCT_2,NAT_1,FINSEQ_1,RELSET_1,BINOP_1,ALGSTR_1,FINSEQ_2,VECTSP_1,VECTSP_2,GROUP_1,NEWTON,RLVECT_1,MCART_1,POLYNOM1,XXREAL_0;
definitions BINOP_1,ALGSTR_0;
theorems TARSKI,FUNCT_2,VECTSP_1,RLVECT_1,ALGSTR_1,NAT_1,MCART_1,FINSEQ_1,GROUP_1,NEWTON,FINSEQ_2,FUNCT_1,ZFMISC_1,INT_1,RELAT_1,POLYNOM1,XBOOLE_0,XREAL_1,PARTFUN1,ORDINAL1,ALGSTR_0,CARD_1,FINSEQ_5,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10;
schemes NAT_1,RECDEF_1,INT_1;
registrations XBOOLE_0,ORDINAL1,RELSET_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_2,STRUCT_0,VECTSP_1,ALGSTR_1,MONOID_0,INT_1,ALGSTR_0,CARD_1,FINSEQ_1,CKB1,CKB2,CKB3,CKB4;
constructors BINOP_1,XXREAL_0,REAL_1,NEWTON,ALGSTR_1,MONOID_0,POLYNOM1,RELSET_1,FVSUM_1;
requirements NUMERALS,SUBSET,REAL,BOOLE,ARITHM;
begin
definition
let R being non  empty addLoopStr;
let p being (FinSequence of (the carrier of R));
let q being (FinSequence of (the carrier of R));
func p + q -> (FinSequence of (the carrier of R)) means 
:Def4: (( dom it ) = ( dom p ) & (for i being Nat holds ((1 <= i & i <= ( len it )) implies ( it /. i ) = ( ( p /. i ) + ( q /. i ) ))));
existence
proof
defpred P[ (Element of ( NAT )),(Element of R) ]
 means
$2 = ( ( p /. $1 ) + ( q /. $1 ) );
A1: (for k being (Element of ( NAT )) holds (k in ( Seg ( len p ) ) implies (ex x being (Element of R) st P[ k,x ])));
consider f being (FinSequence of (the carrier of R)) such that A2: (( dom f ) = ( Seg ( len p ) ) & (for k being (Element of ( NAT )) holds (k in ( Seg ( len p ) ) implies P[ k,( f /. k ) ]))) from RECDEF_1:sch 17(A1);
take f;
A3: ( len f ) = ( len p ) by A2,FINSEQ_1:def 3;
now
let m being Nat;
assume (1 <= m & m <= ( len f ));
then m in ( Seg ( len p ) ) by A3,FINSEQ_1:1;
hence ( f /. m ) = ( ( p /. m ) + ( q /. m ) ) by A2;
end;
hence thesis by A2,FINSEQ_1:def 3;
end;
uniqueness
proof
let y1 being (FinSequence of (the carrier of R));
let y2 being (FinSequence of (the carrier of R));
assume that
A4: ( dom y1 ) = ( dom p )
and
A5: (for i being Nat holds ((1 <= i & i <= ( len y1 )) implies ( y1 /. i ) = ( ( p /. i ) + ( q /. i ) )))
and
A6: ( dom y2 ) = ( dom p )
and
A7: (for i being Nat holds ((1 <= i & i <= ( len y2 )) implies ( y2 /. i ) = ( ( p /. i ) + ( q /. i ) )));
A8: ( Seg ( len y1 ) ) = ( dom y2 ) by A4,A6,FINSEQ_1:def 3
.= ( Seg ( len y2 ) ) by FINSEQ_1:def 3;
then A9: ( len y1 ) = ( len y2 ) by FINSEQ_1:6;
now
let i being Nat;
assume A10: (1 <= i & i <= ( len y1 ));
then i in ( Seg ( len y2 ) ) by A8,FINSEQ_1:1;
then A11: i in ( dom y2 ) by FINSEQ_1:def 3;
i in ( Seg ( len y1 ) ) by A10,FINSEQ_1:1;
then i in ( dom y1 ) by FINSEQ_1:def 3;
hence ( y1 . i ) = ( y1 /. i ) by PARTFUN1:def 6
.= ( ( p /. i ) + ( q /. i ) ) by A5,A10
.= ( y2 /. i ) by A7,A9,A10
.= ( y2 . i ) by A11,PARTFUN1:def 6;
end;
hence thesis by A8,FINSEQ_1:6,FINSEQ_1:14;
end;
end;
