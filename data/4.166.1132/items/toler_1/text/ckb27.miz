environ
vocabularies XBOOLE_0,RELAT_2,RELAT_1,EQREL_1,WELLORD1,ZFMISC_1,PARTFUN1,SUBSET_1,TARSKI,ORDINAL1,TOLER_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,RELSET_1,RELAT_2,PARTFUN1,ORDINAL1,WELLORD1,EQREL_1,CKB2,CKB3,CKB14,CKB16,CKB18,CKB20;
definitions TARSKI,RELAT_1,RELAT_2,WELLORD1,CKB16,CKB18;
theorems TARSKI,RELAT_1,RELSET_1,RELAT_2,ZFMISC_1,WELLORD1,ENUMSET1,ORDERS_1,EQREL_1,ORDINAL1,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26;
schemes XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,PARTFUN1,EQREL_1,RELSET_1,CKB1,CKB19;
constructors ORDINAL1,WELLORD1,EQREL_1,RELSET_1,CKB3,CKB14,CKB16,CKB18;
requirements SUBSET,BOOLE;
begin
reserve X for set;
reserve Y for set;
reserve Z for set;
reserve x for set;
reserve y for set;
reserve z for set;
reserve T for (Tolerance of X);
theorem
Th45: (for Y being (TolSet of T) holds (ex Z being (TolClass of T) st Y c= Z))
proof
let Y being (TolSet of T);
defpred X[ set ]
 means
($1 is (TolSet of T) & (ex Z st ($1 = Z & Y c= Z)));
consider TS being set such that A1: (for x holds (x in TS iff (x in ( bool X ) & X[ x ]))) from XBOOLE_0:sch 1;
A2: (for x being set holds (x in TS iff ((x in ( bool X ) & x is (TolSet of T)) & Y c= x)))
proof
let x being set;
thus (x in TS implies ((x in ( bool X ) & x is (TolSet of T)) & Y c= x))
proof
assume A3: x in TS;
hence (x in ( bool X ) & x is (TolSet of T)) by A1;
(ex Z st (x = Z & Y c= Z)) by A1,A3;
hence thesis;
end;

thus thesis by A1;
end;
Y c= X by CKB26:1;
then A4: TS <> ( {} ) by A2;
A5: TS c= ( bool X )
proof
let x;
assume x in TS;
hence thesis by A1;
end;
(for Z holds ((Z c= TS & Z is  c=-linear) implies (ex Y st (Y in TS & (for X1 being set holds (X1 in Z implies X1 c= Y))))))
proof
let Z;
assume that
A6: Z c= TS
and
A7: Z is  c=-linear;
A8: (for x holds (for y holds ((x in ( union Z ) & y in ( union Z )) implies [ x,y ] in T)))
proof
let x;
let y;
assume that
A9: x in ( union Z )
and
A10: y in ( union Z );
consider Zy being set such that A11: y in Zy and A12: Zy in Z by A10,TARSKI:def 4;
reconsider Zy as (TolSet of T) by A1,A6,A12;
consider Zx being set such that A13: x in Zx and A14: Zx in Z by A9,TARSKI:def 4;
reconsider Zx as (TolSet of T) by A1,A6,A14;
Zx,Zy are_c=-comparable  by A7,A14,A12,ORDINAL1:def 8;
then (Zx c= Zy or Zy c= Zx) by XBOOLE_0:def 9;
hence thesis by A13,A11,CKB16:def 1;
end;
A15: (Z <> ( {} ) implies thesis)
proof
assume A16: Z <> ( {} );
A17: Y c= ( union Z )
proof
set y = the (Element of Z);
y in TS by A6,A16,TARSKI:def 3;
then A18: Y c= y by A2;
let x;
assume x in Y;
hence thesis by A16,A18,TARSKI:def 4;
end;
Z c= ( bool X ) by A5,A6,XBOOLE_1:1;
then ( union Z ) c= ( union ( bool X ) ) by ZFMISC_1:77;
then A19: ( union Z ) c= X by ZFMISC_1:81;
take ( union Z );
( union Z ) is (TolSet of T) by A8,CKB16:def 1;
hence ( union Z ) in TS by A2,A19,A17;
let X1 being set;
assume X1 in Z;
hence thesis by ZFMISC_1:74;
end;
(Z = ( {} ) implies thesis)
proof
set Y = the (Element of TS);
assume A20: Z = ( {} );
take Y;
thus Y in TS by A4;
let X1 being set;
assume X1 in Z;
hence thesis by A20;
end;
hence thesis by A15;
end;
then consider Z1 being set such that A21: Z1 in TS and A22: (for Z holds ((Z in TS & Z <> Z1) implies (not Z1 c= Z))) by A4,ORDERS_1:65;
reconsider Z1 as (TolSet of T) by A1,A21;
Z1 is (TolClass of T)
proof
assume (not thesis);
then consider x such that A23: (not x in Z1) and A24: x in X and A25: (for y holds (y in Z1 implies [ x,y ] in T)) by CKB18:def 1;
set Y1 = ( Z1 \/ { x } );
A26: { x } c= X by A24,ZFMISC_1:31;
(for y holds (for z holds ((y in Y1 & z in Y1) implies [ y,z ] in T)))
proof
let y;
let z;
assume that
A27: y in Y1
and
A28: z in Y1;
(y in Z1 or y in { x }) by A27,XBOOLE_0:def 3;
then A29: (y in Z1 or y = x) by TARSKI:def 1;
(z in Z1 or z in { x }) by A28,XBOOLE_0:def 3;
then A30: (z in Z1 or z = x) by TARSKI:def 1;
assume A31: (not [ y,z ] in T);
then (not [ z,y ] in T) by EQREL_1:6;
hence contradiction by A24,A25,A29,A30,A31,CKB16:def 1,CKB10:1;
end;
then A32: Y1 is (TolSet of T) by CKB16:def 1;
(Y c= Z1 & Z1 c= Y1) by A2,A21,XBOOLE_1:7;
then A33: Y c= Y1 by XBOOLE_1:1;
A34: Y1 <> Z1
proof
A35: x in { x } by TARSKI:def 1;
assume Y1 = Z1;
hence contradiction by A23,A35,XBOOLE_0:def 3;
end;
Z1 in ( bool X ) by A1,A21;
then Y1 c= X by A26,XBOOLE_1:8;
then Y1 in TS by A2,A32,A33;
hence contradiction by A22,A34,XBOOLE_1:7;
end;
then reconsider Z1 as (TolClass of T);
take Z1;
thus thesis by A2,A21;
end;
