environ
vocabularies FINSEQ_1,RELAT_1,SUBSET_1,NUMBERS,ARYTM_3,XXREAL_0,NAT_1,CARD_1,FUNCT_1,TARSKI,STRUCT_0,XBOOLE_0,MSUALG_1,PBOOLE,TREES_3,MSAFREE,DTCONSTR,LANG1,ZFMISC_1,TREES_4,TDGROUP,CARD_3,TREES_2,FINSET_1,MARGREL1,PARTFUN1,TREES_9,ORDINAL4,ORDINAL1,TREES_1,MCART_1,FUNCT_6,TREES_A,QC_LANG1,MSATERM;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,MCART_1,RELAT_1,STRUCT_0,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,FUNCT_2,FINSET_1,TREES_1,TREES_2,CARD_3,FUNCT_6,LANG1,TREES_3,TREES_4,TREES_9,PBOOLE,MSUALG_1,DTCONSTR,MSUALG_3,MSAFREE,XXREAL_0,CKB2,CKB4,CKB5,CKB6,CKB9,CKB10,CKB12,CKB23,CKB24,CKB25,CKB31,CKB47,CKB48;
definitions TARSKI,PBOOLE,XBOOLE_0,CKB2,CKB6,CKB23,CKB24,CKB31,CKB47,CKB48;
theorems TARSKI,NAT_1,ZFMISC_1,MCART_1,CARD_3,FUNCT_1,FINSEQ_1,FUNCT_2,FINSEQ_3,FINSEQ_4,CARD_5,FUNCT_6,TREES_1,TREES_2,MODAL_1,TREES_3,TREES_4,LANG1,DTCONSTR,TREES_9,PBOOLE,MSUALG_1,MSAFREE,DOMAIN_1,RELAT_1,XBOOLE_0,FINSET_1,XREAL_1,ORDINAL1,PARTFUN1,FINSEQ_2,CKB1,CKB2,CKB6,CKB7,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50;
schemes TREES_2,CLASSES1,DTCONSTR,PBOOLE,CKB8,CKB11,CKB26;
registrations XBOOLE_0,RELAT_1,FUNCT_1,ORDINAL1,XREAL_0,FINSEQ_1,PBOOLE,TREES_2,TREES_3,TREES_9,STRUCT_0,DTCONSTR,MSUALG_1,MSUALG_2,MSAFREE,FINSET_1,TREES_1,RELSET_1,CKB3,CKB13;
constructors XXREAL_0,NAT_1,NAT_D,TREES_9,MSUALG_3,MSAFREE,RELSET_1,FINSEQ_2,CKB2,CKB5,CKB6,CKB12,CKB23,CKB24,CKB25,CKB31,CKB47,CKB48;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve S for non  void non  empty ManySortedSign;
reserve V for  non-empty (ManySortedSet of (the carrier of S));
reserve t for (Term of S,V);
theorem
Th29: (for p being (Node of t) holds ( t | p ) is (Term of S,V))
proof
defpred P[ set ]
 means
(for q being (Node of t) holds (q = $1 implies ( t | q ) is (Term of S,V)));
A1: (for p being (Node of t) holds (for n being (Element of ( NAT )) holds ((P[ p ] & ( p ^ <* n *> ) in ( dom t )) implies P[ ( p ^ <* n *> ) ])))
proof
let p being (Node of t);
let n being (Element of ( NAT ));
assume that
A2: (for q being (Node of t) holds (q = p implies ( t | q ) is (Term of S,V)))
and
A3: ( p ^ <* n *> ) in ( dom t );
reconsider u = ( t | p ) as (Term of S,V) by A2;
A4: ( dom u ) = ( ( dom t ) | p ) by TREES_2:def 10;
A5: <* n *> in ( ( dom t ) | p ) by A3,TREES_1:def 6;
A6:now
given s being (SortSymbol of S),x being (Element of ( V . s )) such that
A7: ( u . ( {} ) ) = [ x,s ];

u = ( root-tree [ x,s ] ) by A7,CKB17:1;
then <* n *> in { ( {} ) } by A5,A4,TREES_1:29,TREES_4:3;
hence contradiction by TARSKI:def 1;
end;
((ex s being (SortSymbol of S) st (ex v being (Element of ( V . s )) st ( u . ( {} ) ) = [ v,s ])) or ( u . ( {} ) ) in [: (the carrier' of S),{ (the carrier of S) } :]) by CKB14:1;
then consider o being (OperSymbol of S),x2 being (Element of { (the carrier of S) }) such that A8: ( u . ( {} ) ) = [ o,x2 ] by A6,DOMAIN_1:1;
x2 = (the carrier of S) by TARSKI:def 1;
then consider a being (ArgumentSeq of ( Sym (o,V) )) such that A9: u = ( [ o,(the carrier of S) ] -tree a ) by A8,CKB22:1;
consider i being (Element of ( NAT )),T being DecoratedTree,r being (Node of T) such that A10: i < ( len a ) and T = ( a . ( i + 1 ) ) and A11: <* n *> = ( <* i *> ^ r ) by A5,A4,A9,TREES_4:11;
A12: n = ( <* n *> . 1 ) by FINSEQ_1:40
.= i by A11,FINSEQ_1:41;
then A13: ( u | <* n *> ) = ( a . ( n + 1 ) ) by A9,A10,TREES_4:def 4;
let q being (Node of t);
assume A14: q = ( p ^ <* n *> );
( n + 1 ) in ( dom a ) by A10,A12,CKB50:1;
then (ex t being (Term of S,V) st (((t = ( u | <* n *> ) & t = ( (a qua (FinSequence of (( S -Terms V ) qua non  empty set))) /. ( n + 1 ) )) & ( the_sort_of t ) = ( ( the_arity_of o ) . ( n + 1 ) )) & ( the_sort_of t ) = ( ( the_arity_of o ) /. ( n + 1 ) ))) by A13,CKB40:1;
hence thesis by A14,TREES_9:3;
end;
A15: P[ ( {} ) ] by TREES_9:1;
(for p being (Node of t) holds P[ p ]) from TREES_2:sch 1(A15,A1);
hence thesis;
end;
