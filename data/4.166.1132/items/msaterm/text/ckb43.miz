environ
vocabularies FINSEQ_1,RELAT_1,SUBSET_1,NUMBERS,ARYTM_3,XXREAL_0,NAT_1,CARD_1,FUNCT_1,TARSKI,STRUCT_0,XBOOLE_0,MSUALG_1,PBOOLE,TREES_3,MSAFREE,DTCONSTR,LANG1,ZFMISC_1,TREES_4,TDGROUP,CARD_3,TREES_2,FINSET_1,MARGREL1,PARTFUN1,TREES_9,ORDINAL4,ORDINAL1,TREES_1,MCART_1,FUNCT_6,TREES_A,QC_LANG1,MSATERM;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,MCART_1,RELAT_1,STRUCT_0,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,FUNCT_2,FINSET_1,TREES_1,TREES_2,CARD_3,FUNCT_6,LANG1,TREES_3,TREES_4,TREES_9,PBOOLE,MSUALG_1,DTCONSTR,MSUALG_3,MSAFREE,XXREAL_0,CKB2,CKB4,CKB5,CKB6,CKB9,CKB10,CKB12,CKB23,CKB24,CKB25,CKB31;
definitions TARSKI,PBOOLE,XBOOLE_0,CKB2,CKB6,CKB23,CKB24,CKB31;
theorems TARSKI,NAT_1,ZFMISC_1,MCART_1,CARD_3,FUNCT_1,FINSEQ_1,FUNCT_2,FINSEQ_3,FINSEQ_4,CARD_5,FUNCT_6,TREES_1,TREES_2,MODAL_1,TREES_3,TREES_4,LANG1,DTCONSTR,TREES_9,PBOOLE,MSUALG_1,MSAFREE,DOMAIN_1,RELAT_1,XBOOLE_0,FINSET_1,XREAL_1,ORDINAL1,PARTFUN1,FINSEQ_2,CKB1,CKB2,CKB6,CKB7,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42;
schemes TREES_2,CLASSES1,DTCONSTR,PBOOLE,CKB8,CKB11,CKB26;
registrations XBOOLE_0,RELAT_1,FUNCT_1,ORDINAL1,XREAL_0,FINSEQ_1,PBOOLE,TREES_2,TREES_3,TREES_9,STRUCT_0,DTCONSTR,MSUALG_1,MSUALG_2,MSAFREE,FINSET_1,TREES_1,RELSET_1,CKB3,CKB13;
constructors XXREAL_0,NAT_1,NAT_D,TREES_9,MSUALG_3,MSAFREE,RELSET_1,FINSEQ_2,CKB2,CKB5,CKB6,CKB12,CKB23,CKB24,CKB25,CKB31;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve S for non  void non  empty ManySortedSign;
reserve V for  non-empty (ManySortedSet of (the carrier of S));
reserve t for (Term of S,V);
theorem
Th24: (for o being (OperSymbol of S) holds (for a being FinSequence holds (((( len a ) = ( len ( the_arity_of o ) ) or ( dom a ) = ( dom ( the_arity_of o ) )) & ((for i being Nat holds (i in ( dom a ) implies (ex t being (Term of S,V) st (t = ( a . i ) & ( the_sort_of t ) = ( ( the_arity_of o ) . i ))))) or (for i being Nat holds (i in ( dom a ) implies (ex t being (Term of S,V) st (t = ( a . i ) & ( the_sort_of t ) = ( ( the_arity_of o ) /. i ))))))) implies a is (ArgumentSeq of ( Sym (o,V) )))))
proof
set X = V;
let o being (OperSymbol of S);
let a being FinSequence;
assume that
A1: (( len a ) = ( len ( the_arity_of o ) ) or ( dom a ) = ( dom ( the_arity_of o ) ))
and
A2: ((for i being Nat holds (i in ( dom a ) implies (ex t being (Term of S,V) st (t = ( a . i ) & ( the_sort_of t ) = ( ( the_arity_of o ) . i ))))) or (for i being Nat holds (i in ( dom a ) implies (ex t being (Term of S,V) st (t = ( a . i ) & ( the_sort_of t ) = ( ( the_arity_of o ) /. i ))))));
( rng a ) c= ( TS ( DTConMSA X ) )
proof
let x being set;
assume x in ( rng a );
then consider i being set such that A3: i in ( dom a ) and A4: x = ( a . i ) by FUNCT_1:def 3;
reconsider i as Nat by A3;
((ex t being (Term of S,V) st (t = ( a . i ) & ( the_sort_of t ) = ( ( the_arity_of o ) . i ))) or (ex t being (Term of S,V) st (t = ( a . i ) & ( the_sort_of t ) = ( ( the_arity_of o ) /. i )))) by A2,A3;
hence thesis by A4;
end;
then reconsider p = a as (FinSequence of ( TS ( DTConMSA X ) )) by FINSEQ_1:def 4;
A5: ( dom a ) = ( dom ( the_arity_of o ) ) by A1,FINSEQ_3:29;
now
let n being Nat;
assume A6: n in ( dom p );
thus ( p . n ) in ( FreeSort (X,( ( the_arity_of o ) /. n )) )
proof
per cases  by A2,A6;
suppose (ex t being (Term of S,V) st (t = ( a . n ) & ( the_sort_of t ) = ( ( the_arity_of o ) . n )));

then consider t being (Term of S,V) such that A7: t = ( a . n ) and A8: ( the_sort_of t ) = ( ( the_arity_of o ) . n );
( the_sort_of t ) = ( ( the_arity_of o ) /. n ) by A5,A6,A8,PARTFUN1:def 6;
hence thesis by A7,CKB31:def 1;
end;
suppose (ex t being (Term of S,V) st (t = ( a . n ) & ( the_sort_of t ) = ( ( the_arity_of o ) /. n )));

hence thesis by CKB31:def 1;
end;
end;

end;
then p in ( ( ( ( FreeSort X ) # ) * (the Arity of S) ) . o ) by A5,MSAFREE:9;
then A9: ( Sym (o,X) ) ==> ( roots p ) by MSAFREE:10;
( S -Terms V ) = ( TS ( DTConMSA X ) );
hence thesis by A9,CKB39:1;
end;
