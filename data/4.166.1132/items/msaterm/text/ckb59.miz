environ
vocabularies FINSEQ_1,RELAT_1,SUBSET_1,NUMBERS,ARYTM_3,XXREAL_0,NAT_1,CARD_1,FUNCT_1,TARSKI,STRUCT_0,XBOOLE_0,MSUALG_1,PBOOLE,TREES_3,MSAFREE,DTCONSTR,LANG1,ZFMISC_1,TREES_4,TDGROUP,CARD_3,TREES_2,FINSET_1,MARGREL1,PARTFUN1,TREES_9,ORDINAL4,ORDINAL1,TREES_1,MCART_1,FUNCT_6,TREES_A,QC_LANG1,MSATERM;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,MCART_1,RELAT_1,STRUCT_0,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,FUNCT_2,FINSET_1,TREES_1,TREES_2,CARD_3,FUNCT_6,LANG1,TREES_3,TREES_4,TREES_9,PBOOLE,MSUALG_1,DTCONSTR,MSUALG_3,MSAFREE,XXREAL_0,CKB2,CKB4,CKB5,CKB6,CKB9,CKB10,CKB12,CKB23,CKB24,CKB25,CKB31,CKB47,CKB48,CKB52,CKB53,CKB55;
definitions TARSKI,PBOOLE,XBOOLE_0,CKB2,CKB6,CKB23,CKB24,CKB31,CKB47,CKB48,CKB53,CKB55;
theorems TARSKI,NAT_1,ZFMISC_1,MCART_1,CARD_3,FUNCT_1,FINSEQ_1,FUNCT_2,FINSEQ_3,FINSEQ_4,CARD_5,FUNCT_6,TREES_1,TREES_2,MODAL_1,TREES_3,TREES_4,LANG1,DTCONSTR,TREES_9,PBOOLE,MSUALG_1,MSAFREE,DOMAIN_1,RELAT_1,XBOOLE_0,FINSET_1,XREAL_1,ORDINAL1,PARTFUN1,FINSEQ_2,CKB1,CKB2,CKB6,CKB7,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58;
schemes TREES_2,CLASSES1,DTCONSTR,PBOOLE,CKB8,CKB11,CKB26;
registrations XBOOLE_0,RELAT_1,FUNCT_1,ORDINAL1,XREAL_0,FINSEQ_1,PBOOLE,TREES_2,TREES_3,TREES_9,STRUCT_0,DTCONSTR,MSUALG_1,MSUALG_2,MSAFREE,FINSET_1,TREES_1,RELSET_1,CKB3,CKB13;
constructors XXREAL_0,NAT_1,NAT_D,TREES_9,MSUALG_3,MSAFREE,RELSET_1,FINSEQ_2,CKB2,CKB5,CKB6,CKB12,CKB23,CKB24,CKB25,CKB31,CKB47,CKB48,CKB52,CKB53,CKB55;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve S for non  void non  empty ManySortedSign;
reserve A for  non-empty MSAlgebra over S;
reserve V for (Variables of A);
reserve t for (c-Term of A,V);
reserve f for (ManySortedFunction of V,(the Sorts of A));
theorem
Th34: (for t being (c-Term of A,V) holds (for e being  finite DecoratedTree holds (e is_an_evaluation_of t,f implies (for p being (Node of t) holds (for n being (Node of e) holds (n = p implies ( e | n ) is_an_evaluation_of ( t | p ),f))))))
proof
let t being (c-Term of A,V);
let e being  finite DecoratedTree;
assume that
A1: ( dom e ) = ( dom t )
and
A2: (for p being (Node of e) holds (((for s being (SortSymbol of S) holds (for v being (Element of ( V . s )) holds (( t . p ) = [ v,s ] implies ( e . p ) = ( ( f . s ) . v )))) & (for s being (SortSymbol of S) holds (for x being (Element of ( (the Sorts of A) . s )) holds (( t . p ) = [ x,s ] implies ( e . p ) = x)))) & (for o being (OperSymbol of S) holds (( t . p ) = [ o,(the carrier of S) ] implies ( e . p ) = ( ( Den (o,A) ) . ( succ (e,p) ) )))));
let p being (Node of t);
let n being (Node of e);
set vt = ( e | n );
set tp = ( t | p );
A3: ( dom vt ) = ( ( dom e ) | n ) by TREES_2:def 10;
assume A4: n = p;
hence ( dom vt ) = ( dom tp ) by A1,A3,TREES_2:def 10;
let q being (Node of vt);
reconsider nq = ( n ^ q ) as (Node of e) by A3,TREES_1:def 6;
reconsider pq = ( p ^ q ) as (Node of t) by A1,A4,A3,TREES_1:def 6;
hereby
let s being (SortSymbol of S);
let v being (Element of ( V . s ));
assume ( tp . q ) = [ v,s ];
then ( t . pq ) = [ v,s ] by A1,A4,A3,TREES_2:def 10;
then ( e . nq ) = ( ( f . s ) . v ) by A2,A4;
hence ( vt . q ) = ( ( f . s ) . v ) by A3,TREES_2:def 10;
end;
hereby
let s being (SortSymbol of S);
let x being (Element of ( (the Sorts of A) . s ));
assume ( tp . q ) = [ x,s ];
then ( t . pq ) = [ x,s ] by A1,A4,A3,TREES_2:def 10;
then ( e . nq ) = x by A2,A4;
hence ( vt . q ) = x by A3,TREES_2:def 10;
end;
let o being (OperSymbol of S);
assume ( tp . q ) = [ o,(the carrier of S) ];
then ( t . pq ) = [ o,(the carrier of S) ] by A1,A4,A3,TREES_2:def 10;
then ( e . nq ) = ( ( Den (o,A) ) . ( succ (e,nq) ) ) by A2,A4;
then ( vt . q ) = ( ( Den (o,A) ) . ( succ (e,( n ^ q )) ) ) by A3,TREES_2:def 10;
hence thesis by TREES_9:31;
end;
