environ
vocabularies XBOOLE_0,FINSEQ_1,SUBSET_1,NUMBERS,NAT_1,XXREAL_0,ORDINAL4,RFINSEQ,ARYTM_3,ARYTM_1,FUNCT_1,RELAT_1,CARD_3,TARSKI,CARD_1,PARTFUN1,GENEALG1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,FUNCT_1,NAT_D,PARTFUN1,FINSEQ_1,CARD_3,RFINSEQ,XXREAL_0,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
definitions SUBSET_1,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
theorems FINSEQ_1,FINSEQ_2,FUNCT_1,NAT_1,SUBSET_1,ZFMISC_1,FINSEQ_4,FINSEQ_5,FINSEQ_6,RFINSEQ,CARD_3,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,XREAL_0,CKB1,CKB2,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
schemes FINSEQ_1;
registrations XBOOLE_0,SETFAM_1,RELAT_1,FUNCT_1,XREAL_0,FINSEQ_1,ORDINAL1,CKB5;
constructors SETFAM_1,XXREAL_0,XREAL_0,NAT_1,CARD_3,RFINSEQ,PARTFUN1,BINARITH,REAL_1,NAT_D,RELSET_1,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve S for Gene-Set;
reserve p1 for (Individual of S);
reserve p2 for (Individual of S);
theorem
Th3: ( crossover (p1,p2,n) ) is (Individual of S)
proof
A1: ( len ( crossover (p1,p2,n) ) ) = ( len S )
proof
A2: ( len ( crossover (p1,p2,n) ) ) = ( ( len ( p1 | n ) ) + ( len ( p2 /^ n ) ) ) by FINSEQ_1:22;
now
per cases ;
suppose A3: n <= ( len p1 );

( len ( p2 /^ n ) ) = ( ( len p2 ) -' n ) by RFINSEQ:29
.= ( ( len S ) -' n ) by CKB6:def 1
.= ( ( len p1 ) -' n ) by CKB6:def 1
.= ( ( len p1 ) - n ) by A3,XREAL_1:233;
then ( len ( crossover (p1,p2,n) ) ) = ( n + ( ( len p1 ) - n ) ) by A2,A3,FINSEQ_1:59
.= ( len p1 );
hence thesis by CKB6:def 1;
end;
suppose A4: n > ( len p1 );

( p1 | n ) = ( p1 | ( Seg n ) ) by FINSEQ_1:def 15;
then A5: ( p1 | n ) = p1 by A4,FINSEQ_2:20;
A6: ( ( len p1 ) - n ) < ( 0 ) by A4,XREAL_1:49;
( len ( p2 /^ n ) ) = ( ( len p2 ) -' n ) by RFINSEQ:29
.= ( ( len S ) -' n ) by CKB6:def 1
.= ( ( len p1 ) -' n ) by CKB6:def 1
.= ( 0 ) by A6,XREAL_0:def 2;
hence thesis by A2,A5,CKB6:def 1;
end;
end;
hence thesis;
end;
(for i holds (i in ( dom ( crossover (p1,p2,n) ) ) implies ( ( crossover (p1,p2,n) ) . i ) in ( S . i )))
proof
let i;
assume A7: i in ( dom ( crossover (p1,p2,n) ) );
now
per cases  by A7,FINSEQ_1:25;
suppose A8: i in ( dom ( p1 | n ) );

A9: ( dom ( p1 | n ) ) c= ( dom p1 ) by FINSEQ_5:18;
( ( p1 | n ) . i ) = ( ( p1 | n ) /. i ) by A8,PARTFUN1:def 6
.= ( p1 /. i ) by A8,FINSEQ_4:70
.= ( p1 . i ) by A8,A9,PARTFUN1:def 6;
then ( ( p1 | n ) . i ) in ( S . i ) by A8,A9,CKB6:def 1;
hence thesis by A8,FINSEQ_1:def 7;
end;
suppose (ex k being Nat st (k in ( dom ( p2 /^ n ) ) & i = ( ( len ( p1 | n ) ) + k )));

then consider k being Nat such that A10: k in ( dom ( p2 /^ n ) ) and A11: i = ( ( len ( p1 | n ) ) + k );
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
A12: n <= ( len ( p1 | n ) )
proof
( n + k ) in ( dom p2 ) by A10,FINSEQ_5:26;
then ( n + k ) in ( Seg ( len p2 ) ) by FINSEQ_1:def 3;
then ( n + k ) <= ( len p2 ) by FINSEQ_1:1;
then ( n + k ) <= ( len S ) by CKB6:def 1;
then ( n + k ) <= ( len p1 ) by CKB6:def 1;
then A13: k <= ( ( len p1 ) - n ) by XREAL_1:19;
k in ( Seg ( len ( p2 /^ n ) ) ) by A10,FINSEQ_1:def 3;
then 1 <= k by FINSEQ_1:1;
then 1 <= ( ( len p1 ) - n ) by A13,XXREAL_0:2;
then ( 1 + n ) <= ( len p1 ) by XREAL_1:19;
then A14: n <= ( ( len p1 ) - 1 ) by XREAL_1:19;
( len p1 ) <= ( ( len p1 ) + 1 ) by NAT_1:11;
then A15: ( ( len p1 ) - 1 ) <= ( len p1 ) by XREAL_1:20;
assume n > ( len ( p1 | n ) );
hence contradiction by A14,A15,FINSEQ_1:59,XXREAL_0:2;
end;
( len ( p1 | n ) ) <= n by FINSEQ_5:17;
then A16: ( len ( p1 | n ) ) = n by A12,XXREAL_0:1;
then ( n + k ) in ( Seg ( len S ) ) by A1,A7,A11,FINSEQ_1:def 3;
then ( n + k ) in ( Seg ( len p2 ) ) by CKB6:def 1;
then A17: ( n + k ) in ( dom p2 ) by FINSEQ_1:def 3;
( ( crossover (p1,p2,n) ) . i ) = ( ( p2 /^ n ) . k ) by A10,A11,FINSEQ_1:def 7
.= ( ( p2 /^ n ) /. k ) by A10,PARTFUN1:def 6
.= ( p2 /. ( n + k ) ) by A10,FINSEQ_5:27
.= ( p2 . ( n + k ) ) by A17,PARTFUN1:def 6;
hence thesis by A11,A16,A17,CKB6:def 1;
end;
end;
hence thesis;
end;
hence thesis by A1,CKB6:def 1;
end;
