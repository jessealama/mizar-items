environ
vocabularies XBOOLE_0,SUBSET_1,FUNCT_2,RELAT_1,FUNCT_1,TARSKI,ZFMISC_1,RELAT_2,ANALOAF,STRUCT_0,DIRAF,PARSP_1,INCSP_1,AFF_1,TRANSGEO;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_2,FUNCT_1,RELSET_1,STRUCT_0,ANALOAF,DIRAF,PARTFUN1,FUNCT_2,AFF_1,CKB1,CKB4;
definitions RELAT_2,CKB4;
theorems DOMAIN_1,FUNCT_1,FUNCT_2,ANALOAF,DIRAF,AFF_1,PASCH,TARSKI,ZFMISC_1,RELAT_1,XBOOLE_0,STRUCT_0,CKB2,CKB3,CKB4;
schemes FUNCT_2;
registrations XBOOLE_0,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,STRUCT_0,ANALOAF,DIRAF;
constructors RELAT_2,PARTFUN1,DOMAIN_1,AFF_1,RELSET_1,CKB1,CKB4;
requirements SUBSET,BOOLE;
begin
scheme EXPermutation { A() -> non empty set,P[set,set] } : (ex f being (Permutation of A()) st (for x,y being (Element of A()) holds (( f . x ) = y iff P[ x,y ])))
provided
A1: (for x being (Element of A()) holds (ex y being (Element of A()) st P[ x,y ]))
and
A2: (for y being (Element of A()) holds (ex x being (Element of A()) st P[ x,y ]))
and
A3: (for x,y,x9 being (Element of A()) holds ((P[ x,y ] & P[ x9,y ]) implies x = x9))
and
A4: (for x,y,y9 being (Element of A()) holds ((P[ x,y ] & P[ x,y9 ]) implies y = y9))
proof
A5: (for x being (Element of A()) holds (ex y being (Element of A()) st P[ x,y ])) by A1;
consider f being (Function of A(),A()) such that A6: (for x being (Element of A()) holds P[ x,( f . x ) ]) from FUNCT_2:sch 3(A5);
now
let y being set;
assume A7: y in A();
then consider x being (Element of A()) such that A8: P[ x,y ] by A2;
P[ x,( f . x ) ] by A6;
then ( f . x ) = y by A4,A7,A8;
hence y in ( rng f ) by FUNCT_2:4;
end;
then A() c= ( rng f ) by TARSKI:def 3;
then A9: ( rng f ) = A() by XBOOLE_0:def 10;
now
let x1 being set,x2 being set;
assume that
A10: x1 in A()
and
A11: x2 in A();
A12: ( f . x1 ) is (Element of A()) by A10,FUNCT_2:5;
(P[ x1,( f . x1 ) ] & P[ x2,( f . x2 ) ]) by A6,A10,A11;
hence (( f . x1 ) = ( f . x2 ) implies x1 = x2) by A3,A10,A11,A12;
end;
then f is  one-to-one by FUNCT_2:19;
then reconsider f as (Permutation of A()) by A9,FUNCT_2:57;
take f;
let x being (Element of A()),y being (Element of A());
thus (( f . x ) = y implies P[ x,y ]) by A6;
assume A13: P[ x,y ];
P[ x,( f . x ) ] by A6;
hence thesis by A4,A13;
end;
