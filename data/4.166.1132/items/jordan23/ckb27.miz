environ
vocabularies NUMBERS,SUBSET_1,FINSEQ_1,EUCLID,PRE_TOPC,TOPREAL1,JORDAN3,XXREAL_0,XBOOLE_0,CARD_1,ARYTM_3,GROUP_2,PARTFUN1,FINSEQ_5,FUNCT_1,RELAT_1,FINSEQ_6,ARYTM_1,FINSEQ_4,RFINSEQ,ORDINAL4,RCOMP_1,SPPOL_1,JORDAN9,RLTOPSP1,NAT_1,TARSKI,GRAPH_2,MCART_1,REAL_1,SUPINF_2,JORDAN2C,SPPOL_2,JORDAN18,GOBOARD1,GOBOARD2,GOBOARD5,MATRIX_1,JORDAN23;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,REAL_1,NAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_4,FINSEQ_5,RFINSEQ,MATRIX_1,FINSEQ_6,GRAPH_2,STRUCT_0,PRE_TOPC,NAT_D,COMPTS_1,RLVECT_1,RLTOPSP1,EUCLID,GOBOARD1,TOPREAL1,GOBOARD2,GOBOARD5,SPPOL_1,SPPOL_2,JORDAN3,JORDAN5C,JORDAN9,JORDAN2C,JORDAN18,CKB5,CKB6,CKB7;
definitions TARSKI,XBOOLE_0,FUNCT_1,RLTOPSP1,CKB5,CKB6,CKB7;
theorems NAT_1,FINSEQ_1,FINSEQ_4,EUCLID,FINSEQ_3,SPPOL_2,TARSKI,JORDAN3,FINSEQ_5,FINSEQ_6,GOBOARD7,TOPREAL1,JORDAN5B,SPRECT_2,SPPOL_1,FUNCT_1,FINSEQ_2,JORDAN4,GOBOARD2,SPRECT_3,TOPREAL3,JORDAN8,PARTFUN2,XBOOLE_0,XBOOLE_1,ZFMISC_1,JORDAN1E,REVROT_1,JORDAN1B,JORDAN1J,GOBOARD3,TOPREAL8,GRAPH_2,SPRECT_5,JORDAN18,JORDAN5C,MSUALG_8,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,XREAL_0,NAT_D,RLTOPSP1,RFINSEQ,SEQ_4,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB13,CKB19,CKB20,CKB21,CKB26;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XXREAL_0,XREAL_0,REAL_1,FINSEQ_1,REALSET1,FINSEQ_5,FINSEQ_6,STRUCT_0,GOBOARD2,SPPOL_2,SPRECT_1,REVROT_1,TOPREAL6,JORDAN1J,ORDINAL1,CARD_1,EUCLID,SPRECT_5,ZFMISC_1,SUBSET_1,CKB4,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB22,CKB23,CKB24,CKB25;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,FINSEQ_4,REALSET1,RFINSEQ,NAT_D,FINSEQ_5,GOBOARD2,GRAPH_2,JORDAN3,JORDAN5C,SPRECT_1,JORDAN2C,JORDAN9,JORDAN18,BINOP_2,GOBOARD1,RELSET_1,CKB5,CKB6,CKB7;
requirements ARITHM,NUMERALS,BOOLE,SUBSET,REAL;
begin
theorem
Th12: (for D being non empty set holds (for f being (FinSequence of D) holds (f is  weakly-one-to-one  circular implies (for p being (Element of D) holds ( Rotate (f,p) ) is  weakly-one-to-one))))
proof
let D being non empty set;
let f being (FinSequence of D);
assume A1: f is  weakly-one-to-one  circular;
let p being (Element of D);
per cases ;
suppose A2: p in ( rng f );

then A3: ( p .. f ) <= ( len f ) by FINSEQ_4:21;
A4: ( len ( f :- p ) ) = ( ( ( len f ) - ( p .. f ) ) + 1 ) by A2,FINSEQ_5:50;
let i being (Element of ( NAT ));
1 <= ( p .. f ) by A2,FINSEQ_4:21;
then A5: ( ( i -' 1 ) + ( p .. f ) ) >= ( ( 0 ) + 1 ) by XREAL_1:7;
then A6: ( ( ( i -' 1 ) + ( p .. f ) ) + 1 ) > 1 by NAT_1:13;
assume that
A7: 1 <= i
and
A8: i < ( len ( Rotate (f,p) ) );
A9: ( i + 1 ) > 1 by A7,NAT_1:13;
( ( i - 1 ) + 1 ) >= 1 by A7;
then A10: ( i - 1 ) >= ( 1 - 1 ) by XREAL_1:20;
A11: ( ( ( i + 1 ) -' 1 ) + ( p .. f ) ) = ( ( ( i + 1 ) - 1 ) + ( p .. f ) ) by A7,XREAL_0:def 2
.= ( ( ( i - 1 ) + ( p .. f ) ) + 1 )
.= ( ( ( i -' 1 ) + ( p .. f ) ) + 1 ) by A10,XREAL_0:def 2;
A12: ( i + 1 ) <= ( len ( Rotate (f,p) ) ) by A8,NAT_1:13;
A13: ( len ( Rotate (f,p) ) ) = ( len f ) by REVROT_1:14;
then A14: ( len f ) > 1 by A7,A8,XXREAL_0:2;
then A15: ( len f ) >= ( 1 + 1 ) by NAT_1:13;
now
per cases  by XXREAL_0:1;
suppose A16: i < ( len ( f :- p ) );

then ( i - 1 ) < ( ( len f ) - ( p .. f ) ) by A4,XREAL_1:19;
then ( ( i - 1 ) + ( p .. f ) ) < ( len f ) by XREAL_1:20;
then A17: ( ( i -' 1 ) + ( p .. f ) ) < ( len f ) by A10,XREAL_0:def 2;
then A18: ( ( ( i -' 1 ) + ( p .. f ) ) + 1 ) <= ( len f ) by NAT_1:13;
( ( Rotate (f,p) ) /. i ) = ( f /. ( ( i -' 1 ) + ( p .. f ) ) ) by A2,A7,A16,REVROT_1:9
.= ( f . ( ( i -' 1 ) + ( p .. f ) ) ) by A5,A17,FINSEQ_4:15;
then A19: ( ( Rotate (f,p) ) . i ) = ( f . ( ( i -' 1 ) + ( p .. f ) ) ) by A7,A8,FINSEQ_4:15;
( i + 1 ) <= ( len ( f :- p ) ) by A16,NAT_1:13;
then ( ( Rotate (f,p) ) /. ( i + 1 ) ) = ( f /. ( ( ( i + 1 ) -' 1 ) + ( p .. f ) ) ) by A2,A9,REVROT_1:9
.= ( f . ( ( ( i + 1 ) -' 1 ) + ( p .. f ) ) ) by A6,A11,A18,FINSEQ_4:15;
then ( ( Rotate (f,p) ) . ( i + 1 ) ) = ( f . ( ( ( i + 1 ) -' 1 ) + ( p .. f ) ) ) by A9,A12,FINSEQ_4:15;
hence thesis by A1,A5,A11,A17,A19,CKB6:def 1;
end;
suppose A20: i = ( len ( f :- p ) );

then ( ( Rotate (f,p) ) /. i ) = ( f /. ( len f ) ) by A2,REVROT_1:11
.= ( f /. 1 ) by A1,FINSEQ_6:def 1
.= ( f . 1 ) by A14,FINSEQ_4:15;
then A21: ( ( Rotate (f,p) ) . i ) = ( f . 1 ) by A7,A8,FINSEQ_4:15;
A22: ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) = ( ( ( len f ) + ( 1 + 1 ) ) - ( len f ) ) by A4,A20,XREAL_0:def 2
.= 2;
( i + 1 ) > ( len ( f :- p ) ) by A20,NAT_1:13;
then ( ( Rotate (f,p) ) /. ( i + 1 ) ) = ( f /. ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) ) by A2,A13,A12,REVROT_1:12
.= ( f . ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) ) by A15,A22,FINSEQ_4:15;
then ( ( Rotate (f,p) ) . ( i + 1 ) ) = ( f . ( 1 + 1 ) ) by A9,A12,A22,FINSEQ_4:15;
hence thesis by A1,A14,A21,CKB6:def 1;
end;
suppose A23: i > ( len ( f :- p ) );

then A24: ( i - ( ( len f ) - ( p .. f ) ) ) > 1 by A4,XREAL_1:20;
then ( ( i + ( p .. f ) ) - ( len f ) ) > ( 1 - 1 ) by XXREAL_0:2;
then A25: ( ( ( i + ( p .. f ) ) - ( len f ) ) + 1 ) > 1 by XREAL_1:19;
then A26: ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) = ( ( ( i + 1 ) + ( p .. f ) ) - ( len f ) ) by XREAL_0:def 2
.= ( ( ( i + ( p .. f ) ) - ( len f ) ) + 1 )
.= ( ( ( i + ( p .. f ) ) -' ( len f ) ) + 1 ) by A24,XREAL_0:def 2;
( ( i + 1 ) + ( p .. f ) ) <= ( ( len f ) + ( len f ) ) by A3,A13,A12,XREAL_1:7;
then ( ( ( i + 1 ) + ( p .. f ) ) - ( len f ) ) <= ( len f ) by XREAL_1:20;
then A27: ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) <= ( len f ) by A25,XREAL_0:def 2;
( ( ( i + 1 ) + ( p .. f ) ) - ( len f ) ) > 1 by A25;
then A28: ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) > 1 by XREAL_0:def 2;
( i + 1 ) > ( len ( f :- p ) ) by A23,NAT_1:13;
then ( ( Rotate (f,p) ) /. ( i + 1 ) ) = ( f /. ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) ) by A2,A13,A12,REVROT_1:12
.= ( f . ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) ) by A28,A27,FINSEQ_4:15;
then A29: ( ( Rotate (f,p) ) . ( i + 1 ) ) = ( f . ( ( ( i + 1 ) + ( p .. f ) ) -' ( len f ) ) ) by A9,A12,FINSEQ_4:15;
( ( i + ( p .. f ) ) - ( len f ) ) > 1 by A24;
then A30: ( ( i + ( p .. f ) ) -' ( len f ) ) > 1 by XREAL_0:def 2;
( i + ( p .. f ) ) < ( ( len f ) + ( len f ) ) by A3,A13,A8,XREAL_1:8;
then ( ( i + ( p .. f ) ) - ( len f ) ) < ( len f ) by XREAL_1:19;
then A31: ( ( i + ( p .. f ) ) -' ( len f ) ) < ( len f ) by A24,XREAL_0:def 2;
( ( Rotate (f,p) ) /. i ) = ( f /. ( ( i + ( p .. f ) ) -' ( len f ) ) ) by A2,A13,A8,A23,REVROT_1:12
.= ( f . ( ( i + ( p .. f ) ) -' ( len f ) ) ) by A30,A31,FINSEQ_4:15;
then ( ( Rotate (f,p) ) . i ) = ( f . ( ( i + ( p .. f ) ) -' ( len f ) ) ) by A7,A8,FINSEQ_4:15;
hence thesis by A1,A30,A31,A29,A26,CKB6:def 1;
end;
end;
hence thesis;
end;
suppose (not p in ( rng f ));

hence thesis by A1,FINSEQ_6:def 2;
end;
end;
