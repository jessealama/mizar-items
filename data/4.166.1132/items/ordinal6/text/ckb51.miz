environ
vocabularies ORDINAL6,CARD_1,RELAT_1,FUNCT_1,CLASSES2,NUMBERS,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,ORDINAL2,WELLORD1,WELLORD2,ABIAN,CARD_3,MATROID0,ORDINAL4,NAT_1,ARYTM_3,CLASSES1,VALUED_0,AFINSQ_1,ORDINAL5,ZFMISC_1,FINSET_1,MESFUNC8,NAGATA_1,ORDINAL3,PRE_TOPC,AOFA_000;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,ORDINAL1,ORDINAL2,NAT_1,ORDINAL3,ABIAN,WELLORD1,WELLORD2,CARD_1,ORDINAL4,CARD_3,NAGATA_1,AFINSQ_1,CLASSES1,CLASSES2,NUMBERS,MATROID0,ORDINAL5,AOFA_000,CKB1,CKB25,CKB26,CKB32,CKB33,CKB41;
definitions TARSKI,XBOOLE_0,FUNCT_1,WELLORD1,ABIAN,ORDINAL1,ORDINAL2,ORDINAL4,CARD_3,ORDINAL5,CKB1,CKB25,CKB26,CKB32,CKB33,CKB41;
theorems XBOOLE_1,ZFMISC_1,RELAT_1,FUNCT_1,ORDINAL1,ORDINAL2,ORDINAL3,FUNCT_3,WELLORD1,WELLORD2,ORDERS_1,CARD_2,CARD_5,FUNCT_2,ORDINAL4,XBOOLE_0,TARSKI,ORDINAL5,NAT_1,CLASSES1,CLASSES2,CARD_1,AFINSQ_1,NAT_2,GRFUNC_1,ABIAN,CKB1,CKB4,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB25,CKB26,CKB31,CKB32,CKB33,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47;
schemes NAT_1,ORDINAL1,ORDINAL2,ORDINAL4,TREES_2;
registrations XBOOLE_0,RELAT_1,RELSET_1,FUNCT_1,FINSET_1,FUNCT_2,ORDINAL1,ORDINAL2,CARD_1,WELLORD2,ORDINAL3,CLASSES2,CARD_5,ORDINAL4,CARD_LAR,ORDINAL5,CLASSES1,AFINSQ_1,SUBSET_1,CKB2,CKB3,CKB5,CKB6,CKB11,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB34,CKB35,CKB36,CKB48,CKB49,CKB50;
constructors WELLORD1,WELLORD2,CLASSES1,ABIAN,CARD_3,AFINSQ_1,ORDINAL3,ORDINAL5,NAT_1,RELSET_1,CKB1,CKB25,CKB32,CKB41;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve x for set;
reserve y for set;
theorem
ThN6: (for X,Y being  ordinal-membered set holds ((for x holds (for y holds ((x in X & y in Y) implies x in y))) implies ( ( numbering X ) ^ ( numbering Y ) ) is_isomorphism_of ( RelIncl ( ( ord-type X ) +^ ( ord-type Y ) ) ),( RelIncl ( X \/ Y ) )))
proof
let X being  ordinal-membered set,Y being  ordinal-membered set;
assume Z0: (for x holds (for y holds ((x in X & y in Y) implies x in y)));
set f = ( numbering X );
set g = ( numbering Y );
set a = ( ord-type X );
set b = ( ord-type Y );
set R = ( RelIncl ( a +^ b ) );
set Q = ( RelIncl ( X \/ Y ) );
set R1 = ( RelIncl a );
set Q1 = ( RelIncl X );
set R2 = ( RelIncl b );
set Q2 = ( RelIncl Y );
X: ( dom ( f ^ g ) ) = ( ( dom f ) +^ ( dom g ) ) by ORDINAL4:def 1;
A0: (( dom f ) = a & ( dom g ) = b) by CKB42:1;
A1: (( rng f ) = X & ( rng g ) = Y) by CKB43:1;
A2: (f is_isomorphism_of ( RelIncl a ),( RelIncl ( On X ) ) & g is_isomorphism_of ( RelIncl b ),( RelIncl ( On Y ) )) by CKB45:1;
then A3: (f is  one-to-one & g is  one-to-one) by WELLORD1:def 7;
thus A5: ( dom ( f ^ g ) ) = ( ( dom f ) +^ ( dom g ) ) by ORDINAL4:def 1
.= ( field R ) by A0,WELLORD2:def 1;
thus ( rng ( f ^ g ) ) = ( ( rng f ) \/ ( rng g ) ) by CKB16:1
.= ( field Q ) by A1,WELLORD2:def 1;
then A6: ( rng ( f ^ g ) ) = ( X \/ Y ) by WELLORD2:def 1;
A7: (( On X ) = X & ( On Y ) = Y) by CKB7:1;
thus ( f ^ g ) is  one-to-one
proof
let x;
let y;
assume B1: ((x in ( dom ( f ^ g ) ) & y in ( dom ( f ^ g ) )) & ( ( f ^ g ) . x ) = ( ( f ^ g ) . y ));
then reconsider a = x,b = y as Ordinal;
per cases  by B1,ORDINAL1:16;
suppose B2: (x in ( dom f ) & y in ( dom f ));

then (( ( f ^ g ) . x ) = ( f . x ) & ( ( f ^ g ) . y ) = ( f . y )) by ORDINAL4:def 1;
hence thesis by A3,B1,B2,FUNCT_1:def 4;
end;
suppose B3: (x in ( dom f ) & ( dom f ) c= y);

then B4: ( ( dom f ) +^ ( b -^ ( dom f ) ) ) = y by ORDINAL3:def 5;
then B5: ( b -^ ( dom f ) ) in ( dom g ) by X,B1,ORDINAL3:22;
then (( ( f ^ g ) . x ) = ( f . x ) & ( ( f ^ g ) . y ) = ( g . ( b -^ ( dom f ) ) )) by B3,B4,ORDINAL4:def 1;
then (( f . x ) in X & ( f . x ) in Y) by A1,B1,B3,B5,FUNCT_1:def 3;
then ( f . x ) in ( f . x ) by Z0;
hence thesis;
end;
suppose B3: (( dom f ) c= x & y in ( dom f ));

then B4: ( ( dom f ) +^ ( a -^ ( dom f ) ) ) = x by ORDINAL3:def 5;
then B5: ( a -^ ( dom f ) ) in ( dom g ) by X,B1,ORDINAL3:22;
then (( ( f ^ g ) . y ) = ( f . y ) & ( ( f ^ g ) . x ) = ( g . ( a -^ ( dom f ) ) )) by B3,B4,ORDINAL4:def 1;
then (( f . y ) in X & ( f . y ) in Y) by A1,B1,B3,B5,FUNCT_1:def 3;
then ( f . y ) in ( f . y ) by Z0;
hence thesis;
end;
suppose (( dom f ) c= x & ( dom f ) c= y);

then B4: (( ( dom f ) +^ ( a -^ ( dom f ) ) ) = x & ( ( dom f ) +^ ( b -^ ( dom f ) ) ) = y) by ORDINAL3:def 5;
then B5: (( a -^ ( dom f ) ) in ( dom g ) & ( b -^ ( dom f ) ) in ( dom g )) by X,B1,ORDINAL3:22;
then (( ( f ^ g ) . y ) = ( g . ( b -^ ( dom f ) ) ) & ( ( f ^ g ) . x ) = ( g . ( a -^ ( dom f ) ) )) by B4,ORDINAL4:def 1;
hence thesis by A3,B1,B4,B5,FUNCT_1:def 4;
end;
end;

let x;
let y;
A4: ( field R ) = ( a +^ b ) by WELLORD2:def 1;
hereby
assume C1: [ x,y ] in R;
hence C2: (x in ( field R ) & y in ( field R )) by RELAT_1:15;
then C3: x c= y by C1,A4,WELLORD2:def 1;
C4: (( ( f ^ g ) . x ) in ( X \/ Y ) & ( ( f ^ g ) . y ) in ( X \/ Y )) by A5,A6,C2,FUNCT_1:def 3;
thus [ ( ( f ^ g ) . x ),( ( f ^ g ) . y ) ] in Q
proof
reconsider x,y as Ordinal by A4,C2;
per cases  by ORDINAL1:16;
suppose B2: (x in ( dom f ) & y in ( dom f ));

then B6: [ x,y ] in ( RelIncl a ) by A0,C3,WELLORD2:def 1;
(( ( f ^ g ) . x ) = ( f . x ) & ( ( f ^ g ) . y ) = ( f . y )) by B2,ORDINAL4:def 1;
then B7: [ ( ( f ^ g ) . x ),( ( f ^ g ) . y ) ] in Q1 by A7,A2,B6,WELLORD1:def 7;
then (( ( f ^ g ) . x ) in ( field Q1 ) & ( ( f ^ g ) . y ) in ( field Q1 )) by RELAT_1:15;
then (( ( f ^ g ) . x ) in X & ( ( f ^ g ) . y ) in X) by WELLORD2:def 1;
then ( ( f ^ g ) . x ) c= ( ( f ^ g ) . y ) by B7,WELLORD2:def 1;
hence thesis by C4,WELLORD2:def 1;
end;
suppose B3: (x in ( dom f ) & ( dom f ) c= y);

then B4: ( ( dom f ) +^ ( y -^ ( dom f ) ) ) = y by ORDINAL3:def 5;
then B5: ( y -^ ( dom f ) ) in ( dom g ) by A0,A4,C2,ORDINAL3:22;
then (( ( f ^ g ) . x ) = ( f . x ) & ( ( f ^ g ) . y ) = ( g . ( y -^ ( dom f ) ) )) by B3,B4,ORDINAL4:def 1;
then (( ( f ^ g ) . x ) in X & ( ( f ^ g ) . y ) in Y) by A1,B3,B5,FUNCT_1:def 3;
then ( ( f ^ g ) . x ) in ( ( f ^ g ) . y ) by Z0;
then ( ( f ^ g ) . x ) c= ( ( f ^ g ) . y ) by ORDINAL1:def 2;
hence thesis by C4,WELLORD2:def 1;
end;
suppose (( dom f ) c= x & y in ( dom f ));

then y in x;
then y in y by C3;
hence thesis;
end;
suppose (( dom f ) c= x & ( dom f ) c= y);

then B4: (( ( dom f ) +^ ( x -^ ( dom f ) ) ) = x & ( ( dom f ) +^ ( y -^ ( dom f ) ) ) = y) by ORDINAL3:def 5;
then B5: (( x -^ ( dom f ) ) in ( dom g ) & ( y -^ ( dom f ) ) in ( dom g )) by A0,A4,C2,ORDINAL3:22;
( x -^ a ) c= ( y -^ a ) by C3,ORDINAL3:59;
then B6: [ ( x -^ a ),( y -^ a ) ] in ( RelIncl b ) by B5,A0,WELLORD2:def 1;
(( ( f ^ g ) . y ) = ( g . ( y -^ ( dom f ) ) ) & ( ( f ^ g ) . x ) = ( g . ( x -^ ( dom f ) ) )) by B4,B5,ORDINAL4:def 1;
then B7: [ ( ( f ^ g ) . x ),( ( f ^ g ) . y ) ] in Q2 by A7,A0,A2,B6,WELLORD1:def 7;
then (( ( f ^ g ) . x ) in ( field Q2 ) & ( ( f ^ g ) . y ) in ( field Q2 )) by RELAT_1:15;
then (( ( f ^ g ) . x ) in Y & ( ( f ^ g ) . y ) in Y) by WELLORD2:def 1;
then ( ( f ^ g ) . x ) c= ( ( f ^ g ) . y ) by B7,WELLORD2:def 1;
hence thesis by C4,WELLORD2:def 1;
end;
end;

end;
assume D1: ((x in ( field R ) & y in ( field R )) & [ ( ( f ^ g ) . x ),( ( f ^ g ) . y ) ] in Q);
then D2: ( ( f ^ g ) . x ) c= ( ( f ^ g ) . y ) by CKB14:1;
D3: (( field R1 ) = a & ( field R2 ) = b) by WELLORD2:def 1;
reconsider x,y as Ordinal by A4,D1;
per cases  by ORDINAL1:16;
suppose B2: (x in ( dom f ) & y in ( dom f ));

then B3: (( ( f ^ g ) . x ) = ( f . x ) & ( ( f ^ g ) . y ) = ( f . y )) by ORDINAL4:def 1;
(( f . x ) in X & ( f . y ) in X) by A1,B2,FUNCT_1:def 3;
then [ ( f . x ),( f . y ) ] in Q1 by B3,D2,WELLORD2:def 1;
then [ x,y ] in R1 by A7,B2,D3,A0,A2,WELLORD1:def 7;
then x c= y by CKB14:1;
hence thesis by A4,D1,WELLORD2:def 1;
end;
suppose (x in ( dom f ) & ( dom f ) c= y);

then x c= y by ORDINAL1:def 2;
hence thesis by A4,D1,WELLORD2:def 1;
end;
suppose B2: (( dom f ) c= x & y in ( dom f ));

then B3: ( ( f ^ g ) . y ) = ( f . y ) by ORDINAL4:def 1;
B4: ( f . y ) in X by A1,B2,FUNCT_1:def 3;
B7: ( ( dom f ) +^ ( x -^ ( dom f ) ) ) = x by B2,ORDINAL3:def 5;
then B5: ( x -^ ( dom f ) ) in ( dom g ) by A0,A4,D1,ORDINAL3:22;
then B6: ( ( f ^ g ) . x ) = ( g . ( x -^ ( dom f ) ) ) by B7,ORDINAL4:def 1;
( g . ( x -^ ( dom f ) ) ) in Y by A1,B5,FUNCT_1:def 3;
then ( ( f ^ g ) . y ) in ( ( f ^ g ) . x ) by B3,B4,B6,Z0;
then ( ( f ^ g ) . y ) in ( ( f ^ g ) . y ) by D2;
hence thesis;
end;
suppose (( dom f ) c= x & ( dom f ) c= y);

then B4: (( ( dom f ) +^ ( x -^ ( dom f ) ) ) = x & ( ( dom f ) +^ ( y -^ ( dom f ) ) ) = y) by ORDINAL3:def 5;
then B5: (( x -^ ( dom f ) ) in ( dom g ) & ( y -^ ( dom f ) ) in ( dom g )) by A0,A4,D1,ORDINAL3:22;
then B6: (( g . ( y -^ ( dom f ) ) ) in Y & ( g . ( x -^ ( dom f ) ) ) in Y) by A1,FUNCT_1:def 3;
(( ( f ^ g ) . y ) = ( g . ( y -^ ( dom f ) ) ) & ( ( f ^ g ) . x ) = ( g . ( x -^ ( dom f ) ) )) by B4,B5,ORDINAL4:def 1;
then [ ( g . ( x -^ ( dom f ) ) ),( g . ( y -^ ( dom f ) ) ) ] in Q2 by B6,D2,WELLORD2:def 1;
then [ ( x -^ ( dom f ) ),( y -^ ( dom f ) ) ] in R2 by A7,D3,A0,A2,B5,WELLORD1:def 7;
then ( x -^ ( dom f ) ) c= ( y -^ ( dom f ) ) by CKB14:1;
then x c= y by B4,ORDINAL3:18;
hence thesis by A4,D1,WELLORD2:def 1;
end;
end;
