environ
vocabularies ORDINAL6,CARD_1,RELAT_1,FUNCT_1,CLASSES2,NUMBERS,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,ORDINAL2,WELLORD1,WELLORD2,ABIAN,CARD_3,MATROID0,ORDINAL4,NAT_1,ARYTM_3,CLASSES1,VALUED_0,AFINSQ_1,ORDINAL5,ZFMISC_1,FINSET_1,MESFUNC8,NAGATA_1,ORDINAL3,PRE_TOPC,AOFA_000;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,ORDINAL1,ORDINAL2,NAT_1,ORDINAL3,ABIAN,WELLORD1,WELLORD2,CARD_1,ORDINAL4,CARD_3,NAGATA_1,AFINSQ_1,CLASSES1,CLASSES2,NUMBERS,MATROID0,ORDINAL5,AOFA_000,CKB1,CKB25,CKB26,CKB32,CKB33,CKB41,CKB55,CKB72,CKB74,CKB83,CKB84,CKB89,CKB91,CKB100,CKB111,CKB113,CKB114;
definitions TARSKI,XBOOLE_0,FUNCT_1,WELLORD1,ABIAN,ORDINAL1,ORDINAL2,ORDINAL4,CARD_3,ORDINAL5,CKB1,CKB25,CKB26,CKB32,CKB33,CKB41,CKB55,CKB84,CKB89,CKB91,CKB100,CKB111,CKB113,CKB114;
theorems XBOOLE_1,ZFMISC_1,RELAT_1,FUNCT_1,ORDINAL1,ORDINAL2,ORDINAL3,FUNCT_3,WELLORD1,WELLORD2,ORDERS_1,CARD_2,CARD_5,FUNCT_2,ORDINAL4,XBOOLE_0,TARSKI,ORDINAL5,NAT_1,CLASSES1,CLASSES2,CARD_1,AFINSQ_1,NAT_2,GRFUNC_1,ABIAN,CKB1,CKB4,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB25,CKB26,CKB31,CKB32,CKB33,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB70,CKB75,CKB76,CKB78,CKB80,CKB81,CKB82,CKB84,CKB89,CKB91,CKB100,CKB101,CKB102,CKB103,CKB104,CKB105,CKB106,CKB107,CKB108,CKB109,CKB110,CKB111,CKB112,CKB113,CKB114;
schemes NAT_1,ORDINAL1,ORDINAL2,ORDINAL4,TREES_2,CKB77,CKB79;
registrations XBOOLE_0,RELAT_1,RELSET_1,FUNCT_1,FINSET_1,FUNCT_2,ORDINAL1,ORDINAL2,CARD_1,WELLORD2,ORDINAL3,CLASSES2,CARD_5,ORDINAL4,CARD_LAR,ORDINAL5,CLASSES1,AFINSQ_1,SUBSET_1,CKB2,CKB3,CKB5,CKB6,CKB11,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB34,CKB35,CKB36,CKB48,CKB49,CKB50,CKB59,CKB69,CKB71,CKB73,CKB85,CKB86,CKB87,CKB88,CKB90,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98,CKB99;
constructors WELLORD1,WELLORD2,CLASSES1,ABIAN,CARD_3,AFINSQ_1,ORDINAL3,ORDINAL5,NAT_1,RELSET_1,CKB1,CKB25,CKB32,CKB41,CKB55,CKB74,CKB83,CKB84,CKB89,CKB91,CKB100,CKB111,CKB113,CKB114;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve a for  ordinal number;
reserve b for  ordinal number;
reserve c for  ordinal number;
reserve l for non empty  limit_ordinal Ordinal;
reserve x for set;
reserve y for set;
reserve U for Universe;
definition
let U;
func U -Veblen ->  Ordinal-Sequence-valued T-Sequence
means
:V: (((( dom it ) = ( On U ) & ( it . ( 0 ) ) = ( U exp ( omega ) )) & (for b holds (( succ b ) in ( On U ) implies ( it . ( succ b ) ) = ( criticals ( it . b ) )))) & (for l holds (l in ( On U ) implies ( it . l ) = ( criticals ( it | l ) ))));
existence
proof
reconsider o = ( omega ) as non trivial Ordinal;
deffunc C(set,set) = ( criticals ( OS@ $2 ) );
deffunc D(set,set) = ( criticals ( OSV@ $2 ) );
consider L being T-Sequence such that A1: ( dom L ) = ( On U ) and A2: (( {} ) in ( On U ) implies ( L . ( {} ) ) = ( U exp o )) and A3: (for b holds (( succ b ) in ( On U ) implies ( L . ( succ b ) ) = C(b,( L . b )))) and A4: (for b holds (((b in ( On U ) & b <> ( {} )) & b is  limit_ordinal) implies ( L . b ) = D(b,( L | b )))) from ORDINAL2:sch 5;
defpred P[ Ordinal ]
 means
($1 in ( On U ) implies ( L . $1 ) is Ordinal-Sequence);
00: P[ ( {} ) ] by A2;
01: (P[ b ] implies P[ ( succ b ) ])
proof
assume that
B1: P[ b ]
and
B2: ( succ b ) in ( On U );
b in ( succ b ) by ORDINAL1:6;
then reconsider f = ( L . b ) as Ordinal-Sequence by B1,B2,ORDINAL1:10;
( L . ( succ b ) ) = C(b,f) by A3,B2
.= ( criticals f ) by CKB113:def 1;
hence thesis;
end;
02: (for b holds (((b <> ( {} ) & b is  limit_ordinal) & (for c holds (c in b implies P[ c ]))) implies P[ b ]))
proof
let b;
assume that
C1: (b <> ( {} ) & b is  limit_ordinal)
and
(for c holds (c in b implies P[ c ]))
and
C3: b in ( On U );
( L . b ) = D(b,( L | b )) by A4,C1,C3;
hence thesis;
end;
03: P[ b ] from ORDINAL2:sch 1(00,01,02);
L is  Ordinal-Sequence-valued
proof
let x;
assume x in ( rng L );
then (ex y st (y in ( dom L ) & x = ( L . y ))) by FUNCT_1:def 3;
hence thesis by A1,03;
end;
then reconsider L as  Ordinal-Sequence-valued T-Sequence;
take L;
( 0-element_of U ) in ( On U ) by ORDINAL1:def 9;
hence (( dom L ) = ( On U ) & ( L . ( 0 ) ) = ( U exp ( omega ) )) by A1,A2;
hereby
let b;
assume E1: ( succ b ) in ( On U );
reconsider f = ( L . b ) as Ordinal-Sequence;
thus ( L . ( succ b ) ) = C(b,f) by E1,A3
.= ( criticals ( L . b ) ) by CKB113:def 1;
end;
let l;
assume l in ( On U );
hence ( L . l ) = D(l,( L | l )) by A4
.= ( criticals ( L | l ) ) by CKB114:def 1;
end;
uniqueness
proof
let g1 being  Ordinal-Sequence-valued T-Sequence,g2 being  Ordinal-Sequence-valued T-Sequence;
assume that
01: ( dom g1 ) = ( On U )
and
A1: ( g1 . ( 0 ) ) = ( U exp ( omega ) )
and
B1: (for b holds (( succ b ) in ( On U ) implies ( g1 . ( succ b ) ) = ( criticals ( g1 . b ) )))
and
C1: (for l holds (l in ( On U ) implies ( g1 . l ) = ( criticals ( g1 | l ) )))
and
05: ( dom g2 ) = ( On U )
and
A2: ( g2 . ( 0 ) ) = ( U exp ( omega ) )
and
B2: (for b holds (( succ b ) in ( On U ) implies ( g2 . ( succ b ) ) = ( criticals ( g2 . b ) )))
and
C2: (for l holds (l in ( On U ) implies ( g2 . l ) = ( criticals ( g2 | l ) )));
deffunc C(set,Ordinal-Sequence) = ( criticals $2 );
deffunc D(set, Ordinal-Sequence-valued T-Sequence) = ( criticals $2 );
02: (( {} ) in ( On U ) implies ( g1 . ( {} ) ) = ( U exp ( omega ) )) by A1;
03: (for b holds (( succ b ) in ( On U ) implies ( g1 . ( succ b ) ) = C(b,( g1 . b )))) by B1;
04: (for a holds (((a in ( On U ) & a <> ( {} )) & a is  limit_ordinal) implies ( g1 . a ) = D(a,( g1 | a )))) by C1;
06: (( {} ) in ( On U ) implies ( g2 . ( {} ) ) = ( U exp ( omega ) )) by A2;
07: (for b holds (( succ b ) in ( On U ) implies ( g2 . ( succ b ) ) = C(b,( g2 . b )))) by B2;
08: (for a holds (((a in ( On U ) & a <> ( {} )) & a is  limit_ordinal) implies ( g2 . a ) = D(a,( g2 | a )))) by C2;
thus g1 = g2 from ORDINAL2:sch 4(01,02,03,04,05,06,07,08);
end;
end;
