environ
vocabularies ORDINAL6,CARD_1,RELAT_1,FUNCT_1,CLASSES2,NUMBERS,TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,ORDINAL2,WELLORD1,WELLORD2,ABIAN,CARD_3,MATROID0,ORDINAL4,NAT_1,ARYTM_3,CLASSES1,VALUED_0,AFINSQ_1,ORDINAL5,ZFMISC_1,FINSET_1,MESFUNC8,NAGATA_1,ORDINAL3,PRE_TOPC,AOFA_000;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,ORDINAL1,ORDINAL2,NAT_1,ORDINAL3,ABIAN,WELLORD1,WELLORD2,CARD_1,ORDINAL4,CARD_3,NAGATA_1,AFINSQ_1,CLASSES1,CLASSES2,NUMBERS,MATROID0,ORDINAL5,AOFA_000,CKB1,CKB25,CKB26,CKB32,CKB33,CKB41,CKB55;
definitions TARSKI,XBOOLE_0,FUNCT_1,WELLORD1,ABIAN,ORDINAL1,ORDINAL2,ORDINAL4,CARD_3,ORDINAL5,CKB1,CKB25,CKB26,CKB32,CKB33,CKB41,CKB55;
theorems XBOOLE_1,ZFMISC_1,RELAT_1,FUNCT_1,ORDINAL1,ORDINAL2,ORDINAL3,FUNCT_3,WELLORD1,WELLORD2,ORDERS_1,CARD_2,CARD_5,FUNCT_2,ORDINAL4,XBOOLE_0,TARSKI,ORDINAL5,NAT_1,CLASSES1,CLASSES2,CARD_1,AFINSQ_1,NAT_2,GRFUNC_1,ABIAN,CKB1,CKB4,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB25,CKB26,CKB31,CKB32,CKB33,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB60,CKB61,CKB62,CKB63,CKB64;
schemes NAT_1,ORDINAL1,ORDINAL2,ORDINAL4,TREES_2;
registrations XBOOLE_0,RELAT_1,RELSET_1,FUNCT_1,FINSET_1,FUNCT_2,ORDINAL1,ORDINAL2,CARD_1,WELLORD2,ORDINAL3,CLASSES2,CARD_5,ORDINAL4,CARD_LAR,ORDINAL5,CLASSES1,AFINSQ_1,SUBSET_1,CKB2,CKB3,CKB5,CKB6,CKB11,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB27,CKB28,CKB29,CKB30,CKB34,CKB35,CKB36,CKB48,CKB49,CKB50,CKB59;
constructors WELLORD1,WELLORD2,CLASSES1,ABIAN,CARD_3,AFINSQ_1,ORDINAL3,ORDINAL5,NAT_1,RELSET_1,CKB1,CKB25,CKB32,CKB41,CKB55;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve a for  ordinal number;
reserve b for  ordinal number;
reserve X for set;
reserve x for set;
reserve y for set;
reserve z for set;
reserve f for Ordinal-Sequence;
theorem
Th08a: ((((f is  normal & ( union X ) in ( dom f )) & X is non empty) & (for x holds (x in X implies (ex y st ((x c= y & y in X) & y is_a_fixpoint_of f))))) implies ( union X ) = ( f . ( union X ) ))
proof
assume that
Z0: f is  normal
and
Z1: (( union X ) in ( dom f ) & X is non empty)
and
Z2: (for x holds (x in X implies (ex y st ((x c= y & y in X) & y is_a_fixpoint_of f))));
reconsider l = ( union X ) as Ordinal by Z1;
per cases ;
suppose (ex a st (a in X & (for b holds (b in X implies b c= a))));

then consider a such that A1: (a in X & (for b holds (b in X implies b c= a)));
now
let x;
assume x in X;
then consider y such that A3: ((x c= y & y in X) & y is_a_fixpoint_of f) by Z2;
y in ( dom f ) by A3,ABIAN:def 3;
then y c= a by A1,A3;
hence x c= a by A3,XBOOLE_1:1;
end;
then (( union X ) c= a & a c= ( union X )) by A1,ZFMISC_1:74,ZFMISC_1:76;
then A6: ( union X ) = a by XBOOLE_0:def 10;
then consider y such that A4: ((( union X ) c= y & y in X) & y is_a_fixpoint_of f) by Z2,A1;
(y in ( dom f ) & y = ( f . y )) by A4,ABIAN:def 3;
then y c= ( union X ) by A6,A4,A1;
then y = ( union X ) by A4,XBOOLE_0:def 10;
hence ( union X ) = ( f . ( union X ) ) by A4,ABIAN:def 3;
end;
suppose A3: (not (ex a st (a in X & (for b holds (b in X implies b c= a)))));

set y0 = the (Element of X);
consider x0 being set such that B0: ((y0 c= x0 & x0 in X) & x0 is_a_fixpoint_of f) by Z1,Z2;
B1: x0 in ( dom f ) by B0,ABIAN:def 3;
then consider b such that B2: (b in X & b c/= x0) by B0,A3;
C3: x0 in b by B1,B2,CKB9:1;
now
let a;
assume a in l;
then consider x such that A4: (a in x & x in X) by TARSKI:def 4;
consider y such that B4: ((x c= y & y in X) & y is_a_fixpoint_of f) by Z2,A4;
A5: y in ( dom f ) by B4,ABIAN:def 3;
then consider b such that A6: (b in X & b c/= y) by A3,B4;
(( succ a ) c= y & y in b) by A4,B4,A5,A6,CKB9:1,ORDINAL1:21;
then ( succ a ) in b by ORDINAL1:12;
hence ( succ a ) in l by A6,TARSKI:def 4;
end;
then reconsider l as non empty  limit_ordinal Ordinal by C3,B2,ORDINAL1:28,TARSKI:def 4;
thus ( union X ) c= ( f . ( union X ) ) by Z1,Z0,ORDINAL4:10;
reconsider g = ( f | l ) as  increasing Ordinal-Sequence by Z0,ORDINAL4:15;
l c= ( dom f ) by Z1,ORDINAL1:def 2;
then A9: ( dom g ) = l by RELAT_1:62;
then A7: ( Union g ) is_limes_of g by ORDINAL5:6;
( f . l ) is_limes_of g by Z0,Z1,ORDINAL2:def 13;
then A8: (( f . l ) = ( lim g ) & ( Union g ) = ( lim g )) by A7,ORDINAL2:def 10;
let x;
assume x in ( f . ( union X ) );
then consider z such that C1: (z in ( dom g ) & x in ( g . z )) by A8,CARD_5:2;
consider y such that C2: (z in y & y in X) by A9,C1,TARSKI:def 4;
consider t being set such that C4: ((y c= t & t in X) & t is_a_fixpoint_of f) by C2,Z2;
C3: (t in ( dom f ) & t = ( f . t )) by C4,ABIAN:def 3;
then reconsider z,t as Ordinal by C1;
(( f . z ) = ( g . z ) & z in t) by C1,C2,C4,FUNCT_1:47;
then ( g . z ) in t by Z0,C3,ORDINAL2:def 12;
then x in t by C1,ORDINAL1:10;
hence x in ( union X ) by C4,TARSKI:def 4;
end;
end;
