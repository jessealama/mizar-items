environ
vocabularies FUNCT_1,NUMBERS,SUBSET_1,SUPINF_2,XXREAL_0,ORDINAL1,RELAT_1,SUPINF_1,ORDINAL2,PROB_1,MEASURE2,MEASURE1,TARSKI,SETFAM_1,CARD_1,XBOOLE_0,ARYTM_3,NAT_1,ARYTM_1,REAL_1,XXREAL_2,ZFMISC_1,MEASURE3;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XXREAL_0,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,REAL_1,NAT_1,SETFAM_1,PROB_1,XXREAL_2,SUPINF_1,SUPINF_2,MEASURE1,MEASURE2,CKB3,CKB4,CKB17,CKB18;
definitions TARSKI,XBOOLE_0,XXREAL_3,CKB17,CKB18;
theorems TARSKI,FUNCT_1,FUNCT_2,ZFMISC_1,NAT_1,SETFAM_1,SUPINF_2,MEASURE1,MEASURE2,PROB_2,XBOOLE_0,XBOOLE_1,XXREAL_0,PROB_1,FINSUB_1,ORDINAL1,XXREAL_2,VALUED_0,XXREAL_3,RELAT_1,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
schemes NAT_1,FUNCT_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,FUNCT_2,NUMBERS,XREAL_0,MEMBERED,MEASURE1,VALUED_0,XXREAL_3,RELSET_1;
constructors PARTFUN1,REAL_1,NAT_1,PROB_2,MEASURE1,MEASURE2,SUPINF_1,RELSET_1,CKB4,CKB17,CKB18;
requirements NUMERALS,SUBSET,BOOLE,ARITHM;
begin
definition
let X being set;
let S being (SigmaField of X);
let M being (sigma_Measure of S);
func COM (S,M) -> non empty (Subset-Family of X)
means
:Def4: (for A being set holds (A in it iff (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C ))))));
existence
proof
A1: (ex B being set st ((B in S & ( {} ) c= B) & ( M . B ) = ( 0. )))
proof
consider B being set such that A2: (B = ( {} ) & B in S) by PROB_1:4;
take B;
thus thesis by A2,VALUED_0:def 19;
end;
A3: ( {} ) is (Subset of X) by XBOOLE_1:2;
A4: (for A being set holds (A = ( {} ) implies (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C ))))))
proof
reconsider C = ( {} ) as (thin of M) by A3,A1,CKB18:def 1;
let A being set;
consider B being set such that A5: B = ( {} ) and A6: B in S by PROB_1:4;
assume A = ( {} );
then A = ( B \/ C ) by A5;
hence thesis by A6;
end;
defpred P[ set ]
 means
(for A being set holds (A = $1 implies (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C ))))));
consider D being set such that A7: (for y being set holds (y in D iff (y in ( bool X ) & P[ y ]))) from XBOOLE_0:sch 1;
A8: (for A being set holds (A in D iff (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C ))))))
proof
let A being set;
A9: (A in D iff (A in ( bool X ) & (for y being set holds (y = A implies (ex B being set st (B in S & (ex C being (thin of M) st y = ( B \/ C )))))))) by A7;
((ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C )))) implies A in D)
proof
assume A10: (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C ))));
then A c= X by XBOOLE_1:8;
hence thesis by A9,A10;
end;
hence thesis by A7;
end;
A11: D c= ( bool X )
proof
let x being set;
assume x in D;
hence thesis by A7;
end;
( {} ) c= X by XBOOLE_1:2;
then reconsider D as non empty (Subset-Family of X) by A7,A11,A4;
take D;
thus thesis by A8;
end;
uniqueness
proof
let D1 being non empty (Subset-Family of X),D2 being non empty (Subset-Family of X);
assume that
A12: (for A being set holds (A in D1 iff (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C ))))))
and
A13: (for A being set holds (A in D2 iff (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C ))))));
(for A being set holds (A in D1 iff A in D2))
proof
let A being set;
thus (A in D1 implies A in D2)
proof
assume A in D1;
then (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C )))) by A12;
hence thesis by A13;
end;

assume A in D2;
then (ex B being set st (B in S & (ex C being (thin of M) st A = ( B \/ C )))) by A13;
hence thesis by A12;
end;
hence thesis by TARSKI:1;
end;
end;
