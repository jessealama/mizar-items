environ
vocabularies MYCIELSK,FINSET_1,DILWORTH,CARD_1,ARYTM_3,ARYTM_1,FUNCT_1,RELAT_1,RELAT_2,YELLOW_0,TARSKI,EQREL_1,CIRCUIT2,SUBSET_1,COMBGRAS,NECKLACE,NEWTON,XREAL_0,XXREAL_0,ORDINAL1,NAT_1,XBOOLE_0,ORDERS_2,STRUCT_0,ZFMISC_1,FUNCT_2,NUMBERS;
notations TARSKI,XBOOLE_0,ZFMISC_1,FINSET_1,CARD_1,SUBSET_1,STRUCT_0,ORDINAL1,ORDERS_2,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,NAT_D,RELAT_1,RELSET_1,RELAT_2,PARTFUN1,EQREL_1,FUNCT_1,FUNCT_2,NEWTON,YELLOW_0,NECKLACE,DILWORTH,NUMBERS,CKB8,CKB14,CKB19,CKB22,CKB27,CKB55,CKB57,CKB62,CKB70;
definitions STRUCT_0,XREAL_0,TARSKI,XBOOLE_0,RELAT_2,FUNCT_1,DILWORTH,NECKLACE,SUBSET_1,EQREL_1,ORDERS_2,CKB8,CKB14,CKB19,CKB22,CKB27,CKB55,CKB57,CKB62,CKB70;
theorems NEWTON,NAT_1,NAT_D,XREAL_0,XREAL_1,XXREAL_0,ORDINAL1,FUNCT_1,DILWORTH,XBOOLE_0,XBOOLE_1,TARSKI,NECKLACE,PENCIL_1,ZFMISC_1,ORDERS_2,EULER_1,CARD_2,CARD_1,YELLOW_0,RELSET_1,EQREL_1,FUNCT_2,RELAT_1,FINSET_1,FINSEQ_4,RELAT_2,SUBSET_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB12,CKB13,CKB14,CKB19,CKB22,CKB27,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB39,CKB40,CKB41,CKB42,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB53,CKB54,CKB55,CKB56,CKB57,CKB62,CKB63,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79;
schemes RECDEF_1,NAT_1,CLASSES1,PRE_CIRC,FUNCT_1,FUNCT_2,DILWORTH;
registrations SUBSET_1,XBOOLE_0,STRUCT_0,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,CARD_1,RELSET_1,PARTFUN1,ZFMISC_1,ORDINAL1,EQREL_1,NECKLA_3,RELAT_1,FUNCT_1,FUNCT_2,FINSET_1,DILWORTH,NUMBERS,NEWTON,NECKLACE,YELLOW_0,YELLOW14,ORDERS_2,CKB9,CKB10,CKB15,CKB16,CKB17,CKB18,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB28,CKB29,CKB38,CKB43,CKB44,CKB51,CKB52,CKB58,CKB59,CKB60,CKB61,CKB64,CKB65;
constructors STRUCT_0,NECKLACE,NECKLA_3,RELSET_1,SETFAM_1,XXREAL_0,NAT_1,NAT_D,FUNCT_2,NEWTON,YELLOW_0,DILWORTH,DOMAIN_1,CKB8,CKB14,CKB19,CKB22,CKB27,CKB55,CKB57,CKB62,CKB70;
requirements SUBSET,BOOLE,NUMERALS,ARITHM,REAL;
begin
theorem
Th46: (for n being Nat holds (for R being  irreflexive (NatRelStr of n) holds (2 <= ( clique# R ) implies ( clique# R ) = ( clique# ( Mycielskian R ) ))))
proof
let n being Nat;
let R being  irreflexive (NatRelStr of n);
assume that
A1: 2 <= ( clique# R )
and
A2: ( clique# R ) <> ( clique# ( Mycielskian R ) );
set cR = (the carrier of R);
set iR = (the InternalRel of R);
set MR = ( Mycielskian R );
set cMR = (the carrier of MR);
set iMR = (the InternalRel of MR);
set cnMR = ( clique# MR );
A3: cR = n by CKB57:def 1;
A4: cR c= cMR by CKB71:1;
consider C being  finite (Clique of R) such that A5: ( card C ) = ( clique# R ) by DILWORTH:def 4;
n <= ( n + n ) by NAT_1:11;
then n < ( ( 2 * n ) + 1 ) by NAT_1:13;
then n c= ( ( 2 * n ) + 1 ) by NAT_1:39;
then reconsider S = n as (Subset of MR) by CKB57:def 1;
A6: R = ( subrelstr S ) by CKB79:1;
then C is (Clique of MR) by DILWORTH:28;
then ( card C ) <= cnMR by DILWORTH:def 4;
then A7: ( clique# R ) < cnMR by A2,A5,XXREAL_0:1;
then 2 < cnMR by A1,XXREAL_0:2;
then A8: ( 2 + 1 ) <= cnMR by NAT_1:13;
consider D being  finite (Clique of MR) such that A9: ( card D ) = cnMR by DILWORTH:def 4;
per cases ;
suppose A10: D c= n;

( D /\ S ) is (Clique of R) by A6,DILWORTH:29;
then D is (Clique of R) by A10,XBOOLE_1:28;
hence contradiction by A9,A7,DILWORTH:def 4;
end;
suppose (not D c= n);

then consider x being set such that A11: x in D and A12: (not x in n) by TARSKI:def 3;
x in cMR by A11;
then A13: x in ( ( 2 * n ) + 1 ) by CKB57:def 1;
reconsider x as Nat by A13,NECKLACE:3;
reconsider xp1 = x as (Element of MR) by A11;
A14: x >= n by A12,NAT_1:44;
x < ( ( 2 * n ) + 1 ) by A13,NAT_1:44;
then A15: x <= ( 2 * n ) by NAT_1:13;
A16: (for y being set holds ((y in D & x <> y) implies y in n))
proof
let y being set;
assume that
A17: y in D
and
A18: x <> y
and
A19: (not y in n);
y in cMR by A17;
then A20: y in ( ( 2 * n ) + 1 ) by CKB57:def 1;
reconsider y as Nat by A20,NECKLACE:3;
reconsider yp1 = y as (Element of MR) by A17;
A21: y >= n by A19,NAT_1:44;
y < ( ( 2 * n ) + 1 ) by A20,NAT_1:44;
then A22: y <= ( 2 * n ) by NAT_1:13;
set DD = ( D \ { x,y } );
{ x,y } c= D by A17,A11,ZFMISC_1:32;
then A23: ( card DD ) = ( ( card D ) - ( card { x,y } ) ) by CARD_2:44;
( ( 1 + 2 ) - 2 ) <= ( ( card D ) - 2 ) by A8,A9,XREAL_1:9;
then 1 <= ( card DD ) by A23,A18,CARD_2:57;
then consider z being set such that A24: z in DD by CARD_1:27,XBOOLE_0:def 1;
A25: z in D by A24,XBOOLE_0:def 5;
A26: z in cMR by A24;
reconsider zp1 = z as (Element of MR) by A24;
A27: z in ( ( 2 * n ) + 1 ) by A26,CKB57:def 1;
reconsider z as Nat by A27,NECKLACE:3;
x in { x,y } by TARSKI:def 2;
then A28: z <> x by A24,XBOOLE_0:def 5;
y in { x,y } by TARSKI:def 2;
then A29: z <> y by A24,XBOOLE_0:def 5;
per cases  by A15,A22,XXREAL_0:1;
suppose A30: (x < ( 2 * n ) & y < ( 2 * n ));

(xp1 <= yp1 or yp1 <= xp1) by A11,A17,A18,DILWORTH:6;
then ([ x,y ] in iMR or [ y,x ] in iMR) by ORDERS_2:def 5;
hence contradiction by A14,A30,A21,CKB72:1;
end;
suppose A31: (x < ( 2 * n ) & y = ( 2 * n ));

(xp1 <= zp1 or zp1 <= xp1) by A28,A25,A11,DILWORTH:6;
then A32: ([ x,z ] in iMR or [ z,x ] in iMR) by ORDERS_2:def 5;
(yp1 <= zp1 or zp1 <= yp1) by A29,A25,A17,DILWORTH:6;
then ([ y,z ] in iMR or [ z,y ] in iMR) by ORDERS_2:def 5;
then (n <= z & z < ( 2 * n )) by A31,A21,CKB72:1;
hence contradiction by A32,A31,A14,CKB72:1;
end;
suppose A33: (x = ( 2 * n ) & y < ( 2 * n ));

(yp1 <= zp1 or zp1 <= yp1) by A29,A25,A17,DILWORTH:6;
then A34: ([ y,z ] in iMR or [ z,y ] in iMR) by ORDERS_2:def 5;
(xp1 <= zp1 or zp1 <= xp1) by A28,A25,A11,DILWORTH:6;
then ([ x,z ] in iMR or [ z,x ] in iMR) by ORDERS_2:def 5;
then (n <= z & z < ( 2 * n )) by A33,A14,CKB72:1;
hence contradiction by A34,A33,A21,CKB72:1;
end;
suppose (x = ( 2 * n ) & y = ( 2 * n ));

hence contradiction by A18;
end;
end;
A35: ( card ( D \ { x } ) ) = ( ( card D ) - ( card { x } ) ) by A11,EULER_1:4
.= ( ( card D ) - 1 ) by CARD_1:30;
per cases  by A15,XXREAL_0:1;
suppose A36: x < ( 2 * n );

consider xx being Nat such that A37: x = ( n + xx ) by A14,NAT_1:10;
( n + xx ) < ( n + n ) by A36,A37;
then A38: xx < n by XREAL_1:6;
then A39: xx in n by NAT_1:44;
reconsider xxp1 = xx as (Element of MR) by A39,A4,A3;
A40:now
assume xx in D;
then (xp1 <= xxp1 or xxp1 <= xp1) by A11,A38,A14,DILWORTH:6;
then ([ x,xx ] in iMR or [ xx,x ] in iMR) by ORDERS_2:def 5;
then ([ xx,xx ] in iR or [ xx,xx ] in iR) by A39,A37,CKB76:1,CKB77:1;
hence contradiction by A39,A3,NECKLACE:def 5;
end;
set DD = ( ( D \ { x } ) \/ { xx } );
DD c= cR
proof
let a being set;
assume a in DD;
then (a in ( D \ { x } ) or a in { xx }) by XBOOLE_0:def 3;
then ((a in D & (not a in { x })) or a = xx) by TARSKI:def 1,XBOOLE_0:def 5;
then ((a in D & a <> x) or a = xx) by TARSKI:def 1;
hence a in cR by A38,A16,A3,NAT_1:44;
end;
then reconsider DD as (Subset of R);
now
let a being (Element of R);
let b being (Element of R);
assume that
A41: a in DD
and
A42: b in DD
and
A43: a <> b;
(a in ( D \ { x } ) or a in { xx }) by A41,XBOOLE_0:def 3;
then A44: ((a in D & (not a in { x })) or a = xx) by TARSKI:def 1,XBOOLE_0:def 5;
(b in ( D \ { x } ) or b in { xx }) by A42,XBOOLE_0:def 3;
then A45: ((b in D & (not b in { x })) or b = xx) by TARSKI:def 1,XBOOLE_0:def 5;
A46: (a in cR & b in cR) by A41;
reconsider an = a,bn = b as Nat by A41,A3,NECKLACE:3;
reconsider ap1 = a,bp1 = b as (Element of MR) by A46,A4;
per cases  by A43,A44,A45,TARSKI:def 1;
suppose A47: (((a in D & a <> x) & b in D) & b <> x);

(ap1 <= bp1 or bp1 <= ap1) by A47,A43,DILWORTH:6;
hence (a <= b or b <= a) by A6,A41,YELLOW_0:60;
end;
suppose A48: ((a in D & a <> x) & b = xx);

(ap1 <= xp1 or xp1 <= ap1) by A48,A11,DILWORTH:6;
then ([ ap1,x ] in iMR or [ x,ap1 ] in iMR) by ORDERS_2:def 5;
then ([ an,xx ] in iR or [ xx,an ] in iR) by A3,A38,A37,CKB76:1,CKB77:1;
hence (a <= b or b <= a) by A48,ORDERS_2:def 5;
end;
suppose A49: ((a = xx & b in D) & b <> x);

(bp1 <= xp1 or xp1 <= bp1) by A49,A11,DILWORTH:6;
then ([ bp1,x ] in iMR or [ x,bp1 ] in iMR) by ORDERS_2:def 5;
then ([ bn,xx ] in iR or [ xx,bn ] in iR) by A3,A38,A37,CKB76:1,CKB77:1;
hence (a <= b or b <= a) by A49,ORDERS_2:def 5;
end;
end;
then reconsider DD as (Clique of R) by DILWORTH:6;
A50: (not xx in ( D \ { x } )) by A40,XBOOLE_0:def 5;
( card DD ) = ( ( ( card D ) - 1 ) + 1 ) by A50,A35,CARD_2:41
.= ( card D );
hence contradiction by A9,A7,DILWORTH:def 4;
end;
suppose A51: x = ( 2 * n );

( ( 2 + 1 ) - 1 ) <= ( ( card D ) - 1 ) by A9,A8,XREAL_1:9;
then 2 c= ( card ( D \ { x } ) ) by A35,NAT_1:39;
then consider y,z being set such that A52: y in ( D \ { x } ) and z in ( D \ { x } ) and y <> z by PENCIL_1:2;
A53: y in D by A52,ZFMISC_1:56;
A54: x <> y by A52,ZFMISC_1:56;
y in (the carrier of MR) by A52;
then y in ( ( 2 * n ) + 1 ) by CKB57:def 1;
then reconsider y as Nat by NECKLACE:3;
reconsider yp1 = y as (Element of MR) by A52;
(yp1 <= xp1 or xp1 <= yp1) by A54,A53,A11,DILWORTH:6;
then A55: ([ y,x ] in iMR or [ x,y ] in iMR) by ORDERS_2:def 5;
y in n by A16,A53,A54;
then A56: y < n by NAT_1:44;
n <= ( n + n ) by NAT_1:11;
hence contradiction by A55,A51,A56,CKB72:1;
end;
end;
end;
