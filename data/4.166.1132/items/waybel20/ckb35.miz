environ
vocabularies SUBSET_1,RELAT_1,XBOOLE_0,FUNCT_1,ZFMISC_1,EQREL_1,RELAT_2,ORDERS_2,STRUCT_0,TARSKI,YELLOW_0,LATTICES,LATTICE3,ORDINAL2,WAYBEL_0,WELLORD1,CAT_1,XXREAL_0,REWRITE1,WAYBEL_1,GROUP_6,SEQM_3,YELLOW_1,WAYBEL_3,PBOOLE,CARD_3,FINSET_1,FUNCT_4,WAYBEL16,WAYBEL_5,BINOP_1,SETFAM_1,WAYBEL20;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,SETFAM_1,RELAT_2,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,BINOP_1,FUNCT_2,FINSET_1,DOMAIN_1,EQREL_1,FUNCT_3,FUNCT_7,STRUCT_0,ORDERS_2,LATTICE3,QUANTAL1,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_3,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_5,WAYBEL16,CKB3;
definitions TARSKI,RELAT_2,LATTICE3,LATTICE5,YELLOW_0,WAYBEL_0,WAYBEL_1,WAYBEL_3,YELLOW_2,BINOP_1,STRUCT_0;
theorems TARSKI,ZFMISC_1,RELAT_1,RELAT_2,FUNCT_1,FUNCT_2,FUNCT_3,FUNCT_5,FUNCT_7,CARD_3,ORDERS_2,LATTICE3,LATTICE5,QUANTAL1,EQREL_1,YELLOW_0,YELLOW_2,YELLOW_3,YELLOW10,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_5,WAYBEL13,WAYBEL15,WAYBEL16,WAYBEL17,XBOOLE_0,XBOOLE_1,PARTFUN1,ORDERS_1,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34;
schemes YELLOW_0,FUNCT_2,PBOOLE;
registrations XBOOLE_0,SUBSET_1,RELAT_1,PARTFUN1,FUNCT_2,FINSET_1,STRUCT_0,LATTICE3,YELLOW_0,MONOID_0,WAYBEL_0,YELLOW_2,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL10,YELLOW_9,RELSET_1;
constructors DOMAIN_1,FUNCT_7,MONOID_0,QUANTAL1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL16,RELSET_1,CKB3;
requirements SUBSET,BOOLE;
begin
theorem
Th35: (for L,T being  continuous  complete LATTICE holds (for g being (CLHomomorphism of L,T) holds (for S being (Subset of [: L,L :]) holds (S = ( [: g,g :] " ( id (the carrier of T) ) ) implies ( subrelstr S ) is (CLSubFrame of [: L,L :])))))
proof
let L being  continuous  complete LATTICE,T being  continuous  complete LATTICE;
let g being (CLHomomorphism of L,T);
let SL being (Subset of [: L,L :]);
assume that
A1: SL = ( [: g,g :] " ( id (the carrier of T) ) );
set x = the (Element of L);
A2: ( dom g ) = (the carrier of L) by FUNCT_2:def 1;
then A3: [ x,x ] in [: ( dom g ),( dom g ) :] by ZFMISC_1:87;
[ ( g . x ),( g . x ) ] in ( id (the carrier of T) ) by RELAT_1:def 10;
then (( dom [: g,g :] ) = [: ( dom g ),( dom g ) :] & ( [: g,g :] . (x,x) ) in ( id (the carrier of T) )) by A2,FUNCT_3:def 8;
then reconsider nSL = SL as non empty (Subset of [: L,L :]) by A1,A3,FUNCT_1:def 7;
set pL = [: L,L :];
set pg = [: g,g :];
A4: g is  infs-preserving  directed-sups-preserving by WAYBEL16:def 1;
A5: (the carrier of pL) = [: (the carrier of L),(the carrier of L) :] by YELLOW_3:def 2;
A6: ( subrelstr nSL ) is non empty;
A7: ( subrelstr SL ) is  directed-sups-inheriting
proof
let X being  directed (Subset of ( subrelstr SL ));
assume that
A8: X <> ( {} )
and
A9:  ex_sup_of X,pL;
reconsider X9 = X as  directed non empty (Subset of pL) by A6,A8,YELLOW_2:7;
pg is  directed-sups-preserving by A4,CKB13:1;
then pg preserves_sup_of X9 by WAYBEL_0:def 37;
then A10: ( sup ( pg .: X9 ) ) = ( pg . ( sup X9 ) ) by A9,WAYBEL_0:def 31;
X c= (the carrier of ( subrelstr SL ));
then X c= SL by YELLOW_0:def 15;
then A11: ( pg .: X ) c= ( pg .: SL ) by RELAT_1:123;
(( pg .: SL ) c= ( id (the carrier of T) ) &  ex_sup_of ( pg .: X9 ),[: T,T :]) by A1,FUNCT_1:75,YELLOW_0:17;
then A12: ( sup ( pg .: X9 ) ) in ( id (the carrier of T) ) by A11,CKB15:1,XBOOLE_1:1;
consider x being set,y being set such that A13: (x in (the carrier of L) & y in (the carrier of L)) and A14: ( sup X9 ) = [ x,y ] by A5,ZFMISC_1:def 2;
[ x,y ] in [: ( dom g ),( dom g ) :] by A2,A13,ZFMISC_1:87;
then [ x,y ] in ( dom [: g,g :] ) by FUNCT_3:def 8;
then [ x,y ] in ( [: g,g :] " ( id (the carrier of T) ) ) by A14,A10,A12,FUNCT_1:def 7;
hence thesis by A1,A14,YELLOW_0:def 15;
end;
( subrelstr SL ) is  infs-inheriting
proof
let X being (Subset of ( subrelstr SL ));
assume that
A15:  ex_inf_of X,pL;
X c= (the carrier of ( subrelstr SL ));
then A16: X c= SL by YELLOW_0:def 15;
then reconsider X9 = X as (Subset of pL) by XBOOLE_1:1;
A17: (( pg .: SL ) c= ( id (the carrier of T) ) &  ex_inf_of ( pg .: X9 ),[: T,T :]) by A1,FUNCT_1:75,YELLOW_0:17;
pg is  infs-preserving by A4,CKB10:1;
then pg preserves_inf_of X9 by WAYBEL_0:def 32;
then A18: ( inf ( pg .: X9 ) ) = ( pg . ( inf X9 ) ) by A15,WAYBEL_0:def 30;
( pg .: X ) c= ( pg .: SL ) by A16,RELAT_1:123;
then A19: ( inf ( pg .: X9 ) ) in ( id (the carrier of T) ) by A17,CKB14:1,XBOOLE_1:1;
consider x being set,y being set such that A20: (x in (the carrier of L) & y in (the carrier of L)) and A21: ( inf X9 ) = [ x,y ] by A5,ZFMISC_1:def 2;
[ x,y ] in [: ( dom g ),( dom g ) :] by A2,A20,ZFMISC_1:87;
then [ x,y ] in ( dom [: g,g :] ) by FUNCT_3:def 8;
then [ x,y ] in ( [: g,g :] " ( id (the carrier of T) ) ) by A21,A18,A19,FUNCT_1:def 7;
hence thesis by A1,A21,YELLOW_0:def 15;
end;
hence thesis by A7;
end;
