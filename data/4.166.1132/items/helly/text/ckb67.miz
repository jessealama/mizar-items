environ
vocabularies NUMBERS,XBOOLE_0,FINSEQ_1,FUNCT_1,GRAPH_2,ARYTM_3,NAT_1,XXREAL_0,SUBSET_1,TREES_1,TARSKI,CARD_1,ORDINAL1,FINSET_1,MEMBERED,RELAT_1,ORDINAL4,GLIB_000,GLIB_001,ABIAN,ZFMISC_1,ARYTM_1,GRAPH_1,RCOMP_1,SETFAM_1,HELLY;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,FINSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,SETFAM_1,FUNCT_1,FINSEQ_1,MEMBERED,NAT_1,TREES_1,XXREAL_2,ABIAN,GRAPH_2,GLIB_000,GLIB_001,GLIB_002,CKB2,CKB27,CKB28,CKB34,CKB52,CKB66;
definitions TARSKI,XBOOLE_0,GLIB_001,CKB2,CKB34,CKB52,CKB66;
theorems TARSKI,NAT_1,GRAPH_5,SETFAM_1,XBOOLE_0,XBOOLE_1,GRFUNC_1,FUNCT_1,ZFMISC_1,ORDINAL1,FINSEQ_1,FINSEQ_2,FINSEQ_3,INT_1,EULER_1,CARD_1,XREAL_1,XXREAL_0,CHORD,ABIAN,GLIB_000,GLIB_001,GLIB_002,MSSCYC_1,MEMBERED,GRAPH_2,XXREAL_2,FINSEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35,CKB36,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66;
schemes NAT_1,FINSEQ_1;
registrations FINSET_1,XREAL_0,XXREAL_0,NAT_1,INT_1,RELAT_1,FINSEQ_1,ABIAN,MEMBERED,GLIB_000,GLIB_001,GLIB_002,XXREAL_2,CARD_1,FUNCT_1,XBOOLE_0,CKB14,CKB29,CKB31,CKB37,CKB38;
constructors DOMAIN_1,SETFAM_1,NAT_1,GRAPH_2,GLIB_001,GLIB_002,XXREAL_2,RELSET_1,RAT_1,CKB2,CKB34,CKB52,CKB66;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
theorem
(for T being _Tree holds (for X being  finite set holds ((for x being set holds (x in X implies (ex t being (_Subtree of T) st x = ( the_Vertices_of t )))) implies X is  with_Helly_property)))
proof
let T being _Tree;
let X being  finite set;
assume that
A1: (for x being set holds (x in X implies (ex t being (_Subtree of T) st x = ( the_Vertices_of t ))));
defpred P[ Nat ]
 means
(for H being non empty  finite set holds (((( card H ) = $1 & H c= X) & (for x,y being set holds ((x in H & y in H) implies x meets y))) implies ( meet H ) <> ( {} )));
A2: (for k being Nat holds ((for n being Nat holds (n < k implies P[ n ])) implies P[ k ]))
proof
let k being Nat;
assume that
A3: (for n being Nat holds (n < k implies P[ n ]));
let H being non empty  finite set;
assume that
A4: ( card H ) = k
and
A5: H c= X
and
A6: (for x,y being set holds ((x in H & y in H) implies x meets y));
per cases  by NAT_1:25;
suppose k = ( 0 );

hence thesis by A4;
end;
suppose k = 1;

then consider x being (Element of H) such that A7: H = { x } by A4,GRAPH_5:5;
x in H;
then (ex t being (_Subtree of T) st x = ( the_Vertices_of t )) by A1,A5;
hence thesis by A7,SETFAM_1:10;
end;
suppose A8: k > 1;

set cH = ( choose H );
set A = ( H \ { cH } );
A9: ( card A ) = ( ( card H ) - ( card { cH } ) ) by EULER_1:4
.= ( k - 1 ) by A4,CARD_1:30;
( k - 1 ) > ( 1 - 1 ) by A8,XREAL_1:9;
then reconsider A as non empty  finite set by A9;
A10: A c= X by A5,XBOOLE_1:1;
(for x,y being set holds ((x in A & y in A) implies x meets y)) by A6;
then reconsider mA = ( meet A ) as non empty set by A3,A9,A10,XREAL_1:44;
set cA = ( choose A );
set B = ( H \ { cA } );
A11: cA in A;
then A12: ( card B ) = ( ( card H ) - ( card { cA } ) ) by EULER_1:4
.= ( k - 1 ) by A4,CARD_1:30;
set C = { cH,cA };
A13: ( meet C ) = ( cH /\ cA ) by SETFAM_1:11;
cH meets cA by A6,A11;
then reconsider mC = ( meet C ) as non empty set by A13,XBOOLE_0:def 7;
( k - 1 ) > ( 1 - 1 ) by A8,XREAL_1:9;
then reconsider B as non empty  finite set by A12;
A14: B c= X by A5,XBOOLE_1:1;
(for x,y being set holds ((x in B & y in B) implies x meets y)) by A6;
then reconsider mB = ( meet B ) as non empty set by A3,A12,A14,XREAL_1:44;
set a = ( choose mA );
set b = ( choose mB );
set c = ( choose mC );
(c in mC & mC c= ( union C )) by SETFAM_1:2;
then consider cc being set such that A15: c in cc and A16: cc in C by TARSKI:def 4;
cH in H;
then C c= X by A5,A11,A10,ZFMISC_1:32;
then A17: (ex cct being (_Subtree of T) st cc = ( the_Vertices_of cct )) by A1,A16;
(a in mA & mA c= ( union A )) by SETFAM_1:2;
then consider aa being set such that A18: a in aa and A19: aa in A by TARSKI:def 4;
(b in mB & mB c= ( union B )) by SETFAM_1:2;
then consider bb being set such that A20: b in bb and A21: bb in B by TARSKI:def 4;
A22: (ex bbt being (_Subtree of T) st bb = ( the_Vertices_of bbt )) by A1,A14,A21;
(ex aat being (_Subtree of T) st aa = ( the_Vertices_of aat )) by A1,A10,A19;
then reconsider a,b,c as (Vertex of T) by A18,A20,A22,A15,A17;
A23: cA <> cH by ZFMISC_1:56;
now
let s being set;
assume A24: s in H;
hence (ex t being (_Subtree of T) st s = ( the_Vertices_of t )) by A1,A5;
thus (((a in s & b in s) or (a in s & c in s)) or (b in s & c in s))
proof
per cases ;
suppose s = cH;

then (s in C & s in B) by A23,TARSKI:def 2,ZFMISC_1:56;
hence thesis by SETFAM_1:def 1;
end;
suppose A25: s = cA;

then s in C by TARSKI:def 2;
hence thesis by A25,SETFAM_1:def 1;
end;
suppose (s <> cH & s <> cA);

then (s in A & s in B) by A24,ZFMISC_1:56;
hence thesis by SETFAM_1:def 1;
end;
end;

end;
hence thesis by CKB65:1;
end;
end;
A26: (for n being Nat holds P[ n ]) from NAT_1:sch 4(A2);
let H being non empty set;
assume that
A27: H c= X
and
A28: (for x,y being set holds ((x in H & y in H) implies x meets y));
reconsider H9 = H as  finite set by A27;
( card H9 ) = ( card H9 );
hence thesis by A26,A27,A28;
end;
