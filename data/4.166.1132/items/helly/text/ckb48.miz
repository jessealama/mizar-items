environ
vocabularies NUMBERS,XBOOLE_0,FINSEQ_1,FUNCT_1,GRAPH_2,ARYTM_3,NAT_1,XXREAL_0,SUBSET_1,TREES_1,TARSKI,CARD_1,ORDINAL1,FINSET_1,MEMBERED,RELAT_1,ORDINAL4,GLIB_000,GLIB_001,ABIAN,ZFMISC_1,ARYTM_1,GRAPH_1,RCOMP_1,SETFAM_1,HELLY;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,FINSET_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,SETFAM_1,FUNCT_1,FINSEQ_1,MEMBERED,NAT_1,TREES_1,XXREAL_2,ABIAN,GRAPH_2,GLIB_000,GLIB_001,GLIB_002,CKB2,CKB27,CKB28,CKB34;
definitions TARSKI,XBOOLE_0,GLIB_001,CKB2,CKB34;
theorems TARSKI,NAT_1,GRAPH_5,SETFAM_1,XBOOLE_0,XBOOLE_1,GRFUNC_1,FUNCT_1,ZFMISC_1,ORDINAL1,FINSEQ_1,FINSEQ_2,FINSEQ_3,INT_1,EULER_1,CARD_1,XREAL_1,XXREAL_0,CHORD,ABIAN,GLIB_000,GLIB_001,GLIB_002,MSSCYC_1,MEMBERED,GRAPH_2,XXREAL_2,FINSEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35,CKB36,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47;
schemes NAT_1,FINSEQ_1;
registrations FINSET_1,XREAL_0,XXREAL_0,NAT_1,INT_1,RELAT_1,FINSEQ_1,ABIAN,MEMBERED,GLIB_000,GLIB_001,GLIB_002,XXREAL_2,CARD_1,FUNCT_1,XBOOLE_0,CKB14,CKB29,CKB31,CKB37,CKB38;
constructors DOMAIN_1,SETFAM_1,NAT_1,GRAPH_2,GLIB_001,GLIB_002,XXREAL_2,RELSET_1,RAT_1,CKB2,CKB34;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
theorem
Th39: (for T being _Tree holds (for a,b,c being (Vertex of T) holds (c in ( ( T .pathBetween (a,b) ) .vertices() ) iff ( ( ( T .pathBetween (a,c) ) .vertices() ) /\ ( ( T .pathBetween (c,b) ) .vertices() ) ) = { c })))
proof
let T being _Tree;
let a being (Vertex of T),b being (Vertex of T),c being (Vertex of T);
set Pac = ( T .pathBetween (a,c) );
set Pcb = ( T .pathBetween (c,b) );
set Pab = ( T .pathBetween (a,b) );
A1: ( Pac .last() ) = c by CKB35:1
.= ( Pcb .first() ) by CKB35:1;
thus (c in ( Pab .vertices() ) implies ( ( Pac .vertices() ) /\ ( Pcb .vertices() ) ) = { c })
proof
assume A2: c in ( ( T .pathBetween (a,b) ) .vertices() );
thus ( ( Pac .vertices() ) /\ ( Pcb .vertices() ) ) c= { c }
proof
let x being set;
assume A3: x in ( ( Pac .vertices() ) /\ ( Pcb .vertices() ) );
then A4: x in ( Pac .vertices() ) by XBOOLE_0:def 4;
A5: x in ( Pcb .vertices() ) by A3,XBOOLE_0:def 4;
A6: ( Pcb .first() ) = c by CKB35:1;
A7: Pab = ( Pac .append Pcb ) by A2,CKB45:1;
A8: (( Pab .first() ) = a & ( Pab .last() ) = b) by CKB35:1;
A9: ( Pac .last() ) = c by CKB35:1;
per cases ;
suppose Pab is  trivial;

then ( Pab .first() ) = ( Pab .last() ) by GLIB_001:127;
then A10: ( Pab .vertices() ) = { a } by A8,CKB39:1;
x in ( ( Pac .vertices() ) \/ ( Pcb .vertices() ) ) by A4,XBOOLE_0:def 3;
then x in ( Pab .vertices() ) by A7,A9,A6,GLIB_001:93;
hence thesis by A2,A10,TARSKI:def 1;
end;
suppose A11: Pab is non trivial;

consider n being  odd (Element of ( NAT )) such that A12: n <= ( len Pcb ) and A13: ( Pcb . n ) = x by A5,GLIB_001:87;
1 <= n by ABIAN:12;
then ( 1 - 1 ) <= ( n - 1 ) by XREAL_1:9;
then reconsider n1 = ( n - 1 ) as  even (Element of ( NAT )) by INT_1:3;
consider m being  odd (Element of ( NAT )) such that A14: m <= ( len Pac ) and A15: ( Pac . m ) = x by A4,GLIB_001:87;
A16: m <= ( ( len Pac ) + n1 ) by A14,NAT_1:12;
1 <= m by ABIAN:12;
then m in ( dom Pac ) by A14,FINSEQ_3:25;
then A17: ( Pab . m ) = x by A7,A15,GLIB_001:32;
( ( len Pac ) + ( n1 + 1 ) ) <= ( ( len Pac ) + ( len Pcb ) ) by A12,XREAL_1:6;
then ( ( ( ( len Pac ) + n1 ) + 1 ) - 1 ) <= ( ( ( len Pac ) + ( len Pcb ) ) - 1 ) by XREAL_1:9;
then A18: ( ( ( ( len Pac ) + n1 ) + 1 ) - 1 ) <= ( ( ( len Pab ) + 1 ) - 1 ) by A7,A9,A6,GLIB_001:28;
A19: ( n1 + 1 ) = n;
then n1 < ( len Pcb ) by A12,NAT_1:13;
then A20: ( Pab . ( ( len Pac ) + n1 ) ) = x by A7,A9,A6,A13,A19,GLIB_001:33;
per cases  by A16,XXREAL_0:1;
suppose A21: m < ( ( len Pac ) + n1 );

then ( Pab .first() ) = x by A17,A20,A18,GLIB_001:def 28
.= ( Pab .last() ) by A17,A20,A18,A21,GLIB_001:def 28;
hence thesis by A11,GLIB_001:def 24;
end;
suppose A22: m = ( ( len Pac ) + n1 );

then n1 = ( 0 ) by A14,NAT_1:16;
hence thesis by A9,A15,A22,TARSKI:def 1;
end;
end;
end;

let x being set;
assume x in { c };
then A23: x = c by TARSKI:def 1;
then x = ( Pcb .first() ) by CKB35:1;
then A24: x in ( Pcb .vertices() ) by GLIB_001:88;
x = ( Pac .last() ) by A23,CKB35:1;
then x in ( Pac .vertices() ) by GLIB_001:88;
hence thesis by A24,XBOOLE_0:def 4;
end;

(( Pac .first() ) = a & ( Pcb .last() ) = b) by CKB35:1;
then A25: ( Pac .append Pcb ) is_Walk_from a,b by A1,GLIB_001:30;
assume ( ( Pac .vertices() ) /\ ( Pcb .vertices() ) ) = { c };
then ( ( Pac .vertices() ) /\ ( Pcb .vertices() ) ) = { ( Pac .last() ) } by CKB35:1;
then ( Pac .append Pcb ) is  Path-like by A1,CKB47:1;
then Pab = ( Pac .append Pcb ) by A25,CKB34:def 1;
hence thesis by CKB45:1;
end;
