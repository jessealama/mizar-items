environ
vocabularies NUMBERS,XBOOLE_0,PROB_1,MEASURE1,SUBSET_1,SEQFUNC,MESFUNC5,PARTFUN1,XXREAL_0,ORDINAL1,NAT_1,RELAT_1,ARYTM_3,ARYTM_1,FUNCT_1,XREAL_0,ORDINAL2,CARD_1,COMPLEX1,SEQ_2,SUPINF_2,XXREAL_2,RINFSUP1,TARSKI,MEASURE6,REAL_1,PBOOLE,MESFUNC1,VALUED_1,FUNCT_3,MESFUNC2,SUPINF_1,VALUED_0,RFUNCT_3,SERIES_1,CARD_3,MESFUNC8,MSSUBFAM,SETFAM_1,INTEGRA5,FUNCOP_1,ZFMISC_1,FUNCT_2,MEASURE2,MESFUNC9;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,XXREAL_0,VALUED_0,RELAT_1,FUNCT_1,RELSET_1,BINOP_1,FUNCT_2,PARTFUN1,NAT_1,PROB_1,SETFAM_1,SUPINF_1,SUPINF_2,XXREAL_2,MEASURE1,MEASURE2,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,SEQFUNC,MESFUNC5,MESFUNC8,RINFSUP2,FUNCOP_1;
definitions MESFUNC1,MEASURE6,MESFUNC5,BINOP_1,RINFSUP2,MESFUNC8,TARSKI,VALUED_0,XXREAL_3;
theorems TARSKI,PARTFUN1,FUNCT_1,SUPINF_2,EXTREAL1,EXTREAL2,MESFUNC1,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,MESFUNC2,XREAL_1,XXREAL_0,MESFUNC5,PROB_1,NAT_1,RELAT_1,FUNCT_3,ZFMISC_1,FUNCT_2,MEASURE1,MESFUNC6,SEQFUNC,ORDINAL1,SETFAM_1,MESFUNC8,RINFSUP2,MESFUNC7,SEQ_4,RELSET_1,MEASURE2,XXREAL_2,VALUED_0,FUNCOP_1,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10;
schemes FUNCT_2,NAT_1,BINOP_1,RECDEF_1,SEQFUNC,FUNCT_1;
registrations SUBSET_1,NAT_1,XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,MEASURE1,FUNCT_2,RELAT_1,XBOOLE_0,NUMBERS,XXREAL_0,XCMPLX_0,MESFUNC8,FUNCT_1,VALUED_0,XXREAL_3,RELSET_1;
constructors REAL_1,EXTREAL1,EXTREAL2,BINOP_1,NEWTON,MESFUNC1,MEASURE2,MEASURE6,MESFUNC2,MESFUNC5,MESFUNC8,RINFSUP2,SUPINF_1,SEQFUNC,RELSET_1,BINOP_2;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve seq for ExtREAL_sequence;
reserve seq1 for ExtREAL_sequence;
reserve seq2 for ExtREAL_sequence;
theorem
Th11: (((((seq1 is  convergent & seq2 is  convergent) & seq1 is  nonnegative) & seq2 is  nonnegative) & (for k being Nat holds ( seq . k ) = ( ( seq1 . k ) + ( seq2 . k ) ))) implies ((seq is  nonnegative & seq is  convergent) & ( lim seq ) = ( ( lim seq1 ) + ( lim seq2 ) )))
proof
assume that
A1: seq1 is  convergent
and
A2: seq2 is  convergent
and
A3: seq1 is  nonnegative
and
A4: seq2 is  nonnegative
and
A5: (for k being Nat holds ( seq . k ) = ( ( seq1 . k ) + ( seq2 . k ) ));
A6: (not seq2 is  convergent_to_-infty) by A4,CKB8:1;
(for n being set holds (n in ( dom seq ) implies ( 0. ) <= ( seq . n )))
proof
let n being set;
assume n in ( dom seq );
then reconsider n1 = n as Nat;
A7: ( 0 ) <= ( seq2 . n1 ) by A4,SUPINF_2:51;
A8: ( seq . n1 ) = ( ( seq1 . n1 ) + ( seq2 . n1 ) ) by A5;
( 0 ) <= ( seq1 . n1 ) by A3,SUPINF_2:51;
hence thesis by A7,A8;
end;
hence seq is  nonnegative by SUPINF_2:52;
A9: (not seq1 is  convergent_to_-infty) by A3,CKB8:1;
(for n being Nat holds ( 0 ) <= ( seq2 . n )) by A4,SUPINF_2:51;
then A10: ( lim seq2 ) <> ( -infty ) by A2,CKB10:1;
per cases  by A1,A9,MESFUNC5:def 11;
suppose A11: seq1 is  convergent_to_+infty;

(for g being  real number holds (( 0 ) < g implies (ex n being Nat st (for m being Nat holds (n <= m implies g <= ( seq . m ))))))
proof
let g being  real number;
assume ( 0 ) < g;
then consider n being Nat such that A12: (for m being Nat holds (n <= m implies g <= ( seq1 . m ))) by A11,MESFUNC5:def 9;
take n;
let m being Nat;
assume n <= m;
then A13: g <= ( seq1 . m ) by A12;
( 0 ) <= ( seq2 . m ) by A4,SUPINF_2:51;
then ( ( R_EAL g ) + ( 0. ) ) <= ( ( seq1 . m ) + ( seq2 . m ) ) by A13,XXREAL_3:36;
then g <= ( ( seq1 . m ) + ( seq2 . m ) ) by XXREAL_3:4;
hence thesis by A5;
end;
then A14: seq is  convergent_to_+infty by MESFUNC5:def 9;
hence seq is  convergent by MESFUNC5:def 11;
then A15: ( lim seq ) = ( +infty ) by A14,MESFUNC5:def 12;
( lim seq1 ) = ( +infty ) by A1,A11,MESFUNC5:def 12;
hence thesis by A10,A15,XXREAL_3:def 2;
end;
suppose A16: seq1 is  convergent_to_finite_number;

then A17: (not seq1 is  convergent_to_-infty) by MESFUNC5:51;
(not seq1 is  convergent_to_+infty) by A16,MESFUNC5:50;
then consider g being  real number such that A18: ( lim seq1 ) = g and A19: (for p being  real number holds (( 0 ) < p implies (ex n being Nat st (for m being Nat holds (n <= m implies |. ( ( seq1 . m ) - ( lim seq1 ) ) .| < p))))) and seq1 is  convergent_to_finite_number by A1,A17,MESFUNC5:def 12;
per cases  by A2,A6,MESFUNC5:def 11;
suppose A20: seq2 is  convergent_to_+infty;

(for g being  real number holds (( 0 ) < g implies (ex n being Nat st (for m being Nat holds (n <= m implies g <= ( seq . m ))))))
proof
let g being  real number;
assume ( 0 ) < g;
then consider n being Nat such that A21: (for m being Nat holds (n <= m implies g <= ( seq2 . m ))) by A20,MESFUNC5:def 9;
take n;
let m being Nat;
assume n <= m;
then A22: g <= ( seq2 . m ) by A21;
( 0 ) <= ( seq1 . m ) by A3,SUPINF_2:51;
then ( ( R_EAL g ) + ( 0. ) ) <= ( ( seq1 . m ) + ( seq2 . m ) ) by A22,XXREAL_3:36;
then g <= ( ( seq1 . m ) + ( seq2 . m ) ) by XXREAL_3:4;
hence thesis by A5;
end;
then A23: seq is  convergent_to_+infty by MESFUNC5:def 9;
hence seq is  convergent by MESFUNC5:def 11;
then A24: ( lim seq ) = ( +infty ) by A23,MESFUNC5:def 12;
( lim seq2 ) = ( +infty ) by A2,A20,MESFUNC5:def 12;
hence thesis by A18,A24,XXREAL_3:def 2;
end;
suppose A25: seq2 is  convergent_to_finite_number;

then A26: (not seq2 is  convergent_to_-infty) by MESFUNC5:51;
(not seq2 is  convergent_to_+infty) by A25,MESFUNC5:50;
then consider h being  real number such that A27: ( lim seq2 ) = h and A28: (for p being  real number holds (( 0 ) < p implies (ex n being Nat st (for m being Nat holds (n <= m implies |. ( ( seq2 . m ) - ( lim seq2 ) ) .| < p))))) and seq2 is  convergent_to_finite_number by A2,A26,MESFUNC5:def 12;
reconsider h9 = h,g9 = g as Real by XREAL_0:def 1;
A29: (for p being  real number holds (( 0 ) < p implies (ex n being Nat st (for m being Nat holds (n <= m implies |. ( ( seq . m ) - ( R_EAL ( g + h ) ) ) .| < p)))))
proof
let p being  real number;
A30: ( R_EAL h ) = h9;
assume A31: ( 0 ) < p;
then consider n1 being Nat such that A32: (for m being Nat holds (n1 <= m implies |. ( ( seq1 . m ) - ( lim seq1 ) ) .| < ( p / 2 ))) by A19;
consider n2 being Nat such that A33: (for m being Nat holds (n2 <= m implies |. ( ( seq2 . m ) - ( lim seq2 ) ) .| < ( p / 2 ))) by A28,A31;
reconsider n19 = n1,n29 = n2 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider n = ( max (n19,n29) ) as Nat;
take n;
let m being Nat;
assume A34: n <= m;
n2 <= n by XXREAL_0:25;
then n2 <= m by A34,XXREAL_0:2;
then A35: |. ( ( seq2 . m ) - ( lim seq2 ) ) .| < ( p / 2 ) by A33;
then |. ( ( seq2 . m ) - ( lim seq2 ) ) .| < ( +infty ) by XXREAL_0:2,XXREAL_0:9;
then A36: ( ( seq2 . m ) - ( R_EAL h ) ) in ( REAL ) by A27,EXTREAL2:30;
n1 <= n by XXREAL_0:25;
then n1 <= m by A34,XXREAL_0:2;
then A37: |. ( ( seq1 . m ) - ( lim seq1 ) ) .| < ( p / 2 ) by A32;
then |. ( ( seq1 . m ) - ( lim seq1 ) ) .| < ( +infty ) by XXREAL_0:2,XXREAL_0:9;
then ( ( seq1 . m ) - ( R_EAL g ) ) in ( REAL ) by A18,EXTREAL2:30;
then consider e1 being Real,e2 being Real such that A38: e1 = ( ( seq1 . m ) - ( R_EAL g ) ) and A39: e2 = ( ( seq2 . m ) - ( R_EAL h ) ) by A36;
A40: |. ( ( seq2 . m ) - ( R_EAL h ) ) .| = |. e2 .| by A39,EXTREAL2:1;
A41: ( 0 ) <= ( seq2 . m ) by A4,SUPINF_2:51;
then A42: ( ( seq2 . m ) - ( R_EAL h ) ) <> ( -infty ) by XXREAL_3:19;
A43: ( 0 ) <= ( seq1 . m ) by A3,SUPINF_2:51;
A44: |. ( ( seq1 . m ) - ( R_EAL g ) ) .| = |. e1 .| by A38,EXTREAL2:1;
then A45: ( |. ( ( seq2 . m ) - ( R_EAL h ) ) .| + |. ( ( seq1 . m ) - ( R_EAL g ) ) .| ) = ( |. e1 .| + |. e2 .| ) by A40,SUPINF_2:1;
( R_EAL g ) = g9;
then ( R_EAL ( g + h ) ) = ( ( R_EAL g ) + ( R_EAL h ) ) by A30,SUPINF_2:1;
then ( ( seq . m ) - ( R_EAL ( g + h ) ) ) = ( ( ( seq . m ) - ( R_EAL h ) ) - ( R_EAL g ) ) by XXREAL_3:31
.= ( ( ( ( seq1 . m ) + ( seq2 . m ) ) - ( R_EAL h ) ) - ( R_EAL g ) ) by A5
.= ( ( ( seq1 . m ) + ( ( seq2 . m ) - ( R_EAL h ) ) ) - ( R_EAL g ) ) by A43,A41,XXREAL_3:30
.= ( ( ( seq2 . m ) - ( R_EAL h ) ) + ( ( seq1 . m ) - ( R_EAL g ) ) ) by A43,A42,XXREAL_3:30;
then A46: |. ( ( seq . m ) - ( R_EAL ( g + h ) ) ) .| <= ( |. ( ( seq2 . m ) - ( R_EAL h ) ) .| + |. ( ( seq1 . m ) - ( R_EAL g ) ) .| ) by EXTREAL2:13;
( |. e1 .| + |. e2 .| ) < ( ( p / 2 ) + ( p / 2 ) ) by A18,A27,A37,A35,A44,A40,XREAL_1:8;
hence thesis by A46,A45,XXREAL_0:2;
end;
then A47: seq is  convergent_to_finite_number by MESFUNC5:def 8;
hence seq is  convergent by MESFUNC5:def 11;
then ( lim seq ) = ( g9 + h9 ) by A29,A47,MESFUNC5:def 12;
hence thesis by A18,A27,SUPINF_2:1;
end;
end;
end;
