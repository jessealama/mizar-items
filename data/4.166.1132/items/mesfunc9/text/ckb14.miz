environ
vocabularies NUMBERS,XBOOLE_0,PROB_1,MEASURE1,SUBSET_1,SEQFUNC,MESFUNC5,PARTFUN1,XXREAL_0,ORDINAL1,NAT_1,RELAT_1,ARYTM_3,ARYTM_1,FUNCT_1,XREAL_0,ORDINAL2,CARD_1,COMPLEX1,SEQ_2,SUPINF_2,XXREAL_2,RINFSUP1,TARSKI,MEASURE6,REAL_1,PBOOLE,MESFUNC1,VALUED_1,FUNCT_3,MESFUNC2,SUPINF_1,VALUED_0,RFUNCT_3,SERIES_1,CARD_3,MESFUNC8,MSSUBFAM,SETFAM_1,INTEGRA5,FUNCOP_1,ZFMISC_1,FUNCT_2,MEASURE2,MESFUNC9;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,XXREAL_0,VALUED_0,RELAT_1,FUNCT_1,RELSET_1,BINOP_1,FUNCT_2,PARTFUN1,NAT_1,PROB_1,SETFAM_1,SUPINF_1,SUPINF_2,XXREAL_2,MEASURE1,MEASURE2,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,SEQFUNC,MESFUNC5,MESFUNC8,RINFSUP2,FUNCOP_1;
definitions MESFUNC1,MEASURE6,MESFUNC5,BINOP_1,RINFSUP2,MESFUNC8,TARSKI,VALUED_0,XXREAL_3;
theorems TARSKI,PARTFUN1,FUNCT_1,SUPINF_2,EXTREAL1,EXTREAL2,MESFUNC1,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,MESFUNC2,XREAL_1,XXREAL_0,MESFUNC5,PROB_1,NAT_1,RELAT_1,FUNCT_3,ZFMISC_1,FUNCT_2,MEASURE1,MESFUNC6,SEQFUNC,ORDINAL1,SETFAM_1,MESFUNC8,RINFSUP2,MESFUNC7,SEQ_4,RELSET_1,MEASURE2,XXREAL_2,VALUED_0,FUNCOP_1,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
schemes FUNCT_2,NAT_1,BINOP_1,RECDEF_1,SEQFUNC,FUNCT_1;
registrations SUBSET_1,NAT_1,XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,MEASURE1,FUNCT_2,RELAT_1,XBOOLE_0,NUMBERS,XXREAL_0,XCMPLX_0,MESFUNC8,FUNCT_1,VALUED_0,XXREAL_3,RELSET_1;
constructors REAL_1,EXTREAL1,EXTREAL2,BINOP_1,NEWTON,MESFUNC1,MEASURE2,MEASURE6,MESFUNC2,MESFUNC5,MESFUNC8,RINFSUP2,SUPINF_1,SEQFUNC,RELSET_1,BINOP_2;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for non  empty set;
reserve S for (SigmaField of X);
reserve M for (sigma_Measure of S);
reserve E for (Element of S);
reserve x for (Element of X);
theorem
(( Integral (M,( chi (E,X) )) ) = ( M . E ) & ( Integral (M,( ( chi (E,X) ) | E )) ) = ( M . E ))
proof
reconsider XX = X as (Element of S) by MEASURE1:7;
set F = ( XX \ E );
A1:now
let x being (Element of X);
assume A2: x in ( dom ( max- ( chi (E,X) ) ) );
per cases ;
suppose x in E;

then ( ( chi (E,X) ) . x ) = 1 by FUNCT_3:def 3;
then ( max (( - ( ( chi (E,X) ) . x ) ),( 0. )) ) = ( 0. ) by XXREAL_0:def 10;
hence ( ( max- ( chi (E,X) ) ) . x ) = ( 0 ) by A2,MESFUNC2:def 3;
end;
suppose (not x in E);

then ( ( chi (E,X) ) . x ) = ( 0. ) by FUNCT_3:def 3;
then ( - ( ( chi (E,X) ) . x ) ) = ( 0 );
then ( max (( - ( ( chi (E,X) ) . x ) ),( 0. )) ) = ( 0 );
hence ( ( max- ( chi (E,X) ) ) . x ) = ( 0 ) by A2,MESFUNC2:def 3;
end;
end;
A3: XX = ( dom ( chi (E,X) ) ) by FUNCT_3:def 3;
then A4: XX = ( dom ( max+ ( chi (E,X) ) ) ) by MESFUNC7:23;
A5: ( XX /\ F ) = F by XBOOLE_1:28;
then A6: ( dom ( ( max+ ( chi (E,X) ) ) | F ) ) = F by A4,RELAT_1:61;
A7:now
let x being (Element of X);
assume A8: x in ( dom ( ( max+ ( chi (E,X) ) ) | F ) );
then ( ( chi (E,X) ) . x ) = ( 0 ) by A6,FUNCT_3:37;
then ( ( max+ ( chi (E,X) ) ) . x ) = ( 0 ) by MESFUNC7:23;
hence ( ( ( max+ ( chi (E,X) ) ) | F ) . x ) = ( 0 ) by A8,FUNCT_1:47;
end;
A9: ( chi (E,X) ) is_measurable_on XX by MESFUNC2:29;
then A10: ( max+ ( chi (E,X) ) ) is_measurable_on XX by MESFUNC7:23;
then ( max+ ( chi (E,X) ) ) is_measurable_on F by MESFUNC1:30;
then A11: ( integral+ (M,( ( max+ ( chi (E,X) ) ) | F )) ) = ( 0 ) by A4,A5,A6,A7,MESFUNC5:42,MESFUNC5:87;
A12: ( XX /\ E ) = E by XBOOLE_1:28;
then A13: ( dom ( ( max+ ( chi (E,X) ) ) | E ) ) = E by A4,RELAT_1:61;
( E \/ F ) = XX by A12,XBOOLE_1:51;
then A14: ( ( max+ ( chi (E,X) ) ) | ( E \/ F ) ) = ( max+ ( chi (E,X) ) ) by A4,RELAT_1:69;
A15: (for x being set holds (x in ( dom ( max+ ( chi (E,X) ) ) ) implies ( 0. ) <= ( ( max+ ( chi (E,X) ) ) . x ))) by MESFUNC2:12;
then A16: ( max+ ( chi (E,X) ) ) is  nonnegative by SUPINF_2:52;
then ( integral+ (M,( ( max+ ( chi (E,X) ) ) | ( E \/ F ) )) ) = ( ( integral+ (M,( ( max+ ( chi (E,X) ) ) | E )) ) + ( integral+ (M,( ( max+ ( chi (E,X) ) ) | F )) ) ) by A4,A10,MESFUNC5:81,XBOOLE_1:79;
then A17: ( integral+ (M,( max+ ( chi (E,X) ) )) ) = ( integral+ (M,( ( max+ ( chi (E,X) ) ) | E )) ) by A14,A11,XXREAL_3:4;
A18:now
let x being set;
assume A19: x in ( dom ( ( max+ ( chi (E,X) ) ) | E ) );
then ( ( chi (E,X) ) . x ) = 1 by A13,FUNCT_3:def 3;
then ( ( max+ ( chi (E,X) ) ) . x ) = 1 by MESFUNC7:23;
hence ( ( ( max+ ( chi (E,X) ) ) | E ) . x ) = 1 by A19,FUNCT_1:47;
end;
then ( ( max+ ( chi (E,X) ) ) | E ) is_simple_func_in S by A13,MESFUNC6:2;
then ( integral+ (M,( max+ ( chi (E,X) ) )) ) = ( integral' (M,( ( max+ ( chi (E,X) ) ) | E )) ) by A16,A17,MESFUNC5:15,MESFUNC5:77;
then A20: ( integral+ (M,( max+ ( chi (E,X) ) )) ) = ( ( R_EAL 1 ) * ( M . ( dom ( ( max+ ( chi (E,X) ) ) | E ) ) ) ) by A13,A18,MESFUNC5:104;
( max+ ( chi (E,X) ) ) is_measurable_on E by A10,MESFUNC1:30;
then ( ( max+ ( chi (E,X) ) ) | E ) is_measurable_on E by A4,A12,MESFUNC5:42;
then A21: ( ( chi (E,X) ) | E ) is_measurable_on E by MESFUNC7:23;
( ( max+ ( chi (E,X) ) ) | E ) is  nonnegative by A15,MESFUNC5:15,SUPINF_2:52;
then A22: ( ( chi (E,X) ) | E ) is  nonnegative by MESFUNC7:23;
E = ( dom ( ( chi (E,X) ) | E ) ) by A13,MESFUNC7:23;
then A23: ( Integral (M,( ( chi (E,X) ) | E )) ) = ( integral+ (M,( ( chi (E,X) ) | E )) ) by A21,A22,MESFUNC5:88;
XX = ( dom ( max- ( chi (E,X) ) ) ) by A3,MESFUNC2:def 3;
then ( integral+ (M,( max- ( chi (E,X) ) )) ) = ( 0 ) by A3,A9,A1,MESFUNC2:26,MESFUNC5:87;
then ( Integral (M,( chi (E,X) )) ) = ( ( R_EAL 1 ) * ( M . E ) ) by A13,A20,XXREAL_3:15;
hence ( Integral (M,( chi (E,X) )) ) = ( M . E ) by XXREAL_3:81;
( ( chi (E,X) ) | E ) = ( ( max+ ( chi (E,X) ) ) | E ) by MESFUNC7:23;
hence thesis by A13,A17,A20,A23,XXREAL_3:81;
end;
