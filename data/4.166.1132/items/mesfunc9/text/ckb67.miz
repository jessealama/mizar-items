environ
vocabularies NUMBERS,XBOOLE_0,PROB_1,MEASURE1,SUBSET_1,SEQFUNC,MESFUNC5,PARTFUN1,XXREAL_0,ORDINAL1,NAT_1,RELAT_1,ARYTM_3,ARYTM_1,FUNCT_1,XREAL_0,ORDINAL2,CARD_1,COMPLEX1,SEQ_2,SUPINF_2,XXREAL_2,RINFSUP1,TARSKI,MEASURE6,REAL_1,PBOOLE,MESFUNC1,VALUED_1,FUNCT_3,MESFUNC2,SUPINF_1,VALUED_0,RFUNCT_3,SERIES_1,CARD_3,MESFUNC8,MSSUBFAM,SETFAM_1,INTEGRA5,FUNCOP_1,ZFMISC_1,FUNCT_2,MEASURE2,MESFUNC9;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,XXREAL_0,VALUED_0,RELAT_1,FUNCT_1,RELSET_1,BINOP_1,FUNCT_2,PARTFUN1,NAT_1,PROB_1,SETFAM_1,SUPINF_1,SUPINF_2,XXREAL_2,MEASURE1,MEASURE2,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,SEQFUNC,MESFUNC5,MESFUNC8,RINFSUP2,FUNCOP_1,CKB16,CKB17,CKB18,CKB19,CKB26,CKB27,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64;
definitions MESFUNC1,MEASURE6,MESFUNC5,BINOP_1,RINFSUP2,MESFUNC8,TARSKI,VALUED_0,XXREAL_3,CKB17,CKB18,CKB19,CKB26,CKB27,CKB60,CKB61,CKB62,CKB63;
theorems TARSKI,PARTFUN1,FUNCT_1,SUPINF_2,EXTREAL1,EXTREAL2,MESFUNC1,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,MESFUNC2,XREAL_1,XXREAL_0,MESFUNC5,PROB_1,NAT_1,RELAT_1,FUNCT_3,ZFMISC_1,FUNCT_2,MEASURE1,MESFUNC6,SEQFUNC,ORDINAL1,SETFAM_1,MESFUNC8,RINFSUP2,MESFUNC7,SEQ_4,RELSET_1,MEASURE2,XXREAL_2,VALUED_0,FUNCOP_1,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB60,CKB61,CKB62,CKB63,CKB65,CKB66;
schemes FUNCT_2,NAT_1,BINOP_1,RECDEF_1,SEQFUNC,FUNCT_1;
registrations SUBSET_1,NAT_1,XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,MEASURE1,FUNCT_2,RELAT_1,XBOOLE_0,NUMBERS,XXREAL_0,XCMPLX_0,MESFUNC8,FUNCT_1,VALUED_0,XXREAL_3,RELSET_1,CKB58;
constructors REAL_1,EXTREAL1,EXTREAL2,BINOP_1,NEWTON,MESFUNC1,MEASURE2,MEASURE6,MESFUNC2,MESFUNC5,MESFUNC8,RINFSUP2,SUPINF_1,SEQFUNC,RELSET_1,BINOP_2,CKB16,CKB17,CKB18,CKB19,CKB26,CKB27,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for non empty set;
reserve S for (SigmaField of X);
reserve M for (sigma_Measure of S);
reserve E for (Element of S);
reserve F for (Functional_Sequence of X,( ExtREAL ));
theorem
Lm4: (((((E = ( dom ( F . ( 0 ) ) ) & F is  additive) & F is  with_the_same_dom) & (for n being Nat holds (( F . n ) is  nonnegative & ( F . n ) is_measurable_on E))) & (for x being (Element of X) holds (x in E implies ( F # x ) is  summable))) implies (ex I being ExtREAL_sequence st (((for n being Nat holds ( I . n ) = ( Integral (M,( ( F . n ) | E )) )) & I is  summable) & ( Integral (M,( ( lim ( Partial_Sums F ) ) | E )) ) = ( Sum I ))))
proof
assume that
A1: E = ( dom ( F . ( 0 ) ) )
and
A2: F is  additive
and
A3: F is  with_the_same_dom
and
A4: (for n being Nat holds (( F . n ) is  nonnegative & ( F . n ) is_measurable_on E))
and
A5: (for x being (Element of X) holds (x in E implies ( F # x ) is  summable));
consider FF being (Function of ( NAT ),( Funcs (( NAT ),( PFuncs (X,( ExtREAL )) )) )) such that A6: (for n being Nat holds ((((for m being Nat holds (( ( FF . n ) . m ) is_simple_func_in S & ( dom ( ( FF . n ) . m ) ) = ( dom ( F . n ) ))) & (for m being Nat holds ( ( FF . n ) . m ) is  nonnegative)) & (for j,k being Nat holds (j <= k implies (for x being (Element of X) holds (x in ( dom ( F . n ) ) implies ( ( ( FF . n ) . j ) . x ) <= ( ( ( FF . n ) . k ) . x )))))) & (for x being (Element of X) holds (x in ( dom ( F . n ) ) implies (( ( FF . n ) # x ) is  convergent & ( lim ( ( FF . n ) # x ) ) = ( ( F . n ) . x )))))) by A1,A3,A4,CKB65:1;
defpred PP[ (Element of ( NAT )),(Element of ( NAT )),set ]
 means
(for n,m being Nat holds ((n = $1 & m = $2) implies $3 = ( ( FF . n ) . m )));
A7: (for i1 being (Element of ( NAT )) holds (for j1 being (Element of ( NAT )) holds (ex F1 being (Element of ( PFuncs (X,( ExtREAL )) )) st PP[ i1,j1,F1 ])))
proof
let i1 being (Element of ( NAT ));
let j1 being (Element of ( NAT ));
reconsider i = i1,j = j1 as Nat;
reconsider F1 = ( ( FF . i ) . j ) as (Element of ( PFuncs (X,( ExtREAL )) )) by PARTFUN1:45;
take F1;
thus thesis;
end;
consider FF2 being (Function of [: ( NAT ),( NAT ) :],( PFuncs (X,( ExtREAL )) )) such that A8: (for i being (Element of ( NAT )) holds (for j being (Element of ( NAT )) holds PP[ i,j,( FF2 . (i,j) ) ])) from BINOP_1:sch 3(A7);
deffunc Phi(Nat) = ( ( Partial_Sums ( ProjMap2 (FF2,$1) ) ) . $1 );
consider P being (Functional_Sequence of X,( ExtREAL )) such that A9: (for k being Nat holds ( P . k ) = Phi(k)) from SEQFUNC:sch 1;
A10: (for n being Nat holds (((((for m being Nat holds (((( dom ( ( ProjMap1 (FF2,n) ) . m ) ) = E & ( dom ( ( ProjMap2 (FF2,n) ) . m ) ) = E) & ( ( ProjMap1 (FF2,n) ) . m ) is_simple_func_in S) & ( ( ProjMap2 (FF2,n) ) . m ) is_simple_func_in S)) & ( ProjMap1 (FF2,n) ) is  additive) & ( ProjMap2 (FF2,n) ) is  additive) & ( ProjMap1 (FF2,n) ) is  with_the_same_dom) & ( ProjMap2 (FF2,n) ) is  with_the_same_dom))
proof
let n being Nat;
A11:now
let m being Nat;
reconsider n1 = n,m1 = m as (Element of ( NAT )) by ORDINAL1:def 12;
A12: ( ( ProjMap1 (FF2,n) ) . m ) = ( FF2 . (n,m) ) by CKB62:def 1;
A13: ( FF2 . (n1,m1) ) = ( ( FF . n1 ) . m ) by A8;
A14: ( dom ( F . m1 ) ) = ( dom ( F . ( 0 ) ) ) by A3,MESFUNC8:def 2;
A15: ( ( ProjMap2 (FF2,n) ) . m ) = ( FF2 . (m,n) ) by CKB63:def 1;
A16: ( FF2 . (m1,n1) ) = ( ( FF . m1 ) . n ) by A8;
( dom ( F . n1 ) ) = ( dom ( F . m1 ) ) by A3,MESFUNC8:def 2;
hence (( dom ( ( ProjMap1 (FF2,n) ) . m ) ) = E & ( dom ( ( ProjMap2 (FF2,n) ) . m ) ) = E) by A1,A6,A12,A15,A13,A16,A14;
thus (( ( ProjMap1 (FF2,n) ) . m ) is_simple_func_in S & ( ( ProjMap2 (FF2,n) ) . m ) is_simple_func_in S) by A6,A12,A15,A13,A16;
end;
(for i1,j1 being Nat holds (( dom ( ( ProjMap1 (FF2,n) ) . i1 ) ) = ( dom ( ( ProjMap1 (FF2,n) ) . j1 ) ) & ( dom ( ( ProjMap2 (FF2,n) ) . i1 ) ) = ( dom ( ( ProjMap2 (FF2,n) ) . j1 ) )))
proof
let i1 being Nat,j1 being Nat;
A17: ( dom ( ( ProjMap2 (FF2,n) ) . i1 ) ) = E by A11;
( dom ( ( ProjMap1 (FF2,n) ) . i1 ) ) = E by A11;
hence thesis by A11,A17;
end;
hence thesis by A11,CKB42:1,MESFUNC8:def 2;
end;
(for n,m being Nat holds ( dom ( P . n ) ) = ( dom ( P . m ) ))
proof
let n being Nat,m being Nat;
A18: ( ProjMap2 (FF2,n) ) is  with_the_same_dom by A10;
A19: ( dom ( P . n ) ) = ( dom ( ( Partial_Sums ( ProjMap2 (FF2,n) ) ) . n ) ) by A9;
( ProjMap2 (FF2,n) ) is  additive by A10;
then ( dom ( P . n ) ) = ( dom ( ( ProjMap2 (FF2,n) ) . ( 0 ) ) ) by A18,A19,CKB36:1;
then ( dom ( P . n ) ) = E by A10;
then A20: ( dom ( P . n ) ) = ( dom ( ( ProjMap2 (FF2,m) ) . ( 0 ) ) ) by A10;
A21: ( ProjMap2 (FF2,m) ) is  with_the_same_dom by A10;
( ProjMap2 (FF2,m) ) is  additive by A10;
then ( dom ( P . n ) ) = ( dom ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . m ) ) by A21,A20,CKB36:1;
hence thesis by A9;
end;
then reconsider P as  with_the_same_dom (Functional_Sequence of X,( ExtREAL )) by MESFUNC8:def 2;
( dom ( lim P ) ) = ( dom ( P . ( 0 ) ) ) by MESFUNC8:def 9;
then ( dom ( lim P ) ) = ( dom ( ( Partial_Sums ( ProjMap2 (FF2,( 0 )) ) ) . ( 0 ) ) ) by A9;
then ( dom ( lim P ) ) = ( dom ( ( ProjMap2 (FF2,( 0 )) ) . ( 0 ) ) ) by CKB26:def 1;
then ( dom ( lim P ) ) = ( dom ( FF2 . (( 0 ),( 0 )) ) ) by CKB63:def 1;
then A22: ( dom ( lim P ) ) = ( dom ( ( FF . ( 0 ) ) . ( 0 ) ) ) by A8;
then A23: ( dom ( lim P ) ) = ( dom ( F . ( 0 ) ) ) by A6;
A24: (for k being Nat holds (for m being Nat holds (for x being (Element of X) holds (x in ( ( dom ( F . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,k) ) . ( 0 ) ) ) ) implies ( ( ( ProjMap2 (FF2,k) ) . m ) . x ) <= ( ( F . m ) . x )))))
proof
let k being Nat;
let m being Nat;
let x being (Element of X);
reconsider m1 = m,k1 = k as (Element of ( NAT )) by ORDINAL1:def 12;
assume x in ( ( dom ( F . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,k) ) . ( 0 ) ) ) );
then x in ( dom ( F . ( 0 ) ) ) by XBOOLE_0:def 4;
then A25: x in ( dom ( F . m ) ) by A3,MESFUNC8:def 2;
( ( FF . m1 ) # x ) is  non-decreasing
proof
let j being  ext-real number,k being  ext-real number;
assume that
A26: j in ( dom ( ( FF . m1 ) # x ) )
and
A27: k in ( dom ( ( FF . m1 ) # x ) )
and
A28: j <= k;
reconsider j,k as (Element of ( NAT )) by A26,A27;
A29: ( ( ( FF . m1 ) # x ) . k ) = ( ( ( FF . m1 ) . k ) . x ) by MESFUNC5:def 13;
( ( ( FF . m1 ) # x ) . j ) = ( ( ( FF . m1 ) . j ) . x ) by MESFUNC5:def 13;
hence thesis by A6,A25,A28,A29;
end;
then ( lim ( ( FF . m1 ) # x ) ) = ( sup ( ( FF . m1 ) # x ) ) by RINFSUP2:37;
then ( ( ( FF . m1 ) # x ) . k1 ) <= ( lim ( ( FF . m1 ) # x ) ) by RINFSUP2:23;
then A30: ( ( ( FF . m1 ) # x ) . k ) <= ( ( F . m1 ) . x ) by A6,A25;
( ( ProjMap2 (FF2,k) ) . m ) = ( FF2 . (m1,k1) ) by CKB63:def 1;
then ( ( ProjMap2 (FF2,k) ) . m ) = ( ( FF . m ) . k ) by A8;
hence thesis by A30,MESFUNC5:def 13;
end;
A31: (for x being (Element of X) holds (for k being (Element of ( NAT )) holds (x in ( dom ( lim P ) ) implies ( ( P # x ) . k ) <= ( ( ( Partial_Sums F ) # x ) . k ))))
proof
let x being (Element of X);
let k being (Element of ( NAT ));
assume A32: x in ( dom ( lim P ) );
( dom ( ( ProjMap2 (FF2,k) ) . ( 0 ) ) ) = E by A10;
then A33: x in ( ( dom ( F . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,k) ) . ( 0 ) ) ) ) by A1,A6,A22,A32;
A34: ( ProjMap2 (FF2,k) ) is  with_the_same_dom by A10;
( ( P # x ) . k ) = ( ( P . k ) . x ) by MESFUNC5:def 13;
then A35: ( ( P # x ) . k ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,k) ) ) . k ) . x ) by A9;
A36: (for m being Nat holds (for x being (Element of X) holds (x in ( ( dom ( F . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,k) ) . ( 0 ) ) ) ) implies ( ( ( ProjMap2 (FF2,k) ) . m ) . x ) <= ( ( F . m ) . x )))) by A24;
( ProjMap2 (FF2,k) ) is  additive by A10;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,k) ) ) . k ) . x ) <= ( ( ( Partial_Sums F ) . k ) . x ) by A2,A3,A33,A34,A36,CKB49:1;
hence thesis by A35,MESFUNC5:def 13;
end;
( dom ( lim ( Partial_Sums F ) ) ) = ( dom ( ( Partial_Sums F ) . ( 0 ) ) ) by MESFUNC8:def 9;
then A37: ( dom ( lim ( Partial_Sums F ) ) ) = E by A1,CKB26:def 1;
A38: (for n,m being Nat holds (( ( ProjMap1 (FF2,n) ) . m ) is  nonnegative & ( ( ProjMap2 (FF2,n) ) . m ) is  nonnegative))
proof
let n being Nat,m being Nat;
reconsider n1 = n,m1 = m as (Element of ( NAT )) by ORDINAL1:def 12;
( ( ProjMap1 (FF2,n) ) . m ) = ( FF2 . (n1,m1) ) by CKB62:def 1;
then ( ( ProjMap1 (FF2,n) ) . m ) = ( ( FF . n ) . m ) by A8;
hence ( ( ProjMap1 (FF2,n) ) . m ) is  nonnegative by A6;
( ( ProjMap2 (FF2,n) ) . m ) = ( FF2 . (m1,n1) ) by CKB63:def 1;
then ( ( ProjMap2 (FF2,n) ) . m ) = ( ( FF . m ) . n ) by A8;
hence thesis by A6;
end;
A39: (for n being (Element of ( NAT )) holds (for x being (Element of X) holds (x in E implies (( ( ProjMap1 (FF2,n) ) # x ) is  convergent & ( ( F . n ) . x ) = ( lim ( ( ProjMap1 (FF2,n) ) # x ) )))))
proof
let n being (Element of ( NAT ));
reconsider n1 = n as Nat;
let x being (Element of X);
assume A40: x in E;
(for k being Nat holds (ex m being Nat st (k <= m & ( ( ( ProjMap1 (FF2,n) ) # x ) . m ) > ( - 1 ))))
proof
let k being Nat;
take m = k;
A41: ( ( ( ProjMap1 (FF2,n) ) # x ) . m ) = ( ( ( ProjMap1 (FF2,n) ) . m ) . x ) by MESFUNC5:def 13;
( ( ProjMap1 (FF2,n) ) . m ) is  nonnegative by A38;
hence thesis by A41,SUPINF_2:39;
end;
then A42: (not ( ( ProjMap1 (FF2,n) ) # x ) is  convergent_to_-infty) by MESFUNC5:def 10;
A43: E = ( dom ( F . n1 ) ) by A1,A3,MESFUNC8:def 2;
( ( ProjMap1 (FF2,n) ) # x ) is  non-decreasing
proof
let i being  ext-real number,j being  ext-real number;
assume that
A44: i in ( dom ( ( ProjMap1 (FF2,n) ) # x ) )
and
A45: j in ( dom ( ( ProjMap1 (FF2,n) ) # x ) )
and
A46: i <= j;
reconsider i1 = i,j1 = j as (Element of ( NAT )) by A44,A45;
A47: ( ( ( ProjMap1 (FF2,n) ) # x ) . i1 ) = ( ( ( ProjMap1 (FF2,n) ) . i1 ) . x ) by MESFUNC5:def 13;
( ( ProjMap1 (FF2,n) ) . i1 ) = ( FF2 . (n,i1) ) by CKB62:def 1;
then A48: ( ( ProjMap1 (FF2,n) ) . i1 ) = ( ( FF . n1 ) . i1 ) by A8;
A49: ( ( ( ProjMap1 (FF2,n) ) # x ) . j1 ) = ( ( ( ProjMap1 (FF2,n) ) . j1 ) . x ) by MESFUNC5:def 13;
A50: ( ( ProjMap1 (FF2,n) ) . j1 ) = ( FF2 . (n,j1) ) by CKB62:def 1;
( ( ( FF . n1 ) . i1 ) . x ) <= ( ( ( FF . n1 ) . j1 ) . x ) by A6,A43,A40,A46;
hence thesis by A8,A47,A49,A48,A50;
end;
hence A51: ( ( ProjMap1 (FF2,n) ) # x ) is  convergent by RINFSUP2:37;
per cases  by A51,A42,MESFUNC5:def 11;
suppose A52: ( ( ProjMap1 (FF2,n) ) # x ) is  convergent_to_finite_number;

then A53: (not ( ( ProjMap1 (FF2,n) ) # x ) is  convergent_to_-infty) by MESFUNC5:51;
(not ( ( ProjMap1 (FF2,n) ) # x ) is  convergent_to_+infty) by A52,MESFUNC5:50;
then consider lP being  real number such that A54: ( lim ( ( ProjMap1 (FF2,n) ) # x ) ) = lP and A55: (for p being  real number holds (( 0 ) < p implies (ex nn being Nat st (for mm being Nat holds (nn <= mm implies |. ( ( ( ( ProjMap1 (FF2,n) ) # x ) . mm ) - ( lim ( ( ProjMap1 (FF2,n) ) # x ) ) ) .| < p))))) and ( ( ProjMap1 (FF2,n) ) # x ) is  convergent_to_finite_number by A51,A53,MESFUNC5:def 12;
A56: (for p being  real number holds (( 0 ) < p implies (ex nn being Nat st (for mm being Nat holds (nn <= mm implies |. ( ( ( ( FF . n1 ) # x ) . mm ) - ( R_EAL lP ) ) .| < p)))))
proof
let p being  real number;
assume ( 0 ) < p;
then consider nn being Nat such that A57: (for mm being Nat holds (nn <= mm implies |. ( ( ( ( ProjMap1 (FF2,n) ) # x ) . mm ) - ( lim ( ( ProjMap1 (FF2,n) ) # x ) ) ) .| < p)) by A55;
take nn;
let mm being Nat;
assume A58: nn <= mm;
reconsider mm1 = mm as (Element of ( NAT )) by ORDINAL1:def 12;
( ( ProjMap1 (FF2,n) ) . mm ) = ( FF2 . (n,mm) ) by CKB62:def 1;
then A59: ( ( ProjMap1 (FF2,n) ) . mm ) = ( ( FF . n1 ) . mm1 ) by A8;
( ( ( ProjMap1 (FF2,n) ) # x ) . mm ) = ( ( ( ProjMap1 (FF2,n) ) . mm ) . x ) by MESFUNC5:def 13;
then ( ( ( FF . n1 ) # x ) . mm ) = ( ( ( ProjMap1 (FF2,n) ) # x ) . mm ) by A59,MESFUNC5:def 13;
hence thesis by A54,A57,A58;
end;
then A60: ( ( FF . n1 ) # x ) is  convergent_to_finite_number by MESFUNC5:def 8;
then ( ( FF . n1 ) # x ) is  convergent by MESFUNC5:def 11;
then ( lim ( ( FF . n1 ) # x ) ) = ( R_EAL lP ) by A56,A60,MESFUNC5:def 12;
hence thesis by A6,A43,A40,A54;
end;
suppose A61: ( ( ProjMap1 (FF2,n) ) # x ) is  convergent_to_+infty;

(for g being  real number holds (( 0 ) < g implies (ex nn being Nat st (for mm being Nat holds (nn <= mm implies g <= ( ( ( FF . n1 ) # x ) . mm ))))))
proof
let g being  real number;
assume ( 0 ) < g;
then consider nn being Nat such that A62: (for mm being Nat holds (nn <= mm implies g <= ( ( ( ProjMap1 (FF2,n) ) # x ) . mm ))) by A61,MESFUNC5:def 9;
take nn;
let mm being Nat;
assume nn <= mm;
then A63: g <= ( ( ( ProjMap1 (FF2,n) ) # x ) . mm ) by A62;
reconsider mm1 = mm as (Element of ( NAT )) by ORDINAL1:def 12;
( ( ProjMap1 (FF2,n) ) . mm ) = ( FF2 . (n,mm1) ) by CKB62:def 1;
then A64: ( ( ProjMap1 (FF2,n) ) . mm ) = ( ( FF . n ) . mm ) by A8;
( ( ( ProjMap1 (FF2,n) ) # x ) . mm ) = ( ( ( ProjMap1 (FF2,n) ) . mm ) . x ) by MESFUNC5:def 13;
hence thesis by A63,A64,MESFUNC5:def 13;
end;
then A65: ( ( FF . n1 ) # x ) is  convergent_to_+infty by MESFUNC5:def 9;
then ( ( FF . n1 ) # x ) is  convergent by MESFUNC5:def 11;
then A66: ( lim ( ( FF . n1 ) # x ) ) = ( +infty ) by A65,MESFUNC5:def 12;
( lim ( ( ProjMap1 (FF2,n) ) # x ) ) = ( +infty ) by A51,A61,MESFUNC5:def 12;
hence thesis by A6,A43,A40,A66;
end;
end;
A67: ( dom ( lim ( Partial_Sums F ) ) ) = ( dom ( ( Partial_Sums F ) . ( 0 ) ) ) by MESFUNC8:def 9;
then A68: ( dom ( lim ( Partial_Sums F ) ) ) = E by A1,CKB26:def 1;
A69: (for n being Nat holds ( dom ( P . n ) ) = ( dom ( lim ( Partial_Sums F ) ) ))
proof
let n being Nat;
A70: ( ProjMap2 (FF2,n) ) is  with_the_same_dom by A10;
A71: ( dom ( P . n ) ) = ( dom ( ( Partial_Sums ( ProjMap2 (FF2,n) ) ) . n ) ) by A9;
( ProjMap2 (FF2,n) ) is  additive by A10;
then ( dom ( P . n ) ) = ( dom ( ( ProjMap2 (FF2,n) ) . ( 0 ) ) ) by A70,A71,CKB36:1;
hence thesis by A68,A10;
end;
A72: (for n,m being Nat holds (n <= m implies (for i being Nat holds (for x being (Element of X) holds (x in E implies ( ( ( ProjMap2 (FF2,n) ) . i ) . x ) <= ( ( ( ProjMap2 (FF2,m) ) . i ) . x ))))))
proof
let n being Nat,m being Nat;
assume A73: n <= m;
let i being Nat;
let x being (Element of X);
reconsider i1 = i,n1 = n,m1 = m as (Element of ( NAT )) by ORDINAL1:def 12;
( ( ( ProjMap2 (FF2,n) ) . i ) . x ) = ( ( FF2 . (i1,n1) ) . x ) by CKB63:def 1;
then A74: ( ( ( ProjMap2 (FF2,n) ) . i ) . x ) = ( ( ( FF . i ) . n ) . x ) by A8;
( ( ( ProjMap2 (FF2,m) ) . i ) . x ) = ( ( FF2 . (i1,m1) ) . x ) by CKB63:def 1;
then A75: ( ( ( ProjMap2 (FF2,m) ) . i ) . x ) = ( ( ( FF . i ) . m ) . x ) by A8;
assume x in E;
then x in ( dom ( F . i ) ) by A1,A3,MESFUNC8:def 2;
hence thesis by A6,A73,A74,A75;
end;
A76: (for n,m being Nat holds (n <= m implies (for i being Nat holds (for x being (Element of X) holds (x in E implies ( ( ( Partial_Sums ( ProjMap2 (FF2,n) ) ) . i ) . x ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . i ) . x ))))))
proof
let n being Nat,m being Nat;
A77: ( ProjMap2 (FF2,n) ) is  with_the_same_dom by A10;
A78: ( ProjMap2 (FF2,m) ) is  additive by A10;
assume A79: n <= m;
A80: (for i being Nat holds (for x being (Element of X) holds (x in ( ( dom ( ( ProjMap2 (FF2,n) ) . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,m) ) . ( 0 ) ) ) ) implies ( ( ( ProjMap2 (FF2,n) ) . i ) . x ) <= ( ( ( ProjMap2 (FF2,m) ) . i ) . x ))))
proof
let i being Nat;
let x being (Element of X);
assume x in ( ( dom ( ( ProjMap2 (FF2,n) ) . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,m) ) . ( 0 ) ) ) );
then x in ( dom ( ( ProjMap2 (FF2,n) ) . ( 0 ) ) ) by XBOOLE_0:def 4;
then x in E by A10;
hence thesis by A72,A79;
end;
let i being Nat;
let x being (Element of X);
assume A81: x in E;
then A82: x in ( dom ( ( ProjMap2 (FF2,m) ) . ( 0 ) ) ) by A10;
x in ( dom ( ( ProjMap2 (FF2,n) ) . ( 0 ) ) ) by A10,A81;
then A83: x in ( ( dom ( ( ProjMap2 (FF2,n) ) . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,m) ) . ( 0 ) ) ) ) by A82,XBOOLE_0:def 4;
A84: ( ProjMap2 (FF2,m) ) is  with_the_same_dom by A10;
( ProjMap2 (FF2,n) ) is  additive by A10;
hence thesis by A83,A77,A78,A84,A80,CKB49:1;
end;
A85: (for n,m being Nat holds (n <= m implies (for x being (Element of X) holds (x in E implies ( ( P . n ) . x ) <= ( ( P . m ) . x )))))
proof
let n being Nat,m being Nat;
reconsider n1 = n,m1 = m as (Element of ( NAT )) by ORDINAL1:def 12;
assume A86: n <= m;
let x being (Element of X);
A87: ( ProjMap2 (FF2,m) ) is  with_the_same_dom by A10;
A88: (for n being Nat holds ( ( ProjMap2 (FF2,m) ) . n ) is  nonnegative) by A38;
assume A89: x in E;
then x in ( dom ( ( ProjMap2 (FF2,m) ) . ( 0 ) ) ) by A10;
then ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) # x ) is  non-decreasing by A87,A88,CKB45:1;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) # x ) . n1 ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) # x ) . m1 ) by A86,RINFSUP2:7;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . n ) . x ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) # x ) . m1 ) by MESFUNC5:def 13;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . n ) . x ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . m ) . x ) by MESFUNC5:def 13;
then A90: ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . n ) . x ) <= ( ( P . m ) . x ) by A9;
( ( ( Partial_Sums ( ProjMap2 (FF2,n) ) ) . n ) . x ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . n ) . x ) by A76,A86,A89;
then ( ( P . n ) . x ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,m) ) ) . n ) . x ) by A9;
hence thesis by A90,XXREAL_0:2;
end;
A91: (for x being (Element of X) holds (x in ( dom ( lim P ) ) implies ( P # x ) is  convergent))
proof
let x being (Element of X);
assume A92: x in ( dom ( lim P ) );
(for n,m being (Element of ( NAT )) holds (m <= n implies ( ( P # x ) . m ) <= ( ( P # x ) . n )))
proof
let n being (Element of ( NAT )),m being (Element of ( NAT ));
assume m <= n;
then ( ( P . m ) . x ) <= ( ( P . n ) . x ) by A1,A85,A23,A92;
then ( ( P # x ) . m ) <= ( ( P . n ) . x ) by MESFUNC5:def 13;
hence thesis by MESFUNC5:def 13;
end;
then ( P # x ) is  non-decreasing by RINFSUP2:7;
hence thesis by RINFSUP2:37;
end;
A93: (for x being (Element of X) holds (x in ( dom ( lim P ) ) implies ( lim ( P # x ) ) = ( lim ( ( Partial_Sums F ) # x ) )))
proof
defpred PP2[ (Element of ( NAT )),(Element of ( NAT )),set ]
 means
(for n,m being Nat holds ((n = $1 & m = $2) implies $3 = ( ( Partial_Sums ( ProjMap2 (FF2,n) ) ) . m )));
let x being (Element of X);
A94: (for i1 being (Element of ( NAT )) holds (for j1 being (Element of ( NAT )) holds (ex PP2 being (Element of ( PFuncs (X,( ExtREAL )) )) st PP2[ i1,j1,PP2 ])))
proof
let i1 being (Element of ( NAT ));
let j1 being (Element of ( NAT ));
reconsider i = i1,j = j1 as Nat;
reconsider F1 = ( ( Partial_Sums ( ProjMap2 (FF2,i) ) ) . j ) as (Element of ( PFuncs (X,( ExtREAL )) )) by PARTFUN1:45;
take F1;
thus thesis;
end;
consider PP2 being (Function of [: ( NAT ),( NAT ) :],( PFuncs (X,( ExtREAL )) )) such that A95: (for i being (Element of ( NAT )) holds (for j being (Element of ( NAT )) holds PP2[ i,j,( PP2 . (i,j) ) ])) from BINOP_1:sch 3(A94);
assume A96: x in ( dom ( lim P ) );
then A97: ( P # x ) is  convergent by A91;
A98: (for p,n being (Element of ( NAT )) holds ( ( ProjMap2 (PP2,n) ) . p ) = ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . n ))
proof
let p being (Element of ( NAT )),n being (Element of ( NAT ));
( ( ProjMap2 (PP2,n) ) . p ) = ( PP2 . (p,n) ) by CKB63:def 1;
hence thesis by A95;
end;
A99: (for n being (Element of ( NAT )) holds ((( ( ProjMap2 (PP2,n) ) # x ) is  convergent & ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n ) is  convergent) & ( lim ( ( ProjMap2 (PP2,n) ) # x ) ) = ( lim ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n ) )))
proof
let n being (Element of ( NAT ));
( ( ProjMap2 (PP2,n) ) # x ) is  non-decreasing
proof
let j being  ext-real number,k being  ext-real number;
assume that
A100: j in ( dom ( ( ProjMap2 (PP2,n) ) # x ) )
and
A101: k in ( dom ( ( ProjMap2 (PP2,n) ) # x ) )
and
A102: j <= k;
reconsider j,k as (Element of ( NAT )) by A100,A101;
A103: ( ProjMap2 (FF2,j) ) is  additive by A10;
A104: ( ProjMap2 (FF2,k) ) is  with_the_same_dom by A10;
A105: ( dom ( ( ProjMap2 (FF2,k) ) . ( 0 ) ) ) = E by A10;
( ( ( ProjMap2 (PP2,n) ) # x ) . k ) = ( ( ( ProjMap2 (PP2,n) ) . k ) . x ) by MESFUNC5:def 13;
then A106: ( ( ( ProjMap2 (PP2,n) ) # x ) . k ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,k) ) ) . n ) . x ) by A98;
A107: ( ProjMap2 (FF2,k) ) is  additive by A10;
( ( ( ProjMap2 (PP2,n) ) # x ) . j ) = ( ( ( ProjMap2 (PP2,n) ) . j ) . x ) by MESFUNC5:def 13;
then A108: ( ( ( ProjMap2 (PP2,n) ) # x ) . j ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,j) ) ) . n ) . x ) by A98;
A109: ( ProjMap2 (FF2,j) ) is  with_the_same_dom by A10;
A110: ( dom ( ( ProjMap2 (FF2,j) ) . ( 0 ) ) ) = E by A10;
then (for i being Nat holds (for z being (Element of X) holds (z in ( ( dom ( ( ProjMap2 (FF2,j) ) . ( 0 ) ) ) /\ ( dom ( ( ProjMap2 (FF2,k) ) . ( 0 ) ) ) ) implies ( ( ( ProjMap2 (FF2,j) ) . i ) . z ) <= ( ( ( ProjMap2 (FF2,k) ) . i ) . z )))) by A72,A102,A105;
hence thesis by A1,A23,A96,A108,A106,A103,A109,A107,A104,A110,A105,CKB49:1;
end;
hence ( ( ProjMap2 (PP2,n) ) # x ) is  convergent by RINFSUP2:37;
hence thesis by RINFSUP2:21;
end;
A111: (for n being Nat holds ( ( ( Partial_Sums F ) # x ) . n ) <= ( lim ( P # x ) ))
proof
(for p being set holds (p in ( NAT ) implies ( ( ( ProjMap2 (PP2,( 0 )) ) # x ) . p ) = ( ( ( ProjMap1 (FF2,( 0 )) ) # x ) . p )))
proof
let p being set;
assume p in ( NAT );
then reconsider p9 = p as (Element of ( NAT ));
( ( ProjMap2 (PP2,( 0 )) ) . p9 ) = ( ( Partial_Sums ( ProjMap2 (FF2,p9) ) ) . ( 0 ) ) by A98;
then ( ( ProjMap2 (PP2,( 0 )) ) . p9 ) = ( ( ProjMap2 (FF2,p9) ) . ( 0 ) ) by CKB26:def 1;
then ( ( ProjMap2 (PP2,( 0 )) ) . p9 ) = ( FF2 . (( 0 ),p9) ) by CKB63:def 1;
then A112: ( ( ProjMap2 (PP2,( 0 )) ) . p9 ) = ( ( ProjMap1 (FF2,( 0 )) ) . p9 ) by CKB62:def 1;
( ( ( ProjMap2 (PP2,( 0 )) ) # x ) . p ) = ( ( ( ProjMap2 (PP2,( 0 )) ) . p9 ) . x ) by MESFUNC5:def 13;
hence thesis by A112,MESFUNC5:def 13;
end;
then ( ( ProjMap2 (PP2,( 0 )) ) # x ) = ( ( ProjMap1 (FF2,( 0 )) ) # x ) by FUNCT_2:12;
then A113: ( lim ( ( ProjMap2 (PP2,( 0 )) ) # x ) ) = ( ( F . ( 0 ) ) . x ) by A1,A39,A23,A96;
defpred C[ Nat ]
 means
( lim ( ( ProjMap2 (PP2,$1) ) # x ) ) = ( ( ( Partial_Sums F ) # x ) . $1 );
let n being Nat;
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
A114: ( lim ( ( P # x ) ^\ n9 ) ) = ( lim ( P # x ) ) by A97,RINFSUP2:21;
A115: ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n9 ) is  convergent by A99;
A116: (for k being Nat holds (C[ k ] implies C[ ( k + 1 ) ]))
proof
let k being Nat;
reconsider k9 = k as (Element of ( NAT )) by ORDINAL1:def 12;
assume A117: C[ k ];
A118: ( ( ProjMap2 (PP2,k9) ) # x ) is  convergent by A99;
now
let m being set;
assume m in ( dom ( ( ProjMap1 (FF2,( k + 1 )) ) # x ) );
then reconsider m1 = m as (Element of ( NAT ));
( ( ProjMap1 (FF2,( k + 1 )) ) . m1 ) is  nonnegative by A38;
then ( 0. ) <= ( ( ( ProjMap1 (FF2,( k + 1 )) ) . m1 ) . x ) by SUPINF_2:51;
hence ( 0. ) <= ( ( ( ProjMap1 (FF2,( k + 1 )) ) # x ) . m ) by MESFUNC5:def 13;
end;
then A119: ( ( ProjMap1 (FF2,( k + 1 )) ) # x ) is  nonnegative by SUPINF_2:52;
now
let m being set;
assume m in ( dom ( ( ProjMap2 (PP2,k) ) # x ) );
then reconsider m1 = m as (Element of ( NAT ));
A120: ( ( ProjMap2 (PP2,k) ) . m1 ) = ( ( Partial_Sums ( ProjMap2 (FF2,m1) ) ) . k9 ) by A98;
(for l being Nat holds ( ( ProjMap2 (FF2,m1) ) . l ) is  nonnegative) by A38;
then ( ( ProjMap2 (PP2,k) ) . m1 ) is  nonnegative by A120,CKB43:1;
then ( 0. ) <= ( ( ( ProjMap2 (PP2,k) ) . m1 ) . x ) by SUPINF_2:51;
hence ( 0. ) <= ( ( ( ProjMap2 (PP2,k) ) # x ) . m ) by MESFUNC5:def 13;
end;
then A121: ( ( ProjMap2 (PP2,k) ) # x ) is  nonnegative by SUPINF_2:52;
x in ( dom ( ( Partial_Sums F ) . ( k + 1 ) ) ) by A2,A3,A23,A96,CKB36:1;
then A122: x in ( dom ( ( ( Partial_Sums F ) . k ) + ( F . ( k + 1 ) ) ) ) by CKB26:def 1;
A123: (for p being Nat holds ( ( ( ProjMap2 (PP2,( k + 1 )) ) # x ) . p ) = ( ( ( ( ProjMap2 (PP2,k) ) # x ) . p ) + ( ( ( ProjMap1 (FF2,( k + 1 )) ) # x ) . p ) ))
proof
let p being Nat;
reconsider p9 = p as (Element of ( NAT )) by ORDINAL1:def 12;
A124: ( ( ProjMap2 (FF2,p9) ) . ( k + 1 ) ) = ( FF2 . (( k + 1 ),p9) ) by CKB63:def 1;
A125: ( ProjMap2 (FF2,p) ) is  with_the_same_dom by A10;
A126: ( dom ( ( ProjMap2 (FF2,p) ) . ( 0 ) ) ) = E by A10;
( ProjMap2 (FF2,p) ) is  additive by A10;
then E c= ( dom ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . ( k + 1 ) ) ) by A125,A126,CKB36:1;
then A127: E c= ( dom ( ( ProjMap2 (PP2,( k + 1 )) ) . p9 ) ) by A98;
( ( ProjMap2 (PP2,( k + 1 )) ) . p9 ) = ( ( Partial_Sums ( ProjMap2 (FF2,p9) ) ) . ( k + 1 ) ) by A98;
then A128: ( ( ProjMap2 (PP2,( k + 1 )) ) . p9 ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,p9) ) ) . k ) + ( ( ProjMap2 (FF2,p9) ) . ( k + 1 ) ) ) by CKB26:def 1;
( ( Partial_Sums ( ProjMap2 (FF2,p9) ) ) . k9 ) = ( ( ProjMap2 (PP2,k) ) . p9 ) by A98;
then ( ( ProjMap2 (PP2,( k + 1 )) ) . p9 ) = ( ( ( ProjMap2 (PP2,k) ) . p9 ) + ( ( ProjMap1 (FF2,( k + 1 )) ) . p9 ) ) by A128,A124,CKB62:def 1;
then ( ( ( ProjMap2 (PP2,( k + 1 )) ) . p9 ) . x ) = ( ( ( ( ProjMap2 (PP2,k) ) . p9 ) . x ) + ( ( ( ProjMap1 (FF2,( k + 1 )) ) . p9 ) . x ) ) by A1,A23,A96,A127,MESFUNC1:def 3;
then A129: ( ( ( ProjMap2 (PP2,( k + 1 )) ) . p9 ) . x ) = ( ( ( ( ProjMap2 (PP2,k) ) # x ) . p ) + ( ( ( ProjMap1 (FF2,( k + 1 )) ) . p9 ) . x ) ) by MESFUNC5:def 13;
( ( ( ProjMap2 (PP2,( k + 1 )) ) # x ) . p ) = ( ( ( ProjMap2 (PP2,( k + 1 )) ) . p9 ) . x ) by MESFUNC5:def 13;
hence thesis by A129,MESFUNC5:def 13;
end;
A130: ( lim ( ( ProjMap1 (FF2,( k + 1 )) ) # x ) ) = ( ( F . ( k + 1 ) ) . x ) by A1,A39,A23,A96;
( ( ProjMap1 (FF2,( k + 1 )) ) # x ) is  convergent by A1,A39,A23,A96;
then ( lim ( ( ProjMap2 (PP2,( k + 1 )) ) # x ) ) = ( ( lim ( ( ProjMap2 (PP2,k) ) # x ) ) + ( lim ( ( ProjMap1 (FF2,( k + 1 )) ) # x ) ) ) by A118,A121,A119,A123,CKB11:1;
then ( lim ( ( ProjMap2 (PP2,( k + 1 )) ) # x ) ) = ( ( ( ( Partial_Sums F ) . k ) . x ) + ( ( F . ( k + 1 ) ) . x ) ) by A117,A130,MESFUNC5:def 13;
then ( lim ( ( ProjMap2 (PP2,( k + 1 )) ) # x ) ) = ( ( ( ( Partial_Sums F ) . k ) + ( F . ( k + 1 ) ) ) . x ) by A122,MESFUNC1:def 3;
then ( lim ( ( ProjMap2 (PP2,( k + 1 )) ) # x ) ) = ( ( ( Partial_Sums F ) . ( k + 1 ) ) . x ) by CKB26:def 1;
hence thesis by MESFUNC5:def 13;
end;
A131: (for p being (Element of ( NAT )) holds ( ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n9 ) . p ) <= ( ( ( P # x ) ^\ n9 ) . p ))
proof
let p being (Element of ( NAT ));
A132: n <= ( n + p ) by NAT_1:11;
A133: ( ProjMap2 (FF2,( n + p )) ) is  with_the_same_dom by A10;
A134: (for i being Nat holds ( ( ProjMap2 (FF2,( n + p )) ) . i ) is  nonnegative) by A38;
x in ( dom ( ( ProjMap2 (FF2,( n + p )) ) . ( 0 ) ) ) by A1,A10,A23,A96;
then ( ( Partial_Sums ( ProjMap2 (FF2,( n + p )) ) ) # x ) is  non-decreasing by A133,A134,CKB45:1;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,( n + p )) ) ) # x ) . n9 ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,( n + p )) ) ) # x ) . ( n9 + p ) ) by A132,RINFSUP2:7;
then A135: ( ( ( Partial_Sums ( ProjMap2 (FF2,( n + p )) ) ) # x ) . n9 ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,( n + p )) ) ) . ( n + p ) ) . x ) by MESFUNC5:def 13;
( ( ( P # x ) ^\ n9 ) . p ) = ( ( P # x ) . ( n + p ) ) by NAT_1:def 3;
then ( ( ( P # x ) ^\ n9 ) . p ) = ( ( P . ( n + p ) ) . x ) by MESFUNC5:def 13;
then A136: ( ( ( P # x ) ^\ n9 ) . p ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,( n + p )) ) ) . ( n + p ) ) . x ) by A9;
( ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n9 ) . p ) = ( ( ( ProjMap2 (PP2,n) ) # x ) . ( n + p ) ) by NAT_1:def 3;
then ( ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n9 ) . p ) = ( ( ( ProjMap2 (PP2,n) ) . ( n + p ) ) . x ) by MESFUNC5:def 13;
then ( ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n9 ) . p ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,( n + p )) ) ) . n ) . x ) by A98;
hence thesis by A136,A135,MESFUNC5:def 13;
end;
( ( ( Partial_Sums F ) # x ) . ( 0 ) ) = ( ( ( Partial_Sums F ) . ( 0 ) ) . x ) by MESFUNC5:def 13;
then A137: C[ ( 0 ) ] by A113,CKB26:def 1;
A138: (for k being Nat holds C[ k ]) from NAT_1:sch 2(A137,A116);
( ( P # x ) ^\ n9 ) is  convergent by A97,RINFSUP2:21;
then ( lim ( ( ( ProjMap2 (PP2,n) ) # x ) ^\ n9 ) ) <= ( lim ( ( P # x ) ^\ n9 ) ) by A115,A131,RINFSUP2:38;
then ( lim ( ( ProjMap2 (PP2,n) ) # x ) ) <= ( lim ( P # x ) ) by A99,A114;
hence thesis by A138;
end;
( F # x ) is  summable by A1,A5,A23,A96;
then A139: ( Partial_Sums ( F # x ) ) is  convergent by CKB18:def 1;
( ( Partial_Sums F ) # x ) is  convergent
proof
per cases  by A139,MESFUNC5:def 11;
suppose ( Partial_Sums ( F # x ) ) is  convergent_to_finite_number;

then ( ( Partial_Sums F ) # x ) is  convergent_to_finite_number by A2,A3,A23,A96,CKB40:1;
hence thesis by MESFUNC5:def 11;
end;
suppose ( Partial_Sums ( F # x ) ) is  convergent_to_+infty;

then ( ( Partial_Sums F ) # x ) is  convergent_to_+infty by A2,A3,A23,A96,CKB40:1;
hence thesis by MESFUNC5:def 11;
end;
suppose ( Partial_Sums ( F # x ) ) is  convergent_to_-infty;

then ( ( Partial_Sums F ) # x ) is  convergent_to_-infty by A2,A3,A23,A96,CKB40:1;
hence thesis by MESFUNC5:def 11;
end;
end;
then A140: ( lim ( ( Partial_Sums F ) # x ) ) <= ( lim ( P # x ) ) by A111,CKB9:1;
A141: (for k being (Element of ( NAT )) holds ( ( P # x ) . k ) <= ( ( ( Partial_Sums F ) # x ) . k )) by A31,A96;
( ( Partial_Sums F ) # x ) is  convergent by A3,A4,A23,A96,CKB45:1;
then ( lim ( P # x ) ) <= ( lim ( ( Partial_Sums F ) # x ) ) by A97,A141,RINFSUP2:38;
hence thesis by A140,XXREAL_0:1;
end;
A142: (for x being (Element of X) holds (x in ( dom ( lim ( Partial_Sums F ) ) ) implies (( P # x ) is  convergent & ( lim ( P # x ) ) = ( ( lim ( Partial_Sums F ) ) . x ))))
proof
let x being (Element of X);
assume A143: x in ( dom ( lim ( Partial_Sums F ) ) );
then x in ( dom ( lim P ) ) by A1,A6,A22,A37;
hence ( P # x ) is  convergent by A91;
( lim ( P # x ) ) = ( lim ( ( Partial_Sums F ) # x ) ) by A1,A23,A37,A93,A143;
hence thesis by A143,MESFUNC8:def 9;
end;
A144: (for n being Nat holds ( P . n ) is  nonnegative)
proof
let n being Nat;
(for k being Nat holds ( ( ProjMap2 (FF2,n) ) . k ) is  nonnegative) by A38;
then ( ( Partial_Sums ( ProjMap2 (FF2,n) ) ) . n ) is  nonnegative by CKB43:1;
hence thesis by A9;
end;
A145: (for x being set holds (x in ( dom ( lim ( Partial_Sums F ) ) ) implies ( ( lim ( Partial_Sums F ) ) . x ) >= ( 0 )))
proof
let x being set;
assume A146: x in ( dom ( lim ( Partial_Sums F ) ) );
then reconsider x1 = x as (Element of X);
A147: (for n being Nat holds ( ( ( Partial_Sums F ) # x1 ) . n ) >= ( 0 ))
proof
let n being Nat;
( ( Partial_Sums F ) . n ) is  nonnegative by A4,CKB43:1;
then ( ( ( Partial_Sums F ) . n ) . x1 ) >= ( 0 ) by SUPINF_2:51;
hence thesis by MESFUNC5:def 13;
end;
x in ( dom ( F . ( 0 ) ) ) by A67,A146,CKB26:def 1;
then ( ( Partial_Sums F ) # x1 ) is  convergent by A3,A4,CKB45:1;
then ( lim ( ( Partial_Sums F ) # x1 ) ) >= ( 0 ) by A147,CKB10:1;
hence thesis by A146,MESFUNC8:def 9;
end;
then A148: ( lim ( Partial_Sums F ) ) is  nonnegative by SUPINF_2:52;
consider I being ExtREAL_sequence such that A149: (for n being Nat holds (( I . n ) = ( Integral (M,( F . n )) ) & ( Integral (M,( ( Partial_Sums F ) . n )) ) = ( ( Partial_Sums I ) . n ))) by A1,A2,A3,A4,CKB66:1;
(for n being set holds (n in ( dom I ) implies ( 0 ) <= ( I . n )))
proof
let n being set;
assume n in ( dom I );
then reconsider n1 = n as Nat;
A150: ( F . n1 ) is  nonnegative by A4;
A151: ( F . n1 ) is_measurable_on E by A4;
E = ( dom ( F . n1 ) ) by A1,A3,MESFUNC8:def 2;
then ( 0 ) <= ( Integral (M,( F . n1 )) ) by A150,A151,MESFUNC5:90;
hence thesis by A149;
end;
then I is  nonnegative by SUPINF_2:52;
then A152: ( Partial_Sums I ) is  non-decreasing by CKB20:1;
then A153: ( Partial_Sums I ) is  convergent by RINFSUP2:37;
deffunc J((Element of ( NAT ))) = ( integral' (M,( P . $1 )) );
consider J being (Function of ( NAT ),( ExtREAL )) such that A154: (for n being (Element of ( NAT )) holds ( J . n ) = J(n)) from FUNCT_2:sch 4;
reconsider J as ExtREAL_sequence;
A155: (for n being Nat holds ( P . n ) is_simple_func_in S)
proof
let n being Nat;
(for m being Nat holds ( ( ProjMap2 (FF2,n) ) . m ) is_simple_func_in S) by A10;
then ( ( Partial_Sums ( ProjMap2 (FF2,n) ) ) . n ) is_simple_func_in S by CKB42:1;
hence thesis by A9;
end;
A156: (for n being Nat holds ( J . n ) = ( integral' (M,( P . n )) ))
proof
let n being Nat;
reconsider n9 = n as (Element of ( NAT )) by ORDINAL1:def 12;
( J . n ) = ( integral' (M,( P . n9 )) ) by A154;
hence thesis;
end;
(for n,m being (Element of ( NAT )) holds (m <= n implies ( J . m ) <= ( J . n )))
proof
let n being (Element of ( NAT )),m being (Element of ( NAT ));
A157: ( P . n ) is  nonnegative by A144;
A158: ( P . m ) is_simple_func_in S by A155;
A159: (for n,m,l being (Element of ( NAT )) holds ( dom ( ( P . n ) - ( P . m ) ) ) = ( dom ( P . l ) ))
proof
let n being (Element of ( NAT )),m being (Element of ( NAT )),l being (Element of ( NAT ));
( P . m ) is_simple_func_in S by A155;
then A160: ( P . m ) is  without+infty by MESFUNC5:14;
( P . n ) is_simple_func_in S by A155;
then ( P . n ) is  without-infty by MESFUNC5:14;
then ( dom ( ( P . n ) - ( P . m ) ) ) = ( ( dom ( P . n ) ) /\ ( dom ( P . m ) ) ) by A160,MESFUNC5:17;
then ( dom ( ( P . n ) - ( P . m ) ) ) = ( ( dom ( lim ( Partial_Sums F ) ) ) /\ ( dom ( P . m ) ) ) by A69;
then ( dom ( ( P . n ) - ( P . m ) ) ) = ( ( dom ( lim ( Partial_Sums F ) ) ) /\ ( dom ( lim ( Partial_Sums F ) ) ) ) by A69;
hence thesis by A69;
end;
then A161: ( dom ( ( P . n ) - ( P . m ) ) ) = ( dom ( P . n ) );
then A162: ( ( P . n ) | ( dom ( ( P . n ) - ( P . m ) ) ) ) = ( P . n ) by RELAT_1:68;
assume A163: m <= n;
A164: (for x being set holds (x in ( dom ( ( P . n ) - ( P . m ) ) ) implies ( ( P . m ) . x ) <= ( ( P . n ) . x )))
proof
let x being set;
assume x in ( dom ( ( P . n ) - ( P . m ) ) );
then x in ( dom ( lim ( Partial_Sums F ) ) ) by A69,A161;
hence thesis by A68,A85,A163;
end;
A165: ( P . m ) is  nonnegative by A144;
( dom ( ( P . n ) - ( P . m ) ) ) = ( dom ( P . m ) ) by A159;
then A166: ( ( P . m ) | ( dom ( ( P . n ) - ( P . m ) ) ) ) = ( P . m ) by RELAT_1:68;
( P . n ) is_simple_func_in S by A155;
then ( integral' (M,( ( P . m ) | ( dom ( ( P . n ) - ( P . m ) ) ) )) ) <= ( integral' (M,( ( P . n ) | ( dom ( ( P . n ) - ( P . m ) ) ) )) ) by A157,A158,A165,A164,MESFUNC5:70;
then ( J . m ) <= ( integral' (M,( P . n )) ) by A156,A166,A162;
hence thesis by A156;
end;
then J is  non-decreasing by RINFSUP2:7;
then A167: J is  convergent by RINFSUP2:37;
A168: (for n being Nat holds ( F . n ) is  without-infty) by A4,MESFUNC5:12;
then A169: (for n being Nat holds ( ( Partial_Sums F ) . n ) is_measurable_on E) by A4,CKB48:1;
then ( lim ( Partial_Sums F ) ) is_measurable_on E by A1,A2,A3,A5,CKB51:1;
then ( integral+ (M,( lim ( Partial_Sums F ) )) ) = ( lim J ) by A68,A155,A85,A156,A69,A142,A144,A148,A167,MESFUNC5:def 15;
then A170: ( Integral (M,( lim ( Partial_Sums F ) )) ) = ( lim J ) by A1,A2,A3,A5,A169,A37,A148,CKB51:1,MESFUNC5:88;
A171: (for n being Nat holds (for x being (Element of X) holds (x in ( dom ( F . n ) ) implies ( ( FF . n ) # x ) is  non-decreasing)))
proof
let n being Nat;
let x being (Element of X);
assume A172: x in ( dom ( F . n ) );
let i being  ext-real number,j being  ext-real number;
assume that
A173: i in ( dom ( ( FF . n ) # x ) )
and
A174: j in ( dom ( ( FF . n ) # x ) )
and
A175: i <= j;
reconsider i,j as (Element of ( NAT )) by A173,A174;
( ( ( FF . n ) . i ) . x ) <= ( ( ( FF . n ) . j ) . x ) by A6,A172,A175;
then ( ( ( FF . n ) # x ) . i ) <= ( ( ( FF . n ) . j ) . x ) by MESFUNC5:def 13;
hence thesis by MESFUNC5:def 13;
end;
A176: (for n,p being Nat holds (p >= n implies (for x being (Element of X) holds (x in E implies (((( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . n ) . x ) <= ( ( P . p ) . x ) & ( ( P . p ) . x ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . p ) . x )) & ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . p ) . x ) <= ( ( ( Partial_Sums F ) . p ) . x )) & ( ( ( Partial_Sums F ) . p ) . x ) <= ( ( lim ( Partial_Sums F ) ) . x ))))))
proof
let n being Nat,p being Nat;
reconsider p1 = p,n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
assume A177: p >= n;
let x being (Element of X);
A178: (for i being Nat holds ( ( ProjMap2 (FF2,p) ) . i ) is  nonnegative) by A38;
assume A179: x in E;
then A180: x in ( dom ( ( ProjMap2 (FF2,p) ) . ( 0 ) ) ) by A10;
( ProjMap2 (FF2,p) ) is  with_the_same_dom by A10;
then ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) # x ) is  non-decreasing by A180,A178,CKB45:1;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) # x ) . n1 ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) # x ) . p1 ) by A177,RINFSUP2:7;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . n ) . x ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) # x ) . p ) by MESFUNC5:def 13;
then ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . n ) . x ) <= ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . p ) . x ) by MESFUNC5:def 13;
hence ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . n ) . x ) <= ( ( P . p ) . x ) by A9;
thus ( ( P . p ) . x ) = ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . p ) . x ) by A9;
A181: ( ProjMap2 (FF2,p) ) is  additive by A10;
A182: ( ProjMap2 (FF2,p) ) is  with_the_same_dom by A10;
A183: (for n being Nat holds (for x being (Element of X) holds (x in ( ( dom ( ( ProjMap2 (FF2,p) ) . ( 0 ) ) ) /\ ( dom ( F . ( 0 ) ) ) ) implies ( ( ( ProjMap2 (FF2,p) ) . n ) . x ) <= ( ( F . n ) . x ))))
proof
let n being Nat;
let x being (Element of X);
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
assume x in ( ( dom ( ( ProjMap2 (FF2,p) ) . ( 0 ) ) ) /\ ( dom ( F . ( 0 ) ) ) );
then x in ( dom ( F . ( 0 ) ) ) by XBOOLE_0:def 4;
then A184: x in ( dom ( F . n ) ) by A3,MESFUNC8:def 2;
then ( ( FF . n ) # x ) is  non-decreasing by A171;
then ( lim ( ( FF . n ) # x ) ) = ( sup ( ( FF . n ) # x ) ) by RINFSUP2:37;
then ( ( ( FF . n ) # x ) . p1 ) <= ( lim ( ( FF . n ) # x ) ) by RINFSUP2:23;
then A185: ( ( ( FF . n ) # x ) . p ) <= ( ( F . n ) . x ) by A6,A184;
( ( ( ProjMap2 (FF2,p) ) . n ) . x ) = ( ( FF2 . (n1,p1) ) . x ) by CKB63:def 1;
then ( ( ( ProjMap2 (FF2,p) ) . n ) . x ) = ( ( ( FF . n ) . p ) . x ) by A8;
hence thesis by A185,MESFUNC5:def 13;
end;
x in ( ( dom ( ( ProjMap2 (FF2,p) ) . ( 0 ) ) ) /\ ( dom ( F . ( 0 ) ) ) ) by A1,A179,A180,XBOOLE_0:def 4;
hence ( ( ( Partial_Sums ( ProjMap2 (FF2,p) ) ) . p ) . x ) <= ( ( ( Partial_Sums F ) . p ) . x ) by A2,A3,A181,A182,A183,CKB49:1;
( ( Partial_Sums F ) # x ) is  non-decreasing by A1,A3,A4,A179,CKB45:1;
then ( lim ( ( Partial_Sums F ) # x ) ) = ( sup ( ( Partial_Sums F ) # x ) ) by RINFSUP2:37;
then ( ( ( Partial_Sums F ) # x ) . p1 ) <= ( lim ( ( Partial_Sums F ) # x ) ) by RINFSUP2:23;
then ( ( ( Partial_Sums F ) . p ) . x ) <= ( lim ( ( Partial_Sums F ) # x ) ) by MESFUNC5:def 13;
hence thesis by A68,A179,MESFUNC8:def 9;
end;
(for n being Nat holds ( ( Partial_Sums I ) . n ) <= ( Integral (M,( lim ( Partial_Sums F ) )) ))
proof
let n being Nat;
A186: ( ( Partial_Sums F ) . n ) is  nonnegative by A4,CKB43:1;
A187: ( lim ( Partial_Sums F ) ) is_measurable_on E by A1,A2,A3,A5,A169,CKB51:1;
A188: ( ( Partial_Sums F ) . n ) is_measurable_on E by A4,A168,CKB48:1;
A189: E = ( dom ( ( Partial_Sums F ) . n ) ) by A1,A2,A3,CKB36:1;
then (for x being (Element of X) holds (x in ( dom ( ( Partial_Sums F ) . n ) ) implies ( ( ( Partial_Sums F ) . n ) . x ) <= ( ( lim ( Partial_Sums F ) ) . x ))) by A176;
then ( integral+ (M,( ( Partial_Sums F ) . n )) ) <= ( integral+ (M,( lim ( Partial_Sums F ) )) ) by A37,A148,A189,A188,A187,A186,MESFUNC5:85;
then ( Integral (M,( ( Partial_Sums F ) . n )) ) <= ( integral+ (M,( lim ( Partial_Sums F ) )) ) by A169,A189,A186,MESFUNC5:88;
then ( Integral (M,( ( Partial_Sums F ) . n )) ) <= ( Integral (M,( lim ( Partial_Sums F ) )) ) by A37,A145,A187,MESFUNC5:88,SUPINF_2:52;
hence thesis by A149;
end;
then A190: ( lim ( Partial_Sums I ) ) <= ( Integral (M,( lim ( Partial_Sums F ) )) ) by A152,CKB9:1,RINFSUP2:37;
take I;
thus (for n being Nat holds ( I . n ) = ( Integral (M,( ( F . n ) | E )) ))
proof
let n being Nat;
( dom ( F . ( 0 ) ) ) = ( dom ( F . n ) ) by A3,MESFUNC8:def 2;
then ( ( F . n ) | E ) = ( F . n ) by A1,RELAT_1:68;
hence thesis by A149;
end;

A191: (for n being Nat holds ( J . n ) = ( Integral (M,( P . n )) ))
proof
let n being Nat;
A192: ( P . n ) is  nonnegative by A144;
A193: ( J . n ) = ( integral' (M,( P . n )) ) by A156;
( P . n ) is_simple_func_in S by A155;
hence thesis by A192,A193,MESFUNC5:89;
end;
(for n being (Element of ( NAT )) holds ( J . n ) <= ( ( Partial_Sums I ) . n ))
proof
let n being (Element of ( NAT ));
A194: ( P . n ) is_measurable_on E by A155,MESFUNC2:34;
A195: ( ( Partial_Sums F ) . n ) is  nonnegative by A4,CKB43:1;
A196: (for x being (Element of X) holds (x in ( dom ( P . n ) ) implies ( ( P . n ) . x ) <= ( ( ( Partial_Sums F ) . n ) . x )))
proof
let x being (Element of X);
assume x in ( dom ( P . n ) );
then x in ( dom ( lim ( Partial_Sums F ) ) ) by A69;
then ( ( P # x ) . n ) <= ( ( ( Partial_Sums F ) # x ) . n ) by A1,A23,A37,A31;
then ( ( P . n ) . x ) <= ( ( ( Partial_Sums F ) # x ) . n ) by MESFUNC5:def 13;
hence thesis by MESFUNC5:def 13;
end;
A197: ( P . n ) is  nonnegative by A144;
A198: ( dom ( P . n ) ) = E by A37,A69;
A199: E = ( dom ( ( Partial_Sums F ) . n ) ) by A1,A2,A3,CKB36:1;
( ( Partial_Sums F ) . n ) is_measurable_on E by A4,A168,CKB48:1;
then ( integral+ (M,( P . n )) ) <= ( integral+ (M,( ( Partial_Sums F ) . n )) ) by A199,A198,A194,A197,A195,A196,MESFUNC5:85;
then ( Integral (M,( P . n )) ) <= ( integral+ (M,( ( Partial_Sums F ) . n )) ) by A144,A198,A194,MESFUNC5:88;
then ( Integral (M,( P . n )) ) <= ( Integral (M,( ( Partial_Sums F ) . n )) ) by A169,A199,A195,MESFUNC5:88;
then ( J . n ) <= ( Integral (M,( ( Partial_Sums F ) . n )) ) by A191;
hence thesis by A149;
end;
then ( lim J ) <= ( lim ( Partial_Sums I ) ) by A167,A153,RINFSUP2:38;
then ( Sum I ) = ( Integral (M,( lim ( Partial_Sums F ) )) ) by A170,A190,XXREAL_0:1;
hence thesis by A37,A153,CKB18:def 1,RELAT_1:68;
end;
