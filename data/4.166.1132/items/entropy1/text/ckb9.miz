environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,NAT_1,REAL_1,FINSEQ_1,MATRIX_1,CARD_1,ARYTM_3,XXREAL_0,INT_1,ARYTM_1,RELAT_1,TAYLOR_1,FUNCT_1,XXREAL_1,LIMFUNC1,POWER,PARTFUN1,FDIFF_1,ORDINAL2,TARSKI,CARD_3,SEQ_1,SUPINF_2,PARTFUN3,XREAL_0,ORDINAL1,RVSUM_1,ORDINAL4,FINSEQ_2,MATRPROB,MATRIXC1,TREES_1,INCSP_1,MATRIXR1,FVSUM_1,ZFMISC_1,FUNCOP_1,ENTROPY1;
notations TARSKI,SUBSET_1,XBOOLE_0,XXREAL_0,XREAL_0,REAL_1,NAT_1,NAT_D,ORDINAL1,NUMBERS,RELAT_1,FUNCT_1,VALUED_1,SEQ_1,ZFMISC_1,PARTFUN1,FUNCOP_1,RVSUM_1,FINSEQ_1,FINSEQ_2,NEWTON,MATRIXR1,MATRIX_1,PARTFUN3,POWER,LIMFUNC1,RCOMP_1,MATRPROB,FDIFF_1,TAYLOR_1,FCONT_1;
definitions TARSKI,PARTFUN3,FINSEQ_2,LIMFUNC1,RCOMP_1,VALUED_1,XCMPLX_0,TAYLOR_1;
theorems FUNCT_1,NAT_1,MATRIX_2,XREAL_1,NAT_2,MATRIXR1,GOBOARD1,XBOOLE_0,PROB_3,INTEGRA5,FINSEQ_1,MATRIX_1,GOBRD13,FINSEQ_2,PARTFUN3,FINSEQ_3,RVSUM_1,POWER,FDIFF_1,TREES_1,XBOOLE_1,TAYLOR_1,RELAT_1,ROLLE,FCONT_1,XCMPLX_1,INTEGRA1,XXREAL_0,ORDINAL1,MATRPROB,FUNCOP_1,PEPIN,NAT_D,PARTFUN1,VALUED_1,XXREAL_1,XXREAL_2,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
schemes FINSEQ_2,SEQ_1,NAT_1,RECDEF_1,FINSEQ_1,MATRIX_1;
registrations MATRPROB,RELSET_1,NAT_1,MEMBERED,ORDINAL1,XREAL_0,FCONT_3,RCOMP_1,XXREAL_0,NUMBERS,XBOOLE_0,VALUED_0,FINSEQ_1,CARD_1,XXREAL_2,FINSEQ_2;
constructors REAL_1,NAT_D,BINOP_2,MATRIX_3,MATRIXR1,MATRLIN,MATRPROB,PARTFUN3,PARTFUN2,FDIFF_1,FCONT_1,POWER,LIMFUNC1,SIN_COS,TAYLOR_1,INTEGRA1,SEQ_1,XXREAL_2,RVSUM_1,RELSET_1,NEWTON;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for (Element of ( NAT ));
reserve n for Nat;
reserve x for set;
reserve p for (FinSequence of ( REAL ));
reserve q for (FinSequence of ( REAL ));
theorem
Th9: (( len p ) >= 1 implies (ex q st (((( len q ) = ( len p ) & ( q . 1 ) = ( p . 1 )) & (for k holds ((( 0 ) <> k & k < ( len p )) implies ( q . ( k + 1 ) ) = ( ( q . k ) + ( p . ( k + 1 ) ) )))) & ( Sum p ) = ( q . ( len p ) ))))
proof
assume A1: ( len p ) >= 1;
then consider r being Real_Sequence such that A2: ( r . 1 ) = ( p . 1 ) and A3: (for n holds ((( 0 ) <> n & n < ( len p )) implies ( r . ( n + 1 ) ) = ( ( r . n ) + ( p . ( n + 1 ) ) ))) and A4: ( Sum p ) = ( r . ( len p ) ) by PROB_3:63;
A5: 1 in ( dom p ) by A1,FINSEQ_3:25;
deffunc F(Nat) = ( r . $1 );
consider q being FinSequence such that A6: (( len q ) = ( len p ) & (for k being Nat holds (k in ( dom q ) implies ( q . k ) = F(k)))) from FINSEQ_1:sch 2;
A7: ( rng q ) c= ( REAL )
proof
let x;
assume x in ( rng q );
then consider j being Nat such that A8: j in ( dom q ) and A9: ( q . j ) = x by FINSEQ_2:10;
( q . j ) = ( r . j ) by A6,A8;
hence thesis by A9;
end;
A10: ( dom q ) = ( dom p ) by A6,FINSEQ_3:29;
reconsider q as (FinSequence of ( REAL )) by A7,FINSEQ_1:def 4;
A11:now
let k;
assume that
A12: ( 0 ) <> k
and
A13: k < ( len p );
k >= 1 by A12,NAT_1:14;
then A14: k in ( dom q ) by A6,A13,FINSEQ_3:25;
A15: ( k + 1 ) >= 1 by NAT_1:14;
( k + 1 ) <= ( len p ) by A13,NAT_1:13;
then ( k + 1 ) in ( dom q ) by A6,A15,FINSEQ_3:25;
hence ( q . ( k + 1 ) ) = ( r . ( k + 1 ) ) by A6
.= ( ( r . k ) + ( p . ( k + 1 ) ) ) by A3,A12,A13
.= ( ( q . k ) + ( p . ( k + 1 ) ) ) by A6,A14;
end;
take q;
( len p ) in ( dom q ) by A1,A6,FINSEQ_3:25;
hence thesis by A2,A4,A6,A10,A5,A11;
end;
