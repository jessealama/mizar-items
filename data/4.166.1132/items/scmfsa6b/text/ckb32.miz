environ
vocabularies NUMBERS,SUBSET_1,AMI_1,SCMFSA_2,FSM_1,CARD_1,TARSKI,SCMFSA6A,FUNCT_4,RELAT_1,XBOOLE_0,FUNCT_1,INT_1,MSUALG_1,CIRCUIT2,AMI_3,ARYTM_3,XXREAL_0,NAT_1,SF_MASTR,GRAPHSP,AMISTD_2,TURING_1,STRUCT_0,VALUED_1,FUNCOP_1,SCMFSA6B,PARTFUN1,SCMNORM,RELOC,SCMFSA6C,COMPOS_1;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,FUNCT_7,INT_1,RELAT_1,FUNCT_1,PARTFUN1,PBOOLE,FINSEQ_1,FUNCOP_1,FUNCT_4,VALUED_1,STRUCT_0,MEMSTR_0,COMPOS_1,EXTPRO_1,SCMFSA_2,AMISTD_1,AMISTD_2,SCMFSA6A,SF_MASTR,CKB1,CKB2,CKB3;
definitions AMISTD_2,FUNCOP_1,SCMFSA6A,COMPOS_1,EXTPRO_1,MEMSTR_0,AMISTD_1,CKB2,CKB3;
theorems RELAT_1,FUNCT_7,FUNCT_4,FUNCT_1,SCMFSA_3,INT_1,FUNCOP_1,TARSKI,NAT_1,SCMFSA_2,MEMSTR_0,GRFUNC_1,SCMFSA6A,SF_MASTR,XBOOLE_0,XBOOLE_1,XREAL_1,ORDINAL1,XXREAL_0,VALUED_1,PBOOLE,PARTFUN1,AFINSQ_1,FINSEQ_4,COMPOS_1,EXTPRO_1,AMISTD_2,AMISTD_5,AMISTD_1,STRUCT_0,CKB2,CKB3,CKB5,CKB6,CKB7,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB28,CKB29,CKB31;
schemes NAT_1;
registrations SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,SCMFSA_2,SCMFSA6A,SF_MASTR,XBOOLE_0,FINSET_1,AMISTD_2,SCMFSA10,COMPOS_1,EXTPRO_1,SCMFSA_4,PBOOLE,PRE_POLY,FUNCT_7,FUNCT_4,STRUCT_0,MEMSTR_0,CKB4,CKB8,CKB9,CKB13,CKB20,CKB27,CKB30;
constructors XXREAL_0,SCMFSA6A,SF_MASTR,AMISTD_1,AMISTD_2,MEMSTR_0,RELSET_1,PRE_POLY,AMISTD_5,DOMAIN_1,PBOOLE,AMI_3,FUNCT_7,CKB1,CKB2,CKB3;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve I for (Program of ( SCM+FSA ));
reserve s for (State of ( SCM+FSA ));
reserve P for (Instruction-Sequence of ( SCM+FSA ));
theorem
(for I being  keeping_0  parahalting (Program of ( SCM+FSA )) holds (for J being  parahalting (Program of ( SCM+FSA )) holds ( IExec (( I ';' J ),P,s) ) = ( IncIC (( IExec (J,P,( IExec (I,P,s) )) ),( card I )) )))
proof
set D = ( ( Int-Locations ) \/ ( FinSeq-Locations ) );
set A = ( NAT );
let I being  keeping_0  parahalting (Program of ( SCM+FSA ));
let J being  parahalting (Program of ( SCM+FSA ));
set s1 = ( s +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) );
set P1 = ( P +* I );
A1: I c= ( P +* I ) by FUNCT_4:25;
set s2 = ( s +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) );
set P2 = ( P +* ( I ';' J ) );
set s3 = ( ( Comput (P1,s1,( LifeSpan (P1,s1) )) ) +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) );
set P3 = ( P1 +* J );
set m1 = ( LifeSpan (P1,s1) );
set m3 = ( LifeSpan (P3,s3) );
A2: ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) c= s2 by FUNCT_4:25;
A14: I c= ( P2 +* I ) by FUNCT_4:25;
A15: ( I ';' J ) c= ( P +* ( I ';' J ) ) by FUNCT_4:25;
A16: ( LifeSpan (( P2 +* I ),s2) ) = m1 by CKB16:1,A1,A14;
A17: ( Reloc (J,( card I )) ) c= ( P +* ( I ';' J ) ) by A2,CKB26:1,A15;
A22: I c= P1 by FUNCT_4:25;
B22: ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) c= s1 by FUNCT_4:25;
A24: s3 = ( ( Result (P1,s1) ) +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) ) by CKB6:1,A22,B22,EXTPRO_1:23;
A26: ( ( ( P +* ( I ';' J ) ) +* I ) +* ( I ';' J ) ) = ( ( P +* ( I ';' J ) ) +* ( I +* ( I ';' J ) ) ) by FUNCT_4:14
.= ( P +* ( ( I ';' J ) +* ( I +* ( I ';' J ) ) ) ) by FUNCT_4:14
.= ( P +* ( ( I ';' J ) +* ( I ';' J ) ) ) by SCMFSA6A:18;
A28: ( ( P +* I ) +* ( I ';' J ) ) = ( P +* ( I +* ( I ';' J ) ) ) by FUNCT_4:14
.= ( P +* ( ( I ';' J ) +* ( I ';' J ) ) ) by SCMFSA6A:18;
Y1: ( ( P +* ( I ';' J ) ) +* I ) halts_on s2 by CKB5:1,FUNCT_4:25;
( DataPart ( Comput (( ( P +* ( I ';' J ) ) +* I ),s2,m1) ) ) = ( DataPart ( Comput (( P +* ( ( I ';' J ) +* ( I ';' J ) ) ),( s +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) ),m1) ) ) by A26,Y1,CKB21:1,A16,FUNCT_4:25
.= ( DataPart ( Comput (( P +* I ),s1,m1) ) ) by A28,A22,B22,CKB21:1,CKB6:1;
then A30: ( DataPart ( ( Comput (( P2 +* I ),s2,m1) ) +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) ) ) = ( ( DataPart ( Comput (P1,s1,m1) ) ) +* ( DataPart ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) ) ) by FUNCT_4:71
.= ( DataPart s3 ) by FUNCT_4:71;
A31: J c= ( ( P +* I ) +* J ) by FUNCT_4:25;
A32: ( IC ( Comput (P2,s2,( m1 + 1 )) ) ) = ( card I ) by A2,A16,CKB26:1,A15;
B32: ( DataPart ( Comput (P2,s2,( m1 + 1 )) ) ) = ( DataPart s3 ) by A30,A2,A16,CKB26:1,A15;
then A33: ( DataPart ( Comput (( P +* ( I ';' J ) ),( Comput (( P +* ( I ';' J ) ),s2,( m1 + 1 )) ),m3) ) ) = ( DataPart ( Comput (( ( P +* I ) +* J ),s3,m3) ) ) by CKB14:1,A31,A17,A32;
A34: ( IC ( Comput (( P +* ( I ';' J ) ),( Comput (( P +* ( I ';' J ) ),s2,( m1 + 1 )) ),m3) ) ) = ( ( IC ( Comput (( ( P +* I ) +* J ),s3,m3) ) ) + ( card I ) ) by A32,CKB14:1,A17,A31,B32;
A37: J c= P3 by FUNCT_4:25;
B38: ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) c= s3 by FUNCT_4:25;
A39: J c= ( P1 +* J ) by FUNCT_4:25;
A40: J c= ( P +* J ) by FUNCT_4:25;
xx: ( Result (( P +* J ),( ( IExec (I,P,s) ) +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) )) ) = ( Result (P3,s3) ) by CKB16:1,A40,A37,A24;
B45: ( I ';' J ) c= P2 by FUNCT_4:25;
then ( IExec (( I ';' J ),P,s) ) = ( Comput (P2,s2,( LifeSpan (P2,s2) )) ) by A2,CKB6:1,EXTPRO_1:23
.= ( Comput (P2,s2,( ( m1 + 1 ) + m3 )) ) by A24,CKB31:1;
then A46: ( DataPart ( IExec (( I ';' J ),P,s) ) ) = ( DataPart ( Comput (P3,s3,m3) ) ) by A33,EXTPRO_1:4
.= ( DataPart ( IExec (J,P,( IExec (I,P,s) )) ) ) by B38,xx,CKB6:1,A37,EXTPRO_1:23;
A47: ( IC ( IExec (( I ';' J ),P,s) ) ) = ( IC ( Comput (P2,s2,( LifeSpan (P2,s2) )) ) ) by B45,A2,CKB6:1,EXTPRO_1:23
.= ( IC ( Comput (P2,s2,( ( m1 + 1 ) + m3 )) ) ) by A24,CKB31:1
.= ( ( IC ( Comput (P3,s3,m3) ) ) + ( card I ) ) by A34,EXTPRO_1:4
.= ( ( IC ( Result (P3,s3) ) ) + ( card I ) ) by B38,CKB6:1,A37,EXTPRO_1:23
.= ( ( IC ( Result (( P1 +* J ),( ( Result (P1,s1) ) +* ( Initialize ( ( intloc ( 0 ) ) .--> 1 ) ) )) ) ) + ( card I ) ) by B22,CKB6:1,A22,EXTPRO_1:23
.= ( ( IC ( IExec (J,P,( IExec (I,P,s) )) ) ) + ( card I ) ) by A39,A40,CKB16:1;
hereby
reconsider l = ( ( IC ( IExec (J,P,( IExec (I,P,s) )) ) ) + ( card I ) ) as (Element of ( NAT ));
A48: ( dom ( Start-At (l,( SCM+FSA )) ) ) = { ( IC ( SCM+FSA ) ) } by FUNCOP_1:13;
A49:now
let x being set;
assume A50: x in ( dom ( IExec (( I ';' J ),P,s) ) );
per cases  by A50,SCMFSA6A:5;
suppose A51: x is Int-Location;

then x <> ( IC ( SCM+FSA ) ) by SCMFSA_2:56;
then A52: (not x in ( dom ( Start-At (l,( SCM+FSA )) ) )) by A48,TARSKI:def 1;
( ( IExec (( I ';' J ),P,s) ) . x ) = ( ( IExec (J,P,( IExec (I,P,s) )) ) . x ) by A46,A51,SCMFSA6A:7;
hence ( ( IExec (( I ';' J ),P,s) ) . x ) = ( ( ( IExec (J,P,( IExec (I,P,s) )) ) +* ( Start-At (( ( IC ( IExec (J,P,( IExec (I,P,s) )) ) ) + ( card I ) ),( SCM+FSA )) ) ) . x ) by A52,FUNCT_4:11;
end;
suppose A53: x is FinSeq-Location;

then x <> ( IC ( SCM+FSA ) ) by SCMFSA_2:57;
then A54: (not x in ( dom ( Start-At (l,( SCM+FSA )) ) )) by A48,TARSKI:def 1;
( ( IExec (( I ';' J ),P,s) ) . x ) = ( ( IExec (J,P,( IExec (I,P,s) )) ) . x ) by A46,A53,SCMFSA6A:7;
hence ( ( IExec (( I ';' J ),P,s) ) . x ) = ( ( ( IExec (J,P,( IExec (I,P,s) )) ) +* ( Start-At (( ( IC ( IExec (J,P,( IExec (I,P,s) )) ) ) + ( card I ) ),( SCM+FSA )) ) ) . x ) by A54,FUNCT_4:11;
end;
suppose A55: x = ( IC ( SCM+FSA ) );

then x in { ( IC ( SCM+FSA ) ) } by TARSKI:def 1;
then A56: x in ( dom ( Start-At (l,( SCM+FSA )) ) ) by FUNCOP_1:13;
thus ( ( IExec (( I ';' J ),P,s) ) . x ) = ( ( Start-At (l,( SCM+FSA )) ) . ( IC ( SCM+FSA ) ) ) by A47,A55,FUNCOP_1:72
.= ( ( ( IExec (J,P,( IExec (I,P,s) )) ) +* ( Start-At (( ( IC ( IExec (J,P,( IExec (I,P,s) )) ) ) + ( card I ) ),( SCM+FSA )) ) ) . x ) by A55,A56,FUNCT_4:13;
end;
end;
( dom ( IExec (( I ';' J ),P,s) ) ) = (the carrier of ( SCM+FSA )) by PARTFUN1:def 2
.= ( dom ( ( IExec (J,P,( IExec (I,P,s) )) ) +* ( Start-At (( ( IC ( IExec (J,P,( IExec (I,P,s) )) ) ) + ( card I ) ),( SCM+FSA )) ) ) ) by PARTFUN1:def 2;
hence thesis by A49,FUNCT_1:2;
end;
end;
