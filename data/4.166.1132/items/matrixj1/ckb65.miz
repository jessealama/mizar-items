environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,XBOOLE_0,MATRIX_1,FINSEQ_1,ALGSTR_0,RELAT_1,ARYTM_3,TARSKI,STRUCT_0,ZFMISC_1,ORDINAL4,XXREAL_0,FUNCT_1,PARTFUN1,FINSEQ_3,CARD_1,ARYTM_1,FINSEQ_2,CARD_3,GROUP_1,RFINSEQ,TREES_1,INCSP_1,MATRIX_2,MATRIX_3,SUPINF_2,LAPLACE,MATRIX11,MESFUNC1,RVSUM_1,MATHMORP,VALUED_1,FVSUM_1,MATRIXJ1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX11,FINSEQOP,MATRIX13,LAPLACE,RFINSEQ,WSIERP_1,CKB7,CKB15,CKB17,CKB18,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43;
definitions TARSKI,FINSEQ_1,MATRIX_1,LAPLACE,MATRIX13,FVSUM_1,CKB7,CKB15,CKB27,CKB28,CKB42;
theorems CARD_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_5,FINSEQ_6,FINSEQOP,FUNCT_1,FVSUM_1,GROUP_1,GROUP_4,GOBOARD1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_9,MATRIX11,MATRIX13,MATRIX15,MATRIXR2,NAT_1,ORDINAL1,PARTFUN1,POLYNOM3,PRGCOR_1,RELAT_1,RFINSEQ,RLVECT_1,RVSUM_1,TARSKI,VECTSP_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,MATRIX_4,FUNCT_2,FUNCOP_1,MATRIXR1,CARD_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB19,CKB22,CKB27,CKB28,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64;
schemes FINSEQ_1,FINSEQ_2,NAT_1,MATRIX_1;
registrations XBOOLE_0,FINSET_1,STRUCT_0,VECTSP_1,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,MATRIX13,XREAL_0,VALUED_0,CARD_1,FVSUM_1,CKB16;
constructors XXREAL_0,GROUP_4,VECTSP_7,MATRIX11,MATRIX13,LAPLACE,RFINSEQ,POLYNOM1,WSIERP_1,SEQ_1,VALUED_0,VALUED_1,REAL_1,NAT_D,BINARITH,RELSET_1,FVSUM_1,CKB7,CKB15,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve K for Field;
reserve a for (Element of K);
reserve A for (Matrix of K);
reserve G for (FinSequence_of_Matrix of K);
theorem
Th43: (i in ( Seg ( width A ) ) implies ( DelCol (( block_diagonal (( <* A *> ^ G ),a) ),i) ) = ( block_diagonal (( <* ( DelCol (A,i) ) *> ^ G ),a) ))
proof
assume A1: i in ( Seg ( width A ) );
set bG = ( block_diagonal (G,a) );
set Da = ( DelCol (A,i) );
set AA = <* A *>;
set DA = <* Da *>;
set BG = <* bG *>;
set BAG = ( block_diagonal (<* A,bG *>,a) );
set BDG = ( block_diagonal (<* Da,bG *>,a) );
A2: ( len Da ) = ( len A ) by MATRIX_2:def 5;
( len BAG ) = ( Sum ( Len ( AA ^ BG ) ) ) by CKB42:def 1;
then A3: ( len BAG ) = ( ( len A ) + ( len bG ) ) by CKB35:1;
A4: ( len BDG ) = ( Sum ( Len ( DA ^ BG ) ) ) by CKB42:def 1;
then A5: ( len BDG ) = ( ( len Da ) + ( len bG ) ) by CKB35:1;
A6:now
reconsider Da9 = Da as (Matrix of ( len Da ),( width Da ),K) by MATRIX_2:7;
let j;
assume that
A7: 1 <= j
and
A8: j <= ( len BDG );
A9: j in ( Seg ( len BDG ) ) by A7,A8,FINSEQ_1:1;
A10:now
per cases ;
suppose A11: j <= ( len A );

then A12: j in ( Seg ( len A ) ) by A7,FINSEQ_1:1;
A13: j in ( dom Da ) by A2,A7,A11,FINSEQ_3:25;
A14: ( dom ( Line (A,j) ) ) = ( Seg ( width A ) ) by FINSEQ_2:124;
A15: j in ( dom A ) by A7,A11,FINSEQ_3:25;
then A16: ( Line (BAG,j) ) = ( ( Line (A,j) ) ^ ( ( width bG ) |-> a ) ) by CKB45:1;
( Del (( Line (A,j) ),i) ) = ( Da9 . j ) by A15,MATRIX_2:def 5
.= ( Line (Da,j) ) by A2,A12,MATRIX_2:8;
hence ( Del (( Line (BAG,j) ),i) ) = ( ( Line (Da,j) ) ^ ( ( width bG ) |-> a ) ) by A1,A16,A14,CKB3:1
.= ( Line (BDG,j) ) by A13,CKB45:1
.= ( BDG . j ) by A4,A9,MATRIX_2:8;
end;
suppose A17: j > ( len A );

then reconsider jL = ( j - ( len A ) ) as (Element of ( NAT )) by NAT_1:21;
jL <> ( 0 ) by A17;
then A18: jL >= 1 by NAT_1:14;
( width A ) <> ( 0 ) by A1;
then reconsider w1 = ( ( width A ) - 1 ) as (Element of ( NAT )) by NAT_1:14,NAT_1:21;
A19: ( dom ( ( width A ) |-> a ) ) = ( Seg ( width A ) ) by FINSEQ_2:124;
A20: ( width Da ) = ( ( w1 + 1 ) -' 1 ) by A1,LAPLACE:3
.= w1 by NAT_D:34;
( jL + ( len A ) ) <= ( ( len bG ) + ( len A ) ) by A5,A8,MATRIX_2:def 5;
then jL <= ( len bG ) by XREAL_1:8;
then A21: jL in ( dom bG ) by A18,FINSEQ_3:25;
then ( Line (BAG,( jL + ( len A ) )) ) = ( ( ( width A ) |-> a ) ^ ( Line (bG,jL) ) ) by CKB45:1;
hence ( Del (( Line (BAG,j) ),i) ) = ( ( Del (( ( w1 + 1 ) |-> a ),i) ) ^ ( Line (bG,jL) ) ) by A1,A19,CKB3:1
.= ( ( ( width Da ) |-> a ) ^ ( Line (bG,jL) ) ) by A1,A20,CKB5:1
.= ( Line (BDG,( ( len A ) + jL )) ) by A2,A21,CKB45:1
.= ( BDG . j ) by A4,A9,MATRIX_2:8;
end;
end;
j in ( dom BAG ) by A2,A5,A3,A7,A8,FINSEQ_3:25;
hence ( ( DelCol (BAG,i) ) . j ) = ( BDG . j ) by A10,MATRIX_2:def 5;
end;
A22: ( block_diagonal (( DA ^ G ),a) ) = BDG by CKB58:1;
A23: ( len ( DelCol (BAG,i) ) ) = ( len BAG ) by MATRIX_2:def 5;
( block_diagonal (( AA ^ G ),a) ) = BAG by CKB58:1;
hence thesis by A2,A23,A4,A3,A6,A22,CKB35:1,FINSEQ_1:14;
end;
