environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,XBOOLE_0,MATRIX_1,FINSEQ_1,ALGSTR_0,RELAT_1,ARYTM_3,TARSKI,STRUCT_0,ZFMISC_1,ORDINAL4,XXREAL_0,FUNCT_1,PARTFUN1,FINSEQ_3,CARD_1,ARYTM_1,FINSEQ_2,CARD_3,GROUP_1,RFINSEQ,TREES_1,INCSP_1,MATRIX_2,MATRIX_3,SUPINF_2,LAPLACE,MATRIX11,MESFUNC1,RVSUM_1,MATHMORP,VALUED_1,FVSUM_1,MATRIXJ1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX11,FINSEQOP,MATRIX13,LAPLACE,RFINSEQ,WSIERP_1;
definitions TARSKI,FINSEQ_1,MATRIX_1,LAPLACE,MATRIX13,FVSUM_1;
theorems CARD_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_5,FINSEQ_6,FINSEQOP,FUNCT_1,FVSUM_1,GROUP_1,GROUP_4,GOBOARD1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_9,MATRIX11,MATRIX13,MATRIX15,MATRIXR2,NAT_1,ORDINAL1,PARTFUN1,POLYNOM3,PRGCOR_1,RELAT_1,RFINSEQ,RLVECT_1,RVSUM_1,TARSKI,VECTSP_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,MATRIX_4,FUNCT_2,FUNCOP_1,MATRIXR1,CARD_1,NAT_D,CKB1,CKB2,CKB3;
schemes FINSEQ_1,FINSEQ_2,NAT_1,MATRIX_1;
registrations XBOOLE_0,FINSET_1,STRUCT_0,VECTSP_1,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,MATRIX13,XREAL_0,VALUED_0,CARD_1,FVSUM_1;
constructors XXREAL_0,GROUP_4,VECTSP_7,MATRIX11,MATRIX13,LAPLACE,RFINSEQ,POLYNOM1,WSIERP_1,SEQ_1,VALUED_0,VALUED_1,REAL_1,NAT_D,BINARITH,RELSET_1,FVSUM_1;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve m for Nat;
reserve D for non  empty set;
reserve f for (FinSequence of ( NAT ));
reserve g for (FinSequence of ( NAT ));
theorem
Th3: (for f,g being (FinSequence of D) holds (i in ( dom g ) implies ( Del (( f ^ g ),( i + ( len f ) )) ) = ( f ^ ( Del (g,i) ) )))
proof
let f being (FinSequence of D);
let g being (FinSequence of D);
assume that
A1: i in ( dom g );
set Dg = ( Del (g,i) );
consider m such that A2: ( len g ) = ( m + 1 ) and A3: ( len Dg ) = m by A1,FINSEQ_3:104;
set fD = ( f ^ Dg );
set iL = ( i + ( len f ) );
set fg = ( f ^ g );
set Dfg = ( Del (fg,iL) );
A4: ( dom fg ) = ( Seg ( len fg ) ) by FINSEQ_1:def 3;
A5: ( len fg ) = ( ( len f ) + ( len g ) ) by FINSEQ_1:22;
then A6: ( len fg ) = ( ( m + ( len f ) ) + 1 ) by A2;
A7: i in ( Seg ( len g ) ) by A1,FINSEQ_1:def 3;
then A8: i > ( 0 ) by FINSEQ_1:1;
A9:now
let j;
assume that
A10: 1 <= j
and
A11: j <= ( m + ( len f ) );
now
per cases ;
suppose A12: j <= ( len f );

then A13: j in ( dom f ) by A10,FINSEQ_3:25;
( ( 0 ) + ( len f ) ) < iL by A8,XREAL_1:8;
then j < iL by A12,XXREAL_0:2;
hence ( Dfg . j ) = ( fg . j ) by FINSEQ_3:110
.= ( f . j ) by A13,FINSEQ_1:def 7
.= ( fD . j ) by A13,FINSEQ_1:def 7;
end;
suppose A14: j > ( len f );

then reconsider jL = ( j - ( len f ) ) as (Element of ( NAT )) by NAT_1:21;
A15: 1 <= ( jL + 1 ) by NAT_1:14;
( jL + ( len f ) ) <= ( m + ( len f ) ) by A11;
then A16: jL <= m by XREAL_1:6;
then ( jL + 1 ) <= ( len g ) by A2,XREAL_1:7;
then A17: ( jL + 1 ) in ( dom g ) by A15,FINSEQ_3:25;
jL <> ( 0 ) by A14;
then A18: jL >= 1 by NAT_1:14;
then A19: jL in ( dom Dg ) by A3,A16,FINSEQ_3:25;
jL <= ( len g ) by A2,A16,NAT_1:13;
then A20: jL in ( dom g ) by A18,FINSEQ_3:25;
now
per cases ;
suppose A21: jL < i;

then ( jL + ( len f ) ) < iL by XREAL_1:8;
hence ( Dfg . j ) = ( fg . ( jL + ( len f ) ) ) by FINSEQ_3:110
.= ( g . jL ) by A20,FINSEQ_1:def 7
.= ( Dg . jL ) by A21,FINSEQ_3:110
.= ( fD . ( jL + ( len f ) ) ) by A19,FINSEQ_1:def 7
.= ( fD . j );
end;
suppose A22: jL >= i;

then ( jL + ( len f ) ) >= iL by XREAL_1:7;
hence ( Dfg . j ) = ( fg . ( ( jL + ( len f ) ) + 1 ) ) by A5,A7,A4,A6,A11,FINSEQ_1:60,FINSEQ_3:111
.= ( fg . ( ( jL + 1 ) + ( len f ) ) )
.= ( g . ( jL + 1 ) ) by A17,FINSEQ_1:def 7
.= ( Dg . jL ) by A1,A2,A16,A22,FINSEQ_3:111
.= ( fD . ( jL + ( len f ) ) ) by A19,FINSEQ_1:def 7
.= ( fD . j );
end;
end;
hence ( fD . j ) = ( Dfg . j );
end;
end;
hence ( fD . j ) = ( Dfg . j );
end;
A23: ( len fD ) = ( ( len f ) + ( len Dg ) ) by FINSEQ_1:22;
( len Dfg ) = ( m + ( len f ) ) by A5,A7,A4,A6,FINSEQ_1:60,FINSEQ_3:109;
hence thesis by A3,A23,A9,FINSEQ_1:14;
end;
