environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,XBOOLE_0,MATRIX_1,FINSEQ_1,ALGSTR_0,RELAT_1,ARYTM_3,TARSKI,STRUCT_0,ZFMISC_1,ORDINAL4,XXREAL_0,FUNCT_1,PARTFUN1,FINSEQ_3,CARD_1,ARYTM_1,FINSEQ_2,CARD_3,GROUP_1,RFINSEQ,TREES_1,INCSP_1,MATRIX_2,MATRIX_3,SUPINF_2,LAPLACE,MATRIX11,MESFUNC1,RVSUM_1,MATHMORP,VALUED_1,FVSUM_1,MATRIXJ1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX11,FINSEQOP,MATRIX13,LAPLACE,RFINSEQ,WSIERP_1,CKB7,CKB15,CKB17,CKB18,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43;
definitions TARSKI,FINSEQ_1,MATRIX_1,LAPLACE,MATRIX13,FVSUM_1,CKB7,CKB15,CKB27,CKB28,CKB42;
theorems CARD_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_5,FINSEQ_6,FINSEQOP,FUNCT_1,FVSUM_1,GROUP_1,GROUP_4,GOBOARD1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_9,MATRIX11,MATRIX13,MATRIX15,MATRIXR2,NAT_1,ORDINAL1,PARTFUN1,POLYNOM3,PRGCOR_1,RELAT_1,RFINSEQ,RLVECT_1,RVSUM_1,TARSKI,VECTSP_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,MATRIX_4,FUNCT_2,FUNCOP_1,MATRIXR1,CARD_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB19,CKB22,CKB27,CKB28,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65;
schemes FINSEQ_1,FINSEQ_2,NAT_1,MATRIX_1;
registrations XBOOLE_0,FINSET_1,STRUCT_0,VECTSP_1,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,MATRIX13,XREAL_0,VALUED_0,CARD_1,FVSUM_1,CKB16;
constructors XXREAL_0,GROUP_4,VECTSP_7,MATRIX11,MATRIX13,LAPLACE,RFINSEQ,POLYNOM1,WSIERP_1,SEQ_1,VALUED_0,VALUED_1,REAL_1,NAT_D,BINARITH,RELSET_1,FVSUM_1,CKB7,CKB15,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve K for Field;
reserve a for (Element of K);
reserve A for (Matrix of K);
reserve G for (FinSequence_of_Matrix of K);
theorem
Th44: (i in ( Seg ( width A ) ) implies ( DelCol (( block_diagonal (( G ^ <* A *> ),a) ),( i + ( Sum ( Width G ) ) )) ) = ( block_diagonal (( G ^ <* ( DelCol (A,i) ) *> ),a) ))
proof
assume A1: i in ( Seg ( width A ) );
set iS = ( i + ( Sum ( Width G ) ) );
set bG = ( block_diagonal (G,a) );
set Da = ( DelCol (A,i) );
set AA = <* A *>;
set DA = <* Da *>;
set BG = <* bG *>;
set BGA = ( block_diagonal (<* bG,A *>,a) );
set BGD = ( block_diagonal (<* bG,Da *>,a) );
A2: ( len Da ) = ( len A ) by MATRIX_2:def 5;
( len BGA ) = ( Sum ( Len ( BG ^ AA ) ) ) by CKB42:def 1;
then A3: ( len BGA ) = ( ( len bG ) + ( len A ) ) by CKB35:1;
A4: ( width bG ) = ( Sum ( Width G ) ) by CKB42:def 1;
A5: ( len BGD ) = ( Sum ( Len ( BG ^ DA ) ) ) by CKB42:def 1;
then A6: ( len BGD ) = ( ( len bG ) + ( len Da ) ) by CKB35:1;
A7:now
( width A ) <> ( 0 ) by A1;
then ( width A ) >= 1 by NAT_1:14;
then ( ( width A ) -' 1 ) = ( ( width A ) - 1 ) by XREAL_1:233;
then A8: ( width A ) = ( ( ( width A ) -' 1 ) + 1 );
A9: ( dom ( ( width A ) |-> a ) ) = ( Seg ( width A ) ) by FINSEQ_2:124;
A10: ( len ( ( width bG ) |-> a ) ) = ( width bG ) by CARD_1:def 7;
reconsider Da9 = Da as (Matrix of ( len Da ),( width Da ),K) by MATRIX_2:7;
let j;
assume that
A11: 1 <= j
and
A12: j <= ( len BGD );
A13: j in ( Seg ( len BGD ) ) by A11,A12,FINSEQ_1:1;
A14: ( len ( Line (bG,j) ) ) = ( width bG ) by MATRIX_1:def 7;
A15:now
per cases ;
suppose j <= ( len bG );

then A16: j in ( dom bG ) by A11,FINSEQ_3:25;
then ( Line (BGA,j) ) = ( ( Line (bG,j) ) ^ ( ( width A ) |-> a ) ) by CKB45:1;
hence ( Del (( Line (BGA,j) ),iS) ) = ( ( Line (bG,j) ) ^ ( Del (( ( width A ) |-> a ),i) ) ) by A1,A4,A9,A14,CKB4:1
.= ( ( Line (bG,j) ) ^ ( ( ( width A ) -' 1 ) |-> a ) ) by A1,A8,CKB5:1
.= ( ( Line (bG,j) ) ^ ( ( width Da ) |-> a ) ) by A1,LAPLACE:3
.= ( Line (BGD,j) ) by A16,CKB45:1
.= ( BGD . j ) by A5,A13,MATRIX_2:8;
end;
suppose A17: j > ( len bG );

then reconsider jL = ( j - ( len bG ) ) as (Element of ( NAT )) by NAT_1:21;
jL <> ( 0 ) by A17;
then A18: jL >= 1 by NAT_1:14;
( jL + ( len bG ) ) <= ( ( len bG ) + ( len A ) ) by A6,A12,MATRIX_2:def 5;
then A19: jL <= ( len A ) by XREAL_1:8;
then A20: jL in ( dom Da ) by A2,A18,FINSEQ_3:25;
A21: jL in ( Seg ( len A ) ) by A18,A19;
A22: jL in ( dom A ) by A18,A19,FINSEQ_3:25;
then A23: ( Del (( Line (A,jL) ),i) ) = ( Da9 . jL ) by MATRIX_2:def 5
.= ( Line (Da,jL) ) by A2,A21,MATRIX_2:8;
A24: ( dom ( Line (A,jL) ) ) = ( Seg ( width A ) ) by FINSEQ_2:124;
( Line (BGA,( jL + ( len bG ) )) ) = ( ( ( width bG ) |-> a ) ^ ( Line (A,jL) ) ) by A22,CKB45:1;
hence ( Del (( Line (BGA,j) ),iS) ) = ( ( ( width bG ) |-> a ) ^ ( Del (( Line (A,jL) ),i) ) ) by A1,A4,A10,A24,CKB4:1
.= ( Line (BGD,( ( len bG ) + jL )) ) by A20,A23,CKB45:1
.= ( BGD . j ) by A5,A13,MATRIX_2:8;
end;
end;
j in ( dom BGA ) by A2,A6,A3,A11,A12,FINSEQ_3:25;
hence ( ( DelCol (BGA,iS) ) . j ) = ( BGD . j ) by A15,MATRIX_2:def 5;
end;
A25: ( block_diagonal (( G ^ DA ),a) ) = BGD by CKB57:1;
A26: ( len ( DelCol (BGA,iS) ) ) = ( len BGA ) by MATRIX_2:def 5;
( block_diagonal (( G ^ AA ),a) ) = BGA by CKB57:1;
hence thesis by A2,A26,A5,A3,A7,A25,CKB35:1,FINSEQ_1:14;
end;
