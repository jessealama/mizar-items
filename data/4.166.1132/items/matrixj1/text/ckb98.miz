environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,XBOOLE_0,MATRIX_1,FINSEQ_1,ALGSTR_0,RELAT_1,ARYTM_3,TARSKI,STRUCT_0,ZFMISC_1,ORDINAL4,XXREAL_0,FUNCT_1,PARTFUN1,FINSEQ_3,CARD_1,ARYTM_1,FINSEQ_2,CARD_3,GROUP_1,RFINSEQ,TREES_1,INCSP_1,MATRIX_2,MATRIX_3,SUPINF_2,LAPLACE,MATRIX11,MESFUNC1,RVSUM_1,MATHMORP,VALUED_1,FVSUM_1,MATRIXJ1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX11,FINSEQOP,MATRIX13,LAPLACE,RFINSEQ,WSIERP_1,CKB7,CKB15,CKB17,CKB18,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43,CKB67,CKB70,CKB71,CKB73,CKB74,CKB76,CKB77,CKB78,CKB79,CKB81,CKB84,CKB85,CKB93;
definitions TARSKI,FINSEQ_1,MATRIX_1,LAPLACE,MATRIX13,FVSUM_1,CKB7,CKB15,CKB27,CKB28,CKB42,CKB67,CKB84,CKB93;
theorems CARD_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_5,FINSEQ_6,FINSEQOP,FUNCT_1,FVSUM_1,GROUP_1,GROUP_4,GOBOARD1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_9,MATRIX11,MATRIX13,MATRIX15,MATRIXR2,NAT_1,ORDINAL1,PARTFUN1,POLYNOM3,PRGCOR_1,RELAT_1,RFINSEQ,RLVECT_1,RVSUM_1,TARSKI,VECTSP_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,MATRIX_4,FUNCT_2,FUNCOP_1,MATRIXR1,CARD_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB19,CKB22,CKB27,CKB28,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB72,CKB75,CKB80,CKB82,CKB83,CKB84,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97;
schemes FINSEQ_1,FINSEQ_2,NAT_1,MATRIX_1;
registrations XBOOLE_0,FINSET_1,STRUCT_0,VECTSP_1,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,MATRIX13,XREAL_0,VALUED_0,CARD_1,FVSUM_1,CKB16,CKB68,CKB69;
constructors XXREAL_0,GROUP_4,VECTSP_7,MATRIX11,MATRIX13,LAPLACE,RFINSEQ,POLYNOM1,WSIERP_1,SEQ_1,VALUED_0,VALUED_1,REAL_1,NAT_D,BINARITH,RELSET_1,FVSUM_1,CKB7,CKB15,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43,CKB67,CKB73,CKB74,CKB76,CKB77,CKB78,CKB79,CKB81,CKB84,CKB85,CKB93;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve m for Nat;
reserve n for Nat;
reserve K for Field;
theorem
Th60: ( block_diagonal (<* ( 1. (K,i) ),( 1. (K,j) ) *>,( 0. K )) ) = ( 1. (K,( i + j )) )
proof
set I = ( 1. (K,i) );
set J = ( 1. (K,j) );
set B = ( block_diagonal (<* I,J *>,( 0. K )) );
A1: ( len I ) = i by MATRIX_1:24;
A2: ( Sum ( Len <* J *> ) ) = ( len J ) by CKB34:1;
A3: ( len J ) = j by MATRIX_1:24;
then A4: ( Indices ( block_diagonal (<* J *>,( 0. K )) ) ) = [: ( Seg j ),( Seg j ) :] by A2,MATRIX_1:24;
( Sum ( Len <* I,J *> ) ) = ( ( len I ) + ( len J ) ) by CKB35:1;
then reconsider B as (Matrix of ( i + j ),K) by A1,A3;
A5: ( Indices B ) = [: ( Seg ( i + j ) ),( Seg ( i + j ) ) :] by MATRIX_1:24;
A6: ( Indices J ) = [: ( Seg j ),( Seg j ) :] by MATRIX_1:24;
A7: ( width I ) = i by MATRIX_1:24;
A8: ( Indices I ) = [: ( Seg i ),( Seg i ) :] by MATRIX_1:24;
A9: ( Sum ( Width <* I *> ) ) = ( width I ) by CKB39:1;
A10: ( Sum ( Len <* I *> ) ) = ( len I ) by CKB34:1;
then A11: ( Indices ( block_diagonal (<* I *>,( 0. K )) ) ) = [: ( Seg i ),( Seg i ) :] by A1,MATRIX_1:24;
A12:now
let n;
let m;
assume that
A13: [ n,m ] in ( Indices B )
and
A14: n <> m;
A15: m in ( Seg ( i + j ) ) by A5,A13,ZFMISC_1:87;
then A16: m >= 1 by FINSEQ_1:1;
A17: n in ( Seg ( i + j ) ) by A5,A13,ZFMISC_1:87;
then A18: n >= 1 by FINSEQ_1:1;
now
per cases ;
suppose A19: (n <= i & m <= i);

then A20: m in ( Seg i ) by A15,A16;
n in ( Seg i ) by A17,A18,A19;
then A21: [ n,m ] in [: ( Seg i ),( Seg i ) :] by A20,ZFMISC_1:87;
hence ( B * (n,m) ) = ( ( block_diagonal (<* I *>,( 0. K )) ) * (n,m) ) by A2,A11,CKB48:1
.= ( I * (n,m) ) by CKB56:1
.= ( 0. K ) by A8,A14,A21,MATRIX_1:def 11;
end;
suppose A22: (n > i & m > i);

then A23: ( m - i ) <> ( 0 );
( n -' i ) = ( n - i ) by A22,XREAL_1:233;
then A24: n = ( ( n -' i ) + i );
( m -' i ) = ( m - i ) by A22,XREAL_1:233;
then A25: m = ( ( m -' i ) + i );
( n - i ) <> ( 0 ) by A22;
then A26: [ ( n -' i ),( m -' i ) ] in [: ( Seg j ),( Seg j ) :] by A10,A9,A1,A7,A4,A13,A23,A24,A25,CKB49:1;
hence ( B * (n,m) ) = ( ( block_diagonal (<* J *>,( 0. K )) ) * (( n -' i ),( m -' i )) ) by A10,A9,A1,A7,A4,A24,A25,CKB50:1
.= ( J * (( n -' i ),( m -' i )) ) by CKB56:1
.= ( 0. K ) by A6,A14,A24,A25,A26,MATRIX_1:def 11;
end;
suppose ((n <= i & m > i) or (n > i & m <= i));

hence ( B * (n,m) ) = ( 0. K ) by A10,A9,A2,A1,A7,A13,CKB51:1;
end;
end;
hence ( B * (n,m) ) = ( 0. K );
end;
now
let n;
assume that
A27: [ n,n ] in ( Indices B );
A28: n in ( Seg ( i + j ) ) by A5,A27,ZFMISC_1:87;
then A29: n >= 1 by FINSEQ_1:1;
now
per cases ;
suppose n <= i;

then n in ( Seg i ) by A28,A29;
then A30: [ n,n ] in [: ( Seg i ),( Seg i ) :] by ZFMISC_1:87;
hence ( B * (n,n) ) = ( ( block_diagonal (<* I *>,( 0. K )) ) * (n,n) ) by A2,A11,CKB48:1
.= ( I * (n,n) ) by CKB56:1
.= ( 1_ K ) by A8,A30,MATRIX_1:def 11;
end;
suppose A31: n > i;

then ( n -' i ) = ( n - i ) by XREAL_1:233;
then A32: n = ( ( n -' i ) + i );
( n - i ) <> ( 0 ) by A31;
then A33: [ ( n -' i ),( n -' i ) ] in [: ( Seg j ),( Seg j ) :] by A10,A9,A1,A7,A4,A27,A32,CKB49:1;
hence ( B * (n,n) ) = ( ( block_diagonal (<* J *>,( 0. K )) ) * (( n -' i ),( n -' i )) ) by A10,A9,A1,A7,A4,A32,CKB50:1
.= ( J * (( n -' i ),( n -' i )) ) by CKB56:1
.= ( 1_ K ) by A6,A33,MATRIX_1:def 11;
end;
end;
hence ( B * (n,n) ) = ( 1_ K );
end;
hence thesis by A12,MATRIX_1:def 11;
end;
