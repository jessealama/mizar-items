environ
vocabularies NUMBERS,NAT_1,VECTSP_1,SUBSET_1,XBOOLE_0,MATRIX_1,FINSEQ_1,ALGSTR_0,RELAT_1,ARYTM_3,TARSKI,STRUCT_0,ZFMISC_1,ORDINAL4,XXREAL_0,FUNCT_1,PARTFUN1,FINSEQ_3,CARD_1,ARYTM_1,FINSEQ_2,CARD_3,GROUP_1,RFINSEQ,TREES_1,INCSP_1,MATRIX_2,MATRIX_3,SUPINF_2,LAPLACE,MATRIX11,MESFUNC1,RVSUM_1,MATHMORP,VALUED_1,FVSUM_1,MATRIXJ1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,CARD_1,XCMPLX_0,ALGSTR_0,XXREAL_0,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FINSEQ_1,STRUCT_0,RLVECT_1,GROUP_1,VECTSP_1,FINSEQ_2,MATRIX_1,MATRIX_2,FVSUM_1,NAT_D,BINARITH,GROUP_4,MATRIX_3,MATRIX11,FINSEQOP,MATRIX13,LAPLACE,RFINSEQ,WSIERP_1,CKB7,CKB15,CKB17,CKB18,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43,CKB67,CKB70,CKB71,CKB73,CKB74,CKB76,CKB77,CKB78,CKB79,CKB81,CKB84,CKB85;
definitions TARSKI,FINSEQ_1,MATRIX_1,LAPLACE,MATRIX13,FVSUM_1,CKB7,CKB15,CKB27,CKB28,CKB42,CKB67,CKB84;
theorems CARD_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_5,FINSEQ_6,FINSEQOP,FUNCT_1,FVSUM_1,GROUP_1,GROUP_4,GOBOARD1,LAPLACE,MATRIX_1,MATRIX_2,MATRIX_3,MATRIX_9,MATRIX11,MATRIX13,MATRIX15,MATRIXR2,NAT_1,ORDINAL1,PARTFUN1,POLYNOM3,PRGCOR_1,RELAT_1,RFINSEQ,RLVECT_1,RVSUM_1,TARSKI,VECTSP_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,MATRIX_4,FUNCT_2,FUNCOP_1,MATRIXR1,CARD_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB19,CKB22,CKB27,CKB28,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB72,CKB75,CKB80,CKB82,CKB83,CKB84,CKB86,CKB87,CKB88;
schemes FINSEQ_1,FINSEQ_2,NAT_1,MATRIX_1;
registrations XBOOLE_0,FINSET_1,STRUCT_0,VECTSP_1,ORDINAL1,XXREAL_0,NAT_1,FINSEQ_1,RELAT_1,FINSEQ_2,MATRIX13,XREAL_0,VALUED_0,CARD_1,FVSUM_1,CKB16,CKB68,CKB69;
constructors XXREAL_0,GROUP_4,VECTSP_7,MATRIX11,MATRIX13,LAPLACE,RFINSEQ,POLYNOM1,WSIERP_1,SEQ_1,VALUED_0,VALUED_1,REAL_1,NAT_D,BINARITH,RELSET_1,FVSUM_1,CKB7,CKB15,CKB20,CKB21,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB42,CKB43,CKB67,CKB73,CKB74,CKB76,CKB77,CKB78,CKB79,CKB81,CKB84,CKB85;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve m for Nat;
reserve n for Nat;
reserve K for Field;
reserve N for (Matrix of n,K);
reserve N1 for (Matrix of m,K);
theorem
Th52: ( Det ( block_diagonal (<* N,N1 *>,( 0. K )) ) ) = ( ( Det N ) * ( Det N1 ) )
proof
defpred P[ Nat ]
 means
(for n holds (for m holds (for N holds (for N1 holds (n = $1 implies ( Det ( block_diagonal (<* N,N1 *>,( 0. K )) ) ) = ( ( Det N ) * ( Det N1 ) ))))));
A1: (for i holds (P[ i ] implies P[ ( i + 1 ) ]))
proof
let i;
assume that
A2: P[ i ];
set i1 = ( i + 1 );
let n;
let m;
let N;
let N1;
assume that
A3: n = i1;
1 <= ( ( i + m ) + 1 ) by NAT_1:11;
then A4: 1 in ( Seg ( n + m ) ) by A3;
1 <= i1 by NAT_1:11;
then A5: 1 in ( Seg n ) by A3;
set L0 = ( ( len N1 ) |-> ( 0. K ) );
reconsider nn = n as (Element of ( NAT )) by ORDINAL1:def 12;
set D = ( Det N1 );
set L1 = ( LaplaceExpL (N,1) );
set NN = <* N,N1 *>;
reconsider M = N as (Matrix of K);
set bN = ( block_diagonal (NN,( 0. K )) );
set L = ( LaplaceExpL (bN,1) );
A6: ( width N ) = n by MATRIX_1:24;
set Ln = ( L | n );
A7: ( len L1 ) = n by LAPLACE:def 7;
set L9n = ( L /^ n );
A8: L = ( ( L | n ) ^ ( L /^ n ) ) by RFINSEQ:8;
A9: ( len N ) = n by MATRIX_1:24;
then A10: ( dom N ) = ( Seg n ) by FINSEQ_1:def 3;
reconsider L1 as (Element of ( nn -tuples_on (the carrier of K) )) by A7,FINSEQ_2:92;
A11: ( len N1 ) = m by MATRIX_1:24;
then A12: ( len L0 ) = m by CARD_1:def 7;
A13: ( Sum ( Len NN ) ) = ( ( len N ) + ( len N1 ) ) by CKB35:1;
then A14: ( len L ) = ( n + m ) by A9,A11,LAPLACE:def 7;
then A15: ( len Ln ) = n by FINSEQ_1:59,NAT_1:11;
A16: ( width bN ) = ( Sum ( Len NN ) ) by MATRIX_1:24;
A17:now
A18: i = ( n -' 1 ) by A3,NAT_D:34;
let j;
assume that
A19: 1 <= j
and
A20: j <= n;
A21: ( len ( Delete (N,1,j) ) ) = ( n -' 1 ) by MATRIX_1:def 2;
A22: j in ( dom Ln ) by A15,A19,A20,FINSEQ_3:25;
then j in ( ( dom L ) /\ ( Seg n ) ) by RELAT_1:61;
then A23: j in ( dom L ) by XBOOLE_0:def 4;
j in ( dom L1 ) by A7,A19,A20,FINSEQ_3:25;
then A24: ( ( N * (1,j) ) * ( Cofactor (N,1,j) ) ) = ( L1 . j ) by LAPLACE:def 7;
A25: ( ( ( i + m ) + 1 ) -' 1 ) = ( i + m ) by NAT_D:34;
A26: ( dom ( Line (N,1) ) ) = ( Seg n ) by A6,FINSEQ_2:124;
A27: ( dom Ln ) = ( Seg n ) by A15,FINSEQ_1:def 3;
A28: ( dom L ) = ( Seg ( n + m ) ) by A14,FINSEQ_1:def 3;
then A29: ( Delete (bN,1,j) ) = ( Deleting (bN,1,j) ) by A13,A9,A11,A4,A23,LAPLACE:def 1
.= ( block_diagonal (( <* ( Deleting (N,1,j) ) *> ^ <* N1 *> ),( 0. K )) ) by A5,A10,A22,A27,CKB82:1
.= ( block_diagonal (<* ( Delete (N,1,j) ),N1 *>,( 0. K )) ) by A5,A22,A27,LAPLACE:def 1;
( ( Minor (N,1,j) ) * D ) = ( Det ( block_diagonal (<* ( Delete (N,1,j) ),N1 *>,( 0. K )) ) ) by A2,A3,NAT_D:34
.= ( Minor (bN,1,j) ) by A3,A13,A9,A11,A29,A18,A25,A21,CKB35:1;
then A30: ( Cofactor (bN,1,j) ) = ( D * ( Cofactor (N,1,j) ) ) by GROUP_1:def 3;
A31: ( bN * (1,j) ) = ( ( Line (( block_diagonal (<* M,N1 *>,( 0. K )) ),1) ) . j ) by A16,A13,A9,A11,A23,A28,MATRIX_1:def 7
.= ( ( ( Line (N,1) ) ^ ( ( width N1 ) |-> ( 0. K ) ) ) . j ) by A5,A10,CKB45:1
.= ( ( Line (N,1) ) . j ) by A22,A27,A26,FINSEQ_1:def 7
.= ( N * (1,j) ) by A6,A22,A27,MATRIX_1:def 7;
thus ( Ln . j ) = ( L . j ) by A22,FUNCT_1:47
.= ( ( N * (1,j) ) * ( D * ( Cofactor (N,1,j) ) ) ) by A23,A30,A31,LAPLACE:def 7
.= ( D * ( ( N * (1,j) ) * ( Cofactor (N,1,j) ) ) ) by GROUP_1:def 3
.= ( ( D * L1 ) . j ) by A22,A27,A24,FVSUM_1:51;
end;
n <= ( n + m ) by NAT_1:11;
then A32: ( len L9n ) = ( ( n + m ) - n ) by A14,RFINSEQ:def 1;
A33: ( width N1 ) = m by MATRIX_1:24;
now
A34: ( len ( Line (N,1) ) ) = n by A6,CARD_1:def 7;
let i;
assume that
A35: 1 <= i
and
A36: i <= m;
A37: i in ( Seg m ) by A35,A36,FINSEQ_1:1;
A38: i in ( dom L0 ) by A12,A35,A36,FINSEQ_3:25;
A39: i in ( dom L9n ) by A32,A35,A36,FINSEQ_3:25;
then A40: ( n + i ) in ( dom L ) by FINSEQ_5:26;
( dom L ) = ( Seg ( width bN ) ) by A16,A13,A9,A11,A14,FINSEQ_1:def 3;
then A41: ( bN * (1,( i + n )) ) = ( ( Line (( block_diagonal (<* M,N1 *>,( 0. K )) ),1) ) . ( i + n ) ) by A40,MATRIX_1:def 7
.= ( ( ( Line (N,1) ) ^ L0 ) . ( i + n ) ) by A11,A33,A5,A10,CKB45:1
.= ( L0 . i ) by A38,A34,FINSEQ_1:def 7
.= ( 0. K ) by A11,A37,FINSEQ_2:57;
thus ( L9n . i ) = ( L9n /. i ) by A39,PARTFUN1:def 6
.= ( L /. ( i + n ) ) by A39,FINSEQ_5:27
.= ( L . ( i + n ) ) by A40,PARTFUN1:def 6
.= ( ( bN * (1,( i + n )) ) * ( Cofactor (bN,1,( i + n )) ) ) by A40,LAPLACE:def 7
.= ( 0. K ) by A41,VECTSP_1:6
.= ( L0 . i ) by A11,A37,FINSEQ_2:57;
end;
then A42: ( L /^ n ) = ( ( len N1 ) |-> ( 0. K ) ) by A32,A12,FINSEQ_1:14;
( len ( D * L1 ) ) = nn by A7,MATRIXR1:16;
then ( L | n ) = ( D * L1 ) by A15,A17,FINSEQ_1:14;
then ( Sum L ) = ( ( Sum ( D * L1 ) ) + ( Sum ( ( len N1 ) |-> ( 0. K ) ) ) ) by A42,A8,RLVECT_1:41
.= ( ( Sum ( D * L1 ) ) + ( Sum ( ( len N1 ) |-> ( ( 0. K ) * ( 0. K ) ) ) ) ) by VECTSP_1:6
.= ( ( Sum ( D * L1 ) ) + ( Sum ( ( 0. K ) * ( ( len N1 ) |-> ( 0. K ) ) ) ) ) by FVSUM_1:53
.= ( ( D * ( Sum L1 ) ) + ( Sum ( ( 0. K ) * ( ( len N1 ) |-> ( 0. K ) ) ) ) ) by FVSUM_1:73
.= ( ( D * ( Sum L1 ) ) + ( ( 0. K ) * ( Sum ( ( len N1 ) |-> ( 0. K ) ) ) ) ) by FVSUM_1:73
.= ( ( D * ( Sum L1 ) ) + ( 0. K ) ) by VECTSP_1:6
.= ( D * ( Sum L1 ) ) by RLVECT_1:def 4
.= ( D * ( Det N ) ) by A5,LAPLACE:25;
hence thesis by A13,A9,A11,A4,LAPLACE:25;
end;
A43: P[ ( 0 ) ]
proof
let n;
let m;
let N;
let N1;
assume that
A44: n = ( 0 );
A45: ( len N ) = n by MATRIX_1:def 2;
then N = ( {} ) by A44;
then A46: ( block_diagonal (<* N,N1 *>,( 0. K )) ) = ( block_diagonal (<* N1 *>,( 0. K )) ) by CKB62:1
.= N1 by CKB56:1;
( len N1 ) = m by MATRIX_1:def 2;
then ( Sum ( Len <* N,N1 *> ) ) = ( ( 0 ) + m ) by A44,A45,CKB35:1;
hence ( Det ( block_diagonal (<* N,N1 *>,( 0. K )) ) ) = ( ( Det N1 ) * ( 1_ K ) ) by A46,VECTSP_1:def 6
.= ( ( Det N ) * ( Det N1 ) ) by A44,MATRIXR2:41;
end;
(for i holds P[ i ]) from NAT_1:sch 2(A43,A1);
hence thesis;
end;
