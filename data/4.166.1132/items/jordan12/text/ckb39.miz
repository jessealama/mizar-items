environ
vocabularies NUMBERS,SUBSET_1,REAL_1,FINSEQ_1,RELAT_1,ZFMISC_1,XBOOLE_0,ARYTM_3,CARD_1,ARYTM_1,ABIAN,EUCLID,XXREAL_0,PARTFUN1,FUNCT_1,TOPREAL1,GOBOARD5,NAT_1,RLTOPSP1,GRAPH_2,TARSKI,STRUCT_0,PRE_TOPC,SETFAM_1,FINSET_1,CONNSP_1,GOBOARD9,RELAT_2,GOBOARD1,MCART_1,CONVEX1,TREES_1,GOBOARD2,FINSEQ_5,SPPOL_1,MATRIX_1,TOPS_1,INT_1,JORDAN12;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,CARD_1,NUMBERS,XCMPLX_0,REAL_1,NAT_1,NAT_D,ABIAN,INT_1,GRAPH_2,FINSET_1,FUNCT_1,PARTFUN1,FINSEQ_1,MATRIX_1,STRUCT_0,PRE_TOPC,TOPS_1,CONNSP_1,RLTOPSP1,EUCLID,TOPREAL1,SPPOL_1,GOBOARD1,GOBOARD2,GOBOARD5,GOBOARD9,GOBRD13,XXREAL_0,CKB9,CKB10;
definitions XBOOLE_0,TARSKI,GOBOARD5,TOPREAL1,JORDAN1,SUBSET_1,CKB9,CKB10;
theorems SPPOL_1,XBOOLE_0,TOPREAL1,JORDAN4,TARSKI,SPPOL_2,FUNCT_1,FINSEQ_4,FINSEQ_1,NAT_1,SETFAM_1,FINSET_1,CARD_2,RELAT_1,TOPREAL3,GOBOARD9,CARD_1,SUBSET_1,GOBRD14,JORDAN1H,GOBRD12,JORDAN9,XBOOLE_1,JORDAN1,GOBOARD5,JORDAN8,GOBRD13,GOBOARD6,EUCLID,GOBOARD7,TOPS_1,NAT_2,JORDAN1G,SPRECT_3,JORDAN1J,FINSEQ_5,GOBRD11,TOPREAL6,GOBOARD2,REALSET1,TOPREAL8,GRAPH_2,FINSEQ_3,JORDAN5B,XREAL_1,XXREAL_0,PARTFUN1,ORDINAL1,MATRIX_1,XREAL_0,NAT_D,ZFMISC_1,RLTOPSP1,SEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38;
schemes FRAENKEL,NAT_1;
registrations SUBSET_1,RELSET_1,XREAL_0,INT_1,MEMBERED,ABIAN,GOBOARD2,SPPOL_2,GOBOARD5,GOBOARD9,JORDAN10,FUNCT_1,RELAT_1,ZFMISC_1,EUCLID,FINSET_1,FINSEQ_1,CKB6;
constructors SETFAM_1,XXREAL_0,NAT_1,NAT_D,ABIAN,TOPS_1,CONNSP_1,COMPTS_1,GOBOARD2,SPPOL_1,JORDAN1,GRAPH_2,GOBOARD9,GOBRD13,XXREAL_2,RELSET_1,CONVEX1,CKB9,CKB10;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
theorem
Th35: (for f1,f2,g1 being  special (FinSequence of ( TOP-REAL 2 )) holds ((((( f1 ^' f2 ) is non constant  standard non constant  standard special_circular_sequence & ( f1 ^' f2 ),g1 are_in_general_position ) & ( len g1 ) >= 2) & g1 is  unfolded  s.n.c.) implies (( card ( ( L~ ( f1 ^' f2 ) ) /\ ( L~ g1 ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( ( L~ ( f1 ^' f2 ) ) ` ) & ( g1 . 1 ) in C) & ( g1 . ( len g1 ) ) in C)))))
proof
let f1 being  special (FinSequence of ( TOP-REAL 2 )),f2 being  special (FinSequence of ( TOP-REAL 2 )),g1 being  special (FinSequence of ( TOP-REAL 2 ));
assume that
A1: ( f1 ^' f2 ) is non constant  standard non constant  standard special_circular_sequence
and
A2: ( f1 ^' f2 ),g1 are_in_general_position 
and
A3: ( len g1 ) >= 2
and
A4: g1 is  unfolded  s.n.c.;
reconsider g1 as  special  unfolded  s.n.c. (FinSequence of ( TOP-REAL 2 )) by A4;
set Lf = ( L~ ( f1 ^' f2 ) );
( f1 ^' f2 ) is_in_general_position_wrt g1 by A2,CKB10:def 1;
then A5: Lf misses ( rng g1 ) by CKB9:def 1;
defpred P[ Nat ]
 means
($1 <= ( len g1 ) implies (for a being (FinSequence of ( TOP-REAL 2 )) holds (a = ( g1 | ( Seg $1 ) ) implies (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C))))));
A6: ( dom g1 ) = ( Seg ( len g1 ) ) by FINSEQ_1:def 3;
A7: ( 1 + 1 ) <= ( len g1 ) by A3;
A8:now
let k being Nat;
assume that
A9: k >= 2
and
A10: P[ k ];
A11: k in ( NAT ) by ORDINAL1:def 12;
A12: 1 <= k by A9,XXREAL_0:2;
then A13: 1 <= ( k + 1 ) by NAT_1:13;
now
reconsider b = ( g1 | ( Seg k ) ) as (FinSequence of ( TOP-REAL 2 )) by FINSEQ_1:18;
1 in ( Seg k ) by A12,FINSEQ_1:1;
then A14: ( b . 1 ) = ( g1 . 1 ) by FUNCT_1:49;
reconsider s1 = ( Lf /\ ( L~ b ) ) as  finite set by A2,A11,CKB11:1,CKB16:1;
set c = ( LSeg (g1,k) );
A15: k in ( Seg k ) by A12,FINSEQ_1:1;
reconsider s2 = ( Lf /\ c ) as  finite set by A2,A11,CKB17:1;
A16: k <= ( k + 1 ) by NAT_1:13;
then A17: ( Seg k ) c= ( Seg ( k + 1 ) ) by FINSEQ_1:5;
k >= ( 1 + 1 ) by A9;
then A18: 1 < k by NAT_1:13;
A19: ( g1 . 1 ) in ( Lf ` ) by A2,A7,CKB13:1;
assume A20: ( k + 1 ) <= ( len g1 );
then A21: (( g1 . ( k + 1 ) ) in ( Lf ` ) & ( g1 . k ) in ( Lf ` )) by A2,A11,A12,CKB13:1;
let a being (FinSequence of ( TOP-REAL 2 ));
assume that
A22: a = ( g1 | ( Seg ( k + 1 ) ) );
A23: ( dom a ) = ( ( dom g1 ) /\ ( Seg ( k + 1 ) ) ) by A22,RELAT_1:61;
A24: ( k + 1 ) in ( Seg ( k + 1 ) ) by A13,FINSEQ_1:1;
then A25: ( g1 . ( k + 1 ) ) = ( a . ( k + 1 ) ) by A22,FUNCT_1:49
.= ( a . ( len a ) ) by A20,A22,FINSEQ_1:17;
A26: ( k + 1 ) in ( Seg ( len g1 ) ) by A13,A20,FINSEQ_1:1;
then A27: ( k + 1 ) in ( dom a ) by A6,A24,A23,XBOOLE_0:def 4;
then A28: ( a /. ( k + 1 ) ) = ( a . ( k + 1 ) ) by PARTFUN1:def 6
.= ( g1 . ( k + 1 ) ) by A22,A27,FUNCT_1:47
.= ( g1 /. ( k + 1 ) ) by A6,A26,PARTFUN1:def 6;
A29: ( len a ) = ( k + 1 ) by A20,A22,FINSEQ_1:17;
( g1 | ( k + 1 ) ) = a by A22,FINSEQ_1:def 15;
then ( ( L~ ( a | k ) ) /\ ( LSeg (a,k) ) ) = { ( a /. k ) } by A11,A29,A18,GOBOARD2:4;
then A30: ( ( L~ ( a | k ) ) /\ ( LSeg (( a /. k ),( a /. ( k + 1 ) )) ) ) = { ( a /. k ) } by A12,A29,TOPREAL1:def 3;
1 in ( Seg ( k + 1 ) ) by A13,FINSEQ_1:1;
then A31: ( g1 . 1 ) = ( a . 1 ) by A22,FUNCT_1:49;
reconsider s = ( Lf /\ ( L~ a ) ) as  finite set by A2,A22,CKB11:1,CKB16:1;
A32: a = ( g1 | ( k + 1 ) ) by A22,FINSEQ_1:def 15;
A33: k < ( len g1 ) by A20,NAT_1:13;
then A34: k in ( dom g1 ) by A6,A12,FINSEQ_1:1;
A35: ( a | k ) = ( ( g1 | ( Seg ( k + 1 ) ) ) | ( Seg k ) ) by A22,FINSEQ_1:def 15
.= ( g1 | ( Seg k ) ) by A17,FUNCT_1:51
.= ( g1 | k ) by FINSEQ_1:def 15;
A36: ( b . ( len b ) ) = ( b . k ) by A33,FINSEQ_1:17
.= ( g1 . k ) by A15,FUNCT_1:49;
k in ( Seg ( k + 1 ) ) by A12,A16,FINSEQ_1:1;
then A37: k in ( dom a ) by A34,A23,XBOOLE_0:def 4;
then ( a /. k ) = ( a . k ) by PARTFUN1:def 6
.= ( g1 . k ) by A22,A37,FUNCT_1:47
.= ( g1 /. k ) by A34,PARTFUN1:def 6;
then ( ( L~ b ) /\ ( LSeg (( g1 /. k ),( g1 /. ( k + 1 ) )) ) ) = { ( g1 /. k ) } by A35,A28,A30,FINSEQ_1:def 15;
then ( ( L~ b ) /\ ( LSeg (g1,k) ) ) = { ( g1 /. k ) } by A12,A20,TOPREAL1:def 3;
then A38: ( ( L~ b ) /\ c ) = { ( g1 . k ) } by A34,PARTFUN1:def 6;
A39: s1 misses s2
proof
assume s1 meets s2;
then consider x such that A40: x in s1 and A41: x in s2 by XBOOLE_0:3;
(x in ( L~ b ) & x in c) by A40,A41,XBOOLE_0:def 4;
then x in ( ( L~ b ) /\ c ) by XBOOLE_0:def 4;
then x = ( g1 . k ) by A38,TARSKI:def 1;
then A42: x in ( rng g1 ) by A34,FUNCT_1:3;
x in Lf by A40,XBOOLE_0:def 4;
hence contradiction by A5,A42,XBOOLE_0:3;
end;
( k + 1 ) in ( dom g1 ) by A6,A13,A20,FINSEQ_1:1;
then ( L~ a ) = ( ( L~ ( g1 | k ) ) \/ ( LSeg (( g1 /. k ),( g1 /. ( k + 1 ) )) ) ) by A34,A32,TOPREAL3:38
.= ( ( L~ b ) \/ ( LSeg (( g1 /. k ),( g1 /. ( k + 1 ) )) ) ) by FINSEQ_1:def 15
.= ( ( L~ b ) \/ c ) by A12,A20,TOPREAL1:def 3;
then A43: s = ( s1 \/ s2 ) by XBOOLE_1:23;
per cases ;
suppose A44: ( card s1 ) is  even  even (Element of ( NAT ));

then reconsider c1 = ( card ( Lf /\ ( L~ b ) ) ) as  even Integer;
now
per cases ;
suppose A45: ( card s2 ) is  even  even (Element of ( NAT ));

then reconsider c2 = ( card ( Lf /\ c ) ) as  even Integer;
reconsider c = ( card s ) as Integer;
A46: (c = ( c1 + c2 ) & (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( b . 1 ) in C) & ( b . ( len b ) ) in C))) by A10,A20,A43,A39,A44,CARD_2:40,NAT_1:13;
(ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( g1 . k ) in C) & ( g1 . ( k + 1 ) ) in C)) by A1,A2,A11,A12,A20,A45,CKB38:1;
hence (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C))) by A1,A31,A25,A14,A36,A46,CKB21:1;
end;
suppose A47: (not ( card s2 ) is  even  even (Element of ( NAT )));

then reconsider c2 = ( card ( Lf /\ c ) ) as  odd Integer;
reconsider c = ( card s ) as Integer;
A48: (c = ( c1 + c2 ) & (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( b . 1 ) in C) & ( b . ( len b ) ) in C))) by A10,A20,A43,A39,A44,CARD_2:40,NAT_1:13;
(not (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( g1 . k ) in C) & ( g1 . ( k + 1 ) ) in C))) by A1,A2,A11,A12,A20,A47,CKB38:1;
hence (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C))) by A1,A31,A25,A14,A36,A48,CKB21:1;
end;
end;
hence (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C)));
end;
suppose A49: (not ( card s1 ) is  even  even (Element of ( NAT )));

then reconsider c1 = ( card ( Lf /\ ( L~ b ) ) ) as  odd Integer;
now
per cases ;
suppose A50: ( card s2 ) is  even  even (Element of ( NAT ));

then reconsider c2 = ( card ( Lf /\ c ) ) as  even Integer;
reconsider c = ( card s ) as Integer;
A51: (c = ( c1 + c2 ) & (not (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( b . 1 ) in C) & ( b . ( len b ) ) in C)))) by A10,A20,A43,A39,A49,CARD_2:40,NAT_1:13;
(ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( g1 . k ) in C) & ( g1 . ( k + 1 ) ) in C)) by A1,A2,A11,A12,A20,A50,CKB38:1;
hence (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C))) by A1,A31,A25,A14,A36,A51,CKB21:1;
end;
suppose A52: (not ( card s2 ) is  even  even (Element of ( NAT )));

then reconsider c2 = ( card ( Lf /\ c ) ) as  odd Integer;
reconsider c = ( card s ) as Integer;
A53: (c = ( c1 + c2 ) & (not (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( b . 1 ) in C) & ( b . ( len b ) ) in C)))) by A10,A20,A43,A39,A49,CARD_2:40,NAT_1:13;
(not (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( g1 . k ) in C) & ( g1 . ( k + 1 ) ) in C))) by A1,A2,A11,A12,A20,A52,CKB38:1;
hence (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C))) by A1,A31,A19,A21,A25,A14,A36,A53,CKB22:1;
end;
end;
hence (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C)));
end;
end;
hence P[ ( k + 1 ) ];
end;
( dom g1 ) = ( Seg ( len g1 ) ) by FINSEQ_1:def 3;
then A54: ( g1 | ( Seg ( len g1 ) ) ) = g1 by RELAT_1:69;
A55: 2 in ( dom g1 ) by A3,FINSEQ_3:25;
A56: 1 <= ( len g1 ) by A3,XXREAL_0:2;
then A57: 1 in ( dom g1 ) by FINSEQ_3:25;
now
( g1 | 1 ) = ( g1 | ( Seg 1 ) ) by FINSEQ_1:def 15;
then A58: ( len ( g1 | 1 ) ) = 1 by A56,FINSEQ_1:17;
A59: 2 in ( Seg 2 ) by FINSEQ_1:2,TARSKI:def 2;
let a being (FinSequence of ( TOP-REAL 2 ));
assume that
A60: a = ( g1 | ( Seg 2 ) );
A61: ( a . ( len a ) ) = ( a . 2 ) by A3,A60,FINSEQ_1:17
.= ( g1 . ( 1 + 1 ) ) by A60,A59,FUNCT_1:49;
1 in ( Seg 2 ) by FINSEQ_1:2,TARSKI:def 2;
then A62: ( a . 1 ) = ( g1 . 1 ) by A60,FUNCT_1:49;
( L~ a ) = ( L~ ( g1 | 2 ) ) by A60,FINSEQ_1:def 15
.= ( ( L~ ( g1 | 1 ) ) \/ ( LSeg (( g1 /. 1 ),( g1 /. ( 1 + 1 ) )) ) ) by A57,A55,TOPREAL3:38
.= ( ( L~ ( g1 | 1 ) ) \/ ( LSeg (g1,1) ) ) by A3,TOPREAL1:def 3
.= ( ( {} ) \/ ( LSeg (g1,1) ) ) by A58,TOPREAL1:22
.= ( LSeg (g1,1) );
hence (( card ( Lf /\ ( L~ a ) ) ) is  even  even (Element of ( NAT )) iff (ex C being (Subset of ( TOP-REAL 2 )) st ((C is_a_component_of ( Lf ` ) & ( a . 1 ) in C) & ( a . ( len a ) ) in C))) by A1,A2,A3,A62,A61,CKB38:1;
end;
then A63: P[ 2 ];
(for k being Nat holds (k >= 2 implies P[ k ])) from NAT_1:sch 8(A63,A8);
hence thesis by A3,A54;
end;
