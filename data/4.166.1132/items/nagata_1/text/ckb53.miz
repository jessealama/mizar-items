environ
vocabularies NUMBERS,XBOOLE_0,PRE_TOPC,METRIC_1,REAL_1,XXREAL_0,CARD_1,ARYTM_3,COMPLEX1,ARYTM_1,SETFAM_1,NATTRA_1,RCOMP_1,SUBSET_1,STRUCT_0,TARSKI,ZFMISC_1,PCOMPS_1,FINSET_1,FUNCT_1,CARD_3,FUNCOP_1,COMPTS_1,RELAT_1,ORDINAL1,RLVECT_3,XREAL_0,CARD_5,NEWTON,FINSEQ_1,PSCOMP_1,ORDINAL2,TOPMETR,TMAP_1,BINOP_1,FUNCT_2,SETWISEO,COH_SP,FINSOP_1,NAT_1,RELAT_2,NAGATA_1;
notations BINOP_1,SETWISEO,TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,COMPLEX1,RELSET_1,FUNCT_2,FINSEQ_1,ZFMISC_1,PCOMPS_1,PRE_TOPC,FINSET_1,CARD_1,XCMPLX_0,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,FINSOP_1,VALUED_1,STRUCT_0,TOPS_2,COMPTS_1,METRIC_1,NEWTON,CARD_3,PROB_1,FUNCOP_1,CANTOR_1,DOMAIN_1,TOPMETR,PSCOMP_1,BORSUK_1,TMAP_1,CKB3,CKB20,CKB21,CKB22,CKB23,CKB26,CKB27,CKB28,CKB33,CKB34,CKB44,CKB49,CKB52;
definitions PCOMPS_1,TARSKI,BINOP_1,SUBSET_1,COMPTS_1,PRE_TOPC,STRUCT_0,CKB3,CKB23,CKB26,CKB27,CKB33,CKB34,CKB44,CKB49,CKB52;
theorems FUNCT_1,FUNCT_2,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,TMAP_1,CARD_1,PCOMPS_1,PCOMPS_2,BORSUK_1,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,SUBSET_1,TOPS_1,TOPS_2,PRE_TOPC,REALSET1,COMPTS_1,CARD_3,URYSOHN1,NAT_1,YELLOW_9,FINSEQ_1,CARD_2,FINSOP_1,SETWISEO,NEWTON,TOPREAL6,ZFMISC_1,BINOP_1,SEQ_2,PROB_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,PREPOWER,ORDINAL1,VALUED_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB23,CKB24,CKB26,CKB27,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52;
schemes FUNCT_1,FRAENKEL,FUNCT_2,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,CARD_LAR,STRUCT_0,TOPS_1,COMPTS_1,METRIC_1,BORSUK_1,TOPMETR,PSCOMP_1,VALUED_0,VALUED_1,FUNCT_2,CARD_3,FUNCT_1,PRE_TOPC,ZFMISC_1,CKB4,CKB5,CKB15,CKB25,CKB29,CKB30;
constructors SETFAM_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,PROB_1,FUNCOP_1,FINSOP_1,NEWTON,REALSET1,CARD_5,TOPS_2,COMPTS_1,TMAP_1,CANTOR_1,PCOMPS_1,PSCOMP_1,URYSOHN3,CKB3,CKB21,CKB22,CKB23,CKB26,CKB27,CKB33,CKB34,CKB44,CKB49,CKB52;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve T for non empty TopSpace;
reserve x for set;
theorem
(for r being Real holds (for f being (RealMap of T) holds (f is  continuous implies ( min (r,f) ) is  continuous)))
proof
let r being Real;
let f being (RealMap of T);
assume that
A1: f is  continuous;
reconsider f9 = f,mf9 = ( min (r,f) ) as (Function of T,( R^1 )) by TOPMETR:17;
A2: f9 is  continuous by A1,TOPREAL6:74;
now
let t being (Point of T);
(for R being (Subset of ( R^1 )) holds ((R is  open & ( mf9 . t ) in R) implies (ex U being (Subset of T) st ((U is  open & t in U) & ( mf9 .: U ) c= R))))
proof
reconsider ft = ( f . t ) as (Point of ( RealSpace )) by METRIC_1:def 13;
let R being (Subset of ( R^1 ));
assume that
A3: R is  open
and
A4: ( mf9 . t ) in R;
now
per cases ;
suppose A5: ( f . t ) <= r;

then ( f . t ) = ( min (r,( f . t )) ) by XXREAL_0:def 9;
then ft in R by A4,CKB52:def 1;
then consider s being  real number such that A6: s > ( 0 ) and A7: ( Ball (ft,s) ) c= R by A3,TOPMETR:15,TOPMETR:def 6;
reconsider s9 = s as Real by XREAL_0:def 1;
reconsider B = ( Ball (ft,s9) ) as (Subset of ( R^1 )) by METRIC_1:def 13,TOPMETR:17;
( dist (ft,ft) ) < s9 by A6,METRIC_1:1;
then A8: ft in B by METRIC_1:11;
(B is  open & f9 is_continuous_at t) by A2,TMAP_1:50,TOPMETR:14,TOPMETR:def 6;
then consider U being (Subset of T) such that A9: (U is  open & t in U) and A10: ( f9 .: U ) c= B by A8,TMAP_1:43;
( ( min (r,f) ) .: U ) c= R
proof
let mfx being set;
assume mfx in ( ( min (r,f) ) .: U );
then consider x such that A11: x in ( dom ( min (r,f) ) ) and A12: x in U and A13: mfx = ( ( min (r,f) ) . x ) by FUNCT_1:def 6;
reconsider x as (Point of T) by A11;
reconsider fx = ( f . x ),r9 = r as (Point of ( RealSpace )) by METRIC_1:def 13;
( dom ( min (r,f) ) ) = (the carrier of T) by FUNCT_2:def 1;
then x in ( dom f ) by A11,FUNCT_2:def 1;
then A14: ( f . x ) in ( f .: U ) by A12,FUNCT_1:def 6;
then A15: ( f . x ) in B by A10;
now
per cases ;
suppose ( f . x ) <= r;

then ( min (r,( f . x )) ) = ( f . x ) by XXREAL_0:def 9;
then mfx = ( f . x ) by A13,CKB52:def 1;
hence thesis by A7,A15;
end;
suppose A16: ( f . x ) > r;

( dist (fx,ft) ) < s by A10,A14,METRIC_1:11;
then A17: ( abs ( ( f . x ) - ( f . t ) ) ) < s by TOPMETR:11;
A18: ( r - ( f . t ) ) <= ( ( f . x ) - ( f . t ) ) by A16,XREAL_1:9;
( f . x ) >= ( f . t ) by A5,A16,XXREAL_0:2;
then ( ( f . x ) - ( f . t ) ) >= ( 0 ) by XREAL_1:48;
then ( ( f . x ) - ( f . t ) ) < s by A17,ABSVALUE:def 1;
then A19: ( r - ( f . t ) ) < s by A18,XXREAL_0:2;
( r - ( f . t ) ) >= ( 0 ) by A5,XREAL_1:48;
then ( abs ( r - ( f . t ) ) ) < s by A19,ABSVALUE:def 1;
then ( dist (ft,r9) ) < s by TOPMETR:11;
then A20: r in B by METRIC_1:11;
( min (r,( f . x )) ) = r by A16,XXREAL_0:def 9;
then mfx = r by A13,CKB52:def 1;
hence thesis by A7,A20;
end;
end;
hence thesis;
end;
hence (ex U being (Subset of T) st ((U is  open & t in U) & ( ( min (r,f) ) .: U ) c= R)) by A9;
end;
suppose A21: ( f . t ) > r;

set s = ( ( f . t ) - r );
reconsider B = ( Ball (ft,s) ) as (Subset of ( R^1 )) by METRIC_1:def 13,TOPMETR:17;
s > ( 0 ) by A21,XREAL_1:50;
then ( dist (ft,ft) ) < s by METRIC_1:1;
then A22: ft in B by METRIC_1:11;
(B is  open & f9 is_continuous_at t) by A2,TMAP_1:50,TOPMETR:14,TOPMETR:def 6;
then consider U being (Subset of T) such that A23: (U is  open & t in U) and A24: ( f9 .: U ) c= B by A22,TMAP_1:43;
( ( min (r,f) ) .: U ) c= R
proof
let mfx being set;
assume mfx in ( ( min (r,f) ) .: U );
then consider x such that A25: x in ( dom ( min (r,f) ) ) and A26: x in U and A27: mfx = ( ( min (r,f) ) . x ) by FUNCT_1:def 6;
reconsider x as (Point of T) by A25;
reconsider fx = ( f . x ) as (Point of ( RealSpace )) by METRIC_1:def 13;
( dom ( min (r,f) ) ) = (the carrier of T) by FUNCT_2:def 1;
then x in ( dom f ) by A25,FUNCT_2:def 1;
then ( f . x ) in ( f .: U ) by A26,FUNCT_1:def 6;
then ( dist (ft,fx) ) < s by A24,METRIC_1:11;
then ( abs ( ( f . t ) - ( f . x ) ) ) < s by TOPMETR:11;
then ( ( f . t ) + ( - ( f . x ) ) ) <= ( ( f . t ) + ( - r ) ) by ABSVALUE:5;
then ( - ( f . x ) ) <= ( - r ) by XREAL_1:6;
then r <= ( f . x ) by XREAL_1:24;
then A28: ( min (r,( f . x )) ) = r by XXREAL_0:def 9;
( min (r,( f . t )) ) = r by A21,XXREAL_0:def 9;
then ( ( min (r,f) ) . t ) = r by CKB52:def 1;
hence thesis by A4,A27,A28,CKB52:def 1;
end;
hence (ex U being (Subset of T) st ((U is  open & t in U) & ( ( min (r,f) ) .: U ) c= R)) by A23;
end;
end;
hence thesis;
end;
hence mf9 is_continuous_at t by TMAP_1:43;
end;
then mf9 is  continuous by TMAP_1:50;
hence thesis by TOPREAL6:74;
end;
