environ
vocabularies NUMBERS,XBOOLE_0,PRE_TOPC,METRIC_1,REAL_1,XXREAL_0,CARD_1,ARYTM_3,COMPLEX1,ARYTM_1,SETFAM_1,NATTRA_1,RCOMP_1,SUBSET_1,STRUCT_0,TARSKI,ZFMISC_1,PCOMPS_1,FINSET_1,FUNCT_1,CARD_3,FUNCOP_1,COMPTS_1,RELAT_1,ORDINAL1,RLVECT_3,XREAL_0,CARD_5,NEWTON,FINSEQ_1,PSCOMP_1,ORDINAL2,TOPMETR,TMAP_1,BINOP_1,FUNCT_2,SETWISEO,COH_SP,FINSOP_1,NAT_1,RELAT_2,NAGATA_1;
notations BINOP_1,SETWISEO,TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,COMPLEX1,RELSET_1,FUNCT_2,FINSEQ_1,ZFMISC_1,PCOMPS_1,PRE_TOPC,FINSET_1,CARD_1,XCMPLX_0,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,FINSOP_1,VALUED_1,STRUCT_0,TOPS_2,COMPTS_1,METRIC_1,NEWTON,CARD_3,PROB_1,FUNCOP_1,CANTOR_1,DOMAIN_1,TOPMETR,PSCOMP_1,BORSUK_1,TMAP_1,CKB3,CKB20,CKB21,CKB22,CKB23,CKB26,CKB27,CKB28,CKB33,CKB34,CKB44;
definitions PCOMPS_1,TARSKI,BINOP_1,SUBSET_1,COMPTS_1,PRE_TOPC,STRUCT_0,CKB3,CKB23,CKB26,CKB27,CKB33,CKB34,CKB44;
theorems FUNCT_1,FUNCT_2,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,TMAP_1,CARD_1,PCOMPS_1,PCOMPS_2,BORSUK_1,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,SUBSET_1,TOPS_1,TOPS_2,PRE_TOPC,REALSET1,COMPTS_1,CARD_3,URYSOHN1,NAT_1,YELLOW_9,FINSEQ_1,CARD_2,FINSOP_1,SETWISEO,NEWTON,TOPREAL6,ZFMISC_1,BINOP_1,SEQ_2,PROB_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,PREPOWER,ORDINAL1,VALUED_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB23,CKB24,CKB26,CKB27,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44;
schemes FUNCT_1,FRAENKEL,FUNCT_2,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,CARD_LAR,STRUCT_0,TOPS_1,COMPTS_1,METRIC_1,BORSUK_1,TOPMETR,PSCOMP_1,VALUED_0,VALUED_1,FUNCT_2,CARD_3,FUNCT_1,PRE_TOPC,ZFMISC_1,CKB4,CKB5,CKB15,CKB25,CKB29,CKB30;
constructors SETFAM_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,PROB_1,FUNCOP_1,FINSOP_1,NEWTON,REALSET1,CARD_5,TOPS_2,COMPTS_1,TMAP_1,CANTOR_1,PCOMPS_1,PSCOMP_1,URYSOHN3,CKB3,CKB21,CKB22,CKB23,CKB26,CKB27,CKB33,CKB34,CKB44;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve T for non empty TopSpace;
reserve x for set;
reserve y for set;
theorem
(for f being (RealMap of T) holds (f is  continuous implies (for F being (RealMap of [: T,T :]) holds ((for x,y being (Element of T) holds ( F . (x,y) ) = ( abs ( ( f . x ) - ( f . y ) ) )) implies F is  continuous))))
proof
let f being (RealMap of T);
assume that
A1: f is  continuous;
set TT = [: T,T :];
set cT = (the carrier of T);
reconsider f9 = f as (Function of T,( R^1 )) by TOPMETR:17;
let F being (RealMap of [: T,T :]);
assume that
A2: (for x,y being (Element of T) holds ( F . (x,y) ) = ( abs ( ( f . x ) - ( f . y ) ) ));
reconsider F9 = F as (Function of [: T,T :],( R^1 )) by TOPMETR:17;
A3: f9 is  continuous by A1,TOPREAL6:74;
now
let tt being (Point of TT);
tt in (the carrier of TT);
then tt in [: cT,cT :] by BORSUK_1:def 2;
then consider t1 being set,t2 being set such that A4: (t1 in cT & t2 in cT) and A5: [ t1,t2 ] = tt by ZFMISC_1:def 2;
reconsider t1,t2 as (Point of T) by A4;
(for R being (Subset of ( R^1 )) holds ((R is  open & ( F9 . tt ) in R) implies (ex H being (Subset of TT) st ((H is  open & tt in H) & ( F9 .: H ) c= R))))
proof
reconsider ft1 = ( f . t1 ),ft2 = ( f . t2 ) as (Point of ( RealSpace )) by METRIC_1:def 13;
reconsider Ftt = ( F . tt ) as (Point of ( RealSpace )) by METRIC_1:def 13;
let R being (Subset of ( R^1 ));
assume (R is  open & ( F9 . tt ) in R);
then consider r being  real number such that A6: r > ( 0 ) and A7: ( Ball (Ftt,r) ) c= R by TOPMETR:15,TOPMETR:def 6;
reconsider r9 = r as Real by XREAL_0:def 1;
reconsider A = ( Ball (ft1,( r9 / 2 )) ),B = ( Ball (ft2,( r9 / 2 )) ) as (Subset of ( R^1 )) by METRIC_1:def 13,TOPMETR:17;
A8: (A is  open & f9 is_continuous_at t1) by A3,TMAP_1:50,TOPMETR:14,TOPMETR:def 6;
( f . t1 ) in A by A6,CKB43:1,XREAL_1:139;
then consider T1 being (Subset of T) such that A9: T1 is  open and A10: t1 in T1 and A11: ( f9 .: T1 ) c= A by A8,TMAP_1:43;
A12: (B is  open & f9 is_continuous_at t2) by A3,TMAP_1:50,TOPMETR:14,TOPMETR:def 6;
( f . t2 ) in B by A6,CKB43:1,XREAL_1:139;
then consider T2 being (Subset of T) such that A13: T2 is  open and A14: t2 in T2 and A15: ( f9 .: T2 ) c= B by A12,TMAP_1:43;
( F . tt ) = ( F . (t1,t2) ) by A5;
then A16: ( abs ( ( f9 . t1 ) - ( f9 . t2 ) ) ) = ( F . tt ) by A2;
A17: ( F .: [: T1,T2 :] ) c= R
proof
let Fxy being set;
assume Fxy in ( F .: [: T1,T2 :] );
then consider xy being set such that xy in ( dom F ) and A18: xy in [: T1,T2 :] and A19: Fxy = ( F . xy ) by FUNCT_1:def 6;
consider x,y such that A20: x in T1 and A21: y in T2 and A22: xy = [ x,y ] by A18,ZFMISC_1:def 2;
reconsider x,y as (Point of T) by A20,A21;
reconsider fx = ( f . x ),fy = ( f . y ) as (Point of ( RealSpace )) by METRIC_1:def 13;
y in cT;
then y in ( dom f ) by FUNCT_2:def 1;
then ( f . y ) in ( f .: T2 ) by A21,FUNCT_1:def 6;
then A23: ( dist (fy,ft2) ) < ( r9 / 2 ) by A15,METRIC_1:11;
reconsider Fxy1 = ( F . [ x,y ] ) as (Point of ( RealSpace )) by METRIC_1:def 13;
A24: ( abs ( ( f . x ) - ( f . y ) ) ) = ( F . (x,y) ) by A2;
then ( F . [ x,y ] ) <= ( ( ( abs ( ( f . x ) - ( f . t1 ) ) ) + ( F . tt ) ) + ( abs ( ( f . t2 ) - ( f . y ) ) ) ) by A16,CKB2:1;
then ( F . [ x,y ] ) <= ( ( ( abs ( ( f . x ) - ( f . t1 ) ) ) + ( F . tt ) ) + ( dist (ft2,fy) ) ) by TOPMETR:11;
then A25: ( ( F . [ x,y ] ) + ( 0 ) ) <= ( ( ( F . tt ) + ( dist (fx,ft1) ) ) + ( dist (ft2,fy) ) ) by TOPMETR:11;
( F . tt ) <= ( ( ( abs ( ( f . t1 ) - ( f . x ) ) ) + ( F . [ x,y ] ) ) + ( abs ( ( f . y ) - ( f . t2 ) ) ) ) by A16,A24,CKB2:1;
then ( F . tt ) <= ( ( ( dist (fx,ft1) ) + ( F . [ x,y ] ) ) + ( abs ( ( f . y ) - ( f . t2 ) ) ) ) by TOPMETR:11;
then A26: ( F . tt ) <= ( ( ( F . [ x,y ] ) + ( dist (fx,ft1) ) ) + ( dist (fy,ft2) ) ) by TOPMETR:11;
x in cT;
then x in ( dom f ) by FUNCT_2:def 1;
then ( f . x ) in ( f .: T1 ) by A20,FUNCT_1:def 6;
then ( dist (fx,ft1) ) < ( r9 / 2 ) by A11,METRIC_1:11;
then A27: ( ( dist (fx,ft1) ) + ( dist (fy,ft2) ) ) < ( ( r9 / 2 ) + ( r9 / 2 ) ) by A23,XREAL_1:8;
then ( ( F . [ x,y ] ) + ( ( dist (fx,ft1) ) + ( dist (fy,ft2) ) ) ) < ( ( F . [ x,y ] ) + r9 ) by XREAL_1:8;
then ( F . tt ) < ( - ( ( - ( F . [ x,y ] ) ) - r9 ) ) by A26,XXREAL_0:2;
then ( ( - ( F . tt ) ) - ( 0 ) ) > ( ( - r9 ) - ( F . [ x,y ] ) ) by XREAL_1:26;
then A28: ( ( - ( F . tt ) ) + ( F . [ x,y ] ) ) > ( ( - r9 ) + ( 0 ) ) by XREAL_1:21;
( ( F . tt ) + ( ( dist (fx,ft1) ) + ( dist (ft2,fy) ) ) ) < ( ( F . tt ) + r9 ) by A27,XREAL_1:8;
then ( ( F . [ x,y ] ) + ( 0 ) ) < ( ( F . tt ) + r9 ) by A25,XXREAL_0:2;
then ( ( F . [ x,y ] ) - ( F . tt ) ) < ( r9 - ( 0 ) ) by XREAL_1:21;
then ( abs ( ( F . [ x,y ] ) - ( F . tt ) ) ) < r9 by A28,SEQ_2:1;
then ( dist (Ftt,Fxy1) ) < r9 by TOPMETR:11;
then Fxy1 in ( Ball (Ftt,r) ) by METRIC_1:11;
hence thesis by A7,A19,A22;
end;
tt in [: T1,T2 :] by A5,A10,A14,ZFMISC_1:def 2;
hence thesis by A9,A13,A17,BORSUK_1:6;
end;
hence F9 is_continuous_at tt by TMAP_1:43;
end;
then F9 is  continuous by TMAP_1:50;
hence thesis by TOPREAL6:74;
end;
