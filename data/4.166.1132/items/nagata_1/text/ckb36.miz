environ
vocabularies NUMBERS,XBOOLE_0,PRE_TOPC,METRIC_1,REAL_1,XXREAL_0,CARD_1,ARYTM_3,COMPLEX1,ARYTM_1,SETFAM_1,NATTRA_1,RCOMP_1,SUBSET_1,STRUCT_0,TARSKI,ZFMISC_1,PCOMPS_1,FINSET_1,FUNCT_1,CARD_3,FUNCOP_1,COMPTS_1,RELAT_1,ORDINAL1,RLVECT_3,XREAL_0,CARD_5,NEWTON,FINSEQ_1,PSCOMP_1,ORDINAL2,TOPMETR,TMAP_1,BINOP_1,FUNCT_2,SETWISEO,COH_SP,FINSOP_1,NAT_1,RELAT_2,NAGATA_1;
notations BINOP_1,SETWISEO,TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,COMPLEX1,RELSET_1,FUNCT_2,FINSEQ_1,ZFMISC_1,PCOMPS_1,PRE_TOPC,FINSET_1,CARD_1,XCMPLX_0,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,FINSOP_1,VALUED_1,STRUCT_0,TOPS_2,COMPTS_1,METRIC_1,NEWTON,CARD_3,PROB_1,FUNCOP_1,CANTOR_1,DOMAIN_1,TOPMETR,PSCOMP_1,BORSUK_1,TMAP_1,CKB3,CKB20,CKB21,CKB22,CKB23,CKB26,CKB27,CKB28,CKB33,CKB34;
definitions PCOMPS_1,TARSKI,BINOP_1,SUBSET_1,COMPTS_1,PRE_TOPC,STRUCT_0,CKB3,CKB23,CKB26,CKB27,CKB33,CKB34;
theorems FUNCT_1,FUNCT_2,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,TMAP_1,CARD_1,PCOMPS_1,PCOMPS_2,BORSUK_1,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,SUBSET_1,TOPS_1,TOPS_2,PRE_TOPC,REALSET1,COMPTS_1,CARD_3,URYSOHN1,NAT_1,YELLOW_9,FINSEQ_1,CARD_2,FINSOP_1,SETWISEO,NEWTON,TOPREAL6,ZFMISC_1,BINOP_1,SEQ_2,PROB_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,PREPOWER,ORDINAL1,VALUED_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB23,CKB24,CKB26,CKB27,CKB31,CKB32,CKB33,CKB34,CKB35;
schemes FUNCT_1,FRAENKEL,FUNCT_2,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,CARD_LAR,STRUCT_0,TOPS_1,COMPTS_1,METRIC_1,BORSUK_1,TOPMETR,PSCOMP_1,VALUED_0,VALUED_1,FUNCT_2,CARD_3,FUNCT_1,PRE_TOPC,ZFMISC_1,CKB4,CKB5,CKB15,CKB25,CKB29,CKB30;
constructors SETFAM_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,PROB_1,FUNCOP_1,FINSOP_1,NEWTON,REALSET1,CARD_5,TOPS_2,COMPTS_1,TMAP_1,CANTOR_1,PCOMPS_1,PSCOMP_1,URYSOHN3,CKB3,CKB21,CKB22,CKB23,CKB26,CKB27,CKB33,CKB34;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve T for non empty TopSpace;
reserve x for set;
reserve r1 for Real;
reserve r2 for Real;
theorem
(for T holds (T is  metrizable implies (T is  regular & T is  T_1)))
proof
let T;
assume T is  metrizable;
then consider metr being (Function of [: (the carrier of T),(the carrier of T) :],( REAL )) such that A1: metr is_metric_of (the carrier of T) and A2: ( Family_open_set ( SpaceMetr ((the carrier of T),metr) ) ) = (the topology of T) by PCOMPS_1:def 8;
set PM = ( SpaceMetr ((the carrier of T),metr) );
reconsider PM as non empty MetrSpace by A1,PCOMPS_1:36;
set TPM = ( TopSpaceMetr PM );
A3: (for p being (Element of T) holds (for D being (Subset of T) holds (((D <> ( {} ) & D is  closed) & p in ( D ` )) implies (ex A,B being (Subset of T) st ((((A is  open & B is  open) & p in A) & D c= B) & A misses B)))))
proof
let p being (Element of T);
let D being (Subset of T);
assume that
D <> ( {} )
and
A4: D is  closed
and
A5: p in ( D ` );
A6: ( ( [#] T ) \ D ) in (the topology of T) by A4,A5,PRE_TOPC:def 2;
reconsider p as (Element of PM) by A1,PCOMPS_2:4;
A7: D misses ( D ` ) by XBOOLE_1:79;
reconsider D as (Subset of TPM) by A1,PCOMPS_2:4;
( ( [#] TPM ) \ D ) in ( Family_open_set PM ) by A1,A2,A6,PCOMPS_2:4;
then ( ( [#] TPM ) \ D ) is  open by PRE_TOPC:def 2;
then A8: D is  closed by PRE_TOPC:def 3;
A9: (not p in D) by A5,A7,XBOOLE_0:3;
(ex r1 st (r1 > ( 0 ) & ( Ball (p,r1) ) misses D))
proof
assume A10: (for r1 holds (r1 > ( 0 ) implies ( Ball (p,r1) ) meets D));
now
let A being (Subset of TPM);
assume that
A11: A is  open
and
A12: p in A;
A in ( Family_open_set PM ) by A11,PRE_TOPC:def 2;
then consider r2 such that A13: r2 > ( 0 ) and A14: ( Ball (p,r2) ) c= A by A12,PCOMPS_1:def 4;
( Ball (p,r2) ) meets D by A10,A13;
then (ex x st (x in ( Ball (p,r2) ) & x in D)) by XBOOLE_0:3;
hence A meets D by A14,XBOOLE_0:3;
end;
then p in ( Cl D ) by PRE_TOPC:def 7;
hence thesis by A8,A9,PRE_TOPC:22;
end;
then consider r1 such that A15: r1 > ( 0 ) and A16: ( Ball (p,r1) ) misses D;
set r2 = ( r1 / 2 );
A17: r2 < ( r2 + r2 ) by A15,XREAL_1:29;
A18: D c= ( ( [#] PM ) \ ( cl_Ball (p,r2) ) )
proof
assume (not D c= ( ( [#] PM ) \ ( cl_Ball (p,r2) ) ));
then consider x such that A19: x in D and A20: (not x in ( ( [#] PM ) \ ( cl_Ball (p,r2) ) )) by TARSKI:def 3;
reconsider x as (Element of PM) by A19;
x in ( cl_Ball (p,r2) ) by A20,XBOOLE_0:def 5;
then ( dist (p,x) ) <= r2 by METRIC_1:12;
then ( dist (p,x) ) < r1 by A17,XXREAL_0:2;
then x in ( Ball (p,r1) ) by METRIC_1:11;
hence thesis by A16,A19,XBOOLE_0:3;
end;
set r4 = ( r2 / 2 );
A21: r2 > ( 0 ) by A15,XREAL_1:139;
then A22: r4 < ( r4 + r4 ) by XREAL_1:29;
A23: ( Ball (p,r4) ) misses ( ( [#] PM ) \ ( cl_Ball (p,r2) ) )
proof
assume ( Ball (p,r4) ) meets ( ( [#] PM ) \ ( cl_Ball (p,r2) ) );
then consider x such that A24: x in ( Ball (p,r4) ) and A25: x in ( ( [#] PM ) \ ( cl_Ball (p,r2) ) ) by XBOOLE_0:3;
reconsider x as (Element of PM) by A24;
(not x in ( cl_Ball (p,r2) )) by A25,XBOOLE_0:def 5;
then A26: ( dist (p,x) ) > r2 by METRIC_1:12;
( dist (p,x) ) < r4 by A24,METRIC_1:11;
hence thesis by A22,A26,XXREAL_0:2;
end;
set A = ( Ball (p,r4) );
set B = ( ( [#] PM ) \ ( cl_Ball (p,r2) ) );
A27: (B in ( Family_open_set PM ) & A in ( Family_open_set PM )) by CKB35:1,PCOMPS_1:29;
then reconsider A,B as (Subset of T) by A2;
take A;
take B;
r4 > ( 0 ) by A21,XREAL_1:139;
then ( dist (p,p) ) < r4 by METRIC_1:1;
hence thesis by A2,A18,A23,A27,METRIC_1:11,PRE_TOPC:def 2;
end;
(for p,q being (Point of T) holds ((not p = q) implies (ex A,B being (Subset of T) st (((((A is  open & B is  open) & p in A) & (not q in A)) & q in B) & (not p in B)))))
proof
let p being (Point of T),q being (Point of T);
assume A28: (not p = q);
reconsider p,q as (Element of TPM) by A1,PCOMPS_2:4;
TPM is  T_2 by PCOMPS_1:34;
then consider A being (Subset of TPM),B being (Subset of TPM) such that A29: A is  open and A30: B is  open and A31: (p in A & q in B) and A32: A misses B by A28,PRE_TOPC:def 10;
reconsider A,B as (Subset of T) by A1,PCOMPS_2:4;
A in (the topology of T) by A2,A29,PRE_TOPC:def 2;
then A33: A is  open by PRE_TOPC:def 2;
B in (the topology of T) by A2,A30,PRE_TOPC:def 2;
then A34: B is  open by PRE_TOPC:def 2;
((not q in A) & (not p in B)) by A31,A32,XBOOLE_0:3;
hence thesis by A31,A33,A34;
end;
hence thesis by A3,COMPTS_1:def 2,URYSOHN1:def 7;
end;
