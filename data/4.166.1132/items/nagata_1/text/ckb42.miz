environ
vocabularies NUMBERS,XBOOLE_0,PRE_TOPC,METRIC_1,REAL_1,XXREAL_0,CARD_1,ARYTM_3,COMPLEX1,ARYTM_1,SETFAM_1,NATTRA_1,RCOMP_1,SUBSET_1,STRUCT_0,TARSKI,ZFMISC_1,PCOMPS_1,FINSET_1,FUNCT_1,CARD_3,FUNCOP_1,COMPTS_1,RELAT_1,ORDINAL1,RLVECT_3,XREAL_0,CARD_5,NEWTON,FINSEQ_1,PSCOMP_1,ORDINAL2,TOPMETR,TMAP_1,BINOP_1,FUNCT_2,SETWISEO,COH_SP,FINSOP_1,NAT_1,RELAT_2,NAGATA_1;
notations BINOP_1,SETWISEO,TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,COMPLEX1,RELSET_1,FUNCT_2,FINSEQ_1,ZFMISC_1,PCOMPS_1,PRE_TOPC,FINSET_1,CARD_1,XCMPLX_0,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,FINSOP_1,VALUED_1,STRUCT_0,TOPS_2,COMPTS_1,METRIC_1,NEWTON,CARD_3,PROB_1,FUNCOP_1,CANTOR_1,DOMAIN_1,TOPMETR,PSCOMP_1,BORSUK_1,TMAP_1,CKB3,CKB20,CKB21,CKB22,CKB23,CKB26,CKB27,CKB28,CKB33,CKB34;
definitions PCOMPS_1,TARSKI,BINOP_1,SUBSET_1,COMPTS_1,PRE_TOPC,STRUCT_0,CKB3,CKB23,CKB26,CKB27,CKB33,CKB34;
theorems FUNCT_1,FUNCT_2,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,TMAP_1,CARD_1,PCOMPS_1,PCOMPS_2,BORSUK_1,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,SUBSET_1,TOPS_1,TOPS_2,PRE_TOPC,REALSET1,COMPTS_1,CARD_3,URYSOHN1,NAT_1,YELLOW_9,FINSEQ_1,CARD_2,FINSOP_1,SETWISEO,NEWTON,TOPREAL6,ZFMISC_1,BINOP_1,SEQ_2,PROB_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,PREPOWER,ORDINAL1,VALUED_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB23,CKB24,CKB26,CKB27,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41;
schemes FUNCT_1,FRAENKEL,FUNCT_2,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,CARD_LAR,STRUCT_0,TOPS_1,COMPTS_1,METRIC_1,BORSUK_1,TOPMETR,PSCOMP_1,VALUED_0,VALUED_1,FUNCT_2,CARD_3,FUNCT_1,PRE_TOPC,ZFMISC_1,CKB4,CKB5,CKB15,CKB25,CKB29,CKB30;
constructors SETFAM_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,PROB_1,FUNCOP_1,FINSOP_1,NEWTON,REALSET1,CARD_5,TOPS_2,COMPTS_1,TMAP_1,CANTOR_1,PCOMPS_1,PSCOMP_1,URYSOHN3,CKB3,CKB21,CKB22,CKB23,CKB26,CKB27,CKB33,CKB34;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve T for non  empty TopSpace;
reserve A for (Subset of T);
reserve O for  open (Subset of T);
reserve U for  open (Subset of T);
reserve n for (Element of ( NAT ));
theorem
(for T holds ((T is  regular & (ex Bn being (FamilySequence of T) st Bn is  Basis_sigma_locally_finite)) implies T is  normal))
proof
let T;
assume that
A1: T is  regular
and
A2: (ex Bn being (FamilySequence of T) st Bn is  Basis_sigma_locally_finite);
consider Bn being (FamilySequence of T) such that A3: Bn is  Basis_sigma_locally_finite by A2;
A4: ( Union Bn ) is (Basis of T) by A3,CKB34:def 1;
A5: Bn is  sigma_locally_finite by A3,CKB34:def 1;
(for A holds (for U holds (((A is  closed & U is  open) & A c= U) implies (ex W being (Function of ( NAT ),( bool (the carrier of T) )) st ((A c= ( Union W ) & ( Union W ) c= U) & (for n holds (( Cl ( W . n ) ) c= U & ( W . n ) is  open)))))))
proof
let A;
let U;
assume that
A is  closed
and
U is  open
and
A6: A c= U;
deffunc B(set) = ( union { O where O is (Subset of T): (O in ( Bn . $1 ) & ( Cl O ) c= U) } );
A7: (for k being set holds (k in ( NAT ) implies B(k) in ( bool (the carrier of T) )))
proof
let k being set;
assume k in ( NAT );
then reconsider k as (Element of ( NAT ));
now
let bu being set;
assume bu in B(k);
then consider b being set such that A8: bu in b and A9: b in { O where O is (Subset of T): (O in ( Bn . k ) & ( Cl O ) c= U) } by TARSKI:def 4;
(ex O being (Subset of T) st ((b = O & O in ( Bn . k )) & ( Cl O ) c= U)) by A9;
hence bu in (the carrier of T) by A8;
end;
then B(k) c= (the carrier of T) by TARSKI:def 3;
hence thesis;
end;
consider BU being (Function of ( NAT ),( bool (the carrier of T) )) such that A10: (for k being set holds (k in ( NAT ) implies ( BU . k ) = B(k))) from FUNCT_2:sch 2(A7);
A11:now
let n;
set BUn = { O where O is (Subset of T): (O in ( Bn . n ) & ( Cl O ) c= U) };
BUn c= ( bool (the carrier of T) )
proof
let b being set;
assume b in BUn;
then (ex O being (Subset of T) st ((b = O & O in ( Bn . n )) & ( Cl O ) c= U));
hence thesis;
end;
then reconsider BUn as (Subset-Family of T);
A12: BUn c= ( Bn . n )
proof
let b being set;
assume b in BUn;
then (ex O being (Subset of T) st ((b = O & O in ( Bn . n )) & ( Cl O ) c= U));
hence thesis;
end;
( Bn . n ) is  locally_finite by A5,CKB26:def 1;
then A13: ( Cl ( union BUn ) ) = ( union ( clf BUn ) ) by A12,PCOMPS_1:9,PCOMPS_1:20;
A14: ( Cl ( union BUn ) ) c= U
proof
let ClBu being set;
assume ClBu in ( Cl ( union BUn ) );
then consider ClB being set such that A15: ClBu in ClB and A16: ClB in ( clf BUn ) by A13,TARSKI:def 4;
reconsider ClB as (Subset of T) by A16;
consider B being (Subset of T) such that A17: ( Cl B ) = ClB and A18: B in BUn by A16,PCOMPS_1:def 2;
(ex Q being (Subset of T) st ((B = Q & Q in ( Bn . n )) & ( Cl Q ) c= U)) by A18;
hence thesis by A15,A17;
end;
BUn c= (the topology of T)
proof
let B being set;
assume B in BUn;
then consider Q being (Subset of T) such that A19: B = Q and A20: Q in ( Bn . n ) and ( Cl Q ) c= U;
A21: ( Union Bn ) c= (the topology of T) by A4,TOPS_2:64;
Q in ( Union Bn ) by A20,PROB_1:12;
hence thesis by A19,A21;
end;
then ( union BUn ) in (the topology of T) by PRE_TOPC:def 1;
then ( union BUn ) is  open by PRE_TOPC:def 2;
hence (( BU . n ) is  open & ( Cl ( BU . n ) ) c= U) by A10,A14;
end;
A22: ( Union BU ) c= U
proof
let bu being set;
assume bu in ( Union BU );
then consider k being (Element of ( NAT )) such that A23: bu in ( BU . k ) by PROB_1:12;
bu in ( union { O where O is (Subset of T): (O in ( Bn . k ) & ( Cl O ) c= U) } ) by A10,A23;
then consider b being set such that A24: bu in b and A25: b in { O where O is (Subset of T): (O in ( Bn . k ) & ( Cl O ) c= U) } by TARSKI:def 4;
consider O being (Subset of T) such that A26: b = O and O in ( Bn . k ) and A27: ( Cl O ) c= U by A25;
O c= ( Cl O ) by PRE_TOPC:18;
then b c= U by A26,A27,XBOOLE_1:1;
hence thesis by A24;
end;
(for a being set holds (a in A implies a in ( Union BU )))
proof
let a being set;
assume a in A;
then consider Q being (Subset of T) such that A28: a in Q and A29: ( Cl Q ) c= U and A30: Q in ( Union Bn ) by A1,A4,A6,CKB41:1;
consider k being (Element of ( NAT )) such that A31: Q in ( Bn . k ) by A30,PROB_1:12;
Q in { O where O is (Subset of T): (O in ( Bn . k ) & ( Cl O ) c= U) } by A29,A31;
then a in B(k) by A28,TARSKI:def 4;
then a in ( BU . k ) by A10;
hence thesis by PROB_1:12;
end;
then A c= ( Union BU ) by TARSKI:def 3;
hence thesis by A22,A11;
end;
hence thesis by CKB40:1;
end;
