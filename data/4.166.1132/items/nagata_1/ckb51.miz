environ
vocabularies NUMBERS,XBOOLE_0,PRE_TOPC,METRIC_1,REAL_1,XXREAL_0,CARD_1,ARYTM_3,COMPLEX1,ARYTM_1,SETFAM_1,NATTRA_1,RCOMP_1,SUBSET_1,STRUCT_0,TARSKI,ZFMISC_1,PCOMPS_1,FINSET_1,FUNCT_1,CARD_3,FUNCOP_1,COMPTS_1,RELAT_1,ORDINAL1,RLVECT_3,XREAL_0,CARD_5,NEWTON,FINSEQ_1,PSCOMP_1,ORDINAL2,TOPMETR,TMAP_1,BINOP_1,FUNCT_2,SETWISEO,COH_SP,FINSOP_1,NAT_1,RELAT_2,NAGATA_1;
notations BINOP_1,SETWISEO,TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,COMPLEX1,RELSET_1,FUNCT_2,FINSEQ_1,ZFMISC_1,PCOMPS_1,PRE_TOPC,FINSET_1,CARD_1,XCMPLX_0,NUMBERS,XXREAL_0,XREAL_0,REAL_1,NAT_1,FINSOP_1,VALUED_1,STRUCT_0,TOPS_2,COMPTS_1,METRIC_1,NEWTON,CARD_3,PROB_1,FUNCOP_1,CANTOR_1,DOMAIN_1,TOPMETR,PSCOMP_1,BORSUK_1,TMAP_1,CKB3,CKB20,CKB21,CKB22,CKB23,CKB26,CKB27,CKB28,CKB33,CKB34,CKB44,CKB49;
definitions PCOMPS_1,TARSKI,BINOP_1,SUBSET_1,COMPTS_1,PRE_TOPC,STRUCT_0,CKB3,CKB23,CKB26,CKB27,CKB33,CKB34,CKB44,CKB49;
theorems FUNCT_1,FUNCT_2,METRIC_1,XREAL_0,XCMPLX_1,ABSVALUE,TOPMETR,TMAP_1,CARD_1,PCOMPS_1,PCOMPS_2,BORSUK_1,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,SUBSET_1,TOPS_1,TOPS_2,PRE_TOPC,REALSET1,COMPTS_1,CARD_3,URYSOHN1,NAT_1,YELLOW_9,FINSEQ_1,CARD_2,FINSOP_1,SETWISEO,NEWTON,TOPREAL6,ZFMISC_1,BINOP_1,SEQ_2,PROB_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,PREPOWER,ORDINAL1,VALUED_1,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB19,CKB23,CKB24,CKB26,CKB27,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50;
schemes FUNCT_1,FRAENKEL,FUNCT_2,NAT_1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,CARD_LAR,STRUCT_0,TOPS_1,COMPTS_1,METRIC_1,BORSUK_1,TOPMETR,PSCOMP_1,VALUED_0,VALUED_1,FUNCT_2,CARD_3,FUNCT_1,PRE_TOPC,ZFMISC_1,CKB4,CKB5,CKB15,CKB25,CKB29,CKB30;
constructors SETFAM_1,SETWISEO,REAL_1,SQUARE_1,NAT_1,PROB_1,FUNCOP_1,FINSOP_1,NEWTON,REALSET1,CARD_5,TOPS_2,COMPTS_1,TMAP_1,CANTOR_1,PCOMPS_1,PSCOMP_1,URYSOHN3,CKB3,CKB21,CKB22,CKB23,CKB26,CKB27,CKB33,CKB34,CKB44,CKB49;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve T for non empty TopSpace;
reserve T1 for non empty TopSpace;
reserve p for (Point of T);
reserve q for (Point of T);
theorem
(for F being (Function of (the carrier of T),( Funcs ((the carrier of T),(the carrier of T1)) )) holds ((for p being (Point of T) holds ( F . p ) is  continuous  continuous (Function of T,T1)) implies (for S being (Function of (the carrier of T),( bool (the carrier of T) )) holds ((for p being (Point of T) holds ((p in ( S . p ) & ( S . p ) is  open) & (for p,q being (Point of T) holds (p in ( S . q ) implies ( ( F . p ) . p ) = ( ( F . q ) . p ))))) implies ( F Toler ) is  continuous))))
proof
let F being (Function of (the carrier of T),( Funcs ((the carrier of T),(the carrier of T1)) ));
assume that
A1: (for p holds ( F . p ) is  continuous  continuous (Function of T,T1));
let S being (Function of (the carrier of T),( bool (the carrier of T) ));
assume that
A2: (for p holds ((p in ( S . p ) & ( S . p ) is  open) & (for p holds (for q holds (p in ( S . q ) implies ( ( F . p ) . p ) = ( ( F . q ) . p ))))));
now
let t being (Point of T);
(for R being (Subset of T1) holds ((R is  open & ( ( F Toler ) . t ) in R) implies (ex H being (Subset of T) st ((H is  open & t in H) & ( ( F Toler ) .: H ) c= R))))
proof
reconsider Ft = ( F . t ) as (Function of T,T1) by A1;
let R being (Subset of T1);
assume that
A3: R is  open
and
A4: ( ( F Toler ) . t ) in R;
Ft is  continuous by A1;
then A5: Ft is_continuous_at t by TMAP_1:50;
( Ft . t ) in R by A4,CKB49:def 1;
then consider A being (Subset of T) such that A6: (A is  open & t in A) and A7: ( Ft .: A ) c= R by A3,A5,TMAP_1:43;
set H = ( A /\ ( S . t ) );
A8: ( ( F Toler ) .: H ) c= R
proof
let FSh being set;
assume FSh in ( ( F Toler ) .: H );
then consider h being set such that A9: h in ( dom ( F Toler ) ) and A10: h in H and A11: FSh = ( ( F Toler ) . h ) by FUNCT_1:def 6;
reconsider h9 = h as (Point of T) by A9;
(h9 in ( S . t ) & FSh = ( ( F . h9 ) . h9 )) by A10,A11,CKB49:def 1,XBOOLE_0:def 4;
then A12: FSh = ( Ft . h9 ) by A2;
A13: (the carrier of T) = ( dom Ft ) by FUNCT_2:def 1;
h9 in A by A10,XBOOLE_0:def 4;
then FSh in ( Ft .: A ) by A12,A13,FUNCT_1:def 6;
hence thesis by A7;
end;
take H;
(( S . t ) is  open & t in ( S . t )) by A2;
hence thesis by A6,A8,XBOOLE_0:def 4;
end;
hence ( F Toler ) is_continuous_at t by TMAP_1:43;
end;
hence thesis by TMAP_1:50;
end;
