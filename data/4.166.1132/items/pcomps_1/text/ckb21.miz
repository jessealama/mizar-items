environ
vocabularies NUMBERS,METRIC_1,SUBSET_1,REAL_1,XREAL_0,ORDINAL1,XXREAL_0,TARSKI,ARYTM_3,XBOOLE_0,PRE_TOPC,SETFAM_1,ZFMISC_1,COMPTS_1,STRUCT_0,RCOMP_1,FINSET_1,FINSEQ_1,RELAT_1,NAT_1,CARD_1,FUNCT_1,CARD_5,ARYTM_1,PCOMPS_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,TOPS_2,SETFAM_1,DOMAIN_1,STRUCT_0,FINSET_1,COMPTS_1,PRE_TOPC,SQUARE_1,RELAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,NAT_1,METRIC_1,CKB8,CKB12;
definitions STRUCT_0,COMPTS_1,SUBSET_1,RELAT_1,CKB8,CKB12;
theorems COMPTS_1,PRE_TOPC,TOPS_1,TOPS_2,NAT_1,FINSET_1,SUBSET_1,SETFAM_1,TARSKI,FINSEQ_1,ZFMISC_1,FUNCT_1,FUNCT_2,METRIC_1,RELAT_1,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,XXREAL_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes SUBSET_1,FUNCT_2,NAT_1,CKB20;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,TOPS_1,COMPTS_1,METRIC_1,FINSEQ_1,PRE_TOPC;
constructors SETFAM_1,DOMAIN_1,REAL_1,SQUARE_1,NAT_1,MEMBERED,FINSEQ_1,TOPS_2,COMPTS_1,METRIC_1,RELSET_1,CKB8,CKB12;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve T for non  empty TopSpace;
reserve Z for (Subset of T);
reserve X for (Subset of T);
reserve V for (Subset of T);
reserve W for (Subset of T);
reserve Y for (Subset of T);
reserve Q for (Subset of T);
reserve x for (Point of T);
reserve FX for (Subset-Family of T);
theorem
(FX is  locally_finite implies ( clf FX ) is  locally_finite)
proof
set GX = ( clf FX );
assume A1: FX is  locally_finite;
(for x holds (ex W being (Subset of T) st ((x in W & W is  open) & { V: (V in GX & V meets W) } is  finite)))
proof
let x;
thus thesis
proof
deffunc G((Subset of T)) = ( Cl $1 );
consider W being (Subset of T) such that A2: x in W and A3: W is  open and A4: { V: (V in FX & V meets W) } is  finite by A1,CKB8:def 1;
take W;
thus x in W by A2;
thus W is  open by A3;
set CGX = { V: (V in GX & V meets W) };
set CFX = { V: (V in FX & V meets W) };
A5: (for Y holds (Y in FX implies G(Y) in GX)) by CKB12:def 1;
consider f being (Function of FX,GX) such that A6: (for X holds (X in FX implies ( f . X ) = G(X))) from CKB20:sch 1(A5);
A7: (GX = ( {} ) implies FX = ( {} )) by CKB19:1,SETFAM_1:16;
then A8: ( dom f ) = FX by FUNCT_2:def 1;
(for Z being set holds (Z in ( f .: CFX ) iff Z in CGX))
proof
let Z being set;
A9: (Z in CGX implies Z in ( f .: CFX ))
proof
assume A10: Z in CGX;
(ex Y being set st ((Y in ( dom f ) & Y in CFX) & Z = ( f . Y )))
proof
consider V such that A11: Z = V and A12: V in GX and A13: V meets W by A10;
consider X such that A14: V = ( Cl X ) and A15: X in FX by A12,CKB12:def 1;
take X;
A16: ( V /\ W ) <> ( {} ) by A13,XBOOLE_0:def 7;
(ex Q st ((X = Q & Q in FX) & Q meets W))
proof
take Q = X;
thus X = Q;
thus Q in FX by A15;
( Cl ( W /\ ( Cl Q ) ) ) <> ( {} ) by A16,A14,CKB2:1;
then ( Cl ( W /\ Q ) ) <> ( {} ) by A3,TOPS_1:14;
then ( Q /\ W ) <> ( {} ) by CKB2:1;
hence thesis by XBOOLE_0:def 7;
end;
hence thesis by A6,A7,A11,A14,FUNCT_2:def 1;
end;
hence thesis by FUNCT_1:def 6;
end;
(Z in ( f .: CFX ) implies Z in CGX)
proof
assume Z in ( f .: CFX );
then consider Y being set such that A17: Y in ( dom f ) and A18: Y in CFX and A19: Z = ( f . Y ) by FUNCT_1:def 6;
reconsider Y as (Subset of T) by A8,A17;
A20: ( f . Y ) = ( Cl Y ) by A6,A8,A17;
then reconsider Z as (Subset of T) by A19;
(ex V st ((Y = V & V in FX) & V meets W)) by A18;
then A21: Z meets W by A19,A20,PRE_TOPC:18,XBOOLE_1:63;
Z in GX by A8,A17,A19,A20,CKB12:def 1;
hence thesis by A21;
end;
hence thesis by A9;
end;
hence thesis by A4,TARSKI:1;
end;

end;
hence thesis by CKB8:def 1;
end;
