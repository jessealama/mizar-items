environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,VECTSP_1,STRUCT_0,EUCLID,FINSEQ_1,FINSEQ_2,SUPINF_2,RELAT_1,ALGSTR_0,ARYTM_3,ARYTM_1,RVSUM_1,FUNCT_1,PARTFUN1,TARSKI,ZFMISC_1,NAT_1,XXREAL_0,GROUP_1,ORDINAL4,CARD_1,FVSUM_1,CARD_3,MATRIX_1,PRALG_1,MESFUNC1,MATRIX_6,TREES_1,MATRIXR2,AFINSQ_1,FUNCOP_1,QC_LANG1,FINSOP_1,INCSP_1,FUNCT_7,RFINSEQ,MATRIX_3,MATRIX14;
notations TARSKI,XBOOLE_0,SUBSET_1,XXREAL_0,RELAT_1,FUNCT_1,BINOP_1,ALGSTR_0,ZFMISC_1,MATRIX_1,FVSUM_1,PARTFUN1,FUNCT_3,NUMBERS,FINSEQ_7,FUNCT_2,FUNCOP_1,FINSEQ_1,STRUCT_0,GROUP_1,MATRIX_3,MATRIX_6,XCMPLX_0,NAT_1,NAT_D,VECTSP_1,FINSEQ_2,FINSOP_1,RFINSEQ,CKB1,CKB2,CKB10,CKB17,CKB27,CKB28,CKB49;
definitions XBOOLE_0,MATRIX_1,ALGSTR_0,CKB1,CKB28,CKB49;
theorems MATRIX_3,VECTSP_1,MATRIX_1,MATRIX_4,GROUP_1,FUNCT_1,FINSEQ_1,NAT_1,FINSEQ_7,FINSEQ_2,TARSKI,FINSOP_1,FVSUM_1,FUNCT_2,XBOOLE_0,ZFMISC_1,MATRIX_7,MATRIXR1,FINSEQ_3,XXREAL_0,ORDINAL1,FINSEQ_4,MATRIXR2,XREAL_1,FUNCOP_1,RLVECT_1,MATRIX_6,MATRIX12,POLYNOM1,PARTFUN1,NAT_D,CARD_1,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49;
schemes NAT_1,MATRIX_1;
registrations FINSEQ_2,XREAL_0,NAT_1,FUNCOP_1,STRUCT_0,VECTSP_1,ORDINAL1,XXREAL_0,RELAT_1,CARD_1,FINSEQ_1;
constructors FUNCT_3,FINSEQ_7,SETWISEO,FINSOP_1,JORDAN3,RFINSEQ,INTEGRA2,MATRIX_6,POLYNOM1,NAT_D,RELSET_1,FVSUM_1,CKB1,CKB2,CKB27,CKB28,CKB49;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve K for Field;
theorem
Th43: (for n being (Element of ( NAT )) holds (for i0 being Nat holds (for A being (Matrix of n,K) holds (((1 <= i0 & i0 <= n) & A = ( SwapDiagonal (K,n,i0) )) implies (for i,j being Nat holds ((((1 <= i & i <= n) & 1 <= j) & j <= n) implies (i0 <> 1 implies ((((((i = 1 & j = i0) implies ( A * (i,j) ) = ( 1. K )) & ((i = i0 & j = 1) implies ( A * (i,j) ) = ( 1. K ))) & ((i = 1 & j = 1) implies ( A * (i,j) ) = ( 0. K ))) & ((i = i0 & j = i0) implies ( A * (i,j) ) = ( 0. K ))) & ((not ((i = 1 or i = i0) & (j = 1 or j = i0))) implies ((i = j implies ( A * (i,j) ) = ( 1. K )) & (i <> j implies ( A * (i,j) ) = ( 0. K ))))))))))))
proof
let n being (Element of ( NAT ));
let i0 being Nat;
let A being (Matrix of n,K);
assume A1: (1 <= i0 & i0 <= n);
assume A2: A = ( SwapDiagonal (K,n,i0) );
let i being Nat,j being Nat;
assume that
A3: 1 <= i
and
A4: i <= n
and
A5: 1 <= j
and
A6: j <= n;
A7: [ i,j ] in ( Indices A ) by A3,A4,A5,A6,MATRIX_1:37;
assume A8: i0 <> 1;
thus ((i = 1 & j = i0) implies ( A * (i,j) ) = ( 1. K ))
proof
reconsider j0 = ( i0 -' 2 ) as (Element of ( NAT ));
reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
assume that
A9: i = 1
and
A10: j = i0;
reconsider qq = ( f /. i0 ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
i0 <= ( len f ) by A6,A10,MATRIX_1:def 2;
then ( f /. i0 ) = ( f . i0 ) by A5,A10,FINSEQ_4:15
.= ( Base_FinSeq (K,n,i0) ) by A5,A6,A10,CKB32:1;
then A11: ( qq . j ) = ( 1. K ) by A5,A6,A10,CKB30:1;
reconsider g = ( f /^ 1 ) as (FinSequence of ( (the carrier of K) * ));
A12: ( len f ) = n by MATRIX_1:def 2;
reconsider h = ( g | j0 ) as (FinSequence of ( (the carrier of K) * ));
( len ( <* ( f /. i0 ) *> ^ h ) ) = ( ( len <* ( f /. i0 ) *> ) + ( len h ) ) by FINSEQ_1:22
.= ( 1 + ( len h ) ) by FINSEQ_1:39;
then A13: 1 <= ( len ( <* ( f /. i0 ) *> ^ h ) ) by NAT_1:11;
A14: 1 = ( len <* ( f /. i0 ) *> ) by FINSEQ_1:39;
1 < i0 by A5,A8,A10,XXREAL_0:1;
then ( A . i ) = ( ( ( ( <* ( f /. i0 ) *> ^ h ) ^ <* ( f /. 1 ) *> ) ^ ( f /^ i0 ) ) . i ) by A2,A6,A10,A12,FINSEQ_7:28
.= ( ( ( <* ( f /. i0 ) *> ^ h ) ^ ( <* ( f /. 1 ) *> ^ ( f /^ i0 ) ) ) . i ) by FINSEQ_1:32
.= ( ( <* ( f /. i0 ) *> ^ h ) . 1 ) by A9,A13,FINSEQ_1:64
.= ( <* ( f /. i0 ) *> . 1 ) by A14,FINSEQ_1:64
.= ( f /. i0 ) by FINSEQ_1:def 8;
hence thesis by A7,A11,MATRIX_1:def 5;
end;

A15: ( len A ) = n by MATRIX_1:24;
A16: 1 <= n by A3,A4,XXREAL_0:2;
thus ((i = i0 & j = 1) implies ( A * (i,j) ) = ( 1. K ))
proof
reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
assume that
A17: i = i0
and
A18: j = 1;
reconsider qq = ( f /. 1 ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
A19: ( len f ) = n by MATRIX_1:def 2;
then ( f /. 1 ) = ( f . 1 ) by A16,FINSEQ_4:15
.= ( Base_FinSeq (K,n,1) ) by A16,CKB32:1;
then A20: ( qq . j ) = ( 1. K ) by A6,A18,CKB30:1;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. 1 ) by A2,A3,A4,A6,A17,A18,A19,FINSEQ_7:31;
hence thesis by A7,A20,MATRIX_1:def 5;
end;

thus ((i = 1 & j = 1) implies ( A * (i,j) ) = ( 0. K ))
proof
reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
assume that
A21: i = 1
and
A22: j = 1;
reconsider qq = ( f /. i0 ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
A23: ( len f ) = n by MATRIX_1:def 2;
then ( f /. i0 ) = ( f . i0 ) by A1,FINSEQ_4:15
.= ( Base_FinSeq (K,n,i0) ) by A1,CKB32:1;
then A24: ( qq . j ) = ( 0. K ) by A4,A8,A21,A22,CKB31:1;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. i0 ) by A1,A2,A4,A21,A23,FINSEQ_7:31;
hence thesis by A7,A24,MATRIX_1:def 5;
end;

thus ((i = i0 & j = i0) implies ( A * (i,j) ) = ( 0. K ))
proof
reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
assume that
A25: i = i0
and
A26: j = i0;
reconsider qq = ( f /. 1 ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
A27: ( len f ) = n by MATRIX_1:def 2;
then ( f /. 1 ) = ( f . 1 ) by A16,FINSEQ_4:15
.= ( Base_FinSeq (K,n,1) ) by A16,CKB32:1;
then A28: ( qq . j ) = ( 0. K ) by A1,A8,A26,CKB31:1;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. 1 ) by A2,A3,A4,A16,A25,A27,FINSEQ_7:31;
hence thesis by A7,A28,MATRIX_1:def 5;
end;

assume A29: (not ((i = 1 or i = i0) & (j = 1 or j = i0)));
per cases  by A29;
suppose A30: (i <> 1 & i <> i0);

thus (i = j implies ( A * (i,j) ) = ( 1. K ))
proof
reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
assume A31: i = j;
reconsider qq = ( f /. i ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
j <= ( len f ) by A6,MATRIX_1:def 2;
then ( f /. i ) = ( f . i ) by A5,A31,FINSEQ_4:15
.= ( Base_FinSeq (K,n,i) ) by A3,A4,CKB32:1;
then A32: ( qq . j ) = ( 1. K ) by A3,A4,A31,CKB30:1;
A33: ( len f ) = n by MATRIX_1:def 2;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. i ) by A2,A3,A4,A30,A33,FINSEQ_7:30;
hence thesis by A7,A32,MATRIX_1:def 5;
end;

thus (i <> j implies ( A * (i,j) ) = ( 0. K ))
proof
reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
assume A34: i <> j;
reconsider qq = ( f /. i ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
A35: ( len f ) = n by MATRIX_1:def 2;
then ( f /. i ) = ( f . i ) by A3,A4,FINSEQ_4:15
.= ( Base_FinSeq (K,n,i) ) by A3,A4,CKB32:1;
then A36: ( qq . j ) = ( 0. K ) by A5,A6,A34,CKB31:1;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. i ) by A2,A3,A4,A30,A35,FINSEQ_7:30;
hence thesis by A7,A36,MATRIX_1:def 5;
end;

end;
suppose A37: (j <> 1 & j <> i0);

thus (i = j implies ( A * (i,j) ) = ( 1. K ))
proof
reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
assume A38: i = j;
reconsider qq = ( f /. i ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
j <= ( len f ) by A6,MATRIX_1:def 2;
then ( f /. i ) = ( f . i ) by A5,A38,FINSEQ_4:15
.= ( Base_FinSeq (K,n,i) ) by A3,A4,CKB32:1;
then A39: ( qq . j ) = ( 1. K ) by A3,A4,A38,CKB30:1;
A40: ( len f ) = n by MATRIX_1:def 2;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. i ) by A2,A3,A4,A37,A38,A40,FINSEQ_7:30;
hence thesis by A7,A39,MATRIX_1:def 5;
end;

thus (i <> j implies ( A * (i,j) ) = ( 0. K ))
proof
assume A41: i <> j;
per cases ;
suppose A42: (not (i = 1 or i = i0));

reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
reconsider qq = ( f /. i ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
A43: ( len f ) = n by MATRIX_1:def 2;
then ( f /. i ) = ( f . i ) by A3,A4,FINSEQ_4:15
.= ( Base_FinSeq (K,n,i) ) by A3,A4,CKB32:1;
then A44: ( qq . j ) = ( 0. K ) by A5,A6,A41,CKB31:1;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. i ) by A2,A3,A4,A42,A43,FINSEQ_7:30;
hence thesis by A7,A44,MATRIX_1:def 5;
end;
suppose A45: (i = 1 or i = i0);

per cases  by A45;
suppose A46: i = 1;

reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
reconsider qq = ( f /. i0 ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
A47: ( len f ) = n by MATRIX_1:def 2;
then ( f /. i0 ) = ( f . i0 ) by A1,FINSEQ_4:15
.= ( Base_FinSeq (K,n,i0) ) by A1,CKB32:1;
then A48: ( qq . j ) = ( 0. K ) by A5,A6,A37,CKB31:1;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. i0 ) by A1,A2,A4,A46,A47,FINSEQ_7:31;
hence thesis by A7,A48,MATRIX_1:def 5;
end;
suppose A49: i = i0;

reconsider f = ( 1. (K,n) ) as (FinSequence of ( (the carrier of K) * ));
reconsider qq = ( f /. 1 ) as (FinSequence of (the carrier of K)) by FINSEQ_1:def 11;
A50: ( len f ) = n by MATRIX_1:def 2;
then ( f /. 1 ) = ( f . 1 ) by A16,FINSEQ_4:15
.= ( Base_FinSeq (K,n,1) ) by A16,CKB32:1;
then A51: ( qq . j ) = ( 0. K ) by A5,A6,A37,CKB31:1;
( A . i ) = ( A /. i ) by A15,A3,A4,FINSEQ_4:15
.= ( f /. 1 ) by A2,A3,A4,A16,A49,A50,FINSEQ_7:31;
hence thesis by A7,A51,MATRIX_1:def 5;
end;
end;
end;

end;
end;
