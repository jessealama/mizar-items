environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,RELAT_1,PBOOLE,MSAFREE,MSUALG_3,REALSET1,MEMBER_1,FUNCT_6,TARSKI,FUNCT_1,WELLORD1,MSUALG_2,PRALG_2,CARD_3,SUBSET_1,MSUALG_5,MSUALG_4,FUNCOP_1,RLVECT_2,PRALG_1,EQREL_1,CLOSURE2,SETFAM_1,FUNCT_4,ZFMISC_1,GROUP_6,NUMBERS,EQUATION,ZF_MODEL,ZF_LANG,MCART_1,PZFMISC1,MSAFREE2,FINSET_1,BIRKHOFF;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,SETFAM_1,RELAT_1,MCART_1,STRUCT_0,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FUNCT_2,FINSET_1,CARD_3,FUNCT_6,FUNCOP_1,MSUALG_1,MSUALG_2,PRALG_3,MSUALG_3,MSAFREE,MSAFREE2,PRALG_2,MSUALG_4,PZFMISC1,MSSUBFAM,CLOSURE2,MSUALG_5,EQUATION,CKB1;
definitions FUNCT_1,RELAT_1,TARSKI,PBOOLE,MSUALG_3,PRALG_2,MSUALG_4,EQUATION,FUNCOP_1,PZFMISC1,CKB1;
theorems AUTALG_1,CARD_3,CLOSURE2,EXTENS_1,FUNCOP_1,FUNCT_1,FUNCT_2,MCART_1,MSAFREE,MSAFREE2,MSSCYC_1,MSSUBFAM,MSUALG_2,MSUALG_3,MSUALG_4,MSUALG_5,MSUALG_7,MSUALG_9,PBOOLE,PRALG_2,PRALG_3,EQUATION,RELAT_1,ZFMISC_1,SETFAM_1,PARTFUN1,CKB1,CKB2;
schemes DOMAIN_1,PBOOLE,CKB3,CKB4,CKB5,CKB6;
registrations XBOOLE_0,ORDINAL1,RELSET_1,FUNCT_2,FUNCOP_1,PBOOLE,STRUCT_0,MSUALG_1,MSUALG_2,MSUALG_4,MSAFREE1,MSAFREE2,EXTENS_1,MSUALG_5,CLOSURE2,PRALG_3,MSUALG_9,EQUATION,MSSUBFAM,AUTALG_1;
constructors SETFAM_1,BINOP_1,PZFMISC1,MSSUBFAM,MSUALG_3,MSAFREE2,MSUALG_5,CLOSURE2,PRALG_3,EQUATION,RELSET_1,CKB1;
requirements SUBSET,BOOLE;
begin
scheme FreeIsGen { S() -> non empty non void ManySortedSign,X() ->  non-empty (ManySortedSet of (the carrier of S())),A() ->  strict  non-empty MSAlgebra over S(),f() -> (ManySortedFunction of X(),(the Sorts of A())),P[set] } : ( f() .:.: X() ) is  non-empty  non-empty (GeneratorSet of A())
provided
A1: (for C being  non-empty MSAlgebra over S() holds (for G being (ManySortedFunction of X(),(the Sorts of C)) holds (P[ C ] implies (ex H being (ManySortedFunction of A(),C) st ((H is_homomorphism A(),C & ( H ** f() ) = G) & (for K being (ManySortedFunction of A(),C) holds ((K is_homomorphism A(),C & ( K ** f() ) = G) implies H = K)))))))
and
A2: P[ A() ]
and
A3: (for A being  non-empty MSAlgebra over S() holds (for B being  strict  non-empty (MSSubAlgebra of A) holds (P[ A ] implies P[ B ])))
proof
set I = (the carrier of S());
A4: ( f() .:.: X() ) is  non-empty
proof
let i being set;
assume A5: i in I;
then reconsider fi = ( f() . i ) as (Function of ( X() . i ),( (the Sorts of A()) . i )) by PBOOLE:def 15;
A6: ( ( f() .:.: X() ) . i ) = ( fi .: ( X() . i ) ) by A5,PBOOLE:def 20;
reconsider Xi = ( X() . i ) as non empty set by A5;
A7: Xi meets Xi;
( dom fi ) = Xi by A5,FUNCT_2:def 1;
hence thesis by A7,A6,RELAT_1:118;
end;
( f() .:.: X() ) is (ManySortedSubset of (the Sorts of A()))
proof
let i being set;
assume A8: i in I;
then reconsider fi = ( f() . i ) as (Function of ( X() . i ),( (the Sorts of A()) . i )) by PBOOLE:def 15;
( ( f() .:.: X() ) . i ) = ( fi .: ( X() . i ) ) by A8,PBOOLE:def 20;
hence thesis;
end;
then reconsider Gen = ( f() .:.: X() ) as  non-empty (MSSubset of A()) by A4;
set AA = ( GenMSAlg Gen );
A9: X() is_transformable_to (the Sorts of AA)
proof
let i being set;
assume i in I;
hence thesis;
end;
X() is_transformable_to (the Sorts of A())
proof
let i being set;
assume i in I;
hence thesis;
end;
then A10: ( doms f() ) = X() by MSSUBFAM:17;
then ( rngs f() ) = ( f() .:.: X() ) by EQUATION:13;
then ( rngs f() ) is (ManySortedSubset of (the Sorts of AA)) by MSUALG_2:def 17;
then ( rngs f() ) c= (the Sorts of AA) by PBOOLE:def 18;
then reconsider iN = f() as (ManySortedFunction of X(),(the Sorts of AA)) by A9,A10,EQUATION:4;
consider IN being (ManySortedFunction of A(),AA) such that A11: IN is_homomorphism A(),AA and A12: ( IN ** f() ) = iN and (for K being (ManySortedFunction of A(),AA) holds ((K is_homomorphism A(),AA & ( K ** f() ) = iN) implies IN = K)) by A1,A2,A3;
(the Sorts of AA) is (ManySortedSubset of (the Sorts of A())) by MSUALG_2:def 9;
then reconsider h = ( id (the Sorts of AA) ) as (ManySortedFunction of AA,A()) by EXTENS_1:5;
consider HIN being (ManySortedFunction of A(),A()) such that HIN is_homomorphism A(),A() and ( HIN ** f() ) = ( h ** iN ) and A13: (for K being (ManySortedFunction of A(),A()) holds ((K is_homomorphism A(),A() & ( K ** f() ) = ( h ** iN )) implies HIN = K)) by A1,A2;
h is_monomorphism AA,A() by MSUALG_3:22;
then A14: h is_homomorphism AA,A() by MSUALG_3:def 9;
reconsider hIN = ( h ** IN ) as (ManySortedFunction of A(),A());
( h ** iN ) = ( ( h ** IN ) ** f() ) by A12,PBOOLE:140;
then A15: HIN = hIN by A11,A13,A14,MSUALG_3:10;
A16: A() is (MSSubAlgebra of A()) by MSUALG_2:5;
f() = ( h ** iN ) by MSUALG_3:4;
then ( ( id (the Sorts of A()) ) ** f() ) = ( h ** iN ) by MSUALG_3:4;
then HIN = ( id (the Sorts of A()) ) by A13,MSUALG_3:9;
then A17: HIN is  "onto";
(the Sorts of AA) = ( h .:.: (the Sorts of AA) ) by EQUATION:15
.= (the Sorts of A()) by A15,A17,EQUATION:2,EQUATION:9;
then AA = A() by A16,MSUALG_2:9;
hence thesis by MSAFREE:3;
end;
