environ
vocabularies XBOOLE_0,FUNCT_1,RELAT_1,TARSKI,PBOOLE,MEMBER_1,MSUALG_3,FUNCT_2,FUNCT_6,PZFMISC1,SUBSET_1,REALSET1,STRUCT_0,MSUALG_1,MSUALG_2,UNIALG_2,PARTFUN1,PRALG_2,CARD_3,RLVECT_2,PRELAMB,MSAFREE,FINSET_1,MSAFREE2,MSUALG_6,MARGREL1,NAT_1,GROUP_6,CLOSURE2,ZFMISC_1,FINSEQ_1,CARD_1,PRALG_3,FUNCT_4,FUNCOP_1,NUMBERS,ZF_LANG,MCART_1,ZF_MODEL,WELLORD1,MSUALG_4,EQUATION;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,STRUCT_0,FUNCT_2,MCART_1,FINSET_1,NAT_1,FINSEQ_1,FINSEQ_2,FUNCT_4,FUNCT_6,PZFMISC1,CARD_3,MSUALG_1,PRALG_2,FUNCOP_1,MSUALG_2,PRALG_3,MSUALG_3,MSUALG_4,MSAFREE,MSAFREE2,CLOSURE2,MSUALG_6,CKB7,CKB22;
definitions TARSKI,PBOOLE,PRALG_2,MSUALG_2,MSUALG_3,FINSET_1,MSAFREE,MSAFREE2,MSUALG_1,XBOOLE_0,PZFMISC1,CKB7,CKB22;
theorems MSUALG_1,EXTENS_1,MSAFREE2,MSSCYC_1,CARD_3,FUNCT_4,FUNCOP_1,FUNCT_1,FUNCT_2,MCART_1,MSAFREE,FINSEQ_1,CLOSURE2,FINSET_1,MSUALG_2,MSUALG_3,MSUALG_4,MSUALG_9,PBOOLE,PARTFUN1,MSUALG_6,AUTALG_1,MSSUBFAM,INSTALG1,PRALG_2,PRALG_3,RELAT_1,TARSKI,ZFMISC_1,RELSET_1,XBOOLE_0,XBOOLE_1,FUNCT_6,PZFMISC1,FINSEQ_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes MSSUBFAM,PBOOLE,FUNCT_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FUNCT_2,FUNCOP_1,FINSET_1,FINSEQ_1,STRUCT_0,MSUALG_1,MSUALG_2,RELAT_1,FUNCT_1,PRALG_2,MSUALG_3,MSAFREE,MSUALG_4,EXTENS_1,CLOSURE2,MSUALG_6,PRALG_3,MSUALG_9,MSSUBFAM,PBOOLE,AUTALG_1,CKB23,CKB24,CKB25,CKB26,CKB27;
constructors FUNCT_4,PZFMISC1,MSSUBFAM,MSUALG_3,MSAFREE2,CLOSURE2,MSUALG_6,PRALG_3,RELSET_1,FINSEQ_2,CKB7,CKB22;
requirements SUBSET,BOOLE;
begin
reserve S for non empty non void ManySortedSign;
reserve U0 for  non-empty MSAlgebra over S;
theorem
Th23: (for A being MSAlgebra over S holds (for C being (MSSubAlgebra of A) holds (for D being (ManySortedSubset of (the Sorts of A)) holds (D = (the Sorts of C) implies (for h being (ManySortedFunction of A,U0) holds (for g being (ManySortedFunction of C,U0) holds (g = ( h || D ) implies (for o being (OperSymbol of S) holds (for x being (Element of ( Args (o,A) )) holds (for y being (Element of ( Args (o,C) )) holds ((( Args (o,C) ) <> ( {} ) & x = y) implies ( h # x ) = ( g # y ))))))))))))
proof
let A being MSAlgebra over S;
let C being (MSSubAlgebra of A);
let D being (ManySortedSubset of (the Sorts of A));
assume that
A1: D = (the Sorts of C);
let h being (ManySortedFunction of A,U0);
let g being (ManySortedFunction of C,U0);
assume that
A2: g = ( h || D );
let o being (OperSymbol of S);
let x being (Element of ( Args (o,A) ));
let y being (Element of ( Args (o,C) ));
assume that
A3: ( Args (o,C) ) <> ( {} )
and
A4: x = y;
set hx = ( h # x );
set gy = ( g # y );
set ar = ( the_arity_of o );
A5: y in ( Args (o,A) ) by A3,CKB19:1;
then reconsider xx = x,yy = y as Function by MSUALG_6:1;
A6: ( dom yy ) = ( dom ar ) by A3,MSUALG_3:6;
A7: ( dom xx ) = ( dom ar ) by A5,MSUALG_3:6;
A8:now
let n being set;
assume A9: n in ( dom ar );
then reconsider n9 = n as Nat;
reconsider hn = ( h . ( ar . n ) ) as (Function of ( (the Sorts of A) . ( ar . n ) ),( (the Sorts of U0) . ( ar . n ) )) by A9,PARTFUN1:4,PBOOLE:def 15;
( ar . n ) in (the carrier of S) by A9,PARTFUN1:4;
then A10: ( g . ( ar . n9 ) ) = ( hn | ( D . ( ar . n ) ) ) by A2,MSAFREE:def 1;
( dom ( (the Sorts of C) * ( the_arity_of o ) ) ) = ( dom ar ) by PARTFUN1:def 2;
then ( xx . n ) in ( ( (the Sorts of C) * ar ) . n ) by A3,A4,A9,MSUALG_3:6;
then A11: ( xx . n ) in ( D . ( ar . n ) ) by A1,A9,FUNCT_1:13;
thus ( hx . n ) = ( hx . n9 )
.= ( ( h . ( ar /. n ) ) . ( xx . n ) ) by A5,A7,A9,MSUALG_3:24
.= ( ( h . ( ar . n ) ) . ( xx . n ) ) by A9,PARTFUN1:def 6
.= ( ( g . ( ar . n ) ) . ( xx . n ) ) by A10,A11,FUNCT_1:49
.= ( ( g . ( ar /. n ) ) . ( yy . n ) ) by A4,A9,PARTFUN1:def 6
.= ( gy . n9 ) by A3,A6,A9,MSUALG_3:24
.= ( gy . n );
end;
(( dom hx ) = ( dom ar ) & ( dom gy ) = ( dom ar )) by MSUALG_3:6;
hence thesis by A8,FUNCT_1:2;
end;
