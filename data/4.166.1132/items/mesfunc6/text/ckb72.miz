environ
vocabularies NUMBERS,XBOOLE_0,PROB_1,FUNCT_1,PARTFUN1,SUBSET_1,REAL_1,XREAL_0,ORDINAL1,NAT_1,COMPLEX1,MEASURE6,RELAT_1,MEASURE1,MESFUNC2,TARSKI,FINSEQ_1,XXREAL_0,ARYTM_3,ARYTM_1,VALUED_0,MESFUNC1,SETFAM_1,VALUED_1,RAT_1,RFUNCT_3,SUPINF_2,CARD_1,SUPINF_1,MESFUNC5,MESFUNC3,INT_1,ZFMISC_1,INTEGRA5;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,DOMAIN_1,XREAL_0,REAL_1,RAT_1,NAT_1,NAT_D,FUNCT_1,RELSET_1,PARTFUN1,FINSEQ_1,VALUED_1,SUPINF_2,SEQ_1,COMPLEX1,XXREAL_0,RFUNCT_3,MEASURE6,FUNCT_2,SUPINF_1,MEASURE1,EXTREAL1,MESFUNC1,MESFUNC2,MESFUNC3,SETFAM_1,PROB_1,MESFUNC5,CKB12,CKB50;
definitions TARSKI,XBOOLE_0,SUPINF_2,RFUNCT_3,FINSEQ_1,MESFUNC5,MEASURE6,VALUED_1,CKB12,CKB50;
theorems MEASURE1,TARSKI,PARTFUN1,FUNCT_1,NAT_1,SUPINF_2,EXTREAL1,EXTREAL2,MESFUNC1,FINSEQ_1,ABSVALUE,PROB_1,XBOOLE_0,XBOOLE_1,MESFUNC2,MESFUNC3,XREAL_1,ZFMISC_1,MESFUNC5,XXREAL_0,RFUNCT_3,FUZZY_2,FINSUB_1,NAT_2,FINSEQ_3,FINSEQ_2,NAT_D,NUMBERS,VALUED_1,XXREAL_3,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71;
schemes FINSEQ_1,PARTFUN1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,RAT_1,MEMBERED,MEASURE1,VALUED_0;
constructors DOMAIN_1,REAL_1,SQUARE_1,NAT_D,MEASURE3,MEASURE6,EXTREAL1,MESFUNC1,EXTREAL2,BINARITH,MESFUNC2,MESFUNC3,MESFUNC5,SEQ_1,SUPINF_1,RELSET_1,CKB12,CKB50;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for non empty set;
reserve S for (SigmaField of X);
reserve f for (PartFunc of X,( REAL ));
reserve A for (Element of S);
theorem
Th70: (f is_simple_func_in S implies ( f | A ) is_simple_func_in S)
proof
assume f is_simple_func_in S;
then consider F being (Finite_Sep_Sequence of S) such that A1: ( dom f ) = ( union ( rng F ) ) and A2: (for n being Nat holds (for x,y being (Element of X) holds (((n in ( dom F ) & x in ( F . n )) & y in ( F . n )) implies ( f . x ) = ( f . y )))) by CKB50:def 1;
deffunc FA(Nat) = ( ( F . $1 ) /\ A );
consider G being FinSequence such that A3: (( len G ) = ( len F ) & (for n being Nat holds (n in ( dom G ) implies ( G . n ) = FA(n)))) from FINSEQ_1:sch 2;
A4: ( rng G ) c= S
proof
let P being set;
assume P in ( rng G );
then consider k being set such that A5: k in ( dom G ) and A6: P = ( G . k ) by FUNCT_1:def 3;
reconsider k as (Element of ( NAT )) by A5;
k in ( Seg ( len F ) ) by A3,A5,FINSEQ_1:def 3;
then k in ( dom F ) by FINSEQ_1:def 3;
then A7: ( F . k ) in ( rng F ) by FUNCT_1:3;
( G . k ) = ( ( F . k ) /\ A ) by A3,A5;
hence thesis by A6,A7,FINSUB_1:def 2;
end;
A8: ( dom G ) = ( Seg ( len F ) ) by A3,FINSEQ_1:def 3;
reconsider G as (FinSequence of S) by A4,FINSEQ_1:def 4;
(for i,j being Nat holds (((i in ( dom G ) & j in ( dom G )) & i <> j) implies ( G . i ) misses ( G . j )))
proof
let i being Nat,j being Nat;
assume that
A9: i in ( dom G )
and
A10: j in ( dom G )
and
A11: i <> j;
j in ( Seg ( len F ) ) by A3,A10,FINSEQ_1:def 3;
then A12: j in ( dom F ) by FINSEQ_1:def 3;
i in ( Seg ( len F ) ) by A3,A9,FINSEQ_1:def 3;
then i in ( dom F ) by FINSEQ_1:def 3;
then A13: ( F . i ) misses ( F . j ) by A11,A12,MESFUNC3:4;
(( G . i ) = ( ( F . i ) /\ A ) & ( G . j ) = ( ( F . j ) /\ A )) by A3,A9,A10;
then ( ( G . i ) /\ ( G . j ) ) = ( ( ( ( F . i ) /\ A ) /\ ( F . j ) ) /\ A ) by XBOOLE_1:16
.= ( ( ( ( F . i ) /\ ( F . j ) ) /\ A ) /\ A ) by XBOOLE_1:16
.= ( ( ( {} ) /\ A ) /\ A ) by A13,XBOOLE_0:def 7;
hence thesis by XBOOLE_0:def 7;
end;
then reconsider G as (Finite_Sep_Sequence of S) by MESFUNC3:4;
(for v being set holds (v in ( union ( rng G ) ) implies v in ( dom ( f | A ) )))
proof
let v being set;
assume v in ( union ( rng G ) );
then consider W being set such that A14: v in W and A15: W in ( rng G ) by TARSKI:def 4;
consider k being set such that A16: k in ( dom G ) and A17: W = ( G . k ) by A15,FUNCT_1:def 3;
reconsider k as (Element of ( NAT )) by A16;
k in ( Seg ( len F ) ) by A3,A16,FINSEQ_1:def 3;
then k in ( dom F ) by FINSEQ_1:def 3;
then A18: ( F . k ) in ( rng F ) by FUNCT_1:3;
A19: ( G . k ) = ( ( F . k ) /\ A ) by A3,A16;
then v in ( F . k ) by A14,A17,XBOOLE_0:def 4;
then A20: v in ( union ( rng F ) ) by A18,TARSKI:def 4;
v in A by A14,A17,A19,XBOOLE_0:def 4;
then v in ( ( dom f ) /\ A ) by A1,A20,XBOOLE_0:def 4;
hence thesis by RELAT_1:61;
end;
then A21: ( union ( rng G ) ) c= ( dom ( f | A ) ) by TARSKI:def 3;
(for v being set holds (v in ( dom ( f | A ) ) implies v in ( union ( rng G ) )))
proof
let v being set;
assume v in ( dom ( f | A ) );
then A22: v in ( ( dom f ) /\ A ) by RELAT_1:61;
then A23: v in A by XBOOLE_0:def 4;
v in ( dom f ) by A22,XBOOLE_0:def 4;
then consider W being set such that A24: v in W and A25: W in ( rng F ) by A1,TARSKI:def 4;
consider k being set such that A26: k in ( dom F ) and A27: W = ( F . k ) by A25,FUNCT_1:def 3;
reconsider k as (Element of ( NAT )) by A26;
A28: k in ( Seg ( len F ) ) by A26,FINSEQ_1:def 3;
then k in ( dom G ) by A3,FINSEQ_1:def 3;
then A29: ( G . k ) in ( rng G ) by FUNCT_1:3;
( G . k ) = ( ( F . k ) /\ A ) by A3,A8,A28;
then v in ( G . k ) by A23,A24,A27,XBOOLE_0:def 4;
hence thesis by A29,TARSKI:def 4;
end;
then ( dom ( f | A ) ) c= ( union ( rng G ) ) by TARSKI:def 3;
then A30: ( dom ( f | A ) ) = ( union ( rng G ) ) by A21,XBOOLE_0:def 10;
(for n being Nat holds (for x,y being (Element of X) holds (((n in ( dom G ) & x in ( G . n )) & y in ( G . n )) implies ( ( f | A ) . x ) = ( ( f | A ) . y ))))
proof
let n being Nat;
let x being (Element of X),y being (Element of X);
assume that
A31: n in ( dom G )
and
A32: x in ( G . n )
and
A33: y in ( G . n );
n in ( Seg ( len F ) ) by A3,A31,FINSEQ_1:def 3;
then A34: n in ( dom F ) by FINSEQ_1:def 3;
( G . n ) = ( ( F . n ) /\ A ) by A3,A31;
then (x in ( F . n ) & y in ( F . n )) by A32,A33,XBOOLE_0:def 4;
then A35: ( f . x ) = ( f . y ) by A2,A34;
A36: ( G . n ) in ( rng G ) by A31,FUNCT_1:3;
then x in ( dom ( f | A ) ) by A30,A32,TARSKI:def 4;
then A37: ( ( f | A ) . x ) = ( f . y ) by A35,FUNCT_1:47;
y in ( dom ( f | A ) ) by A30,A33,A36,TARSKI:def 4;
hence thesis by A37,FUNCT_1:47;
end;
hence thesis by A30,CKB50:def 1;
end;
