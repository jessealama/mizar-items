environ
vocabularies ALGSTR_0,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCSDOM,FUNCT_1,FUNCT_2,LMOD_7,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,METRIC_1,MONOID_0,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PRE_TOPC,PROB_1,PRVECT_1,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RFINSEQ,RLAFFIN1,RLSUB_1,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,SEMI_AF1,SETFAM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPS_1,TOPS_2,VALUED_0,VALUED_1,VECTSP_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_0,CARD_1,XREAL_0,REAL_1,FINSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,STRUCT_0,FINSEQ_2,FINSEQOP,RVSUM_1,RLVECT_1,RLVECT_2,RUSUB_4,CONVEX1,RLAFFIN1,COMPLEX1,VALUED_0,METRIC_1,BINOP_2,PRE_TOPC,PCOMPS_1,ALGSTR_0,FUNCSDOM,TOPS_2,RLTOPSP1,EUCLID,VFUNCT_1,FVSUM_1,RLSUB_1,RLVECT_3,RLVECT_5,CARD_3,RCOMP_1,EUCLID_9,VECTSP_1,MATRIX_1,NAT_D,MATRIX_3,MATRIX_6,VECTSP_6,VECTSP_7,MATRIX13,MATRLIN,RLSUB_2,RFINSEQ,TOPMETR,RLAFFIN2,SETFAM_1,PRVECT_1,TOPREAL9,MATRTOP1,CKB23,CKB24,CKB28,CKB48;
definitions FINSEQ_1,MATRIX13,MATRTOP1,RLTOPSP1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0,CKB23,CKB28,CKB48;
theorems BORSUK_5,CARD_1,CARD_2,CARD_3,CARD_FIN,COMPLEX1,CONVEX1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GOBOARD6,JORDAN2B,JORDAN2C,JORDAN6,LAPLACE,MATRIX_6,MATRIX13,MATRLIN,MATRLIN2,MATRTOP1,MATRTOP2,METRIC_1,METRIZTS,NAT_1,ORDINAL1,PARTFUN1,PCOMPS_1,PRALG_3,PRE_TOPC,RELAT_1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_1,RLSUB_2,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,RVSUM_1,SETFAM_1,SPPOL_1,STIRL2_1,STRUCT_0,TARSKI,TOPGRP_1,TOPMETR,TOPREAL7,TOPREAL9,TOPS_1,TOPS_2,TREAL_1,TSEP_1,URYSOHN1,VECTSP_1,VECTSP_4,VECTSP_7,VECTSP_9,VFUNCT_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,ZFMISC_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB45,CKB46,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53;
schemes FINSEQ_1,FUNCT_2,TREES_2;
registrations CARD_1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,JORDAN2B,MATRIX13,MATRTOP1,MEMBERED,MONOID_0,NAT_1,NUMBERS,PRE_TOPC,PRVECT_1,REAL_1,REALSET1,RELAT_1,RELSET_1,RLAFFIN1,RLTOPSP1,RLVECT_5,RVSUM_1,STRUCT_0,SUBSET_1,TEX_1,TOPGEN_1,TOPMETR,TOPREAL1,TOPREALC,TOPS_1,VALUED_0,VECTSP_1,VECTSP_9,XBOOLE_0,XREAL_0,XXREAL_0,ZFMISC_1,CKB6,CKB7,CKB8,CKB18,CKB20,CKB22,CKB44,CKB47,CKB54;
constructors BINOP_2,CONVEX1,EUCLID_9,FUNCSDOM,FVSUM_1,MATRIX_6,MATRIX13,MATRTOP1,MONOID_0,NAT_D,RANKNULL,RCOMP_1,REAL_1,REALSET1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_2,RLVECT_3,RLVECT_5,RUSUB_5,SEQ_1,TDLAT_3,TOPMETR,TOPREAL9,TOPS_2,VECTSP_7,VFUNCT_1,WELLORD2,SEQ_4,CKB23,CKB24,CKB28,CKB48;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve n for Nat;
reserve Affn for  affinely-independent (Subset of ( TOP-REAL n ));
theorem
(( card Affn ) = ( n + 1 ) implies ( Int Affn ) is  open)
proof
set L = ]. ( 0 ),1 .[;
set TRn = ( TOP-REAL n );
set A = Affn;
assume that
A1: ( card A ) = ( n + 1 );
per cases ;
suppose A2: n <> ( 0 );

reconsider L as (Subset of ( R^1 )) by TOPMETR:17;
set E = the (Enumeration of A);
deffunc F(set) = ( ( |-- (A,( E . $1 )) ) " L );
consider f being FinSequence such that A3: ( len f ) = ( n + 1 ) and A4: (for k being Nat holds (k in ( dom f ) implies ( f . k ) = F(k))) from FINSEQ_1:sch 2;
A5: ( dom f ) = ( Seg ( len f ) ) by FINSEQ_1:def 3;
then A6: ( rng f ) is non empty by A3,RELAT_1:42;
( rng f ) c= ( bool (the carrier of TRn) )
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A7: x in ( dom f ) and A8: ( f . x ) = y by FUNCT_1:def 3;
( f . x ) = F(x) by A4,A7;
hence thesis by A8;
end;
then reconsider f as (FinSequence of ( bool (the carrier of TRn) )) by FINSEQ_1:def 4;
A9: ( rng E ) = A by CKB23:def 1;
then A10: ( len E ) = ( card A ) by FINSEQ_4:62;
A11: ( meet ( rng f ) ) c= ( Int A )
proof
let x being set;
( dim TRn ) = n by CKB9:1;
then A12: ( [#] TRn ) = ( Affin A ) by A1,CKB11:1;
assume A13: x in ( meet ( rng f ) );
A14:now
let v being (Element of TRn);
assume v in A;
then consider k being set such that A15: k in ( dom E ) and A16: ( E . k ) = v by A9,FUNCT_1:def 3;
A17: k in ( dom f ) by A1,A3,A10,A5,A15,FINSEQ_1:def 3;
then ( f . k ) in ( rng f ) by FUNCT_1:def 3;
then A18: ( meet ( rng f ) ) c= ( f . k ) by SETFAM_1:3;
A19: ( ( x |-- A ) . v ) = ( ( |-- (A,v) ) . x ) by A13,CKB48:def 1;
( f . k ) = ( ( |-- (A,v) ) " L ) by A4,A16,A17;
then ( ( x |-- A ) . v ) in L by A13,A19,A18,FUNCT_1:def 7;
hence ( ( x |-- A ) . v ) > ( 0 ) by XXREAL_1:4;
end;
A20: A c= ( Carrier ( x |-- A ) )
proof
let y being set;
assume A21: y in A;
then ( ( x |-- A ) . y ) > ( 0 ) by A14;
hence thesis by A21,RLVECT_2:19;
end;
( Carrier ( x |-- A ) ) c= A by RLVECT_2:def 6;
then A22: ( Carrier ( x |-- A ) ) = A by A20,XBOOLE_0:def 10;
(for v being (Element of TRn) holds (v in A implies ( ( x |-- A ) . v ) >= ( 0 ))) by A14;
then A23: x in ( conv A ) by A13,A12,RLAFFIN1:73;
( Sum ( x |-- A ) ) = x by A13,A12,RLAFFIN1:def 7;
hence thesis by A23,A22,RLAFFIN1:71,RLAFFIN2:12;
end;
A24: ( conv A ) c= ( Affin A ) by RLAFFIN1:65;
A25: ( Int A ) c= ( conv A ) by RLAFFIN2:5;
A26: ( dom E ) = ( Seg ( len E ) ) by FINSEQ_1:def 3;
A27: ( Int A ) c= ( meet ( rng f ) )
proof
let x being set;
assume A28: x in ( Int A );
then consider K being (Linear_Combination of A) such that A29: K is  convex and A30: x = ( Sum K ) by RLAFFIN2:10;
A31: x in ( conv A ) by A25,A28;
( sum K ) = 1 by A29,RLAFFIN1:62;
then A32: K = ( x |-- A ) by A24,A30,A31,RLAFFIN1:def 7;
A33: ( Carrier K ) = A by A28,A29,A30,RLAFFIN2:11;
now
let Y being set;
assume Y in ( rng f );
then consider k being set such that A34: k in ( dom f ) and A35: ( f . k ) = Y by FUNCT_1:def 3;
A36: ( E . k ) in A by A1,A3,A9,A10,A5,A26,A34,FUNCT_1:def 3;
then reconsider Ek = ( E . k ) as (Element of TRn);
( ( x |-- A ) . Ek ) <> ( 0 ) by A32,A33,A36,RLVECT_2:19;
then A37: ( 0 ) < ( ( x |-- A ) . Ek ) by A29,A32,RLAFFIN1:62;
A38: ( ( x |-- A ) . Ek ) < 1
proof
assume A39: ( ( x |-- A ) . Ek ) >= 1;
( ( x |-- A ) . Ek ) <= 1 by A29,A32,RLAFFIN1:63;
then A = { Ek } by A29,A32,A33,A39,RLAFFIN1:64,XXREAL_0:1;
then ( card A ) = 1 by CARD_2:42;
hence contradiction by A1,A2;
end;
( ( x |-- A ) . Ek ) = ( ( |-- (A,Ek) ) . x ) by A30,CKB48:def 1;
then A40: ( ( |-- (A,Ek) ) . x ) in L by A38,A37,XXREAL_1:4;
A41: ( dom ( |-- (A,Ek) ) ) = ( [#] TRn ) by FUNCT_2:def 1;
Y = ( ( |-- (A,( E . k )) ) " L ) by A4,A34,A35;
hence x in Y by A28,A40,A41,FUNCT_1:def 7;
end;
hence thesis by A6,SETFAM_1:def 1;
end;
now
let B being (Subset of TRn);
A42: ( [#] ( R^1 ) ) is non empty;
assume B in ( rng f );
then consider k being set such that A43: (k in ( dom f ) & ( f . k ) = B) by FUNCT_1:def 3;
(( |-- (A,( E . k )) ) is  continuous & L is  open) by A1,CKB52:1,JORDAN6:35;
then ( ( |-- (A,( E . k )) ) " L ) is  open by A42,TOPS_2:43;
hence B is  open by A4,A43;
end;
then ( rng f ) is  open by TOPS_2:def 1;
then ( meet ( rng f ) ) is  open by TOPS_2:20;
hence thesis by A27,A11,XBOOLE_0:def 10;
end;
suppose A44: n = ( 0 );

Affn is non empty by A1;
then A45: ( Int Affn ) is non empty by RLAFFIN2:20;
(the carrier of TRn) = { ( 0. TRn ) } by A44,EUCLID:22,JORDAN2C:105;
then ( Int Affn ) = ( [#] TRn ) by A45,ZFMISC_1:33;
hence thesis;
end;
end;
