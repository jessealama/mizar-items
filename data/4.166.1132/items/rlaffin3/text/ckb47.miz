environ
vocabularies ALGSTR_0,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCSDOM,FUNCT_1,FUNCT_2,LMOD_7,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,METRIC_1,MONOID_0,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PRE_TOPC,PROB_1,PRVECT_1,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RFINSEQ,RLAFFIN1,RLSUB_1,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,SEMI_AF1,SETFAM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPS_1,TOPS_2,VALUED_0,VALUED_1,VECTSP_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_0,CARD_1,XREAL_0,REAL_1,FINSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,STRUCT_0,FINSEQ_2,FINSEQOP,RVSUM_1,RLVECT_1,RLVECT_2,RUSUB_4,CONVEX1,RLAFFIN1,COMPLEX1,VALUED_0,METRIC_1,BINOP_2,PRE_TOPC,PCOMPS_1,ALGSTR_0,FUNCSDOM,TOPS_2,RLTOPSP1,EUCLID,VFUNCT_1,FVSUM_1,RLSUB_1,RLVECT_3,RLVECT_5,CARD_3,RCOMP_1,EUCLID_9,VECTSP_1,MATRIX_1,NAT_D,MATRIX_3,MATRIX_6,VECTSP_6,VECTSP_7,MATRIX13,MATRLIN,RLSUB_2,RFINSEQ,TOPMETR,RLAFFIN2,SETFAM_1,PRVECT_1,TOPREAL9,MATRTOP1,CKB23,CKB24,CKB28;
definitions FINSEQ_1,MATRIX13,MATRTOP1,RLTOPSP1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0,CKB23,CKB28;
theorems BORSUK_5,CARD_1,CARD_2,CARD_3,CARD_FIN,COMPLEX1,CONVEX1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GOBOARD6,JORDAN2B,JORDAN2C,JORDAN6,LAPLACE,MATRIX_6,MATRIX13,MATRLIN,MATRLIN2,MATRTOP1,MATRTOP2,METRIC_1,METRIZTS,NAT_1,ORDINAL1,PARTFUN1,PCOMPS_1,PRALG_3,PRE_TOPC,RELAT_1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_1,RLSUB_2,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,RVSUM_1,SETFAM_1,SPPOL_1,STIRL2_1,STRUCT_0,TARSKI,TOPGRP_1,TOPMETR,TOPREAL7,TOPREAL9,TOPS_1,TOPS_2,TREAL_1,TSEP_1,URYSOHN1,VECTSP_1,VECTSP_4,VECTSP_7,VECTSP_9,VFUNCT_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,ZFMISC_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB45,CKB46;
schemes FINSEQ_1,FUNCT_2,TREES_2;
registrations CARD_1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,JORDAN2B,MATRIX13,MATRTOP1,MEMBERED,MONOID_0,NAT_1,NUMBERS,PRE_TOPC,PRVECT_1,REAL_1,REALSET1,RELAT_1,RELSET_1,RLAFFIN1,RLTOPSP1,RLVECT_5,RVSUM_1,STRUCT_0,SUBSET_1,TEX_1,TOPGEN_1,TOPMETR,TOPREAL1,TOPREALC,TOPS_1,VALUED_0,VECTSP_1,VECTSP_9,XBOOLE_0,XREAL_0,XXREAL_0,ZFMISC_1,CKB6,CKB7,CKB8,CKB18,CKB20,CKB22,CKB44;
constructors BINOP_2,CONVEX1,EUCLID_9,FUNCSDOM,FVSUM_1,MATRIX_6,MATRIX13,MATRTOP1,MONOID_0,NAT_D,RANKNULL,RCOMP_1,REAL_1,REALSET1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_2,RLVECT_3,RLVECT_5,RUSUB_5,SEQ_1,TDLAT_3,TOPMETR,TOPREAL9,TOPS_2,VECTSP_7,VFUNCT_1,WELLORD2,SEQ_4,CKB23,CKB24,CKB28;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve n for Nat;
registration
let n;
let p being (Point of ( TOP-REAL n ));
let q being (Point of ( TOP-REAL n ));
cluster ( halfline (p,q) ) ->  closed;
coherence
proof
set pq = { p,q };
A1: n in ( NAT ) by ORDINAL1:def 12;
per cases ;
suppose A2: p = q;

{ p } is  closed by URYSOHN1:19;
hence thesis by A1,A2,TOPREAL9:29;
end;
suppose A3: p <> q;

A4: ( rng <* p,q *> ) = pq by FINSEQ_2:127;
<* p,q *> is  one-to-one by A3,FINSEQ_3:94;
then reconsider E = <* p,q *> as (Enumeration of pq) by A4,CKB23:def 1;
set Apq = ( Affin pq );
set TRn = ( TOP-REAL n );
set TR1 = ( TOP-REAL 1 );
set L = ]. ( -infty ),1 .];
A5: ( E . 1 ) = p by FINSEQ_1:44;
reconsider L as (Subset of ( R^1 )) by TOPMETR:17;
consider h being (Function of TR1,( R^1 )) such that A6: (for p being (Point of TR1) holds ( h . p ) = ( p /. 1 )) by JORDAN2B:1;
set B = { w where w is (Element of ( TRn | Apq )): ( ( w |-- E ) | 1 ) in ( h " L ) };
B c= ( [#] ( TRn | Apq ) )
proof
let x being set;
assume x in B;
then (ex w being (Element of ( TRn | Apq )) st (x = w & ( ( w |-- E ) | 1 ) in ( h " L )));
hence thesis;
end;
then reconsider B as (Subset of ( TRn | Apq ));
A7: ( [#] ( TRn | Apq ) ) = Apq by PRE_TOPC:def 5;
A8: ( card pq ) = 2 by A3,CARD_2:57;
A9: h is  being_homeomorphism by A6,JORDAN2B:28;
then A10: ( dom h ) = ( [#] TR1 ) by TOPGRP_1:24;
A11: ( halfline (p,q) ) c= B
proof
( Carrier ( q |-- { q } ) ) c= { q } by RLVECT_2:def 6;
then (not p in ( Carrier ( q |-- { q } ) )) by A3,TARSKI:def 1;
then A12: ( ( q |-- { q } ) . p ) = ( 0 ) by RLVECT_2:19;
{ q } is  Affine by RUSUB_4:23;
then A13: ( Affin { q } ) = { q } by RLAFFIN1:50;
let x;
set W = ( x |-- pq );
set wE = ( x |-- E );
A14: p in pq by TARSKI:def 2;
assume x in ( halfline (p,q) );
then consider a being  real number such that A15: x = ( ( ( 1 - a ) * p ) + ( a * q ) ) and A16: ( 0 ) <= a by A1,TOPREAL9:26;
reconsider a as Real by XREAL_0:def 1;
(q in { q } & { q } c= pq) by TARSKI:def 1,ZFMISC_1:36;
then ( 0 ) = ( ( q |-- pq ) . p ) by A12,A13,RLAFFIN1:77;
then A17: ( ( a * ( q |-- pq ) ) . p ) = ( a * ( 0 ) ) by RLVECT_2:def 11
.= ( 0 );
pq c= ( conv pq ) by CONVEX1:41;
then A18: ( ( p |-- pq ) . p ) = 1 by A14,RLAFFIN1:72;
A19: (q in pq & pq c= ( Affin pq )) by RLAFFIN1:49,TARSKI:def 2;
then W = ( ( ( 1 - a ) * ( p |-- pq ) ) + ( a * ( q |-- pq ) ) ) by A15,A14,RLAFFIN1:70;
then ( W . p ) = ( ( ( ( 1 - a ) * ( p |-- pq ) ) . p ) + ( ( a * ( q |-- pq ) ) . p ) ) by RLVECT_2:def 10
.= ( ( ( 1 - a ) * ( ( p |-- pq ) . p ) ) + ( 0 ) ) by A17,RLVECT_2:def 11
.= ( 1 - a ) by A18;
then ( W . p ) <= ( 1 - ( 0 ) ) by A16,XREAL_1:10;
then A20: ( W . p ) in L by XXREAL_1:234;
( ( 1 - a ) + a ) = 1;
then reconsider w = x as (Element of ( TRn | Apq )) by A7,A15,A14,A19,RLAFFIN1:78;
( len wE ) = 2 by A8,CKB29:1;
then A21: ( len ( wE | 1 ) ) = 1 by FINSEQ_1:59;
then reconsider wE1 = ( wE | 1 ) as (Point of ( TOP-REAL 1 )) by TOPREAL7:17;
A22: 1 in ( dom wE1 ) by A21,FINSEQ_3:25;
then A23: (( wE1 /. 1 ) = ( wE1 . 1 ) & ( wE1 . 1 ) = ( wE . 1 )) by FUNCT_1:47,PARTFUN1:def 6;
A24: 1 in ( dom wE ) by A22,RELAT_1:57;
( h . wE1 ) = ( wE1 /. 1 ) by A6;
then ( h . wE1 ) in L by A5,A20,A23,A24,FUNCT_1:12;
then wE1 in ( h " L ) by A10,FUNCT_1:def 7;
then w in B;
hence thesis;
end;
L is  closed by BORSUK_5:41;
then ( h " L ) is  closed by A9,TOPGRP_1:24;
then A25: B is  closed by A8,CKB46:1;
B c= ( halfline (p,q) )
proof
let x;
assume x in B;
then consider w being (Element of ( TRn | Apq )) such that A26: x = w and A27: ( ( w |-- E ) | 1 ) in ( h " L );
set W = ( w |-- pq );
set wE = ( w |-- E );
reconsider wE1 = ( wE | 1 ) as (Point of TR1) by A27;
A28: ( h . wE1 ) = ( wE1 /. 1 ) by A6;
( len wE1 ) = 1 by CARD_1:def 7;
then A29: 1 in ( dom wE1 ) by FINSEQ_3:25;
then A30: (( wE1 /. 1 ) = ( wE1 . 1 ) & ( wE1 . 1 ) = ( wE . 1 )) by FUNCT_1:47,PARTFUN1:def 6;
A31: 1 in ( dom wE ) by A29,RELAT_1:57;
( h . ( wE | 1 ) ) in L by A27,FUNCT_1:def 7;
then ( W . p ) in L by A5,A28,A30,A31,FUNCT_1:12;
then ( W . p ) <= 1 by XXREAL_1:234;
then A32: ( ( W . p ) - ( W . p ) ) <= ( 1 - ( W . p ) ) by XREAL_1:9;
A33: ( sum W ) = 1 by A7,RLAFFIN1:def 7;
( Carrier W ) c= pq by RLVECT_2:def 6;
then A34: ( sum W ) = ( ( W . p ) + ( W . q ) ) by A3,RLAFFIN1:33;
( Sum W ) = w by A7,RLAFFIN1:def 7;
then w = ( ( ( 1 - ( W . q ) ) * p ) + ( ( W . q ) * q ) ) by A3,A34,A33,RLVECT_2:33;
hence thesis by A1,A26,A34,A33,A32,TOPREAL9:26;
end;
then ( halfline (p,q) ) = B by A11,XBOOLE_0:def 10;
hence thesis by A7,A25,TSEP_1:8;
end;
end;
end;
