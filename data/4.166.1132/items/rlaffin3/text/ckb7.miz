environ
vocabularies ALGSTR_0,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCSDOM,FUNCT_1,FUNCT_2,LMOD_7,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,METRIC_1,MONOID_0,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PRE_TOPC,PROB_1,PRVECT_1,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RFINSEQ,RLAFFIN1,RLSUB_1,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,SEMI_AF1,SETFAM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPS_1,TOPS_2,VALUED_0,VALUED_1,VECTSP_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_0,CARD_1,XREAL_0,REAL_1,FINSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,STRUCT_0,FINSEQ_2,FINSEQOP,RVSUM_1,RLVECT_1,RLVECT_2,RUSUB_4,CONVEX1,RLAFFIN1,COMPLEX1,VALUED_0,METRIC_1,BINOP_2,PRE_TOPC,PCOMPS_1,ALGSTR_0,FUNCSDOM,TOPS_2,RLTOPSP1,EUCLID,VFUNCT_1,FVSUM_1,RLSUB_1,RLVECT_3,RLVECT_5,CARD_3,RCOMP_1,EUCLID_9,VECTSP_1,MATRIX_1,NAT_D,MATRIX_3,MATRIX_6,VECTSP_6,VECTSP_7,MATRIX13,MATRLIN,RLSUB_2,RFINSEQ,TOPMETR,RLAFFIN2,SETFAM_1,PRVECT_1,TOPREAL9,MATRTOP1;
definitions FINSEQ_1,MATRIX13,MATRTOP1,RLTOPSP1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0;
theorems BORSUK_5,CARD_1,CARD_2,CARD_3,CARD_FIN,COMPLEX1,CONVEX1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GOBOARD6,JORDAN2B,JORDAN2C,JORDAN6,LAPLACE,MATRIX_6,MATRIX13,MATRLIN,MATRLIN2,MATRTOP1,MATRTOP2,METRIC_1,METRIZTS,NAT_1,ORDINAL1,PARTFUN1,PCOMPS_1,PRALG_3,PRE_TOPC,RELAT_1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_1,RLSUB_2,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,RVSUM_1,SETFAM_1,SPPOL_1,STIRL2_1,STRUCT_0,TARSKI,TOPGRP_1,TOPMETR,TOPREAL7,TOPREAL9,TOPS_1,TOPS_2,TREAL_1,TSEP_1,URYSOHN1,VECTSP_1,VECTSP_4,VECTSP_7,VECTSP_9,VFUNCT_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,ZFMISC_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes FINSEQ_1,FUNCT_2,TREES_2;
registrations CARD_1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,JORDAN2B,MATRIX13,MATRTOP1,MEMBERED,MONOID_0,NAT_1,NUMBERS,PRE_TOPC,PRVECT_1,REAL_1,REALSET1,RELAT_1,RELSET_1,RLAFFIN1,RLTOPSP1,RLVECT_5,RVSUM_1,STRUCT_0,SUBSET_1,TEX_1,TOPGEN_1,TOPMETR,TOPREAL1,TOPREALC,TOPS_1,VALUED_0,VECTSP_1,VECTSP_9,XBOOLE_0,XREAL_0,XXREAL_0,ZFMISC_1,CKB6;
constructors BINOP_2,CONVEX1,EUCLID_9,FUNCSDOM,FVSUM_1,MATRIX_6,MATRIX13,MATRTOP1,MONOID_0,NAT_D,RANKNULL,RCOMP_1,REAL_1,REALSET1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_2,RLVECT_3,RLVECT_5,RUSUB_5,SEQ_1,TDLAT_3,TOPMETR,TOPREAL9,TOPS_2,VECTSP_7,VFUNCT_1,WELLORD2,SEQ_4;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve n for Nat;
reserve m for Nat;
reserve r for Real;
reserve V for RealLinearSpace;
registration
let n;
cluster ( TOP-REAL n ) ->  add-continuous  Mult-continuous;
coherence
proof
set T = ( TOP-REAL n );
set E = ( Euclid n );
set TE = ( TopSpaceMetr E );
A1: ( the TopStruct of T ) = TE by EUCLID:def 8;
A2: n in ( NAT ) by ORDINAL1:def 12;
thus T is  add-continuous
proof
let x1 being (Point of T);
let x2 being (Point of T);
let V being (Subset of T);
assume that
A3: V is  open
and
A4: ( x1 + x2 ) in V;
reconsider X1 = x1,X2 = x2,X12 = ( x1 + x2 ) as (Point of E) by A1,TOPMETR:12;
reconsider v = V as (Subset of TE) by A1;
V in (the topology of T) by A3,PRE_TOPC:def 2;
then v is  open by A1,PRE_TOPC:def 2;
then consider r being  real number such that A5: r > ( 0 ) and A6: ( Ball (X12,r) ) c= v by A4,TOPMETR:15;
set r2 = ( r / 2 );
reconsider B1 = ( Ball (X1,r2) ),B2 = ( Ball (X2,r2) ) as (Subset of T) by A1,TOPMETR:12;
take B1;
take B2;
thus (((B1 is  open & B2 is  open) & x1 in B1) & x2 in B2) by A2,A5,GOBOARD6:1,GOBOARD6:3,XREAL_1:215;
let x being set;
assume x in ( B1 + B2 );
then x in { ( b1 + b2 ) where b1 is (Element of T),b2 is (Element of T): (b1 in B1 & b2 in B2) } by RUSUB_4:def 9;
then consider b1,b2 being (Element of T) such that A7: x = ( b1 + b2 ) and A8: b1 in B1 and A9: b2 in B2;
reconsider e1 = b1,e2 = b2,e12 = ( b1 + b2 ) as (Point of E) by A1,TOPMETR:12;
reconsider y1 = x1,y2 = x2,c1 = b1,c2 = b2 as (Element of ( REAL n )) by EUCLID:22;
( dist (X2,e2) ) < r2 by A9,METRIC_1:11;
then A10: |. ( y2 - c2 ) .| < r2 by A2,SPPOL_1:5;
( dist (X1,e1) ) < r2 by A8,METRIC_1:11;
then |. ( y1 - c1 ) .| < r2 by A2,SPPOL_1:5;
then A11: ( |. ( y1 - c1 ) .| + |. ( y2 - c2 ) .| ) < ( r2 + r2 ) by A10,XREAL_1:8;
A12: ( ( y1 + y2 ) - ( c1 + c2 ) ) = ( ( y1 + y2 ) + ( - ( c2 + c1 ) ) ) by RVSUM_1:31
.= ( ( y1 + y2 ) + ( ( - c2 ) + ( - c1 ) ) ) by RVSUM_1:26
.= ( ( ( y1 + y2 ) + ( - c2 ) ) + ( - c1 ) ) by RVSUM_1:15
.= ( ( ( y2 + ( - c2 ) ) + y1 ) + ( - c1 ) ) by RVSUM_1:15
.= ( ( y2 + ( - c2 ) ) + ( y1 + ( - c1 ) ) ) by RVSUM_1:15
.= ( ( y2 - c2 ) + ( y1 + ( - c1 ) ) ) by RVSUM_1:31
.= ( ( y2 - c2 ) + ( y1 - c1 ) ) by RVSUM_1:31;
A13: ( dist (X12,e12) ) = |. ( ( y1 - c1 ) + ( y2 - c2 ) ) .| by A2,A12,SPPOL_1:5;
|. ( ( y1 - c1 ) + ( y2 - c2 ) ) .| <= ( |. ( y1 - c1 ) .| + |. ( y2 - c2 ) .| ) by EUCLID:12;
then ( dist (X12,e12) ) < r by A11,A13,XXREAL_0:2;
then e12 in ( Ball (X12,r) ) by METRIC_1:11;
hence x in V by A6,A7;
end;

let a being Real;
let x being (Point of T);
let V being (Subset of T);
assume that
A14: V is  open
and
A15: ( a * x ) in V;
reconsider X = x,AX = ( a * x ) as (Point of E) by A1,TOPMETR:12;
reconsider v = V as (Subset of TE) by A1;
V in (the topology of T) by A14,PRE_TOPC:def 2;
then v is  open by A1,PRE_TOPC:def 2;
then consider r being  real number such that A16: r > ( 0 ) and A17: ( Ball (AX,r) ) c= v by A15,TOPMETR:15;
set r2 = ( r / 2 );
A18: r2 > ( 0 ) by A16,XREAL_1:215;
then A19: ( r2 / 2 ) > ( 0 ) by XREAL_1:215;
(ex m being  positive Real st ( ( abs a ) * m ) < r2)
proof
per cases  by COMPLEX1:46;
suppose ( abs a ) = ( 0 );

then ( ( abs a ) * 1 ) < r2 by A16,XREAL_1:215;
hence thesis;
end;
suppose A20: ( abs a ) > ( 0 );

then reconsider m = ( ( r2 / 2 ) / ( abs a ) ) as  positive Real by A19,XREAL_1:139;
take m;
( r2 / 2 ) < r2 by A16,XREAL_1:215,XREAL_1:216;
hence thesis by A20,XCMPLX_1:87;
end;
end;
then consider m being  positive Real such that A21: ( ( abs a ) * m ) < r2;
reconsider B = ( Ball (X,m) ) as (Subset of T) by A1,TOPMETR:12;
reconsider nr = ( r2 / ( |. x .| + m ) ) as  positive Real by A18,XREAL_1:139;
take nr;
take B;
thus (B is  open & x in B) by A2,GOBOARD6:1,GOBOARD6:3;
let s being Real;
assume A22: ( abs ( s - a ) ) < nr;
let z being set;
assume z in ( s * B );
then z in { ( s * b ) where b is (Element of T): b in B } by CONVEX1:def 1;
then consider b being (Element of T) such that A23: z = ( s * b ) and A24: b in B;
reconsider e = b,se = ( s * b ) as (Point of E) by A1,TOPMETR:12;
reconsider y = x,c = b as (Element of ( REAL n )) by EUCLID:22;
reconsider Y = y,C = c as (Element of ( n -tuples_on ( REAL ) )) by EUCLID:def 1;
c = ( C - ( n |-> ( 0 ) ) ) by RVSUM_1:32
.= ( C - ( Y - Y ) ) by RVSUM_1:37
.= ( ( C - Y ) + Y ) by RVSUM_1:41;
then A25: |. c .| <= ( |. ( c - y ) .| + |. y .| ) by EUCLID:12;
A26: ( dist (X,e) ) < m by A24,METRIC_1:11;
then |. ( c - y ) .| < m by A2,SPPOL_1:5;
then ( |. ( c - y ) .| + |. y .| ) <= ( m + |. x .| ) by XREAL_1:6;
then |. c .| <= ( m + |. x .| ) by A25,XXREAL_0:2;
then A27: ( nr * |. c .| ) <= ( nr * ( m + |. x .| ) ) by XREAL_1:64;
( ( a * y ) + ( - ( a * c ) ) ) = ( ( a * y ) + ( ( - 1 ) * ( a * c ) ) ) by RVSUM_1:54
.= ( ( a * y ) + ( ( ( - 1 ) * a ) * c ) ) by RVSUM_1:49
.= ( ( a * y ) + ( a * ( ( - 1 ) * c ) ) ) by RVSUM_1:49
.= ( a * ( y + ( ( - 1 ) * c ) ) ) by RVSUM_1:51
.= ( a * ( y + ( - c ) ) ) by RVSUM_1:54
.= ( a * ( y - c ) ) by RVSUM_1:31;
then A28: |. ( ( a * y ) + ( - ( a * c ) ) ) .| = ( ( abs a ) * |. ( y - c ) .| ) by EUCLID:11;
(( abs a ) >= ( 0 ) & |. ( y - c ) .| = ( dist (X,e) )) by A2,COMPLEX1:46,SPPOL_1:5;
then |. ( ( a * y ) + ( - ( a * c ) ) ) .| <= ( ( abs a ) * m ) by A26,A28,XREAL_1:64;
then A29: |. ( ( a * y ) + ( - ( a * c ) ) ) .| < r2 by A21,XXREAL_0:2;
( ( a * c ) + ( - ( s * c ) ) ) = ( ( a * c ) + ( ( - 1 ) * ( s * c ) ) ) by RVSUM_1:54
.= ( ( a * c ) + ( ( ( - 1 ) * s ) * c ) ) by RVSUM_1:49
.= ( ( a + ( ( - 1 ) * s ) ) * c ) by RVSUM_1:50;
then |. ( ( a * c ) + ( - ( s * c ) ) ) .| = ( ( abs ( a - s ) ) * |. c .| ) by EUCLID:11
.= ( ( abs ( - ( a - s ) ) ) * |. c .| ) by COMPLEX1:52;
then (( nr * ( |. x .| + m ) ) = r2 & |. ( ( a * c ) + ( - ( s * c ) ) ) .| <= ( nr * |. c .| )) by A22,XCMPLX_1:87,XREAL_1:64;
then |. ( ( a * c ) + ( - ( s * c ) ) ) .| <= r2 by A27,XXREAL_0:2;
then A30: (|. ( ( ( a * y ) + ( - ( a * c ) ) ) + ( ( a * c ) + ( - ( s * c ) ) ) ) .| <= ( |. ( ( a * y ) + ( - ( a * c ) ) ) .| + |. ( ( a * c ) + ( - ( s * c ) ) ) .| ) & ( |. ( ( a * y ) + ( - ( a * c ) ) ) .| + |. ( ( a * c ) + ( - ( s * c ) ) ) .| ) < ( r2 + r2 )) by A29,EUCLID:12,XREAL_1:8;
( ( a * y ) - ( s * c ) ) = ( ( ( a * Y ) - ( n |-> ( 0 ) ) ) - ( s * C ) ) by RVSUM_1:32
.= ( ( ( a * y ) - ( ( a * C ) - ( a * C ) ) ) - ( s * c ) ) by RVSUM_1:37
.= ( ( ( ( a * y ) - ( a * C ) ) + ( a * C ) ) - ( s * c ) ) by RVSUM_1:41
.= ( ( ( ( a * y ) - ( a * C ) ) + ( a * C ) ) + ( - ( s * c ) ) ) by RVSUM_1:31
.= ( ( ( a * y ) - ( a * C ) ) + ( ( a * c ) + ( - ( s * c ) ) ) ) by RVSUM_1:15
.= ( ( ( a * y ) + ( - ( a * c ) ) ) + ( ( a * c ) + ( - ( s * c ) ) ) ) by RVSUM_1:31;
then ( dist (AX,se) ) = |. ( ( ( a * y ) + ( - ( a * c ) ) ) + ( ( a * c ) + ( - ( s * c ) ) ) ) .| by A2,SPPOL_1:5;
then ( dist (AX,se) ) < r by A30,XXREAL_0:2;
then se in ( Ball (AX,r) ) by METRIC_1:11;
hence z in V by A17,A23;
end;
end;
