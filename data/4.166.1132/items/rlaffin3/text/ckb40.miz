environ
vocabularies ALGSTR_0,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCSDOM,FUNCT_1,FUNCT_2,LMOD_7,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,METRIC_1,MONOID_0,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PRE_TOPC,PROB_1,PRVECT_1,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RFINSEQ,RLAFFIN1,RLSUB_1,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,SEMI_AF1,SETFAM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPS_1,TOPS_2,VALUED_0,VALUED_1,VECTSP_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_0,CARD_1,XREAL_0,REAL_1,FINSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,STRUCT_0,FINSEQ_2,FINSEQOP,RVSUM_1,RLVECT_1,RLVECT_2,RUSUB_4,CONVEX1,RLAFFIN1,COMPLEX1,VALUED_0,METRIC_1,BINOP_2,PRE_TOPC,PCOMPS_1,ALGSTR_0,FUNCSDOM,TOPS_2,RLTOPSP1,EUCLID,VFUNCT_1,FVSUM_1,RLSUB_1,RLVECT_3,RLVECT_5,CARD_3,RCOMP_1,EUCLID_9,VECTSP_1,MATRIX_1,NAT_D,MATRIX_3,MATRIX_6,VECTSP_6,VECTSP_7,MATRIX13,MATRLIN,RLSUB_2,RFINSEQ,TOPMETR,RLAFFIN2,SETFAM_1,PRVECT_1,TOPREAL9,MATRTOP1,CKB23,CKB24,CKB28;
definitions FINSEQ_1,MATRIX13,MATRTOP1,RLTOPSP1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0,CKB23,CKB28;
theorems BORSUK_5,CARD_1,CARD_2,CARD_3,CARD_FIN,COMPLEX1,CONVEX1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GOBOARD6,JORDAN2B,JORDAN2C,JORDAN6,LAPLACE,MATRIX_6,MATRIX13,MATRLIN,MATRLIN2,MATRTOP1,MATRTOP2,METRIC_1,METRIZTS,NAT_1,ORDINAL1,PARTFUN1,PCOMPS_1,PRALG_3,PRE_TOPC,RELAT_1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_1,RLSUB_2,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,RVSUM_1,SETFAM_1,SPPOL_1,STIRL2_1,STRUCT_0,TARSKI,TOPGRP_1,TOPMETR,TOPREAL7,TOPREAL9,TOPS_1,TOPS_2,TREAL_1,TSEP_1,URYSOHN1,VECTSP_1,VECTSP_4,VECTSP_7,VECTSP_9,VFUNCT_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,ZFMISC_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39;
schemes FINSEQ_1,FUNCT_2,TREES_2;
registrations CARD_1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,JORDAN2B,MATRIX13,MATRTOP1,MEMBERED,MONOID_0,NAT_1,NUMBERS,PRE_TOPC,PRVECT_1,REAL_1,REALSET1,RELAT_1,RELSET_1,RLAFFIN1,RLTOPSP1,RLVECT_5,RVSUM_1,STRUCT_0,SUBSET_1,TEX_1,TOPGEN_1,TOPMETR,TOPREAL1,TOPREALC,TOPS_1,VALUED_0,VECTSP_1,VECTSP_9,XBOOLE_0,XREAL_0,XXREAL_0,ZFMISC_1,CKB6,CKB7,CKB8,CKB18,CKB20,CKB22;
constructors BINOP_2,CONVEX1,EUCLID_9,FUNCSDOM,FVSUM_1,MATRIX_6,MATRIX13,MATRTOP1,MONOID_0,NAT_D,RANKNULL,RCOMP_1,REAL_1,REALSET1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_2,RLVECT_3,RLVECT_5,RUSUB_5,SEQ_1,TDLAT_3,TOPMETR,TOPREAL9,TOPS_2,VECTSP_7,VFUNCT_1,WELLORD2,SEQ_4,CKB23,CKB24,CKB28;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve n for Nat;
reserve k for Nat;
reserve pn for (Point of ( TOP-REAL n ));
theorem
Lm6: (for n holds (for k holds (k <= n implies (for A being non empty  finite  affinely-independent (Subset of ( TOP-REAL n )) holds (( card A ) = ( n + 1 ) implies (for E being (Enumeration of A) holds (( E . ( len E ) ) = ( 0* n ) implies (for P being (Subset of ( TOP-REAL k )) holds (for B being (Subset of ( TOP-REAL n )) holds (B = { pn: ( ( pn |-- E ) | k ) in P } implies (P is  open iff B is  open)))))))))))
proof
let n being Nat,k being Nat;
assume that
A1: k <= n;
set V = ( n -VectSp_over ( F_Real ) );
set TRn = ( TOP-REAL n );
let A being non empty  finite  affinely-independent (Subset of TRn);
reconsider A1 = A as (Subset of V) by CKB13:1;
set TRk = ( TOP-REAL k );
set cA = ( ( card A ) -' 1 );
assume A2: ( card A ) = ( n + 1 );
( dim TRn ) = n by CKB9:1;
then A3: ( Affin A ) = ( [#] TRn ) by A2,CKB11:1;
( 0* n ) = ( 0. TRn ) by EUCLID:66;
then A4: ( Lin ( A \ { ( 0* n ) } ) ) = ( Lin A ) by CKB4:1;
let E being (Enumeration of A);
reconsider e = E as (FinSequence of V) by CKB13:1;
A5: ( rng E ) = A by CKB23:def 1;
then A6: ( len E ) = ( card A ) by FINSEQ_4:62;
n < ( n + 1 ) by NAT_1:13;
then reconsider M = ( FinS2MX ( e | n ) ) as (Matrix of n,( F_Real )) by A2,A6,FINSEQ_1:59;
A7: ( ( card A ) - 1 ) = cA by NAT_1:14,XREAL_1:233;
set MT = ( Mx2Tran M );
assume A8: ( E . ( len E ) ) = ( 0* n );
let P being (Subset of TRk);
let B being (Subset of TRn);
set PP = { v where v is (Element of TRn): ( v | k ) in P };
PP c= (the carrier of TRn)
proof
let x being set;
assume x in PP;
then (ex v being (Element of TRn) st (x = v & ( v | k ) in P));
hence thesis;
end;
then reconsider PP as (Subset of TRn);
assume A9: B = { v where v is (Element of TRn): ( ( v |-- E ) | k ) in P };
( card A ) >= 1 by NAT_1:14;
then ( len E ) in ( dom E ) by A6,FINSEQ_3:25;
then A10: ( 0* n ) in A by A8,A5,FUNCT_1:def 3;
then A11: (( [#] ( Lin ( A \ { ( 0* n ) } ) ) ) = ( [#] ( Lin ( A1 \ { ( 0* n ) } ) ) ) & ( rng ( E | cA ) ) = ( A \ { ( 0* n ) } )) by A8,CKB36:1,MATRTOP2:6;
( [#] ( Lin A ) ) = ( [#] ( Lin A1 ) ) by MATRTOP2:6;
then A12: ( Lin ( lines M ) ) = ( Lin A1 ) by A2,A7,A4,A11,VECTSP_4:29;
then reconsider BE = ( E | cA ) as (OrdBasis of ( Lin ( lines M ) )) by A8,A10,CKB36:1;
( rng BE ) is (Basis of ( Lin ( lines M ) )) by MATRLIN:def 2;
then ( rng BE ) is  linearly-independent by VECTSP_7:def 3;
then A13: ( lines M ) is  linearly-independent by A2,A7,VECTSP_9:11;
BE = M by A2,A7;
then M is  one-to-one by MATRLIN:def 2;
then A14: ( the_rank_of M ) = n by A13,MATRIX13:121;
then ( Det M ) <> ( 0. ( F_Real ) ) by MATRIX13:83;
then A15: M is  invertible by LAPLACE:34;
MT is  onto by A14,MATRTOP1:41;
then A16: ( rng MT ) = (the carrier of TRn) by FUNCT_2:def 3;
A17: B c= ( MT .: PP )
proof
let x being set;
assume x in B;
then consider v being (Element of TRn) such that A18: x = v and A19: ( ( v |-- E ) | k ) in P by A9;
consider f being set such that A20: (f in ( dom MT ) & ( MT . f ) = v) by A16,FUNCT_1:def 3;
( len ( v |-- E ) ) = ( n + 1 ) by A2,CKB29:1;
then ( len ( ( v |-- E ) | n ) ) = n by FINSEQ_1:59,NAT_1:11;
then ( ( v |-- E ) | n ) is (Element of ( n -tuples_on ( REAL ) )) by FINSEQ_2:92;
then ( ( v |-- E ) | n ) in ( n -tuples_on ( REAL ) );
then ( ( v |-- E ) | n ) in ( REAL n ) by EUCLID:def 1;
then A21: ( ( v |-- E ) | n ) is (Element of TRn) by EUCLID:22;
reconsider w = v as (Element of ( Lin ( lines M ) )) by A2,A7,A3,A10,A4,A11,CKB17:1;
A22: ( ( ( v |-- E ) | n ) | k ) = ( ( v |-- E ) | k ) by A1,FINSEQ_1:82;
f = ( w |-- BE ) by A2,A7,A20,MATRTOP2:17
.= ( ( w |-- E ) | cA ) by A8,A10,A12,CKB38:1;
then f in PP by A2,A7,A19,A21,A22;
hence thesis by A18,A20,FUNCT_1:def 6;
end;
( MT .: PP ) c= B
proof
let y being set;
assume y in ( MT .: PP );
then consider x being set such that x in ( dom MT ) and A23: x in PP and A24: ( MT . x ) = y by FUNCT_1:def 6;
consider f being (Element of TRn) such that A25: (x = f & ( f | k ) in P) by A23;
reconsider MTf = ( MT . f ) as (Element of ( Lin ( lines M ) )) by A2,A7,A3,A10,A4,A11,CKB17:1;
f = ( MTf |-- BE ) by A2,A7,MATRTOP2:17
.= ( ( MTf |-- E ) | cA ) by A8,A10,A12,CKB38:1;
then ( f | k ) = ( ( MTf |-- E ) | k ) by A1,A2,A7,FINSEQ_1:82;
hence thesis by A9,A24,A25;
end;
then A26: ( MT .: PP ) = B by A17,XBOOLE_0:def 10;
(P is  open iff PP is  open) by A1,CKB12:1;
hence thesis by A15,A26,TOPGRP_1:25;
end;
