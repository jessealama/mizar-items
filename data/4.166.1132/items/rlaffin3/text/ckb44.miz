environ
vocabularies ALGSTR_0,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCSDOM,FUNCT_1,FUNCT_2,LMOD_7,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,METRIC_1,MONOID_0,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PRE_TOPC,PROB_1,PRVECT_1,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RFINSEQ,RLAFFIN1,RLSUB_1,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,SEMI_AF1,SETFAM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPS_1,TOPS_2,VALUED_0,VALUED_1,VECTSP_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_0,CARD_1,XREAL_0,REAL_1,FINSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,STRUCT_0,FINSEQ_2,FINSEQOP,RVSUM_1,RLVECT_1,RLVECT_2,RUSUB_4,CONVEX1,RLAFFIN1,COMPLEX1,VALUED_0,METRIC_1,BINOP_2,PRE_TOPC,PCOMPS_1,ALGSTR_0,FUNCSDOM,TOPS_2,RLTOPSP1,EUCLID,VFUNCT_1,FVSUM_1,RLSUB_1,RLVECT_3,RLVECT_5,CARD_3,RCOMP_1,EUCLID_9,VECTSP_1,MATRIX_1,NAT_D,MATRIX_3,MATRIX_6,VECTSP_6,VECTSP_7,MATRIX13,MATRLIN,RLSUB_2,RFINSEQ,TOPMETR,RLAFFIN2,SETFAM_1,PRVECT_1,TOPREAL9,MATRTOP1,CKB23,CKB24,CKB28;
definitions FINSEQ_1,MATRIX13,MATRTOP1,RLTOPSP1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0,CKB23,CKB28;
theorems BORSUK_5,CARD_1,CARD_2,CARD_3,CARD_FIN,COMPLEX1,CONVEX1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GOBOARD6,JORDAN2B,JORDAN2C,JORDAN6,LAPLACE,MATRIX_6,MATRIX13,MATRLIN,MATRLIN2,MATRTOP1,MATRTOP2,METRIC_1,METRIZTS,NAT_1,ORDINAL1,PARTFUN1,PCOMPS_1,PRALG_3,PRE_TOPC,RELAT_1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_1,RLSUB_2,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,RVSUM_1,SETFAM_1,SPPOL_1,STIRL2_1,STRUCT_0,TARSKI,TOPGRP_1,TOPMETR,TOPREAL7,TOPREAL9,TOPS_1,TOPS_2,TREAL_1,TSEP_1,URYSOHN1,VECTSP_1,VECTSP_4,VECTSP_7,VECTSP_9,VFUNCT_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,ZFMISC_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes FINSEQ_1,FUNCT_2,TREES_2;
registrations CARD_1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,JORDAN2B,MATRIX13,MATRTOP1,MEMBERED,MONOID_0,NAT_1,NUMBERS,PRE_TOPC,PRVECT_1,REAL_1,REALSET1,RELAT_1,RELSET_1,RLAFFIN1,RLTOPSP1,RLVECT_5,RVSUM_1,STRUCT_0,SUBSET_1,TEX_1,TOPGEN_1,TOPMETR,TOPREAL1,TOPREALC,TOPS_1,VALUED_0,VECTSP_1,VECTSP_9,XBOOLE_0,XREAL_0,XXREAL_0,ZFMISC_1,CKB6,CKB7,CKB8,CKB18,CKB20,CKB22;
constructors BINOP_2,CONVEX1,EUCLID_9,FUNCSDOM,FVSUM_1,MATRIX_6,MATRIX13,MATRTOP1,MONOID_0,NAT_D,RANKNULL,RCOMP_1,REAL_1,REALSET1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_2,RLVECT_3,RLVECT_5,RUSUB_5,SEQ_1,TDLAT_3,TOPMETR,TOPREAL9,TOPS_2,VECTSP_7,VFUNCT_1,WELLORD2,SEQ_4,CKB23,CKB24,CKB28;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve n for Nat;
registration
let n;
cluster  Affine ->  closed for (Subset of ( TOP-REAL n ));
coherence
proof
set TRn = ( TOP-REAL n );
let A being (Subset of TRn);
assume A is  Affine;
then A1: ( Affin A ) = A by RLAFFIN1:50;
per cases ;
suppose A is  empty;

hence thesis;
end;
suppose A2: A is non empty;

( {} TRn ) c= A by XBOOLE_1:2;
then consider Ia being  affinely-independent (Subset of TRn) such that ( {} ) c= Ia and Ia c= A and A3: ( Affin Ia ) = A by A1,RLAFFIN1:60;
consider IA being  affinely-independent (Subset of TRn) such that A4: Ia c= IA and IA c= ( [#] TRn ) and A5: ( Affin IA ) = ( Affin ( [#] TRn ) ) by RLAFFIN1:60;
reconsider IB = ( IA \ Ia ) as  affinely-independent (Subset of TRn) by RLAFFIN1:43,XBOOLE_1:36;
set cIB = ( card IB );
A6: ( dim TRn ) = n by CKB9:1;
then A7: cIB <= ( n + 1 ) by CKB10:1;
( [#] TRn ) is  Affine by RUSUB_4:22;
then A8: ( Affin ( [#] TRn ) ) = ( [#] TRn ) by RLAFFIN1:50;
then A9: ( card IA ) = ( n + 1 ) by A5,A6,CKB11:1;
Ia is non empty by A2,A3;
then IA meets Ia by A4,XBOOLE_1:67;
then IA <> IB by XBOOLE_1:83;
then cIB <> ( n + 1 ) by A9,CARD_FIN:1,XBOOLE_1:36;
then A10: cIB < ( n + 1 ) by A7,XXREAL_0:1;
then A11: cIB < ( card IA ) by A5,A8,A6,CKB11:1;
set TRc = ( TOP-REAL cIB );
A12: ( 0* cIB ) = ( 0. TRc ) by EUCLID:66;
then ( cIB |-> ( 0 ) ) is (Element of TRc) by EUCLID:def 4;
then reconsider P = { ( cIB |-> ( 0 ) ) } as (Subset of TRc) by ZFMISC_1:31;
( 0* cIB ) = ( cIB |-> ( 0 ) ) by EUCLID:def 4;
then A13: P is  closed by A12,PCOMPS_1:7;
set P1 = the (Enumeration of Ia);
A14: ( rng P1 ) = Ia by CKB23:def 1;
set P2 = the (Enumeration of IB);
set P12 = ( P2 ^ P1 );
A15: ( rng P2 ) = IB by CKB23:def 1;
Ia misses IB by XBOOLE_1:79;
then A16: P12 is  one-to-one by A14,A15,FINSEQ_3:91;
( Ia \/ IB ) = ( Ia \/ IA ) by XBOOLE_1:39
.= IA by A4,XBOOLE_1:12;
then ( rng P12 ) = IA by A14,A15,FINSEQ_1:31;
then reconsider P12 as (Enumeration of IA) by A16,CKB23:def 1;
( len P2 ) = ( card IB ) by A15,FINSEQ_4:62;
then A17: ( P12 .: ( Seg cIB ) ) = ( P12 .: ( dom P2 ) ) by FINSEQ_1:def 3
.= ( rng ( P12 | ( dom P2 ) ) ) by RELAT_1:115
.= ( rng P2 ) by FINSEQ_1:21
.= IB by CKB23:def 1;
set B = { v where v is (Element of TRn): ( ( v |-- P12 ) | cIB ) in P };
A18: ( IA \ IB ) = ( IA /\ Ia ) by XBOOLE_1:48
.= Ia by A4,XBOOLE_1:28;
A19: ( Affin A ) c= B
proof
let x being set;
assume A20: x in ( Affin A );
then reconsider v = x as (Element of TRn);
set vP = ( v |-- P12 );
A21: vP = ( ( vP | cIB ) ^ ( vP /^ cIB ) ) by RFINSEQ:8;
vP = ( ( cIB |-> ( 0 ) ) ^ ( vP /^ cIB ) ) by A1,A3,A5,A8,A18,A17,A11,A20,CKB35:1;
then ( vP | cIB ) = ( cIB |-> ( 0 ) ) by A21,FINSEQ_1:33;
then ( vP | cIB ) in P by TARSKI:def 1;
hence thesis;
end;
A22: cIB <= n by A10,NAT_1:13;
B c= ( Affin A )
proof
let x being set;
assume x in B;
then consider v being (Element of TRn) such that A23: x = v and A24: ( ( v |-- P12 ) | cIB ) in P;
set vP = ( v |-- P12 );
( vP | cIB ) = ( cIB |-> ( 0 ) ) by A24,TARSKI:def 1;
then vP = ( ( cIB |-> ( 0 ) ) ^ ( vP /^ cIB ) ) by RFINSEQ:8;
hence thesis by A1,A3,A5,A8,A18,A17,A11,A23,CKB35:1;
end;
then B = ( Affin A ) by A19,XBOOLE_0:def 10;
hence thesis by A1,A9,A22,A13,CKB43:1;
end;
end;
end;
