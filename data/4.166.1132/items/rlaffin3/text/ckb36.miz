environ
vocabularies ALGSTR_0,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCSDOM,FUNCT_1,FUNCT_2,LMOD_7,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,METRIC_1,MONOID_0,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PRE_TOPC,PROB_1,PRVECT_1,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RFINSEQ,RLAFFIN1,RLSUB_1,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,SEMI_AF1,SETFAM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPS_1,TOPS_2,VALUED_0,VALUED_1,VECTSP_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_0,CARD_1,XREAL_0,REAL_1,FINSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,STRUCT_0,FINSEQ_2,FINSEQOP,RVSUM_1,RLVECT_1,RLVECT_2,RUSUB_4,CONVEX1,RLAFFIN1,COMPLEX1,VALUED_0,METRIC_1,BINOP_2,PRE_TOPC,PCOMPS_1,ALGSTR_0,FUNCSDOM,TOPS_2,RLTOPSP1,EUCLID,VFUNCT_1,FVSUM_1,RLSUB_1,RLVECT_3,RLVECT_5,CARD_3,RCOMP_1,EUCLID_9,VECTSP_1,MATRIX_1,NAT_D,MATRIX_3,MATRIX_6,VECTSP_6,VECTSP_7,MATRIX13,MATRLIN,RLSUB_2,RFINSEQ,TOPMETR,RLAFFIN2,SETFAM_1,PRVECT_1,TOPREAL9,MATRTOP1,CKB23,CKB24,CKB28;
definitions FINSEQ_1,MATRIX13,MATRTOP1,RLTOPSP1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0,CKB23,CKB28;
theorems BORSUK_5,CARD_1,CARD_2,CARD_3,CARD_FIN,COMPLEX1,CONVEX1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GOBOARD6,JORDAN2B,JORDAN2C,JORDAN6,LAPLACE,MATRIX_6,MATRIX13,MATRLIN,MATRLIN2,MATRTOP1,MATRTOP2,METRIC_1,METRIZTS,NAT_1,ORDINAL1,PARTFUN1,PCOMPS_1,PRALG_3,PRE_TOPC,RELAT_1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_1,RLSUB_2,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,RVSUM_1,SETFAM_1,SPPOL_1,STIRL2_1,STRUCT_0,TARSKI,TOPGRP_1,TOPMETR,TOPREAL7,TOPREAL9,TOPS_1,TOPS_2,TREAL_1,TSEP_1,URYSOHN1,VECTSP_1,VECTSP_4,VECTSP_7,VECTSP_9,VFUNCT_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,ZFMISC_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35;
schemes FINSEQ_1,FUNCT_2,TREES_2;
registrations CARD_1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,JORDAN2B,MATRIX13,MATRTOP1,MEMBERED,MONOID_0,NAT_1,NUMBERS,PRE_TOPC,PRVECT_1,REAL_1,REALSET1,RELAT_1,RELSET_1,RLAFFIN1,RLTOPSP1,RLVECT_5,RVSUM_1,STRUCT_0,SUBSET_1,TEX_1,TOPGEN_1,TOPMETR,TOPREAL1,TOPREALC,TOPS_1,VALUED_0,VECTSP_1,VECTSP_9,XBOOLE_0,XREAL_0,XXREAL_0,ZFMISC_1,CKB6,CKB7,CKB8,CKB18,CKB20,CKB22;
constructors BINOP_2,CONVEX1,EUCLID_9,FUNCSDOM,FVSUM_1,MATRIX_6,MATRIX13,MATRTOP1,MONOID_0,NAT_D,RANKNULL,RCOMP_1,REAL_1,REALSET1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_2,RLVECT_3,RLVECT_5,RUSUB_5,SEQ_1,TDLAT_3,TOPMETR,TOPREAL9,TOPS_2,VECTSP_7,VFUNCT_1,WELLORD2,SEQ_4,CKB23,CKB24,CKB28;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve n for Nat;
reserve Affn for  affinely-independent (Subset of ( TOP-REAL n ));
reserve EN for (Enumeration of Affn);
theorem
Th23: ((( 0* n ) in Affn & ( EN . ( len EN ) ) = ( 0* n )) implies (( rng ( EN | ( ( card Affn ) -' 1 ) ) ) = ( Affn \ { ( 0* n ) } ) & (for A being (Subset of ( n -VectSp_over ( F_Real ) )) holds (Affn = A implies ( EN | ( ( card Affn ) -' 1 ) ) is (OrdBasis of ( Lin A ))))))
proof
set A = Affn;
set E = EN;
assume that
A1: ( 0* n ) in A
and
A2: ( E . ( len E ) ) = ( 0* n );
A3: ( card A ) >= 1 by A1,NAT_1:14;
set cA = ( ( card A ) -' 1 );
A4: ( rng E ) = A by CKB23:def 1;
cA = ( ( card A ) - 1 ) by A1,NAT_1:14,XREAL_1:233;
then A5: ( len E ) = ( cA + 1 ) by A4,FINSEQ_4:62;
A6: ( len E ) = ( card A ) by A4,FINSEQ_4:62;
A7: (not ( 0* n ) in ( rng ( E | cA ) ))
proof
A8: ( len E ) in ( dom E ) by A6,A3,FINSEQ_3:25;
assume ( 0* n ) in ( rng ( E | cA ) );
then consider x being set such that A9: x in ( dom ( E | cA ) ) and A10: ( ( E | cA ) . x ) = ( 0* n ) by FUNCT_1:def 3;
A11: x in ( Seg cA ) by A9,RELAT_1:57;
(x in ( dom E ) & ( ( E | cA ) . x ) = ( E . x )) by A9,FUNCT_1:47,RELAT_1:57;
then x = ( cA + 1 ) by A2,A5,A10,A8,FUNCT_1:def 4;
then ( cA + 1 ) <= cA by A11,FINSEQ_1:1;
hence thesis by NAT_1:13;
end;
E = ( ( E | cA ) ^ <* ( E . ( len E ) ) *> ) by A5,FINSEQ_3:55;
then A12: A = ( ( rng ( E | cA ) ) \/ ( rng <* ( E . ( len E ) ) *> ) ) by A4,FINSEQ_1:31
.= ( ( rng ( E | cA ) ) \/ { ( 0* n ) } ) by A2,FINSEQ_1:38;
hence A13: ( A \ { ( 0* n ) } ) = ( rng ( E | cA ) ) by A7,ZFMISC_1:117;
let A1 being (Subset of ( n -VectSp_over ( F_Real ) ));
assume that
A14: A = A1;
A1 c= ( [#] ( Lin A1 ) )
proof
let x being set;
assume x in A1;
then x in ( Lin A1 ) by VECTSP_7:8;
hence thesis by STRUCT_0:def 5;
end;
then reconsider e = E as (FinSequence of ( Lin A1 )) by A4,A14,FINSEQ_1:def 4;
( 0* n ) = ( 0. ( TOP-REAL n ) ) by EUCLID:66;
then ( A \ { ( 0* n ) } ) is  linearly-independent by A1,RLAFFIN1:46;
then ( A1 \ { ( 0* n ) } ) is  linearly-independent by A14,MATRTOP2:7;
then A15: ( rng ( e | cA ) ) is  linearly-independent by A14,A13,VECTSP_9:12;
( [#] ( Lin A1 ) ) = ( [#] ( Lin A ) ) by A14,MATRTOP2:6
.= ( [#] ( Lin ( A \ { ( 0. ( TOP-REAL n ) ) } ) ) ) by CKB4:1
.= ( [#] ( Lin ( A \ { ( 0* n ) } ) ) ) by EUCLID:66
.= ( [#] ( Lin ( A1 \ { ( 0* n ) } ) ) ) by A14,MATRTOP2:6;
then ( Lin A1 ) = ( Lin ( A1 \ { ( 0* n ) } ) ) by VECTSP_4:29
.= ( Lin ( rng ( e | cA ) ) ) by A12,A7,A14,VECTSP_9:17,ZFMISC_1:117;
then (( e | cA ) is  one-to-one & ( rng ( e | cA ) ) is (Basis of ( Lin A1 ))) by A15,FUNCT_1:52,VECTSP_7:def 3;
hence thesis by MATRLIN:def 2;
end;
