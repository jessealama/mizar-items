environ
vocabularies ALGSTR_0,AOFA_I00,ARYTM_1,ARYTM_3,CARD_1,CARD_3,CLASSES1,COMPLEX1,CONVEX1,EUCLID,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_4,FINSET_1,FUNCOP_1,FUNCSDOM,FUNCT_1,FUNCT_2,LMOD_7,MATRIX_1,MATRIX_3,MATRIX13,MATRLIN,MATRLIN2,MESFUNC1,METRIC_1,MONOID_0,NAT_1,NUMBERS,ORDINAL1,ORDINAL2,ORDINAL4,PARTFUN1,PCOMPS_1,PRE_TOPC,PROB_1,PRVECT_1,QC_LANG1,RCOMP_1,REAL_1,RELAT_1,RFINSEQ,RLAFFIN1,RLSUB_1,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,SEMI_AF1,SETFAM_1,STRUCT_0,SUBSET_1,SUPINF_2,TARSKI,TOPMETR,TOPS_1,TOPS_2,VALUED_0,VALUED_1,VECTSP_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_1,ZFMISC_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ZFMISC_1,ORDINAL1,NUMBERS,NAT_1,XXREAL_0,CARD_1,XREAL_0,REAL_1,FINSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FUNCOP_1,STRUCT_0,FINSEQ_2,FINSEQOP,RVSUM_1,RLVECT_1,RLVECT_2,RUSUB_4,CONVEX1,RLAFFIN1,COMPLEX1,VALUED_0,METRIC_1,BINOP_2,PRE_TOPC,PCOMPS_1,ALGSTR_0,FUNCSDOM,TOPS_2,RLTOPSP1,EUCLID,VFUNCT_1,FVSUM_1,RLSUB_1,RLVECT_3,RLVECT_5,CARD_3,RCOMP_1,EUCLID_9,VECTSP_1,MATRIX_1,NAT_D,MATRIX_3,MATRIX_6,VECTSP_6,VECTSP_7,MATRIX13,MATRLIN,RLSUB_2,RFINSEQ,TOPMETR,RLAFFIN2,SETFAM_1,PRVECT_1,TOPREAL9,MATRTOP1;
definitions FINSEQ_1,MATRIX13,MATRTOP1,RLTOPSP1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0;
theorems BORSUK_5,CARD_1,CARD_2,CARD_3,CARD_FIN,COMPLEX1,CONVEX1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FUNCOP_1,FUNCT_1,FUNCT_2,FVSUM_1,GOBOARD6,JORDAN2B,JORDAN2C,JORDAN6,LAPLACE,MATRIX_6,MATRIX13,MATRLIN,MATRLIN2,MATRTOP1,MATRTOP2,METRIC_1,METRIZTS,NAT_1,ORDINAL1,PARTFUN1,PCOMPS_1,PRALG_3,PRE_TOPC,RELAT_1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_1,RLSUB_2,RLTOPSP1,RLVECT_1,RLVECT_2,RLVECT_3,RLVECT_5,RUSUB_4,RVSUM_1,SETFAM_1,SPPOL_1,STIRL2_1,STRUCT_0,TARSKI,TOPGRP_1,TOPMETR,TOPREAL7,TOPREAL9,TOPS_1,TOPS_2,TREAL_1,TSEP_1,URYSOHN1,VECTSP_1,VECTSP_4,VECTSP_7,VECTSP_9,VFUNCT_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_0,XREAL_1,XXREAL_0,XXREAL_1,ZFMISC_1,NAT_D,CKB1,CKB2,CKB3,CKB4,CKB5,CKB9,CKB10,CKB11;
schemes FINSEQ_1,FUNCT_2,TREES_2;
registrations CARD_1,EUCLID,EUCLID_7,EUCLID_9,FINSEQ_1,FINSEQ_2,FINSET_1,FUNCT_1,JORDAN2B,MATRIX13,MATRTOP1,MEMBERED,MONOID_0,NAT_1,NUMBERS,PRE_TOPC,PRVECT_1,REAL_1,REALSET1,RELAT_1,RELSET_1,RLAFFIN1,RLTOPSP1,RLVECT_5,RVSUM_1,STRUCT_0,SUBSET_1,TEX_1,TOPGEN_1,TOPMETR,TOPREAL1,TOPREALC,TOPS_1,VALUED_0,VECTSP_1,VECTSP_9,XBOOLE_0,XREAL_0,XXREAL_0,ZFMISC_1,CKB6,CKB7,CKB8;
constructors BINOP_2,CONVEX1,EUCLID_9,FUNCSDOM,FVSUM_1,MATRIX_6,MATRIX13,MATRTOP1,MONOID_0,NAT_D,RANKNULL,RCOMP_1,REAL_1,REALSET1,RFINSEQ,RLAFFIN1,RLAFFIN2,RLSUB_2,RLVECT_3,RLVECT_5,RUSUB_5,SEQ_1,TDLAT_3,TOPMETR,TOPREAL9,TOPS_2,VECTSP_7,VFUNCT_1,WELLORD2,SEQ_4;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve n for Nat;
reserve m for Nat;
reserve k for Nat;
reserve r for Real;
reserve V for RealLinearSpace;
reserve v for (VECTOR of V);
reserve An for (Subset of ( TOP-REAL n ));
reserve Ak for (Subset of ( TOP-REAL k ));
theorem
Th7: ((k <= n & An = { v where v is (Element of ( TOP-REAL n )): ( v | k ) in Ak }) implies (An is  open iff Ak is  open))
proof
assume k <= n;
then reconsider nk = ( n - k ) as (Element of ( NAT )) by NAT_1:21;
A1: ( the TopStruct of ( TOP-REAL n ) ) = ( TopSpaceMetr ( Euclid n ) ) by EUCLID:def 8;
then reconsider an = An as (Subset of ( TopSpaceMetr ( Euclid n ) ));
A2: ( the TopStruct of ( TOP-REAL k ) ) = ( TopSpaceMetr ( Euclid k ) ) by EUCLID:def 8;
then reconsider ak = Ak as (Subset of ( TopSpaceMetr ( Euclid k ) ));
assume A3: An = { v where v is (Element of ( TOP-REAL n )): ( v | k ) in Ak };
hereby
assume An is  open;
then an in (the topology of ( TOP-REAL n )) by PRE_TOPC:def 2;
then A4: an is  open by A1,PRE_TOPC:def 2;
(for e being (Point of ( Euclid k )) holds (e in ak implies (ex r being  real number st (r > ( 0 ) & ( OpenHypercube (e,r) ) c= ak))))
proof
(( len ( nk |-> ( 0 ) ) ) = nk & ( @ ( @ ( nk |-> ( 0 ) ) ) ) = ( nk |-> ( 0 ) )) by CARD_1:def 7;
then reconsider nk0 = ( nk |-> ( 0 ) ) as (Point of ( Euclid nk )) by TOPREAL7:16;
let e being (Point of ( Euclid k ));
A5: (( @ ( @ ( e ^ ( nk |-> ( 0 ) ) ) ) ) = ( e ^ ( nk |-> ( 0 ) ) ) & ( len ( e ^ nk0 ) ) = n) by CARD_1:def 7;
then reconsider en = ( e ^ nk0 ) as (Point of ( Euclid n )) by TOPREAL7:16;
reconsider En = ( e ^ nk0 ) as (Point of ( TOP-REAL n )) by A5,TOPREAL7:17;
( len e ) = k by CARD_1:def 7;
then ( dom e ) = ( Seg k ) by FINSEQ_1:def 3;
then A6: e = ( En | k ) by FINSEQ_1:21;
assume e in ak;
then en in an by A3,A6;
then consider m being non  zero (Element of ( NAT )) such that A7: ( OpenHypercube (en,( 1 / m )) ) c= an by A4,EUCLID_9:23;
take r = ( 1 / m );
thus r > ( 0 ) by XREAL_1:139;
let y being set;
assume A8: y in ( OpenHypercube (e,r) );
then reconsider p = y as (Point of ( TopSpaceMetr ( Euclid k ) ));
A9: p in ( product ( Intervals (e,r) ) ) by A8,EUCLID_9:def 4;
reconsider P = p as (Point of ( TOP-REAL k )) by A2;
nk0 in ( OpenHypercube (nk0,r) ) by EUCLID_9:11,XREAL_1:139;
then A10: nk0 in ( product ( Intervals (nk0,r) ) ) by EUCLID_9:def 4;
( ( Intervals (e,r) ) ^ ( Intervals (nk0,r) ) ) = ( Intervals (en,r) ) by CKB2:1;
then ( P ^ nk0 ) in ( product ( Intervals (en,r) ) ) by A10,A9,CKB3:1;
then ( P ^ nk0 ) in ( OpenHypercube (en,r) ) by EUCLID_9:def 4;
then ( P ^ nk0 ) in an by A7;
then consider v being (Element of ( TOP-REAL n )) such that A11: (v = ( P ^ nk0 ) & ( v | k ) in Ak) by A3;
( len P ) = k by CARD_1:def 7;
then ( dom P ) = ( Seg k ) by FINSEQ_1:def 3;
hence y in ak by A11,FINSEQ_1:21;
end;
then ak is  open by EUCLID_9:24;
then ak in (the topology of ( TOP-REAL k )) by A2,PRE_TOPC:def 2;
hence Ak is  open by PRE_TOPC:def 2;
end;
assume Ak is  open;
then ak in (the topology of ( TOP-REAL k )) by PRE_TOPC:def 2;
then A12: ak is  open by A2,PRE_TOPC:def 2;
(for e being (Point of ( Euclid n )) holds (e in an implies (ex r being  real number st (r > ( 0 ) & ( OpenHypercube (e,r) ) c= an))))
proof
let e being (Point of ( Euclid n ));
assume e in an;
then consider v being (Element of ( TOP-REAL n )) such that A13: e = v and A14: ( v | k ) in Ak by A3;
reconsider vk = ( v | k ) as (Point of ( TOP-REAL k )) by A14;
A15: ( len vk ) = k by CARD_1:def 7;
( @ ( @ vk ) ) = vk;
then reconsider Vk = vk as (Point of ( Euclid k )) by A15,TOPREAL7:16;
consider m being non  zero (Element of ( NAT )) such that A16: ( OpenHypercube (Vk,( 1 / m )) ) c= ak by A12,A14,EUCLID_9:23;
take r = ( 1 / m );
thus r > ( 0 ) by XREAL_1:139;
let y being set;
assume A17: y in ( OpenHypercube (e,r) );
then A18: y in ( product ( Intervals (e,r) ) ) by EUCLID_9:def 4;
reconsider Y = y as (Point of ( TOP-REAL n )) by A1,A17;
A19: ( len v ) = n by CARD_1:def 7;
consider q being FinSequence such that A20: ( @ ( @ v ) ) = ( vk ^ q ) by FINSEQ_1:80;
reconsider q as (FinSequence of ( REAL )) by A20,FINSEQ_1:36;
( len v ) = ( ( len vk ) + ( len q ) ) by A20,FINSEQ_1:22;
then reconsider Q = q as (Point of ( Euclid nk )) by A15,A19,TOPREAL7:16;
( ( Intervals (Vk,r) ) ^ ( Intervals (Q,r) ) ) = ( Intervals (e,r) ) by A13,A20,CKB2:1;
then consider p1,p2 being FinSequence such that A21: y = ( p1 ^ p2 ) and A22: p1 in ( product ( Intervals (Vk,r) ) ) and p2 in ( product ( Intervals (Q,r) ) ) by A18,CKB3:1;
A23: p1 in ( OpenHypercube (Vk,( 1 / m )) ) by A22,EUCLID_9:def 4;
then ( len p1 ) = k by A2,CARD_1:def 7;
then ( Y | k ) = ( Y | ( dom p1 ) ) by FINSEQ_1:def 3
.= p1 by A21,FINSEQ_1:21;
hence thesis by A3,A16,A23;
end;
then an is  open by EUCLID_9:24;
then an in (the topology of ( TOP-REAL n )) by A1,PRE_TOPC:def 2;
hence thesis by PRE_TOPC:def 2;
end;
