environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,NAT_1,FDIFF_1,SUBSET_1,LOPBAN_1,RELAT_1,XXREAL_2,RSSPACE,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,FUNCOP_1,XREAL_0,ORDINAL1,XBOOLE_0,NDIFF_2;
notations TARSKI,XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,XCMPLX_0,XXREAL_0,XREAL_0,ORDINAL1,NUMBERS,COMPLEX1,REAL_1,NAT_1,SQUARE_1,FUNCOP_1,RLVECT_1,PRE_TOPC,STRUCT_0,VALUED_0,VALUED_1,SEQ_1,SEQ_2,VFUNCT_1,NORMSP_0,NORMSP_1,RSSPACE,LOPBAN_1,NFCONT_1,FDIFF_1,NDIFF_1,CKB1,CKB2,CKB6,CKB8;
definitions TARSKI,RLVECT_1,CKB1,CKB2,CKB6,CKB8;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,SEQ_4,NORMSP_1,LOPBAN_1,LOPBAN_2,LOPBAN_3,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,ORDINAL1,GRCAT_1,NORMSP_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14;
schemes FUNCT_2;
registrations XBOOLE_0,ORDINAL1,RELSET_1,XXREAL_0,XREAL_0,MEMBERED,FDIFF_1,STRUCT_0,LOPBAN_1,LOPBAN_2,NDIFF_1,VALUED_1,FUNCT_2,NUMBERS,VALUED_0,FUNCOP_1;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,FDIFF_1,RSSPACE,VFUNCT_1,LOPBAN_3,NFCONT_1,NDIFF_1,SEQ_1,VALUED_1,NORMSP_1,RELSET_1,CKB1,CKB2,CKB6,CKB8;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve S for non  trivial RealNormSpace;
reserve T for non  trivial RealNormSpace;
reserve U for non  trivial RealNormSpace;
theorem
Th11: (for R1 being (REST of S,T) holds (( R1 /. ( 0. S ) ) = ( 0. T ) implies (for R2 being (REST of T,U) holds (( R2 /. ( 0. T ) ) = ( 0. U ) implies (for L being  bounded (LinearOperator of S,T) holds ( R2 * ( L + R1 ) ) is (REST of S,U))))))
proof
let R1 being (REST of S,T);
assume ( R1 /. ( 0. S ) ) = ( 0. T );
then consider d0 being Real such that A1: ( 0 ) < d0 and A2: (for h being (Point of S) holds (||. h .|| < d0 implies ||. ( R1 /. h ) .|| <= ( 1 * ||. h .|| ))) by CKB11:1;
let R2 being (REST of T,U);
assume that
A3: ( R2 /. ( 0. T ) ) = ( 0. U );
let L being  bounded (LinearOperator of S,T);
consider K being Real such that A4: ( 0 ) <= K and A5: (for h being (Point of S) holds ||. ( L . h ) .|| <= ( K * ||. h .|| )) by LOPBAN_1:def 8;
R2 is  total by NDIFF_1:def 5;
then ( dom R2 ) = (the carrier of T) by PARTFUN1:def 2;
then A6: ( rng ( L + R1 ) ) c= ( dom R2 );
R1 is  total by NDIFF_1:def 5;
then A7: ( L + R1 ) is  total by VFUNCT_1:32;
then A8: ( dom ( L + R1 ) ) = (the carrier of S) by PARTFUN1:def 2;
A9:now
let ee being Real;
assume that
A10: ee > ( 0 );
set e = ( ee / 2 );
A11: e < ee by A10,XREAL_1:216;
set e1 = ( e / ( 1 + K ) );
e > ( 0 ) by A10,XREAL_1:215;
then ( ( 0 ) / ( 1 + K ) ) < ( e / ( 1 + K ) ) by A4,XREAL_1:74;
then consider d being Real such that A12: ( 0 ) < d and A13: (for z being (Point of T) holds (||. z .|| < d implies ||. ( R2 /. z ) .|| <= ( e1 * ||. z .|| ))) by A3,CKB11:1;
set d1 = ( d / ( 1 + K ) );
set dd1 = ( min (d0,d1) );
A14: dd1 <= d1 by XXREAL_0:17;
A15: dd1 <= d0 by XXREAL_0:17;
A16:now
let h being (Point of S);
assume that
A17: h <> ( 0. S )
and
A18: ||. h .|| < dd1;
||. h .|| < d0 by A15,A18,XXREAL_0:2;
then A19: ||. ( R1 /. h ) .|| <= ( 1 * ||. h .|| ) by A2;
||. ( L . h ) .|| <= ( K * ||. h .|| ) by A5;
then (||. ( ( L . h ) + ( R1 /. h ) ) .|| <= ( ||. ( L . h ) .|| + ||. ( R1 /. h ) .|| ) & ( ||. ( L . h ) .|| + ||. ( R1 /. h ) .|| ) <= ( ( K * ||. h .|| ) + ( 1 * ||. h .|| ) )) by A19,NORMSP_1:def 1,XREAL_1:7;
then A20: ||. ( ( L . h ) + ( R1 /. h ) ) .|| <= ( ( K + 1 ) * ||. h .|| ) by XXREAL_0:2;
||. h .|| < d1 by A14,A18,XXREAL_0:2;
then ( ( K + 1 ) * ||. h .|| ) < ( ( K + 1 ) * d1 ) by A4,XREAL_1:68;
then ||. ( ( L . h ) + ( R1 /. h ) ) .|| < ( ( K + 1 ) * d1 ) by A20,XXREAL_0:2;
then ||. ( ( L . h ) + ( R1 /. h ) ) .|| < d by A4,XCMPLX_1:87;
then A21: ||. ( R2 /. ( ( L . h ) + ( R1 /. h ) ) ) .|| <= ( e1 * ||. ( ( L . h ) + ( R1 /. h ) ) .|| ) by A13;
( e1 * ||. ( ( L . h ) + ( R1 /. h ) ) .|| ) <= ( e1 * ( ( K + 1 ) * ||. h .|| ) ) by A4,A10,A20,XREAL_1:64;
then A22: ||. ( R2 /. ( ( L . h ) + ( R1 /. h ) ) ) .|| <= ( e1 * ( ( K + 1 ) * ||. h .|| ) ) by A21,XXREAL_0:2;
A23: ( R2 /. ( ( L . h ) + ( R1 /. h ) ) ) = ( R2 /. ( ( L /. h ) + ( R1 /. h ) ) )
.= ( R2 /. ( ( L + R1 ) /. h ) ) by A8,VFUNCT_1:def 1
.= ( ( R2 * ( L + R1 ) ) /. h ) by A8,A6,PARTFUN2:5;
A24: ||. h .|| <> ( 0 ) by A17,NORMSP_0:def 5;
then ||. h .|| > ( 0 ) by NORMSP_1:4;
then ( ( ||. h .|| " ) * ||. ( ( R2 * ( L + R1 ) ) /. h ) .|| ) <= ( ( ||. h .|| " ) * ( ( e1 * ( K + 1 ) ) * ||. h .|| ) ) by A23,A22,XREAL_1:64;
then ( ( ||. h .|| " ) * ||. ( ( R2 * ( L + R1 ) ) /. h ) .|| ) <= ( ( ( ||. h .|| * ( ||. h .|| " ) ) * e1 ) * ( K + 1 ) );
then ( ( ||. h .|| " ) * ||. ( ( R2 * ( L + R1 ) ) /. h ) .|| ) <= ( ( 1 * e1 ) * ( K + 1 ) ) by A24,XCMPLX_0:def 7;
then ( ( ||. h .|| " ) * ||. ( ( R2 * ( L + R1 ) ) /. h ) .|| ) <= e by A4,XCMPLX_1:87;
hence ( ( ||. h .|| " ) * ||. ( ( R2 * ( L + R1 ) ) /. h ) .|| ) < ee by A11,XXREAL_0:2;
end;
( ( 0 ) / ( 1 + K ) ) < ( d / ( 1 + K ) ) by A4,A12,XREAL_1:74;
then ( 0 ) < dd1 by A1,XXREAL_0:15;
hence (ex dd1 being Real st (dd1 > ( 0 ) & (for h being (Point of S) holds ((h <> ( 0. S ) & ||. h .|| < dd1) implies ( ( ||. h .|| " ) * ||. ( ( R2 * ( L + R1 ) ) /. h ) .|| ) < ee)))) by A16;
end;
( dom ( R2 * ( L + R1 ) ) ) = ( dom ( L + R1 ) ) by A6,RELAT_1:27
.= (the carrier of S) by A7,PARTFUN1:def 2;
then ( R2 * ( L + R1 ) ) is  total by PARTFUN1:def 2;
hence thesis by A9,NDIFF_1:23;
end;
