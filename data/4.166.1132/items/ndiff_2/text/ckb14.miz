environ
vocabularies NUMBERS,REAL_1,ZFMISC_1,NORMSP_1,PRE_TOPC,PARTFUN1,FUNCT_1,NAT_1,FDIFF_1,SUBSET_1,LOPBAN_1,RELAT_1,XXREAL_2,RSSPACE,RCOMP_1,TARSKI,SEQ_1,ARYTM_3,VALUED_1,FUNCT_2,ARYTM_1,SEQ_2,ORDINAL2,SUPINF_2,FCONT_1,COMPLEX1,STRUCT_0,CARD_1,VALUED_0,XXREAL_0,FUNCOP_1,XREAL_0,ORDINAL1,XBOOLE_0,NDIFF_2;
notations TARSKI,XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,XCMPLX_0,XXREAL_0,XREAL_0,ORDINAL1,NUMBERS,COMPLEX1,REAL_1,NAT_1,SQUARE_1,FUNCOP_1,RLVECT_1,PRE_TOPC,STRUCT_0,VALUED_0,VALUED_1,SEQ_1,SEQ_2,VFUNCT_1,NORMSP_0,NORMSP_1,RSSPACE,LOPBAN_1,NFCONT_1,FDIFF_1,NDIFF_1,CKB1,CKB2,CKB6,CKB8;
definitions TARSKI,RLVECT_1,CKB1,CKB2,CKB6,CKB8;
theorems TARSKI,ABSVALUE,XBOOLE_0,XBOOLE_1,RLVECT_1,XCMPLX_0,XCMPLX_1,ZFMISC_1,SEQ_1,SEQ_2,NAT_1,RELAT_1,FUNCT_1,VFUNCT_1,FUNCT_2,SEQ_4,NORMSP_1,LOPBAN_1,LOPBAN_2,LOPBAN_3,PARTFUN1,PARTFUN2,NFCONT_1,FDIFF_1,NDIFF_1,FUNCOP_1,XREAL_1,COMPLEX1,XXREAL_0,VALUED_1,VALUED_0,ORDINAL1,GRCAT_1,NORMSP_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
schemes FUNCT_2;
registrations XBOOLE_0,ORDINAL1,RELSET_1,XXREAL_0,XREAL_0,MEMBERED,FDIFF_1,STRUCT_0,LOPBAN_1,LOPBAN_2,NDIFF_1,VALUED_1,FUNCT_2,NUMBERS,VALUED_0,FUNCOP_1;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,FDIFF_1,RSSPACE,VFUNCT_1,LOPBAN_3,NFCONT_1,NDIFF_1,SEQ_1,VALUED_1,NORMSP_1,RELSET_1,CKB1,CKB2,CKB6,CKB8;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
reserve S for non trivial RealNormSpace;
reserve T for non trivial RealNormSpace;
reserve U for non trivial RealNormSpace;
theorem
(for R1 being (REST of S,T) holds (( R1 /. ( 0. S ) ) = ( 0. T ) implies (for R2 being (REST of T,U) holds (( R2 /. ( 0. T ) ) = ( 0. U ) implies ( R2 * R1 ) is (REST of S,U)))))
proof
let R1 being (REST of S,T);
assume that
A1: ( R1 /. ( 0. S ) ) = ( 0. T );
let R2 being (REST of T,U);
assume that
A2: ( R2 /. ( 0. T ) ) = ( 0. U );
R2 is  total by NDIFF_1:def 5;
then ( dom R2 ) = (the carrier of T) by PARTFUN1:def 2;
then A3: ( rng R1 ) c= ( dom R2 );
A4: R1 is  total by NDIFF_1:def 5;
then A5: ( dom R1 ) = (the carrier of S) by PARTFUN1:def 2;
A6:now
consider d1 being Real such that A7: ( 0 ) < d1 and A8: (for h being (Point of S) holds (||. h .|| < d1 implies ||. ( R1 /. h ) .|| <= ( 1 * ||. h .|| ))) by A1,CKB11:1;
let e0 being Real;
assume that
A9: e0 > ( 0 );
set e = ( e0 / 2 );
A10: e < e0 by A9,XREAL_1:216;
e > ( 0 ) by A9,XREAL_1:215;
then consider d2 being Real such that A11: ( 0 ) < d2 and A12: (for z being (Point of T) holds (||. z .|| < d2 implies ||. ( R2 /. z ) .|| <= ( e * ||. z .|| ))) by A2,CKB11:1;
set d = ( min (d1,d2) );
A13: d <= d2 by XXREAL_0:17;
A14: d <= d1 by XXREAL_0:17;
A15:now
let h being (Point of S);
assume that
A16: h <> ( 0. S )
and
A17: ||. h .|| < d;
||. h .|| < d1 by A14,A17,XXREAL_0:2;
then A18: ||. ( R1 /. h ) .|| <= ( 1 * ||. h .|| ) by A8;
then ||. ( R1 /. h ) .|| < d by A17,XXREAL_0:2;
then ||. ( R1 /. h ) .|| < d2 by A13,XXREAL_0:2;
then A19: ||. ( R2 /. ( R1 /. h ) ) .|| <= ( e * ||. ( R1 /. h ) .|| ) by A12;
( e * ||. ( R1 /. h ) .|| ) <= ( e * ||. h .|| ) by A9,A18,XREAL_1:64;
then A20: ||. ( R2 /. ( R1 /. h ) ) .|| <= ( e * ||. h .|| ) by A19,XXREAL_0:2;
A21: ||. h .|| <> ( 0 ) by A16,NORMSP_0:def 5;
then ||. h .|| > ( 0 ) by NORMSP_1:4;
then ( ( ||. h .|| " ) * ||. ( R2 /. ( R1 /. h ) ) .|| ) <= ( ( ||. h .|| " ) * ( e * ||. h .|| ) ) by A20,XREAL_1:64;
then ( ( ||. h .|| " ) * ||. ( R2 /. ( R1 /. h ) ) .|| ) <= ( ( ( ||. h .|| " ) * ||. h .|| ) * e );
then A22: ( ( ||. h .|| " ) * ||. ( R2 /. ( R1 /. h ) ) .|| ) <= ( 1 * e ) by A21,XCMPLX_0:def 7;
( R2 /. ( R1 /. h ) ) = ( ( R2 * R1 ) /. h ) by A5,A3,PARTFUN2:5;
hence ( ( ||. h .|| " ) * ||. ( ( R2 * R1 ) /. h ) .|| ) < e0 by A10,A22,XXREAL_0:2;
end;
( 0 ) < d by A11,A7,XXREAL_0:15;
hence (ex d being Real st (d > ( 0 ) & (for h being (Point of S) holds ((h <> ( 0. S ) & ||. h .|| < d) implies ( ( ||. h .|| " ) * ||. ( ( R2 * R1 ) /. h ) .|| ) < e0)))) by A15;
end;
( dom ( R2 * R1 ) ) = ( dom R1 ) by A3,RELAT_1:27
.= (the carrier of S) by A4,PARTFUN1:def 2;
then ( R2 * R1 ) is  total by PARTFUN1:def 2;
hence thesis by A6,NDIFF_1:23;
end;
