environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,MATRIX_1,FINSEQ_3,RELAT_1,FINSEQ_1,TARSKI,ARYTM_3,XXREAL_0,CARD_1,TREES_1,FUNCT_1,INCSP_1,ORDINAL4,SUBSET_1,VECTSP_1,RLVECT_2,RLVECT_3,CARD_3,ARYTM_1,SUPINF_2,RLVECT_5,FINSET_1,STRUCT_0,RLSUB_1,ALGSTR_0,PARTFUN1,RLVECT_1,ZFMISC_1,QC_LANG1,FUNCT_2,VALUED_1,PRE_POLY,FINSEQ_2,RVSUM_1,FINSEQ_4,FVSUM_1,MATRLIN,MSSUBFAM,UNIALG_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,MOD_2,FINSEQ_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCT_3,STRUCT_0,ALGSTR_0,MATRIX_1,MATRIX_3,FVSUM_1,RLVECT_1,VECTSP_1,VECTSP_4,VECTSP_6,VECTSP_7,FINSET_1,FINSEQ_3,FINSEQ_2,FINSEQOP,BINOP_1,XXREAL_0,PRE_POLY,GRCAT_1,CKB1,CKB6,CKB11,CKB13,CKB14,CKB15;
definitions TARSKI,FVSUM_1,FUNCOP_1,ALGSTR_0,PRE_POLY,CKB11,CKB13,CKB14,CKB15;
theorems TARSKI,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,VECTSP_1,VECTSP_4,VECTSP_6,VECTSP_7,RLVECT_1,FUNCT_1,FUNCT_2,FUNCT_3,MATRIX_1,MATRIX_2,MATRIX_3,MOD_2,ZFMISC_1,NAT_1,FVSUM_1,SUBSET_1,FINSEQOP,FUNCOP_1,RELAT_1,PARTFUN2,XBOOLE_0,XBOOLE_1,RLVECT_2,ORDINAL1,PARTFUN1,PRE_POLY,GRCAT_1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB14,CKB15;
schemes FINSEQ_1,FINSEQ_2,FUNCT_2,MATRIX_1,NAT_1,FINSEQ_4;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,STRUCT_0,VECTSP_1,MATRIX_1,CARD_1,VECTSP_7,MOD_2,GRCAT_1,PRE_POLY,RELAT_1,FUNCT_1,FINSEQ_4,CKB12;
constructors PARTFUN1,BINOP_1,FUNCT_3,SQUARE_1,NAT_1,VECTSP_6,VECTSP_7,MOD_2,FVSUM_1,MATRIX_3,RELSET_1,PRE_POLY,GRCAT_1,CKB1,CKB6,CKB11,CKB13,CKB14,CKB15;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve k for Nat;
reserve n for Nat;
reserve K for Field;
reserve a for (Element of K);
reserve V1 for  finite-dimensional (VectSp of K);
reserve v for (Element of V1);
theorem
Th13: (for a being (Element of V1) holds (for F being (FinSequence of V1) holds (for G being (FinSequence of K) holds ((( len F ) = ( len G ) & (for k holds (for v being (Element of K) holds ((k in ( dom F ) & v = ( G . k )) implies ( F . k ) = ( v * a ))))) implies ( Sum F ) = ( ( Sum G ) * a )))))
proof
let a being (Element of V1);
let F being (FinSequence of V1);
let G being (FinSequence of K);
defpred P[ Nat ]
 means
(for H being (FinSequence of V1) holds (for I being (FinSequence of K) holds (((( len H ) = ( len I ) & ( len H ) = $1) & (for k holds (for v being (Element of K) holds ((k in ( dom H ) & v = ( I . k )) implies ( H . k ) = ( v * a ))))) implies ( Sum H ) = ( ( Sum I ) * a ))));
A1: (for n holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
let n;
assume A2: (for H being (FinSequence of V1) holds (for I being (FinSequence of K) holds (((( len H ) = ( len I ) & ( len H ) = n) & (for k holds (for v being (Element of K) holds ((k in ( dom H ) & v = ( I . k )) implies ( H . k ) = ( v * a ))))) implies ( Sum H ) = ( ( Sum I ) * a ))));
let H being (FinSequence of V1);
let I being (FinSequence of K);
assume that
A3: ( len H ) = ( len I )
and
A4: ( len H ) = ( n + 1 )
and
A5: (for k holds (for v being (Element of K) holds ((k in ( dom H ) & v = ( I . k )) implies ( H . k ) = ( v * a ))));
reconsider q = ( I | ( Seg n ) ) as (FinSequence of K) by FINSEQ_1:18;
reconsider p = ( H | ( Seg n ) ) as (FinSequence of V1) by FINSEQ_1:18;
A6: n <= ( n + 1 ) by NAT_1:12;
then A7: ( len p ) = n by A4,FINSEQ_1:17;
A8: ( dom p ) = ( Seg n ) by A4,A6,FINSEQ_1:17;
A9: ( len q ) = n by A3,A4,A6,FINSEQ_1:17;
A10: ( dom q ) = ( Seg n ) by A3,A4,A6,FINSEQ_1:17;
A11:now
( len p ) <= ( len H ) by A4,A6,FINSEQ_1:17;
then A12: ( dom p ) c= ( dom H ) by FINSEQ_3:30;
let k;
let v being (Element of K);
assume that
A13: k in ( dom p )
and
A14: v = ( q . k );
( I . k ) = ( q . k ) by A8,A10,A13,FUNCT_1:47;
then ( H . k ) = ( v * a ) by A5,A13,A14,A12;
hence ( p . k ) = ( v * a ) by A13,FUNCT_1:47;
end;
reconsider n as (Element of ( NAT )) by ORDINAL1:def 12;
( n + 1 ) in ( Seg ( n + 1 ) ) by FINSEQ_1:4;
then A15: ( n + 1 ) in ( dom H ) by A4,FINSEQ_1:def 3;
then reconsider v1 = ( H . ( n + 1 ) ) as (Element of V1) by FINSEQ_2:11;
( dom H ) = ( dom I ) by A3,FINSEQ_3:29;
then reconsider v2 = ( I . ( n + 1 ) ) as (Element of K) by A15,FINSEQ_2:11;
A16: v1 = ( v2 * a ) by A5,A15;
thus ( Sum H ) = ( ( Sum p ) + v1 ) by A4,A7,A8,RLVECT_1:38
.= ( ( ( Sum q ) * a ) + ( v2 * a ) ) by A2,A7,A9,A11,A16
.= ( ( ( Sum q ) + v2 ) * a ) by VECTSP_1:def 15
.= ( ( Sum I ) * a ) by A3,A4,A9,A10,RLVECT_1:38;
end;
A17: P[ ( 0 ) ]
proof
let H being (FinSequence of V1);
let I being (FinSequence of K);
assume that
A18: ( len H ) = ( len I )
and
A19: ( len H ) = ( 0 )
and
(for k holds (for v being (Element of K) holds ((k in ( dom H ) & v = ( I . k )) implies ( H . k ) = ( v * a ))));
H = ( <*> (the carrier of V1) ) by A19;
then A20: ( Sum H ) = ( 0. V1 ) by RLVECT_1:43;
I = ( <*> (the carrier of K) ) by A18,A19;
then ( Sum I ) = ( 0. K ) by RLVECT_1:43;
hence thesis by A20,VECTSP_1:14;
end;
(for n holds P[ n ]) from NAT_1:sch 2(A17,A1);
hence thesis;
end;
