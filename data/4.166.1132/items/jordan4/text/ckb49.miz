environ
vocabularies NUMBERS,SUBSET_1,REAL_1,NAT_1,ARYTM_3,INT_1,CARD_1,ARYTM_1,XXREAL_0,RELAT_1,XBOOLE_0,FINSEQ_1,FINSEQ_6,FUNCT_1,PARTFUN1,RFINSEQ,EUCLID,TOPREAL1,JORDAN3,FINSEQ_5,RLTOPSP1,GOBOARD5,ORDINAL4,TARSKI,PRE_TOPC,SUPINF_2,TOPREAL4,TOPREAL2,MCART_1,JORDAN4;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,REAL_1,NAT_1,NAT_D,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_5,STRUCT_0,TOPREAL1,TOPREAL2,TOPREAL4,GOBOARD5,PRE_TOPC,RLVECT_1,RLTOPSP1,EUCLID,FINSEQ_6,RFINSEQ,JORDAN3,XXREAL_0,CKB21,CKB25,CKB26,CKB27;
definitions TARSKI,RLTOPSP1,CKB21,CKB25,CKB26,CKB27;
theorems TARSKI,JORDAN3,TOPREAL4,EUCLID,TOPREAL1,TOPREAL2,FUNCT_1,SPPOL_1,GOBOARD5,FINSEQ_1,GOBOARD7,NAT_1,SPPOL_2,FINSEQ_3,FINSEQ_2,FINSEQ_4,FINSEQ_5,RFINSEQ,FINSEQ_6,ENUMSET1,ZFMISC_1,TOPREAL3,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_1,XXREAL_0,NAT_D,ORDINAL1,CARD_1,XREAL_0,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48;
registrations XBOOLE_0,RELSET_1,XXREAL_0,XREAL_0,MEMBERED,STRUCT_0,EUCLID,SPPOL_2,GOBOARD5,NAT_1,FINSEQ_1,CARD_1;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,NAT_D,RFINSEQ,BINARITH,FINSEQ_5,TOPREAL2,TOPREAL4,GOBOARD5,JORDAN3,RELSET_1,CKB21,CKB25,CKB26,CKB27;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve i1 for (Element of ( NAT ));
reserve i2 for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
theorem
Lm1: (for f being non  constant  standard special_circular_sequence holds (for g being (FinSequence of ( TOP-REAL 2 )) holds (for i1,i2 being (Element of ( NAT )) holds ((g is_a_part>_of f,i1,i2 & i1 > i2) implies ( L~ g ) is_S-P_arc_joining ( f /. i1 ),( f /. i2 )))))
proof
let f being non  constant  standard special_circular_sequence;
let g being (FinSequence of ( TOP-REAL 2 ));
let i1 being (Element of ( NAT ));
let i2 being (Element of ( NAT ));
assume that
A1: g is_a_part>_of f,i1,i2
and
A2: i1 > i2;
A3: g = ( ( mid (f,i1,( ( len f ) -' 1 )) ) ^ ( f | i2 ) ) by A1,A2,CKB30:1;
set f1 = ( mid (f,i1,( len f )) );
A4: 1 <= i1 by A1,CKB25:def 1;
then A5: ( i1 - 1 ) = ( i1 -' 1 ) by XREAL_1:233;
A6: 1 <= ( len g ) by A1,CKB25:def 1;
then A7: ( g /. ( len g ) ) = ( g . ( len g ) ) by FINSEQ_4:15;
A8: ( len g ) < ( len f ) by A1,CKB25:def 1;
then A9: 1 < ( len f ) by A6,XXREAL_0:2;
then A10: ( f . ( len f ) ) = ( f /. ( len f ) ) by FINSEQ_4:15;
A11: ( i1 + 1 ) <= ( len f ) by A1,CKB25:def 1;
then A12: i1 < ( len f ) by NAT_1:13;
then A13: ( f1 . ( len f1 ) ) = ( f . ( len f ) ) by A4,CKB10:1;
A14: 1 <= i2 by A1,CKB25:def 1;
then 1 < i1 by A2,XXREAL_0:2;
then A15: f1 is  being_S-Seq by A12,CKB44:1;
A16: ( i2 + 1 ) <= ( len f ) by A1,CKB25:def 1;
then A17: i2 < ( len f ) by NAT_1:13;
then A18: ( ( mid (f,1,i2) ) . 1 ) = ( f . 1 ) by A14,A9,FINSEQ_6:118;
( f . 1 ) = ( f /. 1 ) by A9,FINSEQ_4:15;
then A19: ( f1 . ( len f1 ) ) = ( ( mid (f,1,i2) ) . 1 ) by A13,A18,A10,FINSEQ_6:def 1;
A20: ( len f1 ) = ( ( ( len f ) -' i1 ) + 1 ) by A4,A9,A12,FINSEQ_6:118;
( g . ( len g ) ) = ( f . i2 ) by A1,CKB25:def 1;
then A21: ( f /. i2 ) = ( g /. ( len g ) ) by A14,A17,A7,FINSEQ_4:15;
( len f1 ) < ( ( len f1 ) + 1 ) by NAT_1:13;
then ( ( len f1 ) - 1 ) < ( ( ( len f1 ) + 1 ) - 1 ) by XREAL_1:9;
then A22: ( ( len f1 ) -' 1 ) <= ( len f1 ) by A20,NAT_D:34;
( ( i1 + 1 ) - i1 ) <= ( ( len f ) - i1 ) by A11,XREAL_1:9;
then 1 <= ( ( len f ) -' i1 ) by NAT_D:39;
then A23: 1 <= ( ( len f1 ) -' 1 ) by A20,NAT_D:34;
i1 < ( len f ) by A11,NAT_1:13;
then A24: ( f /. i1 ) = ( f . i1 ) by A4,FINSEQ_4:15;
( ( i1 + 1 ) - i1 ) <= ( ( len f ) - i1 ) by A11,XREAL_1:9;
then 1 <= ( ( len f ) -' i1 ) by NAT_D:39;
then A25: ( ( ( ( len f ) -' i1 ) -' 1 ) + 1 ) = ( ( ( ( len f ) -' i1 ) - 1 ) + 1 ) by XREAL_1:233
.= ( ( len f ) - i1 ) by A12,XREAL_1:233;
A26: ( L~ ( f | i2 ) ) = ( union { ( LSeg (( f | i2 ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f | i2 ) )) } ) by TOPREAL1:def 4;
A27: ( ( len f ) -' 1 ) < ( ( ( len f ) -' 1 ) + 1 ) by NAT_1:13;
A28: ( ( len f ) -' 1 ) = ( ( len f ) - 1 ) by A6,A8,XREAL_1:233,XXREAL_0:2;
then A29: ( ( ( len f ) -' 1 ) + 1 ) = ( len f );
A30: ( ( i1 + 1 ) - 1 ) <= ( ( len f ) - 1 ) by A11,XREAL_1:9;
then A31: 1 <= ( ( len f ) -' 1 ) by A4,A28,XXREAL_0:2;
then A32: ( len ( mid (f,i1,( ( len f ) -' 1 )) ) ) = ( ( ( ( len f ) -' 1 ) -' i1 ) + 1 ) by A4,A28,A12,A30,A27,FINSEQ_6:118
.= ( ( ( ( len f ) - 1 ) - i1 ) + 1 ) by A28,A30,XREAL_1:233
.= ( ( len f ) - i1 );
( len ( mid (f,i1,( ( len f ) -' 1 )) ) ) = ( ( ( ( len f ) -' 1 ) -' i1 ) + 1 ) by A4,A28,A12,A30,A31,A27,FINSEQ_6:118;
then 1 <= ( len ( mid (f,i1,( ( len f ) -' 1 )) ) ) by NAT_1:11;
then 1 in ( Seg ( len ( mid (f,i1,( ( len f ) -' 1 )) ) ) ) by FINSEQ_1:1;
then 1 in ( dom ( mid (f,i1,( ( len f ) -' 1 )) ) ) by FINSEQ_1:def 3;
then ( g . 1 ) = ( ( mid (f,i1,( ( len f ) -' 1 )) ) . 1 ) by A3,FINSEQ_1:def 7;
then ( g . 1 ) = ( f . i1 ) by A4,A28,A12,A31,A27,FINSEQ_6:118;
then A33: ( f /. i1 ) = ( g /. 1 ) by A6,A24,FINSEQ_4:15;
A34: ( L~ ( f /^ ( i1 -' 1 ) ) ) = ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) by TOPREAL1:def 4;
A35: ( f /. 1 ) = ( f /. ( len f ) ) by FINSEQ_6:def 1;
A36: ( 1 + 1 ) <= ( len f ) by A9,NAT_1:13;
A37: 1 <= ( len f1 ) by A20,NAT_1:11;
A38:now
per cases  by A14,XXREAL_0:1;
case A39: i2 > 1;
( ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) /\ ( union { ( LSeg (( f | i2 ),j) ): (1 <= j & ( j + 1 ) <= ( len ( f | i2 ) )) } ) ) = { ( f . 1 ) }
proof
A40: ( ( f | 2 ) . ( 1 + 1 ) ) = ( f . ( 1 + 1 ) ) by FINSEQ_3:112;
A41: ( ( f | 2 ) . 1 ) = ( f . 1 ) by FINSEQ_3:112;
A42: ( len ( f | 2 ) ) = 2 by A36,FINSEQ_1:59;
then A43: ( ( f | 2 ) /. 1 ) = ( ( f | 2 ) . 1 ) by FINSEQ_4:15;
( ( len ( f | 2 ) ) -' 1 ) = ( 2 - 1 ) by A42,NAT_D:39
.= 1;
then A44: ( LSeg (( f | 2 ),( ( len ( f | 2 ) ) -' 1 )) ) = ( LSeg (( ( f | 2 ) /. ( ( len ( f | 2 ) ) -' 1 ) ),( ( f | 2 ) /. ( ( ( len ( f | 2 ) ) -' 1 ) + 1 ) )) ) by A42,TOPREAL1:def 3;
A45: ( len ( f | i2 ) ) = i2 by A17,FINSEQ_1:59;
then A46: ( 1 + 1 ) <= ( len ( f | i2 ) ) by A39,NAT_1:13;
then A47: ( LSeg (( f | i2 ),1) ) = ( LSeg (( ( f | i2 ) /. 1 ),( ( f | i2 ) /. ( 1 + 1 ) )) ) by TOPREAL1:def 3;
( ( f | i2 ) . 1 ) = ( f . 1 ) by A14,FINSEQ_3:112;
then A48: ( ( f | 2 ) /. 1 ) = ( ( f | i2 ) /. 1 ) by A14,A43,A41,A45,FINSEQ_4:15;
A49: ( f . 1 ) = ( f /. 1 ) by A9,FINSEQ_4:15;
A50: ( ( len ( f | 2 ) ) -' 1 ) = ( ( 1 + 1 ) -' 1 ) by A36,FINSEQ_1:59
.= 1 by NAT_D:34;
then ( ( f | 2 ) /. ( ( len ( f | 2 ) ) -' 1 ) ) = ( f /. 1 ) by A49,A43,FINSEQ_3:112;
then A51: ( f . 1 ) in ( LSeg (( f | 2 ),( ( len ( f | 2 ) ) -' 1 )) ) by A49,A44,RLTOPSP1:68;
A52: ( ( f | 2 ) /. ( 1 + 1 ) ) = ( ( f | 2 ) . ( 1 + 1 ) ) by A42,FINSEQ_4:15;
A53: ( f /. ( len f ) ) in ( LSeg (( ( f /^ ( i1 -' 1 ) ) /. ( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 ) ),( f /. ( len f ) )) ) by RLTOPSP1:68;
( ( f | i2 ) . ( 1 + 1 ) ) = ( f . ( 1 + 1 ) ) by A45,A46,FINSEQ_3:112;
then A54: ( ( f | 2 ) /. ( 1 + 1 ) ) = ( ( f | i2 ) /. ( 1 + 1 ) ) by A46,A40,A52,FINSEQ_4:15;
A55: ( len ( f /^ ( i1 -' 1 ) ) ) = ( ( len f ) -' ( i1 -' 1 ) ) by RFINSEQ:29;
( i1 - i1 ) < ( ( len f ) - i1 ) by A12,XREAL_1:9;
then ( ( i1 - i1 ) + 1 ) < ( ( ( len f ) - i1 ) + 1 ) by XREAL_1:6;
then 1 < ( ( len f ) - ( i1 - 1 ) );
then 1 < ( ( len f ) - ( i1 -' 1 ) ) by A4,XREAL_1:233;
then A56: 1 < ( len ( f /^ ( i1 -' 1 ) ) ) by A55,NAT_D:39;
then A57: ( ( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 ) + 1 ) = ( ( ( len ( f /^ ( i1 -' 1 ) ) ) - 1 ) + 1 ) by XREAL_1:233
.= ( len ( f /^ ( i1 -' 1 ) ) );
( 1 + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) ) by A56,NAT_1:13;
then A58: ( ( 1 + 1 ) - 1 ) <= ( ( len ( f /^ ( i1 -' 1 ) ) ) - 1 ) by XREAL_1:9;
then A59: ( LSeg (( f /^ ( i1 -' 1 ) ),( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 )) ) = ( LSeg (( ( f /^ ( i1 -' 1 ) ) /. ( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 ) ),( ( f /^ ( i1 -' 1 ) ) /. ( ( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 ) + 1 ) )) ) by A57,TOPREAL1:def 3;
A60: ( LSeg (( f /^ ( i1 -' 1 ) ),( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 )) ) in { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } by A58,A57;
A61: ( i1 - 1 ) < ( ( len f ) - 1 ) by A12,XREAL_1:9;
then ( i1 - 1 ) < ( len f ) by A28,A27,XXREAL_0:2;
then A62: ( i1 -' 1 ) < ( len f ) by A4,XREAL_1:233;
then ( ( f /^ ( i1 -' 1 ) ) /. ( ( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 ) + 1 ) ) = ( f /. ( len f ) ) by A57,CKB6:1;
then ( f . 1 ) in ( LSeg (( f /^ ( i1 -' 1 ) ),( ( len ( f /^ ( i1 -' 1 ) ) ) -' 1 )) ) by A59,A53,A49,FINSEQ_6:def 1;
then A63: ( f . 1 ) in ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) by A60,TARSKI:def 4;
( i1 -' 1 ) <= ( ( len f ) - 1 ) by A4,A61,XREAL_1:233;
then A64: ( i1 -' 1 ) <= ( ( len f ) -' 1 ) by A6,A8,XREAL_1:233,XXREAL_0:2;
A65: ( ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) /\ ( union { ( LSeg (( f | i2 ),j) ): (1 <= j & ( j + 1 ) <= ( len ( f | i2 ) )) } ) ) c= { ( f . 1 ) }
proof
let x being set;
assume A66: x in ( ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) /\ ( union { ( LSeg (( f | i2 ),j) ): (1 <= j & ( j + 1 ) <= ( len ( f | i2 ) )) } ) );
then x in ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) by XBOOLE_0:def 4;
then consider Y1 being set such that A67: (x in Y1 & Y1 in { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) }) by TARSKI:def 4;
consider j1 being (Element of ( NAT )) such that A68: Y1 = ( LSeg (( f /^ ( i1 -' 1 ) ),j1) ) and A69: 1 <= j1 and A70: ( j1 + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) ) by A67;
A71: ( ( 0 ) + 1 ) <= ( ( i1 -' 1 ) + j1 ) by A69,XREAL_1:7;
( j1 + 1 ) <= ( ( len f ) -' ( i1 -' 1 ) ) by A70,RFINSEQ:29;
then ( ( j1 + 1 ) + ( i1 -' 1 ) ) <= ( ( ( len f ) -' ( i1 -' 1 ) ) + ( i1 -' 1 ) ) by XREAL_1:6;
then ( ( j1 + 1 ) + ( i1 -' 1 ) ) <= ( len f ) by A62,XREAL_1:235;
then A72: ( ( f /^ ( i1 -' 1 ) ) . ( j1 + 1 ) ) = ( f . ( ( ( i1 -' 1 ) + j1 ) + 1 ) ) by FINSEQ_6:114,NAT_1:11;
j1 <= ( len ( f /^ ( i1 -' 1 ) ) ) by A70,NAT_1:13;
then A73: ( ( f /^ ( i1 -' 1 ) ) /. j1 ) = ( ( f /^ ( i1 -' 1 ) ) . j1 ) by A69,FINSEQ_4:15;
( ( j1 + 1 ) + ( i1 -' 1 ) ) <= ( ( ( len f ) -' ( i1 -' 1 ) ) + ( i1 -' 1 ) ) by A55,A70,XREAL_1:6;
then A74: ( ( j1 + 1 ) + ( i1 -' 1 ) ) <= ( len f ) by A62,XREAL_1:235;
A75: ( LSeg (( f /^ ( i1 -' 1 ) ),j1) ) = ( LSeg (( ( f /^ ( i1 -' 1 ) ) /. j1 ),( ( f /^ ( i1 -' 1 ) ) /. ( j1 + 1 ) )) ) by A69,A70,TOPREAL1:def 3;
A76: ( ( f /^ ( i1 -' 1 ) ) /. ( j1 + 1 ) ) = ( ( f /^ ( i1 -' 1 ) ) . ( j1 + 1 ) ) by A70,FINSEQ_4:15,NAT_1:11;
( ( i1 -' 1 ) + j1 ) <= ( ( ( i1 -' 1 ) + j1 ) + 1 ) by NAT_1:11;
then A77: ( j1 + ( i1 -' 1 ) ) <= ( len f ) by A74,XXREAL_0:2;
then ( ( f /^ ( i1 -' 1 ) ) . j1 ) = ( f . ( ( i1 -' 1 ) + j1 ) ) by A69,FINSEQ_6:114;
then A78: ( ( f /^ ( i1 -' 1 ) ) /. j1 ) = ( f /. ( ( i1 -' 1 ) + j1 ) ) by A71,A73,A77,FINSEQ_4:15;
( LSeg (f,( ( i1 -' 1 ) + j1 )) ) = ( LSeg (( f /. ( ( i1 -' 1 ) + j1 ) ),( f /. ( ( ( i1 -' 1 ) + j1 ) + 1 ) )) ) by A71,A74,TOPREAL1:def 3;
then A79: ( LSeg (( f /^ ( i1 -' 1 ) ),j1) ) = ( LSeg (f,( ( i1 -' 1 ) + j1 )) ) by A75,A74,A78,A72,A76,FINSEQ_4:15,NAT_1:11;
x in ( union { ( LSeg (( f | i2 ),j) ): (1 <= j & ( j + 1 ) <= ( len ( f | i2 ) )) } ) by A66,XBOOLE_0:def 4;
then consider Y2 being set such that A80: (x in Y2 & Y2 in { ( LSeg (( f | i2 ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f | i2 ) )) }) by TARSKI:def 4;
consider j2 being (Element of ( NAT )) such that A81: Y2 = ( LSeg (( f | i2 ),j2) ) and A82: 1 <= j2 and A83: ( j2 + 1 ) <= ( len ( f | i2 ) ) by A80;
A84: ( len ( f | i2 ) ) <= ( len f ) by FINSEQ_5:16;
then A85: ( j2 + 1 ) <= ( len f ) by A83,XXREAL_0:2;
A86: ( j2 + 1 ) <= ( len f ) by A83,A84,XXREAL_0:2;
A87: ( ( f | i2 ) /. ( j2 + 1 ) ) = ( ( f | i2 ) . ( j2 + 1 ) ) by A83,FINSEQ_4:15,NAT_1:11
.= ( f . ( j2 + 1 ) ) by A45,A83,FINSEQ_3:112
.= ( f /. ( j2 + 1 ) ) by A86,FINSEQ_4:15,NAT_1:11;
A88: ( LSeg (( f | i2 ),j2) ) = ( LSeg (( ( f | i2 ) /. j2 ),( ( f | i2 ) /. ( j2 + 1 ) )) ) by A82,A83,TOPREAL1:def 3;
A89: j2 < ( len ( f | i2 ) ) by A83,NAT_1:13;
then A90: j2 < ( len f ) by A84,XXREAL_0:2;
( ( f | i2 ) /. j2 ) = ( ( f | i2 ) . j2 ) by A82,A89,FINSEQ_4:15
.= ( f . j2 ) by A45,A89,FINSEQ_3:112
.= ( f /. j2 ) by A82,A90,FINSEQ_4:15;
then A91: ( LSeg (( f | i2 ),j2) ) = ( LSeg (f,j2) ) by A82,A87,A88,A85,TOPREAL1:def 3;
A92:now
( len ( f /^ ( i1 -' 1 ) ) ) = ( ( len f ) - ( i1 -' 1 ) ) by A12,A55,NAT_D:44,XREAL_1:233;
then A93: ( ( j1 + 1 ) + ( i1 -' 1 ) ) <= ( ( ( len f ) - ( i1 -' 1 ) ) + ( i1 -' 1 ) ) by A70,XREAL_1:6;
then ( ( ( i1 -' 1 ) + j1 ) + 1 ) <= ( len f );
then A94: ( ( i1 -' 1 ) + j1 ) < ( len f ) by NAT_1:13;
A95: ( i2 + 1 ) <= i1 by A2,NAT_1:13;
assume A96: (not (j2 = 1 & ( ( i1 -' 1 ) + j1 ) = ( ( len f ) -' 1 )));
A97: ( ( i1 -' 1 ) + 1 ) <= ( ( i1 -' 1 ) + j1 ) by A69,XREAL_1:6;
A98: ( ( i1 -' 1 ) + 1 ) = i1 by A4,XREAL_1:235;
( j2 + 1 ) < ( i2 + 1 ) by A45,A83,NAT_1:13;
then ( j2 + 1 ) < ( ( i1 -' 1 ) + 1 ) by A95,A98,XXREAL_0:2;
then A99: ( j2 + 1 ) < ( ( i1 -' 1 ) + j1 ) by A97,XXREAL_0:2;
A100: ( ( ( ( i1 -' 1 ) + j1 ) + 1 ) - 1 ) <= ( ( len f ) - 1 ) by A93,XREAL_1:9;
now
per cases  by A28,A82,A96,A100,XXREAL_0:1;
case j2 > 1;
then ( LSeg (f,( ( i1 -' 1 ) + j1 )) ) misses ( LSeg (f,j2) ) by A99,A94,GOBOARD5:def 4;
hence ( ( LSeg (f,( ( i1 -' 1 ) + j1 )) ) /\ ( LSeg (f,j2) ) ) = ( {} ) by XBOOLE_0:def 7;
end;
case ( ( i1 -' 1 ) + j1 ) < ( ( len f ) -' 1 );
then ( ( ( i1 -' 1 ) + j1 ) + 1 ) < ( ( ( len f ) -' 1 ) + 1 ) by XREAL_1:6;
then ( LSeg (f,( ( i1 -' 1 ) + j1 )) ) misses ( LSeg (f,j2) ) by A28,A99,GOBOARD5:def 4;
hence ( ( LSeg (f,( ( i1 -' 1 ) + j1 )) ) /\ ( LSeg (f,j2) ) ) = ( {} ) by XBOOLE_0:def 7;
end;
end;
hence contradiction by A67,A68,A80,A81,A79,A91,XBOOLE_0:def 4;
end;
then A101: ( LSeg (( f | i2 ),j2) ) = ( LSeg (f,1) ) by A46,SPPOL_2:3;
( ( ( ( len f ) -' 1 ) - ( i1 -' 1 ) ) + ( i1 -' 1 ) ) <= ( len f ) by A28,A27;
then A102: ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + ( i1 -' 1 ) ) <= ( len f ) by A64,XREAL_1:233;
A103: ( ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + 1 ) + ( i1 -' 1 ) ) = ( ( ( ( ( len f ) -' 1 ) - ( i1 -' 1 ) ) + 1 ) + ( i1 -' 1 ) ) by A64,XREAL_1:233
.= ( ( ( len f ) -' 1 ) + 1 )
.= ( ( ( len f ) - 1 ) + 1 ) by A6,A8,XREAL_1:233,XXREAL_0:2
.= ( len f );
A104: ( len ( f /^ ( i1 -' 1 ) ) ) = ( ( len f ) - ( i1 -' 1 ) ) by A12,A55,NAT_D:44,XREAL_1:233;
( ( ( len f ) -' 1 ) - ( i1 -' 1 ) ) < ( ( len f ) - ( i1 -' 1 ) ) by A28,A27,XREAL_1:9;
then A105: ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) < ( len ( f /^ ( i1 -' 1 ) ) ) by A64,A104,XREAL_1:233;
then A106: ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) ) by NAT_1:13;
( ( i1 + 1 ) - 1 ) <= ( ( len f ) - 1 ) by A11,XREAL_1:9;
then A107: ( i1 - ( i1 - 1 ) ) <= ( ( ( len f ) - 1 ) - ( i1 - 1 ) ) by XREAL_1:9;
then A108: 1 <= ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) by A28,A5,NAT_D:39;
then A109: ( ( f /^ ( i1 -' 1 ) ) /. ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) ) = ( ( f /^ ( i1 -' 1 ) ) . ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) ) by A105,FINSEQ_4:15
.= ( f . ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + ( i1 -' 1 ) ) ) by A102,A108,FINSEQ_6:114
.= ( f . ( ( ( ( len f ) -' 1 ) - ( i1 -' 1 ) ) + ( i1 -' 1 ) ) ) by A64,XREAL_1:233
.= ( f /. ( ( len f ) -' 1 ) ) by A28,A31,A27,FINSEQ_4:15;
A110: 1 < ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + 1 ) by A108,NAT_1:13;
then A111: ( ( f /^ ( i1 -' 1 ) ) /. ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + 1 ) ) = ( ( f /^ ( i1 -' 1 ) ) . ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + 1 ) ) by A106,FINSEQ_4:15
.= ( f . ( 1 + ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + ( i1 -' 1 ) ) ) ) by A103,A110,FINSEQ_6:114
.= ( f . ( ( ( ( ( len f ) -' 1 ) - ( i1 -' 1 ) ) + ( i1 -' 1 ) ) + 1 ) ) by A64,XREAL_1:233
.= ( f . ( len f ) ) by A6,A8,XREAL_1:235,XXREAL_0:2
.= ( f /. ( len f ) ) by A9,FINSEQ_4:15;
A112: 1 <= ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) by A28,A5,A107,NAT_D:39;
j1 = ( ( ( len f ) -' 1 ) - ( i1 -' 1 ) ) by A92
.= ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) by A64,XREAL_1:233;
then ( LSeg (( f /^ ( i1 -' 1 ) ),j1) ) = ( LSeg (( ( f /^ ( i1 -' 1 ) ) /. ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) ),( ( f /^ ( i1 -' 1 ) ) /. ( ( ( ( len f ) -' 1 ) -' ( i1 -' 1 ) ) + 1 ) )) ) by A112,A106,TOPREAL1:def 3
.= ( LSeg (f,( ( len f ) -' 1 )) ) by A29,A31,A109,A111,TOPREAL1:def 3;
then ( ( LSeg (( f /^ ( i1 -' 1 ) ),j1) ) /\ ( LSeg (( f | i2 ),j2) ) ) = { ( f . 1 ) } by A101,CKB46:1;
hence thesis by A67,A68,A80,A81,XBOOLE_0:def 4;
end;
( 1 + 1 ) <= ( len ( f | i2 ) ) by A39,A45,NAT_1:13;
then ( LSeg (( f | 2 ),( ( len ( f | 2 ) ) -' 1 )) ) in { ( LSeg (( f | i2 ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f | i2 ) )) } by A44,A50,A48,A54,A47;
then ( f . 1 ) in ( union { ( LSeg (( f | i2 ),j) ): (1 <= j & ( j + 1 ) <= ( len ( f | i2 ) )) } ) by A51,TARSKI:def 4;
then ( f . 1 ) in ( ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) /\ ( union { ( LSeg (( f | i2 ),j) ): (1 <= j & ( j + 1 ) <= ( len ( f | i2 ) )) } ) ) by A63,XBOOLE_0:def 4;
then { ( f . 1 ) } c= ( ( union { ( LSeg (( f /^ ( i1 -' 1 ) ),i) ): (1 <= i & ( i + 1 ) <= ( len ( f /^ ( i1 -' 1 ) ) )) } ) /\ ( union { ( LSeg (( f | i2 ),j) ): (1 <= j & ( j + 1 ) <= ( len ( f | i2 ) )) } ) ) by ZFMISC_1:31;
hence thesis by A65,XBOOLE_0:def 10;
end;
then ( ( L~ ( f /^ ( i1 -' 1 ) ) ) /\ ( L~ ( mid (f,1,i2) ) ) ) = { ( f . 1 ) } by A14,A34,A26,FINSEQ_6:116;
then A113: ( ( L~ f1 ) /\ ( L~ ( mid (f,1,i2) ) ) ) = { ( ( mid (f,1,i2) ) . 1 ) } by A12,A18,FINSEQ_6:117;
( mid (f,1,i2) ) is  being_S-Seq by A16,A39,CKB43:1;
hence ( ( mid (f1,1,( ( len f1 ) -' 1 )) ) ^ ( mid (f,1,i2) ) ) is  being_S-Seq by A15,A19,A113,JORDAN3:45;
end;
case i2 = 1;
then A114: ( mid (f,1,i2) ) = ( f | 1 ) by FINSEQ_6:116
.= <* ( f /. 1 ) *> by FINSEQ_5:20;
A115: ( mid (f1,1,( ( len f1 ) -' 1 )) ) = ( f1 | ( ( len f1 ) -' 1 ) ) by A23,FINSEQ_6:116;
A116: ( ( ( len f1 ) -' 1 ) + 1 ) = ( len f1 ) by A20,NAT_D:34;
<* ( f /. 1 ) *> = <* ( f1 /. ( len f1 ) ) *> by A13,A10,A35,A37,FINSEQ_4:15;
hence ( ( mid (f1,1,( ( len f1 ) -' 1 )) ) ^ ( mid (f,1,i2) ) ) is  being_S-Seq by A15,A114,A115,A116,FINSEQ_5:21;
end;
end;
A117: 1 <= ( len f1 ) by A20,NAT_1:11;
then ( len ( mid (f1,1,( ( len f1 ) -' 1 )) ) ) = ( ( ( ( len f1 ) -' 1 ) -' 1 ) + 1 ) by A23,A22,FINSEQ_6:118
.= ( ( ( ( ( ( len f ) -' i1 ) + 1 ) -' 1 ) -' 1 ) + 1 ) by A4,A9,A12,FINSEQ_6:118;
then A118: ( len ( mid (f1,1,( ( len f1 ) -' 1 )) ) ) = ( len ( mid (f,i1,( ( len f ) -' 1 )) ) ) by A25,A32,NAT_D:34;
(for k being Nat holds ((1 <= k & k <= ( len ( mid (f,i1,( ( len f ) -' 1 )) ) )) implies ( ( mid (f1,1,( ( len f1 ) -' 1 )) ) . k ) = ( ( mid (f,i1,( ( len f ) -' 1 )) ) . k )))
proof
A119: ( len ( mid (f,i1,( len f )) ) ) = ( ( ( len f ) -' i1 ) + 1 ) by A4,A9,A12,FINSEQ_6:118;
let k being Nat;
assume that
A120: 1 <= k
and
A121: k <= ( len ( mid (f,i1,( ( len f ) -' 1 )) ) );
k <= ( ( len f ) -' i1 ) by A12,A32,A121,XREAL_1:233;
then A122: k < ( len ( mid (f,i1,( len f )) ) ) by A119,NAT_1:13;
A123: k in ( NAT ) by ORDINAL1:def 12;
then ( ( mid (f1,1,( ( len f1 ) -' 1 )) ) . k ) = ( f1 . ( ( k + 1 ) -' 1 ) ) by A117,A23,A22,A118,A120,A121,FINSEQ_6:118
.= ( f1 . k ) by NAT_D:34
.= ( f . ( ( k + i1 ) -' 1 ) ) by A4,A9,A12,A120,A123,A122,FINSEQ_6:118;
hence thesis by A4,A28,A12,A30,A31,A27,A120,A121,A123,FINSEQ_6:118;
end;
then ( mid (f1,1,( ( len f1 ) -' 1 )) ) = ( mid (f,i1,( ( len f ) -' 1 )) ) by A118,FINSEQ_1:14;
then g is  being_S-Seq by A1,A2,A38,CKB30:1;
hence thesis by A33,A21,TOPREAL4:def 1;
end;
