environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,NAT_1,TARSKI,ARYTM_3,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,FINSET_1,CARD_1,ORDERS_2,REARRAN1,RELAT_2,STRUCT_0,WELLORD1,WAYBEL_4,WAYBEL20,EQREL_1,ORDERS_1,ZFMISC_1,WELLFND1,SETFAM_1,VALUED_0,ORDINAL2,MCART_1,CAT_1,YELLOW_1,PBOOLE,CARD_3,RLVECT_2,YELLOW_6,WAYBEL_3,FUNCT_4,YELLOW_3,DICKSON;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,XXREAL_2,SEQ_4,PARTFUN1,FUNCT_2,CARD_3,NAT_1,STRUCT_0,RELAT_2,XXREAL_0,FUNCT_4,FUNCOP_1,DOMAIN_1,FINSET_1,MCART_1,WELLORD1,ORDERS_2,ORDERS_1,EQREL_1,WELLFND1,WAYBEL_0,CARD_1,NUMBERS,WAYBEL_4,VALUED_0,PRALG_1,YELLOW_3,WAYBEL_1,YELLOW_1,WAYBEL_3,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46;
definitions TARSKI,RELAT_2,ORDERS_2,ORDERS_1,FUNCOP_1,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46;
theorems WELLORD1,ORDERS_1,SUBSET_1,TARSKI,RELAT_1,RELAT_2,RELSET_1,ZFMISC_1,EQREL_1,WAYBEL_0,ORDERS_2,NAT_1,FUNCT_1,FUNCT_2,CARD_2,CARD_1,NORMSP_1,SEQM_3,FINSET_1,AXIOMS,YELLOW_3,WAYBEL_1,WAYBEL20,YELLOW_1,CARD_3,FUNCOP_1,WAYBEL_3,MCART_1,FUNCT_4,WELLFND1,WAYBEL_4,PRALG_1,YELLOW_6,AFINSQ_1,XBOOLE_0,XBOOLE_1,PARTFUN1,XXREAL_0,ORDINAL1,XXREAL_2,VALUED_0,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49;
schemes PRE_CIRC,RECDEF_1,NAT_1,FUNCT_2,DOMAIN_1,FRAENKEL,FINSEQ_1,FUNCT_1,RELSET_1,CKB3;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,NAT_1,MEMBERED,EQREL_1,CARD_5,PRE_CIRC,STRUCT_0,ORDERS_2,YELLOW_1,YELLOW_3,WAYBEL18,WAYBEL_3,VALUED_0,CARD_1,XXREAL_2,CARD_3,ZFMISC_1,RELSET_1,CKB18,CKB21,CKB22,CKB23;
constructors WELLORD1,DOMAIN_1,NAT_1,BINOP_2,BHSP_3,PRALG_1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WELLFND1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,RELSET_1,PBOOLE,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46;
requirements BOOLE,SUBSET,NUMERALS;
begin
theorem
Th33: (for R being non empty RelStr holds ((R is  quasi_ordered & (for N being non empty (Subset of R) holds (( min-classes N ) is  finite & ( min-classes N ) is non empty))) implies R is  Dickson))
proof
let R being non empty RelStr;
assume that
A1: R is  quasi_ordered
and
A2: (for N being non empty (Subset of R) holds (( min-classes N ) is  finite & ( min-classes N ) is non empty));
A3: R is  transitive by A1,CKB11:def 1;
A4: R is  reflexive by A1,CKB11:def 1;
set IR = (the InternalRel of R);
set CR = (the carrier of R);
set IR9 = (the InternalRel of ( R \~ ));
let N being (Subset of CR);
per cases ;
suppose A5: N = ( {} CR );

take B = ( {} );
thus B is_Dickson-basis_of N,R by A5,CKB40:1;
thus thesis;
end;
suppose (not N is  empty);

then reconsider N9 = N as non empty (Subset of CR);
reconsider MCN9 = ( min-classes N9 ) as  finite non empty (Subset-Family of CR) by A2;
take B = { ( choose x ) where x is (Element of MCN9): (not contradiction) };
thus B is_Dickson-basis_of N,R
proof
now
let x being set;
assume x in B;
then consider y being (Element of MCN9) such that A6: x = ( choose y );
A7: (ex z being (Element of ( R \~ )) st (z is_minimal_wrt N,IR9 & y = ( ( Class (( EqRel R ),z) ) /\ N ))) by CKB32:def 1;
y is non empty by CKB36:1;
hence x in N by A6,A7,XBOOLE_0:def 4;
end;
hence B c= N by TARSKI:def 3;
let a being (Element of R);
assume that
A8: a in N;
defpred P[ (Element of R) ]
 means
$1 <= a;
set NN9 = { d where d is (Element of N9): P[ d ] };
A9: NN9 is (Subset of N9) from DOMAIN_1:sch 7;
a <= a by A4,ORDERS_2:1;
then a in NN9 by A8;
then reconsider NN9 as non empty (Subset of CR) by A9,XBOOLE_1:1;
set m = the (Element of ( min-classes NN9 ));
A10: ( min-classes NN9 ) is non empty by A2;
then reconsider m9 = m as non empty set by CKB36:1;
set c = the (Element of m9);
consider y being (Element of ( R \~ )) such that y is_minimal_wrt NN9,IR9 and A11: m9 = ( ( Class (( EqRel R ),y) ) /\ NN9 ) by A10,CKB32:def 1;
A12: c in ( Class (( EqRel R ),y) ) by A11,XBOOLE_0:def 4;
A13: c in NN9 by A11,XBOOLE_0:def 4;
reconsider c as (Element of ( R \~ )) by A12;
reconsider c9 = c as (Element of R);
A14: (ex d being (Element of N9) st (c = d & d <= a)) by A13;
A15: c is_minimal_wrt NN9,IR9 by A1,A10,CKB33:1;
now
assume (not c is_minimal_wrt N,IR9);
then consider w being set such that A16: w in N and A17: w <> c and A18: [ w,c ] in IR9 by A14,WAYBEL_4:def 25;
reconsider w9 = w as (Element of R) by A18,ZFMISC_1:87;
w9 <= c9 by A18,ORDERS_2:def 5;
then w9 <= a by A3,A14,ORDERS_2:3;
then w9 in NN9 by A16;
hence contradiction by A15,A17,A18,WAYBEL_4:def 25;
end;
then A19: ( ( Class (( EqRel R ),c) ) /\ N ) in ( min-classes N ) by CKB32:def 1;
then A20: ( ( Class (( EqRel R ),c) ) /\ N ) is non empty by CKB36:1;
set t = ( choose ( ( Class (( EqRel R ),c) ) /\ N ) );
t in N by A20,XBOOLE_0:def 4;
then reconsider t as (Element of R);
take t;
thus t in B by A19;
t in ( Class (( EqRel R ),c) ) by A20,XBOOLE_0:def 4;
then [ t,c ] in ( EqRel R ) by EQREL_1:19;
then [ t,c ] in ( IR /\ ( IR ~ ) ) by A1,CKB12:def 1;
then [ t,c ] in IR by XBOOLE_0:def 4;
then t <= c9 by ORDERS_2:def 5;
hence thesis by A3,A14,ORDERS_2:3;
end;

deffunc F(set) = ( choose $1 );
defpred P[ set ]
 means
(not contradiction);
{ F(x) where x is (Element of MCN9): P[ x ] } is  finite from PRE_CIRC:sch 1;
hence thesis;
end;
end;
