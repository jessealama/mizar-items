environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,NAT_1,TARSKI,ARYTM_3,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,FINSET_1,CARD_1,ORDERS_2,REARRAN1,RELAT_2,STRUCT_0,WELLORD1,WAYBEL_4,WAYBEL20,EQREL_1,ORDERS_1,ZFMISC_1,WELLFND1,SETFAM_1,VALUED_0,ORDINAL2,MCART_1,CAT_1,YELLOW_1,PBOOLE,CARD_3,RLVECT_2,YELLOW_6,WAYBEL_3,FUNCT_4,YELLOW_3,DICKSON;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,XXREAL_2,SEQ_4,PARTFUN1,FUNCT_2,CARD_3,NAT_1,STRUCT_0,RELAT_2,XXREAL_0,FUNCT_4,FUNCOP_1,DOMAIN_1,FINSET_1,MCART_1,WELLORD1,ORDERS_2,ORDERS_1,EQREL_1,WELLFND1,WAYBEL_0,CARD_1,NUMBERS,WAYBEL_4,VALUED_0,PRALG_1,YELLOW_3,WAYBEL_1,YELLOW_1,WAYBEL_3,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53,CKB68,CKB73;
definitions TARSKI,RELAT_2,ORDERS_2,ORDERS_1,FUNCOP_1,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53,CKB68,CKB73;
theorems WELLORD1,ORDERS_1,SUBSET_1,TARSKI,RELAT_1,RELAT_2,RELSET_1,ZFMISC_1,EQREL_1,WAYBEL_0,ORDERS_2,NAT_1,FUNCT_1,FUNCT_2,CARD_2,CARD_1,NORMSP_1,SEQM_3,FINSET_1,AXIOMS,YELLOW_3,WAYBEL_1,WAYBEL20,YELLOW_1,CARD_3,FUNCOP_1,WAYBEL_3,MCART_1,FUNCT_4,WELLFND1,WAYBEL_4,PRALG_1,YELLOW_6,AFINSQ_1,XBOOLE_0,XBOOLE_1,PARTFUN1,XXREAL_0,ORDINAL1,XXREAL_2,VALUED_0,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB60,CKB61,CKB62,CKB63,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB84,CKB85;
schemes PRE_CIRC,RECDEF_1,NAT_1,FUNCT_2,DOMAIN_1,FRAENKEL,FINSEQ_1,FUNCT_1,RELSET_1,CKB3;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,NAT_1,MEMBERED,EQREL_1,CARD_5,PRE_CIRC,STRUCT_0,ORDERS_2,YELLOW_1,YELLOW_3,WAYBEL18,WAYBEL_3,VALUED_0,CARD_1,XXREAL_2,CARD_3,ZFMISC_1,RELSET_1,CKB18,CKB21,CKB22,CKB23,CKB59,CKB64,CKB65,CKB66,CKB67,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83;
constructors WELLORD1,DOMAIN_1,NAT_1,BINOP_2,BHSP_3,PRALG_1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WELLFND1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,RELSET_1,PBOOLE,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53,CKB68,CKB73;
requirements BOOLE,SUBSET,NUMERALS;
begin
theorem
(for R being non empty RelStr holds (R is  quasi_ordered implies (R is  Dickson iff (for S being non empty RelStr holds (((S is  quasi_ordered & (the InternalRel of R) c= (the InternalRel of S)) & (the carrier of R) = (the carrier of S)) implies ( S \~ ) is  well_founded)))))
proof
let R being non empty RelStr;
assume that
A1: R is  quasi_ordered;
A2: R is  reflexive by A1,CKB11:def 1;
A3: R is  transitive by A1,CKB11:def 1;
set IR = (the InternalRel of R);
set CR = (the carrier of R);
thus (R is  Dickson implies (for S being non empty RelStr holds (((S is  quasi_ordered & IR c= (the InternalRel of S)) & CR = (the carrier of S)) implies ( S \~ ) is  well_founded))) by CKB85:1;
assume A4: (for S being non empty RelStr holds (((S is  quasi_ordered & IR c= (the InternalRel of S)) & CR = (the carrier of S)) implies ( S \~ ) is  well_founded));
now
assume (not R is  Dickson);
then (not (for N being non empty (Subset of R) holds (( min-classes N ) is  finite & ( min-classes N ) is non empty))) by A1,CKB50:1;
then consider f being (sequence of R) such that A5: (for i,j being (Element of ( NAT )) holds (i < j implies (not ( f . i ) <= ( f . j )))) by A1,CKB49:1;
defpred P[ set,set ]
 means
([ $1,$2 ] in IR or (ex i,j being (Element of ( NAT )) st ((i < j & [ $1,( f . j ) ] in IR) & [ ( f . i ),$2 ] in IR)));
consider QOE being (Relation of CR,CR) such that A6: (for x,y being set holds ([ x,y ] in QOE iff ((x in CR & y in CR) & P[ x,y ]))) from RELSET_1:sch 1;
set S = RelStr (# CR,QOE #);
now
let x being set,y being set;
assume that
A7: [ x,y ] in IR;
A8: x in ( dom IR ) by A7,RELAT_1:def 4;
y in ( rng IR ) by A7,RELAT_1:def 5;
hence [ x,y ] in QOE by A6,A7,A8;
end;
then A9: IR c= (the InternalRel of S) by RELAT_1:def 3;
A10: IR is_reflexive_in CR by A2,ORDERS_2:def 2;
now
let x being set;
assume that
A11: x in CR;
[ x,x ] in IR by A10,A11,RELAT_2:def 1;
hence [ x,x ] in QOE by A6,A11;
end;
then QOE is_reflexive_in CR by RELAT_2:def 1;
then A12: S is  reflexive by ORDERS_2:def 2;
A13: IR is_transitive_in CR by A3,ORDERS_2:def 3;
now
let x being set,y being set,z being set;
assume that
A14: x in CR
and
A15: y in CR
and
A16: z in CR
and
A17: [ x,y ] in QOE
and
A18: [ y,z ] in QOE;
now
per cases  by A6,A17;
suppose A19: [ x,y ] in IR;

now
per cases  by A6,A18;
suppose [ y,z ] in IR;

then [ x,z ] in IR by A13,A14,A15,A16,A19,RELAT_2:def 8;
hence [ x,z ] in QOE by A6,A14,A16;
end;
suppose (ex i,j being (Element of ( NAT )) st ((i < j & [ y,( f . j ) ] in IR) & [ ( f . i ),z ] in IR));

then consider i being (Element of ( NAT )),j being (Element of ( NAT )) such that A20: i < j and A21: [ y,( f . j ) ] in IR and A22: [ ( f . i ),z ] in IR;
[ x,( f . j ) ] in IR by A13,A14,A15,A19,A21,RELAT_2:def 8;
hence [ x,z ] in QOE by A6,A14,A16,A20,A22;
end;
end;
hence [ x,z ] in QOE;
end;
suppose (ex i,j being (Element of ( NAT )) st ((i < j & [ x,( f . j ) ] in IR) & [ ( f . i ),y ] in IR));

then consider i being (Element of ( NAT )),j being (Element of ( NAT )) such that A23: i < j and A24: [ x,( f . j ) ] in IR and A25: [ ( f . i ),y ] in IR;
now
per cases  by A6,A18;
suppose [ y,z ] in IR;

then [ ( f . i ),z ] in IR by A13,A15,A16,A25,RELAT_2:def 8;
hence [ x,z ] in QOE by A6,A14,A16,A23,A24;
end;
suppose (ex a,b being (Element of ( NAT )) st ((a < b & [ y,( f . b ) ] in IR) & [ ( f . a ),z ] in IR));

then consider a being (Element of ( NAT )),b being (Element of ( NAT )) such that A26: a < b and A27: [ y,( f . b ) ] in IR and A28: [ ( f . a ),z ] in IR;
[ ( f . i ),( f . b ) ] in IR by A13,A15,A25,A27,RELAT_2:def 8;
then ( f . i ) <= ( f . b ) by ORDERS_2:def 5;
then (not i < b) by A5;
then a <= i by A26,XXREAL_0:2;
then a < j by A23,XXREAL_0:2;
hence [ x,z ] in QOE by A6,A14,A16,A24,A28;
end;
end;
hence [ x,z ] in QOE;
end;
end;
hence [ x,z ] in QOE;
end;
then QOE is_transitive_in CR by RELAT_2:def 8;
then S is  transitive by ORDERS_2:def 3;
then S is  quasi_ordered by A12,CKB11:def 1;
then A29: ( S \~ ) is  well_founded by A4,A9;
reconsider f9 = f as (sequence of ( S \~ ));
now
let n being Nat;
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
A30: n < ( n + 1 ) by NAT_1:13;
then (not ( f . n1 ) <= ( f . ( n1 + 1 ) )) by A5;
then A31: (not [ ( f . n ),( f . ( n + 1 ) ) ] in IR) by ORDERS_2:def 5;
hence ( f9 . ( n + 1 ) ) <> ( f9 . n ) by A10,RELAT_2:def 1;
A32: [ ( f9 . ( n + 1 ) ),( f9 . ( n + 1 ) ) ] in IR by A10,RELAT_2:def 1;
A33: [ ( f9 . n ),( f9 . n ) ] in IR by A10,RELAT_2:def 1;
A34:now
assume [ ( f9 . n ),( f9 . ( n + 1 ) ) ] in QOE;
then (ex i,j being (Element of ( NAT )) st ((i < j & [ ( f9 . n ),( f . j ) ] in IR) & [ ( f . i ),( f9 . ( n + 1 ) ) ] in IR)) by A6,A31;
then consider l being (Element of ( NAT )),k being (Element of ( NAT )) such that A35: k < l and A36: [ ( f9 . n ),( f . l ) ] in IR and A37: [ ( f . k ),( f9 . ( n + 1 ) ) ] in IR;
A38: ( f . n ) <= ( f . l ) by A36,ORDERS_2:def 5;
A39: ( f . k ) <= ( f . ( n + 1 ) ) by A37,ORDERS_2:def 5;
A40: l <= n1 by A5,A38;
A41: ( n + 1 ) <= k by A5,A39;
l < ( n + 1 ) by A40,NAT_1:13;
hence contradiction by A35,A41,XXREAL_0:2;
end;
A42: [ ( f9 . ( n1 + 1 ) ),( f9 . n1 ) ] in QOE by A6,A30,A32,A33;
(not [ ( f9 . ( n + 1 ) ),( f9 . n ) ] in ( QOE ~ )) by A34,RELAT_1:def 7;
hence [ ( f9 . ( n + 1 ) ),( f9 . n ) ] in (the InternalRel of ( S \~ )) by A42,XBOOLE_0:def 5;
end;
then f9 is  descending by WELLFND1:def 6;
hence contradiction by A29,WELLFND1:14;
end;
hence thesis;
end;
