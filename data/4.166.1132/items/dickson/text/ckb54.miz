environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,NAT_1,TARSKI,ARYTM_3,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,FINSET_1,CARD_1,ORDERS_2,REARRAN1,RELAT_2,STRUCT_0,WELLORD1,WAYBEL_4,WAYBEL20,EQREL_1,ORDERS_1,ZFMISC_1,WELLFND1,SETFAM_1,VALUED_0,ORDINAL2,MCART_1,CAT_1,YELLOW_1,PBOOLE,CARD_3,RLVECT_2,YELLOW_6,WAYBEL_3,FUNCT_4,YELLOW_3,DICKSON;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,XXREAL_2,SEQ_4,PARTFUN1,FUNCT_2,CARD_3,NAT_1,STRUCT_0,RELAT_2,XXREAL_0,FUNCT_4,FUNCOP_1,DOMAIN_1,FINSET_1,MCART_1,WELLORD1,ORDERS_2,ORDERS_1,EQREL_1,WELLFND1,WAYBEL_0,CARD_1,NUMBERS,WAYBEL_4,VALUED_0,PRALG_1,YELLOW_3,WAYBEL_1,YELLOW_1,WAYBEL_3,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53;
definitions TARSKI,RELAT_2,ORDERS_2,ORDERS_1,FUNCOP_1,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53;
theorems WELLORD1,ORDERS_1,SUBSET_1,TARSKI,RELAT_1,RELAT_2,RELSET_1,ZFMISC_1,EQREL_1,WAYBEL_0,ORDERS_2,NAT_1,FUNCT_1,FUNCT_2,CARD_2,CARD_1,NORMSP_1,SEQM_3,FINSET_1,AXIOMS,YELLOW_3,WAYBEL_1,WAYBEL20,YELLOW_1,CARD_3,FUNCOP_1,WAYBEL_3,MCART_1,FUNCT_4,WELLFND1,WAYBEL_4,PRALG_1,YELLOW_6,AFINSQ_1,XBOOLE_0,XBOOLE_1,PARTFUN1,XXREAL_0,ORDINAL1,XXREAL_2,VALUED_0,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53;
schemes PRE_CIRC,RECDEF_1,NAT_1,FUNCT_2,DOMAIN_1,FRAENKEL,FINSEQ_1,FUNCT_1,RELSET_1,CKB3;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,NAT_1,MEMBERED,EQREL_1,CARD_5,PRE_CIRC,STRUCT_0,ORDERS_2,YELLOW_1,YELLOW_3,WAYBEL18,WAYBEL_3,VALUED_0,CARD_1,XXREAL_2,CARD_3,ZFMISC_1,RELSET_1,CKB18,CKB21,CKB22,CKB23;
constructors WELLORD1,DOMAIN_1,NAT_1,BINOP_2,BHSP_3,PRALG_1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WELLFND1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,RELSET_1,PBOOLE,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53;
requirements BOOLE,SUBSET,NUMERALS;
begin
theorem
Th36: (for R being non empty RelStr holds (for s being (sequence of R) holds (R is  Dickson implies (ex t being (sequence of R) st (t is (subsequence of s) & t is  weakly-ascending)))))
proof
let R being non empty RelStr;
let s being (sequence of R);
assume that
A1: R is  Dickson;
set CR = (the carrier of R);
deffunc Bi((Element of ( rng s )),(Element of ( NAT ))) = { n where n is (Element of ( NAT )): ($1 <= ( s . n ) & $2 < n) };
deffunc Bi2((Element of ( rng s ))) = { n where n is (Element of ( NAT )): $1 <= ( s . n ) };
defpred P[ set,(Element of ( NAT )),set ]
 means
(ex N being (Subset of CR) st (ex B being non empty (Subset of CR) st (((N = { ( s . w ) where w is (Element of ( NAT )): (( s . $2 ) <= ( s . w ) & $2 < w) } & { w where w is (Element of ( NAT )): (( s . $2 ) <= ( s . w ) & $2 < w) } is  infinite) & B = ( choose { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite } )) & $3 = ( s mindex (( choose { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,$2) is  infinite)) } ),$2) ))));
defpred Q[ set,(Element of ( NAT )),set ]
 means
({ w where w is (Element of ( NAT )): (( s . $2 ) <= ( s . w ) & $2 < w) } is  infinite implies P[ $1,$2,$3 ]);
A2: (for n being (Element of ( NAT )) holds (for x being (Element of ( NAT )) holds (ex y being (Element of ( NAT )) st Q[ n,x,y ])))
proof
let n being (Element of ( NAT ));
let x being (Element of ( NAT ));
set N = { ( s . w ) where w is (Element of ( NAT )): (( s . x ) <= ( s . w ) & x < w) };
now
let y being set;
assume y in N;
then (ex w being (Element of ( NAT )) st ((y = ( s . w ) & ( s . x ) <= ( s . w )) & x < w));
hence y in CR;
end;
then reconsider N as (Subset of CR) by TARSKI:def 3;
set W = { w where w is (Element of ( NAT )): (( s . x ) <= ( s . w ) & x < w) };
per cases ;
suppose A3: N is  empty;

take 1;
assume W is  infinite;
then consider ww being set such that A4: ww in W by XBOOLE_0:def 1;
consider www being (Element of ( NAT )) such that www = ww and A5: ( s . x ) <= ( s . www ) and A6: x < www by A4;
( s . www ) in N by A5,A6;
hence thesis by A3;
end;
suppose A7: N is non empty;

set BBX = { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite };
set B = ( choose BBX );
consider BD1 being set such that A8: BD1 is_Dickson-basis_of N,R and A9: BD1 is  finite by A1,CKB42:def 1;
BD1 in ( Dickson-bases (N,R) ) by A1,A8,CKB53:def 1;
then BD1 in BBX by A9;
then B in BBX;
then (ex BBB being (Element of ( Dickson-bases (N,R) )) st (B = BBB & BBB is  finite));
then A10: B is_Dickson-basis_of N,R by A1,CKB53:def 1;
then B c= N by CKB39:def 1;
then reconsider B as non empty (Subset of CR) by A7,A10,CKB41:1,XBOOLE_1:1;
set y = ( s mindex (( choose { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,x) is  infinite)) } ),x) );
take y;
set W = { w where w is (Element of ( NAT )): (( s . x ) <= ( s . w ) & x < w) };
assume A11: W is  infinite;
take N;
reconsider B as non empty (Subset of CR);
take B;
thus N = { ( s . w ) where w is (Element of ( NAT )): (( s . x ) <= ( s . w ) & x < w) };
thus { w where w is (Element of ( NAT )): (( s . x ) <= ( s . w ) & x < w) } is  infinite by A11;
thus B = ( choose { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite } );
thus thesis;
end;
end;
consider B being set such that A12: B is_Dickson-basis_of ( rng s ),R and A13: B is  finite by A1,CKB42:def 1;
reconsider B as non empty set by A12,CKB41:1;
set BALL = { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi2(b9) is  infinite)) };
set b1 = ( choose BALL );
consider f being (Function of ( NAT ),( NAT )) such that A14: ( f . ( 0 ) ) = ( s mindex b1 ) and A15: (for n being (Element of ( NAT )) holds Q[ n,( f . n ),( f . ( n + 1 ) ) ]) from RECDEF_1:sch 2(A2);
A16: ( dom f ) = ( NAT ) by FUNCT_2:def 1;
A17: ( rng f ) c= ( NAT );
now
A18: B is  finite by A13;
assume A19: (for b being (Element of ( rng s )) holds (b in B implies Bi2(b) is  finite));
set Ball = { Bi2(b) where b is (Element of ( rng s )): b in B };
A20: Ball is  finite from FRAENKEL:sch 21(A18);
now
let X being set;
assume X in Ball;
then (ex b being (Element of ( rng s )) st (X = Bi2(b) & b in B));
hence X is  finite by A19;
end;
then A21: ( union Ball ) is  finite by A20,FINSET_1:7;
now
let x being set;
assume x in ( NAT );
then reconsider x9 = x as (Element of ( NAT ));
( dom s ) = ( NAT ) by FUNCT_2:def 1;
then x9 in ( dom s );
then A22: ( s . x ) in ( rng s ) by FUNCT_1:3;
then reconsider sx = ( s . x ) as (Element of R);
consider b being (Element of R) such that A23: b in B and A24: b <= sx by A12,A22,CKB39:def 1;
B c= ( rng s ) by A12,CKB39:def 1;
then reconsider b as (Element of ( rng s )) by A23;
A25: x9 in Bi2(b) by A24;
Bi2(b) in Ball by A23;
hence x in ( union Ball ) by A25,TARSKI:def 4;
end;
then ( NAT ) c= ( union Ball ) by TARSKI:def 3;
hence contradiction by A21;
end;
then consider tb being (Element of ( rng s )) such that A26: tb in B and A27: Bi2(tb) is  infinite;
A28: tb in BALL by A26,A27;
then b1 in BALL;
then A29: (ex bt being (Element of B) st (b1 = bt & (ex b9 being (Element of ( rng s )) st (b9 = bt & Bi2(b9) is  infinite))));
( dom s ) = ( NAT ) by NORMSP_1:12;
then A30: ( s . ( f . ( 0 ) ) ) = b1 by A14,A29,CKB45:def 1;
b1 in BALL by A28;
then A31: (ex eb being (Element of B) st (b1 = eb & (ex eb9 being (Element of ( rng s )) st (eb9 = eb & Bi2(eb9) is  infinite))));
deffunc F(set) = $1;
defpred P[ (Element of ( NAT )) ]
 means
( s . ( f . ( 0 ) ) ) <= ( s . $1 );
set W1 = { w where w is (Element of ( NAT )): ( s . ( f . ( 0 ) ) ) <= ( s . w ) };
set W2 = { w where w is (Element of ( NAT )): (( s . ( f . ( 0 ) ) ) <= ( s . w ) & ( f . ( 0 ) ) < w) };
set W3 = { F(w) where w is (Element of ( NAT )): ((( 0 ) <= w & w <= ( f . ( 0 ) )) & P[ w ]) };
A32: W3 is  finite from FINSEQ_1:sch 6;
now
let x being set;
hereby
assume x in W1;
then consider w being (Element of ( NAT )) such that A33: x = w and A34: ( s . ( f . ( 0 ) ) ) <= ( s . w );
A35: ( 0 ) <= w by NAT_1:2;
(w <= ( f . ( 0 ) ) or w > ( f . ( 0 ) ));
then (x in W2 or x in W3) by A33,A34,A35;
hence x in ( W2 \/ W3 ) by XBOOLE_0:def 3;
end;
assume A36: x in ( W2 \/ W3 );
per cases  by A36,XBOOLE_0:def 3;
suppose x in W2;

then (ex w being (Element of ( NAT )) st ((x = w & ( s . ( f . ( 0 ) ) ) <= ( s . w )) & ( f . ( 0 ) ) < w));
hence x in W1;
end;
suppose x in W3;

then (ex w being (Element of ( NAT )) st (((x = w & ( 0 ) <= w) & w <= ( f . ( 0 ) )) & ( s . ( f . ( 0 ) ) ) <= ( s . w )));
hence x in W1;
end;
end;
then A37: W2 is  infinite by A30,A31,A32,TARSKI:1;
defpred R[ (Element of ( NAT )) ]
 means
P[ $1,( f . $1 ),( f . ( $1 + 1 ) ) ];
A38: R[ ( 0 ) ] by A15,A37;
A39:now
let k being (Element of ( NAT ));
assume R[ k ];
then consider N being (Subset of CR),B being non empty (Subset of CR) such that A40: N = { ( s . w ) where w is (Element of ( NAT )): (( s . ( f . k ) ) <= ( s . w ) & ( f . k ) < w) } and A41: { w where w is (Element of ( NAT )): (( s . ( f . k ) ) <= ( s . w ) & ( f . k ) < w) } is  infinite and A42: B = ( choose { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite } ) and A43: ( f . ( k + 1 ) ) = ( s mindex (( choose { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,( f . k )) is  infinite)) } ),( f . k )) );
set BALL = { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,( f . k )) is  infinite)) };
set BBX = { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite };
set iN = { w where w is (Element of ( NAT )): (( s . ( f . k ) ) <= ( s . w ) & ( f . k ) < w) };
consider BD being set such that A44: BD is_Dickson-basis_of N,R and A45: BD is  finite by A1,CKB42:def 1;
BD in ( Dickson-bases (N,R) ) by A1,A44,CKB53:def 1;
then BD in BBX by A45;
then B in BBX by A42;
then A46: (ex BB being (Element of ( Dickson-bases (N,R) )) st (B = BB & BB is  finite));
then A47: B is_Dickson-basis_of N,R by A1,CKB53:def 1;
now
deffunc F((Element of ( rng s ))) = Bi($1,( f . k ));
A48: B is  finite by A46;
assume A49: (for b being (Element of ( rng s )) holds (b in B implies Bi(b,( f . k )) is  finite));
set Ball = { F(b) where b is (Element of ( rng s )): b in B };
A50: Ball is  finite from FRAENKEL:sch 21(A48);
now
let X being set;
assume X in Ball;
then (ex b being (Element of ( rng s )) st (X = Bi(b,( f . k )) & b in B));
hence X is  finite by A49;
end;
then A51: ( union Ball ) is  finite by A50,FINSET_1:7;
iN c= ( union Ball )
proof
let x being set;
assume x in iN;
then consider w being (Element of ( NAT )) such that A52: x = w and A53: ( s . ( f . k ) ) <= ( s . w ) and A54: ( f . k ) < w;
A55: ( s . w ) in N by A40,A53,A54;
reconsider sw = ( s . w ) as (Element of R);
consider b being (Element of R) such that A56: b in B and A57: b <= sw by A47,A55,CKB39:def 1;
A58: B c= N by A47,CKB39:def 1;
N c= ( rng s )
proof
let x being set;
assume x in N;
then A59: (ex u being (Element of ( NAT )) st ((x = ( s . u ) & ( s . ( f . k ) ) <= ( s . u )) & ( f . k ) < u)) by A40;
( dom s ) = ( NAT ) by FUNCT_2:def 1;
hence thesis by A59,FUNCT_1:3;
end;
then B c= ( rng s ) by A58,XBOOLE_1:1;
then reconsider b as (Element of ( rng s )) by A56;
A60: w in Bi(b,( f . k )) by A54,A57;
Bi(b,( f . k )) in Ball by A56;
hence thesis by A52,A60,TARSKI:def 4;
end;
hence contradiction by A41,A51;
end;
then consider b being (Element of ( rng s )) such that A61: b in B and A62: Bi(b,( f . k )) is  infinite;
b in BALL by A61,A62;
then ( choose BALL ) in BALL;
then consider b being (Element of B) such that A63: b = ( choose BALL ) and A64: (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,( f . k )) is  infinite));
A65: b in B;
B c= N by A47,CKB39:def 1;
then b in N by A65;
then A66: (ex w being (Element of ( NAT )) st ((b = ( s . w ) & ( s . ( f . k ) ) <= ( s . w )) & ( f . k ) < w)) by A40;
then A67: ( s . ( f . ( k + 1 ) ) ) = ( choose BALL ) by A43,A63,CKB46:def 1;
A68: ( f . k ) < ( f . ( k + 1 ) ) by A43,A63,A66,CKB46:def 1;
deffunc F(set) = $1;
defpred P[ (Element of ( NAT )) ]
 means
( s . ( f . ( k + 1 ) ) ) <= ( s . $1 );
set W1 = { w1 where w1 is (Element of ( NAT )): (( s . ( f . ( k + 1 ) ) ) <= ( s . w1 ) & ( f . k ) < w1) };
set W2 = { w1 where w1 is (Element of ( NAT )): (( s . ( f . ( k + 1 ) ) ) <= ( s . w1 ) & ( f . ( k + 1 ) ) < w1) };
set W3 = { F(w1) where w1 is (Element of ( NAT )): ((( f . k ) < w1 & w1 <= ( f . ( k + 1 ) )) & P[ w1 ]) };
A69: W3 is  finite from CKB3:sch 1;
now
let x being set;
hereby
assume x in W1;
then consider w being (Element of ( NAT )) such that A70: x = w and A71: ( s . ( f . ( k + 1 ) ) ) <= ( s . w ) and A72: ( f . k ) < w;
(w <= ( f . ( k + 1 ) ) or w > ( f . ( k + 1 ) ));
then (x in W2 or x in W3) by A70,A71,A72;
hence x in ( W2 \/ W3 ) by XBOOLE_0:def 3;
end;
assume A73: x in ( W2 \/ W3 );
per cases  by A73,XBOOLE_0:def 3;
suppose x in W2;

then consider w being (Element of ( NAT )) such that A74: x = w and A75: ( s . ( f . ( k + 1 ) ) ) <= ( s . w ) and A76: ( f . ( k + 1 ) ) < w;
( f . k ) < w by A68,A76,XXREAL_0:2;
hence x in W1 by A74,A75;
end;
suppose x in W3;

then (ex w being (Element of ( NAT )) st (((x = w & ( f . k ) < w) & w <= ( f . ( k + 1 ) )) & ( s . ( f . ( k + 1 ) ) ) <= ( s . w )));
hence x in W1;
end;
end;
then W2 is  infinite by A63,A64,A67,A69,TARSKI:1;
hence R[ ( k + 1 ) ] by A15;
end;
A77: (for n being (Element of ( NAT )) holds R[ n ]) from NAT_1:sch 1(A38,A39);
set t = ( s * f );
take t;
reconsider f as (Function of ( NAT ),( REAL )) by FUNCT_2:7;
now
now
let n being (Element of ( NAT ));
( f . n ) in ( rng f ) by A16,FUNCT_1:def 3;
then reconsider fn = ( f . n ) as (Element of ( NAT )) by A17;
consider N being (Subset of CR),B being non empty (Subset of CR) such that A78: N = { ( s . w ) where w is (Element of ( NAT )): (( s . fn ) <= ( s . w ) & fn < w) } and A79: { w where w is (Element of ( NAT )): (( s . fn ) <= ( s . w ) & fn < w) } is  infinite and A80: B = ( choose { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite } ) and A81: ( f . ( n + 1 ) ) = ( s mindex (( choose { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,fn) is  infinite)) } ),fn) ) by A77;
set BBX = { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite };
set BJ = { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,fn) is  infinite)) };
set BC = ( choose BJ );
consider BD being set such that A82: BD is_Dickson-basis_of N,R and A83: BD is  finite by A1,CKB42:def 1;
BD in ( Dickson-bases (N,R) ) by A1,A82,CKB53:def 1;
then BD in BBX by A83;
then B in BBX by A80;
then A84: (ex BB being (Element of ( Dickson-bases (N,R) )) st (B = BB & BB is  finite));
then A85: B is_Dickson-basis_of N,R by A1,CKB53:def 1;
then A86: B c= N by CKB39:def 1;
now
A87: B is  finite by A84;
assume A88: (for b being (Element of ( rng s )) holds (b in B implies Bi(b,fn) is  finite));
deffunc F((Element of ( rng s ))) = Bi($1,fn);
set Ball = { F(b) where b is (Element of ( rng s )): b in B };
set iN = { w where w is (Element of ( NAT )): (( s . fn ) <= ( s . w ) & fn < w) };
A89: Ball is  finite from FRAENKEL:sch 21(A87);
now
let X being set;
assume X in Ball;
then (ex b being (Element of ( rng s )) st (X = Bi(b,fn) & b in B));
hence X is  finite by A88;
end;
then A90: ( union Ball ) is  finite by A89,FINSET_1:7;
iN c= ( union Ball )
proof
let x being set;
assume x in iN;
then consider w being (Element of ( NAT )) such that A91: x = w and A92: ( s . fn ) <= ( s . w ) and A93: ( f . n ) < w;
A94: ( s . w ) in N by A78,A92,A93;
reconsider sw = ( s . w ) as (Element of R);
consider b being (Element of R) such that A95: b in B and A96: b <= sw by A85,A94,CKB39:def 1;
A97: B c= N by A85,CKB39:def 1;
N c= ( rng s )
proof
let x being set;
assume x in N;
then A98: (ex u being (Element of ( NAT )) st ((x = ( s . u ) & ( s . fn ) <= ( s . u )) & fn < u)) by A78;
( dom s ) = ( NAT ) by FUNCT_2:def 1;
hence thesis by A98,FUNCT_1:3;
end;
then B c= ( rng s ) by A97,XBOOLE_1:1;
then reconsider b as (Element of ( rng s )) by A95;
A99: w in Bi(b,fn) by A93,A96;
Bi(b,fn) in Ball by A95;
hence thesis by A91,A99,TARSKI:def 4;
end;
hence contradiction by A79,A90;
end;
then consider b being (Element of ( rng s )) such that A100: b in B and A101: Bi(b,fn) is  infinite;
b in BJ by A100,A101;
then BC in BJ;
then (ex b being (Element of B) st (BC = b & (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,fn) is  infinite))));
then BC in N by A86,TARSKI:def 3;
then (ex j being (Element of ( NAT )) st ((BC = ( s . j ) & ( s . fn ) <= ( s . j )) & fn < j)) by A78;
hence ( f . n ) < ( f . ( n + 1 ) ) by A81,CKB46:def 1;
end;
hence f is  increasing by SEQM_3:def 6;
let n being (Element of ( NAT ));
( f . n ) in ( rng f ) by A16,FUNCT_1:def 3;
hence ( f . n ) is (Element of ( NAT )) by A17;
end;
then reconsider f as  increasing (sequence of ( NAT ));
t = ( s * f );
hence t is (subsequence of s);
let n being (Element of ( NAT ));
A102: ( t . n ) = ( s . ( f . n ) ) by A16,FUNCT_1:13;
A103: ( t . ( n + 1 ) ) = ( s . ( f . ( n + 1 ) ) ) by A16,FUNCT_1:13;
consider N being (Subset of CR),B being non empty (Subset of CR) such that A104: N = { ( s . w ) where w is (Element of ( NAT )): (( s . ( f . n ) ) <= ( s . w ) & ( f . n ) < w) } and A105: { w where w is (Element of ( NAT )): (( s . ( f . n ) ) <= ( s . w ) & ( f . n ) < w) } is  infinite and A106: B = ( choose { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite } ) and A107: ( f . ( n + 1 ) ) = ( s mindex (( choose { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,( f . n )) is  infinite)) } ),( f . n )) ) by A77;
set BX = { b where b is (Element of B): (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,( f . n )) is  infinite)) };
set sfn1 = ( choose BX );
set BBX = { BB where BB is (Element of ( Dickson-bases (N,R) )): BB is  finite };
consider BD being set such that A108: BD is_Dickson-basis_of N,R and A109: BD is  finite by A1,CKB42:def 1;
BD in ( Dickson-bases (N,R) ) by A1,A108,CKB53:def 1;
then BD in BBX by A109;
then B in BBX by A106;
then A110: (ex BB being (Element of ( Dickson-bases (N,R) )) st (BB = B & BB is  finite));
then A111: B is_Dickson-basis_of N,R by A1,CKB53:def 1;
now
A112: B is  finite by A110;
assume A113: (for b being (Element of ( rng s )) holds (b in B implies Bi(b,( f . n )) is  finite));
deffunc F((Element of ( rng s ))) = Bi($1,( f . n ));
set Ball = { F(b) where b is (Element of ( rng s )): b in B };
set iN = { w where w is (Element of ( NAT )): (( s . ( f . n ) ) <= ( s . w ) & ( f . n ) < w) };
A114: Ball is  finite from FRAENKEL:sch 21(A112);
now
let X being set;
assume X in Ball;
then (ex b being (Element of ( rng s )) st (X = Bi(b,( f . n )) & b in B));
hence X is  finite by A113;
end;
then A115: ( union Ball ) is  finite by A114,FINSET_1:7;
iN c= ( union Ball )
proof
let x being set;
assume x in iN;
then consider w being (Element of ( NAT )) such that A116: x = w and A117: ( s . ( f . n ) ) <= ( s . w ) and A118: ( f . n ) < w;
A119: ( s . w ) in N by A104,A117,A118;
reconsider sw = ( s . w ) as (Element of R);
consider b being (Element of R) such that A120: b in B and A121: b <= sw by A111,A119,CKB39:def 1;
A122: B c= N by A111,CKB39:def 1;
N c= ( rng s )
proof
let x being set;
assume x in N;
then A123: (ex u being (Element of ( NAT )) st ((x = ( s . u ) & ( s . ( f . n ) ) <= ( s . u )) & ( f . n ) < u)) by A104;
( dom s ) = ( NAT ) by FUNCT_2:def 1;
hence thesis by A123,FUNCT_1:3;
end;
then B c= ( rng s ) by A122,XBOOLE_1:1;
then reconsider b as (Element of ( rng s )) by A120;
A124: w in Bi(b,( f . n )) by A118,A121;
Bi(b,( f . n )) in Ball by A120;
hence thesis by A116,A124,TARSKI:def 4;
end;
hence contradiction by A105,A115;
end;
then consider b being (Element of ( rng s )) such that A125: b in B and A126: Bi(b,( f . n )) is  infinite;
b in BX by A125,A126;
then sfn1 in BX;
then (ex b being (Element of B) st (b = sfn1 & (ex b9 being (Element of ( rng s )) st (b9 = b & Bi(b9,( f . n )) is  infinite))));
then A127: sfn1 in B;
B c= N by A111,CKB39:def 1;
then sfn1 in N by A127;
then (ex w being (Element of ( NAT )) st ((sfn1 = ( s . w ) & ( s . ( f . n ) ) <= ( s . w )) & ( f . n ) < w)) by A104;
then ( t . n ) <= ( t . ( n + 1 ) ) by A102,A103,A107,CKB46:def 1;
hence [ ( t . n ),( t . ( n + 1 ) ) ] in (the InternalRel of R) by ORDERS_2:def 5;
end;
