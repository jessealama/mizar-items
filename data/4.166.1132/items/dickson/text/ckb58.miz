environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,NAT_1,TARSKI,ARYTM_3,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,FINSET_1,CARD_1,ORDERS_2,REARRAN1,RELAT_2,STRUCT_0,WELLORD1,WAYBEL_4,WAYBEL20,EQREL_1,ORDERS_1,ZFMISC_1,WELLFND1,SETFAM_1,VALUED_0,ORDINAL2,MCART_1,CAT_1,YELLOW_1,PBOOLE,CARD_3,RLVECT_2,YELLOW_6,WAYBEL_3,FUNCT_4,YELLOW_3,DICKSON;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,XXREAL_2,SEQ_4,PARTFUN1,FUNCT_2,CARD_3,NAT_1,STRUCT_0,RELAT_2,XXREAL_0,FUNCT_4,FUNCOP_1,DOMAIN_1,FINSET_1,MCART_1,WELLORD1,ORDERS_2,ORDERS_1,EQREL_1,WELLFND1,WAYBEL_0,CARD_1,NUMBERS,WAYBEL_4,VALUED_0,PRALG_1,YELLOW_3,WAYBEL_1,YELLOW_1,WAYBEL_3,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53;
definitions TARSKI,RELAT_2,ORDERS_2,ORDERS_1,FUNCOP_1,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53;
theorems WELLORD1,ORDERS_1,SUBSET_1,TARSKI,RELAT_1,RELAT_2,RELSET_1,ZFMISC_1,EQREL_1,WAYBEL_0,ORDERS_2,NAT_1,FUNCT_1,FUNCT_2,CARD_2,CARD_1,NORMSP_1,SEQM_3,FINSET_1,AXIOMS,YELLOW_3,WAYBEL_1,WAYBEL20,YELLOW_1,CARD_3,FUNCOP_1,WAYBEL_3,MCART_1,FUNCT_4,WELLFND1,WAYBEL_4,PRALG_1,YELLOW_6,AFINSQ_1,XBOOLE_0,XBOOLE_1,PARTFUN1,XXREAL_0,ORDINAL1,XXREAL_2,VALUED_0,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57;
schemes PRE_CIRC,RECDEF_1,NAT_1,FUNCT_2,DOMAIN_1,FRAENKEL,FINSEQ_1,FUNCT_1,RELSET_1,CKB3;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,NAT_1,MEMBERED,EQREL_1,CARD_5,PRE_CIRC,STRUCT_0,ORDERS_2,YELLOW_1,YELLOW_3,WAYBEL18,WAYBEL_3,VALUED_0,CARD_1,XXREAL_2,CARD_3,ZFMISC_1,RELSET_1,CKB18,CKB21,CKB22,CKB23;
constructors WELLORD1,DOMAIN_1,NAT_1,BINOP_2,BHSP_3,PRALG_1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WELLFND1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,RELSET_1,PBOOLE,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20,CKB32,CKB39,CKB42,CKB45,CKB46,CKB53;
requirements BOOLE,SUBSET,NUMERALS;
begin
theorem
Th40: (for p being  RelStr-yielding (ManySortedSet of 1) holds (for z being (Element of 1) holds ( p . z ),( product p ) are_isomorphic ))
proof
let p being  RelStr-yielding (ManySortedSet of 1);
let z being (Element of 1);
deffunc F(set) = ( ( 0 ) .--> $1 );
consider f being Function such that A1: ( dom f ) = (the carrier of ( p . z )) and A2: (for x being set holds (x in (the carrier of ( p . z )) implies ( f . x ) = F(x))) from FUNCT_1:sch 3;
A3: z = ( 0 ) by CARD_1:49,TARSKI:def 1;
A4: ( 0 ) in 1 by CARD_1:49,TARSKI:def 1;
now
let x being set;
assume A5: x in (the carrier of ( p . z ));
then A6: ( f . x ) = ( ( 0 ) .--> x ) by A2;
set g = ( ( 0 ) .--> x );
A7: ( dom g ) = { ( 0 ) } by FUNCOP_1:13
.= ( dom ( Carrier p ) ) by CARD_1:49,PARTFUN1:def 2;
now
let y being set;
assume y in ( dom ( Carrier p ) );
then A8: y in 1 by PARTFUN1:def 2;
then A9: y = ( 0 ) by CARD_1:49,TARSKI:def 1;
(ex R being 1-sorted st (R = ( p . y ) & ( ( Carrier p ) . y ) = (the carrier of R))) by A8,PRALG_1:def 13;
hence ( g . y ) in ( ( Carrier p ) . y ) by A3,A5,A9,FUNCOP_1:72;
end;
then ( f . x ) in ( product ( Carrier p ) ) by A6,A7,CARD_3:def 5;
hence ( f . x ) in (the carrier of ( product p )) by YELLOW_1:def 4;
end;
then reconsider f as (Function of ( p . z ),( product p )) by A1,FUNCT_2:3;
now
per cases ;
suppose A10: ( p . z ) is  empty;

now
assume (not (the carrier of ( product p )) is  empty);
then A11: ( product ( Carrier p ) ) is non  empty by YELLOW_1:def 4;
set x = the (Element of ( product ( Carrier p ) ));
A12: (ex g being Function st ((x = g & ( dom g ) = ( dom ( Carrier p ) )) & (for y being set holds (y in ( dom ( Carrier p ) ) implies ( g . y ) in ( ( Carrier p ) . y ))))) by A11,CARD_3:def 5;
A13: ( 0 ) in ( dom ( Carrier p ) ) by A4,PARTFUN1:def 2;
consider R being 1-sorted such that A14: R = ( p . ( 0 ) ) and A15: ( ( Carrier p ) . ( 0 ) ) = (the carrier of R) by A4,PRALG_1:def 13;
R is  empty by A10,A14,CARD_1:49,TARSKI:def 1;
hence contradiction by A12,A13,A15;
end;
then ( product p ) is  empty;
hence f is  isomorphic by A10,WAYBEL_0:def 38;
end;
suppose A16: ( p . z ) is non  empty;

then reconsider pz = ( p . z ) as non  empty RelStr;
now
let i being set;
assume i in ( rng p );
then consider x being set such that A17: x in ( dom p ) and A18: i = ( p . x ) by FUNCT_1:def 3;
x in 1 by A17,PARTFUN1:def 2;
then i = ( p . ( 0 ) ) by A18,CARD_1:49,TARSKI:def 1;
hence i is non  empty non  empty 1-sorted by A16,CARD_1:49,TARSKI:def 1;
end;
then reconsider np = p as  yielding_non-empty_carriers  RelStr-yielding (ManySortedSet of 1) by YELLOW_6:def 2;
( product np ) is non  empty;
then reconsider pp = ( product p ) as non  empty RelStr;
now
let x1 being set;
let x2 being set;
assume that
A19: x1 in ( dom f )
and
A20: x2 in ( dom f )
and
A21: ( f . x1 ) = ( f . x2 );
A22: ( f . x1 ) = ( ( 0 ) .--> x1 ) by A2,A19
.= [: { ( 0 ) },{ x1 } :];
A23: ( f . x2 ) = ( ( 0 ) .--> x2 ) by A2,A20
.= [: { ( 0 ) },{ x2 } :];
A24: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
x1 in { x1 } by TARSKI:def 1;
then [ ( 0 ),x1 ] in ( f . x2 ) by A21,A22,A24,ZFMISC_1:def 2;
then (ex xa,ya being set st ((xa in { ( 0 ) } & ya in { x2 }) & [ ( 0 ),x1 ] = [ xa,ya ])) by A23,ZFMISC_1:def 2;
then x1 in { x2 } by ZFMISC_1:27;
hence x1 = x2 by TARSKI:def 1;
end;
then A25: f is  one-to-one by FUNCT_1:def 4;
now
let y being set;
thus (y in ( rng f ) implies y in (the carrier of ( product p )));
assume y in (the carrier of ( product p ));
then y in ( product ( Carrier p ) ) by YELLOW_1:def 4;
then consider g being Function such that A26: y = g and A27: ( dom g ) = ( dom ( Carrier p ) ) and A28: (for x being set holds (x in ( dom ( Carrier p ) ) implies ( g . x ) in ( ( Carrier p ) . x ))) by CARD_3:def 5;
A29: ( dom g ) = { ( 0 ) } by A27,CARD_1:49,PARTFUN1:def 2;
A30: ( 0 ) in ( dom ( Carrier p ) ) by A4,PARTFUN1:def 2;
A31: (ex R being 1-sorted st (R = ( p . ( 0 ) ) & ( ( Carrier p ) . ( 0 ) ) = (the carrier of R))) by A4,PRALG_1:def 13;
A32: g = ( ( 0 ) .--> ( g . ( 0 ) ) ) by A29,CKB1:1;
A33: ( f . ( g . ( 0 ) ) ) = ( ( 0 ) .--> ( g . ( 0 ) ) ) by A2,A3,A28,A30,A31;
( g . ( 0 ) ) in ( dom f ) by A1,A3,A28,A30,A31;
hence y in ( rng f ) by A26,A32,A33,FUNCT_1:def 3;
end;
then A34: ( rng f ) = (the carrier of ( product p )) by TARSKI:1;
reconsider f9 = f as (Function of pz,pp);
now
let x being (Element of pz);
let y being (Element of pz);
( product np ) is non  empty;
then A35: ( product ( Carrier p ) ) is non  empty by YELLOW_1:def 4;
A36: ( f9 . x ) is (Element of ( product ( Carrier p ) )) by YELLOW_1:def 4;
hereby
assume A37: x <= y;
(ex f1,g1 being Function st ((f1 = ( f9 . x ) & g1 = ( f9 . y )) & (for i being set holds (i in 1 implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( p . i ) & xi = ( f1 . i )) & yi = ( g1 . i )) & xi <= yi)))))))
proof
set f1 = ( ( 0 ) .--> x );
set g1 = ( ( 0 ) .--> y );
reconsider f1 as Function;
reconsider g1 as Function;
take f1;
take g1;
thus f1 = ( f9 . x ) by A2;
thus g1 = ( f9 . y ) by A2;
let i being set;
assume that
A38: i in 1;
A39: i = ( 0 ) by A38,CARD_1:49,TARSKI:def 1;
( 0 ) in ( dom p ) by A4,PARTFUN1:def 2;
then ( p . ( 0 ) ) in ( rng p ) by FUNCT_1:def 3;
then reconsider p0 = ( p . ( 0 ) ) as RelStr by YELLOW_1:def 3;
set R = p0;
reconsider x9 = x as (Element of R) by CARD_1:49,TARSKI:def 1;
reconsider y9 = y as (Element of R) by CARD_1:49,TARSKI:def 1;
take R;
take x9;
take y9;
thus R = ( p . i ) by A38,CARD_1:49,TARSKI:def 1;
thus x9 = ( f1 . i ) by A39,FUNCOP_1:72;
thus y9 = ( g1 . i ) by A39,FUNCOP_1:72;
thus thesis by A37,CARD_1:49,TARSKI:def 1;
end;
hence ( f9 . x ) <= ( f9 . y ) by A35,A36,YELLOW_1:def 4;
end;
assume ( f9 . x ) <= ( f9 . y );
then consider f1,g1 being Function such that A40: f1 = ( f9 . x ) and A41: g1 = ( f9 . y ) and A42: (for i being set holds (i in 1 implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( p . i ) & xi = ( f1 . i )) & yi = ( g1 . i )) & xi <= yi))))) by A35,A36,YELLOW_1:def 4;
consider R being RelStr,xi,yi being (Element of R) such that A43: R = ( p . ( 0 ) ) and A44: xi = ( f1 . ( 0 ) ) and A45: yi = ( g1 . ( 0 ) ) and A46: xi <= yi by A4,A42;
f1 = ( ( 0 ) .--> x ) by A2,A40;
then A47: xi = x by A44,FUNCOP_1:72;
A48: g1 = ( ( 0 ) .--> y ) by A2,A41;
R = pz by A43,CARD_1:49,TARSKI:def 1;
hence x <= y by A45,A46,A47,A48,FUNCOP_1:72;
end;
hence f is  isomorphic by A25,A34,WAYBEL_0:66;
end;
end;
hence thesis by WAYBEL_1:def 8;
end;
