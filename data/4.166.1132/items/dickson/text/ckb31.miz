environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,NAT_1,TARSKI,ARYTM_3,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,FINSET_1,CARD_1,ORDERS_2,REARRAN1,RELAT_2,STRUCT_0,WELLORD1,WAYBEL_4,WAYBEL20,EQREL_1,ORDERS_1,ZFMISC_1,WELLFND1,SETFAM_1,VALUED_0,ORDINAL2,MCART_1,CAT_1,YELLOW_1,PBOOLE,CARD_3,RLVECT_2,YELLOW_6,WAYBEL_3,FUNCT_4,YELLOW_3,DICKSON;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,XXREAL_2,SEQ_4,PARTFUN1,FUNCT_2,CARD_3,NAT_1,STRUCT_0,RELAT_2,XXREAL_0,FUNCT_4,FUNCOP_1,DOMAIN_1,FINSET_1,MCART_1,WELLORD1,ORDERS_2,ORDERS_1,EQREL_1,WELLFND1,WAYBEL_0,CARD_1,NUMBERS,WAYBEL_4,VALUED_0,PRALG_1,YELLOW_3,WAYBEL_1,YELLOW_1,WAYBEL_3,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20;
definitions TARSKI,RELAT_2,ORDERS_2,ORDERS_1,FUNCOP_1,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB20;
theorems WELLORD1,ORDERS_1,SUBSET_1,TARSKI,RELAT_1,RELAT_2,RELSET_1,ZFMISC_1,EQREL_1,WAYBEL_0,ORDERS_2,NAT_1,FUNCT_1,FUNCT_2,CARD_2,CARD_1,NORMSP_1,SEQM_3,FINSET_1,AXIOMS,YELLOW_3,WAYBEL_1,WAYBEL20,YELLOW_1,CARD_3,FUNCOP_1,WAYBEL_3,MCART_1,FUNCT_4,WELLFND1,WAYBEL_4,PRALG_1,YELLOW_6,AFINSQ_1,XBOOLE_0,XBOOLE_1,PARTFUN1,XXREAL_0,ORDINAL1,XXREAL_2,VALUED_0,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30;
schemes PRE_CIRC,RECDEF_1,NAT_1,FUNCT_2,DOMAIN_1,FRAENKEL,FINSEQ_1,FUNCT_1,RELSET_1,CKB3;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,NAT_1,MEMBERED,EQREL_1,CARD_5,PRE_CIRC,STRUCT_0,ORDERS_2,YELLOW_1,YELLOW_3,WAYBEL18,WAYBEL_3,VALUED_0,CARD_1,XXREAL_2,CARD_3,ZFMISC_1,RELSET_1,CKB18,CKB21,CKB22,CKB23;
constructors WELLORD1,DOMAIN_1,NAT_1,BINOP_2,BHSP_3,PRALG_1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WELLFND1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,RELSET_1,PBOOLE,YELLOW_6,CKB5,CKB6,CKB11,CKB12,CKB14,CKB17,CKB19,CKB20;
requirements BOOLE,SUBSET,NUMERALS;
begin
theorem
(for R,S being non empty RelStr holds (for m being (Function of R,S) holds ((((R is  quasi_ordered & S is  antisymmetric) & ( S \~ ) is  well_founded) & (for a,b being (Element of R) holds ((a <= b implies ( m . a ) <= ( m . b )) & (( m . a ) = ( m . b ) implies [ a,b ] in ( EqRel R ))))) implies ( R \~ ) is  well_founded)))
proof
let R being non empty RelStr,S being non empty RelStr;
let m being (Function of R,S);
assume that
A1: R is  quasi_ordered
and
A2: S is  antisymmetric
and
A3: ( S \~ ) is  well_founded
and
A4: (for a,b being (Element of R) holds ((a <= b implies ( m . a ) <= ( m . b )) & (( m . a ) = ( m . b ) implies [ a,b ] in ( EqRel R ))));
set IR = (the InternalRel of R);
set IS = (the InternalRel of S);
A5: IS is_antisymmetric_in (the carrier of S) by A2,ORDERS_2:def 4;
now
assume (ex f being (sequence of ( R \~ )) st f is  descending);
then consider f being (sequence of ( R \~ )) such that A6: f is  descending;
reconsider f9 = f as (sequence of R);
deffunc F((Element of ( NAT ))) = ( m . ( f9 . $1 ) );
consider g9 being (Function of ( NAT ),(the carrier of S)) such that A7: (for k being (Element of ( NAT )) holds ( g9 . k ) = F(k)) from FUNCT_2:sch 4;
reconsider g = g9 as (sequence of ( S \~ ));
now
let n being Nat;
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
A8: [ ( f . ( n + 1 ) ),( f . n ) ] in (the InternalRel of ( R \~ )) by A6,WELLFND1:def 6;
A9: [ ( f . ( n + 1 ) ),( f . n ) ] in ( IR \ ( IR ~ ) ) by A6,WELLFND1:def 6;
A10: (not [ ( f . ( n + 1 ) ),( f . n ) ] in ( IR ~ )) by A8,XBOOLE_0:def 5;
A11: ( g . n1 ) = ( m . ( f . n1 ) ) by A7;
A12:now
assume ( g . ( n + 1 ) ) = ( g . n );
then ( m . ( f . ( n + 1 ) ) ) = ( m . ( f . n ) ) by A7,A11;
then [ ( f9 . ( n + 1 ) ),( f9 . n ) ] in ( EqRel R ) by A4;
then [ ( f . ( n + 1 ) ),( f . n ) ] in ( IR /\ ( IR ~ ) ) by A1,CKB12:def 1;
hence contradiction by A10,XBOOLE_0:def 4;
end;
hence ( g . ( n + 1 ) ) <> ( g . n );
reconsider fn1 = ( f . ( n + 1 ) ) as (Element of R);
reconsider fn = ( f . n ) as (Element of R);
A13: fn1 <= fn by A9,ORDERS_2:def 5;
A14: ( g9 . ( n + 1 ) ) = ( m . fn1 ) by A7;
( g9 . n1 ) = ( m . fn ) by A7;
then ( g9 . ( n + 1 ) ) <= ( g9 . n ) by A4,A13,A14;
then A15: [ ( g . ( n + 1 ) ),( g . n ) ] in IS by ORDERS_2:def 5;
then (not [ ( g . n ),( g . ( n + 1 ) ) ] in IS) by A5,A12,RELAT_2:def 4;
then (not [ ( g . ( n + 1 ) ),( g . n ) ] in ( IS ~ )) by RELAT_1:def 7;
hence [ ( g . ( n + 1 ) ),( g . n ) ] in (the InternalRel of ( S \~ )) by A15,XBOOLE_0:def 5;
end;
then g is  descending by WELLFND1:def 6;
hence contradiction by A3,WELLFND1:14;
end;
hence thesis by WELLFND1:14;
end;
