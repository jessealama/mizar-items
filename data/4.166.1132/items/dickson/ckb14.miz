environ
vocabularies FUNCT_1,RELAT_1,FUNCOP_1,NAT_1,TARSKI,ARYTM_3,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,FINSET_1,CARD_1,ORDERS_2,REARRAN1,RELAT_2,STRUCT_0,WELLORD1,WAYBEL_4,WAYBEL20,EQREL_1,ORDERS_1,ZFMISC_1,WELLFND1,SETFAM_1,VALUED_0,ORDINAL2,MCART_1,CAT_1,YELLOW_1,PBOOLE,CARD_3,RLVECT_2,YELLOW_6,WAYBEL_3,FUNCT_4,YELLOW_3,DICKSON;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,XXREAL_2,SEQ_4,PARTFUN1,FUNCT_2,CARD_3,NAT_1,STRUCT_0,RELAT_2,XXREAL_0,FUNCT_4,FUNCOP_1,DOMAIN_1,FINSET_1,MCART_1,WELLORD1,ORDERS_2,ORDERS_1,EQREL_1,WELLFND1,WAYBEL_0,CARD_1,NUMBERS,WAYBEL_4,VALUED_0,PRALG_1,YELLOW_3,WAYBEL_1,YELLOW_1,WAYBEL_3,YELLOW_6,CKB5,CKB6,CKB11,CKB12;
definitions TARSKI,RELAT_2,ORDERS_2,ORDERS_1,FUNCOP_1,CKB5,CKB6,CKB11,CKB12;
theorems WELLORD1,ORDERS_1,SUBSET_1,TARSKI,RELAT_1,RELAT_2,RELSET_1,ZFMISC_1,EQREL_1,WAYBEL_0,ORDERS_2,NAT_1,FUNCT_1,FUNCT_2,CARD_2,CARD_1,NORMSP_1,SEQM_3,FINSET_1,AXIOMS,YELLOW_3,WAYBEL_1,WAYBEL20,YELLOW_1,CARD_3,FUNCOP_1,WAYBEL_3,MCART_1,FUNCT_4,WELLFND1,WAYBEL_4,PRALG_1,YELLOW_6,AFINSQ_1,XBOOLE_0,XBOOLE_1,PARTFUN1,XXREAL_0,ORDINAL1,XXREAL_2,VALUED_0,CKB1,CKB2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
schemes PRE_CIRC,RECDEF_1,NAT_1,FUNCT_2,DOMAIN_1,FRAENKEL,FINSEQ_1,FUNCT_1,RELSET_1,CKB3;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,FINSET_1,XXREAL_0,NAT_1,MEMBERED,EQREL_1,CARD_5,PRE_CIRC,STRUCT_0,ORDERS_2,YELLOW_1,YELLOW_3,WAYBEL18,WAYBEL_3,VALUED_0,CARD_1,XXREAL_2,CARD_3,ZFMISC_1,RELSET_1;
constructors WELLORD1,DOMAIN_1,NAT_1,BINOP_2,BHSP_3,PRALG_1,ORDERS_3,WAYBEL_1,YELLOW_3,WAYBEL_3,WAYBEL_4,WELLFND1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,RELSET_1,PBOOLE,YELLOW_6,CKB5,CKB6,CKB11,CKB12;
requirements BOOLE,SUBSET,NUMERALS;
begin
definition
let R being RelStr;
func <=E R -> (Relation of ( Class ( EqRel R ) ))
means
:Def5: (for A,B being set holds ([ A,B ] in it iff (ex a,b being (Element of R) st ((A = ( Class (( EqRel R ),a) ) & B = ( Class (( EqRel R ),b) )) & a <= b))));
existence
proof
set IR = (the InternalRel of R);
set CR = (the carrier of R);
per cases ;
suppose A1: CR = ( {} );

reconsider IT = ( {} ) as (Relation of ( Class ( EqRel R ) )) by RELSET_1:12;
take IT;
let A being set,B being set;
thus ([ A,B ] in IT implies (ex a,b being (Element of R) st ((A = ( Class (( EqRel R ),a) ) & B = ( Class (( EqRel R ),b) )) & a <= b)));
given a being (Element of R),b being (Element of R) such that
A = ( Class (( EqRel R ),a) )
and
B = ( Class (( EqRel R ),b) )
and
A2: a <= b;

IR = ( {} ) by A1;
hence thesis by A2,ORDERS_2:def 5;
end;
suppose CR is non empty;

then reconsider R9 = R as non empty RelStr;
set IT = { [ ( Class (( EqRel R ),a) ),( Class (( EqRel R ),b) ) ] where a is (Element of R9),b is (Element of R9): a <= b };
set Y = ( Class ( EqRel R ) );
IT c= [: Y,Y :]
proof
let x being set;
assume x in IT;
then consider a being (Element of R9),b being (Element of R9) such that A3: x = [ ( Class (( EqRel R ),a) ),( Class (( EqRel R ),b) ) ] and a <= b;
A4: ( Class (( EqRel R ),a) ) in Y by EQREL_1:def 3;
( Class (( EqRel R ),b) ) in Y by EQREL_1:def 3;
hence thesis by A3,A4,ZFMISC_1:def 2;
end;
then reconsider IT as (Relation of ( Class ( EqRel R ) ));
take IT;
let A being set,B being set;
hereby
assume [ A,B ] in IT;
then consider a being (Element of R),b being (Element of R) such that A5: [ A,B ] = [ ( Class (( EqRel R ),a) ),( Class (( EqRel R ),b) ) ] and A6: a <= b;
reconsider a9 = a,b9 = b as (Element of R);
take a9;
take b9;
thus ((A = ( Class (( EqRel R ),a9) ) & B = ( Class (( EqRel R ),b9) )) & a9 <= b9) by A5,A6,ZFMISC_1:27;
end;
given a being (Element of R),b being (Element of R) such that
A7: A = ( Class (( EqRel R ),a) )
and
A8: B = ( Class (( EqRel R ),b) )
and
A9: a <= b;

thus thesis by A7,A8,A9;
end;
end;
uniqueness
proof
let IT1 being (Relation of ( Class ( EqRel R ) )),IT2 being (Relation of ( Class ( EqRel R ) ));
assume that
A10: (for A,B being set holds ([ A,B ] in IT1 iff (ex a,b being (Element of R) st ((A = ( Class (( EqRel R ),a) ) & B = ( Class (( EqRel R ),b) )) & a <= b))))
and
A11: (for A,B being set holds ([ A,B ] in IT2 iff (ex a,b being (Element of R) st ((A = ( Class (( EqRel R ),a) ) & B = ( Class (( EqRel R ),b) )) & a <= b))));
now
let x being set;
hereby
assume A12: x in IT1;
set Y = ( Class ( EqRel R ) );
consider A being set,B being set such that A in Y and B in Y and A13: x = [ A,B ] by A12,ZFMISC_1:def 2;
(ex a,b being (Element of R) st ((A = ( Class (( EqRel R ),a) ) & B = ( Class (( EqRel R ),b) )) & a <= b)) by A10,A12,A13;
hence x in IT2 by A11,A13;
end;
assume A14: x in IT2;
set Y = ( Class ( EqRel R ) );
consider A being set,B being set such that A in Y and B in Y and A15: x = [ A,B ] by A14,ZFMISC_1:def 2;
(ex a,b being (Element of R) st ((A = ( Class (( EqRel R ),a) ) & B = ( Class (( EqRel R ),b) )) & a <= b)) by A11,A14,A15;
hence x in IT1 by A10,A15;
end;
hence IT1 = IT2 by TARSKI:1;
end;
end;
