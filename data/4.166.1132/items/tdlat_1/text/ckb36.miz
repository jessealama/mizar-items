environ
vocabularies PRE_TOPC,SUBSET_1,XBOOLE_0,TARSKI,TOPS_1,RCOMP_1,SETFAM_1,ZFMISC_1,STRUCT_0,BINOP_1,FUNCT_1,MCART_1,LATTICES,EQREL_1,REALSET1,NAT_LAT,TDLAT_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,REALSET1,STRUCT_0,PRE_TOPC,LATTICES,BINOP_1,TOPS_1,FUNCT_1,DOMAIN_1,FUNCT_2,NAT_LAT,CKB30,CKB32,CKB33,CKB34,CKB35;
definitions TARSKI,LATTICES,NAT_LAT,XBOOLE_0,BINOP_1,REALSET1,SUBSET_1,STRUCT_0,CKB30,CKB32,CKB34;
theorems TOPS_1,PRE_TOPC,LATTICE2,BINOP_1,ZFMISC_1,FUNCT_2,SUBSET_1,MCART_1,FUNCT_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB32,CKB34;
schemes FUNCT_2,BINOP_2;
registrations SUBSET_1,RELSET_1,REALSET1,LATTICES,TOPS_1,RELAT_1,PRE_TOPC,CKB31;
constructors PARTFUN1,BINOP_1,REALSET1,TOPS_1,NAT_LAT,CKB30,CKB32,CKB34;
requirements BOOLE,SUBSET;
begin
reserve T for TopSpace;
theorem
Th30: (for T being TopSpace holds LattStr (# ( Domains_of T ),( D-Union T ),( D-Meet T ) #) is C_Lattice)
proof
let T being TopSpace;
set L = LattStr (# ( Domains_of T ),( D-Union T ),( D-Meet T ) #);
A1: L is  join-commutative
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Domains_of T ));
thus ( a "\/" b ) = ( ( Int ( Cl ( B \/ A ) ) ) \/ ( B \/ A ) ) by CKB32:def 1
.= ( b "\/" a ) by CKB32:def 1;
end;
A2: L is  meet-absorbing
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Domains_of T ));
A3: ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) c= ( A /\ B ) by XBOOLE_1:17;
B in { D where D is (Subset of T): D is  condensed };
then (ex D being (Subset of T) st (D = B & D is  condensed));
then A4: ( Int ( Cl B ) ) c= B by TOPS_1:def 6;
A5: ( A /\ B ) c= B by XBOOLE_1:17;
( a "/\" b ) = ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) by CKB34:def 1;
hence ( ( a "/\" b ) "\/" b ) = ( ( Int ( Cl ( ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) \/ B ) ) ) \/ ( ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) \/ B ) ) by CKB32:def 1
.= ( ( Int ( Cl ( ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) \/ B ) ) ) \/ B ) by A3,A5,XBOOLE_1:1,XBOOLE_1:12
.= ( ( Int ( Cl B ) ) \/ B ) by A3,A5,XBOOLE_1:1,XBOOLE_1:12
.= b by A4,XBOOLE_1:12;
end;
A6: L is  join-associative
proof
let a being (Element of L);
let b being (Element of L);
let c being (Element of L);
reconsider A = a,B = b,C = c as (Element of ( Domains_of T ));
A7: ( a "\/" b ) = ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) by CKB32:def 1;
( b "\/" c ) = ( ( Int ( Cl ( B \/ C ) ) ) \/ ( B \/ C ) ) by CKB32:def 1;
hence ( a "\/" ( b "\/" c ) ) = ( ( Int ( Cl ( A \/ ( ( Int ( Cl ( B \/ C ) ) ) \/ ( B \/ C ) ) ) ) ) \/ ( A \/ ( ( Int ( Cl ( B \/ C ) ) ) \/ ( B \/ C ) ) ) ) by CKB32:def 1
.= ( ( Int ( Cl ( A \/ ( B \/ C ) ) ) ) \/ ( A \/ ( B \/ C ) ) ) by CKB10:1
.= ( ( Int ( Cl ( A \/ ( B \/ C ) ) ) ) \/ ( ( A \/ B ) \/ C ) ) by XBOOLE_1:4
.= ( ( Int ( Cl ( ( A \/ B ) \/ C ) ) ) \/ ( ( A \/ B ) \/ C ) ) by XBOOLE_1:4
.= ( ( Int ( Cl ( ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) \/ C ) ) ) \/ ( ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) \/ C ) ) by CKB10:1
.= ( ( a "\/" b ) "\/" c ) by A7,CKB32:def 1;
end;
A8: L is  meet-commutative
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Domains_of T ));
thus ( a "/\" b ) = ( ( Cl ( Int ( B /\ A ) ) ) /\ ( B /\ A ) ) by CKB34:def 1
.= ( b "/\" a ) by CKB34:def 1;
end;
A9: L is  join-absorbing
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Domains_of T ));
A10: A c= ( A \/ B ) by XBOOLE_1:7;
A in { D where D is (Subset of T): D is  condensed };
then (ex D being (Subset of T) st (D = A & D is  condensed));
then A11: A c= ( Cl ( Int A ) ) by TOPS_1:def 6;
A12: ( A \/ B ) c= ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) by XBOOLE_1:7;
( a "\/" b ) = ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) by CKB32:def 1;
hence ( a "/\" ( a "\/" b ) ) = ( ( Cl ( Int ( A /\ ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) ) ) ) /\ ( A /\ ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) ) ) by CKB34:def 1
.= ( ( Cl ( Int ( A /\ ( ( Int ( Cl ( A \/ B ) ) ) \/ ( A \/ B ) ) ) ) ) /\ A ) by A10,A12,XBOOLE_1:1,XBOOLE_1:28
.= ( ( Cl ( Int A ) ) /\ A ) by A10,A12,XBOOLE_1:1,XBOOLE_1:28
.= a by A11,XBOOLE_1:28;
end;
L is  meet-associative
proof
let a being (Element of L);
let b being (Element of L);
let c being (Element of L);
reconsider A = a,B = b,C = c as (Element of ( Domains_of T ));
A13: ( a "/\" b ) = ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) by CKB34:def 1;
( b "/\" c ) = ( ( Cl ( Int ( B /\ C ) ) ) /\ ( B /\ C ) ) by CKB34:def 1;
hence ( a "/\" ( b "/\" c ) ) = ( ( Cl ( Int ( A /\ ( ( Cl ( Int ( B /\ C ) ) ) /\ ( B /\ C ) ) ) ) ) /\ ( A /\ ( ( Cl ( Int ( B /\ C ) ) ) /\ ( B /\ C ) ) ) ) by CKB34:def 1
.= ( ( Cl ( Int ( A /\ ( B /\ C ) ) ) ) /\ ( A /\ ( B /\ C ) ) ) by CKB12:1
.= ( ( Cl ( Int ( A /\ ( B /\ C ) ) ) ) /\ ( ( A /\ B ) /\ C ) ) by XBOOLE_1:16
.= ( ( Cl ( Int ( ( A /\ B ) /\ C ) ) ) /\ ( ( A /\ B ) /\ C ) ) by XBOOLE_1:16
.= ( ( Cl ( Int ( ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) /\ C ) ) ) /\ ( ( ( Cl ( Int ( A /\ B ) ) ) /\ ( A /\ B ) ) /\ C ) ) by CKB12:1
.= ( ( a "/\" b ) "/\" c ) by A13,CKB34:def 1;
end;
then reconsider L as Lattice by A1,A6,A2,A8,A9;
A14: L is  lower-bounded
proof
( {} T ) is  condensed by CKB14:1;
then ( {} T ) in { D where D is (Subset of T): D is  condensed };
then reconsider c = ( {} T ) as (Element of L);
take c;
let a being (Element of L);
reconsider C = c,A = a as (Element of ( Domains_of T ));
( C /\ A ) = C;
hence ( c "/\" a ) = ( ( Cl ( Int C ) ) /\ C ) by CKB34:def 1
.= c;
hence ( a "/\" c ) = c;
end;
L is  upper-bounded
proof
( [#] T ) is  condensed by CKB15:1;
then ( [#] T ) in { D where D is (Subset of T): D is  condensed };
then reconsider c = ( [#] T ) as (Element of L);
take c;
let a being (Element of L);
reconsider C = c,A = a as (Element of ( Domains_of T ));
( C \/ A ) = C by XBOOLE_1:12;
hence ( c "\/" a ) = ( ( Int ( Cl C ) ) \/ C ) by CKB32:def 1
.= c by XBOOLE_1:12;
hence ( a "\/" c ) = c;
end;
then reconsider L as 01_Lattice by A14;
L is  complemented
proof
( [#] T ) is  condensed by CKB15:1;
then ( [#] T ) in { D where D is (Subset of T): D is  condensed };
then reconsider c = ( [#] T ) as (Element of L);
let b being (Element of L);
reconsider B = b as (Element of ( Domains_of T ));
A15: ( B ` ) misses B by XBOOLE_1:79;
B in { D where D is (Subset of T): D is  condensed };
then (ex D being (Subset of T) st (D = B & D is  condensed));
then ( B ` ) is  condensed by CKB16:1;
then ( B ` ) in { D where D is (Subset of T): D is  condensed };
then reconsider a = ( B ` ) as (Element of L);
take a;
A16: (for v being (Element of L) holds ( (the L_meet of L) . (c,v) ) = v)
proof
let v being (Element of L);
reconsider V = v as (Element of ( Domains_of T ));
V in { D where D is (Subset of T): D is  condensed };
then (ex D being (Subset of T) st (D = V & D is  condensed));
then A17: V c= ( Cl ( Int V ) ) by TOPS_1:def 6;
thus ( (the L_meet of L) . (c,v) ) = ( ( Cl ( Int ( ( [#] T ) /\ V ) ) ) /\ ( ( [#] T ) /\ V ) ) by CKB34:def 1
.= ( ( Cl ( Int ( ( [#] T ) /\ V ) ) ) /\ V ) by XBOOLE_1:28
.= ( ( Cl ( Int V ) ) /\ V ) by XBOOLE_1:28
.= v by A17,XBOOLE_1:28;
end;
thus ( a "\/" b ) = ( ( Int ( Cl ( ( B ` ) \/ B ) ) ) \/ ( ( B ` ) \/ B ) ) by CKB32:def 1
.= ( ( Int ( Cl ( ( B ` ) \/ B ) ) ) \/ ( [#] T ) ) by PRE_TOPC:2
.= c by XBOOLE_1:12
.= ( Top L ) by A16,LATTICE2:17;
hence ( b "\/" a ) = ( Top L );
( {} T ) is  condensed by CKB14:1;
then ( {} T ) in { D where D is (Subset of T): D is  condensed };
then reconsider c = ( {} T ) as (Element of L);
A18: (for v being (Element of L) holds ( (the L_join of L) . (c,v) ) = v)
proof
let v being (Element of L);
reconsider V = v as (Element of ( Domains_of T ));
V in { D where D is (Subset of T): D is  condensed };
then (ex D being (Subset of T) st (D = V & D is  condensed));
then A19: ( Int ( Cl V ) ) c= V by TOPS_1:def 6;
thus ( (the L_join of L) . (c,v) ) = ( ( Int ( Cl ( ( {} T ) \/ V ) ) ) \/ ( ( {} T ) \/ V ) ) by CKB32:def 1
.= ( ( Int ( Cl ( ( ( [#] T ) ` ) \/ V ) ) ) \/ ( ( {} T ) \/ V ) ) by XBOOLE_1:37
.= ( ( Int ( Cl ( ( ( [#] T ) ` ) \/ ( ( V ` ) ` ) ) ) ) \/ ( ( ( [#] T ) ` ) \/ V ) ) by XBOOLE_1:37
.= ( ( Int ( Cl ( ( ( [#] T ) /\ ( V ` ) ) ` ) ) ) \/ ( ( ( [#] T ) ` ) \/ ( ( V ` ) ` ) ) ) by XBOOLE_1:54
.= ( ( Int ( Cl ( ( ( [#] T ) /\ ( V ` ) ) ` ) ) ) \/ ( ( ( [#] T ) /\ ( V ` ) ) ` ) ) by XBOOLE_1:54
.= ( ( Int ( Cl ( ( V ` ) ` ) ) ) \/ ( ( ( [#] T ) /\ ( V ` ) ) ` ) ) by XBOOLE_1:28
.= ( ( Int ( Cl V ) ) \/ ( ( V ` ) ` ) ) by XBOOLE_1:28
.= v by A19,XBOOLE_1:12;
end;
thus ( a "/\" b ) = ( ( Cl ( Int ( ( B ` ) /\ B ) ) ) /\ ( ( B ` ) /\ B ) ) by CKB34:def 1
.= ( ( Cl ( Int ( ( B ` ) /\ B ) ) ) /\ ( {} T ) ) by A15,XBOOLE_0:def 7
.= ( Bottom L ) by A18,LATTICE2:15;
hence ( b "/\" a ) = ( Bottom L );
end;
hence thesis;
end;
