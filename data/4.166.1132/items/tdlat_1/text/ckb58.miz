environ
vocabularies PRE_TOPC,SUBSET_1,XBOOLE_0,TARSKI,TOPS_1,RCOMP_1,SETFAM_1,ZFMISC_1,STRUCT_0,BINOP_1,FUNCT_1,MCART_1,LATTICES,EQREL_1,REALSET1,NAT_LAT,TDLAT_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,REALSET1,STRUCT_0,PRE_TOPC,LATTICES,BINOP_1,TOPS_1,FUNCT_1,DOMAIN_1,FUNCT_2,NAT_LAT,CKB30,CKB32,CKB33,CKB34,CKB35,CKB37,CKB38,CKB41,CKB42,CKB44,CKB45,CKB48,CKB49,CKB52,CKB53,CKB55,CKB56;
definitions TARSKI,LATTICES,NAT_LAT,XBOOLE_0,BINOP_1,REALSET1,SUBSET_1,STRUCT_0,CKB30,CKB32,CKB34,CKB37,CKB38,CKB41,CKB44,CKB48,CKB49,CKB52,CKB55;
theorems TOPS_1,PRE_TOPC,LATTICE2,BINOP_1,ZFMISC_1,FUNCT_2,SUBSET_1,MCART_1,FUNCT_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB32,CKB34,CKB36,CKB37,CKB38,CKB40,CKB41,CKB43,CKB44,CKB46,CKB47,CKB48,CKB49,CKB51,CKB52,CKB54,CKB55,CKB57;
schemes FUNCT_2,BINOP_2;
registrations SUBSET_1,RELSET_1,REALSET1,LATTICES,TOPS_1,RELAT_1,PRE_TOPC,CKB31,CKB39,CKB50;
constructors PARTFUN1,BINOP_1,REALSET1,TOPS_1,NAT_LAT,CKB30,CKB32,CKB34,CKB37,CKB38,CKB41,CKB44,CKB48,CKB49,CKB52,CKB55;
requirements BOOLE,SUBSET;
begin
reserve T for TopSpace;
theorem
Th38: (for T being TopSpace holds LattStr (# ( Open_Domains_of T ),( OPD-Union T ),( OPD-Meet T ) #) is B_Lattice)
proof
let T being TopSpace;
set L = LattStr (# ( Open_Domains_of T ),( OPD-Union T ),( OPD-Meet T ) #);
A1: L is  join-commutative
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Open_Domains_of T ));
thus ( a "\/" b ) = ( Int ( Cl ( B \/ A ) ) ) by CKB52:def 1
.= ( b "\/" a ) by CKB52:def 1;
end;
A2: L is  meet-absorbing
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Open_Domains_of T ));
B in { D where D is (Subset of T): D is  open_condensed };
then A3: (ex D being (Subset of T) st (D = B & D is  open_condensed));
( a "/\" b ) = ( A /\ B ) by CKB55:def 1;
hence ( ( a "/\" b ) "\/" b ) = ( Int ( Cl ( ( A /\ B ) \/ B ) ) ) by CKB52:def 1
.= ( Int ( Cl B ) ) by XBOOLE_1:22
.= b by A3,TOPS_1:def 8;
end;
A4: L is  join-absorbing
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Open_Domains_of T ));
A5: A c= ( A \/ ( Int ( Cl B ) ) ) by XBOOLE_1:7;
A in { D where D is (Subset of T): D is  open_condensed };
then (ex D being (Subset of T) st (D = A & D is  open_condensed));
then A6: A = ( Int ( Cl A ) ) by TOPS_1:def 8;
( Int ( ( Cl A ) \/ ( Cl B ) ) ) = ( Int ( Cl ( A \/ B ) ) ) by PRE_TOPC:20;
then A7: ( A \/ ( Int ( Cl B ) ) ) c= ( Int ( Cl ( A \/ B ) ) ) by A6,TOPS_1:20;
( a "\/" b ) = ( Int ( Cl ( A \/ B ) ) ) by CKB52:def 1;
hence ( a "/\" ( a "\/" b ) ) = ( A /\ ( Int ( Cl ( A \/ B ) ) ) ) by CKB55:def 1
.= a by A5,A7,XBOOLE_1:1,XBOOLE_1:28;
end;
A8: L is  meet-associative
proof
let a being (Element of L);
let b being (Element of L);
let c being (Element of L);
reconsider A = a,B = b,C = c as (Element of ( Open_Domains_of T ));
A9: ( a "/\" b ) = ( A /\ B ) by CKB55:def 1;
( b "/\" c ) = ( B /\ C ) by CKB55:def 1;
hence ( a "/\" ( b "/\" c ) ) = ( A /\ ( B /\ C ) ) by CKB55:def 1
.= ( ( A /\ B ) /\ C ) by XBOOLE_1:16
.= ( ( a "/\" b ) "/\" c ) by A9,CKB55:def 1;
end;
A10: L is  join-associative
proof
let a being (Element of L);
let b being (Element of L);
let c being (Element of L);
reconsider A = a,B = b,C = c as (Element of ( Open_Domains_of T ));
A in { D where D is (Subset of T): D is  open_condensed };
then A11: (ex D being (Subset of T) st (D = A & D is  open_condensed));
B in { E where E is (Subset of T): E is  open_condensed };
then A12: (ex E being (Subset of T) st (E = B & E is  open_condensed));
C in { F where F is (Subset of T): F is  open_condensed };
then A13: (ex F being (Subset of T) st (F = C & F is  open_condensed));
A14: ( a "\/" b ) = ( Int ( Cl ( A \/ B ) ) ) by CKB52:def 1;
( b "\/" c ) = ( Int ( Cl ( B \/ C ) ) ) by CKB52:def 1;
hence ( a "\/" ( b "\/" c ) ) = ( Int ( Cl ( A \/ ( Int ( Cl ( B \/ C ) ) ) ) ) ) by CKB52:def 1
.= ( Int ( Cl ( ( Int ( Cl ( A \/ B ) ) ) \/ C ) ) ) by A11,A12,A13,CKB29:1
.= ( ( a "\/" b ) "\/" c ) by A14,CKB52:def 1;
end;
L is  meet-commutative
proof
let a being (Element of L);
let b being (Element of L);
reconsider A = a,B = b as (Element of ( Open_Domains_of T ));
thus ( a "/\" b ) = ( B /\ A ) by CKB55:def 1
.= ( b "/\" a ) by CKB55:def 1;
end;
then reconsider L as Lattice by A1,A10,A2,A8,A4;
A15: L is  upper-bounded
proof
A16: ( [#] T ) is  open_condensed by CKB21:1;
then ( [#] T ) in { D where D is (Subset of T): D is  open_condensed };
then reconsider c = ( [#] T ) as (Element of L);
take c;
let a being (Element of L);
reconsider C = c,A = a as (Element of ( Open_Domains_of T ));
thus ( c "\/" a ) = ( Int ( Cl ( C \/ A ) ) ) by CKB52:def 1
.= ( Int ( Cl C ) ) by XBOOLE_1:12
.= c by A16,TOPS_1:def 8;
hence ( a "\/" c ) = c;
end;
A17: L is  distributive
proof
let a being (Element of L);
let b being (Element of L);
let c being (Element of L);
reconsider A = a,B = b,C = c as (Element of ( Open_Domains_of T ));
A in { D where D is (Subset of T): D is  open_condensed };
then consider D being (Subset of T) such that A18: D = A and A19: D is  open_condensed;
A20: D is  open by A19,TOPS_1:67;
A21: ( a "/\" c ) = ( A /\ C ) by CKB55:def 1;
C in { F where F is (Subset of T): F is  open_condensed };
then consider F being (Subset of T) such that A22: F = C and F is  open_condensed;
B in { E where E is (Subset of T): E is  open_condensed };
then consider E being (Subset of T) such that A23: E = B and E is  open_condensed;
A24: ( a "/\" b ) = ( A /\ B ) by CKB55:def 1;
( b "\/" c ) = ( Int ( Cl ( B \/ C ) ) ) by CKB52:def 1;
hence ( a "/\" ( b "\/" c ) ) = ( A /\ ( Int ( Cl ( B \/ C ) ) ) ) by CKB55:def 1
.= ( ( Int ( Cl A ) ) /\ ( Int ( Cl ( B \/ C ) ) ) ) by A18,A19,TOPS_1:def 8
.= ( Int ( Cl ( D /\ ( E \/ F ) ) ) ) by A18,A23,A22,A20,CKB7:1
.= ( Int ( Cl ( ( A /\ B ) \/ ( A /\ C ) ) ) ) by A18,A23,A22,XBOOLE_1:23
.= ( ( a "/\" b ) "\/" ( a "/\" c ) ) by A24,A21,CKB52:def 1;
end;
A25: L is  complemented
proof
( [#] T ) is  open_condensed by CKB21:1;
then ( [#] T ) in { K where K is (Subset of T): K is  open_condensed };
then reconsider c = ( [#] T ) as (Element of L);
let b being (Element of L);
reconsider B = b as (Element of ( Open_Domains_of T ));
B in { D where D is (Subset of T): D is  open_condensed };
then consider D being (Subset of T) such that A26: D = B and A27: D is  open_condensed;
A28: D is  open by A27,TOPS_1:67;
D is  condensed by A27,TOPS_1:67;
then ( Int ( B ` ) ) is  open_condensed by A26,CKB16:1,CKB25:1;
then ( Int ( B ` ) ) in { K where K is (Subset of T): K is  open_condensed };
then reconsider a = ( Int ( B ` ) ) as (Element of L);
take a;
A29: ( B ` ) misses B by XBOOLE_1:79;
A30: (for v being (Element of L) holds ( (the L_meet of L) . (c,v) ) = v)
proof
let v being (Element of L);
reconsider V = v as (Element of ( Open_Domains_of T ));
thus ( (the L_meet of L) . (c,v) ) = ( ( [#] T ) /\ V ) by CKB55:def 1
.= v by XBOOLE_1:28;
end;
thus ( a "\/" b ) = ( Int ( Cl ( B \/ ( Int ( B ` ) ) ) ) ) by CKB52:def 1
.= ( Int ( [#] T ) ) by CKB9:1
.= c by TOPS_1:15
.= ( Top L ) by A30,LATTICE2:17;
hence ( b "\/" a ) = ( Top L );
( {} T ) is  open_condensed by CKB20:1;
then ( {} T ) in { K where K is (Subset of T): K is  open_condensed };
then reconsider c = ( {} T ) as (Element of L);
A31: (for v being (Element of L) holds ( (the L_join of L) . (c,v) ) = v)
proof
let v being (Element of L);
reconsider V = v as (Element of ( Open_Domains_of T ));
V in { K where K is (Subset of T): K is  open_condensed };
then A32: (ex D being (Subset of T) st (D = V & D is  open_condensed));
thus ( (the L_join of L) . (c,v) ) = ( Int ( Cl ( ( {} T ) \/ V ) ) ) by CKB52:def 1
.= ( Int ( Cl ( ( ( [#] T ) ` ) \/ ( ( V ` ) ` ) ) ) ) by XBOOLE_1:37
.= ( Int ( Cl ( ( ( [#] T ) /\ ( V ` ) ) ` ) ) ) by XBOOLE_1:54
.= ( Int ( Cl ( ( V ` ) ` ) ) ) by XBOOLE_1:28
.= v by A32,TOPS_1:def 8;
end;
thus ( a "/\" b ) = ( ( Int ( B ` ) ) /\ B ) by CKB55:def 1
.= ( ( Int ( D ` ) ) /\ ( Int D ) ) by A26,A28,TOPS_1:23
.= ( Int ( ( B ` ) /\ B ) ) by A26,TOPS_1:17
.= ( Int ( {} T ) ) by A29,XBOOLE_0:def 7
.= ( Bottom L ) by A31,LATTICE2:15;
hence ( b "/\" a ) = ( Bottom L );
end;
L is  lower-bounded
proof
( {} T ) is  open_condensed by CKB20:1;
then ( {} T ) in { D where D is (Subset of T): D is  open_condensed };
then reconsider c = ( {} T ) as (Element of L);
take c;
let a being (Element of L);
reconsider C = c,A = a as (Element of ( Open_Domains_of T ));
thus ( c "/\" a ) = ( C /\ A ) by CKB55:def 1
.= c;
hence ( a "/\" c ) = c;
end;
hence thesis by A15,A25,A17;
end;
