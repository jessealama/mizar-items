environ
vocabularies NUMBERS,NAT_1,SUBSET_1,REAL_1,CARD_1,XXREAL_0,NEWTON,ARYTM_3,CARD_3,PROB_1,XBOOLE_0,LIMFUNC1,PRE_TOPC,FUNCT_1,ZFMISC_1,STRUCT_0,FINSEQ_1,RELAT_1,ARYTM_1,TARSKI,CONNSP_2,RCOMP_1,TOPS_1,SETFAM_1,CARD_5,URYSOHN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,DOMAIN_1,FUNCT_1,FUNCT_2,REAL_1,FINSEQ_1,NAT_1,PROB_1,LIMFUNC1,NEWTON,STRUCT_0,PRE_TOPC,TOPS_1,CONNSP_2,XXREAL_0,CKB1,CKB2,CKB3,CKB4,CKB9,CKB18,CKB26,CKB27,CKB30,CKB36;
definitions TARSKI,CONNSP_2,XBOOLE_0,PROB_1,LIMFUNC1,SUBSET_1,STRUCT_0,PRE_TOPC,CKB1,CKB2,CKB3,CKB9,CKB18,CKB27,CKB30,CKB36;
theorems TARSKI,SUBSET_1,FUNCT_1,NAT_1,FINSEQ_1,ZFMISC_1,PRE_TOPC,TOPS_1,ENUMSET1,COMPTS_1,NEWTON,CONNSP_2,XBOOLE_0,XBOOLE_1,SCHEME1,XCMPLX_1,XREAL_1,XXREAL_0,ORDINAL1,CKB1,CKB2,CKB3,CKB5,CKB6,CKB7,CKB9,CKB10,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36;
schemes SUBSET_1,NAT_1,FINSEQ_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,STRUCT_0,PRE_TOPC,TOPS_1,NEWTON,CKB8,CKB11,CKB12;
constructors SETFAM_1,DOMAIN_1,REAL_1,NAT_1,MEMBERED,XXREAL_1,PROB_1,LIMFUNC1,NEWTON,TOPS_1,COMPTS_1,CONNSP_2,CKB1,CKB2,CKB3,CKB4,CKB9,CKB18,CKB36;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
(for T being non empty TopSpace holds (T is  normal implies (for A,B being  closed (Subset of T) holds (A <> ( {} ) implies (for n being (Element of ( NAT )) holds (for G being (Function of ( dyadic n ),( bool (the carrier of T) )) holds (((A c= ( G . ( 0 ) ) & B = ( ( [#] T ) \ ( G . 1 ) )) & (for r1,r2 being (Element of ( dyadic n )) holds (r1 < r2 implies ((( G . r1 ) is  open & ( G . r2 ) is  open) & ( Cl ( G . r1 ) ) c= ( G . r2 ))))) implies (ex F being (Function of ( dyadic ( n + 1 ) ),( bool (the carrier of T) )) st ((A c= ( F . ( 0 ) ) & B = ( ( [#] T ) \ ( F . 1 ) )) & (for r1,r2,r being (Element of ( dyadic ( n + 1 ) )) holds (r1 < r2 implies (((( F . r1 ) is  open & ( F . r2 ) is  open) & ( Cl ( F . r1 ) ) c= ( F . r2 )) & (r in ( dyadic n ) implies ( F . r ) = ( G . r ))))))))))))))
proof
let T being non empty TopSpace;
assume that
A1: T is  normal;
let A being  closed (Subset of T),B being  closed (Subset of T);
assume that
A2: A <> ( {} );
let n being (Element of ( NAT ));
let G being (Function of ( dyadic n ),( bool (the carrier of T) ));
assume that
A3: A c= ( G . ( 0 ) )
and
A4: B = ( ( [#] T ) \ ( G . 1 ) )
and
A5: (for r1,r2 being (Element of ( dyadic n )) holds (r1 < r2 implies ((( G . r1 ) is  open & ( G . r2 ) is  open) & ( Cl ( G . r1 ) ) c= ( G . r2 ))));
A6: (for r being (Element of ( dyadic n )) holds ( G . r ) <> ( {} ))
proof
let r being (Element of ( dyadic n ));
per cases  by CKB5:1;
suppose ( 0 ) = r;

hence thesis by A2,A3;
end;
suppose A7: ( 0 ) < r;

reconsider q1 = ( 0 ) as (Element of ( dyadic n )) by CKB14:1;
(( G . q1 ) c= ( Cl ( G . q1 ) ) & ( Cl ( G . q1 ) ) c= ( G . r )) by A5,A7,PRE_TOPC:18;
hence thesis by A2,A3;
end;
end;
reconsider S = ( ( dyadic ( n + 1 ) ) \ ( dyadic n ) ) as non empty set by CKB17:1;
A8: (( 0 ) in ( dyadic ( n + 1 ) ) & 1 in ( dyadic ( n + 1 ) )) by CKB14:1;
defpred P[ (Element of S),(Subset of T) ]
 means
(for r being (Element of ( dyadic ( n + 1 ) )) holds ((r in S & $1 = r) implies (for r1,r2 being (Element of ( dyadic n )) holds ((r1 = ( ( ( axis r ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) & r2 = ( ( ( axis r ) + 1 ) / ( 2 |^ ( n + 1 ) ) )) implies $2 is (Between of ( G . r1 ),( G . r2 ))))));
A9: (for x being (Element of S) holds (ex y being (Subset of T) st P[ x,y ]))
proof
let x being (Element of S);
A10: (not x in ( dyadic n )) by XBOOLE_0:def 5;
reconsider x as (Element of ( dyadic ( n + 1 ) )) by XBOOLE_0:def 5;
(( ( ( axis x ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n ) & ( ( ( axis x ) + 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n )) by A10,CKB22:1;
then consider q1 being (Element of ( dyadic n )),q2 being (Element of ( dyadic n )) such that A11: (q1 = ( ( ( axis x ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) & q2 = ( ( ( axis x ) + 1 ) / ( 2 |^ ( n + 1 ) ) ));
take the (Between of ( G . q1 ),( G . q2 ));
thus thesis by A11;
end;
consider D being (Function of S,( bool (the carrier of T) )) such that A12: (for x being (Element of S) holds P[ x,( D . x ) ]) from FUNCT_2:sch 3(A9);
defpred W[ (Element of ( dyadic ( n + 1 ) )),(Subset of T) ]
 means
(for r being (Element of ( dyadic ( n + 1 ) )) holds ($1 = r implies ((r in ( dyadic n ) implies $2 = ( G . r )) & ((not r in ( dyadic n )) implies $2 = ( D . r )))));
A13: (for x being (Element of ( dyadic ( n + 1 ) )) holds (ex y being (Subset of T) st W[ x,y ]))
proof
let x being (Element of ( dyadic ( n + 1 ) ));
per cases ;
suppose x in ( dyadic n );

then reconsider x as (Element of ( dyadic n ));
consider y being (Subset of T) such that A14: y = ( G . x );
take y;
thus thesis by A14;
end;
suppose A15: (not x in ( dyadic n ));

then reconsider x as (Element of S) by XBOOLE_0:def 5;
consider y being (Subset of T) such that A16: y = ( D . x );
take y;
thus thesis by A15,A16;
end;
end;
consider F being (Function of ( dyadic ( n + 1 ) ),( bool (the carrier of T) )) such that A17: (for x being (Element of ( dyadic ( n + 1 ) )) holds W[ x,( F . x ) ]) from FUNCT_2:sch 3(A13);
take F;
(( 0 ) in ( dyadic n ) & 1 in ( dyadic n )) by CKB14:1;
hence (A c= ( F . ( 0 ) ) & B = ( ( [#] T ) \ ( F . 1 ) )) by A3,A4,A17,A8;
let r1 being (Element of ( dyadic ( n + 1 ) )),r2 being (Element of ( dyadic ( n + 1 ) )),r being (Element of ( dyadic ( n + 1 ) ));
assume that
A18: r1 < r2;
thus ((( F . r1 ) is  open & ( F . r2 ) is  open) & ( Cl ( F . r1 ) ) c= ( F . r2 ))
proof
now
per cases ;
suppose A19: (r1 in ( dyadic n ) & r2 in ( dyadic n ));

then A20: (( F . r1 ) = ( G . r1 ) & ( F . r2 ) = ( G . r2 )) by A17;
reconsider r1,r2 as (Element of ( dyadic n )) by A19;
r1 < r2 by A18;
hence thesis by A5,A20;
end;
suppose A21: (r1 in ( dyadic n ) & (not r2 in ( dyadic n )));

then (( ( ( axis r2 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n ) & ( ( ( axis r2 ) + 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n )) by CKB22:1;
then consider q1 being (Element of ( dyadic n )),q2 being (Element of ( dyadic n )) such that A22: q1 = ( ( ( axis r2 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) and A23: q2 = ( ( ( axis r2 ) + 1 ) / ( 2 |^ ( n + 1 ) ) );
A24: r1 <= q1 by A18,A22,CKB24:1;
r2 in S by A21,XBOOLE_0:def 5;
then A25: ( D . r2 ) is (Between of ( G . q1 ),( G . q2 )) by A12,A22,A23;
A26: q1 < q2 by A22,A23,CKB21:1;
then A27: (( G . q2 ) is  open & ( Cl ( G . q1 ) ) c= ( G . q2 )) by A5;
A28: ( F . r2 ) = ( D . r2 ) by A17,A21;
A29: ( G . q1 ) <> ( {} ) by A6;
A30: ( G . q1 ) is  open by A5,A26;
then A31: ( Cl ( G . q1 ) ) c= ( F . r2 ) by A1,A28,A25,A29,A27,CKB36:def 1;
now
per cases  by A24,XXREAL_0:1;
suppose r1 = q1;

hence thesis by A1,A17,A28,A25,A29,A30,A27,A31,CKB36:def 1;
end;
suppose A32: r1 < q1;

A33: ( G . q1 ) c= ( Cl ( G . q1 ) ) by PRE_TOPC:18;
consider q0 being (Element of ( dyadic n )) such that A34: q0 = r1 by A21;
( Cl ( G . q0 ) ) c= ( G . q1 ) by A5,A32,A34;
then ( Cl ( F . r1 ) ) c= ( G . q1 ) by A17,A34;
then A35: ( Cl ( F . r1 ) ) c= ( Cl ( G . q1 ) ) by A33,XBOOLE_1:1;
A36: ( G . q0 ) is  open by A5,A32,A34;
A37: ( G . q1 ) is  open by A5,A32,A34;
then ( Cl ( G . q1 ) ) c= ( F . r2 ) by A1,A28,A25,A29,A27,CKB36:def 1;
hence thesis by A1,A17,A28,A25,A29,A27,A34,A36,A37,A35,CKB36:def 1,XBOOLE_1:1;
end;
end;
hence thesis;
end;
suppose A38: ((not r1 in ( dyadic n )) & r2 in ( dyadic n ));

then (( ( ( axis r1 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n ) & ( ( ( axis r1 ) + 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n )) by CKB22:1;
then consider q1 being (Element of ( dyadic n )),q2 being (Element of ( dyadic n )) such that A39: q1 = ( ( ( axis r1 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) and A40: q2 = ( ( ( axis r1 ) + 1 ) / ( 2 |^ ( n + 1 ) ) );
A41: q2 <= r2 by A18,A40,CKB24:1;
r1 in S by A38,XBOOLE_0:def 5;
then A42: ( D . r1 ) is (Between of ( G . q1 ),( G . q2 )) by A12,A39,A40;
A43: q1 < q2 by A39,A40,CKB21:1;
then A44: (( G . q1 ) is  open & ( Cl ( G . q1 ) ) c= ( G . q2 )) by A5;
A45: ( F . r1 ) = ( D . r1 ) by A17,A38;
A46: ( G . q1 ) <> ( {} ) by A6;
A47: ( G . q2 ) is  open by A5,A43;
then A48: ( Cl ( F . r1 ) ) c= ( G . q2 ) by A1,A45,A42,A46,A44,CKB36:def 1;
now
per cases  by A41,XXREAL_0:1;
suppose q2 = r2;

hence thesis by A1,A17,A45,A42,A46,A47,A44,A48,CKB36:def 1;
end;
suppose A49: q2 < r2;

A50: ( G . q2 ) c= ( Cl ( G . q2 ) ) by PRE_TOPC:18;
consider q3 being (Element of ( dyadic n )) such that A51: q3 = r2 by A38;
A52: ( G . q2 ) is  open by A5,A49,A51;
then ( Cl ( F . r1 ) ) c= ( G . q2 ) by A1,A45,A42,A46,A44,CKB36:def 1;
then A53: ( Cl ( F . r1 ) ) c= ( Cl ( G . q2 ) ) by A50,XBOOLE_1:1;
( Cl ( G . q2 ) ) c= ( G . q3 ) by A5,A49,A51;
then A54: ( Cl ( G . q2 ) ) c= ( F . r2 ) by A17,A51;
( G . q3 ) is  open by A5,A49,A51;
hence thesis by A1,A17,A45,A42,A46,A44,A51,A52,A53,A54,CKB36:def 1,XBOOLE_1:1;
end;
end;
hence thesis;
end;
suppose A55: ((not r1 in ( dyadic n )) & (not r2 in ( dyadic n )));

then (( ( ( axis r1 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n ) & ( ( ( axis r1 ) + 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n )) by CKB22:1;
then consider q11 being (Element of ( dyadic n )),q21 being (Element of ( dyadic n )) such that A56: q11 = ( ( ( axis r1 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) and A57: q21 = ( ( ( axis r1 ) + 1 ) / ( 2 |^ ( n + 1 ) ) );
r1 in S by A55,XBOOLE_0:def 5;
then A58: ( D . r1 ) is (Between of ( G . q11 ),( G . q21 )) by A12,A56,A57;
A59: q11 < q21 by A56,A57,CKB21:1;
then A60: ( G . q21 ) is  open by A5;
(( ( ( axis r2 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n ) & ( ( ( axis r2 ) + 1 ) / ( 2 |^ ( n + 1 ) ) ) in ( dyadic n )) by A55,CKB22:1;
then consider q12 being (Element of ( dyadic n )),q22 being (Element of ( dyadic n )) such that A61: q12 = ( ( ( axis r2 ) - 1 ) / ( 2 |^ ( n + 1 ) ) ) and A62: q22 = ( ( ( axis r2 ) + 1 ) / ( 2 |^ ( n + 1 ) ) );
r2 in S by A55,XBOOLE_0:def 5;
then A63: ( D . r2 ) is (Between of ( G . q12 ),( G . q22 )) by A12,A61,A62;
A64: q12 < q22 by A61,A62,CKB21:1;
then A65: ( G . q12 ) is  open by A5;
A66: (( G . q22 ) is  open & ( Cl ( G . q12 ) ) c= ( G . q22 )) by A5,A64;
A67: ( G . q12 ) <> ( {} ) by A6;
A68: ( G . q11 ) <> ( {} ) by A6;
A69: ( F . r2 ) = ( D . r2 ) by A17,A55;
A70: ( F . r1 ) = ( D . r1 ) by A17,A55;
A71: (( G . q11 ) is  open & ( Cl ( G . q11 ) ) c= ( G . q21 )) by A5,A59;
hence (( F . r1 ) is  open & ( F . r2 ) is  open) by A1,A70,A58,A68,A60,A69,A63,A67,A65,A66,CKB36:def 1;
A72: q21 <= q12 by A18,A55,A57,A61,CKB25:1;
now
per cases  by A72,XXREAL_0:1;
suppose A73: q21 = q12;

(( Cl ( F . r1 ) ) c= ( G . q21 ) & ( G . q21 ) c= ( Cl ( G . q21 ) )) by A1,A70,A58,A68,A60,A71,CKB36:def 1,PRE_TOPC:18;
then A74: ( Cl ( F . r1 ) ) c= ( Cl ( G . q21 ) ) by XBOOLE_1:1;
( Cl ( G . q21 ) ) c= ( F . r2 ) by A1,A60,A69,A63,A67,A66,A73,CKB36:def 1;
hence ( Cl ( F . r1 ) ) c= ( F . r2 ) by A74,XBOOLE_1:1;
end;
suppose A75: q21 < q12;

(( Cl ( F . r1 ) ) c= ( G . q21 ) & ( G . q21 ) c= ( Cl ( G . q21 ) )) by A1,A70,A58,A68,A60,A71,CKB36:def 1,PRE_TOPC:18;
then A76: ( Cl ( F . r1 ) ) c= ( Cl ( G . q21 ) ) by XBOOLE_1:1;
( Cl ( G . q21 ) ) c= ( G . q12 ) by A5,A75;
then A77: ( Cl ( F . r1 ) ) c= ( G . q12 ) by A76,XBOOLE_1:1;
(( G . q12 ) c= ( Cl ( G . q12 ) ) & ( Cl ( G . q12 ) ) c= ( F . r2 )) by A1,A69,A63,A67,A65,A66,CKB36:def 1,PRE_TOPC:18;
then ( G . q12 ) c= ( F . r2 ) by XBOOLE_1:1;
hence ( Cl ( F . r1 ) ) c= ( F . r2 ) by A77,XBOOLE_1:1;
end;
end;
hence ( Cl ( F . r1 ) ) c= ( F . r2 );
end;
end;
hence thesis;
end;

thus thesis by A17;
end;
