environ
vocabularies TREES_1,FINSEQ_1,NUMBERS,SUBSET_1,ORDINAL4,XBOOLE_0,TARSKI,RELAT_1,XXREAL_0,ARYTM_3,TREES_2,FUNCT_1,TREES_A;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XXREAL_0,NAT_1,RELAT_1,FUNCT_1,FINSEQ_1,TREES_1,TREES_2,CKB2,CKB11;
definitions TARSKI,XBOOLE_0,TREES_1,TREES_2,RELAT_1,CKB2;
theorems TARSKI,FUNCT_1,FINSEQ_1,TREES_1,TREES_2,XBOOLE_0,XBOOLE_1,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9;
schemes TREES_2;
registrations XBOOLE_0,RELSET_1,MEMBERED,FINSEQ_1,TREES_2,CKB10;
constructors XXREAL_0,NAT_1,MEMBERED,TREES_2,RELSET_1,FINSEQ_2,CKB2,CKB11;
requirements NUMERALS,BOOLE,SUBSET;
begin
reserve T for Tree;
reserve T1 for Tree;
reserve p for (FinSequence of ( NAT ));
reserve r for (FinSequence of ( NAT ));
reserve s for (FinSequence of ( NAT ));
reserve t for (Element of T);
theorem
Th10: ( tree (T,{ t },T1) ) = ( T with-replacement (t,T1) )
proof
let p;
thus (p in ( tree (T,{ t },T1) ) implies p in ( T with-replacement (t,T1) ))
proof
assume A1: p in ( tree (T,{ t },T1) );
A2:now
assume A3: (p in T & (for s holds (s in { t } implies (not s is_a_proper_prefix_of p))));
t in { t } by TARSKI:def 1;
hence (p in T & (not t is_a_proper_prefix_of p)) by A3;
end;
now
given s such that
A4: (ex r st ((s in { t } & r in T1) & p = ( s ^ r )));

s = t by A4,TARSKI:def 1;
hence (ex r st (r in T1 & p = ( t ^ r ))) by A4;
end;
hence thesis by A1,A2,CKB2:def 1,TREES_1:def 9;
end;

assume A5: p in ( T with-replacement (t,T1) );
A6: ((p in T & (not t is_a_proper_prefix_of p)) implies (p in T & (for s holds (s in { t } implies (not s is_a_proper_prefix_of p))))) by TARSKI:def 1;
now
assume A7: (ex r st (r in T1 & p = ( t ^ r )));
thus (ex s st (ex r st ((s in { t } & r in T1) & p = ( s ^ r ))))
proof
take t;
t in { t } by TARSKI:def 1;
hence thesis by A7;
end;

end;
hence thesis by A5,A6,CKB2:def 1,TREES_1:def 9;
end;
