environ
vocabularies NUMBERS,XBOOLE_0,PROB_1,MEASURE1,PARTFUN1,SUBSET_1,REAL_1,INTEGRA5,TARSKI,RELAT_1,FUNCT_1,ARYTM_3,XXREAL_0,MEASURE6,MESFUNC5,FUNCT_3,VALUED_1,MESFUNC1,ARYTM_1,SUPINF_2,MESFUNC2,FINSEQ_1,NAT_1,CARD_3,CARD_1,MESFUNC3,INTEGRA1,ZFMISC_1,XXREAL_2,VALUED_0,SEQ_1,RPR_1,FINSET_1,UPROOTS,RFUNCT_3,PROB_4,XREAL_0,ORDINAL1,COMPLEX1,EQREL_1,SEQ_2,ORDINAL2,POWER,RANDOM_1,BSPACE;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,FINSET_1,CARD_1,NUMBERS,XREAL_0,XXREAL_0,REAL_1,COMPLEX1,XXREAL_2,FUNCT_1,RELSET_1,PARTFUN1,VALUED_1,FINSEQ_1,RFUNCT_3,FUNCT_2,NAT_1,SUPINF_2,SEQ_1,SEQ_2,RPR_1,PROB_1,PROB_4,MEASURE1,EXTREAL1,MESFUNC1,MESFUNC3,MEASURE6,MESFUNC5,MESFUNC6,MESFUNC2,RVSUM_1,UPROOTS,MESFUN6C,CKB10,CKB11;
definitions TARSKI,RPR_1,SUBSET_1,FINSEQ_1,MESFUNC1,MEASURE6,MESFUNC5,MESFUNC6,XCMPLX_0,PROB_4,VALUED_1,XBOOLE_0,XXREAL_3;
theorems ABSVALUE,TARSKI,PARTFUN1,FUNCT_1,NUMBERS,SUPINF_2,EXTREAL1,RPR_1,MESFUNC1,FINSEQ_1,XBOOLE_0,SEQM_3,RVSUM_1,XBOOLE_1,XCMPLX_1,MESFUNC2,MESFUNC3,XREAL_1,COMPLEX1,XXREAL_0,RFUNCT_3,MESFUNC5,PROB_1,NAT_1,RELAT_1,FUNCT_3,ZFMISC_1,FUNCT_2,MEASURE1,INTEGRA5,MESFUNC4,MESFUNC6,ORDINAL1,SEQ_2,CARD_FIN,MESFUNC7,VALUED_0,VALUED_1,UPROOTS,ABCMIZ_1,RCOMP_1,MESFUN6C,FINSEQ_3,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes FINSEQ_1,FUNCT_2,FINSEQ_2;
registrations SUBSET_1,NAT_1,XREAL_0,XXREAL_0,TOPREAL6,MEMBERED,ORDINAL1,FINSEQ_1,MEASURE1,FUNCT_2,RELAT_1,SEQ_4,FINSET_1,NUMBERS,XCMPLX_0,VALUED_0,VALUED_1,UPROOTS,RELSET_1;
constructors REAL_1,RPR_1,NAT_3,EXTREAL1,SEQ_1,POWER,RVSUM_1,MESFUNC6,MESFUNC3,MESFUNC5,MEASURE6,MESFUNC2,BINOP_2,PARTFUN3,INTEGRA2,PROB_4,SUPINF_1,UPROOTS,MESFUN6C,MESFUNC1,DOMAIN_1,RELSET_1,CKB11;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th9: (for Omega being non empty  finite set holds (for M being (sigma_Measure of ( Trivial-SigmaField Omega )) holds (for f being (Function of Omega,( REAL )) holds (for x being (FinSequence of ( ExtREAL )) holds (for s being (FinSequence of Omega) holds ((s is  one-to-one & ( rng s ) = Omega) implies (ex F being (Finite_Sep_Sequence of ( Trivial-SigmaField Omega )) st (ex a being (FinSequence of ( REAL )) st ((((( dom f ) = ( union ( rng F ) ) & ( dom a ) = ( dom s )) & ( dom F ) = ( dom s )) & (for k being Nat holds (k in ( dom F ) implies ( F . k ) = { ( s . k ) }))) & (for n being Nat holds (for x,y being (Element of Omega) holds (((n in ( dom F ) & x in ( F . n )) & y in ( F . n )) implies ( f . x ) = ( f . y )))))))))))))
proof
let Omega being non empty  finite set;
let M being (sigma_Measure of ( Trivial-SigmaField Omega ));
let f being (Function of Omega,( REAL ));
let x being (FinSequence of ( ExtREAL ));
let s being (FinSequence of Omega);
assume that
A1: s is  one-to-one
and
A2: ( rng s ) = Omega;
defpred Q[ Nat,set ]
 means
$2 = ( f . ( s . $1 ) );
set Sigma = ( Trivial-SigmaField Omega );
set L = ( len s );
defpred P[ Nat,set ]
 means
$2 = { ( s . $1 ) };
A3: (for k being Nat holds (k in ( Seg L ) implies (ex x being (Element of ( bool Omega )) st P[ k,x ])))
proof
let k being Nat;
assume A4: k in ( Seg L );
take { ( s . k ) };
k in ( dom s ) by A4,FINSEQ_1:def 3;
then ( s . k ) in ( rng s ) by FUNCT_1:3;
hence thesis by ZFMISC_1:31;
end;
consider F being (FinSequence of ( bool Omega )) such that A5: (( dom F ) = ( Seg L ) & (for k being Nat holds (k in ( Seg L ) implies P[ k,( F . k ) ]))) from FINSEQ_1:sch 5(A3);
A6:now
let i being Nat,j being Nat;
assume that
A7: (i in ( dom F ) & j in ( dom F ))
and
A8: i <> j;
(i in ( dom s ) & j in ( dom s )) by A5,A7,FINSEQ_1:def 3;
then A9: ( s . i ) <> ( s . j ) by A1,A8,FUNCT_1:def 4;
(( F . i ) = { ( s . i ) } & ( F . j ) = { ( s . j ) }) by A5,A7;
hence ( F . i ) misses ( F . j ) by A9,ZFMISC_1:11;
end;
A10: ( dom F ) = ( dom s ) by A5,FINSEQ_1:def 3;
reconsider F as (Finite_Sep_Sequence of Sigma) by A6,MESFUNC3:4;
( union ( rng F ) ) = ( rng s )
proof
now
let x being set;
assume x in ( union ( rng F ) );
then consider y being set such that A11: x in y and A12: y in ( rng F ) by TARSKI:def 4;
consider n being set such that A13: n in ( dom F ) and A14: y = ( F . n ) by A12,FUNCT_1:def 3;
( F . n ) = { ( s . n ) } by A5,A13;
then A15: x = ( s . n ) by A11,A14,TARSKI:def 1;
n in ( dom s ) by A5,A13,FINSEQ_1:def 3;
hence x in ( rng s ) by A15,FUNCT_1:def 3;
end;
hence ( union ( rng F ) ) c= ( rng s ) by TARSKI:def 3;
let x being set;
assume x in ( rng s );
then consider n being set such that A16: n in ( dom s ) and A17: x = ( s . n ) by FUNCT_1:def 3;
A18: n in ( Seg L ) by A16,FINSEQ_1:def 3;
reconsider n as (Element of ( NAT )) by A16;
n in ( dom F ) by A5,A16,FINSEQ_1:def 3;
then A19: ( F . n ) in ( rng F ) by FUNCT_1:def 3;
x in { ( s . n ) } by A17,TARSKI:def 1;
then x in ( F . n ) by A5,A18;
hence x in ( union ( rng F ) ) by A19,TARSKI:def 4;
end;
then A20: ( dom f ) = ( union ( rng F ) ) by A2,FUNCT_2:def 1;
take F;
A21: (for n being Nat holds (for x,y being (Element of Omega) holds (((n in ( dom F ) & x in ( F . n )) & y in ( F . n )) implies ( f . x ) = ( f . y ))))
proof
let n being Nat;
let x being (Element of Omega),y being (Element of Omega);
assume that
A22: n in ( dom F )
and
A23: x in ( F . n )
and
A24: y in ( F . n );
A25: ( F . n ) = { ( s . n ) } by A5,A22;
hence ( f . x ) = ( f . ( s . n ) ) by A23,TARSKI:def 1
.= ( f . y ) by A24,A25,TARSKI:def 1;
end;
A26: (for k being Nat holds (k in ( Seg L ) implies (ex x being (Element of ( REAL )) st Q[ k,x ])));
(ex a being (FinSequence of ( REAL )) st (( dom a ) = ( Seg L ) & (for k being Nat holds (k in ( Seg L ) implies Q[ k,( a . k ) ])))) from FINSEQ_1:sch 5(A26);
hence thesis by A5,A10,A20,A21;
end;
