environ
vocabularies NUMBERS,SUBSET_1,XBOOLE_0,ORDERS_1,ORDERS_2,WELLORD1,FINSET_1,XXREAL_0,TARSKI,STRUCT_0,FINSUB_1,SETFAM_1,RELAT_2,RELAT_1,CARD_1,PRE_POLY,FINSEQ_1,PROB_1,PBOOLE,NAT_1,FUNCT_1,ARYTM_3,FUNCOP_1,FUNCT_2,QC_LANG1,ORDINAL2,FINSEQ_2,PARTFUN1,TRIANG_1;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,RELAT_1,RELAT_2,SETFAM_1,ORDERS_1,DOMAIN_1,NAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,FINSEQ_1,FINSEQ_2,FINSUB_1,STRUCT_0,WELLORD1,SEQM_3,PBOOLE,ORDERS_2,FINSEQOP,FUNCOP_1,XXREAL_0,PRE_POLY,CKB5,CKB12,CKB13,CKB15,CKB17,CKB18,CKB21,CKB22,CKB23,CKB27,CKB28,CKB29;
definitions RELAT_2,TARSKI,SETFAM_1,FUNCT_1,SEQM_3,WELLORD1,ORDERS_2,FINSEQ_2,SUBSET_1,CKB5,CKB13,CKB15,CKB17,CKB18,CKB23,CKB29;
theorems RELAT_1,ORDERS_2,RELAT_2,ZFMISC_1,TARSKI,SUBSET_1,ORDERS_1,FINSUB_1,NAT_1,FUNCT_2,PBOOLE,FUNCT_1,FINSEQ_1,CARD_2,FINSEQ_4,FINSEQ_2,FUNCOP_1,SEQM_3,SETFAM_1,XBOOLE_0,XBOOLE_1,XXREAL_0,ORDINAL1,PARTFUN1,PRE_POLY,CKB2,CKB3,CKB5,CKB7,CKB8,CKB9,CKB10,CKB13,CKB15,CKB17,CKB18,CKB23,CKB29;
schemes PBOOLE,CLASSES1,MSSUBFAM,PRE_POLY;
registrations XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,ORDINAL1,FINSET_1,FINSUB_1,NUMBERS,XXREAL_0,NAT_1,FINSEQ_1,STRUCT_0,ORDERS_2,MEMBERED,VALUED_0,CARD_1,RELSET_1,FUNCT_1,FUNCT_2,PRE_POLY,CKB1,CKB4,CKB6,CKB11,CKB14,CKB16,CKB19,CKB20,CKB22,CKB24,CKB25,CKB26;
constructors SETFAM_1,WELLORD2,DOMAIN_1,FUNCT_3,FINSUB_1,XXREAL_0,NAT_1,TOLER_1,FINSEQOP,PBOOLE,ORDERS_2,SEQM_3,SEQ_1,XREAL_0,MEMBERED,RELSET_1,PRE_POLY,CKB5,CKB13,CKB15,CKB17,CKB18,CKB22,CKB23,CKB29;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve A for set;
reserve x for set;
reserve y for set;
reserve z for set;
reserve u for set;
reserve m for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve C for non  empty Poset;
definition
let C being non  empty Poset;
func Triang C ->  lower_non-empty  strict TriangStr means 
((( (the SkeletonSeq of it) . ( 0 ) ) = { ( {} ) } & (for n being Nat holds (n > ( 0 ) implies ( (the SkeletonSeq of it) . n ) = { ( SgmX ((the InternalRel of C),A) ) where A is non  empty (Element of ( symplexes C )): ( card A ) = n }))) & (for n being Nat holds (for f being (Face of n) holds (for s being (Element of ( (the SkeletonSeq of it) . ( n + 1 ) )) holds (s in ( (the SkeletonSeq of it) . ( n + 1 ) ) implies (for A being non  empty (Element of ( symplexes C )) holds (( SgmX ((the InternalRel of C),A) ) = s implies ( face (s,f) ) = ( ( SgmX ((the InternalRel of C),A) ) * f ))))))));
existence
proof
deffunc U((Element of ( NAT ))) = ( IFEQ ($1,( 0 ),{ ( {} ) },{ ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = $1 }) );
consider Sk being SetSequence such that A1: (for n holds ( Sk . n ) = U(n)) from PBOOLE:sch 5;
A2:now
let n being Nat;
assume A3: n <> ( 0 );
n in ( NAT ) by ORDINAL1:def 12;
hence ( Sk . n ) = ( IFEQ (n,( 0 ),{ ( {} ) },{ ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = n }) ) by A1
.= { ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = n } by A3,FUNCOP_1:def 8;
end;
A4: ( Sk . ( 0 ) ) = ( IFEQ (( 0 ),( 0 ),{ ( {} ) },{ ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = ( 0 ) }) ) by A1
.= { ( {} ) } by FUNCOP_1:def 8;
Sk is  lower_non-empty
proof
defpred X[ Nat ]
 means
( Sk . $1 ) is non  empty;
let n being Nat;
A5: (for m holds ((m < n & X[ ( m + 1 ) ]) implies X[ m ]))
proof
let m;
assume that
m < n
and
A6: ( Sk . ( m + 1 ) ) is non  empty;
consider g being set such that A7: g in ( Sk . ( m + 1 ) ) by A6,XBOOLE_0:def 1;
( Sk . ( m + 1 ) ) = { ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = ( m + 1 ) } by A2;
then consider s being non  empty (Element of ( symplexes C )) such that g = ( SgmX ((the InternalRel of C),s) ) and A8: ( card s ) = ( m + 1 ) by A7;
set x = the (Element of s);
reconsider sx = ( s \ { x } ) as  finite set;
( sx \/ { x } ) = ( s \/ { x } ) by XBOOLE_1:39;
then A9: ( sx \/ { x } ) = s by XBOOLE_1:12;
(not x in sx) by ZFMISC_1:56;
then A10: ( m + 1 ) = ( ( card sx ) + 1 ) by A8,A9,CARD_2:41;
per cases ;
suppose m = ( 0 );

hence thesis by A4;
end;
suppose A11: m <> ( 0 );

then reconsider sx as non  empty (Element of ( symplexes C )) by A10,CKB9:1,XBOOLE_1:36;
( SgmX ((the InternalRel of C),sx) ) in { ( SgmX ((the InternalRel of C),s1) ) where s1 is non  empty (Element of ( symplexes C )): ( card s1 ) = m } by A10;
hence thesis by A2,A11;
end;
end;
assume A12: X[ n ];
A13: (for m being (Element of ( NAT )) holds (m <= n implies X[ m ])) from PRE_POLY:sch 1(A12,A5);
let m being Nat;
assume A14: m < n;
m in ( NAT ) by ORDINAL1:def 12;
hence thesis by A13,A14;
end;
then reconsider Sk as  lower_non-empty SetSequence;
defpred X[ set,set,set ]
 means
(ex n being Nat st (ex y being (Face of n) st (($2 = y & $3 = n) & (for s being (Element of ( Sk . ( n + 1 ) )) holds (s in ( Sk . ( n + 1 ) ) implies (for A being non  empty (Element of ( symplexes C )) holds (( SgmX ((the InternalRel of C),A) ) = s implies (for g1 being Function holds (g1 = $1 implies ( g1 . s ) = ( ( SgmX ((the InternalRel of C),A) ) * y ))))))))));
A15: (for i being set holds (i in ( NAT ) implies (for x being set holds (x in ( ( NatEmbSeq ) . i ) implies (ex y being set st (y in ( ( FuncsSeq Sk ) . i ) & X[ y,x,i ]))))))
proof
let i being set;
assume i in ( NAT );
then reconsider n = i as (Element of ( NAT ));
let x being set;
assume A16: x in ( ( NatEmbSeq ) . i );
then reconsider y = x as (Face of n);
reconsider y1 = y as Function;
x in { f where f is (Element of ( Funcs (( Seg n ),( Seg ( n + 1 ) )) )): ( @ f ) is  increasing } by A16,CKB18:def 1;
then A17: (ex f being (Element of ( Funcs (( Seg n ),( Seg ( n + 1 ) )) )) st (f = x & ( @ f ) is  increasing));
then consider y2 being Function such that A18: y2 = y1 and A19: ( dom y2 ) = ( Seg n ) and A20: ( rng y2 ) c= ( Seg ( n + 1 ) ) by FUNCT_2:def 2;
reconsider y2 as FinSequence by A19,FINSEQ_1:def 2;
A21: ( len y2 ) = n by A19,FINSEQ_1:def 3;
defpred X[ set,set ]
 means
(ex f being Function st (f = $1 & $2 = ( f * y1 )));
A22: (for s being set holds (s in ( Sk . ( n + 1 ) ) implies (ex u st X[ s,u ])))
proof
let s being set;
assume s in ( Sk . ( n + 1 ) );
then s in { ( SgmX ((the InternalRel of C),s9) ) where s9 is non  empty (Element of ( symplexes C )): ( card s9 ) = ( n + 1 ) } by A2;
then consider A being non  empty (Element of ( symplexes C )) such that A23: ( SgmX ((the InternalRel of C),A) ) = s and ( card A ) = ( n + 1 );
reconsider u = ( ( SgmX ((the InternalRel of C),A) ) * y ) as set;
consider f being Function such that A24: f = s by A23;
take u;
take f;
thus thesis by A23,A24;
end;
consider g being Function such that A25: ( dom g ) = ( Sk . ( n + 1 ) ) and A26: (for s being set holds (s in ( Sk . ( n + 1 ) ) implies X[ s,( g . s ) ])) from CLASSES1:sch 1(A22);
reconsider y2 as (FinSequence of ( Seg ( n + 1 ) )) by A20,FINSEQ_1:def 4;
reconsider g9 = g as set;
take g9;
A27: y2 is  one-to-one
proof
let a being set;
let b being set;
assume that
A28: a in ( dom y2 )
and
A29: b in ( dom y2 )
and
A30: ( y2 . a ) = ( y2 . b );
reconsider a,b as (Element of ( NAT )) by A28,A29;
now
assume A31: a <> b;
per cases  by A31,XXREAL_0:1;
suppose a < b;

hence contradiction by A17,A18,A28,A29,A30,SEQM_3:def 1;
end;
suppose b < a;

hence contradiction by A17,A18,A28,A29,A30,SEQM_3:def 1;
end;
end;
hence thesis;
end;
( rng g ) c= ( Sk . n )
proof
reconsider F = ( symplexes C ) as  with_non-empty_element (Subset of ( Fin (the carrier of C) ));
let z;
assume z in ( rng g );
then consider a being set such that A32: a in ( dom g ) and A33: z = ( g . a ) by FUNCT_1:def 3;
consider f being Function such that A34: f = a and A35: ( g . a ) = ( f * y2 ) by A18,A25,A26,A32;
per cases ;
suppose A36: n = ( 0 );

then ( Seg n ) = ( {} );
then ( dom ( f * y1 ) ) = ( {} ) by A18,A19,RELAT_1:25,XBOOLE_1:3;
then z = ( {} ) by A18,A33,A35;
hence thesis by A4,A36,TARSKI:def 1;
end;
suppose A37: n <> ( 0 );

f in { ( SgmX ((the InternalRel of C),s1) ) where s1 is non  empty (Element of ( symplexes C )): ( card s1 ) = ( n + 1 ) } by A2,A25,A32,A34;
then consider s1 being non  empty (Element of ( symplexes C )) such that A38: ( SgmX ((the InternalRel of C),s1) ) = f and A39: ( card s1 ) = ( n + 1 );
s1 in { A where A is (Element of ( Fin (the carrier of C) )): (the InternalRel of C) linearly_orders A };
then A40: (ex s19 being (Element of ( Fin (the carrier of C) )) st (s19 = s1 & (the InternalRel of C) linearly_orders s19));
then ( rng f ) = s1 by A38,PRE_POLY:def 2;
then reconsider f as (FinSequence of s1) by A38,FINSEQ_1:def 4;
reconsider f as (FinSequence of RelStr (# s1,( (the InternalRel of C) |_2 s1 ) #));
A41: f is  one-to-one by A38,A40,PRE_POLY:10;
A42: ( dom f ) = ( Seg ( n + 1 ) ) by A38,A39,CKB10:1;
A43: f is (Function of ( dom f ),s1) by FINSEQ_2:26;
then f is (Function of ( Seg ( n + 1 ) ),(the carrier of C)) by A42,FUNCT_2:7;
then reconsider z1 = z as (FinSequence of RelStr (# (the carrier of C),(the InternalRel of C) #)) by A33,A35,FINSEQ_2:32;
reconsider f as (Function of ( Seg ( n + 1 ) ),(the carrier of C)) by A42,A43,FUNCT_2:7;
A44: ( dom ( f * y2 ) ) = ( Seg n ) by A19,A20,A42,RELAT_1:27;
( rng ( f * y2 ) ) c= (the carrier of C) by FINSEQ_1:def 4;
then reconsider r = ( rng ( f * y2 ) ) as (Element of ( Fin (the carrier of C) )) by FINSUB_1:def 5;
( rng ( f * y2 ) ) c= s1 by RELAT_1:def 19;
then reconsider s9 = r as non  empty (Element of F) by A37,A44,CKB9:1,RELAT_1:42;
(for n1,m1 being Nat holds (((n1 in ( dom z1 ) & m1 in ( dom z1 )) & n1 < m1) implies (( z1 /. n1 ) <> ( z1 /. m1 ) & [ ( z1 /. n1 ),( z1 /. m1 ) ] in (the InternalRel of C))))
proof
let n1 being Nat;
let m1 being Nat;
assume that
A45: n1 in ( dom z1 )
and
A46: m1 in ( dom z1 )
and
A47: n1 < m1;
( y2 . m1 ) in ( Seg ( n + 1 ) ) by A19,A33,A35,A44,A46,FINSEQ_2:11;
then reconsider ym = ( y2 . m1 ) as (Element of ( NAT ));
( y2 . n1 ) in ( Seg ( n + 1 ) ) by A19,A33,A35,A44,A45,FINSEQ_2:11;
then reconsider yn = ( y2 . n1 ) as (Element of ( NAT ));
A48: yn < ym by A17,A18,A19,A33,A35,A44,A45,A46,A47,SEQM_3:def 1;
A49: ym in ( rng y2 ) by A19,A33,A35,A44,A46,FUNCT_1:def 3;
then reconsider fm = ( f . ym ) as (Element of RelStr (# s1,( (the InternalRel of C) |_2 s1 ) #)) by A20,A42,FINSEQ_2:11;
A50: fm = ( f /. ym ) by A20,A42,A49,PARTFUN1:def 6;
( z1 . m1 ) = fm by A33,A35,A46,FUNCT_1:12;
then reconsider zm = ( z1 . m1 ) as (Element of RelStr (# s1,( (the InternalRel of C) |_2 s1 ) #));
A51: zm = ( z1 /. m1 ) by A46,PARTFUN1:def 6;
A52: ( z1 . m1 ) = ( f . ( y2 . m1 ) ) by A33,A35,A46,FUNCT_1:12;
A53: ( z1 . n1 ) = ( f . ( y2 . n1 ) ) by A33,A35,A45,FUNCT_1:12;
A54: yn in ( rng y2 ) by A19,A33,A35,A44,A45,FUNCT_1:def 3;
then reconsider fn = ( f . yn ) as (Element of RelStr (# s1,( (the InternalRel of C) |_2 s1 ) #)) by A20,A42,FINSEQ_2:11;
( z1 . n1 ) = fn by A33,A35,A45,FUNCT_1:12;
then reconsider zn = ( z1 . n1 ) as (Element of RelStr (# s1,( (the InternalRel of C) |_2 s1 ) #));
A55: zn = ( z1 /. n1 ) by A45,PARTFUN1:def 6;
fn = ( f /. yn ) by A20,A42,A54,PARTFUN1:def 6;
hence thesis by A20,A38,A40,A42,A53,A52,A48,A54,A49,A50,A55,A51,PRE_POLY:def 2;
end;
then A56: z1 = ( SgmX ((the InternalRel of C),s9) ) by A33,A35,PRE_POLY:9;
( len ( f * y2 ) ) = n by A20,A21,A42,FINSEQ_2:29;
then ( card s9 ) = n by A27,A41,FINSEQ_4:62;
then z in { ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = n } by A56;
hence thesis by A2,A37;
end;
end;
then g9 in ( Funcs (( Sk . ( n + 1 ) ),( Sk . n )) ) by A25,FUNCT_2:def 2;
hence g9 in ( ( FuncsSeq Sk ) . i ) by CKB15:def 1;
reconsider y = x as (Face of n) by A16;
take n;
take y;
thus (x = y & i = n);
let s being (Element of ( Sk . ( n + 1 ) ));
assume s in ( Sk . ( n + 1 ) );
then A57: (ex f being Function st (f = s & ( g . s ) = ( f * y1 ))) by A26;
let A being non  empty (Element of ( symplexes C ));
assume that
A58: ( SgmX ((the InternalRel of C),A) ) = s;
let g1 being Function;
assume g1 = g9;
hence thesis by A58,A57;
end;
consider F being (ManySortedFunction of ( NatEmbSeq ),( FuncsSeq Sk )) such that A59: (for i being set holds (i in ( NAT ) implies (ex f being (Function of ( ( NatEmbSeq ) . i ),( ( FuncsSeq Sk ) . i )) st (f = ( F . i ) & (for x being set holds (x in ( ( NatEmbSeq ) . i ) implies X[ ( f . x ),x,i ])))))) from MSSUBFAM:sch 1(A15);
take TriangStr (# Sk,F #);
thus ( (the SkeletonSeq of TriangStr (# Sk,F #)) . ( 0 ) ) = { ( {} ) } by A4;
thus (for n being Nat holds (n > ( 0 ) implies ( (the SkeletonSeq of TriangStr (# Sk,F #)) . n ) = { ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = n })) by A2;
let n being Nat;
n in ( NAT ) by ORDINAL1:def 12;
then consider f1 being (Function of ( ( NatEmbSeq ) . n ),( ( FuncsSeq Sk ) . n )) such that A60: f1 = ( F . n ) and A61: (for x being set holds (x in ( ( NatEmbSeq ) . n ) implies (ex m being Nat st (ex y being (Face of m) st ((x = y & n = m) & (for s being (Element of ( Sk . ( m + 1 ) )) holds (s in ( Sk . ( m + 1 ) ) implies (for A being non  empty (Element of ( symplexes C )) holds (( SgmX ((the InternalRel of C),A) ) = s implies (for g1 being Function holds (g1 = ( f1 . x ) implies ( g1 . s ) = ( ( SgmX ((the InternalRel of C),A) ) * y )))))))))))) by A59;
let x being (Face of n);
let s being (Element of ( (the SkeletonSeq of TriangStr (# Sk,F #)) . ( n + 1 ) ));
assume A62: s in ( (the SkeletonSeq of TriangStr (# Sk,F #)) . ( n + 1 ) );
let A being non  empty (Element of ( symplexes C ));
assume A63: ( SgmX ((the InternalRel of C),A) ) = s;
A64: (ex m being Nat st (ex y being (Face of m) st ((x = y & n = m) & (for s being (Element of ( Sk . ( m + 1 ) )) holds (s in ( Sk . ( m + 1 ) ) implies (for A being non  empty (Element of ( symplexes C )) holds (( SgmX ((the InternalRel of C),A) ) = s implies (for g1 being Function holds (g1 = ( f1 . x ) implies ( g1 . s ) = ( ( SgmX ((the InternalRel of C),A) ) * y )))))))))) by A61;
( f1 . x ) in ( ( FuncsSeq Sk ) . n );
then ( f1 . x ) in ( Funcs (( Sk . ( n + 1 ) ),( Sk . n )) ) by CKB15:def 1;
then consider G being Function such that A65: ( f1 . x ) = G and ( dom G ) = ( Sk . ( n + 1 ) ) and ( rng G ) c= ( Sk . n ) by FUNCT_2:def 2;
( face (s,x) ) = ( G . s ) by A60,A62,A65,CKB29:def 1;
hence thesis by A62,A63,A64,A65;
end;
uniqueness
proof
let T1 being  lower_non-empty  strict TriangStr;
let T2 being  lower_non-empty  strict TriangStr;
assume that
A66: ( (the SkeletonSeq of T1) . ( 0 ) ) = { ( {} ) }
and
A67: (for n being Nat holds (n > ( 0 ) implies ( (the SkeletonSeq of T1) . n ) = { ( SgmX ((the InternalRel of C),A) ) where A is non  empty (Element of ( symplexes C )): ( card A ) = n }))
and
A68: (for n being Nat holds (for f being (Face of n) holds (for s being (Element of ( (the SkeletonSeq of T1) . ( n + 1 ) )) holds (s in ( (the SkeletonSeq of T1) . ( n + 1 ) ) implies (for A being non  empty (Element of ( symplexes C )) holds (( SgmX ((the InternalRel of C),A) ) = s implies ( face (s,f) ) = ( ( SgmX ((the InternalRel of C),A) ) * f )))))))
and
A69: ( (the SkeletonSeq of T2) . ( 0 ) ) = { ( {} ) }
and
A70: (for n being Nat holds (n > ( 0 ) implies ( (the SkeletonSeq of T2) . n ) = { ( SgmX ((the InternalRel of C),A) ) where A is non  empty (Element of ( symplexes C )): ( card A ) = n }))
and
A71: (for n being Nat holds (for f being (Face of n) holds (for s being (Element of ( (the SkeletonSeq of T2) . ( n + 1 ) )) holds (s in ( (the SkeletonSeq of T2) . ( n + 1 ) ) implies (for A being non  empty (Element of ( symplexes C )) holds (( SgmX ((the InternalRel of C),A) ) = s implies ( face (s,f) ) = ( ( SgmX ((the InternalRel of C),A) ) * f )))))));
A72: (for x being set holds (x in ( NAT ) implies ( (the SkeletonSeq of T1) . x ) = ( (the SkeletonSeq of T2) . x )))
proof
let x being set;
assume x in ( NAT );
then reconsider n = x as (Element of ( NAT ));
now
per cases ;
suppose n = ( 0 );

hence ( (the SkeletonSeq of T1) . n ) = ( (the SkeletonSeq of T2) . n ) by A66,A69;
end;
suppose A73: n <> ( 0 );

then ( (the SkeletonSeq of T1) . n ) = { ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = n } by A67;
hence ( (the SkeletonSeq of T1) . n ) = ( (the SkeletonSeq of T2) . n ) by A70,A73;
end;
end;
hence thesis;
end;
then A74: (the SkeletonSeq of T1) = (the SkeletonSeq of T2) by PBOOLE:3;
now
let i being set;
assume i in ( NAT );
then reconsider n = i as (Element of ( NAT ));
reconsider F1n = ( (the FacesAssign of T1) . n ),F2n = ( (the FacesAssign of T2) . n ) as (Function of ( ( NatEmbSeq ) . n ),( ( FuncsSeq (the SkeletonSeq of T1) ) . n )) by A74,PBOOLE:def 15;
A75: ( dom F2n ) = ( ( NatEmbSeq ) . n ) by FUNCT_2:def 1;
A76:now
let x;
assume x in ( ( NatEmbSeq ) . n );
then reconsider x1 = x as (Face of n);
( F1n . x1 ) in ( ( FuncsSeq (the SkeletonSeq of T1) ) . n );
then ( F1n . x1 ) in ( Funcs (( (the SkeletonSeq of T1) . ( n + 1 ) ),( (the SkeletonSeq of T1) . n )) ) by CKB15:def 1;
then consider F1nx being Function such that A77: F1nx = ( F1n . x1 ) and A78: ( dom F1nx ) = ( (the SkeletonSeq of T1) . ( n + 1 ) ) and ( rng F1nx ) c= ( (the SkeletonSeq of T1) . n ) by FUNCT_2:def 2;
( F2n . x1 ) in ( ( FuncsSeq (the SkeletonSeq of T1) ) . n );
then ( F2n . x1 ) in ( Funcs (( (the SkeletonSeq of T1) . ( n + 1 ) ),( (the SkeletonSeq of T1) . n )) ) by CKB15:def 1;
then consider F2nx being Function such that A79: F2nx = ( F2n . x1 ) and A80: ( dom F2nx ) = ( (the SkeletonSeq of T1) . ( n + 1 ) ) and ( rng F2nx ) c= ( (the SkeletonSeq of T1) . n ) by FUNCT_2:def 2;
now
let y;
assume A81: y in ( (the SkeletonSeq of T1) . ( n + 1 ) );
then reconsider y1 = y as (Symplex of T1,( n + 1 ));
A82: ( F1nx . y1 ) = ( face (y1,x1) ) by A77,A81,CKB29:def 1;
reconsider y2 = y as (Symplex of T2,( n + 1 )) by A72,A81;
A83: ( F2nx . y2 ) = ( face (y2,x1) ) by A74,A79,A81,CKB29:def 1;
y1 in { ( SgmX ((the InternalRel of C),s) ) where s is non  empty (Element of ( symplexes C )): ( card s ) = ( n + 1 ) } by A67,A81;
then consider A being non  empty (Element of ( symplexes C )) such that A84: ( SgmX ((the InternalRel of C),A) ) = y1 and ( card A ) = ( n + 1 );
( face (y1,x1) ) = ( ( SgmX ((the InternalRel of C),A) ) * x1 ) by A68,A81,A84;
hence ( F1nx . y ) = ( F2nx . y ) by A71,A74,A81,A82,A83,A84;
end;
hence ( F1n . x ) = ( F2n . x ) by A77,A78,A79,A80,FUNCT_1:2;
end;
( dom F1n ) = ( ( NatEmbSeq ) . n ) by FUNCT_2:def 1;
hence ( (the FacesAssign of T1) . i ) = ( (the FacesAssign of T2) . i ) by A75,A76,FUNCT_1:2;
end;
hence thesis by A74,PBOOLE:3;
end;
end;
