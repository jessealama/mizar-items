environ
vocabularies NUMBERS,XBOOLE_0,RLVECT_1,SUBSET_1,REAL_1,RELAT_1,CARD_1,ARYTM_3,ARYTM_1,TARSKI,SUPINF_2,ALGSTR_0,RUSUB_4,RLSUB_1,STRUCT_0,XXREAL_0,SETFAM_1,BHSP_1,PROB_2,RLVECT_2,FINSEQ_1,FUNCT_1,CARD_3,NAT_1,PARTFUN1,VALUED_1,CONVEX1;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,SETFAM_1,DOMAIN_1,STRUCT_0,ALGSTR_0,CARD_1,NUMBERS,XCMPLX_0,FUNCT_1,NAT_1,REAL_1,PARTFUN1,FINSEQ_1,RLVECT_1,RLSUB_1,RLVECT_2,RVSUM_1,BHSP_1,RUSUB_4,RUSUB_5,XXREAL_0,CKB1,CKB2;
definitions TARSKI,XBOOLE_0,RLVECT_1,RVSUM_1,CKB1,CKB2;
theorems BHSP_1,SUBSET_1,RLVECT_1,RVSUM_1,FUNCT_1,FINSEQ_1,TARSKI,ZFMISC_1,XBOOLE_0,SETFAM_1,RLSUB_1,RUSUB_4,RUSUB_5,RLVECT_2,CARD_1,FINSEQ_3,FINSEQ_4,CARD_2,ENUMSET1,XCMPLX_1,XREAL_1,FINSOP_1,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes DOMAIN_1,SUBSET_1;
registrations XBOOLE_0,SUBSET_1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,STRUCT_0,RLVECT_1,RUSUB_4,VALUED_0,FINSEQ_1,CARD_1;
constructors SETFAM_1,DOMAIN_1,XXREAL_0,REAL_1,PARTFUN1,BINOP_2,FINSEQ_4,FINSOP_1,RVSUM_1,RLVECT_2,RUSUB_5,RELSET_1,CKB1,CKB2;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
(for V being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for M,N being (Subset of V) holds ((M is  convex & N is  convex) implies (for r being Real holds ( ( r * M ) + ( ( 1 - r ) * N ) ) is  convex))))
proof
let V being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let M being (Subset of V);
let N being (Subset of V);
assume that
A1: M is  convex
and
A2: N is  convex;
let r being Real;
let u being (VECTOR of V);
let v being (VECTOR of V);
let p being Real;
assume that
A3: (( 0 ) < p & p < 1)
and
A4: u in ( ( r * M ) + ( ( 1 - r ) * N ) )
and
A5: v in ( ( r * M ) + ( ( 1 - r ) * N ) );
A6: u in { ( x1 + y1 ) where x1 is (VECTOR of V),y1 is (VECTOR of V): (x1 in ( r * M ) & y1 in ( ( 1 - r ) * N )) } by A4,RUSUB_4:def 9;
v in { ( x2 + y2 ) where x2 is (VECTOR of V),y2 is (VECTOR of V): (x2 in ( r * M ) & y2 in ( ( 1 - r ) * N )) } by A5,RUSUB_4:def 9;
then consider x2,y2 being (VECTOR of V) such that A7: v = ( x2 + y2 ) and A8: x2 in ( r * M ) and A9: y2 in ( ( 1 - r ) * N );
consider x1,y1 being (VECTOR of V) such that A10: u = ( x1 + y1 ) and A11: x1 in ( r * M ) and A12: y1 in ( ( 1 - r ) * N ) by A6;
consider mx2 being (VECTOR of V) such that A13: x2 = ( r * mx2 ) and A14: mx2 in M by A8;
consider mx1 being (VECTOR of V) such that A15: x1 = ( r * mx1 ) and A16: mx1 in M by A11;
A17: ( ( p * x1 ) + ( ( 1 - p ) * x2 ) ) = ( ( ( p * r ) * mx1 ) + ( ( 1 - p ) * ( r * mx2 ) ) ) by A15,A13,RLVECT_1:def 7
.= ( ( ( p * r ) * mx1 ) + ( ( ( 1 - p ) * r ) * mx2 ) ) by RLVECT_1:def 7
.= ( ( r * ( p * mx1 ) ) + ( ( ( 1 - p ) * r ) * mx2 ) ) by RLVECT_1:def 7
.= ( ( r * ( p * mx1 ) ) + ( r * ( ( 1 - p ) * mx2 ) ) ) by RLVECT_1:def 7
.= ( r * ( ( p * mx1 ) + ( ( 1 - p ) * mx2 ) ) ) by RLVECT_1:def 5;
consider ny2 being (VECTOR of V) such that A18: y2 = ( ( 1 - r ) * ny2 ) and A19: ny2 in N by A9;
consider ny1 being (VECTOR of V) such that A20: y1 = ( ( 1 - r ) * ny1 ) and A21: ny1 in N by A12;
A22: ( ( p * y1 ) + ( ( 1 - p ) * y2 ) ) = ( ( ( p * ( 1 - r ) ) * ny1 ) + ( ( 1 - p ) * ( ( 1 - r ) * ny2 ) ) ) by A20,A18,RLVECT_1:def 7
.= ( ( ( p * ( 1 - r ) ) * ny1 ) + ( ( ( 1 - p ) * ( 1 - r ) ) * ny2 ) ) by RLVECT_1:def 7
.= ( ( ( 1 - r ) * ( p * ny1 ) ) + ( ( ( 1 - p ) * ( 1 - r ) ) * ny2 ) ) by RLVECT_1:def 7
.= ( ( ( 1 - r ) * ( p * ny1 ) ) + ( ( 1 - r ) * ( ( 1 - p ) * ny2 ) ) ) by RLVECT_1:def 7
.= ( ( 1 - r ) * ( ( p * ny1 ) + ( ( 1 - p ) * ny2 ) ) ) by RLVECT_1:def 5;
( ( p * ny1 ) + ( ( 1 - p ) * ny2 ) ) in N by A2,A3,A21,A19,CKB2:def 1;
then A23: ( ( p * y1 ) + ( ( 1 - p ) * y2 ) ) in ( ( 1 - r ) * N ) by A22;
( ( p * mx1 ) + ( ( 1 - p ) * mx2 ) ) in M by A1,A3,A16,A14,CKB2:def 1;
then A24: ( ( p * x1 ) + ( ( 1 - p ) * x2 ) ) in { ( r * w ) where w is (VECTOR of V): w in M } by A17;
( ( p * u ) + ( ( 1 - p ) * v ) ) = ( ( ( p * x1 ) + ( p * y1 ) ) + ( ( 1 - p ) * ( x2 + y2 ) ) ) by A10,A7,RLVECT_1:def 5
.= ( ( ( p * x1 ) + ( p * y1 ) ) + ( ( ( 1 - p ) * x2 ) + ( ( 1 - p ) * y2 ) ) ) by RLVECT_1:def 5
.= ( ( ( ( p * x1 ) + ( p * y1 ) ) + ( ( 1 - p ) * x2 ) ) + ( ( 1 - p ) * y2 ) ) by RLVECT_1:def 3
.= ( ( ( ( p * x1 ) + ( ( 1 - p ) * x2 ) ) + ( p * y1 ) ) + ( ( 1 - p ) * y2 ) ) by RLVECT_1:def 3
.= ( ( ( p * x1 ) + ( ( 1 - p ) * x2 ) ) + ( ( p * y1 ) + ( ( 1 - p ) * y2 ) ) ) by RLVECT_1:def 3;
then ( ( p * u ) + ( ( 1 - p ) * v ) ) in { ( w1 + w2 ) where w1 is (VECTOR of V),w2 is (VECTOR of V): (w1 in ( r * M ) & w2 in ( ( 1 - r ) * N )) } by A24,A23;
hence thesis by RUSUB_4:def 9;
end;
