environ
vocabularies NUMBERS,NAT_1,XXREAL_0,ARYTM_1,ARYTM_3,CARD_1,XREAL_0,ORDINAL1,STRUCT_0,BORSUK_1,PRE_TOPC,EUCLID,MCART_1,RLTOPSP1,REAL_1,RELAT_1,SUPINF_2,XXREAL_1,FINSEQ_1,XBOOLE_0,SUBSET_1,FUNCT_1,TOPREAL1,TOPS_2,PARTFUN1,TOPMETR,TREAL_1,VALUED_1,FUNCT_4,RCOMP_1,TARSKI,ORDINAL2,PCOMPS_1,METRIC_1,JORDAN3,RFINSEQ,FINSEQ_5,GROUP_2,ORDINAL4,GOBOARD5,GOBOARD2,TREES_1,TOPREAL4,GOBOARD1,MATRIX_1,FUNCT_2;
notations TARSKI,XBOOLE_0,ORDINAL1,SUBSET_1,NUMBERS,XREAL_0,REAL_1,NAT_1,NAT_D,RCOMP_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FINSEQ_4,TOPMETR,FINSEQ_6,SEQ_4,JORDAN3,STRUCT_0,TOPREAL1,RFINSEQ,PRE_TOPC,TOPS_2,COMPTS_1,BORSUK_1,RLVECT_1,RLTOPSP1,EUCLID,TREAL_1,METRIC_1,GOBOARD1,GOBOARD2,MATRIX_1,TOPREAL4,GOBOARD5,FUNCT_4,FINSEQ_5,PCOMPS_1,XXREAL_0;
definitions TARSKI,JORDAN3,TOPREAL4,XBOOLE_0,STRUCT_0,RELAT_1,RLTOPSP1;
theorems BORSUK_1,COMPTS_1,EUCLID,FINSEQ_3,FINSEQ_4,FUNCT_1,FUNCT_2,RELAT_1,JORDAN3,GOBOARD1,NAT_1,GOBOARD9,FUNCT_4,TOPMETR2,GOBOARD2,PRE_TOPC,RCOMP_1,HEINE,PCOMPS_1,SPPOL_2,TARSKI,TOPMETR,TOPREAL1,TOPREAL3,RFINSEQ,FINSEQ_5,GOBOARD5,GOBOARD7,FINSEQ_1,TOPS_2,TREAL_1,JORDAN5A,ZFMISC_1,JORDAN4,PARTFUN2,INT_1,RELSET_1,FINSEQ_6,XBOOLE_0,XBOOLE_1,XCMPLX_1,FINSEQ_2,XREAL_1,XXREAL_0,PARTFUN1,CARD_1,MATRIX_1,XXREAL_1,XXREAL_2,NAT_D,RLTOPSP1,SEQ_4,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
schemes NAT_1;
registrations XBOOLE_0,FUNCT_1,RELSET_1,FUNCT_2,XXREAL_0,XREAL_0,MEMBERED,STRUCT_0,PRE_TOPC,METRIC_1,BORSUK_1,EUCLID,TOPMETR,TOPREAL1,GOBOARD2,GOBOARD5,VALUED_0,XXREAL_2,RLTOPSP1,SEQ_4,SPPOL_2,FINSEQ_1;
constructors FUNCT_4,REAL_1,NAT_1,SEQ_4,RCOMP_1,FINSEQ_4,RFINSEQ,NAT_D,FINSEQ_5,TOPS_2,COMPTS_1,TREAL_1,TOPREAL4,GOBOARD2,GOBOARD5,JORDAN3,SEQ_1,GOBOARD1,CONVEX1,BINOP_2,PCOMPS_1;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Th7: (for f being (FinSequence of ( TOP-REAL 2 )) holds (for P being non  empty (Subset of ( TOP-REAL 2 )) holds (for F being (Function of ( I[01] ),( ( TOP-REAL 2 ) | P )) holds (for i being (Element of ( NAT )) holds (((((((1 <= i & ( i + 1 ) <= ( len f )) & f is  being_S-Seq) & P = ( L~ f )) & F is  being_homeomorphism) & ( F . ( 0 ) ) = ( f /. 1 )) & ( F . 1 ) = ( f /. ( len f ) )) implies (ex p1,p2 being Real st (((((((p1 < p2 & ( 0 ) <= p1) & p1 <= 1) & ( 0 ) <= p2) & p2 <= 1) & ( LSeg (f,i) ) = ( F .: [. p1,p2 .] )) & ( F . p1 ) = ( f /. i )) & ( F . p2 ) = ( f /. ( i + 1 ) ))))))))
proof
let f being (FinSequence of ( TOP-REAL 2 ));
let P being non  empty (Subset of ( TOP-REAL 2 ));
let Ff being (Function of ( I[01] ),( ( TOP-REAL 2 ) | P ));
let i being (Element of ( NAT ));
assume that
A1: 1 <= i
and
A2: ( i + 1 ) <= ( len f )
and
A3: f is  being_S-Seq
and
A4: P = ( L~ f )
and
A5: Ff is  being_homeomorphism
and
A6: ( Ff . ( 0 ) ) = ( f /. 1 )
and
A7: ( Ff . 1 ) = ( f /. ( len f ) );
A8: f is  one-to-one by A3;
A9: (the carrier of ( Closed-Interval-TSpace (( 1 / 2 ),1) )) = [. ( 1 / 2 ),1 .] by TOPMETR:18;
A10: ( [#] ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ) ) = [. ( 0 ),( 1 / 2 ) .] by TOPMETR:18;
A11: ( [#] ( Closed-Interval-TSpace (( 1 / 2 ),1) ) ) = [. ( 1 / 2 ),1 .] by TOPMETR:18;
A12: ( len f ) >= 2 by A3,TOPREAL1:def 8;
deffunc Q((Element of ( NAT ))) = ( L~ ( f | ( $1 + 2 ) ) );
defpred ARC[ (Element of ( NAT )) ]
 means
((1 <= ( $1 + 2 ) & ( $1 + 2 ) <= ( len f )) implies (ex NE being non  empty (Subset of ( TOP-REAL 2 )) st (NE = Q($1) & (for j being (Element of ( NAT )) holds (for F being (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE )) holds (((((1 <= j & ( j + 1 ) <= ( $1 + 2 )) & F is  being_homeomorphism) & ( F . ( 0 ) ) = ( f /. 1 )) & ( F . 1 ) = ( f /. ( $1 + 2 ) )) implies (ex p1,p2 being Real st (((((((p1 < p2 & ( 0 ) <= p1) & p1 <= 1) & ( 0 ) <= p2) & p2 <= 1) & ( LSeg (f,j) ) = ( F .: [. p1,p2 .] )) & ( F . p1 ) = ( f /. j )) & ( F . p2 ) = ( f /. ( j + 1 ) )))))))));
reconsider h1 = ( ( len f ) - 2 ) as (Element of ( NAT )) by A12,INT_1:5;
A13: ( f | ( len f ) ) = ( f | ( Seg ( len f ) ) ) by FINSEQ_1:def 15
.= ( f | ( dom f ) ) by FINSEQ_1:def 3
.= f by RELAT_1:68;
A14: ARC[ ( 0 ) ]
proof
assume that
A15: 1 <= ( ( 0 ) + 2 )
and
A16: ( ( 0 ) + 2 ) <= ( len f );
A17: 1 <= ( len ( f | 2 ) ) by A15,A16,FINSEQ_1:59;
A18: 2 <= ( len ( f | 2 ) ) by A16,FINSEQ_1:59;
then reconsider NE = Q(( 0 )) as non  empty (Subset of ( TOP-REAL 2 )) by TOPREAL1:23;
take NE;
thus NE = Q(( 0 ));
let j being (Element of ( NAT ));
let F being (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE ));
assume that
A19: 1 <= j
and
A20: ( j + 1 ) <= ( ( 0 ) + 2 )
and
A21: F is  being_homeomorphism
and
A22: ( F . ( 0 ) ) = ( f /. 1 )
and
A23: ( F . 1 ) = ( f /. ( ( 0 ) + 2 ) );
j <= ( ( 1 + 1 ) - 1 ) by A20,XREAL_1:19;
then A24: j = 1 by A19,XXREAL_0:1;
A25: ( len ( f | 2 ) ) = 2 by A16,FINSEQ_1:59;
A26: 1 in ( dom ( f | 2 ) ) by A17,FINSEQ_3:25;
A27: 2 in ( dom ( f | 2 ) ) by A18,FINSEQ_3:25;
A28: ( ( f | 2 ) /. 1 ) = ( ( f | 2 ) . 1 ) by A26,PARTFUN1:def 6;
A29: ( ( f | 2 ) /. 2 ) = ( ( f | 2 ) . 2 ) by A27,PARTFUN1:def 6;
A30: ( ( f | 2 ) /. 1 ) = ( f /. 1 ) by A26,FINSEQ_4:70;
A31: ( 1 + 1 ) <= ( len f ) by A16;
A32: ( rng F ) = ( [#] ( ( TOP-REAL 2 ) | NE ) ) by A21,TOPS_2:def 5
.= ( L~ ( f | 2 ) ) by PRE_TOPC:def 5
.= ( L~ <* ( ( f | 2 ) /. 1 ),( ( f | 2 ) /. 2 ) *> ) by A25,A28,A29,FINSEQ_1:44
.= ( LSeg (( ( f | 2 ) /. 1 ),( ( f | 2 ) /. 2 )) ) by SPPOL_2:21
.= ( LSeg (( f /. 1 ),( f /. 2 )) ) by A27,A30,FINSEQ_4:70
.= ( LSeg (f,1) ) by A31,TOPREAL1:def 3;
take ( 0 );
take 1;
thus thesis by A22,A23,A24,A32,BORSUK_1:40,FUNCT_2:37;
end;
A33: (for n being (Element of ( NAT )) holds (ARC[ n ] implies ARC[ ( n + 1 ) ]))
proof
let n being (Element of ( NAT ));
assume A34: ARC[ n ];
assume that
A35: 1 <= ( ( n + 1 ) + 2 )
and
A36: ( ( n + 1 ) + 2 ) <= ( len f );
A37: 2 <= ( n + 2 ) by NAT_1:11;
( n + 2 ) <= ( ( n + 2 ) + 1 ) by NAT_1:11;
then consider NE being non  empty (Subset of ( TOP-REAL 2 )) such that A38: NE = Q(n) and A39: (for j being (Element of ( NAT )) holds (for F being (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE )) holds (((((1 <= j & ( j + 1 ) <= ( n + 2 )) & F is  being_homeomorphism) & ( F . ( 0 ) ) = ( f /. 1 )) & ( F . 1 ) = ( f /. ( n + 2 ) )) implies (ex p1,p2 being Real st (((((((p1 < p2 & ( 0 ) <= p1) & p1 <= 1) & ( 0 ) <= p2) & p2 <= 1) & ( LSeg (f,j) ) = ( F .: [. p1,p2 .] )) & ( F . p1 ) = ( f /. j )) & ( F . p2 ) = ( f /. ( j + 1 ) )))))) by A34,A36,A37,XXREAL_0:2;
A40: ( len ( f | ( ( n + 1 ) + 2 ) ) ) = ( ( n + 1 ) + 2 ) by A36,FINSEQ_1:59;
A41: ( ( n + 1 ) + 2 ) = ( ( n + 2 ) + 1 );
A42: 1 <= ( ( n + 1 ) + 1 ) by NAT_1:11;
A43: ( ( n + 1 ) + 1 ) <= ( ( n + 2 ) + 1 ) by NAT_1:11;
then A44: ( ( n + 1 ) + 1 ) <= ( len f ) by A36,XXREAL_0:2;
A45: ( n + 2 ) <= ( len f ) by A36,A43,XXREAL_0:2;
A46: ( n + 2 ) in ( dom ( f | ( n + 3 ) ) ) by A40,A42,A43,FINSEQ_3:25;
then A47: ( f /. ( n + 2 ) ) = ( ( f | ( n + 3 ) ) /. ( n + 2 ) ) by FINSEQ_4:70;
reconsider NE1 = Q(( n + 1 )) as non  empty (Subset of ( TOP-REAL 2 )) by A40,NAT_1:11,TOPREAL1:23;
take NE1;
thus NE1 = Q(( n + 1 ));
let j being (Element of ( NAT ));
let G being (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE1 ));
assume that
A48: 1 <= j
and
A49: ( j + 1 ) <= ( ( n + 1 ) + 2 )
and
A50: G is  being_homeomorphism
and
A51: ( G . ( 0 ) ) = ( f /. 1 )
and
A52: ( G . 1 ) = ( f /. ( ( n + 1 ) + 2 ) );
A53: G is  one-to-one by A50,TOPS_2:def 5;
A54: ( rng G ) = ( [#] ( ( TOP-REAL 2 ) | Q(( n + 1 )) ) ) by A50,TOPS_2:def 5;
A55: ( dom G ) = ( [#] ( I[01] ) ) by A50,TOPS_2:def 5;
A56: ( rng G ) = ( L~ ( f | ( n + 3 ) ) ) by A54,PRE_TOPC:def 5;
set pp = ( ( G " ) . ( f /. ( n + 2 ) ) );
G is  onto by A54,FUNCT_2:def 3;
then A57: pp = ( ( (G qua Function) " ) . ( f /. ( n + 2 ) ) ) by A53,A54,TOPS_2:def 4;
A58: ( n + 2 ) <= ( len ( f | ( n + 2 ) ) ) by A36,A43,FINSEQ_1:59,XXREAL_0:2;
A59: 1 <= ( len ( f | ( n + 2 ) ) ) by A36,A42,A43,FINSEQ_1:59,XXREAL_0:2;
A60: ( n + 2 ) in ( dom ( f | ( n + 2 ) ) ) by A42,A58,FINSEQ_3:25;
A61: 1 in ( dom ( f | ( n + 2 ) ) ) by A59,FINSEQ_3:25;
A62: ( f /. ( n + 2 ) ) in ( rng G ) by A40,A46,A47,A56,GOBOARD1:1,NAT_1:11;
then A63: pp in ( dom G ) by A53,A57,FUNCT_1:32;
A64: ( f /. ( n + 2 ) ) = ( G . pp ) by A53,A57,A62,FUNCT_1:32;
reconsider pp as Real by A55,A63,BORSUK_1:40;
A65: ( ( n + 1 ) + 1 ) <> ( ( n + 2 ) + 1 );
A66: ( n + 2 ) <> ( n + 3 );
A67: ( n + 2 ) in ( dom f ) by A42,A45,FINSEQ_3:25;
A68: ( n + 3 ) in ( dom f ) by A35,A36,FINSEQ_3:25;
A69: 1 <> pp
proof
assume pp = 1;
then ( f /. ( n + 2 ) ) = ( f /. ( ( n + 1 ) + 2 ) ) by A52,A53,A57,A62,FUNCT_1:32;
hence thesis by A8,A66,A67,A68,PARTFUN2:10;
end;
A70: ( 0 ) <= pp by A63,BORSUK_1:43;
pp <= 1 by A63,BORSUK_1:43;
then A71: pp < 1 by A69,XXREAL_0:1;
set pn = ( f /. ( n + 2 ) );
set pn1 = ( f /. ( ( n + 2 ) + 1 ) );
A72: pn = ( ( f | ( n + 2 ) ) /. ( n + 2 ) ) by A60,FINSEQ_4:70;
A73: ( ( f | ( n + 2 ) ) /. 1 ) = ( f /. 1 ) by A61,FINSEQ_4:70;
A74: ( len ( f | ( n + 2 ) ) ) = ( n + 2 ) by A36,A43,FINSEQ_1:59,XXREAL_0:2;
( f | ( n + 2 ) ) is  being_S-Seq by A3,JORDAN3:4,NAT_1:11;
then NE is_an_arc_of ( ( f | ( n + 2 ) ) /. 1 ),pn by A38,A72,A74,TOPREAL1:25;
then consider F being (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE )) such that A75: F is  being_homeomorphism and A76: ( F . ( 0 ) ) = ( f /. 1 ) and A77: ( F . 1 ) = pn by A73,TOPREAL1:def 1;
A78: ( ( n + 1 ) + 1 ) in ( dom f ) by A42,A44,FINSEQ_3:25;
( ( n + 2 ) + 1 ) in ( dom f ) by A35,A36,FINSEQ_3:25;
then ( LSeg (pn,pn1) ) is_an_arc_of pn,pn1 by A8,A65,A78,PARTFUN2:10,TOPREAL1:9;
then consider F9 being (Function of ( I[01] ),( ( TOP-REAL 2 ) | ( LSeg (pn,pn1) ) )) such that A79: F9 is  being_homeomorphism and A80: ( F9 . ( 0 ) ) = pn and A81: ( F9 . 1 ) = pn1 by TOPREAL1:def 1;
set Ex1 = ( P[01] (( 0 ),( 1 / 2 ),( (#) (( 0 ),1) ),( (( 0 ),1) (#) )) );
set Ex2 = ( P[01] (( 1 / 2 ),1,( (#) (( 0 ),1) ),( (( 0 ),1) (#) )) );
set F1 = ( F * Ex1 );
set F19 = ( F9 * Ex2 );
A82: Ex1 is  being_homeomorphism by TREAL_1:17;
A83: Ex2 is  being_homeomorphism by TREAL_1:17;
A84: ( dom Ex1 ) = ( [#] ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ) ) by A82,TOPS_2:def 5;
then A85: ( dom Ex1 ) = [. ( 0 ),( 1 / 2 ) .] by TOPMETR:18;
( dom F ) = ( [#] ( I[01] ) ) by A75,TOPS_2:def 5;
then A86: ( rng Ex1 ) = ( dom F ) by A82,TOPMETR:20,TOPS_2:def 5;
then ( rng F1 ) = ( rng F ) by RELAT_1:28;
then ( rng F1 ) = ( [#] ( ( TOP-REAL 2 ) | NE ) ) by A75,TOPS_2:def 5;
then A87: ( rng F1 ) = Q(n) by A38,PRE_TOPC:def 5;
( dom F1 ) = (the carrier of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) )) by A84,A86,RELAT_1:27;
then reconsider F1 as (Function of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ),( ( TOP-REAL 2 ) | NE )) by FUNCT_2:def 1;
A88: F1 is  being_homeomorphism by A75,A82,TOPMETR:20,TOPS_2:57;
then A89: ( rng F1 ) = ( [#] ( ( TOP-REAL 2 ) | NE ) ) by TOPS_2:def 5
.= Q(n) by A38,PRE_TOPC:def 5;
A90: ( dom Ex2 ) = ( [#] ( Closed-Interval-TSpace (( 1 / 2 ),1) ) ) by A83,TOPS_2:def 5;
( dom F9 ) = ( [#] ( I[01] ) ) by A79,TOPS_2:def 5;
then A91: ( rng Ex2 ) = ( dom F9 ) by A83,TOPMETR:20,TOPS_2:def 5;
then ( dom F19 ) = (the carrier of ( Closed-Interval-TSpace (( 1 / 2 ),1) )) by A90,RELAT_1:27;
then reconsider F19 as (Function of ( Closed-Interval-TSpace (( 1 / 2 ),1) ),( ( TOP-REAL 2 ) | ( LSeg (pn,pn1) ) )) by FUNCT_2:def 1;
A92: F19 is  being_homeomorphism by A79,A83,TOPMETR:20,TOPS_2:57;
then A93: ( rng F19 ) = ( [#] ( ( TOP-REAL 2 ) | ( LSeg (pn,pn1) ) ) ) by TOPS_2:def 5
.= ( LSeg (pn,pn1) ) by PRE_TOPC:def 5;
set FF = ( F1 +* F19 );
reconsider T1 = ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ),T2 = ( Closed-Interval-TSpace (( 1 / 2 ),1) ) as (SubSpace of ( I[01] )) by TOPMETR:20,TREAL_1:3;
A94: Q(( n + 1 )) = ( Q(n) \/ ( LSeg (pn,pn1) ) ) by A67,A68,TOPREAL3:38;
A95: (the carrier of ( ( TOP-REAL 2 ) | Q(( n + 1 )) )) = ( [#] ( ( TOP-REAL 2 ) | Q(( n + 1 )) ) )
.= Q(( n + 1 )) by PRE_TOPC:def 5;
( dom F1 ) = (the carrier of T1) by A84,A86,RELAT_1:27;
then reconsider g11 = F1 as (Function of T1,( ( TOP-REAL 2 ) | NE1 )) by A87,A94,A95,RELSET_1:4,XBOOLE_1:7;
( dom F19 ) = (the carrier of T2) by A90,A91,RELAT_1:27;
then reconsider g22 = F19 as (Function of T2,( ( TOP-REAL 2 ) | NE1 )) by A93,A94,A95,RELSET_1:4,XBOOLE_1:7;
A96: [. ( 0 ),( 1 / 2 ) .] = ( dom F1 ) by A10,A88,TOPS_2:def 5;
A97: [. ( 1 / 2 ),1 .] = ( dom F19 ) by A11,A92,TOPS_2:def 5;
A98: ( 1 / 2 ) in { l where l is Real: (( 0 ) <= l & l <= ( 1 / 2 )) };
A99: ( 1 / 2 ) in { l where l is Real: (( 1 / 2 ) <= l & l <= 1) };
A100: ( 1 / 2 ) in ( dom F1 ) by A96,A98,RCOMP_1:def 1;
A101: ( 1 / 2 ) in ( dom F19 ) by A97,A99,RCOMP_1:def 1;
A102: ( dom FF ) = ( [. ( 0 ),( 1 / 2 ) .] \/ [. ( 1 / 2 ),1 .] ) by A96,A97,FUNCT_4:def 1
.= [. ( 0 ),1 .] by XXREAL_1:174;
A103: ( I[01] ) is  compact by HEINE:4,TOPMETR:20;
A104: ( ( TOP-REAL 2 ) | NE1 ) is  T_2 by TOPMETR:2;
A105: ( dom FF ) = ( [#] ( I[01] ) ) by A102,BORSUK_1:40;
A106: ( Ex1 . ( 1 / 2 ) ) = ( Ex1 . ( (( 0 ),( 1 / 2 )) (#) ) ) by TREAL_1:def 2
.= ( (( 0 ),1) (#) ) by TREAL_1:13
.= 1 by TREAL_1:def 2;
A107: ( Ex2 . ( 1 / 2 ) ) = ( Ex2 . ( (#) (( 1 / 2 ),1) ) ) by TREAL_1:def 1
.= ( (#) (( 0 ),1) ) by TREAL_1:13
.= ( 0 ) by TREAL_1:def 1;
A108: ( F1 . ( 1 / 2 ) ) = ( f /. ( n + 2 ) ) by A77,A100,A106,FUNCT_1:12;
A109: ( F19 . ( 1 / 2 ) ) = ( f /. ( n + 2 ) ) by A80,A101,A107,FUNCT_1:12;
A110: ( [. ( 0 ),( 1 / 2 ) .] /\ [. ( 1 / 2 ),1 .] ) = [. ( 1 / 2 ),( 1 / 2 ) .] by XXREAL_1:143;
then A111: ( ( dom F1 ) /\ ( dom F19 ) ) = { ( 1 / 2 ) } by A96,A97,XXREAL_1:17;
A112: (for x being set holds (x in ( Q(n) /\ ( LSeg (pn,pn1) ) ) iff x = pn))
proof
let x being set;
thus (x in ( Q(n) /\ ( LSeg (pn,pn1) ) ) implies x = pn)
proof
assume A113: x in ( Q(n) /\ ( LSeg (pn,pn1) ) );
then A114: x in ( LSeg (pn,pn1) ) by XBOOLE_0:def 4;
x in Q(n) by A113,XBOOLE_0:def 4;
then x in ( union { ( LSeg (( f | ( n + 2 ) ),k) ) where k is (Element of ( NAT )): (1 <= k & ( k + 1 ) <= ( len ( f | ( n + 2 ) ) )) } ) by TOPREAL1:def 4;
then consider X being set such that A115: x in X and A116: X in { ( LSeg (( f | ( n + 2 ) ),k) ) where k is (Element of ( NAT )): (1 <= k & ( k + 1 ) <= ( len ( f | ( n + 2 ) ) )) } by TARSKI:def 4;
consider k being (Element of ( NAT )) such that A117: X = ( LSeg (( f | ( n + 2 ) ),k) ) and A118: 1 <= k and A119: ( k + 1 ) <= ( len ( f | ( n + 2 ) ) ) by A116;
A120: ( len ( f | ( n + 2 ) ) ) = ( n + ( 1 + 1 ) ) by A36,A43,FINSEQ_1:59,XXREAL_0:2;
A121: ( len ( f | ( n + 2 ) ) ) = ( ( n + 1 ) + 1 ) by A36,A43,FINSEQ_1:59,XXREAL_0:2;
then A122: k <= ( n + 1 ) by A119,XREAL_1:6;
A123: f is  s.n.c. by A3;
A124: f is  unfolded by A3;
now
assume A125: k < ( n + 1 );
A126: 1 <= ( 1 + k ) by NAT_1:11;
A127: ( k + 1 ) <= ( len f ) by A44,A119,A121,XXREAL_0:2;
A128: ( k + 1 ) < ( ( n + 1 ) + 1 ) by A125,XREAL_1:6;
set p19 = ( f /. k );
set p29 = ( f /. ( k + 1 ) );
( n + 1 ) <= ( ( n + 1 ) + 1 ) by NAT_1:11;
then k <= ( n + 2 ) by A125,XXREAL_0:2;
then A129: k in ( Seg ( len ( f | ( n + 2 ) ) ) ) by A118,A120,FINSEQ_1:1;
A130: ( k + 1 ) in ( Seg ( len ( f | ( n + 2 ) ) ) ) by A119,A126,FINSEQ_1:1;
A131: k in ( dom ( f | ( n + 2 ) ) ) by A129,FINSEQ_1:def 3;
A132: ( k + 1 ) in ( dom ( f | ( n + 2 ) ) ) by A130,FINSEQ_1:def 3;
A133: ( ( f | ( n + 2 ) ) /. k ) = p19 by A131,FINSEQ_4:70;
A134: ( ( f | ( n + 2 ) ) /. ( k + 1 ) ) = p29 by A132,FINSEQ_4:70;
A135: ( LSeg (f,k) ) = ( LSeg (p19,p29) ) by A118,A127,TOPREAL1:def 3
.= ( LSeg (( f | ( n + 2 ) ),k) ) by A118,A119,A133,A134,TOPREAL1:def 3;
( LSeg (f,( n + 2 )) ) = ( LSeg (pn,pn1) ) by A36,A42,TOPREAL1:def 3;
then ( LSeg (( f | ( n + 2 ) ),k) ) misses ( LSeg (pn,pn1) ) by A123,A128,A135,TOPREAL1:def 7;
then ( ( LSeg (( f | ( n + 2 ) ),k) ) /\ ( LSeg (pn,pn1) ) ) = ( {} ) by XBOOLE_0:def 7;
hence contradiction by A114,A115,A117,XBOOLE_0:def 4;
end;
then A136: k = ( n + 1 ) by A122,XXREAL_0:1;
A137: 1 <= ( n + 1 ) by A118,A122,XXREAL_0:2;
A138: ( ( n + 1 ) + 1 ) <= ( len f ) by A36,A43,XXREAL_0:2;
set p19 = ( f /. ( n + 1 ) );
set p29 = ( f /. ( ( n + 1 ) + 1 ) );
A139: ( n + 1 ) <= ( ( n + 1 ) + 1 ) by NAT_1:11;
A140: 1 <= ( 1 + n ) by NAT_1:11;
A141: 1 <= ( 1 + ( n + 1 ) ) by NAT_1:11;
A142: ( n + 1 ) in ( Seg ( len ( f | ( n + 2 ) ) ) ) by A120,A139,A140,FINSEQ_1:1;
A143: ( ( n + 1 ) + 1 ) in ( Seg ( len ( f | ( n + 2 ) ) ) ) by A120,A141,FINSEQ_1:1;
A144: ( n + 1 ) in ( dom ( f | ( n + 2 ) ) ) by A142,FINSEQ_1:def 3;
A145: ( ( n + 1 ) + 1 ) in ( dom ( f | ( n + 2 ) ) ) by A143,FINSEQ_1:def 3;
A146: ( ( f | ( n + 2 ) ) /. ( n + 1 ) ) = p19 by A144,FINSEQ_4:70;
A147: ( ( f | ( n + 2 ) ) /. ( ( n + 1 ) + 1 ) ) = p29 by A145,FINSEQ_4:70;
A148: ( LSeg (f,( n + 1 )) ) = ( LSeg (p19,p29) ) by A137,A138,TOPREAL1:def 3
.= ( LSeg (( f | ( n + 2 ) ),( n + 1 )) ) by A120,A140,A146,A147,TOPREAL1:def 3;
( LSeg (pn,pn1) ) = ( LSeg (f,( ( n + 1 ) + 1 )) ) by A36,A42,TOPREAL1:def 3;
then A149: x in ( ( LSeg (f,( n + 1 )) ) /\ ( LSeg (f,( ( n + 1 ) + 1 )) ) ) by A114,A115,A117,A136,A148,XBOOLE_0:def 4;
1 <= ( n + 1 ) by NAT_1:11;
then ( ( LSeg (f,( n + 1 )) ) /\ ( LSeg (f,( ( n + 1 ) + 1 )) ) ) = { ( f /. ( ( n + 1 ) + 1 ) ) } by A36,A124,TOPREAL1:def 6;
hence thesis by A149,TARSKI:def 1;
end;

assume A150: x = pn;
then A151: x in ( LSeg (pn,pn1) ) by RLTOPSP1:68;
A152: ( len ( f | ( n + 2 ) ) ) = ( n + 2 ) by A36,A43,FINSEQ_1:59,XXREAL_0:2;
then A153: ( dom ( f | ( n + 2 ) ) ) = ( Seg ( n + 2 ) ) by FINSEQ_1:def 3;
( n + 2 ) in ( Seg ( n + 2 ) ) by A42,FINSEQ_1:1;
then A154: x = ( ( f | ( n + 2 ) ) /. ( ( n + 1 ) + 1 ) ) by A150,A153,FINSEQ_4:70;
1 <= ( n + 1 ) by NAT_1:11;
then A155: x in ( LSeg (( f | ( n + 2 ) ),( n + 1 )) ) by A152,A154,TOPREAL1:21;
A156: 1 <= ( n + 1 ) by NAT_1:11;
( ( n + 1 ) + 1 ) <= ( len ( f | ( n + 2 ) ) ) by A36,A43,FINSEQ_1:59,XXREAL_0:2;
then ( LSeg (( f | ( n + 2 ) ),( n + 1 )) ) in { ( LSeg (( f | ( n + 2 ) ),k) ) where k is (Element of ( NAT )): (1 <= k & ( k + 1 ) <= ( len ( f | ( n + 2 ) ) )) } by A156;
then x in ( union { ( LSeg (( f | ( n + 2 ) ),k) ) where k is (Element of ( NAT )): (1 <= k & ( k + 1 ) <= ( len ( f | ( n + 2 ) ) )) } ) by A155,TARSKI:def 4;
then x in Q(n) by TOPREAL1:def 4;
hence thesis by A151,XBOOLE_0:def 4;
end;
( f /. ( n + 2 ) ) in ( rng F19 ) by A101,A109,FUNCT_1:def 3;
then A157: { ( f /. ( n + 2 ) ) } c= ( rng F19 ) by ZFMISC_1:31;
A158: ( F1 .: ( ( dom F1 ) /\ ( dom F19 ) ) ) = ( Im (F1,( 1 / 2 )) ) by A96,A97,A110,XXREAL_1:17
.= { ( f /. ( n + 2 ) ) } by A100,A108,FUNCT_1:59;
then A159: ( rng FF ) = ( Q(n) \/ ( LSeg (pn,pn1) ) ) by A89,A93,A157,TOPMETR2:2;
then A160: ( rng FF ) = ( [#] ( ( TOP-REAL 2 ) | Q(( n + 1 )) ) ) by A67,A68,A95,TOPREAL3:38;
( rng FF ) c= (the carrier of ( ( TOP-REAL 2 ) | Q(( n + 1 )) )) by A89,A93,A94,A95,A157,A158,TOPMETR2:2;
then reconsider FF as (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE1 )) by A102,BORSUK_1:40,FUNCT_2:2;
A161: ( rng Ex1 ) = ( [#] ( Closed-Interval-TSpace (( 0 ),1) ) ) by A82,TOPS_2:def 5;
A162: ( 0 ) in { l where l is Real: (( 0 ) <= l & l <= ( 1 / 2 )) };
A163: ( 1 / 2 ) in { l where l is Real: (( 0 ) <= l & l <= ( 1 / 2 )) };
A164: ( 0 ) in ( dom Ex1 ) by A85,A162,RCOMP_1:def 1;
A165: ( 1 / 2 ) in ( dom Ex1 ) by A85,A163,RCOMP_1:def 1;
A166: Ex1 is  one-to-one  continuous by A82,TOPS_2:def 5;
A167: ( Ex1 . ( 0 ) ) = ( Ex1 . ( (#) (( 0 ),( 1 / 2 )) ) ) by TREAL_1:def 1
.= ( (#) (( 0 ),1) ) by TREAL_1:13
.= ( 0 ) by TREAL_1:def 1;
BB1: Ex1 is  onto by A161,FUNCT_2:def 3;
then A168: ( ( Ex1 " ) . ( 0 ) ) = ( ( (Ex1 qua Function) " ) . ( 0 ) ) by A161,A166,TOPS_2:def 4
.= ( 0 ) by A164,A166,A167,FUNCT_1:32;
A169: ( Ex2 . ( 1 / 2 ) ) = ( Ex2 . ( (#) (( 1 / 2 ),1) ) ) by TREAL_1:def 1
.= ( (#) (( 0 ),1) ) by TREAL_1:13
.= ( 0 ) by TREAL_1:def 1;
A170: ( ( Ex1 " ) . 1 ) = ( ( (Ex1 qua Function) " ) . 1 ) by BB1,A161,A166,TOPS_2:def 4
.= ( 1 / 2 ) by A106,A165,A166,FUNCT_1:32;
A171: ( Ex2 . 1 ) = ( Ex2 . ( (( 1 / 2 ),1) (#) ) ) by TREAL_1:def 2
.= ( (( 0 ),1) (#) ) by TREAL_1:13
.= 1 by TREAL_1:def 2;
A172: ( LSeg (pn,pn1) ) = ( F19 .: [. ( 1 / 2 ),1 .] ) by A9,A93,FUNCT_2:37;
A173: ( FF . ( 1 / 2 ) ) = ( f /. ( n + 2 ) ) by A101,A109,FUNCT_4:13;
A174: (for x being set holds ((x in [. ( 0 ),( 1 / 2 ) .] & x <> ( 1 / 2 )) implies (not x in ( dom F19 ))))
proof
let x being set;
assume that
A175: x in [. ( 0 ),( 1 / 2 ) .]
and
A176: x <> ( 1 / 2 );
assume x in ( dom F19 );
then x in ( ( dom F1 ) /\ ( dom F19 ) ) by A96,A175,XBOOLE_0:def 4;
hence thesis by A111,A176,TARSKI:def 1;
end;
A177: ( FF .: [. ( 1 / 2 ),1 .] ) c= ( F19 .: [. ( 1 / 2 ),1 .] )
proof
let a being set;
assume a in ( FF .: [. ( 1 / 2 ),1 .] );
then consider x being set such that x in ( dom FF ) and A178: x in [. ( 1 / 2 ),1 .] and A179: a = ( FF . x ) by FUNCT_1:def 6;
( FF . x ) = ( F19 . x ) by A97,A178,FUNCT_4:13;
hence thesis by A97,A178,A179,FUNCT_1:def 6;
end;
( F19 .: [. ( 1 / 2 ),1 .] ) c= ( FF .: [. ( 1 / 2 ),1 .] )
proof
let a being set;
assume a in ( F19 .: [. ( 1 / 2 ),1 .] );
then consider x being set such that A180: x in ( dom F19 ) and A181: x in [. ( 1 / 2 ),1 .] and A182: a = ( F19 . x ) by FUNCT_1:def 6;
A183: x in ( dom FF ) by A180,FUNCT_4:12;
a = ( FF . x ) by A180,A182,FUNCT_4:13;
hence thesis by A181,A183,FUNCT_1:def 6;
end;
then A184: ( FF .: [. ( 1 / 2 ),1 .] ) = ( F19 .: [. ( 1 / 2 ),1 .] ) by A177,XBOOLE_0:def 10;
set GF = ( ( G " ) * FF );
A185: ( 0 ) in ( dom FF ) by A102,BORSUK_1:40,BORSUK_1:43;
A186: 1 in ( dom FF ) by A102,BORSUK_1:40,BORSUK_1:43;
( 0 ) in { l where l is Real: (( 0 ) <= l & l <= ( 1 / 2 )) };
then ( 0 ) in [. ( 0 ),( 1 / 2 ) .] by RCOMP_1:def 1;
then A187: ( FF . ( 0 ) ) = ( F1 . ( 0 ) ) by A174,FUNCT_4:11
.= ( f /. 1 ) by A76,A164,A167,FUNCT_1:13;
1 in { l where l is Real: (( 1 / 2 ) <= l & l <= 1) };
then A188: 1 in ( dom F19 ) by A97,RCOMP_1:def 1;
then A189: ( FF . 1 ) = ( F19 . 1 ) by FUNCT_4:13
.= pn1 by A81,A171,A188,FUNCT_1:12;
A190: ( 0 ) in ( dom G ) by A55,BORSUK_1:43;
BB2: G is  onto by A54,FUNCT_2:def 3;
then A191: ( ( G " ) . ( f /. 1 ) ) = ( ( (G qua Function) " ) . ( f /. 1 ) ) by A53,A54,TOPS_2:def 4
.= ( 0 ) by A51,A53,A190,FUNCT_1:32;
then A192: ( GF . ( 0 ) ) = ( 0 ) by A185,A187,FUNCT_1:13;
A193: 1 in ( dom G ) by A55,BORSUK_1:43;
A194: ( ( G " ) . pn1 ) = ( ( (G qua Function) " ) . pn1 ) by BB2,A53,A54,TOPS_2:def 4
.= 1 by A52,A53,A193,FUNCT_1:32;
then A195: ( GF . 1 ) = 1 by A186,A189,FUNCT_1:13;
reconsider ppp = ( 1 / 2 ) as (Point of ( I[01] )) by BORSUK_1:43;
( TopSpaceMetr ( RealSpace ) ) is  T_2 by PCOMPS_1:34;
then A196: ( I[01] ) is  T_2 by TOPMETR:2,TOPMETR:20,TOPMETR:def 6;
A197: T1 is  compact by HEINE:4;
A198: T2 is  compact by HEINE:4;
A199: F1 is  continuous by A88,TOPS_2:def 5;
A200: F19 is  continuous by A92,TOPS_2:def 5;
A201: ( ( TOP-REAL 2 ) | NE ) is (SubSpace of ( ( TOP-REAL 2 ) | NE1 )) by A38,A94,TOPMETR:4;
A202: ( ( TOP-REAL 2 ) | ( LSeg (pn,pn1) ) ) is (SubSpace of ( ( TOP-REAL 2 ) | NE1 )) by A94,TOPMETR:4;
A203: g11 is  continuous by A199,A201,PRE_TOPC:26;
A204: g22 is  continuous by A200,A202,PRE_TOPC:26;
A205: ( [#] T1 ) = [. ( 0 ),( 1 / 2 ) .] by TOPMETR:18;
A206: ( [#] T2 ) = [. ( 1 / 2 ),1 .] by TOPMETR:18;
then A207: ( ( [#] T1 ) \/ ( [#] T2 ) ) = ( [#] ( I[01] ) ) by A205,BORSUK_1:40,XXREAL_1:174;
( ( [#] T1 ) /\ ( [#] T2 ) ) = { ppp } by A205,A206,XXREAL_1:418;
then reconsider FF as  continuous (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE1 )) by A108,A109,A196,A197,A198,A203,A204,A207,COMPTS_1:20;
A208: F1 is  one-to-one by A88,TOPS_2:def 5;
A209: F19 is  one-to-one by A92,TOPS_2:def 5;
(for x1,x2 being set holds ((x1 in ( dom F19 ) & x2 in ( ( dom F1 ) \ ( dom F19 ) )) implies ( F19 . x1 ) <> ( F1 . x2 )))
proof
let x1 being set;
let x2 being set;
assume that
A210: x1 in ( dom F19 )
and
A211: x2 in ( ( dom F1 ) \ ( dom F19 ) );
assume A212: ( F19 . x1 ) = ( F1 . x2 );
A213: ( F19 . x1 ) in ( LSeg (pn,pn1) ) by A93,A210,FUNCT_2:4;
A214: x2 in ( dom F1 ) by A211,XBOOLE_0:def 5;
A215: (not x2 in ( dom F19 )) by A211,XBOOLE_0:def 5;
( F1 . x2 ) in NE by A38,A89,A211,FUNCT_2:4;
then ( F1 . x2 ) in ( NE /\ ( LSeg (pn,pn1) ) ) by A212,A213,XBOOLE_0:def 4;
then ( F1 . x2 ) = pn by A38,A112;
hence thesis by A100,A101,A108,A208,A214,A215,FUNCT_1:def 4;
end;
then A216: FF is  one-to-one by A208,A209,TOPMETR2:1;
A217: ( G " ) is  being_homeomorphism by A50,TOPS_2:56;
FF is  being_homeomorphism by A103,A104,A105,A160,A216,COMPTS_1:17;
then A218: GF is  being_homeomorphism by A217,TOPS_2:57;
then A219: GF is  continuous by TOPS_2:def 5;
A220: ( dom GF ) = ( [#] ( I[01] ) ) by A218,TOPS_2:def 5;
A221: ( rng GF ) = ( [#] ( I[01] ) ) by A218,TOPS_2:def 5;
A222: GF is  one-to-one by A218,TOPS_2:def 5;
then A223: ( dom ( GF " ) ) = ( [#] ( I[01] ) ) by A221,TOPS_2:49;
A224: ( rng G ) = ( [#] ( ( TOP-REAL 2 ) | Q(( n + 1 )) ) ) by A50,TOPS_2:def 5
.= ( rng FF ) by A67,A68,A95,A159,TOPREAL3:38;
A225: ( G * ( ( G " ) * FF ) ) = ( (FF qua Relation) * ( G * (( G " ) qua Function) ) ) by RELAT_1:36
.= ( ( id ( rng G ) ) * FF ) by A53,A54,TOPS_2:52
.= FF by A224,RELAT_1:54;
A226: ( 1 / 2 ) in ( dom GF ) by A220,BORSUK_1:43;
then A227: ( GF . ( 1 / 2 ) ) in ( rng GF ) by FUNCT_1:def 3;
A228: ( GF . ( 1 / 2 ) ) = ( ( G " ) . ( FF . ( 1 / 2 ) ) ) by A226,FUNCT_1:12
.= pp by A101,A109,FUNCT_4:13;
A229: [. pp,1 .] c= ( GF .: [. ( 1 / 2 ),1 .] )
proof
let a being set;
assume a in [. pp,1 .];
then a in { l where l is Real: (pp <= l & l <= 1) } by RCOMP_1:def 1;
then consider l1 being Real such that A230: l1 = a and A231: pp <= l1 and A232: l1 <= 1;
A233: ( 0 ) <= pp by A227,A228,BORSUK_1:43;
set cos = ( ( GF " ) . l1 );
l1 in ( dom ( GF " ) ) by A223,A231,A232,A233,BORSUK_1:43;
then A234: cos in ( rng ( GF " ) ) by FUNCT_1:def 3;
then A235: cos in [. ( 0 ),1 .] by BORSUK_1:40;
A236: l1 in ( rng GF ) by A221,A231,A232,A233,BORSUK_1:43;
GF is  onto by A221,FUNCT_2:def 3;
then A237: ( GF . cos ) = ( GF . ( ( (GF qua Function) " ) . l1 ) ) by A221,A222,TOPS_2:def 4
.= l1 by A222,A236,FUNCT_1:35;
reconsider cos as Real by A235;
reconsider A3 = cos,A4 = 1,A5 = ( 1 / 2 ) as (Point of ( I[01] )) by A234,BORSUK_1:43;
reconsider A1 = ( GF . A3 ),A2 = ( GF . A4 ) as (Point of ( I[01] ));
reconsider Fhc = A1,Fh0 = A2,Fh12 = ( GF . A5 ) as Real by CKB8:1;
A238: cos <= 1
proof
assume cos > 1;
then Fhc > Fh0 by A192,A195,A219,A222,JORDAN5A:16;
hence thesis by A102,A189,A194,A232,A237,BORSUK_1:40,FUNCT_1:13;
end;
cos >= ( 1 / 2 )
proof
assume cos < ( 1 / 2 );
then Fhc < Fh12 by A192,A195,A219,A222,JORDAN5A:16;
hence thesis by A102,A173,A231,A237,BORSUK_1:40,FUNCT_1:13;
end;
then cos in { l where l is Real: (( 1 / 2 ) <= l & l <= 1) } by A238;
then cos in [. ( 1 / 2 ),1 .] by RCOMP_1:def 1;
hence thesis by A220,A230,A234,A237,FUNCT_1:def 6;
end;
( GF .: [. ( 1 / 2 ),1 .] ) c= [. pp,1 .]
proof
let a being set;
assume a in ( GF .: [. ( 1 / 2 ),1 .] );
then consider x being set such that x in ( dom GF ) and A239: x in [. ( 1 / 2 ),1 .] and A240: a = ( GF . x ) by FUNCT_1:def 6;
x in { l where l is Real: (( 1 / 2 ) <= l & l <= 1) } by A239,RCOMP_1:def 1;
then consider l1 being Real such that A241: l1 = x and A242: ( 1 / 2 ) <= l1 and A243: l1 <= 1;
reconsider ll = l1,pol = ( 1 / 2 ) as (Point of ( I[01] )) by A242,A243,BORSUK_1:43;
reconsider A1 = ( GF . ( 1[01] ) ),A2 = ( GF . ll ),A3 = ( GF . pol ) as (Point of ( I[01] ));
reconsider A4 = A1,A5 = A2,A6 = A3 as Real by CKB8:1;
A244: A4 >= A5
proof
per cases ;
suppose 1 <> l1;

then 1 > l1 by A243,XXREAL_0:1;
hence thesis by A192,A195,A219,A222,BORSUK_1:def 15,JORDAN5A:16;
end;
suppose 1 = l1;

hence thesis by BORSUK_1:def 15;
end;
end;
A5 >= A6
proof
per cases ;
suppose l1 <> ( 1 / 2 );

then l1 > ( 1 / 2 ) by A242,XXREAL_0:1;
hence thesis by A192,A195,A219,A222,JORDAN5A:16;
end;
suppose l1 = ( 1 / 2 );

hence thesis;
end;
end;
then A5 in { l where l is Real: (pp <= l & l <= 1) } by A195,A228,A244,BORSUK_1:def 15;
hence thesis by A240,A241,RCOMP_1:def 1;
end;
then [. pp,1 .] = ( GF .: [. ( 1 / 2 ),1 .] ) by A229,XBOOLE_0:def 10;
then A245: ( G .: [. pp,1 .] ) = ( LSeg (pn,pn1) ) by A172,A184,A225,RELAT_1:126;
(ex p1,p2 being Real st (((((((p1 < p2 & ( 0 ) <= p1) & p1 <= 1) & ( 0 ) <= p2) & p2 <= 1) & ( LSeg (f,j) ) = ( G .: [. p1,p2 .] )) & ( G . p1 ) = ( f /. j )) & ( G . p2 ) = ( f /. ( j + 1 ) )))
proof
per cases ;
suppose ( j + 1 ) <= ( n + 2 );

then consider r1,r2 being Real such that A246: r1 < r2 and A247: ( 0 ) <= r1 and A248: r1 <= 1 and ( 0 ) <= r2 and A249: r2 <= 1 and A250: ( LSeg (f,j) ) = ( F .: [. r1,r2 .] ) and A251: ( F . r1 ) = ( f /. j ) and A252: ( F . r2 ) = ( f /. ( j + 1 ) ) by A39,A48,A75,A76,A77;
set f1 = ( ( Ex1 " ) . r1 );
set f2 = ( ( Ex1 " ) . r2 );
A253: Ex1 is  continuous  one-to-one by A82,TOPS_2:def 5;
A254: ( dom Ex1 ) = ( [#] ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ) ) by A82,TOPS_2:def 5;
A255: ( rng Ex1 ) = ( [#] ( Closed-Interval-TSpace (( 0 ),1) ) ) by A82,TOPS_2:def 5;
then BB3: Ex1 is  onto by FUNCT_2:def 3;
then A256: f1 = ( ( (Ex1 qua Function) " ) . r1 ) by A253,TOPS_2:def 4;
A257: f2 = ( ( (Ex1 qua Function) " ) . r2 ) by A253,A255,BB3,TOPS_2:def 4;
A258: ( rng Ex1 ) = ( [#] ( I[01] ) ) by A82,TOPMETR:20,TOPS_2:def 5
.= (the carrier of ( I[01] ));
then A259: r1 in ( rng Ex1 ) by A247,A248,BORSUK_1:43;
A260: r2 in ( rng Ex1 ) by A246,A247,A249,A258,BORSUK_1:43;
A261: f1 in (the carrier of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) )) by A253,A254,A256,A259,FUNCT_1:32;
A262: f2 in (the carrier of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) )) by A253,A254,A257,A260,FUNCT_1:32;
A263: f1 in [. ( 0 ),( 1 / 2 ) .] by A261,TOPMETR:18;
A264: f2 in [. ( 0 ),( 1 / 2 ) .] by A262,TOPMETR:18;
then reconsider f1,f2 as Real by A263;
reconsider r19 = r1,r29 = r2 as (Point of ( Closed-Interval-TSpace (( 0 ),1) )) by A246,A247,A248,A249,BORSUK_1:43,TOPMETR:20;
A265: ( Ex1 " ) is  being_homeomorphism by A82,TOPS_2:56;
A266: f1 = ( ( Ex1 " ) . r19 );
A267: f2 = ( ( Ex1 " ) . r29 );
A268: ( Ex1 " ) is  continuous  one-to-one by A265,TOPS_2:def 5;
then A269: f1 < f2 by A168,A170,A246,A266,A267,JORDAN5A:15;
A270: [. ( 0 ),( 1 / 2 ) .] c= [. ( 0 ),1 .] by XXREAL_1:34;
A271: r1 = ( Ex1 . f1 ) by A253,A256,A259,FUNCT_1:32;
A272: r2 = ( Ex1 . f2 ) by A253,A257,A260,FUNCT_1:32;
A273: f1 in { l where l is Real: (( 0 ) <= l & l <= ( 1 / 2 )) } by A263,RCOMP_1:def 1;
A274: f2 in { l where l is Real: (( 0 ) <= l & l <= ( 1 / 2 )) } by A264,RCOMP_1:def 1;
A275: (ex ff1 being Real st ((ff1 = f1 & ( 0 ) <= ff1) & ff1 <= ( 1 / 2 ))) by A273;
(ex ff2 being Real st ((ff2 = f2 & ( 0 ) <= ff2) & ff2 <= ( 1 / 2 ))) by A274;
then A276: ( Ex1 .: [. f1,f2 .] ) = [. r1,r2 .] by A82,A106,A167,A269,A271,A272,A275,JORDAN5A:20;
A277: ( F1 .: [. f1,f2 .] ) c= ( FF .: [. f1,f2 .] )
proof
let a being set;
assume a in ( F1 .: [. f1,f2 .] );
then consider x being set such that A278: x in ( dom F1 ) and A279: x in [. f1,f2 .] and A280: a = ( F1 . x ) by FUNCT_1:def 6;
A281:now
per cases ;
suppose x <> ( 1 / 2 );

hence ( FF . x ) = ( F1 . x ) by A10,A174,A278,FUNCT_4:11;
end;
suppose x = ( 1 / 2 );

hence ( FF . x ) = ( F1 . x ) by A101,A108,A109,FUNCT_4:13;
end;
end;
x in ( dom FF ) by A278,FUNCT_4:12;
hence thesis by A279,A280,A281,FUNCT_1:def 6;
end;
( FF .: [. f1,f2 .] ) c= ( F1 .: [. f1,f2 .] )
proof
let a being set;
assume a in ( FF .: [. f1,f2 .] );
then consider x being set such that x in ( dom FF ) and A282: x in [. f1,f2 .] and A283: a = ( FF . x ) by FUNCT_1:def 6;
A284: [. f1,f2 .] c= [. ( 0 ),( 1 / 2 ) .] by A263,A264,XXREAL_2:def 12;
now
per cases ;
suppose x <> ( 1 / 2 );

hence ( FF . x ) = ( F1 . x ) by A174,A282,A284,FUNCT_4:11;
end;
suppose x = ( 1 / 2 );

hence ( FF . x ) = ( F1 . x ) by A101,A108,A109,FUNCT_4:13;
end;
end;
hence thesis by A96,A282,A283,A284,FUNCT_1:def 6;
end;
then ( F1 .: [. f1,f2 .] ) = ( FF .: [. f1,f2 .] ) by A277,XBOOLE_0:def 10;
then A285: ( F .: [. r1,r2 .] ) = ( FF .: [. f1,f2 .] ) by A276,RELAT_1:126;
set e1 = ( GF . f1 );
set e2 = ( GF . f2 );
A286: e1 in (the carrier of ( I[01] )) by A263,A270,BORSUK_1:40,FUNCT_2:5;
A287: e2 in (the carrier of ( I[01] )) by A264,A270,BORSUK_1:40,FUNCT_2:5;
A288: e1 in { l where l is Real: (( 0 ) <= l & l <= 1) } by A286,BORSUK_1:40,RCOMP_1:def 1;
A289: e2 in { l where l is Real: (( 0 ) <= l & l <= 1) } by A287,BORSUK_1:40,RCOMP_1:def 1;
consider l1 being Real such that A290: l1 = e1 and A291: ( 0 ) <= l1 and A292: l1 <= 1 by A288;
consider l2 being Real such that A293: l2 = e2 and ( 0 ) <= l2 and A294: l2 <= 1 by A289;
reconsider f19 = f1,f29 = f2 as (Point of ( I[01] )) by A263,A264,A270,BORSUK_1:40;
A295: ( GF . ( 0 ) ) = ( 0 ) by A185,A187,A191,FUNCT_1:13;
A296: ( GF . 1 ) = 1 by A186,A189,A194,FUNCT_1:13;
A297: l1 = ( GF . f19 ) by A290;
l2 = ( GF . f29 ) by A293;
then A298: l1 < l2 by A219,A222,A269,A295,A296,A297,JORDAN5A:16;
A299: f1 < f2 by A168,A170,A246,A266,A267,A268,JORDAN5A:15;
A300: ( 0 ) <= f1 by A263,A270,BORSUK_1:40,BORSUK_1:43;
f2 <= 1 by A264,A270,BORSUK_1:40,BORSUK_1:43;
then A301: ( G .: [. l1,l2 .] ) = ( G .: ( GF .: [. f1,f2 .] ) ) by A192,A195,A218,A290,A293,A299,A300,JORDAN5A:20,TOPMETR:20
.= ( FF .: [. f1,f2 .] ) by A225,RELAT_1:126;
A302: ( FF . f19 ) = ( F . r19 )
proof
per cases ;
suppose A303: f19 = ( 1 / 2 );

then ( FF . f19 ) = ( F19 . ( 1 / 2 ) ) by A101,FUNCT_4:13
.= ( F9 . ( 0 ) ) by A101,A169,FUNCT_1:12
.= ( F . r19 ) by A77,A80,A106,A253,A255,A256,A303,FUNCT_1:32;
hence thesis;
end;
suppose f19 <> ( 1 / 2 );

then ( FF . f19 ) = ( F1 . f19 ) by A174,A263,FUNCT_4:11
.= ( F . ( Ex1 . f19 ) ) by A85,A263,FUNCT_1:13
.= ( F . r19 ) by A253,A255,A256,FUNCT_1:32;
hence thesis;
end;
end;
A304: ( FF . f29 ) = ( F . r29 )
proof
per cases ;
suppose A305: f29 = ( 1 / 2 );

then ( FF . f29 ) = ( F19 . ( 1 / 2 ) ) by A101,FUNCT_4:13
.= ( F9 . ( 0 ) ) by A101,A169,FUNCT_1:12
.= ( F . r29 ) by A77,A80,A106,A253,A255,A257,A305,FUNCT_1:32;
hence thesis;
end;
suppose f29 <> ( 1 / 2 );

then ( FF . f29 ) = ( F1 . f29 ) by A174,A264,FUNCT_4:11
.= ( F . ( Ex1 . f29 ) ) by A85,A264,FUNCT_1:13
.= ( F . r29 ) by A253,A255,A257,FUNCT_1:32;
hence thesis;
end;
end;
A306: ( G . l1 ) = ( f /. j ) by A102,A225,A251,A290,A302,BORSUK_1:40,FUNCT_1:12;
( G . l2 ) = ( f /. ( j + 1 ) ) by A102,A225,A252,A293,A304,BORSUK_1:40,FUNCT_1:12;
hence thesis by A250,A285,A291,A292,A294,A298,A301,A306;
end;
suppose ( j + 1 ) > ( n + 2 );

then A307: ( j + 1 ) = ( n + 3 ) by A41,A49,NAT_1:9;
then ( LSeg (f,j) ) = ( LSeg (pn,pn1) ) by A36,A42,TOPREAL1:def 3;
hence thesis by A52,A64,A70,A71,A245,A307;
end;
end;
hence thesis;
end;
A308: (for n being (Element of ( NAT )) holds ARC[ n ]) from NAT_1:sch 1(A14,A33);
1 <= ( h1 + 2 ) by A12,XXREAL_0:2;
then (ex NE being non  empty (Subset of ( TOP-REAL 2 )) st (NE = Q(h1) & (for j being (Element of ( NAT )) holds (for F being (Function of ( I[01] ),( ( TOP-REAL 2 ) | NE )) holds (((((1 <= j & ( j + 1 ) <= ( h1 + 2 )) & F is  being_homeomorphism) & ( F . ( 0 ) ) = ( f /. 1 )) & ( F . 1 ) = ( f /. ( h1 + 2 ) )) implies (ex p1,p2 being Real st (((((((p1 < p2 & ( 0 ) <= p1) & p1 <= 1) & ( 0 ) <= p2) & p2 <= 1) & ( LSeg (f,j) ) = ( F .: [. p1,p2 .] )) & ( F . p1 ) = ( f /. j )) & ( F . p2 ) = ( f /. ( j + 1 ) )))))))) by A308;
hence thesis by A1,A2,A4,A5,A6,A7,A13;
end;
