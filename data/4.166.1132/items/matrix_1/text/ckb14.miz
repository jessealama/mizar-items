environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,ALGSTR_0,FINSEQ_1,SUBSET_1,RLVECT_1,RELAT_1,CARD_1,FINSEQ_2,TARSKI,STRUCT_0,TREES_1,XXREAL_0,ZFMISC_1,FUNCT_1,QC_LANG1,INCSP_1,SUPINF_2,MESFUNC1,ARYTM_1,ARYTM_3,VECTSP_1,BINOP_1,MATRIX_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,STRUCT_0,ALGSTR_0,BINOP_1,FINSEQOP,RLVECT_1,VECTSP_1,XXREAL_0,CKB1,CKB12;
definitions TARSKI,RLVECT_1,BINOP_1,FINSEQ_2,STRUCT_0,ALGSTR_0,CKB1;
theorems FINSEQ_1,FINSEQ_2,FINSEQ_3,TARSKI,FUNCOP_1,FUNCT_1,FUNCT_2,ZFMISC_1,NAT_1,BINOP_1,RLVECT_1,RELAT_1,ORDINAL1,CARD_1,CARD_2,XXREAL_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10;
schemes FINSEQ_1,BINOP_1,FINSEQ_2;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XREAL_0,FINSEQ_1,FINSEQ_2,STRUCT_0,VECTSP_1,ORDINAL1,CARD_1,CKB2,CKB11,CKB13;
constructors BINOP_1,XXREAL_0,FINSEQOP,VECTSP_1,RLVECT_1,RELSET_1,CKB1;
requirements NUMERALS,SUBSET,BOOLE,REAL;
begin
reserve x for set;
reserve n for Nat;
reserve D for non empty set;
reserve s for FinSequence;
reserve t for FinSequence;
reserve p for (FinSequence of D);
theorem
Th9: (s is (Matrix of D) iff (ex n st (for x holds (x in ( rng s ) implies (ex p st (x = p & ( len p ) = n))))))
proof
thus (s is (Matrix of D) implies (ex n st (for x holds (x in ( rng s ) implies (ex p st (x = p & ( len p ) = n))))))
proof
assume s is (Matrix of D);
then reconsider s as  tabular (FinSequence of ( D * ));
consider n such that A1: (for x holds (x in ( rng s ) implies (ex t st (t = x & ( len t ) = n)))) by CKB1:def 1;
take n;
(for x holds (x in ( rng s ) implies (ex p st (x = p & ( len p ) = n))))
proof
let x;
assume A2: x in ( rng s );
then consider v being FinSequence such that A3: v = x and A4: ( len v ) = n by A1;
( rng s ) c= ( D * ) by FINSEQ_1:def 4;
then reconsider p = v as (FinSequence of D) by A2,A3,FINSEQ_1:def 11;
take p;
thus thesis by A3,A4;
end;
hence thesis;
end;

given n such that
A5: (for x holds (x in ( rng s ) implies (ex p st (x = p & ( len p ) = n))));

A6: s is  tabular
proof
consider n such that A7: (for x holds (x in ( rng s ) implies (ex p st (x = p & ( len p ) = n)))) by A5;
take n;
(for x holds (x in ( rng s ) implies (ex t st (t = x & ( len t ) = n))))
proof
let x;
assume x in ( rng s );
then consider p such that A8: (x = p & ( len p ) = n) by A7;
reconsider t = p as FinSequence;
take t;
thus thesis by A8;
end;
hence thesis;
end;
( rng s ) c= ( D * )
proof
let x;
assume x in ( rng s );
then (ex p st (x = p & ( len p ) = n)) by A5;
then reconsider q = x as (FinSequence of D);
q in ( D * ) by FINSEQ_1:def 11;
hence thesis;
end;
hence thesis by A6,FINSEQ_1:def 4;
end;
