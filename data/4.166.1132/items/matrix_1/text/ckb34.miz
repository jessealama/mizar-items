environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,ALGSTR_0,FINSEQ_1,SUBSET_1,RLVECT_1,RELAT_1,CARD_1,FINSEQ_2,TARSKI,STRUCT_0,TREES_1,XXREAL_0,ZFMISC_1,FUNCT_1,QC_LANG1,INCSP_1,SUPINF_2,MESFUNC1,ARYTM_1,ARYTM_3,VECTSP_1,BINOP_1,MATRIX_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,STRUCT_0,ALGSTR_0,BINOP_1,FINSEQOP,RLVECT_1,VECTSP_1,XXREAL_0,CKB1,CKB12,CKB15,CKB16,CKB17,CKB18,CKB19,CKB30,CKB32,CKB33;
definitions TARSKI,RLVECT_1,BINOP_1,FINSEQ_2,STRUCT_0,ALGSTR_0,CKB1,CKB15,CKB30,CKB32,CKB33;
theorems FINSEQ_1,FINSEQ_2,FINSEQ_3,TARSKI,FUNCOP_1,FUNCT_1,FUNCT_2,ZFMISC_1,NAT_1,BINOP_1,RLVECT_1,RELAT_1,ORDINAL1,CARD_1,CARD_2,XXREAL_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB14,CKB15,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33;
schemes FINSEQ_1,BINOP_1,FINSEQ_2;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XREAL_0,FINSEQ_1,FINSEQ_2,STRUCT_0,VECTSP_1,ORDINAL1,CARD_1,CKB2,CKB11,CKB13;
constructors BINOP_1,XXREAL_0,FINSEQOP,VECTSP_1,RLVECT_1,RELSET_1,CKB1,CKB15,CKB30,CKB32,CKB33;
requirements NUMERALS,SUBSET,BOOLE,REAL;
begin
reserve i for Nat;
reserve j for Nat;
reserve D for non  empty set;
reserve M1 for (Matrix of D);
reserve M2 for (Matrix of D);
theorem
Th21: (((( len M1 ) = ( len M2 ) & ( width M1 ) = ( width M2 )) & (for i holds (for j holds ([ i,j ] in ( Indices M1 ) implies ( M1 * (i,j) ) = ( M2 * (i,j) ))))) implies M1 = M2)
proof
assume that
A1: ( len M1 ) = ( len M2 )
and
A2: ( width M1 ) = ( width M2 )
and
A3: (for i holds (for j holds ([ i,j ] in ( Indices M1 ) implies ( M1 * (i,j) ) = ( M2 * (i,j) ))));
A4: ( dom M1 ) = ( dom M2 ) by A1,FINSEQ_3:29;
(for k being Nat holds (k in ( dom M1 ) implies ( M1 . k ) = ( M2 . k )))
proof
let k being Nat;
A5: ( len M1 ) >= ( 0 ) by NAT_1:2;
assume A6: k in ( dom M1 );
then A7: ( M1 . k ) in ( rng M1 ) by FUNCT_1:def 3;
( rng M1 ) c= ( D * ) by FINSEQ_1:def 4;
then reconsider p = ( M1 . k ) as (FinSequence of D) by A7,FINSEQ_1:def 11;
M1 <> ( {} ) by A6;
then A8: ( len M1 ) > ( 0 ) by A5,XXREAL_0:1;
then M1 is (Matrix of ( len M1 ),( width M1 ),D) by CKB31:1;
then A9: ( len p ) = ( width M1 ) by A7,CKB15:def 1;
A10: ( M2 . k ) in ( rng M2 ) by A4,A6,FUNCT_1:def 3;
( rng M2 ) c= ( D * ) by FINSEQ_1:def 4;
then reconsider q = ( M2 . k ) as (FinSequence of D) by A10,FINSEQ_1:def 11;
M2 is (Matrix of ( len M1 ),( width M1 ),D) by A1,A2,A8,CKB31:1;
then A11: ( len q ) = ( width M1 ) by A10,CKB15:def 1;
(for l being Nat holds ((1 <= l & l <= ( len p )) implies ( p . l ) = ( q . l )))
proof
let l being Nat;
A12: ( rng p ) c= D by FINSEQ_1:def 4;
assume (1 <= l & l <= ( len p ));
then A13: l in ( Seg ( width M1 ) ) by A9,FINSEQ_1:1;
then l in ( dom p ) by A9,FINSEQ_1:def 3;
then ( p . l ) in ( rng p ) by FUNCT_1:def 3;
then reconsider a = ( p . l ) as (Element of D) by A12;
A14: ( rng q ) c= D by FINSEQ_1:def 4;
l in ( dom q ) by A11,A13,FINSEQ_1:def 3;
then ( q . l ) in ( rng q ) by FUNCT_1:def 3;
then reconsider b = ( q . l ) as (Element of D) by A14;
[ k,l ] in ( Indices M2 ) by A2,A4,A6,A13,ZFMISC_1:87;
then A15: ( M2 * (k,l) ) = b by CKB33:def 1;
[ k,l ] in ( Indices M1 ) by A6,A13,ZFMISC_1:87;
then A16: ( M1 * (k,l) ) = a by CKB33:def 1;
[ k,l ] in [: ( dom M1 ),( Seg ( width M1 ) ) :] by A6,A13,ZFMISC_1:87;
hence thesis by A3,A16,A15;
end;
hence thesis by A9,A11,FINSEQ_1:14;
end;
hence thesis by A4,FINSEQ_1:13;
end;
