environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,ALGSTR_0,FINSEQ_1,SUBSET_1,RLVECT_1,RELAT_1,CARD_1,FINSEQ_2,TARSKI,STRUCT_0,TREES_1,XXREAL_0,ZFMISC_1,FUNCT_1,QC_LANG1,INCSP_1,SUPINF_2,MESFUNC1,ARYTM_1,ARYTM_3,VECTSP_1,BINOP_1,MATRIX_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,STRUCT_0,ALGSTR_0,BINOP_1,FINSEQOP,RLVECT_1,VECTSP_1,XXREAL_0,CKB1,CKB12,CKB15,CKB16,CKB17,CKB18,CKB19,CKB30,CKB32,CKB33,CKB44,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53;
definitions TARSKI,RLVECT_1,BINOP_1,FINSEQ_2,STRUCT_0,ALGSTR_0,CKB1,CKB15,CKB30,CKB32,CKB33,CKB44,CKB48,CKB49,CKB52,CKB53;
theorems FINSEQ_1,FINSEQ_2,FINSEQ_3,TARSKI,FUNCOP_1,FUNCT_1,FUNCT_2,ZFMISC_1,NAT_1,BINOP_1,RLVECT_1,RELAT_1,ORDINAL1,CARD_1,CARD_2,XXREAL_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB14,CKB15,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB48,CKB49,CKB52,CKB53;
schemes FINSEQ_1,BINOP_1,FINSEQ_2,CKB35,CKB36;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XREAL_0,FINSEQ_1,FINSEQ_2,STRUCT_0,VECTSP_1,ORDINAL1,CARD_1,CKB2,CKB11,CKB13;
constructors BINOP_1,XXREAL_0,FINSEQOP,VECTSP_1,RLVECT_1,RELSET_1,CKB1,CKB15,CKB30,CKB32,CKB33,CKB44,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53;
requirements NUMERALS,SUBSET,BOOLE,REAL;
begin
reserve i for Nat;
reserve j for Nat;
reserve n for Nat;
reserve D for non  empty set;
reserve K for non  empty doubleLoopStr;
reserve M for (Matrix of D);
reserve M1 for (Matrix of D);
reserve M2 for (Matrix of D);
definition
let K;
let n;
func 1. (K,n) -> (Matrix of n,K) means 
:Def12: ((for i holds ([ i,i ] in ( Indices it ) implies ( it * (i,i) ) = ( 1. K ))) & (for i holds (for j holds (([ i,j ] in ( Indices it ) & i <> j) implies ( it * (i,j) ) = ( 0. K )))));
existence
proof
defpred P[ set,set,set ]
 means
(($1 = $2 implies $3 = ( 1. K )) & ($1 <> $2 implies $3 = ( 0. K )));
reconsider n1 = n as (Element of ( NAT )) by ORDINAL1:def 12;
A1: (for i holds (for j holds ([ i,j ] in [: ( Seg n1 ),( Seg n1 ) :] implies (ex x being (Element of K) st P[ i,j,x ]))))
proof
let i;
let j;
assume [ i,j ] in [: ( Seg n1 ),( Seg n1 ) :];
(i = j implies P[ i,j,( 1. K ) ]);
hence thesis;
end;
consider M being (Matrix of n1,K) such that A3: (for i holds (for j holds ([ i,j ] in ( Indices M ) implies P[ i,j,( M * (i,j) ) ]))) from CKB36:sch 1(A1);
reconsider M as (Matrix of n,K);
take M;
thus thesis by A3;
end;
uniqueness
proof
let M1 being (Matrix of n,K);
let M2 being (Matrix of n,K);
assume that
A4: (for i holds ([ i,i ] in ( Indices M1 ) implies ( M1 * (i,i) ) = ( 1. K )))
and
A5: (for i holds (for j holds (([ i,j ] in ( Indices M1 ) & i <> j) implies ( M1 * (i,j) ) = ( 0. K ))))
and
A6: (for i holds ([ i,i ] in ( Indices M2 ) implies ( M2 * (i,i) ) = ( 1. K )))
and
A7: (for i holds (for j holds (([ i,j ] in ( Indices M2 ) & i <> j) implies ( M2 * (i,j) ) = ( 0. K ))));
A8: ( Indices M1 ) = ( Indices M2 ) by CKB41:1;
A9:now
let i;
let j;
assume A10: [ i,j ] in ( Indices M1 );
A11:now
assume A12: i <> j;
then ( M1 * (i,j) ) = ( 0. K ) by A5,A10;
hence ( M1 * (i,j) ) = ( M2 * (i,j) ) by A8,A7,A10,A12;
end;
now
assume A13: i = j;
then ( M1 * (i,j) ) = ( 1. K ) by A4,A10;
hence ( M1 * (i,j) ) = ( M2 * (i,j) ) by A8,A6,A10,A13;
end;
hence ( M1 * (i,j) ) = ( M2 * (i,j) ) by A11;
end;
A14: (( len M2 ) = n & ( width M2 ) = n) by CKB39:1;
(( len M1 ) = n & ( width M1 ) = n) by CKB39:1;
hence thesis by A9,A14,CKB34:1;
end;
end;
