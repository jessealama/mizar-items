environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,ALGSTR_0,FINSEQ_1,SUBSET_1,RLVECT_1,RELAT_1,CARD_1,FINSEQ_2,TARSKI,STRUCT_0,TREES_1,XXREAL_0,ZFMISC_1,FUNCT_1,QC_LANG1,INCSP_1,SUPINF_2,MESFUNC1,ARYTM_1,ARYTM_3,VECTSP_1,BINOP_1,MATRIX_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,STRUCT_0,ALGSTR_0,BINOP_1,FINSEQOP,RLVECT_1,VECTSP_1,XXREAL_0,CKB1,CKB12,CKB15,CKB16,CKB17,CKB18,CKB19;
definitions TARSKI,RLVECT_1,BINOP_1,FINSEQ_2,STRUCT_0,ALGSTR_0,CKB1,CKB15;
theorems FINSEQ_1,FINSEQ_2,FINSEQ_3,TARSKI,FUNCOP_1,FUNCT_1,FUNCT_2,ZFMISC_1,NAT_1,BINOP_1,RLVECT_1,RELAT_1,ORDINAL1,CARD_1,CARD_2,XXREAL_0,CKB1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB14,CKB15,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29;
schemes FINSEQ_1,BINOP_1,FINSEQ_2;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XREAL_0,FINSEQ_1,FINSEQ_2,STRUCT_0,VECTSP_1,ORDINAL1,CARD_1,CKB2,CKB11,CKB13;
constructors BINOP_1,XXREAL_0,FINSEQOP,VECTSP_1,RLVECT_1,RELSET_1,CKB1,CKB15;
requirements NUMERALS,SUBSET,BOOLE,REAL;
begin
reserve x for set;
reserve n for Nat;
reserve D for non empty set;
reserve s for FinSequence;
reserve p for (FinSequence of D);
definition
let M being  tabular FinSequence;
func width M -> (Element of ( NAT ))
means
:Def4: (ex s st (s in ( rng M ) & ( len s ) = it)) if ( len M ) > ( 0 ) otherwise it = ( 0 );
existence
proof
thus (( len M ) > ( 0 ) implies (ex n being (Element of ( NAT )) st (ex s st (s in ( rng M ) & ( len s ) = n))))
proof
set x = the (Element of ( rng M ));
consider n such that A1: (for x holds (x in ( rng M ) implies (ex s st (s = x & ( len s ) = n)))) by CKB1:def 1;
reconsider n as (Element of ( NAT )) by ORDINAL1:def 12;
assume ( len M ) > ( 0 );
then A2: ( rng M ) <> ( {} ) by CARD_1:27,RELAT_1:41;
then consider s such that A3: (s = x & ( len s ) = n) by A1;
take n;
take s;
thus thesis by A2,A3;
end;

thus thesis;
end;
uniqueness
proof
let n1 being (Element of ( NAT )),n2 being (Element of ( NAT ));
thus (( len M ) > ( 0 ) implies (((ex s st (s in ( rng M ) & ( len s ) = n1)) & (ex s st (s in ( rng M ) & ( len s ) = n2))) implies n1 = n2))
proof
assume ( len M ) > ( 0 );
given s such that
A4: s in ( rng M )
and
A5: ( len s ) = n1;

consider n such that A6: (for x holds (x in ( rng M ) implies (ex s st (s = x & ( len s ) = n)))) by CKB1:def 1;
A7: (ex s1 being FinSequence st (s1 = s & ( len s1 ) = n)) by A6,A4;
given p being FinSequence such that
A8: p in ( rng M )
and
A9: ( len p ) = n2;

(ex p1 being FinSequence st (p1 = p & ( len p1 ) = n)) by A6,A8;
hence thesis by A5,A9,A7;
end;

thus thesis;
end;
consistency;
end;
