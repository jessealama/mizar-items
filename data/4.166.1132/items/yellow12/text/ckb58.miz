environ
vocabularies XBOOLE_0,TARSKI,RELAT_1,PARTFUN1,MCART_1,ZFMISC_1,FUNCT_1,FUNCT_3,SUBSET_1,WAYBEL_0,ORDERS_2,LATTICES,LATTICE3,YELLOW_0,ORDINAL2,EQREL_1,RELAT_2,WAYBEL_3,WAYBEL_2,STRUCT_0,WELLORD1,WAYBEL11,XXREAL_0,REWRITE1,SETFAM_1,PRE_TOPC,RLVECT_3,CANTOR_1,RCOMP_1,CONNSP_2,TOPS_1,TOPS_2,T_0TOPSP,COMPTS_1,YELLOW_9,FUNCT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,MCART_1,FUNCT_3,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_1,TOPS_2,COMPTS_1,CANTOR_1,CONNSP_2,BORSUK_1,BORSUK_2,T_0TOPSP,WELLORD1,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_3,YELLOW_4,WAYBEL_2,WAYBEL_3,YELLOW_8,WAYBEL11,YELLOW_9,CKB26;
definitions TARSKI,FUNCT_1,PRE_TOPC,COMPTS_1,TOPS_2,CONNSP_2,BORSUK_1,T_0TOPSP,LATTICE3,YELLOW_0,WAYBEL_0,WAYBEL_2,WAYBEL_3,WAYBEL11,YELLOW_9,XBOOLE_0,SUBSET_1,BINOP_1,STRUCT_0;
theorems FUNCT_1,FUNCT_2,FUNCT_3,RELAT_1,TOPS_1,TOPS_2,TOPS_3,PRE_TOPC,CONNSP_2,BORSUK_1,ZFMISC_1,TARSKI,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_2,YELLOW_3,YELLOW_4,WAYBEL_0,WAYBEL_1,WAYBEL_2,YELLOW_7,YELLOW_8,YELLOW_9,WAYBEL_8,WAYBEL_3,TEX_2,SETFAM_1,CANTOR_1,BORSUK_2,XBOOLE_0,XBOOLE_1,EQREL_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB27,CKB29,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB41,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB57;
registrations XBOOLE_0,SUBSET_1,RELSET_1,STRUCT_0,BORSUK_1,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_3,YELLOW_4,WAYBEL_2,WAYBEL_3,YELLOW_9,PRE_TOPC,EQREL_1,TOPS_1,BORSUK_2,FUNCT_2,CKB1,CKB9,CKB28,CKB30,CKB40,CKB42,CKB54,CKB55,CKB56;
constructors SETFAM_1,TOLER_1,TOPS_1,TOPS_2,T_0TOPSP,CANTOR_1,BORSUK_2,ORDERS_3,YELLOW_4,WAYBEL_3,YELLOW_8,WAYBEL11,YELLOW_9,CONNSP_2,DOMAIN_1,COMPTS_1,WAYBEL_2,CKB26;
requirements SUBSET,BOOLE;
begin
reserve S1 for non empty TopSpace;
reserve S2 for non empty TopSpace;
reserve T1 for non empty TopSpace;
reserve T2 for non empty TopSpace;
reserve R for (Refinement of [: S1,T1 :],[: S2,T2 :]);
theorem
Th48: (((the carrier of S1) = (the carrier of S2) & (the carrier of T1) = (the carrier of T2)) implies { ( [: U1,V1 :] /\ [: U2,V2 :] ) where U1 is (Subset of S1),U2 is (Subset of S2),V1 is (Subset of T1),V2 is (Subset of T2): (((U1 is  open & U2 is  open) & V1 is  open) & V2 is  open) } is (Basis of R))
proof
assume A1: ((the carrier of S1) = (the carrier of S2) & (the carrier of T1) = (the carrier of T2));
set Y = { ( [: U1,V1 :] /\ [: U2,V2 :] ) where U1 is (Subset of S1),U2 is (Subset of S2),V1 is (Subset of T1),V2 is (Subset of T2): (((U1 is  open & U2 is  open) & V1 is  open) & V2 is  open) };
A2: (the carrier of [: S2,T2 :]) = [: (the carrier of S2),(the carrier of T2) :] by BORSUK_1:def 2;
A3: (the carrier of [: S1,T1 :]) = [: (the carrier of S1),(the carrier of T1) :] by BORSUK_1:def 2;
then reconsider BST = ( INTERSECTION ((the topology of [: S1,T1 :]),(the topology of [: S2,T2 :])) ) as (Basis of R) by A1,A2,YELLOW_9:60;
A4: (the carrier of R) = ( (the carrier of [: S1,T1 :]) \/ (the carrier of [: S2,T2 :]) ) by YELLOW_9:def 6
.= ( [: (the carrier of S1),(the carrier of T1) :] \/ [: (the carrier of S2),(the carrier of T2) :] ) by A3,BORSUK_1:def 2
.= [: (the carrier of S1),(the carrier of T1) :] by A1;
Y c= ( bool (the carrier of R) )
proof
let c being set;
assume c in Y;
then (ex U1 being (Subset of S1) st (ex U2 being (Subset of S2) st (ex V1 being (Subset of T1) st (ex V2 being (Subset of T2) st ((((c = ( [: U1,V1 :] /\ [: U2,V2 :] ) & U1 is  open) & U2 is  open) & V1 is  open) & V2 is  open)))));
hence thesis by A1,A2,A4;
end;
then reconsider C1 = Y as (Subset-Family of R);
reconsider C1 as (Subset-Family of R);
A5: (the topology of [: S2,T2 :]) = { ( union A ) where A is (Subset-Family of [: S2,T2 :]): A c= { [: X1,Y1 :] where X1 is (Subset of S2),Y1 is (Subset of T2): (X1 in (the topology of S2) & Y1 in (the topology of T2)) } } by BORSUK_1:def 2;
A6: (the topology of [: S1,T1 :]) = { ( union A ) where A is (Subset-Family of [: S1,T1 :]): A c= { [: X1,Y1 :] where X1 is (Subset of S1),Y1 is (Subset of T1): (X1 in (the topology of S1) & Y1 in (the topology of T1)) } } by BORSUK_1:def 2;
A7: (for A being (Subset of R) holds (A is  open implies (for p being (Point of R) holds (p in A implies (ex a being (Subset of R) st ((a in C1 & p in a) & a c= A))))))
proof
let A being (Subset of R);
assume that
A8: A is  open;
let p being (Point of R);
assume p in A;
then consider X being (Subset of R) such that A9: X in BST and A10: p in X and A11: X c= A by A8,YELLOW_9:31;
consider X1 being set,X2 being set such that A12: X1 in (the topology of [: S1,T1 :]) and A13: X2 in (the topology of [: S2,T2 :]) and A14: X = ( X1 /\ X2 ) by A9,SETFAM_1:def 5;
consider F1 being (Subset-Family of [: S1,T1 :]) such that A15: X1 = ( union F1 ) and A16: F1 c= { [: K1,L1 :] where K1 is (Subset of S1),L1 is (Subset of T1): (K1 in (the topology of S1) & L1 in (the topology of T1)) } by A6,A12;
p in X1 by A10,A14,XBOOLE_0:def 4;
then consider G1 being set such that A17: p in G1 and A18: G1 in F1 by A15,TARSKI:def 4;
A19: G1 in { [: K1,L1 :] where K1 is (Subset of S1),L1 is (Subset of T1): (K1 in (the topology of S1) & L1 in (the topology of T1)) } by A16,A18;
consider F2 being (Subset-Family of [: S2,T2 :]) such that A20: X2 = ( union F2 ) and A21: F2 c= { [: K2,L2 :] where K2 is (Subset of S2),L2 is (Subset of T2): (K2 in (the topology of S2) & L2 in (the topology of T2)) } by A5,A13;
p in X2 by A10,A14,XBOOLE_0:def 4;
then consider G2 being set such that A22: p in G2 and A23: G2 in F2 by A20,TARSKI:def 4;
G2 in { [: K2,L2 :] where K2 is (Subset of S2),L2 is (Subset of T2): (K2 in (the topology of S2) & L2 in (the topology of T2)) } by A21,A23;
then consider K2 being (Subset of S2),L2 being (Subset of T2) such that A24: G2 = [: K2,L2 :] and A25: (K2 in (the topology of S2) & L2 in (the topology of T2));
A26: [: K2,L2 :] c= X2 by A20,A23,A24,ZFMISC_1:74;
A27: (K2 is  open & L2 is  open) by A25,PRE_TOPC:def 2;
consider K1 being (Subset of S1),L1 being (Subset of T1) such that A28: G1 = [: K1,L1 :] and A29: (K1 in (the topology of S1) & L1 in (the topology of T1)) by A19;
reconsider a = ( [: K1,L1 :] /\ [: K2,L2 :] ) as (Subset of R) by A1,A4,BORSUK_1:def 2;
take a;
(K1 is  open & L1 is  open) by A29,PRE_TOPC:def 2;
hence a in C1 by A27;
thus p in a by A17,A22,A28,A24,XBOOLE_0:def 4;
[: K1,L1 :] c= X1 by A15,A18,A28,ZFMISC_1:74;
then a c= X by A14,A26,XBOOLE_1:27;
hence thesis by A11,XBOOLE_1:1;
end;
Y c= (the topology of R)
proof
let c being set;
A30: BST c= (the topology of R) by TOPS_2:64;
assume c in Y;
then consider U1 being (Subset of S1),U2 being (Subset of S2),V1 being (Subset of T1),V2 being (Subset of T2) such that A31: c = ( [: U1,V1 :] /\ [: U2,V2 :] ) and A32: U1 is  open and A33: U2 is  open and A34: V1 is  open and A35: V2 is  open;
[: U2,V2 :] is  open by A33,A35,BORSUK_1:6;
then A36: [: U2,V2 :] in (the topology of [: S2,T2 :]) by PRE_TOPC:def 2;
[: U1,V1 :] is  open by A32,A34,BORSUK_1:6;
then [: U1,V1 :] in (the topology of [: S1,T1 :]) by PRE_TOPC:def 2;
then c in BST by A31,A36,SETFAM_1:def 5;
hence thesis by A30;
end;
hence thesis by A7,YELLOW_9:32;
end;
