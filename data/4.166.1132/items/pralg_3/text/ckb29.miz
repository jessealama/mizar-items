environ
vocabularies XBOOLE_0,PBOOLE,STRUCT_0,MSUALG_1,SUBSET_1,PRALG_2,EQREL_1,FUNCT_1,CARD_3,RELAT_1,SETFAM_1,RLVECT_2,FUNCT_6,TARSKI,FUNCT_2,MARGREL1,UNIALG_2,FUNCT_5,FUNCOP_1,FINSEQ_4,FINSEQ_1,CARD_1,PARTFUN1,MSUALG_3,MEMBER_1,ARYTM_3,WELLORD1,PRALG_3;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,STRUCT_0,FUNCT_2,FUNCOP_1,EQREL_1,FINSEQ_1,FUNCT_5,FUNCT_6,CARD_3,NUMBERS,PBOOLE,MSUALG_1,MSUALG_3,PRALG_2,PRALG_1,MSUALG_2,CKB8,CKB28;
definitions XBOOLE_0,FUNCT_1,MSUALG_3,PRALG_2,PBOOLE,TARSKI,CKB8,CKB28;
theorems PBOOLE,FUNCT_1,EQREL_1,PRALG_2,MSUALG_1,MSUALG_3,FUNCT_2,CARD_3,TARSKI,FUNCOP_1,MSUALG_2,PRALG_1,FINSEQ_1,FUNCT_6,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28;
schemes PBOOLE,MSSUBFAM;
registrations XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCOP_1,EQREL_1,PBOOLE,STRUCT_0,MSUALG_1,PRALG_2,MSUALG_3,ORDINAL1,CARD_3,RELSET_1,FINSEQ_1,CKB1,CKB2,CKB13;
constructors SETFAM_1,EQREL_1,PRALG_1,PRALG_2,MSUALG_3,RELSET_1,FUNCT_5,CKB8,CKB28;
requirements BOOLE,SUBSET;
begin
reserve I for non  empty set;
reserve S for non  void non  empty ManySortedSign;
reserve i for (Element of I);
reserve A for (MSAlgebra-Family of I,S);
reserve o for (OperSymbol of S);
theorem
Th24: (for x being (Element of ( Args (o,( product A )) )) holds (( the_arity_of o ) <> ( {} ) implies (for i being (Element of I) holds ( ( proj (A,i) ) # x ) = ( ( commute x ) . i ))))
proof
let x being (Element of ( Args (o,( product A )) ));
assume that
A1: ( the_arity_of o ) <> ( {} );
set C = ( union { ( (the Sorts of ( A . i9 )) . s9 ) where i9 is (Element of I),s9 is (Element of (the carrier of S)): (not contradiction) } );
let i being (Element of I);
A2: x in ( Funcs (( dom ( the_arity_of o ) ),( Funcs (I,C) )) ) by CKB19:1;
then A3: ( commute x ) in ( Funcs (I,( Funcs (( dom ( the_arity_of o ) ),C) )) ) by A1,FUNCT_6:55;
then ( dom ( commute x ) ) = I by FUNCT_2:92;
then A4: ( ( commute x ) . i ) in ( rng ( commute x ) ) by FUNCT_1:def 3;
A5:now
A6: ( rng x ) c= ( Funcs (I,C) ) by A2,FUNCT_2:92;
let n being set;
assume that
A7: n in ( dom ( the_arity_of o ) );
( x . n ) in ( product ( Carrier (A,( ( the_arity_of o ) /. n )) ) ) by A7,CKB20:1;
then A8: ( x . n ) in ( dom ( proj (( Carrier (A,( ( the_arity_of o ) /. n )) ),i) ) ) by CARD_3:def 16;
n in ( dom x ) by A2,A7,FUNCT_2:92;
then ( x . n ) in ( rng x ) by FUNCT_1:def 3;
then consider g being Function such that A9: g = ( x . n ) and ( dom g ) = I and ( rng g ) c= C by A6,FUNCT_2:def 2;
thus ( ( ( proj (A,i) ) # x ) . n ) = ( ( ( proj (A,i) ) . ( ( the_arity_of o ) /. n ) ) . ( x . n ) ) by A7,CKB18:1
.= ( ( proj (( Carrier (A,( ( the_arity_of o ) /. n )) ),i) ) . ( x . n ) ) by CKB28:def 1
.= ( g . i ) by A9,A8,CARD_3:def 16
.= ( ( ( commute x ) . i ) . n ) by A2,A7,A9,FUNCT_6:56;
end;
A10: x in ( product ( doms ( ( proj (A,i) ) * ( the_arity_of o ) ) ) ) by CKB17:1;
( rng ( commute x ) ) c= ( Funcs (( dom ( the_arity_of o ) ),C) ) by A3,FUNCT_2:92;
then A11: ( dom ( ( commute x ) . i ) ) = ( dom ( the_arity_of o ) ) by A4,FUNCT_2:92;
( dom ( proj (A,i) ) ) = (the carrier of S) by PARTFUN1:def 2;
then A12: ( rng ( the_arity_of o ) ) c= ( dom ( proj (A,i) ) );
( dom ( ( proj (A,i) ) # x ) ) = ( dom ( ( Frege ( ( proj (A,i) ) * ( the_arity_of o ) ) ) . x ) ) by MSUALG_3:def 5
.= ( dom ( ( ( proj (A,i) ) * ( the_arity_of o ) ) .. x ) ) by A10,PRALG_2:def 2
.= ( dom ( ( proj (A,i) ) * ( the_arity_of o ) ) ) by PRALG_1:def 17
.= ( dom ( the_arity_of o ) ) by A12,RELAT_1:27;
hence thesis by A11,A5,FUNCT_1:2;
end;
