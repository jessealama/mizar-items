environ
vocabularies XBOOLE_0,PBOOLE,STRUCT_0,MSUALG_1,SUBSET_1,PRALG_2,EQREL_1,FUNCT_1,CARD_3,RELAT_1,SETFAM_1,RLVECT_2,FUNCT_6,TARSKI,FUNCT_2,MARGREL1,UNIALG_2,FUNCT_5,FUNCOP_1,FINSEQ_4,FINSEQ_1,CARD_1,PARTFUN1,MSUALG_3,MEMBER_1,ARYTM_3,WELLORD1,PRALG_3;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,STRUCT_0,FUNCT_2,FUNCOP_1,EQREL_1,FINSEQ_1,FUNCT_5,FUNCT_6,CARD_3,NUMBERS,PBOOLE,MSUALG_1,MSUALG_3,PRALG_2,PRALG_1,MSUALG_2;
definitions XBOOLE_0,FUNCT_1,MSUALG_3,PRALG_2,PBOOLE,TARSKI;
theorems PBOOLE,FUNCT_1,EQREL_1,PRALG_2,MSUALG_1,MSUALG_3,FUNCT_2,CARD_3,TARSKI,FUNCOP_1,MSUALG_2,PRALG_1,FINSEQ_1,FUNCT_6,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB3,CKB4,CKB5,CKB6;
schemes PBOOLE,MSSUBFAM;
registrations XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCOP_1,EQREL_1,PBOOLE,STRUCT_0,MSUALG_1,PRALG_2,MSUALG_3,ORDINAL1,CARD_3,RELSET_1,FINSEQ_1,CKB1,CKB2;
constructors SETFAM_1,EQREL_1,PRALG_1,PRALG_2,MSUALG_3,RELSET_1,FUNCT_5;
requirements BOOLE,SUBSET;
begin
theorem
(for D being non  empty set holds (for F being (ManySortedFunction of D) holds (for C being  with_common_domain  functional non  empty set holds (C = ( rng F ) implies (for d being (Element of D) holds (for e being set holds (e in ( DOM C ) implies ( ( F . d ) . e ) = ( ( ( commute F ) . e ) . d ))))))))
proof
let D being non  empty set;
let F being (ManySortedFunction of D);
set E = ( union { ( rng ( F . d9 ) ) where d9 is (Element of D): (not contradiction) } );
reconsider F9 = F as Function;
let C being  with_common_domain  functional non  empty set;
assume that
A1: C = ( rng F );
A2: ( rng F9 ) c= ( Funcs (( DOM C ),E) )
proof
let x being set;
assume x in ( rng F9 );
then consider d9 being set such that A3: d9 in ( dom F ) and A4: ( F . d9 ) = x by FUNCT_1:def 3;
reconsider d9 as (Element of D) by A3,PARTFUN1:def 2;
consider Fd being Function such that A5: Fd = ( F . d9 );
A6: ( rng Fd ) c= E
proof
A7: ( rng Fd ) in { ( rng ( F . d99 ) ) where d99 is (Element of D): (not contradiction) } by A5;
let x1 being set;
assume x1 in ( rng Fd );
hence thesis by A7,TARSKI:def 4;
end;
( F . d9 ) in ( rng F ) by A3,FUNCT_1:def 3;
then ( dom Fd ) = ( DOM C ) by A1,A5,CARD_3:def 11;
hence thesis by A4,A5,A6,FUNCT_2:def 2;
end;
let d being (Element of D);
let e being set;
assume A8: e in ( DOM C );
( dom F9 ) = D by PARTFUN1:def 2;
then F in ( Funcs (D,( Funcs (( DOM C ),E) )) ) by A2,FUNCT_2:def 2;
hence thesis by A8,FUNCT_6:56;
end;
