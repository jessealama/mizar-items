environ
vocabularies XBOOLE_0,PBOOLE,STRUCT_0,MSUALG_1,SUBSET_1,PRALG_2,EQREL_1,FUNCT_1,CARD_3,RELAT_1,SETFAM_1,RLVECT_2,FUNCT_6,TARSKI,FUNCT_2,MARGREL1,UNIALG_2,FUNCT_5,FUNCOP_1,FINSEQ_4,FINSEQ_1,CARD_1,PARTFUN1,MSUALG_3,MEMBER_1,ARYTM_3,WELLORD1,PRALG_3;
notations TARSKI,XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,STRUCT_0,FUNCT_2,FUNCOP_1,EQREL_1,FINSEQ_1,FUNCT_5,FUNCT_6,CARD_3,NUMBERS,PBOOLE,MSUALG_1,MSUALG_3,PRALG_2,PRALG_1,MSUALG_2,CKB8;
definitions XBOOLE_0,FUNCT_1,MSUALG_3,PRALG_2,PBOOLE,TARSKI,CKB8;
theorems PBOOLE,FUNCT_1,EQREL_1,PRALG_2,MSUALG_1,MSUALG_3,FUNCT_2,CARD_3,TARSKI,FUNCOP_1,MSUALG_2,PRALG_1,FINSEQ_1,FUNCT_6,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21;
schemes PBOOLE,MSSUBFAM;
registrations XBOOLE_0,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCOP_1,EQREL_1,PBOOLE,STRUCT_0,MSUALG_1,PRALG_2,MSUALG_3,ORDINAL1,CARD_3,RELSET_1,FINSEQ_1,CKB1,CKB2,CKB13;
constructors SETFAM_1,EQREL_1,PRALG_1,PRALG_2,MSUALG_3,RELSET_1,FUNCT_5,CKB8;
requirements BOOLE,SUBSET;
begin
reserve I for non empty set;
reserve S for non void non empty ManySortedSign;
reserve A for (MSAlgebra-Family of I,S);
reserve o for (OperSymbol of S);
theorem
Th18: (for y being (Element of ( Args (o,( product A )) )) holds (( the_arity_of o ) <> ( {} ) implies ( commute y ) in ( product ( doms ( A ?. o ) ) )))
proof
let y being (Element of ( Args (o,( product A )) ));
set D = ( union { ( (the Sorts of ( A . i9 )) . s9 ) where i9 is (Element of I),s9 is (Element of (the carrier of S)): (not contradiction) } );
A1: y in ( Funcs (( dom ( the_arity_of o ) ),( Funcs (I,D) )) ) by CKB19:1;
assume ( the_arity_of o ) <> ( {} );
then ( commute y ) in ( Funcs (I,( Funcs (( dom ( the_arity_of o ) ),D) )) ) by A1,FUNCT_6:55;
then A2: (ex f being Function st ((f = ( commute y ) & ( dom f ) = I) & ( rng f ) c= ( Funcs (( dom ( the_arity_of o ) ),D) ))) by FUNCT_2:def 2;
A3:now
let i1 being set;
assume i1 in ( dom ( doms ( A ?. o ) ) );
then reconsider ii = i1 as (Element of I) by PRALG_2:11;
A4:now
let n being set;
assume A5: n in ( dom ( (the Sorts of ( A . ii )) * ( the_arity_of o ) ) );
then A6: n in ( dom ( the_arity_of o ) ) by PRALG_2:3;
then ( ( the_arity_of o ) . n ) in ( rng ( the_arity_of o ) ) by FUNCT_1:def 3;
then reconsider s1 = ( ( the_arity_of o ) . n ) as (SortSymbol of S);
A7: (ex ff being Function st ((ff = y & ( dom ff ) = ( dom ( the_arity_of o ) )) & ( rng ff ) c= ( Funcs (I,D) ))) by A1,FUNCT_2:def 2;
then n in ( dom y ) by A5,PRALG_2:3;
then ( y . n ) in ( rng y ) by FUNCT_1:def 3;
then consider g being Function such that A8: g = ( y . n ) and ( dom g ) = I and ( rng g ) c= D by A7,FUNCT_2:def 2;
(( ( ( commute y ) . ii ) . n ) = ( g . ii ) & ( g . ii ) in ( (the Sorts of ( A . ii )) . s1 )) by A1,A6,A8,CKB21:1,FUNCT_6:56;
hence ( ( ( commute y ) . ii ) . n ) in ( ( (the Sorts of ( A . ii )) * ( the_arity_of o ) ) . n ) by A5,FUNCT_1:12;
end;
( ( commute y ) . ii ) in ( rng ( commute y ) ) by A2,FUNCT_1:def 3;
then (ex h being Function st ((h = ( ( commute y ) . ii ) & ( dom h ) = ( dom ( the_arity_of o ) )) & ( rng h ) c= D)) by A2,FUNCT_2:def 2;
then ( dom ( ( commute y ) . ii ) ) = ( dom ( (the Sorts of ( A . ii )) * ( the_arity_of o ) ) ) by PRALG_2:3;
then ( ( commute y ) . ii ) in ( product ( (the Sorts of ( A . ii )) * ( the_arity_of o ) ) ) by A4,CARD_3:9;
then ( ( commute y ) . ii ) in ( Args (o,( A . ii )) ) by PRALG_2:3;
hence ( ( commute y ) . i1 ) in ( ( doms ( A ?. o ) ) . i1 ) by PRALG_2:11;
end;
( dom ( commute y ) ) = ( dom ( doms ( A ?. o ) ) ) by A2,PRALG_2:11;
hence thesis by A3,CARD_3:9;
end;
