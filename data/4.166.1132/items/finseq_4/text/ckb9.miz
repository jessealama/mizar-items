environ
vocabularies NUMBERS,FUNCT_1,FINSEQ_1,NAT_1,RELAT_1,FINSET_1,CARD_1,XBOOLE_0,TARSKI,XXREAL_0,SUBSET_1,PARTFUN1,ARYTM_1,ARYTM_3,ORDINAL4,FINSEQ_4,FUNCT_2,EQREL_1,CARD_3,SETFAM_1;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,RELAT_1,CARD_1,SETFAM_1,EQREL_1,NUMBERS,XCMPLX_0,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,NAT_1,FINSEQ_1,FINSEQ_3,XXREAL_0,CKB1,CKB6;
definitions FUNCT_1,TARSKI,XBOOLE_0,FINSEQ_1,CKB1,CKB6;
theorems CARD_1,CARD_2,ENUMSET1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FUNCT_1,FUNCT_2,INT_1,NAT_1,PARTFUN1,TARSKI,WELLORD2,ZFMISC_1,RELAT_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ORDINAL1,GRFUNC_1,EQREL_1,RELSET_1,SETFAM_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8;
schemes FINSEQ_1,FINSET_1,NAT_1,FUNCT_1,FINSEQ_2,FUNCT_2;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FINSET_1,XREAL_0,INT_1,FINSEQ_1,ORDINAL1,CARD_1,RELSET_1,SUBSET_1,EQREL_1,NAT_1,PARTFUN1,FUNCT_2,XXREAL_0,MEMBERED;
constructors ENUMSET1,WELLORD2,FUNCT_2,XXREAL_0,REAL_1,PARTFUN1,NAT_1,INT_1,FINSEQ_3,RELSET_1,EQREL_1,SETFAM_1,CKB1,CKB6;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve f for Function;
reserve x for set;
reserve x1 for set;
reserve y for set;
reserve z for set;
theorem
Th9: (f just_once_values y iff (ex x st ((x in ( dom f ) & y = ( f . x )) & (for z holds ((z in ( dom f ) & z <> x) implies ( f . z ) <> y)))))
proof
thus (f just_once_values y implies (ex x st ((x in ( dom f ) & y = ( f . x )) & (for z holds ((z in ( dom f ) & z <> x) implies ( f . z ) <> y)))))
proof
assume A1: f just_once_values y;
then A2: (ex B being  finite set st (B = ( f " { y } ) & ( card B ) = 1)) by CKB6:def 1;
y in ( rng f ) by A1,CKB7:1;
then consider x1 such that A3: x1 in ( dom f ) and A4: ( f . x1 ) = y by FUNCT_1:def 3;
( f . x1 ) in { y } by A4,TARSKI:def 1;
then A5: x1 in ( f " { y } ) by A3,FUNCT_1:def 7;
take x1;
thus (x1 in ( dom f ) & y = ( f . x1 )) by A3,A4;
let z;
assume that
A6: z in ( dom f )
and
A7: z <> x1
and
A8: ( f . z ) = y;
( f . z ) in { y } by A8,TARSKI:def 1;
then z in ( f " { y } ) by A6,FUNCT_1:def 7;
then { z,x1 } c= ( f " { y } ) by A5,ZFMISC_1:32;
then ( card { z,x1 } ) <= 1 by A2,NAT_1:43;
then 2 <= 1 by A7,CARD_2:57;
hence thesis;
end;

given x such that
A9: x in ( dom f )
and
A10: y = ( f . x )
and
A11: (for z holds ((z in ( dom f ) & z <> x) implies ( f . z ) <> y));

A12: { x } = ( f " { y } )
proof
thus { x } c= ( f " { y } )
proof
let x1;
assume x1 in { x };
then A13: x1 = x by TARSKI:def 1;
( f . x ) in { y } by A10,TARSKI:def 1;
hence thesis by A9,A13,FUNCT_1:def 7;
end;

let x1;
assume A14: x1 in ( f " { y } );
then ( f . x1 ) in { y } by FUNCT_1:def 7;
then A15: ( f . x1 ) = y by TARSKI:def 1;
x1 in ( dom f ) by A14,FUNCT_1:def 7;
then x1 = x by A11,A15;
hence thesis by TARSKI:def 1;
end;
then reconsider B = ( f " { y } ) as  finite set;
( card B ) = 1 by A12,CARD_1:30;
hence thesis by CKB6:def 1;
end;
