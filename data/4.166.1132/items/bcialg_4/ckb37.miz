environ
vocabularies BCIALG_1,STRUCT_0,BINOP_1,SUBSET_1,XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_5,ZFMISC_1,NUMBERS,FINSEQ_1,XXREAL_0,SUPINF_2,VECTSP_1,ALGSTR_0,RLVECT_1,ARYTM_3,SETWISEO,GROUP_1,CARD_1,NAT_1,NEWTON,POWER,FINSOP_1,ORDINAL4,BCIALG_2,TARSKI,FILTER_0,BCIALG_4;
notations TARSKI,ZFMISC_1,XBOOLE_0,SUBSET_1,BINOP_1,FUNCT_5,CARD_1,STRUCT_0,ALGSTR_0,BCIALG_1,RELAT_1,NUMBERS,XXREAL_0,FINSEQ_1,FINSOP_1,SETWISEO,FUNCT_1,FUNCT_2,FINSEQ_4,RLVECT_1,NAT_1,BCIALG_2,VECTSP_1,CKB1,CKB3,CKB4,CKB5,CKB10,CKB11,CKB18;
definitions STRUCT_0,BINOP_1,BCIALG_1,FINSEQ_1,RLVECT_1,ALGSTR_0,CKB3,CKB4,CKB5,CKB11,CKB18;
theorems TARSKI,STRUCT_0,BCIALG_1,FINSEQ_1,FINSOP_1,SETWISEO,NAT_1,BINOP_1,BCIALG_2,CARD_1,CKB3,CKB4,CKB5,CKB7,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB34,CKB35,CKB36;
schemes BINOP_1,NAT_1,CLASSES1;
registrations BCIALG_1,RELAT_1,STRUCT_0,ORDINAL1,XXREAL_0,VECTSP_1,BCIALG_2,ZFMISC_1,CARD_1,CKB1,CKB2,CKB6,CKB8,CKB9,CKB33;
constructors BINOP_1,VECTSP_2,FINSOP_1,SETWISEO,XXREAL_0,FINSEQ_4,BCIALG_2,FUNCT_5,SEQ_1,CKB1,CKB3,CKB4,CKB5,CKB11,CKB18;
requirements SUBSET,BOOLE,NUMERALS,ARITHM;
begin
reserve n for (Element of ( NAT ));
definition
let X being BCI-Algebra_with_Condition(S);
func power X -> (Function of [: (the carrier of X),( NAT ) :],(the carrier of X))
means
:Def6: (for h being (Element of X) holds (( it . (h,( 0 )) ) = ( 0. X ) & (for n holds ( it . (h,( n + 1 )) ) = ( ( it . (h,n) ) * h ))));
existence
proof
defpred P[ set,set ]
 means
(ex g0 being (Function of ( NAT ),(the carrier of X)) st (ex h being (Element of X) st ((($1 = h & g0 = $2) & ( g0 . ( 0 ) ) = ( 0. X )) & (for n holds ( g0 . ( n + 1 ) ) = ( ( g0 . n ) * h )))));
A1: (for x being set holds (x in (the carrier of X) implies (ex y being set st P[ x,y ])))
proof
let x being set;
assume x in (the carrier of X);
then reconsider b = x as (Element of X);
deffunc F(Nat,(Element of X)) = ( $2 * b );
consider g0 being (Function of ( NAT ),(the carrier of X)) such that A2: ( g0 . ( 0 ) ) = ( 0. X ) and A3: (for n being Nat holds ( g0 . ( n + 1 ) ) = F(n,( g0 . n ))) from NAT_1:sch 12;
reconsider y = g0 as set;
take y;
take g0;
take b;
thus ((x = b & g0 = y) & ( g0 . ( 0 ) ) = ( 0. X )) by A2;
let n;
thus thesis by A3;
end;
consider f being Function such that ( dom f ) = (the carrier of X) and A4: (for x being set holds (x in (the carrier of X) implies P[ x,( f . x ) ])) from CLASSES1:sch 1(A1);
defpred P[ (Element of X),(Element of ( NAT )),set ]
 means
(ex g0 being (Function of ( NAT ),(the carrier of X)) st (g0 = ( f . $1 ) & $3 = ( g0 . $2 )));
A5: (for a being (Element of X) holds (for n being (Element of ( NAT )) holds (ex b being (Element of X) st P[ a,n,b ])))
proof
let a being (Element of X);
let n being (Element of ( NAT ));
consider g0 being (Function of ( NAT ),(the carrier of X)),h being (Element of X) such that a = h and A6: g0 = ( f . a ) and ( g0 . ( 0 ) ) = ( 0. X ) and (for n holds ( g0 . ( n + 1 ) ) = ( ( g0 . n ) * h )) by A4;
take ( g0 . n );
take g0;
thus thesis by A6;
end;
consider F being (Function of [: (the carrier of X),( NAT ) :],(the carrier of X)) such that A7: (for a being (Element of X) holds (for n being (Element of ( NAT )) holds P[ a,n,( F . (a,n) ) ])) from BINOP_1:sch 3(A5);
take F;
let h being (Element of X);
A8: (ex g2 being (Function of ( NAT ),(the carrier of X)) st (ex b being (Element of X) st (((h = b & g2 = ( f . h )) & ( g2 . ( 0 ) ) = ( 0. X )) & (for n holds ( g2 . ( n + 1 ) ) = ( ( g2 . n ) * b ))))) by A4;
(ex g1 being (Function of ( NAT ),(the carrier of X)) st (g1 = ( f . h ) & ( F . (h,( 0 )) ) = ( g1 . ( 0 ) ))) by A7;
hence ( F . (h,( 0 )) ) = ( 0. X ) by A8;
let n;
A9: (ex g2 being (Function of ( NAT ),(the carrier of X)) st (ex b being (Element of X) st (((h = b & g2 = ( f . h )) & ( g2 . ( 0 ) ) = ( 0. X )) & (for n holds ( g2 . ( n + 1 ) ) = ( ( g2 . n ) * b ))))) by A4;
((ex g0 being (Function of ( NAT ),(the carrier of X)) st (g0 = ( f . h ) & ( F . (h,n) ) = ( g0 . n ))) & (ex g1 being (Function of ( NAT ),(the carrier of X)) st (g1 = ( f . h ) & ( F . (h,( n + 1 )) ) = ( g1 . ( n + 1 ) )))) by A7;
hence thesis by A9;
end;
uniqueness
proof
let f being (Function of [: (the carrier of X),( NAT ) :],(the carrier of X)),g being (Function of [: (the carrier of X),( NAT ) :],(the carrier of X));
assume that
A10: (for h being (Element of X) holds (( f . (h,( 0 )) ) = ( 0. X ) & (for n holds ( f . (h,( n + 1 )) ) = ( ( f . (h,n) ) * h ))))
and
A11: (for h being (Element of X) holds (( g . (h,( 0 )) ) = ( 0. X ) & (for n holds ( g . (h,( n + 1 )) ) = ( ( g . (h,n) ) * h ))));
now
let h being (Element of X);
let n being (Element of ( NAT ));
defpred P[ (Element of ( NAT )) ]
 means
( f . [ h,$1 ] ) = ( g . [ h,$1 ] );
A12:now
let n;
assume A13: P[ n ];
A14: ( g . [ h,n ] ) = ( g . (h,n) );
( f . [ h,( n + 1 ) ] ) = ( f . (h,( n + 1 )) )
.= ( ( f . (h,n) ) * h ) by A10
.= ( g . (h,( n + 1 )) ) by A11,A13,A14
.= ( g . [ h,( n + 1 ) ] );
hence P[ ( n + 1 ) ];
end;
( f . [ h,( 0 ) ] ) = ( f . (h,( 0 )) )
.= ( 0. X ) by A10
.= ( g . (h,( 0 )) ) by A11
.= ( g . [ h,( 0 ) ] );
then A15: P[ ( 0 ) ];
(for n holds P[ n ]) from NAT_1:sch 1(A15,A12);
hence ( f . (h,n) ) = ( g . (h,n) );
end;
hence thesis by BINOP_1:2;
end;
end;
