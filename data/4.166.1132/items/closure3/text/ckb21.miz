environ
vocabularies XBOOLE_0,STRUCT_0,PBOOLE,FUNCT_4,RELAT_1,CLOSURE2,SETFAM_1,MSUALG_1,TARSKI,MSUALG_2,UNIALG_2,MSSUBFAM,FUNCT_1,MARGREL1,SUBSET_1,FINSET_1,FUNCOP_1,WAYBEL_8,RELAT_2,MSAFREE2,BINOP_1,ZFMISC_1,CARD_3,FUNCT_2,CLOSURE3;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,FUNCT_1,STRUCT_0,PARTFUN1,FUNCT_2,FINSET_1,FUNCT_4,FUNCOP_1,PBOOLE,FINSEQ_2,MSUALG_1,MSUALG_2,CARD_3,CLOSURE2,MSSUBFAM,MBOOLEAN,CKB6,CKB11,CKB14,CKB17,CKB20;
definitions XBOOLE_0,TARSKI,PBOOLE,CLOSURE2,MSUALG_2,SETFAM_1,CKB6,CKB11,CKB20;
theorems FUNCT_4,FUNCT_1,TARSKI,PBOOLE,MSUALG_1,MBOOLEAN,FUNCOP_1,MSUALG_2,CLOSURE2,ZFMISC_1,RELAT_1,CARD_3,MSSUBFAM,FUNCT_2,XBOOLE_0,XBOOLE_1,SETFAM_1,PARTFUN1,FINSET_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB13,CKB15,CKB16,CKB18,CKB19,CKB20;
schemes CLASSES1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,FUNCT_2,FINSET_1,PBOOLE,STRUCT_0,MSUALG_1,CLOSURE2,CKB1,CKB12;
constructors SETFAM_1,FUNCT_4,MSSUBFAM,MSUALG_2,PRALG_2,CLOSURE2,RELSET_1,FINSEQ_2,CKB6,CKB11,CKB14,CKB17,CKB20;
requirements SUBSET,BOOLE;
begin
registration
let I being non empty set;
let M being (ManySortedSet of I);
cluster  algebraic  reflexive  monotonic  idempotent for (SetOp of M);
existence
proof
reconsider f = ( id ( Bool M ) ) as (SetOp of M);
take f;
thus f is  algebraic
proof
let x being (Element of ( Bool M ));
assume that
x = ( f . x );
set A = { ( f . a ) where a is (Element of ( Bool M )): ((a is  finite-yielding & ( supp a ) is  finite) & a c= x) };
A c= ( Bool M )
proof
let v being set;
assume v in A;
then (ex a being (Element of ( Bool M )) st (((v = ( f . a ) & a is  finite-yielding) & ( supp a ) is  finite) & a c= x));
hence thesis;
end;
then reconsider A as (SubsetFamily of M);
take A;
thus A = { ( f . a ) where a is (Element of ( Bool M )): ((a is  finite-yielding & ( supp a ) is  finite) & a c= x) };
thus x c= ( MSUnion A )
proof
let i being set;
assume that
A1: i in I;
let y being set;
assume y in ( x . i );
then consider a being (Element of ( Bool M )) such that A2: y in ( a . i ) and A3: ((a is  finite-yielding & ( supp a ) is  finite) & a c= x) by A1,CKB10:1;
a = ( f . a ) by FUNCT_1:18;
then a in A by A3;
then ( a . i ) in { ( g . i ) where g is (Element of ( Bool M )): g in A };
then y in ( union { ( g . i ) where g is (Element of ( Bool M )): g in A } ) by A2,TARSKI:def 4;
hence thesis by A1,CKB11:def 1;
end;

thus ( MSUnion A ) c= x
proof
let i being set;
assume that
A4: i in I;
(for v being set holds (v in ( ( MSUnion A ) . i ) implies v in ( x . i )))
proof
let v being set;
assume v in ( ( MSUnion A ) . i );
then v in ( union { ( ff . i ) where ff is (Element of ( Bool M )): ff in A } ) by A4,CKB11:def 1;
then consider Y being set such that A5: v in Y and A6: Y in { ( ff . i ) where ff is (Element of ( Bool M )): ff in A } by TARSKI:def 4;
consider ff being (Element of ( Bool M )) such that A7: Y = ( ff . i ) and A8: ff in A by A6;
consider a being (Element of ( Bool M )) such that A9: ff = ( f . a ) and a is  finite-yielding and ( supp a ) is  finite and A10: a c= x by A8;
ff = a by A9,FUNCT_1:18;
then ( ff . i ) c= ( x . i ) by A4,A10,PBOOLE:def 2;
hence thesis by A5,A7;
end;
hence thesis by TARSKI:def 3;
end;

end;

thus f is  reflexive
proof
let X being (Element of ( Bool M ));
thus thesis by FUNCT_1:18;
end;

thus f is  monotonic
proof
let X being (Element of ( Bool M )),Y being (Element of ( Bool M ));
assume that
A11: X c= Y;
( f . X ) = X by FUNCT_1:18;
hence thesis by A11,FUNCT_1:18;
end;

thus f is  idempotent
proof
let X being (Element of ( Bool M ));
thus ( f . ( f . X ) ) = ( f . X ) by FUNCT_1:18;
end;

end;
end;
