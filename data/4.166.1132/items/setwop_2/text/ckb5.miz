environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,FINSUB_1,BINOP_1,FUNCT_1,NAT_1,FINSEQ_1,FINSEQ_2,ARYTM_3,XXREAL_0,SETWISEO,TARSKI,RELAT_1,FINSEQOP,FUNCOP_1,FUNCT_4,ORDINAL4,FINSOP_1,CARD_1,SETWOP_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,RELAT_1,RELSET_1,FUNCT_1,FINSEQ_1,FINSUB_1,PARTFUN1,FUNCT_2,BINOP_1,FUNCOP_1,SETWISEO,FINSEQ_2,FINSEQOP,FINSOP_1,XXREAL_0;
definitions BINOP_1,XBOOLE_0,RELAT_1;
theorems TARSKI,ENUMSET1,ZFMISC_1,NAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,FINSEQ_1,FINSUB_1,BINOP_1,SETWISEO,FINSEQ_2,WELLORD2,CARD_1,FINSEQOP,RELAT_1,FUNCT_4,FINSOP_1,XBOOLE_0,XBOOLE_1,XREAL_1,ORDINAL1,CKB1,CKB2,CKB3,CKB4;
schemes NAT_1,SETWISEO,FINSEQ_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSUB_1,XREAL_0,FINSEQ_1,FINSEQ_2,NAT_1,CARD_1;
constructors PARTFUN1,WELLORD2,BINOP_1,SETWISEO,XXREAL_0,XREAL_0,NAT_1,FINSEQOP,FINSOP_1,RELSET_1;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve C for non  empty set;
reserve D for non  empty set;
reserve c for (Element of C);
reserve B for (Element of ( Fin C ));
reserve B1 for (Element of ( Fin C ));
reserve B2 for (Element of ( Fin C ));
reserve F for (BinOp of D);
reserve f for (Function of C,D);
theorem
(((F is  commutative  associative & ((B1 <> ( {} ) & B2 <> ( {} )) or F is  having_a_unity)) & B1 misses B2) implies ( F $$ (( B1 \/ B2 ),f) ) = ( F . (( F $$ (B1,f) ),( F $$ (B2,f) )) ))
proof
assume that
A1: F is  commutative  associative
and
A2: ((B1 <> ( {} ) & B2 <> ( {} )) or F is  having_a_unity)
and
A3: ( B1 /\ B2 ) = ( {} );
now
per cases ;
suppose A4: (B1 = ( {} ) or B2 = ( {} ));

now
per cases  by A4;
suppose A5: B1 = ( {} );

hence ( F $$ (( B1 \/ B2 ),f) ) = ( F . (( the_unity_wrt F ),( F $$ (B2,f) )) ) by A2,SETWISEO:15
.= ( F . (( F $$ (( {}. C ),f) ),( F $$ (B2,f) )) ) by A1,A2,A4,SETWISEO:31
.= ( F . (( F $$ (B1,f) ),( F $$ (B2,f) )) ) by A5;
end;
suppose A6: B2 = ( {} );

hence ( F $$ (( B1 \/ B2 ),f) ) = ( F . (( F $$ (B1,f) ),( the_unity_wrt F )) ) by A2,SETWISEO:15
.= ( F . (( F $$ (B1,f) ),( F $$ (( {}. C ),f) )) ) by A1,A2,A4,SETWISEO:31
.= ( F . (( F $$ (B1,f) ),( F $$ (B2,f) )) ) by A6;
end;
end;
hence thesis;
end;
suppose A7: (B1 <> ( {} ) & B2 <> ( {} ));

defpred X[ (Element of ( Fin C )) ]
 means
(($1 <> ( {} ) & ( B1 /\ $1 ) = ( {} )) implies ( F $$ (( B1 \/ $1 ),f) ) = ( F . (( F $$ (B1,f) ),( F $$ ($1,f) )) ));
A8: (for B9 being (Element of ( Fin C )) holds (for b being (Element of C) holds ((X[ B9 ] & (not b in B9)) implies X[ ( B9 \/ {. b .} ) ])))
proof
let B;
let c;
assume that
A9: ((B <> ( {} ) & ( B1 /\ B ) = ( {} )) implies ( F $$ (( B1 \/ B ),f) ) = ( F . (( F $$ (B1,f) ),( F $$ (B,f) )) ))
and
A10: (not c in B)
and
( B \/ { c } ) <> ( {} );
assume A11: ( B1 /\ ( B \/ { c } ) ) = ( {} );
then A12: B1 misses ( B \/ { c } ) by XBOOLE_0:def 7;
c in ( B \/ { c } ) by SETWISEO:4;
then A13: (not c in B1) by A11,XBOOLE_0:def 4;
A14: ((B <> ( {} ) & B1 misses B) implies ( F $$ (( B1 \/ B ),f) ) = ( F . (( F $$ (B1,f) ),( F $$ (B,f) )) )) by A9,XBOOLE_0:def 7;
now
per cases ;
suppose A15: B = ( {} );

hence ( F $$ (( B1 \/ ( B \/ {. c .} ) ),f) ) = ( F . (( F $$ (B1,f) ),( f . c )) ) by A1,A7,A13,CKB3:1
.= ( F . (( F $$ (B1,f) ),( F $$ (( B \/ {. c .} ),f) )) ) by A1,A15,SETWISEO:17;
end;
suppose A16: B <> ( {} );

A17: (not c in ( B1 \/ B )) by A10,A13,XBOOLE_0:def 3;
thus ( F $$ (( B1 \/ ( B \/ {. c .} ) ),f) ) = ( F $$ (( ( B1 \/ B ) \/ {. c .} ),f) ) by XBOOLE_1:4
.= ( F . (( F . (( F $$ (B1,f) ),( F $$ (B,f) )) ),( f . c )) ) by A1,A14,A12,A16,A17,CKB3:1,XBOOLE_1:7,XBOOLE_1:63
.= ( F . (( F $$ (B1,f) ),( F . (( F $$ (B,f) ),( f . c )) )) ) by A1,BINOP_1:def 3
.= ( F . (( F $$ (B1,f) ),( F $$ (( B \/ {. c .} ),f) )) ) by A1,A10,A16,CKB3:1;
end;
end;
hence thesis;
end;
A18: X[ ( {}. C ) ];
(for B2 holds X[ B2 ]) from SETWISEO:sch 2(A18,A8);
hence thesis by A3,A7;
end;
end;
hence thesis;
end;
