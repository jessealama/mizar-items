environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,FINSUB_1,BINOP_1,FUNCT_1,NAT_1,FINSEQ_1,FINSEQ_2,ARYTM_3,XXREAL_0,SETWISEO,TARSKI,RELAT_1,FINSEQOP,FUNCOP_1,FUNCT_4,ORDINAL4,FINSOP_1,CARD_1,SETWOP_2;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,RELAT_1,RELSET_1,FUNCT_1,FINSEQ_1,FINSUB_1,PARTFUN1,FUNCT_2,BINOP_1,FUNCOP_1,SETWISEO,FINSEQ_2,FINSEQOP,FINSOP_1,XXREAL_0,CKB22;
definitions BINOP_1,XBOOLE_0,RELAT_1,CKB22;
theorems TARSKI,ENUMSET1,ZFMISC_1,NAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,FINSEQ_1,FINSUB_1,BINOP_1,SETWISEO,FINSEQ_2,WELLORD2,CARD_1,FINSEQOP,RELAT_1,FUNCT_4,FINSOP_1,XBOOLE_0,XBOOLE_1,XREAL_1,ORDINAL1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24;
schemes NAT_1,SETWISEO,FINSEQ_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSUB_1,XREAL_0,FINSEQ_1,FINSEQ_2,NAT_1,CARD_1;
constructors PARTFUN1,WELLORD2,BINOP_1,SETWISEO,XXREAL_0,XREAL_0,NAT_1,FINSEQOP,FINSOP_1,RELSET_1,CKB22;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve D for non  empty set;
reserve d for (Element of D);
reserve p for (FinSequence of D);
reserve q for (FinSequence of D);
theorem
( ( [#] (( p ^ q ),d) ) | ( dom p ) ) = p
proof
set k = ( len p );
set f = ( [#] (( p ^ q ),d) );
( Seg k ) c= ( NAT );
then ( Seg k ) c= ( dom f ) by FUNCT_2:def 1;
then A1: ( dom ( f | ( Seg k ) ) ) = ( Seg k ) by RELAT_1:62;
A2: ( dom p ) = ( Seg k ) by FINSEQ_1:def 3;
now
let x;
k <= ( k + ( len q ) ) by NAT_1:12;
then k <= ( len ( p ^ q ) ) by FINSEQ_1:22;
then A3: (( Seg ( len ( p ^ q ) ) ) = ( dom ( p ^ q ) ) & ( Seg k ) c= ( Seg ( len ( p ^ q ) ) )) by FINSEQ_1:5,FINSEQ_1:def 3;
assume A4: x in ( Seg k );
then ( ( f | ( Seg k ) ) . x ) = ( f . x ) by A1,FUNCT_1:47;
hence ( ( f | ( Seg k ) ) . x ) = ( ( p ^ q ) . x ) by A4,A3,CKB23:1
.= ( p . x ) by A2,A4,FINSEQ_1:def 7;
end;
hence thesis by A1,A2,FUNCT_1:2;
end;
