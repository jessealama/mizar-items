environ
vocabularies NUMBERS,SUBSET_1,ORDINAL1,CARD_1,FUNCT_1,ORDINAL2,TARSKI,CARD_3,RELAT_1,FINSET_1,XBOOLE_0,ARYTM_3,WELLORD1,WELLORD2,ORDINAL4,CARD_2,ORDINAL3,ZFMISC_1,FUNCT_2,FUNCOP_1,MCART_1,CARD_5,MEMBERED;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,NAT_1,MEMBERED,RELAT_1,FUNCT_1,FINSET_1,ORDINAL1,FUNCT_2,WELLORD1,WELLORD2,MCART_1,FUNCOP_1,ORDINAL2,ORDINAL3,CARD_2,CARD_3,ORDINAL4;
definitions TARSKI,FUNCT_1,ORDINAL2,CARD_1,CARD_3,XBOOLE_0;
theorems TARSKI,FUNCT_1,FUNCT_2,FUNCOP_1,NAT_1,FINSET_1,MCART_1,ORDINAL1,ORDINAL2,ORDINAL3,ORDINAL4,WELLORD1,WELLORD2,CARD_1,CARD_2,CARD_3,CARD_4,ZFMISC_1,FUNCT_4,FUNCT_5,RELAT_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes FUNCT_1,ORDINAL1,PARTFUN1,CARD_1,CARD_3,ORDINAL2,CLASSES1,XBOOLE_0,CARD_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,FUNCOP_1,ORDINAL2,ORDINAL3,NAT_1,CARD_1,CARD_3,ORDINAL4,WELLORD2,MEMBERED,ORDERS_1,FINSET_1,CARD_2,CKB7;
constructors WELLORD1,WELLORD2,FUNCOP_1,ORDINAL3,XXREAL_0,NAT_1,FINSEQ_1,CARD_2,CARD_3,ORDINAL4,RELSET_1,MEMBERED,ORDERS_1,XREAL_0;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve A for Ordinal;
reserve B for Ordinal;
reserve X for set;
reserve x for set;
reserve y for set;
reserve z for set;
reserve f for Function;
reserve g for Function;
reserve M for Cardinal;
reserve phi for Ordinal-Sequence;
theorem
(X <> ( {} ) implies ( card { Y where Y is (Subset of X): ( card Y ) in M } ) c= ( M *` ( exp (( card X ),M) ) ))
proof
set Z = { Y where Y is (Subset of X): ( card Y ) in M };
X,( card X ) are_equipotent  by CARD_1:def 2;
then consider f such that A1: f is  one-to-one and A2: ( dom f ) = X and A3: ( rng f ) = ( card X ) by WELLORD2:def 4;
defpred P[ set,set ]
 means
(ex A being Ordinal st (ex phi being Ordinal-Sequence st (((($2 = [ A,phi ] & ( dom phi ) = M) & ( phi | A ) is  increasing) & ( rng ( phi | A ) ) = ( f .: $1 )) & (for B holds ((A c= B & B in M) implies ( phi . B ) = ( {} ))))));
A4: (for x holds (x in Z implies (ex y st P[ x,y ])))
proof
deffunc f(set) = ( {} );
let x;
set A = ( order_type_of ( RelIncl ( f .: x ) ) );
consider xi2 being Ordinal-Sequence such that A5: (( dom xi2 ) = ( M -^ A ) & (for B holds (B in ( M -^ A ) implies ( xi2 . B ) = f(B)))) from ORDINAL2:sch 3;
assume x in Z;
then A6: (ex Y being (Subset of X) st (x = Y & ( card Y ) in M));
consider xi1 being Ordinal-Sequence such that xi1 = ( canonical_isomorphism_of (( RelIncl A ),( RelIncl ( f .: x ) )) ) and A7: xi1 is  increasing and A8: ( dom xi1 ) = A and A9: ( rng xi1 ) = ( f .: x ) by A3,CKB8:1,RELAT_1:111;
set phi = ( xi1 ^ xi2 );
take y = [ A,phi ];
take A;
take phi;
( card ( f .: x ) ) = ( card A ) by A3,CKB10:1,RELAT_1:111;
then ( card A ) in M by A6,CARD_1:67,ORDINAL1:12;
then A in M by CARD_3:44;
then A c= M by ORDINAL1:def 2;
then ( A +^ ( M -^ A ) ) = M by ORDINAL3:def 5;
hence (((y = [ A,phi ] & ( dom phi ) = M) & ( phi | A ) is  increasing) & ( rng ( phi | A ) ) = ( f .: x )) by A7,A8,A9,A5,CKB16:1,ORDINAL4:def 1;
let B;
assume that
A10: A c= B
and
A11: B in M;
A12: ( B -^ A ) in ( M -^ A ) by A10,A11,ORDINAL3:53;
B = ( A +^ ( B -^ A ) ) by A10,ORDINAL3:def 5;
then ( phi . B ) = ( xi2 . ( B -^ A ) ) by A8,A5,A12,ORDINAL4:def 1;
hence thesis by A5,A12;
end;
consider g such that A13: (( dom g ) = Z & (for x holds (x in Z implies P[ x,( g . x ) ]))) from CLASSES1:sch 1(A4);
assume A14: X <> ( {} );
( rng g ) c= [: M,( Funcs (M,( card X )) ) :]
proof
let x;
assume x in ( rng g );
then consider y such that A15: y in ( dom g ) and A16: x = ( g . y ) by FUNCT_1:def 3;
consider A,phi such that A17: x = [ A,phi ] and A18: ( dom phi ) = M and A19: ( phi | A ) is  increasing and A20: ( rng ( phi | A ) ) = ( f .: y ) and A21: (for B holds ((A c= B & B in M) implies ( phi . B ) = ( {} ))) by A13,A15,A16;
A22: (ex Y being (Subset of X) st (y = Y & ( card Y ) in M)) by A13,A15;
( rng phi ) c= ( card X )
proof
let x;
assume x in ( rng phi );
then consider z such that A23: z in ( dom phi ) and A24: x = ( phi . z ) by FUNCT_1:def 3;
reconsider z as Ordinal by A23;
(z in A or A c= z) by ORDINAL1:16;
then ((x in ( f .: y ) & ( f .: y ) c= ( card X )) or x = ( {} )) by A3,A18,A20,A21,A23,A24,FUNCT_1:50,RELAT_1:111;
hence thesis by A14,ORDINAL3:8;
end;
then A25: phi in ( Funcs (M,( card X )) ) by A18,FUNCT_2:def 2;
A26: (A c= M or M c= A);
( phi | A ) is  one-to-one by A19,CKB15:1;
then ( dom ( phi | A ) ),( f .: y ) are_equipotent  by A20,WELLORD2:def 4;
then ( card ( dom ( phi | A ) ) ) = ( card ( f .: y ) ) by CARD_1:5;
then ( card ( dom ( phi | A ) ) ) in M by A22,CARD_1:67,ORDINAL1:12;
then A27: ( dom ( phi | A ) ) in M by CARD_3:44;
then ( dom ( phi | A ) ) <> M;
then A in M by A18,A27,A26,RELAT_1:62,RELAT_1:68;
hence thesis by A17,A25,ZFMISC_1:87;
end;
then A28: ( card ( rng g ) ) c= ( card [: M,( Funcs (M,( card X )) ) :] ) by CARD_1:11;
g is  one-to-one
proof
let x;
let y;
assume that
A29: x in ( dom g )
and
A30: y in ( dom g )
and
A31: ( g . x ) = ( g . y );
consider A2 being Ordinal,phi2 being Ordinal-Sequence such that A32: ( g . y ) = [ A2,phi2 ] and ( dom phi2 ) = M and ( phi2 | A2 ) is  increasing and A33: ( rng ( phi2 | A2 ) ) = ( f .: y ) and (for B holds ((A2 c= B & B in M) implies ( phi2 . B ) = ( {} ))) by A13,A30;
consider A1 being Ordinal,phi1 being Ordinal-Sequence such that A34: ( g . x ) = [ A1,phi1 ] and ( dom phi1 ) = M and ( phi1 | A1 ) is  increasing and A35: ( rng ( phi1 | A1 ) ) = ( f .: x ) and (for B holds ((A1 c= B & B in M) implies ( phi1 . B ) = ( {} ))) by A13,A29;
A36: (A1 = A2 & phi1 = phi2) by A31,A34,A32,ZFMISC_1:27;
A37: (ex Y being (Subset of X) st (x = Y & ( card Y ) in M)) by A13,A29;
thus x c= y
proof
let z;
assume A38: z in x;
then ( f . z ) in ( f .: x ) by A2,A37,FUNCT_1:def 6;
then (ex x1 being set st ((x1 in ( dom f ) & x1 in y) & ( f . z ) = ( f . x1 ))) by A35,A33,A36,FUNCT_1:def 6;
hence thesis by A1,A2,A37,A38,FUNCT_1:def 4;
end;

let z;
A39: (ex Y being (Subset of X) st (y = Y & ( card Y ) in M)) by A13,A30;
assume A40: z in y;
then ( f . z ) in ( f .: y ) by A2,A39,FUNCT_1:def 6;
then (ex x1 being set st ((x1 in ( dom f ) & x1 in x) & ( f . z ) = ( f . x1 ))) by A35,A33,A36,FUNCT_1:def 6;
hence thesis by A1,A2,A39,A40,FUNCT_1:def 4;
end;
then A41: Z,( rng g ) are_equipotent  by A13,WELLORD2:def 4;
( card [: M,( Funcs (M,( card X )) ) :] ) = ( card [: M,( card ( Funcs (M,( card X )) ) ) :] ) by CARD_2:7
.= ( M *` ( card ( Funcs (M,( card X )) ) ) ) by CARD_2:def 2
.= ( M *` ( exp (( card X ),M) ) ) by CARD_2:def 3;
hence thesis by A41,A28,CARD_1:5;
end;
