environ
vocabularies NUMBERS,SUBSET_1,ORDINAL1,CARD_1,FUNCT_1,ORDINAL2,TARSKI,CARD_3,RELAT_1,FINSET_1,XBOOLE_0,ARYTM_3,WELLORD1,WELLORD2,ORDINAL4,CARD_2,ORDINAL3,ZFMISC_1,FUNCT_2,FUNCOP_1,MCART_1,CARD_5,MEMBERED;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,NAT_1,MEMBERED,RELAT_1,FUNCT_1,FINSET_1,ORDINAL1,FUNCT_2,WELLORD1,WELLORD2,MCART_1,FUNCOP_1,ORDINAL2,ORDINAL3,CARD_2,CARD_3,ORDINAL4,CKB21,CKB22,CKB23,CKB36,CKB37;
definitions TARSKI,FUNCT_1,ORDINAL2,CARD_1,CARD_3,XBOOLE_0,CKB22,CKB23,CKB36;
theorems TARSKI,FUNCT_1,FUNCT_2,FUNCOP_1,NAT_1,FINSET_1,MCART_1,ORDINAL1,ORDINAL2,ORDINAL3,ORDINAL4,WELLORD1,WELLORD2,CARD_1,CARD_2,CARD_3,CARD_4,ZFMISC_1,FUNCT_4,FUNCT_5,RELAT_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB22,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB36,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB47;
schemes FUNCT_1,ORDINAL1,PARTFUN1,CARD_1,CARD_3,ORDINAL2,CLASSES1,XBOOLE_0,CARD_2;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,FUNCOP_1,ORDINAL2,ORDINAL3,NAT_1,CARD_1,CARD_3,ORDINAL4,WELLORD2,MEMBERED,ORDERS_1,FINSET_1,CARD_2,CKB7,CKB19,CKB20,CKB24,CKB32,CKB33,CKB34,CKB35,CKB38,CKB46;
constructors WELLORD1,WELLORD2,FUNCOP_1,ORDINAL3,XXREAL_0,NAT_1,FINSEQ_1,CARD_2,CARD_3,ORDINAL4,RELSET_1,MEMBERED,ORDERS_1,XREAL_0,CKB22,CKB23,CKB36;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve A for Ordinal;
reserve B for Ordinal;
reserve x for set;
reserve y for set;
reserve a for Aleph;
theorem
Th41: (( cf a ) in a implies (ex xi being Ordinal-Sequence st (((((( dom xi ) = ( cf a ) & ( rng xi ) c= a) & xi is  increasing) & a = ( sup xi )) & xi is Cardinal-Function) & (not ( 0 ) in ( rng xi )))))
proof
a is_cofinal_with ( cf a ) by CKB22:def 1;
then consider xi being Ordinal-Sequence such that A1: ( dom xi ) = ( cf a ) and A2: ( rng xi ) c= a and xi is  increasing and A3: a = ( sup xi ) by ORDINAL2:def 17;
deffunc f(T-Sequence) = ( ( nextcard ( xi . ( dom $1 ) ) ) \/ ( nextcard ( sup $1 ) ) );
consider phi being T-Sequence such that A4: (( dom phi ) = ( cf a ) & (for A holds (for psi being T-Sequence holds ((A in ( cf a ) & psi = ( phi | A )) implies ( phi . A ) = f(psi))))) from ORDINAL1:sch 4;
phi is  Ordinal-yielding
proof
take ( sup ( rng phi ) );
let x;
assume A5: x in ( rng phi );
then consider y such that A6: y in ( dom phi ) and A7: x = ( phi . y ) by FUNCT_1:def 3;
reconsider y as Ordinal by A6;
y c= ( dom phi ) by A6,ORDINAL1:def 2;
then ( dom ( phi | y ) ) = y by RELAT_1:62;
then x = ( ( nextcard ( xi . y ) ) \/ ( nextcard ( sup ( phi | y ) ) ) ) by A4,A6,A7;
hence thesis by A5,ORDINAL2:19;
end;
then reconsider phi as Ordinal-Sequence;
defpred P[ Ordinal ]
 means
($1 in ( cf a ) implies ( phi . $1 ) in a);
assume ( cf a ) in a;
then A8: a is  limit_cardinal by CKB47:1;
A9:now
let A;
assume that
A10: (for B holds (B in A implies P[ B ]));
thus P[ A ]
proof
assume A11: A in ( cf a );
then A12: ( card A ) in ( cf a ) by CARD_1:9;
A c= ( dom phi ) by A4,A11,ORDINAL1:def 2;
then A13: ( dom ( phi | A ) ) = A by RELAT_1:62;
then ( phi . A ) = ( ( nextcard ( xi . A ) ) \/ ( nextcard ( sup ( phi | A ) ) ) ) by A4,A11;
then A14: (( phi . A ) = ( nextcard ( xi . A ) ) or ( phi . A ) = ( nextcard ( sup ( phi | A ) ) )) by ORDINAL3:12;
A15: ( rng ( phi | A ) ) c= a
proof
let x;
assume x in ( rng ( phi | A ) );
then consider y such that A16: y in ( dom ( phi | A ) ) and A17: x = ( ( phi | A ) . y ) by FUNCT_1:def 3;
reconsider y as Ordinal by A16;
(x = ( phi . y ) & y in ( cf a )) by A11,A13,A16,A17,FUNCT_1:47,ORDINAL1:10;
hence thesis by A10,A13,A16;
end;
( ( phi | A ) .: A ) = ( rng ( phi | A ) ) by A13,RELAT_1:113;
then ( card ( rng ( phi | A ) ) ) in ( cf a ) by A12,CARD_1:67,ORDINAL1:12;
then ( sup ( rng ( phi | A ) ) ) in a by A15,CKB44:1;
then ( card ( sup ( phi | A ) ) ) in a by CARD_1:9;
then A18: ( nextcard ( card ( sup ( phi | A ) ) ) ) c= a by CARD_3:90;
( xi . A ) in ( rng xi ) by A1,A11,FUNCT_1:def 3;
then ( card ( xi . A ) ) in a by A2,CARD_1:9;
then A19: ( nextcard ( card ( xi . A ) ) ) c= a by CARD_3:90;
A20: (( nextcard ( card ( sup ( phi | A ) ) ) ) <> a & ( nextcard ( card ( sup ( phi | A ) ) ) ) = ( nextcard ( sup ( phi | A ) ) )) by A8,CKB3:1,CARD_1:def 4;
(a <> ( nextcard ( card ( xi . A ) ) ) & ( nextcard ( card ( xi . A ) ) ) = ( nextcard ( xi . A ) )) by A8,CKB3:1,CARD_1:def 4;
hence thesis by A19,A18,A20,A14,CARD_1:3;
end;

end;
A21: (for A holds P[ A ]) from ORDINAL1:sch 2(A9);
A22: ( rng phi ) c= a
proof
let x;
assume x in ( rng phi );
then (ex y st (y in ( dom phi ) & x = ( phi . y ))) by FUNCT_1:def 3;
hence thesis by A4,A21;
end;
take phi;
thus ( dom phi ) = ( cf a ) by A4;
thus ( rng phi ) c= a
proof
let x;
assume x in ( rng phi );
then (ex y st (y in ( dom phi ) & x = ( phi . y ))) by FUNCT_1:def 3;
hence thesis by A4,A21;
end;

thus phi is  increasing
proof
let A;
let B;
assume that
A23: A in B
and
A24: B in ( dom phi );
reconsider C = ( phi . A ) as Ordinal;
A in ( dom phi ) by A23,A24,ORDINAL1:10;
then C in ( rng ( phi | B ) ) by A23,FUNCT_1:50;
then A25: C in ( sup ( phi | B ) ) by ORDINAL2:19;
( sup ( phi | B ) ) in ( nextcard ( sup ( phi | B ) ) ) by CARD_1:18;
then A26: C in ( nextcard ( sup ( phi | B ) ) ) by A25,ORDINAL1:10;
( phi . B ) = ( ( nextcard ( xi . ( dom ( phi | B ) ) ) ) \/ ( nextcard ( sup ( phi | B ) ) ) ) by A4,A24;
hence thesis by A26,XBOOLE_0:def 3;
end;

thus a c= ( sup phi )
proof
let x;
assume x in a;
then reconsider x as (Element of a);
consider A such that A27: A in ( rng xi ) and A28: x c= A by A3,ORDINAL2:21;
consider y such that A29: y in ( dom xi ) and A30: A = ( xi . y ) by A27,FUNCT_1:def 3;
reconsider y as Ordinal by A29;
y c= ( cf a ) by A1,A29,ORDINAL1:def 2;
then ( dom ( phi | y ) ) = y by A4,RELAT_1:62;
then (A in ( nextcard A ) & ( phi . y ) = ( ( nextcard A ) \/ ( nextcard ( sup ( phi | y ) ) ) )) by A1,A4,A29,A30,CARD_1:18;
then A in ( phi . y ) by XBOOLE_0:def 3;
then A31: A c= ( phi . y ) by ORDINAL1:def 2;
( phi . y ) in ( rng phi ) by A1,A4,A29,FUNCT_1:def 3;
then ( phi . y ) in ( sup phi ) by ORDINAL2:19;
hence thesis by A28,A31,ORDINAL1:12,XBOOLE_1:1;
end;

( sup a ) = a by ORDINAL2:18;
hence ( sup phi ) c= a by A22,ORDINAL2:22;
phi is  Cardinal-yielding
proof
let y;
assume A32: y in ( dom phi );
then reconsider y as Ordinal;
y c= ( dom phi ) by A32,ORDINAL1:def 2;
then ( dom ( phi | y ) ) = y by RELAT_1:62;
then ( phi . y ) = ( ( nextcard ( xi . y ) ) \/ ( nextcard ( sup ( phi | y ) ) ) ) by A4,A32;
hence thesis by ORDINAL3:12;
end;
hence phi is Cardinal-Function;
assume ( 0 ) in ( rng phi );
then consider x such that A33: x in ( dom phi ) and A34: ( 0 ) = ( phi . x ) by FUNCT_1:def 3;
reconsider x as Ordinal by A33;
x c= ( dom phi ) by A33,ORDINAL1:def 2;
then ( dom ( phi | x ) ) = x by RELAT_1:62;
then ( 0 ) = ( ( nextcard ( xi . x ) ) \/ ( nextcard ( sup ( phi | x ) ) ) ) by A4,A33,A34;
then (( 0 ) = ( nextcard ( xi . x ) ) or ( 0 ) = ( nextcard ( sup ( phi | x ) ) ));
hence contradiction by CARD_1:15;
end;
