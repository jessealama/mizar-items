environ
vocabularies NUMBERS,XBOOLE_0,PRE_TOPC,XREAL_0,ORDINAL1,CARD_1,XXREAL_0,STRUCT_0,BORSUK_1,XXREAL_1,REAL_1,SUBSET_1,TARSKI,FUNCT_1,RELAT_1,RCOMP_1,ORDINAL2,FUNCT_4,TOPS_2,FUNCOP_1,GRAPH_1,RELAT_2,ARYTM_3,ARYTM_1,TOPMETR,TREAL_1,VALUED_1,SETFAM_1,ZFMISC_1,PCOMPS_1,MCART_1,CONNSP_2,TOPS_1,BORSUK_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,ORDINAL1,CARD_1,NUMBERS,XXREAL_0,XREAL_0,REAL_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,DOMAIN_1,STRUCT_0,PRE_TOPC,TOPS_2,MCART_1,RCOMP_1,PCOMPS_1,TOPS_1,COMPTS_1,CONNSP_1,CONNSP_2,TREAL_1,FUNCT_4,BORSUK_1,T_0TOPSP,TOPMETR,BINOP_1,FUNCT_3,CKB8,CKB9,CKB10,CKB12,CKB14;
definitions TARSKI,PRE_TOPC,COMPTS_1,URYSOHN1,T_0TOPSP,XBOOLE_0,BINOP_1,STRUCT_0,BORSUK_1,CKB8,CKB10,CKB12,CKB14;
theorems BORSUK_1,FUNCOP_1,TOPS_2,TREAL_1,FUNCT_2,FUNCT_1,PRE_TOPC,RCOMP_1,TARSKI,RELAT_1,TOPS_1,URYSOHN1,TOPMETR,FUNCT_4,HEINE,PCOMPS_1,MCART_1,ZFMISC_1,CONNSP_2,FUNCT_3,COMPTS_1,T_0TOPSP,CARD_1,RELSET_1,XBOOLE_0,XBOOLE_1,XREAL_0,XREAL_1,CONNSP_1,XXREAL_1,XXREAL_2,CKB1,CKB3,CKB6,CKB7,CKB8,CKB10,CKB12,CKB14,CKB16,CKB17,CKB19;
schemes FUNCT_2,FUNCT_1,CKB2;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,FUNCT_2,XREAL_0,MEMBERED,STRUCT_0,PRE_TOPC,COMPTS_1,METRIC_1,BORSUK_1,RELAT_1,XXREAL_2,TOPS_1,CONNSP_1,TOPMETR,RELSET_1,CKB4,CKB5,CKB11,CKB13,CKB15,CKB18;
constructors SETFAM_1,FUNCT_3,FUNCT_4,REAL_1,MEMBERED,RCOMP_1,TOPS_1,CONNSP_1,TOPS_2,COMPTS_1,URYSOHN1,T_0TOPSP,TREAL_1,FUNCOP_1,PCOMPS_1,XXREAL_2,COMPLEX1,CKB8,CKB9,CKB10,CKB12;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve r for Real;
definition
let T being non empty TopSpace;
let a being (Point of T);
let b being (Point of T);
let c being (Point of T);
let P being (Path of a,b);
let Q being (Path of b,c);
assume that
A1: a,b are_connected 
and
A2: b,c are_connected ;
func P + Q -> (Path of a,c)
means
:Def5: (for t being (Point of ( I[01] )) holds ((t <= ( 1 / 2 ) implies ( it . t ) = ( P . ( 2 * t ) )) & (( 1 / 2 ) <= t implies ( it . t ) = ( Q . ( ( 2 * t ) - 1 ) ))));
existence
proof
( 1 / 2 ) in { r: (( 0 ) <= r & r <= 1) };
then reconsider pol = ( 1 / 2 ) as (Point of ( I[01] )) by BORSUK_1:40,RCOMP_1:def 1;
reconsider T1 = ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ),T2 = ( Closed-Interval-TSpace (( 1 / 2 ),1) ) as (SubSpace of ( I[01] )) by TOPMETR:20,TREAL_1:3;
set e2 = ( P[01] (( 1 / 2 ),1,( (#) (( 0 ),1) ),( (( 0 ),1) (#) )) );
set e1 = ( P[01] (( 0 ),( 1 / 2 ),( (#) (( 0 ),1) ),( (( 0 ),1) (#) )) );
set E1 = ( P * e1 );
set E2 = ( Q * e2 );
set f = ( E1 +* E2 );
A3: ( dom e1 ) = (the carrier of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) )) by FUNCT_2:def 1
.= [. ( 0 ),( 1 / 2 ) .] by TOPMETR:18;
A4: ( dom e2 ) = (the carrier of ( Closed-Interval-TSpace (( 1 / 2 ),1) )) by FUNCT_2:def 1
.= [. ( 1 / 2 ),1 .] by TOPMETR:18;
A5: (for t9 being Real holds ((( 1 / 2 ) <= t9 & t9 <= 1) implies ( E2 . t9 ) = ( Q . ( ( 2 * t9 ) - 1 ) )))
proof
reconsider r1 = ( (#) (( 0 ),1) ),r2 = ( (( 0 ),1) (#) ) as Real by TREAL_1:5;
( dom e2 ) = (the carrier of ( Closed-Interval-TSpace (( 1 / 2 ),1) )) by FUNCT_2:def 1;
then A6: ( dom e2 ) = [. ( 1 / 2 ),1 .] by TOPMETR:18
.= { r: (( 1 / 2 ) <= r & r <= 1) } by RCOMP_1:def 1;
let t9 being Real;
assume (( 1 / 2 ) <= t9 & t9 <= 1);
then A7: t9 in ( dom e2 ) by A6;
then reconsider s = t9 as (Point of ( Closed-Interval-TSpace (( 1 / 2 ),1) ));
( e2 . s ) = ( ( ( ( r2 - r1 ) / ( 1 - ( 1 / 2 ) ) ) * t9 ) + ( ( ( 1 * r1 ) - ( ( 1 / 2 ) * r2 ) ) / ( 1 - ( 1 / 2 ) ) ) ) by TREAL_1:11
.= ( ( 2 * t9 ) - 1 ) by TREAL_1:5;
hence thesis by A7,FUNCT_1:13;
end;
reconsider gg = E2 as (Function of T2,T) by TOPMETR:20;
reconsider ff = E1 as (Function of T1,T) by TOPMETR:20;
A8: (e1 is  continuous  continuous (Function of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ),( Closed-Interval-TSpace (( 0 ),1) )) & e2 is  continuous) by TREAL_1:12;
( rng f ) c= ( ( rng E1 ) \/ ( rng E2 ) ) by FUNCT_4:17;
then A9: ( rng f ) c= (the carrier of T) by XBOOLE_1:1;
A10: (( R^1 ) is  T_2 & T1 is  compact) by HEINE:4,PCOMPS_1:34,TOPMETR:def 6;
A11: (for t9 being Real holds ((( 0 ) <= t9 & t9 <= ( 1 / 2 )) implies ( E1 . t9 ) = ( P . ( 2 * t9 ) )))
proof
reconsider r1 = ( (#) (( 0 ),1) ),r2 = ( (( 0 ),1) (#) ) as Real by TREAL_1:5;
( dom e1 ) = (the carrier of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) )) by FUNCT_2:def 1;
then A12: ( dom e1 ) = [. ( 0 ),( 1 / 2 ) .] by TOPMETR:18
.= { r: (( 0 ) <= r & r <= ( 1 / 2 )) } by RCOMP_1:def 1;
let t9 being Real;
assume (( 0 ) <= t9 & t9 <= ( 1 / 2 ));
then A13: t9 in ( dom e1 ) by A12;
then reconsider s = t9 as (Point of ( Closed-Interval-TSpace (( 0 ),( 1 / 2 )) ));
( e1 . s ) = ( ( ( ( r2 - r1 ) / ( ( 1 / 2 ) - ( 0 ) ) ) * t9 ) + ( ( ( ( 1 / 2 ) * r1 ) - ( ( 0 ) * r2 ) ) / ( 1 / 2 ) ) ) by TREAL_1:11
.= ( 2 * t9 ) by TREAL_1:5;
hence thesis by A13,FUNCT_1:13;
end;
then A14: ( ff . ( 1 / 2 ) ) = ( P . ( 2 * ( 1 / 2 ) ) )
.= b by A1,CKB10:def 1
.= ( Q . ( ( 2 * ( 1 / 2 ) ) - 1 ) ) by A2,CKB10:def 1
.= ( gg . pol ) by A5;
( dom P ) = (the carrier of ( I[01] )) by FUNCT_2:def 1;
then A15: ( rng e1 ) c= ( dom P ) by TOPMETR:20;
(( dom Q ) = (the carrier of ( I[01] )) & ( rng e2 ) c= (the carrier of ( Closed-Interval-TSpace (( 0 ),1) ))) by FUNCT_2:def 1;
then A16: ( dom E2 ) = ( dom e2 ) by RELAT_1:27,TOPMETR:20;
(not ( 0 ) in { r: (( 1 / 2 ) <= r & r <= 1) })
proof
assume ( 0 ) in { r: (( 1 / 2 ) <= r & r <= 1) };
then (ex rr being Real st ((rr = ( 0 ) & ( 1 / 2 ) <= rr) & rr <= 1));
hence thesis;
end;
then (not ( 0 ) in ( dom E2 )) by A4,A16,RCOMP_1:def 1;
then A17: ( f . ( 0 ) ) = ( E1 . ( 0 ) ) by FUNCT_4:11
.= ( P . ( 2 * ( 0 ) ) ) by A11
.= a by A1,CKB10:def 1;
A18: ( dom f ) = ( ( dom E1 ) \/ ( dom E2 ) ) by FUNCT_4:def 1
.= ( [. ( 0 ),( 1 / 2 ) .] \/ [. ( 1 / 2 ),1 .] ) by A3,A4,A15,A16,RELAT_1:27
.= (the carrier of ( I[01] )) by BORSUK_1:40,XXREAL_1:174;
(( [#] T1 ) = [. ( 0 ),( 1 / 2 ) .] & ( [#] T2 ) = [. ( 1 / 2 ),1 .]) by TOPMETR:18;
then A19: (( ( [#] T1 ) \/ ( [#] T2 ) ) = ( [#] ( I[01] ) ) & ( ( [#] T1 ) /\ ( [#] T2 ) ) = { pol }) by BORSUK_1:40,XXREAL_1:174,XXREAL_1:418;
A20: T2 is  compact by HEINE:4;
reconsider f as (Function of ( I[01] ),T) by A18,A9,FUNCT_2:def 1,RELSET_1:4;
(P is  continuous & Q is  continuous) by A1,A2,CKB10:def 1;
then reconsider f as  continuous (Function of ( I[01] ),T) by A8,A14,A19,A10,A20,COMPTS_1:20,TOPMETR:20;
1 in { r: (( 1 / 2 ) <= r & r <= 1) };
then 1 in ( dom E2 ) by A4,A16,RCOMP_1:def 1;
then A21: ( f . 1 ) = ( E2 . 1 ) by FUNCT_4:13
.= ( Q . ( ( 2 * 1 ) - 1 ) ) by A5
.= c by A2,CKB10:def 1;
then a,c are_connected  by A17,CKB8:def 1;
then reconsider f as (Path of a,c) by A17,A21,CKB10:def 1;
(for t being (Point of ( I[01] )) holds ((t <= ( 1 / 2 ) implies ( f . t ) = ( P . ( 2 * t ) )) & (( 1 / 2 ) <= t implies ( f . t ) = ( Q . ( ( 2 * t ) - 1 ) ))))
proof
let t being (Point of ( I[01] ));
A22: t is Real by XREAL_0:def 1;
A23: ( 0 ) <= t by CKB1:1;
thus (t <= ( 1 / 2 ) implies ( f . t ) = ( P . ( 2 * t ) ))
proof
assume A24: t <= ( 1 / 2 );
then t in { r: (( 0 ) <= r & r <= ( 1 / 2 )) } by A23,A22;
then A25: t in [. ( 0 ),( 1 / 2 ) .] by RCOMP_1:def 1;
per cases ;
suppose A26: t <> ( 1 / 2 );

(not t in ( dom E2 ))
proof
assume t in ( dom E2 );
then t in ( [. ( 0 ),( 1 / 2 ) .] /\ [. ( 1 / 2 ),1 .] ) by A4,A16,A25,XBOOLE_0:def 4;
then t in { ( 1 / 2 ) } by XXREAL_1:418;
hence thesis by A26,TARSKI:def 1;
end;
then ( f . t ) = ( E1 . t ) by FUNCT_4:11
.= ( P . ( 2 * t ) ) by A11,A23,A22,A24;
hence thesis;
end;
suppose A27: t = ( 1 / 2 );

( 1 / 2 ) in { r: (( 1 / 2 ) <= r & r <= 1) };
then ( 1 / 2 ) in [. ( 1 / 2 ),1 .] by RCOMP_1:def 1;
then ( 1 / 2 ) in (the carrier of ( Closed-Interval-TSpace (( 1 / 2 ),1) )) by TOPMETR:18;
then t in ( dom E2 ) by A27,FUNCT_2:def 1,TOPMETR:20;
then ( f . t ) = ( E1 . t ) by A14,A27,FUNCT_4:13
.= ( P . ( 2 * t ) ) by A11,A23,A22,A24;
hence thesis;
end;
end;

A28: t <= 1 by CKB1:1;
thus (( 1 / 2 ) <= t implies ( f . t ) = ( Q . ( ( 2 * t ) - 1 ) ))
proof
assume A29: ( 1 / 2 ) <= t;
then t in { r: (( 1 / 2 ) <= r & r <= 1) } by A28,A22;
then t in [. ( 1 / 2 ),1 .] by RCOMP_1:def 1;
then ( f . t ) = ( E2 . t ) by A4,A16,FUNCT_4:13
.= ( Q . ( ( 2 * t ) - 1 ) ) by A5,A28,A22,A29;
hence thesis;
end;

end;
hence thesis;
end;
uniqueness
proof
let A being (Path of a,c),B being (Path of a,c);
assume that
A30: (for t being (Point of ( I[01] )) holds ((t <= ( 1 / 2 ) implies ( A . t ) = ( P . ( 2 * t ) )) & (( 1 / 2 ) <= t implies ( A . t ) = ( Q . ( ( 2 * t ) - 1 ) ))))
and
A31: (for t being (Point of ( I[01] )) holds ((t <= ( 1 / 2 ) implies ( B . t ) = ( P . ( 2 * t ) )) & (( 1 / 2 ) <= t implies ( B . t ) = ( Q . ( ( 2 * t ) - 1 ) ))));
A32: (for x being set holds (x in ( dom A ) implies ( A . x ) = ( B . x )))
proof
let x being set;
assume A33: x in ( dom A );
then reconsider y = x as (Point of ( I[01] ));
x in (the carrier of ( I[01] )) by A33;
then x in { r: (( 0 ) <= r & r <= 1) } by BORSUK_1:40,RCOMP_1:def 1;
then consider r9 being Real such that A34: r9 = x and ( 0 ) <= r9 and r9 <= 1;
per cases ;
suppose A35: r9 <= ( 1 / 2 );

then ( A . y ) = ( P . ( 2 * r9 ) ) by A30,A34
.= ( B . y ) by A31,A34,A35;
hence thesis;
end;
suppose A36: ( 1 / 2 ) < r9;

then ( A . y ) = ( Q . ( ( 2 * r9 ) - 1 ) ) by A30,A34
.= ( B . y ) by A31,A34,A36;
hence thesis;
end;
end;
( dom B ) = (the carrier of ( I[01] )) by FUNCT_2:def 1;
then ( dom A ) = ( dom B ) by FUNCT_2:def 1;
hence thesis by A32,FUNCT_1:2;
end;
end;
