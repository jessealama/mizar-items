environ
vocabularies NUMBERS,SUBSET_1,REAL_1,XREAL_0,ORDINAL1,XBOOLE_0,PRE_TOPC,ZFMISC_1,STRUCT_0,FUNCT_1,PSCOMP_1,SEQFUNC,SEQ_1,XXREAL_0,CARD_1,NEWTON,RELAT_1,ARYTM_3,INT_1,NAT_1,ARYTM_1,FUNCT_7,FUNCT_2,TARSKI,METRIC_1,RCOMP_1,MCART_1,SETFAM_1,ORDINAL2,TOPMETR,TMAP_1,SEQ_4,NAGATA_1,XXREAL_2,COMPLEX1,RELAT_2,VALUED_0,PCOMPS_1,PBOOLE,SERIES_1,CARD_3,VALUED_1,SEQ_2,FINSEQ_1,PREPOWER,BINOP_1,SETWISEO,FINSOP_1,ORDINAL4,CARD_5,RLVECT_3,FINSET_1,COH_SP,PARTFUN1,WELLORD1,PCOMPS_2,NATTRA_1,NAGATA_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,SETWISEO,BORSUK_1,RELAT_1,RELAT_2,ORDINAL1,XCMPLX_0,XXREAL_0,XXREAL_2,XREAL_0,FUNCT_1,COMPLEX1,REAL_1,RELSET_1,PARTFUN1,VALUED_0,VALUED_1,SEQ_1,FUNCT_2,FUNCT_3,DOMAIN_1,BINOP_1,PRE_TOPC,NAT_1,NAT_D,CARD_1,NUMBERS,FINSET_1,STRUCT_0,FINSEQ_1,PCOMPS_1,PCOMPS_2,NEWTON,TOPS_2,METRIC_1,PROB_1,SEQFUNC,PREPOWER,TOPMETR,PSCOMP_1,MEASURE6,TMAP_1,NAGATA_1,SEQ_2,SEQ_4,SERIES_1,FINSOP_1,CANTOR_1,WELLORD1,FUNCT_7,CKB2,CKB4,CKB7;
definitions FUNCT_2,TARSKI,TOPS_2,XBOOLE_0,BINOP_1,SUBSET_1,STRUCT_0,PRE_TOPC,XXREAL_2,CKB2,CKB4,CKB7;
theorems NAT_1,NEWTON,FUNCT_2,PCOMPS_1,PCOMPS_2,NAGATA_1,SUBSET_1,METRIC_6,FUNCT_3,FUNCT_1,METRIC_1,XCMPLX_1,ABSVALUE,TOPMETR,TMAP_1,BORSUK_1,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,TOPS_1,TOPS_2,PRE_TOPC,FINSEQ_1,CARD_4,TOPREAL6,ZFMISC_1,BINOP_1,SEQ_2,SEQ_4,SEQ_1,SERIES_1,PREPOWER,SEQFUNC,PARTFUN1,JGRAPH_2,URYSOHN1,FINSEQ_3,FINSEQ_4,FINSOP_1,SETWISEO,PROB_1,URYSOHN3,WELLORD1,WELLORD2,TBSP_1,RELAT_1,RELAT_2,YELLOW_9,FUNCT_7,RSSPACE2,RSSPACE,BHSP_5,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,NAT_D,VALUED_1,XXREAL_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
schemes FUNCT_2,NAT_1,SEQFUNC,FRAENKEL,BINOP_1,PCOMPS_2;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,TOPS_1,METRIC_1,BORSUK_1,TOPMETR,MEASURE6,TOPREAL6,VALUED_0,VALUED_1,FUNCT_2,BORSUK_4,BORSUK_6,CARD_1,PRE_TOPC,FUNCT_1,PSCOMP_1;
constructors SETFAM_1,WELLORD1,FUNCT_3,SETWISEO,REAL_1,SQUARE_1,NAT_1,NAT_D,SEQM_3,PROB_1,FINSOP_1,NEWTON,PREPOWER,SERIES_1,FUNCT_7,TOPS_2,COMPTS_1,TMAP_1,CANTOR_1,PCOMPS_2,MEASURE6,URYSOHN3,NAGATA_1,SEQ_1,BORSUK_4,XXREAL_2,SEQFUNC,SEQ_4,BINOP_2,SEQ_2,RVSUM_1,PSCOMP_1,PCOMPS_1,CKB2,CKB4,CKB7;
requirements BOOLE,SUBSET,NUMERALS,REAL,ARITHM;
begin
reserve r for Real;
reserve s for Real;
reserve rn for  real number;
reserve x for set;
reserve y for set;
reserve z for set;
reserve T for non  empty TopSpace;
reserve A for (Subset of T);
reserve pmet for (Function of [: (the carrier of T),(the carrier of T) :],( REAL ));
theorem
Th10: (for pmet holds ((pmet is_metric_of (the carrier of T) & (for A being non  empty (Subset of T) holds ( Cl A ) = { p where p is (Point of T): ( ( lower_bound (pmet,A) ) . p ) = ( 0 ) })) implies T is  metrizable))
proof
let pmet;
assume that
A1: pmet is_metric_of (the carrier of T)
and
A2: (for A being non  empty (Subset of T) holds ( Cl A ) = { p where p is (Point of T): ( ( lower_bound (pmet,A) ) . p ) = ( 0 ) });
set PM = ( SpaceMetr ((the carrier of T),pmet) );
reconsider PM as non  empty MetrSpace by A1,PCOMPS_1:36;
A3: (for x,y being (Element of PM) holds ( pmet . (x,y) ) = ( dist (x,y) ))
proof
let x being (Element of PM);
let y being (Element of PM);
PM = MetrStruct (# (the carrier of T),pmet #) by A1,PCOMPS_1:def 7;
hence thesis by METRIC_1:def 1;
end;
A4: ( Family_open_set PM ) c= (the topology of T)
proof
let A being set;
assume A5: A in ( Family_open_set PM );
then reconsider AT = A as (Subset of T) by A1,PCOMPS_2:4;
per cases ;
suppose ( AT ` ) is  empty;

then ( AT ` ) = ( ( [#] T ) ` ) by XBOOLE_1:37;
then AT = (the carrier of T) by TOPS_1:1;
hence thesis by PRE_TOPC:def 1;
end;
suppose A6: ( AT ` ) is non  empty;

(for x holds (x in AT iff (ex U being (Subset of T) st ((U is  open & U c= AT) & x in U))))
proof
let x;
(x in AT implies (ex U being (Subset of T) st ((U is  open & U c= AT) & x in U)))
proof
assume A7: x in AT;
then reconsider xP = x as (Element of PM) by A1,PCOMPS_2:4;
consider r such that A8: r > ( 0 ) and A9: ( Ball (xP,r) ) c= AT by A5,A7,PCOMPS_1:def 4;
reconsider xT = x as (Element of T) by A7;
A10: (ex y st y in ( AT ` )) by A6,XBOOLE_0:def 1;
reconsider B = ( Ball (xP,r) ) as (Subset of T) by A1,PCOMPS_2:4;
set Inf = { p where p is (Point of T): ( ( lower_bound (pmet,( B ` )) ) . p ) = ( 0 ) };
( AT ` ) c= ( B ` ) by A9,SUBSET_1:12;
then consider b being set such that A11: b in ( B ` ) by A10;
( B ` ) = Inf
proof
thus ( B ` ) c= Inf
proof
let y;
assume that
A12: y in ( B ` );
( ( lower_bound (pmet,( B ` )) ) . y ) = ( 0 ) by A1,A12,CKB10:1,CKB13:1;
hence thesis by A12;
end;

let y;
assume y in Inf;
then consider yT being (Point of T) such that A13: y = yT and A14: ( ( lower_bound (pmet,( B ` )) ) . yT ) = ( 0 );
assume (not y in ( B ` ));
then A15: yT in B by A13,XBOOLE_0:def 5;
reconsider yP = yT as (Point of PM) by A1,PCOMPS_2:4;
pmet is_a_pseudometric_of (the carrier of T) by A1,CKB13:1;
then A16: ( ( dist (pmet,yT) ) .: ( B ` ) ) is non  empty  bounded_below by A11,CKB8:1;
( Ball (xP,r) ) in ( Family_open_set PM ) by PCOMPS_1:29;
then consider s such that A17: s > ( 0 ) and A18: ( Ball (yP,s) ) c= ( Ball (xP,r) ) by A15,PCOMPS_1:def 4;
( lower_bound ( ( dist (pmet,yT) ) .: ( B ` ) ) ) = ( 0 ) by A14,CKB7:def 1;
then consider rn such that A19: rn in ( ( dist (pmet,yT) ) .: ( B ` ) ) and A20: rn < ( ( 0 ) + s ) by A17,A16,SEQ_4:def 2;
consider z such that A21: z in ( dom ( dist (pmet,yT) ) ) and A22: z in ( B ` ) and A23: rn = ( ( dist (pmet,yT) ) . z ) by A19,FUNCT_1:def 6;
reconsider zT = z as (Point of T) by A21;
reconsider zP = z as (Point of PM) by A1,A21,PCOMPS_2:4;
( pmet . (yT,zT) ) < s by A20,A23,CKB4:def 1;
then ( dist (yP,zP) ) < s by A3;
then zP in ( Ball (yP,s) ) by METRIC_1:11;
then ( B ` ) meets B by A18,A22,XBOOLE_0:3;
hence thesis by XBOOLE_1:79;
end;
then ( B ` ) = ( Cl ( B ` ) ) by A2,A11;
then A24: B is  open by TOPS_1:4;
( pmet . (xT,xT) ) = ( 0 ) by A1,PCOMPS_1:def 6;
then ( dist (xP,xP) ) < r by A3,A8;
then xP in B by METRIC_1:11;
hence thesis by A9,A24;
end;
hence thesis;
end;
then AT is  open by TOPS_1:25;
hence thesis by PRE_TOPC:def 2;
end;
end;
(the topology of T) c= ( Family_open_set PM )
proof
let A being set;
assume A25: A in (the topology of T);
then reconsider AT = A as (Subset of T);
reconsider AP = A as (Subset of PM) by A1,A25,PCOMPS_2:4;
per cases ;
suppose ( AT ` ) is  empty;

then ( AT ` ) = ( ( [#] T ) ` ) by XBOOLE_1:37;
then AT = (the carrier of T) by TOPS_1:1;
then AT = (the carrier of PM) by A1,PCOMPS_2:4;
hence thesis by PCOMPS_1:30;
end;
suppose A26: ( AT ` ) is non  empty;

(for xP being (Element of PM) holds (xP in AP implies (ex r st (r > ( 0 ) & ( Ball (xP,r) ) c= AP))))
proof
let xP being (Element of PM);
assume that
A27: xP in AP;
reconsider xT = xP as (Element of T) by A1,PCOMPS_2:4;
take r = ( ( lower_bound (pmet,( AT ` )) ) . xT );
A28: ( Ball (xP,r) ) c= AP
proof
pmet is_a_pseudometric_of (the carrier of T) by A1,CKB13:1;
then A29: ( ( dist (pmet,xT) ) .: ( AT ` ) ) is non  empty  bounded_below by A26,CKB8:1;
let y;
assume that
A30: y in ( Ball (xP,r) )
and
A31: (not y in AP);
reconsider yP = y as (Point of PM) by A30;
A32: ( dist (xP,yP) ) < r by A30,METRIC_1:11;
reconsider yT = yP as (Point of T) by A1,PCOMPS_2:4;
A33: ( dom ( dist (pmet,xT) ) ) = (the carrier of T) by FUNCT_2:def 1;
yT in ( AT ` ) by A31,XBOOLE_0:def 5;
then ( ( dist (pmet,xT) ) . yT ) in ( ( dist (pmet,xT) ) .: ( AT ` ) ) by A33,FUNCT_1:def 6;
then A34: ( lower_bound ( ( dist (pmet,xT) ) .: ( AT ` ) ) ) <= ( ( dist (pmet,xT) ) . yT ) by A29,SEQ_4:def 2;
(( ( dist (pmet,xT) ) . yT ) = ( pmet . (xT,yT) ) & ( lower_bound ( ( dist (pmet,xT) ) .: ( AT ` ) ) ) = ( ( lower_bound (pmet,( AT ` )) ) . xT )) by CKB4:def 1,CKB7:def 1;
hence thesis by A3,A32,A34;
end;
AT is  open by A25,PRE_TOPC:def 2;
then ( AT ` ) = ( Cl ( AT ` ) ) by PRE_TOPC:22;
then A35: ( AT ` ) = { p where p is (Point of T): ( ( lower_bound (pmet,( AT ` )) ) . p ) = ( 0 ) } by A2,A26;
( ( lower_bound (pmet,( AT ` )) ) . xT ) > ( 0 )
proof
assume ( ( lower_bound (pmet,( AT ` )) ) . xT ) <= ( 0 );
then ( ( lower_bound (pmet,( AT ` )) ) . xT ) = ( 0 ) by A1,A26,CKB9:1,CKB13:1;
then xT in ( AT ` ) by A35;
then ( AT ` ) meets AT by A27,XBOOLE_0:3;
hence thesis by XBOOLE_1:79;
end;
hence thesis by A28;
end;
hence thesis by PCOMPS_1:def 4;
end;
end;
then (the topology of T) = ( Family_open_set PM ) by A4,XBOOLE_0:def 10;
hence thesis by A1,PCOMPS_1:def 8;
end;
