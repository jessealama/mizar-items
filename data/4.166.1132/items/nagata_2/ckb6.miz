environ
vocabularies NUMBERS,SUBSET_1,REAL_1,XREAL_0,ORDINAL1,XBOOLE_0,PRE_TOPC,ZFMISC_1,STRUCT_0,FUNCT_1,PSCOMP_1,SEQFUNC,SEQ_1,XXREAL_0,CARD_1,NEWTON,RELAT_1,ARYTM_3,INT_1,NAT_1,ARYTM_1,FUNCT_7,FUNCT_2,TARSKI,METRIC_1,RCOMP_1,MCART_1,SETFAM_1,ORDINAL2,TOPMETR,TMAP_1,SEQ_4,NAGATA_1,XXREAL_2,COMPLEX1,RELAT_2,VALUED_0,PCOMPS_1,PBOOLE,SERIES_1,CARD_3,VALUED_1,SEQ_2,FINSEQ_1,PREPOWER,BINOP_1,SETWISEO,FINSOP_1,ORDINAL4,CARD_5,RLVECT_3,FINSET_1,COH_SP,PARTFUN1,WELLORD1,PCOMPS_2,NATTRA_1,NAGATA_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,SETWISEO,BORSUK_1,RELAT_1,RELAT_2,ORDINAL1,XCMPLX_0,XXREAL_0,XXREAL_2,XREAL_0,FUNCT_1,COMPLEX1,REAL_1,RELSET_1,PARTFUN1,VALUED_0,VALUED_1,SEQ_1,FUNCT_2,FUNCT_3,DOMAIN_1,BINOP_1,PRE_TOPC,NAT_1,NAT_D,CARD_1,NUMBERS,FINSET_1,STRUCT_0,FINSEQ_1,PCOMPS_1,PCOMPS_2,NEWTON,TOPS_2,METRIC_1,PROB_1,SEQFUNC,PREPOWER,TOPMETR,PSCOMP_1,MEASURE6,TMAP_1,NAGATA_1,SEQ_2,SEQ_4,SERIES_1,FINSOP_1,CANTOR_1,WELLORD1,FUNCT_7,CKB2,CKB4;
definitions FUNCT_2,TARSKI,TOPS_2,XBOOLE_0,BINOP_1,SUBSET_1,STRUCT_0,PRE_TOPC,XXREAL_2,CKB2,CKB4;
theorems NAT_1,NEWTON,FUNCT_2,PCOMPS_1,PCOMPS_2,NAGATA_1,SUBSET_1,METRIC_6,FUNCT_3,FUNCT_1,METRIC_1,XCMPLX_1,ABSVALUE,TOPMETR,TMAP_1,BORSUK_1,XBOOLE_1,TARSKI,SETFAM_1,XBOOLE_0,TOPS_1,TOPS_2,PRE_TOPC,FINSEQ_1,CARD_4,TOPREAL6,ZFMISC_1,BINOP_1,SEQ_2,SEQ_4,SEQ_1,SERIES_1,PREPOWER,SEQFUNC,PARTFUN1,JGRAPH_2,URYSOHN1,FINSEQ_3,FINSEQ_4,FINSOP_1,SETWISEO,PROB_1,URYSOHN3,WELLORD1,WELLORD2,TBSP_1,RELAT_1,RELAT_2,YELLOW_9,FUNCT_7,RSSPACE2,RSSPACE,BHSP_5,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,NAT_D,VALUED_1,XXREAL_2,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes FUNCT_2,NAT_1,SEQFUNC,FRAENKEL,BINOP_1,PCOMPS_2;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,TOPS_1,METRIC_1,BORSUK_1,TOPMETR,MEASURE6,TOPREAL6,VALUED_0,VALUED_1,FUNCT_2,BORSUK_4,BORSUK_6,CARD_1,PRE_TOPC,FUNCT_1,PSCOMP_1;
constructors SETFAM_1,WELLORD1,FUNCT_3,SETWISEO,REAL_1,SQUARE_1,NAT_1,NAT_D,SEQM_3,PROB_1,FINSOP_1,NEWTON,PREPOWER,SERIES_1,FUNCT_7,TOPS_2,COMPTS_1,TMAP_1,CANTOR_1,PCOMPS_2,MEASURE6,URYSOHN3,NAGATA_1,SEQ_1,BORSUK_4,XXREAL_2,SEQFUNC,SEQ_4,BINOP_2,SEQ_2,RVSUM_1,PSCOMP_1,PCOMPS_1,CKB2,CKB4;
requirements BOOLE,SUBSET,NUMERALS,REAL,ARITHM;
begin
reserve T for non empty TopSpace;
reserve pmet for (Function of [: (the carrier of T),(the carrier of T) :],( REAL ));
reserve pmet9 for (RealMap of [: T,T :]);
theorem
Th4: (for pmet holds ((for pmet9 holds (pmet = pmet9 implies pmet9 is  continuous)) implies (for x being (Point of T) holds ( dist (pmet,x) ) is  continuous)))
proof
set cT = (the carrier of T);
let pmet;
assume that
A1: (for pmet9 holds (pmet = pmet9 implies pmet9 is  continuous));
[: cT,cT :] = (the carrier of [: T,T :]) by BORSUK_1:def 2;
then reconsider pmet9 = pmet as (RealMap of [: T,T :]);
reconsider pmetR = pmet9 as (Function of [: T,T :],( R^1 )) by TOPMETR:17;
let x being (Point of T);
reconsider distx = ( dist (pmet,x) ) as (Function of T,( R^1 )) by TOPMETR:17;
pmet9 is  continuous by A1;
then A2: pmetR is  continuous by TOPREAL6:74;
now
let t being (Point of T);
(for R being (Subset of ( R^1 )) holds ((R is  open & ( distx . t ) in R) implies (ex U being (Subset of T) st ((U is  open & t in U) & ( distx .: U ) c= R))))
proof
reconsider xt = [ x,t ] as (Point of [: T,T :]) by BORSUK_1:def 2;
A3: ( dom ( pr2 (cT,cT) ) ) = [: cT,cT :] by FUNCT_3:def 5;
A4: (pmetR is_continuous_at xt & ( distx . t ) = ( pmet . (x,t) )) by A2,CKB4:def 1,TMAP_1:50;
let R being (Subset of ( R^1 ));
assume (R is  open & ( distx . t ) in R);
then consider XU being (Subset of [: T,T :]) such that A5: XU is  open and A6: xt in XU and A7: ( pmetR .: XU ) c= R by A4,TMAP_1:43;
set U = ( ( pr2 (cT,cT) ) .: ( XU /\ [: { x },cT :] ) );
[ x,t ] in [: { x },cT :] by ZFMISC_1:105;
then [ x,t ] in ( XU /\ [: { x },cT :] ) by A6,XBOOLE_0:def 4;
then ( ( pr2 (cT,cT) ) . (x,t) ) in ( ( pr2 (cT,cT) ) .: ( XU /\ [: { x },cT :] ) ) by A3,FUNCT_1:def 6;
then A8: t in U by FUNCT_3:def 5;
A9: ( distx .: U ) c= R
proof
let du being set;
assume du in ( distx .: U );
then consider u being set such that A10: u in ( dom distx ) and A11: u in U and A12: ( distx . u ) = du by FUNCT_1:def 6;
reconsider u as (Point of T) by A10;
consider xu being set such that A13: xu in ( dom ( pr2 (cT,cT) ) ) and A14: xu in ( XU /\ [: { x },cT :] ) and A15: ( ( pr2 (cT,cT) ) . xu ) = u by A11,FUNCT_1:def 6;
consider x9 being set,u9 being set such that A16: (x9 in cT & u9 in cT) and A17: xu = [ x9,u9 ] by A13,ZFMISC_1:def 2;
reconsider x9,u9 as (Point of T) by A16;
[ x9,u9 ] in [: { x },cT :] by A14,A17,XBOOLE_0:def 4;
then (( ( pr2 (cT,cT) ) . (x9,u9) ) = u9 & x9 = x) by FUNCT_3:def 5,ZFMISC_1:105;
then A18: ( pmet . (x9,u9) ) = du by A12,A15,A17,CKB4:def 1;
A19: ( dom pmetR ) = (the carrier of [: T,T :]) by FUNCT_2:def 1;
[ x9,u9 ] in XU by A14,A17,XBOOLE_0:def 4;
then du in ( pmetR .: XU ) by A18,A19,FUNCT_1:def 6;
hence thesis by A7;
end;
U is  open by A5,CKB5:1;
hence thesis by A8,A9;
end;
hence distx is_continuous_at t by TMAP_1:43;
end;
then distx is  continuous by TMAP_1:50;
hence thesis by TOPREAL6:74;
end;
