environ
vocabularies NUMBERS,REAL_1,SUBSET_1,SEQ_1,FDIFF_1,FUNCT_1,RCOMP_1,PARTFUN1,ARYTM_1,VALUED_0,SEQ_2,ORDINAL2,CARD_1,RELAT_1,ARYTM_3,XREAL_0,ORDINAL1,XXREAL_0,COMPLEX1,NAT_1,TARSKI,VALUED_1,FUNCT_2,FUNCOP_1,XXREAL_1,FCONT_1,SQUARE_1,XBOOLE_0,ORDINAL4,LIMFUNC1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,FUNCT_1,FUNCT_2,VALUED_0,VALUED_1,SEQ_1,RELSET_1,SEQ_2,PARTFUN1,SQUARE_1,PARTFUN2,RFUNCT_1,RCOMP_1,FCONT_1,FDIFF_1,LIMFUNC1,RECDEF_1,CKB1;
definitions TARSKI,XBOOLE_0,FDIFF_1,SQUARE_1,SUBSET_1,LIMFUNC1,PROB_1,VALUED_0,VALUED_1,SEQM_3;
theorems TARSKI,FUNCT_1,FUNCT_2,NAT_1,SEQ_1,SEQ_2,SEQM_3,SEQ_4,ABSVALUE,PARTFUN1,PARTFUN2,RCOMP_1,RFUNCT_1,RFUNCT_2,FCONT_1,FDIFF_1,SCHEME1,ROLLE,FCONT_3,FUNCT_3,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,COMPLEX1,FUNCOP_1,XREAL_1,XXREAL_0,ORDINAL1,VALUED_1,XXREAL_1,VALUED_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
schemes NAT_1,RECDEF_1,SEQ_1,SCHEME1,FUNCT_2,CKB11;
registrations ORDINAL1,RELSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,MEMBERED,SEQM_3,RCOMP_1,RFUNCT_2,FDIFF_1,FCONT_3,VALUED_0,VALUED_1,FUNCT_2,FUNCOP_1,SEQ_4;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,SEQM_3,PROB_1,RCOMP_1,PARTFUN2,RFUNCT_1,RFUNCT_2,FCONT_1,LIMFUNC1,FDIFF_1,SEQ_1,VALUED_1,RECDEF_1,RELSET_1,BINOP_2,RVSUM_1,CKB1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x0 for Real;
reserve r for Real;
reserve A for  open (Subset of ( REAL ));
reserve f for (PartFunc of ( REAL ),( REAL ));
reserve L for LINEAR;
reserve R for REST;
theorem
(f is_differentiable_on A implies (( f | A ) is_differentiable_on A & ( f `| A ) = ( ( f | A ) `| A )))
proof
assume A1: f is_differentiable_on A;
then A c= ( dom f ) by FDIFF_1:def 6;
then A c= ( ( dom f ) /\ A ) by XBOOLE_1:19;
then A2: A c= ( dom ( f | A ) ) by RELAT_1:61;
now
let x0;
assume x0 in A;
then ( f | A ) is_differentiable_in x0 by A1,FDIFF_1:def 6;
hence ( ( f | A ) | A ) is_differentiable_in x0 by RELAT_1:72;
end;
hence A3: ( f | A ) is_differentiable_on A by A2,FDIFF_1:def 6;
then A4: ( dom ( ( f | A ) `| A ) ) = A by FDIFF_1:def 7;
A5:now
let x0;
assume A6: x0 in A;
then consider N2 being (Neighbourhood of x0) such that A7: N2 c= A by RCOMP_1:18;
A8: ( f | A ) is_differentiable_in x0 by A1,A6,FDIFF_1:def 6;
A9: f is_differentiable_in x0 by A1,A6,FDIFF_1:9;
then consider N1 being (Neighbourhood of x0) such that A10: N1 c= ( dom f ) and A11: (ex L st (ex R st (for r holds (r in N1 implies ( ( f . r ) - ( f . x0 ) ) = ( ( L . ( r - x0 ) ) + ( R . ( r - x0 ) ) ))))) by FDIFF_1:def 4;
consider L,R such that A12: (for r holds (r in N1 implies ( ( f . r ) - ( f . x0 ) ) = ( ( L . ( r - x0 ) ) + ( R . ( r - x0 ) ) ))) by A11;
consider N being (Neighbourhood of x0) such that A13: N c= N1 and A14: N c= N2 by RCOMP_1:17;
A15: N c= A by A7,A14,XBOOLE_1:1;
then A16: N c= ( dom ( f | A ) ) by A2,XBOOLE_1:1;
A17:now
let r;
assume A18: r in N;
then A19: r in A by A15;
thus ( ( ( f | A ) . r ) - ( ( f | A ) . x0 ) ) = ( ( ( f | A ) . r ) - ( f . x0 ) ) by A2,A6,FUNCT_1:47
.= ( ( f . r ) - ( f . x0 ) ) by A2,A19,FUNCT_1:47
.= ( ( L . ( r - x0 ) ) + ( R . ( r - x0 ) ) ) by A12,A13,A18;
end;
thus ( ( f `| A ) . x0 ) = ( diff (f,x0) ) by A1,A6,FDIFF_1:def 7
.= ( L . 1 ) by A9,A10,A12,FDIFF_1:def 5
.= ( diff (( f | A ),x0) ) by A8,A16,A17,FDIFF_1:def 5
.= ( ( ( f | A ) `| A ) . x0 ) by A3,A6,FDIFF_1:def 7;
end;
( dom ( f `| A ) ) = A by A1,FDIFF_1:def 7;
hence thesis by A4,A5,PARTFUN1:5;
end;
