environ
vocabularies NUMBERS,REAL_1,SUBSET_1,SEQ_1,FDIFF_1,FUNCT_1,RCOMP_1,PARTFUN1,ARYTM_1,VALUED_0,SEQ_2,ORDINAL2,CARD_1,RELAT_1,ARYTM_3,XREAL_0,ORDINAL1,XXREAL_0,COMPLEX1,NAT_1,TARSKI,VALUED_1,FUNCT_2,FUNCOP_1,XXREAL_1,FCONT_1,SQUARE_1,XBOOLE_0,ORDINAL4,LIMFUNC1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,FUNCT_1,FUNCT_2,VALUED_0,VALUED_1,SEQ_1,RELSET_1,SEQ_2,PARTFUN1,SQUARE_1,PARTFUN2,RFUNCT_1,RCOMP_1,FCONT_1,FDIFF_1,LIMFUNC1,RECDEF_1,CKB1;
definitions TARSKI,XBOOLE_0,FDIFF_1,SQUARE_1,SUBSET_1,LIMFUNC1,PROB_1,VALUED_0,VALUED_1,SEQM_3;
theorems TARSKI,FUNCT_1,FUNCT_2,NAT_1,SEQ_1,SEQ_2,SEQM_3,SEQ_4,ABSVALUE,PARTFUN1,PARTFUN2,RCOMP_1,RFUNCT_1,RFUNCT_2,FCONT_1,FDIFF_1,SCHEME1,ROLLE,FCONT_3,FUNCT_3,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,COMPLEX1,FUNCOP_1,XREAL_1,XXREAL_0,ORDINAL1,VALUED_1,XXREAL_1,VALUED_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53;
schemes NAT_1,RECDEF_1,SEQ_1,SCHEME1,FUNCT_2,CKB11;
registrations ORDINAL1,RELSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,MEMBERED,SEQM_3,RCOMP_1,RFUNCT_2,FDIFF_1,FCONT_3,VALUED_0,VALUED_1,FUNCT_2,FUNCOP_1,SEQ_4;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,SEQM_3,PROB_1,RCOMP_1,PARTFUN2,RFUNCT_1,RFUNCT_2,FCONT_1,LIMFUNC1,FDIFF_1,SEQ_1,VALUED_1,RECDEF_1,RELSET_1,BINOP_2,RVSUM_1,CKB1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x0 for Real;
reserve n for (Element of ( NAT ));
reserve h for  convergent_to_0 Real_Sequence;
reserve c for  constant Real_Sequence;
reserve f for (PartFunc of ( REAL ),( REAL ));
theorem
(f is_differentiable_in x0 implies (for h holds (for c holds (((( rng c ) = { x0 } & ( rng ( h + c ) ) c= ( dom f )) & ( rng ( ( - h ) + c ) ) c= ( dom f )) implies (( ( ( 2 (#) h ) " ) (#) ( ( f /* ( c + h ) ) - ( f /* ( c - h ) ) ) ) is  convergent & ( lim ( ( ( 2 (#) h ) " ) (#) ( ( f /* ( c + h ) ) - ( f /* ( c - h ) ) ) ) ) = ( diff (f,x0) ))))))
proof
assume A1: f is_differentiable_in x0;
let h;
let c;
assume that
A2: ( rng c ) = { x0 }
and
A3: ( rng ( h + c ) ) c= ( dom f )
and
A4: ( rng ( ( - h ) + c ) ) c= ( dom f );
set fm = ( ( ( - h ) " ) (#) ( ( f /* ( ( - h ) + c ) ) - ( f /* c ) ) );
A5: ( lim fm ) = ( diff (f,x0) ) by A1,A2,A4,CKB15:1;
set fp = ( ( h " ) (#) ( ( f /* ( h + c ) ) - ( f /* c ) ) );
A6: ( diff (f,x0) ) = ( diff (f,x0) );
then A7: fm is  convergent by A1,A2,A4,CKB15:1;
A8: fp is  convergent by A1,A2,A3,A6,CKB15:1;
then A9: ( fp + fm ) is  convergent by A7,SEQ_2:5;
A10:now
let n;
thus ( ( ( ( f /* ( c + h ) ) - ( f /* ( c - h ) ) ) + ( ( f /* c ) - ( f /* c ) ) ) . n ) = ( ( ( ( f /* ( c + h ) ) - ( f /* ( c - h ) ) ) . n ) + ( ( ( f /* c ) - ( f /* c ) ) . n ) ) by SEQ_1:7
.= ( ( ( ( f /* ( c + h ) ) - ( f /* ( c - h ) ) ) . n ) + ( ( ( f /* c ) . n ) - ( ( f /* c ) . n ) ) ) by RFUNCT_2:1
.= ( ( ( f /* ( c + h ) ) - ( f /* ( c - h ) ) ) . n );
end;
A11: ( ( 2 " ) (#) ( fp + fm ) ) = ( ( 2 " ) (#) ( ( ( h " ) (#) ( ( f /* ( c + h ) ) - ( f /* c ) ) ) + ( ( ( - 1 ) (#) ( h " ) ) (#) ( ( f /* ( c + ( - h ) ) ) - ( f /* c ) ) ) ) ) by SEQ_1:47
.= ( ( 2 " ) (#) ( ( ( h " ) (#) ( ( f /* ( c + h ) ) - ( f /* c ) ) ) + ( ( - 1 ) (#) ( ( h " ) (#) ( ( f /* ( c + ( - h ) ) ) - ( f /* c ) ) ) ) ) ) by SEQ_1:18
.= ( ( 2 " ) (#) ( ( ( h " ) (#) ( ( f /* ( c + h ) ) - ( f /* c ) ) ) + ( ( h " ) (#) ( ( - 1 ) (#) ( ( f /* ( c + ( - h ) ) ) - ( f /* c ) ) ) ) ) ) by SEQ_1:19
.= ( ( 2 " ) (#) ( ( h " ) (#) ( ( ( f /* ( c + h ) ) - ( f /* c ) ) + ( ( - 1 ) (#) ( ( f /* ( c + ( - h ) ) ) - ( f /* c ) ) ) ) ) ) by SEQ_1:16
.= ( ( ( 2 " ) (#) ( h " ) ) (#) ( ( ( f /* ( c + h ) ) - ( f /* c ) ) + ( ( - 1 ) (#) ( ( f /* ( c + ( - h ) ) ) - ( f /* c ) ) ) ) ) by SEQ_1:18
.= ( ( ( 2 (#) h ) " ) (#) ( ( ( f /* ( c + h ) ) - ( f /* c ) ) + ( ( - 1 ) (#) ( ( f /* ( c + ( - h ) ) ) - ( f /* c ) ) ) ) ) by SEQ_1:46
.= ( ( ( 2 (#) h ) " ) (#) ( ( f /* ( c + h ) ) - ( ( f /* c ) - ( - ( ( f /* ( c + ( - h ) ) ) - ( f /* c ) ) ) ) ) ) by SEQ_1:30
.= ( ( ( 2 (#) h ) " ) (#) ( ( f /* ( c + h ) ) - ( ( f /* ( c + ( - h ) ) ) - ( ( f /* c ) - ( f /* c ) ) ) ) ) by SEQ_1:30
.= ( ( ( 2 (#) h ) " ) (#) ( ( ( f /* ( c + h ) ) - ( f /* ( c - h ) ) ) + ( ( f /* c ) - ( f /* c ) ) ) ) by SEQ_1:30;
( lim fp ) = ( diff (f,x0) ) by A1,A2,A3,CKB15:1;
then ( lim ( fp + fm ) ) = ( ( 1 * ( diff (f,x0) ) ) + ( diff (f,x0) ) ) by A8,A7,A5,SEQ_2:6
.= ( 2 * ( diff (f,x0) ) );
then A12: ( lim ( ( 2 " ) (#) ( fp + fm ) ) ) = ( ( 2 " ) * ( 2 * ( diff (f,x0) ) ) ) by A9,SEQ_2:8
.= ( diff (f,x0) );
( ( 2 " ) (#) ( fp + fm ) ) is  convergent by A9,SEQ_2:7;
hence thesis by A12,A11,A10,FUNCT_2:63;
end;
