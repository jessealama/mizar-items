environ
vocabularies NUMBERS,REAL_1,SUBSET_1,SEQ_1,FDIFF_1,FUNCT_1,RCOMP_1,PARTFUN1,ARYTM_1,VALUED_0,SEQ_2,ORDINAL2,CARD_1,RELAT_1,ARYTM_3,XREAL_0,ORDINAL1,XXREAL_0,COMPLEX1,NAT_1,TARSKI,VALUED_1,FUNCT_2,FUNCOP_1,XXREAL_1,FCONT_1,SQUARE_1,XBOOLE_0,ORDINAL4,LIMFUNC1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,FUNCT_1,FUNCT_2,VALUED_0,VALUED_1,SEQ_1,RELSET_1,SEQ_2,PARTFUN1,SQUARE_1,PARTFUN2,RFUNCT_1,RCOMP_1,FCONT_1,FDIFF_1,LIMFUNC1,RECDEF_1,CKB1;
definitions TARSKI,XBOOLE_0,FDIFF_1,SQUARE_1,SUBSET_1,LIMFUNC1,PROB_1,VALUED_0,VALUED_1,SEQM_3;
theorems TARSKI,FUNCT_1,FUNCT_2,NAT_1,SEQ_1,SEQ_2,SEQM_3,SEQ_4,ABSVALUE,PARTFUN1,PARTFUN2,RCOMP_1,RFUNCT_1,RFUNCT_2,FCONT_1,FDIFF_1,SCHEME1,ROLLE,FCONT_3,FUNCT_3,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,COMPLEX1,FUNCOP_1,XREAL_1,XXREAL_0,ORDINAL1,VALUED_1,XXREAL_1,VALUED_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15;
schemes NAT_1,RECDEF_1,SEQ_1,SCHEME1,FUNCT_2,CKB11;
registrations ORDINAL1,RELSET_1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,NAT_1,MEMBERED,SEQM_3,RCOMP_1,RFUNCT_2,FDIFF_1,FCONT_3,VALUED_0,VALUED_1,FUNCT_2,FUNCOP_1,SEQ_4;
constructors PARTFUN1,REAL_1,SQUARE_1,NAT_1,COMPLEX1,SEQ_2,SEQM_3,PROB_1,RCOMP_1,PARTFUN2,RFUNCT_1,RFUNCT_2,FCONT_1,LIMFUNC1,FDIFF_1,SEQ_1,VALUED_1,RECDEF_1,RELSET_1,BINOP_2,RVSUM_1,CKB1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve x for set;
reserve x0 for Real;
reserve r for Real;
reserve r1 for Real;
reserve n for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve l for (Element of ( NAT ));
reserve h for  convergent_to_0 Real_Sequence;
reserve c for  constant Real_Sequence;
reserve f1 for (PartFunc of ( REAL ),( REAL ));
reserve f2 for (PartFunc of ( REAL ),( REAL ));
theorem
Lm2: ((((ex N being (Neighbourhood of x0) st N c= ( dom ( f2 * f1 ) )) & f1 is_differentiable_in x0) & f2 is_differentiable_in ( f1 . x0 )) implies (( f2 * f1 ) is_differentiable_in x0 & ( diff (( f2 * f1 ),x0) ) = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) )))
proof
given N being (Neighbourhood of x0) such that
A1: N c= ( dom ( f2 * f1 ) );

assume that
A2: f1 is_differentiable_in x0
and
A3: f2 is_differentiable_in ( f1 . x0 );
(for h holds (for c holds ((( rng c ) = { x0 } & ( rng ( h + c ) ) c= ( dom ( f2 * f1 ) )) implies (( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) is  convergent & ( lim ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) ) = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) )))))
proof
let h;
let c;
assume that
A4: ( rng c ) = { x0 }
and
A5: ( rng ( h + c ) ) c= ( dom ( f2 * f1 ) );
A6: ( rng ( h + c ) ) c= ( dom f1 ) by A5,CKB10:1;
set a = ( f1 /* c );
A7:now
let n;
( c . n ) in ( rng c ) by VALUED_0:28;
hence ( c . n ) = x0 by A4,TARSKI:def 1;
end;
A8: ( rng c ) c= ( dom ( f2 * f1 ) )
proof
let x;
assume x in ( rng c );
then A9: (ex n st ( c . n ) = x) by FUNCT_2:113;
x0 in N by RCOMP_1:16;
then x0 in ( dom ( f2 * f1 ) ) by A1;
hence thesis by A7,A9;
end;
set d = ( ( f1 /* ( h + c ) ) - ( f1 /* c ) );
A10: ( lim h ) = ( 0 ) by FDIFF_1:def 1;
A11: h is  convergent by FDIFF_1:def 1;
then A12: ( h + c ) is  convergent by SEQ_2:5;
( lim c ) = ( c . ( 0 ) ) by SEQ_4:25;
then ( lim c ) = x0 by A7;
then A13: ( lim ( h + c ) ) = ( ( 0 ) + x0 ) by A11,A10,SEQ_2:6
.= x0;
A14: f1 is_continuous_in x0 by A2,FDIFF_1:24;
then A15: ( f1 /* ( h + c ) ) is  convergent by A6,A12,A13,FCONT_1:def 1;
A16: ( f1 . x0 ) = ( lim ( f1 /* ( h + c ) ) ) by A6,A12,A13,A14,FCONT_1:def 1;
A17: ( rng ( f1 /* ( h + c ) ) ) c= ( dom f2 ) by A5,CKB10:1;
A18: ( rng c ) c= ( dom f1 )
proof
let x;
assume x in ( rng c );
then A19: x = x0 by A4,TARSKI:def 1;
x0 in N by RCOMP_1:16;
hence thesis by A1,A19,FUNCT_1:11;
end;
A20: ( rng a ) = { ( f1 . x0 ) }
proof
thus ( rng a ) c= { ( f1 . x0 ) }
proof
let x;
assume x in ( rng a );
then consider n such that A21: ( a . n ) = x by FUNCT_2:113;
( c . n ) = x0 by A7;
then x = ( f1 . x0 ) by A18,A21,FUNCT_2:108;
hence thesis by TARSKI:def 1;
end;

let x;
A22: ( a . ( 0 ) ) in ( rng a ) by VALUED_0:28;
assume x in { ( f1 . x0 ) };
then A23: x = ( f1 . x0 ) by TARSKI:def 1;
( c . ( 0 ) ) = x0 by A7;
hence thesis by A18,A23,A22,FUNCT_2:108;
end;
A24: ( rng a ) c= ( dom f2 )
proof
let x;
assume x in ( rng a );
then A25: x = ( f1 . x0 ) by A20,TARSKI:def 1;
x0 in N by RCOMP_1:16;
hence thesis by A1,A25,FUNCT_1:11;
end;
A26:now
let n being Nat;
( a . n ) in ( rng a ) by VALUED_0:28;
then A27: ( a . n ) = ( f1 . x0 ) by A20,TARSKI:def 1;
( a . ( n + 1 ) ) in ( rng a ) by VALUED_0:28;
hence ( a . n ) = ( a . ( n + 1 ) ) by A20,A27,TARSKI:def 1;
end;
then a is  constant by VALUED_0:25;
then A28: d is  convergent by A15,SEQ_2:11;
reconsider a as  constant Real_Sequence by A26,VALUED_0:25;
( a . ( 0 ) ) in ( rng a ) by VALUED_0:28;
then ( a . ( 0 ) ) = ( f1 . x0 ) by A20,TARSKI:def 1;
then ( lim a ) = ( f1 . x0 ) by SEQ_4:25;
then A29: ( lim d ) = ( ( f1 . x0 ) - ( f1 . x0 ) ) by A15,A16,SEQ_2:12
.= ( 0 );
(( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) is  convergent & ( lim ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) ) = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ))
proof
per cases ;
suppose (ex k st (for n holds (k <= n implies ( ( f1 /* ( h + c ) ) . n ) <> ( f1 . x0 ))));

then consider k such that A30: (for n holds (k <= n implies ( ( f1 /* ( h + c ) ) . n ) <> ( f1 . x0 )));
now
given n such that
A31: ( ( d ^\ k ) . n ) = ( 0 );

( 0 ) = ( d . ( n + k ) ) by A31,NAT_1:def 3
.= ( ( ( f1 /* ( h + c ) ) . ( n + k ) ) - ( ( f1 /* c ) . ( n + k ) ) ) by RFUNCT_2:1
.= ( ( ( f1 /* ( h + c ) ) . ( n + k ) ) - ( f1 . ( c . ( n + k ) ) ) ) by A18,FUNCT_2:108
.= ( ( ( f1 /* ( h + c ) ) . ( n + k ) ) - ( f1 . x0 ) ) by A7;
hence contradiction by A30,NAT_1:12;
end;
then A32: ( d ^\ k ) is  non-zero by SEQ_1:5;
set c1 = ( c ^\ k );
set h1 = ( h ^\ k );
set a1 = ( a ^\ k );
set s = ( ( h1 " ) (#) ( ( f1 /* ( h1 + c1 ) ) - ( f1 /* c1 ) ) );
A33:now
let n;
thus ( ( d + a ) . n ) = ( ( d . n ) + ( a . n ) ) by SEQ_1:7
.= ( ( ( ( f1 /* ( h + c ) ) . n ) - ( a . n ) ) + ( a . n ) ) by RFUNCT_2:1
.= ( ( f1 /* ( h + c ) ) . n );
end;
( lim ( d ^\ k ) ) = ( 0 ) by A28,A29,SEQ_4:20;
then reconsider d1 = ( d ^\ k ) as  convergent_to_0 Real_Sequence by A28,A32,FDIFF_1:def 1;
set t = ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) );
( d1 + a1 ) = ( ( d + a ) ^\ k ) by SEQM_3:15;
then A34: ( d1 + a1 ) = ( ( f1 /* ( h + c ) ) ^\ k ) by A33,FUNCT_2:63;
( rng ( ( f1 /* ( h + c ) ) ^\ k ) ) c= ( rng ( f1 /* ( h + c ) ) ) by VALUED_0:21;
then A35: ( rng ( d1 + a1 ) ) c= ( dom f2 ) by A17,A34,XBOOLE_1:1;
A36: ( rng a1 ) = { ( f1 . x0 ) } by A20,VALUED_0:26;
then A37: ( lim t ) = ( diff (f2,( f1 . x0 )) ) by A3,A35,CKB15:1;
( diff (f2,( f1 . x0 )) ) = ( diff (f2,( f1 . x0 )) );
then A38: t is  convergent by A3,A36,A35,CKB15:1;
( rng ( ( h + c ) ^\ k ) ) c= ( rng ( h + c ) ) by VALUED_0:21;
then ( rng ( ( h + c ) ^\ k ) ) c= ( dom f1 ) by A6,XBOOLE_1:1;
then A39: ( rng ( h1 + c1 ) ) c= ( dom f1 ) by SEQM_3:15;
A40: ( rng c1 ) = { x0 } by A4,VALUED_0:26;
( diff (f1,x0) ) = ( diff (f1,x0) );
then A41: s is  convergent by A2,A40,A39,CKB15:1;
A42: ( t (#) s ) = ( ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) ) (#) ( ( ( f1 /* ( ( h + c ) ^\ k ) ) - ( f1 /* c1 ) ) (#) ( h1 " ) ) ) by SEQM_3:15
.= ( ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) ) (#) ( ( ( ( f1 /* ( h + c ) ) ^\ k ) - ( f1 /* c1 ) ) (#) ( h1 " ) ) ) by A6,VALUED_0:27
.= ( ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) ) (#) ( ( ( ( f1 /* ( h + c ) ) ^\ k ) - ( ( f1 /* c ) ^\ k ) ) (#) ( h1 " ) ) ) by A18,VALUED_0:27
.= ( ( ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) /" d1 ) (#) ( d1 (#) ( h1 " ) ) ) by SEQM_3:17
.= ( ( ( ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) /" d1 ) (#) d1 ) (#) ( h1 " ) ) by SEQ_1:14
.= ( ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) (#) ( h1 " ) ) by A32,SEQ_1:37
.= ( ( ( ( f2 /* ( f1 /* ( h + c ) ) ) ^\ k ) - ( f2 /* a1 ) ) (#) ( h1 " ) ) by A17,A34,VALUED_0:27
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) ^\ k ) - ( f2 /* a1 ) ) (#) ( h1 " ) ) by A5,VALUED_0:31
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) ^\ k ) - ( ( f2 /* a ) ^\ k ) ) (#) ( h1 " ) ) by A24,VALUED_0:27
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) ^\ k ) - ( ( ( f2 * f1 ) /* c ) ^\ k ) ) (#) ( h1 " ) ) by A8,VALUED_0:31
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ^\ k ) (#) ( h1 " ) ) by SEQM_3:17
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ^\ k ) (#) ( ( h " ) ^\ k ) ) by SEQM_3:18
.= ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) ^\ k ) by SEQM_3:19;
then A43: ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) ^\ k ) is  convergent by A41,A38,SEQ_2:14;
hence ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) is  convergent by SEQ_4:21;
( lim s ) = ( diff (f1,x0) ) by A2,A40,A39,CKB15:1;
then ( lim ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) ^\ k ) ) = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) by A42,A41,A38,A37,SEQ_2:15;
hence thesis by A43,SEQ_4:22;
end;
suppose A44: (for k holds (ex n st (k <= n & ( ( f1 /* ( h + c ) ) . n ) = ( f1 . x0 ))));

defpred P[ set ]
 means
$1 = ( f1 . x0 );
A45: (for k holds (ex n st (k <= n & P[ ( ( f1 /* ( h + c ) ) . n ) ]))) by A44;
consider I1 being  increasing (sequence of ( NAT )) such that A46: (for n holds P[ ( ( ( f1 /* ( h + c ) ) * I1 ) . n ) ]) and (for n holds ((for r holds (r = ( ( f1 /* ( h + c ) ) . n ) implies P[ r ])) implies (ex m st n = ( I1 . m )))) from CKB11:sch 1(A45);
( h * I1 ) is (subsequence of h) by VALUED_0:def 17;
then reconsider h1 = ( h * I1 ) as  convergent_to_0 Real_Sequence by CKB7:1;
set c1 = ( c * I1 );
A47: c1 is (subsequence of c) by VALUED_0:def 17;
then A48: c1 = c by VALUED_0:26;
A49: ( rng c1 ) = { x0 } by A4,A47,VALUED_0:26;
reconsider c1 as  constant Real_Sequence;
A50:now
let g being  real number;
assume that
A51: ( 0 ) < g;
take n = ( 0 );
let m;
assume that
n <= m;
( abs ( ( ( ( h1 " ) (#) ( ( f1 /* ( h1 + c1 ) ) - ( f1 /* c1 ) ) ) . m ) - ( 0 ) ) ) = ( abs ( ( ( h1 " ) . m ) * ( ( ( f1 /* ( h1 + c1 ) ) - ( f1 /* c1 ) ) . m ) ) ) by SEQ_1:8
.= ( abs ( ( ( h1 " ) . m ) * ( ( ( f1 /* ( h1 + c1 ) ) . m ) - ( ( f1 /* c1 ) . m ) ) ) ) by RFUNCT_2:1
.= ( abs ( ( ( h1 " ) . m ) * ( ( ( f1 /* ( h1 + c1 ) ) . m ) - ( f1 . ( c . m ) ) ) ) ) by A18,A48,FUNCT_2:108
.= ( abs ( ( ( h1 " ) . m ) * ( ( ( f1 /* ( h1 + c1 ) ) . m ) - ( f1 . x0 ) ) ) ) by A7
.= ( abs ( ( ( h1 " ) . m ) * ( ( ( f1 /* ( ( h + c ) * I1 ) ) . m ) - ( f1 . x0 ) ) ) ) by RFUNCT_2:2
.= ( abs ( ( ( h1 " ) . m ) * ( ( ( ( f1 /* ( h + c ) ) * I1 ) . m ) - ( f1 . x0 ) ) ) ) by A6,FUNCT_2:110
.= ( abs ( ( ( h1 " ) . m ) * ( ( f1 . x0 ) - ( f1 . x0 ) ) ) ) by A46
.= ( 0 ) by ABSVALUE:2;
hence ( abs ( ( ( ( h1 " ) (#) ( ( f1 /* ( h1 + c1 ) ) - ( f1 /* c1 ) ) ) . m ) - ( 0 ) ) ) < g by A51;
end;
( ( h + c ) * I1 ) is (subsequence of ( h + c )) by VALUED_0:def 17;
then ( rng ( ( h + c ) * I1 ) ) c= ( rng ( h + c ) ) by VALUED_0:21;
then ( rng ( ( h + c ) * I1 ) ) c= ( dom f1 ) by A6,XBOOLE_1:1;
then A52: ( rng ( h1 + c1 ) ) c= ( dom f1 ) by RFUNCT_2:2;
then A53: ( lim ( ( h1 " ) (#) ( ( f1 /* ( h1 + c1 ) ) - ( f1 /* c1 ) ) ) ) = ( diff (f1,x0) ) by A2,A49,CKB15:1;
( diff (f1,x0) ) = ( diff (f1,x0) );
then ( ( h1 " ) (#) ( ( f1 /* ( h1 + c1 ) ) - ( f1 /* c1 ) ) ) is  convergent by A2,A49,A52,CKB15:1;
then A54: ( diff (f1,x0) ) = ( 0 ) by A53,A50,SEQ_2:def 7;
now
per cases ;
suppose (ex k st (for n holds (k <= n implies ( ( f1 /* ( h + c ) ) . n ) = ( f1 . x0 ))));

then consider k such that A55: (for n holds (k <= n implies ( ( f1 /* ( h + c ) ) . n ) = ( f1 . x0 )));
A56:now
let g being  real number;
assume that
A57: ( 0 ) < g;
take n = k;
let m;
assume n <= m;
then A58: ( ( f1 /* ( h + c ) ) . m ) = ( f1 . x0 ) by A55;
( abs ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) . m ) - ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) ) ) = ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) . m ) ) ) by A54,SEQ_1:8
.= ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) . m ) - ( ( ( f2 * f1 ) /* c ) . m ) ) ) ) by RFUNCT_2:1
.= ( abs ( ( ( h " ) . m ) * ( ( ( f2 /* ( f1 /* ( h + c ) ) ) . m ) - ( ( ( f2 * f1 ) /* c ) . m ) ) ) ) by A5,VALUED_0:31
.= ( abs ( ( ( h " ) . m ) * ( ( f2 . ( ( f1 /* ( h + c ) ) . m ) ) - ( ( ( f2 * f1 ) /* c ) . m ) ) ) ) by A17,FUNCT_2:108
.= ( abs ( ( ( h " ) . m ) * ( ( f2 . ( f1 . x0 ) ) - ( ( f2 /* ( f1 /* c ) ) . m ) ) ) ) by A8,A58,VALUED_0:31
.= ( abs ( ( ( h " ) . m ) * ( ( f2 . ( f1 . x0 ) ) - ( f2 . ( ( f1 /* c ) . m ) ) ) ) ) by A24,FUNCT_2:108
.= ( abs ( ( ( h " ) . m ) * ( ( f2 . ( f1 . x0 ) ) - ( f2 . ( f1 . ( c . m ) ) ) ) ) ) by A18,FUNCT_2:108
.= ( abs ( ( ( h " ) . m ) * ( ( f2 . ( f1 . x0 ) ) - ( f2 . ( f1 . x0 ) ) ) ) ) by A7
.= ( 0 ) by ABSVALUE:2;
hence ( abs ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) . m ) - ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) ) ) < g by A57;
end;
hence ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) is  convergent by SEQ_2:def 6;
hence ( lim ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) ) = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) by A56,SEQ_2:def 7;
end;
suppose A59: (for k holds (ex n st (k <= n & ( ( f1 /* ( h + c ) ) . n ) <> ( f1 . x0 ))));

defpred P[ set ]
 means
$1 <> ( f1 . x0 );
A60: (for k holds (ex n st (k <= n & P[ ( ( f1 /* ( h + c ) ) . n ) ]))) by A59;
consider I2 being  increasing (sequence of ( NAT )) such that A61: (for n holds P[ ( ( ( f1 /* ( h + c ) ) * I2 ) . n ) ]) and A62: (for n holds ((for r holds (r = ( ( f1 /* ( h + c ) ) . n ) implies P[ r ])) implies (ex m st n = ( I2 . m )))) from CKB11:sch 1(A60);
now
given n such that
A63: ( ( d * I2 ) . n ) = ( 0 );

( 0 ) = ( d . ( I2 . n ) ) by A63,FUNCT_2:15
.= ( ( ( f1 /* ( h + c ) ) . ( I2 . n ) ) - ( ( f1 /* c ) . ( I2 . n ) ) ) by RFUNCT_2:1
.= ( ( ( f1 /* ( h + c ) ) . ( I2 . n ) ) - ( f1 . ( c . ( I2 . n ) ) ) ) by A18,FUNCT_2:108
.= ( ( ( f1 /* ( h + c ) ) . ( I2 . n ) ) - ( f1 . x0 ) ) by A7
.= ( ( ( ( f1 /* ( h + c ) ) * I2 ) . n ) - ( f1 . x0 ) ) by FUNCT_2:15;
hence contradiction by A61;
end;
then A64: ( d * I2 ) is  non-zero by SEQ_1:5;
( h * I2 ) is (subsequence of h) by VALUED_0:def 17;
then reconsider h2 = ( h * I2 ) as  convergent_to_0 Real_Sequence by CKB7:1;
set a1 = ( a * I2 );
set c2 = ( c * I2 );
reconsider c2 as  constant Real_Sequence;
set s = ( ( h2 " ) (#) ( ( f1 /* ( h2 + c2 ) ) - ( f1 /* c2 ) ) );
A65: ( d * I2 ) is (subsequence of d) by VALUED_0:def 17;
then A66: ( d * I2 ) is  convergent by A28,SEQ_4:16;
( lim ( d * I2 ) ) = ( 0 ) by A28,A29,A65,SEQ_4:17;
then reconsider d1 = ( d * I2 ) as  convergent_to_0 Real_Sequence by A66,A64,FDIFF_1:def 1;
set t = ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) );
a1 is (subsequence of a) by VALUED_0:def 17;
then A67: ( rng a1 ) = { ( f1 . x0 ) } by A20,VALUED_0:26;
A68:now
let n;
thus ( ( d + a ) . n ) = ( ( d . n ) + ( a . n ) ) by SEQ_1:7
.= ( ( ( ( f1 /* ( h + c ) ) . n ) - ( a . n ) ) + ( a . n ) ) by RFUNCT_2:1
.= ( ( f1 /* ( h + c ) ) . n );
end;
( d1 + a1 ) = ( ( d + a ) * I2 ) by RFUNCT_2:2;
then A69: ( d1 + a1 ) = ( ( f1 /* ( h + c ) ) * I2 ) by A68,FUNCT_2:63;
A70: ( t (#) s ) = ( ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) ) (#) ( ( ( f1 /* ( ( h + c ) * I2 ) ) - ( f1 /* c2 ) ) (#) ( h2 " ) ) ) by RFUNCT_2:2
.= ( ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) ) (#) ( ( ( ( f1 /* ( h + c ) ) * I2 ) - ( f1 /* c2 ) ) (#) ( h2 " ) ) ) by A6,FUNCT_2:110
.= ( ( ( d1 " ) (#) ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) ) (#) ( ( ( ( f1 /* ( h + c ) ) * I2 ) - ( ( f1 /* c ) * I2 ) ) (#) ( h2 " ) ) ) by A18,FUNCT_2:110
.= ( ( ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) /" d1 ) (#) ( d1 (#) ( h2 " ) ) ) by RFUNCT_2:2
.= ( ( ( ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) /" d1 ) (#) d1 ) (#) ( h2 " ) ) by SEQ_1:14
.= ( ( ( f2 /* ( d1 + a1 ) ) - ( f2 /* a1 ) ) (#) ( h2 " ) ) by A64,SEQ_1:37
.= ( ( ( ( f2 /* ( f1 /* ( h + c ) ) ) * I2 ) - ( f2 /* a1 ) ) (#) ( h2 " ) ) by A17,A69,FUNCT_2:110
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) * I2 ) - ( f2 /* a1 ) ) (#) ( h2 " ) ) by A5,VALUED_0:31
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) * I2 ) - ( ( f2 /* a ) * I2 ) ) (#) ( h2 " ) ) by A24,FUNCT_2:110
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) * I2 ) - ( ( ( f2 * f1 ) /* c ) * I2 ) ) (#) ( h2 " ) ) by A8,VALUED_0:31
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) * I2 ) (#) ( h2 " ) ) by RFUNCT_2:2
.= ( ( ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) * I2 ) (#) ( ( h " ) * I2 ) ) by RFUNCT_2:5
.= ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) * I2 ) by RFUNCT_2:2;
reconsider a1 as  constant Real_Sequence;
( ( f1 /* ( h + c ) ) * I2 ) is (subsequence of ( f1 /* ( h + c ) )) by VALUED_0:def 17;
then ( rng ( ( f1 /* ( h + c ) ) * I2 ) ) c= ( rng ( f1 /* ( h + c ) ) ) by VALUED_0:21;
then A71: ( rng ( d1 + a1 ) ) c= ( dom f2 ) by A17,A69,XBOOLE_1:1;
( ( h + c ) * I2 ) is (subsequence of ( h + c )) by VALUED_0:def 17;
then ( rng ( ( h + c ) * I2 ) ) c= ( rng ( h + c ) ) by VALUED_0:21;
then ( rng ( ( h + c ) * I2 ) ) c= ( dom f1 ) by A6,XBOOLE_1:1;
then A72: ( rng ( h2 + c2 ) ) c= ( dom f1 ) by RFUNCT_2:2;
c2 is (subsequence of c) by VALUED_0:def 17;
then A73: ( rng c2 ) = { x0 } by A4,VALUED_0:26;
then A74: ( lim s ) = ( diff (f1,x0) ) by A2,A72,CKB15:1;
( diff (f1,x0) ) = ( diff (f1,x0) );
then A75: s is  convergent by A2,A73,A72,CKB15:1;
( diff (f2,( f1 . x0 )) ) = ( diff (f2,( f1 . x0 )) );
then A76: t is  convergent by A3,A67,A71,CKB15:1;
then A77: ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) * I2 ) is  convergent by A70,A75,SEQ_2:14;
( lim t ) = ( diff (f2,( f1 . x0 )) ) by A3,A67,A71,CKB15:1;
then A78: ( lim ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) * I2 ) ) = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) by A70,A75,A74,A76,SEQ_2:15;
A79:now
set DF = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) );
let g being  real number;
assume that
A80: ( 0 ) < g;
consider k such that A81: (for m holds (k <= m implies ( abs ( ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) * I2 ) . m ) - DF ) ) < g)) by A77,A78,A80,SEQ_2:def 7;
take n = ( I2 . k );
let m;
assume that
A82: n <= m;
now
per cases ;
suppose A83: ( ( f1 /* ( h + c ) ) . m ) = ( f1 . x0 );

( abs ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) . m ) - DF ) ) = ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) . m ) ) ) by A54,SEQ_1:8
.= ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) . m ) - ( ( ( f2 * f1 ) /* c ) . m ) ) ) ) by RFUNCT_2:1
.= ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) . m ) - ( ( f2 /* ( f1 /* c ) ) . m ) ) ) ) by A8,VALUED_0:31
.= ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) . m ) - ( f2 . ( ( f1 /* c ) . m ) ) ) ) ) by A24,FUNCT_2:108
.= ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) . m ) - ( f2 . ( f1 . ( c . m ) ) ) ) ) ) by A18,FUNCT_2:108
.= ( abs ( ( ( h " ) . m ) * ( ( ( ( f2 * f1 ) /* ( h + c ) ) . m ) - ( f2 . ( f1 . x0 ) ) ) ) ) by A7
.= ( abs ( ( ( h " ) . m ) * ( ( ( f2 /* ( f1 /* ( h + c ) ) ) . m ) - ( f2 . ( f1 . x0 ) ) ) ) ) by A5,VALUED_0:31
.= ( abs ( ( ( h " ) . m ) * ( ( f2 . ( f1 . x0 ) ) - ( f2 . ( f1 . x0 ) ) ) ) ) by A17,A83,FUNCT_2:108
.= ( 0 ) by ABSVALUE:2;
hence ( abs ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) . m ) - ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) ) ) < g by A80;
end;
suppose ( ( f1 /* ( h + c ) ) . m ) <> ( f1 . x0 );

then (for r1 holds (( ( f1 /* ( h + c ) ) . m ) = r1 implies r1 <> ( f1 . x0 )));
then consider l such that A84: m = ( I2 . l ) by A62;
( dom I2 ) = ( NAT ) by FUNCT_2:def 1;
then l >= k by A82,A84,VALUED_0:def 13;
then ( abs ( ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) * I2 ) . l ) - DF ) ) < g by A81;
hence ( abs ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) . m ) - DF ) ) < g by A84,FUNCT_2:15;
end;
end;
hence ( abs ( ( ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) . m ) - ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) ) ) < g;
end;
hence ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) is  convergent by SEQ_2:def 6;
hence ( lim ( ( h " ) (#) ( ( ( f2 * f1 ) /* ( h + c ) ) - ( ( f2 * f1 ) /* c ) ) ) ) = ( ( diff (f2,( f1 . x0 )) ) * ( diff (f1,x0) ) ) by A79,SEQ_2:def 7;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
hence thesis by A1,CKB15:1;
end;
