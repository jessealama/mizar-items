environ
vocabularies STRUCT_0,XREAL_0,ORDINAL1,FUNCOP_1,PSCOMP_1,NUMBERS,PRE_TOPC,ORDINAL2,SUBSET_1,RCOMP_1,RELAT_1,XBOOLE_0,FUNCT_1,TARSKI,CARD_1,ARYTM_3,XXREAL_1,ARYTM_1,COMPLEX1,CONNSP_2,RLVECT_1,ALGSTR_0,FUNCSDOM,REAL_1,FUNCT_2,C0SP1,IDEAL_1,VALUED_1,MESFUNC1,RSSPACE,POLYALG1,BINOP_1,VECTSP_1,SUPINF_2,GROUP_1,REALSET1,ZFMISC_1,RSSPACE4,XXREAL_2,XXREAL_0,LOPBAN_2,NORMSP_1,REWRITE1,NAT_1,RSSPACE3,SEQ_2,PARTFUN1,SEQFUNC,C0SP2,LOPBAN_1,METRIC_1,RELAT_2,PRE_POLY,RLSUB_1,SEQ_4,TOPMETR;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,RELAT_1,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,XXREAL_0,REALSET1,FUNCT_1,FUNCT_2,STRUCT_0,ALGSTR_0,IDEAL_1,BINOP_1,DOMAIN_1,RELSET_1,PRE_TOPC,COMPTS_1,PSCOMP_1,RLVECT_1,GROUP_1,VECTSP_1,FUNCSDOM,PARTFUN1,SEQFUNC,RSSPACE3,RCOMP_1,SEQ_2,NORMSP_0,NORMSP_1,NFCONT_1,LOPBAN_1,LOPBAN_2,C0SP1,CONNSP_2,FUNCOP_1,PRE_POLY,XXREAL_2,VALUED_1,SEQ_4,RLSUB_1,RSSPACE,TOPMETR,CKB1,CKB4;
definitions PSCOMP_1,REALSET1,ALGSTR_0,TARSKI,XCMPLX_0,RCOMP_1,FUNCSDOM,RLVECT_1,VECTSP_1,STRUCT_0,GROUP_1,BINOP_1,C0SP1,NORMSP_0,CKB1,CKB4;
theorems RFUNCT_1,FUNCT_1,NFCONT_1,PARTFUN1,SEQ_2,ABSVALUE,ALGSTR_0,COMPLEX1,ZFMISC_1,TARSKI,RCOMP_1,XBOOLE_1,PSCOMP_1,IDEAL_1,RSSPACE3,RELAT_1,XREAL_0,XXREAL_0,FUNCSDOM,NORMSP_1,LOPBAN_1,FUNCT_2,XREAL_1,RLVECT_1,TOPS_1,FUNCOP_1,VECTSP_1,GROUP_1,LOPBAN_2,VALUED_1,C0SP1,CONNSP_2,XXREAL_1,NORMSP_0,PRE_POLY,XBOOLE_0,RSSPACE,COMPTS_1,PRE_TOPC,RLSUB_1,JORDAN_A,TOPREAL6,NAGATA_1,JGRAPH_2,TOPMETR,CKB1,CKB3,CKB4;
registrations XBOOLE_0,SUBSET_1,STRUCT_0,PRE_TOPC,XREAL_0,REALSET1,ALGSTR_0,NUMBERS,ORDINAL1,MEMBERED,FUNCSDOM,RELAT_1,VECTSP_1,VECTSP_2,VALUED_0,LOPBAN_2,PSCOMP_1,RCOMP_1,C0SP1,COMPTS_1,XXREAL_0,FUNCT_2,VALUED_1,XXREAL_2,TOPMETR,ZFMISC_1,FINSET_1,RELSET_1,CKB2,CKB5;
constructors REAL_1,REALSET1,RSSPACE3,COMPLEX1,RCOMP_1,IDEAL_1,SEQ_1,C0SP1,NFCONT_1,SEQFUNC,PARTFUN3,MEASURE6,PRE_POLY,TOPMETR,RLSUB_1,SEQ_4,NAGATA_1,JGRAPH_2,PSCOMP_1,COMPTS_1,CKB1,CKB4;
requirements NUMERALS,BOOLE,SUBSET,ARITHM,REAL;
begin
registration
let X being non  empty TopSpace;
cluster ( ContinuousFunctions X ) ->  additively-linearly-closed  multiplicatively-closed;
coherence
proof
set W = ( ContinuousFunctions X );
set V = ( RAlgebra (the carrier of X) );
A1: ( RAlgebra (the carrier of X) ) is RealLinearSpace by C0SP1:7;
(for v,u being (Element of V) holds ((v in W & u in W) implies ( v + u ) in W))
proof
let v being (Element of V);
let u being (Element of V);
assume that
A2: (v in W & u in W);
consider v1 being  continuous (RealMap of X) such that A3: v1 = v by A2;
consider u1 being  continuous (RealMap of X) such that A4: u1 = u by A2;
A5: (( v1 + u1 ) is (Function of (the carrier of X),( REAL )) & ( v1 + u1 ) is  continuous) by NAGATA_1:22;
reconsider h = ( v + u ) as (Element of ( Funcs ((the carrier of X),( REAL )) ));
A6: (ex f being Function st ((h = f & ( dom f ) = (the carrier of X)) & ( rng f ) c= ( REAL ))) by FUNCT_2:def 2;
( ( dom v1 ) /\ ( dom u1 ) ) = ( (the carrier of X) /\ ( dom u1 ) ) by FUNCT_2:def 1;
then A7: ( ( dom v1 ) /\ ( dom u1 ) ) = ( (the carrier of X) /\ (the carrier of X) ) by FUNCT_2:def 1;
(for x being set holds (x in ( dom h ) implies ( h . x ) = ( ( v1 . x ) + ( u1 . x ) ))) by A3,A4,FUNCSDOM:1;
then ( v + u ) = ( v1 + u1 ) by A7,A6,VALUED_1:def 1;
hence ( v + u ) in W by A5;
end;
then A8: W is  add-closed by IDEAL_1:def 1;
(for v being (Element of V) holds (v in W implies ( - v ) in W))
proof
let v being (Element of V);
assume that
A9: v in W;
consider v1 being  continuous (RealMap of X) such that A10: v1 = v by A9;
A11: ( - v1 ) is  continuous  continuous (RealMap of X) by PSCOMP_1:9;
reconsider h = ( - v ),v2 = v as (Element of ( Funcs ((the carrier of X),( REAL )) ));
A12: h = ( ( - 1 ) * v ) by A1,RLVECT_1:16;
A13: (ex f being Function st ((h = f & ( dom f ) = (the carrier of X)) & ( rng f ) c= ( REAL ))) by FUNCT_2:def 2;
A14: ( dom v1 ) = (the carrier of X) by FUNCT_2:def 1;
now
let x being set;
assume x in ( dom h );
then reconsider y = x as (Element of (the carrier of X));
( h . x ) = ( ( - 1 ) * ( v2 . y ) ) by A12,FUNCSDOM:4;
hence ( h . x ) = ( - ( v1 . x ) ) by A10;
end;
then ( - v ) = ( - v1 ) by A14,A13,VALUED_1:9;
hence ( - v ) in W by A11;
end;
then A15: W is  having-inverse by C0SP1:def 1;
(for a being Real holds (for u being (Element of V) holds (u in W implies ( a * u ) in W)))
proof
let a being Real;
let u being (Element of V);
assume that
A16: u in W;
consider u1 being  continuous (RealMap of X) such that A17: u1 = u by A16;
A18: ( a (#) u1 ) is  continuous  continuous (RealMap of X)
proof
reconsider U = u1 as  continuous (Function of X,( R^1 )) by TOPMETR:17,TOPREAL6:74;
set c = (the carrier of X);
consider H being (Function of X,( R^1 )) such that A19: (for p being (Point of X) holds (for r1 being  real number holds (( U . p ) = r1 implies ( H . p ) = ( a * r1 )))) and A20: H is  continuous by JGRAPH_2:23;
reconsider h = H as (RealMap of X) by TOPMETR:17;
A21: ( dom h ) = (the carrier of X) by FUNCT_2:def 1
.= ( dom u1 ) by FUNCT_2:def 1;
(for c being set holds (c in ( dom h ) implies ( h . c ) = ( a * ( u1 . c ) ))) by A19;
then h = ( a (#) u1 ) by A21,VALUED_1:def 5;
hence ( a (#) u1 ) is  continuous  continuous (RealMap of X) by A20,TOPREAL6:74;
end;
reconsider h = ( a * u ) as (Element of ( Funcs ((the carrier of X),( REAL )) ));
A22: (ex f being Function st ((h = f & ( dom f ) = (the carrier of X)) & ( rng f ) c= ( REAL ))) by FUNCT_2:def 2;
A23: ( dom u1 ) = (the carrier of X) by FUNCT_2:def 1;
(for x being set holds (x in ( dom h ) implies ( h . x ) = ( a * ( u1 . x ) ))) by A17,FUNCSDOM:4;
then ( a * u ) = ( a (#) u1 ) by A23,A22,VALUED_1:def 5;
hence ( a * u ) in W by A18;
end;
hence ( ContinuousFunctions X ) is  additively-linearly-closed by A8,A15,C0SP1:def 10;
A24: (for v,u being (Element of V) holds ((v in W & u in W) implies ( v * u ) in W))
proof
let v being (Element of V);
let u being (Element of V);
assume that
A25: (v in W & u in W);
consider v1 being  continuous (RealMap of X) such that A26: v1 = v by A25;
consider u1 being  continuous (RealMap of X) such that A27: u1 = u by A25;
A28: ( v1 (#) u1 ) is  continuous  continuous (RealMap of X)
proof
reconsider V = v1,U = u1 as  continuous (Function of X,( R^1 )) by TOPMETR:17,TOPREAL6:74;
consider H being (Function of X,( R^1 )) such that A29: (for p being (Point of X) holds (for r1,r2 being  real number holds ((( V . p ) = r1 & ( U . p ) = r2) implies ( H . p ) = ( r1 * r2 )))) and A30: H is  continuous by JGRAPH_2:25;
reconsider h = H as (RealMap of X) by TOPMETR:17;
A31: ( dom h ) = ( (the carrier of X) /\ (the carrier of X) ) by FUNCT_2:def 1
.= ( (the carrier of X) /\ ( dom u1 ) ) by FUNCT_2:def 1
.= ( ( dom v1 ) /\ ( dom u1 ) ) by FUNCT_2:def 1;
(for c being set holds (c in ( dom h ) implies ( h . c ) = ( ( v1 . c ) * ( u1 . c ) ))) by A29;
then h = ( v1 (#) u1 ) by A31,VALUED_1:def 4;
hence ( v1 (#) u1 ) is  continuous  continuous (RealMap of X) by A30,TOPREAL6:74;
end;
reconsider h = ( v * u ) as (Element of ( Funcs ((the carrier of X),( REAL )) ));
A32: (ex f being Function st ((h = f & ( dom f ) = (the carrier of X)) & ( rng f ) c= ( REAL ))) by FUNCT_2:def 2;
( ( dom v1 ) /\ ( dom u1 ) ) = ( (the carrier of X) /\ ( dom u1 ) ) by FUNCT_2:def 1;
then A33: ( ( dom v1 ) /\ ( dom u1 ) ) = ( (the carrier of X) /\ (the carrier of X) ) by FUNCT_2:def 1;
(for x being set holds (x in ( dom h ) implies ( h . x ) = ( ( v1 . x ) * ( u1 . x ) ))) by A26,A27,FUNCSDOM:2;
then ( v * u ) = ( v1 (#) u1 ) by A33,A32,VALUED_1:def 4;
hence ( v * u ) in W by A28;
end;
reconsider g = ( RealFuncUnit (the carrier of X) ) as (RealMap of X);
g = ( X --> 1 );
then ( 1. V ) in W;
hence thesis by A24,C0SP1:def 4;
end;
end;
