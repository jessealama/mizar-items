environ
vocabularies NUMBERS,SUBSET_1,XBOOLE_0,FINSEQ_1,XXREAL_0,RELAT_1,JORDAN3,ARYTM_3,ARYTM_1,CARD_1,PARTFUN1,FUNCT_1,RCOMP_1,EUCLID,PRE_TOPC,MCART_1,PSCOMP_1,RLTOPSP1,TOPREAL1,TARSKI,GOBOARD1,REAL_1,SUPINF_2,ZFMISC_1,ORDINAL4,NAT_1,GOBOARD4,FINSEQ_6,GOBOARD5,STRUCT_0,XREAL_0,ORDINAL1,ORDINAL2,SPPOL_1,SPRECT_1,SPPOL_2,FINSEQ_5,FINSEQ_4,TOPREAL2,SPRECT_2,SEQ_4;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,REAL_1,FUNCT_1,RELSET_1,MEMBERED,PARTFUN1,FINSEQ_1,SEQ_1,STRUCT_0,FINSEQ_4,FINSEQ_5,ZFMISC_1,FINSEQ_6,NAT_1,NAT_D,PRE_TOPC,COMPTS_1,RLVECT_1,RLTOPSP1,EUCLID,TOPREAL1,TOPREAL2,GOBOARD1,GOBOARD4,SEQ_4,SPPOL_1,SPPOL_2,GOBOARD5,JORDAN3,PSCOMP_1,SPRECT_1,XXREAL_0;
definitions TARSKI,GOBOARD4,TOPREAL1,XBOOLE_0,PSCOMP_1,STRUCT_0,RLTOPSP1;
theorems FINSEQ_6,FINSEQ_4,FINSEQ_5,GOBOARD4,GOBOARD1,PSCOMP_1,FINSEQ_3,JORDAN3,NAT_1,SPPOL_1,FINSEQ_1,JORDAN4,ZFMISC_1,SPPOL_2,TOPREAL3,TARSKI,FUNCT_1,TOPREAL1,GOBOARD2,GOBOARD7,PARTFUN2,GOBOARD5,EUCLID,TOPREAL2,FUNCT_2,PRE_TOPC,RELAT_1,SPRECT_1,TOPREAL5,XBOOLE_0,XBOOLE_1,XCMPLX_1,SEQ_4,XREAL_1,XXREAL_0,PARTFUN1,CARD_1,NAT_D,RLTOPSP1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13;
registrations RELSET_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,FINSEQ_1,STRUCT_0,PRE_TOPC,EUCLID,GOBOARD2,SPPOL_2,PSCOMP_1,SPRECT_1,XBOOLE_0,VALUED_0,FUNCT_1,RLTOPSP1,TOPREAL1,SEQ_4,MEASURE6,ZFMISC_1;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,FINSEQ_4,ZFMISC_1,NAT_D,FINSEQ_5,COMPTS_1,TOPREAL2,GOBOARD1,GOBOARD4,SPPOL_1,GOBOARD5,PSCOMP_1,JORDAN3,SPRECT_1,SEQ_1,SEQ_4,RELSET_1,CONVEX1,GOBOARD2,MEASURE6;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve l for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve D for non  empty set;
reserve f for (FinSequence of D);
theorem
Th18: (for f being (FinSequence of ( TOP-REAL 2 )) holds (((1 <= i & i <= j) & j <= ( len f )) implies ( L~ ( mid (f,i,j) ) ) = ( union { ( LSeg (f,k) ): (i <= k & k < j) } )))
proof
let f being (FinSequence of ( TOP-REAL 2 ));
assume that
A1: 1 <= i
and
A2: i <= j
and
A3: j <= ( len f );
set A = { ( LSeg (( mid (f,i,j) ),m) ): (1 <= m & ( m + 1 ) <= ( len ( mid (f,i,j) ) )) };
set B = { ( LSeg (f,l) ): (i <= l & l < j) };
per cases  by A2,XXREAL_0:1;
suppose A4: i = j;

A5: B = ( {} )
proof
assume B <> ( {} );
then consider z being set such that A6: z in B by XBOOLE_0:def 1;
(ex l st ((z = ( LSeg (f,l) ) & i <= l) & l < j)) by A6;
hence contradiction by A4;
end;
( mid (f,i,j) ) = <* ( f /. i ) *> by A1,A3,A4,JORDAN4:15;
hence thesis by A5,SPPOL_2:12,ZFMISC_1:2;
end;
suppose A7: i < j;

A = B
proof
hereby
let x being set;
assume x in A;
then consider m such that A8: x = ( LSeg (( mid (f,i,j) ),m) ) and A9: ( ( 0 ) + 1 ) <= m and A10: ( m + 1 ) <= ( len ( mid (f,i,j) ) );
i < ( m + i ) by A9,XREAL_1:29;
then A11: i <= ( ( m + i ) -' 1 ) by NAT_D:49;
( len ( mid (f,i,j) ) ) = ( ( j -' i ) + 1 ) by A1,A3,A7,JORDAN4:8;
then A12: m < ( ( j -' i ) + 1 ) by A10,NAT_1:13;
then m <= ( j -' i ) by NAT_1:13;
then m <= ( j - i ) by A7,XREAL_1:233;
then (( m + i ) >= m & ( m + i ) <= j) by NAT_1:11,XREAL_1:19;
then ( ( ( m + i ) -' 1 ) + 1 ) <= j by A9,XREAL_1:235,XXREAL_0:2;
then A13: ( ( m + i ) -' 1 ) < j by NAT_1:13;
x = ( LSeg (f,( ( m + i ) -' 1 )) ) by A1,A3,A7,A8,A9,A12,JORDAN4:19;
hence x in B by A13,A11;
end;
let x being set;
assume x in B;
then consider l such that A14: x = ( LSeg (f,l) ) and A15: i <= l and A16: l < j;
set m = ( ( l -' i ) + 1 );
A17: ( l - i ) < ( j - i ) by A16,XREAL_1:9;
(( l -' i ) = ( l - i ) & ( j -' i ) = ( j - i )) by A15,A16,XREAL_1:233,XXREAL_0:2;
then A18: m < ( ( j -' i ) + 1 ) by A17,XREAL_1:6;
( len ( mid (f,i,j) ) ) = ( ( j -' i ) + 1 ) by A1,A3,A7,JORDAN4:8;
then A19: ( m + 1 ) <= ( len ( mid (f,i,j) ) ) by A18,NAT_1:13;
A20: 1 <= m by NAT_1:11;
( ( m + i ) -' 1 ) = ( ( ( ( l -' i ) + i ) + 1 ) -' 1 )
.= ( ( l + 1 ) -' 1 ) by A15,XREAL_1:235
.= l by NAT_D:34;
then x = ( LSeg (( mid (f,i,j) ),m) ) by A1,A3,A7,A14,A20,A18,JORDAN4:19;
hence thesis by A20,A19;
end;
hence thesis;
end;
end;
