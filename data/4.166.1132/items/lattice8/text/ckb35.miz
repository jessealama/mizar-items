environ
vocabularies NUMBERS,ORDERS_2,XBOOLE_0,STRUCT_0,EQREL_1,SUBSET_1,FINSEQ_1,LATTICE5,LATTICES,WAYBEL_0,ZFMISC_1,GROUP_6,FUNCT_1,RELAT_1,XXREAL_0,FINSET_1,ABIAN,CARD_1,ARYTM_3,CAT_1,YELLOW_0,ORDINAL2,ORDINAL1,TARSKI,WELLORD1,SEQM_3,LATTICE3,WAYBEL_1,MCART_1,VALUED_0,RELAT_2,PARTFUN1,FUNCOP_1,FUNCT_6,NAT_1,FUNCT_2,LATTICE8;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,FUNCT_2,FUNCT_6,NUMBERS,NAT_1,ORDINAL1,ORDINAL2,MCART_1,DOMAIN_1,PARTFUN1,FUNCOP_1,STRUCT_0,ORDERS_2,EQREL_1,FINSEQ_1,LATTICE3,BINOP_1,YELLOW_0,YELLOW_2,LATTICE5,YELLOW11,WAYBEL_1,WAYBEL_0,ABIAN,XXREAL_0,CKB1,CKB2,CKB16,CKB18,CKB23,CKB29,CKB30;
definitions TARSKI,LATTICE3,FUNCOP_1,WAYBEL_0,YELLOW_0,YELLOW11,LATTICE5,XBOOLE_0,BINOP_1,YELLOW_2,RELSET_1,CKB1,CKB2,CKB16,CKB18,CKB23,CKB29,CKB30;
theorems EQREL_1,RELAT_1,RELAT_2,FINSEQ_1,FINSEQ_2,ORDERS_2,TARSKI,ORDINAL1,ORDINAL3,TREES_2,PARTFUN1,GRFUNC_1,FUNCT_6,MCART_1,NAT_1,BINOP_1,ZFMISC_1,FUNCT_1,FUNCT_2,LATTICE3,YELLOW_0,YELLOW_3,YELLOW_5,WAYBEL_0,WAYBEL_1,WAYBEL_6,RELSET_1,LATTICE5,YELLOW11,WAYBEL13,ORDERS_3,TEX_1,SYSREL,XBOOLE_0,XBOOLE_1,REALSET1,ORDERS_1,STRUCT_0,CKB1,CKB2,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34;
schemes RECDEF_1,ORDINAL2,NAT_1,FINSEQ_1,BINOP_1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCOP_1,XREAL_0,INT_1,CARD_1,FINSEQ_1,EQREL_1,REALSET1,ABIAN,STRUCT_0,LATTICE3,YELLOW_0,YELLOW_2,WAYBEL_1,WAYBEL10,LATTICE5,YELLOW11,WAYBEL21,LATTICE7,ZFMISC_1,FUNCT_1,CKB3,CKB6,CKB17,CKB27;
constructors ORDINAL2,FUNCT_6,RFUNCT_3,ABIAN,REALSET2,ORDERS_3,WAYBEL_1,LATTICE5,YELLOW11,RELSET_1,CKB1,CKB2,CKB16,CKB18,CKB23,CKB29,CKB30;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve O1 for Ordinal;
reserve O2 for Ordinal;
theorem
Th23: (for A being non  empty set holds (for L being  lower-bounded LATTICE holds (for d being (BiFunction of A,L) holds (for q being (QuadrSeq of d) holds (for O being Ordinal holds ( ConsecutiveDelta2 (q,O) ) is (BiFunction of ( ConsecutiveSet2 (A,O) ),L))))))
proof
let A being non  empty set;
let L being  lower-bounded LATTICE;
let d being (BiFunction of A,L);
let q being (QuadrSeq of d);
let O being Ordinal;
defpred X[ Ordinal ]
 means
( ConsecutiveDelta2 (q,$1) ) is (BiFunction of ( ConsecutiveSet2 (A,$1) ),L);
A1: (for O1 being Ordinal holds (X[ O1 ] implies X[ ( succ O1 ) ]))
proof
let O1 being Ordinal;
assume ( ConsecutiveDelta2 (q,O1) ) is (BiFunction of ( ConsecutiveSet2 (A,O1) ),L);
then reconsider CD = ( ConsecutiveDelta2 (q,O1) ) as (BiFunction of ( ConsecutiveSet2 (A,O1) ),L);
A2: ( ConsecutiveDelta2 (q,( succ O1 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (q,O1) ),( ConsecutiveSet2 (A,O1) ),L) ),( Quadr2 (q,O1) )) ) by CKB32:1
.= ( new_bi_fun2 (CD,( Quadr2 (q,O1) )) ) by LATTICE5:def 15;
( ConsecutiveSet2 (A,( succ O1 )) ) = ( new_set2 ( ConsecutiveSet2 (A,O1) ) ) by CKB25:1;
hence thesis by A2;
end;
A3: (for O1 holds (((O1 <> ( {} ) & O1 is  limit_ordinal) & (for O2 holds (O2 in O1 implies X[ O2 ]))) implies X[ O1 ]))
proof
deffunc U(Ordinal) = ( ConsecutiveDelta2 (q,$1) );
let O1 being Ordinal;
assume that
A4: O1 <> ( {} )
and
A5: O1 is  limit_ordinal
and
A6: (for O2 being Ordinal holds (O2 in O1 implies ( ConsecutiveDelta2 (q,O2) ) is (BiFunction of ( ConsecutiveSet2 (A,O2) ),L)));
reconsider o1 = O1 as non  empty Ordinal by A4;
set YY = { [: ( ConsecutiveSet2 (A,O2) ),( ConsecutiveSet2 (A,O2) ) :] where O2 is (Element of o1): (not contradiction) };
consider Ls being T-Sequence such that A7: (( dom Ls ) = O1 & (for O2 being Ordinal holds (O2 in O1 implies ( Ls . O2 ) = U(O2)))) from ORDINAL2:sch 2;
A8: (for O,O2 being Ordinal holds ((O c= O2 & O2 in ( dom Ls )) implies ( Ls . O ) c= ( Ls . O2 )))
proof
let O being Ordinal;
defpred X[ Ordinal ]
 means
((O c= $1 & $1 in ( dom Ls )) implies ( Ls . O ) c= ( Ls . $1 ));
A9: (for O1 holds (((O1 <> ( {} ) & O1 is  limit_ordinal) & (for O2 holds (O2 in O1 implies X[ O2 ]))) implies X[ O1 ]))
proof
deffunc U(Ordinal) = ( ConsecutiveDelta2 (q,$1) );
let O2 being Ordinal;
assume that
A10: (O2 <> ( {} ) & O2 is  limit_ordinal)
and
(for O3 being Ordinal holds (O3 in O2 implies ((O c= O3 & O3 in ( dom Ls )) implies ( Ls . O ) c= ( Ls . O3 ))));
assume that
A11: O c= O2
and
A12: O2 in ( dom Ls );
consider Lt being T-Sequence such that A13: (( dom Lt ) = O2 & (for O3 being Ordinal holds (O3 in O2 implies ( Lt . O3 ) = U(O3)))) from ORDINAL2:sch 2;
A14: ( Ls . O2 ) = ( ConsecutiveDelta2 (q,O2) ) by A7,A12
.= ( union ( rng Lt ) ) by A10,A13,CKB33:1;
per cases ;
suppose O = O2;

hence thesis;
end;
suppose O <> O2;

then A15: O c< O2 by A11,XBOOLE_0:def 8;
then A16: O in O2 by ORDINAL1:11;
then ( Ls . O ) = ( ConsecutiveDelta2 (q,O) ) by A7,A12,ORDINAL1:10
.= ( Lt . O ) by A13,A15,ORDINAL1:11;
then ( Ls . O ) in ( rng Lt ) by A13,A16,FUNCT_1:def 3;
hence thesis by A14,ZFMISC_1:74;
end;
end;
A17: (for O1 being Ordinal holds (X[ O1 ] implies X[ ( succ O1 ) ]))
proof
let O2 being Ordinal;
assume A18: ((O c= O2 & O2 in ( dom Ls )) implies ( Ls . O ) c= ( Ls . O2 ));
assume that
A19: O c= ( succ O2 )
and
A20: ( succ O2 ) in ( dom Ls );
per cases ;
suppose O = ( succ O2 );

hence thesis;
end;
suppose O <> ( succ O2 );

then O c< ( succ O2 ) by A19,XBOOLE_0:def 8;
then A21: O in ( succ O2 ) by ORDINAL1:11;
A22: O2 in ( succ O2 ) by ORDINAL1:6;
then O2 in ( dom Ls ) by A20,ORDINAL1:10;
then reconsider Def8 = ( ConsecutiveDelta2 (q,O2) ) as (BiFunction of ( ConsecutiveSet2 (A,O2) ),L) by A6,A7;
( Ls . ( succ O2 ) ) = ( ConsecutiveDelta2 (q,( succ O2 )) ) by A7,A20
.= ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (q,O2) ),( ConsecutiveSet2 (A,O2) ),L) ),( Quadr2 (q,O2) )) ) by CKB32:1
.= ( new_bi_fun2 (Def8,( Quadr2 (q,O2) )) ) by LATTICE5:def 15;
then ( ConsecutiveDelta2 (q,O2) ) c= ( Ls . ( succ O2 ) ) by CKB22:1;
then ( Ls . O2 ) c= ( Ls . ( succ O2 ) ) by A7,A20,A22,ORDINAL1:10;
hence thesis by A18,A20,A21,A22,ORDINAL1:10,ORDINAL1:22,XBOOLE_1:1;
end;
end;
A23: X[ ( {} ) ];
thus (for O being Ordinal holds X[ O ]) from ORDINAL2:sch 1(A23,A17,A9);
end;
(for x,y being set holds ((x in ( rng Ls ) & y in ( rng Ls )) implies x,y are_c=-comparable ))
proof
let x being set;
let y being set;
assume that
A24: x in ( rng Ls )
and
A25: y in ( rng Ls );
consider o1 being set such that A26: o1 in ( dom Ls ) and A27: ( Ls . o1 ) = x by A24,FUNCT_1:def 3;
consider o2 being set such that A28: o2 in ( dom Ls ) and A29: ( Ls . o2 ) = y by A25,FUNCT_1:def 3;
reconsider o19 = o1,o29 = o2 as Ordinal by A26,A28;
(o19 c= o29 or o29 c= o19);
then (x c= y or y c= x) by A8,A26,A27,A28,A29;
hence thesis by XBOOLE_0:def 9;
end;
then A30: ( rng Ls ) is  c=-linear by ORDINAL1:def 8;
set Y = (the carrier of L);
set X = [: ( ConsecutiveSet2 (A,O1) ),( ConsecutiveSet2 (A,O1) ) :];
set f = ( union ( rng Ls ) );
( rng Ls ) c= ( PFuncs (X,Y) )
proof
let z being set;
assume z in ( rng Ls );
then consider o being set such that A31: o in ( dom Ls ) and A32: z = ( Ls . o ) by FUNCT_1:def 3;
reconsider o as Ordinal by A31;
( Ls . o ) = ( ConsecutiveDelta2 (q,o) ) by A7,A31;
then reconsider h = ( Ls . o ) as (BiFunction of ( ConsecutiveSet2 (A,o) ),L) by A6,A7,A31;
o c= O1 by A7,A31,ORDINAL1:def 2;
then (( dom h ) = [: ( ConsecutiveSet2 (A,o) ),( ConsecutiveSet2 (A,o) ) :] & ( ConsecutiveSet2 (A,o) ) c= ( ConsecutiveSet2 (A,O1) )) by CKB34:1,FUNCT_2:def 1;
then (( rng h ) c= Y & ( dom h ) c= X) by ZFMISC_1:96;
hence thesis by A32,PARTFUN1:def 3;
end;
then f in ( PFuncs (X,Y) ) by A30,TREES_2:40;
then A33: (ex g being Function st ((f = g & ( dom g ) c= X) & ( rng g ) c= Y)) by PARTFUN1:def 3;
Ls is  Function-yielding
proof
let x being set;
assume A34: x in ( dom Ls );
then reconsider o = x as Ordinal;
( Ls . o ) = ( ConsecutiveDelta2 (q,o) ) by A7,A34;
hence thesis by A6,A7,A34;
end;
then reconsider LsF = Ls as  Function-yielding Function;
A35: ( rng ( doms Ls ) ) = YY
proof
thus ( rng ( doms Ls ) ) c= YY
proof
let Z being set;
assume Z in ( rng ( doms Ls ) );
then consider o being set such that A36: o in ( dom ( doms Ls ) ) and A37: Z = ( ( doms Ls ) . o ) by FUNCT_1:def 3;
A38: o in ( dom LsF ) by A36,FUNCT_6:59;
then reconsider o9 = o as (Element of o1) by A7;
( Ls . o9 ) = ( ConsecutiveDelta2 (q,o9) ) by A7;
then reconsider ls = ( Ls . o9 ) as (BiFunction of ( ConsecutiveSet2 (A,o9) ),L) by A6;
Z = ( dom ls ) by A37,A38,FUNCT_6:22
.= [: ( ConsecutiveSet2 (A,o9) ),( ConsecutiveSet2 (A,o9) ) :] by FUNCT_2:def 1;
hence thesis;
end;

let Z being set;
assume Z in YY;
then consider o being (Element of o1) such that A39: Z = [: ( ConsecutiveSet2 (A,o) ),( ConsecutiveSet2 (A,o) ) :];
( Ls . o ) = ( ConsecutiveDelta2 (q,o) ) by A7;
then reconsider ls = ( Ls . o ) as (BiFunction of ( ConsecutiveSet2 (A,o) ),L) by A6;
o in ( dom LsF ) by A7;
then A40: o in ( dom ( doms LsF ) ) by FUNCT_6:59;
Z = ( dom ls ) by A39,FUNCT_2:def 1
.= ( ( doms Ls ) . o ) by A7,FUNCT_6:22;
hence thesis by A40,FUNCT_1:def 3;
end;
A41: ( ConsecutiveDelta2 (q,O1) ) = ( union ( rng Ls ) ) by A4,A5,A7,CKB33:1;
reconsider f as Function by A33;
deffunc U(Ordinal) = ( ConsecutiveSet2 (A,$1) );
consider Ts being T-Sequence such that A42: (( dom Ts ) = O1 & (for O2 being Ordinal holds (O2 in O1 implies ( Ts . O2 ) = U(O2)))) from ORDINAL2:sch 2;
( {} ) in O1 by A4,ORDINAL3:8;
then reconsider RTs = ( rng Ts ) as non  empty set by A42,FUNCT_1:3;
A43: YY = { [: a,a :] where a is (Element of RTs): a in RTs }
proof
set XX = { [: a,a :] where a is (Element of RTs): a in RTs };
thus YY c= XX
proof
let Z being set;
assume Z in YY;
then consider o being (Element of o1) such that A44: Z = [: ( ConsecutiveSet2 (A,o) ),( ConsecutiveSet2 (A,o) ) :];
( Ts . o ) = ( ConsecutiveSet2 (A,o) ) by A42;
then reconsider CoS = ( ConsecutiveSet2 (A,o) ) as (Element of RTs) by A42,FUNCT_1:def 3;
Z = [: CoS,CoS :] by A44;
hence thesis;
end;

let Z being set;
assume Z in XX;
then consider a being (Element of RTs) such that A45: Z = [: a,a :] and a in RTs;
consider o being set such that A46: o in ( dom Ts ) and A47: a = ( Ts . o ) by FUNCT_1:def 3;
reconsider o9 = o as Ordinal by A46;
a = ( ConsecutiveSet2 (A,o9) ) by A42,A46,A47;
hence thesis by A42,A45,A46;
end;
(for x,y being set holds ((x in RTs & y in RTs) implies x,y are_c=-comparable ))
proof
let x being set;
let y being set;
assume that
A48: x in RTs
and
A49: y in RTs;
consider o1 being set such that A50: o1 in ( dom Ts ) and A51: ( Ts . o1 ) = x by A48,FUNCT_1:def 3;
consider o2 being set such that A52: o2 in ( dom Ts ) and A53: ( Ts . o2 ) = y by A49,FUNCT_1:def 3;
reconsider o19 = o1,o29 = o2 as Ordinal by A50,A52;
A54: ( Ts . o29 ) = ( ConsecutiveSet2 (A,o29) ) by A42,A52;
A55: (o19 c= o29 or o29 c= o19);
( Ts . o19 ) = ( ConsecutiveSet2 (A,o19) ) by A42,A50;
then (x c= y or y c= x) by A51,A53,A54,A55,CKB34:1;
hence thesis by XBOOLE_0:def 9;
end;
then A56: (( dom f ) = ( union ( rng ( doms LsF ) ) ) & RTs is  c=-linear) by LATTICE5:1,ORDINAL1:def 8;
X = [: ( union ( rng Ts ) ),( ConsecutiveSet2 (A,O1) ) :] by A4,A5,A42,CKB26:1
.= [: ( union RTs ),( union RTs ) :] by A4,A5,A42,CKB26:1
.= ( dom f ) by A35,A56,A43,LATTICE5:3;
hence thesis by A41,A33,FUNCT_2:def 1,RELSET_1:4;
end;
( ConsecutiveSet2 (A,( {} )) ) = A by CKB24:1;
then A57: X[ ( {} ) ] by CKB31:1;
(for O being Ordinal holds X[ O ]) from ORDINAL2:sch 1(A57,A1,A3);
hence thesis;
end;
