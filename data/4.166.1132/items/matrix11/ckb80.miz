environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,VECTSP_1,SUBSET_1,MATRIX_2,FUNCT_2,FINSEQ_1,FUNCT_1,ARYTM_3,SGRAPH1,XXREAL_0,TARSKI,CARD_1,FINSET_1,ORDINAL1,RELAT_1,ALGSTR_0,SETWISEO,BINOP_1,STRUCT_0,GROUP_1,ARYTM_1,FINSUB_1,INT_1,SUPINF_2,ABSVALUE,FINSEQ_2,CARD_3,ORDINAL4,FINSOP_1,ABIAN,MATRIX_1,TREES_1,ZFMISC_1,INCSP_1,AFINSQ_1,PARTFUN1,MATRIX_3,RLVECT_1,RVSUM_1,FVSUM_1,FUNCT_5,FUNCT_4,MATRIX11;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,BINOP_1,STRUCT_0,ALGSTR_0,NAT_D,RLVECT_1,GROUP_1,VECTSP_1,SETWISEO,SETWOP_2,FINSEQ_2,FINSEQOP,MATRIX_1,FINSUB_1,MATRIX_2,NAT_1,FVSUM_1,CAT_2,FINSOP_1,GROUP_4,MATRIX_3,CARD_1,FINSEQ_7,FUNCT_4,ORDINAL1,SGRAPH1,MATRIX_6,CKB1,CKB9,CKB18,CKB39,CKB40,CKB54,CKB74;
definitions BINOP_1,FINSEQ_2,FINSEQ_1,TARSKI,XBOOLE_0,MATRIX_1,MATRIX_3,FVSUM_1,RELAT_1,ALGSTR_0,CKB9,CKB18,CKB39,CKB54,CKB74;
theorems FINSEQ_1,FINSEQ_2,TARSKI,FUNCT_2,NAT_1,BINOP_1,FUNCT_1,SETWISEO,VECTSP_1,ZFMISC_1,FVSUM_1,SETWOP_2,MATRIX_1,MATRIX_2,FUNCOP_1,FINSUB_1,FINSEQ_3,RLVECT_1,RELAT_1,FINSOP_1,XBOOLE_0,XBOOLE_1,GROUP_1,MATRIX_3,FINSEQ_5,FINSET_1,GROUP_4,XREAL_1,MATRIX_7,ORDINAL1,MATRIX_4,CARD_1,CARD_2,MATRIX_9,STIRL2_1,RADIX_1,REWRITE1,FINSEQ_7,SGRAPH1,WELLORD2,FRAENKEL,FUNCT_5,FUNCT_4,NAT_D,XXREAL_0,PARTFUN1,CKB2,CKB3,CKB4,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB78,CKB79;
schemes FUNCT_2,NAT_1,FINSEQ_1,FINSEQ_2,MATRIX_1,BINOP_1,FUNCT_1,SETWISEO;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCT_2,FINSET_1,FINSUB_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,STRUCT_0,GROUP_1,VECTSP_1,MATRIX_2,FVSUM_1,CARD_1,RELSET_1,FINSEQ_2,CKB5,CKB6,CKB7,CKB8,CKB38,CKB76,CKB77;
constructors RELAT_2,WELLORD2,SETWISEO,XXREAL_0,NAT_1,NAT_D,FINSOP_1,SETWOP_2,FINSEQ_7,CAT_2,ALGSTR_1,GROUP_4,FVSUM_1,SGRAPH1,MATRIX_6,MATRIX_7,RELSET_1,CKB9,CKB18,CKB39,CKB54,CKB74;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve x for set;
theorem
Th57: (for X being set holds (for Y being non empty set holds (for x holds ((not x in X) implies (ex BIJECT being (Function of [: ( Funcs (X,Y) ),Y :],( Funcs (( X \/ { x } ),Y) )) st (BIJECT is  bijective & (for f being (Function of X,Y) holds (for F being (Function of ( X \/ { x } ),Y) holds (( F | X ) = f implies ( BIJECT . (f,( F . x )) ) = F)))))))))
proof
let X being set;
let Y being non empty set;
let x;
assume that
A1: (not x in X);
set Xx = ( X \/ { x } );
set FXY = ( Funcs (X,Y) );
set FXxY = ( Funcs (Xx,Y) );
defpred P[ set,set ]
 means
(for f being (Function of X,Y) holds (for F being (Function of Xx,Y) holds (for y being set holds ((([ f,y ] = $1 & ( F . x ) = y) & ( F | X ) = f) implies F = $2))));
A2: (for x being (Element of [: FXY,Y :]) holds (ex y being (Element of FXxY) st P[ x,y ]))
proof
let x9 being (Element of [: FXY,Y :]);
consider f being set,y being set such that A3: f in FXY and A4: y in Y and A5: x9 = [ f,y ] by ZFMISC_1:def 2;
reconsider f as (Function of X,Y) by A3,FUNCT_2:66;
( Y \/ { y } ) = Y by A4,ZFMISC_1:40;
then consider F being (Function of ( X \/ { x } ),Y) such that A6: ( F | X ) = f and A7: ( F . x ) = y by A1,STIRL2_1:57;
reconsider F9 = F as (Element of FXxY) by FUNCT_2:8;
take F9;
let g being (Function of X,Y);
let G being (Function of Xx,Y);
let y9 being set;
assume that
A8: [ g,y9 ] = x9
and
A9: ( G . x ) = y9
and
A10: ( G | X ) = g;
now
let xx being set;
assume xx in Xx;
then A11: (xx in X or xx in { x }) by XBOOLE_0:def 3;
A12: ( dom f ) = X by FUNCT_2:def 1;
( dom g ) = X by FUNCT_2:def 1;
then ((( G . xx ) = ( g . xx ) & ( F . xx ) = ( f . xx )) or xx = x) by A6,A10,A11,A12,FUNCT_1:47,TARSKI:def 1;
hence ( G . xx ) = ( F . xx ) by A5,A7,A8,A9,ZFMISC_1:27;
end;
hence thesis by FUNCT_2:12;
end;
consider H being (Function of [: FXY,Y :],FXxY) such that A13: (for x being (Element of [: FXY,Y :]) holds P[ x,( H . x ) ]) from FUNCT_2:sch 3(A2);
A14:now
let x1 being set,x2 being set;
assume that
A15: x1 in [: FXY,Y :]
and
A16: x2 in [: FXY,Y :]
and
A17: ( H . x1 ) = ( H . x2 );
consider f2 being set,y2 being set such that A18: f2 in FXY and A19: y2 in Y and A20: x2 = [ f2,y2 ] by A16,ZFMISC_1:def 2;
consider f1 being set,y1 being set such that A21: f1 in FXY and A22: y1 in Y and A23: x1 = [ f1,y1 ] by A15,ZFMISC_1:def 2;
reconsider f1,f2 as (Function of X,Y) by A21,A18,FUNCT_2:66;
( Y \/ { y2 } ) = Y by A19,ZFMISC_1:40;
then consider F2 being (Function of ( X \/ { x } ),Y) such that A24: ( F2 | X ) = f2 and A25: ( F2 . x ) = y2 by A1,STIRL2_1:57;
A26: ( H . x2 ) = F2 by A13,A16,A20,A24,A25;
( Y \/ { y1 } ) = Y by A22,ZFMISC_1:40;
then consider F1 being (Function of ( X \/ { x } ),Y) such that A27: ( F1 | X ) = f1 and A28: ( F1 . x ) = y1 by A1,STIRL2_1:57;
( H . x1 ) = F1 by A13,A15,A23,A27,A28;
hence x1 = x2 by A17,A23,A20,A27,A28,A24,A25,A26;
end;
take H;
x in { x } by TARSKI:def 1;
then A29: x in Xx by XBOOLE_0:def 3;
A30: FXxY c= ( rng H )
proof
let f9 being set;
assume f9 in FXxY;
then reconsider f = f9 as (Function of Xx,Y) by FUNCT_2:66;
( dom f ) = Xx by FUNCT_2:def 1;
then A31: ( dom ( f | X ) ) = X by RELAT_1:62,XBOOLE_1:7;
( rng ( f | X ) ) c= Y by RELAT_1:def 19;
then reconsider fX = ( f | X ) as (Function of X,Y) by A31,FUNCT_2:2;
A32: fX in FXY by FUNCT_2:8;
x in { x } by TARSKI:def 1;
then A33: x in Xx by XBOOLE_0:def 3;
Xx = ( dom f ) by FUNCT_2:def 1;
then A34: ( f . x ) in ( rng f ) by A33,FUNCT_1:def 3;
( rng f ) c= Y by RELAT_1:def 19;
then A35: [ fX,( f . x ) ] in [: FXY,Y :] by A34,A32,ZFMISC_1:87;
[: FXY,Y :] = ( dom H ) by FUNCT_2:def 1;
then ( H . [ fX,( f . x ) ] ) in ( rng H ) by A35,FUNCT_1:def 3;
hence thesis by A13,A35;
end;
( rng H ) c= FXxY by RELAT_1:def 19;
then FXxY = ( rng H ) by A30,XBOOLE_0:def 10;
then H is  one-to-one  onto by A14,FUNCT_2:19,FUNCT_2:def 3;
hence H is  bijective;
let f being (Function of X,Y);
let F being (Function of ( X \/ { x } ),Y);
assume that
A36: ( F | X ) = f;
Xx = ( dom F ) by FUNCT_2:def 1;
then A37: ( F . x ) in ( rng F ) by A29,FUNCT_1:def 3;
A38: f in FXY by FUNCT_2:8;
( rng F ) c= Y by RELAT_1:def 19;
then [ f,( F . x ) ] in [: FXY,Y :] by A37,A38,ZFMISC_1:87;
hence thesis by A13,A36;
end;
