environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,VECTSP_1,SUBSET_1,MATRIX_2,FUNCT_2,FINSEQ_1,FUNCT_1,ARYTM_3,SGRAPH1,XXREAL_0,TARSKI,CARD_1,FINSET_1,ORDINAL1,RELAT_1,ALGSTR_0,SETWISEO,BINOP_1,STRUCT_0,GROUP_1,ARYTM_1,FINSUB_1,INT_1,SUPINF_2,ABSVALUE,FINSEQ_2,CARD_3,ORDINAL4,FINSOP_1,ABIAN,MATRIX_1,TREES_1,ZFMISC_1,INCSP_1,AFINSQ_1,PARTFUN1,MATRIX_3,RLVECT_1,RVSUM_1,FVSUM_1,FUNCT_5,FUNCT_4,MATRIX11;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,BINOP_1,STRUCT_0,ALGSTR_0,NAT_D,RLVECT_1,GROUP_1,VECTSP_1,SETWISEO,SETWOP_2,FINSEQ_2,FINSEQOP,MATRIX_1,FINSUB_1,MATRIX_2,NAT_1,FVSUM_1,CAT_2,FINSOP_1,GROUP_4,MATRIX_3,CARD_1,FINSEQ_7,FUNCT_4,ORDINAL1,SGRAPH1,MATRIX_6,CKB1;
definitions BINOP_1,FINSEQ_2,FINSEQ_1,TARSKI,XBOOLE_0,MATRIX_1,MATRIX_3,FVSUM_1,RELAT_1,ALGSTR_0;
theorems FINSEQ_1,FINSEQ_2,TARSKI,FUNCT_2,NAT_1,BINOP_1,FUNCT_1,SETWISEO,VECTSP_1,ZFMISC_1,FVSUM_1,SETWOP_2,MATRIX_1,MATRIX_2,FUNCOP_1,FINSUB_1,FINSEQ_3,RLVECT_1,RELAT_1,FINSOP_1,XBOOLE_0,XBOOLE_1,GROUP_1,MATRIX_3,FINSEQ_5,FINSET_1,GROUP_4,XREAL_1,MATRIX_7,ORDINAL1,MATRIX_4,CARD_1,CARD_2,MATRIX_9,STIRL2_1,RADIX_1,REWRITE1,FINSEQ_7,SGRAPH1,WELLORD2,FRAENKEL,FUNCT_5,FUNCT_4,NAT_D,XXREAL_0,PARTFUN1,CKB2,CKB3,CKB4;
schemes FUNCT_2,NAT_1,FINSEQ_1,FINSEQ_2,MATRIX_1,BINOP_1,FUNCT_1,SETWISEO;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCT_2,FINSET_1,FINSUB_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,STRUCT_0,GROUP_1,VECTSP_1,MATRIX_2,FVSUM_1,CARD_1,RELSET_1,FINSEQ_2,CKB5,CKB6,CKB7,CKB8;
constructors RELAT_2,WELLORD2,SETWISEO,XXREAL_0,NAT_1,NAT_D,FINSOP_1,SETWOP_2,FINSEQ_7,CAT_2,ALGSTR_1,GROUP_4,FVSUM_1,SGRAPH1,MATRIX_6,MATRIX_7,RELSET_1;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve x for set;
reserve y for set;
reserve i for Nat;
reserve j for Nat;
reserve n for Nat;
reserve K for Field;
definition
let n;
let K;
let perm2 being (Element of ( Permutations ( n + 2 ) ));
func Part_sgn (perm2,K) -> (Function of ( 2Set ( Seg ( n + 2 ) ) ),(the carrier of K))
means
:Def1: (for i,j being (Element of ( NAT )) holds (((i in ( Seg ( n + 2 ) ) & j in ( Seg ( n + 2 ) )) & i < j) implies ((( perm2 . i ) < ( perm2 . j ) implies ( it . { i,j } ) = ( 1_ K )) & (( perm2 . i ) > ( perm2 . j ) implies ( it . { i,j } ) = ( - ( 1_ K ) )))));
existence
proof
set n9 = ( n + 2 );
defpred P[ set,set ]
 means
(for i,j being (Element of ( NAT )) holds ((((i in ( Seg n9 ) & j in ( Seg n9 )) & i < j) & $1 = { i,j }) implies ((( perm2 . i ) < ( perm2 . j ) implies $2 = ( 1_ K )) & (( perm2 . i ) > ( perm2 . j ) implies $2 = ( - ( 1_ K ) )))));
A1: (for x holds (x in ( 2Set ( Seg n9 ) ) implies (ex y st (y in (the carrier of K) & P[ x,y ]))))
proof
let x;
assume x in ( 2Set ( Seg n9 ) );
then consider i,j such that A2: i in ( Seg n9 ) and A3: j in ( Seg n9 ) and A4: i < j and A5: x = { i,j } by CKB2:1;
perm2 is (Permutation of ( Seg n9 )) by MATRIX_2:def 9;
then A6: ( perm2 . i ) <> ( perm2 . j ) by A2,A3,A4,FUNCT_2:19;
now
per cases  by A6,XXREAL_0:1;
case A7: ( perm2 . i ) < ( perm2 . j );
P[ x,( 1_ K ) ]
proof
let i9 being (Element of ( NAT )),j9 being (Element of ( NAT ));
assume that
i9 in ( Seg n9 )
and
j9 in ( Seg n9 )
and
A8: i9 < j9
and
A9: x = { i9,j9 };
((i = i9 & j = j9) or (i = j9 & j = i9)) by A5,A9,ZFMISC_1:22;
hence thesis by A4,A7,A8;
end;
hence thesis;
end;
case A10: ( perm2 . i ) > ( perm2 . j );
P[ x,( - ( 1_ K ) ) ]
proof
let i9 being (Element of ( NAT )),j9 being (Element of ( NAT ));
assume that
i9 in ( Seg n9 )
and
j9 in ( Seg n9 )
and
A11: i9 < j9
and
A12: x = { i9,j9 };
((i = i9 & j = j9) or (i = j9 & j = i9)) by A5,A12,ZFMISC_1:22;
hence thesis by A4,A10,A11;
end;
hence thesis;
end;
end;
hence thesis;
end;
consider Path being (Function of ( 2Set ( Seg n9 ) ),(the carrier of K)) such that A13: (for x holds (x in ( 2Set ( Seg n9 ) ) implies P[ x,( Path . x ) ])) from FUNCT_2:sch 1(A1);
take Path;
let i being (Element of ( NAT )),j being (Element of ( NAT ));
assume that
A14: i in ( Seg n9 )
and
A15: j in ( Seg n9 )
and
A16: i < j;
{ i,j } in ( 2Set ( Seg n9 ) ) by A14,A15,A16,CKB2:1;
hence thesis by A13,A14,A15,A16;
end;
uniqueness
proof
set n9 = ( n + 2 );
let P1 being (Function of ( 2Set ( Seg n9 ) ),(the carrier of K)),P2 being (Function of ( 2Set ( Seg n9 ) ),(the carrier of K));
assume that
A17: (for i,j being (Element of ( NAT )) holds (((i in ( Seg n9 ) & j in ( Seg n9 )) & i < j) implies ((( perm2 . i ) < ( perm2 . j ) implies ( P1 . { i,j } ) = ( 1_ K )) & (( perm2 . i ) > ( perm2 . j ) implies ( P1 . { i,j } ) = ( - ( 1_ K ) )))))
and
A18: (for i,j being (Element of ( NAT )) holds (((i in ( Seg n9 ) & j in ( Seg n9 )) & i < j) implies ((( perm2 . i ) < ( perm2 . j ) implies ( P2 . { i,j } ) = ( 1_ K )) & (( perm2 . i ) > ( perm2 . j ) implies ( P2 . { i,j } ) = ( - ( 1_ K ) )))));
(for x holds (x in ( 2Set ( Seg n9 ) ) implies ( P1 . x ) = ( P2 . x )))
proof
let x;
assume x in ( 2Set ( Seg n9 ) );
then consider i,j such that A19: i in ( Seg n9 ) and A20: j in ( Seg n9 ) and A21: i < j and A22: x = { i,j } by CKB2:1;
perm2 is (Permutation of ( Seg n9 )) by MATRIX_2:def 9;
then A23: ( perm2 . i ) <> ( perm2 . j ) by A19,A20,A21,FUNCT_2:19;
now
per cases  by A23,XXREAL_0:1;
case A24: ( perm2 . i ) < ( perm2 . j );
then ( P1 . { i,j } ) = ( 1_ K ) by A17,A19,A20,A21;
hence thesis by A18,A19,A20,A21,A22,A24;
end;
case A25: ( perm2 . i ) > ( perm2 . j );
then ( P1 . { i,j } ) = ( - ( 1_ K ) ) by A17,A19,A20,A21;
hence thesis by A18,A19,A20,A21,A22,A25;
end;
end;
hence thesis;
end;
hence thesis by FUNCT_2:12;
end;
end;
