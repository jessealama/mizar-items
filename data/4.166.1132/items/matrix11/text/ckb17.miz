environ
vocabularies NUMBERS,NAT_1,XBOOLE_0,VECTSP_1,SUBSET_1,MATRIX_2,FUNCT_2,FINSEQ_1,FUNCT_1,ARYTM_3,SGRAPH1,XXREAL_0,TARSKI,CARD_1,FINSET_1,ORDINAL1,RELAT_1,ALGSTR_0,SETWISEO,BINOP_1,STRUCT_0,GROUP_1,ARYTM_1,FINSUB_1,INT_1,SUPINF_2,ABSVALUE,FINSEQ_2,CARD_3,ORDINAL4,FINSOP_1,ABIAN,MATRIX_1,TREES_1,ZFMISC_1,INCSP_1,AFINSQ_1,PARTFUN1,MATRIX_3,RLVECT_1,RVSUM_1,FVSUM_1,FUNCT_5,FUNCT_4,MATRIX11;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,XCMPLX_0,XXREAL_0,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,BINOP_1,STRUCT_0,ALGSTR_0,NAT_D,RLVECT_1,GROUP_1,VECTSP_1,SETWISEO,SETWOP_2,FINSEQ_2,FINSEQOP,MATRIX_1,FINSUB_1,MATRIX_2,NAT_1,FVSUM_1,CAT_2,FINSOP_1,GROUP_4,MATRIX_3,CARD_1,FINSEQ_7,FUNCT_4,ORDINAL1,SGRAPH1,MATRIX_6,CKB1,CKB9;
definitions BINOP_1,FINSEQ_2,FINSEQ_1,TARSKI,XBOOLE_0,MATRIX_1,MATRIX_3,FVSUM_1,RELAT_1,ALGSTR_0,CKB9;
theorems FINSEQ_1,FINSEQ_2,TARSKI,FUNCT_2,NAT_1,BINOP_1,FUNCT_1,SETWISEO,VECTSP_1,ZFMISC_1,FVSUM_1,SETWOP_2,MATRIX_1,MATRIX_2,FUNCOP_1,FINSUB_1,FINSEQ_3,RLVECT_1,RELAT_1,FINSOP_1,XBOOLE_0,XBOOLE_1,GROUP_1,MATRIX_3,FINSEQ_5,FINSET_1,GROUP_4,XREAL_1,MATRIX_7,ORDINAL1,MATRIX_4,CARD_1,CARD_2,MATRIX_9,STIRL2_1,RADIX_1,REWRITE1,FINSEQ_7,SGRAPH1,WELLORD2,FRAENKEL,FUNCT_5,FUNCT_4,NAT_D,XXREAL_0,PARTFUN1,CKB2,CKB3,CKB4,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes FUNCT_2,NAT_1,FINSEQ_1,FINSEQ_2,MATRIX_1,BINOP_1,FUNCT_1,SETWISEO;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCT_2,FINSET_1,FINSUB_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,STRUCT_0,GROUP_1,VECTSP_1,MATRIX_2,FVSUM_1,CARD_1,RELSET_1,FINSEQ_2,CKB5,CKB6,CKB7,CKB8;
constructors RELAT_2,WELLORD2,SETWISEO,XXREAL_0,NAT_1,NAT_D,FINSOP_1,SETWOP_2,FINSEQ_7,CAT_2,ALGSTR_1,GROUP_4,FVSUM_1,SGRAPH1,MATRIX_6,MATRIX_7,RELSET_1,CKB9;
requirements ARITHM,NUMERALS,REAL,BOOLE,SUBSET;
begin
reserve i for Nat;
reserve j for Nat;
reserve k for Nat;
reserve n for Nat;
reserve K for Field;
reserve p2 for (Element of ( Permutations ( n + 2 ) ));
reserve q2 for (Element of ( Permutations ( n + 2 ) ));
reserve pq2 for (Element of ( Permutations ( n + 2 ) ));
theorem
Th10: (for p2 holds (for q2 holds (for pq2 holds (for i holds (for j holds (for K holds (((((pq2 = ( p2 * q2 ) & q2 is  being_transposition) & ( q2 . i ) = j) & i < j) & ( 1_ K ) <> ( - ( 1_ K ) )) implies (( ( Part_sgn (p2,K) ) . { i,j } ) <> ( ( Part_sgn (pq2,K) ) . { i,j } ) & (for k holds (((k in ( Seg ( n + 2 ) ) & i <> k) & j <> k) implies (( ( Part_sgn (p2,K) ) . { i,k } ) <> ( ( Part_sgn (pq2,K) ) . { i,k } ) iff ( ( Part_sgn (p2,K) ) . { j,k } ) <> ( ( Part_sgn (pq2,K) ) . { j,k } ))))))))))))
proof
set n2 = ( n + 2 );
let p being (Element of ( Permutations n2 )),q being (Element of ( Permutations n2 )),pq being (Element of ( Permutations n2 ));
let i;
let j;
let K;
assume that
A1: pq = ( p * q )
and
A2: q is  being_transposition
and
A3: ( q . i ) = j
and
A4: i < j
and
A5: ( 1_ K ) <> ( - ( 1_ K ) );
A6: i in ( dom q ) by A2,A3,A4,CKB14:1;
set P2 = ( Part_sgn (pq,K) );
set P1 = ( Part_sgn (p,K) );
reconsider p9 = p,q9 = q,pq9 = pq as (Permutation of ( Seg n2 )) by MATRIX_2:def 9;
A7: ( dom q9 ) = ( Seg n2 ) by FUNCT_2:52;
A8: j in ( dom q ) by A2,A3,A4,CKB14:1;
A9: ( dom pq9 ) = ( Seg n2 ) by FUNCT_2:52;
then A10: ( pq . i ) = ( p . j ) by A1,A3,A6,A7,FUNCT_1:12;
( q . j ) = i by A2,A3,A4,CKB14:1;
then A11: ( pq . j ) = ( p . i ) by A1,A8,A9,A7,FUNCT_1:12;
( dom p9 ) = ( Seg n2 ) by FUNCT_2:52;
then A12: ( p9 . i ) <> ( p9 . j ) by A4,A6,A8,A7,FUNCT_1:def 4;
now
per cases  by A12,XXREAL_0:1;
suppose A13: ( p . i ) < ( p . j );

then ( P1 . { i,j } ) = ( 1_ K ) by A4,A6,A8,A7,CKB9:def 1;
hence ( P1 . { i,j } ) <> ( P2 . { i,j } ) by A4,A5,A6,A8,A7,A10,A11,A13,CKB9:def 1;
end;
suppose A14: ( p . i ) > ( p . j );

then ( P1 . { i,j } ) = ( - ( 1_ K ) ) by A4,A6,A8,A7,CKB9:def 1;
hence ( P1 . { i,j } ) <> ( P2 . { i,j } ) by A4,A5,A6,A8,A7,A10,A11,A14,CKB9:def 1;
end;
end;
hence ( P1 . { i,j } ) <> ( P2 . { i,j } );
let k;
assume that
A15: k in ( Seg n2 )
and
A16: i <> k
and
A17: j <> k;
A18: ( q . k ) = k by A2,A3,A4,A7,A15,A16,A17,CKB14:1;
A19: ( pq . k ) = ( p . ( q . k ) ) by A1,A9,A15,FUNCT_1:12;
(i < k or k < i) by A16,XXREAL_0:1;
then A20: { i,k } in ( 2Set ( Seg n2 ) ) by A6,A7,A15,CKB2:1;
A21: (( P1 . { i,k } ) = ( P2 . { i,k } ) implies ( P1 . { j,k } ) = ( P2 . { j,k } ))
proof
A22: (j < k or k < j) by A17,XXREAL_0:1;
A23: (i < k or i > k) by A16,XXREAL_0:1;
assume A24: ( P1 . { i,k } ) = ( P2 . { i,k } );
(( P1 . { k,i } ) = ( 1_ K ) or ( P1 . { k,i } ) = ( - ( 1_ K ) )) by A20,CKB11:1;
then ((( pq . j ) < ( pq . k ) & ( p . j ) < ( p . k )) or (( pq . j ) > ( pq . k ) & ( p . j ) > ( p . k ))) by A5,A6,A7,A10,A11,A15,A18,A19,A24,A23,CKB16:1;
then ((( P2 . { j,k } ) = ( 1_ K ) & ( P1 . { j,k } ) = ( 1_ K )) or (( P2 . { j,k } ) = ( - ( 1_ K ) ) & ( P1 . { j,k } ) = ( - ( 1_ K ) ))) by A8,A7,A15,A22,CKB9:def 1;
hence thesis;
end;
(j < k or k < j) by A17,XXREAL_0:1;
then A25: { j,k } in ( 2Set ( Seg n2 ) ) by A8,A7,A15,CKB2:1;
(( P1 . { j,k } ) = ( P2 . { j,k } ) implies ( P1 . { i,k } ) = ( P2 . { i,k } ))
proof
A26: (i < k or k < i) by A16,XXREAL_0:1;
A27: (j < k or j > k) by A17,XXREAL_0:1;
assume A28: ( P1 . { j,k } ) = ( P2 . { j,k } );
(( P1 . { k,j } ) = ( 1_ K ) or ( P1 . { k,j } ) = ( - ( 1_ K ) )) by A25,CKB11:1;
then ((( pq . i ) < ( pq . k ) & ( p . i ) < ( p . k )) or (( pq . i ) > ( pq . k ) & ( p . i ) > ( p . k ))) by A5,A8,A7,A10,A11,A15,A18,A19,A28,A27,CKB16:1;
then ((( P2 . { i,k } ) = ( 1_ K ) & ( P1 . { i,k } ) = ( 1_ K )) or (( P2 . { i,k } ) = ( - ( 1_ K ) ) & ( P1 . { i,k } ) = ( - ( 1_ K ) ))) by A6,A7,A15,A26,CKB9:def 1;
hence thesis;
end;
hence thesis by A21;
end;
