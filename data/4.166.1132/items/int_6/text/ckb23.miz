environ
vocabularies NUMBERS,REAL_3,FINSEQ_1,RELAT_1,TARSKI,VALUED_0,ORDINAL1,RFINSEQ,XXREAL_0,ARYTM_1,SUBSET_1,FUNCT_1,ARYTM_3,INT_1,ORDINAL4,XBOOLE_0,NAT_1,VALUED_1,CARD_3,BINOP_2,SETWISEO,BINOP_1,SETWOP_2,CARD_1,FINSOP_1,PARTFUN1,COMPLEX1,INT_2,PARTFUN3,XREAL_0,INT_6;
notations TARSKI,XBOOLE_0,SUBSET_1,INT_1,INT_2,ORDINAL1,NUMBERS,PARTFUN1,PARTFUN3,REAL_3,XXREAL_0,XREAL_0,FUNCT_1,VALUED_0,VALUED_1,BINOP_2,SETWISEO,RFINSEQ,BINOP_1,FINSEQ_1,SETWOP_2,RVSUM_1,XCMPLX_0,NAT_1,FINSOP_1;
definitions INT_2,XCMPLX_0,FINSEQ_1,FUNCT_1;
theorems INT_1,FUNCT_1,FINSEQ_1,RVSUM_1,NAT_1,SETWOP_2,FINSEQ_3,BINOP_2,SETWISEO,TARSKI,NAT_D,INT_2,XCMPLX_0,XCMPLX_1,XREAL_1,RFINSEQ,FINSEQ_5,FINSEQ_2,ABSVALUE,PARTFUN3,XBOOLE_0,XXREAL_0,ORDINAL1,XBOOLE_1,PARTFUN1,XREAL_0,WSIERP_1,VALUED_0,VALUED_1,COMPLEX1,CKB1,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes FINSEQ_1,NAT_1,INT_1;
registrations NUMBERS,XREAL_0,NAT_1,INT_1,RELAT_1,FINSEQ_1,RVSUM_1,XBOOLE_0,MEMBERED,BINOP_2,ORDINAL1,XXREAL_0,VALUED_0,VALUED_1,FUNCT_1,CARD_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB14,CKB15;
constructors FINSOP_1,RFINSEQ,INT_2,BINOP_2,REAL_1,SETWISEO,SETWOP_2,PARTFUN3,XXREAL_0,RVSUM_1,BINOP_1,RELSET_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
theorem
Lm6: (for m being  integer-yielding FinSequence holds (for i,j being  natural number holds ((((i in ( dom m ) & j in ( dom m )) & j <> i) & ( m . j ) <> ( 0 )) implies (ex z being Integer st ( z * ( m . i ) ) = ( ( Product m ) / ( m . j ) )))))
proof
let m being  integer-yielding FinSequence;
let i9 being  natural number,j9 being  natural number;
reconsider m9 = m as (FinSequence of ( INT )) by CKB1:1;
assume that
A1: i9 in ( dom m )
and
A2: j9 in ( dom m )
and
A3: j9 <> i9
and
A4: ( m . j9 ) <> ( 0 );
reconsider i = i9,j = j9 as (Element of ( NAT )) by ORDINAL1:def 12;
A5: ( dom m ) = ( Seg ( len m ) ) by FINSEQ_1:def 3;
then A6: j <= ( len m ) by A2,FINSEQ_1:1;
A7: 1 <= j by A2,A5,FINSEQ_1:1;
then ( 1 - 1 ) <= ( j - 1 ) by XREAL_1:9;
then reconsider kj = ( j - 1 ) as (Element of ( NAT )) by INT_1:3;
set f = ( ( m | kj ) ^ ( m /^ j ) );
reconsider f as (FinSequence of ( INT )) by CKB1:1;
( kj + 1 ) = j;
then kj <= j by NAT_1:11;
then A8: ( len ( m | kj ) ) = kj by A6,FINSEQ_1:59,XXREAL_0:2;
A9: ( dom m ) = ( Seg ( len m ) ) by FINSEQ_1:def 3;
then A10: 1 <= i by A1,FINSEQ_1:1;
then ( 1 - 1 ) <= ( i - 1 ) by XREAL_1:9;
then reconsider ki = ( i - 1 ) as (Element of ( NAT )) by INT_1:3;
A11: i <= ( len m ) by A1,A9,FINSEQ_1:1;
(ex l being (Element of ( NAT )) st (l in ( dom f ) & ( f . l ) = ( m . i )))
proof
per cases  by A3,XXREAL_0:1;
suppose A12: i < j;

A13: ( dom ( m | kj ) ) c= ( dom f ) by FINSEQ_1:26;
i < ( kj + 1 ) by A12;
then i <= ( j - 1 ) by NAT_1:13;
then i in ( Seg kj ) by A10;
then A14: i in ( dom ( m | kj ) ) by A8,FINSEQ_1:def 3;
then ( ( m | kj ) . i ) = ( m . i ) by FUNCT_1:47;
then ( f . i ) = ( m . i ) by A14,FINSEQ_1:def 7;
hence thesis by A14,A13;
end;
suppose A15: i > j;

then ( i - 1 ) > kj by XREAL_1:9;
then reconsider a = ( ( i - 1 ) - kj ) as (Element of ( NAT )) by INT_1:5;
( i - kj ) > ( ( kj + 1 ) - kj ) by A15,XREAL_1:9;
then ( ( i - kj ) - 1 ) > ( 1 - 1 ) by XREAL_1:9;
then (ex g being Nat st a = ( g + 1 )) by NAT_1:6;
then A16: 1 <= ( ( i - 1 ) - kj ) by NAT_1:11;
A17: ( len ( m /^ j ) ) = ( ( len m ) - j ) by A6,RFINSEQ:def 1;
then ( len f ) = ( kj + ( ( len m ) - j ) ) by A8,FINSEQ_1:22
.= ( ( len m ) - 1 );
then A18: ki <= ( len f ) by A11,XREAL_1:9;
( i - j ) <= ( ( len m ) - j ) by A11,XREAL_1:9;
then a in ( Seg ( len ( m /^ j ) ) ) by A17,A16;
then A19: ( ( i - 1 ) - kj ) in ( dom ( m9 /^ j ) ) by FINSEQ_1:def 3;
( ki + 1 ) > 1 by A7,A15,XXREAL_0:2;
then ki >= 1 by NAT_1:13;
then ki in ( Seg ( len f ) ) by A18;
then A20: ki in ( dom f ) by FINSEQ_1:def 3;
( len ( m | kj ) ) < ( i - 1 ) by A8,A15,XREAL_1:9;
then ( f . ki ) = ( ( m /^ j ) . ( ki - kj ) ) by A8,A18,FINSEQ_1:24
.= ( ( m9 /^ j ) /. ( ki - kj ) ) by A19,PARTFUN1:def 6
.= ( m9 /. ( j + a ) ) by A19,FINSEQ_5:27
.= ( m . i ) by A1,PARTFUN1:def 6;
hence thesis by A20;
end;
end;
then consider l being (Element of ( NAT )) such that A21: l in ( dom f ) and A22: ( f . l ) = ( m . i );
l in ( Seg ( len f ) ) by A21,FINSEQ_1:def 3;
then 1 <= l by FINSEQ_1:1;
then reconsider kl = ( l - 1 ) as (Element of ( NAT )) by INT_1:5;
l in ( Seg ( len f ) ) by A21,FINSEQ_1:def 3;
then ( kl + 1 ) <= ( len f ) by FINSEQ_1:1;
then ( ( f | kl ) ^ <* ( f . l ) *> ) = ( f | l ) by CKB17:1;
then f = ( ( ( f | kl ) ^ <* ( f . l ) *> ) ^ ( f /^ l ) ) by RFINSEQ:8;
then A23: ( Product f ) = ( ( Product ( ( f | kl ) ^ <* ( f . l ) *> ) ) * ( Product ( f /^ l ) ) ) by RVSUM_1:97
.= ( ( ( Product ( f | kl ) ) * ( Product <* ( f . l ) *> ) ) * ( Product ( f /^ l ) ) ) by RVSUM_1:97
.= ( ( ( Product ( f | kl ) ) * ( Product ( f /^ l ) ) ) * ( Product <* ( m . i ) *> ) ) by A22
.= ( ( ( Product ( f | kl ) ) * ( Product ( f /^ l ) ) ) * ( m . i ) ) by RVSUM_1:95
.= ( ( Product ( ( f | kl ) ^ ( f /^ l ) ) ) * ( m . i ) ) by RVSUM_1:97;
( kj + 1 ) <= ( len m ) by A2,A5,FINSEQ_1:1;
then A24: ( ( m | kj ) ^ <* ( m . j ) *> ) = ( m | j ) by CKB17:1;
reconsider m2 = ( m /^ j ) as (FinSequence of ( INT )) by CKB1:1;
reconsider m1 = ( m | j ) as (FinSequence of ( INT )) by CKB1:1;
m9 = ( m1 ^ m2 ) by RFINSEQ:8;
then ( Product m ) = ( ( Product ( ( m | kj ) ^ <* ( m . j ) *> ) ) * ( Product ( m /^ j ) ) ) by A24,RVSUM_1:97
.= ( ( ( Product ( m | kj ) ) * ( Product <* ( m . j ) *> ) ) * ( Product ( m /^ j ) ) ) by RVSUM_1:97
.= ( ( ( Product ( m | kj ) ) * ( Product ( m /^ j ) ) ) * ( Product <* ( m . j ) *> ) )
.= ( ( ( Product ( m | kj ) ) * ( Product ( m /^ j ) ) ) * ( m . j ) ) by RVSUM_1:95
.= ( ( Product f ) * ( m . j ) ) by RVSUM_1:97;
then ( ( Product m ) / ( m . j ) ) = ( ( Product f ) * ( ( m . j ) * ( ( m . j ) " ) ) )
.= ( ( Product f ) * 1 ) by A4,XCMPLX_0:def 7;
hence thesis by A23;
end;
