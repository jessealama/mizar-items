environ
vocabularies XBOOLE_0,PRE_TOPC,EQREL_1,STRUCT_0,SUBSET_1,BORSUK_1,RELAT_1,TARSKI,CARD_3,RCOMP_1,ZFMISC_1,SETFAM_1,ORDINAL2,FUNCT_1,T_1TOPSP;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,SETFAM_1,DOMAIN_1,STRUCT_0,PRE_TOPC,EQREL_1,TOPS_2,BORSUK_1,CKB4,CKB5,CKB10;
definitions TARSKI,PRE_TOPC,XBOOLE_0,STRUCT_0,CKB4,CKB5,CKB10;
theorems PRE_TOPC,TARSKI,SETFAM_1,EQREL_1,URYSOHN1,BORSUK_1,FUNCT_2,FUNCT_1,TOPS_2,RELSET_1,RELAT_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB10;
schemes CLASSES1;
registrations SUBSET_1,FUNCT_1,RELSET_1,FUNCT_2,EQREL_1,STRUCT_0,PRE_TOPC,BORSUK_1,CKB6,CKB8,CKB9;
constructors SETFAM_1,TOPS_2,BORSUK_1,URYSOHN1,CKB4,CKB5,CKB10;
requirements BOOLE,SUBSET;
begin
reserve y for set;
reserve w for set;
reserve T for non  empty TopSpace;
theorem
Th13: (for T,T1 being non  empty TopSpace holds (for f being  continuous (Function of T,T1) holds (T1 is  T_1 implies ({ ( f " { z } ) where z is (Element of T1): z in ( rng f ) } is (a_partition of (the carrier of T)) & (for A being (Subset of T) holds (A in { ( f " { z } ) where z is (Element of T1): z in ( rng f ) } implies A is  closed))))))
proof
let T being non  empty TopSpace;
let T1 being non  empty TopSpace;
let f being  continuous (Function of T,T1);
assume A1: T1 is  T_1;
A2: ( dom f ) = (the carrier of T) by FUNCT_2:def 1;
thus { ( f " { z } ) where z is (Element of T1): z in ( rng f ) } is (a_partition of (the carrier of T))
proof
{ ( f " { z } ) where z is (Element of T1): z in ( rng f ) } c= ( bool (the carrier of T) )
proof
let y;
assume y in { ( f " { z } ) where z is (Element of T1): z in ( rng f ) };
then (ex z being (Element of T1) st (y = ( f " { z } ) & z in ( rng f )));
hence thesis;
end;
then reconsider fz = { ( f " { z } ) where z is (Element of T1): z in ( rng f ) } as (Subset-Family of T);
reconsider fz as (Subset-Family of T);
A3: (for A being (Subset of T) holds (A in fz implies (A <> ( {} ) & (for B being (Subset of T) holds (B in fz implies (A = B or A misses B))))))
proof
let A being (Subset of T);
assume A in fz;
then consider z being (Element of T1) such that A4: A = ( f " { z } ) and A5: z in ( rng f );
consider y being set such that A6: (y in ( dom f ) & z = ( f . y )) by A5,FUNCT_1:def 3;
( f . y ) in { ( f . y ) } by TARSKI:def 1;
hence A <> ( {} ) by A4,A6,FUNCT_1:def 7;
let B being (Subset of T);
assume B in fz;
then consider w being (Element of T1) such that A7: B = ( f " { w } ) and w in ( rng f );
now
assume (not A misses B);
then consider v being set such that A8: v in A and A9: v in B by XBOOLE_0:3;
( f . v ) in { z } by A4,A8,FUNCT_1:def 7;
then A10: ( f . v ) = z by TARSKI:def 1;
( f . v ) in { w } by A7,A9,FUNCT_1:def 7;
hence A = B by A4,A7,A10,TARSKI:def 1;
end;
hence (A = B or A misses B);
end;
(the carrier of T) c= ( union fz )
proof
let y;
consider z being set such that A11: z = ( f . y );
assume A12: y in (the carrier of T);
then A13: z in ( rng f ) by A2,A11,FUNCT_1:def 3;
then reconsider z as (Element of T1);
A14: ( f " { z } ) in fz by A13;
( f . y ) in { ( f . y ) } by TARSKI:def 1;
then y in ( f " { z } ) by A2,A12,A11,FUNCT_1:def 7;
hence thesis by A14,TARSKI:def 4;
end;
then ( union fz ) = (the carrier of T) by XBOOLE_0:def 10;
hence thesis by A3,EQREL_1:def 4;
end;

thus (for A being (Subset of T) holds (A in { ( f " { z } ) where z is (Element of T1): z in ( rng f ) } implies A is  closed))
proof
let A being (Subset of T);
assume A in { ( f " { z } ) where z is (Element of T1): z in ( rng f ) };
then consider z being (Element of T1) such that A15: A = ( f " { z } ) and z in ( rng f );
{ z } is  closed by A1,URYSOHN1:19;
hence thesis by A15,PRE_TOPC:def 6;
end;

end;
