environ
vocabularies SUBSET_1,NUMBERS,CQC_LANG,QC_LANG1,XBOOLE_0,VALUAT_1,FUNCT_1,FINSEQ_1,SUBSTUT1,RELAT_1,TARSKI,FUNCT_4,FUNCOP_1,PARTFUN1,FUNCT_2,MCART_1,REALSET1,XBOOLEAN,ZF_MODEL,ORDINAL4,ZF_LANG,ARYTM_3,NAT_1,XXREAL_0,ZFMISC_1,BVFUNC_2,CLASSES2,ZF_LANG1,SUBLEMMA,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,FINSEQ_1,FUNCT_1,NAT_1,QC_LANG1,QC_LANG3,PARTFUN1,CARD_1,NUMBERS,XXREAL_0,FUNCOP_1,CQC_LANG,RELAT_1,FUNCT_4,SEQ_4,VALUAT_1,RELSET_1,FUNCT_2,MARGREL1,DOMAIN_1,MCART_1,SUBSTUT1;
definitions TARSKI,XBOOLE_0,FUNCOP_1;
theorems TARSKI,FINSEQ_1,FUNCT_1,MCART_1,VALUAT_1,XBOOLE_0,XBOOLE_1,FINSEQ_2,CQC_LANG,QC_LANG1,ZFMISC_1,RELAT_1,QC_LANG3,FUNCOP_1,FUNCT_2,RELSET_1,QC_LANG2,SUBSTUT1,FUNCT_4,FUNCT_7,ORDINAL1,XXREAL_2,CARD_1;
schemes CQC_LANG,XBOOLE_0,SUBSTUT1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,MEMBERED,QC_LANG1,CQC_LANG,SUBSTUT1,XXREAL_0,XXREAL_2,CARD_1,RELSET_1;
constructors DOMAIN_1,FUNCT_4,XXREAL_0,SEQ_4,QC_LANG3,VALUAT_1,SUBSTUT1,RELSET_1;
requirements NUMERALS,SUBSET,BOOLE;
begin
reserve b for set;
theorem
Th1: (for f,g,h,h1,h2 being Function holds ((( dom h1 ) c= ( dom h ) & ( dom h2 ) c= ( dom h )) implies ( ( f +* g ) +* h ) = ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h )))
proof
let f being Function,g being Function,h being Function,h1 being Function,h2 being Function;
assume that
A1: ( dom h1 ) c= ( dom h )
and
A2: ( dom h2 ) c= ( dom h );
(( dom ( f +* h1 ) ) = ( ( dom f ) \/ ( dom h1 ) ) & ( dom ( g +* h2 ) ) = ( ( dom g ) \/ ( dom h2 ) )) by FUNCT_4:def 1;
then ( dom ( ( f +* h1 ) +* ( g +* h2 ) ) ) = ( ( ( dom f ) \/ ( dom h1 ) ) \/ ( ( dom g ) \/ ( dom h2 ) ) ) by FUNCT_4:def 1;
then ( dom ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) ) = ( ( ( ( dom f ) \/ ( dom h1 ) ) \/ ( ( dom g ) \/ ( dom h2 ) ) ) \/ ( dom h ) ) by FUNCT_4:def 1;
then ( dom ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) ) = ( ( ( dom f ) \/ ( dom h1 ) ) \/ ( ( ( dom g ) \/ ( dom h2 ) ) \/ ( dom h ) ) ) by XBOOLE_1:4;
then ( dom ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) ) = ( ( ( dom f ) \/ ( dom h1 ) ) \/ ( ( dom g ) \/ ( ( dom h2 ) \/ ( dom h ) ) ) ) by XBOOLE_1:4;
then ( dom ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) ) = ( ( ( dom f ) \/ ( dom h1 ) ) \/ ( ( dom g ) \/ ( dom h ) ) ) by A2,XBOOLE_1:12;
then ( dom ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) ) = ( ( ( ( dom f ) \/ ( dom h1 ) ) \/ ( dom h ) ) \/ ( dom g ) ) by XBOOLE_1:4;
then ( dom ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) ) = ( ( ( dom f ) \/ ( ( dom h1 ) \/ ( dom h ) ) ) \/ ( dom g ) ) by XBOOLE_1:4;
then A3: ( dom ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) ) = ( ( ( dom f ) \/ ( dom h ) ) \/ ( dom g ) ) by A1,XBOOLE_1:12;
A4: (for b holds (b in ( dom ( ( f +* g ) +* h ) ) implies ( ( ( f +* g ) +* h ) . b ) = ( ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) . b )))
proof
let b;
assume that
b in ( dom ( ( f +* g ) +* h ) );
A5:now
assume A6: (not b in ( dom h ));
then A7: ( ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) . b ) = ( ( ( f +* h1 ) +* ( g +* h2 ) ) . b ) by FUNCT_4:11;
A8: ( ( ( f +* g ) +* h ) . b ) = ( ( f +* g ) . b ) by A6,FUNCT_4:11;
A9:now
A10: (not b in ( dom h2 )) by A2,A6;
assume A11: b in ( dom g );
( dom g ) c= ( ( dom g ) \/ ( dom h2 ) ) by XBOOLE_1:7;
then b in ( ( dom g ) \/ ( dom h2 ) ) by A11;
then b in ( dom ( g +* h2 ) ) by FUNCT_4:def 1;
then A12: ( ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) . b ) = ( ( g +* h2 ) . b ) by A7,FUNCT_4:13;
( ( ( f +* g ) +* h ) . b ) = ( g . b ) by A8,A11,FUNCT_4:13;
hence thesis by A12,A10,FUNCT_4:11;
end;
now
A13: (not b in ( dom h1 )) by A1,A6;
assume A14: (not b in ( dom g ));
(not b in ( dom h2 )) by A2,A6;
then (not b in ( ( dom g ) \/ ( dom h2 ) )) by A14,XBOOLE_0:def 3;
then (not b in ( dom ( g +* h2 ) )) by FUNCT_4:def 1;
then A15: ( ( ( ( f +* h1 ) +* ( g +* h2 ) ) +* h ) . b ) = ( ( f +* h1 ) . b ) by A7,FUNCT_4:11;
( ( ( f +* g ) +* h ) . b ) = ( f . b ) by A8,A14,FUNCT_4:11;
hence thesis by A15,A13,FUNCT_4:11;
end;
hence thesis by A9;
end;
now
assume A16: b in ( dom h );
then ( ( ( f +* g ) +* h ) . b ) = ( h . b ) by FUNCT_4:13;
hence thesis by A16,FUNCT_4:13;
end;
hence thesis by A5;
end;
( dom ( f +* g ) ) = ( ( dom f ) \/ ( dom g ) ) by FUNCT_4:def 1;
then ( dom ( ( f +* g ) +* h ) ) = ( ( ( dom f ) \/ ( dom g ) ) \/ ( dom h ) ) by FUNCT_4:def 1;
hence thesis by A3,A4,FUNCT_1:2,XBOOLE_1:4;
end;
