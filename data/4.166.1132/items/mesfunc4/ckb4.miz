environ
vocabularies NUMBERS,FINSEQ_1,NAT_1,RELAT_1,SUPINF_2,XXREAL_0,FUNCT_1,ARYTM_3,CARD_3,SUBSET_1,XBOOLE_0,CARD_1,PROB_1,MEASURE1,PARTFUN1,MESFUNC2,MESFUNC3,INTEGRA1,VALUED_0,TARSKI,COMPLEX1,MESFUNC1,ORDINAL4,ARYTM_1,INT_1,ORDINAL1,SUPINF_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,NAT_1,NAT_D,PROB_1,SUPINF_1,SUPINF_2,MEASURE1,EXTREAL1,MESFUNC1,MESFUNC2,MESFUNC3;
definitions MESFUNC3,TARSKI,XBOOLE_0;
theorems MEASURE1,TARSKI,FUNCT_1,NAT_1,EXTREAL2,MESFUNC1,ZFMISC_1,FINSEQ_1,FINSEQ_2,FINSEQ_5,PROB_2,XBOOLE_0,XBOOLE_1,RELAT_1,MESFUNC2,EXTREAL1,MESFUNC3,XREAL_1,NAT_2,FINSEQ_3,XXREAL_0,PROB_1,FINSUB_1,ORDINAL1,NAT_D,VALUED_0,XXREAL_3,CKB1,CKB2,CKB3;
schemes FINSEQ_1,FINSEQ_2,NAT_1;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,MEASURE1,VALUED_0,MEMBERED,CARD_1,XXREAL_3,FUNCT_1;
constructors PARTFUN1,REAL_1,NAT_1,NAT_D,FINSEQOP,EXTREAL1,MESFUNC1,BINARITH,MESFUNC2,MESFUNC3,SEQ_1,SUPINF_1,RELSET_1;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
Th4: (for X being non empty set holds (for S being (SigmaField of X) holds (for f being (PartFunc of X,( ExtREAL )) holds (for M being (sigma_Measure of S) holds (((f is_simple_func_in S & ( dom f ) <> ( {} )) & (for x being set holds (x in ( dom f ) implies ( 0. ) <= ( f . x )))) implies (ex F being (Finite_Sep_Sequence of S) st (ex a,x being (FinSequence of ( ExtREAL )) st (((F,a are_Re-presentation_of f & ( dom x ) = ( dom F )) & (for n being Nat holds (n in ( dom x ) implies ( x . n ) = ( ( a . n ) * ( ( M * F ) . n ) )))) & ( integral (X,S,M,f) ) = ( Sum x )))))))))
proof
let X being non empty set;
let S being (SigmaField of X);
let f being (PartFunc of X,( ExtREAL ));
let M being (sigma_Measure of S);
assume that
A1: f is_simple_func_in S
and
A2: (( dom f ) <> ( {} ) & (for x being set holds (x in ( dom f ) implies ( 0. ) <= ( f . x ))));
consider F being (Finite_Sep_Sequence of S),a being (FinSequence of ( ExtREAL )) such that A3: F,a are_Re-presentation_of f by A1,MESFUNC3:12;
(ex x being (FinSequence of ( ExtREAL )) st (( dom x ) = ( dom F ) & (for n being Nat holds (n in ( dom x ) implies ( x . n ) = ( ( a . n ) * ( ( M * F ) . n ) )))))
proof
deffunc Q(Nat) = ( ( a . $1 ) * ( ( M * F ) . $1 ) );
consider x being (FinSequence of ( ExtREAL )) such that A4: (( len x ) = ( len F ) & (for k being Nat holds (k in ( dom x ) implies ( x . k ) = Q(k)))) from FINSEQ_2:sch 1;
take x;
( dom x ) = ( Seg ( len F ) ) by A4,FINSEQ_1:def 3
.= ( dom F ) by FINSEQ_1:def 3;
hence thesis by A4;
end;
then consider x being (FinSequence of ( ExtREAL )) such that A5: (( dom x ) = ( dom F ) & (for n being Nat holds (n in ( dom x ) implies ( x . n ) = ( ( a . n ) * ( ( M * F ) . n ) ))));
( integral (X,S,M,f) ) = ( Sum x ) by A1,A2,A3,A5,CKB3:1;
hence thesis by A3,A5;
end;
