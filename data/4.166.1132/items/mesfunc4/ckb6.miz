environ
vocabularies NUMBERS,FINSEQ_1,NAT_1,RELAT_1,SUPINF_2,XXREAL_0,FUNCT_1,ARYTM_3,CARD_3,SUBSET_1,XBOOLE_0,CARD_1,PROB_1,MEASURE1,PARTFUN1,MESFUNC2,MESFUNC3,INTEGRA1,VALUED_0,TARSKI,COMPLEX1,MESFUNC1,ORDINAL4,ARYTM_1,INT_1,ORDINAL1,SUPINF_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_1,NAT_1,NAT_D,PROB_1,SUPINF_1,SUPINF_2,MEASURE1,EXTREAL1,MESFUNC1,MESFUNC2,MESFUNC3;
definitions MESFUNC3,TARSKI,XBOOLE_0;
theorems MEASURE1,TARSKI,FUNCT_1,NAT_1,EXTREAL2,MESFUNC1,ZFMISC_1,FINSEQ_1,FINSEQ_2,FINSEQ_5,PROB_2,XBOOLE_0,XBOOLE_1,RELAT_1,MESFUNC2,EXTREAL1,MESFUNC3,XREAL_1,NAT_2,FINSEQ_3,XXREAL_0,PROB_1,FINSUB_1,ORDINAL1,NAT_D,VALUED_0,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5;
schemes FINSEQ_1,FINSEQ_2,NAT_1;
registrations ORDINAL1,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,MEASURE1,VALUED_0,MEMBERED,CARD_1,XXREAL_3,FUNCT_1;
constructors PARTFUN1,REAL_1,NAT_1,NAT_D,FINSEQOP,EXTREAL1,MESFUNC1,BINARITH,MESFUNC2,MESFUNC3,SEQ_1,SUPINF_1,RELSET_1;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
theorem
(for X being non empty set holds (for S being (SigmaField of X) holds (for M being (sigma_Measure of S) holds (for f,g being (PartFunc of X,( ExtREAL )) holds (for c being R_eal holds (((((((f is_simple_func_in S & ( dom f ) <> ( {} )) & (for x being set holds (x in ( dom f ) implies ( 0. ) <= ( f . x )))) & ( 0. ) <= c) & c < ( +infty )) & ( dom g ) = ( dom f )) & (for x being set holds (x in ( dom g ) implies ( g . x ) = ( c * ( f . x ) )))) implies ( integral (X,S,M,g) ) = ( c * ( integral (X,S,M,f) ) )))))))
proof
let X being non empty set;
let S being (SigmaField of X);
let M being (sigma_Measure of S);
let f being (PartFunc of X,( ExtREAL )),g being (PartFunc of X,( ExtREAL ));
let c being R_eal;
assume that
A1: f is_simple_func_in S
and
A2: ( dom f ) <> ( {} )
and
A3: (for x being set holds (x in ( dom f ) implies ( 0. ) <= ( f . x )))
and
A4: ( 0. ) <= c
and
A5: c < ( +infty )
and
A6: ( dom g ) = ( dom f )
and
A7: (for x being set holds (x in ( dom g ) implies ( g . x ) = ( c * ( f . x ) )));
A8: (for x being set holds (x in ( dom g ) implies ( 0. ) <= ( g . x )))
proof
let x being set;
assume A9: x in ( dom g );
then ( 0. ) <= ( f . x ) by A3,A6;
then ( 0. ) <= ( c * ( f . x ) ) by A4;
hence thesis by A7,A9;
end;
A10: (ex G being (Finite_Sep_Sequence of S) st (( dom g ) = ( union ( rng G ) ) & (for n being Nat holds (for x,y being (Element of X) holds (((n in ( dom G ) & x in ( G . n )) & y in ( G . n )) implies ( g . x ) = ( g . y ))))))
proof
consider G being (Finite_Sep_Sequence of S) such that A11: ( dom f ) = ( union ( rng G ) ) and A12: (for n being Nat holds (for x,y being (Element of X) holds (((n in ( dom G ) & x in ( G . n )) & y in ( G . n )) implies ( f . x ) = ( f . y )))) by A1,MESFUNC2:def 4;
take G;
(for n being Nat holds (for x,y being (Element of X) holds (((n in ( dom G ) & x in ( G . n )) & y in ( G . n )) implies ( g . x ) = ( g . y ))))
proof
let n being Nat;
let x being (Element of X),y being (Element of X);
assume that
A13: n in ( dom G )
and
A14: x in ( G . n )
and
A15: y in ( G . n );
A16: ( G . n ) in ( rng G ) by A13,FUNCT_1:3;
then y in ( dom g ) by A6,A11,A15,TARSKI:def 4;
then A17: ( g . y ) = ( c * ( f . y ) ) by A7;
x in ( dom g ) by A6,A11,A14,A16,TARSKI:def 4;
then ( g . x ) = ( c * ( f . x ) ) by A7;
hence thesis by A12,A13,A14,A15,A17;
end;
hence thesis by A6,A11;
end;
consider F being (Finite_Sep_Sequence of S),a being (FinSequence of ( ExtREAL )),x being (FinSequence of ( ExtREAL )) such that A18: F,a are_Re-presentation_of f and A19: ( dom x ) = ( dom F ) and A20: (for n being Nat holds (n in ( dom x ) implies ( x . n ) = ( ( a . n ) * ( ( M * F ) . n ) ))) and A21: ( integral (X,S,M,f) ) = ( Sum x ) by A1,A2,A3,CKB4:1;
(ex b being (FinSequence of ( ExtREAL )) st (( dom b ) = ( dom a ) & (for n being Nat holds (n in ( dom b ) implies ( b . n ) = ( c * ( a . n ) )))))
proof
deffunc ca(Nat) = ( c * ( a . $1 ) );
consider b being FinSequence such that A22: (( len b ) = ( len a ) & (for n being Nat holds (n in ( dom b ) implies ( b . n ) = ca(n)))) from FINSEQ_1:sch 2;
A23: ( rng b ) c= ( ExtREAL )
proof
let v being set;
assume v in ( rng b );
then consider k being set such that A24: k in ( dom b ) and A25: v = ( b . k ) by FUNCT_1:def 3;
reconsider k as (Element of ( NAT )) by A24;
v = ( c * ( a . k ) ) by A22,A24,A25;
hence thesis;
end;
A26: ( dom b ) = ( Seg ( len b ) ) by FINSEQ_1:def 3;
reconsider b as (FinSequence of ( ExtREAL )) by A23,FINSEQ_1:def 4;
take b;
thus thesis by A22,A26,FINSEQ_1:def 3;
end;
then consider b being (FinSequence of ( ExtREAL )) such that A27: ( dom b ) = ( dom a ) and A28: (for n being Nat holds (n in ( dom b ) implies ( b . n ) = ( c * ( a . n ) )));
A29: c in ( REAL ) by A4,A5,XXREAL_0:14;
(ex z being (FinSequence of ( ExtREAL )) st (( dom z ) = ( dom x ) & (for n being Nat holds (n in ( dom z ) implies ( z . n ) = ( c * ( x . n ) )))))
proof
deffunc cx(Nat) = ( c * ( x . $1 ) );
consider z being FinSequence such that A30: (( len z ) = ( len x ) & (for n being Nat holds (n in ( dom z ) implies ( z . n ) = cx(n)))) from FINSEQ_1:sch 2;
A31: ( rng z ) c= ( ExtREAL )
proof
let v being set;
assume v in ( rng z );
then consider k being set such that A32: k in ( dom z ) and A33: v = ( z . k ) by FUNCT_1:def 3;
reconsider k as (Element of ( NAT )) by A32;
v = ( c * ( x . k ) ) by A30,A32,A33;
hence thesis;
end;
A34: ( dom z ) = ( Seg ( len z ) ) by FINSEQ_1:def 3;
reconsider z as (FinSequence of ( ExtREAL )) by A31,FINSEQ_1:def 4;
take z;
thus thesis by A30,A34,FINSEQ_1:def 3;
end;
then consider z being (FinSequence of ( ExtREAL )) such that A35: ( dom z ) = ( dom x ) and A36: (for n being Nat holds (n in ( dom z ) implies ( z . n ) = ( c * ( x . n ) )));
A37: (for n being Nat holds (n in ( dom z ) implies ( z . n ) = ( ( b . n ) * ( ( M * F ) . n ) )))
proof
let n being Nat;
A38: ( dom a ) = ( dom F ) by A18,MESFUNC3:def 1;
assume A39: n in ( dom z );
hence ( z . n ) = ( c * ( x . n ) ) by A36
.= ( c * ( ( a . n ) * ( ( M * F ) . n ) ) ) by A20,A35,A39
.= ( ( c * ( a . n ) ) * ( ( M * F ) . n ) ) by XXREAL_3:66
.= ( ( b . n ) * ( ( M * F ) . n ) ) by A19,A27,A28,A35,A39,A38;
end;
A40: ( dom g ) = ( union ( rng F ) ) by A6,A18,MESFUNC3:def 1;
A41:now
let n being Nat;
assume A42: n in ( dom F );
then A43: n in ( dom b ) by A18,A27,MESFUNC3:def 1;
let x being set;
assume A44: x in ( F . n );
( F . n ) in ( rng F ) by A42,FUNCT_1:3;
then x in ( dom g ) by A40,A44,TARSKI:def 4;
hence ( g . x ) = ( c * ( f . x ) ) by A7
.= ( c * ( a . n ) ) by A18,A42,A44,MESFUNC3:def 1
.= ( b . n ) by A28,A43;
end;
( dom F ) = ( dom b ) by A18,A27,MESFUNC3:def 1;
then A45: F,b are_Re-presentation_of g by A40,A41,MESFUNC3:def 1;
A46: f is  real-valued by A1,MESFUNC2:def 4;
(for x being (Element of X) holds (x in ( dom g ) implies |. ( g . x ) .| < ( +infty )))
proof
let x being (Element of X);
assume A47: x in ( dom g );
( c * ( f . x ) ) <> ( -infty ) by A29,A46;
then ( g . x ) <> ( -infty ) by A7,A47;
then ( -infty ) < ( g . x ) by XXREAL_0:6;
then A48: ( - ( +infty ) ) < ( g . x ) by XXREAL_3:def 3;
( c * ( f . x ) ) <> ( +infty ) by A29,A46;
then ( g . x ) <> ( +infty ) by A7,A47;
then ( g . x ) < ( +infty ) by XXREAL_0:4;
hence thesis by A48,EXTREAL2:11;
end;
then g is  real-valued by MESFUNC2:def 1;
then g is_simple_func_in S by A10,MESFUNC2:def 4;
hence ( integral (X,S,M,g) ) = ( Sum z ) by A2,A6,A19,A8,A35,A45,A37,CKB3:1
.= ( c * ( integral (X,S,M,f) ) ) by A29,A21,A35,A36,MESFUNC3:10;
end;
