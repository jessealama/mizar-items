environ
vocabularies REAL_1,SUBSET_1,NUMBERS,RLVECT_1,RLSUB_1,FINSET_1,RLVECT_2,FINSEQ_1,STRUCT_0,FUNCT_1,XBOOLE_0,ORDERS_1,VALUED_1,ORDINAL4,ARYTM_3,RELAT_1,PARTFUN1,NAT_1,CARD_3,CARD_1,SUPINF_2,FINSEQ_4,TARSKI,FUNCT_2,ARYTM_1,ZFMISC_1,ORDINAL1,RLVECT_3;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,FINSEQ_1,RELAT_1,ORDINAL1,FUNCT_1,PARTFUN1,FUNCT_2,ORDERS_1,DOMAIN_1,STRUCT_0,RLVECT_1,FINSEQ_4,FINSET_1,REAL_1,RLSUB_1,RLSUB_2,RLVECT_2,NAT_1,CKB6,CKB7,CKB18;
definitions XBOOLE_0,RLSUB_1,RLVECT_2,TARSKI,CKB6,CKB18;
theorems CARD_2,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FINSET_1,RLSUB_1,RLSUB_2,RLVECT_1,RLVECT_2,TARSKI,ZFMISC_1,RELAT_1,RELSET_1,ORDINAL1,XBOOLE_0,XBOOLE_1,XCMPLX_0,ORDERS_1,STRUCT_0,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31;
schemes FINSEQ_1,FUNCT_1,FUNCT_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,FINSET_1,NUMBERS,STRUCT_0,RLVECT_1,RLSUB_1,ORDINAL1,REAL_1,XREAL_0,RLVECT_2,CKB11;
constructors PARTFUN1,REAL_1,NAT_1,ORDERS_1,FINSEQ_4,REALSET1,RLSUB_2,RLVECT_2,RELSET_1,CKB6,CKB18;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve V for RealLinearSpace;
reserve v for (VECTOR of V);
reserve u for (VECTOR of V);
reserve A for (Subset of V);
reserve B for (Subset of V);
reserve l for (Linear_Combination of A);
reserve f for (Function of (the carrier of V),( REAL ));
reserve g for (Function of (the carrier of V),( REAL ));
theorem
( Lin ( A \/ B ) ) = ( ( Lin A ) + ( Lin B ) )
proof
now
deffunc G(set) = ( 0 );
let v;
assume v in ( Lin ( A \/ B ) );
then consider l being (Linear_Combination of ( A \/ B )) such that A1: v = ( Sum l ) by CKB19:1;
deffunc F(set) = ( l . $1 );
set D = ( ( Carrier l ) \ A );
set C = ( ( Carrier l ) /\ A );
defpred P[ set ]
 means
$1 in C;
defpred D[ set ]
 means
$1 in D;
now
let x;
assume x in (the carrier of V);
then reconsider v = x as (VECTOR of V);
( f . v ) in ( REAL );
hence (x in C implies ( l . x ) in ( REAL ));
assume (not x in C);
thus ( 0 ) in ( REAL );
end;
then A2: (for x holds (x in (the carrier of V) implies ((P[ x ] implies F(x) in ( REAL )) & ((not P[ x ]) implies G(x) in ( REAL )))));
consider f being (Function of (the carrier of V),( REAL )) such that A3: (for x holds (x in (the carrier of V) implies ((P[ x ] implies ( f . x ) = F(x)) & ((not P[ x ]) implies ( f . x ) = G(x))))) from FUNCT_2:sch 5(A2);
reconsider C as  finite (Subset of V);
reconsider f as (Element of ( Funcs ((the carrier of V),( REAL )) )) by FUNCT_2:8;
(for u holds ((not u in C) implies ( f . u ) = ( 0 ))) by A3;
then reconsider f as (Linear_Combination of V) by RLVECT_2:def 3;
A4: ( Carrier f ) c= C
proof
let x;
assume x in ( Carrier f );
then A5: (ex u st (x = u & ( f . u ) <> ( 0 )));
assume (not x in C);
hence thesis by A3,A5;
end;
C c= A by XBOOLE_1:17;
then ( Carrier f ) c= A by A4,XBOOLE_1:1;
then reconsider f as (Linear_Combination of A) by RLVECT_2:def 6;
now
let x;
assume x in (the carrier of V);
then reconsider v = x as (VECTOR of V);
( g . v ) in ( REAL );
hence (x in D implies ( l . x ) in ( REAL ));
assume (not x in D);
thus ( 0 ) in ( REAL );
end;
then A6: (for x holds (x in (the carrier of V) implies ((D[ x ] implies F(x) in ( REAL )) & ((not D[ x ]) implies G(x) in ( REAL )))));
consider g being (Function of (the carrier of V),( REAL )) such that A7: (for x holds (x in (the carrier of V) implies ((D[ x ] implies ( g . x ) = F(x)) & ((not D[ x ]) implies ( g . x ) = G(x))))) from FUNCT_2:sch 5(A6);
reconsider D as  finite (Subset of V);
reconsider g as (Element of ( Funcs ((the carrier of V),( REAL )) )) by FUNCT_2:8;
(for u holds ((not u in D) implies ( g . u ) = ( 0 ))) by A7;
then reconsider g as (Linear_Combination of V) by RLVECT_2:def 3;
A8: D c= B
proof
let x;
assume x in D;
then A9: (x in ( Carrier l ) & (not x in A)) by XBOOLE_0:def 5;
( Carrier l ) c= ( A \/ B ) by RLVECT_2:def 6;
hence thesis by A9,XBOOLE_0:def 3;
end;
( Carrier g ) c= D
proof
let x;
assume x in ( Carrier g );
then A10: (ex u st (x = u & ( g . u ) <> ( 0 )));
assume (not x in D);
hence thesis by A7,A10;
end;
then ( Carrier g ) c= B by A8,XBOOLE_1:1;
then reconsider g as (Linear_Combination of B) by RLVECT_2:def 6;
l = ( f + g )
proof
let v;
now
per cases ;
suppose A11: v in C;

A12:now
assume v in D;
then (not v in A) by XBOOLE_0:def 5;
hence contradiction by A11,XBOOLE_0:def 4;
end;
thus ( ( f + g ) . v ) = ( ( f . v ) + ( g . v ) ) by RLVECT_2:def 10
.= ( ( l . v ) + ( g . v ) ) by A3,A11
.= ( ( l . v ) + ( 0 ) ) by A7,A12
.= ( l . v );
end;
suppose A13: (not v in C);

now
per cases ;
suppose A14: v in ( Carrier l );

A15:now
assume (not v in D);
then ((not v in ( Carrier l )) or v in A) by XBOOLE_0:def 5;
hence contradiction by A13,A14,XBOOLE_0:def 4;
end;
thus ( ( f + g ) . v ) = ( ( f . v ) + ( g . v ) ) by RLVECT_2:def 10
.= ( ( 0 ) + ( g . v ) ) by A3,A13
.= ( l . v ) by A7,A15;
end;
suppose A16: (not v in ( Carrier l ));

then A17: (not v in D) by XBOOLE_0:def 5;
A18: (not v in C) by A16,XBOOLE_0:def 4;
thus ( ( f + g ) . v ) = ( ( f . v ) + ( g . v ) ) by RLVECT_2:def 10
.= ( ( 0 ) + ( g . v ) ) by A3,A18
.= ( ( 0 ) + ( 0 ) ) by A7,A17
.= ( l . v ) by A16;
end;
end;
hence thesis;
end;
end;
hence thesis;
end;
then A19: v = ( ( Sum f ) + ( Sum g ) ) by A1,CKB2:1;
(( Sum f ) in ( Lin A ) & ( Sum g ) in ( Lin B )) by CKB19:1;
hence v in ( ( Lin A ) + ( Lin B ) ) by A19,RLSUB_2:1;
end;
then A20: ( Lin ( A \/ B ) ) is (Subspace of ( ( Lin A ) + ( Lin B ) )) by RLSUB_1:29;
(( Lin A ) is (Subspace of ( Lin ( A \/ B ) )) & ( Lin B ) is (Subspace of ( Lin ( A \/ B ) ))) by CKB30:1,XBOOLE_1:7;
then ( ( Lin A ) + ( Lin B ) ) is (Subspace of ( Lin ( A \/ B ) )) by CKB29:1;
hence thesis by A20,RLSUB_1:26;
end;
