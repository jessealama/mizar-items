environ
vocabularies NUMBERS,BHSP_1,FINSET_1,SUBSET_1,RLVECT_1,RLVECT_3,XBOOLE_0,RLVECT_2,CARD_3,TARSKI,FUNCT_1,CARD_1,FINSEQ_1,STRUCT_0,RELAT_1,VALUED_1,FINSEQ_4,ORDINAL4,ARYTM_1,ARYTM_3,XXREAL_0,RLSUB_1,RLVECT_5,NAT_1,SUPINF_2,FUNCT_2,RLSUB_2,REAL_1,ALGSTR_0,RUSUB_4;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,REAL_1,NAT_1,FINSEQ_1,FUNCT_1,FUNCT_2,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,FINSEQ_3,FINSEQ_4,FINSET_1,RLSUB_1,RLVECT_2,BHSP_1,RLVECT_3,RUSUB_1,RUSUB_2,RUSUB_3,XXREAL_0;
definitions XBOOLE_0,TARSKI,STRUCT_0;
theorems FUNCT_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FINSET_1,RLSUB_2,RLVECT_1,RLVECT_2,TARSKI,XBOOLE_0,XBOOLE_1,RUSUB_1,RUSUB_2,RLVECT_3,ENUMSET1,RLVECT_5,NAT_1,SUBSET_1,RUSUB_3,RLSUB_1,CARD_1,CARD_2,XCMPLX_0,XCMPLX_1,XREAL_1,XXREAL_0,STRUCT_0,CKB1,CKB2,CKB3;
schemes NAT_1,XBOOLE_0,FINSEQ_1,DOMAIN_1;
registrations SUBSET_1,RELSET_1,FINSET_1,XREAL_0,NAT_1,REAL_1,FINSEQ_1,STRUCT_0,RLVECT_1,RLSUB_1,RLVECT_3,ORDINAL1,CARD_1,RLVECT_2;
constructors XXREAL_0,REAL_1,NAT_1,PARTFUN1,FINSEQ_3,FINSEQ_4,REALSET1,RLVECT_2,RLVECT_3,RUSUB_2,RUSUB_3,RELSET_1;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Th2: (for V being RealUnitarySpace holds (for A,B being  finite (Subset of V) holds ((( the UNITSTR of V ) = ( Lin A ) & B is  linearly-independent) implies (( card B ) <= ( card A ) & (ex C being  finite (Subset of V) st ((C c= A & ( card C ) = ( ( card A ) - ( card B ) )) & ( the UNITSTR of V ) = ( Lin ( B \/ C ) )))))))
proof
let V being RealUnitarySpace;
defpred P[ (Element of ( NAT )) ]
 means
(for n being (Element of ( NAT )) holds (for A,B being  finite (Subset of V) holds ((((( card A ) = n & ( card B ) = $1) & ( the UNITSTR of V ) = ( Lin A )) & B is  linearly-independent) implies ($1 <= n & (ex C being  finite (Subset of V) st ((C c= A & ( card C ) = ( n - $1 )) & ( the UNITSTR of V ) = ( Lin ( B \/ C ) )))))));
A1: (for m being (Element of ( NAT )) holds (P[ m ] implies P[ ( m + 1 ) ]))
proof
let m being (Element of ( NAT ));
assume that
A2: P[ m ];
let n being (Element of ( NAT ));
let A being  finite (Subset of V);
let B being  finite (Subset of V);
assume that
A3: ( card A ) = n
and
A4: ( card B ) = ( m + 1 )
and
A5: ( the UNITSTR of V ) = ( Lin A )
and
A6: B is  linearly-independent;
consider v being set such that A7: v in B by A4,CARD_1:27,XBOOLE_0:def 1;
reconsider v as (VECTOR of V) by A7;
set Bv = ( B \ { v } );
A8: Bv is  linearly-independent by A6,RLVECT_3:5,XBOOLE_1:36;
{ v } is (Subset of B) by A7,SUBSET_1:41;
then A9: ( card ( B \ { v } ) ) = ( ( card B ) - ( card { v } ) ) by CARD_2:44
.= ( ( m + 1 ) - 1 ) by A4,CARD_1:30
.= m;
then consider C being  finite (Subset of V) such that A10: C c= A and A11: ( card C ) = ( n - m ) and A12: ( the UNITSTR of V ) = ( Lin ( Bv \/ C ) ) by A2,A3,A5,A8;
A13: (not v in ( Lin Bv )) by A6,A7,RUSUB_3:25;
A14:now
assume m = n;
then consider C being  finite (Subset of V) such that C c= A and A15: ( card C ) = ( m - m ) and A16: ( the UNITSTR of V ) = ( Lin ( Bv \/ C ) ) by A2,A3,A5,A9,A8;
C = ( {} ) by A15;
then Bv is (Basis of V) by A8,A16,RUSUB_3:def 2;
hence contradiction by A13,RUSUB_3:21;
end;
v in ( Lin ( Bv \/ C ) ) by A12,STRUCT_0:def 5;
then consider w being (VECTOR of V) such that A17: w in C and A18: w in ( Lin ( ( ( C \/ Bv ) \ { w } ) \/ { v } ) ) by A13,CKB1:1;
set Cw = ( C \ { w } );
( ( Bv \ { w } ) \/ { v } ) c= ( Bv \/ { v } ) by XBOOLE_1:9,XBOOLE_1:36;
then ( Cw \/ ( ( Bv \ { w } ) \/ { v } ) ) c= ( Cw \/ ( Bv \/ { v } ) ) by XBOOLE_1:9;
then A19: ( Cw \/ ( ( Bv \ { w } ) \/ { v } ) ) c= ( B \/ Cw ) by A7,CKB2:1;
{ w } is (Subset of C) by A17,SUBSET_1:41;
then A20: ( card Cw ) = ( ( card C ) - ( card { w } ) ) by CARD_2:44
.= ( ( n - m ) - 1 ) by A11,CARD_1:30
.= ( n - ( m + 1 ) );
Cw c= C by XBOOLE_1:36;
then A21: Cw c= A by A10,XBOOLE_1:1;
( ( ( C \/ Bv ) \ { w } ) \/ { v } ) = ( ( Cw \/ ( Bv \ { w } ) ) \/ { v } ) by XBOOLE_1:42
.= ( Cw \/ ( ( Bv \ { w } ) \/ { v } ) ) by XBOOLE_1:4;
then ( Lin ( ( ( C \/ Bv ) \ { w } ) \/ { v } ) ) is (Subspace of ( Lin ( B \/ Cw ) )) by A19,RUSUB_3:7;
then A22: w in ( Lin ( B \/ Cw ) ) by A18,RUSUB_1:1;
A23: (Bv c= B & C = ( Cw \/ { w } )) by A17,CKB2:1,XBOOLE_1:36;
now
let x being set;
assume x in ( Bv \/ C );
then (x in Bv or x in C) by XBOOLE_0:def 3;
then ((x in B or x in Cw) or x in { w }) by A23,XBOOLE_0:def 3;
then (x in ( B \/ Cw ) or x in { w }) by XBOOLE_0:def 3;
then (x in ( Lin ( B \/ Cw ) ) or x = w) by RUSUB_3:2,TARSKI:def 1;
hence x in (the carrier of ( Lin ( B \/ Cw ) )) by A22,STRUCT_0:def 5;
end;
then ( Bv \/ C ) c= (the carrier of ( Lin ( B \/ Cw ) )) by TARSKI:def 3;
then ( Lin ( Bv \/ C ) ) is (Subspace of ( Lin ( B \/ Cw ) )) by RUSUB_3:27;
then A24: (the carrier of ( Lin ( Bv \/ C ) )) c= (the carrier of ( Lin ( B \/ Cw ) )) by RUSUB_1:def 1;
(the carrier of ( Lin ( B \/ Cw ) )) c= (the carrier of V) by RUSUB_1:def 1;
then (the carrier of ( Lin ( B \/ Cw ) )) = (the carrier of V) by A12,A24,XBOOLE_0:def 10;
then A25: ( the UNITSTR of V ) = ( Lin ( B \/ Cw ) ) by A12,RUSUB_1:24;
m <= n by A2,A3,A5,A9,A8;
then m < n by A14,XXREAL_0:1;
hence thesis by A21,A20,A25,NAT_1:13;
end;
A26: P[ ( 0 ) ]
proof
let n being (Element of ( NAT ));
let A being  finite (Subset of V);
let B being  finite (Subset of V);
assume that
A27: ( card A ) = n
and
A28: ( card B ) = ( 0 )
and
A29: ( the UNITSTR of V ) = ( Lin A )
and
B is  linearly-independent;
B = ( {} ) by A28;
then A = ( B \/ A );
hence thesis by A27,A29,NAT_1:2;
end;
A30: (for m being (Element of ( NAT )) holds P[ m ]) from NAT_1:sch 1(A26,A1);
let A being  finite (Subset of V);
let B being  finite (Subset of V);
assume (( the UNITSTR of V ) = ( Lin A ) & B is  linearly-independent);
hence thesis by A30;
end;
