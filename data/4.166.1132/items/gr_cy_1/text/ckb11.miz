environ
vocabularies NUMBERS,SUBSET_1,INT_1,GROUP_1,FINSEQ_1,XCMPLX_0,ORDINAL1,CARD_1,XBOOLE_0,BINOP_2,FUNCT_1,BINOP_1,ARYTM_3,CARD_3,SETWISEO,RELAT_1,TARSKI,NAT_1,SETWOP_2,FINSEQ_2,NEWTON,STRUCT_0,ORDINAL4,QC_LANG1,GROUP_4,ARYTM_1,FINSET_1,XXREAL_0,GROUP_2,ALGSTR_0,ZFMISC_1,REALSET1,REAL_1,INT_2,RLSUB_1,GRAPH_1,GR_CY_1,MEMBERED;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,ORDINAL1,NUMBERS,XCMPLX_0,RELAT_1,FUNCT_1,REAL_1,FUNCT_2,FINSET_1,BINOP_1,DOMAIN_1,INT_1,FINSEQ_1,FINSOP_1,SETWISEO,SETWOP_2,BINOP_2,REALSET1,INT_2,NAT_1,NAT_D,MEMBERED,RVSUM_1,XXREAL_0,STRUCT_0,ALGSTR_0,GROUP_1,GROUP_2,GROUP_4,CKB3,CKB6;
definitions FUNCT_1,TARSKI,BINOP_1,REALSET1,FINSEQ_2,FINSEQ_1,STRUCT_0,GROUP_1,GROUP_2,GROUP_4,SETWOP_2,CARD_1,ALGSTR_0,CKB3,CKB6;
theorems BINOP_1,INT_1,INT_2,NAT_1,FINSEQ_1,FINSEQ_2,FINSEQ_4,ZFMISC_1,FUNCT_2,FUNCOP_1,GROUP_1,GROUP_2,GROUP_4,TARSKI,FUNCT_1,CARD_1,WELLORD2,FINSOP_1,RELSET_1,XBOOLE_0,XBOOLE_1,RELAT_1,BINOP_2,NUMBERS,SETWISEO,XREAL_1,XXREAL_0,ORDINAL1,RVSUM_1,SETWOP_2,FINSEQ_3,NAT_D,STRUCT_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10;
schemes BINOP_1,NAT_1,FINSEQ_1,FINSEQ_2;
registrations XBOOLE_0,SUBSET_1,RELAT_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,BINOP_2,MEMBERED,FINSEQ_1,REALSET1,STRUCT_0,GROUP_1,GROUP_2,VALUED_0,ALGSTR_0,CARD_1,FINSEQ_2,ZFMISC_1,FINSET_1,CKB1;
constructors WELLORD2,BINOP_1,SETWISEO,XXREAL_0,REAL_1,NAT_1,NAT_D,BINOP_2,FINSOP_1,SETWOP_2,RVSUM_1,REALSET1,GROUP_4,FUNCOP_1,RELSET_1,CKB6;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
reserve j1 for Integer;
reserve p for Nat;
reserve n for Nat;
reserve G for Group;
reserve a for (Element of G);
reserve b for (Element of G);
reserve F for (FinSequence of G);
reserve I for (FinSequence of ( INT ));
theorem
Th25: (b in ( gr { a } ) iff (ex j1 st b = ( a |^ j1 )))
proof
A1: ((ex j1 st b = ( a |^ j1 )) implies b in ( gr { a } ))
proof
given j1 such that
A2: b = ( a |^ j1 );

consider n being (Element of ( NAT )) such that A3: (j1 = n or j1 = ( - n )) by INT_1:2;
per cases  by A3;
suppose A4: j1 = n;

(ex F st (ex I st ((( len F ) = ( len I ) & ( rng F ) c= { a }) & ( Product ( F |^ I ) ) = b)))
proof
take F = ( n |-> a );
A5: ( len F ) = n by CARD_1:def 7
.= ( len ( n |-> ( @ 1 ) ) ) by CARD_1:def 7;
( Product ( F |^ ( n |-> ( @ 1 ) ) ) ) = ( Product ( F |^ ( ( len F ) |-> ( @ 1 ) ) ) ) by CARD_1:def 7
.= ( Product ( n |-> a ) ) by GROUP_4:25
.= b by A2,A4,GROUP_4:12;
hence thesis by A5,FUNCOP_1:13;
end;
hence thesis by GROUP_4:28;
end;
suppose j1 = ( - n );

then A6: ( b " ) = ( a |^ ( - ( - n ) ) ) by A2,GROUP_1:36
.= ( a |^ n );
(ex F st (ex I st ((( len F ) = ( len I ) & ( rng F ) c= { a }) & ( Product ( F |^ I ) ) = ( b " ))))
proof
take F = ( n |-> a );
A7: ( len F ) = n by CARD_1:def 7
.= ( len ( n |-> ( @ 1 ) ) ) by CARD_1:def 7;
( Product ( F |^ ( n |-> ( @ 1 ) ) ) ) = ( Product ( F |^ ( ( len F ) |-> ( @ 1 ) ) ) ) by CARD_1:def 7
.= ( Product ( n |-> a ) ) by GROUP_4:25
.= ( b " ) by A6,GROUP_4:12;
hence thesis by A7,FUNCOP_1:13;
end;
then ( b " ) in ( gr { a } ) by GROUP_4:28;
then ( ( b " ) " ) in ( gr { a } ) by GROUP_2:51;
hence thesis;
end;
end;
(b in ( gr { a } ) implies (ex j1 st b = ( a |^ j1 )))
proof
assume b in ( gr { a } );
then consider F,I such that A8: ( len F ) = ( len I ) and A9: ( rng F ) c= { a } and A10: ( Product ( F |^ I ) ) = b by GROUP_4:28;
take ( Sum I );
A11: (for p being Nat holds (p in ( dom F ) implies ( F . p ) = ( ( ( len F ) |-> a ) . p )))
proof
let p being Nat;
A12: ( dom F ) = ( Seg ( len F ) ) by FINSEQ_1:def 3;
assume A13: p in ( dom F );
then ( F . p ) in ( rng F ) by FUNCT_1:def 3;
then ( F . p ) = a by A9,TARSKI:def 1
.= ( ( ( len F ) |-> a ) . p ) by A12,A13,FUNCOP_1:7;
hence thesis;
end;
( dom ( ( len F ) |-> a ) ) = ( Seg ( len F ) ) by FUNCOP_1:13
.= ( dom F ) by FINSEQ_1:def 3;
then b = ( Product ( ( ( len I ) |-> a ) |^ I ) ) by A8,A10,A11,FINSEQ_1:13
.= ( a |^ ( Sum I ) ) by CKB10:1;
hence thesis;
end;
hence thesis by A1;
end;
