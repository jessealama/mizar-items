environ
vocabularies NUMBERS,TARSKI,PRE_TOPC,SUBSET_1,BVFUNC_2,RCOMP_1,SETFAM_1,CLASSES1,FINSET_1,CARD_1,ARYTM_3,XBOOLE_0,STRUCT_0,ZFMISC_1,LEXBFS,NAT_1,XXREAL_0,TAXONOM2,AOFA_000,ORDERS_1,FUNCT_1,RELAT_1,NATTRA_1,EQREL_1,VECTSP_1,RLVECT_3,CARD_3,RLVECT_2,SUPINF_2,REALSET1,ARYTM_1,RLVECT_5,JORDAN13,MATROID0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,SETFAM_1,FINSET_1,NUMBERS,FUNCT_1,RELSET_1,FUNCT_2,EQREL_1,ORDERS_1,TAXONOM2,XCMPLX_0,XXREAL_0,NAT_1,CARD_1,CLASSES1,LEXBFS,AOFA_000,STRUCT_0,RLVECT_1,VECTSP_1,VECTSP_6,VECTSP_7,PRE_TOPC,TDLAT_3,MATRLIN,PENCIL_1,RANKNULL,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB14,CKB22,CKB23,CKB24,CKB25,CKB33,CKB44;
definitions TARSKI,FUNCT_1,CLASSES1,TAXONOM2,XBOOLE_0,STRUCT_0,LEXBFS,PENCIL_1,CKB5,CKB6,CKB7,CKB8,CKB23,CKB24,CKB25,CKB33,CKB44;
theorems PENCIL_1,TARSKI,XBOOLE_1,ZFMISC_1,CARD_1,COH_SP,PRE_TOPC,NAT_1,CLASSES1,TDLAT_3,XXREAL_0,XREAL_1,XBOOLE_0,TAXONOM2,ORDERS_1,FUNCT_2,FUNCT_1,EQREL_1,WELLORD2,VECTSP_7,VECTSP_9,MATRLIN,STRUCT_0,CARD_FIN,CARD_2,VECTSP_4,ORDINAL1,CARD_FIL,RANKNULL,VECTSP_1,VECTSP_6,ALGSTR_0,SETWISEO,HALLMAR1,BORSUK_5,CKB5,CKB6,CKB7,CKB8,CKB12,CKB15,CKB17,CKB21,CKB23,CKB24,CKB25,CKB29,CKB30,CKB32,CKB33,CKB35,CKB37,CKB38,CKB44,CKB46,CKB47,CKB48;
schemes FUNCT_2,NAT_1;
registrations FINSET_1,XBOOLE_0,CARD_1,RELSET_1,STRUCT_0,SUBSET_1,PENCIL_1,TDLAT_3,SETFAM_1,EQREL_1,MATRLIN,XREAL_0,MEMBERED,ALGSTR_0,BINOM,RLVECT_1,VECTSP_1,VECTSP_7,CKB9,CKB10,CKB11,CKB13,CKB16,CKB18,CKB19,CKB20,CKB26,CKB27,CKB28,CKB31,CKB34,CKB36,CKB39,CKB40,CKB41,CKB42,CKB43,CKB45;
constructors PCOMPS_1,EQREL_1,COH_SP,TDLAT_3,TAXONOM2,LEXBFS,RANKNULL,VECTSP_7,PENCIL_1,REALSET1,RELSET_1,CKB5,CKB7,CKB8,CKB24,CKB25,CKB33,CKB44;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
registration
let F being Field;
let V being (VectSp of F);
cluster ( LinearlyIndependentSubsets V ) ->  with_exchange_property;
coherence
proof
set M = ( LinearlyIndependentSubsets V );
A1: ( the_family_of M ) = { A where A is (Subset of V): A is  linearly-independent } by CKB44:def 1;
let A being  finite (Subset of M),B being  finite (Subset of M);
assume that
A2: A in ( the_family_of M )
and
A3: B in ( the_family_of M )
and
A4: ( card B ) = ( ( card A ) + 1 );
A5: B is  independent by A3,CKB6:def 1;
A is  independent by A2,CKB6:def 1;
then reconsider A9 = A,B9 = B as  linearly-independent  finite (Subset of V) by A5,CKB46:1;
set V9 = ( Lin ( A9 \/ B9 ) );
A9 c= (the carrier of V9)
proof
let a being set;
assume a in A9;
then a in ( A9 \/ B9 ) by XBOOLE_0:def 3;
then a in V9 by VECTSP_7:8;
hence thesis by STRUCT_0:def 5;
end;
then reconsider A99 = A9 as  linearly-independent  finite (Subset of V9) by VECTSP_9:12;
B9 c= (the carrier of V9)
proof
let a being set;
assume a in B9;
then a in ( A9 \/ B9 ) by XBOOLE_0:def 3;
then a in V9 by VECTSP_7:8;
hence thesis by STRUCT_0:def 5;
end;
then reconsider B99 = B9 as  linearly-independent  finite (Subset of V9) by VECTSP_9:12;
A6: V9 = ( Lin ( A99 \/ B99 ) ) by VECTSP_9:17;
then consider D being (Basis of V9) such that A7: B9 c= D by VECTSP_7:19;
consider C being (Basis of V9) such that A8: C c= ( A99 \/ B99 ) by A6,VECTSP_7:20;
reconsider c = C as  finite set by A8;
c is (Basis of V9);
then V9 is  finite-dimensional by MATRLIN:def 1;
then ( card c ) = ( card D ) by VECTSP_9:22;
then ( card B ) c= ( card c ) by A7,CARD_1:11;
then ( card B ) <= ( card c ) by NAT_1:39;
then A9: ( card A ) < ( card c ) by A4,NAT_1:13;
set e = the (Element of ( C \ (the carrier of ( Lin A9 )) ));
A10: A9 is (Basis of ( Lin A9 )) by RANKNULL:20;
then A11: ( Lin A9 ) is  finite-dimensional by MATRLIN:def 1;
now
assume C c= (the carrier of ( Lin A9 ));
then reconsider C9 = C as (Subset of ( Lin A9 ));
(the carrier of ( Lin A9 )) c= (the carrier of V) by VECTSP_4:def 2;
then reconsider C99 = C9 as (Subset of V) by XBOOLE_1:1;
C is  linearly-independent by VECTSP_7:def 3;
then C99 is  linearly-independent by VECTSP_9:11;
then consider E being (Basis of ( Lin A9 )) such that A12: C9 c= E by VECTSP_7:19,VECTSP_9:12;
A13: ( card A ) = ( card E ) by A10,A11,VECTSP_9:22;
then E is  finite;
hence contradiction by A9,A12,A13,NAT_1:43;
end;
then consider x being set such that A14: x in C and A15: x nin (the carrier of ( Lin A9 )) by TARSKI:def 3;
A16: x in ( C \ (the carrier of ( Lin A9 )) ) by A14,A15,XBOOLE_0:def 5;
then A17: e nin (the carrier of ( Lin A9 )) by XBOOLE_0:def 5;
A18: e in C by A16,XBOOLE_0:def 5;
then e in ( A \/ B ) by A8;
then reconsider e as (Element of M);
take e;
A c= (the carrier of ( Lin A9 ))
proof
let x being set;
assume x in A;
then x in ( Lin A9 ) by VECTSP_7:8;
hence thesis by STRUCT_0:def 5;
end;
then A19: e nin A by A16,XBOOLE_0:def 5;
then A20: e in B9 by A8,A18,XBOOLE_0:def 3;
hence e in ( B \ A ) by A19,XBOOLE_0:def 5;
reconsider a = e as (Element of V) by A20;
( A9 \/ { a } ) is  linearly-independent by A17,CKB48:1;
hence ( A \/ { e } ) in ( the_family_of M ) by A1;
end;
end;
