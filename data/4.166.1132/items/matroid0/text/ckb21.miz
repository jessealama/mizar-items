environ
vocabularies NUMBERS,TARSKI,PRE_TOPC,SUBSET_1,BVFUNC_2,RCOMP_1,SETFAM_1,CLASSES1,FINSET_1,CARD_1,ARYTM_3,XBOOLE_0,STRUCT_0,ZFMISC_1,LEXBFS,NAT_1,XXREAL_0,TAXONOM2,AOFA_000,ORDERS_1,FUNCT_1,RELAT_1,NATTRA_1,EQREL_1,VECTSP_1,RLVECT_3,CARD_3,RLVECT_2,SUPINF_2,REALSET1,ARYTM_1,RLVECT_5,JORDAN13,MATROID0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,SETFAM_1,FINSET_1,NUMBERS,FUNCT_1,RELSET_1,FUNCT_2,EQREL_1,ORDERS_1,TAXONOM2,XCMPLX_0,XXREAL_0,NAT_1,CARD_1,CLASSES1,LEXBFS,AOFA_000,STRUCT_0,RLVECT_1,VECTSP_1,VECTSP_6,VECTSP_7,PRE_TOPC,TDLAT_3,MATRLIN,PENCIL_1,RANKNULL,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB14;
definitions TARSKI,FUNCT_1,CLASSES1,TAXONOM2,XBOOLE_0,STRUCT_0,LEXBFS,PENCIL_1,CKB5,CKB6,CKB7,CKB8;
theorems PENCIL_1,TARSKI,XBOOLE_1,ZFMISC_1,CARD_1,COH_SP,PRE_TOPC,NAT_1,CLASSES1,TDLAT_3,XXREAL_0,XREAL_1,XBOOLE_0,TAXONOM2,ORDERS_1,FUNCT_2,FUNCT_1,EQREL_1,WELLORD2,VECTSP_7,VECTSP_9,MATRLIN,STRUCT_0,CARD_FIN,CARD_2,VECTSP_4,ORDINAL1,CARD_FIL,RANKNULL,VECTSP_1,VECTSP_6,ALGSTR_0,SETWISEO,HALLMAR1,BORSUK_5,CKB5,CKB6,CKB7,CKB8,CKB12,CKB15,CKB17;
schemes FUNCT_2,NAT_1;
registrations FINSET_1,XBOOLE_0,CARD_1,RELSET_1,STRUCT_0,SUBSET_1,PENCIL_1,TDLAT_3,SETFAM_1,EQREL_1,MATRLIN,XREAL_0,MEMBERED,ALGSTR_0,BINOM,RLVECT_1,VECTSP_1,VECTSP_7,CKB9,CKB10,CKB11,CKB13,CKB16,CKB18,CKB19,CKB20;
constructors PCOMPS_1,EQREL_1,COH_SP,TDLAT_3,TAXONOM2,LEXBFS,RANKNULL,VECTSP_7,PENCIL_1,REALSET1,RELSET_1,CKB5,CKB7,CKB8;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
theorem
Th4: (for M being non  void non  empty SubsetFamilyStr holds (M is  with_exchange_property iff (for A,B being  finite (Subset of M) holds (((A is  independent & B is  independent) & ( card B ) = ( ( card A ) + 1 )) implies (ex e being (Element of M) st (e in ( B \ A ) & ( A \/ { e } ) is  independent))))))
proof
let M being non  void non  empty SubsetFamilyStr;
thus (M is  with_exchange_property implies (for A,B being  finite (Subset of M) holds (((A is  independent & B is  independent) & ( card B ) = ( ( card A ) + 1 )) implies (ex e being (Element of M) st (e in ( B \ A ) & ( A \/ { e } ) is  independent)))))
proof
assume A1: (for A,B being  finite (Subset of M) holds (((A in ( the_family_of M ) & B in ( the_family_of M )) & ( card B ) = ( ( card A ) + 1 )) implies (ex e being (Element of M) st (e in ( B \ A ) & ( A \/ { e } ) in ( the_family_of M )))));
let A being  finite (Subset of M);
let B being  finite (Subset of M);
assume that
A2: A in ( the_family_of M )
and
A3: B in ( the_family_of M )
and
A4: ( card B ) = ( ( card A ) + 1 );
consider e being (Element of M) such that A5: e in ( B \ A ) and A6: ( A \/ { e } ) in ( the_family_of M ) by A1,A2,A3,A4;
take e;
thus (e in ( B \ A ) & ( A \/ { e } ) in ( the_family_of M )) by A5,A6;
end;

assume A7: (for A,B being  finite (Subset of M) holds (((A is  independent & B is  independent) & ( card B ) = ( ( card A ) + 1 )) implies (ex e being (Element of M) st (e in ( B \ A ) & ( A \/ { e } ) is  independent))));
let A being  finite (Subset of M);
let B being  finite (Subset of M);
assume that
A8: A in ( the_family_of M )
and
A9: B in ( the_family_of M );
A10: B is  independent by A9,CKB6:def 1;
assume A11: ( card B ) = ( ( card A ) + 1 );
A is  independent by A8,CKB6:def 1;
then consider e being (Element of M) such that A12: e in ( B \ A ) and A13: ( A \/ { e } ) is  independent by A7,A10,A11;
take e;
thus thesis by A12,A13,CKB6:def 1;
end;
