environ
vocabularies SUBSET_1,XBOOLE_0,TARSKI,PRE_TOPC,STRUCT_0,RELAT_1,RCOMP_1,SETFAM_1,CONNSP_1,TSEP_1;
notations TARSKI,XBOOLE_0,SUBSET_1,STRUCT_0,PRE_TOPC,CONNSP_1,BORSUK_1,CKB19,CKB28,CKB34,CKB35,CKB36,CKB45,CKB58,CKB59,CKB77,CKB78,CKB94,CKB95;
definitions PRE_TOPC,SUBSET_1,STRUCT_0,CKB19,CKB28,CKB34,CKB36,CKB58,CKB77,CKB94;
theorems PRE_TOPC,TOPS_1,TOPS_2,CONNSP_1,BORSUK_1,SUBSET_1,XBOOLE_0,XBOOLE_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB96,CKB97,CKB98,CKB99,CKB100,CKB101,CKB102,CKB103,CKB104;
registrations XBOOLE_0,STRUCT_0,PRE_TOPC,TOPS_1,BORSUK_1,CKB21,CKB22;
constructors CONNSP_1,BORSUK_1,CKB19,CKB28,CKB34,CKB36,CKB58,CKB77,CKB94;
requirements BOOLE,SUBSET;
begin
reserve X for non empty TopSpace;
reserve X1 for non empty (SubSpace of X);
reserve X2 for non empty (SubSpace of X);
theorem
((X = ( X1 union X2 ) & X1 meets X2) implies (X1,X2 are_weakly_separated  iff ((X1 is (SubSpace of X2) or X2 is (SubSpace of X1)) or (ex Y1,Y2 being  closed non empty (SubSpace of X) st ((Y1 is (SubSpace of X1) & Y2 is (SubSpace of X2)) & (X = ( Y1 union Y2 ) or (ex Y being  open non empty (SubSpace of X) st (X = ( ( Y1 union Y2 ) union Y ) & Y is (SubSpace of ( X1 meet X2 ))))))))))
proof
reconsider A2 = (the carrier of X2) as (Subset of X) by CKB3:1;
reconsider A1 = (the carrier of X1) as (Subset of X) by CKB3:1;
assume A1: X = ( X1 union X2 );
then A2: ( A1 \/ A2 ) = (the carrier of X) by CKB28:def 1;
assume A3: X1 meets X2;
A4:now
assume A5: ((X1 is (SubSpace of X2) or X2 is (SubSpace of X1)) or (((not X1 is (SubSpace of X2)) & (not X2 is (SubSpace of X1))) implies (ex Y1,Y2 being  closed non empty (SubSpace of X) st ((Y1 is (SubSpace of X1) & Y2 is (SubSpace of X2)) & (X = ( Y1 union Y2 ) or (ex Y being  open non empty (SubSpace of X) st (X = ( ( Y1 union Y2 ) union Y ) & Y is (SubSpace of ( X1 meet X2 )))))))));
now
assume ((not X1 is (SubSpace of X2)) & (not X2 is (SubSpace of X1)));
then consider Y1 being  closed non empty (SubSpace of X),Y2 being  closed non empty (SubSpace of X) such that A6: (Y1 is (SubSpace of X1) & Y2 is (SubSpace of X2)) and A7: (X = ( Y1 union Y2 ) or (ex Y being  open non empty (SubSpace of X) st (X = ( ( Y1 union Y2 ) union Y ) & Y is (SubSpace of ( X1 meet X2 ))))) by A5;
reconsider C2 = (the carrier of Y2) as (Subset of X) by CKB3:1;
reconsider C1 = (the carrier of Y1) as (Subset of X) by CKB3:1;
A8:now
per cases ;
suppose A9: ( A1 \/ A2 ) = ( C1 \/ C2 );

thus (ex C being (Subset of X) st ((( A1 \/ A2 ) = ( ( C1 \/ C2 ) \/ C ) & C c= ( A1 /\ A2 )) & C is  open))
proof
take ( {} X );
thus thesis by A9,XBOOLE_1:2;
end;

end;
suppose A10: ( A1 \/ A2 ) <> ( C1 \/ C2 );

thus (ex C being (Subset of X) st ((( A1 \/ A2 ) = ( ( C1 \/ C2 ) \/ C ) & C c= ( A1 /\ A2 )) & C is  open))
proof
consider Y being  open non empty (SubSpace of X) such that A11: X = ( ( Y1 union Y2 ) union Y ) and A12: Y is (SubSpace of ( X1 meet X2 )) by A2,A7,A10,CKB28:def 1;
reconsider C = (the carrier of Y) as (Subset of X) by CKB3:1;
( A1 /\ A2 ) = (the carrier of ( X1 meet X2 )) by A3,CKB36:def 1;
then A13: C c= ( A1 /\ A2 ) by A12,CKB6:1;
A14: C is  open by CKB23:1;
( A1 \/ A2 ) = ( (the carrier of ( Y1 union Y2 )) \/ C ) by A2,A11,CKB28:def 1
.= ( ( C1 \/ C2 ) \/ C ) by CKB28:def 1;
hence thesis by A14,A13;
end;

end;
end;
A15: (C1 is  closed & C2 is  closed) by CKB14:1;
(C1 c= A1 & C2 c= A2) by A6,CKB6:1;
then (for A1,A2 being (Subset of X) holds ((A1 = (the carrier of X1) & A2 = (the carrier of X2)) implies A1,A2 are_weakly_separated )) by A2,A15,A8,CKB70:1;
hence X1,X2 are_weakly_separated  by CKB94:def 1;
end;
hence X1,X2 are_weakly_separated  by CKB97:1;
end;
now
assume X1,X2 are_weakly_separated ;
then A16: A1,A2 are_weakly_separated  by CKB94:def 1;
now
assume ((not X1 is (SubSpace of X2)) & (not X2 is (SubSpace of X1)));
then ((not A1 c= A2) & (not A2 c= A1)) by CKB6:1;
then consider C1 being non empty (Subset of X),C2 being non empty (Subset of X) such that A17: C1 is  closed and A18: C2 is  closed and A19: (C1 c= A1 & C2 c= A2) and A20: (( A1 \/ A2 ) = ( C1 \/ C2 ) or (ex C being non empty (Subset of X) st ((( A1 \/ A2 ) = ( ( C1 \/ C2 ) \/ C ) & C c= ( A1 /\ A2 )) & C is  open))) by A2,A16,CKB71:1;
thus (ex Y1,Y2 being  closed non empty (SubSpace of X) st ((Y1 is (SubSpace of X1) & Y2 is (SubSpace of X2)) & (X = ( Y1 union Y2 ) or (ex Y being  open non empty (SubSpace of X) st (X = ( ( Y1 union Y2 ) union Y ) & Y is (SubSpace of ( X1 meet X2 )))))))
proof
consider Y2 being  strict  closed non empty (SubSpace of X) such that A21: C2 = (the carrier of Y2) by A18,CKB18:1;
consider Y1 being  strict  closed non empty (SubSpace of X) such that A22: C1 = (the carrier of Y1) by A17,CKB18:1;
take Y1;
take Y2;
now
assume X <> ( Y1 union Y2 );
then consider C being non empty (Subset of X) such that A23: ( A1 \/ A2 ) = ( ( C1 \/ C2 ) \/ C ) and A24: C c= ( A1 /\ A2 ) and A25: C is  open by A1,A2,A20,A22,A21,CKB28:def 1;
thus (ex Y being  open non empty (SubSpace of X) st (X = ( ( Y1 union Y2 ) union Y ) & Y is (SubSpace of ( X1 meet X2 ))))
proof
A26: C c= (the carrier of ( X1 meet X2 )) by A3,A24,CKB36:def 1;
consider Y being  strict  open non empty (SubSpace of X) such that A27: C = (the carrier of Y) by A25,CKB27:1;
take Y;
(the carrier of X) = ( (the carrier of ( Y1 union Y2 )) \/ C ) by A2,A22,A21,A23,CKB28:def 1
.= (the carrier of ( ( Y1 union Y2 ) union Y )) by A27,CKB28:def 1;
hence thesis by A1,A27,A26,CKB6:1,CKB8:1;
end;

end;
hence thesis by A19,A22,A21,CKB6:1;
end;

end;
hence ((X1 is (SubSpace of X2) or X2 is (SubSpace of X1)) or (ex Y1,Y2 being  closed non empty (SubSpace of X) st ((Y1 is (SubSpace of X1) & Y2 is (SubSpace of X2)) & (X = ( Y1 union Y2 ) or (ex Y being  open non empty (SubSpace of X) st (X = ( ( Y1 union Y2 ) union Y ) & Y is (SubSpace of ( X1 meet X2 ))))))));
end;
hence thesis by A4;
end;
