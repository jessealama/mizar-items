environ
vocabularies NUMBERS,PRE_TOPC,EUCLID,FINSEQ_1,REAL_1,SUBSET_1,COMPLEX1,ARYTM_1,XXREAL_0,ARYTM_3,CARD_1,NAT_1,RELAT_1,FINSEQ_3,FUNCT_1,XBOOLE_0,TARSKI,ORDINAL2,PARTFUN1,MCART_1,TOPREAL1,RLTOPSP1,MATRIX_1,TREES_1,INCSP_1,ZFMISC_1,MATRIX_2,STRUCT_0,ORDINAL4,GOBOARD1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,REAL_1,NUMBERS,XCMPLX_0,XXREAL_0,COMPLEX1,NAT_1,VALUED_0,FINSEQ_1,FINSEQ_3,SEQ_1,STRUCT_0,PRE_TOPC,EUCLID,TOPREAL1,MATRIX_1,MATRIX_2,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB14;
definitions TARSKI,XBOOLE_0,FUNCT_1,SEQM_3,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9;
theorems TARSKI,NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,ABSVALUE,FINSEQ_2,FINSEQ_3,MATRIX_1,TOPREAL1,MATRIX_2,TOPREAL3,FINSEQ_4,RELAT_1,INT_1,CARD_1,PARTFUN2,XBOOLE_0,XREAL_1,COMPLEX1,XXREAL_0,ORDINAL1,PARTFUN1,SEQM_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB13,CKB15,CKB16,CKB17,CKB18;
schemes NAT_1,MATRIX_1,FINSEQ_1,FINSEQ_4;
registrations RELAT_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,STRUCT_0,EUCLID,MEMBERED,VALUED_0,CARD_1,CKB11;
constructors PARTFUN1,XXREAL_0,NAT_1,COMPLEX1,MATRIX_2,SEQ_1,TOPREAL1,SEQM_3,RELSET_1,REAL_1,CKB1,CKB2,CKB5,CKB6,CKB7,CKB8,CKB9;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve G for Go-board;
definition
let G;
let i being (Element of ( NAT ));
assume that
A1: (i in ( Seg ( width G ) ) & ( width G ) > 1);
func DelCol (G,i) -> Go-board
means
:Def10: (( len it ) = ( len G ) & (for k holds (k in ( dom G ) implies ( it . k ) = ( Del (( Line (G,k) ),i) ))));
existence
proof
defpred P[ Nat,Nat,(Point of ( TOP-REAL 2 )) ]
 means
$3 = ( ( Del (( Line (G,$1) ),i) ) . $2 );
A2: (( 0 ) < ( len G ) & ( 0 ) < ( width G )) by CKB10:1;
then consider m being Nat such that A3: ( width G ) = ( m + 1 ) by NAT_1:6;
reconsider m as (Element of ( NAT )) by ORDINAL1:def 12;
A4: ( Seg ( len G ) ) = ( dom G ) by FINSEQ_1:def 3;
A5: (for k holds (k in ( dom G ) implies ( len ( Del (( Line (G,k) ),i) ) ) = m))
proof
let k;
assume that
k in ( dom G );
A6: ( len ( Line (G,k) ) ) = ( width G ) by MATRIX_1:def 7;
then i in ( dom ( Line (G,k) ) ) by A1,FINSEQ_1:def 3;
then (ex j being Nat st (( len ( Line (G,k) ) ) = ( j + 1 ) & ( len ( Del (( Line (G,k) ),i) ) ) = j)) by FINSEQ_3:104;
hence thesis by A3,A6;
end;
A8: (for k,j being Nat holds ([ k,j ] in [: ( Seg ( len G ) ),( Seg m ) :] implies (ex x being (Point of ( TOP-REAL 2 )) st P[ k,j,x ])))
proof
let k being Nat,j being Nat;
assume [ k,j ] in [: ( Seg ( len G ) ),( Seg m ) :];
then A9: (k in ( dom G ) & j in ( Seg m )) by A4,ZFMISC_1:87;
reconsider p = ( Del (( Line (G,k) ),i) ) as (FinSequence of ( TOP-REAL 2 )) by FINSEQ_3:105;
( len p ) = m by A5,A9;
then j in ( dom p ) by A9,FINSEQ_1:def 3;
then reconsider x = ( p . j ) as (Point of ( TOP-REAL 2 )) by FINSEQ_2:11;
take x;
thus thesis;
end;
consider N being (Matrix of ( len G ),m,(the carrier of ( TOP-REAL 2 ))) such that A10: (for k,j being Nat holds ([ k,j ] in ( Indices N ) implies P[ k,j,( N * (k,j) ) ])) from MATRIX_1:sch 2(A8);
A11: ( Seg ( len N ) ) = ( dom N ) by FINSEQ_1:def 3;
A12: ((( len N ) = ( len G ) & ( width N ) = m) & ( Indices N ) = [: ( dom G ),( Seg m ) :]) by A2,A4,MATRIX_1:23;
A13: (for k holds (for j holds ((k in ( dom G ) & j in ( Seg m )) implies ( N * (k,j) ) = ( ( Del (( Line (G,k) ),i) ) . j ))))
proof
let k;
let j;
assume (k in ( dom G ) & j in ( Seg m ));
then [ k,j ] in ( Indices N ) by A12,ZFMISC_1:87;
hence thesis by A10;
end;
A14: (for k holds (for j holds ((k in ( dom G ) & j in ( Seg m )) implies (( N * (k,j) ) = ( ( Line (G,k) ) . j ) or ( N * (k,j) ) = ( ( Line (G,k) ) . ( j + 1 ) )))))
proof
let k;
let j;
assume A15: (k in ( dom G ) & j in ( Seg m ));
then A16: ( N * (k,j) ) = ( ( Del (( Line (G,k) ),i) ) . j ) by A13;
A17: ( len ( Line (G,k) ) ) = ( m + 1 ) by A3,MATRIX_1:def 7;
i in ( Seg ( len ( Line (G,k) ) ) ) by A1,MATRIX_1:def 7;
then i in ( dom ( Line (G,k) ) ) by FINSEQ_1:def 3;
hence thesis by A15,A16,A17,SEQM_3:44;
end;
A18: (for k holds (k in ( Seg m ) implies (( Col (N,k) ) = ( Col (G,k) ) or ( Col (N,k) ) = ( Col (G,( k + 1 )) ))))
proof
let k;
assume A19: k in ( Seg m );
then A20: (1 <= k & k <= m) by FINSEQ_1:1;
(m <= ( m + 1 ) & k <= ( k + 1 )) by NAT_1:11;
then ((k <= ( m + 1 ) & 1 <= ( k + 1 )) & ( k + 1 ) <= ( m + 1 )) by A20,XREAL_1:6,XXREAL_0:2;
then A21: (k in ( Seg ( width G ) ) & ( k + 1 ) in ( Seg ( width G ) )) by A3,A20,FINSEQ_1:1;
A22: ((( len ( Col (N,k) ) ) = ( len N ) & ( len ( Col (G,k) ) ) = ( len G )) & ( len ( Col (G,( k + 1 )) ) ) = ( len G )) by MATRIX_1:def 8;
now
per cases ;
suppose A23: k < i;

now
let j being Nat;
assume (1 <= j & j <= ( len ( Col (N,k) ) ));
then A24: j in ( dom N ) by A22,FINSEQ_3:25;
hence ( ( Col (N,k) ) . j ) = ( N * (j,k) ) by MATRIX_1:def 8
.= ( ( Del (( Line (G,j) ),i) ) . k ) by A4,A11,A12,A13,A19,A24
.= ( ( Line (G,j) ) . k ) by A23,FINSEQ_3:110
.= ( ( Col (G,k) ) . j ) by A4,A11,A12,A21,A24,CKB4:1;
end;
hence thesis by A12,A22,FINSEQ_1:14;
end;
suppose A25: k >= i;

now
let j being Nat;
assume (1 <= j & j <= ( len ( Col (N,k) ) ));
then A26: j in ( dom N ) by A22,FINSEQ_3:25;
A27: ( len ( Line (G,j) ) ) = ( m + 1 ) by A3,MATRIX_1:def 7;
A28: ( dom ( Line (G,j) ) ) = ( Seg ( len ( Line (G,j) ) ) ) by FINSEQ_1:def 3;
thus ( ( Col (N,k) ) . j ) = ( N * (j,k) ) by A26,MATRIX_1:def 8
.= ( ( Del (( Line (G,j) ),i) ) . k ) by A4,A11,A12,A13,A19,A26
.= ( ( Line (G,j) ) . ( k + 1 ) ) by A1,A3,A20,A25,A27,A28,FINSEQ_3:111
.= ( ( Col (G,( k + 1 )) ) . j ) by A4,A11,A12,A21,A26,CKB4:1;
end;
hence thesis by A12,A22,FINSEQ_1:14;
end;
end;
hence thesis;
end;
reconsider M = N as (Matrix of ( TOP-REAL 2 ));
( 1 - 1 ) < m by A1,A3,XREAL_1:19;
then A29: (( 0 ) < ( len M ) & ( 0 ) < ( width M )) by A2,MATRIX_1:23;
A30:now
let k;
assume A31: k in ( dom M );
then A32: ( X_axis ( Line (G,k) ) ) is  constant by A4,A11,A12,CKB6:def 1;
m <= ( m + 1 ) by NAT_1:11;
then A33: ( Seg m ) c= ( Seg ( width G ) ) by A3,FINSEQ_1:5;
reconsider L = ( Line (M,k) ),lg = ( Line (G,k) ) as (FinSequence of ( TOP-REAL 2 ));
set X = ( X_axis L );
set xg = ( X_axis lg );
now
let n;
let j;
assume that
A34: (n in ( dom X ) & j in ( dom X ));
A35: (((((( dom X ) = ( Seg ( len X ) ) & ( len X ) = ( len L )) & ( len L ) = ( width M )) & ( dom xg ) = ( Seg ( len xg ) )) & ( len xg ) = ( len lg )) & ( len lg ) = ( width G )) by CKB1:def 1,FINSEQ_1:def 3,MATRIX_1:def 7;
then A36: (((( L . n ) = ( M * (k,n) ) & ( L . j ) = ( M * (k,j) )) & n in ( Seg m )) & j in ( Seg m )) by A2,A34,MATRIX_1:23,MATRIX_1:def 7;
then A37: ((( L . n ) = ( lg . n ) or ( L . n ) = ( lg . ( n + 1 ) )) & (( L . j ) = ( lg . j ) or ( L . j ) = ( lg . ( j + 1 ) ))) by A4,A11,A12,A14,A31;
(n in ( dom L ) & j in ( dom L )) by A34,A35,FINSEQ_1:def 3;
then (( L . n ) = ( L /. n ) & ( L . j ) = ( L /. j )) by PARTFUN1:def 6;
then A38: (( X . n ) = ( ( M * (k,n) ) `1 ) & ( X . j ) = ( ( M * (k,j) ) `1 )) by A34,A36,CKB1:def 1;
(((1 <= n & n <= m) & 1 <= j) & j <= m) by A12,A34,A35,FINSEQ_3:25;
then A39: (((n <= ( n + 1 ) & ( n + 1 ) <= ( m + 1 )) & j <= ( j + 1 )) & ( j + 1 ) <= ( m + 1 )) by NAT_1:11,XREAL_1:6;
(1 <= ( n + 1 ) & 1 <= ( j + 1 )) by NAT_1:11;
then A40: (((( n + 1 ) in ( Seg ( width G ) ) & ( j + 1 ) in ( Seg ( width G ) )) & n in ( Seg ( width G ) )) & j in ( Seg ( width G ) )) by A3,A12,A33,A34,A35,A39,FINSEQ_3:25;
then A41: (((( lg . n ) = ( G * (k,n) ) & ( lg . ( n + 1 ) ) = ( G * (k,( n + 1 )) )) & ( lg . j ) = ( G * (k,j) )) & ( lg . ( j + 1 ) ) = ( G * (k,( j + 1 )) )) by MATRIX_1:def 7;
( dom lg ) = ( Seg ( len xg ) ) by A35,FINSEQ_1:def 3;
then (((( lg . n ) = ( lg /. n ) & ( lg . ( n + 1 ) ) = ( lg /. ( n + 1 ) )) & ( lg . j ) = ( lg /. j )) & ( lg . ( j + 1 ) ) = ( lg /. ( j + 1 ) )) by A35,A40,PARTFUN1:def 6;
then (((( xg . n ) = ( ( G * (k,n) ) `1 ) & ( xg . ( n + 1 ) ) = ( ( G * (k,( n + 1 )) ) `1 )) & ( xg . j ) = ( ( G * (k,j) ) `1 )) & ( xg . ( j + 1 ) ) = ( ( G * (k,( j + 1 )) ) `1 )) by A35,A40,A41,CKB1:def 1;
hence ( X . n ) = ( X . j ) by A32,A35,A36,A37,A38,A40,A41,SEQM_3:def 10;
end;
hence ( X_axis ( Line (M,k) ) ) is  constant by SEQM_3:def 10;
end;
A42:now
let k;
assume A43: k in ( Seg ( width M ) );
then A44: (( Col (M,k) ) = ( Col (G,k) ) or ( Col (M,k) ) = ( Col (G,( k + 1 )) )) by A12,A18;
A45: (1 <= k & k <= m) by A12,A43,FINSEQ_1:1;
(m <= ( m + 1 ) & k <= ( k + 1 )) by NAT_1:11;
then ((k <= ( m + 1 ) & 1 <= ( k + 1 )) & ( k + 1 ) <= ( m + 1 )) by A45,XREAL_1:6,XXREAL_0:2;
then (k in ( Seg ( width G ) ) & ( k + 1 ) in ( Seg ( width G ) )) by A3,A45,FINSEQ_1:1;
hence ( Y_axis ( Col (M,k) ) ) is  constant by A44,CKB7:def 1;
end;
A46:now
let k;
reconsider L = ( Line (M,k) ),lg = ( Line (G,k) ) as (FinSequence of ( TOP-REAL 2 ));
set X = ( Y_axis L );
set xg = ( Y_axis lg );
m <= ( m + 1 ) by NAT_1:11;
then A47: ( Seg m ) c= ( Seg ( width G ) ) by A3,FINSEQ_1:5;
assume A48: k in ( dom M );
then A49: xg is  increasing by A4,A11,A12,CKB8:def 1;
now
let n;
let j;
assume that
A50: ((n in ( dom X ) & j in ( dom X )) & n < j);
A51: (((((( dom X ) = ( Seg ( len X ) ) & ( len X ) = ( len L )) & ( len L ) = ( width M )) & ( dom xg ) = ( Seg ( len xg ) )) & ( len xg ) = ( len lg )) & ( len lg ) = ( width G )) by CKB2:def 1,FINSEQ_1:def 3,MATRIX_1:def 7;
then A52: (((( L . n ) = ( M * (k,n) ) & ( L . j ) = ( M * (k,j) )) & n in ( Seg m )) & j in ( Seg m )) by A2,A50,MATRIX_1:23,MATRIX_1:def 7;
( dom L ) = ( Seg ( len X ) ) by A51,FINSEQ_1:def 3;
then (( L . n ) = ( L /. n ) & ( L . j ) = ( L /. j )) by A50,A51,PARTFUN1:def 6;
then A53: (( X . n ) = ( ( M * (k,n) ) `2 ) & ( X . j ) = ( ( M * (k,j) ) `2 )) by A50,A52,CKB2:def 1;
A54: (((1 <= n & n <= m) & 1 <= j) & j <= m) by A12,A50,A51,FINSEQ_3:25;
then A55: (((n <= ( n + 1 ) & ( n + 1 ) <= ( m + 1 )) & j <= ( j + 1 )) & ( j + 1 ) <= ( m + 1 )) by NAT_1:11,XREAL_1:6;
(1 <= ( n + 1 ) & 1 <= ( j + 1 )) by NAT_1:11;
then A56: (((( n + 1 ) in ( Seg ( width G ) ) & ( j + 1 ) in ( Seg ( width G ) )) & n in ( Seg ( width G ) )) & j in ( Seg ( width G ) )) by A3,A12,A47,A50,A51,A55,FINSEQ_3:25;
then A57: (((( lg . n ) = ( G * (k,n) ) & ( lg . ( n + 1 ) ) = ( G * (k,( n + 1 )) )) & ( lg . j ) = ( G * (k,j) )) & ( lg . ( j + 1 ) ) = ( G * (k,( j + 1 )) )) by MATRIX_1:def 7;
( dom lg ) = ( Seg ( len xg ) ) by A51,FINSEQ_1:def 3;
then (((( lg . n ) = ( lg /. n ) & ( lg . ( n + 1 ) ) = ( lg /. ( n + 1 ) )) & ( lg . j ) = ( lg /. j )) & ( lg . ( j + 1 ) ) = ( lg /. ( j + 1 ) )) by A51,A56,PARTFUN1:def 6;
then A58: (((( xg . n ) = ( ( G * (k,n) ) `2 ) & ( xg . ( n + 1 ) ) = ( ( G * (k,( n + 1 )) ) `2 )) & ( xg . j ) = ( ( G * (k,j) ) `2 )) & ( xg . ( j + 1 ) ) = ( ( G * (k,( j + 1 )) ) `2 )) by A51,A56,A57,CKB2:def 1;
set r = ( X . n );
set s = ( X . j );
A59: ( dom lg ) = ( Seg ( len lg ) ) by FINSEQ_1:def 3;
per cases ;
suppose A60: j < i;

then A61: n < i by A50,XXREAL_0:2;
A62: ( M * (k,n) ) = ( ( Del (lg,i) ) . n ) by A4,A11,A12,A13,A48,A50,A51
.= ( G * (k,n) ) by A57,A61,FINSEQ_3:110;
( M * (k,j) ) = ( ( Del (lg,i) ) . j ) by A4,A11,A12,A13,A48,A50,A51
.= ( G * (k,j) ) by A57,A60,FINSEQ_3:110;
hence r < s by A12,A47,A49,A50,A51,A53,A58,A62,SEQM_3:def 1;
end;
suppose A63: j >= i;

A64: ( M * (k,j) ) = ( ( Del (lg,i) ) . j ) by A4,A11,A12,A13,A48,A50,A51
.= ( G * (k,( j + 1 )) ) by A1,A3,A51,A54,A57,A59,A63,FINSEQ_3:111;
now
per cases ;
suppose A65: n < i;

j <= ( j + 1 ) by NAT_1:11;
then A66: n < ( j + 1 ) by A50,XXREAL_0:2;
( M * (k,n) ) = ( ( Del (lg,i) ) . n ) by A4,A11,A12,A13,A48,A50,A51
.= ( G * (k,n) ) by A57,A65,FINSEQ_3:110;
hence r < s by A49,A51,A53,A56,A58,A64,A66,SEQM_3:def 1;
end;
suppose A67: n >= i;

A68: ( n + 1 ) < ( j + 1 ) by A50,XREAL_1:6;
( M * (k,n) ) = ( ( Del (lg,i) ) . n ) by A4,A11,A12,A13,A48,A50,A51
.= ( G * (k,( n + 1 )) ) by A1,A3,A51,A54,A57,A59,A67,FINSEQ_3:111;
hence r < s by A49,A51,A53,A56,A58,A64,A68,SEQM_3:def 1;
end;
end;
hence r < s;
end;
end;
hence ( Y_axis ( Line (M,k) ) ) is  increasing by SEQM_3:def 1;
end;
now
let k;
assume A69: k in ( Seg ( width M ) );
then A70: (( Col (M,k) ) = ( Col (G,k) ) or ( Col (M,k) ) = ( Col (G,( k + 1 )) )) by A12,A18;
A71: (1 <= k & k <= m) by A12,A69,FINSEQ_1:1;
(m <= ( m + 1 ) & k <= ( k + 1 )) by NAT_1:11;
then ((k <= ( m + 1 ) & 1 <= ( k + 1 )) & ( k + 1 ) <= ( m + 1 )) by A71,XREAL_1:6,XXREAL_0:2;
then (k in ( Seg ( width G ) ) & ( k + 1 ) in ( Seg ( width G ) )) by A3,A71,FINSEQ_1:1;
hence ( X_axis ( Col (M,k) ) ) is  increasing by A70,CKB9:def 1;
end;
then reconsider M as non empty-yielding  X_equal-in-line  Y_equal-in-column  Y_increasing-in-line  X_increasing-in-column (Matrix of ( TOP-REAL 2 )) by A29,A30,A42,A46,CKB5:def 1,CKB6:def 1,CKB7:def 1,CKB8:def 1,CKB9:def 1;
take M;
thus A72: ( len M ) = ( len G ) by A2,MATRIX_1:23;
let k;
assume A73: k in ( dom G );
then A74: ( M . k ) = ( Line (M,k) ) by A4,A11,A72,MATRIX_2:16;
then reconsider s = ( M . k ) as FinSequence;
A75: ( len s ) = m by A12,A74,MATRIX_1:def 7;
A76: ( len ( Del (( Line (G,k) ),i) ) ) = m by A5,A73;
A77: ( dom s ) = ( Seg m ) by A75,FINSEQ_1:def 3;
now
let j being Nat;
assume A78: j in ( dom s );
then ( ( Line (M,k) ) . j ) = ( M * (k,j) ) by A12,A77,MATRIX_1:def 7;
hence ( s . j ) = ( ( Del (( Line (G,k) ),i) ) . j ) by A13,A73,A74,A78,A77;
end;
hence thesis by A75,A76,FINSEQ_2:9;
end;
uniqueness
proof
let G1 being Go-board,G2 being Go-board;
assume that
A79: (( len G1 ) = ( len G ) & (for k holds (k in ( dom G ) implies ( G1 . k ) = ( Del (( Line (G,k) ),i) ))))
and
A80: (( len G2 ) = ( len G ) & (for k holds (k in ( dom G ) implies ( G2 . k ) = ( Del (( Line (G,k) ),i) ))));
A81: ( dom G1 ) = ( Seg ( len G ) ) by A79,FINSEQ_1:def 3;
now
let k being Nat;
assume k in ( dom G1 );
then A82: k in ( dom G ) by A81,FINSEQ_1:def 3;
hence ( G1 . k ) = ( Del (( Line (G,k) ),i) ) by A79
.= ( G2 . k ) by A80,A82;
end;
hence thesis by A79,A80,FINSEQ_2:9;
end;
end;
