environ
vocabularies NUMBERS,INCSP_1,SUBSET_1,CARD_1,XBOOLE_0,ARYTM_3,TARSKI,ORDINAL1,FINSET_1,RELAT_1,ARYTM_1,NAT_1,FUNCT_1,XXREAL_0,FDIFF_1,WELLORD2,ZFMISC_1,ANPROJ_2,AFF_2,MOD_4,FUNCT_2,PRE_POLY,SETFAM_1,COMBGRAS;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,ENUMSET1,ZFMISC_1,SETFAM_1,DOMAIN_1,FINSET_1,RELAT_1,RELSET_1,WELLORD2,CARD_1,NUMBERS,INCSP_1,XXREAL_0,REAL_1,FUNCT_1,FUNCT_2,INCPROJ,NAT_1,CKB11,CKB12,CKB17,CKB18,CKB19,CKB20,CKB23,CKB24,CKB25,CKB27,CKB29,CKB30,CKB31,CKB32,CKB33;
definitions TARSKI,INCSP_1,INCPROJ,FUNCT_1,RELAT_1,CKB12,CKB17,CKB18,CKB19,CKB20,CKB24,CKB25,CKB27,CKB29,CKB30,CKB31,CKB32,CKB33;
theorems ENUMSET1,TARSKI,ZFMISC_1,XBOOLE_0,XBOOLE_1,XREAL_1,SETFAM_1,PENCIL_1,INCSP_1,WELLORD2,CARD_1,CARD_2,NAT_1,ORDINAL1,CARD_FIL,STIRL2_1,CARD_FIN,XXREAL_0,INCPROJ,FUNCT_1,FUNCT_2,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39;
schemes FUNCT_1,NAT_1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,FUNCT_2,FINSET_1,XXREAL_0,XREAL_0,NAT_1,CARD_1,INCSP_1,RELSET_1,CKB10,CKB23;
constructors SETFAM_1,WELLORD2,DOMAIN_1,XXREAL_0,REAL_1,NAT_1,BINOP_2,INCPROJ,RELSET_1,CKB12,CKB17,CKB18,CKB19,CKB20,CKB23,CKB24,CKB25,CKB27,CKB29,CKB30,CKB31,CKB32,CKB33;
requirements BOOLE,SUBSET,NUMERALS,ARITHM,REAL;
begin
reserve x for set;
reserve y for set;
definition
let k being (Element of ( NAT ));
let X being non empty set;
let s being (Permutation of X);
assume that
A1: (( 0 ) < k & ( k + 1 ) c= ( card X ));
func incprojmap (k,s) ->  strict IncProjMap over ( G_ (k,X) ),( G_ (k,X) )
means
:Def14: ((for A being (POINT of ( G_ (k,X) )) holds ( it . A ) = ( s .: A )) & (for L being (LINE of ( G_ (k,X) )) holds ( it . L ) = ( s .: L )));
existence
proof
deffunc F(set) = ( s .: $1 );
consider P being Function such that A2: (( dom P ) = (the Points of ( G_ (k,X) )) & (for x holds (x in (the Points of ( G_ (k,X) )) implies ( P . x ) = F(x)))) from FUNCT_1:sch 3;
A3: (the Points of ( G_ (k,X) )) = { A where A is (Subset of X): ( card A ) = k } by A1,CKB12:def 1;
( rng P ) c= (the Points of ( G_ (k,X) ))
proof
let b being set;
assume b in ( rng P );
then consider a being set such that A4: a in (the Points of ( G_ (k,X) )) and A5: b = ( P . a ) by A2,FUNCT_1:def 3;
consider A being (Subset of X) such that A6: A = a and A7: ( card A ) = k by A3,A4;
A8: b = ( s .: A ) by A2,A4,A5,A6;
A9: b c= X
proof
let y;
assume y in b;
then (ex x st ((x in ( dom s ) & x in A) & y = ( s . x ))) by A8,FUNCT_1:def 6;
then y in ( rng s ) by FUNCT_1:3;
hence thesis by FUNCT_2:def 3;
end;
( dom s ) = X by FUNCT_2:def 1;
then ( card b ) = k by A7,A8,CKB4:1;
hence thesis by A3,A9;
end;
then reconsider P as (Function of (the Points of ( G_ (k,X) )),(the Points of ( G_ (k,X) ))) by A2,FUNCT_2:2;
A10: (the Lines of ( G_ (k,X) )) = { L where L is (Subset of X): ( card L ) = ( k + 1 ) } by A1,CKB12:def 1;
consider L being Function such that A11: (( dom L ) = (the Lines of ( G_ (k,X) )) & (for x holds (x in (the Lines of ( G_ (k,X) )) implies ( L . x ) = F(x)))) from FUNCT_1:sch 3;
( rng L ) c= (the Lines of ( G_ (k,X) ))
proof
let b being set;
assume b in ( rng L );
then consider a being set such that A12: a in (the Lines of ( G_ (k,X) )) and A13: b = ( L . a ) by A11,FUNCT_1:def 3;
consider A being (Subset of X) such that A14: A = a and A15: ( card A ) = ( k + 1 ) by A10,A12;
A16: b = ( s .: A ) by A11,A12,A13,A14;
A17: b c= X
proof
let y;
assume y in b;
then (ex x st ((x in ( dom s ) & x in A) & y = ( s . x ))) by A16,FUNCT_1:def 6;
then y in ( rng s ) by FUNCT_1:3;
hence thesis by FUNCT_2:def 3;
end;
( dom s ) = X by FUNCT_2:def 1;
then ( card b ) = ( k + 1 ) by A15,A16,CKB4:1;
hence thesis by A10,A17;
end;
then reconsider L as (Function of (the Lines of ( G_ (k,X) )),(the Lines of ( G_ (k,X) ))) by A11,FUNCT_2:2;
take IncProjMap (# P,L #);
thus thesis by A2,A11;
end;
uniqueness
proof
let f1 being  strict IncProjMap over ( G_ (k,X) ),( G_ (k,X) ),f2 being  strict IncProjMap over ( G_ (k,X) ),( G_ (k,X) );
assume that
A18: (for A being (POINT of ( G_ (k,X) )) holds ( f1 . A ) = ( s .: A ))
and
A19: (for L being (LINE of ( G_ (k,X) )) holds ( f1 . L ) = ( s .: L ))
and
A20: (for A being (POINT of ( G_ (k,X) )) holds ( f2 . A ) = ( s .: A ))
and
A21: (for L being (LINE of ( G_ (k,X) )) holds ( f2 . L ) = ( s .: L ));
A22: (for L being (LINE of ( G_ (k,X) )) holds ( f1 . L ) = ( f2 . L ))
proof
let L being (LINE of ( G_ (k,X) ));
( f1 . L ) = ( s .: L ) by A19;
hence thesis by A21;
end;
(for A being (POINT of ( G_ (k,X) )) holds ( f1 . A ) = ( f2 . A ))
proof
let A being (POINT of ( G_ (k,X) ));
( f1 . A ) = ( s .: A ) by A18;
hence thesis by A20;
end;
hence thesis by A22,CKB26:1;
end;
end;
