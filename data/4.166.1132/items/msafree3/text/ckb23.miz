environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,CARD_3,RELAT_1,FUNCT_1,SUBSET_1,PBOOLE,MSUALG_3,TARSKI,FUNCT_6,MEMBER_1,CATALG_1,ZF_MODEL,MSUALG_2,MSAFREE,FUNCOP_1,CARD_1,LANG1,ZFMISC_1,TREES_4,MCART_1,MARGREL1,FINSEQ_1,MSATERM,UNIALG_2,DTCONSTR,FINSET_1,TREES_2,TREES_9,ZF_LANG1,TREES_3,TREES_A,NUMBERS,ARYTM_3,ORDINAL4,XXREAL_0,NAT_1,PARTFUN1,MSUALG_6,PRELAMB;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,STRUCT_0,NUMBERS,NAT_1,MCART_1,FINSET_1,CARD_3,FINSEQ_1,FINSEQ_2,TREES_1,TREES_2,FUNCT_6,TREES_3,TREES_4,DTCONSTR,LANG1,PBOOLE,TREES_9,MSUALG_1,MSUALG_2,MSAFREE,FUNCOP_1,MSUALG_3,EQUATION,MSATERM,MSUALG_6,CATALG_1,XXREAL_0,CKB2,CKB4,CKB17,CKB18;
definitions TARSKI,XBOOLE_0,PBOOLE,MSUALG_2,MSUALG_6,CATALG_1,CKB4,CKB17,CKB18;
theorems TARSKI,ZFMISC_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_3,NAT_1,MCART_1,PBOOLE,RELAT_1,CARD_3,CARD_5,FUNCT_6,TREES_3,MSUALG_1,INSTALG1,TREES_4,PRE_CIRC,TREES_1,TREES_2,MSUALG_2,MSUALG_3,MSAFREE,MSATERM,EQUATION,MSUALG_6,XBOOLE_0,XBOOLE_1,ORDINAL1,PARTFUN1,TREES_9,FINSEQ_2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes PBOOLE,MSATERM;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,XREAL_0,FINSEQ_1,TREES_2,TREES_3,TREES_9,STRUCT_0,RELSET_1,MSUALG_1,MSUALG_2,MSUALG_3,MSAFREE,MSATERM,INDEX_1,MSUALG_6,MSUALG_9,INSTALG1,CATALG_1,PRE_CIRC,MSSUBFAM,PBOOLE,CKB1,CKB9,CKB13,CKB14,CKB15,CKB16;
constructors DOMAIN_1,XXREAL_0,NAT_1,TREES_9,MSSUBFAM,MSUALG_3,MSATERM,MSUALG_6,CATALG_1,EQUATION,SEQ_4,RELSET_1,FINSEQ_2,CKB4,CKB17,CKB18;
requirements BOOLE,SUBSET,NUMERALS;
begin
reserve x for set;
reserve z for set;
theorem
Th14: (for S being ManySortedSign holds (for X being (ManySortedSet of (the carrier of S)) holds (for s being set holds (s in (the carrier of S) implies (for p being  DTree-yielding FinSequence holds (x in ( ( X variables_in ( [ z,(the carrier of S) ] -tree p ) ) . s ) iff (ex t being DecoratedTree st (t in ( rng p ) & x in ( ( X variables_in t ) . s )))))))))
proof
let S being ManySortedSign;
let X being (ManySortedSet of (the carrier of S));
let s being set;
assume that
A1: s in (the carrier of S);
let p being  DTree-yielding FinSequence;
reconsider q = ( [ z,(the carrier of S) ] -tree p ) as DecoratedTree;
( ( X variables_in q ) . s ) = ( ( X . s ) /\ ( ( S variables_in q ) . s ) ) by A1,PBOOLE:def 5;
then A2: (x in ( ( X variables_in ( [ z,(the carrier of S) ] -tree p ) ) . s ) iff (x in ( X . s ) & x in ( ( S variables_in ( [ z,(the carrier of S) ] -tree p ) ) . s ))) by XBOOLE_0:def 4;
then A3: (x in ( ( X variables_in ( [ z,(the carrier of S) ] -tree p ) ) . s ) iff (x in ( X . s ) & (ex t being DecoratedTree st (t in ( rng p ) & x in ( ( S variables_in t ) . s ))))) by A1,CKB21:1;
hereby
assume x in ( ( X variables_in ( [ z,(the carrier of S) ] -tree p ) ) . s );
then consider t being DecoratedTree such that A4: t in ( rng p ) and A5: (x in ( X . s ) & x in ( ( S variables_in t ) . s )) by A3;
take t;
thus t in ( rng p ) by A4;
x in ( ( X . s ) /\ ( ( S variables_in t ) . s ) ) by A5,XBOOLE_0:def 4;
hence x in ( ( X variables_in t ) . s ) by A1,PBOOLE:def 5;
end;
given t being DecoratedTree such that
A6: t in ( rng p )
and
A7: x in ( ( X variables_in t ) . s );

A8: ( ( X variables_in t ) . s ) = ( ( X . s ) /\ ( ( S variables_in t ) . s ) ) by A1,PBOOLE:def 5;
then x in ( ( S variables_in t ) . s ) by A7,XBOOLE_0:def 4;
hence thesis by A1,A2,A6,A7,A8,CKB21:1,XBOOLE_0:def 4;
end;
