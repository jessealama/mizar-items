environ
vocabularies XBOOLE_0,STRUCT_0,MSUALG_1,CARD_3,RELAT_1,FUNCT_1,SUBSET_1,PBOOLE,MSUALG_3,TARSKI,FUNCT_6,MEMBER_1,CATALG_1,ZF_MODEL,MSUALG_2,MSAFREE,FUNCOP_1,CARD_1,LANG1,ZFMISC_1,TREES_4,MCART_1,MARGREL1,FINSEQ_1,MSATERM,UNIALG_2,DTCONSTR,FINSET_1,TREES_2,TREES_9,ZF_LANG1,TREES_3,TREES_A,NUMBERS,ARYTM_3,ORDINAL4,XXREAL_0,NAT_1,PARTFUN1,MSUALG_6,PRELAMB;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,STRUCT_0,NUMBERS,NAT_1,MCART_1,FINSET_1,CARD_3,FINSEQ_1,FINSEQ_2,TREES_1,TREES_2,FUNCT_6,TREES_3,TREES_4,DTCONSTR,LANG1,PBOOLE,TREES_9,MSUALG_1,MSUALG_2,MSAFREE,FUNCOP_1,MSUALG_3,EQUATION,MSATERM,MSUALG_6,CATALG_1,XXREAL_0,CKB2,CKB4,CKB17,CKB18,CKB25,CKB27;
definitions TARSKI,XBOOLE_0,PBOOLE,MSUALG_2,MSUALG_6,CATALG_1,CKB4,CKB17,CKB18,CKB25,CKB27;
theorems TARSKI,ZFMISC_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_3,NAT_1,MCART_1,PBOOLE,RELAT_1,CARD_3,CARD_5,FUNCT_6,TREES_3,MSUALG_1,INSTALG1,TREES_4,PRE_CIRC,TREES_1,TREES_2,MSUALG_2,MSUALG_3,MSAFREE,MSATERM,EQUATION,MSUALG_6,XBOOLE_0,XBOOLE_1,ORDINAL1,PARTFUN1,TREES_9,FINSEQ_2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB10,CKB11,CKB12,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37;
schemes PBOOLE,MSATERM;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCOP_1,XREAL_0,FINSEQ_1,TREES_2,TREES_3,TREES_9,STRUCT_0,RELSET_1,MSUALG_1,MSUALG_2,MSUALG_3,MSAFREE,MSATERM,INDEX_1,MSUALG_6,MSUALG_9,INSTALG1,CATALG_1,PRE_CIRC,MSSUBFAM,PBOOLE,CKB1,CKB9,CKB13,CKB14,CKB15,CKB16;
constructors DOMAIN_1,XXREAL_0,NAT_1,TREES_9,MSSUBFAM,MSUALG_3,MSATERM,MSUALG_6,CATALG_1,EQUATION,SEQ_4,RELSET_1,FINSEQ_2,CKB4,CKB17,CKB18,CKB25,CKB27;
requirements BOOLE,SUBSET,NUMERALS;
begin
reserve x for set;
theorem
Th27: (for S being non void Signature holds (for X,Y being  non-empty (ManySortedSet of (the carrier of S)) holds (for A being (MSSubAlgebra of ( FreeMSA X )) holds (for B being (MSSubAlgebra of ( FreeMSA Y )) holds ((the Sorts of A) = (the Sorts of B) implies ( the MSAlgebra of A ) = ( the MSAlgebra of B ))))))
proof
let S being non void Signature;
let X being  non-empty (ManySortedSet of (the carrier of S)),Y being  non-empty (ManySortedSet of (the carrier of S));
let A being (MSSubAlgebra of ( FreeMSA X ));
let B being (MSSubAlgebra of ( FreeMSA Y ));
assume that
A1: (the Sorts of A) = (the Sorts of B);
reconsider SB = (the Sorts of B) as (MSSubset of ( FreeMSA Y )) by MSUALG_2:def 9;
reconsider SA = (the Sorts of A) as (MSSubset of ( FreeMSA X )) by MSUALG_2:def 9;
A2: SA is  opers_closed by MSUALG_2:def 9;
A3: SB is  opers_closed by MSUALG_2:def 9;
now
let x;
A4: (SA c= (the Sorts of ( FreeMSA X )) & (the Sorts of ( FreeMSA X )) is (MSSubset of ( FreeMSA X ))) by PBOOLE:def 18;
assume x in (the carrier' of S);
then reconsider o = x as (OperSymbol of S);
A5: SA is_closed_on o by A2,MSUALG_2:def 6;
A6: ( (the Charact of A) . o ) = ( ( Opers (( FreeMSA X ),SA) ) . o ) by MSUALG_2:def 9
.= ( o /. SA ) by MSUALG_2:def 8
.= ( ( Den (o,( FreeMSA X )) ) | ( ( ( SA # ) * (the Arity of S) ) . o ) ) by A5,MSUALG_2:def 7;
( Args (o,( FreeMSA X )) ) = ( ( ( (the Sorts of ( FreeMSA X )) # ) * (the Arity of S) ) . o ) by MSUALG_1:def 4;
then ( dom ( Den (o,( FreeMSA X )) ) ) = ( ( ( (the Sorts of ( FreeMSA X )) # ) * (the Arity of S) ) . o ) by FUNCT_2:def 1;
then A7: ( dom ( (the Charact of A) . o ) ) = ( ( ( SA # ) * (the Arity of S) ) . o ) by A6,A4,MSUALG_2:2,RELAT_1:62;
A8: (SB c= (the Sorts of ( FreeMSA Y )) & (the Sorts of ( FreeMSA Y )) is (MSSubset of ( FreeMSA Y ))) by PBOOLE:def 18;
then A9: ( ( ( SB # ) * (the Arity of S) ) . o ) c= ( ( ( (the Sorts of ( FreeMSA Y )) # ) * (the Arity of S) ) . o ) by MSUALG_2:2;
A10: SB is_closed_on o by A3,MSUALG_2:def 6;
A11: ( (the Charact of B) . o ) = ( ( Opers (( FreeMSA Y ),SB) ) . o ) by MSUALG_2:def 9
.= ( o /. SB ) by MSUALG_2:def 8
.= ( ( Den (o,( FreeMSA Y )) ) | ( ( ( SB # ) * (the Arity of S) ) . o ) ) by A10,MSUALG_2:def 7;
( Args (o,( FreeMSA Y )) ) = ( ( ( (the Sorts of ( FreeMSA Y )) # ) * (the Arity of S) ) . o ) by MSUALG_1:def 4;
then ( dom ( Den (o,( FreeMSA Y )) ) ) = ( ( ( (the Sorts of ( FreeMSA Y )) # ) * (the Arity of S) ) . o ) by FUNCT_2:def 1;
then A12: ( dom ( (the Charact of B) . o ) ) = ( ( ( SB # ) * (the Arity of S) ) . o ) by A11,A8,MSUALG_2:2,RELAT_1:62;
A13: ( ( ( SA # ) * (the Arity of S) ) . o ) c= ( ( ( (the Sorts of ( FreeMSA X )) # ) * (the Arity of S) ) . o ) by A4,MSUALG_2:2;
now
let x;
assume A14: x in ( ( ( SA # ) * (the Arity of S) ) . o );
then reconsider p1 = x as (Element of ( Args (o,( FreeMSA X )) )) by A13,MSUALG_1:def 4;
reconsider p2 = x as (Element of ( Args (o,( FreeMSA Y )) )) by A1,A9,A14,MSUALG_1:def 4;
thus ( ( (the Charact of A) . o ) . x ) = ( ( Den (o,( FreeMSA X )) ) . p1 ) by A6,A7,A14,FUNCT_1:47
.= ( [ o,(the carrier of S) ] -tree p1 ) by INSTALG1:3
.= ( ( Den (o,( FreeMSA Y )) ) . p2 ) by INSTALG1:3
.= ( ( (the Charact of B) . o ) . x ) by A1,A11,A12,A14,FUNCT_1:47;
end;
hence ( (the Charact of A) . x ) = ( (the Charact of B) . x ) by A1,A7,A12,FUNCT_1:2;
end;
hence thesis by A1,PBOOLE:3;
end;
