environ
vocabularies NUMBERS,SUBSET_1,REAL_1,INTEGRA1,FINSEQ_1,ORDINAL4,CARD_3,ARYTM_1,ARYTM_3,BINOP_2,RELAT_1,FUNCT_1,PARTFUN1,XXREAL_0,FINSEQ_2,NAT_1,XBOOLE_0,REALSET1,VALUED_1,TARSKI,XXREAL_2,XREAL_0,ORDINAL1,ORDINAL2,FCONT_2,INTEGRA2,FUNCT_3,SEQ_2,CARD_1,SEQ_1,COMPLEX1,MEASURE7,FDIFF_1,SEQ_4,XXREAL_1,ZFMISC_1,VALUED_0,SEQM_3,RCOMP_1,INTEGRA5,MEASURE5;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,RELAT_1,COMPLEX1,XXREAL_2,ZFMISC_1,RELSET_1,FUNCT_2,RCOMP_1,PARTFUN1,MEASURE6,FINSEQ_1,FUNCOP_1,VALUED_1,SEQ_1,RFUNCT_1,FINSEQ_2,SEQ_2,SEQ_4,BINOP_2,REAL_1,NAT_1,FDIFF_1,RVSUM_1,MEASURE5,INTEGRA1,INTEGRA2,INTEGRA3,FCONT_1,FCONT_2,RFUNCT_2,XXREAL_0,CKB4,CKB5,CKB8,CKB9;
definitions VALUED_1,XXREAL_2,CKB8,CKB9;
theorems SEQ_4,SUBSET_1,PARTFUN1,INTEGRA1,RFUNCT_1,FUNCT_1,FINSEQ_1,RVSUM_1,SEQ_1,SEQ_2,FDIFF_1,ABSVALUE,NAT_1,TARSKI,INTEGRA2,NAT_2,FINSEQ_2,RCOMP_1,FCONT_2,INTEGRA4,FCONT_1,ROLLE,RFUNCT_2,FDIFF_2,RELAT_1,XREAL_0,FUNCT_2,XBOOLE_0,XBOOLE_1,XCMPLX_1,XREAL_1,XXREAL_0,ORDINAL1,VALUED_1,XXREAL_2,XXREAL_1,RELSET_1,INTEGRA3,MEASURE5,CKB1,CKB2,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22;
schemes FINSEQ_2;
registrations XBOOLE_0,RELAT_1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,FINSEQ_1,FINSEQ_2,RCOMP_1,INTEGRA1,VALUED_0,VALUED_1,FUNCT_2,FINSET_1,XXREAL_2,CARD_1,SEQ_2,RELSET_1,ZFMISC_1,MEASURE5;
constructors PARTFUN1,REAL_1,NAT_1,BINOP_2,COMPLEX1,RFUNCT_1,RFUNCT_2,FCONT_1,FCONT_2,FDIFF_1,ZFMISC_1,MEASURE6,INTEGRA2,SEQ_1,XXREAL_2,RVSUM_1,SEQ_4,RELSET_1,FUNCOP_1,SEQ_2,INTEGRA3,CKB5,CKB8,CKB9;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
reserve x for Real;
reserve X for set;
theorem
(for f being (PartFunc of ( REAL ),( REAL )) holds (for A,B,C being non empty  closed_interval (Subset of ( REAL )) holds (for X holds ((((((A c= X & f is_differentiable_on X) & ( ( f `| X ) | A ) is  continuous) & ( lower_bound A ) = ( lower_bound B )) & ( upper_bound B ) = ( lower_bound C )) & ( upper_bound C ) = ( upper_bound A )) implies ((B c= A & C c= A) & ( integral (( f `| X ),A) ) = ( ( integral (( f `| X ),B) ) + ( integral (( f `| X ),C) ) ))))))
proof
let f being (PartFunc of ( REAL ),( REAL ));
let A being non empty  closed_interval (Subset of ( REAL )),B being non empty  closed_interval (Subset of ( REAL )),C being non empty  closed_interval (Subset of ( REAL ));
let X;
assume that
A1: (A c= X & f is_differentiable_on X)
and
A2: ( ( f `| X ) | A ) is  continuous
and
A3: ( lower_bound A ) = ( lower_bound B )
and
A4: ( upper_bound B ) = ( lower_bound C )
and
A5: ( upper_bound C ) = ( upper_bound A );
consider x such that A6: x in B by SUBSET_1:4;
(( lower_bound B ) <= x & x <= ( upper_bound B )) by A6,INTEGRA2:1;
then A7: ( lower_bound B ) <= ( upper_bound B ) by XXREAL_0:2;
consider x such that A8: x in C by SUBSET_1:4;
(( lower_bound C ) <= x & x <= ( upper_bound C )) by A8,INTEGRA2:1;
then A9: ( lower_bound C ) <= ( upper_bound C ) by XXREAL_0:2;
(for x being set holds (x in B implies x in A))
proof
let x being set;
assume A10: x in B;
then reconsider x as Real;
x <= ( upper_bound B ) by A10,INTEGRA2:1;
then A11: x <= ( upper_bound A ) by A4,A5,A9,XXREAL_0:2;
( lower_bound A ) <= x by A3,A10,INTEGRA2:1;
hence thesis by A11,INTEGRA2:1;
end;
hence A12: B c= A by TARSKI:def 3;
A13: A c= ( dom ( f `| X ) ) by A1,FDIFF_1:def 7;
then A14: ( ( f `| X ) | A ) is  bounded by A2,CKB14:1;
then A15: ( ( f `| X ) | B ) is  bounded by A12,RFUNCT_1:74;
(for x being set holds (x in C implies x in A))
proof
let x being set;
assume A16: x in C;
then reconsider x as Real;
( lower_bound C ) <= x by A16,INTEGRA2:1;
then A17: ( lower_bound A ) <= x by A3,A4,A7,XXREAL_0:2;
x <= ( upper_bound A ) by A5,A16,INTEGRA2:1;
hence thesis by A17,INTEGRA2:1;
end;
hence A18: C c= A by TARSKI:def 3;
then A19: ( ( f `| X ) | C ) is  bounded by A14,RFUNCT_1:74;
( ( f `| X ) | C ) is  continuous by A2,A18,FCONT_1:16;
then ( f `| X ) is_integrable_on C by A13,A18,CKB15:1,XBOOLE_1:1;
then A20: ( integral (( f `| X ),C) ) = ( ( f . ( upper_bound C ) ) - ( f . ( lower_bound C ) ) ) by A1,A18,A19,CKB17:1,XBOOLE_1:1;
( ( f `| X ) | B ) is  continuous by A2,A12,FCONT_1:16;
then ( f `| X ) is_integrable_on B by A13,A12,CKB15:1,XBOOLE_1:1;
then A21: ( integral (( f `| X ),B) ) = ( ( f . ( upper_bound B ) ) - ( f . ( lower_bound B ) ) ) by A1,A12,A15,CKB17:1,XBOOLE_1:1;
( f `| X ) is_integrable_on A by A2,A13,CKB15:1;
then ( integral (( f `| X ),A) ) = ( ( f . ( upper_bound A ) ) - ( f . ( lower_bound A ) ) ) by A1,A2,A13,CKB14:1,CKB17:1;
hence thesis by A3,A4,A5,A21,A20;
end;
