environ
vocabularies ORDERS_2,SUBSET_1,XXREAL_0,XBOOLE_0,TARSKI,REWRITE1,WAYBEL_0,SETFAM_1,LATTICES,LATTICE3,EQREL_1,RELAT_2,FINSET_1,ORDINAL2,YELLOW_0,ZFMISC_1,STRUCT_0,CARD_1,RELAT_1,CARD_FIL,WAYBEL_9,RCOMP_1,NATTRA_1,PRE_TOPC,T_0TOPSP,CONNSP_2,TOPS_1,FUNCT_1,YELLOW_6,SEQM_3,CLASSES2,CLASSES1,YELLOW_2,PROB_1,WAYBEL_3,ORDINAL1,CARD_3,PBOOLE,WAYBEL_5,FUNCT_6,RLVECT_2,WAYBEL_6,RLVECT_3,YELLOW_8,WAYBEL11;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,FINSET_1,RELAT_1,SETFAM_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,FUNCT_6,DOMAIN_1,NUMBERS,STRUCT_0,WAYBEL_6,PRE_TOPC,TOPS_1,TOPS_2,CANTOR_1,CONNSP_2,T_0TOPSP,TDLAT_3,PBOOLE,CLASSES1,CLASSES2,CARD_3,PRALG_1,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,YELLOW_4,WAYBEL_2,WAYBEL_3,WAYBEL_5,YELLOW_6,WAYBEL_9,YELLOW_8,CKB14,CKB15,CKB16,CKB17,CKB18,CKB22,CKB24,CKB42,CKB43,CKB44,CKB47,CKB48,CKB59,CKB75;
definitions STRUCT_0,XBOOLE_0,TARSKI,SUBSET_1,PRE_TOPC,WAYBEL_0,LATTICE3,YELLOW_0,RELAT_1,YELLOW_6,YELLOW_4,WAYBEL_1,WAYBEL_3,TOPS_2,YELLOW_8,WAYBEL_6,BINOP_1,CKB14,CKB15,CKB16,CKB22,CKB24,CKB42,CKB43,CKB44,CKB47,CKB48,CKB59,CKB75;
theorems TSP_1,WAYBEL_0,PRE_TOPC,YELLOW_0,TARSKI,SUBSET_1,TOPS_1,YELLOW_2,SETFAM_1,CONNSP_2,ZFMISC_1,RELSET_1,TDLAT_3,TEX_1,ORDERS_2,LATTICE3,YELLOW_6,WAYBEL_5,DOMAIN_1,WAYBEL_7,YELLOW_1,YELLOW_3,WAYBEL_3,FUNCT_1,FUNCT_2,YELLOW_7,PRALG_1,WAYBEL_2,CLASSES1,YELLOW_4,WAYBEL_1,RELAT_1,WAYBEL_4,YELLOW_8,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB1,CKB3,CKB4,CKB5,CKB7,CKB12,CKB13,CKB14,CKB15,CKB16,CKB22,CKB24,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB54,CKB56,CKB57,CKB58,CKB59,CKB61,CKB62,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB85,CKB86,CKB87,CKB88,CKB89,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB96,CKB97,CKB98;
schemes RELSET_1,DOMAIN_1,FRAENKEL,PBOOLE,XBOOLE_0,CKB2;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,FUNCT_2,FUNCOP_1,FINSET_1,CARD_3,CLASSES2,PBOOLE,STRUCT_0,LATTICE3,YELLOW_0,TDLAT_3,WAYBEL_0,YELLOW_1,WAYBEL_3,YELLOW_6,WAYBEL_5,WAYBEL_9,RELSET_1,TOPS_1,CARD_1,ORDINAL1,CKB6,CKB8,CKB9,CKB10,CKB11,CKB19,CKB20,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB39,CKB51,CKB52,CKB53,CKB55,CKB60,CKB63,CKB72,CKB73;
constructors DOMAIN_1,CLASSES1,CLASSES2,TOPS_1,CONNSP_2,TDLAT_3,T_0TOPSP,CANTOR_1,PRALG_1,PRALG_2,ORDERS_3,WAYBEL_1,YELLOW_4,WAYBEL_3,WAYBEL_5,WAYBEL_6,WAYBEL_9,YELLOW_8,RELSET_1,TOPS_2,WAYBEL_2,CKB14,CKB15,CKB16,CKB22,CKB42,CKB43,CKB44,CKB48,CKB59,CKB75;
requirements SUBSET,BOOLE,NUMERALS;
begin
registration
let R being  continuous  complete LATTICE;
cluster ( Scott-Convergence R ) ->  topological;
coherence
proof
set C = ( Scott-Convergence R );
thus C is  (CONSTANTS)  (SUBNETS);
thus C is  (DIVERGENCE)
proof
let X being (net of R);
let p being (Element of R);
assume that
A1: X in ( NetUniv R )
and
A2: (not [ X,p ] in C);
A3: (for x being (Element of R) holds ( waybelow x ) is non empty  directed);
reconsider p9 = p as (Element of R);
consider N being  strict (net of R) such that A4: N = X and (the carrier of N) in ( the_universe_of (the carrier of R) ) by A1,YELLOW_6:def 11;
(not p is_S-limit_of N) by A1,A2,A4,CKB44:def 1;
then (not p <= ( lim_inf X )) by A4,CKB43:def 1;
then consider u being (Element of R) such that A5: u << p9 and A6: (not u <= ( lim_inf X )) by A3,WAYBEL_3:24;
set A = { a where a is (Element of R): (not a >= u) };
X is_often_in A
proof
let i being (Element of X);
set B = { ( X . j ) where j is (Element of X): j >= i };
set C = { ( "/\" ({ ( X . k ) where k is (Element of X): k >= j },R) ) where j is (Element of X): (not contradiction) };
( "/\" (B,R) ) in C;
then ( "/\" (B,R) ) <= ( lim_inf X ) by YELLOW_2:22;
then (not u <= ( "/\" (B,R) )) by A6,YELLOW_0:def 2;
then (not u is_<=_than B) by YELLOW_0:33;
then consider b being (Element of R) such that A7: b in B and A8: (not u <= b) by LATTICE3:def 8;
consider j being (Element of X) such that A9: b = ( X . j ) and A10: j >= i by A7;
take j;
thus i <= j by A10;
thus thesis by A8,A9;
end;
then reconsider Y = ( X " A ) as (subnet of X) by YELLOW_6:22;
take Y;
reconsider UN = ( the_universe_of (the carrier of R) ) as  universal set;
A11: (ex N being  strict (net of R) st (X = N & (the carrier of N) in UN)) by A1,YELLOW_6:def 11;
( X " A ) is (SubRelStr of X) by YELLOW_6:def 6;
then (the carrier of ( X " A )) c= (the carrier of X) by YELLOW_0:def 13;
then (the carrier of Y) in UN by A11,CLASSES1:def 1;
hence Y in ( NetUniv R ) by YELLOW_6:def 11;
let Z being (subnet of Y);
assume A12: [ Z,p ] in C;
C c= [: ( NetUniv R ),(the carrier of R) :] by YELLOW_6:def 18;
then A13: Z in ( NetUniv R ) by A12,ZFMISC_1:87;
then consider ZZ being  strict (net of R) such that A14: ZZ = Z and (the carrier of ZZ) in UN by YELLOW_6:def 11;
deffunc F((Element of Z)) = ( "/\" ({ ( Z . i ) where i is (Element of Z): i >= $1 },R) );
defpred P[ set ]
 means
(not contradiction);
set D = { F(j) where j is (Element of Z): P[ j ] };
D is (Subset of R) from DOMAIN_1:sch 8;
then reconsider D as (Subset of R);
reconsider D as non empty  directed (Subset of R) by CKB67:1;
p is_S-limit_of ZZ by A12,A13,A14,CKB44:def 1;
then p <= ( lim_inf Z ) by A14,CKB43:def 1;
then consider d being (Element of R) such that A15: d in D and A16: u <= d by A5,WAYBEL_3:def 1;
consider j being (Element of Z) such that A17: d = ( "/\" ({ ( Z . k ) where k is (Element of Z): k >= j },R) ) by A15;
reconsider j9 = j as (Element of Z);
consider i being (Element of Z) such that A18: i >= j9 and i >= j9 by YELLOW_6:def 3;
consider f being (Function of Z,Y) such that A19: (the mapping of Z) = ( (the mapping of Y) * f ) and (for m being (Element of Y) holds (ex n being (Element of Z) st (for p being (Element of Z) holds (n <= p implies m <= ( f . p ))))) by YELLOW_6:def 9;
( Z . i ) in { ( Z . k ) where k is (Element of Z): k >= j } by A18;
then A20: d <= ( Z . i ) by A17,YELLOW_2:22;
( Y . ( f . i ) ) = ( Z . i ) by A19,FUNCT_2:15;
then ( Z . i ) in A by CKB74:1;
then (ex a being (Element of R) st (a = ( Z . i ) & (not a >= u)));
hence contradiction by A16,A20,YELLOW_0:def 2;
end;

thus C is  (ITERATED_LIMITS)
proof
let X being (net of R);
let p being (Element of R);
assume that
A21: [ X,p ] in C;
let J being (net_set of (the carrier of X),R);
assume that
A22: (for i being (Element of X) holds [ ( J . i ),( X . i ) ] in C);
A23: C c= [: ( NetUniv R ),(the carrier of R) :] by YELLOW_6:def 18;
then A24: X in ( NetUniv R ) by A21,ZFMISC_1:87;
(for i being (Element of X) holds ( J . i ) in ( NetUniv R ))
proof
let i being (Element of X);
[ ( J . i ),( X . i ) ] in C by A22;
hence thesis by A23,ZFMISC_1:87;
end;
then A25: ( Iterated J ) in ( NetUniv R ) by A24,YELLOW_6:25;
reconsider p9 = p as (Element of R);
set q = ( lim_inf ( Iterated J ) );
q is_>=_than ( waybelow p9 )
proof
let u being (Element of R);
assume u in ( waybelow p9 );
then A26: u << p9 by WAYBEL_3:7;
set T = TopRelStr (# (the carrier of R),(the InternalRel of R),( sigma R ) #);
A27: ( the RelStr of T ) = ( the RelStr of R );
A28: (the carrier of R) = (the carrier of ( ConvergenceSpace C )) by YELLOW_6:def 24;
then reconsider T as TopLattice by A27,CKB78:1,CKB84:1;
reconsider T as  complete TopLattice by A27,CKB97:1;
reconsider T as  continuous  complete TopLattice by A27,CKB98:1;
(the topology of T) = ( sigma T ) by A27,CKB96:1;
then reconsider T as  continuous  complete  Scott TopLattice by CKB77:1;
reconsider XX = X as (net of T);
reconsider JJ = J as (net_set of (the carrier of XX),T) by A27,CKB93:1;
reconsider uu = u,qq = q,pp = p9 as (Element of T);
set N = ( Iterated JJ );
set CC = ( Convergence T );
CC = ( Convergence ( ConvergenceSpace C ) ) by A28,CKB83:1;
then A29: C c= CC by YELLOW_6:40;
A30: uu << pp by A26,A27,CKB90:1;
A31: qq = ( lim_inf N ) by A27,CKB91:1,CKB92:1;
(for i being (Element of XX) holds [ ( JJ . i ),( XX . i ) ] in CC)
proof
let i being (Element of XX);
reconsider ii = i as (Element of X);
[ ( J . ii ),( X . ii ) ] in C by A22;
hence thesis by A29;
end;
then [ N,pp ] in CC by A21,A29,YELLOW_6:def 23;
then A32: pp in ( Lim N ) by YELLOW_6:def 19;
pp in ( wayabove uu ) by A30;
then ( wayabove uu ) is (a_neighborhood of pp) by CKB76:1,CONNSP_2:3;
then A33: N is_eventually_in ( wayabove uu ) by A32,YELLOW_6:def 15;
( wayabove uu ) c= ( uparrow uu ) by WAYBEL_3:11;
then N is_eventually_in ( uparrow uu ) by A33,WAYBEL_0:8;
hence u <= q by A27,A31,CKB1:1,CKB46:1;
end;
then ( sup ( waybelow p9 ) ) <= q by YELLOW_0:32;
then p <= q by WAYBEL_3:def 5;
then p is_S-limit_of ( Iterated J ) by CKB43:def 1;
hence thesis by A25,CKB44:def 1;
end;

end;
end;
