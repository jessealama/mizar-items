environ
vocabularies ORDERS_2,SUBSET_1,XXREAL_0,XBOOLE_0,TARSKI,REWRITE1,WAYBEL_0,SETFAM_1,LATTICES,LATTICE3,EQREL_1,RELAT_2,FINSET_1,ORDINAL2,YELLOW_0,ZFMISC_1,STRUCT_0,CARD_1,RELAT_1,CARD_FIL,WAYBEL_9,RCOMP_1,NATTRA_1,PRE_TOPC,T_0TOPSP,CONNSP_2,TOPS_1,FUNCT_1,YELLOW_6,SEQM_3,CLASSES2,CLASSES1,YELLOW_2,PROB_1,WAYBEL_3,ORDINAL1,CARD_3,PBOOLE,WAYBEL_5,FUNCT_6,RLVECT_2,WAYBEL_6,RLVECT_3,YELLOW_8,WAYBEL11;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,FINSET_1,RELAT_1,SETFAM_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,FUNCT_6,DOMAIN_1,NUMBERS,STRUCT_0,WAYBEL_6,PRE_TOPC,TOPS_1,TOPS_2,CANTOR_1,CONNSP_2,T_0TOPSP,TDLAT_3,PBOOLE,CLASSES1,CLASSES2,CARD_3,PRALG_1,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_1,YELLOW_3,YELLOW_4,WAYBEL_2,WAYBEL_3,WAYBEL_5,YELLOW_6,WAYBEL_9,YELLOW_8,CKB14,CKB15,CKB16,CKB17,CKB18,CKB22,CKB24,CKB42,CKB43,CKB44,CKB47,CKB48,CKB59;
definitions STRUCT_0,XBOOLE_0,TARSKI,SUBSET_1,PRE_TOPC,WAYBEL_0,LATTICE3,YELLOW_0,RELAT_1,YELLOW_6,YELLOW_4,WAYBEL_1,WAYBEL_3,TOPS_2,YELLOW_8,WAYBEL_6,BINOP_1,CKB14,CKB15,CKB16,CKB22,CKB24,CKB42,CKB43,CKB44,CKB47,CKB48,CKB59;
theorems TSP_1,WAYBEL_0,PRE_TOPC,YELLOW_0,TARSKI,SUBSET_1,TOPS_1,YELLOW_2,SETFAM_1,CONNSP_2,ZFMISC_1,RELSET_1,TDLAT_3,TEX_1,ORDERS_2,LATTICE3,YELLOW_6,WAYBEL_5,DOMAIN_1,WAYBEL_7,YELLOW_1,YELLOW_3,WAYBEL_3,FUNCT_1,FUNCT_2,YELLOW_7,PRALG_1,WAYBEL_2,CLASSES1,YELLOW_4,WAYBEL_1,RELAT_1,WAYBEL_4,YELLOW_8,XBOOLE_0,XBOOLE_1,PARTFUN1,CKB1,CKB3,CKB4,CKB5,CKB7,CKB12,CKB13,CKB14,CKB15,CKB16,CKB22,CKB24,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB54,CKB56,CKB57,CKB58,CKB59,CKB61,CKB62,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71;
schemes RELSET_1,DOMAIN_1,FRAENKEL,PBOOLE,XBOOLE_0,CKB2;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,FUNCT_2,FUNCOP_1,FINSET_1,CARD_3,CLASSES2,PBOOLE,STRUCT_0,LATTICE3,YELLOW_0,TDLAT_3,WAYBEL_0,YELLOW_1,WAYBEL_3,YELLOW_6,WAYBEL_5,WAYBEL_9,RELSET_1,TOPS_1,CARD_1,ORDINAL1,CKB6,CKB8,CKB9,CKB10,CKB11,CKB19,CKB20,CKB21,CKB23,CKB25,CKB26,CKB27,CKB28,CKB29,CKB39,CKB51,CKB52,CKB53,CKB55,CKB60,CKB63,CKB72;
constructors DOMAIN_1,CLASSES1,CLASSES2,TOPS_1,CONNSP_2,TDLAT_3,T_0TOPSP,CANTOR_1,PRALG_1,PRALG_2,ORDERS_3,WAYBEL_1,YELLOW_4,WAYBEL_3,WAYBEL_5,WAYBEL_6,WAYBEL_9,YELLOW_8,RELSET_1,TOPS_2,WAYBEL_2,CKB14,CKB15,CKB16,CKB22,CKB42,CKB43,CKB44,CKB48,CKB59;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve R for non  empty RelStr;
reserve N for (net of R);
registration
let R being  complete LATTICE;
cluster ( Scott-Convergence R ) ->  (SUBNETS);
coherence
proof
set S = ( Scott-Convergence R );
let N being (net of R);
let Y being (subnet of N);
A1: S c= [: ( NetUniv R ),(the carrier of R) :] by YELLOW_6:def 18;
assume A2: Y in ( NetUniv R );
then consider Y9 being  strict (net of R) such that A3: Y9 = Y and (the carrier of Y9) in ( the_universe_of (the carrier of R) ) by YELLOW_6:def 11;
let p being (Element of R);
assume A4: [ N,p ] in S;
then A5: N in ( NetUniv R ) by A1,ZFMISC_1:87;
then consider N9 being  strict (net of R) such that A6: N9 = N and (the carrier of N9) in ( the_universe_of (the carrier of R) ) by YELLOW_6:def 11;
deffunc F((Element of N)) = ( "/\" ({ ( N . i ) where i is (Element of N): i >= $1 },R) );
defpred P[ set ]
 means
(not contradiction);
reconsider X1 = { F(j) where j is (Element of N): P[ j ] } as (Subset of R) from DOMAIN_1:sch 8;
deffunc G((Element of Y)) = ( "/\" ({ ( Y . i ) where i is (Element of Y): i >= $1 },R) );
reconsider X2 = { G(j) where j is (Element of Y): P[ j ] } as (Subset of R) from DOMAIN_1:sch 8;
p is_S-limit_of N9 by A4,A5,A6,CKB44:def 1;
then A7: p <= ( lim_inf N ) by A6,CKB43:def 1;
consider f being (Function of Y,N) such that A8: (the mapping of Y) = ( (the mapping of N) * f ) and A9: (for m being (Element of N) holds (ex n being (Element of Y) st (for p being (Element of Y) holds (n <= p implies m <= ( f . p ))))) by YELLOW_6:def 9;
X1 is_finer_than X2
proof
let a being (Element of R);
assume a in X1;
then consider j being (Element of N) such that A10: a = ( "/\" ({ ( N . i ) where i is (Element of N): i >= j },R) );
reconsider j as (Element of N);
consider n being (Element of Y) such that A11: (for p being (Element of Y) holds (n <= p implies j <= ( f . p ))) by A9;
set X3 = { ( Y . i ) where i is (Element of Y): i >= n };
set X4 = { ( N . i ) where i is (Element of N): i >= j };
take b = ( "/\" (X3,R) );
thus b in X2;
X3 c= X4
proof
let u being set;
assume u in X3;
then consider m being (Element of Y) such that A12: u = ( Y . m ) and A13: m >= n;
reconsider m as (Element of Y);
A14: ( f . m ) >= j by A11,A13;
u = ( N . ( f . m ) ) by A8,A12,FUNCT_2:15;
hence thesis by A14;
end;
hence a <= b by A10,WAYBEL_7:1;
end;
then ( "\/" (X1,R) ) <= ( "\/" (X2,R) ) by CKB4:1;
then p <= ( lim_inf Y ) by A7,YELLOW_0:def 2;
then p is_S-limit_of Y9 by A3,CKB43:def 1;
hence thesis by A2,A3,CKB44:def 1;
end;
end;
