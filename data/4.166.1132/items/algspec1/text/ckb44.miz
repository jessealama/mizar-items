environ
vocabularies FUNCT_1,RELAT_1,XBOOLE_0,TARSKI,FUNCT_4,PARTFUN1,SUBSET_1,PBOOLE,STRUCT_0,MSUALG_1,MARGREL1,CATALG_1,PUA2MSS1,TREES_1,FINSEQ_1,INSTALG1,FUNCSDOM,MSUALG_6,PROB_2,CARD_3,ALGSPEC1;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,MSAFREE1,FINSEQ_1,PBOOLE,RELSET_1,PARTFUN1,FINSEQ_2,FUNCT_4,LANG1,FUNCT_2,STRUCT_0,CARD_3,MSUALG_1,PROB_2,PUA2MSS1,CIRCCOMB,MSUALG_6,INSTALG1,CATALG_1,CKB7,CKB24,CKB31,CKB39;
definitions TARSKI,FUNCT_1,PARTFUN1,STRUCT_0,MSUALG_1,CIRCCOMB,PUA2MSS1,INSTALG1,XBOOLE_0,FUNCT_2,CKB7,CKB24,CKB31,CKB39;
theorems RELAT_1,FUNCT_1,FUNCT_2,FUNCT_3,FUNCT_4,PARTFUN1,GRFUNC_1,FINSEQ_1,PBOOLE,LANG1,PUA2MSS1,FRECHET,INSTALG1,FUNCT_7,CIRCCOMB,RELSET_1,PROB_2,MSAFREE1,XBOOLE_0,XBOOLE_1,FINSEQ_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB39,CKB40,CKB41,CKB42,CKB43;
schemes FUNCT_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_2,PBOOLE,STRUCT_0,MSUALG_1,MSUALG_2,CIRCCOMB,MSUALG_6,INSTALG1,CATALG_1,RELSET_1,CKB38;
constructors MSAFREE1,CIRCCOMB,PUA2MSS1,MSUALG_6,CATALG_1,RELSET_1,CKB7,CKB24,CKB31,CKB39;
requirements SUBSET,BOOLE;
begin
reserve S for non void Signature;
reserve S9 for non void Signature;
reserve f for Function;
reserve g for Function;
theorem
Th40: (f,g form_morphism_between S,S9 implies ( S with-replacement (f,g) ) is (Subsignature of S9))
proof
set R = ( S with-replacement (f,g) );
set F = ( id (the carrier of R) );
set G = ( id (the carrier' of R) );
set f9 = ( (the carrier of S) -indexing f );
set g9 = ( (the carrier' of S) -indexing g );
A1: ( rng F ) = (the carrier of R) by RELAT_1:45;
A2: ( dom (the ResultSort of S9) ) = (the carrier' of S9) by FUNCT_2:def 1;
A3: ( dom (the ResultSort of R) ) = (the carrier' of R) by FUNCT_2:def 1;
assume A4: f,g form_morphism_between S,S9;
then ( dom f ) = (the carrier of S) by PUA2MSS1:def 12;
then A5: f9 = f by CKB11:1;
A6: f,g form_a_replacement_in S by A4,CKB34:1;
then A7: (the carrier' of R) = ( rng g9 ) by CKB39:def 1;
thus (( dom F ) = (the carrier of R) & ( dom G ) = (the carrier' of R)) by RELAT_1:45;
A8: ( rng G ) = (the carrier' of R) by RELAT_1:45;
( dom g ) = (the carrier' of S) by A4,PUA2MSS1:def 12;
then A9: g9 = g by CKB11:1;
A10: f9,g9 form_morphism_between S,R by A6,CKB39:def 1;
A11:now
let x being set;
assume A12: x in (the carrier' of R);
then consider a being set such that A13: a in ( dom g ) and A14: x = ( g . a ) by A7,A9,FUNCT_1:def 3;
reconsider a as (OperSymbol of S) by A4,A13,PUA2MSS1:def 12;
( (the ResultSort of R) * g ) = ( f * (the ResultSort of S) ) by A10,A5,A9,PUA2MSS1:def 12;
then A15: ( (the ResultSort of R) . x ) = ( ( f * (the ResultSort of S) ) . a ) by A13,A14,FUNCT_1:13;
( (the ResultSort of S9) * g ) = ( f * (the ResultSort of S) ) by A4,PUA2MSS1:def 12;
then ( (the ResultSort of S9) . x ) = ( ( f * (the ResultSort of S) ) . a ) by A13,A14,FUNCT_1:13;
hence ( (the ResultSort of R) . x ) = ( ( (the ResultSort of S9) | (the carrier' of R) ) . x ) by A12,A15,FUNCT_1:49;
end;
( rng g ) c= (the carrier' of S9) by A4,PUA2MSS1:def 12;
then ( dom ( (the ResultSort of S9) | (the carrier' of R) ) ) = (the carrier' of R) by A7,A9,A2,RELAT_1:62;
then A16: (the ResultSort of R) = ( (the ResultSort of S9) | (the carrier' of R) ) by A3,A11,FUNCT_1:2;
(the carrier of R) = ( rng f9 ) by A6,CKB39:def 1;
hence (( rng F ) c= (the carrier of S9) & ( rng G ) c= (the carrier' of S9)) by A4,A7,A5,A9,A1,A8,PUA2MSS1:def 12;
( rng (the ResultSort of R) ) c= (the carrier of R);
hence ( F * (the ResultSort of R) ) = (the ResultSort of R) by RELAT_1:53
.= ( (the ResultSort of S9) * G ) by A16,RELAT_1:65;
let o being set;
let p being Function;
assume that
A17: o in (the carrier' of R)
and
A18: p = ( (the Arity of R) . o );
consider a being set such that A19: a in ( dom g ) and A20: o = ( g . a ) by A7,A9,A17,FUNCT_1:def 3;
reconsider a as (OperSymbol of S) by A4,A19,PUA2MSS1:def 12;
A21: ( f * ( the_arity_of a ) ) = ( (the Arity of S9) . o ) by A4,A20,PUA2MSS1:def 12;
p in ( (the carrier of R) * ) by A17,A18,FUNCT_2:5;
then p is (FinSequence of (the carrier of R)) by FINSEQ_1:def 11;
then A22: ( rng p ) c= (the carrier of R) by FINSEQ_1:def 4;
( f * ( the_arity_of a ) ) = p by A10,A5,A9,A18,A20,PUA2MSS1:def 12;
hence ( F * p ) = ( (the Arity of S9) . o ) by A22,A21,RELAT_1:53
.= ( (the Arity of S9) . ( G . o ) ) by A17,FUNCT_1:18;
end;
