environ
vocabularies NUMBERS,FINSEQ_1,FUNCT_1,RELAT_1,XBOOLE_0,TARSKI,ORDINAL4,NAT_1,XXREAL_0,ARYTM_3,PRE_POLY,CARD_1,FUNCOP_1,PARTFUN1,SUBSET_1,ARYTM_1,FUNCT_4,ORDINAL1,PBOOLE,FINSET_1,ORDERS_1,VECTSP_1,ZFMISC_1,ALGSTR_0,POLYNOM2,GROUP_1,POLYNOM1,SUPINF_2,RLVECT_1,ALGSEQ_1,LATTICES,POLYNOM3,STRUCT_0,CARD_3,CARD_FIL,QUOFIELD,MSSUBFAM,IDEAL_1,PRELAMB,MCART_1,BINOP_1,FUNCT_2,HILBASIS;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,PBOOLE,RELAT_1,FINSET_1,FUNCT_1,PARTFUN1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,RELSET_1,FUNCT_2,FUNCOP_1,FINSEQ_1,FUNCT_4,BINOP_1,XXREAL_2,MCART_1,FINSEQOP,FINSEQ_2,FUNCT_7,PRE_POLY,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,VFUNCT_1,BHSP_1,GROUP_1,VECTSP_1,NORMSP_1,POLYNOM1,POLYNOM2,POLYNOM3,ALGSEQ_1,NAT_D,IDEAL_1,TOPS_2,GRCAT_1,ORDINAL1,WSIERP_1,ORDERS_1,GROUP_6,QUOFIELD,RECDEF_1,MATRLIN,CKB6,CKB9,CKB14,CKB21,CKB23;
definitions TARSKI,IDEAL_1,GRCAT_1,GROUP_6,FUNCOP_1,POLYNOM3,CARD_1,STRUCT_0,CKB6,CKB9,CKB14,CKB21,CKB23;
theorems TARSKI,ZFMISC_1,RLVECT_1,FUNCT_1,FUNCT_2,POLYNOM1,NAT_1,AXIOMS,FVSUM_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,POLYNOM3,FUNCOP_1,ALGSEQ_1,INT_1,FUNCT_7,IDEAL_1,POLYNOM4,GRCAT_1,QUOFIELD,FUNCT_4,RELAT_1,CARD_1,MATRLIN,CARD_3,ORDINAL1,WAYBEL_1,ORDERS_1,FINSET_1,FINSEQOP,POLYNOM2,TOPS_2,FINSEQ_5,GROUP_1,XBOOLE_0,XBOOLE_1,RLVECT_2,VECTSP_1,XREAL_1,GROUP_6,XXREAL_0,NORMSP_1,PARTFUN1,XXREAL_2,NAT_D,XREAL_0,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33;
schemes NAT_1,RECDEF_1,FUNCT_1,FUNCT_2,FINSEQ_2,FUNCT_7;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,CARD_1,MEMBERED,FINSEQ_1,CARD_5,PRE_CIRC,STRUCT_0,VECTSP_1,ALGSTR_1,GR_CY_1,WAYBEL_2,GCD_1,PRE_POLY,POLYNOM1,POLYNOM2,POLYNOM3,IDEAL_1,VALUED_0,ALGSTR_0,XXREAL_2,VFUNCT_1,FUNCT_2,RELSET_1,CKB17;
constructors FINSEQOP,RFUNCT_3,NAT_D,REAL_1,WSIERP_1,TOPS_2,ALGSEQ_1,BHSP_1,GRCAT_1,GROUP_6,MATRIX_2,DTCONSTR,TRIANG_1,QUOFIELD,POLYNOM2,POLYNOM3,IDEAL_1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,DOMAIN_1,BINARITH,RELSET_1,FUNCT_7,PRE_POLY,MATRLIN,VFUNCT_1,CKB6,CKB9,CKB14,CKB21,CKB23;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Th28: (for R being  add-associative  right_zeroed  right_complementable  associative  Abelian  distributive  well-unital non  trivial doubleLoopStr holds (ex P being (Function of R,( Polynom-Ring (( 0 ),R) )) st P is  RingIsomorphism))
proof
deffunc F(set) = ( ( Bags ( {} ) ) --> $1 );
let R being  add-associative  right_zeroed  right_complementable  associative  Abelian  distributive  well-unital non  trivial doubleLoopStr;
consider P being Function such that A1: ( dom P ) = (the carrier of R) and A2: (for x being set holds (x in (the carrier of R) implies ( P . x ) = F(x))) from FUNCT_1:sch 3;
now
let y being set;
hereby
assume y in ( rng P );
then consider x being set such that A3: x in (the carrier of R) and A4: y = ( P . x ) by A1,FUNCT_1:def 3;
reconsider x as (Element of R) by A3;
reconsider y9 = ( ( Bags ( {} ) ) --> x ) as (Function of ( Bags ( {} ) ),R);
( Support y9 ) is  finite by PRE_POLY:51;
then y9 is  finite-Support  finite-Support (Series of ( 0 ),R) by POLYNOM1:def 4;
then y9 in (the carrier of ( Polynom-Ring (( 0 ),R) )) by POLYNOM1:def 10;
hence y in (the carrier of ( Polynom-Ring (( 0 ),R) )) by A2,A4;
end;
assume y in (the carrier of ( Polynom-Ring (( 0 ),R) ));
then reconsider y9 = y as (Function of ( Bags ( {} ) ),R) by POLYNOM1:def 10;
A5: ( dom y9 ) = ( Bags ( {} ) ) by FUNCT_2:def 1;
then A6: ( rng y9 ) = { ( y9 . ( {} ) ) } by FUNCT_1:4,PRE_POLY:51;
then ( y9 . ( {} ) ) in ( rng y9 ) by TARSKI:def 1;
then reconsider x = ( y9 . ( {} ) ) as (Element of R);
y9 = ( ( Bags ( {} ) ) --> ( y9 . ( {} ) ) ) by A5,A6,FUNCOP_1:9;
then y = ( P . x ) by A2;
hence y in ( rng P ) by A1,FUNCT_1:def 3;
end;
then A7: ( rng P ) = (the carrier of ( Polynom-Ring (( 0 ),R) )) by TARSKI:1;
then reconsider P as (Function of R,( Polynom-Ring (( 0 ),R) )) by A1,FUNCT_2:1;
A8: ( EmptyBag ( {} ) ) = ( ( {} ) --> ( 0 ) ) by PRE_POLY:def 13;
now
let x being (Element of R);
let y being (Element of R);
reconsider Px = ( P . x ),Py = ( P . y ),Pxy = ( P . ( x + y ) ) as (Polynomial of ( 0 ),R) by POLYNOM1:def 10;
now
let z being (bag of ( 0 ));
A9: z in ( Bags ( {} ) ) by PRE_POLY:def 12;
A10: ( Py . z ) = ( ( ( Bags ( {} ) ) --> y ) . z ) by A2
.= y by A9,FUNCOP_1:7;
A11: ( Px . z ) = ( ( ( Bags ( {} ) ) --> x ) . z ) by A2
.= x by A9,FUNCOP_1:7;
( Pxy . z ) = ( ( ( Bags ( {} ) ) --> ( x + y ) ) . z ) by A2
.= ( x + y ) by A9,FUNCOP_1:7;
hence ( Pxy . z ) = ( ( Px . z ) + ( Py . z ) ) by A11,A10;
end;
then Pxy = ( Px + Py ) by POLYNOM1:16;
hence ( ( P . x ) + ( P . y ) ) = ( P . ( x + y ) ) by POLYNOM1:def 10;
end;
then A12: P is  additive by GRCAT_1:def 8;
now
let x being (Element of R);
let y being (Element of R);
reconsider Px = ( P . x ),Py = ( P . y ),Pxy = ( P . ( x * y ) ) as (Polynomial of ( 0 ),R) by POLYNOM1:def 10;
now
reconsider s = <* ( x * y ) *> as (FinSequence of (the carrier of R));
let b being (bag of ( 0 ));
take s;
A13: b in ( Bags ( {} ) ) by PRE_POLY:def 12;
thus ( Pxy . b ) = ( ( ( Bags ( {} ) ) --> ( x * y ) ) . b ) by A2
.= ( x * y ) by A13,FUNCOP_1:7
.= ( Sum s ) by RLVECT_1:44;
A14: ( decomp b ) = <* <* ( {} ),( {} ) *> *> by CKB2:1;
A15: ( len s ) = 1 by FINSEQ_1:39;
hence ( len s ) = ( len ( decomp b ) ) by A14,FINSEQ_1:39;
A16: ( len ( decomp b ) ) = 1 by A14,FINSEQ_1:39;
now
set b1 = ( {} );
set b2 = ( {} );
let k being (Element of ( NAT ));
A17: b1 in ( Bags ( {} ) ) by PRE_POLY:51,TARSKI:def 1;
then reconsider b1,b2 as (bag of ( 0 ));
A18: ( Px . b1 ) = ( ( ( Bags ( {} ) ) --> x ) . b1 ) by A2
.= x by A17,FUNCOP_1:7;
A19: ( Py . b2 ) = ( ( ( Bags ( {} ) ) --> y ) . b2 ) by A2
.= y by A17,FUNCOP_1:7;
assume A20: k in ( dom s );
then A21: (1 <= k & k <= 1) by A15,FINSEQ_3:25;
then A22: k = 1 by XXREAL_0:1;
take b1;
take b2;
k in ( dom ( decomp b ) ) by A16,A21,FINSEQ_3:25;
hence ( ( decomp b ) /. k ) = ( ( decomp b ) . 1 ) by A22,PARTFUN1:def 6
.= <* b1,b2 *> by A14,FINSEQ_1:40;
thus ( s /. k ) = ( s . 1 ) by A20,A22,PARTFUN1:def 6
.= ( ( Px . b1 ) * ( Py . b2 ) ) by A18,A19,FINSEQ_1:40;
end;
hence (for k being (Element of ( NAT )) holds (k in ( dom s ) implies (ex b1,b2 being (bag of ( 0 )) st (( ( decomp b ) /. k ) = <* b1,b2 *> & ( s /. k ) = ( ( Px . b1 ) * ( Py . b2 ) )))));
end;
then Pxy = ( Px *' Py ) by POLYNOM1:def 9;
hence ( ( P . x ) * ( P . y ) ) = ( P . ( x * y ) ) by POLYNOM1:def 10;
end;
then A23: P is  multiplicative by GROUP_6:def 6;
take P;
reconsider f0 = ( { ( {} ) } --> ( 0. R ) ),f1 = ( { ( {} ) } --> ( 1_ R ) ) as (Function of { ( {} ) },(the carrier of R));
A24: ( dom f1 ) = { ( {} ) } by FUNCT_2:def 1;
A25: ( dom f0 ) = { ( {} ) } by FUNCT_2:def 1;
then A26: ( {} ) in ( dom ( { ( {} ) } --> ( 0. R ) ) ) by TARSKI:def 1;
( 1_ ( Polynom-Ring (( 0 ),R) ) ) = ( 1_ (( 0 ),R) ) by POLYNOM1:31
.= ( ( 0_ (( 0 ),R) ) +* (( {} ),( 1_ R )) ) by A8,POLYNOM1:def 8
.= ( ( { ( {} ) } --> ( 0. R ) ) +* (( {} ),( 1_ R )) ) by POLYNOM1:def 7,PRE_POLY:51
.= ( ( { ( {} ) } --> ( 0. R ) ) +* ( ( {} ) .--> ( 1_ R ) ) ) by A26,FUNCT_7:def 3
.= ( { ( {} ) } --> ( 1_ R ) ) by A25,A24,FUNCT_4:19
.= ( P . ( 1_ R ) ) by A2,PRE_POLY:51;
then P is  unity-preserving by GROUP_1:def 13;
then A27: P is  RingHomomorphism by A12,A23,QUOFIELD:def 18;
then A28: P is  RingEpimorphism by A7,QUOFIELD:def 19;
now
let x1 being set;
let x2 being set;
assume that
A29: x1 in ( dom P )
and
A30: x2 in ( dom P );
assume ( P . x1 ) = ( P . x2 );
then ( ( Bags ( {} ) ) --> x1 ) = ( P . x2 ) by A2,A29;
then ( ( Bags ( {} ) ) --> x1 ) = ( ( Bags ( {} ) ) --> x2 ) by A2,A30;
hence x1 = x2 by FUNCT_4:6;
end;
then P is  one-to-one by FUNCT_1:def 4;
then P is  RingMonomorphism by A27,QUOFIELD:def 20;
hence thesis by A28,QUOFIELD:def 21;
end;
