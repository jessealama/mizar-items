environ
vocabularies NUMBERS,FINSEQ_1,FUNCT_1,RELAT_1,XBOOLE_0,TARSKI,ORDINAL4,NAT_1,XXREAL_0,ARYTM_3,PRE_POLY,CARD_1,FUNCOP_1,PARTFUN1,SUBSET_1,ARYTM_1,FUNCT_4,ORDINAL1,PBOOLE,FINSET_1,ORDERS_1,VECTSP_1,ZFMISC_1,ALGSTR_0,POLYNOM2,GROUP_1,POLYNOM1,SUPINF_2,RLVECT_1,ALGSEQ_1,LATTICES,POLYNOM3,STRUCT_0,CARD_3,CARD_FIL,QUOFIELD,MSSUBFAM,IDEAL_1,PRELAMB,MCART_1,BINOP_1,FUNCT_2,HILBASIS;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,PBOOLE,RELAT_1,FINSET_1,FUNCT_1,PARTFUN1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,RELSET_1,FUNCT_2,FUNCOP_1,FINSEQ_1,FUNCT_4,BINOP_1,XXREAL_2,MCART_1,FINSEQOP,FINSEQ_2,FUNCT_7,PRE_POLY,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,VFUNCT_1,BHSP_1,GROUP_1,VECTSP_1,NORMSP_1,POLYNOM1,POLYNOM2,POLYNOM3,ALGSEQ_1,NAT_D,IDEAL_1,TOPS_2,GRCAT_1,ORDINAL1,WSIERP_1,ORDERS_1,GROUP_6,QUOFIELD,RECDEF_1,MATRLIN,CKB6,CKB9,CKB14,CKB21,CKB23;
definitions TARSKI,IDEAL_1,GRCAT_1,GROUP_6,FUNCOP_1,POLYNOM3,CARD_1,STRUCT_0,CKB6,CKB9,CKB14,CKB21,CKB23;
theorems TARSKI,ZFMISC_1,RLVECT_1,FUNCT_1,FUNCT_2,POLYNOM1,NAT_1,AXIOMS,FVSUM_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,POLYNOM3,FUNCOP_1,ALGSEQ_1,INT_1,FUNCT_7,IDEAL_1,POLYNOM4,GRCAT_1,QUOFIELD,FUNCT_4,RELAT_1,CARD_1,MATRLIN,CARD_3,ORDINAL1,WAYBEL_1,ORDERS_1,FINSET_1,FINSEQOP,POLYNOM2,TOPS_2,FINSEQ_5,GROUP_1,XBOOLE_0,XBOOLE_1,RLVECT_2,VECTSP_1,XREAL_1,GROUP_6,XXREAL_0,NORMSP_1,PARTFUN1,XXREAL_2,NAT_D,XREAL_0,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34;
schemes NAT_1,RECDEF_1,FUNCT_1,FUNCT_2,FINSEQ_2,FUNCT_7;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,CARD_1,MEMBERED,FINSEQ_1,CARD_5,PRE_CIRC,STRUCT_0,VECTSP_1,ALGSTR_1,GR_CY_1,WAYBEL_2,GCD_1,PRE_POLY,POLYNOM1,POLYNOM2,POLYNOM3,IDEAL_1,VALUED_0,ALGSTR_0,XXREAL_2,VFUNCT_1,FUNCT_2,RELSET_1,CKB17;
constructors FINSEQOP,RFUNCT_3,NAT_D,REAL_1,WSIERP_1,TOPS_2,ALGSEQ_1,BHSP_1,GRCAT_1,GROUP_6,MATRIX_2,DTCONSTR,TRIANG_1,QUOFIELD,POLYNOM2,POLYNOM3,IDEAL_1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,DOMAIN_1,BINARITH,RELSET_1,FUNCT_7,PRE_POLY,MATRLIN,VFUNCT_1,CKB6,CKB9,CKB14,CKB21,CKB23;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Th29: (for R being  right_zeroed  add-associative  right_complementable  well-unital  distributive non  trivial doubleLoopStr holds (for n being (Element of ( NAT )) holds (for b being (bag of n) holds (for p1 being (Polynomial of n,R) holds (for F being (FinSequence of (the carrier of ( Polynom-Ring (n,R) ))) holds (p1 = ( Sum F ) implies (ex g being (Function of (the carrier of ( Polynom-Ring (n,R) )),(the carrier of R)) st ((for p being (Polynomial of n,R) holds ( g . p ) = ( p . b )) & ( p1 . b ) = ( Sum ( g * F ) )))))))))
proof
let R being  right_zeroed  add-associative  right_complementable  well-unital  distributive non  trivial doubleLoopStr;
let n being (Element of ( NAT ));
let b being (bag of n);
let p1 being (Polynomial of n,R);
let F being (FinSequence of (the carrier of ( Polynom-Ring (n,R) )));
assume A1: p1 = ( Sum F );
set CR = (the carrier of R);
set PNR = ( Polynom-Ring (n,R) );
set CPNR = (the carrier of PNR);
defpred P1[ (Element of CPNR),(Element of CR) ]
 means
(for p being (Polynomial of n,R) holds (p = $1 implies $2 = ( p . b )));
A2:now
let x being (Element of CPNR);
reconsider x9 = x as (Polynomial of n,R) by POLYNOM1:def 10;
P1[ x,( x9 . b ) ];
hence (ex y being (Element of CR) st P1[ x,y ]);
end;
consider g being (Function of CPNR,CR) such that A3: (for x being (Element of CPNR) holds P1[ x,( g . x ) ]) from FUNCT_2:sch 3(A2);
take g;
now
let p being (Polynomial of n,R);
reconsider p9 = p as (Element of CPNR) by POLYNOM1:def 10;
P1[ p9,( g . p9 ) ] by A3;
hence ( g . p ) = ( p . b );
end;
hence (for p being (Polynomial of n,R) holds ( g . p ) = ( p . b ));
defpred P2[ Nat ]
 means
(for F9 being (FinSequence of CPNR) holds (for p19 being (Polynomial of n,R) holds ((( len F9 ) <= $1 & p19 = ( Sum F9 )) implies ( p19 . b ) = ( Sum ( g * F9 ) ))));
A4: (for k being (Element of ( NAT )) holds (P2[ k ] implies P2[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A5: P2[ k ];
now
let F9 being (FinSequence of CPNR);
let p19 being (Polynomial of n,R);
assume that
A6: ( len F9 ) <= ( k + 1 )
and
A7: p19 = ( Sum F9 );
per cases ;
suppose ( len F9 ) < ( k + 1 );

then ( len F9 ) <= k by NAT_1:13;
hence ( p19 . b ) = ( Sum ( g * F9 ) ) by A5,A7;
end;
suppose ( len F9 ) >= ( k + 1 );

then ( len F9 ) = ( k + 1 ) by A6,XXREAL_0:1;
then consider p,q being FinSequence such that A8: ( len p ) = k and A9: ( len q ) = 1 and A10: F9 = ( p ^ q ) by FINSEQ_2:22;
( rng q ) c= ( rng F9 ) by A10,FINSEQ_1:30;
then ( rng q ) c= CPNR by XBOOLE_1:1;
then reconsider q as (FinSequence of CPNR) by FINSEQ_1:def 4;
( rng p ) c= ( rng F9 ) by A10,FINSEQ_1:29;
then ( rng p ) c= CPNR by XBOOLE_1:1;
then reconsider p as (FinSequence of CPNR) by FINSEQ_1:def 4;
A11: ( Sum F9 ) = ( ( Sum p ) + ( Sum q ) ) by A10,RLVECT_1:41;
reconsider p9 = ( Sum p ) as (Polynomial of n,R) by POLYNOM1:def 10;
A12: ( g * F9 ) = ( ( g * p ) ^ ( g * q ) ) by A10,FINSEQOP:9;
1 in ( dom q ) by A9,FINSEQ_3:25;
then ( q . 1 ) in ( rng q ) by FUNCT_1:def 3;
then reconsider q9 = ( q . 1 ) as (Element of CPNR);
reconsider q99 = q9 as (Polynomial of n,R) by POLYNOM1:def 10;
A13: q = <* q9 *> by A9,FINSEQ_1:40;
then ( g * q ) = <* ( g . q9 ) *> by FINSEQ_2:35
.= <* ( q99 . b ) *> by A3;
then A14: ( Sum ( g * q ) ) = ( q99 . b ) by RLVECT_1:44;
q9 = ( Sum q ) by A13,RLVECT_1:44;
then A15: p19 = ( p9 + q99 ) by A7,A11,POLYNOM1:def 10;
( p9 . b ) = ( Sum ( g * p ) ) by A5,A8;
hence ( p19 . b ) = ( ( Sum ( g * p ) ) + ( Sum ( g * q ) ) ) by A14,A15,POLYNOM1:15
.= ( Sum ( g * F9 ) ) by A12,RLVECT_1:41;
end;
end;
hence thesis;
end;
A16: P2[ ( 0 ) ]
proof
let F9 being (FinSequence of CPNR);
let p19 being (Polynomial of n,R);
assume that
A17: ( len F9 ) <= ( 0 )
and
A18: p19 = ( Sum F9 );
A19: F9 = ( <*> CPNR ) by A17;
then ( g * F9 ) = ( <*> CR );
then A20: ( Sum ( g * F9 ) ) = ( 0. R ) by RLVECT_1:43;
p19 = ( 0. PNR ) by A18,A19,RLVECT_1:43
.= ( 0_ (n,R) ) by POLYNOM1:def 10;
hence thesis by A20,POLYNOM1:22;
end;
(for k being (Element of ( NAT )) holds P2[ k ]) from NAT_1:sch 1(A16,A4);
then P2[ ( len F ) ];
hence thesis by A1;
end;
