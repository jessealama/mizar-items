environ
vocabularies NUMBERS,FINSEQ_1,FUNCT_1,RELAT_1,XBOOLE_0,TARSKI,ORDINAL4,NAT_1,XXREAL_0,ARYTM_3,PRE_POLY,CARD_1,FUNCOP_1,PARTFUN1,SUBSET_1,ARYTM_1,FUNCT_4,ORDINAL1,PBOOLE,FINSET_1,ORDERS_1,VECTSP_1,ZFMISC_1,ALGSTR_0,POLYNOM2,GROUP_1,POLYNOM1,SUPINF_2,RLVECT_1,ALGSEQ_1,LATTICES,POLYNOM3,STRUCT_0,CARD_3,CARD_FIL,QUOFIELD,MSSUBFAM,IDEAL_1,PRELAMB,MCART_1,BINOP_1,FUNCT_2,HILBASIS;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,PBOOLE,RELAT_1,FINSET_1,FUNCT_1,PARTFUN1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,RELSET_1,FUNCT_2,FUNCOP_1,FINSEQ_1,FUNCT_4,BINOP_1,XXREAL_2,MCART_1,FINSEQOP,FINSEQ_2,FUNCT_7,PRE_POLY,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,VFUNCT_1,BHSP_1,GROUP_1,VECTSP_1,NORMSP_1,POLYNOM1,POLYNOM2,POLYNOM3,ALGSEQ_1,NAT_D,IDEAL_1,TOPS_2,GRCAT_1,ORDINAL1,WSIERP_1,ORDERS_1,GROUP_6,QUOFIELD,RECDEF_1,MATRLIN,CKB6,CKB9,CKB14,CKB21,CKB23;
definitions TARSKI,IDEAL_1,GRCAT_1,GROUP_6,FUNCOP_1,POLYNOM3,CARD_1,STRUCT_0,CKB6,CKB9,CKB14,CKB21,CKB23;
theorems TARSKI,ZFMISC_1,RLVECT_1,FUNCT_1,FUNCT_2,POLYNOM1,NAT_1,AXIOMS,FVSUM_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,POLYNOM3,FUNCOP_1,ALGSEQ_1,INT_1,FUNCT_7,IDEAL_1,POLYNOM4,GRCAT_1,QUOFIELD,FUNCT_4,RELAT_1,CARD_1,MATRLIN,CARD_3,ORDINAL1,WAYBEL_1,ORDERS_1,FINSET_1,FINSEQOP,POLYNOM2,TOPS_2,FINSEQ_5,GROUP_1,XBOOLE_0,XBOOLE_1,RLVECT_2,VECTSP_1,XREAL_1,GROUP_6,XXREAL_0,NORMSP_1,PARTFUN1,XXREAL_2,NAT_D,XREAL_0,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29;
schemes NAT_1,RECDEF_1,FUNCT_1,FUNCT_2,FINSEQ_2,FUNCT_7;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,CARD_1,MEMBERED,FINSEQ_1,CARD_5,PRE_CIRC,STRUCT_0,VECTSP_1,ALGSTR_1,GR_CY_1,WAYBEL_2,GCD_1,PRE_POLY,POLYNOM1,POLYNOM2,POLYNOM3,IDEAL_1,VALUED_0,ALGSTR_0,XXREAL_2,VFUNCT_1,FUNCT_2,RELSET_1,CKB17;
constructors FINSEQOP,RFUNCT_3,NAT_D,REAL_1,WSIERP_1,TOPS_2,ALGSEQ_1,BHSP_1,GRCAT_1,GROUP_6,MATRIX_2,DTCONSTR,TRIANG_1,QUOFIELD,POLYNOM2,POLYNOM3,IDEAL_1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,DOMAIN_1,BINARITH,RELSET_1,FUNCT_7,PRE_POLY,MATRLIN,VFUNCT_1,CKB6,CKB9,CKB14,CKB21,CKB23;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
theorem
Th24: (for R,S being  add-associative  right_zeroed  right_complementable non  empty doubleLoopStr holds (for F being non  empty (Subset of R) holds (for G being non  empty (Subset of S) holds (for P being (Function of R,S) holds (for lc being (LinearCombination of F) holds (for LC being (LinearCombination of G) holds (for E being (FinSequence of [: (the carrier of R),(the carrier of R),(the carrier of R) :]) holds ((((P is  RingHomomorphism & ( len lc ) = ( len LC )) & E represents lc) & (for i being set holds (i in ( dom LC ) implies ( LC . i ) = ( ( ( P . ( ( E /. i ) `1 ) ) * ( P . ( ( E /. i ) `2 ) ) ) * ( P . ( ( E /. i ) `3 ) ) )))) implies ( P . ( Sum lc ) ) = ( Sum LC )))))))))
proof
let R being  add-associative  right_zeroed  right_complementable non  empty doubleLoopStr;
let S being  add-associative  right_zeroed  right_complementable non  empty doubleLoopStr;
let F being non  empty (Subset of R);
let G being non  empty (Subset of S);
let P being (Function of R,S);
let lc being (LinearCombination of F);
let LC being (LinearCombination of G);
let E being (FinSequence of [: (the carrier of R),(the carrier of R),(the carrier of R) :]);
assume that
A1: P is  RingHomomorphism
and
A2: ( len lc ) = ( len LC )
and
A3: E represents lc
and
A4: (for i being set holds (i in ( dom LC ) implies ( LC . i ) = ( ( ( P . ( ( E /. i ) `1 ) ) * ( P . ( ( E /. i ) `2 ) ) ) * ( P . ( ( E /. i ) `3 ) ) )));
defpred P[ (Element of ( NAT )) ]
 means
(for lc9 being (LinearCombination of F) holds (for LC9 being (LinearCombination of G) holds ((lc9 = ( lc | ( Seg $1 ) ) & LC9 = ( LC | ( Seg $1 ) )) implies ( P . ( Sum lc9 ) ) = ( Sum LC9 ))));
A5: P is  additive  multiplicative by A1,QUOFIELD:def 18;
A6: ( dom lc ) = ( dom LC ) by A2,FINSEQ_3:29;
A7: (for k being (Element of ( NAT )) holds (P[ k ] implies P[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A8: P[ k ];
thus P[ ( k + 1 ) ]
proof
let lc9 being (LinearCombination of F);
let LC9 being (LinearCombination of G);
assume that
A9: lc9 = ( lc | ( Seg ( k + 1 ) ) )
and
A10: LC9 = ( LC | ( Seg ( k + 1 ) ) );
per cases ;
suppose A11: ( len lc ) < ( k + 1 );

then A12: ( len lc ) <= k by NAT_1:13;
A13: lc9 = lc by A9,A11,FINSEQ_3:49
.= ( lc | ( Seg k ) ) by A12,FINSEQ_3:49;
LC9 = LC by A2,A10,A11,FINSEQ_3:49
.= ( LC | ( Seg k ) ) by A2,A12,FINSEQ_3:49;
hence thesis by A8,A13;
end;
suppose A14: ( len lc ) >= ( k + 1 );

set i = ( k + 1 );
reconsider LCk = ( LC | ( Seg k ) ) as (LinearCombination of G) by IDEAL_1:41;
reconsider lck = ( lc | ( Seg k ) ) as (LinearCombination of F) by IDEAL_1:41;
1 <= ( k + 1 ) by NAT_1:11;
then A15: ( k + 1 ) in ( dom lc ) by A14,FINSEQ_3:25;
then A16: ( lc . ( k + 1 ) ) = ( lc /. ( k + 1 ) ) by PARTFUN1:def 6;
A17: ( LC . ( k + 1 ) ) = ( LC /. ( k + 1 ) ) by A6,A15,PARTFUN1:def 6;
( lc | ( Seg ( k + 1 ) ) ) = ( lck ^ <* ( lc . ( k + 1 ) ) *> ) by A15,FINSEQ_5:10;
hence ( P . ( Sum lc9 ) ) = ( P . ( ( Sum lck ) + ( lc /. ( k + 1 ) ) ) ) by A9,A16,FVSUM_1:71
.= ( ( P . ( Sum lck ) ) + ( P . ( lc /. ( k + 1 ) ) ) ) by A5,GRCAT_1:def 8
.= ( ( Sum LCk ) + ( P . ( lc /. ( k + 1 ) ) ) ) by A8
.= ( ( Sum LCk ) + ( P . ( ( ( ( E /. i ) `1 ) * ( ( E /. i ) `2 ) ) * ( ( E /. i ) `3 ) ) ) ) by A3,A15,A16,IDEAL_1:def 11
.= ( ( Sum LCk ) + ( ( P . ( ( ( E /. i ) `1 ) * ( ( E /. i ) `2 ) ) ) * ( P . ( ( E /. i ) `3 ) ) ) ) by A5,GROUP_6:def 6
.= ( ( Sum LCk ) + ( ( ( P . ( ( E /. i ) `1 ) ) * ( P . ( ( E /. i ) `2 ) ) ) * ( P . ( ( E /. i ) `3 ) ) ) ) by A5,GROUP_6:def 6
.= ( ( Sum LCk ) + ( LC /. ( k + 1 ) ) ) by A4,A6,A15,A17
.= ( Sum ( LCk ^ <* ( LC /. ( k + 1 ) ) *> ) ) by FVSUM_1:71
.= ( Sum LC9 ) by A6,A10,A15,A17,FINSEQ_5:10;
end;
end;

end;
A18: (lc = ( lc | ( Seg ( len lc ) ) ) & LC = ( LC | ( Seg ( len LC ) ) )) by FINSEQ_3:49;
A19: P[ ( 0 ) ]
proof
let lc9 being (LinearCombination of F);
let LC9 being (LinearCombination of G);
assume that
A20: lc9 = ( lc | (( Seg ( 0 ) ) qua set) )
and
A21: LC9 = ( LC | (( Seg ( 0 ) ) qua set) );
thus ( P . ( Sum lc9 ) ) = ( P . ( Sum ( <*> (the carrier of R) ) ) ) by A20
.= ( P . ( 0. R ) ) by RLVECT_1:43
.= ( 0. S ) by A1,CKB29:1
.= ( Sum ( <*> (the carrier of S) ) ) by RLVECT_1:43
.= ( Sum LC9 ) by A21;
end;
(for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A19,A7);
hence thesis by A2,A18;
end;
