environ
vocabularies NUMBERS,FINSEQ_1,FUNCT_1,RELAT_1,XBOOLE_0,TARSKI,ORDINAL4,NAT_1,XXREAL_0,ARYTM_3,PRE_POLY,CARD_1,FUNCOP_1,PARTFUN1,SUBSET_1,ARYTM_1,FUNCT_4,ORDINAL1,PBOOLE,FINSET_1,ORDERS_1,VECTSP_1,ZFMISC_1,ALGSTR_0,POLYNOM2,GROUP_1,POLYNOM1,SUPINF_2,RLVECT_1,ALGSEQ_1,LATTICES,POLYNOM3,STRUCT_0,CARD_3,CARD_FIL,QUOFIELD,MSSUBFAM,IDEAL_1,PRELAMB,MCART_1,BINOP_1,FUNCT_2,HILBASIS;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,PBOOLE,RELAT_1,FINSET_1,FUNCT_1,PARTFUN1,CARD_1,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,RELSET_1,FUNCT_2,FUNCOP_1,FINSEQ_1,FUNCT_4,BINOP_1,XXREAL_2,MCART_1,FINSEQOP,FINSEQ_2,FUNCT_7,PRE_POLY,DOMAIN_1,STRUCT_0,ALGSTR_0,RLVECT_1,VFUNCT_1,BHSP_1,GROUP_1,VECTSP_1,NORMSP_1,POLYNOM1,POLYNOM2,POLYNOM3,ALGSEQ_1,NAT_D,IDEAL_1,TOPS_2,GRCAT_1,ORDINAL1,WSIERP_1,ORDERS_1,GROUP_6,QUOFIELD,RECDEF_1,MATRLIN,CKB6,CKB9,CKB14,CKB21,CKB23,CKB36,CKB41;
definitions TARSKI,IDEAL_1,GRCAT_1,GROUP_6,FUNCOP_1,POLYNOM3,CARD_1,STRUCT_0,CKB6,CKB9,CKB14,CKB21,CKB23,CKB36,CKB41;
theorems TARSKI,ZFMISC_1,RLVECT_1,FUNCT_1,FUNCT_2,POLYNOM1,NAT_1,AXIOMS,FVSUM_1,FINSEQ_1,FINSEQ_2,FINSEQ_3,POLYNOM3,FUNCOP_1,ALGSEQ_1,INT_1,FUNCT_7,IDEAL_1,POLYNOM4,GRCAT_1,QUOFIELD,FUNCT_4,RELAT_1,CARD_1,MATRLIN,CARD_3,ORDINAL1,WAYBEL_1,ORDERS_1,FINSET_1,FINSEQOP,POLYNOM2,TOPS_2,FINSEQ_5,GROUP_1,XBOOLE_0,XBOOLE_1,RLVECT_2,VECTSP_1,XREAL_1,GROUP_6,XXREAL_0,NORMSP_1,PARTFUN1,XXREAL_2,NAT_D,XREAL_0,PRE_POLY,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB41,CKB42,CKB43;
schemes NAT_1,RECDEF_1,FUNCT_1,FUNCT_2,FINSEQ_2,FUNCT_7;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,INT_1,CARD_1,MEMBERED,FINSEQ_1,CARD_5,PRE_CIRC,STRUCT_0,VECTSP_1,ALGSTR_1,GR_CY_1,WAYBEL_2,GCD_1,PRE_POLY,POLYNOM1,POLYNOM2,POLYNOM3,IDEAL_1,VALUED_0,ALGSTR_0,XXREAL_2,VFUNCT_1,FUNCT_2,RELSET_1,CKB17,CKB37,CKB38,CKB39,CKB40;
constructors FINSEQOP,RFUNCT_3,NAT_D,REAL_1,WSIERP_1,TOPS_2,ALGSEQ_1,BHSP_1,GRCAT_1,GROUP_6,MATRIX_2,DTCONSTR,TRIANG_1,QUOFIELD,POLYNOM2,POLYNOM3,IDEAL_1,SEQ_1,RECDEF_1,SEQ_4,XXREAL_2,DOMAIN_1,BINARITH,RELSET_1,FUNCT_7,PRE_POLY,MATRLIN,VFUNCT_1,CKB6,CKB9,CKB14,CKB21,CKB23,CKB36,CKB41;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
registration
let R being  Noetherian  Abelian  add-associative  right_zeroed  right_complementable  associative  distributive  well-unital  commutative non empty doubleLoopStr;
cluster ( Polynom-Ring R ) ->  Noetherian;
coherence
proof
set cR = (the carrier of R);
set PR = ( Polynom-Ring R );
set cPR = (the carrier of PR);
now
assume PR is non Noetherian;
then consider I being (Ideal of PR) such that A1: I is non finitely_generated by IDEAL_1:def 26;
defpred P1[ set,set,set ]
 means
($2 is non empty  finite non empty  finite (Subset of I) implies (ex A,B being non empty (Subset of cPR) st ((A = $2 & B = ( I \ ( A -Ideal ) )) & (ex r being (Element of cPR) st (r in ( minlen B ) & $3 = ( $2 \/ { r } ))))));
A2:now
let n being (Element of ( NAT ));
let x being (Subset of cPR);
per cases ;
suppose (not x is non empty  finite non empty  finite (Subset of I));

hence (ex y being (Subset of cPR) st P1[ n,x,y ]);
end;
suppose A3: x is non empty  finite non empty  finite (Subset of I);

then reconsider x9 = x as non empty (Subset of cPR);
set B = ( I \ ( x9 -Ideal ) );
now
assume B = ( {} );
then A4: I c= ( x9 -Ideal ) by XBOOLE_1:37;
( x9 -Ideal ) c= ( I -Ideal ) by A3,IDEAL_1:57;
then ( x9 -Ideal ) c= I by IDEAL_1:44;
hence contradiction by A1,A3,A4,XBOOLE_0:def 10;
end;
then reconsider B as non empty (Subset of cPR);
consider r being set such that A5: r in ( minlen B ) by XBOOLE_0:def 1;
( minlen B ) c= cPR by XBOOLE_1:1;
then reconsider r as (Element of cPR) by A5;
P1[ n,x,( x9 \/ { r } ) ] by A5;
hence (ex y being (Subset of cPR) st P1[ n,x,y ]);
end;
end;
consider F being (Function of ( NAT ),( bool cPR )) such that A6: (( F . ( 0 ) ) = { ( 0. PR ) } & (for n being (Element of ( NAT )) holds P1[ n,( F . n ),( F . ( n + 1 ) ) ])) from RECDEF_1:sch 2(A2);
defpred P2[ set,set ]
 means
(ex n being (Element of ( NAT )) st (ex A,B being non empty (Subset of cPR) st ((((A = ( F . n ) & B = ( I \ ( A -Ideal ) )) & n = $1) & ( F . ( n + 1 ) ) = ( ( F . n ) \/ { $2 } )) & $2 in ( minlen B ))));
defpred P[ (Element of ( NAT )) ]
 means
( F . $1 ) is non empty  finite non empty  finite (Subset of I);
A7:now
let n being (Element of ( NAT ));
assume P[ n ];
then reconsider Fn = ( F . n ) as non empty  finite (Subset of I);
consider A being non empty (Subset of cPR),B being non empty (Subset of cPR) such that A = Fn and A8: B = ( I \ ( A -Ideal ) ) and A9: (ex r being (Element of cPR) st (r in ( minlen B ) & ( F . ( n + 1 ) ) = ( Fn \/ { r } ))) by A6;
consider r being (Element of cPR) such that A10: r in ( minlen B ) and A11: ( F . ( n + 1 ) ) = ( Fn \/ { r } ) by A9;
r in I by A8,A10,XBOOLE_0:def 5;
then { r } c= I by ZFMISC_1:31;
hence P[ ( n + 1 ) ] by A11,XBOOLE_1:8;
end;
( F . ( 0 ) ) c= I
proof
let x being set;
assume x in ( F . ( 0 ) );
then x = ( 0. PR ) by A6,TARSKI:def 1;
hence thesis by IDEAL_1:2;
end;
then A12: P[ ( 0 ) ] by A6;
A13: (for n being (Element of ( NAT )) holds P[ n ]) from NAT_1:sch 1(A12,A7);
A14:now
let x being (Element of ( NAT ));
(ex A,B being non empty (Subset of cPR) st ((A = ( F . x ) & B = ( I \ ( A -Ideal ) )) & (ex r being (Element of cPR) st (r in ( minlen B ) & ( F . ( x + 1 ) ) = ( ( F . x ) \/ { r } ))))) by A6,A13;
hence (ex y being (Element of cPR) st P2[ x,y ]);
end;
consider f being (Function of ( NAT ),cPR) such that A15: (for x being (Element of ( NAT )) holds P2[ x,( f . x ) ]) from FUNCT_2:sch 3(A14);
A16: (for i,j being (Element of ( NAT )) holds (i <= j implies ( F . i ) c= ( F . j )))
proof
let i being (Element of ( NAT )),j being (Element of ( NAT ));
defpred P[ (Element of ( NAT )) ]
 means
( F . i ) c= ( F . ( i + $1 ) );
assume i <= j;
then consider m being Nat such that A17: j = ( i + m ) by NAT_1:10;
A18: (for m being (Element of ( NAT )) holds (P[ m ] implies P[ ( m + 1 ) ]))
proof
let m being (Element of ( NAT ));
(ex A,B being non empty (Subset of cPR) st ((A = ( F . ( i + m ) ) & B = ( I \ ( A -Ideal ) )) & (ex r being (Element of cPR) st (r in ( minlen B ) & ( F . ( ( i + m ) + 1 ) ) = ( ( F . ( i + m ) ) \/ { r } ))))) by A6,A13;
then A19: ( F . ( i + m ) ) c= ( F . ( ( i + m ) + 1 ) ) by XBOOLE_1:7;
assume ( F . i ) c= ( F . ( i + m ) );
hence thesis by A19,XBOOLE_1:1;
end;
A20: P[ ( 0 ) ];
A21: (for m being (Element of ( NAT )) holds P[ m ]) from NAT_1:sch 1(A20,A18);
m in ( NAT ) by ORDINAL1:def 12;
hence thesis by A17,A21;
end;
A22: (for i being (Element of ( NAT )) holds ( f . i ) <> ( 0. PR ))
proof
let i being (Element of ( NAT ));
consider n being (Element of ( NAT )),A being non empty (Subset of cPR),B being non empty (Subset of cPR) such that A23: A = ( F . n ) and A24: B = ( I \ ( A -Ideal ) ) and n = i and ( F . ( n + 1 ) ) = ( ( F . n ) \/ { ( f . i ) } ) and A25: ( f . i ) in ( minlen B ) by A15;
( F . n ) c= ( A -Ideal ) by A23,IDEAL_1:def 14;
then A26: (not ( f . i ) in ( F . n )) by A24,A25,XBOOLE_0:def 5;
(( F . ( 0 ) ) c= ( F . n ) & ( 0. PR ) in ( F . ( 0 ) )) by A6,A16,TARSKI:def 1;
hence thesis by A26;
end;
A27:now
let i being (Element of ( NAT ));
let fi being (Polynomial of R);
assume fi = ( f . i );
then fi <> ( 0. PR ) by A22;
then fi <> ( 0_. R ) by POLYNOM3:def 10;
then ( len fi ) <> ( 0 ) by POLYNOM4:5;
then ( len fi ) >= ( ( 0 ) + 1 ) by NAT_1:13;
hence ( ( len fi ) - 1 ) >= ( 0 ) by XREAL_1:19;
end;
defpred P3[ set,set ]
 means
(ex n being (Element of ( NAT )) st (ex A being (Polynomial of R) st ((n = $1 & A = ( f . n )) & $2 = ( A . ( ( len A ) -' 1 ) ))));
A28:now
let x being (Element of ( NAT ));
reconsider fx = ( f . x ) as (Polynomial of R) by POLYNOM3:def 10;
( fx . ( ( len fx ) -' 1 ) ) is (Element of cR);
hence (ex y being (Element of cR) st P3[ x,y ]);
end;
consider a being (Function of ( NAT ),cR) such that A29: (for x being (Element of ( NAT )) holds P3[ x,( a . x ) ]) from FUNCT_2:sch 3(A28);
reconsider a as (sequence of R);
(for B being non empty (Subset of cR) holds (ex C being non empty  finite (Subset of cR) st (C c= B & ( C -Ideal ) = ( B -Ideal )))) by IDEAL_1:96;
then consider m being (Element of ( NAT )) such that A30: ( a . ( m + 1 ) ) in ( ( rng ( a | ( m + 1 ) ) ) -Ideal ) by IDEAL_1:97;
reconsider fm1 = ( f . ( m + 1 ) ) as (Polynomial of R) by POLYNOM3:def 10;
defpred P4[ set,set ]
 means
((ex u,v,w being (Element of cR) st ($1 = ( ( u * v ) * w ) & v in ( rng ( a | ( Segm ( m + 1 ) ) ) ))) implies (ex x,y,z being (Element of cPR) st (ex p being (Polynomial of R) st (((($2 = p & p = ( ( x * y ) * z )) & $1 = ( p . ( ( len fm1 ) -' 1 ) )) & ( len p ) <= ( len fm1 )) & y in ( F . ( m + 1 ) )))));
A31: (ex n being (Element of ( NAT )) st (ex A,B being non empty (Subset of cPR) st ((((A = ( F . n ) & B = ( I \ ( A -Ideal ) )) & n = ( m + 1 )) & ( F . ( n + 1 ) ) = ( ( F . n ) \/ { ( f . ( m + 1 ) ) } )) & ( f . ( m + 1 ) ) in ( minlen B )))) by A15;
A32: (for i,j being (Element of ( NAT )) holds (for fi,fj being (Polynomial of R) holds (((i <= j & fi = ( f . i )) & fj = ( f . j )) implies ( len fi ) <= ( len fj ))))
proof
let i being (Element of ( NAT )),j being (Element of ( NAT ));
let fi being (Polynomial of R),fj being (Polynomial of R);
assume that
A33: i <= j
and
A34: fi = ( f . i )
and
A35: fj = ( f . j );
consider k being Nat such that A36: j = ( i + k ) by A33,NAT_1:10;
defpred P[ (Element of ( NAT )) ]
 means
(for fk being (Polynomial of R) holds (fk = ( f . ( i + $1 ) ) implies ( len fi ) <= ( len fk )));
A37:now
let k being (Element of ( NAT ));
assume A38: P[ k ];
now
reconsider fk = ( f . ( i + k ) ) as (Polynomial of R) by POLYNOM3:def 10;
let fk1 being (Polynomial of R);
A39: ( len fi ) <= ( len fk ) by A38;
consider n being (Element of ( NAT )),A being non empty (Subset of cPR),B being non empty (Subset of cPR) such that A40: A = ( F . n ) and A41: B = ( I \ ( A -Ideal ) ) and A42: n = ( i + k ) and ( F . ( n + 1 ) ) = ( ( F . n ) \/ { ( f . ( i + k ) ) } ) and A43: ( f . ( i + k ) ) in ( minlen B ) by A15;
consider n9 being (Element of ( NAT )),A9 being non empty (Subset of cPR),B9 being non empty (Subset of cPR) such that A44: A9 = ( F . n9 ) and A45: B9 = ( I \ ( A9 -Ideal ) ) and A46: n9 = ( i + ( k + 1 ) ) and ( F . ( n9 + 1 ) ) = ( ( F . n9 ) \/ { ( f . ( i + ( k + 1 ) ) ) } ) and A47: ( f . ( i + ( k + 1 ) ) ) in ( minlen B9 ) by A15;
A48: ( f . ( i + ( k + 1 ) ) ) in I by A45,A47,XBOOLE_0:def 5;
( i + ( k + 1 ) ) = ( ( i + k ) + 1 );
then ( i + k ) < ( i + ( k + 1 ) ) by NAT_1:13;
then ( A -Ideal ) c= ( A9 -Ideal ) by A16,A40,A42,A44,A46,IDEAL_1:57;
then (not ( f . ( i + ( k + 1 ) ) ) in ( A -Ideal )) by A45,A47,XBOOLE_0:def 5;
then A49: ( f . ( i + ( k + 1 ) ) ) in B by A41,A48,XBOOLE_0:def 5;
assume fk1 = ( f . ( i + ( k + 1 ) ) );
then ( len fk ) <= ( len fk1 ) by A43,A49,CKB22:1;
hence ( len fi ) <= ( len fk1 ) by A39,XXREAL_0:2;
end;
hence P[ ( k + 1 ) ];
end;
A50: P[ ( 0 ) ] by A34;
A51: (for k being (Element of ( NAT )) holds P[ k ]) from NAT_1:sch 1(A50,A37);
k in ( NAT ) by ORDINAL1:def 12;
hence thesis by A35,A36,A51;
end;
A52: (for e being set holds (e in cR implies (ex d being set st (d in cPR & P4[ e,d ]))))
proof
let e being set;
assume e in cR;
per cases ;
suppose (ex u,v,w being (Element of cR) st (e = ( ( u * v ) * w ) & v in ( rng ( a | ( Segm ( m + 1 ) ) ) )));

then consider u being (Element of cR),b9 being (Element of cR),w being (Element of cR) such that A53: e = ( ( u * b9 ) * w ) and A54: b9 in ( rng ( a | ( Segm ( m + 1 ) ) ) );
consider n being set such that A55: n in ( dom ( a | ( Segm ( m + 1 ) ) ) ) and A56: b9 = ( ( a | ( Segm ( m + 1 ) ) ) . n ) by A54,FUNCT_1:def 3;
set c9 = w;
set a9 = u;
set z9 = ( monomial (c9,( 0 )) );
A57: ( ( len fm1 ) -' 1 ) = ( ( ( len fm1 ) -' 1 ) + ( 0 ) );
reconsider n as (Element of ( NAT )) by A55;
set y = ( f . n );
reconsider y9 = y as (Polynomial of R) by POLYNOM3:def 10;
set x9 = ( monomial (a9,( ( len fm1 ) -' ( len y9 ) )) );
( dom ( a | ( Segm ( m + 1 ) ) ) ) = ( ( dom a ) /\ ( Segm ( m + 1 ) ) ) by RELAT_1:61
.= ( ( NAT ) /\ ( Segm ( m + 1 ) ) ) by FUNCT_2:def 1
.= ( Segm ( m + 1 ) ) by XBOOLE_1:28;
then A58: n < ( m + 1 ) by A55,NAT_1:44;
then ( len y9 ) <= ( len fm1 ) by A32;
then ( ( len y9 ) - ( len y9 ) ) <= ( ( len fm1 ) - ( len y9 ) ) by XREAL_1:9;
then A59: ( ( len fm1 ) -' ( len y9 ) ) = ( ( len fm1 ) - ( len y9 ) ) by XREAL_0:def 2;
then ( len x9 ) <= ( ( ( len fm1 ) - ( len y9 ) ) + 1 ) by CKB24:1;
then A60: ( ( len x9 ) + ( ( len y9 ) - 1 ) ) <= ( ( ( len fm1 ) - ( ( len y9 ) - 1 ) ) + ( ( len y9 ) - 1 ) ) by XREAL_1:6;
A61: ( len ( x9 *' y9 ) ) <= ( ( ( len x9 ) + ( len y9 ) ) -' 1 ) by CKB27:1;
A62: ( ( len y9 ) - 1 ) >= ( 0 ) by A27;
then ( ( 0 ) + ( 0 ) ) <= ( ( ( len y9 ) - 1 ) + ( len x9 ) );
then ( len ( x9 *' y9 ) ) <= ( ( ( len x9 ) + ( len y9 ) ) - 1 ) by A61,XREAL_0:def 2;
then A63: ( len ( x9 *' y9 ) ) <= ( len fm1 ) by A60,XXREAL_0:2;
( ( len fm1 ) - 1 ) >= ( 0 ) by A27;
then A64: ( ( len fm1 ) -' 1 ) = ( ( ( len fm1 ) - ( len y9 ) ) + ( ( len y9 ) - 1 ) ) by XREAL_0:def 2
.= ( ( ( len y9 ) -' 1 ) + ( ( len fm1 ) -' ( len y9 ) ) ) by A59,A62,XREAL_0:def 2;
reconsider x = x9,z = z9 as (Element of cPR) by POLYNOM3:def 10;
set p = ( ( x * y ) * z );
A65: ( x * y ) = ( x9 *' y9 ) by POLYNOM3:def 10;
then A66: p = ( ( x9 *' y9 ) *' z9 ) by POLYNOM3:def 10;
reconsider p as (Polynomial of R) by POLYNOM3:def 10;
A67: (ex n9 being (Element of ( NAT )) st (ex A being (Polynomial of R) st ((n9 = n & A = ( f . n9 )) & ( a . n ) = ( A . ( ( len A ) -' 1 ) )))) by A29;
b9 = ( a . n ) by A55,A56,FUNCT_1:47;
then ( ( x9 *' y9 ) . ( ( len fm1 ) -' 1 ) ) = ( a9 * b9 ) by A67,A64,CKB25:1;
then A68: ( ( a9 * b9 ) * c9 ) = ( p . ( ( len fm1 ) -' 1 ) ) by A66,A57,CKB26:1;
(ex n9 being (Element of ( NAT )) st (ex A,B being non empty (Subset of cPR) st ((((A = ( F . n9 ) & B = ( I \ ( A -Ideal ) )) & n9 = n) & ( F . ( n9 + 1 ) ) = ( ( F . n9 ) \/ { ( f . n ) } )) & ( f . n ) in ( minlen B )))) by A15;
then { y } c= ( F . ( n + 1 ) ) by XBOOLE_1:7;
then A69: y in ( F . ( n + 1 ) ) by ZFMISC_1:31;
( len z9 ) <= ( ( 0 ) + 1 ) by CKB24:1;
then ( ( len ( x9 *' y9 ) ) + ( len z9 ) ) <= ( ( len fm1 ) + 1 ) by A63,XREAL_1:7;
then A70: ( ( ( len ( x9 *' y9 ) ) + ( len z9 ) ) -' 1 ) <= ( ( ( len fm1 ) + 1 ) -' 1 ) by NAT_D:42;
( len ( ( x9 *' y9 ) *' z9 ) ) <= ( ( ( len ( x9 *' y9 ) ) + ( len z9 ) ) -' 1 ) by CKB27:1;
then ( len ( ( x9 *' y9 ) *' z9 ) ) <= ( ( ( len fm1 ) + 1 ) -' 1 ) by A70,XXREAL_0:2;
then ( len ( ( x9 *' y9 ) *' z9 ) ) <= ( ( ( len fm1 ) + 1 ) - 1 ) by XREAL_0:def 2;
then A71: ( len p ) <= ( ( len fm1 ) + ( 0 ) ) by A65,POLYNOM3:def 10;
( n + 1 ) <= ( m + 1 ) by A58,NAT_1:13;
then ( F . ( n + 1 ) ) c= ( F . ( m + 1 ) ) by A16;
hence thesis by A53,A68,A71,A69;
end;
suppose (not (ex u,v,w being (Element of cR) st (e = ( ( u * v ) * w ) & v in ( rng ( a | ( Segm ( m + 1 ) ) ) ))));

hence thesis;
end;
end;
consider LCT being (Function of cR,cPR) such that A72: (for e being set holds (e in cR implies P4[ e,( LCT . e ) ])) from FUNCT_2:sch 1(A52);
reconsider FM1 = ( F . ( m + 1 ) ) as non empty (Subset of cPR) by A13;
set raSm1 = ( rng ( a | ( Segm ( m + 1 ) ) ) );
consider lc being (LinearCombination of ( rng ( a | ( Segm ( m + 1 ) ) ) )) such that A73: ( a . ( m + 1 ) ) = ( Sum lc ) by A30,IDEAL_1:60;
A74: (for lc being (LinearCombination of raSm1) holds (ex LC being (LinearCombination of FM1) st (LC = ( LCT * lc ) & ( len lc ) = ( len LC ))))
proof
let lc being (LinearCombination of raSm1);
set LC = ( LCT * lc );
( dom LCT ) = cR by FUNCT_2:def 1;
then ( rng lc ) c= ( dom LCT );
then A75: ( dom lc ) = ( dom ( LCT * lc ) ) by RELAT_1:27;
then A76: ( len lc ) = ( len LC ) by FINSEQ_3:29;
LC is (LinearCombination of FM1)
proof
let i being set;
assume that
A77: i in ( dom LC );
consider u being (Element of R),v being (Element of R),a being (Element of raSm1) such that A78: ( lc /. i ) = ( ( u * a ) * v ) by A75,A77,IDEAL_1:def 8;
A79: ( lc /. i ) = ( lc . i ) by A75,A77,PARTFUN1:def 6;
consider x being (Element of cPR),y being (Element of cPR),z being (Element of cPR),p being (Polynomial of R) such that A80: (( LCT . ( lc /. i ) ) = p & p = ( ( x * y ) * z )) and ( ( u * a ) * v ) = ( p . ( ( len fm1 ) -' 1 ) ) and ( len p ) <= ( len fm1 ) and A81: y in ( F . ( m + 1 ) ) by A72,A78;
reconsider y as (Element of FM1) by A81;
reconsider x,z as (Element of PR);
( LC /. i ) = ( ( LCT * lc ) . i ) by A77,PARTFUN1:def 6
.= ( ( x * y ) * z ) by A75,A77,A79,A80,FUNCT_1:13;
hence (ex x,z being (Element of PR) st (ex y being (Element of FM1) st ( LC /. i ) = ( ( x * y ) * z )));
end;
then reconsider LC as (LinearCombination of FM1);
LC = LC;
hence thesis by A76;
end;
(for lc being (LinearCombination of raSm1) holds (ex LC being (LinearCombination of FM1) st (ex sLC being (Polynomial of R) st (((LC = ( LCT * lc ) & sLC = ( Sum LC )) & ( sLC . ( ( len fm1 ) -' 1 ) ) = ( Sum lc )) & ( len sLC ) <= ( len fm1 )))))
proof
let lc being (LinearCombination of raSm1);
defpred P5[ (Element of ( NAT )) ]
 means
(for lc being (LinearCombination of raSm1) holds (( len lc ) <= $1 implies (ex LC being (LinearCombination of FM1) st (ex sLC being (Polynomial of R) st (((LC = ( LCT * lc ) & sLC = ( Sum LC )) & ( sLC . ( ( len fm1 ) -' 1 ) ) = ( Sum lc )) & ( len sLC ) <= ( len fm1 ))))));
A82: (ex n being (Element of ( NAT )) st n = ( len lc ));
A83: (for k being (Element of ( NAT )) holds (P5[ k ] implies P5[ ( k + 1 ) ]))
proof
let k being (Element of ( NAT ));
assume A84: P5[ k ];
thus P5[ ( k + 1 ) ]
proof
let lc being (LinearCombination of raSm1);
assume A85: ( len lc ) <= ( k + 1 );
per cases ;
suppose ( len lc ) <= k;

hence thesis by A84;
end;
suppose A86: ( len lc ) > k;

then ( len lc ) >= ( k + 1 ) by NAT_1:13;
then A87: ( len lc ) = ( k + 1 ) by A85,XXREAL_0:1;
thus thesis
proof
per cases ;
suppose A88: k = ( 0 );

then ( dom lc ) = { 1 } by A87,FINSEQ_1:2,FINSEQ_1:def 3;
then A89: 1 in ( dom lc ) by TARSKI:def 1;
then consider u being (Element of R),w being (Element of R),v being (Element of raSm1) such that A90: ( lc /. 1 ) = ( ( u * v ) * w ) by IDEAL_1:def 8;
A91: ( lc . 1 ) = ( lc /. 1 ) by A89,PARTFUN1:def 6;
then consider x being (Element of cPR),y being (Element of cPR),z being (Element of cPR),p being (Polynomial of R) such that A92: ( LCT . ( lc . 1 ) ) = p and p = ( ( x * y ) * z ) and A93: ( ( u * v ) * w ) = ( p . ( ( len fm1 ) -' 1 ) ) and A94: ( len p ) <= ( len fm1 ) and y in ( F . ( m + 1 ) ) by A72,A90;
A95: lc = <* ( lc . 1 ) *> by A87,A88,FINSEQ_1:40;
then A96: ( Sum lc ) = ( p . ( ( len fm1 ) -' 1 ) ) by A90,A91,A93,RLVECT_1:44;
consider LC being (LinearCombination of FM1) such that A97: LC = ( LCT * lc ) and ( len LC ) = ( len lc ) by A74;
LC = <* ( LCT . ( ( u * v ) * w ) ) *> by A95,A90,A91,A97,FINSEQ_2:35;
then ( Sum LC ) = p by A90,A91,A92,RLVECT_1:44;
hence thesis by A94,A97,A96;
end;
suppose A98: k > ( 0 );

consider LC being (LinearCombination of FM1) such that A99: LC = ( LCT * lc ) and ( len LC ) = ( len lc ) by A74;
lc is non empty by A86;
then consider p being (LinearCombination of raSm1),e being (Element of cR) such that A100: lc = ( p ^ <* e *> ) and A101: <* e *> is (LinearCombination of raSm1) by IDEAL_1:32;
( len <* e *> ) = ( ( 0 ) + 1 ) by FINSEQ_1:39;
then ( len <* e *> ) <= k by A98,NAT_1:13;
then consider LCe being (LinearCombination of FM1),sLCe being (Polynomial of R) such that A102: LCe = ( LCT * <* e *> ) and A103: sLCe = ( Sum LCe ) and A104: ( sLCe . ( ( len fm1 ) -' 1 ) ) = ( Sum <* e *> ) and A105: ( len sLCe ) <= ( len fm1 ) by A84,A101;
( len lc ) = ( ( len p ) + ( len <* e *> ) ) by A100,FINSEQ_1:22
.= ( ( len p ) + 1 ) by FINSEQ_1:39;
then consider LCp being (LinearCombination of FM1),sLCp being (Polynomial of R) such that A106: LCp = ( LCT * p ) and A107: sLCp = ( Sum LCp ) and A108: ( sLCp . ( ( len fm1 ) -' 1 ) ) = ( Sum p ) and A109: ( len sLCp ) <= ( len fm1 ) by A84,A87;
set sLC = ( sLCp + sLCe );
A110: ( Sum lc ) = ( ( Sum p ) + e ) by A100,FVSUM_1:71
.= ( ( sLCp . ( ( len fm1 ) -' 1 ) ) + ( sLCe . ( ( len fm1 ) -' 1 ) ) ) by A108,A104,RLVECT_1:44
.= ( sLC . ( ( len fm1 ) -' 1 ) ) by NORMSP_1:def 2;
A111:now
per cases ;
suppose ( len sLCp ) < ( len sLCe );

then ( len sLC ) <= ( len sLCe ) by POLYNOM4:6;
hence ( len sLC ) <= ( len fm1 ) by A105,XXREAL_0:2;
end;
suppose ( len sLCp ) >= ( len sLCe );

then ( len sLC ) <= ( len sLCp ) by POLYNOM4:6;
hence ( len sLC ) <= ( len fm1 ) by A109,XXREAL_0:2;
end;
end;
( dom LCT ) = cR by FUNCT_2:def 1;
then ( ( rng p ) \/ ( rng <* e *> ) ) c= ( dom LCT );
then (ex LCTp,LCTe being FinSequence st ((LCTp = ( LCT * p ) & LCTe = ( LCT * <* e *> )) & ( LCT * ( p ^ <* e *> ) ) = ( LCTp ^ LCTe ))) by CKB1:1;
then ( Sum LC ) = ( ( Sum LCp ) + ( Sum LCe ) ) by A100,A106,A102,A99,RLVECT_1:41
.= sLC by A107,A103,POLYNOM3:def 10;
hence thesis by A99,A110,A111;
end;
end;

end;
end;

end;
A112: P5[ ( 0 ) ]
proof
let lc being (LinearCombination of raSm1);
assume A113: ( len lc ) <= ( 0 );
then A114: lc = ( <*> cR );
consider LC being (LinearCombination of FM1) such that A115: LC = ( LCT * lc ) and A116: ( len lc ) = ( len LC ) by A74;
take LC;
take p = ( 0_. R );
thus LC = ( LCT * lc ) by A115;
LC = ( <*> cPR ) by A113,A116;
then ( Sum LC ) = ( 0. PR ) by RLVECT_1:43
.= p by POLYNOM3:def 10;
hence p = ( Sum LC );
thus ( p . ( ( len fm1 ) -' 1 ) ) = ( 0. R ) by FUNCOP_1:7
.= ( Sum lc ) by A114,RLVECT_1:43;
thus thesis by POLYNOM4:3;
end;
(for k being (Element of ( NAT )) holds P5[ k ]) from NAT_1:sch 1(A112,A83);
hence thesis by A82;
end;
then consider LC being (LinearCombination of FM1),sLC being (Polynomial of R) such that LC = ( LCT * lc ) and A117: sLC = ( Sum LC ) and A118: ( sLC . ( ( len fm1 ) -' 1 ) ) = ( Sum lc ) and A119: ( len sLC ) <= ( len fm1 );
A120: sLC in ( FM1 -Ideal ) by A117,IDEAL_1:60;
set f9 = ( fm1 - sLC );
A121:now
(ex n being (Element of ( NAT )) st (ex A being (Polynomial of R) st ((n = ( m + 1 ) & A = ( f . n )) & ( a . ( m + 1 ) ) = ( A . ( ( len A ) -' 1 ) )))) by A29;
then A122: ( f9 . ( ( len fm1 ) -' 1 ) ) = ( ( fm1 . ( ( len fm1 ) -' 1 ) ) - ( fm1 . ( ( len fm1 ) -' 1 ) ) ) by A73,A118,POLYNOM3:27
.= ( 0. R ) by RLVECT_1:15;
( ( len fm1 ) - 1 ) >= ( 0 ) by A27;
then A123: ( ( ( len fm1 ) -' 1 ) + 1 ) = ( ( ( len fm1 ) - 1 ) + 1 ) by XREAL_0:def 2
.= ( len fm1 );
assume ( len f9 ) = ( len fm1 );
hence contradiction by A123,A122,ALGSEQ_1:10;
end;
A124: ( f9 + sLC ) = ( fm1 + ( sLC + ( - sLC ) ) ) by POLYNOM3:26
.= ( fm1 + ( sLC - sLC ) )
.= ( fm1 + ( 0_. R ) ) by POLYNOM3:29
.= fm1 by POLYNOM3:28;
A125:now
reconsider sLC as (Element of cPR) by POLYNOM3:def 10;
assume A126: f9 in ( FM1 -Ideal );
reconsider f9 as (Element of cPR) by POLYNOM3:def 10;
( f . ( m + 1 ) ) = ( f9 + sLC ) by A124,POLYNOM3:def 10;
then fm1 in ( FM1 -Ideal ) by A120,A126,IDEAL_1:def 1;
hence contradiction by A31,XBOOLE_0:def 5;
end;
( len ( - sLC ) ) <= ( len fm1 ) by A119,POLYNOM4:8;
then ( len f9 ) <= ( len fm1 ) by POLYNOM4:6;
then A127: ( len f9 ) < ( len fm1 ) by A121,XXREAL_0:1;
f9 in I
proof
reconsider f9 as (Element of cPR) by POLYNOM3:def 10;
reconsider sLC as (Element of cPR) by POLYNOM3:def 10;
FM1 is (Subset of I) by A13;
then ( FM1 -Ideal ) c= ( I -Ideal ) by IDEAL_1:57;
then A128: ( FM1 -Ideal ) c= I by IDEAL_1:44;
(( f . ( m + 1 ) ) in I & f9 = ( ( f . ( m + 1 ) ) - sLC )) by A31,CKB20:1,XBOOLE_0:def 5;
hence thesis by A120,A128,IDEAL_1:15;
end;
then f9 in ( I \ ( FM1 -Ideal ) ) by A125,XBOOLE_0:def 5;
hence contradiction by A127,A31,CKB22:1;
end;
hence thesis;
end;
end;
