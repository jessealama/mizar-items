environ
vocabularies NUMBERS,AMI_3,SUBSET_1,AMI_2,AMI_1,STRUCT_0,XBOOLE_0,FSM_1,RELAT_1,FUNCT_1,TARSKI,FINSET_1,CARD_1,XXREAL_0,PBOOLE,FINSEQ_1,GRAPHSP,ARYTM_3,ARYTM_1,INT_1,FUNCT_4,FUNCOP_1,CIRCUIT2,ORDINAL1,PARTFUN1,SCMNORM,RECDEF_2,CAT_1,AMISTD_5,COMPOS_1;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,XCMPLX_0,MCART_1,DOMAIN_1,PBOOLE,RELAT_1,FUNCT_1,FUNCOP_1,PARTFUN1,FUNCT_4,NUMBERS,INT_1,NAT_1,RECDEF_2,STRUCT_0,FINSET_1,FINSEQ_1,MEMSTR_0,COMPOS_1,EXTPRO_1,AMI_2,AMI_3,XXREAL_0,AMISTD_5;
definitions TARSKI,EXTPRO_1,AMI_3,FUNCOP_1,CARD_1,AMI_2,RELAT_1,FUNCT_1,COMPOS_1,AMISTD_5,MEMSTR_0;
theorems AMI_3,GRFUNC_1,TARSKI,FUNCOP_1,FUNCT_4,MEMSTR_0,FUNCT_1,ZFMISC_1,ENUMSET1,RELAT_1,XBOOLE_0,XBOOLE_1,PBOOLE,PARTFUN1,RECDEF_2,COMPOS_1,EXTPRO_1,AMISTD_5,NAT_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
registrations XBOOLE_0,SETFAM_1,RELAT_1,FUNCT_1,ORDINAL1,NUMBERS,XREAL_0,INT_1,CARD_3,AMI_2,AMI_3,FINSET_1,CARD_1,RELSET_1,FUNCT_2,COMPOS_1,EXTPRO_1,AMISTD_5,PBOOLE,FUNCT_4,FUNCOP_1,MEMSTR_0,CKB5;
constructors DOMAIN_1,XXREAL_0,FINSEQ_4,AMI_3,AMI_2,NUMBERS,PRE_POLY,RECDEF_2,AMISTD_2,AMISTD_5,AMISTD_1,PBOOLE,FUNCT_7,FUNCOP_1,MEMSTR_0,RELSET_1;
requirements NUMERALS,REAL,SUBSET,BOOLE,ARITHM;
begin
registration
cluster ( SCM ) ->  IC-recognized;
coherence
proof
(for q being non  halt-free  finite (the Instructions of ( SCM )) -valued ( NAT ) -defined Function holds (for p being q -autonomic (FinPartState of ( SCM )) holds (( DataPart p ) <> ( {} ) implies ( IC ( SCM ) ) in ( dom p ))))
proof
let q being non  halt-free  finite (the Instructions of ( SCM )) -valued ( NAT ) -defined Function;
let p being q -autonomic (FinPartState of ( SCM ));
assume ( DataPart p ) <> ( {} );
then A1: ( dom ( DataPart p ) ) <> ( {} );
assume A2: (not ( IC ( SCM ) ) in ( dom p ));
then ( dom p ) misses { ( IC ( SCM ) ) } by ZFMISC_1:50;
then A3: ( ( dom p ) /\ { ( IC ( SCM ) ) } ) = ( {} ) by XBOOLE_0:def 7;
(not p is q -autonomic)
proof
set il = the (Element of ( ( NAT ) \ ( dom q ) ));
set d2 = the (Element of ( ( Data-Locations ( SCM ) ) \ ( dom p ) ));
set d1 = the (Element of ( dom ( DataPart p ) ));
A4: d1 in ( dom ( DataPart p ) ) by A1;
( DataPart p ) c= p by MEMSTR_0:12;
then B5: ( dom ( DataPart p ) ) c= ( dom p ) by RELAT_1:11;
( dom ( DataPart p ) ) c= (the carrier of ( SCM )) by RELAT_1:def 18;
then reconsider d1 as (Element of ( SCM )) by A4;
(not ( Data-Locations ( SCM ) ) c= ( dom p ));
then A6: ( ( Data-Locations ( SCM ) ) \ ( dom p ) ) <> ( {} ) by XBOOLE_1:37;
then d2 in ( Data-Locations ( SCM ) ) by XBOOLE_0:def 5;
then reconsider d2 as Data-Location by AMI_3:27,AMI_3:def 2;
A7: (not d2 in ( dom p )) by A6,XBOOLE_0:def 5;
then B8: ( dom p ) misses { d2 } by ZFMISC_1:50;
(not ( NAT ) c= ( dom q ));
then A9: ( ( NAT ) \ ( dom q ) ) <> ( {} ) by XBOOLE_1:37;
then reconsider il as (Element of ( NAT )) by XBOOLE_0:def 5;
A10: (not il in ( dom q )) by A9,XBOOLE_0:def 5;
( dom ( DataPart p ) ) c= ( Data-Locations ( SCM ) ) by RELAT_1:58;
then reconsider d1 as Data-Location by A4,AMI_3:27,AMI_3:def 2;
set p2 = ( p +* ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) );
set p1 = ( p +* ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) );
set q2 = ( q +* ( il .--> ( d1 := d2 ) ) );
set q1 = ( q +* ( il .--> ( d1 := d2 ) ) );
consider s1 being (State of ( SCM )) such that A13: p1 c= s1 by PBOOLE:141;
consider S1 being (Instruction-Sequence of ( SCM )) such that B13: q1 c= S1 by PBOOLE:145;
B14: ( dom p ) misses { d2 } by A7,ZFMISC_1:50;
A15: ( dom ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) ) = ( ( dom ( d2 .--> 1 ) ) \/ ( dom ( Start-At (il,( SCM )) ) ) ) by FUNCT_4:def 1;
consider s2 being (State of ( SCM )) such that A16: p2 c= s2 by PBOOLE:141;
consider S2 being (Instruction-Sequence of ( SCM )) such that B16: q2 c= S2 by PBOOLE:145;
A18: ( dom p ) c= (the carrier of ( SCM )) by RELAT_1:def 18;
( dom ( Comput (S2,s2,1) ) ) = (the carrier of ( SCM )) by PARTFUN1:def 2;
then A19: ( dom ( ( Comput (S2,s2,1) ) | ( dom p ) ) ) = ( dom p ) by A18,RELAT_1:62;
A20: ( dom ( Comput (S1,s1,1) ) ) = (the carrier of ( SCM )) by PARTFUN1:def 2;
A21: ( dom ( ( Comput (S1,s1,1) ) | ( dom p ) ) ) = ( dom p ) by A18,A20,RELAT_1:62;
A24: ( dom p2 ) = ( ( dom p ) \/ ( dom ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) ) ) by FUNCT_4:def 1;
B24: ( dom q2 ) = ( ( dom q ) \/ ( dom ( il .--> ( d1 := d2 ) ) ) ) by FUNCT_4:def 1;
A25: ( dom ( Start-At (il,( SCM )) ) ) = { ( IC ( SCM ) ) } by FUNCOP_1:13;
then A26: ( IC ( SCM ) ) in ( dom ( Start-At (il,( SCM )) ) ) by TARSKI:def 1;
then A27: ( IC ( SCM ) ) in ( dom ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) ) by A15,XBOOLE_0:def 3;
then ( IC ( SCM ) ) in ( dom p2 ) by A24,XBOOLE_0:def 3;
then A28: ( IC s2 ) = ( p2 . ( IC ( SCM ) ) ) by A16,GRFUNC_1:2
.= ( ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) . ( IC ( SCM ) ) ) by A27,FUNCT_4:13
.= ( ( Start-At (il,( SCM )) ) . ( IC ( SCM ) ) ) by A26,FUNCT_4:13
.= il by FUNCOP_1:72;
d2 <> ( IC ( SCM ) ) by CKB2:1;
then A29: (not d2 in ( dom ( Start-At (il,( SCM )) ) )) by A25,TARSKI:def 1;
( dom ( d2 .--> 1 ) ) = { d2 } by FUNCOP_1:13;
then d2 in ( dom ( d2 .--> 1 ) ) by TARSKI:def 1;
then A32: d2 in ( dom ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) ) by A15,XBOOLE_0:def 3;
then d2 in ( dom p2 ) by A24,XBOOLE_0:def 3;
then A33: ( s2 . d2 ) = ( p2 . d2 ) by A16,GRFUNC_1:2
.= ( ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) . d2 ) by A32,FUNCT_4:13
.= ( ( d2 .--> 1 ) . d2 ) by A29,FUNCT_4:11
.= 1 by FUNCOP_1:72;
UU: ( dom ( il .--> ( d1 := d2 ) ) ) = { il } by FUNCOP_1:13;
then A36: il in ( dom ( il .--> ( d1 := d2 ) ) ) by TARSKI:def 1;
then il in ( dom q2 ) by B24,XBOOLE_0:def 3;
then A37: ( S2 . il ) = ( q2 . il ) by B16,GRFUNC_1:2
.= ( ( il .--> ( d1 := d2 ) ) . il ) by A36,FUNCT_4:13
.= ( d1 := d2 ) by FUNCOP_1:72;
A38: ( S2 /. ( IC s2 ) ) = ( S2 . ( IC s2 ) ) by PBOOLE:143;
A39: ( ( Comput (S2,s2,( ( 0 ) + 1 )) ) . d1 ) = ( ( Following (S2,( Comput (S2,s2,( 0 )) )) ) . d1 ) by EXTPRO_1:3
.= ( ( Following (S2,s2) ) . d1 ) by EXTPRO_1:2
.= 1 by A28,A37,A33,A38,AMI_3:2;
( dom p ) misses { ( IC ( SCM ) ) } by A2,ZFMISC_1:50;
then A40: ( ( dom p ) /\ { ( IC ( SCM ) ) } ) = ( {} ) by XBOOLE_0:def 7;
take P = S1;
take Q = S2;
( dom ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) ) = ( ( dom ( d2 .--> ( 0 ) ) ) \/ ( dom ( Start-At (il,( SCM )) ) ) ) by FUNCT_4:def 1
.= ( ( dom ( d2 .--> ( 0 ) ) ) \/ { ( IC ( SCM ) ) } ) by FUNCOP_1:13
.= ( { d2 } \/ { ( IC ( SCM ) ) } ) by FUNCOP_1:13;
then ( ( dom p ) /\ ( dom ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) ) ) = ( ( ( dom p ) /\ { d2 } ) \/ ( {} ) ) by A40,XBOOLE_1:23
.= ( {} ) by B8,XBOOLE_0:def 7;
then ( dom p ) misses ( dom ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) ) by XBOOLE_0:def 7;
then p c= p1 by FUNCT_4:32;
then A41: p c= s1 by A13,XBOOLE_1:1;
( dom q ) misses ( dom ( il .--> ( d1 := d2 ) ) ) by UU,A10,ZFMISC_1:50;
then q c= q1 by FUNCT_4:32;
hence q c= P by B13,XBOOLE_1:1;
A42: ( dom p1 ) = ( ( dom p ) \/ ( dom ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) ) ) by FUNCT_4:def 1;
( dom ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) ) = ( ( dom ( d2 .--> 1 ) ) \/ ( dom ( Start-At (il,( SCM )) ) ) ) by FUNCT_4:def 1
.= ( ( dom ( d2 .--> 1 ) ) \/ { ( IC ( SCM ) ) } ) by FUNCOP_1:13
.= ( { d2 } \/ { ( IC ( SCM ) ) } ) by FUNCOP_1:13;
then ( ( dom p ) /\ ( dom ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) ) ) = ( ( ( dom p ) /\ { d2 } ) \/ ( {} ) ) by A3,XBOOLE_1:23
.= ( {} ) by B14,XBOOLE_0:def 7;
then ( dom p ) misses ( dom ( ( d2 .--> 1 ) +* ( Start-At (il,( SCM )) ) ) ) by XBOOLE_0:def 7;
then p c= p2 by FUNCT_4:32;
then A43: p c= s2 by A16,XBOOLE_1:1;
( dom q ) misses ( dom ( il .--> ( d1 := d2 ) ) ) by UU,A10,ZFMISC_1:50;
then q c= q2 by FUNCT_4:32;
hence q c= Q by B16,XBOOLE_1:1;
take s1;
take s2;
thus p c= s1 by A41;
thus p c= s2 by A43;
take 1;
A44: ( dom ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) ) = ( ( dom ( d2 .--> ( 0 ) ) ) \/ ( dom ( Start-At (il,( SCM )) ) ) ) by FUNCT_4:def 1;
A45: ( dom ( Start-At (il,( SCM )) ) ) = { ( IC ( SCM ) ) } by FUNCOP_1:13;
then A46: ( IC ( SCM ) ) in ( dom ( Start-At (il,( SCM )) ) ) by TARSKI:def 1;
then A47: ( IC ( SCM ) ) in ( dom ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) ) by A44,XBOOLE_0:def 3;
then ( IC ( SCM ) ) in ( dom p1 ) by A42,XBOOLE_0:def 3;
then A48: ( IC s1 ) = ( p1 . ( IC ( SCM ) ) ) by A13,GRFUNC_1:2
.= ( ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) . ( IC ( SCM ) ) ) by A47,FUNCT_4:13
.= ( ( Start-At (il,( SCM )) ) . ( IC ( SCM ) ) ) by A46,FUNCT_4:13
.= il by FUNCOP_1:72;
d2 <> ( IC ( SCM ) ) by CKB2:1;
then A49: (not d2 in ( dom ( Start-At (il,( SCM )) ) )) by A45,TARSKI:def 1;
( dom ( d2 .--> ( 0 ) ) ) = { d2 } by FUNCOP_1:13;
then d2 in ( dom ( d2 .--> ( 0 ) ) ) by TARSKI:def 1;
then A52: d2 in ( dom ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) ) by A44,XBOOLE_0:def 3;
then d2 in ( dom p1 ) by A42,XBOOLE_0:def 3;
then A53: ( s1 . d2 ) = ( p1 . d2 ) by A13,GRFUNC_1:2
.= ( ( ( d2 .--> ( 0 ) ) +* ( Start-At (il,( SCM )) ) ) . d2 ) by A52,FUNCT_4:13
.= ( ( d2 .--> ( 0 ) ) . d2 ) by A49,FUNCT_4:11
.= ( 0 ) by FUNCOP_1:72;
( dom ( il .--> ( d1 := d2 ) ) ) = { il } by FUNCOP_1:13;
then A56: il in ( dom ( il .--> ( d1 := d2 ) ) ) by TARSKI:def 1;
( dom q1 ) = ( ( dom q ) \/ ( dom ( il .--> ( d1 := d2 ) ) ) ) by FUNCT_4:def 1;
then il in ( dom q1 ) by A56,XBOOLE_0:def 3;
then A57: ( S1 . il ) = ( q1 . il ) by B13,GRFUNC_1:2
.= ( ( il .--> ( d1 := d2 ) ) . il ) by A56,FUNCT_4:13
.= ( d1 := d2 ) by FUNCOP_1:72;
A58: ( S1 /. ( IC s1 ) ) = ( S1 . ( IC s1 ) ) by PBOOLE:143;
( ( Comput (S1,s1,( ( 0 ) + 1 )) ) . d1 ) = ( ( Following (S1,( Comput (S1,s1,( 0 )) )) ) . d1 ) by EXTPRO_1:3
.= ( ( Following (S1,s1) ) . d1 ) by EXTPRO_1:2
.= ( 0 ) by A48,A57,A53,A58,AMI_3:2;
then ( ( ( Comput (P,s1,1) ) | ( dom p ) ) . d1 ) = ( 0 ) by A4,B5,A21,FUNCT_1:47;
hence ( ( Comput (P,s1,1) ) | ( dom p ) ) <> ( ( Comput (Q,s2,1) ) | ( dom p ) ) by A19,A39,A4,B5,FUNCT_1:47;
end;
hence contradiction;
end;
hence thesis by AMISTD_5:3;
end;
end;
