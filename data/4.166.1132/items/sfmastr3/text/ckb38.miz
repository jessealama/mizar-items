environ
vocabularies NUMBERS,FSM_1,SCMFSA_2,SF_MASTR,AMI_1,SCMFSA7B,SUBSET_1,UNIALG_2,SCMFSA6C,SCMFSA6B,FUNCT_1,XBOOLE_0,FUNCT_4,CARD_1,AMISTD_2,RELAT_1,GRAPHSP,AMI_3,PARTFUN1,COMPLEX1,SCMFSA8B,TURING_1,SCMFSA_9,ARYTM_3,FUNCOP_1,SCMFSA8A,CARD_3,SFMASTR1,ARYTM_1,XXREAL_0,SCMFSA6A,TARSKI,SCMFSA9A,FINSEQ_1,GRAPH_2,AOFA_I00,FUNCT_2,FINSEQ_2,SFMASTR3,NAT_1,SCMNORM,PBOOLE,COMPOS_1;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,CARD_3,INT_2,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCT_4,FUNCT_7,PBOOLE,FUNCOP_1,GRAPH_2,FINSEQ_1,FINSEQ_2,MEMSTR_0,COMPOS_1,EXTPRO_1,AMISTD_1,SCMFSA_2,SCMFSA6A,SCMFSA6B,SF_MASTR,SCMFSA6C,SCMFSA7B,SCMFSA8A,SCMFSA8B,SCMFSA_9,SFMASTR1,SCMFSA9A,XXREAL_0,NAT_1,CKB11,CKB19,CKB25,CKB32;
definitions TARSKI,SCMFSA7B,SCMFSA9A,GRAPH_2,SCMFSA6A,COMPOS_1,EXTPRO_1,MEMSTR_0,CKB11,CKB19,CKB25,CKB32;
theorems TARSKI,ZFMISC_1,ENUMSET1,ABSVALUE,NAT_1,INT_1,RELAT_1,FUNCT_7,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,GRAPH_2,SCMFSA_2,MEMSTR_0,SCMFSA6A,SCMFSA6B,SF_MASTR,SCMFSA6C,SCMFSA7B,SCMFSA8A,SCMFSA8B,SCMFSA8C,SCMFSA_9,SFMASTR1,SCMFSA9A,SFMASTR2,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,PARTFUN1,AFINSQ_1,PBOOLE,EXTPRO_1,CARD_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB28,CKB29,CKB30,CKB31,CKB32,CKB34,CKB35,CKB36,CKB37;
schemes FUNCT_2,NAT_1;
registrations SUBSET_1,SETFAM_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,CARD_3,SCMFSA_2,SF_MASTR,SCMFSA6B,SCMFSA6C,SCMFSA7B,SCMFSA8A,SCMFSA8B,SCMFSA_9,SFMASTR1,XBOOLE_0,VALUED_0,AFINSQ_1,FUNCOP_1,COMPOS_1,EXTPRO_1,PBOOLE,FUNCT_4,MEMSTR_0,SCMFSA6A,CKB7,CKB27,CKB33;
constructors SETWISEO,REAL_1,INT_2,MESFUNC1,SCMFSA6A,SCMFSA6B,SCMFSA6C,SCMFSA8A,SCMFSA8B,SCMFSA_9,SFMASTR1,SCMFSA9A,RELSET_1,FUNCT_4,PBOOLE,GRAPH_2,SCMFSA7B,MEMSTR_0,AMISTD_1,CKB11,CKB19,CKB25,CKB32;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve s for (State of ( SCM+FSA ));
reserve c for  read-write Int-Location;
reserve aa for Int-Location;
reserve bb for Int-Location;
reserve f for FinSeq-Location;
reserve i for (Element of ( NAT ));
reserve p for (Instruction-Sequence of ( SCM+FSA ));
theorem
Th37: ((((((1 <= ( s . aa ) & ( s . aa ) <= ( s . bb )) & ( s . bb ) <= ( len ( s . f ) )) & aa <> c) & bb <> c) & ( s . ( intloc ( 0 ) ) ) = 1) implies ( ( IExec (( FinSeqMin (f,aa,bb,c) ),p,s) ) . c ) = ( min_at (( s . f ),( abs ( s . aa ) ),( abs ( s . bb ) )) ))
proof
set a = aa;
set b = bb;
assume that
A1: 1 <= ( s . a )
and
A2: ( s . a ) <= ( s . b )
and
A3: ( s . b ) <= ( len ( s . f ) )
and
A4: a <> c
and
A5: b <> c
and
A6: ( s . ( intloc ( 0 ) ) ) = 1;
A7: (b = ( intloc ( 0 ) ) or b is  read-write) by SF_MASTR:def 5;
set i0 = ( c := a );
set s1 = ( Exec (i0,( Initialized s )) );
set p1 = p;
A8: (a = ( intloc ( 0 ) ) or a is  read-write) by SF_MASTR:def 5;
reconsider sa = ( abs ( s . a ) ) as (Element of ( NAT ));
A9: ( s . a ) = sa by A1,ABSVALUE:def 1;
( ( s . a ) - ( s . a ) ) <= ( ( s . b ) - ( s . a ) ) by A2,XREAL_1:9;
then reconsider sba = ( ( s . b ) - ( s . a ) ) as (Element of ( NAT )) by INT_1:3;
A10: ( s1 . f ) = ( ( Initialized s ) . f ) by SCMFSA_2:63
.= ( s . f ) by SCMFSA6C:3;
set k = ( sba + 1 );
set cv = ( 3 -rdRWNotIn { a,b,c } );
set aux2 = ( 2 -ndRWNotIn { a,b,c } );
set aux1 = ( 1 -stRWNotIn { a,b,c } );
A11: aux1 <> aux2 by SFMASTR1:21;
set I12 = ( if>0 (aux2,aux1,( Macro ( c := cv ) ),( Stop ( SCM+FSA ) )) );
set i10 = ( aux1 := (f,cv) );
A12: aux2 <> cv by SFMASTR1:21;
set i11 = ( aux2 := (f,c) );
A13: aux1 <> cv by SFMASTR1:21;
A14: c in { a,b,c } by ENUMSET1:def 1;
then A15: cv <> c by SFMASTR1:20;
set I1B = ( ( i10 ';' i11 ) ';' I12 );
set I1 = ( for-up (cv,a,b,I1B) );
set SF = ( StepForUp (cv,a,b,I1B,p1,s1) );
defpred P[ Nat ]
 means
((( 0 ) < $1 & $1 <= k) implies (((( ( SF . $1 ) . ( intloc ( 0 ) ) ) = 1 & ( ( SF . $1 ) . cv ) = ( $1 + ( s1 . a ) )) & ( ( SF . $1 ) . f ) = ( s1 . f )) & (ex sa1 being (Element of ( NAT )) st (sa1 = ( ( $1 + sa ) - 1 ) & ( ( SF . $1 ) . c ) = ( min_at (( s . f ),sa,sa1) )))));
cv in { cv,a,b } by ENUMSET1:def 1;
then A16: cv in ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) by XBOOLE_0:def 3;
A17:  ProperForUpBody cv,a,b,I1B,s1,p1 by CKB20:1;
A18: aux1 <> c by A14,SFMASTR1:20;
A19: aux2 <> c by A14,SFMASTR1:20;
A20: ( s1 . c ) = ( ( Initialized s ) . a ) by SCMFSA_2:63
.= ( s . a ) by A6,A8,SCMFSA6A:38,SCMFSA6C:3;
A21: ( s1 . a ) = ( ( Initialized s ) . a ) by A4,SCMFSA_2:63
.= ( s . a ) by A6,A8,SCMFSA6A:38,SCMFSA6C:3;
A22: ( s . a ) <= ( len ( s . f ) ) by A2,A3,XXREAL_0:2;
then A23: sa in ( dom ( s . f ) ) by A1,A9,FINSEQ_3:25;
A24: ( s1 . b ) = ( ( Initialized s ) . b ) by A5,SCMFSA_2:63
.= ( s . b ) by A6,A7,SCMFSA6A:38,SCMFSA6C:3;
A25: ( s1 . ( intloc ( 0 ) ) ) = ( ( Initialized s ) . ( intloc ( 0 ) ) ) by SCMFSA_2:63
.= 1 by SCMFSA6A:38;
then A26: ( DataPart ( IExec (I1,p1,s1) ) ) = ( DataPart ( SF . k ) ) by A21,A24,CKB30:1;
c in { c,cv } by TARSKI:def 2;
then c in ( UsedIntLoc ( c := cv ) ) by SF_MASTR:14;
then c in ( UsedIntLoc ( Macro ( c := cv ) ) ) by SF_MASTR:28;
then c in ( { aux2,aux1 } \/ ( UsedIntLoc ( Macro ( c := cv ) ) ) ) by XBOOLE_0:def 3;
then c in ( ( { aux2,aux1 } \/ ( UsedIntLoc ( Macro ( c := cv ) ) ) ) \/ ( UsedIntLoc ( Stop ( SCM+FSA ) ) ) ) by XBOOLE_0:def 3;
then c in ( UsedIntLoc I12 ) by CKB8:1;
then c in ( ( UsedIntLoc ( i10 ';' i11 ) ) \/ ( UsedIntLoc I12 ) ) by XBOOLE_0:def 3;
then A27: c in ( UsedIntLoc I1B ) by SF_MASTR:27;
then A28: c in ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) by XBOOLE_0:def 3;
A29: (for n being (Element of ( NAT )) holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
let n being (Element of ( NAT ));
assume that
A30: P[ n ]
and
( 0 ) < ( n + 1 )
and
A31: ( n + 1 ) <= k;
A32: ((( ( SF . n ) . ( intloc ( 0 ) ) ) = 1 & ( ( SF . n ) . cv ) = ( n + ( s1 . a ) )) & ( ( SF . n ) . cv ) <= ( s1 . b ))
proof
per cases ;
suppose A33: ( 0 ) = n;

hence ( ( SF . n ) . ( intloc ( 0 ) ) ) = 1 by A25,CKB12:1;
thus ( ( SF . n ) . cv ) = ( n + ( s1 . a ) ) by A33,CKB13:1;
thus thesis by A2,A21,A24,A33,CKB13:1;
end;
suppose A34: ( 0 ) < n;

hence ( ( SF . n ) . ( intloc ( 0 ) ) ) = 1 by A30,A31,NAT_1:13;
thus ( ( SF . n ) . cv ) = ( n + ( s1 . a ) ) by A30,A31,A34,NAT_1:13;
( ( n + 1 ) - 1 ) <= ( ( ( ( s . b ) - ( s . a ) ) + 1 ) - 1 ) by A31,XREAL_1:9;
hence thesis by A21,A24,A30,A34,NAT_1:13,XREAL_1:19;
end;
end;
set S0 = ( Initialized ( SF . n ) );
set S1 = ( Exec (i10,S0) );
set S2 = ( Exec (i11,( Exec (i10,S0) )) );
A35: ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . f ) = ( S2 . f ) by SCMFSA6C:9
.= ( S1 . f ) by SCMFSA_2:72
.= ( S0 . f ) by SCMFSA_2:72;
( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . ( intloc ( 0 ) ) ) = ( S2 . ( intloc ( 0 ) ) ) by SCMFSA6C:8
.= ( S1 . ( intloc ( 0 ) ) ) by SCMFSA_2:72
.= ( S0 . ( intloc ( 0 ) ) ) by SCMFSA_2:72
.= 1 by SCMFSA6A:38;
then A36: ( DataPart ( IExec (( Stop ( SCM+FSA ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) ) = ( DataPart ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) ) by CKB2:1;
n < ( n + 1 ) by XREAL_1:29;
then n < k by A31,XXREAL_0:2;
then A37: ( ( SF . ( n + 1 ) ) | ( ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) \/ ( FinSeq-Locations ) ) ) = ( ( IExec (( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) | ( ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) \/ ( FinSeq-Locations ) ) ) by A25,A21,A24,A17,CKB24:1;
then A38: ( ( SF . ( n + 1 ) ) . f ) = ( ( IExec (( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . f ) by SFMASTR2:7
.= ( ( Exec (( AddTo (cv,( intloc ( 0 ) )) ),( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . f ) by SFMASTR1:12
.= ( ( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . f ) by SCMFSA_2:64
.= ( ( IExec (I12,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . f ) by SFMASTR1:8;
A39: ( ( SF . ( n + 1 ) ) . c ) = ( ( IExec (( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . c ) by A28,A37,SFMASTR2:7
.= ( ( Exec (( AddTo (cv,( intloc ( 0 ) )) ),( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . c ) by SFMASTR1:11
.= ( ( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . c ) by A15,SCMFSA_2:64
.= ( ( IExec (I12,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . c ) by SFMASTR1:7;
A40: ( ( SF . ( n + 1 ) ) . cv ) = ( ( IExec (( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . cv ) by A16,A37,SFMASTR2:7
.= ( ( Exec (( AddTo (cv,( intloc ( 0 ) )) ),( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . cv ) by SFMASTR1:11
.= ( ( ( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . cv ) + ( ( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . ( intloc ( 0 ) ) ) ) by SCMFSA_2:64
.= ( ( ( IExec (I1B,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . cv ) + 1 ) by SCMFSA6B:11
.= ( ( ( IExec (I12,( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . cv ) + 1 ) by SFMASTR1:7;
A41: ((not ( Macro ( c := cv ) ) refer aux2) & (not ( Stop ( SCM+FSA ) ) refer aux2)) by A12,CKB3:1,CKB4:1,SCMFSA8C:51;
A42: ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . c ) = ( S2 . c ) by SCMFSA6C:8
.= ( S1 . c ) by A19,SCMFSA_2:72
.= ( S0 . c ) by A18,SCMFSA_2:72
.= ( ( SF . n ) . c ) by SCMFSA6C:3;
A43: ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . cv ) = ( S2 . cv ) by SCMFSA6C:8
.= ( S1 . cv ) by A12,SCMFSA_2:72
.= ( S0 . cv ) by A13,SCMFSA_2:72;
per cases ;
suppose A44: ( 0 ) = n;

thus thesis
proof
reconsider sa1 = ( ( ( n + 1 ) + sa ) - 1 ) as (Element of ( NAT )) by A44;
A45: ( ( SF . ( 0 ) ) . c ) = ( s1 . c ) by A15,A27,CKB16:1;
A46: ( S1 . c ) = ( S0 . c ) by A18,SCMFSA_2:72
.= ( s . a ) by A20,A44,A45,SCMFSA6C:3;
thus ( ( SF . ( n + 1 ) ) . ( intloc ( 0 ) ) ) = 1 by A25,A21,A24,A17,A31,CKB22:1;
A47: ( S0 . f ) = ( ( SF . ( 0 ) ) . f ) by A44,SCMFSA6C:3
.= ( s . f ) by A10,CKB17:1;
then A48: ( S1 . f ) = ( s . f ) by SCMFSA_2:72;
A49: ( S0 . cv ) = ( ( SF . ( 0 ) ) . cv ) by A44,SCMFSA6C:3
.= ( s . a ) by A21,CKB13:1;
then reconsider S0cv = ( S0 . cv ) as (Element of ( NAT )) by A1,INT_1:3;
A50: ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . aux1 ) = ( S2 . aux1 ) by SCMFSA6C:8
.= ( S1 . aux1 ) by A11,SCMFSA_2:72
.= ( ( S0 . f ) /. ( abs ( S0 . cv ) ) ) by CKB5:1
.= ( ( s . f ) . S0cv ) by A9,A23,A47,A49,PARTFUN1:def 6;
A51: ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . aux2 ) = ( S2 . aux2 ) by SCMFSA6C:8
.= ( ( S1 . f ) /. ( abs ( S1 . c ) ) ) by CKB5:1
.= ( ( s . f ) . S0cv ) by A9,A23,A49,A48,A46,PARTFUN1:def 6;
hence ( ( SF . ( n + 1 ) ) . cv ) = ( ( ( IExec (( Stop ( SCM+FSA ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . cv ) + 1 ) by A12,A41,A40,A50,SCMFSA8B:40
.= ( ( n + 1 ) + ( s1 . a ) ) by A21,A36,A43,A44,A49,SCMFSA6A:7;
thus ( ( SF . ( n + 1 ) ) . f ) = ( ( IExec (( Stop ( SCM+FSA ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . f ) by A41,A38,A50,A51,SCMFSA8B:40
.= ( s1 . f ) by A10,A36,A35,A47,SCMFSA6A:7;
take sa1;
thus sa1 = ( ( ( n + 1 ) + sa ) - 1 );
( ( SF . ( n + 1 ) ) . c ) = ( ( IExec (( Stop ( SCM+FSA ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . c ) by A19,A41,A39,A50,A51,SCMFSA8B:40
.= ( s . a ) by A20,A36,A42,A44,A45,SCMFSA6A:7;
hence thesis by A1,A22,A9,A44,GRAPH_2:60;
end;

end;
suppose A52: ( 0 ) < n;

thus thesis
proof
A53: ( S0 . cv ) = ( ( SF . n ) . cv ) by SCMFSA6C:3;
then reconsider S0cv = ( S0 . cv ) as (Element of ( NAT )) by A1,A21,A32,INT_1:3;
(1 <= S0cv & S0cv <= ( len ( s . f ) )) by A1,A3,A9,A21,A24,A32,A53,NAT_1:12,XXREAL_0:2;
then A54: S0cv in ( dom ( s . f ) ) by FINSEQ_3:25;
A55: ( S0 . f ) = ( s . f ) by A10,A30,A31,A52,NAT_1:13,SCMFSA6C:3;
then A56: ( S1 . f ) = ( s . f ) by SCMFSA_2:72;
A57: ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . aux1 ) = ( S2 . aux1 ) by SCMFSA6C:8
.= ( S1 . aux1 ) by A11,SCMFSA_2:72
.= ( ( S0 . f ) /. ( abs ( S0 . cv ) ) ) by CKB5:1
.= ( ( S0 . f ) /. S0cv ) by ABSVALUE:def 1
.= ( ( s . f ) . S0cv ) by A55,A54,PARTFUN1:def 6;
( n + ( s . a ) ) <= ( len ( s . f ) ) by A3,A21,A24,A32,XXREAL_0:2;
then ( ( n + ( s . a ) ) - 1 ) <= ( ( len ( s . f ) ) - 1 ) by XREAL_1:9;
then A58: ( ( ( n + ( s . a ) ) - 1 ) + ( 0 ) ) <= ( ( ( len ( s . f ) ) - 1 ) + 1 ) by XREAL_1:7;
thus ( ( SF . ( n + 1 ) ) . ( intloc ( 0 ) ) ) = 1 by A25,A21,A24,A17,A31,CKB22:1;
consider sa1 being (Element of ( NAT )) such that A59: sa1 = ( ( n + sa ) - 1 ) and A60: ( ( SF . n ) . c ) = ( min_at (( s . f ),sa,sa1) ) by A30,A31,A52,NAT_1:13;
reconsider SFnc = ( ( SF . n ) . c ) as (Element of ( NAT )) by A60;
( ( 0 ) + 1 ) <= n by A52,NAT_1:13;
then ( 1 - 1 ) <= ( n - 1 ) by XREAL_1:9;
then A61: ( ( 0 ) + ( s . a ) ) <= ( ( n - 1 ) + ( s . a ) ) by XREAL_1:6;
then A62: sa <= SFnc by A1,A9,A59,A60,A58,GRAPH_2:59;
then A63: 1 <= SFnc by A1,A9,XXREAL_0:2;
A64: SFnc <= sa1 by A1,A9,A59,A60,A61,A58,GRAPH_2:59;
then SFnc <= ( len ( s . f ) ) by A9,A59,A58,XXREAL_0:2;
then A65: SFnc in ( dom ( s . f ) ) by A63,FINSEQ_3:25;
A66: ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . aux2 ) = ( S2 . aux2 ) by SCMFSA6C:8
.= ( ( S1 . f ) /. ( abs ( S1 . c ) ) ) by CKB5:1
.= ( ( S1 . f ) /. ( abs ( S0 . c ) ) ) by A18,SCMFSA_2:72
.= ( ( S1 . f ) /. ( abs ( ( SF . n ) . c ) ) ) by SCMFSA6C:3
.= ( ( S1 . f ) /. SFnc ) by ABSVALUE:def 1
.= ( ( s . f ) . SFnc ) by A56,A65,PARTFUN1:def 6;
A67: (for i holds ((sa <= i & i < ( ( SF . n ) . c )) implies ( ( s . f ) . i ) > ( ( s . f ) . SFnc ))) by A1,A9,A59,A60,A61,A58,GRAPH_2:59;
thus thesis
proof
A68: ( ( ( n + 1 ) + ( s . a ) ) - 1 ) <= ( len ( s . f ) ) by A3,A21,A24,A32,XXREAL_0:2;
A69: ( ( ( n + 1 ) + ( s . a ) ) - 1 ) = ( ( ( n + ( s . a ) ) + 1 ) - 1 )
.= ( n + sa ) by A1,ABSVALUE:def 1;
then A70: ( s . a ) <= ( ( ( n + 1 ) + ( s . a ) ) - 1 ) by NAT_1:12;
per cases ;
suppose A71: ( ( s . f ) . S0cv ) < ( ( s . f ) . SFnc );

XX: ( ( IExec (( Macro ( c := cv ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . cv ) = ( ( IExec (( Macro ( c := cv ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . cv )
.= ( ( Exec (( c := cv ),( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) )) ) . cv ) by SCMFSA6C:5
.= ( ( Exec (( c := cv ),( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) )) ) . cv )
.= ( ( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) ) . cv ) by A15,SCMFSA_2:63;
thus ( ( SF . ( n + 1 ) ) . cv ) = ( ( ( IExec (( Macro ( c := cv ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . cv ) + 1 ) by A12,A41,A40,A57,A66,A71,SCMFSA8B:40
.= ( ( ( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) ) . cv ) + 1 ) by XX
.= ( ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . cv ) + 1 ) by SCMFSA6C:3
.= ( ( n + 1 ) + ( s1 . a ) ) by A32,A43,A53;
thus ( ( SF . ( n + 1 ) ) . f ) = ( ( IExec (( Macro ( c := cv ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . f ) by A41,A38,A57,A66,A71,SCMFSA8B:40
.= ( ( IExec (( Macro ( c := cv ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . f )
.= ( ( Exec (( c := cv ),( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) )) ) . f ) by SCMFSA6C:5
.= ( ( Exec (( c := cv ),( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) )) ) . f )
.= ( ( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) ) . f ) by SCMFSA_2:63
.= ( s1 . f ) by A10,A35,A55,SCMFSA6C:3;
reconsider sa11 = ( ( ( n + 1 ) + sa ) - 1 ) as (Element of ( NAT )) by A69;
take sa11;
thus sa11 = ( ( ( n + 1 ) + sa ) - 1 );
A72: (for i holds ((( s . a ) <= i & i <= ( ( ( n + 1 ) + ( s . a ) ) - 1 )) implies ( ( s . f ) . S0cv ) <= ( ( s . f ) . i )))
proof
let i;
assume that
A73: ( s . a ) <= i
and
A74: i <= ( ( ( n + 1 ) + ( s . a ) ) - 1 );
per cases  by A74,XXREAL_0:1;
suppose i < ( ( ( n + 1 ) + ( s . a ) ) - 1 );

then ( i + 1 ) <= ( n + ( s . a ) ) by A69,NAT_1:13;
then ( ( i + 1 ) - 1 ) <= ( ( n + ( s . a ) ) - 1 ) by XREAL_1:9;
then ( ( s . f ) . SFnc ) <= ( ( s . f ) . i ) by A1,A9,A59,A60,A61,A58,A73,GRAPH_2:59;
hence thesis by A71,XXREAL_0:2;
end;
suppose i = ( ( ( n + 1 ) + ( s . a ) ) - 1 );

hence thesis by A21,A32,SCMFSA6C:3;
end;
end;
A75: (for i holds ((( s . a ) <= i & i < S0cv) implies ( ( s . f ) . i ) > ( ( s . f ) . S0cv )))
proof
let i;
assume that
A76: ( s . a ) <= i
and
A77: i < S0cv;
( i + 1 ) <= S0cv by A77,NAT_1:13;
then ( ( i + 1 ) - 1 ) <= ( S0cv - 1 ) by XREAL_1:9;
then ( ( s . f ) . SFnc ) <= ( ( s . f ) . i ) by A1,A9,A21,A32,A53,A59,A60,A61,A58,A76,GRAPH_2:59;
hence thesis by A71,XXREAL_0:2;
end;
( ( SF . ( n + 1 ) ) . c ) = ( ( IExec (( Macro ( c := cv ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . c ) by A19,A41,A39,A57,A66,A71,SCMFSA8B:40
.= ( ( IExec (( Macro ( c := cv ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . c )
.= ( ( Exec (( c := cv ),( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) )) ) . c ) by SCMFSA6C:5
.= ( ( Exec (( c := cv ),( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) )) ) . c )
.= ( ( Initialized ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) ) . cv ) by SCMFSA_2:63
.= S0cv by A43,SCMFSA6C:3;
hence thesis by A1,A9,A21,A32,A53,A70,A68,A72,A75,GRAPH_2:59;
end;
suppose A78: ( ( s . f ) . SFnc ) <= ( ( s . f ) . S0cv );

thus thesis
proof
A79: (for i holds ((( s . a ) <= i & i <= ( ( ( n + 1 ) + ( s . a ) ) - 1 )) implies ( ( s . f ) . SFnc ) <= ( ( s . f ) . i )))
proof
let i;
assume that
A80: ( s . a ) <= i
and
A81: i <= ( ( ( n + 1 ) + ( s . a ) ) - 1 );
per cases  by A81,XXREAL_0:1;
suppose i < ( ( ( n + 1 ) + ( s . a ) ) - 1 );

then ( i + 1 ) <= ( n + ( s . a ) ) by A69,NAT_1:13;
then ( ( i + 1 ) - 1 ) <= ( ( n + ( s . a ) ) - 1 ) by XREAL_1:9;
hence thesis by A1,A9,A59,A60,A61,A58,A80,GRAPH_2:59;
end;
suppose i = ( ( ( n + 1 ) + ( s . a ) ) - 1 );

hence thesis by A21,A32,A78,SCMFSA6C:3;
end;
end;
thus ( ( SF . ( n + 1 ) ) . cv ) = ( ( ( IExec (( Stop ( SCM+FSA ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . cv ) + 1 ) by A12,A41,A40,A57,A66,A78,SCMFSA8B:40
.= ( ( ( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) ) . cv ) + 1 ) by A36,SCMFSA6A:7
.= ( ( n + 1 ) + ( s1 . a ) ) by A32,A43,A53;
thus ( ( SF . ( n + 1 ) ) . f ) = ( ( IExec (( Stop ( SCM+FSA ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . f ) by A41,A38,A57,A66,A78,SCMFSA8B:40
.= ( s1 . f ) by A10,A36,A35,A55,SCMFSA6A:7;
reconsider sa11 = ( ( ( n + 1 ) + sa ) - 1 ) as (Element of ( NAT )) by A69;
take sa11;
thus sa11 = ( ( ( n + 1 ) + sa ) - 1 );
( ( n + ( s . a ) ) - 1 ) <= ( ( ( n + ( s . a ) ) - 1 ) + 1 ) by XREAL_1:29;
then A82: SFnc <= ( ( ( n + 1 ) + ( s . a ) ) - 1 ) by A9,A59,A64,XXREAL_0:2;
( ( SF . ( n + 1 ) ) . c ) = ( ( IExec (( Stop ( SCM+FSA ) ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( IExec (( i10 ';' i11 ),( p1 +* ( while>0 (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( ( I1B ';' ( AddTo (cv,( intloc ( 0 ) )) ) ) ';' ( SubFrom (( 1 -stRWNotIn ( { cv,a,b } \/ ( UsedIntLoc I1B ) ) ),( intloc ( 0 ) )) ) )) ) ),( SF . n )) )) ) . c ) by A19,A41,A39,A57,A66,A78,SCMFSA8B:40
.= ( ( SF . n ) . c ) by A36,A42,SCMFSA6A:7;
hence thesis by A1,A9,A62,A67,A70,A68,A82,A79,GRAPH_2:59;
end;

end;
end;

end;

end;
end;
reconsider sb = ( abs ( s . b ) ) as (Element of ( NAT ));
A83: P[ ( 0 ) ];
(for n being (Element of ( NAT )) holds P[ n ]) from NAT_1:sch 1(A83,A29);
then consider sab being (Element of ( NAT )) such that A84: sab = ( ( k + sa ) - 1 ) and A85: ( ( SF . k ) . c ) = ( min_at (( s . f ),sa,sab) );
A86: sab = sb by A9,A84,ABSVALUE:def 1;
(I1 is_closed_on s1,p1 & I1 is_halting_on s1,p1) by A25,CKB31:1;
hence ( ( IExec (( FinSeqMin (f,a,b,c) ),p,s) ) . c ) = ( ( IExec (I1,p1,s1) ) . c ) by SFMASTR1:14
.= ( min_at (( s . f ),( abs ( s . a ) ),( abs ( s . b ) )) ) by A26,A85,A86,SCMFSA6A:7;
end;
