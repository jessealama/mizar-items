environ
vocabularies NUMBERS,SUBSET_1,REAL_1,XBOOLE_0,MEMBERED,PARTFUN1,VALUED_1,FUNCT_1,RELAT_1,FINSEQ_1,NAT_1,XXREAL_0,FINSET_1,CARD_1,ARYTM_1,TARSKI,ARYTM_3,ZFMISC_1,ORDINAL4,RFINSEQ,RFUNCT_3,CLASSES1,CARD_3,PBOOLE,FINSEQ_2,FUNCT_3,VALUED_0,REARRAN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,MEMBERED,FUNCT_1,RELSET_1,CARD_1,FINSET_1,NUMBERS,XXREAL_0,XCMPLX_0,REAL_1,NAT_1,PARTFUN1,FINSEQ_1,VALUED_1,SEQ_1,RFUNCT_1,FINSEQOP,RVSUM_1,CLASSES1,RFINSEQ,RFUNCT_3,CKB1,CKB3,CKB4,CKB8,CKB10,CKB22,CKB25,CKB26;
definitions TARSKI,XBOOLE_0,FINSEQ_2,RELAT_1,CKB3,CKB4,CKB8,CKB22,CKB25,CKB26;
theorems FINSEQ_1,NAT_1,FUNCT_1,FINSEQ_2,TARSKI,CARD_2,CARD_1,PARTFUN1,FINSET_1,FINSEQ_3,RFUNCT_1,RVSUM_1,ZFMISC_1,RFINSEQ,RFUNCT_3,RELAT_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,FUNCOP_1,ORDINAL1,VALUED_1,CLASSES1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28;
schemes NAT_1,FINSEQ_1;
registrations SUBSET_1,RELSET_1,PARTFUN1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,VALUED_0,CARD_1,FINSEQ_2,FUNCT_1,CKB9;
constructors REAL_1,NAT_1,FINSEQOP,RVSUM_1,RFINSEQ,RFUNCT_3,SEQ_1,CLASSES1,RELSET_1,BINOP_2,CKB1,CKB3,CKB4,CKB8,CKB22,CKB25,CKB26;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve C for non  empty  finite set;
reserve D for non  empty  finite set;
theorem
Th15: (for c being (Element of C) holds (for F being (PartFunc of D,( REAL )) holds (for A being (RearrangmentGen of C) holds ((F is  total & ( card C ) = ( card D )) implies ((c in ( A . 1 ) implies ( ( Rland (F,A) ) . c ) = ( ( FinS (F,D) ) . 1 )) & (for n holds (((1 <= n & n < ( len A )) & c in ( ( A . ( n + 1 ) ) \ ( A . n ) )) implies ( ( Rland (F,A) ) . c ) = ( ( FinS (F,D) ) . ( n + 1 ) ))))))))
proof
let c being (Element of C);
let F being (PartFunc of D,( REAL ));
let B being (RearrangmentGen of C);
set fd = ( FinS (F,D) );
set mf = ( MIM fd );
set h = ( CHI (B,C) );
A1: ( ( Rland (F,B) ) . c ) = ( Sum ( ( mf (#) h ) # c ) ) by RFUNCT_3:32,RFUNCT_3:33;
A2: (( len h ) = ( len B ) & ( len mf ) = ( len fd )) by RFINSEQ:def 2,RFUNCT_3:def 6;
assume A3: (F is  total & ( card C ) = ( card D ));
then A4: ( len mf ) = ( len h ) by CKB24:1;
thus (c in ( B . 1 ) implies ( ( Rland (F,B) ) . c ) = ( ( FinS (F,D) ) . 1 ))
proof
assume c in ( B . 1 );
hence ( ( Rland (F,B) ) . c ) = ( Sum mf ) by A3,A1,CKB28:1
.= ( ( FinS (F,D) ) . 1 ) by A4,A2,CKB14:1,RFINSEQ:16;
end;

let n;
set mfn = ( MIM ( ( FinS (F,D) ) /^ n ) );
assume that
A5: 1 <= n
and
A6: n < ( len B )
and
A7: c in ( ( B . ( n + 1 ) ) \ ( B . n ) );
( ( mf (#) h ) # c ) = ( ( n |-> (( 0 ) qua Real) ) ^ mfn ) by A3,A5,A6,A7,CKB28:1;
hence ( ( Rland (F,B) ) . c ) = ( ( Sum ( n |-> (( 0 ) qua Real) ) ) + ( Sum mfn ) ) by A1,RVSUM_1:75
.= ( ( 0 ) + ( Sum mfn ) ) by RVSUM_1:81
.= ( ( FinS (F,D) ) . ( n + 1 ) ) by A4,A2,A6,RFINSEQ:17;
end;
