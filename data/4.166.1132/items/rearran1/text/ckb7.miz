environ
vocabularies NUMBERS,SUBSET_1,REAL_1,XBOOLE_0,MEMBERED,PARTFUN1,VALUED_1,FUNCT_1,RELAT_1,FINSEQ_1,NAT_1,XXREAL_0,FINSET_1,CARD_1,ARYTM_1,TARSKI,ARYTM_3,ZFMISC_1,ORDINAL4,RFINSEQ,RFUNCT_3,CLASSES1,CARD_3,PBOOLE,FINSEQ_2,FUNCT_3,VALUED_0,REARRAN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,MEMBERED,FUNCT_1,RELSET_1,CARD_1,FINSET_1,NUMBERS,XXREAL_0,XCMPLX_0,REAL_1,NAT_1,PARTFUN1,FINSEQ_1,VALUED_1,SEQ_1,RFUNCT_1,FINSEQOP,RVSUM_1,CLASSES1,RFINSEQ,RFUNCT_3,CKB1,CKB3,CKB4;
definitions TARSKI,XBOOLE_0,FINSEQ_2,RELAT_1,CKB3,CKB4;
theorems FINSEQ_1,NAT_1,FUNCT_1,FINSEQ_2,TARSKI,CARD_2,CARD_1,PARTFUN1,FINSET_1,FINSEQ_3,RFUNCT_1,RVSUM_1,ZFMISC_1,RFINSEQ,RFUNCT_3,RELAT_1,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,FUNCOP_1,ORDINAL1,VALUED_1,CLASSES1,CKB2,CKB3,CKB4,CKB5,CKB6;
schemes NAT_1,FINSEQ_1;
registrations SUBSET_1,RELSET_1,PARTFUN1,FINSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,VALUED_0,CARD_1,FINSEQ_2,FUNCT_1;
constructors REAL_1,NAT_1,FINSEQOP,RVSUM_1,RFINSEQ,RFUNCT_3,SEQ_1,CLASSES1,RELSET_1,BINOP_2,CKB1,CKB3,CKB4;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve n for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
theorem
Lm4: (for D being non  empty  finite set holds (ex B being (FinSequence of ( bool D )) st ((( len B ) = ( card D ) & B is  ascending) & B is  terms've_same_card_as_number)))
proof
let D being non  empty  finite set;
defpred P[ (Element of ( NAT )) ]
 means
(for D being non  empty  finite set holds (( card D ) = $1 implies (ex B being (FinSequence of ( bool D )) st ((( len B ) = ( card D ) & B is  ascending) & B is  terms've_same_card_as_number))));
A1: (for n holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
let n;
assume A2: P[ n ];
let D being non  empty  finite set;
assume A3: ( card D ) = ( n + 1 );
set x = the (Element of D);
set Y = ( D \ { x } );
{ x } c= D by ZFMISC_1:31;
then A4: ( card Y ) = ( ( card D ) - ( card { x } ) ) by CARD_2:44
.= ( ( n + 1 ) - 1 ) by A3,CARD_1:30
.= n;
now
per cases ;
case A5: n = ( 0 );
set f = <* D *>;
A6: ( len f ) = 1 by FINSEQ_1:39;
A7: ( rng f ) = { D } by FINSEQ_1:39;
( rng f ) c= ( bool D )
proof
let z being set;
assume z in ( rng f );
then z = D by A7,TARSKI:def 1;
hence thesis by ZFMISC_1:def 1;
end;
then reconsider f as (FinSequence of ( bool D )) by FINSEQ_1:def 4;
take f;
thus ( card D ) = ( len f ) by A3,A5,FINSEQ_1:40;
thus f is  ascending
proof
let m being Nat;
assume (1 <= m & m <= ( ( len f ) - 1 ));
hence thesis by A6,XXREAL_0:2;
end;

thus f is  terms've_same_card_as_number
proof
let m being Nat;
assume (1 <= m & m <= ( len f ));
then A8: m = 1 by A6,XXREAL_0:1;
let B being  finite set;
assume B = ( f . m );
hence thesis by A3,A5,A8,FINSEQ_1:40;
end;

end;
case n <> ( 0 );
then reconsider Y as non  empty  finite set by A4;
D in ( bool D ) by ZFMISC_1:def 1;
then A9: { D } c= ( bool D ) by ZFMISC_1:31;
consider f being (FinSequence of ( bool Y )) such that A10: ( len f ) = ( card Y ) and A11: f is  ascending and A12: f is  terms've_same_card_as_number by A2,A4;
set g = ( f ^ <* D *> );
A13: (( rng <* D *> ) = { D } & ( rng g ) = ( ( rng f ) \/ ( rng <* D *> ) )) by FINSEQ_1:31,FINSEQ_1:39;
( bool Y ) c= ( bool D ) by ZFMISC_1:67;
then ( rng f ) c= ( bool D ) by XBOOLE_1:1;
then ( rng g ) c= ( ( bool D ) \/ ( bool D ) ) by A9,A13,XBOOLE_1:13;
then reconsider g as (FinSequence of ( bool D )) by FINSEQ_1:def 4;
take g;
A14: ( len <* D *> ) = 1 by FINSEQ_1:39;
then A15: ( len g ) = ( ( len f ) + 1 ) by FINSEQ_1:22;
thus ( len g ) = ( card D ) by A3,A4,A10,A14,FINSEQ_1:22;
thus g is  ascending
proof
let m being Nat;
assume that
A16: 1 <= m
and
A17: m <= ( ( len g ) - 1 );
m in ( dom f ) by A15,A16,A17,FINSEQ_3:25;
then A18: ( g . m ) = ( f . m ) by FINSEQ_1:def 7;
per cases ;
suppose A19: m = ( len f );

then reconsider gm = ( g . m ) as  finite set by A16,A18,CKB5:1;
(gm = Y & ( g . ( m + 1 ) ) = D) by A10,A12,A18,A19,CKB6:1,FINSEQ_1:42;
hence thesis;
end;
suppose m <> ( len f );

then m < ( len f ) by A15,A17,XXREAL_0:1;
then A20: ( m + 1 ) <= ( len f ) by NAT_1:13;
1 <= ( m + 1 ) by A16,NAT_1:13;
then ( m + 1 ) in ( dom f ) by A20,FINSEQ_3:25;
then A21: ( g . ( m + 1 ) ) = ( f . ( m + 1 ) ) by FINSEQ_1:def 7;
m <= ( ( len f ) - 1 ) by A20,XREAL_1:19;
hence thesis by A11,A16,A18,A21,CKB4:def 1;
end;
end;

thus g is  terms've_same_card_as_number
proof
let m being Nat;
assume that
A22: 1 <= m
and
A23: m <= ( len g );
let B being  finite set;
assume that
A24: B = ( g . m );
per cases ;
suppose m = ( len g );

hence thesis by A3,A4,A10,A15,A24,FINSEQ_1:42;
end;
suppose m <> ( len g );

then m < ( len g ) by A23,XXREAL_0:1;
then A25: m <= ( len f ) by A15,NAT_1:13;
then m in ( dom f ) by A22,FINSEQ_3:25;
then ( g . m ) = ( f . m ) by FINSEQ_1:def 7;
hence thesis by A12,A22,A24,A25,CKB3:def 1;
end;
end;

end;
end;
hence thesis;
end;
A26: P[ ( 0 ) ];
(for n holds P[ n ]) from NAT_1:sch 1(A26,A1);
hence thesis;
end;
