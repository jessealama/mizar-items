environ
vocabularies NUMBERS,XBOOLE_0,NAT_1,INT_1,XXREAL_0,CARD_1,RELAT_1,ARYTM_3,POWER,EUCLID,FINSEQ_1,BINOP_2,ZFMISC_1,TARSKI,FUNCT_1,FINSEQ_2,MARGREL1,BINARITH,ARYTM_1,SUBSET_1,PARTFUN1,XBOOLEAN,BINARI_2,BINARI_3,FUNCOP_1,ORDINAL4,COMPLEX1,NEWTON,BINARI_4;
notations INT_1,SUBSET_1,XBOOLEAN,MARGREL1,FUNCOP_1,POWER,BINARITH,BINARI_2,BINARI_3,SERIES_1,NUMBERS,XXREAL_0,XBOOLE_0,NAT_1,NAT_D,BINOP_2,EUCLID,TARSKI,PARTFUN1,FUNCT_1,RELAT_1,ZFMISC_1,INT_2,FINSEQOP,NEWTON,FINSEQ_1,FINSEQ_2,CKB21,CKB27;
definitions FINSEQ_2,XBOOLEAN,EUCLID,CKB21,CKB27;
theorems POWER,NAT_1,PRE_FF,ABSVALUE,BINARI_3,INT_1,BINARITH,NAT_2,BINARI_2,FINSEQ_1,FINSEQ_2,FINSEQ_4,FUNCOP_1,RVSUM_1,FUNCT_2,ZFMISC_1,INT_3,EULER_2,PEPIN,PREPOWER,XREAL_1,XXREAL_0,XBOOLEAN,NAT_D,VALUED_1,XREAL_0,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32;
schemes NAT_1;
registrations XBOOLE_0,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,XBOOLEAN,MARGREL1,VALUED_0,FINSEQ_1,FINSEQ_2,RELAT_1,FUNCT_1,CARD_1;
constructors XXREAL_0,REAL_1,NAT_D,FINSEQOP,NEWTON,SERIES_1,BINARITH,BINARI_2,EUCLID,BINARI_3,RVSUM_1,RELSET_1,CKB21,CKB27;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
reserve n for non  empty Nat;
reserve h for Integer;
reserve i for Integer;
theorem
Lm4: (for h,i being Integer holds (( h mod ( 2 to_power n ) ) = ( i mod ( 2 to_power n ) ) implies ( ( ( 2 to_power ( MajP (n,( abs h )) ) ) + h ) mod ( 2 to_power n ) ) = ( ( ( 2 to_power ( MajP (n,( abs i )) ) ) + i ) mod ( 2 to_power n ) )))
proof
let h being Integer;
let i being Integer;
assume that
A1: ( h mod ( 2 to_power n ) ) = ( i mod ( 2 to_power n ) );
n <= ( MajP (n,( abs i )) ) by CKB21:def 1;
then consider y being Nat such that A2: ( MajP (n,( abs i )) ) = ( n + y ) by NAT_1:10;
reconsider L = ( 2 to_power ( MajP (n,( abs i )) ) ) as Integer;
reconsider M = ( 2 to_power ( MajP (n,( abs h )) ) ) as Integer;
n <= ( MajP (n,( abs h )) ) by CKB21:def 1;
then consider x being Nat such that A3: ( MajP (n,( abs h )) ) = ( n + x ) by NAT_1:10;
reconsider x as Nat;
M = ( ( 2 to_power n ) * ( 2 to_power x ) ) by A3,POWER:27;
then A4: ( M mod ( 2 to_power n ) ) = ( ( ( ( 2 to_power n ) mod ( 2 to_power n ) ) * ( 2 to_power x ) ) mod ( 2 to_power n ) ) by EULER_2:8
.= ( ( ( 0 ) * ( 2 to_power x ) ) mod ( 2 to_power n ) ) by NAT_D:25
.= ( 0 ) by NAT_D:26;
reconsider y as Nat;
L = ( ( 2 to_power n ) * ( 2 to_power y ) ) by A2,POWER:27;
then A5: ( L mod ( 2 to_power n ) ) = ( ( ( ( 2 to_power n ) mod ( 2 to_power n ) ) * ( 2 to_power y ) ) mod ( 2 to_power n ) ) by EULER_2:8
.= ( ( ( 0 ) * ( 2 to_power y ) ) mod ( 2 to_power n ) ) by NAT_D:25
.= ( 0 ) by NAT_D:26;
A6: ( ( L + i ) mod ( 2 to_power n ) ) = ( ( ( L mod ( 2 to_power n ) ) + ( i mod ( 2 to_power n ) ) ) mod ( 2 to_power n ) ) by NAT_D:66
.= ( ( i mod ( 2 to_power n ) ) mod ( 2 to_power n ) ) by A5;
( ( M + h ) mod ( 2 to_power n ) ) = ( ( ( M mod ( 2 to_power n ) ) + ( h mod ( 2 to_power n ) ) ) mod ( 2 to_power n ) ) by NAT_D:66
.= ( ( h mod ( 2 to_power n ) ) mod ( 2 to_power n ) ) by A4;
hence thesis by A1,A6;
end;
