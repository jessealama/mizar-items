environ
vocabularies NUMBERS,XBOOLE_0,NAT_1,INT_1,XXREAL_0,CARD_1,RELAT_1,ARYTM_3,POWER,EUCLID,FINSEQ_1,BINOP_2,ZFMISC_1,TARSKI,FUNCT_1,FINSEQ_2,MARGREL1,BINARITH,ARYTM_1,SUBSET_1,PARTFUN1,XBOOLEAN,BINARI_2,BINARI_3,FUNCOP_1,ORDINAL4,COMPLEX1,NEWTON,BINARI_4;
notations INT_1,SUBSET_1,XBOOLEAN,MARGREL1,FUNCOP_1,POWER,BINARITH,BINARI_2,BINARI_3,SERIES_1,NUMBERS,XXREAL_0,XBOOLE_0,NAT_1,NAT_D,BINOP_2,EUCLID,TARSKI,PARTFUN1,FUNCT_1,RELAT_1,ZFMISC_1,INT_2,FINSEQOP,NEWTON,FINSEQ_1,FINSEQ_2,CKB21,CKB27;
definitions FINSEQ_2,XBOOLEAN,EUCLID,CKB21,CKB27;
theorems POWER,NAT_1,PRE_FF,ABSVALUE,BINARI_3,INT_1,BINARITH,NAT_2,BINARI_2,FINSEQ_1,FINSEQ_2,FINSEQ_4,FUNCOP_1,RVSUM_1,FUNCT_2,ZFMISC_1,INT_3,EULER_2,PEPIN,PREPOWER,XREAL_1,XXREAL_0,XBOOLEAN,NAT_D,VALUED_1,XREAL_0,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31;
schemes NAT_1;
registrations XBOOLE_0,NUMBERS,XXREAL_0,XREAL_0,NAT_1,INT_1,MEMBERED,XBOOLEAN,MARGREL1,VALUED_0,FINSEQ_1,FINSEQ_2,RELAT_1,FUNCT_1,CARD_1;
constructors XXREAL_0,REAL_1,NAT_D,FINSEQOP,NEWTON,SERIES_1,BINARITH,BINARI_2,EUCLID,BINARI_3,RVSUM_1,RELSET_1,CKB21,CKB27;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
reserve n for non  empty Nat;
reserve j for Nat;
reserve k for Nat;
reserve l for Nat;
reserve m for Nat;
theorem
Lm3: (for k,l,m being Nat holds ((m < n & ( k mod ( 2 to_power n ) ) = ( l mod ( 2 to_power n ) )) implies ( ( k div ( 2 to_power m ) ) mod 2 ) = ( ( l div ( 2 to_power m ) ) mod 2 )))
proof
let k being Nat;
let l being Nat;
let m being Nat;
assume that
A1: m < n
and
A2: ( k mod ( 2 to_power n ) ) = ( l mod ( 2 to_power n ) );
consider j being Nat such that A3: n = ( m + j ) by A1,NAT_1:10;
( 2 to_power n ) = ( 2 |^ n ) by POWER:41;
then ( 2 to_power n ) is non  empty by PREPOWER:5;
then consider s being Integer such that A4: k = ( l + ( s * ( 2 to_power n ) ) ) by A2,CKB31:1;
reconsider j as Nat;
set M = ( 2 to_power m );
set J = ( 2 to_power j );
( m + ( - m ) ) < ( n + ( - m ) ) by A1,XREAL_1:8;
then ( ( 0 ) + 1 ) < ( j + 1 ) by A3,XREAL_1:8;
then 1 <= j by NAT_1:13;
then ( 2 to_power 1 ) divides ( 2 to_power j ) by NAT_2:11;
then 2 divides ( 2 to_power j ) by POWER:25;
then ( J mod 2 ) = ( 0 ) by PEPIN:6;
then A5: ( ( s * J ) mod 2 ) = ( ( ( s mod 2 ) * ( 0 ) ) mod 2 ) by NAT_D:67
.= ( 0 ) by NAT_D:26;
reconsider L = l as Integer;
A6: M > ( 0 ) by POWER:34;
( k div M ) = ( ( l + ( s * ( J * M ) ) ) div M ) by A4,A3,POWER:27
.= ( ( l + ( ( s * J ) * M ) ) div M )
.= ( ( l div M ) + ( s * J ) ) by A6,NAT_D:61;
then ( ( k div M ) mod 2 ) = ( ( ( ( L div M ) mod 2 ) + ( 0 ) ) mod 2 ) by A5,NAT_D:66
.= ( ( L div M ) mod 2 ) by NAT_D:65;
hence thesis;
end;
