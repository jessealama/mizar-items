environ
vocabularies XBOOLE_0,FUNCT_1,SUBSET_1,RELAT_1,TARSKI,PRE_TOPC,TOPS_2,RCOMP_1,EQREL_1,STRUCT_0,RELAT_2,BORSUK_1,ORDINAL2,CARD_3,CLASSES1,T_0TOPSP,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,CLASSES1,RELAT_2,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,STRUCT_0,PRE_TOPC,TOPS_2,BORSUK_1,EQREL_1,CKB2,CKB3;
definitions TOPS_2,RELAT_2,RELSET_1,STRUCT_0,PRE_TOPC,CKB2,CKB3;
theorems FUNCT_1,FUNCT_2,EQREL_1,RELAT_1,TOPS_2,PRE_TOPC,BORSUK_1,TARSKI,RELSET_1,XBOOLE_0,RELAT_2,PARTFUN1,ORDERS_1,SUBSET_1,CLASSES1,CKB1,CKB2,CKB3;
schemes FUNCT_2,RELSET_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,STRUCT_0,PRE_TOPC,BORSUK_1,EQREL_1,RELSET_1;
constructors SETFAM_1,RFINSEQ,TOPS_2,BORSUK_1,CLASSES1,CKB2,CKB3;
requirements SUBSET,BOOLE;
begin
definition
let T being non  empty TopStruct;
func Indiscernibility T -> (Equivalence_Relation of (the carrier of T)) means 
:Def3: (for p,q being (Point of T) holds ([ p,q ] in it iff (for A being (Subset of T) holds (A is  open implies (p in A iff q in A)))));
existence
proof
defpred X[ set,set ]
 means
(for A being (Subset of T) holds (A is  open implies ($1 in A iff $2 in A)));
consider R being (Relation of (the carrier of T),(the carrier of T)) such that A1: (for p,q being (Element of T) holds ([ p,q ] in R iff X[ p,q ])) from RELSET_1:sch 2;
A2: R is_transitive_in (the carrier of T)
proof
let x being set;
let y being set;
let z being set;
assume that
A3: ((x in (the carrier of T) & y in (the carrier of T)) & z in (the carrier of T))
and
A4: [ x,y ] in R
and
A5: [ y,z ] in R;
reconsider x9 = x,y9 = y,z9 = z as (Element of T) by A3;
(for A being (Subset of T) holds (A is  open implies (x9 in A iff z9 in A)))
proof
let A being (Subset of T);
assume A6: A is  open;
then (x9 in A iff y9 in A) by A1,A4;
hence thesis by A1,A5,A6;
end;
hence thesis by A1;
end;
R is_reflexive_in (the carrier of T)
proof
let x being set;
A7: (for A being (Subset of T) holds (A is  open implies (x in A iff x in A)));
assume x in (the carrier of T);
hence thesis by A1,A7;
end;
then A8: (( dom R ) = (the carrier of T) & ( field R ) = (the carrier of T)) by ORDERS_1:13;
R is_symmetric_in (the carrier of T)
proof
let x being set;
let y being set;
assume that
A9: (x in (the carrier of T) & y in (the carrier of T))
and
A10: [ x,y ] in R;
(for A being (Subset of T) holds (A is  open implies (y in A iff x in A))) by A1,A9,A10;
hence thesis by A1,A9;
end;
then reconsider R as (Equivalence_Relation of (the carrier of T)) by A8,A2,PARTFUN1:def 2,RELAT_2:def 11,RELAT_2:def 16;
take R;
let p being (Point of T);
let q being (Point of T);
thus ([ p,q ] in R implies (for A being (Subset of T) holds (A is  open implies (p in A iff q in A)))) by A1;
assume (for A being (Subset of T) holds (A is  open implies (p in A iff q in A)));
hence thesis by A1;
end;
uniqueness
proof
let R1 being (Equivalence_Relation of (the carrier of T));
let R2 being (Equivalence_Relation of (the carrier of T));
assume that
A11: (for p,q being (Point of T) holds ([ p,q ] in R1 iff (for A being (Subset of T) holds (A is  open implies (p in A iff q in A)))))
and
A12: (for p,q being (Point of T) holds ([ p,q ] in R2 iff (for A being (Subset of T) holds (A is  open implies (p in A iff q in A)))));
let x being (Point of T);
let y being (Point of T);
([ x,y ] in R1 iff (for A being (Subset of T) holds (A is  open implies (x in A iff y in A)))) by A11;
hence thesis by A12;
end;
end;
