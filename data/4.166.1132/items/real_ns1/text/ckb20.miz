environ
vocabularies NUMBERS,SUBSET_1,NAT_1,BINOP_1,FUNCT_1,ARYTM_3,FINSEQ_2,ZFMISC_1,RELAT_1,XREAL_0,ORDINAL1,COMPLEX1,STRUCT_0,XBOOLE_0,NORMSP_1,SUPINF_2,EUCLID,ALGSTR_0,RLVECT_1,PRE_TOPC,REAL_1,CARD_1,XXREAL_0,ARYTM_1,FINSEQ_1,CARD_3,ORDINAL4,TARSKI,RVSUM_1,SQUARE_1,SEQ_2,ORDINAL2,SEQ_1,VALUED_1,RSSPACE3,LOPBAN_1,REWRITE1,BHSP_1,PROB_2,BINOP_2,METRIC_1,BHSP_3,REAL_NS1,RELAT_2,NORMSP_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,BINOP_1,XCMPLX_0,PRE_TOPC,NAT_1,FINSEQ_1,FINSEQ_2,STRUCT_0,ALGSTR_0,FUNCOP_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,SQUARE_1,COMPLEX1,REAL_1,RLVECT_1,BHSP_1,BHSP_2,BINOP_2,VALUED_1,SEQ_1,SEQ_2,RVSUM_1,NORMSP_0,NORMSP_1,EUCLID,RSSPACE3,LOPBAN_1,BHSP_3,CKB2,CKB4,CKB5,CKB6,CKB19;
definitions RLVECT_1,BINOP_1,BHSP_1,RSSPACE3,BHSP_3,SQUARE_1,STRUCT_0,ALGSTR_0,VALUED_1,NORMSP_0,CKB2,CKB4,CKB5,CKB6;
theorems TARSKI,XREAL_0,NORMSP_1,EUCLID,RLVECT_1,SEQ_2,SEQ_4,BINOP_1,COMPLEX1,ABSVALUE,RSSPACE3,FINSEQ_1,FINSEQ_2,RVSUM_1,FUNCT_2,LOPBAN_1,ZFMISC_1,FUNCOP_1,SEQ_1,NAT_1,SQUARE_1,FUNCT_1,FINSEQ_5,XREAL_1,RFUNCT_4,JORDAN2C,BHSP_2,BHSP_1,EUCLID_2,EUCLID_4,EUCLIDLP,BHSP_3,XXREAL_0,VALUED_1,NORMSP_0,ORDINAL1,CARD_1,CKB1,CKB2,CKB4,CKB5,CKB6,CKB8,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
schemes NAT_1,SEQ_1,BINOP_1,BINOP_2,FUNCT_2,FINSEQ_1;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCOP_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_2,STRUCT_0,NORMSP_1,BHSP_1,REVROT_1,RSSPACE3,VALUED_0,VALUED_1,FUNCT_2,EUCLID,FINSEQ_1,NORMSP_0,CARD_1,CKB3,CKB7,CKB11;
constructors REAL_1,SQUARE_1,NAT_1,BINOP_2,COMPLEX1,SUPINF_1,SEQ_2,FINSEQOP,REALSET2,BHSP_2,BHSP_3,RSSPACE3,LOPBAN_1,PARTFUN1,SEQ_1,BINOP_1,VALUED_1,RVSUM_1,EUCLID,NORMSP_1,RELSET_1,SEQ_4,CKB2,CKB4,CKB5,CKB6,CKB19;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
theorem
Th11: (for n being Nat holds (for x being (Point of ( REAL-NS n )) holds (for xs being (Element of ( REAL n )) holds (for seq being (sequence of ( REAL-NS n )) holds (for xseq being (Function of ( NAT ),( REAL n )) holds ((xs = x & xseq = seq) implies ((seq is  convergent & ( lim seq ) = x) iff (for i being (Element of ( NAT )) holds (i in ( Seg n ) implies (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi )))))))))))))
proof
defpred P[ Nat ]
 means
(for x being (Point of ( REAL-NS $1 )) holds (for xs being (Element of ( REAL $1 )) holds (for seq being (sequence of ( REAL-NS $1 )) holds (for xseq being (Function of ( NAT ),( REAL $1 )) holds ((xs = x & xseq = seq) implies ((seq is  convergent & ( lim seq ) = x) iff (for i being (Element of ( NAT )) holds (i in ( Seg $1 ) implies (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi ))))))))))));
A1:now
let n being Nat;
assume A2: P[ n ];
now
let x being (Point of ( REAL-NS ( n + 1 ) ));
let xs being (Element of ( REAL ( n + 1 ) ));
let seq being (sequence of ( REAL-NS ( n + 1 ) ));
let xseq being (Function of ( NAT ),( REAL ( n + 1 ) ));
assume A3: (xs = x & xseq = seq);
A4:now
assume A5: (for i being (Element of ( NAT )) holds (i in ( Seg ( n + 1 ) ) implies (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi ))))));
thus (seq is  convergent & ( lim seq ) = x)
proof
( len xs ) = ( n + 1 ) by CARD_1:def 7;
then ( len ( xs | n ) ) = n by FINSEQ_1:59,NAT_1:11;
then ( dom ( xs | n ) ) = ( Seg n ) by FINSEQ_1:def 3;
then reconsider xsn = ( xs | n ) as (Element of ( REAL n )) by CKB14:1;
reconsider xn = xsn as (Point of ( REAL-NS n )) by CKB6:def 1;
defpred P1[ (Element of ( NAT )),(Element of ( REAL n )) ]
 means
$2 = ( ( xseq . $1 ) | n );
set seq2 = ( ||. ( seq - x ) .|| (#) ||. ( seq - x ) .|| );
consider rseqn1 being Real_Sequence such that A6: (for k being (Element of ( NAT )) holds ((( rseqn1 . k ) = ( ( xseq . k ) . ( n + 1 ) ) & rseqn1 is  convergent) & ( xs . ( n + 1 ) ) = ( lim rseqn1 ))) by A5,FINSEQ_1:4;
A7: (for i being (Element of ( NAT )) holds (ex y being (Element of ( REAL n )) st P1[ i,y ]))
proof
let i being (Element of ( NAT ));
take y = ( ( xseq . i ) | n );
( len ( xseq . i ) ) = ( n + 1 ) by CARD_1:def 7;
then ( len ( ( xseq . i ) | n ) ) = n by FINSEQ_1:59,NAT_1:11;
then ( dom ( ( xseq . i ) | n ) ) = ( Seg n ) by FINSEQ_1:def 3;
hence thesis by CKB14:1;
end;
consider xseqn being (Function of ( NAT ),( REAL n )) such that A8: (for i being (Element of ( NAT )) holds P1[ i,( xseqn . i ) ]) from FUNCT_2:sch 3(A7);
reconsider seqn = xseqn as (sequence of ( REAL-NS n )) by CKB6:def 1;
set seqn2 = ( ||. ( seqn - xn ) .|| (#) ||. ( seqn - xn ) .|| );
deffunc F((Element of ( NAT ))) = ( abs ( ( rseqn1 . $1 ) - ( xs . ( n + 1 ) ) ) );
consider absrseq being Real_Sequence such that A9: (for i being (Element of ( NAT )) holds ( absrseq . i ) = F(i)) from SEQ_1:sch 1;
A10: (for i being (Element of ( NAT )) holds (i in ( Seg n ) implies (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseqn . k ) . i ) & rseqi is  convergent) & ( xsn . i ) = ( lim rseqi ))))))
proof
let i being (Element of ( NAT ));
assume that
A11: i in ( Seg n );
n <= ( n + 1 ) by NAT_1:11;
then ( Seg n ) c= ( Seg ( n + 1 ) ) by FINSEQ_1:5;
then consider rseqi being Real_Sequence such that A12: (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi ))) by A5,A11;
A13:now
let k being (Element of ( NAT ));
thus ( rseqi . k ) = ( ( xseq . k ) . i ) by A12
.= ( ( ( xseq . k ) | ( Seg n ) ) . i ) by A11,FUNCT_1:49
.= ( ( ( xseq . k ) | n ) . i ) by FINSEQ_1:def 15
.= ( ( xseqn . k ) . i ) by A8;
end;
( xsn . i ) = ( ( xs | ( Seg n ) ) . i ) by FINSEQ_1:def 15
.= ( xs . i ) by A11,FUNCT_1:49;
hence thesis by A12,A13;
end;
then A14: xn = ( lim seqn ) by A2;
set rseqn2 = ( absrseq (#) absrseq );
xsn = xn;
then A15: seqn is  convergent by A2,A10;
then A16: ||. ( seqn - xn ) .|| is  convergent by A14,NORMSP_1:24;
then A17: seqn2 is  convergent by SEQ_2:14;
now
reconsider rxs = xs as (Element of ( ( n + 1 ) -tuples_on ( REAL ) )) by EUCLID:def 1;
let k being (Element of ( NAT ));
A18: ( ||. ( seq - x ) .|| . k ) = ||. ( ( seq - x ) . k ) .|| by NORMSP_0:def 4
.= ||. ( ( seq . k ) - x ) .|| by NORMSP_1:def 4;
reconsider rxseqk = ( xseq . k ) as (Element of ( ( n + 1 ) -tuples_on ( REAL ) )) by EUCLID:def 1;
A19: ( ||. ( seqn - xn ) .|| . k ) = ||. ( ( seqn - xn ) . k ) .|| by NORMSP_0:def 4
.= ||. ( ( seqn . k ) - xn ) .|| by NORMSP_1:def 4;
( len ( ( xseqn . k ) - xsn ) ) = n by CARD_1:def 7;
then A20: ( dom ( ( xseqn . k ) - xsn ) ) = ( Seg n ) by FINSEQ_1:def 3;
A21: ( ( ( xseq . k ) - xs ) . ( n + 1 ) ) = ( ( rxseqk . ( n + 1 ) ) - ( rxs . ( n + 1 ) ) ) by RVSUM_1:27
.= ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) by A6;
( len ( ( xseq . k ) - xs ) ) = ( n + 1 ) by CARD_1:def 7;
then A22: ( len ( ( ( xseq . k ) - xs ) | n ) ) = n by FINSEQ_1:59,NAT_1:11;
A23:now
reconsider xseq2 = ( xseqn . k ),xs2 = xsn as (Element of ( n -tuples_on ( REAL ) )) by EUCLID:def 1;
reconsider xseq1 = ( xseq . k ),xs1 = xs as (Element of ( ( n + 1 ) -tuples_on ( REAL ) )) by EUCLID:def 1;
let i being Nat;
assume i in ( dom ( ( ( xseq . k ) - xs ) | n ) );
then A24: i in ( Seg n ) by A22,FINSEQ_1:def 3;
A25: ( ( ( xseqn . k ) - xsn ) . i ) = ( ( xseq2 . i ) - ( xs2 . i ) ) by RVSUM_1:27;
A26: ( ( ( xseq . k ) - xs ) . i ) = ( ( xseq1 . i ) - ( xs1 . i ) ) by RVSUM_1:27;
thus ( ( ( ( xseq . k ) - xs ) | n ) . i ) = ( ( ( ( xseq . k ) - xs ) | ( Seg n ) ) . i ) by FINSEQ_1:def 15
.= ( ( ( xseq . k ) - xs ) . i ) by A24,FUNCT_1:49
.= ( ( ( ( xseq . k ) | ( Seg n ) ) . i ) - ( xs . i ) ) by A24,A26,FUNCT_1:49
.= ( ( ( ( xseq . k ) | ( Seg n ) ) . i ) - ( ( xs | ( Seg n ) ) . i ) ) by A24,FUNCT_1:49
.= ( ( ( ( xseq . k ) | n ) . i ) - ( ( xs | ( Seg n ) ) . i ) ) by FINSEQ_1:def 15
.= ( ( ( ( xseq . k ) | n ) . i ) - ( ( xs | n ) . i ) ) by FINSEQ_1:def 15
.= ( ( ( xseqn . k ) - xsn ) . i ) by A8,A25;
end;
( dom ( ( ( xseq . k ) - xs ) | n ) ) = ( Seg n ) by A22,FINSEQ_1:def 3;
then A27: ( ( ( xseq . k ) - xs ) | n ) = ( ( xseqn . k ) - xsn ) by A20,A23,FINSEQ_1:13;
A28: ( 0 ) <= ( ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ^2 ) by XREAL_1:63;
A29: ( absrseq . k ) = ( abs ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ) by A9;
||. ( ( seq . k ) - x ) .|| = |. ( ( xseq . k ) - xs ) .| by A3,CKB8:1,CKB13:1;
hence ( seq2 . k ) = ( |. ( ( xseq . k ) - xs ) .| ^2 ) by A18,SEQ_1:8
.= ( ( |. ( ( xseqn . k ) - xsn ) .| ^2 ) + ( ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ^2 ) ) by A21,A27,CKB18:1
.= ( ( ||. ( ( seqn . k ) - xn ) .|| ^2 ) + ( ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ^2 ) ) by CKB8:1,CKB13:1
.= ( ( ( ||. ( seqn - xn ) .|| (#) ||. ( seqn - xn ) .|| ) . k ) + ( ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ^2 ) ) by A19,SEQ_1:8
.= ( ( seqn2 . k ) + ( abs ( ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) * ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ) ) ) by A28,ABSVALUE:def 1
.= ( ( seqn2 . k ) + ( ( abs ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ) * ( abs ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ) ) ) by COMPLEX1:65
.= ( ( seqn2 . k ) + ( rseqn2 . k ) ) by A29,SEQ_1:8;
end;
then A30: seq2 = ( seqn2 + rseqn2 ) by SEQ_1:7;
A31:now
let e being  real number;
assume e > ( 0 );
then consider m being (Element of ( NAT )) such that A32: (for k being (Element of ( NAT )) holds (m <= k implies ( abs ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ) < e)) by A6,SEQ_2:def 7;
now
let k being (Element of ( NAT ));
assume m <= k;
then ( abs ( ( abs ( ( rseqn1 . k ) - ( xs . ( n + 1 ) ) ) ) - ( 0 ) ) ) < e by A32;
hence ( abs ( ( absrseq . k ) - ( 0 ) ) ) < e by A9;
end;
hence (ex m being (Element of ( NAT )) st (for k being (Element of ( NAT )) holds (m <= k implies ( abs ( ( absrseq . k ) - ( 0 ) ) ) < e)));
end;
then A33: absrseq is  convergent by SEQ_2:def 6;
then ( lim absrseq ) = ( 0 ) by A31,SEQ_2:def 7;
then A34: ( lim rseqn2 ) = ( ( 0 ) * ( 0 ) ) by A33,SEQ_2:15
.= ( 0 );
A35: rseqn2 is  convergent by A33,SEQ_2:14;
then A36: seq2 is  convergent by A17,A30,SEQ_2:5;
( lim ||. ( seqn - xn ) .|| ) = ( 0 ) by A15,A14,NORMSP_1:24;
then ( lim seqn2 ) = ( ( 0 ) * ( 0 ) ) by A16,SEQ_2:15
.= ( 0 );
then A37: ( lim seq2 ) = ( ( 0 ) + ( 0 ) ) by A17,A35,A34,A30,SEQ_2:6
.= ( 0 );
A38: (for e being Real holds (e > ( 0 ) implies (ex m being (Element of ( NAT )) st (for k being (Element of ( NAT )) holds (k >= m implies ||. ( ( seq . k ) - x ) .|| < e)))))
proof
let e being Real;
assume that
A39: e > ( 0 );
( e * ( 0 ) ) < ( e * e ) by A39,XREAL_1:97;
then consider m being (Element of ( NAT )) such that A40: (for k being (Element of ( NAT )) holds (m <= k implies ( abs ( ( seq2 . k ) - ( 0 ) ) ) < ( e * e ))) by A36,A37,SEQ_2:def 7;
now
let k being (Element of ( NAT ));
assume that
A41: m <= k;
( ||. ( seq - x ) .|| . k ) = ||. ( ( seq - x ) . k ) .|| by NORMSP_0:def 4
.= ||. ( ( seq . k ) - x ) .|| by NORMSP_1:def 4;
then ( seq2 . k ) = ( ||. ( ( seq . k ) - x ) .|| * ||. ( ( seq . k ) - x ) .|| ) by SEQ_1:8;
then ( abs ( ( seq2 . k ) - ( 0 ) ) ) = ( ||. ( ( seq . k ) - x ) .|| * ||. ( ( seq . k ) - x ) .|| ) by ABSVALUE:def 1;
then A42: ( ||. ( ( seq . k ) - x ) .|| * ||. ( ( seq . k ) - x ) .|| ) < ( e * e ) by A40,A41;
A43: ( sqrt ( ||. ( ( seq . k ) - x ) .|| * ||. ( ( seq . k ) - x ) .|| ) ) = ( sqrt ( ||. ( ( seq . k ) - x ) .|| ^2 ) )
.= ||. ( ( seq . k ) - x ) .|| by SQUARE_1:22;
( sqrt ( e * e ) ) = ( sqrt ( e ^2 ) )
.= e by A39,SQUARE_1:22;
hence ||. ( ( seq . k ) - x ) .|| < e by A42,A43,SQUARE_1:27;
end;
hence thesis;
end;
then seq is  convergent by NORMSP_1:def 6;
hence thesis by A38,NORMSP_1:def 7;
end;

end;
now
assume A44: (seq is  convergent & ( lim seq ) = x);
now
let i being (Element of ( NAT ));
assume that
A45: i in ( Seg ( n + 1 ) );
deffunc F((Element of ( NAT ))) = ( ( xseq . $1 ) . i );
consider rseqi being Real_Sequence such that A46: (for l being (Element of ( NAT )) holds ( rseqi . l ) = F(l)) from SEQ_1:sch 1;
A47:now
let e being  real number;
assume that
A48: e > ( 0 );
thus (ex k being (Element of ( NAT )) st (for m being (Element of ( NAT )) holds (k <= m implies ( abs ( ( rseqi . m ) - ( xs . i ) ) ) < e)))
proof
e is Real by XREAL_0:def 1;
then consider k being (Element of ( NAT )) such that A49: (for m being (Element of ( NAT )) holds (m >= k implies ||. ( ( seq . m ) - x ) .|| < e)) by A44,A48,NORMSP_1:def 7;
take k;
let m being (Element of ( NAT ));
assume k <= m;
then A50: ||. ( ( seq . m ) - x ) .|| < e by A49;
( len ( ( xseq . m ) - xs ) ) = ( n + 1 ) by CARD_1:def 7;
then i in ( dom ( ( xseq . m ) - xs ) ) by A45,FINSEQ_1:def 3;
then ( ( ( xseq . m ) . i ) - ( xs . i ) ) = ( ( ( xseq . m ) - xs ) . i ) by VALUED_1:13;
then A51: ( abs ( ( ( xseq . m ) . i ) - ( xs . i ) ) ) <= ||. ( ( seq . m ) - x ) .|| by A3,A45,CKB13:1,CKB17:1;
( ( rseqi . m ) - ( xs . i ) ) = ( ( ( xseq . m ) . i ) - ( xs . i ) ) by A46;
hence thesis by A50,A51,XXREAL_0:2;
end;

end;
then A52: rseqi is  convergent by SEQ_2:def 6;
then ( xs . i ) = ( lim rseqi ) by A47,SEQ_2:def 7;
hence (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi )))) by A46,A52;
end;
hence (for i being (Element of ( NAT )) holds (i in ( Seg ( n + 1 ) ) implies (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi ))))));
end;
hence ((seq is  convergent & ( lim seq ) = x) iff (for i being (Element of ( NAT )) holds (i in ( Seg ( n + 1 ) ) implies (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi ))))))) by A4;
end;
hence P[ ( n + 1 ) ];
end;
A53: P[ ( 0 ) ]
proof
let x being (Point of ( REAL-NS ( 0 ) ));
let xs being (Element of ( REAL ( 0 ) ));
let seq being (sequence of ( REAL-NS ( 0 ) ));
let xseq being (Function of ( NAT ),( REAL ( 0 ) ));
assume that
A54: xs = x
and
A55: xseq = seq;
now
assume (for i being (Element of ( NAT )) holds (i in ( Seg ( 0 ) ) implies (ex rseqi being Real_Sequence st (for k being (Element of ( NAT )) holds ((( rseqi . k ) = ( ( xseq . k ) . i ) & rseqi is  convergent) & ( xs . i ) = ( lim rseqi ))))));
A57: (for i being (Element of ( NAT )) holds ( seq . i ) = ( 0. ( REAL-NS ( 0 ) ) ))
proof
let i being (Element of ( NAT ));
( xseq . i ) = ( 0.REAL ( 0 ) );
hence thesis by A55,CKB6:def 1;
end;
xs = ( 0* ( 0 ) );
then A58: x = ( 0. ( REAL-NS ( 0 ) ) ) by A54,CKB6:def 1;
A59: (for r being Real holds (( 0 ) < r implies (ex m being (Element of ( NAT )) st (for k being (Element of ( NAT )) holds (m <= k implies ||. ( ( seq . k ) - x ) .|| < r)))))
proof
let r being Real;
assume A60: ( 0 ) < r;
take m = 1;
let k being (Element of ( NAT ));
assume m <= k;
||. ( ( seq . k ) - x ) .|| = ||. ( ( 0. ( REAL-NS ( 0 ) ) ) - ( 0. ( REAL-NS ( 0 ) ) ) ) .|| by A58,A57
.= ||. ( 0. ( REAL-NS ( 0 ) ) ) .|| by RLVECT_1:15
.= ( 0 );
hence thesis by A60;
end;
then seq is  convergent by NORMSP_1:def 6;
hence (seq is  convergent & ( lim seq ) = x) by A59,NORMSP_1:def 7;
end;
hence thesis;
end;
thus (for n being Nat holds P[ n ]) from NAT_1:sch 2(A53,A1);
end;
