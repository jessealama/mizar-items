environ
vocabularies WAYBEL_0,ORDINAL2,SUBSET_1,WAYBEL_3,CARD_FIL,XXREAL_0,TARSKI,XBOOLE_0,YELLOW_0,LATTICE3,LATTICES,YELLOW_2,WAYBEL_1,YELLOW_1,RELAT_1,FUNCT_1,STRUCT_0,REWRITE1,PBOOLE,FUNCOP_1,FUNCT_6,CARD_3,FINSEQ_4,ORDERS_2,YELLOW_6,CLASSES1,CLASSES2,ZFMISC_1,FUNCT_5,EQREL_1,FUNCT_2,FINSUB_1,FINSET_1,ORDERS_1,RELAT_2,LATTICE2,CAT_1,XBOOLEAN,PARTFUN1,MEMBER_1,SEQM_3,WAYBEL_5,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FINSET_1,FINSUB_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,FUNCT_4,FUNCT_5,FUNCT_6,FUNCOP_1,ORDERS_1,DOMAIN_1,STRUCT_0,ORDERS_2,LATTICE3,CARD_3,PBOOLE,PRALG_1,PRALG_2,MSUALG_3,CLASSES1,CLASSES2,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_1,WAYBEL_0,WAYBEL_3,YELLOW_6,CKB10,CKB11,CKB13,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB45,CKB55,CKB64,CKB68,CKB70;
definitions TARSKI,LATTICE3,BINOP_1,STRUCT_0,CKB25,CKB26,CKB55;
theorems TARSKI,ZFMISC_1,FUNCT_1,FUNCT_2,FUNCT_5,CARD_3,ORDERS_2,LATTICE3,FUNCT_6,FUNCOP_1,PBOOLE,PRALG_1,PRALG_2,MSUALG_3,RELAT_1,FINSUB_1,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_1,WAYBEL_0,WAYBEL_3,CLASSES2,YELLOW_6,CLASSES1,RELSET_1,XBOOLE_0,XBOOLE_1,FUNCT_4,ORDERS_1,STRUCT_0,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB25,CKB26,CKB31,CKB32,CKB33,CKB34,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB58,CKB60,CKB61,CKB62,CKB65,CKB66,CKB67,CKB71,CKB72,CKB73;
schemes FUNCT_1,FUNCT_2,MSSUBFAM,DOMAIN_1,BINOP_1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,FUNCT_2,FUNCOP_1,FUNCT_4,FINSET_1,CARD_3,CLASSES2,PBOOLE,STRUCT_0,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_3,YELLOW_6,PRALG_1,CARD_1,ORDINAL1,CKB14,CKB15,CKB22,CKB35,CKB36,CKB56,CKB57,CKB59,CKB63,CKB69;
constructors FINSUB_1,CLASSES1,CLASSES2,BORSUK_1,LATTICE3,PRALG_1,PRALG_2,MSUALG_3,ORDERS_3,WAYBEL_1,WAYBEL_3,YELLOW_6,CKB13,CKB23,CKB24,CKB25,CKB26,CKB45,CKB55,CKB70;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve L for  complete LATTICE;
reserve J for non empty set;
reserve K for  non-empty (ManySortedSet of J);
theorem
(L is  continuous implies (for S being non empty Poset holds ((ex g being (Function of L,S) st (g is  infs-preserving  directed-sups-preserving & g is  onto)) implies S is  continuous  continuous LATTICE)))
proof
assume A1: L is  continuous;
let S being non empty Poset;
given g being (Function of L,S) such that
A2: g is  infs-preserving  directed-sups-preserving
and
A3: g is  onto;

reconsider S9 = S as  complete LATTICE by A2,A3,CKB67:1;
(for J holds (for K holds (for F being (DoubleIndexedSet of K,S9) holds ((for j being (Element of J) holds ( rng ( F . j ) ) is  directed) implies ( Inf ( Sups F ) ) = ( Sup ( Infs ( Frege F ) ) )))))
proof
let J;
let K;
let F being (DoubleIndexedSet of K,S9);
assume that
A4: (for j being (Element of J) holds ( rng ( F . j ) ) is  directed);
consider d being (Function of S,L) such that A5: [ g,d ] is  Galois and (for t being (Element of S) holds ( d . t ) is_minimum_of ( g " ( uparrow t ) )) by A2,WAYBEL_1:14;
reconsider dF = ( ( J => d ) ** F ) as (DoubleIndexedSet of K,L) by CKB72:1;
A6: ( ex_inf_of ( rng ( Sups dF ) ),L & g preserves_inf_of ( rng ( Sups dF ) )) by A2,WAYBEL_0:def 32,YELLOW_0:17;
(for t being (Element of S) holds ( d . t ) is_minimum_of ( g " { t } )) by A3,A5,WAYBEL_1:22;
then A7: ( g * d ) = ( id S ) by WAYBEL_1:23;
A8: (for f being set holds (f in ( dom ( Frege dF ) ) implies ( rng ( ( Frege F ) . f ) ) = ( g .: ( rng ( ( Frege dF ) . f ) ) )))
proof
let f being set;
assume A9: f in ( dom ( Frege dF ) );
then reconsider f as (Element of ( product ( doms dF ) )) by PARTFUN1:def 2;
A10: ( dom ( Frege dF ) ) = ( product ( doms dF ) ) by PARTFUN1:def 2
.= ( product ( doms F ) ) by CKB73:1
.= ( dom ( Frege F ) ) by PARTFUN1:def 2;
A11: ( dom ( ( Frege dF ) . f ) ) = ( dom dF ) by A9,CKB17:1
.= J by PARTFUN1:def 2;
A12:now
let i being set;
assume A13: i in J;
then reconsider j = i as (Element of J);
A14: j in ( dom F ) by A13,PARTFUN1:def 2;
A15: j in ( dom dF ) by A13,PARTFUN1:def 2;
then ( f . j ) in ( dom ( dF . j ) ) by A9,CKB18:1;
then ( f . j ) in ( dom ( ( ( J => d ) . j ) * ( F . j ) ) ) by MSUALG_3:2;
then A16: ( f . j ) in ( dom ( d * ( F . j ) ) ) by FUNCOP_1:7;
( ( g * ( ( Frege dF ) . f ) ) . j ) = ( g . ( ( ( Frege dF ) . f ) . j ) ) by A11,FUNCT_1:13
.= ( g . ( ( dF . j ) . ( f . j ) ) ) by A9,A15,CKB18:1
.= ( g . ( ( ( ( J => d ) . j ) * ( F . j ) ) . ( f . j ) ) ) by MSUALG_3:2
.= ( g . ( ( d * ( F . j ) ) . ( f . j ) ) ) by FUNCOP_1:7
.= ( ( g * ( d * ( F . j ) ) ) . ( f . j ) ) by A16,FUNCT_1:13
.= ( ( ( id (the carrier of S) ) * ( F . j ) ) . ( f . j ) ) by A7,RELAT_1:36
.= ( ( F . j ) . ( f . j ) ) by FUNCT_2:17
.= ( ( ( Frege F ) . f ) . j ) by A9,A10,A14,CKB18:1;
hence ( ( g * ( ( Frege dF ) . f ) ) . i ) = ( ( ( Frege F ) . f ) . i );
end;
( dom g ) = (the carrier of L) by FUNCT_2:def 1;
then ( rng ( ( Frege dF ) . f ) ) c= ( dom g );
then A17: ( dom ( g * ( ( Frege dF ) . f ) ) ) = ( dom ( ( Frege dF ) . f ) ) by RELAT_1:27;
( dom ( ( Frege F ) . f ) ) = ( dom F ) by A9,A10,CKB17:1
.= J by PARTFUN1:def 2;
then ( rng ( ( Frege F ) . f ) ) = ( rng ( g * ( ( Frege dF ) . f ) ) ) by A11,A17,A12,FUNCT_1:2
.= ( g .: ( rng ( ( Frege dF ) . f ) ) ) by RELAT_1:127;
hence thesis;
end;
A18: ( rng ( Infs ( Frege F ) ) ) c= ( g .: ( rng ( Infs ( Frege dF ) ) ) )
proof
let y being set;
assume y in ( rng ( Infs ( Frege F ) ) );
then consider f being set such that A19: f in ( dom ( Frege F ) ) and A20: y = ( //\ (( ( Frege F ) . f ),S) ) by CKB33:1;
reconsider f as (Element of ( product ( doms F ) )) by A19,PARTFUN1:def 2;
reconsider f9 = f as (Element of ( product ( doms dF ) )) by CKB73:1;
set X = ( rng ( ( Frege dF ) . f9 ) );
A21: (g preserves_inf_of X &  ex_inf_of X,L) by A2,WAYBEL_0:def 32,YELLOW_0:17;
A22: ( dom ( Frege dF ) ) = ( product ( doms dF ) ) by PARTFUN1:def 2
.= ( product ( doms F ) ) by CKB73:1
.= ( dom ( Frege F ) ) by PARTFUN1:def 2;
then ( rng ( ( Frege F ) . f ) ) = ( g .: ( rng ( ( Frege dF ) . f ) ) ) by A8,A19;
then y = ( "/\" (( g .: ( rng ( ( Frege dF ) . f ) ) ),S) ) by A20,YELLOW_2:def 6;
then A23: y = ( g . ( inf X ) ) by A21,WAYBEL_0:def 30
.= ( g . ( Inf ( ( Frege dF ) . f9 ) ) ) by YELLOW_2:def 6;
( Inf ( ( Frege dF ) . f9 ) ) in ( rng ( Infs ( Frege dF ) ) ) by A19,A22,CKB33:1;
hence thesis by A23,FUNCT_2:35;
end;
A24: ( g .: ( rng ( Infs ( Frege dF ) ) ) ) c= ( rng ( Infs ( Frege F ) ) )
proof
let y being set;
assume y in ( g .: ( rng ( Infs ( Frege dF ) ) ) );
then consider x being set such that x in (the carrier of L) and A25: x in ( rng ( Infs ( Frege dF ) ) ) and A26: y = ( g . x ) by FUNCT_2:64;
consider f being set such that A27: f in ( dom ( Frege dF ) ) and A28: x = ( //\ (( ( Frege dF ) . f ),L) ) by A25,CKB33:1;
reconsider f as (Element of ( product ( doms dF ) )) by A27,PARTFUN1:def 2;
set X = ( rng ( ( Frege dF ) . f ) );
(g preserves_inf_of X &  ex_inf_of X,L) by A2,WAYBEL_0:def 32,YELLOW_0:17;
then ( inf ( g .: X ) ) = ( g . ( inf X ) ) by WAYBEL_0:def 30;
then A29: y = ( inf ( g .: X ) ) by A26,A28,YELLOW_2:def 6;
A30: ( dom ( Frege dF ) ) = ( product ( doms dF ) ) by PARTFUN1:def 2
.= ( product ( doms F ) ) by CKB73:1
.= ( dom ( Frege F ) ) by PARTFUN1:def 2;
reconsider f9 = f as (Element of ( product ( doms F ) )) by CKB73:1;
( rng ( ( Frege F ) . f ) ) = ( g .: ( rng ( ( Frege dF ) . f ) ) ) by A8,A27;
then y = ( Inf ( ( Frege F ) . f9 ) ) by A29,YELLOW_2:def 6;
hence thesis by A27,A30,CKB33:1;
end;
A31: d is  monotone by A5,WAYBEL_1:8;
A32: (for j being (Element of J) holds ( rng ( dF . j ) ) is  directed)
proof
let j being (Element of J);
( ( J => d ) . j ) = d by FUNCOP_1:7;
then A33: ( rng ( dF . j ) ) = ( rng ( d * ( F . j ) ) ) by MSUALG_3:2
.= ( d .: ( rng ( F . j ) ) ) by RELAT_1:127;
( rng ( F . j ) ) is  directed by A4;
hence thesis by A31,A33,YELLOW_2:15;
end;
then ( rng ( Infs ( Frege dF ) ) ) is  directed non empty by CKB65:1;
then A34: g preserves_sup_of ( rng ( Infs ( Frege dF ) ) ) by A2,WAYBEL_0:def 37;
reconsider gdF = ( ( J => g ) ** dF ) as (DoubleIndexedSet of K,S);
A35:  ex_sup_of ( rng ( Infs ( Frege dF ) ) ),L by YELLOW_0:17;
A36: ( rng ( Sups gdF ) ) c= ( g .: ( rng ( Sups dF ) ) )
proof
let y being set;
assume y in ( rng ( Sups gdF ) );
then consider j being (Element of J) such that A37: y = ( Sup ( gdF . j ) ) by CKB34:1;
( gdF . j ) = ( ( ( J => g ) . j ) * ( dF . j ) ) by MSUALG_3:2
.= ( g * ( dF . j ) ) by FUNCOP_1:7;
then ( rng ( gdF . j ) ) = ( g .: ( rng ( dF . j ) ) ) by RELAT_1:127;
then A38: y = ( sup ( g .: ( rng ( dF . j ) ) ) ) by A37,YELLOW_2:def 5;
( rng ( dF . j ) ) is  directed by A32;
then A39: g preserves_sup_of ( rng ( dF . j ) ) by A2,WAYBEL_0:def 37;
 ex_sup_of ( rng ( dF . j ) ),L by YELLOW_0:17;
then ( sup ( g .: ( rng ( dF . j ) ) ) ) = ( g . ( sup ( rng ( dF . j ) ) ) ) by A39,WAYBEL_0:def 31;
then A40: y = ( g . ( Sup ( dF . j ) ) ) by A38,YELLOW_2:def 5;
( Sup ( dF . j ) ) in ( rng ( Sups dF ) ) by CKB34:1;
hence thesis by A40,FUNCT_2:35;
end;
A41: ( g .: ( rng ( Sups dF ) ) ) c= ( rng ( Sups gdF ) )
proof
let y being set;
assume y in ( g .: ( rng ( Sups dF ) ) );
then consider x being set such that x in (the carrier of L) and A42: x in ( rng ( Sups dF ) ) and A43: y = ( g . x ) by FUNCT_2:64;
consider j being (Element of J) such that A44: x = ( Sup ( dF . j ) ) by A42,CKB34:1;
( rng ( dF . j ) ) is  directed by A32;
then A45: g preserves_sup_of ( rng ( dF . j ) ) by A2,WAYBEL_0:def 37;
 ex_sup_of ( rng ( dF . j ) ),L by YELLOW_0:17;
then ( sup ( g .: ( rng ( dF . j ) ) ) ) = ( g . ( sup ( rng ( dF . j ) ) ) ) by A45,WAYBEL_0:def 31;
then A46: y = ( sup ( g .: ( rng ( dF . j ) ) ) ) by A43,A44,YELLOW_2:def 5;
( gdF . j ) = ( ( ( J => g ) . j ) * ( dF . j ) ) by MSUALG_3:2
.= ( g * ( dF . j ) ) by FUNCOP_1:7;
then ( rng ( gdF . j ) ) = ( g .: ( rng ( dF . j ) ) ) by RELAT_1:127;
then y = ( Sup ( gdF . j ) ) by A46,YELLOW_2:def 5;
hence thesis by CKB34:1;
end;
F = ( ( id ( J --> (the carrier of S) ) ) ** F ) by MSUALG_3:4
.= ( ( ( J --> g ) ** ( J --> d ) ) ** F ) by A7,CKB71:1
.= gdF by PBOOLE:140;
then ( Inf ( Sups F ) ) = ( inf ( rng ( Sups gdF ) ) ) by YELLOW_2:def 6
.= ( inf ( g .: ( rng ( Sups dF ) ) ) ) by A36,A41,XBOOLE_0:def 10
.= ( g . ( inf ( rng ( Sups dF ) ) ) ) by A6,WAYBEL_0:def 30
.= ( g . ( Inf ( Sups dF ) ) ) by YELLOW_2:def 6
.= ( g . ( Sup ( Infs ( Frege dF ) ) ) ) by A1,A32,CKB41:1
.= ( g . ( sup ( rng ( Infs ( Frege dF ) ) ) ) ) by YELLOW_2:def 5
.= ( sup ( g .: ( rng ( Infs ( Frege dF ) ) ) ) ) by A34,A35,WAYBEL_0:def 31
.= ( sup ( rng ( Infs ( Frege F ) ) ) ) by A24,A18,XBOOLE_0:def 10
.= ( Sup ( Infs ( Frege F ) ) ) by YELLOW_2:def 5;
hence thesis;
end;
hence thesis by CKB43:1;
end;
