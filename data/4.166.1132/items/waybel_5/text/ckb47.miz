environ
vocabularies WAYBEL_0,ORDINAL2,SUBSET_1,WAYBEL_3,CARD_FIL,XXREAL_0,TARSKI,XBOOLE_0,YELLOW_0,LATTICE3,LATTICES,YELLOW_2,WAYBEL_1,YELLOW_1,RELAT_1,FUNCT_1,STRUCT_0,REWRITE1,PBOOLE,FUNCOP_1,FUNCT_6,CARD_3,FINSEQ_4,ORDERS_2,YELLOW_6,CLASSES1,CLASSES2,ZFMISC_1,FUNCT_5,EQREL_1,FUNCT_2,FINSUB_1,FINSET_1,ORDERS_1,RELAT_2,LATTICE2,CAT_1,XBOOLEAN,PARTFUN1,MEMBER_1,SEQM_3,WAYBEL_5,CARD_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FINSET_1,FINSUB_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,BINOP_1,FUNCT_4,FUNCT_5,FUNCT_6,FUNCOP_1,ORDERS_1,DOMAIN_1,STRUCT_0,ORDERS_2,LATTICE3,CARD_3,PBOOLE,PRALG_1,PRALG_2,MSUALG_3,CLASSES1,CLASSES2,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_1,WAYBEL_0,WAYBEL_3,YELLOW_6,CKB10,CKB11,CKB13,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB45;
definitions TARSKI,LATTICE3,BINOP_1,STRUCT_0,CKB25,CKB26;
theorems TARSKI,ZFMISC_1,FUNCT_1,FUNCT_2,FUNCT_5,CARD_3,ORDERS_2,LATTICE3,FUNCT_6,FUNCOP_1,PBOOLE,PRALG_1,PRALG_2,MSUALG_3,RELAT_1,FINSUB_1,YELLOW_0,YELLOW_1,YELLOW_2,WAYBEL_1,WAYBEL_0,WAYBEL_3,CLASSES2,YELLOW_6,CLASSES1,RELSET_1,XBOOLE_0,XBOOLE_1,FUNCT_4,ORDERS_1,STRUCT_0,PARTFUN1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB12,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB25,CKB26,CKB31,CKB32,CKB33,CKB34,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB46;
schemes FUNCT_1,FUNCT_2,MSSUBFAM,DOMAIN_1,BINOP_1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,RELSET_1,FUNCT_2,FUNCOP_1,FUNCT_4,FINSET_1,CARD_3,CLASSES2,PBOOLE,STRUCT_0,ORDERS_2,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,WAYBEL_3,YELLOW_6,PRALG_1,CARD_1,ORDINAL1,CKB14,CKB15,CKB22,CKB35,CKB36;
constructors FINSUB_1,CLASSES1,CLASSES2,BORSUK_1,LATTICE3,PRALG_1,PRALG_2,MSUALG_3,ORDERS_3,WAYBEL_1,WAYBEL_3,YELLOW_6,CKB13,CKB23,CKB24,CKB25,CKB26,CKB45;
requirements SUBSET,BOOLE,NUMERALS;
begin
reserve x for set;
reserve L for  complete LATTICE;
reserve J for non empty set;
reserve K for non empty set;
theorem
Lm10: ((for J holds (for K holds (for F being (Function of [: J,K :],(the carrier of L)) holds ((for j being (Element of J) holds ( rng ( ( curry F ) . j ) ) is  directed) implies ( Inf ( Sups ( curry F ) ) ) = ( Sup ( Infs ( Frege ( curry F ) ) ) ))))) implies L is  continuous)
proof
assume A1: (for J holds (for K holds (for F being (Function of [: J,K :],(the carrier of L)) holds ((for j being (Element of J) holds ( rng ( ( curry F ) . j ) ) is  directed) implies ( Inf ( Sups ( curry F ) ) ) = ( Sup ( Infs ( Frege ( curry F ) ) ) )))));
(for J holds (for K being  non-empty (ManySortedSet of J) holds (for F being (DoubleIndexedSet of K,L) holds ((for j being (Element of J) holds ( rng ( F . j ) ) is  directed) implies ( Inf ( Sups F ) ) = ( Sup ( Infs ( Frege F ) ) )))))
proof
let J;
let K being  non-empty (ManySortedSet of J);
let F being (DoubleIndexedSet of K,L);
set j = the (Element of J);
set k = the (Element of ( K . j ));
defpred P[ set,set,set ]
 means
($1 in J & (($2 in ( K . $1 ) & $3 = ( ( F . $1 ) . $2 )) or ((not $2 in ( K . $1 )) & $3 = ( Bottom L ))));
A2: ( dom ( doms F ) ) = ( dom F ) by FUNCT_6:59;
j in J;
then j in ( dom K ) by PARTFUN1:def 2;
then (k in ( K . j ) & ( K . j ) in ( rng K )) by FUNCT_1:def 3;
then reconsider K9 = ( union ( rng K ) ) as non empty set by TARSKI:def 4;
A3: ( dom F ) = J by PARTFUN1:def 2;
A4: (for j being (Element of J) holds (for k9 being (Element of K9) holds (ex z being (Element of L) st P[ j,k9,z ])))
proof
let j being (Element of J);
let k9 being (Element of K9);
per cases ;
suppose k9 in ( K . j );

then reconsider k = k9 as (Element of ( K . j ));
take ( ( F . j ) . k );
thus thesis;
end;
suppose A5: (not k9 in ( K . j ));

take ( Bottom L );
thus thesis by A5;
end;
end;
(ex G being (Function of [: J,K9 :],(the carrier of L)) st (for j being (Element of J) holds (for k being (Element of K9) holds P[ j,k,( G . (j,k) ) ]))) from BINOP_1:sch 3(A4);
then consider G being (Function of [: J,K9 :],(the carrier of L)) such that A6: (for j being (Element of J) holds (for k being (Element of K9) holds P[ j,k,( G . (j,k) ) ]));
A7: (for j being (Element of J) holds ( K . j ) c= K9)
proof
let j being (Element of J);
hereby
let k being set;
j in J;
then j in ( dom K ) by PARTFUN1:def 2;
then A8: ( K . j ) in ( rng K ) by FUNCT_1:def 3;
assume k in ( K . j );
hence k in K9 by A8,TARSKI:def 4;
end;
end;
A9: (for j being (Element of J) holds ( rng ( F . j ) ) c= ( rng ( ( curry G ) . j ) ))
proof
let j being (Element of J);
hereby
let y being set;
assume y in ( rng ( F . j ) );
then consider k being set such that A10: k in ( dom ( F . j ) ) and A11: y = ( ( F . j ) . k ) by FUNCT_1:def 3;
A12: k in ( K . j ) by A10;
( K . j ) c= K9 by A7;
then reconsider k as (Element of K9) by A12;
[ j,k ] in [: J,K9 :];
then A13: [ j,k ] in ( dom G ) by FUNCT_2:def 1;
(k in K9 & ( dom ( ( curry G ) . j ) ) = ( ( J --> K9 ) . j )) by FUNCT_2:def 1;
then A14: k in ( dom ( ( curry G ) . j ) ) by FUNCOP_1:7;
y = ( G . (j,k) ) by A6,A10,A11
.= ( ( ( curry G ) . j ) . k ) by A13,FUNCT_5:20;
hence y in ( rng ( ( curry G ) . j ) ) by A14,FUNCT_1:def 3;
end;
end;
A15: (for j being set holds (j in ( dom F ) implies ( \\/ (( F . j ),L) ) = ( \\/ (( ( curry G ) . j ),L) )))
proof
let j9 being set;
assume j9 in ( dom F );
then reconsider j = j9 as (Element of J) by PARTFUN1:def 2;
reconsider H = ( ( curry G ) . j ) as (Function of ( ( J --> K9 ) . j ),(the carrier of L));
( ( J --> K9 ) . j ) = K9 by FUNCOP_1:7;
then reconsider H as (Function of K9,(the carrier of L));
(for k being (Element of K9) holds ( H . k ) <= ( Sup ( F . j ) ))
proof
let k being (Element of K9);
per cases ;
suppose A16: k in ( K . j );

then A17: k in ( dom ( F . j ) ) by FUNCT_2:def 1;
( ( F . j ) . k ) = ( G . (j,k) ) by A6,A16
.= ( H . k ) by CKB46:1;
then ( H . k ) in ( rng ( F . j ) ) by A17,FUNCT_1:def 3;
then ( H . k ) <= ( sup ( rng ( F . j ) ) ) by YELLOW_2:22;
hence thesis by YELLOW_2:def 5;
end;
suppose (not k in ( K . j ));

then ( Bottom L ) = ( G . (j,k) ) by A6
.= ( H . k ) by CKB46:1;
hence thesis by YELLOW_0:44;
end;
end;
then A18: ( Sup H ) <= ( Sup ( F . j ) ) by YELLOW_2:54;
( ex_sup_of ( rng ( F . j ) ),L &  ex_sup_of ( rng ( ( curry G ) . j ) ),L) by YELLOW_0:17;
then ( sup ( rng ( F . j ) ) ) <= ( sup ( rng ( ( curry G ) . j ) ) ) by A9,YELLOW_0:34;
then ( Sup ( F . j ) ) <= ( sup ( rng H ) ) by YELLOW_2:def 5;
then ( Sup ( F . j ) ) <= ( Sup H ) by YELLOW_2:def 5;
hence thesis by A18,ORDERS_2:2;
end;
A19: ( dom ( doms ( curry G ) ) ) = ( dom ( curry G ) ) by FUNCT_6:59;
A20: ( dom ( curry G ) ) = J by CKB46:1;
( product ( doms F ) ) c= ( product ( doms ( curry G ) ) )
proof
let x being set;
assume x in ( product ( doms F ) );
then consider g being Function such that A21: x = g and A22: ( dom g ) = ( dom ( doms F ) ) and A23: (for j being set holds (j in ( dom ( doms F ) ) implies ( g . j ) in ( ( doms F ) . j ))) by CARD_3:def 5;
A24: (for j being set holds (j in ( dom ( doms ( curry G ) ) ) implies ( g . j ) in ( ( doms ( curry G ) ) . j )))
proof
let j being set;
assume A25: j in ( dom ( doms ( curry G ) ) );
then reconsider j9 = j as (Element of J) by A19,CKB46:1;
j in J by A19,A25,CKB46:1;
then A26: ( g . j ) in ( ( doms F ) . j ) by A2,A3,A23;
A27: ( ( doms F ) . j ) = ( dom ( F . j9 ) ) by A3,FUNCT_6:22
.= ( K . j9 ) by FUNCT_2:def 1;
A28: ( K . j9 ) c= K9 by A7;
( ( doms ( curry G ) ) . j ) = ( dom ( ( curry G ) . j9 ) ) by A20,FUNCT_6:22
.= K9 by CKB46:1;
hence thesis by A26,A27,A28;
end;
( dom g ) = ( dom ( doms ( curry G ) ) ) by A2,A3,A19,A22,CKB46:1;
hence thesis by A21,A24,CARD_3:def 5;
end;
then ( dom ( Frege F ) ) c= ( product ( doms ( curry G ) ) ) by PARTFUN1:def 2;
then A29: ( dom ( Frege F ) ) c= ( dom ( Frege ( curry G ) ) ) by PARTFUN1:def 2;
A30: (for f being set holds (f in ( dom ( Frege F ) ) implies ( //\ (( ( Frege F ) . f ),L) ) = ( //\ (( ( Frege ( curry G ) ) . f ),L) )))
proof
let f9 being set;
assume A31: f9 in ( dom ( Frege F ) );
then reconsider f = f9 as (Element of ( product ( doms F ) )) by PARTFUN1:def 2;
A32: ( dom ( ( Frege F ) . f ) ) = ( dom F ) by A31,CKB17:1
.= J by PARTFUN1:def 2;
A33: (for j being set holds (j in J implies ( ( ( Frege F ) . f ) . j ) = ( ( ( Frege ( curry G ) ) . f ) . j )))
proof
let j9 being set;
assume j9 in J;
then reconsider j = j9 as (Element of J);
A34: ( f . j ) in ( K . j ) by A31,CKB21:1;
( K . j ) c= K9 by A7;
then reconsider fj = ( f . j ) as (Element of K9) by A34;
( ( ( Frege F ) . f ) . j ) = ( ( F . j ) . fj ) by A31,CKB20:1
.= ( G . (j,fj) ) by A6,A34
.= ( ( ( curry G ) . j ) . ( f . j ) ) by CKB46:1
.= ( ( ( Frege ( curry G ) ) . f ) . j ) by A29,A31,CKB20:1;
hence thesis;
end;
( dom ( ( Frege ( curry G ) ) . f ) ) = ( dom ( curry G ) ) by A29,A31,CKB17:1
.= ( proj1 ( dom G ) ) by FUNCT_5:def 1
.= ( proj1 [: J,K9 :] ) by FUNCT_2:def 1
.= J by FUNCT_5:9;
hence thesis by A32,A33,FUNCT_1:2;
end;
A35: ( Sup ( Infs ( Frege ( curry G ) ) ) ) = ( Sup ( Infs ( Frege F ) ) )
proof
per cases ;
suppose A36: (for j being (Element of J) holds ( K . j ) = K9);

(for j being set holds (j in J implies ( ( doms F ) . j ) = ( ( doms ( curry G ) ) . j )))
proof
let j being set;
assume j in J;
then reconsider j9 = j as (Element of J);
A37: ( ( doms F ) . j ) = ( dom ( F . j9 ) ) by A3,FUNCT_6:22
.= ( K . j9 ) by FUNCT_2:def 1;
( ( doms ( curry G ) ) . j ) = ( dom ( ( curry G ) . j9 ) ) by A20,FUNCT_6:22
.= K9 by CKB46:1;
hence thesis by A36,A37;
end;
then ( doms F ) = ( doms ( curry G ) ) by A2,A3,A19,A20,FUNCT_1:2;
then ( dom ( Frege F ) ) = ( product ( doms ( curry G ) ) ) by PARTFUN1:def 2;
then ( dom ( Frege F ) ) = ( dom ( Frege ( curry G ) ) ) by PARTFUN1:def 2;
hence thesis by A30,CKB32:1;
end;
suppose (ex j being (Element of J) st ( K . j ) <> K9);

then consider j being (Element of J) such that A38: ( K . j ) <> K9;
( K . j ) c= K9 by A7;
then (not K9 c= ( K . j )) by A38,XBOOLE_0:def 10;
then consider k being set such that A39: k in K9 and A40: (not k in ( K . j )) by TARSKI:def 3;
reconsider k as (Element of K9) by A39;
A41: ( ( rng ( Infs ( Frege F ) ) ) \/ { ( Bottom L ) } ) c= ( rng ( Infs ( Frege ( curry G ) ) ) )
proof
let x being set;
assume A42: x in ( ( rng ( Infs ( Frege F ) ) ) \/ { ( Bottom L ) } );
per cases  by A42,XBOOLE_0:def 3;
suppose x in ( rng ( Infs ( Frege F ) ) );

then consider f being set such that A43: f in ( dom ( Frege F ) ) and A44: x = ( //\ (( ( Frege F ) . f ),L) ) by CKB33:1;
x = ( //\ (( ( Frege ( curry G ) ) . f ),L) ) by A30,A43,A44;
hence thesis by A29,A43,CKB33:1;
end;
suppose A45: x in { ( Bottom L ) };

then reconsider x9 = x as (Element of L);
set f = ( J --> k );
A46: (for x holds (x in ( dom ( doms ( curry G ) ) ) implies ( f . x ) in ( ( doms ( curry G ) ) . x )))
proof
let x;
assume x in ( dom ( doms ( curry G ) ) );
then reconsider j = x as (Element of J) by A19,CKB46:1;
A47: ( f . j ) = k by FUNCOP_1:7;
( ( doms ( curry G ) ) . j ) = ( dom ( ( curry G ) . j ) ) by A20,FUNCT_6:22
.= K9 by CKB46:1;
hence thesis by A47;
end;
( dom f ) = J by FUNCOP_1:13
.= ( dom ( doms ( curry G ) ) ) by A19,CKB46:1;
then f in ( product ( doms ( curry G ) ) ) by A46,CARD_3:9;
then A48: f in ( dom ( Frege ( curry G ) ) ) by PARTFUN1:def 2;
A49: x = ( Bottom L ) by A45,TARSKI:def 1;
then x = ( G . (j,k) ) by A6,A40
.= ( ( ( curry G ) . j ) . k ) by CKB46:1
.= ( ( ( curry G ) . j ) . ( f . j ) ) by FUNCOP_1:7;
then x in ( rng ( ( Frege ( curry G ) ) . f ) ) by A48,CKB20:1;
then x9 >= ( "/\" (( rng ( ( Frege ( curry G ) ) . f ) ),L) ) by YELLOW_2:22;
then A50: x9 >= ( //\ (( ( Frege ( curry G ) ) . f ),L) ) by YELLOW_2:def 6;
x9 <= ( //\ (( ( Frege ( curry G ) ) . f ),L) ) by A49,YELLOW_0:44;
then x9 = ( //\ (( ( Frege ( curry G ) ) . f ),L) ) by A50,ORDERS_2:2;
hence thesis by A48,CKB33:1;
end;
end;
A51: ( ex_sup_of ( rng ( Infs ( Frege F ) ) ),L &  ex_sup_of { ( Bottom L ) },L) by YELLOW_0:17;
A52: ( rng ( Infs ( Frege ( curry G ) ) ) ) c= ( ( rng ( Infs ( Frege F ) ) ) \/ { ( Bottom L ) } )
proof
let x being set;
assume x in ( rng ( Infs ( Frege ( curry G ) ) ) );
then consider f being set such that A53: f in ( dom ( Frege ( curry G ) ) ) and A54: x = ( //\ (( ( Frege ( curry G ) ) . f ),L) ) by CKB33:1;
reconsider f as Function by A53,CKB16:1;
per cases ;
suppose A55: (for j being (Element of J) holds ( f . j ) in ( K . j ));

A56: (for x holds (x in ( dom ( doms F ) ) implies ( f . x ) in ( ( doms F ) . x )))
proof
let x;
assume x in ( dom ( doms F ) );
then reconsider j = x as (Element of J) by A3,FUNCT_6:59;
( ( doms F ) . j ) = ( dom ( F . j ) ) by A3,FUNCT_6:22
.= ( K . j ) by FUNCT_2:def 1;
hence thesis by A55;
end;
( dom f ) = ( dom ( curry G ) ) by A53,CKB17:1
.= ( dom ( doms F ) ) by A2,A3,CKB46:1;
then f in ( product ( doms F ) ) by A56,CARD_3:9;
then A57: f in ( dom ( Frege F ) ) by PARTFUN1:def 2;
then x = ( //\ (( ( Frege F ) . f ),L) ) by A30,A54;
then x in ( rng ( Infs ( Frege F ) ) ) by A57,CKB33:1;
hence thesis by XBOOLE_0:def 3;
end;
suppose (ex j being (Element of J) st (not ( f . j ) in ( K . j )));

then consider j being (Element of J) such that A58: (not ( f . j ) in ( K . j ));
j in J;
then j in ( dom ( curry G ) ) by CKB46:1;
then ( f . j ) in ( dom ( ( curry G ) . j ) ) by A53,CKB18:1;
then reconsider k = ( f . j ) as (Element of K9) by CKB46:1;
( Bottom L ) = ( G . (j,k) ) by A6,A58
.= ( ( ( curry G ) . j ) . ( f . j ) ) by CKB46:1;
then ( Bottom L ) in ( rng ( ( Frege ( curry G ) ) . f ) ) by A53,CKB20:1;
then ( Bottom L ) >= ( "/\" (( rng ( ( Frege ( curry G ) ) . f ) ),L) ) by YELLOW_2:22;
then A59: ( Bottom L ) >= ( //\ (( ( Frege ( curry G ) ) . f ),L) ) by YELLOW_2:def 6;
( Bottom L ) <= ( //\ (( ( Frege ( curry G ) ) . f ),L) ) by YELLOW_0:44;
then x = ( Bottom L ) by A54,A59,ORDERS_2:2;
then x in { ( Bottom L ) } by TARSKI:def 1;
hence thesis by XBOOLE_0:def 3;
end;
end;
A60: ( Bottom L ) <= ( Sup ( Infs ( Frege F ) ) ) by YELLOW_0:44;
( Sup ( Infs ( Frege ( curry G ) ) ) ) = ( sup ( rng ( Infs ( Frege ( curry G ) ) ) ) ) by YELLOW_2:def 5
.= ( sup ( ( rng ( Infs ( Frege F ) ) ) \/ { ( Bottom L ) } ) ) by A52,A41,XBOOLE_0:def 10
.= ( ( sup ( rng ( Infs ( Frege F ) ) ) ) "\/" ( sup { ( Bottom L ) } ) ) by A51,YELLOW_2:3
.= ( ( sup ( rng ( Infs ( Frege F ) ) ) ) "\/" ( Bottom L ) ) by YELLOW_0:39
.= ( ( Sup ( Infs ( Frege F ) ) ) "\/" ( Bottom L ) ) by YELLOW_2:def 5
.= ( Sup ( Infs ( Frege F ) ) ) by A60,YELLOW_0:24;
hence thesis;
end;
end;
assume A61: (for j being (Element of J) holds ( rng ( F . j ) ) is  directed);
A62: (for j being (Element of J) holds ( rng ( ( curry G ) . j ) ) is  directed)
proof
let j being (Element of J);
set X = ( rng ( ( curry G ) . j ) );
(for x,y being (Element of L) holds ((x in X & y in X) implies (ex z being (Element of L) st ((z in X & x <= z) & y <= z))))
proof
A63: ( rng ( F . j ) ) is  directed by A61;
let x being (Element of L),y being (Element of L);
assume that
A64: x in X
and
A65: y in X;
consider b being set such that A66: b in ( dom ( ( curry G ) . j ) ) and A67: ( ( ( curry G ) . j ) . b ) = y by A65,FUNCT_1:def 3;
consider a being set such that A68: a in ( dom ( ( curry G ) . j ) ) and A69: ( ( ( curry G ) . j ) . a ) = x by A64,FUNCT_1:def 3;
reconsider a9 = a,b9 = b as (Element of K9) by A68,A66,CKB46:1;
A70: x = ( G . (j,a9) ) by A69,CKB46:1;
A71: y = ( G . (j,b9) ) by A67,CKB46:1;
per cases ;
suppose A72: (a in ( K . j ) & b in ( K . j ));

then (b in ( dom ( F . j ) ) & y = ( ( F . j ) . b9 )) by A6,A71,FUNCT_2:def 1;
then A73: y in ( rng ( F . j ) ) by FUNCT_1:def 3;
(a in ( dom ( F . j ) ) & x = ( ( F . j ) . a9 )) by A6,A70,A72,FUNCT_2:def 1;
then x in ( rng ( F . j ) ) by FUNCT_1:def 3;
then consider z being (Element of L) such that A74: ((z in ( rng ( F . j ) ) & x <= z) & y <= z) by A63,A73,WAYBEL_0:def 1;
take z;
( rng ( F . j ) ) c= X by A9;
hence thesis by A74;
end;
suppose A75: (a in ( K . j ) & (not b in ( K . j )));

take x;
y = ( Bottom L ) by A6,A71,A75;
hence thesis by A64,YELLOW_0:44;
end;
suppose A76: ((not a in ( K . j )) & b in ( K . j ));

take y;
x = ( Bottom L ) by A6,A70,A76;
hence thesis by A65,YELLOW_0:44;
end;
suppose A77: ((not a in ( K . j )) & (not b in ( K . j )));

take x;
x = ( Bottom L ) by A6,A70,A77;
hence thesis by A6,A64,A71,A77;
end;
end;
hence thesis by WAYBEL_0:def 1;
end;
( dom F ) = J by PARTFUN1:def 2
.= ( dom ( curry G ) ) by PARTFUN1:def 2;
hence ( Inf ( Sups F ) ) = ( Inf ( Sups ( curry G ) ) ) by A15,CKB31:1
.= ( Sup ( Infs ( Frege F ) ) ) by A1,A62,A35;
end;
hence thesis by CKB43:1;
end;
