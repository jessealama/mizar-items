environ
vocabularies NUMBERS,ORDINAL1,XBOOLE_0,ALGSTR_0,WELLORD1,QUOFIELD,RELAT_1,FUNCT_1,SUBSET_1,STRUCT_0,ORDINAL2,TARSKI,ORDINAL3,PRE_POLY,ARYTM_3,CARD_1,PBOOLE,FINSET_1,VALUED_0,FUNCOP_1,RLVECT_1,LATTICES,BINOP_1,POLYNOM1,FINSEQ_1,CARD_3,PARTFUN1,FINSEQ_2,NAT_1,VECTSP_1,ZFMISC_1,GROUP_1,SUPINF_2,XXREAL_0,FINSEQ_3,ORDINAL4,ARYTM_1,ORDERS_1,MSSUBFAM,POLYNOM6;
notations TARSKI,XBOOLE_0,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,VALUED_0,VECTSP_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FUNCOP_1,POLYNOM1,STRUCT_0,ALGSTR_0,NAT_1,NAT_D,ORDERS_1,PBOOLE,RLVECT_1,FINSET_1,FINSEQ_1,FINSEQ_2,ORDINAL1,ORDINAL2,ORDINAL3,GROUP_1,QUOFIELD,GRCAT_1,WSIERP_1,PRE_POLY,FVSUM_1,POLYNOM3,GROUP_6,XXREAL_0,MATRLIN,CKB1,CKB2,CKB7,CKB15;
definitions VECTSP_1,QUOFIELD,GRCAT_1,FUNCT_1,TARSKI,XBOOLE_0,STRUCT_0,VALUED_0,CKB7,CKB15;
theorems POLYNOM1,TOPGRP_1,FUNCT_2,PBOOLE,FUNCT_1,ORDINAL3,ORDINAL1,ORDINAL2,FINSEQ_3,FINSEQ_2,FVSUM_1,FINSEQ_1,RELAT_1,FUNCOP_1,POLYALG1,FINSEQ_5,VECTSP_1,FINSEQ_4,FINSET_1,TARSKI,POLYNOM2,MATRLIN,RLVECT_1,NAT_1,SUBSET_1,CARD_3,POLYNOM3,ORDERS_1,RVSUM_1,XBOOLE_0,XBOOLE_1,XREAL_1,GROUP_6,XXREAL_0,GROUP_1,PARTFUN1,NAT_D,PRE_POLY,CKB3,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB15,CKB16,CKB17;
schemes PBOOLE,FUNCT_2,FRAENKEL,FUNCT_1,RECDEF_1;
registrations FUNCT_1,ORDINAL1,RELSET_1,FUNCOP_1,FINSET_1,XREAL_0,FINSEQ_1,FINSEQ_2,STRUCT_0,VECTSP_1,QUOFIELD,PRE_POLY,POLYNOM1,POLYNOM2,VALUED_0,CARD_1,CKB4,CKB5,CKB14;
constructors ORDINAL3,XXREAL_0,BINARITH,WSIERP_1,GRCAT_1,GROUP_6,TRIANG_1,QUOFIELD,POLYNOM1,POLYNOM3,NAT_D,RELSET_1,MATRLIN,FVSUM_1,VFUNCT_1,CKB2,CKB7,CKB15;
requirements BOOLE,SUBSET,NUMERALS,REAL;
begin
reserve o1 for Ordinal;
reserve o2 for Ordinal;
theorem
Th11: (for a1,b1 being (Element of ( Bags o1 )) holds (for a2,b2 being (Element of ( Bags o2 )) holds (( a1 +^ a2 ) < ( b1 +^ b2 ) iff (a1 < b1 or (a1 = b1 & a2 < b2)))))
proof
let a1 being (Element of ( Bags o1 )),b1 being (Element of ( Bags o1 ));
let a2 being (Element of ( Bags o2 )),b2 being (Element of ( Bags o2 ));
thus (( a1 +^ a2 ) < ( b1 +^ b2 ) implies (a1 < b1 or (a1 = b1 & a2 < b2)))
proof
assume ( a1 +^ a2 ) < ( b1 +^ b2 );
then consider k being Ordinal such that A1: ( ( a1 +^ a2 ) . k ) < ( ( b1 +^ b2 ) . k ) and A2: (for l being Ordinal holds (l in k implies ( ( a1 +^ a2 ) . l ) = ( ( b1 +^ b2 ) . l ))) by PRE_POLY:def 9;
now
assume (not k in ( dom ( b1 +^ b2 ) ));
then ( ( b1 +^ b2 ) . k ) = ( 0 ) by FUNCT_1:def 2;
hence contradiction by A1,NAT_1:2;
end;
then A3: k in ( o1 +^ o2 ) by PARTFUN1:def 2;
now
per cases  by A3,XBOOLE_0:def 5;
case A4: k in o1;
reconsider a19 = a1,b19 = b1 as (bag of o1);
A5: (for l being Ordinal holds (l in k implies ( a19 . l ) = ( b19 . l )))
proof
let l being Ordinal;
assume A6: l in k;
then A7: ( ( a1 +^ a2 ) . l ) = ( ( b1 +^ b2 ) . l ) by A2;
A8: l in o1 by A4,A6,ORDINAL1:10;
then ( ( a1 +^ a2 ) . l ) = ( a1 . l ) by CKB7:def 1;
hence thesis by A7,A8,CKB7:def 1;
end;
( ( a1 +^ a2 ) . k ) = ( a1 . k ) by A4,CKB7:def 1;
then ( a1 . k ) < ( b1 . k ) by A1,A4,CKB7:def 1;
hence a1 < b1 by A5,PRE_POLY:def 9;
end;
case A9: k in ( ( o1 +^ o2 ) \ o1 );
set k1 = ( k -^ o1 );
(not k in o1) by A9,XBOOLE_0:def 5;
then o1 c= k by ORDINAL1:16;
then A10: k = ( o1 +^ ( k -^ o1 ) ) by ORDINAL3:def 5;
A11: (for l being Ordinal holds (l in k1 implies ( a2 . l ) = ( b2 . l )))
proof
let l being Ordinal;
o1 c= ( o1 +^ l ) by ORDINAL3:24;
then A12: (not ( o1 +^ l ) in o1) by ORDINAL1:5;
assume A13: l in k1;
then ( o1 +^ l ) in ( o1 +^ k1 ) by ORDINAL2:32;
then ( o1 +^ l ) in ( o1 +^ o2 ) by A9,A10,ORDINAL1:10;
then A14: ( o1 +^ l ) in ( ( o1 +^ o2 ) \ o1 ) by A12,XBOOLE_0:def 5;
then A15: ( ( b1 +^ b2 ) . ( o1 +^ l ) ) = ( b2 . ( ( o1 +^ l ) -^ o1 ) ) by CKB7:def 1
.= ( b2 . l ) by ORDINAL3:52;
( ( a1 +^ a2 ) . ( o1 +^ l ) ) = ( a2 . ( ( o1 +^ l ) -^ o1 ) ) by A14,CKB7:def 1
.= ( a2 . l ) by ORDINAL3:52;
hence thesis by A2,A10,A13,A15,ORDINAL2:32;
end;
(for i being set holds (i in o1 implies ( a1 . i ) = ( b1 . i )))
proof
(not k in o1) by A9,XBOOLE_0:def 5;
then A16: o1 c= k by ORDINAL1:16;
let i being set;
assume A17: i in o1;
then reconsider i9 = i as Ordinal;
(( ( a1 +^ a2 ) . i9 ) = ( a1 . i9 ) & ( ( b1 +^ b2 ) . i9 ) = ( b1 . i9 )) by A17,CKB7:def 1;
hence thesis by A2,A17,A16;
end;
hence a1 = b1 by PBOOLE:3;
( ( a1 +^ a2 ) . k ) = ( a2 . ( k -^ o1 ) ) by A9,CKB7:def 1;
then ( a2 . k1 ) < ( b2 . k1 ) by A1,A9,CKB7:def 1;
hence a2 < b2 by A11,PRE_POLY:def 9;
end;
end;
hence thesis;
end;

thus ((a1 < b1 or (a1 = b1 & a2 < b2)) implies ( a1 +^ a2 ) < ( b1 +^ b2 ))
proof
assume A18: (a1 < b1 or (a1 = b1 & a2 < b2));
now
per cases ;
case a1 < b1;
then consider k being Ordinal such that A19: k in o1 and A20: ( a1 . k ) < ( b1 . k ) and A21: (for l being Ordinal holds (l in k implies ( a1 . l ) = ( b1 . l ))) by CKB6:1;
A22: (for l being Ordinal holds (l in k implies ( ( a1 +^ a2 ) . l ) = ( ( b1 +^ b2 ) . l )))
proof
let l being Ordinal;
assume A23: l in k;
then l in o1 by A19,ORDINAL1:10;
then (( ( a1 +^ a2 ) . l ) = ( a1 . l ) & ( ( b1 +^ b2 ) . l ) = ( b1 . l )) by CKB7:def 1;
hence thesis by A21,A23;
end;
(( ( a1 +^ a2 ) . k ) = ( a1 . k ) & ( ( b1 +^ b2 ) . k ) = ( b1 . k )) by A19,CKB7:def 1;
hence thesis by A20,A22,PRE_POLY:def 9;
end;
case A24: (not a1 < b1);
then consider k being Ordinal such that A25: k in o2 and A26: ( a2 . k ) < ( b2 . k ) and A27: (for l being Ordinal holds (l in k implies ( a2 . l ) = ( b2 . l ))) by A18,CKB6:1;
set x = ( o1 +^ k );
A28: (for l being Ordinal holds (l in x implies ( ( a1 +^ a2 ) . l ) = ( ( b1 +^ b2 ) . l )))
proof
let l being Ordinal;
assume A29: l in x;
per cases ;
suppose A30: l in o1;

hence ( ( a1 +^ a2 ) . l ) = ( b1 . l ) by A18,A24,CKB7:def 1
.= ( ( b1 +^ b2 ) . l ) by A30,CKB7:def 1;
end;
suppose A31: (not l in o1);

then o1 c= l by ORDINAL1:16;
then ( l -^ o1 ) in ( ( o1 +^ k ) -^ o1 ) by A29,ORDINAL3:53;
then A32: ( l -^ o1 ) in k by ORDINAL3:52;
( o1 +^ k ) in ( o1 +^ o2 ) by A25,ORDINAL2:32;
then l in ( o1 +^ o2 ) by A29,ORDINAL1:10;
then A33: l in ( ( o1 +^ o2 ) \ o1 ) by A31,XBOOLE_0:def 5;
hence ( ( a1 +^ a2 ) . l ) = ( a2 . ( l -^ o1 ) ) by CKB7:def 1
.= ( b2 . ( l -^ o1 ) ) by A27,A32
.= ( ( b1 +^ b2 ) . l ) by A33,CKB7:def 1;
end;
end;
o1 c= ( o1 +^ k ) by ORDINAL3:24;
then A34: (not ( o1 +^ k ) in o1) by ORDINAL1:5;
A35: k = ( ( o1 +^ k ) -^ o1 ) by ORDINAL3:52;
( o1 +^ k ) in ( o1 +^ o2 ) by A25,ORDINAL2:32;
then A36: ( o1 +^ k ) in ( ( o1 +^ o2 ) \ o1 ) by A34,XBOOLE_0:def 5;
then ( ( b1 +^ b2 ) . ( o1 +^ k ) ) = ( b2 . ( ( o1 +^ k ) -^ o1 ) ) by CKB7:def 1;
then ( ( a1 +^ a2 ) . x ) < ( ( b1 +^ b2 ) . x ) by A26,A36,A35,CKB7:def 1;
hence thesis by A28,PRE_POLY:def 9;
end;
end;
hence thesis;
end;

end;
