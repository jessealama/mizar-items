environ
vocabularies NUMBERS,XREAL_0,ORDINAL1,XBOOLE_0,PARTFUN1,SUBSET_1,FUNCT_1,RELAT_1,XXREAL_2,COMPLEX1,ARYTM_1,XXREAL_0,SEQ_4,ARYTM_3,REAL_1,FDIFF_1,RCOMP_1,TARSKI,VALUED_1,CARD_1,ORDINAL4,INTEGRA5,INTEGRA1,XXREAL_1,SQUARE_1,ORDINAL2,FUNCOP_1,FCONT_1,REALSET1,SIN_COS,PREPOWER,SEQFUNC,SEQ_1,SEQ_2,INTEGRA2,FUNCT_3,FINSEQ_1,FINSEQ_2,CARD_3,MEASURE7,NAT_1,INTEGRA7;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,XXREAL_0,XXREAL_2,COMPLEX1,REAL_1,NAT_1,FUNCOP_1,RELSET_1,FUNCT_2,RCOMP_1,PARTFUN1,PARTFUN2,FINSEQ_1,VALUED_1,SEQ_1,RFUNCT_1,SEQ_2,SEQ_4,SQUARE_1,PREPOWER,FCONT_1,FDIFF_1,FINSEQ_2,RVSUM_1,INTEGRA1,INTEGRA2,SEQFUNC,SIN_COS,TAYLOR_1,INTEGRA3,INTEGRA5,CKB11,CKB12;
definitions XCMPLX_0,SUBSET_1,INTEGRA1,INTEGRA5,VALUED_1,FDIFF_1,SQUARE_1,CKB11,CKB12;
theorems TARSKI,PARTFUN1,RVSUM_1,ZFMISC_1,PREPOWER,INTEGRA1,INTEGRA2,RFUNCT_1,FUNCT_1,SEQ_1,SEQ_2,FDIFF_1,SEQFUNC,ABSVALUE,XCMPLX_1,FINSEQ_1,FINSEQ_2,RCOMP_1,FCONT_1,FDIFF_2,RELAT_1,XREAL_0,XXREAL_0,PARTFUN2,FUNCT_2,XBOOLE_0,XBOOLE_1,SEQ_4,XREAL_1,COMPLEX1,INTEGRA4,INTEGRA5,SIN_COS,INTEGRA6,TAYLOR_1,VALUED_1,XXREAL_1,XXREAL_2,FUNCOP_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23;
schemes FUNCT_2,XBOOLE_0;
registrations XREAL_0,RELSET_1,FINSEQ_2,INTEGRA1,RCOMP_1,INT_1,ORDINAL1,MEMBERED,PREPOWER,XBOOLE_0,NUMBERS,VALUED_0,VALUED_1,FUNCT_2,XXREAL_2,SEQ_2,FCONT_3,MEASURE5;
constructors REAL_1,FDIFF_1,PARTFUN1,PARTFUN2,RFUNCT_1,INTEGRA2,LIMFUNC1,FCONT_1,PSCOMP_1,NAT_1,BINOP_2,INTEGRA5,SIN_COS,PREPOWER,TAYLOR_1,SQUARE_1,SEQ_1,XXREAL_2,RFUNCT_2,SEQFUNC,RVSUM_1,SEQ_4,RELSET_1,SEQ_2,COMPLEX1,INTEGRA3,CKB11,CKB12;
requirements NUMERALS,BOOLE,SUBSET,REAL,ARITHM;
begin
reserve a for  real number;
reserve b for  real number;
reserve X for set;
reserve f for (PartFunc of ( REAL ),( REAL ));
reserve g for (PartFunc of ( REAL ),( REAL ));
reserve F for (PartFunc of ( REAL ),( REAL ));
reserve G for (PartFunc of ( REAL ),( REAL ));
theorem
Th21: ((((((((((b <= a & [' b,a '] c= X) & f is_integrable_on [' b,a ']) & g is_integrable_on [' b,a ']) & ( f | [' b,a '] ) is  bounded) & ( g | [' b,a '] ) is  bounded) & X c= ( dom f )) & X c= ( dom g )) & F is_integral_of f,X) & G is_integral_of g,X) implies ( ( ( F . a ) * ( G . a ) ) - ( ( F . b ) * ( G . b ) ) ) = ( ( integral (( f (#) G ),b,a) ) + ( integral (( F (#) g ),b,a) ) ))
proof
assume that
A1: b <= a
and
A2: [' b,a '] c= X
and
A3: f is_integrable_on [' b,a ']
and
A4: g is_integrable_on [' b,a ']
and
A5: ( f | [' b,a '] ) is  bounded
and
A6: ( g | [' b,a '] ) is  bounded;
set I = [' b,a '];
assume that
A7: X c= ( dom f )
and
A8: X c= ( dom g )
and
A9: F is_integral_of f,X
and
A10: G is_integral_of g,X;
A11: X c= ( dom G ) by A10,CKB14:1;
then A12: I c= ( dom G ) by A2,XBOOLE_1:1;
A13: G is_differentiable_on X by A10,CKB13:1;
then A14: ( G | X ) is  continuous by FDIFF_1:25;
then A15: ( G | I ) is  bounded by A2,A12,FCONT_1:16,INTEGRA5:10;
then A16: ( ( f (#) G ) | ( I /\ I ) ) is  bounded by A5,RFUNCT_1:84;
A17: X c= ( dom F ) by A9,CKB14:1;
then A18: I c= ( dom F ) by A2,XBOOLE_1:1;
A19: F is_differentiable_on X by A9,CKB13:1;
then A20: X is  open  open (Subset of ( REAL )) by FDIFF_1:8,FDIFF_1:10;
A21: ( F | X ) is  continuous by A19,FDIFF_1:25;
then A22: ( F | I ) is  bounded by A2,A18,FCONT_1:16,INTEGRA5:10;
then A23: ( ( F (#) g ) | ( I /\ I ) ) is  bounded by A6,RFUNCT_1:84;
then A24: ( ( ( f (#) G ) + ( F (#) g ) ) | ( I /\ I ) ) is  bounded by A16,RFUNCT_1:83;
( F | I ) is  continuous by A2,A21,FCONT_1:16;
then A25: F is_integrable_on I by A18,INTEGRA5:17;
I c= ( dom g ) by A2,A8,XBOOLE_1:1;
then A26: ( F (#) g ) is_integrable_on I by A4,A6,A18,A25,A22,INTEGRA6:14;
(( F `| X ) = ( f | X ) & ( G `| X ) = ( g | X )) by A9,A10,CKB13:1;
then ( ( F (#) G ) `| X ) = ( ( ( f | X ) (#) G ) + ( F (#) ( g | X ) ) ) by A19,A13,A20,FDIFF_2:20;
then ( ( F (#) G ) `| X ) = ( ( ( f (#) G ) | X ) + ( F (#) ( g | X ) ) ) by RFUNCT_1:45;
then ( ( F (#) G ) `| X ) = ( ( ( f (#) G ) | X ) + ( ( F (#) g ) | X ) ) by RFUNCT_1:45;
then A27: ( ( F (#) G ) `| X ) = ( ( ( f (#) G ) + ( F (#) g ) ) | X ) by RFUNCT_1:44;
( F (#) G ) is_differentiable_on X by A19,A13,A20,FDIFF_2:20;
then A28: ( F (#) G ) is_integral_of ( ( f (#) G ) + ( F (#) g ) ),X by A27,CKB13:1;
( min (b,a) ) = b by A1,XXREAL_0:def 9;
then A29: ( max (b,a) ) = a by XXREAL_0:36;
(b <= ( max (b,a) ) & [. b,a .] = I) by A1,INTEGRA5:def 3,XXREAL_0:25;
then A30: (b in I & a in I) by A29,XXREAL_1:1;
X c= ( ( dom F ) /\ ( dom g ) ) by A8,A17,XBOOLE_1:19;
then X c= ( dom ( F (#) g ) ) by VALUED_1:def 4;
then A31: I c= ( dom ( F (#) g ) ) by A2,XBOOLE_1:1;
( G | I ) is  continuous by A2,A14,FCONT_1:16;
then A32: G is_integrable_on I by A12,INTEGRA5:17;
X c= ( ( dom f ) /\ ( dom G ) ) by A7,A11,XBOOLE_1:19;
then X c= ( dom ( f (#) G ) ) by VALUED_1:def 4;
then A33: I c= ( dom ( f (#) G ) ) by A2,XBOOLE_1:1;
I c= ( dom f ) by A2,A7,XBOOLE_1:1;
then A34: ( f (#) G ) is_integrable_on I by A3,A5,A12,A32,A15,INTEGRA6:14;
then ( ( f (#) G ) + ( F (#) g ) ) is_integrable_on I by A33,A31,A26,A16,A23,INTEGRA6:11;
then ( ( F (#) G ) . a ) = ( ( integral (( ( f (#) G ) + ( F (#) g ) ),b,a) ) + ( ( F (#) G ) . b ) ) by A1,A2,A24,A28,CKB21:1;
then (( ( F (#) G ) . b ) = ( ( F . b ) * ( G . b ) ) & ( ( ( F (#) G ) . a ) - ( ( F (#) G ) . b ) ) = ( ( integral (( f (#) G ),b,a) ) + ( integral (( F (#) g ),b,a) ) )) by A1,A33,A31,A34,A26,A16,A23,A30,INTEGRA6:24,VALUED_1:5;
hence thesis by VALUED_1:5;
end;
