environ
vocabularies ORDERS_2,SETFAM_1,SUBSET_1,WAYBEL_0,TARSKI,XXREAL_0,LATTICES,ORDINAL2,WAYBEL23,YELLOW_1,YELLOW_0,WAYBEL_8,CARD_1,ORDINAL1,STRUCT_0,XBOOLE_0,PRE_TOPC,RLVECT_3,RCOMP_1,WAYBEL_3,FINSET_1,EQREL_1,ZFMISC_1,FUNCT_1,RELAT_1,WAYBEL11,YELLOW_9,WAYBEL19,PRELAMB,CANTOR_1,PROB_1,DIRAF,LATTICE3,RELAT_2,CARD_FIL,REWRITE1,PARTFUN1,FINSEQ_3,FINSEQ_1,ORDINAL4,WAYBEL_9,WELLORD1,CAT_1,WAYBEL31;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,FINSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,DOMAIN_1,FINSEQ_2,FINSEQ_3,ORDINAL1,CARD_1,STRUCT_0,PRE_TOPC,TOPS_2,CANTOR_1,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_9,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_8,WAYBEL_9,WAYBEL11,WAYBEL19,WAYBEL23,CKB4;
definitions TARSKI,YELLOW_0,WAYBEL_8,STRUCT_0,CKB4;
theorems TARSKI,SETFAM_1,SUBSET_1,FINSET_1,RELSET_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_5,CARD_1,CARD_4,WELLORD2,T_0TOPSP,ORDERS_2,PRE_TOPC,TOPS_1,TOPS_2,CANTOR_1,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_8,YELLOW_9,YELLOW12,YELLOW15,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_4,WAYBEL_7,WAYBEL_8,WAYBEL11,WAYBEL14,WAYBEL19,WAYBEL23,WAYBEL30,WAYBEL13,WSIERP_1,XBOOLE_0,XBOOLE_1,FINSEQ_3,PRE_POLY,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11;
schemes ORDINAL1,FUNCT_2,PRE_CIRC,CLASSES1,FRAENKEL,FUNCT_1,CKB1,CKB2;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,CARD_1,FINSEQ_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,YELLOW_3,WAYBEL_3,WAYBEL_4,WAYBEL_8,WAYBEL14,YELLOW_9,YELLOW11,WAYBEL19,WAYBEL23,YELLOW15,WAYBEL25,WAYBEL30,ORDINAL1,PRE_TOPC,CKB3;
constructors SETFAM_1,DOMAIN_1,NAT_1,FINSEQ_3,TOPS_2,CANTOR_1,WAYBEL_1,WAYBEL_8,WAYBEL11,YELLOW_9,WAYBEL19,WAYBEL23,RELSET_1,FINSEQ_2,WAYBEL_2,CKB4;
requirements NUMERALS,BOOLE,SUBSET;
begin
theorem
Th10: (for T being  T_0 non  empty TopSpace holds (T is  finite implies ( weight T ) = ( card (the carrier of T) )))
proof
let T being  T_0 non  empty TopSpace;
deffunc F(set) = ( meet { A where A is (Element of (the topology of T)): $1 in A } );
A1: (for x being set holds (x in (the carrier of T) implies F(x) in (the carrier of ( BoolePoset (the carrier of T) ))))
proof
let x being set;
assume A2: x in (the carrier of T);
(the carrier of T) in (the topology of T) by PRE_TOPC:def 1;
then (the carrier of T) in { A where A is (Element of (the topology of T)): x in A } by A2;
then ( meet { A where A is (Element of (the topology of T)): x in A } ) c= (the carrier of T) by SETFAM_1:3;
then ( meet { A where A is (Element of (the topology of T)): x in A } ) in ( bool (the carrier of T) );
hence thesis by WAYBEL_7:2;
end;
consider f being (Function of (the carrier of T),(the carrier of ( BoolePoset (the carrier of T) ))) such that A3: (for x being set holds (x in (the carrier of T) implies ( f . x ) = F(x))) from FUNCT_2:sch 2(A1);
reconsider rf = ( rng f ) as (Subset-Family of T) by WAYBEL_7:2;
A4: (for A being (Subset of T) holds (A is  open implies (for p being (Point of T) holds (p in A implies (ex a being (Subset of T) st ((a in rf & p in a) & a c= A))))))
proof
let A being (Subset of T);
assume A is  open;
then A5: A in (the topology of T) by PRE_TOPC:def 2;
let p being (Point of T);
assume p in A;
then A6: A in { C where C is (Element of (the topology of T)): p in C } by A5;
( meet { C where C is (Element of (the topology of T)): p in C } ) c= (the carrier of T)
proof
let z being set;
assume z in ( meet { C where C is (Element of (the topology of T)): p in C } );
then z in A by A6,SETFAM_1:def 1;
hence thesis;
end;
then reconsider a = ( meet { C where C is (Element of (the topology of T)): p in C } ) as (Subset of T);
take a;
p in (the carrier of T);
then A7: p in ( dom f ) by FUNCT_2:def 1;
a = ( f . p ) by A3;
hence a in rf by A7,FUNCT_1:def 3;
now
let Y being set;
assume Y in { C where C is (Element of (the topology of T)): p in C };
then (ex C being (Element of (the topology of T)) st (Y = C & p in C));
hence p in Y;
end;
hence p in a by A6,SETFAM_1:def 1;
thus a c= A
proof
let z being set;
assume z in a;
hence thesis by A6,SETFAM_1:def 1;
end;

end;
assume A8: T is  finite;
rf c= (the topology of T)
proof
reconsider tT = (the topology of T) as  finite non  empty set by A8;
let z being set;
deffunc F(set) = $1;
assume z in rf;
then consider y being set such that A9: (y in ( dom f ) & z = ( f . y )) by FUNCT_1:def 3;
{ A where A is (Element of (the topology of T)): y in A } c= ( bool (the carrier of T) )
proof
let z being set;
assume z in { A where A is (Element of (the topology of T)): y in A };
then (ex A being (Element of (the topology of T)) st (z = A & y in A));
hence thesis;
end;
then reconsider sfA = { A where A is (Element of (the topology of T)): y in A } as (Subset-Family of T);
defpred P[ set ]
 means
y in $1;
reconsider sfA as (Subset-Family of T);
now
let P being (Subset of T);
assume P in sfA;
then (ex A being (Element of (the topology of T)) st (P = A & y in A));
hence P is  open by PRE_TOPC:def 2;
end;
then A10: sfA is  open by TOPS_2:def 1;
{ F(A) where A is (Element of tT): P[ A ] } is  finite from PRE_CIRC:sch 1;
then A11: ( meet sfA ) is  open by A10,TOPS_2:20;
z = ( meet { A where A is (Element of (the topology of T)): y in A } ) by A3,A9;
hence thesis by A11,PRE_TOPC:def 2;
end;
then ( rng f ) is (Basis of T) by A4,YELLOW_9:32;
then A12: ( card ( rng f ) ) in { ( card B1 ) where B1 is (Basis of T): (not contradiction) };
then A13: ( meet { ( card B1 ) where B1 is (Basis of T): (not contradiction) } ) c= ( card ( rng f ) ) by SETFAM_1:3;
now
let x1 being set;
let x2 being set;
assume that
A14: (x1 in ( dom f ) & x2 in ( dom f ))
and
A15: ( f . x1 ) = ( f . x2 );
reconsider x3 = x1,x4 = x2 as (Point of T) by A14;
assume x1 <> x2;
then consider V being (Subset of T) such that A16: V is  open and A17: ((x3 in V & (not x4 in V)) or (x4 in V & (not x3 in V))) by T_0TOPSP:def 7;
A18: (( f . x3 ) = ( meet { A where A is (Element of (the topology of T)): x3 in A } ) & ( f . x4 ) = ( meet { A where A is (Element of (the topology of T)): x4 in A } )) by A3;
now
per cases  by A17;
suppose A19: (x3 in V & (not x4 in V));

V in (the topology of T) by A16,PRE_TOPC:def 2;
then A20: V in { A where A is (Element of (the topology of T)): x3 in A } by A19;
A21: ( meet { A where A is (Element of (the topology of T)): x3 in A } ) c= V
proof
let z being set;
assume z in ( meet { A where A is (Element of (the topology of T)): x3 in A } );
hence thesis by A20,SETFAM_1:def 1;
end;
A22:now
let Y being set;
assume Y in { A where A is (Element of (the topology of T)): x4 in A };
then (ex A being (Element of (the topology of T)) st (Y = A & x4 in A));
hence x4 in Y;
end;
(the carrier of T) in (the topology of T) by PRE_TOPC:def 1;
then (the carrier of T) in { A where A is (Element of (the topology of T)): x4 in A };
then x4 in ( meet { A where A is (Element of (the topology of T)): x3 in A } ) by A15,A18,A22,SETFAM_1:def 1;
hence contradiction by A19,A21;
end;
suppose A23: (x4 in V & (not x3 in V));

V in (the topology of T) by A16,PRE_TOPC:def 2;
then A24: V in { A where A is (Element of (the topology of T)): x4 in A } by A23;
A25: ( meet { A where A is (Element of (the topology of T)): x4 in A } ) c= V
proof
let z being set;
assume z in ( meet { A where A is (Element of (the topology of T)): x4 in A } );
hence thesis by A24,SETFAM_1:def 1;
end;
A26:now
let Y being set;
assume Y in { A where A is (Element of (the topology of T)): x3 in A };
then (ex A being (Element of (the topology of T)) st (Y = A & x3 in A));
hence x3 in Y;
end;
(the carrier of T) in (the topology of T) by PRE_TOPC:def 1;
then (the carrier of T) in { A where A is (Element of (the topology of T)): x3 in A };
then x3 in ( meet { A where A is (Element of (the topology of T)): x4 in A } ) by A15,A18,A26,SETFAM_1:def 1;
hence contradiction by A23,A25;
end;
end;
hence contradiction;
end;
then (( dom f ) = (the carrier of T) & f is  one-to-one) by FUNCT_1:def 4,FUNCT_2:def 1;
then A27: (the carrier of T),( rng f ) are_equipotent  by WELLORD2:def 4;
(for X being set holds (X in { ( card B1 ) where B1 is (Basis of T): (not contradiction) } implies ( card ( rng f ) ) c= X))
proof
let X being set;
assume X in { ( card B1 ) where B1 is (Basis of T): (not contradiction) };
then consider B2 being (Basis of T) such that A28: X = ( card B2 );
( rng f ) c= B2
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A29: x in ( dom f ) and A30: y = ( f . x ) by FUNCT_1:def 3;
reconsider x1 = x as (Element of T) by A29;
y = ( meet { A where A is (Element of (the topology of T)): x1 in A } ) by A3,A30;
hence thesis by A8,YELLOW15:31;
end;
hence thesis by A28,CARD_1:11;
end;
then ( card ( rng f ) ) c= ( meet { ( card B1 ) where B1 is (Basis of T): (not contradiction) } ) by A12,SETFAM_1:5;
then ( card ( rng f ) ) = ( meet { ( card B1 ) where B1 is (Basis of T): (not contradiction) } ) by A13,XBOOLE_0:def 10
.= ( weight T ) by WAYBEL23:def 5;
hence thesis by A27,CARD_1:5;
end;
