environ
vocabularies ORDERS_2,SETFAM_1,SUBSET_1,WAYBEL_0,TARSKI,XXREAL_0,LATTICES,ORDINAL2,WAYBEL23,YELLOW_1,YELLOW_0,WAYBEL_8,CARD_1,ORDINAL1,STRUCT_0,XBOOLE_0,PRE_TOPC,RLVECT_3,RCOMP_1,WAYBEL_3,FINSET_1,EQREL_1,ZFMISC_1,FUNCT_1,RELAT_1,WAYBEL11,YELLOW_9,WAYBEL19,PRELAMB,CANTOR_1,PROB_1,DIRAF,LATTICE3,RELAT_2,CARD_FIL,REWRITE1,PARTFUN1,FINSEQ_3,FINSEQ_1,ORDINAL4,WAYBEL_9,WELLORD1,CAT_1,WAYBEL31;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,FINSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,DOMAIN_1,FINSEQ_2,FINSEQ_3,ORDINAL1,CARD_1,STRUCT_0,PRE_TOPC,TOPS_2,CANTOR_1,ORDERS_2,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_9,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_8,WAYBEL_9,WAYBEL11,WAYBEL19,WAYBEL23,CKB4,CKB21;
definitions TARSKI,YELLOW_0,WAYBEL_8,STRUCT_0,CKB4,CKB21;
theorems TARSKI,SETFAM_1,SUBSET_1,FINSET_1,RELSET_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_5,CARD_1,CARD_4,WELLORD2,T_0TOPSP,ORDERS_2,PRE_TOPC,TOPS_1,TOPS_2,CANTOR_1,LATTICE3,YELLOW_0,YELLOW_1,YELLOW_2,YELLOW_8,YELLOW_9,YELLOW12,YELLOW15,WAYBEL_0,WAYBEL_1,WAYBEL_3,WAYBEL_4,WAYBEL_7,WAYBEL_8,WAYBEL11,WAYBEL14,WAYBEL19,WAYBEL23,WAYBEL30,WAYBEL13,WSIERP_1,XBOOLE_0,XBOOLE_1,FINSEQ_3,PRE_POLY,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28;
schemes ORDINAL1,FUNCT_2,PRE_CIRC,CLASSES1,FRAENKEL,FUNCT_1,CKB1,CKB2;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FINSET_1,CARD_1,FINSEQ_1,STRUCT_0,LATTICE3,YELLOW_0,WAYBEL_0,YELLOW_1,YELLOW_2,YELLOW_3,WAYBEL_3,WAYBEL_4,WAYBEL_8,WAYBEL14,YELLOW_9,YELLOW11,WAYBEL19,WAYBEL23,YELLOW15,WAYBEL25,WAYBEL30,ORDINAL1,PRE_TOPC,CKB3,CKB18,CKB19;
constructors SETFAM_1,DOMAIN_1,NAT_1,FINSEQ_3,TOPS_2,CANTOR_1,WAYBEL_1,WAYBEL_8,WAYBEL11,YELLOW_9,WAYBEL19,WAYBEL23,RELSET_1,FINSEQ_2,WAYBEL_2,CKB4,CKB21;
requirements NUMERALS,BOOLE,SUBSET;
begin
theorem
Th26: (for L1 being  continuous  lower-bounded sup-Semilattice holds (for T being  Lawson  correct (TopAugmentation of L1) holds (for B1 being  with_bottom (CLbasis of L1) holds { ( Way_Up (a,A) ) where a is (Element of L1),A is  finite (Subset of L1): (a in B1 & A c= B1) } is (Basis of T))))
proof
let L1 being  continuous  lower-bounded sup-Semilattice;
let T being  Lawson  correct (TopAugmentation of L1);
let B1 being  with_bottom (CLbasis of L1);
A1: ( the RelStr of L1 ) = ( the RelStr of T ) by YELLOW_9:def 4;
{ ( Way_Up (a,A) ) where a is (Element of L1),A is  finite (Subset of L1): (a in B1 & A c= B1) } c= ( bool (the carrier of T) )
proof
let z being set;
assume z in { ( Way_Up (a,A) ) where a is (Element of L1),A is  finite (Subset of L1): (a in B1 & A c= B1) };
then (ex a being (Element of L1) st (ex A being  finite (Subset of L1) st ((z = ( Way_Up (a,A) ) & a in B1) & A c= B1)));
hence thesis by A1;
end;
then reconsider WU = { ( Way_Up (a,A) ) where a is (Element of L1),A is  finite (Subset of L1): (a in B1 & A c= B1) } as (Subset-Family of T);
reconsider WU as (Subset-Family of T);
A2:now
reconsider BL = { ( W \ ( uparrow F ) ) where W is (Subset of T),F is (Subset of T): (W in ( sigma T ) & F is  finite) } as (Basis of T) by WAYBEL19:32;
set S = the  Scott (TopAugmentation of T);
let A being (Subset of T);
assume A3: A is  open;
let pT being (Point of T);
assume pT in A;
then consider a being (Subset of T) such that A4: a in BL and A5: pT in a and A6: a c= A by A3,YELLOW_9:31;
consider W,FT being (Subset of T) such that A7: a = ( W \ ( uparrow FT ) ) and A8: W in ( sigma T ) and A9: FT is  finite by A4;
A10: ( the RelStr of S ) = ( the RelStr of T ) by YELLOW_9:def 4;
then reconsider pS = pT as (Element of S);
reconsider W1 = W as (Subset of S) by A10;
( sigma S ) = ( sigma T ) by A10,YELLOW_9:52;
then A11: W = ( union { ( wayabove x ) where x is (Element of S): x in W1 } ) by A8,WAYBEL14:33;
reconsider pL = pS as (Element of L1) by A1;
defpred P[ set,set ]
 means
(ex b1,y1 being (Element of L1) st ((((y1 = $1 & b1 = $2) & b1 in B1) & (not b1 <= pL)) & b1 << y1));
A12: ( Bottom L1 ) in B1 by WAYBEL23:def 8;
pT in W by A5,A7,XBOOLE_0:def 5;
then consider k being set such that A13: pT in k and A14: k in { ( wayabove x ) where x is (Element of S): x in W1 } by A11,TARSKI:def 4;
consider xS being (Element of S) such that A15: k = ( wayabove xS ) and A16: xS in W1 by A14;
reconsider xL = xS as (Element of L1) by A1,A10;
xS << pS by A13,A15,WAYBEL_3:8;
then xL << pL by A1,A10,WAYBEL_8:8;
then consider bL being (Element of L1) such that A17: bL in B1 and A18: xL <= bL and A19: bL << pL by A12,WAYBEL23:47;
reconsider FL = FT as (Subset of L1) by A1;
A20: ( uparrow FT ) = ( uparrow FL ) by A1,WAYBEL_0:13;
A21: (not pT in ( uparrow FT )) by A5,A7,XBOOLE_0:def 5;
A22: (for y being set holds (y in FL implies (ex b being set st P[ y,b ])))
proof
let y being set;
assume A23: y in FL;
then reconsider y1 = y as (Element of L1);
(not y1 <= pL) by A21,A20,A23,WAYBEL_0:def 16;
then consider b1 being (Element of L1) such that A24: ((b1 in B1 & (not b1 <= pL)) & b1 << y1) by WAYBEL23:46;
reconsider b = b1 as set;
take b;
take b1;
take y1;
thus thesis by A24;
end;
consider f being Function such that A25: ( dom f ) = FL and A26: (for y being set holds (y in FL implies P[ y,( f . y ) ])) from CLASSES1:sch 1(A22);
( rng f ) c= (the carrier of L1)
proof
let z being set;
assume z in ( rng f );
then consider v being set such that A27: v in ( dom f ) and A28: z = ( f . v ) by FUNCT_1:def 3;
(ex b1,y1 being (Element of L1) st ((((y1 = v & b1 = ( f . v )) & b1 in B1) & (not b1 <= pL)) & b1 << y1)) by A25,A26,A27;
hence thesis by A28;
end;
then reconsider FFL = ( rng f ) as (Subset of L1);
A29: FFL c= B1
proof
let z being set;
assume z in FFL;
then consider v being set such that A30: v in ( dom f ) and A31: z = ( f . v ) by FUNCT_1:def 3;
(ex b1,y1 being (Element of L1) st ((((y1 = v & b1 = ( f . v )) & b1 in B1) & (not b1 <= pL)) & b1 << y1)) by A25,A26,A30;
hence thesis by A31;
end;
A32: ( uparrow FL ) c= ( uparrow FFL )
proof
let z being set;
assume A33: z in ( uparrow FL );
then reconsider z1 = z as (Element of L1);
consider v1 being (Element of L1) such that A34: v1 <= z1 and A35: v1 in FL by A33,WAYBEL_0:def 16;
consider b1,y1 being (Element of L1) such that A36: y1 = v1 and A37: b1 = ( f . v1 ) and b1 in B1 and (not b1 <= pL) and A38: b1 << y1 by A26,A35;
b1 << z1 by A34,A36,A38,WAYBEL_3:2;
then A39: b1 <= z1 by WAYBEL_3:1;
b1 in FFL by A25,A35,A37,FUNCT_1:def 3;
hence thesis by A39,WAYBEL_0:def 16;
end;
reconsider cT = ( ( wayabove bL ) \ ( uparrow FFL ) ) as (Subset of T) by A1;
take cT;
(cT = ( Way_Up (bL,FFL) ) & FFL is  finite) by A9,A25,FINSET_1:8;
hence cT in WU by A17,A29;
( wayabove bL ) c= ( wayabove xL ) by A18,WAYBEL_3:12;
then A40: ( ( wayabove bL ) \ ( uparrow FFL ) ) c= ( ( wayabove xL ) \ ( uparrow FL ) ) by A32,XBOOLE_1:35;
(for z being (Element of L1) holds ((not z in FFL) or (not z <= pL)))
proof
let z being (Element of L1);
assume z in FFL;
then consider v being set such that A41: v in ( dom f ) and A42: z = ( f . v ) by FUNCT_1:def 3;
(ex b1,y1 being (Element of L1) st ((((y1 = v & b1 = ( f . v )) & b1 in B1) & (not b1 <= pL)) & b1 << y1)) by A25,A26,A41;
hence thesis by A42;
end;
then (for z being (Element of L1) holds ((not z <= pL) or (not z in FFL)));
then A43: (not pL in ( uparrow FFL )) by WAYBEL_0:def 16;
pL in ( wayabove bL ) by A19,WAYBEL_3:8;
hence pT in cT by A43,XBOOLE_0:def 5;
( wayabove xL ) c= W
proof
let z being set;
( wayabove xL ) = ( wayabove xS ) by A1,A10,YELLOW12:13;
then A44: ( wayabove xL ) in { ( wayabove x ) where x is (Element of S): x in W1 } by A16;
assume z in ( wayabove xL );
hence thesis by A11,A44,TARSKI:def 4;
end;
then ( ( wayabove xL ) \ ( uparrow FL ) ) c= a by A7,A20,XBOOLE_1:33;
then ( ( wayabove bL ) \ ( uparrow FFL ) ) c= a by A40,XBOOLE_1:1;
hence cT c= A by A6,XBOOLE_1:1;
end;
WU c= (the topology of T)
proof
let z being set;
assume z in WU;
then consider a being (Element of L1),A being  finite (Subset of L1) such that A45: z = ( Way_Up (a,A) ) and a in B1 and A c= B1;
reconsider A1 = A as  finite (Subset of T) by A1;
reconsider a1 = a as (Element of T) by A1;
(( wayabove a1 ) is  open & ( ( uparrow A1 ) ` ) is  open) by CKB28:1,WAYBEL19:40;
then A46: ( ( wayabove a1 ) /\ ( ( uparrow A1 ) ` ) ) is  open by TOPS_1:11;
z = ( ( wayabove a1 ) \ ( uparrow A ) ) by A1,A45,YELLOW12:13
.= ( ( wayabove a1 ) \ ( uparrow A1 ) ) by A1,WAYBEL_0:13
.= ( ( wayabove a1 ) /\ ( ( uparrow A1 ) ` ) ) by SUBSET_1:13;
hence thesis by A46,PRE_TOPC:def 2;
end;
hence thesis by A2,YELLOW_9:32;
end;
