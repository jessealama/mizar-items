environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,AFINSQ_1,NAT_1,REWRITE3,XXREAL_0,ARYTM_3,CARD_1,FINSEQ_1,ORDINAL4,RELAT_1,FUNCT_1,FLANG_1,FSM_1,STRUCT_0,ZFMISC_1,TARSKI,FINSET_1,REWRITE2,PRELAMB,FSM_2,LANG1,REWRITE1,MCART_1,FSM_3;
notations CARD_1,TARSKI,XBOOLE_0,ZFMISC_1,XCMPLX_0,NAT_1,DOMAIN_1,FUNCT_1,RELSET_1,XXREAL_0,FINSET_1,AFINSQ_1,SUBSET_1,REWRITE1,CATALAN2,FLANG_1,STRUCT_0,NUMBERS,MCART_1,FINSEQ_1,REWRITE3;
definitions STRUCT_0;
theorems AFINSQ_1,CARD_1,FLANG_1,FUNCT_1,NAT_1,ORDINAL1,RELAT_1,RELSET_1,REWRITE1,STRUCT_0,SUBSET_1,TARSKI,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ZFMISC_1,FINSEQ_1,FINSEQ_3,FINSEQ_5,MCART_1,REWRITE3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12;
schemes FINSEQ_1,FRAENKEL,NAT_1,RELSET_1;
registrations CARD_1,NAT_1,XREAL_0,XBOOLE_0,MEMBERED,XXREAL_0,STRUCT_0,SUBSET_1,REWRITE1,AFINSQ_1,RELAT_1,FINSET_1,FINSEQ_1,REWRITE3,CATALAN2,FUNCT_1,RELSET_1,CKB8;
constructors XXREAL_0,NAT_1,MEMBERED,REWRITE1,FLANG_1,XREAL_0,REWRITE3,RELSET_1;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve x for set;
reserve E for non empty set;
reserve w for (Element of ( E ^omega ));
reserve F for (Subset of ( E ^omega ));
reserve TS for non empty transition-system over F;
reserve S for (Subset of TS);
reserve T for (Subset of TS);
definition
let E;
let F;
let TS;
func _bool TS ->  strict transition-system over ( Lex E )
means
:Def1: ((the carrier of it) = ( bool (the carrier of TS) ) & (for S holds (for w holds (for T holds ([ [ S,w ],T ] in (the Tran of it) iff (( len w ) = 1 & T = ( w -succ_of (S,TS) )))))));
existence
proof
set cTS = ( bool (the carrier of TS) );
defpred P[ set,set ]
 means
(for c being (Element of cTS) holds (for i being (Element of ( E ^omega )) holds ($1 = [ c,i ] implies (( len i ) = 1 & $2 = ( i -succ_of (c,TS) )))));
consider tTS being (Relation of [: cTS,( Lex E ) :],cTS) such that A1: (for x being (Element of [: cTS,( Lex E ) :]) holds (for y being (Element of cTS) holds ([ x,y ] in tTS iff P[ x,y ]))) from RELSET_1:sch 2;
set bTS = transition-system (# cTS,tTS #);
reconsider bTS as  strict transition-system over ( Lex E );
take bTS;
thus (the carrier of bTS) = ( bool (the carrier of TS) );
let S;
let w;
let T;
thus ([ [ S,w ],T ] in (the Tran of bTS) implies (( len w ) = 1 & T = ( w -succ_of (S,TS) )))
proof
assume A2: [ [ S,w ],T ] in (the Tran of bTS);
then reconsider xc = [ S,w ] as (Element of [: cTS,( Lex E ) :]) by ZFMISC_1:87;
[ xc,T ] in tTS by A2;
hence thesis by A1;
end;

set x = [ S,w ];
assume that
A3: ( len w ) = 1
and
A4: T = ( w -succ_of (S,TS) );
A5:now
let xc being (Element of cTS);
let xi being (Element of ( E ^omega ));
assume that
A6: x = [ xc,xi ];
xc = S by A6,ZFMISC_1:27;
hence (( len xi ) = 1 & T = ( xi -succ_of (xc,TS) )) by A3,A4,A6,ZFMISC_1:27;
end;
w in ( Lex E ) by A3,CKB10:1;
then reconsider x as (Element of [: cTS,( Lex E ) :]) by ZFMISC_1:87;
[ x,T ] in tTS by A1,A5;
hence thesis;
end;
uniqueness
proof
set cTS = ( bool (the carrier of TS) );
let bTS1 being  strict transition-system over ( Lex E ),bTS2 being  strict transition-system over ( Lex E );
assume that
A7: (the carrier of bTS1) = cTS
and
A8: (for S holds (for w holds (for T holds ([ [ S,w ],T ] in (the Tran of bTS1) iff (( len w ) = 1 & T = ( w -succ_of (S,TS) ))))))
and
A9: (the carrier of bTS2) = cTS
and
A10: (for S holds (for w holds (for T holds ([ [ S,w ],T ] in (the Tran of bTS2) iff (( len w ) = 1 & T = ( w -succ_of (S,TS) ))))));
A11: (x in (the Tran of bTS2) implies x in (the Tran of bTS1))
proof
assume A12: x in (the Tran of bTS2);
then consider xbi being set,xc being set such that A13: x = [ xbi,xc ] and A14: xbi in [: cTS,( Lex E ) :] and A15: xc in cTS by A9,RELSET_1:2;
reconsider xc as (Element of cTS) by A15;
[: cTS,( Lex E ) :] c= [: cTS,( Lex E ) :];
then consider xb being set,xi being set such that A16: xbi = [ xb,xi ] and A17: xb in cTS and A18: xi in ( Lex E ) by A14,RELSET_1:2;
reconsider xb as (Element of cTS) by A17;
reconsider xi as (Element of ( Lex E )) by A18;
reconsider xe = xi as (Element of ( E ^omega ));
A19: ( len xe ) = 1 by CKB10:1;
xc = ( xi -succ_of (xb,TS) ) by A10,A12,A13,A16;
hence thesis by A8,A13,A16,A19;
end;
(x in (the Tran of bTS1) implies x in (the Tran of bTS2))
proof
assume A20: x in (the Tran of bTS1);
then consider xbi being set,xc being set such that A21: x = [ xbi,xc ] and A22: xbi in [: cTS,( Lex E ) :] and A23: xc in cTS by A7,RELSET_1:2;
reconsider xc as (Element of cTS) by A23;
[: cTS,( Lex E ) :] c= [: cTS,( Lex E ) :];
then consider xb being set,xi being set such that A24: xbi = [ xb,xi ] and A25: xb in cTS and A26: xi in ( Lex E ) by A22,RELSET_1:2;
reconsider xb as (Element of cTS) by A25;
reconsider xi as (Element of ( Lex E )) by A26;
reconsider xe = xi as (Element of ( E ^omega ));
A27: ( len xe ) = 1 by CKB10:1;
xc = ( xi -succ_of (xb,TS) ) by A8,A20,A21,A24;
hence thesis by A10,A21,A24,A27;
end;
hence thesis by A7,A9,A11,TARSKI:1;
end;
end;
