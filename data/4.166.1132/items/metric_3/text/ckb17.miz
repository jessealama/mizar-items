environ
vocabularies XBOOLE_0,METRIC_1,SUBSET_1,FUNCT_1,ZFMISC_1,MCART_1,STRUCT_0,NUMBERS,ARYTM_3,CARD_1,XXREAL_0,REAL_1,METRIC_3,SQUARE_1,XREAL_0,ORDINAL1,RELAT_1,ARYTM_1,XCMPLX_0,COMPLEX1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,DOMAIN_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,COMPLEX1,REAL_1,FUNCT_2,BINOP_1,STRUCT_0,METRIC_1,MCART_1,XXREAL_0,SQUARE_1,CKB2,CKB6,CKB8,CKB10,CKB14,CKB15;
definitions SQUARE_1,CKB2,CKB6,CKB8,CKB10,CKB14,CKB15;
theorems BINOP_1,DOMAIN_1,ZFMISC_1,METRIC_1,MCART_1,XREAL_1,SQUARE_1,COMPLEX1,XXREAL_0,CKB2,CKB3,CKB4,CKB5,CKB6,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15;
schemes BINOP_1,CKB1,CKB9,CKB16;
registrations XBOOLE_0,SUBSET_1,RELSET_1,NUMBERS,MEMBERED,STRUCT_0,METRIC_1,RELAT_1,XCMPLX_0,XREAL_0,SQUARE_1,CKB7;
constructors XXREAL_0,REAL_1,MEMBERED,METRIC_1,SQUARE_1,DOMAIN_1,COMPLEX1,CKB2,CKB6,CKB8,CKB10,CKB14,CKB15;
requirements SUBSET,BOOLE,ARITHM,NUMERALS,REAL;
begin
reserve X for non  empty MetrSpace;
reserve Y for non  empty MetrSpace;
reserve Z for non  empty MetrSpace;
reserve W for non  empty MetrSpace;
definition
let X;
let Y;
let Z;
let W;
func dist_cart4 (X,Y,Z,W) -> (Function of [: [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :],[: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :] :],( REAL )) means 
:Def7: (for x1,y1 being (Element of X) holds (for x2,y2 being (Element of Y) holds (for x3,y3 being (Element of Z) holds (for x4,y4 being (Element of W) holds (for x,y being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]) holds ((x = [ x1,x2,x3,x4 ] & y = [ y1,y2,y3,y4 ]) implies ( it . (x,y) ) = ( ( ( dist (x1,y1) ) + ( dist (x2,y2) ) ) + ( ( dist (x3,y3) ) + ( dist (x4,y4) ) ) )))))));
existence
proof
deffunc G((Element of X),(Element of X),(Element of Y),(Element of Y),(Element of Z),(Element of Z),(Element of W),(Element of W)) = ( ( ( dist ($1,$2) ) + ( dist ($3,$4) ) ) + ( ( dist ($5,$6) ) + ( dist ($7,$8) ) ) );
consider F being (Function of [: [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :],[: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :] :],( REAL )) such that A1: (for x1,y1 being (Element of X) holds (for x2,y2 being (Element of Y) holds (for x3,y3 being (Element of Z) holds (for x4,y4 being (Element of W) holds (for x,y being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]) holds ((x = [ x1,x2,x3,x4 ] & y = [ y1,y2,y3,y4 ]) implies ( F . (x,y) ) = G(x1,y1,x2,y2,x3,y3,x4,y4))))))) from CKB16:sch 1;
take F;
let x1 being (Element of X);
let y1 being (Element of X);
let x2 being (Element of Y);
let y2 being (Element of Y);
let x3 being (Element of Z);
let y3 being (Element of Z);
let x4 being (Element of W);
let y4 being (Element of W);
let x being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]);
let y being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]);
assume (x = [ x1,x2,x3,x4 ] & y = [ y1,y2,y3,y4 ]);
hence thesis by A1;
end;
uniqueness
proof
let f1 being (Function of [: [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :],[: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :] :],( REAL ));
let f2 being (Function of [: [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :],[: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :] :],( REAL ));
assume that
A2: (for x1,y1 being (Element of X) holds (for x2,y2 being (Element of Y) holds (for x3,y3 being (Element of Z) holds (for x4,y4 being (Element of W) holds (for x,y being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]) holds ((x = [ x1,x2,x3,x4 ] & y = [ y1,y2,y3,y4 ]) implies ( f1 . (x,y) ) = ( ( ( dist (x1,y1) ) + ( dist (x2,y2) ) ) + ( ( dist (x3,y3) ) + ( dist (x4,y4) ) ) )))))))
and
A3: (for x1,y1 being (Element of X) holds (for x2,y2 being (Element of Y) holds (for x3,y3 being (Element of Z) holds (for x4,y4 being (Element of W) holds (for x,y being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]) holds ((x = [ x1,x2,x3,x4 ] & y = [ y1,y2,y3,y4 ]) implies ( f2 . (x,y) ) = ( ( ( dist (x1,y1) ) + ( dist (x2,y2) ) ) + ( ( dist (x3,y3) ) + ( dist (x4,y4) ) ) )))))));
(for x,y being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]) holds ( f1 . (x,y) ) = ( f2 . (x,y) ))
proof
let x being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]);
let y being (Element of [: (the carrier of X),(the carrier of Y),(the carrier of Z),(the carrier of W) :]);
consider x1 being (Element of X),x2 being (Element of Y),x3 being (Element of Z),x4 being (Element of W) such that A4: x = [ x1,x2,x3,x4 ] by DOMAIN_1:10;
consider y1 being (Element of X),y2 being (Element of Y),y3 being (Element of Z),y4 being (Element of W) such that A5: y = [ y1,y2,y3,y4 ] by DOMAIN_1:10;
thus ( f1 . (x,y) ) = ( ( ( dist (x1,y1) ) + ( dist (x2,y2) ) ) + ( ( dist (x3,y3) ) + ( dist (x4,y4) ) ) ) by A2,A4,A5
.= ( f2 . (x,y) ) by A3,A4,A5;
end;
hence thesis by BINOP_1:2;
end;
end;
