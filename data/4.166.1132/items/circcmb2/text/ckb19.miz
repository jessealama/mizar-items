environ
vocabularies NAT_1,FUNCT_1,FINSEQ_2,MARGREL1,CIRCCOMB,LATTICES,FINSET_1,XBOOLE_0,MSUALG_1,FSM_1,CIRCUIT1,RELAT_1,CIRCUIT2,STRUCT_0,MSAFREE2,GLIB_000,ARYTM_3,CARD_1,XXREAL_0,PBOOLE,NUMBERS,MCART_1,FUNCT_4,PARTFUN1,FACIRC_1,TARSKI;
notations TARSKI,XBOOLE_0,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,MCART_1,FINSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSEQ_2,FUNCT_4,PBOOLE,MARGREL1,STRUCT_0,MSUALG_1,MSAFREE2,CIRCUIT1,CIRCUIT2,CIRCCOMB,FACIRC_1;
definitions CIRCUIT2,MSAFREE2;
theorems TARSKI,FUNCT_1,RELAT_1,ZFMISC_1,NAT_1,MCART_1,PBOOLE,CIRCCOMB,FACIRC_1,FUNCT_4,FRECHET,CIRCUIT1,CIRCUIT2,XBOOLE_0,XBOOLE_1,XXREAL_0,ORDINAL1,CKB2,CKB3,CKB4,CKB5,CKB15,CKB16,CKB17,CKB18;
schemes NAT_1,PBOOLE,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14;
registrations RELAT_1,FUNCT_1,ORDINAL1,XREAL_0,CARD_3,STRUCT_0,CIRCCOMB,FACIRC_1,NAT_1,MARGREL1,CKB1;
constructors LIMFUNC1,CIRCUIT1,CIRCUIT2,FACIRC_1,NAT_1,RELSET_1,MARGREL1,DOMAIN_1,ENUMSET1,BINOP_1;
requirements NUMERALS,SUBSET,BOOLE,ARITHM;
begin
scheme CIRCCMB29sch10 { S0() ->  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign,f(set) -> set,h() -> (ManySortedSet of ( NAT )),S(set,set) ->  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign,o(set,set) -> set } : (for n being Nat holds (ex S1,S2 being  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign st ((((S1 = f(n) & S2 = f(( n + 1 ))) & ( InputVertices S2 ) = ( ( InputVertices S1 ) \/ ( ( InputVertices S(( h() . n ),n) ) \ { ( h() . n ) } ) )) & ( InnerVertices S1 ) is Relation) & ( InputVertices S1 ) is  without_pairs)))
provided
A1: ( InnerVertices S0() ) is Relation
and
A2: ( InputVertices S0() ) is  without_pairs
and
A3: (f(( 0 )) = S0() & ( h() . ( 0 ) ) in ( InnerVertices S0() ))
and
A4: (for n being Nat holds (for x being set holds ( InnerVertices S(x,n) ) is Relation))
and
A5: (for n being Nat holds (for x being set holds (x = ( h() . n ) implies ( ( InputVertices S(x,n) ) \ { x } ) is  without_pairs)))
and
A6: (for n being Nat holds (for S being non  empty ManySortedSign holds (for x being set holds ((S = f(n) & x = ( h() . n )) implies (((f(( n + 1 )) = ( S +* S(x,n) ) & ( h() . ( n + 1 ) ) = o(x,n)) & x in ( InputVertices S(x,n) )) & o(x,n) in ( InnerVertices S(x,n) ))))))
proof
A7: ( InnerVertices S(( h() . ( 0 ) ),( 0 )) ) is Relation by A4;
defpred P[ Nat ]
 means
(ex S1,S2 being  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign st (((((S1 = f($1) & S2 = f(( $1 + 1 ))) & ( InputVertices S2 ) = ( ( InputVertices S1 ) \/ ( ( InputVertices S(( h() . $1 ),$1) ) \ { ( h() . $1 ) } ) )) & ( h() . ( $1 + 1 ) ) in ( InnerVertices S2 )) & ( InputVertices S2 ) is  without_pairs) & ( InnerVertices S2 ) is Relation));
A8: (for i being Nat holds (P[ i ] implies P[ ( i + 1 ) ]))
proof
let i being Nat;
given S1 being  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign,S2 being  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign such that
S1 = f(i)
and
A9: S2 = f(( i + 1 ))
and
( InputVertices S2 ) = ( ( InputVertices S1 ) \/ ( ( InputVertices S(( h() . i ),i) ) \ { ( h() . i ) } ) )
and
A10: ( h() . ( i + 1 ) ) in ( InnerVertices S2 )
and
A11: ( InputVertices S2 ) is  without_pairs
and
A12: ( InnerVertices S2 ) is Relation;

A13: { ( h() . ( i + 1 ) ) } c= ( InnerVertices S2 ) by A10,ZFMISC_1:31;
take S2;
take S3 = ( S2 +* S(( h() . ( i + 1 ) ),( i + 1 )) );
thus (S2 = f(( i + 1 )) & S3 = f(( ( i + 1 ) + 1 ))) by A6,A9;
A14: ( ( InputVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) \ { ( h() . ( i + 1 ) ) } ) is  without_pairs by A5;
reconsider X1 = ( InputVertices S2 ),X2 = ( ( InputVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) \ { ( h() . ( i + 1 ) ) } ) as  without_pairs set by A5,A11;
A15: ( InnerVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) is Relation by A4;
thus ( InputVertices S3 ) = ( ( ( InputVertices S2 ) \ ( InnerVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) ) \/ ( ( InputVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) \ ( InnerVertices S2 ) ) ) by CKB15:1,CIRCCOMB:47
.= ( ( InputVertices S2 ) \/ ( ( InputVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) \ ( InnerVertices S2 ) ) ) by A11,A15,CKB16:1
.= ( ( InputVertices S2 ) \/ ( ( InputVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) \ { ( h() . ( i + 1 ) ) } ) ) by A12,A14,A13,CKB18:1;
then A16: ( InputVertices S3 ) = ( X1 \/ X2 );
A17: (( h() . ( ( i + 1 ) + 1 ) ) = o(( h() . ( i + 1 ) ),( i + 1 )) & o(( h() . ( i + 1 ) ),( i + 1 )) in ( InnerVertices S(( h() . ( i + 1 ) ),( i + 1 )) )) by A6,A9;
reconsider X1 = ( InnerVertices S2 ),X2 = ( InnerVertices S(( h() . ( i + 1 ) ),( i + 1 )) ) as Relation by A4,A12;
S2 tolerates S(( h() . ( i + 1 ) ),( i + 1 )) by CIRCCOMB:47;
then ( InnerVertices S3 ) = ( X1 \/ X2 ) by CIRCCOMB:11;
hence thesis by A17,A16,XBOOLE_0:def 3;
end;
let n being Nat;
A18: S0() tolerates S(( h() . ( 0 ) ),( 0 )) by CIRCCOMB:47;
A19: ( InputVertices ( S0() +* S(( h() . ( 0 ) ),( 0 )) ) ) = ( ( ( InputVertices S0() ) \ ( InnerVertices S(( h() . ( 0 ) ),( 0 )) ) ) \/ ( ( InputVertices S(( h() . ( 0 ) ),( 0 )) ) \ ( InnerVertices S0() ) ) ) by CKB15:1,CIRCCOMB:47
.= ( ( InputVertices S0() ) \/ ( ( InputVertices S(( h() . ( 0 ) ),( 0 )) ) \ ( InnerVertices S0() ) ) ) by A2,A7,CKB16:1;
A20: P[ ( 0 ) ]
proof
reconsider A = ( ( InputVertices S(( h() . ( 0 ) ),( 0 )) ) \ { ( h() . ( 0 ) ) } ),B = ( InputVertices S0() ) as  without_pairs set by A2,A5;
take S0 = S0();
take S1 = ( S0() +* S(( h() . ( 0 ) ),( 0 )) );
thus (S0 = f(( 0 )) & S1 = f(( ( 0 ) + 1 ))) by A3,A6;
reconsider R1 = ( InnerVertices S0() ),R2 = ( InnerVertices S(( h() . ( 0 ) ),( 0 )) ) as Relation by A1,A4;
(for x being set holds (x in { ( h() . ( 0 ) ) } implies x in ( InnerVertices S0() ))) by A3,TARSKI:def 1;
then { ( h() . ( 0 ) ) } c= ( InnerVertices S0() ) by TARSKI:def 3;
then A21: ( InputVertices S1 ) = ( B \/ A ) by A1,A19,CKB18:1;
(( h() . ( ( 0 ) + 1 ) ) = o(( h() . ( 0 ) ),( 0 )) & o(( h() . ( 0 ) ),( 0 )) in R2) by A3,A6;
then ( h() . ( ( 0 ) + 1 ) ) in ( R1 \/ R2 ) by XBOOLE_0:def 3;
hence thesis by A18,A21,CIRCCOMB:11;
end;
A22: (for i being Nat holds P[ i ]) from NAT_1:sch 2(A20,A8);
then consider S1,S2 being  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign such that A23: S1 = f(n) and A24: (S2 = f(( n + 1 )) & ( InputVertices S2 ) = ( ( InputVertices S1 ) \/ ( ( InputVertices S(( h() . n ),n) ) \ { ( h() . n ) } ) )) and ( h() . ( n + 1 ) ) in ( InnerVertices S2 ) and ( InputVertices S2 ) is  without_pairs and ( InnerVertices S2 ) is Relation;
take S1;
take S2;
thus ((S1 = f(n) & S2 = f(( n + 1 ))) & ( InputVertices S2 ) = ( ( InputVertices S1 ) \/ ( ( InputVertices S(( h() . n ),n) ) \ { ( h() . n ) } ) )) by A23,A24;
per cases  by NAT_1:6;
suppose n = ( 0 );

hence thesis by A1,A2,A3,A23;
end;
suppose (ex i being Nat st n = ( i + 1 ));

then consider i being Nat such that A25: n = ( i + 1 );
reconsider i as Nat;
(ex T1,T2 being  unsplit  gate`1=arity  gate`2isBoolean non  void non  empty ManySortedSign st (((((T1 = f(i) & T2 = f(( i + 1 ))) & ( InputVertices T2 ) = ( ( InputVertices T1 ) \/ ( ( InputVertices S(( h() . i ),i) ) \ { ( h() . i ) } ) )) & ( h() . ( i + 1 ) ) in ( InnerVertices T2 )) & ( InputVertices T2 ) is  without_pairs) & ( InnerVertices T2 ) is Relation)) by A22;
hence thesis by A23,A25;
end;
end;
