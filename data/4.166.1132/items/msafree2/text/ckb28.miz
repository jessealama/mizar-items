environ
vocabularies MSUALG_1,GLIB_000,SUBSET_1,XBOOLE_0,UNIALG_2,STRUCT_0,RELAT_1,TARSKI,FUNCT_1,FUNCOP_1,PBOOLE,CARD_3,FINSEQ_1,MARGREL1,NAT_1,PARTFUN1,PRELAMB,MSAFREE,MSUALG_3,TREES_4,REALSET1,MSUALG_2,FINSET_1,PRALG_1,CARD_1,TREES_2,DTCONSTR,TREES_3,ZFMISC_1,LANG1,TDGROUP,TREES_1,MSAFREE2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NAT_1,CARD_1,RELAT_1,FUNCT_1,PARTFUN1,FINSET_1,FINSEQ_1,FUNCT_2,CARD_3,TREES_1,TREES_2,TREES_3,TREES_4,PBOOLE,STRUCT_0,MSUALG_1,FINSEQ_2,MSAFREE,MSUALG_2,FUNCOP_1,DTCONSTR,LANG1,PRE_POLY,RELSET_1,MSUALG_3,CKB1,CKB2,CKB3,CKB4,CKB9,CKB13,CKB14,CKB17,CKB19,CKB20,CKB22,CKB23,CKB25,CKB27;
definitions TARSKI,MSUALG_1,FINSET_1,MSUALG_2,FUNCT_1,STRUCT_0,PBOOLE,FUNCOP_1,CKB2,CKB3,CKB4,CKB9,CKB13,CKB14,CKB17,CKB19,CKB20,CKB22,CKB23,CKB25,CKB27;
theorems TARSKI,ZFMISC_1,FINSEQ_1,FINSEQ_3,FUNCT_1,FUNCT_2,TREES_3,TREES_4,SUBSET_1,CARD_3,FUNCOP_1,PBOOLE,MSUALG_1,MSUALG_2,MSAFREE,CARD_2,CARD_1,DTCONSTR,LANG1,PRE_CIRC,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,FINSET_1,PARTFUN1,FINSEQ_2,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB13,CKB14,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB25,CKB27;
schemes DOMAIN_1,PBOOLE,MSAFREE1,FUNCT_1;
registrations XBOOLE_0,FUNCT_1,RELSET_1,FUNCOP_1,FINSET_1,TREES_1,CARD_3,TREES_2,TREES_3,PRE_CIRC,STRUCT_0,DTCONSTR,RELAT_1,MSUALG_1,MSUALG_2,MSAFREE,ORDINAL1,PBOOLE,FINSEQ_1,CKB10,CKB11,CKB12,CKB15,CKB16,CKB24,CKB26;
constructors XXREAL_0,NAT_1,MSUALG_3,MSAFREE,SEQ_4,RELSET_1,PRE_POLY,FINSEQ_2,CKB2,CKB3,CKB4,CKB9,CKB13,CKB14,CKB17,CKB19,CKB20,CKB22,CKB23,CKB25,CKB27;
requirements BOOLE,SUBSET;
begin
registration
cluster non  void  finite  monotonic  Circuit-like for non  empty non  empty ManySortedSign;
existence
proof
( {} ) in ( { ( {} ) } * ) by FINSEQ_1:49;
then reconsider f = ( { [ ( {} ),{ ( {} ) } ] } --> ( {} ) ) as (Function of { [ ( {} ),{ ( {} ) } ] },( { ( {} ) } * )) by FUNCOP_1:46;
reconsider g = ( { [ ( {} ),{ ( {} ) } ] } --> ( {} ) ) as (Function of { [ ( {} ),{ ( {} ) } ] },{ ( {} ) });
take S = ManySortedSign (# { ( {} ) },{ [ ( {} ),{ ( {} ) } ] },f,g #);
thus S is non  void;
thus S is  finite;
thus S is  monotonic
proof
reconsider S9 = S as non  void non  empty ManySortedSign;
let A being  finitely-generated  non-empty MSAlgebra over S;
reconsider A9 = A as  non-empty MSAlgebra over S9;
set s = the (SortSymbol of S9);
consider G being (GeneratorSet of A9) such that A1: G is  finite-yielding by CKB22:def 1;
reconsider Gs = ( G . s ) as  finite set by A1,FINSET_1:def 4;
set o = the (OperSymbol of S9);
set T = ( s .--> ( ( G . s ) \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) );
set O = ( o .--> ( Den (o,A9) ) );
reconsider G9 = G as (MSSubset of A9);
let i being set;
A2: s = ( {} ) by TARSKI:def 1;
then reconsider T as  non-empty (ManySortedSet of (the carrier of S));
assume i in (the carrier of S);
then A3: i = s by A2,TARSKI:def 1;
reconsider T9 = T as (ManySortedSet of (the carrier of S9));
A4: ( Args (o,A9) ) = ( ( (the Sorts of A9) # ) . ( (the Arity of S) . o ) ) by FUNCT_2:15
.= ( ( (the Sorts of A9) # ) . ( <*> (the carrier of S9) ) ) by FUNCOP_1:7
.= { ( {} ) } by PRE_CIRC:2;
then A5: ( dom ( Den (o,A9) ) ) = { ( {} ) } by FUNCT_2:def 1;
A6:now
let i being set;
assume A7: i in (the carrier' of S);
then i = [ ( {} ),{ ( {} ) } ] by TARSKI:def 1;
then A8: i = o by TARSKI:def 1;
( ( ( T # ) * (the Arity of S) ) . i ) = ( ( T # ) . ( (the Arity of S) . i ) ) by A7,FUNCT_2:15
.= ( ( T # ) . ( <*> (the carrier of S) ) ) by A7,FUNCOP_1:7
.= { ( {} ) } by PRE_CIRC:2;
then reconsider Oi = ( O . i ) as (Function of ( ( ( T # ) * (the Arity of S) ) . i ),( Result (o,A9) )) by A4,A8,FUNCOP_1:72;
( O . i ) = ( Den (o,A9) ) by A8,FUNCOP_1:72;
then A9: ( rng Oi ) = { ( ( Den (o,A9) ) . ( {} ) ) } by A5,FUNCT_1:4;
( ( T * (the ResultSort of S) ) . i ) = ( T . ( (the ResultSort of S) . i ) ) by A7,FUNCT_2:15
.= ( T . s ) by A2,A7,FUNCOP_1:7
.= ( ( G . s ) \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) by FUNCOP_1:72;
then ( rng Oi ) c= ( ( T * (the ResultSort of S) ) . i ) by A9,XBOOLE_1:7;
hence ( O . i ) is (Function of ( ( ( T # ) * (the Arity of S) ) . i ),( ( T * (the ResultSort of S) ) . i )) by FUNCT_2:6;
end;
A10: o = [ ( {} ),{ ( {} ) } ] by TARSKI:def 1;
then reconsider O as (ManySortedFunction of ( ( T # ) * (the Arity of S) ),( T * (the ResultSort of S) )) by A6,PBOOLE:def 15;
A11:now
let B being (MSSubset of A9);
assume A12: B = (the Sorts of MSAlgebra (# T,O #));
thus A13: B is  opers_closed
proof
let o9 being (OperSymbol of S9);
let x being set;
assume A14: x in ( rng ( ( Den (o9,A9) ) | ( ( ( B # ) * (the Arity of S9) ) . o9 ) ) );
A15: o9 = o by A10,TARSKI:def 1;
A16: (( dom (the ResultSort of S9) ) = { [ ( {} ),{ ( {} ) } ] } & ( (the ResultSort of S9) . o ) = s) by A2,FUNCOP_1:7,FUNCOP_1:13;
A17: ( ( Den (o,A9) ) | { ( {} ) } ) = ( Den (o,A9) ) by A5,RELAT_1:68;
( ( ( B # ) * (the Arity of S) ) . o ) = ( ( B # ) . ( (the Arity of S) . o ) ) by FUNCT_2:15
.= ( ( T # ) . ( <*> (the carrier of S) ) ) by A12,FUNCOP_1:7
.= { ( {} ) } by PRE_CIRC:2;
then (ex y being set st (y in ( dom ( Den (o,A9) ) ) & x = ( ( Den (o,A9) ) . y ))) by A15,A17,A14,FUNCT_1:def 3;
then x = ( ( Den (o,A9) ) . ( {} ) ) by A4,TARSKI:def 1;
then A18: x in { ( ( Den (o,A9) ) . ( {} ) ) } by TARSKI:def 1;
( B . s ) = ( ( G . s ) \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) by A12,FUNCOP_1:72;
then x in ( B . s ) by A18,XBOOLE_0:def 3;
hence thesis by A15,A16,FUNCT_1:13;
end;

now
let o9 being (OperSymbol of S9);
( ( ( B # ) * (the Arity of S9) ) . o ) = ( ( B # ) . ( (the Arity of S9) . o ) ) by FUNCT_2:15
.= ( ( T # ) . ( <*> (the carrier of S9) ) ) by A12,FUNCOP_1:7
.= { ( {} ) } by PRE_CIRC:2;
then ( ( Den (o,A9) ) | ( ( ( B # ) * (the Arity of S9) ) . o ) ) = ( Den (o,A9) ) by A5,RELAT_1:68;
then A19: ( (the Charact of MSAlgebra (# T,O #)) . o ) = ( ( Den (o,A9) ) | ( ( ( B # ) * (the Arity of S9) ) . o ) ) by FUNCOP_1:72;
(o9 = o & B is_closed_on o) by A10,A13,MSUALG_2:def 6,TARSKI:def 1;
hence ( (the Charact of MSAlgebra (# T,O #)) . o9 ) = ( o9 /. B ) by A19,MSUALG_2:def 7;
end;
hence (the Charact of MSAlgebra (# T,O #)) = ( Opers (A9,B) ) by A12,MSUALG_2:def 8;
end;
reconsider A99 = MSAlgebra (# T,O #) as  non-empty MSAlgebra over S9 by MSUALG_1:def 3;
A20: ( Result (o,A9) ) = ( (the Sorts of A9) . ( (the ResultSort of S) . o ) ) by FUNCT_2:15
.= ( (the Sorts of A9) . ( {} ) ) by FUNCOP_1:7;
T9 c= (the Sorts of A9)
proof
let i being set;
assume i in (the carrier of S9);
then A21: i = ( {} ) by TARSKI:def 1;
then A22: ( T9 . i ) = ( ( G . s ) \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) by A2,FUNCOP_1:72;
G c= (the Sorts of A9) by PBOOLE:def 18;
then A23: ( G . s ) c= ( (the Sorts of A9) . i ) by A2,A21,PBOOLE:def 2;
( dom ( Den (o,A9) ) ) = ( Args (o,A9) ) by FUNCT_2:def 1;
then ( {} ) in ( dom ( Den (o,A9) ) ) by A4,TARSKI:def 1;
then ( ( Den (o,A9) ) . ( {} ) ) in ( rng ( Den (o,A9) ) ) by FUNCT_1:def 3;
then { ( ( Den (o,A9) ) . ( {} ) ) } c= ( (the Sorts of A9) . i ) by A20,A21,ZFMISC_1:31;
hence thesis by A22,A23,XBOOLE_1:8;
end;
then (the Sorts of MSAlgebra (# T,O #)) is (MSSubset of A9) by PBOOLE:def 18;
then reconsider A99 as  strict (MSSubAlgebra of A9) by A11,MSUALG_2:def 9;
A24:now
let U1 being (MSSubAlgebra of A9);
assume A25: G9 is (MSSubset of U1);
now
( Constants A9 ) is (MSSubset of U1) by MSUALG_2:10;
then ( Constants A9 ) c= (the Sorts of U1) by PBOOLE:def 18;
then ( ( Constants A9 ) . s ) c= ( (the Sorts of U1) . s ) by PBOOLE:def 2;
then A26: ( Constants (A9,s) ) c= ( (the Sorts of U1) . s ) by MSUALG_2:def 4;
A27: ( {} ) in ( dom ( Den (o,A9) ) ) by A5,TARSKI:def 1;
then ( ( Den (o,A9) ) . ( {} ) ) in ( rng ( Den (o,A9) ) ) by FUNCT_1:def 3;
then reconsider b = ( ( Den (o,A9) ) . ( {} ) ) as (Element of ( (the Sorts of A9) . s )) by A20,TARSKI:def 1;
let i being set;
A28: (( (the Arity of S9) . o ) = ( {} ) & (ex X being non  empty set st (X = ( (the Sorts of A9) . s ) & ( Constants (A9,s) ) = { a where a is (Element of X): (ex o being (OperSymbol of S9) st ((( (the Arity of S9) . o ) = ( {} ) & ( (the ResultSort of S9) . o ) = s) & a in ( rng ( Den (o,A9) ) ))) }))) by FUNCOP_1:7,MSUALG_2:def 3;
b in ( rng ( Den (o,A9) ) ) by A27,FUNCT_1:def 3;
then ( ( Den (o,A9) ) . ( {} ) ) in ( Constants (A9,s) ) by A2,A28;
then A29: { ( ( Den (o,A9) ) . ( {} ) ) } c= ( (the Sorts of U1) . s ) by A26,ZFMISC_1:31;
G c= (the Sorts of U1) by A25,PBOOLE:def 18;
then A30: (( (the Sorts of A99) . s ) = ( ( G . s ) \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) & ( G . s ) c= ( (the Sorts of U1) . s )) by FUNCOP_1:72,PBOOLE:def 2;
assume i in (the carrier of S9);
then i = s by A2,TARSKI:def 1;
hence ( (the Sorts of A99) . i ) c= ( (the Sorts of U1) . i ) by A30,A29,XBOOLE_1:8;
end;
then (the Sorts of A99) c= (the Sorts of U1) by PBOOLE:def 2;
hence A99 is (MSSubAlgebra of U1) by MSUALG_2:8;
end;
now
let i being set;
assume i in (the carrier of S9);
then A31: i = s by A2,TARSKI:def 1;
( (the Sorts of A99) . s ) = ( ( G . s ) \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) by FUNCOP_1:72;
hence ( G9 . i ) c= ( (the Sorts of A99) . i ) by A31,XBOOLE_1:7;
end;
then G9 c= (the Sorts of A99) by PBOOLE:def 2;
then G9 is (MSSubset of A99) by PBOOLE:def 18;
then ( s .--> ( ( G . s ) \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) ) = (the Sorts of ( GenMSAlg G )) by A24,MSUALG_2:def 17
.= (the Sorts of A9) by MSAFREE:def 4;
then ( (the Sorts of A) . i ) = ( Gs \/ { ( ( Den (o,A9) ) . ( {} ) ) } ) by A3,FUNCOP_1:72;
hence thesis;
end;

thus S is  Circuit-like
proof
let S9 being non  void non  empty ManySortedSign;
assume A32: S9 = S;
let o1 being (OperSymbol of S9);
let o2 being (OperSymbol of S9);
assume that
( the_result_sort_of o1 ) = ( the_result_sort_of o2 );
o1 = [ ( {} ),{ ( {} ) } ] by A32,TARSKI:def 1;
hence thesis by A32,TARSKI:def 1;
end;

end;
end;
