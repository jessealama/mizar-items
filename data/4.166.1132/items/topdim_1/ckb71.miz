environ
vocabularies NUMBERS,PRE_TOPC,SUBSET_1,RELAT_1,SETFAM_1,RCOMP_1,NAT_1,INT_1,XBOOLE_0,TOPS_1,TARSKI,PROB_1,ZFMISC_1,STRUCT_0,FUNCT_1,CARD_1,ARYTM_3,PARTFUN1,FINSET_1,XXREAL_0,COMPTS_1,ARYTM_1,ORDINAL1,T_0TOPSP,TOPS_2,CARD_5,METRIZTS,RLVECT_3,CARD_3,MCART_1,PCOMPS_1,WAYBEL23,TOPDIM_1,FUNCT_2;
notations TARSKI,XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,ORDINAL1,MCART_1,FUNCT_2,CARD_1,CARD_3,CANTOR_1,FINSET_1,NUMBERS,ZFMISC_1,XXREAL_0,REAL_1,SETFAM_1,DOMAIN_1,PRE_TOPC,TOPS_1,TOPS_2,NAT_1,STRUCT_0,COMPTS_1,PCOMPS_1,PROB_1,WAYBEL23,BORSUK_1,BORSUK_3,INT_1,METRIZTS,CKB3,CKB6,CKB7,CKB8,CKB9,CKB16,CKB17,CKB22,CKB30,CKB37;
definitions COMPTS_1,STRUCT_0,SUBSET_1,TOPS_1,TOPS_2,TARSKI,XBOOLE_0,CKB3,CKB6,CKB8,CKB16,CKB22,CKB30,CKB37;
theorems CARD_2,CARD_3,FUNCT_1,FUNCT_2,INT_1,KURATO_2,ORDINAL1,MCART_1,NAT_1,PRE_TOPC,PROB_1,RELAT_1,SETFAM_1,SETLIM_1,SUBSET_1,TARSKI,TOPGEN_1,TOPGRP_1,TOPS_1,TOPS_2,TOPS_3,TSEP_1,TSP_1,T_0TOPSP,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,YELLOW12,YELLOW_9,ZFMISC_1,METRIZTS,KURATO_0,CKB1,CKB2,CKB3,CKB5,CKB6,CKB8,CKB10,CKB11,CKB16,CKB19,CKB22,CKB23,CKB24,CKB25,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB36,CKB37,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70;
schemes CLASSES1,FRAENKEL,FUNCT_2,NAT_1,SUBSET_1;
registrations BORSUK_3,CARD_1,COMPTS_1,FINSET_1,FUNCT_2,INT_1,NAT_1,ORDINAL1,PRE_TOPC,RELAT_1,STRUCT_0,SUBSET_1,TOPREAL6,TOPS_1,XBOOLE_0,XCMPLX_0,XREAL_0,XXREAL_0,YELLOW13,METRIZTS,RELSET_1,KURATO_0,CKB4,CKB12,CKB13,CKB14,CKB15,CKB18,CKB20,CKB21,CKB26,CKB35,CKB38,CKB45,CKB46;
constructors SETFAM_1,TOPS_1,TOPS_2,BORSUK_1,REAL_1,KURATO_2,CANTOR_1,WELLFND1,WAYBEL23,COMPTS_1,BORSUK_3,TSP_1,METRIZTS,RELSET_1,ORDINAL2,PCOMPS_1,KURATO_0,EUCLID,CKB3,CKB6,CKB8,CKB16,CKB22,CKB30,CKB37;
requirements ARITHM,BOOLE,NUMERALS,REAL,SUBSET;
begin
reserve T for TopSpace;
reserve B for (Subset of T);
reserve TM for  metrizable TopSpace;
theorem
Th39: (for Null being (Subset of TM) holds (( TM | Null ) is  second-countable implies ((Null is  finite-ind & ( ind Null ) <= ( 0 )) iff (ex B being (Basis of TM) st (for A being (Subset of TM) holds (A in B implies Null misses ( Fr A )))))))
proof
set cTM = ( [#] TM );
set TOP = (the topology of TM);
let Null being (Subset of TM);
assume that
A1: ( TM | Null ) is  second-countable;
hereby
defpred P[ set,set ]
 means
(for p being (Point of TM) holds (for A being (Subset of TM) holds ($1 = [ p,A ] implies (($2 in TOP & ((not p in A) implies $2 = ( {} TM ))) & (p in A implies (ex W being  open (Subset of TM) st (((W = $2 & p in W) & W c= A) & Null misses ( Fr W ))))))));
assume A2: (Null is  finite-ind & ( ind Null ) <= ( 0 ));
A3: (for x being set holds (x in [: cTM,TOP :] implies (ex y being set st P[ x,y ])))
proof
let x being set;
assume x in [: cTM,TOP :];
then consider p9 being set,A9 being set such that A4: p9 in cTM and A5: A9 in TOP and A6: x = [ p9,A9 ] by ZFMISC_1:def 2;
reconsider p9 as (Point of TM) by A4;
reconsider A9 as  open (Subset of TM) by A5,PRE_TOPC:def 2;
per cases ;
suppose A7: (not p9 in A9);

take ( {} TM );
let p being (Point of TM);
let A being (Subset of TM);
assume that
A8: x = [ p,A ];
p = p9 by A6,A8,ZFMISC_1:27;
hence thesis by A6,A7,A8,PRE_TOPC:def 2,ZFMISC_1:27;
end;
suppose p9 in A9;

then consider W being  open (Subset of TM) such that A9: ((p9 in W & W c= A9) & Null misses ( Fr W )) by A1,A2,CKB70:1;
take W;
let p being (Point of TM);
let A being (Subset of TM);
assume x = [ p,A ];
then (p = p9 & A = A9) by A6,ZFMISC_1:27;
hence thesis by A9,PRE_TOPC:def 2;
end;
end;
consider f being Function such that A10: ( dom f ) = [: cTM,TOP :] and A11: (for x being set holds (x in [: cTM,TOP :] implies P[ x,( f . x ) ])) from CLASSES1:sch 1(A3);
A12: ( rng f ) c= TOP
proof
let y being set;
assume y in ( rng f );
then consider x being set such that A13: x in ( dom f ) and A14: ( f . x ) = y by FUNCT_1:def 3;
(ex p,A being set st ((p in cTM & A in TOP) & x = [ p,A ])) by A10,A13,ZFMISC_1:def 2;
hence thesis by A10,A11,A13,A14;
end;
then reconsider RNG = ( rng f ) as (Subset-Family of TM) by XBOOLE_1:1;
now
let A being (Subset of TM);
assume A is  open;
then A15: A in TOP by PRE_TOPC:def 2;
let p being (Point of TM);
assume that
A16: p in A;
A17: [ p,A ] in [: cTM,TOP :] by A15,A16,ZFMISC_1:87;
then consider W being  open (Subset of TM) such that A18: ((W = ( f . [ p,A ] ) & p in W) & W c= A) and Null misses ( Fr W ) by A11,A16;
reconsider W as (Subset of TM);
take W;
thus ((W in RNG & p in W) & W c= A) by A10,A17,A18,FUNCT_1:def 3;
end;
then reconsider RNG as (Basis of TM) by A12,YELLOW_9:32;
take RNG;
let B being (Subset of TM);
assume B in RNG;
then consider x being set such that A19: x in ( dom f ) and A20: ( f . x ) = B by FUNCT_1:def 3;
consider p being set,A being set such that A21: p in cTM and A22: A in TOP and A23: x = [ p,A ] by A10,A19,ZFMISC_1:def 2;
per cases ;
suppose p in A;

then (ex W being  open (Subset of TM) st (((W = ( f . [ p,A ] ) & p in W) & W c= A) & Null misses ( Fr W ))) by A10,A11,A19,A22,A23;
hence Null misses ( Fr B ) by A20,A23;
end;
suppose (not p in A);

then B = ( {} TM ) by A10,A11,A19,A20,A21,A22,A23;
then ( Fr B ) = ( {} TM ) by TOPGEN_1:14;
hence Null misses ( Fr B ) by XBOOLE_1:65;
end;
end;
given B being (Basis of TM) such that
A24: (for A being (Subset of TM) holds (A in B implies Null misses ( Fr A )));

(for p being (Point of TM) holds (for U being  open (Subset of TM) holds (p in U implies (ex W being  open (Subset of TM) st ((p in W & W c= U) & Null misses ( Fr W ))))))
proof
let p being (Point of TM);
let U being  open (Subset of TM);
assume p in U;
then consider a being (Subset of TM) such that A25: a in B and A26: (p in a & a c= U) by YELLOW_9:31;
B c= TOP by TOPS_2:64;
then reconsider a as  open (Subset of TM) by A25,PRE_TOPC:def 2;
take a;
thus thesis by A24,A25,A26;
end;
hence thesis by A1,CKB70:1;
end;
