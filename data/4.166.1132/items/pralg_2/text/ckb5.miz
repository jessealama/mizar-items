environ
vocabularies XBOOLE_0,MSUALG_1,CARD_3,FUNCT_1,SUBSET_1,PBOOLE,RELAT_1,FUNCT_6,TARSKI,FUNCOP_1,FINSEQ_4,FUNCT_5,ZFMISC_1,PRALG_1,MCART_1,COMPLEX1,STRUCT_0,MARGREL1,RLVECT_2,FUNCT_2,PRALG_2,PARTFUN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,BINOP_1,MCART_1,STRUCT_0,FUNCOP_1,FINSEQ_2,FUNCT_5,FUNCT_6,CARD_3,PBOOLE,PRALG_1,MSUALG_1,CKB3;
definitions TARSKI,PBOOLE,FUNCOP_1,XBOOLE_0,BINOP_1,FUNCT_6,FUNCT_2,CKB3;
theorems TARSKI,FUNCT_1,FINSEQ_1,PBOOLE,MSUALG_1,ZFMISC_1,CARD_3,FUNCT_2,MCART_1,FUNCOP_1,FUNCT_6,FUNCT_5,RELAT_1,PRALG_1,XBOOLE_0,XBOOLE_1,PARTFUN1,FINSEQ_2,CKB3,CKB4;
schemes FUNCT_1,FUNCT_2,CLASSES1,TARSKI,PBOOLE;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCOP_1,CARD_3,PBOOLE,STRUCT_0,MSUALG_1,RELSET_1,FINSEQ_2,CKB1,CKB2;
constructors BINOP_1,FUNCT_6,PRALG_1,MSUALG_1,RELSET_1,FUNCT_5,CKB3;
requirements BOOLE,SUBSET;
begin
reserve x for set;
definition
let f being  Function-yielding Function;
redefine func Frege f -> (ManySortedFunction of ( product ( doms f ) ))
means
:Def8: (for g being Function holds (g in ( product ( doms f ) ) implies ( it . g ) = ( f .. g )));
coherence
proof
A1: ( dom ( Frege f ) ) = ( product ( doms f ) ) by FUNCT_6:def 7;
( Frege f ) is  Function-yielding
proof
let x being set;
assume A2: x in ( dom ( Frege f ) );
then reconsider g = x as Function by A1;
(ex h being Function st ((( ( Frege f ) . g ) = h & ( dom h ) = ( f " ( SubFuncs ( rng f ) ) )) & (for x holds (x in ( dom h ) implies ( h . x ) = ( ( uncurry f ) . (x,( g . x )) ))))) by A1,A2,FUNCT_6:def 7;
hence thesis;
end;
hence thesis by A1,PARTFUN1:def 2,RELAT_1:def 18;
end;
compatibility
proof
let F being (ManySortedFunction of ( product ( doms f ) ));
(for x being set holds (x in ( rng f ) iff (x in ( rng f ) & x is Function)))
proof
let y being set;
(y in ( rng f ) implies y is Function)
proof
assume y in ( rng f );
then (ex x being set st (x in ( dom f ) & y = ( f . x ))) by FUNCT_1:def 3;
hence thesis;
end;
hence thesis;
end;
then A3: ( SubFuncs ( rng f ) ) = ( rng f ) by FUNCT_6:def 1;
thus (F = ( Frege f ) implies (for g being Function holds (g in ( product ( doms f ) ) implies ( F . g ) = ( f .. g ))))
proof
assume A4: F = ( Frege f );
let g being Function;
assume A5: g in ( product ( doms f ) );
then consider h being Function such that A6: ( F . g ) = h and A7: ( dom h ) = ( f " ( SubFuncs ( rng f ) ) ) and A8: (for x holds (x in ( dom h ) implies ( h . x ) = ( ( uncurry f ) . (x,( g . x )) ))) by A4,FUNCT_6:def 7;
A9: ( dom h ) = ( dom f ) by A3,A7,RELAT_1:134;
(for x being set holds (x in ( dom f ) implies ( h . x ) = ( ( f . x ) . ( g . x ) )))
proof
let x being set;
assume A10: x in ( dom f );
then x in ( dom ( doms f ) ) by A7,A9,FUNCT_6:def 2;
then ( g . x ) in ( ( doms f ) . x ) by A5,CARD_3:9;
then A11: ( g . x ) in ( dom ( f . x ) ) by A10,FUNCT_6:22;
thus ( h . x ) = ( f .. (x,( g . x )) ) by A8,A9,A10
.= ( ( f . x ) . ( g . x ) ) by A10,A11,FUNCT_5:38;
end;
hence thesis by A6,A9,PRALG_1:def 17;
end;

assume A12: (for g being Function holds (g in ( product ( doms f ) ) implies ( F . g ) = ( f .. g )));
A13: (for g being Function holds (g in ( product ( doms f ) ) implies (ex h being Function st ((( F . g ) = h & ( dom h ) = ( f " ( SubFuncs ( rng f ) ) )) & (for x being set holds (x in ( dom h ) implies ( h . x ) = ( ( uncurry f ) . (x,( g . x )) )))))))
proof
let g being Function;
assume that
A14: g in ( product ( doms f ) );
( F . g ) = ( f .. g ) by A12,A14;
then A15: ( dom ( F . g ) ) = ( dom f ) by PRALG_1:def 17;
take ( F . g );
thus ( F . g ) = ( F . g );
thus A16: ( dom ( F . g ) ) = ( f " ( SubFuncs ( rng f ) ) ) by A3,A15,RELAT_1:134;
let x being set;
assume A17: x in ( dom ( F . g ) );
then x in ( dom ( doms f ) ) by A16,FUNCT_6:def 2;
then ( g . x ) in ( ( doms f ) . x ) by A14,CARD_3:9;
then A18: ( g . x ) in ( dom ( f . x ) ) by A15,A17,FUNCT_6:22;
thus ( ( F . g ) . x ) = ( ( f .. g ) . x ) by A12,A14
.= ( ( f . x ) . ( g . x ) ) by A15,A17,PRALG_1:def 17
.= ( ( uncurry f ) . (x,( g . x )) ) by A15,A17,A18,FUNCT_5:38;
end;
( dom F ) = ( product ( doms f ) ) by PARTFUN1:def 2;
hence thesis by A13,FUNCT_6:def 7;
end;
end;
