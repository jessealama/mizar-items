environ
vocabularies XBOOLE_0,MSUALG_1,CARD_3,FUNCT_1,SUBSET_1,PBOOLE,RELAT_1,FUNCT_6,TARSKI,FUNCOP_1,FINSEQ_4,FUNCT_5,ZFMISC_1,PRALG_1,MCART_1,COMPLEX1,STRUCT_0,MARGREL1,RLVECT_2,FUNCT_2,PRALG_2,PARTFUN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,BINOP_1,MCART_1,STRUCT_0,FUNCOP_1,FINSEQ_2,FUNCT_5,FUNCT_6,CARD_3,PBOOLE,PRALG_1,MSUALG_1;
definitions TARSKI,PBOOLE,FUNCOP_1,XBOOLE_0,BINOP_1,FUNCT_6,FUNCT_2;
theorems TARSKI,FUNCT_1,FINSEQ_1,PBOOLE,MSUALG_1,ZFMISC_1,CARD_3,FUNCT_2,MCART_1,FUNCOP_1,FUNCT_6,FUNCT_5,RELAT_1,PRALG_1,XBOOLE_0,XBOOLE_1,PARTFUN1,FINSEQ_2;
schemes FUNCT_1,FUNCT_2,CLASSES1,TARSKI,PBOOLE;
registrations XBOOLE_0,RELAT_1,FUNCT_1,FUNCOP_1,CARD_3,PBOOLE,STRUCT_0,MSUALG_1,RELSET_1,FINSEQ_2,CKB1,CKB2;
constructors BINOP_1,FUNCT_6,PRALG_1,MSUALG_1,RELSET_1,FUNCT_5;
requirements BOOLE,SUBSET;
begin
reserve x for set;
definition
let F being Function;
func Commute F -> Function
means
:Def6: ((for x holds (x in ( dom it ) iff (ex f being Function st (f in ( dom F ) & x = ( commute f ))))) & (for f being Function holds (f in ( dom it ) implies ( it . f ) = ( F . ( commute f ) ))));
existence
proof
defpred P[ set,set ]
 means
(ex f being Function st ($1 = f & $2 = ( commute f )));
A1: (for x,y1,y2 being set holds ((P[ x,y1 ] & P[ x,y2 ]) implies y1 = y2));
consider X being set such that A2: (for x holds (x in X iff (ex y being set st (y in ( dom F ) & P[ y,x ])))) from TARSKI:sch 1(A1);
defpred P[ set,set ]
 means
(for f being Function holds ($1 = f implies $2 = ( F . ( commute f ) )));
A3:now
let x;
assume x in X;
then (ex y being set st (y in ( dom F ) & (ex f being Function st (y = f & x = ( commute f ))))) by A2;
then reconsider f = x as Function;
take y = ( F . ( commute f ) );
thus P[ x,y ];
end;
consider G being Function such that A4: ( dom G ) = X and A5: (for x holds (x in X implies P[ x,( G . x ) ])) from CLASSES1:sch 1(A3);
take G;
hereby
let x;
hereby
assume x in ( dom G );
then consider y being set such that A6: y in ( dom F ) and A7: (ex f being Function st (y = f & x = ( commute f ))) by A2,A4;
reconsider f = y as Function by A7;
take f;
thus (f in ( dom F ) & x = ( commute f )) by A6,A7;
end;
thus ((ex f being Function st (f in ( dom F ) & x = ( commute f ))) implies x in ( dom G )) by A2,A4;
end;
thus thesis by A4,A5;
end;
uniqueness
proof
let m being Function,n being Function;
assume that
A8: (for x holds (x in ( dom m ) iff (ex f being Function st (f in ( dom F ) & x = ( commute f )))))
and
A9: (for f being Function holds (f in ( dom m ) implies ( m . f ) = ( F . ( commute f ) )))
and
A10: (for x holds (x in ( dom n ) iff (ex f being Function st (f in ( dom F ) & x = ( commute f )))))
and
A11: (for f being Function holds (f in ( dom n ) implies ( n . f ) = ( F . ( commute f ) )));
now
let x;
(x in ( dom m ) iff (ex f being Function st (f in ( dom F ) & x = ( commute f )))) by A8;
hence (x in ( dom m ) iff x in ( dom n )) by A10;
end;
then A12: ( dom m ) = ( dom n ) by TARSKI:1;
now
let x;
assume A13: x in ( dom m );
then consider g being Function such that g in ( dom F ) and A14: x = ( commute g ) by A10,A12;
thus ( m . x ) = ( F . ( commute ( commute g ) ) ) by A9,A13,A14
.= ( n . x ) by A11,A12,A13,A14;
end;
hence thesis by A12,FUNCT_1:2;
end;
end;
