environ
vocabularies XBOOLE_0,ORDERS_2,OSALG_1,PBOOLE,STRUCT_0,SUBSET_1,XXREAL_0,RELAT_1,FUNCT_1,TARSKI,FINSEQ_1,CARD_3,MEMBER_1,MSUALG_3,MSUALG_1,GROUP_6,MARGREL1,NAT_1,PARTFUN1,SEQM_3,OSALG_2,MSUALG_2,UNIALG_2,OSALG_3;
notations TARSKI,XBOOLE_0,SUBSET_1,NAT_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FINSEQ_1,FINSEQ_2,CARD_3,ORDERS_2,PBOOLE,STRUCT_0,MSUALG_1,MSUALG_2,OSALG_1,OSALG_2,MSUALG_3,CKB1,CKB10,CKB13,CKB14;
definitions TARSKI,OSALG_1,CKB1,CKB10;
theorems XBOOLE_1,FUNCT_1,FUNCT_2,FINSEQ_1,PBOOLE,CARD_3,MSUALG_1,ZFMISC_1,MSUALG_9,FINSEQ_3,MSUALG_2,TARSKI,RELAT_1,OSALG_1,OSALG_2,MSUALG_3,MSAFREE3,ORDINAL1,PARTFUN1,FINSEQ_2,CKB1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB15,CKB16,CKB17;
registrations XBOOLE_0,FUNCT_1,RELSET_1,FUNCOP_1,FINSEQ_1,PBOOLE,STRUCT_0,MSUALG_1,MSUALG_3,ORDERS_3,MSUALG_9,OSALG_1,CKB6;
constructors MSUALG_3,ORDERS_3,OSALG_2,CARD_3,RELSET_1,CKB1,CKB10,CKB13,CKB14;
requirements BOOLE,SUBSET;
begin
reserve S1 for OrderSortedSign;
theorem
Th14: (for U1 being  monotone  non-empty (OSAlgebra of S1) holds (for U2 being  non-empty (OSAlgebra of S1) holds (for F being (ManySortedFunction of U1,U2) holds ((F is  order-sorted & F is_homomorphism U1,U2) implies (( Image F ) is  order-sorted & ( Image F ) is  monotone  monotone (OSAlgebra of S1))))))
proof
let U1 being  monotone  non-empty (OSAlgebra of S1);
let U2 being  non-empty (OSAlgebra of S1);
let F being (ManySortedFunction of U1,U2);
assume that
A1: F is  order-sorted
and
A2: F is_homomorphism U1,U2;
reconsider O1 = (the Sorts of U1) as (OrderSortedSet of S1) by OSALG_1:17;
( F .:.: O1 ) is (OrderSortedSet of S1) by A1,CKB9:1;
then A3: (the Sorts of ( Image F )) is (OrderSortedSet of S1) by A2,MSUALG_3:def 12;
then reconsider I = ( Image F ) as  non-empty (OSAlgebra of S1) by OSALG_1:17;
thus ( Image F ) is  order-sorted by A3,OSALG_1:17;
consider G being (ManySortedFunction of U1,I) such that A4: F = G and A5: G is_epimorphism U1,I by A2,MSUALG_3:21;
A6: G is_homomorphism U1,I by A5,MSUALG_3:def 8;
A7: G is  "onto" by A5,MSUALG_3:def 8;
(for o1,o2 being (OperSymbol of S1) holds (o1 <= o2 implies ( Den (o1,I) ) c= ( Den (o2,I) )))
proof
let o1 being (OperSymbol of S1),o2 being (OperSymbol of S1);
assume that
A8: o1 <= o2;
A9: ( Args (o1,I) ) c= ( Args (o2,I) ) by A8,OSALG_1:26;
A10: ( Args (o1,U1) ) c= ( Args (o2,U1) ) by A8,OSALG_1:26;
A11: ( dom ( Den (o2,I) ) ) = ( Args (o2,I) ) by FUNCT_2:def 1;
A12: ( ( Den (o2,U1) ) | ( Args (o1,U1) ) ) = ( Den (o1,U1) ) by A8,OSALG_1:def 21;
A13: ( the_result_sort_of o1 ) <= ( the_result_sort_of o2 ) by A8,OSALG_1:def 20;
(for a,b being set holds ([ a,b ] in ( Den (o1,I) ) implies [ a,b ] in ( Den (o2,I) )))
proof
set s1 = ( the_result_sort_of o1 );
set s2 = ( the_result_sort_of o2 );
o1 in (the carrier' of S1);
then A14: o1 in ( dom (the ResultSort of S1) ) by FUNCT_2:def 1;
let a being set,b being set;
assume that
A15: [ a,b ] in ( Den (o1,I) );
A16: a in ( Args (o1,I) ) by A15,ZFMISC_1:87;
then consider y being (Element of ( Args (o1,U1) )) such that A17: ( G # y ) = a by A7,MSUALG_9:17;
reconsider y1 = y as (Element of ( Args (o2,U1) )) by A10,TARSKI:def 3;
A18: (( G # y1 ) = ( G # y ) & ( ( Den (o2,U1) ) . y ) = ( ( Den (o1,U1) ) . y )) by A1,A4,A8,A12,CKB17:1,FUNCT_1:49;
set x = ( ( Den (o1,U1) ) . y );
( ( G . s1 ) . x ) = ( ( Den (o1,I) ) . a ) by A6,A17,MSUALG_3:def 7;
then A19: b = ( ( G . s1 ) . x ) by A15,FUNCT_1:1;
( Result (o1,U1) ) = ( ( O1 * (the ResultSort of S1) ) . o1 ) by MSUALG_1:def 5
.= ( O1 . ( (the ResultSort of S1) . o1 ) ) by A14,FUNCT_1:13
.= ( O1 . s1 ) by MSUALG_1:def 2
.= ( dom ( G . s1 ) ) by FUNCT_2:def 1;
then ( ( G . s1 ) . x ) = ( ( G . s2 ) . x ) by A1,A4,A13,CKB1:def 1;
then b = ( ( Den (o2,I) ) . a ) by A6,A17,A19,A18,MSUALG_3:def 7;
hence thesis by A9,A11,A16,FUNCT_1:1;
end;
hence thesis by RELAT_1:def 3;
end;
hence thesis by OSALG_1:27;
end;
