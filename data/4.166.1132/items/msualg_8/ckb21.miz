environ
vocabularies XBOOLE_0,PBOOLE,SUBSET_1,NUMBERS,FINSEQ_1,STRUCT_0,MSUALG_1,RELAT_1,XXREAL_0,ARYTM_3,FUNCT_1,MSUALG_5,EQREL_1,TARSKI,LATTICES,XXREAL_2,REWRITE1,LATTICE3,SETFAM_1,ZFMISC_1,CARD_1,MSUALG_4,CLOSURE2,NAT_1,MARGREL1,PARTFUN1,FUNCT_4,FINSET_1,CARD_3,MSUALG_6,MSUALG_7,MSUALG_8;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,RELAT_1,RELSET_1,DOMAIN_1,NUMBERS,STRUCT_0,NAT_1,BINOP_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,FINSEQ_1,CARD_3,REWRITE1,EQREL_1,LATTICES,LATTICE3,PBOOLE,MSSUBFAM,MSUALG_1,MSUALG_4,MSUALG_5,CLOSURE2,MSUALG_6,MSUALG_7,XXREAL_0,CKB15,CKB16;
definitions TARSKI,XBOOLE_0,EQREL_1,CKB15,CKB16;
theorems XBOOLE_0,TARSKI,PBOOLE,NAT_LAT,MSUALG_4,MSUALG_5,MSUALG_7,CLOSURE2,SETFAM_1,LATTICES,LATTICE3,MSSUBFAM,ZFMISC_1,FINSEQ_1,SUBSET_1,REWRITE1,RELAT_1,MSUALG_6,FUNCT_2,NAT_1,EQREL_1,VECTSP_8,CARD_3,XBOOLE_1,PARTFUN1,CKB1,CKB3,CKB5,CKB6,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20;
schemes FINSEQ_1,PARTFUN1,CLASSES1,CKB2;
registrations SUBSET_1,RELSET_1,PARTFUN1,FINSET_1,MEMBERED,EQREL_1,PBOOLE,STRUCT_0,LATTICES,MSUALG_1,MSUALG_3,MSUALG_5,CLOSURE2,MSUALG_6,MSUALG_7,FUNCT_1,CKB4,CKB8;
constructors SETFAM_1,BINOP_1,XXREAL_0,NAT_1,MEMBERED,REALSET1,REWRITE1,MSSUBFAM,LATTICE3,MSUALG_5,CLOSURE2,MSUALG_6,MSUALG_7,RELSET_1,CKB15,CKB16;
requirements NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve I for non empty set;
reserve M for (ManySortedSet of I);
reserve j for set;
theorem
Th16: (for i being (Element of I) holds (for e being (Equivalence_Relation of ( M . i )) holds (ex E being (Equivalence_Relation of M) st (( E . i ) = e & (for j being (Element of I) holds (j <> i implies ( E . j ) = ( nabla ( M . j ) )))))))
proof
let i being (Element of I);
let e being (Equivalence_Relation of ( M . i ));
defpred C[ set ]
 means
$1 = i;
deffunc F(set) = e;
deffunc G(set) = ( nabla ( M . $1 ) );
consider E being Function such that A1: ( dom E ) = I and A2: (for j holds (j in I implies ((C[ j ] implies ( E . j ) = F(j)) & ((not C[ j ]) implies ( E . j ) = G(j))))) from PARTFUN1:sch 1;
reconsider E as (ManySortedSet of I) by A1,PARTFUN1:def 2,RELAT_1:def 18;
now
let k being set;
assume A3: k in I;
per cases ;
suppose k = i;

hence ( E . k ) is (Relation of ( M . k )) by A2;
end;
suppose k <> i;

then ( E . k ) = ( nabla ( M . k ) ) by A2,A3;
hence ( E . k ) is (Relation of ( M . k ));
end;
end;
then reconsider E as (ManySortedRelation of M) by MSUALG_4:def 1;
now
let k being set;
let R being (Relation of ( M . k ));
assume that
A4: k in I
and
A5: ( E . k ) = R;
per cases ;
suppose k = i;

hence R is (Equivalence_Relation of ( M . k )) by A2,A5;
end;
suppose k <> i;

then ( E . k ) = ( nabla ( M . k ) ) by A2,A4;
hence R is (Equivalence_Relation of ( M . k )) by A5;
end;
end;
then reconsider E as (Equivalence_Relation of M) by MSUALG_4:def 2;
take E;
thus ( E . i ) = e by A2;
let j being (Element of I);
assume j <> i;
hence thesis by A2;
end;
