environ
vocabularies NUMBERS,SUBSET_1,CQC_LANG,QC_LANG1,FINSEQ_1,XBOOLE_0,FINSET_1,FUNCT_1,ORDINAL1,RELAT_1,ARYTM_3,TARSKI,WELLORD2,WELLORD1,CARD_1,NAT_1,CQC_THE1,ORDINAL4,XBOOLEAN,CALCUL_1,CALCUL_2,ARYTM_1,INT_1,XXREAL_0,FUNCT_2,ZFMISC_1,VALUAT_1,ZF_MODEL,MARGREL1,REALSET1,MCART_1,HENMODEL;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,CALCUL_1,RELAT_1,FUNCT_1,ORDINAL1,XCMPLX_0,XXREAL_0,NAT_1,FINSEQ_1,QC_LANG1,CQC_LANG,CQC_THE1,VALUAT_1,FINSET_1,RELSET_1,FUNCT_2,CARD_1,MARGREL1,CQC_SIM1,DOMAIN_1,MCART_1,NUMBERS,FINSEQ_3,CALCUL_2,INT_1,WELLORD1,WELLORD2;
definitions TARSKI,XBOOLE_0,FUNCT_1,FINSEQ_2;
theorems TARSKI,FINSEQ_1,FINSEQ_3,FUNCT_1,VALUAT_1,XBOOLE_0,FINSEQ_2,ZFMISC_1,RELAT_1,QC_LANG3,XBOOLE_1,NAT_1,MARGREL1,FUNCT_2,RELSET_1,FINSET_1,CALCUL_1,CQC_THE1,ORDINAL2,AXIOMS,CALCUL_2,CARD_2,INT_1,ORDINAL1,WELLORD1,WELLORD2,CARD_3,MCART_1,SUBSTUT2,XREAL_1,XXREAL_0,FUNCOP_1,CARD_1;
schemes FUNCT_1,FINSEQ_1,CLASSES1;
registrations SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FINSET_1,XXREAL_0,XREAL_0,INT_1,FINSEQ_1,QC_LANG1,CQC_LANG,FINSEQ_2,CARD_1;
constructors SETFAM_1,WELLORD1,WELLORD2,DOMAIN_1,XXREAL_0,NAT_1,INT_1,FINSEQ_3,CQC_SIM1,SUBSTUT2,CALCUL_1,CALCUL_2,RELSET_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve a for set;
reserve b for set;
reserve c for set;
reserve k for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve f for (FinSequence of ( CQC-WFF ));
reserve A for non  empty  finite (Subset of ( NAT ));
theorem
Th1: (for f being (Function of n,A) holds ((((ex m st ( succ m ) = n) & ( rng f ) = A) & (for n holds (for m holds (((m in ( dom f ) & n in ( dom f )) & n < m) implies ( f . n ) in ( f . m ))))) implies ( f . ( union n ) ) = ( union ( rng f ) )))
proof
let f being (Function of n,A);
assume that
A1: (ex m st ( succ m ) = n)
and
A2: ( rng f ) = A
and
A3: (for n holds (for m holds (((m in ( dom f ) & n in ( dom f )) & n < m) implies ( f . n ) in ( f . m ))));
thus ( f . ( union n ) ) c= ( union ( rng f ) )
proof
let a;
consider m such that A4: n = ( succ m ) by A1;
( dom f ) = n by FUNCT_2:def 1;
then A5: ( f . m ) in ( rng f ) by A4,FUNCT_1:3,ORDINAL1:6;
assume a in ( f . ( union n ) );
then a in ( f . m ) by A4,ORDINAL2:2;
hence thesis by A5,TARSKI:def 4;
end;

thus ( union ( rng f ) ) c= ( f . ( union n ) )
proof
let a;
assume a in ( union ( rng f ) );
then consider b such that A6: a in b and A7: b in ( rng f ) by TARSKI:def 4;
consider c such that A8: c in ( dom f ) and A9: ( f . c ) = b by A7,FUNCT_1:def 3;
reconsider i = c as Ordinal by A8;
reconsider i as (Element of ( NAT )) by A8,ORDINAL1:10;
consider m such that A10: n = ( succ m ) by A1;
i c= m by A8,A10,ORDINAL1:22;
then (i c< m or i = m) by XBOOLE_0:def 8;
then A11: (i in m or i = m) by ORDINAL1:11;
A12: ( dom f ) = n by FUNCT_2:def 1;
then A13: m in ( dom f ) by A10,ORDINAL1:6;
A14:now
i in ( dom f ) by A11,A12,A13,ORDINAL1:10;
then ( f . i ) in ( rng f ) by FUNCT_1:3;
then reconsider i1 = ( f . i ) as (Element of ( NAT )) by A2;
( f . m ) in ( rng f ) by A10,A12,FUNCT_1:3,ORDINAL1:6;
then reconsider i2 = ( f . m ) as (Element of ( NAT )) by A2;
assume ( f . i ) in ( f . m );
then i1 c= i2 by ORDINAL1:def 2;
then a in i2 by A6,A9;
hence thesis by A10,ORDINAL2:2;
end;
(i in { k: k < m } or i = m) by A11,AXIOMS:4;
then ((ex k st (k = i & k < m)) or i = m);
hence thesis by A3,A6,A8,A9,A10,A13,A14,ORDINAL2:2;
end;

end;
