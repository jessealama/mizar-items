environ
vocabularies NUMBERS,SUBSET_1,CQC_LANG,QC_LANG1,FINSEQ_1,XBOOLE_0,FINSET_1,FUNCT_1,ORDINAL1,RELAT_1,ARYTM_3,TARSKI,WELLORD2,WELLORD1,CARD_1,NAT_1,CQC_THE1,ORDINAL4,XBOOLEAN,CALCUL_1,CALCUL_2,ARYTM_1,INT_1,XXREAL_0,FUNCT_2,ZFMISC_1,VALUAT_1,ZF_MODEL,MARGREL1,REALSET1,MCART_1,HENMODEL;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,SETFAM_1,CALCUL_1,RELAT_1,FUNCT_1,ORDINAL1,XCMPLX_0,XXREAL_0,NAT_1,FINSEQ_1,QC_LANG1,CQC_LANG,CQC_THE1,VALUAT_1,FINSET_1,RELSET_1,FUNCT_2,CARD_1,MARGREL1,CQC_SIM1,DOMAIN_1,MCART_1,NUMBERS,FINSEQ_3,CALCUL_2,INT_1,WELLORD1,WELLORD2,CKB4,CKB5,CKB6,CKB7,CKB8,CKB21,CKB22;
definitions TARSKI,XBOOLE_0,FUNCT_1,FINSEQ_2,CKB4,CKB5,CKB7,CKB21;
theorems TARSKI,FINSEQ_1,FINSEQ_3,FUNCT_1,VALUAT_1,XBOOLE_0,FINSEQ_2,ZFMISC_1,RELAT_1,QC_LANG3,XBOOLE_1,NAT_1,MARGREL1,FUNCT_2,RELSET_1,FINSET_1,CALCUL_1,CQC_THE1,ORDINAL2,AXIOMS,CALCUL_2,CARD_2,INT_1,ORDINAL1,WELLORD1,WELLORD2,CARD_3,MCART_1,SUBSTUT2,XREAL_1,XXREAL_0,FUNCOP_1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB7,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB21;
schemes FUNCT_1,FINSEQ_1,CLASSES1;
registrations SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FINSET_1,XXREAL_0,XREAL_0,INT_1,FINSEQ_1,QC_LANG1,CQC_LANG,FINSEQ_2,CARD_1,CKB20;
constructors SETFAM_1,WELLORD1,WELLORD2,DOMAIN_1,XXREAL_0,NAT_1,INT_1,FINSEQ_3,CQC_SIM1,SUBSTUT2,CALCUL_1,CALCUL_2,RELSET_1,CKB4,CKB5,CKB7,CKB21,CKB22;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve a for set;
reserve b for set;
reserve c for set;
reserve k for (Element of ( NAT ));
reserve ll for (CQC-variable_list of k);
reserve f for (FinSequence of ( CQC-WFF ));
reserve CX for  Consistent (Subset of ( CQC-WFF ));
reserve P9 for (Element of ( QC-pred_symbols ));
definition
let CX;
mode Henkin_interpretation of CX
 -> (interpretation of ( HCar ))
means :Def6: (for P being (Element of ( QC-pred_symbols )) holds (for r being (Element of ( relations_on ( HCar ) )) holds (( it . P ) = r implies (for a holds (a in r iff (ex ll being (CQC-variable_list of ( the_arity_of P )) st (a = ll & CX |- ( P ! ll ))))))));
existence
proof
defpred P[ set,set ]
 means
(ex P9 st (P9 = $1 & $2 = { ll where ll is (CQC-variable_list of ( the_arity_of P9 )): CX |- ( P9 ! ll ) }));
set A = ( QC-pred_symbols );
A1: (for a holds (a in A implies (ex b st P[ a,b ])))
proof
let a;
assume a in A;
then reconsider a as (Element of ( QC-pred_symbols ));
consider b such that A2: b = { ll where ll is (CQC-variable_list of ( the_arity_of a )): CX |- ( a ! ll ) };
take b;
take a;
thus thesis by A2;
end;
consider f being Function such that A3: (( dom f ) = A & (for a holds (a in A implies P[ a,( f . a ) ]))) from CLASSES1:sch 1(A1);
A4: (for P being (Element of ( QC-pred_symbols )) holds (for r being (Element of ( relations_on ( HCar ) )) holds (( f . P ) = r implies (for a holds (a in r iff (ex ll being (CQC-variable_list of ( the_arity_of P )) st (a = ll & CX |- ( P ! ll ))))))))
proof
let P being (Element of ( QC-pred_symbols ));
let r being (Element of ( relations_on ( HCar ) ));
assume that
A5: ( f . P ) = r;
let a;
thus (a in r implies (ex ll being (CQC-variable_list of ( the_arity_of P )) st (a = ll & CX |- ( P ! ll ))))
proof
assume A6: a in r;
(ex P9 st (P9 = P & ( f . P ) = { ll where ll is (CQC-variable_list of ( the_arity_of P9 )): CX |- ( P9 ! ll ) })) by A3;
hence thesis by A5,A6;
end;

thus ((ex ll being (CQC-variable_list of ( the_arity_of P )) st (a = ll & CX |- ( P ! ll ))) implies a in r)
proof
given ll being (CQC-variable_list of ( the_arity_of P )) such that
A7: (a = ll & CX |- ( P ! ll ));

(ex P9 st (P9 = P & ( f . P ) = { l where l is (CQC-variable_list of ( the_arity_of P9 )): CX |- ( P9 ! l ) })) by A3;
hence thesis by A5,A7;
end;

end;
A8: (for P being (Element of ( QC-pred_symbols )) holds (for r being (Element of ( relations_on ( HCar ) )) holds (( f . P ) = r implies (r = ( empty_rel ( HCar ) ) or ( the_arity_of P ) = ( the_arity_of r )))))
proof
let P being (Element of ( QC-pred_symbols ));
let r being (Element of ( relations_on ( HCar ) ));
assume that
A9: ( f . P ) = r;
consider P9 such that A10: (P9 = P & ( f . P ) = { ll where ll is (CQC-variable_list of ( the_arity_of P9 )): CX |- ( P9 ! ll ) }) by A3;
assume A11: (not r = ( empty_rel ( HCar ) ));
then r <> ( {} ) by MARGREL1:9;
then consider a such that A12: a in r by XBOOLE_0:def 1;
consider ll9 being (CQC-variable_list of ( the_arity_of P9 )) such that A13: a = ll9 and CX |- ( P9 ! ll9 ) by A9,A12,A10;
( rng ll9 ) c= ( bound_QC-variables ) by RELAT_1:def 19;
then reconsider a as (FinSequence of ( HCar )) by A13,FINSEQ_1:def 4;
( the_arity_of r ) = ( len a ) by A11,A12,MARGREL1:def 10;
hence thesis by A10,A13,CARD_1:def 7;
end;
(b in ( rng f ) implies b in ( relations_on ( HCar ) ))
proof
assume b in ( rng f );
then consider a such that A14: a in ( dom f ) and A15: b = ( f . a ) by FUNCT_1:def 3;
consider P9 such that A16: (P9 = a & ( f . a ) = { ll where ll is (CQC-variable_list of ( the_arity_of P9 )): CX |- ( P9 ! ll ) }) by A3,A14;
(c in b implies c in ( ( HCar ) * ))
proof
assume c in b;
then consider ll being (CQC-variable_list of ( the_arity_of P9 )) such that A17: c = ll and CX |- ( P9 ! ll ) by A15,A16;
( rng ll ) c= ( bound_QC-variables ) by RELAT_1:def 19;
then ll is (FinSequence of ( HCar )) by FINSEQ_1:def 4;
hence thesis by A17,FINSEQ_1:def 11;
end;
then A18: b c= ( ( HCar ) * ) by TARSKI:def 3;
(for fin,fin9 being (FinSequence of ( HCar )) holds ((fin in b & fin9 in b) implies ( len fin ) = ( len fin9 )))
proof
let fin being (FinSequence of ( HCar ));
let fin9 being (FinSequence of ( HCar ));
assume that
A19: fin in b
and
A20: fin9 in b;
(ex ll being (CQC-variable_list of ( the_arity_of P9 )) st (fin = ll & CX |- ( P9 ! ll ))) by A15,A16,A19;
then A21: ( len fin ) = ( the_arity_of P9 ) by CARD_1:def 7;
(ex ll9 being (CQC-variable_list of ( the_arity_of P9 )) st (fin9 = ll9 & CX |- ( P9 ! ll9 ))) by A15,A16,A20;
hence thesis by A21,CARD_1:def 7;
end;
hence thesis by A18,MARGREL1:def 7;
end;
then ( rng f ) c= ( relations_on ( HCar ) ) by TARSKI:def 3;
then reconsider f as (Function of A,( relations_on ( HCar ) )) by A3,FUNCT_2:2;
reconsider f as (interpretation of ( HCar )) by A8,VALUAT_1:def 5;
take f;
thus thesis by A4;
end;
end;
