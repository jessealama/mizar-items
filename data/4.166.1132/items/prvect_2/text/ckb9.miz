environ
vocabularies SEQ_1,XREAL_0,ORDINAL1,SUBSET_1,NUMBERS,FUNCT_1,COMPLEX1,ARYTM_1,SEQ_2,ORDINAL2,CARD_1,ARYTM_3,XXREAL_0,FINSEQ_1,NAT_1,RVSUM_1,SQUARE_1,RELAT_1,CARD_3,FINSEQ_2,ZFMISC_1,MCART_1,PRVECT_1,XBOOLE_0,RLVECT_1,GROUP_2,STRUCT_0,ALGSTR_0,BINOP_1,VECTSP_1,REAL_1,SUPINF_2,FUNCT_6,FINSEQOP,SETWISEO,NORMSP_1,TARSKI,PRE_TOPC,EUCLID,FUNCT_2,REAL_NS1,REWRITE1,RSSPACE3,PRVECT_2,NORMSP_0,METRIC_1,RELAT_2;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,CARD_3,XCMPLX_0,XXREAL_0,NUMBERS,XREAL_0,COMPLEX1,NAT_1,RELAT_1,FUNCT_1,RVSUM_1,STRUCT_0,ALGSTR_0,FUNCT_2,FUNCT_3,BINOP_1,REAL_1,SEQ_1,SEQ_2,RLVECT_1,VECTSP_1,SETWISEO,FINSEQ_1,FINSEQ_2,FINSEQOP,SQUARE_1,PRE_TOPC,EUCLID,PRVECT_1,NORMSP_0,NORMSP_1,RSSPACE3,LOPBAN_1,REAL_NS1,CKB4,CKB7;
definitions RLVECT_1,NORMSP_1,FINSEQ_2,EUCLID,STRUCT_0,SQUARE_1,ALGSTR_0,NORMSP_0,CKB4;
theorems BINOP_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQOP,FUNCOP_1,SETWISEO,TARSKI,CARD_3,RLVECT_1,RELAT_1,RVSUM_1,ABSVALUE,FVSUM_1,SEQ_2,PRVECT_1,NORMSP_1,SQUARE_1,EUCLID,XREAL_1,LOPBAN_1,RSSPACE3,REAL_NS1,XXREAL_0,VALUED_1,XREAL_0,NORMSP_0,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB8;
schemes FUNCT_1,BINOP_1,FUNCT_2,FINSEQ_1,PRVECT_1,CLASSES1;
registrations STRUCT_0,FINSEQ_2,FINSEQ_1,CARD_3,RLVECT_1,PRVECT_1,XREAL_0,MEMBERED,NORMSP_1,REAL_NS1,ORDINAL1,FUNCT_1,FUNCT_2,RELAT_1,XBOOLE_0,NUMBERS,VALUED_0,NORMSP_0,CARD_1,CKB5;
constructors FUNCT_3,FINSEQOP,REAL_1,SEQ_2,COMPLEX1,SQUARE_1,BINOP_2,SETWISEO,PRVECT_1,RSSPACE3,LOPBAN_1,REAL_NS1,SEQ_1,RVSUM_1,NORMSP_1,RELSET_1,CKB4,CKB7;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
definition
let F being Domain-Sequence;
let X being non  empty set;
let p being (MultOps of X,F);
func [:p :] -> (Function of [: X,( product F ) :],( product F )) means 
:Def2: (for x being (Element of X) holds (for d being (Element of ( product F )) holds (for i being (Element of ( dom F )) holds ( ( it . (x,d) ) . i ) = ( ( p . i ) . (x,( d . i )) ))));
existence
proof
defpred Q[ (Element of X),(Element of ( product F )),(Element of ( product F )) ]
 means
(for i being (Element of ( dom F )) holds ( $3 . i ) = ( ( p . i ) . ($1,( $2 . i )) ));
A1: (for x being (Element of X) holds (for d being (Element of ( product F )) holds (ex z being (Element of ( product F )) st Q[ x,d,z ])))
proof
let x being (Element of X);
let d being (Element of ( product F ));
defpred P[ set,set ]
 means
(ex i being (Element of ( dom F )) st ($1 = i & $2 = ( ( p . i ) . (x,( d . i )) )));
A2: (for w being set holds (w in ( dom F ) implies (ex z being set st P[ w,z ])))
proof
let w being set;
assume w in ( dom F );
then reconsider i = w as (Element of ( dom F ));
take ( ( p . i ) . (x,( d . i )) );
thus thesis;
end;
consider z being Function such that A3: (( dom z ) = ( dom F ) & (for w being set holds (w in ( dom F ) implies P[ w,( z . w ) ]))) from CLASSES1:sch 1(A2);
now
let w being set;
assume w in ( dom F );
then (ex i being (Element of ( dom F )) st (w = i & ( z . w ) = ( ( p . i ) . (x,( d . i )) ))) by A3;
hence ( z . w ) in ( F . w );
end;
then reconsider z9 = z as (Element of ( product F )) by A3,CARD_3:9;
take z9;
let i being (Element of ( dom F ));
(ex j being (Element of ( dom F )) st (j = i & ( z . i ) = ( ( p . j ) . (x,( d . j )) ))) by A3;
hence thesis;
end;
thus (ex P being (Function of [: X,( product F ) :],( product F )) st (for x being (Element of X) holds (for d being (Element of ( product F )) holds Q[ x,d,( P . (x,d) ) ]))) from BINOP_1:sch 3(A1);
end;
uniqueness
proof
let P being (Function of [: X,( product F ) :],( product F ));
let Q being (Function of [: X,( product F ) :],( product F ));
assume that
A4: (for x being (Element of X) holds (for f being (Element of ( product F )) holds (for i being (Element of ( dom F )) holds ( ( P . (x,f) ) . i ) = ( ( p . i ) . (x,( f . i )) ))))
and
A5: (for x being (Element of X) holds (for f being (Element of ( product F )) holds (for i being (Element of ( dom F )) holds ( ( Q . (x,f) ) . i ) = ( ( p . i ) . (x,( f . i )) ))));
now
let x being (Element of X);
let f being (Element of ( product F ));
let i being (Element of ( dom F ));
( ( P . (x,f) ) . i ) = ( ( p . i ) . (x,( f . i )) ) by A4;
hence ( ( P . (x,f) ) . i ) = ( ( Q . (x,f) ) . i ) by A5;
end;
hence thesis by CKB8:1;
end;
end;
