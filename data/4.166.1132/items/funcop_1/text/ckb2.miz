environ
vocabularies FUNCT_1,FUNCT_3,PARTFUN1,RELAT_1,ZFMISC_1,XBOOLE_0,TARSKI,SUBSET_1,BINOP_1,MCART_1,FUNCOP_1,WELLORD1,MSUALG_4;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,MCART_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_3,BINOP_1,WELLORD1;
definitions TARSKI,RELAT_1,BINOP_1,FUNCT_1,WELLORD1,PARTFUN1;
theorems ZFMISC_1,RELAT_1,RELSET_1,FUNCT_1,FUNCT_2,FUNCT_3,TARSKI,BINOP_1,MCART_1,XBOOLE_0,XBOOLE_1,GRFUNC_1,CKB1;
schemes FUNCT_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1;
constructors PARTFUN1,BINOP_1,FUNCT_3,RELSET_1,WELLORD1;
requirements SUBSET,BOOLE;
begin
reserve f for Function;
reserve g for Function;
reserve x for set;
reserve y for set;
reserve y1 for set;
reserve y2 for set;
reserve z for set;
definition
let f;
func f ~ -> Function
means
:Def1: (( dom it ) = ( dom f ) & (for x holds (x in ( dom f ) implies ((for y holds (for z holds (( f . x ) = [ y,z ] implies ( it . x ) = [ z,y ]))) & (( f . x ) = ( it . x ) or (ex y st (ex z st ( f . x ) = [ y,z ])))))));
existence
proof
defpred P[ set,set ]
 means
((for y holds (for z holds (( f . $1 ) = [ y,z ] implies $2 = [ z,y ]))) & (( f . $1 ) = $2 or (ex y st (ex z st ( f . $1 ) = [ y,z ]))));
A1:now
let x;
assume that
x in ( dom f );
now
per cases ;
suppose A2: (ex y st (ex z st ( f . x ) = [ y,z ]));

then consider y,z such that A3: ( f . x ) = [ y,z ];
take y1 = [ z,y ];
thus (for y holds (for z holds (( f . x ) = [ y,z ] implies y1 = [ z,y ])))
proof
let y9 being set,z9 being set;
assume A4: ( f . x ) = [ y9,z9 ];
then z = z9 by A3,ZFMISC_1:27;
hence thesis by A3,A4,ZFMISC_1:27;
end;

thus (( f . x ) = y1 or (ex y st (ex z st ( f . x ) = [ y,z ]))) by A2;
end;
suppose A5: (not (ex y st (ex z st ( f . x ) = [ y,z ])));

take y1 = ( f . x );
thus ((for y holds (for z holds (( f . x ) = [ y,z ] implies y1 = [ z,y ]))) & (( f . x ) = y1 or (ex y st (ex z st ( f . x ) = [ y,z ])))) by A5;
end;
end;
hence (ex y st P[ x,y ]);
end;
A6:now
let x;
let y1;
let y2;
assume that
x in ( dom f );
assume that
A7: P[ x,y1 ]
and
A8: P[ x,y2 ];
now
per cases ;
suppose (ex y st (ex z st ( f . x ) = [ y,z ]));

then consider y,z such that A9: ( f . x ) = [ y,z ];
y1 = [ z,y ] by A7,A9;
hence y1 = y2 by A8,A9;
end;
suppose (not (ex y st (ex z st ( f . x ) = [ y,z ])));

hence y1 = y2 by A7,A8;
end;
end;
hence y1 = y2;
end;
thus (ex g st (( dom g ) = ( dom f ) & (for x holds (x in ( dom f ) implies P[ x,( g . x ) ])))) from FUNCT_1:sch 2(A6,A1);
end;
uniqueness
proof
defpred P[ Function ]
 means
(for x holds (x in ( dom f ) implies ((for y holds (for z holds (( f . x ) = [ y,z ] implies ( $1 . x ) = [ z,y ]))) & (( f . x ) = ( $1 . x ) or (ex y st (ex z st ( f . x ) = [ y,z ]))))));
let g1 being Function,g2 being Function;
assume that
A10: ( dom g1 ) = ( dom f )
and
A11: P[ g1 ]
and
A12: ( dom g2 ) = ( dom f )
and
A13: P[ g2 ];
now
let x;
assume A14: x in ( dom f );
now
per cases ;
suppose (ex y st (ex z st ( f . x ) = [ y,z ]));

then consider y,z such that A15: ( f . x ) = [ y,z ];
( g1 . x ) = [ z,y ] by A11,A14,A15;
hence ( g1 . x ) = ( g2 . x ) by A13,A14,A15;
end;
suppose A16: (not (ex y st (ex z st ( f . x ) = [ y,z ])));

then ( g1 . x ) = ( f . x ) by A11,A14;
hence ( g1 . x ) = ( g2 . x ) by A13,A14,A16;
end;
end;
hence ( g1 . x ) = ( g2 . x );
end;
hence thesis by A10,A12,FUNCT_1:2;
end;
involutiveness
proof
let g being Function,f being Function;
assume that
A17: ( dom g ) = ( dom f )
and
A18: (for x holds (x in ( dom f ) implies ((for y holds (for z holds (( f . x ) = [ y,z ] implies ( g . x ) = [ z,y ]))) & (( f . x ) = ( g . x ) or (ex y st (ex z st ( f . x ) = [ y,z ]))))));
thus ( dom f ) = ( dom g ) by A17;
let x;
assume A19: x in ( dom g );
thus (for y holds (for z holds (( g . x ) = [ y,z ] implies ( f . x ) = [ z,y ])))
proof
let y;
let z;
assume that
A20: ( g . x ) = [ y,z ];
per cases ;
suppose (ex z st (ex y st ( f . x ) = [ z,y ]));

then consider y1,y2 such that A21: ( f . x ) = [ y1,y2 ];
A22: ( g . x ) = [ y2,y1 ] by A17,A18,A19,A21;
then y = y2 by A20,ZFMISC_1:27;
hence thesis by A20,A21,A22,ZFMISC_1:27;
end;
suppose (not (ex z st (ex y st ( f . x ) = [ z,y ])));

then ( f . x ) = ( g . x ) by A17,A18,A19;
hence thesis by A17,A18,A19,A20;
end;
end;

assume ( g . x ) <> ( f . x );
then consider y,z such that A23: ( f . x ) = [ y,z ] by A17,A18,A19;
take z;
take y;
thus thesis by A17,A18,A19,A23;
end;
end;
