environ
vocabularies NUMBERS,XREAL_0,ORDINAL1,PRE_TOPC,EUCLID,ARYTM_3,MCART_1,XXREAL_0,RLTOPSP1,ARYTM_1,REAL_1,CARD_1,RELAT_1,SUBSET_1,TOPREAL1,FUNCT_1,BORSUK_1,ORDINAL2,TOPS_2,JORDAN3,JGRAPH_6,PSCOMP_1,JORDAN17,JGRAPH_2,STRUCT_0,FUNCT_2,VALUED_1,TARSKI,XBOOLE_0;
notations XBOOLE_0,ORDINAL1,NUMBERS,XCMPLX_0,TARSKI,TOPS_2,RLVECT_1,RLTOPSP1,EUCLID,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,SUBSET_1,STRUCT_0,TOPMETR,PRE_TOPC,JORDAN6,JORDAN17,JGRAPH_2,XREAL_0,TOPREAL1,PSCOMP_1,REAL_1,JGRAPH_6,XXREAL_0;
definitions TARSKI,STRUCT_0,RLTOPSP1;
theorems XBOOLE_0,FUNCT_1,FUNCT_2,TOPS_2,PRE_TOPC,EUCLID,JGRAPH_2,BORSUK_1,TOPREAL1,JORDAN7,JORDAN17,XREAL_0,XCMPLX_1,JGRAPH_6,JORDAN1K,XREAL_1,XXREAL_0,XXREAL_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48;
registrations XBOOLE_0,RELSET_1,FUNCT_2,XREAL_0,MEMBERED,STRUCT_0,BORSUK_1,EUCLID,JGRAPH_2;
constructors REAL_1,RCOMP_1,TOPS_2,TOPMETR,TOPREAL1,SPPOL_2,PSCOMP_1,JORDAN6,JGRAPH_2,JORDAN17,JGRAPH_6,BINOP_2;
requirements REAL,BOOLE,SUBSET,NUMERALS,ARITHM;
begin
theorem
Th49: (for A,B,C,D being  real number holds (for h,g being (Function of ( TOP-REAL 2 ),( TOP-REAL 2 )) holds ((((A > ( 0 ) & C > ( 0 )) & h = ( AffineMap (A,B,C,D) )) & g = ( AffineMap (( 1 / A ),( - ( B / A ) ),( 1 / C ),( - ( D / C ) )) )) implies (g = ( h " ) & h = ( g " )))))
proof
let A being  real number;
let B being  real number;
let C being  real number;
let D being  real number;
let h being (Function of ( TOP-REAL 2 ),( TOP-REAL 2 ));
let g being (Function of ( TOP-REAL 2 ),( TOP-REAL 2 ));
assume that
A1: A > ( 0 )
and
A2: C > ( 0 )
and
A3: h = ( AffineMap (A,B,C,D) )
and
A4: g = ( AffineMap (( 1 / A ),( - ( B / A ) ),( 1 / C ),( - ( D / C ) )) );
A5: h is  one-to-one by A1,A2,A3,JGRAPH_2:44;
A6: (for x,y being set holds ((x in ( dom h ) & y in ( dom g )) implies (( h . x ) = y iff ( g . y ) = x)))
proof
let x being set;
let y being set;
assume that
A7: x in ( dom h )
and
A8: y in ( dom g );
reconsider py = y as (Point of ( TOP-REAL 2 )) by A8;
reconsider px = x as (Point of ( TOP-REAL 2 )) by A7;
A9: (( h . x ) = y implies ( g . y ) = x)
proof
assume A10: ( h . x ) = y;
A11: ( h . px ) = |[ ( ( A * ( px `1 ) ) + B ),( ( C * ( px `2 ) ) + D ) ]| by A3,JGRAPH_2:def 2;
then ( py `1 ) = ( ( A * ( px `1 ) ) + B ) by A10,EUCLID:52;
then A12: ( ( ( 1 / A ) * ( py `1 ) ) + ( - ( B / A ) ) ) = ( ( ( ( ( 1 / A ) * A ) * ( px `1 ) ) + ( ( 1 / A ) * B ) ) + ( - ( B / A ) ) )
.= ( ( ( 1 * ( px `1 ) ) + ( ( 1 / A ) * B ) ) + ( - ( B / A ) ) ) by A1,XCMPLX_1:106
.= ( ( ( px `1 ) + ( B / A ) ) + ( - ( B / A ) ) ) by XCMPLX_1:99
.= ( px `1 );
( py `2 ) = ( ( C * ( px `2 ) ) + D ) by A10,A11,EUCLID:52;
then A13: ( ( ( 1 / C ) * ( py `2 ) ) + ( - ( D / C ) ) ) = ( ( ( ( ( 1 / C ) * C ) * ( px `2 ) ) + ( ( 1 / C ) * D ) ) + ( - ( D / C ) ) )
.= ( ( ( 1 * ( px `2 ) ) + ( ( 1 / C ) * D ) ) + ( - ( D / C ) ) ) by A2,XCMPLX_1:106
.= ( ( ( px `2 ) + ( D / C ) ) + ( - ( D / C ) ) ) by XCMPLX_1:99
.= ( px `2 );
( g . py ) = |[ ( ( ( 1 / A ) * ( py `1 ) ) + ( - ( B / A ) ) ),( ( ( 1 / C ) * ( py `2 ) ) + ( - ( D / C ) ) ) ]| by A4,JGRAPH_2:def 2;
hence thesis by A12,A13,EUCLID:53;
end;
(( g . y ) = x implies ( h . x ) = y)
proof
assume A14: ( g . y ) = x;
A15: ( g . py ) = |[ ( ( ( 1 / A ) * ( py `1 ) ) + ( - ( B / A ) ) ),( ( ( 1 / C ) * ( py `2 ) ) + ( - ( D / C ) ) ) ]| by A4,JGRAPH_2:def 2;
then ( px `1 ) = ( ( ( 1 / A ) * ( py `1 ) ) + ( - ( B / A ) ) ) by A14,EUCLID:52;
then A16: ( ( A * ( px `1 ) ) + B ) = ( ( ( ( A * ( 1 / A ) ) * ( py `1 ) ) + ( A * ( - ( B / A ) ) ) ) + B )
.= ( ( ( 1 * ( py `1 ) ) + ( A * ( - ( B / A ) ) ) ) + B ) by A1,XCMPLX_1:106
.= ( ( ( py `1 ) + ( A * ( ( - B ) / A ) ) ) + B ) by XCMPLX_1:187
.= ( ( ( py `1 ) + ( - B ) ) + B ) by A1,XCMPLX_1:87
.= ( py `1 );
( px `2 ) = ( ( ( 1 / C ) * ( py `2 ) ) + ( - ( D / C ) ) ) by A14,A15,EUCLID:52;
then A17: ( ( C * ( px `2 ) ) + D ) = ( ( ( ( C * ( 1 / C ) ) * ( py `2 ) ) + ( C * ( - ( D / C ) ) ) ) + D )
.= ( ( ( 1 * ( py `2 ) ) + ( C * ( - ( D / C ) ) ) ) + D ) by A2,XCMPLX_1:106
.= ( ( ( py `2 ) + ( C * ( ( - D ) / C ) ) ) + D ) by XCMPLX_1:187
.= ( ( ( py `2 ) + ( - D ) ) + D ) by A2,XCMPLX_1:87
.= ( py `2 );
( h . px ) = |[ ( ( A * ( px `1 ) ) + B ),( ( C * ( px `2 ) ) + D ) ]| by A3,JGRAPH_2:def 2;
hence thesis by A16,A17,EUCLID:53;
end;
hence thesis by A9;
end;
A18: ( dom g ) = (the carrier of ( TOP-REAL 2 )) by FUNCT_2:def 1;
reconsider RD = D as Real by XREAL_0:def 1;
reconsider RC = C as Real by XREAL_0:def 1;
reconsider RB = B as Real by XREAL_0:def 1;
reconsider RA = A as Real by XREAL_0:def 1;
A19: g = ( AffineMap (( 1 / RA ),( - ( RB / RA ) ),( 1 / RC ),( - ( RD / RC ) )) ) by A4;
h = ( AffineMap (RA,RB,RC,RD) ) by A3;
then h is  onto by A1,A2,JORDAN1K:36;
then A20: ( rng h ) = (the carrier of ( TOP-REAL 2 )) by FUNCT_2:def 3;
A21: ( 1 / C ) > ( 0 ) by A2,XREAL_1:139;
( 1 / A ) > ( 0 ) by A1,XREAL_1:139;
then g is  onto by A21,A19,JORDAN1K:36;
then A22: ( rng g ) = (the carrier of ( TOP-REAL 2 )) by FUNCT_2:def 3;
( dom h ) = (the carrier of ( TOP-REAL 2 )) by FUNCT_2:def 1;
then g = ( h " ) by A5,A18,A20,A22,A6,FUNCT_1:38;
hence thesis by A5,FUNCT_1:43;
end;
