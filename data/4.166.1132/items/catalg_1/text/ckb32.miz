environ
vocabularies FUNCT_1,PBOOLE,RELAT_1,FUNCOP_1,CARD_3,TARSKI,FUNCT_6,MEMBER_1,XBOOLE_0,FINSEQ_1,MSUALG_1,STRUCT_0,PROB_2,MSAFREE,ZFMISC_1,CARD_1,FINSEQ_2,MCART_1,SUBSET_1,ORDINAL4,MSUALG_6,CAT_5,INSTALG1,NUMBERS,MARGREL1,CAT_1,PUA2MSS1,GRAPH_1,PARTFUN1,MSUALG_3,CATALG_1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,MCART_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,MSAFREE1,FINSEQ_1,FINSEQ_2,CARD_3,FINSEQ_4,FUNCT_6,STRUCT_0,PBOOLE,MSUALG_1,MSUALG_3,MSAFREE,PUA2MSS1,MSUALG_6,INSTALG1,GRAPH_1,CAT_1,XXREAL_0,CKB1,CKB5,CKB10,CKB13,CKB14,CKB17,CKB18,CKB23,CKB24,CKB26;
definitions TARSKI,STRUCT_0,MSUALG_1,MSUALG_3,PUA2MSS1,MSUALG_6,INSTALG1,PROB_2,MSAFREE1,XBOOLE_0,FUNCOP_1,PBOOLE,CKB1,CKB5,CKB10,CKB14,CKB18,CKB24,CKB26;
theorems TARSKI,ZFMISC_1,RELAT_1,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FUNCT_3,MCART_1,ENUMSET1,FUNCT_6,FINSEQ_4,MONOID_1,CARD_3,PBOOLE,PRALG_2,MSUALG_3,INSTALG1,CAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,FUNCOP_1,PARTFUN1,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB10,CKB14,CKB18,CKB19,CKB24,CKB25,CKB26,CKB30,CKB31;
schemes FUNCT_1,CLASSES1,PBOOLE,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FUNCOP_1,XREAL_0,FINSEQ_1,FINSEQ_2,STRUCT_0,MSUALG_1,RELSET_1,MSAFREE,INSTALG1,MSAFREE1,MSSUBFAM,PBOOLE,CARD_1,CKB6,CKB7,CKB8,CKB9,CKB11,CKB12,CKB15,CKB16,CKB20,CKB21,CKB22,CKB27,CKB28,CKB29;
constructors ENUMSET1,XXREAL_0,NAT_1,FINSEQ_4,MSSUBFAM,CAT_1,MSUALG_3,MSATERM,MSAFREE1,PUA2MSS1,MSUALG_6,INSTALG1,XREAL_0,RELSET_1,CKB1,CKB5,CKB10,CKB14,CKB18,CKB23,CKB24,CKB26;
requirements NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
(for S being  delta-concrete ManySortedSign holds (for i being set holds (for p1,p2 being FinSequence holds ((( len p2 ) = ( len p1 ) & ( rng p2 ) c= ( underlay S )) implies (([ i,p1 ] in (the carrier of S) implies [ i,p2 ] in (the carrier of S)) & ([ i,p1 ] in (the carrier' of S) implies [ i,p2 ] in (the carrier' of S)))))))
proof
let S being  delta-concrete ManySortedSign;
let i being set;
let p1 being FinSequence;
let p2 being FinSequence;
assume that
A1: (( len p2 ) = ( len p1 ) & ( rng p2 ) c= ( underlay S ));
consider f being (Function of ( NAT ),( NAT )) such that A2: (for s being set holds (s in (the carrier of S) implies (ex i being (Element of ( NAT )) st (ex p being FinSequence st ((s = [ i,p ] & ( len p ) = ( f . i )) & [: { i },( ( f . i ) -tuples_on ( underlay S ) ) :] c= (the carrier of S)))))) and A3: (for o being set holds (o in (the carrier' of S) implies (ex i being (Element of ( NAT )) st (ex p being FinSequence st ((o = [ i,p ] & ( len p ) = ( f . i )) & [: { i },( ( f . i ) -tuples_on ( underlay S ) ) :] c= (the carrier' of S)))))) by CKB26:def 1;
hereby
assume [ i,p1 ] in (the carrier of S);
then consider j1 being (Element of ( NAT )),q1 being FinSequence such that A4: [ i,p1 ] = [ j1,q1 ] and A5: ( len q1 ) = ( f . j1 ) and A6: [: { j1 },( ( f . j1 ) -tuples_on ( underlay S ) ) :] c= (the carrier of S) by A2;
p1 = q1 by A4,ZFMISC_1:27;
then A7: p2 in ( ( f . j1 ) -tuples_on ( underlay S ) ) by A1,A5,FINSEQ_2:132;
i = j1 by A4,ZFMISC_1:27;
then [ i,p2 ] in [: { j1 },( ( f . j1 ) -tuples_on ( underlay S ) ) :] by A7,ZFMISC_1:105;
hence [ i,p2 ] in (the carrier of S) by A6;
end;
assume [ i,p1 ] in (the carrier' of S);
then consider j1 being (Element of ( NAT )),q1 being FinSequence such that A8: [ i,p1 ] = [ j1,q1 ] and A9: ( len q1 ) = ( f . j1 ) and A10: [: { j1 },( ( f . j1 ) -tuples_on ( underlay S ) ) :] c= (the carrier' of S) by A3;
p1 = q1 by A8,ZFMISC_1:27;
then A11: p2 in ( ( f . j1 ) -tuples_on ( underlay S ) ) by A1,A9,FINSEQ_2:132;
i = j1 by A8,ZFMISC_1:27;
then [ i,p2 ] in [: { j1 },( ( f . j1 ) -tuples_on ( underlay S ) ) :] by A11,ZFMISC_1:105;
hence thesis by A10;
end;
