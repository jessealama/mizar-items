environ
vocabularies NUMBERS,SUBSET_1,CQC_LANG,QC_LANG1,XBOOLE_0,VALUAT_1,SUBSTUT1,FINSEQ_1,RELAT_1,ARYTM_3,XXREAL_0,CARD_1,NAT_1,TARSKI,FUNCT_1,ORDINAL4,FINSEQ_2,ZFMISC_1,CQC_THE1,MCART_1,XBOOLEAN,BVFUNC_2,ZF_MODEL,SUBSTUT2,SUBLEMMA,FUNCOP_1,FUNCT_4,FINSET_1,ORDINAL1,CALCUL_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,FINSEQ_1,RELAT_1,FUNCT_1,QC_LANG1,CARD_1,NUMBERS,ORDINAL1,FINSEQ_2,XXREAL_0,NAT_1,FUNCOP_1,CQC_LANG,FINSET_1,VALUAT_1,CQC_THE1,RELSET_1,PARTFUN1,FUNCT_2,DOMAIN_1,MCART_1,SUBSTUT1,SUBSTUT2,SUBLEMMA;
definitions TARSKI,XBOOLE_0,FINSEQ_2,FUNCOP_1;
theorems TARSKI,FUNCT_1,MCART_1,XBOOLE_0,XBOOLE_1,QC_LANG1,ZFMISC_1,RELAT_1,QC_LANG3,QC_LANG2,SUBSTUT1,FUNCT_4,SUBLEMMA,NAT_1,FINSEQ_1,FINSEQ_3,VALUAT_1,FINSEQ_2,SUBSTUT2,FUNCOP_1,CQC_THE1,FINSET_1,CARD_2,CQC_SIM1,CARD_1,CARD_4,GRFUNC_1,XREAL_1,ORDINAL1,XXREAL_0;
schemes XBOOLE_0,NAT_1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,QC_LANG1,CQC_LANG,CARD_1,FINSEQ_2,RELAT_1;
constructors PARTFUN1,WELLORD2,DOMAIN_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_2,CQC_THE1,SUBSTUT2,RELSET_1;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve a for set;
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve f for (FinSequence of ( CQC-WFF ));
reserve g for (FinSequence of ( CQC-WFF ));
reserve h for (FinSequence of ( CQC-WFF ));
definition
let D being non  empty set;
let f being (FinSequence of D);
func Ant f -> (FinSequence of D) means 
:Def1: (for i holds (( len f ) = ( i + 1 ) implies it = ( f | ( Seg i ) ))) if ( len f ) > ( 0 ) otherwise it = ( {} );
existence
proof
A1: (( len f ) > ( 0 ) implies (ex g being (FinSequence of D) st (for i holds (( len f ) = ( i + 1 ) implies g = ( f | ( Seg i ) )))))
proof
assume ( len f ) > ( 0 );
then consider j being Nat such that A2: ( len f ) = ( j + 1 ) by NAT_1:6;
reconsider j as (Element of ( NAT )) by ORDINAL1:def 12;
take g = ( f | ( Seg j ) );
reconsider g as FinSequence by FINSEQ_1:15;
now
A3: ( rng g ) c= ( rng f ) by RELAT_1:70;
let a;
assume a in ( rng g );
then a in ( rng f ) by A3;
hence a in D;
end;
then ( rng g ) c= D by TARSKI:def 3;
then reconsider g as (FinSequence of D) by FINSEQ_1:def 4;
(for i holds (( len f ) = ( i + 1 ) implies g = ( f | ( Seg i ) ))) by A2;
hence thesis;
end;
( <*> D ) = ( {} );
hence thesis by A1;
end;
uniqueness
proof
let g being (FinSequence of D);
let h being (FinSequence of D);
(((( len f ) > ( 0 ) & (for i holds (( len f ) = ( i + 1 ) implies g = ( f | ( Seg i ) )))) & (for i holds (( len f ) = ( i + 1 ) implies h = ( f | ( Seg i ) )))) implies g = h)
proof
assume that
A4: ( len f ) > ( 0 )
and
A5: (for i holds (( len f ) = ( i + 1 ) implies g = ( f | ( Seg i ) )))
and
A6: (for i holds (( len f ) = ( i + 1 ) implies h = ( f | ( Seg i ) )));
consider j being Nat such that A7: ( len f ) = ( j + 1 ) by A4,NAT_1:6;
reconsider j as (Element of ( NAT )) by ORDINAL1:def 12;
g = ( f | ( Seg j ) ) by A5,A7;
hence thesis by A6,A7;
end;
hence thesis;
end;
consistency;
end;
