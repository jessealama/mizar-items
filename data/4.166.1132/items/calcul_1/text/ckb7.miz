environ
vocabularies NUMBERS,SUBSET_1,CQC_LANG,QC_LANG1,XBOOLE_0,VALUAT_1,SUBSTUT1,FINSEQ_1,RELAT_1,ARYTM_3,XXREAL_0,CARD_1,NAT_1,TARSKI,FUNCT_1,ORDINAL4,FINSEQ_2,ZFMISC_1,CQC_THE1,MCART_1,XBOOLEAN,BVFUNC_2,ZF_MODEL,SUBSTUT2,SUBLEMMA,FUNCOP_1,FUNCT_4,FINSET_1,ORDINAL1,CALCUL_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,FINSEQ_1,RELAT_1,FUNCT_1,QC_LANG1,CARD_1,NUMBERS,ORDINAL1,FINSEQ_2,XXREAL_0,NAT_1,FUNCOP_1,CQC_LANG,FINSET_1,VALUAT_1,CQC_THE1,RELSET_1,PARTFUN1,FUNCT_2,DOMAIN_1,MCART_1,SUBSTUT1,SUBSTUT2,SUBLEMMA,CKB1,CKB2,CKB3,CKB4;
definitions TARSKI,XBOOLE_0,FINSEQ_2,FUNCOP_1,CKB1,CKB2,CKB3,CKB4;
theorems TARSKI,FUNCT_1,MCART_1,XBOOLE_0,XBOOLE_1,QC_LANG1,ZFMISC_1,RELAT_1,QC_LANG3,QC_LANG2,SUBSTUT1,FUNCT_4,SUBLEMMA,NAT_1,FINSEQ_1,FINSEQ_3,VALUAT_1,FINSEQ_2,SUBSTUT2,FUNCOP_1,CQC_THE1,FINSET_1,CARD_2,CQC_SIM1,CARD_1,CARD_4,GRFUNC_1,XREAL_1,ORDINAL1,XXREAL_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6;
schemes XBOOLE_0,NAT_1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,FUNCT_1,ORDINAL1,RELSET_1,FUNCOP_1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_1,QC_LANG1,CQC_LANG,CARD_1,FINSEQ_2,RELAT_1;
constructors PARTFUN1,WELLORD2,DOMAIN_1,XXREAL_0,XREAL_0,NAT_1,FINSEQ_2,CQC_THE1,SUBSTUT2,RELSET_1,CKB1,CKB2,CKB3,CKB4;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve j for (Element of ( NAT ));
reserve f for (FinSequence of ( CQC-WFF ));
theorem
Th3: (( len f ) > ( 0 ) implies (f = ( ( Ant f ) ^ <* ( Suc f ) *> ) & ( rng f ) = ( ( rng ( Ant f ) ) \/ { ( Suc f ) } )))
proof
assume A1: ( len f ) > ( 0 );
then A2: ( len f ) = ( ( len ( Ant f ) ) + 1 ) by CKB6:1;
A3: ( dom f ) = ( Seg ( len f ) ) by FINSEQ_1:def 3;
A4:now
let j being Nat;
assume that
A5: j in ( dom f );
A6: 1 <= j by A3,A5,FINSEQ_1:1;
A7:now
assume j <= ( len ( Ant f ) );
then A8: j in ( dom ( Ant f ) ) by A6,FINSEQ_3:25;
( Ant f ) = ( f | ( Seg ( len ( Ant f ) ) ) ) by A2,CKB1:def 1;
then ( Ant f ) = ( f | ( dom ( Ant f ) ) ) by FINSEQ_1:def 3;
then ( f . j ) = ( ( Ant f ) . j ) by A8,FUNCT_1:49;
hence ( f . j ) = ( ( ( Ant f ) ^ <* ( Suc f ) *> ) . j ) by A8,FINSEQ_1:def 7;
end;
A9:now
1 in ( Seg 1 ) by FINSEQ_1:1;
then A10: 1 in ( dom <* ( Suc f ) *> ) by FINSEQ_1:38;
assume A11: j = ( ( len ( Ant f ) ) + 1 );
then j = ( len f ) by A1,CKB6:1;
then ( f . j ) = ( Suc f ) by A1,CKB2:def 1;
then ( f . j ) = ( <* ( Suc f ) *> . 1 ) by FINSEQ_1:40;
hence ( f . j ) = ( ( ( Ant f ) ^ <* ( Suc f ) *> ) . j ) by A11,A10,FINSEQ_1:def 7;
end;
j <= ( ( len ( Ant f ) ) + 1 ) by A2,A3,A5,FINSEQ_1:1;
hence ( f . j ) = ( ( ( Ant f ) ^ <* ( Suc f ) *> ) . j ) by A7,A9,NAT_1:8;
end;
( len f ) = ( ( len ( Ant f ) ) + ( len <* ( Suc f ) *> ) ) by A2,FINSEQ_1:39;
then A12: ( len f ) = ( len ( ( Ant f ) ^ <* ( Suc f ) *> ) ) by FINSEQ_1:22;
then f = ( ( Ant f ) ^ <* ( Suc f ) *> ) by A4,FINSEQ_2:9;
then ( rng f ) = ( ( rng ( Ant f ) ) \/ ( rng <* ( Suc f ) *> ) ) by FINSEQ_1:31;
hence thesis by A12,A4,FINSEQ_1:38,FINSEQ_2:9;
end;
