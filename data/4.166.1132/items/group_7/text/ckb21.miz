environ
vocabularies FUNCT_1,PBOOLE,RELAT_1,XBOOLE_0,ALGSTR_0,PRALG_1,FUNCOP_1,SUBSET_1,RLVECT_2,STRUCT_0,CARD_3,TARSKI,BINOP_1,ZFMISC_1,MONOID_0,GROUP_1,SEMI_AF1,GROUP_2,FINSET_1,FUNCT_4,REALSET1,FINSEQ_1,NAT_1,XXREAL_0,NUMBERS,GROUP_6,FUNCT_2,WELLORD1,GROUP_7,PARTFUN1;
notations TARSKI,XBOOLE_0,ENUMSET1,ZFMISC_1,SUBSET_1,RELAT_1,FUNCT_1,NUMBERS,NAT_1,FINSEQ_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_4,FINSET_1,BINOP_1,REALSET1,XXREAL_0,PBOOLE,FUNCOP_1,STRUCT_0,ALGSTR_0,MONOID_0,GROUP_1,GROUP_2,GROUP_6,CARD_3,PRALG_1,CKB1,CKB5,CKB6,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
definitions STRUCT_0,GROUP_1,TARSKI,GROUP_2,GROUP_6,FINSEQ_1,XBOOLE_0,PRALG_1,FUNCT_1,PBOOLE,BINOP_1,REALSET1,ALGSTR_0,CKB1,CKB8,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
theorems PRALG_1,FUNCT_1,CARD_3,FUNCT_2,BINOP_1,TARSKI,ZFMISC_1,GROUP_1,GROUP_2,GROUP_6,FUNCT_4,FINSEQ_1,FINSEQ_3,ENUMSET1,RELSET_1,XBOOLE_0,XBOOLE_1,RELAT_1,FUNCOP_1,MONOID_0,ORDINAL1,PARTFUN1,CKB1,CKB8,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes BINOP_1,FUNCT_1,PBOOLE,FUNCT_2,XBOOLE_0;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,FINSET_1,XREAL_0,FINSEQ_1,REALSET1,STRUCT_0,GROUP_1,GROUP_2,MONOID_0,ORDINAL1,CARD_3,PRE_CIRC,FUNCOP_1,RELSET_1,CKB2,CKB3,CKB4,CKB7,CKB9,CKB17,CKB18,CKB19,CKB20;
constructors BINOP_1,XXREAL_0,REALSET1,GROUP_6,MONOID_0,PRALG_1,PRALG_2,RELSET_1,FUNCT_4,CKB1,CKB6,CKB8,CKB11,CKB12,CKB13;
requirements NUMERALS,BOOLE,SUBSET;
begin
reserve i for set;
reserve I for set;
reserve f for Function;
reserve g for Function;
reserve h for Function;
Lm1:now
let I being non  empty set;
let i being (Element of I);
let F being  multMagma-yielding (ManySortedSet of I);
let f being (Element of ( product ( Carrier F ) ));
A1: ( dom ( Carrier F ) ) = I by PARTFUN1:def 2;
(ex R being 1-sorted st (R = ( F . i ) & ( ( Carrier F ) . i ) = (the carrier of R))) by PRALG_1:def 13;
hence ( f . i ) in (the carrier of ( F . i )) by A1,CARD_3:9;
end;
theorem
(for F being (multMagma-Family of I) holds (for G being non  empty multMagma holds (((i in I & G = ( F . i )) & ( product F ) is  Group-like) implies G is  Group-like)))
proof
let F being (multMagma-Family of I);
let G being non  empty multMagma;
assume that
A1: i in I
and
A2: G = ( F . i );
set GP = ( product F );
given e being (Element of GP) such that
A3: (for h being (Element of GP) holds ((( h * e ) = h & ( e * h ) = h) & (ex g being (Element of GP) st (( h * g ) = e & ( g * h ) = e))));

reconsider f = e as (Element of ( product ( Carrier F ) )) by CKB8:def 1;
reconsider ei = ( f . i ) as (Element of G) by A1,A2,Lm1;
take ei;
let h being (Element of G);
defpred P[ set,set ]
 means
(($1 = i implies $2 = h) & ($1 <> i implies (ex H being non  empty multMagma st (ex a being (Element of H) st (H = ( F . $1 ) & $2 = a)))));
A4: (for j being set holds (j in I implies (ex k being set st P[ j,k ])))
proof
let j being set;
assume that
A5: j in I;
per cases ;
suppose j = i;

hence thesis;
end;
suppose A6: j <> i;

j in ( dom F ) by A5,PARTFUN1:def 2;
then ( F . j ) in ( rng F ) by FUNCT_1:def 3;
then reconsider Fj = ( F . j ) as non  empty multMagma by CKB1:def 1;
set a = the (Element of Fj);
take a;
thus (j = i implies a = h) by A6;
thus thesis;
end;
end;
consider g being (ManySortedSet of I) such that A7: (for j being set holds (j in I implies P[ j,( g . j ) ])) from PBOOLE:sch 3(A4);
A8: ( dom g ) = I by PARTFUN1:def 2;
A9:now
let j being set;
assume A10: j in ( dom g );
then A11: (ex R being 1-sorted st (R = ( F . j ) & ( ( Carrier F ) . j ) = (the carrier of R))) by A8,PRALG_1:def 13;
per cases ;
suppose A12: i = j;

then ( g . j ) = h by A7,A8,A10;
hence ( g . j ) in ( ( Carrier F ) . j ) by A2,A11,A12;
end;
suppose j <> i;

then (ex H being non  empty multMagma st (ex a being (Element of H) st (H = ( F . j ) & ( g . j ) = a))) by A7,A8,A10;
hence ( g . j ) in ( ( Carrier F ) . j ) by A11;
end;
end;
( dom ( Carrier F ) ) = I by PARTFUN1:def 2;
then reconsider g as (Element of ( product ( Carrier F ) )) by A8,A9,CARD_3:9;
A13: ( g . i ) = h by A1,A7;
reconsider g1 = g as (Element of GP) by CKB8:def 1;
A14: ( e * g1 ) = g1 by A3;
( g1 * e ) = g1 by A3;
hence (( h * ei ) = h & ( ei * h ) = h) by A1,A2,A13,A14,CKB10:1;
consider gg being (Element of GP) such that A15: ( g1 * gg ) = e and A16: ( gg * g1 ) = e by A3;
reconsider r = gg as (Element of ( product ( Carrier F ) )) by CKB8:def 1;
reconsider r1 = ( r . i ) as (Element of G) by A1,A2,Lm1;
take r1;
thus thesis by A1,A2,A13,A15,A16,CKB10:1;
end;
