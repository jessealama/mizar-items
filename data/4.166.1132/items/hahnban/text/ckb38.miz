environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,PARTFUN1,FUNCT_1,TARSKI,RELAT_1,SUPINF_1,XXREAL_0,ORDINAL1,ARYTM_3,ORDINAL2,XXREAL_2,RLVECT_1,RLSUB_1,STRUCT_0,SUPINF_2,RLSUB_2,FINSEQ_4,MCART_1,RLVECT_3,REAL_1,CARD_1,MSSUBFAM,UNIALG_1,COMPLEX1,FUNCOP_1,ARYTM_1,ALGSTR_0,XREAL_0,REALSET1,ZFMISC_1,NORMSP_1,HAHNBAN,NORMSP_0;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,STRUCT_0,ALGSTR_0,REAL_1,RELAT_1,REALSET1,FUNCT_1,FUNCT_2,RLVECT_1,RLSUB_1,RLSUB_2,NORMSP_0,NORMSP_1,SUPINF_1,PARTFUN1,FUNCOP_1,RLVECT_3,DOMAIN_1,XXREAL_2,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB33,CKB34;
definitions TARSKI,RLSUB_1,RLSUB_2,RLVECT_1,ORDINAL1,XBOOLE_0,STRUCT_0,ALGSTR_0,XXREAL_2,SUPINF_1,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25;
theorems PARTFUN1,RLSUB_1,FUNCT_2,ZFMISC_1,FUNCOP_1,TREES_2,TARSKI,FUNCT_1,GRFUNC_1,RLVECT_1,RLSUB_2,RLVECT_4,MCART_1,RLVECT_3,ABSVALUE,NORMSP_1,RELAT_1,RELSET_1,XBOOLE_0,XBOOLE_1,XCMPLX_0,XCMPLX_1,XREAL_1,XXREAL_0,NUMBERS,STRUCT_0,ALGSTR_0,XXREAL_2,NORMSP_0,SETFAM_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB35,CKB36,CKB37;
schemes ORDERS_1,DOMAIN_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,RELSET_1,PARTFUN1,NUMBERS,XXREAL_0,XREAL_0,MEMBERED,STRUCT_0,RLVECT_1,RLSUB_1,ALGSTR_0,FUNCT_2,FUNCT_1,RELAT_1,DOMAIN_1,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32;
constructors BINOP_1,REAL_1,COMPLEX1,SUPINF_1,REALSET1,RFUNCT_3,RLSUB_2,RLVECT_2,RLVECT_3,NORMSP_1,XXREAL_2,RELSET_1,XXREAL_1,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve V for RealLinearSpace;
theorem
Th34: (for X being (Subspace of V) holds (for fi being (linear-Functional of X) holds (for v being (VECTOR of V) holds (for y being (VECTOR of ( X + ( Lin { v } ) )) holds ((v = y & (not v in X)) implies (for r being Real holds (ex psi being (linear-Functional of ( X + ( Lin { v } ) )) st (( psi | (the carrier of X) ) = fi & ( psi . y ) = r))))))))
proof
let X being (Subspace of V);
let fi being (linear-Functional of X);
let v being (VECTOR of V);
let y being (VECTOR of ( X + ( Lin { v } ) ));
assume that
A1: v = y
and
A2: (not v in X);
reconsider W1 = X as (Subspace of ( X + ( Lin { v } ) )) by RLSUB_2:7;
let r being Real;
defpred P[ (VECTOR of ( X + ( Lin { v } ) )),Real ]
 means
(for x being (VECTOR of X) holds (for s being Real holds ((( ( $1 |-- (W1,( Lin { y } )) ) `1 ) = x & ( ( $1 |-- (W1,( Lin { y } )) ) `2 ) = ( s * v )) implies $2 = ( ( fi . x ) + ( s * r ) ))));
A3:now
let e being (Element of ( X + ( Lin { v } ) ));
consider x being (VECTOR of X),s being Real such that A4: ( e |-- (W1,( Lin { y } )) ) = [ x,( s * v ) ] by A1,A2,CKB15:1;
take u = ( ( fi . x ) + ( s * r ) );
thus P[ e,u ]
proof
let x9 being (VECTOR of X);
let t being Real;
assume that
A5: ( ( e |-- (W1,( Lin { y } )) ) `1 ) = x9
and
A6: ( ( e |-- (W1,( Lin { y } )) ) `2 ) = ( t * v );
v <> ( 0. V ) by A2,RLSUB_1:17;
then t = s by A4,A6,MCART_1:7,RLVECT_1:37;
hence thesis by A4,A5,MCART_1:7;
end;

end;
consider f being (Function of (the carrier of ( X + ( Lin { v } ) )),( REAL )) such that A7: (for e being (VECTOR of ( X + ( Lin { v } ) )) holds P[ e,( f . e ) ]) from FUNCT_2:sch 3(A3);
A8:now
let a being set;
assume a in ( dom fi );
then reconsider x = a as (VECTOR of X) by FUNCT_2:def 1;
(the carrier of X) c= (the carrier of ( X + ( Lin { v } ) )) by CKB1:1;
then reconsider v1 = x as (VECTOR of ( X + ( Lin { v } ) )) by TARSKI:def 3;
v1 in X by STRUCT_0:def 5;
then ( v1 |-- (W1,( Lin { y } )) ) = [ v1,( 0. V ) ] by A1,A2,CKB13:1
.= [ v1,( ( 0 ) * v ) ] by RLVECT_1:10;
then A9: (( ( v1 |-- (W1,( Lin { y } )) ) `1 ) = x & ( ( v1 |-- (W1,( Lin { y } )) ) `2 ) = ( ( 0 ) * v )) by MCART_1:7;
thus ( fi . a ) = ( ( fi . x ) + ( ( 0 ) * r ) )
.= ( f . a ) by A7,A9;
end;
reconsider f as (Functional of ( X + ( Lin { v } ) ));
A10: ( y |-- (W1,( Lin { y } )) ) = [ ( 0. W1 ),y ] by A1,A2,CKB12:1;
then A11: ( ( y |-- (W1,( Lin { y } )) ) `1 ) = ( 0. X ) by MCART_1:7;
A12: f is  additive
proof
let v1 being (VECTOR of ( X + ( Lin { v } ) ));
let v2 being (VECTOR of ( X + ( Lin { v } ) ));
consider x1 being (VECTOR of X),s1 being Real such that A13: ( v1 |-- (W1,( Lin { y } )) ) = [ x1,( s1 * v ) ] by A1,A2,CKB15:1;
A14: (( ( v1 |-- (W1,( Lin { y } )) ) `1 ) = x1 & ( ( v1 |-- (W1,( Lin { y } )) ) `2 ) = ( s1 * v )) by A13,MCART_1:7;
consider x2 being (VECTOR of X),s2 being Real such that A15: ( v2 |-- (W1,( Lin { y } )) ) = [ x2,( s2 * v ) ] by A1,A2,CKB15:1;
A16: (( ( v2 |-- (W1,( Lin { y } )) ) `1 ) = x2 & ( ( v2 |-- (W1,( Lin { y } )) ) `2 ) = ( s2 * v )) by A15,MCART_1:7;
( ( v1 + v2 ) |-- (W1,( Lin { y } )) ) = [ ( x1 + x2 ),( ( s1 + s2 ) * v ) ] by A1,A2,A13,A15,CKB16:1;
then (( ( ( v1 + v2 ) |-- (W1,( Lin { y } )) ) `1 ) = ( x1 + x2 ) & ( ( ( v1 + v2 ) |-- (W1,( Lin { y } )) ) `2 ) = ( ( s1 + s2 ) * v )) by MCART_1:7;
hence ( f . ( v1 + v2 ) ) = ( ( fi . ( x1 + x2 ) ) + ( ( s1 + s2 ) * r ) ) by A7
.= ( ( ( fi . x1 ) + ( fi . x2 ) ) + ( ( s1 * r ) + ( s2 * r ) ) ) by CKB20:def 1
.= ( ( ( fi . x1 ) + ( s1 * r ) ) + ( ( fi . x2 ) + ( s2 * r ) ) )
.= ( ( f . v1 ) + ( ( fi . x2 ) + ( s2 * r ) ) ) by A7,A14
.= ( ( f . v1 ) + ( f . v2 ) ) by A7,A16;
end;
f is  homogeneous
proof
let v0 being (VECTOR of ( X + ( Lin { v } ) ));
let t being Real;
consider x0 being (VECTOR of X),s0 being Real such that A17: ( v0 |-- (W1,( Lin { y } )) ) = [ x0,( s0 * v ) ] by A1,A2,CKB15:1;
A18: (( ( v0 |-- (W1,( Lin { y } )) ) `1 ) = x0 & ( ( v0 |-- (W1,( Lin { y } )) ) `2 ) = ( s0 * v )) by A17,MCART_1:7;
( ( t * v0 ) |-- (W1,( Lin { y } )) ) = [ ( t * x0 ),( ( t * s0 ) * v ) ] by A1,A2,A17,CKB17:1;
then (( ( ( t * v0 ) |-- (W1,( Lin { y } )) ) `1 ) = ( t * x0 ) & ( ( ( t * v0 ) |-- (W1,( Lin { y } )) ) `2 ) = ( ( t * s0 ) * v )) by MCART_1:7;
hence ( f . ( t * v0 ) ) = ( ( fi . ( t * x0 ) ) + ( ( t * s0 ) * r ) ) by A7
.= ( ( t * ( fi . x0 ) ) + ( t * ( s0 * r ) ) ) by CKB21:def 1
.= ( t * ( ( fi . x0 ) + ( s0 * r ) ) )
.= ( t * ( f . v0 ) ) by A7,A18;
end;
then reconsider f as (linear-Functional of ( X + ( Lin { v } ) )) by A12;
take f;
(( dom fi ) = (the carrier of X) & ( dom f ) = (the carrier of ( X + ( Lin { v } ) ))) by FUNCT_2:def 1;
then ( dom fi ) = ( ( dom f ) /\ (the carrier of X) ) by CKB1:1,XBOOLE_1:28;
hence ( f | (the carrier of X) ) = fi by A8,FUNCT_1:46;
( ( y |-- (W1,( Lin { y } )) ) `2 ) = y by A10,MCART_1:7
.= ( 1 * v ) by A1,RLVECT_1:def 8;
hence ( f . y ) = ( ( fi . ( 0. X ) ) + ( 1 * r ) ) by A7,A11
.= ( ( 0 ) + ( 1 * r ) ) by CKB37:1
.= r;
end;
