environ
vocabularies NUMBERS,SUBSET_1,PARTFUN1,REAL_1,CFUNCT_1,SEQ_1,COMSEQ_1,SEQ_2,CARD_1,FUNCT_1,COMPLEX1,RELAT_1,NAT_1,XREAL_0,ORDINAL1,ORDINAL2,ARYTM_3,XXREAL_0,ARYTM_1,FDIFF_1,VALUED_0,XCMPLX_0,VALUED_1,FINSEQ_1,PDIFF_1,AFINSQ_1,CARD_3,RCOMP_1,TARSKI,CFDIFF_1,FUNCT_2,XXREAL_1,PRE_TOPC,REAL_NS1,BINOP_2,NORMSP_1,EUCLID,MCART_1,RVSUM_1,SQUARE_1,SUPINF_2,STRUCT_0,LOPBAN_1;
notations TARSKI,SUBSET_1,RELAT_1,FUNCT_1,FUNCT_2,RELSET_1,PARTFUN1,BINOP_1,BINOP_2,ORDINAL1,NUMBERS,XCMPLX_0,XXREAL_0,XREAL_0,COMPLEX1,REAL_1,NAT_1,VALUED_1,SEQ_1,SEQ_2,RLVECT_1,COMSEQ_1,COMSEQ_2,COMSEQ_3,CFUNCT_1,PRE_TOPC,STRUCT_0,RVSUM_1,FINSEQ_1,FINSEQ_2,FINSEQ_7,SQUARE_1,RCOMP_1,EUCLID,NORMSP_0,NORMSP_1,REAL_NS1,LOPBAN_1,NFCONT_1,FDIFF_1,NDIFF_1,PDIFF_1,CFDIFF_1;
definitions LOPBAN_1,EUCLID,COMPLEX1,PCOMPS_1,PDIFF_1,VALUED_0,VALUED_1,RVSUM_1,XCMPLX_0,NAT_1,ORDINAL1;
theorems TARSKI,ABSVALUE,XBOOLE_1,XREAL_0,EUCLID,XREAL_1,XXREAL_0,RCOMP_1,RLVECT_1,SEQ_4,COMPLEX1,SEQ_1,SEQ_2,FINSEQ_1,XCMPLX_1,VALUED_1,BINOP_2,FINSEQ_2,FINSEQ_7,RVSUM_1,RELAT_1,FUNCT_1,FUNCT_2,NORMSP_1,LOPBAN_1,PARTFUN1,NFCONT_1,FDIFF_1,NDIFF_1,REAL_NS1,NUMBERS,FUNCT_3,SQUARE_1,CFUNCT_1,CFDIFF_1,PDIFF_1,XCMPLX_0,COMSEQ_1,COMSEQ_2,COMSEQ_3,JGRAPH_1,VALUED_0,ORDINAL1,GRCAT_1,NORMSP_0,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7;
schemes SEQ_1,FUNCT_2;
registrations RELSET_1,STRUCT_0,ORDINAL1,MEMBERED,NUMBERS,XBOOLE_0,XREAL_0,XXREAL_0,XCMPLX_0,FUNCT_2,REAL_NS1,COMSEQ_3,VALUED_0,VALUED_1,SEQ_4,FDIFF_1,CFDIFF_1,FINSEQ_2,CARD_1;
constructors REAL_1,SQUARE_1,RSSPACE3,PARTFUN1,PCOMPS_1,SEQ_1,SEQ_2,BINOP_2,FINSEQ_7,REVROT_1,NFCONT_1,RCOMP_1,FDIFF_1,NDIFF_1,PDIFF_1,CFDIFF_1,COMSEQ_2,COMSEQ_3,RVSUM_1,RELSET_1;
requirements SUBSET,REAL,BOOLE,NUMERALS,ARITHM;
begin
theorem
Th2: (for f being (PartFunc of ( COMPLEX ),( COMPLEX )) holds (for u,v being (PartFunc of ( REAL 2 ),( REAL )) holds (for z0 being Complex holds (for x0,y0 being Real holds (for xy0 being (Element of ( REAL 2 )) holds ((((((for x,y being Real holds (( x + ( y * ( <i> ) ) ) in ( dom f ) implies (<* x,y *> in ( dom u ) & ( u . <* x,y *> ) = ( ( Re f ) . ( x + ( y * ( <i> ) ) ) )))) & (for x,y being Real holds (( x + ( y * ( <i> ) ) ) in ( dom f ) implies (<* x,y *> in ( dom v ) & ( v . <* x,y *> ) = ( ( Im f ) . ( x + ( y * ( <i> ) ) ) ))))) & z0 = ( x0 + ( y0 * ( <i> ) ) )) & xy0 = <* x0,y0 *>) & f is_differentiable_in z0) implies (((((((u is_partial_differentiable_in xy0,1 & u is_partial_differentiable_in xy0,2) & v is_partial_differentiable_in xy0,1) & v is_partial_differentiable_in xy0,2) & ( Re ( diff (f,z0) ) ) = ( partdiff (u,xy0,1) )) & ( Re ( diff (f,z0) ) ) = ( partdiff (v,xy0,2) )) & ( Im ( diff (f,z0) ) ) = ( - ( partdiff (u,xy0,2) ) )) & ( Im ( diff (f,z0) ) ) = ( partdiff (v,xy0,1) ))))))))
proof
let f being (PartFunc of ( COMPLEX ),( COMPLEX ));
let u being (PartFunc of ( REAL 2 ),( REAL )),v being (PartFunc of ( REAL 2 ),( REAL ));
let z0 being Complex;
let x0 being Real,y0 being Real;
let xy0 being (Element of ( REAL 2 ));
assume that
A1: (for x,y being Real holds (( x + ( y * ( <i> ) ) ) in ( dom f ) implies (<* x,y *> in ( dom u ) & ( u . <* x,y *> ) = ( ( Re f ) . ( x + ( y * ( <i> ) ) ) ))))
and
A2: (for x,y being Real holds (( x + ( y * ( <i> ) ) ) in ( dom f ) implies (<* x,y *> in ( dom v ) & ( v . <* x,y *> ) = ( ( Im f ) . ( x + ( y * ( <i> ) ) ) ))))
and
A3: z0 = ( x0 + ( y0 * ( <i> ) ) )
and
A4: xy0 = <* x0,y0 *>
and
A5: f is_differentiable_in z0;
deffunc LDF2(Real) = ( ( Im ( diff (f,z0) ) ) * $1 );
consider LD2 being (Function of ( REAL ),( REAL )) such that A6: (for x being Real holds ( LD2 . x ) = LDF2(x)) from FUNCT_2:sch 4;
reconsider LD2 as LINEAR by A6,FDIFF_1:def 3;
deffunc LDF1(Real) = ( ( Re ( diff (f,z0) ) ) * $1 );
consider LD1 being (Function of ( REAL ),( REAL )) such that A7: (for x being Real holds ( LD1 . x ) = LDF1(x)) from FUNCT_2:sch 4;
A8: (for y being Real holds ( ( v * ( reproj (2,xy0) ) ) . y ) = ( v . <* x0,y *> ))
proof
let y being Real;
y in ( REAL );
then y in ( dom ( reproj (2,xy0) ) ) by PDIFF_1:def 5;
hence ( ( v * ( reproj (2,xy0) ) ) . y ) = ( v . ( ( reproj (2,xy0) ) . y ) ) by FUNCT_1:13
.= ( v . ( Replace (xy0,2,y) ) ) by PDIFF_1:def 5
.= ( v . <* x0,y *> ) by A4,FINSEQ_7:14;
end;
A9: (for y being Real holds ( ( u * ( reproj (2,xy0) ) ) . y ) = ( u . <* x0,y *> ))
proof
let y being Real;
y in ( REAL );
then y in ( dom ( reproj (2,xy0) ) ) by PDIFF_1:def 5;
hence ( ( u * ( reproj (2,xy0) ) ) . y ) = ( u . ( ( reproj (2,xy0) ) . y ) ) by FUNCT_1:13
.= ( u . ( Replace (xy0,2,y) ) ) by PDIFF_1:def 5
.= ( u . <* x0,y *> ) by A4,FINSEQ_7:14;
end;
A10: ( ( proj (2,2) ) . xy0 ) = ( xy0 . 2 ) by PDIFF_1:def 1
.= y0 by A4,FINSEQ_1:44;
reconsider LD1 as LINEAR by A7,FDIFF_1:def 3;
deffunc LDF3(Real) = ( - ( ( Im ( diff (f,z0) ) ) * $1 ) );
consider LD3 being (Function of ( REAL ),( REAL )) such that A11: (for x being Real holds ( LD3 . x ) = LDF3(x)) from FUNCT_2:sch 4;
(for x being Real holds ( LD3 . x ) = ( ( - ( Im ( diff (f,z0) ) ) ) * x ))
proof
let x being Real;
thus ( LD3 . x ) = ( - ( ( Im ( diff (f,z0) ) ) * x ) ) by A11
.= ( ( - ( Im ( diff (f,z0) ) ) ) * x );
end;
then reconsider LD3 as LINEAR by FDIFF_1:def 3;
consider N being (Neighbourhood of z0) such that A12: N c= ( dom f ) and A13: (ex L being C_LINEAR st (ex R being C_REST st (( diff (f,z0) ) = ( L /. ( 1r ) ) & (for z being Complex holds (z in N implies ( ( f /. z ) - ( f /. z0 ) ) = ( ( L /. ( z - z0 ) ) + ( R /. ( z - z0 ) ) )))))) by A5,CFDIFF_1:def 7;
consider L being C_LINEAR,R being C_REST such that A14: (( diff (f,z0) ) = ( L /. ( 1r ) ) & (for z being Complex holds (z in N implies ( ( f /. z ) - ( f /. z0 ) ) = ( ( L /. ( z - z0 ) ) + ( R /. ( z - z0 ) ) )))) by A13;
deffunc RF4(Real) = ( ( Im R ) . ( $1 * ( <i> ) ) );
consider R4 being (Function of ( REAL ),( REAL )) such that A15: (for y being Real holds ( R4 . y ) = RF4(y)) from FUNCT_2:sch 4;
A16: (for z being Complex holds (z in N implies ( ( f /. z ) - ( f /. z0 ) ) = ( ( ( diff (f,z0) ) * ( z - z0 ) ) + ( R /. ( z - z0 ) ) )))
proof
let z being Complex;
assume A17: z in N;
consider a0 being Complex such that A18: (for w being Complex holds ( L /. w ) = ( a0 * w )) by CFDIFF_1:def 4;
( L /. ( ( 1r ) * ( z - z0 ) ) ) = ( ( a0 * ( 1r ) ) * ( z - z0 ) ) by A18
.= ( ( L /. ( 1r ) ) * ( z - z0 ) ) by A18;
hence thesis by A14,A17;
end;
A19: (for x,y being Real holds ((( x + ( y * ( <i> ) ) ) in N & ( x0 + ( y0 * ( <i> ) ) ) in N) implies ( ( f . ( x + ( y * ( <i> ) ) ) ) - ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) = ( ( ( diff (f,z0) ) * ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) + ( R /. ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) )))
proof
let x being Real,y being Real;
assume A20: (( x + ( y * ( <i> ) ) ) in N & ( x0 + ( y0 * ( <i> ) ) ) in N);
then (( x + ( y * ( <i> ) ) ) in ( dom f ) & ( x0 + ( y0 * ( <i> ) ) ) in ( dom f )) by A12;
then (( f . ( x + ( y * ( <i> ) ) ) ) = ( f /. ( x + ( y * ( <i> ) ) ) ) & ( f . ( x0 + ( y0 * ( <i> ) ) ) ) = ( f /. ( x0 + ( y0 * ( <i> ) ) ) )) by PARTFUN1:def 6;
hence thesis by A16,A20,A3;
end;
A21: ( dom R ) = ( COMPLEX ) by PARTFUN1:def 2;
(for h being  convergent_to_0 Real_Sequence holds (( ( h " ) (#) ( R4 /* h ) ) is  convergent & ( lim ( ( h " ) (#) ( R4 /* h ) ) ) = ( 0 )))
proof
let h being  convergent_to_0 Real_Sequence;
( rng h ) c= ( COMPLEX ) by NUMBERS:11,XBOOLE_1:1;
then reconsider hz0 = h as Complex_Sequence by FUNCT_2:6;
reconsider hz0 as  convergent_to_0 Complex_Sequence by CKB4:1;
set hz = ( ( <i> ) (#) hz0 );
reconsider hz as  convergent_to_0 Complex_Sequence by CKB7:1;
now
A22: ( rng hz ) c= ( dom R ) by A21;
( dom R4 ) = ( REAL ) by PARTFUN1:def 2;
then A23: ( rng h ) c= ( dom R4 );
let n being (Element of ( NAT ));
A24: (( Im ( ( h . n ) " ) ) = ( 0 ) & ( Re ( ( h . n ) " ) ) = ( ( h . n ) " )) by COMPLEX1:def 1,COMPLEX1:def 2;
A25: ( hz . n ) = ( ( h . n ) * ( <i> ) ) by VALUED_1:6;
( ( h . n ) * ( <i> ) ) in ( COMPLEX ) by XCMPLX_0:def 2;
then A26: ( ( h . n ) * ( <i> ) ) in ( dom ( Im R ) ) by CKB5:1;
thus ( ( ( h " ) (#) ( R4 /* h ) ) . n ) = ( ( ( h " ) . n ) * ( ( R4 /* h ) . n ) ) by SEQ_1:8
.= ( ( ( h . n ) " ) * ( ( R4 /* h ) . n ) ) by VALUED_1:10
.= ( ( ( h . n ) " ) * ( R4 . ( h . n ) ) ) by A23,FUNCT_2:108
.= ( ( ( h . n ) " ) * ( ( Im R ) . ( ( h . n ) * ( <i> ) ) ) ) by A15
.= ( ( ( Re ( ( h . n ) " ) ) * ( Im ( R . ( ( h . n ) * ( <i> ) ) ) ) ) + ( ( Re ( R . ( ( h . n ) * ( <i> ) ) ) ) * ( Im ( ( h . n ) " ) ) ) ) by A26,A24,COMSEQ_3:def 4
.= ( Im ( ( ( ( hz . n ) / ( <i> ) ) " ) * ( R . ( hz . n ) ) ) ) by A25,COMPLEX1:9
.= ( Im ( ( ( <i> ) / ( hz . n ) ) * ( R . ( hz . n ) ) ) ) by XCMPLX_1:213
.= ( Im ( ( ( <i> ) * ( ( hz " ) . n ) ) * ( R . ( hz . n ) ) ) ) by VALUED_1:10
.= ( Im ( ( <i> ) * ( ( ( hz " ) . n ) * ( R . ( hz . n ) ) ) ) )
.= ( ( ( Re ( <i> ) ) * ( Im ( ( ( hz " ) . n ) * ( R /. ( hz . n ) ) ) ) ) + ( ( Re ( ( ( hz " ) . n ) * ( R /. ( hz . n ) ) ) ) * ( Im ( <i> ) ) ) ) by COMPLEX1:9
.= ( Re ( ( ( hz " ) . n ) * ( ( R /* hz ) . n ) ) ) by A22,COMPLEX1:7,FUNCT_2:109
.= ( Re ( ( ( hz " ) (#) ( R /* hz ) ) . n ) ) by VALUED_1:5;
end;
then A27: ( ( h " ) (#) ( R4 /* h ) ) = ( Re ( ( hz " ) (#) ( R /* hz ) ) ) by COMSEQ_3:def 5;
(( ( hz " ) (#) ( R /* hz ) ) is  convergent & ( lim ( ( hz " ) (#) ( R /* hz ) ) ) = ( 0 )) by CFDIFF_1:def 3;
hence thesis by A27,COMPLEX1:4,COMSEQ_3:41;
end;
then reconsider R4 as REST by FDIFF_1:def 2;
deffunc RF2(Real) = ( ( Re R ) . ( $1 * ( <i> ) ) );
A28: ( dom R ) = ( COMPLEX ) by PARTFUN1:def 2;
consider R2 being (Function of ( REAL ),( REAL )) such that A29: (for y being Real holds ( R2 . y ) = RF2(y)) from FUNCT_2:sch 4;
(for h being  convergent_to_0 Real_Sequence holds (( ( h " ) (#) ( R2 /* h ) ) is  convergent & ( lim ( ( h " ) (#) ( R2 /* h ) ) ) = ( 0 )))
proof
let h being  convergent_to_0 Real_Sequence;
( rng h ) c= ( COMPLEX ) by NUMBERS:11,XBOOLE_1:1;
then reconsider hz0 = h as Complex_Sequence by FUNCT_2:6;
reconsider hz0 as  convergent_to_0 Complex_Sequence by CKB4:1;
set hz = ( ( <i> ) (#) hz0 );
reconsider hz as  convergent_to_0 Complex_Sequence by CKB7:1;
A30: ( ( hz " ) (#) ( R /* hz ) ) is  convergent by CFDIFF_1:def 3;
now
( dom R ) = ( COMPLEX ) by PARTFUN1:def 2;
then A31: ( rng hz ) c= ( dom R );
( dom R2 ) = ( REAL ) by PARTFUN1:def 2;
then A32: ( rng h ) c= ( dom R2 );
let n being (Element of ( NAT ));
A33: (( Im ( ( h . n ) " ) ) = ( 0 ) & ( Re ( ( h . n ) " ) ) = ( ( h . n ) " )) by COMPLEX1:def 1,COMPLEX1:def 2;
A34: ( hz . n ) = ( ( h . n ) * ( <i> ) ) by VALUED_1:6;
( dom ( Re R ) ) = ( COMPLEX ) by CKB5:1;
then A35: ( ( h . n ) * ( <i> ) ) in ( dom ( Re R ) ) by XCMPLX_0:def 2;
A36: ( R . ( hz . n ) ) = ( R /. ( hz . n ) );
thus ( ( ( h " ) (#) ( R2 /* h ) ) . n ) = ( ( ( h " ) . n ) * ( ( R2 /* h ) . n ) ) by SEQ_1:8
.= ( ( ( h . n ) " ) * ( ( R2 /* h ) . n ) ) by VALUED_1:10
.= ( ( ( h . n ) " ) * ( R2 . ( h . n ) ) ) by A32,FUNCT_2:108
.= ( ( ( h . n ) " ) * ( ( Re R ) . ( ( h . n ) * ( <i> ) ) ) ) by A29
.= ( ( ( Re ( ( h . n ) " ) ) * ( Re ( R . ( ( h . n ) * ( <i> ) ) ) ) ) - ( ( Im ( ( h . n ) " ) ) * ( Im ( R . ( ( h . n ) * ( <i> ) ) ) ) ) ) by A35,A33,COMSEQ_3:def 3
.= ( Re ( ( ( ( hz . n ) / ( <i> ) ) " ) * ( R . ( hz . n ) ) ) ) by A34,COMPLEX1:9
.= ( Re ( ( ( <i> ) / ( hz . n ) ) * ( R . ( hz . n ) ) ) ) by XCMPLX_1:213
.= ( Re ( ( ( <i> ) * ( ( hz " ) . n ) ) * ( R . ( hz . n ) ) ) ) by VALUED_1:10
.= ( Re ( ( <i> ) * ( ( ( hz " ) . n ) * ( R . ( hz . n ) ) ) ) )
.= ( ( ( Re ( <i> ) ) * ( Re ( ( ( hz " ) . n ) * ( R . ( hz . n ) ) ) ) ) - ( ( Im ( <i> ) ) * ( Im ( ( ( hz " ) . n ) * ( R . ( hz . n ) ) ) ) ) ) by COMPLEX1:9
.= ( - ( Im ( ( ( hz " ) . n ) * ( ( R /* hz ) . n ) ) ) ) by A36,A31,COMPLEX1:7,FUNCT_2:109
.= ( - ( Im ( ( ( hz " ) (#) ( R /* hz ) ) . n ) ) ) by VALUED_1:5
.= ( - ( ( Im ( ( hz " ) (#) ( R /* hz ) ) ) . n ) ) by COMSEQ_3:def 6;
end;
then A37: ( ( h " ) (#) ( R2 /* h ) ) = ( - ( Im ( ( hz " ) (#) ( R /* hz ) ) ) ) by SEQ_1:10;
( lim ( ( hz " ) (#) ( R /* hz ) ) ) = ( 0 ) by CFDIFF_1:def 3;
then ( lim ( Im ( ( hz " ) (#) ( R /* hz ) ) ) ) = ( Im ( 0 ) ) by A30,COMSEQ_3:41;
then ( lim ( ( h " ) (#) ( R2 /* h ) ) ) = ( - ( Im ( 0 ) ) ) by A37,A30,SEQ_2:10
.= ( 0 ) by COMPLEX1:4;
hence thesis by A37,A30,SEQ_2:9;
end;
then reconsider R2 as REST by FDIFF_1:def 2;
consider r0 being Real such that A38: ( 0 ) < r0 and A39: { y where y is Complex: |. ( y - z0 ) .| < r0 } c= N by CFDIFF_1:def 5;
set Ny0 = ]. ( y0 - r0 ),( y0 + r0 ) .[;
reconsider Ny0 as (Neighbourhood of y0) by A38,RCOMP_1:def 6;
A40: (for y being Real holds (y in Ny0 implies ( x0 + ( y * ( <i> ) ) ) in N))
proof
let y being Real;
|. ( ( x0 + ( y * ( <i> ) ) ) - z0 ) .| = |. ( ( y - y0 ) * ( <i> ) ) .| by A3;
then A41: |. ( ( x0 + ( y * ( <i> ) ) ) - z0 ) .| = ( |. ( y - y0 ) .| * |. ( <i> ) .| ) by COMPLEX1:65;
assume y in Ny0;
then (( x0 + ( y * ( <i> ) ) ) is Complex & |. ( ( x0 + ( y * ( <i> ) ) ) - z0 ) .| < r0) by A41,COMPLEX1:49,RCOMP_1:1,XCMPLX_0:def 2;
then ( x0 + ( y * ( <i> ) ) ) in { w where w is Complex: |. ( w - z0 ) .| < r0 };
hence ( x0 + ( y * ( <i> ) ) ) in N by A39;
end;
A42: (for x,y being Real holds ( ( diff (f,z0) ) * ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) = ( ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) ) * ( <i> ) ) ))
proof
let x being Real,y being Real;
thus ( ( diff (f,z0) ) * ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) = ( ( ( Re ( diff (f,z0) ) ) + ( ( Im ( diff (f,z0) ) ) * ( <i> ) ) ) * ( ( x - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) by COMPLEX1:13
.= ( ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) ) * ( <i> ) ) );
end;
A43: (for x,y being Real holds ( Re ( ( diff (f,z0) ) * ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) = ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ))
proof
let x being Real,y being Real;
thus ( Re ( ( diff (f,z0) ) * ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) = ( Re ( ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) ) * ( <i> ) ) ) ) by A42
.= ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) by COMPLEX1:12;
end;
A44: (for y being Real holds (y in Ny0 implies ( ( u . <* x0,y *> ) - ( u . <* x0,y0 *> ) ) = ( ( - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( ( Re R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) )))
proof
let y being Real;
( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( dom R ) by A28,XCMPLX_0:def 2;
then A45: ( ( y - y0 ) * ( <i> ) ) in ( dom ( Re R ) ) by COMSEQ_3:def 3;
assume y in Ny0;
then A46: ( x0 + ( y * ( <i> ) ) ) in N by A40;
then ( x0 + ( y * ( <i> ) ) ) in ( dom f ) by A12;
then A47: ( x0 + ( y * ( <i> ) ) ) in ( dom ( Re f ) ) by COMSEQ_3:def 3;
A48: ( x0 + ( y0 * ( <i> ) ) ) in N by A3,CFDIFF_1:7;
then ( x0 + ( y0 * ( <i> ) ) ) in ( dom f ) by A12;
then A49: ( x0 + ( y0 * ( <i> ) ) ) in ( dom ( Re f ) ) by COMSEQ_3:def 3;
( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( COMPLEX ) by XCMPLX_0:def 2;
then A50: ( R . ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) = ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) by A21,PARTFUN1:def 6;
( ( u . <* x0,y *> ) - ( u . <* x0,y0 *> ) ) = ( ( ( Re f ) . ( x0 + ( y * ( <i> ) ) ) ) - ( u . <* x0,y0 *> ) ) by A1,A12,A46
.= ( ( ( Re f ) . ( x0 + ( y * ( <i> ) ) ) ) - ( ( Re f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A1,A12,A48
.= ( ( Re ( f . ( x0 + ( y * ( <i> ) ) ) ) ) - ( ( Re f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A47,COMSEQ_3:def 3
.= ( ( Re ( f . ( x0 + ( y * ( <i> ) ) ) ) ) - ( Re ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by A49,COMSEQ_3:def 3
.= ( Re ( ( f . ( x0 + ( y * ( <i> ) ) ) ) - ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by COMPLEX1:19
.= ( Re ( ( ( diff (f,z0) ) * ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) + ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A19,A46,A48
.= ( ( Re ( ( diff (f,z0) ) * ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) + ( Re ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by COMPLEX1:8
.= ( ( ( ( Re ( diff (f,z0) ) ) * ( x0 - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( Re ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A43
.= ( ( - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( ( Re R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) ) by A50,A45,COMSEQ_3:def 3;
hence thesis;
end;
A51: (for y being Real holds (y in Ny0 implies ( ( ( u * ( reproj (2,xy0) ) ) . y ) - ( ( u * ( reproj (2,xy0) ) ) . y0 ) ) = ( ( LD3 . ( y - y0 ) ) + ( R2 . ( y - y0 ) ) )))
proof
let y being Real;
assume A52: y in Ny0;
thus ( ( ( u * ( reproj (2,xy0) ) ) . y ) - ( ( u * ( reproj (2,xy0) ) ) . y0 ) ) = ( ( u . <* x0,y *> ) - ( ( u * ( reproj (2,xy0) ) ) . y0 ) ) by A9
.= ( ( u . <* x0,y *> ) - ( u . <* x0,y0 *> ) ) by A9
.= ( ( - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( ( Re R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) ) by A44,A52
.= ( ( LD3 . ( y - y0 ) ) + ( ( Re R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) ) by A11
.= ( ( LD3 . ( y - y0 ) ) + ( R2 . ( y - y0 ) ) ) by A29;
end;
A53: (for x,y being Real holds ( Im ( ( diff (f,z0) ) * ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) = ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) ))
proof
let x being Real,y being Real;
thus ( Im ( ( diff (f,z0) ) * ( ( x + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) = ( Im ( ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) ) * ( <i> ) ) ) ) by A42
.= ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) ) by COMPLEX1:12;
end;
A54: (for y being Real holds (y in Ny0 implies ( ( v . <* x0,y *> ) - ( v . <* x0,y0 *> ) ) = ( ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) + ( ( Im R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) )))
proof
let y being Real;
( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( dom R ) by A28,XCMPLX_0:def 2;
then A55: ( ( y - y0 ) * ( <i> ) ) in ( dom ( Im R ) ) by COMSEQ_3:def 4;
assume y in Ny0;
then A56: ( x0 + ( y * ( <i> ) ) ) in N by A40;
then ( x0 + ( y * ( <i> ) ) ) in ( dom f ) by A12;
then A57: ( x0 + ( y * ( <i> ) ) ) in ( dom ( Im f ) ) by COMSEQ_3:def 4;
A58: ( x0 + ( y0 * ( <i> ) ) ) in N by A3,CFDIFF_1:7;
then ( x0 + ( y0 * ( <i> ) ) ) in ( dom f ) by A12;
then A59: ( x0 + ( y0 * ( <i> ) ) ) in ( dom ( Im f ) ) by COMSEQ_3:def 4;
( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( COMPLEX ) by XCMPLX_0:def 2;
then A60: ( R . ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) = ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) by A21,PARTFUN1:def 6;
( ( v . <* x0,y *> ) - ( v . <* x0,y0 *> ) ) = ( ( ( Im f ) . ( x0 + ( y * ( <i> ) ) ) ) - ( v . <* x0,y0 *> ) ) by A2,A12,A56
.= ( ( ( Im f ) . ( x0 + ( y * ( <i> ) ) ) ) - ( ( Im f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A2,A12,A58
.= ( ( Im ( f . ( x0 + ( y * ( <i> ) ) ) ) ) - ( ( Im f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A57,COMSEQ_3:def 4
.= ( ( Im ( f . ( x0 + ( y * ( <i> ) ) ) ) ) - ( Im ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by A59,COMSEQ_3:def 4
.= ( Im ( ( f . ( x0 + ( y * ( <i> ) ) ) ) - ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by COMPLEX1:19
.= ( Im ( ( ( diff (f,z0) ) * ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) + ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A19,A56,A58
.= ( ( Im ( ( diff (f,z0) ) * ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) + ( Im ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by COMPLEX1:8
.= ( ( ( ( Im ( diff (f,z0) ) ) * ( x0 - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) ) + ( Im ( R /. ( ( x0 + ( y * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A53
.= ( ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) + ( ( Im R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) ) by A60,A55,COMSEQ_3:def 4;
hence thesis;
end;
A61: (for y being Real holds (y in Ny0 implies ( ( ( v * ( reproj (2,xy0) ) ) . y ) - ( ( v * ( reproj (2,xy0) ) ) . y0 ) ) = ( ( LD1 . ( y - y0 ) ) + ( R4 . ( y - y0 ) ) )))
proof
let y being Real;
assume A62: y in Ny0;
thus ( ( ( v * ( reproj (2,xy0) ) ) . y ) - ( ( v * ( reproj (2,xy0) ) ) . y0 ) ) = ( ( v . <* x0,y *> ) - ( ( v * ( reproj (2,xy0) ) ) . y0 ) ) by A8
.= ( ( v . <* x0,y *> ) - ( v . <* x0,y0 *> ) ) by A8
.= ( ( ( Re ( diff (f,z0) ) ) * ( y - y0 ) ) + ( ( Im R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) ) by A54,A62
.= ( ( LD1 . ( y - y0 ) ) + ( ( Im R ) . ( ( x0 - x0 ) + ( ( y - y0 ) * ( <i> ) ) ) ) ) by A7
.= ( ( LD1 . ( y - y0 ) ) + ( R4 . ( y - y0 ) ) ) by A15;
end;
now
let s being set;
assume s in ( ( reproj (2,xy0) ) .: Ny0 );
then consider y being (Element of ( REAL )) such that A63: y in Ny0 and A64: s = ( ( reproj (2,xy0) ) . y ) by FUNCT_2:65;
A65: ( x0 + ( y * ( <i> ) ) ) in N by A40,A63;
s = ( Replace (xy0,2,y) ) by A64,PDIFF_1:def 5
.= <* x0,y *> by A4,FINSEQ_7:14;
hence s in ( dom v ) by A2,A12,A65;
end;
then (( dom ( reproj (2,xy0) ) ) = ( REAL ) & ( ( reproj (2,xy0) ) .: Ny0 ) c= ( dom v )) by FUNCT_2:def 1,TARSKI:def 3;
then A66: Ny0 c= ( dom ( v * ( reproj (2,xy0) ) ) ) by FUNCT_3:3;
then A67: ( v * ( reproj (2,xy0) ) ) is_differentiable_in ( ( proj (2,2) ) . xy0 ) by A10,A61,FDIFF_1:def 4;
A68: (for x being Real holds ( ( v * ( reproj (1,xy0) ) ) . x ) = ( v . <* x,y0 *> ))
proof
let x being Real;
x in ( REAL );
then x in ( dom ( reproj (1,xy0) ) ) by PDIFF_1:def 5;
hence ( ( v * ( reproj (1,xy0) ) ) . x ) = ( v . ( ( reproj (1,xy0) ) . x ) ) by FUNCT_1:13
.= ( v . ( Replace (xy0,1,x) ) ) by PDIFF_1:def 5
.= ( v . <* x,y0 *> ) by A4,FINSEQ_7:13;
end;
now
let s being set;
assume s in ( ( reproj (2,xy0) ) .: Ny0 );
then consider y being (Element of ( REAL )) such that A69: y in Ny0 and A70: s = ( ( reproj (2,xy0) ) . y ) by FUNCT_2:65;
A71: ( x0 + ( y * ( <i> ) ) ) in N by A40,A69;
s = ( Replace (xy0,2,y) ) by A70,PDIFF_1:def 5
.= <* x0,y *> by A4,FINSEQ_7:14;
hence s in ( dom u ) by A1,A12,A71;
end;
then (( dom ( reproj (2,xy0) ) ) = ( REAL ) & ( ( reproj (2,xy0) ) .: Ny0 ) c= ( dom u )) by FUNCT_2:def 1,TARSKI:def 3;
then A72: Ny0 c= ( dom ( u * ( reproj (2,xy0) ) ) ) by FUNCT_3:3;
then A73: ( u * ( reproj (2,xy0) ) ) is_differentiable_in ( ( proj (2,2) ) . xy0 ) by A10,A51,FDIFF_1:def 4;
( LD3 . 1 ) = ( - ( ( Im ( diff (f,z0) ) ) * 1 ) ) by A11
.= ( - ( Im ( diff (f,z0) ) ) );
then A74: ( partdiff (u,xy0,2) ) = ( - ( Im ( diff (f,z0) ) ) ) by A10,A51,A72,A73,FDIFF_1:def 5;
A75: ( LD1 . 1 ) = ( ( Re ( diff (f,z0) ) ) * 1 ) by A7
.= ( Re ( diff (f,z0) ) );
A76: ( ( proj (1,2) ) . xy0 ) = ( xy0 . 1 ) by PDIFF_1:def 1
.= x0 by A4,FINSEQ_1:44;
set Nx0 = ]. ( x0 - r0 ),( x0 + r0 ) .[;
reconsider Nx0 as (Neighbourhood of x0) by A38,RCOMP_1:def 6;
deffunc RF3(Real) = ( ( Im R ) . $1 );
consider R3 being (Function of ( REAL ),( REAL )) such that A77: (for y being Real holds ( R3 . y ) = RF3(y)) from FUNCT_2:sch 4;
A78: (for h being  convergent_to_0 Real_Sequence holds (( ( h " ) (#) ( R3 /* h ) ) is  convergent & ( lim ( ( h " ) (#) ( R3 /* h ) ) ) = ( 0 )))
proof
let h being  convergent_to_0 Real_Sequence;
( rng h ) c= ( COMPLEX ) by NUMBERS:11,XBOOLE_1:1;
then reconsider hz = h as Complex_Sequence by FUNCT_2:6;
reconsider hz as  convergent_to_0 Complex_Sequence by CKB4:1;
now
A79: ( dom R ) = ( COMPLEX ) by PARTFUN1:def 2;
then A80: ( rng hz ) c= ( dom R );
let n being (Element of ( NAT ));
A81: (( Im ( ( h . n ) " ) ) = ( 0 ) & ( Re ( ( h . n ) " ) ) = ( ( h . n ) " )) by COMPLEX1:def 1,COMPLEX1:def 2;
A82: ( dom R3 ) = ( REAL ) by PARTFUN1:def 2;
then A83: ( rng h ) c= ( dom R3 );
( dom R3 ) c= ( dom ( Im R ) ) by A82,CKB5:1,NUMBERS:11;
then A84: ( h . n ) in ( dom ( Im R ) ) by A82,TARSKI:def 3;
( h . n ) in ( COMPLEX ) by XCMPLX_0:def 2;
then A85: ( R /. ( h . n ) ) = ( R . ( h . n ) ) by A79,PARTFUN1:def 6;
thus ( ( ( h " ) (#) ( R3 /* h ) ) . n ) = ( ( ( h " ) . n ) * ( ( R3 /* h ) . n ) ) by SEQ_1:8
.= ( ( ( h . n ) " ) * ( ( R3 /* h ) . n ) ) by VALUED_1:10
.= ( ( ( h . n ) " ) * ( R3 . ( h . n ) ) ) by A83,FUNCT_2:108
.= ( ( ( h . n ) " ) * ( ( Im R ) . ( h . n ) ) ) by A77
.= ( ( ( Re ( ( h . n ) " ) ) * ( Im ( R /. ( h . n ) ) ) ) + ( ( Re ( R /. ( h . n ) ) ) * ( Im ( ( h . n ) " ) ) ) ) by A85,A84,A81,COMSEQ_3:def 4
.= ( Im ( ( ( h . n ) " ) * ( R /. ( h . n ) ) ) ) by COMPLEX1:9
.= ( Im ( ( ( hz " ) . n ) * ( R /. ( hz . n ) ) ) ) by VALUED_1:10
.= ( Im ( ( ( hz " ) . n ) * ( ( R /* hz ) . n ) ) ) by A80,FUNCT_2:109
.= ( Im ( ( ( hz " ) (#) ( R /* hz ) ) . n ) ) by VALUED_1:5;
end;
then A86: ( ( h " ) (#) ( R3 /* h ) ) = ( Im ( ( hz " ) (#) ( R /* hz ) ) ) by COMSEQ_3:def 6;
(( ( hz " ) (#) ( R /* hz ) ) is  convergent & ( lim ( ( hz " ) (#) ( R /* hz ) ) ) = ( 0 )) by CFDIFF_1:def 3;
hence thesis by A86,COMPLEX1:4,COMSEQ_3:41;
end;
deffunc RF1(Real) = ( ( Re R ) . $1 );
consider R1 being (Function of ( REAL ),( REAL )) such that A87: (for x being Real holds ( R1 . x ) = RF1(x)) from FUNCT_2:sch 4;
reconsider R3 as REST by A78,FDIFF_1:def 2;
A88: (for x being Real holds (x in Nx0 implies ( x + ( y0 * ( <i> ) ) ) in N))
proof
let x being Real;
assume x in Nx0;
then |. ( x - x0 ) .| < r0 by RCOMP_1:1;
then (( x + ( y0 * ( <i> ) ) ) is Complex & |. ( ( x + ( y0 * ( <i> ) ) ) - z0 ) .| < r0) by A3,XCMPLX_0:def 2;
then ( x + ( y0 * ( <i> ) ) ) in { y where y is Complex: |. ( y - z0 ) .| < r0 };
hence ( x + ( y0 * ( <i> ) ) ) in N by A39;
end;
A89: (for x being Real holds (x in Nx0 implies ( ( v . <* x,y0 *> ) - ( v . <* x0,y0 *> ) ) = ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Im R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) )))
proof
let x being Real;
( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( dom R ) by A28,XCMPLX_0:def 2;
then A90: ( x - x0 ) in ( dom ( Im R ) ) by COMSEQ_3:def 4;
assume x in Nx0;
then A91: ( x + ( y0 * ( <i> ) ) ) in N by A88;
then ( x + ( y0 * ( <i> ) ) ) in ( dom f ) by A12;
then A92: ( x + ( y0 * ( <i> ) ) ) in ( dom ( Im f ) ) by COMSEQ_3:def 4;
A93: ( x0 + ( y0 * ( <i> ) ) ) in N by A3,CFDIFF_1:7;
then ( x0 + ( y0 * ( <i> ) ) ) in ( dom f ) by A12;
then A94: ( x0 + ( y0 * ( <i> ) ) ) in ( dom ( Im f ) ) by COMSEQ_3:def 4;
( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( COMPLEX ) by XCMPLX_0:def 2;
then A95: ( R . ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) = ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) by A21,PARTFUN1:def 6;
( ( v . <* x,y0 *> ) - ( v . <* x0,y0 *> ) ) = ( ( ( Im f ) . ( x + ( y0 * ( <i> ) ) ) ) - ( v . <* x0,y0 *> ) ) by A2,A12,A91
.= ( ( ( Im f ) . ( x + ( y0 * ( <i> ) ) ) ) - ( ( Im f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A2,A12,A93
.= ( ( Im ( f . ( x + ( y0 * ( <i> ) ) ) ) ) - ( ( Im f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A92,COMSEQ_3:def 4
.= ( ( Im ( f . ( x + ( y0 * ( <i> ) ) ) ) ) - ( Im ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by A94,COMSEQ_3:def 4
.= ( Im ( ( f . ( x + ( y0 * ( <i> ) ) ) ) - ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by COMPLEX1:19
.= ( Im ( ( ( diff (f,z0) ) * ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) + ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A19,A91,A93
.= ( ( Im ( ( diff (f,z0) ) * ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) + ( Im ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by COMPLEX1:8
.= ( ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re ( diff (f,z0) ) ) * ( y0 - y0 ) ) ) + ( Im ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A53
.= ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Im R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) ) by A95,A90,COMSEQ_3:def 4;
hence thesis;
end;
A96: (for x being Real holds (x in Nx0 implies ( ( ( v * ( reproj (1,xy0) ) ) . x ) - ( ( v * ( reproj (1,xy0) ) ) . x0 ) ) = ( ( LD2 . ( x - x0 ) ) + ( R3 . ( x - x0 ) ) )))
proof
let x being Real;
assume A97: x in Nx0;
thus ( ( ( v * ( reproj (1,xy0) ) ) . x ) - ( ( v * ( reproj (1,xy0) ) ) . x0 ) ) = ( ( v . <* x,y0 *> ) - ( ( v * ( reproj (1,xy0) ) ) . x0 ) ) by A68
.= ( ( v . <* x,y0 *> ) - ( v . <* x0,y0 *> ) ) by A68
.= ( ( ( Im ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Im R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) ) by A89,A97
.= ( ( LD2 . ( x - x0 ) ) + ( ( Im R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) ) by A6
.= ( ( LD2 . ( x - x0 ) ) + ( R3 . ( x - x0 ) ) ) by A77;
end;
(for h being  convergent_to_0 Real_Sequence holds (( ( h " ) (#) ( R1 /* h ) ) is  convergent & ( lim ( ( h " ) (#) ( R1 /* h ) ) ) = ( 0 )))
proof
let h being  convergent_to_0 Real_Sequence;
( rng h ) c= ( COMPLEX ) by NUMBERS:11,XBOOLE_1:1;
then reconsider hz = h as Complex_Sequence by FUNCT_2:6;
reconsider hz as  convergent_to_0 Complex_Sequence by CKB4:1;
now
( dom R ) = ( COMPLEX ) by PARTFUN1:def 2;
then A98: ( rng hz ) c= ( dom R );
let n being (Element of ( NAT ));
A99: (( Im ( ( h . n ) " ) ) = ( 0 ) & ( Re ( ( h . n ) " ) ) = ( ( h . n ) " )) by COMPLEX1:def 1,COMPLEX1:def 2;
A100: ( dom R1 ) = ( REAL ) by PARTFUN1:def 2;
then A101: ( rng h ) c= ( dom R1 );
( dom R1 ) c= ( dom ( Re R ) ) by A100,CKB5:1,NUMBERS:11;
then A102: ( h . n ) in ( dom ( Re R ) ) by A100,TARSKI:def 3;
thus ( ( ( h " ) (#) ( R1 /* h ) ) . n ) = ( ( ( h " ) . n ) * ( ( R1 /* h ) . n ) ) by SEQ_1:8
.= ( ( ( h . n ) " ) * ( ( R1 /* h ) . n ) ) by VALUED_1:10
.= ( ( ( h . n ) " ) * ( R1 /. ( h . n ) ) ) by A101,FUNCT_2:109
.= ( ( ( h . n ) " ) * ( ( Re R ) . ( h . n ) ) ) by A87
.= ( ( ( Re ( ( h . n ) " ) ) * ( Re ( R . ( h . n ) ) ) ) - ( ( Im ( ( h . n ) " ) ) * ( Im ( R . ( h . n ) ) ) ) ) by A102,A99,COMSEQ_3:def 3
.= ( Re ( ( ( h . n ) " ) * ( R . ( h . n ) ) ) ) by COMPLEX1:9
.= ( Re ( ( ( hz " ) . n ) * ( R /. ( hz . n ) ) ) ) by VALUED_1:10
.= ( Re ( ( ( hz " ) . n ) * ( ( R /* hz ) . n ) ) ) by A98,FUNCT_2:109
.= ( Re ( ( ( hz " ) (#) ( R /* hz ) ) . n ) ) by VALUED_1:5;
end;
then A103: ( ( h " ) (#) ( R1 /* h ) ) = ( Re ( ( hz " ) (#) ( R /* hz ) ) ) by COMSEQ_3:def 5;
(( ( hz " ) (#) ( R /* hz ) ) is  convergent & ( lim ( ( hz " ) (#) ( R /* hz ) ) ) = ( 0 )) by CFDIFF_1:def 3;
hence thesis by A103,COMPLEX1:4,COMSEQ_3:41;
end;
then reconsider R1 as REST by FDIFF_1:def 2;
A104: ( LD2 . 1 ) = ( ( Im ( diff (f,z0) ) ) * 1 ) by A6
.= ( Im ( diff (f,z0) ) );
A105: (for x being Real holds ( ( u * ( reproj (1,xy0) ) ) . x ) = ( u . <* x,y0 *> ))
proof
let x being Real;
x in ( REAL );
then x in ( dom ( reproj (1,xy0) ) ) by PDIFF_1:def 5;
hence ( ( u * ( reproj (1,xy0) ) ) . x ) = ( u . ( ( reproj (1,xy0) ) . x ) ) by FUNCT_1:13
.= ( u . ( Replace (xy0,1,x) ) ) by PDIFF_1:def 5
.= ( u . <* x,y0 *> ) by A4,FINSEQ_7:13;
end;
A106: (for x being Real holds (x in Nx0 implies ( ( u . <* x,y0 *> ) - ( u . <* x0,y0 *> ) ) = ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) )))
proof
let x being Real;
( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( dom R ) by A28,XCMPLX_0:def 2;
then A107: ( x - x0 ) in ( dom ( Re R ) ) by COMSEQ_3:def 3;
assume x in Nx0;
then A108: ( x + ( y0 * ( <i> ) ) ) in N by A88;
then ( x + ( y0 * ( <i> ) ) ) in ( dom f ) by A12;
then A109: ( x + ( y0 * ( <i> ) ) ) in ( dom ( Re f ) ) by COMSEQ_3:def 3;
A110: ( x0 + ( y0 * ( <i> ) ) ) in N by A3,CFDIFF_1:7;
then ( x0 + ( y0 * ( <i> ) ) ) in ( dom f ) by A12;
then A111: ( x0 + ( y0 * ( <i> ) ) ) in ( dom ( Re f ) ) by COMSEQ_3:def 3;
( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) in ( COMPLEX ) by XCMPLX_0:def 2;
then A112: ( R . ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) = ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) by A21,PARTFUN1:def 6;
( ( u . <* x,y0 *> ) - ( u . <* x0,y0 *> ) ) = ( ( ( Re f ) . ( x + ( y0 * ( <i> ) ) ) ) - ( u . <* x0,y0 *> ) ) by A1,A12,A108
.= ( ( ( Re f ) . ( x + ( y0 * ( <i> ) ) ) ) - ( ( Re f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A1,A12,A110
.= ( ( Re ( f . ( x + ( y0 * ( <i> ) ) ) ) ) - ( ( Re f ) . ( x0 + ( y0 * ( <i> ) ) ) ) ) by A109,COMSEQ_3:def 3
.= ( ( Re ( f . ( x + ( y0 * ( <i> ) ) ) ) ) - ( Re ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by A111,COMSEQ_3:def 3
.= ( Re ( ( f . ( x + ( y0 * ( <i> ) ) ) ) - ( f . ( x0 + ( y0 * ( <i> ) ) ) ) ) ) by COMPLEX1:19
.= ( Re ( ( ( diff (f,z0) ) * ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) + ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A19,A108,A110
.= ( ( Re ( ( diff (f,z0) ) * ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) + ( Re ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by COMPLEX1:8
.= ( ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) - ( ( Im ( diff (f,z0) ) ) * ( y0 - y0 ) ) ) + ( Re ( R /. ( ( x + ( y0 * ( <i> ) ) ) - ( x0 + ( y0 * ( <i> ) ) ) ) ) ) ) by A43
.= ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) ) by A112,A107,COMSEQ_3:def 3;
hence thesis;
end;
A113: (for x being Real holds (x in Nx0 implies ( ( ( u * ( reproj (1,xy0) ) ) . x ) - ( ( u * ( reproj (1,xy0) ) ) . x0 ) ) = ( ( LD1 . ( x - x0 ) ) + ( R1 . ( x - x0 ) ) )))
proof
let x being Real;
assume A114: x in Nx0;
thus ( ( ( u * ( reproj (1,xy0) ) ) . x ) - ( ( u * ( reproj (1,xy0) ) ) . x0 ) ) = ( ( u . <* x,y0 *> ) - ( ( u * ( reproj (1,xy0) ) ) . x0 ) ) by A105
.= ( ( u . <* x,y0 *> ) - ( u . <* x0,y0 *> ) ) by A105
.= ( ( ( Re ( diff (f,z0) ) ) * ( x - x0 ) ) + ( ( Re R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) ) by A106,A114
.= ( ( LD1 . ( x - x0 ) ) + ( ( Re R ) . ( ( x - x0 ) + ( ( 0 ) * ( <i> ) ) ) ) ) by A7
.= ( ( LD1 . ( x - x0 ) ) + ( R1 . ( x - x0 ) ) ) by A87;
end;
now
let s being set;
assume s in ( ( reproj (1,xy0) ) .: Nx0 );
then consider x being (Element of ( REAL )) such that A115: x in Nx0 and A116: s = ( ( reproj (1,xy0) ) . x ) by FUNCT_2:65;
A117: ( x + ( y0 * ( <i> ) ) ) in N by A88,A115;
s = ( Replace (xy0,1,x) ) by A116,PDIFF_1:def 5
.= <* x,y0 *> by A4,FINSEQ_7:13;
hence s in ( dom v ) by A2,A12,A117;
end;
then (( dom ( reproj (1,xy0) ) ) = ( REAL ) & ( ( reproj (1,xy0) ) .: Nx0 ) c= ( dom v )) by FUNCT_2:def 1,TARSKI:def 3;
then A118: Nx0 c= ( dom ( v * ( reproj (1,xy0) ) ) ) by FUNCT_3:3;
then A119: ( v * ( reproj (1,xy0) ) ) is_differentiable_in ( ( proj (1,2) ) . xy0 ) by A76,A96,FDIFF_1:def 4;
now
let s being set;
assume s in ( ( reproj (1,xy0) ) .: Nx0 );
then consider x being (Element of ( REAL )) such that A120: x in Nx0 and A121: s = ( ( reproj (1,xy0) ) . x ) by FUNCT_2:65;
A122: ( x + ( y0 * ( <i> ) ) ) in N by A88,A120;
s = ( Replace (xy0,1,x) ) by A121,PDIFF_1:def 5
.= <* x,y0 *> by A4,FINSEQ_7:13;
hence s in ( dom u ) by A1,A12,A122;
end;
then (( dom ( reproj (1,xy0) ) ) = ( REAL ) & ( ( reproj (1,xy0) ) .: Nx0 ) c= ( dom u )) by FUNCT_2:def 1,TARSKI:def 3;
then A123: Nx0 c= ( dom ( u * ( reproj (1,xy0) ) ) ) by FUNCT_3:3;
then ( u * ( reproj (1,xy0) ) ) is_differentiable_in ( ( proj (1,2) ) . xy0 ) by A76,A113,FDIFF_1:def 4;
hence thesis by A76,A10,A113,A96,A61,A123,A73,A74,A104,A118,A119,A75,A66,A67,FDIFF_1:def 5,PDIFF_1:def 11;
end;
