environ
vocabularies FUNCT_1,NORMSP_1,VECTMETR,PRE_TOPC,ARYTM_1,RUSUB_4,XREAL_0,ORDINAL1,CARD_1,XXREAL_0,RELAT_1,ARYTM_3,FUNCT_2,SEQ_2,MEMBERED,ORDINAL2,MAZURULM,BINOP_1,VALUED_1,SUPINF_2,COMPLEX1,SUBSET_1,XXREAL_2,XBOOLE_0,NUMBERS,MEMBER_1,SUPINF_1,TARSKI,RLVECT_1,CFCONT_1,NAT_1,PARTFUN1,REAL_1,NEWTON,TOPMETR,BORSUK_1,TOPS_1,XXREAL_1,URYSOHN1,METRIC_1,STRUCT_0,SEQ_1,FUNCOP_1,RCOMP_1,CKB2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,NUMBERS,XXREAL_0,XXREAL_1,XXREAL_3,XREAL_0,REAL_1,XXREAL_2,MEMBERED,VALUED_1,SEQ_1,SEQ_2,COMPLEX1,MEMBER_1,SUPINF_1,NEWTON,BINOP_2,MEASURE6,STRUCT_0,PRE_TOPC,TOPS_1,TOPS_2,BORSUK_1,METRIC_1,TOPMETR,ALGSTR_0,RLVECT_1,NORMSP_0,NORMSP_1,NDIFF_1,NFCONT_1,CONNSP_3,URYSOHN1,CKB2,CKB20,CKB21,CKB22,CKB38;
definitions TARSKI,XBOOLE_0,FUNCT_2,XXREAL_2,XCMPLX_0,STRUCT_0,RLVECT_1,NORMSP_1,METRIC_1,TOPS_1,CONNSP_3,CKB2,CKB20,CKB21,CKB22,CKB38;
theorems FUNCT_2,RLVECT_1,FUNCT_1,NORMSP_1,COMPLEX1,TOPS_2,RELAT_1,XXREAL_2,XREAL_1,XXREAL_0,MEMBERED,URYSOHN2,MEMBER_1,EXTREAL1,GROUP_6,PENCIL_2,XXREAL_3,XREAL_0,INTEGRA2,VECTSP_1,NDIFF_1,NFCONT_1,XCMPLX_1,NEWTON,BORSUK_1,XBOOLE_0,CONNSP_3,TOPMETR,GOBOARD6,FRECHET,XXREAL_1,TOPREAL6,MEASURE6,SEQ_2,FUNCOP_1,VALUED_1,URYSOHN1,SEQ_4,TREAL_1,TOPS_3,NAT_1,INT_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB20,CKB21,CKB22,CKB26,CKB28,CKB30,CKB32,CKB34,CKB36,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB48,CKB49;
schemes FUNCT_2,NAT_1;
registrations RELSET_1,XREAL_0,ORDINAL1,STRUCT_0,MEMBERED,FUNCT_1,FUNCT_2,XBOOLE_0,NORMSP_1,FUNCTOR1,NUMBERS,SEQ_4,SPRECT_1,XXREAL_2,MEMBER_1,XXREAL_0,RLVECT_1,TOPS_1,TOPMETR,METRIC_1,XXREAL_1,VALUED_1,VALUED_0,FUNCOP_1,BORSUK_1,INT_1,NEWTON,CKB1,CKB8,CKB9,CKB10,CKB11,CKB15,CKB19,CKB23,CKB24,CKB25,CKB27,CKB29,CKB31,CKB33,CKB35,CKB37,CKB40,CKB47;
constructors TOPS_2,REAL_1,SUPINF_2,INTEGRA2,EXTREAL1,BINOP_2,NFCONT_1,NEWTON,CONNSP_3,URYSOHN1,TOPS_1,TOPMETR,PCOMPS_1,MEASURE6,NDIFF_1,SEQ_1,CKB2,CKB20,CKB21,CKB22,CKB38;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve E for RealNormSpace;
reserve F for RealNormSpace;
reserve G for RealNormSpace;
reserve g for (Function of F,G);
reserve a for (Point of E);
reserve b for (Point of E);
Lm4:now
deffunc W(RealNormSpace,(Point of $1),(Point of $1)) = { g where g is (UnOp of $1): ((g is  bijective  isometric & ( g . $2 ) = $2) & ( g . $3 ) = $3) };
deffunc l(RealNormSpace,(Point of $1),(Point of $1)) = { ||. ( ( g . ( ( 1 / 2 ) * ( $2 + $3 ) ) ) - ( ( 1 / 2 ) * ( $2 + $3 ) ) ) .|| where g is (UnOp of $1): g in W($1,$2,$3) };
let E;
let a;
let b;
let l being  real-membered set;
assume that
A1: l = l(E,a,b);
set z = ( ( 1 / 2 ) * ( a + b ) );
thus ( 2 * ||. ( a - z ) .|| ) is (UpperBound of l)
proof
let x being  ext-real number;
assume x in l;
then consider g1 being (UnOp of E) such that A2: x = ||. ( ( g1 . z ) - z ) .|| and A3: g1 in W(E,a,b) by A1;
consider g being (UnOp of E) such that A4: g1 = g and g is  bijective and A5: g is  isometric and A6: ( g . a ) = a and ( g . b ) = b by A3;
A7: ||. ( ( g . z ) - a ) .|| = ||. ( z - a ) .|| by A5,A6,CKB20:def 1
.= ||. ( a - z ) .|| by NORMSP_1:7;
||. ( ( g . z ) - z ) .|| <= ( ||. ( ( g . z ) - a ) .|| + ||. ( a - z ) .|| ) by NORMSP_1:10;
hence thesis by A2,A4,A7;
end;

end;
Lm5:now
deffunc W(RealNormSpace,(Point of $1),(Point of $1)) = { g where g is (UnOp of $1): ((g is  bijective  isometric & ( g . $2 ) = $2) & ( g . $3 ) = $3) };
let E;
let a;
let b;
let h being (UnOp of E);
assume that
A1: h in W(E,a,b);
set z = ( ( 1 / 2 ) * ( a + b ) );
set R = ( z -reflection );
set gs = ( ( ( R * ( h /" ) ) * R ) * h );
consider g being (UnOp of E) such that A2: g = h and A3: g is  bijective and A4: g is  isometric and A5: ( g . a ) = a and A6: ( g . b ) = b by A1;
A7: ( g /" ) = ( (g qua Function) " ) by A3,TOPS_2:def 4;
then A8: ( g /" ) is  bijective by A3,GROUP_6:63;
A9: ( 2 * z ) = ( ( 2 * ( 1 / 2 ) ) * ( a + b ) ) by RLVECT_1:def 7
.= ( a + b ) by RLVECT_1:def 8;
then A10: ( ( 2 * z ) - a ) = b by CKB7:1;
A11: ( ( 2 * z ) - b ) = a by A9,CKB7:1;
A12: ( dom g ) = ( [#] E ) by FUNCT_2:def 1;
A13: ( ( g /" ) . b ) = b by A7,A6,A3,A12,FUNCT_1:32;
A14: ( ( g /" ) . a ) = a by A7,A5,A3,A12,FUNCT_1:32;
A15: ( gs . a ) = ( ( ( R * ( g /" ) ) * R ) . a ) by A5,A2,FUNCT_2:15
.= ( ( R * ( g /" ) ) . ( R . a ) ) by FUNCT_2:15
.= ( ( R * ( g /" ) ) . b ) by A10,CKB38:def 1
.= ( R . ( ( g /" ) . b ) ) by FUNCT_2:15
.= ( ( 2 * z ) - b ) by A13,CKB38:def 1
.= a by A9,CKB7:1;
( gs . b ) = ( ( ( R * ( g /" ) ) * R ) . b ) by A6,A2,FUNCT_2:15
.= ( ( R * ( g /" ) ) . ( R . b ) ) by FUNCT_2:15
.= ( ( R * ( g /" ) ) . a ) by A11,CKB38:def 1
.= ( R . ( ( g /" ) . a ) ) by FUNCT_2:15
.= ( ( 2 * z ) - a ) by A14,CKB38:def 1
.= b by A9,CKB7:1;
hence gs in W(E,a,b) by A2,A3,A4,A8,A15;
end;
Lm6:now
deffunc W(RealNormSpace,(Point of $1),(Point of $1)) = { g where g is (UnOp of $1): ((g is  bijective  isometric & ( g . $2 ) = $2) & ( g . $3 ) = $3) };
deffunc l(RealNormSpace,(Point of $1),(Point of $1)) = { ||. ( ( g . ( ( 1 / 2 ) * ( $2 + $3 ) ) ) - ( ( 1 / 2 ) * ( $2 + $3 ) ) ) .|| where g is (UnOp of $1): g in W($1,$2,$3) };
let E;
let a;
let b;
let l being non empty  bounded_above (Subset of ( REAL ));
assume that
A1: l = l(E,a,b);
thus ( sup l ) is (UpperBound of ( 2 ** l ))
proof
set z = ( ( 1 / 2 ) * ( a + b ) );
set R = ( z -reflection );
let x being  ext-real number;
assume x in ( 2 ** l );
then consider w being (Element of ( ExtREAL )) such that A2: x = ( 2 * w ) and A3: w in l by MEMBER_1:188;
consider h being (UnOp of E) such that A4: w = ||. ( ( h . z ) - z ) .|| and A5: h in W(E,a,b) by A3,A1;
consider g being (UnOp of E) such that A6: g = h and A7: g is  bijective and A8: g is  isometric and (( g . a ) = a & ( g . b ) = b) by A5;
A9: ( R * ( ( g /" ) * ( R * g ) ) ) = ( ( R * ( g /" ) ) * ( R * g ) ) by RELAT_1:36
.= ( ( ( R * ( g /" ) ) * R ) * g ) by RELAT_1:36;
A10: ( R . ( ( g /" ) . ( R . ( g . z ) ) ) ) = ( R . ( ( g /" ) . ( ( R * g ) . z ) ) ) by FUNCT_2:15
.= ( R . ( ( ( g /" ) * ( R * g ) ) . z ) ) by FUNCT_2:15
.= ( ( R * ( ( g /" ) * ( R * g ) ) ) . z ) by FUNCT_2:15;
A11: ( g /" ) = ( (g qua Function) " ) by A7,TOPS_2:def 4;
( ( ( R * ( g /" ) ) * R ) * g ) in W(E,a,b) by A5,A6,Lm5;
then A12: ||. ( ( ( ( ( R * ( g /" ) ) * R ) * g ) . z ) - z ) .|| in l by A1;
reconsider d = 2 as R_eal by XXREAL_0:def 1;
||. ( ( g . z ) - z ) .|| in ( ExtREAL ) by XXREAL_0:def 1;
then A13: ( d * ||. ( ( g . z ) - z ) .|| ) = ( 2 * ||. ( ( g . z ) - z ) .|| ) by EXTREAL1:1;
A14: ( ( g /" ) . ( g . z ) ) = z by A7,A11,FUNCT_2:26;
( 2 * ||. ( ( g . z ) - z ) .|| ) = ||. ( ( R . ( g . z ) ) - ( g . z ) ) .|| by CKB45:1
.= ||. ( ( ( g /" ) . ( R . ( g . z ) ) ) - ( ( g /" ) . ( g . z ) ) ) .|| by A7,A8,CKB20:def 1
.= ||. ( ( R . ( ( g /" ) . ( R . ( g . z ) ) ) ) - z ) .|| by A14,CKB43:1;
hence x <= ( sup l ) by A2,A4,A9,A10,A12,A6,A13,XXREAL_2:4;
end;

end;
Lm7:now
deffunc W(RealNormSpace,(Point of $1),(Point of $1)) = { g where g is (UnOp of $1): ((g is  bijective  isometric & ( g . $2 ) = $2) & ( g . $3 ) = $3) };
deffunc l(RealNormSpace,(Point of $1),(Point of $1)) = { ||. ( ( g . ( ( 1 / 2 ) * ( $2 + $3 ) ) ) - ( ( 1 / 2 ) * ( $2 + $3 ) ) ) .|| where g is (UnOp of $1): g in W($1,$2,$3) };
let E;
let a;
let b;
let l being  real-membered set;
assume that
A1: l = l(E,a,b);
let g being (UnOp of E);
assume that
A2: g in W(E,a,b);
set z = ( ( 1 / 2 ) * ( a + b ) );
set R = ( z -reflection );
A3: l c= ( REAL )
proof
let x being set;
assume x in l;
then (ex g being (UnOp of E) st (x = ||. ( ( g . z ) - z ) .|| & g in W(E,a,b))) by A1;
hence thesis;
end;
(( ( id E ) . a ) = a & ( ( id E ) . b ) = b) by FUNCT_1:18;
then ( id E ) in W(E,a,b);
then A4: ||. ( ( ( id E ) . z ) - z ) .|| in l by A1;
( 2 * ||. ( a - z ) .|| ) is (UpperBound of l) by A1,Lm4;
then reconsider A = l as non empty  bounded_above (Subset of ( REAL )) by A3,A4,XXREAL_2:def 10;
set lambda = ( sup A );
reconsider d = 2 as R_eal by XXREAL_0:def 1;
A5: ( d * ( sup A ) ) = ( sup ( 2 ** A ) ) by URYSOHN2:18;
A6: ||. ( ( g . z ) - z ) .|| in A by A1,A2;
A7: ( d * ( sup A ) ) = ( 2 * lambda ) by XXREAL_3:def 5;
lambda is (UpperBound of ( 2 ** A )) by A1,Lm6;
then ( sup ( 2 ** A ) ) <= lambda by XXREAL_2:def 3;
then ( ( 2 * lambda ) - lambda ) <= ( lambda - lambda ) by A7,A5,XREAL_1:9;
then ||. ( ( g . z ) - z ) .|| = ( 0 ) by A6,XXREAL_2:4;
hence ( g . z ) = z by NORMSP_1:6;
end;
registration
let E;
let F;
cluster  bijective  isometric ->  midpoints-preserving for (Function of E,F);
coherence
proof
deffunc W(RealNormSpace,(Point of $1),(Point of $1)) = { g where g is (UnOp of $1): ((g is  bijective  isometric & ( g . $2 ) = $2) & ( g . $3 ) = $3) };
deffunc l(RealNormSpace,(Point of $1),(Point of $1)) = { ||. ( ( g . ( ( 1 / 2 ) * ( $2 + $3 ) ) ) - ( ( 1 / 2 ) * ( $2 + $3 ) ) ) .|| where g is (UnOp of $1): g in W($1,$2,$3) };
let f being (Function of E,F);
assume that
A1: f is  bijective
and
A2: f is  isometric;
let a being (Point of E),b being (Point of E);
set W = W(E,a,b);
set l = l(E,a,b);
set z = ( ( 1 / 2 ) * ( a + b ) );
set z1 = ( ( 1 / 2 ) * ( ( f . a ) + ( f . b ) ) );
set R = ( z -reflection );
set R1 = ( z1 -reflection );
set h = ( ( ( R * ( f /" ) ) * R1 ) * f );
now
let x being set;
assume x in l;
then (ex g being (UnOp of E) st (x = ||. ( ( g . z ) - z ) .|| & g in W(E,a,b)));
hence x is  real;
end;
then reconsider l as  real-membered set by MEMBERED:def 3;
A3: ( rng f ) = ( [#] F ) by A1,FUNCT_2:def 3;
A4: ( f /" ) = ( (f qua Function) " ) by A1,TOPS_2:def 4;
then A5: ( f /" ) is  bijective by A1,GROUP_6:63;
( R * ( f /" ) ) is  onto by A5,FUNCT_2:27;
then ( ( R * ( f /" ) ) * R1 ) is  onto by FUNCT_2:27;
then A6: h is  onto by A1,FUNCT_2:27;
( f /" ) is  isometric by A1,A2,CKB28:1;
then ( R * ( f /" ) ) is  isometric by CKB26:1;
then ( ( R * ( f /" ) ) * R1 ) is  isometric by CKB26:1;
then A7: h is  isometric by A2,CKB26:1;
A8: ( 2 * z ) = ( ( 2 * ( 1 / 2 ) ) * ( a + b ) ) by RLVECT_1:def 7
.= ( a + b ) by RLVECT_1:def 8;
then A9: ( ( 2 * z ) - a ) = b by CKB7:1;
A10: ( ( 2 * z ) - b ) = a by A8,CKB7:1;
A11: ( 2 * z1 ) = ( ( 2 * ( 1 / 2 ) ) * ( ( f . a ) + ( f . b ) ) ) by RLVECT_1:def 7
.= ( ( f . a ) + ( f . b ) ) by RLVECT_1:def 8;
then A12: ( ( 2 * z1 ) - ( f . a ) ) = ( f . b ) by CKB7:1;
A13: ( ( 2 * z1 ) - ( f . b ) ) = ( f . a ) by A11,CKB7:1;
A14: ( h . a ) = ( ( ( R * ( f /" ) ) * R1 ) . ( f . a ) ) by FUNCT_2:15
.= ( ( R * ( f /" ) ) . ( R1 . ( f . a ) ) ) by FUNCT_2:15
.= ( ( R * ( f /" ) ) . ( f . b ) ) by A12,CKB38:def 1
.= ( R . ( ( f /" ) . ( f . b ) ) ) by FUNCT_2:15
.= ( R . b ) by A4,A1,FUNCT_2:26
.= a by A10,CKB38:def 1;
( h . b ) = ( ( ( R * ( f /" ) ) * R1 ) . ( f . b ) ) by FUNCT_2:15
.= ( ( R * ( f /" ) ) . ( R1 . ( f . b ) ) ) by FUNCT_2:15
.= ( ( R * ( f /" ) ) . ( f . a ) ) by A13,CKB38:def 1
.= ( R . ( ( f /" ) . ( f . a ) ) ) by FUNCT_2:15
.= ( R . a ) by A4,A1,FUNCT_2:26
.= b by A9,CKB38:def 1;
then A15: h in W by A4,A1,A6,A7,A14;
( rng R ) = ( [#] E ) by FUNCT_2:def 3;
then A16: ( ( R /" ) * R ) = ( id ( dom R ) ) by TOPS_2:52
.= ( id E ) by FUNCT_2:def 1;
A17: ( f * ( f /" ) ) = ( id F ) by A1,A3,TOPS_2:52;
A18: ( ( R /" ) * h ) = ( ( R /" ) * ( ( R * ( f /" ) ) * ( R1 * f ) ) ) by RELAT_1:36
.= ( ( R /" ) * ( R * ( ( f /" ) * ( R1 * f ) ) ) ) by RELAT_1:36
.= ( ( ( R /" ) * R ) * ( ( f /" ) * ( R1 * f ) ) ) by RELAT_1:36
.= ( ( ( ( R /" ) * R ) * ( f /" ) ) * ( R1 * f ) ) by RELAT_1:36
.= ( ( ( ( ( R /" ) * R ) * ( f /" ) ) * R1 ) * f ) by RELAT_1:36
.= ( ( ( f /" ) * R1 ) * f ) by A16,FUNCT_2:17;
A19: ( f * ( ( ( f /" ) * R1 ) * f ) ) = ( f * ( ( f /" ) * ( R1 * f ) ) ) by RELAT_1:36
.= ( ( f * ( f /" ) ) * ( R1 * f ) ) by RELAT_1:36
.= ( R1 * f ) by A17,FUNCT_2:17;
l = l(E,a,b);
then ( h . z ) = z by A15,Lm7;
then ( ( ( R /" ) * h ) . z ) = ( ( R /" ) . z ) by FUNCT_2:15;
then A20: ( ( f * ( ( ( f /" ) * R1 ) * f ) ) . z ) = ( f . ( ( R /" ) . z ) ) by A18,FUNCT_2:15
.= ( ( f * ( R /" ) ) . z ) by FUNCT_2:15;
( R1 . ( f . z ) ) = ( ( R1 * f ) . z ) by FUNCT_2:15
.= ( ( f * R ) . z ) by A20,A19,CKB46:1
.= ( f . ( R . z ) ) by FUNCT_2:15
.= ( f . z ) by CKB41:1;
hence thesis by CKB41:1;
end;
end;
