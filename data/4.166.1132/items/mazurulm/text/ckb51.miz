environ
vocabularies FUNCT_1,NORMSP_1,VECTMETR,PRE_TOPC,ARYTM_1,RUSUB_4,XREAL_0,ORDINAL1,CARD_1,XXREAL_0,RELAT_1,ARYTM_3,FUNCT_2,SEQ_2,MEMBERED,ORDINAL2,MAZURULM,BINOP_1,VALUED_1,SUPINF_2,COMPLEX1,SUBSET_1,XXREAL_2,XBOOLE_0,NUMBERS,MEMBER_1,SUPINF_1,TARSKI,RLVECT_1,CFCONT_1,NAT_1,PARTFUN1,REAL_1,NEWTON,TOPMETR,BORSUK_1,TOPS_1,XXREAL_1,URYSOHN1,METRIC_1,STRUCT_0,SEQ_1,FUNCOP_1,RCOMP_1,CKB2;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,FUNCT_1,RELSET_1,PARTFUN1,FUNCT_2,FUNCOP_1,NUMBERS,XXREAL_0,XXREAL_1,XXREAL_3,XREAL_0,REAL_1,XXREAL_2,MEMBERED,VALUED_1,SEQ_1,SEQ_2,COMPLEX1,MEMBER_1,SUPINF_1,NEWTON,BINOP_2,MEASURE6,STRUCT_0,PRE_TOPC,TOPS_1,TOPS_2,BORSUK_1,METRIC_1,TOPMETR,ALGSTR_0,RLVECT_1,NORMSP_0,NORMSP_1,NDIFF_1,NFCONT_1,CONNSP_3,URYSOHN1,CKB2,CKB20,CKB21,CKB22,CKB38;
definitions TARSKI,XBOOLE_0,FUNCT_2,XXREAL_2,XCMPLX_0,STRUCT_0,RLVECT_1,NORMSP_1,METRIC_1,TOPS_1,CONNSP_3,CKB2,CKB20,CKB21,CKB22,CKB38;
theorems FUNCT_2,RLVECT_1,FUNCT_1,NORMSP_1,COMPLEX1,TOPS_2,RELAT_1,XXREAL_2,XREAL_1,XXREAL_0,MEMBERED,URYSOHN2,MEMBER_1,EXTREAL1,GROUP_6,PENCIL_2,XXREAL_3,XREAL_0,INTEGRA2,VECTSP_1,NDIFF_1,NFCONT_1,XCMPLX_1,NEWTON,BORSUK_1,XBOOLE_0,CONNSP_3,TOPMETR,GOBOARD6,FRECHET,XXREAL_1,TOPREAL6,MEASURE6,SEQ_2,FUNCOP_1,VALUED_1,URYSOHN1,SEQ_4,TREAL_1,TOPS_3,NAT_1,INT_1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB12,CKB13,CKB14,CKB16,CKB17,CKB18,CKB20,CKB21,CKB22,CKB26,CKB28,CKB30,CKB32,CKB34,CKB36,CKB38,CKB39,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB48,CKB49;
schemes FUNCT_2,NAT_1;
registrations RELSET_1,XREAL_0,ORDINAL1,STRUCT_0,MEMBERED,FUNCT_1,FUNCT_2,XBOOLE_0,NORMSP_1,FUNCTOR1,NUMBERS,SEQ_4,SPRECT_1,XXREAL_2,MEMBER_1,XXREAL_0,RLVECT_1,TOPS_1,TOPMETR,METRIC_1,XXREAL_1,VALUED_1,VALUED_0,FUNCOP_1,BORSUK_1,INT_1,NEWTON,CKB1,CKB8,CKB9,CKB10,CKB11,CKB15,CKB19,CKB23,CKB24,CKB25,CKB27,CKB29,CKB31,CKB33,CKB35,CKB37,CKB40,CKB47,CKB50;
constructors TOPS_2,REAL_1,SUPINF_2,INTEGRA2,EXTREAL1,BINOP_2,NFCONT_1,NEWTON,CONNSP_3,URYSOHN1,TOPS_1,TOPMETR,PCOMPS_1,MEASURE6,NDIFF_1,SEQ_1,CKB2,CKB20,CKB21,CKB22,CKB38;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve E for RealNormSpace;
reserve F for RealNormSpace;
reserve f for (Function of E,F);
reserve a for (Point of E);
reserve b for (Point of E);
reserve t for  real number;
Lm9:now
let E;
let F;
let f;
let a;
let b;
let n being  natural number,j being  natural number;
set m = ( 2 |^ ( n + 1 ) );
set k = ( 2 |^ n );
set x = ( k - j );
assume A1: f is  midpoints-preserving;
assume j <= k;
then x in ( NAT ) by INT_1:5;
then reconsider x as  natural number;
take x;
thus x = ( k - j );
set z = ( ( 1 - ( j / m ) ) - ( 1 / 2 ) );
A2: k <> ( 0 ) by NEWTON:83;
A3: ( 2 * k ) = m by NEWTON:6;
A4: ( ( 1 / 2 ) * ( 1 / k ) ) = ( 1 / ( 2 * k ) ) by XCMPLX_1:102;
( x / m ) = ( ( ( 1 * k ) / m ) - ( j / m ) )
.= ( ( 1 / 2 ) - ( j / m ) ) by A2,A3,XCMPLX_1:91
.= z;
then A5: ( ( z * a ) + ( ( j / m ) * b ) ) = ( ( ( 1 / m ) * ( x * a ) ) + ( ( ( 1 / m ) * j ) * b ) ) by RLVECT_1:def 7
.= ( ( ( 1 / m ) * ( x * a ) ) + ( ( 1 / m ) * ( j * b ) ) ) by RLVECT_1:def 7
.= ( ( 1 / m ) * ( ( x * a ) + ( j * b ) ) ) by RLVECT_1:def 5
.= ( ( 1 / 2 ) * ( ( 1 / k ) * ( ( x * a ) + ( j * b ) ) ) ) by A4,A3,RLVECT_1:def 7;
( a + ( ( j / m ) * ( b - a ) ) ) = ( a + ( ( ( j / m ) * b ) - ( ( j / m ) * a ) ) ) by RLVECT_1:34
.= ( ( a + ( ( j / m ) * b ) ) - ( ( j / m ) * a ) ) by RLVECT_1:def 3
.= ( ( a - ( ( j / m ) * a ) ) + ( ( j / m ) * b ) ) by RLVECT_1:def 3
.= ( ( ( 1 * a ) - ( ( j / m ) * a ) ) + ( ( j / m ) * b ) ) by RLVECT_1:def 8
.= ( ( ( 1 - ( j / m ) ) * a ) + ( ( j / m ) * b ) ) by RLVECT_1:35
.= ( ( ( ( ( 1 - ( j / m ) ) * a ) + ( z * a ) ) - ( z * a ) ) + ( ( j / m ) * b ) ) by CKB7:1
.= ( ( ( ( ( 1 - ( j / m ) ) * a ) - ( z * a ) ) + ( z * a ) ) + ( ( j / m ) * b ) ) by RLVECT_1:def 3
.= ( ( ( ( ( 1 - ( j / m ) ) - z ) * a ) + ( z * a ) ) + ( ( j / m ) * b ) ) by RLVECT_1:35
.= ( ( ( 1 / 2 ) * a ) + ( ( z * a ) + ( ( j / m ) * b ) ) ) by RLVECT_1:def 3
.= ( ( 1 / 2 ) * ( a + ( ( 1 / k ) * ( ( x * a ) + ( j * b ) ) ) ) ) by A5,RLVECT_1:def 5;
hence ( f . ( a + ( ( j / m ) * ( b - a ) ) ) ) = ( ( 1 / 2 ) * ( ( f . a ) + ( f . ( ( 1 / k ) * ( ( x * a ) + ( j * b ) ) ) ) ) ) by A1,CKB22:def 1;
end;
Lm10:now
let E;
let F;
let f;
let a;
let b;
let n being  natural number,j being  natural number;
set m = ( 2 |^ ( n + 1 ) );
set k = ( 2 |^ n );
set x = ( ( k + j ) - m );
assume A1: f is  midpoints-preserving;
A2: ( 2 * k ) = m by NEWTON:6;
assume j >= k;
then ( k + k ) <= ( k + j ) by XREAL_1:6;
then x in ( NAT ) by A2,INT_1:5;
then reconsider x as  natural number;
take x;
thus x = ( ( k + j ) - m );
set z = ( ( j / m ) - ( 1 / 2 ) );
A3: k <> ( 0 ) by NEWTON:83;
A4: m <> ( 0 ) by NEWTON:83;
A5: ( m / m ) = 1 by A4,XCMPLX_1:60;
then A6: ( 1 - ( j / m ) ) = ( ( 1 / m ) * ( m - j ) );
A7: ( k / m ) = ( ( 1 * k ) / ( 2 * k ) ) by NEWTON:6
.= ( 1 / 2 ) by A3,XCMPLX_1:91;
A8: ( ( 1 / 2 ) * ( 1 / k ) ) = ( 1 / ( 2 * k ) ) by XCMPLX_1:102;
( x / m ) = ( ( ( k + j ) / m ) - ( m / m ) )
.= z by A5,A7;
then A9: ( ( z * b ) + ( ( 1 - ( j / m ) ) * a ) ) = ( ( ( 1 / m ) * ( ( m - j ) * a ) ) + ( ( ( 1 / m ) * x ) * b ) ) by A6,RLVECT_1:def 7
.= ( ( ( 1 / m ) * ( ( m - j ) * a ) ) + ( ( 1 / m ) * ( x * b ) ) ) by RLVECT_1:def 7
.= ( ( 1 / m ) * ( ( ( m - j ) * a ) + ( x * b ) ) ) by RLVECT_1:def 5
.= ( ( 1 / 2 ) * ( ( 1 / k ) * ( ( ( m - j ) * a ) + ( x * b ) ) ) ) by A8,A2,RLVECT_1:def 7;
( a + ( ( j / m ) * ( b - a ) ) ) = ( a + ( ( ( j / m ) * b ) - ( ( j / m ) * a ) ) ) by RLVECT_1:34
.= ( ( a + ( ( j / m ) * b ) ) - ( ( j / m ) * a ) ) by RLVECT_1:def 3
.= ( ( a - ( ( j / m ) * a ) ) + ( ( j / m ) * b ) ) by RLVECT_1:def 3
.= ( ( ( 1 * a ) - ( ( j / m ) * a ) ) + ( ( j / m ) * b ) ) by RLVECT_1:def 8
.= ( ( ( 1 - ( j / m ) ) * a ) + ( ( j / m ) * b ) ) by RLVECT_1:35
.= ( ( ( ( ( j / m ) * b ) + ( z * b ) ) - ( z * b ) ) + ( ( 1 - ( j / m ) ) * a ) ) by CKB7:1
.= ( ( ( ( ( j / m ) * b ) - ( z * b ) ) + ( z * b ) ) + ( ( 1 - ( j / m ) ) * a ) ) by RLVECT_1:def 3
.= ( ( ( ( ( j / m ) - z ) * b ) + ( z * b ) ) + ( ( 1 - ( j / m ) ) * a ) ) by RLVECT_1:35
.= ( ( ( 1 / 2 ) * b ) + ( ( z * b ) + ( ( 1 - ( j / m ) ) * a ) ) ) by RLVECT_1:def 3
.= ( ( 1 / 2 ) * ( b + ( ( 1 / k ) * ( ( ( m - j ) * a ) + ( x * b ) ) ) ) ) by A9,RLVECT_1:def 5;
hence ( f . ( a + ( ( j / m ) * ( b - a ) ) ) ) = ( ( 1 / 2 ) * ( ( f . b ) + ( f . ( ( 1 / k ) * ( ( ( m - j ) * a ) + ( x * b ) ) ) ) ) ) by A1,CKB22:def 1;
end;
Lm11:now
let E;
let F;
let f;
let a;
let b;
let t being  natural number;
assume A1: f is  midpoints-preserving;
thus (for n being  natural number holds (t <= ( 2 |^ n ) implies ( f . ( ( ( 1 - ( t / ( 2 |^ n ) ) ) * a ) + ( ( t / ( 2 |^ n ) ) * b ) ) ) = ( ( ( 1 - ( t / ( 2 |^ n ) ) ) * ( f . a ) ) + ( ( t / ( 2 |^ n ) ) * ( f . b ) ) )))
proof
defpred P[  natural number ]
 means
(for w being  natural number holds (w <= ( 2 |^ $1 ) implies ( f . ( ( ( 1 - ( w / ( 2 |^ $1 ) ) ) * a ) + ( ( w / ( 2 |^ $1 ) ) * b ) ) ) = ( ( ( 1 - ( w / ( 2 |^ $1 ) ) ) * ( f . a ) ) + ( ( w / ( 2 |^ $1 ) ) * ( f . b ) ) )));
A2: P[ ( 0 ) ]
proof
let t being  natural number;
assume that
A3: t <= ( 2 |^ ( 0 ) );
A4: ( 2 |^ ( 0 ) ) = 1 by NEWTON:4;
per cases  by A3,A4,NAT_1:25;
suppose A5: t = 1;

then ( f . ( ( ( 1 - t ) * a ) + ( t * b ) ) ) = ( f . ( ( 0. E ) + ( t * b ) ) ) by RLVECT_1:10
.= ( f . ( t * b ) ) by RLVECT_1:4
.= ( f . b ) by A5,RLVECT_1:def 8
.= ( t * ( f . b ) ) by A5,RLVECT_1:def 8
.= ( ( 0. F ) + ( t * ( f . b ) ) ) by RLVECT_1:4
.= ( ( ( 1 - t ) * ( f . a ) ) + ( t * ( f . b ) ) ) by A5,RLVECT_1:10;
hence thesis by A4;
end;
suppose A6: t = ( 0 );

then ( f . ( ( ( 1 - t ) * a ) + ( t * b ) ) ) = ( f . ( ( 1 * a ) + ( 0. E ) ) ) by RLVECT_1:10
.= ( f . ( 1 * a ) ) by RLVECT_1:4
.= ( f . a ) by RLVECT_1:def 8
.= ( ( 1 - t ) * ( f . a ) ) by A6,RLVECT_1:def 8
.= ( ( ( 1 - t ) * ( f . a ) ) + ( 0. F ) ) by RLVECT_1:4
.= ( ( ( 1 - t ) * ( f . a ) ) + ( t * ( f . b ) ) ) by A6,RLVECT_1:10;
hence thesis by A4;
end;
end;
A7: (for n being  natural number holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
let n being  natural number;
set m = ( 2 |^ n );
set k = ( 2 |^ ( n + 1 ) );
assume A8: P[ n ];
let t being  natural number;
assume that
A9: t <= k;
A10: k = ( m * 2 ) by NEWTON:6;
A11: m <> ( 0 ) by NEWTON:83;
A12: ( ( 1 / 2 ) * ( t / m ) ) = ( ( 1 * t ) / ( 2 * m ) ) by XCMPLX_1:76
.= ( t / k ) by NEWTON:6;
per cases ;
suppose A13: t <= m;

then consider x being  natural number such that A14: x = ( m - t ) and A15: ( f . ( a + ( ( t / k ) * ( b - a ) ) ) ) = ( ( 1 / 2 ) * ( ( f . a ) + ( f . ( ( 1 / m ) * ( ( x * a ) + ( t * b ) ) ) ) ) ) by A1,Lm9;
A16: ( x / m ) = ( ( m / m ) - ( t / m ) ) by A14
.= ( 1 - ( t / m ) ) by A11,XCMPLX_1:60;
A17: ( ( 1 / m ) * ( ( x * a ) + ( t * b ) ) ) = ( ( ( 1 / m ) * ( x * a ) ) + ( ( 1 / m ) * ( t * b ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / m ) * ( x * a ) ) + ( ( t / m ) * b ) ) by RLVECT_1:def 7
.= ( ( ( x / m ) * a ) + ( ( t / m ) * b ) ) by RLVECT_1:def 7;
thus ( f . ( ( ( 1 - ( t / k ) ) * a ) + ( ( t / k ) * b ) ) ) = ( f . ( a + ( ( t / k ) * ( b - a ) ) ) ) by CKB49:1
.= ( ( ( 1 / 2 ) * ( f . a ) ) + ( ( 1 / 2 ) * ( f . ( ( 1 / m ) * ( ( x * a ) + ( t * b ) ) ) ) ) ) by A15,RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( f . a ) ) + ( ( 1 / 2 ) * ( ( ( 1 - ( t / m ) ) * ( f . a ) ) + ( ( t / m ) * ( f . b ) ) ) ) ) by A16,A13,A17,A8
.= ( ( ( 1 / 2 ) * ( f . a ) ) + ( ( ( 1 / 2 ) * ( ( 1 - ( t / m ) ) * ( f . a ) ) ) + ( ( 1 / 2 ) * ( ( t / m ) * ( f . b ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( ( 1 / 2 ) * ( f . a ) ) + ( ( 1 / 2 ) * ( ( 1 - ( t / m ) ) * ( f . a ) ) ) ) + ( ( 1 / 2 ) * ( ( t / m ) * ( f . b ) ) ) ) by RLVECT_1:def 3
.= ( ( ( ( 1 / 2 ) * ( f . a ) ) + ( ( ( 1 / 2 ) * ( 1 - ( t / m ) ) ) * ( f . a ) ) ) + ( ( 1 / 2 ) * ( ( t / m ) * ( f . b ) ) ) ) by RLVECT_1:def 7
.= ( ( ( ( 1 / 2 ) + ( ( 1 / 2 ) * ( 1 - ( t / m ) ) ) ) * ( f . a ) ) + ( ( 1 / 2 ) * ( ( t / m ) * ( f . b ) ) ) ) by RLVECT_1:def 6
.= ( ( ( 1 - ( t / k ) ) * ( f . a ) ) + ( ( t / k ) * ( f . b ) ) ) by A12,RLVECT_1:def 7;
end;
suppose t >= m;

then consider x being  natural number such that A18: x = ( ( m + t ) - k ) and A19: ( f . ( a + ( ( t / k ) * ( b - a ) ) ) ) = ( ( 1 / 2 ) * ( ( f . b ) + ( f . ( ( 1 / m ) * ( ( ( k - t ) * a ) + ( x * b ) ) ) ) ) ) by A1,Lm10;
set w = ( t - m );
A20: w <= ( ( 2 * m ) - m ) by A9,A10,XREAL_1:9;
A21: ( m / m ) = 1 by A11,XCMPLX_1:60;
A22: ( k / m ) = ( ( 2 * m ) / ( 1 * m ) ) by NEWTON:6
.= ( 2 / 1 ) by A11,XCMPLX_1:91;
A23: ( ( 1 / 2 ) * ( 1 - ( w / m ) ) ) = ( 1 - ( ( 1 / 2 ) * ( t / m ) ) ) by A21
.= ( 1 - ( ( 1 * t ) / ( 2 * m ) ) ) by XCMPLX_1:76
.= ( 1 - ( t / k ) ) by NEWTON:6;
thus ( f . ( ( ( 1 - ( t / k ) ) * a ) + ( ( t / k ) * b ) ) ) = ( f . ( a + ( ( t / k ) * ( b - a ) ) ) ) by CKB49:1
.= ( ( ( 1 / 2 ) * ( f . b ) ) + ( ( 1 / 2 ) * ( f . ( ( 1 / m ) * ( ( ( k - t ) * a ) + ( x * b ) ) ) ) ) ) by A19,RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( f . b ) ) + ( ( 1 / 2 ) * ( f . ( ( ( 1 / m ) * ( ( k - t ) * a ) ) + ( ( 1 / m ) * ( x * b ) ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( f . b ) ) + ( ( 1 / 2 ) * ( f . ( ( ( ( 1 / m ) * ( k - t ) ) * a ) + ( ( 1 / m ) * ( x * b ) ) ) ) ) ) by RLVECT_1:def 7
.= ( ( ( 1 / 2 ) * ( f . b ) ) + ( ( 1 / 2 ) * ( f . ( ( ( ( 1 / m ) * ( k - t ) ) * a ) + ( ( ( 1 / m ) * x ) * b ) ) ) ) ) by RLVECT_1:def 7
.= ( ( ( 1 / 2 ) * ( f . b ) ) + ( ( 1 / 2 ) * ( ( ( 1 - ( w / m ) ) * ( f . a ) ) + ( ( w / m ) * ( f . b ) ) ) ) ) by A20,A21,A22,A18,A10,A8
.= ( ( ( 1 / 2 ) * ( f . b ) ) + ( ( ( 1 / 2 ) * ( ( 1 - ( w / m ) ) * ( f . a ) ) ) + ( ( 1 / 2 ) * ( ( w / m ) * ( f . b ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( ( 1 - ( w / m ) ) * ( f . a ) ) ) + ( ( ( 1 / 2 ) * ( f . b ) ) + ( ( 1 / 2 ) * ( ( w / m ) * ( f . b ) ) ) ) ) by RLVECT_1:def 3
.= ( ( ( 1 / 2 ) * ( ( 1 - ( w / m ) ) * ( f . a ) ) ) + ( ( 1 / 2 ) * ( ( f . b ) + ( ( w / m ) * ( f . b ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( ( 1 - ( w / m ) ) * ( f . a ) ) ) + ( ( 1 / 2 ) * ( ( 1 * ( f . b ) ) + ( ( w / m ) * ( f . b ) ) ) ) ) by RLVECT_1:def 8
.= ( ( ( 1 / 2 ) * ( ( 1 - ( w / m ) ) * ( f . a ) ) ) + ( ( 1 / 2 ) * ( ( 1 + ( w / m ) ) * ( f . b ) ) ) ) by RLVECT_1:def 6
.= ( ( ( 1 / 2 ) * ( ( 1 - ( w / m ) ) * ( f . a ) ) ) + ( ( ( 1 / 2 ) * ( 1 + ( w / m ) ) ) * ( f . b ) ) ) by RLVECT_1:def 7
.= ( ( ( 1 - ( t / k ) ) * ( f . a ) ) + ( ( t / k ) * ( f . b ) ) ) by A23,RLVECT_1:def 7;
end;
end;
(for n being  natural number holds P[ n ]) from NAT_1:sch 2(A2,A7);
hence thesis;
end;

end;
registration
let E;
let F;
cluster  isometric  midpoints-preserving ->  Affine for (Function of E,F);
coherence
proof
let f;
assume that
A1: f is  isometric
and
A2: f is  midpoints-preserving;
let a;
let b;
let t;
assume (( 0 ) <= t & t <= 1);
then t in [. ( 0 ),1 .] by XXREAL_1:1;
then consider s being Real_Sequence such that A3: ( rng s ) c= ( DYADIC ) and A4: s is  convergent and A5: ( lim s ) = t by CKB5:1,MEASURE6:64;
A6: ( dom f ) = (the carrier of E) by FUNCT_2:def 1;
set stb = ( s * b );
set 1t = ( 1 + ( - s ) );
set s1ta = ( 1t * a );
set s1 = ( s1ta + stb );
set za = ( 1t * ( f . a ) );
set zb = ( s * ( f . b ) );
A7: f is_continuous_on ( dom f ) by A1,CKB48:1;
A8: ( - s ) is  convergent by A4,SEQ_2:9;
then A9: s1 is  convergent by A4,NORMSP_1:19;
A10: ( lim s1ta ) = ( ( lim 1t ) * a ) by A8,CKB18:1;
A11: ( lim ( - s ) ) = ( - ( lim s ) ) by A4,SEQ_2:10;
A12: ( lim 1t ) = ( 1 - t ) by A5,A11,A8,CKB14:1;
( lim stb ) = ( ( lim s ) * b ) by A4,CKB18:1;
then A13: ( lim s1 ) = ( ( ( 1 - t ) * a ) + ( t * b ) ) by A5,A10,A12,A8,A4,NORMSP_1:25;
A14: ( lim za ) = ( ( 1 - t ) * ( f . a ) ) by A8,A12,CKB18:1;
A15: ( lim zb ) = ( t * ( f . b ) ) by A4,A5,CKB18:1;
A16: ( f /* s1 ) = ( za + zb )
proof
let n being (Element of ( NAT ));
A17: ( 1t . n ) = ( 1 + ( ( - s ) . n ) ) by VALUED_1:2
.= ( 1 + ( - ( s . n ) ) ) by VALUED_1:8;
( dom s ) = ( NAT ) by FUNCT_2:def 1;
then ( s . n ) in ( rng s ) by FUNCT_1:3;
then consider m being (Element of ( NAT )) such that A18: ( s . n ) in ( dyadic m ) by A3,URYSOHN1:def 2;
A19: (ex i being (Element of ( NAT )) st (i <= ( 2 |^ m ) & ( s . n ) = ( i / ( 2 |^ m ) ))) by A18,URYSOHN1:def 1;
( rng s1 ) c= ( dom f ) by A6;
hence ( ( f /* s1 ) . n ) = ( f . ( s1 . n ) ) by FUNCT_2:108
.= ( f . ( ( s1ta . n ) + ( stb . n ) ) ) by NORMSP_1:def 2
.= ( f . ( ( ( 1 - ( s . n ) ) * a ) + ( stb . n ) ) ) by A17,NDIFF_1:def 3
.= ( f . ( ( ( 1 - ( s . n ) ) * a ) + ( ( s . n ) * b ) ) ) by NDIFF_1:def 3
.= ( ( ( 1 - ( s . n ) ) * ( f . a ) ) + ( ( s . n ) * ( f . b ) ) ) by A2,A19,Lm11
.= ( ( ( 1t . n ) * ( f . a ) ) + ( zb . n ) ) by A17,NDIFF_1:def 3
.= ( ( za . n ) + ( zb . n ) ) by NDIFF_1:def 3
.= ( ( za + zb ) . n ) by NORMSP_1:def 2;
end;
A20: ( rng s1 ) c= (the carrier of E);
thus ( f . ( ( ( 1 - t ) * a ) + ( t * b ) ) ) = ( f /. ( ( ( 1 - t ) * a ) + ( t * b ) ) )
.= ( lim ( f /* s1 ) ) by A6,A7,A20,A9,A13,NFCONT_1:18
.= ( ( ( 1 - t ) * ( f . a ) ) + ( t * ( f . b ) ) ) by A14,A15,A8,A4,A16,NORMSP_1:25;
end;
end;
