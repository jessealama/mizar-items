environ
vocabularies FUNCT_1,PARTFUN1,TARSKI,RELAT_1,SUBSET_1,CARD_1,XBOOLE_0,CARD_5,ORDINAL2,ORDERS_2,WELLORD1,STRUCT_0,WAYBEL_0,XXREAL_0,ZFMISC_1,SETFAM_1,ORDINAL1,CARD_2,FINSET_1,FUNCOP_1,FUNCT_4,NAT_1,ARYTM_3,NUMBERS,WELLFND1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,CARD_1,NUMBERS,RELAT_1,FUNCT_1,BINOP_1,SETFAM_1,DOMAIN_1,NAT_1,STRUCT_0,RELSET_1,PARTFUN1,FUNCT_2,FUNCT_4,FUNCOP_1,ORDINAL1,WELLORD1,ORDINAL2,FINSET_1,CARD_2,ORDERS_2,CARD_5,RFUNCT_3,WAYBEL_0,CKB7,CKB10,CKB12,CKB14;
definitions TARSKI,RELAT_1,FUNCT_1,WELLORD1,WAYBEL_0,XBOOLE_0,BINOP_1,FUNCOP_1,CKB7,CKB10,CKB12,CKB14;
theorems TARSKI,ENUMSET1,ZFMISC_1,RELAT_1,RELSET_1,FUNCT_1,ORDINAL1,WELLORD1,GRFUNC_1,PARTFUN1,FUNCT_2,ORDINAL2,FUNCOP_1,CARD_1,ORDERS_2,FUNCT_4,CARD_5,WAYBEL_0,XBOOLE_0,XBOOLE_1,REALSET1,BINOP_1,CARD_2,CKB1,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB12,CKB14,CKB16,CKB17,CKB18,CKB19;
schemes NAT_1,SUBSET_1,DOMAIN_1,FUNCT_7,BINOP_1,CKB2,CKB20;
registrations XBOOLE_0,SUBSET_1,ORDINAL1,RELSET_1,PARTFUN1,FUNCOP_1,CARD_1,REALSET1,CARD_5,STRUCT_0,WAYBEL_0,FUNCT_1,ZFMISC_1,CKB3,CKB4,CKB11,CKB13,CKB15;
constructors SETFAM_1,WELLORD1,BINOP_1,FUNCT_4,ORDINAL2,NAT_1,CARD_2,REALSET1,CARD_5,RFUNCT_3,WAYBEL_0,RELSET_1,CKB10,CKB12,CKB14;
requirements NUMERALS,SUBSET,BOOLE;
begin
theorem
Th11: (for R being non empty RelStr holds (R is  well_founded iff (for S being set holds ((for x being (Element of R) holds (( (the InternalRel of R) -Seg x ) c= S implies x in S)) implies (the carrier of R) c= S))))
proof
let R being non empty RelStr;
set c = (the carrier of R);
set r = (the InternalRel of R);
hereby
assume A1: R is  well_founded;
let S being set;
assume that
A2: (for x being (Element of c) holds (( r -Seg x ) c= S implies x in S));
defpred P[ set ]
 means
($1 in c & (not $1 in S));
assume (not c c= S);
then consider x being set such that A3: x in c and A4: (not x in S) by TARSKI:def 3;
reconsider x as (Element of R) by A3;
A5: P[ x ] by A4;
consider x0 being (Element of R) such that A6: P[ x0 ] and A7: (not (ex y being (Element of R) st ((x0 <> y & P[ y ]) & [ y,x0 ] in r))) from CKB20:sch 1(A5,A1);
now
assume (not ( r -Seg x0 ) c= S);
then consider z being set such that A8: z in ( r -Seg x0 ) and A9: (not z in S) by TARSKI:def 3;
A10: x0 <> z by A8,WELLORD1:1;
A11: [ z,x0 ] in r by A8,WELLORD1:1;
then reconsider z as (Element of R) by ZFMISC_1:87;
z = z;
hence contradiction by A7,A9,A10,A11;
end;
hence contradiction by A2,A6;
end;
assume A12: (for S being set holds ((for x being (Element of c) holds (( r -Seg x ) c= S implies x in S)) implies c c= S));
assume (not R is  well_founded);
then (not r is_well_founded_in c) by CKB10:def 1;
then consider Y being set such that A13: (Y c= c & Y <> ( {} )) and A14: (not (ex a being set st (a in Y & ( r -Seg a ) misses Y))) by WELLORD1:def 3;
now
let x being (Element of c);
assume that
A15: ( r -Seg x ) c= ( c \ Y );
assume (not x in ( c \ Y ));
then x in Y by XBOOLE_0:def 5;
then ( r -Seg x ) meets Y by A14;
then (ex z being set st (z in ( r -Seg x ) & z in Y)) by XBOOLE_0:3;
hence contradiction by A15,XBOOLE_0:def 5;
end;
then c c= ( c \ Y ) by A12;
hence contradiction by A13,XBOOLE_1:1,XBOOLE_1:38;
end;
