environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,FINSEQ_1,ARYTM_1,ARYTM_3,XXREAL_0,CARD_1,NAT_1,PRE_POLY,FUNCT_1,RELAT_1,TARSKI,CLASSES1,FUNCT_2,CARD_3,FINSEQ_2,PBOOLE,GRAPH_2,VALUED_0,FINSUB_1,FINSET_1,RELAT_2,ORDERS_2,WAYBEL_4,STRUCT_0,WELLFND1,WELLORD1,ORDERS_1,ORDINAL1,WELLORD2,ORDINAL4,REAL_1,FUNCOP_1,FUNCT_4,PARTFUN1,DICKSON,RLVECT_2,ZFMISC_1,MCART_1,BAGORDER;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,XCMPLX_0,RELAT_1,PBOOLE,RELAT_2,RELSET_1,PARTFUN1,FINSET_1,FINSUB_1,ORDINAL1,FUNCT_7,MCART_1,WELLORD1,ORDERS_1,WELLFND1,CARD_1,NUMBERS,VALUED_0,XXREAL_0,REAL_1,FUNCT_1,SEQ_1,PRE_POLY,CARD_3,NAT_D,FINSEQ_1,RVSUM_1,WSIERP_1,FUNCOP_1,FUNCT_2,SEQ_4,DOMAIN_1,FINSEQOP,CLASSES1,RECDEF_1,NAT_1,STRUCT_0,WAYBEL_0,YELLOW_1,WAYBEL_4,PRALG_1,ORDERS_2,DICKSON,POLYNOM2,CKB6,CKB10,CKB15,CKB19,CKB30,CKB31,CKB32,CKB37,CKB41,CKB43,CKB44,CKB51,CKB53;
definitions TARSKI,RELAT_2,WELLFND1,FINSEQ_2,CKB6,CKB10,CKB15,CKB19,CKB32,CKB37,CKB41,CKB43,CKB44,CKB51,CKB53;
theorems WELLORD1,TARSKI,RELAT_2,RELSET_1,ZFMISC_1,ORDERS_2,NAT_1,FUNCT_1,AXIOMS,CARD_3,PBOOLE,YELLOW_1,PRALG_1,FUNCOP_1,PARTIT_2,WELLFND1,RELAT_1,DICKSON,FINSEQ_1,INTEGRA5,RVSUM_1,FINSEQ_2,CARD_1,WAYBEL_0,WAYBEL_4,ORDINAL1,FUNCT_2,CARD_2,MCART_1,FINSUB_1,ORDERS_1,FUNCT_7,WELLORD2,FINSEQ_3,FINSEQ_5,FINSEQOP,RFINSEQ,XBOOLE_0,XBOOLE_1,PARTFUN1,XREAL_1,XXREAL_0,VALUED_0,VALUED_1,XXREAL_2,XREAL_0,NAT_D,CLASSES1,PRE_POLY,CKB1,CKB2,CKB4,CKB5,CKB6,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB32,CKB33,CKB36,CKB37,CKB38,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB47,CKB48,CKB50,CKB51,CKB52,CKB53,CKB54;
schemes NAT_1,RELSET_1,FINSET_1,RECDEF_1,FUNCT_2,ORDINAL1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FINSET_1,FINSUB_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,CARD_1,MEMBERED,FINSEQ_1,CARD_5,STRUCT_0,ORDERS_2,WAYBEL_0,YELLOW_1,DICKSON,VALUED_0,XXREAL_2,RELSET_1,PRE_POLY,CKB3,CKB7,CKB8,CKB11,CKB34,CKB35,CKB39,CKB46,CKB49;
constructors DOMAIN_1,FINSEQOP,NAT_D,WSIERP_1,PRALG_1,TRIANG_1,WAYBEL_4,WELLFND1,POLYNOM2,DICKSON,SEQ_1,RECDEF_1,BINOP_2,SEQ_4,CLASSES1,RELSET_1,FUNCT_7,REAL_1,CKB6,CKB10,CKB15,CKB19,CKB32,CKB37,CKB41,CKB43,CKB44,CKB51,CKB53;
requirements SUBSET,NUMERALS,REAL,BOOLE,ARITHM;
begin
theorem
Th34: (for n being Nat holds ( NaivelyOrderedBags n ) = ( product ( n --> ( OrderedNAT ) ) ))
proof
let n being Nat;
reconsider n0 = n as (Element of ( NAT )) by ORDINAL1:def 12;
set CNOB = (the carrier of ( NaivelyOrderedBags n ));
set IROB = (the InternalRel of ( NaivelyOrderedBags n ));
set CP = (the carrier of ( product ( n --> ( OrderedNAT ) ) ));
set IP = (the InternalRel of ( product ( n --> ( OrderedNAT ) ) ));
CNOB = ( Bags n ) by CKB53:def 1;
then A1: CNOB = CP by CKB54:1;
now
let a being set;
let b being set;
hereby
assume A2: [ a,b ] in IROB;
then A3: a in ( dom IROB ) by RELAT_1:6;
A4: b in ( rng IROB ) by A2,RELAT_1:6;
A5: a in CNOB by A3;
A6: b in CNOB by A4;
A7: a in ( Bags n ) by A5,CKB53:def 1;
A8: b in ( Bags n ) by A6,CKB53:def 1;
then reconsider a9 = a,b9 = b as (Element of CP) by A7,CKB54:1;
a9 in (the carrier of ( product ( n0 --> ( OrderedNAT ) ) ));
then A9: a9 in ( product ( Carrier ( n --> ( OrderedNAT ) ) ) ) by YELLOW_1:def 4;
now
set f = a9;
set g = b9;
A10: a9 is (bag of n) by A7;
A11: b is (bag of n) by A8;
reconsider f,g as Function by A7,A8;
take f;
take g;
thus (f = a9 & g = b9);
let i being set;
assume A12: i in n;
set R = ( ( n --> ( OrderedNAT ) ) . i );
A13: R = ( OrderedNAT ) by A12,FUNCOP_1:7;
reconsider R as RelStr by A12,FUNCOP_1:7;
take R;
set xi = ( f . i );
set yi = ( g . i );
( dom f ) = n by A10,PARTFUN1:def 2;
then A14: ( f . i ) in ( rng f ) by A12,FUNCT_1:3;
A15: ( rng f ) c= ( NAT ) by A10,VALUED_0:def 6;
( dom g ) = n by A11,PARTFUN1:def 2;
then A16: ( g . i ) in ( rng g ) by A12,FUNCT_1:3;
( rng g ) c= ( NAT ) by A11,VALUED_0:def 6;
then reconsider xi,yi as (Element of R) by A12,A14,A15,A16,DICKSON:def 15,FUNCOP_1:7;
take xi;
take yi;
thus ((R = ( ( n --> ( OrderedNAT ) ) . i ) & xi = ( f . i )) & yi = ( g . i ));
reconsider a99 = a9,b99 = b9 as (bag of n) by A7,A8;
a99 divides b99 by A2,CKB53:def 1;
then ( a99 . i ) <= ( b99 . i ) by PRE_POLY:def 11;
then [ xi,yi ] in ( NATOrd ) by DICKSON:def 14;
hence xi <= yi by A13,DICKSON:def 15,ORDERS_2:def 5;
end;
then a9 <= b9 by A9,YELLOW_1:def 4;
hence [ a,b ] in IP by ORDERS_2:def 5;
end;
assume A17: [ a,b ] in IP;
then A18: a in ( dom IP ) by RELAT_1:6;
A19: b in ( rng IP ) by A17,RELAT_1:6;
A20: a in CP by A18;
A21: b in CP by A19;
A22: a in ( Bags n ) by A20,CKB54:1;
b in ( Bags n ) by A21,CKB54:1;
then reconsider a9 = a,b9 = b as (bag of n) by A22;
reconsider a2 = a9,b2 = b9 as (Element of CP) by A18,A19;
a2 in (the carrier of ( product ( n0 --> ( OrderedNAT ) ) ));
then A23: a2 in ( product ( Carrier ( n --> ( OrderedNAT ) ) ) ) by YELLOW_1:def 4;
a2 <= b2 by A17,ORDERS_2:def 5;
then consider f,g being Function such that A24: f = a2 and A25: g = b2 and A26: (for i being set holds (i in n implies (ex R being RelStr st (ex xi,yi being (Element of R) st (((R = ( ( n --> ( OrderedNAT ) ) . i ) & xi = ( f . i )) & yi = ( g . i )) & xi <= yi))))) by A23,YELLOW_1:def 4;
now
let k being set;
assume that
A27: k in n;
consider R being RelStr,xi,yi being (Element of R) such that A28: R = ( ( n --> ( OrderedNAT ) ) . k ) and A29: xi = ( f . k ) and A30: yi = ( g . k ) and A31: xi <= yi by A26,A27;
R = ( OrderedNAT ) by A27,A28,FUNCOP_1:7;
then [ xi,yi ] in ( NATOrd ) by A31,DICKSON:def 15,ORDERS_2:def 5;
then consider xii,yii being (Element of ( NAT )) such that A32: [ xii,yii ] = [ xi,yi ] and A33: xii <= yii by DICKSON:def 14;
xii = xi by A32,ZFMISC_1:27;
hence ( a9 . k ) <= ( b9 . k ) by A24,A25,A29,A30,A32,A33,ZFMISC_1:27;
end;
then a9 divides b9 by PRE_POLY:46;
hence [ a,b ] in IROB by CKB53:def 1;
end;
hence thesis by A1,RELAT_1:def 2;
end;
