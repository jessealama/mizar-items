environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,FINSEQ_1,ARYTM_1,ARYTM_3,XXREAL_0,CARD_1,NAT_1,PRE_POLY,FUNCT_1,RELAT_1,TARSKI,CLASSES1,FUNCT_2,CARD_3,FINSEQ_2,PBOOLE,GRAPH_2,VALUED_0,FINSUB_1,FINSET_1,RELAT_2,ORDERS_2,WAYBEL_4,STRUCT_0,WELLFND1,WELLORD1,ORDERS_1,ORDINAL1,WELLORD2,ORDINAL4,REAL_1,FUNCOP_1,FUNCT_4,PARTFUN1,DICKSON,RLVECT_2,ZFMISC_1,MCART_1,BAGORDER;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,XCMPLX_0,RELAT_1,PBOOLE,RELAT_2,RELSET_1,PARTFUN1,FINSET_1,FINSUB_1,ORDINAL1,FUNCT_7,MCART_1,WELLORD1,ORDERS_1,WELLFND1,CARD_1,NUMBERS,VALUED_0,XXREAL_0,REAL_1,FUNCT_1,SEQ_1,PRE_POLY,CARD_3,NAT_D,FINSEQ_1,RVSUM_1,WSIERP_1,FUNCOP_1,FUNCT_2,SEQ_4,DOMAIN_1,FINSEQOP,CLASSES1,RECDEF_1,NAT_1,STRUCT_0,WAYBEL_0,YELLOW_1,WAYBEL_4,PRALG_1,ORDERS_2,DICKSON,POLYNOM2,CKB6,CKB10,CKB15,CKB19,CKB30,CKB31,CKB32,CKB37,CKB41,CKB43,CKB44;
definitions TARSKI,RELAT_2,WELLFND1,FINSEQ_2,CKB6,CKB10,CKB15,CKB19,CKB32,CKB37,CKB41,CKB43,CKB44;
theorems WELLORD1,TARSKI,RELAT_2,RELSET_1,ZFMISC_1,ORDERS_2,NAT_1,FUNCT_1,AXIOMS,CARD_3,PBOOLE,YELLOW_1,PRALG_1,FUNCOP_1,PARTIT_2,WELLFND1,RELAT_1,DICKSON,FINSEQ_1,INTEGRA5,RVSUM_1,FINSEQ_2,CARD_1,WAYBEL_0,WAYBEL_4,ORDINAL1,FUNCT_2,CARD_2,MCART_1,FINSUB_1,ORDERS_1,FUNCT_7,WELLORD2,FINSEQ_3,FINSEQ_5,FINSEQOP,RFINSEQ,XBOOLE_0,XBOOLE_1,PARTFUN1,XREAL_1,XXREAL_0,VALUED_0,VALUED_1,XXREAL_2,XREAL_0,NAT_D,CLASSES1,PRE_POLY,CKB1,CKB2,CKB4,CKB5,CKB6,CKB9,CKB10,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB32,CKB33,CKB36,CKB37,CKB38,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB47,CKB48;
schemes NAT_1,RELSET_1,FINSET_1,RECDEF_1,FUNCT_2,ORDINAL1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FINSET_1,FINSUB_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,CARD_1,MEMBERED,FINSEQ_1,CARD_5,STRUCT_0,ORDERS_2,WAYBEL_0,YELLOW_1,DICKSON,VALUED_0,XXREAL_2,RELSET_1,PRE_POLY,CKB3,CKB7,CKB8,CKB11,CKB34,CKB35,CKB39,CKB46,CKB49;
constructors DOMAIN_1,FINSEQOP,NAT_D,WSIERP_1,PRALG_1,TRIANG_1,WAYBEL_4,WELLFND1,POLYNOM2,DICKSON,SEQ_1,RECDEF_1,BINOP_2,SEQ_4,CLASSES1,RELSET_1,FUNCT_7,REAL_1,CKB6,CKB10,CKB15,CKB19,CKB32,CKB37,CKB41,CKB43,CKB44;
requirements SUBSET,NUMERALS,REAL,BOOLE,ARITHM;
begin
theorem
(for o being Ordinal holds ( GrInvLexOrder o ) is  well-ordering)
proof
let o being Ordinal;
set gilo = ( GrInvLexOrder o );
set ilo = ( InvLexOrder o );
A1: gilo is_strongly_connected_in ( Bags o ) by CKB32:def 1;
A2: ( field gilo ) = ( Bags o ) by ORDERS_1:12;
then A3: gilo is_reflexive_in ( Bags o ) by RELAT_2:def 9;
A4: gilo is_transitive_in ( Bags o ) by A2,RELAT_2:def 16;
A5: gilo is_antisymmetric_in ( Bags o ) by A2,RELAT_2:def 12;
A6: gilo is_connected_in ( field gilo ) by A1,A2,ORDERS_1:7;
A7: (for a,b,c being (bag of o) holds ([ a,b ] in ilo implies [ ( a + c ),( b + c ) ] in ilo)) by CKB32:def 1;
now
let Y being set;
assume that
A8: Y c= ( field gilo )
and
A9: Y <> ( {} );
set TD = { ( TotDegree y ) where y is (Element of ( Bags o )): y in Y };
consider x being set such that A10: x in Y by A9,XBOOLE_0:def 1;
reconsider x as (Element of ( Bags o )) by A8,A10,ORDERS_1:12;
A11: ( TotDegree x ) in TD by A10;
TD c= ( NAT )
proof
let x being set;
assume x in TD;
then (ex y being (Element of ( Bags o )) st (x = ( TotDegree y ) & y in Y));
hence thesis by ORDINAL1:def 12;
end;
then reconsider TD as non  empty (Subset of ( NAT )) by A11;
set mTD = { y where y is (Element of ( Bags o )): (y in Y & ( TotDegree y ) = ( min TD )) };
A12: mTD c= ( field gilo )
proof
let x being set;
assume x in mTD;
then (ex y being (Element of ( Bags o )) st ((x = y & y in Y) & ( TotDegree y ) = ( min TD )));
hence thesis by A2;
end;
( min TD ) in TD by XXREAL_2:def 7;
then consider y being (Element of ( Bags o )) such that A13: ( TotDegree y ) = ( min TD ) and A14: y in Y;
A15: y in mTD by A13,A14;
A16: ( field ilo ) = ( Bags o ) by ORDERS_1:12;
ilo is  well-ordering by CKB40:1;
then ilo well_orders ( field ilo ) by WELLORD1:4;
then ilo is_well_founded_in ( field ilo ) by WELLORD1:def 5;
then consider a being set such that A17: a in mTD and A18: ( ilo -Seg a ) misses mTD by A2,A12,A15,A16,WELLORD1:def 3;
A19: ( ( ilo -Seg a ) /\ mTD ) = ( {} ) by A18,XBOOLE_0:def 7;
A20: (ex a9 being (Element of ( Bags o )) st ((a9 = a & a9 in Y) & ( TotDegree a9 ) = ( min TD ))) by A17;
take a;
thus a in Y by A20;
now
assume ( ( gilo -Seg a ) /\ Y ) <> ( {} );
then consider z being set such that A21: z in ( ( gilo -Seg a ) /\ Y ) by XBOOLE_0:def 1;
A22: z in ( gilo -Seg a ) by A21,XBOOLE_0:def 4;
A23: z in Y by A21,XBOOLE_0:def 4;
A24: z <> a by A22,WELLORD1:1;
A25: [ z,a ] in gilo by A22,WELLORD1:1;
reconsider a,z as (Element of ( Bags o )) by A8,A20,A23,ORDERS_1:12;
per cases  by XXREAL_0:1;
suppose A26: ( TotDegree z ) < ( TotDegree a );

( TotDegree z ) in TD by A23;
hence contradiction by A20,A26,XXREAL_2:def 7;
end;
suppose A27: ( TotDegree z ) = ( TotDegree a );

then [ z,a ] in ilo by A7,A25,CKB41:def 1;
then A28: z in ( ilo -Seg a ) by A24,WELLORD1:1;
z in mTD by A20,A23,A27;
hence contradiction by A19,A28,XBOOLE_0:def 4;
end;
suppose ( TotDegree z ) > ( TotDegree a );

hence contradiction by A7,A25,CKB41:def 1;
end;
end;
hence ( gilo -Seg a ) misses Y by XBOOLE_0:def 7;
end;
then gilo is_well_founded_in ( field gilo ) by WELLORD1:def 3;
then gilo well_orders ( field gilo ) by A2,A3,A4,A5,A6,WELLORD1:def 5;
hence thesis by WELLORD1:4;
end;
