environ
vocabularies NUMBERS,XBOOLE_0,SUBSET_1,FINSEQ_1,ARYTM_1,ARYTM_3,XXREAL_0,CARD_1,NAT_1,PRE_POLY,FUNCT_1,RELAT_1,TARSKI,CLASSES1,FUNCT_2,CARD_3,FINSEQ_2,PBOOLE,GRAPH_2,VALUED_0,FINSUB_1,FINSET_1,RELAT_2,ORDERS_2,WAYBEL_4,STRUCT_0,WELLFND1,WELLORD1,ORDERS_1,ORDINAL1,WELLORD2,ORDINAL4,REAL_1,FUNCOP_1,FUNCT_4,PARTFUN1,DICKSON,RLVECT_2,ZFMISC_1,MCART_1,BAGORDER;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,XCMPLX_0,RELAT_1,PBOOLE,RELAT_2,RELSET_1,PARTFUN1,FINSET_1,FINSUB_1,ORDINAL1,FUNCT_7,MCART_1,WELLORD1,ORDERS_1,WELLFND1,CARD_1,NUMBERS,VALUED_0,XXREAL_0,REAL_1,FUNCT_1,SEQ_1,PRE_POLY,CARD_3,NAT_D,FINSEQ_1,RVSUM_1,WSIERP_1,FUNCOP_1,FUNCT_2,SEQ_4,DOMAIN_1,FINSEQOP,CLASSES1,RECDEF_1,NAT_1,STRUCT_0,WAYBEL_0,YELLOW_1,WAYBEL_4,PRALG_1,ORDERS_2,DICKSON,POLYNOM2,CKB6,CKB10;
definitions TARSKI,RELAT_2,WELLFND1,FINSEQ_2,CKB6,CKB10;
theorems WELLORD1,TARSKI,RELAT_2,RELSET_1,ZFMISC_1,ORDERS_2,NAT_1,FUNCT_1,AXIOMS,CARD_3,PBOOLE,YELLOW_1,PRALG_1,FUNCOP_1,PARTIT_2,WELLFND1,RELAT_1,DICKSON,FINSEQ_1,INTEGRA5,RVSUM_1,FINSEQ_2,CARD_1,WAYBEL_0,WAYBEL_4,ORDINAL1,FUNCT_2,CARD_2,MCART_1,FINSUB_1,ORDERS_1,FUNCT_7,WELLORD2,FINSEQ_3,FINSEQ_5,FINSEQOP,RFINSEQ,XBOOLE_0,XBOOLE_1,PARTFUN1,XREAL_1,XXREAL_0,VALUED_0,VALUED_1,XXREAL_2,XREAL_0,NAT_D,CLASSES1,PRE_POLY,CKB1,CKB2,CKB4,CKB5,CKB6,CKB9,CKB10;
schemes NAT_1,RELSET_1,FINSET_1,RECDEF_1,FUNCT_2,ORDINAL1,CLASSES1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FINSET_1,FINSUB_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,CARD_1,MEMBERED,FINSEQ_1,CARD_5,STRUCT_0,ORDERS_2,WAYBEL_0,YELLOW_1,DICKSON,VALUED_0,XXREAL_2,RELSET_1,PRE_POLY,CKB3,CKB7,CKB8,CKB11;
constructors DOMAIN_1,FINSEQOP,NAT_D,WSIERP_1,PRALG_1,TRIANG_1,WAYBEL_4,WELLFND1,POLYNOM2,DICKSON,SEQ_1,RECDEF_1,BINOP_2,SEQ_4,CLASSES1,RELSET_1,FUNCT_7,REAL_1,CKB6,CKB10;
requirements SUBSET,NUMERALS,REAL,BOOLE,ARITHM;
begin
theorem
Th7: (for R being  antisymmetric  transitive non  empty RelStr holds (for X being  finite (Subset of R) holds (X <> ( {} ) implies (ex x being (Element of R) st (x in X & x is_maximal_wrt X,(the InternalRel of R))))))
proof
let R being  antisymmetric  transitive non  empty RelStr;
let X being  finite (Subset of R);
set IR = (the InternalRel of R);
set CR = (the carrier of R);
A1: IR is_transitive_in CR by ORDERS_2:def 3;
A2: IR is_antisymmetric_in CR by ORDERS_2:def 4;
A3: X is  finite;
defpred P[ set ]
 means
($1 <> ( {} ) implies (ex x being (Element of R) st (x in $1 & x is_maximal_wrt $1,IR)));
A4: P[ ( {} ) ];
now
let y being set;
let B being set;
assume that
A5: y in X
and
B c= X
and
A6: (B <> ( {} ) implies (ex x being (Element of R) st (x in B & x is_maximal_wrt B,IR)));
reconsider y9 = y as (Element of R) by A5;
assume ( B \/ { y } ) <> ( {} );
per cases ;
suppose A7: B = ( {} );

take y9;
thus y9 in ( B \/ { y } ) by A7,TARSKI:def 1;
A8: y9 in ( B \/ { y } ) by A7,TARSKI:def 1;
(not (ex z being set st ((z in ( B \/ { y9 } ) & z <> y9) & [ y9,z ] in IR))) by A7,TARSKI:def 1;
hence y9 is_maximal_wrt ( B \/ { y } ),IR by A8,WAYBEL_4:def 23;
end;
suppose B <> ( {} );

then consider x being (Element of R) such that A9: x in B and A10: x is_maximal_wrt B,IR by A6;
now
per cases ;
suppose A11: [ x,y ] in IR;

take y9;
A12: y in { y } by TARSKI:def 1;
hence y9 in ( B \/ { y } ) by XBOOLE_0:def 3;
A13:now
given z being set such that
A14: z in ( B \/ { y } )
and
A15: z <> y
and
A16: [ y,z ] in IR;

A17: y9 in CR;
z in CR by A16,ZFMISC_1:87;
then A18: [ x,z ] in IR by A1,A11,A16,A17,RELAT_2:def 8;
per cases  by A14,XBOOLE_0:def 3;
suppose A19: z in B;

now
per cases ;
suppose A20: z = x;

then x = y9 by A2,A11,A16,RELAT_2:def 4;
hence contradiction by A15,A20;
end;
suppose z <> x;

hence contradiction by A10,A18,A19,WAYBEL_4:def 23;
end;
end;
hence contradiction;
end;
suppose z in { y };

hence contradiction by A15,TARSKI:def 1;
end;
end;
y9 in ( B \/ { y } ) by A12,XBOOLE_0:def 3;
hence y9 is_maximal_wrt ( B \/ { y } ),IR by A13,WAYBEL_4:def 23;
end;
suppose A21: [ y,x ] in IR;

take x;
thus x in ( B \/ { y } ) by A9,XBOOLE_0:def 3;
A22:now
assume (ex z being set st ((z in ( B \/ { y } ) & z <> x) & [ x,z ] in IR));
then consider z being set such that A23: z in ( B \/ { y } ) and A24: z <> x and A25: [ x,z ] in IR;
per cases  by A23,XBOOLE_0:def 3;
suppose z in B;

hence contradiction by A10,A24,A25,WAYBEL_4:def 23;
end;
suppose z in { y };

then A26: z = y by TARSKI:def 1;
z in CR by A25,ZFMISC_1:87;
hence contradiction by A2,A21,A24,A25,A26,RELAT_2:def 4;
end;
end;
x in ( B \/ { y } ) by A9,XBOOLE_0:def 3;
hence x is_maximal_wrt ( B \/ { y } ),IR by A22,WAYBEL_4:def 23;
end;
suppose A27: ((not [ x,y ] in IR) & (not [ y,x ] in IR));

take x;
thus x in ( B \/ { y } ) by A9,XBOOLE_0:def 3;
A28:now
assume (ex z being set st ((z in ( B \/ { y } ) & z <> x) & [ x,z ] in IR));
then consider z being set such that A29: z in ( B \/ { y } ) and A30: z <> x and A31: [ x,z ] in IR;
per cases  by A29,XBOOLE_0:def 3;
suppose z in B;

hence contradiction by A10,A30,A31,WAYBEL_4:def 23;
end;
suppose z in { y };

hence contradiction by A27,A31,TARSKI:def 1;
end;
end;
x in ( B \/ { y } ) by A9,XBOOLE_0:def 3;
hence x is_maximal_wrt ( B \/ { y } ),IR by A28,WAYBEL_4:def 23;
end;
end;
hence (ex x being (Element of R) st (x in ( B \/ { y } ) & x is_maximal_wrt ( B \/ { y } ),IR));
end;
end;
then A32: (for y,B being set holds (((y in X & B c= X) & P[ B ]) implies P[ ( B \/ { y } ) ]));
thus P[ X ] from FINSET_1:sch 2(A3,A4,A32);
end;
