environ
vocabularies NUMBERS,REAL_1,XXREAL_0,CARD_1,SUBSET_1,ARYTM_3,XBOOLE_0,STRUCT_0,NAT_1,RELAT_1,TARSKI,PRE_TOPC,RLVECT_3,RCOMP_1,SETFAM_1,FUNCT_1,ZFMISC_1,METRIC_1,XXREAL_1,ARYTM_1,COMPLEX1,TOPMETR,PCOMPS_1,XREAL_0,ORDINAL1,CARD_3,FUNCT_4,FUNCOP_1,SEQ_2,PARTFUN1,FRECHET,YELLOW_8;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XREAL_0,COMPLEX1,REAL_1,NAT_1,SETFAM_1,RELAT_1,FUNCT_1,PARTFUN1,RELSET_1,FUNCT_2,FUNCOP_1,STRUCT_0,ORDINAL1,CARD_3,FUNCT_4,RCOMP_1,PRE_TOPC,TOPS_2,METRIC_1,PCOMPS_1,TOPMETR,YELLOW_8,XXREAL_0,CKB14,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35,CKB42;
definitions TARSKI,TOPS_2,XBOOLE_0,SUBSET_1,STRUCT_0,RELAT_1,XCMPLX_0,TOPMETR,CKB14,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35,CKB42;
theorems TARSKI,ZFMISC_1,SUBSET_1,SETFAM_1,PRE_TOPC,FUNCT_1,FUNCT_2,FUNCT_4,FUNCOP_1,NORMSP_1,NAT_1,ORDINAL1,RELAT_1,YELLOW_8,TOPS_1,TOPS_2,TOPMETR,RCOMP_1,METRIC_1,PCOMPS_1,GOBOARD6,RELSET_1,XREAL_0,XBOOLE_0,XBOOLE_1,SEQ_4,COMPLEX1,XREAL_1,XXREAL_0,CARD_3,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB38,CKB39,CKB40,CKB42,CKB43,CKB44;
schemes DOMAIN_1,CLASSES1,NAT_1,CARD_4,FUNCT_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,PRE_TOPC,METRIC_1,PCOMPS_1,TOPMETR,RELSET_1,CKB5,CKB15,CKB16,CKB29,CKB37,CKB41;
constructors SETFAM_1,FUNCT_4,REAL_1,NAT_1,MEMBERED,COMPLEX1,RCOMP_1,PCOMPS_1,FUNCOP_1,CARD_3,TOPS_2,TOPMETR,YELLOW_8,CARD_1,CKB14,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35,CKB42;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Th31: (for A being (Subset of ( REAL? )) holds ((A is  open & ( REAL ) in A) iff (ex O being (Subset of ( R^1 )) st ((O is  open & ( NAT ) c= O) & A = ( ( O \ ( NAT ) ) \/ { ( REAL ) } )))))
proof
let A being (Subset of ( REAL? ));
consider f being (Function of ( R^1 ),( REAL? )) such that A1: f = ( ( id ( REAL ) ) +* ( ( NAT ) --> ( REAL ) ) ) and A2: (for A being (Subset of ( REAL? )) holds (A is  closed iff ( f " A ) is  closed)) by CKB42:def 1;
thus ((A is  open & ( REAL ) in A) implies (ex O being (Subset of ( R^1 )) st ((O is  open & ( NAT ) c= O) & A = ( ( O \ ( NAT ) ) \/ { ( REAL ) } ))))
proof
assume that
A3: A is  open
and
A4: ( REAL ) in A;
consider O being (Subset of ( R^1 )) such that A5: O = ( ( f " ( A ` ) ) ` );
( A ` ) is  closed by A3,TOPS_1:4;
then ( f " ( A ` ) ) is  closed by A2;
then A6: ( ( f " ( A ` ) ) ` ) is  open by TOPS_1:3;
A7: (not ( REAL ) in ( ( [#] ( REAL? ) ) \ A )) by A4,XBOOLE_0:def 5;
A8: ( A ` ) c= ( ( A ` ) \ { ( REAL ) } )
proof
let x being set;
assume A9: x in ( A ` );
then (not x in { ( REAL ) }) by A7,TARSKI:def 1;
hence thesis by A9,XBOOLE_0:def 5;
end;
( A ` ) c= (the carrier of ( REAL? ));
then A10: ( A ` ) c= ( ( ( REAL ) \ ( NAT ) ) \/ { ( REAL ) } ) by CKB42:def 1;
A11: ( A ` ) c= ( ( REAL ) \ ( NAT ) )
proof
let x being set;
assume A12: x in ( A ` );
then (x in ( ( REAL ) \ ( NAT ) ) or x in { ( REAL ) }) by A10,XBOOLE_0:def 3;
hence thesis by A7,A12,TARSKI:def 1;
end;
( ( A ` ) \ { ( REAL ) } ) c= ( A ` ) by XBOOLE_1:36;
then A13: ( A ` ) = ( ( A ` ) \ { ( REAL ) } ) by A8,XBOOLE_0:def 10;
(not ( REAL ) in ( REAL ));
then ( ( ( id ( REAL ) ) +* ( ( NAT ) --> ( REAL ) ) ) " ( ( A ` ) \ { ( REAL ) } ) ) = ( ( A ` ) \ ( NAT ) ) by A11,CKB25:1,XBOOLE_1:1;
then O = ( ( ( [#] ( R^1 ) ) \ ( A ` ) ) \/ ( ( NAT ) /\ ( [#] ( R^1 ) ) ) ) by A1,A5,A13,XBOOLE_1:52;
then A14: O = ( ( ( [#] ( R^1 ) ) \ ( A ` ) ) \/ ( NAT ) ) by TOPMETR:17,XBOOLE_1:28;
A = ( ( A ` ) ` )
.= ( (the carrier of ( REAL? )) \ ( A ` ) );
then A15: A = ( ( ( ( REAL ) \ ( NAT ) ) \/ { ( REAL ) } ) \ ( A ` ) ) by CKB42:def 1;
A16: A = ( ( ( ( REAL ) \ ( A ` ) ) \ ( NAT ) ) \/ { ( REAL ) } )
proof
thus A c= ( ( ( ( REAL ) \ ( A ` ) ) \ ( NAT ) ) \/ { ( REAL ) } )
proof
let x being set;
assume A17: x in A;
then A18: (not x in ( A ` )) by XBOOLE_0:def 5;
(x in ( ( REAL ) \ ( NAT ) ) or x in { ( REAL ) }) by A15,A17,XBOOLE_0:def 3;
then ((x in ( ( REAL ) \ ( A ` ) ) & (not x in ( NAT ))) or x in { ( REAL ) }) by A18,XBOOLE_0:def 5;
then (x in ( ( ( REAL ) \ ( A ` ) ) \ ( NAT ) ) or x in { ( REAL ) }) by XBOOLE_0:def 5;
hence thesis by XBOOLE_0:def 3;
end;

let x being set;
assume x in ( ( ( ( REAL ) \ ( A ` ) ) \ ( NAT ) ) \/ { ( REAL ) } );
then (x in ( ( ( REAL ) \ ( A ` ) ) \ ( NAT ) ) or x in { ( REAL ) }) by XBOOLE_0:def 3;
then A19: ((x in ( ( REAL ) \ ( A ` ) ) & (not x in ( NAT ))) or (x in { ( REAL ) } & (not x in ( A ` )))) by A7,TARSKI:def 1,XBOOLE_0:def 5;
then (x in ( ( REAL ) \ ( NAT ) ) or x in { ( REAL ) }) by XBOOLE_0:def 5;
then A20: x in ( ( ( REAL ) \ ( NAT ) ) \/ { ( REAL ) } ) by XBOOLE_0:def 3;
(not x in ( A ` )) by A19,XBOOLE_0:def 5;
hence thesis by A15,A20,XBOOLE_0:def 5;
end;
( NAT ) c= ( ( REAL ) \ ( A ` ) )
proof
let x being set;
assume A21: x in ( NAT );
then (not x in ( A ` )) by A11,XBOOLE_0:def 5;
hence thesis by A21,XBOOLE_0:def 5;
end;
then O = ( ( REAL ) \ ( A ` ) ) by A14,TOPMETR:17,XBOOLE_1:12;
hence thesis by A5,A6,A14,A16,XBOOLE_1:7;
end;

given O being (Subset of ( R^1 )) such that
A22: O is  open
and
A23: ( NAT ) c= O
and
A24: A = ( ( O \ ( NAT ) ) \/ { ( REAL ) } );

consider B being (Subset of ( R^1 )) such that A25: B = ( ( [#] ( R^1 ) ) \ O );
(not ( REAL ) in ( REAL ));
then ( ( ( id ( REAL ) ) +* ( ( NAT ) --> ( REAL ) ) ) " ( ( ( REAL ) \ O ) \ { ( REAL ) } ) ) = ( ( ( REAL ) \ O ) \ ( NAT ) ) by CKB25:1;
then A26: ( f " ( ( ( REAL ) \ O ) \ { ( REAL ) } ) ) = ( ( REAL ) \ ( O \/ ( NAT ) ) ) by A1,XBOOLE_1:41;
A27: B is  closed by A22,A25,CKB6:1;
( A ` ) = ( ( ( ( REAL ) \ ( NAT ) ) \/ { ( REAL ) } ) \ ( ( O \ ( NAT ) ) \/ { ( REAL ) } ) ) by A24,CKB42:def 1
.= ( ( ( ( REAL ) \ ( NAT ) ) \ ( ( O \ ( NAT ) ) \/ { ( REAL ) } ) ) \/ ( { ( REAL ) } \ ( { ( REAL ) } \/ ( O \ ( NAT ) ) ) ) ) by XBOOLE_1:42
.= ( ( ( ( REAL ) \ ( NAT ) ) \ ( ( O \ ( NAT ) ) \/ { ( REAL ) } ) ) \/ ( {} ) ) by XBOOLE_1:46
.= ( ( ( ( REAL ) \ ( NAT ) ) \ ( O \ ( NAT ) ) ) \ { ( REAL ) } ) by XBOOLE_1:41
.= ( ( ( REAL ) \ ( ( NAT ) \/ ( O \ ( NAT ) ) ) ) \ { ( REAL ) } ) by XBOOLE_1:41
.= ( ( ( REAL ) \ ( ( NAT ) \/ O ) ) \ { ( REAL ) } ) by XBOOLE_1:39
.= ( ( ( REAL ) \ O ) \ { ( REAL ) } ) by A23,XBOOLE_1:12;
then ( f " ( A ` ) ) = B by A23,A25,A26,TOPMETR:17,XBOOLE_1:12;
then ( ( [#] ( REAL? ) ) \ A ) is  closed by A2,A27;
hence A is  open by CKB6:1;
( REAL ) in { ( REAL ) } by TARSKI:def 1;
hence thesis by A24,XBOOLE_0:def 3;
end;
