environ
vocabularies NUMBERS,REAL_1,XXREAL_0,CARD_1,SUBSET_1,ARYTM_3,XBOOLE_0,STRUCT_0,NAT_1,RELAT_1,TARSKI,PRE_TOPC,RLVECT_3,RCOMP_1,SETFAM_1,FUNCT_1,ZFMISC_1,METRIC_1,XXREAL_1,ARYTM_1,COMPLEX1,TOPMETR,PCOMPS_1,XREAL_0,ORDINAL1,CARD_3,FUNCT_4,FUNCOP_1,SEQ_2,PARTFUN1,FRECHET,YELLOW_8;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XREAL_0,COMPLEX1,REAL_1,NAT_1,SETFAM_1,RELAT_1,FUNCT_1,PARTFUN1,RELSET_1,FUNCT_2,FUNCOP_1,STRUCT_0,ORDINAL1,CARD_3,FUNCT_4,RCOMP_1,PRE_TOPC,TOPS_2,METRIC_1,PCOMPS_1,TOPMETR,YELLOW_8,XXREAL_0,CKB14,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35;
definitions TARSKI,TOPS_2,XBOOLE_0,SUBSET_1,STRUCT_0,RELAT_1,XCMPLX_0,TOPMETR,CKB14,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35;
theorems TARSKI,ZFMISC_1,SUBSET_1,SETFAM_1,PRE_TOPC,FUNCT_1,FUNCT_2,FUNCT_4,FUNCOP_1,NORMSP_1,NAT_1,ORDINAL1,RELAT_1,YELLOW_8,TOPS_1,TOPS_2,TOPMETR,RCOMP_1,METRIC_1,PCOMPS_1,GOBOARD6,RELSET_1,XREAL_0,XBOOLE_0,XBOOLE_1,SEQ_4,COMPLEX1,XREAL_1,XXREAL_0,CARD_3,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35;
schemes DOMAIN_1,CLASSES1,NAT_1,CARD_4,FUNCT_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,PRE_TOPC,METRIC_1,PCOMPS_1,TOPMETR,RELSET_1,CKB5,CKB15,CKB16,CKB29;
constructors SETFAM_1,FUNCT_4,REAL_1,NAT_1,MEMBERED,COMPLEX1,RCOMP_1,PCOMPS_1,FUNCOP_1,CARD_3,TOPS_2,TOPMETR,YELLOW_8,CARD_1,CKB14,CKB26,CKB30,CKB32,CKB33,CKB34,CKB35;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
theorem
Th24: (for T being non  empty TopSpace holds (T is  first-countable implies T is  Frechet))
proof
let T being non  empty TopSpace;
assume A1: T is  first-countable;
let A being (Subset of T);
let x being (Point of T);
assume that
A2: x in ( Cl A );
consider B being (Basis of x) such that A3: B is  countable by A1,CKB26:def 1;
consider f being (Function of ( NAT ),B) such that A4: ( rng f ) = B by A3,CARD_3:96;
defpred P[ set,set ]
 means
$2 in ( A /\ ( meet ( f .: ( succ $1 ) ) ) );
A5: (for n being set holds (n in ( NAT ) implies (ex y being set st (y in (the carrier of T) & P[ n,y ]))))
proof
defpred P[ (Element of ( NAT )) ]
 means
(ex H being (Subset of T) st (H = ( meet ( f .: ( succ $1 ) ) ) & H is  open));
let n being set;
A6: (for n being (Element of ( NAT )) holds (P[ n ] implies P[ ( n + 1 ) ]))
proof
let n being (Element of ( NAT ));
given G being (Subset of T) such that
A7: G = ( meet ( f .: ( succ n ) ) )
and
A8: G is  open;

( n + 1 ) in ( NAT );
then A9: ( n + 1 ) in ( dom f ) by FUNCT_2:def 1;
(n in ( succ n ) & ( dom f ) = ( NAT )) by FUNCT_2:def 1,ORDINAL1:6;
then A10: ( f . n ) in ( f .: ( succ n ) ) by FUNCT_1:def 6;
( f . ( n + 1 ) ) in B;
then consider H1 being (Subset of T) such that A11: H1 = ( f . ( n + 1 ) );
A12: H1 is  open by A11,YELLOW_8:12;
consider H being (Subset of T) such that A13: H = ( H1 /\ G );
take H;
( meet ( f .: ( succ ( n + 1 ) ) ) ) = ( meet ( f .: ( { ( n + 1 ) } \/ ( n + 1 ) ) ) ) by ORDINAL1:def 1
.= ( meet ( f .: ( { ( n + 1 ) } \/ ( succ n ) ) ) ) by NAT_1:38
.= ( meet ( ( Im (f,( n + 1 )) ) \/ ( f .: ( succ n ) ) ) ) by RELAT_1:120
.= ( meet ( { ( f . ( n + 1 ) ) } \/ ( f .: ( succ n ) ) ) ) by A9,FUNCT_1:59
.= ( ( meet { ( f . ( n + 1 ) ) } ) /\ ( meet ( f .: ( succ n ) ) ) ) by A10,SETFAM_1:9
.= H by A7,A11,A13,SETFAM_1:10;
hence thesis by A8,A12,A13,TOPS_1:11;
end;
assume n in ( NAT );
then reconsider n as (Element of ( NAT ));
A14: P[ ( 0 ) ]
proof
( f . ( 0 ) ) in B;
then reconsider H = ( f . ( 0 ) ) as (Subset of T);
take H;
( 0 ) in ( NAT );
then ( 0 ) in ( dom f ) by FUNCT_2:def 1;
then ( meet ( Im (f,( 0 )) ) ) = ( meet { ( f . ( 0 ) ) } ) by FUNCT_1:59
.= H by SETFAM_1:10;
hence thesis by CARD_1:49,YELLOW_8:12;
end;
(for n being (Element of ( NAT )) holds P[ n ]) from NAT_1:sch 1(A14,A6);
then A15: (ex H being (Subset of T) st (H = ( meet ( f .: ( succ n ) ) ) & H is  open));
A16: (for G being set holds (G in ( f .: ( succ n ) ) implies x in G))
proof
let G being set;
assume G in ( f .: ( succ n ) );
then consider k being set such that A17: k in ( dom f ) and k in ( succ n ) and A18: G = ( f . k ) by FUNCT_1:def 6;
( f . k ) in B by A17,FUNCT_2:5;
hence thesis by A18,YELLOW_8:12;
end;
(n in ( succ n ) & ( dom f ) = ( NAT )) by FUNCT_2:def 1,ORDINAL1:6;
then ( f . n ) in ( f .: ( succ n ) ) by FUNCT_1:def 6;
then x in ( meet ( f .: ( succ n ) ) ) by A16,SETFAM_1:def 1;
then A meets ( meet ( f .: ( succ n ) ) ) by A2,A15,PRE_TOPC:def 7;
then consider y being set such that A19: y in ( A /\ ( meet ( f .: ( succ n ) ) ) ) by XBOOLE_0:4;
take y;
thus thesis by A19;
end;
consider S being Function such that A20: ((( dom S ) = ( NAT ) & ( rng S ) c= (the carrier of T)) & (for n being set holds (n in ( NAT ) implies P[ n,( S . n ) ]))) from FUNCT_1:sch 5(A5);
A21: ( rng S ) c= A
proof
let y being set;
assume y in ( rng S );
then consider a being set such that A22: (a in ( dom S ) & y = ( S . a )) by FUNCT_1:def 3;
y in ( A /\ ( meet ( f .: ( succ a ) ) ) ) by A20,A22;
hence thesis by XBOOLE_0:def 4;
end;
reconsider S as (sequence of T) by A20,FUNCT_2:def 1,RELSET_1:4;
A23: (for m,n being (Element of ( NAT )) holds (n <= m implies ( A /\ ( meet ( f .: ( succ m ) ) ) ) c= ( A /\ ( meet ( f .: ( succ n ) ) ) )))
proof
let m being (Element of ( NAT ));
let n being (Element of ( NAT ));
assume n <= m;
then ( n + 1 ) <= ( m + 1 ) by XREAL_1:6;
then ( n + 1 ) c= ( m + 1 ) by NAT_1:39;
then ( succ n ) c= ( m + 1 ) by NAT_1:38;
then ( succ n ) c= ( succ m ) by NAT_1:38;
then A24: ( f .: ( succ n ) ) c= ( f .: ( succ m ) ) by RELAT_1:123;
(n in ( succ n ) & ( dom f ) = ( NAT )) by FUNCT_2:def 1,ORDINAL1:6;
then ( f . n ) in ( f .: ( succ n ) ) by FUNCT_1:def 6;
then ( meet ( f .: ( succ m ) ) ) c= ( meet ( f .: ( succ n ) ) ) by A24,SETFAM_1:6;
hence thesis by XBOOLE_1:26;
end;
S is_convergent_to x
proof
let U1 being (Subset of T);
assume A25: (U1 is  open & x in U1);
reconsider U1 as (Subset of T);
consider U2 being (Subset of T) such that A26: U2 in B and A27: U2 c= U1 by A25,YELLOW_8:13;
consider n being set such that A28: n in ( dom f ) and A29: U2 = ( f . n ) by A4,A26,FUNCT_1:def 3;
reconsider n as (Element of ( NAT )) by A28;
(for m being (Element of ( NAT )) holds (n <= m implies ( S . m ) in U1))
proof
let m being (Element of ( NAT ));
(n in ( succ n ) & ( dom f ) = ( NAT )) by FUNCT_2:def 1,ORDINAL1:6;
then A30: ( f . n ) in ( f .: ( succ n ) ) by FUNCT_1:def 6;
assume n <= m;
then A31: ( A /\ ( meet ( f .: ( succ m ) ) ) ) c= ( A /\ ( meet ( f .: ( succ n ) ) ) ) by A23;
( S . m ) in ( A /\ ( meet ( f .: ( succ m ) ) ) ) by A20;
then ( S . m ) in ( meet ( f .: ( succ n ) ) ) by A31,XBOOLE_0:def 4;
then ( S . m ) in ( f . n ) by A30,SETFAM_1:def 1;
hence thesis by A27,A29;
end;
hence thesis;
end;
then x in ( Lim S ) by CKB33:def 1;
hence thesis by A21;
end;
