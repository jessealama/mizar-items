environ
vocabularies NUMBERS,REAL_1,XXREAL_0,CARD_1,SUBSET_1,ARYTM_3,XBOOLE_0,STRUCT_0,NAT_1,RELAT_1,TARSKI,PRE_TOPC,RLVECT_3,RCOMP_1,SETFAM_1,FUNCT_1,ZFMISC_1,METRIC_1,XXREAL_1,ARYTM_1,COMPLEX1,TOPMETR,PCOMPS_1,XREAL_0,ORDINAL1,CARD_3,FUNCT_4,FUNCOP_1,SEQ_2,PARTFUN1,FRECHET,YELLOW_8;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XREAL_0,COMPLEX1,REAL_1,NAT_1,SETFAM_1,RELAT_1,FUNCT_1,PARTFUN1,RELSET_1,FUNCT_2,FUNCOP_1,STRUCT_0,ORDINAL1,CARD_3,FUNCT_4,RCOMP_1,PRE_TOPC,TOPS_2,METRIC_1,PCOMPS_1,TOPMETR,YELLOW_8,XXREAL_0,CKB14;
definitions TARSKI,TOPS_2,XBOOLE_0,SUBSET_1,STRUCT_0,RELAT_1,XCMPLX_0,TOPMETR,CKB14;
theorems TARSKI,ZFMISC_1,SUBSET_1,SETFAM_1,PRE_TOPC,FUNCT_1,FUNCT_2,FUNCT_4,FUNCOP_1,NORMSP_1,NAT_1,ORDINAL1,RELAT_1,YELLOW_8,TOPS_1,TOPS_2,TOPMETR,RCOMP_1,METRIC_1,PCOMPS_1,GOBOARD6,RELSET_1,XREAL_0,XBOOLE_0,XBOOLE_1,SEQ_4,COMPLEX1,XREAL_1,XXREAL_0,CARD_3,CARD_1,CKB1,CKB2,CKB3,CKB4,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14;
schemes DOMAIN_1,CLASSES1,NAT_1,CARD_4,FUNCT_1;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,STRUCT_0,PRE_TOPC,METRIC_1,PCOMPS_1,TOPMETR,RELSET_1,CKB5;
constructors SETFAM_1,FUNCT_4,REAL_1,NAT_1,MEMBERED,COMPLEX1,RCOMP_1,PCOMPS_1,FUNCOP_1,CARD_3,TOPS_2,TOPMETR,YELLOW_8,CARD_1,CKB14;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
registration
let M being non  empty MetrSpace;
let x being (Point of ( TopSpaceMetr M ));
cluster ( Balls x ) ->  open x -quasi_basis;
coherence
proof
set B = ( Balls x );
consider x9 being (Point of M) such that A1: (x9 = x & B = { ( Ball (x9,( 1 / n )) ) where n is (Element of ( NAT )): n <> ( 0 ) }) by CKB14:def 1;
A2: B c= (the topology of ( TopSpaceMetr M ))
proof
let A being set;
assume A in B;
then consider n being (Element of ( NAT )) such that A3: A = ( Ball (x9,( 1 / n )) ) and n <> ( 0 ) by A1;
( Ball (x9,( 1 / n )) ) in ( Family_open_set M ) by PCOMPS_1:29;
hence thesis by A3,TOPMETR:12;
end;
A4: (for O being set holds (O in B implies x in O))
proof
let O being set;
assume O in B;
then (ex n being (Element of ( NAT )) st (O = ( Ball (x9,( 1 / n )) ) & n <> ( 0 ))) by A1;
hence thesis by A1,GOBOARD6:1;
end;
A5: (for O being (Subset of ( TopSpaceMetr M )) holds ((O is  open & x in O) implies (ex V being (Subset of ( TopSpaceMetr M )) st (V in B & V c= O))))
proof
let O being (Subset of ( TopSpaceMetr M ));
assume (O is  open & x in O);
then consider r being  real number such that A6: r > ( 0 ) and A7: ( Ball (x9,r) ) c= O by A1,TOPMETR:15;
reconsider r as Real by XREAL_0:def 1;
consider n being (Element of ( NAT )) such that A8: ( 1 / n ) < r and A9: n > ( 0 ) by A6,CKB1:1;
reconsider Ba = ( Ball (x9,( 1 / n )) ) as (Subset of ( TopSpaceMetr M )) by TOPMETR:12;
reconsider Ba as (Subset of ( TopSpaceMetr M ));
take Ba;
thus Ba in B by A1,A9;
( Ball (x9,( 1 / n )) ) c= ( Ball (x9,r) ) by A8,PCOMPS_1:1;
hence thesis by A7,XBOOLE_1:1;
end;
A10: ( Ball (x9,( 1 / 1 )) ) in B by A1;
then ( Intersect B ) = ( meet B ) by SETFAM_1:def 9;
then x in ( Intersect B ) by A10,A4,SETFAM_1:def 1;
hence thesis by A2,A5,TOPS_2:64,YELLOW_8:def 1;
end;
end;
