environ
vocabularies NUMBERS,XBOOLE_0,ORDERS_2,SUBSET_1,RELAT_2,FIN_TOPO,TARSKI,CONNSP_1,PRE_TOPC,STRUCT_0,RELAT_1,RCOMP_1,FINSEQ_1,ORDINAL2,XXREAL_0,NAT_1,ARYTM_3,FUNCT_1,ORDINAL4,PARTFUN1,CARD_1,ARYTM_1,BORSUK_2,RFINSEQ,FINTOPO3,FINTOPO6;
notations TARSKI,XBOOLE_0,SUBSET_1,XCMPLX_0,NUMBERS,XXREAL_0,NAT_1,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,PARTFUN1,FINSEQ_1,STRUCT_0,ORDERS_2,FIN_TOPO,FINTOPO3,NAT_D,ENUMSET1,FINTOPO4,PRE_TOPC,RFINSEQ,CKB6,CKB11,CKB15,CKB36,CKB54,CKB56,CKB61,CKB68;
definitions TARSKI,XBOOLE_0,STRUCT_0,SUBSET_1,FIN_TOPO,FINSEQ_1,CKB6,CKB11,CKB15,CKB36,CKB54,CKB56,CKB61,CKB68;
theorems NAT_1,ZFMISC_1,FUNCT_1,FINSEQ_1,RELSET_1,XBOOLE_0,XBOOLE_1,FIN_TOPO,FINTOPO3,ENUMSET1,FINTOPO4,FINSEQ_6,JORDAN4,TARSKI,XREAL_1,SUBSET_1,PRE_TOPC,RFINSEQ,FINSEQ_3,FINSEQ_5,REVROT_1,ORDINAL1,XXREAL_0,PARTFUN1,XREAL_0,NAT_D,CKB2,CKB3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB15,CKB16,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33,CKB34,CKB36,CKB37,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB53,CKB54,CKB55,CKB56,CKB57,CKB59,CKB60,CKB61,CKB63,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74;
schemes NAT_1,RELSET_1;
registrations XBOOLE_0,RELAT_1,FUNCT_1,XXREAL_0,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,FIN_TOPO,CKB1,CKB4,CKB13,CKB14,CKB17,CKB35,CKB58,CKB62,CKB64;
constructors DOMAIN_1,NAT_1,EQREL_1,RFINSEQ,RFUNCT_3,NAT_D,FIN_TOPO,FINTOPO3,FINTOPO4,REAL_1,RELSET_1,CKB6,CKB11,CKB15,CKB36,CKB54,CKB56,CKB61,CKB68;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve FT for non empty RelStr;
theorem
(for g being (FinSequence of FT) holds (for A being (Subset of FT) holds (for x1,x2 being (Element of FT) holds (g is_minimum_path_in A,x1,x2 implies (for k being Nat holds ((1 <= k & k <= ( len g )) implies ( g | k ) is_minimum_path_in A,x1,( g /. k )))))))
proof
let g being (FinSequence of FT);
let A being (Subset of FT);
let x1 being (Element of FT),x2 being (Element of FT);
assume A1: g is_minimum_path_in A,x1,x2;
then A2: ( rng g ) c= A by CKB68:def 1;
A3: g is  continuous by A1,CKB68:def 1;
then A4: 1 <= ( len g ) by CKB56:def 1;
A5: ( g . ( len g ) ) = x2 by A1,CKB68:def 1;
let k being Nat;
assume that
A6: 1 <= k
and
A7: k <= ( len g );
reconsider k as (Element of ( NAT )) by ORDINAL1:def 12;
A8: (( ( g | k ) . 1 ) = x1 & ( ( g | k ) . ( len ( g | k ) ) ) = ( g /. k )) by A1,A6,A7,CKB73:1;
A9: (( g | k ) is  continuous & ( rng ( g | k ) ) c= A) by A1,A6,A7,CKB73:1;
now
per cases  by A7,XXREAL_0:1;
suppose A10: k < ( len g );

now
k in ( dom g ) by A6,A7,FINSEQ_3:25;
then A11: ( g /. k ) = ( g . k ) by PARTFUN1:def 6;
( k + 1 ) <= ( len g ) by A10,NAT_1:13;
then A12: ( ( g /^ k ) . 1 ) = ( g . ( k + 1 ) ) by FINSEQ_6:114;
( rng ( g /^ k ) ) c= ( rng g ) by FINSEQ_5:33;
then A13: ( rng ( g /^ k ) ) c= A by A2,XBOOLE_1:1;
assume (not ( g | k ) is_minimum_path_in A,x1,( g /. k ));
then consider h being (FinSequence of FT) such that A14: h is  continuous and A15: ( rng h ) c= A and A16: ( h . 1 ) = x1 and A17: ( h . ( len h ) ) = ( g /. k ) and A18: ( len ( g | k ) ) > ( len h ) by A9,A8,CKB68:def 1;
reconsider s = ( h ^ ( g /^ k ) ) as (FinSequence of FT);
A19: ( len s ) = ( ( len h ) + ( len ( g /^ k ) ) ) by FINSEQ_1:22;
( rng s ) = ( ( rng h ) \/ ( rng ( g /^ k ) ) ) by FINSEQ_1:31;
then A20: ( rng s ) c= A by A15,A13,XBOOLE_1:8;
A21: ( g /^ k ) is  continuous by A1,A10,CKB74:1;
then 1 <= ( len ( g /^ k ) ) by CKB56:def 1;
then ( len ( g /^ k ) ) in ( dom ( g /^ k ) ) by FINSEQ_3:25;
then A22: ( s . ( len s ) ) = ( ( g /^ k ) . ( len ( g /^ k ) ) ) by A19,FINSEQ_1:def 7
.= x2 by A5,A10,JORDAN4:6;
A23: 1 <= ( len h ) by A14,CKB56:def 1;
then 1 in ( dom h ) by FINSEQ_3:25;
then A24: ( s . 1 ) = x1 by A16,FINSEQ_1:def 7;
( len h ) in ( dom h ) by A23,FINSEQ_3:25;
then ( h . ( len h ) ) = ( h /. ( len h ) ) by PARTFUN1:def 6;
then ( ( g /^ k ) . 1 ) in ( U_FT ( h /. ( len h ) ) ) by A3,A6,A10,A17,A12,A11,CKB56:def 1;
then A25: s is  continuous by A14,A21,CKB60:1;
g = ( ( g | k ) ^ ( g /^ k ) ) by RFINSEQ:8;
then ( len g ) = ( ( len ( g | k ) ) + ( len ( g /^ k ) ) ) by FINSEQ_1:22;
then ( len s ) < ( len g ) by A18,A19,XREAL_1:8;
hence contradiction by A1,A25,A20,A24,A22,CKB68:def 1;
end;
hence ( g | k ) is_minimum_path_in A,x1,( g /. k );
end;
suppose A26: k = ( len g );

A27: ( len g ) in ( dom g ) by A4,FINSEQ_3:25;
( g | k ) = g by A26,FINSEQ_1:58;
hence ( g | k ) is_minimum_path_in A,x1,( g /. k ) by A1,A5,A26,A27,PARTFUN1:def 6;
end;
end;
hence thesis;
end;
