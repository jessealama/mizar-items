environ
vocabularies NUMBERS,SUBSET_1,XBOOLE_0,FINSEQ_1,XXREAL_0,FUNCT_1,RELAT_1,TARSKI,VALUED_0,CARD_1,ARYTM_3,ORDINAL1,CLASSES1,ZFMISC_1,ORDINAL2,FUNCOP_1,MCART_1,NAT_1,ORDINAL4,ARYTM_1,REAL_1,PARTFUN1;
notations TARSKI,XBOOLE_0,ZFMISC_1,MCART_1,SUBSET_1,NUMBERS,XXREAL_0,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCOP_1,ORDINAL1,ORDINAL2,CLASSES1,FINSEQ_1,FUNCT_2,BINOP_1,DOMAIN_1,VALUED_0,CKB2;
definitions TARSKI,BINOP_1;
theorems TARSKI,NAT_1,FUNCT_1,FINSEQ_1,FUNCT_2,RELAT_1,XBOOLE_1,FUNCOP_1,XREAL_1,XXREAL_0,ORDINAL1,CLASSES1,ORDINAL2,XBOOLE_0,ZFMISC_1,MCART_1,PARTFUN1,CKB1;
schemes NAT_1,FUNCT_1,FINSEQ_1,BINOP_1,CLASSES1,ORDINAL1,FUNCT_2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FINSET_1,XXREAL_0,XREAL_0,NAT_1,CARD_1,NUMBERS,RELSET_1,INT_1,XCMPLX_0,FINSEQ_1,VALUED_0;
constructors BINOP_1,DOMAIN_1,FUNCOP_1,XXREAL_0,REAL_1,NAT_1,FINSEQ_1,VALUED_0,CLASSES1,ORDINAL2,RELSET_1,CKB2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve k for (Element of ( NAT ));
reserve D for non  empty set;
reserve x for set;
scheme SeqExD { D() -> non  empty set,N() -> (Element of ( NAT )),P[set,set] } : (ex p being (FinSequence of D()) st (( dom p ) = ( Seg N() ) & (for k being (Element of ( NAT )) holds (k in ( Seg N() ) implies P[ k,( p /. k ) ]))))
provided
A1: (for k being (Element of ( NAT )) holds (k in ( Seg N() ) implies (ex x being (Element of D()) st P[ k,x ])))
proof
per cases ;
suppose A2: N() = ( 0 );

take ( <*> D() );
thus thesis by A2;
end;
suppose A3: N() <> ( 0 );

now
assume A4: ( Seg N() ) = ( {} );
now
per cases ;
case N() = ( 0 );
hence contradiction by A3;
end;
case N() <> ( 0 );
hence contradiction by A4;
end;
end;
hence contradiction;
end;
then reconsider M = ( Seg N() ) as non  empty set;
A5: (for x being (Element of M) holds (ex y being (Element of D()) st P[ x,y ]))
proof
let x being (Element of M);
x in ( Seg N() );
hence thesis by A1;
end;
consider f being (Function of M,D()) such that A6: (for x being (Element of M) holds P[ x,( f . x ) ]) from FUNCT_2:sch 3(A5);
( dom f ) = ( Seg N() ) by FUNCT_2:def 1;
then reconsider q = f as FinSequence by FINSEQ_1:def 2;
now
let u being set;
A7: ( rng q ) c= D() by RELAT_1:def 19;
assume u in ( rng q );
hence u in D() by A7;
end;
then ( rng q ) c= D() by TARSKI:def 3;
then reconsider q as (FinSequence of D()) by FINSEQ_1:def 4;
take q;
now
let k being (Element of ( NAT ));
assume A8: k in ( Seg N() );
then k in ( dom q ) by FUNCT_2:def 1;
then ( q . k ) = ( q /. k ) by PARTFUN1:def 6;
hence P[ k,( q /. k ) ] by A6,A8;
end;
hence thesis by FUNCT_2:def 1;
end;
end;
