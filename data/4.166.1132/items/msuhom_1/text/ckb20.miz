environ
vocabularies UNIALG_1,NAT_1,XBOOLE_0,FUNCT_1,RELAT_1,TARSKI,SUBSET_1,FINSEQ_1,FUNCOP_1,PBOOLE,CARD_3,MSUALG_1,XXREAL_0,STRUCT_0,FINSEQ_2,PARTFUN1,CQC_SIM1,CARD_1,UNIALG_2,MARGREL1,NUMBERS,MSUALG_3,MEMBER_1,MSUHOM_1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,NAT_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FUNCT_2,CARD_3,FUNCOP_1,FINSEQ_1,STRUCT_0,UNIALG_1,UNIALG_2,FINSEQ_2,ALG_1,MSUALG_3,MSUALG_1,XXREAL_0,CKB5,CKB10,CKB13;
definitions ALG_1,MSUALG_3,TARSKI,FUNCOP_1,FINSEQ_2,UNIALG_2,CKB5,CKB10,CKB13;
theorems TARSKI,FINSEQ_2,MSUALG_1,UNIALG_2,MSUALG_3,FUNCOP_1,FINSEQ_1,FUNCT_1,FUNCT_2,ALG_1,UNIALG_1,PBOOLE,MONOID_1,CARD_3,RELAT_1,XBOOLE_0,XBOOLE_1,PARTFUN1,FINSEQ_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FUNCOP_1,XREAL_0,PRE_CIRC,STRUCT_0,MSUALG_1,MSUALG_3,RELAT_1,PBOOLE,FINSEQ_1;
constructors XXREAL_0,CARD_3,FINSEQOP,ALG_1,MSUALG_3,XREAL_0,RELSET_1,PBOOLE,NAT_1,CKB5,CKB10,CKB13;
requirements NUMERALS,SUBSET,BOOLE;
begin
reserve U1 for Universal_Algebra;
reserve U2 for Universal_Algebra;
reserve m for Nat;
reserve n for Nat;
reserve h for (Function of U1,U2);
theorem
Th15: (for U1 holds (for U2 holds (for h holds (U1,U2 are_similar  implies (for o being (OperSymbol of ( MSSign U1 )) holds (for y being (Element of ( Args (o,( MSAlg U1 )) )) holds ( ( MSAlg h ) # y ) = ( h * y )))))))
proof
let U1;
let U2;
let h;
assume A1: U1,U2 are_similar ;
reconsider f1 = ( ( *--> ( 0 ) ) * ( signature U1 ) ) as (Function of ( dom ( signature U1 ) ),( { ( 0 ) } * )) by MSUALG_1:2;
let o being (OperSymbol of ( MSSign U1 ));
A2: (the carrier' of ( MSSign U2 )) = ( dom ( signature U2 ) ) by MSUALG_1:def 8;
( MSSign U1 ) = ( MSSign U2 ) by A1,CKB12:1;
then o in ( dom ( signature U2 ) ) by A2;
then A3: o in ( dom ( signature U1 ) ) by A1,UNIALG_2:def 1;
then o in ( dom f1 ) by FUNCT_2:def 1;
then A4: ( ( ( *--> ( 0 ) ) * ( signature U1 ) ) . o ) = ( ( *--> ( 0 ) ) . ( ( signature U1 ) . o ) ) by FUNCT_1:12;
let y being (Element of ( Args (o,( MSAlg U1 )) ));
set f = ( MSAlg h );
A5: (the carrier of ( MSSign U1 )) = { ( 0 ) } by MSUALG_1:def 8;
set X = ( dom ( h * y ) );
A6: ( dom h ) = (the carrier of U1) by FUNCT_2:def 1;
A7: y is (FinSequence of (the carrier of U1)) by CKB19:1;
then ( rng y ) c= (the carrier of U1) by FINSEQ_1:def 4;
then reconsider p = ( h * y ) as FinSequence by A7,A6,FINSEQ_1:16;
A8: X = ( dom y ) by A7,FINSEQ_3:120;
(the Arity of ( MSSign U1 )) = f1 by MSUALG_1:def 8;
then A9: ( the_arity_of o ) = ( ( ( *--> ( 0 ) ) * ( signature U1 ) ) . o ) by MSUALG_1:def 1;
( ( signature U1 ) . o ) in ( rng ( signature U1 ) ) by A3,FUNCT_1:def 3;
then consider n being (Element of ( NAT )) such that A10: n = ( ( signature U1 ) . o );
A11: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
A12:now
( 0 ) is (Element of { ( 0 ) }) by TARSKI:def 1;
then ( n |-> ( 0 ) ) is (FinSequence of { ( 0 ) }) by FINSEQ_2:63;
then reconsider l = ( n |-> ( 0 ) ) as (Element of ( (the carrier of ( MSSign U1 )) * )) by A5,FINSEQ_1:def 11;
let m;
A13: (( ( the_arity_of o ) /. m ) = ( l /. m ) & ( dom ( n |-> ( 0 ) ) ) = ( Seg n )) by A9,A4,A10,FINSEQ_2:def 6,FUNCOP_1:13;
assume m in ( dom y );
then m in ( dom ( the_arity_of o ) ) by MSUALG_3:6;
then A14: m in ( dom ( n |-> ( 0 ) ) ) by A9,A4,A10,FINSEQ_2:def 6;
then ( l /. m ) = ( l . m ) by PARTFUN1:def 6;
then ( ( the_arity_of o ) /. m ) = ( 0 ) by A14,A13,FUNCOP_1:7;
hence ( f . ( ( the_arity_of o ) /. m ) ) = ( ( ( 0 ) .--> h ) . ( 0 ) ) by A1,CKB13:def 1,CKB12:1
.= h by A11,FUNCOP_1:7;
end;
A15:now
let m being Nat;
assume A16: m in ( dom y );
then A17: m in ( dom ( h * y ) ) by A7,FINSEQ_3:120;
( ( f # y ) . m ) = ( ( f . ( ( the_arity_of o ) /. m ) ) . ( y . m ) ) by A16,MSUALG_3:def 6;
hence ( ( f # y ) . m ) = ( h . ( y . m ) ) by A12,A16
.= ( p . m ) by A7,A17,FINSEQ_3:120;
end;
( dom ( f # y ) ) = ( dom ( the_arity_of o ) ) by MSUALG_3:6
.= ( dom ( n |-> ( 0 ) ) ) by A9,A4,A10,FINSEQ_2:def 6
.= ( Seg n ) by FUNCOP_1:13;
then A18: ( f # y ) is FinSequence by FINSEQ_1:def 2;
A19: ( dom y ) = ( dom ( the_arity_of o ) ) by MSUALG_3:6
.= ( dom ( n |-> ( 0 ) ) ) by A9,A4,A10,FINSEQ_2:def 6
.= ( Seg n ) by FUNCOP_1:13;
( dom ( f # y ) ) = ( dom ( the_arity_of o ) ) by MSUALG_3:6
.= ( dom ( n |-> ( 0 ) ) ) by A9,A4,A10,FINSEQ_2:def 6
.= ( Seg n ) by FUNCOP_1:13
.= X by A7,A19,FINSEQ_3:120;
hence thesis by A18,A15,A8,FINSEQ_1:13;
end;
