environ
vocabularies UNIALG_1,NAT_1,XBOOLE_0,FUNCT_1,RELAT_1,TARSKI,SUBSET_1,FINSEQ_1,FUNCOP_1,PBOOLE,CARD_3,MSUALG_1,XXREAL_0,STRUCT_0,FINSEQ_2,PARTFUN1,CQC_SIM1,CARD_1,UNIALG_2,MARGREL1,NUMBERS,MSUALG_3,MEMBER_1,MSUHOM_1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,NAT_1,RELAT_1,FUNCT_1,PBOOLE,RELSET_1,PARTFUN1,FUNCT_2,CARD_3,FUNCOP_1,FINSEQ_1,STRUCT_0,UNIALG_1,UNIALG_2,FINSEQ_2,ALG_1,MSUALG_3,MSUALG_1,XXREAL_0,CKB5,CKB10,CKB13;
definitions ALG_1,MSUALG_3,TARSKI,FUNCOP_1,FINSEQ_2,UNIALG_2,CKB5,CKB10,CKB13;
theorems TARSKI,FINSEQ_2,MSUALG_1,UNIALG_2,MSUALG_3,FUNCOP_1,FINSEQ_1,FUNCT_1,FUNCT_2,ALG_1,UNIALG_1,PBOOLE,MONOID_1,CARD_3,RELAT_1,XBOOLE_0,XBOOLE_1,PARTFUN1,FINSEQ_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31;
registrations XBOOLE_0,FUNCT_1,ORDINAL1,RELSET_1,FUNCT_2,FUNCOP_1,XREAL_0,PRE_CIRC,STRUCT_0,MSUALG_1,MSUALG_3,RELAT_1,PBOOLE,FINSEQ_1;
constructors XXREAL_0,CARD_3,FINSEQOP,ALG_1,MSUALG_3,XREAL_0,RELSET_1,PBOOLE,NAT_1,CKB5,CKB10,CKB13;
requirements NUMERALS,SUBSET,BOOLE;
begin
reserve U1 for Universal_Algebra;
reserve U2 for Universal_Algebra;
reserve U3 for Universal_Algebra;
reserve a for set;
theorem
(for U1 holds (for U2 holds (for U3 holds ((U1,U2 are_similar  & U2,U3 are_similar ) implies (for h1 being (Function of U1,U2) holds (for h2 being (Function of U2,U3) holds ( ( MSAlg h2 ) ** ( MSAlg h1 ) ) = ( MSAlg ( h2 * h1 ) )))))))
proof
let U1;
let U2;
let U3;
assume that
A1: U1,U2 are_similar 
and
A2: U2,U3 are_similar ;
let h1 being (Function of U1,U2);
let h2 being (Function of U2,U3);
A3: ( MSAlg h1 ) is (ManySortedSet of { ( 0 ) }) by A1,CKB23:1;
( MSAlg h2 ) is (ManySortedSet of { ( 0 ) }) by A2,CKB23:1;
then A4: ( dom ( MSAlg h2 ) ) = { ( 0 ) } by PARTFUN1:def 2;
A5: ( dom ( ( MSAlg h2 ) ** ( MSAlg h1 ) ) ) = ( ( dom ( MSAlg h1 ) ) /\ ( dom ( MSAlg h2 ) ) ) by PBOOLE:def 19
.= ( { ( 0 ) } /\ { ( 0 ) } ) by A3,A4,PARTFUN1:def 2
.= { ( 0 ) };
A6:now
let a being set;
let f being Function;
let g being Function;
assume that
A7: a in ( dom ( ( MSAlg h2 ) ** ( MSAlg h1 ) ) )
and
A8: f = ( ( MSAlg h1 ) . a )
and
A9: g = ( ( MSAlg h2 ) . a );
A10: g = ( ( MSAlg h2 ) . ( 0 ) ) by A5,A7,A9,TARSKI:def 1
.= ( ( ( 0 ) .--> h2 ) . ( 0 ) ) by A2,CKB13:def 1,CKB12:1
.= h2 by FUNCOP_1:72;
f = ( ( MSAlg h1 ) . ( 0 ) ) by A5,A7,A8,TARSKI:def 1
.= ( ( ( 0 ) .--> h1 ) . ( 0 ) ) by A1,CKB13:def 1,CKB12:1
.= h1 by FUNCOP_1:72;
hence ( ( ( MSAlg h2 ) ** ( MSAlg h1 ) ) . a ) = ( h2 * h1 ) by A7,A8,A9,A10,PBOOLE:def 19;
end;
set h = ( h2 * h1 );
A11: ( MSAlg h ) is (ManySortedSet of { ( 0 ) }) by A1,A2,CKB23:1,UNIALG_2:2;
A12: ( MSSign U2 ) = ( MSSign U3 ) by A2,CKB12:1;
A13:now
let a being set;
assume a in ( dom ( MSAlg h ) );
then A14: a in { ( 0 ) } by A11,PARTFUN1:def 2;
( ( MSAlg ( h2 * h1 ) ) . ( 0 ) ) = ( ( ( 0 ) .--> ( h2 * h1 ) ) . ( 0 ) ) by A1,A12,CKB13:def 1,CKB12:1
.= ( h2 * h1 ) by FUNCOP_1:72;
hence ( ( MSAlg ( h2 * h1 ) ) . a ) = ( h2 * h1 ) by A14,TARSKI:def 1;
end;
A15: ( dom ( MSAlg ( h2 * h1 ) ) ) = { ( 0 ) } by A11,PARTFUN1:def 2;
A16:now
let a being set;
let f being Function;
let g being Function;
assume that
A17: a in ( dom ( MSAlg ( h2 * h1 ) ) )
and
A18: (f = ( ( MSAlg h1 ) . a ) & g = ( ( MSAlg h2 ) . a ));
thus ( ( MSAlg ( h2 * h1 ) ) . a ) = ( h2 * h1 ) by A13,A17
.= ( ( ( MSAlg h2 ) ** ( MSAlg h1 ) ) . a ) by A5,A6,A15,A17,A18;
end;
A19: ( dom ( MSAlg ( h2 * h1 ) ) ) = { ( 0 ) } by A11,PARTFUN1:def 2;
A20: (for a holds (a in { ( 0 ) } implies ( ( ( MSAlg h2 ) ** ( MSAlg h1 ) ) . a ) = ( ( MSAlg ( h2 * h1 ) ) . a )))
proof
let a;
A21: (( ( MSAlg h1 ) . a ) is Function & ( ( MSAlg h2 ) . a ) is Function);
assume a in { ( 0 ) };
hence thesis by A19,A16,A21;
end;
( ( MSAlg h2 ) ** ( MSAlg h1 ) ) is (ManySortedSet of { ( 0 ) }) by A5,PARTFUN1:def 2,RELAT_1:def 18;
hence thesis by A11,A20,PBOOLE:3;
end;
