environ
vocabularies SETFAM_1,SUBSET_1,TARSKI,PRE_TOPC,RCOMP_1,RLVECT_3,FINSET_1,XBOOLE_0,FINSUB_1,SETWISEO,ZFMISC_1,STRUCT_0,FUNCT_1,RELAT_1,CARD_3,NUMBERS,FUNCOP_1,CARD_1,NAT_1,CANTOR_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,SUBSET_1,NUMBERS,NAT_1,SETFAM_1,RELAT_1,FUNCT_1,FUNCT_2,FINSET_1,FINSUB_1,SETWISEO,PROB_1,STRUCT_0,PRE_TOPC,TOPS_2,CARD_3,FUNCOP_1,CKB1,CKB2,CKB5,CKB9;
definitions PRE_TOPC,TARSKI,TOPS_2,XBOOLE_0,STRUCT_0,CKB1,CKB2,CKB9;
theorems ZFMISC_1,PRE_TOPC,SUBSET_1,SETFAM_1,FINSET_1,FUNCT_2,FUNCT_1,TARSKI,FINSUB_1,RELAT_1,XBOOLE_0,XBOOLE_1,TOPS_2,EQREL_1,CKB1,CKB2,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes SUBSET_1,FUNCT_2,SETWISEO;
registrations XBOOLE_0,SUBSET_1,RELSET_1,FUNCOP_1,FINSET_1,CARD_3,PRE_TOPC,FUNCT_1,TOPS_2,CKB3,CKB4;
constructors SETFAM_1,FUNCOP_1,SETWISEO,CARD_3,TOPS_2,RELSET_1,PROB_1,CKB1,CKB2,CKB9;
requirements BOOLE,SUBSET;
begin
theorem
Th13: (for X being set holds (for A being (Subset-Family of X) holds ( FinMeetCl A ) = ( FinMeetCl ( FinMeetCl A ) )))
proof
let X being set;
let A being (Subset-Family of X);
defpred P[ set,set ]
 means
(ex A being (Subset-Family of X) st (($1 = ( Intersect A ) & A = $2) & $2 is  finite));
thus ( FinMeetCl A ) c= ( FinMeetCl ( FinMeetCl A ) ) by CKB10:1;
let x being set;
assume A1: x in ( FinMeetCl ( FinMeetCl A ) );
then reconsider x9 = x as (Subset of X);
consider Y being (Subset-Family of X) such that A2: Y c= ( FinMeetCl A ) and A3: Y is  finite and A4: x9 = ( Intersect Y ) by A1,CKB9:def 1;
A5: (for e being set holds (e in Y implies (ex u being set st (u in ( bool A ) & P[ e,u ]))))
proof
let e being set;
assume A6: e in Y;
then reconsider e9 = e as (Subset of X);
consider Y being (Subset-Family of X) such that A7: ((Y c= A & Y is  finite) & e9 = ( Intersect Y )) by A2,A6,CKB9:def 1;
take Y;
thus thesis by A7;
end;
consider f being (Function of Y,( bool A )) such that A8: (for e being set holds (e in Y implies P[ e,( f . e ) ])) from FUNCT_2:sch 1(A5);
set fz = { ( Intersect s ) where s is (Subset-Family of X): s in ( rng f ) };
A9: fz c= Y
proof
let l being set;
assume l in fz;
then consider s being (Subset-Family of X) such that A10: l = ( Intersect s ) and A11: s in ( rng f );
consider v being set such that A12: v in ( dom f ) and A13: s = ( f . v ) by A11,FUNCT_1:def 3;
v in Y by A12,FUNCT_2:def 1;
then P[ v,( f . v ) ] by A8;
hence thesis by A10,A12,A13,FUNCT_2:def 1;
end;
( rng f ) c= ( bool A ) by RELAT_1:def 19;
then ( union ( rng f ) ) c= ( union ( bool A ) ) by ZFMISC_1:77;
then A14: ( union ( rng f ) ) c= A by ZFMISC_1:81;
then reconsider y = ( union ( rng f ) ) as (Subset-Family of X) by XBOOLE_1:1;
reconsider y as (Subset-Family of X);
Y c= fz
proof
let l being set;
assume A15: l in Y;
then consider C being (Subset-Family of X) such that A16: l = ( Intersect C ) and A17: C = ( f . l ) and ( f . l ) is  finite by A8;
l in ( dom f ) by A15,FUNCT_2:def 1;
then C in ( rng f ) by A17,FUNCT_1:def 3;
hence thesis by A16;
end;
then A18: Y = fz by A9,XBOOLE_0:def 10;
A19: x = ( Intersect y )
proof
per cases ;
suppose A20: ( rng f ) <> ( {} );

(( rng f ) c= ( bool A ) & ( bool A ) c= ( bool ( bool X ) )) by RELAT_1:def 19,ZFMISC_1:67;
then reconsider GGG = ( rng f ) as non empty (Subset-Family of ( bool X )) by A20,XBOOLE_1:1;
reconsider GGG as non empty (Subset-Family of ( bool X ));
fz = { ( Intersect b ) where b is (Element of GGG): (not contradiction) }
proof
hereby
let x being set;
assume x in fz;
then (ex s being (Subset-Family of X) st (x = ( Intersect s ) & s in ( rng f )));
hence x in { ( Intersect b ) where b is (Element of GGG): (not contradiction) };
end;
let x being set;
assume x in { ( Intersect b ) where b is (Element of GGG): (not contradiction) };
then (ex s being (Element of GGG) st x = ( Intersect s ));
hence thesis;
end;
hence thesis by A4,A18,CKB16:1;
end;
suppose A21: ( rng f ) = ( {} );

Y = ( dom f ) by FUNCT_2:def 1;
hence thesis by A4,A21,RELAT_1:38,RELAT_1:41,ZFMISC_1:2;
end;
end;
(for V being set holds (V in ( rng f ) implies V is  finite))
proof
let V being set;
assume V in ( rng f );
then consider x being set such that A22: x in ( dom f ) and A23: V = ( f . x ) by FUNCT_1:def 3;
x in Y by A22,FUNCT_2:def 1;
then reconsider x as (Subset of X);
reconsider G = ( f . x ) as (Subset-Family of X);
x in Y by A22,FUNCT_2:def 1;
then P[ x,G ] by A8;
hence thesis by A23;
end;
then ( union ( rng f ) ) is  finite by A3,FINSET_1:7;
hence thesis by A14,A19,CKB9:def 1;
end;
