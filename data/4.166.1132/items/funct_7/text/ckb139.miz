environ
vocabularies NUMBERS,SUBSET_1,FUNCT_1,RELAT_1,TARSKI,XBOOLE_0,FUNCOP_1,PBOOLE,ZFMISC_1,FUNCT_4,FINSEQ_1,ARYTM_3,CARD_1,NAT_1,XXREAL_0,FINSET_1,SETFAM_1,FINSEQ_2,ORDINAL4,MCART_1,PARTFUN1,REWRITE1,FUNCT_2,ARYTM_1,RFINSEQ,CLASSES1,FUNCT_7,VALUED_1;
notations TARSKI,XBOOLE_0,ZFMISC_1,ENUMSET1,SUBSET_1,CARD_1,WELLORD2,NUMBERS,XCMPLX_0,XXREAL_0,NAT_1,SETFAM_1,PBOOLE,DOMAIN_1,RELAT_1,FUNCT_1,RELSET_1,BINOP_1,FINSET_1,PARTFUN1,FUNCOP_1,FUNCT_2,FINSEQ_1,FINSEQ_2,FUNCT_4,CLASSES1,RFINSEQ,NAT_D,REWRITE1,VALUED_1,CKB38,CKB40,CKB46,CKB54,CKB58,CKB59,CKB78,CKB79,CKB83,CKB89,CKB95,CKB96,CKB97,CKB104;
definitions TARSKI,XBOOLE_0,RELAT_1,FUNCT_1,FUNCT_2,FUNCOP_1,BINOP_1,FINSEQ_2,FUNCT_4,CKB38,CKB40,CKB46,CKB58,CKB59,CKB78,CKB79,CKB83,CKB95,CKB97,CKB104;
theorems FINSEQ_1,RELAT_1,TARSKI,AXIOMS,ZFMISC_1,INT_1,FUNCT_1,FINSEQ_2,FUNCT_4,SUBSET_1,FINSET_1,CARD_1,NAT_1,FUNCT_2,FUNCOP_1,SETFAM_1,MCART_1,FINSEQ_3,ENUMSET1,REWRITE1,FINSEQ_4,RELSET_1,XBOOLE_0,XBOOLE_1,PARTFUN1,GRFUNC_1,XREAL_1,XXREAL_0,ORDINAL1,RFINSEQ,FINSEQ_5,NAT_D,WELLORD2,VALUED_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24,CKB32,CKB38,CKB39,CKB40,CKB41,CKB42,CKB43,CKB44,CKB45,CKB46,CKB47,CKB48,CKB49,CKB50,CKB51,CKB52,CKB55,CKB56,CKB57,CKB58,CKB59,CKB60,CKB61,CKB62,CKB63,CKB64,CKB65,CKB66,CKB67,CKB68,CKB69,CKB70,CKB71,CKB72,CKB73,CKB74,CKB75,CKB76,CKB77,CKB78,CKB79,CKB80,CKB81,CKB82,CKB83,CKB84,CKB90,CKB91,CKB92,CKB93,CKB94,CKB95,CKB97,CKB99,CKB100,CKB102,CKB103,CKB104,CKB106,CKB107,CKB108,CKB109,CKB110,CKB111,CKB112,CKB113,CKB114,CKB115,CKB116,CKB117,CKB118,CKB119,CKB120,CKB121,CKB122,CKB123,CKB124,CKB125,CKB126,CKB127,CKB128,CKB129,CKB130,CKB131,CKB132,CKB133,CKB134,CKB135,CKB136,CKB137,CKB138;
schemes NAT_1,DOMAIN_1,CLASSES1,FRAENKEL,FINSEQ_1,RECDEF_1,FUNCT_2,CKB33,CKB34,CKB35,CKB36,CKB37;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,PARTFUN1,FUNCOP_1,FUNCT_4,XREAL_0,NAT_1,INT_1,CARD_1,FINSEQ_1,FUNCT_2,RELSET_1,XXREAL_0,VALUED_1,CKB7,CKB8,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB53,CKB85,CKB86,CKB87,CKB88,CKB98,CKB101,CKB105;
constructors SETFAM_1,PARTFUN1,WELLORD2,BINOP_1,DOMAIN_1,FUNCT_4,XXREAL_0,NAT_1,INT_1,PBOOLE,RFINSEQ,NAT_D,REWRITE1,RELAT_2,REAL_1,CLASSES1,RELSET_1,VALUED_1,FINSEQ_2,CKB38,CKB40,CKB46,CKB54,CKB58,CKB59,CKB78,CKB79,CKB83,CKB95,CKB96,CKB97,CKB104;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve i for Nat;
theorem
(for D being non empty set holds (for w being (FinSequence of D) holds (for r being (Element of D) holds (i in ( dom w ) implies ( w +* (i,r) ) = ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) ^ ( w /^ i ) )))))
proof
let D being non empty set;
let w being (FinSequence of D);
let r being (Element of D);
assume A1: i in ( dom w );
then A2: 1 <= i by FINSEQ_3:25;
A3: i <= ( len w ) by A1,FINSEQ_3:25;
A4: ( len ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) ^ ( w /^ i ) ) ) = ( ( len ( ( w | ( i -' 1 ) ) ^ <* r *> ) ) + ( len ( w /^ i ) ) ) by FINSEQ_1:22
.= ( ( ( len ( w | ( i -' 1 ) ) ) + ( len <* r *> ) ) + ( len ( w /^ i ) ) ) by FINSEQ_1:22
.= ( ( ( len ( w | ( i -' 1 ) ) ) + 1 ) + ( len ( w /^ i ) ) ) by FINSEQ_1:39
.= ( ( ( i -' 1 ) + 1 ) + ( len ( w /^ i ) ) ) by A3,FINSEQ_1:59,NAT_D:44
.= ( ( ( i -' 1 ) + 1 ) + ( ( len w ) - i ) ) by A3,RFINSEQ:def 1
.= ( ( ( i - 1 ) + 1 ) + ( ( len w ) - i ) ) by A2,XREAL_1:233;
(for j being Nat holds ((1 <= j & j <= ( len ( w +* (i,r) ) )) implies ( ( w +* (i,r) ) . j ) = ( ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) ^ ( w /^ i ) ) . j )))
proof
A5: ( len ( w | ( i -' 1 ) ) ) = ( i -' 1 ) by A3,FINSEQ_1:59,NAT_D:44
.= ( i - 1 ) by A2,XREAL_1:233;
let j being Nat;
assume that
A6: 1 <= j
and
A7: j <= ( len ( w +* (i,r) ) );
A8: ( len ( ( w | ( i -' 1 ) ) ^ <* r *> ) ) = ( ( len ( w | ( i -' 1 ) ) ) + ( len <* r *> ) ) by FINSEQ_1:22
.= ( ( len ( w | ( i -' 1 ) ) ) + 1 ) by FINSEQ_1:39
.= ( ( i -' 1 ) + 1 ) by A3,FINSEQ_1:59,NAT_D:44
.= ( ( i - 1 ) + 1 ) by A2,XREAL_1:233
.= i;
A9: ( len ( w +* (i,r) ) ) = ( len w ) by CKB138:1;
now
per cases  by XXREAL_0:1;
case A10: i < j;
then ( i + 1 ) <= j by NAT_1:13;
then A11: ( ( i + 1 ) - i ) <= ( j - i ) by XREAL_1:9;
then A12: 1 <= ( j -' i ) by NAT_D:39;
A13: ( j - i ) <= ( ( len w ) - i ) by A7,A9,XREAL_1:9;
A14: i <= ( len w ) by A1,FINSEQ_3:25;
( len ( w /^ i ) ) = ( ( len w ) -' i ) by RFINSEQ:29
.= ( ( len w ) - i ) by A14,XREAL_1:233;
then ( j -' i ) <= ( len ( w /^ i ) ) by A11,A13,NAT_D:39;
then A15: ( j -' i ) in ( dom ( w /^ i ) ) by A12,FINSEQ_3:25;
j <= ( len ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) ^ ( w /^ i ) ) ) by A4,A7,CKB138:1;
then ( ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) ^ ( w /^ i ) ) . j ) = ( ( w /^ i ) . ( j - ( len ( ( w | ( i -' 1 ) ) ^ <* r *> ) ) ) ) by A8,A10,FINSEQ_1:24
.= ( ( w /^ i ) . ( j -' i ) ) by A8,A10,XREAL_1:233
.= ( w . ( ( j -' i ) + i ) ) by A14,A15,RFINSEQ:def 1
.= ( w . j ) by A10,XREAL_1:235;
hence thesis by A10,CKB49:1;
end;
case A16: j = i;
A17: i = ( ( len ( w | ( i -' 1 ) ) ) + 1 ) by A5;
( ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) ^ ( w /^ i ) ) . j ) = ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) . i ) by A6,A8,A16,FINSEQ_1:64
.= r by A17,FINSEQ_1:42;
hence thesis by A1,A16,CKB48:1;
end;
case A18: j < i;
then ( j + 1 ) <= i by NAT_1:13;
then A19: ( ( j + 1 ) - 1 ) <= ( i - 1 ) by XREAL_1:9;
then A20: j <= ( i -' 1 ) by A2,XREAL_1:233;
( ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) ^ ( w /^ i ) ) . j ) = ( ( ( w | ( i -' 1 ) ) ^ <* r *> ) . j ) by A6,A8,A18,FINSEQ_1:64
.= ( ( w | ( i -' 1 ) ) . j ) by A6,A5,A19,FINSEQ_1:64
.= ( w . j ) by A20,FINSEQ_3:112;
hence thesis by A18,CKB49:1;
end;
end;
hence thesis;
end;
hence thesis by A4,CKB138:1,FINSEQ_1:14;
end;
