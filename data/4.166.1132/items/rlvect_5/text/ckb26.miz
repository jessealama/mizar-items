environ
vocabularies NUMBERS,RLVECT_1,RLSUB_1,SUBSET_1,RLVECT_2,RLVECT_3,TARSKI,CARD_3,XBOOLE_0,ARYTM_1,ARYTM_3,SUPINF_2,FUNCT_1,CARD_1,FINSEQ_1,STRUCT_0,FUNCT_2,RELAT_1,VALUED_1,NAT_1,PARTFUN1,ORDINAL4,CLASSES1,FINSET_1,XXREAL_0,FINSEQ_4,RLSUB_2,RLVECT_5;
notations TARSKI,XBOOLE_0,ENUMSET1,SUBSET_1,CARD_1,NUMBERS,XCMPLX_0,REAL_1,NAT_1,RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,FINSET_1,FINSEQ_1,FINSEQ_3,FINSEQ_4,DOMAIN_1,STRUCT_0,CLASSES1,RLVECT_1,RLVECT_2,RLSUB_1,RLSUB_2,RLVECT_3,XXREAL_0,CKB24;
definitions TARSKI,CKB24;
theorems TARSKI,ENUMSET1,SUBSET_1,NAT_1,CARD_1,CARD_2,FUNCT_1,FUNCT_2,FINSEQ_1,FINSEQ_2,FINSEQ_3,FINSEQ_4,FINSET_1,RFINSEQ,RLVECT_1,RLVECT_2,RLVECT_3,RLSUB_1,RLSUB_2,XBOOLE_0,XBOOLE_1,ZFMISC_1,XCMPLX_0,XCMPLX_1,XREAL_1,XXREAL_0,STRUCT_0,PARTFUN1,RELAT_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB23,CKB24;
schemes NAT_1,FINSEQ_1,FUNCT_2;
registrations XBOOLE_0,SUBSET_1,RELAT_1,FUNCT_1,ORDINAL1,FUNCT_2,FINSET_1,NUMBERS,NAT_1,MEMBERED,FINSEQ_1,STRUCT_0,RLVECT_3,CARD_1,RELSET_1,RLVECT_2,CKB25;
constructors PARTFUN1,XXREAL_0,REAL_1,NAT_1,FINSEQ_3,FINSEQ_4,REALSET1,RFINSEQ,RLSUB_2,RLVECT_2,CLASSES1,RLVECT_3,RELSET_1,CKB24;
requirements REAL,NUMERALS,BOOLE,SUBSET,ARITHM;
begin
reserve V for RealLinearSpace;
reserve x for set;
reserve y1 for set;
reserve y2 for set;
reserve i for (Element of ( NAT ));
theorem
Th24: (V is  finite-dimensional implies (for I being (Basis of V) holds I is  finite))
proof
assume V is  finite-dimensional;
then consider A being  finite (Subset of V) such that A1: A is (Basis of V) by CKB24:def 1;
let B being (Basis of V);
consider p being FinSequence such that A2: ( rng p ) = A by FINSEQ_1:52;
reconsider p as (FinSequence of (the carrier of V)) by A2,FINSEQ_1:def 4;
set Car = { ( Carrier L ) where L is (Linear_Combination of B): (ex i st (i in ( dom p ) & ( Sum L ) = ( p . i ))) };
set C = ( union Car );
A3: C c= B
proof
let x being set;
assume x in C;
then consider R being set such that A4: x in R and A5: R in Car by TARSKI:def 4;
(ex L being (Linear_Combination of B) st (R = ( Carrier L ) & (ex i st (i in ( dom p ) & ( Sum L ) = ( p . i ))))) by A5;
then R c= B by RLVECT_2:def 6;
hence thesis by A4;
end;
then reconsider C as (Subset of V) by XBOOLE_1:1;
(for v being (VECTOR of V) holds (v in ( (Omega). V ) iff v in ( Lin C )))
proof
let v being (VECTOR of V);
hereby
assume v in ( (Omega). V );
then v in ( the RLSStruct of V ) by RLSUB_1:def 4;
then v in ( Lin A ) by A1,RLVECT_3:def 3;
then consider LA being (Linear_Combination of A) such that A6: v = ( Sum LA ) by RLVECT_3:14;
( Carrier LA ) c= (the carrier of ( Lin C ))
proof
let w being set;
assume A7: w in ( Carrier LA );
then reconsider w9 = w as (VECTOR of V);
w9 in ( Lin B ) by CKB14:1;
then consider LB being (Linear_Combination of B) such that A8: w = ( Sum LB ) by RLVECT_3:14;
( Carrier LA ) c= A by RLVECT_2:def 6;
then (ex i being set st (i in ( dom p ) & w = ( p . i ))) by A2,A7,FUNCT_1:def 3;
then A9: ( Carrier LB ) in Car by A8;
( Carrier LB ) c= C
proof
let x being set;
assume x in ( Carrier LB );
hence thesis by A9,TARSKI:def 4;
end;
then LB is (Linear_Combination of C) by RLVECT_2:def 6;
then w in ( Lin C ) by A8,RLVECT_3:14;
hence thesis by STRUCT_0:def 5;
end;
then (ex LC being (Linear_Combination of C) st ( Sum LA ) = ( Sum LC )) by CKB10:1;
hence v in ( Lin C ) by A6,RLVECT_3:14;
end;
assume v in ( Lin C );
v in (the carrier of ( the RLSStruct of V ));
then v in (the carrier of ( (Omega). V )) by RLSUB_1:def 4;
hence thesis by STRUCT_0:def 5;
end;
then ( (Omega). V ) = ( Lin C ) by RLSUB_1:31;
then A10: ( the RLSStruct of V ) = ( Lin C ) by RLSUB_1:def 4;
A11: B is  linearly-independent by RLVECT_3:def 3;
then C is  linearly-independent by A3,RLVECT_3:5;
then A12: C is (Basis of V) by A10,RLVECT_3:def 3;
B c= C
proof
set D = ( B \ C );
assume (not B c= C);
then (ex v being set st (v in B & (not v in C))) by TARSKI:def 3;
then reconsider D as non empty (Subset of V) by XBOOLE_0:def 5;
reconsider B as (Subset of V);
( C \/ ( B \ C ) ) = ( C \/ B ) by XBOOLE_1:39
.= B by A3,XBOOLE_1:12;
then B = ( C \/ D );
hence contradiction by A11,A12,CKB19:1,XBOOLE_1:79;
end;
then A13: B = C by A3,XBOOLE_0:def 10;
defpred P[ set,set ]
 means
(ex L being (Linear_Combination of B) st ($2 = ( Carrier L ) & ( Sum L ) = ( p . $1 )));
A14: (for i being Nat holds (i in ( Seg ( len p ) ) implies (ex x st P[ i,x ])))
proof
let i being Nat;
assume i in ( Seg ( len p ) );
then i in ( dom p ) by FINSEQ_1:def 3;
then ( p . i ) in (the carrier of V) by FINSEQ_2:11;
then ( p . i ) in ( Lin B ) by CKB14:1;
then consider L being (Linear_Combination of B) such that A15: ( p . i ) = ( Sum L ) by RLVECT_3:14;
P[ i,( Carrier L ) ] by A15;
hence thesis;
end;
(ex q being FinSequence st (( dom q ) = ( Seg ( len p ) ) & (for i being Nat holds (i in ( Seg ( len p ) ) implies P[ i,( q . i ) ])))) from FINSEQ_1:sch 1(A14);
then consider q being FinSequence such that A16: ( dom q ) = ( Seg ( len p ) ) and A17: (for i being Nat holds (i in ( Seg ( len p ) ) implies P[ i,( q . i ) ]));
A18: ( dom p ) = ( dom q ) by A16,FINSEQ_1:def 3;
A19: (for i being Nat holds (for y1 holds (for y2 holds (((i in ( Seg ( len p ) ) & P[ i,y1 ]) & P[ i,y2 ]) implies y1 = y2))))
proof
let i being Nat;
let y1;
let y2;
assume that
i in ( Seg ( len p ) )
and
A20: P[ i,y1 ]
and
A21: P[ i,y2 ];
consider L1 being (Linear_Combination of B) such that A22: (y1 = ( Carrier L1 ) & ( Sum L1 ) = ( p . i )) by A20;
consider L2 being (Linear_Combination of B) such that A23: (y2 = ( Carrier L2 ) & ( Sum L2 ) = ( p . i )) by A21;
(( Carrier L1 ) c= B & ( Carrier L2 ) c= B) by RLVECT_2:def 6;
hence thesis by A11,A22,A23,CKB1:1;
end;
now
let x being set;
assume x in Car;
then consider L being (Linear_Combination of B) such that A24: x = ( Carrier L ) and A25: (ex i st (i in ( dom p ) & ( Sum L ) = ( p . i )));
consider i such that A26: i in ( dom p ) and A27: ( Sum L ) = ( p . i ) by A25;
P[ i,( q . i ) ] by A16,A17,A18,A26;
then x = ( q . i ) by A19,A16,A18,A24,A26,A27;
hence x in ( rng q ) by A18,A26,FUNCT_1:def 3;
end;
then A28: Car c= ( rng q ) by TARSKI:def 3;
(for R being set holds (R in Car implies R is  finite))
proof
let R being set;
assume R in Car;
then (ex L being (Linear_Combination of B) st (R = ( Carrier L ) & (ex i st (i in ( dom p ) & ( Sum L ) = ( p . i )))));
hence thesis;
end;
hence thesis by A13,A28,FINSET_1:7;
end;
