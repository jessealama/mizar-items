environ
vocabularies NUMBERS,SUBSET_1,XBOOLE_0,FINSEQ_1,FUNCT_1,RELAT_1,PARTFUN1,FINSEQ_4,ARYTM_3,FINSEQ_5,RFINSEQ,ORDINAL4,XXREAL_0,ARYTM_1,FINSEQ_6,CARD_1,NAT_1,ZFMISC_1,EUCLID,JORDAN2C,FINSEQ_2,SUPINF_2,TARSKI,GOBOARD1,MCART_1,PRE_TOPC,TOPREAL1,RLTOPSP1,GOBOARD2,GOBOARD5,MATRIX_1,COMPLEX1,GOBOARD9,CONNSP_1,TOPS_1,PSCOMP_1,SPRECT_2,TREES_1,JORDAN5D,RCOMP_1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,XCMPLX_0,NAT_1,COMPLEX1,NAT_D,CARD_1,FUNCT_1,PARTFUN1,FINSEQ_1,FINSEQ_2,MATRIX_1,FINSEQ_4,RFINSEQ,FINSEQ_5,FINSEQ_6,ZFMISC_1,DOMAIN_1,SEQ_4,STRUCT_0,PRE_TOPC,TOPS_1,CONNSP_1,COMPTS_1,EUCLID,RLTOPSP1,TOPREAL1,GOBOARD1,GOBOARD2,GOBOARD5,GOBOARD9,PSCOMP_1,JORDAN5D,SPRECT_2,JORDAN2C,XXREAL_0,CKB1,CKB5;
definitions TOPREAL1,GOBOARD5,SPRECT_2,TARSKI,FINSEQ_6,GOBOARD1,XBOOLE_0,STRUCT_0,SEQM_3,CKB1,CKB5;
theorems FINSEQ_6,NAT_1,FINSEQ_5,FINSEQ_3,FINSEQ_4,NAT_2,FINSEQ_1,SPRECT_3,RFINSEQ,TOPREAL1,GOBOARD5,SPPOL_2,TARSKI,SPRECT_2,GOBOARD9,INT_1,SUBSET_1,JGRAPH_1,GOBOARD7,GOBOARD1,GOBOARD2,FUNCT_1,PARTFUN2,RELAT_1,FINSEQ_2,JORDAN5D,PSCOMP_1,JORDAN2C,EUCLID,YELLOW_8,TOPREAL3,XBOOLE_0,XBOOLE_1,XREAL_1,XXREAL_0,ORDINAL1,PARTFUN1,MATRIX_1,NAT_D,SEQM_3,SEQ_4,ZFMISC_1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB23,CKB25,CKB26,CKB27,CKB28,CKB30,CKB31,CKB32,CKB33,CKB34,CKB35,CKB36,CKB37,CKB40,CKB41;
registrations XBOOLE_0,RELAT_1,FUNCT_1,NUMBERS,XREAL_0,NAT_1,MEMBERED,FINSEQ_1,ZFMISC_1,FINSEQ_5,FINSEQ_6,STRUCT_0,GOBOARD2,GOBOARD9,SPRECT_1,SPRECT_2,CARD_1,COMPTS_1,EUCLID,SEQ_4,FINSET_1,CKB21,CKB22,CKB24,CKB29,CKB38,CKB39;
constructors PARTFUN1,XXREAL_0,NAT_1,COMPLEX1,FINSEQOP,FINSEQ_4,RFINSEQ,NAT_D,TOPS_1,CONNSP_1,COMPTS_1,REALSET2,GOBOARD2,PSCOMP_1,GOBOARD9,SPRECT_2,JORDAN5D,JORDAN2C,SEQ_1,REAL_1,GOBOARD1,RELSET_1,SEQ_4,RVSUM_1,CKB1,CKB5;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve i for (Element of ( NAT ));
reserve j for (Element of ( NAT ));
reserve k for (Element of ( NAT ));
reserve m for (Element of ( NAT ));
reserve n for (Element of ( NAT ));
reserve p for (Point of ( TOP-REAL 2 ));
reserve f for  circular (FinSequence of ( TOP-REAL 2 ));
theorem
Th34: (for G being Go-board holds (f is_sequence_on G iff ( Rotate (f,p) ) is_sequence_on G))
proof
let G being Go-board;
A1: ( dom f ) = ( dom ( Rotate (f,p) ) ) by CKB17:1;
A2: ( len f ) = ( len ( Rotate (f,p) ) ) by CKB16:1;
per cases ;
suppose (not p in ( rng f ));

hence thesis by FINSEQ_6:def 2;
end;
suppose A3: p in ( rng f );

then A4: ( p .. f ) <= ( len f ) by FINSEQ_4:21;
A5: 1 <= ( p .. f ) by A3,FINSEQ_4:21;
thus (f is_sequence_on G implies ( Rotate (f,p) ) is_sequence_on G)
proof
assume A6: f is_sequence_on G;
thus (for n holds (n in ( dom ( Rotate (f,p) ) ) implies (ex i st (ex j st ([ i,j ] in ( Indices G ) & ( ( Rotate (f,p) ) /. n ) = ( G * (i,j) ))))))
proof
let n;
assume A7: n in ( dom ( Rotate (f,p) ) );
then A8: 1 <= n by FINSEQ_3:25;
A9: n <= ( len ( Rotate (f,p) ) ) by A7,FINSEQ_3:25;
per cases ;
suppose A10: ( len ( f :- p ) ) <= n;

then ( ( ( len f ) - ( p .. f ) ) + 1 ) <= n by A3,FINSEQ_5:50;
then ( ( ( len f ) -' ( p .. f ) ) + 1 ) <= n by A4,XREAL_1:233;
then ( ( ( len f ) + 1 ) -' ( p .. f ) ) <= n by A4,NAT_D:38;
then ( ( len f ) + 1 ) <= ( n + ( p .. f ) ) by NAT_D:52;
then A11: 1 <= ( ( n + ( p .. f ) ) -' ( len f ) ) by NAT_D:55;
( n + ( p .. f ) ) <= ( ( len f ) + ( len f ) ) by A2,A4,A9,XREAL_1:7;
then ( ( n + ( p .. f ) ) -' ( len f ) ) <= ( len f ) by NAT_D:53;
then ( ( n + ( p .. f ) ) -' ( len f ) ) in ( dom ( Rotate (f,p) ) ) by A2,A11,FINSEQ_3:25;
then consider i,j such that A12: [ i,j ] in ( Indices G ) and A13: ( f /. ( ( n + ( p .. f ) ) -' ( len f ) ) ) = ( G * (i,j) ) by A1,A6,GOBOARD1:def 9;
take i;
take j;
thus [ i,j ] in ( Indices G ) by A12;
thus thesis by A2,A3,A9,A10,A13,CKB19:1;
end;
suppose A14: ( len ( f :- p ) ) >= n;

then ( ( ( len f ) - ( p .. f ) ) + 1 ) >= n by A3,FINSEQ_5:50;
then ( ( ( len f ) -' ( p .. f ) ) + 1 ) >= n by A4,XREAL_1:233;
then ( n -' 1 ) <= ( ( len f ) -' ( p .. f ) ) by NAT_D:53;
then A15: ( ( n -' 1 ) + ( p .. f ) ) <= ( len f ) by A4,NAT_D:54;
( 1 + 1 ) <= ( n + ( p .. f ) ) by A5,A8,XREAL_1:7;
then 1 <= ( ( n + ( p .. f ) ) -' 1 ) by NAT_D:55;
then 1 <= ( ( n -' 1 ) + ( p .. f ) ) by A8,NAT_D:38;
then ( ( n -' 1 ) + ( p .. f ) ) in ( dom ( Rotate (f,p) ) ) by A2,A15,FINSEQ_3:25;
then consider i,j such that A16: [ i,j ] in ( Indices G ) and A17: ( f /. ( ( n -' 1 ) + ( p .. f ) ) ) = ( G * (i,j) ) by A1,A6,GOBOARD1:def 9;
take i;
take j;
thus [ i,j ] in ( Indices G ) by A16;
thus thesis by A3,A8,A14,A17,CKB11:1;
end;
end;

let n;
assume that
A18: n in ( dom ( Rotate (f,p) ) )
and
A19: ( n + 1 ) in ( dom ( Rotate (f,p) ) );
A20: 1 <= n by A18,FINSEQ_3:25;
A21: n <= ( len f ) by A1,A18,FINSEQ_3:25;
A22: 1 <= ( n + 1 ) by A19,FINSEQ_3:25;
A23: ( n + 1 ) <= ( len f ) by A1,A19,FINSEQ_3:25;
let m;
let k;
let i;
let j;
assume that
A24: ((([ m,k ] in ( Indices G ) & [ i,j ] in ( Indices G )) & ( ( Rotate (f,p) ) /. n ) = ( G * (m,k) )) & ( ( Rotate (f,p) ) /. ( n + 1 ) ) = ( G * (i,j) ));
thus ( ( abs ( m - i ) ) + ( abs ( k - j ) ) ) = 1
proof
per cases ;
suppose that A25: ( len ( f :- p ) ) <= n;
( ( ( len f ) - ( p .. f ) ) + 1 ) <= n by A3,A25,FINSEQ_5:50;
then ( ( ( len f ) -' ( p .. f ) ) + 1 ) <= n by A4,XREAL_1:233;
then ( ( ( len f ) + 1 ) -' ( p .. f ) ) <= n by A4,NAT_D:38;
then ( ( len f ) + 1 ) <= ( n + ( p .. f ) ) by NAT_D:52;
then A26: 1 <= ( ( n + ( p .. f ) ) -' ( len f ) ) by NAT_D:55;
( n + ( p .. f ) ) <= ( ( len f ) + ( len f ) ) by A4,A21,XREAL_1:7;
then ( ( n + ( p .. f ) ) -' ( len f ) ) <= ( len f ) by NAT_D:53;
then A27: ( ( n + ( p .. f ) ) -' ( len f ) ) in ( dom f ) by A26,FINSEQ_3:25;
n <= ( n + 1 ) by NAT_1:11;
then A28: ( len ( f :- p ) ) <= ( n + 1 ) by A25,XXREAL_0:2;
then A29: ( ( ( len f ) - ( p .. f ) ) + 1 ) <= ( n + 1 ) by A3,FINSEQ_5:50;
then ( ( len f ) - ( p .. f ) ) <= n by XREAL_1:6;
then A30: ( len f ) <= ( n + ( p .. f ) ) by XREAL_1:20;
A31: ( ( Rotate (f,p) ) /. ( n + 1 ) ) = ( f /. ( ( ( n + 1 ) + ( p .. f ) ) -' ( len f ) ) ) by A3,A23,A28,CKB19:1;
A32: ( ( ( n + 1 ) + ( p .. f ) ) -' ( len f ) ) = ( ( ( n + ( p .. f ) ) + 1 ) -' ( len f ) )
.= ( ( ( n + ( p .. f ) ) -' ( len f ) ) + 1 ) by A30,NAT_D:38;
( ( ( len f ) -' ( p .. f ) ) + 1 ) <= ( n + 1 ) by A4,A29,XREAL_1:233;
then ( ( ( len f ) + 1 ) -' ( p .. f ) ) <= ( n + 1 ) by A4,NAT_D:38;
then ( ( len f ) + 1 ) <= ( ( n + 1 ) + ( p .. f ) ) by NAT_D:52;
then A33: 1 <= ( ( ( n + 1 ) + ( p .. f ) ) -' ( len f ) ) by NAT_D:55;
( ( n + 1 ) + ( p .. f ) ) <= ( ( len f ) + ( len f ) ) by A4,A23,XREAL_1:7;
then ( ( ( n + 1 ) + ( p .. f ) ) -' ( len f ) ) <= ( len f ) by NAT_D:53;
then A34: ( ( ( n + 1 ) + ( p .. f ) ) -' ( len f ) ) in ( dom f ) by A33,FINSEQ_3:25;
( ( Rotate (f,p) ) /. n ) = ( f /. ( ( n + ( p .. f ) ) -' ( len f ) ) ) by A3,A21,A25,CKB19:1;
hence thesis by A6,A24,A31,A32,A27,A34,GOBOARD1:def 9;
end;
suppose A35: ( len ( f :- p ) ) > n;

then n <= ( ( ( len f ) - ( p .. f ) ) + 1 ) by A3,FINSEQ_5:50;
then n <= ( ( ( len f ) -' ( p .. f ) ) + 1 ) by A4,XREAL_1:233;
then ( n -' 1 ) <= ( ( len f ) -' ( p .. f ) ) by NAT_D:53;
then A36: ( ( n -' 1 ) + ( p .. f ) ) <= ( len f ) by A4,NAT_D:54;
( 1 + 1 ) <= ( n + ( p .. f ) ) by A5,A20,XREAL_1:7;
then 1 <= ( ( n + ( p .. f ) ) -' 1 ) by NAT_D:55;
then 1 <= ( ( n -' 1 ) + ( p .. f ) ) by A20,NAT_D:38;
then A37: ( ( n -' 1 ) + ( p .. f ) ) in ( dom f ) by A36,FINSEQ_3:25;
A38: ( ( ( n + 1 ) -' 1 ) + ( p .. f ) ) = ( n + ( p .. f ) ) by NAT_D:34
.= ( ( ( n -' 1 ) + 1 ) + ( p .. f ) ) by A20,XREAL_1:235
.= ( ( ( n -' 1 ) + ( p .. f ) ) + 1 );
A39: ( len ( f :- p ) ) >= ( n + 1 ) by A35,NAT_1:13;
then A40: ( ( Rotate (f,p) ) /. ( n + 1 ) ) = ( f /. ( ( ( n + 1 ) -' 1 ) + ( p .. f ) ) ) by A3,A22,CKB11:1;
( n + 1 ) <= ( ( ( len f ) - ( p .. f ) ) + 1 ) by A3,A39,FINSEQ_5:50;
then ( n + 1 ) <= ( ( ( len f ) -' ( p .. f ) ) + 1 ) by A4,XREAL_1:233;
then ( ( n + 1 ) -' 1 ) <= ( ( len f ) -' ( p .. f ) ) by NAT_D:53;
then A41: ( ( ( n + 1 ) -' 1 ) + ( p .. f ) ) <= ( len f ) by A4,NAT_D:54;
( 1 + 1 ) <= ( ( n + 1 ) + ( p .. f ) ) by A5,A22,XREAL_1:7;
then 1 <= ( ( ( n + 1 ) + ( p .. f ) ) -' 1 ) by NAT_D:55;
then 1 <= ( ( ( n + 1 ) -' 1 ) + ( p .. f ) ) by A22,NAT_D:38;
then A42: ( ( ( n + 1 ) -' 1 ) + ( p .. f ) ) in ( dom f ) by A41,FINSEQ_3:25;
( ( Rotate (f,p) ) /. n ) = ( f /. ( ( n -' 1 ) + ( p .. f ) ) ) by A3,A20,A35,CKB11:1;
hence thesis by A6,A24,A40,A38,A37,A42,GOBOARD1:def 9;
end;
end;

end;

assume A43: ( Rotate (f,p) ) is_sequence_on G;
thus (for n holds (n in ( dom f ) implies (ex i st (ex j st ([ i,j ] in ( Indices G ) & ( f /. n ) = ( G * (i,j) ))))))
proof
let n;
assume A44: n in ( dom f );
then A45: 1 <= n by FINSEQ_3:25;
A46: n <= ( len f ) by A44,FINSEQ_3:25;
per cases ;
suppose A47: n <= ( p .. f );

n <= ( n + ( ( len f ) -' ( p .. f ) ) ) by NAT_1:11;
then 1 <= ( n + ( ( len f ) -' ( p .. f ) ) ) by A45,XXREAL_0:2;
then A48: 1 <= ( ( n + ( len f ) ) -' ( p .. f ) ) by A4,NAT_D:38;
( n + ( len f ) ) <= ( ( len f ) + ( p .. f ) ) by A47,XREAL_1:6;
then ( ( n + ( len f ) ) -' ( p .. f ) ) <= ( len f ) by NAT_D:53;
then ( ( n + ( len f ) ) -' ( p .. f ) ) in ( dom f ) by A48,FINSEQ_3:25;
then consider i,j such that A49: [ i,j ] in ( Indices G ) and A50: ( ( Rotate (f,p) ) /. ( ( n + ( len f ) ) -' ( p .. f ) ) ) = ( G * (i,j) ) by A1,A43,GOBOARD1:def 9;
take i;
take j;
thus [ i,j ] in ( Indices G ) by A49;
thus thesis by A3,A45,A47,A50,CKB20:1;
end;
suppose A51: n >= ( p .. f );

then ( 1 + ( p .. f ) ) <= ( n + 1 ) by XREAL_1:6;
then A52: 1 <= ( ( n + 1 ) -' ( p .. f ) ) by NAT_D:55;
( n + 1 ) <= ( ( len f ) + ( p .. f ) ) by A5,A46,XREAL_1:7;
then ( ( n + 1 ) -' ( p .. f ) ) <= ( len f ) by NAT_D:53;
then ( ( n + 1 ) -' ( p .. f ) ) in ( dom f ) by A52,FINSEQ_3:25;
then consider i,j such that A53: [ i,j ] in ( Indices G ) and A54: ( ( Rotate (f,p) ) /. ( ( n + 1 ) -' ( p .. f ) ) ) = ( G * (i,j) ) by A1,A43,GOBOARD1:def 9;
take i;
take j;
thus [ i,j ] in ( Indices G ) by A53;
thus thesis by A3,A46,A51,A54,CKB12:1;
end;
end;

let n;
assume that
A55: n in ( dom f )
and
A56: ( n + 1 ) in ( dom f );
A57: 1 <= n by A55,FINSEQ_3:25;
A58: 1 <= ( n + 1 ) by A56,FINSEQ_3:25;
A59: n <= ( len f ) by A55,FINSEQ_3:25;
A60: ( n + 1 ) <= ( len f ) by A56,FINSEQ_3:25;
let m;
let k;
let i;
let j;
assume that
A61: ((([ m,k ] in ( Indices G ) & [ i,j ] in ( Indices G )) & ( f /. n ) = ( G * (m,k) )) & ( f /. ( n + 1 ) ) = ( G * (i,j) ));
thus ( ( abs ( m - i ) ) + ( abs ( k - j ) ) ) = 1
proof
per cases ;
suppose A62: n < ( p .. f );

n <= ( n + ( ( len f ) -' ( p .. f ) ) ) by NAT_1:11;
then 1 <= ( n + ( ( len f ) -' ( p .. f ) ) ) by A57,XXREAL_0:2;
then A63: 1 <= ( ( n + ( len f ) ) -' ( p .. f ) ) by A4,NAT_D:38;
( n + ( len f ) ) <= ( ( len f ) + ( p .. f ) ) by A62,XREAL_1:6;
then ( ( n + ( len f ) ) -' ( p .. f ) ) <= ( len f ) by NAT_D:53;
then A64: ( ( n + ( len f ) ) -' ( p .. f ) ) in ( dom f ) by A63,FINSEQ_3:25;
A65: ( ( ( n + 1 ) + ( len f ) ) -' ( p .. f ) ) = ( ( ( len f ) -' ( p .. f ) ) + ( n + 1 ) ) by A4,NAT_D:38
.= ( ( ( ( len f ) -' ( p .. f ) ) + n ) + 1 )
.= ( ( ( n + ( len f ) ) -' ( p .. f ) ) + 1 ) by A4,NAT_D:38;
( n + 1 ) <= ( ( n + 1 ) + ( ( len f ) -' ( p .. f ) ) ) by NAT_1:11;
then 1 <= ( ( n + 1 ) + ( ( len f ) -' ( p .. f ) ) ) by A58,XXREAL_0:2;
then A66: 1 <= ( ( ( n + 1 ) + ( len f ) ) -' ( p .. f ) ) by A4,NAT_D:38;
A67: ( n + 1 ) <= ( p .. f ) by A62,NAT_1:13;
then A68: ( f /. ( n + 1 ) ) = ( ( Rotate (f,p) ) /. ( ( ( n + 1 ) + ( len f ) ) -' ( p .. f ) ) ) by A3,A58,CKB20:1;
( ( n + 1 ) + ( len f ) ) <= ( ( len f ) + ( p .. f ) ) by A67,XREAL_1:6;
then ( ( ( n + 1 ) + ( len f ) ) -' ( p .. f ) ) <= ( len f ) by NAT_D:53;
then A69: ( ( ( n + 1 ) + ( len f ) ) -' ( p .. f ) ) in ( dom f ) by A66,FINSEQ_3:25;
( f /. n ) = ( ( Rotate (f,p) ) /. ( ( n + ( len f ) ) -' ( p .. f ) ) ) by A3,A57,A62,CKB20:1;
hence thesis by A1,A43,A61,A68,A65,A64,A69,GOBOARD1:def 9;
end;
suppose A70: n >= ( p .. f );

then ( 1 + ( p .. f ) ) <= ( n + 1 ) by XREAL_1:6;
then A71: 1 <= ( ( n + 1 ) -' ( p .. f ) ) by NAT_D:55;
( n + 1 ) <= ( ( len f ) + ( p .. f ) ) by A5,A59,XREAL_1:7;
then ( ( n + 1 ) -' ( p .. f ) ) <= ( len f ) by NAT_D:53;
then A72: ( ( n + 1 ) -' ( p .. f ) ) in ( dom f ) by A71,FINSEQ_3:25;
A73: ( f /. n ) = ( ( Rotate (f,p) ) /. ( ( n + 1 ) -' ( p .. f ) ) ) by A3,A59,A70,CKB12:1;
A74: n <= ( n + 1 ) by NAT_1:11;
then A75: ( ( ( n + 1 ) + 1 ) -' ( p .. f ) ) = ( ( ( n + 1 ) -' ( p .. f ) ) + 1 ) by A70,NAT_D:38,XXREAL_0:2;
A76: ( n + 1 ) >= ( p .. f ) by A70,A74,XXREAL_0:2;
then ( 1 + ( p .. f ) ) <= ( ( n + 1 ) + 1 ) by XREAL_1:6;
then A77: 1 <= ( ( ( n + 1 ) + 1 ) -' ( p .. f ) ) by NAT_D:55;
( ( n + 1 ) + 1 ) <= ( ( len f ) + ( p .. f ) ) by A5,A60,XREAL_1:7;
then ( ( ( n + 1 ) + 1 ) -' ( p .. f ) ) <= ( len f ) by NAT_D:53;
then A78: ( ( ( n + 1 ) + 1 ) -' ( p .. f ) ) in ( dom f ) by A77,FINSEQ_3:25;
( f /. ( n + 1 ) ) = ( ( Rotate (f,p) ) /. ( ( ( n + 1 ) + 1 ) -' ( p .. f ) ) ) by A3,A60,A76,CKB12:1;
hence thesis by A1,A43,A61,A73,A75,A78,A72,GOBOARD1:def 9;
end;
end;

end;
end;
