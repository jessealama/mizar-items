environ
vocabularies NUMBERS,REAL_1,SUBSET_1,SEQ_1,PARTFUN1,ARYTM_3,XXREAL_1,TARSKI,RELAT_1,ORDINAL2,FUNCT_1,FDIFF_1,CARD_1,RCOMP_1,XXREAL_2,XREAL_0,ORDINAL1,SEQ_4,XXREAL_0,XBOOLE_0,ARYTM_1,VALUED_0,SEQ_2,VALUED_1,FUNCT_2,FUNCOP_1;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,FUNCT_2,NUMBERS,XREAL_0,XXREAL_0,XXREAL_2,REAL_1,RELSET_1,VALUED_0,VALUED_1,SEQ_1,SEQ_2,SEQ_4,PARTFUN1,PARTFUN2,RCOMP_1,FCONT_1,FDIFF_1;
definitions TARSKI,RFUNCT_2,XCMPLX_0;
theorems TARSKI,NAT_1,SEQ_1,SEQ_2,SEQ_4,PARTFUN2,RFUNCT_2,RCOMP_1,FCONT_1,FDIFF_1,ZFMISC_1,FUNCT_1,XREAL_0,XBOOLE_0,XBOOLE_1,XCMPLX_1,FUNCOP_1,XREAL_1,XXREAL_0,VALUED_1,XXREAL_2,XXREAL_1,FUNCT_2,VALUED_0,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6;
schemes SEQ_1;
registrations XBOOLE_0,RELSET_1,NUMBERS,XXREAL_0,XREAL_0,NAT_1,MEMBERED,RCOMP_1,FDIFF_1,VALUED_0,VALUED_1,FUNCT_2,XXREAL_2,FCONT_1,ORDINAL1;
constructors PARTFUN1,REAL_1,NAT_1,SEQ_2,SEQ_4,RCOMP_1,PARTFUN2,RFUNCT_2,FCONT_1,FDIFF_1,VALUED_1,SEQ_1,XXREAL_2,COMPLEX1,RELSET_1,BINOP_2;
requirements REAL,NUMERALS,SUBSET,BOOLE,ARITHM;
begin
reserve g for Real;
reserve p for Real;
reserve x for Real;
reserve x0 for Real;
reserve x1 for Real;
reserve x2 for Real;
reserve f for (PartFunc of ( REAL ),( REAL ));
theorem
Th7: (for p holds (for g holds (for f holds (((]. p,g .[ c= ( dom f ) & f is_differentiable_on ]. p,g .[) & (for x holds (x in ]. p,g .[ implies ( diff (f,x) ) = ( 0 )))) implies ( f | ]. p,g .[ ) is  constant))))
proof
let p;
let g;
let f;
assume that
A1: ]. p,g .[ c= ( dom f )
and
A2: f is_differentiable_on ]. p,g .[
and
A3: (for x holds (x in ]. p,g .[ implies ( diff (f,x) ) = ( 0 )));
now
let x1;
let x2;
assume (x1 in ( ]. p,g .[ /\ ( dom f ) ) & x2 in ( ]. p,g .[ /\ ( dom f ) ));
then A4: (x1 in ]. p,g .[ & x2 in ]. p,g .[) by XBOOLE_0:def 4;
now
per cases ;
suppose x1 = x2;

hence ( f . x1 ) = ( f . x2 );
end;
suppose A5: (not x1 = x2);

now
per cases  by A5,XXREAL_0:1;
suppose A6: x1 < x2;

then ( 0 ) <> ( x2 - x1 );
then A7: ( 0 ) <> ( ( x2 - x1 ) " ) by XCMPLX_1:202;
reconsider Z = ]. x1,x2 .[ as  open (Subset of ( REAL ));
A8: [. x1,x2 .] c= ]. p,g .[ by A4,XXREAL_2:def 12;
( f | ]. p,g .[ ) is  continuous by A2,FDIFF_1:25;
then A9: ( f | [. x1,x2 .] ) is  continuous by A8,FCONT_1:16;
A10: Z c= [. x1,x2 .] by XXREAL_1:25;
then f is_differentiable_on Z by A2,A8,FDIFF_1:26,XBOOLE_1:1;
then A11: (ex x0 st (x0 in ]. x1,x2 .[ & ( diff (f,x0) ) = ( ( ( f . x2 ) - ( f . x1 ) ) / ( x2 - x1 ) ))) by A1,A6,A8,A9,CKB3:1,XBOOLE_1:1;
Z c= ]. p,g .[ by A8,A10,XBOOLE_1:1;
then ( 0 ) = ( ( f . x2 ) - ( f . x1 ) ) by A3,A7,A11,XCMPLX_1:6;
hence ( f . x1 ) = ( f . x2 );
end;
suppose A12: x2 < x1;

then ( 0 ) <> ( x1 - x2 );
then A13: ( 0 ) <> ( ( x1 - x2 ) " ) by XCMPLX_1:202;
reconsider Z = ]. x2,x1 .[ as  open (Subset of ( REAL ));
A14: [. x2,x1 .] c= ]. p,g .[ by A4,XXREAL_2:def 12;
( f | ]. p,g .[ ) is  continuous by A2,FDIFF_1:25;
then A15: ( f | [. x2,x1 .] ) is  continuous by A14,FCONT_1:16;
A16: Z c= [. x2,x1 .] by XXREAL_1:25;
then f is_differentiable_on Z by A2,A14,FDIFF_1:26,XBOOLE_1:1;
then A17: (ex x0 st (x0 in ]. x2,x1 .[ & ( diff (f,x0) ) = ( ( ( f . x1 ) - ( f . x2 ) ) / ( x1 - x2 ) ))) by A1,A12,A14,A15,CKB3:1,XBOOLE_1:1;
Z c= ]. p,g .[ by A14,A16,XBOOLE_1:1;
then ( 0 ) = ( ( f . x1 ) - ( f . x2 ) ) by A3,A13,A17,XCMPLX_1:6;
hence ( f . x1 ) = ( f . x2 );
end;
end;
hence ( f . x1 ) = ( f . x2 );
end;
end;
hence ( f . x1 ) = ( f . x2 );
end;
hence thesis by PARTFUN2:58;
end;
