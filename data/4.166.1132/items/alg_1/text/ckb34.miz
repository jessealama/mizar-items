environ
vocabularies UNIALG_1,SUBSET_1,NUMBERS,UNIALG_2,XBOOLE_0,FINSEQ_1,FUNCT_1,RELAT_1,NAT_1,TARSKI,STRUCT_0,PARTFUN1,MSUALG_3,CQC_SIM1,WELLORD1,FINSEQ_2,GROUP_6,EQREL_1,FUNCT_2,CARD_3,RELAT_2,ALG_1,CARD_1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,FINSEQ_1,PARTFUN1,EQREL_1,FINSEQ_2,FUNCT_2,STRUCT_0,MARGREL1,UNIALG_1,FINSEQOP,FINSEQ_3,UNIALG_2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB20,CKB23,CKB24,CKB25,CKB26,CKB27,CKB28,CKB29,CKB32,CKB33;
definitions UNIALG_2,RELAT_2,TARSKI,FUNCT_1,XBOOLE_0,FUNCT_2,MARGREL1,FINSEQ_3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB20,CKB25,CKB26,CKB27,CKB28,CKB29,CKB32,CKB33;
theorems FINSEQ_1,FINSEQ_2,FUNCT_1,FUNCT_2,PARTFUN1,UNIALG_1,UNIALG_2,RELAT_1,RELSET_1,EQREL_1,ZFMISC_1,FINSEQ_3,XBOOLE_0,RELAT_2,ORDERS_1,MARGREL1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26,CKB27,CKB28,CKB29,CKB30,CKB31,CKB32,CKB33;
schemes FINSEQ_1,RELSET_1,FUNCT_2,FUNCT_1;
registrations RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,EQREL_1,FINSEQ_2,STRUCT_0,UNIALG_1,UNIALG_2,ORDINAL1,FINSEQ_1,CARD_1,RELSET_1,MARGREL1,XBOOLE_0;
constructors EQREL_1,FINSEQOP,UNIALG_2,RELSET_1,CARD_3,FINSEQ_3,CARD_1,NAT_1,CKB5,CKB6,CKB7,CKB8,CKB9,CKB20,CKB25,CKB26,CKB27,CKB28,CKB29,CKB32,CKB33;
requirements BOOLE,SUBSET;
begin
reserve U1 for Universal_Algebra;
reserve U2 for Universal_Algebra;
reserve n for (Element of ( NAT ));
reserve x for set;
reserve y for set;
reserve f for (Function of U1,U2);
theorem
Th23: (f is_homomorphism U1,U2 implies (( HomQuot f ) is_homomorphism ( QuotUnivAlg (U1,( Cng f )) ),U2 & ( HomQuot f ) is_monomorphism ( QuotUnivAlg (U1,( Cng f )) ),U2))
proof
set qa = ( QuotUnivAlg (U1,( Cng f )) );
set cqa = (the carrier of qa);
set u1 = (the carrier of U1);
set F = ( HomQuot f );
assume A1: f is_homomorphism U1,U2;
thus A2: F is_homomorphism qa,U2
proof
( Nat_Hom (U1,( Cng f )) ) is_homomorphism U1,qa by CKB30:1;
then U1,qa are_similar  by CKB5:def 1;
then A3: ( signature U1 ) = ( signature qa ) by UNIALG_2:def 1;
U1,U2 are_similar  by A1,CKB5:def 1;
then ( signature U2 ) = ( signature qa ) by A3,UNIALG_2:def 1;
hence qa,U2 are_similar  by UNIALG_2:def 1;
let n;
assume A4: n in ( dom (the charact of qa) );
A5: (( len ( signature U1 ) ) = ( len (the charact of U1) ) & ( len ( signature qa ) ) = ( len (the charact of qa) )) by UNIALG_1:def 4;
A6: (( dom (the charact of qa) ) = ( Seg ( len (the charact of qa) ) ) & ( dom (the charact of U1) ) = ( Seg ( len (the charact of U1) ) )) by FINSEQ_1:def 3;
then reconsider o1 = ( (the charact of U1) . n ) as (operation of U1) by A3,A4,A5,FUNCT_1:def 3;
A7: ( dom o1 ) = ( ( arity o1 ) -tuples_on u1 ) by MARGREL1:22
.= { p where p is (Element of ( u1 * )): ( len p ) = ( arity o1 ) } by FINSEQ_2:def 4;
let oq being (operation of qa);
let o2 being (operation of U2);
assume that
A8: oq = ( (the charact of qa) . n )
and
A9: o2 = ( (the charact of U2) . n );
let x being (FinSequence of qa);
assume A10: x in ( dom oq );
reconsider x1 = x as (FinSequence of ( Class ( Cng f ) ));
reconsider x1 as (Element of ( ( Class ( Cng f ) ) * )) by FINSEQ_1:def 11;
consider y being (FinSequence of U1) such that A11: y is_representatives_FS x1 by FINSEQ_3:122;
reconsider y as (Element of ( u1 * )) by FINSEQ_1:def 11;
A12: ( len x1 ) = ( len y ) by A11,FINSEQ_3:def 4;
then A13: ( len ( F * x ) ) = ( len y ) by FINSEQ_3:120;
A14: ( len y ) = ( len ( f * y ) ) by FINSEQ_3:120;
A15:now
let m being Nat;
assume A16: m in ( Seg ( len y ) );
then A17: m in ( dom ( F * x ) ) by A13,FINSEQ_1:def 3;
A18: m in ( dom ( f * y ) ) by A14,A16,FINSEQ_1:def 3;
A19: m in ( dom y ) by A16,FINSEQ_1:def 3;
then reconsider ym = ( y . m ) as (Element of u1) by FINSEQ_2:11;
( x1 . m ) = ( Class (( Cng f ),( y . m )) ) by A11,A19,FINSEQ_3:def 4;
hence ( ( F * x ) . m ) = ( F . ( Class (( Cng f ),ym) ) ) by A17,FINSEQ_3:120
.= ( f . ( y . m ) ) by A1,CKB33:def 1
.= ( ( f * y ) . m ) by A18,FINSEQ_3:120;
end;
( dom ( F * x ) ) = ( Seg ( len y ) ) by A13,FINSEQ_1:def 3;
then A20: ( o2 . ( F * x ) ) = ( o2 . ( f * y ) ) by A13,A14,A15,FINSEQ_2:9;
A21: oq = ( QuotOp (o1,( Cng f )) ) by A4,A8,CKB27:def 1;
then ( dom oq ) = ( ( arity o1 ) -tuples_on ( Class ( Cng f ) ) ) by CKB26:def 1
.= { w where w is (Element of ( ( Class ( Cng f ) ) * )): ( len w ) = ( arity o1 ) } by FINSEQ_2:def 4;
then (ex w being (Element of ( ( Class ( Cng f ) ) * )) st (w = x1 & ( len w ) = ( arity o1 ))) by A10;
then A22: y in ( dom o1 ) by A12,A7;
then ( o1 . y ) in ( rng o1 ) by FUNCT_1:def 3;
then reconsider o1y = ( o1 . y ) as (Element of u1);
( F . ( oq . x ) ) = ( F . ( Class (( Cng f ),o1y) ) ) by A10,A11,A21,CKB26:def 1
.= ( f . ( o1 . y ) ) by A1,CKB33:def 1;
hence thesis by A1,A3,A4,A9,A6,A5,A22,A20,CKB5:def 1;
end;

A23: ( dom F ) = cqa by FUNCT_2:def 1;
F is  one-to-one
proof
let x;
let y;
assume that
A24: x in ( dom F )
and
A25: y in ( dom F )
and
A26: ( F . x ) = ( F . y );
reconsider x1 = x,y1 = y as (Subset of u1) by A23,A24,A25;
consider a being set such that A27: a in u1 and A28: x1 = ( Class (( Cng f ),a) ) by A24,EQREL_1:def 3;
reconsider a as (Element of u1) by A27;
consider b being set such that A29: b in u1 and A30: y1 = ( Class (( Cng f ),b) ) by A25,EQREL_1:def 3;
reconsider b as (Element of u1) by A29;
A31: ( F . y1 ) = ( f . b ) by A1,A30,CKB33:def 1;
( F . x1 ) = ( f . a ) by A1,A28,CKB33:def 1;
then [ a,b ] in ( Cng f ) by A1,A26,A31,CKB32:def 1;
hence thesis by A28,A30,EQREL_1:35;
end;
hence thesis by A2,CKB6:def 1;
end;
