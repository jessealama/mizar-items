environ
vocabularies UNIALG_1,SUBSET_1,NUMBERS,UNIALG_2,XBOOLE_0,FINSEQ_1,FUNCT_1,RELAT_1,NAT_1,TARSKI,STRUCT_0,PARTFUN1,MSUALG_3,CQC_SIM1,WELLORD1,FINSEQ_2,GROUP_6,EQREL_1,FUNCT_2,CARD_3,RELAT_2,ALG_1,CARD_1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,FINSEQ_1,PARTFUN1,EQREL_1,FINSEQ_2,FUNCT_2,STRUCT_0,MARGREL1,UNIALG_1,FINSEQOP,FINSEQ_3,UNIALG_2,CKB5,CKB6,CKB7,CKB8,CKB9;
definitions UNIALG_2,RELAT_2,TARSKI,FUNCT_1,XBOOLE_0,FUNCT_2,MARGREL1,FINSEQ_3,CKB5,CKB6,CKB7,CKB8,CKB9;
theorems FINSEQ_1,FINSEQ_2,FUNCT_1,FUNCT_2,PARTFUN1,UNIALG_1,UNIALG_2,RELAT_1,RELSET_1,EQREL_1,ZFMISC_1,FINSEQ_3,XBOOLE_0,RELAT_2,ORDERS_1,MARGREL1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10;
schemes FINSEQ_1,RELSET_1,FUNCT_2,FUNCT_1;
registrations RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,EQREL_1,FINSEQ_2,STRUCT_0,UNIALG_1,UNIALG_2,ORDINAL1,FINSEQ_1,CARD_1,RELSET_1,MARGREL1,XBOOLE_0;
constructors EQREL_1,FINSEQOP,UNIALG_2,RELSET_1,CARD_3,FINSEQ_3,CARD_1,NAT_1,CKB5,CKB6,CKB7,CKB8,CKB9;
requirements BOOLE,SUBSET;
begin
reserve U1 for Universal_Algebra;
reserve U2 for Universal_Algebra;
reserve U3 for Universal_Algebra;
reserve n for (Element of ( NAT ));
reserve o1 for (operation of U1);
reserve o3 for (operation of U3);
reserve a for (FinSequence of U1);
theorem
Th7: (for h1 being (Function of U1,U2) holds (for h2 being (Function of U2,U3) holds ((h1 is_homomorphism U1,U2 & h2 is_homomorphism U2,U3) implies ( h2 * h1 ) is_homomorphism U1,U3)))
proof
let h1 being (Function of U1,U2);
let h2 being (Function of U2,U3);
set s1 = ( signature U1 );
set s2 = ( signature U2 );
set s3 = ( signature U3 );
assume that
A1: h1 is_homomorphism U1,U2
and
A2: h2 is_homomorphism U2,U3;
U1,U2 are_similar  by A1,CKB5:def 1;
then A3: s1 = s2 by UNIALG_2:def 1;
U2,U3 are_similar  by A2,CKB5:def 1;
hence s1 = s3 by A3,UNIALG_2:def 1;
let n;
assume A4: n in ( dom (the charact of U1) );
let o1;
let o3;
assume that
A5: o1 = ( (the charact of U1) . n )
and
A6: o3 = ( (the charact of U3) . n );
let a;
reconsider b = ( h1 * a ) as (Element of ( (the carrier of U2) * )) by FINSEQ_1:def 11;
assume A7: a in ( dom o1 );
then A8: ( o1 . a ) in ( rng o1 ) by FUNCT_1:def 3;
( dom o1 ) = ( ( arity o1 ) -tuples_on (the carrier of U1) ) by MARGREL1:22;
then a in { w where w is (Element of ( (the carrier of U1) * )): ( len w ) = ( arity o1 ) } by A7,FINSEQ_2:def 4;
then A9: (ex w being (Element of ( (the carrier of U1) * )) st (w = a & ( len w ) = ( arity o1 )));
A10: (( len s1 ) = ( len (the charact of U1) ) & ( dom (the charact of U1) ) = ( Seg ( len (the charact of U1) ) )) by FINSEQ_1:def 3,UNIALG_1:def 4;
A11: (( len s2 ) = ( len (the charact of U2) ) & ( dom (the charact of U2) ) = ( Seg ( len (the charact of U2) ) )) by FINSEQ_1:def 3,UNIALG_1:def 4;
then reconsider o2 = ( (the charact of U2) . n ) as (operation of U2) by A3,A10,A4,FUNCT_1:def 3;
A12: ( dom s1 ) = ( Seg ( len s1 ) ) by FINSEQ_1:def 3;
then A13: ( s2 . n ) = ( arity o2 ) by A3,A10,A4,UNIALG_1:def 4;
( s1 . n ) = ( arity o1 ) by A10,A12,A4,A5,UNIALG_1:def 4;
then ( len ( h1 * a ) ) = ( arity o2 ) by A3,A13,A9,FINSEQ_3:120;
then (( dom o2 ) = ( ( arity o2 ) -tuples_on (the carrier of U2) ) & b in { s where s is (Element of ( (the carrier of U2) * )): ( len s ) = ( arity o2 ) }) by MARGREL1:22;
then ( h1 * a ) in ( dom o2 ) by FINSEQ_2:def 4;
then A14: ( h2 . ( o2 . ( h1 * a ) ) ) = ( o3 . ( h2 * ( h1 * a ) ) ) by A2,A3,A10,A11,A4,A6,CKB5:def 1;
( h1 . ( o1 . a ) ) = ( o2 . ( h1 * a ) ) by A1,A4,A5,A7,CKB5:def 1;
hence ( ( h2 * h1 ) . ( o1 . a ) ) = ( o3 . ( h2 * ( h1 * a ) ) ) by A8,A14,FUNCT_2:15
.= ( o3 . ( ( h2 * h1 ) * a ) ) by CKB4:1;
end;
