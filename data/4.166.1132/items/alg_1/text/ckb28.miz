environ
vocabularies UNIALG_1,SUBSET_1,NUMBERS,UNIALG_2,XBOOLE_0,FINSEQ_1,FUNCT_1,RELAT_1,NAT_1,TARSKI,STRUCT_0,PARTFUN1,MSUALG_3,CQC_SIM1,WELLORD1,FINSEQ_2,GROUP_6,EQREL_1,FUNCT_2,CARD_3,RELAT_2,ALG_1,CARD_1;
notations TARSKI,XBOOLE_0,SUBSET_1,NUMBERS,NAT_1,RELAT_1,RELAT_2,FUNCT_1,RELSET_1,FINSEQ_1,PARTFUN1,EQREL_1,FINSEQ_2,FUNCT_2,STRUCT_0,MARGREL1,UNIALG_1,FINSEQOP,FINSEQ_3,UNIALG_2,CKB5,CKB6,CKB7,CKB8,CKB9,CKB20,CKB23,CKB24,CKB25,CKB26,CKB27;
definitions UNIALG_2,RELAT_2,TARSKI,FUNCT_1,XBOOLE_0,FUNCT_2,MARGREL1,FINSEQ_3,CKB5,CKB6,CKB7,CKB8,CKB9,CKB20,CKB25,CKB26,CKB27;
theorems FINSEQ_1,FINSEQ_2,FUNCT_1,FUNCT_2,PARTFUN1,UNIALG_1,UNIALG_2,RELAT_1,RELSET_1,EQREL_1,ZFMISC_1,FINSEQ_3,XBOOLE_0,RELAT_2,ORDERS_1,MARGREL1,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16,CKB17,CKB18,CKB19,CKB20,CKB21,CKB22,CKB25,CKB26,CKB27;
schemes FINSEQ_1,RELSET_1,FUNCT_2,FUNCT_1;
registrations RELAT_1,FUNCT_1,PARTFUN1,FUNCT_2,EQREL_1,FINSEQ_2,STRUCT_0,UNIALG_1,UNIALG_2,ORDINAL1,FINSEQ_1,CARD_1,RELSET_1,MARGREL1,XBOOLE_0;
constructors EQREL_1,FINSEQOP,UNIALG_2,RELSET_1,CARD_3,FINSEQ_3,CARD_1,NAT_1,CKB5,CKB6,CKB7,CKB8,CKB9,CKB20,CKB25,CKB26,CKB27;
requirements BOOLE,SUBSET;
begin
reserve U1 for Universal_Algebra;
reserve n for (Element of ( NAT ));
reserve E for (Congruence of U1);
definition
let U1;
let E;
func QuotUnivAlg (U1,E) ->  strict Universal_Algebra equals 
UAStr (# ( Class E ),( QuotOpSeq (U1,E) ) #);
coherence
proof
set UU = UAStr (# ( Class E ),( QuotOpSeq (U1,E) ) #);
(for n being Nat holds (for h being (PartFunc of ( ( Class E ) * ),( Class E )) holds ((n in ( dom ( QuotOpSeq (U1,E) ) ) & h = ( ( QuotOpSeq (U1,E) ) . n )) implies h is  homogeneous)))
proof
let n being Nat;
let h being (PartFunc of ( ( Class E ) * ),( Class E ));
assume that
A1: n in ( dom ( QuotOpSeq (U1,E) ) )
and
A2: h = ( ( QuotOpSeq (U1,E) ) . n );
n in ( Seg ( len ( QuotOpSeq (U1,E) ) ) ) by A1,FINSEQ_1:def 3;
then n in ( Seg ( len (the charact of U1) ) ) by CKB27:def 1;
then n in ( dom (the charact of U1) ) by FINSEQ_1:def 3;
then reconsider o = ( (the charact of U1) . n ) as (operation of U1) by FUNCT_1:def 3;
( ( QuotOpSeq (U1,E) ) . n ) = ( QuotOp (o,E) ) by A1,CKB27:def 1;
hence thesis by A2;
end;
then A3: (the charact of UU) is  homogeneous by MARGREL1:def 23;
(for n being Nat holds (for h being (PartFunc of ( ( Class E ) * ),( Class E )) holds ((n in ( dom ( QuotOpSeq (U1,E) ) ) & h = ( ( QuotOpSeq (U1,E) ) . n )) implies h is  quasi_total)))
proof
let n being Nat;
let h being (PartFunc of ( ( Class E ) * ),( Class E ));
assume that
A4: n in ( dom ( QuotOpSeq (U1,E) ) )
and
A5: h = ( ( QuotOpSeq (U1,E) ) . n );
n in ( Seg ( len ( QuotOpSeq (U1,E) ) ) ) by A4,FINSEQ_1:def 3;
then n in ( Seg ( len (the charact of U1) ) ) by CKB27:def 1;
then n in ( dom (the charact of U1) ) by FINSEQ_1:def 3;
then reconsider o = ( (the charact of U1) . n ) as (operation of U1) by FUNCT_1:def 3;
( ( QuotOpSeq (U1,E) ) . n ) = ( QuotOp (o,E) ) by A4,CKB27:def 1;
hence thesis by A5;
end;
then A6: (the charact of UU) is  quasi_total by MARGREL1:def 24;
(for n being set holds (n in ( dom ( QuotOpSeq (U1,E) ) ) implies ( ( QuotOpSeq (U1,E) ) . n ) is non  empty))
proof
let n being set;
assume A7: n in ( dom ( QuotOpSeq (U1,E) ) );
then n in ( Seg ( len ( QuotOpSeq (U1,E) ) ) ) by FINSEQ_1:def 3;
then n in ( Seg ( len (the charact of U1) ) ) by CKB27:def 1;
then A8: n in ( dom (the charact of U1) ) by FINSEQ_1:def 3;
reconsider n as (Element of ( NAT )) by A7;
reconsider o = ( (the charact of U1) . n ) as (operation of U1) by A8,FUNCT_1:def 3;
( ( QuotOpSeq (U1,E) ) . n ) = ( QuotOp (o,E) ) by A7,CKB27:def 1;
hence thesis;
end;
then A9: (the charact of UU) is  non-empty by FUNCT_1:def 9;
(the charact of UU) <> ( {} )
proof
assume A10: (the charact of UU) = ( {} );
( len (the charact of UU) ) = ( len (the charact of U1) ) by CKB27:def 1;
hence contradiction by A10;
end;
hence thesis by A3,A6,A9,UNIALG_1:def 1,UNIALG_1:def 2,UNIALG_1:def 3;
end;
end;
