environ
vocabularies NUMBERS,XBOOLE_0,MESFUNC8,SEQFUNC,MESFUNC5,SUBSET_1,SUPINF_1,NAT_1,FUNCT_1,XXREAL_0,ORDINAL2,RELAT_1,ORDINAL1,XXREAL_2,RINFSUP1,ARYTM_3,PBOOLE,PARTFUN1,PROB_1,MEASURE1,CARD_1,SUPINF_2,MESFUNC1,VALUED_0,SEQ_2,ARYTM_1,TARSKI,REAL_1,INTEGRA5,VALUED_1,COMPLEX1,MEASURE6,RFUNCT_3,XREAL_0,MESFUNC2,MESFUN10;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,REAL_1,XXREAL_0,XXREAL_2,RELAT_1,FUNCT_1,RELSET_1,DOMAIN_1,NAT_1,VALUED_0,FUNCT_2,PARTFUN1,PROB_1,SUPINF_1,SUPINF_2,MEASURE1,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,SEQFUNC,MESFUNC5,MESFUNC8,RINFSUP2;
definitions MESFUNC1,MEASURE6,RINFSUP2,XXREAL_3,MEMBER_1;
theorems TARSKI,PARTFUN1,FUNCT_1,SUPINF_2,EXTREAL1,EXTREAL2,MESFUNC1,XREAL_0,XBOOLE_0,XBOOLE_1,MESFUNC2,XREAL_1,XXREAL_0,MESFUNC5,NAT_1,RELAT_1,FUNCT_2,SEQFUNC,ORDINAL1,MESFUNC8,RINFSUP2,MESFUNC7,MESFUNC9,NUMBERS,XXREAL_2,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15,CKB16;
schemes FUNCT_2,SEQFUNC,FUNCT_1;
registrations NAT_1,XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,RELAT_1,XBOOLE_0,SUPINF_2,NUMBERS,XXREAL_0,MESFUNC8,RINFSUP2,VALUED_0,MEMBER_1,RELSET_1,FUNCT_2;
constructors REAL_1,DOMAIN_1,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,MESFUNC5,RINFSUP2,EXTREAL2,MESFUNC9,SUPINF_1,MESFUNC8,SEQFUNC,RELSET_1,BINOP_2;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for non  empty set;
reserve F for  with_the_same_dom (Functional_Sequence of X,( ExtREAL ));
reserve x for (Element of X);
reserve n for Nat;
reserve m for Nat;
reserve k for Nat;
reserve S for (SigmaField of X);
reserve M for (sigma_Measure of S);
reserve E for (Element of S);
reserve P for (PartFunc of X,( ExtREAL ));
theorem
Lm1: (((((((E = ( dom ( F . ( 0 ) ) ) & E = ( dom P )) & (for n being Nat holds ( F . n ) is_measurable_on E)) & P is_integrable_on M) & P is  nonnegative) & (for x being (Element of X) holds (for n being Nat holds (x in E implies ( |. ( F . n ) .| . x ) <= ( P . x ))))) & ( eq_dom (P,( +infty )) ) = ( {} )) implies (ex I being ExtREAL_sequence st ((((for n being Nat holds ( I . n ) = ( Integral (M,( F . n )) )) & ( lim_inf I ) >= ( Integral (M,( lim_inf F )) )) & ( lim_sup I ) <= ( Integral (M,( lim_sup F )) )) & ((for x being (Element of X) holds (x in E implies ( F # x ) is  convergent)) implies (I is  convergent & ( lim I ) = ( Integral (M,( lim F )) ))))))
proof
assume that
A1: E = ( dom ( F . ( 0 ) ) )
and
A2: E = ( dom P )
and
A3: (for n being Nat holds ( F . n ) is_measurable_on E)
and
A4: P is_integrable_on M
and
A5: P is  nonnegative
and
A6: (for x being (Element of X) holds (for n being Nat holds (x in E implies ( |. ( F . n ) .| . x ) <= ( P . x ))))
and
A7: ( eq_dom (P,( +infty )) ) = ( {} );
A8: E = ( dom ( lim_inf F ) ) by A1,MESFUNC8:def 7;
then A9: ( ( lim_inf F ) | E ) = ( lim_inf F ) by RELAT_1:68;
deffunc G((Element of ( NAT ))) = ( P + ( F . $1 ) );
consider G being Function such that A10: (( dom G ) = ( NAT ) & (for n being (Element of ( NAT )) holds ( G . n ) = G(n))) from FUNCT_1:sch 4;
A11: (for x being (Element of X) holds (for k being Nat holds (x in E implies (( - ( P . x ) ) <= ( ( F # x ) . k ) & ( ( F # x ) . k ) <= ( P . x )))))
proof
let x being (Element of X);
let k being Nat;
assume A12: x in E;
then x in ( dom ( F . k ) ) by A1,MESFUNC8:def 2;
then A13: x in ( dom |. ( F . k ) .| ) by MESFUNC1:def 10;
( |. ( F . k ) .| . x ) <= ( P . x ) by A6,A12;
then A14: |. ( ( F . k ) . x ) .| <= ( P . x ) by A13,MESFUNC1:def 10;
then A15: ( ( F . k ) . x ) <= ( P . x ) by EXTREAL2:12;
( - ( P . x ) ) <= ( ( F . k ) . x ) by A14,EXTREAL2:12;
hence thesis by A15,MESFUNC5:def 13;
end;
A16:now
let x being (Element of X);
assume A17: x in ( dom ( lim_inf F ) );
now
let k being Nat;
k is (Element of ( NAT )) by ORDINAL1:def 12;
then A18: ( ( inferior_realsequence ( F # x ) ) . k ) <= ( ( F # x ) . k ) by RINFSUP2:8;
( ( F # x ) . k ) <= ( P . x ) by A8,A11,A17;
hence ( ( inferior_realsequence ( F # x ) ) . k ) <= ( P . x ) by A18,XXREAL_0:2;
end;
then ( lim_inf ( F # x ) ) <= ( P . x ) by CKB5:1;
then A19: ( ( lim_inf F ) . x ) <= ( P . x ) by A17,MESFUNC8:def 7;
now
let y being  ext-real number;
assume y in ( rng ( F # x ) );
then (ex k being set st (k in ( dom ( F # x ) ) & y = ( ( F # x ) . k ))) by FUNCT_1:def 3;
hence ( - ( P . x ) ) <= y by A8,A11,A17;
end;
then ( - ( P . x ) ) is (LowerBound of ( rng ( F # x ) )) by XXREAL_2:def 2;
then ( - ( P . x ) ) <= ( inf ( rng ( F # x ) ) ) by XXREAL_2:def 4;
then ( - ( P . x ) ) <= ( inf ( ( F # x ) ^\ ( 0 ) ) ) by NAT_1:47;
then A20: ( - ( P . x ) ) <= ( ( inferior_realsequence ( F # x ) ) . ( 0 ) ) by RINFSUP2:27;
( ( inferior_realsequence ( F # x ) ) . ( 0 ) ) <= ( sup ( inferior_realsequence ( F # x ) ) ) by RINFSUP2:23;
then ( - ( P . x ) ) <= ( lim_inf ( F # x ) ) by A20,XXREAL_0:2;
then ( - ( P . x ) ) <= ( ( lim_inf F ) . x ) by A17,MESFUNC8:def 7;
hence |. ( ( lim_inf F ) . x ) .| <= ( P . x ) by A19,EXTREAL2:12;
end;
( lim_inf F ) is_measurable_on E by A1,A3,MESFUNC8:24;
then ( lim_inf F ) is_integrable_on M by A2,A4,A8,A16,MESFUNC5:102;
then A21: (ex E3 being (Element of S) st (E3 = ( ( dom P ) /\ ( dom ( lim_inf F ) ) ) & ( Integral (M,( P + ( lim_inf F ) )) ) = ( ( Integral (M,( P | E3 )) ) + ( Integral (M,( ( lim_inf F ) | E3 )) ) ))) by A4,MESFUNC5:109;
A22: ( P | E ) = P by A2,RELAT_1:68;
A23: ( Integral (M,P) ) < ( +infty ) by A4,MESFUNC5:96;
( -infty ) < ( Integral (M,P) ) by A4,MESFUNC5:96;
then A24: ( Integral (M,P) ) is Real by A23,XXREAL_0:14;
now
let x being set;
assume x in ( P " { ( -infty ) } );
then A25: ( P . x ) in { ( -infty ) } by FUNCT_1:def 7;
( 0 ) <= ( P . x ) by A5,SUPINF_2:51;
hence contradiction by A25,TARSKI:def 1;
end;
then A26: ( P " { ( -infty ) } ) = ( {} ) by XBOOLE_0:def 1;
A27:now
let n being (Element of ( NAT ));
( G . n ) = ( P + ( F . n ) ) by A10;
hence ( G . n ) is (PartFunc of X,( ExtREAL ));
end;
A28:now
let n being Nat;
n is (Element of ( NAT )) by ORDINAL1:def 12;
hence ( G . n ) = ( P + ( F . n ) ) by A10;
end;
reconsider G as (Functional_Sequence of X,( ExtREAL )) by A10,A27,SEQFUNC:1;
A29: ( P " { ( +infty ) } ) = ( {} ) by A7,MESFUNC5:30;
A30: (for n being Nat holds ( dom ( G . n ) ) = E)
proof
let n being  natural number;
( dom ( G . n ) ) = ( dom ( P + ( F . n ) ) ) by A28;
then A31: ( dom ( G . n ) ) = ( ( ( dom P ) /\ ( dom ( F . n ) ) ) \ ( ( ( P " { ( -infty ) } ) /\ ( ( F . n ) " { ( +infty ) } ) ) \/ ( ( P " { ( +infty ) } ) /\ ( ( F . n ) " { ( -infty ) } ) ) ) ) by MESFUNC1:def 3;
( dom ( F . n ) ) = E by A1,MESFUNC8:def 2;
hence thesis by A2,A29,A26,A31;
end;
A32:now
let n being  natural number;
let m being  natural number;
thus ( dom ( G . n ) ) = E by A30
.= ( dom ( G . m ) ) by A30;
end;
deffunc H((Element of ( NAT ))) = ( P - ( F . $1 ) );
consider H being Function such that A33: (( dom H ) = ( NAT ) & (for n being (Element of ( NAT )) holds ( H . n ) = H(n))) from FUNCT_1:sch 4;
reconsider G as  with_the_same_dom (Functional_Sequence of X,( ExtREAL )) by A32,MESFUNC8:def 2;
A34: ( dom ( G . ( 0 ) ) ) = ( dom ( F . ( 0 ) ) ) by A1,A30;
A35: (for n being Nat holds ( F . n ) is_integrable_on M)
proof
let n being Nat;
A36: E = ( dom ( F . n ) ) by A1,MESFUNC8:def 2;
A37:now
let x being (Element of X);
assume A38: x in ( dom ( F . n ) );
then A39: x in ( dom |. ( F . n ) .| ) by MESFUNC1:def 10;
( |. ( F . n ) .| . x ) <= ( P . x ) by A6,A36,A38;
hence |. ( ( F . n ) . x ) .| <= ( P . x ) by A39,MESFUNC1:def 10;
end;
( F . n ) is_measurable_on E by A3;
hence thesis by A2,A4,A36,A37,MESFUNC5:102;
end;
A40:now
let n being Nat;
A41: ( G . n ) = ( P + ( F . n ) ) by A28;
now
let x being set;
assume A42: x in ( dom ( P + ( F . n ) ) );
then reconsider x1 = x as (Element of X);
x in E by A30,A41,A42;
then ( - ( P . x ) ) <= ( ( F # x1 ) . n ) by A11;
then A43: ( - ( P . x ) ) <= ( ( F . n ) . x ) by MESFUNC5:def 13;
( ( - ( P . x ) ) + ( P . x ) ) = ( 0 ) by XXREAL_3:7;
then ( 0 ) <= ( ( ( F . n ) . x ) + ( P . x ) ) by A43,XXREAL_3:36;
hence ( 0 ) <= ( ( P + ( F . n ) ) . x ) by A42,MESFUNC1:def 3;
end;
hence ( G . n ) is  nonnegative by A41,SUPINF_2:52;
( F . n ) is_integrable_on M by A35;
then ( G . n ) is_integrable_on M by A4,A41,MESFUNC5:108;
then (ex E1 being (Element of S) st (E1 = ( dom ( G . n ) ) & ( G . n ) is_measurable_on E1)) by MESFUNC5:def 17;
hence ( G . n ) is_measurable_on E by A30;
end;
E = ( dom ( G . ( 0 ) ) ) by A30;
then consider IG being ExtREAL_sequence such that A44: (for n being Nat holds ( IG . n ) = ( Integral (M,( G . n )) )) and A45: ( Integral (M,( lim_inf G )) ) <= ( lim_inf IG ) by A40,CKB7:1;
A46: ( Integral (M,P) ) < ( +infty ) by A4,MESFUNC5:96;
deffunc I((Element of ( NAT ))) = ( Integral (M,( F . $1 )) );
consider I being (Function of ( NAT ),( ExtREAL )) such that A47: (for n being (Element of ( NAT )) holds ( I . n ) = I(n)) from FUNCT_2:sch 4;
reconsider I as ExtREAL_sequence;
A48: ( -infty ) < ( Integral (M,P) ) by A4,MESFUNC5:96;
A49: (for n being Nat holds (( I . n ) = ( Integral (M,( F . n )) ) & ( I . n ) is Real))
proof
let n being Nat;
n is (Element of ( NAT )) by ORDINAL1:def 12;
then A50: ( I . n ) = ( Integral (M,( F . n )) ) by A47;
A51: ( F . n ) is_integrable_on M by A35;
then A52: ( Integral (M,( F . n )) ) < ( +infty ) by MESFUNC5:96;
( -infty ) < ( Integral (M,( F . n )) ) by A51,MESFUNC5:96;
hence thesis by A50,A52,XXREAL_0:14;
end;
now
let n being Nat;
A53: ( G . n ) = ( P + ( F . n ) ) by A28;
( F . n ) is_integrable_on M by A35;
then A54: (ex E2 being (Element of S) st (E2 = ( ( dom P ) /\ ( dom ( F . n ) ) ) & ( Integral (M,( G . n )) ) = ( ( Integral (M,( P | E2 )) ) + ( Integral (M,( ( F . n ) | E2 )) ) ))) by A4,A53,MESFUNC5:109;
A55: ( P | E ) = P by A2,RELAT_1:68;
A56: ( dom ( F . n ) ) = E by A1,MESFUNC8:def 2;
then ( ( F . n ) | E ) = ( F . n ) by RELAT_1:68;
then ( Integral (M,( G . n )) ) = ( ( Integral (M,P) ) + ( I . n ) ) by A2,A49,A54,A56,A55;
hence ( IG . n ) = ( ( Integral (M,P) ) + ( I . n ) ) by A44;
end;
then ( lim_inf IG ) = ( ( Integral (M,P) ) + ( lim_inf I ) ) by A24,CKB10:1;
then ( ( Integral (M,P) ) + ( Integral (M,( lim_inf F )) ) ) <= ( ( Integral (M,P) ) + ( lim_inf I ) ) by A2,A8,A28,A29,A26,A45,A21,A22,A9,A34,CKB11:1;
then ( Integral (M,( lim_inf F )) ) <= ( ( ( lim_inf I ) + ( Integral (M,P) ) ) - ( Integral (M,P) ) ) by A48,A46,XXREAL_3:56;
then ( Integral (M,( lim_inf F )) ) <= ( ( lim_inf I ) + ( ( Integral (M,P) ) - ( Integral (M,P) ) ) ) by A48,A46,XXREAL_3:30;
then ( Integral (M,( lim_inf F )) ) <= ( ( lim_inf I ) + ( 0. ) ) by XXREAL_3:7;
then A57: ( Integral (M,( lim_inf F )) ) <= ( lim_inf I ) by XXREAL_3:4;
A58:now
let n being (Element of ( NAT ));
( H . n ) = ( P - ( F . n ) ) by A33;
hence ( H . n ) is (PartFunc of X,( ExtREAL ));
end;
A59:now
let n being Nat;
n is (Element of ( NAT )) by ORDINAL1:def 12;
hence ( H . n ) = ( P - ( F . n ) ) by A33;
end;
A60: E = ( dom ( lim_sup F ) ) by A1,MESFUNC8:def 8;
A61:now
let x being (Element of X);
assume A62: x in ( dom ( lim_sup F ) );
(for k being Nat holds ( ( superior_realsequence ( F # x ) ) . k ) >= ( - ( P . x ) ))
proof
let k being Nat;
k is (Element of ( NAT )) by ORDINAL1:def 12;
then A63: ( ( superior_realsequence ( F # x ) ) . k ) >= ( ( F # x ) . k ) by RINFSUP2:8;
( ( F # x ) . k ) >= ( - ( P . x ) ) by A60,A11,A62;
hence thesis by A63,XXREAL_0:2;
end;
then ( lim_sup ( F # x ) ) >= ( - ( P . x ) ) by CKB4:1;
then A64: ( ( lim_sup F ) . x ) >= ( - ( P . x ) ) by A62,MESFUNC8:def 8;
now
let y being  ext-real number;
assume y in ( rng ( F # x ) );
then (ex k being set st (k in ( dom ( F # x ) ) & y = ( ( F # x ) . k ))) by FUNCT_1:def 3;
hence ( P . x ) >= y by A60,A11,A62;
end;
then ( P . x ) is (UpperBound of ( rng ( F # x ) )) by XXREAL_2:def 1;
then ( P . x ) >= ( sup ( rng ( F # x ) ) ) by XXREAL_2:def 3;
then ( P . x ) >= ( sup ( ( F # x ) ^\ ( 0 ) ) ) by NAT_1:47;
then A65: ( P . x ) >= ( ( superior_realsequence ( F # x ) ) . ( 0 ) ) by RINFSUP2:27;
( ( superior_realsequence ( F # x ) ) . ( 0 ) ) >= ( inf ( superior_realsequence ( F # x ) ) ) by RINFSUP2:23;
then ( P . x ) >= ( lim_sup ( F # x ) ) by A65,XXREAL_0:2;
then ( P . x ) >= ( ( lim_sup F ) . x ) by A62,MESFUNC8:def 8;
hence |. ( ( lim_sup F ) . x ) .| <= ( P . x ) by A64,EXTREAL2:12;
end;
( lim_sup F ) is_measurable_on E by A1,A3,MESFUNC8:23;
then A66: ( lim_sup F ) is_integrable_on M by A2,A4,A60,A61,MESFUNC5:102;
then A67: (ex E6 being (Element of S) st (E6 = ( ( dom P ) /\ ( dom ( lim_sup F ) ) ) & ( Integral (M,( P - ( lim_sup F ) )) ) = ( ( Integral (M,( P | E6 )) ) + ( Integral (M,( ( - ( lim_sup F ) ) | E6 )) ) ))) by A4,CKB13:1;
set E1 = ( Integral (M,( lim_sup F )) );
A68: E1 < ( +infty ) by A66,MESFUNC5:96;
( -infty ) < E1 by A66,MESFUNC5:96;
then reconsider e1 = E1 as Real by A68,XXREAL_0:14;
A69: ( - E1 ) = ( - e1 ) by SUPINF_2:2;
A70: ( P | E ) = P by A2,RELAT_1:68;
deffunc F1((Element of ( NAT ))) = ( - ( F . $1 ) );
consider F1 being Function such that A71: (( dom F1 ) = ( NAT ) & (for n being (Element of ( NAT )) holds ( F1 . n ) = F1(n))) from FUNCT_1:sch 4;
reconsider H as (Functional_Sequence of X,( ExtREAL )) by A33,A58,SEQFUNC:1;
A72:now
let n being  natural number;
A73: ( dom ( H . n ) ) = ( dom ( P - ( F . n ) ) ) by A59;
( dom ( F . n ) ) = E by A1,MESFUNC8:def 2;
then ( dom ( H . n ) ) = ( ( E /\ E ) \ ( ( ( {} ) /\ ( ( F . n ) " { ( +infty ) } ) ) \/ ( ( {} ) /\ ( ( F . n ) " { ( -infty ) } ) ) ) ) by A2,A29,A26,A73,MESFUNC1:def 4;
hence ( dom ( H . n ) ) = E;
end;
now
let n being  natural number;
let m being  natural number;
thus ( dom ( H . n ) ) = E by A72
.= ( dom ( H . m ) ) by A72;
end;
then reconsider H as  with_the_same_dom (Functional_Sequence of X,( ExtREAL )) by MESFUNC8:def 2;
A74: ( -infty ) < ( Integral (M,P) ) by A4,MESFUNC5:96;
A75:now
let n being Nat;
A76: ( H . n ) = ( P - ( F . n ) ) by A59;
now
let x being (Element of X);
assume x in ( dom ( F . n ) );
then x in E by A1,MESFUNC8:def 2;
then ( ( F # x ) . n ) <= ( P . x ) by A11;
hence ( ( F . n ) . x ) <= ( P . x ) by MESFUNC5:def 13;
end;
hence ( H . n ) is  nonnegative by A76,MESFUNC7:1;
( F . n ) is_integrable_on M by A35;
then ( H . n ) is_integrable_on M by A4,A76,CKB12:1;
then (ex E4 being (Element of S) st (E4 = ( dom ( H . n ) ) & ( H . n ) is_measurable_on E4)) by MESFUNC5:def 17;
hence ( H . n ) is_measurable_on E by A72;
end;
E = ( dom ( H . ( 0 ) ) ) by A72;
then consider IH being ExtREAL_sequence such that A77: (for n being Nat holds ( IH . n ) = ( Integral (M,( H . n )) )) and A78: ( Integral (M,( lim_inf H )) ) <= ( lim_inf IH ) by A75,CKB7:1;
A79: ( Integral (M,P) ) < ( +infty ) by A4,MESFUNC5:96;
now
let n being (Element of ( NAT ));
( F1 . n ) = ( - ( F . n ) ) by A71;
hence ( F1 . n ) is (PartFunc of X,( ExtREAL ));
end;
then reconsider F1 as (Functional_Sequence of X,( ExtREAL )) by A71,SEQFUNC:1;
A80:now
let n being Nat;
n is (Element of ( NAT )) by ORDINAL1:def 12;
hence ( F1 . n ) = ( - ( F . n ) ) by A71;
end;
now
let n being  natural number;
let m being  natural number;
( F1 . m ) = ( - ( F . m ) ) by A80;
then A81: ( dom ( F1 . m ) ) = ( dom ( F . m ) ) by MESFUNC1:def 7;
( F1 . n ) = ( - ( F . n ) ) by A80;
then ( dom ( F1 . n ) ) = ( dom ( F . n ) ) by MESFUNC1:def 7;
hence ( dom ( F1 . n ) ) = ( dom ( F1 . m ) ) by A81,MESFUNC8:def 2;
end;
then reconsider F1 as  with_the_same_dom (Functional_Sequence of X,( ExtREAL )) by MESFUNC8:def 2;
A82: ( Integral (M,( - ( lim_sup F ) )) ) = ( Integral (M,( ( - 1 ) (#) ( lim_sup F ) )) ) by MESFUNC2:9;
A83:now
let n being Nat;
( H . n ) = ( P - ( F . n ) ) by A59;
then ( H . n ) = ( P + ( - ( F . n ) ) ) by MESFUNC2:8;
hence ( H . n ) = ( P + ( F1 . n ) ) by A80;
end;
( F1 . ( 0 ) ) = ( - ( F . ( 0 ) ) ) by A80;
then A84: ( dom ( F1 . ( 0 ) ) ) = ( dom ( F . ( 0 ) ) ) by MESFUNC1:def 7;
then ( dom ( F1 . ( 0 ) ) ) = ( dom ( H . ( 0 ) ) ) by A1,A72;
then ( lim_inf H ) = ( P + ( lim_inf F1 ) ) by A29,A26,A83,CKB11:1;
then ( lim_inf H ) = ( P + ( - ( lim_sup F ) ) ) by A80,A84,CKB15:1;
then A85: ( lim_inf H ) = ( P - ( lim_sup F ) ) by MESFUNC2:8;
E = ( dom ( lim_sup F ) ) by A1,MESFUNC8:def 8;
then E = ( dom ( - ( lim_sup F ) ) ) by MESFUNC1:def 7;
then A86: ( ( - ( lim_sup F ) ) | E ) = ( - ( lim_sup F ) ) by RELAT_1:68;
deffunc I1((Element of ( NAT ))) = ( - ( I . $1 ) );
consider I1 being (Function of ( NAT ),( ExtREAL )) such that A87: (for n being (Element of ( NAT )) holds ( I1 . n ) = I1(n)) from FUNCT_2:sch 4;
reconsider I1 as ExtREAL_sequence;
A88:now
let n being Nat;
n is (Element of ( NAT )) by ORDINAL1:def 12;
hence ( I1 . n ) = ( - ( I . n ) ) by A87;
end;
then A89: ( - ( lim_inf I1 ) ) = ( lim_sup I ) by CKB14:1;
now
let n being Nat;
A90: ( F . n ) is_integrable_on M by A35;
( Integral (M,( - ( F . n ) )) ) = ( Integral (M,( ( - 1 ) (#) ( F . n ) )) ) by MESFUNC2:9;
then A91: ( Integral (M,( - ( F . n ) )) ) = ( ( R_EAL ( - 1 ) ) * ( Integral (M,( F . n )) ) ) by A90,MESFUNC5:110;
A92: ( dom ( F . n ) ) = E by A1,MESFUNC8:def 2;
then E = ( dom ( - ( F . n ) ) ) by MESFUNC1:def 7;
then A93: ( ( - ( F . n ) ) | E ) = ( - ( F . n ) ) by RELAT_1:68;
( H . n ) = ( P - ( F . n ) ) by A59;
then A94: (ex E5 being (Element of S) st (E5 = ( ( dom P ) /\ ( dom ( F . n ) ) ) & ( Integral (M,( H . n )) ) = ( ( Integral (M,( P | E5 )) ) + ( Integral (M,( ( - ( F . n ) ) | E5 )) ) ))) by A4,A90,CKB13:1;
reconsider In = ( I . n ) as Real by A49;
A95: ( ( R_EAL ( - 1 ) ) * ( I . n ) ) = ( ( - 1 ) * In ) by EXTREAL1:1;
A96: ( - ( I . n ) ) = ( - In ) by SUPINF_2:2;
( P | E ) = P by A2,RELAT_1:68;
then ( Integral (M,( H . n )) ) = ( ( Integral (M,P) ) + ( - ( I . n ) ) ) by A2,A49,A94,A92,A93,A91,A95,A96;
then ( IH . n ) = ( ( Integral (M,P) ) + ( - ( I . n ) ) ) by A77;
hence ( IH . n ) = ( ( Integral (M,P) ) + ( I1 . n ) ) by A88;
end;
then ( lim_inf IH ) = ( ( Integral (M,P) ) + ( lim_inf I1 ) ) by A24,CKB10:1;
then ( ( Integral (M,P) ) + ( ( R_EAL ( - 1 ) ) * ( Integral (M,( lim_sup F )) ) ) ) <= ( ( Integral (M,P) ) + ( - ( lim_sup I ) ) ) by A2,A60,A78,A89,A85,A66,A67,A70,A86,A82,MESFUNC5:110;
then ( ( R_EAL ( - 1 ) ) * ( Integral (M,( lim_sup F )) ) ) <= ( ( ( - ( lim_sup I ) ) + ( Integral (M,P) ) ) - ( Integral (M,P) ) ) by A74,A79,XXREAL_3:56;
then ( ( R_EAL ( - 1 ) ) * ( Integral (M,( lim_sup F )) ) ) <= ( ( - ( lim_sup I ) ) + ( ( Integral (M,P) ) - ( Integral (M,P) ) ) ) by A74,A79,XXREAL_3:30;
then A97: ( ( R_EAL ( - 1 ) ) * ( Integral (M,( lim_sup F )) ) ) <= ( ( - ( lim_sup I ) ) + ( 0. ) ) by XXREAL_3:7;
( ( R_EAL ( - 1 ) ) * E1 ) = ( ( - 1 ) * e1 ) by EXTREAL1:1;
then ( - ( Integral (M,( lim_sup F )) ) ) <= ( - ( lim_sup I ) ) by A97,A69,XXREAL_3:4;
then A98: ( Integral (M,( lim_sup F )) ) >= ( lim_sup I ) by XXREAL_3:38;
now
A99: ( lim_inf I ) <= ( lim_sup I ) by RINFSUP2:39;
A100: ( dom ( lim F ) ) = ( dom ( F . ( 0 ) ) ) by MESFUNC8:def 9;
assume A101: (for x being (Element of X) holds (x in E implies ( F # x ) is  convergent));
A102: (for x being (Element of X) holds (x in ( dom ( lim F ) ) implies ( ( lim F ) . x ) = ( ( lim_inf F ) . x )))
proof
let x being (Element of X);
assume A103: x in ( dom ( lim F ) );
then ( F # x ) is  convergent by A1,A101,A100;
hence thesis by A103,MESFUNC8:14;
end;
A104: (for x being (Element of X) holds (x in ( dom ( lim F ) ) implies ( ( lim F ) . x ) = ( ( lim_sup F ) . x )))
proof
let x being (Element of X);
assume A105: x in ( dom ( lim F ) );
then ( F # x ) is  convergent by A1,A101,A100;
hence thesis by A105,MESFUNC8:14;
end;
A106: ( dom ( lim F ) ) = ( dom ( lim_sup F ) ) by A100,MESFUNC8:def 8;
then A107: ( lim F ) = ( lim_sup F ) by A104,PARTFUN1:5;
A108: ( dom ( lim F ) ) = ( dom ( lim_inf F ) ) by A100,MESFUNC8:def 7;
then ( Integral (M,( lim F )) ) <= ( lim_inf I ) by A57,A102,PARTFUN1:5;
then ( lim_sup I ) <= ( lim_inf I ) by A98,A107,XXREAL_0:2;
then ( lim_inf I ) = ( lim_sup I ) by A99,XXREAL_0:1;
hence A109: I is  convergent by RINFSUP2:40;
then ( lim I ) = ( lim_sup I ) by RINFSUP2:41;
then A110: ( lim I ) <= ( Integral (M,( lim F )) ) by A98,A106,A104,PARTFUN1:5;
( lim I ) = ( lim_inf I ) by A109,RINFSUP2:41;
then ( Integral (M,( lim F )) ) <= ( lim I ) by A57,A108,A102,PARTFUN1:5;
hence ( lim I ) = ( Integral (M,( lim F )) ) by A110,XXREAL_0:1;
end;
hence thesis by A49,A57,A98;
end;
