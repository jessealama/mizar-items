environ
vocabularies NUMBERS,XBOOLE_0,MESFUNC8,SEQFUNC,MESFUNC5,SUBSET_1,SUPINF_1,NAT_1,FUNCT_1,XXREAL_0,ORDINAL2,RELAT_1,ORDINAL1,XXREAL_2,RINFSUP1,ARYTM_3,PBOOLE,PARTFUN1,PROB_1,MEASURE1,CARD_1,SUPINF_2,MESFUNC1,VALUED_0,SEQ_2,ARYTM_1,TARSKI,REAL_1,INTEGRA5,VALUED_1,COMPLEX1,MEASURE6,RFUNCT_3,XREAL_0,MESFUNC2,MESFUN10;
notations TARSKI,XBOOLE_0,SUBSET_1,ORDINAL1,NUMBERS,XCMPLX_0,XREAL_0,REAL_1,XXREAL_0,XXREAL_2,RELAT_1,FUNCT_1,RELSET_1,DOMAIN_1,NAT_1,VALUED_0,FUNCT_2,PARTFUN1,PROB_1,SUPINF_1,SUPINF_2,MEASURE1,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,SEQFUNC,MESFUNC5,MESFUNC8,RINFSUP2;
definitions MESFUNC1,MEASURE6,RINFSUP2,XXREAL_3,MEMBER_1;
theorems TARSKI,PARTFUN1,FUNCT_1,SUPINF_2,EXTREAL1,EXTREAL2,MESFUNC1,XREAL_0,XBOOLE_0,XBOOLE_1,MESFUNC2,XREAL_1,XXREAL_0,MESFUNC5,NAT_1,RELAT_1,FUNCT_2,SEQFUNC,ORDINAL1,MESFUNC8,RINFSUP2,MESFUNC7,MESFUNC9,NUMBERS,XXREAL_2,XXREAL_3,CKB1,CKB2,CKB3,CKB4,CKB5,CKB6,CKB7,CKB8,CKB9,CKB10,CKB11,CKB12,CKB13,CKB14,CKB15;
schemes FUNCT_2,SEQFUNC,FUNCT_1;
registrations NAT_1,XREAL_0,MEMBERED,ORDINAL1,PARTFUN1,RELAT_1,XBOOLE_0,SUPINF_2,NUMBERS,XXREAL_0,MESFUNC8,RINFSUP2,VALUED_0,MEMBER_1,RELSET_1,FUNCT_2;
constructors REAL_1,DOMAIN_1,EXTREAL1,MESFUNC1,MEASURE6,MESFUNC2,MESFUNC5,RINFSUP2,EXTREAL2,MESFUNC9,SUPINF_1,MESFUNC8,SEQFUNC,RELSET_1,BINOP_2;
requirements NUMERALS,REAL,BOOLE,SUBSET,ARITHM;
begin
reserve X for non empty set;
reserve F for  with_the_same_dom (Functional_Sequence of X,( ExtREAL ));
reserve S for (SigmaField of X);
reserve M for (sigma_Measure of S);
reserve E for (Element of S);
reserve P for (PartFunc of X,( ExtREAL ));
theorem
Th17: (((((E = ( dom ( F . ( 0 ) ) ) & E = ( dom P )) & (for n being Nat holds ( F . n ) is_measurable_on E)) & P is_integrable_on M) & (for x being (Element of X) holds (for n being Nat holds (x in E implies ( |. ( F . n ) .| . x ) <= ( P . x ))))) implies (((for n being Nat holds |. ( F . n ) .| is_integrable_on M) & |. ( lim_inf F ) .| is_integrable_on M) & |. ( lim_sup F ) .| is_integrable_on M))
proof
assume that
A1: E = ( dom ( F . ( 0 ) ) )
and
A2: E = ( dom P )
and
A3: (for n being Nat holds ( F . n ) is_measurable_on E)
and
A4: P is_integrable_on M
and
A5: (for x being (Element of X) holds (for n being Nat holds (x in E implies ( |. ( F . n ) .| . x ) <= ( P . x ))));
A6: ( lim_inf F ) is_measurable_on E by A1,A3,MESFUNC8:24;
hereby
let n being Nat;
A7: ( F . n ) is_measurable_on E by A3;
A8: E = ( dom ( F . n ) ) by A1,MESFUNC8:def 2;
now
let x being (Element of X);
assume A9: x in ( dom ( F . n ) );
then A10: x in ( dom |. ( F . n ) .| ) by MESFUNC1:def 10;
( |. ( F . n ) .| . x ) <= ( P . x ) by A5,A8,A9;
hence |. ( ( F . n ) . x ) .| <= ( P . x ) by A10,MESFUNC1:def 10;
end;
then ( F . n ) is_integrable_on M by A2,A4,A8,A7,MESFUNC5:102;
hence |. ( F . n ) .| is_integrable_on M by A8,A7,MESFUNC5:100;
end;
A11: E = ( dom ( lim_inf F ) ) by A1,MESFUNC8:def 7;
A12: ( lim_sup F ) is_measurable_on E by A1,A3,MESFUNC8:23;
A13: (for x being (Element of X) holds (for k being Nat holds (x in E implies (( - ( P . x ) ) <= ( ( F # x ) . k ) & ( ( F # x ) . k ) <= ( P . x )))))
proof
let x being (Element of X);
let k being Nat;
assume A14: x in E;
then x in ( dom ( F . k ) ) by A1,MESFUNC8:def 2;
then A15: x in ( dom |. ( F . k ) .| ) by MESFUNC1:def 10;
( |. ( F . k ) .| . x ) <= ( P . x ) by A5,A14;
then A16: |. ( ( F . k ) . x ) .| <= ( P . x ) by A15,MESFUNC1:def 10;
then A17: ( ( F . k ) . x ) <= ( P . x ) by EXTREAL2:12;
( - ( P . x ) ) <= ( ( F . k ) . x ) by A16,EXTREAL2:12;
hence thesis by A17,MESFUNC5:def 13;
end;
now
let x being (Element of X);
assume A18: x in ( dom ( lim_inf F ) );
then A19: x in E by A1,MESFUNC8:def 7;
(for k being Nat holds ( ( inferior_realsequence ( F # x ) ) . k ) <= ( P . x ))
proof
let k being Nat;
reconsider k1 = k as (Element of ( NAT )) by ORDINAL1:def 12;
A20: ( ( inferior_realsequence ( F # x ) ) . k1 ) <= ( ( F # x ) . k1 ) by RINFSUP2:8;
( ( F # x ) . k ) <= ( P . x ) by A13,A19;
hence thesis by A20,XXREAL_0:2;
end;
then ( lim_inf ( F # x ) ) <= ( P . x ) by CKB5:1;
then A21: ( ( lim_inf F ) . x ) <= ( P . x ) by A18,MESFUNC8:def 7;
now
let y being  ext-real number;
assume y in ( rng ( F # x ) );
then (ex k being set st (k in ( dom ( F # x ) ) & y = ( ( F # x ) . k ))) by FUNCT_1:def 3;
hence ( - ( P . x ) ) <= y by A13,A19;
end;
then ( - ( P . x ) ) is (LowerBound of ( rng ( F # x ) )) by XXREAL_2:def 2;
then ( - ( P . x ) ) <= ( inf ( F # x ) ) by XXREAL_2:def 4;
then ( - ( P . x ) ) <= ( inf ( ( F # x ) ^\ ( 0 ) ) ) by NAT_1:47;
then A22: ( - ( P . x ) ) <= ( ( inferior_realsequence ( F # x ) ) . ( 0 ) ) by RINFSUP2:27;
( ( inferior_realsequence ( F # x ) ) . ( 0 ) ) <= ( sup ( inferior_realsequence ( F # x ) ) ) by RINFSUP2:23;
then ( - ( P . x ) ) <= ( lim_inf ( F # x ) ) by A22,XXREAL_0:2;
then ( - ( P . x ) ) <= ( ( lim_inf F ) . x ) by A18,MESFUNC8:def 7;
hence |. ( ( lim_inf F ) . x ) .| <= ( P . x ) by A21,EXTREAL2:12;
end;
then ( lim_inf F ) is_integrable_on M by A2,A4,A11,A6,MESFUNC5:102;
hence |. ( lim_inf F ) .| is_integrable_on M by A11,A6,MESFUNC5:100;
A23: E = ( dom ( lim_sup F ) ) by A1,MESFUNC8:def 8;
now
let x being (Element of X);
assume A24: x in ( dom ( lim_sup F ) );
(for k being Nat holds ( ( superior_realsequence ( F # x ) ) . k ) >= ( - ( P . x ) ))
proof
let k being Nat;
reconsider k1 = k as (Element of ( NAT )) by ORDINAL1:def 12;
A25: ( ( superior_realsequence ( F # x ) ) . k1 ) >= ( ( F # x ) . k1 ) by RINFSUP2:8;
( ( F # x ) . k ) >= ( - ( P . x ) ) by A23,A13,A24;
hence thesis by A25,XXREAL_0:2;
end;
then ( lim_sup ( F # x ) ) >= ( - ( P . x ) ) by CKB4:1;
then A26: ( ( lim_sup F ) . x ) >= ( - ( P . x ) ) by A24,MESFUNC8:def 8;
now
let y being  ext-real number;
assume y in ( rng ( F # x ) );
then (ex k being set st (k in ( dom ( F # x ) ) & y = ( ( F # x ) . k ))) by FUNCT_1:def 3;
hence ( P . x ) >= y by A23,A13,A24;
end;
then ( P . x ) is (UpperBound of ( rng ( F # x ) )) by XXREAL_2:def 1;
then ( P . x ) >= ( sup ( rng ( F # x ) ) ) by XXREAL_2:def 3;
then ( P . x ) >= ( sup ( ( F # x ) ^\ ( 0 ) ) ) by NAT_1:47;
then A27: ( P . x ) >= ( ( superior_realsequence ( F # x ) ) . ( 0 ) ) by RINFSUP2:27;
( ( superior_realsequence ( F # x ) ) . ( 0 ) ) >= ( inf ( superior_realsequence ( F # x ) ) ) by RINFSUP2:23;
then ( P . x ) >= ( lim_sup ( F # x ) ) by A27,XXREAL_0:2;
then ( P . x ) >= ( ( lim_sup F ) . x ) by A24,MESFUNC8:def 8;
hence |. ( ( lim_sup F ) . x ) .| <= ( P . x ) by A26,EXTREAL2:12;
end;
then ( lim_sup F ) is_integrable_on M by A2,A4,A23,A12,MESFUNC5:102;
hence thesis by A23,A12,MESFUNC5:100;
end;
