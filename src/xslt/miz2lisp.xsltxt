stylesheet "1.0";
output method="text";

tpl [*] {
  $n = `name (.)`;
  "("; $n;
  for-each [@*] {
    $attr = `name (.)`;
    $val = `string (.)`;
    " "; ":"; $attr; " "; "\""; $val; "\"";
  }
  if [*] {
    "\n";
    apply [*];
  }
  ")"; "\n";
}

tpl [/] {
  if [Text-Proper] {
    apply [Text-Proper];
  } else {
    msg terminate="yes" "Error: the Text-Proper document element is missing.";
  }
}

tpl [Variables] {
  apply [*];
}